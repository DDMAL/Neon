!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=87)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=d(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function m(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,d=g(c,l);for(n=0;n<l;++n)o(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,o,s=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function d(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&u())}function u(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(d);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var f=-1,p=s.length;++f<p;)if(s[f]&&s[f].test&&s[f].test()){o=s[f].install(u);break}function m(e,t){this.fun=e,this.array=t}m.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),l||i||(l=!0,o())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(18),r=n(12),o=n(24),s=n(27),a=n(13),c=n(7);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function d(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():o.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function u(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSingleStaffActions(),o.initGroupingListeners(),t.dragInit())}function f(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function p(e,t,n=!0){if(e){if(e.classList.contains("staff"))return u(e,t);if(e.classList.contains("layer"))return f(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function m(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function h(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function g(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const o=e.closest(".syllable");o.style.fill="#d00",o.classList.add("syllable-highlighted"),o.querySelectorAll(".divLine").length&&(o.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),o.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,s.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}a.triggerBBoxActions()}t.getSelectionType=l,t.unselect=d,t.selectStaff=u,t.selectLayerElement=f,t.select=p,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(d(),p(i),await m(i,t)){const e=i.previousSibling;if(await m(e,t))p(e);else{const e=i.nextSibling;await m(e,t)?p(e):console.warn("Error: Neither prev or next nc are ligatures")}o.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=m,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=n.indexOf(t),s=n.indexOf(r);if(1!==Math.abs(o-s))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!h(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=h,t.sharedSecondLevelParent=g,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,o;return e.querySelectorAll("path").forEach(e=>{const s=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===o&&(o=Math.atan((s[3]-s[1])/(s[2]-s[0]))),(void 0===n||Math.min(s[1],s[3])<n)&&(n=Math.min(s[1],s[3])),(void 0===t||s[0]<t)&&(t=s[0]),(void 0===r||Math.max(s[1],s[3])>r)&&(r=Math.max(s[1],s[3])),(void 0===i||s[2]>i)&&(i=s[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:o}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{p(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(d(),0===e.length)return;let r,c=!1,u=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const f=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else u=u||!0;f.add(e);const n=e.getAttribute("mei:follows");n&&(document.querySelector("#"+n.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+n.slice(1))));const i=e.getAttribute("mei:precedes");i&&(document.querySelector("#"+i.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+i.slice(1))))}f.forEach(e=>p(e,n,!1));const m=Array.from(f.values());if(!c||u)switch(i){case"selByStaff":switch(m.length){case 1:a.triggerSingleStaffActions(),o.initGroupingListeners(),(0,s.resize)(m[0],t,n);break;default:a.triggerMultiStaffActions(),o.initGroupingListeners()}break;case"selByLayerElement":1===f.size?a.triggerLayerElementActions(m[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(m.length){case 1:a.triggerSyllableActions("singleSelect");break;case 2:o.isLinkable("selBySyllable",m)?a.triggerSyllableActions("linkableSelect"):o.isGroupable("selBySyllable",m)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default");break;default:o.isGroupable("selBySyllable",m)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(m.length){case 1:a.triggerNeumeActions(),o.initGroupingListeners();break;default:o.isGroupable("selByNeume",m)?o.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(m.length){case 1:a.triggerNcActions(m[0]);break;case 2:if(g(m)){if(m[0].parentElement===m[1].parentElement){const e=Array.from(m[0].parentElement.children);if(1===Math.abs(e.indexOf(m[0])-e.indexOf(m[1]))){let e=m[0].children[0],t=m[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,s=t.y.baseVal.value;if((n>i||n===i&&r<s)&&([e,t]=[t,e],[n,r,i,s]=[i,s,n,r]),n===i||r<s){o.triggerGrouping("ligature");break}}}o.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:g(m)?o.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(m.length){case 1:v(m[0],n,t),a.triggerBBoxActions();break;default:m.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===f.size?a.triggerLayerElementActions(m[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,circleSize:25,highlightMode:"none",userMode:"edit",insertMode:"punctum",insertTab:"primitiveTab",selectionMode:"selBySyllable",displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(26),r=n(16),o=new Array(0);let s=null;const a={default:"",warning:"âš ï¸ ",error:"ðŸ”´ ",success:"âœ… "};class c{constructor(e,t){this.message=a[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function l(e){document.getElementById(e)&&document.getElementById(e).remove()}function d(e){!function(e){if(e.isModeMessage){if(null!==s)return void window.clearTimeout(s.timeoutID);s=e}if(o.push(e),o.length>3){l(o.shift().getId())}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(l,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),l(e.getId())})}function u(e,t="default"){const n=new c(e,t);"error"!=n.type&&"warning"!=n.type||(0,i.recordNotification)(n),d(n)}t.Notification=c,t.queueNotification=u,t.default={queueNotification:u}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t){e.exports=d3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.bboxActionContents=t.divLineActionContents=t.clefActionContents=t.columnActionContents=t.staffMergeActionContents=t.staffSplitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.staffSplitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.staffMergeActionContents='<label>Merge Systems:</label>\n    <div id="merge-system-btns-container" class="right-side-panel-btns-container">\n        <button id="merge-systems" class="side-panel-btn">Merge</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.columnActionContents='<div class="col-edit-container">\n        Edit Column Information: \n        <div id="col-stepper-btns-container" class="right-side-panel-btns-container">\n            <button id="col-decrement" class="side-panel-btn col-stepper-btn">â€“</button>\n            <input type="text" id="col-input" class="side-panel-stepper-input" value="0">\n            <button id="col-increment" class="side-panel-btn col-stepper-btn">+</button>\n            <button id="col-confirm" class="side-panel-btn side-panel-confirm-btn" style="display:none">Confirm</button>\n            <div id="col-warning" class="side-panel-warning"></div> \n        </div>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToVirgula" class="dropdown-item">Virgula</a>\n        </div>\n    </div>\n</div>',t.bboxActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="matchHeight">Match Height for Entire Row</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">T</div>\n                </div>\n                <div class="hotkey-entry-description">Scroll To Syllable Text</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4/5/6</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff/Layer Element/BBox\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: scroll; padding: 0.5em 0.75em; max-height: 300px;"><div>'},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(11),r=[],o=0;o<256;++o)r.push((o+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateDisplayAllBtn=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setCircleSizeControls=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(18),r=n(4),o=n(7);let s,a,c;function l(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function d(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function u(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),o=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return o.textContent="Â - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),o.textContent="Â - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function f(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{u(e)})}function p(){document.body.removeEventListener("click",p),document.getElementById("highlight-dropdown").classList.remove("is-active")}function m(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",p),f("column"),f("staff"),f("syllable"),f("neume"),f("layerElement"),f("none")):document.body.removeEventListener("click",p)})}function h(){const{highlightMode:e}=(0,r.getSettings)();u(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=l,t.setBgOpacityFromSlider=d,t.setCircleSizeControls=function(){const e=document.getElementById("circleSlider"),t=document.getElementById("circleOutput"),{circleSize:n}=(0,r.getSettings)();function i(){t.value=e.value,c=Number(e.value),(0,r.setSettings)({circleSize:Number(c)});const n=o.selectAll(".resizePoint");n.empty()||n.attr("r",c)}c=n,e.value=String(n),t.value=String(n),document.getElementById("reset-circle-size").addEventListener("click",()=>{const n=o.selectAll(".resizePoint");n.empty()||n.attr("r",25),c=Number(25),e.value=String(25),t.value=String(25),(0,r.setSettings)({circleSize:Number(25)}),i()}),e.addEventListener("input",i),e.addEventListener("change",i),e.disabled=!1},t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=f,t.setHighlightControls=m,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-column":i.setGroupingHighlight("column");break;case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.updateDisplayAllBtn=function(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)?(e.classList.add("selected"),e.innerHTML="Hide All"):e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")},t.loadHighlightSettings=h,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,s=Number(t.value),l(e)}s=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-glyph-opacity");100==i&&a.classList.add("hide-icon"),null==a||a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),s=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,a=Number(t.value),d(e)}a=i,t.value=String(i),n.value=String(i);const s=document.getElementById("toggle-bg-opacity");100==i&&s.classList.add("hide-icon"),s.addEventListener("click",()=>{let i;s.classList.contains("hide-icon")?(s.classList.remove("hide-icon"),i=0):(s.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),a=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(t),m(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":u("staff");break;case"w":u("syllable");break;case"e":u("neume");break;case"r":u("layerElement");break;case"t":u("selection");break;case"y":u("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),h();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerBBoxActions=t.triggerSingleStaffActions=t.triggerStaffSplitMode=t.triggerMultiStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.matchHeightHandler=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(8),r=n(24),o=n(5),s=n(35),a=n(36),c=n(3);let l;function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function p(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function m(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function h(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function g(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",h)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Insert Success","success"):o.default.queueNotification("Insert Failed XoX","error"),g(),l.updateForCurrentPage()})}function _(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Move Success","success"):o.default.queueNotification("Move Failed XoX","error"),g(),l.updateForCurrentPage()})}function w(){const e=Array.from(document.getElementsByClassName("selected"));e.length>1&&o.default.queueNotification("Cannot match height to multiple bbox","error");const t={action:"matchHeight",param:{elementId:e[0].id}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Height Match Success","success"):o.default.queueNotification("Height Match Failed XoX","error"),g(),l.updateForCurrentPage()})}function E(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",h))}function S(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function k(){const e=document.getElementById("col-input"),t=document.querySelectorAll(".staff.selected");let n;for(const e of t){const t=Array.from(e.classList).join(" ").match(/\bcolumn(\d+)\b/);if(t){const e=parseInt(t[1],10);if(n&&n!=e){document.getElementById("col-warning").innerText="The selected staves are not of the same column!",n=0;break}n=e}}n&&(e.value=n.toString())}function L(){const e=document.getElementById("col-decrement"),t=document.getElementById("col-increment"),n=document.getElementById("col-confirm"),i=document.getElementById("col-input");function r(e){let t=parseInt(i.value,10)||0;t+=e,t=Math.min(Math.max(t,1),5),t.toString()!=i.value&&(n.style.display=""),i.value=t.toString()}e.addEventListener("click",(function(){r(-1)})),t.addEventListener("click",(function(){r(1)})),n.addEventListener("click",(function(){const e=[];document.querySelectorAll(".staff.selected").forEach(t=>{e.push({action:"set",param:{elementId:t.id,attrType:"type",attrValue:"column"+i.value}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Column Value Update Success","success"):o.default.queueNotification("Column Value Update Failed XoX","error"),g(),l.updateForCurrentPage()})}))}function A(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function x(e){l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}function C(){const e=document.querySelector(".staff.selected");if(null!==e){new s.SplitStaffHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}function T(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=d,t.unsetVirgaAction=u,t.unsetVirgaReversedAction=f,t.unsetLiquescentClockwiseAction=p,t.unsetLiquescentAnticlockwiseAction=m,t.deleteButtonHandler=h,t.endOptionsSelection=g,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=_,t.matchHeightHandler=w,t.addChangeStaffListener=S,t.triggerNcActions=function(e){g(),A("moreEdit",i.defaultActionContents),A("extraEdit",i.ncActionContents),E(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=p(e.id),s=m(e.id);l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=f(e.id),i=p(e.id),r=m(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=f(e.id),n=d(e.id),i=p(e.id),r=m(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=p(e.id),r=m(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=m(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"c"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"a"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),T()},t.triggerNeumeActions=function(){g(),A("moreEdit",i.defaultNeumeActionContents),A("extraEdit",i.neumeActionContents),E();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Grouping Changed","success"):o.default.queueNotification("Grouping Failed","error"),g(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),T()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){g(),A("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}A("moreEdit",t,!0),S(),E(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,s;if(g(),e.classList.contains("custos"))return A("moreEdit",i.custosActionContents),S(),void E();A("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(A("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}})}),T()}(e)):e.classList.contains("clef")?(A("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave incremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave decremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{x({action:"setClef",param:{elementId:e.id,shape:"C"}})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{x({action:"setClef",param:{elementId:e.id,shape:"F"}})}),T()}(e)):e.classList.contains("divLine")&&(A("extraEdit",i.divLineActionContents),function(e){document.querySelector("#ChangeToMinima.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"minima"}})}),document.querySelector("#ChangeToMaior.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maior"}})}),document.querySelector("#ChangeToMaxima.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maxima"}})}),document.querySelector("#ChangeToFinalis.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"finalis"}})}),document.querySelector("#ChangeToCaesura.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"caesura"}})}),document.querySelector("#ChangeToVirgula.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"virgula"}})}),T()}(e)),S(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),E(),S(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",b),null===(s=document.getElementById("moveOutsideSyllable"))||void 0===s||s.addEventListener("click",_)},t.triggerMultiStaffActions=function(){g(),A("moreEdit",i.staffMergeActionContents),A("extraEdit",i.columnActionContents),E(),k(),L(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=C,t.triggerSingleStaffActions=function(){g(),A("moreEdit",i.staffSplitActionContents),A("extraEdit",i.columnActionContents),E(),k(),L(),document.getElementById("split-system").addEventListener("click",()=>{C()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),g()}else console.error("No staff was selected"),g()})},t.triggerBBoxActions=function(){g(),A("moreEdit",i.bboxActionContents),E(),document.getElementById("matchHeight").addEventListener("click",()=>{w()})},t.triggerDefaultSylActions=function(){g(),A("moreEdit",i.defaultSylActionContents),E(),S()},t.triggerDefaultActions=function(){g(),A("moreEdit",i.defaultActionContents),E()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(3);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".system"),{x:r,y:o}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:o}}function o(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:o,y:s}=r(e,t),a=n.find(e=>o<=e.lrx&&o>=e.ulx&&s<=e.lry&&s>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=o,t.getStaffByCoords=function(e,t){const n=o(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,c,l=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(d,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,c=this.byteLength,l=t(n,c),d=c;return i!==e&&(d=t(i,c)),l>d?new ArrayBuffer(0):(r=d-l,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,l,r),s.set(a),o)}}(),d.prototype.append=function(e){return this.appendBinary(c(e)),this},d.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},d.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},d.hash=function(e,t){return d.hashBinary(c(e),t)},d.hashBinary=function(e,t){var n=a(o(e));return t?l(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,c=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var e,t=d.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},d.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),d.prototype.setState.call(this,e)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,c,l=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(d,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}(new Uint8Array(e)));return t?l(i):i},d}()},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(8),r=n(33),o=n(3);var s,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.VALIDATION_STATUS=2]="VALIDATION_STATUS",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD",e[e.MOVE_TO=4]="MOVE_TO",e[e.NEW_FOLDER=5]="NEW_FOLDER",e[e.RENAME=6]="RENAME"}(s=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{this.updateSelectedBBox(e,this.dragHandler,this.neonView)})})}else this.updateSelectedBBox(e,this.dragHandler,this.neonView);this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case s.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;case s.DOCUMENT_UPLOAD:case s.NEW_FOLDER:case s.RENAME:break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,this.setupEventListeners()}setupEventListeners(){document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}removeEventListeners(){document.getElementById("neon-modal-window-header-close").removeEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").removeEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").removeEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case s.EDIT_TEXT:this.openEditSylTextModalWindow();break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case s.DOCUMENT_UPLOAD:case s.MOVE_TO:case s.NEW_FOLDER:case s.RENAME:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");break;case s.DOCUMENT_UPLOAD:case s.MOVE_TO:case s.NEW_FOLDER:case s.RENAME:document.getElementById("neon-modal-window-content-container").innerHTML=""}document.getElementById("neon-modal-window-container").style.display="none",document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED,this.removeEventListeners()}setModalWindowContent(e){const t=document.getElementById("neon-modal-window-content-container"),n=document.getElementById("neon-modal-window-header-title");switch(this.modalWindowView){case s.EDIT_TEXT:t.innerHTML=i.editTextModal,n.innerText="EDIT SYLLABLE TEXT";const o=/\u{25CA}/u,a=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(o,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=a;break;case s.HOTKEYS:t.innerHTML=i.hotkeysModal,n.innerText="HOTKEYS";break;case s.VALIDATION_STATUS:t.innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURIComponent(e)}" download="validation.log">\n              Export\n            </a>\n            </div>`,n.innerText="ERROR LOG";break;case s.DOCUMENT_UPLOAD:n.innerText="DOCUMENT UPLOAD",t.innerHTML=r.uploadAreaHTML;break;case s.MOVE_TO:n.innerText="MOVE TO";break;case s.NEW_FOLDER:n.innerText="NEW FOLDER",t.innerHTML=r.newFolderHTML;break;case s.RENAME:n.innerText="RENAME",t.innerHTML=r.renameHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}updateSelectedBBox(e,t,n){(0,o.unselect)();const i=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(i)){const e=document.getElementById(i).querySelector(".sylTextRect-display");(0,o.selectBBox)(e,t,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function o(){r()}function s(){o();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=o,t.unsetGroupingHighlight=s,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(s(),"staff"===t)return void c();if("column"===t)return void function(){const e={};document.querySelectorAll(".staff").forEach(t=>{const n=Array.from(t.classList).join(" ").match(/\bcolumn(\d+)\b/);let i=0;n&&(i=parseInt(n[1],10)-1),e[i]||(e[i]=[]),e[i].push(t)});for(const[t,n]of Object.entries(e)){const e=i[Number(t)%i.length];for(const t of n)a(t,e)}}();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByColumn":t="column";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return o}));var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(e);else if(o===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,o,s,a,c,l,d,u,f="";n=t.pop();)if(i=n.obj,f+=n.prefix||"",r=n.val||"")f+=r;else if("object"!=typeof i)f+=void 0===i?null:JSON.stringify(i);else if(null===i)f+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),o=i.length-1;o>=0;o--)s=0===o?"":",",t.push({obj:i[o],prefix:s});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)d=i[l=a[o]],u=o>0?",":"",u+=JSON.stringify(l)+":",t.push({obj:d,prefix:u});t.push({val:"{"})}return f},t.parse=function(e){for(var t,n,r,o,s,a,c,l,d,u=[],f=[],p=0;;)if("}"!==(t=e[p++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,i(null,u,f);break;case"t":p+=3,i(!0,u,f);break;case"f":p+=4,i(!1,u,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(r=e[p++],!/[\d\.\-e\+]/.test(r)){p--;break}n+=r}i(parseFloat(n),u,f);break;case'"':for(o="",s=void 0,a=0;'"'!==(c=e[p++])||"\\"===s&&a%2==1;)o+=c,"\\"===(s=c)?a++:a=0;i(JSON.parse('"'+o+'"'),u,f);break;case"[":l={element:[],index:u.length},u.push(l.element),f.push(l);break;case"{":d={element:{},index:u.length},u.push(d.element),f.push(d);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===u.length)return u.pop();i(u.pop(),u,f)}}},function(e,t,n){"use strict";var i=n(20),r=n(10);t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return Object(r.a)(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(14),o=n(5),s=n(3);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,s.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,s.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,s.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:o,lrx:s,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,o+this.dy)||(0,r.isOutOfSVGBounds)(s+this.dx,a+this.dy)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(8),r=n(34),o=n(5),s=n(3),a=n(13),c=n(13);let l;function d(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(s.sharedLogicalParent(e,t))return!1;default:return!!s.areAdjacent(e,t)}}function u(e,t){switch(t||(t=Array.from(document.querySelectorAll(".selected"))),e){case"selBySyllable":for(const e of t)if(e.hasAttribute("mei:follows")||e.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNeume":for(const e of t)if(e.parentElement.hasAttribute("mei:follows")||e.parentElement.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNc":for(const e of t)if(e.parentElement.parentElement.hasAttribute("mei:follows")||e.parentElement.parentElement.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1}}function f(e){return 2===e.length&&(e[0].getAttribute("mei:follows")==="#"+e[1].id&&e[1].getAttribute("mei:precedes")==="#"+e[0].id||e[0].getAttribute("mei:precedes")==="#"+e[1].id&&e[1].getAttribute("mei:follows")==="#"+e[0].id)}function p(e,t){switch(t.length){case 2:if("selBySyllable"!==e)return!1;if(f([t[0],t[1]]))return!0;if(s.isMultiStaveSelection(t)){const e=t[0].closest(".staff"),n=t[1].closest(".staff"),i=Array.from(e.parentElement.children),r=i.indexOf(e)<i.indexOf(n)?e:n,o=r.id===e.id?n:e,s=r.querySelector(".layer"),a=o.querySelector(".layer"),c=Array.from(s.children).filter(e=>e.classList.contains("syllable")),l=Array.from(a.children).filter(e=>e.classList.contains("syllable")),d=c[c.length-1],u=l[0];if(d.id===t[0].id&&u.id===t[1].id)return!0;if(d.id===t[1].id&&u.id===t[0].id)return!0}default:return!1}return!1}function m(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(o.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):o.queueNotification("Merge Failed","error")})}function h(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",v)}function g(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",v);try{document.getElementById("mergeSyls").addEventListener("click",()=>{if(u(s.getSelectionType()))return;y("group","neume",w().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{if(u(s.getSelectionType()))return;y("group","neume",_())})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{y("group","nc",_())})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{y("ungroup","neume",w())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{y("ungroup","nc",w())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:_()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Ligature Toggled","success"):o.queueNotification("Ligature Toggle Failed","error"),h(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{b()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=d,t.isLinked=f,t.isLinkable=p,t.mergeStaves=m,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],g()},t.endGroupingSelection=h,t.initGroupingListeners=g;const v=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=s.getSelectionType();if(u(t,e))return;switch(t){case"selBySyllable":if(p(t,e))b();else if(d(t,e)){y("group","neume",w().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){y("ungroup","neume",w())}break;case"selByNeume":if(d(t,e)){y("group","neume",_())}else{y("ungroup","nc",w())}break;case"selByNc":if(d(t,e)){y("group","nc",_())}else{y("ungroup","nc",w())}break;case"selByStaff":d(t,e)?m():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function y(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?o.queueNotification("Grouping Success","success"):o.queueNotification("Ungrouping Success","success"):"group"===e?o.queueNotification("Grouping Failed","error"):o.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}h()})}function b(){const e=_(),t={action:"chain",param:[]},n=new Array;if(document.getElementById(e[0]).getAttribute("mei:precedes"))n.push({action:"set",param:{elementId:e[0],attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"follows",attrValue:""}}),n.push({action:"setText",param:{elementId:e[1],text:""}});else if(document.getElementById(e[0]).getAttribute("mei:follows"))n.push({action:"set",param:{elementId:e[0],attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"precedes",attrValue:""}}),n.push({action:"setText",param:{elementId:e[0],text:""}});else{const t=document.getElementById(e[0]),i=document.getElementById(e[1]),r=t.closest(".staff"),o=i.closest(".staff"),s=Array.from(r.parentElement.children).filter(e=>e.classList.contains("staff"));let a,c;s.indexOf(r)<s.indexOf(o)?(a=t,c=i):(a=i,c=t),n.push({action:"set",param:{elementId:a.id,attrType:"precedes",attrValue:"#"+c.id}}),n.push({action:"set",param:{elementId:c.id,attrType:"follows",attrValue:"#"+a.id}});const l=c.querySelector(".syl");null!==l&&n.push({action:"remove",param:{elementId:l.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Toggled Syllable Link"):o.queueNotification("Failed to Toggle Syllable Link"),h(),l.updateForCurrentPage()})}function _(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function w(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemManager=t.FileSystemTools=t.EntryType=void 0;var i=n(88);Object.defineProperty(t,"EntryType",{enumerable:!0,get:function(){return i.EntryType}});var r=n(89);Object.defineProperty(t,"FileSystemTools",{enumerable:!0,get:function(){return r.FileSystemTools}});var o=n(90);Object.defineProperty(t,"FileSystemManager",{enumerable:!0,get:function(){return o.FileSystemManager}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(8),r=n(4);function o(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:o}=(0,r.getSettings)();o&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),s()}function s(){const e=document.querySelector("#error_log"),t=document.querySelector("#display-single-container"),n=document.createElement("label"),i=document.createElement("input");i.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Errors",i.id="display-errors",i.type="checkbox",i.checked=!1,n.appendChild(i),t.append(n);const{displayErrLog:o}=(0,r.getSettings)();o&&(i.checked=!0),i.addEventListener("click",()=>{const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),o=document.getElementById("displayBBox"),s=document.getElementById("displayText"),a=document.getElementById("display-errors");i.checked?(e.classList.add("visible"),(0,r.setSettings)({displayErrLog:!0}),(null==n?void 0:n.checked)&&(null==o?void 0:o.checked)&&(null==s?void 0:s.checked)&&(null==a?void 0:a.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.classList.remove("visible"),(0,r.setSettings)({displayErrLog:!1}),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))})}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(function(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n    <div class="notification-wrapper">\n\n      <div>\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n    </div>\n\n    <div class="remove-notif-icon-wrapper">\n      <img class="log-remove remove-notif-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg">\n    </div>\n  `;const n=t.querySelector(".log-remove");return n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),t}(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,o()},t.initErrorLogControls=o,t.initDisplayListener=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(3),r=n(7),o=n(14),s=n(5),a=n(4),c={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function l(e,t,n,i,r){let o;if(r>=0)o=[{x:e,y:t,name:c.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:c.Top},{x:n,y:t+(n-e)*Math.sin(r),name:c.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:c.Right},{x:n,y:i,name:c.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:c.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:c.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:c.Left}];else{const s=(n-e)*Math.tan(Math.abs(r)),a=i-t-s;o=[{x:e,y:t+s,name:c.TopLeft},{x:(e+n)/2,y:t+s/2,name:c.Top},{x:n,y:t,name:c.TopRight},{x:n,y:t+a/2,name:c.Right},{x:n,y:t+a,name:c.BottomRight},{x:(e+n)/2,y:i-s/2,name:c.Bottom},{x:e,y:i,name:c.BottomLeft},{x:e,y:i-a/2,name:c.Left}]}return o}t.resize=function(e,t,n){let d,u,f,p,m,h,g,v,y,b,_,w,E,S,k;function L(){const e=l(d,u,f,p,m),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(d,f))),n.setAttribute("y",String(Math.min(u,p))),n.setAttribute("width",String(Math.abs(f-d))),n.setAttribute("height",String(Math.abs(p-u))));for(const t in c){const n=e[c[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,o=e[3].y;const s=i+100+","+(o+85)+" "+(i+70)+","+(o+50)+" "+(i+100)+","+(o+15)+" "+(i+130)+","+(o+50);i=e[7].x,o=e[7].y;const a=i-100+","+(o-15)+" "+(i-130)+","+(o-50)+" "+(i-100)+","+(o-85)+" "+(i-70)+","+(o-50);r.select("#rotateLeft").attr("points",a),r.select("#rotateRight").attr("points",s)}!function A(){if(null===e)return;if(r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");d=Number(t.getAttribute("x")),u=Number(t.getAttribute("y")),f=+d+ +t.getAttribute("width"),p=+u+ +t.getAttribute("height"),m=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);d=t.ulx,u=t.uly,f=t.lrx,p=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));m=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let x;h=d,y=u,g=f,b=p;const C=l(d,u,f,p,m);E=C[2].x-C[0].x;const T=C.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",T).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");const{circleSize:N}=(0,a.getSettings)();for(const t in c){const n=C[c[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",N).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in c)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{q(e)}).on("drag",O).on("end",I.bind(this)));if(e.classList.contains("staff")){let t=C[3].x,n=C[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=C[7].x,n=C[7].y;const o=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",o).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-_,t=k-Math.atan(e/E);t>-.2&&t<.2&&(S=e,u=w+S,m=t,m>=0?(u=S+C.filter(e=>e.name===c.TopLeft)[0].y,p=C.filter(e=>e.name===c.BottomRight)[0].y):(u=C.filter(e=>e.name===c.TopRight)[0].y,p=S+C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M)),r.select("#rotateRight").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-_,t=k+Math.atan(e/E);t>-.2&&t<.2&&(S=e,m=t,m>=0?(p=S+C.filter(e=>e.name===c.BottomRight)[0].y,u=C.filter(e=>e.name===c.TopLeft)[0].y):(u=S+C.filter(e=>e.name===c.TopRight)[0].y,p=C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M))}function q(e){x=e;const t=C.find(t=>t.name===c[e]);v=[t.x,t.y],y=u,b=p}function O(){const e=r.mouse(this);switch(c[x]){case c.TopLeft:d=e[0],u=e[1];break;case c.Top:u=e[1]-(f-d)*Math.tan(m)/2;break;case c.TopRight:f=e[0],u=e[1]-(f-d)*Math.tan(m);break;case c.Right:f=e[0],p=b+(e[0]-v[0])*Math.tan(m);break;case c.BottomRight:f=e[0],p=e[1];break;case c.Bottom:p=e[1]+(f-d)*Math.tan(m)/2;break;case c.BottomLeft:d=e[0],p=e[1]+(f-d)*Math.tan(m);break;case c.Left:d=e[0],u=y+(e[0]-v[0])*Math.tan(m);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}L()}function I(){if((0,o.isOutOfSVGBounds)(d,u)||(0,o.isOutOfSVGBounds)(f,p))return d=h,u=y,f=g,p=b,L(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const r={action:"resize",param:{elementId:e.id,ulx:d,uly:u,lrx:f,lry:p}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{if(r&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),d=void 0,u=void 0,f=void 0,p=void 0,A(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function B(){const e=r.event.sourceEvent.target.id;_=r.mouse(this)[1],b=p,y=u,w="rotateRight"===e?p:u,k=m}function M(){if(void 0===S&&(S=0),(0,o.isOutOfSVGBounds)(d,u)||(0,o.isOutOfSVGBounds)(f,p))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),d=void 0,u=void 0,f=void 0,p=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:d,uly:u,lrx:f,lry:p,rotate:180*m/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),d=void 0,u=void 0,f=void 0,p=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,o=n(2),s=n.n(o),a=n(22),c=n(15),l=n.n(c),d=n(21),u=n.n(d),f=n(6),p=n.n(f),m=n(1),h=n.n(m),g=n(0),v=n.n(g);function y(e){return"$"+e}function b(e){return e.substring(1)}function _(){this._store={}}function w(e){if(this._store=new _,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}_.prototype.get=function(e){var t=y(e);return this._store[t]},_.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},_.prototype.has=function(e){return y(e)in this._store},_.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},_.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),w.prototype.add=function(e){return this._store.set(e,!0)},w.prototype.has=function(e){return this._store.has(e)},w.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(w.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=w,r=_):(i=Set,r=Map);var S=Function.prototype.toString,k=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==k}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return p()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function x(e){return p()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var o;try{var s=A((function(e,t){e?r(e):i(t)}));t.push(s),(o=e.apply(n,t))&&"function"==typeof o.then&&i(o)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return x(p()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),o(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(o){o?r(o):t(i[e].apply(i,n))}))}))})))}function T(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o in e&&(n[o]=e[o])}return n}var N;function q(e){return e}function O(e){return[{ok:e}]}function I(e,t,n){var i=t.docs,o=new r;i.forEach((function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])}));var s=o.size,a=0,c=new Array(s);function l(){var e;++a===s&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var d=[];o.forEach((function(e,t){d.push(t)}));var u=0;function f(){if(!(u>=d.length)){var n=Math.min(u+6,d.length),i=d.slice(u,n);!function(n,i){n.forEach((function(n,r){var s=i+r,a=o.get(n),d=T(a[0],["atts_since","attachments"]);d.open_revs=a.map((function(e){return e.rev})),d.open_revs=d.open_revs.filter(q);var u=q;0===d.open_revs.length&&(delete d.open_revs,u=O),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(d[e]=t[e])})),e.get(n,d,(function(e,t){var i,r,o;i=e?[{error:e}]:u(t),r=n,o=i,c[s]={id:r,docs:o},l(),f()}))}))}(i,u),u+=i.length}}f()}try{localStorage.setItem("_pouch_check_localstorage",1),N=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){N=!1}function B(){return N}function M(){v.a.call(this),this._listeners={},function(e){B()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function P(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function F(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function j(e,t){P("info","The above "+e+" is totally normal. "+t)}h()(M,v.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(o)o="waiting";else{o=!0;var e=T(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===o&&s()(a),o=!1})).on("error",(function(){o=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){B()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var D="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}h()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var $=new R(400,"bad_request","Missing JSON list of 'docs'"),H=new R(404,"not_found","missing"),V=new R(409,"conflict","Document update conflict"),U=new R(400,"bad_request","_id field must contain a string"),G=new R(412,"missing_id","_id is required for puts"),W=new R(400,"bad_request","Only reserved document ids may start with underscore."),z=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),J=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),X=new R(500,"doc_validation","Bad special document member"),Y=new R(400,"bad_request","Something wrong with the request"),Q=new R(400,"bad_request","Document must be a JSON object"),Z=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=z).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(Y,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var o in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function oe(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function se(e){var t;if(e?"string"!=typeof e?t=ne(U):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(W)):t=ne(G),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(P("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var de=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ue=/(?:^|&)([^&=]*)=?([^&]*)/g,fe=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function pe(e){for(var t=fe.exec(e),n={},i=14;i--;){var r=de[i],o=t[i]||"",s=-1!==["user","password"].indexOf(r);n[r]=s?decodeURIComponent(o):o}return n.queryKey={},n[de[12]].replace(ue,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function me(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function he(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,o=n(i);return o?(o._id=t,o._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return he(e,t._id,n)}))}(e,o,n)):{updated:!1,rev:r}}))}var ge=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function _e(e,t){return ye([be(e)],{type:t})}function we(e,t){return _e(ge(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function ke(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function xe(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),o=Math.ceil(i/r),s=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?xe:Ae;function d(){Le(f)}function u(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function f(){var t=s*r,n=t+r;s++,c(a,e,t,n,s<o?d:u)}f()}function Te(e){return l.a.hash(e)}function Ne(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=D({},e);return delete n._rev_tree,Te(JSON.stringify(n))}var qe=a.a;function Oe(e){for(var t,n,i,r,o=e.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],c=r.pos;if(a.length)for(var l=0,d=a.length;l<d;l++)o.push({pos:c+1,ids:a[l]});else{var u=!!s[1].deleted,f=s[0];t&&!(i!==u?i:n!==c?n<c:t<f)||(t=f,n=c,i=u)}}return n+"-"+t}function Ie(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,o=n.ids,s=o[2],a=t(0===s.length,r,o[0],n.ctx,o[1]),c=0,l=s.length;c<l;c++)i.push({pos:r+1,ids:s[c],ctx:a})}function Be(e,t){return e.pos-t.pos}function Me(e){var t=[];Ie(e,(function(e,n,i,r,o){e&&t.push({rev:n+"-"+i,pos:n,opts:o})})),t.sort(Be).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function Pe(e){for(var t=Oe(e),n=Me(e.rev_tree),i=[],r=0,o=n.length;r<o;r++){var s=n[r];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function Fe(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,o=t.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,d=t.history?t.history.slice():[];d.push({id:s,opts:a}),l&&n.push({pos:r+1-d.length,ids:d});for(var u=0,f=c.length;u<f;u++)i.push({pos:r+1,ids:c[u],history:d})}return n.reverse()}function je(e,t){return e.pos-t.pos}function De(e,t,n){var i=function(e,t,n){for(var i,r=0,o=e.length;r<o;)n(e[i=r+o>>>1],t)<0?r=i+1:o=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,o=e.length;r<o;r++){var s=e[r],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function $e(e,t){return e[0]<t[0]?-1:1}function He(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),o=r.tree1,s=r.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var c=!1,l=0;l<o[2].length;l++)o[2][l][0]===s[2][a][0]&&(n.push({tree1:o[2][l],tree2:s[2][a]}),c=!0);c||(i="new_branch",De(o[2],s[2][a],$e))}else i="new_leaf",o[2][0]=s[2][a]}return{conflicts:i,tree:e}}function Ve(e,t,n){var i,r=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=He(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),o=o||i.conflicts,s=!0;else if(!0!==n){var d=l.pos<t.pos?l:t,u=l.pos<t.pos?t:l,f=u.pos-d.pos,p=[],m=[];for(m.push({ids:d.ids,diff:f,parent:null,parentIdx:null});m.length>0;){var h=m.pop();if(0!==h.diff)for(var g=h.ids[2],v=0,y=g.length;v<y;v++)m.push({ids:g[v],diff:h.diff-1,parent:h.ids,parentIdx:v});else h.ids[0]===u.ids[0]&&p.push(h)}var b=p[0];b?(i=He(b.ids,u.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:d.pos,ids:d.ids}),o=o||i.conflicts,s=!0):r.push(l)}else r.push(l)}return s||r.push(t),r.sort(je),{tree:r,conflicts:o||"internal_node"}}function Ue(e,t,n){var i=Ve(e,t),r=function(e,t){for(var n,i,r=Fe(e),o=0,s=r.length;o<s;o++){var a,c=r[o],l=c.ids;if(l.length>t){n||(n={});var d=l.length-t;a={pos:c.pos+d,ids:Re(l,d)};for(var u=0;u<d;u++){var f=c.pos+u+"-"+l[u].id;n[f]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?Ve(i,a,!0).tree:[a]}return n&&Ie(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function Ge(e){return e.ids}function We(e,t){t||(t=Oe(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(Ge);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function ze(e){return/^_local/.test(e)}function Je(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,s;t?(s="error",("listenerCount"in(r=i)?r.listenerCount(s):v.a.listenerCount(r,s))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){P("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var s=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return We(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=Pe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Xe(e,t){return e<t?-1:e>t?1:0}function Ye(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Qe(e,t){var n=Xe(e._id,t._id);return 0!==n?n:Xe(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ze(){for(var e in v.a.call(this),Ze.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,o=tt.prefix,s=t.adapter;if(!s)for(var a=0;a<r.length&&("idb"===(s=r[a])&&"websql"in i&&B()&&localStorage["_pouch__websqldb_"+o+e]);++a)P("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[s];return{name:!c||!("use_prefix"in c)||c.use_prefix?o+e:e,adapter:s}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Ze.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}h()(Je,v.a),Je.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Je.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},Je.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&P("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=p()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},h()(Ze,v.a),Ze.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));this.bulkDocs({docs:[e]},t,Ye(n,e._id))})),Ze.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));if(se(e._id),ze(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,o,s,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Ye(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],o=parseInt(i[0],10)+1,s=Ne(),e._revisions={start:o,ids:[s,r]},e._rev=o+"-"+s,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Ze.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var o=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},o.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||P("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw ne(V);return s(e)}),(function(t){if(t.reason===H.message)return s({_id:e});throw t}))})),Ze.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,o){if(e)i(e);else if(o._rev===n){if(!o._attachments)return i();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,r.put(o,i)}else i(ne(V))}))})),Ze.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(ze(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[o]},n,Ye(i,o._id))})),Ze.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var o=0,s=new r;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Ie(n,(function(e,n,r,o,s){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==s.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++o===i.length){var l={};return s.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Ze.prototype.bulkGet=C("bulkGet",(function(e,t){I(this,e,t)})),Ze.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,o){if(r)return n(r);var s=function(e){var t={},n=[];return Ie(e,(function(e,i,r,o){var s=i+"-"+r;return e&&(t[s]=0),void 0!==o&&n.push({from:o,to:s}),s})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(o),a=[],c=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),Ie(o,(function(e,t,n,i,r){var o=t+"-"+n;"available"===r.status&&-1!==a.indexOf(o)&&c.push(o)})),i._doCompaction(e,c,n)}))})),Ze.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),s()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Ze.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return he(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Ze.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(U));if(ze(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function o(){var o=[],s=i.length;if(!s)return n(null,o);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:i});else{for(var r,a=0,c=o.length;a<c;a++)if(o[a].ok&&o[a].ok._rev===t._rev){r=!0;break}r||o.push({ok:t})}--s||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,o){if(i)return i.docId=e,n(i);var s=o.doc,a=o.metadata,c=o.ctx;if(t.conflicts){var l=Pe(a);l.length&&(s._conflicts=l)}if(We(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var d=s._rev.split("-"),u=parseInt(d[0],10),f=d[1],p=Fe(a.rev_tree),m=null,h=0;h<p.length;h++){var g=p[h],v=g.ids.map((function(e){return e.id})).indexOf(f);(v===u-1||!m&&-1!==v)&&(m=g)}if(!m)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=m.ids.map((function(e){return e.id})).indexOf(s._rev.split("-")[1])+1,b=m.ids.length-y;if(m.ids.splice(y,b),m.ids.reverse(),t.revs&&(s._revisions={start:m.pos+m.ids.length-1,ids:m.ids.map((function(e){return e.id}))}),t.revs_info){var _=m.pos+m.ids.length;s._revs_info=m.ids.map((function(e){return{rev:--_+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var w=s._attachments,E=Object.keys(w).length;if(0===E)return n(null,s);Object.keys(w).forEach((function(e){this._getAttachment(s._id,e,w[e],{rev:s._rev,binary:t.binary,ctx:c},(function(t,i){var r=s._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,s)}))}),r)}else{if(s._attachments)for(var S in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,S)&&(s._attachments[S].stub=!0);n(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(ne(z,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}o()}})),Ze.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(o,s){return o?i(o):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void r._getAttachment(e,t,s.doc._attachments[t],n,i)):i(ne(H))}))})),Ze.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Ze.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Je(this,e,t)},Ze.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Ze.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Ze.prototype.id=C("id",(function(e){return this._id(e)})),Ze.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ze.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne($));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(Q));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||P("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(Y,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||ae(o)||e.docs.sort(Qe),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=T(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(o))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||s[r];n(null,i)}))})),Ze.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);he(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Ze.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):r();var s=o.dependentDbs,a=n.constructor,c=Object.keys(s).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},h()(tt,Ze);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var ot=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=ot[t].bind(ot))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=D({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=D({},t.__defaults,n),tt.call(this,e,n)}return h()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=D({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function st(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var o=e[i];i>0&&"\\"===e[i-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function dt(e){return Object.keys(e)[0]}function ut(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var o=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),s=ut([e,n]);Object.keys(s).length<=i||o.push(s)}))})),t[i]=o}else t[i]=ut([r]);else{var s=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,s):void(s[e]=t)}))}}))})),t}function ft(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=ut(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=ut(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=ut([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:n||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),t[o]=s}return t}function pt(e,t){if(e===t)return 0;e=mt(e),t=mt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=pt(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),o=0;o<r;o++){var s=pt(n[o],i[o]);if(0!==s)return s;if(0!==(s=pt(e[n[o]],t[i[o]])))return s}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function mt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=mt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];void 0!==o&&(e[r]=mt(o))}}}return e}function ht(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",o=(s=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(s,a,c)+s);var s,a,c;r+=""+o;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var d=l.toFixed(20);return d=d.replace(/\.?0+$/,""),r+=""+d}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,o="";if(t)for(;++i<r;)o+=gt(n[i]);else for(;++i<r;){var s=n[i];o+=gt(s)+gt(e[s])}return o}return""}function gt(e){return bt(e=mt(e))+""+ht(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var o="",s=e.substring(t,t+3),a=parseInt(s,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function _t(e,t,n){if(e=e.filter((function(e){return wt(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(dt(e));return st(t,n)}))}return function(e,n){var i,r,o=pt(t(e.doc),t(n.doc));return 0!==o?o:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[dt(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function wt(e,t,n){return n.every((function(n){var i=t[n],r=at(n),o=st(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return wt(n,e,Object.keys(e))}));if("$not"===e)return!wt(n,t,Object.keys(t));return!t.find((function(e){return wt(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,o)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var o=e[r];if(0===r.indexOf("$"))return St(r,t,o,n,i);var s=at(r);if(void 0===i&&"object"!=typeof o&&s.length>0)return!1;var a=st(i,s);return"object"==typeof o?Et(o,t,n,a):St("$eq",t,o,s,a)})):e===i)}function St(e,t,n,i,r){if(!xt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return xt[e](t,n,i,r)}function kt(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===pt(t,e)})):0===pt(t,e)}))}var xt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return wt(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return wt(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===pt(i,t)},$gte:function(e,t,n,i){return Lt(i)&&pt(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&pt(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&pt(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&pt(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return kt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==pt(i,e)}))},$in:function(e,t,n,i){return kt(i)&&At(i,t)},$nin:function(e,t,n,i){return kt(i)&&!At(i,t)},$size:function(e,t,n,i){return kt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===pt(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return kt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function Tt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function Nt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function qt(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(Y,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!s)return n(ne(H,o.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=me(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=_t([{doc:e}],{selector:t=ft(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=ce(t.filter);e.db.get("_design/"+o[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=r&&r.filters&&r.filters[o[1]];if(!s)return n(ne(H,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=me('"use strict";\nreturn '+s+";",{}),e.doChanges(t)}))}}function Ot(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:Tt,shouldFilter:Nt,filter:qt}})),tt.version="7.3.0";var It=Ot(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Bt=Ot(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function Pt(e,t,n){var i,r,o;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=qe()),r=Ne(e,n.deterministic_revs),e._rev){if((o=Mt(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,s,[]]]]}],i=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,s,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],o=1,s=i.length;o<s;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,s),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((o=Mt(e._rev)).error)return o;i=o.prefix,r=o.id,e._rev_tree=[{pos:i,ids:[r,s,[]]}]}se(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!It[c]){var d=ne(X,c);throw d.message=X.message+": "+c,d}l&&!Bt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Ft(e,t,n){var i=function(e){try{return ge(e)}catch(e){return{error:ne(J,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?_e(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function jt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Ft(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?ke(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Dt(e,t,n,i,r,o,s,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),o=parseInt(r[0],10),s=r[1];n=i.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,o();var c=t.winningRev||Oe(t),l="deleted"in t?t.deleted:We(t,c),d="deleted"in n.metadata?n.metadata.deleted:We(n.metadata),u=/^1-/.test(n.metadata.rev);if(l&&!d&&a&&u){var f=n.data;f._rev=c,f._id=n.metadata.id,n=Pt(f,a)}var p=Ue(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&d&&"new_leaf"!==p.conflicts||!l&&"new_leaf"!==p.conflicts||l&&!d&&"new_branch"===p.conflicts)){var m=ne(V);return i[r]=m,o()}var h=n.metadata.rev;n.metadata.rev_tree=p.tree,n.stemmedRevs=p.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Oe(n.metadata),v=We(n.metadata,g),y=l===v?0:l<v?-1:1;s(n,g,v,h===g?v:We(n.metadata,h),!0,y,r,o)}function Rt(e,t,n,i,o,s,a,c,l){e=e||1e3;var d=c.new_edits,u=new r,f=0,p=t.length;function m(){++f===p&&l&&l()}t.forEach((function(e,t){if(e._id&&ze(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:o},(function(e,n){s[t]=e||n,m()}))}else{var r=e.metadata.id;u.has(r)?(p--,u.get(r).push([e,t])):u.set(r,[[e,t]])}})),u.forEach((function(t,n){var r=0;function o(){++r<t.length?l():m()}function l(){var l=t[r],u=l[0],f=l[1];if(i.has(n))Dt(e,i.get(n),u,s,f,o,a,d);else{var p=Ue([],u.metadata.rev_tree[0],e);u.metadata.rev_tree=p.tree,u.stemmedRevs=p.stemmedRevs||[],function(e,t,n){var i=Oe(e.metadata),r=We(e.metadata,i);if("was_delete"in c&&r)return s[t]=ne(H,"deleted"),n();if(d&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var o=ne(V);return s[t]=o,n()}a(e,i,r,r,!1,r?0:1,t,n)}(u,f,o)}}l()}))}var $t="document-store",Ht="meta-store";function Vt(e){try{return JSON.stringify(e)}catch(t){return u.a.stringify(e)}}function Ut(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Z,n,t.type))}}function Gt(e,t,n){return{data:Vt(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Wt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return u.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function zt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Jt(e,t,n,i){n?i(e?"string"!=typeof e?e:we(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(ve(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var o=0;function s(){++o===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,s()}}(e,i):(e._attachments[i].stub=!0,s())}))}function Xt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new Promise((function(s){Jt(r,o,t,(function(t){e.doc._attachments[n]=D(T(i,["digest","content_type"]),{data:t}),s()}))}))}})))}})))}function Yt(e,t,n){var i=[],r=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),s=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::ï¿¿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else c()}}}))}function Qt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Zt=new M;function en(e,t,n,i,o,s){for(var a,c,l,d,u,f,p,m,h=t.docs,g=0,v=h.length;g<v;g++){var y=h[g];y._id&&ze(y._id)||(y=h[g]=Pt(y,n.new_edits,e)).error&&!p&&(p=y)}if(p)return s(p);var b=!1,_=0,w=new Array(h.length),E=new r,S=!1,k=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){m&&b&&(m.docCount+=_,f.put(m))}function x(){S||(Zt.notify(i._meta.name),s(null,w))}function C(e,t,n,i,r,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,o){var s=e.data,a=0,c=Object.keys(s._attachments);function l(){a===c.length&&T(e,t,n,i,r,o)}function u(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){d.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};d.put(r).onsuccess=n}}(i.digest,r,u)}}))}(e,t,n,r,s,a);_+=o,A(),T(e,t,n,r,s,a)}function T(e,t,n,r,o,s){var d=e.data,f=e.metadata;function p(o){var s=e.stemmedRevs||[];r&&i.auto_compaction&&(s=s.concat(function(e){var t=[];return Ie(e.rev_tree,(function(e,n,i,r,o){"available"!==o.status||e||(t.push(n+"-"+i),o.status="missing")})),t}(e.metadata))),s&&s.length&&Yt(s,e.metadata.id,a),f.seq=o.target.result;var l=Gt(f,t,n);c.put(l).onsuccess=m}function m(){w[o]={ok:!0,id:f.id,rev:f.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function o(){++i===r.length&&n()}function s(n){var i=e.data._attachments[n].digest,r=u.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=o,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var a=0;a<r.length;a++)s(r[a])}(e,f.seq,s)}d._doc_id_rev=f.id+"::"+f.rev,delete d._id,delete d._rev;var h=l.put(d);h.onsuccess=p,h.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){l.put(d,e.target.result).onsuccess=p}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function o(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return o();function s(e){i=e,++r===n.length&&o()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&jt(e.data._attachments[a],t,s)}))}(h,k,(function(t){if(t)return s(t);!function(){var t=Qt(o,[$t,"by-sequence","attach-store","local-store","attach-seq-store",Ht],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Ut(s),a.ontimeout=Ut(s),a.oncomplete=x,c=a.objectStore($t),l=a.objectStore("by-sequence"),d=a.objectStore("attach-store"),u=a.objectStore("attach-seq-store"),(f=a.objectStore(Ht)).get(Ht).onsuccess=function(e){m=e.target.result,A()},function(e){var t=[];if(h.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){d.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,s(t);!function(){if(!h.length)return;var t=0;function r(){++t===h.length&&Rt(e.revs_limit,h,i,E,a,w,C,n,L)}function o(e){var t=Wt(e.target.result);t&&E.set(t.id,t),r()}for(var s=0,l=h.length;s<l;s++){var d=h[s];if(d._id&&ze(d._id))r();else c.get(d.metadata.id).onsuccess=o}}()}))}()}))}function tn(e,t,n,i,r){var o,s,a;function c(e){s=e.target.result,o&&r(o,s,a)}function l(e){o=e.target.result,s&&r(o,s,a)}function d(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!o.length)return r();var n,a=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,o=null,s=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=d:e.openCursor(t).onsuccess=d}function nn(e,t,n){var i,r,o="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,d="number"==typeof e.limit?e.limit:-1,u=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(o,s,u,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Z,r.name,r.message));var f=[$t,"by-sequence",Ht];e.attachments&&f.push("attach-store");var p=Qt(t,f,"readonly");if(p.error)return n(p.error);var m=p.txn;m.oncomplete=function(){e.attachments?Xt(E,e.binary).then(A):A()},m.onabort=Ut(n);var h,g,v,y=m.objectStore($t),b=m.objectStore("by-sequence"),_=m.objectStore(Ht),w=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;w.get(r).onsuccess=function(i){if(n.doc=zt(i.target.result)||{},e.conflicts){var r=Pe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,m)}}(n,i,t))}function k(e){for(var t=0,n=e.length;t<n&&E.length!==d;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Wt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(k(t),E.length<d&&n.continue())}function A(){var t={total_rows:h,offset:e.skip,rows:E};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return _.get(Ht).onsuccess=function(e){h=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(g=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===d?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(o,s){t.get(o).onsuccess=function(t){t.target.result?i[s]=t.target.result:i[s]={key:o,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===d?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),k(n)})):void tn(y,i,e.descending,d+l,L)}var rn=!1,on=[];function sn(){!rn&&on.length&&(rn=!0,on.shift()())}function an(e,t,n,o){if((e=L(e)).continuous){var s=n+":"+qe();return Zt.addListener(n,s,t,e),Zt.notify(n),{cancel:function(){Zt.removeListener(n,s)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var d,u,f,p,m=[],h=0,g=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;p.get(r).onsuccess=function(e){i(n,zt(e.target.result))}}function b(){e.complete(null,{results:m,last_seq:c})}var _=[$t,"by-sequence"];e.attachments&&_.push("attach-store");var w=Qt(o,_,"readonly");if(w.error)return e.complete(w.error);(d=w.txn).onabort=Ut(e.complete),d.oncomplete=function(){!e.continuous&&e.attachments?Xt(m).then(b):b()},u=d.objectStore("by-sequence"),f=d.objectStore($t),p=u.index("_doc_id_rev"),tn(u,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),o=new Array(t.length),s=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);f.get(e._id).onsuccess=function(r){i=Wt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(zt(n),t[c],(function(n,a){o[c]=n,r[c]=a,++s===t.length&&function(){for(var t=[],n=0,s=r.length;n<s&&h!==l;n++){var a=r[n];if(a){var c=o[n];t.push(u(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),h!==l&&i.continue()}()}))}))}function u(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=g(i);return"object"==typeof r?Promise.reject(r):r?(h++,e.return_docs&&m.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,d,(function(){Xt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,dn=new r;function un(e,t){var n=this;!function(e,t,n){on.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,s()((function(){sn()}))}))})),sn()}((function(t){!function(e,t,n){var i=t.name,r=null,o=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&o&&(t.reason=o),e(t,n)}}function c(e,t){var n=e.objectStore($t);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,o=We(r);r.deletedOrLocal=o?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore($t),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,c=ze(a),l=Oe(s);if(c){var d=a+"::"+l,u=a+"::",f=a+"::~",p=r.index("_doc_id_rev"),m=IDBKeyRange.bound(u,f,!1,!1),h=p.openCursor(m);h.onsuccess=function(e){if(h=e.target.result){var t=h.value;t._doc_id_rev===d&&n.put(t),r.delete(h.primaryKey),h.continue()}else i.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function d(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,o=n.primaryKey,s=Object.keys(i._attachments||{}),a={},c=0;c<s.length;c++){a[i._attachments[s[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var d=l[c];r.put({seq:o,digestSeq:d+"::"+o})}n.continue()}}}function u(e){var t=e.objectStore("by-sequence"),n=e.objectStore($t);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,o=(r=i.value).data?Wt(r):(r.deleted="1"===r.deletedOrLocal,r);if(o.winningRev=o.winningRev||Oe(o),o.seq)return s();!function(){var e=o.id+"::",n=o.id+"::ï¿¿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=r,s();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function s(){var e=Gt(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=x((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,o){en(t,n,i,e,r,a(o))},e._get=function(e,t,n){var i,o,s,a=t.ctx;if(!a){var c=Qt(r,[$t,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(s,{doc:i,metadata:o,ctx:a})}a.objectStore($t).get(e).onsuccess=function(e){if(!(o=Wt(e.target.result)))return s=ne(H,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,o=n.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,d=n.history?n.history.slice():[];if(d.push({id:s,pos:r,opts:a}),l)for(var u=0,f=d.length;u<f;u++){var p=d[u];if(p.pos+"-"+p.id===e)return r+"-"+s}for(var m=0,h=c.length;m<h;m++)i.push({pos:r+1,ids:c[m],history:d})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else if(n=o.winningRev,We(o))return s=ne(H,"deleted"),l();var r=a.objectStore("by-sequence"),c=o.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=zt(i)),!i)return s=ne(H,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,o){var s;if(i.ctx)s=i.ctx;else{var a=Qt(r,[$t,"by-sequence","attach-store"],"readonly");if(a.error)return o(a.error);s=a.txn}var c=n.digest,l=n.content_type;s.objectStore("attach-store").get(c).onsuccess=function(e){Jt(e.target.result.body,l,i.binary,(function(e){o(null,e)}))}},e._info=function(t){var n,i,o=Qt(r,[Ht,"by-sequence"],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(Ht).get(Ht).onsuccess=function(e){i=e.target.result.docCount},s.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Qt(r,[$t],"readonly");if(n.error)return t(n.error);n.txn.objectStore($t).get(e).onsuccess=function(e){var n=Wt(e.target.result);n?t(null,n.rev_tree):t(ne(H))}},e._doCompaction=function(e,t,n){var i=Qt(r,[$t,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var o=i.txn;o.objectStore($t).get(e).onsuccess=function(n){var i=Wt(n.target.result);Ie(i.rev_tree,(function(e,n,i,r,o){var s=n+"-"+i;-1!==t.indexOf(s)&&(o.status="missing")})),Yt(t,e,o);var r=i.winningRev,s=i.deleted;o.objectStore($t).put(Gt(i,r,s))},o.onabort=Ut(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Qt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ut(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(H))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,o=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var c=Qt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ut(n),a.oncomplete=function(){s&&n(null,s)}}var l,d=a.objectStore("local-store");i?(l=d.get(o)).onsuccess=function(r){var o=r.target.result;o&&o._rev===i?d.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)}:n(ne(V))}:((l=d.add(e)).onerror=function(e){n(ne(V)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,o=t.ctx;if(!o){var s=Qt(r,["local-store"],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=o.objectStore("local-store"),l=c.get(a);l.onerror=Ut(n),l.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(H))}},e._destroy=function(e,t){Zt.removeAllListeners(i);var n=dn.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){dn.delete(i),B()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ut(t)};var f=ln.get(i);if(f)return r=f.idb,e._meta=f.global,s()((function(){n(null,e)}));var p=indexedDB.open(i,5);dn.set(i,p),p.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore($t,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(Ht,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,d,u],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},p.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){P("error","Database has a global failure",e.target.error),o=e.target.error,r.close(),ln.delete(i)};var s,a,c,l,d=r.transaction([Ht,"detect-blob-support",$t],"readwrite"),u=!1;function f(){void 0!==c&&u&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function p(){if(void 0!==a&&void 0!==s){var e=i+"_id";e in s?l=s[e]:s[e]=l=qe(),s.docCount=a,d.objectStore(Ht).put(s)}}d.objectStore(Ht).get(Ht).onsuccess=function(e){s=e.target.result||{id:Ht},p()},function(e,t){e.objectStore($t).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(d,(function(e){a=e,p()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(d)),cn.then((function(e){c=e,f()})),d.oncomplete=function(){u=!0,f()},d.onabort=Ut(n)},p.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",P("error",t),n(ne(Z,t))}}(n,e,t)}),t,n.constructor)}un.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var fn={};function pn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=we(t.data,t.content_type)}))}function mn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function hn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){ke(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function gn(e,t){if(function(e){if(!e.prefix)return!1;var t=pe(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=pe(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function _n(t,n){var i=this,r=gn(t.name,t),o=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,o=i.username+":"+i.password,s=ve(unescape(encodeURIComponent(o)));n.headers.set("Authorization","Basic "+s)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||i||r)&&o}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,p()((function(e){u().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function d(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function u(){return t.skip_setup?Promise.resolve():a||((a=d(o).catch((function(e){return e&&e.status&&404===e.status?(j(404,"PouchDB is just detecting if the remote exists."),d(o,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function f(e){return e.split("/").map(encodeURIComponent).join("/")}s()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),d(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),d(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(pn)})),t(null,n.data)})).catch(t)}function o(){var i=Math.ceil(e.docs.length/50),r=0,o=new Array(i);function s(e){return function(n,s){o[e]=s.results,++r===i&&t(null,{results:oe(o)})}}for(var a=0;a<i;a++){var c=T(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),I(n,c,s(a))}}var s=yn(r,""),a=fn[s];"boolean"!=typeof a?i((function(e,n){e?(fn[s]=!1,j(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(fn[s]=!0,t(null,n))})):a?i(t):o()})),i._info=function(e){u().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return u().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function o(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,o=0,s=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():f()}function d(){o--,l()}function u(e){o--,r=r||e,l()}function f(){for(;o<t&&s<c;)o++,e[s++]().then(d,u)}f()}))}(i.map((function(i){return function(){return function(i){var o=n[i],s=mn(e._id)+"/"+f(i)+"?rev="+e._rev;return c(vn(r,s)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=o.content_type),e}return new Promise((function(t){ke(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=mn(e),d(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var s=o._rev||n.rev;d(vn(r,mn(o._id))+"?rev="+s,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,o){"function"==typeof i&&(o=i,i={});var s,a=i.rev?"?rev="+i.rev:"",l=vn(r,mn(t))+"/"+f(n)+a;c(l,{method:"GET"}).then((function(t){if(s=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=s),o(null,t)})).catch((function(e){o(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){d(vn(r,mn(e)+"/"+f(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,o,s){"function"==typeof o&&(s=o,o=i,i=n,n=null);var a=mn(e)+"/"+f(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=ge(i)}catch(e){return s(ne(J,"Attachment is not a valid base64 string"))}i=l?_e(l,o):""}d(c,{headers:new rt({"Content-Type":o}),method:"PUT",body:i},s).catch(s)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,u().then((function(){return Promise.all(e.docs.map(hn))})).then((function(){return d(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){u().then((function(){return hn(e)})).then((function(){return d(vn(r,mn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},o="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var s=bn(i);void 0!==e.keys&&(o="POST",n={keys:e.keys}),d(vn(r,"_all_docs"+s),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(pn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var o=void 0!==e.limit&&e.limit,a=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,f="GET";e.doc_ids?(i.filter="_doc_ids",f="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",f="POST",l={selector:e.selector});var p,m=new nt,h=function(n,s){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=a):i.limit=!o||a>t?t:a;var c=vn(r,"_changes"+bn(i)),h={signal:m.signal,method:f,body:JSON.stringify(l)};p=n,e.aborted||u().then((function(){return d(c,h,s)})).catch(s)}},g={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,g.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(l=g.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&pn(t),e.return_docs&&g.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(p=i.last_seq);var d=o&&a<=0||i&&r<t||e.descending;(!e.continuous||o&&a<=0)&&d?e.complete(null,g):s()((function(){h(p,v)}))}};return h(e.since||0,v),{cancel:function(){e.aborted=!0,m.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),d(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){d(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function wn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function kn(e,t){return t&&e.then((function(e){s()((function(){t(null,e)}))}),(function(e){s()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function xn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function Tn(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=r.length;o<s;o++){var a=r[o];if("number"!=typeof a)throw Cn("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}_n.valid=function(){return!0},h()(wn,Error),h()(En,Error),h()(Sn,Error);var Nn=P.bind(null,"log"),qn=Array.isArray,On=JSON.parse;function In(e,t){return me("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Tn,log:Nn,isArray:qn,toJSON:On})}function Bn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Pn(e,t,n,i,r,o){var s,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Te(a));return he(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var o={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",(function(){delete s[a]})),o}))}))}))}));return s&&(s[a]=c),c}Bn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Bn.prototype.finish=function(){return this.promise};var Fn={},jn=new Bn;function Dn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){P("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),P("error",t)}}var $n=function(e,t){return Tn(t)},Hn=function(e,t){return t.length},Vn=function(e,t){return{sum:Tn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Un=function(e,t,n,o){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=pt(e.key,t.key);return 0!==n?n:pt(e.value,t.value)}function d(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=we(n.data,n.content_type)}))}))}(t),t}}function m(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function h(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function g(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&pt(e[n],e[i])>0)throw new wn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new wn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new wn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new wn('Invalid value for integer: "'+e+'"');if(e<0)return new wn('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,o={_id:r,keys:[]},s=n.get(e),a=s[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(s[1])?Promise.resolve(o):t.db.get(r).catch(v(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,o=0,s=t.rows.length;o<s;o++){var c=t.rows[o].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var d=xn(a);return d.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(d.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Fn[t];return n||(n=Fn[t]=new Bn),n}function _(e,n){return Ln(b(e),(function(){return function(e,n){var i,o;var s=t(e.mapFun,(function(e,t){var n={id:o._id,key:mt(e)};null!=t&&(n.value=mt(t)),i.push(n)})),c=e.seq||0;function d(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=xn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=oe(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let u=0,f={view:e.name,indexed_docs:u};e.sourceDB.emit("indexing",f);var p=new Bn;function m(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(h)}function h(t){var f=t.results;if(!f.length)return;var h=function(t){for(var n=new r,d=0,u=t.length;d<u;d++){var f=t[d];if("_"!==f.doc._id[0]){i=[],(o=f.doc)._deleted||a(e.sourceDB,s,o),i.sort(l);var p=g(i);n.set(f.doc._id,[p,f.changes])}c=f.seq}return n}(f);p.add(d(h,c)),u+=f.length;let v={view:e.name,last_seq:t.last_seq,results_count:f.length,indexed_docs:u};return e.sourceDB.emit("indexing",v),f.length<n.changes_batch_size?void 0:m()}function g(e){for(var t,n=new r,i=0,o=e.length;i<o;i++){var s=e[i],a=[s.key,s.id];i>0&&0===pt(s.key,t)&&a.push(i),n.set(gt(a),s),t=s.key}return n}return m().then((function(){return p.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function w(e,t){return Ln(b(e),(function(){return function(e,t){var i,o=e.reduceFun&&!1!==t.reduce,s=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var o=vt(e,i);t.push(o.num),i+=o.length;break;case"4":for(var s="";;){var a=e[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=o?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,o=n(e.reduceFun),s=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=s[s.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===pt(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,u=s.length;l<u;l++){var f=s[l],p=c(e.sourceDB,o,f.keys,f.values,!1);if(p.error&&p.error instanceof Sn)throw p.error;t.push({value:p.error?null:p.output,key:f.groupKey})}return{rows:d(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:s,rows:a}:{total_rows:i,offset:s,rows:d(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var f=An(a.map(u));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=u(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var f=t.keys.map((function(e){var n={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(f).then(oe).then(l)}var p,m,h={descending:t.descending};if(t.update_seq&&(h.update_seq=!0),"start_key"in t&&(p=t.start_key),"startkey"in t&&(p=t.startkey),"end_key"in t&&(m=t.end_key),"endkey"in t&&(m=t.endkey),void 0!==p&&(h.startkey=t.descending?gt([p,{}]):gt([p])),void 0!==m){var g=!1!==t.inclusive_end;t.descending&&(g=!g),h.endkey=gt(g?[m,{}]:[m])}if(void 0!==t.key){var v=gt([t.key]),y=gt([t.key,{}]);h.descending?(h.endkey=v,h.startkey=y):(h.startkey=v,h.endkey=y)}return o||("number"==typeof t.limit&&(h.limit=t.limit),h.skip=s),a(h).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,o,s=[],a="GET";if(m("reduce",n,s),m("include_docs",n,s),m("attachments",n,s),m("limit",n,s),m("descending",n,s),m("group",n,s),m("group_level",n,s),m("skip",n,s),m("stale",n,s),m("conflicts",n,s),m("startkey",n,s,!0),m("start_key",n,s,!0),m("endkey",n,s,!0),m("end_key",n,s,!0),m("inclusive_end",n,s),m("key",n,s,!0),m("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Dn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(f(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e})).then(f(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return g(i,n),jn.add((function(){return Pn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=_(e,r).then((function(){return w(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),jn.finish();var a=n,c=Dn(a),l=c[0],d=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[d];if(!c)throw new En("ddoc "+n._id+" has no view named "+d);return o(n,d),g(i,c),Pn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&s()((function(){_(e,r)})),w(e,i)):_(e,r).then((function(){return w(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=h(e.group_level),e.limit=h(e.limit),e.skip=h(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return kn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=Dn(e),r="_design/"+t[0],o=t[1],s=n.get(r);s||(s=new i,n.set(r,s)),s.add(o)}));var o={keys:xn(n),include_docs:!0};return t.allDocs(o).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var o=i+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach((function(e){r[e]=r[e]||a}))}))}));var o=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},p()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&kn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return In(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return $n;if(/^_count/.test(e))return Hn;if(/^_stats/.test(e))return Vn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||In(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var Gn={query:function(e,t,n){return Un.query.call(this,e,t,n)},viewCleanup:function(e){return Un.viewCleanup.call(this,e)}};function Wn(e){return/^1-/.test(e)}function zn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Jn(e,t,n,i){n=L(n);var r=[],o=!0;function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Wn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Wn(t[0])}));if(e.length>0)return s(e)})).then((function(){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(o=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return zn(t,n)})):zn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(oe(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||j(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==i})),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=i,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return Kn(e,t,n,i,r);throw o}))}))}function Xn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Xn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Xn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Xn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Zn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Yn={undefined:function(e,t){return 0===pt(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),o=n[0],s=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Qn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Qn(o.session_id,r))return{last_seq:o.last_seq,history:s};return e(r,s)}(e.history,t.history)}(t,e).last_seq}};function Qn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Qn(e,i))}function Zn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Xn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Yn?Yn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Zn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(pt):"",r=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort(pt).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+s+o+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var o,a,c,l=[],d={seq:0,changes:[],docs:[]},u=!1,f=!1,p=!1,m=0,h=n.continuous||n.live||!1,g=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,_=n.doc_ids,w=n.selector,E=[],S=qe();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var k={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Xn(e,t,a,i,o)}))}function x(){if(E=[],0!==o.docs.length){var e=o.docs,s={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},s).then((function(t){if(i.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=e.length-o,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=m=o.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),i.emit("change",e)),u=!0,c.writeCheckpoint(o.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:o.seq}),u=!1,i.cancelled)throw I(),new Error("cancelled");o=void 0,j()})).catch((function(e){throw R(e),e}))}function T(){return Jn(e,t,o.diffs,i).then((function(e){o.error=!e.ok,e.docs.forEach((function(e){delete o.diffs[e._id],r.docs_read++,o.docs.push(e)}))}))}function N(){var e;i.cancelled||o||(0!==l.length?(o=l.shift(),i.emit("checkpoint",{start_next_batch:o.seq}),(e={},o.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw I(),new Error("cancelled");o.diffs=e}))).then(T).then(x).then(C).then(N).catch((function(e){O("batch processing terminated with error",e)}))):q(!0))}function q(e){0!==d.changes.length?(e||f||d.changes.length>=g)&&(l.push(d),d={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),N()):0!==l.length||o||((h&&k.live||f)&&(i.state="pending",i.emit("paused")),f&&I())}function O(e,t){p||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],d={seq:0,changes:[],docs:[]},I(t))}function I(o){if(!(p||i.cancelled&&(r.status="cancelled",u)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=m,p=!0,o){(o=ne(o)).result=r;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",o),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=F),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,o,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function B(e,t,r){if(i.cancelled)return I();"number"==typeof t&&(d.pending=t),re(n)(e)&&(d.seq=e.seq||r,d.changes.push(e),i.emit("checkpoint",{pending_batch:d.seq}),s()((function(){q(0===l.length&&k.live)})))}function M(e){if(b=!1,i.cancelled)return I();if(e.results.length>0)k.since=e.results[e.results.length-1].seq,j(),q(!0);else{var t=function(){h?(k.live=!0,j()):f=!0,q(!0)};o||0!==e.results.length?t():(u=!0,c.writeCheckpoint(e.last_seq,S).then((function(){u=!1,r.last_seq=m=e.last_seq,t()})).catch(R))}}function P(e){if(b=!1,i.cancelled)return I();O("changes rejected",e)}function j(){if(!b&&!f&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(k).on("change",B);t.then(o,o),t.then(M).catch(P),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function o(){i.removeListener("cancel",r)}}function D(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){k={since:m=e,limit:g,batch_size:g,style:y,doc_ids:_,selector:w,return_docs:!0},n.filter&&("string"!=typeof n.filter?k.include_docs=!0:k.filter=n.filter),"heartbeat"in n&&(k.heartbeat=n.heartbeat),"timeout"in n&&(k.timeout=n.timeout),n.query_params&&(k.query_params=n.query_params),n.view&&(k.view=n.view),j()}));I()})).catch((function(e){O("getCheckpoint rejected with ",e)}))}function R(e){u=!1,O("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?I():(i._addedListeners||(i.once("cancel",I),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?D():A().then((function(){return u=!0,c.writeCheckpoint(n.since,S)})).then((function(){u=!1,i.cancelled?I():(m=n.since,D())})).catch(R))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(Y,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function oi(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new si(e=ii(e,n),t=ii(t,n),n,i)}function si(e,t,n,i){var r=this;this.canceled=!1;var o=n.push?D({},n,n.push):n,s=n.pull?D({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function d(e){r.emit("denied",{direction:"pull",doc:e})}function u(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function f(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function p(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function m(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,o),this.pull=ri(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var h={};function g(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===d||n===l)||"paused"===t&&(n===f||n===u)||"active"===t&&(n===m||n===p))&&(t in h||(h[t]={}),h[t][e]=!0,2===Object.keys(h[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",d),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",m),v(r.push,"active",p)):"paused"===e&&(v(r.pull,"paused",f),v(r.push,"paused",u))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",d),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",m),r.push.removeListener("active",p)):"paused"===e&&(r.pull.removeListener("paused",f),r.push.removeListener("paused",u))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}h()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},h()(si,v.a),si.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",un,!0)})).plugin((function(e){e.adapter("http",_n,!1),e.adapter("https",_n,!1)})).plugin(Gn).plugin((function(e){e.replicate=ri,e.sync=oi,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(29))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],d=!1,u=-1;function f(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&p())}function p(){if(!d){var e=a(f);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||d||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return l})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return w.a})),n.d(t,"v5",(function(){return k})),n.d(t,"NIL",(function(){return L})),n.d(t,"version",(function(){return A})),n.d(t,"validate",(function(){return d.a})),n.d(t,"stringify",(function(){return s.a})),n.d(t,"parse",(function(){return u}));var i,r,o=n(20),s=n(10),a=0,c=0;var l=function(e,t,n){var l=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==f){var p=e.random||(e.rng||o.a)();null==u&&(u=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=r=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1,g=m-a+(h-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||m>a)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,c=h,r=f;var v=(1e4*(268435455&(m+=122192928e5))+h)%4294967296;d[l++]=v>>>24&255,d[l++]=v>>>16&255,d[l++]=v>>>8&255,d[l++]=255&v;var y=m/4294967296*1e4&268435455;d[l++]=y>>>8&255,d[l++]=255&y,d[l++]=y>>>24&15|16,d[l++]=y>>>16&255,d[l++]=f>>>8|128,d[l++]=255&f;for(var b=0;b<6;++b)d[l+b]=u[b];return t||Object(s.a)(d)},d=n(11);var u=function(e){if(!Object(d.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var f=function(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=u(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=a[c];return r}return Object(s.a)(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function p(e){return 14+(e+64>>>9<<4)+1}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function h(e,t,n,i,r,o){return m((s=m(m(t,e),m(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function g(e,t,n,i,r,o,s){return h(t&n|~t&i,e,t,r,o,s)}function v(e,t,n,i,r,o,s){return h(t&i|n&~i,e,t,r,o,s)}function y(e,t,n,i,r,o,s){return h(t^n^i,e,t,r,o,s)}function b(e,t,n,i,r,o,s){return h(n^(t|~i),e,t,r,o,s)}var _=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i=0;i<n;i+=8){var r=e[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[p(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=i,l=r,d=o;n=g(n,i,r,o,e[s],7,-680876936),o=g(o,n,i,r,e[s+1],12,-389564586),r=g(r,o,n,i,e[s+2],17,606105819),i=g(i,r,o,n,e[s+3],22,-1044525330),n=g(n,i,r,o,e[s+4],7,-176418897),o=g(o,n,i,r,e[s+5],12,1200080426),r=g(r,o,n,i,e[s+6],17,-1473231341),i=g(i,r,o,n,e[s+7],22,-45705983),n=g(n,i,r,o,e[s+8],7,1770035416),o=g(o,n,i,r,e[s+9],12,-1958414417),r=g(r,o,n,i,e[s+10],17,-42063),i=g(i,r,o,n,e[s+11],22,-1990404162),n=g(n,i,r,o,e[s+12],7,1804603682),o=g(o,n,i,r,e[s+13],12,-40341101),r=g(r,o,n,i,e[s+14],17,-1502002290),i=g(i,r,o,n,e[s+15],22,1236535329),n=v(n,i,r,o,e[s+1],5,-165796510),o=v(o,n,i,r,e[s+6],9,-1069501632),r=v(r,o,n,i,e[s+11],14,643717713),i=v(i,r,o,n,e[s],20,-373897302),n=v(n,i,r,o,e[s+5],5,-701558691),o=v(o,n,i,r,e[s+10],9,38016083),r=v(r,o,n,i,e[s+15],14,-660478335),i=v(i,r,o,n,e[s+4],20,-405537848),n=v(n,i,r,o,e[s+9],5,568446438),o=v(o,n,i,r,e[s+14],9,-1019803690),r=v(r,o,n,i,e[s+3],14,-187363961),i=v(i,r,o,n,e[s+8],20,1163531501),n=v(n,i,r,o,e[s+13],5,-1444681467),o=v(o,n,i,r,e[s+2],9,-51403784),r=v(r,o,n,i,e[s+7],14,1735328473),i=v(i,r,o,n,e[s+12],20,-1926607734),n=y(n,i,r,o,e[s+5],4,-378558),o=y(o,n,i,r,e[s+8],11,-2022574463),r=y(r,o,n,i,e[s+11],16,1839030562),i=y(i,r,o,n,e[s+14],23,-35309556),n=y(n,i,r,o,e[s+1],4,-1530992060),o=y(o,n,i,r,e[s+4],11,1272893353),r=y(r,o,n,i,e[s+7],16,-155497632),i=y(i,r,o,n,e[s+10],23,-1094730640),n=y(n,i,r,o,e[s+13],4,681279174),o=y(o,n,i,r,e[s],11,-358537222),r=y(r,o,n,i,e[s+3],16,-722521979),i=y(i,r,o,n,e[s+6],23,76029189),n=y(n,i,r,o,e[s+9],4,-640364487),o=y(o,n,i,r,e[s+12],11,-421815835),r=y(r,o,n,i,e[s+15],16,530742520),i=y(i,r,o,n,e[s+2],23,-995338651),n=b(n,i,r,o,e[s],6,-198630844),o=b(o,n,i,r,e[s+7],10,1126891415),r=b(r,o,n,i,e[s+14],15,-1416354905),i=b(i,r,o,n,e[s+5],21,-57434055),n=b(n,i,r,o,e[s+12],6,1700485571),o=b(o,n,i,r,e[s+3],10,-1894986606),r=b(r,o,n,i,e[s+10],15,-1051523),i=b(i,r,o,n,e[s+1],21,-2054922799),n=b(n,i,r,o,e[s+8],6,1873313359),o=b(o,n,i,r,e[s+15],10,-30611744),r=b(r,o,n,i,e[s+6],15,-1560198380),i=b(i,r,o,n,e[s+13],21,1309151649),n=b(n,i,r,o,e[s+4],6,-145523070),o=b(o,n,i,r,e[s+11],10,-1120210379),r=b(r,o,n,i,e[s+2],15,718787259),i=b(i,r,o,n,e[s+9],21,-343485551),n=m(n,a),i=m(i,c),r=m(r,l),o=m(o,d)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(p(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),w=n(22);function E(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function S(e,t){return e<<t|e>>>32-t}var k=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),d=0;d<16;++d)l[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<s;++u){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[u][p];for(var m=16;m<80;++m)f[m]=S(f[m-3]^f[m-8]^f[m-14]^f[m-16],1);for(var h=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),k=S(h,5)+E(w,g,v,y)+b+t[w]+f[_]>>>0;b=y,y=v,v=S(g,30)>>>0,g=h,h=k}n[0]=n[0]+h>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),L="00000000-0000-0000-0000-000000000000";var A=function(e){if(!Object(d.a)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},,function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,o=!1,s=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[s]+i[c],o=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(o=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],o=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],o||s--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=o?i[c]:l[s++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=o?i[c]:l[s]+i[c]:i[c].search(/<\//)>-1?a=a+=o?i[c]:l[--s]+i[c]:i[c].search(/\/>/)>-1?a=a+=o?i[c]:l[s]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[s]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,o=0,s="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?s+=c[o++]+i[a]:/\}/.exec(i[a])?s+=c[--o]+i[a]:(/\*\\/.exec(i[a]),s+=c[o]+i[a]);return s.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),s=i.length,a=[],c=0,l=this.step,d=0,u="",f=0,p=t?n(t):this.shift;for(f=0;f<s;f++)a=f%2?a.concat(i[f]):a.concat(o(i[f],l));for(s=a.length,f=0;f<s;f++){d=r(a[f],d),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[f])&&(a[f]=a[f].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[f])&&(a[f]=a[f].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[f])?u+=p[++c]+a[f]:/\'/.exec(a[f])?(d<1&&c&&c--,u+=a[f]):(u+=p[c]+a[f],d<1&&c&&c--)}return u=u.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameHTML=t.newFolderHTML=t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="mei_list">\n              <div class="unpaired_item_container" style="width: 100%; background: #DAEAF1; border-radius: 5px;">\n                <label class="unpaired_item_label">\n                  <input type="radio" class="unpaired_item_radio" name="mei_radio_group" value="create_mei">\n                    <span style="margin-top: auto;margin-left: 3px;">\n                      Create new MEI file\n                    </span>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        <div class="file_sort_name">\n          <div>Name</div>\n          <div class="sort_name arrow_btn">&#x22C0;</div>\n        </div>\n        <div class="folio_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">â†»</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="folio_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>',t.newFolderHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Create</button>\n      </div>\n    </div>\n  ',t.renameHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Confirm</button>\n      </div>\n    </div>\n  '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(5),r=n(3),o=n(23),s=n(14);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,s.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new o.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const s=document.getElementById("moreEdit");s&&(s.innerHTML="",s.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(5);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),o=e.document.createTextNode("");return r.observe(o,{characterData:!0}),function(){o.data=i=++i%2}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(9))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDocName=t.deleteDocument=t.addDocument=t.createManifest=t.fetchUploads=t.db=void 0;const i=n(30),r=n(28),o=n(91);t.db=new r.default("Neon-User-Storage"),t.fetchUploads=async function(){try{return(await new Promise((e,n)=>{t.db.allDocs({include_docs:!0}).then(t=>e(t)).catch(e=>n(e))})).rows.map(e=>({id:e.id,name:e.doc?e.doc.name:"undefined"}))}catch(e){return console.log("Couldn't fetch uploaded documents",e.message),[]}},t.createManifest=function(e,t,n,r){return new Promise(async s=>{const a=JSON.parse(JSON.stringify(o));a["@id"]=e,a.title=t,a.timestamp=(new Date).toISOString();const c=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(n)}),l=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(r)}),d=await c,u=await l;a.image=u,a.mei_annotations=[{id:(0,i.v4)(),type:"Annotation",body:d,target:u}],s(a)})},t.addDocument=function(e,n,i,r){return new Promise((o,s)=>{t.db.put({_id:e,name:n,type:r?"page":"manuscript",_attachments:{manifest:{content_type:"application/ld+json",data:i}}}).then(()=>{o(!0)}).catch(t=>{window.alert(`Error Uploading Document: ${t.message}, title: ${n}, id: ${e}.`),s(!1)})})},t.deleteDocument=function(e){return new Promise((n,i)=>{t.db.get(e).then(e=>{t.db.remove(e).then(e=>{n(!0)}).catch(e=>{console.log(e),i(e)})}).catch(e=>{console.log(e),i(e)})})},t.updateDocName=function(e,n){return new Promise((i,r)=>{t.db.get(e).then(o=>{t.db.getAttachment(e,"manifest").then(e=>{e.text().then(e=>{const s=JSON.parse(e);o.name=n,s.title=n;const a=new Blob([JSON.stringify(s,null,2)],{type:"application/ld+json"});o._attachments.manifest={content_type:"application/ld+json",data:a},t.db.put(o).then(()=>i(!0)).catch(e=>r(e))}).catch(e=>r(e))}).catch(e=>r(e))}).catch(e=>r(e))})}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDashboard=t.updateDashboard=void 0;const i=n(25),r=n(46),o=n(25),s=n(93),a=n(94),c=n(97),l=n(17),d=document.querySelector("#fs-content-container"),u=document.querySelector("#main-section-content"),f=document.querySelector("#open-doc"),p=document.querySelector("#remove-doc"),m=document.querySelector("#nav-path-container");let h=document.querySelector("#fs-back-btn"),g=document.querySelector("#fs-empty-btn"),v=document.querySelector("#fs-delete-btn");const y=document.querySelector("#upload-new-doc-button"),b=document.querySelector("#add-folder-button"),_=new s.ShiftSelectionManager,w=(0,o.FileSystemManager)(),E=(0,s.dashboardState)(),S=document.querySelector(".main-section-content"),k=document.querySelector(".right-click-file-menu"),L=document.querySelector(".context-menu-items-wrapper");let A=!1,x=!1,C=null,T=!1;function N(){y.classList.contains("active")&&(0,a.InitUploadArea)(E.getParentFolder())}function q(e,t){const n=(i=t?{manifest:e}:{storage:e},Object.keys(i).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(i[e])).join("&"));var i;window.open("./editor.html?"+n,"_blank")}function O(e){const t=E.getEntries().at(e);E.setSelection(e,!0);document.getElementById(t.id).classList.add("selected")}function I(e){const t=E.getEntries().at(e).id;E.setSelection(e,!1);document.getElementById(t).classList.remove("selected")}function B(){Array.from(document.querySelectorAll(".document-entry.selected")).forEach(e=>e.classList.remove("selected")),E.resetSelection()}async function M(e,t,n){if("folder"===t.type){n.addEventListener("dblclick",(async function(){return await z([...E.getFolderPath(),t])}),!1)}else n.addEventListener("dblclick",F,!1);!function(e,t){e.addEventListener("click",(function(e){P(t)}),!1)}(n,e),function(e,t){e.addEventListener("contextmenu",e=>{e.stopPropagation(),e.preventDefault(),(T||1===E.getSelectedEntries().length)&&B(),O(t),ne("selection-options",e.clientX,e.clientY),k.classList.remove("hidden"),T=!0}),S.addEventListener("click",e=>{if(T){let t=e.target;if(t.parentElement.classList.contains("document-entry")&&(t=t.parentElement),k.classList.add("hidden"),T=!1,t.classList.contains("document-entry")){const e=W(t.id);P(E.getIndexByEntryName(e.name))}else B()}})}(n,e)}function P(e){A||x?A?E.getSelection()[e]?(I(e),_.setStart(E.getSelection().lastIndexOf(!0))):(O(e),_.setStart(e)):x&&(_.getPrevSelection().forEach(e=>{I(e)}),_.setEnd(e),_.getSelection(E.getSelection()).forEach(e=>{O(e)})):(B(),O(e),_.setStart(e)),V(),U()}function F(){if(f.classList.contains("active"))if(1!==E.getSelectedFolders().length&&1!==E.getSelectedTrash().length)E.getSelectedFiles().forEach(e=>function(e){const t=e.metadata.document;if(void 0!==typeof t){const n="sample"===t;q(e.id,n)}}(e)),_.reset(),B(),V();else{z([...E.getFolderPath(),E.getSelectedEntries()[0]])}}function j(){if(!p.classList.contains("active"))return;const e=E.getSelectedEntries(),t=E.getParentFolder(),n=E.getTrashFolder(),r=(new Date).toLocaleString();for(let t of e)t=i.FileSystemTools.addMetadata(t,{removed_on:r,recover_folder:E.getFolderPathNames()});K(e,t,n)}function D(e,t){return new Promise((n,o)=>{(0,r.deleteDocument)(e.id).then(()=>{i.FileSystemTools.removeEntry(e,t),n(!0)}).catch(()=>o(!1))})}function R(e,t){return new Promise(n=>{const r=e.children.map(t=>"file"===t.type?D(t,e):"folder"===t.type?R(t,e):Promise.resolve(!1));Promise.all(r).then(()=>{i.FileSystemTools.removeEntry(e,t),n(!0)}).catch(()=>n(!1))})}function $(){const e=E.getSelectedEntries(),t=`Are you sure you want to delete:\n${n=e,n.map(e=>`- ${e.name} (${e.type})`).join("\n")}\nThis action is irreversible.`;var n;if(window.confirm(t)){const t=e.map(e=>"file"===e.type?D(e,E.getParentFolder()):"folder"===e.type?R(e,E.getParentFolder()):void 0);Promise.all(t).then(()=>{z(E.getFolderPath())}).catch(e=>console.debug("failed to delete files: ",e))}}function H(){const e=E.getTrashFolder();if(!e)return void console.error("Trash folder not found.");if(window.confirm("Are you sure you want to delete all the files in Trash Folder?\nThis action is irreversible.")){const t=e.children.map(t=>"file"===t.type?D(t,e):"folder"===t.type?R(t,e):Promise.resolve(!1));Promise.all(t).then(()=>{z(E.getFolderPath())}).catch(e=>console.debug("failed to delete files: ",e))}}function V(){E.getParentFolder().metadata.immutable||E.getSelectedEntries()[0]&&E.getSelectedEntries()[0].metadata.immutable?(y.classList.remove("active"),b.classList.remove("active"),p.classList.remove("active"),E.getSelectedEntries().length?f.classList.add("active"):f.classList.remove("active")):E.isInTrash()?(y.classList.remove("active"),b.classList.remove("active"),p.classList.remove("active"),f.classList.remove("active")):E.getSelectedTrash().length?(f.classList.add("active"),p.classList.remove("active"),y.classList.remove("active"),b.classList.remove("active")):E.getSelectedEntries().length?(f.classList.add("active"),p.classList.add("active"),y.classList.remove("active"),b.classList.remove("active")):(f.classList.remove("active"),p.classList.remove("active"),y.classList.add("active"),b.classList.add("active"))}function U(){!function(){const e=h.cloneNode(!0);h.parentNode.replaceChild(e,h),1===E.getFolderPath().length?(e.classList.remove("active"),e.setAttribute("disabled","true")):(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",G),e.addEventListener("ondragenter",()=>e.classList.add("active")),e.addEventListener("ondragleave",()=>e.classList.remove("active")),J(e,E.getParentFolder(),E.getFolderPath().at(-2))),h=e}(),function(){const e=g.cloneNode(!0);g.parentNode.replaceChild(e,g);const t=E.getParentFolder();"trash"===t.type||E.isInTrash()?(e.style.display="",t.children.length&&!E.getSelectedEntries().length&&"trash"===t.type?(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",H)):(e.classList.remove("active"),e.setAttribute("disabled","true"))):e.style.display="none",g=e}(),function(){const e=v.cloneNode(!0);v.parentNode.replaceChild(e,v),"trash"===E.getParentFolder().type||E.isInTrash()?(e.style.display="",E.getSelectedEntries().length?(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",$)):(e.classList.remove("active"),e.setAttribute("disabled","true"))):e.style.display="none",v=e}()}async function G(){const e=E.getFolderPath().slice(0,-1);await z(e)}function W(e){return E.getEntries().find(t=>t.id===e)}async function z(e){e||(e=E.getFolderPath()),E.setFolderPath(e);const t=E.getParentFolder();d.innerHTML="",_.reset(),E.setEntries(t.children),t.children.forEach(async(e,t)=>{const n=function(e){const t=document.createElement("div");t.classList.add("document-entry"),t.setAttribute("draggable","true");const n=document.createElement("img");n.classList.add("document-icon");const i=document.createElement("div");switch(i.innerText=e.name,e.type){case"folder":t.classList.add("folder-entry"),t.setAttribute("id",e.id),n.src="./Neon-gh/assets/img/folder-icon.svg",t.setAttribute("drop-id",e.id),t.classList.add("drop-target");break;case"trash":t.classList.add("folder-entry"),t.setAttribute("id",e.id),n.src="./Neon-gh/assets/img/trash-icon.svg",t.setAttribute("drop-id",e.id),t.classList.add("drop-target");break;case"file":t.classList.add("file-entry"),t.setAttribute("id",e.id),"manuscript"===e.metadata.type?(t.classList.add("manuscript-entry"),n.src="./Neon-gh/assets/img/manuscript-icon.svg"):"folio"===e.metadata.type?(t.classList.add("folio-entry"),n.src="./Neon-gh/assets/img/folio-icon.svg"):n.src="./Neon-gh/assets/img/folio-icon.svg"}return t.appendChild(n),t.appendChild(i),t}(e);d.appendChild(n),await M(t,e,n)}),V(),function(){m.innerHTML="";const e=E.getFolderPath().map((e,t)=>{const n=document.createElement("div");n.classList.add("nav-path-section"),n.innerHTML=e.name;const i=E.getFolderPath().slice(0,t+1);return n.addEventListener("click",async()=>await z(i)),J(n,E.getParentFolder(),i.at(-1)),n});e.forEach((t,n)=>{if(m.appendChild(t),n!==e.length-1){const e=document.createElement("div");e.classList.add("nav-path-seperator"),e.innerHTML=" / ",m.appendChild(e)}})}(),U();const n=document.getElementById("info-badge");E.isInTrash()?(n.textContent="Files will be deleted after 30 days",n.style.background="#9DB2BF"):(n.textContent="",n.style.background=""),t.children.forEach(e=>{const n=document.getElementById(e.id);n.addEventListener("dragstart",e=>{e.dataTransfer.effectAllowed="move",C=e.target}),"folder"!==e.type&&"trash"!==e.type||J(n,t,e)}),w.setFileSystem(E.getFolderPath().at(0))}function J(e,t,n){e.addEventListener("dragenter",t=>{t.preventDefault(),e.classList.add("dragenter")}),e.addEventListener("dragleave",t=>{t.preventDefault(),e.classList.remove("dragenter")}),e.addEventListener("dragover",e=>e.preventDefault()),e.addEventListener("drop",function(e,t){return n=>{n.preventDefault();const i=W(C.getAttribute("id"));i&&i!==t&&K([i],e,t)}}(t,n))}function K(e,t,n){const r=[];e.forEach(e=>{"trash"===n.type&&n.children.some(t=>t.name===e.name)&&(e.name=function(e){const t=(new Date).toLocaleString();return e+" - "+t}(e.name));const o=i.FileSystemTools.canMoveEntry(e,t,n);o.succeeded?i.FileSystemTools.moveEntry(e,t,n):r.push(o.error)}),r.filter((e,t,n)=>n.indexOf(e)===t),r.length>0&&window.alert(r.join("\n")),z()}function X(){const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.MOVE_TO),e.openModalWindow();const t=E.getSelectedEntries(),n=E.getParentFolder(),i=function(e){const t=document.createElement("ul");return t.id="tree-root",t.appendChild(function e(t,n,i){const r=document.createElement("li"),o=document.createElement("div");o.classList.add("tree-li-container");const s=document.createElement("div");s.classList.add("tree-name"),s.innerHTML=t.name,s.addEventListener("click",()=>{document.querySelectorAll(".tree-name").forEach(e=>e.classList.remove("selected")),s.classList.add("selected")}),s.addEventListener("dblclick",()=>{n(t)});if(t.children.every(e=>"folder"!==e.type))return r.appendChild(o),o.appendChild(s),r;const a=document.createElement("ul"),c=document.createElement("div");c.classList.add("tree-arrow"),c.innerHTML="â–¶",i<2&&a.classList.add("active");i<2&&c.classList.add("active");return c.addEventListener("click",()=>{c.classList.toggle("active"),a.classList.toggle("active")}),r.appendChild(o),o.appendChild(c),o.appendChild(s),r.appendChild(a),t.children.forEach(t=>{if("folder"===t.type){const r=e(t,n,i+1);a.appendChild(r)}}),r}(E.root(),e,0)),t}(i=>{e.hideModalWindow(),K(t,n,i)}),r=document.createElement("div");r.classList.add("tree-container"),r.appendChild(i);const o=document.getElementById("neon-modal-window-content-container");o.innerHTML='<span class="move-menu-msg">Double-click the folder you want to move your items to!</span>',o.appendChild(r)}function Y(){if(!b.classList.contains("active"))return;const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.NEW_FOLDER),e.openModalWindow();const t=document.getElementById("dashboard_input_container"),n=document.getElementById("cancel_dashboard"),i=document.getElementById("confirm_dashboard"),r=document.createElement("input");r.id="dashboard_input",r.type="text",r.placeholder="Untitled Folder",r.value="Untitled Folder",t.appendChild(r),r.select(),r.focus(),n.addEventListener("click",()=>e.hideModalWindow()),i.addEventListener("click",()=>Q(e,r.value)),t.addEventListener("keydown",t=>{"Escape"===t.key?e.hideModalWindow():"Enter"===t.key&&Q(e,r.value)})}function Q(e,t){te(t)?(window.alert("The folder name already exists in the current folder!"),Y()):(e.hideModalWindow(),function(e){const t=document.createElement("div");t.classList.add("document-entry"),t.classList.add("folder-entry"),t.setAttribute("id","new-folder");const n=i.FileSystemTools.createFolder(e);i.FileSystemTools.addEntry(n,E.getParentFolder())?(t.setAttribute("id",e),z()):t.remove()}(t))}function Z(){const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.RENAME),e.openModalWindow();const t=document.getElementById("dashboard_input_container"),n=document.getElementById("cancel_dashboard"),i=document.getElementById("confirm_dashboard"),r=document.createElement("input");r.id="dashboard_input",r.type="text";const o=E.getSelectedEntries()[0].name;r.placeholder=o,r.value=o,t.appendChild(r),r.select(),r.focus(),n.addEventListener("click",()=>e.hideModalWindow()),i.addEventListener("click",()=>ee(e,r.value,o)),t.addEventListener("keydown",t=>{"Escape"===t.key?e.hideModalWindow():"Enter"===t.key&&ee(e,r.value,o)})}function ee(e,t,n){if(t===n)e.hideModalWindow();else if(te(t))window.alert("The filename already exists in the current folder!"),Z();else{e.hideModalWindow();!function(e,t){if(i.FileSystemTools.renameEntry(e,E.getParentFolder(),t))if("file"===e.type){const n=e;(0,r.updateDocName)(n.id,t).then(()=>{z()})}else z()}(E.getSelectedEntries()[0],t)}}function te(e){return E.getParentFolder().children.some(t=>t.name===e)}function ne(e,t,n){switch(e){case"selection-options":const e=E.getSelectedFiles().length,t=E.getSelectedFolders().length,n=E.getSelectedTrash().length;e||t||!n?E.getFolderPath().length>1&&"Trash"==E.getFolderPath().at(1).name?(L.innerHTML=c.trashEntryOptions,ie("trash-entry-options")):1!==e||t||n?e>1&&!t&&!n?(L.innerHTML=c.multiFileOptions,ie("multi-file-options")):e>=1&&t>=1&&!n?(L.innerHTML=c.folderAndFileOptions,ie("folder-and-file-options")):e||1!==t||n?!e&&t>1&&!n&&(L.innerHTML=c.multiFolderOptions,ie("multi-folder-options")):(L.innerHTML=c.singleFolderOptions,ie("single-folder-options")):(L.innerHTML=c.singleFileOptions,ie("single-file-options")):(L.innerHTML=c.trashFolderOptions,ie("trash-folder-options"));break;default:L.innerHTML=c.defaultOptions,ie("default")}if(E.getParentFolder().metadata.immutable||E.getSelectedEntries()[0]&&E.getSelectedEntries()[0].metadata.immutable||E.isInTrash()){const e=document.getElementById("cm-remove-btn"),t=document.getElementById("cm-rename-btn"),n=document.getElementById("cm-move-btn"),i=document.getElementById("cm-upload-doc-btn"),r=document.getElementById("cm-new-folder-btn");e&&e.classList.add("disabled"),t&&t.classList.add("disabled"),n&&n.classList.add("disabled"),i&&i.classList.add("disabled"),r&&r.classList.add("disabled")}k.style.left=t+"px",k.style.top=n+"px",k.classList.remove("hidden")}function ie(e){const t="context-menu-item-wrapper";switch(e){case"single-file-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-rename-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Z()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"multi-file-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"folder-and-file-options":document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"single-folder-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-rename-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Z()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"multi-folder-options":document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"trash-folder-options":document.querySelector(`.${t}#cm-empty-trash-btn`).addEventListener("click",e=>{k.classList.add("hidden"),H()});break;case"trash-entry-options":document.querySelector(`.${t}#cm-recover-btn`).addEventListener("click",e=>{k.classList.add("hidden"),function(){const e=E.getSelectedEntries(),t=E.getParentFolder();for(let n of e){const e=n.metadata.recover_folder,r=E.getFolderPathByNames(e);if(r){n=i.FileSystemTools.removeMetadata(n,["removed_on","recover_folder"]);const e=/ - \d{1,2}\/\d{1,2}\/\d{4}, \d{1,2}:\d{2}:\d{2} [APMapm]{2}$/;e.test(n.name)&&(n.name=n.name.replace(e,"")),K([n],t,r)}}}()}),document.querySelector(`.${t}#cm-delete-btn`).addEventListener("click",e=>{k.classList.add("hidden"),$()});break;default:document.querySelector(`.${t}#cm-upload-doc-btn`).addEventListener("click",e=>{k.classList.add("hidden"),N()}),document.querySelector(`.${t}#cm-new-folder-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Y()})}}function re(e){E.getTrashFolder()||w.newTrash(e);const t=E.getTrashFolder(),n=new Date,i=new Date(n.getTime()-2592e6);t.children.forEach(e=>{(e=>{if(e.metadata&&e.metadata.removed_on){return new Date(e.metadata.removed_on)<=i}return!1})(e)&&("file"===e.type?D(e,t):"folder"===e.type&&R(e,t))})}null==f||f.addEventListener("click",F),null==p||p.addEventListener("click",j),null==y||y.addEventListener("click",N),null==b||b.addEventListener("click",Y),window.addEventListener("keydown",e=>{e.metaKey&&(A=!0),e.shiftKey&&(x=!0),"Escape"===e.key&&(B(),_.reset(),V(),U())}),window.addEventListener("keyup",e=>{e.metaKey||(A=!1),e.shiftKey||(x=!1)}),null==u||u.addEventListener("click",e=>{const t=e.target;Boolean(t.closest(".document-entry"))||(B(),_.reset(),V(),U())}),t.updateDashboard=z;t.loadDashboard=async()=>{const e=await w.getRoot();E.root(e),re(e),z([e]),document.querySelector(".main-section").addEventListener("contextmenu",e=>{e.preventDefault(),B(),ne("default",e.clientX,e.clientY)}),document.querySelector(".main-section").addEventListener("click",e=>{k.classList.add("hidden")})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0});(0,n(56).loadDashboard)(),null===(i=document.querySelector("#home-link"))||void 0===i||i.setAttribute("href","https://ddmal.music.mcgill.ca/Neon")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryType=void 0,function(e){e.Folder="folder",e.Trash="trash",e.File="file"}(t.EntryType||(t.EntryType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemTools=void 0;const i=n(25),r=n(16),o=(e,t,n,r)=>{const o={};return t===i.EntryType.File?{name:e,type:t,id:n,metadata:o}:{name:e,type:t,id:n,children:r,metadata:o}};const s=(e,t)=>{const n=t.children.some(t=>t.name===e.name),i=t.metadata.immutable,r={succeeded:!1,error:""};return n?r.error=`Duplicate name: ${e.name} already exists in ${t.name}.`:i?r.error=t.name+" is immutable.":r.succeeded=!0,r},a=(e,t)=>{const n=-1!==t.children.findIndex(t=>t.id===e.id),i=t.metadata.immutable,r=e.metadata.immutable,o={succeeded:!1,error:""};return n?i?o.error=t.name+" is immutable.":r?o.error=e.name+" is immutable.":o.succeeded=!0:o.error=`${e.name} does not exist in ${t.name}.`,o},c=(e,t,n)=>{const r=e===n,o=n.children.some(t=>t.name===e.name),s=t.metadata.immutable,a=n.metadata.immutable,c=-1!==t.children.findIndex(t=>t.id===e.id),l=e.type==i.EntryType.Folder&&function e(t,n){return n.children.filter(e=>e.type===i.EntryType.Folder).map(n=>n===t||e(t,n)).some(e=>!0===e)}(n,e),d={succeeded:!1,error:""};return r?d.error=`Cannot move ${e.name} to itself.`:o?d.error=`Duplicate name: ${e.name} already exists in ${n.name}.`:s?d.error=t.name+" is immutable.":a?d.error=n.name+" is immutable.":c?l?d.error=`Cannot move ${e.name} into a its own subfolder, ${n.name}.`:d.succeeded=!0:d.error=`${e.name} does not exist in ${t.name}.`,d},l=(e,t,n)=>{const i={succeeded:!1,error:""};return t.children.some((t,n,i)=>t.name===e.name&&n!==i.indexOf(t))?i.error=`Duplicate name: ${n} already exists in ${t.name}.`:i.succeeded=!0,i},d=(e,t)=>{const{succeeded:n,error:r}=s(e,t);return n?(t.children.push(e),(o=t).children.sort((e,t)=>e.name.localeCompare(t.name)),o.children.sort((e,t)=>e.type===i.EntryType.File&&t.type===i.EntryType.Folder?1:e.type===i.EntryType.Folder&&t.type===i.EntryType.File?-1:0),!0):(console.error(r),!1);var o},u=(e,t,n=!1)=>{const{succeeded:i,error:r}=a(e,t);if(i||n){const n=t.children.indexOf(e);return t.children.splice(n,1),!0}return console.error(r),!1};t.FileSystemTools={createFolder:e=>o(e,i.EntryType.Folder,(0,r.uuidv4)(),[]),createTrash:e=>o(e,i.EntryType.Trash,(0,r.uuidv4)(),[]),createFile:(e,t)=>o(e,i.EntryType.File,t),moveEntry:function(e,t,n){const i=c(e,t,n);if(i.succeeded){if(u(e,t,!0)){if(d(e,n))return!0;console.error(`Moving: failed to add ${e.name} to ${n.name}`)}else console.error(`Moving: failed to remove ${e.name} from ${t.name}`)}else console.error(i.error);return!1},canAddEntry:s,canRemoveEntry:a,canMoveEntry:c,canRenameEntry:l,addEntry:d,removeEntry:u,addMetadata:function(e,t){return Object.entries(t).forEach(([t,n])=>{e.metadata[t]=n}),e},removeMetadata:function(e,t){return t.forEach(t=>{delete e.metadata[t]}),e},getAllNames:e=>e.children.map(e=>e.name),renameEntry:(e,t,n)=>{const{succeeded:i,error:r}=l(e,t,n);return i?(e.name=n,!0):(console.error(r),!1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemManager=void 0;const i=n(25),r=n(46),o=n(92);t.FileSystemManager=()=>{function e(e){try{window.localStorage.setItem("neon-fs",JSON.stringify(e))}catch(e){return console.error(e),window.alert("Error saving file system"),!1}return!0}async function t(){try{const t=window.localStorage.getItem("neon-fs");if(t){return JSON.parse(t)}{const t=i.FileSystemTools.createFolder("Home");return function(e){const t=o.samples.map(([e,t])=>{const n=i.FileSystemTools.createFile(e,e);return"folio"===t?i.FileSystemTools.addMetadata(n,{type:"folio",document:"sample",immutable:!0}):"manuscript"===t&&i.FileSystemTools.addMetadata(n,{type:"manuscript",document:"sample",immutable:!0}),n}),n=i.FileSystemTools.createFolder("Samples");t.forEach(e=>{i.FileSystemTools.addEntry(e,n)}),i.FileSystemTools.addEntry(n,e),i.FileSystemTools.addMetadata(n,{immutable:!0})}(t),n(t),await async function(e){const t=await(0,r.fetchUploads)();return t.map(e=>i.FileSystemTools.createFile(e.name,e.id)).forEach(t=>{i.FileSystemTools.addEntry(t,e)}),e}(t),e(t),t}}catch(e){console.error(e),window.alert("Error loading file system")}}function n(e){const t=i.FileSystemTools.createTrash("Trash");i.FileSystemTools.addEntry(t,e)}return{getRoot:async function(){return await t()},setFileSystem:e,getFileSystem:t,newTrash:n}}},function(e){e.exports=JSON.parse('{"@context":["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.samples=void 0,t.samples=[["CDN-Hsmu_M2149.L4_001r","folio"],["CDN-Hsmu_M2149.L4_002r","folio"],["CH-E_611_024r","folio"],["CH-E_611_026r","folio"],["CH-E_611_028r","folio"],["Salzinnes","manuscript"]]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dashboardState=t.ShiftSelectionManager=void 0;t.ShiftSelectionManager=class{constructor(){this.prevSelection=[],this.reset()}setStart(e){this.reset(),this.start=Math.max(e,0)}setEnd(e){this.end=e}reset(){this.start=0,this.end=-1,this.prevSelection.splice(0)}getPrevSelection(){return this.prevSelection}getSelection(e){let t,n;if(-1===this.end)return[];this.end<this.start?(t=this.end,n=this.start+1):(t=this.start,n=this.end+1);const i=Array.from({length:n-t},(e,n)=>n+t).filter(t=>!e[t]);return this.prevSelection=i,i}},t.dashboardState=function(){let e=[],t=[],n=[],i=null;function r(e){return e&&(i=e),i}function o(){return e.filter((e,n)=>t[n])}return{root:r,setEntries:function(n){e=n,t=Array(n.length).fill(!1)},getEntries:function(){return e},getIndexByEntryName:function(t){return e.findIndex(e=>e.name===t)},setSelection:function(e,n){t[e]=n},getSelection:function(){return t},resetSelection:function(){t.fill(!1)},setFolderPath:function(e){n=e},getFolderPath:function(){return n},getFolderPathNames:function(){return n.map(e=>e.name)},getFolderPathByNames:function(e){let t=r();e=e.slice(1);for(const n of e){const e=t.children.find(e=>e.name===n);if(!e||"folder"!==e.type)return void console.debug("failed to find folder: ",n);t=e}return t},getParentFolder:function(){return n.at(-1)},getTrashFolder:function(){return r().children.filter(e=>"trash"===e.type)[0]},getSelectedEntries:o,getSelectedFolders:function(){return o().filter(e=>"folder"===e.type)},getSelectedTrash:function(){return o().filter(e=>"trash"===e.type)},getSelectedFiles:function(){return o().filter(e=>"file"===e.type)},isInTrash:function(){return n.some(e=>"trash"===e.type)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitUploadArea=void 0;const i=n(17),r=n(95),o=n(56);t.InitUploadArea=function(e){const t=new i.ModalWindow;t.setModalWindowView(i.ModalWindowView.DOCUMENT_UPLOAD),t.openModalWindow();const n=document.querySelector("#make_pair"),s=document.querySelector("#upload_button");n.addEventListener("click",r.handleMakePair),s.addEventListener("click",()=>async function(e,t){const n=document.querySelector("#uploading_spinner");n.classList.add("visible"),(0,r.handleUploadAllDocuments)(t).then(()=>{setTimeout(async()=>{await(0,o.updateDashboard)(),n.classList.remove("visible"),e.hideModalWindow()},2e3)}).catch(t=>{console.log("One or more uploads rejected: ",t),setTimeout(async()=>{await(0,o.updateDashboard)(),n.classList.remove("visible"),e.hideModalWindow()},2e3)})}(t,e));const a=document.createElement("input");a.type="file",a.multiple=!0,a.addEventListener("change",(function(){const e=a.files,t=Array.from(e),n=(0,r.addNewFiles)(t);if(0!==n.length){const e=n.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}a.value=null}));const c=document.querySelector("#initial_upload_area");c.onclick=()=>a.click(),c.ondragleave=()=>c.classList.remove("over"),c.ondragover=e=>{e.stopPropagation(),e.preventDefault(),c.classList.add("over"),e.dataTransfer.dropEffect="copy"},c.ondrop=e=>{e.stopPropagation(),e.preventDefault(),c.classList.remove("over");const t=e.dataTransfer.files,n=Array.from(t),i=(0,r.addNewFiles)(n);if(0!==i.length){const e=i.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}},document.querySelectorAll(".sort_name").forEach(e=>{e.addEventListener("click",()=>(0,r.sortFileByName)(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fnConflictHandler=t.formatFilename=t.sortFileByName=t.handleUploadAllDocuments=t.handleMakePair=t.addNewFiles=void 0;const i=n(30),r=n(96),o=n(46),s=n(25),a=r.default.getInstance();function c(e,t){if("mei"!==t&&"image"!==t)return;const n="mei"===t?"mei_radio_group":"image_radio_group",r=(0,i.v4)(),o=document.createElement("div");o.className="unpaired_item_container";const s=document.createElement("input");s.type="radio",s.className="unpaired_item_radio",s.name=n,s.value=e,s.id=r;const a=document.createElement("label");a.className="unpaired_item_label",a.setAttribute("for",r);const c=document.createElement("span");c.innerText=l(e,50),c.setAttribute("style","margin-top: auto; margin-left: 3px;");const d=document.createElement("img");return d.className="unpaired_del_btn",d.src="/Neon/Neon-gh/assets/img/unpaired-remove-doc.svg",d.title="delete",a.appendChild(s),a.appendChild(c),o.appendChild(a),o.appendChild(d),d.addEventListener("click",(function(){o.remove()})),o}function l(e,t){const n=Math.floor(t/2),i=e.length;return i<=t?e:`${e.substring(0,n-1)}...${e.substring(i-n+2,i)}`}function d(e,t){let n=e,i=1;for(;t.includes(n);)n=`${e}(${i})`,i++;return n}a.setMeiTemplate("samples/mei/mei_template.mei"),t.addNewFiles=function(e){const t=document.querySelector("#mei_list"),n=document.querySelector("#image_list"),i=[];return e.forEach(e=>{const r=e.name.split(".").pop();if("mei"===r){const n=c(e.name,"mei");t.appendChild(n),a.addFile(e)}else if(["png","jpg","jpeg"].includes(r)){const t=c(e.name,"image");n.appendChild(t),a.addFile(e)}else"jsonld"===r||i.push(e)}),i},t.handleMakePair=function(){const e=document.querySelector("#paired_list"),t=document.querySelector('input[name="mei_radio_group"]:checked'),n=document.querySelector('input[name="image_radio_group"]:checked');if(null===t||null===n)return;let i=t.value;const r=n.value;let o=!1;if("create_mei"===t.value){o=!0;const e=r.split(".");e.length>1&&e.pop(),e.push("mei"),i=e.join("."),a.getImgDimension(r).then(e=>{const{width:t,height:n}=e,r=a.createMeiFile(i,t,n);a.addFile(r)}).catch(e=>{console.error(e.message)})}const s=i.substring(0,i.length-4),d=function(e,t,n){const i=document.querySelector("#mei_list"),r=document.querySelector("#image_list"),o=document.createElement("div");o.className="folio_item",o.setAttribute("mei",t),o.setAttribute("image",n);const s=document.createElement("div");function d(){o.remove();const s=a.isCreatedFolio(e);if(a.removeFolio(e),!s){const e=c(t,"mei");i.appendChild(e)}const l=c(n,"image");r.appendChild(l)}s.classList.add("folio-filename"),s.innerHTML=l(e,50),o.appendChild(s);const u=document.createElement("img");return u.className="unpair_btn",u.src="/Neon/Neon-gh/assets/img/unpair-doc.svg",u.title="unpair",u.addEventListener("click",d),o.appendChild(u),o}(s,i,r);e.appendChild(d),a.addFolio(s,i,r,o),o||t.parentElement.parentElement.remove(),n.parentElement.parentElement.remove()},t.handleUploadAllDocuments=async function(e){const t=[...a.getFolios().map(async([t,n,r])=>{const a=(0,i.v4)();return await async function(e,t,n,i,r){const a=d(t,s.FileSystemTools.getAllNames(r));return(0,o.createManifest)(e,a,n,i).then(t=>{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/ld+json"});return(0,o.addDocument)(e,a,n,!0)}).then(n=>{if(n){const t=(new Date).toLocaleString(),n=s.FileSystemTools.createFile(a,e),i=s.FileSystemTools.addMetadata(n,{type:"folio",created_on:t});return s.FileSystemTools.addEntry(i,r)}return console.log("failed to uploadFolio: "+t),!1})}(a,t,n,r,e)})].map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e})));return a.clear(),Promise.all(t)},t.sortFileByName=async function(e){const t=e.parentElement.nextElementSibling,n=Array.from(t.children);let i=e.classList.contains("arrow-up");i?(e.classList.remove("arrow-up"),e.classList.add("arrow-down"),e.innerHTML="&#x22C1;"):(e.classList.remove("arrow-down"),e.classList.add("arrow-up"),e.innerHTML="&#x22C0;"),i=!i,n.sort((e,t)=>{const n=e.textContent.trim(),r=t.textContent.trim();return i?n.localeCompare(r):r.localeCompare(n)}),n.forEach(e=>{t.appendChild(e)}),e.setAttribute("style","color: black")},t.formatFilename=l,t.fnConflictHandler=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),r=n(32);class o{constructor(){this.allFiles=new Map,this.folios=new Array}static getInstance(){return o.instance||(o.instance=new o),o.instance}addFile(e){if(this.allFiles.has(e.name)){const t={file:e,count:this.getFileCount(e.name)+1};this.allFiles.set(e.name,t)}else{const t={file:e,count:1};this.allFiles.set(e.name,t)}}async setMeiTemplate(e){try{const t=await fetch(e);if(!t.ok)throw new Error("Failed to load MEI template from "+e);this.meiTemplate=await t.text()}catch(e){console.error(e)}}createMeiFile(e,t,n){try{if(!this.meiTemplate)throw new Error("Cannot find MEI template");const o=new DOMParser,s=new XMLSerializer,a=o.parseFromString(this.meiTemplate,"text/xml"),c=a.documentElement;c.querySelector("meiHead").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("fileDesc").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("titleStmt").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("title").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("pubStmt").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("facsimile").setAttribute("xml:id","m-"+(0,i.uuidv4)());const l=c.querySelector("surface");l.setAttribute("xml:id","m-"+(0,i.uuidv4)()),l.setAttribute("lrx",t.toString()),l.setAttribute("lry",n.toString());c.querySelector("mdiv").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("score").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("scoreDef").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("staffGrp").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("staffDef").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("section").setAttribute("xml:id","m-"+(0,i.uuidv4)());const d=r.xml(s.serializeToString(a)),u=new Blob([d],{type:"text/xml"});return new File([u],e,{type:"text/xml"})}catch(e){console.error(e)}}getImgDimension(e){return new Promise((t,n)=>{const i=this.getFile(e);if(!i)return void n(new Error("File not found: "+e));const r=new FileReader;r.onload=i=>{const r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.onerror=()=>{n(new Error("Failed to load image: "+e))},r.src=i.target.result},r.readAsDataURL(i)})}getFile(e){if(this.allFiles.has(e))return this.allFiles.get(e).file}removeFile(e){const t=this.getFileCount(e);if(0!==t)if(1===t)this.allFiles.delete(e);else{const n={file:this.allFiles.get(e).file,count:t-1};this.allFiles.set(e,n)}}getFileCount(e){return this.allFiles.has(e)?this.allFiles.get(e).count:0}addFolio(e,t,n,i){const r={filename:e,mei_filename:t,image_filename:n,isCreated:i};this.folios.push(r)}isCreatedFolio(e){const t=this.folios.find(t=>t.filename===e);return!!t&&t.isCreated}removeFolio(e){const t=this.folios.findIndex(t=>t.filename===e);this.folios.splice(t,1)}getFolios(){return this.folios.map(e=>{const t=e.filename,n=e.mei_filename,i=e.image_filename;return[t,this.getFile(n),this.getFile(i)]})}clear(){this.allFiles.clear(),this.folios.splice(0)}print(){console.log(this.allFiles),console.log(this.folios)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trashEntryOptions=t.trashFolderOptions=t.multiFolderOptions=t.singleFolderOptions=t.folderAndFileOptions=t.multiFileOptions=t.singleFileOptions=t.defaultOptions=void 0,t.defaultOptions='<div id="cm-upload-doc-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Upload document</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/new-doc.svg">\n    </div>\n    <div id="cm-new-folder-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">New folder</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/new-folder.svg">\n    </div>',t.singleFileOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-rename-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Rename</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/rename-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.multiFileOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.folderAndFileOptions='<div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Delete</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.singleFolderOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-rename-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Rename</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/rename-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.multiFolderOptions='<div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.trashFolderOptions='<div id="cm-empty-trash-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Empty Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>',t.trashEntryOptions='<div id="cm-recover-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Put Back</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/recover-doc.svg">\n    </div>\n    <div id="cm-delete-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Delete</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>'}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Mb2NhbFNldHRpbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L0NvbnRlbnRzLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0Nvb3JkaW5hdGVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yYW5kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL01vZGFsV2luZG93LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnV2dXplbGEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRHJhZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FcnJvckxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvUmVzaXplLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3VjaGRiL2xpYi9pbmRleC1icm93c2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92MS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjM1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbWQ1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zaGExLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92ZXJzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92a2JlYXV0aWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRGFzaGJvYXJkQ29udGVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvV2FybmluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvU3RhZmZUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9OZXVtZVRvb2xzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3F1ZXVlTWljcm90YXNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL211dGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL21lc3NhZ2VDaGFubmVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3N0YXRlQ2hhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9TdG9yYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRGFzaGJvYXJkLnRzIiwid2VicGFjazovLy8uL2RlcGxveW1lbnQvc2NyaXB0cy9kYXNoYm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL0ZpbGVTeXN0ZW1JbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRmlsZVN5c3RlbS9GaWxlU3lzdGVtVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL0ZpbGVTeXN0ZW1NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvc2FtcGxlc19maWxlbmFtZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9EYXNoYm9hcmRUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZEFyZWEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9VcGxvYWRUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZEZpbGVNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvQ29udGV4dE1lbnVDb250ZW50LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVmbGVjdE93bktleXMiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsImFwcGx5IiwidGFyZ2V0IiwicmVjZWl2ZXIiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbmNhdCIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJFdmVudEVtaXR0ZXIiLCJpbml0IiwidGhpcyIsIm9uY2UiLCJlbWl0dGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvckxpc3RlbmVyIiwiZXJyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZXNvbHZlciIsInNsaWNlIiwiYXJndW1lbnRzIiwiZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyIiwiaGFuZGxlciIsImZsYWdzIiwib24iLCJhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlciIsIl9ldmVudHMiLCJ1bmRlZmluZWQiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIlR5cGVFcnJvciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsInByZXBlbmQiLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJuZXdMaXN0ZW5lciIsImVtaXQiLCJ1bnNoaWZ0IiwicHVzaCIsImxlbmd0aCIsIndhcm5lZCIsInciLCJFcnJvciIsIlN0cmluZyIsImNvdW50IiwiY29uc29sZSIsIndhcm4iLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJhcnIiLCJyZXQiLCJBcnJheSIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJsaXN0ZW5lckNvdW50IiwiY29weSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3cmFwTGlzdGVuZXIiLCJhcmciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0IiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJtZXNzYWdlIiwiY29udGV4dCIsImxlbiIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzaGlmdCIsImluZGV4IiwicG9wIiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwia2V5cyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJzY2hlZHVsZURyYWluIiwidHlwZXMiLCJxdWV1ZUluZGV4IiwicXVldWUiLCJzY2hlZHVsZWQiLCJjbGVhblVwTmV4dFRpY2siLCJuZXh0VGljayIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicnVuIiwiY2xlYXJUaW1lb3V0IiwidGVzdCIsImluc3RhbGwiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJ0YXNrIiwiZ2V0U2VsZWN0aW9uVHlwZSIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpZCIsInVuc2VsZWN0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZWxlY3RlZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNvbnRhaW5zIiwicmVtb3ZlQXR0cmlidXRlIiwiQ29sb3IiLCJ1bmhpZ2hsaWdodCIsInN0eWxlIiwiZmlsbCIsImZyb20iLCJkaXZMaW5lIiwic3Ryb2tlIiwic2V0QXR0cmlidXRlIiwibmV1bWUiLCJzeWxSZWN0IiwicGFyZW50RWxlbWVudCIsImFkZCIsImQzIiwic2VsZWN0QWxsIiwiZWwiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJnZXRFbGVtZW50QnlJZCIsIlNlbGVjdE9wdGlvbnMiLCJlbmRPcHRpb25zU2VsZWN0aW9uIiwiR3JvdXBpbmciLCJlbmRHcm91cGluZ1NlbGVjdGlvbiIsImlubmVySFRNTCIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJlbGVtIiwiY2xvc2VzdCIsInNwYW4iLCJhc3luYyIsImlzTGlnYXR1cmUiLCJuYyIsIm5lb25WaWV3IiwiYXR0cmlidXRlcyIsImdldEVsZW1lbnRBdHRyIiwidmlldyIsImdldEN1cnJlbnRQYWdlVVJJIiwiQm9vbGVhbiIsImxpZ2F0ZWQiLCJlbGVtZW50c0hhdmVDb3JyZWN0VHlwZSIsInNlbGVjdGlvblR5cGUiLCJlbGVtZW50cyIsInNoYXJlZFNlY29uZExldmVsUGFyZW50IiwidGVtcEVsZW1lbnRzIiwic2Vjb25kUGFyZW50Iiwic2VsZWN0QkJveCIsImJib3giLCJzeWwiLCJyZXNpemUiLCJxdWVyeVNlbGVjdG9yIiwidHJpZ2dlckJCb3hBY3Rpb25zIiwicGFyZW50IiwicHJldk5jIiwicHJldmlvdXNTaWJsaW5nIiwibmV4dE5jIiwibmV4dFNpYmxpbmciLCJ0cmlnZ2VyR3JvdXBpbmciLCJ0cmlnZ2VyTmNBY3Rpb25zIiwiYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUiLCJzb3J0ZWRFbGVtZW50cyIsImoiLCJpc1NhbWVOb2RlIiwiZmlyc3RFbGVtIiwic2Vjb25kRWxlbSIsImluZGV4MSIsImluZGV4T2YiLCJpbmRleDIiLCJNYXRoIiwiYWJzIiwiZmlsdGVyIiwicmVmZXJlbmNlUGFyZW50U3RhZmYiLCJyZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSIsImVsZW1lbnRzQXJyYXkiLCJhbm90aGVyU3RhZmYiLCJ1bHgiLCJ1bHkiLCJscngiLCJscnkiLCJyb3RhdGUiLCJwYXRoIiwiY29vcmRpbmF0ZXMiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaCIsIm1hcCIsImF0YW4iLCJtaW4iLCJtYXgiLCJub3ROZXVtZXMiLCJubiIsInNlbGVjdGlvbkNsYXNzIiwiY29udGFpbnNMYXllckVsZW1lbnRzIiwiY29udGFpbnNOYyIsImdyb3Vwc1RvU2VsZWN0IiwiU2V0IiwiZ3JvdXBpbmciLCJmb2xsb3dzIiwicHJlY2VkZXMiLCJncm91cCIsImdyb3VwcyIsInZhbHVlcyIsInRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucyIsInNpemUiLCJ0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyIsInRyaWdnZXJEZWZhdWx0QWN0aW9ucyIsInRyaWdnZXJTeWxsYWJsZUFjdGlvbnMiLCJpc0xpbmthYmxlIiwiaXNHcm91cGFibGUiLCJ0cmlnZ2VyTmV1bWVBY3Rpb25zIiwiY2hpbGRyZW4iLCJmaXJzdE5DIiwic2Vjb25kTkMiLCJmaXJzdE5DWCIsIngiLCJiYXNlVmFsIiwic2Vjb25kTkNYIiwiZmlyc3ROQ1kiLCJ5Iiwic2Vjb25kTkNZIiwiZyIsInRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyIsImxvY2FsU2V0dGluZ3MiLCJERUZBVUxUX1NFVFRJTkdTIiwiem9vbSIsImdseXBoT3BhY2l0eSIsImltYWdlT3BhY2l0eSIsImNpcmNsZVNpemUiLCJoaWdobGlnaHRNb2RlIiwidXNlck1vZGUiLCJpbnNlcnRNb2RlIiwiaW5zZXJ0VGFiIiwic2VsZWN0aW9uTW9kZSIsImRpc3BsYXlCQm94IiwiZGlzcGxheVRleHQiLCJkaXNwbGF5SW5mbyIsImRpc3BsYXlFcnJMb2ciLCJ2aWV3Qm94Iiwic2V0dGluZ3MiLCJwYXJhbXMiLCJmb2xpb0lkIiwibG9hZCIsInN0b3JlZCIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzeW5jIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIm5vdGlmaWNhdGlvbnMiLCJjdXJyZW50TW9kZU1lc3NhZ2UiLCJub3RpZmljYXRpb25JY29uIiwiZGVmYXVsdCIsInN1Y2Nlc3MiLCJOb3RpZmljYXRpb24iLCJkaXNwbGF5ZWQiLCJ1dWlkdjQiLCJpc01vZGVNZXNzYWdlIiwic2VhcmNoIiwidGltZW91dElEIiwiY2xlYXJOb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJzdGFydE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsImdldElkIiwibm90aWZpY2F0aW9uQ29udGVudCIsIm5ld05vdGlmaWNhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJkaXNwbGF5IiwiZGlzcGxheU5vdGlmaWNhdGlvbiIsInNldFRpbWVvdXRJZCIsInF1ZXVlTm90aWZpY2F0aW9uIiwicmVjb3JkTm90aWZpY2F0aW9uIiwiaW5zZXJ0VGFiSHRtbCIsInByaW1pdGl2ZVRhYiIsImdyb3VwaW5nVGFiIiwic3lzdGVtVGFiIiwiaW5zZXJ0Q29udHJvbHNQYW5lbCIsImVkaXRDb250cm9sc1BhbmVsIiwibmNBY3Rpb25Db250ZW50cyIsImRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzIiwibmV1bWVBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyIsInN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyIsImNvbHVtbkFjdGlvbkNvbnRlbnRzIiwiY2xlZkFjdGlvbkNvbnRlbnRzIiwiZGl2TGluZUFjdGlvbkNvbnRlbnRzIiwiYmJveEFjdGlvbkNvbnRlbnRzIiwiZ3JvdXBpbmdNZW51IiwibGlnYXR1cmVOYyIsImxpZ2F0dXJlIiwic3BsaXRTeWxsYWJsZSIsImVkaXRUZXh0TW9kYWwiLCJob3RrZXlzTW9kYWwiLCJzeWxsYWJsZUFjdGlvbnNDb250ZW50IiwiZXJyb3JMb2dzUGFuZWxDb250ZW50cyIsImUiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5IiwibGFzdENpcmNsZVNpemUiLCJzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIiwibWVpQ2xhc3NOYW1lIiwib3BhY2l0eU91dHB1dCIsInNldFNldHRpbmdzIiwiaGlkZUdseXBoSW1nIiwib3BhY2l0eSIsInNldEJnT3BhY2l0eUZyb21TbGlkZXIiLCJiYWNrZ3JvdW5kIiwiYmdPcGFjaXR5T3V0cHV0IiwiaGlkZUJnSW1nIiwiYmciLCJ1cGRhdGVIaWdobGlnaHRPcHRpb24iLCJvcHRpb24iLCJkcm9wZG93biIsImhpZ2hsaWdodFR5cGUiLCJ0ZXh0Q29udGVudCIsInVuc2V0R3JvdXBpbmdIaWdobGlnaHQiLCJ0b1VwcGVyQ2FzZSIsInNldEdyb3VwaW5nSGlnaGxpZ2h0Iiwic2V0SGlnaGxpZ2h0T3B0aW9uIiwiaGlnaGxpZ2h0Q2xpY2thd2F5IiwiYm9keSIsInNldEhpZ2hsaWdodENvbnRyb2xzIiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwibG9hZEhpZ2hsaWdodFNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ6b29tSGFuZGxlciIsInpvb21TbGlkZXIiLCJ6b29tT3V0cHV0Iiwiem9vbVRvIiwicmVzZXRab29tQW5kUGFuIiwiZGlzYWJsZWQiLCJjdXJyZW50Wm9vbSIsInBhcnNlSW50IiwicHJldmVudERlZmF1bHQiLCJuZXdab29tIiwiY2lyY2xlU2xpZGVyIiwiY2lyY2xlT3V0cHV0IiwiY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciIsInJlc2l6ZVBvaW50cyIsImVtcHR5IiwiYXR0ciIsImhpZ2hsaWdodFNlbGVjdGlvbiIsImhpZ2hsaWdodElkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJjaGVja2VkIiwib3BhY2l0eVNsaWRlciIsImlucHV0Q2hhbmdlT3BhY2l0eSIsInRvZ2dsZU9wYWNpdHlCdG4iLCJuZXdPcGFjaXR5Iiwicm91bmQiLCJzZXRHbHlwaE9wYWNpdHlDb250cm9scyIsImJnT3BhY2l0eVNsaWRlciIsImJnSW5wdXRDaGFuZ2VIYW5kbGVyIiwidG9nZ2xlQmdPcGFjaXR5QnRuIiwic2V0QmdPcGFjaXR5Q29udHJvbHMiLCJtZXRhS2V5Iiwic2VsZWN0QWxsQnRuIiwib3B0aW9ucyIsImNsaWNrIiwic2V0RGlzcGxheUFsbExpc3RlbmVyIiwiZGlzcGxheUNvbnRlbnRzIiwidG9nZ2xlRGlzcGxheSIsInBhZGRpbmciLCJvdmVyZmxvdyIsInVuc2V0SW5jbGluYXR1bUFjdGlvbiIsImFjdGlvbiIsInBhcmFtIiwiZWxlbWVudElkIiwiYXR0clR5cGUiLCJhdHRyVmFsdWUiLCJ1bnNldFZpcmdhQWN0aW9uIiwidW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiIsImRlbGV0ZUJ1dHRvbkhhbmRsZXIiLCJyZW1vdmVIYW5kbGVyIiwibW9yZUVkaXQiLCJleHRyYUVkaXQiLCJ0b1JlbW92ZSIsImNoYWluQWN0aW9uIiwiZWRpdCIsInRoZW4iLCJ1cGRhdGVGb3JDdXJyZW50UGFnZSIsImNoYW5nZVN0YWZmSGFuZGxlciIsInRvQ2hhbmdlIiwiaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIiLCJ0b0luc2VydCIsInJlc3VsdCIsIm1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyIiwidG9Nb3ZlIiwibWF0Y2hIZWlnaHRIYW5kbGVyIiwiYWRkRGVsZXRlTGlzdGVuZXIiLCJkZWwiLCJhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyIiwiY2hhbmdlU3RhZmYiLCJ1cGRhdGVDb2x1bW5JbmZvIiwiY29sSW5wdXQiLCJzdGF2ZXMiLCJjb2xJbmZvIiwiaGFzQ29sdW1uIiwiam9pbiIsInN0YWZmQ29sIiwiaW5uZXJUZXh0IiwiYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyIiwiZGVjcmVtZW50QnV0dG9uIiwiaW5jcmVtZW50QnV0dG9uIiwiY29uZmlybUJ1dHRvbiIsInVwZGF0ZU51bWJlciIsImNoYW5nZSIsImN1cnJlbnRWYWx1ZSIsInRvU2V0Q29sdW1uIiwic2V0RWRpdENvbnRyb2xzIiwiZWRpdFR5cGUiLCJjb250ZW50cyIsInJlcGxhY2UiLCJwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uIiwidHJpZ2dlclN0YWZmU3BsaXRNb2RlIiwiU3BsaXRTdGFmZkhhbmRsZXIiLCJzdGFydFNwbGl0IiwiaW5pdE9wdGlvbnNMaXN0ZW5lcnMiLCJkcm9wIiwib3B0aW9uc0NsaWNrYXdheSIsIm90aGVyIiwiaW5pdE5lb25WaWV3IiwiQ29udGVudHMiLCJ1bnNldEluY2xpbmF0dW0iLCJ1bnNldFZpcmdhIiwidW5zZXRWaXJnYVJldmVyc2VkIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInNldEluY2xpbmF0dW0iLCJzZXRWaXJnYSIsInNldFZpcmdhUmV2ZXJzZWQiLCJzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIiwic2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UiLCJ0cmlnZ2VyQ2hhbmdlR3JvdXAiLCJjb250b3VyIiwiY2hhbmdlR3JvdXBpbmdBY3Rpb24iLCJTcGxpdE5ldW1lSGFuZGxlciIsImluZm8iLCJnZXRDb250b3VyQnlWYWx1ZSIsImV4dHJhQWN0aW9uc0hUTUwiLCJhY2NpZE9wdGlvbnNMaXN0ZW5lciIsImluY3JlbWVudE9jdGF2ZSIsImRpcmVjdGlvbiIsInNoYXBlIiwiY2xlZk9wdGlvbnNMaXN0ZW5lciIsImRpdkxpbmVPcHRpb25zTGlzdGVuZXIiLCJtZXJnZVN0YXZlcyIsInBvaW50cyIsImdldFN0YWZmQkJveCIsInlfY2hhbmdlIiwidGFuIiwiZWRpdG9yQWN0aW9uIiwiZ2V0U1ZHUmVsQ29vcmRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJwdCIsIkRPTVBvaW50Iiwic3lzdGVtIiwibWF0cml4VHJhbnNmb3JtIiwiZ2V0U2NyZWVuQ1RNIiwiaW52ZXJzZSIsImdldFN0YWZmSWRCeUNvb3JkcyIsInN0YWZmQkJveGVzIiwiZmluZCIsInN0YWZmSWQiLCJiZ0ltZyIsInJlY3QiLCJ0YWdOYW1lIiwiZ2V0QkJveCIsInBhcmVudE5vZGUiLCJ3aWR0aCIsImhlaWdodCIsImhleF9jaHIiLCJtZDVjeWNsZSIsImsiLCJhIiwiYiIsIm1kNWJsayIsIm1kNWJsa3MiLCJjaGFyQ29kZUF0IiwibWQ1YmxrX2FycmF5IiwibWQ1MSIsInRhaWwiLCJ0bXAiLCJsbyIsImhpIiwic3Vic3RyaW5nIiwicmhleCIsImhleCIsInRvVXRmOCIsInN0ciIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGV4VG9CaW5hcnlTdHJpbmciLCJieXRlcyIsImZyb21DaGFyQ29kZSIsIlNwYXJrTUQ1IiwicmVzZXQiLCJBcnJheUJ1ZmZlciIsImNsYW1wIiwidmFsIiwidG8iLCJudW0iLCJ0YXJnZXRBcnJheSIsInNvdXJjZUFycmF5IiwiYnl0ZUxlbmd0aCIsImJlZ2luIiwiZW5kIiwiVWludDhBcnJheSIsImFwcGVuZEJpbmFyeSIsIl9idWZmIiwiX2xlbmd0aCIsIl9oYXNoIiwicmF3IiwiYnVmZiIsIl9maW5pc2giLCJnZXRTdGF0ZSIsImhhc2giLCJzZXRTdGF0ZSIsImRlc3Ryb3kiLCJoYXNoQmluYXJ5IiwiY29udGVudCIsImZpcnN0Iiwic2Vjb25kIiwicmV0dXJuVUludDhBcnJheSIsImJ1ZmZlciIsInN1YmFycmF5IiwidXRmOFN0cjJBcnJheUJ1ZmZlciIsIm1kNTFfYXJyYXkiLCJmYWN0b3J5IiwidWludDhUb1V1aWQiLCJkYXRhIiwiY2IiLCJwcmV2aW91cyIsImN1cnJlbnQiLCJwYWRTdGFydCIsInJlZHVjZSIsImNyeXB0byIsIm9jdGV0cyIsIm1vZGlmaWVycyIsImdldFJhbmRvbVZhbHVlcyIsIk1vZGFsV2luZG93VmlldyIsIk1vZGFsV2luZG93U3RhdGUiLCJvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyIsImhpZGVNb2RhbFdpbmRvdyIsInVwZGF0ZVN5bFRleHQiLCJmb2N1c01vZGFsV2luZG93Iiwib3JpZyIsInRyaW0iLCJ1cGRhdGVkU3lsVGV4dCIsImVudHJpZXMiLCJjbGFzc05hbWUiLCJ0ZXh0IiwicmVzcG9uc2UiLCJ1cGRhdGVTZWxlY3RlZEJCb3giLCJrZXlkb3duTGlzdGVuZXIiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJtb2RhbFdpbmRvd1ZpZXciLCJFRElUX1RFWFQiLCJET0NVTUVOVF9VUExPQUQiLCJORVdfRk9MREVSIiwiUkVOQU1FIiwiZm9jdXMiLCJtb2RhbFdpbmRvd1N0YXRlIiwiQ0xPU0VEIiwic2V0dXBFdmVudExpc3RlbmVycyIsInNldE1vZGFsV2luZG93Q29udGVudCIsIkhPVEtFWVMiLCJNT1ZFX1RPIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiT1BFTiIsInJlbW92ZUV2ZW50TGlzdGVuZXJzIiwiY29udGFpbmVyIiwidGl0bGUiLCJyZW1vdmVTeW1ib2wiLCJWQUxJREFUSU9OX1NUQVRVUyIsInVwbG9hZEFyZWFIVE1MIiwibmV3Rm9sZGVySFRNTCIsInJlbmFtZUhUTUwiLCJiYm94SWQiLCJkaXNwbGF5UmVjdCIsIkNvbG9yUGFsZXR0ZSIsInJlY3RzIiwidW5zZXRTdGFmZkhpZ2hsaWdodCIsImNoaWxkIiwiY2NoaWxkIiwic2V0U3RhZmZIaWdobGlnaHQiLCJzdGFmZkNvbG9yIiwiY29sdW1uTnVtIiwiY29sdW1uIiwic2V0Q29sdW1uSGlnaGxpZ2h0IiwiZ3JvdXBDb2xvciIsImRpdkxpbmVDaGlsZHJlbiIsInJuZHM4Iiwicm5nIiwibXNDcnlwdG8iLCJvYmoiLCJzdGFjayIsIm1ldGFTdGFjayIsImxhc3RNZXRhRWxlbWVudCIsImxhc3RFbGVtZW50SW5kZXgiLCJpc0FycmF5IiwiaW5wdXQiLCJuZXh0IiwiYXJyYXlQcmVmaXgiLCJvYmpQcmVmaXgiLCJyZXMiLCJwcmVmaXgiLCJjb2xsYXRpb25JbmRleCIsInBhcnNlZE51bSIsIm51bUNoYXIiLCJwYXJzZWRTdHJpbmciLCJsYXN0Q2giLCJudW1Db25zZWN1dGl2ZVNsYXNoZXMiLCJjaCIsImFycmF5RWxlbWVudCIsIm9iakVsZW1lbnQiLCJwYXJzZUZsb2F0IiwiYnVmIiwicm5kcyIsInJhbmRvbSIsInNlbGVjdG9yIiwiZHJhZ1N0YXJ0Q29vcmRzIiwiZHJhZ0JlaGF2aW91ciIsImRyYWciLCJldmVudCIsImR4IiwiZHkiLCJzb3VyY2VFdmVudCIsImRyYWdnaW5nIiwiZHJhZ0VuZGVkIiwic2VsZWN0aW9uIiwibm9Nb3ZlUHJlY2VkZXMiLCJoYXNBdHRyaWJ1dGUiLCJtb3ZlRWxlbWVudHMiLCJiYm94ZXMiLCJ4RGlmZiIsInlEaWZmIiwiaXNDdXJzb3JPdXRPZkJvdW5kcyIsImlzRHJhZ091dE9mQm91bmRzIiwicmV0dXJuRWxlbWVudHMiLCJwYXJhbUFycmF5IiwiZHJhZ0FjdGlvbiIsInRvUmVzZWxlY3QiLCJyZXNlbGVjdCIsInJlc2VsZWN0ZWQiLCJyZXNldFRvQWN0aW9uIiwiZW5kWCIsImVuZFkiLCJpc091dE9mU1ZHQm91bmRzIiwiZ2x5cGhTZWxlY3RvciIsInNlbGVjdGlvbkJCb3giLCJhY2MiLCJnZXRHbHlwaEJCb3giLCJjdXJyIiwiTUFYX1ZBTFVFIiwiTUlOX1ZBTFVFIiwiU2VsZWN0VG9vbHMiLCJzaGFyZWRMb2dpY2FsUGFyZW50IiwiYXJlQWRqYWNlbnQiLCJjb250YWluc0xpbmtlZCIsImlzTGlua2VkIiwiaXNNdWx0aVN0YXZlU2VsZWN0aW9uIiwic3RhZmYwIiwic3RhZmYxIiwic3RhZmZDaGlsZHJlbiIsImZpcnN0U3RhZmYiLCJzZWNvbmRTdGFmZiIsImZpcnN0TGF5ZXIiLCJzZWNvbmRMYXllciIsImZpcnN0U3lsbGFibGVDaGlsZHJlbiIsInNlY29uZFN5bGxhYmxlQ2hpbGRyZW4iLCJsYXN0U3lsbGFibGUiLCJmaXJzdFN5bGxhYmxlIiwic3lzdGVtcyIsImVsZW1lbnRJZHMiLCJncm91cGluZ0FjdGlvbiIsImdldENoaWxkcmVuSWRzIiwiZ2V0SWRzIiwidG9nZ2xlTGlua2VkU3lsbGFibGVzIiwiZ3JvdXBUeXBlIiwibmV1bWVQYXJlbnQiLCJuY3MiLCJnZXRDb250b3VyIiwiV2FybmluZ3MiLCJncm91cGluZ05vdFJlY29nbml6ZWQiLCJzeWxsYWJsZTAiLCJzeWxsYWJsZTEiLCJzZWNvbmRTeWxsYWJsZSIsImlkcyIsImNoaWxkcmVuSWRzIiwiRW50cnlUeXBlIiwiRmlsZVN5c3RlbVRvb2xzIiwiRmlsZVN5c3RlbU1hbmFnZXIiLCJpbml0RXJyb3JMb2dDb250cm9scyIsImVycm9yUGFuZWwiLCJoZWFkaW5nIiwiZHJvcGRvd25JY29uIiwiaW5pdERpc3BsYXlMaXN0ZW5lciIsIm5vdGlmUGFuZWwiLCJjaGVja2JveGVzQ29udGFpbmVyIiwiZXJyb3JzTGFiZWwiLCJlcm9ycnNCdG4iLCJhcHBlbmRDaGlsZCIsIm5vdGlmIiwibm90aWZEaXYiLCJvbmNsaWNrIiwiY3JlYXRlTG9nTWVzc2FnZSIsIlBvaW50TmFtZXMiLCJUb3BMZWZ0IiwiVG9wIiwiVG9wUmlnaHQiLCJSaWdodCIsIkJvdHRvbVJpZ2h0IiwiQm90dG9tIiwiQm90dG9tTGVmdCIsIkxlZnQiLCJnZXRQb2ludHMiLCJzaW4iLCJpbml0aWFsVWx4IiwiaW5pdGlhbExyeCIsImluaXRpYWxQb2ludCIsImluaXRpYWxVbHkiLCJpbml0aWFsTHJ5IiwiaW5pdGlhbFkiLCJpbml0aWFsUmVjdFkiLCJwb2x5TGVuIiwiaW5pdGlhbFJvdGF0ZSIsInJlZHJhdyIsInBvaW50U3RyaW5nIiwiX2VsZW0iLCJ0ZXh0UmVjdCIsInBvaW50TmFtZSIsInBvaW50IiwicG9pbnRTdHJpbmdSaWdodCIsInBvaW50U3RyaW5nTGVmdCIsImRyYXdJbml0aWFsUmVjdCIsIndoaWNoUG9pbnQiLCJfIiwidmlld3BvcnRFbGVtZW50IiwicmVzaXplU3RhcnQiLCJyZXNpemVEcmFnIiwicmVzaXplRW5kIiwicm90YXRlU3RhcnQiLCJ0ZW1wIiwibW91c2UiLCJ0ZW1wUm90YXRlIiwicm90YXRlRW5kIiwiY3VycmVudFBvaW50Iiwid2hpY2giLCJQSSIsIkV4cG9ydGVkU2V0IiwiRXhwb3J0ZWRNYXAiLCJtYW5nbGUiLCJ1bm1hbmdsZSIsIk1hcCQxIiwiX3N0b3JlIiwiU2V0JDEiLCJjbG9uZUJpbmFyeU9iamVjdCIsImNsb25lQXJyYXlCdWZmZXIiLCJ3ZWJraXRTbGljZSIsIm1hbmdsZWQiLCJoYXMiLCJkZWxldGUiLCJNYXAiLCJwcm9wIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic3BlY2llcyIsInN1cHBvcnRzTWFwQW5kU2V0IiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsImNsb25lIiwibmV3T2JqZWN0IiwiRGF0ZSIsImlzRmluaXRlIiwidG9JU09TdHJpbmciLCJCbG9iIiwiaXNCaW5hcnlPYmplY3QiLCJwcm90byIsIkN0b3IiLCJpc1BsYWluT2JqZWN0IiwiY2FsbGVkIiwidG9Qcm9taXNlIiwiZnVuYyIsInNlbGYiLCJ1c2VkQ0IiLCJwcm9taXNlIiwiZnVsZmlsbCIsInJlc3AiLCJjYWxsYmFjayIsIm1lc2ciLCJhZGFwdGVyRnVuIiwiX2Nsb3NlZCIsIl9kZXN0cm95ZWQiLCJsb2dBcmdzIiwib3JpZ0NhbGxiYWNrIiwicmVzcG9uc2VBcmdzIiwibG9nQXBpQ2FsbCIsInRhc2txdWV1ZSIsImlzUmVhZHkiLCJhZGRUYXNrIiwiZmFpbGVkIiwicGljayIsImhhc0xvY2FsIiwiaWRlbnRpdHlGdW5jdGlvbiIsImZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0Iiwib2siLCJidWxrR2V0IiwiZGIiLCJvcHRzIiwicmVxdWVzdHMiLCJkb2NzIiwicmVxdWVzdHNCeUlkIiwicmVxdWVzdCIsIm51bURvY3MiLCJudW1Eb25lIiwicGVyRG9jUmVzdWx0cyIsImNoZWNrRG9uZSIsInJlc3VsdHMiLCJhbGxSZXF1ZXN0cyIsIm5leHRCYXRjaCIsInVwVG8iLCJiYXRjaCIsImRvY0lkIiwiZG9jSWR4IiwiZG9jUmVxdWVzdHMiLCJkb2NPcHRzIiwib3Blbl9yZXZzIiwicmV2IiwiZm9ybWF0UmVzdWx0IiwicHJvY2Vzc0JhdGNoIiwiaGFzTG9jYWxTdG9yYWdlIiwiQ2hhbmdlcyIsImF0dGFjaEJyb3dzZXJFdmVudHMiLCJndWFyZGVkQ29uc29sZSIsIm1ldGhvZCIsImRlZmF1bHRCYWNrT2ZmIiwibWF4VGltZW91dCIsInJhbmRvbU51bWJlciIsImV4cGxhaW5FcnJvciIsInN0YXR1cyIsImRiTmFtZSIsImlucHJvZ3Jlc3MiLCJldmVudEZ1bmN0aW9uIiwiY2hhbmdlc09wdHMiLCJjaGFuZ2VzIiwic2VxIiwic2luY2UiLCJjYW5jZWxsZWQiLCJvbkNoYW5nZSIsIm5vdGlmeUxvY2FsV2luZG93cyIsIm5vdGlmeSIsIiRpbmplY3RfT2JqZWN0X2Fzc2lnbiIsImFzc2lnbiIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwiUG91Y2hFcnJvciIsInJlYXNvbiIsIk1JU1NJTkdfQlVMS19ET0NTIiwiTUlTU0lOR19ET0MiLCJSRVZfQ09ORkxJQ1QiLCJJTlZBTElEX0lEIiwiTUlTU0lOR19JRCIsIlJFU0VSVkVEX0lEIiwiVU5LTk9XTl9FUlJPUiIsIkJBRF9BUkciLCJRVUVSWV9QQVJTRV9FUlJPUiIsIkRPQ19WQUxJREFUSU9OIiwiQkFEX1JFUVVFU1QiLCJOT1RfQU5fT0JKRUNUIiwiSURCX0VSUk9SIiwiSU5WQUxJRF9SRVYiLCJNSVNTSU5HX1NUVUIiLCJjcmVhdGVFcnJvciIsIkN1c3RvbVBvdWNoRXJyb3IiLCJuYW1lcyIsImdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UiLCJmaWx0ZXJDaGFuZ2UiLCJyZXEiLCJoYXNGaWx0ZXIiLCJxdWVyeSIsInF1ZXJ5X3BhcmFtcyIsImRvYyIsImZpbHRlclJldHVybiIsIm1zZyIsInRyeUZpbHRlciIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwiYXR0IiwiX2F0dGFjaG1lbnRzIiwic3R1YiIsImZsYXR0ZW4iLCJhcnJzIiwiaW52YWxpZElkRXJyb3IiLCJpc1JlbW90ZSIsIl9yZW1vdGUiLCJwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsInBhcnRzIiwic3BsaXQiLCJub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUiLCJub3JtYWxpemVkIiwicVBhcnNlciIsInBhcnNlciIsInBhcnNlVXJpIiwiZXhlYyIsInVyaSIsImVuY29kZWQiLCJkZWNvZGVVUklDb21wb25lbnQiLCIkMCIsIiQxIiwiJDIiLCJzY29wZUV2YWwiLCJzb3VyY2UiLCJzY29wZSIsInVwc2VydCIsImRpZmZGdW4iLCJjYXRjaCIsImRvY1JldiIsIl9yZXYiLCJuZXdEb2MiLCJfaWQiLCJwdXQiLCJ1cGRhdGVkIiwidHJ5QW5kUHV0IiwidGhpc0F0b2IiLCJhdG9iIiwidGhpc0J0b2EiLCJidG9hIiwiY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJidWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImdldEJsb2IiLCJiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYmluU3RyaW5nVG9CbHVmZmVyIiwiYmluU3RyaW5nIiwiYjY0VG9CbHVmZmVyIiwiYjY0IiwicmVhZEFzQmluYXJ5U3RyaW5nIiwiYmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJoYXNCaW5hcnlTdHJpbmciLCJvbmxvYWRlbmQiLCJiaW5hcnkiLCJhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJibG9iVG9CaW5hcnlTdHJpbmciLCJibG9iT3JCdWZmZXIiLCJibG9iVG9CYXNlNjQiLCJiYXNlNjQiLCJzZXRJbW1lZGlhdGVTaGltIiwic2V0SW1tZWRpYXRlIiwiYXBwZW5kQmxvYiIsInN0YXJ0Iiwic2xpY2VCbG9iIiwiYXJyYXlCdWZmZXIiLCJhcHBlbmRTdHJpbmciLCJzdHJpbmciLCJiaW5hcnlNZDUiLCJpbnB1dElzU3RyaW5nIiwiY2h1bmtTaXplIiwiY2h1bmtzIiwiY2VpbCIsImN1cnJlbnRDaHVuayIsImxvYWROZXh0Q2h1bmsiLCJkb25lIiwicmF3VG9CYXNlNjQiLCJzdHJpbmdNZDUiLCJyZXYkJDEiLCJkZXRlcm1pbmlzdGljX3JldnMiLCJtdXRhdGVhYmxlRG9jIiwiX3Jldl90cmVlIiwid2lubmluZ1JldiIsIm1ldGFkYXRhIiwid2lubmluZ0lkIiwid2lubmluZ1BvcyIsIndpbm5pbmdEZWxldGVkIiwibm9kZSIsInRvVmlzaXQiLCJyZXZfdHJlZSIsInRyZWUiLCJicmFuY2hlcyIsInBvcyIsImRlbGV0ZWQiLCJ0cmF2ZXJzZVJldlRyZWUiLCJyZXZzIiwibmV3Q3R4IiwiY3R4Iiwic29ydEJ5UG9zIiwiY29sbGVjdExlYXZlcyIsImxlYXZlcyIsImlzTGVhZiIsInNvcnQiLCJyZXZlcnNlIiwiY29sbGVjdENvbmZsaWN0cyIsIndpbiIsImNvbmZsaWN0cyIsImxlYWYiLCJyb290VG9MZWFmIiwicGF0aHMiLCJoaXN0b3J5Iiwic29ydEJ5UG9zJDEiLCJpbnNlcnRTb3J0ZWQiLCJpdGVtIiwiY29tcGFyYXRvciIsImlkeCIsIm1pZCIsImxvdyIsImhpZ2giLCJiaW5hcnlTZWFyY2giLCJzcGxpY2UiLCJwYXRoVG9UcmVlIiwibnVtU3RlbW1lZCIsInJvb3QiLCJjdXJyZW50TGVhZiIsImNvbXBhcmVUcmVlIiwibWVyZ2VUcmVlIiwiaW5fdHJlZTEiLCJpbl90cmVlMiIsInRyZWUxIiwidHJlZTIiLCJtZXJnZWQiLCJkb01lcmdlIiwiZG9udEV4cGFuZCIsInJlc3RyZWUiLCJicmFuY2giLCJ0MSIsInQyIiwiZGlmZiIsImNhbmRpZGF0ZVBhcmVudHMiLCJ0cmVlcyIsInBhcmVudElkeCIsImVsZW1lbnRzTGVuIiwibWVyZ2UiLCJkZXB0aCIsIm5ld1RyZWUiLCJzdGVtbWVkIiwic3RlbW1lZFJldnMiLCJyZXZIYXNoIiwic3RlbSIsImdldFRyZWVzIiwiaXNEZWxldGVkIiwiaXNMb2NhbElkIiwiQ2hhbmdlcyQxIiwiY29tcGxldGUiLCJlZSIsIm9uRGVzdHJveSIsImNhbmNlbCIsInBlbmRpbmciLCJsYXN0U2VxIiwiaXNDYW5jZWxsZWQiLCJ0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIiLCJ2YWxpZGF0ZUNoYW5nZXMiLCJwcm9jZXNzQ2hhbmdlIiwiY2hhbmdlTGlzdCIsIl9jb25mbGljdHMiLCJjb21wYXJlIiwibGVmdCIsInJpZ2h0IiwieWFua0Vycm9yIiwiY29tcGFyZUJ5SWRUaGVuUmV2IiwiaWRDb21wYXJlIiwiX3JldmlzaW9ucyIsIkFic3RyYWN0UG91Y2hEQiIsIlRhc2tRdWV1ZSIsIlBvdWNoREIiLCJfX29wdHMiLCJhdXRvX2NvbXBhY3Rpb24iLCJiYWNrZW5kIiwiYWRhcHRlciIsImFkYXB0ZXJzIiwicHJlZmVycmVkQWRhcHRlcnMiLCJhZGFwdGVyTmFtZSIsInVzZV9wcmVmaXgiLCJwYXJzZUFkYXB0ZXIiLCJfYWRhcHRlciIsInZhbGlkIiwidmlld19hZGFwdGVyIiwiZmFpbCIsIm9uRGVzdHJveWVkIiwiZnJvbV9jb25zdHJ1Y3RvciIsIm9uQ2xvc2VkIiwicHJlcGFyZUZvckRlc3RydWN0aW9uIiwicmVhZHkiLCJfY2hhbmdlc0ZpbHRlclBsdWdpbiIsInZhbGlkYXRlIiwiZG9DaGFuZ2VzIiwiY29udGludW91cyIsImxpdmUiLCJub3JtYWxpemUiLCJzaG91bGRGaWx0ZXIiLCJkZXNjZW5kaW5nIiwibGltaXQiLCJuZXdQcm9taXNlIiwiX2NoYW5nZXMiLCJ1cGRhdGVfc2VxIiwicG9zdCIsImJ1bGtEb2NzIiwiX3B1dExvY2FsIiwiX2RlbGV0ZWQiLCJfcmVtb3ZlTG9jYWwiLCJvbGRSZXZJZCIsIm5ld1Jldk51bSIsIm5ld1JldklkIiwicHV0RG9jIiwiX3B1dCIsIm5ld19lZGl0cyIsImZvcmNlIiwicHV0QXR0YWNobWVudCIsImF0dGFjaG1lbnRJZCIsImFwaSIsImNyZWF0ZUF0dGFjaG1lbnQiLCJwcmV2cmV2cG9zIiwiY29udGVudF90eXBlIiwicmV2cG9zIiwicmVtb3ZlQXR0YWNobWVudCIsImRvY09ySWQiLCJvcHRzT3JSZXYiLCJ3YXNfZGVsZXRlIiwicmV2c0RpZmYiLCJtaXNzaW5nIiwiYWRkVG9NaXNzaW5nIiwicmV2SWQiLCJfZ2V0UmV2aXNpb25UcmVlIiwibWlzc2luZ0ZvcklkIiwicHJvY2Vzc0RvYyIsIm1pc3NpbmdPYmoiLCJjb21wYWN0RG9jdW1lbnQiLCJtYXhIZWlnaHQiLCJyZXZUcmVlIiwiZWRnZXMiLCJwcm50IiwiZWRnZSIsImNvbXB1dGVIZWlnaHQiLCJjYW5kaWRhdGVzIiwiX2RvQ29tcGFjdGlvbiIsImNvbXBhY3QiLCJfY29tcGFjdGlvblF1ZXVlIiwiZG9OZXh0Q29tcGFjdGlvbiIsImxhc3Rfc2VxIiwiX2NvbXBhY3QiLCJyZXR1cm5fZG9jcyIsInByb21pc2VzIiwicm93IiwiYWxsIiwiX2dldExvY2FsIiwiZmluaXNoT3BlblJldnMiLCJsYXRlc3QiLCJfZ2V0IiwicmV2c19pbmZvIiwic3BsaXR0ZWRSZXYiLCJyZXZObyIsImN1cnJlbnRQYXRoIiwiaGFzaEluZGV4IiwiaW5kZXhPZlJldiIsImhvd01hbnkiLCJfcmV2c19pbmZvIiwiX2dldEF0dGFjaG1lbnQiLCJnZXRBdHRhY2htZW50IiwiYWxsRG9jcyIsInNraXAiLCJzdGFydF9rZXkiLCJzdGFydGtleSIsImVuZF9rZXkiLCJlbmRrZXkiLCJpbmNvbXBhdGlibGVPcHQiLCJhbGxEb2NzS2V5c1BhcnNlIiwiX2FsbERvY3MiLCJjbG9zZSIsIl9jbG9zZSIsIl9pbmZvIiwiZGJfbmFtZSIsIl90eXBlIiwiYXR0YWNobWVudEVycm9yIiwiY2hhckF0IiwiYXR0YWNobWVudE5hbWVFcnJvciIsImF0dHMiLCJjbGVhbkRvY3MiLCJfYnVsa0RvY3MiLCJyZWdpc3RlckRlcGVuZGVudERhdGFiYXNlIiwiZGVwZW5kZW50RGIiLCJkYk9wdGlvbnMiLCJkZXBEQiIsImRlcGVuZGVudERicyIsInVzZVByZWZpeCIsImRlc3Ryb3lEYiIsIl9kZXN0cm95IiwibG9jYWxEb2MiLCJkZWxldGVkTWFwIiwidHJ1ZU5hbWUiLCJSZWdFeHAiLCJleGVjdXRlIiwiQWJvcnRDb250cm9sbGVyIiwiYWJvcnQiLCJmJDEiLCJmZXRjaCIsImgiLCJIZWFkZXJzIiwiZXZlbnRFbWl0dGVyIiwiUG91Y2giLCJkZXN0cnVjdExpc3RlbmVycyIsIl9kZXN0cnVjdGlvbkxpc3RlbmVycyIsImRiTGlzdCIsInNldFVwRXZlbnRFbWl0dGVyIiwiYWRkVG9QcmVmZXJyZWRBZGFwdGVycyIsInBsdWdpbiIsIl9fZGVmYXVsdHMiLCJkZWZhdWx0cyIsImRlZmF1bHRPcHRzIiwiUG91Y2hBbHQiLCJ1cmwiLCJnZXRGaWVsZEZyb21Eb2MiLCJwYXJzZWRGaWVsZCIsInBhcnNlRmllbGQiLCJmaWVsZE5hbWUiLCJmaWVsZHMiLCJjb21iaW5hdGlvbkZpZWxkcyIsImlzQ29tYmluYXRpb25hbEZpZWxkIiwiZmllbGQiLCJnZXRLZXkiLCJtZXJnZUFuZGVkU2VsZWN0b3JzIiwic2VsZWN0b3JzIiwiJG9yIiwiJG5vciIsIm1hdGNoZXIiLCIkZXEiLCJsb25nZXN0IiwiZmllbGRNYXRjaGVycyIsIm9wZXJhdG9yIiwiJGd0ZSIsIiRndCIsIm1lcmdlR3RHdGUiLCIkbHRlIiwiJGx0IiwibWVyZ2VMdEx0ZSIsIiRuZSIsIm1lcmdlTmUiLCJtZXJnZUVxIiwiJHJlZ2V4IiwibWVyZ2VSZWdleCIsIm1hc3NhZ2VTZWxlY3RvciIsIndhc0FuZGVkIiwiaXNBbmRJblNlbGVjdG9yIiwiaXNBbmQiLCJtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkIiwib3JPck5vciIsInN1YlNlbGVjdG9yIiwiY29sbGF0ZSIsIm5vcm1hbGl6ZUtleSIsImFpIiwiYmkiLCJzdHJpbmdDb2xsYXRlIiwiYXJyYXlDb2xsYXRlIiwiYWsiLCJiayIsIm9iamVjdENvbGxhdGUiLCJJbmZpbml0eSIsIm9yaWdLZXkiLCJ0b0pTT04iLCJpbmRleGlmeSIsImV4cEZvcm1hdCIsInRvRXhwb25lbnRpYWwiLCJtYWduaXR1ZGUiLCJuZWciLCJtYWdTdHJpbmciLCJwYWRXaXRoIiwidXBUb0xlbmd0aCIsInRhcmdldExlbmd0aCIsInBhZCIsImZhY3RvciIsImZhY3RvclN0ciIsInRvRml4ZWQiLCJudW1Ub0luZGV4YWJsZVN0cmluZyIsInRvSW5kZXhhYmxlU3RyaW5nIiwib2JqS2V5IiwicGFyc2VOdW1iZXIiLCJvcmlnaW5hbElkeCIsIm51bUFzU3RyaW5nIiwibWFnQXNTdHJpbmciLCJmaWx0ZXJJbk1lbW9yeUZpZWxkcyIsInJvd3MiLCJyZXF1ZXN0RGVmIiwiaW5NZW1vcnlGaWVsZHMiLCJyb3dGaWx0ZXIiLCJmaWVsZFNvcnRlciIsImdldEZpZWxkVmFsdWVzQXNBcnJheSIsInNvcnRpbmciLCJhUm93IiwiYlJvdyIsImNvbGxhdGlvbiIsImNyZWF0ZUZpZWxkU29ydGVyIiwiZXZlcnkiLCJkb2NGaWVsZFZhbHVlIiwic29tZSIsIm9yTWF0Y2hlcnMiLCJtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yIiwibWF0Y2hTZWxlY3RvciIsIm1heWJlVXNlck9wZXJhdG9yIiwidXNlclZhbHVlIiwic3ViUGFyc2VkRmllbGQiLCJzdWJEb2NGaWVsZFZhbHVlIiwidXNlck9wZXJhdG9yIiwibWF0Y2hlcnMiLCJmaWVsZEV4aXN0cyIsImZpZWxkSXNOb3RVbmRlZmluZWQiLCJhcnJheUNvbnRhaW5zVmFsdWUiLCJkb2NGaWVsZFZhbHVlSXRlbSIsIm1vZEZpZWxkIiwibmVWYWx1ZSIsImFycmF5U2l6ZSIsImFycmF5Q29udGFpbnNBbGxWYWx1ZXMiLCJyZWdleFZhbHVlIiwicmVnZXhNYXRjaCIsInR5cGVNYXRjaCIsImZpbHRlck5hbWUiLCJjaGFuZ2VzSGFuZGxlciIsImRvY19pZHMiLCJ2aWV3TmFtZSIsImRkb2MiLCJtYXBGdW4iLCJ2aWV3cyIsInJvd3NNYXRjaGVkIiwibWF0Y2hlc1NlbGVjdG9yIiwiZmlsdGVyRnVuIiwiZmlsdGVycyIsInRvT2JqZWN0IiwidmVyc2lvbiIsInJlc2VydmVkV29yZHMiLCJkYXRhV29yZHMiLCJwYXJzZVJldmlzaW9uSW5mbyIsInBhcnNlRG9jIiwibmV3RWRpdHMiLCJkYk9wdHMiLCJuUmV2TnVtIiwicmV2SW5mbyIsInJldmlzaW9ucyIsInJldmlzaW9uSWRzIiwibWFrZVJldlRyZWVGcm9tUmV2aXNpb25zIiwic3BlY2lhbEtleSIsInByZXByb2Nlc3NTdHJpbmciLCJibG9iVHlwZSIsImFzQmluYXJ5IiwicGFyc2VCYXNlNjQiLCJkaWdlc3QiLCJwcmVwcm9jZXNzQXR0YWNobWVudCIsIm1kNSIsInByZXByb2Nlc3NCbG9iIiwidXBkYXRlRG9jIiwicmV2TGltaXQiLCJwcmV2IiwiZG9jSW5mbyIsIndyaXRlRG9jIiwic3BsaXRSZXYiLCJ0YXJnZXRQb3MiLCJ0YXJnZXRJZCIsInJldkV4aXN0cyIsInByZXZpb3VzV2lubmluZ1JldiIsInByZXZpb3VzbHlEZWxldGVkIiwiaXNSb290IiwibmV3UmV2IiwicmV2X21hcCIsIndpbm5pbmdSZXYkJDEiLCJ3aW5uaW5nUmV2SXNEZWxldGVkIiwiZGVsdGEiLCJwcm9jZXNzRG9jcyIsImRvY0luZm9zIiwiZmV0Y2hlZERvY3MiLCJ0eCIsIm92ZXJhbGxDYWxsYmFjayIsImlkc1RvRG9jcyIsImRvY3NEb25lIiwiZG9jc1RvRG8iLCJjaGVja0FsbERvY3NEb25lIiwiY3VycmVudERvYyIsInJlc3VsdHNJZHgiLCJkb2NXcml0dGVuIiwibmV4dERvYyIsInJvb3RJc01pc3NpbmciLCJpbnNlcnREb2MiLCJET0NfU1RPUkUiLCJNRVRBX1NUT1JFIiwic2FmZUpzb25TdHJpbmdpZnkiLCJqc29uIiwiaWRiRXJyb3IiLCJlbmNvZGVNZXRhZGF0YSIsImRlbGV0ZWRPckxvY2FsIiwiZGVjb2RlTWV0YWRhdGEiLCJzdG9yZWRPYmplY3QiLCJzYWZlSnNvblBhcnNlIiwiZGVjb2RlRG9jIiwiX2RvY19pZF9yZXYiLCJsYXN0SW5kZXhPZiIsInJlYWRCbG9iRGF0YSIsImFzQmxvYiIsImZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSIsInR4biIsImF0dE9iaiIsIm9iamVjdFN0b3JlIiwib25zdWNjZXNzIiwiZmV0Y2hBdHRhY2htZW50IiwicG9zdFByb2Nlc3NBdHRhY2htZW50cyIsImF0dE5hbWVzIiwiY29tcGFjdFJldnMiLCJwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyIsInNlcVN0b3JlIiwiYXR0U3RvcmUiLCJhdHRBbmRTZXFTdG9yZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzIiwib3BlbkN1cnNvciIsIm9ubHkiLCJjdXJzb3IiLCJkaWdlc3RTZXEiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJvcGVuVHJhbnNhY3Rpb25TYWZlbHkiLCJpZGIiLCJzdG9yZXMiLCJ0cmFuc2FjdGlvbiIsImlkYkJ1bGtEb2NzIiwiZG9jU3RvcmUiLCJieVNlcVN0b3JlIiwiYXR0YWNoU3RvcmUiLCJhdHRhY2hBbmRTZXFTdG9yZSIsIm1ldGFTdG9yZSIsImRvY0luZm9FcnJvciIsIm1ldGFEb2MiLCJhbGxEb2NzUHJvY2Vzc2VkIiwiZG9jQ291bnREZWx0YSIsInByZWNvbmRpdGlvbkVycm9yZWQiLCJfbWV0YSIsImJsb2JTdXBwb3J0Iiwib25BbGxEb2NzUHJvY2Vzc2VkIiwidXBkYXRlRG9jQ291bnRJZlJlYWR5IiwiZG9jQ291bnQiLCJuZXdSZXZJc0RlbGV0ZWQiLCJpc1VwZGF0ZSIsImNvbGxlY3RSZXN1bHRzIiwiZmluaXNoRG9jIiwiYXR0YWNobWVudFNhdmVkIiwibmV3QXR0Iiwic2F2ZUF0dGFjaG1lbnQiLCJ3cml0ZUF0dGFjaG1lbnRzIiwiYWZ0ZXJQdXREb2MiLCJyZXZzVG9EZWxldGUiLCJjb21wYWN0VHJlZSIsIm1ldGFkYXRhVG9TdG9yZSIsImFmdGVyUHV0TWV0YWRhdGEiLCJhdHRzQWRkZWQiLCJhdHRzVG9BZGQiLCJvbmVycm9yIiwiaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzIiwicHV0UmVxIiwib3ZlcmFsbEVyciIsImRvY3YiLCJyZWN2IiwicHJvY2Vzc2VkQXR0YWNobWVudCIsInByZXByb2Nlc3NBdHRhY2htZW50cyIsInR4blJlc3VsdCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbmNvbXBsZXRlIiwiZmluaXNoIiwiZGlnZXN0cyIsImZpbGVuYW1lIiwidmVyaWZ5QXR0YWNobWVudCIsImF0dEVyciIsInZlcmlmeUF0dGFjaG1lbnRzIiwibnVtRmV0Y2hlZCIsInJldnNfbGltaXQiLCJyZWFkTWV0YWRhdGEiLCJmZXRjaEV4aXN0aW5nRG9jcyIsInN0YXJ0VHJhbnNhY3Rpb24iLCJydW5CYXRjaGVkQ3Vyc29yIiwia2V5UmFuZ2UiLCJiYXRjaFNpemUiLCJvbkJhdGNoIiwia2V5c0JhdGNoIiwidmFsdWVzQmF0Y2giLCJwc2V1ZG9DdXJzb3IiLCJvbkdldEFsbCIsIm9uR2V0QWxsS2V5cyIsIm9uQ3Vyc29yIiwiZ2V0QWxsIiwiZ2V0QWxsS2V5cyIsIm5ld0tleVJhbmdlIiwibGFzdEtleSIsInVwcGVyIiwidXBwZXJPcGVuIiwiY29kZSIsImxvd2VyQm91bmQiLCJpZGJBbGxEb2NzIiwia2V5UmFuZ2VFcnJvciIsImluY2x1c2l2ZUVuZCIsImluY2x1c2l2ZV9lbmQiLCJ1cHBlckJvdW5kIiwiY3JlYXRlS2V5UmFuZ2UiLCJvblJlc3VsdHNSZWFkeSIsInVwZGF0ZVNlcSIsIm9uU3VjY2VzcyIsImRvY0lkUmV2SW5kZXgiLCJhbGxEb2NzSW5uZXIiLCJmZXRjaERvY0FzeW5jaHJvbm91c2x5IiwiYmF0Y2hWYWx1ZXMiLCJiYXRjaFZhbHVlIiwiYmF0Y2hLZXlzIiwicmV0dXJuVmFsIiwidG90YWxfcm93cyIsIm1heEtleSIsImFsbERvY3NLZXlzIiwicnVubmluZyIsImFwcGx5TmV4dCIsImRvY0lkcyIsIm51bVJlc3VsdHMiLCJkb2NJZHNUb01ldGFkYXRhIiwib25HZXRNZXRhZGF0YSIsImRvY0lkUmV2Iiwib2JqZWN0U3RvcmVzIiwid2lubmluZ0RvY3MiLCJtZXRhZGF0YXMiLCJmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YSIsIndpbm5pbmdEb2MiLCJwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jIiwib25CYXRjaERvbmUiLCJmaWx0ZXJlZCIsImJsb2JTdXBwb3J0UHJvbWlzZSIsImNhY2hlZERCcyIsIm9wZW5SZXFMaXN0IiwiSWRiUG91Y2giLCJ0cnlDb2RlIiwiZW5xdWV1ZVRhc2siLCJ0aGlzQ2FsbGJhY2siLCJpZGJHbG9iYWxGYWlsdXJlRXJyb3IiLCJlbnJpY2hDYWxsYmFja0Vycm9yIiwiYWRkRGVsZXRlZE9yTG9jYWxJbmRleCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwibWlncmF0ZUxvY2FsU3RvcmUiLCJsb2NhbFN0b3JlIiwibG9jYWwiLCJyYW5nZSIsInNlcUN1cnNvciIsIm1pZ3JhdGVBdHRzQW5kU2VxcyIsImRpZ2VzdE1hcCIsIm1pZ3JhdGVNZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGFTZXEiLCJtZXRhZGF0YVNlcSIsImZldGNoTWV0YWRhdGFTZXEiLCJpbnN0YW5jZUlkIiwicmVxT3B0cyIsImhpc3RvcnlOb2RlIiwiYXR0YWNoSWQiLCJhdHRhY2htZW50IiwiYmxvYkRhdGEiLCJkb2NfY291bnQiLCJpZGJfYXR0YWNobWVudF9mb3JtYXQiLCJvbGRSZXYiLCJvU3RvcmUiLCJvbGREb2MiLCJvcGVuUmVxIiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVTY2hlbWEiLCJjdXJyZW50VGFyZ2V0IiwiY3JlYXRlTG9jYWxTdG9yZVNjaGVtYSIsImFkZEF0dGFjaEFuZFNlcVN0b3JlIiwibWlncmF0aW9ucyIsIm1pZ3JhdGlvbiIsIm9udmVyc2lvbmNoYW5nZSIsInN0b3JlZE1ldGFEb2MiLCJjb21wbGV0ZVNldHVwIiwic3RvcmVNZXRhRG9jSWZSZWFkeSIsImluc3RhbmNlS2V5IiwiY291bnREb2NzIiwiYmxvYiQkMSIsIm1hdGNoZWRDaHJvbWUiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJtYXRjaGVkRWRnZSIsImNoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0J1bGtHZXRNYXAiLCJyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlciIsImVuY29kZURvY0lkIiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEiLCJnZXRIb3N0IiwicHJvdG9jb2wiLCJoYXNVcmxQcmVmaXgiLCJ1c2VyIiwicGFzc3dvcmQiLCJhdXRoIiwidXNlcm5hbWUiLCJnZW5EQlVybCIsImdlblVybCIsInBhdGhEZWwiLCJob3N0IiwicG9ydCIsInBhcmFtc1RvU3RyIiwiSHR0cFBvdWNoIiwiZGJVcmwiLCJzZXR1cFByb21pc2UiLCJvdXJGZXRjaCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsIm5BdXRoIiwidG9rZW4iLCJ1YSIsImlzSUUiLCJpc1RyaWRlbnQiLCJpc0VkZ2UiLCJpc0dFVCIsInNob3VsZENhY2hlQnVzdCIsIm5vdyIsImFkYXB0ZXJGdW4kJDEiLCJzZXR1cCIsImZldGNoSlNPTiIsInYiLCJza2lwX3NldHVwIiwiZW5jb2RlQXR0YWNobWVudElkIiwidXVpZCQkMSIsInBpbmciLCJjb21wYWN0X3J1bm5pbmciLCJpbnRlcnZhbCIsImRvQnVsa0dldCIsImRvQnVsa0dldFNoaW0iLCJudW1CYXRjaGVzIiwib25SZXN1bHQiLCJiYXRjaE51bSIsInN1Yk9wdHMiLCJzdXBwb3J0c0J1bGtHZXQiLCJmZXRjaEF0dGFjaG1lbnRzIiwiZmlsZW5hbWVzIiwicHJvbWlzZUZhY3RvcmllcyIsImRvTmV4dCIsInJ1bk5leHRCYXRjaCIsIm9uRXJyb3IiLCJ0aGlzRXJyIiwicG9vbCIsInR5cGVGaWVsZERlc2NyaXB0b3IiLCJfX3Byb3RvX18iLCJmZXRjaERhdGEiLCJkb2NPckRvY3MiLCJjb250ZW50VHlwZSIsInByb2Nlc3MiLCJicm93c2VyIiwicGFyYW1TdHIiLCJiYXRjaF9zaXplIiwiaGVhcnRiZWF0IiwicmVxdWVzdFRpbWVvdXQiLCJsZWZ0VG9GZXRjaCIsImZlZWQiLCJzZXFfaW50ZXJ2YWwiLCJwYXJhbV9uYW1lIiwibGFzdEZldGNoZWRTZXEiLCJjb250cm9sbGVyIiwiYWJvcnRlZCIsImZldGNoT3B0cyIsInNpZ25hbCIsImZldGNoZWQiLCJyYXdfcmVzdWx0c19sZW5ndGgiLCJmaW5pc2hlZCIsIlF1ZXJ5UGFyc2VFcnJvciIsImNhcHR1cmVTdGFja1RyYWNlIiwiTm90Rm91bmRFcnJvciIsIkJ1aWx0SW5FcnJvciIsInByb21pc2VkQ2FsbGJhY2siLCJzZXF1ZW50aWFsaXplIiwicHJvbWlzZUZhY3RvcnkiLCJ1bmlxIiwidGhlU2V0IiwibWFwVG9LZXlzQXJyYXkiLCJjcmVhdGVCdWlsdEluRXJyb3IiLCJzdW0iLCJqTGVuIiwiak51bSIsImxvZyIsImV2YWxGdW5jdGlvbldpdGhFdmFsIiwiVGFza1F1ZXVlJDEiLCJjcmVhdGVWaWV3Iiwic291cmNlREIiLCJyZWR1Y2VGdW4iLCJ0ZW1wb3JhcnkiLCJsb2NhbERvY05hbWUiLCJjYWNoZWRWaWV3cyIsInZpZXdTaWduYXR1cmUiLCJjcmVhdGVWaWV3U2lnbmF0dXJlIiwiX2NhY2hlZFZpZXdzIiwicHJvbWlzZUZvclZpZXciLCJkZXBEYk5hbWUiLCJmdWxsVmlld05hbWUiLCJkZXBEYnMiLCJsYXN0U2VxRG9jIiwicGVyc2lzdGVudFF1ZXVlcyIsInRlbXBWaWV3UXVldWUiLCJwYXJzZVZpZXdOYW1lIiwiZW1pdEVycm9yIiwiYnVpbHRJblJlZHVjZSIsInN1bXNxciIsIl9zdW1zcXIiLCJhYnN0cmFjdCIsIm1hcHBlciIsInJlZHVjZXIiLCJkZG9jVmFsaWRhdG9yIiwidHJ5TWFwIiwidHJ5UmVkdWNlIiwicmVyZWR1Y2UiLCJvdXRwdXQiLCJzb3J0QnlLZXlUaGVuVmFsdWUiLCJrZXlDb21wYXJlIiwic2xpY2VSZXN1bHRzIiwicm93VG9Eb2NJZCIsInBvc3Rwcm9jZXNzQXR0YWNobWVudHMiLCJhZGRIdHRwUGFyYW0iLCJwYXJhbU5hbWUiLCJhc0pzb24iLCJjb2VyY2VJbnRlZ2VyIiwiaW50ZWdlckNhbmRpZGF0ZSIsImFzTnVtYmVyIiwiY2hlY2tRdWVyeVBhcnNlRXJyb3IiLCJzdGFydGtleU5hbWUiLCJlbmRrZXlOYW1lIiwiZ3JvdXBfbGV2ZWwiLCJvcHRpb25OYW1lIiwibnVtYmVyIiwiY2hlY2tQb3NpdGl2ZUludGVnZXIiLCJkZWZhdWx0c1RvIiwiZ2V0RG9jc1RvUGVyc2lzdCIsImRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwibWV0YURvY0lkIiwiZGVmYXVsdE1ldGFEb2MiLCJkb2NEYXRhIiwiaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiaXNHZW5PbmUiLCJnZXRLZXlWYWx1ZURvY3MiLCJrdkRvY3NSZXMiLCJrdkRvY3MiLCJvbGRLZXlzIiwia2V5VmFsdWUiLCJuZXdLZXlzIiwia3ZEb2MiLCJwcm9jZXNzS2V5VmFsdWVEb2NzIiwiZ2V0UXVldWUiLCJ1cGRhdGVWaWV3IiwibWFwUmVzdWx0cyIsImN1cnJlbnRTZXEiLCJsaXN0T2ZEb2NzVG9QZXJzaXN0IiwiZG9jc1RvUGVyc2lzdCIsInNhdmVLZXlWYWx1ZXMiLCJpbmRleGVkX2RvY3MiLCJwcm9ncmVzcyIsInByb2Nlc3NOZXh0QmF0Y2giLCJjaGFuZ2VzX2JhdGNoX3NpemUiLCJjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsInJlc3VsdHNfY291bnQiLCJlbWl0dGVkS2V5VmFsdWUiLCJjb21wbGV4S2V5IiwidXBkYXRlVmlld0luUXVldWUiLCJxdWVyeVZpZXciLCJ0b3RhbFJvd3MiLCJzaG91bGRSZWR1Y2UiLCJmZXRjaEZyb21WaWV3Iiwidmlld09wdHMiLCJleHBlY3RlZEtleXMiLCJwYXJzZWRLZXlBbmREb2NJZCIsInBhcnNlZFN0ciIsInBhcnNlSW5kZXhhYmxlU3RyaW5nIiwib25NYXBSZXN1bHRzUmVhZHkiLCJmaW5hbFJlc3VsdHMiLCJzaG91bGRHcm91cCIsImx2bCIsIlBPU0lUSVZFX0lORklOSVRZIiwibGFzdCIsImdyb3VwS2V5IiwicmVkdWNlVHJ5IiwicmVkdWNlVmlldyIsImFsbERvY3NSZXMiLCJkb2NJZHNUb0RvY3MiLCJmZXRjaFByb21pc2VzIiwia2V5U3RhcnQiLCJrZXlFbmQiLCJxdWVyeVZpZXdJblF1ZXVlIiwicXVlcnlQcm9taXNlZCIsIl9xdWVyeSIsImN1c3RvbVF1ZXJ5Iiwia2V5c0FzU3RyaW5nIiwiaHR0cFF1ZXJ5IiwidXBkYXRlVmlld09wdHMiLCJ2aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUiLCJmaW5hbFByb21pc2VGYWN0b3J5IiwiZGVzaWduRG9jTmFtZSIsInN0YWxlIiwiY29lcmNlT3B0aW9ucyIsInZpZXdDbGVhbnVwIiwiX3ZpZXdDbGVhbnVwIiwiY3VzdG9tVmlld0NsZWFudXAiLCJodHRwVmlld0NsZWFudXAiLCJkb2NzVG9WaWV3cyIsInZpZXdzVG9TdGF0dXMiLCJkZG9jTmFtZSIsInZpZXdEQk5hbWVzIiwic3RhdHVzSXNHb29kIiwidmlld0RCTmFtZSIsImRlc3Ryb3lQcm9taXNlcyIsImxvY2FsVmlld0NsZWFudXAiLCJjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZSIsIm9yaWdNYXAiLCJyZWR1Y2VGdW5TdHJpbmciLCJidWlsdEluIiwiZ2V0QnVpbHRJbiIsIm1hcHJlZHVjZSIsImlzR2VuT25lJDEiLCJnZXREb2NBdHRhY2htZW50cyIsImdldERvY3MiLCJzcmMiLCJkaWZmcyIsInJlc3VsdERvY3MiLCJmZXRjaFJldmlzaW9uT25lRG9jcyIsImhhc0NvbmZsaWN0cyIsImJ1bGtHZXRPcHRzIiwibWlzc2luZ1JldiIsImNyZWF0ZUJ1bGtHZXRPcHRzIiwiYnVsa0dldFJlc3BvbnNlIiwiYnVsa0dldEluZm8iLCJyZW1vdGVEb2MiLCJkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyIsImZpbGVIYXNDaGFuZ2VkIiwiZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UiLCJ1cGRhdGVDaGVja3BvaW50IiwiY2hlY2twb2ludCIsInNlc3Npb24iLCJyZXR1cm5WYWx1ZSIsInNlc3Npb25faWQiLCJyZXBsaWNhdG9yIiwiQ2hlY2twb2ludGVyIiwid3JpdGVDaGVja3BvaW50IiwidXBkYXRlVGFyZ2V0IiwidXBkYXRlU291cmNlIiwid3JpdGVUYXJnZXRDaGVja3BvaW50Iiwid3JpdGVTb3VyY2VDaGVja3BvaW50IiwiaXNGb3JiaWRkZW5FcnJvciIsImNvbXBhcmlzb25zIiwidGFyZ2V0RG9jIiwic291cmNlRG9jIiwic3JjRG9jIiwidGd0RG9jIiwiY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeSIsInNvdXJjZUhpc3RvcnkiLCJ0YXJnZXRIaXN0b3J5IiwiUyIsInNvdXJjZVJlc3QiLCJUIiwidGFyZ2V0UmVzdCIsImhhc1Nlc3Npb25JZCIsImNvbXBhcmVSZXBsaWNhdGlvbkxvZ3MiLCJzZXNzaW9uSWQiLCJwcm9wcyIsInJlc3QiLCJmbG9vciIsImdldENoZWNrcG9pbnQiLCJnZW5lcmF0ZVJlcGxpY2F0aW9uSWQiLCJxdWVyeVBhcmFtcyIsImZpbHRlclZpZXdOYW1lIiwic29ydE9iamVjdFByb3BlcnRpZXNCeUtleSIsInF1ZXJ5RGF0YSIsIm1kNXN1bSIsInJlcGxpY2F0ZSIsImN1cnJlbnRCYXRjaCIsInJlcElkIiwiY2hlY2twb2ludGVyIiwiYmF0Y2hlcyIsInBlbmRpbmdCYXRjaCIsIndyaXRpbmdDaGVja3BvaW50IiwiY2hhbmdlc0NvbXBsZXRlZCIsInJlcGxpY2F0aW9uQ29tcGxldGVkIiwiYmF0Y2hlc19saW1pdCIsImNoYW5nZXNQZW5kaW5nIiwiY2hhbmdlZERvY3MiLCJzdGFydF90aW1lIiwiZG9jc19yZWFkIiwiZG9jc193cml0dGVuIiwiZG9jX3dyaXRlX2ZhaWx1cmVzIiwiZXJyb3JzIiwiaW5pdENoZWNrcG9pbnRlciIsImNoZWNrcG9pbnRPcHRzIiwid3JpdGVEb2NzIiwiYnVsa09wdHMiLCJjb21wbGV0ZVJlcGxpY2F0aW9uIiwiZXJyb3JzQnlJZCIsImVycm9yc05vIiwiZXJyb3JOYW1lIiwiZmluaXNoQmF0Y2giLCJvdXRSZXN1bHQiLCJnZXRDaGFuZ2VzIiwib25DaGVja3BvaW50RXJyb3IiLCJnZXRCYXRjaERvY3MiLCJnb3QiLCJzdGFydE5leHRCYXRjaCIsImFib3J0UmVwbGljYXRpb24iLCJwcm9jZXNzUGVuZGluZ0JhdGNoIiwiaW1tZWRpYXRlJCQxIiwiZmF0YWxFcnJvciIsImVuZF90aW1lIiwicmV0cnkiLCJiYWNrX29mZl9mdW5jdGlvbiIsImJhY2tPZmZTZXQiLCJjdXJyZW50X2JhY2tfb2ZmIiwiYmFja09mZiIsIm9uQ2hhbmdlc0NvbXBsZXRlIiwib25DaGFuZ2VzRXJyb3IiLCJfYWJvcnRDaGFuZ2VzIiwiYWJvcnRDaGFuZ2VzIiwic3RhcnRDaGFuZ2VzIiwiX2FkZGVkTGlzdGVuZXJzIiwiUmVwbGljYXRpb24iLCJ0b1BvdWNoIiwiUG91Y2hDb25zdHJ1Y3RvciIsInJlcGxpY2F0ZVdyYXBwZXIiLCJyZXBsaWNhdGVSZXQiLCJTeW5jIiwiY2FuY2VsZWQiLCJvcHRzUHVzaCIsIm9wdHNQdWxsIiwicHVsbCIsInB1bGxDaGFuZ2UiLCJwdXNoQ2hhbmdlIiwicHVzaERlbmllZCIsInB1bGxEZW5pZWQiLCJwdXNoUGF1c2VkIiwicHVsbFBhdXNlZCIsInB1c2hBY3RpdmUiLCJwdWxsQWN0aXZlIiwicmVtb3ZlZCIsInJlbW92ZUFsbCIsImFkZE9uZUxpc3RlbmVyIiwib3V0IiwiY2xlYW51cCIsIl9yZWFkeUNhbGxlZCIsInJlcGxpY2F0ZU1ldGhvZHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIm5vb3AiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsImNsb2Nrc2VxIiwic2VlZEJ5dGVzIiwibXNlY3MiLCJuc2VjcyIsImR0IiwidGwiLCJ0bWgiLCJnZW5lcmF0ZVVVSUQiLCJuYW1lc3BhY2UiLCJzdHJpbmdUb0J5dGVzIiwiaGFzaGZ1bmMiLCJETlMiLCJVUkwiLCJnZXRPdXRwdXRMZW5ndGgiLCJpbnB1dExlbmd0aDgiLCJzYWZlQWRkIiwibHN3IiwibWQ1Y21uIiwicSIsImNudCIsIm1kNWZmIiwibWQ1Z2ciLCJtZDVoaCIsIm1kNWlpIiwidjM1IiwibGVuZ3RoMzIiLCJtZDVUb0hleEVuY29kZWRBcnJheSIsIm9sZGEiLCJvbGRiIiwib2xkYyIsIm9sZGQiLCJ3b3Jkc1RvTWQ1IiwibGVuZ3RoOCIsIlVpbnQzMkFycmF5IiwiYnl0ZXNUb1dvcmRzIiwiZiIsInoiLCJST1RMIiwiSyIsIkgiLCJOIiwiTSIsIl9pIiwicG93IiwiX2kyIiwiVyIsIl90IiwiX3QyIiwiY3JlYXRlU2hpZnRBcnIiLCJzdGVwIiwic3BhY2UiLCJpeCIsInZrYmVhdXRpZnkiLCJpc1N1YnF1ZXJ5IiwicGFyZW50aGVzaXNMZXZlbCIsInNwbGl0X3NxbCIsInRhYiIsInhtbCIsImFyIiwiaW5Db21tZW50IiwiZGVlcCIsImNzcyIsInNxbCIsImFyX2J5X3F1b3RlIiwieG1sbWluIiwicHJlc2VydmVDb21tZW50cyIsImpzb25taW4iLCJjc3NtaW4iLCJzcWxtaW4iLCJjb25maXJtIiwic3BsaXREaXNhYmxlIiwiY2FwdHVyZSIsImNsaWNrYXdheUhhbmRsZXIiLCJyZXNldEhhbmRsZXIiLCJuY0lkIiwicXVldWVNaWNyb3Rhc2siLCJNdXRhdGlvbiIsIk11dGF0aW9uT2JzZXJ2ZXIiLCJXZWJLaXRNdXRhdGlvbk9ic2VydmVyIiwiaGFuZGxlIiwib2JzZXJ2ZXIiLCJjcmVhdGVUZXh0Tm9kZSIsIm9ic2VydmUiLCJjaGFyYWN0ZXJEYXRhIiwiTWVzc2FnZUNoYW5uZWwiLCJjaGFubmVsIiwicG9ydDEiLCJvbm1lc3NhZ2UiLCJwb3J0MiIsInBvc3RNZXNzYWdlIiwic2NyaXB0RWwiLCJvbnJlYWR5c3RhdGVjaGFuZ2UiLCJyZW1vdmVDaGlsZCIsImRvY3VtZW50RWxlbWVudCIsIm1laSIsIm1hbmlmZXN0IiwibG9jYWxNYW5pZmVzdCIsIm1laVByb21pc2UiLCJtZWlSZWFkZXIiLCJyZWFkQXNEYXRhVVJMIiwiYmdQcm9taXNlIiwiYmdSZWFkZXIiLCJtZWlVcmkiLCJiZ1VyaSIsInNpbmdsZSIsImFsZXJ0IiwibmV3TmFtZSIsIm1hbmlmZXN0QmxvYiIsIm1hbmlmZXN0VGV4dCIsIm5ld01hbmlmZXN0QmxvYiIsImRvY3VtZW50c0NvbnRhaW5lciIsImJhY2tncm91bmRBcmVhIiwib3BlbkJ1dHRvbiIsInJlbW92ZUJ1dHRvbiIsIm5hdlBhdGhDb250YWluZXIiLCJiYWNrQnV0dG9uIiwiZW1wdHlCdXR0b24iLCJkZWxldGVCdXR0b24iLCJ1cGxvYWREb2N1bWVudHNCdXR0b24iLCJuZXdGb2xkZXJCdXR0b24iLCJzaGlmdFNlbGVjdGlvbiIsIlNoaWZ0U2VsZWN0aW9uTWFuYWdlciIsImZzbSIsImRhc2hib2FyZFN0YXRlIiwibWFpblNlY3Rpb24iLCJjb250ZXh0TWVudSIsImNvbnRleHRNZW51Q29udGVudFdyYXBwZXIiLCJtZXRhS2V5SXNQcmVzc2VkIiwic2hpZnRLZXlJc1ByZXNzZWQiLCJjdXJyZW50RHJhZ1RhcmdldCIsInJpZ2h0Q2xpY2tlZCIsIm9wZW5VcGxvYWRBcmVhSGFuZGxlciIsIkluaXRVcGxvYWRBcmVhIiwiZ2V0UGFyZW50Rm9sZGVyIiwib3BlbkVkaXRvclRhYiIsImlzU2FtcGxlIiwic3RvcmFnZSIsImVudHJ5IiwiZ2V0RW50cmllcyIsImF0Iiwic2V0U2VsZWN0aW9uIiwidW5zZWxlY3RBbGwiLCJ0aWxlIiwicmVzZXRTZWxlY3Rpb24iLCJhZGRUaWxlRXZlbnRMaXN0ZW5lciIsInVwZGF0ZURhc2hib2FyZCIsImdldEZvbGRlclBhdGgiLCJvcGVuRG9jc0hhbmRsZXIiLCJfZSIsInNoaWZ0U2VsZWN0aW9uSGFuZGxlciIsImFkZFNoaWZ0U2VsZWN0aW9uTGlzdGVuZXIiLCJnZXRTZWxlY3RlZEVudHJpZXMiLCJzaG93Q29udGV4dE1lbnUiLCJjbGlja2VkRWxlbWVudCIsImNsaWNrZWRFbnRyeSIsImdldEVudHJ5QnlJZCIsImdldEluZGV4QnlFbnRyeU5hbWUiLCJhZGRTcGVjaWZpY0NvbnRleHRNZW51TGlzdGVuZXJzIiwiZ2V0U2VsZWN0aW9uIiwic2V0U3RhcnQiLCJnZXRQcmV2U2VsZWN0aW9uIiwic2V0RW5kIiwidXBkYXRlQWN0aW9uQmFyQnV0dG9ucyIsInVwZGF0ZUZTQnV0dG9ucyIsImdldFNlbGVjdGVkRm9sZGVycyIsImdldFNlbGVjdGVkVHJhc2giLCJnZXRTZWxlY3RlZEZpbGVzIiwiZG9jdW1lbnRUeXBlIiwib3BlbkZpbGUiLCJyZW1vdmVEb2NzSGFuZGxlciIsInNlbGVjdGVkRW50cmllcyIsInBhcmVudEZvbGRlciIsInRyYXNoRm9sZGVyIiwiZ2V0VHJhc2hGb2xkZXIiLCJkYXRldGltZSIsInRvTG9jYWxlU3RyaW5nIiwiYWRkTWV0YWRhdGEiLCJyZW1vdmVkX29uIiwicmVjb3Zlcl9mb2xkZXIiLCJnZXRGb2xkZXJQYXRoTmFtZXMiLCJtb3ZlVG9Gb2xkZXIiLCJkZWxldGVGaWxlRW50cnkiLCJmaWxlIiwiZGVsZXRlRG9jdW1lbnQiLCJyZW1vdmVFbnRyeSIsImRlbGV0ZUZvbGRlckVudHJ5IiwiZm9sZGVyIiwiZGVsZXRlUHJvbWlzZXMiLCJkZWxldGVEb2NzSGFuZGxlciIsImFsbEVudHJpZXMiLCJhbGVydE1lc3NhZ2UiLCJlbnRyeUFycmF5IiwiZGVidWciLCJlbXB0eVRyYXNoSGFuZGxlciIsImlzSW5UcmFzaCIsImJ1dHRvbkNsb25lIiwiY2xvbmVOb2RlIiwicmVwbGFjZUNoaWxkIiwiaGFuZGxlTmF2aWdhdGVCYWNrIiwiYWRkRHJvcFRhcmdldExpc3RlbmVycyIsInVwZGF0ZUJhY2tCdXR0b24iLCJ1cGRhdGVFbXB0eUJ1dHRvbiIsInVwZGF0ZURlbGV0ZUJ1dHRvbiIsIm5ld1BhdGgiLCJzZXRGb2xkZXJQYXRoIiwiY3VycmVudEZvbGRlciIsInNldEVudHJpZXMiLCJpY29uIiwiY3JlYXRlVGlsZSIsIm5hdkVsZW1lbnRzIiwibmF2U2VjdGlvbiIsInRhcmdldFBhdGgiLCJuYXZFbGVtZW50Iiwic2VwZXJhdG9yIiwidXBkYXRlTmF2UGF0aCIsImluZm9CYWRnZSIsImRhdGFUcmFuc2ZlciIsImVmZmVjdEFsbG93ZWQiLCJzZXRGaWxlU3lzdGVtIiwiZGVzdGluYXRpb25Gb2xkZXIiLCJkcmFnRW50cnkiLCJjcmVhdGVIYW5kbGVEcm9wIiwibmV3Rm9sZGVyIiwiZXJyb3JNZXNzYWdlcyIsInRyYXNoRk5Db25mbGljdEhhbmRsZXIiLCJjYW5Nb3ZlRW50cnkiLCJzdWNjZWVkZWQiLCJtb3ZlRW50cnkiLCJvcGVuTW92ZVRvV2luZG93IiwibW9kYWxXaW5kb3ciLCJNb2RhbFdpbmRvdyIsInNldE1vZGFsV2luZG93VmlldyIsIm9wZW5Nb2RhbFdpbmRvdyIsInJvb3RUcmVlIiwibW92ZVRvQ2FsbGJhY2siLCJnZW5lcmF0ZUZvbGRlclRyZWUiLCJkZWdyZWUiLCJsaUNvbnRhaW5lciIsImZvbGRlck5hbWUiLCJ1bCIsImFycm93IiwiZm9sZGVyVHJlZSIsImdlbmVyYXRlUm9vdFRyZWUiLCJuZXdQYXJlbnRGb2xkZXIiLCJ0cmVlQ29udGFpbmVyIiwibW9kYWxDb250YWluZXIiLCJvcGVuTmV3Rm9sZGVyV2luZG93IiwiaW5wdXRDb250YWluZXIiLCJjYW5jZWxCdXR0b24iLCJwbGFjZWhvbGRlciIsImNvbmZpcm1OZXdGb2xkZXJBY3Rpb24iLCJuYW1lRXhpc3RzIiwibmV3Rm9sZGVyVGlsZSIsImNyZWF0ZUZvbGRlciIsImFkZEVudHJ5IiwiaGFuZGxlQWRkRm9sZGVyIiwib3BlblJlbmFtZVdpbmRvdyIsInByZXZOYW1lIiwiY29uZmlybVJlbmFtZUFjdGlvbiIsInJlbmFtZUVudHJ5IiwidXBkYXRlRG9jTmFtZSIsIm51bWJlck9mU2VsZWN0ZWRGaWxlcyIsIm51bWJlck9mU2VsZWN0ZWRGb2xkZXJzIiwic2VsZWN0ZWRUcmFzaCIsImNvbnRleHRNZW51Q29udGVudCIsInRyYXNoRW50cnlPcHRpb25zIiwic2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzIiwibXVsdGlGaWxlT3B0aW9ucyIsImZvbGRlckFuZEZpbGVPcHRpb25zIiwibXVsdGlGb2xkZXJPcHRpb25zIiwic2luZ2xlRm9sZGVyT3B0aW9ucyIsInNpbmdsZUZpbGVPcHRpb25zIiwidHJhc2hGb2xkZXJPcHRpb25zIiwiZGVmYXVsdE9wdGlvbnMiLCJkZWxldGVCdG4iLCJyZW5hbWVCdG4iLCJtb3ZlQnRuIiwidXBkYXRlRG9jQnRuIiwibmV3Rm9sZGVyQnRuIiwidG9wIiwiYnRuQ2xhc3NuYW1lIiwiZm9sZGVyUGF0aE5hbWVzIiwidGFyZ2V0Rm9sZGVyIiwiZ2V0Rm9sZGVyUGF0aEJ5TmFtZXMiLCJyZW1vdmVNZXRhZGF0YSIsImRhdGVUaW1lUGF0dGVybiIsInB1dEJhY2tEb2NzSGFuZGxlciIsInVwZGF0ZVRyYXNoIiwibmV3VHJhc2giLCJjdXJyZW50RGF0ZSIsInRoaXJ0eURheXNBZ28iLCJnZXRUaW1lIiwidG9EZWxldGUiLCJzaGlmdEtleSIsImxvYWREYXNoYm9hcmQiLCJnZXRSb290IiwiY3JlYXRlRW50cnkiLCJGaWxlIiwiY2FuQWRkRW50cnkiLCJpc0ltbXV0YWJsZSIsInJldHVybk9iaiIsImNhblJlbW92ZUVudHJ5IiwiZXhpc3RzSW5QYXJlbnQiLCJmaW5kSW5kZXgiLCJpc0ltbXV0YWJsZVBhcmVudCIsImlzSW1tdXRhYmxlRW50cnkiLCJuZXdQYXJlbnQiLCJpc1NhbWUiLCJpc0ltbXV0YWJsZU5ld1BhcmVudCIsIm5ld1BhcmVudElzQ2hpbGRPZkVudHJ5IiwiRm9sZGVyIiwiaXNDaGlsZE9mIiwiY2FuUmVuYW1lRW50cnkiLCJsb2NhbGVDb21wYXJlIiwiY3JlYXRlVHJhc2giLCJUcmFzaCIsImNyZWF0ZUZpbGUiLCJtb3ZlUmVzcG9uc2UiLCJnZXRBbGxOYW1lcyIsImdldEZpbGVTeXN0ZW0iLCJmcyIsInNhbXBsZUVudHJpZXMiLCJzYW1wbGVzIiwiaW1tdXRhYmxlIiwic2FtcGxlc0ZvbGRlciIsInNhbXBsZSIsImxvYWRTYW1wbGVzIiwidXBsb2FkcyIsImZldGNoVXBsb2FkcyIsInVwbG9hZCIsImxvYWRQcmV2aW91c1VwbG9hZHMiLCJwcmV2U2VsZWN0aW9uIiwib3JkZXJlZFNlbGVjdGlvbiIsInNwZWNpZmljU2VsZWN0aW9uIiwib3JkZXJlZEVudHJpZXMiLCJmb2xkZXJQYXRoIiwiX3Jvb3QiLCJyb290Rm9sZGVyIiwiYm9vbCIsImZvbGRlck5hbWVzIiwicGFpckJ1dHRvbiIsInVwbG9hZEJ1dHRvbiIsImhhbmRsZU1ha2VQYWlyIiwic3Bpbm5lciIsImhhbmRsZVVwbG9hZEFsbERvY3VtZW50cyIsImhhbmRsZVVwbG9hZFVwZGF0ZSIsImZpbGVTZWxlY3RvciIsIm11bHRpcGxlIiwiZmlsZUxpc3QiLCJmaWxlcyIsInJlamVjdEZpbGVzIiwiYWRkTmV3RmlsZXMiLCJ1cGxvYWRfYXJlYSIsIm9uZHJhZ2xlYXZlIiwib25kcmFnb3ZlciIsImRyb3BFZmZlY3QiLCJvbmRyb3AiLCJzb3J0QnlOYW1lQnRuIiwic29ydEZpbGVCeU5hbWUiLCJmbSIsImdldEluc3RhbmNlIiwiY3JlYXRlVW5wYWlyZWRJdGVtIiwicmFkaW9OYW1lIiwicmFkaW8iLCJsYWJlbCIsImZvcm1hdEZpbGVuYW1lIiwiZGVsQnRuIiwibWF4TGVuIiwiY2h1bmtMZW4iLCJmbkNvbmZsaWN0SGFuZGxlciIsImV4aXN0aW5nTmFtZXMiLCJuZXdGaWxlbmFtZSIsImNvdW50ZXIiLCJpbmNsdWRlcyIsInNldE1laVRlbXBsYXRlIiwibWVpX2NvbnRhaW5lciIsImltYWdlX2NvbnRhaW5lciIsImV4dCIsInVucGFpcmVkSXRlbSIsImFkZEZpbGUiLCJwYWlyZWRfY29udGFpbmVyIiwic2VsZWN0ZWRNZWlFbGVtZW50Iiwic2VsZWN0ZWRJbWFnZUVsZW1lbnQiLCJtZWlfZmlsZW5hbWUiLCJpbWFnZV9maWxlbmFtZSIsImlzQ3JlYXRlZCIsImZuIiwiZ2V0SW1nRGltZW5zaW9uIiwiZGltZW5zaW9ucyIsIm5ld01laUZpbGUiLCJjcmVhdGVNZWlGaWxlIiwicGFpcmVkX2VsIiwiZm9saW8iLCJmb2xpb19maWxlbmFtZSIsImhhbmRsZVVucGFpciIsImlzQ3JlYXRlZEZvbGlvIiwicmVtb3ZlRm9saW8iLCJtZWlJdGVtIiwiaW1hZ2VJdGVtIiwidW5wYWlyQnRuIiwiY3JlYXRlUGFpcmVkRm9saW8iLCJhZGRGb2xpbyIsImdldEZvbGlvcyIsImltYWdlIiwiY3JlYXRlTWFuaWZlc3QiLCJhZGREb2N1bWVudCIsImZpbGVFbnRyeSIsImZvbGlvRW50cnkiLCJjcmVhdGVkX29uIiwidXBsb2FkRm9saW8iLCJjbGVhciIsIm5leHRFbGVtZW50U2libGluZyIsImZpbGVFbGVtZW50cyIsImlzQXNjZW5kaW5nIiwibmFtZUEiLCJuYW1lQiIsIlVwbG9hZEZpbGVNYW5hZ2VyIiwiYWxsRmlsZXMiLCJmb2xpb3MiLCJpbnN0YW5jZSIsInVwZGF0ZWRFbnRyeSIsImdldEZpbGVDb3VudCIsIm5ld0VudHJ5IiwidGVtcGxhdGVQYXRoIiwibWVpVGVtcGxhdGUiLCJET01QYXJzZXIiLCJzZXJpYWxpemVyIiwiWE1MU2VyaWFsaXplciIsIm1laURvYyIsInBhcnNlRnJvbVN0cmluZyIsInN1cmZhY2UiLCJtZWlGaWxlQ29udGVudCIsInNlcmlhbGl6ZVRvU3RyaW5nIiwibWVpQmxvYiIsImltZ0ZpbGUiLCJnZXRGaWxlIiwib25sb2FkIiwiaW1nIiwiSW1hZ2UiLCJuZXdGb2xpbyJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFBQVNDLEVBQVFBLEVBQU9ELFFBQVNGLEdBRy9ERyxFQUFPRSxHQUFJLEVBR0pGLEVBQU9ELFFBS2ZGLEVBQW9CUSxFQUFJRixFQUd4Qk4sRUFBb0JT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QUFBL0ksZUFDVCx5Y0FVUyxFQUFBRixrQkFDVCxpM0JBa0JTLEVBQUFKLGlCQUNULG9wQkFjUyxFQUFBQyxxQkFDVCxzYkFVUyxFQUFBRSxvQkFDVCxpM0JBa0JTLEVBQUFELG1CQUNULDZiQVVTLEVBQUFHLG1CQUNULG9PQU1TLEVBQUFQLGtCQUNUIiwiZmlsZSI6ImRhc2hib2FyZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4Nyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHR5cGVzID0gW1xuICByZXF1aXJlKCcuL25leHRUaWNrJyksXG4gIHJlcXVpcmUoJy4vcXVldWVNaWNyb3Rhc2snKSxcbiAgcmVxdWlyZSgnLi9tdXRhdGlvbi5qcycpLFxuICByZXF1aXJlKCcuL21lc3NhZ2VDaGFubmVsJyksXG4gIHJlcXVpcmUoJy4vc3RhdGVDaGFuZ2UnKSxcbiAgcmVxdWlyZSgnLi90aW1lb3V0Jylcbl07XG52YXIgZHJhaW5pbmc7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgfVxuICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgbmV4dFRpY2soKTtcbiAgfVxufVxuXG4vL25hbWVkIG5leHRUaWNrIGZvciBsZXNzIGNvbmZ1c2luZyBzdGFjayB0cmFjZXNcbmZ1bmN0aW9uIG5leHRUaWNrKCkge1xuICBpZiAoZHJhaW5pbmcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NoZWR1bGVkID0gZmFsc2U7XG4gIGRyYWluaW5nID0gdHJ1ZTtcbiAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gIHdoaWxlIChsZW4pIHtcbiAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICBxdWV1ZSA9IFtdO1xuICAgIHdoaWxlIChjdXJyZW50UXVldWUgJiYgKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgfVxuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIH1cbiAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgcXVldWVJbmRleCA9IC0xO1xuICBkcmFpbmluZyA9IGZhbHNlO1xuICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG52YXIgc2NoZWR1bGVEcmFpbjtcbnZhciBpID0gLTE7XG52YXIgbGVuID0gdHlwZXMubGVuZ3RoO1xud2hpbGUgKCsraSA8IGxlbikge1xuICBpZiAodHlwZXNbaV0gJiYgdHlwZXNbaV0udGVzdCAmJiB0eXBlc1tpXS50ZXN0KCkpIHtcbiAgICBzY2hlZHVsZURyYWluID0gdHlwZXNbaV0uaW5zdGFsbChuZXh0VGljayk7XG4gICAgYnJlYWs7XG4gIH1cbn1cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICB0aGlzLmZ1biA9IGZ1bjtcbiAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZnVuID0gdGhpcy5mdW47XG4gIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7XG4gIHN3aXRjaCAoYXJyYXkubGVuZ3RoKSB7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gZnVuKCk7XG4gIGNhc2UgMTpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdKTtcbiAgY2FzZSAyOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdKTtcbiAgY2FzZSAzOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdLCBhcnJheVsyXSk7XG4gIGRlZmF1bHQ6XG4gICAgcmV0dXJuIGZ1bi5hcHBseShudWxsLCBhcnJheSk7XG4gIH1cblxufTtcbm1vZHVsZS5leHBvcnRzID0gaW1tZWRpYXRlO1xuZnVuY3Rpb24gaW1tZWRpYXRlKHRhc2spIHtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICB9XG4gIHF1ZXVlLnB1c2gobmV3IEl0ZW0odGFzaywgYXJncykpO1xuICBpZiAoIXNjaGVkdWxlZCAmJiAhZHJhaW5pbmcpIHtcbiAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgIHNjaGVkdWxlRHJhaW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi9Db2xvcic7XG5pbXBvcnQgeyB1cGRhdGVIaWdobGlnaHQsIGdldEhpZ2hsaWdodFR5cGUgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCAqIGFzIEdyb3VwaW5nIGZyb20gJy4uL1NxdWFyZUVkaXQvR3JvdXBpbmcnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IHsgQXR0cmlidXRlcywgU2VsZWN0aW9uVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbi8qKlxuICogQHJldHVybnMgVGhlIHNlbGVjdGlvbiBtb2RlIGNob3NlbiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblR5cGUgKCk6IFNlbGVjdGlvblR5cGUge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsLWJ5IGlzLWFjdGl2ZScpO1xuICBpZiAoZWxlbWVudC5sZW5ndGggIT09IDApIHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5pZCBhcyBTZWxlY3Rpb25UeXBlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVW5zZWxlY3QgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFuZCBydW4gdW5kbyBhbnkgZXh0cmFcbiAqIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdCAoKTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uby1tb3ZpbmcnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IFxuICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ25vLW1vdmluZycpKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykuZm9yRWFjaCgoc2VsZWN0ZWQ6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBpZiAoc2VsZWN0ZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBzZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBDb2xvci51bmhpZ2hsaWdodChzZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHNlbGVjdGVkLnN0eWxlLmZpbGwgPSAnJztcbiAgICB9XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goKGRpdkxpbmU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBkaXZMaW5lLnN0eWxlLnN0cm9rZSA9ICcnO1xuICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgfSk7XG4gIFxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgbmV1bWUuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH0pO1xuICBcbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goKHN5bFJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBzeWxSZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpIHtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuc3R5bGUuZmlsbCA9ICcnO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICAgICAgXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaCgoZGl2TGluZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9KTtcbiAgICBcbiAgICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKSkuZm9yRWFjaCgobmV1bWU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG4gIFxuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXh0LXNlbGVjdCcpKS5mb3JFYWNoKChlbDogU1ZHRWxlbWVudCkgPT4ge1xuICAgIGVsLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgZWwuc3R5bGUuZm9udFdlaWdodCA9ICcnO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2VsZWN0Jyk7XG4gIH0pO1xuICBcbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICBHcm91cGluZy5lbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhIHN0YWZmIGVsZW1lbnQuXG4gKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdGFmZiAoc3RhZmY6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzdGFmZi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KHN0YWZmKTtcbiAgICBDb2xvci5oaWdobGlnaHQoc3RhZmYsICcjZDAwJyk7XG4gICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhIGxheWVyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbGF5ZXJFbGVtZW50IC0gVGhlIGxheWVyIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0TGF5ZXJFbGVtZW50IChsYXllckVsZW1lbnQ6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFsYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQobGF5ZXJFbGVtZW50KTtcbiAgICBDb2xvci5oaWdobGlnaHQobGF5ZXJFbGVtZW50LCAnI2QwMCcpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIHNlbGVjdCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBlbCAtIEVsZW1lbnQgdG8gc2VsZWN0LlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gT25seSB1c2VkIGZvciBzdGF2ZXMuXG4gKiBAcGFyYW0gbmVlZHNIaWdobGlnaHRVcGRhdGUgLSBXaGV0aGVyIGFsbCB0aGUgZ3JvdXAncyBoaWdobGlnaHRzIHNob3VsZCBiZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIGRyYWdIYW5kbGVyPzogRHJhZ0hhbmRsZXIsIG5lZWRzSGlnaGxpZ2h0VXBkYXRlID0gdHJ1ZSk6IHZvaWQge1xuICAvLyBJZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0LCBleGl0XG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdFN0YWZmKGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgIHJldHVybiBzZWxlY3RMYXllckVsZW1lbnQoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0JykgJiZcbiAgICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0LWRpc3BsYXknKSkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgLy8gc2V0IGZpbGwgdG8gcmVkXG4gICAgLy8gc2V0IHN0cm9rZSB0byByZWQgb25seSBpZiBzZWxlY3RlZCBlbGVtIGlzIGEgZGl2TGluZVxuICAgIGVsLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgZWwuc3R5bGUuc3Ryb2tlID0gKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKT8gJyNkMDAnIDogJ2JsYWNrJztcblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCBjb2xvciBvZiB0aGUgY29ycmVzcG9uZGluZyB0ZXh0IGluIHRoZSB0ZXh0IHBhbmVsIHRvIHJlZFxuICAgIGxldCBzeWxJZDtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBzeWxJZCA9IGVsLmlkO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgIHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgfVxuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChuZWVkc0hpZ2hsaWdodFVwZGF0ZSkge1xuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG59XG4gICAgXG5cbi8qKlxuICogU2VsZWN0IGFuIG5jLlxuICogQHBhcmFtIGVsIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdE5jcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFlbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZWxlY3QocGFyZW50KTtcbiAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwYXJlbnQsIG5lb25WaWV3KSkge1xuICAgICAgY29uc3QgcHJldk5jID0gcGFyZW50LnByZXZpb3VzU2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHByZXZOYywgbmVvblZpZXcpKSB7XG4gICAgICAgIHNlbGVjdChwcmV2TmMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dE5jID0gcGFyZW50Lm5leHRTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShuZXh0TmMsIG5lb25WaWV3KSkge1xuICAgICAgICAgIHNlbGVjdChuZXh0TmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IE5laXRoZXIgcHJldiBvciBuZXh0IG5jIGFyZSBsaWdhdHVyZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmMnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gYWN0aW9uIHRyaWdnZXJlZCEnKTtcbiAgICB9XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBuYyAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgW1tOZW9uVmlld11dIGZvciB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbmV1bWUgY29tcG9uZW50IGlzIHBhcnQgb2YgYSBsaWdhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTGlnYXR1cmUgKG5jOiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgbmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gIHJldHVybiBCb29sZWFuKGF0dHJpYnV0ZXMubGlnYXRlZCk7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBsaXN0IG9mIGVsZW1lbnRzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBsb2dpY2FsbHkgYWRqYWNlbnQgdG8gZWFjaCBvdGhlci5cbiAqIEluY2x1ZGVzIGVsZW1lbnRzIHRoYXQgYXJlIG9uIHNlcGFyYXRlIHN0YXZlcyBidXQgd291bGQgb3RoZXJ3aXNlIGJlIG5leHQgdG8gZWFjaCBvdGhlci5cbiAqIENhbiBub3QgYXBwbHkgdG8gZWxlbWVudHMgb2YgdHlwZSBuZXVtZSBjb21wb25lbnQuXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHVzZXIgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgb2YgaW50ZXJlc3RcbiAqIEByZXR1cm5zIHRydWUgaWYgZWxlbWVudHMgYXJlIGFkamFjZW50LCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZUFkamFjZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIC8vIDIgZWxlbWVudHMgY2Fubm90IGJlIGFkamFjZW50IGlmIHRoZXJlIGlzIG9ubHkgMSBlbGVtZW50XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gZ2V0IGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFzIHNlbGVjdGlvblR5cGVcbiAgbGV0IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlOiBIVE1MRWxlbWVudFtdO1xuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBXZSBhdXRvbWF0aWNhbGx5IHJldHVybiAndHJ1ZScgZm9yIG5ldW1lcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHVzZXIgdG8gYmUgXG4gICAgICAvLyBhbGxvd2VkIHRvIGdyb3VwIHR3byBuZXVtZXMgaW4gc2VwYXJhdGUgc3lsbGFiZXMgd2l0aG91dCBoYXZpbmcgdG8gcGFyZm9ybSBvdGhlclxuICAgICAgLy8gc3RlcHMgZmlyc3QuIFllcywgdGhlcmUgaXMgYSB0cmFkZS1vZmYgLSB0aGlzIGFsbG93cyB1c2VycyB0byB0cnkgYW5kIGdyb3VwIGFueSBcbiAgICAgIC8vIHR3byBub24tYWRqYWNlbnQgbmV1bWVzLCBidXQgaXQgd2FzIGRlY2lkZWQgdGhhdCB0aGUgYmVuZWZpdHMgKHNwZWVkIGFuZCBlZmZpY2llbmN5KVxuICAgICAgLy8gb3V0d2VpZ2ggdGhlIGNvc3RzICh1c2VyIHRyeWluZyBhbiBpbGxlZ2FsIGVkaXQpLlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gU29ydCBTRUxFQ1RFRCBlbGVtZW50cyBpbiBvcmRlciBvZiBhcHBlYXJhbmNlIGJ5IFxuICAvLyBtYXRjaGluZyB0byBvcmRlciBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaT0wOyBpPGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaj0wOyBqPGVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoYWxsRWxlbXNPZlNlbGVjdGlvblR5cGVbaV0uaXNTYW1lTm9kZShlbGVtZW50c1tqXSkpIHtcbiAgICAgICAgc29ydGVkRWxlbWVudHMucHVzaChlbGVtZW50c1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IGNoZWNrIGlmIFNFTEVDVEVEIGVsZW1lbnRzIGFyZSBhbGwgYWRqYWNlbnQgKGluIGEgcm93KSBieSBcbiAgLy8gZmluZGluZyBhbmQgY29tcGFyaW5nIHRoZWlyIGluZGVjZXMgaW4gdGhlIGFycmF5IG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBmb3IgKGxldCBpPTA7IGk8c29ydGVkRWxlbWVudHMubGVuZ3RoLTE7IGkrKykge1xuICAgIGNvbnN0IGZpcnN0RWxlbSA9IHNvcnRlZEVsZW1lbnRzW2ldO1xuICAgIGNvbnN0IHNlY29uZEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpKzFdO1xuXG4gICAgY29uc3QgaW5kZXgxID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihmaXJzdEVsZW0pO1xuICAgIGNvbnN0IGluZGV4MiA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2Yoc2Vjb25kRWxlbSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoaW5kZXgxIC0gaW5kZXgyKSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIGFycmF5IG9mIGVsZW1lbnRzIGFsbCBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudC5cbiAqIEZvciBleGFtcGxlOiBJZiBhbGwgbmV1bWVzIGFyZSBpbiB0aGUgc2FtZSBzeWxsYWJsZS5cbiAqIFxuICogTm90ZSEhIFRoZXJlIGlzIGN1cnJlbnRseSBubyBsb2dpYyBmb3IgdHJlYXRpbmcgbGF5ZXIgZWxlbWVudHMgYW5kIGJib3hlcyFcbiAqIE5vdGUhISBGdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBmb3Igc3RhdmUgZWxlbWVudHMuIChTaG91bGQgaXQ/Pz8pXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHRoZSBjdXJyZW50IE5lb24gc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgaW4gcXVlc3Rpb25cbiAqIEByZXR1cm5zIHRydWUgaWYgYWxsIGVsZW1lbnRzIHNoYXJlIHRoZSBzYW1lIGxvZ2ljYWwgcGFyZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsZW0gPT4gIShlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpKTtcblxuICBpZiAoIWVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTdGFmZiA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3RhZmYpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgY29uc3QgcmVmZXJlbmNlUGFyZW50U3lsbGFibGUgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICAgIGZvciAobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN5bGxhYmxlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBcbiAqIEZvciBleGFtcGxlLCBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIG9mIHR5cGUgbmV1bWUsIG9yIHN5bGxhYmxlLCBldGMuXG4gKiBcbiAqIE5vdGUhISBUaGVyZSBpcyBubyBsb2dpYyBjdXJyZW50bHkgaW1wbGVtZW50ZWQgZm9yIGxheWVyIGVsZW1lbnRzIG9yIGJib3hlcy5cbiAqIFxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgbWF0Y2ggc2VsZWN0aW9uIG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byBjb21wYXJlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSBwYXJlbnQgdXAgdHdvIGxldmVscywgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQgKGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCB0ZW1wRWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcbiAgY29uc3QgZmlyc3RFbGVtZW50ID0gdGVtcEVsZW1lbnRzLnBvcCgpO1xuICBjb25zdCBzZWNvbmRQYXJlbnQgPSBmaXJzdEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGVtcEVsZW1lbnRzKSB7XG4gICAgY29uc3Qgc2VjUGFyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHNlY1Bhci5pZCAhPT0gc2Vjb25kUGFyZW50LmlkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHVzZXIgc2VsZWN0ZWQgZWxlbWVudHMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgdXNlci1zZWxlY3RlZCBlbGVtZW50c1xuICogQHJldHVybnMgdHJ1ZSBpZiBzZWxlY3Rpb24gaXMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aVN0YXZlU2VsZWN0aW9uKGVsZW1lbnRzOiBTVkdFbGVtZW50W10pOiBib29sZWFuIHtcbiAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuXG4gIGZvciAobGV0IGk9MDsgaTxlbGVtZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmYgPSBlbGVtZW50c0FycmF5W2ldLmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgZm9yIChsZXQgaj1pOyBqPGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGFub3RoZXJTdGFmZiA9IGVsZW1lbnRzQXJyYXlbal0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAvLyBjb21wYXJlIHdpdGggb3RoZXIgc3RhdmVzXG4gICAgICBpZiAoIXN0YWZmLmlzU2FtZU5vZGUoYW5vdGhlclN0YWZmKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQm91bmRpbmcgYm94IG9iamVjdCBpbnRlcmZhY2UgZm9yIGdldFN0YWZmQkJveCgpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZmZCQm94IHtcbiAgaWQ6IHN0cmluZztcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG4gIHJvdGF0ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYm91bmRpbmcgYm94IG9mIGEgc3RhZmYgYmFzZWQgb24gaXRzIHN0YWZmIGxpbmVzLlxuICogUm90YXRlIGlzIGluY2x1ZGVkIGluIHJhZGlhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZkJCb3ggKHN0YWZmOiBTVkdHRWxlbWVudCk6IFN0YWZmQkJveCB7XG4gIGxldCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZTtcbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLmZvckVhY2gocGF0aCA9PiB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICBpZiAocm90YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGlmICh1bHkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pIDwgdWx5KSB7XG4gICAgICB1bHkgPSBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAodWx4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMF0gPCB1bHgpIHtcbiAgICAgIHVseCA9IGNvb3JkaW5hdGVzWzBdO1xuICAgIH1cbiAgICBpZiAobHJ5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA+IGxyeSkge1xuICAgICAgbHJ5ID0gTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKGxyeCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzJdID4gbHJ4KSB7XG4gICAgICBscnggPSBjb29yZGluYXRlc1syXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGlkOiBzdGFmZi5pZCwgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUsIH07XG59XG5cbi8qKlxuICogc2VsZWN0IGEgYm91bmRpbmdib3ggZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGJib3ggKHN5bFRleHRSZWN0KSBlbGVtZW50IGluIHRoZSBET01cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIHRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RCQm94IChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBjb25zdCBiYm94ID0gZWw7XG4gIGNvbnN0IHN5bCA9IGJib3guY2xvc2VzdCgnLnN5bCcpO1xuICBpZiAoIXN5bC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzeWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBiYm94LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY29uc3QgY2xvc2VzdCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb3Nlc3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjbG9zZXN0LmNsYXNzTGlzdC5hZGQoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gICAgaWYoY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICAgIGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChuZW9uVmlldyAhPT0gdW5kZWZpbmVkICl7XG4gICAgICByZXNpemUoc3lsIGFzIFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICB9XG4gICAgaWYgKGRyYWdIYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgfVxuICAgIGNvbnN0IHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgaWYgKHN5bElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNwYW46IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBub3QgbmV1bWUgZWxlbWVudHMuXG4gKiBAcGFyYW0gbm90TmV1bWVzIC0gQW4gYXJyYXkgb2Ygbm90IG5ldW1lcyBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE5uIChub3ROZXVtZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGlmIChub3ROZXVtZXMubGVuZ3RoID4gMCkge1xuICAgIG5vdE5ldW1lcy5mb3JFYWNoKG5uID0+IHsgc2VsZWN0KG5uKTsgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHNlbGVjdGluZyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGwgKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZWxlY3Rpb25UeXBlID0gZ2V0U2VsZWN0aW9uVHlwZSgpO1xuICB1bnNlbGVjdCgpO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZWxlY3Rpb25DbGFzcztcbiAgbGV0IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGZhbHNlO1xuICBsZXQgY29udGFpbnNOYyA9IGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bGxhYmxlJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5ldW1lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5jJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN0YWZmJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsVGV4dFJlY3QtZGlzcGxheSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZSc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZSAnICsgc2VsZWN0aW9uVHlwZSk7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBHZXQgdGhlIGdyb3VwaW5ncyBzcGVjaWZpZWQgYnkgc2VsZWN0aW9uQ2xhc3NcbiAgLy8gdGhhdCBjb250YWluIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBzZWxlY3QuXG4gIGNvbnN0IGdyb3Vwc1RvU2VsZWN0ID0gbmV3IFNldDxTVkdHRWxlbWVudD4oKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgbGV0IGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0PFNWR0dFbGVtZW50PihzZWxlY3Rpb25DbGFzcyk7XG4gICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBjbGljay1zZWxlY3RlZCBhIGNsZWYgb3IgYSBjdXN0b3Mgb3IgYW4gYWNjaWQgb3IgYSBkaXZMaW5lXG4gICAgICBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdCgnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnKTtcbiAgICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIGVsZW1lbnQuaWQgKyAnIGlzIG5vdCBwYXJ0IG9mIHNwZWNpZmllZCBncm91cCBhbmQgaXMgbm90IGEgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZS4nKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb250YWluc0xheWVyRWxlbWVudHMgPSBjb250YWluc0xheWVyRWxlbWVudHMgfHwgdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbnNOYyA9IGNvbnRhaW5zTmMgfHwgdHJ1ZTtcbiAgICB9XG4gICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGdyb3VwaW5nKTtcblxuICAgIC8vIENoZWNrIGZvciBwcmVjZWRlcy9mb2xsb3dzXG4gICAgY29uc3QgZm9sbG93cyA9IGdyb3VwaW5nLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKTtcbiAgICBpZiAoZm9sbG93cykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBmb2xsb3dzLnNsaWNlKDEpKS5jbGFzc0xpc3QuYWRkKCduby1tb3ZpbmcnKTtcbiAgICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGZvbGxvd3Muc2xpY2UoMSkpKTtcbiAgICB9XG4gICAgY29uc3QgcHJlY2VkZXMgPSBncm91cGluZy5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpO1xuICAgIGlmIChwcmVjZWRlcykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkuY2xhc3NMaXN0LmFkZCgnbm8tbW92aW5nJyk7XG4gICAgICBncm91cHNUb1NlbGVjdC5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkpO1xuICAgIH1cbiAgfVxuICAvLyBTZWxlY3QgdGhlIGVsZW1lbnRzXG4gIGdyb3Vwc1RvU2VsZWN0LmZvckVhY2goKGdyb3VwOiBTVkdHcmFwaGljc0VsZW1lbnQpID0+IHNlbGVjdChncm91cCwgZHJhZ0hhbmRsZXIsIGZhbHNlKSk7XG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBjb250ZXh0IG1lbnUgdG8gZGlzcGxheSAoaWYgYW55KSAqL1xuXG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZ3JvdXBzVG9TZWxlY3QudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIC8vIEhhbmRsZSBvY2N1cmFuY2Ugb2YgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZVxuICBpZiAoY29udGFpbnNMYXllckVsZW1lbnRzICYmICFjb250YWluc05jKSB7XG4gICAgLy8gQSBjb250ZXh0IG1lbnUgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBpZiB0aGVyZSBpcyBhIHNpbmdsZSBjbGVmXG4gICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgfWVsc2Uge1xuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgcmVzaXplKGdyb3Vwc1swXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuXG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5ldW1lL25jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnc2luZ2xlU2VsZWN0Jyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBsaW5rZWQgc3lsbGFibGUgc3BsaXQgYnkgYSBzdGFmZiBicmVha1xuICAgICAgICAgIC8vIGlmIHRoZXkgYXJlIGxpbmthYmxlLCB1c2VyIGNhbiB0b2dnbGUgbGlua2VkLXN5bGxzXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzTGlua2FibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7IFxuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdsaW5rYWJsZVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbXVsdGlTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2RlZmF1bHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBzeWxsYWJsZXMgYXJlIGFsbCBsb2NhdGVkIG9uIG9uZSBzdGF2ZSwgdGhleSBzaG91bGQgYmUgZ3JvdXBhYmxlXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzeWxscyBhcmUgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5ldW1lQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlOZXVtZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmV1bWUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNlbGVjdGlvbiBpcyBhIGxpZ2F0dXJlIG9yIGNhbiBiZSBhIGxpZ2F0dXJlXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBuZXVtZSBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHRoZSBzYW1lIG5ldW1lXG4gICAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQgPT09IGdyb3Vwc1sxXS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShncm91cHNbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IG5ldW1lIGNvbXBvbmVudHMgYXJlIGFkamFjZW50XG4gICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1swXSkgLSBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1sxXSkpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBzZWNvbmQgbmV1bWUgY29tcG9uZW50IGlzIGxvd2VyIHRoYW4gZmlyc3QuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBvcmRlciBpbiB0aGUgbGlzdCBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIGJ5IHgtcG9zaXRpb24uXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkMgPSAoZ3JvdXBzWzBdLmNoaWxkcmVuWzBdIGFzIFNWR1VzZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQyA9IChncm91cHNbMV0uY2hpbGRyZW5bMF0gYXMgU1ZHVXNlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1ggID0gZmlyc3ROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWCA9IHNlY29uZE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1kgID0gZmlyc3ROQy55LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWSA9IHNlY29uZE5DLnkuYmFzZVZhbC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIG5jJ3MgYnkgeCBjb29yZCAobGVmdCB0byByaWdodClcbiAgICAgICAgICAgICAgICBpZiAoIChmaXJzdE5DWCA+IHNlY29uZE5DWCkgXG4gICAgICAgICAgICAgICAgICB8fCAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCAmJiBmaXJzdE5DWSA8IHNlY29uZE5DWSkpIHtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DLCBzZWNvbmROQ10gPSBbc2Vjb25kTkMsIGZpcnN0TkNdO1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkNYLCBmaXJzdE5DWSwgc2Vjb25kTkNYLCBzZWNvbmROQ1ldID0gW3NlY29uZE5DWCwgc2Vjb25kTkNZLCBmaXJzdE5DWCwgZmlyc3ROQ1ldO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHN0YWNrZWQgbmMncy9saWdhdHVyZSAoaWRlbnRpY2FsIHgpLCBvciBkZXNjZW5kaW5nIG5jJ3MgKHkgZGVzY2VuZHMpXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0TkNYID09PSBzZWNvbmROQ1ggfHwgZmlyc3ROQ1kgPCBzZWNvbmROQ1kpIHtcbiAgICAgICAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbGlnYXR1cmUnKTsgXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzZWxlY3RCQm94KGdyb3Vwc1swXSwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGcgPT4gc2VsZWN0QkJveChnLCBkcmFnSGFuZGxlciwgdW5kZWZpbmVkKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gIH1cbiAgXG4gIC8vIGZ1bmN0aW9uIGNoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIC8vIHRyeSB7XG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpXG4gIC8vIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFNlbGVjdE9wdGlvbnMuY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgLy8gfSBjYXRjaCAoZSkge2NvbnNvbGUuZGVidWcoZSk7fVxuICAvLyB9XG59XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUsIFNlbGVjdGlvblR5cGUsIFVzZXJUeXBlLCBJbnNlcnRUeXBlLCBJbnNlcnRUYWJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFRoZSBvbmUgaW5zdGFuY2Ugb2YgTG9jYWxTZXR0aW5ncyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhbmRcbiAqIHVzZWQgYnkgdGhlIGVkaXRvci5cbiAqIFxuICogVXNlIHRoZSBmdW5jdGlvbnMgYGdldFNldHRpbmdzKClgIGFuZCBgc2V0U2V0dGluZ3MoKWBcbiAqIHRvIGFjY2VzcyB0aGlzIGluc3RhbmNlLlxuICovXG5sZXQgbG9jYWxTZXR0aW5nczogTG9jYWxTZXR0aW5ncyA9IG51bGw7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgc2V0dGluZ3MgZm9yIGVhY2ggZm9saW9cbiAqIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UuXG4gKlxuICogRXZlcnkga2V5IGlzIG9wdGlvbmFsIHNvIHRoYXQgdGhpcyBzYW1lIHR5cGluZ1xuICogY2FuIGJlIHVzZWQgZm9yIGBzZXRTZXR0aW5ncygpYCAvIGBMb2NhbFNldHRpbmdzLnNldCgpYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5ncyB7XG4gIHpvb206IG51bWJlcjtcbiAgZ2x5cGhPcGFjaXR5OiBudW1iZXI7XG4gIGltYWdlT3BhY2l0eTogbnVtYmVyO1xuICBjaXJjbGVTaXplOiBudW1iZXI7XG4gIGhpZ2hsaWdodE1vZGU6IEdyb3VwaW5nVHlwZTtcbiAgdXNlck1vZGU6IFVzZXJUeXBlO1xuICBpbnNlcnRNb2RlOiBJbnNlcnRUeXBlO1xuICBpbnNlcnRUYWI6IEluc2VydFRhYlR5cGU7XG4gIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvblR5cGU7XG4gIGRpc3BsYXlCQm94OiBib29sZWFuO1xuICBkaXNwbGF5VGV4dDogYm9vbGVhbjtcbiAgZGlzcGxheUluZm86IGJvb2xlYW47XG4gIGRpc3BsYXlFcnJMb2c6IGJvb2xlYW47XG4gIHZpZXdCb3g6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHNldHRpbmdzLCB3aGljaCBzaG91bGQgYmUgc2V0IGZvciBhIGZvbGlvIHdpdGggbm9cbiAqIGxvY2FsU3RvcmFnZSB2YWx1ZS5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSB1cGRhdGVkIGFsb25nc2lkZSB0aGUgaW50ZXJmYWNlIGBTZXR0aW5nc2BcbiAqIGFueSB0aW1lIHdlIHdhbnQgdG8gYWRkIGEgbmV3IHNldHRpbmcgdG8gc3RvcmUgaW4gbG9jYWxTdG9yYWdlLlxuICovXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBTZXR0aW5ncyA9IHtcbiAgem9vbTogMTAwLFxuICBnbHlwaE9wYWNpdHk6IDEwMCxcbiAgaW1hZ2VPcGFjaXR5OiAxMDAsXG4gIGNpcmNsZVNpemU6IDI1LFxuICBoaWdobGlnaHRNb2RlOiAnbm9uZScsXG4gIHVzZXJNb2RlOiAnZWRpdCcsXG4gIGluc2VydE1vZGU6ICdwdW5jdHVtJyxcbiAgaW5zZXJ0VGFiOiAncHJpbWl0aXZlVGFiJyxcbiAgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5U3lsbGFibGUnLFxuICBkaXNwbGF5QkJveDogZmFsc2UsXG4gIGRpc3BsYXlUZXh0OiBmYWxzZSxcbiAgZGlzcGxheUluZm86IGZhbHNlLFxuICBkaXNwbGF5RXJyTG9nOiBmYWxzZSxcbiAgdmlld0JveDogbnVsbFxufTtcblxuY2xhc3MgTG9jYWxTZXR0aW5ncyB7XG4gIGlkOiBzdHJpbmc7XG4gIHNldHRpbmdzOiBTZXR0aW5ncztcblxuICBjb25zdHJ1Y3RvciAoZm9saW9JZDogc3RyaW5nKSB7XG4gICAgbG9jYWxTZXR0aW5ncyA9IHRoaXM7XG4gICAgdGhpcy5pZCA9IGZvbGlvSWQ7XG4gICAgdGhpcy5sb2FkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSwgYW5kIHN5bmMgbG9hZGVkIHNldHRpbmdzIHdpdGhcbiAgICogbmV3IGZpZWxkcyB0aGF0IG1heSBub3QgYmUgaW4gbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgbG9hZCAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4gPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmlkKSk7XG4gICAgICB0aGlzLnN5bmMoc3RvcmVkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgbG9jYWxTdG9yYWdlIHZhbHVlIGlzIG5vdCBhIEpTT04gb2JqZWN0IChmb3IgaW5zdGFuY2UsIGFuIGVtcHR5IHN0cmluZyksXG4gICAgICAvLyBhIFN5bnRheEVycm9yIHdpbGwgYmUgdGhyb3duLiBXZSBtdXN0IGhhbmRsZSBpdCBieSBjYWxsaW5nIHN5bmMoKVxuICAgICAgLy8gd2l0aCBhbiBlbXB0eSBKU09OIG9iamVjdC5cbiAgICAgIHRoaXMuc3luYyh7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBuZXcgZmllbGRzIGluIGxvY2FsU3RvcmFnZSwgYXMgYSBcInVuaW9uXCIgb2Ygb2xkIGFuZCBuZXcgc2V0dGluZ3MuXG4gICAqL1xuICBzZXQgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi50aGlzLnNldHRpbmdzLCAuLi5wYXJhbXMgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgc2V0dGluZ3MgdGhhdCBtYXkgbm90IGJlIGluY2x1ZGVkIGluIHVzZXIncyBsb2NhbFN0b3JhZ2UsXG4gICAqIHN1Y2ggYXMgZmllbGRzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIGxvY2FsU3RvcmFnZSBpbiBhIG5ld1xuICAgKiB1cGRhdGUgb2YgTmVvbi5cbiAgICovXG4gIHN5bmMgKHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi5ERUZBVUxUX1NFVFRJTkdTLCAuLi5zdG9yZWQgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0dGluZ3MgKCk6IFNldHRpbmdzIHtcbiAgcmV0dXJuIGxvY2FsU2V0dGluZ3Muc2V0dGluZ3M7XG59XG5cbi8qKlxuICogU2V0IHNwZWNpZmljIGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2V0dGluZ3MgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgbG9jYWxTZXR0aW5ncy5zZXQocGFyYW1zKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxTZXR0aW5ncztcbiIsImltcG9ydCB7IHJlY29yZE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vRXJyb3JMb2cnO1xuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi9yYW5kb20nO1xuXG50eXBlIE5vdGlmaWNhdGlvblR5cGUgPSAnZGVmYXVsdCcgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ3N1Y2Nlc3MnO1xuXG5jb25zdCBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSA9IG5ldyBBcnJheSgwKTtcbmxldCBjdXJyZW50TW9kZU1lc3NhZ2U6IE5vdGlmaWNhdGlvbiA9IG51bGw7XG5cbi8qKlxuICogTnVtYmVyIG9mIG5vdGlmaWNhdGlvbnMgdG8gZGlzcGxheSBhdCBhIHRpbWUuXG4gKi9cbmNvbnN0IE5VTUJFUl9UT19ESVNQTEFZID0gMztcblxuLyoqXG4gKiBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyB0byBkaXNwbGF5IGF0IGEgdGltZS5cbiAqL1xuY29uc3QgVElNRU9VVCA9IDUwMDA7XG5cbmNvbnN0IG5vdGlmaWNhdGlvbkljb246IFJlY29yZDxOb3RpZmljYXRpb25UeXBlLCBzdHJpbmc+ID0ge1xuICBkZWZhdWx0OiAnJyxcbiAgd2FybmluZzogJ+KaoO+4jyAnLFxuICBlcnJvcjogJ/CflLQgJyxcbiAgc3VjY2VzczogJ+KchSAnLFxufTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIG1hbmFnZSBOZW9uIG5vdGlmaWNhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb24ge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGRpc3BsYXllZDogYm9vbGVhbjtcbiAgaWQ6IHN0cmluZztcbiAgaXNNb2RlTWVzc2FnZTogYm9vbGVhbjtcbiAgdGltZW91dElEOiBudW1iZXI7XG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGU7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG5vdGlmaWNhdGlvbkljb25bdHlwZV0gKyBtZXNzYWdlO1xuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuaXNNb2RlTWVzc2FnZSA9IG1lc3NhZ2Uuc2VhcmNoKCdNb2RlJykgIT09IC0xO1xuICAgIHRoaXMudGltZW91dElEID0gLTE7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIElEIGZyb20gc2V0VGltZW91dC4gKi9cbiAgc2V0VGltZW91dElkIChpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lb3V0SUQgPSBNYXRoLm1heChpZCwgLTEpO1xuICB9XG5cbiAgLyoqIERpc3BsYXkgdGhlIE5vdGlmaWNhdGlvbi4gKi9cbiAgZGlzcGxheSAoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBVVUlEIGZvciB0aGlzIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGdldElkICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIG5vdGlmaWNhdGlvblxuICogQHBhcmFtIGN1cnJlbnRJZCAtIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIGJlIGNsZWFyZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyTm90aWZpY2F0aW9uIChjdXJyZW50SWQ6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRJZCkucmVtb3ZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgbm90aWZpY2F0aW9uLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiB0byBkaXNwbGF5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICAvLyBOb3Qgc3VyZSB3aGF0IGl0IGRvZXMsIG1heWJlIHJlbGF0ZWQgdG8gcm9kYW4vbmVvblxuICBpZiAobm90aWZpY2F0aW9uLmlzTW9kZU1lc3NhZ2UpIHtcbiAgICBpZiAoY3VycmVudE1vZGVNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICBjdXJyZW50TW9kZU1lc3NhZ2UgPSBub3RpZmljYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY3VycmVudE1vZGVNZXNzYWdlLnRpbWVvdXRJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIHRoZSB0b3Agbm90aWZpY2F0aW9uIGlmIGV4Y2VlZHMgbWF4bWltdW1cbiAgbm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IE5VTUJFUl9UT19ESVNQTEFZKSB7XG4gICAgY29uc3QgdG9SZW1vdmUgPSBub3RpZmljYXRpb25zLnNoaWZ0KCk7XG4gICAgY2xlYXJOb3RpZmljYXRpb24odG9SZW1vdmUuZ2V0SWQoKSk7XG4gIH1cbiAgY29uc3Qgbm90aWZpY2F0aW9uQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpO1xuICBjb25zdCBuZXdOb3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ25lb24tbm90aWZpY2F0aW9uJyk7XG4gIG5ld05vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKGBuZW9uLW5vdGlmaWNhdGlvbi0ke25vdGlmaWNhdGlvbi50eXBlfWApO1xuICBuZXdOb3RpZmljYXRpb24uaWQgPSBub3RpZmljYXRpb24uZ2V0SWQoKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG5vdGlmaWNhdGlvbi5tZXNzYWdlO1xuICBub3RpZmljYXRpb25Db250ZW50LmFwcGVuZChuZXdOb3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb25Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgbm90aWZpY2F0aW9uLmRpc3BsYXkoKTtcbn1cblxuLyoqXG4gKiBTdGFydCBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbnMuIENhbGxlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5mdW5jdGlvbiBzdGFydE5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgZGlzcGxheU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb24uc2V0VGltZW91dElkKFxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNsZWFyTm90aWZpY2F0aW9uLCBUSU1FT1VULCBub3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgKTtcbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQobm90aWZpY2F0aW9uLmdldElkKCkpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChub3RpZmljYXRpb24udGltZW91dElEKTtcbiAgICAgIGNsZWFyTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5nZXRJZCgpKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBZGQgYSBub3RpZmljYXRpb24gdG8gdGhlIHF1ZXVlLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWVOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbkNvbnRlbnQ6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0Jyk6IHZvaWQge1xuICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbkNvbnRlbnQsIHR5cGUpO1xuXG4gIGlmIChub3RpZmljYXRpb24udHlwZSA9PSAnZXJyb3InIHx8IG5vdGlmaWNhdGlvbi50eXBlID09ICd3YXJuaW5nJykge1xuICAgIHJlY29yZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICB9XG5cbiAgc3RhcnROb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFyZ3NBcnJheTtcblxuZnVuY3Rpb24gYXJnc0FycmF5KGZ1bikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChsZW4pIHtcbiAgICAgIHZhciBhcmdzID0gW107XG4gICAgICB2YXIgaSA9IC0xO1xuICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bi5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgW10pO1xuICAgIH1cbiAgfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGQzOyIsIi8qKlxuICogSFRNTCBmb3IgZWFjaCBpbnNlcnQgdGFiIChuZXVtZSwgZ3JvdXBpbmcsIGNsZWYsIHN5c3RlbSwgYW5kIGRpdmlzaW9uKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydFRhYkh0bWw6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIHByaW1pdGl2ZVRhYjogXG4gICAgICAgIGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInB1bmN0dW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHVuY3R1bVwiIHRpdGxlPVwicHVuY3R1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHVuY3R1bS5wbmdcIiBjbGFzcz1cImltYWdlXCIvPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwidmlyZ2FcIiB0aXRsZT1cInZpcmdhXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy92aXJnYS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aXJnYVJldmVyc2VkXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIlJldmVyc2VkIFZpcmdhXCIgdGl0bGU9XCJSZXZlcnNlZCBWaXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2FfcmV2ZXJzZWQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGlhbW9uZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJpbmNsaW5hdHVtXCIgdGl0bGU9XCJpbmNsaW5hdHVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaWFtb25kLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImN1c3Rvc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjdXN0b3NcIiB0aXRsZT1cImN1c3Rvc1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY3VzdG9zLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkMgQ2xlZlwiIHRpdGxlPVwiIEMgQ2xlZlwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY0NsZWYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZkNsZWZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRiBDbGVmXCIgdGl0bGU9XCJGIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ZDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImxpcXVlc2NlbnRBXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkxpcXVlc2NlbnQgQVwiIHRpdGxlPVwiTGlxdWVzY2VudCBBXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9saXF1ZXNjZW50QS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50Q1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IENcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQ1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZmxhdFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJGbGF0XCIgdGl0bGU9XCJGbGF0XCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZEZsYXQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibmF0dXJhbFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJOYXR1cmFsXCIgdGl0bGU9XCJOYXR1cmFsXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZE5hdHVyYWwucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+IFxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicGVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInBlc1wiIHRpdGxlPVwicGVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wZXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpdmlzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImNsaXZpc1wiIHRpdGxlPVwiY2xpdmlzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGl2aXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2NhbmRpY3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInNjYW5kaWN1c1wiIHRpdGxlPVwic2NhbmRpY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zY2FuZGljdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpbWFjdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpbWFjdXNcIiB0aXRsZT1cImNsaW1hY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGltYWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ0b3JjdWx1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJ0b2N1bHVzXCIgdGl0bGU9XCJ0b2N1bHVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy90b3JjdWx1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwb3JyZWN0dXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicG9ycmVjdHVzXCIgdGl0bGU9XCJwb3JyZWN0dXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3BvcnJlY3R1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzc3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInByZXNzdXNcIiB0aXRsZT1cInByZXNzdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ByZXNzdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+YCxcbiAgc3lzdGVtVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic3RhZmZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIGxvbmdlbFwiIGFyaWEtbGFiZWw9XCJzeXN0ZW1cIiB0aXRsZT1cInN5c3RlbVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc3RhZmYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPkNsaWNrIHVwcGVyIGxlZnQgYW5kIGxvd2VyIHJpZ2h0IGNvcm5lcnMgb2YgbmV3IHN0YWZmLjwvcD5gXG4gIC8vIGRpdmlzaW9uVGFiOiBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICsgICAgXG4gIC8vIFwiPGJ1dHRvbiBpZD0nc21hbGxEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9zbWFsbGRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyAgICAgXCI8YnV0dG9uIGlkPSdtaW5vckRpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL21pbm9yZGl2LnBuZ1wiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyAgICAgXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vIFwiPGJ1dHRvbiBpZD0nbWFqb3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9tYWpvcmRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J2ZpbmFsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvZmluYWxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCJcbn07XG5cbi8qKlxuICogU3RydWN0dXJlIG9mIGluc2VydCBwYW5lbCB3aXRoIGJhc2ljIGdyb3VwaW5nIHRhYnMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRDb250cm9sc1BhbmVsID1cbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImluc2VydE1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5JTlNFUlQ8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb24gaXMtcHVsbGVkLXJpZ2h0XCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlSW5zZXJ0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBpZD1cImluc2VydENvbnRlbnRzXCIgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3cteTogaGlkZGVuO1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJwYW5lbC10YWJzXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJwcmltaXRpdmVUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPlByaW1pdGl2ZSBFbGVtZW50czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cImdyb3VwaW5nVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5Hcm91cGluZzwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInN5c3RlbVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+U3lzdGVtPC9hPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBpZD1cImluc2VydF9kYXRhXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZWRpdCBwYW5lbCB3aXRoIGJ1dHRvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0Q29udHJvbHNQYW5lbCA9XG4gICAgYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5U3lsbGFibGVcIj5TeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOZXVtZVwiPk5ldW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeU5jXCI+TmV1bWUgQ29tcG9uZW50PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN0YWZmXCI+U3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TGF5ZXJFbGVtZW50XCI+TGF5ZXIgRWxlbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1zbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibW9yZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXh0cmFFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwhLS1cbiAgICAgICAgICAgICAgICAgICAgKiBUaGUgZXh0cmFFZGl0IHBhbmVsIGlzIGFkZGVkIGZvciBlZGl0IG9wdGlvbnMgdGhhdCBoYXZlIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgICogTGlrZSB0aGUgTmV1bWUgYW5kIENsZWYgbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIGRvbmUgYmVjYXVzZSB0aGUgbW9yZUVkaXQgbWVudSBuZWVkcyB0byBoYXZlIG92ZXJmbG93IGZvciBjYXNlcyB3aGVyZSBpdCBoYXMgbG90cyBvZiBidXR0b25zXG4gICAgICAgICAgICAgICAgICAgICogQnV0IG92ZXJmbG93IHJ1aW5zIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJuZXVtZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bmRvUmVkb19jb250cm9sc1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkNoYW5nZSBIZWFkIFNoYXBlOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWQgU2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlB1bmN0dW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5QdW5jdHVtPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVmlyZ2FcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJnYTwvYT4gXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInNwbGl0LW5ldW1lXCI+U3BsaXQgTmV1bWVzPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBuZXVtZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+R3JvdXBpbmcgT3B0aW9uczo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Hcm91cGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnQgc2Nyb2xsYWJsZS1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaW1hY3VzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpbWFjdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpdmlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpdmlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBlcyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlByZXNzdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QcmVzc3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJUb3JjdWx1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlRvcmN1bHVzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOY3NcIj5Vbmdyb3VwPC9idXR0b24+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEFjdGlvbkNvbnRlbnRzID0gXG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51IHdoZW4gc2VsZWN0aW5nIGJ5IHN5bGxhYmxlXG4gKiBTYW1lIGFzIGFib3ZlIGV4Y2VwdCBpbmNsdWRlcyByZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuICAgIFxuLyoqXG4gKiBDb250ZW50cyBvZiBjdXN0b3MgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b3NBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaW5zZXJ0VG9TeWxsYWJsZVwiPkluc2VydCB0byBuZWFyZXN0IHN5bGxhYmxlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAoaW5zaWRlIHN5bGxhYmxlKSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1vdmVPdXRzaWRlU3lsbGFibGVcIj5Nb3ZlIG91dHNpZGUgc3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBhY2NpZCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjY2lkQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzdGFmZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXY+U3BsaXQgU3lzdGVtOjwvZGl2PlxuICAgIDxkaXYgaWQ9XCJzcGxpdC1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInNwbGl0LXN5c3RlbVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5TcGxpdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwicmVzZXQtcm90YXRlXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPlJlc2V0IFJvdGF0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgc3RhZmYgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFmZk1lcmdlQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+TWVyZ2UgU3lzdGVtczo8L2xhYmVsPlxuICAgIDxkaXYgaWQ9XCJtZXJnZS1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cIm1lcmdlLXN5c3RlbXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+TWVyZ2U8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY29sdW1uQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwiY29sLWVkaXQtY29udGFpbmVyXCI+XG4gICAgICAgIEVkaXQgQ29sdW1uIEluZm9ybWF0aW9uOiBcbiAgICAgICAgPGRpdiBpZD1cImNvbC1zdGVwcGVyLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWRlY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+4oCTPC9idXR0b24+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImNvbC1pbnB1dFwiIGNsYXNzPVwic2lkZS1wYW5lbC1zdGVwcGVyLWlucHV0XCIgdmFsdWU9XCIwXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWluY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+KzwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNvbC1jb25maXJtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzaWRlLXBhbmVsLWNvbmZpcm0tYnRuXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj5Db25maXJtPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiY29sLXdhcm5pbmdcIiBjbGFzcz1cInNpZGUtcGFuZWwtd2FybmluZ1wiPjwvZGl2PiBcbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBjbGVmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY2xlZkFjdGlvbkNvbnRlbnRzID1cbiAgICBgXG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkRpc3BsYWNlIE9jdGF2ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJpbmNyZW1lbnQtb2N0YXZlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+KzEgT2N0YXZlPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImRlY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4tMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIiBvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2UgQ2xlZiBTaGFwZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJDQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkMgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJGQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkYgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRpdkxpbmUgdHlwZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRpdkxpbmVBY3Rpb25Db250ZW50cyA9XG5gPGxhYmVsPkNoYW5nZSBEaXZMaW5lOjwvbGFiZWw+XG48ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwib3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9DYWVzdXJhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+Q2Flc3VyYTwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GaW5hbGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmluYWxpczwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NaW5pbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NaW5pbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWFpb3JcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYWlvcjwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NYXhpbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYXhpbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvVmlyZ3VsYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPlZpcmd1bGE8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBiYm94IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYmJveEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtYXRjaEhlaWdodFwiPk1hdGNoIEhlaWdodCBmb3IgRW50aXJlIFJvdzwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogSFRNTCBmb3IgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cGluZ01lbnUgPSB7XG4gIG5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBtb3JlLWVkaXQtYnRuXCIgaWQ9XCJncm91cE5jc1wiPkdyb3VwIE5ldW1lIENvbXBvbmVudHM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIG5ldW1lOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOZXVtZXNcIj5Hcm91cCBOZXVtZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIHN5bDogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblx0XHQ8L2Rpdj5gLFxuICBsaWdhdHVyZU5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PmAsXG4gIGxpZ2F0dXJlOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmAsXG4gIHNwbGl0U3lsbGFibGU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YFxufTtcblxuXG5cbi8qIEJHSU5OSU5HIE9GIE1PREFMIFdJTkRPVyBDT05URU5UIFNFQ1RJT04gKi9cblxuLyoqXG4gKiBIVE1MIGZvciBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0VGV4dE1vZGFsID0gXG4gICAgYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlXCI+U2F2ZTwvZGl2PiAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cblxuLyoqXG4gKiBIVE1MIGZvciBIb3RrZXlzIG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgaG90a2V5c01vZGFsID0gYFxuICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXNcIj5cbiAgICAgICAgPCEtLSBcIkRpc3BsYXlcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkRpc3BsYXk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+KzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIEluPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+LTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIE91dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gUmVzZXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+aDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5IaWRlIEdseXBoPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+VDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5TY3JvbGwgVG8gU3lsbGFibGUgVGV4dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJFZGl0XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5FZGl0PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlVuZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+UmVkbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5xL3cvZS9yL3QveTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgSGlnaGxpZ2h0IGJ5IFN0YWZmL1N5bGxhYmxlL05ldW1lL0xheWVyRWxlbWVudC9TZWxlY3Rpb24vT2ZmXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPjEvMi8zLzQvNS82PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgYnkgU3lsbGFibGUvTmV1bWUvTmV1bWUgQ29tcG9uZW50L1N0YWZmL0xheWVyIEVsZW1lbnQvQkJveFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPk51bWJlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgQmVnaW4gSW5zZXJ0IGZvciB0aGUgPGk+bnRoPC9pPiBvcHRpb24gaW4gdGhlIHNlbGVjdGVkIHRhYlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJPdGhlclwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+T3RoZXI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2F2ZSBGaWxlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkVzYzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZXR1cm4gdG8gRWRpdCBNb2RlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IHN5bGxhYmxlQWN0aW9uc0NvbnRlbnQgPSBgXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgZXJyb3JMb2dzUGFuZWxDb250ZW50cyA9IFxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZXJyb3JMb2dIZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RXJyb3IgTG9nPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRXJyb3JMb2dcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIGlkPVwiZXJyb3JMb2dDb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3c6IHNjcm9sbDsgcGFkZGluZzogMC41ZW0gMC43NWVtOyBtYXgtaGVpZ2h0OiAzMDBweDtcIj48ZGl2PmA7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxudmFyIGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyKSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiLyoqIEBtb2R1bGUgRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyAqL1xuXG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tICcuLi91dGlscy9Db2xvcic7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi4vU2luZ2xlVmlldy9ab29tJztcbmltcG9ydCB7IEdyb3VwaW5nVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG5sZXQgbGFzdEdseXBoT3BhY2l0eTogbnVtYmVyLCBsYXN0SW1hZ2VPcGFjaXR5OiBudW1iZXIsIGxhc3RDaXJjbGVTaXplOiBudW1iZXI7XG5cbi8qKlxuICogU2V0IHpvb20gY29udHJvbCBsaXN0ZW5lciBmb3IgYnV0dG9uIGFuZCBzbGlkZXJcbiAqIEBwYXJhbSB6b29tSGFuZGxlciAtIEEgW1tab29tSGFuZGxlcl1dIGlzIG9ubHkgbmVjZXNzYXJ5IGluIFNpbmdsZSBQYWdlIG1vZGUgYXMgZGl2YS5qcyBoYW5kbGVzIHpvb21pbmcgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Wm9vbUNvbnRyb2xzICh6b29tSGFuZGxlcj86IFpvb21IYW5kbGVyKTogdm9pZCB7XG4gIGlmICh6b29tSGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHpvb21TbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IHpvb21PdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgem9vbSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbUhhbmRsZXIuem9vbVRvKHpvb20gLyAxMDAuMCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC16b29tJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICB6b29tSGFuZGxlci5yZXNldFpvb21BbmRQYW4oKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NldC16b29tLWVhc3ktZWRpdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTgwJztcbiAgICB6b29tU2xpZGVyLnZhbHVlID0gJzE4MCc7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKDE4MC8xMDApO1xuICB9KTtcblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSB6b29tU2xpZGVyLnZhbHVlO1xuICAgIHpvb21IYW5kbGVyLnpvb21UbyhOdW1iZXIoem9vbU91dHB1dC52YWx1ZSkgLyAxMDAuMCk7XG4gIH1cblxuICAvLyB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Wm9vbSA9IHBhcnNlSW50KHpvb21PdXRwdXQudmFsdWUpO1xuICAgIGlmIChldnQua2V5ID09PSAnQXJyb3dVcCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93RG93bicgfHwgXG4gICAgZXZ0LmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IGV2dC5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcrJykgeyAvLyBpbmNyZWFzZSB6b29tIGJ5IDIwXG4gICAgICBjb25zdCBuZXdab29tID0gTWF0aC5taW4oY3VycmVudFpvb20gKyAyMCwgcGFyc2VJbnQoem9vbVNsaWRlci5nZXRBdHRyaWJ1dGUoJ21heCcpKSk7XG4gICAgICB6b29tSGFuZGxlci56b29tVG8obmV3Wm9vbSAvIDEwMC4wKTtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ18nKSB7IC8vIGRlY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1heChjdXJyZW50Wm9vbSAtIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWluJykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnMCcpIHtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIE1FSSBvcGFjaXR5IHRvIHZhbHVlIGZyb20gdGhlIHNsaWRlci5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIChtZWlDbGFzc05hbWU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgb3BhY2l0eU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IG9wYWNpdHlPdXRwdXQudmFsdWU7XG4gIC8vIHRoaXMgaXMgd2hlcmUgd2UgbG9hZCBnbHlwaCBvcGFjaXR5IGZyb20gbG9jYWxTdG9yYWdlIG9uIHBhZ2UtbG9hZFxuICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0b2dnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVHbHlwaEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtZ2x5cGgtb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Nob3ctaWNvbi5zdmdgKTtcbiAgICBoaWRlR2x5cGhJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ1Nob3cgZ2x5cGgnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBnbHlwaCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbWVpQ2xhc3NOYW1lKSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwLjApLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBwcm9wZXJseSBzZXQgb3BhY2l0eSB0byBwYWdlcycpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IHJlbmRlcmVkIE1FSSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGdseXBoT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEdseXBoT3BhY2l0eSA9IGdseXBoT3BhY2l0eTtcbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VPcGFjaXR5ICgpOiB2b2lkIHtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gb3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIobWVpQ2xhc3NOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZU9wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWdseXBoLW9wYWNpdHknKTtcblxuICBpZiAoZ2x5cGhPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVPcGFjaXR5QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuICAgIGlmICh0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5jb250YWlucygnaGlkZS1pY29uJykpIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5pdGlvbiBzY2FsZSBpcyB0aGUgcm9vdCBlbGVtZW50IG9mIHdoYXQgaXMgZ2VuZXJhdGVkIGJ5IHZlcm92aW9cbiAgICBcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+KS5mb3JFYWNoKGcgPT4ge1xuICAgICAgZy5zdHlsZS5vcGFjaXR5ID0gbmV3T3BhY2l0eS50b1N0cmluZygpO1xuICAgIH0pO1xuXG4gICAgbGFzdEdseXBoT3BhY2l0eSA9IE51bWJlcihvcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdPcGFjaXR5ICogMTAwKSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogbmV3T3BhY2l0eSAqIDEwMCB9KTtcblxuICAgIGlucHV0Q2hhbmdlT3BhY2l0eSgpO1xuICB9KTtcblxuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VPcGFjaXR5KTtcbiAgb3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuXG4gIG9wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFNldCBiYWNrZ3JvdW5kIGltYWdlIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIGJhY2tncm91bmQgLSBUaGUgYmFja2dyb3VuZCBpbWFnZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gc2V0QmdPcGFjaXR5Q29udHJvbHMgKGJhY2tncm91bmQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgYmdPcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnT3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgaW1hZ2VPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0SW1hZ2VPcGFjaXR5ID0gaW1hZ2VPcGFjaXR5O1xuICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gYmdJbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IGJnT3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0QmdPcGFjaXR5RnJvbVNsaWRlcihiYWNrZ3JvdW5kKTtcbiAgfVxuXG5cbiAgY29uc3QgdG9nZ2xlQmdPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iZy1vcGFjaXR5Jyk7XG5cbiAgaWYgKGltYWdlT3BhY2l0eSA9PSAxMDApIHtcbiAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVCZ09wYWNpdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcblxuICAgIGlmICh0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhY2tncm91bmQpWzBdIGFzIEhUTUxFbGVtZW50KVxuICAgICAgLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG5cbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgYmdPcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgaW1hZ2VPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuICAgIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcblxuICBiZ09wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QmdPcGFjaXR5RnJvbVNsaWRlciAoYmFja2dyb3VuZD86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQ6IEhUTUxPdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JnT3BhY2l0eU91dHB1dCcpO1xuICBcbiAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0aWdnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVCZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtYmctb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUJnSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2hpZGUtaWNvbi5zdmdgKTtcbiAgICBoaWRlQmdJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0hpZGUgYmFja2dyb3VuZCBpbWFnZScpO1xuICB9XG5cbiAgY29uc3QgYmc6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YmFja2dyb3VuZH1gKTtcbiAgaWYgKGJnKSBiZy5zdHlsZS5vcGFjaXR5ID0gU3RyaW5nKE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwKTtcbn1cblxuLyoqXG4gKiBTZXQgYmFja2dyb3VuZCBpbWFnZSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBiYWNrZ3JvdW5kIC0gVGhlIGJhY2tncm91bmQgaW1hZ2Ugc2VsZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDaXJjbGVTaXplQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBjaXJjbGVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2lyY2xlU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgY2lyY2xlT3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpcmNsZU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgY2lyY2xlU2l6ZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdENpcmNsZVNpemUgPSBjaXJjbGVTaXplO1xuICBjaXJjbGVTbGlkZXIudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG4gIGNpcmNsZU91dHB1dC52YWx1ZSA9IFN0cmluZyhjaXJjbGVTaXplKTtcblxuICBmdW5jdGlvbiBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyICgpOiB2b2lkIHtcbiAgICBjaXJjbGVPdXRwdXQudmFsdWUgPSBjaXJjbGVTbGlkZXIudmFsdWU7XG4gICAgbGFzdENpcmNsZVNpemUgPSBOdW1iZXIoY2lyY2xlU2xpZGVyLnZhbHVlKTtcbiAgICBzZXRTZXR0aW5ncyh7IGNpcmNsZVNpemU6IE51bWJlcihsYXN0Q2lyY2xlU2l6ZSkgfSk7XG4gICAgY29uc3QgcmVzaXplUG9pbnRzID0gZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKTtcbiAgICBpZiAoIXJlc2l6ZVBvaW50cy5lbXB0eSgpKSB7XG4gICAgICByZXNpemVQb2ludHMuYXR0cigncicsIGxhc3RDaXJjbGVTaXplKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1jaXJjbGUtc2l6ZScpO1xuICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0U2l6ZSA9IDI1OyBcbiAgICAvLyBpZiBoYXMgcmVzaXplUG9pbnRzIGRpc3BsYXllZFxuICAgIGNvbnN0IHJlc2l6ZVBvaW50cyA9IGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50Jyk7XG4gICAgaWYgKCFyZXNpemVQb2ludHMuZW1wdHkoKSkge1xuICAgICAgcmVzaXplUG9pbnRzLmF0dHIoJ3InLCBkZWZhdWx0U2l6ZSk7XG4gICAgfVxuXG4gICAgbGFzdENpcmNsZVNpemUgPSBOdW1iZXIoZGVmYXVsdFNpemUpO1xuICAgIGNpcmNsZVNsaWRlci52YWx1ZSA9IFN0cmluZyhkZWZhdWx0U2l6ZSk7XG4gICAgY2lyY2xlT3V0cHV0LnZhbHVlID0gU3RyaW5nKGRlZmF1bHRTaXplKTtcblxuICAgIHNldFNldHRpbmdzKHsgY2lyY2xlU2l6ZTogTnVtYmVyKGRlZmF1bHRTaXplKSB9KTtcbiAgICBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGNpcmNsZVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBjaXJjbGVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlcik7XG5cbiAgY2lyY2xlU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG59XG5cbi8qKlxuICogVXBkYXRlIGhpZ2hsaWdodCBkcm9wZG93biBvcHRpb24gKyBkaXNwbGF5XG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5mdW5jdGlvbiB1cGRhdGVIaWdobGlnaHRPcHRpb24gKGdyb3VwOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGhpZ2hsaWdodC0ke2dyb3VwfWApO1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuXG4gIC8vIHNhdmUgaGlnaGxpZ2h0IG9wdGlvbiB0byBsb2NhbFN0b3JhZ2VcbiAgc2V0U2V0dGluZ3MoeyBoaWdobGlnaHRNb2RlOiBncm91cCB9KTtcblxuICBkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgfSk7XG5cbiAgaWYgKGdyb3VwID09PSAnbm9uZScpIHtcbiAgICBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50ID0gJ1xceEEwLSBPZmYnO1xuICAgIENvbG9yLnVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIG9wdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcblxuICAvLyBUZXh0IGNvbnRlbnQgaXMgdGhlIGdyb3VwaW5nIHR5cGUgY2FwaXRhbGl6ZWRcbiAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9IGBcXHhBMC0gJHtncm91cFswXS50b1VwcGVyQ2FzZSgpICsgZ3JvdXAuc2xpY2UoMSl9YDtcbiAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXApO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBoaWdobGlnaHQgbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWdobGlnaHRUeXBlICgpOiBHcm91cGluZ1R5cGUge1xuICBjb25zdCBoaWdobGlnaHRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJyk7XG4gIHJldHVybiBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50LnNsaWNlKDMpLnRvTG93ZXJDYXNlKCkgYXMgR3JvdXBpbmdUeXBlO1xufVxuXG4vKipcbiAqIFNldCBjbGljayBsaXN0ZW5lciBmb3IgZWFjaCBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uXG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbihncm91cCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENsaWNrYXdheSBsaXN0ZW5lciBmb3IgdGhlIGhpZ2hsaWdodCBkcm9wZG93bi5cbiAqL1xuZnVuY3Rpb24gaGlnaGxpZ2h0Q2xpY2thd2F5ICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gc3RhZmYgaGlnaGxpZ2h0aW5nIGNoZWNrYm94LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0Q29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBkcm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICBpZiAoZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG5cbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignY29sdW1uJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICAqIFNldCBsaXN0ZW5lciBvbiBrZXkgc2hvcnRjdXRzIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBoaWdobGlnaHRzXG4gICogXG4gICogVGhlIGN1cnJlbnQgcGxhbiBpcyB0byB1c2UgdGhlIGtleXMgcSwgdywgZSwgciwgdCwgYW5kIHlcbiAgKi9cbmZ1bmN0aW9uIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIC8vIFByZXZlbnQgY21kL2N0cmwrciBmcm9tIGNoYW5naW5nIGhpZ2hsaWdodCBvcHRpb25cbiAgICBpZiAoZXZ0Lm1ldGFLZXkpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgY2FzZSAncSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncic6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBoaWdobGlnaHRTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXNlbGVjdGlvbicpO1xuICBoaWdobGlnaHRTZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgICBoaWdobGlnaHRTZWxlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSAnIC0gU2VsZWN0aW9uJztcbiAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBoaWdobGlnaHQgZm9yIGRpZmZlcmVudCB0eXBlcyBiYXNlZCBvbiB0aGUgJ2hpZ2hsaWdodC1zZWxlY3RlZCcgY2xhc3MgaW4gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUhpZ2hsaWdodCAoKTogdm9pZCB7XG4gIGxldCBoaWdobGlnaHRJZDogc3RyaW5nO1xuICB0cnkge1xuICAgIGhpZ2hsaWdodElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaGlnaGxpZ2h0SWQgPSAnJztcbiAgfVxuICBzd2l0Y2ggKGhpZ2hsaWdodElkKSB7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWNvbHVtbic6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnY29sdW1uJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc3RhZmYnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N0YWZmJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc3lsbGFibGUnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtbmV1bWUnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ25ldW1lJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtbGF5ZXJFbGVtZW50JzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdsYXllckVsZW1lbnQnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1zZWxlY3Rpb24nOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3NlbGVjdGlvbicpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIENvbG9yLnVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBsaXN0ZW5lciBvbiBidXJnZXIgbWVudSBmb3Igc21hbGxlciBzY3JlZW5zLlxuICovXG5mdW5jdGlvbiBzZXRCdXJnZXJDb250cm9scyAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlck1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2TWVudScpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICB9KTtcbn1cblxuLyoqIFxuICogU2V0IGxpc3RlbmVyIGZvciBcIkRpc3BsYXkgQWxsXCIgYnV0dG9uIGluIERpc3BsYXkgcGFuZWwuXG4qL1xuZnVuY3Rpb24gc2V0RGlzcGxheUFsbExpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBzZWxlY3RBbGxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1hbGwtYnRuJyk7XG4gIHNlbGVjdEFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAvLyBhdCB0aGUgbW9tZW50LCBjbGFzc25hbWUgJ3NlbGVjdGVkJyBpcyBvbmx5IHVzZWQgZm9yIHRyYWNraW5nIHB1cnBvc2VzXG4gICAgaWYgKHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgc2VsZWN0QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICBjb25zdCBvcHRpb25zID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveC1jb250YWluZXIgPiAuY2hlY2tib3gnKTtcblxuICAgICAgQXJyYXkuZnJvbShvcHRpb25zKS5mb3JFYWNoKChvcHRpb246IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbi5jaGVja2VkKSBvcHRpb24uY2xpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgc2VsZWN0QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICBjb25zdCBvcHRpb25zID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveC1jb250YWluZXIgPiAuY2hlY2tib3gnKTtcbiAgICAgIFxuICAgICAgQXJyYXkuZnJvbShvcHRpb25zKS5mb3JFYWNoKChvcHRpb246IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKCFvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiogXG4gKiBVcGRhdGUgYERpc3BsYXkgQWxsYCBidXR0b24gc3RhdHVzXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTogdm9pZCB7XG4gIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgZGlzcGxheUJCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgZGlzcGxheUVyckxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWVycm9ycycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgLy8gaWYgYWxsIG9wdGlvbnMgYXJlIHNlbGVjdGVkLFxuICAvLyBzZXQgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIHRvIFwiSGlkZSBBbGxcIi5cbiAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgZGlzcGxheVRleHQ/LmNoZWNrZWQgJiYgZGlzcGxheUVyckxvZz8uY2hlY2tlZCkge1xuICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIGlzIGluIFwiSGlkZSBBbGxcIiBtb2RlLCBzZXQgaXQgdG8gXCJEaXNwbGF5IEFsbFwiIG1vZGVcbiAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBMb2FkIGhpZ2hsaWdodCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEhpZ2hsaWdodFNldHRpbmdzICgpOiB2b2lkIHtcbiAgY29uc3QgeyBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICB1cGRhdGVIaWdobGlnaHRPcHRpb24oaGlnaGxpZ2h0TW9kZSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBsaXN0ZW5lcnMgYW5kIGNvbnRyb2xzIGZvciBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laUNsYXNzTmFtZSAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZml5IHRoZSBNRUkgZWxlbWVudChzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIHVzZWQgdG8gc2lnbmlmeSB0aGUgYmFja2dyb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcbiAgc2V0R2x5cGhPcGFjaXR5Q29udHJvbHMobWVpQ2xhc3NOYW1lKTtcbiAgc2V0QmdPcGFjaXR5Q29udHJvbHMoYmFja2dyb3VuZCk7XG4gIHNldEhpZ2hsaWdodENvbnRyb2xzKCk7XG4gIHNldEJ1cmdlckNvbnRyb2xzKCk7XG4gIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzKCk7XG4gIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpO1xuICBsb2FkSGlnaGxpZ2h0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUNvbnRlbnRzJyk7XG4gIGNvbnN0IHRvZ2dsZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRGlzcGxheScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlIZWFkZXInKTtcblxuICBkaXNwbGF5SGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICBkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZGlzcGxheSBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG59XG5cbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgR3JvdXBpbmcgZnJvbSAnLi9Hcm91cGluZyc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRTdGFmZkhhbmRsZXIgfSBmcm9tICcuL1N0YWZmVG9vbHMnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUhhbmRsZXIgfSBmcm9tICcuL05ldW1lVG9vbHMnO1xuaW1wb3J0IHtcbiAgQ2hhaW5BY3Rpb24sXG4gIENoYW5nZVN0YWZmQWN0aW9uLFxuICBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24sXG4gIEVkaXRvckFjdGlvbixcbiAgTWF0Y2hIZWlnaHRBY3Rpb24sXG4gIFJlbW92ZUFjdGlvbixcbiAgU2V0QWN0aW9uLFxuICBTZXRDbGVmQWN0aW9uXG59IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFN0YWZmQkJveCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcblxuLyoqXG4gKiBUaGUgTmVvblZpZXcgcGFyZW50IHRvIGNhbGwgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBOZW9uVmlldy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xuICBHcm91cGluZy5pbml0TmVvblZpZXcodmlldyk7XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGluY2xpbmF0dW0gcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRJbmNsaW5hdHVtQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIHZpcmdhIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0VmlyZ2FBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgcmV2ZXJzZWQgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGxpcXVlc2NlbnRfY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9hbnRpY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ2N1cnZlJyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKiBFdmVudCBoYW5kbGVyIGZvciBkZWxldGUgYnV0dG9uIHByZXNzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUJ1dHRvbkhhbmRsZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICBpZiAoZXZ0LmtleSA9PT0gJ2QnIHx8IGV2dC5rZXkgPT09ICdCYWNrc3BhY2UnKSB7IHJlbW92ZUhhbmRsZXIoKTsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IH1cbn1cblxuLyoqXG4gKiBFbmQgdGhlIGV4dHJhIG9wdGlvbnMgbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9wdGlvbnNTZWxlY3Rpb24gKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBjb25zdCBleHRyYUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0Jyk7XG4gIGlmIChtb3JlRWRpdCkge1xuICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH1cbiAgaWYgKGV4dHJhRWRpdCkge1xuICAgIGV4dHJhRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICBleHRyYUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfVxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbn1cblxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZW1vdmluZyBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSGFuZGxlciAoKTogdm9pZCB7XG4gIGNvbnN0IHRvUmVtb3ZlOiBSZW1vdmVBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJyk7XG4gICAgfVxuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLmFjY2lkJyk7XG4gICAgfVxuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuZGl2TGluZScpO1xuICAgIH1cbiAgICB0b1JlbW92ZS5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvUmVtb3ZlXG4gIH07XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHsgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlLWFzc29jaWF0aW5nIGVsZW1lbnRzIHRvIHRoZSBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTdGFmZkhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvQ2hhbmdlOiBDaGFuZ2VTdGFmZkFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b0NoYW5nZS5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdjaGFuZ2VTdGFmZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvQ2hhbmdlXG4gIH07XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHsgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIGluc2VydGluZyBkaXZpc2lvIG9yIGFjY2lkZW50YWwgaW50byBuZWFyZXN0IHN5bGxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9JbnNlcnQ6IEVkaXRvckFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b0luc2VydC5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdpbnNlcnRUb1N5bGxhYmxlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b0luc2VydFxuICB9O1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0luc2VydCBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdJbnNlcnQgRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gIH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSBtb3ZpbmcgZGl2aXNpbyBvciBhY2NpZGVudGFsIG91dCBvZiBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvTW92ZTogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvTW92ZS5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdtb3ZlT3V0c2lkZVN5bGxhYmxlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b01vdmVcbiAgfTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNb3ZlIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01vdmUgRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gIH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIG1hdGNoIGJib3ggaGVpZ2h0IHRvIHRoZSBzZWxlY3RlZCBiYm94XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtYXRjaEhlaWdodEhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgaWYgKHNlbGVjdGVkLmxlbmd0aCA+IDEpIHtcbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0Nhbm5vdCBtYXRjaCBoZWlnaHQgdG8gbXVsdGlwbGUgYmJveCcsICdlcnJvcicpO1xuICB9XG4gIGNvbnN0IHRvQ2hhbmdlOiBNYXRjaEhlaWdodEFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdtYXRjaEhlaWdodCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogc2VsZWN0ZWRbMF0uaWRcbiAgICB9XG4gIH07XG5cbiAgbmVvblZpZXcuZWRpdCh0b0NoYW5nZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdIZWlnaHQgTWF0Y2ggU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSGVpZ2h0IE1hdGNoIEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRGVsZXRlTGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IGRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGUnKTtcblxuICBpZiAoZGVsKSB7XG4gICAgZGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4gICAgZGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG5cbiAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBvdXRzaWRlIHRoZSBpZiBjb25kaXRpb24/XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IGNoYW5nZVN0YWZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZVN0YWZmJyk7XG4gIGNoYW5nZVN0YWZmPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVN0YWZmSGFuZGxlcik7XG4gIGNoYW5nZVN0YWZmPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVN0YWZmSGFuZGxlcik7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBjb2x1bW4gbnVtYmVyIGluIHRoZSBpbnB1dFxuICovXG5mdW5jdGlvbiB1cGRhdGVDb2x1bW5JbmZvKCk6IHZvaWQge1xuICBjb25zdCBjb2xJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBzdGF2ZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgbGV0IGNvbEluZm86IG51bWJlcjtcbiAgZm9yIChjb25zdCBzdGFmZiBvZiBzdGF2ZXMpIHtcbiAgICBjb25zdCBoYXNDb2x1bW4gPSBBcnJheS5mcm9tKHN0YWZmLmNsYXNzTGlzdCkuam9pbignICcpLm1hdGNoKC9cXGJjb2x1bW4oXFxkKylcXGIvKTtcbiAgICBpZiAoaGFzQ29sdW1uKSB7XG4gICAgICBjb25zdCBzdGFmZkNvbCA9IHBhcnNlSW50KGhhc0NvbHVtblsxXSwgMTApO1xuICAgICAgaWYgKGNvbEluZm8gJiYgY29sSW5mbyAhPSBzdGFmZkNvbCkge1xuICAgICAgICBjb25zdCB3YXJuaW5nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC13YXJuaW5nJyk7XG4gICAgICAgIHdhcm5pbmcuaW5uZXJUZXh0ID0gJ1RoZSBzZWxlY3RlZCBzdGF2ZXMgYXJlIG5vdCBvZiB0aGUgc2FtZSBjb2x1bW4hJztcbiAgICAgICAgY29sSW5mbyA9IDA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29sSW5mbyA9IHN0YWZmQ29sO1xuICAgICAgfVxuICAgIH1cbiAgfSBcbiAgaWYgKGNvbEluZm8pIGNvbElucHV0LnZhbHVlID0gY29sSW5mby50b1N0cmluZygpO1xufVxuXG4vKipcbiAqIEFkZCBjb2x1bW4gaW5mbyBlZGl0IGhhbmRsZXIgZm9yIGNvbHVtbiBpbmZvIGVkaXRvclxuICovXG5mdW5jdGlvbiBhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IGRlY3JlbWVudEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtZGVjcmVtZW50JykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGluY3JlbWVudEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtaW5jcmVtZW50JykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWNvbmZpcm0nKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgY29sSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLWlucHV0JykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBkZWNyZW1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdXBkYXRlTnVtYmVyKC0xKTtcbiAgfSk7XG5cbiAgaW5jcmVtZW50QnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIHVwZGF0ZU51bWJlcigxKTtcbiAgfSk7XG5cbiAgLy8gQWRkIGNvbHVtbiBpbmZvIGVkaXQgaGFuZGxlclxuICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xuICAgIGNvbnN0IHRvU2V0Q29sdW1uOiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICAgIGNvbnN0IHN0YXZlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi5zZWxlY3RlZCcpO1xuICAgIHN0YXZlcy5mb3JFYWNoKHN0YWZmID0+IHtcbiAgICAgIHRvU2V0Q29sdW1uLnB1c2goXG4gICAgICAgIHtcbiAgICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICBlbGVtZW50SWQ6IHN0YWZmLmlkLFxuICAgICAgICAgICAgYXR0clR5cGU6ICd0eXBlJyxcbiAgICAgICAgICAgIGF0dHJWYWx1ZTogJ2NvbHVtbicgKyBjb2xJbnB1dC52YWx1ZSxcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfSk7XG4gICAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgcGFyYW06IHRvU2V0Q29sdW1uXG4gICAgfTtcbiAgICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDb2x1bW4gVmFsdWUgVXBkYXRlIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDb2x1bW4gVmFsdWUgVXBkYXRlIEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICAgIH0pO1xuICB9KTtcbiAgXG4gIGZ1bmN0aW9uIHVwZGF0ZU51bWJlcihjaGFuZ2U6IG51bWJlcikge1xuICAgIGNvbnN0IG1pbk51bSA9IDE7XG4gICAgY29uc3QgbWF4TnVtID0gNTtcbiAgICBsZXQgY3VycmVudFZhbHVlID0gcGFyc2VJbnQoY29sSW5wdXQudmFsdWUsIDEwKSB8fCAwO1xuICAgIGN1cnJlbnRWYWx1ZSArPSBjaGFuZ2U7XG5cbiAgICBjdXJyZW50VmFsdWUgPSBNYXRoLm1pbihNYXRoLm1heChjdXJyZW50VmFsdWUsIG1pbk51bSksIG1heE51bSk7XG4gICAgaWYgKGN1cnJlbnRWYWx1ZS50b1N0cmluZygpICE9IGNvbElucHV0LnZhbHVlKSBjb25maXJtQnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICBjb2xJbnB1dC52YWx1ZSA9IGN1cnJlbnRWYWx1ZS50b1N0cmluZygpO1xuICB9XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc2V0IHRoZSBIVE1MIGNvbnRlbnQgb2YgZWRpdCBjb250cm9sczogZWl0aGVyICNtb3JlRWRpdCBvciAjZXh0cmFFZGl0XG4gKlxuICogQHBhcmFtIHsnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCd9IGVkaXRUeXBlIC0gVGhlIHR5cGUgb2YgZWRpdCBjb250cm9sc1xuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRzIC0gVGhlIGlubmVySFRNTCBjb250ZW50c1xuICogQHBhcmFtIHtib29sZWFufSByZXBsYWNlIC0gSXMgdGhlIGlubmVySFRNTCBiZWluZyByZXBsYWNlZCwgb3IgYmVpbmcgYWRkZWQgdG8/XG4gKi9cbmZ1bmN0aW9uIHNldEVkaXRDb250cm9scyhlZGl0VHlwZTogJ21vcmVFZGl0JyB8ICdleHRyYUVkaXQnLCBjb250ZW50czogc3RyaW5nLCByZXBsYWNlID0gdHJ1ZSk6IHZvaWQge1xuICBjb25zdCBlZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWRpdFR5cGUpO1xuICBcbiAgaWYgKGVkaXQpIHtcbiAgICBlZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHJlcGxhY2UpIGVkaXQuaW5uZXJIVE1MID0gY29udGVudHM7XG4gICAgZWxzZSBlZGl0LmlubmVySFRNTCArPSBjb250ZW50cztcbiAgfVxufVxuXG4vKipcbiAqIFRyaWdnZXIgdGhlIGV4dHJhIG5jIGFjdGlvbiBtZW51IGZvciBhIHNlbGVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJOY0FjdGlvbnMgKG5jOiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0QWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLm5jQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQdW5jdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjSW5jbGluYXR1bS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldEluY2xpbmF0dW06IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnc2UnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0SW5jbGluYXR1bSBdIH0gLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2EuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0VmlyZ2E6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAncydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRJbmNsaW5hdHVtLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldFZpcmdhIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ZpcmdhUmV2ZXJzZWQuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRWaXJnYVJldmVyc2VkOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ24nXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0VmlyZ2FSZXZlcnNlZCBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNMaXF1ZXNjZW50Q2xvY2t3aXNlLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0TGlxdWVzY2VudENsb2Nrd2lzZTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnYydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7ICBcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudEFudGljbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2U6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2EnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pOyAgXG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIG5ldW1lIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTmV1bWVBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0TmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKTtcbiAgaWYgKG5ldW1lLmxlbmd0aCAhPT0gMSkge1xuICAgIGNvbnNvbGUud2FybignTW9yZSB0aGFuIG9uZSBuZXVtZSBzZWxlY3RlZCEgQ2Fubm90IHRyaWdnZXIgTmV1bWUgQ2xpY2tTZWxlY3QgYWN0aW9ucy4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPIGFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LW5ldW1lJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXVtZS5zZWxlY3RlZCcpIGFzIFNWR0dFbGVtZW50O1xuICAgICAgaWYgKG5ldW1lICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0TmV1bWVIYW5kbGVyKG5lb25WaWV3LCBuZXVtZSk7XG4gICAgICAgIHNwbGl0LnN0YXJ0U3BsaXQoKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkIScpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blc1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGl2aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGltYWN1c1Jlc3VwaW51cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVG9yY3VsdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHJlc3N1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcblxuICBmdW5jdGlvbiB0cmlnZ2VyQ2hhbmdlR3JvdXAgKGNvbnRvdXI6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNoYW5nZUdyb3VwaW5nQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFuZ2VHcm91cCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IG5ldW1lWzBdLmlkLFxuICAgICAgICBjb250b3VyOiBjb250b3VyXG4gICAgICB9XG4gICAgfTtcbiAgICBuZW9uVmlldy5lZGl0KGNoYW5nZUdyb3VwaW5nQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3lsbGFibGUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTeWxsYWJsZUFjdGlvbnMgKHNlbGVjdGlvblR5cGU6IHN0cmluZyk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN5bGxhYmxlQWN0aW9uc0NvbnRlbnQpO1xuICAvLyBpbml0aWFsaXplIHZhcmlhYmxlIHRoYXQgd2lsbCBob2xkIGh0bWwgdG8gYmUgYWRkZWQgdG8gRGlzcGxheSBwYW5lbFxuICBsZXQgZXh0cmFBY3Rpb25zSFRNTCA9ICcnO1xuXG4gIC8vIGRldGVybWluZSB0aGUgdHlwZSBvZiBzZWxlY3Rpb24gdGhhdCB3YXMgbWFkZSBieSB0aGUgdXNlclxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIC8vIG9ubHkgb25lIHN5bGxhYmxlXG4gICAgY2FzZSAnc2luZ2xlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0d28gc3lsbGFibGVzIG9uIHNlcGFyYXRlIHN0YXZlc1xuICAgIGNhc2UgJ2xpbmthYmxlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vIHRvdyBvciBtb3JlIHN5bGxhYmxlcyBvbiBvbmUgc3RhZmZcbiAgICBjYXNlICdtdWx0aVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vZGVmYXVsdCBvcHRpb25zXG4gICAgY2FzZSAnZGVmYXVsdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgfVxuXG4gIC8vIHNldCBjb250ZW50IG9mIGFkZGl0aW9uYWwgYWN0aW9ucyBpbiBEaXNwbGF5IHBhbmVsIFxuICAvLyBhbmQgaW5pdGlhbGl6ZSBuZWNlc3NhcnkgbGlzdGVuZXJzXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBleHRyYUFjdGlvbnNIVE1MLCB0cnVlKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbn1cblxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgbGF5ZXIgZWxlbWVudCAoYWNjaWQsIGRpdkxpbmUsIGN1c3RvcywgY2xlZikgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY3VzdG9zJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuY3VzdG9zQWN0aW9uQ29udGVudHMpO1xuICAgIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBjb25zdCBwYXJlbnRJc1N5bGxhYmxlID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKTtcbiAgY29uc3QgbGF5ZXJFbGVtZW50QWN0aW9ucyA9IHBhcmVudElzU3lsbGFibGVcbiAgICA/IENvbnRlbnRzLmxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHNcbiAgICA6IENvbnRlbnRzLmxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzO1xuICBcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIGxheWVyRWxlbWVudEFjdGlvbnMsIGZhbHNlKTtcbiAgXG4gIC8vIGV4dHJhIGFjdGlvbnMgZm9yIGFjY2lkIGFuZCBkaXZMaW5lXG4gIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuYWNjaWRBY3Rpb25Db250ZW50cyk7XG4gICAgYWNjaWRPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH1cbiAgZWxzZSBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY2xlZkFjdGlvbkNvbnRlbnRzKTtcbiAgICBjbGVmT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmRpdkxpbmVBY3Rpb25Db250ZW50cyk7XG4gICAgZGl2TGluZU9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcblxuIFxuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xufVxuXG5mdW5jdGlvbiBhY2NpZE9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmxhdC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb0ZsYXQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oY2hhbmdlVG9GbGF0KTtcbiAgICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTmF0dXJhbC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb05hdHVyYWw6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oY2hhbmdlVG9OYXR1cmFsKTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xuXG59XG5cbmZ1bmN0aW9uIGNsZWZPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbmNyZW1lbnQtb2N0YXZlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRPY3RhdmU6IERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZGlzcGxhY2VDbGVmT2N0YXZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYWJvdmUnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoaW5jcmVtZW50T2N0YXZlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGVmIG9jdGF2ZSBpbmNyZW1lbnRlZC4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWF4aW11bSBvY3RhdmUgZGlzcGxhY2VtZW50IHJlYWNoZWQuIENsZWYgY2FuIG9ubHkgYmUgZGlzcGxhY2VkIHVwIHRvIDMgb2N0YXZlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVjcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JlbG93J1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgZGVjcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NDbGVmLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldENDbGVmOiBTZXRDbGVmQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRDbGVmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgc2hhcGU6ICdDJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihzZXRDQ2xlZik7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNGQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRGQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnRidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oc2V0RkNsZWYpO1xuICAgIH0pO1xuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbmZ1bmN0aW9uIGRpdkxpbmVPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01pbmltYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01pbmltYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ21pbmltYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NaW5pbWEpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01haW9yLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWFpb3I6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdtYWlvcidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NYWlvcik7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTWF4aW1hLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvTWF4aW1hOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWF4aW1hJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb01heGltYSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmluYWxpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb0ZpbmFsaXM6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdmaW5hbGlzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb0ZpbmFsaXMpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0NhZXN1cmEuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9DYWVzdXJhOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnY2Flc3VyYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9DYWVzdXJhKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9WaXJndWxhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvVmlyZ3VsYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3Zpcmd1bGEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvVmlyZ3VsYSk7XG4gICAgfSk7XG4gICAgXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogUGFyc2UgYWN0aW9ucyByZWdhcmRpbmcgc2hhcGUgY2hhbmdlcyB0byBlZGl0b3IgYWN0aW9uXG4gKi9cbmZ1bmN0aW9uIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oYWN0aW9uOiBTZXRBY3Rpb24gfCBTZXRDbGVmQWN0aW9uKSB7XG4gIG5lb25WaWV3LmVkaXQoYWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBzdGFmZiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck11bHRpU3RhZmZBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3RhZmZNZXJnZUFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5jb2x1bW5BY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgLy8gQ29sdW1uIGluZm8gZWRpdG9yXG4gIHVwZGF0ZUNvbHVtbkluZm8oKTtcbiAgYWRkQ29sdW1uSW5mb1N0ZXBIYW5kbGVyKCk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlLXN5c3RlbXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBHcm91cGluZy5tZXJnZVN0YXZlcygpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnRlciBzdGFmZiBzcGxpdHRpbmcgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN0YWZmU3BsaXRNb2RlICgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3BsaXQgPSBuZXcgU3BsaXRTdGFmZkhhbmRsZXIobmVvblZpZXcsIHN0YWZmKTtcbiAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHNwbGl0IHN0YWZmIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclNpbmdsZVN0YWZmQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY29sdW1uQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIENvbHVtbiBpbmZvIGVkaXRvclxuICB1cGRhdGVDb2x1bW5JbmZvKCk7XG4gIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpO1xuXG4gIC8vIEFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LXN5c3RlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXJvdGF0ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdFbGVtZW50O1xuICAgICAgLy8gVW51c2VkIHZhcmlhYmxlczpcbiAgICAgIC8vIGNvbnN0IHJlY3QgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpO1xuICAgICAgLy8gY29uc3QgY28gPSByZWN0LmdldEF0dHJpYnV0ZSgncG9pbnRzJykuc3BsaXQoJyAnKTtcbiAgICAgIC8vIGNvbnN0IGR5ID0gcGFyc2VJbnQoY29bMF0uc3BsaXQoJywnKVsxXSkgLSBwYXJzZUludChjb1sxXS5zcGxpdCgnLCcpWzFdKTtcbiAgICAgIGNvbnN0IHBvaW50cyA9IGdldFN0YWZmQkJveChzdGFmZiBhcyBTVkdHRWxlbWVudCk7XG4gICAgICBjb25zdCB5X2NoYW5nZSA9IE1hdGgudGFuKHBvaW50cy5yb3RhdGUpKihwb2ludHMubHJ4IC0gcG9pbnRzLnVseCk7XG4gICAgICBpZiAoc3RhZmYgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBzdGFmZi5pZCxcbiAgICAgICAgICAgIHVseDogcG9pbnRzLnVseCxcbiAgICAgICAgICAgIHVseTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMudWx5ICsgeV9jaGFuZ2UvMiA6IHBvaW50cy51bHkgLSB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgbHJ4OiBwb2ludHMubHJ4LFxuICAgICAgICAgICAgbHJ5OiBwb2ludHMucm90YXRlID4gMCA/IHBvaW50cy5scnkgLSB5X2NoYW5nZS8yIDogcG9pbnRzLmxyeSArIHlfY2hhbmdlLzIsXG4gICAgICAgICAgICByb3RhdGU6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkJyk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGJib3ggb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckJCb3hBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuYmJveEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21hdGNoSGVpZ2h0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbWF0Y2hIZWlnaHRIYW5kbGVyKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBhY3Rpb25zIHdoZW4gc2VsZWN0aW5nIGJ5IHN5bFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBzZWxlY3Rpb24gb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGV4dHJhIGRyb3Bkb3duIG9wdGlvbnM6XG4gKiBMaXN0ZW4gdG8gY2xpY2tzIG9uIGRyb3Bkb3duc1xuICovXG5mdW5jdGlvbiBpbml0T3B0aW9uc0xpc3RlbmVycyAoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpXG4gICAgLmZvckVhY2goXG4gICAgICBkcm9wID0+IHtcbiAgICAgICAgLy8gV2hlbiBhbnl0aGluZyB0aGF0IGlzIG5vdCB0aGUgZHJvcGRvd24gaXMgY2xpY2tlZCBhd2F5LCB0aGUgZHJvcGRvd25cbiAgICAgICAgLy8gc2hvdWxkIGxvc2UgaXRzIHZpc2liaWxpdHlcbiAgICAgICAgY29uc3Qgb3B0aW9uc0NsaWNrYXdheSA9ICgpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IG9mIGRyb3Bkb3duXG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB2aXNpYmlsaXR5IG9mIG90aGVyIGRyb3Bkb3ducyB3aGVuIHRoaXMgb25lIGlzIGNsaWNrZWRcbiAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpKVxuICAgICAgICAgICAgLmZpbHRlcihvdGhlciA9PiBvdGhlciAhPT0gZHJvcClcbiAgICAgICAgICAgIC5mb3JFYWNoKG90aGVyID0+IG90aGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpKTtcblxuICAgICAgICAgIC8vIERvbid0IGFsbG93IG90aGVyIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgYm9keSB0byBpbnRlcmZlcmUgd2l0aCB0aGlzIGxpc3RlbmVyXG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgaWYgKGRyb3AuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJCb3gge1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgU1ZHIHJlbGF0aXZlIGNvb3JkaW5hdGVzIGdpdmVuIGNsaWVudFggYW5kIGNsaWVudFlcbiAqIFNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjkyNjEzMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNWR1JlbENvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBQb2ludCB7XG4gIGNvbnN0IHB0ID0gbmV3IERPTVBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcuYWN0aXZlLXBhZ2UgPiAuZGVmaW5pdGlvbi1zY2FsZScpO1xuICBjb25zdCBzeXN0ZW0gPSBzdmcucXVlcnlTZWxlY3RvcjxTVkdHRWxlbWVudD4oJy5zeXN0ZW0nKTtcblxuICBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShzeXN0ZW0uZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtcbiAgcmV0dXJuIHsgeCwgeSB9O1xuXG4gIC8vIElmIHRoZXJlIGlzIHNvbWUgaXNzdWUgd2l0aCBjb29yZGluYXRlcywgdGhpcyBtYXkgZml4IHRoZSBpc3N1ZTpcbiAgLy8gY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdTVkdFbGVtZW50PignI3N2Z19ncm91cCcpO1xuICAvLyBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShzdmcuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtcbn1cblxuLyoqXG4gKiBHZXQgSUQgb2Ygc3RhZmYgYnkgY2xpZW50J3MgeC15IGNvb3JkaW5hdGVzLlxuICogVGhpcyBmdW5jdGlvbiBjb25zaWRlcnMgdGhlICp2aXN1YWwqIGJvdW5kaW5nIGJveCBvZiB0aGUgc3RhZmZcbiAqIGJhc2VkIG9uIGl0cyBzdGFmZiBsaW5lcywgaW5zdGVhZCBvZiB0aGUgU1ZHIGVsZW1lbnQgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZJZEJ5Q29vcmRzIChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHRWxlbWVudD4oJy5zdGFmZicpKTtcbiAgY29uc3Qgc3RhZmZCQm94ZXMgPSBzdGF2ZXMubWFwKHN0YWZmID0+IGdldFN0YWZmQkJveChzdGFmZikpO1xuXG4gIC8vIGZpbmQgdGhlIHN0YWZmIHRoYXQgdGhlIGN1cnNvciBpcyBpbnNpZGVcbiAgY29uc3QgeyB4LCB5IH0gPSBnZXRTVkdSZWxDb29yZHMoY2xpZW50WCwgY2xpZW50WSk7XG4gIGNvbnN0IHN0YWZmID0gc3RhZmZCQm94ZXMuZmluZChcbiAgICAoYmJveCkgPT4geCA8PSBiYm94LmxyeCAmJiB4ID49IGJib3gudWx4ICYmIHkgPD0gYmJveC5scnkgJiYgeSA+PSBiYm94LnVseVxuICApOyBcblxuICAvLyBJZiB0aGVyZSBpcyBpc3N1ZXMgd2l0aCBmaW5kaW5nIHRoZSBzdGFmZiwgdGhpcyBtYXkgYmUgbW9yZSBhY2N1cmF0ZTpcbiAgLy8gcmV0dXJuIChwdC54ID4gdWx4ICYmIHB0LnggPCBscngpICYmXG4gIC8vICAgKHB0LnkgPiAodWx5ICsgKHB0LnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSkpICYmXG4gIC8vICAgKHB0LnkgPCAobHJ5IC0gKGxyeCAtIHB0LngpICogTWF0aC50YW4ocm90YXRlKSkpO1xuXG4gIC8vIGlmIHRoZSBjdXJzb3IgaXMgbm90IGluc2lkZSBhbnkgc3RhZmYsIHRoZW4gZXhwbGljaXRseSByZXR1cm4gbnVsbFxuICByZXR1cm4gc3RhZmYgPyBzdGFmZi5pZCA6IG51bGw7XG59XG5cbi8qKlxuICogR2V0IHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlczsgd3JhcHBlciBmb3IgZ2V0U3RhZmZJZEJ5Q29vcmRzLCBidXRcbiAqICAgcmV0dXJucyB0aGUgZWxlbWVudCwgbm90IHRoZSBJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBTVkdHRWxlbWVudCB8IG51bGwge1xuICBjb25zdCBzdGFmZklkID0gZ2V0U3RhZmZJZEJ5Q29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7c3RhZmZJZH1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3V0T2ZTVkdCb3VuZHMgKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IGJnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdJbWFnZUVsZW1lbnQ+KCcjYmdpbWcnKTtcbiAgXG4gIHJldHVybiAoXG4gICAgeCA8PSAwIHx8IHggPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSkgfHxcbiAgICB5IDw9IDAgfHwgeSA+PSBOdW1iZXIoYmdJbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgYm94IChscngsIGxyeSwgdWx4LCB1bHkpIG9mIGEgZ2x5cGgsIHdoaWNoXG4gKiBpcyBhIDx1c2U+IGVsZW1lbnQgaW4gdGhlIFNWR1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2x5cGhCQm94IChnOiBTVkdSZWN0RWxlbWVudCB8IFNWR1VzZUVsZW1lbnQpOiBCQm94IHtcbiAgY29uc3QgcmVjdCA9IChnLnRhZ05hbWUgPT0gJ3JlY3QnKSA/IGcuZ2V0QkJveCgpIDogKGcucGFyZW50Tm9kZSBhcyBTVkdHRWxlbWVudCkuZ2V0QkJveCgpO1xuXG4gIHJldHVybiB7XG4gICAgdWx4OiByZWN0LngsXG4gICAgdWx5OiByZWN0LnksXG4gICAgbHJ4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgIGxyeTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgfTtcbn1cblxuIiwiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRFxuICAgICAgICBkZWZpbmUoZmFjdG9yeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzICh3aXRoIHN1cHBvcnQgZm9yIHdlYiB3b3JrZXJzKVxuICAgICAgICB2YXIgZ2xvYjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ2xvYiA9IHdpbmRvdztcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2xvYiA9IHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICBnbG9iLlNwYXJrTUQ1ID0gZmFjdG9yeSgpO1xuICAgIH1cbn0oZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLypcbiAgICAgKiBGYXN0ZXN0IG1kNSBpbXBsZW1lbnRhdGlvbiBhcm91bmQgKEpLTSBtZDUpLlxuICAgICAqIENyZWRpdHM6IEpvc2VwaCBNeWVyc1xuICAgICAqXG4gICAgICogQHNlZSBodHRwOi8vd3d3Lm15ZXJzZGFpbHkub3JnL2pvc2VwaC9qYXZhc2NyaXB0L21kNS10ZXh0Lmh0bWxcbiAgICAgKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL21kNS1zaG9vdG91dC83XG4gICAgICovXG5cbiAgICAvKiB0aGlzIGZ1bmN0aW9uIGlzIG11Y2ggZmFzdGVyLFxuICAgICAgc28gaWYgcG9zc2libGUgd2UgdXNlIGl0LiBTb21lIElFc1xuICAgICAgYXJlIHRoZSBvbmx5IG9uZXMgSSBrbm93IG9mIHRoYXRcbiAgICAgIG5lZWQgdGhlIGlkaW90aWMgc2Vjb25kIGZ1bmN0aW9uLFxuICAgICAgZ2VuZXJhdGVkIGJ5IGFuIGlmIGNsYXVzZS4gICovXG4gICAgdmFyIGFkZDMyID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIChhICsgYikgJiAweEZGRkZGRkZGO1xuICAgIH0sXG4gICAgICAgIGhleF9jaHIgPSBbJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnXTtcblxuXG4gICAgZnVuY3Rpb24gY21uKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgICAgICAgYSA9IGFkZDMyKGFkZDMyKGEsIHEpLCBhZGQzMih4LCB0KSk7XG4gICAgICAgIHJldHVybiBhZGQzMigoYSA8PCBzKSB8IChhID4+PiAoMzIgLSBzKSksIGIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWN5Y2xlKHgsIGspIHtcbiAgICAgICAgdmFyIGEgPSB4WzBdLFxuICAgICAgICAgICAgYiA9IHhbMV0sXG4gICAgICAgICAgICBjID0geFsyXSxcbiAgICAgICAgICAgIGQgPSB4WzNdO1xuXG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbMF0gLSA2ODA4NzY5MzYgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxXSAtIDM4OTU2NDU4NiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1syXSArIDYwNjEwNTgxOSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1szXSAtIDEwNDQ1MjUzMzAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbNF0gLSAxNzY0MTg4OTcgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1s1XSArIDEyMDAwODA0MjYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbNl0gLSAxNDczMjMxMzQxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzddIC0gNDU3MDU5ODMgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbOF0gKyAxNzcwMDM1NDE2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbOV0gLSAxOTU4NDE0NDE3IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzEwXSAtIDQyMDYzIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzExXSAtIDE5OTA0MDQxNjIgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbMTJdICsgMTgwNDYwMzY4MiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzEzXSAtIDQwMzQxMTAxIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzE0XSAtIDE1MDIwMDIyOTAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTVdICsgMTIzNjUzNTMyOSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzFdIC0gMTY1Nzk2NTEwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbNl0gLSAxMDY5NTAxNjMyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTFdICsgNjQzNzE3NzEzIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzBdIC0gMzczODk3MzAyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzVdIC0gNzAxNTU4NjkxIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTBdICsgMzgwMTYwODMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxNV0gLSA2NjA0NzgzMzUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbNF0gLSA0MDU1Mzc4NDggfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbOV0gKyA1Njg0NDY0MzggfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxNF0gLSAxMDE5ODAzNjkwIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbM10gLSAxODczNjM5NjEgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbOF0gKyAxMTYzNTMxNTAxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzEzXSAtIDE0NDQ2ODE0NjcgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1syXSAtIDUxNDAzNzg0IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbN10gKyAxNzM1MzI4NDczIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzEyXSAtIDE5MjY2MDc3MzQgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbNV0gLSAzNzg1NTggfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbOF0gLSAyMDIyNTc0NDYzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxMV0gKyAxODM5MDMwNTYyIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1sxNF0gLSAzNTMwOTU1NiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxXSAtIDE1MzA5OTIwNjAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbNF0gKyAxMjcyODkzMzUzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1s3XSAtIDE1NTQ5NzYzMiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTBdIC0gMTA5NDczMDY0MCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxM10gKyA2ODEyNzkxNzQgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbMF0gLSAzNTg1MzcyMjIgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzNdIC0gNzIyNTIxOTc5IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1s2XSArIDc2MDI5MTg5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzldIC0gNjQwMzY0NDg3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzEyXSAtIDQyMTgxNTgzNSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTVdICsgNTMwNzQyNTIwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1syXSAtIDk5NTMzODY1MSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzBdIC0gMTk4NjMwODQ0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzddICsgMTEyNjg5MTQxNSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMTRdIC0gMTQxNjM1NDkwNSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbNV0gLSA1NzQzNDA1NSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1sxMl0gKyAxNzAwNDg1NTcxIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzNdIC0gMTg5NDk4NjYwNiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMTBdIC0gMTA1MTUyMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMV0gLSAyMDU0OTIyNzk5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8YiA+Pj4gMTEpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzhdICsgMTg3MzMxMzM1OSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxNV0gLSAzMDYxMTc0NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbNl0gLSAxNTYwMTk4MzgwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1sxM10gKyAxMzA5MTUxNjQ5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8YiA+Pj4gMTEpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzRdIC0gMTQ1NTIzMDcwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzExXSAtIDExMjAyMTAzNzkgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzJdICsgNzE4Nzg3MjU5IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1s5XSAtIDM0MzQ4NTU1MSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcblxuICAgICAgICB4WzBdID0gYSArIHhbMF0gfCAwO1xuICAgICAgICB4WzFdID0gYiArIHhbMV0gfCAwO1xuICAgICAgICB4WzJdID0gYyArIHhbMl0gfCAwO1xuICAgICAgICB4WzNdID0gZCArIHhbM10gfCAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsayhzKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gcy5jaGFyQ29kZUF0KGkpICsgKHMuY2hhckNvZGVBdChpICsgMSkgPDwgOCkgKyAocy5jaGFyQ29kZUF0KGkgKyAyKSA8PCAxNikgKyAocy5jaGFyQ29kZUF0KGkgKyAzKSA8PCAyNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1kNWJsa3M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1YmxrX2FycmF5KGEpIHtcbiAgICAgICAgdmFyIG1kNWJsa3MgPSBbXSxcbiAgICAgICAgICAgIGk7IC8qIEFuZHkgS2luZyBzYWlkIGRvIGl0IHRoaXMgd2F5LiAqL1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSArPSA0KSB7XG4gICAgICAgICAgICBtZDVibGtzW2kgPj4gMl0gPSBhW2ldICsgKGFbaSArIDFdIDw8IDgpICsgKGFbaSArIDJdIDw8IDE2KSArIChhW2kgKyAzXSA8PCAyNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1kNWJsa3M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MShzKSB7XG4gICAgICAgIHZhciBuID0gcy5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrKHMuc3Vic3RyaW5nKGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBzID0gcy5zdWJzdHJpbmcoaSAtIDY0KTtcbiAgICAgICAgbGVuZ3RoID0gcy5sZW5ndGg7XG4gICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IHMuY2hhckNvZGVBdChpKSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWlnaHQgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IG4gKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcblxuICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDUxX2FycmF5KGEpIHtcbiAgICAgICAgdmFyIG4gPSBhLmxlbmd0aCxcbiAgICAgICAgICAgIHN0YXRlID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgIHRhaWwsXG4gICAgICAgICAgICB0bXAsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICAgIGhpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IG47IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCBtZDVibGtfYXJyYXkoYS5zdWJhcnJheShpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3Qgc3VyZSBpZiBpdCBpcyBhIGJ1ZywgaG93ZXZlciBJRTEwIHdpbGwgYWx3YXlzIHByb2R1Y2UgYSBzdWIgYXJyYXkgb2YgbGVuZ3RoIDFcbiAgICAgICAgLy8gY29udGFpbmluZyB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBwYXJlbnQgYXJyYXkgaWYgdGhlIHN1YiBhcnJheSBzcGVjaWZpZWQgc3RhcnRzXG4gICAgICAgIC8vIGJleW9uZCB0aGUgbGVuZ3RoIG9mIHRoZSBwYXJlbnQgYXJyYXkgLSB3ZWlyZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy83NzE0NTIvdHlwZWQtYXJyYXktc3ViYXJyYXktaXNzdWVcbiAgICAgICAgYSA9IChpIC0gNjQpIDwgbiA/IGEuc3ViYXJyYXkoaSAtIDY0KSA6IG5ldyBVaW50OEFycmF5KDApO1xuXG4gICAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBhW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByaGV4KG4pIHtcbiAgICAgICAgdmFyIHMgPSAnJyxcbiAgICAgICAgICAgIGo7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCA0OyBqICs9IDEpIHtcbiAgICAgICAgICAgIHMgKz0gaGV4X2NoclsobiA+PiAoaiAqIDggKyA0KSkgJiAweDBGXSArIGhleF9jaHJbKG4gPj4gKGogKiA4KSkgJiAweDBGXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXgoeCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHhbaV0gPSByaGV4KHhbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4LmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8vIEluIHNvbWUgY2FzZXMgdGhlIGZhc3QgYWRkMzIgZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQuLlxuICAgIGlmIChoZXgobWQ1MSgnaGVsbG8nKSkgIT09ICc1ZDQxNDAyYWJjNGIyYTc2Yjk3MTlkOTExMDE3YzU5MicpIHtcbiAgICAgICAgYWRkMzIgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgdmFyIGxzdyA9ICh4ICYgMHhGRkZGKSArICh5ICYgMHhGRkZGKSxcbiAgICAgICAgICAgICAgICBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgICAgICAgICAgIHJldHVybiAobXN3IDw8IDE2KSB8IChsc3cgJiAweEZGRkYpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogQXJyYXlCdWZmZXIgc2xpY2UgcG9seWZpbGwuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90dGF1YmVydC9ub2RlLWFycmF5YnVmZmVyLXNsaWNlXG4gICAgICovXG5cbiAgICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiAhQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBjbGFtcCh2YWwsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhbCA9ICh2YWwgfCAwKSB8fCAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHZhbCArIGxlbmd0aCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHZhbCwgbGVuZ3RoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgYmVnaW4gPSBjbGFtcChmcm9tLCBsZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBsZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG51bSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQXJyYXk7XG5cbiAgICAgICAgICAgICAgICBpZiAodG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBjbGFtcCh0bywgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYmVnaW4gPiBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcigwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBudW0gPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBuZXcgQXJyYXlCdWZmZXIobnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMsIGJlZ2luLCBudW0pO1xuICAgICAgICAgICAgICAgIHRhcmdldEFycmF5LnNldChzb3VyY2VBcnJheSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlcnMuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiB0b1V0Zjgoc3RyKSB7XG4gICAgICAgIGlmICgvW1xcdTAwODAtXFx1RkZGRl0vLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1dGY4U3RyMkFycmF5QnVmZmVyKHN0ciwgcmV0dXJuVUludDhBcnJheSkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gc3RyLmxlbmd0aCxcbiAgICAgICAgICAgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpLFxuICAgICAgICAgICBhcnIgPSBuZXcgVWludDhBcnJheShidWZmKSxcbiAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGFycltpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldHVyblVJbnQ4QXJyYXkgPyBhcnIgOiBidWZmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFycmF5QnVmZmVyMlV0ZjhTdHIoYnVmZikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShidWZmKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnMoZmlyc3QsIHNlY29uZCwgcmV0dXJuVUludDhBcnJheSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZmlyc3QuYnl0ZUxlbmd0aCArIHNlY29uZC5ieXRlTGVuZ3RoKTtcblxuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KGZpcnN0KSk7XG4gICAgICAgIHJlc3VsdC5zZXQobmV3IFVpbnQ4QXJyYXkoc2Vjb25kKSwgZmlyc3QuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmV0dXJuIHJldHVyblVJbnQ4QXJyYXkgPyByZXN1bHQgOiByZXN1bHQuYnVmZmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhleFRvQmluYXJ5U3RyaW5nKGhleCkge1xuICAgICAgICB2YXIgYnl0ZXMgPSBbXSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGhleC5sZW5ndGgsXG4gICAgICAgICAgICB4O1xuXG4gICAgICAgIGZvciAoeCA9IDA7IHggPCBsZW5ndGggLSAxOyB4ICs9IDIpIHtcbiAgICAgICAgICAgIGJ5dGVzLnB1c2gocGFyc2VJbnQoaGV4LnN1YnN0cih4LCAyKSwgMTYpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgYnl0ZXMpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUsIG90aGVyd2lzZSB1c2UgdGhlXG4gICAgICogc3RhdGljIG1ldGhvZHMgaW5zdGVhZC5cbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIFNwYXJrTUQ1KCkge1xuICAgICAgICAvLyBjYWxsIHJlc2V0IHRvIGluaXQgdGhlIGluc3RhbmNlXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgYW4gdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgLy8gQ29udmVydHMgdGhlIHN0cmluZyB0byB1dGY4IGJ5dGVzIGlmIG5lY2Vzc2FyeVxuICAgICAgICAvLyBUaGVuIGFwcGVuZCBhcyBiaW5hcnlcbiAgICAgICAgdGhpcy5hcHBlbmRCaW5hcnkodG9VdGY4KHN0cikpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgYmluYXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBUaGUgYmluYXJ5IHN0cmluZyB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuYXBwZW5kQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgKz0gY29udGVudHM7XG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBjb250ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX2J1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsayh0aGlzLl9idWZmLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmID0gdGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoZXMgdGhlIGluY3JlbWVudGFsIGNvbXB1dGF0aW9uLCByZXNldGluZyB0aGUgaW50ZXJuYWwgc3RhdGUgYW5kXG4gICAgICogcmV0dXJuaW5nIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJhdyBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKHJhdykge1xuICAgICAgICB2YXIgYnVmZiA9IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGggPSBidWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgcmV0O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IGJ1ZmYuY2hhckNvZGVBdChpKSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCh0YWlsLCBsZW5ndGgpO1xuICAgICAgICByZXQgPSBoZXgodGhpcy5faGFzaCk7XG5cbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmV0ID0gaGV4VG9CaW5hcnlTdHJpbmcocmV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9idWZmID0gJyc7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHN0YXRlXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYnVmZjogdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy5fbGVuZ3RoLFxuICAgICAgICAgICAgaGFzaDogdGhpcy5faGFzaC5zbGljZSgpXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBUaGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBzdGF0ZS5idWZmO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBzdGF0ZS5oYXNoO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlcyBtZW1vcnkgdXNlZCBieSB0aGUgaW5jcmVtZW50YWwgYnVmZmVyIGFuZCBvdGhlciBhZGRpdGlvbmFsXG4gICAgICogcmVzb3VyY2VzLiBJZiB5b3UgcGxhbiB0byB1c2UgdGhlIGluc3RhbmNlIGFnYWluLCB1c2UgcmVzZXQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2hhc2g7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9idWZmO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGVuZ3RoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIGZpbmFsIGNhbGN1bGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gIHRhaWwgICBUaGUgdGFpbCAod2lsbCBiZSBtb2RpZmllZClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIFRoZSBsZW5ndGggb2YgdGhlIHJlbWFpbmluZyBidWZmZXJcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuX2ZpbmlzaCA9IGZ1bmN0aW9uICh0YWlsLCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGkgPSBsZW5ndGgsXG4gICAgICAgICAgICB0bXAsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICAgIGhpO1xuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEbyB0aGUgZmluYWwgY29tcHV0YXRpb24gYmFzZWQgb24gdGhlIHRhaWwgYW5kIGxlbmd0aFxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1heSBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gdGhpcy5fbGVuZ3RoICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG4gICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIHRhaWwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgbWQ1IGhhc2ggb24gYSBzdHJpbmcuXG4gICAgICogQSBjb252ZXJzaW9uIHdpbGwgYmUgYXBwbGllZCBpZiB1dGY4IHN0cmluZyBpcyBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgc3RyIFRoZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddIFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1Lmhhc2ggPSBmdW5jdGlvbiAoc3RyLCByYXcpIHtcbiAgICAgICAgLy8gQ29udmVydHMgdGhlIHN0cmluZyB0byB1dGY4IGJ5dGVzIGlmIG5lY2Vzc2FyeVxuICAgICAgICAvLyBUaGVuIGNvbXB1dGUgaXQgdXNpbmcgdGhlIGJpbmFyeSBmdW5jdGlvblxuICAgICAgICByZXR1cm4gU3BhcmtNRDUuaGFzaEJpbmFyeSh0b1V0Zjgoc3RyKSwgcmF3KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgYmluYXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgY29udGVudCBUaGUgYmluYXJ5IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd10gICAgIFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1Lmhhc2hCaW5hcnkgPSBmdW5jdGlvbiAoY29udGVudCwgcmF3KSB7XG4gICAgICAgIHZhciBoYXNoID0gbWQ1MShjb250ZW50KSxcbiAgICAgICAgICAgIHJldCA9IGhleChoYXNoKTtcblxuICAgICAgICByZXR1cm4gcmF3ID8gaGV4VG9CaW5hcnlTdHJpbmcocmV0KSA6IHJldDtcbiAgICB9O1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBTcGFya01ENSBPT1AgaW1wbGVtZW50YXRpb24gZm9yIGFycmF5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBjbGFzcyB0byBwZXJmb3JtIGFuIGluY3JlbWVudGFsIG1kNSBPTkxZIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjYWxsIHJlc2V0IHRvIGluaXQgdGhlIGluc3RhbmNlXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhbiBhcnJheSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnIgVGhlIGFycmF5IHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENS5BcnJheUJ1ZmZlcn0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIHZhciBidWZmID0gY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnModGhpcy5fYnVmZi5idWZmZXIsIGFyciwgdHJ1ZSksXG4gICAgICAgICAgICBsZW5ndGggPSBidWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgdGhpcy5fbGVuZ3RoICs9IGFyci5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IGxlbmd0aDsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgbWQ1YmxrX2FycmF5KGJ1ZmYuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IChpIC0gNjQpIDwgbGVuZ3RoID8gbmV3IFVpbnQ4QXJyYXkoYnVmZi5idWZmZXIuc2xpY2UoaSAtIDY0KSkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoZXMgdGhlIGluY3JlbWVudGFsIGNvbXB1dGF0aW9uLCByZXNldGluZyB0aGUgaW50ZXJuYWwgc3RhdGUgYW5kXG4gICAgICogcmV0dXJuaW5nIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJhdyBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKHJhdykge1xuICAgICAgICB2YXIgYnVmZiA9IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGggPSBidWZmLmxlbmd0aCxcbiAgICAgICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgcmV0O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IGJ1ZmZbaV0gPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENS5BcnJheUJ1ZmZlcn0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9IG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gU3BhcmtNRDUucHJvdG90eXBlLmdldFN0YXRlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gQ29udmVydCBidWZmZXIgdG8gYSBzdHJpbmdcbiAgICAgICAgc3RhdGUuYnVmZiA9IGFycmF5QnVmZmVyMlV0ZjhTdHIoc3RhdGUuYnVmZik7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENS5BcnJheUJ1ZmZlcn0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBidWZmZXJcbiAgICAgICAgc3RhdGUuYnVmZiA9IHV0ZjhTdHIyQXJyYXlCdWZmZXIoc3RhdGUuYnVmZiwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZS5jYWxsKHRoaXMsIHN0YXRlKTtcbiAgICB9O1xuXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBTcGFya01ENS5wcm90b3R5cGUuZGVzdHJveTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5fZmluaXNoID0gU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2g7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgbWQ1IGhhc2ggb24gYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggb25lXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5oYXNoID0gZnVuY3Rpb24gKGFyciwgcmF3KSB7XG4gICAgICAgIHZhciBoYXNoID0gbWQ1MV9hcnJheShuZXcgVWludDhBcnJheShhcnIpKSxcbiAgICAgICAgICAgIHJldCA9IGhleChoYXNoKTtcblxuICAgICAgICByZXR1cm4gcmF3ID8gaGV4VG9CaW5hcnlTdHJpbmcocmV0KSA6IHJldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwYXJrTUQ1O1xufSkpO1xuIiwiLyoqXG4gKiBGb3JtYXRzIHJhdyBVVUlEIGRhdGEgaW50byB0aGUgcHJvcGVyIHN0cmluZyBmb3JtYXQuXG4gKiBAcGFyYW0gZGF0YSAtIFJhdyBVVUlEIGRhdGEuXG4gKiBAcmV0dXJucyBGb3JtYXR0ZWQgVVVJRCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHVpbnQ4VG9VdWlkIChkYXRhOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgaWYgKGRhdGEubGVuZ3RoICE9PSAxNikge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNiIChwcmV2aW91czogc3RyaW5nLCBjdXJyZW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBwcmV2aW91cyArIGN1cnJlbnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cblxuICByZXR1cm4gZGF0YS5zbGljZSgwLCA0KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg0LCA2KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg2LCA4KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg4LCAxMCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoMTApLnJlZHVjZShjYiwgJycpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIEEgW3ZlcnNpb24gNCBVVUlEXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Vbml2ZXJzYWxseV91bmlxdWVfaWRlbnRpZmllciNWZXJzaW9uXzRfKHJhbmRvbSkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0ICgpOiBzdHJpbmcge1xuICAvLyBDaGVjayBmb3IgY3J5cHRvIEFQSVxuICBpZiAod2luZG93LmNyeXB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVpbnQ4VG9VdWlkKG5ldyBVaW50OEFycmF5KDE2KSk7XG4gIH1cblxuICAvLyBHZXQgMTYgb2N0ZXRzIGZvciBVVUlEXG4gIGNvbnN0IG9jdGV0cyA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgY29uc3QgbW9kaWZpZXJzID0gVWludDhBcnJheS5mcm9tKFtcbiAgICBwYXJzZUludCgnMDEwMDAwMDAnLCAyKSwgIC8vIFZlcnNpb24gYml0cyAoNCA9PiAwMTAwKVxuICAgIHBhcnNlSW50KCcxMDAwMDAwMCcsIDIpLCAgLy8gVmFyaWFudCBiaXRzICgxMHgpXG4gICAgcGFyc2VJbnQoJzAwMDAxMTExJywgMiksICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZlcnNpb25cbiAgICBwYXJzZUludCgnMDAxMTExMTEnLCAyKSAgIC8vIE1hc2sgdG8gemVybyBoaWdoZXIgYml0cywgdmFyaWFudFxuICBdKTtcbiAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMob2N0ZXRzKTtcbiAgLy8gU2V0IHZlcnNpb24gYml0cyBhbmQgdmFyaWFudCBiaXRzXG4gIG9jdGV0c1s2XSA9IChvY3RldHNbNl0gJiBtb2RpZmllcnNbMl0pIHwgbW9kaWZpZXJzWzBdO1xuICBvY3RldHNbOF0gPSAob2N0ZXRzWzhdICYgbW9kaWZpZXJzWzNdKSB8IG1vZGlmaWVyc1sxXTtcblxuICByZXR1cm4gdWludDhUb1V1aWQob2N0ZXRzKTtcbn1cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTZXRUZXh0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGhvdGtleXNNb2RhbCwgZWRpdFRleHRNb2RhbCB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgbmV3Rm9sZGVySFRNTCwgcmVuYW1lSFRNTCwgdXBsb2FkQXJlYUhUTUwgfSBmcm9tICcuLi9EYXNoYm9hcmQvRGFzaGJvYXJkQ29udGVudCc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBzZWxlY3RCQm94LCB1bnNlbGVjdCB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuXG5cbi8qKlxuICogRGVmaW5lcyBtb2RhbCB0eXBlcy5cbiAqIFRvIGNyZWF0ZSBuZXcgbW9kYWwgd2luZG93IHR5cGVzLCBhZGQgZW51bSBvcHRpb24gYW5kIGltcGxlbWVudCBsb2dpYyBpbnNpZGUgTW9kYWwgY2xhc3MuXG4gKi9cbmV4cG9ydCBlbnVtIE1vZGFsV2luZG93VmlldyB7XG4gIEVESVRfVEVYVCxcbiAgSE9US0VZUyxcbiAgVkFMSURBVElPTl9TVEFUVVMsXG4gIERPQ1VNRU5UX1VQTE9BRCxcbiAgTU9WRV9UTyxcbiAgTkVXX0ZPTERFUixcbiAgUkVOQU1FXG59XG5cbmVudW0gTW9kYWxXaW5kb3dTdGF0ZSB7XG4gIE9QRU4sXG4gIENMT1NFRFxufVxuXG5cblxuLyoqXG4gKiBNb2RhbCBjbGFzcyBpcyB1c2VkIHRvIGNyZWF0ZSBhbmQgY29udHJvbCBzdGF0ZS9jb250ZW50IFxuICogb2YgbW9kYWwgd2luZG93cyBpbiBOZW9uLlxuICovXG5leHBvcnQgY2xhc3MgTW9kYWxXaW5kb3cgaW1wbGVtZW50cyBNb2RhbFdpbmRvd0ludGVyZmFjZSB7XG4gIHByaXZhdGUgbW9kYWxXaW5kb3dWaWV3OiBNb2RhbFdpbmRvd1ZpZXc7IC8vIGN1cnJlbnQgbW9kYWwgdHlwZVxuICBwcml2YXRlIG1vZGFsV2luZG93U3RhdGU6IE1vZGFsV2luZG93U3RhdGU7IC8vIG9wZW4gb3IgY2xvc2VkP1xuICBwcml2YXRlIG5lb25WaWV3OiBOZW9uVmlldzsgLy8gbmVvblZpZXcgaW5zdGFuY2UgY29udGV4dFxuXG5cbiAgLyoqXG4gICAqIFNldCBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0IGZvciB0aGlzIG1vZGFsIHdpbmRvdyBpbnN0YW5jZS5cbiAgICogQHBhcmFtIG5lb25WaWV3IG5lb25WaWV3IGNvbnRleHQgZm9yIE1vZGFsIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc/OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm1vZGFsV2luZG93U3RhdGUgPSBNb2RhbFdpbmRvd1N0YXRlLkNMT1NFRDtcbiAgICB0aGlzLnNldHVwRXZlbnRMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgZXZlbnQgbGlzdGVuZXJzIHRoYXQgYXBwbHkgdG8gYWxsIG1vZGFsIHdpbmRvd3NcbiAgICovXG4gIHByaXZhdGUgc2V0dXBFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLWNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mb2N1c01vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZSBldmVudCBsaXN0ZW5lcnMgYXNzb2NpYXRlZCB3aXRoIHRoaXMgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHJlbW92ZUV2ZW50TGlzdGVuZXJzKCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItY2xvc2UnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdycpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lci5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZvY3VzTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1vZGFsIHZpZXcgb2YgdGhpcyBNb2RhbCBpbnN0YW5jZS5cbiAgICogVXBkYXRlIHRoZSBjb250ZW50IGJhc2VkIG9uIHBhc3NlZCB2aWV3LlxuICAgKiBAcGFyYW0gdmlldyBUeXBlIG9mIG1vZGFsIHRvIG9wZW4gKE1vZGFsVmlldyBlbnVtKVxuICAgKi9cbiAgc2V0TW9kYWxXaW5kb3dWaWV3KHZpZXc6IE1vZGFsV2luZG93VmlldywgY29udGVudD86IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMubW9kYWxXaW5kb3dWaWV3ID0gdmlldztcbiAgICB0aGlzLnNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCBtb2RhbCB2aWV3IGFzIGEgc3RyaW5nXG4gICAqL1xuICBnZXRNb2RhbFdpbmRvd1ZpZXcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5tb2RhbFdpbmRvd1ZpZXcudG9TdHJpbmcoKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIE9wZW4gYSBtb2RlbCB3aW5kb3cgd2l0aCBjb250ZW50IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBNb2RhbFZpZXcuXG4gICAqL1xuICBvcGVuTW9kYWxXaW5kb3coKTogdm9pZCB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIHRoaXMub3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUzpcbiAgICAgICAgLy8gc2V0IHVwIGFuZCBkaXBsYXkgaG90a2V5IG1vZGFsIGNvbnRlbnRcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtaG90a2V5cycpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgICAvLyBhZGQgZnVuY3Rpb24gdG8gcGFpcmluZyBidXR0b25cbiAgICAgICAgLy8gYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICAgIFxuICAgICAgICAvLyBicmVhaztcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgICAgIHRoaXMuZm9jdXNNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgLy8gbWFrZSBzdXJlIHVzZXIgY2FuJ3Qgc2Nyb2xsIHdoZW4gbW9kYWwgaXMgb3BlblxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAnaGlkZGVuJztcbiAgICB0aGlzLm1vZGFsV2luZG93U3RhdGUgPSBNb2RhbFdpbmRvd1N0YXRlLk9QRU47XG4gIH1cblxuXG5cbiAgLyoqXG4gICAqIEhpZGUgdGhlIE5lb24gbW9kYWwgd2luZG93XG4gICAqL1xuICBoaWRlTW9kYWxXaW5kb3coKTogdm9pZCB7XG4gICAgc3dpdGNoKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIGNvbnN0IHNwYW4gPSAoPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF0pO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkLXRvLWVkaXQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTU9WRV9UTzpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWNvbnRhaW5lcicpLmlubmVySFRNTCA9ICcnO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYnJlYWs7XG4gICAgfSBcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAvLyByZXNldCBzY3JvbGwgYmVoYXZpb3Igb2YgYm9keVxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcbiAgICB0aGlzLm1vZGFsV2luZG93U3RhdGUgPSBNb2RhbFdpbmRvd1N0YXRlLkNMT1NFRDtcbiAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBTZXQgY29udGVudCBvZiBtb2RhbCB3aW5kb3dcbiAgICovXG4gIHByaXZhdGUgc2V0TW9kYWxXaW5kb3dDb250ZW50KGNvbnRlbnQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKTtcbiAgICBjb25zdCB0aXRsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKTtcblxuICAgIHN3aXRjaCAodGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGVkaXRUZXh0TW9kYWw7XG4gICAgICAgIC8vIHNldCBtb2RhbCB3aW5kb3cgdGl0bGVcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0VESVQgU1lMTEFCTEUgVEVYVCc7XG5cbiAgICAgICAgLy8gc3BhbiBhbmQgY3VycmVudCB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGUgYW5kIGZpbHRlciBvdXQgdW53YW50ZWQgY2hhcnNcbiAgICAgICAgY29uc3Qgc3BhbiA9IDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdO1xuICAgICAgICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gICAgICAgIGNvbnN0IG9yaWcgPSBzcGFuLnRleHRDb250ZW50LnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xuXG4gICAgICAgIC8vIHNldCB2YWx1ZSBvZiBpbnB1dCBmaWVsZCB0byBjdXJyZW50IHN5bGxhYmxlIHRleHRcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpKSkudmFsdWUgPSBvcmlnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUzpcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IGhvdGtleXNNb2RhbDtcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0hPVEtFWVMnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuVkFMSURBVElPTl9TVEFUVVM6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBcbiAgICAgICAgICBgPGRpdiBzdHlsZT1cIm1hcmdpbi1ib3R0b206IDMwcHg7d2hpdGUtc3BhY2U6IHByZS1saW5lO1wiPiR7Y29udGVudH08L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCI+XG4gICAgICAgICAgICA8YSBocmVmPVwiZGF0YTp0ZXh0L3BsYWluO2NoYXJzZXQ9dXRmLTgsJHtlbmNvZGVVUklDb21wb25lbnQoY29udGVudCl9XCIgZG93bmxvYWQ9XCJ2YWxpZGF0aW9uLmxvZ1wiPlxuICAgICAgICAgICAgICBFeHBvcnRcbiAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgIDwvZGl2PmA7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFUlJPUiBMT0cnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRE9DVU1FTlQgVVBMT0FEJztcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IHVwbG9hZEFyZWFIVE1MO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTU9WRV9UTzpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ01PVkUgVE8nO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ05FVyBGT0xERVInO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gbmV3Rm9sZGVySFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ1JFTkFNRSc7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSByZW5hbWVIVE1MO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gICAgfSBcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggY29udGVudCBmb3IgdXBkYXRpbmcgc3lsbGFibGUgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKCAoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgRWRpdCBTeWxsYWJsZSBUZXh0IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dCcpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICBcbiAgICAvLyBSZXNldCBcIkNhbmNlbFwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuXG4gICAgLy8gUmVzZXQgXCJTYXZlXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBkaXNwbGF5IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZm9jdXNNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlcyB3aXRoIHVzZXItcHJvdmlkZWQgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVTeWxUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgY29uc3Qgc3BhbiA9IDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdO1xuICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcbiAgICBjb25zdCB1cGRhdGVkU3lsVGV4dCA9ICg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpKS52YWx1ZTtcblxuICAgIGlmICh1cGRhdGVkU3lsVGV4dCAhPT0gbnVsbCAmJiB1cGRhdGVkU3lsVGV4dCAhPT0gb3JpZykge1xuICAgICAgLy8gY3JlYXRlIFwic2V0IHRleHRcIiBhY3Rpb25cbiAgICAgIGNvbnN0IGVsZW1lbnRJZCA9IFsuLi5zcGFuLmNsYXNzTGlzdC5lbnRyaWVzKCldLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWVbMV0gIT09ICd0ZXh0LXNlbGVjdCcgJiYgY2xhc3NOYW1lWzFdICE9PSAnc2VsZWN0ZWQtdG8tZWRpdCcpWzBdWzFdO1xuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTZXRUZXh0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZCxcbiAgICAgICAgICB0ZXh0OiB1cGRhdGVkU3lsVGV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICAvLyBzZW5kIGFjdGlvbiB0byB2ZXJvdmlvIGZvciBwcm9jZXNzaW5nXG4gICAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzcG9uc2U6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHRoZSBTVkdcbiAgICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBBbiB1cGRhdGUgdG8gdGhlIHBhZ2Ugd2lsbCByZWxvYWQgdGhlIGVudGlyZSBzdmc7XG4gICAgICAgICAgICAvLyBXZSB3b3VsZCBsaWtlIHRvIHRoZW4gcmVzZWxlY3QgdGhlIHNhbWUgc2VsZWN0ZWQgc3lsbGFibGVcbiAgICAgICAgICAgIC8vIGlmIGJib3hlcyBhcmUgZW5hYmxlZFxuICAgICAgICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyByZXNlbGVjdCBpZiBubyBjaGFuZ2UgaXMgbWFkZVxuICAgICAgdGhpcy51cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgfVxuICAgIC8vIGNsb3NlIG1vZGFsIHdpbmRvd1xuICAgIHRoaXMuaGlkZU1vZGFsV2luZG93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgYm94IHNlbGVjdGVkIHdoZW4gdGhlIGVkaXQgdGV4dCBtb2RhbCBoYXMgYmVlbiBjbGlja2VkIFxuICAqL1xuICB1cGRhdGVTZWxlY3RlZEJCb3ggKHNwYW46IEhUTUxTcGFuRWxlbWVudCwgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveElkID0gQXJyYXkuZnJvbShzcGFuLmNsYXNzTGlzdCkuZmluZChlID0+IGUgIT09ICd0ZXh0LXNlbGVjdCcgJiYgZSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKTtcblxuICAgIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkpIHtcbiAgICAgICAgY29uc3QgZGlzcGxheVJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBzZWxlY3RCQm94KGRpc3BsYXlSZWN0LCBkcmFnSGFuZGxlciwgbmVvblZpZXcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggaG90a2V5IGluZm8gY29udGVudFxuICAgKi9cbiAgLypcbiAgcHJpdmF0ZSBvcGVuSG90a2V5TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHsgICBcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcbiAgKi9cblxuXG4gIC8qKlxuICAgKiBEZWZpbmUgZXZlbnQgbGlzdGVuZXJzIGZvciBtb2RhbCB3aW5kb3cgYmFzZWQgb24gbW9kYWxWaWV3IHR5cGVcbiAgICovXG4gIHByaXZhdGUga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgTmVvbiBob3RrZXkgZXZlbnRzIGZyb20gZmlyaW5nIHdoZW4gdXNlciBpcyB0eXBpbmdcblxuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMudXBkYXRlU3lsVGV4dCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gIFxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIHRoYXQgZm9jdXNlcyB0aGUgbW9kYWwgd2luZG93IGlmIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgaXRcbiAgICovXG4gIHByaXZhdGUgZm9jdXNNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkuc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuTkVXX0ZPTERFUjpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlJFTkFNRTpcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxufVxuIiwiaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIEFkYXB0ZWQgZnJvbSBjb2xvciBwYWxldHRlIGZyb20gRmlndXJlIDIgKENvbG9ycyBvcHRpbWl6ZWQgZm9yIGNvbG9yLWJsaW5kXG4gKiBpbmRpdmlkdWFscykgZnJvbVxuICogW1wiUG9pbnRzIG9mIHZpZXc6IENvbG9yIGJsaW5kbmVzc1wiIGJ5IEJhbmcgV29uZyBwdWJsaXNoZWQgaW4gTmF0dXJlIE1ldGhvZHMgdm9sdW1lIDggb24gMjcgTWF5IDIwMTFdKGh0dHBzOi8vd3d3Lm5hdHVyZS5jb20vYXJ0aWNsZXMvbm1ldGguMTYxOD9XVC5lY19pZD1OTUVUSC0yMDExMDYpXG4gKi9cbmNvbnN0IENvbG9yUGFsZXR0ZTogc3RyaW5nW10gPSBbXG4gICdyZ2IoMjMwLCAxNTksIDApJyxcbiAgJ3JnYig4NiwgMTgwLCAyMzMpJyxcbiAgJ3JnYigwLCAxNTgsIDExNSknLFxuICAncmdiKDI0MCwgMjI4LCA2NiknLFxuICAncmdiKDAsIDExNCwgMTc4KScsXG4gICdyZ2IoMjEzLCA5NCwgMCknLFxuICAncmdiKDIwNCwgMTIxLCAxNjcpJ1xuXTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGhpZ2hsaWdodCBmcm9tIGEgc3RhZmYuXG4gKiBAcGFyYW0gc3RhZmYgSWYgdW5kZWZpbmVkLCB0aGUgYWxsIHN0YXZlcyBhcmUgdW5oaWdobGlnaHRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KHN0YWZmPzogU1ZHR0VsZW1lbnQpOiB2b2lkIHtcbiAgbGV0IGNoaWxkcmVuOiBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICBpZiAoc3RhZmYpIHtcbiAgICBjaGlsZHJlbiA9IHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJzpub3QoLnNlbGVjdGVkKSAuaGlnaGxpZ2h0ZWQnKTtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJzpub3QoLnNlbGVjdGVkKSAuaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBjaGlsZHJlbi5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLnRhZ05hbWUgPT09ICdwYXRoJyAmJiAhZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzAwMDAwMCcpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSAmJiAhZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzAwMDAwMCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICBsZXQgcmVjdHMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlY3RzID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICAgLy8gcmVjdC5jbG9zZXN0KCcubGF5ZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKXtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gZWFjaCBzdGFmZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuaGlnaGxpZ2h0KCk7XG59XG5cbi8qKlxuICogVW5zZXQgaGlnaGxpZ2h0IGZvciBhbGwgZ3JvdXBpbmcgdHlwZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuc2V0U3RhZmZIaWdobGlnaHQoKTtcbiAgY29uc3QgaGlnaGxpZ2h0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodGVkJykpXG4gICAgLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+ICFlbGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKTtcbiAgaGlnaGxpZ2h0ZWQuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgnI2QwMCcsIG51bGwpO1xuICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgaWYgKGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fCBcbiAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgKXtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgfVxuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICB9KTtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKS5mb3JFYWNoKChlbCkgPT4geyBlbC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnJyk7IH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBhIHN0YWZmIGEgY2VydGFpbiBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodChzdGFmZjogU1ZHR0VsZW1lbnQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmLmNoaWxkcmVuKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdwYXRoJykge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCAmJiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpKS5mb3JFYWNoKGNjaGlsZCA9PiB7IGNoaWxkcmVuLnB1c2goY2NoaWxkKTsgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSB8fCBjaGlsZC5pZCA9PT0gJ3Jlc2l6ZVJlY3QnIHx8IGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygncm90YXRlUG9pbnQnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXllcicpKSB7XG4gICAgICBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuKS5mb3JFYWNoKGNjaGlsZCA9PiB7IGNoaWxkcmVuLnB1c2goY2NoaWxkKTsgfSk7XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHQtc2VsZWN0ZWQnKS5sZW5ndGggJiZcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpWzBdLmlkID09PSAnaGlnaGxpZ2h0LW5ldW1lJ1xuICAgICAgJiYgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuKS5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpKS5mb3JFYWNoKGNjaGlsZCA9PiB7IGNoaWxkcmVuLnB1c2goY2NoaWxkKTsgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGNvbG9yKTtcbiAgICAgIGxldCByZWN0cyA9IGNoaWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlY3RzID0gY2hpbGQuY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlY3RzID0gW10gYXMgdW5rbm93biBhcyBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAoIShyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICAgLy8gcmVjdC5jbG9zZXN0KCcubGF5ZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKSkge1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9IGNvbG9yO1xuICAgICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGNoaWxkLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gIH1cbiAgbGV0IHdpZHRoLCBoZWlnaHQ7XG4gIC8qdHJ5IHtcbiAgICB3aWR0aCA9IE51bWJlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlLXBhZ2UnKS5xdWVyeVNlbGVjdG9yKCdzdmcnKS5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykuc3BsaXQoJ3B4JylbMF0pO1xuICAgIGhlaWdodCA9IE51bWJlcihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuYWN0aXZlLXBhZ2UnKS5xdWVyeVNlbGVjdG9yKCdzdmcnKS5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLnNwbGl0KCdweCcpWzBdKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUuZGVidWcoZSk7XG4gIH0qL1xuICBsZXQgc3Ryb2tlOiBzdHJpbmc7XG4gIGlmICh3aWR0aCAhPT0gdW5kZWZpbmVkICYmIGhlaWdodCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gaWRrIGxvb2tzIGdvb2QgOicpXG4gICAgLy8gVE9ETyBmaW5kIGEgYmV0dGVyIHdheSBvZiBjYWxjdWxhdGluZyB0aGlzIGFzIHRoaXMgYWN0dWFsbHkgZG9lc24ndCB3b3JrIGFzIHdlbGwgYXMgMzBweFxuICAgIHN0cm9rZSA9ICh3aWR0aCAqIGhlaWdodCAvIDEwMDAwMDApLnRvU3RyaW5nKCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgc3Ryb2tlID0gJzMwcHgnO1xuICB9XG4gIHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYywgLmN1c3RvcywgLmNsZWYsIC5hY2NpZCcpLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCBzdHJva2UpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBIaWdobGlnaHQgZWFjaCBzdGFmZiBhIGRpZmZlcmVudCBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFN0YWZmSGlnaGxpZ2h0KCk6IHZvaWQge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWZmJykpIGFzIFNWR0dFbGVtZW50W107XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RhdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmZDb2xvciA9IENvbG9yUGFsZXR0ZVtpICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgaGlnaGxpZ2h0KHN0YXZlc1tpXSwgc3RhZmZDb2xvcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2V0Q29sdW1uSGlnaGxpZ2h0KCk6IHZvaWQge1xuICBjb25zdCAgZ3JvdXBzOiB7IFtrZXk6IG51bWJlcl06IFNWR0dFbGVtZW50W10gfSA9IHt9O1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpLmZvckVhY2goKHN0YWZmKSA9PiB7XG4gICAgY29uc3QgaGFzQ29sdW1uID0gQXJyYXkuZnJvbShzdGFmZi5jbGFzc0xpc3QpLmpvaW4oJyAnKS5tYXRjaCgvXFxiY29sdW1uKFxcZCspXFxiLyk7XG4gICAgbGV0IGNvbHVtbk51bSA9IDA7XG4gICAgaWYgKGhhc0NvbHVtbikge1xuICAgICAgY29sdW1uTnVtID0gcGFyc2VJbnQoaGFzQ29sdW1uWzFdLCAxMCkgLSAxO1xuICAgIH1cblxuICAgIGlmICghZ3JvdXBzW2NvbHVtbk51bV0pIHtcbiAgICAgIGdyb3Vwc1tjb2x1bW5OdW1dID0gW107XG4gICAgfVxuXG4gICAgZ3JvdXBzW2NvbHVtbk51bV0ucHVzaChzdGFmZiBhcyBTVkdHRWxlbWVudCk7XG4gIH0pO1xuXG4gIGZvciAoY29uc3QgW2NvbHVtbiwgc3RhdmVzXSBvZiBPYmplY3QuZW50cmllcyhncm91cHMpKSB7XG4gICAgY29uc3QgY29sb3IgPSBDb2xvclBhbGV0dGVbTnVtYmVyKGNvbHVtbikgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBmb3IgKGNvbnN0IHN0YWZmIG9mIHN0YXZlcykge1xuICAgICAgaGlnaGxpZ2h0KHN0YWZmLCBjb2xvcik7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogU2V0IGEgaGlnaGxpZ2h0IGJ5IGEgZGlmZmVyZW50IGdyb3VwaW5nLlxuICogQHBhcmFtIGdyb3VwaW5nIC0gRWl0aGVyIFwic3RhZmZcIiwgXCJzeWxsYWJsZVwiLCBcIm5ldW1lXCIsIFwic2VsZWN0aW9uXCIsIG9yIFwibGF5ZXJFbGVtZW50XCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZzogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIHVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgaWYgKGdyb3VwaW5nID09PSAnc3RhZmYnKSB7XG4gICAgc2V0U3RhZmZIaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgZWxzZSBpZiAoZ3JvdXBpbmcgPT09ICdjb2x1bW4nKSB7XG4gICAgc2V0Q29sdW1uSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9IFxuICBlbHNlIGlmIChncm91cGluZyA9PT0gJ3NlbGVjdGlvbicpIHtcbiAgICBjb25zdCB0ZW1wID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbC1ieS5pcy1hY3RpdmUnKS5pZDtcbiAgICBzd2l0Y2ggKHRlbXApIHtcbiAgICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnc3lsbGFibGUnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5Q29sdW1uJzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnY29sdW1uJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnc3RhZmYnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnbGF5ZXJFbGVtZW50JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGdyb3VwaW5nID0gJ25ldW1lJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwaW5nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGdyb3VwcztcblxuICBpZiAoZ3JvdXBpbmcgPT0gJ2xheWVyRWxlbWVudCcpIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjaWQsIC5jbGVmLCAuY3VzdG9zLCAuZGl2TGluZScpO1xuICB9XG4gIGVsc2Uge1xuICAgIGdyb3VwcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZ3JvdXBpbmcpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+O1xuICB9XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkLCAuZGl2TGluZScpLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICB9KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGdyb3VwQ29sb3IgPSBDb2xvclBhbGV0dGVbaSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGlmICgoZ3JvdXBzW2ldLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSAmJiAhZ3JvdXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGdyb3VwQ29sb3IpO1xuICAgICAgY29uc3QgcmVjdHMgPSBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PjtcbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9IGdyb3VwQ29sb3I7XG4gICAgICB9KTtcbiAgICAgIGdyb3Vwc1tpXS5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZ3JvdXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNkMDAnKTtcbiAgICAgIH1cbiAgICAgIGdyb3Vwc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH1cblxuICAgIGNvbnN0IGRpdkxpbmVDaGlsZHJlbiA9IGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpO1xuICAgIGlmIChkaXZMaW5lQ2hpbGRyZW4pIHtcbiAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGl2TGluZUNoaWxkcmVuLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGRpdkxpbmVDaGlsZHJlbltqXS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGdyb3VwQ29sb3IpO1xuICAgICAgICBkaXZMaW5lQ2hpbGRyZW5bal0uc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBcbn1cbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgIC8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3RyaW5naWZ5L3BhcnNlIGZ1bmN0aW9ucyB0aGF0IGRvbid0IG9wZXJhdGVcbiAqIHJlY3Vyc2l2ZWx5LCBzbyB0aGV5IGF2b2lkIGNhbGwgc3RhY2sgZXhjZWVkZWRcbiAqIGVycm9ycy5cbiAqL1xuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgdmFyIHF1ZXVlID0gW107XG4gIHF1ZXVlLnB1c2goe29iajogaW5wdXR9KTtcblxuICB2YXIgcmVzID0gJyc7XG4gIHZhciBuZXh0LCBvYmosIHByZWZpeCwgdmFsLCBpLCBhcnJheVByZWZpeCwga2V5cywgaywga2V5LCB2YWx1ZSwgb2JqUHJlZml4O1xuICB3aGlsZSAoKG5leHQgPSBxdWV1ZS5wb3AoKSkpIHtcbiAgICBvYmogPSBuZXh0Lm9iajtcbiAgICBwcmVmaXggPSBuZXh0LnByZWZpeCB8fCAnJztcbiAgICB2YWwgPSBuZXh0LnZhbCB8fCAnJztcbiAgICByZXMgKz0gcHJlZml4O1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJlcyArPSB2YWw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmVzICs9IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgIHJlcyArPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ10nfSk7XG4gICAgICBmb3IgKGkgPSBvYmoubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgYXJyYXlQcmVmaXggPSBpID09PSAwID8gJycgOiAnLCc7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogb2JqW2ldLCBwcmVmaXg6IGFycmF5UHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICdbJ30pO1xuICAgIH0gZWxzZSB7IC8vIG9iamVjdFxuICAgICAga2V5cyA9IFtdO1xuICAgICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd9J30pO1xuICAgICAgZm9yIChpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICBvYmpQcmVmaXggPSAoaSA+IDAgPyAnLCcgOiAnJyk7XG4gICAgICAgIG9ialByZWZpeCArPSBKU09OLnN0cmluZ2lmeShrZXkpICsgJzonO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IHZhbHVlLCBwcmVmaXg6IG9ialByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAneyd9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciB0aGUgcGFyc2UgZnVuY3Rpb24uXG4vLyBUaGlzIHBvcCBmdW5jdGlvbiBpcyBiYXNpY2FsbHkgY29waWVkIGZyb21cbi8vIHBvdWNoQ29sbGF0ZS5wYXJzZUluZGV4YWJsZVN0cmluZ1xuZnVuY3Rpb24gcG9wKG9iaiwgc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICB9XG4gIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgIGVsZW1lbnQucHVzaChvYmopO1xuICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgfSBlbHNlIHtcbiAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gIH1cbn1cblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG4gIHZhciBjb2xsYXRpb25JbmRleCxwYXJzZWROdW0sbnVtQ2hhcjtcbiAgdmFyIHBhcnNlZFN0cmluZyxsYXN0Q2gsbnVtQ29uc2VjdXRpdmVTbGFzaGVzLGNoO1xuICB2YXIgYXJyYXlFbGVtZW50LCBvYmpFbGVtZW50O1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnfScgfHxcbiAgICAgICAgY29sbGF0aW9uSW5kZXggPT09ICddJyB8fFxuICAgICAgICB0eXBlb2YgY29sbGF0aW9uSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjay5wb3AoKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgY2FzZSAnOic6XG4gICAgICBjYXNlICcsJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduJzpcbiAgICAgICAgaSArPSAzOyAvLyAndWxsJ1xuICAgICAgICBwb3AobnVsbCwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3J1ZSdcbiAgICAgICAgcG9wKHRydWUsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgICBpICs9IDQ7IC8vICdhbHNlJ1xuICAgICAgICBwb3AoZmFsc2UsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzAnOlxuICAgICAgY2FzZSAnMSc6XG4gICAgICBjYXNlICcyJzpcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgY2FzZSAnNCc6XG4gICAgICBjYXNlICc1JzpcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgY2FzZSAnNyc6XG4gICAgICBjYXNlICc4JzpcbiAgICAgIGNhc2UgJzknOlxuICAgICAgY2FzZSAnLSc6XG4gICAgICAgIHBhcnNlZE51bSA9ICcnO1xuICAgICAgICBpLS07XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgbnVtQ2hhciA9IHN0cltpKytdO1xuICAgICAgICAgIGlmICgvW1xcZFxcLlxcLWVcXCtdLy50ZXN0KG51bUNoYXIpKSB7XG4gICAgICAgICAgICBwYXJzZWROdW0gKz0gbnVtQ2hhcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChwYXJzZUZsb2F0KHBhcnNlZE51bSksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgcGFyc2VkU3RyaW5nID0gJyc7XG4gICAgICAgIGxhc3RDaCA9IHZvaWQgMDtcbiAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjaCA9IHN0cltpKytdO1xuICAgICAgICAgIGlmIChjaCAhPT0gJ1wiJyB8fCAobGFzdENoID09PSAnXFxcXCcgJiZcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzICUgMiA9PT0gMSkpIHtcbiAgICAgICAgICAgIHBhcnNlZFN0cmluZyArPSBjaDtcbiAgICAgICAgICAgIGxhc3RDaCA9IGNoO1xuICAgICAgICAgICAgaWYgKGxhc3RDaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChKU09OLnBhcnNlKCdcIicgKyBwYXJzZWRTdHJpbmcgKyAnXCInKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneyc6XG4gICAgICAgIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgKyBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IERyYWdBY3Rpb24sIEVkaXRvckFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGlzT3V0T2ZTVkdCb3VuZHMsIGdldEdseXBoQkJveCB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBzZWxlY3RBbGwsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmNsYXNzIERyYWdIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICBwcml2YXRlIHNlbGVjdG9yOiBzdHJpbmc7XG4gIHByaXZhdGUgc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgcHJpdmF0ZSBub01vdmVQcmVjZWRlczogU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgcHJpdmF0ZSBkcmFnU3RhcnRDb29yZHM6IFtudW1iZXIsIG51bWJlcl0gPSBbLTEsIC0xXTtcbiAgcHJpdmF0ZSByZXNldFRvQWN0aW9uOiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgZHg6IG51bWJlcjtcbiAgcHJpdmF0ZSBkeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3Igb2YgZWxlbWVudCB0byBhcHBseSBkcmFnIGhhbmRsZXIgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBkcmFnZ2luZyBhY3Rpb24gYW5kIGhhbmRsZXIgZm9yIHNlbGVjdGVkIGVsZW1lbnRzLlxuICAgKi9cbiAgZHJhZ0luaXQgKCk6IHZvaWQge1xuICAgIC8vIERyYWcgZWZmZWN0c1xuICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkICgpOiB2b2lkIHtcbiAgICAgIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzID0gW2QzLmV2ZW50LngsIGQzLmV2ZW50LnldO1xuICAgICAgdGhpcy5keCA9IDA7XG4gICAgICB0aGlzLmR5ID0gMDtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZGluZyBsaXN0ZW5lcnNcbiAgICBjb25zdCBkcmFnQmVoYXZpb3VyID0gZDMuZHJhZygpXG4gICAgICAub24oJ3N0YXJ0JywgZHJhZ1N0YXJ0ZWQuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZHJhZycsIHRoaXMuZHJhZ2dpbmcuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZW5kJywgdGhpcy5kcmFnRW5kZWQuYmluZCh0aGlzKSk7XG5cbiAgICBjb25zdCBhY3RpdmVOYyA9IGQzLnNlbGVjdEFsbCgnLnNlbGVjdGVkJyk7XG4gICAgYWN0aXZlTmMuY2FsbChkcmFnQmVoYXZpb3VyKTtcblxuICAgIGxldCBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnNlbGVjdGVkJykpO1xuXG4gICAgLy8gaWYgdGhlIHVzZXIgZHJhZ3MgdGhlIGZvbGxvd3Mgc3lsbGFibGUgaW4gYSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLCBcbiAgICAvLyBjYW5jZWwgdGhlIGNvbXBlbnNhdGlvbiBmb3Igc3lsIG1vdmVtZW50IGluIGRyYWdnaW5nLlxuICAgIHRoaXMubm9Nb3ZlUHJlY2VkZXMgPSBzZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKTtcbiAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnJlc2l6ZVBvaW50JykpKTtcbiAgfVxuXG4gIGRyYWdnaW5nICgpOiB2b2lkIHtcbiAgICB0aGlzLmR4ID0gZDMuZXZlbnQueCAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdO1xuICAgIHRoaXMuZHkgPSBkMy5ldmVudC55IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV07XG5cbiAgICB0aGlzLm1vdmVFbGVtZW50cyh0aGlzLnNlbGVjdGlvbiwgdGhpcy5keCwgdGhpcy5keSk7XG5cbiAgICAvKlxuICAgICAqIGlmIHdlJ3JlIGRyYWdnaW5nIGEgc3lsbGFibGUgKG9yIG5ldW1lIGV0YykgdGhlbiB0aGVyZSB3b24ndCBiZSBhIHN5bCBzZWxlY3RlZFxuICAgICAqIHRoZW4gd2UgZG9uJ3Qgd2FudCB0aGUgYm91bmRpbmcgYm94IChpZiBpdCBpcyBkaXNwbGF5ZWQpIHRvIG1vdmUgd2hlbiBkcmFnZ2luZyB0aGUgbmV1bWVzXG4gICAgICogaXQgd2lsbCBiZSBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGluIHNlbGVjdGlvbiwgc28gaXQgd2lsbCBnZXQgbW92ZWQgaW4gdGhlIGFib3ZlIGxvb3BcbiAgICAgKiBzbyB3ZSBjYW5jZWwgdGhhdCBtb3ZlbWVudCBvdXQgaGVyZVxuICAgICAqL1xuICAgIGNvbnN0IHN5bHMgPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKTtcbiAgICBpZiAoc3lscy5sZW5ndGggPT09IDAgJiYgdGhpcy5ub01vdmVQcmVjZWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLm1vdmVFbGVtZW50cyhiYm94ZXMsIC10aGlzLmR4LCAtdGhpcy5keSk7XG4gICAgfVxuICB9XG5cblxuICBkcmFnRW5kZWQgKCk6IHZvaWQge1xuICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaGFzIG5vdCBiZWVuIG1vdmVkIG1vcmUgdGhhbiA1IHBpeGVscyBpbiBhbnkgZGlyZWN0aW9uLFxuICAgIC8vIGRvIG5vdCBkbyBhbnkgYWN0aW9uXG4gICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyh0aGlzLmR4KSwgeURpZmYgPSBNYXRoLmFicyh0aGlzLmR5KTtcbiAgICBpZiAoeERpZmYgPD0gNSAmJiB5RGlmZiA8PSA1KSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIHNlbGVjdGlvbiBmb3IgZHJhZ2dhYmxlIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSk7XG5cbiAgICAvLyBJZiB0aGUgY3Vyc29yIGlzIG91dCBvZiBib3VuZHMgb3IgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyBvdXQgb2YgYm91bmRzLFxuICAgIC8vIGRyYWcgYWN0aW9ucyBzaG91bGQgbm90IGhhcHBlbi4gUmV0dXJuIGFuIGVycm9yIG5vdGlmaWNhdGlvbiBhbmQgcmVzZXRcbiAgICAvLyB0aGUgZHJhZyBoYW5kbGVyXG4gICAgaWYgKHRoaXMuaXNDdXJzb3JPdXRPZkJvdW5kcygpIHx8IHRoaXMuaXNEcmFnT3V0T2ZCb3VuZHMoc2VsZWN0aW9uKSkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBzZWxlY3Rpb24gYmFjayB0byBub3JtYWwgc3RhdGVcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHModGhpcy5zZWxlY3Rpb24pO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveGVzIGFzIHdlbGxcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKGJib3hlcyk7XG5cbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBEcmFnIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBlZGl0b3IgYWN0aW9uIGZvciBzZWxlY3Rpb25cbiAgICBjb25zdCBwYXJhbUFycmF5OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBlbC50YWdOYW1lID09PSAncmVjdCcgPyBlbC5jbG9zZXN0KCcuc3lsJykuaWQgOiBlbC5pZDtcblxuICAgICAgY29uc3QgZHJhZ0FjdGlvbjogRHJhZ0FjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZHJhZycsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB4OiB0aGlzLmR4LFxuICAgICAgICAgIHk6IC10aGlzLmR5LFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwYXJhbUFycmF5LnB1c2goZHJhZ0FjdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogcGFyYW1BcnJheVxuICAgIH07XG5cbiAgICAvLyBTZW5kIGVkaXRvciBhY3Rpb25cbiAgICB0aGlzLm5lb25WaWV3XG4gICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBOZW9uIHJlLXJlbmRlcnMgdGhlIGVudGlyZSBTVkcsIGFuZCBoZW5jZSwgYmVmb3JlIHdlIGRvIHNvLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIGFsbCB0aGUgZWxlbWVudHMgKElEcykgd2UgbmVlZCB0byBzZWxlY3QgYWdhaW5cbiAgICAgICAgLy8gVGhlbiwgd2UgbmVlZCB0byByZXNlbGVjdCB0aGVtIGJ5IGNhbGxpbmcgYHRoaXMucmVzZWxlY3QoKWBcbiAgICAgICAgY29uc3QgdG9SZXNlbGVjdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpXG4gICAgICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSlcbiAgICAgICAgICAubWFwKGVsID0+IGVsLmlkKTtcblxuICAgICAgICAvLyBDQVVUSU9OOiBgdXBkYXRlRm9yQ3VycmVudFBhZ2UoKWAgaXMgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIVxuICAgICAgICAvLyBJdCByZXF1aXJlcyBhbiBgYXdhaXRgIGtleXdvcmQuXG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgdGhpcy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICAvLyBSZXNlbGVjdCB0aGUgZWxlbWVudHMgYW5kIHJlaW5pdGlhbGl6ZSBkcmFnXG4gICAgICAgIGF3YWl0IHRoaXMucmVzZWxlY3QodG9SZXNlbGVjdCk7XG4gICAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVzZWxlY3QgKHRvUmVzZWxlY3Q6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzZWxlY3RlZCA9IHRvUmVzZWxlY3QubWFwKGlkID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHR3JhcGhpY3NFbGVtZW50PihgIyR7aWR9YCkpO1xuXG4gICAgLy8gQWxsIGdseXBocyBleGNlcHQgYm91ZGluZyBib3hlcyAoJ3N5bCdzKSBtdXN0IGJlIHNlbGVjdGVkIHdpdGhcbiAgICAvLyBgc2VsZWN0QWxsKClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKGFzeW5jICgpID0+IGF3YWl0IHNlbGVjdEFsbChyZXNlbGVjdGVkLCB0aGlzLm5lb25WaWV3LCB0aGlzKSk7XG5cbiAgICAvLyBCb3VuZGluZyBib3hlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdEJCb3goKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgZWwgPT4gc2VsZWN0QkJveChlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCB0aGlzLCB0aGlzLm5lb25WaWV3KVxuICAgICAgKTtcblxuICAgIC8vIFN0YXZlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdFN0YWZmKClgXG4gICAgLy8gQU5EIG11c3QgYmUgc2VsZWN0ZWQgd2l0aCBgc2VsZWN0QWxsKClgIGZvciBjb3JyZWN0IGJlaGF2aW9yIChmb3Igc29tZSByZWFzb24pLlxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKVxuICAgICAgLmZvckVhY2goZWwgPT4gc2VsZWN0U3RhZmYoZWwsIHRoaXMpKTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIGQzIGFjdGlvbiB0byB1c2UgZm9yIFtbcmVzZXRdXS4gKi9cbiAgcmVzZXRUbyAocmVzZXQ6IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2V0VG9BY3Rpb24gPSByZXNldDtcbiAgfVxuXG4gIC8qKiBSZXNldCB0byBhIHByZXZpb3VzIGQzIGFjdGlvbiBmb3IgW1t0aGlzLnNlbGVjdG9yXV0uICovXG4gIHJlc2V0ICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZXNldFRvQWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKHRoaXMucmVzZXRUb0FjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICBjb25zdCBleHRyYUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0Jyk7XG4gICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICAgIGlmIChleHRyYUVkaXQpIHtcbiAgICAgIGV4dHJhRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSBtb3ZlIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBieSBgZHhgIGFuZCBgZHlgOyAobm90IHVzaW5nIGQzKVxuICAgKi9cbiAgbW92ZUVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSwgZHg6IG51bWJlciwgZHk6IG51bWJlcik6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtkeH0sJHtkeX0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgcmV0dXJuIHNlbGVjdGVkIGVsZW1lbnRzIHRvIHRoZWlyIG9yaWdpbmFsIHBvc2l0aW9uc1xuICAgKiBieSByZW1vdmluZyB0aGUgdHJhbnNmb3JtIGF0dHJpYnV0ZVxuICAgKi9cbiAgcmV0dXJuRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgndHJhbnNmb3JtJyk7XG4gICAgfSk7XG4gIH1cblxuICBpc0N1cnNvck91dE9mQm91bmRzICgpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbmRYID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF0gKyB0aGlzLmR4O1xuICAgIGNvbnN0IGVuZFkgPSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXSArIHRoaXMuZHk7XG5cbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyhlbmRYLCBlbmRZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgU1ZHXG4gICAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50W119IHNlbGVjdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgc2VsZWN0aW9uIG91dCBvZiBib3VuZHNcbiAgICovXG4gIGlzRHJhZ091dE9mQm91bmRzIChzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3hlcyBvZiBhbGwgZ2x5cGhzICg8dXNlPiBlbGVtZW50cykgd2l0aGluIHRoZSBzZWxlY3Rpb24gYXJyYXlcbiAgICBjb25zdCBpc0JCb3hEaXNwbGF5ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkO1xuICAgIGxldCBnbHlwaFNlbGVjdG9yID0gaXNCQm94RGlzcGxheWVkID8gJ3VzZSwgcmVjdCcgOiAndXNlJztcblxuICAgIGlmIChzZWxlY3Rpb25bMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSBnbHlwaFNlbGVjdG9yID0gJ3BhdGgnO1xuXG4gICAgY29uc3QgZ2x5cGhzOiBTVkdVc2VFbGVtZW50W10gPSBzZWxlY3Rpb24ucmVkdWNlKFxuICAgICAgKGFjYywgZWwpID0+IGFjYy5jb25jYXQoLi4uZWwucXVlcnlTZWxlY3RvckFsbChnbHlwaFNlbGVjdG9yKSksIFtdXG4gICAgKTtcbiAgICBjb25zdCBnbHlwaEJCb3hlczogQkJveFtdID0gZ2x5cGhzLm1hcChnZXRHbHlwaEJCb3gpO1xuXG4gICAgLy8gR2V0IHRoZSBzdXJyb3VuZGluZyBib3VuZGluZyBib3ggb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uQkJveDogQkJveCA9IGdseXBoQkJveGVzLnJlZHVjZShcbiAgICAgIChiYm94LCBjdXJyKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdWx4OiBNYXRoLm1pbihiYm94LnVseCwgY3Vyci51bHgpLFxuICAgICAgICAgIHVseTogTWF0aC5taW4oYmJveC51bHksIGN1cnIudWx5KSxcbiAgICAgICAgICBscng6IE1hdGgubWF4KGJib3gubHJ4LCBjdXJyLmxyeCksXG4gICAgICAgICAgbHJ5OiBNYXRoLm1heChiYm94LmxyeSwgY3Vyci5scnkpLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWx4OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICB1bHk6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIGxyeDogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgICAgbHJ5OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCB7IHVseCwgdWx5LCBscngsIGxyeSB9ID0gc2VsZWN0aW9uQkJveDtcbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyh1bHggKyB0aGlzLmR4LCB1bHkgKyB0aGlzLmR5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCArIHRoaXMuZHgsIGxyeSArIHRoaXMuZHkpO1xuICB9XG59XG5cbmV4cG9ydCB7IERyYWdIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgV2FybmluZ3MgZnJvbSAnLi4vV2FybmluZ3MnO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgKiBhcyBTZWxlY3RUb29scyBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBUb2dnbGVMaWdhdHVyZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHJlbW92ZUhhbmRsZXIsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIgfSBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuXG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBhY2Nlc3MgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cblxuLyoqXG4gKiBTZXQgdGhlIG5lb25WaWV3IG1lbWJlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgc2VsZWN0ZWQgZWxlbWVudHMgY2FuIGJlIGdyb3VwZWQgb3Igbm90XG4gKiBAcmV0dXJucyB0cnVlIGlmIGNhbiBiZSBncm91cGVkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcbiAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbShlbGVtZW50cy52YWx1ZXMoKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgaWYgKGdyb3Vwcy5sZW5ndGggPCAyKSB7XG4gICAgLy8gY2Fubm90IGdyb3VwIGlmIG9ubHkgMSBlbGVtZW50IGlzIHNlbGVjdGVkXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIGlmIG5ldW1lcyBhcmUgaW4gc2FtZSBzeWxsYWJsZSwgZG9uJ3QgZGlzcGxheSBncm91cGluZyBvcHRpb25cbiAgICAgIGlmIChTZWxlY3RUb29scy5zaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgYWRqYWNlbnQgdG8gZWFjaCBvdGhlclxuICAgICAgaWYgKFNlbGVjdFRvb2xzLmFyZUFkamFjZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxuXG59XG5cblxuZnVuY3Rpb24gY29udGFpbnNMaW5rZWQgKHNlbGVjdGlvblR5cGU6c3RyaW5nLCBlbGVtZW50cz86IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pIHtcbiAgaWYgKCFlbGVtZW50cykge1xuICAgIGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gIH1cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpIHx8IGVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsICd3YXJuaW5nJyk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fCBlbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlIGFjdGlvbiBpbnZvbHZlcyBsaW5rZWQgc3lsbGFibGVzLCBwbGVhc2UgdW50b2dnbGUgdGhlbSBmaXJzdCcsICd3YXJuaW5nJyk7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICBpZiAoZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQuaGFzQXR0cmlidXRlKCdtZWk6Zm9sbG93cycpIHx8IGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoZSBhY3Rpb24gaW52b2x2ZXMgbGlua2VkIHN5bGxhYmxlcywgcGxlYXNlIHVudG9nZ2xlIHRoZW0gZmlyc3QnLCAnd2FybmluZycpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlzIGEgc2VsZWN0aW9uIG9mIGVsZW1lbnRzIGlzIGFscmVhZHkgbGlua2VkXG4gKiBAcGFyYW0gZWxlbWVudHMgZWxlbWVudHMgdG8gYmUgY29uc2lkZXJlZFxuICogQHJldHVybnMgdHJ1ZSBpcyBsaW5rZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rZWQoZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcblxuICAvLyBpZiBudW1iZXIgb2YgZWxlbWVudHMgaXMgbm90IDIsIGVsZW1lbnRzIGNhbm5vdCBiZSBsaW5rZWQgYnkgZGVmaW5pdGlvblxuICBpZiAoZWxlbWVudHMubGVuZ3RoICE9PSAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gaWYgcHJlY2VkZXMgYW5kIGZvbGxvd3MgYXR0cmlidXRlcyBleGlzdCBhbmQgdGhlaXIgSURzIG1hdGNoXG4gIGlmICgoKGVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSA9PT0gYCMke2VsZW1lbnRzWzFdLmlkfWApICYmIFxuICAgICAgKGVsZW1lbnRzWzFdLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgPT09IGAjJHtlbGVtZW50c1swXS5pZH1gKSkgfHxcbiAgICAgICgoZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSA9PT0gJyMnICsgZWxlbWVudHNbMV0uaWQpICYmXG4gICAgICAoZWxlbWVudHNbMV0uZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpID09PSAnIycgKyBlbGVtZW50c1swXS5pZCkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHMgY2FuIGJlIGxpbmtlZCBvciB1bmxpa25lZC5cbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIEN1cnJlbnQgc2VsZWN0aW9uIG1vZGUuIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gYmUgbGlua2VkXG4gKiBAcGFyYW0gZWxlbWVudHMgVGhlIGVsZW1lbnRzIHVuZGVyIHF1ZXN0aW9uIFxuICogQHJldHVybnMgdHJ1ZSBpZiB1c2VyIHNob3VsZCBiZSBhYmxlIHRvIGxpbmsgb3IgdW4tbGluayBlbGVtZW50cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmthYmxlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcblxuICBzd2l0Y2goZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgLy8gb25seSBhIHNlbGVjdGlvbiBvZiBsZW5ndGggMiBjYW4gbGVhZCB0byBvcHRpb24gdG8gdG9nZ2xlIHN5bGxhYmxlIGxpbmtcbiAgICBjYXNlIDI6XG4gICAgICAvLyBvbmx5IFN5bGxhYmxlcyBjYW4gYmUgbGlua2VkIG9yIHVubGlua2VkICg/KVxuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgIT09ICdzZWxCeVN5bGxhYmxlJykgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgICAgLy8gaWYgQUxSRUFEWSBsaW5rZWRcbiAgICAgIGlmIChpc0xpbmtlZChbZWxlbWVudHNbMF0sIGVsZW1lbnRzWzFdXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBpZiBDQU4gYmUgbGlua2VkXG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyAqY291bGQqIGJlIGEgc2VsZWN0aW9uIHdpdGggYSBzaW5nbGUgbG9naWNhbCBzeWxsYWJsZSBzcGxpdCBieSBhIHN0YWZmIGJyZWFrLiBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlc2UgYXJlIGFkamFjZW50IHN0YXZlcyAobG9naWNhbGx5KVxuICAgICAgICBpZiAoU2VsZWN0VG9vbHMuaXNNdWx0aVN0YXZlU2VsZWN0aW9uKGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IHN0YWZmMCA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgICAgIGNvbnN0IHN0YWZmMSA9IGVsZW1lbnRzWzFdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgICAgIGNvbnN0IHN0YWZmQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmMC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKTtcblxuICAgICAgICAgIC8vIENoZWNrIGlmIG9uZSBzeWxsYWJsZSBpcyB0aGUgbGFzdCBpbiB0aGUgZmlyc3Qgc3RhZmYgYW5kIHRoZSBvdGhlciBpcyB0aGUgZmlyc3QgaW4gdGhlIHNlY29uZC5cbiAgICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggc3RhZmYgaXMgZmlyc3QuXG4gICAgICAgICAgY29uc3QgZmlyc3RTdGFmZiA9IChzdGFmZkNoaWxkcmVuLmluZGV4T2Yoc3RhZmYwKSA8IHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjEpKSA/IHN0YWZmMCA6IHN0YWZmMTtcbiAgICAgICAgICBjb25zdCBzZWNvbmRTdGFmZiA9IChmaXJzdFN0YWZmLmlkID09PSBzdGFmZjAuaWQpID8gc3RhZmYxIDogc3RhZmYwO1xuICAgICAgICAgIGNvbnN0IGZpcnN0TGF5ZXIgPSBmaXJzdFN0YWZmLnF1ZXJ5U2VsZWN0b3IoJy5sYXllcicpO1xuICAgICAgICAgIGNvbnN0IHNlY29uZExheWVyID0gc2Vjb25kU3RhZmYucXVlcnlTZWxlY3RvcignLmxheWVyJyk7XG4gICAgXG4gICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgZmlyc3Qgc3RhZmYgaGFzIGVpdGhlciBzeWxsYWJsZSBhcyB0aGUgbGFzdCBzeWxsYWJsZVxuICAgICAgICAgIGNvbnN0IGZpcnN0U3lsbGFibGVDaGlsZHJlbiA9IEFycmF5LmZyb20oZmlyc3RMYXllci5jaGlsZHJlbikuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpO1xuICAgICAgICAgIGNvbnN0IHNlY29uZFN5bGxhYmxlQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHNlY29uZExheWVyLmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSk7ICAgIFxuICAgICAgICAgIGNvbnN0IGxhc3RTeWxsYWJsZSA9IGZpcnN0U3lsbGFibGVDaGlsZHJlbltmaXJzdFN5bGxhYmxlQ2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgICAgY29uc3QgZmlyc3RTeWxsYWJsZSA9IHNlY29uZFN5bGxhYmxlQ2hpbGRyZW5bMF07XG4gICAgXG4gICAgICAgICAgaWYgKGxhc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMF0uaWQgJiYgZmlyc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMV0uaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gXG4gICAgICAgICAgZWxzZSBpZiAobGFzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1sxXS5pZCAmJiBmaXJzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1swXS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAvLyBjYW5ub3QgdG9nZ2xlIGxpbmsgZm9yIHN5bGxhYmxlIHNlbGVjdGlvbiBpZiBudW1iZXIgb2Ygc2VsZWN0ZWRcbiAgICAvLyBzeWxsYWJsZXMgaXMgbm90IGVxdWFsIHRvIDJcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogTWVyZ2Ugc2VsZWN0ZWQgc3RhdmVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVN0YXZlcyAoKTogdm9pZCB7XG4gIGNvbnN0IHN5c3RlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgY29uc3QgZWxlbWVudElkcyA9IFtdO1xuICBzeXN0ZW1zLmZvckVhY2goc3RhZmYgPT4ge1xuICAgIGVsZW1lbnRJZHMucHVzaChzdGFmZi5pZCk7XG4gIH0pO1xuICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdtZXJnZScsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZHM6IGVsZW1lbnRJZHNcbiAgICB9XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3RhZmYgTWVyZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNZXJnZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKiBAcGFyYW0gdHlwZSAtIFRoZSBncm91cGluZyB0eXBlOiBuYywgbmV1bWUsIHN5bCwgbGlnYXR1cmVOYywgb3IgbGlnYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJHcm91cGluZyAodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gIG1vcmVFZGl0LmlubmVySFRNTCArPSBDb250ZW50cy5ncm91cGluZ01lbnVbdHlwZV07XG4gIGluaXRHcm91cGluZ0xpc3RlbmVycygpO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZEdyb3VwaW5nU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xufVxuXG5cbi8qKlxuICogVGhlIGdyb3VwaW5nIGRyb3Bkb3duIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEdyb3VwaW5nTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlU3lscycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5zTGlua2VkKFNlbGVjdFRvb2xzLmdldFNlbGVjdGlvblR5cGUoKSkpIHJldHVybjtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpLmZpbHRlcihlID0+XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKVxuICAgICAgKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBpZiAoY29udGFpbnNMaW5rZWQoU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpKSkgcmV0dXJuO1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWxpZ2F0dXJlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogVG9nZ2xlTGlnYXR1cmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3RvZ2dsZUxpZ2F0dXJlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGUgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuXG4vKipcbiAqIEdyb3VwaW5nL1VuZ3JvdXBpbmcga2V5YmluZGluZyBldmVudCBsaXN0ZW5lclxuICovXG5jb25zdCBrZXlkb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLmtleSA9PT0gJ2cnKSB7XG4gICAgLy8gZ2V0IHNlbGVjdGVkIGVsZW1lbnRzIHRvIGNoZWNrIGlmIHRoZXkgY2FuIGJlIGdyb3VwZWRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCk7XG5cbiAgICBpZiAoY29udGFpbnNMaW5rZWQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm47XG5cbiAgICAvLyBHcm91cC9tZXJnZSBvciB1bmdyb3VwL3NwbGl0IGJhc2VkIG9uIHNlbGVjdGlvbiB0eXBlXG4gICAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBsaW5ua2FibGUsIHRvZ2dsZSBsaW5rZWQgc3lsbGFibGVcbiAgICAgICAgLy8gbGlua2VkIHN5bGxhYmxlcyBjYW5ub3QgYmUgZ3JvdXBlZC91bmdyb3VwZWRcbiAgICAgICAgaWYgKGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgZ3JvdXBhYmxlIGJlZm9yZSBncm91cGluZ1xuICAgICAgICBlbHNlIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcblxuICAgICAgICB9IFxuICAgICAgICAvLyBjYW4gb25seSB1bmdyb3VwIGlmIGxlbmd0aCBpcyAxIChvbmUgc3lsbGFibGUgc2VsZWN0ZWQpXG4gICAgICAgIC8vIGNhbm5vdCB1bmdyb3VwIGlmIG11bHRpcGxlIHN5bGxhYmxlcyBhcmUgc2VsZWN0ZWRcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBtZXJnZVN0YXZlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYENhbid0IHBlcmZvcm0gZ3JvdXBpbmcvdW5ncm91cGluZyBhY3Rpb24gb24gc2VsZWN0aW9uIHR5cGUgJHtzZWxlY3Rpb25UeXBlfS5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIEZvcm0gYW5kIGV4ZWN1dGUgYSBncm91cC91bmdyb3VwIGFjdGlvbi5cbiAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUuIEVpdGhlciBcImdyb3VwXCIgb3IgXCJ1bmdyb3VwXCIuXG4gKiBAcGFyYW0gZ3JvdXBUeXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudHMgdG8gZ3JvdXAuIEVpdGhlciBcIm5ldW1lXCIgb3IgXCJuY1wiLlxuICogQHBhcmFtIGVsZW1lbnRJZHMgLSBUaGUgSURzIG9mIHRoZSBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ3JvdXBpbmdBY3Rpb24gKGFjdGlvbjogJ2dyb3VwJyB8ICd1bmdyb3VwJywgZ3JvdXBUeXBlOiAnbmV1bWUnIHwgJ25jJywgZWxlbWVudElkczogc3RyaW5nW10pOiB2b2lkIHtcbiAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgcGFyYW06IHtcbiAgICAgIGdyb3VwVHlwZTogZ3JvdXBUeXBlLFxuICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgIH1cbiAgfTtcbiAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfVxuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG5cbiAgICAvLyBQcm9tcHQgdXNlciB0byBjb25maXJtIGlmIE5lb24gZG9lcyBub3QgcmUgY29nbml6ZSBjb250b3VyXG4gICAgaWYgKGdyb3VwVHlwZSA9PT0gJ25jJykge1xuICAgICAgY29uc3QgbmV1bWVQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZVBhcmVudC5jaGlsZHJlbikgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyKG5jcyk7XG4gICAgICBpZiAoY29udG91ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFdhcm5pbmdzLmdyb3VwaW5nTm90UmVjb2duaXplZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIERldGVybWluZSB3aGF0IGFjdGlvbiAobGluay91bmxpbmspIHRvIHBlcmZvcm0gd2hlbiB1c2VyIGNsaWNrcyBvbiBcIlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVcIlxuICogQWxzbyBjYWxsZWQgd2hlbiBjb3JyZXNwaW5kaW5nIGhvdGtleSBpcyBwcmVzc2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IFtdXG4gIH07XG4gIGNvbnN0IHBhcmFtID0gbmV3IEFycmF5PEVkaXRvckFjdGlvbj4oKTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZHNbMF0pLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzFdLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1sxXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgIGF0dHJWYWx1ZTogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMV0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1swXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBc3NvY2lhdGUgc3lsbGFibGVzLiBXaWxsIG5lZWQgdG8gZmluZCB3aGljaCBpcyBmaXJzdC4gVXNlIHN0YXZlcy5cbiAgICBjb25zdCBzeWxsYWJsZTAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKTtcbiAgICBjb25zdCBzeWxsYWJsZTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzFdKTtcbiAgICBjb25zdCBzdGFmZjAgPSBzeWxsYWJsZTAuY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgY29uc3Qgc3RhZmYxID0gc3lsbGFibGUxLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IHN0YWZmQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmMC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSk7XG5cbiAgICBsZXQgZmlyc3RTeWxsYWJsZSwgc2Vjb25kU3lsbGFibGU7XG4gICAgLy8gRGV0ZXJtaW5lIGZpcnN0IHN5bGxhYmxlIGNvbWVzIGZpcnN0IGJ5IHN0YWZmXG4gICAgaWYgKHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjApIDwgc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMSkpIHtcbiAgICAgIGZpcnN0U3lsbGFibGUgPSBzeWxsYWJsZTA7XG4gICAgICBzZWNvbmRTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyc3RTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICAgIHNlY29uZFN5bGxhYmxlID0gc3lsbGFibGUwO1xuICAgIH1cblxuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZmlyc3RTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgIGF0dHJWYWx1ZTogJyMnICsgc2Vjb25kU3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IHNlY29uZFN5bGxhYmxlLmlkLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcjJyArIGZpcnN0U3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBEZWxldGUgc3lsIG9uIHNlY29uZCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bCA9IHNlY29uZFN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICBpZiAoc3lsICE9PSBudWxsKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN5bC5pZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY2hhaW5BY3Rpb24ucGFyYW0gPSBwYXJhbTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RvZ2dsZWQgU3lsbGFibGUgTGluaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byBUb2dnbGUgU3lsbGFibGUgTGluaycpO1xuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiBzZWxlY3RlZCBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ2V0SWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGlkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGlkcy5wdXNoKGVsLmlkKTtcbiAgfSk7XG4gIHJldHVybiBpZHM7XG59XG5cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgSURzIG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50cycgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkcmVuSWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGNoaWxkcmVuSWRzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZWwuY2hpbGRyZW4pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goY2ggPT4ge1xuICAgICAgY2hpbGRyZW5JZHMucHVzaChjaC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW5JZHM7XG59XG4iLCJleHBvcnQgeyBJRW50cnksIElGaWxlLCBJRm9sZGVyLCBFbnRyeVR5cGUgfSBmcm9tICcuL0ZpbGVTeXN0ZW1JbnRlcmZhY2VzJztcbmV4cG9ydCB7IEZpbGVTeXN0ZW1Ub29scyB9IGZyb20gJy4vRmlsZVN5c3RlbVRvb2xzJztcbmV4cG9ydCB7IEZpbGVTeXN0ZW1NYW5hZ2VyIH0gZnJvbSAnLi9GaWxlU3lzdGVtTWFuYWdlcic7IiwiaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZXJyb3JMb2dzUGFuZWxDb250ZW50cyB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MsIGdldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcblxuXG4vLyBUT0RPOiBzdHlsaW5nXG5mdW5jdGlvbiBjcmVhdGVMb2dNZXNzYWdlIChub3RpZjogTm90aWZpY2F0aW9uKTogRWxlbWVudCB7XG4gIGNvbnN0IG5vdGlmRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5vdGlmRGl2LmNsYXNzTGlzdC5hZGQoJ25vdGlmaWNhdGlvbi1jb250YWluZXInKTtcbiAgbm90aWZEaXYuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24td3JhcHBlclwiPlxuXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLW1haW5cIj4ke25vdGlmLm1lc3NhZ2V9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctZXh0cmFcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwicmVtb3ZlLW5vdGlmLWljb24td3JhcHBlclwiPlxuICAgICAgPGltZyBjbGFzcz1cImxvZy1yZW1vdmUgcmVtb3ZlLW5vdGlmLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnXCI+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgY29uc3QgcmVtb3ZlID0gbm90aWZEaXYucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJy5sb2ctcmVtb3ZlJyk7XG4gIHJlbW92ZS5vbmNsaWNrID0gKCkgPT4gbm90aWZEaXYucmVtb3ZlKCk7XG4gIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLW9wZW4uc3ZnYCk7XG4gIH0pO1xuICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLWNsb3NlZC5zdmdgKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG5vdGlmRGl2O1xufVxuXG5cbi8qKlxuICogQWRkIG5vdGlmaWNhdGlvbiB0byB0aGUgcGVyc2lzdGVudCBlcnJvciBsb2cgb24gdGhlIHNpZGViYXJcbiAqIEBwYXJhbSBub3RpZiB7Tm90aWZpY2F0aW9ufSBOb3RpZmljYXRpb24gdG8gYWRkIHRvIHRoZSBlcnJvciBsb2dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZE5vdGlmaWNhdGlvbiAobm90aWY6IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpO1xuICBsb2cucHJlcGVuZChjcmVhdGVMb2dNZXNzYWdlKG5vdGlmKSk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplIGVycm9yIGxvZy5cbiAqIEFkZHMgbmVjZXNzYXJ5IEhUTUwgdG8gRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nKCk6IHZvaWQge1xuICAvLyBFcnJvciBsb2cgcGFuZWxcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBsb2cuaW5uZXJIVE1MID0gZXJyb3JMb2dzUGFuZWxDb250ZW50cztcblxuICBpbml0RXJyb3JMb2dDb250cm9scygpO1xufVxuXG5cbi8qKlxuICogU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgZXJyb3IgTG9nIHBhbmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXJyb3JMb2dDb250cm9scygpOiB2b2lkIHtcbiAgY29uc3QgZXJyb3JQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0hlYWRpbmcnKTtcbiAgY29uc3QgZHJvcGRvd25JY29uID0gaGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcbiAgY29uc3QgY29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpIGFzIEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgaWYgKGRpc3BsYXlFcnJMb2cpIGVycm9yUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZXJyb3IgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGNvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGFuIG9wZW4gcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgY29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBpbml0RGlzcGxheUxpc3RlbmVyKCk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplcyBjbGljayBsaXN0ZW5lciBvbiBcIlNob3cgZXJyb3IgbG9nc1wiIGJ1dHRvbiBpbiBcIlZpZXdcIiBkcm9wZG93bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5TGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gIGNvbnN0IGVycm9yc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgY29uc3QgZXJvcnJzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICBlcm9ycnNCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgZXJyb3JzTGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gIGVycm9yc0xhYmVsLnRleHRDb250ZW50ID0gJ0Vycm9ycyc7XG4gIGVyb3Jyc0J0bi5pZCA9ICdkaXNwbGF5LWVycm9ycyc7XG4gIGVyb3Jyc0J0bi50eXBlID0gJ2NoZWNrYm94JztcbiAgZXJvcnJzQnRuLmNoZWNrZWQgPSBmYWxzZTtcbiAgZXJyb3JzTGFiZWwuYXBwZW5kQ2hpbGQoZXJvcnJzQnRuKTtcbiAgY2hlY2tib3hlc0NvbnRhaW5lci5hcHBlbmQoZXJyb3JzTGFiZWwpO1xuXG5cbiAgY29uc3QgeyBkaXNwbGF5RXJyTG9nIH0gPSBnZXRTZXR0aW5ncygpO1xuICBpZiAoZGlzcGxheUVyckxvZykgZXJvcnJzQnRuLmNoZWNrZWQgPSB0cnVlO1xuXG4gIGVyb3Jyc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIC8vIHNldFNldHRpbmdzKHsgZGlzcGxheUJCb3g6IGRpc3BsYXlCQm94ZXMuY2hlY2tlZCB9KTtcblxuICAgIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gICAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5RXJyTG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktZXJyb3JzJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuXG4gICAgaWYgKGVyb3Jyc0J0bi5jaGVja2VkKSB7XG4gICAgICBub3RpZlBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICAgIHNldFNldHRpbmdzKHsgZGlzcGxheUVyckxvZzogdHJ1ZSB9KTtcblxuICAgICAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgICAgIGRpc3BsYXlUZXh0Py5jaGVja2VkICYmIGRpc3BsYXlFcnJMb2c/LmNoZWNrZWQpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlFcnJMb2c6IGZhbHNlIH0pO1xuICAgICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3gsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmLCBzZWxlY3RBbGwgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgUmVzaXplQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgaXNPdXRPZlNWR0JvdW5kcyB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncyB9IGZyb20gJy4vTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogUmVzaXplIGEgc3RhZmYgb3IgYSBzeWxsYWJsZSB0ZXh0IGJvdW5kaW5nIGJveC5cbiAqIEZvciBzdGF2ZXMsIHRoaXMgYWxzbyBzdXBwb3J0cyBhZGp1c3RpbmcgdGhlIHJvdGF0ZS5cbiAqL1xudHlwZSBQb2ludCA9IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IG5hbWU6IG51bWJlciB9O1xuXG4vKipcbiAqIFRoZSBwb2ludHMgeW91IGNhbiBjbGljayBhbmQgZHJhZyB0byByZXNpemVcbiAqL1xuY29uc3QgUG9pbnROYW1lcyA9IHtcbiAgVG9wTGVmdDogMCxcbiAgVG9wOiAxLFxuICBUb3BSaWdodDogMixcbiAgUmlnaHQ6IDMsXG4gIEJvdHRvbVJpZ2h0OiA0LFxuICBCb3R0b206IDUsXG4gIEJvdHRvbUxlZnQ6IDYsXG4gIExlZnQ6IDdcbn07XG5cbmZ1bmN0aW9uIGdldFBvaW50cyh1bHg6IG51bWJlciwgdWx5OiBudW1iZXIsIGxyeDogbnVtYmVyLCBscnk6IG51bWJlciwgcm90YXRlOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgLy8gTm90ZSB0aGF0IGFyYyBmdW5jdGlvbnMgcmV0dXJuIGFuIGFuZ2xlIHggaW4gWy1waS8yLCBwaS8yXS5cbiAgbGV0IHBvaW50czogQXJyYXk8UG9pbnQ+O1xuICAvLyB1bCBpcyB1bHgsIHVseSwgbHIgaXMgbHJ4LCBscnlcbiAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BMZWZ0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogdWx5ICsgKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiAodWx5ICsgbHJ5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpKSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSAobHJ4IC0gdWx4KSAvIDIgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogKHVseSArIGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgLy8gTm90IHRoYXRcbiAgZWxzZSB7XG4gICAgY29uc3QgYSA9IChscnggLSB1bHgpICogTWF0aC50YW4oTWF0aC5hYnMocm90YXRlKSk7XG4gICAgY29uc3QgYiA9IGxyeSAtIHVseSAtIGE7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSArIGEsIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlRvcCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BSaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgYiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21SaWdodCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IGxyeSAtIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5IC0gYiAvIDIsIG5hbWU6IFBvaW50TmFtZXMuTGVmdCB9XG4gICAgXTtcbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldywgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyKTogdm9pZCB7XG4gIGxldCB1bHg6IG51bWJlcjtcbiAgbGV0IHVseTogbnVtYmVyO1xuICBsZXQgbHJ4OiBudW1iZXI7XG4gIGxldCBscnk6IG51bWJlcjtcbiAgbGV0IHJvdGF0ZTogbnVtYmVyO1xuXG4gIGxldCBpbml0aWFsVWx4OiBudW1iZXIsIGluaXRpYWxMcng6IG51bWJlcjtcbiAgbGV0IGluaXRpYWxQb2ludDogbnVtYmVyW10sIGluaXRpYWxVbHk6IG51bWJlciwgaW5pdGlhbExyeTogbnVtYmVyLFxuICAgIGluaXRpYWxZOiBudW1iZXIsIGluaXRpYWxSZWN0WTogbnVtYmVyLCBwb2x5TGVuOiBudW1iZXIsIGR5OiBudW1iZXIsIGluaXRpYWxSb3RhdGU6IG51bWJlcjtcblxuICBkcmF3SW5pdGlhbFJlY3QoKTtcblxuICAvKipcbiAgICogUmVkcmF3IHRoZSByZWN0YW5nbGUgd2l0aCB0aGUgbmV3IGJvdW5kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVkcmF3ICgpOiB2b2lkIHtcbiAgICBjb25zdCBwb2ludHM6IFBvaW50W10gPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmc6IHN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF9lbGVtLCBpbmRleCkgPT4geyByZXR1cm4gaW5kZXggJSAyID09PSAwOyB9KVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgcG9pbnRTdHJpbmcpO1xuXG4gICAgY29uc3QgdGV4dFJlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsLnNlbGVjdGVkID4gLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAodGV4dFJlY3QpIHtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneCcsIFN0cmluZyhNYXRoLm1pbih1bHgsIGxyeCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneScsIFN0cmluZyhNYXRoLm1pbih1bHksIGxyeSkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBTdHJpbmcoTWF0aC5hYnMobHJ4IC0gdWx4KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBTdHJpbmcoTWF0aC5hYnMobHJ5IC0gdWx5KSkpO1xuICAgIH1cblxuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBwb2ludE5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICBsZXQgeSA9IHBvaW50c1szXS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICB4ID0gcG9pbnRzWzddLng7XG4gICAgeSA9IHBvaW50c1s3XS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICh4IC0gMTMwKSArICcsJyArICh5IC0gNTApICsgJyAnICsgKHggLSAxMDApICsgJywnICsgKHkgLSA4NSkgKyAnICcgKyAoeCAtIDcwKSArICcsJyArICh5IC0gNTApO1xuXG4gICAgZDMuc2VsZWN0KCcjcm90YXRlTGVmdCcpLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nTGVmdCk7XG4gICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBpbml0aWFsIHJlY3RhbmdsZSBhcm91bmQgdGhlIGVsZW1lbnRcbiAgICogYW5kIGFkZCB0aGUgbGlzdGVuZXJzIHRvIHN1cHBvcnQgZHJhZ2dpbmcgdG8gcmVzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gZHJhd0luaXRpYWxSZWN0ICgpOiB2b2lkIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJyNyZXNpemVSZWN0JykucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcblxuICAgIC8vIGlmIGl0J3MgYSBib3VuZGluZ2JveCBqdXN0IGdldCB0aGUgY29vcmRpbmF0ZXNcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKHJlY3QgPT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUcmllZCB0byBkcmF3IHJlc2l6ZSByZWN0IGZvciBhIHN5bFRleHRSZWN0IHRoYXQgZG9lc25cXCd0IGV4aXN0IChvciBpc25cXCd0IGRpc3BsYXlpbmcpJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVseCA9IE51bWJlcihyZWN0LmdldEF0dHJpYnV0ZSgneCcpKTtcbiAgICAgIHVseSA9IE51bWJlcihyZWN0LmdldEF0dHJpYnV0ZSgneScpKTtcbiAgICAgIGxyeCA9ICt1bHggKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XG4gICAgICBscnkgPSArdWx5ICsgK3JlY3QuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcblxuICAgICAgcm90YXRlID0gMDtcbiAgICB9XG5cbiAgICAvLyBpZiBpdCdzIGEgc3RhZmYgdXNlIHRoZSBwYXRocyB0byBnZXQgaXQncyBib3VuZGluZ2JveFxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgY29uc3QgYmJveCA9IGdldFN0YWZmQkJveChlbGVtZW50KTtcbiAgICAgIHVseCA9IGJib3gudWx4O1xuICAgICAgdWx5ID0gYmJveC51bHk7XG4gICAgICBscnggPSBiYm94LmxyeDtcbiAgICAgIGxyeSA9IGJib3gubHJ5O1xuXG4gICAgICBjb25zdCBjb29yZGluYXRlczogbnVtYmVyW10gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkJylcbiAgICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAgIC5tYXAoZWxlbWVudCA9PiBOdW1iZXIoZWxlbWVudCkpO1xuICAgICAgcm90YXRlID0gTWF0aC5hdGFuKChjb29yZGluYXRlc1szXSAtIGNvb3JkaW5hdGVzWzFdKSAvXG4gICAgICAgIChjb29yZGluYXRlc1syXSAtIGNvb3JkaW5hdGVzWzBdKSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbFVseCA9IHVseCwgaW5pdGlhbFVseSA9IHVseSwgaW5pdGlhbExyeCA9IGxyeCwgaW5pdGlhbExyeSA9IGxyeTtcblxuICAgIGxldCB3aGljaFBvaW50OiBzdHJpbmc7XG5cbiAgICBjb25zdCBwb2ludHMgPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgcG9seUxlbiA9IHBvaW50c1syXS54IC0gcG9pbnRzWzBdLng7XG5cbiAgICBjb25zdCBwb2ludFN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF8sIGluZGV4KSA9PiBpbmRleCAlIDIgPT09IDApXG4gICAgICAubWFwKGVsZW0gPT4gZWxlbS54ICsgJywnICsgZWxlbS55KVxuICAgICAgLmpvaW4oJyAnKTtcblxuICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nKVxuICAgICAgLmF0dHIoJ2lkJywgJ3Jlc2l6ZVJlY3QnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMTApXG4gICAgICAuYXR0cignZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgnY3Vyc29yJywgJ21vdmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgJzIwIDEwJyk7XG5cbiAgICBjb25zdCB7IGNpcmNsZVNpemUgfSA9IGdldFNldHRpbmdzKCk7XG5cbiAgICBmb3IgKGNvbnN0IHBvaW50TmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBjb25zdCBwb2ludDogUG9pbnQgPSBwb2ludHNbUG9pbnROYW1lc1twb2ludE5hbWVdXTtcbiAgICAgIGQzLnNlbGVjdChlbGVtZW50LnZpZXdwb3J0RWxlbWVudCkuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgICAuYXR0cignY3gnLCBwb2ludC54KVxuICAgICAgICAuYXR0cignY3knLCBwb2ludC55KVxuICAgICAgICAuYXR0cigncicsIGNpcmNsZVNpemUpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNClcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdpZCcsICdwLScgKyBwb2ludE5hbWUpO1xuICAgIH1cblxuICAgIC8vIGRvIGl0IGFzIGEgbG9vcCBpbnN0ZWFkIG9mIHNlbGVjdEFsbCBzbyB0aGF0IHlvdSBjYW4gZWFzaWx5IGtub3cgd2hpY2ggcG9pbnQgd2FzXG4gICAgZm9yIChjb25zdCBuYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGQzLnNlbGVjdCgnI3AtJyArIG5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsICgpID0+IHsgcmVzaXplU3RhcnQobmFtZSk7IH0pXG4gICAgICAgICAgLm9uKCdkcmFnJywgcmVzaXplRHJhZylcbiAgICAgICAgICAub24oJ2VuZCcsIHJlc2l6ZUVuZC5iaW5kKHRoaXMpKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBsZXQgeCA9IHBvaW50c1szXS54O1xuICAgICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAgICh4ICsgNzApICsgJywnICsgKHkgKyA1MCkgKyAnICcgKyAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDE1KSArICcgJyArICh4ICsgMTMwKSArICcsJyArICh5ICsgNTApO1xuICAgICAgeCA9IHBvaW50c1s3XS54O1xuICAgICAgeSA9IHBvaW50c1s3XS55O1xuICAgICAgY29uc3QgcG9pbnRTdHJpbmdMZWZ0ID0gKHggLSAxMDApICsgJywnICsgKHkgLSAxNSkgKyAnICcgK1xuICAgICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlUmlnaHQnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncm90YXRlUG9pbnQnKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpXG4gICAgICAgIC5hdHRyKCdpZCcsICdyb3RhdGVMZWZ0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ0xlZnQpXG4gICAgICAgICAgLm9uKCdlbmQnLCByb3RhdGVFbmQpKTtcblxuICAgICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ1JpZ2h0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplU3RhcnQgKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgd2hpY2hQb2ludCA9IG5hbWU7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50cy5maW5kKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXNbbmFtZV0pO1xuICAgICAgaW5pdGlhbFBvaW50ID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplRHJhZyAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50UG9pbnQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIHN3aXRjaCAoUG9pbnROYW1lc1t3aGljaFBvaW50XSkge1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wOlxuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3BSaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdIC0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGluaXRpYWxMcnkgKyAoY3VycmVudFBvaW50WzBdIC0gaW5pdGlhbFBvaW50WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21SaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tOlxuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXSArIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBpbml0aWFsVWx5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NvbWV0aGluZyB0aGF0IHdhc25cXCd0IGEgc2lkZSBvZiB0aGUgcmVjdGFuZ2xlIHdhcyBkcmFnZ2VkLiBUaGlzIHNob3VsZG5cXCd0IGhhcHBlbi4nKTtcbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgdWx4ID0gaW5pdGlhbFVseCwgdWx5ID0gaW5pdGlhbFVseSwgbHJ4ID0gaW5pdGlhbExyeCwgbHJ5ID0gaW5pdGlhbExyeTtcbiAgICAgICAgcmVkcmF3KCk7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJlc2l6ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFJlc2l6ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApO1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0QWxsKFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vcmVFZGl0Jyk7XG5cbiAgICAgICAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgICAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJPVEFURVxuICAgIGZ1bmN0aW9uIHJvdGF0ZVN0YXJ0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHdoaWNoID0gZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0LmlkO1xuICAgICAgaW5pdGlhbFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgICBpbml0aWFsVWx5ID0gdWx5O1xuICAgICAgaW5pdGlhbFJlY3RZID0gKHdoaWNoID09PSAncm90YXRlUmlnaHQnID8gbHJ5IDogdWx5KTtcbiAgICAgIGluaXRpYWxSb3RhdGUgPSByb3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRHJhZ0xlZnQgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGNvbnN0IHRlbXAgPSBjdXJyZW50WSAtIGluaXRpYWxZO1xuICAgICAgY29uc3QgdGVtcFJvdGF0ZSA9IGluaXRpYWxSb3RhdGUgLSBNYXRoLmF0YW4odGVtcCAvIHBvbHlMZW4pO1xuICAgICAgaWYgKHRlbXBSb3RhdGUgPiAtMC4yICYmIHRlbXBSb3RhdGUgPCAwLjIpIHtcbiAgICAgICAgZHkgPSB0ZW1wO1xuICAgICAgICB1bHkgPSBpbml0aWFsUmVjdFkgKyBkeTtcbiAgICAgICAgcm90YXRlID0gdGVtcFJvdGF0ZTtcbiAgICAgICAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgICAgICAgdWx5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wTGVmdClbMF0ueTtcbiAgICAgICAgICBscnkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tUmlnaHQpWzBdLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWx5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcFJpZ2h0KVswXS55O1xuICAgICAgICAgIGxyeSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbUxlZnQpWzBdLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZURyYWdSaWdodCAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50WSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgY29uc3QgdGVtcCA9IGN1cnJlbnRZIC0gaW5pdGlhbFk7XG4gICAgICBjb25zdCB0ZW1wUm90YXRlID0gaW5pdGlhbFJvdGF0ZSArIE1hdGguYXRhbih0ZW1wIC8gcG9seUxlbik7XG4gICAgICBpZiAodGVtcFJvdGF0ZSA+IC0wLjIgJiYgdGVtcFJvdGF0ZSA8IDAuMikge1xuICAgICAgICBkeSA9IHRlbXA7XG4gICAgICAgIHJvdGF0ZSA9IHRlbXBSb3RhdGU7XG4gICAgICAgIGlmIChyb3RhdGUgPj0gMCApIHtcbiAgICAgICAgICBscnkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21SaWdodClbMF0ueTtcbiAgICAgICAgICB1bHkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wTGVmdClbMF0ueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bHkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BSaWdodClbMF0ueTtcbiAgICAgICAgICBscnkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tTGVmdClbMF0ueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRW5kICgpOiB2b2lkIHtcbiAgICAgIGlmIChkeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGR5ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHModWx4LCB1bHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4LCBscnkpKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXNpemVQb2ludCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcmVzaXplUmVjdCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm90YXRlUG9pbnQnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcblxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5pZCkgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdWx5ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnggPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RTdGFmZihlbGVtZW50LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcXVldWVOb3RpZmljYXRpb24oJ1tGQUlMXSBHbHlwaHMgd2VyZSBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgUm90YXRlIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdyZXNpemVSb3RhdGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICB1bHg6IHVseCxcbiAgICAgICAgICB1bHk6IHVseSxcbiAgICAgICAgICBscng6IGxyeCxcbiAgICAgICAgICBscnk6IGxyeSxcbiAgICAgICAgICByb3RhdGU6IHJvdGF0ZSAqIDE4MCAvIE1hdGguUElcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5pZCkgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZCwgdWx5ID0gdW5kZWZpbmVkLCBscnggPSB1bmRlZmluZWQsIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZWxlbWVudCwgZHJhZ0hhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBpbW1lZGlhdGUgZnJvbSAnaW1tZWRpYXRlJztcbmltcG9ydCB7IHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgTWQ1IGZyb20gJ3NwYXJrLW1kNSc7XG5pbXBvcnQgdnV2dXplbGEgZnJvbSAndnV2dXplbGEnO1xuaW1wb3J0IGdldEFyZ3VtZW50cyBmcm9tICdhcmdzYXJyYXknO1xuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcbmltcG9ydCBFRSBmcm9tICdldmVudHMnO1xuXG5mdW5jdGlvbiBtYW5nbGUoa2V5KSB7XG4gIHJldHVybiAnJCcgKyBrZXk7XG59XG5mdW5jdGlvbiB1bm1hbmdsZShrZXkpIHtcbiAgcmV0dXJuIGtleS5zdWJzdHJpbmcoMSk7XG59XG5mdW5jdGlvbiBNYXAkMSgpIHtcbiAgdGhpcy5fc3RvcmUgPSB7fTtcbn1cbk1hcCQxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiB0aGlzLl9zdG9yZVttYW5nbGVkXTtcbn07XG5NYXAkMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgdGhpcy5fc3RvcmVbbWFuZ2xlZF0gPSB2YWx1ZTtcbiAgcmV0dXJuIHRydWU7XG59O1xuTWFwJDEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgcmV0dXJuIG1hbmdsZWQgaW4gdGhpcy5fc3RvcmU7XG59O1xuTWFwJDEucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSkubWFwKGsgPT4gdW5tYW5nbGUoaykpO1xufTtcbk1hcCQxLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHZhciByZXMgPSBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xuICBkZWxldGUgdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG4gIHJldHVybiByZXM7XG59O1xuTWFwJDEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fc3RvcmVba2V5XTtcbiAgICBrZXkgPSB1bm1hbmdsZShrZXkpO1xuICAgIGNiKHZhbHVlLCBrZXkpO1xuICB9XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSkubGVuZ3RoO1xuICB9XG59KTtcblxuZnVuY3Rpb24gU2V0JDEoYXJyYXkpIHtcbiAgdGhpcy5fc3RvcmUgPSBuZXcgTWFwJDEoKTtcblxuICAvLyBpbml0IHdpdGggYW4gYXJyYXlcbiAgaWYgKGFycmF5ICYmIEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmFkZChhcnJheVtpXSk7XG4gICAgfVxuICB9XG59XG5TZXQkMS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5fc3RvcmUuc2V0KGtleSwgdHJ1ZSk7XG59O1xuU2V0JDEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLmhhcyhrZXkpO1xufTtcblNldCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHRoaXMuX3N0b3JlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBjYihrZXkpO1xuICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0JDEucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLnNpemU7XG4gIH1cbn0pO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2thbmdheC5naXRodWIuaW8vY29tcGF0LXRhYmxlL2VzNi8gd2UgY2FuIHNuaWZmIG91dFxuLy8gaW5jb21wbGV0ZSBNYXAvU2V0IGltcGxlbWVudGF0aW9ucyB3aGljaCB3b3VsZCBvdGhlcndpc2UgY2F1c2Ugb3VyIHRlc3RzIHRvIGZhaWwuXG4vLyBOb3RhYmx5IHRoZXkgZmFpbCBpbiBJRTExIGFuZCBpT1MgOC40LCB3aGljaCB0aGlzIHByZXZlbnRzLlxuZnVuY3Rpb24gc3VwcG9ydHNNYXBBbmRTZXQoKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWFwLCBTeW1ib2wuc3BlY2llcyk7XG4gIHJldHVybiBwcm9wICYmICdnZXQnIGluIHByb3AgJiYgTWFwW1N5bWJvbC5zcGVjaWVzXSA9PT0gTWFwO1xufVxuXG4vLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW9udGFnZWpzL2NvbGxlY3Rpb25zXG5cbnZhciBFeHBvcnRlZFNldDtcbnZhciBFeHBvcnRlZE1hcDtcblxue1xuICBpZiAoc3VwcG9ydHNNYXBBbmRTZXQoKSkgeyAvLyBwcmVmZXIgYnVpbHQtaW4gTWFwL1NldFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0O1xuICAgIEV4cG9ydGVkTWFwID0gTWFwO1xuICB9IGVsc2UgeyAvLyBmYWxsIGJhY2sgdG8gb3VyIHBvbHlmaWxsXG4gICAgRXhwb3J0ZWRTZXQgPSBTZXQkMTtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcCQxO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQmluYXJ5T2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBCbG9iKTtcbn1cblxuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihidWZmKSB7XG4gIGlmICh0eXBlb2YgYnVmZi5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBidWZmLnNsaWNlKDApO1xuICB9XG4gIC8vIElFMTAtMTEgc2xpY2UoKSBwb2x5ZmlsbFxuICB2YXIgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmYuYnl0ZUxlbmd0aCk7XG4gIHZhciB0YXJnZXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRhcmdldCk7XG4gIHZhciBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpO1xuICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcbiAgfVxuICB2YXIgc2l6ZSA9IG9iamVjdC5zaXplO1xuICB2YXIgdHlwZSA9IG9iamVjdC50eXBlO1xuICAvLyBCbG9iXG4gIGlmICh0eXBlb2Ygb2JqZWN0LnNsaWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iamVjdC5zbGljZSgwLCBzaXplLCB0eXBlKTtcbiAgfVxuICAvLyBQaGFudG9tSlMgc2xpY2UoKSByZXBsYWNlbWVudFxuICByZXR1cm4gb2JqZWN0LndlYmtpdFNsaWNlKDAsIHNpemUsIHR5cGUpO1xufVxuXG4vLyBtb3N0IG9mIHRoaXMgaXMgYm9ycm93ZWQgZnJvbSBsb2Rhc2guaXNQbGFpbk9iamVjdDpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXMtY29tcG9uZW50cy9sb2Rhc2guaXNwbGFpbm9iamVjdC9cbi8vIGJsb2IvMjljMzU4MTQwYTc0ZjI1MmFlYjA4YzllYjI4YmVmODZmMjIxN2Q0YS9pbmRleC5qc1xuXG52YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAocHJvdG8gPT09IG51bGwpIHsgLy8gbm90IHN1cmUgd2hlbiB0aGlzIGhhcHBlbnMsIGJ1dCBJIGd1ZXNzIGl0IGNhblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5mdW5jdGlvbiBjbG9uZShvYmplY3QpIHtcbiAgdmFyIG5ld09iamVjdDtcbiAgdmFyIGk7XG4gIHZhciBsZW47XG5cbiAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgIG5ld09iamVjdCA9IFtdO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IG9iamVjdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbmV3T2JqZWN0W2ldID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld09iamVjdDtcbiAgfVxuXG4gIC8vIHNwZWNpYWwgY2FzZTogdG8gYXZvaWQgaW5jb25zaXN0ZW5jaWVzIGJldHdlZW4gSW5kZXhlZERCXG4gIC8vIGFuZCBvdGhlciBiYWNrZW5kcywgd2UgYXV0b21hdGljYWxseSBzdHJpbmdpZnkgRGF0ZXNcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIERhdGUgJiYgaXNGaW5pdGUob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3QudG9JU09TdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChpc0JpbmFyeU9iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGNsb25lQmluYXJ5T2JqZWN0KG9iamVjdCk7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7IC8vIGRvbid0IGNsb25lIG9iamVjdHMgbGlrZSBXb3JrZXJzXG4gIH1cblxuICBuZXdPYmplY3QgPSB7fTtcbiAgZm9yIChpIGluIG9iamVjdCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGkpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBjbG9uZShvYmplY3RbaV0pO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmV3T2JqZWN0W2ldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdPYmplY3Q7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZnVuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBzbW9rZSB0ZXN0IGFuZCBzaG91bGQgbmV2ZXIgYWN0dWFsbHkgaGFwcGVuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uY2UgY2FsbGVkIG1vcmUgdGhhbiBvbmNlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9Qcm9taXNlKGZ1bmMpIHtcbiAgLy9jcmVhdGUgdGhlIGZ1bmN0aW9uIHdlIHdpbGwgYmUgcmV0dXJuaW5nXG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvLyBDbG9uZSBhcmd1bWVudHNcbiAgICBhcmdzID0gY2xvbmUoYXJncyk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIGlmIHRoZSBsYXN0IGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24sIGFzc3VtZSBpdHMgYSBjYWxsYmFja1xuICAgIHZhciB1c2VkQ0IgPSAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykgPyBhcmdzLnBvcCgpIDogZmFsc2U7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVzcDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IG9uY2UoZnVuY3Rpb24gKGVyciwgbWVzZykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmdWxmaWxsKG1lc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNhbGxiYWNrIGZvciB0aGlzIGludm9jYXRpb25cbiAgICAgICAgLy8gYXBwbHkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnIGNvbnRleHRcbiAgICAgICAgYXJncy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmVzcCA9IGZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIGlmIChyZXNwICYmIHR5cGVvZiByZXNwLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmdWxmaWxsKHJlc3ApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGNhbGxiYWNrLCBjYWxsIGl0IGJhY2tcbiAgICBpZiAodXNlZENCKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB1c2VkQ0IobnVsbCwgcmVzdWx0KTtcbiAgICAgIH0sIHVzZWRDQik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9nQXBpQ2FsbChzZWxmLCBuYW1lLCBhcmdzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoc2VsZi5jb25zdHJ1Y3Rvci5saXN0ZW5lcnMoJ2RlYnVnJykubGVuZ3RoKSB7XG4gICAgdmFyIGxvZ0FyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgbG9nQXJncy5wdXNoKGFyZ3NbaV0pO1xuICAgIH1cbiAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgbG9nQXJncyk7XG5cbiAgICAvLyBvdmVycmlkZSB0aGUgY2FsbGJhY2sgaXRzZWxmIHRvIGxvZyB0aGUgcmVzcG9uc2VcbiAgICB2YXIgb3JpZ0NhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgdmFyIHJlc3BvbnNlQXJncyA9IFsnYXBpJywgc2VsZi5uYW1lLCBuYW1lXTtcbiAgICAgIHJlc3BvbnNlQXJncyA9IHJlc3BvbnNlQXJncy5jb25jYXQoXG4gICAgICAgIGVyciA/IFsnZXJyb3InLCBlcnJdIDogWydzdWNjZXNzJywgcmVzXVxuICAgICAgKTtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVidWcnLCByZXNwb25zZUFyZ3MpO1xuICAgICAgb3JpZ0NhbGxiYWNrKGVyciwgcmVzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkYXB0ZXJGdW4obmFtZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIHRvUHJvbWlzZShnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBjbG9zZWQnKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2RhdGFiYXNlIGlzIGRlc3Ryb3llZCcpKTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncyk7XG4gICAgaWYgKCF0aGlzLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgICAgICBpZiAoZmFpbGVkKSB7XG4gICAgICAgICAgICByZWplY3QoZmFpbGVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChzZWxmW25hbWVdLmFwcGx5KHNlbGYsIGFyZ3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSkpO1xufVxuXG4vLyBsaWtlIHVuZGVyc2NvcmUvbG9kYXNoIF8ucGljaygpXG5mdW5jdGlvbiBwaWNrKG9iaiwgYXJyKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBwcm9wID0gYXJyW2ldO1xuICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgcmVzW3Byb3BdID0gb2JqW3Byb3BdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vLyBNb3N0IGJyb3dzZXJzIHRocm90dGxlIGNvbmN1cnJlbnQgcmVxdWVzdHMgYXQgNiwgc28gaXQncyBzaWxseVxuLy8gdG8gc2hpbSBfYnVsa19nZXQgYnkgdHJ5aW5nIHRvIGxhdW5jaCBwb3RlbnRpYWxseSBodW5kcmVkcyBvZiByZXF1ZXN0c1xuLy8gYW5kIHRoZW4gbGV0dGluZyB0aGUgbWFqb3JpdHkgdGltZSBvdXQuIFdlIGNhbiBoYW5kbGUgdGhpcyBvdXJzZWx2ZXMuXG52YXIgTUFYX05VTV9DT05DVVJSRU5UX1JFUVVFU1RTID0gNjtcblxuZnVuY3Rpb24gaWRlbnRpdHlGdW5jdGlvbih4KSB7XG4gIHJldHVybiB4O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRSZXN1bHRGb3JPcGVuUmV2c0dldChyZXN1bHQpIHtcbiAgcmV0dXJuIFt7XG4gICAgb2s6IHJlc3VsdFxuICB9XTtcbn1cblxuLy8gc2hpbSBmb3IgUC9Db3VjaERCIGFkYXB0ZXJzIHRoYXQgZG9uJ3QgZGlyZWN0bHkgaW1wbGVtZW50IF9idWxrX2dldFxuZnVuY3Rpb24gYnVsa0dldChkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3RzID0gb3B0cy5kb2NzO1xuXG4gIC8vIGNvbnNvbGlkYXRlIGludG8gb25lIHJlcXVlc3QgcGVyIGRvYyBpZiBwb3NzaWJsZVxuICB2YXIgcmVxdWVzdHNCeUlkID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gIHJlcXVlc3RzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdHNCeUlkLmhhcyhyZXF1ZXN0LmlkKSkge1xuICAgICAgcmVxdWVzdHNCeUlkLmdldChyZXF1ZXN0LmlkKS5wdXNoKHJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0c0J5SWQuc2V0KHJlcXVlc3QuaWQsIFtyZXF1ZXN0XSk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgbnVtRG9jcyA9IHJlcXVlc3RzQnlJZC5zaXplO1xuICB2YXIgbnVtRG9uZSA9IDA7XG4gIHZhciBwZXJEb2NSZXN1bHRzID0gbmV3IEFycmF5KG51bURvY3MpO1xuXG4gIGZ1bmN0aW9uIGNvbGxhcHNlUmVzdWx0c0FuZEZpbmlzaCgpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHBlckRvY1Jlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXMuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaWQ6IHJlcy5pZCxcbiAgICAgICAgICBkb2NzOiBbaW5mb11cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjYWxsYmFjayhudWxsLCB7cmVzdWx0czogcmVzdWx0c30pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IG51bURvY3MpIHtcbiAgICAgIGNvbGxhcHNlUmVzdWx0c0FuZEZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdvdFJlc3VsdChkb2NJbmRleCwgaWQsIGRvY3MpIHtcbiAgICBwZXJEb2NSZXN1bHRzW2RvY0luZGV4XSA9IHtpZDogaWQsIGRvY3M6IGRvY3N9O1xuICAgIGNoZWNrRG9uZSgpO1xuICB9XG5cbiAgdmFyIGFsbFJlcXVlc3RzID0gW107XG4gIHJlcXVlc3RzQnlJZC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgYWxsUmVxdWVzdHMucHVzaChrZXkpO1xuICB9KTtcblxuICB2YXIgaSA9IDA7XG5cbiAgZnVuY3Rpb24gbmV4dEJhdGNoKCkge1xuXG4gICAgaWYgKGkgPj0gYWxsUmVxdWVzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHVwVG8gPSBNYXRoLm1pbihpICsgTUFYX05VTV9DT05DVVJSRU5UX1JFUVVFU1RTLCBhbGxSZXF1ZXN0cy5sZW5ndGgpO1xuICAgIHZhciBiYXRjaCA9IGFsbFJlcXVlc3RzLnNsaWNlKGksIHVwVG8pO1xuICAgIHByb2Nlc3NCYXRjaChiYXRjaCwgaSk7XG4gICAgaSArPSBiYXRjaC5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2gsIG9mZnNldCkge1xuICAgIGJhdGNoLmZvckVhY2goZnVuY3Rpb24gKGRvY0lkLCBqKSB7XG4gICAgICB2YXIgZG9jSWR4ID0gb2Zmc2V0ICsgajtcbiAgICAgIHZhciBkb2NSZXF1ZXN0cyA9IHJlcXVlc3RzQnlJZC5nZXQoZG9jSWQpO1xuXG4gICAgICAvLyBqdXN0IHVzZSB0aGUgZmlyc3QgcmVxdWVzdCBhcyB0aGUgXCJ0ZW1wbGF0ZVwiXG4gICAgICAvLyBUT0RPOiBUaGUgX2J1bGtfZ2V0IEFQSSBhbGxvd3MgZm9yIG1vcmUgc3VidGxlIHVzZSBjYXNlcyB0aGFuIHRoaXMsXG4gICAgICAvLyBidXQgZm9yIG5vdyBpdCBpcyB1bmxpa2VseSB0aGF0IHRoZXJlIHdpbGwgYmUgYSBtaXggb2YgZGlmZmVyZW50XG4gICAgICAvLyBcImF0dHNfc2luY2VcIiBvciBcImF0dGFjaG1lbnRzXCIgaW4gdGhlIHNhbWUgcmVxdWVzdCwgc2luY2UgaXQncyBqdXN0XG4gICAgICAvLyByZXBsaWNhdGUuanMgdGhhdCBpcyB1c2luZyB0aGlzIGZvciB0aGUgbW9tZW50LlxuICAgICAgLy8gQWxzbywgYXR0c19zaW5jZSBpcyBhc3BpcmF0aW9uYWwsIHNpbmNlIHdlIGRvbid0IHN1cHBvcnQgaXQgeWV0LlxuICAgICAgdmFyIGRvY09wdHMgPSBwaWNrKGRvY1JlcXVlc3RzWzBdLCBbJ2F0dHNfc2luY2UnLCAnYXR0YWNobWVudHMnXSk7XG4gICAgICBkb2NPcHRzLm9wZW5fcmV2cyA9IGRvY1JlcXVlc3RzLm1hcChmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAvLyByZXYgaXMgb3B0aW9uYWwsIG9wZW5fcmV2cyBkaXNhbGxvd2VkXG4gICAgICAgIHJldHVybiByZXF1ZXN0LnJldjtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZW1vdmUgZmFsc2V5IC8gdW5kZWZpbmVkIHJldmlzaW9uc1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NPcHRzLm9wZW5fcmV2cy5maWx0ZXIoaWRlbnRpdHlGdW5jdGlvbik7XG5cbiAgICAgIHZhciBmb3JtYXRSZXN1bHQgPSBpZGVudGl0eUZ1bmN0aW9uO1xuXG4gICAgICBpZiAoZG9jT3B0cy5vcGVuX3JldnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBkb2NPcHRzLm9wZW5fcmV2cztcblxuICAgICAgICAvLyB3aGVuIGZldGNoaW5nIG9ubHkgdGhlIFwid2lubmluZ1wiIGxlYWYsXG4gICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgcmVzdWx0IHNvIGl0IGxvb2tzIGxpa2UgYW4gb3Blbl9yZXZzXG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgZm9ybWF0UmVzdWx0ID0gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIGdsb2JhbGx5LXN1cHBsaWVkIG9wdGlvbnNcbiAgICAgIFsncmV2cycsICdhdHRhY2htZW50cycsICdiaW5hcnknLCAnYWpheCcsICdsYXRlc3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICBpZiAocGFyYW0gaW4gb3B0cykge1xuICAgICAgICAgIGRvY09wdHNbcGFyYW1dID0gb3B0c1twYXJhbV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGIuZ2V0KGRvY0lkLCBkb2NPcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXN1bHQgPSBbe2Vycm9yOiBlcnJ9XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBmb3JtYXRSZXN1bHQocmVzKTtcbiAgICAgICAgfVxuICAgICAgICBnb3RSZXN1bHQoZG9jSWR4LCBkb2NJZCwgcmVzdWx0KTtcbiAgICAgICAgbmV4dEJhdGNoKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG5leHRCYXRjaCgpO1xuXG59XG5cbnZhciBoYXNMb2NhbDtcblxudHJ5IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ19wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UnLCAxKTtcbiAgaGFzTG9jYWwgPSAhIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJyk7XG59IGNhdGNoIChlKSB7XG4gIGhhc0xvY2FsID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGhhc0xvY2FsU3RvcmFnZSgpIHtcbiAgcmV0dXJuIGhhc0xvY2FsO1xufVxuXG4vLyBDdXN0b20gbmV4dFRpY2soKSBzaGltIGZvciBicm93c2Vycy4gSW4gbm9kZSwgdGhpcyB3aWxsIGp1c3QgYmUgcHJvY2Vzcy5uZXh0VGljaygpLiBXZVxuXG5pbmhlcml0cyhDaGFuZ2VzLCBFRSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBhdHRhY2hCcm93c2VyRXZlbnRzKHNlbGYpIHtcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHNlbGYuZW1pdChlLmtleSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gQ2hhbmdlcygpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG5cbiAgYXR0YWNoQnJvd3NlckV2ZW50cyh0aGlzKTtcbn1cbkNoYW5nZXMucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGRiTmFtZSwgaWQsIGRiLCBvcHRzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodGhpcy5fbGlzdGVuZXJzW2lkXSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBpbnByb2dyZXNzID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGV2ZW50RnVuY3Rpb24oKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFzZWxmLl9saXN0ZW5lcnNbaWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbnByb2dyZXNzKSB7XG4gICAgICBpbnByb2dyZXNzID0gJ3dhaXRpbmcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnByb2dyZXNzID0gdHJ1ZTtcbiAgICB2YXIgY2hhbmdlc09wdHMgPSBwaWNrKG9wdHMsIFtcbiAgICAgICdzdHlsZScsICdpbmNsdWRlX2RvY3MnLCAnYXR0YWNobWVudHMnLCAnY29uZmxpY3RzJywgJ2ZpbHRlcicsXG4gICAgICAnZG9jX2lkcycsICd2aWV3JywgJ3NpbmNlJywgJ3F1ZXJ5X3BhcmFtcycsICdiaW5hcnknLCAncmV0dXJuX2RvY3MnXG4gICAgXSk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICBpbnByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZGIuY2hhbmdlcyhjaGFuZ2VzT3B0cykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoYy5zZXEgPiBvcHRzLnNpbmNlICYmICFvcHRzLmNhbmNlbGxlZCkge1xuICAgICAgICBvcHRzLnNpbmNlID0gYy5zZXE7XG4gICAgICAgIG9wdHMub25DaGFuZ2UoYyk7XG4gICAgICB9XG4gICAgfSkub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlucHJvZ3Jlc3MgPT09ICd3YWl0aW5nJykge1xuICAgICAgICBpbW1lZGlhdGUoZXZlbnRGdW5jdGlvbik7XG4gICAgICB9XG4gICAgICBpbnByb2dyZXNzID0gZmFsc2U7XG4gICAgfSkub24oJ2Vycm9yJywgb25FcnJvcik7XG4gIH1cbiAgdGhpcy5fbGlzdGVuZXJzW2lkXSA9IGV2ZW50RnVuY3Rpb247XG4gIHRoaXMub24oZGJOYW1lLCBldmVudEZ1bmN0aW9uKTtcbn07XG5cbkNoYW5nZXMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGRiTmFtZSwgaWQpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghKGlkIGluIHRoaXMuX2xpc3RlbmVycykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgRUUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcywgZGJOYW1lLFxuICAgIHRoaXMuX2xpc3RlbmVyc1tpZF0pO1xuICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2lkXTtcbn07XG5cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbkNoYW5nZXMucHJvdG90eXBlLm5vdGlmeUxvY2FsV2luZG93cyA9IGZ1bmN0aW9uIChkYk5hbWUpIHtcbiAgLy9kbyBhIHVzZWxlc3MgY2hhbmdlIG9uIGEgc3RvcmFnZSB0aGluZ1xuICAvL2luIG9yZGVyIHRvIGdldCBvdGhlciB3aW5kb3dzJ3MgbGlzdGVuZXJzIHRvIGFjdGl2YXRlXG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGxvY2FsU3RvcmFnZVtkYk5hbWVdID0gKGxvY2FsU3RvcmFnZVtkYk5hbWVdID09PSBcImFcIikgPyBcImJcIiA6IFwiYVwiO1xuICB9XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIHRoaXMuZW1pdChkYk5hbWUpO1xuICB0aGlzLm5vdGlmeUxvY2FsV2luZG93cyhkYk5hbWUpO1xufTtcblxuZnVuY3Rpb24gZ3VhcmRlZENvbnNvbGUobWV0aG9kKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGVbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBjb25zb2xlW21ldGhvZF0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmFuZG9tTnVtYmVyKG1pbiwgbWF4KSB7XG4gIHZhciBtYXhUaW1lb3V0ID0gNjAwMDAwOyAvLyBIYXJkLWNvZGVkIGRlZmF1bHQgb2YgMTAgbWludXRlc1xuICBtaW4gPSBwYXJzZUludChtaW4sIDEwKSB8fCAwO1xuICBtYXggPSBwYXJzZUludChtYXgsIDEwKTtcbiAgaWYgKG1heCAhPT0gbWF4IHx8IG1heCA8PSBtaW4pIHtcbiAgICBtYXggPSAobWluIHx8IDEpIDw8IDE7IC8vZG91YmxpbmdcbiAgfSBlbHNlIHtcbiAgICBtYXggPSBtYXggKyAxO1xuICB9XG4gIC8vIEluIG9yZGVyIHRvIG5vdCBleGNlZWQgbWF4VGltZW91dCwgcGljayBhIHJhbmRvbSB2YWx1ZSBiZXR3ZWVuIGhhbGYgb2YgbWF4VGltZW91dCBhbmQgbWF4VGltZW91dFxuICBpZiAobWF4ID4gbWF4VGltZW91dCkge1xuICAgIG1pbiA9IG1heFRpbWVvdXQgPj4gMTsgLy8gZGl2aWRlIGJ5IHR3b1xuICAgIG1heCA9IG1heFRpbWVvdXQ7XG4gIH1cbiAgdmFyIHJhdGlvID0gTWF0aC5yYW5kb20oKTtcbiAgdmFyIHJhbmdlID0gbWF4IC0gbWluO1xuXG4gIHJldHVybiB+fihyYW5nZSAqIHJhdGlvICsgbWluKTsgLy8gfn4gY29lcmNlcyB0byBhbiBpbnQsIGJ1dCBmYXN0LlxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QmFja09mZihtaW4pIHtcbiAgdmFyIG1heCA9IDA7XG4gIGlmICghbWluKSB7XG4gICAgbWF4ID0gMjAwMDtcbiAgfVxuICByZXR1cm4gcmFuZG9tTnVtYmVyKG1pbiwgbWF4KTtcbn1cblxuLy8gZGVzaWduZWQgdG8gZ2l2ZSBpbmZvIHRvIGJyb3dzZXIgdXNlcnMsIHdobyBhcmUgZGlzdHVyYmVkXG4vLyB3aGVuIHRoZXkgc2VlIGh0dHAgZXJyb3JzIGluIHRoZSBjb25zb2xlXG5mdW5jdGlvbiBleHBsYWluRXJyb3Ioc3RhdHVzLCBzdHIpIHtcbiAgZ3VhcmRlZENvbnNvbGUoJ2luZm8nLCAnVGhlIGFib3ZlICcgKyBzdGF0dXMgKyAnIGlzIHRvdGFsbHkgbm9ybWFsLiAnICsgc3RyKTtcbn1cblxudmFyIGFzc2lnbjtcbntcbiAgaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbiAgfSBlbHNlIHtcbiAgICAvLyBsaXRlIE9iamVjdC5hc3NpZ24gcG9seWZpbGwgYmFzZWQgb25cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXG4gICAgYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcblxuICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dFNvdXJjZSkge1xuICAgICAgICAgICAgLy8gQXZvaWQgYnVncyB3aGVuIGhhc093blByb3BlcnR5IGlzIHNoYWRvd2VkXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0bztcbiAgICB9O1xuICB9XG59XG5cbnZhciAkaW5qZWN0X09iamVjdF9hc3NpZ24gPSBhc3NpZ247XG5cbmluaGVyaXRzKFBvdWNoRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gUG91Y2hFcnJvcihzdGF0dXMsIGVycm9yLCByZWFzb24pIHtcbiAgRXJyb3IuY2FsbCh0aGlzLCByZWFzb24pO1xuICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgdGhpcy5uYW1lID0gZXJyb3I7XG4gIHRoaXMubWVzc2FnZSA9IHJlYXNvbjtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG59XG5cblBvdWNoRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgbmFtZTogdGhpcy5uYW1lLFxuICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICByZWFzb246IHRoaXMucmVhc29uXG4gIH0pO1xufTtcblxudmFyIFVOQVVUSE9SSVpFRCA9IG5ldyBQb3VjaEVycm9yKDQwMSwgJ3VuYXV0aG9yaXplZCcsIFwiTmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QuXCIpO1xudmFyIE1JU1NJTkdfQlVMS19ET0NTID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCBcIk1pc3NpbmcgSlNPTiBsaXN0IG9mICdkb2NzJ1wiKTtcbnZhciBNSVNTSU5HX0RPQyA9IG5ldyBQb3VjaEVycm9yKDQwNCwgJ25vdF9mb3VuZCcsICdtaXNzaW5nJyk7XG52YXIgUkVWX0NPTkZMSUNUID0gbmV3IFBvdWNoRXJyb3IoNDA5LCAnY29uZmxpY3QnLCAnRG9jdW1lbnQgdXBkYXRlIGNvbmZsaWN0Jyk7XG52YXIgSU5WQUxJRF9JRCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ19pZCBmaWVsZCBtdXN0IGNvbnRhaW4gYSBzdHJpbmcnKTtcbnZhciBNSVNTSU5HX0lEID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnbWlzc2luZ19pZCcsICdfaWQgaXMgcmVxdWlyZWQgZm9yIHB1dHMnKTtcbnZhciBSRVNFUlZFRF9JRCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ09ubHkgcmVzZXJ2ZWQgZG9jdW1lbnQgaWRzIG1heSBzdGFydCB3aXRoIHVuZGVyc2NvcmUuJyk7XG52YXIgTk9UX09QRU4gPSBuZXcgUG91Y2hFcnJvcig0MTIsICdwcmVjb25kaXRpb25fZmFpbGVkJywgJ0RhdGFiYXNlIG5vdCBvcGVuJyk7XG52YXIgVU5LTk9XTl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ3Vua25vd25fZXJyb3InLCAnRGF0YWJhc2UgZW5jb3VudGVyZWQgYW4gdW5rbm93biBlcnJvcicpO1xudmFyIEJBRF9BUkcgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdiYWRhcmcnLCAnU29tZSBxdWVyeSBhcmd1bWVudCBpcyBpbnZhbGlkJyk7XG52YXIgSU5WQUxJRF9SRVFVRVNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnaW52YWxpZF9yZXF1ZXN0JywgJ1JlcXVlc3Qgd2FzIGludmFsaWQnKTtcbnZhciBRVUVSWV9QQVJTRV9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ3F1ZXJ5X3BhcnNlX2Vycm9yJywgJ1NvbWUgcXVlcnkgcGFyYW1ldGVyIGlzIGludmFsaWQnKTtcbnZhciBET0NfVkFMSURBVElPTiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2RvY192YWxpZGF0aW9uJywgJ0JhZCBzcGVjaWFsIGRvY3VtZW50IG1lbWJlcicpO1xudmFyIEJBRF9SRVFVRVNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnU29tZXRoaW5nIHdyb25nIHdpdGggdGhlIHJlcXVlc3QnKTtcbnZhciBOT1RfQU5fT0JKRUNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnRG9jdW1lbnQgbXVzdCBiZSBhIEpTT04gb2JqZWN0Jyk7XG52YXIgREJfTUlTU0lORyA9IG5ldyBQb3VjaEVycm9yKDQwNCwgJ25vdF9mb3VuZCcsICdEYXRhYmFzZSBub3QgZm91bmQnKTtcbnZhciBJREJfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdpbmRleGVkX2RiX3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBXU1FfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd3ZWJfc3FsX3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBMREJfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdsZXZlbERCX3dlbnRfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIEZPUkJJRERFTiA9IG5ldyBQb3VjaEVycm9yKDQwMywgJ2ZvcmJpZGRlbicsICdGb3JiaWRkZW4gYnkgZGVzaWduIGRvYyB2YWxpZGF0ZV9kb2NfdXBkYXRlIGZ1bmN0aW9uJyk7XG52YXIgSU5WQUxJRF9SRVYgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdJbnZhbGlkIHJldiBmb3JtYXQnKTtcbnZhciBGSUxFX0VYSVNUUyA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ2ZpbGVfZXhpc3RzJywgJ1RoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY3JlYXRlZCwgdGhlIGZpbGUgYWxyZWFkeSBleGlzdHMuJyk7XG52YXIgTUlTU0lOR19TVFVCID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnbWlzc2luZ19zdHViJywgJ0EgcHJlLWV4aXN0aW5nIGF0dGFjaG1lbnQgc3R1YiB3YXNuXFwndCBmb3VuZCcpO1xudmFyIElOVkFMSURfVVJMID0gbmV3IFBvdWNoRXJyb3IoNDEzLCAnaW52YWxpZF91cmwnLCAnUHJvdmlkZWQgVVJMIGlzIGludmFsaWQnKTtcblxuZnVuY3Rpb24gY3JlYXRlRXJyb3IoZXJyb3IsIHJlYXNvbikge1xuICBmdW5jdGlvbiBDdXN0b21Qb3VjaEVycm9yKHJlYXNvbikge1xuICAgIC8vIGluaGVyaXQgZXJyb3IgcHJvcGVydGllcyBmcm9tIG91ciBwYXJlbnQgZXJyb3IgbWFudWFsbHlcbiAgICAvLyBzbyBhcyB0byBhbGxvdyBwcm9wZXIgSlNPTiBwYXJzaW5nLlxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICB2YXIgbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnJvcik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIGVycm9yW25hbWVzW2ldXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzW25hbWVzW2ldXSA9IGVycm9yW25hbWVzW2ldXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgICB9XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIGlmIChyZWFzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgfVxuICB9XG4gIEN1c3RvbVBvdWNoRXJyb3IucHJvdG90eXBlID0gUG91Y2hFcnJvci5wcm90b3R5cGU7XG4gIHJldHVybiBuZXcgQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikge1xuXG4gIGlmICh0eXBlb2YgZXJyICE9PSAnb2JqZWN0Jykge1xuICAgIHZhciBkYXRhID0gZXJyO1xuICAgIGVyciA9IFVOS05PV05fRVJST1I7XG4gICAgZXJyLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgaWYgKCdlcnJvcicgaW4gZXJyICYmIGVyci5lcnJvciA9PT0gJ2NvbmZsaWN0Jykge1xuICAgIGVyci5uYW1lID0gJ2NvbmZsaWN0JztcbiAgICBlcnIuc3RhdHVzID0gNDA5O1xuICB9XG5cbiAgaWYgKCEoJ25hbWUnIGluIGVycikpIHtcbiAgICBlcnIubmFtZSA9IGVyci5lcnJvciB8fCAndW5rbm93bic7XG4gIH1cblxuICBpZiAoISgnc3RhdHVzJyBpbiBlcnIpKSB7XG4gICAgZXJyLnN0YXR1cyA9IDUwMDtcbiAgfVxuXG4gIGlmICghKCdtZXNzYWdlJyBpbiBlcnIpKSB7XG4gICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZSB8fCBlcnIucmVhc29uO1xuICB9XG5cbiAgaWYgKCEoJ3N0YWNrJyBpbiBlcnIpKSB7XG4gICAgZXJyLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHJldHVybiBlcnI7XG59XG5cbmZ1bmN0aW9uIHRyeUZpbHRlcihmaWx0ZXIsIGRvYywgcmVxKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICFmaWx0ZXIoZG9jLCByZXEpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB2YXIgbXNnID0gJ0ZpbHRlciBmdW5jdGlvbiB0aHJldzogJyArIGVyci50b1N0cmluZygpO1xuICAgIHJldHVybiBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCwgbXNnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaWx0ZXJDaGFuZ2Uob3B0cykge1xuICB2YXIgcmVxID0ge307XG4gIHZhciBoYXNGaWx0ZXIgPSBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbic7XG4gIHJlcS5xdWVyeSA9IG9wdHMucXVlcnlfcGFyYW1zO1xuXG4gIHJldHVybiBmdW5jdGlvbiBmaWx0ZXIoY2hhbmdlKSB7XG4gICAgaWYgKCFjaGFuZ2UuZG9jKSB7XG4gICAgICAvLyBDU0cgc2VuZHMgZXZlbnRzIG9uIHRoZSBjaGFuZ2VzIGZlZWQgdGhhdCBkb24ndCBoYXZlIGRvY3VtZW50cyxcbiAgICAgIC8vIHRoaXMgaGFjayBtYWtlcyBhIHdob2xlIGxvdCBvZiBleGlzdGluZyBjb2RlIHJvYnVzdC5cbiAgICAgIGNoYW5nZS5kb2MgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZmlsdGVyUmV0dXJuID0gaGFzRmlsdGVyICYmIHRyeUZpbHRlcihvcHRzLmZpbHRlciwgY2hhbmdlLmRvYywgcmVxKTtcblxuICAgIGlmICh0eXBlb2YgZmlsdGVyUmV0dXJuID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGZpbHRlclJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZmlsdGVyUmV0dXJuKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgZGVsZXRlIGNoYW5nZS5kb2M7XG4gICAgfSBlbHNlIGlmICghb3B0cy5hdHRhY2htZW50cykge1xuICAgICAgZm9yICh2YXIgYXR0IGluIGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY2hhbmdlLmRvYy5fYXR0YWNobWVudHMsIGF0dCkpIHtcbiAgICAgICAgICBjaGFuZ2UuZG9jLl9hdHRhY2htZW50c1thdHRdLnN0dWIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuKGFycnMpIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHJlcyA9IHJlcy5jb25jYXQoYXJyc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gc2hpbSBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUsXG5cbi8vIERldGVybWluZSBpZCBhbiBJRCBpcyB2YWxpZFxuLy8gICAtIGludmFsaWQgSURzIGJlZ2luIHdpdGggYW4gdW5kZXJlc2NvcmUgdGhhdCBkb2VzIG5vdCBiZWdpbiAnX2Rlc2lnbicgb3Jcbi8vICAgICAnX2xvY2FsJ1xuLy8gICAtIGFueSBvdGhlciBzdHJpbmcgdmFsdWUgaXMgYSB2YWxpZCBpZFxuLy8gUmV0dXJucyB0aGUgc3BlY2lmaWMgZXJyb3Igb2JqZWN0IGZvciBlYWNoIGNhc2VcbmZ1bmN0aW9uIGludmFsaWRJZEVycm9yKGlkKSB7XG4gIHZhciBlcnI7XG4gIGlmICghaWQpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0lEKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoSU5WQUxJRF9JRCk7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KGlkKSAmJiAhKC9eXyhkZXNpZ258bG9jYWwpLykudGVzdChpZCkpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihSRVNFUlZFRF9JRCk7XG4gIH1cbiAgaWYgKGVycikge1xuICAgIHRocm93IGVycjtcbiAgfVxufVxuXG4vLyBDaGVja3MgaWYgYSBQb3VjaERCIG9iamVjdCBpcyBcInJlbW90ZVwiIG9yIG5vdC4gVGhpcyBpc1xuXG5mdW5jdGlvbiBpc1JlbW90ZShkYikge1xuICBpZiAodHlwZW9mIGRiLl9yZW1vdGUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBkYi5fcmVtb3RlO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGIudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJyxcbiAgICAgICdkYi50eXBlKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluICcgK1xuICAgICAgJ2EgZnV0dXJlIHZlcnNpb24gb2YgUG91Y2hEQicpO1xuICAgIHJldHVybiBkYi50eXBlKCkgPT09ICdodHRwJztcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZWUsIHR5cGUpIHtcbiAgcmV0dXJuICdsaXN0ZW5lckNvdW50JyBpbiBlZSA/IGVlLmxpc3RlbmVyQ291bnQodHlwZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRUUubGlzdGVuZXJDb3VudChlZSwgdHlwZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgaWYgKCFzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHBhcnRzID0gcy5zcGxpdCgnLycpO1xuICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gW3MsIHNdO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocykge1xuICB2YXIgbm9ybWFsaXplZCA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpO1xuICByZXR1cm4gbm9ybWFsaXplZCA/IG5vcm1hbGl6ZWQuam9pbignLycpIDogbnVsbDtcbn1cblxuLy8gb3JpZ2luYWxseSBwYXJzZVVyaSAxLjIuMiwgbm93IHBhdGNoZWQgYnkgdXNcbi8vIChjKSBTdGV2ZW4gTGV2aXRoYW4gPHN0ZXZlbmxldml0aGFuLmNvbT5cbi8vIE1JVCBMaWNlbnNlXG52YXIga2V5cyA9IFtcInNvdXJjZVwiLCBcInByb3RvY29sXCIsIFwiYXV0aG9yaXR5XCIsIFwidXNlckluZm9cIiwgXCJ1c2VyXCIsIFwicGFzc3dvcmRcIixcbiAgICBcImhvc3RcIiwgXCJwb3J0XCIsIFwicmVsYXRpdmVcIiwgXCJwYXRoXCIsIFwiZGlyZWN0b3J5XCIsIFwiZmlsZVwiLCBcInF1ZXJ5XCIsIFwiYW5jaG9yXCJdO1xudmFyIHFOYW1lID1cInF1ZXJ5S2V5XCI7XG52YXIgcVBhcnNlciA9IC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZztcblxuLy8gdXNlIHRoZSBcImxvb3NlXCIgcGFyc2VyXG4vKiBlc2xpbnQgbm8tdXNlbGVzcy1lc2NhcGU6IDAgKi9cbnZhciBwYXJzZXIgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS87XG5cbmZ1bmN0aW9uIHBhcnNlVXJpKHN0cikge1xuICB2YXIgbSA9IHBhcnNlci5leGVjKHN0cik7XG4gIHZhciB1cmkgPSB7fTtcbiAgdmFyIGkgPSAxNDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIHZhbHVlID0gbVtpXSB8fCBcIlwiO1xuICAgIHZhciBlbmNvZGVkID0gWyd1c2VyJywgJ3Bhc3N3b3JkJ10uaW5kZXhPZihrZXkpICE9PSAtMTtcbiAgICB1cmlba2V5XSA9IGVuY29kZWQgPyBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpIDogdmFsdWU7XG4gIH1cblxuICB1cmlbcU5hbWVdID0ge307XG4gIHVyaVtrZXlzWzEyXV0ucmVwbGFjZShxUGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkge1xuICAgICAgdXJpW3FOYW1lXVskMV0gPSAkMjtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB1cmk7XG59XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGV4ZGF2aWQvc2NvcGUtZXZhbCB2MC4wLjNcbi8vIChzb3VyY2U6IGh0dHBzOi8vdW5wa2cuY29tL3Njb3BlLWV2YWxAMC4wLjMvc2NvcGVfZXZhbC5qcylcbi8vIFRoaXMgaXMgYmFzaWNhbGx5IGp1c3QgYSB3cmFwcGVyIGFyb3VuZCBuZXcgRnVuY3Rpb24oKVxuXG5mdW5jdGlvbiBzY29wZUV2YWwoc291cmNlLCBzY29wZSkge1xuICB2YXIga2V5cyA9IFtdO1xuICB2YXIgdmFsdWVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBzY29wZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2NvcGUsIGtleSkpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgdmFsdWVzLnB1c2goc2NvcGVba2V5XSk7XG4gICAgfVxuICB9XG4gIGtleXMucHVzaChzb3VyY2UpO1xuICByZXR1cm4gRnVuY3Rpb24uYXBwbHkobnVsbCwga2V5cykuYXBwbHkobnVsbCwgdmFsdWVzKTtcbn1cblxuLy8gdGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgXCJ1cGRhdGUgc3VnYXJcIiBmdW5jdGlvbiBmcm9tIGRhbGVoYXJ2ZXkvcG91Y2hkYiMxMzg4XG4vLyB0aGUgZGlmZkZ1biB0ZWxscyB1cyB3aGF0IGRlbHRhIHRvIGFwcGx5IHRvIHRoZSBkb2MuICBpdCBlaXRoZXIgcmV0dXJuc1xuLy8gdGhlIGRvYywgb3IgZmFsc2UgaWYgaXQgZG9lc24ndCBuZWVkIHRvIGRvIGFuIHVwZGF0ZSBhZnRlciBhbGxcbmZ1bmN0aW9uIHVwc2VydChkYiwgZG9jSWQsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLmdldChkb2NJZClcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgLy8gdGhlIHVzZXIgbWlnaHQgY2hhbmdlIHRoZSBfcmV2LCBzbyBzYXZlIGl0IGZvciBwb3N0ZXJpdHlcbiAgICAgIHZhciBkb2NSZXYgPSBkb2MuX3JldjtcbiAgICAgIHZhciBuZXdEb2MgPSBkaWZmRnVuKGRvYyk7XG5cbiAgICAgIGlmICghbmV3RG9jKSB7XG4gICAgICAgIC8vIGlmIHRoZSBkaWZmRnVuIHJldHVybnMgZmFsc3ksIHdlIHNob3J0LWNpcmN1aXQgYXNcbiAgICAgICAgLy8gYW4gb3B0aW1pemF0aW9uXG4gICAgICAgIHJldHVybiB7dXBkYXRlZDogZmFsc2UsIHJldjogZG9jUmV2fTtcbiAgICAgIH1cblxuICAgICAgLy8gdXNlcnMgYXJlbid0IGFsbG93ZWQgdG8gbW9kaWZ5IHRoZXNlIHZhbHVlcyxcbiAgICAgIC8vIHNvIHJlc2V0IHRoZW0gaGVyZVxuICAgICAgbmV3RG9jLl9pZCA9IGRvY0lkO1xuICAgICAgbmV3RG9jLl9yZXYgPSBkb2NSZXY7XG4gICAgICByZXR1cm4gdHJ5QW5kUHV0KGRiLCBuZXdEb2MsIGRpZmZGdW4pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB0cnlBbmRQdXQoZGIsIGRvYywgZGlmZkZ1bikge1xuICByZXR1cm4gZGIucHV0KGRvYykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZWQ6IHRydWUsXG4gICAgICByZXY6IHJlcy5yZXZcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiB1cHNlcnQoZGIsIGRvYy5faWQsIGRpZmZGdW4pO1xuICB9KTtcbn1cblxudmFyIHRoaXNBdG9iID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gYXRvYihzdHIpO1xufTtcblxudmFyIHRoaXNCdG9hID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gYnRvYShzdHIpO1xufTtcblxuLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG4vLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yIChlLmcuXG4vLyBvbGQgUXRXZWJLaXQgdmVyc2lvbnMsIEFuZHJvaWQgPCA0LjQpLlxuZnVuY3Rpb24gY3JlYXRlQmxvYihwYXJ0cywgcHJvcGVydGllcykge1xuICAvKiBnbG9iYWwgQmxvYkJ1aWxkZXIsTVNCbG9iQnVpbGRlcixNb3pCbG9iQnVpbGRlcixXZWJLaXRCbG9iQnVpbGRlciAqL1xuICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEJsb2IocGFydHMsIHByb3BlcnRpZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUubmFtZSAhPT0gXCJUeXBlRXJyb3JcIikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgdmFyIEJ1aWxkZXIgPSB0eXBlb2YgQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1TQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTVNCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICB0eXBlb2YgTW96QmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTW96QmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgV2ViS2l0QmxvYkJ1aWxkZXI7XG4gICAgdmFyIGJ1aWxkZXIgPSBuZXcgQnVpbGRlcigpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGJ1aWxkZXIuYXBwZW5kKHBhcnRzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuICB9XG59XG5cbi8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNDk2NzY0Ny8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vLyBlbmNvZGUtZGVjb2RlLWltYWdlLXdpdGgtYmFzZTY0LWJyZWFrcy1pbWFnZSAoMjAxMy0wNC0yMSlcbmZ1bmN0aW9uIGJpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluKSB7XG4gIHZhciBsZW5ndGggPSBiaW4ubGVuZ3RoO1xuICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShidWYpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIGJ1Zjtcbn1cblxuZnVuY3Rpb24gYmluU3RyaW5nVG9CbHVmZmVyKGJpblN0cmluZywgdHlwZSkge1xuICByZXR1cm4gY3JlYXRlQmxvYihbYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlcihiaW5TdHJpbmcpXSwge3R5cGU6IHR5cGV9KTtcbn1cblxuZnVuY3Rpb24gYjY0VG9CbHVmZmVyKGI2NCwgdHlwZSkge1xuICByZXR1cm4gYmluU3RyaW5nVG9CbHVmZmVyKHRoaXNBdG9iKGI2NCksIHR5cGUpO1xufVxuXG4vL0Nhbid0IGZpbmQgb3JpZ2luYWwgcG9zdCwgYnV0IHRoaXMgaXMgY2xvc2Vcbi8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82OTY1MTA3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vY29udmVydGluZy1iZXR3ZWVuLXN0cmluZ3MtYW5kLWFycmF5YnVmZmVyc1xuZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhidWZmZXIpIHtcbiAgdmFyIGJpbmFyeSA9ICcnO1xuICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICB2YXIgbGVuZ3RoID0gYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgfVxuICByZXR1cm4gYmluYXJ5O1xufVxuXG4vLyBzaGltIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgaXRcbmZ1bmN0aW9uIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iLCBjYWxsYmFjaykge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgdmFyIGhhc0JpbmFyeVN0cmluZyA9IHR5cGVvZiByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nID09PSAnZnVuY3Rpb24nO1xuICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZS50YXJnZXQucmVzdWx0IHx8ICcnO1xuICAgIGlmIChoYXNCaW5hcnlTdHJpbmcpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xuICAgIH1cbiAgICBjYWxsYmFjayhhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKHJlc3VsdCkpO1xuICB9O1xuICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcbiAgfSBlbHNlIHtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgcmVhZEFzQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJpbikge1xuICAgIGNhbGxiYWNrKGJpbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBibG9iVG9CYXNlNjQoYmxvYk9yQnVmZmVyLCBjYWxsYmFjaykge1xuICBibG9iVG9CaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBmdW5jdGlvbiAoYmFzZTY0KSB7XG4gICAgY2FsbGJhY2sodGhpc0J0b2EoYmFzZTY0KSk7XG4gIH0pO1xufVxuXG4vLyBzaW1wbGlmaWVkIEFQSS4gdW5pdmVyc2FsIGJyb3dzZXIgc3VwcG9ydCBpcyBhc3N1bWVkXG5mdW5jdGlvbiByZWFkQXNBcnJheUJ1ZmZlcihibG9iLCBjYWxsYmFjaykge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgY2FsbGJhY2socmVzdWx0KTtcbiAgfTtcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xufVxuXG4vLyB0aGlzIGlzIG5vdCB1c2VkIGluIHRoZSBicm93c2VyXG5cbnZhciBzZXRJbW1lZGlhdGVTaGltID0gc2VsZi5zZXRJbW1lZGlhdGUgfHwgc2VsZi5zZXRUaW1lb3V0O1xudmFyIE1ENV9DSFVOS19TSVpFID0gMzI3Njg7XG5cbmZ1bmN0aW9uIHJhd1RvQmFzZTY0KHJhdykge1xuICByZXR1cm4gdGhpc0J0b2EocmF3KTtcbn1cblxuZnVuY3Rpb24gc2xpY2VCbG9iKGJsb2IsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKGJsb2Iud2Via2l0U2xpY2UpIHtcbiAgICByZXR1cm4gYmxvYi53ZWJraXRTbGljZShzdGFydCwgZW5kKTtcbiAgfVxuICByZXR1cm4gYmxvYi5zbGljZShzdGFydCwgZW5kKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kQmxvYihidWZmZXIsIGJsb2IsIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKSB7XG4gIGlmIChzdGFydCA+IDAgfHwgZW5kIDwgYmxvYi5zaXplKSB7XG4gICAgLy8gb25seSBzbGljZSBibG9iIGlmIHdlIHJlYWxseSBuZWVkIHRvXG4gICAgYmxvYiA9IHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKTtcbiAgfVxuICByZWFkQXNBcnJheUJ1ZmZlcihibG9iLCBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgICBidWZmZXIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kU3RyaW5nKGJ1ZmZlciwgc3RyaW5nLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICAvLyBvbmx5IGNyZWF0ZSBhIHN1YnN0cmluZyBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gIH1cbiAgYnVmZmVyLmFwcGVuZEJpbmFyeShzdHJpbmcpO1xuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBiaW5hcnlNZDUoZGF0YSwgY2FsbGJhY2spIHtcbiAgdmFyIGlucHV0SXNTdHJpbmcgPSB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZyc7XG4gIHZhciBsZW4gPSBpbnB1dElzU3RyaW5nID8gZGF0YS5sZW5ndGggOiBkYXRhLnNpemU7XG4gIHZhciBjaHVua1NpemUgPSBNYXRoLm1pbihNRDVfQ0hVTktfU0laRSwgbGVuKTtcbiAgdmFyIGNodW5rcyA9IE1hdGguY2VpbChsZW4gLyBjaHVua1NpemUpO1xuICB2YXIgY3VycmVudENodW5rID0gMDtcbiAgdmFyIGJ1ZmZlciA9IGlucHV0SXNTdHJpbmcgPyBuZXcgTWQ1KCkgOiBuZXcgTWQ1LkFycmF5QnVmZmVyKCk7XG5cbiAgdmFyIGFwcGVuZCA9IGlucHV0SXNTdHJpbmcgPyBhcHBlbmRTdHJpbmcgOiBhcHBlbmRCbG9iO1xuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgc2V0SW1tZWRpYXRlU2hpbShsb2FkTmV4dENodW5rKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgdmFyIHJhdyA9IGJ1ZmZlci5lbmQodHJ1ZSk7XG4gICAgdmFyIGJhc2U2NCA9IHJhd1RvQmFzZTY0KHJhdyk7XG4gICAgY2FsbGJhY2soYmFzZTY0KTtcbiAgICBidWZmZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZE5leHRDaHVuaygpIHtcbiAgICB2YXIgc3RhcnQgPSBjdXJyZW50Q2h1bmsgKiBjaHVua1NpemU7XG4gICAgdmFyIGVuZCA9IHN0YXJ0ICsgY2h1bmtTaXplO1xuICAgIGN1cnJlbnRDaHVuaysrO1xuICAgIGlmIChjdXJyZW50Q2h1bmsgPCBjaHVua3MpIHtcbiAgICAgIGFwcGVuZChidWZmZXIsIGRhdGEsIHN0YXJ0LCBlbmQsIG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBkb25lKTtcbiAgICB9XG4gIH1cbiAgbG9hZE5leHRDaHVuaygpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdNZDUoc3RyaW5nKSB7XG4gIHJldHVybiBNZDUuaGFzaChzdHJpbmcpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcmV2aXNpb24gc3RyaW5nIHRoYXQgZG9lcyBOT1QgaW5jbHVkZSB0aGUgcmV2aXNpb24gaGVpZ2h0XG4gKiBGb3IgZXhhbXBsZSAnNTY2NDlmMWIwNTA2YzZjYTlmZGEwNzQ2ZWIwY2FjZGYnXG4gKi9cbmZ1bmN0aW9uIHJldiQkMShkb2MsIGRldGVybWluaXN0aWNfcmV2cykge1xuICBpZiAoIWRldGVybWluaXN0aWNfcmV2cykge1xuICAgIHJldHVybiB2NCgpLnJlcGxhY2UoLy0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICB2YXIgbXV0YXRlYWJsZURvYyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgZG9jKTtcbiAgZGVsZXRlIG11dGF0ZWFibGVEb2MuX3Jldl90cmVlO1xuICByZXR1cm4gc3RyaW5nTWQ1KEpTT04uc3RyaW5naWZ5KG11dGF0ZWFibGVEb2MpKTtcbn1cblxudmFyIHV1aWQgPSB2NDsgLy8gbWltaWMgb2xkIGltcG9ydCwgb25seSB2NCBpcyBldmVyIHVzZWQgZWxzZXdoZXJlXG5cbi8vIFdlIGZldGNoIGFsbCBsZWFmcyBvZiB0aGUgcmV2aXNpb24gdHJlZSwgYW5kIHNvcnQgdGhlbSBiYXNlZCBvbiB0cmVlIGxlbmd0aFxuLy8gYW5kIHdoZXRoZXIgdGhleSB3ZXJlIGRlbGV0ZWQsIHVuZGVsZXRlZCBkb2N1bWVudHMgd2l0aCB0aGUgbG9uZ2VzdCByZXZpc2lvblxuLy8gdHJlZSAobW9zdCBlZGl0cykgd2luXG4vLyBUaGUgZmluYWwgc29ydCBhbGdvcml0aG0gaXMgc2xpZ2h0bHkgZG9jdW1lbnRlZCBpbiBhIHNpZGViYXIgaGVyZTpcbi8vIGh0dHA6Ly9ndWlkZS5jb3VjaGRiLm9yZy9kcmFmdC9jb25mbGljdHMuaHRtbFxuZnVuY3Rpb24gd2lubmluZ1JldihtZXRhZGF0YSkge1xuICB2YXIgd2lubmluZ0lkO1xuICB2YXIgd2lubmluZ1BvcztcbiAgdmFyIHdpbm5pbmdEZWxldGVkO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgaWYgKGJyYW5jaGVzLmxlbmd0aCkgeyAvLyBub24tbGVhZlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGRlbGV0ZWQgPSAhIXRyZWVbMV0uZGVsZXRlZDtcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIC8vIHNvcnQgYnkgZGVsZXRlZCwgdGhlbiBwb3MsIHRoZW4gaWRcbiAgICBpZiAoIXdpbm5pbmdJZCB8fCAod2lubmluZ0RlbGV0ZWQgIT09IGRlbGV0ZWQgPyB3aW5uaW5nRGVsZXRlZCA6XG4gICAgICAgIHdpbm5pbmdQb3MgIT09IHBvcyA/IHdpbm5pbmdQb3MgPCBwb3MgOiB3aW5uaW5nSWQgPCBpZCkpIHtcbiAgICAgIHdpbm5pbmdJZCA9IGlkO1xuICAgICAgd2lubmluZ1BvcyA9IHBvcztcbiAgICAgIHdpbm5pbmdEZWxldGVkID0gZGVsZXRlZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gd2lubmluZ1BvcyArICctJyArIHdpbm5pbmdJZDtcbn1cblxuLy8gUHJldHR5IG11Y2ggYWxsIGJlbG93IGNhbiBiZSBjb21iaW5lZCBpbnRvIGEgaGlnaGVyIG9yZGVyIGZ1bmN0aW9uIHRvXG4vLyB0cmF2ZXJzZSByZXZpc2lvbnNcbi8vIFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgY2FsbGJhY2sgd2lsbCBiZSBwYXNzZWQgYXMgY29udGV4dCB0byBhbGxcbi8vIGNoaWxkcmVuIG9mIHRoYXQgbm9kZVxuZnVuY3Rpb24gdHJhdmVyc2VSZXZUcmVlKHJldnMsIGNhbGxiYWNrKSB7XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuXG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIG5ld0N0eCA9XG4gICAgICBjYWxsYmFjayhicmFuY2hlcy5sZW5ndGggPT09IDAsIHBvcywgdHJlZVswXSwgbm9kZS5jdHgsIHRyZWVbMV0pO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV0sIGN0eDogbmV3Q3R4fSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyhhLCBiKSB7XG4gIHJldHVybiBhLnBvcyAtIGIucG9zO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0TGVhdmVzKHJldnMpIHtcbiAgdmFyIGxlYXZlcyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUocmV2cywgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCBpZCwgYWNjLCBvcHRzKSB7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgbGVhdmVzLnB1c2goe3JldjogcG9zICsgXCItXCIgKyBpZCwgcG9zOiBwb3MsIG9wdHM6IG9wdHN9KTtcbiAgICB9XG4gIH0pO1xuICBsZWF2ZXMuc29ydChzb3J0QnlQb3MpLnJldmVyc2UoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxlYXZlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGRlbGV0ZSBsZWF2ZXNbaV0ucG9zO1xuICB9XG4gIHJldHVybiBsZWF2ZXM7XG59XG5cbi8vIHJldHVybnMgcmV2cyBvZiBhbGwgY29uZmxpY3RzIHRoYXQgaXMgbGVhdmVzIHN1Y2ggdGhhdFxuLy8gMS4gYXJlIG5vdCBkZWxldGVkIGFuZFxuLy8gMi4gYXJlIGRpZmZlcmVudCB0aGFuIHdpbm5pbmcgcmV2aXNpb25cbmZ1bmN0aW9uIGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpIHtcbiAgdmFyIHdpbiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB2YXIgbGVhdmVzID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSk7XG4gIHZhciBjb25mbGljdHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxlYXZlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBsZWFmID0gbGVhdmVzW2ldO1xuICAgIGlmIChsZWFmLnJldiAhPT0gd2luICYmICFsZWFmLm9wdHMuZGVsZXRlZCkge1xuICAgICAgY29uZmxpY3RzLnB1c2gobGVhZi5yZXYpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZmxpY3RzO1xufVxuXG4vLyBjb21wYWN0IGEgdHJlZSBieSBtYXJraW5nIGl0cyBub24tbGVhZnMgYXMgbWlzc2luZyxcbi8vIGFuZCByZXR1cm4gYSBsaXN0IG9mIHJldnMgdG8gZGVsZXRlXG5mdW5jdGlvbiBjb21wYWN0VHJlZShtZXRhZGF0YSkge1xuICB2YXIgcmV2cyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUobWV0YWRhdGEucmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiAhaXNMZWFmKSB7XG4gICAgICByZXZzLnB1c2gocG9zICsgJy0nICsgcmV2SGFzaCk7XG4gICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV2cztcbn1cblxuLy8gYnVpbGQgdXAgYSBsaXN0IG9mIGFsbCB0aGUgcGF0aHMgdG8gdGhlIGxlYWZzIGluIHRoaXMgcmV2aXNpb24gdHJlZVxuZnVuY3Rpb24gcm9vdFRvTGVhZihyZXZzKSB7XG4gIHZhciBwYXRocyA9IFtdO1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICB2YXIgb3B0cyA9IHRyZWVbMV07XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgaXNMZWFmID0gYnJhbmNoZXMubGVuZ3RoID09PSAwO1xuXG4gICAgdmFyIGhpc3RvcnkgPSBub2RlLmhpc3RvcnkgPyBub2RlLmhpc3Rvcnkuc2xpY2UoKSA6IFtdO1xuICAgIGhpc3RvcnkucHVzaCh7aWQ6IGlkLCBvcHRzOiBvcHRzfSk7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgcGF0aHMucHVzaCh7cG9zOiAocG9zICsgMSAtIGhpc3RvcnkubGVuZ3RoKSwgaWRzOiBoaXN0b3J5fSk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhdGhzLnJldmVyc2UoKTtcbn1cblxuLy8gZm9yIGEgYmV0dGVyIG92ZXJ2aWV3IG9mIHdoYXQgdGhpcyBpcyBkb2luZywgcmVhZDpcblxuZnVuY3Rpb24gc29ydEJ5UG9zJDEoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuLy8gY2xhc3NpYyBiaW5hcnkgc2VhcmNoXG5mdW5jdGlvbiBiaW5hcnlTZWFyY2goYXJyLCBpdGVtLCBjb21wYXJhdG9yKSB7XG4gIHZhciBsb3cgPSAwO1xuICB2YXIgaGlnaCA9IGFyci5sZW5ndGg7XG4gIHZhciBtaWQ7XG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgIGlmIChjb21wYXJhdG9yKGFyclttaWRdLCBpdGVtKSA8IDApIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3c7XG59XG5cbi8vIGFzc3VtaW5nIHRoZSBhcnIgaXMgc29ydGVkLCBpbnNlcnQgdGhlIGl0ZW0gaW4gdGhlIHByb3BlciBwbGFjZVxuZnVuY3Rpb24gaW5zZXJ0U29ydGVkKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgaWR4ID0gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcik7XG4gIGFyci5zcGxpY2UoaWR4LCAwLCBpdGVtKTtcbn1cblxuLy8gVHVybiBhIHBhdGggYXMgYSBmbGF0IGFycmF5IGludG8gYSB0cmVlIHdpdGggYSBzaW5nbGUgYnJhbmNoLlxuLy8gSWYgYW55IHNob3VsZCBiZSBzdGVtbWVkIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXksIHRoYXQncyBwYXNzZWRcbi8vIGluIGFzIHRoZSBzZWNvbmQgYXJndW1lbnRcbmZ1bmN0aW9uIHBhdGhUb1RyZWUocGF0aCwgbnVtU3RlbW1lZCkge1xuICB2YXIgcm9vdDtcbiAgdmFyIGxlYWY7XG4gIGZvciAodmFyIGkgPSBudW1TdGVtbWVkLCBsZW4gPSBwYXRoLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIG5vZGUgPSBwYXRoW2ldO1xuICAgIHZhciBjdXJyZW50TGVhZiA9IFtub2RlLmlkLCBub2RlLm9wdHMsIFtdXTtcbiAgICBpZiAobGVhZikge1xuICAgICAgbGVhZlsyXS5wdXNoKGN1cnJlbnRMZWFmKTtcbiAgICAgIGxlYWYgPSBjdXJyZW50TGVhZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdCA9IGxlYWYgPSBjdXJyZW50TGVhZjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8vIGNvbXBhcmUgdGhlIElEcyBvZiB0d28gdHJlZXNcbmZ1bmN0aW9uIGNvbXBhcmVUcmVlKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPCBiWzBdID8gLTEgOiAxO1xufVxuXG4vLyBNZXJnZSB0d28gdHJlZXMgdG9nZXRoZXJcbi8vIFRoZSByb290cyBvZiB0cmVlMSBhbmQgdHJlZTIgbXVzdCBiZSB0aGUgc2FtZSByZXZpc2lvblxuZnVuY3Rpb24gbWVyZ2VUcmVlKGluX3RyZWUxLCBpbl90cmVlMikge1xuICB2YXIgcXVldWUgPSBbe3RyZWUxOiBpbl90cmVlMSwgdHJlZTI6IGluX3RyZWUyfV07XG4gIHZhciBjb25mbGljdHMgPSBmYWxzZTtcbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgIHZhciB0cmVlMSA9IGl0ZW0udHJlZTE7XG4gICAgdmFyIHRyZWUyID0gaXRlbS50cmVlMjtcblxuICAgIGlmICh0cmVlMVsxXS5zdGF0dXMgfHwgdHJlZTJbMV0uc3RhdHVzKSB7XG4gICAgICB0cmVlMVsxXS5zdGF0dXMgPVxuICAgICAgICAodHJlZTFbMV0uc3RhdHVzID09PSAgJ2F2YWlsYWJsZScgfHxcbiAgICAgICAgdHJlZTJbMV0uc3RhdHVzID09PSAnYXZhaWxhYmxlJykgPyAnYXZhaWxhYmxlJyA6ICdtaXNzaW5nJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWUyWzJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRyZWUxWzJdWzBdKSB7XG4gICAgICAgIGNvbmZsaWN0cyA9ICduZXdfbGVhZic7XG4gICAgICAgIHRyZWUxWzJdWzBdID0gdHJlZTJbMl1baV07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyZWUxWzJdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh0cmVlMVsyXVtqXVswXSA9PT0gdHJlZTJbMl1baV1bMF0pIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHt0cmVlMTogdHJlZTFbMl1bal0sIHRyZWUyOiB0cmVlMlsyXVtpXX0pO1xuICAgICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghbWVyZ2VkKSB7XG4gICAgICAgIGNvbmZsaWN0cyA9ICduZXdfYnJhbmNoJztcbiAgICAgICAgaW5zZXJ0U29ydGVkKHRyZWUxWzJdLCB0cmVlMlsyXVtpXSwgY29tcGFyZVRyZWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge2NvbmZsaWN0czogY29uZmxpY3RzLCB0cmVlOiBpbl90cmVlMX07XG59XG5cbmZ1bmN0aW9uIGRvTWVyZ2UodHJlZSwgcGF0aCwgZG9udEV4cGFuZCkge1xuICB2YXIgcmVzdHJlZSA9IFtdO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHZhciBtZXJnZWQgPSBmYWxzZTtcbiAgdmFyIHJlcztcblxuICBpZiAoIXRyZWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHt0cmVlOiBbcGF0aF0sIGNvbmZsaWN0czogJ25ld19sZWFmJ307XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdHJlZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBicmFuY2ggPSB0cmVlW2ldO1xuICAgIGlmIChicmFuY2gucG9zID09PSBwYXRoLnBvcyAmJiBicmFuY2guaWRzWzBdID09PSBwYXRoLmlkc1swXSkge1xuICAgICAgLy8gUGF0aHMgc3RhcnQgYXQgdGhlIHNhbWUgcG9zaXRpb24gYW5kIGhhdmUgdGhlIHNhbWUgcm9vdCwgc28gdGhleSBuZWVkXG4gICAgICAvLyBtZXJnZWRcbiAgICAgIHJlcyA9IG1lcmdlVHJlZShicmFuY2guaWRzLCBwYXRoLmlkcyk7XG4gICAgICByZXN0cmVlLnB1c2goe3BvczogYnJhbmNoLnBvcywgaWRzOiByZXMudHJlZX0pO1xuICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICBtZXJnZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZG9udEV4cGFuZCAhPT0gdHJ1ZSkge1xuICAgICAgLy8gVGhlIHBhdGhzIHN0YXJ0IGF0IGEgZGlmZmVyZW50IHBvc2l0aW9uLCB0YWtlIHRoZSBlYXJsaWVzdCBwYXRoIGFuZFxuICAgICAgLy8gdHJhdmVyc2UgdXAgdW50aWwgaXQgYXMgYXQgdGhlIHNhbWUgcG9pbnQgZnJvbSByb290IGFzIHRoZSBwYXRoIHdlXG4gICAgICAvLyB3YW50IHRvIG1lcmdlLiAgSWYgdGhlIGtleXMgbWF0Y2ggd2UgcmV0dXJuIHRoZSBsb25nZXIgcGF0aCB3aXRoIHRoZVxuICAgICAgLy8gb3RoZXIgbWVyZ2VkIEFmdGVyIHN0ZW1taW5nIHdlIGRvbnQgd2FudCB0byBleHBhbmQgdGhlIHRyZWVzXG5cbiAgICAgIHZhciB0MSA9IGJyYW5jaC5wb3MgPCBwYXRoLnBvcyA/IGJyYW5jaCA6IHBhdGg7XG4gICAgICB2YXIgdDIgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBwYXRoIDogYnJhbmNoO1xuICAgICAgdmFyIGRpZmYgPSB0Mi5wb3MgLSB0MS5wb3M7XG5cbiAgICAgIHZhciBjYW5kaWRhdGVQYXJlbnRzID0gW107XG5cbiAgICAgIHZhciB0cmVlcyA9IFtdO1xuICAgICAgdHJlZXMucHVzaCh7aWRzOiB0MS5pZHMsIGRpZmY6IGRpZmYsIHBhcmVudDogbnVsbCwgcGFyZW50SWR4OiBudWxsfSk7XG4gICAgICB3aGlsZSAodHJlZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVzLnBvcCgpO1xuICAgICAgICBpZiAoaXRlbS5kaWZmID09PSAwKSB7XG4gICAgICAgICAgaWYgKGl0ZW0uaWRzWzBdID09PSB0Mi5pZHNbMF0pIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZVBhcmVudHMucHVzaChpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gaXRlbS5pZHNbMl07XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBlbGVtZW50c0xlbiA9IGVsZW1lbnRzLmxlbmd0aDsgaiA8IGVsZW1lbnRzTGVuOyBqKyspIHtcbiAgICAgICAgICB0cmVlcy5wdXNoKHtcbiAgICAgICAgICAgIGlkczogZWxlbWVudHNbal0sXG4gICAgICAgICAgICBkaWZmOiBpdGVtLmRpZmYgLSAxLFxuICAgICAgICAgICAgcGFyZW50OiBpdGVtLmlkcyxcbiAgICAgICAgICAgIHBhcmVudElkeDogalxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IGNhbmRpZGF0ZVBhcmVudHNbMF07XG5cbiAgICAgIGlmICghZWwpIHtcbiAgICAgICAgcmVzdHJlZS5wdXNoKGJyYW5jaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBtZXJnZVRyZWUoZWwuaWRzLCB0Mi5pZHMpO1xuICAgICAgICBlbC5wYXJlbnRbMl1bZWwucGFyZW50SWR4XSA9IHJlcy50cmVlO1xuICAgICAgICByZXN0cmVlLnB1c2goe3BvczogdDEucG9zLCBpZHM6IHQxLmlkc30pO1xuICAgICAgICBjb25mbGljdHMgPSBjb25mbGljdHMgfHwgcmVzLmNvbmZsaWN0cztcbiAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdHJlZS5wdXNoKGJyYW5jaCk7XG4gICAgfVxuICB9XG5cbiAgLy8gV2UgZGlkbnQgZmluZFxuICBpZiAoIW1lcmdlZCkge1xuICAgIHJlc3RyZWUucHVzaChwYXRoKTtcbiAgfVxuXG4gIHJlc3RyZWUuc29ydChzb3J0QnlQb3MkMSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0cmVlOiByZXN0cmVlLFxuICAgIGNvbmZsaWN0czogY29uZmxpY3RzIHx8ICdpbnRlcm5hbF9ub2RlJ1xuICB9O1xufVxuXG4vLyBUbyBlbnN1cmUgd2UgZG9udCBncm93IHRoZSByZXZpc2lvbiB0cmVlIGluZmluaXRlbHksIHdlIHN0ZW0gb2xkIHJldmlzaW9uc1xuZnVuY3Rpb24gc3RlbSh0cmVlLCBkZXB0aCkge1xuICAvLyBGaXJzdCB3ZSBicmVhayBvdXQgdGhlIHRyZWUgaW50byBhIGNvbXBsZXRlIGxpc3Qgb2Ygcm9vdCB0byBsZWFmIHBhdGhzXG4gIHZhciBwYXRocyA9IHJvb3RUb0xlYWYodHJlZSk7XG4gIHZhciBzdGVtbWVkUmV2cztcblxuICB2YXIgcmVzdWx0O1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBUaGVuIGZvciBlYWNoIHBhdGgsIHdlIGN1dCBvZmYgdGhlIHN0YXJ0IG9mIHRoZSBwYXRoIGJhc2VkIG9uIHRoZVxuICAgIC8vIGBkZXB0aGAgdG8gc3RlbSB0bywgYW5kIGdlbmVyYXRlIGEgbmV3IHNldCBvZiBmbGF0IHRyZWVzXG4gICAgdmFyIHBhdGggPSBwYXRoc1tpXTtcbiAgICB2YXIgc3RlbW1lZCA9IHBhdGguaWRzO1xuICAgIHZhciBub2RlO1xuICAgIGlmIChzdGVtbWVkLmxlbmd0aCA+IGRlcHRoKSB7XG4gICAgICAvLyBvbmx5IGRvIHRoZSBzdGVtbWluZyB3b3JrIGlmIHdlIGFjdHVhbGx5IG5lZWQgdG8gc3RlbVxuICAgICAgaWYgKCFzdGVtbWVkUmV2cykge1xuICAgICAgICBzdGVtbWVkUmV2cyA9IHt9OyAvLyBhdm9pZCBhbGxvY2F0aW5nIHRoaXMgb2JqZWN0IHVubmVjZXNzYXJpbHlcbiAgICAgIH1cbiAgICAgIHZhciBudW1TdGVtbWVkID0gc3RlbW1lZC5sZW5ndGggLSBkZXB0aDtcbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MgKyBudW1TdGVtbWVkLFxuICAgICAgICBpZHM6IHBhdGhUb1RyZWUoc3RlbW1lZCwgbnVtU3RlbW1lZClcbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgbnVtU3RlbW1lZDsgcysrKSB7XG4gICAgICAgIHZhciByZXYgPSAocGF0aC5wb3MgKyBzKSArICctJyArIHN0ZW1tZWRbc10uaWQ7XG4gICAgICAgIHN0ZW1tZWRSZXZzW3Jldl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG5vIG5lZWQgdG8gYWN0dWFsbHkgc3RlbVxuICAgICAgbm9kZSA9IHtcbiAgICAgICAgcG9zOiBwYXRoLnBvcyxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIDApXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFRoZW4gd2UgcmVtZXJnZSBhbGwgdGhvc2UgZmxhdCB0cmVlcyB0b2dldGhlciwgZW5zdXJpbmcgdGhhdCB3ZSBkb250XG4gICAgLy8gY29ubmVjdCB0cmVlcyB0aGF0IHdvdWxkIGdvIGJleW9uZCB0aGUgZGVwdGggbGltaXRcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSBkb01lcmdlKHJlc3VsdCwgbm9kZSwgdHJ1ZSkudHJlZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gW25vZGVdO1xuICAgIH1cbiAgfVxuXG4gIC8vIHRoaXMgaXMgbWVtb3J5LWhlYXZ5IHBlciBDaHJvbWUgcHJvZmlsZXIsIGF2b2lkIHVubGVzcyB3ZSBhY3R1YWxseSBzdGVtbWVkXG4gIGlmIChzdGVtbWVkUmV2cykge1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXN1bHQsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCkge1xuICAgICAgLy8gc29tZSByZXZpc2lvbnMgbWF5IGhhdmUgYmVlbiByZW1vdmVkIGluIGEgYnJhbmNoIGJ1dCBub3QgaW4gYW5vdGhlclxuICAgICAgZGVsZXRlIHN0ZW1tZWRSZXZzW3BvcyArICctJyArIHJldkhhc2hdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0cmVlOiByZXN1bHQsXG4gICAgcmV2czogc3RlbW1lZFJldnMgPyBPYmplY3Qua2V5cyhzdGVtbWVkUmV2cykgOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZSh0cmVlLCBwYXRoLCBkZXB0aCkge1xuICB2YXIgbmV3VHJlZSA9IGRvTWVyZ2UodHJlZSwgcGF0aCk7XG4gIHZhciBzdGVtbWVkID0gc3RlbShuZXdUcmVlLnRyZWUsIGRlcHRoKTtcbiAgcmV0dXJuIHtcbiAgICB0cmVlOiBzdGVtbWVkLnRyZWUsXG4gICAgc3RlbW1lZFJldnM6IHN0ZW1tZWQucmV2cyxcbiAgICBjb25mbGljdHM6IG5ld1RyZWUuY29uZmxpY3RzXG4gIH07XG59XG5cbi8vIHJldHVybiB0cnVlIGlmIGEgcmV2IGV4aXN0cyBpbiB0aGUgcmV2IHRyZWUsIGZhbHNlIG90aGVyd2lzZVxuZnVuY3Rpb24gcmV2RXhpc3RzKHJldnMsIHJldikge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcbiAgdmFyIHNwbGl0UmV2ID0gcmV2LnNwbGl0KCctJyk7XG4gIHZhciB0YXJnZXRQb3MgPSBwYXJzZUludChzcGxpdFJldlswXSwgMTApO1xuICB2YXIgdGFyZ2V0SWQgPSBzcGxpdFJldlsxXTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICBpZiAobm9kZS5wb3MgPT09IHRhcmdldFBvcyAmJiBub2RlLmlkc1swXSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgYnJhbmNoZXMgPSBub2RlLmlkc1syXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBub2RlLnBvcyArIDEsIGlkczogYnJhbmNoZXNbaV19KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRUcmVlcyhub2RlKSB7XG4gIHJldHVybiBub2RlLmlkcztcbn1cblxuLy8gY2hlY2sgaWYgYSBzcGVjaWZpYyByZXZpc2lvbiBvZiBhIGRvYyBoYXMgYmVlbiBkZWxldGVkXG4vLyAgLSBtZXRhZGF0YTogdGhlIG1ldGFkYXRhIG9iamVjdCBmcm9tIHRoZSBkb2Mgc3RvcmVcbi8vICAtIHJldjogKG9wdGlvbmFsKSB0aGUgcmV2aXNpb24gdG8gY2hlY2suIGRlZmF1bHRzIHRvIHdpbm5pbmcgcmV2aXNpb25cbmZ1bmN0aW9uIGlzRGVsZXRlZChtZXRhZGF0YSwgcmV2KSB7XG4gIGlmICghcmV2KSB7XG4gICAgcmV2ID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gIH1cbiAgdmFyIGlkID0gcmV2LnN1YnN0cmluZyhyZXYuaW5kZXhPZignLScpICsgMSk7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUubWFwKGdldFRyZWVzKTtcblxuICB2YXIgdHJlZTtcbiAgd2hpbGUgKCh0cmVlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICBpZiAodHJlZVswXSA9PT0gaWQpIHtcbiAgICAgIHJldHVybiAhIXRyZWVbMV0uZGVsZXRlZDtcbiAgICB9XG4gICAgdG9WaXNpdCA9IHRvVmlzaXQuY29uY2F0KHRyZWVbMl0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWxJZChpZCkge1xuICByZXR1cm4gKC9eX2xvY2FsLykudGVzdChpZCk7XG59XG5cbi8vIHJldHVybnMgdGhlIGN1cnJlbnQgbGVhZiBub2RlIGZvciBhIGdpdmVuIHJldmlzaW9uXG5mdW5jdGlvbiBsYXRlc3QocmV2LCBtZXRhZGF0YSkge1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgcG9zOiBwb3MsIG9wdHM6IG9wdHN9KTtcblxuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBoaXN0b3J5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoaXN0b3J5Tm9kZSA9IGhpc3RvcnlbaV07XG4gICAgICAgIHZhciBoaXN0b3J5UmV2ID0gaGlzdG9yeU5vZGUucG9zICsgJy0nICsgaGlzdG9yeU5vZGUuaWQ7XG5cbiAgICAgICAgaWYgKGhpc3RvcnlSZXYgPT09IHJldikge1xuICAgICAgICAgIC8vIHJldHVybiB0aGUgcmV2IG9mIHRoaXMgbGVhZlxuICAgICAgICAgIHJldHVybiBwb3MgKyAnLScgKyBpZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwLCBsID0gYnJhbmNoZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tqXSwgaGlzdG9yeTogaGlzdG9yeX0pO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgbGF0ZXN0IHJldmlzaW9uIGZvciBpZCAnICsgbWV0YWRhdGEuaWQgKyAnLCByZXYgJyArIHJldik7XG59XG5cbmluaGVyaXRzKENoYW5nZXMkMSwgRUUpO1xuXG5mdW5jdGlvbiB0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIoc2VsZiwgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gIC8vIGlzb2xhdGUgdHJ5L2NhdGNoZXMgdG8gYXZvaWQgVjggZGVvcHRpbWl6YXRpb25zXG4gIHRyeSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgJ0Vycm9yIGluIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbik6JywgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gQ2hhbmdlcyQxKGRiLCBvcHRzLCBjYWxsYmFjaykge1xuICBFRS5jYWxsKHRoaXMpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuZGIgPSBkYjtcbiAgb3B0cyA9IG9wdHMgPyBjbG9uZShvcHRzKSA6IHt9O1xuICB2YXIgY29tcGxldGUgPSBvcHRzLmNvbXBsZXRlID0gb25jZShmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgaWYgKGxpc3RlbmVyQ291bnQoc2VsZiwgJ2Vycm9yJykgPiAwKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgcmVzcCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgZGIucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIH0pO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBzZWxmLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXNwKTtcbiAgICB9KTtcbiAgICBzZWxmLm9uKCdlcnJvcicsIGNhbGxiYWNrKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgfVxuICBkYi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuXG4gIG9wdHMub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSk7XG4gIH07XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgb3B0cy5jb21wbGV0ZSA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZ1bGZpbGwocmVzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgc2VsZi5vbmNlKCdjYW5jZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgZGIucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgb3B0cy5jb21wbGV0ZShudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICB9KTtcbiAgdGhpcy50aGVuID0gcHJvbWlzZS50aGVuLmJpbmQocHJvbWlzZSk7XG4gIHRoaXNbJ2NhdGNoJ10gPSBwcm9taXNlWydjYXRjaCddLmJpbmQocHJvbWlzZSk7XG4gIHRoaXMudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgY29tcGxldGUobnVsbCwgcmVzdWx0KTtcbiAgfSwgY29tcGxldGUpO1xuXG5cblxuICBpZiAoIWRiLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgZGIudGFza3F1ZXVlLmFkZFRhc2soZnVuY3Rpb24gKGZhaWxlZCkge1xuICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGZhaWxlZCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgc2VsZi5lbWl0KCdjYW5jZWwnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYudmFsaWRhdGVDaGFuZ2VzKG9wdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYudmFsaWRhdGVDaGFuZ2VzKG9wdHMpO1xuICB9XG59XG5DaGFuZ2VzJDEucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pc0NhbmNlbGxlZCA9IHRydWU7XG4gIGlmICh0aGlzLmRiLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgdGhpcy5lbWl0KCdjYW5jZWwnKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDaGFuZ2UoZG9jLCBtZXRhZGF0YSwgb3B0cykge1xuICB2YXIgY2hhbmdlTGlzdCA9IFt7cmV2OiBkb2MuX3Jldn1dO1xuICBpZiAob3B0cy5zdHlsZSA9PT0gJ2FsbF9kb2NzJykge1xuICAgIGNoYW5nZUxpc3QgPSBjb2xsZWN0TGVhdmVzKG1ldGFkYXRhLnJldl90cmVlKVxuICAgIC5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHtyZXY6IHgucmV2fTsgfSk7XG4gIH1cbiAgdmFyIGNoYW5nZSA9IHtcbiAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgY2hhbmdlczogY2hhbmdlTGlzdCxcbiAgICBkb2M6IGRvY1xuICB9O1xuXG4gIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgIGNoYW5nZS5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICBjaGFuZ2UuZG9jLl9jb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICBpZiAoIWNoYW5nZS5kb2MuX2NvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jLl9jb25mbGljdHM7XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGFuZ2U7XG59XG5cbkNoYW5nZXMkMS5wcm90b3R5cGUudmFsaWRhdGVDaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luKSB7XG4gICAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi52YWxpZGF0ZShvcHRzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gIH1cbn07XG5cbkNoYW5nZXMkMS5wcm90b3R5cGUuZG9DaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuXG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgaWYgKCdsaXZlJyBpbiBvcHRzICYmICEoJ2NvbnRpbnVvdXMnIGluIG9wdHMpKSB7XG4gICAgb3B0cy5jb250aW51b3VzID0gb3B0cy5saXZlO1xuICB9XG4gIG9wdHMucHJvY2Vzc0NoYW5nZSA9IHByb2Nlc3NDaGFuZ2U7XG5cbiAgaWYgKG9wdHMuc2luY2UgPT09ICdsYXRlc3QnKSB7XG4gICAgb3B0cy5zaW5jZSA9ICdub3cnO1xuICB9XG4gIGlmICghb3B0cy5zaW5jZSkge1xuICAgIG9wdHMuc2luY2UgPSAwO1xuICB9XG4gIGlmIChvcHRzLnNpbmNlID09PSAnbm93Jykge1xuICAgIHRoaXMuZGIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3B0cy5zaW5jZSA9IGluZm8udXBkYXRlX3NlcTtcbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0sIGNhbGxiYWNrKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4ubm9ybWFsaXplKG9wdHMpO1xuICAgIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLnNob3VsZEZpbHRlcih0aGlzLCBvcHRzKSkge1xuICAgICAgcmV0dXJuIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uZmlsdGVyKHRoaXMsIG9wdHMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBbJ2RvY19pZHMnLCAnZmlsdGVyJywgJ3NlbGVjdG9yJywgJ3ZpZXcnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChrZXkgaW4gb3B0cykge1xuICAgICAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAgICAgJ1RoZSBcIicgKyBrZXkgKyAnXCIgb3B0aW9uIHdhcyBwYXNzZWQgaW4gdG8gY2hhbmdlcy9yZXBsaWNhdGUsICcgK1xuICAgICAgICAgICdidXQgcG91Y2hkYi1jaGFuZ2VzLWZpbHRlciBwbHVnaW4gaXMgbm90IGluc3RhbGxlZCwgc28gaXQgJyArXG4gICAgICAgICAgJ3dhcyBpZ25vcmVkLiBQbGVhc2UgaW5zdGFsbCB0aGUgcGx1Z2luIHRvIGVuYWJsZSBmaWx0ZXJpbmcuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCEoJ2Rlc2NlbmRpbmcnIGluIG9wdHMpKSB7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cblxuICAvLyAwIGFuZCAxIHNob3VsZCByZXR1cm4gMSBkb2N1bWVudFxuICBvcHRzLmxpbWl0ID0gb3B0cy5saW1pdCA9PT0gMCA/IDEgOiBvcHRzLmxpbWl0O1xuICBvcHRzLmNvbXBsZXRlID0gY2FsbGJhY2s7XG4gIHZhciBuZXdQcm9taXNlID0gdGhpcy5kYi5fY2hhbmdlcyhvcHRzKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG5ld1Byb21pc2UgJiYgdHlwZW9mIG5ld1Byb21pc2UuY2FuY2VsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGNhbmNlbCA9IHNlbGYuY2FuY2VsO1xuICAgIHNlbGYuY2FuY2VsID0gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICBuZXdQcm9taXNlLmNhbmNlbCgpO1xuICAgICAgY2FuY2VsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKlxuICogQSBnZW5lcmljIHBvdWNoIGFkYXB0ZXJcbiAqL1xuXG5mdW5jdGlvbiBjb21wYXJlKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPiByaWdodCA/IDEgOiAwO1xufVxuXG4vLyBXcmFwcGVyIGZvciBmdW5jdGlvbnMgdGhhdCBjYWxsIHRoZSBidWxrZG9jcyBhcGkgd2l0aCBhIHNpbmdsZSBkb2MsXG4vLyBpZiB0aGUgZmlyc3QgcmVzdWx0IGlzIGFuIGVycm9yLCByZXR1cm4gYW4gZXJyb3JcbmZ1bmN0aW9uIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jSWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICBpZiAoZXJyIHx8IChyZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uZXJyb3IpKSB7XG4gICAgICBlcnIgPSBlcnIgfHwgcmVzdWx0c1swXTtcbiAgICAgIGVyci5kb2NJZCA9IGRvY0lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cy5sZW5ndGggPyByZXN1bHRzWzBdICA6IHJlc3VsdHMpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gY2xlYW4gZG9jcyBnaXZlbiB0byB1cyBieSB0aGUgdXNlclxuZnVuY3Rpb24gY2xlYW5Eb2NzKGRvY3MpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2NzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRvYyA9IGRvY3NbaV07XG4gICAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgICAgZGVsZXRlIGRvYy5fYXR0YWNobWVudHM7IC8vIGlnbm9yZSBhdHRzIGZvciBkZWxldGVkIGRvY3NcbiAgICB9IGVsc2UgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIC8vIGZpbHRlciBvdXQgZXh0cmFuZW91cyBrZXlzIGZyb20gX2F0dGFjaG1lbnRzXG4gICAgICB2YXIgYXR0cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhdHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2pdO1xuICAgICAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSBwaWNrKGRvYy5fYXR0YWNobWVudHNbYXR0XSxcbiAgICAgICAgICBbJ2RhdGEnLCAnZGlnZXN0JywgJ2NvbnRlbnRfdHlwZScsICdsZW5ndGgnLCAncmV2cG9zJywgJ3N0dWInXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIGNvbXBhcmUgdHdvIGRvY3MsIGZpcnN0IGJ5IF9pZCB0aGVuIGJ5IF9yZXZcbmZ1bmN0aW9uIGNvbXBhcmVCeUlkVGhlblJldihhLCBiKSB7XG4gIHZhciBpZENvbXBhcmUgPSBjb21wYXJlKGEuX2lkLCBiLl9pZCk7XG4gIGlmIChpZENvbXBhcmUgIT09IDApIHtcbiAgICByZXR1cm4gaWRDb21wYXJlO1xuICB9XG4gIHZhciBhU3RhcnQgPSBhLl9yZXZpc2lvbnMgPyBhLl9yZXZpc2lvbnMuc3RhcnQgOiAwO1xuICB2YXIgYlN0YXJ0ID0gYi5fcmV2aXNpb25zID8gYi5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgcmV0dXJuIGNvbXBhcmUoYVN0YXJ0LCBiU3RhcnQpO1xufVxuXG4vLyBmb3IgZXZlcnkgbm9kZSBpbiBhIHJldmlzaW9uIHRyZWUgY29tcHV0ZXMgaXRzIGRpc3RhbmNlIGZyb20gdGhlIGNsb3Nlc3Rcbi8vIGxlYWZcbmZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQocmV2cykge1xuICB2YXIgaGVpZ2h0ID0ge307XG4gIHZhciBlZGdlcyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUocmV2cywgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCBpZCwgcHJudCkge1xuICAgIHZhciByZXYgPSBwb3MgKyBcIi1cIiArIGlkO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGhlaWdodFtyZXZdID0gMDtcbiAgICB9XG4gICAgaWYgKHBybnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWRnZXMucHVzaCh7ZnJvbTogcHJudCwgdG86IHJldn0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xuICB9KTtcblxuICBlZGdlcy5yZXZlcnNlKCk7XG4gIGVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICBpZiAoaGVpZ2h0W2VkZ2UuZnJvbV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSAxICsgaGVpZ2h0W2VkZ2UudG9dO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHRbZWRnZS5mcm9tXSA9IE1hdGgubWluKGhlaWdodFtlZGdlLmZyb21dLCAxICsgaGVpZ2h0W2VkZ2UudG9dKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaGVpZ2h0O1xufVxuXG5mdW5jdGlvbiBhbGxEb2NzS2V5c1BhcnNlKG9wdHMpIHtcbiAgdmFyIGtleXMgPSAgKCdsaW1pdCcgaW4gb3B0cykgP1xuICAgIG9wdHMua2V5cy5zbGljZShvcHRzLnNraXAsIG9wdHMubGltaXQgKyBvcHRzLnNraXApIDpcbiAgICAob3B0cy5za2lwID4gMCkgPyBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwKSA6IG9wdHMua2V5cztcbiAgb3B0cy5rZXlzID0ga2V5cztcbiAgb3B0cy5za2lwID0gMDtcbiAgZGVsZXRlIG9wdHMubGltaXQ7XG4gIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICBrZXlzLnJldmVyc2UoKTtcbiAgICBvcHRzLmRlc2NlbmRpbmcgPSBmYWxzZTtcbiAgfVxufVxuXG4vLyBhbGwgY29tcGFjdGlvbiBpcyBkb25lIGluIGEgcXVldWUsIHRvIGF2b2lkIGF0dGFjaGluZ1xuLy8gdG9vIG1hbnkgbGlzdGVuZXJzIGF0IG9uY2VcbmZ1bmN0aW9uIGRvTmV4dENvbXBhY3Rpb24oc2VsZikge1xuICB2YXIgdGFzayA9IHNlbGYuX2NvbXBhY3Rpb25RdWV1ZVswXTtcbiAgdmFyIG9wdHMgPSB0YXNrLm9wdHM7XG4gIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gIHNlbGYuZ2V0KCdfbG9jYWwvY29tcGFjdGlvbicpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MgJiYgZG9jLmxhc3Rfc2VxKSB7XG4gICAgICBvcHRzLmxhc3Rfc2VxID0gZG9jLmxhc3Rfc2VxO1xuICAgIH1cbiAgICBzZWxmLl9jb21wYWN0KG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgfVxuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5fY29tcGFjdGlvblF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChzZWxmLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgZG9OZXh0Q29tcGFjdGlvbihzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpIHtcbiAgaWYgKG5hbWUuY2hhckF0KDApID09PSAnXycpIHtcbiAgICByZXR1cm4gbmFtZSArICcgaXMgbm90IGEgdmFsaWQgYXR0YWNobWVudCBuYW1lLCBhdHRhY2htZW50ICcgK1xuICAgICAgJ25hbWVzIGNhbm5vdCBzdGFydCB3aXRoIFxcJ19cXCcnO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuaW5oZXJpdHMoQWJzdHJhY3RQb3VjaERCLCBFRSk7XG5cbmZ1bmN0aW9uIEFic3RyYWN0UG91Y2hEQigpIHtcbiAgRUUuY2FsbCh0aGlzKTtcblxuICAvLyByZS1iaW5kIHByb3RvdHlwZWQgbWV0aG9kc1xuICBmb3IgKHZhciBwIGluIEFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUpIHtcbiAgICBpZiAodHlwZW9mIHRoaXNbcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbcF0gPSB0aGlzW3BdLmJpbmQodGhpcyk7XG4gICAgfVxuICB9XG59XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucG9zdCA9XG4gIGFkYXB0ZXJGdW4oJ3Bvc3QnLCBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgZG9jICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGRvYykpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICB9XG4gIHRoaXMuYnVsa0RvY3Moe2RvY3M6IFtkb2NdfSwgb3B0cywgeWFua0Vycm9yKGNhbGxiYWNrLCBkb2MuX2lkKSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wdXQgPSBhZGFwdGVyRnVuKCdwdXQnLCBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgZG9jICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGRvYykpIHtcbiAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICB9XG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuICBpZiAoaXNMb2NhbElkKGRvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9wdXRMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3B1dExvY2FsKGRvYywgY2IpO1xuICAgIH1cbiAgfVxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChvcHRzLmZvcmNlICYmIGRvYy5fcmV2KSB7XG4gICAgdHJhbnNmb3JtRm9yY2VPcHRpb25Ub05ld0VkaXRzT3B0aW9uKCk7XG4gICAgcHV0RG9jKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBlcnIgPyBudWxsIDoge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICBjYihlcnIsIHJlc3VsdCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHV0RG9jKGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpIHtcbiAgICB2YXIgcGFydHMgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgIHZhciBvbGRSZXZJZCA9IHBhcnRzWzFdO1xuICAgIHZhciBvbGRSZXZOdW0gPSBwYXJzZUludChwYXJ0c1swXSwgMTApO1xuXG4gICAgdmFyIG5ld1Jldk51bSA9IG9sZFJldk51bSArIDE7XG4gICAgdmFyIG5ld1JldklkID0gcmV2JCQxKCk7XG5cbiAgICBkb2MuX3JldmlzaW9ucyA9IHtcbiAgICAgIHN0YXJ0OiBuZXdSZXZOdW0sXG4gICAgICBpZHM6IFtuZXdSZXZJZCwgb2xkUmV2SWRdXG4gICAgfTtcbiAgICBkb2MuX3JldiA9IG5ld1Jldk51bSArICctJyArIG5ld1JldklkO1xuICAgIG9wdHMubmV3X2VkaXRzID0gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gcHV0RG9jKG5leHQpIHtcbiAgICBpZiAodHlwZW9mIHNlbGYuX3B1dCA9PT0gJ2Z1bmN0aW9uJyAmJiBvcHRzLm5ld19lZGl0cyAhPT0gZmFsc2UpIHtcbiAgICAgIHNlbGYuX3B1dChkb2MsIG9wdHMsIG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihuZXh0LCBkb2MuX2lkKSk7XG4gICAgfVxuICB9XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wdXRBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bigncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiwgdHlwZSkge1xuICB2YXIgYXBpID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIC8vIExldHMgZml4IGluIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3VjaGRiL3BvdWNoZGIvaXNzdWVzLzMyNjdcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0eXBlID0gYmxvYjtcbiAgICBibG9iID0gcmV2O1xuICAgIHJldiA9IG51bGw7XG4gIH1cbiAgaWYgKCF0eXBlKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIGF0dGFjaG1lbnRJZCwgJ29uIGRvY3VtZW50JywgZG9jSWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXR0YWNobWVudChkb2MpIHtcbiAgICB2YXIgcHJldnJldnBvcyA9ICdfcmV2JyBpbiBkb2MgPyBwYXJzZUludChkb2MuX3JldiwgMTApIDogMDtcbiAgICBkb2MuX2F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyB8fCB7fTtcbiAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0gPSB7XG4gICAgICBjb250ZW50X3R5cGU6IHR5cGUsXG4gICAgICBkYXRhOiBibG9iLFxuICAgICAgcmV2cG9zOiArK3ByZXZyZXZwb3NcbiAgICB9O1xuICAgIHJldHVybiBhcGkucHV0KGRvYyk7XG4gIH1cblxuICByZXR1cm4gYXBpLmdldChkb2NJZCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYy5fcmV2ICE9PSByZXYpIHtcbiAgICAgIHRocm93IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAvLyBjcmVhdGUgbmV3IGRvY1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGVyci5yZWFzb24gPT09IE1JU1NJTkdfRE9DLm1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KHtfaWQ6IGRvY0lkfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVtb3ZlQXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgc2VsZi5nZXQoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIG9iaikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvYmouX3JldiAhPT0gcmV2KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFvYmouX2F0dGFjaG1lbnRzKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXTtcbiAgICBpZiAoT2JqZWN0LmtleXMob2JqLl9hdHRhY2htZW50cykubGVuZ3RoID09PSAwKSB7XG4gICAgICBkZWxldGUgb2JqLl9hdHRhY2htZW50cztcbiAgICB9XG4gICAgc2VsZi5wdXQob2JqLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVtb3ZlID1cbiAgYWRhcHRlckZ1bigncmVtb3ZlJywgZnVuY3Rpb24gKGRvY09ySWQsIG9wdHNPclJldiwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIGRvYztcbiAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gaWQsIHJldiwgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICBkb2MgPSB7XG4gICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICBfcmV2OiBvcHRzT3JSZXZcbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkb2MsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0gZG9jT3JJZDtcbiAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzT3JSZXY7XG4gICAgICBvcHRzID0ge307XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgfVxuICB9XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBvcHRzLndhc19kZWxldGUgPSB0cnVlO1xuICB2YXIgbmV3RG9jID0ge19pZDogZG9jLl9pZCwgX3JldjogKGRvYy5fcmV2IHx8IG9wdHMucmV2KX07XG4gIG5ld0RvYy5fZGVsZXRlZCA9IHRydWU7XG4gIGlmIChpc0xvY2FsSWQobmV3RG9jLl9pZCkgJiYgdHlwZW9mIHRoaXMuX3JlbW92ZUxvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbW92ZUxvY2FsKGRvYywgY2FsbGJhY2spO1xuICB9XG4gIHRoaXMuYnVsa0RvY3Moe2RvY3M6IFtuZXdEb2NdfSwgb3B0cywgeWFua0Vycm9yKGNhbGxiYWNrLCBuZXdEb2MuX2lkKSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZXZzRGlmZiA9XG4gIGFkYXB0ZXJGdW4oJ3JldnNEaWZmJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICB2YXIgaWRzID0gT2JqZWN0LmtleXMocmVxKTtcblxuICBpZiAoIWlkcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge30pO1xuICB9XG5cbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIG1pc3NpbmcgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICBmdW5jdGlvbiBhZGRUb01pc3NpbmcoaWQsIHJldklkKSB7XG4gICAgaWYgKCFtaXNzaW5nLmhhcyhpZCkpIHtcbiAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogW119KTtcbiAgICB9XG4gICAgbWlzc2luZy5nZXQoaWQpLm1pc3NpbmcucHVzaChyZXZJZCk7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSkge1xuICAgIC8vIElzIHRoaXMgZmFzdCBlbm91Z2g/IE1heWJlIHdlIHNob3VsZCBzd2l0Y2ggdG8gYSBzZXQgc2ltdWxhdGVkIGJ5IGEgbWFwXG4gICAgdmFyIG1pc3NpbmdGb3JJZCA9IHJlcVtpZF0uc2xpY2UoMCk7XG4gICAgdHJhdmVyc2VSZXZUcmVlKHJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gsIGN0eCxcbiAgICAgIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIHZhciBpZHggPSBtaXNzaW5nRm9ySWQuaW5kZXhPZihyZXYpO1xuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1pc3NpbmdGb3JJZC5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChvcHRzLnN0YXR1cyAhPT0gJ2F2YWlsYWJsZScpIHtcbiAgICAgICAgICBhZGRUb01pc3NpbmcoaWQsIHJldik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gVHJhdmVyc2luZyB0aGUgdHJlZSBpcyBzeW5jaHJvbm91cywgc28gbm93IGBtaXNzaW5nRm9ySWRgIGNvbnRhaW5zXG4gICAgLy8gcmV2aXNpb25zIHRoYXQgd2VyZSBub3QgZm91bmQgaW4gdGhlIHRyZWVcbiAgICBtaXNzaW5nRm9ySWQuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBhZGRUb01pc3NpbmcoaWQsIHJldik7XG4gICAgfSk7XG4gIH1cblxuICBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgIHRoaXMuX2dldFJldmlzaW9uVHJlZShpZCwgZnVuY3Rpb24gKGVyciwgcmV2X3RyZWUpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyA9PT0gNDA0ICYmIGVyci5tZXNzYWdlID09PSAnbWlzc2luZycpIHtcbiAgICAgICAgbWlzc2luZy5zZXQoaWQsIHttaXNzaW5nOiByZXFbaWRdfSk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3NEb2MoaWQsIHJldl90cmVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCsrY291bnQgPT09IGlkcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gY29udmVydCBMYXp5TWFwIHRvIG9iamVjdFxuICAgICAgICB2YXIgbWlzc2luZ09iaiA9IHt9O1xuICAgICAgICBtaXNzaW5nLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBtaXNzaW5nT2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBtaXNzaW5nT2JqKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgdGhpcyk7XG59KTtcblxuLy8gX2J1bGtfZ2V0IEFQSSBmb3IgZmFzdGVyIHJlcGxpY2F0aW9uLCBhcyBkZXNjcmliZWQgaW5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY291Y2hkYi1jaHR0cGQvcHVsbC8zM1xuLy8gQXQgdGhlIFwiYWJzdHJhY3RcIiBsZXZlbCwgaXQgd2lsbCBqdXN0IHJ1biBtdWx0aXBsZSBnZXQoKXMgaW5cbi8vIHBhcmFsbGVsLCBiZWNhdXNlIHRoaXMgaXNuJ3QgbXVjaCBvZiBhIHBlcmZvcm1hbmNlIGNvc3Rcbi8vIGZvciBsb2NhbCBkYXRhYmFzZXMgKGV4Y2VwdCB0aGUgY29zdCBvZiBtdWx0aXBsZSB0cmFuc2FjdGlvbnMsIHdoaWNoIGlzXG4vLyBzbWFsbCkuIFRoZSBodHRwIGFkYXB0ZXIgb3ZlcnJpZGVzIHRoaXMgaW4gb3JkZXJcbi8vIHRvIGRvIGEgbW9yZSBlZmZpY2llbnQgc2luZ2xlIEhUVFAgcmVxdWVzdC5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYnVsa0dldCA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtHZXQnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgYnVsa0dldCh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuLy8gY29tcGFjdCBvbmUgZG9jdW1lbnQgYW5kIGZpcmUgY2FsbGJhY2tcbi8vIGJ5IGNvbXBhY3Rpbmcgd2UgbWVhbiByZW1vdmluZyBhbGwgcmV2aXNpb25zIHdoaWNoXG4vLyBhcmUgZnVydGhlciBmcm9tIHRoZSBsZWFmIGluIHJldmlzaW9uIHRyZWUgdGhhbiBtYXhfaGVpZ2h0XG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNvbXBhY3REb2N1bWVudCA9XG4gIGFkYXB0ZXJGdW4oJ2NvbXBhY3REb2N1bWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgbWF4SGVpZ2h0LCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2dldFJldmlzaW9uVHJlZShkb2NJZCwgZnVuY3Rpb24gKGVyciwgcmV2VHJlZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICB2YXIgaGVpZ2h0ID0gY29tcHV0ZUhlaWdodChyZXZUcmVlKTtcbiAgICB2YXIgY2FuZGlkYXRlcyA9IFtdO1xuICAgIHZhciByZXZzID0gW107XG4gICAgT2JqZWN0LmtleXMoaGVpZ2h0KS5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgIGlmIChoZWlnaHRbcmV2XSA+IG1heEhlaWdodCkge1xuICAgICAgICBjYW5kaWRhdGVzLnB1c2gocmV2KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZUcmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICBpZiAob3B0cy5zdGF0dXMgPT09ICdhdmFpbGFibGUnICYmIGNhbmRpZGF0ZXMuaW5kZXhPZihyZXYpICE9PSAtMSkge1xuICAgICAgICByZXZzLnB1c2gocmV2KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxmLl9kb0NvbXBhY3Rpb24oZG9jSWQsIHJldnMsIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuLy8gY29tcGFjdCB0aGUgd2hvbGUgZGF0YWJhc2UgdXNpbmcgc2luZ2xlIGRvY3VtZW50XG4vLyBjb21wYWN0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNvbXBhY3QgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZSA9IHNlbGYuX2NvbXBhY3Rpb25RdWV1ZSB8fCBbXTtcbiAgc2VsZi5fY29tcGFjdGlvblF1ZXVlLnB1c2goe29wdHM6IG9wdHMsIGNhbGxiYWNrOiBjYWxsYmFja30pO1xuICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gIH1cbn0pO1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5fY29tcGFjdCA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBjaGFuZ2VzT3B0cyA9IHtcbiAgICByZXR1cm5fZG9jczogZmFsc2UsXG4gICAgbGFzdF9zZXE6IG9wdHMubGFzdF9zZXEgfHwgMFxuICB9O1xuICB2YXIgcHJvbWlzZXMgPSBbXTtcblxuICBmdW5jdGlvbiBvbkNoYW5nZShyb3cpIHtcbiAgICBwcm9taXNlcy5wdXNoKHNlbGYuY29tcGFjdERvY3VtZW50KHJvdy5pZCwgMCkpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ29tcGxldGUocmVzcCkge1xuICAgIHZhciBsYXN0U2VxID0gcmVzcC5sYXN0X3NlcTtcbiAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBzZXJ0KHNlbGYsICdfbG9jYWwvY29tcGFjdGlvbicsIGZ1bmN0aW9uIGRlbHRhRnVuYyhkb2MpIHtcbiAgICAgICAgaWYgKCFkb2MubGFzdF9zZXEgfHwgZG9jLmxhc3Rfc2VxIDwgbGFzdFNlcSkge1xuICAgICAgICAgIGRvYy5sYXN0X3NlcSA9IGxhc3RTZXE7XG4gICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHNvbWVib2R5IGVsc2UgZ290IGhlcmUgZmlyc3QsIGRvbid0IHVwZGF0ZVxuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH1cbiAgc2VsZi5jaGFuZ2VzKGNoYW5nZXNPcHRzKVxuICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpXG4gICAgLm9uKCdjb21wbGV0ZScsIG9uQ29tcGxldGUpXG4gICAgLm9uKCdlcnJvcicsIGNhbGxiYWNrKTtcbn07XG5cbi8qIEJlZ2luIGFwaSB3cmFwcGVycy4gU3BlY2lmaWMgZnVuY3Rpb25hbGl0eSB0byBzdG9yYWdlIGJlbG9uZ3MgaW4gdGhlXG4gICBfW21ldGhvZF0gKi9cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZ2V0ID0gYWRhcHRlckZ1bignZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKElOVkFMSURfSUQpKTtcbiAgfVxuICBpZiAoaXNMb2NhbElkKGlkKSAmJiB0eXBlb2YgdGhpcy5fZ2V0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0TG9jYWwoaWQsIGNiKTtcbiAgfVxuICB2YXIgbGVhdmVzID0gW10sIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGZpbmlzaE9wZW5SZXZzKCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgY291bnQgPSBsZWF2ZXMubGVuZ3RoO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY291bnQpIHtcbiAgICAgIHJldHVybiBjYihudWxsLCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8vIG9yZGVyIHdpdGggb3Blbl9yZXZzIGlzIHVuc3BlY2lmaWVkXG4gICAgbGVhdmVzLmZvckVhY2goZnVuY3Rpb24gKGxlYWYpIHtcbiAgICAgIHNlbGYuZ2V0KGlkLCB7XG4gICAgICAgIHJldjogbGVhZixcbiAgICAgICAgcmV2czogb3B0cy5yZXZzLFxuICAgICAgICBsYXRlc3Q6IG9wdHMubGF0ZXN0LFxuICAgICAgICBhdHRhY2htZW50czogb3B0cy5hdHRhY2htZW50cyxcbiAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeVxuICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZG9jKSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgLy8gdXNpbmcgbGF0ZXN0PXRydWUgY2FuIHByb2R1Y2UgZHVwbGljYXRlc1xuICAgICAgICAgIHZhciBleGlzdGluZztcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJlc3VsdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbaV0ub2sgJiYgcmVzdWx0W2ldLm9rLl9yZXYgPT09IGRvYy5fcmV2KSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtvazogZG9jfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHttaXNzaW5nOiBsZWFmfSk7XG4gICAgICAgIH1cbiAgICAgICAgY291bnQtLTtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIGNiKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgaWYgKG9wdHMub3Blbl9yZXZzID09PSBcImFsbFwiKSB7XG4gICAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgbGVhdmVzID0gY29sbGVjdExlYXZlcyhyZXZfdHJlZSkubWFwKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICAgICAgcmV0dXJuIGxlYWYucmV2O1xuICAgICAgICB9KTtcbiAgICAgICAgZmluaXNoT3BlblJldnMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRzLm9wZW5fcmV2cykpIHtcbiAgICAgICAgbGVhdmVzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVhdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGwgPSBsZWF2ZXNbaV07XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSBpdCdzIHRoZSBvbmx5IHRoaW5nIGNvdWNoZGIgY2hlY2tzXG4gICAgICAgICAgaWYgKCEodHlwZW9mIChsKSA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcZCstLy50ZXN0KGwpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKElOVkFMSURfUkVWKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoVU5LTk9XTl9FUlJPUiwgJ2Z1bmN0aW9uX2NsYXVzZScpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuOyAvLyBvcGVuX3JldnMgZG9lcyBub3QgbGlrZSBvdGhlciBvcHRpb25zXG4gIH1cblxuICByZXR1cm4gdGhpcy5fZ2V0KGlkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnIuZG9jSWQgPSBpZDtcbiAgICAgIHJldHVybiBjYihlcnIpO1xuICAgIH1cblxuICAgIHZhciBkb2MgPSByZXN1bHQuZG9jO1xuICAgIHZhciBtZXRhZGF0YSA9IHJlc3VsdC5tZXRhZGF0YTtcbiAgICB2YXIgY3R4ID0gcmVzdWx0LmN0eDtcblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgdmFyIGNvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgICAgZG9jLl9jb25mbGljdHMgPSBjb25mbGljdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzRGVsZXRlZChtZXRhZGF0YSwgZG9jLl9yZXYpKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldnMgfHwgb3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHZhciBzcGxpdHRlZFJldiA9IGRvYy5fcmV2LnNwbGl0KCctJyk7XG4gICAgICB2YXIgcmV2Tm8gICAgICAgPSBwYXJzZUludChzcGxpdHRlZFJldlswXSwgMTApO1xuICAgICAgdmFyIHJldkhhc2ggICAgID0gc3BsaXR0ZWRSZXZbMV07XG5cbiAgICAgIHZhciBwYXRocyA9IHJvb3RUb0xlYWYobWV0YWRhdGEucmV2X3RyZWUpO1xuICAgICAgdmFyIHBhdGggPSBudWxsO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHBhdGhzW2ldO1xuICAgICAgICB2YXIgaGFzaEluZGV4ID0gY3VycmVudFBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgICAuaW5kZXhPZihyZXZIYXNoKTtcbiAgICAgICAgdmFyIGhhc2hGb3VuZEF0UmV2UG9zID0gaGFzaEluZGV4ID09PSAocmV2Tm8gLSAxKTtcblxuICAgICAgICBpZiAoaGFzaEZvdW5kQXRSZXZQb3MgfHwgKCFwYXRoICYmIGhhc2hJbmRleCAhPT0gLTEpKSB7XG4gICAgICAgICAgcGF0aCA9IGN1cnJlbnRQYXRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcignaW52YWxpZCByZXYgdHJlZScpO1xuICAgICAgICBlcnIuZG9jSWQgPSBpZDtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleE9mUmV2ID0gcGF0aC5pZHMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KVxuICAgICAgICAuaW5kZXhPZihkb2MuX3Jldi5zcGxpdCgnLScpWzFdKSArIDE7XG4gICAgICB2YXIgaG93TWFueSA9IHBhdGguaWRzLmxlbmd0aCAtIGluZGV4T2ZSZXY7XG4gICAgICBwYXRoLmlkcy5zcGxpY2UoaW5kZXhPZlJldiwgaG93TWFueSk7XG4gICAgICBwYXRoLmlkcy5yZXZlcnNlKCk7XG5cbiAgICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICAgICAgc3RhcnQ6IChwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aCkgLSAxLFxuICAgICAgICAgIGlkczogcGF0aC5pZHMubWFwKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgICAgICAgIHJldHVybiByZXYuaWQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLnJldnNfaW5mbykge1xuICAgICAgICB2YXIgcG9zID0gIHBhdGgucG9zICsgcGF0aC5pZHMubGVuZ3RoO1xuICAgICAgICBkb2MuX3JldnNfaW5mbyA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgcG9zLS07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJldjogcG9zICsgJy0nICsgcmV2LmlkLFxuICAgICAgICAgICAgc3RhdHVzOiByZXYub3B0cy5zdGF0dXNcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGNvdW50ID0gT2JqZWN0LmtleXMoYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gY2IobnVsbCwgZG9jKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5fZ2V0QXR0YWNobWVudChkb2MuX2lkLCBrZXksIGF0dGFjaG1lbnRzW2tleV0sIHtcbiAgICAgICAgICAvLyBQcmV2aW91c2x5IHRoZSByZXZpc2lvbiBoYW5kbGluZyB3YXMgZG9uZSBpbiBhZGFwdGVyLmpzXG4gICAgICAgICAgLy8gZ2V0QXR0YWNobWVudCwgaG93ZXZlciBzaW5jZSBpZGItbmV4dCBkb2VzbnQgd2UgbmVlZCB0b1xuICAgICAgICAgIC8vIHBhc3MgdGhlIHJldiB0aHJvdWdoXG4gICAgICAgICAgcmV2OiBkb2MuX3JldixcbiAgICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5LFxuICAgICAgICAgIGN0eDogY3R4XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1trZXldO1xuICAgICAgICAgIGF0dC5kYXRhID0gZGF0YTtcbiAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKCEtLWNvdW50KSB7XG4gICAgICAgICAgICBjYihudWxsLCBkb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCBzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jLl9hdHRhY2htZW50cywga2V5KSkge1xuICAgICAgICAgICAgZG9jLl9hdHRhY2htZW50c1trZXldLnN0dWIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIFRPRE86IEkgZG9udCBsaWtlIHRoaXMsIGl0IGZvcmNlcyBhbiBleHRyYSByZWFkIGZvciBldmVyeVxuLy8gYXR0YWNobWVudCByZWFkIGFuZCBlbmZvcmNlcyBhIGNvbmZ1c2luZyBhcGkgYmV0d2VlblxuLy8gYWRhcHRlci5qcyBhbmQgdGhlIGFkYXB0ZXIgaW1wbGVtZW50YXRpb25cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZ2V0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICB0aGlzLl9nZXQoZG9jSWQsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBpZiAocmVzLmRvYy5fYXR0YWNobWVudHMgJiYgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSkge1xuICAgICAgb3B0cy5jdHggPSByZXMuY3R4O1xuICAgICAgb3B0cy5iaW5hcnkgPSB0cnVlO1xuICAgICAgc2VsZi5fZ2V0QXR0YWNobWVudChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5hbGxEb2NzID1cbiAgYWRhcHRlckZ1bignYWxsRG9jcycsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIG9wdHMuc2tpcCA9IHR5cGVvZiBvcHRzLnNraXAgIT09ICd1bmRlZmluZWQnID8gb3B0cy5za2lwIDogMDtcbiAgaWYgKG9wdHMuc3RhcnRfa2V5KSB7XG4gICAgb3B0cy5zdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICB9XG4gIGlmIChvcHRzLmVuZF9rZXkpIHtcbiAgICBvcHRzLmVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgfVxuICBpZiAoJ2tleXMnIGluIG9wdHMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0cy5rZXlzKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBUeXBlRXJyb3IoJ29wdGlvbnMua2V5cyBtdXN0IGJlIGFuIGFycmF5JykpO1xuICAgIH1cbiAgICB2YXIgaW5jb21wYXRpYmxlT3B0ID1cbiAgICAgIFsnc3RhcnRrZXknLCAnZW5ka2V5JywgJ2tleSddLmZpbHRlcihmdW5jdGlvbiAoaW5jb21wYXRpYmxlT3B0KSB7XG4gICAgICByZXR1cm4gaW5jb21wYXRpYmxlT3B0IGluIG9wdHM7XG4gICAgfSlbMF07XG4gICAgaWYgKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUVVFUllfUEFSU0VfRVJST1IsXG4gICAgICAgICdRdWVyeSBwYXJhbWV0ZXIgYCcgKyBpbmNvbXBhdGlibGVPcHQgK1xuICAgICAgICAnYCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG11bHRpLWdldCdcbiAgICAgICkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzUmVtb3RlKHRoaXMpKSB7XG4gICAgICBhbGxEb2NzS2V5c1BhcnNlKG9wdHMpO1xuICAgICAgaWYgKG9wdHMua2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbERvY3Moe2xpbWl0OiAwfSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNoYW5nZXMgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIC8vIEJ5IGRlZmF1bHQgc2V0IHJldHVybl9kb2NzIHRvIGZhbHNlIGlmIHRoZSBjYWxsZXIgaGFzIG9wdHMubGl2ZSA9IHRydWUsXG4gIC8vIHRoaXMgd2lsbCBwcmV2ZW50IHVzIGZyb20gY29sbGVjdGluZyB0aGUgc2V0IG9mIGNoYW5nZXMgaW5kZWZpbml0ZWx5XG4gIC8vIHJlc3VsdGluZyBpbiBncm93aW5nIG1lbW9yeVxuICBvcHRzLnJldHVybl9kb2NzID0gKCdyZXR1cm5fZG9jcycgaW4gb3B0cykgPyBvcHRzLnJldHVybl9kb2NzIDogIW9wdHMubGl2ZTtcblxuICByZXR1cm4gbmV3IENoYW5nZXMkMSh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG59O1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNsb3NlID0gYWRhcHRlckZ1bignY2xvc2UnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgdGhpcy5lbWl0KCdjbG9zZWQnKTtcbiAgcmV0dXJuIHRoaXMuX2Nsb3NlKGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmluZm8gPSBhZGFwdGVyRnVuKCdpbmZvJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5faW5mbyhmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGFzc3VtZSB3ZSBrbm93IGJldHRlciB0aGFuIHRoZSBhZGFwdGVyLCB1bmxlc3MgaXQgaW5mb3JtcyB1c1xuICAgIGluZm8uZGJfbmFtZSA9IGluZm8uZGJfbmFtZSB8fCBzZWxmLm5hbWU7XG4gICAgaW5mby5hdXRvX2NvbXBhY3Rpb24gPSAhIShzZWxmLmF1dG9fY29tcGFjdGlvbiAmJiAhaXNSZW1vdGUoc2VsZikpO1xuICAgIGluZm8uYWRhcHRlciA9IHNlbGYuYWRhcHRlcjtcbiAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pZCA9IGFkYXB0ZXJGdW4oJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB0aGlzLl9pZChjYWxsYmFjayk7XG59KTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICh0eXBlb2YgdGhpcy5fdHlwZSA9PT0gJ2Z1bmN0aW9uJykgPyB0aGlzLl90eXBlKCkgOiB0aGlzLmFkYXB0ZXI7XG59O1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtEb2NzID1cbiAgYWRhcHRlckZ1bignYnVsa0RvY3MnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocmVxKSkge1xuICAgIHJlcSA9IHtcbiAgICAgIGRvY3M6IHJlcVxuICAgIH07XG4gIH1cblxuICBpZiAoIXJlcSB8fCAhcmVxLmRvY3MgfHwgIUFycmF5LmlzQXJyYXkocmVxLmRvY3MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfQlVMS19ET0NTKSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcS5kb2NzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKHR5cGVvZiByZXEuZG9jc1tpXSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyZXEuZG9jc1tpXSkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGF0dGFjaG1lbnRFcnJvcjtcbiAgcmVxLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgYXR0YWNobWVudEVycm9yID0gYXR0YWNobWVudEVycm9yIHx8IGF0dGFjaG1lbnROYW1lRXJyb3IobmFtZSk7XG4gICAgICAgIGlmICghZG9jLl9hdHRhY2htZW50c1tuYW1lXS5jb250ZW50X3R5cGUpIHtcbiAgICAgICAgICBndWFyZGVkQ29uc29sZSgnd2FybicsICdBdHRhY2htZW50JywgbmFtZSwgJ29uIGRvY3VtZW50JywgZG9jLl9pZCwgJ2lzIG1pc3NpbmcgY29udGVudF90eXBlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGF0dGFjaG1lbnRFcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihCQURfUkVRVUVTVCwgYXR0YWNobWVudEVycm9yKSk7XG4gIH1cblxuICBpZiAoISgnbmV3X2VkaXRzJyBpbiBvcHRzKSkge1xuICAgIGlmICgnbmV3X2VkaXRzJyBpbiByZXEpIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gcmVxLm5ld19lZGl0cztcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cy5uZXdfZWRpdHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gdGhpcztcbiAgaWYgKCFvcHRzLm5ld19lZGl0cyAmJiAhaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAvLyBlbnN1cmUgcmV2aXNpb25zIG9mIHRoZSBzYW1lIGRvYyBhcmUgc29ydGVkLCBzbyB0aGF0XG4gICAgLy8gdGhlIGxvY2FsIGFkYXB0ZXIgcHJvY2Vzc2VzIHRoZW0gY29ycmVjdGx5ICgjMjkzNSlcbiAgICByZXEuZG9jcy5zb3J0KGNvbXBhcmVCeUlkVGhlblJldik7XG4gIH1cblxuICBjbGVhbkRvY3MocmVxLmRvY3MpO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIGNvbmZsaWN0cywgd2Ugd2FudCB0byByZXR1cm4gdGhlIF9pZHMgdG8gdGhlIHVzZXJcbiAgLy8gaG93ZXZlciwgdGhlIHVuZGVybHlpbmcgYWRhcHRlciBtYXkgZGVzdHJveSB0aGUgZG9jcyBhcnJheSwgc29cbiAgLy8gY3JlYXRlIGEgY29weSBoZXJlXG4gIHZhciBpZHMgPSByZXEuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgIHJldHVybiBkb2MuX2lkO1xuICB9KTtcblxuICByZXR1cm4gdGhpcy5fYnVsa0RvY3MocmVxLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKCFvcHRzLm5ld19lZGl0cykge1xuICAgICAgLy8gdGhpcyBpcyB3aGF0IGNvdWNoIGRvZXMgd2hlbiBuZXdfZWRpdHMgaXMgZmFsc2VcbiAgICAgIHJlcyA9IHJlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHguZXJyb3I7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gYWRkIGlkcyBmb3IgZXJyb3IvY29uZmxpY3QgcmVzcG9uc2VzIChub3QgcmVxdWlyZWQgZm9yIENvdWNoREIpXG4gICAgaWYgKCFpc1JlbW90ZShhZGFwdGVyKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHJlc1tpXS5pZCA9IHJlc1tpXS5pZCB8fCBpZHNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlID1cbiAgYWRhcHRlckZ1bigncmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZScsIGZ1bmN0aW9uIChkZXBlbmRlbnREYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgZGJPcHRpb25zID0gY2xvbmUodGhpcy5fX29wdHMpO1xuICBpZiAodGhpcy5fX29wdHMudmlld19hZGFwdGVyKSB7XG4gICAgZGJPcHRpb25zLmFkYXB0ZXIgPSB0aGlzLl9fb3B0cy52aWV3X2FkYXB0ZXI7XG4gIH1cblxuICB2YXIgZGVwREIgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZXBlbmRlbnREYiwgZGJPcHRpb25zKTtcblxuICBmdW5jdGlvbiBkaWZmRnVuKGRvYykge1xuICAgIGRvYy5kZXBlbmRlbnREYnMgPSBkb2MuZGVwZW5kZW50RGJzIHx8IHt9O1xuICAgIGlmIChkb2MuZGVwZW5kZW50RGJzW2RlcGVuZGVudERiXSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBubyB1cGRhdGUgcmVxdWlyZWRcbiAgICB9XG4gICAgZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0gPSB0cnVlO1xuICAgIHJldHVybiBkb2M7XG4gIH1cbiAgdXBzZXJ0KHRoaXMsICdfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERicycsIGRpZmZGdW4pXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge2RiOiBkZXBEQn0pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmRlc3Ryb3kgPVxuICBhZGFwdGVyRnVuKCdkZXN0cm95JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHVzZVByZWZpeCA9ICd1c2VfcHJlZml4JyBpbiBzZWxmID8gc2VsZi51c2VfcHJlZml4IDogdHJ1ZTtcblxuICBmdW5jdGlvbiBkZXN0cm95RGIoKSB7XG4gICAgLy8gY2FsbCBkZXN0cm95IG1ldGhvZCBvZiB0aGUgcGFydGljdWxhciBhZGFwdG9yXG4gICAgc2VsZi5fZGVzdHJveShvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgc2VsZi5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuZW1pdCgnZGVzdHJveWVkJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXNwIHx8IHsgJ29rJzogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc1JlbW90ZShzZWxmKSkge1xuICAgIC8vIG5vIG5lZWQgdG8gY2hlY2sgZm9yIGRlcGVuZGVudCBEQnMgaWYgaXQncyBhIHJlbW90ZSBEQlxuICAgIHJldHVybiBkZXN0cm95RGIoKTtcbiAgfVxuXG4gIHNlbGYuZ2V0KCdfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERicycsIGZ1bmN0aW9uIChlcnIsIGxvY2FsRG9jKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHsgLy8gbm8gZGVwZW5kZW5jaWVzXG4gICAgICAgIHJldHVybiBkZXN0cm95RGIoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGRlcGVuZGVudERicyA9IGxvY2FsRG9jLmRlcGVuZGVudERicztcbiAgICB2YXIgUG91Y2hEQiA9IHNlbGYuY29uc3RydWN0b3I7XG4gICAgdmFyIGRlbGV0ZWRNYXAgPSBPYmplY3Qua2V5cyhkZXBlbmRlbnREYnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgLy8gdXNlX3ByZWZpeCBpcyBvbmx5IGZhbHNlIGluIHRoZSBicm93c2VyXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgdmFyIHRydWVOYW1lID0gdXNlUHJlZml4ID9cbiAgICAgICAgbmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsgUG91Y2hEQi5wcmVmaXgpLCAnJykgOiBuYW1lO1xuICAgICAgcmV0dXJuIG5ldyBQb3VjaERCKHRydWVOYW1lLCBzZWxmLl9fb3B0cykuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIFByb21pc2UuYWxsKGRlbGV0ZWRNYXApLnRoZW4oZGVzdHJveURiLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbmZ1bmN0aW9uIFRhc2tRdWV1ZSgpIHtcbiAgdGhpcy5pc1JlYWR5ID0gZmFsc2U7XG4gIHRoaXMuZmFpbGVkID0gZmFsc2U7XG4gIHRoaXMucXVldWUgPSBbXTtcbn1cblxuVGFza1F1ZXVlLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZnVuO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bih0aGlzLmZhaWxlZCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlICgoZnVuID0gdGhpcy5xdWV1ZS5zaGlmdCgpKSkge1xuICAgICAgZnVuKCk7XG4gICAgfVxuICB9XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmZhaWwgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIHRoaXMuZmFpbGVkID0gZXJyO1xuICB0aGlzLmV4ZWN1dGUoKTtcbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoZGIpIHtcbiAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcbiAgdGhpcy5kYiA9IGRiO1xuICB0aGlzLmV4ZWN1dGUoKTtcbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuYWRkVGFzayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgdGhpcy5xdWV1ZS5wdXNoKGZ1bik7XG4gIGlmICh0aGlzLmZhaWxlZCkge1xuICAgIHRoaXMuZXhlY3V0ZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBwYXJzZUFkYXB0ZXIobmFtZSwgb3B0cykge1xuICB2YXIgbWF0Y2ggPSBuYW1lLm1hdGNoKC8oW2Etei1dKik6XFwvXFwvKC4qKS8pO1xuICBpZiAobWF0Y2gpIHtcbiAgICAvLyB0aGUgaHR0cCBhZGFwdGVyIGV4cGVjdHMgdGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IC9odHRwcz8vLnRlc3QobWF0Y2hbMV0pID8gbWF0Y2hbMV0gKyAnOi8vJyArIG1hdGNoWzJdIDogbWF0Y2hbMl0sXG4gICAgICBhZGFwdGVyOiBtYXRjaFsxXVxuICAgIH07XG4gIH1cblxuICB2YXIgYWRhcHRlcnMgPSBQb3VjaERCLmFkYXB0ZXJzO1xuICB2YXIgcHJlZmVycmVkQWRhcHRlcnMgPSBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzO1xuICB2YXIgcHJlZml4ID0gUG91Y2hEQi5wcmVmaXg7XG4gIHZhciBhZGFwdGVyTmFtZSA9IG9wdHMuYWRhcHRlcjtcblxuICBpZiAoIWFkYXB0ZXJOYW1lKSB7IC8vIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lIGFkYXB0ZXJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZlcnJlZEFkYXB0ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICBhZGFwdGVyTmFtZSA9IHByZWZlcnJlZEFkYXB0ZXJzW2ldO1xuICAgICAgLy8gY2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgaGF2ZSBiZWVuIHVwZ3JhZGVkIGZyb20gd2Vic3FsLW9ubHkgdG8gd2Vic3FsK2lkYlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoYWRhcHRlck5hbWUgPT09ICdpZGInICYmICd3ZWJzcWwnIGluIGFkYXB0ZXJzICYmXG4gICAgICAgICAgaGFzTG9jYWxTdG9yYWdlKCkgJiYgbG9jYWxTdG9yYWdlWydfcG91Y2hfX3dlYnNxbGRiXycgKyBwcmVmaXggKyBuYW1lXSkge1xuICAgICAgICAvLyBsb2cgaXQsIGJlY2F1c2UgdGhpcyBjYW4gYmUgY29uZnVzaW5nIGR1cmluZyBkZXZlbG9wbWVudFxuICAgICAgICBndWFyZGVkQ29uc29sZSgnbG9nJywgJ1BvdWNoREIgaXMgZG93bmdyYWRpbmcgXCInICsgbmFtZSArICdcIiB0byBXZWJTUUwgdG8nICtcbiAgICAgICAgICAnIGF2b2lkIGRhdGEgbG9zcywgYmVjYXVzZSBpdCB3YXMgYWxyZWFkeSBvcGVuZWQgd2l0aCBXZWJTUUwuJyk7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBrZWVwIHVzaW5nIHdlYnNxbCB0byBhdm9pZCB1c2VyIGRhdGEgbG9zc1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFkYXB0ZXIgPSBhZGFwdGVyc1thZGFwdGVyTmFtZV07XG5cbiAgLy8gaWYgYWRhcHRlciBpcyBpbnZhbGlkLCB0aGVuIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIGxhdGVyXG4gIHZhciB1c2VQcmVmaXggPSAoYWRhcHRlciAmJiAndXNlX3ByZWZpeCcgaW4gYWRhcHRlcikgP1xuICAgIGFkYXB0ZXIudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiB1c2VQcmVmaXggPyAocHJlZml4ICsgbmFtZSkgOiBuYW1lLFxuICAgIGFkYXB0ZXI6IGFkYXB0ZXJOYW1lXG4gIH07XG59XG5cbi8vIE9LLCBzbyBoZXJlJ3MgdGhlIGRlYWwuIENvbnNpZGVyIHRoaXMgY29kZTpcbi8vICAgICB2YXIgZGIxID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIHZhciBkYjIgPSBuZXcgUG91Y2hEQignZm9vJyk7XG4vLyAgICAgZGIxLmRlc3Ryb3koKTtcbi8vIF4gdGhlc2UgdHdvIGJvdGggbmVlZCB0byBlbWl0ICdkZXN0cm95ZWQnIGV2ZW50cyxcbi8vIGFzIHdlbGwgYXMgdGhlIFBvdWNoREIgY29uc3RydWN0b3IgaXRzZWxmLlxuLy8gU28gd2UgaGF2ZSBvbmUgZGIgb2JqZWN0ICh3aGljaGV2ZXIgb25lIGdvdCBkZXN0cm95KCkgY2FsbGVkIG9uIGl0KVxuLy8gcmVzcG9uc2libGUgZm9yIGVtaXR0aW5nIHRoZSBpbml0aWFsIGV2ZW50LCB3aGljaCB0aGVuIGdldHMgZW1pdHRlZFxuLy8gYnkgdGhlIGNvbnN0cnVjdG9yLCB3aGljaCB0aGVuIGJyb2FkY2FzdHMgaXQgdG8gYW55IG90aGVyIGRic1xuLy8gdGhhdCBtYXkgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aCB0aGUgc2FtZSBuYW1lLlxuZnVuY3Rpb24gcHJlcGFyZUZvckRlc3RydWN0aW9uKHNlbGYpIHtcblxuICBmdW5jdGlvbiBvbkRlc3Ryb3llZChmcm9tX2NvbnN0cnVjdG9yKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignY2xvc2VkJywgb25DbG9zZWQpO1xuICAgIGlmICghZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZXN0cm95ZWQnLCBzZWxmLm5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2xvc2VkKCkge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveWVkKTtcbiAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3VucmVmJywgc2VsZik7XG4gIH1cblxuICBzZWxmLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveWVkKTtcbiAgc2VsZi5vbmNlKCdjbG9zZWQnLCBvbkNsb3NlZCk7XG4gIHNlbGYuY29uc3RydWN0b3IuZW1pdCgncmVmJywgc2VsZik7XG59XG5cbmluaGVyaXRzKFBvdWNoREIsIEFic3RyYWN0UG91Y2hEQik7XG5mdW5jdGlvbiBQb3VjaERCKG5hbWUsIG9wdHMpIHtcbiAgLy8gSW4gTm9kZSBvdXIgdGVzdCBzdWl0ZSBvbmx5IHRlc3RzIHRoaXMgZm9yIFBvdWNoQWx0IHVuZm9ydHVuYXRlbHlcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3VjaERCKSkge1xuICAgIHJldHVybiBuZXcgUG91Y2hEQihuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgb3B0cyA9IG5hbWU7XG4gICAgbmFtZSA9IG9wdHMubmFtZTtcbiAgICBkZWxldGUgb3B0cy5uYW1lO1xuICB9XG5cbiAgaWYgKG9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzID09PSB1bmRlZmluZWQpIHtcbiAgICBvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9IHRydWU7XG4gIH1cblxuICB0aGlzLl9fb3B0cyA9IG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBzZWxmLmF1dG9fY29tcGFjdGlvbiA9IG9wdHMuYXV0b19jb21wYWN0aW9uO1xuICBzZWxmLnByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcvaW52YWxpZCBEQiBuYW1lJyk7XG4gIH1cblxuICB2YXIgcHJlZml4ZWROYW1lID0gKG9wdHMucHJlZml4IHx8ICcnKSArIG5hbWU7XG4gIHZhciBiYWNrZW5kID0gcGFyc2VBZGFwdGVyKHByZWZpeGVkTmFtZSwgb3B0cyk7XG5cbiAgb3B0cy5uYW1lID0gYmFja2VuZC5uYW1lO1xuICBvcHRzLmFkYXB0ZXIgPSBvcHRzLmFkYXB0ZXIgfHwgYmFja2VuZC5hZGFwdGVyO1xuXG4gIHNlbGYubmFtZSA9IG5hbWU7XG4gIHNlbGYuX2FkYXB0ZXIgPSBvcHRzLmFkYXB0ZXI7XG4gIFBvdWNoREIuZW1pdCgnZGVidWcnLCBbJ2FkYXB0ZXInLCAnUGlja2VkIGFkYXB0ZXI6ICcsIG9wdHMuYWRhcHRlcl0pO1xuXG4gIGlmICghUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdIHx8XG4gICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdLnZhbGlkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQWRhcHRlcjogJyArIG9wdHMuYWRhcHRlcik7XG4gIH1cblxuICBpZiAob3B0cy52aWV3X2FkYXB0ZXIpIHtcbiAgICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy52aWV3X2FkYXB0ZXJdIHx8XG4gICAgICAgICFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVmlldyBBZGFwdGVyOiAnICsgb3B0cy52aWV3X2FkYXB0ZXIpO1xuICAgIH1cbiAgfVxuXG4gIEFic3RyYWN0UG91Y2hEQi5jYWxsKHNlbGYpO1xuICBzZWxmLnRhc2txdWV1ZSA9IG5ldyBUYXNrUXVldWUoKTtcblxuICBzZWxmLmFkYXB0ZXIgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdLmNhbGwoc2VsZiwgb3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBzZWxmLnRhc2txdWV1ZS5mYWlsKGVycik7XG4gICAgfVxuICAgIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKTtcblxuICAgIHNlbGYuZW1pdCgnY3JlYXRlZCcsIHNlbGYpO1xuICAgIFBvdWNoREIuZW1pdCgnY3JlYXRlZCcsIHNlbGYubmFtZSk7XG4gICAgc2VsZi50YXNrcXVldWUucmVhZHkoc2VsZik7XG4gIH0pO1xuXG59XG5cbi8vIEFib3J0Q29udHJvbGxlciB3YXMgaW50cm9kdWNlZCBxdWl0ZSBhIHdoaWxlIGFmdGVyIGZldGNoIGFuZFxuLy8gaXNudCByZXF1aXJlZCBmb3IgUG91Y2hEQiB0byBmdW5jdGlvbiBzbyBwb2x5ZmlsbCBpZiBuZWVkZWRcbnZhciBhID0gKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09ICd1bmRlZmluZWQnKVxuICAgID8gQWJvcnRDb250cm9sbGVyXG4gICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiB7YWJvcnQ6IGZ1bmN0aW9uICgpIHt9fTsgfTtcblxudmFyIGYkMSA9IGZldGNoO1xudmFyIGggPSBIZWFkZXJzO1xuXG5Qb3VjaERCLmFkYXB0ZXJzID0ge307XG5Qb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzID0gW107XG5cblBvdWNoREIucHJlZml4ID0gJ19wb3VjaF8nO1xuXG52YXIgZXZlbnRFbWl0dGVyID0gbmV3IEVFKCk7XG5cbmZ1bmN0aW9uIHNldFVwRXZlbnRFbWl0dGVyKFBvdWNoKSB7XG4gIE9iamVjdC5rZXlzKEVFLnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHR5cGVvZiBFRS5wcm90b3R5cGVba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgUG91Y2hba2V5XSA9IGV2ZW50RW1pdHRlcltrZXldLmJpbmQoZXZlbnRFbWl0dGVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHRoZXNlIGFyZSBjcmVhdGVkIGluIGNvbnN0cnVjdG9yLmpzLCBhbmQgYWxsb3cgdXMgdG8gbm90aWZ5IGVhY2ggREIgd2l0aFxuICAvLyB0aGUgc2FtZSBuYW1lIHRoYXQgaXQgd2FzIGRlc3Ryb3llZCwgdmlhIHRoZSBjb25zdHJ1Y3RvciBvYmplY3RcbiAgdmFyIGRlc3RydWN0TGlzdGVuZXJzID0gUG91Y2guX2Rlc3RydWN0aW9uTGlzdGVuZXJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgUG91Y2gub24oJ3JlZicsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JSZWYoZGIpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhkYi5uYW1lKSkge1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIFtdKTtcbiAgICB9XG4gICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KGRiLm5hbWUpLnB1c2goZGIpO1xuICB9KTtcblxuICBQb3VjaC5vbigndW5yZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yVW5yZWYoZGIpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhkYi5uYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KGRiLm5hbWUpO1xuICAgIHZhciBwb3MgPSBkYkxpc3QuaW5kZXhPZihkYik7XG4gICAgaWYgKHBvcyA8IDApIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRiTGlzdC5zcGxpY2UocG9zLCAxKTtcbiAgICBpZiAoZGJMaXN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5zZXQoZGIubmFtZSwgZGJMaXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZGVsZXRlKGRiLm5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgUG91Y2gub24oJ2Rlc3Ryb3llZCcsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JEZXN0cm95ZWQobmFtZSkge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKG5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkYkxpc3QgPSBkZXN0cnVjdExpc3RlbmVycy5nZXQobmFtZSk7XG4gICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZGVsZXRlKG5hbWUpO1xuICAgIGRiTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkYikge1xuICAgICAgZGIuZW1pdCgnZGVzdHJveWVkJyx0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbnNldFVwRXZlbnRFbWl0dGVyKFBvdWNoREIpO1xuXG5Qb3VjaERCLmFkYXB0ZXIgPSBmdW5jdGlvbiAoaWQsIG9iaiwgYWRkVG9QcmVmZXJyZWRBZGFwdGVycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAob2JqLnZhbGlkKCkpIHtcbiAgICBQb3VjaERCLmFkYXB0ZXJzW2lkXSA9IG9iajtcbiAgICBpZiAoYWRkVG9QcmVmZXJyZWRBZGFwdGVycykge1xuICAgICAgUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycy5wdXNoKGlkKTtcbiAgICB9XG4gIH1cbn07XG5cblBvdWNoREIucGx1Z2luID0gZnVuY3Rpb24gKG9iaikge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgeyAvLyBmdW5jdGlvbiBzdHlsZSBmb3IgcGx1Z2luc1xuICAgIG9iaihQb3VjaERCKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwbHVnaW46IGdvdCBcIicgKyBvYmogKyAnXCIsIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uJyk7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgeyAvLyBvYmplY3Qgc3R5bGUgZm9yIHBsdWdpbnNcbiAgICAgIFBvdWNoREIucHJvdG90eXBlW2lkXSA9IG9ialtpZF07XG4gICAgfSk7XG4gIH1cbiAgaWYgKHRoaXMuX19kZWZhdWx0cykge1xuICAgIFBvdWNoREIuX19kZWZhdWx0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgdGhpcy5fX2RlZmF1bHRzKTtcbiAgfVxuICByZXR1cm4gUG91Y2hEQjtcbn07XG5cblBvdWNoREIuZGVmYXVsdHMgPSBmdW5jdGlvbiAoZGVmYXVsdE9wdHMpIHtcbiAgZnVuY3Rpb24gUG91Y2hBbHQobmFtZSwgb3B0cykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3VjaEFsdCkpIHtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hBbHQobmFtZSwgb3B0cyk7XG4gICAgfVxuXG4gICAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG9wdHMgPSBuYW1lO1xuICAgICAgbmFtZSA9IG9wdHMubmFtZTtcbiAgICAgIGRlbGV0ZSBvcHRzLm5hbWU7XG4gICAgfVxuXG4gICAgb3B0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgUG91Y2hBbHQuX19kZWZhdWx0cywgb3B0cyk7XG4gICAgUG91Y2hEQi5jYWxsKHRoaXMsIG5hbWUsIG9wdHMpO1xuICB9XG5cbiAgaW5oZXJpdHMoUG91Y2hBbHQsIFBvdWNoREIpO1xuXG4gIFBvdWNoQWx0LnByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycy5zbGljZSgpO1xuICBPYmplY3Qua2V5cyhQb3VjaERCKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIShrZXkgaW4gUG91Y2hBbHQpKSB7XG4gICAgICBQb3VjaEFsdFtrZXldID0gUG91Y2hEQltrZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgdHJhbnNpdGl2ZVxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy81OTIyXG4gIFBvdWNoQWx0Ll9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cywgZGVmYXVsdE9wdHMpO1xuXG4gIHJldHVybiBQb3VjaEFsdDtcbn07XG5cblBvdWNoREIuZmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRzKSB7XG4gIHJldHVybiBmJDEodXJsLCBvcHRzKTtcbn07XG5cbi8vIG1hbmFnZWQgYXV0b21hdGljYWxseSBieSBzZXQtdmVyc2lvbi5qc1xudmFyIHZlcnNpb24gPSBcIjcuMy4wXCI7XG5cbi8vIHRoaXMgd291bGQganVzdCBiZSBcInJldHVybiBkb2NbZmllbGRdXCIsIGJ1dCBmaWVsZHNcbi8vIGNhbiBiZSBcImRlZXBcIiBkdWUgdG8gZG90IG5vdGF0aW9uXG5mdW5jdGlvbiBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCkge1xuICB2YXIgdmFsdWUgPSBkb2M7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXJzZWRGaWVsZC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXJzZWRGaWVsZFtpXTtcbiAgICB2YWx1ZSA9IHZhbHVlW2tleV07XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZSQxKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPiByaWdodCA/IDEgOiAwO1xufVxuXG4vLyBDb252ZXJ0cyBhIHN0cmluZyBpbiBkb3Qgbm90YXRpb24gdG8gYW4gYXJyYXkgb2YgaXRzIGNvbXBvbmVudHMsIHdpdGggYmFja3NsYXNoIGVzY2FwaW5nXG5mdW5jdGlvbiBwYXJzZUZpZWxkKGZpZWxkTmFtZSkge1xuICAvLyBmaWVsZHMgbWF5IGJlIGRlZXAgKGUuZy4gXCJmb28uYmFyLmJhelwiKSwgc28gcGFyc2VcbiAgdmFyIGZpZWxkcyA9IFtdO1xuICB2YXIgY3VycmVudCA9ICcnO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZmllbGROYW1lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGNoID0gZmllbGROYW1lW2ldO1xuICAgIGlmIChpID4gMCAmJiBmaWVsZE5hbWVbaSAtIDFdID09PSAnXFxcXCcgJiYgKGNoID09PSAnJCcgfHwgY2ggPT09ICcuJykpIHtcbiAgICAgIC8vIGVzY2FwZWQgZGVsaW1pdGVyXG4gICAgICBjdXJyZW50ID0gY3VycmVudC5zdWJzdHJpbmcoMCwgY3VycmVudC5sZW5ndGggLSAxKSArIGNoO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09ICcuJykge1xuICAgICAgLy8gV2hlbiBgLmAgaXMgbm90IGVzY2FwZWQgKGFib3ZlKSwgaXQgaXMgYSBmaWVsZCBkZWxpbWl0ZXJcbiAgICAgIGZpZWxkcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgY3VycmVudCA9ICcnO1xuICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBjaGFyYWN0ZXJcbiAgICAgIGN1cnJlbnQgKz0gY2g7XG4gICAgfVxuICB9XG4gIGZpZWxkcy5wdXNoKGN1cnJlbnQpO1xuICByZXR1cm4gZmllbGRzO1xufVxuXG52YXIgY29tYmluYXRpb25GaWVsZHMgPSBbJyRvcicsICckbm9yJywgJyRub3QnXTtcbmZ1bmN0aW9uIGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSB7XG4gIHJldHVybiBjb21iaW5hdGlvbkZpZWxkcy5pbmRleE9mKGZpZWxkKSA+IC0xO1xufVxuXG5mdW5jdGlvbiBnZXRLZXkob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopWzBdO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmopIHtcbiAgcmV0dXJuIG9ialtnZXRLZXkob2JqKV07XG59XG5cblxuLy8gZmxhdHRlbiBhbiBhcnJheSBvZiBzZWxlY3RvcnMgam9pbmVkIGJ5IGFuICRhbmQgb3BlcmF0b3JcbmZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnMoc2VsZWN0b3JzKSB7XG5cbiAgLy8gc29ydCB0byBlbnN1cmUgdGhhdCBlLmcuIGlmIHRoZSB1c2VyIHNwZWNpZmllZFxuICAvLyAkYW5kOiBbeyRndDogJ2EnfSwgeyRndDogJ2InfV0sIHRoZW4gaXQncyBjb2xsYXBzZWQgaW50b1xuICAvLyBqdXN0IHskZ3Q6ICdiJ31cbiAgdmFyIHJlcyA9IHt9O1xuICB2YXIgZmlyc3QgPSB7JG9yOiB0cnVlLCAkbm9yOiB0cnVlfTtcblxuICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICBPYmplY3Qua2V5cyhzZWxlY3RvcikuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgIHZhciBtYXRjaGVyID0gc2VsZWN0b3JbZmllbGRdO1xuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBtYXRjaGVyID0geyRlcTogbWF0Y2hlcn07XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkpIHtcbiAgICAgICAgLy8gb3IsIG5vclxuICAgICAgICBpZiAobWF0Y2hlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgaWYgKGZpcnN0W2ZpZWxkXSkge1xuICAgICAgICAgICAgZmlyc3RbZmllbGRdID0gZmFsc2U7XG4gICAgICAgICAgICByZXNbZmllbGRdID0gbWF0Y2hlcjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICAgIHJlc1tmaWVsZF0uZm9yRWFjaChmdW5jdGlvbiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICB2YXIgbSA9IG1hdGNoZXJba2V5XTtcbiAgICAgICAgICAgICAgdmFyIGxvbmdlc3QgPSBNYXRoLm1heChPYmplY3Qua2V5cyhleGlzdGluZykubGVuZ3RoLCBPYmplY3Qua2V5cyhtKS5sZW5ndGgpO1xuICAgICAgICAgICAgICB2YXIgbWVyZ2VkID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbZXhpc3RpbmcsIG1dKTtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1lcmdlZCkubGVuZ3RoIDw9IGxvbmdlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIGEgc2l0dWF0aW9uIGxpa2U6IChhIDp7JGVxIDoxfSB8fCAuLi4pICYmIChhIHskZXE6IDJ9IHx8IC4uLilcbiAgICAgICAgICAgICAgICAvLyBtZXJnaW5nIHdvdWxkIHByb2R1Y2UgYSAkZXEgMiB3aGVuIGFjdHVhbGx5IHdlIHNob3VsZG4ndCBldmVyIG1hdGNoIGFnYWluc3QgdGhlc2UgbWVyZ2VkIGNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBtZXJnZWQgc2hvdWxkIGFsd2F5cyBjb250YWluIG1vcmUgdmFsdWVzIHRvIGJlIHZhbGlkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVudHJpZXMucHVzaChtZXJnZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzW2ZpZWxkXSA9IGVudHJpZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm90XG4gICAgICAgICAgcmVzW2ZpZWxkXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW21hdGNoZXJdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGZpZWxkTWF0Y2hlcnMgPSByZXNbZmllbGRdID0gcmVzW2ZpZWxkXSB8fCB7fTtcbiAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hlcikuZm9yRWFjaChmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaGVyW29wZXJhdG9yXTtcblxuICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gJyRndCcgfHwgb3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJGx0JyB8fCBvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VMdEx0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRlcScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUVxKHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIiRyZWdleFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VSZWdleCh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufVxuXG5cblxuLy8gY29sbGFwc2UgbG9naWNhbGx5IGVxdWl2YWxlbnQgZ3QvZ3RlIHZhbHVlc1xuZnVuY3Rpb24gbWVyZ2VHdEd0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRlcSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgfVxuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGd0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3RlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3RlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPj0gZmllbGRNYXRjaGVycy4kZ3RlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0ZTtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3QgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGd0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndDtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3RlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gIH1cbn1cblxuLy8gY29sbGFwc2UgbG9naWNhbGx5IGVxdWl2YWxlbnQgbHQvbHRlIHZhbHVlc1xuZnVuY3Rpb24gbWVyZ2VMdEx0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRlcSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgfVxuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGx0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHRlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHRlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPD0gZmllbGRNYXRjaGVycy4kbHRlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0ZTtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdDtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHRlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gIH1cbn1cblxuLy8gY29tYmluZSAkbmUgdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZU5lKHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJG5lJyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gdGhlcmUgYXJlIG1hbnkgdGhpbmdzIHRoaXMgY291bGQgXCJub3RcIiBiZVxuICAgIGZpZWxkTWF0Y2hlcnMuJG5lLnB1c2godmFsdWUpO1xuICB9IGVsc2UgeyAvLyBkb2Vzbid0IGV4aXN0IHlldFxuICAgIGZpZWxkTWF0Y2hlcnMuJG5lID0gW3ZhbHVlXTtcbiAgfVxufVxuXG4vLyBhZGQgJGVxIGludG8gdGhlIG1peFxuZnVuY3Rpb24gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICAvLyB0aGVzZSBhbGwgaGF2ZSBsZXNzIHNwZWNpZmljaXR5IHRoYW4gdGhlICRlcVxuICAvLyBUT0RPOiBjaGVjayBmb3IgdXNlciBlcnJvcnMgaGVyZVxuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdDtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0ZTtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJG5lO1xuICBmaWVsZE1hdGNoZXJzLiRlcSA9IHZhbHVlO1xufVxuXG4vLyBjb21iaW5lICRyZWdleCB2YWx1ZXMgaW50byBvbmUgYXJyYXlcbmZ1bmN0aW9uIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKCckcmVnZXgnIGluIGZpZWxkTWF0Y2hlcnMpIHtcbiAgICAvLyBhIHZhbHVlIGNvdWxkIG1hdGNoIG11bHRpcGxlIHJlZ2V4ZXNcbiAgICBmaWVsZE1hdGNoZXJzLiRyZWdleC5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRyZWdleCA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8jNzQ1ODogZXhlY3V0ZSBmdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzIG9uIG5lc3RlZCAkYW5kXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9ialtpXVsnJGFuZCddKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtpXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMob2JqW2ldWyckYW5kJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKHZhbHVlKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuXG4vLyM3NDU4OiBkZXRlcm1pbmUgaWQgJGFuZCBpcyBwcmVzZW50IGluIHNlbGVjdG9yIChhdCBhbnkgbGV2ZWwpXG5mdW5jdGlvbiBpc0FuZEluU2VsZWN0b3Iob2JqLCBpc0FuZCkge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnJGFuZCcpIHtcbiAgICAgICAgICAgIGlzQW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IGlzQW5kSW5TZWxlY3Rvcih2YWx1ZSwgaXNBbmQpOyAvLyA8LSByZWN1cnNpdmUgY2FsbFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0FuZDtcbn1cblxuLy9cbi8vIG5vcm1hbGl6ZSB0aGUgc2VsZWN0b3Jcbi8vXG5mdW5jdGlvbiBtYXNzYWdlU2VsZWN0b3IoaW5wdXQpIHtcbiAgdmFyIHJlc3VsdCA9IGNsb25lKGlucHV0KTtcbiAgdmFyIHdhc0FuZGVkID0gZmFsc2U7XG4gICAgLy8jNzQ1ODogaWYgJGFuZCBpcyBwcmVzZW50IGluIHNlbGVjdG9yIChhdCBhbnkgbGV2ZWwpIG1lcmdlIG5lc3RlZCAkYW5kXG4gICAgaWYgKGlzQW5kSW5TZWxlY3RvcihyZXN1bHQsIGZhbHNlKSkge1xuICAgICAgICByZXN1bHQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKHJlc3VsdCk7XG4gICAgICAgIGlmICgnJGFuZCcgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzKHJlc3VsdFsnJGFuZCddKTtcbiAgICAgICAgfVxuICAgICAgICB3YXNBbmRlZCA9IHRydWU7XG4gICAgfVxuXG4gIFsnJG9yJywgJyRub3InXS5mb3JFYWNoKGZ1bmN0aW9uIChvck9yTm9yKSB7XG4gICAgaWYgKG9yT3JOb3IgaW4gcmVzdWx0KSB7XG4gICAgICAvLyBtZXNzYWdlIGVhY2ggaW5kaXZpZHVhbCBzZWxlY3RvclxuICAgICAgLy8gZS5nLiB7Zm9vOiAnYmFyJ30gYmVjb21lcyB7Zm9vOiB7JGVxOiAnYmFyJ319XG4gICAgICByZXN1bHRbb3JPck5vcl0uZm9yRWFjaChmdW5jdGlvbiAoc3ViU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGZpZWxkcyA9IE9iamVjdC5rZXlzKHN1YlNlbGVjdG9yKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgICAgICAgdmFyIG1hdGNoZXIgPSBzdWJTZWxlY3RvcltmaWVsZF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0JyB8fCBtYXRjaGVyID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJTZWxlY3RvcltmaWVsZF0gPSB7JGVxOiBtYXRjaGVyfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCckbm90JyBpbiByZXN1bHQpIHtcbiAgICAvL1RoaXMgZmVlbHMgYSBsaXR0bGUgbGlrZSBmb3JjaW5nLCBidXQgaXQgd2lsbCB3b3JrIGZvciBub3csXG4gICAgLy9JIHdvdWxkIGxpa2UgdG8gY29tZSBiYWNrIHRvIHRoaXMgYW5kIG1ha2UgdGhlIG1lcmdpbmcgb2Ygc2VsZWN0b3JzIGEgbGl0dGxlIG1vcmUgZ2VuZXJpY1xuICAgIHJlc3VsdFsnJG5vdCddID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbcmVzdWx0Wyckbm90J11dKTtcbiAgfVxuXG4gIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhyZXN1bHQpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgIHZhciBtYXRjaGVyID0gcmVzdWx0W2ZpZWxkXTtcblxuICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgIH0gZWxzZSBpZiAoIXdhc0FuZGVkKSB7XG4gICAgICAvLyBUaGVzZSB2YWx1ZXMgbXVzdCBiZSBwbGFjZWQgaW4gYW4gYXJyYXkgYmVjYXVzZSB0aGVzZSBvcGVyYXRvcnMgY2FuIGJlIHVzZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgZmllbGRcbiAgICAgIC8vIHdoZW4gJGFuZCBpcyB1c2VkLCBtZXJnZUFuZGVkU2VsZWN0b3JzIHRha2VzIGNhcmUgb2YgcHV0dGluZyB0aGVtIGludG8gYXJyYXlzLCBvdGhlcndpc2UgaXQncyBkb25lIGhlcmU6XG4gICAgICBpZiAoJyRuZScgaW4gbWF0Y2hlcikge1xuICAgICAgICBtYXRjaGVyLiRuZSA9IFttYXRjaGVyLiRuZV07XG4gICAgICB9XG4gICAgICBpZiAoJyRyZWdleCcgaW4gbWF0Y2hlcikge1xuICAgICAgICBtYXRjaGVyLiRyZWdleCA9IFttYXRjaGVyLiRyZWdleF07XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdFtmaWVsZF0gPSBtYXRjaGVyO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCkge1xuICB2YXIgcGFkZGluZyA9ICcnO1xuICB2YXIgdGFyZ2V0TGVuZ3RoID0gdXBUb0xlbmd0aCAtIHN0ci5sZW5ndGg7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHdoaWxlIChwYWRkaW5nLmxlbmd0aCA8IHRhcmdldExlbmd0aCkge1xuICAgIHBhZGRpbmcgKz0gcGFkV2l0aDtcbiAgfVxuICByZXR1cm4gcGFkZGluZztcbn1cblxuZnVuY3Rpb24gcGFkTGVmdChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSBwYWQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKTtcbiAgcmV0dXJuIHBhZGRpbmcgKyBzdHI7XG59XG5cbnZhciBNSU5fTUFHTklUVURFID0gLTMyNDsgLy8gdmVyaWZpZWQgYnkgLU51bWJlci5NSU5fVkFMVUVcbnZhciBNQUdOSVRVREVfRElHSVRTID0gMzsgLy8gZGl0dG9cbnZhciBTRVAgPSAnJzsgLy8gc2V0IHRvICdfJyBmb3IgZWFzaWVyIGRlYnVnZ2luZ1xuXG5mdW5jdGlvbiBjb2xsYXRlKGEsIGIpIHtcblxuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgYSA9IG5vcm1hbGl6ZUtleShhKTtcbiAgYiA9IG5vcm1hbGl6ZUtleShiKTtcblxuICB2YXIgYWkgPSBjb2xsYXRpb25JbmRleChhKTtcbiAgdmFyIGJpID0gY29sbGF0aW9uSW5kZXgoYik7XG4gIGlmICgoYWkgLSBiaSkgIT09IDApIHtcbiAgICByZXR1cm4gYWkgLSBiaTtcbiAgfVxuICBzd2l0Y2ggKHR5cGVvZiBhKSB7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBhIC0gYjtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogMTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHN0cmluZ0NvbGxhdGUoYSwgYik7XG4gIH1cbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgPyBhcnJheUNvbGxhdGUoYSwgYikgOiBvYmplY3RDb2xsYXRlKGEsIGIpO1xufVxuXG4vLyBjb3VjaCBjb25zaWRlcnMgbnVsbC9OYU4vSW5maW5pdHkvLUluZmluaXR5ID09PSB1bmRlZmluZWQsXG4vLyBmb3IgdGhlIHB1cnBvc2VzIG9mIG1hcHJlZHVjZSBpbmRleGVzLiBhbHNvLCBkYXRlcyBnZXQgc3RyaW5naWZpZWQuXG5mdW5jdGlvbiBub3JtYWxpemVLZXkoa2V5KSB7XG4gIHN3aXRjaCAodHlwZW9mIGtleSkge1xuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKGtleSA9PT0gSW5maW5pdHkgfHwga2V5ID09PSAtSW5maW5pdHkgfHwgaXNOYU4oa2V5KSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHZhciBvcmlnS2V5ID0ga2V5O1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICB2YXIgbGVuID0ga2V5Lmxlbmd0aDtcbiAgICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBrZXlbaV0gPSBub3JtYWxpemVLZXkob3JpZ0tleVtpXSk7XG4gICAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICB9IGVsc2UgaWYgKGtleSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIGtleS50b0pTT04oKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBudWxsKSB7IC8vIGdlbmVyaWMgb2JqZWN0XG4gICAgICAgIGtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrIGluIG9yaWdLZXkpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9yaWdLZXksIGspKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gb3JpZ0tleVtrXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBrZXlba10gPSBub3JtYWxpemVLZXkodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICByZXR1cm4ga2V5O1xufVxuXG5mdW5jdGlvbiBpbmRleGlmeShrZXkpIHtcbiAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAodHlwZW9mIGtleSkge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiBrZXkgPyAxIDogMDtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBudW1Ub0luZGV4YWJsZVN0cmluZyhrZXkpO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgLy8gV2UndmUgdG8gYmUgc3VyZSB0aGF0IGtleSBkb2VzIG5vdCBjb250YWluIFxcdTAwMDBcbiAgICAgICAgLy8gRG8gb3JkZXItcHJlc2VydmluZyByZXBsYWNlbWVudHM6XG4gICAgICAgIC8vIDAgLT4gMSwgMVxuICAgICAgICAvLyAxIC0+IDEsIDJcbiAgICAgICAgLy8gMiAtPiAyLCAyXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgcmV0dXJuIGtleVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAyL2csICdcXHUwMDAyXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDEvZywgJ1xcdTAwMDFcXHUwMDAyJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMC9nLCAnXFx1MDAwMVxcdTAwMDEnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoa2V5KTtcbiAgICAgICAgdmFyIGFyciA9IGlzQXJyYXkgPyBrZXkgOiBPYmplY3Qua2V5cyhrZXkpO1xuICAgICAgICB2YXIgaSA9IC0xO1xuICAgICAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhhcnJbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICB2YXIgb2JqS2V5ID0gYXJyW2ldO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvSW5kZXhhYmxlU3RyaW5nKG9iaktleSkgK1xuICAgICAgICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKGtleVtvYmpLZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vLyBjb252ZXJ0IHRoZSBnaXZlbiBrZXkgdG8gYSBzdHJpbmcgdGhhdCB3b3VsZCBiZSBhcHByb3ByaWF0ZVxuLy8gZm9yIGxleGljYWwgc29ydGluZywgZS5nLiB3aXRoaW4gYSBkYXRhYmFzZSwgd2hlcmUgdGhlXG4vLyBzb3J0aW5nIGlzIHRoZSBzYW1lIGdpdmVuIGJ5IHRoZSBjb2xsYXRlKCkgZnVuY3Rpb24uXG5mdW5jdGlvbiB0b0luZGV4YWJsZVN0cmluZyhrZXkpIHtcbiAgdmFyIHplcm8gPSAnXFx1MDAwMCc7XG4gIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICByZXR1cm4gY29sbGF0aW9uSW5kZXgoa2V5KSArIFNFUCArIGluZGV4aWZ5KGtleSkgKyB6ZXJvO1xufVxuXG5mdW5jdGlvbiBwYXJzZU51bWJlcihzdHIsIGkpIHtcbiAgdmFyIG9yaWdpbmFsSWR4ID0gaTtcbiAgdmFyIG51bTtcbiAgdmFyIHplcm8gPSBzdHJbaV0gPT09ICcxJztcbiAgaWYgKHplcm8pIHtcbiAgICBudW0gPSAwO1xuICAgIGkrKztcbiAgfSBlbHNlIHtcbiAgICB2YXIgbmVnID0gc3RyW2ldID09PSAnMCc7XG4gICAgaSsrO1xuICAgIHZhciBudW1Bc1N0cmluZyA9ICcnO1xuICAgIHZhciBtYWdBc1N0cmluZyA9IHN0ci5zdWJzdHJpbmcoaSwgaSArIE1BR05JVFVERV9ESUdJVFMpO1xuICAgIHZhciBtYWduaXR1ZGUgPSBwYXJzZUludChtYWdBc1N0cmluZywgMTApICsgTUlOX01BR05JVFVERTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChuZWcpIHtcbiAgICAgIG1hZ25pdHVkZSA9IC1tYWduaXR1ZGU7XG4gICAgfVxuICAgIGkgKz0gTUFHTklUVURFX0RJR0lUUztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgaWYgKGNoID09PSAnXFx1MDAwMCcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Bc1N0cmluZyArPSBjaDtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgbnVtQXNTdHJpbmcgPSBudW1Bc1N0cmluZy5zcGxpdCgnLicpO1xuICAgIGlmIChudW1Bc1N0cmluZy5sZW5ndGggPT09IDEpIHtcbiAgICAgIG51bSA9IHBhcnNlSW50KG51bUFzU3RyaW5nLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBudW0gPSBwYXJzZUZsb2F0KG51bUFzU3RyaW5nWzBdICsgJy4nICsgbnVtQXNTdHJpbmdbMV0pO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChuZWcpIHtcbiAgICAgIG51bSA9IG51bSAtIDEwO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChtYWduaXR1ZGUgIT09IDApIHtcbiAgICAgIC8vIHBhcnNlRmxvYXQgaXMgbW9yZSByZWxpYWJsZSB0aGFuIHBvdyBkdWUgdG8gcm91bmRpbmcgZXJyb3JzXG4gICAgICAvLyBlLmcuIE51bWJlci5NQVhfVkFMVUUgd291bGQgcmV0dXJuIEluZmluaXR5IGlmIHdlIGRpZFxuICAgICAgLy8gbnVtICogTWF0aC5wb3coMTAsIG1hZ25pdHVkZSk7XG4gICAgICBudW0gPSBwYXJzZUZsb2F0KG51bSArICdlJyArIG1hZ25pdHVkZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7bnVtOiBudW0sIGxlbmd0aCA6IGkgLSBvcmlnaW5hbElkeH07XG59XG5cbi8vIG1vdmUgdXAgdGhlIHN0YWNrIHdoaWxlIHBhcnNpbmdcbi8vIHRoaXMgZnVuY3Rpb24gbW92ZWQgb3V0c2lkZSBvZiBwYXJzZUluZGV4YWJsZVN0cmluZyBmb3IgcGVyZm9ybWFuY2VcbmZ1bmN0aW9uIHBvcChzdGFjaywgbWV0YVN0YWNrKSB7XG4gIHZhciBvYmogPSBzdGFjay5wb3AoKTtcblxuICBpZiAobWV0YVN0YWNrLmxlbmd0aCkge1xuICAgIHZhciBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmIChvYmogPT09IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50KSB7XG4gICAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgICAgbWV0YVN0YWNrLnBvcCgpO1xuICAgICAgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgdmFyIGVsZW1lbnQgPSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudDtcbiAgICB2YXIgbGFzdEVsZW1lbnRJbmRleCA9IGxhc3RNZXRhRWxlbWVudC5pbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgZWxlbWVudC5wdXNoKG9iaik7XG4gICAgfSBlbHNlIGlmIChsYXN0RWxlbWVudEluZGV4ID09PSBzdGFjay5sZW5ndGggLSAyKSB7IC8vIG9iaiB3aXRoIGtleSt2YWx1ZVxuICAgICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgICAgZWxlbWVudFtrZXldID0gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlSW5kZXhhYmxlU3RyaW5nKHN0cikge1xuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIG1ldGFTdGFjayA9IFtdOyAvLyBzdGFjayBmb3IgYXJyYXlzIGFuZCBvYmplY3RzXG4gIHZhciBpID0gMDtcblxuICAvKmVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IFtcImVycm9yXCIsIHsgXCJjaGVja0xvb3BzXCI6IGZhbHNlIH1dKi9cbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgY29sbGF0aW9uSW5kZXggPSBzdHJbaSsrXTtcbiAgICBpZiAoY29sbGF0aW9uSW5kZXggPT09ICdcXHUwMDAwJykge1xuICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhY2sucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3Aoc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcxJzpcbiAgICAgICAgc3RhY2sucHVzaChudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcyJzpcbiAgICAgICAgc3RhY2sucHVzaChzdHJbaV0gPT09ICcxJyk7XG4gICAgICAgIGkrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICczJzpcbiAgICAgICAgdmFyIHBhcnNlZE51bSA9IHBhcnNlTnVtYmVyKHN0ciwgaSk7XG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkTnVtLm51bSk7XG4gICAgICAgIGkgKz0gcGFyc2VkTnVtLmxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc0JzpcbiAgICAgICAgdmFyIHBhcnNlZFN0ciA9ICcnO1xuICAgICAgICAvKmVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IFtcImVycm9yXCIsIHsgXCJjaGVja0xvb3BzXCI6IGZhbHNlIH1dKi9cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgY2ggPSBzdHJbaV07XG4gICAgICAgICAgaWYgKGNoID09PSAnXFx1MDAwMCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJzZWRTdHIgKz0gY2g7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBlcmZvcm0gdGhlIHJldmVyc2Ugb2YgdGhlIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRcbiAgICAgICAgLy8gYWxnb3JpdGhtIChzZWUgYWJvdmUpXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgcGFyc2VkU3RyID0gcGFyc2VkU3RyLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAxL2csICdcXHUwMDAwJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDIvZywgJ1xcdTAwMDEnKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAyXFx1MDAwMi9nLCAnXFx1MDAwMicpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgc3RhY2sucHVzaChwYXJzZWRTdHIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzUnOlxuICAgICAgICB2YXIgYXJyYXlFbGVtZW50ID0geyBlbGVtZW50OiBbXSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKGFycmF5RWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2goYXJyYXlFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc2JzpcbiAgICAgICAgdmFyIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnYmFkIGNvbGxhdGlvbkluZGV4IG9yIHVuZXhwZWN0ZWRseSByZWFjaGVkIGVuZCBvZiBpbnB1dDogJyArXG4gICAgICAgICAgICBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFbaV0sIGJbaV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIChhLmxlbmd0aCA9PT0gYi5sZW5ndGgpID8gMCA6XG4gICAgKGEubGVuZ3RoID4gYi5sZW5ndGgpID8gMSA6IC0xO1xufVxuZnVuY3Rpb24gc3RyaW5nQ29sbGF0ZShhLCBiKSB7XG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhbGVoYXJ2ZXkvcG91Y2hkYi9pc3N1ZXMvNDBcbiAgLy8gVGhpcyBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgQ291Y2hEQiBpbXBsZW1lbnRhdGlvbiwgYnV0IGl0cyB0aGVcbiAgLy8gYmVzdCB3ZSBjYW4gZG8gZm9yIG5vd1xuICByZXR1cm4gKGEgPT09IGIpID8gMCA6ICgoYSA+IGIpID8gMSA6IC0xKTtcbn1cbmZ1bmN0aW9uIG9iamVjdENvbGxhdGUoYSwgYikge1xuICB2YXIgYWsgPSBPYmplY3Qua2V5cyhhKSwgYmsgPSBPYmplY3Qua2V5cyhiKTtcbiAgdmFyIGxlbiA9IE1hdGgubWluKGFrLmxlbmd0aCwgYmsubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIEZpcnN0IHNvcnQgdGhlIGtleXNcbiAgICB2YXIgc29ydCA9IGNvbGxhdGUoYWtbaV0sIGJrW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBrZXlzIGFyZSBlcXVhbCBzb3J0IHRoZSB2YWx1ZXNcbiAgICBzb3J0ID0gY29sbGF0ZShhW2FrW2ldXSwgYltia1tpXV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gKGFrLmxlbmd0aCA9PT0gYmsubGVuZ3RoKSA/IDAgOlxuICAgIChhay5sZW5ndGggPiBiay5sZW5ndGgpID8gMSA6IC0xO1xufVxuLy8gVGhlIGNvbGxhdGlvbiBpcyBkZWZpbmVkIGJ5IGVybGFuZ3Mgb3JkZXJlZCB0ZXJtc1xuLy8gdGhlIGF0b21zIG51bGwsIHRydWUsIGZhbHNlIGNvbWUgZmlyc3QsIHRoZW4gbnVtYmVycywgc3RyaW5ncyxcbi8vIGFycmF5cywgdGhlbiBvYmplY3RzXG4vLyBudWxsL3VuZGVmaW5lZC9OYU4vSW5maW5pdHkvLUluZmluaXR5IGFyZSBhbGwgY29uc2lkZXJlZCBudWxsXG5mdW5jdGlvbiBjb2xsYXRpb25JbmRleCh4KSB7XG4gIHZhciBpZCA9IFsnYm9vbGVhbicsICdudW1iZXInLCAnc3RyaW5nJywgJ29iamVjdCddO1xuICB2YXIgaWR4ID0gaWQuaW5kZXhPZih0eXBlb2YgeCk7XG4gIC8vZmFsc2UgaWYgLTEgb3RoZXJ3aXNlIHRydWUsIGJ1dCBmYXN0ISEhITFcbiAgaWYgKH5pZHgpIHtcbiAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICByZXR1cm4gNTtcbiAgICB9XG4gICAgcmV0dXJuIGlkeCA8IDMgPyAoaWR4ICsgMikgOiAoaWR4ICsgMyk7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG4vLyBjb252ZXJzaW9uOlxuLy8geCB5eXkgenouLi56elxuLy8geCA9IDAgZm9yIG5lZ2F0aXZlLCAxIGZvciAwLCAyIGZvciBwb3NpdGl2ZVxuLy8geSA9IGV4cG9uZW50IChmb3IgbmVnYXRpdmUgbnVtYmVycyBuZWdhdGVkKSBtb3ZlZCBzbyB0aGF0IGl0J3MgPj0gMFxuLy8geiA9IG1hbnRpc3NlXG5mdW5jdGlvbiBudW1Ub0luZGV4YWJsZVN0cmluZyhudW0pIHtcblxuICBpZiAobnVtID09PSAwKSB7XG4gICAgcmV0dXJuICcxJztcbiAgfVxuXG4gIC8vIGNvbnZlcnQgbnVtYmVyIHRvIGV4cG9uZW50aWFsIGZvcm1hdCBmb3IgZWFzaWVyIGFuZFxuICAvLyBtb3JlIHN1Y2NpbmN0IHN0cmluZyBzb3J0aW5nXG4gIHZhciBleHBGb3JtYXQgPSBudW0udG9FeHBvbmVudGlhbCgpLnNwbGl0KC9lXFwrPy8pO1xuICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQoZXhwRm9ybWF0WzFdLCAxMCk7XG5cbiAgdmFyIG5lZyA9IG51bSA8IDA7XG5cbiAgdmFyIHJlc3VsdCA9IG5lZyA/ICcwJyA6ICcyJztcblxuICAvLyBmaXJzdCBzb3J0IGJ5IG1hZ25pdHVkZVxuICAvLyBpdCdzIGVhc2llciBpZiBhbGwgbWFnbml0dWRlcyBhcmUgcG9zaXRpdmVcbiAgdmFyIG1hZ0ZvckNvbXBhcmlzb24gPSAoKG5lZyA/IC1tYWduaXR1ZGUgOiBtYWduaXR1ZGUpIC0gTUlOX01BR05JVFVERSk7XG4gIHZhciBtYWdTdHJpbmcgPSBwYWRMZWZ0KChtYWdGb3JDb21wYXJpc29uKS50b1N0cmluZygpLCAnMCcsIE1BR05JVFVERV9ESUdJVFMpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBtYWdTdHJpbmc7XG5cbiAgLy8gdGhlbiBzb3J0IGJ5IHRoZSBmYWN0b3JcbiAgdmFyIGZhY3RvciA9IE1hdGguYWJzKHBhcnNlRmxvYXQoZXhwRm9ybWF0WzBdKSk7IC8vIFsxLi4xMClcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKG5lZykgeyAvLyBmb3IgbmVnYXRpdmUgcmV2ZXJzZSBvcmRlcmluZ1xuICAgIGZhY3RvciA9IDEwIC0gZmFjdG9yO1xuICB9XG5cbiAgdmFyIGZhY3RvclN0ciA9IGZhY3Rvci50b0ZpeGVkKDIwKTtcblxuICAvLyBzdHJpcCB6ZXJvcyBmcm9tIHRoZSBlbmRcbiAgZmFjdG9yU3RyID0gZmFjdG9yU3RyLnJlcGxhY2UoL1xcLj8wKyQvLCAnJyk7XG5cbiAgcmVzdWx0ICs9IFNFUCArIGZhY3RvclN0cjtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBjcmVhdGUgYSBjb21wYXJhdG9yIGJhc2VkIG9uIHRoZSBzb3J0IG9iamVjdFxuZnVuY3Rpb24gY3JlYXRlRmllbGRTb3J0ZXIoc29ydCkge1xuXG4gIGZ1bmN0aW9uIGdldEZpZWxkVmFsdWVzQXNBcnJheShkb2MpIHtcbiAgICByZXR1cm4gc29ydC5tYXAoZnVuY3Rpb24gKHNvcnRpbmcpIHtcbiAgICAgIHZhciBmaWVsZE5hbWUgPSBnZXRLZXkoc29ydGluZyk7XG4gICAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkTmFtZSk7XG4gICAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhUm93LCBiUm93KSB7XG4gICAgdmFyIGFGaWVsZFZhbHVlcyA9IGdldEZpZWxkVmFsdWVzQXNBcnJheShhUm93LmRvYyk7XG4gICAgdmFyIGJGaWVsZFZhbHVlcyA9IGdldEZpZWxkVmFsdWVzQXNBcnJheShiUm93LmRvYyk7XG4gICAgdmFyIGNvbGxhdGlvbiA9IGNvbGxhdGUoYUZpZWxkVmFsdWVzLCBiRmllbGRWYWx1ZXMpO1xuICAgIGlmIChjb2xsYXRpb24gIT09IDApIHtcbiAgICAgIHJldHVybiBjb2xsYXRpb247XG4gICAgfVxuICAgIC8vIHRoaXMgaXMgd2hhdCBtYW5nbyBzZWVtcyB0byBkb1xuICAgIHJldHVybiBjb21wYXJlJDEoYVJvdy5kb2MuX2lkLCBiUm93LmRvYy5faWQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJJbk1lbW9yeUZpZWxkcyhyb3dzLCByZXF1ZXN0RGVmLCBpbk1lbW9yeUZpZWxkcykge1xuICByb3dzID0gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3dGaWx0ZXIocm93LmRvYywgcmVxdWVzdERlZi5zZWxlY3RvciwgaW5NZW1vcnlGaWVsZHMpO1xuICB9KTtcblxuICBpZiAocmVxdWVzdERlZi5zb3J0KSB7XG4gICAgLy8gaW4tbWVtb3J5IHNvcnRcbiAgICB2YXIgZmllbGRTb3J0ZXIgPSBjcmVhdGVGaWVsZFNvcnRlcihyZXF1ZXN0RGVmLnNvcnQpO1xuICAgIHJvd3MgPSByb3dzLnNvcnQoZmllbGRTb3J0ZXIpO1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdERlZi5zb3J0WzBdICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICBnZXRWYWx1ZShyZXF1ZXN0RGVmLnNvcnRbMF0pID09PSAnZGVzYycpIHtcbiAgICAgIHJvd3MgPSByb3dzLnJldmVyc2UoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoJ2xpbWl0JyBpbiByZXF1ZXN0RGVmIHx8ICdza2lwJyBpbiByZXF1ZXN0RGVmKSB7XG4gICAgLy8gaGF2ZSB0byBkbyB0aGUgbGltaXQgaW4tbWVtb3J5XG4gICAgdmFyIHNraXAgPSByZXF1ZXN0RGVmLnNraXAgfHwgMDtcbiAgICB2YXIgbGltaXQgPSAoJ2xpbWl0JyBpbiByZXF1ZXN0RGVmID8gcmVxdWVzdERlZi5saW1pdCA6IHJvd3MubGVuZ3RoKSArIHNraXA7XG4gICAgcm93cyA9IHJvd3Muc2xpY2Uoc2tpcCwgbGltaXQpO1xuICB9XG4gIHJldHVybiByb3dzO1xufVxuXG5mdW5jdGlvbiByb3dGaWx0ZXIoZG9jLCBzZWxlY3RvciwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcmV0dXJuIGluTWVtb3J5RmllbGRzLmV2ZXJ5KGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHZhciBtYXRjaGVyID0gc2VsZWN0b3JbZmllbGRdO1xuICAgIHZhciBwYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQoZmllbGQpO1xuICAgIHZhciBkb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpO1xuICAgIGlmIChpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkpIHtcbiAgICAgIHJldHVybiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKG1hdGNoZXIsIGRvYywgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcikge1xuICAgIC8vIG5vIGZpbHRlcmluZyBuZWNlc3Nhcnk7IHRoaXMgZmllbGQgaXMganVzdCBuZWVkZWQgZm9yIHNvcnRpbmdcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlzIG1hdGNoZXIgYW4gb2JqZWN0LCBpZiBzbyBjb250aW51ZSByZWN1cnNpb25cbiAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXRjaGVyKS5ldmVyeShmdW5jdGlvbiAobWF5YmVVc2VyT3BlcmF0b3IpIHtcbiAgICAgIHZhciB1c2VyVmFsdWUgPSBtYXRjaGVyWyBtYXliZVVzZXJPcGVyYXRvciBdO1xuICAgICAgLy8gZXhwbGljaXQgb3BlcmF0b3JcbiAgICAgIGlmIChtYXliZVVzZXJPcGVyYXRvci5pbmRleE9mKFwiJFwiKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbWF0Y2gobWF5YmVVc2VyT3BlcmF0b3IsIGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc3ViUGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKG1heWJlVXNlck9wZXJhdG9yKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZG9jRmllbGRWYWx1ZSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgdHlwZW9mIHVzZXJWYWx1ZSAhPT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgIHN1YlBhcnNlZEZpZWxkLmxlbmd0aCA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gdGhlIGZpZWxkIGRvZXMgbm90IGV4aXN0LCByZXR1cm4gb3IgZ2V0RmllbGRGcm9tRG9jIHdpbGwgdGhyb3dcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ViRG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2NGaWVsZFZhbHVlLCBzdWJQYXJzZWRGaWVsZCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1c2VyVmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAvLyBmaWVsZCB2YWx1ZSBpcyBhbiBvYmplY3QgdGhhdCBtaWdodCBjb250YWluIG1vcmUgb3BlcmF0b3JzXG4gICAgICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGltcGxpY2l0IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiBtYXRjaChcIiRlcVwiLCBkb2MsIHVzZXJWYWx1ZSwgc3ViUGFyc2VkRmllbGQsIHN1YkRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gbm8gbW9yZSBkZXB0aCwgTm8gbmVlZCB0byByZWN1cnNlIGZ1cnRoZXJcbiAgcmV0dXJuIG1hdGNoZXIgPT09IGRvY0ZpZWxkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIG1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IoZmllbGQsIG1hdGNoZXIsIGRvYykge1xuXG4gIGlmIChmaWVsZCA9PT0gJyRvcicpIHtcbiAgICByZXR1cm4gbWF0Y2hlci5zb21lKGZ1bmN0aW9uIChvck1hdGNoZXJzKSB7XG4gICAgICByZXR1cm4gcm93RmlsdGVyKGRvYywgb3JNYXRjaGVycywgT2JqZWN0LmtleXMob3JNYXRjaGVycykpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGZpZWxkID09PSAnJG5vdCcpIHtcbiAgICByZXR1cm4gIXJvd0ZpbHRlcihkb2MsIG1hdGNoZXIsIE9iamVjdC5rZXlzKG1hdGNoZXIpKTtcbiAgfVxuXG4gIC8vYCRub3JgXG4gIHJldHVybiAhbWF0Y2hlci5maW5kKGZ1bmN0aW9uIChvck1hdGNoZXJzKSB7XG4gICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgfSk7XG5cbn1cblxuZnVuY3Rpb24gbWF0Y2godXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgaWYgKCFtYXRjaGVyc1t1c2VyT3BlcmF0b3JdKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gb3BlcmF0b3IgXCInICsgdXNlck9wZXJhdG9yICtcbiAgICAgICdcIiAtIHNob3VsZCBiZSBvbmUgb2YgJGVxLCAkbHRlLCAkbHQsICRndCwgJGd0ZSwgJGV4aXN0cywgJG5lLCAkaW4sICcgK1xuICAgICAgJyRuaW4sICRzaXplLCAkbW9kLCAkcmVnZXgsICRlbGVtTWF0Y2gsICR0eXBlLCAkYWxsTWF0Y2ggb3IgJGFsbCcpO1xuICB9XG4gIHJldHVybiBtYXRjaGVyc1t1c2VyT3BlcmF0b3JdKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiBkb2NGaWVsZFZhbHVlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSAndW5kZWZpbmVkJztcbn1cblxuZnVuY3Rpb24gbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gXCJudW1iZXJcIiB8fFxuICAgIHBhcnNlSW50KGRvY0ZpZWxkVmFsdWUsIDEwKSAhPT0gZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBkaXZpc29yID0gdXNlclZhbHVlWzBdO1xuICB2YXIgbW9kID0gdXNlclZhbHVlWzFdO1xuXG4gIHJldHVybiBkb2NGaWVsZFZhbHVlICUgZGl2aXNvciA9PT0gbW9kO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAoZG9jRmllbGRWYWx1ZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlSXRlbSkgPT09IDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWUpID09PSAwO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc0FsbFZhbHVlcyhkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAoZG9jRmllbGRWYWx1ZUl0ZW0pIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXJyYXlTaXplKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IHVzZXJWYWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVnZXhNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgdmFyIHJlID0gbmV3IFJlZ0V4cCh1c2VyVmFsdWUpO1xuXG4gIHJldHVybiByZS50ZXN0KGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG5cbiAgc3dpdGNoICh1c2VyVmFsdWUpIHtcbiAgICBjYXNlICdudWxsJzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlID09PSBudWxsO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdib29sZWFuJztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdudW1iZXInO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ3N0cmluZyc7XG4gICAgY2FzZSAnYXJyYXknOlxuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgaW5zdGFuY2VvZiBBcnJheTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChkb2NGaWVsZFZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH1cbn1cblxudmFyIG1hdGNoZXJzID0ge1xuXG4gICckZWxlbU1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZVswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCB2YWwpO1xuICAgIH0pO1xuICB9LFxuXG4gICckYWxsTWF0Y2gnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiByb3dGaWx0ZXIodmFsLCB1c2VyVmFsdWUsIE9iamVjdC5rZXlzKHVzZXJWYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCB2YWwpO1xuICAgIH0pO1xuICB9LFxuXG4gICckZXEnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID09PSAwO1xuICB9LFxuXG4gICckZ3RlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+PSAwO1xuICB9LFxuXG4gICckZ3QnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID4gMDtcbiAgfSxcblxuICAnJGx0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPD0gMDtcbiAgfSxcblxuICAnJGx0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA8IDA7XG4gIH0sXG5cbiAgJyRleGlzdHMnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgLy9hIGZpZWxkIHRoYXQgaXMgbnVsbCBpcyBzdGlsbCBjb25zaWRlcmVkIHRvIGV4aXN0XG4gICAgaWYgKHVzZXJWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICB9LFxuXG4gICckbW9kJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBtb2RGaWVsZChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckbmUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAobmVWYWx1ZSkge1xuICAgICAgcmV0dXJuIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgbmVWYWx1ZSkgIT09IDA7XG4gICAgfSk7XG4gIH0sXG4gICckaW4nOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckbmluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiAhYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRzaXplJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgYXJyYXlTaXplKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRhbGwnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiYgYXJyYXlDb250YWluc0FsbFZhbHVlcyhkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckcmVnZXgnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICB0eXBlb2YgZG9jRmllbGRWYWx1ZSA9PSBcInN0cmluZ1wiICYmXG4gICAgICB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHJlZ2V4VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgcmVnZXhWYWx1ZSk7XG4gICAgICB9KTtcbiAgfSxcblxuICAnJHR5cGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9XG59O1xuXG4vLyByZXR1cm4gdHJ1ZSBpZiB0aGUgZ2l2ZW4gZG9jIG1hdGNoZXMgdGhlIHN1cHBsaWVkIHNlbGVjdG9yXG5mdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBzZWxlY3Rvcikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ29iamVjdCcpIHtcbiAgICAvLyBtYXRjaCB0aGUgQ291Y2hEQiBlcnJvciBtZXNzYWdlXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBlcnJvcjogZXhwZWN0ZWQgYSBKU09OIG9iamVjdCcpO1xuICB9XG5cbiAgc2VsZWN0b3IgPSBtYXNzYWdlU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB2YXIgcm93ID0ge1xuICAgICdkb2MnOiBkb2NcbiAgfTtcblxuICB2YXIgcm93c01hdGNoZWQgPSBmaWx0ZXJJbk1lbW9yeUZpZWxkcyhbcm93XSwgeyAnc2VsZWN0b3InOiBzZWxlY3RvciB9LCBPYmplY3Qua2V5cyhzZWxlY3RvcikpO1xuICByZXR1cm4gcm93c01hdGNoZWQgJiYgcm93c01hdGNoZWQubGVuZ3RoID09PSAxO1xufVxuXG5mdW5jdGlvbiBldmFsRmlsdGVyKGlucHV0KSB7XG4gIHJldHVybiBzY29wZUV2YWwoJ1widXNlIHN0cmljdFwiO1xcbnJldHVybiAnICsgaW5wdXQgKyAnOycsIHt9KTtcbn1cblxuZnVuY3Rpb24gZXZhbFZpZXcoaW5wdXQpIHtcbiAgdmFyIGNvZGUgPSBbXG4gICAgJ3JldHVybiBmdW5jdGlvbihkb2MpIHsnLFxuICAgICcgIFwidXNlIHN0cmljdFwiOycsXG4gICAgJyAgdmFyIGVtaXR0ZWQgPSBmYWxzZTsnLFxuICAgICcgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGEsIGIpIHsnLFxuICAgICcgICAgZW1pdHRlZCA9IHRydWU7JyxcbiAgICAnICB9OycsXG4gICAgJyAgdmFyIHZpZXcgPSAnICsgaW5wdXQgKyAnOycsXG4gICAgJyAgdmlldyhkb2MpOycsXG4gICAgJyAgaWYgKGVtaXR0ZWQpIHsnLFxuICAgICcgICAgcmV0dXJuIHRydWU7JyxcbiAgICAnICB9JyxcbiAgICAnfTsnXG4gIF0uam9pbignXFxuJyk7XG5cbiAgcmV0dXJuIHNjb3BlRXZhbChjb2RlLCB7fSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMuZmlsdGVyICE9PSAnX3NlbGVjdG9yJykge1xuICAgICAgdmFyIGZpbHRlck5hbWUgPSB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnID9cbiAgICAgICAgb3B0cy5maWx0ZXIgOiAnZnVuY3Rpb24nO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignc2VsZWN0b3IgaW52YWxpZCBmb3IgZmlsdGVyIFwiJyArIGZpbHRlck5hbWUgKyAnXCInKSk7XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShvcHRzKSB7XG4gIGlmIChvcHRzLnZpZXcgJiYgIW9wdHMuZmlsdGVyKSB7XG4gICAgb3B0cy5maWx0ZXIgPSAnX3ZpZXcnO1xuICB9XG5cbiAgaWYgKG9wdHMuc2VsZWN0b3IgJiYgIW9wdHMuZmlsdGVyKSB7XG4gICAgb3B0cy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgICBvcHRzLnZpZXcgPSBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy52aWV3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cy5maWx0ZXIgPSBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRGaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycgJiZcbiAgICAhb3B0cy5kb2NfaWRzICYmICFpc1JlbW90ZShjaGFuZ2VzSGFuZGxlci5kYik7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihjaGFuZ2VzSGFuZGxlciwgb3B0cykge1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuICBpZiAob3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICBpZiAoIW9wdHMudmlldyB8fCB0eXBlb2Ygb3B0cy52aWV3ICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAnYHZpZXdgIGZpbHRlciBwYXJhbWV0ZXIgbm90IGZvdW5kIG9yIGludmFsaWQuJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgLy8gZmV0Y2ggYSB2aWV3IGZyb20gYSBkZXNpZ24gZG9jLCBtYWtlIGl0IGJlaGF2ZSBsaWtlIGEgZmlsdGVyXG4gICAgdmFyIHZpZXdOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy52aWV3KTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kYi5nZXQoJ19kZXNpZ24vJyArIHZpZXdOYW1lWzBdLCBmdW5jdGlvbiAoZXJyLCBkZG9jKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlci5pc0NhbmNlbGxlZCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikpO1xuICAgICAgfVxuICAgICAgdmFyIG1hcEZ1biA9IGRkb2MgJiYgZGRvYy52aWV3cyAmJiBkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXSAmJlxuICAgICAgICBkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXS5tYXA7XG4gICAgICBpZiAoIW1hcEZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKGRkb2Mudmlld3MgPyAnbWlzc2luZyBqc29uIGtleTogJyArIHZpZXdOYW1lWzFdIDpcbiAgICAgICAgICAgICdtaXNzaW5nIGpzb24ga2V5OiB2aWV3cycpKSk7XG4gICAgICB9XG4gICAgICBvcHRzLmZpbHRlciA9IGV2YWxWaWV3KG1hcEZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIG9wdHMuZmlsdGVyID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgcmV0dXJuIG1hdGNoZXNTZWxlY3Rvcihkb2MsIG9wdHMuc2VsZWN0b3IpO1xuICAgIH07XG4gICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIC8vIGZldGNoIGEgZmlsdGVyIGZyb20gYSBkZXNpZ24gZG9jXG4gICAgdmFyIGZpbHRlck5hbWUgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLmZpbHRlcik7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyBmaWx0ZXJOYW1lWzBdLCBmdW5jdGlvbiAoZXJyLCBkZG9jKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlci5pc0NhbmNlbGxlZCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikpO1xuICAgICAgfVxuICAgICAgdmFyIGZpbHRlckZ1biA9IGRkb2MgJiYgZGRvYy5maWx0ZXJzICYmIGRkb2MuZmlsdGVyc1tmaWx0ZXJOYW1lWzFdXTtcbiAgICAgIGlmICghZmlsdGVyRnVuKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQyxcbiAgICAgICAgICAoKGRkb2MgJiYgZGRvYy5maWx0ZXJzKSA/ICdtaXNzaW5nIGpzb24ga2V5OiAnICsgZmlsdGVyTmFtZVsxXVxuICAgICAgICAgICAgOiAnbWlzc2luZyBqc29uIGtleTogZmlsdGVycycpKSk7XG4gICAgICB9XG4gICAgICBvcHRzLmZpbHRlciA9IGV2YWxGaWx0ZXIoZmlsdGVyRnVuKTtcbiAgICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUNoYW5nZXNGaWx0ZXJQbHVnaW4oUG91Y2hEQikge1xuICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luID0ge1xuICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSxcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZSxcbiAgICBzaG91bGRGaWx0ZXI6IHNob3VsZEZpbHRlcixcbiAgICBmaWx0ZXI6IGZpbHRlclxuICB9O1xufVxuXG4vLyBUT0RPOiByZW1vdmUgZnJvbSBwb3VjaGRiLWNvcmUgKGJyZWFraW5nKVxuUG91Y2hEQi5wbHVnaW4oYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKTtcblxuUG91Y2hEQi52ZXJzaW9uID0gdmVyc2lvbjtcblxuZnVuY3Rpb24gdG9PYmplY3QoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAob2JqLCBpdGVtKSB7XG4gICAgb2JqW2l0ZW1dID0gdHJ1ZTtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG59XG4vLyBMaXN0IG9mIHRvcCBsZXZlbCByZXNlcnZlZCB3b3JkcyBmb3IgZG9jXG52YXIgcmVzZXJ2ZWRXb3JkcyA9IHRvT2JqZWN0KFtcbiAgJ19pZCcsXG4gICdfcmV2JyxcbiAgJ19hY2Nlc3MnLFxuICAnX2F0dGFjaG1lbnRzJyxcbiAgJ19kZWxldGVkJyxcbiAgJ19yZXZpc2lvbnMnLFxuICAnX3JldnNfaW5mbycsXG4gICdfY29uZmxpY3RzJyxcbiAgJ19kZWxldGVkX2NvbmZsaWN0cycsXG4gICdfbG9jYWxfc2VxJyxcbiAgJ19yZXZfdHJlZScsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cycsXG4gIC8vIFNwZWNpZmljIHRvIENvdWNoYmFzZSBTeW5jIEdhdGV3YXlcbiAgJ19yZW1vdmVkJ1xuXSk7XG5cbi8vIExpc3Qgb2YgcmVzZXJ2ZWQgd29yZHMgdGhhdCBzaG91bGQgZW5kIHVwIGluIHRoZSBkb2N1bWVudFxudmFyIGRhdGFXb3JkcyA9IHRvT2JqZWN0KFtcbiAgJ19hY2Nlc3MnLFxuICAnX2F0dGFjaG1lbnRzJyxcbiAgLy8gcmVwbGljYXRpb24gZG9jdW1lbnRzXG4gICdfcmVwbGljYXRpb25faWQnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV90aW1lJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV9yZWFzb24nLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRzJ1xuXSk7XG5cbmZ1bmN0aW9uIHBhcnNlUmV2aXNpb25JbmZvKHJldikge1xuICBpZiAoIS9eXFxkKy0vLnRlc3QocmV2KSkge1xuICAgIHJldHVybiBjcmVhdGVFcnJvcihJTlZBTElEX1JFVik7XG4gIH1cbiAgdmFyIGlkeCA9IHJldi5pbmRleE9mKCctJyk7XG4gIHZhciBsZWZ0ID0gcmV2LnN1YnN0cmluZygwLCBpZHgpO1xuICB2YXIgcmlnaHQgPSByZXYuc3Vic3RyaW5nKGlkeCArIDEpO1xuICByZXR1cm4ge1xuICAgIHByZWZpeDogcGFyc2VJbnQobGVmdCwgMTApLFxuICAgIGlkOiByaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMocmV2aXNpb25zLCBvcHRzKSB7XG4gIHZhciBwb3MgPSByZXZpc2lvbnMuc3RhcnQgLSByZXZpc2lvbnMuaWRzLmxlbmd0aCArIDE7XG5cbiAgdmFyIHJldmlzaW9uSWRzID0gcmV2aXNpb25zLmlkcztcbiAgdmFyIGlkcyA9IFtyZXZpc2lvbklkc1swXSwgb3B0cywgW11dO1xuXG4gIGZvciAodmFyIGkgPSAxLCBsZW4gPSByZXZpc2lvbklkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlkcyA9IFtyZXZpc2lvbklkc1tpXSwge3N0YXR1czogJ21pc3NpbmcnfSwgW2lkc11dO1xuICB9XG5cbiAgcmV0dXJuIFt7XG4gICAgcG9zOiBwb3MsXG4gICAgaWRzOiBpZHNcbiAgfV07XG59XG5cbi8vIFByZXByb2Nlc3MgZG9jdW1lbnRzLCBwYXJzZSB0aGVpciByZXZpc2lvbnMsIGFzc2lnbiBhbiBpZCBhbmQgYVxuLy8gcmV2aXNpb24gZm9yIG5ldyB3cml0ZXMgdGhhdCBhcmUgbWlzc2luZyB0aGVtLCBldGNcbmZ1bmN0aW9uIHBhcnNlRG9jKGRvYywgbmV3RWRpdHMsIGRiT3B0cykge1xuICBpZiAoIWRiT3B0cykge1xuICAgIGRiT3B0cyA9IHtcbiAgICAgIGRldGVybWluaXN0aWNfcmV2czogdHJ1ZVxuICAgIH07XG4gIH1cblxuICB2YXIgblJldk51bTtcbiAgdmFyIG5ld1JldklkO1xuICB2YXIgcmV2SW5mbztcbiAgdmFyIG9wdHMgPSB7c3RhdHVzOiAnYXZhaWxhYmxlJ307XG4gIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICBvcHRzLmRlbGV0ZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG5ld0VkaXRzKSB7XG4gICAgaWYgKCFkb2MuX2lkKSB7XG4gICAgICBkb2MuX2lkID0gdXVpZCgpO1xuICAgIH1cbiAgICBuZXdSZXZJZCA9IHJldiQkMShkb2MsIGRiT3B0cy5kZXRlcm1pbmlzdGljX3JldnMpO1xuICAgIGlmIChkb2MuX3Jldikge1xuICAgICAgcmV2SW5mbyA9IHBhcnNlUmV2aXNpb25JbmZvKGRvYy5fcmV2KTtcbiAgICAgIGlmIChyZXZJbmZvLmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXZJbmZvO1xuICAgICAgfVxuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogcmV2SW5mby5wcmVmaXgsXG4gICAgICAgIGlkczogW3JldkluZm8uaWQsIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtbbmV3UmV2SWQsIG9wdHMsIFtdXV1dXG4gICAgICB9XTtcbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IDEsXG4gICAgICAgIGlkcyA6IFtuZXdSZXZJZCwgb3B0cywgW11dXG4gICAgICB9XTtcbiAgICAgIG5SZXZOdW0gPSAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZG9jLl9yZXZpc2lvbnMpIHtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMoZG9jLl9yZXZpc2lvbnMsIG9wdHMpO1xuICAgICAgblJldk51bSA9IGRvYy5fcmV2aXNpb25zLnN0YXJ0O1xuICAgICAgbmV3UmV2SWQgPSBkb2MuX3JldmlzaW9ucy5pZHNbMF07XG4gICAgfVxuICAgIGlmICghZG9jLl9yZXZfdHJlZSkge1xuICAgICAgcmV2SW5mbyA9IHBhcnNlUmV2aXNpb25JbmZvKGRvYy5fcmV2KTtcbiAgICAgIGlmIChyZXZJbmZvLmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXZJbmZvO1xuICAgICAgfVxuICAgICAgblJldk51bSA9IHJldkluZm8ucHJlZml4O1xuICAgICAgbmV3UmV2SWQgPSByZXZJbmZvLmlkO1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogblJldk51bSxcbiAgICAgICAgaWRzOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgfVxuICB9XG5cbiAgaW52YWxpZElkRXJyb3IoZG9jLl9pZCk7XG5cbiAgZG9jLl9yZXYgPSBuUmV2TnVtICsgJy0nICsgbmV3UmV2SWQ7XG5cbiAgdmFyIHJlc3VsdCA9IHttZXRhZGF0YSA6IHt9LCBkYXRhIDoge319O1xuICBmb3IgKHZhciBrZXkgaW4gZG9jKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYywga2V5KSkge1xuICAgICAgdmFyIHNwZWNpYWxLZXkgPSBrZXlbMF0gPT09ICdfJztcbiAgICAgIGlmIChzcGVjaWFsS2V5ICYmICFyZXNlcnZlZFdvcmRzW2tleV0pIHtcbiAgICAgICAgdmFyIGVycm9yID0gY3JlYXRlRXJyb3IoRE9DX1ZBTElEQVRJT04sIGtleSk7XG4gICAgICAgIGVycm9yLm1lc3NhZ2UgPSBET0NfVkFMSURBVElPTi5tZXNzYWdlICsgJzogJyArIGtleTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9IGVsc2UgaWYgKHNwZWNpYWxLZXkgJiYgIWRhdGFXb3Jkc1trZXldKSB7XG4gICAgICAgIHJlc3VsdC5tZXRhZGF0YVtrZXkuc2xpY2UoMSldID0gZG9jW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQuZGF0YVtrZXldID0gZG9jW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQmFzZTY0KGRhdGEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdGhpc0F0b2IoZGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKTtcbiAgICByZXR1cm4ge2Vycm9yOiBlcnJ9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgdmFyIGFzQmluYXJ5ID0gcGFyc2VCYXNlNjQoYXR0LmRhdGEpO1xuICBpZiAoYXNCaW5hcnkuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soYXNCaW5hcnkuZXJyb3IpO1xuICB9XG5cbiAgYXR0Lmxlbmd0aCA9IGFzQmluYXJ5Lmxlbmd0aDtcbiAgaWYgKGJsb2JUeXBlID09PSAnYmxvYicpIHtcbiAgICBhdHQuZGF0YSA9IGJpblN0cmluZ1RvQmx1ZmZlcihhc0JpbmFyeSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gIH0gZWxzZSBpZiAoYmxvYlR5cGUgPT09ICdiYXNlNjQnKSB7XG4gICAgYXR0LmRhdGEgPSB0aGlzQnRvYShhc0JpbmFyeSk7XG4gIH0gZWxzZSB7IC8vIGJpbmFyeVxuICAgIGF0dC5kYXRhID0gYXNCaW5hcnk7XG4gIH1cbiAgYmluYXJ5TWQ1KGFzQmluYXJ5LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgYXR0LmRpZ2VzdCA9ICdtZDUtJyArIHJlc3VsdDtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0Jsb2IoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgYmluYXJ5TWQ1KGF0dC5kYXRhLCBmdW5jdGlvbiAobWQ1KSB7XG4gICAgYXR0LmRpZ2VzdCA9ICdtZDUtJyArIG1kNTtcbiAgICAvLyBzaXplIGlzIGZvciBibG9icyAoYnJvd3NlciksIGxlbmd0aCBpcyBmb3IgYnVmZmVycyAobm9kZSlcbiAgICBhdHQubGVuZ3RoID0gYXR0LmRhdGEuc2l6ZSB8fCBhdHQuZGF0YS5sZW5ndGggfHwgMDtcbiAgICBpZiAoYmxvYlR5cGUgPT09ICdiaW5hcnknKSB7XG4gICAgICBibG9iVG9CaW5hcnlTdHJpbmcoYXR0LmRhdGEsIGZ1bmN0aW9uIChiaW5TdHJpbmcpIHtcbiAgICAgICAgYXR0LmRhdGEgPSBiaW5TdHJpbmc7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgICAgYmxvYlRvQmFzZTY0KGF0dC5kYXRhLCBmdW5jdGlvbiAoYjY0KSB7XG4gICAgICAgIGF0dC5kYXRhID0gYjY0O1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnQoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgaWYgKGF0dC5zdHViKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhdHQuZGF0YSA9PT0gJ3N0cmluZycpIHsgLy8gaW5wdXQgaXMgYSBiYXNlNjQgc3RyaW5nXG4gICAgcHJlcHJvY2Vzc1N0cmluZyhhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH0gZWxzZSB7IC8vIGlucHV0IGlzIGEgYmxvYlxuICAgIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudHMoZG9jSW5mb3MsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuXG4gIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICB2YXIgZG9jdiA9IDA7XG4gIHZhciBvdmVyYWxsRXJyO1xuXG4gIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICB2YXIgYXR0YWNobWVudHMgPSBkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyA/XG4gICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSA6IFtdO1xuICAgIHZhciByZWN2ID0gMDtcblxuICAgIGlmICghYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NlZEF0dGFjaG1lbnQoZXJyKSB7XG4gICAgICBvdmVyYWxsRXJyID0gZXJyO1xuICAgICAgcmVjdisrO1xuICAgICAgaWYgKHJlY3YgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cywga2V5KSkge1xuICAgICAgICBwcmVwcm9jZXNzQXR0YWNobWVudChkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV0sXG4gICAgICAgICAgYmxvYlR5cGUsIHByb2Nlc3NlZEF0dGFjaG1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBkb2N2Kys7XG4gICAgaWYgKGRvY0luZm9zLmxlbmd0aCA9PT0gZG9jdikge1xuICAgICAgaWYgKG92ZXJhbGxFcnIpIHtcbiAgICAgICAgY2FsbGJhY2sob3ZlcmFsbEVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVEb2MocmV2TGltaXQsIHByZXYsIGRvY0luZm8sIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgaSwgY2IsIHdyaXRlRG9jLCBuZXdFZGl0cykge1xuXG4gIGlmIChyZXZFeGlzdHMocHJldi5yZXZfdHJlZSwgZG9jSW5mby5tZXRhZGF0YS5yZXYpICYmICFuZXdFZGl0cykge1xuICAgIHJlc3VsdHNbaV0gPSBkb2NJbmZvO1xuICAgIHJldHVybiBjYigpO1xuICB9XG5cbiAgLy8gc29tZXRpbWVzIHRoaXMgaXMgcHJlLWNhbGN1bGF0ZWQuIGhpc3RvcmljYWxseSBub3QgYWx3YXlzXG4gIHZhciBwcmV2aW91c1dpbm5pbmdSZXYgPSBwcmV2Lndpbm5pbmdSZXYgfHwgd2lubmluZ1JldihwcmV2KTtcbiAgdmFyIHByZXZpb3VzbHlEZWxldGVkID0gJ2RlbGV0ZWQnIGluIHByZXYgPyBwcmV2LmRlbGV0ZWQgOlxuICAgIGlzRGVsZXRlZChwcmV2LCBwcmV2aW91c1dpbm5pbmdSZXYpO1xuICB2YXIgZGVsZXRlZCA9ICdkZWxldGVkJyBpbiBkb2NJbmZvLm1ldGFkYXRhID8gZG9jSW5mby5tZXRhZGF0YS5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSk7XG4gIHZhciBpc1Jvb3QgPSAvXjEtLy50ZXN0KGRvY0luZm8ubWV0YWRhdGEucmV2KTtcblxuICBpZiAocHJldmlvdXNseURlbGV0ZWQgJiYgIWRlbGV0ZWQgJiYgbmV3RWRpdHMgJiYgaXNSb290KSB7XG4gICAgdmFyIG5ld0RvYyA9IGRvY0luZm8uZGF0YTtcbiAgICBuZXdEb2MuX3JldiA9IHByZXZpb3VzV2lubmluZ1JldjtcbiAgICBuZXdEb2MuX2lkID0gZG9jSW5mby5tZXRhZGF0YS5pZDtcbiAgICBkb2NJbmZvID0gcGFyc2VEb2MobmV3RG9jLCBuZXdFZGl0cyk7XG4gIH1cblxuICB2YXIgbWVyZ2VkID0gbWVyZ2UocHJldi5yZXZfdHJlZSwgZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuXG4gIHZhciBpbkNvbmZsaWN0ID0gbmV3RWRpdHMgJiYgKChcbiAgICAocHJldmlvdXNseURlbGV0ZWQgJiYgZGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzICE9PSAnbmV3X2xlYWYnKSB8fFxuICAgICghcHJldmlvdXNseURlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAocHJldmlvdXNseURlbGV0ZWQgJiYgIWRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyA9PT0gJ25ld19icmFuY2gnKSkpO1xuXG4gIGlmIChpbkNvbmZsaWN0KSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgcmVzdWx0c1tpXSA9IGVycjtcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIHZhciBuZXdSZXYgPSBkb2NJbmZvLm1ldGFkYXRhLnJldjtcbiAgZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZSA9IG1lcmdlZC50cmVlO1xuICBkb2NJbmZvLnN0ZW1tZWRSZXZzID0gbWVyZ2VkLnN0ZW1tZWRSZXZzIHx8IFtdO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAocHJldi5yZXZfbWFwKSB7XG4gICAgZG9jSW5mby5tZXRhZGF0YS5yZXZfbWFwID0gcHJldi5yZXZfbWFwOyAvLyB1c2VkIG9ubHkgYnkgbGV2ZWxkYlxuICB9XG5cbiAgLy8gcmVjYWxjdWxhdGVcbiAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgd2lubmluZ1JldklzRGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxKTtcblxuICAvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBkb2N1bWVudHMgdGhhdCB3ZXJlIGFkZGVkL3JlbW92ZWQsXG4gIC8vIGZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIHRvdGFsX3Jvd3MvZG9jX2NvdW50XG4gIHZhciBkZWx0YSA9IChwcmV2aW91c2x5RGVsZXRlZCA9PT0gd2lubmluZ1JldklzRGVsZXRlZCkgPyAwIDpcbiAgICBwcmV2aW91c2x5RGVsZXRlZCA8IHdpbm5pbmdSZXZJc0RlbGV0ZWQgPyAtMSA6IDE7XG5cbiAgdmFyIG5ld1JldklzRGVsZXRlZDtcbiAgaWYgKG5ld1JldiA9PT0gd2lubmluZ1JldiQkMSkge1xuICAgIC8vIGlmIHRoZSBuZXcgcmV2IGlzIHRoZSBzYW1lIGFzIHRoZSB3aW5uaW5nIHJldiwgd2UgY2FuIHJldXNlIHRoYXQgdmFsdWVcbiAgICBuZXdSZXZJc0RlbGV0ZWQgPSB3aW5uaW5nUmV2SXNEZWxldGVkO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZXkncmUgbm90IHRoZSBzYW1lLCB0aGVuIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGVcbiAgICBuZXdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgbmV3UmV2KTtcbiAgfVxuXG4gIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsIG5ld1JldklzRGVsZXRlZCxcbiAgICB0cnVlLCBkZWx0YSwgaSwgY2IpO1xufVxuXG5mdW5jdGlvbiByb290SXNNaXNzaW5nKGRvY0luZm8pIHtcbiAgcmV0dXJuIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0uaWRzWzFdLnN0YXR1cyA9PT0gJ21pc3NpbmcnO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzRG9jcyhyZXZMaW1pdCwgZG9jSW5mb3MsIGFwaSwgZmV0Y2hlZERvY3MsIHR4LCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgICAgd3JpdGVEb2MsIG9wdHMsIG92ZXJhbGxDYWxsYmFjaykge1xuXG4gIC8vIERlZmF1bHQgdG8gMTAwMCBsb2NhbGx5XG4gIHJldkxpbWl0ID0gcmV2TGltaXQgfHwgMTAwMDtcblxuICBmdW5jdGlvbiBpbnNlcnREb2MoZG9jSW5mbywgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcbiAgICAvLyBDYW50IGluc2VydCBuZXcgZGVsZXRlZCBkb2N1bWVudHNcbiAgICB2YXIgd2lubmluZ1JldiQkMSA9IHdpbm5pbmdSZXYoZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG4gICAgaWYgKCd3YXNfZGVsZXRlJyBpbiBvcHRzICYmIGRlbGV0ZWQpIHtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ2RlbGV0ZWQnKTtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8vIDQ3MTIgLSBkZXRlY3Qgd2hldGhlciBhIG5ldyBkb2N1bWVudCB3YXMgaW5zZXJ0ZWQgd2l0aCBhIF9yZXZcbiAgICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmIHJvb3RJc01pc3NpbmcoZG9jSW5mbyk7XG5cbiAgICBpZiAoaW5Db25mbGljdCkge1xuICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gZXJyO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gZGVsZXRlZCA/IDAgOiAxO1xuXG4gICAgd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgZGVsZXRlZCwgZGVsZXRlZCwgZmFsc2UsXG4gICAgICBkZWx0YSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICB9XG5cbiAgdmFyIG5ld0VkaXRzID0gb3B0cy5uZXdfZWRpdHM7XG4gIHZhciBpZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgZG9jc0RvbmUgPSAwO1xuICB2YXIgZG9jc1RvRG8gPSBkb2NJbmZvcy5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gY2hlY2tBbGxEb2NzRG9uZSgpIHtcbiAgICBpZiAoKytkb2NzRG9uZSA9PT0gZG9jc1RvRG8gJiYgb3ZlcmFsbENhbGxiYWNrKSB7XG4gICAgICBvdmVyYWxsQ2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50RG9jLCByZXN1bHRzSWR4KSB7XG5cbiAgICBpZiAoY3VycmVudERvYy5faWQgJiYgaXNMb2NhbElkKGN1cnJlbnREb2MuX2lkKSkge1xuICAgICAgdmFyIGZ1biA9IGN1cnJlbnREb2MuX2RlbGV0ZWQgPyAnX3JlbW92ZUxvY2FsJyA6ICdfcHV0TG9jYWwnO1xuICAgICAgYXBpW2Z1bl0oY3VycmVudERvYywge2N0eDogdHh9LCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVyciB8fCByZXM7XG4gICAgICAgIGNoZWNrQWxsRG9jc0RvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpZCA9IGN1cnJlbnREb2MubWV0YWRhdGEuaWQ7XG4gICAgaWYgKGlkc1RvRG9jcy5oYXMoaWQpKSB7XG4gICAgICBkb2NzVG9Eby0tOyAvLyBkdXBsaWNhdGVcbiAgICAgIGlkc1RvRG9jcy5nZXQoaWQpLnB1c2goW2N1cnJlbnREb2MsIHJlc3VsdHNJZHhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWRzVG9Eb2NzLnNldChpZCwgW1tjdXJyZW50RG9jLCByZXN1bHRzSWR4XV0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gaW4gdGhlIGNhc2Ugb2YgbmV3X2VkaXRzLCB0aGUgdXNlciBjYW4gcHJvdmlkZSBtdWx0aXBsZSBkb2NzXG4gIC8vIHdpdGggdGhlIHNhbWUgaWQuIHRoZXNlIG5lZWQgdG8gYmUgcHJvY2Vzc2VkIHNlcXVlbnRpYWxseVxuICBpZHNUb0RvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jcywgaWQpIHtcbiAgICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgICBmdW5jdGlvbiBkb2NXcml0dGVuKCkge1xuICAgICAgaWYgKCsrbnVtRG9uZSA8IGRvY3MubGVuZ3RoKSB7XG4gICAgICAgIG5leHREb2MoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrQWxsRG9jc0RvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dERvYygpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGRvY3NbbnVtRG9uZV07XG4gICAgICB2YXIgY3VycmVudERvYyA9IHZhbHVlWzBdO1xuICAgICAgdmFyIHJlc3VsdHNJZHggPSB2YWx1ZVsxXTtcblxuICAgICAgaWYgKGZldGNoZWREb2NzLmhhcyhpZCkpIHtcbiAgICAgICAgdXBkYXRlRG9jKHJldkxpbWl0LCBmZXRjaGVkRG9jcy5nZXQoaWQpLCBjdXJyZW50RG9jLCByZXN1bHRzLFxuICAgICAgICAgIHJlc3VsdHNJZHgsIGRvY1dyaXR0ZW4sIHdyaXRlRG9jLCBuZXdFZGl0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbnN1cmUgc3RlbW1pbmcgYXBwbGllcyB0byBuZXcgd3JpdGVzIGFzIHdlbGxcbiAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlKFtdLCBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlWzBdLCByZXZMaW1pdCk7XG4gICAgICAgIGN1cnJlbnREb2MubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgICAgICAgY3VycmVudERvYy5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgICAgICAgaW5zZXJ0RG9jKGN1cnJlbnREb2MsIHJlc3VsdHNJZHgsIGRvY1dyaXR0ZW4pO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXh0RG9jKCk7XG4gIH0pO1xufVxuXG4vLyBJbmRleGVkREIgcmVxdWlyZXMgYSB2ZXJzaW9uZWQgZGF0YWJhc2Ugc3RydWN0dXJlLCBzbyB3ZSB1c2UgdGhlXG4vLyB2ZXJzaW9uIGhlcmUgdG8gbWFuYWdlIG1pZ3JhdGlvbnMuXG52YXIgQURBUFRFUl9WRVJTSU9OID0gNTtcblxuLy8gVGhlIG9iamVjdCBzdG9yZXMgY3JlYXRlZCBmb3IgZWFjaCBkYXRhYmFzZVxuLy8gRE9DX1NUT1JFIHN0b3JlcyB0aGUgZG9jdW1lbnQgbWV0YSBkYXRhLCBpdHMgcmV2aXNpb24gaGlzdG9yeSBhbmQgc3RhdGVcbi8vIEtleWVkIGJ5IGRvY3VtZW50IGlkXG52YXIgRE9DX1NUT1JFID0gJ2RvY3VtZW50LXN0b3JlJztcbi8vIEJZX1NFUV9TVE9SRSBzdG9yZXMgYSBwYXJ0aWN1bGFyIHZlcnNpb24gb2YgYSBkb2N1bWVudCwga2V5ZWQgYnkgaXRzXG4vLyBzZXF1ZW5jZSBpZFxudmFyIEJZX1NFUV9TVE9SRSA9ICdieS1zZXF1ZW5jZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBhdHRhY2htZW50c1xudmFyIEFUVEFDSF9TVE9SRSA9ICdhdHRhY2gtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbWFueS10by1tYW55IHJlbGF0aW9uc1xuLy8gYmV0d2VlbiBhdHRhY2htZW50IGRpZ2VzdHMgYW5kIHNlcXNcbnZhciBBVFRBQ0hfQU5EX1NFUV9TVE9SRSA9ICdhdHRhY2gtc2VxLXN0b3JlJztcblxuLy8gV2hlcmUgd2Ugc3RvcmUgZGF0YWJhc2Utd2lkZSBtZXRhIGRhdGEgaW4gYSBzaW5nbGUgcmVjb3JkXG4vLyBrZXllZCBieSBpZDogTUVUQV9TVE9SRVxudmFyIE1FVEFfU1RPUkUgPSAnbWV0YS1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBsb2NhbCBkb2N1bWVudHNcbnZhciBMT0NBTF9TVE9SRSA9ICdsb2NhbC1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBkZXRlY3QgYmxvYiBzdXBwb3J0XG52YXIgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSA9ICdkZXRlY3QtYmxvYi1zdXBwb3J0JztcblxuZnVuY3Rpb24gc2FmZUpzb25QYXJzZShzdHIpIHtcbiAgLy8gVGhpcyB0cnkvY2F0Y2ggZ3VhcmRzIGFnYWluc3Qgc3RhY2sgb3ZlcmZsb3cgZXJyb3JzLlxuICAvLyBKU09OLnBhcnNlKCkgaXMgZmFzdGVyIHRoYW4gdnV2dXplbGEucGFyc2UoKSBidXQgdnV2dXplbGFcbiAgLy8gY2Fubm90IG92ZXJmbG93LlxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiB2dXZ1emVsYS5wYXJzZShzdHIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVKc29uU3RyaW5naWZ5KGpzb24pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoanNvbik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiB2dXZ1emVsYS5zdHJpbmdpZnkoanNvbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaWRiRXJyb3IoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChldnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICd1bmtub3duX2Vycm9yJztcbiAgICBpZiAoZXZ0LnRhcmdldCAmJiBldnQudGFyZ2V0LmVycm9yKSB7XG4gICAgICBtZXNzYWdlID0gZXZ0LnRhcmdldC5lcnJvci5uYW1lIHx8IGV2dC50YXJnZXQuZXJyb3IubWVzc2FnZTtcbiAgICB9XG4gICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLCBtZXNzYWdlLCBldnQudHlwZSkpO1xuICB9O1xufVxuXG4vLyBVbmZvcnR1bmF0ZWx5LCB0aGUgbWV0YWRhdGEgaGFzIHRvIGJlIHN0cmluZ2lmaWVkXG4vLyB3aGVuIGl0IGlzIHB1dCBpbnRvIHRoZSBkYXRhYmFzZSwgYmVjYXVzZSBvdGhlcndpc2Vcbi8vIEluZGV4ZWREQiBjYW4gdGhyb3cgZXJyb3JzIGZvciBkZWVwbHktbmVzdGVkIG9iamVjdHMuXG4vLyBPcmlnaW5hbGx5IHdlIGp1c3QgdXNlZCBKU09OLnBhcnNlL0pTT04uc3RyaW5naWZ5OyBub3dcbi8vIHdlIHVzZSB0aGlzIGN1c3RvbSB2dXZ1emVsYSBsaWJyYXJ5IHRoYXQgYXZvaWRzIHJlY3Vyc2lvbi5cbi8vIElmIHdlIGNvdWxkIGRvIGl0IGFsbCBvdmVyIGFnYWluLCB3ZSdkIHByb2JhYmx5IHVzZSBhXG4vLyBmb3JtYXQgZm9yIHRoZSByZXZpc2lvbiB0cmVlcyBvdGhlciB0aGFuIEpTT04uXG5mdW5jdGlvbiBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiwgZGVsZXRlZCkge1xuICByZXR1cm4ge1xuICAgIGRhdGE6IHNhZmVKc29uU3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICB3aW5uaW5nUmV2OiB3aW5uaW5nUmV2LFxuICAgIGRlbGV0ZWRPckxvY2FsOiBkZWxldGVkID8gJzEnIDogJzAnLFxuICAgIHNlcTogbWV0YWRhdGEuc2VxLCAvLyBoaWdoZXN0IHNlcSBmb3IgdGhpcyBkb2NcbiAgICBpZDogbWV0YWRhdGEuaWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KSB7XG4gIGlmICghc3RvcmVkT2JqZWN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIG1ldGFkYXRhID0gc2FmZUpzb25QYXJzZShzdG9yZWRPYmplY3QuZGF0YSk7XG4gIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBzdG9yZWRPYmplY3Qud2lubmluZ1JldjtcbiAgbWV0YWRhdGEuZGVsZXRlZCA9IHN0b3JlZE9iamVjdC5kZWxldGVkT3JMb2NhbCA9PT0gJzEnO1xuICBtZXRhZGF0YS5zZXEgPSBzdG9yZWRPYmplY3Quc2VxO1xuICByZXR1cm4gbWV0YWRhdGE7XG59XG5cbi8vIHJlYWQgdGhlIGRvYyBiYWNrIG91dCBmcm9tIHRoZSBkYXRhYmFzZS4gd2UgZG9uJ3Qgc3RvcmUgdGhlXG4vLyBfaWQgb3IgX3JldiBiZWNhdXNlIHdlIGFscmVhZHkgaGF2ZSBfZG9jX2lkX3Jldi5cbmZ1bmN0aW9uIGRlY29kZURvYyhkb2MpIHtcbiAgaWYgKCFkb2MpIHtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHZhciBpZHggPSBkb2MuX2RvY19pZF9yZXYubGFzdEluZGV4T2YoJzonKTtcbiAgZG9jLl9pZCA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoMCwgaWR4IC0gMSk7XG4gIGRvYy5fcmV2ID0gZG9jLl9kb2NfaWRfcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgZGVsZXRlIGRvYy5fZG9jX2lkX3JldjtcbiAgcmV0dXJuIGRvYztcbn1cblxuLy8gUmVhZCBhIGJsb2IgZnJvbSB0aGUgZGF0YWJhc2UsIGVuY29kaW5nIGFzIG5lY2Vzc2FyeVxuLy8gYW5kIHRyYW5zbGF0aW5nIGZyb20gYmFzZTY0IGlmIHRoZSBJREIgZG9lc24ndCBzdXBwb3J0XG4vLyBuYXRpdmUgQmxvYnNcbmZ1bmN0aW9uIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBhc0Jsb2IsIGNhbGxiYWNrKSB7XG4gIGlmIChhc0Jsb2IpIHtcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUJsb2IoWycnXSwge3R5cGU6IHR5cGV9KSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGJvZHkpO1xuICAgIH0gZWxzZSB7IC8vIG5vIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYjY0VG9CbHVmZmVyKGJvZHksIHR5cGUpKTtcbiAgICB9XG4gIH0gZWxzZSB7IC8vIGFzIGJhc2U2NCBzdHJpbmdcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIGNhbGxiYWNrKCcnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ICE9PSAnc3RyaW5nJykgeyAvLyB3ZSBoYXZlIGJsb2Igc3VwcG9ydFxuICAgICAgcmVhZEFzQmluYXJ5U3RyaW5nKGJvZHksIGZ1bmN0aW9uIChiaW5hcnkpIHtcbiAgICAgICAgY2FsbGJhY2sodGhpc0J0b2EoYmluYXJ5KSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGJvZHkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3NhcnkoZG9jLCBvcHRzLCB0eG4sIGNiKSB7XG4gIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMgfHwge30pO1xuICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYiAmJiBjYigpO1xuICB9XG4gIHZhciBudW1Eb25lID0gMDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgaWYgKCsrbnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoICYmIGNiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCkge1xuICAgIHZhciBhdHRPYmogPSBkb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgdmFyIGRpZ2VzdCA9IGF0dE9iai5kaWdlc3Q7XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgYXR0T2JqLmJvZHkgPSBlLnRhcmdldC5yZXN1bHQuYm9keTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH07XG4gIH1cblxuICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChhdHQpIHtcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgZmV0Y2hBdHRhY2htZW50KGRvYywgYXR0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdLnN0dWIgPSB0cnVlO1xuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gSURCLXNwZWNpZmljIHBvc3Rwcm9jZXNzaW5nIG5lY2Vzc2FyeSBiZWNhdXNlXG4vLyB3ZSBkb24ndCBrbm93IHdoZXRoZXIgd2Ugc3RvcmVkIGEgdHJ1ZSBCbG9iIG9yXG4vLyBhIGJhc2U2NC1lbmNvZGVkIHN0cmluZywgYW5kIGlmIGl0J3MgYSBCbG9iIGl0XG4vLyBuZWVkcyB0byBiZSByZWFkIG91dHNpZGUgb2YgdGhlIHRyYW5zYWN0aW9uIGNvbnRleHRcbmZ1bmN0aW9uIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cywgYXNCbG9iKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHRzLm1hcChmdW5jdGlvbiAocm93KSB7XG4gICAgaWYgKHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIHZhciBhdHROYW1lcyA9IE9iamVjdC5rZXlzKHJvdy5kb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChhdHROYW1lcy5tYXAoZnVuY3Rpb24gKGF0dCkge1xuICAgICAgICB2YXIgYXR0T2JqID0gcm93LmRvYy5fYXR0YWNobWVudHNbYXR0XTtcbiAgICAgICAgaWYgKCEoJ2JvZHknIGluIGF0dE9iaikpIHsgLy8gYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSBhdHRPYmouYm9keTtcbiAgICAgICAgdmFyIHR5cGUgPSBhdHRPYmouY29udGVudF90eXBlO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcm93LmRvYy5fYXR0YWNobWVudHNbYXR0XSA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbihcbiAgICAgICAgICAgICAgcGljayhhdHRPYmosIFsnZGlnZXN0JywgJ2NvbnRlbnRfdHlwZSddKSxcbiAgICAgICAgICAgICAge2RhdGE6IGRhdGF9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gY29tcGFjdFJldnMocmV2cywgZG9jSWQsIHR4bikge1xuXG4gIHZhciBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyA9IFtdO1xuICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgdmFyIGF0dFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gIHZhciBhdHRBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG4gIHZhciBjb3VudCA9IHJldnMubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBjb3VudC0tO1xuICAgIGlmICghY291bnQpIHsgLy8gZG9uZSBwcm9jZXNzaW5nIGFsbCByZXZzXG4gICAgICBkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpIHtcbiAgICBpZiAoIXBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZhciBjb3VudFJlcSA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdkaWdlc3RTZXEnKS5jb3VudChcbiAgICAgICAgSURCS2V5UmFuZ2UuYm91bmQoXG4gICAgICAgICAgZGlnZXN0ICsgJzo6JywgZGlnZXN0ICsgJzo6XFx1ZmZmZicsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgY291bnRSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgLy8gb3JwaGFuZWRcbiAgICAgICAgICBhdHRTdG9yZS5kZWxldGUoZGlnZXN0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldnMuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgdmFyIGluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgdmFyIGtleSA9IGRvY0lkICsgXCI6OlwiICsgcmV2O1xuICAgIGluZGV4LmdldEtleShrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgc2VxID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBzZXEgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBjaGVja0RvbmUoKTtcbiAgICAgIH1cbiAgICAgIHNlcVN0b3JlLmRlbGV0ZShzZXEpO1xuXG4gICAgICB2YXIgY3Vyc29yID0gYXR0QW5kU2VxU3RvcmUuaW5kZXgoJ3NlcScpXG4gICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoc2VxKSk7XG5cbiAgICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gY3Vyc29yLnZhbHVlLmRpZ2VzdFNlcS5zcGxpdCgnOjonKVswXTtcbiAgICAgICAgICBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5wdXNoKGRpZ2VzdCk7XG4gICAgICAgICAgYXR0QW5kU2VxU3RvcmUuZGVsZXRlKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZG9uZVxuICAgICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsIG1vZGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHhuOiBpZGIudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogZXJyXG4gICAgfTtcbiAgfVxufVxuXG52YXIgY2hhbmdlc0hhbmRsZXIgPSBuZXcgQ2hhbmdlcygpO1xuXG5mdW5jdGlvbiBpZGJCdWxrRG9jcyhkYk9wdHMsIHJlcSwgb3B0cywgYXBpLCBpZGIsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2NJbmZvcyA9IHJlcS5kb2NzO1xuICB2YXIgdHhuO1xuICB2YXIgZG9jU3RvcmU7XG4gIHZhciBieVNlcVN0b3JlO1xuICB2YXIgYXR0YWNoU3RvcmU7XG4gIHZhciBhdHRhY2hBbmRTZXFTdG9yZTtcbiAgdmFyIG1ldGFTdG9yZTtcbiAgdmFyIGRvY0luZm9FcnJvcjtcbiAgdmFyIG1ldGFEb2M7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGRvYyA9IGRvY0luZm9zW2ldO1xuICAgIGlmIChkb2MuX2lkICYmIGlzTG9jYWxJZChkb2MuX2lkKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGRvYyA9IGRvY0luZm9zW2ldID0gcGFyc2VEb2MoZG9jLCBvcHRzLm5ld19lZGl0cywgZGJPcHRzKTtcbiAgICBpZiAoZG9jLmVycm9yICYmICFkb2NJbmZvRXJyb3IpIHtcbiAgICAgIGRvY0luZm9FcnJvciA9IGRvYztcbiAgICB9XG4gIH1cblxuICBpZiAoZG9jSW5mb0Vycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGRvY0luZm9FcnJvcik7XG4gIH1cblxuICB2YXIgYWxsRG9jc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICB2YXIgZG9jQ291bnREZWx0YSA9IDA7XG4gIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGRvY0luZm9zLmxlbmd0aCk7XG4gIHZhciBmZXRjaGVkRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICB2YXIgcHJlY29uZGl0aW9uRXJyb3JlZCA9IGZhbHNlO1xuICB2YXIgYmxvYlR5cGUgPSBhcGkuX21ldGEuYmxvYlN1cHBvcnQgPyAnYmxvYicgOiAnYmFzZTY0JztcblxuICBwcmVwcm9jZXNzQXR0YWNobWVudHMoZG9jSW5mb3MsIGJsb2JUeXBlLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHN0YXJ0VHJhbnNhY3Rpb24oKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc3RhcnRUcmFuc2FjdGlvbigpIHtcblxuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSxcbiAgICAgIEFUVEFDSF9TVE9SRSxcbiAgICAgIExPQ0FMX1NUT1JFLCBBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIE1FVEFfU1RPUkVcbiAgICBdO1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkd3JpdGUnKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub250aW1lb3V0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gY29tcGxldGU7XG4gICAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgYXR0YWNoU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICBhdHRhY2hBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG4gICAgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuXG4gICAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICAgIH07XG5cbiAgICB2ZXJpZnlBdHRhY2htZW50cyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByZWNvbmRpdGlvbkVycm9yZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIGZldGNoRXhpc3RpbmdEb2NzKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkFsbERvY3NQcm9jZXNzZWQoKSB7XG4gICAgYWxsRG9jc1Byb2Nlc3NlZCA9IHRydWU7XG4gICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpZGJQcm9jZXNzRG9jcygpIHtcbiAgICBwcm9jZXNzRG9jcyhkYk9wdHMucmV2c19saW1pdCwgZG9jSW5mb3MsIGFwaSwgZmV0Y2hlZERvY3MsXG4gICAgICAgICAgICAgICAgdHhuLCByZXN1bHRzLCB3cml0ZURvYywgb3B0cywgb25BbGxEb2NzUHJvY2Vzc2VkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpIHtcbiAgICBpZiAoIW1ldGFEb2MgfHwgIWFsbERvY3NQcm9jZXNzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gY2FjaGluZyB0aGUgZG9jQ291bnQgc2F2ZXMgYSBsb3Qgb2YgdGltZSBpbiBhbGxEb2NzKCkgYW5kXG4gICAgLy8gaW5mbygpLCB3aGljaCBpcyB3aHkgd2UgZ28gdG8gYWxsIHRoZSB0cm91YmxlIG9mIGRvaW5nIHRoaXNcbiAgICBtZXRhRG9jLmRvY0NvdW50ICs9IGRvY0NvdW50RGVsdGE7XG4gICAgbWV0YVN0b3JlLnB1dChtZXRhRG9jKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoRXhpc3RpbmdEb2NzKCkge1xuXG4gICAgaWYgKCFkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbnVtRmV0Y2hlZCA9IDA7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1GZXRjaGVkID09PSBkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICAgICAgaWRiUHJvY2Vzc0RvY3MoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWFkTWV0YWRhdGEoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuXG4gICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgZmV0Y2hlZERvY3Muc2V0KG1ldGFkYXRhLmlkLCBtZXRhZGF0YSk7XG4gICAgICB9XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZG9jSW5mb3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBkb2NJbmZvID0gZG9jSW5mb3NbaV07XG4gICAgICBpZiAoZG9jSW5mby5faWQgJiYgaXNMb2NhbElkKGRvY0luZm8uX2lkKSkge1xuICAgICAgICBjaGVja0RvbmUoKTsgLy8gc2tpcCBsb2NhbCBkb2NzXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlcSA9IGRvY1N0b3JlLmdldChkb2NJbmZvLm1ldGFkYXRhLmlkKTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSByZWFkTWV0YWRhdGE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgaWYgKHByZWNvbmRpdGlvbkVycm9yZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjaGFuZ2VzSGFuZGxlci5ub3RpZnkoYXBpLl9tZXRhLm5hbWUpO1xuICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmVyaWZ5QXR0YWNobWVudChkaWdlc3QsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVxID0gYXR0YWNoU3RvcmUuZ2V0KGRpZ2VzdCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIWUudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19TVFVCLFxuICAgICAgICAgICd1bmtub3duIHN0dWIgYXR0YWNobWVudCB3aXRoIGRpZ2VzdCAnICtcbiAgICAgICAgICBkaWdlc3QpO1xuICAgICAgICBlcnIuc3RhdHVzID0gNDEyO1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdmVyaWZ5QXR0YWNobWVudHMoZmluaXNoKSB7XG5cblxuICAgIHZhciBkaWdlc3RzID0gW107XG4gICAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jSW5mbykge1xuICAgICAgaWYgKGRvY0luZm8uZGF0YSAmJiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNbZmlsZW5hbWVdO1xuICAgICAgICAgIGlmIChhdHQuc3R1Yikge1xuICAgICAgICAgICAgZGlnZXN0cy5wdXNoKGF0dC5kaWdlc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgIH1cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK251bURvbmUgPT09IGRpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaChlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBkaWdlc3RzLmZvckVhY2goZnVuY3Rpb24gKGRpZ2VzdCkge1xuICAgICAgdmVyaWZ5QXR0YWNobWVudChkaWdlc3QsIGZ1bmN0aW9uIChhdHRFcnIpIHtcbiAgICAgICAgaWYgKGF0dEVyciAmJiAhZXJyKSB7XG4gICAgICAgICAgZXJyID0gYXR0RXJyO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCBkZWx0YSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuICAgIGRvY0luZm8ubWV0YWRhdGEud2lubmluZ1JldiA9IHdpbm5pbmdSZXYkJDE7XG4gICAgZG9jSW5mby5tZXRhZGF0YS5kZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgZG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jLl9yZXYgPSBkb2NJbmZvLm1ldGFkYXRhLnJldjtcblxuICAgIGlmIChuZXdSZXZJc0RlbGV0ZWQpIHtcbiAgICAgIGRvYy5fZGVsZXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGhhc0F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyAmJlxuICAgICAgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoO1xuICAgIGlmIChoYXNBdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIHdyaXRlQXR0YWNobWVudHMoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBkb2NDb3VudERlbHRhICs9IGRlbHRhO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuXG4gICAgZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSW5mby5tZXRhZGF0YTtcblxuICAgIGRvYy5fZG9jX2lkX3JldiA9IG1ldGFkYXRhLmlkICsgJzo6JyArIG1ldGFkYXRhLnJldjtcbiAgICBkZWxldGUgZG9jLl9pZDtcbiAgICBkZWxldGUgZG9jLl9yZXY7XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvYyhlKSB7XG4gICAgICB2YXIgcmV2c1RvRGVsZXRlID0gZG9jSW5mby5zdGVtbWVkUmV2cyB8fCBbXTtcblxuICAgICAgaWYgKGlzVXBkYXRlICYmIGFwaS5hdXRvX2NvbXBhY3Rpb24pIHtcbiAgICAgICAgcmV2c1RvRGVsZXRlID0gcmV2c1RvRGVsZXRlLmNvbmNhdChjb21wYWN0VHJlZShkb2NJbmZvLm1ldGFkYXRhKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXZzVG9EZWxldGUgJiYgcmV2c1RvRGVsZXRlLmxlbmd0aCkge1xuICAgICAgICBjb21wYWN0UmV2cyhyZXZzVG9EZWxldGUsIGRvY0luZm8ubWV0YWRhdGEuaWQsIHR4bik7XG4gICAgICB9XG5cbiAgICAgIG1ldGFkYXRhLnNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIC8vIEN1cnJlbnQgX3JldiBpcyBjYWxjdWxhdGVkIGZyb20gX3Jldl90cmVlIG9uIHJlYWRcbiAgICAgIC8vIGRlbGV0ZSBtZXRhZGF0YS5yZXY7XG4gICAgICB2YXIgbWV0YWRhdGFUb1N0b3JlID0gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsXG4gICAgICAgIHdpbm5pbmdSZXZJc0RlbGV0ZWQpO1xuICAgICAgdmFyIG1ldGFEYXRhUmVxID0gZG9jU3RvcmUucHV0KG1ldGFkYXRhVG9TdG9yZSk7XG4gICAgICBtZXRhRGF0YVJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dE1ldGFkYXRhO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0RG9jRXJyb3IoZSkge1xuICAgICAgLy8gQ29uc3RyYWludEVycm9yLCBuZWVkIHRvIHVwZGF0ZSwgbm90IHB1dCAoc2VlICMxNjM4IGZvciBkZXRhaWxzKVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgdmFyIGluZGV4ID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICAgIHZhciBnZXRLZXlSZXEgPSBpbmRleC5nZXRLZXkoZG9jLl9kb2NfaWRfcmV2KTtcbiAgICAgIGdldEtleVJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcHV0UmVxID0gYnlTZXFTdG9yZS5wdXQoZG9jLCBlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0TWV0YWRhdGEoKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0ge1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgICAgICByZXY6IG1ldGFkYXRhLnJldlxuICAgICAgfTtcbiAgICAgIGZldGNoZWREb2NzLnNldChkb2NJbmZvLm1ldGFkYXRhLmlkLCBkb2NJbmZvLm1ldGFkYXRhKTtcbiAgICAgIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBtZXRhZGF0YS5zZXEsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICB2YXIgcHV0UmVxID0gYnlTZXFTdG9yZS5wdXQoZG9jKTtcblxuICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dERvYztcbiAgICBwdXRSZXEub25lcnJvciA9IGFmdGVyUHV0RG9jRXJyb3I7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG5cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0UmVzdWx0cygpIHtcbiAgICAgIGlmIChudW1Eb25lID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdHRhY2htZW50U2F2ZWQoKSB7XG4gICAgICBudW1Eb25lKys7XG4gICAgICBjb2xsZWN0UmVzdWx0cygpO1xuICAgIH1cblxuICAgIGF0dGFjaG1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGF0dCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgIGlmICghYXR0LnN0dWIpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhdHQuZGF0YTtcbiAgICAgICAgZGVsZXRlIGF0dC5kYXRhO1xuICAgICAgICBhdHQucmV2cG9zID0gcGFyc2VJbnQod2lubmluZ1JldiQkMSwgMTApO1xuICAgICAgICB2YXIgZGlnZXN0ID0gYXR0LmRpZ2VzdDtcbiAgICAgICAgc2F2ZUF0dGFjaG1lbnQoZGlnZXN0LCBkYXRhLCBhdHRhY2htZW50U2F2ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtRG9uZSsrO1xuICAgICAgICBjb2xsZWN0UmVzdWx0cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gbWFwIHNlcXMgdG8gYXR0YWNobWVudCBkaWdlc3RzLCB3aGljaFxuICAvLyB3ZSB3aWxsIG5lZWQgbGF0ZXIgZHVyaW5nIGNvbXBhY3Rpb25cbiAgZnVuY3Rpb24gaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzKGRvY0luZm8sIHNlcSwgY2FsbGJhY2spIHtcblxuICAgIHZhciBhdHRzQWRkZWQgPSAwO1xuICAgIHZhciBhdHRzVG9BZGQgPSBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzIHx8IHt9KTtcblxuICAgIGlmICghYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrYXR0c0FkZGVkID09PSBhdHRzVG9BZGQubGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkKGF0dCkge1xuICAgICAgdmFyIGRpZ2VzdCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNbYXR0XS5kaWdlc3Q7XG4gICAgICB2YXIgcmVxID0gYXR0YWNoQW5kU2VxU3RvcmUucHV0KHtcbiAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgIGRpZ2VzdFNlcTogZGlnZXN0ICsgJzo6JyArIHNlcVxuICAgICAgfSk7XG5cbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBjaGVja0RvbmU7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgaXMgZm9yIGEgY29uc3RhaW50IGVycm9yLCB3aGljaCB3ZSBpZ25vcmVcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGRvY2lkL3JldiBoYXMgYWxyZWFkeSBiZWVuIGFzc29jaWF0ZWQgd2l0aFxuICAgICAgICAvLyB0aGUgZGlnZXN0IChlLmcuIHdoZW4gbmV3X2VkaXRzID09IGZhbHNlKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHNUb0FkZC5sZW5ndGg7IGkrKykge1xuICAgICAgYWRkKGF0dHNUb0FkZFtpXSk7IC8vIGRvIGluIHBhcmFsbGVsXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZUF0dGFjaG1lbnQoZGlnZXN0LCBkYXRhLCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZ2V0S2V5UmVxID0gYXR0YWNoU3RvcmUuY291bnQoZGlnZXN0KTtcbiAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gYWxyZWFkeSBleGlzdHNcbiAgICAgIH1cbiAgICAgIHZhciBuZXdBdHQgPSB7XG4gICAgICAgIGRpZ2VzdDogZGlnZXN0LFxuICAgICAgICBib2R5OiBkYXRhXG4gICAgICB9O1xuICAgICAgdmFyIHB1dFJlcSA9IGF0dGFjaFN0b3JlLnB1dChuZXdBdHQpO1xuICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGNhbGxiYWNrO1xuICAgIH07XG4gIH1cbn1cblxuLy8gQWJzdHJhY3Rpb24gb3ZlciBJREJDdXJzb3IgYW5kIGdldEFsbCgpL2dldEFsbEtleXMoKSB0aGF0IGFsbG93cyB1cyB0byBiYXRjaCBvdXIgb3BlcmF0aW9uc1xuLy8gd2hpbGUgZmFsbGluZyBiYWNrIHRvIGEgbm9ybWFsIElEQkN1cnNvciBvcGVyYXRpb24gb24gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGdldEFsbCgpIG9yXG4vLyBnZXRBbGxLZXlzKCkuIFRoaXMgYWxsb3dzIGZvciBhIG11Y2ggZmFzdGVyIGltcGxlbWVudGF0aW9uIHRoYW4ganVzdCBzdHJhaWdodC11cCBjdXJzb3JzLCBiZWNhdXNlXG4vLyB3ZSdyZSBub3QgcHJvY2Vzc2luZyBlYWNoIGRvY3VtZW50IG9uZS1hdC1hLXRpbWUuXG5mdW5jdGlvbiBydW5CYXRjaGVkQ3Vyc29yKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgZGVzY2VuZGluZywgYmF0Y2hTaXplLCBvbkJhdGNoKSB7XG5cbiAgaWYgKGJhdGNoU2l6ZSA9PT0gLTEpIHtcbiAgICBiYXRjaFNpemUgPSAxMDAwO1xuICB9XG5cbiAgLy8gQmFpbCBvdXQgb2YgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpIGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG4gIC8vIDEpIGVpdGhlciBtZXRob2QgaXMgdW5zdXBwb3J0ZWQgLSB3ZSBuZWVkIGJvdGhcbiAgLy8gMikgYmF0Y2hTaXplIGlzIDEgKG1pZ2h0IGFzIHdlbGwgdXNlIElEQkN1cnNvcilcbiAgLy8gMykgZGVzY2VuZGluZyDigJMgbm8gcmVhbCB3YXkgdG8gZG8gdGhpcyB2aWEgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpXG5cbiAgdmFyIHVzZUdldEFsbCA9IHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGwgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGJhdGNoU2l6ZSA+IDEgJiYgIWRlc2NlbmRpbmc7XG5cbiAgdmFyIGtleXNCYXRjaDtcbiAgdmFyIHZhbHVlc0JhdGNoO1xuICB2YXIgcHNldWRvQ3Vyc29yO1xuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsKGUpIHtcbiAgICB2YWx1ZXNCYXRjaCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoa2V5c0JhdGNoKSB7XG4gICAgICBvbkJhdGNoKGtleXNCYXRjaCwgdmFsdWVzQmF0Y2gsIHBzZXVkb0N1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRBbGxLZXlzKGUpIHtcbiAgICBrZXlzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKHZhbHVlc0JhdGNoKSB7XG4gICAgICBvbkJhdGNoKGtleXNCYXRjaCwgdmFsdWVzQmF0Y2gsIHBzZXVkb0N1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29udGludWVQc2V1ZG9DdXJzb3IoKSB7XG4gICAgaWYgKCFrZXlzQmF0Y2gubGVuZ3RoKSB7IC8vIG5vIG1vcmUgcmVzdWx0c1xuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gZmV0Y2ggbmV4dCBiYXRjaCwgZXhjbHVzaXZlIHN0YXJ0XG4gICAgdmFyIGxhc3RLZXkgPSBrZXlzQmF0Y2hba2V5c0JhdGNoLmxlbmd0aCAtIDFdO1xuICAgIHZhciBuZXdLZXlSYW5nZTtcbiAgICBpZiAoa2V5UmFuZ2UgJiYga2V5UmFuZ2UudXBwZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0tleVJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQobGFzdEtleSwga2V5UmFuZ2UudXBwZXIsXG4gICAgICAgICAgdHJ1ZSwga2V5UmFuZ2UudXBwZXJPcGVuKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUubmFtZSA9PT0gXCJEYXRhRXJyb3JcIiAmJiBlLmNvZGUgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gb25CYXRjaCgpOyAvLyB3ZSdyZSBkb25lLCBzdGFydGtleSBhbmQgZW5ka2V5IGFyZSBlcXVhbFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0tleVJhbmdlID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChsYXN0S2V5LCB0cnVlKTtcbiAgICB9XG4gICAga2V5UmFuZ2UgPSBuZXdLZXlSYW5nZTtcbiAgICBrZXlzQmF0Y2ggPSBudWxsO1xuICAgIHZhbHVlc0JhdGNoID0gbnVsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyhrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbEtleXM7XG4gIH1cblxuICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoIWN1cnNvcikgeyAvLyBkb25lXG4gICAgICByZXR1cm4gb25CYXRjaCgpO1xuICAgIH1cbiAgICAvLyByZWd1bGFyIElEQkN1cnNvciBhY3RzIGxpa2UgYSBiYXRjaCB3aGVyZSBiYXRjaCBzaXplIGlzIGFsd2F5cyAxXG4gICAgb25CYXRjaChbY3Vyc29yLmtleV0sIFtjdXJzb3IudmFsdWVdLCBjdXJzb3IpO1xuICB9XG5cbiAgaWYgKHVzZUdldEFsbCkge1xuICAgIHBzZXVkb0N1cnNvciA9IHtcImNvbnRpbnVlXCI6IGNvbnRpbnVlUHNldWRvQ3Vyc29yfTtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyhrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbEtleXM7XG4gIH0gZWxzZSBpZiAoZGVzY2VuZGluZykge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cbn1cblxuLy8gc2ltcGxlIHNoaW0gZm9yIG9iamVjdFN0b3JlLmdldEFsbCgpLCBmYWxsaW5nIGJhY2sgdG8gSURCQ3Vyc29yXG5mdW5jdGlvbiBnZXRBbGwob2JqZWN0U3RvcmUsIGtleVJhbmdlLCBvblN1Y2Nlc3MpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyB1c2UgbmF0aXZlIGdldEFsbFxuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSkub25zdWNjZXNzID0gb25TdWNjZXNzO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBmYWxsIGJhY2sgdG8gY3Vyc29yc1xuICB2YXIgdmFsdWVzID0gW107XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGN1cnNvcikge1xuICAgICAgdmFsdWVzLnB1c2goY3Vyc29yLnZhbHVlKTtcbiAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IHZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXMoa2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpIHtcbiAgLy8gSXQncyBub3QgZ3VhcmFudGVkIHRvIGJlIHJldHVybmVkIGluIHJpZ2h0IG9yZGVyICBcbiAgdmFyIHZhbHVlc0JhdGNoID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgdmFyIGNvdW50ID0gMDtcbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgZG9jU3RvcmUuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICB2YWx1ZXNCYXRjaFtpbmRleF0gPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0ge2tleToga2V5LCBlcnJvcjogJ25vdF9mb3VuZCd9O1xuICAgICAgfVxuICAgICAgY291bnQrKztcbiAgICAgIGlmIChjb3VudCA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgb25CYXRjaChrZXlzLCB2YWx1ZXNCYXRjaCwge30pO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlSYW5nZShzdGFydCwgZW5kLCBpbmNsdXNpdmVFbmQsIGtleSwgZGVzY2VuZGluZykge1xuICB0cnkge1xuICAgIGlmIChzdGFydCAmJiBlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5ib3VuZChlbmQsIHN0YXJ0LCAhaW5jbHVzaXZlRW5kLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCwgZmFsc2UsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS51cHBlckJvdW5kKHN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHN0YXJ0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVuZCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQoZW5kLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS51cHBlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXkpIHtcbiAgICAgIHJldHVybiBJREJLZXlSYW5nZS5vbmx5KGtleSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlkYkFsbERvY3Mob3B0cywgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgc3RhcnQgPSAnc3RhcnRrZXknIGluIG9wdHMgPyBvcHRzLnN0YXJ0a2V5IDogZmFsc2U7XG4gIHZhciBlbmQgPSAnZW5ka2V5JyBpbiBvcHRzID8gb3B0cy5lbmRrZXkgOiBmYWxzZTtcbiAgdmFyIGtleSA9ICdrZXknIGluIG9wdHMgPyBvcHRzLmtleSA6IGZhbHNlO1xuICB2YXIga2V5cyA9ICdrZXlzJyBpbiBvcHRzID8gb3B0cy5rZXlzIDogZmFsc2U7IFxuICB2YXIgc2tpcCA9IG9wdHMuc2tpcCB8fCAwO1xuICB2YXIgbGltaXQgPSB0eXBlb2Ygb3B0cy5saW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLmxpbWl0IDogLTE7XG4gIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuXG4gIHZhciBrZXlSYW5nZSA7IFxuICB2YXIga2V5UmFuZ2VFcnJvcjtcbiAgaWYgKCFrZXlzKSB7XG4gICAga2V5UmFuZ2UgPSBjcmVhdGVLZXlSYW5nZShzdGFydCwgZW5kLCBpbmNsdXNpdmVFbmQsIGtleSwgb3B0cy5kZXNjZW5kaW5nKTtcbiAgICBrZXlSYW5nZUVycm9yID0ga2V5UmFuZ2UgJiYga2V5UmFuZ2UuZXJyb3I7XG4gICAgaWYgKGtleVJhbmdlRXJyb3IgJiYgXG4gICAgICAhKGtleVJhbmdlRXJyb3IubmFtZSA9PT0gXCJEYXRhRXJyb3JcIiAmJiBrZXlSYW5nZUVycm9yLmNvZGUgPT09IDApKSB7XG4gICAgICAvLyBEYXRhRXJyb3Igd2l0aCBlcnJvciBjb2RlIDAgaW5kaWNhdGVzIHN0YXJ0IGlzIGxlc3MgdGhhbiBlbmQsIHNvXG4gICAgICAvLyBjYW4ganVzdCBkbyBhbiBlbXB0eSBxdWVyeS4gRWxzZSBuZWVkIHRvIHRocm93XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLFxuICAgICAgICBrZXlSYW5nZUVycm9yLm5hbWUsIGtleVJhbmdlRXJyb3IubWVzc2FnZSkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdG9yZXMgPSBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIE1FVEFfU1RPUkVdO1xuXG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgc3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICB9XG4gIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICB0eG4ub25jb21wbGV0ZSA9IG9uVHhuQ29tcGxldGU7XG4gIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBtZXRhU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSk7XG4gIHZhciBkb2NJZFJldkluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBkb2NDb3VudDtcbiAgdmFyIHVwZGF0ZVNlcTtcblxuICBtZXRhU3RvcmUuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZG9jQ291bnQgPSBlLnRhcmdldC5yZXN1bHQuZG9jQ291bnQ7XG4gIH07XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICBnZXRNYXhVcGRhdGVTZXEoc2VxU3RvcmUsIGZ1bmN0aW9uIChlKSB7IFxuICAgICAgaWYgKGUudGFyZ2V0LnJlc3VsdCAmJiBlLnRhcmdldC5yZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICB1cGRhdGVTZXEgPSBlLnRhcmdldC5yZXN1bHRbMF07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNYXhVcGRhdGVTZXEob2JqZWN0U3RvcmUsIG9uU3VjY2Vzcykge1xuICAgIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB2YXIgbWF4S2V5ID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGN1cnNvciAmJiBjdXJzb3Iua2V5KSB7XG4gICAgICAgIG1heEtleSA9IGN1cnNvci5rZXk7XG4gICAgICB9IFxuICAgICAgcmV0dXJuIG9uU3VjY2Vzcyh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHJlc3VsdDogW21heEtleV1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfVxuXG4gIC8vIGlmIHRoZSB1c2VyIHNwZWNpZmllcyBpbmNsdWRlX2RvY3M9dHJ1ZSwgdGhlbiB3ZSBkb24ndFxuICAvLyB3YW50IHRvIGJsb2NrIHRoZSBtYWluIGN1cnNvciB3aGlsZSB3ZSdyZSBmZXRjaGluZyB0aGUgZG9jXG4gIGZ1bmN0aW9uIGZldGNoRG9jQXN5bmNocm9ub3VzbHkobWV0YWRhdGEsIHJvdywgd2lubmluZ1JldiQkMSkge1xuICAgIHZhciBrZXkgPSBtZXRhZGF0YS5pZCArIFwiOjpcIiArIHdpbm5pbmdSZXYkJDE7XG4gICAgZG9jSWRSZXZJbmRleC5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSAgZnVuY3Rpb24gb25HZXREb2MoZSkge1xuICAgICAgcm93LmRvYyA9IGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpIHx8IHt9O1xuICAgICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICByb3cuZG9jLl9jb25mbGljdHMgPSBjb25mbGljdHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeShyb3cuZG9jLCBvcHRzLCB0eG4pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhbGxEb2NzSW5uZXIod2lubmluZ1JldiQkMSwgbWV0YWRhdGEpIHtcbiAgICB2YXIgcm93ID0ge1xuICAgICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgICAga2V5OiBtZXRhZGF0YS5pZCxcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHJldjogd2lubmluZ1JldiQkMVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlbGV0ZWQgPSBtZXRhZGF0YS5kZWxldGVkO1xuICAgIGlmIChkZWxldGVkKSB7XG4gICAgICBpZiAoa2V5cykge1xuICAgICAgICByZXN1bHRzLnB1c2gocm93KTtcbiAgICAgICAgLy8gZGVsZXRlZCBkb2NzIGFyZSBva2F5IHdpdGggXCJrZXlzXCIgcmVxdWVzdHNcbiAgICAgICAgcm93LnZhbHVlLmRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICByb3cuZG9jID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNraXAtLSA8PSAwKSB7XG4gICAgICByZXN1bHRzLnB1c2gocm93KTtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChiYXRjaFZhbHVlcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBiYXRjaFZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSBsaW1pdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBiYXRjaFZhbHVlID0gYmF0Y2hWYWx1ZXNbaV07XG4gICAgICBpZiAoYmF0Y2hWYWx1ZS5lcnJvciAmJiBrZXlzKSB7XG4gICAgICAgIC8vIGtleSB3YXMgbm90IGZvdW5kIHdpdGggXCJrZXlzXCIgcmVxdWVzdHNcbiAgICAgICAgcmVzdWx0cy5wdXNoKGJhdGNoVmFsdWUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGJhdGNoVmFsdWUpO1xuICAgICAgdmFyIHdpbm5pbmdSZXYkJDEgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NCYXRjaChiYXRjaFZhbHVlcyk7XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsKGUpIHtcbiAgICB2YXIgdmFsdWVzID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHZhbHVlcyA9IHZhbHVlcy5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHByb2Nlc3NCYXRjaCh2YWx1ZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25SZXN1bHRzUmVhZHkoKSB7XG4gICAgdmFyIHJldHVyblZhbCA9IHtcbiAgICAgIHRvdGFsX3Jvd3M6IGRvY0NvdW50LFxuICAgICAgb2Zmc2V0OiBvcHRzLnNraXAsXG4gICAgICByb3dzOiByZXN1bHRzXG4gICAgfTtcbiAgICBcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxICYmIHVwZGF0ZVNlcSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5WYWwudXBkYXRlX3NlcSA9IHVwZGF0ZVNlcTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwgcmV0dXJuVmFsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHhuQ29tcGxldGUoKSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cywgb3B0cy5iaW5hcnkpLnRoZW4ob25SZXN1bHRzUmVhZHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblJlc3VsdHNSZWFkeSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGRvbid0IGJvdGhlciBkb2luZyBhbnkgcmVxdWVzdHMgaWYgc3RhcnQgPiBlbmQgb3IgbGltaXQgPT09IDBcbiAgaWYgKGtleVJhbmdlRXJyb3IgfHwgbGltaXQgPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGtleXMpIHtcbiAgICByZXR1cm4gYWxsRG9jc0tleXMob3B0cy5rZXlzLCBkb2NTdG9yZSwgb25CYXRjaCk7XG4gIH1cbiAgaWYgKGxpbWl0ID09PSAtMSkgeyAvLyBqdXN0IGZldGNoIGV2ZXJ5dGhpbmdcbiAgICByZXR1cm4gZ2V0QWxsKGRvY1N0b3JlLCBrZXlSYW5nZSwgb25HZXRBbGwpO1xuICB9XG4gIC8vIGVsc2UgZG8gYSBjdXJzb3JcbiAgLy8gY2hvb3NlIGEgYmF0Y2ggc2l6ZSBiYXNlZCBvbiB0aGUgc2tpcCwgc2luY2Ugd2UnbGwgbmVlZCB0byBza2lwIHRoYXQgbWFueVxuICBydW5CYXRjaGVkQ3Vyc29yKGRvY1N0b3JlLCBrZXlSYW5nZSwgb3B0cy5kZXNjZW5kaW5nLCBsaW1pdCArIHNraXAsIG9uQmF0Y2gpO1xufVxuXG4vL1xuLy8gQmxvYnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gYWxsIHZlcnNpb25zIG9mIEluZGV4ZWREQiwgbm90YWJseVxuLy8gQ2hyb21lIDwzNyBhbmQgQW5kcm9pZCA8NS4gSW4gdGhvc2UgdmVyc2lvbnMsIHN0b3JpbmcgYSBibG9iIHdpbGwgdGhyb3cuXG4vL1xuLy8gVmFyaW91cyBvdGhlciBibG9iIGJ1Z3MgZXhpc3QgaW4gQ2hyb21lIHYzNy00MiAoaW5jbHVzaXZlKS5cbi8vIERldGVjdGluZyB0aGVtIGlzIGV4cGVuc2l2ZSBhbmQgY29uZnVzaW5nIHRvIHVzZXJzLCBhbmQgQ2hyb21lIDM3LTQyXG4vLyBpcyBhdCB2ZXJ5IGxvdyB1c2FnZSB3b3JsZHdpZGUsIHNvIHdlIGRvIGEgaGFja3kgdXNlckFnZW50IGNoZWNrIGluc3RlYWQuXG4vL1xuLy8gY29udGVudC10eXBlIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQwODEyMFxuLy8gNDA0IGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzkxNlxuLy8gRmlsZVJlYWRlciBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc4MzZcbi8vXG5mdW5jdGlvbiBjaGVja0Jsb2JTdXBwb3J0KHR4bikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICB2YXIgYmxvYiQkMSA9IGNyZWF0ZUJsb2IoWycnXSk7XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKS5wdXQoYmxvYiQkMSwgJ2tleScpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtYXRjaGVkQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG4gICAgICB2YXIgbWF0Y2hlZEVkZ2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvLyk7XG4gICAgICAvLyBNUyBFZGdlIHByZXRlbmRzIHRvIGJlIENocm9tZSA0MjpcbiAgICAgIC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaGg4NjkzMDElMjh2PXZzLjg1JTI5LmFzcHhcbiAgICAgIHJlc29sdmUobWF0Y2hlZEVkZ2UgfHwgIW1hdGNoZWRDaHJvbWUgfHxcbiAgICAgICAgcGFyc2VJbnQobWF0Y2hlZENocm9tZVsxXSwgMTApID49IDQzKTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSB0eG4ub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gYWJvcnRzIG5vdyBpdHMgZHVlIHRvIG5vdCBiZWluZyBhYmxlIHRvXG4gICAgICAvLyB3cml0ZSB0byB0aGUgZGF0YWJhc2UsIGxpa2VseSBkdWUgdG8gdGhlIGRpc2sgYmVpbmcgZnVsbFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgIH07XG4gIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yLCBzbyBhc3N1bWUgdW5zdXBwb3J0ZWRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvdW50RG9jcyh0eG4sIGNiKSB7XG4gIHZhciBpbmRleCA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmluZGV4KCdkZWxldGVkT3JMb2NhbCcpO1xuICBpbmRleC5jb3VudChJREJLZXlSYW5nZS5vbmx5KCcwJykpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgY2IoZS50YXJnZXQucmVzdWx0KTtcbiAgfTtcbn1cblxuLy8gVGhpcyB0YXNrIHF1ZXVlIGVuc3VyZXMgdGhhdCBJREIgb3BlbiBjYWxscyBhcmUgZG9uZSBpbiB0aGVpciBvd24gdGlja1xuXG52YXIgcnVubmluZyA9IGZhbHNlO1xudmFyIHF1ZXVlID0gW107XG5cbmZ1bmN0aW9uIHRyeUNvZGUoZnVuLCBlcnIsIHJlcywgUG91Y2hEQikge1xuICB0cnkge1xuICAgIGZ1bihlcnIsIHJlcyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFNob3VsZG4ndCBoYXBwZW4sIGJ1dCBpbiBzb21lIG9kZCBjYXNlc1xuICAgIC8vIEluZGV4ZWREQiBpbXBsZW1lbnRhdGlvbnMgbWlnaHQgdGhyb3cgYSBzeW5jXG4gICAgLy8gZXJyb3IsIGluIHdoaWNoIGNhc2UgdGhpcyB3aWxsIGF0IGxlYXN0IGxvZyBpdC5cbiAgICBQb3VjaERCLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseU5leHQoKSB7XG4gIGlmIChydW5uaW5nIHx8ICFxdWV1ZS5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcnVubmluZyA9IHRydWU7XG4gIHF1ZXVlLnNoaWZ0KCkoKTtcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZVRhc2soYWN0aW9uLCBjYWxsYmFjaywgUG91Y2hEQikge1xuICBxdWV1ZS5wdXNoKGZ1bmN0aW9uIHJ1bkFjdGlvbigpIHtcbiAgICBhY3Rpb24oZnVuY3Rpb24gcnVuQ2FsbGJhY2soZXJyLCByZXMpIHtcbiAgICAgIHRyeUNvZGUoY2FsbGJhY2ssIGVyciwgcmVzLCBQb3VjaERCKTtcbiAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiBydW5OZXh0KCkge1xuICAgICAgICBhcHBseU5leHQoUG91Y2hEQik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGFwcGx5TmV4dCgpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VzKG9wdHMsIGFwaSwgZGJOYW1lLCBpZGIpIHtcbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIGlmIChvcHRzLmNvbnRpbnVvdXMpIHtcbiAgICB2YXIgaWQgPSBkYk5hbWUgKyAnOicgKyB1dWlkKCk7XG4gICAgY2hhbmdlc0hhbmRsZXIuYWRkTGlzdGVuZXIoZGJOYW1lLCBpZCwgYXBpLCBvcHRzKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5ub3RpZnkoZGJOYW1lKTtcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5nZXNIYW5kbGVyLnJlbW92ZUxpc3RlbmVyKGRiTmFtZSwgaWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzICYmIG5ldyBFeHBvcnRlZFNldChvcHRzLmRvY19pZHMpO1xuXG4gIG9wdHMuc2luY2UgPSBvcHRzLnNpbmNlIHx8IDA7XG4gIHZhciBsYXN0U2VxID0gb3B0cy5zaW5jZTtcblxuICB2YXIgbGltaXQgPSAnbGltaXQnIGluIG9wdHMgPyBvcHRzLmxpbWl0IDogLTE7XG4gIGlmIChsaW1pdCA9PT0gMCkge1xuICAgIGxpbWl0ID0gMTsgLy8gcGVyIENvdWNoREIgX2NoYW5nZXMgc3BlY1xuICB9XG5cbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIG51bVJlc3VsdHMgPSAwO1xuICB2YXIgZmlsdGVyID0gZmlsdGVyQ2hhbmdlKG9wdHMpO1xuICB2YXIgZG9jSWRzVG9NZXRhZGF0YSA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIHZhciB0eG47XG4gIHZhciBieVNlcVN0b3JlO1xuICB2YXIgZG9jU3RvcmU7XG4gIHZhciBkb2NJZFJldkluZGV4O1xuXG4gIGZ1bmN0aW9uIG9uQmF0Y2goYmF0Y2hLZXlzLCBiYXRjaFZhbHVlcywgY3Vyc29yKSB7XG4gICAgaWYgKCFjdXJzb3IgfHwgIWJhdGNoS2V5cy5sZW5ndGgpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3aW5uaW5nRG9jcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcbiAgICB2YXIgbWV0YWRhdGFzID0gbmV3IEFycmF5KGJhdGNoS2V5cy5sZW5ndGgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyhtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgdmFyIGNoYW5nZSA9IG9wdHMucHJvY2Vzc0NoYW5nZSh3aW5uaW5nRG9jLCBtZXRhZGF0YSwgb3B0cyk7XG4gICAgICBsYXN0U2VxID0gY2hhbmdlLnNlcSA9IG1ldGFkYXRhLnNlcTtcblxuICAgICAgdmFyIGZpbHRlcmVkID0gZmlsdGVyKGNoYW5nZSk7XG4gICAgICBpZiAodHlwZW9mIGZpbHRlcmVkID09PSAnb2JqZWN0JykgeyAvLyBhbnl0aGluZyBidXQgdHJ1ZS9mYWxzZSBpbmRpY2F0ZXMgZXJyb3JcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZpbHRlcmVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFmaWx0ZXJlZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICBudW1SZXN1bHRzKys7XG4gICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICByZXN1bHRzLnB1c2goY2hhbmdlKTtcbiAgICAgIH1cbiAgICAgIC8vIHByb2Nlc3MgdGhlIGF0dGFjaG1lbnQgaW1tZWRpYXRlbHlcbiAgICAgIC8vIGZvciB0aGUgYmVuZWZpdCBvZiBsaXZlIGxpc3RlbmVyc1xuICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KHdpbm5pbmdEb2MsIG9wdHMsIHR4biwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhbY2hhbmdlXSwgb3B0cy5iaW5hcnkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXNvbHZlKGNoYW5nZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNoYW5nZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25CYXRjaERvbmUoKSB7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB3aW5uaW5nRG9jcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAobnVtUmVzdWx0cyA9PT0gbGltaXQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lubmluZ0RvYyA9IHdpbm5pbmdEb2NzW2ldO1xuICAgICAgICBpZiAoIXdpbm5pbmdEb2MpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBtZXRhZGF0YXNbaV07XG4gICAgICAgIHByb21pc2VzLnB1c2gocHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyhtZXRhZGF0YSwgd2lubmluZ0RvYykpO1xuICAgICAgfVxuXG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGlmIChjaGFuZ2VzW2ldKSB7XG4gICAgICAgICAgICBvcHRzLm9uQ2hhbmdlKGNoYW5nZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2gob3B0cy5jb21wbGV0ZSk7XG5cbiAgICAgIGlmIChudW1SZXN1bHRzICE9PSBsaW1pdCkge1xuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGZXRjaCBhbGwgbWV0YWRhdGFzL3dpbm5pbmdkb2NzIGZyb20gdGhpcyBiYXRjaCBpbiBwYXJhbGxlbCwgdGhlbiBwcm9jZXNzXG4gICAgLy8gdGhlbSBhbGwgb25seSBvbmNlIGFsbCBkYXRhIGhhcyBiZWVuIGNvbGxlY3RlZC4gVGhpcyBpcyBkb25lIGluIHBhcmFsbGVsXG4gICAgLy8gYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIGRvaW5nIGl0IG9uZS1hdC1hLXRpbWUuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIGJhdGNoVmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICB2YXIgZG9jID0gZGVjb2RlRG9jKHZhbHVlKTtcbiAgICAgIHZhciBzZXEgPSBiYXRjaEtleXNbaV07XG4gICAgICBmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YShkb2MsIHNlcSwgZnVuY3Rpb24gKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSB7XG4gICAgICAgIG1ldGFkYXRhc1tpXSA9IG1ldGFkYXRhO1xuICAgICAgICB3aW5uaW5nRG9jc1tpXSA9IHdpbm5pbmdEb2M7XG4gICAgICAgIGlmICgrK251bURvbmUgPT09IGJhdGNoS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICBvbkJhdGNoRG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYikge1xuICAgIGlmIChtZXRhZGF0YS5zZXEgIT09IHNlcSkge1xuICAgICAgLy8gc29tZSBvdGhlciBzZXEgaXMgbGF0ZXJcbiAgICAgIHJldHVybiBjYigpO1xuICAgIH1cblxuICAgIGlmIChtZXRhZGF0YS53aW5uaW5nUmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgLy8gdGhpcyBpcyB0aGUgd2lubmluZyBkb2NcbiAgICAgIHJldHVybiBjYihtZXRhZGF0YSwgZG9jKTtcbiAgICB9XG5cbiAgICAvLyBmZXRjaCB3aW5uaW5nIGRvYyBpbiBzZXBhcmF0ZSByZXF1ZXN0XG4gICAgdmFyIGRvY0lkUmV2ID0gZG9jLl9pZCArICc6OicgKyBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgIHZhciByZXEgPSBkb2NJZFJldkluZGV4LmdldChkb2NJZFJldik7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBjYihtZXRhZGF0YSwgZGVjb2RlRG9jKGUudGFyZ2V0LnJlc3VsdCkpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YShkb2MsIHNlcSwgY2IpIHtcbiAgICBpZiAoZG9jSWRzICYmICFkb2NJZHMuaGFzKGRvYy5faWQpKSB7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICB2YXIgbWV0YWRhdGEgPSBkb2NJZHNUb01ldGFkYXRhLmdldChkb2MuX2lkKTtcbiAgICBpZiAobWV0YWRhdGEpIHsgLy8gY2FjaGVkXG4gICAgICByZXR1cm4gb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKTtcbiAgICB9XG4gICAgLy8gbWV0YWRhdGEgbm90IGNhY2hlZCwgaGF2ZSB0byBnbyBmZXRjaCBpdFxuICAgIGRvY1N0b3JlLmdldChkb2MuX2lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgZG9jSWRzVG9NZXRhZGF0YS5zZXQoZG9jLl9pZCwgbWV0YWRhdGEpO1xuICAgICAgb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge1xuICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgIGxhc3Rfc2VxOiBsYXN0U2VxXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmICghb3B0cy5jb250aW51b3VzICYmIG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIC8vIGNhbm5vdCBndWFyYW50ZWUgdGhhdCBwb3N0UHJvY2Vzc2luZyB3YXMgYWxyZWFkeSBkb25lLFxuICAgICAgLy8gc28gZG8gaXQgYWdhaW5cbiAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cykudGhlbihmaW5pc2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICB2YXIgb2JqZWN0U3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFXTtcbiAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICBvYmplY3RTdG9yZXMucHVzaChBVFRBQ0hfU1RPUkUpO1xuICB9XG4gIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBvYmplY3RTdG9yZXMsICdyZWFkb25seScpO1xuICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgcmV0dXJuIG9wdHMuY29tcGxldGUodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKG9wdHMuY29tcGxldGUpO1xuICB0eG4ub25jb21wbGV0ZSA9IG9uVHhuQ29tcGxldGU7XG5cbiAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICBkb2NJZFJldkluZGV4ID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcblxuICB2YXIga2V5UmFuZ2UgPSAob3B0cy5zaW5jZSAmJiAhb3B0cy5kZXNjZW5kaW5nKSA/XG4gICAgSURCS2V5UmFuZ2UubG93ZXJCb3VuZChvcHRzLnNpbmNlLCB0cnVlKSA6IG51bGw7XG5cbiAgcnVuQmF0Y2hlZEN1cnNvcihieVNlcVN0b3JlLCBrZXlSYW5nZSwgb3B0cy5kZXNjZW5kaW5nLCBsaW1pdCwgb25CYXRjaCk7XG59XG5cbnZhciBjYWNoZWREQnMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbnZhciBibG9iU3VwcG9ydFByb21pc2U7XG52YXIgb3BlblJlcUxpc3QgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuZnVuY3Rpb24gSWRiUG91Y2gob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKHRoaXNDYWxsYmFjaykge1xuICAgIGluaXQoYXBpLCBvcHRzLCB0aGlzQ2FsbGJhY2spO1xuICB9LCBjYWxsYmFjaywgYXBpLmNvbnN0cnVjdG9yKTtcbn1cblxuZnVuY3Rpb24gaW5pdChhcGksIG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZTtcblxuICB2YXIgaWRiID0gbnVsbDtcbiAgdmFyIGlkYkdsb2JhbEZhaWx1cmVFcnJvciA9IG51bGw7XG4gIGFwaS5fbWV0YSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHJlc3VsdCkge1xuICAgICAgaWYgKGVycm9yICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIWVycm9yLnJlYXNvbikge1xuICAgICAgICBpZiAoaWRiR2xvYmFsRmFpbHVyZUVycm9yKSB7XG4gICAgICAgICAgZXJyb3IucmVhc29uID0gaWRiR2xvYmFsRmFpbHVyZUVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKGVycm9yLCByZXN1bHQpO1xuICAgIH07XG4gIH1cblxuICAvLyBjYWxsZWQgd2hlbiBjcmVhdGluZyBhIGZyZXNoIG5ldyBkYXRhYmFzZVxuICBmdW5jdGlvbiBjcmVhdGVTY2hlbWEoZGIpIHtcbiAgICB2YXIgZG9jU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShET0NfU1RPUkUsIHtrZXlQYXRoIDogJ2lkJ30pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSwge2F1dG9JbmNyZW1lbnQ6IHRydWV9KVxuICAgICAgLmNyZWF0ZUluZGV4KCdfZG9jX2lkX3JldicsICdfZG9jX2lkX3JldicsIHt1bmlxdWU6IHRydWV9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUsIHtrZXlQYXRoOiAnZGlnZXN0J30pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKE1FVEFfU1RPUkUsIHtrZXlQYXRoOiAnaWQnLCBhdXRvSW5jcmVtZW50OiBmYWxzZX0pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpO1xuXG4gICAgLy8gYWRkZWQgaW4gdjJcbiAgICBkb2NTdG9yZS5jcmVhdGVJbmRleCgnZGVsZXRlZE9yTG9jYWwnLCAnZGVsZXRlZE9yTG9jYWwnLCB7dW5pcXVlIDogZmFsc2V9KTtcblxuICAgIC8vIGFkZGVkIGluIHYzXG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pO1xuXG4gICAgLy8gYWRkZWQgaW4gdjRcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDJcbiAgLy8gdW5mb3J0dW5hdGVseSBcImRlbGV0ZWRPckxvY2FsXCIgaXMgYSBtaXNub21lciBub3cgdGhhdCB3ZSBubyBsb25nZXJcbiAgLy8gc3RvcmUgbG9jYWwgZG9jcyBpbiB0aGUgbWFpbiBkb2Mtc3RvcmUsIGJ1dCB3aGFkZHlhZ29ubmFkb1xuICBmdW5jdGlvbiBhZGREZWxldGVkT3JMb2NhbEluZGV4KHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICBkb2NTdG9yZS5jcmVhdGVJbmRleCgnZGVsZXRlZE9yTG9jYWwnLCAnZGVsZXRlZE9yTG9jYWwnLCB7dW5pcXVlIDogZmFsc2V9KTtcblxuICAgIGRvY1N0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgbWV0YWRhdGEuZGVsZXRlZE9yTG9jYWwgPSBkZWxldGVkID8gXCIxXCIgOiBcIjBcIjtcbiAgICAgICAgZG9jU3RvcmUucHV0KG1ldGFkYXRhKTtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAzIChwYXJ0IDEpXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEoZGIpIHtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShMT0NBTF9TVE9SRSwge2tleVBhdGg6ICdfaWQnfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAzIChwYXJ0IDIpXG4gIGZ1bmN0aW9uIG1pZ3JhdGVMb2NhbFN0b3JlKHR4biwgY2IpIHtcbiAgICB2YXIgbG9jYWxTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG5cbiAgICB2YXIgY3Vyc29yID0gZG9jU3RvcmUub3BlbkN1cnNvcigpO1xuICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBkb2NJZCA9IG1ldGFkYXRhLmlkO1xuICAgICAgICB2YXIgbG9jYWwgPSBpc0xvY2FsSWQoZG9jSWQpO1xuICAgICAgICB2YXIgcmV2ID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gICAgICAgIGlmIChsb2NhbCkge1xuICAgICAgICAgIHZhciBkb2NJZFJldiA9IGRvY0lkICsgXCI6OlwiICsgcmV2O1xuICAgICAgICAgIC8vIHJlbW92ZSBhbGwgc2VxIGVudHJpZXNcbiAgICAgICAgICAvLyBhc3NvY2lhdGVkIHdpdGggdGhpcyBkb2NJZFxuICAgICAgICAgIHZhciBzdGFydCA9IGRvY0lkICsgXCI6OlwiO1xuICAgICAgICAgIHZhciBlbmQgPSBkb2NJZCArIFwiOjp+XCI7XG4gICAgICAgICAgdmFyIGluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICAgICAgdmFyIHJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICB2YXIgc2VxQ3Vyc29yID0gaW5kZXgub3BlbkN1cnNvcihyYW5nZSk7XG4gICAgICAgICAgc2VxQ3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzZXFDdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAoIXNlcUN1cnNvcikge1xuICAgICAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgICAgIGRvY1N0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBzZXFDdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChkYXRhLl9kb2NfaWRfcmV2ID09PSBkb2NJZFJldikge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmUucHV0KGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNlcVN0b3JlLmRlbGV0ZShzZXFDdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgIHNlcUN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNCAocGFydCAxKVxuICBmdW5jdGlvbiBhZGRBdHRhY2hBbmRTZXFTdG9yZShkYikge1xuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAge2F1dG9JbmNyZW1lbnQ6IHRydWV9KTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnc2VxJywgJ3NlcScpO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdkaWdlc3RTZXEnLCAnZGlnZXN0U2VxJywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNCAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlQXR0c0FuZFNlcXModHhuLCBjYWxsYmFjaykge1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG5cbiAgICAvLyBuZWVkIHRvIGFjdHVhbGx5IHBvcHVsYXRlIHRoZSB0YWJsZS4gdGhpcyBpcyB0aGUgZXhwZW5zaXZlIHBhcnQsXG4gICAgLy8gc28gYXMgYW4gb3B0aW1pemF0aW9uLCBjaGVjayBmaXJzdCB0aGF0IHRoaXMgZGF0YWJhc2UgZXZlblxuICAgIC8vIGNvbnRhaW5zIGF0dGFjaG1lbnRzXG4gICAgdmFyIHJlcSA9IGF0dFN0b3JlLmNvdW50KCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBkb25lXG4gICAgICB9XG5cbiAgICAgIHNlcVN0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBkb25lXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvYyA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIHNlcSA9IGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICB2YXIgYXR0cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMgfHwge30pO1xuICAgICAgICB2YXIgZGlnZXN0TWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2MuX2F0dGFjaG1lbnRzW2F0dHNbal1dO1xuICAgICAgICAgIGRpZ2VzdE1hcFthdHQuZGlnZXN0XSA9IHRydWU7IC8vIHVuaXEgZGlnZXN0cywganVzdCBpbiBjYXNlXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpZ2VzdHMgPSBPYmplY3Qua2V5cyhkaWdlc3RNYXApO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgZGlnZXN0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBkaWdlc3QgPSBkaWdlc3RzW2pdO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgICAgICBzZXE6IHNlcSxcbiAgICAgICAgICAgIGRpZ2VzdFNlcTogZGlnZXN0ICsgJzo6JyArIHNlcVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNVxuICAvLyBJbnN0ZWFkIG9mIHJlbHlpbmcgb24gb24tdGhlLWZseSBtaWdyYXRpb24gb2YgbWV0YWRhdGEsXG4gIC8vIHRoaXMgYnJpbmdzIHRoZSBkb2Mtc3RvcmUgdG8gaXRzIG1vZGVybiBmb3JtOlxuICAvLyAtIG1ldGFkYXRhLndpbm5pbmdyZXZcbiAgLy8gLSBtZXRhZGF0YS5zZXFcbiAgLy8gLSBzdHJpbmdpZnkgdGhlIG1ldGFkYXRhIHdoZW4gc3RvcmluZyBpdFxuICBmdW5jdGlvbiBtaWdyYXRlTWV0YWRhdGEodHhuKSB7XG5cbiAgICBmdW5jdGlvbiBkZWNvZGVNZXRhZGF0YUNvbXBhdChzdG9yZWRPYmplY3QpIHtcbiAgICAgIGlmICghc3RvcmVkT2JqZWN0LmRhdGEpIHtcbiAgICAgICAgLy8gb2xkIGZvcm1hdCwgd2hlbiB3ZSBkaWRuJ3Qgc3RvcmUgaXQgc3RyaW5naWZpZWRcbiAgICAgICAgc3RvcmVkT2JqZWN0LmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgICAgICAgcmV0dXJuIHN0b3JlZE9iamVjdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWNvZGVNZXRhZGF0YShzdG9yZWRPYmplY3QpO1xuICAgIH1cblxuICAgIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IG1ldGFkYXRhIGhhcyBhIHdpbm5pbmdSZXYgYW5kIHNlcSxcbiAgICAvLyB3aGljaCB3YXMgcHJldmlvdXNseSBjcmVhdGVkIG9uLXRoZS1mbHkgYnV0IGJldHRlciB0byBtaWdyYXRlXG4gICAgdmFyIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICB2YXIgY3Vyc29yID0gZG9jU3RvcmUub3BlbkN1cnNvcigpO1xuICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG9uZVxuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGFDb21wYXQoY3Vyc29yLnZhbHVlKTtcblxuICAgICAgbWV0YWRhdGEud2lubmluZ1JldiA9IG1ldGFkYXRhLndpbm5pbmdSZXYgfHxcbiAgICAgICAgd2lubmluZ1JldihtZXRhZGF0YSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZldGNoTWV0YWRhdGFTZXEoKSB7XG4gICAgICAgIC8vIG1ldGFkYXRhLnNlcSB3YXMgYWRkZWQgcG9zdC0zLjIuMCwgc28gaWYgaXQncyBtaXNzaW5nLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZldGNoIGl0IG1hbnVhbGx5XG4gICAgICAgIHZhciBzdGFydCA9IG1ldGFkYXRhLmlkICsgJzo6JztcbiAgICAgICAgdmFyIGVuZCA9IG1ldGFkYXRhLmlkICsgJzo6XFx1ZmZmZic7XG4gICAgICAgIHZhciByZXEgPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpLm9wZW5DdXJzb3IoXG4gICAgICAgICAgSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCkpO1xuXG4gICAgICAgIHZhciBtZXRhZGF0YVNlcSA9IDA7XG4gICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLnNlcSA9IG1ldGFkYXRhU2VxO1xuICAgICAgICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGFTZXEoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHNlcSA9IGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICAgIGlmIChzZXEgPiBtZXRhZGF0YVNlcSkge1xuICAgICAgICAgICAgbWV0YWRhdGFTZXEgPSBzZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhU2VxKCkge1xuICAgICAgICB2YXIgbWV0YWRhdGFUb1N0b3JlID0gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsXG4gICAgICAgICAgbWV0YWRhdGEud2lubmluZ1JldiwgbWV0YWRhdGEuZGVsZXRlZCk7XG5cbiAgICAgICAgdmFyIHJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAobWV0YWRhdGEuc2VxKSB7XG4gICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICB9XG5cbiAgICAgIGZldGNoTWV0YWRhdGFTZXEoKTtcbiAgICB9O1xuXG4gIH1cblxuICBhcGkuX3JlbW90ZSA9IGZhbHNlO1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2lkYic7XG4gIH07XG5cbiAgYXBpLl9pZCA9IHRvUHJvbWlzZShmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayhudWxsLCBhcGkuX21ldGEuaW5zdGFuY2VJZCk7XG4gIH0pO1xuXG4gIGFwaS5fYnVsa0RvY3MgPSBmdW5jdGlvbiBpZGJfYnVsa0RvY3MocmVxLCByZXFPcHRzLCBjYWxsYmFjaykge1xuICAgIGlkYkJ1bGtEb2NzKG9wdHMsIHJlcSwgcmVxT3B0cywgYXBpLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICAvLyBGaXJzdCB3ZSBsb29rIHVwIHRoZSBtZXRhZGF0YSBpbiB0aGUgaWRzIGRhdGFiYXNlLCB0aGVuIHdlIGZldGNoIHRoZVxuICAvLyBjdXJyZW50IHJldmlzaW9uKHMpIGZyb20gdGhlIGJ5IHNlcXVlbmNlIHN0b3JlXG4gIGFwaS5fZ2V0ID0gZnVuY3Rpb24gaWRiX2dldChpZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgZG9jO1xuICAgIHZhciBtZXRhZGF0YTtcbiAgICB2YXIgZXJyO1xuICAgIHZhciB0eG4gPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4bikge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsXG4gICAgICAgIFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgQVRUQUNIX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgICBjYWxsYmFjayhlcnIsIHtkb2M6IGRvYywgbWV0YWRhdGE6IG1ldGFkYXRhLCBjdHg6IHR4bn0pO1xuICAgIH1cblxuICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChpZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIC8vIHdlIGNhbiBkZXRlcm1pbmUgdGhlIHJlc3VsdCBoZXJlIGlmOlxuICAgICAgLy8gMS4gdGhlcmUgaXMgbm8gc3VjaCBkb2N1bWVudFxuICAgICAgLy8gMi4gdGhlIGRvY3VtZW50IGlzIGRlbGV0ZWQgYW5kIHdlIGRvbid0IGFzayBhYm91dCBzcGVjaWZpYyByZXZcbiAgICAgIC8vIFdoZW4gd2UgYXNrIHdpdGggb3B0cy5yZXYgd2UgZXhwZWN0IHRoZSBhbnN3ZXIgdG8gYmUgZWl0aGVyXG4gICAgICAvLyBkb2MgKHBvc3NpYmx5IHdpdGggX2RlbGV0ZWQ9dHJ1ZSkgb3IgbWlzc2luZyBlcnJvclxuICAgICAgaWYgKCFtZXRhZGF0YSkge1xuICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV2O1xuICAgICAgaWYgKCFvcHRzLnJldikge1xuICAgICAgICByZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsIFwiZGVsZXRlZFwiKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldiA9IG9wdHMubGF0ZXN0ID8gbGF0ZXN0KG9wdHMucmV2LCBtZXRhZGF0YSkgOiBvcHRzLnJldjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9iamVjdFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyAnOjonICsgcmV2O1xuXG4gICAgICBvYmplY3RTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICBkb2MgPSBkZWNvZGVEb2MoZG9jKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvYykge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnbWlzc2luZycpO1xuICAgICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2goKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2dldEF0dGFjaG1lbnQgPSBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaElkLCBhdHRhY2htZW50LCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG47XG4gICAgaWYgKG9wdHMuY3R4KSB7XG4gICAgICB0eG4gPSBvcHRzLmN0eDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsXG4gICAgICAgIFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgQVRUQUNIX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB9XG4gICAgdmFyIGRpZ2VzdCA9IGF0dGFjaG1lbnQuZGlnZXN0O1xuICAgIHZhciB0eXBlID0gYXR0YWNobWVudC5jb250ZW50X3R5cGU7XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGJvZHkgPSBlLnRhcmdldC5yZXN1bHQuYm9keTtcbiAgICAgIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBvcHRzLmJpbmFyeSwgZnVuY3Rpb24gKGJsb2JEYXRhKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGJsb2JEYXRhKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9pbmZvID0gZnVuY3Rpb24gaWRiX2luZm8oY2FsbGJhY2spIHtcbiAgICB2YXIgdXBkYXRlU2VxO1xuICAgIHZhciBkb2NDb3VudDtcblxuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTUVUQV9TVE9SRSwgQllfU0VRX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICAgIH07XG4gICAgdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSkub3BlbkN1cnNvcihudWxsLCAncHJldicpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdXBkYXRlU2VxID0gY3Vyc29yID8gY3Vyc29yLmtleSA6IDA7XG4gICAgfTtcblxuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICBkb2NfY291bnQ6IGRvY0NvdW50LFxuICAgICAgICB1cGRhdGVfc2VxOiB1cGRhdGVTZXEsXG4gICAgICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWRiX2F0dGFjaG1lbnRfZm9ybWF0OiAoYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2JpbmFyeScgOiAnYmFzZTY0JylcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9hbGxEb2NzID0gZnVuY3Rpb24gaWRiX2FsbERvY3Mob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykpO1xuICB9O1xuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIGlkYkNoYW5nZXMob3B0cykge1xuICAgIHJldHVybiBjaGFuZ2VzKG9wdHMsIGFwaSwgZGJOYW1lLCBpZGIpO1xuICB9O1xuXG4gIGFwaS5fY2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0luZGV4ZWREQi9JREJEYXRhYmFzZSNjbG9zZVxuICAgIC8vIFwiUmV0dXJucyBpbW1lZGlhdGVseSBhbmQgY2xvc2VzIHRoZSBjb25uZWN0aW9uIGluIGEgc2VwYXJhdGUgdGhyZWFkLi4uXCJcbiAgICBpZGIuY2xvc2UoKTtcbiAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2dldFJldmlzaW9uVHJlZSA9IGZ1bmN0aW9uIChkb2NJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0RPQ19TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuZ2V0KGRvY0lkKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZG9jID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZG9jLnJldl90cmVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyByZXZpc2lvbnMgb2YgZG9jdW1lbnQgZG9jSWRcbiAgLy8gd2hpY2ggYXJlIGxpc3RlZCBpbiByZXZzIGFuZCBzZXRzIHRoaXMgZG9jdW1lbnRcbiAgLy8gcmV2aXNpb24gdG8gdG8gcmV2X3RyZWVcbiAgYXBpLl9kb0NvbXBhY3Rpb24gPSBmdW5jdGlvbiAoZG9jSWQsIHJldnMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0b3JlcyA9IFtcbiAgICAgIERPQ19TVE9SRSxcbiAgICAgIEJZX1NFUV9TVE9SRSxcbiAgICAgIEFUVEFDSF9TVE9SRSxcbiAgICAgIEFUVEFDSF9BTkRfU0VRX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuXG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG5cbiAgICBkb2NTdG9yZS5nZXQoZG9jSWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICB0cmF2ZXJzZVJldlRyZWUobWV0YWRhdGEucmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgICAgaWYgKHJldnMuaW5kZXhPZihyZXYpICE9PSAtMSkge1xuICAgICAgICAgIG9wdHMuc3RhdHVzID0gJ21pc3NpbmcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pO1xuICAgICAgdmFyIHdpbm5pbmdSZXYkJDEgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgdmFyIGRlbGV0ZWQgPSBtZXRhZGF0YS5kZWxldGVkO1xuICAgICAgdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkucHV0KFxuICAgICAgICBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiQkMSwgZGVsZXRlZCkpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH07XG4gIH07XG5cblxuICBhcGkuX2dldExvY2FsID0gZnVuY3Rpb24gKGlkLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICB2YXIgcmVxID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBkb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGRvY1snX2RvY19pZF9yZXYnXTsgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZG9jKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fcHV0TG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBkZWxldGUgZG9jLl9yZXZpc2lvbnM7IC8vIGlnbm9yZSB0aGlzLCB0cnVzdCB0aGUgcmV2XG4gICAgdmFyIG9sZFJldiA9IGRvYy5fcmV2O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgaWYgKCFvbGRSZXYpIHtcbiAgICAgIGRvYy5fcmV2ID0gJzAtMSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fcmV2ID0gJzAtJyArIChwYXJzZUludChvbGRSZXYuc3BsaXQoJy0nKVsxXSwgMTApICsgMSk7XG4gICAgfVxuXG4gICAgdmFyIHR4ID0gb3B0cy5jdHg7XG4gICAgdmFyIHJldDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgICB0eC5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgb1N0b3JlID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciByZXE7XG4gICAgaWYgKG9sZFJldikge1xuICAgICAgcmVxID0gb1N0b3JlLmdldChpZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG9sZERvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFvbGREb2MgfHwgb2xkRG9jLl9yZXYgIT09IG9sZFJldikge1xuICAgICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICB9IGVsc2UgeyAvLyB1cGRhdGVcbiAgICAgICAgICB2YXIgcmVxID0gb1N0b3JlLnB1dChkb2MpO1xuICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7IC8vIG5ldyBkb2NcbiAgICAgIHJlcSA9IG9TdG9yZS5hZGQoZG9jKTtcbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gY29uc3RyYWludCBlcnJvciwgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgfTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgYXBpLl9yZW1vdmVMb2NhbCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIGlmICghdHgpIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdmFyIGlkID0gZG9jLl9pZDtcbiAgICB2YXIgb1N0b3JlID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciByZXEgPSBvU3RvcmUuZ2V0KGlkKTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIG9sZERvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBkb2MuX3Jldikge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb1N0b3JlLmRlbGV0ZShpZCk7XG4gICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGlkLCByZXY6ICcwLTAnfTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGNoYW5nZXNIYW5kbGVyLnJlbW92ZUFsbExpc3RlbmVycyhkYk5hbWUpO1xuXG4gICAgLy9DbG9zZSBvcGVuIHJlcXVlc3QgZm9yIFwiZGJOYW1lXCIgZGF0YWJhc2UgdG8gZml4IGllIGRlbGF5LlxuICAgIHZhciBvcGVuUmVxID0gb3BlblJlcUxpc3QuZ2V0KGRiTmFtZSk7XG4gICAgaWYgKG9wZW5SZXEgJiYgb3BlblJlcS5yZXN1bHQpIHtcbiAgICAgIG9wZW5SZXEucmVzdWx0LmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfVxuICAgIHZhciByZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGJOYW1lKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL1JlbW92ZSBvcGVuIHJlcXVlc3QgZnJvbSB0aGUgbGlzdC5cbiAgICAgIG9wZW5SZXFMaXN0LmRlbGV0ZShkYk5hbWUpO1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpICYmIChkYk5hbWUgaW4gbG9jYWxTdG9yYWdlKSkge1xuICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW2RiTmFtZV07XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCB7ICdvayc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB9O1xuXG4gIHZhciBjYWNoZWQgPSBjYWNoZWREQnMuZ2V0KGRiTmFtZSk7XG5cbiAgaWYgKGNhY2hlZCkge1xuICAgIGlkYiA9IGNhY2hlZC5pZGI7XG4gICAgYXBpLl9tZXRhID0gY2FjaGVkLmdsb2JhbDtcbiAgICByZXR1cm4gaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgcmVxID0gaW5kZXhlZERCLm9wZW4oZGJOYW1lLCBBREFQVEVSX1ZFUlNJT04pO1xuICBvcGVuUmVxTGlzdC5zZXQoZGJOYW1lLCByZXEpO1xuXG4gIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBkYiA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgMSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNjaGVtYShkYik7IC8vIG5ldyBkYiwgaW5pdGlhbCBzY2hlbWFcbiAgICB9XG4gICAgLy8gZG8gbWlncmF0aW9uc1xuXG4gICAgdmFyIHR4biA9IGUuY3VycmVudFRhcmdldC50cmFuc2FjdGlvbjtcbiAgICAvLyB0aGVzZSBtaWdyYXRpb25zIGhhdmUgdG8gYmUgZG9uZSBpbiB0aGlzIGZ1bmN0aW9uLCBiZWZvcmVcbiAgICAvLyBjb250cm9sIGlzIHJldHVybmVkIHRvIHRoZSBldmVudCBsb29wLCBiZWNhdXNlIEluZGV4ZWREQlxuXG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDMpIHtcbiAgICAgIGNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEoZGIpOyAvLyB2MiAtPiB2M1xuICAgIH1cbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgNCkge1xuICAgICAgYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpOyAvLyB2MyAtPiB2NFxuICAgIH1cblxuICAgIHZhciBtaWdyYXRpb25zID0gW1xuICAgICAgYWRkRGVsZXRlZE9yTG9jYWxJbmRleCwgLy8gdjEgLT4gdjJcbiAgICAgIG1pZ3JhdGVMb2NhbFN0b3JlLCAgICAgIC8vIHYyIC0+IHYzXG4gICAgICBtaWdyYXRlQXR0c0FuZFNlcXMsICAgICAvLyB2MyAtPiB2NFxuICAgICAgbWlncmF0ZU1ldGFkYXRhICAgICAgICAgLy8gdjQgLT4gdjVcbiAgICBdO1xuXG4gICAgdmFyIGkgPSBlLm9sZFZlcnNpb247XG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgdmFyIG1pZ3JhdGlvbiA9IG1pZ3JhdGlvbnNbaSAtIDFdO1xuICAgICAgaSsrO1xuICAgICAgaWYgKG1pZ3JhdGlvbikge1xuICAgICAgICBtaWdyYXRpb24odHhuLCBuZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0KCk7XG4gIH07XG5cbiAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICBpZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG5cbiAgICBpZGIub252ZXJzaW9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWRiLmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfTtcblxuICAgIGlkYi5vbmFib3J0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdEYXRhYmFzZSBoYXMgYSBnbG9iYWwgZmFpbHVyZScsIGUudGFyZ2V0LmVycm9yKTtcbiAgICAgIGlkYkdsb2JhbEZhaWx1cmVFcnJvciA9IGUudGFyZ2V0LmVycm9yO1xuICAgICAgaWRiLmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfTtcblxuICAgIC8vIERvIGEgZmV3IHNldHVwIG9wZXJhdGlvbnMgKGluIHBhcmFsbGVsIGFzIG11Y2ggYXMgcG9zc2libGUpOlxuICAgIC8vIDEuIEZldGNoIG1ldGEgZG9jXG4gICAgLy8gMi4gQ2hlY2sgYmxvYiBzdXBwb3J0XG4gICAgLy8gMy4gQ2FsY3VsYXRlIGRvY0NvdW50XG4gICAgLy8gNC4gR2VuZXJhdGUgYW4gaW5zdGFuY2VJZCBpZiBuZWNlc3NhcnlcbiAgICAvLyA1LiBTdG9yZSBkb2NDb3VudCBhbmQgaW5zdGFuY2VJZCBvbiBtZXRhIGRvY1xuXG4gICAgdmFyIHR4biA9IGlkYi50cmFuc2FjdGlvbihbXG4gICAgICBNRVRBX1NUT1JFLFxuICAgICAgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSxcbiAgICAgIERPQ19TVE9SRVxuICAgIF0sICdyZWFkd3JpdGUnKTtcblxuICAgIHZhciBzdG9yZWRNZXRhRG9jID0gZmFsc2U7XG4gICAgdmFyIG1ldGFEb2M7XG4gICAgdmFyIGRvY0NvdW50O1xuICAgIHZhciBibG9iU3VwcG9ydDtcbiAgICB2YXIgaW5zdGFuY2VJZDtcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlU2V0dXAoKSB7XG4gICAgICBpZiAodHlwZW9mIGJsb2JTdXBwb3J0ID09PSAndW5kZWZpbmVkJyB8fCAhc3RvcmVkTWV0YURvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkuX21ldGEgPSB7XG4gICAgICAgIG5hbWU6IGRiTmFtZSxcbiAgICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2VJZCxcbiAgICAgICAgYmxvYlN1cHBvcnQ6IGJsb2JTdXBwb3J0XG4gICAgICB9O1xuXG4gICAgICBjYWNoZWREQnMuc2V0KGRiTmFtZSwge1xuICAgICAgICBpZGI6IGlkYixcbiAgICAgICAgZ2xvYmFsOiBhcGkuX21ldGFcbiAgICAgIH0pO1xuICAgICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9yZU1ldGFEb2NJZlJlYWR5KCkge1xuICAgICAgaWYgKHR5cGVvZiBkb2NDb3VudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIG1ldGFEb2MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbnN0YW5jZUtleSA9IGRiTmFtZSArICdfaWQnO1xuICAgICAgaWYgKGluc3RhbmNlS2V5IGluIG1ldGFEb2MpIHtcbiAgICAgICAgaW5zdGFuY2VJZCA9IG1ldGFEb2NbaW5zdGFuY2VLZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0YURvY1tpbnN0YW5jZUtleV0gPSBpbnN0YW5jZUlkID0gdXVpZCgpO1xuICAgICAgfVxuICAgICAgbWV0YURvYy5kb2NDb3VudCA9IGRvY0NvdW50O1xuICAgICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLnB1dChtZXRhRG9jKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGZldGNoIG9yIGdlbmVyYXRlIHRoZSBpbnN0YW5jZUlkXG4gICAgLy9cbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhRG9jID0gZS50YXJnZXQucmVzdWx0IHx8IHsgaWQ6IE1FVEFfU1RPUkUgfTtcbiAgICAgIHN0b3JlTWV0YURvY0lmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgLy9cbiAgICAvLyBjb3VudERvY3NcbiAgICAvL1xuICAgIGNvdW50RG9jcyh0eG4sIGZ1bmN0aW9uIChjb3VudCkge1xuICAgICAgZG9jQ291bnQgPSBjb3VudDtcbiAgICAgIHN0b3JlTWV0YURvY0lmUmVhZHkoKTtcbiAgICB9KTtcblxuICAgIC8vXG4gICAgLy8gY2hlY2sgYmxvYiBzdXBwb3J0XG4gICAgLy9cbiAgICBpZiAoIWJsb2JTdXBwb3J0UHJvbWlzZSkge1xuICAgICAgLy8gbWFrZSBzdXJlIGJsb2Igc3VwcG9ydCBpcyBvbmx5IGNoZWNrZWQgb25jZVxuICAgICAgYmxvYlN1cHBvcnRQcm9taXNlID0gY2hlY2tCbG9iU3VwcG9ydCh0eG4pO1xuICAgIH1cblxuICAgIGJsb2JTdXBwb3J0UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIGJsb2JTdXBwb3J0ID0gdmFsO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH0pO1xuXG4gICAgLy8gb25seSB3aGVuIHRoZSBtZXRhZGF0YSBwdXQgdHJhbnNhY3Rpb24gaGFzIGNvbXBsZXRlZCxcbiAgICAvLyBjb25zaWRlciB0aGUgc2V0dXAgZG9uZVxuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc3RvcmVkTWV0YURvYyA9IHRydWU7XG4gICAgICBjb21wbGV0ZVNldHVwKCk7XG4gICAgfTtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1zZyA9IGUudGFyZ2V0LmVycm9yICYmIGUudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG5cbiAgICBpZiAoIW1zZykge1xuICAgICAgbXNnID0gJ0ZhaWxlZCB0byBvcGVuIGluZGV4ZWREQiwgYXJlIHlvdSBpbiBwcml2YXRlIGJyb3dzaW5nIG1vZGU/JztcbiAgICB9IGVsc2UgaWYgKG1zZy5pbmRleE9mKFwic3RvcmVkIGRhdGFiYXNlIGlzIGEgaGlnaGVyIHZlcnNpb25cIikgIT09IC0xKSB7XG4gICAgICBtc2cgPSBuZXcgRXJyb3IoJ1RoaXMgREIgd2FzIGNyZWF0ZWQgd2l0aCB0aGUgbmV3ZXIgXCJpbmRleGVkZGJcIiBhZGFwdGVyLCBidXQgeW91IGFyZSB0cnlpbmcgdG8gb3BlbiBpdCB3aXRoIHRoZSBvbGRlciBcImlkYlwiIGFkYXB0ZXInKTtcbiAgICB9XG5cbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBtc2cpO1xuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbXNnKSk7XG4gIH07XG59XG5cbklkYlBvdWNoLnZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAvLyBGb2xsb3dpbmcgIzcwODUgYnVnZ3kgaWRiIHZlcnNpb25zICh0eXBpY2FsbHkgU2FmYXJpIDwgMTAuMSkgYXJlXG4gIC8vIGNvbnNpZGVyZWQgdmFsaWQuXG5cbiAgLy8gT24gRmlyZWZveCBTZWN1cml0eUVycm9yIGlzIHRocm93biB3aGlsZSByZWZlcmVuY2luZyBpbmRleGVkREIgaWYgY29va2llc1xuICAvLyBhcmUgbm90IGFsbG93ZWQuIGB0eXBlb2YgaW5kZXhlZERCYCBhbHNvIHRyaWdnZXJzIHRoZSBlcnJvci5cbiAgdHJ5IHtcbiAgICAvLyBzb21lIG91dGRhdGVkIGltcGxlbWVudGF0aW9ucyBvZiBJREIgdGhhdCBhcHBlYXIgb24gU2Ftc3VuZ1xuICAgIC8vIGFuZCBIVEMgQW5kcm9pZCBkZXZpY2VzIDw0LjQgYXJlIG1pc3NpbmcgSURCS2V5UmFuZ2VcbiAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIElEQktleVJhbmdlICE9PSAndW5kZWZpbmVkJztcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZnVuY3Rpb24gSURCUG91Y2ggKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdpZGInLCBJZGJQb3VjaCwgdHJ1ZSk7XG59XG5cbi8vIGRlYWQgc2ltcGxlIHByb21pc2UgcG9vbCwgaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL3RpbWRwL2VzNi1wcm9taXNlLXBvb2xcbi8vIGJ1dCBtdWNoIHNtYWxsZXIgaW4gY29kZSBzaXplLiBsaW1pdHMgdGhlIG51bWJlciBvZiBjb25jdXJyZW50IHByb21pc2VzIHRoYXQgYXJlIGV4ZWN1dGVkXG5cblxuZnVuY3Rpb24gcG9vbChwcm9taXNlRmFjdG9yaWVzLCBsaW1pdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBydW5uaW5nID0gMDtcbiAgICB2YXIgY3VycmVudCA9IDA7XG4gICAgdmFyIGRvbmUgPSAwO1xuICAgIHZhciBsZW4gPSBwcm9taXNlRmFjdG9yaWVzLmxlbmd0aDtcbiAgICB2YXIgZXJyO1xuXG4gICAgZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgIHJ1bm5pbmcrKztcbiAgICAgIHByb21pc2VGYWN0b3JpZXNbY3VycmVudCsrXSgpLnRoZW4ob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb05leHQoKSB7XG4gICAgICBpZiAoKytkb25lID09PSBsZW4pIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJ1bk5leHRCYXRjaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtcbiAgICAgIHJ1bm5pbmctLTtcbiAgICAgIGRvTmV4dCgpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gb25FcnJvcih0aGlzRXJyKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBlcnIgPSBlcnIgfHwgdGhpc0VycjtcbiAgICAgIGRvTmV4dCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bk5leHRCYXRjaCgpIHtcbiAgICAgIHdoaWxlIChydW5uaW5nIDwgbGltaXQgJiYgY3VycmVudCA8IGxlbikge1xuICAgICAgICBydW5OZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcnVuTmV4dEJhdGNoKCk7XG4gIH0pO1xufVxuXG52YXIgQ0hBTkdFU19CQVRDSF9TSVpFID0gMjU7XG52YXIgTUFYX1NJTVVMVEFORU9VU19SRVZTID0gNTA7XG52YXIgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiA9IDUwMDA7XG52YXIgREVGQVVMVF9IRUFSVEJFQVQgPSAxMDAwMDtcblxudmFyIHN1cHBvcnRzQnVsa0dldE1hcCA9IHt9O1xuXG5mdW5jdGlvbiByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyb3cpIHtcbiAgdmFyIGRvYyA9IHJvdy5kb2MgfHwgcm93Lm9rO1xuICB2YXIgYXR0cyA9IGRvYyAmJiBkb2MuX2F0dGFjaG1lbnRzO1xuICBpZiAoIWF0dHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgYXR0LmRhdGEgPSBiNjRUb0JsdWZmZXIoYXR0LmRhdGEsIGF0dC5jb250ZW50X3R5cGUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlRG9jSWQoaWQpIHtcbiAgaWYgKC9eX2Rlc2lnbi8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19kZXNpZ24vJyArIGVuY29kZVVSSUNvbXBvbmVudChpZC5zbGljZSg4KSk7XG4gIH1cbiAgaWYgKC9eX2xvY2FsLy50ZXN0KGlkKSkge1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoNykpO1xuICB9XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoaWQpO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudHMkMShkb2MpIHtcbiAgaWYgKCFkb2MuX2F0dGFjaG1lbnRzIHx8ICFPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBhdHRhY2htZW50ID0gZG9jLl9hdHRhY2htZW50c1trZXldO1xuICAgIGlmIChhdHRhY2htZW50LmRhdGEgJiYgdHlwZW9mIGF0dGFjaG1lbnQuZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBibG9iVG9CYXNlNjQoYXR0YWNobWVudC5kYXRhLCByZXNvbHZlKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHRhY2htZW50LmRhdGEgPSBiNjQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gaGFzVXJsUHJlZml4KG9wdHMpIHtcbiAgaWYgKCFvcHRzLnByZWZpeCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG9jb2wgPSBwYXJzZVVyaShvcHRzLnByZWZpeCkucHJvdG9jb2w7XG4gIHJldHVybiBwcm90b2NvbCA9PT0gJ2h0dHAnIHx8IHByb3RvY29sID09PSAnaHR0cHMnO1xufVxuXG4vLyBHZXQgYWxsIHRoZSBpbmZvcm1hdGlvbiB5b3UgcG9zc2libHkgY2FuIGFib3V0IHRoZSBVUkkgZ2l2ZW4gYnkgbmFtZSBhbmRcbi8vIHJldHVybiBpdCBhcyBhIHN1aXRhYmxlIG9iamVjdC5cbmZ1bmN0aW9uIGdldEhvc3QobmFtZSwgb3B0cykge1xuICAvLyBlbmNvZGUgZGIgbmFtZSBpZiBvcHRzLnByZWZpeCBpcyBhIHVybCAoIzU1NzQpXG4gIGlmIChoYXNVcmxQcmVmaXgob3B0cykpIHtcbiAgICB2YXIgZGJOYW1lID0gb3B0cy5uYW1lLnN1YnN0cihvcHRzLnByZWZpeC5sZW5ndGgpO1xuICAgIC8vIEVuc3VyZSBwcmVmaXggaGFzIGEgdHJhaWxpbmcgc2xhc2hcbiAgICB2YXIgcHJlZml4ID0gb3B0cy5wcmVmaXgucmVwbGFjZSgvXFwvPyQvLCAnLycpO1xuICAgIG5hbWUgPSBwcmVmaXggKyBlbmNvZGVVUklDb21wb25lbnQoZGJOYW1lKTtcbiAgfVxuXG4gIHZhciB1cmkgPSBwYXJzZVVyaShuYW1lKTtcbiAgaWYgKHVyaS51c2VyIHx8IHVyaS5wYXNzd29yZCkge1xuICAgIHVyaS5hdXRoID0ge3VzZXJuYW1lOiB1cmkudXNlciwgcGFzc3dvcmQ6IHVyaS5wYXNzd29yZH07XG4gIH1cblxuICAvLyBTcGxpdCB0aGUgcGF0aCBwYXJ0IG9mIHRoZSBVUkkgaW50byBwYXJ0cyB1c2luZyAnLycgYXMgdGhlIGRlbGltaXRlclxuICAvLyBhZnRlciByZW1vdmluZyBhbnkgbGVhZGluZyAnLycgYW5kIGFueSB0cmFpbGluZyAnLydcbiAgdmFyIHBhcnRzID0gdXJpLnBhdGgucmVwbGFjZSgvKF5cXC98XFwvJCkvZywgJycpLnNwbGl0KCcvJyk7XG5cbiAgdXJpLmRiID0gcGFydHMucG9wKCk7XG4gIC8vIFByZXZlbnQgZG91YmxlIGVuY29kaW5nIG9mIFVSSSBjb21wb25lbnRcbiAgaWYgKHVyaS5kYi5pbmRleE9mKCclJykgPT09IC0xKSB7XG4gICAgdXJpLmRiID0gZW5jb2RlVVJJQ29tcG9uZW50KHVyaS5kYik7XG4gIH1cblxuICB1cmkucGF0aCA9IHBhcnRzLmpvaW4oJy8nKTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlbkRCVXJsKG9wdHMsIHBhdGgpIHtcbiAgcmV0dXJuIGdlblVybChvcHRzLCBvcHRzLmRiICsgJy8nICsgcGF0aCk7XG59XG5cbi8vIEdlbmVyYXRlIGEgVVJMIHdpdGggdGhlIGhvc3QgZGF0YSBnaXZlbiBieSBvcHRzIGFuZCB0aGUgZ2l2ZW4gcGF0aFxuZnVuY3Rpb24gZ2VuVXJsKG9wdHMsIHBhdGgpIHtcbiAgLy8gSWYgdGhlIGhvc3QgYWxyZWFkeSBoYXMgYSBwYXRoLCB0aGVuIHdlIG5lZWQgdG8gaGF2ZSBhIHBhdGggZGVsaW1pdGVyXG4gIC8vIE90aGVyd2lzZSwgdGhlIHBhdGggZGVsaW1pdGVyIGlzIHRoZSBlbXB0eSBzdHJpbmdcbiAgdmFyIHBhdGhEZWwgPSAhb3B0cy5wYXRoID8gJycgOiAnLyc7XG5cbiAgLy8gSWYgdGhlIGhvc3QgYWxyZWFkeSBoYXMgYSBwYXRoLCB0aGVuIHdlIG5lZWQgdG8gaGF2ZSBhIHBhdGggZGVsaW1pdGVyXG4gIC8vIE90aGVyd2lzZSwgdGhlIHBhdGggZGVsaW1pdGVyIGlzIHRoZSBlbXB0eSBzdHJpbmdcbiAgcmV0dXJuIG9wdHMucHJvdG9jb2wgKyAnOi8vJyArIG9wdHMuaG9zdCArXG4gICAgICAgICAob3B0cy5wb3J0ID8gKCc6JyArIG9wdHMucG9ydCkgOiAnJykgK1xuICAgICAgICAgJy8nICsgb3B0cy5wYXRoICsgcGF0aERlbCArIHBhdGg7XG59XG5cbmZ1bmN0aW9uIHBhcmFtc1RvU3RyKHBhcmFtcykge1xuICByZXR1cm4gJz8nICsgT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba10pO1xuICB9KS5qb2luKCcmJyk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZENhY2hlQnVzdChvcHRzKSB7XG4gIHZhciB1YSA9ICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50KSA/XG4gICAgICBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgdmFyIGlzSUUgPSB1YS5pbmRleE9mKCdtc2llJykgIT09IC0xO1xuICB2YXIgaXNUcmlkZW50ID0gdWEuaW5kZXhPZigndHJpZGVudCcpICE9PSAtMTtcbiAgdmFyIGlzRWRnZSA9IHVhLmluZGV4T2YoJ2VkZ2UnKSAhPT0gLTE7XG4gIHZhciBpc0dFVCA9ICEoJ21ldGhvZCcgaW4gb3B0cykgfHwgb3B0cy5tZXRob2QgPT09ICdHRVQnO1xuICByZXR1cm4gKGlzSUUgfHwgaXNUcmlkZW50IHx8IGlzRWRnZSkgJiYgaXNHRVQ7XG59XG5cbi8vIEltcGxlbWVudHMgdGhlIFBvdWNoREIgQVBJIGZvciBkZWFsaW5nIHdpdGggQ291Y2hEQiBpbnN0YW5jZXMgb3ZlciBIVFRQXG5mdW5jdGlvbiBIdHRwUG91Y2gob3B0cywgY2FsbGJhY2spIHtcblxuICAvLyBUaGUgZnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBwdWJsaWNseSBhdmFpbGFibGUgZm9yIEh0dHBQb3VjaFxuICB2YXIgYXBpID0gdGhpcztcblxuICB2YXIgaG9zdCA9IGdldEhvc3Qob3B0cy5uYW1lLCBvcHRzKTtcbiAgdmFyIGRiVXJsID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuXG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICB2YXIgb3VyRmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIG9wdGlvbnMuY3JlZGVudGlhbHMgPSAnaW5jbHVkZSc7XG5cbiAgICBpZiAob3B0cy5hdXRoIHx8IGhvc3QuYXV0aCkge1xuICAgICAgdmFyIG5BdXRoID0gb3B0cy5hdXRoIHx8IGhvc3QuYXV0aDtcbiAgICAgIHZhciBzdHIgPSBuQXV0aC51c2VybmFtZSArICc6JyArIG5BdXRoLnBhc3N3b3JkO1xuICAgICAgdmFyIHRva2VuID0gdGhpc0J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpKTtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIHRva2VuKTtcbiAgICB9XG5cbiAgICB2YXIgaGVhZGVycyA9IG9wdHMuaGVhZGVycyB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5hcHBlbmQoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgIH0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNob3VsZENhY2hlQnVzdChvcHRpb25zKSkge1xuICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyAnX25vbmNlPScgKyBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIHZhciBmZXRjaEZ1biA9IG9wdHMuZmV0Y2ggfHwgZiQxO1xuICAgIHJldHVybiBmZXRjaEZ1bih1cmwsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFkYXB0ZXJGdW4kJDEobmFtZSwgZnVuKSB7XG4gICAgcmV0dXJuIGFkYXB0ZXJGdW4obmFtZSwgZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICB9KTtcbiAgICB9KSkuYmluZChhcGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hKU09OKHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCBuZXcgaCgpO1xuXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMuZ2V0KCdBY2NlcHQnKSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3VyRmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmVzdWx0Lm9rID0gcmVzcG9uc2Uub2s7XG4gICAgICByZXN1bHQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICByZXN1bHQuZGF0YSA9IGpzb247XG4gICAgICBpZiAoIXJlc3VsdC5vaykge1xuICAgICAgICByZXN1bHQuZGF0YS5zdGF0dXMgPSByZXN1bHQuc3RhdHVzO1xuICAgICAgICB2YXIgZXJyID0gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQuZGF0YSk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YSkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGEgPSByZXN1bHQuZGF0YS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBpZiAodi5lcnJvciB8fCB2Lm1pc3NpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzZXR1cFByb21pc2U7XG5cbiAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgaWYgKG9wdHMuc2tpcF9zZXR1cCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIGEgc2V0dXAgaW4gcHJvY2VzcyBvciBwcmV2aW91cyBzdWNjZXNzZnVsIHNldHVwXG4gICAgLy8gZG9uZSB0aGVuIHdlIHdpbGwgdXNlIHRoYXRcbiAgICAvLyBJZiBwcmV2aW91cyBzZXR1cHMgaGF2ZSBiZWVuIHJlamVjdGVkIHdlIHdpbGwgdHJ5IGFnYWluXG4gICAgaWYgKHNldHVwUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHNldHVwUHJvbWlzZTtcbiAgICB9XG5cbiAgICBzZXR1cFByb21pc2UgPSBmZXRjaEpTT04oZGJVcmwpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyAmJiBlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgLy8gRG9lc250IGV4aXN0LCBjcmVhdGUgaXRcbiAgICAgICAgZXhwbGFpbkVycm9yKDQwNCwgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSBleGlzdHMuJyk7XG4gICAgICAgIHJldHVybiBmZXRjaEpTT04oZGJVcmwsIHttZXRob2Q6ICdQVVQnfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvLyBJZiB3ZSB0cnkgdG8gY3JlYXRlIGEgZGF0YWJhc2UgdGhhdCBhbHJlYWR5IGV4aXN0cywgc2tpcHBlZCBpblxuICAgICAgLy8gaXN0YW5idWwgc2luY2UgaXRzIGNhdGNoaW5nIGEgcmFjZSBjb25kaXRpb24uXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyAmJiBlcnIuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTtcblxuICAgIHNldHVwUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICBzZXR1cFByb21pc2UgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNldHVwUHJvbWlzZTtcbiAgfVxuXG4gIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgfSk7XG5cbiAgYXBpLl9yZW1vdGUgPSB0cnVlO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGFwaS50eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnaHR0cCc7XG4gIH07XG5cbiAgYXBpLmlkID0gYWRhcHRlckZ1biQkMSgnaWQnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBvdXJGZXRjaChnZW5VcmwoaG9zdCwgJycpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAvLyBCYWQgcmVzcG9uc2Ugb3IgbWlzc2luZyBgdXVpZGAgc2hvdWxkIG5vdCBwcmV2ZW50IElEIGdlbmVyYXRpb24uXG4gICAgICB2YXIgdXVpZCQkMSA9IChyZXN1bHQgJiYgcmVzdWx0LnV1aWQpID9cbiAgICAgICAgICAocmVzdWx0LnV1aWQgKyBob3N0LmRiKSA6IGdlbkRCVXJsKGhvc3QsICcnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHV1aWQkJDEpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBTZW5kcyBhIFBPU1QgcmVxdWVzdCB0byB0aGUgaG9zdCBjYWxsaW5nIHRoZSBjb3VjaGRiIF9jb21wYWN0IGZ1bmN0aW9uXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuY29tcGFjdCA9IGFkYXB0ZXJGdW4kJDEoJ2NvbXBhY3QnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfY29tcGFjdCcpLCB7bWV0aG9kOiAnUE9TVCd9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHBpbmcoKSB7XG4gICAgICAgIGFwaS5pbmZvKGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIC8vIENvdWNoREIgbWF5IHNlbmQgYSBcImNvbXBhY3RfcnVubmluZzp0cnVlXCIgaWYgaXQnc1xuICAgICAgICAgIC8vIGFscmVhZHkgY29tcGFjdGluZy4gUG91Y2hEQiBTZXJ2ZXIgZG9lc24ndC5cbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChyZXMgJiYgIXJlcy5jb21wYWN0X3J1bm5pbmcpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHBpbmcsIG9wdHMuaW50ZXJ2YWwgfHwgMjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gUGluZyB0aGUgaHR0cCBpZiBpdCdzIGZpbmlzaGVkIGNvbXBhY3Rpb25cbiAgICAgIHBpbmcoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgYXBpLmJ1bGtHZXQgPSBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZG9CdWxrR2V0KGNiKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5sYXRlc3QpIHtcbiAgICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgICB9XG4gICAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2dldCcgKyBwYXJhbXNUb1N0cihwYXJhbXMpKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBkb2NzOiBvcHRzLmRvY3N9KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgcmVzdWx0LmRhdGEucmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIHJlcy5kb2NzLmZvckVhY2gocmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNiKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0pLmNhdGNoKGNiKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIGRvQnVsa0dldFNoaW0oKSB7XG4gICAgICAvLyBhdm9pZCBcInVybCB0b28gbG9uZyBlcnJvclwiIGJ5IHNwbGl0dGluZyB1cCBpbnRvIG11bHRpcGxlIHJlcXVlc3RzXG4gICAgICB2YXIgYmF0Y2hTaXplID0gTUFYX1NJTVVMVEFORU9VU19SRVZTO1xuICAgICAgdmFyIG51bUJhdGNoZXMgPSBNYXRoLmNlaWwob3B0cy5kb2NzLmxlbmd0aCAvIGJhdGNoU2l6ZSk7XG4gICAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShudW1CYXRjaGVzKTtcblxuICAgICAgZnVuY3Rpb24gb25SZXN1bHQoYmF0Y2hOdW0pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIC8vIGVyciBpcyBpbXBvc3NpYmxlIGJlY2F1c2Ugc2hpbSByZXR1cm5zIGEgbGlzdCBvZiBlcnJzIGluIHRoYXQgY2FzZVxuICAgICAgICAgIHJlc3VsdHNbYmF0Y2hOdW1dID0gcmVzLnJlc3VsdHM7XG4gICAgICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gbnVtQmF0Y2hlcykge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IGZsYXR0ZW4ocmVzdWx0cyl9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQmF0Y2hlczsgaSsrKSB7XG4gICAgICAgIHZhciBzdWJPcHRzID0gcGljayhvcHRzLCBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2xhdGVzdCddKTtcbiAgICAgICAgc3ViT3B0cy5kb2NzID0gb3B0cy5kb2NzLnNsaWNlKGkgKiBiYXRjaFNpemUsXG4gICAgICAgICAgTWF0aC5taW4ob3B0cy5kb2NzLmxlbmd0aCwgKGkgKyAxKSAqIGJhdGNoU2l6ZSkpO1xuICAgICAgICBidWxrR2V0KHNlbGYsIHN1Yk9wdHMsIG9uUmVzdWx0KGkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtYXJrIHRoZSB3aG9sZSBkYXRhYmFzZSBhcyBlaXRoZXIgc3VwcG9ydGluZyBvciBub3Qgc3VwcG9ydGluZyBfYnVsa19nZXRcbiAgICB2YXIgZGJVcmwgPSBnZW5VcmwoaG9zdCwgJycpO1xuICAgIHZhciBzdXBwb3J0c0J1bGtHZXQgPSBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIHN1cHBvcnRzQnVsa0dldCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAvLyBjaGVjayBpZiB0aGlzIGRhdGFiYXNlIHN1cHBvcnRzIF9idWxrX2dldFxuICAgICAgZG9CdWxrR2V0KGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IGZhbHNlO1xuICAgICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICAgIGVyci5zdGF0dXMsXG4gICAgICAgICAgICAnUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlICcgK1xuICAgICAgICAgICAgJ3N1cHBvcnRzIHRoZSBfYnVsa19nZXQgQVBJLidcbiAgICAgICAgICApO1xuICAgICAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdID0gdHJ1ZTtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRzQnVsa0dldCkge1xuICAgICAgZG9CdWxrR2V0KGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9CdWxrR2V0U2hpbSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQ2FsbHMgR0VUIG9uIHRoZSBob3N0LCB3aGljaCBnZXRzIGJhY2sgYSBKU09OIHN0cmluZyBjb250YWluaW5nXG4gIC8vICAgIGNvdWNoZGI6IEEgd2VsY29tZSBzdHJpbmdcbiAgLy8gICAgdmVyc2lvbjogVGhlIHZlcnNpb24gb2YgQ291Y2hEQiBpdCBpcyBydW5uaW5nXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb3VyRmV0Y2goZ2VuREJVcmwoaG9zdCwgJycpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICBpbmZvLmhvc3QgPSBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH07XG5cbiAgYXBpLmZldGNoID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB1cmwgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nID9cbiAgICAgICAgZ2VuVXJsKGhvc3QsIHBhdGguc3Vic3RyaW5nKDEpKSA6XG4gICAgICAgIGdlbkRCVXJsKGhvc3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICAvLyBUaGUgaWQgY291bGQgYmUgc29sZWx5IHRoZSBfaWQgaW4gdGhlIGRhdGFiYXNlLCBvciBpdCBtYXkgYmUgYVxuICAvLyBfZGVzaWduL0lEIG9yIF9sb2NhbC9JRCBwYXRoXG4gIGFwaS5nZXQgPSBhZGFwdGVyRnVuJCQxKCdnZXQnLCBmdW5jdGlvbiAoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIEdFVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuXG4gICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgcGFyYW1zLnJldnMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldnNfaW5mbykge1xuICAgICAgcGFyYW1zLnJldnNfaW5mbyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICBwYXJhbXMubGF0ZXN0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5vcGVuX3JldnMpIHtcbiAgICAgIGlmIChvcHRzLm9wZW5fcmV2cyAhPT0gXCJhbGxcIikge1xuICAgICAgICBvcHRzLm9wZW5fcmV2cyA9IEpTT04uc3RyaW5naWZ5KG9wdHMub3Blbl9yZXZzKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5vcGVuX3JldnMgPSBvcHRzLm9wZW5fcmV2cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXYpIHtcbiAgICAgIHBhcmFtcy5yZXYgPSBvcHRzLnJldjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSBvcHRzLmNvbmZsaWN0cztcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IG9wdHMudXBkYXRlX3NlcTtcbiAgICB9XG5cbiAgICBpZCA9IGVuY29kZURvY0lkKGlkKTtcblxuICAgIGZ1bmN0aW9uIGZldGNoQXR0YWNobWVudHMoZG9jKSB7XG4gICAgICB2YXIgYXR0cyA9IGRvYy5fYXR0YWNobWVudHM7XG4gICAgICB2YXIgZmlsZW5hbWVzID0gYXR0cyAmJiBPYmplY3Qua2V5cyhhdHRzKTtcbiAgICAgIGlmICghYXR0cyB8fCAhZmlsZW5hbWVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyB3ZSBmZXRjaCB0aGVzZSBtYW51YWxseSBpbiBzZXBhcmF0ZSBYSFJzLCBiZWNhdXNlXG4gICAgICAvLyBTeW5jIEdhdGV3YXkgd291bGQgbm9ybWFsbHkgc2VuZCBpdCBiYWNrIGFzIG11bHRpcGFydC9taXhlZCxcbiAgICAgIC8vIHdoaWNoIHdlIGNhbm5vdCBwYXJzZS4gQWxzbywgdGhpcyBpcyBtb3JlIGVmZmljaWVudCB0aGFuXG4gICAgICAvLyByZWNlaXZpbmcgYXR0YWNobWVudHMgYXMgYmFzZTY0LWVuY29kZWQgc3RyaW5ncy5cbiAgICAgIGZ1bmN0aW9uIGZldGNoRGF0YShmaWxlbmFtZSkge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgICAgIHZhciBwYXRoID0gZW5jb2RlRG9jSWQoZG9jLl9pZCkgKyAnLycgKyBlbmNvZGVBdHRhY2htZW50SWQoZmlsZW5hbWUpICtcbiAgICAgICAgICAgICc/cmV2PScgKyBkb2MuX3JldjtcbiAgICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsIHBhdGgpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGlmICgnYnVmZmVyJyBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJ1ZmZlcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgICAgICBpZiAob3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgIHZhciB0eXBlRmllbGREZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihibG9iLl9fcHJvdG9fXywgJ3R5cGUnKTtcbiAgICAgICAgICAgIGlmICghdHlwZUZpZWxkRGVzY3JpcHRvciB8fCB0eXBlRmllbGREZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgICBibG9iLnR5cGUgPSBhdHQuY29udGVudF90eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJsb2I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgYmxvYlRvQmFzZTY0KGJsb2IsIHJlc29sdmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGF0dC5kYXRhID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlRmFjdG9yaWVzID0gZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hEYXRhKGZpbGVuYW1lKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlzIGxpbWl0cyB0aGUgbnVtYmVyIG9mIHBhcmFsbGVsIHhociByZXF1ZXN0cyB0byA1IGFueSB0aW1lXG4gICAgICAvLyB0byBhdm9pZCBpc3N1ZXMgd2l0aCBtYXhpbXVtIGJyb3dzZXIgcmVxdWVzdCBsaW1pdHNcbiAgICAgIHJldHVybiBwb29sKHByb21pc2VGYWN0b3JpZXMsIDUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoQWxsQXR0YWNobWVudHMoZG9jT3JEb2NzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkb2NPckRvY3MpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb2NPckRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hBdHRhY2htZW50cyhkb2Mub2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jT3JEb2NzKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgaWQgKyBwYXJhbXNUb1N0cihwYXJhbXMpKTtcbiAgICBmZXRjaEpTT04odXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hBbGxBdHRhY2htZW50cyhyZXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMuZGF0YSk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgZS5kb2NJZCA9IGlkO1xuICAgICAgY2FsbGJhY2soZSk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLy8gRGVsZXRlIHRoZSBkb2N1bWVudCBnaXZlbiBieSBkb2MgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLnJlbW92ZSA9IGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNiKSB7XG4gICAgdmFyIGRvYztcbiAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgICBkb2MgPSB7XG4gICAgICAgIF9pZDogZG9jT3JJZCxcbiAgICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgICB9O1xuICAgICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0cztcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkb2MsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgICBkb2MgPSBkb2NPcklkO1xuICAgICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzT3JSZXY7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiID0gb3B0cztcbiAgICAgICAgb3B0cyA9IG9wdHNPclJldjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmV2ID0gKGRvYy5fcmV2IHx8IG9wdHMucmV2KTtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpICsgJz9yZXY9JyArIHJldjtcblxuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2IpLmNhdGNoKGNiKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkge1xuICAgIHJldHVybiBhdHRhY2htZW50SWQuc3BsaXQoXCIvXCIpLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCIvXCIpO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBhdHRhY2htZW50XG4gIGFwaS5nZXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgnZ2V0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgdmFyIHBhcmFtcyA9IG9wdHMucmV2ID8gKCc/cmV2PScgKyBvcHRzLnJldikgOiAnJztcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jSWQpKSArICcvJyArXG4gICAgICAgIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpICsgcGFyYW1zO1xuICAgIHZhciBjb250ZW50VHlwZTtcbiAgICBvdXJGZXRjaCh1cmwsIHttZXRob2Q6ICdHRVQnfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3NlciAmJiB0eXBlb2YgcmVzcG9uc2UuYnVmZmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJ1ZmZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgIC8vIFRPRE86IGFsc28gcmVtb3ZlXG4gICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIpIHtcbiAgICAgICAgYmxvYi50eXBlID0gY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCBibG9iKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBSZW1vdmUgdGhlIGF0dGFjaG1lbnQgZ2l2ZW4gYnkgdGhlIGlkIGFuZCByZXZcbiAgYXBpLnJlbW92ZUF0dGFjaG1lbnQgPSAgYWRhcHRlckZ1biQkMSgncmVtb3ZlQXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArXG4gICAgICAgICAgICAgICAgICAgICAgIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpKSArICc/cmV2PScgKyByZXY7XG4gICAgZmV0Y2hKU09OKHVybCwge21ldGhvZDogJ0RFTEVURSd9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBBZGQgdGhlIGF0dGFjaG1lbnQgZ2l2ZW4gYnkgYmxvYiBhbmQgaXRzIGNvbnRlbnRUeXBlIHByb3BlcnR5XG4gIC8vIHRvIHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBpZCwgdGhlIHJldmlzaW9uIGdpdmVuIGJ5IHJldiwgYW5kXG4gIC8vIGFkZCBpdCB0byB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLnB1dEF0dGFjaG1lbnQgPSBhZGFwdGVyRnVuJCQxKCdwdXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXYsIGJsb2IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSB0eXBlO1xuICAgICAgdHlwZSA9IGJsb2I7XG4gICAgICBibG9iID0gcmV2O1xuICAgICAgcmV2ID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGlkID0gZW5jb2RlRG9jSWQoZG9jSWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCk7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkKTtcbiAgICBpZiAocmV2KSB7XG4gICAgICB1cmwgKz0gJz9yZXY9JyArIHJldjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpbnB1dCBpcyBhc3N1bWVkIHRvIGJlIGEgYmFzZTY0IHN0cmluZ1xuICAgICAgdmFyIGJpbmFyeTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGJpbmFyeSA9IHRoaXNBdG9iKGJsb2IpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihCQURfQVJHLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0F0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZycpKTtcbiAgICAgIH1cbiAgICAgIGJsb2IgPSBiaW5hcnkgPyBiaW5TdHJpbmdUb0JsdWZmZXIoYmluYXJ5LCB0eXBlKSA6ICcnO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgYXR0YWNobWVudFxuICAgIGZldGNoSlNPTih1cmwsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogdHlwZX0pLFxuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGJvZHk6IGJsb2JcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBVcGRhdGUvY3JlYXRlIG11bHRpcGxlIGRvY3VtZW50cyBnaXZlbiBieSByZXEgaW4gdGhlIGRhdGFiYXNlXG4gIC8vIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5fYnVsa0RvY3MgPSBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5ld19lZGl0cz1mYWxzZSB0aGVuIGl0IHByZXZlbnRzIHRoZSBkYXRhYmFzZSBmcm9tIGNyZWF0aW5nXG4gICAgLy8gbmV3IHJldmlzaW9uIG51bWJlcnMgZm9yIHRoZSBkb2N1bWVudHMuIEluc3RlYWQgaXQganVzdCB1c2VzXG4gICAgLy8gdGhlIG9sZCBvbmVzLiBUaGlzIGlzIHVzZWQgaW4gZGF0YWJhc2UgcmVwbGljYXRpb24uXG4gICAgcmVxLm5ld19lZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuXG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXEuZG9jcy5tYXAocHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFVwZGF0ZS9jcmVhdGUgdGhlIGRvY3VtZW50c1xuICAgICAgcmV0dXJuIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2J1bGtfZG9jcycpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEpXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBkb2N1bWVudFxuICBhcGkuX3B1dCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcmVwcm9jZXNzQXR0YWNobWVudHMkMShkb2MpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZldGNoSlNPTihnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2MuX2lkKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZG9jKVxuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gZG9jICYmIGRvYy5faWQ7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9O1xuXG5cbiAgLy8gR2V0IGEgbGlzdGluZyBvZiB0aGUgZG9jdW1lbnRzIGluIHRoZSBkYXRhYmFzZSBnaXZlblxuICAvLyBieSBob3N0IGFuZCBvcmRlcmVkIGJ5IGluY3JlYXNpbmcgaWQuXG4gIGFwaS5hbGxEb2NzID0gYWRhcHRlckZ1biQkMSgnYWxsRG9jcycsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBhZGRlZCBpbiBDb3VjaERCIDEuNi4wXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMua2V5KSB7XG4gICAgICBwYXJhbXMua2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5rZXkpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgICAgb3B0cy5zdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICAgIH1cblxuICAgIGlmIChvcHRzLnN0YXJ0a2V5KSB7XG4gICAgICBwYXJhbXMuc3RhcnRrZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLnN0YXJ0a2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgICBvcHRzLmVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmRrZXkpIHtcbiAgICAgIHBhcmFtcy5lbmRrZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLmVuZGtleSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmluY2x1c2l2ZV9lbmQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMuaW5jbHVzaXZlX2VuZCA9ICEhb3B0cy5pbmNsdXNpdmVfZW5kO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5saW1pdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5saW1pdCA9IG9wdHMubGltaXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLnNraXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMuc2tpcCA9IG9wdHMuc2tpcDtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1TdHIgPSBwYXJhbXNUb1N0cihwYXJhbXMpO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge2tleXM6IG9wdHMua2V5c307XG4gICAgfVxuXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYWxsX2RvY3MnICsgcGFyYW1TdHIpLCB7XG4gICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGEucm93cy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIEdldCBhIGxpc3Qgb2YgY2hhbmdlcyBtYWRlIHRvIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVE9ETyBBY2NvcmRpbmcgdG8gdGhlIFJFQURNRSwgdGhlcmUgc2hvdWxkIGJlIHR3byBvdGhlciBtZXRob2RzIGhlcmUsXG4gIC8vIGFwaS5jaGFuZ2VzLmFkZExpc3RlbmVyIGFuZCBhcGkuY2hhbmdlcy5yZW1vdmVMaXN0ZW5lci5cbiAgYXBpLl9jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcblxuICAgIC8vIFdlIGludGVybmFsbHkgcGFnZSB0aGUgcmVzdWx0cyBvZiBhIGNoYW5nZXMgcmVxdWVzdCwgdGhpcyBtZWFuc1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgbGFyZ2Ugc2V0IG9mIGNoYW5nZXMgdG8gYmUgcmV0dXJuZWQgd2UgY2FuIHN0YXJ0XG4gICAgLy8gcHJvY2Vzc2luZyB0aGVtIHF1aWNrZXIgaW5zdGVhZCBvZiB3YWl0aW5nIG9uIHRoZSBlbnRpcmVcbiAgICAvLyBzZXQgb2YgY2hhbmdlcyB0byByZXR1cm4gYW5kIGF0dGVtcHRpbmcgdG8gcHJvY2VzcyB0aGVtIGF0IG9uY2VcbiAgICB2YXIgYmF0Y2hTaXplID0gJ2JhdGNoX3NpemUnIGluIG9wdHMgPyBvcHRzLmJhdGNoX3NpemUgOiBDSEFOR0VTX0JBVENIX1NJWkU7XG5cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzICYmICEoJ2hlYXJ0YmVhdCcgaW4gb3B0cykpIHtcbiAgICAgIG9wdHMuaGVhcnRiZWF0ID0gREVGQVVMVF9IRUFSVEJFQVQ7XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3RUaW1lb3V0ID0gKCd0aW1lb3V0JyBpbiBvcHRzKSA/IG9wdHMudGltZW91dCA6IDMwICogMTAwMDtcblxuICAgIC8vIGVuc3VyZSBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSIGFwcGxpZXNcbiAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMgJiYgb3B0cy50aW1lb3V0ICYmXG4gICAgICAocmVxdWVzdFRpbWVvdXQgLSBvcHRzLnRpbWVvdXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMudGltZW91dCArIENIQU5HRVNfVElNRU9VVF9CVUZGRVI7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMgJiYgb3B0cy5oZWFydGJlYXQgJiZcbiAgICAgICAocmVxdWVzdFRpbWVvdXQgLSBvcHRzLmhlYXJ0YmVhdCkgPCBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSKSB7XG4gICAgICAgIHJlcXVlc3RUaW1lb3V0ID0gb3B0cy5oZWFydGJlYXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMgJiYgb3B0cy50aW1lb3V0KSB7XG4gICAgICBwYXJhbXMudGltZW91dCA9IG9wdHMudGltZW91dDtcbiAgICB9XG5cbiAgICB2YXIgbGltaXQgPSAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSA/IG9wdHMubGltaXQgOiBmYWxzZTtcbiAgICB2YXIgbGVmdFRvRmV0Y2ggPSBsaW1pdDtcblxuICAgIGlmIChvcHRzLnN0eWxlKSB7XG4gICAgICBwYXJhbXMuc3R5bGUgPSBvcHRzLnN0eWxlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyB8fCBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBhcmFtcy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbnRpbnVvdXMpIHtcbiAgICAgIHBhcmFtcy5mZWVkID0gJ2xvbmdwb2xsJztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zZXFfaW50ZXJ2YWwpIHtcbiAgICAgIHBhcmFtcy5zZXFfaW50ZXJ2YWwgPSBvcHRzLnNlcV9pbnRlcnZhbDtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHBhcmFtcy5kZXNjZW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMpIHtcbiAgICAgIC8vIElmIHRoZSBoZWFydGJlYXQgdmFsdWUgaXMgZmFsc2UsIGl0IGRpc2FibGVzIHRoZSBkZWZhdWx0IGhlYXJ0YmVhdFxuICAgICAgaWYgKG9wdHMuaGVhcnRiZWF0KSB7XG4gICAgICAgIHBhcmFtcy5oZWFydGJlYXQgPSBvcHRzLmhlYXJ0YmVhdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgICAgcGFyYW1zLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnZpZXcgJiYgdHlwZW9mIG9wdHMudmlldyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3ZpZXcnO1xuICAgICAgcGFyYW1zLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgfVxuXG4gICAgLy8gSWYgb3B0cy5xdWVyeV9wYXJhbXMgZXhpc3RzLCBwYXNzIGl0IHRocm91Z2ggdG8gdGhlIGNoYW5nZXMgcmVxdWVzdC5cbiAgICAvLyBUaGVzZSBwYXJhbWV0ZXJzIG1heSBiZSB1c2VkIGJ5IHRoZSBmaWx0ZXIgb24gdGhlIHNvdXJjZSBkYXRhYmFzZS5cbiAgICBpZiAob3B0cy5xdWVyeV9wYXJhbXMgJiYgdHlwZW9mIG9wdHMucXVlcnlfcGFyYW1zID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdHMucXVlcnlfcGFyYW1zLCBwYXJhbV9uYW1lKSkge1xuICAgICAgICAgIHBhcmFtc1twYXJhbV9uYW1lXSA9IG9wdHMucXVlcnlfcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciBib2R5O1xuXG4gICAgaWYgKG9wdHMuZG9jX2lkcykge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXI7IGl0J3MgYW5ub3lpbmcgdGhhdCBjb3VjaGRiXG4gICAgICAvLyByZXF1aXJlcyBib3RoIGEgXCJmaWx0ZXJcIiBhbmQgYSBcImRvY19pZHNcIiBwYXJhbS5cbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX2RvY19pZHMnO1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtkb2NfaWRzOiBvcHRzLmRvY19pZHMgfTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBlbHNlIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgICAvLyBzZXQgdGhpcyBhdXRvbWFnaWNhbGx5IGZvciB0aGUgdXNlciwgc2ltaWxhciB0byBhYm92ZVxuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfc2VsZWN0b3InO1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtzZWxlY3Rvcjogb3B0cy5zZWxlY3RvciB9O1xuICAgIH1cblxuICAgIHZhciBjb250cm9sbGVyID0gbmV3IGEoKTtcbiAgICB2YXIgbGFzdEZldGNoZWRTZXE7XG5cbiAgICAvLyBHZXQgYWxsIHRoZSBjaGFuZ2VzIHN0YXJ0aW5nIHd0aWggdGhlIG9uZSBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAgICAvLyBzZXF1ZW5jZSBudW1iZXIgZ2l2ZW4gYnkgc2luY2UuXG4gICAgdmFyIGZldGNoRGF0YSA9IGZ1bmN0aW9uIChzaW5jZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnNpbmNlID0gc2luY2U7XG4gICAgICAvLyBcInNpbmNlXCIgY2FuIGJlIGFueSBraW5kIG9mIGpzb24gb2JqZWN0IGluIENsb3VkYW50L0NvdWNoREIgMi54XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuc2luY2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcGFyYW1zLnNpbmNlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLnNpbmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICBwYXJhbXMubGltaXQgPSBsZWZ0VG9GZXRjaDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zLmxpbWl0ID0gKCFsaW1pdCB8fCBsZWZ0VG9GZXRjaCA+IGJhdGNoU2l6ZSkgP1xuICAgICAgICAgIGJhdGNoU2l6ZSA6IGxlZnRUb0ZldGNoO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdGhlIG9wdGlvbnMgZm9yIHRoZSBhamF4IGNhbGxcbiAgICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCAnX2NoYW5nZXMnICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgICB2YXIgZmV0Y2hPcHRzID0ge1xuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH07XG4gICAgICBsYXN0RmV0Y2hlZFNlcSA9IHNpbmNlO1xuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIGNoYW5nZXNcbiAgICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaEpTT04odXJsLCBmZXRjaE9wdHMsIGNhbGxiYWNrKTtcbiAgICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgLy8gSWYgb3B0cy5zaW5jZSBleGlzdHMsIGdldCBhbGwgdGhlIGNoYW5nZXMgZnJvbSB0aGUgc2VxdWVuY2VcbiAgICAvLyBudW1iZXIgZ2l2ZW4gYnkgb3B0cy5zaW5jZS4gT3RoZXJ3aXNlLCBnZXQgYWxsIHRoZSBjaGFuZ2VzXG4gICAgLy8gZnJvbSB0aGUgc2VxdWVuY2UgbnVtYmVyIDAuXG4gICAgdmFyIHJlc3VsdHMgPSB7cmVzdWx0czogW119O1xuXG4gICAgdmFyIGZldGNoZWQgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJhd19yZXN1bHRzX2xlbmd0aCA9IDA7XG4gICAgICAvLyBJZiB0aGUgcmVzdWx0IG9mIHRoZSBhamF4IGNhbGwgKHJlcykgY29udGFpbnMgY2hhbmdlcyAocmVzLnJlc3VsdHMpXG4gICAgICBpZiAocmVzICYmIHJlcy5yZXN1bHRzKSB7XG4gICAgICAgIHJhd19yZXN1bHRzX2xlbmd0aCA9IHJlcy5yZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgcmVzdWx0cy5sYXN0X3NlcSA9IHJlcy5sYXN0X3NlcTtcbiAgICAgICAgdmFyIHBlbmRpbmcgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFNlcSA9IG51bGw7XG4gICAgICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodHlwZW9mIHJlcy5wZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHBlbmRpbmcgPSByZXMucGVuZGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdHMubGFzdF9zZXEgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGxhc3RTZXEgPSByZXN1bHRzLmxhc3Rfc2VxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBlYWNoIGNoYW5nZVxuICAgICAgICB2YXIgcmVxID0ge307XG4gICAgICAgIHJlcS5xdWVyeSA9IG9wdHMucXVlcnlfcGFyYW1zO1xuICAgICAgICByZXMucmVzdWx0cyA9IHJlcy5yZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGxlZnRUb0ZldGNoLS07XG4gICAgICAgICAgdmFyIHJldCA9IGZpbHRlckNoYW5nZShvcHRzKShjKTtcbiAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgICAgICByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLnJldHVybl9kb2NzKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAvLyBJbiBjYXNlIG9mIGFuIGVycm9yLCBzdG9wIGxpc3RlbmluZyBmb3IgY2hhbmdlcyBhbmQgY2FsbFxuICAgICAgICAvLyBvcHRzLmNvbXBsZXRlXG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIG9wdHMuY29tcGxldGUoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY2hhbmdlcyBmZWVkIG1heSBoYXZlIHRpbWVkIG91dCB3aXRoIG5vIHJlc3VsdHNcbiAgICAgIC8vIGlmIHNvIHJldXNlIGxhc3QgdXBkYXRlIHNlcXVlbmNlXG4gICAgICBpZiAocmVzICYmIHJlcy5sYXN0X3NlcSkge1xuICAgICAgICBsYXN0RmV0Y2hlZFNlcSA9IHJlcy5sYXN0X3NlcTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbmlzaGVkID0gKGxpbWl0ICYmIGxlZnRUb0ZldGNoIDw9IDApIHx8XG4gICAgICAgIChyZXMgJiYgcmF3X3Jlc3VsdHNfbGVuZ3RoIDwgYmF0Y2hTaXplKSB8fFxuICAgICAgICAob3B0cy5kZXNjZW5kaW5nKTtcblxuICAgICAgaWYgKChvcHRzLmNvbnRpbnVvdXMgJiYgIShsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSkgfHwgIWZpbmlzaGVkKSB7XG4gICAgICAgIC8vIFF1ZXVlIGEgY2FsbCB0byBmZXRjaCBhZ2FpbiB3aXRoIHRoZSBuZXdlc3Qgc2VxdWVuY2UgbnVtYmVyXG4gICAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7IGZldGNoRGF0YShsYXN0RmV0Y2hlZFNlcSwgZmV0Y2hlZCk7IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UncmUgZG9uZSwgY2FsbCB0aGUgY2FsbGJhY2tcbiAgICAgICAgb3B0cy5jb21wbGV0ZShudWxsLCByZXN1bHRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hEYXRhKG9wdHMuc2luY2UgfHwgMCwgZmV0Y2hlZCk7XG5cbiAgICAvLyBSZXR1cm4gYSBtZXRob2QgdG8gY2FuY2VsIHRoaXMgbWV0aG9kIGZyb20gcHJvY2Vzc2luZyBhbnkgbW9yZVxuICAgIHJldHVybiB7XG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3B0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBzZXQgb2YgZG9jdW1lbnQvcmV2aXNpb24gSURzIChnaXZlbiBieSByZXEpLCB0ZXRzIHRoZSBzdWJzZXQgb2ZcbiAgLy8gdGhvc2UgdGhhdCBkbyBOT1QgY29ycmVzcG9uZCB0byByZXZpc2lvbnMgc3RvcmVkIGluIHRoZSBkYXRhYmFzZS5cbiAgLy8gU2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IdHRwUG9zdFJldnNEaWZmXG4gIGFwaS5yZXZzRGlmZiA9IGFkYXB0ZXJGdW4kJDEoJ3JldnNEaWZmJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBubyBvcHRpb25zIHdlcmUgZ2l2ZW4sIHNldCB0aGUgY2FsbGJhY2sgdG8gYmUgdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIG1pc3NpbmcgZG9jdW1lbnQvcmV2aXNpb24gSURzXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfcmV2c19kaWZmJyksIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgIH0sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIGFwaS5fY2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGFwaS5fZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnJyksIHttZXRob2Q6ICdERUxFVEUnfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgY2FsbGJhY2sobnVsbCwganNvbik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gSHR0cFBvdWNoIGlzIGEgdmFsaWQgYWRhcHRlci5cbkh0dHBQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBIdHRwUG91Y2gkMSAoUG91Y2hEQikge1xuICBQb3VjaERCLmFkYXB0ZXIoJ2h0dHAnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwcycsIEh0dHBQb3VjaCwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBRdWVyeVBhcnNlRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDQwMDtcbiAgdGhpcy5uYW1lID0gJ3F1ZXJ5X3BhcnNlX2Vycm9yJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgUXVlcnlQYXJzZUVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoUXVlcnlQYXJzZUVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIE5vdEZvdW5kRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDQwNDtcbiAgdGhpcy5uYW1lID0gJ25vdF9mb3VuZCc7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIE5vdEZvdW5kRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhOb3RGb3VuZEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIEJ1aWx0SW5FcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNTAwO1xuICB0aGlzLm5hbWUgPSAnaW52YWxpZF92YWx1ZSc7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEJ1aWx0SW5FcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKEJ1aWx0SW5FcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2socmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeShmdW4pIHtcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBjYiA9IGFyZ3MucG9wKCk7XG4gICAgdmFyIHByb21pc2UgPSBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9KTtcbn1cblxuLy8gUHJvbWlzZSBmaW5hbGx5IHV0aWwgc2ltaWxhciB0byBRLmZpbmFsbHlcbmZ1bmN0aW9uIGZpbihwcm9taXNlLCBmaW5hbFByb21pc2VGYWN0b3J5KSB7XG4gIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIGZpbmFsUHJvbWlzZUZhY3RvcnkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IHJlYXNvbjtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlcXVlbnRpYWxpemUocXVldWUsIHByb21pc2VGYWN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHJldHVybiBxdWV1ZS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb21pc2VGYWN0b3J5LmFwcGx5KHRoYXQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xufVxuXG4vLyB1bmlxIGFuIGFycmF5IG9mIHN0cmluZ3MsIG9yZGVyIG5vdCBndWFyYW50ZWVkXG4vLyBzaW1pbGFyIHRvIHVuZGVyc2NvcmUvbG9kYXNoIF8udW5pcVxuZnVuY3Rpb24gdW5pcShhcnIpIHtcbiAgdmFyIHRoZVNldCA9IG5ldyBFeHBvcnRlZFNldChhcnIpO1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KHRoZVNldC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIHRoZVNldC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbWFwVG9LZXlzQXJyYXkobWFwKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgQXJyYXkobWFwLnNpemUpO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgbWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBrZXk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWlsdEluRXJyb3IobmFtZSkge1xuICB2YXIgbWVzc2FnZSA9ICdidWlsdGluICcgKyBuYW1lICtcbiAgICAnIGZ1bmN0aW9uIHJlcXVpcmVzIG1hcCB2YWx1ZXMgdG8gYmUgbnVtYmVycycgK1xuICAgICcgb3IgbnVtYmVyIGFycmF5cyc7XG4gIHJldHVybiBuZXcgQnVpbHRJbkVycm9yKG1lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiBzdW0odmFsdWVzKSB7XG4gIHZhciByZXN1bHQgPSAwO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIG51bSA9IHZhbHVlc1tpXTtcbiAgICBpZiAodHlwZW9mIG51bSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG51bSkpIHtcbiAgICAgICAgLy8gbGlzdHMgb2YgbnVtYmVycyBhcmUgYWxzbyBhbGxvd2VkLCBzdW0gdGhlbSBzZXBhcmF0ZWx5XG4gICAgICAgIHJlc3VsdCA9IHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInID8gW3Jlc3VsdF0gOiByZXN1bHQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqTGVuID0gbnVtLmxlbmd0aDsgaiA8IGpMZW47IGorKykge1xuICAgICAgICAgIHZhciBqTnVtID0gbnVtW2pdO1xuICAgICAgICAgIGlmICh0eXBlb2Ygak51bSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdFtqXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGpOdW0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbal0gKz0gak51bTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIG5vdCBhcnJheS9udW1iZXJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnVpbHRJbkVycm9yKCdfc3VtJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJykge1xuICAgICAgcmVzdWx0ICs9IG51bTtcbiAgICB9IGVsc2UgeyAvLyBhZGQgbnVtYmVyIHRvIGFycmF5XG4gICAgICByZXN1bHRbMF0gKz0gbnVtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgbG9nID0gZ3VhcmRlZENvbnNvbGUuYmluZChudWxsLCAnbG9nJyk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgdG9KU09OID0gSlNPTi5wYXJzZTtcblxuZnVuY3Rpb24gZXZhbEZ1bmN0aW9uV2l0aEV2YWwoZnVuYywgZW1pdCkge1xuICByZXR1cm4gc2NvcGVFdmFsKFxuICAgIFwicmV0dXJuIChcIiArIGZ1bmMucmVwbGFjZSgvO1xccyokLywgXCJcIikgKyBcIik7XCIsXG4gICAge1xuICAgICAgZW1pdDogZW1pdCxcbiAgICAgIHN1bTogc3VtLFxuICAgICAgbG9nOiBsb2csXG4gICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgdG9KU09OOiB0b0pTT05cbiAgICB9XG4gICk7XG59XG5cbi8qXG4gKiBTaW1wbGUgdGFzayBxdWV1ZSB0byBzZXF1ZW50aWFsaXplIGFjdGlvbnMuIEFzc3VtZXNcbiAqIGNhbGxiYWNrcyB3aWxsIGV2ZW50dWFsbHkgZmlyZSAob25jZSkuXG4gKi9cblxuXG5mdW5jdGlvbiBUYXNrUXVldWUkMSgpIHtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwpIHtmdWxmaWxsKCk7IH0pO1xufVxuVGFza1F1ZXVlJDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChwcm9taXNlRmFjdG9yeSkge1xuICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIC8vIGp1c3QgcmVjb3ZlclxuICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvbWlzZUZhY3RvcnkoKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuVGFza1F1ZXVlJDEucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCkge1xuICBpZiAoIWlucHV0KSB7XG4gICAgcmV0dXJuICd1bmRlZmluZWQnOyAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBlbXB0eSByZWR1Y2VcbiAgfVxuICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIG1hcHJlZHVjZSwgZnVuY3Rpb25zL3N0cmluZ3MgYXJlIHN0cmluZ2lmaWVkXG4gIC8vIGFzLWlzLiBldmVyeXRoaW5nIGVsc2UgaXMgSlNPTi1zdHJpbmdpZmllZC5cbiAgc3dpdGNoICh0eXBlb2YgaW5wdXQpIHtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIG1hcFxuICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCk7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIC8vIGUuZy4gYSBtYXByZWR1Y2UgYnVpbHQtaW4gX3JlZHVjZSBmdW5jdGlvblxuICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGUuZy4gYSBKU09OIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBtYW5nbyBxdWVyaWVzXG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5wdXQpO1xuICB9XG59XG5cbi8qIGNyZWF0ZSBhIHN0cmluZyBzaWduYXR1cmUgZm9yIGEgdmlldyBzbyB3ZSBjYW4gY2FjaGUgaXQgYW5kIHVuaXEgaXQgKi9cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdTaWduYXR1cmUobWFwRnVuLCByZWR1Y2VGdW4pIHtcbiAgLy8gdGhlIFwidW5kZWZpbmVkXCIgcGFydCBpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgcmV0dXJuIHN0cmluZ2lmeShtYXBGdW4pICsgc3RyaW5naWZ5KHJlZHVjZUZ1bikgKyAndW5kZWZpbmVkJztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVmlldyhzb3VyY2VEQiwgdmlld05hbWUsIG1hcEZ1biwgcmVkdWNlRnVuLCB0ZW1wb3JhcnksIGxvY2FsRG9jTmFtZSkge1xuICB2YXIgdmlld1NpZ25hdHVyZSA9IGNyZWF0ZVZpZXdTaWduYXR1cmUobWFwRnVuLCByZWR1Y2VGdW4pO1xuXG4gIHZhciBjYWNoZWRWaWV3cztcbiAgaWYgKCF0ZW1wb3JhcnkpIHtcbiAgICAvLyBjYWNoZSB0aGlzIHRvIGVuc3VyZSB3ZSBkb24ndCB0cnkgdG8gdXBkYXRlIHRoZSBzYW1lIHZpZXcgdHdpY2VcbiAgICBjYWNoZWRWaWV3cyA9IHNvdXJjZURCLl9jYWNoZWRWaWV3cyA9IHNvdXJjZURCLl9jYWNoZWRWaWV3cyB8fCB7fTtcbiAgICBpZiAoY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0pIHtcbiAgICAgIHJldHVybiBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvbWlzZUZvclZpZXcgPSBzb3VyY2VEQi5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuXG4gICAgdmFyIGRlcERiTmFtZSA9IGluZm8uZGJfbmFtZSArICctbXJ2aWV3LScgK1xuICAgICAgKHRlbXBvcmFyeSA/ICd0ZW1wJyA6IHN0cmluZ01kNSh2aWV3U2lnbmF0dXJlKSk7XG5cbiAgICAvLyBzYXZlIHRoZSB2aWV3IG5hbWUgaW4gdGhlIHNvdXJjZSBkYiBzbyBpdCBjYW4gYmUgY2xlYW5lZCB1cCBpZiBuZWNlc3NhcnlcbiAgICAvLyAoZS5nLiB3aGVuIHRoZSBfZGVzaWduIGRvYyBpcyBkZWxldGVkLCByZW1vdmUgYWxsIGFzc29jaWF0ZWQgdmlldyBkYXRhKVxuICAgIGZ1bmN0aW9uIGRpZmZGdW5jdGlvbihkb2MpIHtcbiAgICAgIGRvYy52aWV3cyA9IGRvYy52aWV3cyB8fCB7fTtcbiAgICAgIHZhciBmdWxsVmlld05hbWUgPSB2aWV3TmFtZTtcbiAgICAgIGlmIChmdWxsVmlld05hbWUuaW5kZXhPZignLycpID09PSAtMSkge1xuICAgICAgICBmdWxsVmlld05hbWUgPSB2aWV3TmFtZSArICcvJyArIHZpZXdOYW1lO1xuICAgICAgfVxuICAgICAgdmFyIGRlcERicyA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdID0gZG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0gfHwge307XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChkZXBEYnNbZGVwRGJOYW1lXSkge1xuICAgICAgICByZXR1cm47IC8vIG5vIHVwZGF0ZSBuZWNlc3NhcnlcbiAgICAgIH1cbiAgICAgIGRlcERic1tkZXBEYk5hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBkb2M7XG4gICAgfVxuICAgIHJldHVybiB1cHNlcnQoc291cmNlREIsICdfbG9jYWwvJyArIGxvY2FsRG9jTmFtZSwgZGlmZkZ1bmN0aW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEQi5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlKGRlcERiTmFtZSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciBkYiA9IHJlcy5kYjtcbiAgICAgICAgZGIuYXV0b19jb21wYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIHZpZXcgPSB7XG4gICAgICAgICAgbmFtZTogZGVwRGJOYW1lLFxuICAgICAgICAgIGRiOiBkYixcbiAgICAgICAgICBzb3VyY2VEQjogc291cmNlREIsXG4gICAgICAgICAgYWRhcHRlcjogc291cmNlREIuYWRhcHRlcixcbiAgICAgICAgICBtYXBGdW46IG1hcEZ1bixcbiAgICAgICAgICByZWR1Y2VGdW46IHJlZHVjZUZ1blxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdmlldy5kYi5nZXQoJ19sb2NhbC9sYXN0U2VxJykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGxhc3RTZXFEb2MpIHtcbiAgICAgICAgICB2aWV3LnNlcSA9IGxhc3RTZXFEb2MgPyBsYXN0U2VxRG9jLnNlcSA6IDA7XG4gICAgICAgICAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgICAgICAgICB2aWV3LmRiLm9uY2UoJ2Rlc3Ryb3llZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBpZiAoY2FjaGVkVmlld3MpIHtcbiAgICBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXSA9IHByb21pc2VGb3JWaWV3O1xuICB9XG4gIHJldHVybiBwcm9taXNlRm9yVmlldztcbn1cblxudmFyIHBlcnNpc3RlbnRRdWV1ZXMgPSB7fTtcbnZhciB0ZW1wVmlld1F1ZXVlID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG52YXIgQ0hBTkdFU19CQVRDSF9TSVpFJDEgPSA1MDtcblxuZnVuY3Rpb24gcGFyc2VWaWV3TmFtZShuYW1lKSB7XG4gIC8vIGNhbiBiZSBlaXRoZXIgJ2Rkb2NuYW1lL3ZpZXduYW1lJyBvciBqdXN0ICd2aWV3bmFtZSdcbiAgLy8gKHdoZXJlIHRoZSBkZG9jIG5hbWUgaXMgdGhlIHNhbWUpXG4gIHJldHVybiBuYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEgPyBbbmFtZSwgbmFtZV0gOiBuYW1lLnNwbGl0KCcvJyk7XG59XG5cbmZ1bmN0aW9uIGlzR2VuT25lKGNoYW5nZXMpIHtcbiAgLy8gb25seSByZXR1cm4gdHJ1ZSBpZiB0aGUgY3VycmVudCBjaGFuZ2UgaXMgMS1cbiAgLy8gYW5kIHRoZXJlIGFyZSBubyBvdGhlciBsZWFmc1xuICByZXR1cm4gY2hhbmdlcy5sZW5ndGggPT09IDEgJiYgL14xLS8udGVzdChjaGFuZ2VzWzBdLnJldik7XG59XG5cbmZ1bmN0aW9uIGVtaXRFcnJvcihkYiwgZSkge1xuICB0cnkge1xuICAgIGRiLmVtaXQoJ2Vycm9yJywgZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsXG4gICAgICAnVGhlIHVzZXJcXCdzIG1hcC9yZWR1Y2UgZnVuY3Rpb24gdGhyZXcgYW4gdW5jYXVnaHQgZXJyb3IuXFxuJyArXG4gICAgICAnWW91IGNhbiBkZWJ1ZyB0aGlzIGVycm9yIGJ5IGRvaW5nOlxcbicgK1xuICAgICAgJ215RGF0YWJhc2Uub24oXFwnZXJyb3JcXCcsIGZ1bmN0aW9uIChlcnIpIHsgZGVidWdnZXI7IH0pO1xcbicgK1xuICAgICAgJ1BsZWFzZSBkb3VibGUtY2hlY2sgeW91ciBtYXAvcmVkdWNlIGZ1bmN0aW9uLicpO1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsIGUpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBcImFic3RyYWN0XCIgbWFwcmVkdWNlIG9iamVjdCBvZiB0aGUgZm9ybTpcbiAqXG4gKiAgIHtcbiAqICAgICBxdWVyeTogcXVlcnlGdW4sXG4gKiAgICAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwRnVuXG4gKiAgIH1cbiAqXG4gKiBBcmd1bWVudHMgYXJlOlxuICpcbiAqIGxvY2FsRG9jOiBzdHJpbmdcbiAqICAgVGhpcyBpcyBmb3IgdGhlIGxvY2FsIGRvYyB0aGF0IGdldHMgc2F2ZWQgaW4gb3JkZXIgdG8gdHJhY2sgdGhlXG4gKiAgIFwiZGVwZW5kZW50XCIgREJzIGFuZCBjbGVhbiB0aGVtIHVwIGZvciB2aWV3Q2xlYW51cC4gSXQgc2hvdWxkIGJlXG4gKiAgIHVuaXF1ZSwgc28gdGhhdCBpbmRleGVyIHBsdWdpbnMgZG9uJ3QgY29sbGlkZSB3aXRoIGVhY2ggb3RoZXIuXG4gKiBtYXBwZXI6IGZ1bmN0aW9uIChtYXBGdW5EZWYsIGVtaXQpXG4gKiAgIFJldHVybnMgYSBtYXAgZnVuY3Rpb24gYmFzZWQgb24gdGhlIG1hcEZ1bkRlZiwgd2hpY2ggaW4gdGhlIGNhc2Ugb2ZcbiAqICAgbm9ybWFsIG1hcC9yZWR1Y2UgaXMganVzdCB0aGUgZGUtc3RyaW5naWZpZWQgZnVuY3Rpb24sIGJ1dCBtYXkgYmVcbiAqICAgc29tZXRoaW5nIGVsc2UsIHN1Y2ggYXMgYW4gb2JqZWN0IGluIHRoZSBjYXNlIG9mIHBvdWNoZGItZmluZC5cbiAqIHJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VGdW5EZWYpXG4gKiAgIERpdHRvLCBidXQgZm9yIHJlZHVjaW5nLiBNb2R1bGVzIGRvbid0IGhhdmUgdG8gc3VwcG9ydCByZWR1Y2luZ1xuICogICAoZS5nLiBwb3VjaGRiLWZpbmQpLlxuICogZGRvY1ZhbGlkYXRvcjogZnVuY3Rpb24gKGRkb2MsIHZpZXdOYW1lKVxuICogICBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGRkb2Mgb3Igdmlld05hbWUgaXMgbm90IHZhbGlkLlxuICogICBUaGlzIGNvdWxkIGJlIGEgd2F5IHRvIGNvbW11bmljYXRlIHRvIHRoZSB1c2VyIHRoYXQgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZVxuICogICBpbmRleGVyIGlzIGludmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlKGxvY2FsRG9jTmFtZSwgbWFwcGVyLCByZWR1Y2VyLCBkZG9jVmFsaWRhdG9yKSB7XG5cbiAgZnVuY3Rpb24gdHJ5TWFwKGRiLCBmdW4sIGRvYykge1xuICAgIC8vIGVtaXQgYW4gZXZlbnQgaWYgdGhlcmUgd2FzIGFuIGVycm9yIHRocm93biBieSBhIG1hcCBmdW5jdGlvbi5cbiAgICAvLyBwdXR0aW5nIHRyeS9jYXRjaGVzIGluIGEgc2luZ2xlIGZ1bmN0aW9uIGFsc28gYXZvaWRzIGRlb3B0aW1pemF0aW9ucy5cbiAgICB0cnkge1xuICAgICAgZnVuKGRvYyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZW1pdEVycm9yKGRiLCBlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlSZWR1Y2UoZGIsIGZ1biwga2V5cywgdmFsdWVzLCByZXJlZHVjZSkge1xuICAgIC8vIHNhbWUgYXMgYWJvdmUsIGJ1dCByZXR1cm5pbmcgdGhlIHJlc3VsdCBvciBhbiBlcnJvci4gdGhlcmUgYXJlIHR3byBzZXBhcmF0ZVxuICAgIC8vIGZ1bmN0aW9ucyB0byBhdm9pZCBleHRyYSBtZW1vcnkgYWxsb2NhdGlvbnMgc2luY2UgdGhlIHRyeUNvZGUoKSBjYXNlIGlzIHVzZWRcbiAgICAvLyBmb3IgY3VzdG9tIG1hcCBmdW5jdGlvbnMgKGNvbW1vbikgdnMgdGhpcyBmdW5jdGlvbiwgd2hpY2ggaXMgb25seSB1c2VkIGZvclxuICAgIC8vIGN1c3RvbSByZWR1Y2UgZnVuY3Rpb25zIChyYXJlKVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge291dHB1dCA6IGZ1bihrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKX07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZW1pdEVycm9yKGRiLCBlKTtcbiAgICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNvcnRCeUtleVRoZW5WYWx1ZSh4LCB5KSB7XG4gICAgdmFyIGtleUNvbXBhcmUgPSBjb2xsYXRlKHgua2V5LCB5LmtleSk7XG4gICAgcmV0dXJuIGtleUNvbXBhcmUgIT09IDAgPyBrZXlDb21wYXJlIDogY29sbGF0ZSh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNsaWNlUmVzdWx0cyhyZXN1bHRzLCBsaW1pdCwgc2tpcCkge1xuICAgIHNraXAgPSBza2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXAsIGxpbWl0ICsgc2tpcCk7XG4gICAgfSBlbHNlIGlmIChza2lwID4gMCkge1xuICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2Uoc2tpcCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gcm93VG9Eb2NJZChyb3cpIHtcbiAgICB2YXIgdmFsID0gcm93LnZhbHVlO1xuICAgIC8vIFVzZXJzIGNhbiBleHBsaWNpdGx5IHNwZWNpZnkgYSBqb2luZWQgZG9jIF9pZCwgb3IgaXRcbiAgICAvLyBkZWZhdWx0cyB0byB0aGUgZG9jIF9pZCB0aGF0IGVtaXR0ZWQgdGhlIGtleS92YWx1ZS5cbiAgICB2YXIgZG9jSWQgPSAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbC5faWQpIHx8IHJvdy5pZDtcbiAgICByZXR1cm4gZG9jSWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyZXMpIHtcbiAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHZhciBhdHRzID0gcm93LmRvYyAmJiByb3cuZG9jLl9hdHRhY2htZW50cztcbiAgICAgIGlmICghYXR0cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgICAgIGF0dHNbZmlsZW5hbWVdLmRhdGEgPSBiNjRUb0JsdWZmZXIoYXR0LmRhdGEsIGF0dC5jb250ZW50X3R5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlcykge1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEh0dHBQYXJhbShwYXJhbU5hbWUsIG9wdHMsIHBhcmFtcywgYXNKc29uKSB7XG4gICAgLy8gYWRkIGFuIGh0dHAgcGFyYW0gZnJvbSBvcHRzIHRvIHBhcmFtcywgb3B0aW9uYWxseSBqc29uLWVuY29kZWRcbiAgICB2YXIgdmFsID0gb3B0c1twYXJhbU5hbWVdO1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGFzSnNvbikge1xuICAgICAgICB2YWwgPSBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsKSk7XG4gICAgICB9XG4gICAgICBwYXJhbXMucHVzaChwYXJhbU5hbWUgKyAnPScgKyB2YWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvZXJjZUludGVnZXIoaW50ZWdlckNhbmRpZGF0ZSkge1xuICAgIGlmICh0eXBlb2YgaW50ZWdlckNhbmRpZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBhc051bWJlciA9IE51bWJlcihpbnRlZ2VyQ2FuZGlkYXRlKTtcbiAgICAgIC8vIHByZXZlbnRzIGUuZy4gJzFmb28nIG9yICcxLjEnIGJlaW5nIGNvZXJjZWQgdG8gMVxuICAgICAgaWYgKCFpc05hTihhc051bWJlcikgJiYgYXNOdW1iZXIgPT09IHBhcnNlSW50KGludGVnZXJDYW5kaWRhdGUsIDEwKSkge1xuICAgICAgICByZXR1cm4gYXNOdW1iZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW50ZWdlckNhbmRpZGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VPcHRpb25zKG9wdHMpIHtcbiAgICBvcHRzLmdyb3VwX2xldmVsID0gY29lcmNlSW50ZWdlcihvcHRzLmdyb3VwX2xldmVsKTtcbiAgICBvcHRzLmxpbWl0ID0gY29lcmNlSW50ZWdlcihvcHRzLmxpbWl0KTtcbiAgICBvcHRzLnNraXAgPSBjb2VyY2VJbnRlZ2VyKG9wdHMuc2tpcCk7XG4gICAgcmV0dXJuIG9wdHM7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1Bvc2l0aXZlSW50ZWdlcihudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyKSB7XG4gICAgICBpZiAodHlwZW9mIG51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuICBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBpbnRlZ2VyOiBcIicgK1xuICAgICAgICAgIG51bWJlciArICdcIicpO1xuICAgICAgfVxuICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeVBhcnNlRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIHBvc2l0aXZlIGludGVnZXI6ICcgK1xuICAgICAgICAgICdcIicgKyBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRpb25zLCBmdW4pIHtcbiAgICB2YXIgc3RhcnRrZXlOYW1lID0gb3B0aW9ucy5kZXNjZW5kaW5nID8gJ2VuZGtleScgOiAnc3RhcnRrZXknO1xuICAgIHZhciBlbmRrZXlOYW1lID0gb3B0aW9ucy5kZXNjZW5kaW5nID8gJ3N0YXJ0a2V5JyA6ICdlbmRrZXknO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zW3N0YXJ0a2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2Ygb3B0aW9uc1tlbmRrZXlOYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIGNvbGxhdGUob3B0aW9uc1tzdGFydGtleU5hbWVdLCBvcHRpb25zW2VuZGtleU5hbWVdKSA+IDApIHtcbiAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ05vIHJvd3MgY2FuIG1hdGNoIHlvdXIga2V5IHJhbmdlLCAnICtcbiAgICAgICAgJ3JldmVyc2UgeW91ciBzdGFydF9rZXkgYW5kIGVuZF9rZXkgb3Igc2V0IHtkZXNjZW5kaW5nIDogdHJ1ZX0nKTtcbiAgICB9IGVsc2UgaWYgKGZ1bi5yZWR1Y2UgJiYgb3B0aW9ucy5yZWR1Y2UgIT09IGZhbHNlKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcigne2luY2x1ZGVfZG9jczp0cnVlfSBpcyBpbnZhbGlkIGZvciByZWR1Y2UnKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5rZXlzICYmIG9wdGlvbnMua2V5cy5sZW5ndGggPiAxICYmXG4gICAgICAgICFvcHRpb25zLmdyb3VwICYmICFvcHRpb25zLmdyb3VwX2xldmVsKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ011bHRpLWtleSBmZXRjaGVzIGZvciByZWR1Y2Ugdmlld3MgbXVzdCB1c2UgJyArXG4gICAgICAgICAgJ3tncm91cDogdHJ1ZX0nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgWydncm91cF9sZXZlbCcsICdsaW1pdCcsICdza2lwJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uTmFtZSkge1xuICAgICAgdmFyIGVycm9yID0gY2hlY2tQb3NpdGl2ZUludGVnZXIob3B0aW9uc1tvcHRpb25OYW1lXSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIFBVVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgIHZhciBib2R5O1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgb2ssIHN0YXR1cztcblxuICAgIC8vIElmIG9wdHMucmVkdWNlIGV4aXN0cyBhbmQgaXMgZGVmaW5lZCwgdGhlbiBhZGQgaXQgdG8gdGhlIGxpc3RcbiAgICAvLyBvZiBwYXJhbWV0ZXJzLlxuICAgIC8vIElmIHJlZHVjZT1mYWxzZSB0aGVuIHRoZSByZXN1bHRzIGFyZSB0aGF0IG9mIG9ubHkgdGhlIG1hcCBmdW5jdGlvblxuICAgIC8vIG5vdCB0aGUgZmluYWwgcmVzdWx0IG9mIG1hcCBhbmQgcmVkdWNlLlxuICAgIGFkZEh0dHBQYXJhbSgncmVkdWNlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2luY2x1ZGVfZG9jcycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdhdHRhY2htZW50cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdsaW1pdCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdkZXNjZW5kaW5nJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2dyb3VwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2dyb3VwX2xldmVsJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3NraXAnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhbGUnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnY29uZmxpY3RzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YXJ0a2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YXJ0X2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdlbmRrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5kX2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdXNpdmVfZW5kJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCd1cGRhdGVfc2VxJywgb3B0cywgcGFyYW1zKTtcblxuICAgIC8vIEZvcm1hdCB0aGUgbGlzdCBvZiBwYXJhbWV0ZXJzIGludG8gYSB2YWxpZCBVUkkgcXVlcnkgc3RyaW5nXG4gICAgcGFyYW1zID0gcGFyYW1zLmpvaW4oJyYnKTtcbiAgICBwYXJhbXMgPSBwYXJhbXMgPT09ICcnID8gJycgOiAnPycgKyBwYXJhbXM7XG5cbiAgICAvLyBJZiBrZXlzIGFyZSBzdXBwbGllZCwgaXNzdWUgYSBQT1NUIHRvIGNpcmN1bXZlbnQgR0VUIHF1ZXJ5IHN0cmluZyBsaW1pdHNcbiAgICAvLyBzZWUgaHR0cDovL3dpa2kuYXBhY2hlLm9yZy9jb3VjaGRiL0hUVFBfdmlld19BUEkjUXVlcnlpbmdfT3B0aW9uc1xuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIE1BWF9VUkxfTEVOR1RIID0gMjAwMDtcbiAgICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80MTcxODQvNjgwNzQyLFxuICAgICAgLy8gdGhlIGRlIGZhY3RvIFVSTCBsZW5ndGggbGltaXQgaXMgMjAwMCBjaGFyYWN0ZXJzXG5cbiAgICAgIHZhciBrZXlzQXNTdHJpbmcgPVxuICAgICAgICAna2V5cz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG9wdHMua2V5cykpO1xuICAgICAgaWYgKGtleXNBc1N0cmluZy5sZW5ndGggKyBwYXJhbXMubGVuZ3RoICsgMSA8PSBNQVhfVVJMX0xFTkdUSCkge1xuICAgICAgICAvLyBJZiB0aGUga2V5cyBhcmUgc2hvcnQgZW5vdWdoLCBkbyBhIEdFVC4gd2UgZG8gdGhpcyB0byB3b3JrIGFyb3VuZFxuICAgICAgICAvLyBTYWZhcmkgbm90IHVuZGVyc3RhbmRpbmcgMzA0cyBvbiBQT1NUcyAoc2VlIHBvdWNoZGIvcG91Y2hkYiMxMjM5KVxuICAgICAgICBwYXJhbXMgKz0gKHBhcmFtc1swXSA9PT0gJz8nID8gJyYnIDogJz8nKSArIGtleXNBc1N0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgaWYgKHR5cGVvZiBmdW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgICAgICB9IGVsc2UgeyAvLyBmdW4gaXMge21hcCA6IG1hcGZ1bn0sIHNvIGFwcGVuZCB0byB0aGlzXG4gICAgICAgICAgZnVuLmtleXMgPSBvcHRzLmtleXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgcmVmZXJlbmNpbmcgYSBxdWVyeSBkZWZpbmVkIGluIHRoZSBkZXNpZ24gZG9jXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bik7XG4gICAgICByZXR1cm4gZGIuZmV0Y2goJ19kZXNpZ24vJyArIHBhcnRzWzBdICsgJy9fdmlldy8nICsgcGFydHNbMV0gKyBwYXJhbXMsIHtcbiAgICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZhaWwgdGhlIGVudGlyZSByZXF1ZXN0IGlmIHRoZSByZXN1bHQgY29udGFpbnMgYW4gZXJyb3JcbiAgICAgICAgcmVzdWx0LnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKHJvdy52YWx1ZSAmJiByb3cudmFsdWUuZXJyb3IgJiYgcm93LnZhbHVlLmVycm9yID09PSBcImJ1aWx0aW5fcmVkdWNlX2Vycm9yXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyb3cucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSkudGhlbihwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpKTtcbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgdXNpbmcgYSB0ZW1wb3JhcnkgdmlldywgdGVycmlibGUgZm9yIHBlcmZvcm1hbmNlLCBnb29kIGZvciB0ZXN0aW5nXG4gICAgYm9keSA9IGJvZHkgfHwge307XG4gICAgT2JqZWN0LmtleXMoZnVuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGZ1bltrZXldKSkge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHlba2V5XSA9IGZ1bltrZXldLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGIuZmV0Y2goJ190ZW1wX3ZpZXcnICsgcGFyYW1zLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIG9rID0gcmVzcG9uc2Uub2s7XG4gICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAoIW9rKSB7XG4gICAgICAgIHJlc3VsdC5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkudGhlbihwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpKTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3F1ZXJ5XG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21RdWVyeShkYiwgZnVuLCBvcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGRiLl9xdWVyeShmdW4sIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gY3VzdG9tIGFkYXB0ZXJzIGNhbiBkZWZpbmUgdGhlaXIgb3duIGFwaS5fdmlld0NsZWFudXBcbiAgLy8gYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIGN1c3RvbVZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGRiLl92aWV3Q2xlYW51cChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHRzVG8odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChyZWFzb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyByZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBsaXN0IG9mIGRvY3MgdG8gdXBkYXRlLCBiYXNlZCBvbiB0aGUgaW5wdXQgZG9jSWQuXG4gIC8vIHRoZSBvcmRlciBkb2Vzbid0IG1hdHRlciwgYmVjYXVzZSBwb3N0LTMuMi4wLCBidWxrRG9jc1xuICAvLyBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIGluIGFsbCB0aHJlZSBhZGFwdGVycy5cbiAgZnVuY3Rpb24gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpIHtcbiAgICB2YXIgbWV0YURvY0lkID0gJ19sb2NhbC9kb2NfJyArIGRvY0lkO1xuICAgIHZhciBkZWZhdWx0TWV0YURvYyA9IHtfaWQ6IG1ldGFEb2NJZCwga2V5czogW119O1xuICAgIHZhciBkb2NEYXRhID0gZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMuZ2V0KGRvY0lkKTtcbiAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gZG9jRGF0YVswXTtcbiAgICB2YXIgY2hhbmdlcyA9IGRvY0RhdGFbMV07XG5cbiAgICBmdW5jdGlvbiBnZXRNZXRhRG9jKCkge1xuICAgICAgaWYgKGlzR2VuT25lKGNoYW5nZXMpKSB7XG4gICAgICAgIC8vIGdlbmVyYXRpb24gMSwgc28gd2UgY2FuIHNhZmVseSBhc3N1bWUgaW5pdGlhbCBzdGF0ZVxuICAgICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoYXZvaWRzIHVubmVjZXNzYXJ5IEdFVHMpXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVmYXVsdE1ldGFEb2MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KG1ldGFEb2NJZCkuY2F0Y2goZGVmYXVsdHNUbyhkZWZhdWx0TWV0YURvYykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKSB7XG4gICAgICBpZiAoIW1ldGFEb2Mua2V5cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gbm8ga2V5cywgbm8gbmVlZCBmb3IgYSBsb29rdXBcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7cm93czogW119KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Moe1xuICAgICAgICBrZXlzOiBtZXRhRG9jLmtleXMsXG4gICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0tleVZhbHVlRG9jcyhtZXRhRG9jLCBrdkRvY3NSZXMpIHtcbiAgICAgIHZhciBrdkRvY3MgPSBbXTtcbiAgICAgIHZhciBvbGRLZXlzID0gbmV3IEV4cG9ydGVkU2V0KCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrdkRvY3NSZXMucm93cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgcm93ID0ga3ZEb2NzUmVzLnJvd3NbaV07XG4gICAgICAgIHZhciBkb2MgPSByb3cuZG9jO1xuICAgICAgICBpZiAoIWRvYykgeyAvLyBkZWxldGVkXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAga3ZEb2NzLnB1c2goZG9jKTtcbiAgICAgICAgb2xkS2V5cy5hZGQoZG9jLl9pZCk7XG4gICAgICAgIGRvYy5fZGVsZXRlZCA9ICFpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuaGFzKGRvYy5faWQpO1xuICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5nZXQoZG9jLl9pZCk7XG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4ga2V5VmFsdWUpIHtcbiAgICAgICAgICAgIGRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG5ld0tleXMgPSBtYXBUb0tleXNBcnJheShpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMpO1xuICAgICAgbmV3S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFvbGRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgLy8gbmV3IGRvY1xuICAgICAgICAgIHZhciBrdkRvYyA9IHtcbiAgICAgICAgICAgIF9pZDoga2V5XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGtleSk7XG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4ga2V5VmFsdWUpIHtcbiAgICAgICAgICAgIGt2RG9jLnZhbHVlID0ga2V5VmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGt2RG9jcy5wdXNoKGt2RG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtZXRhRG9jLmtleXMgPSB1bmlxKG5ld0tleXMuY29uY2F0KG1ldGFEb2Mua2V5cykpO1xuICAgICAga3ZEb2NzLnB1c2gobWV0YURvYyk7XG5cbiAgICAgIHJldHVybiBrdkRvY3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE1ldGFEb2MoKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICByZXR1cm4gZ2V0S2V5VmFsdWVEb2NzKG1ldGFEb2MpLnRoZW4oZnVuY3Rpb24gKGt2RG9jc1Jlcykge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc0tleVZhbHVlRG9jcyhtZXRhRG9jLCBrdkRvY3NSZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyB1cGRhdGVzIGFsbCBlbWl0dGVkIGtleS92YWx1ZSBkb2NzIGFuZCBtZXRhRG9jcyBpbiB0aGUgbXJ2aWV3IGRhdGFiYXNlXG4gIC8vIGZvciB0aGUgZ2l2ZW4gYmF0Y2ggb2YgZG9jdW1lbnRzIGZyb20gdGhlIHNvdXJjZSBkYXRhYmFzZVxuICBmdW5jdGlvbiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICB2YXIgc2VxRG9jSWQgPSAnX2xvY2FsL2xhc3RTZXEnO1xuICAgIHJldHVybiB2aWV3LmRiLmdldChzZXFEb2NJZClcbiAgICAgIC5jYXRjaChkZWZhdWx0c1RvKHtfaWQ6IHNlcURvY0lkLCBzZXE6IDB9KSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgIHZhciBkb2NJZHMgPSBtYXBUb0tleXNBcnJheShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb2NJZHMubWFwKGZ1bmN0aW9uIChkb2NJZCkge1xuICAgICAgICAgIHJldHVybiBnZXREb2NzVG9QZXJzaXN0KGRvY0lkLCB2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyk7XG4gICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChsaXN0T2ZEb2NzVG9QZXJzaXN0KSB7XG4gICAgICAgICAgdmFyIGRvY3NUb1BlcnNpc3QgPSBmbGF0dGVuKGxpc3RPZkRvY3NUb1BlcnNpc3QpO1xuICAgICAgICAgIGxhc3RTZXFEb2Muc2VxID0gc2VxO1xuICAgICAgICAgIGRvY3NUb1BlcnNpc3QucHVzaChsYXN0U2VxRG9jKTtcbiAgICAgICAgICAvLyB3cml0ZSBhbGwgZG9jcyBpbiBhIHNpbmdsZSBvcGVyYXRpb24sIHVwZGF0ZSB0aGUgc2VxIG9uY2VcbiAgICAgICAgICByZXR1cm4gdmlldy5kYi5idWxrRG9jcyh7ZG9jcyA6IGRvY3NUb1BlcnNpc3R9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXVlKHZpZXcpIHtcbiAgICB2YXIgdmlld05hbWUgPSB0eXBlb2YgdmlldyA9PT0gJ3N0cmluZycgPyB2aWV3IDogdmlldy5uYW1lO1xuICAgIHZhciBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdO1xuICAgIGlmICghcXVldWUpIHtcbiAgICAgIHF1ZXVlID0gcGVyc2lzdGVudFF1ZXVlc1t2aWV3TmFtZV0gPSBuZXcgVGFza1F1ZXVlJDEoKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXVlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlldyh2aWV3LCBvcHRzKSB7XG4gICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlldyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1cGRhdGVWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cykge1xuICAgIC8vIGJpbmQgdGhlIGVtaXQgZnVuY3Rpb24gb25jZVxuICAgIHZhciBtYXBSZXN1bHRzO1xuICAgIHZhciBkb2M7XG5cbiAgICBmdW5jdGlvbiBlbWl0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvdXRwdXQgPSB7aWQ6IGRvYy5faWQsIGtleTogbm9ybWFsaXplS2V5KGtleSl9O1xuICAgICAgLy8gRG9uJ3QgZXhwbGljaXRseSBzdG9yZSB0aGUgdmFsdWUgdW5sZXNzIGl0J3MgZGVmaW5lZCBhbmQgbm9uLW51bGwuXG4gICAgICAvLyBUaGlzIHNhdmVzIG9uIHN0b3JhZ2Ugc3BhY2UsIGJlY2F1c2Ugb2Z0ZW4gcGVvcGxlIGRvbid0IHVzZSBpdC5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIG91dHB1dC52YWx1ZSA9IG5vcm1hbGl6ZUtleSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBtYXBSZXN1bHRzLnB1c2gob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgbWFwRnVuID0gbWFwcGVyKHZpZXcubWFwRnVuLCBlbWl0KTtcblxuICAgIHZhciBjdXJyZW50U2VxID0gdmlldy5zZXEgfHwgMDtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNhdmVLZXlWYWx1ZXModmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCBpbmRleGVkX2RvY3MgPSAwO1xuICAgIGxldCBwcm9ncmVzcyA9IHtcbiAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgIGluZGV4ZWRfZG9jczogaW5kZXhlZF9kb2NzXG4gICAgfTtcbiAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuXG4gICAgdmFyIHF1ZXVlID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTmV4dEJhdGNoKCkge1xuICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuY2hhbmdlcyh7XG4gICAgICAgIHJldHVybl9kb2NzOiB0cnVlLFxuICAgICAgICBjb25mbGljdHM6IHRydWUsXG4gICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgc3R5bGU6ICdhbGxfZG9jcycsXG4gICAgICAgIHNpbmNlOiBjdXJyZW50U2VxLFxuICAgICAgICBsaW1pdDogb3B0cy5jaGFuZ2VzX2JhdGNoX3NpemVcbiAgICAgIH0pLnRoZW4ocHJvY2Vzc0JhdGNoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2gocmVzcG9uc2UpIHtcbiAgICAgIHZhciByZXN1bHRzID0gcmVzcG9uc2UucmVzdWx0cztcbiAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzID0gY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMocmVzdWx0cyk7XG4gICAgICBxdWV1ZS5hZGQocHJvY2Vzc0NoYW5nZShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgY3VycmVudFNlcSkpO1xuXG4gICAgICBpbmRleGVkX2RvY3MgPSBpbmRleGVkX2RvY3MgKyByZXN1bHRzLmxlbmd0aDtcbiAgICAgIGxldCBwcm9ncmVzcyA9IHtcbiAgICAgICAgdmlldzogdmlldy5uYW1lLFxuICAgICAgICBsYXN0X3NlcTogcmVzcG9uc2UubGFzdF9zZXEsXG4gICAgICAgIHJlc3VsdHNfY291bnQ6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgICAgfTtcbiAgICAgIHZpZXcuc291cmNlREIuZW1pdCgnaW5kZXhpbmcnLCBwcm9ncmVzcyk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMocmVzdWx0cykge1xuICAgICAgdmFyIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY2hhbmdlID0gcmVzdWx0c1tpXTtcbiAgICAgICAgaWYgKGNoYW5nZS5kb2MuX2lkWzBdICE9PSAnXycpIHtcbiAgICAgICAgICBtYXBSZXN1bHRzID0gW107XG4gICAgICAgICAgZG9jID0gY2hhbmdlLmRvYztcblxuICAgICAgICAgIGlmICghZG9jLl9kZWxldGVkKSB7XG4gICAgICAgICAgICB0cnlNYXAodmlldy5zb3VyY2VEQiwgbWFwRnVuLCBkb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXBSZXN1bHRzLnNvcnQoc29ydEJ5S2V5VGhlblZhbHVlKTtcblxuICAgICAgICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cyk7XG4gICAgICAgICAgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMuc2V0KGNoYW5nZS5kb2MuX2lkLCBbXG4gICAgICAgICAgICBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMsXG4gICAgICAgICAgICBjaGFuZ2UuY2hhbmdlc1xuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRTZXEgPSBjaGFuZ2Uuc2VxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyhtYXBSZXN1bHRzKSB7XG4gICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICB2YXIgbGFzdEtleTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtYXBSZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBlbWl0dGVkS2V5VmFsdWUgPSBtYXBSZXN1bHRzW2ldO1xuICAgICAgICB2YXIgY29tcGxleEtleSA9IFtlbWl0dGVkS2V5VmFsdWUua2V5LCBlbWl0dGVkS2V5VmFsdWUuaWRdO1xuICAgICAgICBpZiAoaSA+IDAgJiYgY29sbGF0ZShlbWl0dGVkS2V5VmFsdWUua2V5LCBsYXN0S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGNvbXBsZXhLZXkucHVzaChpKTsgLy8gZHVwIGtleStpZCwgc28gbWFrZSBpdCB1bmlxdWVcbiAgICAgICAgfVxuICAgICAgICBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuc2V0KHRvSW5kZXhhYmxlU3RyaW5nKGNvbXBsZXhLZXkpLCBlbWl0dGVkS2V5VmFsdWUpO1xuICAgICAgICBsYXN0S2V5ID0gZW1pdHRlZEtleVZhbHVlLmtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb2Nlc3NOZXh0QmF0Y2goKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWV1ZS5maW5pc2goKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZpZXcuc2VxID0gY3VycmVudFNlcTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZHVjZVZpZXcodmlldywgcmVzdWx0cywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmdyb3VwX2xldmVsID09PSAwKSB7XG4gICAgICBkZWxldGUgb3B0aW9ucy5ncm91cF9sZXZlbDtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkR3JvdXAgPSBvcHRpb25zLmdyb3VwIHx8IG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG5cbiAgICB2YXIgcmVkdWNlRnVuID0gcmVkdWNlcih2aWV3LnJlZHVjZUZ1bik7XG5cbiAgICB2YXIgZ3JvdXBzID0gW107XG4gICAgdmFyIGx2bCA9IGlzTmFOKG9wdGlvbnMuZ3JvdXBfbGV2ZWwpID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDpcbiAgICAgIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgbGFzdCA9IGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgZ3JvdXBLZXkgPSBzaG91bGRHcm91cCA/IGUua2V5IDogbnVsbDtcblxuICAgICAgLy8gb25seSBzZXQgZ3JvdXBfbGV2ZWwgZm9yIGFycmF5IGtleXNcbiAgICAgIGlmIChzaG91bGRHcm91cCAmJiBBcnJheS5pc0FycmF5KGdyb3VwS2V5KSkge1xuICAgICAgICBncm91cEtleSA9IGdyb3VwS2V5LnNsaWNlKDAsIGx2bCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXN0ICYmIGNvbGxhdGUobGFzdC5ncm91cEtleSwgZ3JvdXBLZXkpID09PSAwKSB7XG4gICAgICAgIGxhc3Qua2V5cy5wdXNoKFtlLmtleSwgZS5pZF0pO1xuICAgICAgICBsYXN0LnZhbHVlcy5wdXNoKGUudmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBncm91cHMucHVzaCh7XG4gICAgICAgIGtleXM6IFtbZS5rZXksIGUuaWRdXSxcbiAgICAgICAgdmFsdWVzOiBbZS52YWx1ZV0sXG4gICAgICAgIGdyb3VwS2V5OiBncm91cEtleVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBncm91cHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBlID0gZ3JvdXBzW2ldO1xuICAgICAgdmFyIHJlZHVjZVRyeSA9IHRyeVJlZHVjZSh2aWV3LnNvdXJjZURCLCByZWR1Y2VGdW4sIGUua2V5cywgZS52YWx1ZXMsIGZhbHNlKTtcbiAgICAgIGlmIChyZWR1Y2VUcnkuZXJyb3IgJiYgcmVkdWNlVHJ5LmVycm9yIGluc3RhbmNlb2YgQnVpbHRJbkVycm9yKSB7XG4gICAgICAgIC8vIENvdWNoREIgcmV0dXJucyBhbiBlcnJvciBpZiBhIGJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdGhyb3cgcmVkdWNlVHJ5LmVycm9yO1xuICAgICAgfVxuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgLy8gQ291Y2hEQiBqdXN0IHNldHMgdGhlIHZhbHVlIHRvIG51bGwgaWYgYSBub24tYnVpbHQtaW4gZXJyb3JzIG91dFxuICAgICAgICB2YWx1ZTogcmVkdWNlVHJ5LmVycm9yID8gbnVsbCA6IHJlZHVjZVRyeS5vdXRwdXQsXG4gICAgICAgIGtleTogZS5ncm91cEtleVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG5vIHRvdGFsX3Jvd3Mvb2Zmc2V0IHdoZW4gcmVkdWNpbmdcbiAgICByZXR1cm4ge3Jvd3M6IHNsaWNlUmVzdWx0cyhyZXN1bHRzLCBvcHRpb25zLmxpbWl0LCBvcHRpb25zLnNraXApfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKSB7XG4gICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlldyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpO1xuICAgIH0pKCk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICB2YXIgdG90YWxSb3dzO1xuICAgIHZhciBzaG91bGRSZWR1Y2UgPSB2aWV3LnJlZHVjZUZ1biAmJiBvcHRzLnJlZHVjZSAhPT0gZmFsc2U7XG4gICAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcgJiYgIW9wdHMua2V5cy5sZW5ndGgpIHtcbiAgICAgIC8vIGVxdWl2YWxlbnQgcXVlcnlcbiAgICAgIG9wdHMubGltaXQgPSAwO1xuICAgICAgZGVsZXRlIG9wdHMua2V5cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKSB7XG4gICAgICB2aWV3T3B0cy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIHZpZXcuZGIuYWxsRG9jcyh2aWV3T3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRvdGFsUm93cyA9IHJlcy50b3RhbF9yb3dzO1xuICAgICAgICByZXR1cm4gcmVzLnJvd3MubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgICAgICAgIC8vIGltcGxpY2l0IG1pZ3JhdGlvbiAtIGluIG9sZGVyIHZlcnNpb25zIG9mIFBvdWNoREIsXG4gICAgICAgICAgLy8gd2UgZXhwbGljaXRseSBzdG9yZWQgdGhlIGRvYyBhcyB7aWQ6IC4uLiwga2V5OiAuLi4sIHZhbHVlOiAuLi59XG4gICAgICAgICAgLy8gdGhpcyBpcyB0ZXN0ZWQgaW4gYSBtaWdyYXRpb24gdGVzdFxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4gcmVzdWx0LmRvYyAmJiB0eXBlb2YgcmVzdWx0LmRvYy52YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHJlc3VsdC5kb2MudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVzdWx0LmRvYy52YWx1ZSkuc29ydCgpO1xuICAgICAgICAgICAgLy8gdGhpcyBkZXRlY3Rpb24gbWV0aG9kIGlzIG5vdCBwZXJmZWN0LCBidXQgaXQncyB1bmxpa2VseSB0aGUgdXNlclxuICAgICAgICAgICAgLy8gZW1pdHRlZCBhIHZhbHVlIHdoaWNoIHdhcyBhbiBvYmplY3Qgd2l0aCB0aGVzZSAzIGV4YWN0IGtleXNcbiAgICAgICAgICAgIHZhciBleHBlY3RlZEtleXMgPSBbJ2lkJywgJ2tleScsICd2YWx1ZSddO1xuICAgICAgICAgICAgaWYgKCEoa2V5cyA8IGV4cGVjdGVkS2V5cyB8fCBrZXlzID4gZXhwZWN0ZWRLZXlzKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvYy52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcGFyc2VkS2V5QW5kRG9jSWQgPSBwYXJzZUluZGV4YWJsZVN0cmluZyhyZXN1bHQuZG9jLl9pZCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogcGFyc2VkS2V5QW5kRG9jSWRbMF0sXG4gICAgICAgICAgICBpZDogcGFyc2VkS2V5QW5kRG9jSWRbMV0sXG4gICAgICAgICAgICB2YWx1ZTogKCd2YWx1ZScgaW4gcmVzdWx0LmRvYyA/IHJlc3VsdC5kb2MudmFsdWUgOiBudWxsKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NYXBSZXN1bHRzUmVhZHkocm93cykge1xuICAgICAgdmFyIGZpbmFsUmVzdWx0cztcbiAgICAgIGlmIChzaG91bGRSZWR1Y2UpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzID0gcmVkdWNlVmlldyh2aWV3LCByb3dzLCBvcHRzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdHMua2V5cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogcm93c1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3VwcG9ydCBsaW1pdCwgc2tpcCBmb3Iga2V5cyBxdWVyeVxuICAgICAgICBmaW5hbFJlc3VsdHMgPSB7XG4gICAgICAgICAgdG90YWxfcm93czogdG90YWxSb3dzLFxuICAgICAgICAgIG9mZnNldDogc2tpcCxcbiAgICAgICAgICByb3dzOiBzbGljZVJlc3VsdHMocm93cyxvcHRzLmxpbWl0LG9wdHMuc2tpcClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICBmaW5hbFJlc3VsdHMudXBkYXRlX3NlcSA9IHZpZXcuc2VxO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHZhciBkb2NJZHMgPSB1bmlxKHJvd3MubWFwKHJvd1RvRG9jSWQpKTtcblxuICAgICAgICByZXR1cm4gdmlldy5zb3VyY2VEQi5hbGxEb2NzKHtcbiAgICAgICAgICBrZXlzOiBkb2NJZHMsXG4gICAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgICAgIGNvbmZsaWN0czogb3B0cy5jb25mbGljdHMsXG4gICAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChhbGxEb2NzUmVzKSB7XG4gICAgICAgICAgdmFyIGRvY0lkc1RvRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgICAgIGFsbERvY3NSZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIGRvY0lkc1RvRG9jcy5zZXQocm93LmlkLCByb3cuZG9jKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgdmFyIGRvY0lkID0gcm93VG9Eb2NJZChyb3cpO1xuICAgICAgICAgICAgdmFyIGRvYyA9IGRvY0lkc1RvRG9jcy5nZXQoZG9jSWQpO1xuICAgICAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgICAgICByb3cuZG9jID0gZG9jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0cztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBrZXlzID0gb3B0cy5rZXlzO1xuICAgICAgdmFyIGZldGNoUHJvbWlzZXMgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2aWV3T3B0cyA9IHtcbiAgICAgICAgICBzdGFydGtleSA6IHRvSW5kZXhhYmxlU3RyaW5nKFtrZXldKSxcbiAgICAgICAgICBlbmRrZXkgICA6IHRvSW5kZXhhYmxlU3RyaW5nKFtrZXksIHt9XSlcbiAgICAgICAgfTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgICB2aWV3T3B0cy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChmZXRjaFByb21pc2VzKS50aGVuKGZsYXR0ZW4pLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBxdWVyeSwgbm8gJ2tleXMnXG4gICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgIGRlc2NlbmRpbmcgOiBvcHRzLmRlc2NlbmRpbmdcbiAgICAgIH07XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgc3RhcnRrZXk7XG4gICAgICB2YXIgZW5ka2V5O1xuICAgICAgaWYgKCdzdGFydF9rZXknIGluIG9wdHMpIHtcbiAgICAgICAgc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICAgIH1cbiAgICAgIGlmICgnc3RhcnRrZXknIGluIG9wdHMpIHtcbiAgICAgICAgc3RhcnRrZXkgPSBvcHRzLnN0YXJ0a2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdlbmRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIGVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5ka2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIGVuZGtleSA9IG9wdHMuZW5ka2V5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBzdGFydGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBvcHRzLmRlc2NlbmRpbmcgP1xuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleSwge31dKSA6XG4gICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoW3N0YXJ0a2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGluY2x1c2l2ZUVuZCA9IG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgICBpbmNsdXNpdmVFbmQgPSAhaW5jbHVzaXZlRW5kO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlld09wdHMuZW5ka2V5ID0gdG9JbmRleGFibGVTdHJpbmcoXG4gICAgICAgICAgaW5jbHVzaXZlRW5kID8gW2VuZGtleSwge31dIDogW2VuZGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRzLmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGtleVN0YXJ0ID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5XSk7XG4gICAgICAgIHZhciBrZXlFbmQgPSB0b0luZGV4YWJsZVN0cmluZyhbb3B0cy5rZXksIHt9XSk7XG4gICAgICAgIGlmICh2aWV3T3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBrZXlFbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBrZXlTdGFydDtcbiAgICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSBrZXlFbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5saW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB2aWV3T3B0cy5saW1pdCA9IG9wdHMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmlld09wdHMuc2tpcCA9IHNraXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykudGhlbihvbk1hcFJlc3VsdHNSZWFkeSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdmlld19jbGVhbnVwJywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhbFZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIGRiLmdldCgnX2xvY2FsLycgKyBsb2NhbERvY05hbWUpLnRoZW4oZnVuY3Rpb24gKG1ldGFEb2MpIHtcbiAgICAgIHZhciBkb2NzVG9WaWV3cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgT2JqZWN0LmtleXMobWV0YURvYy52aWV3cykuZm9yRWFjaChmdW5jdGlvbiAoZnVsbFZpZXdOYW1lKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVsbFZpZXdOYW1lKTtcbiAgICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSAnX2Rlc2lnbi8nICsgcGFydHNbMF07XG4gICAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgICB2YXIgdmlld3MgPSBkb2NzVG9WaWV3cy5nZXQoZGVzaWduRG9jTmFtZSk7XG4gICAgICAgIGlmICghdmlld3MpIHtcbiAgICAgICAgICB2aWV3cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuICAgICAgICAgIGRvY3NUb1ZpZXdzLnNldChkZXNpZ25Eb2NOYW1lLCB2aWV3cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmlld3MuYWRkKHZpZXdOYW1lKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgIGtleXMgOiBtYXBUb0tleXNBcnJheShkb2NzVG9WaWV3cyksXG4gICAgICAgIGluY2x1ZGVfZG9jcyA6IHRydWVcbiAgICAgIH07XG4gICAgICByZXR1cm4gZGIuYWxsRG9jcyhvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIHZpZXdzVG9TdGF0dXMgPSB7fTtcbiAgICAgICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgdmFyIGRkb2NOYW1lID0gcm93LmtleS5zdWJzdHJpbmcoOCk7IC8vIGN1dHMgb2ZmICdfZGVzaWduLydcbiAgICAgICAgICBkb2NzVG9WaWV3cy5nZXQocm93LmtleSkuZm9yRWFjaChmdW5jdGlvbiAodmlld05hbWUpIHtcbiAgICAgICAgICAgIHZhciBmdWxsVmlld05hbWUgPSBkZG9jTmFtZSArICcvJyArIHZpZXdOYW1lO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoIW1ldGFEb2Mudmlld3NbZnVsbFZpZXdOYW1lXSkge1xuICAgICAgICAgICAgICAvLyBuZXcgZm9ybWF0LCB3aXRob3V0IHNsYXNoZXMsIHRvIHN1cHBvcnQgUG91Y2hEQiAyLjIuMFxuICAgICAgICAgICAgICAvLyBtaWdyYXRpb24gdGVzdCBpbiBwb3VjaGRiJ3MgYnJvd3Nlci5taWdyYXRpb24uanMgdmVyaWZpZXMgdGhpc1xuICAgICAgICAgICAgICBmdWxsVmlld05hbWUgPSB2aWV3TmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2aWV3REJOYW1lcyA9IE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3NbZnVsbFZpZXdOYW1lXSk7XG4gICAgICAgICAgICAvLyBkZXNpZ24gZG9jIGRlbGV0ZWQsIG9yIHZpZXcgZnVuY3Rpb24gbm9uZXhpc3RlbnRcbiAgICAgICAgICAgIHZhciBzdGF0dXNJc0dvb2QgPSByb3cuZG9jICYmIHJvdy5kb2Mudmlld3MgJiZcbiAgICAgICAgICAgICAgcm93LmRvYy52aWV3c1t2aWV3TmFtZV07XG4gICAgICAgICAgICB2aWV3REJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7XG4gICAgICAgICAgICAgIHZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV0gPVxuICAgICAgICAgICAgICAgIHZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV0gfHwgc3RhdHVzSXNHb29kO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZGJzVG9EZWxldGUgPSBPYmplY3Qua2V5cyh2aWV3c1RvU3RhdHVzKS5maWx0ZXIoXG4gICAgICAgICAgZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHsgcmV0dXJuICF2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdOyB9KTtcbiAgICAgICAgdmFyIGRlc3Ryb3lQcm9taXNlcyA9IGRic1RvRGVsZXRlLm1hcChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXdEQk5hbWUpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGRiLmNvbnN0cnVjdG9yKHZpZXdEQk5hbWUsIGRiLl9fb3B0cykuZGVzdHJveSgpO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZGVzdHJveVByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4ge29rOiB0cnVlfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCBkZWZhdWx0c1RvKHtvazogdHJ1ZX0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5UHJvbWlzZWQoZGIsIGZ1biwgb3B0cykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBkYi5fcXVlcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjdXN0b21RdWVyeShkYiwgZnVuLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKGlzUmVtb3RlKGRiKSkge1xuICAgICAgcmV0dXJuIGh0dHBRdWVyeShkYiwgZnVuLCBvcHRzKTtcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlVmlld09wdHMgPSB7XG4gICAgICBjaGFuZ2VzX2JhdGNoX3NpemU6IGRiLl9fb3B0cy52aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUgfHwgQ0hBTkdFU19CQVRDSF9TSVpFJDFcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBmdW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyB0ZW1wX3ZpZXdcbiAgICAgIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdHMsIGZ1bik7XG5cbiAgICAgIHRlbXBWaWV3UXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNyZWF0ZVZpZXdQcm9taXNlID0gY3JlYXRlVmlldyhcbiAgICAgICAgICAvKiBzb3VyY2VEQiAqLyBkYixcbiAgICAgICAgICAvKiB2aWV3TmFtZSAqLyAndGVtcF92aWV3L3RlbXBfdmlldycsXG4gICAgICAgICAgLyogbWFwRnVuICovIGZ1bi5tYXAsXG4gICAgICAgICAgLyogcmVkdWNlRnVuICovIGZ1bi5yZWR1Y2UsXG4gICAgICAgICAgLyogdGVtcG9yYXJ5ICovIHRydWUsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgcmV0dXJuIGZpbih1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LmRiLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0ZW1wVmlld1F1ZXVlLmZpbmlzaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBwZXJzaXN0ZW50IHZpZXdcbiAgICAgIHZhciBmdWxsVmlld05hbWUgPSBmdW47XG4gICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICB2YXIgZGVzaWduRG9jTmFtZSA9IHBhcnRzWzBdO1xuICAgICAgdmFyIHZpZXdOYW1lID0gcGFydHNbMV07XG4gICAgICByZXR1cm4gZGIuZ2V0KCdfZGVzaWduLycgKyBkZXNpZ25Eb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgdmFyIGZ1biA9IGRvYy52aWV3cyAmJiBkb2Mudmlld3Nbdmlld05hbWVdO1xuXG4gICAgICAgIGlmICghZnVuKSB7XG4gICAgICAgICAgLy8gYmFzaWMgdmFsaWRhdG9yOyBpdCdzIGFzc3VtZWQgdGhhdCBldmVyeSBzdWJjbGFzcyB3b3VsZCB3YW50IHRoaXNcbiAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZG9jLl9pZCArICcgaGFzIG5vIHZpZXcgbmFtZWQgJyArXG4gICAgICAgICAgICB2aWV3TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkZG9jVmFsaWRhdG9yKGRvYywgdmlld05hbWUpO1xuICAgICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gZnVsbFZpZXdOYW1lLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyBmYWxzZSxcbiAgICAgICAgICAvKiBsb2NhbERvY05hbWUgKi8gbG9jYWxEb2NOYW1lKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZpZXdQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICBpZiAob3B0cy5zdGFsZSA9PT0gJ29rJyB8fCBvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICd1cGRhdGVfYWZ0ZXInKSB7XG4gICAgICAgICAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBzdGFsZSBub3Qgb2tcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhYnN0cmFjdFF1ZXJ5KGZ1biwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgZGIgPSB0aGlzO1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gb3B0cyA/IGNvZXJjZU9wdGlvbnMob3B0cykgOiB7fTtcblxuICAgIGlmICh0eXBlb2YgZnVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmdW4gPSB7bWFwIDogZnVufTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5UHJvbWlzZWQoZGIsIGZ1biwgb3B0cyk7XG4gICAgfSk7XG4gICAgcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2YXIgYWJzdHJhY3RWaWV3Q2xlYW51cCA9IGNhbGxiYWNraWZ5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGIgPSB0aGlzO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBkYi5fdmlld0NsZWFudXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjdXN0b21WaWV3Q2xlYW51cChkYik7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxWaWV3Q2xlYW51cChkYik7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcXVlcnk6IGFic3RyYWN0UXVlcnksXG4gICAgdmlld0NsZWFudXA6IGFic3RyYWN0Vmlld0NsZWFudXBcbiAgfTtcbn1cblxudmFyIGJ1aWx0SW5SZWR1Y2UgPSB7XG4gIF9zdW06IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gc3VtKHZhbHVlcyk7XG4gIH0sXG5cbiAgX2NvdW50OiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGg7XG4gIH0sXG5cbiAgX3N0YXRzOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgLy8gbm8gbmVlZCB0byBpbXBsZW1lbnQgcmVyZWR1Y2U9dHJ1ZSwgYmVjYXVzZSBQb3VjaFxuICAgIC8vIHdpbGwgbmV2ZXIgY2FsbCBpdFxuICAgIGZ1bmN0aW9uIHN1bXNxcih2YWx1ZXMpIHtcbiAgICAgIHZhciBfc3Vtc3FyID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIG51bSA9IHZhbHVlc1tpXTtcbiAgICAgICAgX3N1bXNxciArPSAobnVtICogbnVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfc3Vtc3FyO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3VtICAgICA6IHN1bSh2YWx1ZXMpLFxuICAgICAgbWluICAgICA6IE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBtYXggICAgIDogTWF0aC5tYXguYXBwbHkobnVsbCwgdmFsdWVzKSxcbiAgICAgIGNvdW50ICAgOiB2YWx1ZXMubGVuZ3RoLFxuICAgICAgc3Vtc3FyIDogc3Vtc3FyKHZhbHVlcylcbiAgICB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRCdWlsdEluKHJlZHVjZUZ1blN0cmluZykge1xuICBpZiAoL15fc3VtLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3VtO1xuICB9IGVsc2UgaWYgKC9eX2NvdW50Ly50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fY291bnQ7XG4gIH0gZWxzZSBpZiAoL15fc3RhdHMvLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9zdGF0cztcbiAgfSBlbHNlIGlmICgvXl8vLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihyZWR1Y2VGdW5TdHJpbmcgKyAnIGlzIG5vdCBhIHN1cHBvcnRlZCByZWR1Y2UgZnVuY3Rpb24uJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwcGVyKG1hcEZ1biwgZW1pdCkge1xuICAvLyBmb3IgdGVtcF92aWV3cyBvbmUgY2FuIHVzZSBlbWl0KGRvYywgZW1pdCksIHNlZSAjMzhcbiAgaWYgKHR5cGVvZiBtYXBGdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBtYXBGdW4ubGVuZ3RoID09PSAyKSB7XG4gICAgdmFyIG9yaWdNYXAgPSBtYXBGdW47XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBvcmlnTWFwKGRvYywgZW1pdCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXZhbEZ1bmN0aW9uV2l0aEV2YWwobWFwRnVuLnRvU3RyaW5nKCksIGVtaXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZHVjZXIocmVkdWNlRnVuKSB7XG4gIHZhciByZWR1Y2VGdW5TdHJpbmcgPSByZWR1Y2VGdW4udG9TdHJpbmcoKTtcbiAgdmFyIGJ1aWx0SW4gPSBnZXRCdWlsdEluKHJlZHVjZUZ1blN0cmluZyk7XG4gIGlmIChidWlsdEluKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKHJlZHVjZUZ1blN0cmluZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGRvY1ZhbGlkYXRvcihkZG9jLCB2aWV3TmFtZSkge1xuICB2YXIgZnVuID0gZGRvYy52aWV3cyAmJiBkZG9jLnZpZXdzW3ZpZXdOYW1lXTtcbiAgaWYgKHR5cGVvZiBmdW4ubWFwICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdkZG9jICcgKyBkZG9jLl9pZCArICcgaGFzIG5vIHN0cmluZyB2aWV3IG5hbWVkICcgK1xuICAgICAgdmlld05hbWUgKyAnLCBpbnN0ZWFkIGZvdW5kIG9iamVjdCBvZiB0eXBlOiAnICsgdHlwZW9mIGZ1bi5tYXApO1xuICB9XG59XG5cbnZhciBsb2NhbERvY05hbWUgPSAnbXJ2aWV3cyc7XG52YXIgYWJzdHJhY3QgPSBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIHF1ZXJ5KGZ1biwgb3B0cywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGFic3RyYWN0LnF1ZXJ5LmNhbGwodGhpcywgZnVuLCBvcHRzLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIHZpZXdDbGVhbnVwKGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC52aWV3Q2xlYW51cC5jYWxsKHRoaXMsIGNhbGxiYWNrKTtcbn1cblxudmFyIG1hcHJlZHVjZSA9IHtcbiAgcXVlcnk6IHF1ZXJ5LFxuICB2aWV3Q2xlYW51cDogdmlld0NsZWFudXBcbn07XG5cbmZ1bmN0aW9uIGlzR2VuT25lJDEocmV2KSB7XG4gIHJldHVybiAvXjEtLy50ZXN0KHJldik7XG59XG5cbmZ1bmN0aW9uIGZpbGVIYXNDaGFuZ2VkKGxvY2FsRG9jLCByZW1vdGVEb2MsIGZpbGVuYW1lKSB7XG4gIHJldHVybiAhbG9jYWxEb2MuX2F0dGFjaG1lbnRzIHx8XG4gICAgICAgICAhbG9jYWxEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXSB8fFxuICAgICAgICAgbG9jYWxEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3QgIT09IHJlbW90ZURvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdLmRpZ2VzdDtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jQXR0YWNobWVudHMoZGIsIGRvYykge1xuICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG4gIHJldHVybiBQcm9taXNlLmFsbChmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgIHJldHVybiBkYi5nZXRBdHRhY2htZW50KGRvYy5faWQsIGZpbGVuYW1lLCB7cmV2OiBkb2MuX3Jldn0pO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCBkb2MpIHtcbiAgdmFyIGRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzID0gaXNSZW1vdGUoc3JjKSAmJiAhaXNSZW1vdGUodGFyZ2V0KTtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gIGlmICghZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMpIHtcbiAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHMoc3JjLCBkb2MpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldC5nZXQoZG9jLl9pZCkudGhlbihmdW5jdGlvbiAobG9jYWxEb2MpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgIGlmIChmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgZG9jLCBmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5nZXRBdHRhY2htZW50KGRvYy5faWQsIGZpbGVuYW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldC5nZXRBdHRhY2htZW50KGxvY2FsRG9jLl9pZCwgZmlsZW5hbWUpO1xuICAgIH0pKTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycm9yLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHMoc3JjLCBkb2MpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVsa0dldE9wdHMoZGlmZnMpIHtcbiAgdmFyIHJlcXVlc3RzID0gW107XG4gIE9iamVjdC5rZXlzKGRpZmZzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciBtaXNzaW5nUmV2cyA9IGRpZmZzW2lkXS5taXNzaW5nO1xuICAgIG1pc3NpbmdSZXZzLmZvckVhY2goZnVuY3Rpb24gKG1pc3NpbmdSZXYpIHtcbiAgICAgIHJlcXVlc3RzLnB1c2goe1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHJldjogbWlzc2luZ1JldlxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgZG9jczogcmVxdWVzdHMsXG4gICAgcmV2czogdHJ1ZSxcbiAgICBsYXRlc3Q6IHRydWVcbiAgfTtcbn1cblxuLy9cbi8vIEZldGNoIGFsbCB0aGUgZG9jdW1lbnRzIGZyb20gdGhlIHNyYyBhcyBkZXNjcmliZWQgaW4gdGhlIFwiZGlmZnNcIixcbi8vIHdoaWNoIGlzIGEgbWFwcGluZyBvZiBkb2NzIElEcyB0byByZXZpc2lvbnMuIElmIHRoZSBzdGF0ZSBldmVyXG4vLyBjaGFuZ2VzIHRvIFwiY2FuY2VsbGVkXCIsIHRoZW4gdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZC5cbi8vIEVsc2UgaXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGEgbGlzdCBvZiBmZXRjaGVkIGRvY3VtZW50cy5cbi8vXG5mdW5jdGlvbiBnZXREb2NzKHNyYywgdGFyZ2V0LCBkaWZmcywgc3RhdGUpIHtcbiAgZGlmZnMgPSBjbG9uZShkaWZmcyk7IC8vIHdlIGRvIG5vdCBuZWVkIHRvIG1vZGlmeSB0aGlzXG5cbiAgdmFyIHJlc3VsdERvY3MgPSBbXSxcbiAgICAgIG9rID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBnZXRBbGxEb2NzKCkge1xuXG4gICAgdmFyIGJ1bGtHZXRPcHRzID0gY3JlYXRlQnVsa0dldE9wdHMoZGlmZnMpO1xuXG4gICAgaWYgKCFidWxrR2V0T3B0cy5kb2NzLmxlbmd0aCkgeyAvLyBvcHRpbWl6YXRpb246IHNraXAgZW1wdHkgcmVxdWVzdHNcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjLmJ1bGtHZXQoYnVsa0dldE9wdHMpLnRoZW4oZnVuY3Rpb24gKGJ1bGtHZXRSZXNwb25zZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoc3RhdGUuY2FuY2VsbGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYnVsa0dldFJlc3BvbnNlLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChidWxrR2V0SW5mbykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYnVsa0dldEluZm8uZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIHZhciByZW1vdGVEb2MgPSBkb2Mub2s7XG5cbiAgICAgICAgICBpZiAoZG9jLmVycm9yKSB7XG4gICAgICAgICAgICAvLyB3aGVuIEFVVE9fQ09NUEFDVElPTiBpcyBzZXQsIGRvY3MgY2FuIGJlIHJldHVybmVkIHdoaWNoIGxvb2tcbiAgICAgICAgICAgIC8vIGxpa2UgdGhpczoge1wibWlzc2luZ1wiOlwiMS03YzNhYzI1NmI2OTNjNDYyYWY4NDQyZjk5MmI4MzY5NlwifVxuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXJlbW90ZURvYyB8fCAhcmVtb3RlRG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UodGFyZ2V0LCBzcmMsIHJlbW90ZURvYylcbiAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhyZW1vdGVEb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChhdHRhY2htZW50LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dCA9IHJlbW90ZURvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0LmRhdGEgPSBhdHRhY2htZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3RlRG9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKVxuXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICByZXN1bHREb2NzID0gcmVzdWx0RG9jcy5jb25jYXQoZmxhdHRlbihyZXN1bHRzKS5maWx0ZXIoQm9vbGVhbikpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNBdHRhY2htZW50cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9hdHRhY2htZW50cyAmJiBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQ29uZmxpY3RzKGRvYykge1xuICAgIHJldHVybiBkb2MuX2NvbmZsaWN0cyAmJiBkb2MuX2NvbmZsaWN0cy5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hSZXZpc2lvbk9uZURvY3MoaWRzKSB7XG4gICAgLy8gT3B0aW1pemF0aW9uOiBmZXRjaCBnZW4tMSBkb2NzIGFuZCBhdHRhY2htZW50cyBpblxuICAgIC8vIGEgc2luZ2xlIHJlcXVlc3QgdXNpbmcgX2FsbF9kb2NzXG4gICAgcmV0dXJuIHNyYy5hbGxEb2NzKHtcbiAgICAgIGtleXM6IGlkcyxcbiAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgIGNvbmZsaWN0czogdHJ1ZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIGlmIChyb3cuZGVsZXRlZCB8fCAhcm93LmRvYyB8fCAhaXNHZW5PbmUkMShyb3cudmFsdWUucmV2KSB8fFxuICAgICAgICAgICAgaGFzQXR0YWNobWVudHMocm93LmRvYykgfHwgaGFzQ29uZmxpY3RzKHJvdy5kb2MpKSB7XG4gICAgICAgICAgLy8gaWYgYW55IG9mIHRoZXNlIGNvbmRpdGlvbnMgYXBwbHksIHdlIG5lZWQgdG8gZmV0Y2ggdXNpbmcgZ2V0KClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdHJpcCBfY29uZmxpY3RzIGFycmF5IHRvIGFwcGVhc2UgQ1NHICgjNTc5MylcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChyb3cuZG9jLl9jb25mbGljdHMpIHtcbiAgICAgICAgICBkZWxldGUgcm93LmRvYy5fY29uZmxpY3RzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGRvYyB3ZSBnb3QgYmFjayBmcm9tIGFsbERvY3MoKSBpcyBzdWZmaWNpZW50XG4gICAgICAgIHJlc3VsdERvY3MucHVzaChyb3cuZG9jKTtcbiAgICAgICAgZGVsZXRlIGRpZmZzW3Jvdy5pZF07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJldmlzaW9uT25lRG9jcygpIHtcbiAgICAvLyBmaWx0ZXIgb3V0IHRoZSBnZW5lcmF0aW9uIDEgZG9jcyBhbmQgZ2V0IHRoZW1cbiAgICAvLyBsZWF2aW5nIHRoZSBub24tZ2VuZXJhdGlvbiBvbmUgZG9jcyB0byBiZSBnb3Qgb3RoZXJ3aXNlXG4gICAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKGRpZmZzKS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7XG4gICAgICB2YXIgbWlzc2luZyA9IGRpZmZzW2lkXS5taXNzaW5nO1xuICAgICAgcmV0dXJuIG1pc3NpbmcubGVuZ3RoID09PSAxICYmIGlzR2VuT25lJDEobWlzc2luZ1swXSk7XG4gICAgfSk7XG4gICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZmV0Y2hSZXZpc2lvbk9uZURvY3MoaWRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXR1cm5SZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgb2s6b2ssIGRvY3M6cmVzdWx0RG9jcyB9O1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgLnRoZW4oZ2V0UmV2aXNpb25PbmVEb2NzKVxuICAgIC50aGVuKGdldEFsbERvY3MpXG4gICAgLnRoZW4ocmV0dXJuUmVzdWx0KTtcbn1cblxudmFyIENIRUNLUE9JTlRfVkVSU0lPTiA9IDE7XG52YXIgUkVQTElDQVRPUiA9IFwicG91Y2hkYlwiO1xuLy8gVGhpcyBpcyBhbiBhcmJpdHJhcnkgbnVtYmVyIHRvIGxpbWl0IHRoZVxuLy8gYW1vdW50IG9mIHJlcGxpY2F0aW9uIGhpc3Rvcnkgd2Ugc2F2ZSBpbiB0aGUgY2hlY2twb2ludC5cbi8vIElmIHdlIHNhdmUgdG9vIG11Y2gsIHRoZSBjaGVja3BvaW5nIGRvY3Mgd2lsbCBiZWNvbWUgdmVyeSBiaWcsXG4vLyBpZiB3ZSBzYXZlIGZld2VyLCB3ZSdsbCBydW4gYSBncmVhdGVyIHJpc2sgb2YgaGF2aW5nIHRvXG4vLyByZWFkIGFsbCB0aGUgY2hhbmdlcyBmcm9tIDAgd2hlbiBjaGVja3BvaW50IFBVVHMgZmFpbFxuLy8gQ291Y2hEQiAyLjAgaGFzIGEgbW9yZSBpbnZvbHZlZCBoaXN0b3J5IHBydW5pbmcsXG4vLyBidXQgbGV0J3MgZ28gZm9yIHRoZSBzaW1wbGUgdmVyc2lvbiBmb3Igbm93LlxudmFyIENIRUNLUE9JTlRfSElTVE9SWV9TSVpFID0gNTtcbnZhciBMT1dFU1RfU0VRID0gMDtcblxuZnVuY3Rpb24gdXBkYXRlQ2hlY2twb2ludChkYiwgaWQsIGNoZWNrcG9pbnQsIHNlc3Npb24sIHJldHVyblZhbHVlKSB7XG4gIHJldHVybiBkYi5nZXQoaWQpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICBpZiAoZGIuYWRhcHRlciA9PT0gJ2h0dHAnIHx8IGRiLmFkYXB0ZXIgPT09ICdodHRwcycpIHtcbiAgICAgICAgZXhwbGFpbkVycm9yKFxuICAgICAgICAgIDQwNCwgJ1BvdWNoREIgaXMganVzdCBjaGVja2luZyBpZiBhIHJlbW90ZSBjaGVja3BvaW50IGV4aXN0cy4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uLFxuICAgICAgICBfaWQ6IGlkLFxuICAgICAgICBoaXN0b3J5OiBbXSxcbiAgICAgICAgcmVwbGljYXRvcjogUkVQTElDQVRPUixcbiAgICAgICAgdmVyc2lvbjogQ0hFQ0tQT0lOVF9WRVJTSU9OXG4gICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBlcnI7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgY2hlY2twb2ludCBoYXMgbm90IGNoYW5nZWQsIGRvIG5vdCB1cGRhdGVcbiAgICBpZiAoZG9jLmxhc3Rfc2VxID09PSBjaGVja3BvaW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIG91dCBjdXJyZW50IGVudHJ5IGZvciB0aGlzIHJlcGxpY2F0aW9uXG4gICAgZG9jLmhpc3RvcnkgPSAoZG9jLmhpc3RvcnkgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uc2Vzc2lvbl9pZCAhPT0gc2Vzc2lvbjtcbiAgICB9KTtcblxuICAgIC8vIEFkZCB0aGUgbGF0ZXN0IGNoZWNrcG9pbnQgdG8gaGlzdG9yeVxuICAgIGRvYy5oaXN0b3J5LnVuc2hpZnQoe1xuICAgICAgbGFzdF9zZXE6IGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uXG4gICAgfSk7XG5cbiAgICAvLyBKdXN0IHRha2UgdGhlIGxhc3QgcGllY2VzIGluIGhpc3RvcnksIHRvXG4gICAgLy8gYXZvaWQgcmVhbGx5IGJpZyBjaGVja3BvaW50IGRvY3MuXG4gICAgLy8gc2VlIGNvbW1lbnQgb24gaGlzdG9yeSBzaXplIGFib3ZlXG4gICAgZG9jLmhpc3RvcnkgPSBkb2MuaGlzdG9yeS5zbGljZSgwLCBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSk7XG5cbiAgICBkb2MudmVyc2lvbiA9IENIRUNLUE9JTlRfVkVSU0lPTjtcbiAgICBkb2MucmVwbGljYXRvciA9IFJFUExJQ0FUT1I7XG5cbiAgICBkb2Muc2Vzc2lvbl9pZCA9IHNlc3Npb247XG4gICAgZG9jLmxhc3Rfc2VxID0gY2hlY2twb2ludDtcblxuICAgIHJldHVybiBkYi5wdXQoZG9jKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIC8vIHJldHJ5OyBzb21lb25lIGlzIHRyeWluZyB0byB3cml0ZSBhIGNoZWNrcG9pbnQgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBDaGVja3BvaW50ZXIoc3JjLCB0YXJnZXQsIGlkLCByZXR1cm5WYWx1ZSwgb3B0cykge1xuICB0aGlzLnNyYyA9IHNyYztcbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMuaWQgPSBpZDtcbiAgdGhpcy5yZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlO1xuICB0aGlzLm9wdHMgPSBvcHRzIHx8IHt9O1xufVxuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLndyaXRlQ2hlY2twb2ludCA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgcmV0dXJuIHRoaXMudXBkYXRlVGFyZ2V0KGNoZWNrcG9pbnQsIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzZWxmLnVwZGF0ZVNvdXJjZShjaGVja3BvaW50LCBzZXNzaW9uKTtcbiAgfSk7XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLnVwZGF0ZVRhcmdldCA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIGlmICh0aGlzLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQodGhpcy50YXJnZXQsIHRoaXMuaWQsIGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uLCB0aGlzLnJldHVyblZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICB9XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLnVwZGF0ZVNvdXJjZSA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIGlmICh0aGlzLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMuc3JjLCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxudmFyIGNvbXBhcmlzb25zID0ge1xuICBcInVuZGVmaW5lZFwiOiBmdW5jdGlvbiAodGFyZ2V0RG9jLCBzb3VyY2VEb2MpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBwcmV2aW91cyBjb21wYXJpc29uIGZ1bmN0aW9uXG4gICAgaWYgKGNvbGxhdGUodGFyZ2V0RG9jLmxhc3Rfc2VxLCBzb3VyY2VEb2MubGFzdF9zZXEpID09PSAwKSB7XG4gICAgICByZXR1cm4gc291cmNlRG9jLmxhc3Rfc2VxO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiAwO1xuICB9LFxuICBcIjFcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgY29tcGFyaXNvbiBmdW5jdGlvbiBwb3J0ZWQgZnJvbSBDb3VjaERCXG4gICAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkxvZ3Moc291cmNlRG9jLCB0YXJnZXREb2MpLmxhc3Rfc2VxO1xuICB9XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLmdldENoZWNrcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoc2VsZi5vcHRzICYmIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgJiYgIXNlbGYub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQpIHtcbiAgICByZXR1cm4gc2VsZi5zcmMuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHNvdXJjZURvYykge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzZWxmLnRhcmdldC5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAodGFyZ2V0RG9jKSB7XG4gICAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50KSB7XG4gICAgICByZXR1cm4gdGFyZ2V0RG9jLmxhc3Rfc2VxIHx8IExPV0VTVF9TRVE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIC8vIFNpbmNlIHdlIGNhbid0IG1pZ3JhdGUgYW4gb2xkIHZlcnNpb24gZG9jIHRvIGEgbmV3IG9uZVxuICAgICAgLy8gKG5vIHNlc3Npb24gaWQpLCB3ZSBqdXN0IGdvIHdpdGggdGhlIGxvd2VzdCBzZXEgaW4gdGhpcyBjYXNlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbiAhPT0gc291cmNlRG9jLnZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICB9XG5cbiAgICAgIHZhciB2ZXJzaW9uO1xuICAgICAgaWYgKHRhcmdldERvYy52ZXJzaW9uKSB7XG4gICAgICAgIHZlcnNpb24gPSB0YXJnZXREb2MudmVyc2lvbi50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IFwidW5kZWZpbmVkXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICh2ZXJzaW9uIGluIGNvbXBhcmlzb25zKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJpc29uc1t2ZXJzaW9uXSh0YXJnZXREb2MsIHNvdXJjZURvYyk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCAmJiB0YXJnZXREb2MubGFzdF9zZXEpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuc3JjLnB1dCh7XG4gICAgICAgICAgX2lkOiBzZWxmLmlkLFxuICAgICAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGlzRm9yYmlkZGVuRXJyb3IoZXJyKSkge1xuICAgICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICB9KTtcbn07XG4vLyBUaGlzIGNoZWNrcG9pbnQgY29tcGFyaXNvbiBpcyBwb3J0ZWQgZnJvbSBDb3VjaERCcyBzb3VyY2Vcbi8vIHRoZXkgY29tZSBmcm9tIGhlcmU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY291Y2gtcmVwbGljYXRvci9ibG9iL21hc3Rlci9zcmMvY291Y2hfcmVwbGljYXRvci5lcmwjTDg2My1MOTA2XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkxvZ3Moc3JjRG9jLCB0Z3REb2MpIHtcbiAgaWYgKHNyY0RvYy5zZXNzaW9uX2lkID09PSB0Z3REb2Muc2Vzc2lvbl9pZCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogc3JjRG9jLmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogc3JjRG9jLmhpc3RvcnlcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc3JjRG9jLmhpc3RvcnksIHRndERvYy5oaXN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzb3VyY2VIaXN0b3J5LCB0YXJnZXRIaXN0b3J5KSB7XG4gIC8vIHRoZSBlcmxhbmcgbG9vcCB2aWEgZnVuY3Rpb24gYXJndW1lbnRzIGlzIG5vdCBzbyBlYXN5IHRvIHJlcGVhdCBpbiBKU1xuICAvLyB0aGVyZWZvcmUsIGRvaW5nIHRoaXMgYXMgcmVjdXJzaW9uXG4gIHZhciBTID0gc291cmNlSGlzdG9yeVswXTtcbiAgdmFyIHNvdXJjZVJlc3QgPSBzb3VyY2VIaXN0b3J5LnNsaWNlKDEpO1xuICB2YXIgVCA9IHRhcmdldEhpc3RvcnlbMF07XG4gIHZhciB0YXJnZXRSZXN0ID0gdGFyZ2V0SGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIVMgfHwgdGFyZ2V0SGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IExPV0VTVF9TRVEsXG4gICAgICBoaXN0b3J5OiBbXVxuICAgIH07XG4gIH1cblxuICB2YXIgc291cmNlSWQgPSBTLnNlc3Npb25faWQ7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoaGFzU2Vzc2lvbklkKHNvdXJjZUlkLCB0YXJnZXRIaXN0b3J5KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogUy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNvdXJjZUhpc3RvcnlcbiAgICB9O1xuICB9XG5cbiAgdmFyIHRhcmdldElkID0gVC5zZXNzaW9uX2lkO1xuICBpZiAoaGFzU2Vzc2lvbklkKHRhcmdldElkLCBzb3VyY2VSZXN0KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogVC5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHRhcmdldFJlc3RcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlUmVzdCwgdGFyZ2V0UmVzdCk7XG59XG5cbmZ1bmN0aW9uIGhhc1Nlc3Npb25JZChzZXNzaW9uSWQsIGhpc3RvcnkpIHtcbiAgdmFyIHByb3BzID0gaGlzdG9yeVswXTtcbiAgdmFyIHJlc3QgPSBoaXN0b3J5LnNsaWNlKDEpO1xuXG4gIGlmICghc2Vzc2lvbklkIHx8IGhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHNlc3Npb25JZCA9PT0gcHJvcHMuc2Vzc2lvbl9pZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGhhc1Nlc3Npb25JZChzZXNzaW9uSWQsIHJlc3QpO1xufVxuXG5mdW5jdGlvbiBpc0ZvcmJpZGRlbkVycm9yKGVycikge1xuICByZXR1cm4gdHlwZW9mIGVyci5zdGF0dXMgPT09ICdudW1iZXInICYmIE1hdGguZmxvb3IoZXJyLnN0YXR1cyAvIDEwMCkgPT09IDQ7XG59XG5cbnZhciBTVEFSVElOR19CQUNLX09GRiA9IDA7XG5cbmZ1bmN0aW9uIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGVycm9yLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5yZXRyeSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygb3B0cy5iYWNrX29mZl9mdW5jdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gPSBkZWZhdWx0QmFja09mZjtcbiAgfVxuICByZXR1cm5WYWx1ZS5lbWl0KCdyZXF1ZXN0RXJyb3InLCBlcnJvcik7XG4gIGlmIChyZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ2FjdGl2ZScgfHwgcmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ3BhdXNlZCcsIGVycm9yKTtcbiAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdzdG9wcGVkJztcbiAgICB2YXIgYmFja09mZlNldCA9IGZ1bmN0aW9uIGJhY2tvZmZUaW1lU2V0KCkge1xuICAgICAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gU1RBUlRJTkdfQkFDS19PRkY7XG4gICAgfTtcbiAgICB2YXIgcmVtb3ZlQmFja09mZlNldHRlciA9IGZ1bmN0aW9uIHJlbW92ZUJhY2tPZmZUaW1lU2V0KCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICAgIH07XG4gICAgcmV0dXJuVmFsdWUub25jZSgncGF1c2VkJywgcmVtb3ZlQmFja09mZlNldHRlcik7XG4gICAgcmV0dXJuVmFsdWUub25jZSgnYWN0aXZlJywgYmFja09mZlNldCk7XG4gIH1cblxuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmN1cnJlbnRfYmFja19vZmYgfHwgU1RBUlRJTkdfQkFDS19PRkY7XG4gIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IG9wdHMuYmFja19vZmZfZnVuY3Rpb24ob3B0cy5jdXJyZW50X2JhY2tfb2ZmKTtcbiAgc2V0VGltZW91dChjYWxsYmFjaywgb3B0cy5jdXJyZW50X2JhY2tfb2ZmKTtcbn1cblxuZnVuY3Rpb24gc29ydE9iamVjdFByb3BlcnRpZXNCeUtleShxdWVyeVBhcmFtcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnlQYXJhbXMpLnNvcnQoY29sbGF0ZSkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuICAgIHJlc3VsdFtrZXldID0gcXVlcnlQYXJhbXNba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG5cbi8vIEdlbmVyYXRlIGEgdW5pcXVlIGlkIHBhcnRpY3VsYXIgdG8gdGhpcyByZXBsaWNhdGlvbi5cbi8vIE5vdCBndWFyYW50ZWVkIHRvIGFsaWduIHBlcmZlY3RseSB3aXRoIENvdWNoREIncyByZXAgaWRzLlxuZnVuY3Rpb24gZ2VuZXJhdGVSZXBsaWNhdGlvbklkKHNyYywgdGFyZ2V0LCBvcHRzKSB7XG4gIHZhciBkb2NJZHMgPSBvcHRzLmRvY19pZHMgPyBvcHRzLmRvY19pZHMuc29ydChjb2xsYXRlKSA6ICcnO1xuICB2YXIgZmlsdGVyRnVuID0gb3B0cy5maWx0ZXIgPyBvcHRzLmZpbHRlci50b1N0cmluZygpIDogJyc7XG4gIHZhciBxdWVyeVBhcmFtcyA9ICcnO1xuICB2YXIgZmlsdGVyVmlld05hbWUgPSAgJyc7XG4gIHZhciBzZWxlY3RvciA9ICcnO1xuXG4gIC8vIHBvc3NpYmlsaXR5IGZvciBjaGVja3BvaW50cyB0byBiZSBsb3N0IGhlcmUgYXMgYmVoYXZpb3VyIG9mXG4gIC8vIEpTT04uc3RyaW5naWZ5IGlzIG5vdCBzdGFibGUgKHNlZSAjNjIyNilcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgc2VsZWN0b3IgPSBKU09OLnN0cmluZ2lmeShvcHRzLnNlbGVjdG9yKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgIHF1ZXJ5UGFyYW1zID0gSlNPTi5zdHJpbmdpZnkoc29ydE9iamVjdFByb3BlcnRpZXNCeUtleShvcHRzLnF1ZXJ5X3BhcmFtcykpO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgZmlsdGVyVmlld05hbWUgPSBvcHRzLnZpZXcudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChbc3JjLmlkKCksIHRhcmdldC5pZCgpXSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgdmFyIHF1ZXJ5RGF0YSA9IHJlc1swXSArIHJlc1sxXSArIGZpbHRlckZ1biArIGZpbHRlclZpZXdOYW1lICtcbiAgICAgIHF1ZXJ5UGFyYW1zICsgZG9jSWRzICsgc2VsZWN0b3I7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBiaW5hcnlNZDUocXVlcnlEYXRhLCByZXNvbHZlKTtcbiAgICB9KTtcbiAgfSkudGhlbihmdW5jdGlvbiAobWQ1c3VtKSB7XG4gICAgLy8gY2FuJ3QgdXNlIHN0cmFpZ2h0LXVwIG1kNSBhbHBoYWJldCwgYmVjYXVzZVxuICAgIC8vIHRoZSBjaGFyICcvJyBpcyBpbnRlcnByZXRlZCBhcyBiZWluZyBmb3IgYXR0YWNobWVudHMsXG4gICAgLy8gYW5kICsgaXMgYWxzbyBub3QgdXJsLXNhZmVcbiAgICBtZDVzdW0gPSBtZDVzdW0ucmVwbGFjZSgvXFwvL2csICcuJykucmVwbGFjZSgvXFwrL2csICdfJyk7XG4gICAgcmV0dXJuICdfbG9jYWwvJyArIG1kNXN1bTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxpY2F0ZShzcmMsIHRhcmdldCwgb3B0cywgcmV0dXJuVmFsdWUsIHJlc3VsdCkge1xuICB2YXIgYmF0Y2hlcyA9IFtdOyAgICAgICAgICAgICAgIC8vIGxpc3Qgb2YgYmF0Y2hlcyB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIGN1cnJlbnRCYXRjaDsgICAgICAgICAgICAgICAvLyB0aGUgYmF0Y2ggY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZFxuICB2YXIgcGVuZGluZ0JhdGNoID0ge1xuICAgIHNlcTogMCxcbiAgICBjaGFuZ2VzOiBbXSxcbiAgICBkb2NzOiBbXVxuICB9OyAvLyBuZXh0IGJhdGNoLCBub3QgeWV0IHJlYWR5IHRvIGJlIHByb2Nlc3NlZFxuICB2YXIgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTsgIC8vIHRydWUgd2hpbGUgY2hlY2twb2ludCBpcyBiZWluZyB3cml0dGVuXG4gIHZhciBjaGFuZ2VzQ29tcGxldGVkID0gZmFsc2U7ICAgLy8gdHJ1ZSB3aGVuIGFsbCBjaGFuZ2VzIHJlY2VpdmVkXG4gIHZhciByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IGZhbHNlOyAvLyB0cnVlIHdoZW4gcmVwbGljYXRpb24gaGFzIGNvbXBsZXRlZFxuICB2YXIgbGFzdF9zZXEgPSAwO1xuICB2YXIgY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmUgfHwgZmFsc2U7XG4gIHZhciBiYXRjaF9zaXplID0gb3B0cy5iYXRjaF9zaXplIHx8IDEwMDtcbiAgdmFyIGJhdGNoZXNfbGltaXQgPSBvcHRzLmJhdGNoZXNfbGltaXQgfHwgMTA7XG4gIHZhciBzdHlsZSA9IG9wdHMuc3R5bGUgfHwgJ2FsbF9kb2NzJztcbiAgdmFyIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7ICAgICAvLyB0cnVlIHdoaWxlIHNyYy5jaGFuZ2VzIGlzIHJ1bm5pbmdcbiAgdmFyIGRvY19pZHMgPSBvcHRzLmRvY19pZHM7XG4gIHZhciBzZWxlY3RvciA9IG9wdHMuc2VsZWN0b3I7XG4gIHZhciByZXBJZDtcbiAgdmFyIGNoZWNrcG9pbnRlcjtcbiAgdmFyIGNoYW5nZWREb2NzID0gW107XG4gIC8vIExpa2UgY291Y2hkYiwgZXZlcnkgcmVwbGljYXRpb24gZ2V0cyBhIHVuaXF1ZSBzZXNzaW9uIGlkXG4gIHZhciBzZXNzaW9uID0gdXVpZCgpO1xuXG4gIHJlc3VsdCA9IHJlc3VsdCB8fCB7XG4gICAgb2s6IHRydWUsXG4gICAgc3RhcnRfdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGRvY3NfcmVhZDogMCxcbiAgICBkb2NzX3dyaXR0ZW46IDAsXG4gICAgZG9jX3dyaXRlX2ZhaWx1cmVzOiAwLFxuICAgIGVycm9yczogW11cbiAgfTtcblxuICB2YXIgY2hhbmdlc09wdHMgPSB7fTtcbiAgcmV0dXJuVmFsdWUucmVhZHkoc3JjLCB0YXJnZXQpO1xuXG4gIGZ1bmN0aW9uIGluaXRDaGVja3BvaW50ZXIoKSB7XG4gICAgaWYgKGNoZWNrcG9pbnRlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2VuZXJhdGVSZXBsaWNhdGlvbklkKHNyYywgdGFyZ2V0LCBvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJlcElkID0gcmVzO1xuXG4gICAgICB2YXIgY2hlY2twb2ludE9wdHMgPSB7fTtcbiAgICAgIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09IGZhbHNlKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IGZhbHNlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2UgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gJ3NvdXJjZScpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogdHJ1ZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IGZhbHNlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogdHJ1ZSB9O1xuICAgICAgfVxuXG4gICAgICBjaGVja3BvaW50ZXIgPSBuZXcgQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCByZXBJZCwgcmV0dXJuVmFsdWUsIGNoZWNrcG9pbnRPcHRzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlRG9jcygpIHtcbiAgICBjaGFuZ2VkRG9jcyA9IFtdO1xuXG4gICAgaWYgKGN1cnJlbnRCYXRjaC5kb2NzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZG9jcyA9IGN1cnJlbnRCYXRjaC5kb2NzO1xuICAgIHZhciBidWxrT3B0cyA9IHt0aW1lb3V0OiBvcHRzLnRpbWVvdXR9O1xuICAgIHJldHVybiB0YXJnZXQuYnVsa0RvY3Moe2RvY3M6IGRvY3MsIG5ld19lZGl0czogZmFsc2V9LCBidWxrT3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBgcmVzYCBkb2Vzbid0IGluY2x1ZGUgZnVsbCBkb2N1bWVudHMgKHdoaWNoIGxpdmUgaW4gYGRvY3NgKSwgc28gd2UgY3JlYXRlIGEgbWFwIG9mXG4gICAgICAvLyAoaWQgLT4gZXJyb3IpLCBhbmQgY2hlY2sgZm9yIGVycm9ycyB3aGlsZSBpdGVyYXRpbmcgb3ZlciBgZG9jc2BcbiAgICAgIHZhciBlcnJvcnNCeUlkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgIGVycm9yc0J5SWRbcmVzLmlkXSA9IHJlcztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBlcnJvcnNObyA9IE9iamVjdC5rZXlzKGVycm9yc0J5SWQpLmxlbmd0aDtcbiAgICAgIHJlc3VsdC5kb2Nfd3JpdGVfZmFpbHVyZXMgKz0gZXJyb3JzTm87XG4gICAgICByZXN1bHQuZG9jc193cml0dGVuICs9IGRvY3MubGVuZ3RoIC0gZXJyb3JzTm87XG5cbiAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yc0J5SWRbZG9jLl9pZF07XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJlc3VsdC5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgICAgICB2YXIgZXJyb3JOYW1lID0gKGVycm9yLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnZGVuaWVkJywgY2xvbmUoZXJyb3IpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZWREb2NzLnB1c2goZG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGRvY3MubGVuZ3RoO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoQmF0Y2goKSB7XG4gICAgaWYgKGN1cnJlbnRCYXRjaC5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSB3YXMgYSBwcm9ibGVtIGdldHRpbmcgZG9jcy4nKTtcbiAgICB9XG4gICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXEgPSBjdXJyZW50QmF0Y2guc2VxO1xuICAgIHZhciBvdXRSZXN1bHQgPSBjbG9uZShyZXN1bHQpO1xuICAgIGlmIChjaGFuZ2VkRG9jcy5sZW5ndGgpIHtcbiAgICAgIG91dFJlc3VsdC5kb2NzID0gY2hhbmdlZERvY3M7XG4gICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRCYXRjaC5wZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICBvdXRSZXN1bHQucGVuZGluZyA9IGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgICBkZWxldGUgY3VycmVudEJhdGNoLnBlbmRpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGFuZ2UnLCBvdXRSZXN1bHQpO1xuICAgIH1cbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgcmV0dXJuIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQoY3VycmVudEJhdGNoLnNlcSxcbiAgICAgICAgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAnY2hlY2twb2ludCc6IGN1cnJlbnRCYXRjaC5zZXEgfSk7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRCYXRjaCA9IHVuZGVmaW5lZDtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBvbkNoZWNrcG9pbnRFcnJvcihlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlmZnMoKSB7XG4gICAgdmFyIGRpZmYgPSB7fTtcbiAgICBjdXJyZW50QmF0Y2guY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdyZXZzX2RpZmYnOiBjaGFuZ2UgfSk7XG4gICAgICAvLyBDb3VjaGJhc2UgU3luYyBHYXRld2F5IGVtaXRzIHRoZXNlLCBidXQgd2UgY2FuIGlnbm9yZSB0aGVtXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2UuaWQgPT09IFwiX3VzZXIvXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGlmZltjaGFuZ2UuaWRdID0gY2hhbmdlLmNoYW5nZXMubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LnJldjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQucmV2c0RpZmYoZGlmZikudGhlbihmdW5jdGlvbiAoZGlmZnMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICAvLyBjdXJyZW50QmF0Y2guZGlmZnMgZWxlbWVudHMgYXJlIGRlbGV0ZWQgYXMgdGhlIGRvY3VtZW50cyBhcmUgd3JpdHRlblxuICAgICAgY3VycmVudEJhdGNoLmRpZmZzID0gZGlmZnM7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCYXRjaERvY3MoKSB7XG4gICAgcmV0dXJuIGdldERvY3Moc3JjLCB0YXJnZXQsIGN1cnJlbnRCYXRjaC5kaWZmcywgcmV0dXJuVmFsdWUpLnRoZW4oZnVuY3Rpb24gKGdvdCkge1xuICAgICAgY3VycmVudEJhdGNoLmVycm9yID0gIWdvdC5vaztcbiAgICAgIGdvdC5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBkZWxldGUgY3VycmVudEJhdGNoLmRpZmZzW2RvYy5faWRdO1xuICAgICAgICByZXN1bHQuZG9jc19yZWFkKys7XG4gICAgICAgIGN1cnJlbnRCYXRjaC5kb2NzLnB1c2goZG9jKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnROZXh0QmF0Y2goKSB7XG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCB8fCBjdXJyZW50QmF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50QmF0Y2ggPSBiYXRjaGVzLnNoaWZ0KCk7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3N0YXJ0X25leHRfYmF0Y2gnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgIGdldERpZmZzKClcbiAgICAgIC50aGVuKGdldEJhdGNoRG9jcylcbiAgICAgIC50aGVuKHdyaXRlRG9jcylcbiAgICAgIC50aGVuKGZpbmlzaEJhdGNoKVxuICAgICAgLnRoZW4oc3RhcnROZXh0QmF0Y2gpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBhYm9ydFJlcGxpY2F0aW9uKCdiYXRjaCBwcm9jZXNzaW5nIHRlcm1pbmF0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gICAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1BlbmRpbmdCYXRjaChpbW1lZGlhdGUkJDEpIHtcbiAgICBpZiAocGVuZGluZ0JhdGNoLmNoYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoYmF0Y2hlcy5sZW5ndGggPT09IDAgJiYgIWN1cnJlbnRCYXRjaCkge1xuICAgICAgICBpZiAoKGNvbnRpbnVvdXMgJiYgY2hhbmdlc09wdHMubGl2ZSkgfHwgY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ3BlbmRpbmcnO1xuICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ3BhdXNlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzQ29tcGxldGVkKSB7XG4gICAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGltbWVkaWF0ZSQkMSB8fFxuICAgICAgY2hhbmdlc0NvbXBsZXRlZCB8fFxuICAgICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMubGVuZ3RoID49IGJhdGNoX3NpemVcbiAgICApIHtcbiAgICAgIGJhdGNoZXMucHVzaChwZW5kaW5nQmF0Y2gpO1xuICAgICAgcGVuZGluZ0JhdGNoID0ge1xuICAgICAgICBzZXE6IDAsXG4gICAgICAgIGNoYW5nZXM6IFtdLFxuICAgICAgICBkb2NzOiBbXVxuICAgICAgfTtcbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3BlbmRpbmcnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnYWN0aXZlJztcbiAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBzdGFydE5leHRCYXRjaCgpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gYWJvcnRSZXBsaWNhdGlvbihyZWFzb24sIGVycikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWVyci5tZXNzYWdlKSB7XG4gICAgICBlcnIubWVzc2FnZSA9IHJlYXNvbjtcbiAgICB9XG4gICAgcmVzdWx0Lm9rID0gZmFsc2U7XG4gICAgcmVzdWx0LnN0YXR1cyA9ICdhYm9ydGluZyc7XG4gICAgYmF0Y2hlcyA9IFtdO1xuICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgIHNlcTogMCxcbiAgICAgIGNoYW5nZXM6IFtdLFxuICAgICAgZG9jczogW11cbiAgICB9O1xuICAgIGNvbXBsZXRlUmVwbGljYXRpb24oZXJyKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY29tcGxldGVSZXBsaWNhdGlvbihmYXRhbEVycm9yKSB7XG4gICAgaWYgKHJlcGxpY2F0aW9uQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnY2FuY2VsbGVkJztcbiAgICAgIGlmICh3cml0aW5nQ2hlY2twb2ludCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zdGF0dXMgPSByZXN1bHQuc3RhdHVzIHx8ICdjb21wbGV0ZSc7XG4gICAgcmVzdWx0LmVuZF90aW1lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxO1xuICAgIHJlcGxpY2F0aW9uQ29tcGxldGVkID0gdHJ1ZTtcblxuICAgIGlmIChmYXRhbEVycm9yKSB7XG4gICAgICAvLyBuZWVkIHRvIGV4dGVuZCB0aGUgZXJyb3IgYmVjYXVzZSBGaXJlZm94IGNvbnNpZGVycyBcIi5yZXN1bHRcIiByZWFkLW9ubHlcbiAgICAgIGZhdGFsRXJyb3IgPSBjcmVhdGVFcnJvcihmYXRhbEVycm9yKTtcbiAgICAgIGZhdGFsRXJyb3IucmVzdWx0ID0gcmVzdWx0O1xuXG4gICAgICAvLyBOb3JtYWxpemUgZXJyb3IgbmFtZS4gaS5lLiAnVW5hdXRob3JpemVkJyAtPiAndW5hdXRob3JpemVkJyAoZWcgU3luYyBHYXRld2F5KVxuICAgICAgdmFyIGVycm9yTmFtZSA9IChmYXRhbEVycm9yLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoZXJyb3JOYW1lID09PSAndW5hdXRob3JpemVkJyB8fCBlcnJvck5hbWUgPT09ICdmb3JiaWRkZW4nKSB7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2Vycm9yJywgZmF0YWxFcnJvcik7XG4gICAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFja09mZihvcHRzLCByZXR1cm5WYWx1ZSwgZmF0YWxFcnJvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlcGxpY2F0ZShzcmMsIHRhcmdldCwgb3B0cywgcmV0dXJuVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY29tcGxldGUnLCByZXN1bHQpO1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZShjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0eXBlb2YgcGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHBlbmRpbmdCYXRjaC5wZW5kaW5nID0gcGVuZGluZztcbiAgICB9XG5cbiAgICB2YXIgZmlsdGVyID0gZmlsdGVyQ2hhbmdlKG9wdHMpKGNoYW5nZSk7XG4gICAgaWYgKCFmaWx0ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVuZGluZ0JhdGNoLnNlcSA9IGNoYW5nZS5zZXEgfHwgbGFzdFNlcTtcbiAgICBwZW5kaW5nQmF0Y2guY2hhbmdlcy5wdXNoKGNoYW5nZSk7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3BlbmRpbmdfYmF0Y2gnOiBwZW5kaW5nQmF0Y2guc2VxIH0pO1xuICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKGJhdGNoZXMubGVuZ3RoID09PSAwICYmIGNoYW5nZXNPcHRzLmxpdmUpO1xuICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZXNDb21wbGV0ZShjaGFuZ2VzKSB7XG4gICAgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIGlmIG5vIHJlc3VsdHMgd2VyZSByZXR1cm5lZCB0aGVuIHdlJ3JlIGRvbmUsXG4gICAgLy8gZWxzZSBmZXRjaCBtb3JlXG4gICAgaWYgKGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjaGFuZ2VzT3B0cy5zaW5jZSA9IGNoYW5nZXMucmVzdWx0c1tjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoIC0gMV0uc2VxO1xuICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250aW51b3VzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMubGl2ZSA9IHRydWU7XG4gICAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICAvLyB1cGRhdGUgdGhlIGNoZWNrcG9pbnQgc28gd2Ugc3RhcnQgZnJvbSB0aGUgcmlnaHQgc2VxIG5leHQgdGltZVxuICAgICAgaWYgKCFjdXJyZW50QmF0Y2ggJiYgY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICAgIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQoY2hhbmdlcy5sYXN0X3NlcSxcbiAgICAgICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXEgPSBjaGFuZ2VzLmxhc3Rfc2VxO1xuICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzRXJyb3IoZXJyKSB7XG4gICAgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cbiAgICBhYm9ydFJlcGxpY2F0aW9uKCdjaGFuZ2VzIHJlamVjdGVkJywgZXJyKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZ2V0Q2hhbmdlcygpIHtcbiAgICBpZiAoIShcbiAgICAgICFjaGFuZ2VzUGVuZGluZyAmJlxuICAgICAgIWNoYW5nZXNDb21wbGV0ZWQgJiZcbiAgICAgIGJhdGNoZXMubGVuZ3RoIDwgYmF0Y2hlc19saW1pdFxuICAgICAgKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGFuZ2VzUGVuZGluZyA9IHRydWU7XG4gICAgZnVuY3Rpb24gYWJvcnRDaGFuZ2VzKCkge1xuICAgICAgY2hhbmdlcy5jYW5jZWwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignY2FuY2VsJywgYWJvcnRDaGFuZ2VzKTtcbiAgICB9XG5cbiAgICBpZiAocmV0dXJuVmFsdWUuX2NoYW5nZXMpIHsgLy8gcmVtb3ZlIG9sZCBjaGFuZ2VzKCkgYW5kIGxpc3RlbmVyc1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMpO1xuICAgICAgcmV0dXJuVmFsdWUuX2NoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIHJldHVyblZhbHVlLm9uY2UoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG5cbiAgICB2YXIgY2hhbmdlcyA9IHNyYy5jaGFuZ2VzKGNoYW5nZXNPcHRzKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgY2hhbmdlcy50aGVuKHJlbW92ZUxpc3RlbmVyLCByZW1vdmVMaXN0ZW5lcik7XG4gICAgY2hhbmdlcy50aGVuKG9uQ2hhbmdlc0NvbXBsZXRlKVxuICAgICAgLmNhdGNoKG9uQ2hhbmdlc0Vycm9yKTtcblxuICAgIGlmIChvcHRzLnJldHJ5KSB7XG4gICAgICAvLyBzYXZlIGZvciBsYXRlciBzbyB3ZSBjYW4gY2FuY2VsIGlmIG5lY2Vzc2FyeVxuICAgICAgcmV0dXJuVmFsdWUuX2NoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgcmV0dXJuVmFsdWUuX2Fib3J0Q2hhbmdlcyA9IGFib3J0Q2hhbmdlcztcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHN0YXJ0Q2hhbmdlcygpIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLmdldENoZWNrcG9pbnQoKS50aGVuKGZ1bmN0aW9uIChjaGVja3BvaW50KSB7XG4gICAgICAgIGxhc3Rfc2VxID0gY2hlY2twb2ludDtcbiAgICAgICAgY2hhbmdlc09wdHMgPSB7XG4gICAgICAgICAgc2luY2U6IGxhc3Rfc2VxLFxuICAgICAgICAgIGxpbWl0OiBiYXRjaF9zaXplLFxuICAgICAgICAgIGJhdGNoX3NpemU6IGJhdGNoX3NpemUsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICAgIGRvY19pZHM6IGRvY19pZHMsXG4gICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICAgIHJldHVybl9kb2NzOiB0cnVlIC8vIHJlcXVpcmVkIHNvIHdlIGtub3cgd2hlbiB3ZSdyZSBkb25lXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLmZpbHRlcikge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBmb3IgdGhlIGNsaWVudC1zaWRlIGZpbHRlciBpbiBvbkNoYW5nZVxuICAgICAgICAgICAgY2hhbmdlc09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBkZG9jIGZpbHRlclxuICAgICAgICAgICAgY2hhbmdlc09wdHMuZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMudGltZW91dCA9IG9wdHMudGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5xdWVyeV9wYXJhbXMgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy52aWV3KSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMudmlldyA9IG9wdHMudmlldztcbiAgICAgICAgfVxuICAgICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBhYm9ydFJlcGxpY2F0aW9uKCdnZXRDaGVja3BvaW50IHJlamVjdGVkIHdpdGggJywgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIG9uQ2hlY2twb2ludEVycm9yKGVycikge1xuICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgYWJvcnRSZXBsaWNhdGlvbignd3JpdGVDaGVja3BvaW50IGNvbXBsZXRlZCB3aXRoIGVycm9yJywgZXJyKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7IC8vIGNhbmNlbGxlZCBpbW1lZGlhdGVseVxuICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXJldHVyblZhbHVlLl9hZGRlZExpc3RlbmVycykge1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2NhbmNlbCcsIGNvbXBsZXRlUmVwbGljYXRpb24pO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmNvbXBsZXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm5WYWx1ZS5vbmNlKCdlcnJvcicsIG9wdHMuY29tcGxldGUpO1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnY29tcGxldGUnLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRzLnNpbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHN0YXJ0Q2hhbmdlcygpO1xuICB9IGVsc2Uge1xuICAgIGluaXRDaGVja3BvaW50ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KG9wdHMuc2luY2UsIHNlc3Npb24pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxhc3Rfc2VxID0gb3B0cy5zaW5jZTtcbiAgICAgIHN0YXJ0Q2hhbmdlcygpO1xuICAgIH0pLmNhdGNoKG9uQ2hlY2twb2ludEVycm9yKTtcbiAgfVxufVxuXG4vLyBXZSBjcmVhdGUgYSBiYXNpYyBwcm9taXNlIHNvIHRoZSBjYWxsZXIgY2FuIGNhbmNlbCB0aGUgcmVwbGljYXRpb24gcG9zc2libHlcbi8vIGJlZm9yZSB3ZSBoYXZlIGFjdHVhbGx5IHN0YXJ0ZWQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgZXRjXG5pbmhlcml0cyhSZXBsaWNhdGlvbiwgRUUpO1xuZnVuY3Rpb24gUmVwbGljYXRpb24oKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG4gIHRoaXMuc3RhdGUgPSAncGVuZGluZyc7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgc2VsZi5vbmNlKCdjb21wbGV0ZScsIGZ1bGZpbGwpO1xuICAgIHNlbGYub25jZSgnZXJyb3InLCByZWplY3QpO1xuICB9KTtcbiAgc2VsZi50aGVuID0gZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgfTtcbiAgc2VsZi5jYXRjaCA9IGZ1bmN0aW9uIChyZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChyZWplY3QpO1xuICB9O1xuICAvLyBBcyB3ZSBhbGxvdyBlcnJvciBoYW5kbGluZyB2aWEgXCJlcnJvclwiIGV2ZW50IGFzIHdlbGwsXG4gIC8vIHB1dCBhIHN0dWIgaW4gaGVyZSBzbyB0aGF0IHJlamVjdGluZyBuZXZlciB0aHJvd3MgVW5oYW5kbGVkRXJyb3IuXG4gIHNlbGYuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xufVxuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XG4gIHRoaXMuc3RhdGUgPSAnY2FuY2VsbGVkJztcbiAgdGhpcy5lbWl0KCdjYW5jZWwnKTtcbn07XG5cblJlcGxpY2F0aW9uLnByb3RvdHlwZS5yZWFkeSA9IGZ1bmN0aW9uIChzcmMsIHRhcmdldCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChzZWxmLl9yZWFkeUNhbGxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9yZWFkeUNhbGxlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgc3JjLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIHRhcmdldC5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgICB0YXJnZXQucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIH1cbiAgc2VsZi5vbmNlKCdjb21wbGV0ZScsIGNsZWFudXApO1xuICBzZWxmLm9uY2UoJ2Vycm9yJywgY2xlYW51cCk7XG59O1xuXG5mdW5jdGlvbiB0b1BvdWNoKGRiLCBvcHRzKSB7XG4gIHZhciBQb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yO1xuICBpZiAodHlwZW9mIGRiID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBuZXcgUG91Y2hDb25zdHJ1Y3RvcihkYiwgb3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRiO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgaWYgKG9wdHMuZG9jX2lkcyAmJiAhQXJyYXkuaXNBcnJheShvcHRzLmRvY19pZHMpKSB7XG4gICAgdGhyb3cgY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiYGRvY19pZHNgIGZpbHRlciBwYXJhbWV0ZXIgaXMgbm90IGEgbGlzdC5cIik7XG4gIH1cblxuICBvcHRzLmNvbXBsZXRlID0gY2FsbGJhY2s7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgb3B0cy5jb250aW51b3VzID0gb3B0cy5jb250aW51b3VzIHx8IG9wdHMubGl2ZTtcbiAgb3B0cy5yZXRyeSA9ICgncmV0cnknIGluIG9wdHMpID8gb3B0cy5yZXRyeSA6IGZhbHNlO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgdmFyIHJlcGxpY2F0ZVJldCA9IG5ldyBSZXBsaWNhdGlvbihvcHRzKTtcbiAgdmFyIHNyY1BvdWNoID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB2YXIgdGFyZ2V0UG91Y2ggPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJlcGxpY2F0ZShzcmNQb3VjaCwgdGFyZ2V0UG91Y2gsIG9wdHMsIHJlcGxpY2F0ZVJldCk7XG4gIHJldHVybiByZXBsaWNhdGVSZXQ7XG59XG5cbmluaGVyaXRzKFN5bmMsIEVFKTtcbmZ1bmN0aW9uIHN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIG9wdHMuUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvciB8fCB0aGlzO1xuICBzcmMgPSB0b1BvdWNoKHNyYywgb3B0cyk7XG4gIHRhcmdldCA9IHRvUG91Y2godGFyZ2V0LCBvcHRzKTtcbiAgcmV0dXJuIG5ldyBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIFN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlO1xuXG4gIHZhciBvcHRzUHVzaCA9IG9wdHMucHVzaCA/ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgb3B0cywgb3B0cy5wdXNoKSA6IG9wdHM7XG4gIHZhciBvcHRzUHVsbCA9IG9wdHMucHVsbCA/ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgb3B0cywgb3B0cy5wdWxsKSA6IG9wdHM7XG5cbiAgdGhpcy5wdXNoID0gcmVwbGljYXRlV3JhcHBlcihzcmMsIHRhcmdldCwgb3B0c1B1c2gpO1xuICB0aGlzLnB1bGwgPSByZXBsaWNhdGVXcmFwcGVyKHRhcmdldCwgc3JjLCBvcHRzUHVsbCk7XG5cbiAgdGhpcy5wdXNoUGF1c2VkID0gdHJ1ZTtcbiAgdGhpcy5wdWxsUGF1c2VkID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBwdWxsQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVsbCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hDaGFuZ2UoY2hhbmdlKSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGNoYW5nZTogY2hhbmdlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1c2gnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdWxsRGVuaWVkKGRvYykge1xuICAgIHNlbGYuZW1pdCgnZGVuaWVkJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVsbCcsXG4gICAgICBkb2M6IGRvY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hQYXVzZWQoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gdHJ1ZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdWxsUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdWxsUGF1c2VkKCkge1xuICAgIHNlbGYucHVsbFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVzaFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVzaEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1c2hQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdWxsUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVzaCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdWxsQWN0aXZlKCkge1xuICAgIHNlbGYucHVsbFBhdXNlZCA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgnYWN0aXZlJywge1xuICAgICAgICBkaXJlY3Rpb246ICdwdWxsJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlbW92ZWQgPSB7fTtcblxuICBmdW5jdGlvbiByZW1vdmVBbGwodHlwZSkgeyAvLyB0eXBlIGlzICdwdXNoJyBvciAncHVsbCdcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XG4gICAgICB2YXIgaXNDaGFuZ2UgPSBldmVudCA9PT0gJ2NoYW5nZScgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxDaGFuZ2UgfHwgZnVuYyA9PT0gcHVzaENoYW5nZSk7XG4gICAgICB2YXIgaXNEZW5pZWQgPSBldmVudCA9PT0gJ2RlbmllZCcgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxEZW5pZWQgfHwgZnVuYyA9PT0gcHVzaERlbmllZCk7XG4gICAgICB2YXIgaXNQYXVzZWQgPSBldmVudCA9PT0gJ3BhdXNlZCcgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxQYXVzZWQgfHwgZnVuYyA9PT0gcHVzaFBhdXNlZCk7XG4gICAgICB2YXIgaXNBY3RpdmUgPSBldmVudCA9PT0gJ2FjdGl2ZScgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxBY3RpdmUgfHwgZnVuYyA9PT0gcHVzaEFjdGl2ZSk7XG5cbiAgICAgIGlmIChpc0NoYW5nZSB8fCBpc0RlbmllZCB8fCBpc1BhdXNlZCB8fCBpc0FjdGl2ZSkge1xuICAgICAgICBpZiAoIShldmVudCBpbiByZW1vdmVkKSkge1xuICAgICAgICAgIHJlbW92ZWRbZXZlbnRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlZFtldmVudF1bdHlwZV0gPSB0cnVlO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVtb3ZlZFtldmVudF0pLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIC8vIGJvdGggcHVzaCBhbmQgcHVsbCBoYXZlIGFza2VkIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaWYgKG9wdHMubGl2ZSkge1xuICAgIHRoaXMucHVzaC5vbignY29tcGxldGUnLCBzZWxmLnB1bGwuY2FuY2VsLmJpbmQoc2VsZi5wdWxsKSk7XG4gICAgdGhpcy5wdWxsLm9uKCdjb21wbGV0ZScsIHNlbGYucHVzaC5jYW5jZWwuYmluZChzZWxmLnB1c2gpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uZUxpc3RlbmVyKGVlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoZWUubGlzdGVuZXJzKGV2ZW50KS5pbmRleE9mKGxpc3RlbmVyKSA9PSAtMSkge1xuICAgICAgZWUub24oZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLm9uKCduZXdMaXN0ZW5lcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnY2hhbmdlJywgcHVzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2RlbmllZCcpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2RlbmllZCcsIHB1bGxEZW5pZWQpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2FjdGl2ZScsIHB1bGxBY3RpdmUpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnYWN0aXZlJywgcHVzaEFjdGl2ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAncGF1c2VkJywgcHVzaFBhdXNlZCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLm9uKCdyZW1vdmVMaXN0ZW5lcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgcHVsbENoYW5nZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2RlbmllZCcsIHB1bGxEZW5pZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdXNoRGVuaWVkKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnYWN0aXZlJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVzaEFjdGl2ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcigncGF1c2VkJywgcHVsbFBhdXNlZCk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5wdWxsLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHJlbW92ZUFsbCgncHVsbCcpKTtcbiAgdGhpcy5wdXNoLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHJlbW92ZUFsbCgncHVzaCcpKTtcblxuICB2YXIgcHJvbWlzZSA9IFByb21pc2UuYWxsKFtcbiAgICB0aGlzLnB1c2gsXG4gICAgdGhpcy5wdWxsXG4gIF0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICB2YXIgb3V0ID0ge1xuICAgICAgcHVzaDogcmVzcFswXSxcbiAgICAgIHB1bGw6IHJlc3BbMV1cbiAgICB9O1xuICAgIHNlbGYuZW1pdCgnY29tcGxldGUnLCBvdXQpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gb3V0O1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3MgYSBjYWxsYmFjaywgdGhlbiB0aGUgY2FsbGJhY2sgY2FuIHJlY2VpdmVcbiAgICAgIC8vIHRoZSBlcnJvciBldmVudFxuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgdGhlcmUncyBubyBjYWxsYmFjaywgdGhlbiB3ZSdyZSBzYWZlIHRvIGVtaXQgYW4gZXJyb3JcbiAgICAgIC8vIGV2ZW50LCB3aGljaCB3b3VsZCBvdGhlcndpc2UgdGhyb3cgYW4gdW5oYW5kbGVkIGVycm9yXG4gICAgICAvLyBkdWUgdG8gJ2Vycm9yJyBiZWluZyBhIHNwZWNpYWwgZXZlbnQgaW4gRXZlbnRFbWl0dGVyc1xuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBubyBzZW5zZSB0aHJvd2luZyBpZiB3ZSdyZSBhbHJlYWR5IGVtaXR0aW5nIGFuICdlcnJvcicgZXZlbnRcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMudGhlbiA9IGZ1bmN0aW9uIChzdWNjZXNzLCBlcnIpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGVycik7XG4gIH07XG5cbiAgdGhpcy5jYXRjaCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChlcnIpO1xuICB9O1xufVxuXG5TeW5jLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5jYW5jZWxlZCkge1xuICAgIHRoaXMuY2FuY2VsZWQgPSB0cnVlO1xuICAgIHRoaXMucHVzaC5jYW5jZWwoKTtcbiAgICB0aGlzLnB1bGwuY2FuY2VsKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlcGxpY2F0aW9uKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5yZXBsaWNhdGUgPSByZXBsaWNhdGVXcmFwcGVyO1xuICBQb3VjaERCLnN5bmMgPSBzeW5jO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3VjaERCLnByb3RvdHlwZSwgJ3JlcGxpY2F0ZScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXBsaWNhdGVNZXRob2RzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnJlcGxpY2F0ZU1ldGhvZHMgPSB7XG4gICAgICAgICAgZnJvbTogZnVuY3Rpb24gKG90aGVyLCBvcHRzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uc3RydWN0b3IucmVwbGljYXRlKG90aGVyLCBzZWxmLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0bzogZnVuY3Rpb24gKG90aGVyLCBvcHRzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uc3RydWN0b3IucmVwbGljYXRlKHNlbGYsIG90aGVyLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVwbGljYXRlTWV0aG9kcztcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoREIucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbiAoZGJOYW1lLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnN5bmModGhpcywgZGJOYW1lLCBvcHRzLCBjYWxsYmFjayk7XG4gIH07XG59XG5cblBvdWNoREIucGx1Z2luKElEQlBvdWNoKVxuICAucGx1Z2luKEh0dHBQb3VjaCQxKVxuICAucGx1Z2luKG1hcHJlZHVjZSlcbiAgLnBsdWdpbihyZXBsaWNhdGlvbik7XG5cbi8vIFB1bGwgZnJvbSBzcmMgYmVjYXVzZSBwb3VjaGRiLW5vZGUvcG91Y2hkYi1icm93c2VyIHRoZW1zZWx2ZXNcblxuZXhwb3J0IGRlZmF1bHQgUG91Y2hEQjtcbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnOyAvLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xuXG52YXIgX2Nsb2Nrc2VxOyAvLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcblxuXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7IC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5cbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTsgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG5cbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW3NlZWRCeXRlc1swXSB8IDB4MDEsIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXTtcbiAgICB9XG5cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH0gLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG5cblxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogRGF0ZS5ub3coKTsgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTsgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuXG4gIHZhciBkdCA9IG1zZWNzIC0gX2xhc3RNU2VjcyArIChuc2VjcyAtIF9sYXN0TlNlY3MpIC8gMTAwMDA7IC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9IC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcblxuXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9IC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcblxuXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxOyAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcblxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDsgLy8gYHRpbWVfbG93YFxuXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICB2YXIgdG1oID0gbXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmOyAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjsgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG5cbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwOyAvLyBgY2xvY2tfc2VxX2xvd2BcblxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7IC8vIGBub2RlYFxuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBzdHJpbmdpZnkoYik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHYxOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gcGFyc2UodXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIHZhciB2O1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBQYXJzZSAjIyMjIyMjIy0uLi4uLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMCwgOCksIDE2KSkgPj4+IDI0O1xuICBhcnJbMV0gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsyXSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbM10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tIyMjIy0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzRdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDksIDEzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzVdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tIyMjIy0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls2XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxNCwgMTgpLCAxNikpID4+PiA4O1xuICBhcnJbN10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLSMjIyMtLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzhdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE5LCAyMyksIDE2KSkgPj4+IDg7XG4gIGFycls5XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tLi4uLi0jIyMjIyMjIyMjIyNcbiAgLy8gKFVzZSBcIi9cIiB0byBhdm9pZCAzMi1iaXQgdHJ1bmNhdGlvbiB3aGVuIGJpdC1zaGlmdGluZyBoaWdoLW9yZGVyIGJ5dGVzKVxuXG4gIGFyclsxMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMjQsIDM2KSwgMTYpKSAvIDB4MTAwMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTFdID0gdiAvIDB4MTAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzEyXSA9IHYgPj4+IDI0ICYgMHhmZjtcbiAgYXJyWzEzXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzE0XSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbMTVdID0gdiAmIDB4ZmY7XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlOyIsImltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuXG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgdmFyIGJ5dGVzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuXG4gIHJldHVybiBieXRlcztcbn1cblxuZXhwb3J0IHZhciBETlMgPSAnNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCB2YXIgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAobmFtZSwgdmVyc2lvbiwgaGFzaGZ1bmMpIHtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lc3BhY2UgPSBwYXJzZShuYW1lc3BhY2UpO1xuICAgIH1cblxuICAgIGlmIChuYW1lc3BhY2UubGVuZ3RoICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfSAvLyBDb21wdXRlIGhhc2ggb2YgbmFtZXNwYWNlIGFuZCB2YWx1ZSwgUGVyIDQuM1xuICAgIC8vIEZ1dHVyZTogVXNlIHNwcmVhZCBzeW50YXggd2hlbiBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3JtcywgZS5nLiBgYnl0ZXMgPVxuICAgIC8vIGhhc2hmdW5jKFsuLi5uYW1lc3BhY2UsIC4uLiB2YWx1ZV0pYFxuXG5cbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gICAgaWYgKGJ1Zikge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5naWZ5KGJ5dGVzKTtcbiAgfSAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcblxuXG4gIHRyeSB7XG4gICAgZ2VuZXJhdGVVVUlELm5hbWUgPSBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgfSBjYXRjaCAoZXJyKSB7fSAvLyBGb3IgQ29tbW9uSlMgZGVmYXVsdCBleHBvcnQgc3VwcG9ydFxuXG5cbiAgZ2VuZXJhdGVVVUlELkROUyA9IEROUztcbiAgZ2VuZXJhdGVVVUlELlVSTCA9IFVSTDtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRDtcbn0iLCIvKlxuICogQnJvd3Nlci1jb21wYXRpYmxlIEphdmFTY3JpcHQgTUQ1XG4gKlxuICogTW9kaWZpY2F0aW9uIG9mIEphdmFTY3JpcHQgTUQ1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9KYXZhU2NyaXB0LU1ENVxuICpcbiAqIENvcHlyaWdodCAyMDExLCBTZWJhc3RpYW4gVHNjaGFuXG4gKiBodHRwczovL2JsdWVpbXAubmV0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBCYXNlZCBvblxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBSU0EgRGF0YSBTZWN1cml0eSwgSW5jLiBNRDUgTWVzc2FnZVxuICogRGlnZXN0IEFsZ29yaXRobSwgYXMgZGVmaW5lZCBpbiBSRkMgMTMyMS5cbiAqIFZlcnNpb24gMi4yIENvcHlyaWdodCAoQykgUGF1bCBKb2huc3RvbiAxOTk5IC0gMjAwOVxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gKiBTZWUgaHR0cDovL3BhamhvbWUub3JnLnVrL2NyeXB0L21kNSBmb3IgbW9yZSBpbmZvLlxuICovXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbXNnID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGJ5dGVzKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KG1zZy5sZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyArK2kpIHtcbiAgICAgIGJ5dGVzW2ldID0gbXNnLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1kNVRvSGV4RW5jb2RlZEFycmF5KHdvcmRzVG9NZDUoYnl0ZXNUb1dvcmRzKGJ5dGVzKSwgYnl0ZXMubGVuZ3RoICogOCkpO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcyB0byBhbiBhcnJheSBvZiBieXRlc1xuICovXG5cblxuZnVuY3Rpb24gbWQ1VG9IZXhFbmNvZGVkQXJyYXkoaW5wdXQpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICB2YXIgbGVuZ3RoMzIgPSBpbnB1dC5sZW5ndGggKiAzMjtcbiAgdmFyIGhleFRhYiA9ICcwMTIzNDU2Nzg5YWJjZGVmJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDMyOyBpICs9IDgpIHtcbiAgICB2YXIgeCA9IGlucHV0W2kgPj4gNV0gPj4+IGkgJSAzMiAmIDB4ZmY7XG4gICAgdmFyIGhleCA9IHBhcnNlSW50KGhleFRhYi5jaGFyQXQoeCA+Pj4gNCAmIDB4MGYpICsgaGV4VGFiLmNoYXJBdCh4ICYgMHgwZiksIDE2KTtcbiAgICBvdXRwdXQucHVzaChoZXgpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIG91dHB1dCBsZW5ndGggd2l0aCBwYWRkaW5nIGFuZCBiaXQgbGVuZ3RoXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRPdXRwdXRMZW5ndGgoaW5wdXRMZW5ndGg4KSB7XG4gIHJldHVybiAoaW5wdXRMZW5ndGg4ICsgNjQgPj4+IDkgPDwgNCkgKyAxNCArIDE7XG59XG4vKlxuICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHdvcmRzVG9NZDUoeCwgbGVuKSB7XG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gIHhbbGVuID4+IDVdIHw9IDB4ODAgPDwgbGVuICUgMzI7XG4gIHhbZ2V0T3V0cHV0TGVuZ3RoKGxlbikgLSAxXSA9IGxlbjtcbiAgdmFyIGEgPSAxNzMyNTg0MTkzO1xuICB2YXIgYiA9IC0yNzE3MzM4Nzk7XG4gIHZhciBjID0gLTE3MzI1ODQxOTQ7XG4gIHZhciBkID0gMjcxNzMzODc4O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICB2YXIgb2xkYSA9IGE7XG4gICAgdmFyIG9sZGIgPSBiO1xuICAgIHZhciBvbGRjID0gYztcbiAgICB2YXIgb2xkZCA9IGQ7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaV0sIDcsIC02ODA4NzY5MzYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTcsIDYwNjEwNTgxOSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5Nyk7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDVdLCAxMiwgMTIwMDA4MDQyNik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4Myk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA3LCAxNzcwMDM1NDE2KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgOV0sIDEyLCAtMTk1ODQxNDQxNyk7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2Myk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDExXSwgMjIsIC0xOTkwNDA0MTYyKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA3LCAxODA0NjAzNjgyKTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNywgLTE1MDIwMDIyOTApO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxNV0sIDIyLCAxMjM2NTM1MzI5KTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMV0sIDUsIC0xNjU3OTY1MTApO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyA2XSwgOSwgLTEwNjk1MDE2MzIpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE0LCA2NDM3MTc3MTMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2ldLCAyMCwgLTM3Mzg5NzMwMik7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA1LCAtNzAxNTU4NjkxKTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTBdLCA5LCAzODAxNjA4Myk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTQsIC02NjA0NzgzMzUpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA0XSwgMjAsIC00MDU1Mzc4NDgpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNSwgNTY4NDQ2NDM4KTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTRdLCA5LCAtMTAxOTgwMzY5MCk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDhdLCAyMCwgMTE2MzUzMTUwMSk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNSwgLTE0NDQ2ODE0NjcpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAyXSwgOSwgLTUxNDAzNzg0KTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgN10sIDE0LCAxNzM1MzI4NDczKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgMTJdLCAyMCwgLTE5MjY2MDc3MzQpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNCwgLTM3ODU1OCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDhdLCAxMSwgLTIwMjI1NzQ0NjMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE2LCAxODM5MDMwNTYyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTRdLCAyMywgLTM1MzA5NTU2KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMV0sIDQsIC0xNTMwOTkyMDYwKTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgNF0sIDExLCAxMjcyODkzMzUzKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgN10sIDE2LCAtMTU1NDk3NjMyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTBdLCAyMywgLTEwOTQ3MzA2NDApO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDQsIDY4MTI3OTE3NCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaV0sIDExLCAtMzU4NTM3MjIyKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgM10sIDE2LCAtNzIyNTIxOTc5KTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgNl0sIDIzLCA3NjAyOTE4OSk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDldLCA0LCAtNjQwMzY0NDg3KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgMTJdLCAxMSwgLTQyMTgxNTgzNSk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTYsIDUzMDc0MjUyMCk7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDJdLCAyMywgLTk5NTMzODY1MSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaV0sIDYsIC0xOTg2MzA4NDQpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDVdLCAyMSwgLTU3NDM0MDU1KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgM10sIDEwLCAtMTg5NDk4NjYwNik7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTUsIC0xMDUxNTIzKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA2LCAxODczMzEzMzU5KTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTVdLCAxMCwgLTMwNjExNzQ0KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MCk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDEzXSwgMjEsIDEzMDkxNTE2NDkpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNiwgLTE0NTUyMzA3MCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE1LCA3MTg3ODcyNTkpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xuICAgIGEgPSBzYWZlQWRkKGEsIG9sZGEpO1xuICAgIGIgPSBzYWZlQWRkKGIsIG9sZGIpO1xuICAgIGMgPSBzYWZlQWRkKGMsIG9sZGMpO1xuICAgIGQgPSBzYWZlQWRkKGQsIG9sZGQpO1xuICB9XG5cbiAgcmV0dXJuIFthLCBiLCBjLCBkXTtcbn1cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IGJ5dGVzIHRvIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHNcbiAqIENoYXJhY3RlcnMgPjI1NSBoYXZlIHRoZWlyIGhpZ2gtYnl0ZSBzaWxlbnRseSBpZ25vcmVkLlxuICovXG5cblxuZnVuY3Rpb24gYnl0ZXNUb1dvcmRzKGlucHV0KSB7XG4gIGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgbGVuZ3RoOCA9IGlucHV0Lmxlbmd0aCAqIDg7XG4gIHZhciBvdXRwdXQgPSBuZXcgVWludDMyQXJyYXkoZ2V0T3V0cHV0TGVuZ3RoKGxlbmd0aDgpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDg7IGkgKz0gOCkge1xuICAgIG91dHB1dFtpID4+IDVdIHw9IChpbnB1dFtpIC8gOF0gJiAweGZmKSA8PCBpICUgMzI7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLypcbiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcbiAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gKi9cblxuXG5mdW5jdGlvbiBzYWZlQWRkKHgsIHkpIHtcbiAgdmFyIGxzdyA9ICh4ICYgMHhmZmZmKSArICh5ICYgMHhmZmZmKTtcbiAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICByZXR1cm4gbXN3IDw8IDE2IHwgbHN3ICYgMHhmZmZmO1xufVxuLypcbiAqIEJpdHdpc2Ugcm90YXRlIGEgMzItYml0IG51bWJlciB0byB0aGUgbGVmdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJpdFJvdGF0ZUxlZnQobnVtLCBjbnQpIHtcbiAgcmV0dXJuIG51bSA8PCBjbnQgfCBudW0gPj4+IDMyIC0gY250O1xufVxuLypcbiAqIFRoZXNlIGZ1bmN0aW9ucyBpbXBsZW1lbnQgdGhlIGZvdXIgYmFzaWMgb3BlcmF0aW9ucyB0aGUgYWxnb3JpdGhtIHVzZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVjbW4ocSwgYSwgYiwgeCwgcywgdCkge1xuICByZXR1cm4gc2FmZUFkZChiaXRSb3RhdGVMZWZ0KHNhZmVBZGQoc2FmZUFkZChhLCBxKSwgc2FmZUFkZCh4LCB0KSksIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gbWQ1ZmYoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBjIHwgfmIgJiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1Z2coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBkIHwgYyAmIH5kLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aGgoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgXiBjIF4gZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWlpKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihjIF4gKGIgfCB+ZCksIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZDU7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgbWQ1IGZyb20gJy4vbWQ1LmpzJztcbnZhciB2MyA9IHYzNSgndjMnLCAweDMwLCBtZDUpO1xuZXhwb3J0IGRlZmF1bHQgdjM7IiwiLy8gQWRhcHRlZCBmcm9tIENocmlzIFZlbmVzcycgU0hBMSBjb2RlIGF0XG4vLyBodHRwOi8vd3d3Lm1vdmFibGUtdHlwZS5jby51ay9zY3JpcHRzL3NoYTEuaHRtbFxuZnVuY3Rpb24gZihzLCB4LCB5LCB6KSB7XG4gIHN3aXRjaCAocykge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiB4ICYgeSBeIH54ICYgejtcblxuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG5cbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4geCAmIHkgXiB4ICYgeiBeIHkgJiB6O1xuXG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcbiAgfVxufVxuXG5mdW5jdGlvbiBST1RMKHgsIG4pIHtcbiAgcmV0dXJuIHggPDwgbiB8IHggPj4+IDMyIC0gbjtcbn1cblxuZnVuY3Rpb24gc2hhMShieXRlcykge1xuICB2YXIgSyA9IFsweDVhODI3OTk5LCAweDZlZDllYmExLCAweDhmMWJiY2RjLCAweGNhNjJjMWQ2XTtcbiAgdmFyIEggPSBbMHg2NzQ1MjMwMSwgMHhlZmNkYWI4OSwgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3NiwgMHhjM2QyZTFmMF07XG5cbiAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbXNnID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGJ5dGVzKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgICBieXRlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyArK2kpIHtcbiAgICAgIGJ5dGVzLnB1c2gobXNnLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShieXRlcykpIHtcbiAgICAvLyBDb252ZXJ0IEFycmF5LWxpa2UgdG8gQXJyYXlcbiAgICBieXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGJ5dGVzKTtcbiAgfVxuXG4gIGJ5dGVzLnB1c2goMHg4MCk7XG4gIHZhciBsID0gYnl0ZXMubGVuZ3RoIC8gNCArIDI7XG4gIHZhciBOID0gTWF0aC5jZWlsKGwgLyAxNik7XG4gIHZhciBNID0gbmV3IEFycmF5KE4pO1xuXG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBOOyArK19pKSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50MzJBcnJheSgxNik7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyArK2opIHtcbiAgICAgIGFycltqXSA9IGJ5dGVzW19pICogNjQgKyBqICogNF0gPDwgMjQgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAxXSA8PCAxNiB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDJdIDw8IDggfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAzXTtcbiAgICB9XG5cbiAgICBNW19pXSA9IGFycjtcbiAgfVxuXG4gIE1bTiAtIDFdWzE0XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggLyBNYXRoLnBvdygyLCAzMik7XG4gIE1bTiAtIDFdWzE0XSA9IE1hdGguZmxvb3IoTVtOIC0gMV1bMTRdKTtcbiAgTVtOIC0gMV1bMTVdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAmIDB4ZmZmZmZmZmY7XG5cbiAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgTjsgKytfaTIpIHtcbiAgICB2YXIgVyA9IG5ldyBVaW50MzJBcnJheSg4MCk7XG5cbiAgICBmb3IgKHZhciB0ID0gMDsgdCA8IDE2OyArK3QpIHtcbiAgICAgIFdbdF0gPSBNW19pMl1bdF07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX3QgPSAxNjsgX3QgPCA4MDsgKytfdCkge1xuICAgICAgV1tfdF0gPSBST1RMKFdbX3QgLSAzXSBeIFdbX3QgLSA4XSBeIFdbX3QgLSAxNF0gXiBXW190IC0gMTZdLCAxKTtcbiAgICB9XG5cbiAgICB2YXIgYSA9IEhbMF07XG4gICAgdmFyIGIgPSBIWzFdO1xuICAgIHZhciBjID0gSFsyXTtcbiAgICB2YXIgZCA9IEhbM107XG4gICAgdmFyIGUgPSBIWzRdO1xuXG4gICAgZm9yICh2YXIgX3QyID0gMDsgX3QyIDwgODA7ICsrX3QyKSB7XG4gICAgICB2YXIgcyA9IE1hdGguZmxvb3IoX3QyIC8gMjApO1xuICAgICAgdmFyIFQgPSBST1RMKGEsIDUpICsgZihzLCBiLCBjLCBkKSArIGUgKyBLW3NdICsgV1tfdDJdID4+PiAwO1xuICAgICAgZSA9IGQ7XG4gICAgICBkID0gYztcbiAgICAgIGMgPSBST1RMKGIsIDMwKSA+Pj4gMDtcbiAgICAgIGIgPSBhO1xuICAgICAgYSA9IFQ7XG4gICAgfVxuXG4gICAgSFswXSA9IEhbMF0gKyBhID4+PiAwO1xuICAgIEhbMV0gPSBIWzFdICsgYiA+Pj4gMDtcbiAgICBIWzJdID0gSFsyXSArIGMgPj4+IDA7XG4gICAgSFszXSA9IEhbM10gKyBkID4+PiAwO1xuICAgIEhbNF0gPSBIWzRdICsgZSA+Pj4gMDtcbiAgfVxuXG4gIHJldHVybiBbSFswXSA+PiAyNCAmIDB4ZmYsIEhbMF0gPj4gMTYgJiAweGZmLCBIWzBdID4+IDggJiAweGZmLCBIWzBdICYgMHhmZiwgSFsxXSA+PiAyNCAmIDB4ZmYsIEhbMV0gPj4gMTYgJiAweGZmLCBIWzFdID4+IDggJiAweGZmLCBIWzFdICYgMHhmZiwgSFsyXSA+PiAyNCAmIDB4ZmYsIEhbMl0gPj4gMTYgJiAweGZmLCBIWzJdID4+IDggJiAweGZmLCBIWzJdICYgMHhmZiwgSFszXSA+PiAyNCAmIDB4ZmYsIEhbM10gPj4gMTYgJiAweGZmLCBIWzNdID4+IDggJiAweGZmLCBIWzNdICYgMHhmZiwgSFs0XSA+PiAyNCAmIDB4ZmYsIEhbNF0gPj4gMTYgJiAweGZmLCBIWzRdID4+IDggJiAweGZmLCBIWzRdICYgMHhmZl07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoYTE7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgc2hhMSBmcm9tICcuL3NoYTEuanMnO1xudmFyIHY1ID0gdjM1KCd2NScsIDB4NTAsIHNoYTEpO1xuZXhwb3J0IGRlZmF1bHQgdjU7IiwiZXhwb3J0IGRlZmF1bHQgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCc7IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiB2ZXJzaW9uKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VJbnQodXVpZC5zdWJzdHIoMTQsIDEpLCAxNik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZlcnNpb247IiwiLyoqXHJcbiogdmtCZWF1dGlmeSAtIGphdmFzY3JpcHQgcGx1Z2luIHRvIHByZXR0eS1wcmludCBvciBtaW5pZnkgdGV4dCBpbiBYTUwsIEpTT04sIENTUyBhbmQgU1FMIGZvcm1hdHMuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTIgVmFkaW0gS2lyeXVraGluXHJcbiogdmtpcnl1a2hpbiBAIGdtYWlsLmNvbVxyXG4qIGh0dHA6Ly93d3cuZXNsaW5zdHJ1Y3Rvci5uZXQvdmtiZWF1dGlmeS9cclxuKlxyXG4qIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzOlxyXG4qICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuKiAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxyXG4qXHJcbiogICBQcmV0dHkgcHJpbnRcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbCh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29uKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzcyh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbipcclxuKiAgICAgICAgQHRleHQgLSBTdHJpbmc7IHRleHQgdG8gYmVhdHVmeTtcclxuKiAgICAgICAgQGluZGVudF9wYXR0ZXJuIC0gSW50ZWdlciB8IFN0cmluZztcclxuKiAgICAgICAgICAgICAgICBJbnRlZ2VyOiAgbnVtYmVyIG9mIHdoaXRlIHNwYWNlcztcclxuKiAgICAgICAgICAgICAgICBTdHJpbmc6ICAgY2hhcmFjdGVyIHN0cmluZyB0byB2aXN1YWxpemUgaW5kZW50YXRpb24gKCBjYW4gYWxzbyBiZSBhIHNldCBvZiB3aGl0ZSBzcGFjZXMgKVxyXG4qICAgTWluaWZ5XHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWxtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3NtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsbWluKHRleHQpO1xyXG4qXHJcbiogICAgICAgIEB0ZXh0IC0gU3RyaW5nOyB0ZXh0IHRvIG1pbmlmeTtcclxuKiAgICAgICAgQHByZXNlcnZlX2NvbW1lbnRzIC0gQm9vbDsgW29wdGlvbmFsXTtcclxuKiAgICAgICAgICAgICAgICBTZXQgdGhpcyBmbGFnIHRvIHRydWUgdG8gcHJldmVudCByZW1vdmluZyBjb21tZW50cyBmcm9tIEB0ZXh0ICggbWlueG1sIGFuZCBtaW5jc3MgZnVuY3Rpb25zIG9ubHkuIClcclxuKlxyXG4qICAgRXhhbXBsZXM6XHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sKHRleHQpOyAvLyBwcmV0dHkgcHJpbnQgWE1MXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbih0ZXh0LCA0ICk7IC8vIHByZXR0eSBwcmludCBKU09OXHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzKHRleHQsICcuIC4gLiAuJyk7IC8vIHByZXR0eSBwcmludCBDU1NcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCwgJy0tLS0nKTsgLy8gcHJldHR5IHByaW50IFNRTFxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sbWluKHRleHQsIHRydWUpOy8vIG1pbmlmeSBYTUwsIHByZXNlcnZlIGNvbW1lbnRzXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTsvLyBtaW5pZnkgSlNPTlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzc21pbih0ZXh0KTsvLyBtaW5pZnkgQ1NTLCByZW1vdmUgY29tbWVudHMgKCBkZWZhdWx0IClcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWxtaW4odGV4dCk7Ly8gbWluaWZ5IFNRTFxyXG4qXHJcbiovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIHtcclxuXHJcblx0dmFyIHNwYWNlID0gJyAgICAnO1xyXG5cclxuXHRpZiAoIGlzTmFOKHBhcnNlSW50KHN0ZXApKSApIHsgIC8vIGFyZ3VtZW50IGlzIHN0cmluZ1xyXG5cdFx0c3BhY2UgPSBzdGVwO1xyXG5cdH0gZWxzZSB7IC8vIGFyZ3VtZW50IGlzIGludGVnZXJcclxuXHRcdHN3aXRjaChzdGVwKSB7XHJcblx0XHRcdGNhc2UgMTogc3BhY2UgPSAnICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDI6IHNwYWNlID0gJyAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMzogc3BhY2UgPSAnICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNDogc3BhY2UgPSAnICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDU6IHNwYWNlID0gJyAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNjogc3BhY2UgPSAnICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNzogc3BhY2UgPSAnICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDg6IHNwYWNlID0gJyAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgOTogc3BhY2UgPSAnICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTA6IHNwYWNlID0gJyAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMTogc3BhY2UgPSAnICAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMjogc3BhY2UgPSAnICAgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgc2hpZnQgPSBbJ1xcbiddOyAvLyBhcnJheSBvZiBzaGlmdHNcclxuXHRmb3IodmFyIGl4PTA7aXg8MTAwO2l4KyspIHtcclxuXHRcdHNoaWZ0LnB1c2goc2hpZnRbaXhdK3NwYWNlKTtcclxuXHR9XHJcblx0cmV0dXJuIHNoaWZ0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB2a2JlYXV0aWZ5KCl7XHJcblx0dGhpcy5zdGVwID0gJyAgICAnOyAvLyA0IHNwYWNlc1xyXG5cdHRoaXMuc2hpZnQgPSBjcmVhdGVTaGlmdEFycih0aGlzLnN0ZXApO1xyXG59O1xyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUueG1sID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBhciA9IHRleHQucmVwbGFjZSgvPlxcc3swLH08L2csXCI+PFwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvPC9nLFwifjo6fjxcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoL1xccyp4bWxuc1xcOi9nLFwifjo6fnhtbG5zOlwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvXFxzKnhtbG5zXFw9L2csXCJ+Ojp+eG1sbnM9XCIpXHJcblx0XHRcdFx0IC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXIubGVuZ3RoLFxyXG5cdFx0aW5Db21tZW50ID0gZmFsc2UsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblx0XHRcdC8vIHN0YXJ0IGNvbW1lbnQgb3IgPCFbQ0RBVEFbLi4uXV0+IG9yIDwhRE9DVFlQRSAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88IS8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHRcdGluQ29tbWVudCA9IHRydWU7XHJcblx0XHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLy0tPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvXFxdPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvIURPQ1RZUEUvKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0aW5Db21tZW50ID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC8tLT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goL1xcXT4vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0XHRpbkNvbW1lbnQgPSBmYWxzZTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0+PC9lbG0+IC8vXHJcblx0XHRcdGlmKCAvXjxcXHcvLmV4ZWMoYXJbaXgtMV0pICYmIC9ePFxcL1xcdy8uZXhlYyhhcltpeF0pICYmXHJcblx0XHRcdFx0L148W1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeC0xXSkgPT0gL148XFwvW1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeF0pWzBdLnJlcGxhY2UoJy8nLCcnKSkge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdFx0aWYoIWluQ29tbWVudCkgZGVlcC0tO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0IC8vIDxlbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXHcvKSA+IC0xICYmIGFyW2l4XS5zZWFyY2goLzxcXC8vKSA9PSAtMSAmJiBhcltpeF0uc2VhcmNoKC9cXC8+LykgPT0gLTEgKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQgLy8gPGVsbT4uLi48L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0vPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC9cXC8+LykgPiAtMSApIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8PyB4bWwgLi4uID8+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXD8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIHhtbG5zIC8vXHJcblx0XHRcdGlmKCBhcltpeF0uc2VhcmNoKC94bWxuc1xcOi8pID4gLTEgIHx8IGFyW2l4XS5zZWFyY2goL3htbG5zXFw9LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0cmV0dXJuICAoc3RyWzBdID09ICdcXG4nKSA/IHN0ci5zbGljZSgxKSA6IHN0cjtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuanNvbiA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgc3RlcCA9IHN0ZXAgPyBzdGVwIDogdGhpcy5zdGVwO1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdGlmICggdHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIgKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZSh0ZXh0KSwgbnVsbCwgc3RlcCk7XHJcblx0aWYgKCB0eXBlb2YgdGV4dCA9PT0gXCJvYmplY3RcIiApIHJldHVybiBKU09OLnN0cmluZ2lmeSh0ZXh0LCBudWxsLCBzdGVwKTtcclxuXHJcblx0cmV0dXJuIHRleHQ7IC8vIHRleHQgaXMgbm90IHN0cmluZyBub3Igb2JqZWN0XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKHRleHQsIHN0ZXApIHtcclxuXHJcblx0dmFyIGFyID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csJyAnKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHsvZyxcInt+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcfS9nLFwifjo6fn1+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcOy9nLFwiO346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwvXFwqL2csXCJ+Ojp+LypcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwqXFwvL2csXCIqL346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvfjo6flxcc3swLH1+Ojp+L2csXCJ+Ojp+XCIpXHJcblx0XHRcdFx0LnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhci5sZW5ndGgsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblxyXG5cdFx0XHRpZiggL1xcey8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXCpcXFxcLy5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoL15cXG57MSx9LywnJyk7XHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZnVuY3Rpb24gaXNTdWJxdWVyeShzdHIsIHBhcmVudGhlc2lzTGV2ZWwpIHtcclxuXHRyZXR1cm4gIHBhcmVudGhlc2lzTGV2ZWwgLSAoc3RyLnJlcGxhY2UoL1xcKC9nLCcnKS5sZW5ndGggLSBzdHIucmVwbGFjZSgvXFwpL2csJycpLmxlbmd0aCApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNwbGl0X3NxbChzdHIsIHRhYikge1xyXG5cclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTkQgL2lnLFwifjo6flwiK3RhYit0YWIrXCJBTkQgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBCRVRXRUVOIC9pZyxcIn46On5cIit0YWIrXCJCRVRXRUVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ0FTRSAvaWcsXCJ+Ojp+XCIrdGFiK1wiQ0FTRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVMU0UgL2lnLFwifjo6flwiK3RhYitcIkVMU0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFTkQgL2lnLFwifjo6flwiK3RhYitcIkVORCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEZST00gL2lnLFwifjo6fkZST00gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBHUk9VUFxcc3sxLH1CWS9pZyxcIn46On5HUk9VUCBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEhBVklORyAvaWcsXCJ+Ojp+SEFWSU5HIFwiKVxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoLyBTRVQgL2lnLFwiIFNFVH46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIElOIC9pZyxcIiBJTiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBKT0lOIC9pZyxcIn46On5KT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ1JPU1N+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkNST1NTIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBJTk5FUn46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+SU5ORVIgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIExFRlR+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkxFRlQgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFJJR0hUfjo6fnsxLH1KT0lOIC9pZyxcIn46On5SSUdIVCBKT0lOIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIE9OIC9pZyxcIn46On5cIit0YWIrXCJPTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9SIC9pZyxcIn46On5cIit0YWIrdGFiK1wiT1IgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPUkRFUlxcc3sxLH1CWS9pZyxcIn46On5PUkRFUiBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9WRVIgL2lnLFwifjo6flwiK3RhYitcIk9WRVIgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXChcXHN7MCx9U0VMRUNUIC9pZyxcIn46On4oU0VMRUNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXClcXHN7MCx9U0VMRUNUIC9pZyxcIil+Ojp+U0VMRUNUIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIFRIRU4gL2lnLFwiIFRIRU5+Ojp+XCIrdGFiK1wiXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVTklPTiAvaWcsXCJ+Ojp+VU5JT05+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVU0lORyAvaWcsXCJ+Ojp+VVNJTkcgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSEVOIC9pZyxcIn46On5cIit0YWIrXCJXSEVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0hFUkUgL2lnLFwifjo6fldIRVJFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0lUSCAvaWcsXCJ+Ojp+V0lUSCBcIilcclxuXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvXFwsXFxzezAsfVxcKC9pZyxcIix+Ojp+KCBcIilcclxuXHRcdFx0XHQvLy5yZXBsYWNlKC9cXCwvaWcsXCIsfjo6flwiK3RhYit0YWIrXCJcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTEwgL2lnLFwiIEFMTCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTIC9pZyxcIiBBUyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTQyAvaWcsXCIgQVNDIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gREVTQyAvaWcsXCIgREVTQyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIERJU1RJTkNUIC9pZyxcIiBESVNUSU5DVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVYSVNUUyAvaWcsXCIgRVhJU1RTIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTk9UIC9pZyxcIiBOT1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBOVUxMIC9pZyxcIiBOVUxMIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTElLRSAvaWcsXCIgTElLRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFxzezAsfVNFTEVDVCAvaWcsXCJTRUxFQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcc3swLH1VUERBVEUgL2lnLFwiVVBEQVRFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gU0VUIC9pZyxcIiBTRVQgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9+Ojp+ezEsfS9nLFwifjo6flwiKVxyXG5cdFx0XHRcdC5zcGxpdCgnfjo6ficpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5zcWwgPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIGFyX2J5X3F1b3RlID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpXHJcblx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1xcJy9pZyxcIn46On5cXCdcIilcclxuXHRcdFx0XHRcdFx0XHQuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyX2J5X3F1b3RlLmxlbmd0aCxcclxuXHRcdGFyID0gW10sXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHRhYiA9IHRoaXMuc3RlcCwvLyt0aGlzLnN0ZXAsXHJcblx0XHRpbkNvbW1lbnQgPSB0cnVlLFxyXG5cdFx0aW5RdW90ZSA9IGZhbHNlLFxyXG5cdFx0cGFyZW50aGVzaXNMZXZlbCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDs7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHRcdFx0aWYoaXglMikge1xyXG5cdFx0XHRcdGFyID0gYXIuY29uY2F0KGFyX2J5X3F1b3RlW2l4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YXIgPSBhci5jb25jYXQoc3BsaXRfc3FsKGFyX2J5X3F1b3RlW2l4XSwgdGFiKSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bGVuID0gYXIubGVuZ3RoO1xyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHJcblx0XHRcdHBhcmVudGhlc2lzTGV2ZWwgPSBpc1N1YnF1ZXJ5KGFyW2l4XSwgcGFyZW50aGVzaXNMZXZlbCk7XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXHN7MCx9U0VMRUNUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGFyW2l4XSA9IGFyW2l4XS5yZXBsYWNlKC9cXCwvZyxcIixcXG5cIit0YWIrdGFiK1wiXCIpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcc3swLH1TRVRcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0YXJbaXhdID0gYXJbaXhdLnJlcGxhY2UoL1xcLC9nLFwiLFxcblwiK3RhYit0YWIrXCJcIilcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFwoXFxzezAsfVNFTEVDVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRkZWVwKys7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFwnLy5leGVjKGFyW2l4XSkgKSAge1xyXG5cdFx0XHRcdGlmKHBhcmVudGhlc2lzTGV2ZWw8MSAmJiBkZWVwKSB7XHJcblx0XHRcdFx0XHRkZWVwLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdFx0aWYocGFyZW50aGVzaXNMZXZlbDwxICYmIGRlZXApIHtcclxuXHRcdFx0XHRcdGRlZXAtLTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGp1bmsgPSAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN0ciA9IHN0ci5yZXBsYWNlKC9eXFxuezEsfS8sJycpLnJlcGxhY2UoL1xcbnsxLH0vZyxcIlxcblwiKTtcclxuXHRcdHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS54bWxtaW4gPSBmdW5jdGlvbih0ZXh0LCBwcmVzZXJ2ZUNvbW1lbnRzKSB7XHJcblxyXG5cdHZhciBzdHIgPSBwcmVzZXJ2ZUNvbW1lbnRzID8gdGV4dFxyXG5cdFx0XHRcdFx0XHRcdCAgIDogdGV4dC5yZXBsYWNlKC9cXDwhWyBcXHJcXG5cXHRdKigtLShbXlxcLV18W1xcclxcbl18LVteXFwtXSkqLS1bIFxcclxcblxcdF0qKVxcPi9nLFwiXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvWyBcXHJcXG5cXHRdezEsfXhtbG5zL2csICcgeG1sbnMnKTtcclxuXHRyZXR1cm4gIHN0ci5yZXBsYWNlKC8+XFxzezAsfTwvZyxcIj48XCIpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5qc29ubWluID0gZnVuY3Rpb24odGV4dCkge1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRleHQpLCBudWxsLCAwKTtcclxuXHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzc21pbiA9IGZ1bmN0aW9uKHRleHQsIHByZXNlcnZlQ29tbWVudHMpIHtcclxuXHJcblx0dmFyIHN0ciA9IHByZXNlcnZlQ29tbWVudHMgPyB0ZXh0XHJcblx0XHRcdFx0XHRcdFx0ICAgOiB0ZXh0LnJlcGxhY2UoL1xcL1xcKihbXipdfFtcXHJcXG5dfChcXCorKFteKi9dfFtcXHJcXG5dKSkpKlxcKitcXC8vZyxcIlwiKSA7XHJcblxyXG5cdHJldHVybiBzdHIucmVwbGFjZSgvXFxzezEsfS9nLCcgJylcclxuXHRcdFx0ICAucmVwbGFjZSgvXFx7XFxzezEsfS9nLFwie1wiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXH1cXHN7MSx9L2csXCJ9XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcO1xcc3sxLH0vZyxcIjtcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwvXFwqXFxzezEsfS9nLFwiLypcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwqXFwvXFxzezEsfS9nLFwiKi9cIik7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnNxbG1pbiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuXHRyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpLnJlcGxhY2UoL1xcc3sxLH1cXCgvLFwiKFwiKS5yZXBsYWNlKC9cXHN7MSx9XFwpLyxcIilcIik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IHZrYmVhdXRpZnkoKTtcclxuIiwiZXhwb3J0IGNvbnN0IHVwbG9hZEFyZWFIVE1MID0gXG4gIGA8ZGl2IGlkPVwiZG9jdW1lbnQtdXBsb2FkLWNvbnRhaW5lclwiPlxuXG4gICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2FyZWFcIj5cbiAgICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX21lc3NhZ2VcIj5VcGxvYWQgRmlsZXM8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInVucGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlVucGFpcmVkIERvY3VtZW50czwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJmaWxlc19jb250YWluZXJcIj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJtZWlfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TUVJPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwibWVpX2xpc3RcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInVucGFpcmVkX2l0ZW1fY29udGFpbmVyXCIgc3R5bGU9XCJ3aWR0aDogMTAwJTsgYmFja2dyb3VuZDogI0RBRUFGMTsgYm9yZGVyLXJhZGl1czogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cInVucGFpcmVkX2l0ZW1fbGFiZWxcIj5cbiAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBjbGFzcz1cInVucGFpcmVkX2l0ZW1fcmFkaW9cIiBuYW1lPVwibWVpX3JhZGlvX2dyb3VwXCIgdmFsdWU9XCJjcmVhdGVfbWVpXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIHN0eWxlPVwibWFyZ2luLXRvcDogYXV0bzttYXJnaW4tbGVmdDogM3B4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgIENyZWF0ZSBuZXcgTUVJIGZpbGVcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwiaW1hZ2VfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+SW1hZ2VzPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9zb3J0X25hbWVcIj5cbiAgICAgICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwiaW1hZ2VfbGlzdFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJnZW5lcmF0ZS1wYWlyLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uX2J1dHRvblwiIGlkPVwibWFrZV9wYWlyXCI+TWFrZSBQYWlyPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwicGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlBhaXJlZCBGb2xpb3M8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfc29ydF9uYW1lXCI+XG4gICAgICAgICAgPGRpdj5OYW1lPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNvcnRfbmFtZSBhcnJvd19idG5cIj4mI3gyMkMwOzwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbGlvX2xpc3RcIiBpZD1cInBhaXJlZF9saXN0XCI+PC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cInVwbG9hZF9idXR0b25fY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cInVwbG9hZF9idXR0b25cIj5cbiAgICAgICAgICAgIFVwbG9hZFxuICAgICAgICAgICAgPGRpdiBpZD1cInVwbG9hZGluZ19zcGlubmVyXCI+4oa7PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLVxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJtYW51c2NyaXB0c19jb250YWluZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TWFudXNjcmlwdHM8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZm9saW9fbGlzdFwiIGlkPVwibWFudXNjcmlwdF9saXN0XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIC0tPlxuXG4gICAgPC9kaXY+XG4gIDwvZGl2PmA7XG5cbmV4cG9ydCBjb25zdCBuZXdGb2xkZXJIVE1MID0gYFxuICAgIDxkaXYgaWQ9XCJyZW5hbWVfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lclwiPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicmVuYW1lX2J1dHRvbnNfY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWxfZGFzaGJvYXJkXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjb25maXJtX2Rhc2hib2FyZFwiPkNyZWF0ZTwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIGA7XG5cbmV4cG9ydCBjb25zdCByZW5hbWVIVE1MID0gYFxuICAgIDxkaXYgaWQ9XCJyZW5hbWVfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lclwiPlxuICAgICAgPC9kaXY+XG4gICAgICA8ZGl2IGlkPVwicmVuYW1lX2J1dHRvbnNfY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjYW5jZWxfZGFzaGJvYXJkXCI+Q2FuY2VsPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJjb25maXJtX2Rhc2hib2FyZFwiPkNvbmZpcm08L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgOyIsIi8qKiBAbW9kdWxlIFdhcm5pbmdzICovXG5cbi8qKlxuICogV2FybiB3aGVuIGdyb3VwZWQgbmV1bWUgY29tcG9uZW50cyBmb3JtIGFuIHVucmVjb2duaXplZCBuZXVtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwaW5nTm90UmVjb2duaXplZCAoKTogdm9pZCB7XG4gIGlmICghKHdpbmRvdy5jb25maXJtKCdOZW9uIGRvZXMgbm90IHJlY29nbml6ZSB0aGlzIG5ldW1lIGdyb3VwaW5nLiBXb3VsZCB5b3UgbGlrZSB0byBjcmVhdGUgYSBjb21wb3VuZCBuZXVtZT8nKSkpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmNsaWNrKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgc2VsZWN0QWxsIH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4uL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IGdldFNWR1JlbENvb3JkcyB9IGZyb20gJy4uL3V0aWxzL0Nvb3JkaW5hdGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBzdGFmZiBpbnRvIHR3byBzdGF2ZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0U3RhZmZIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBzdGFmZjogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzdGFmZiAtIFRoZSBzdGFmZiB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzdGFmZjogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zdGFmZiA9IHN0YWZmO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBXaGVyZSB0byBTcGxpdCcpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgc3RhZmYuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIC8vIEZpbmQgc3RhZmYgcG9pbnQgY29ycmVzcG9uZHMgdG8gaWYgb25lIGV4aXN0c1xuICAgIC8vIFRPRE9cbiAgICBjb25zdCBpZCA9IHRoaXMuc3RhZmYuaWQ7XG4gICAgY29uc3QgY3Vyc29yID0gZ2V0U1ZHUmVsQ29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdEFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ3NwbGl0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIHg6IGN1cnNvci54XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuc3RhZmYnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfWApXSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBuZXVtZSBpbnRvIHR3byBuZXVtZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0TmV1bWVIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBuZXVtZTogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuZXVtZSAtIFRoZSBuZXVtZSB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBuZXVtZTogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5uZXVtZSA9IG5ldW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBUaGUgQmVnaW5uaW5nIG9mIFRoZSBTZWNvbmQgTmV1bWUnKTtcbiAgfVxuXG4gIHNwbGl0RGlzYWJsZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqIEhhbmRsZSBpbnB1dCB0byBzcGxpdCBhIG5ldW1lLiAqL1xuICBoYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMubmV1bWUuaWQ7XG5cbiAgICAvLyB1bnNlbGVjdCgpO1xuICAgIFxuICAgIGNvbnN0IG5jID0gKGV2dC50YXJnZXQgYXMgU1ZHR0VsZW1lbnQpLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgbmNJZCA9IG5jLmlkO1xuXG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdE5ldW1lQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXROZXVtZScsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICBuY0lkOiBuY0lkXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gXG4gICAgICBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBmYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIC8vIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcubmV1bWUnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICAvLyBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWQpIGFzIFNWR0dFbGVtZW50XSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgLy8gdHJ5IHtcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgLy8gfSBjYXRjaCAoZSkge31cbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdHMgc3BsaXQgb24gRXNjYXBlIHByZXNzLCBkaXNhYmxlcyBvbiBTaGlmdC4gKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0IHNwbGl0IGlmIHVzZXIgY2xpY2tzIG9mZiBvZiBhY3RpdmUgcGFnZS4gKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5hY3RpdmUtcGFnZScpID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogQ2FsbGVkIHRvIHJlYXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIG5lY2Vzc2FyeS4gKi9cbiAgcmVzZXRIYW5kbGVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcbn1cbiIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwucXVldWVNaWNyb3Rhc2sgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayhmdW5jKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vL2Jhc2VkIG9mZiByc3ZwIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanNcbi8vbGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8vaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9saWIvcnN2cC9hc2FwLmpzXG5cbnZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBNdXRhdGlvbjtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbihoYW5kbGUpO1xuICB2YXIgZWxlbWVudCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwge1xuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZWxlbWVudC5kYXRhID0gKGNhbGxlZCA9ICsrY2FsbGVkICUgMik7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgIC8vIHdlIGNhbiBvbmx5IGdldCBoZXJlIGluIElFMTBcbiAgICAvLyB3aGljaCBkb2Vzbid0IGhhbmRlbCBwb3N0TWVzc2FnZSB3ZWxsXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnZG9jdW1lbnQnIGluIGdsb2JhbCAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgIHZhciBzY3JpcHRFbCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBoYW5kbGUoKTtcblxuICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgc2NyaXB0RWwgPSBudWxsO1xuICAgIH07XG4gICAgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG5cbiAgICByZXR1cm4gaGFuZGxlO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KHQsIDApO1xuICB9O1xufTsiLCJpbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBQb3VjaERCIGZyb20gJ3BvdWNoZGInO1xuaW1wb3J0IHsgQWxsRG9jcywgRG9jLCB1cGxvYWRzSW5mbyB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIGxvY2FsTWFuaWZlc3QgZnJvbSAnLi4vLi4vYXNzZXRzL21hbmlmZXN0Lmpzb24nO1xuXG5leHBvcnQgY29uc3QgZGIgPSBuZXcgUG91Y2hEQignTmVvbi1Vc2VyLVN0b3JhZ2UnKTtcblxuZnVuY3Rpb24gZ2V0QWxsRG9jdW1lbnRzKCk6IFByb21pc2U8QWxsRG9jcz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRiLmFsbERvY3MoeyBpbmNsdWRlX2RvY3M6IHRydWUgfSlcbiAgICAgIC50aGVuKHJlc3VsdCA9PiByZXNvbHZlKHJlc3VsdCkpXG4gICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFVwbG9hZHMoKTogUHJvbWlzZTx1cGxvYWRzSW5mbz4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlcyA9IGF3YWl0IGdldEFsbERvY3VtZW50cygpO1xuICAgIHJldHVybiByZXMucm93cy5tYXAocm93ID0+ICh7XG4gICAgICBpZDogcm93LmlkLFxuICAgICAgbmFtZTogcm93LmRvYyA/IHJvdy5kb2MubmFtZSA6ICd1bmRlZmluZWQnLFxuICAgIH0pKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgY29uc29sZS5sb2coJ0NvdWxkblxcJ3QgZmV0Y2ggdXBsb2FkZWQgZG9jdW1lbnRzJywgZXJyLm1lc3NhZ2UpO1xuICAgIHJldHVybiBbXTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlTWFuaWZlc3QoaWQ6IHN0cmluZywgdGl0bGU6IHN0cmluZywgbWVpOiBGaWxlLCBiZzogRmlsZSk6IFByb21pc2U8c3RyaW5nPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsb2NhbE1hbmlmZXN0KSk7XG4gICAgbWFuaWZlc3RbJ0BpZCddID0gaWQ7XG4gICAgbWFuaWZlc3RbJ3RpdGxlJ10gPSB0aXRsZTtcbiAgICBtYW5pZmVzdFsndGltZXN0YW1wJ10gPSAobmV3IERhdGUoKSkudG9JU09TdHJpbmcoKTtcblxuICAgIGNvbnN0IG1laVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IG1laVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICBtZWlSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShtZWlSZWFkZXIucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgbWVpUmVhZGVyLnJlYWRBc0RhdGFVUkwobWVpKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IGJnUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgYmdSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgYmdSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShiZ1JlYWRlci5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICBiZ1JlYWRlci5yZWFkQXNEYXRhVVJMKGJnKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1laVVyaSA9IGF3YWl0IG1laVByb21pc2U7XG4gICAgY29uc3QgYmdVcmkgPSBhd2FpdCBiZ1Byb21pc2U7XG5cbiAgICBtYW5pZmVzdFsnaW1hZ2UnXSA9IGJnVXJpO1xuICAgIG1hbmlmZXN0WydtZWlfYW5ub3RhdGlvbnMnXSA9IFtcbiAgICAgIHtcbiAgICAgICAgaWQ6IHV1aWR2NCgpLFxuICAgICAgICB0eXBlOiAnQW5ub3RhdGlvbicsXG4gICAgICAgIGJvZHk6IG1laVVyaSxcbiAgICAgICAgdGFyZ2V0OiBiZ1VyaVxuICAgICAgfVxuICAgIF07XG4gICAgcmVzb2x2ZShtYW5pZmVzdCk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQWRkIG5ldyBlbnRyeSB0byB0aGUgZGF0YWJhc2VcbiAqIEBwYXJhbSBpZCBcbiAqIEBwYXJhbSB0aXRsZSBcbiAqIEBwYXJhbSBjb250ZW50IFxuICogQHBhcmFtIHNpbmdsZSBpcyBpdCBhIHNpbmdsZSBwYWdlIG9yIGEgbWFudXNjcmlwdFxuICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPlxuICovXG5leHBvcnQgZnVuY3Rpb24gYWRkRG9jdW1lbnQoaWQ6IHN0cmluZywgbmFtZTogc3RyaW5nLCBjb250ZW50OiBCbG9iLCBzaW5nbGU6IGJvb2xlYW4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkYi5wdXQoe1xuICAgICAgX2lkOiBpZCxcbiAgICAgIG5hbWU6IG5hbWUsXG4gICAgICB0eXBlOiBzaW5nbGUgPyAncGFnZScgOiAnbWFudXNjcmlwdCcsXG4gICAgICBfYXR0YWNobWVudHM6IHtcbiAgICAgICAgbWFuaWZlc3Q6IHtcbiAgICAgICAgICBjb250ZW50X3R5cGU6ICdhcHBsaWNhdGlvbi9sZCtqc29uJyxcbiAgICAgICAgICBkYXRhOiBjb250ZW50XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIHdpbmRvdy5hbGVydChgRXJyb3IgVXBsb2FkaW5nIERvY3VtZW50OiAke2Vyci5tZXNzYWdlfSwgdGl0bGU6ICR7bmFtZX0sIGlkOiAke2lkfS5gKTtcbiAgICAgIHJlamVjdChmYWxzZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIERlbGV0ZSBlbnRyeSBmcm9tIHRoZSBkYXRhYmFzZVxuICogQHBhcmFtIGlkIFxuICogQHJldHVybnMgUHJvbWlzZTxib29sZWFuPlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlRG9jdW1lbnQoaWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRiLmdldChpZClcbiAgICAgIC50aGVuKGRvYyA9PiB7XG4gICAgICAgIGRiLnJlbW92ZShkb2MpXG4gICAgICAgICAgLnRoZW4oXyA9PiB7XG4gICAgICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgICAgIH0pXG4gICAgICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgZG9jIGZyb20gdGhlIGRhdGFiYXNlIChzdXBwb3J0cyBvbmx5IHRpdGxlIGZvciBub3cpXG4gKiBAcGFyYW0gaWQgXG4gKiBAcGFyYW0gbmV3TmFtZSBcbiAqIEByZXR1cm5zIFByb21pc2U8Ym9vbGVhbj5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURvY05hbWUoaWQ6IHN0cmluZywgbmV3TmFtZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgLy8gUmV0cmlldmUgZG9jIGZyb20gZGF0YWJhc2UgKHRvIGdldCBfcmV2KVxuICAgIGRiLmdldDxEb2M+KGlkKS50aGVuKGRvYyA9PiB7XG5cbiAgICAgIC8vIFJldHJpZXZlIG1hbmlmZXN0IGZyb20gZGF0YWJhc2VcbiAgICAgIGRiLmdldEF0dGFjaG1lbnQoaWQsICdtYW5pZmVzdCcpLnRoZW4oKG1hbmlmZXN0QmxvYjogQmxvYikgPT4ge1xuICAgICAgICBtYW5pZmVzdEJsb2IudGV4dCgpLnRoZW4obWFuaWZlc3RUZXh0ID0+IHtcbiAgICAgICAgICBjb25zdCBtYW5pZmVzdCA9IEpTT04ucGFyc2UobWFuaWZlc3RUZXh0KTtcbiAgICBcbiAgICAgICAgICAvLyBVcGRhdGUgdGhlIG1hbmlmZXN0XG4gICAgICAgICAgZG9jLm5hbWUgPSBuZXdOYW1lO1xuICAgICAgICAgIG1hbmlmZXN0Wyd0aXRsZSddID0gbmV3TmFtZTtcbiAgICBcbiAgICAgICAgICAvLyBDb252ZXJ0IGJhY2sgdG8gYmxvYlxuICAgICAgICAgIGNvbnN0IG5ld01hbmlmZXN0QmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShtYW5pZmVzdCwgbnVsbCwgMildLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9sZCtqc29uJyB9KTtcblxuICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNbJ21hbmlmZXN0J10gPSB7XG4gICAgICAgICAgICBjb250ZW50X3R5cGU6ICdhcHBsaWNhdGlvbi9sZCtqc29uJyxcbiAgICAgICAgICAgIGRhdGE6IG5ld01hbmlmZXN0QmxvYlxuICAgICAgICAgIH07XG4gICAgICAgICAgXG4gICAgICAgICAgZGIucHV0KGRvYylcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHJlc29sdmUodHJ1ZSkpXG4gICAgICAgICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTsgLy8gZGIucHV0XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7IC8vIG1hbmlmZXN0VGV4dFByb21pc2VcbiAgICAgIH0pLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7IC8vIGRiLmdldEF0dGFjaG1lbnRcbiAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpOyAvLyBkYi5nZXRcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBJRW50cnksIElGaWxlLCBJRm9sZGVyLCBGaWxlU3lzdGVtVG9vbHMgfSBmcm9tICcuL0ZpbGVTeXN0ZW0nO1xuaW1wb3J0IHsgZGVsZXRlRG9jdW1lbnQsIHVwZGF0ZURvY05hbWUgfSBmcm9tICcuL1N0b3JhZ2UnO1xuaW1wb3J0IHsgRmlsZVN5c3RlbU1hbmFnZXIgfSBmcm9tICcuL0ZpbGVTeXN0ZW0nO1xuaW1wb3J0IHsgU2hpZnRTZWxlY3Rpb25NYW5hZ2VyLCBkYXNoYm9hcmRTdGF0ZSB9IGZyb20gJy4vRGFzaGJvYXJkVG9vbHMnO1xuaW1wb3J0IHsgSW5pdFVwbG9hZEFyZWEgfSBmcm9tICcuL1VwbG9hZEFyZWEnO1xuaW1wb3J0ICogYXMgY29udGV4dE1lbnVDb250ZW50IGZyb20gJy4vQ29udGV4dE1lbnVDb250ZW50JztcbmltcG9ydCB7IE1vZGFsV2luZG93LCBNb2RhbFdpbmRvd1ZpZXcgfSBmcm9tICcuLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5cbmNvbnN0IGRvY3VtZW50c0NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnMtY29udGVudC1jb250YWluZXInKTtcbmNvbnN0IGJhY2tncm91bmRBcmVhOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWluLXNlY3Rpb24tY29udGVudCcpO1xuY29uc3Qgb3BlbkJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3Blbi1kb2MnKTtcbmNvbnN0IHJlbW92ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVtb3ZlLWRvYycpO1xuY29uc3QgbmF2UGF0aENvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbmF2LXBhdGgtY29udGFpbmVyJyk7XG5sZXQgYmFja0J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnMtYmFjay1idG4nKTtcbmxldCBlbXB0eUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnMtZW1wdHktYnRuJyk7XG5sZXQgZGVsZXRlQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNmcy1kZWxldGUtYnRuJyk7XG5jb25zdCB1cGxvYWREb2N1bWVudHNCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwbG9hZC1uZXctZG9jLWJ1dHRvbicpO1xuY29uc3QgbmV3Rm9sZGVyQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNhZGQtZm9sZGVyLWJ1dHRvbicpO1xuXG5jb25zdCBzaGlmdFNlbGVjdGlvbiA9IG5ldyBTaGlmdFNlbGVjdGlvbk1hbmFnZXIoKTtcbmNvbnN0IGZzbSA9IEZpbGVTeXN0ZW1NYW5hZ2VyKCk7XG5jb25zdCBzdGF0ZSA9IGRhc2hib2FyZFN0YXRlKCk7XG5cbmNvbnN0IG1haW5TZWN0aW9uOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXNlY3Rpb24tY29udGVudCcpO1xuY29uc3QgY29udGV4dE1lbnU6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnJpZ2h0LWNsaWNrLWZpbGUtbWVudScpO1xuY29uc3QgY29udGV4dE1lbnVDb250ZW50V3JhcHBlcjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGV4dC1tZW51LWl0ZW1zLXdyYXBwZXInKTtcblxubGV0IG1ldGFLZXlJc1ByZXNzZWQgPSBmYWxzZTtcbmxldCBzaGlmdEtleUlzUHJlc3NlZCA9IGZhbHNlO1xubGV0IGN1cnJlbnREcmFnVGFyZ2V0ID0gbnVsbDtcbmxldCByaWdodENsaWNrZWQgPSBmYWxzZTtcblxub3BlbkJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuRG9jc0hhbmRsZXIpO1xucmVtb3ZlQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZURvY3NIYW5kbGVyKTtcbnVwbG9hZERvY3VtZW50c0J1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuVXBsb2FkQXJlYUhhbmRsZXIpO1xubmV3Rm9sZGVyQnV0dG9uPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5OZXdGb2xkZXJXaW5kb3cpO1xuXG4vLyBTb3J0aW5nIGFsZ29yaXRobXNcbi8vIGNvbnN0IHNvcnRCeUFscGhhbnVtZXJpY2FsID0gKGE6IElFbnRyeSwgYjogSUVudHJ5KSA9PiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuLy8gY29uc3Qgc29ydEJ5VGltZSA9IChhOiBJRW50cnksIGI6IElFbnRyeSkgPT4ge1xuLy8gICBjb25zdCBhVGltZSA9IGEubWV0YWRhdGFbJ2NyZWF0ZWRfb24nXTtcbi8vICAgY29uc3QgYlRpbWUgPSBiLm1ldGFkYXRhWydjcmVhdGVkX29uJ107XG4vLyAgIGlmIChhVGltZSAmJiBiVGltZSkgcmV0dXJuIGFUaW1lIC0gYlRpbWU7XG4vLyAgIGVsc2UgaWYgKGFUaW1lKSByZXR1cm4gLTE7XG4vLyB9O1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gIGlmIChlLm1ldGFLZXkpIG1ldGFLZXlJc1ByZXNzZWQgPSB0cnVlO1xuICBpZiAoZS5zaGlmdEtleSkgc2hpZnRLZXlJc1ByZXNzZWQgPSB0cnVlO1xuICAvLyBMb3NlIGZvY3VzIG9uIGVzYyBrZXlcbiAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykge1xuICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgc2hpZnRTZWxlY3Rpb24ucmVzZXQoKTtcbiAgICB1cGRhdGVBY3Rpb25CYXJCdXR0b25zKCk7XG4gICAgdXBkYXRlRlNCdXR0b25zKCk7XG4gIH1cbn0pO1xuXG53aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4ge1xuICBpZiAoIWUubWV0YUtleSkgbWV0YUtleUlzUHJlc3NlZCA9IGZhbHNlO1xuICBpZiAoIWUuc2hpZnRLZXkpIHNoaWZ0S2V5SXNQcmVzc2VkID0gZmFsc2U7XG59KTtcblxuYmFja2dyb3VuZEFyZWE/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgY29uc3QgdGFyZ2V0ID0gZS50YXJnZXQgYXMgRWxlbWVudDtcbiAgLy8gTG9zZSBmb2N1cyBpZiBjbGljayBldmVudCBpbiBtYWluIHNlY3Rpb24gaXMgbm90IGEgZG9jdW1lbnQgdGlsZVxuICBjb25zdCBpc0RvY3VtZW50ID0gQm9vbGVhbih0YXJnZXQuY2xvc2VzdCgnLmRvY3VtZW50LWVudHJ5JykpO1xuICBpZiAoIWlzRG9jdW1lbnQpIHtcbiAgICB1bnNlbGVjdEFsbCgpO1xuICAgIHNoaWZ0U2VsZWN0aW9uLnJlc2V0KCk7XG4gICAgdXBkYXRlQWN0aW9uQmFyQnV0dG9ucygpO1xuICAgIHVwZGF0ZUZTQnV0dG9ucygpO1xuICB9XG59KTtcblxuLyoqXG4gKiBcbiAqIEByZXR1cm5zIFxuICovXG5mdW5jdGlvbiBvcGVuVXBsb2FkQXJlYUhhbmRsZXIoKSB7XG4gIGlmICghdXBsb2FkRG9jdW1lbnRzQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHJldHVybjtcbiAgSW5pdFVwbG9hZEFyZWEoc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCkpO1xufVxuXG5cbi8qKlxuICogT3BlbnMgYSBuZXcgdGFiIHdpdGggdGhlIE5lb24gZWRpdG9yIGZvciB0aGUgZ2l2ZW4gaWRcbiAqIFxuICogQHBhcmFtIGlkIGtleSBvZiBmaWxlIGluIGJiYiBvciBtYW5pZmVzdCB1cmxcbiAqIEBwYXJhbSBpc1NhbXBsZSBib29sZWFuIHRvIGRlY2lkZSB3aGVyZSB0byBmZXRjaCBmaWxlXG4gKi9cbmZ1bmN0aW9uIG9wZW5FZGl0b3JUYWIoaWQ6IHN0cmluZywgaXNTYW1wbGU6IGJvb2xlYW4pIHtcbiAgY29uc3QgcGFyYW1zID0gKGlzU2FtcGxlKVxuICAgID8geyBtYW5pZmVzdDogaWQgfVxuICAgIDogeyBzdG9yYWdlOiBpZCB9O1xuICBjb25zdCBxdWVyeSA9IG1ha2VRdWVyeShwYXJhbXMpO1xuICB3aW5kb3cub3BlbihgLi9lZGl0b3IuaHRtbD8ke3F1ZXJ5fWAsICdfYmxhbmsnKTtcbn1cblxuXG4vKipcbiAqIE9wZW5zIGVkaXRvciB0YWIgZ2l2ZW4gYSBkb2N1bWVudCB0aWxlIGVsZW1lbnRcbiAqIFxuICogQHBhcmFtIGVudHJ5IFxuICovXG5mdW5jdGlvbiBvcGVuRmlsZShlbnRyeTogSUZpbGUpIHtcbiAgY29uc3QgZG9jdW1lbnRUeXBlID0gZW50cnkubWV0YWRhdGFbJ2RvY3VtZW50J107XG4gIGlmICh0eXBlb2YgZG9jdW1lbnRUeXBlICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb25zdCBpc1NhbXBsZSA9IGRvY3VtZW50VHlwZSA9PT0gJ3NhbXBsZSc7XG4gICAgb3BlbkVkaXRvclRhYihlbnRyeS5pZCwgaXNTYW1wbGUpO1xuICB9XG59XG5cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSBvYmogXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gbWFrZVF1ZXJ5KG9iaik6IHN0cmluZyB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopLm1hcChrZXkgPT4ge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoa2V5KSArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChvYmpba2V5XSk7XG4gIH0pLmpvaW4oJyYnKTtcbn1cblxuXG4vKipcbiAqIFxuICogQHBhcmFtIGluZGV4IFxuICovXG5mdW5jdGlvbiBzZWxlY3QoaW5kZXg6IG51bWJlcikge1xuICBjb25zdCBlbnRyeSA9IHN0YXRlLmdldEVudHJpZXMoKS5hdChpbmRleCk7XG4gIHN0YXRlLnNldFNlbGVjdGlvbihpbmRleCwgdHJ1ZSk7XG4gIGNvbnN0IHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbnRyeS5pZCk7XG4gIHRpbGUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbn1cblxuXG4vKipcbiAqIFxuICogQHBhcmFtIGluZGV4IFxuICovXG5mdW5jdGlvbiB1bnNlbGVjdChpbmRleDogbnVtYmVyKSB7XG4gIGNvbnN0IGlkID0gc3RhdGUuZ2V0RW50cmllcygpLmF0KGluZGV4KS5pZDtcbiAgc3RhdGUuc2V0U2VsZWN0aW9uKGluZGV4LCBmYWxzZSk7XG4gIGNvbnN0IHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCk7XG4gIHRpbGUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbn1cblxuXG4vKipcbiAqIFxuICovXG5mdW5jdGlvbiB1bnNlbGVjdEFsbCgpIHtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZG9jdW1lbnQtZW50cnkuc2VsZWN0ZWQnKSlcbiAgICAuZm9yRWFjaCgodGlsZSkgPT4gdGlsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcbiAgc3RhdGUucmVzZXRTZWxlY3Rpb24oKTtcbn1cblxuLyoqIFxuICogQ3JlYXRlcyBhIGZvbGRlciBvciBmaWxlIHRpbGUgZWxlbWVudCBnaXZlbiBhbiBlbnRyeVxuICogQHBhcmFtIGVudHJ5IElFbnRyeVxuICogQHJldHVybnMgSFRNTERpdkVsZW1lbnQgdGlsZSBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZVRpbGUoZW50cnk6IElFbnRyeSkge1xuICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2RvY3VtZW50LWVudHJ5Jyk7XG4gIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7IC8vIG1ha2UgZmlsZSBvciBmb2xkZXIgZHJhZ2dhYmxlXG5cbiAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBpY29uLmNsYXNzTGlzdC5hZGQoJ2RvY3VtZW50LWljb24nKTtcbiAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuYW1lLmlubmVyVGV4dCA9IGVudHJ5Lm5hbWU7XG5cbiAgc3dpdGNoIChlbnRyeS50eXBlKSB7XG4gICAgY2FzZSAnZm9sZGVyJzpcbiAgICAgIC8vIHNldCB0eXBlIGF0dHJpYiBhbmQgaWRcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb2xkZXItZW50cnknKTtcbiAgICAgIGNvbnRhaW5lci5zZXRBdHRyaWJ1dGUoJ2lkJywgZW50cnkuaWQpO1xuICAgICAgLy8gc2V0IGljb25cbiAgICAgIGljb24uc3JjID0gJy4vTmVvbi1naC9hc3NldHMvaW1nL2ZvbGRlci1pY29uLnN2Zyc7XG4gICAgICAvLyBzZXQgZHJvcCB0YXJnZXQgYXR0cmliXG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkcm9wLWlkJywgZW50cnkuaWQpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Ryb3AtdGFyZ2V0Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICd0cmFzaCc6XG4gICAgICAvLyBzZXQgdHlwZSBhdHRyaWIgYW5kIGlkXG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9sZGVyLWVudHJ5Jyk7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsIGVudHJ5LmlkKTtcbiAgICAgIC8vIHNldCBpY29uXG4gICAgICBpY29uLnNyYyA9ICcuL05lb24tZ2gvYXNzZXRzL2ltZy90cmFzaC1pY29uLnN2Zyc7XG4gICAgICAvLyBzZXQgZHJvcCB0YXJnZXQgYXR0cmliXG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkcm9wLWlkJywgZW50cnkuaWQpO1xuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2Ryb3AtdGFyZ2V0Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdmaWxlJzpcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmaWxlLWVudHJ5Jyk7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsIChlbnRyeSBhcyBJRmlsZSkuaWQpO1xuXG4gICAgICAvLyBkZXRlcm1pbmUgd2hpY2ggaWNvbiBhbmQgY2xhc3MgdG8gYWRkIGRlcGVuZGluZyBvbiBleGlzdGluZyBtZXRhZGF0YVxuICAgICAgaWYgKGVudHJ5Lm1ldGFkYXRhWyd0eXBlJ10gPT09ICdtYW51c2NyaXB0Jykge1xuICAgICAgICAvLyBzZXQgdHlwZSBhdHRyaWIgYW5kIGlkXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdtYW51c2NyaXB0LWVudHJ5Jyk7XG4gICAgICAgIC8vIHNldCBpY29uXG4gICAgICAgIGljb24uc3JjID0gJy4vTmVvbi1naC9hc3NldHMvaW1nL21hbnVzY3JpcHQtaWNvbi5zdmcnO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoZW50cnkubWV0YWRhdGFbJ3R5cGUnXSA9PT0gJ2ZvbGlvJykge1xuICAgICAgICAvLyBzZXQgdHlwZSBhdHRyaWIgYW5kIGlkXG4gICAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdmb2xpby1lbnRyeScpO1xuICAgICAgICAvLyBzZXQgaWNvblxuICAgICAgICBpY29uLnNyYyA9ICcuL05lb24tZ2gvYXNzZXRzL2ltZy9mb2xpby1pY29uLnN2Zyc7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gc2V0IGljb24gZm9yIG5vIHR5cGVcbiAgICAgICAgaWNvbi5zcmMgPSAnLi9OZW9uLWdoL2Fzc2V0cy9pbWcvZm9saW8taWNvbi5zdmcnO1xuICAgICAgfVxuXG4gICAgICBicmVhaztcbiAgfVxuXG5cbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKGljb24pO1xuICBjb250YWluZXIuYXBwZW5kQ2hpbGQobmFtZSk7XG5cbiAgcmV0dXJuIGNvbnRhaW5lcjtcbn1cblxuLyoqXG4gKiBBZGRzIGRibGNsaWNrIGV2ZW50IGxpc3RlbmVyIHRvIHRpbGUgZWxlbWVudCBhbmQgYWRkcyBzaGlmdCBzZWxlY3Rpb24gYmVoYXZpb3VyXG4gKiBcbiAqIEBwYXJhbSBpbmRleCBhcyBkaXNwbGF5ZWQgb24gZGFzaGJvYXJkIHRvIHVzZXJcbiAqIEBwYXJhbSBlbnRyeSBjb3JyZXNwb25kaW5nIGVudHJ5IGluIGN1cnJlbnQgZm9sZGVyXG4gKiBAcGFyYW0gdGlsZSBIVE1MRGl2RWxlbWVudFxuICovXG5hc3luYyBmdW5jdGlvbiBhZGRUaWxlRXZlbnRMaXN0ZW5lcihpbmRleDogbnVtYmVyLCBlbnRyeTogSUVudHJ5LCB0aWxlOiBIVE1MRGl2RWxlbWVudCkge1xuICAvLyBkb3VibGUgY2xpY2sgZXZlbnQgaW1tZWRpYXRlbHkgb3BlbnMgZG9jdW1lbnRcbiAgaWYgKGVudHJ5LnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgYXN5bmMgZnVuY3Rpb24gZW50ZXJGb2xkZXIoKSB7XG4gICAgICByZXR1cm4gYXdhaXQgdXBkYXRlRGFzaGJvYXJkKFsuLi5zdGF0ZS5nZXRGb2xkZXJQYXRoKCksIGVudHJ5IGFzIElGb2xkZXJdKTtcbiAgICB9XG4gICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGVudGVyRm9sZGVyLCBmYWxzZSk7XG4gIH1cbiAgZWxzZSB7XG4gICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIG9wZW5Eb2NzSGFuZGxlciwgZmFsc2UpO1xuICB9XG4gIGFkZFNoaWZ0U2VsZWN0aW9uTGlzdGVuZXIodGlsZSwgaW5kZXgpO1xuICBhZGRTcGVjaWZpY0NvbnRleHRNZW51TGlzdGVuZXJzKHRpbGUsIGluZGV4KTtcbn1cblxuLyoqXG4gKiBBZGQgc2hpZnQgc2VsZWN0aW9uIGJlaGF2aW91ciB0byBodG1sIHRpbGUgZWxlbWVudFxuICogXG4gKiBXaGVuIG5vIGtleXMgYXJlIHByZXNzZWQ6IGVyYXNlIGFueSBwcmV2aW91cyBzZWxlY3Rpb25zIGFuZCBzZWxlY3Qgb25seSBjdXJyZW50IHRpbGVcbiAqIFdoZW4gbWV0YSBrZXkgaXMgcHJlc3NlZDogYWRkIGN1cnJlbnQgdGlsZSB0byBzZWxlY3Rpb24gaWYgbm90IGFscmVhZHkgc2VsZWN0ZWQsIGVsc2UgcmVtb3ZlIGZyb21cbiAqIHNlbGVjdGlvbi4gV2hlbiBzaGlmdCBrZXkgaXMgcHJlc3NlZDogc2VsZWN0IGFsbCB0aWxlcyBiZXR3ZWVuIGN1cnJlbnQgdGlsZSBhbmQgcHJldmlvdXMgdGlsZVxuICogXG4gKiBXaGVuIHRoZXJlIGlzIGEgcHJldmlvdXMgc2VsZWN0aW9uLCB0aGUgc3RhcnQgb2YgdGhlIHNoaWZ0IHNlbGVjdGlvbiBpcyB0aGUgbGFzdCBzZWxlY3RlZCB0aWxlLiBcbiAqIFNoaWZ0IGNsaWNraW5nIGFmdGVyIHdpbGwgYWRkIHRoZSBzaGlmdCBzZWxlY3Rpb24gdG8gdGhlIHByZXZpb3VzIHNlbGVjdGlvbi5cbiAqIFxuICogQHBhcmFtIHRpbGUgXG4gKiBAcGFyYW0gaW5kZXggXG4gKi9cbmZ1bmN0aW9uIGFkZFNoaWZ0U2VsZWN0aW9uTGlzdGVuZXIodGlsZTogSFRNTERpdkVsZW1lbnQsIGluZGV4OiBudW1iZXIpIHtcbiAgdGlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKF9lKSB7XG4gICAgc2hpZnRTZWxlY3Rpb25IYW5kbGVyKGluZGV4KTtcbiAgfSwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBzaGlmdFNlbGVjdGlvbkhhbmRsZXIoaW5kZXgpIHtcbiAgaWYgKCFtZXRhS2V5SXNQcmVzc2VkICYmICFzaGlmdEtleUlzUHJlc3NlZCkge1xuICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgc2VsZWN0KGluZGV4KTtcbiAgICBzaGlmdFNlbGVjdGlvbi5zZXRTdGFydChpbmRleCk7XG4gIH1cbiAgZWxzZSBpZiAobWV0YUtleUlzUHJlc3NlZCkge1xuICAgIGlmIChzdGF0ZS5nZXRTZWxlY3Rpb24oKVtpbmRleF0pIHtcbiAgICAgIHVuc2VsZWN0KGluZGV4KTtcbiAgICAgIHNoaWZ0U2VsZWN0aW9uLnNldFN0YXJ0KHN0YXRlLmdldFNlbGVjdGlvbigpLmxhc3RJbmRleE9mKHRydWUpKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxlY3QoaW5kZXgpO1xuICAgICAgc2hpZnRTZWxlY3Rpb24uc2V0U3RhcnQoaW5kZXgpOyBcbiAgICB9XG4gIH1cbiAgZWxzZSBpZiAoc2hpZnRLZXlJc1ByZXNzZWQpIHtcbiAgICBzaGlmdFNlbGVjdGlvbi5nZXRQcmV2U2VsZWN0aW9uKCkuZm9yRWFjaCgoaWR4KSA9PiB7XG4gICAgICB1bnNlbGVjdChpZHgpO1xuICAgIH0pO1xuICAgIHNoaWZ0U2VsZWN0aW9uLnNldEVuZChpbmRleCk7XG4gICAgc2hpZnRTZWxlY3Rpb24uZ2V0U2VsZWN0aW9uKHN0YXRlLmdldFNlbGVjdGlvbigpKS5mb3JFYWNoKChpZHgpID0+IHtcbiAgICAgIHNlbGVjdChpZHgpO1xuICAgIH0pO1xuICB9XG4gIHVwZGF0ZUFjdGlvbkJhckJ1dHRvbnMoKTtcbiAgdXBkYXRlRlNCdXR0b25zKCk7XG59XG4vKipcbiAqIE9wZW5zIGN1cnJlbnQgc2VsZWN0aW9uIG9mIGRvY3VtZW50cyBvbiBkYXNoYm9hcmQuXG4gKiBcbiAqIElmIGEgZm9sZGVyIGlzIHNlbGVjdGVkLCBvcGVucyBmb2xkZXIuXG4gKiBJZiBhIGZpbGUocykgaXMgc2VsZWN0ZWQsIG9wZW5zIGZpbGUocykuXG4gKiBJZiBhIGZvbGRlciBhbmQgZmlsZShzKSBhcmUgc2VsZWN0ZWQsIG9wZW5zIGZpbGUocykuXG4gKi9cbmZ1bmN0aW9uIG9wZW5Eb2NzSGFuZGxlcigpIHtcbiAgaWYgKCFvcGVuQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHJldHVybjtcblxuICAvLyBPcGVuIGZvbGRlciBpZiBvbmx5IG9uZSBmb2xkZXIgaXMgc2VsZWN0ZWRcbiAgaWYgKHN0YXRlLmdldFNlbGVjdGVkRm9sZGVycygpLmxlbmd0aCA9PT0gMSB8fCBzdGF0ZS5nZXRTZWxlY3RlZFRyYXNoKCkubGVuZ3RoID09PSAxKSB7XG4gICAgY29uc3QgbmV3UGF0aCA9IFsuLi5zdGF0ZS5nZXRGb2xkZXJQYXRoKCksIHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpWzBdIGFzIElGb2xkZXJdO1xuICAgIHVwZGF0ZURhc2hib2FyZChuZXdQYXRoKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBPcGVuIGFsbCBmaWxlcywgaWdub3JpbmcgaWYgZm9sZGVycyBhcmUgc2VsZWN0ZWRcbiAgc3RhdGUuZ2V0U2VsZWN0ZWRGaWxlcygpLmZvckVhY2goKGVudHJ5OiBJRW50cnkpID0+IG9wZW5GaWxlKGVudHJ5IGFzIElGaWxlKSk7XG4gIHNoaWZ0U2VsZWN0aW9uLnJlc2V0KCk7XG4gIHVuc2VsZWN0QWxsKCk7XG4gIHVwZGF0ZUFjdGlvbkJhckJ1dHRvbnMoKTtcbn1cblxuLyoqXG4gKiBNb3ZlIGN1cnJlbnQgc2VsZWN0aW9uIG9mIGRvY3VtZW50cyBvbiBkYXNoYm9hcmQgdG8gdHJhc2guIFxuICogXG4gKi9cbmZ1bmN0aW9uIHJlbW92ZURvY3NIYW5kbGVyKCkge1xuICBpZiAoIXJlbW92ZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG5cbiAgY29uc3Qgc2VsZWN0ZWRFbnRyaWVzID0gc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCk7XG4gIGNvbnN0IHBhcmVudEZvbGRlciA9IHN0YXRlLmdldFBhcmVudEZvbGRlcigpO1xuICBjb25zdCB0cmFzaEZvbGRlciA9IHN0YXRlLmdldFRyYXNoRm9sZGVyKCk7XG5cbiAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCk7XG4gIFxuICBmb3IgKGxldCBlbnRyeSBvZiBzZWxlY3RlZEVudHJpZXMpIHtcbiAgICBlbnRyeSA9IEZpbGVTeXN0ZW1Ub29scy5hZGRNZXRhZGF0YShlbnRyeSwgeyByZW1vdmVkX29uOiBkYXRldGltZSwgcmVjb3Zlcl9mb2xkZXI6IHN0YXRlLmdldEZvbGRlclBhdGhOYW1lcygpIH0pO1xuICB9XG5cbiAgbW92ZVRvRm9sZGVyKHNlbGVjdGVkRW50cmllcywgcGFyZW50Rm9sZGVyLCB0cmFzaEZvbGRlcik7XG59XG5cbmZ1bmN0aW9uIHB1dEJhY2tEb2NzSGFuZGxlcigpIHtcbiAgY29uc3Qgc2VsZWN0ZWRFbnRyaWVzID0gc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCk7XG4gIGNvbnN0IHBhcmVudEZvbGRlciA9IHN0YXRlLmdldFBhcmVudEZvbGRlcigpO1xuICBcbiAgZm9yIChsZXQgZW50cnkgb2Ygc2VsZWN0ZWRFbnRyaWVzKSB7XG4gICAgY29uc3QgZm9sZGVyUGF0aE5hbWVzID0gZW50cnkubWV0YWRhdGFbJ3JlY292ZXJfZm9sZGVyJ10gYXMgc3RyaW5nW107XG4gICAgY29uc3QgdGFyZ2V0Rm9sZGVyID0gc3RhdGUuZ2V0Rm9sZGVyUGF0aEJ5TmFtZXMoZm9sZGVyUGF0aE5hbWVzKTtcbiAgICBpZiAodGFyZ2V0Rm9sZGVyKSB7XG4gICAgICBlbnRyeSA9IEZpbGVTeXN0ZW1Ub29scy5yZW1vdmVNZXRhZGF0YShlbnRyeSwgWydyZW1vdmVkX29uJywgJ3JlY292ZXJfZm9sZGVyJ10pO1xuICAgICAgY29uc3QgZGF0ZVRpbWVQYXR0ZXJuID0gLyAtIFxcZHsxLDJ9XFwvXFxkezEsMn1cXC9cXGR7NH0sIFxcZHsxLDJ9OlxcZHsyfTpcXGR7Mn0gW0FQTWFwbV17Mn0kLztcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIGZpbGVuYW1lIGVuZHMgd2l0aCB0aGUgZGF0ZSB0aW1lIHBhdHRlcm5cbiAgICAgIGlmIChkYXRlVGltZVBhdHRlcm4udGVzdChlbnRyeS5uYW1lKSkge1xuICAgICAgICBlbnRyeS5uYW1lID0gZW50cnkubmFtZS5yZXBsYWNlKGRhdGVUaW1lUGF0dGVybiwgJycpO1xuICAgICAgfVxuICAgICAgbW92ZVRvRm9sZGVyKFtlbnRyeV0sIHBhcmVudEZvbGRlciwgdGFyZ2V0Rm9sZGVyKTtcbiAgICB9ICAgIFxuICB9XG59XG5cbi8qKlxuICogRGVsZXRlIGEgZmlsZVxuICogXG4gKiBAcGFyYW0gZmlsZSBcbiAqIEBwYXJhbSBwYXJlbnRGb2xkZXIgXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gZGVsZXRlRmlsZUVudHJ5KGZpbGU6IElGaWxlLCBwYXJlbnRGb2xkZXI6IElGb2xkZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkZWxldGVEb2N1bWVudChmaWxlLmlkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBGaWxlU3lzdGVtVG9vbHMucmVtb3ZlRW50cnkoZmlsZSwgcGFyZW50Rm9sZGVyKTtcbiAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goKCkgPT4gcmVqZWN0KGZhbHNlKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIERlbGV0ZSBhIGZvbGRlciBhbmQgaXRzIGNvbnRlbnRcbiAqIFxuICogQHBhcmFtIGZvbGRlciBcbiAqIEBwYXJhbSBwYXJlbnRGb2xkZXIgXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gZGVsZXRlRm9sZGVyRW50cnkoZm9sZGVyOiBJRm9sZGVyLCBwYXJlbnRGb2xkZXI6IElGb2xkZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgY29uc3QgZGVsZXRlUHJvbWlzZXMgPSBmb2xkZXIuY2hpbGRyZW4ubWFwKChjaGlsZCkgPT4ge1xuICAgICAgaWYgKGNoaWxkLnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICByZXR1cm4gZGVsZXRlRmlsZUVudHJ5KGNoaWxkIGFzIElGaWxlLCBmb2xkZXIpOyAvLyBQYXNzIHRoZSBjdXJyZW50IGZvbGRlciBhcyB0aGUgcGFyZW50XG4gICAgICB9IGVsc2UgaWYgKGNoaWxkLnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVGb2xkZXJFbnRyeShjaGlsZCBhcyBJRm9sZGVyLCBmb2xkZXIpOyAvLyBQYXNzIHRoZSBjdXJyZW50IGZvbGRlciBhcyB0aGUgcGFyZW50XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTsgLy8gU2hvdWxkbid0IGhhcHBlbiwgYnV0IHJlc29sdmluZyBmb3Igc2FmZXR5XG4gICAgfSk7XG5cbiAgICBQcm9taXNlLmFsbChkZWxldGVQcm9taXNlcylcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgRmlsZVN5c3RlbVRvb2xzLnJlbW92ZUVudHJ5KGZvbGRlciwgcGFyZW50Rm9sZGVyKTsgLy8gVXNlIHRoZSBwcm92aWRlZCBwYXJlbnQgZm9sZGVyXG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHJlc29sdmUoZmFsc2UpKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRGVsZXRlcyBjdXJyZW50IHNlbGVjdGlvbiBvZiBkb2N1bWVudHMgb24gZGFzaGJvYXJkLiBcbiAqIFxuICogSWYgYSBmb2xkZXIgaXMgc2VsZWN0ZWQsIGRlbGV0ZXMgZm9sZGVyLlxuICogSWYgYSBmaWxlKHMpIGlzIHNlbGVjdGVkLCBkZWxldGVzIGZpbGUocykuXG4gKiBJZiBhIGZvbGRlciBhbmQgZmlsZShzKSBhcmUgc2VsZWN0ZWQsIGRlbGV0ZXMgYWxsLlxuICovXG5mdW5jdGlvbiBkZWxldGVEb2NzSGFuZGxlcigpIHtcbiAgY29uc3QgYWxsRW50cmllcyA9IHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpO1xuXG4gIC8vIENyZWF0ZSBhIGZvcm1hdHRlZCBsaXN0IG9mIGZpbGVuYW1lcyB0byBkaXNwbGF5IGluIGFsZXJ0IG1lc3NhZ2VcbiAgY29uc3QgY3JlYXRlTGlzdCA9IChlbnRyeUFycmF5OiBJRW50cnlbXSkgPT4gZW50cnlBcnJheS5tYXAoZW50cnkgPT4gYC0gJHtlbnRyeS5uYW1lfSAoJHtlbnRyeS50eXBlfSlgKS5qb2luKCdcXG4nKTtcbiAgXG4gIGNvbnN0IGFsZXJ0TWVzc2FnZSA9IGBBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlOlxcbiR7Y3JlYXRlTGlzdChhbGxFbnRyaWVzKX1cXG5UaGlzIGFjdGlvbiBpcyBpcnJldmVyc2libGUuYDtcblxuICBjb25zdCBpc0NvbmZpcm1lZCA9IHdpbmRvdy5jb25maXJtKGFsZXJ0TWVzc2FnZSk7XG5cbiAgaWYgKGlzQ29uZmlybWVkKSB7XG4gICAgY29uc3QgZGVsZXRlUHJvbWlzZXMgPSBhbGxFbnRyaWVzLm1hcChlbnRyeSA9PiB7XG4gICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVGaWxlRW50cnkoZW50cnkgYXMgSUZpbGUsIHN0YXRlLmdldFBhcmVudEZvbGRlcigpKTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVudHJ5LnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVGb2xkZXJFbnRyeShlbnRyeSBhcyBJRm9sZGVyLCBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICBQcm9taXNlLmFsbChkZWxldGVQcm9taXNlcylcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgdXBkYXRlRGFzaGJvYXJkKHN0YXRlLmdldEZvbGRlclBhdGgoKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCBlcnIgPT4gY29uc29sZS5kZWJ1ZygnZmFpbGVkIHRvIGRlbGV0ZSBmaWxlczogJywgZXJyKSk7XG4gIH1cbn1cblxuXG5mdW5jdGlvbiBlbXB0eVRyYXNoSGFuZGxlcigpIHtcbiAgY29uc3QgdHJhc2hGb2xkZXIgPSBzdGF0ZS5nZXRUcmFzaEZvbGRlcigpO1xuXG4gIGlmICghdHJhc2hGb2xkZXIpIHtcbiAgICBjb25zb2xlLmVycm9yKCdUcmFzaCBmb2xkZXIgbm90IGZvdW5kLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGNvbnN0IGFsZXJ0TWVzc2FnZSA9ICdBcmUgeW91IHN1cmUgeW91IHdhbnQgdG8gZGVsZXRlIGFsbCB0aGUgZmlsZXMgaW4gVHJhc2ggRm9sZGVyP1xcblRoaXMgYWN0aW9uIGlzIGlycmV2ZXJzaWJsZS4nO1xuXG4gIGNvbnN0IGlzQ29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oYWxlcnRNZXNzYWdlKTtcblxuICBpZiAoaXNDb25maXJtZWQpIHtcblxuICAgIGNvbnN0IGRlbGV0ZVByb21pc2VzID0gdHJhc2hGb2xkZXIuY2hpbGRyZW4ubWFwKChlbnRyeSkgPT4ge1xuICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICByZXR1cm4gZGVsZXRlRmlsZUVudHJ5KGVudHJ5IGFzIElGaWxlLCB0cmFzaEZvbGRlcik7XG4gICAgICB9IGVsc2UgaWYgKGVudHJ5LnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgIHJldHVybiBkZWxldGVGb2xkZXJFbnRyeShlbnRyeSBhcyBJRm9sZGVyLCB0cmFzaEZvbGRlcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZmFsc2UpOyAvLyBTaG91bGRuJ3QgaGFwcGVuLCBidXQgcmVzb2x2aW5nIGZvciBzYWZldHlcbiAgICB9KTtcblxuICAgIFByb21pc2UuYWxsKGRlbGV0ZVByb21pc2VzKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAvLyBBZnRlciBkZWxldGluZyBhbGwgY29udGVudCwgdXBkYXRlIHRoZSBkYXNoYm9hcmRcbiAgICAgICAgdXBkYXRlRGFzaGJvYXJkKHN0YXRlLmdldEZvbGRlclBhdGgoKSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZGVidWcoJ2ZhaWxlZCB0byBkZWxldGUgZmlsZXM6ICcsIGVycikpO1xuICB9XG59XG5cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSB2aXNpYmlsaXR5IG9mIGFjdGlvbiBiYXIgYnV0dG9ucyBiYXNlZCBvbiBjdXJyZW50IHNlbGVjdGlvbnNcbiAqIFxuICogTm90ZTogYmV0dGVyIG5vdCB0byBjaGFuZ2UgdGhlIG9yZGVyXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUFjdGlvbkJhckJ1dHRvbnMoKSB7XG4gIC8vIGluc2lkZSAuL1NhbXBsZXPCoG9yIHNlbGVjdGluZyB0aGUgc2FtcGxlcyBmb2xkZXJcbiAgaWYgKHN0YXRlLmdldFBhcmVudEZvbGRlcigpLm1ldGFkYXRhWydpbW11dGFibGUnXSB8fCBcbiAgICAoc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKClbMF0gJiYgc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKClbMF0ubWV0YWRhdGFbJ2ltbXV0YWJsZSddKSkge1xuICAgIHVwbG9hZERvY3VtZW50c0J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBuZXdGb2xkZXJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgcmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGlmIChzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKS5sZW5ndGgpIHtcbiAgICAgIG9wZW5CdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wZW5CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgfVxuICB9XG4gIC8vIGluc2lkZSAuL1RyYXNoXG4gIGVsc2UgaWYgKHN0YXRlLmlzSW5UcmFzaCgpKSB7XG4gICAgdXBsb2FkRG9jdW1lbnRzQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIG5ld0ZvbGRlckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICByZW1vdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuICAvLyBzZWxlY3RpbmcgdGhlIHRyYXNoIGZvbGRlclxuICBlbHNlIGlmIChzdGF0ZS5nZXRTZWxlY3RlZFRyYXNoKCkubGVuZ3RoKSB7XG4gICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICByZW1vdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgdXBsb2FkRG9jdW1lbnRzQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIG5ld0ZvbGRlckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfSBcbiAgLy8gc2VsZWN0aW5nIGVudHJpZXNcbiAgZWxzZSBpZiAoc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCkubGVuZ3RoKSB7XG4gICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICByZW1vdmVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgdXBsb2FkRG9jdW1lbnRzQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIG5ld0ZvbGRlckJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuICAvLyBub3RoaW5nIHNlbGVjdGVkLCBub3QgaW4gLi9TYW1wbGVzIG9yIC4vVHJhc2hcbiAgZWxzZSB7XG4gICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICByZW1vdmVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgdXBsb2FkRG9jdW1lbnRzQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIG5ld0ZvbGRlckJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgfVxufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIG5hdiBwYXRoIHdpdGggY3VycmVudCBmb2xkZXIgcGF0aFxuICovXG5mdW5jdGlvbiB1cGRhdGVOYXZQYXRoKCk6IHZvaWQge1xuICBuYXZQYXRoQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuXG4gIC8vIGNyZWF0ZSBuYXYgZWxlbWVudHMgYW5kIGFkZCBldmVudCBsaXN0ZW5lcnNcbiAgY29uc3QgbmF2RWxlbWVudHMgPSBzdGF0ZS5nZXRGb2xkZXJQYXRoKCkubWFwKChmb2xkZXIsIGlkeCkgPT4ge1xuICAgIGNvbnN0IG5hdlNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBuYXZTZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ25hdi1wYXRoLXNlY3Rpb24nKTtcbiAgICBuYXZTZWN0aW9uLmlubmVySFRNTCA9IGZvbGRlci5uYW1lO1xuXG4gICAgY29uc3QgdGFyZ2V0UGF0aCA9IHN0YXRlLmdldEZvbGRlclBhdGgoKS5zbGljZSgwLCBpZHggKyAxKTtcbiAgICBuYXZTZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4gYXdhaXQgdXBkYXRlRGFzaGJvYXJkKHRhcmdldFBhdGgpKTtcbiAgICAvLyBhZGQgZHJvcCB0YXJnZXQgdG8gbW92ZSBkcmFnZ2VkIGVsZW1lbnQgdG8gdGhlIHByb3NwZWN0aXZlIGZvbGRlcnNcbiAgICBhZGREcm9wVGFyZ2V0TGlzdGVuZXJzKG5hdlNlY3Rpb24sIHN0YXRlLmdldFBhcmVudEZvbGRlcigpLCB0YXJnZXRQYXRoLmF0KC0xKSk7XG5cbiAgICByZXR1cm4gbmF2U2VjdGlvbjtcbiAgfSk7XG5cbiAgLy8gYWRkIG5hdiBlbGVtZW50cyB0byBuYXYgcGF0aCBjb250YWluZXJcbiAgbmF2RWxlbWVudHMuZm9yRWFjaCgobmF2RWxlbWVudCwgaWR4KSA9PiB7XG4gICAgbmF2UGF0aENvbnRhaW5lci5hcHBlbmRDaGlsZChuYXZFbGVtZW50KTtcbiAgICBpZiAoaWR4ICE9PSBuYXZFbGVtZW50cy5sZW5ndGggLSAxKSB7XG4gICAgICBjb25zdCBzZXBlcmF0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgIHNlcGVyYXRvci5jbGFzc0xpc3QuYWRkKCduYXYtcGF0aC1zZXBlcmF0b3InKTtcbiAgICAgIHNlcGVyYXRvci5pbm5lckhUTUwgPSAnIC8gJztcbiAgICAgIG5hdlBhdGhDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VwZXJhdG9yKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZXMgdGhlIGJhY2sgYnV0dG9uIHdpdGggY2xpY2sgZXZlbnQgbGlzdGVuZXIgdG8gZ28gYmFjayBvbmUgZm9sZGVyIGlmIHBvc3NpYmxlXG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUJhY2tCdXR0b24oKSB7XG4gIC8vIEVyYXNlIHByZXZpb3VzIGV2ZW50IGxpc3RlbmVyc1xuICBjb25zdCBidXR0b25DbG9uZSA9IGJhY2tCdXR0b24uY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBiYWNrQnV0dG9uLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGJ1dHRvbkNsb25lLCBiYWNrQnV0dG9uKTtcblxuICAvLyBEaXNhYmxlIGJhY2sgYnV0dG9uIGlmIGF0IHJvb3RcbiAgY29uc3QgaXNSb290ID0gc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLmxlbmd0aCA9PT0gMTtcbiAgaWYgKGlzUm9vdCkge1xuICAgIGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGJ1dHRvbkNsb25lLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICB9XG4gIGVsc2Uge1xuICAgIGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGJ1dHRvbkNsb25lLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICBidXR0b25DbG9uZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU5hdmlnYXRlQmFjayk7XG4gICAgYnV0dG9uQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignb25kcmFnZW50ZXInLCAoKSA9PiBidXR0b25DbG9uZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKSk7XG4gICAgYnV0dG9uQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignb25kcmFnbGVhdmUnLCAoKSA9PiBidXR0b25DbG9uZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKSk7XG4gICAgYWRkRHJvcFRhcmdldExpc3RlbmVycyhidXR0b25DbG9uZSwgc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCksIHN0YXRlLmdldEZvbGRlclBhdGgoKS5hdCgtMikpO1xuICB9XG4gIGJhY2tCdXR0b24gPSBidXR0b25DbG9uZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRW1wdHlCdXR0b24oKSB7XG4gIC8vIEVyYXNlIHByZXZpb3VzIGV2ZW50IGxpc3RlbmVyc1xuICBjb25zdCBidXR0b25DbG9uZSA9IGVtcHR5QnV0dG9uLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZW1wdHlCdXR0b24ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYnV0dG9uQ2xvbmUsIGVtcHR5QnV0dG9uKTtcblxuICBjb25zdCBwYXJlbnRGb2xkZXIgPSBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKTtcblxuICAvLyBEaXNwbGF5IGlmIGluIHRyYXNoXG4gIGlmIChwYXJlbnRGb2xkZXIudHlwZSA9PT0gJ3RyYXNoJyB8fCBzdGF0ZS5pc0luVHJhc2goKSkge1xuICAgIGJ1dHRvbkNsb25lLnN0eWxlLmRpc3BsYXkgPSAnJztcblxuICAgIC8vIEFjdGl2YXRlIGJ1dHRvbiBpZiBoYXMgY29udGVudCBhbmQgbm90IHNlbGVjdGluZyB3aGVuIGZpcnN0IGxldmVsIHBhcmVudCBpcyB0cmFzaFxuICAgIGlmIChwYXJlbnRGb2xkZXIuY2hpbGRyZW4ubGVuZ3RoICYmICFzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKS5sZW5ndGggJiYgcGFyZW50Rm9sZGVyLnR5cGUgPT09ICd0cmFzaCcpIHtcbiAgICAgIGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgYnV0dG9uQ2xvbmUucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgYnV0dG9uQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBlbXB0eVRyYXNoSGFuZGxlcik7XG4gICAgfVxuICAgIC8vIERpc2FibGUgYnV0dG9uIGlmIG5vIGNvbnRlbnRcbiAgICBlbHNlIHtcbiAgICAgIGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgYnV0dG9uQ2xvbmUuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGJ1dHRvbkNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cbiAgZW1wdHlCdXR0b24gPSBidXR0b25DbG9uZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRGVsZXRlQnV0dG9uKCkge1xuICAvLyBFcmFzZSBwcmV2aW91cyBldmVudCBsaXN0ZW5lcnNcbiAgY29uc3QgYnV0dG9uQ2xvbmUgPSBkZWxldGVCdXR0b24uY2xvbmVOb2RlKHRydWUpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBkZWxldGVCdXR0b24ucGFyZW50Tm9kZS5yZXBsYWNlQ2hpbGQoYnV0dG9uQ2xvbmUsIGRlbGV0ZUJ1dHRvbik7XG5cbiAgY29uc3QgcGFyZW50Rm9sZGVyID0gc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCk7XG4gIC8vIERpc3BsYXkgaWYgaW4gdHJhc2hcbiAgaWYgKHBhcmVudEZvbGRlci50eXBlID09PSAndHJhc2gnIHx8IHN0YXRlLmlzSW5UcmFzaCgpKSB7XG4gICAgYnV0dG9uQ2xvbmUuc3R5bGUuZGlzcGxheSA9ICcnO1xuXG4gICAgLy8gQWRkIGxpc3RlbmVyIGlmIHNlbGVjdHMgZW50cmllc1xuICAgIGlmIChzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKS5sZW5ndGgpIHtcbiAgICAgIGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgICAgYnV0dG9uQ2xvbmUucmVtb3ZlQXR0cmlidXRlKCdkaXNhYmxlZCcpO1xuICAgICAgYnV0dG9uQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBkZWxldGVEb2NzSGFuZGxlcik7XG4gICAgfVxuICAgIC8vIERpc2FibGUgaWYgbm90aGluZyBzZWxlY3RlZFxuICAgIGVsc2Uge1xuICAgICAgYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgICBidXR0b25DbG9uZS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgICB9XG4gIH1cbiAgZWxzZSB7XG4gICAgYnV0dG9uQ2xvbmUuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuICBkZWxldGVCdXR0b24gPSBidXR0b25DbG9uZTtcbn1cblxuZnVuY3Rpb24gdXBkYXRlRlNCdXR0b25zKCkge1xuICB1cGRhdGVCYWNrQnV0dG9uKCk7XG4gIHVwZGF0ZUVtcHR5QnV0dG9uKCk7XG4gIHVwZGF0ZURlbGV0ZUJ1dHRvbigpO1xufVxuXG4vKipcbiAqIEhhbmRsZXMgY2xpY2sgZXZlbnQgb24gYmFjayBidXR0b24gdG8gZ28gYmFjayBvbmUgZm9sZGVyIGlmIHBvc3NpYmxlXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZU5hdmlnYXRlQmFjaygpIHtcbiAgY29uc3QgbmV3UGF0aCA9IHN0YXRlLmdldEZvbGRlclBhdGgoKS5zbGljZSgwLCAtMSk7XG4gIGF3YWl0IHVwZGF0ZURhc2hib2FyZChuZXdQYXRoKTtcbn1cblxuLyoqXG4gKiBBZGQgbmV3IEZvbGRlciB0byBjdXJyZW50IGZvbGRlciBhbmQgcmVmcmVzaCBkYXNoYm9hcmRcbiAqL1xuZnVuY3Rpb24gaGFuZGxlQWRkRm9sZGVyKGZvbGRlck5hbWU6IHN0cmluZykge1xuICAvLyBjcmVhdGUgbmV3IGZvbGRlciBlbGVtZW50XG4gIGNvbnN0IG5ld0ZvbGRlclRpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3Rm9sZGVyVGlsZS5jbGFzc0xpc3QuYWRkKCdkb2N1bWVudC1lbnRyeScpO1xuICBuZXdGb2xkZXJUaWxlLmNsYXNzTGlzdC5hZGQoJ2ZvbGRlci1lbnRyeScpO1xuICBuZXdGb2xkZXJUaWxlLnNldEF0dHJpYnV0ZSgnaWQnLCAnbmV3LWZvbGRlcicpO1xuXG4gIGNvbnN0IG5ld0ZvbGRlciA9IEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVGb2xkZXIoZm9sZGVyTmFtZSk7XG4gIGNvbnN0IHN1Y2NlZWRlZCA9IEZpbGVTeXN0ZW1Ub29scy5hZGRFbnRyeShuZXdGb2xkZXIsIHN0YXRlLmdldFBhcmVudEZvbGRlcigpKTtcbiAgaWYgKHN1Y2NlZWRlZCkge1xuICAgIG5ld0ZvbGRlclRpbGUuc2V0QXR0cmlidXRlKCdpZCcsIGZvbGRlck5hbWUpO1xuICAgIHVwZGF0ZURhc2hib2FyZCgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIG5ld0ZvbGRlclRpbGUucmVtb3ZlKCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogUmVuYW1lcyBjdXJyZW50IHNlbGVjdGlvbiBvZiBkb2N1bWVudCBvbiBkYXNoYm9hcmQsIHVwZGF0aW5nIHRoZSBkYXRhYmFzZSBmb3IgZmlsZXNcbiAqIFxuICogQHBhcmFtIGVudHJ5IElFbnRyeSB0byByZW5hbWVcbiAqL1xuZnVuY3Rpb24gcmVuYW1lRW50cnkoZW50cnk6IElFbnRyeSwgbmV3TmFtZTogc3RyaW5nKSB7ICBcbiAgY29uc3Qgc3VjY2VlZGVkID0gRmlsZVN5c3RlbVRvb2xzLnJlbmFtZUVudHJ5KGVudHJ5LCBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKSwgbmV3TmFtZSk7XG4gIGlmIChzdWNjZWVkZWQpIHtcbiAgICAvLyBVcGRhdGUgZGF0YWJhc2UgaWYgZW50cnkgaXMgYSBmaWxlXG4gICAgaWYgKGVudHJ5LnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgY29uc3QgZmlsZSA9IGVudHJ5IGFzIElGaWxlO1xuICAgICAgdXBkYXRlRG9jTmFtZShmaWxlLmlkLCBuZXdOYW1lKVxuICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgdXBkYXRlRGFzaGJvYXJkKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHVwZGF0ZURhc2hib2FyZCgpO1xuICAgIH1cbiAgfVxufVxuXG5cbi8qKlxuICogR2l2ZW4gYW4gZW50cnkgaWQsIHJldHVybnMgdGhlIGVudHJ5IGZyb20gdGhlIGN1cnJlbnQgZm9sZGVyXG4gKiBcbiAqIEBwYXJhbSBpZCBcbiAqIEByZXR1cm5zIElFbnRyeVxuKi9cbmZ1bmN0aW9uIGdldEVudHJ5QnlJZChpZDogc3RyaW5nKTogSUVudHJ5IHtcbiAgY29uc3QgdGFyZ2V0RW50cnkgPSBzdGF0ZS5nZXRFbnRyaWVzKCkuZmluZChlbnRyeSA9PiB7XG4gICAgcmV0dXJuIGVudHJ5LmlkID09PSBpZDtcbiAgfSk7XG4gIHJldHVybiB0YXJnZXRFbnRyeTtcbn1cblxuLyoqXG4gKiBSZWZsZWN0cyBjaGFuZ2VzIGluIGZpbGUgc3lzdGVtIGluIGRhc2hib2FyZCBVSVxuICogXG4gKiBAcGFyYW0gbmV3UGF0aCBJZiBwcm92aWRlZCwgdXNlcyB0aGlzIHBhdGggdG8gdXBkYXRlIGRhc2hib2FyZC4gT3RoZXJ3aXNlLCB1c2VzIGN1cnJlbnQgcGF0aC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZURhc2hib2FyZChuZXdQYXRoPzogSUZvbGRlcltdKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghbmV3UGF0aCkgbmV3UGF0aCA9IHN0YXRlLmdldEZvbGRlclBhdGgoKTtcbiAgc3RhdGUuc2V0Rm9sZGVyUGF0aChuZXdQYXRoKTtcbiAgY29uc3QgY3VycmVudEZvbGRlciA9IHN0YXRlLmdldFBhcmVudEZvbGRlcigpO1xuICAvLyBjbGVhciBjb250ZW50IGFuZCBzZWxlY3Rpb25cbiAgZG9jdW1lbnRzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICBzaGlmdFNlbGVjdGlvbi5yZXNldCgpO1xuXG4gIC8vIHVwZGF0ZSBvcmRlcmVkIGl0ZW1zIGZvciBjdXJyZW50IGZzLWNvbnRlbnRzXG4gIHN0YXRlLnNldEVudHJpZXMoY3VycmVudEZvbGRlci5jaGlsZHJlbik7XG5cbiAgLy8gcG9wdWxhdGUgZm9sZGVyIGNvbnRlbnRzXG4gIGN1cnJlbnRGb2xkZXIuY2hpbGRyZW4uZm9yRWFjaChhc3luYyAoZW50cnksIGluZGV4KSA9PiB7XG4gICAgY29uc3QgdGlsZSA9IGNyZWF0ZVRpbGUoZW50cnkpO1xuICAgIGRvY3VtZW50c0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aWxlKTtcbiAgICBhd2FpdCBhZGRUaWxlRXZlbnRMaXN0ZW5lcihpbmRleCwgZW50cnksIHRpbGUpO1xuICB9KTsgXG5cbiAgdXBkYXRlQWN0aW9uQmFyQnV0dG9ucygpO1xuICB1cGRhdGVOYXZQYXRoKCk7XG4gIHVwZGF0ZUZTQnV0dG9ucygpO1xuXG4gIGNvbnN0IGluZm9CYWRnZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbmZvLWJhZGdlJyk7XG4gIGlmIChzdGF0ZS5pc0luVHJhc2goKSkge1xuICAgIGluZm9CYWRnZS50ZXh0Q29udGVudCA9ICdGaWxlcyB3aWxsIGJlIGRlbGV0ZWQgYWZ0ZXIgMzAgZGF5cyc7XG4gICAgaW5mb0JhZGdlLnN0eWxlLmJhY2tncm91bmQgPSAnIzlEQjJCRic7XG4gIH0gZWxzZSB7XG4gICAgaW5mb0JhZGdlLnRleHRDb250ZW50ID0gJyc7XG4gICAgaW5mb0JhZGdlLnN0eWxlLmJhY2tncm91bmQgPSAnJztcbiAgfVxuXG4gIC8vIGFkZCBkcmFnIGFuZCBkcm9wIGxpc3RlbmVycyBmb3IgY3VycmVudCBmb2xkZXIgY29udGVudFxuICBjdXJyZW50Rm9sZGVyLmNoaWxkcmVuLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVudHJ5LmlkKTtcbiAgICBhZGREcmFnU3RhcnRMaXN0ZW5lcih0aWxlKTtcblxuICAgIGlmIChlbnRyeS50eXBlID09PSAnZm9sZGVyJyB8fCBlbnRyeS50eXBlID09PSAndHJhc2gnKSB7IFxuICAgICAgYWRkRHJvcFRhcmdldExpc3RlbmVycyh0aWxlLCBjdXJyZW50Rm9sZGVyLCBlbnRyeSBhcyBJRm9sZGVyKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgZnNtLnNldEZpbGVTeXN0ZW0oc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLmF0KDApKTtcbn1cblxuZnVuY3Rpb24gYWRkRHJhZ1N0YXJ0TGlzdGVuZXIoZWxlbTogRWxlbWVudCkge1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChlOiBEcmFnRXZlbnQpID0+IHtcbiAgICBlLmRhdGFUcmFuc2Zlci5lZmZlY3RBbGxvd2VkID0gJ21vdmUnO1xuICAgIGN1cnJlbnREcmFnVGFyZ2V0ID0gZS50YXJnZXQ7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGREcm9wVGFyZ2V0TGlzdGVuZXJzKGVsZW06IEVsZW1lbnQsIGN1cnJlbnRGb2xkZXI6IElGb2xkZXIsIGRlc3RpbmF0aW9uRm9sZGVyOiBJRm9sZGVyKSB7XG4gIC8qKlxuICAgICAqIFRoZSBkcmFnZW50ZXIgYW5kIGRyYWdvdmVyIGV2ZW50cyBuZWVkIHRvIGJlIG92ZXJyaWRlbiBpbiBvcmRlciB0byBpbXBsZW1lbnQgdGhlIGRyYWctYW5kLWRyb3AgZnVuY3Rpb25hbGl0eS5cbiAgICAgKiBSZWFkIG1vcmUgYXQ6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9IVE1MX0RyYWdfYW5kX0Ryb3BfQVBJL0RyYWdfb3BlcmF0aW9uc1xuICAgICAqL1xuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdlbnRlcicsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnZHJhZ2VudGVyJyk7XG4gIH0pOyAgICBcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnbGVhdmUnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2RyYWdlbnRlcicpO1xuICB9KTtcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnb3ZlcicsIChlKSA9PiBlLnByZXZlbnREZWZhdWx0KCkpO1xuXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJvcCcsIGNyZWF0ZUhhbmRsZURyb3AoY3VycmVudEZvbGRlciwgZGVzdGluYXRpb25Gb2xkZXIpKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlSGFuZGxlRHJvcChjdXJyZW50Rm9sZGVyOiBJRm9sZGVyLCBkZXN0aW5hdGlvbkZvbGRlcjogSUZvbGRlcikge1xuICByZXR1cm4gKGU6IEV2ZW50KSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgLy8gZ2V0IHRoZSBJRCBvZiB0aGUgZWxlbWVudCBiZWluZyBkcmFnZ2VkXG4gICAgY29uc3QgZHJhZ1RhcmdldElEID0gKDxIVE1MRWxlbWVudD4gY3VycmVudERyYWdUYXJnZXQpLmdldEF0dHJpYnV0ZSgnaWQnKTtcblxuICAgIC8vIFVzaW5nIGRyYWdUYXJnZXRJRCwgZmluZCB0aGUgb2JqZWN0IHRoYXQgcmVwcmVzZW50cyB0aGUgRmlsZSBiZWluZyBkcm9wcGVkLlxuICAgIGNvbnN0IGRyYWdFbnRyeSA9IGdldEVudHJ5QnlJZChkcmFnVGFyZ2V0SUQpO1xuXG4gICAgLy8gSWYgZm9sZGVyLCBkZXN0aW5hdGlvbiwgYW5kIGZpbGUgd2VyZSBmb3VuZCwgbW92ZSB0aGUgZmlsZSBpbnRvIHRoZSBmb2xkZXIuIEdyZWF0IHN1Y2Nlc3MhXG4gICAgLy8gTWFrZSBzdXJlIHRoYXQgYSBmb2xkZXIgaXMgbm90IGJlaW5nIGRyb3BwZWQgaW50byB0aGUgc2FtZSBmb2xkZXIuXG4gICAgaWYgKGRyYWdFbnRyeSAmJiBkcmFnRW50cnkgIT09IGRlc3RpbmF0aW9uRm9sZGVyKSB7XG4gICAgICBtb3ZlVG9Gb2xkZXIoW2RyYWdFbnRyeV0sIGN1cnJlbnRGb2xkZXIsIGRlc3RpbmF0aW9uRm9sZGVyKTtcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQ2hlY2tzIGlmIGVudHJ5IGNhbiBiZSBtb3ZlZCB0byBuZXdGb2xkZXIsIGFuZCBpZiBzbywgbW92ZXMgaXQgYW5kIHJlZnJlc2hlcyBkYXNoYm9hcmQuXG4gKiBcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnRGb2xkZXIgXG4gKiBAcGFyYW0gbmV3Rm9sZGVyIFxuICovXG5mdW5jdGlvbiBtb3ZlVG9Gb2xkZXIoZW50cmllczogSUVudHJ5W10sIHBhcmVudEZvbGRlcjogSUZvbGRlciwgbmV3Rm9sZGVyOiBJRm9sZGVyKSB7XG4gIGNvbnN0IGVycm9yTWVzc2FnZXMgPSBbXTtcbiAgZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIC8vIEhhbmRsZSBuYW1lIGNvbmZsaWN0cyBmb3IgdHJhc2ggZm9sZGVyXG4gICAgaWYgKG5ld0ZvbGRlci50eXBlID09PSAndHJhc2gnICYmIG5ld0ZvbGRlci5jaGlsZHJlbi5zb21lKChlKSA9PiBlLm5hbWUgPT09IGVudHJ5Lm5hbWUpKSB7XG4gICAgICBlbnRyeS5uYW1lID0gdHJhc2hGTkNvbmZsaWN0SGFuZGxlcihlbnRyeS5uYW1lKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBGaWxlU3lzdGVtVG9vbHMuY2FuTW92ZUVudHJ5KGVudHJ5LCBwYXJlbnRGb2xkZXIsIG5ld0ZvbGRlcik7XG4gICAgaWYgKCFyZXNwb25zZS5zdWNjZWVkZWQpIGVycm9yTWVzc2FnZXMucHVzaChyZXNwb25zZS5lcnJvcik7XG4gICAgZWxzZSBGaWxlU3lzdGVtVG9vbHMubW92ZUVudHJ5KGVudHJ5LCBwYXJlbnRGb2xkZXIsIG5ld0ZvbGRlcik7XG4gIH0pO1xuICBcbiAgZXJyb3JNZXNzYWdlcy5maWx0ZXIoKG1zZywgaWR4LCBhcnIpID0+IGFyci5pbmRleE9mKG1zZykgPT09IGlkeCk7XG4gIGlmIChlcnJvck1lc3NhZ2VzLmxlbmd0aCA+IDApIHdpbmRvdy5hbGVydChlcnJvck1lc3NhZ2VzLmpvaW4oJ1xcbicpKTtcblxuICB1cGRhdGVEYXNoYm9hcmQoKTtcbn1cblxuZnVuY3Rpb24gdHJhc2hGTkNvbmZsaWN0SGFuZGxlcihmaWxlbmFtZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCk7XG4gIHJldHVybiBmaWxlbmFtZSArICcgLSAnICsgZGF0ZXRpbWU7XG59XG5cbi8qKlxuICogT3BlbnMgTW92ZS1UbyBtZW51IG1vZGFsIHdpbmRvdyB3aXRoIFVJIGZvciBtb3Zpbmcgc2VsZWN0ZWQgZW50cmllcyB0byBhIG5ldyBmb2xkZXIuXG4gKi9cbmZ1bmN0aW9uIG9wZW5Nb3ZlVG9XaW5kb3coKSB7XG4gIC8vIGdlbmVyYXRlIG1vZGFsIHdpbmRvd1xuICBjb25zdCBtb2RhbFdpbmRvdyA9IG5ldyBNb2RhbFdpbmRvdygpO1xuICBtb2RhbFdpbmRvdy5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE8pO1xuICBtb2RhbFdpbmRvdy5vcGVuTW9kYWxXaW5kb3coKTtcblxuICBjb25zdCBzZWxlY3RlZEVudHJpZXMgPSBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKTtcbiAgY29uc3QgcGFyZW50Rm9sZGVyID0gc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCk7XG5cbiAgLy8gQ2FsbGJhY2sgZm9yIHdoZW4gdXNlciBkb3VibGUtY2xpY2tzIG9uIGEgZm9sZGVyIGFuZCBtb3ZlcyBzZWxlY3Rpb25cbiAgY29uc3QgbW92ZVRvQ2FsbGJhY2sgPSAobmV3UGFyZW50Rm9sZGVyOiBJRm9sZGVyKSA9PiB7XG4gICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgbW92ZVRvRm9sZGVyKHNlbGVjdGVkRW50cmllcywgcGFyZW50Rm9sZGVyLCBuZXdQYXJlbnRGb2xkZXIpO1xuICB9O1xuXG4gIGNvbnN0IHJvb3RUcmVlID0gZ2VuZXJhdGVSb290VHJlZShtb3ZlVG9DYWxsYmFjayk7XG4gIGNvbnN0IHRyZWVDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdHJlZUNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCd0cmVlLWNvbnRhaW5lcicpO1xuICB0cmVlQ29udGFpbmVyLmFwcGVuZENoaWxkKHJvb3RUcmVlKTtcblxuICBjb25zdCBtb2RhbENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWNvbnRhaW5lcicpO1xuICBtb2RhbENvbnRhaW5lci5pbm5lckhUTUwgPSAnPHNwYW4gY2xhc3M9XCJtb3ZlLW1lbnUtbXNnXCI+RG91YmxlLWNsaWNrIHRoZSBmb2xkZXIgeW91IHdhbnQgdG8gbW92ZSB5b3VyIGl0ZW1zIHRvITwvc3Bhbj4nO1xuICBtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZCh0cmVlQ29udGFpbmVyKTtcbn1cblxuLyoqXG4gKiBPcGVucyBOZXcgRm9sZGVyIG1lbnUgbW9kYWwgd2luZG93IHRoYXQgcHJvbXB0cyBmb3IgYSBuYW1lLlxuICogT24gY2xpY2tpbmcgdGhlIENyZWF0ZSBidXR0b24sIGNsb3NlcyBtb2RhbCB3aW5kb3cgYW5kIGNyZWF0ZXMgbmV3IGZvbGRlci5cbiAqL1xuZnVuY3Rpb24gb3Blbk5ld0ZvbGRlcldpbmRvdygpIHtcbiAgaWYgKCFuZXdGb2xkZXJCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuXG4gIC8vIGdlbmVyYXRlIG1vZGFsIHdpbmRvd1xuICBjb25zdCBtb2RhbFdpbmRvdyA9IG5ldyBNb2RhbFdpbmRvdygpO1xuICBtb2RhbFdpbmRvdy5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVIpO1xuICBtb2RhbFdpbmRvdy5vcGVuTW9kYWxXaW5kb3coKTtcblxuICBcbiAgY29uc3QgaW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lcicpIGFzIEhUTUxEaXZFbGVtZW50O1xuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsX2Rhc2hib2FyZCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb25maXJtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1fZGFzaGJvYXJkJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBpbnB1dC5pZCA9ICdkYXNoYm9hcmRfaW5wdXQnO1xuICBpbnB1dC50eXBlID0gJ3RleHQnO1xuICBpbnB1dC5wbGFjZWhvbGRlciA9ICdVbnRpdGxlZCBGb2xkZXInO1xuICBpbnB1dC52YWx1ZSA9ICdVbnRpdGxlZCBGb2xkZXInO1xuICBpbnB1dENvbnRhaW5lci5hcHBlbmRDaGlsZChpbnB1dCk7XG5cbiAgaW5wdXQuc2VsZWN0KCk7XG4gIGlucHV0LmZvY3VzKCk7XG5cbiAgY2FuY2VsQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCkpO1xuICBjb25maXJtQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gY29uZmlybU5ld0ZvbGRlckFjdGlvbihtb2RhbFdpbmRvdywgaW5wdXQudmFsdWUpKTtcblxuICBpbnB1dENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBjb25maXJtTmV3Rm9sZGVyQWN0aW9uKG1vZGFsV2luZG93LCBpbnB1dC52YWx1ZSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gY29uZmlybU5ld0ZvbGRlckFjdGlvbihtb2RhbFdpbmRvdzogTW9kYWxXaW5kb3csIGZvbGRlck5hbWU6IHN0cmluZykge1xuICBpZiAoIW5hbWVFeGlzdHMoZm9sZGVyTmFtZSkpIHtcbiAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICBoYW5kbGVBZGRGb2xkZXIoZm9sZGVyTmFtZSk7XG4gIH0gXG4gIGVsc2Uge1xuICAgIHdpbmRvdy5hbGVydCgnVGhlIGZvbGRlciBuYW1lIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjdXJyZW50IGZvbGRlciEnKTtcbiAgICBvcGVuTmV3Rm9sZGVyV2luZG93KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBPcGVucyBSZW5hbWUgbWVudSBtb2RhbCB3aW5kb3cgdGhhdCBwcm9tcHRzIGZvciBhIG5ldyBuYW1lLlxuICovXG5mdW5jdGlvbiBvcGVuUmVuYW1lV2luZG93KCkge1xuICAvLyBnZW5lcmF0ZSBtb2RhbCB3aW5kb3dcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgTW9kYWxXaW5kb3coKTtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5SRU5BTUUpO1xuICBtb2RhbFdpbmRvdy5vcGVuTW9kYWxXaW5kb3coKTtcblxuICBjb25zdCBpbnB1dENvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkYXNoYm9hcmRfaW5wdXRfY29udGFpbmVyJykgYXMgSFRNTERpdkVsZW1lbnQ7XG4gIGNvbnN0IGNhbmNlbEJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYW5jZWxfZGFzaGJvYXJkJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGNvbnN0IGNvbmZpcm1CdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29uZmlybV9kYXNoYm9hcmQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcblxuICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gIGlucHV0LmlkID0gJ2Rhc2hib2FyZF9pbnB1dCc7XG4gIGlucHV0LnR5cGUgPSAndGV4dCc7XG4gIGNvbnN0IHByZXZOYW1lID0gc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKClbMF0ubmFtZTtcbiAgaW5wdXQucGxhY2Vob2xkZXIgPSBwcmV2TmFtZTtcbiAgaW5wdXQudmFsdWUgPSBwcmV2TmFtZTtcbiAgaW5wdXRDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gIGlucHV0LnNlbGVjdCgpO1xuICBpbnB1dC5mb2N1cygpO1xuXG4gIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpKTtcbiAgY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbmZpcm1SZW5hbWVBY3Rpb24obW9kYWxXaW5kb3csIGlucHV0LnZhbHVlLCBwcmV2TmFtZSkpO1xuXG4gIGlucHV0Q29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZlbnQpID0+IHtcbiAgICBpZiAoZXZlbnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgfSBlbHNlIGlmIChldmVudC5rZXkgPT09ICdFbnRlcicpIHtcbiAgICAgIGNvbmZpcm1SZW5hbWVBY3Rpb24obW9kYWxXaW5kb3csIGlucHV0LnZhbHVlLCBwcmV2TmFtZSk7XG4gICAgfVxuICB9KTtcbiAgXG59XG5cbi8vIE9uIGNvbmZpcm1hdGlvbiwgY2xvc2UgbW9kYWwgd2luZG93IGFuZCByZW5hbWUgZW50cnkgKGlmIGZpbGUsIGRhdGFiYXNlIGlzIHVwZGF0ZWQpXG5mdW5jdGlvbiBjb25maXJtUmVuYW1lQWN0aW9uKG1vZGFsV2luZG93OiBNb2RhbFdpbmRvdywgbmV3TmFtZTogc3RyaW5nLCBwcmV2TmFtZTogc3RyaW5nKSB7XG4gIC8vIGNoZWNrIGZvciBkdXBsaWNhdGVkIG5hbWVzXG4gIGlmIChuZXdOYW1lID09PSBwcmV2TmFtZSkge1xuICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICB9XG4gIGVsc2Uge1xuICAgIGlmICghbmFtZUV4aXN0cyhuZXdOYW1lKSkge1xuICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgICBjb25zdCBlbnRyeSA9IHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpWzBdO1xuICAgICAgcmVuYW1lRW50cnkoZW50cnksIG5ld05hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHdpbmRvdy5hbGVydCgnVGhlIGZpbGVuYW1lIGFscmVhZHkgZXhpc3RzIGluIHRoZSBjdXJyZW50IGZvbGRlciEnKTtcbiAgICAgIG9wZW5SZW5hbWVXaW5kb3coKTtcbiAgICB9XG4gIH0gIFxufVxuXG5mdW5jdGlvbiBuYW1lRXhpc3RzKG5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICBjb25zdCBwYXJlbnQgPSBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKTtcbiAgcmV0dXJuIHBhcmVudC5jaGlsZHJlbi5zb21lKChlKSA9PiBlLm5hbWUgPT09IG5hbWUpO1xufVxuXG4vKipcbiAqIFJlY3Vyc2l2ZSBmdW5jdGlvbiB0byBnZW5lcmF0ZSBmb2xkZXIgdHJlZSBzdHJ1Y3R1cmUgZm9yIG1vdmUtdG8gbWVudVxuICogXG4gKiBAcGFyYW0gZm9sZGVyIElGb2xkZXIgdG8gZ2VuZXJhdGUgdHJlZSBzdHJ1Y3R1cmUgZm9yIGFuZCBhbGwgaXRzIHN1YmZvbGRlcnNcbiAqIEBwYXJhbSBjYWxsYmFjayBDYWxsYmFjayBmdW5jdGlvbiBmb3Igd2hlbiB1c2VyIGRvdWJsZS1jbGlja3Mgb24gYSBmb2xkZXIgYW5kIG1vdmVzIHNlbGVjdGlvblxuICogQHBhcmFtIGRlZ3JlZSBUaGUgbGV2ZWwgb2Ygc3ViZm9sZGVycyBkZWVwXG4gKiBAcmV0dXJucyBMaXN0IGl0ZW0gbm9kZVxuICovXG5mdW5jdGlvbiBnZW5lcmF0ZUZvbGRlclRyZWUoZm9sZGVyOiBJRm9sZGVyLCBtb3ZlVG9DYWxsYmFjazogKG5ld1BhcmVudEZvbGRlciA6SUZvbGRlcikgPT4gdm9pZCwgZGVncmVlOiBudW1iZXIpOiBIVE1MTElFbGVtZW50IHtcblxuICBjb25zdCB0cmVlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGknKTtcbiAgLy8gY29udGFpbmVyIGZvciBmb2xkZXIgbmFtZSBhbmQgYXJyb3dcbiAgY29uc3QgbGlDb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbGlDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndHJlZS1saS1jb250YWluZXInKTtcblxuICAvLyBGb2xkZXIgVEVYVDogY2xpY2sgdG8gc2VsZWN0IChmb3IgVVgpLCBkb3VibGUgY2xpY2sgdG8gbW92ZSBpdGVtcyB0byBmb2xkZXJcbiAgY29uc3QgZm9sZGVyTmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBmb2xkZXJOYW1lLmNsYXNzTGlzdC5hZGQoJ3RyZWUtbmFtZScpO1xuICBmb2xkZXJOYW1lLmlubmVySFRNTCA9IGZvbGRlci5uYW1lO1xuXG4gIC8vIE9uIHNpbmdsZSBjbGljaywgaGlnaGxpZ2h0L3NlbGVjdCBmb2xkZXIgbmFtZVxuICBmb2xkZXJOYW1lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50cmVlLW5hbWUnKS5mb3JFYWNoKGVsZW0gPT4gZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpKTtcbiAgICBmb2xkZXJOYW1lLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gIH0pO1xuXG4gIC8vIE9uIGRvdWJsZSBjbGljaywgbW92ZSBzZWxlY3RlZCBpdGVtcyB0byBmb2xkZXJcbiAgZm9sZGVyTmFtZS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsICgpID0+IHtcbiAgICBtb3ZlVG9DYWxsYmFjayhmb2xkZXIpO1xuICB9KTtcblxuICAvLyBJZiBGb2xkZXIgaGFzIG5vIHN1YmZvbGRlcnMsIHJldHVybiB3aXRob3V0IG5lc3RlZCB1bFxuICBjb25zdCBpc0xlYWYgPSBmb2xkZXIuY2hpbGRyZW4uZXZlcnkoZW50cnkgPT4gZW50cnkudHlwZSAhPT0gJ2ZvbGRlcicpO1xuICBpZiAoaXNMZWFmKSB7XG4gICAgdHJlZS5hcHBlbmRDaGlsZChsaUNvbnRhaW5lcik7XG4gICAgbGlDb250YWluZXIuYXBwZW5kQ2hpbGQoZm9sZGVyTmFtZSk7XG4gICAgcmV0dXJuIHRyZWU7XG4gIH1cbiAgLy8gT3RoZXJ3aXNlIEZvbGRlciBpcyBub3QgZW1wdHksIG1ha2UgdHJlZSBzdHJ1Y3R1cmVcblxuICAvLyBVbm9yZGVyZWQgTElTVCAoaGlkaW5nIG9yIHVuaGlkaW5nIGxpKVxuICBjb25zdCB1bCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG5cbiAgLy8gQVJST1dcbiAgY29uc3QgYXJyb3cgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgYXJyb3cuY2xhc3NMaXN0LmFkZCgndHJlZS1hcnJvdycpO1xuICBhcnJvdy5pbm5lckhUTUwgPSAn4pa2JztcblxuICAvLyBpZiBtb3JlIHRoYW4gLi4uIHN1YmZvbGRlcnMgZG93biwgaGlkZSBieSBkZWZhdWx0XG4gIGlmIChkZWdyZWUgPCAyKSB1bC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgaWYgKGRlZ3JlZSA8IDIpIGFycm93LmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICBcbiAgYXJyb3cuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgYXJyb3cuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gICAgdWwuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJyk7XG4gIH0pO1xuXG4gIHRyZWUuYXBwZW5kQ2hpbGQobGlDb250YWluZXIpO1xuICBsaUNvbnRhaW5lci5hcHBlbmRDaGlsZChhcnJvdyk7XG4gIGxpQ29udGFpbmVyLmFwcGVuZENoaWxkKGZvbGRlck5hbWUpO1xuICB0cmVlLmFwcGVuZENoaWxkKHVsKTtcblxuICAvLyBBcHBlbmQgZm9sZGVyIGNvbnRlbnRzXG4gIGZvbGRlci5jaGlsZHJlbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIGlmIChlbnRyeS50eXBlID09PSAnZm9sZGVyJykge1xuICAgICAgY29uc3QgZm9sZGVyVHJlZSA9IGdlbmVyYXRlRm9sZGVyVHJlZShlbnRyeSBhcyBJRm9sZGVyLCBtb3ZlVG9DYWxsYmFjaywgZGVncmVlICsgMSk7XG4gICAgICB1bC5hcHBlbmRDaGlsZChmb2xkZXJUcmVlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdHJlZTtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZXMgZW50aXJlIGZpbGUgc3lzdGVtIGZvbGRlciB0cmVlIGZvciBtb3ZlLXRvIG1lbnVcbiAqIFxuICogQHBhcmFtIG1vdmVUb0NhbGxiYWNrIGNhbGxiYWNrIGZ1bmN0aW9uIGZvciB3aGVuIHVzZXIgZG91YmxlLWNsaWNrcyBvbiBhIGZvbGRlciBhbmQgbW92ZXMgc2VsZWN0aW9uXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVSb290VHJlZShtb3ZlVG9DYWxsYmFjazogKG5ld1BhcmVudEZvbGRlciA6SUZvbGRlcikgPT4gdm9pZCk6IEhUTUxVTGlzdEVsZW1lbnQge1xuICBjb25zdCByb290VHJlZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3VsJyk7XG4gIHJvb3RUcmVlLmlkID0gJ3RyZWUtcm9vdCc7XG4gIHJvb3RUcmVlLmFwcGVuZENoaWxkKGdlbmVyYXRlRm9sZGVyVHJlZShzdGF0ZS5yb290KCksIG1vdmVUb0NhbGxiYWNrLCAwKSk7XG4gIHJldHVybiByb290VHJlZTtcbn1cblxuLyoqXG4gKiBEaXNwbGF5cyBkYXNoYm9hcmQgY29udGV4dCBtZW51IHdpdGggdGhlIGFwcHJvcHJpYXRlIGNvbnRlbnQgXG4gKiBcbiAqIEBwYXJhbSB2aWV3IGNvbnRleHQgbWVudSB2aWV3IChkZXRlcm1pbmVzIGNvbnRlbnQgb2YgY29udGV4dCBtZW51KVxuICovXG5mdW5jdGlvbiBzaG93Q29udGV4dE1lbnUodmlldzogc3RyaW5nLCBjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcikge1xuXG4gIHN3aXRjaCAodmlldykge1xuICAgIC8vIENvbnRleHQgbWVudSBvcHRpb25zIHdoZW4gZmlsZXMvZm9sZGVycyBhcmUgcmlnaHQtY2xpY2tlZFxuICAgIGNhc2UgJ3NlbGVjdGlvbi1vcHRpb25zJzpcblxuICAgICAgLy8gTmVlZCB0byBkZXRlcm1pbmUgc2VsZWN0aW9uIGNhdGVnb3J5IGJlZm9yZSBkaXNwbGF5aW5nIG9wdGlvbnNcbiAgICAgIGNvbnN0IG51bWJlck9mU2VsZWN0ZWRGaWxlcyA9IHN0YXRlLmdldFNlbGVjdGVkRmlsZXMoKS5sZW5ndGg7XG4gICAgICBjb25zdCBudW1iZXJPZlNlbGVjdGVkRm9sZGVycyA9IHN0YXRlLmdldFNlbGVjdGVkRm9sZGVycygpLmxlbmd0aDtcbiAgICAgIGNvbnN0IHNlbGVjdGVkVHJhc2ggPSBzdGF0ZS5nZXRTZWxlY3RlZFRyYXNoKCkubGVuZ3RoO1xuXG4gICAgICAvKipcbiAgICAgICAqIENvbnRleHQgbWVudSBvcHRpb25zIGNvbmRpdGlvbnM6XG4gICAgICAgKiAgICAxKSAxIGZpbGUgLT4gb3BlbiwgbW92ZSB0byB0cmFzaCwgbW92ZVxuICAgICAgICogICAgMikgMisgZmlsZXMgLT4gb3BlbiwgbW92ZSB0byB0cmFzaCwgbW92ZVxuICAgICAgICogICAgMykgZmlsZShzKSArIGZvbGRlcihzKSAtPiBtb3ZlIHRvIHRyYXNoLCBtb3ZlXG4gICAgICAgKiAgICA0KSAxIGZvbGRlciAtPiBvcGVuLCBtb3ZlIHRvIHRyYXNoLCBtb3ZlXG4gICAgICAgKiAgICA1KSAyKyBmb2xkZXJzIC0+IG1vdmUgdG8gdHJhc2gsIG1vdmVcbiAgICAgICAqICAgIDYpIHRyYXNoIC0+IGVtcHR5IHRyYXNoXG4gICAgICAgKiAgICA3KSBlbnRyeSBpbiB0cmFzaCAtPiBwdXQgYmFjaywgZGVsZXRlXG4gICAgICAgKi9cblxuXG4gICAgICAvLyB0cmFzaFxuICAgICAgaWYgKCFudW1iZXJPZlNlbGVjdGVkRmlsZXMgJiYgIW51bWJlck9mU2VsZWN0ZWRGb2xkZXJzICYmIHNlbGVjdGVkVHJhc2gpIHtcbiAgICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQudHJhc2hGb2xkZXJPcHRpb25zO1xuICAgICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ3RyYXNoLWZvbGRlci1vcHRpb25zJyk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChzdGF0ZS5nZXRGb2xkZXJQYXRoKCkubGVuZ3RoID4gMSAmJiBzdGF0ZS5nZXRGb2xkZXJQYXRoKCkuYXQoMSkubmFtZSA9PSAnVHJhc2gnKSB7XG4gICAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50LnRyYXNoRW50cnlPcHRpb25zO1xuICAgICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ3RyYXNoLWVudHJ5LW9wdGlvbnMnKTtcbiAgICAgIH1cbiAgICAgIC8vIDEgZmlsZVxuICAgICAgZWxzZSBpZiAobnVtYmVyT2ZTZWxlY3RlZEZpbGVzID09PSAxICYmICFudW1iZXJPZlNlbGVjdGVkRm9sZGVycyAmJiAhc2VsZWN0ZWRUcmFzaCkge1xuICAgICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC5zaW5nbGVGaWxlT3B0aW9ucztcbiAgICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCdzaW5nbGUtZmlsZS1vcHRpb25zJyk7XG4gICAgICB9XG4gICAgICAvLyAyKyBmaWxlc1xuICAgICAgZWxzZSBpZiAobnVtYmVyT2ZTZWxlY3RlZEZpbGVzID4gMSAmJiAhbnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMgJiYgIXNlbGVjdGVkVHJhc2gpIHtcbiAgICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQubXVsdGlGaWxlT3B0aW9ucztcbiAgICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCdtdWx0aS1maWxlLW9wdGlvbnMnKTtcbiAgICAgIH1cbiAgICAgIC8vIGZpbGUocykgKyBmb2xkZXIocylcbiAgICAgIGVsc2UgaWYgKG51bWJlck9mU2VsZWN0ZWRGaWxlcyA+PSAxICYmIG51bWJlck9mU2VsZWN0ZWRGb2xkZXJzID49IDEgJiYgIXNlbGVjdGVkVHJhc2gpIHtcbiAgICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQuZm9sZGVyQW5kRmlsZU9wdGlvbnM7XG4gICAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygnZm9sZGVyLWFuZC1maWxlLW9wdGlvbnMnKTtcbiAgICAgIH1cbiAgICAgIC8vIDEgZm9sZGVyXG4gICAgICBlbHNlIGlmICghbnVtYmVyT2ZTZWxlY3RlZEZpbGVzICYmIG51bWJlck9mU2VsZWN0ZWRGb2xkZXJzID09PSAxICYmICFzZWxlY3RlZFRyYXNoKSB7XG4gICAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50LnNpbmdsZUZvbGRlck9wdGlvbnM7XG4gICAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygnc2luZ2xlLWZvbGRlci1vcHRpb25zJyk7XG4gICAgICB9XG4gICAgICAvLyAyKyBmb2xkZXJzXG4gICAgICBlbHNlIGlmICghbnVtYmVyT2ZTZWxlY3RlZEZpbGVzICYmIG51bWJlck9mU2VsZWN0ZWRGb2xkZXJzID4gMSAmJiAhc2VsZWN0ZWRUcmFzaCkge1xuICAgICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC5tdWx0aUZvbGRlck9wdGlvbnM7XG4gICAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygnbXVsdGktZm9sZGVyLW9wdGlvbnMnKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gRGVmYXVsdCBjb250ZXh0IG1lbnUgKHJpZ2gtY2xpY2tpbmcgb24gZGFzaGJvYXJkIGJhY2tncm91bmQpXG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50LmRlZmF1bHRPcHRpb25zO1xuICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCdkZWZhdWx0Jyk7XG4gIH1cblxuICAvLyBkaXNhYmxlIGVkaXRvciBtZW51IGZvciB0aGUgc2FtcGxlcyBmb2xkZXIgYW5kIHRyYXNoXG4gIGlmKHN0YXRlLmdldFBhcmVudEZvbGRlcigpLm1ldGFkYXRhWydpbW11dGFibGUnXSB8fCBcbiAgKHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpWzBdICYmIHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpWzBdLm1ldGFkYXRhWydpbW11dGFibGUnXSkgfHxcbiAgc3RhdGUuaXNJblRyYXNoKCkpIHtcbiAgICBjb25zdCBkZWxldGVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY20tcmVtb3ZlLWJ0bicpO1xuICAgIGNvbnN0IHJlbmFtZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbS1yZW5hbWUtYnRuJyk7XG4gICAgY29uc3QgbW92ZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbS1tb3ZlLWJ0bicpO1xuICAgIGNvbnN0IHVwZGF0ZURvY0J0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbS11cGxvYWQtZG9jLWJ0bicpO1xuICAgIGNvbnN0IG5ld0ZvbGRlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjbS1uZXctZm9sZGVyLWJ0bicpO1xuXG4gICAgaWYgKGRlbGV0ZUJ0bikge1xuICAgICAgZGVsZXRlQnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmIChyZW5hbWVCdG4pIHtcbiAgICAgIHJlbmFtZUJ0bi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBpZiAobW92ZUJ0bikge1xuICAgICAgbW92ZUJ0bi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBpZiAodXBkYXRlRG9jQnRuKSB7XG4gICAgICB1cGRhdGVEb2NCdG4uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaWYgKG5ld0ZvbGRlckJ0bikge1xuICAgICAgbmV3Rm9sZGVyQnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gZ2V0IHRoZSBwb3NpdGlvbiBvZiB0aGUgdXNlcidzIG1vdXNlXG4gIGNvbnRleHRNZW51LnN0eWxlLmxlZnQgPSBgJHtjbGllbnRYfXB4YDtcbiAgY29udGV4dE1lbnUuc3R5bGUudG9wID0gYCR7Y2xpZW50WX1weGA7XG5cbiAgLy8gZGlzcGxheSBjb250ZXh0IG1lbnVcbiAgY29udGV4dE1lbnUuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG59XG5cblxuLyoqXG4gKiBTZXQgZXZlbnQgbGlzdGVuZXJzIGZvciB0aGUgbWVudSBpdGVtcyBpbiBhIHBhcnRpY3VsYXIgY29udGV4dCBtZW51LlxuICogXG4gKiBAcGFyYW0gdmlldyBUaGUgbmFtZSBvZiB0aGUgY29udGV4dCBtZW51IHZpZXcgdGhhdCBpcyBiZWluZyBkaXNwbGF5ZWQuXG4gKi9cbmZ1bmN0aW9uIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycyh2aWV3OiBzdHJpbmcpIHtcbiAgLy8gQWxsIHRoZSBidXR0b25zIHRoYXQgd2lsbCBoYXZlIGV2ZW50cyBhdHRhY2hlZCB0byB0aGVtIGhhdmUgdGhlIHNhbWUgY2xhc3NuYW1lLlxuICBjb25zdCBidG5DbGFzc25hbWUgPSAnY29udGV4dC1tZW51LWl0ZW0td3JhcHBlcic7XG5cbiAgc3dpdGNoICh2aWV3KSB7XG5cbiAgICBjYXNlICdzaW5nbGUtZmlsZS1vcHRpb25zJzpcbiAgICAgIC8vIFwiT3BlblwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1vcGVuLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmUgdG8gVHJhc2hcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVtb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZW1vdmVEb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiUmVuYW1lXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlbmFtZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3BlblJlbmFtZVdpbmRvdygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1tb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuTW92ZVRvV2luZG93KCk7ICAgXG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG4gICAgXG4gICAgY2FzZSAnbXVsdGktZmlsZS1vcHRpb25zJzpcbiAgICAgIC8vIFwiT3BlblwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1vcGVuLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmUgdG8gVHJhc2hcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVtb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZW1vdmVEb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1tb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuTW92ZVRvV2luZG93KCk7XG4gICAgICB9KTsgICAgICBcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdmb2xkZXItYW5kLWZpbGUtb3B0aW9ucyc6XG4gICAgICAvLyBcIk1vdmUgdG8gVHJhc2hcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVtb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZW1vdmVEb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1tb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuTW92ZVRvV2luZG93KCk7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG4gICAgXG4gICAgY2FzZSAnc2luZ2xlLWZvbGRlci1vcHRpb25zJzpcbiAgICAgIC8vIFwiT3BlblwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1vcGVuLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmUgdG8gVHJhc2hcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVtb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZW1vdmVEb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiUmVuYW1lXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlbmFtZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3BlblJlbmFtZVdpbmRvdygpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1tb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuTW92ZVRvV2luZG93KCk7XG4gICAgICB9KTsgICAgICBcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdtdWx0aS1mb2xkZXItb3B0aW9ucyc6XG4gICAgICAvLyBcIk1vdmUgdG8gVHJhc2hcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVtb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICByZW1vdmVEb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTW92ZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1tb3ZlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuTW92ZVRvV2luZG93KCk7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG4gICAgXG4gICAgY2FzZSAndHJhc2gtZm9sZGVyLW9wdGlvbnMnOlxuICAgICAgLy8gXCJFbXB0eSBUcmFzaFwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1lbXB0eS10cmFzaC1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgZW1wdHlUcmFzaEhhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3RyYXNoLWVudHJ5LW9wdGlvbnMnOlxuICAgICAgLy8gXCJQdXQgQmFja1wiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZWNvdmVyLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBwdXRCYWNrRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIkRlbGV0ZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1kZWxldGUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGRlbGV0ZURvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gXCJVcGxvYWQgZG9jdW1lbnRcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tdXBsb2FkLWRvYy1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3BlblVwbG9hZEFyZWFIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJOZXcgZm9sZGVyXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLW5ldy1mb2xkZXItYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5OZXdGb2xkZXJXaW5kb3coKTtcbiAgICAgIH0pO1xuXG4gIH1cblxufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBkYXNoYm9hcmQgY29udGV4dCBtZW51IChyaWdodCBjbGljayBtZW51KS5cbiAqIFRoaXMgd2lsbCBzZXQgdXAgYWxsIG5lY2Vzc2FyeSBldmVudCBsaXN0ZW5lcnMgYXMgd2VsbCBhc1xuICogdGhlIGxvZ2ljIHRvIGRldGVybWluZSB0aGUgY29udGVudCBvZiB0aGUgY29udGV4dCBtZW51LCB3aGljaFxuICogbWF5IGNoYW5nZSBkZXBlbmRpbmcgb24gd2hlcmUgdGhlIHVzZXIgcmlnaHQtY2xpY2tzIChmaWxlLCBmaWxlcywgZm9sZGVyLCBiYWNrZ3JvdW5kLCBldGMuKVxuICovXG5mdW5jdGlvbiBpbml0aWFsaXplRGVmYXVsdENvbnRleHRNZW51KCkge1xuXG4gIC8vIHJpZ2h0LWNsaWNrIG9uIGRhc2hib2FyZCBiYWNrZ3JvdW5kXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXNlY3Rpb24nKS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgdW5zZWxlY3RBbGwoKTtcblxuICAgIHNob3dDb250ZXh0TWVudShcbiAgICAgICdkZWZhdWx0JywgXG4gICAgICAoPE1vdXNlRXZlbnQ+IGUpLmNsaWVudFgsIFxuICAgICAgKDxNb3VzZUV2ZW50PiBlKS5jbGllbnRZXG4gICAgKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1haW4tc2VjdGlvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQWRkIGxpc3RlbmVycyBmb3Igc3BlY2lmaWMgY29udGV4dCBtZW51cy5cbiAqIFNwZWNpZmljIGNvbnRleHQgbWVudXMgYXBwZWFyIHdoZW4gdXNlciByaWdodC1jbGlja3Mgb24gc2VsZWN0ZWQgZmlsZXMvZm9sZGVycy5cbiAqIFRoZSBhY3R1YWwgbWVudSB0aGF0IGlzIHNob3duIGRlcGVuZHMgb24gdGhlIHR5cGUgb2Ygc2VsZWN0aW9uLlxuICovXG5mdW5jdGlvbiBhZGRTcGVjaWZpY0NvbnRleHRNZW51TGlzdGVuZXJzKHRpbGUsIGluZGV4KSB7XG5cbiAgLy8gcmlnaHQtY2xpY2sgb24gZm9sZGVyIGl0ZW0gKGZpbGUgb3IgZm9sZGVyKVxuICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIGlmIChyaWdodENsaWNrZWQgfHwgc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCkubGVuZ3RoID09PSAxKSB7XG4gICAgICB1bnNlbGVjdEFsbCgpO1xuICAgIH1cblxuICAgIC8vIHNlbGVjdFxuICAgIHNlbGVjdChpbmRleCk7XG5cbiAgICBzaG93Q29udGV4dE1lbnUoXG4gICAgICAnc2VsZWN0aW9uLW9wdGlvbnMnLCBcbiAgICAgICg8TW91c2VFdmVudD4gZSkuY2xpZW50WCwgXG4gICAgICAoPE1vdXNlRXZlbnQ+IGUpLmNsaWVudFlcbiAgICApO1xuICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIHJpZ2h0Q2xpY2tlZCA9IHRydWU7XG4gIH0pO1xuICAgIFxuICAvLyBoaWRlIGNvbnRleHQgbWVudSBpZiB1c2VyIGNsaWNrcyBhd2F5XG4gIG1haW5TZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBpZiAocmlnaHRDbGlja2VkKSB7XG4gICAgICBsZXQgY2xpY2tlZEVsZW1lbnQgPSBlLnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICAgIGlmIChjbGlja2VkRWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZG9jdW1lbnQtZW50cnknKSkge1xuICAgICAgICBjbGlja2VkRWxlbWVudCA9IGNsaWNrZWRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgICB9XG4gICAgICBcbiAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgcmlnaHRDbGlja2VkID0gZmFsc2U7XG4gICAgICBpZiAoIWNsaWNrZWRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZG9jdW1lbnQtZW50cnknKSkge1xuICAgICAgICAvLyBpZiBjbGlja3Mgb24gYmxhbmsgXG4gICAgICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gaWYgY2xpY2tzIG9uIGEgZmlsZS9mb2xkZXIsIHNlbGVjdCBpdFxuICAgICAgICBjb25zdCBjbGlja2VkRW50cnkgPSBnZXRFbnRyeUJ5SWQoY2xpY2tlZEVsZW1lbnQuaWQpO1xuICAgICAgICBzaGlmdFNlbGVjdGlvbkhhbmRsZXIoc3RhdGUuZ2V0SW5kZXhCeUVudHJ5TmFtZShjbGlja2VkRW50cnkubmFtZSkpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBUcmFzaCBmb2xkZXIgYnkgZGVsZXRpbmcgZW50cmllcyB0aGF0IHdlcmUgZGVsZXRlZCAzMCBkYXlzIGFnb1xuICovXG5mdW5jdGlvbiB1cGRhdGVUcmFzaChyb290OiBJRm9sZGVyKTogdm9pZCB7XG4gIGlmICghc3RhdGUuZ2V0VHJhc2hGb2xkZXIoKSkge1xuICAgIGZzbS5uZXdUcmFzaChyb290KTtcbiAgfVxuICBjb25zdCB0cmFzaEZvbGRlciA9IHN0YXRlLmdldFRyYXNoRm9sZGVyKCk7XG4gIGNvbnN0IGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcbiAgY29uc3QgdGhpcnR5RGF5c0FnbyA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLmdldFRpbWUoKSAtIDMwICogMjQgKiA2MCAqIDYwICogMTAwMCk7IC8vIDMwIGRheXMgaW4gbWlsbGlzZWNvbmRzXG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIGFuIGVudHJ5IHdhcyBkZWxldGVkIDMwIGRheXMgYWdvXG4gIGNvbnN0IHRvRGVsZXRlID0gKGVudHJ5OiBJRW50cnkpOiBib29sZWFuID0+IHtcbiAgICBpZiAoZW50cnkubWV0YWRhdGEgJiYgZW50cnkubWV0YWRhdGFbJ3JlbW92ZWRfb24nXSkge1xuICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKGVudHJ5Lm1ldGFkYXRhWydyZW1vdmVkX29uJ10gYXMgc3RyaW5nKTtcbiAgICAgIHJldHVybiBkYXRlIDw9IHRoaXJ0eURheXNBZ287XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfTtcblxuICAvLyBJdGVyYXRlIHRocm91Z2ggdGhlIGVudHJpZXMgaW4gdGhlIFRyYXNoXG4gIHRyYXNoRm9sZGVyLmNoaWxkcmVuLmZvckVhY2goKGVudHJ5KSA9PiB7XG4gICAgaWYgKHRvRGVsZXRlKGVudHJ5KSkge1xuICAgICAgLy8gRGVsZXRlIGVudHJ5IGlmIGRlbGV0ZWQgMzAgZGF5cyBhZ29cbiAgICAgIGlmIChlbnRyeS50eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgZGVsZXRlRmlsZUVudHJ5KGVudHJ5IGFzIElGaWxlLCB0cmFzaEZvbGRlcik7XG4gICAgICB9IGVsc2UgaWYgKGVudHJ5LnR5cGUgPT09ICdmb2xkZXInKSB7XG4gICAgICAgIGRlbGV0ZUZvbGRlckVudHJ5KGVudHJ5IGFzIElGb2xkZXIsIHRyYXNoRm9sZGVyKTsgXG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBMb2FkcyByb290IGZvbGRlciBpbnRvIGRhc2hib2FyZCBvbiBzdGFydHVwLiBcbiAqL1xuZXhwb3J0IGNvbnN0IGxvYWREYXNoYm9hcmQgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gIGNvbnN0IHJvb3QgPSBhd2FpdCBmc20uZ2V0Um9vdCgpO1xuICBzdGF0ZS5yb290KHJvb3QpO1xuICB1cGRhdGVUcmFzaChyb290KTtcbiAgdXBkYXRlRGFzaGJvYXJkKFtyb290XSk7XG4gIGluaXRpYWxpemVEZWZhdWx0Q29udGV4dE1lbnUoKTtcbn07IiwiaW1wb3J0IHsgbG9hZERhc2hib2FyZCB9IGZyb20gJy4uLy4uL3NyYy9EYXNoYm9hcmQvRGFzaGJvYXJkJztcblxubG9hZERhc2hib2FyZCgpO1xuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hvbWUtbGluaycpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBfX0xJTktfTE9DQVRJT05fXyk7IiwiZXhwb3J0IGVudW0gRW50cnlUeXBlIHtcbiAgRm9sZGVyID0gJ2ZvbGRlcicsXG4gIFRyYXNoID0gJ3RyYXNoJyxcbiAgRmlsZSA9ICdmaWxlJ1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElFbnRyeSB7XG4gIG5hbWU6IHN0cmluZztcbiAgdHlwZTogRW50cnlUeXBlO1xuICBpZDogc3RyaW5nO1xuICBjaGlsZHJlbjogSUVudHJ5W107XG4gIG1ldGFkYXRhOiB7IFtrZXk6IHN0cmluZ106IHVua25vd24gfTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRm9sZGVyIGV4dGVuZHMgSUVudHJ5IHtcbiAgdHlwZTogRW50cnlUeXBlLkZvbGRlciB8IEVudHJ5VHlwZS5UcmFzaDtcbiAgaWQ6IHN0cmluZztcbiAgY2hpbGRyZW46IElFbnRyeVtdO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIElGaWxlIGV4dGVuZHMgSUVudHJ5IHtcbiAgdHlwZTogRW50cnlUeXBlLkZpbGVcbiAgaWQ6IHN0cmluZztcbn0iLCJpbXBvcnQgeyBFbnRyeVR5cGUsIElFbnRyeSwgSUZvbGRlciwgSUZpbGUgfSBmcm9tICcuJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4uLy4uL3V0aWxzL3JhbmRvbSc7XG5cbi8qXG4qICAgRmlsZSBTeXN0ZW0gRnVuY3Rpb25zIHRoYXQgYXJlIHVzZWQgdG8gY3JlYXRlLCBtb3ZlLCBhbmQgZGVsZXRlIGZpbGUgc3lzdGVtIGVudHJpZXNcbiogICBEb2VzIG5vdCBkZXBlbmQgb24gc3RhdGUgXG4qL1xuXG5pbnRlcmZhY2UgcmVzcG9uc2VQcm9wIHtcbiAgc3VjY2VlZGVkOiBib29sZWFuLFxuICBlcnJvcjogc3RyaW5nLFxufVxuXG5jb25zdCBjcmVhdGVFbnRyeSA9IChuYW1lOiBzdHJpbmcsIHR5cGU6IEVudHJ5VHlwZSwgaWQ6IHN0cmluZywgY2hpbGRyZW4/OiBJRW50cnlbXSk6IElFbnRyeSA9PiB7XG4gIGNvbnN0IG1ldGFkYXRhID0ge307XG4gIGlmICh0eXBlID09PSBFbnRyeVR5cGUuRmlsZSkgcmV0dXJuIHsgbmFtZSwgdHlwZSwgaWQsIG1ldGFkYXRhIH0gYXMgSUVudHJ5O1xuICBlbHNlIHJldHVybiB7IG5hbWUsIHR5cGUsIGlkLCBjaGlsZHJlbiwgbWV0YWRhdGEgfSBhcyBJRW50cnk7XG59O1xuXG5jb25zdCBjcmVhdGVGb2xkZXIgPSAobmFtZTogc3RyaW5nKTogSUZvbGRlciA9PiB7XG4gIHJldHVybiBjcmVhdGVFbnRyeShuYW1lLCBFbnRyeVR5cGUuRm9sZGVyLCB1dWlkdjQoKSwgW10pIGFzIElGb2xkZXI7XG59O1xuXG5jb25zdCBjcmVhdGVUcmFzaCA9IChuYW1lOiBzdHJpbmcpOiBJRm9sZGVyID0+IHtcbiAgcmV0dXJuIGNyZWF0ZUVudHJ5KG5hbWUsIEVudHJ5VHlwZS5UcmFzaCwgdXVpZHY0KCksIFtdKSBhcyBJRm9sZGVyO1xufTtcblxuY29uc3QgY3JlYXRlRmlsZSA9IChuYW1lOiBzdHJpbmcsIGlkOiBzdHJpbmcpOiBJRmlsZSA9PiB7XG4gIHJldHVybiBjcmVhdGVFbnRyeShuYW1lLCBFbnRyeVR5cGUuRmlsZSwgaWQpIGFzIElGaWxlO1xufTtcblxuZnVuY3Rpb24gYWRkTWV0YWRhdGEoZW50cnk6IElFbnRyeSwgbWV0YWRhdGE6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogSUVudHJ5IHtcbiAgT2JqZWN0LmVudHJpZXMobWV0YWRhdGEpLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgIGVudHJ5Lm1ldGFkYXRhW2tleV0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiBlbnRyeTtcbn1cblxuZnVuY3Rpb24gcmVtb3ZlTWV0YWRhdGEoZW50cnk6IElFbnRyeSwga2V5czogc3RyaW5nW10pOiBJRW50cnkge1xuICBrZXlzLmZvckVhY2goKGtleSkgPT4ge1xuICAgIGRlbGV0ZSBlbnRyeS5tZXRhZGF0YVtrZXldO1xuICB9KTtcbiAgcmV0dXJuIGVudHJ5O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBlbnRyeSBjYW4gYmUgYWRkZWQgdG8gcGFyZW50IGZvbGRlclxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudCBcbiAqIEByZXR1cm5zIHJlc3BvbnNlIG9iamVjdCB7IHN1Y2NlZWRlZDogYm9vbGVhbiwgZXJyb3I6IHN0cmluZyB9XG4gKi9cbmNvbnN0IGNhbkFkZEVudHJ5ID0gKGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlcik6IHJlc3BvbnNlUHJvcCA9PiB7XG4gIGNvbnN0IG5hbWVFeGlzdHMgPSBwYXJlbnQuY2hpbGRyZW4uc29tZSgoZSkgPT4gZS5uYW1lID09PSBlbnRyeS5uYW1lKTtcbiAgY29uc3QgaXNJbW11dGFibGUgPSBwYXJlbnQubWV0YWRhdGFbJ2ltbXV0YWJsZSddO1xuXG4gIGNvbnN0IHJldHVybk9iaiA9IHsgc3VjY2VlZGVkOiBmYWxzZSwgZXJyb3I6ICcnIH07XG4gIGlmIChuYW1lRXhpc3RzKSAgICAgICByZXR1cm5PYmouZXJyb3IgPSBgRHVwbGljYXRlIG5hbWU6ICR7ZW50cnkubmFtZX0gYWxyZWFkeSBleGlzdHMgaW4gJHtwYXJlbnQubmFtZX0uYDtcbiAgZWxzZSBpZiAoaXNJbW11dGFibGUpICByZXR1cm5PYmouZXJyb3IgPSBgJHtwYXJlbnQubmFtZX0gaXMgaW1tdXRhYmxlLmA7XG4gIGVsc2UgcmV0dXJuT2JqLnN1Y2NlZWRlZCA9IHRydWU7XG5cbiAgcmV0dXJuIHJldHVybk9iajtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGVudHJ5IGNhbiBiZSByZW1vdmVkIGZyb20gcGFyZW50IGZvbGRlclxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudCBcbiAqIEByZXR1cm5zIHJlc3BvbnNlIG9iamVjdCB7IHN1Y2NlZWRlZDogYm9vbGVhbiwgZXJyb3I/OiBzdHJpbmcgfVxuICovXG5jb25zdCBjYW5SZW1vdmVFbnRyeSA9IChlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIpOiByZXNwb25zZVByb3AgPT4ge1xuICBjb25zdCBpZHggPSBwYXJlbnQuY2hpbGRyZW4uZmluZEluZGV4KChlKSA9PiBlLmlkID09PSBlbnRyeS5pZCk7XG4gIGNvbnN0IGV4aXN0c0luUGFyZW50ID0gaWR4ICE9PSAtMTtcbiAgY29uc3QgaXNJbW11dGFibGVQYXJlbnQgPSBwYXJlbnQubWV0YWRhdGFbJ2ltbXV0YWJsZSddO1xuICBjb25zdCBpc0ltbXV0YWJsZUVudHJ5ID0gZW50cnkubWV0YWRhdGFbJ2ltbXV0YWJsZSddO1xuXG4gIGNvbnN0IHJldHVybk9iaiA9IHsgc3VjY2VlZGVkOiBmYWxzZSwgZXJyb3I6ICcnIH07XG4gIGlmICghZXhpc3RzSW5QYXJlbnQpICAgICAgICAgICAgcmV0dXJuT2JqLmVycm9yID0gYCR7ZW50cnkubmFtZX0gZG9lcyBub3QgZXhpc3QgaW4gJHtwYXJlbnQubmFtZX0uYDtcbiAgZWxzZSBpZiAoaXNJbW11dGFibGVQYXJlbnQpICAgICByZXR1cm5PYmouZXJyb3IgPSBgJHtwYXJlbnQubmFtZX0gaXMgaW1tdXRhYmxlLmA7XG4gIGVsc2UgaWYgKGlzSW1tdXRhYmxlRW50cnkpICAgICAgcmV0dXJuT2JqLmVycm9yID0gYCR7ZW50cnkubmFtZX0gaXMgaW1tdXRhYmxlLmA7XG4gIGVsc2UgcmV0dXJuT2JqLnN1Y2NlZWRlZCA9IHRydWU7XG5cbiAgcmV0dXJuIHJldHVybk9iajtcbn07XG5cbi8qKlxuICogQ2hlY2tzIGlmIGVudHJ5IGNhbiBiZSBtb3ZlZCBmcm9tIHBhcmVudCB0byBuZXdQYXJlbnQgKG5vIGR1cGxpY2F0ZSwgbXV0YWJsZSBwYXJlbnRzLCBlbnRyeSBleGlzdHMpXG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHBhcmFtIG5ld1BhcmVudCBcbiAqIEByZXR1cm5zIHJlc3BvbnNlIG9iamVjdCB7IHN1Y2NlZWRlZDogYm9vbGVhbiwgZXJyb3I6IHN0cmluZyB9XG4gKi9cbmNvbnN0IGNhbk1vdmVFbnRyeSA9IChlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIsIG5ld1BhcmVudDogSUZvbGRlcik6IHJlc3BvbnNlUHJvcCA9PiB7XG4gIC8vIGlzIEEgYSBjaGlsZCBvZiBCXG4gIGZ1bmN0aW9uIGlzQ2hpbGRPZihhOiBJRW50cnksIGI6IElGb2xkZXIpIHtcbiAgICByZXR1cm4gYi5jaGlsZHJlblxuICAgICAgLmZpbHRlcigoZSkgPT4gZS50eXBlID09PSBFbnRyeVR5cGUuRm9sZGVyKVxuICAgICAgLm1hcCgoYzogSUZvbGRlcikgPT4ge1xuICAgICAgICBpZiAoYyA9PT0gYSkgcmV0dXJuIHRydWU7XG4gICAgICAgIGVsc2UgcmV0dXJuIGlzQ2hpbGRPZihhLCBjKTtcbiAgICAgIH0pXG4gICAgICAuc29tZSgoZSkgPT4gZSA9PT0gdHJ1ZSk7XG4gIH1cbiAgICBcbiAgY29uc3QgaXNTYW1lID0gZW50cnkgPT09IG5ld1BhcmVudDtcbiAgY29uc3QgbmFtZUV4aXN0cyA9IG5ld1BhcmVudC5jaGlsZHJlbi5zb21lKChlKSA9PiBlLm5hbWUgPT09IGVudHJ5Lm5hbWUpO1xuICBjb25zdCBpc0ltbXV0YWJsZVBhcmVudCA9IHBhcmVudC5tZXRhZGF0YVsnaW1tdXRhYmxlJ107XG4gIGNvbnN0IGlzSW1tdXRhYmxlTmV3UGFyZW50ID0gbmV3UGFyZW50Lm1ldGFkYXRhWydpbW11dGFibGUnXTtcbiAgY29uc3QgZXhpc3RzSW5QYXJlbnQgPSBwYXJlbnQuY2hpbGRyZW4uZmluZEluZGV4KChlKSA9PiBlLmlkID09PSBlbnRyeS5pZCkgIT09IC0xO1xuICAvLyBpZiBlbnRyeSBpcyBhIGZvbGRlciwgY2hlY2sgaWYgbmV3UGFyZW50IGlzIGEgc3ViZm9sZGVyIG9mIGVudHJ5XG4gIGNvbnN0IG5ld1BhcmVudElzQ2hpbGRPZkVudHJ5ID0gKGVudHJ5LnR5cGUgPT0gRW50cnlUeXBlLkZvbGRlcikgPyBpc0NoaWxkT2YobmV3UGFyZW50LCBlbnRyeSBhcyBJRm9sZGVyKSA6IGZhbHNlO1xuXG5cbiAgY29uc3QgcmV0dXJuT2JqID0geyBzdWNjZWVkZWQ6IGZhbHNlLCBlcnJvcjogJycgfTtcbiAgaWYgKGlzU2FtZSkgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuT2JqLmVycm9yID0gYENhbm5vdCBtb3ZlICR7ZW50cnkubmFtZX0gdG8gaXRzZWxmLmA7XG4gIGVsc2UgaWYgKG5hbWVFeGlzdHMpICAgICAgICAgICAgICAgcmV0dXJuT2JqLmVycm9yID0gYER1cGxpY2F0ZSBuYW1lOiAke2VudHJ5Lm5hbWV9IGFscmVhZHkgZXhpc3RzIGluICR7bmV3UGFyZW50Lm5hbWV9LmA7XG4gIGVsc2UgaWYgKGlzSW1tdXRhYmxlUGFyZW50KSAgICAgICAgIHJldHVybk9iai5lcnJvciA9IGAke3BhcmVudC5uYW1lfSBpcyBpbW11dGFibGUuYDtcbiAgZWxzZSBpZiAoaXNJbW11dGFibGVOZXdQYXJlbnQpICAgICAgcmV0dXJuT2JqLmVycm9yID0gYCR7bmV3UGFyZW50Lm5hbWV9IGlzIGltbXV0YWJsZS5gO1xuICBlbHNlIGlmICghZXhpc3RzSW5QYXJlbnQpICAgICAgICAgICByZXR1cm5PYmouZXJyb3IgPSBgJHtlbnRyeS5uYW1lfSBkb2VzIG5vdCBleGlzdCBpbiAke3BhcmVudC5uYW1lfS5gO1xuICBlbHNlIGlmIChuZXdQYXJlbnRJc0NoaWxkT2ZFbnRyeSkgICByZXR1cm5PYmouZXJyb3IgPSBgQ2Fubm90IG1vdmUgJHtlbnRyeS5uYW1lfSBpbnRvIGEgaXRzIG93biBzdWJmb2xkZXIsICR7bmV3UGFyZW50Lm5hbWV9LmA7XG4gIGVsc2UgcmV0dXJuT2JqLnN1Y2NlZWRlZCA9IHRydWU7XG4gICAgXG4gIHJldHVybiByZXR1cm5PYmo7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBlbnRyeSBjYW4gYmUgcmVuYW1lZCAobm8gZHVwbGljYXRlKVxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudCBcbiAqIEBwYXJhbSBuZXdOYW1lIFxuICogQHJldHVybnMgcmVzcG9uc2Ugb2JqZWN0IHsgc3VjY2VlZGVkOiBib29sZWFuLCBlcnJvcjogc3RyaW5nIH1cbiAqL1xuY29uc3QgY2FuUmVuYW1lRW50cnkgPSAoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyLCBuZXdOYW1lOiBzdHJpbmcpOiByZXNwb25zZVByb3AgPT4ge1xuICAvLyBDaGVjayBpZiBuZXdOYW1lIGFscmVhZHkgZXhpc3RzIGluIHBhcmVudFxuICBjb25zdCBuYW1lRXhpc3RzID0gcGFyZW50LmNoaWxkcmVuLnNvbWUoKGUsIGlkeCwgYXJyKSA9PiBlLm5hbWUgPT09IGVudHJ5Lm5hbWUgJiYgaWR4ICE9PSBhcnIuaW5kZXhPZihlKSk7XG4gICAgXG4gIGNvbnN0IHJldHVybk9iaiA9IHsgc3VjY2VlZGVkOiBmYWxzZSwgZXJyb3I6ICcnIH07XG4gIGlmIChuYW1lRXhpc3RzKSByZXR1cm5PYmouZXJyb3IgPSBgRHVwbGljYXRlIG5hbWU6ICR7bmV3TmFtZX0gYWxyZWFkeSBleGlzdHMgaW4gJHtwYXJlbnQubmFtZX0uYDtcbiAgZWxzZSByZXR1cm5PYmouc3VjY2VlZGVkID0gdHJ1ZTtcblxuICByZXR1cm4gcmV0dXJuT2JqO1xufTtcblxuLyoqXG4gKiBBZGRzIGVudHJ5IHRvIHBhcmVudCBmb2xkZXJcbiAqIEBwYXJhbSBlbnRyeVxuICogQHBhcmFtIHBhcmVudCBcbiAqIEByZXR1cm5zIHRydWUgaWYgYWRkZWQsIGVsc2UgZmFsc2VcbiAqL1xuY29uc3QgYWRkRW50cnkgPSAoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgc3VjY2VlZGVkLCBlcnJvciB9ID0gY2FuQWRkRW50cnkoZW50cnksIHBhcmVudCk7XG4gIGlmIChzdWNjZWVkZWQpIHtcbiAgICAvLyBBZGQgZW50cnkgdG8gcGFyZW50LCBzb3J0IGJ5IGFscGhhbnVtZXJpY2FsIGFuZCBmb2xkZXJzIGJlZm9yZSBmaWxlc1xuICAgIHBhcmVudC5jaGlsZHJlbi5wdXNoKGVudHJ5KTtcbiAgICBzb3J0Rm9sZGVyKHBhcmVudCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIFJlbW92ZXMgZW50cnkgZnJvbSBwYXJlbnQgZm9sZGVyXG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHBhcmFtIGZvcmNlIGZvcmNlIGEgcmVtb3ZhbFxuICogQHJldHVybnMgdHJ1ZSBpZiByZW1vdmVkLCBlbHNlIGZhbHNlXG4gKi9cbmNvbnN0IHJlbW92ZUVudHJ5ID0gKGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlciwgZm9yY2U9ZmFsc2UpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBzdWNjZWVkZWQsIGVycm9yIH0gPSBjYW5SZW1vdmVFbnRyeShlbnRyeSwgcGFyZW50KTtcbiAgaWYgKHN1Y2NlZWRlZCB8fCBmb3JjZSkge1xuICAgIGNvbnN0IGlkeCA9IHBhcmVudC5jaGlsZHJlbi5pbmRleE9mKGVudHJ5KTtcbiAgICBwYXJlbnQuY2hpbGRyZW4uc3BsaWNlKGlkeCwgMSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG4vKipcbiAqIE1vdmVzIGVudHJ5IGZyb20gcGFyZW50IHRvIG5ld1BhcmVudFxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudCBcbiAqIEBwYXJhbSBuZXdQYXJlbnQgXG4gKiBAcmV0dXJucyB0cnVlIGlmIG1vdmVkLCBlbHNlIGZhbHNlXG4gKi9cbmZ1bmN0aW9uIG1vdmVFbnRyeShlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIsIG5ld1BhcmVudDogSUZvbGRlcik6IGJvb2xlYW4ge1xuICBjb25zdCBtb3ZlUmVzcG9uc2UgPSBjYW5Nb3ZlRW50cnkoZW50cnksIHBhcmVudCwgbmV3UGFyZW50KTtcblxuICBpZiAobW92ZVJlc3BvbnNlLnN1Y2NlZWRlZCkge1xuICAgIGNvbnN0IHJlbW92ZWQgPSByZW1vdmVFbnRyeShlbnRyeSwgcGFyZW50LCB0cnVlKTtcbiAgICBpZiAocmVtb3ZlZCkge1xuICAgICAgY29uc3QgYWRkZWQgPSBhZGRFbnRyeShlbnRyeSwgbmV3UGFyZW50KTtcbiAgICAgIGlmIChhZGRlZCkgcmV0dXJuIHRydWU7XG4gICAgICBlbHNlIGNvbnNvbGUuZXJyb3IoYE1vdmluZzogZmFpbGVkIHRvIGFkZCAke2VudHJ5Lm5hbWV9IHRvICR7bmV3UGFyZW50Lm5hbWV9YCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc29sZS5lcnJvcihgTW92aW5nOiBmYWlsZWQgdG8gcmVtb3ZlICR7ZW50cnkubmFtZX0gZnJvbSAke3BhcmVudC5uYW1lfWApO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKG1vdmVSZXNwb25zZS5lcnJvcik7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFJlbmFtZXMgZW50cnlcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcGFyYW0gbmV3TmFtZSBcbiAqIEByZXR1cm5zIHRydWUgaWYgcmVuYW1lZCwgZWxzZSBmYWxzZVxuICovXG5jb25zdCByZW5hbWVFbnRyeSA9IChlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIsIG5ld05hbWU6IHN0cmluZyk6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB7IHN1Y2NlZWRlZCwgZXJyb3IgfSA9IGNhblJlbmFtZUVudHJ5KGVudHJ5LCBwYXJlbnQsIG5ld05hbWUpO1xuXG4gIGlmIChzdWNjZWVkZWQpIHtcbiAgICBlbnRyeS5uYW1lID0gbmV3TmFtZTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmNvbnN0IGdldEFsbE5hbWVzID0gKGZvbGRlcjogSUZvbGRlcik6IHN0cmluZ1tdID0+IHtcbiAgY29uc3QgbmFtZXMgPSBmb2xkZXIuY2hpbGRyZW4ubWFwKGVudHJ5ID0+IGVudHJ5Lm5hbWUpO1xuICByZXR1cm4gbmFtZXM7XG59O1xuXG4vKipcbiAqICBTb3J0cyBmb2xkZXIgYnkgYWxwaGFudW1lcmljYWwgYW5kIGZvbGRlcnMgYmVmb3JlIGZpbGVzIFxuICogQHBhcmFtIGZvbGRlciBcbiAqIEByZXR1cm5zIHJlZmVyZW5jZSB0byBzYW1lIGZvbGRlclxuICovXG5mdW5jdGlvbiBzb3J0Rm9sZGVyKGZvbGRlcjogSUZvbGRlcik6IElGb2xkZXIge1xuICBmb2xkZXIuY2hpbGRyZW4uc29ydCgoYSwgYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKSk7XG4gIGZvbGRlci5jaGlsZHJlbi5zb3J0KChhLCBiKSA9PiB7XG4gICAgaWYgKGEudHlwZSA9PT0gRW50cnlUeXBlLkZpbGUgJiYgYi50eXBlID09PSBFbnRyeVR5cGUuRm9sZGVyKSByZXR1cm4gMTtcbiAgICBlbHNlIGlmIChhLnR5cGUgPT09IEVudHJ5VHlwZS5Gb2xkZXIgJiYgYi50eXBlID09PSBFbnRyeVR5cGUuRmlsZSkgcmV0dXJuIC0xO1xuICAgIGVsc2UgcmV0dXJuIDA7XG4gIH0pO1xuICByZXR1cm4gZm9sZGVyO1xufVxuXG5leHBvcnQgY29uc3QgRmlsZVN5c3RlbVRvb2xzID0ge1xuICBjcmVhdGVGb2xkZXI6IGNyZWF0ZUZvbGRlcixcbiAgY3JlYXRlVHJhc2g6IGNyZWF0ZVRyYXNoLFxuICBjcmVhdGVGaWxlOiBjcmVhdGVGaWxlLFxuICBtb3ZlRW50cnk6IG1vdmVFbnRyeSxcbiAgY2FuQWRkRW50cnk6IGNhbkFkZEVudHJ5LFxuICBjYW5SZW1vdmVFbnRyeTogY2FuUmVtb3ZlRW50cnksXG4gIGNhbk1vdmVFbnRyeTogY2FuTW92ZUVudHJ5LFxuICBjYW5SZW5hbWVFbnRyeTogY2FuUmVuYW1lRW50cnksXG4gIGFkZEVudHJ5OiBhZGRFbnRyeSxcbiAgcmVtb3ZlRW50cnk6IHJlbW92ZUVudHJ5LFxuICBhZGRNZXRhZGF0YTogYWRkTWV0YWRhdGEsXG4gIHJlbW92ZU1ldGFkYXRhOiByZW1vdmVNZXRhZGF0YSxcbiAgZ2V0QWxsTmFtZXM6IGdldEFsbE5hbWVzLFxuICByZW5hbWVFbnRyeTogcmVuYW1lRW50cnksXG59OyIsImltcG9ydCB7IElGb2xkZXIsIEZpbGVTeXN0ZW1Ub29scyB9IGZyb20gJy4nO1xuaW1wb3J0IHsgZmV0Y2hVcGxvYWRzIH0gZnJvbSAnLi4vU3RvcmFnZSc7XG5pbXBvcnQgeyBzYW1wbGVzIH0gZnJvbSAnLi4vc2FtcGxlc19maWxlbmFtZXMnO1xuXG5pbnRlcmZhY2UgRmlsZVN5c3RlbVByb3BzIHtcbiAgZ2V0Um9vdDogKCkgPT4gUHJvbWlzZTxJRm9sZGVyPjtcbiAgc2V0RmlsZVN5c3RlbTogKHJvb3Q6IElGb2xkZXIpID0+IGJvb2xlYW47XG4gIGdldEZpbGVTeXN0ZW06ICgpID0+IFByb21pc2U8SUZvbGRlcj47XG4gIG5ld1RyYXNoOiAocm9vdDogSUZvbGRlcikgPT4gdm9pZDtcbn1cbiAgXG5cbi8vIE1hbmFnZXIgaXMgdXNlZCBmb3IgYWNjZXNzaW5nIGxvY2FsIHN0b3JhZ2UgYW5kIHRyYWNraW5nIHRoZSBwb3NpdGlvbiBvZiBjdXJyZW50IGZvbGRlclxuZXhwb3J0IGNvbnN0IEZpbGVTeXN0ZW1NYW5hZ2VyID0gKCk6IEZpbGVTeXN0ZW1Qcm9wcyA9PiB7XG5cbiAgYXN5bmMgZnVuY3Rpb24gZ2V0Um9vdCgpOiBQcm9taXNlPElGb2xkZXI+IHsgXG4gICAgcmV0dXJuIGF3YWl0IGdldEZpbGVTeXN0ZW0oKTtcbiAgfVxuXG4gIC8vIFNhdmUgZmlsZXN5c3RlbSBpbnRvIGxvY2FsIHN0b3JhZ2VcbiAgZnVuY3Rpb24gc2V0RmlsZVN5c3RlbShyb290OiBJRm9sZGVyKTogYm9vbGVhbiB7XG4gICAgdHJ5IHtcbiAgICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnbmVvbi1mcycsIEpTT04uc3RyaW5naWZ5KHJvb3QpKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgd2luZG93LmFsZXJ0KCdFcnJvciBzYXZpbmcgZmlsZSBzeXN0ZW0nKTtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBMb2FkIGZpbGVzeXN0ZW0gZnJvbSBsb2NhbCBzdG9yYWdlLCBjcmVhdGVzIG5ldyByb290IGlmIG5vbmUgZXhpc3RzXG4gIGFzeW5jIGZ1bmN0aW9uIGdldEZpbGVTeXN0ZW0oKTogUHJvbWlzZTxJRm9sZGVyPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGZzID0gd2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKCduZW9uLWZzJyk7XG4gICAgICAgICAgICBcbiAgICAgIC8vIGlmIGxvY2Fsc3RvcmFnZSBleGlzdHMsIGxvYWQgcHJldmlvdXMgcm9vdFxuICAgICAgaWYgKGZzKSB7XG4gICAgICAgIGNvbnN0IGxvY2FsRmlsZVN5c3RlbSA9IEpTT04ucGFyc2UoZnMpIGFzIElGb2xkZXI7XG4gICAgICAgIHJldHVybiBsb2NhbEZpbGVTeXN0ZW07XG4gICAgICB9XG4gICAgICAvLyBlbHNlLCBjcmVhdGUgbmV3IHJvb3RcbiAgICAgIGVsc2Uge1xuICAgICAgICBjb25zdCByb290ID0gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZUZvbGRlcignSG9tZScpO1xuICAgICAgICBsb2FkU2FtcGxlcyhyb290KTtcbiAgICAgICAgbmV3VHJhc2gocm9vdCk7XG4gICAgICAgIGF3YWl0IGxvYWRQcmV2aW91c1VwbG9hZHMocm9vdCk7XG4gICAgICAgIHNldEZpbGVTeXN0ZW0ocm9vdCk7XG4gICAgICAgIHJldHVybiByb290O1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoJ0Vycm9yIGxvYWRpbmcgZmlsZSBzeXN0ZW0nKTtcbiAgICB9XG4gIH0gXG5cbiAgLy8gVGhpcyBuZXh0IGZ1bmN0aW9uIGlzIHNvbGVseSBmb3IgbG9hZGluZyBzYW1wbGVzIGludG8gdGhlIHJvb3QgYXMgYSBkZWZhdWx0IGZvciBOZW9uXG4gIGZ1bmN0aW9uIGxvYWRTYW1wbGVzKHJvb3Q6IElGb2xkZXIpIHtcbiAgICAvLyBNYWtlIHNhbXBsZSBlbnRyaWVzXG4gICAgY29uc3Qgc2FtcGxlRW50cmllcyA9IHNhbXBsZXMubWFwKChbbmFtZSwgdHlwZV0pID0+IHtcbiAgICAgIGNvbnN0IGVudHJ5ID0gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZUZpbGUobmFtZSwgbmFtZSk7XG4gICAgICBpZiAodHlwZSA9PT0gJ2ZvbGlvJykge1xuICAgICAgICBGaWxlU3lzdGVtVG9vbHMuYWRkTWV0YWRhdGEoZW50cnksIHsgdHlwZTogJ2ZvbGlvJywgZG9jdW1lbnQ6ICdzYW1wbGUnLCBpbW11dGFibGU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmICh0eXBlID09PSAnbWFudXNjcmlwdCcpIHtcbiAgICAgICAgRmlsZVN5c3RlbVRvb2xzLmFkZE1ldGFkYXRhKGVudHJ5LCB7IHR5cGU6ICdtYW51c2NyaXB0JywgZG9jdW1lbnQ6ICdzYW1wbGUnLCBpbW11dGFibGU6IHRydWUgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZW50cnk7XG4gICAgfSk7XG5cbiAgICAvLyBNYWtlIHNhbXBsZXMgZm9sZGVyIGFuZCBhZGQgdG8gcm9vdFxuICAgIGNvbnN0IHNhbXBsZXNGb2xkZXIgPSBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlRm9sZGVyKCdTYW1wbGVzJyk7XG4gICAgLy8gQWRkIHNhbXBsZSBlbnRyaWVzIHRvIHNhbXBsZXMgZm9sZGVyXG4gICAgc2FtcGxlRW50cmllcy5mb3JFYWNoKChzYW1wbGUpID0+IHtcbiAgICAgIEZpbGVTeXN0ZW1Ub29scy5hZGRFbnRyeShzYW1wbGUsIHNhbXBsZXNGb2xkZXIpO1xuICAgIH0pO1xuICAgIEZpbGVTeXN0ZW1Ub29scy5hZGRFbnRyeShzYW1wbGVzRm9sZGVyLCByb290KTtcbiAgICBGaWxlU3lzdGVtVG9vbHMuYWRkTWV0YWRhdGEoc2FtcGxlc0ZvbGRlciwgeyBpbW11dGFibGU6IHRydWUgfSk7XG5cbiAgICByZXR1cm4gcm9vdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIG5ld1RyYXNoKHJvb3Q6IElGb2xkZXIpIHtcbiAgICBjb25zdCB0cmFzaEZvbGRlciA9IEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVUcmFzaCgnVHJhc2gnKTtcbiAgICBGaWxlU3lzdGVtVG9vbHMuYWRkRW50cnkodHJhc2hGb2xkZXIsIHJvb3QpO1xuICB9XG5cbiAgYXN5bmMgZnVuY3Rpb24gbG9hZFByZXZpb3VzVXBsb2Fkcyhyb290OiBJRm9sZGVyKSB7XG4gICAgLy8gR2V0IHByZXZpb3VzIHVwbG9hZHMgZnJvbSBsb2NhbCBzdG9yYWdlXG4gICAgY29uc3QgdXBsb2FkcyA9IGF3YWl0IGZldGNoVXBsb2FkcygpO1xuXG4gICAgLy8gTWFrZSB1cGxvYWQgZW50cmllc1xuICAgIGNvbnN0IHVwbG9hZEVudHJpZXMgPSB1cGxvYWRzLm1hcCgodXBsb2FkKSA9PiB7XG4gICAgICByZXR1cm4gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZUZpbGUodXBsb2FkLm5hbWUsIHVwbG9hZC5pZCk7XG4gICAgfSk7XG5cbiAgICB1cGxvYWRFbnRyaWVzLmZvckVhY2goKHVwbG9hZCkgPT4ge1xuICAgICAgRmlsZVN5c3RlbVRvb2xzLmFkZEVudHJ5KHVwbG9hZCwgcm9vdCk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcm9vdDtcbiAgfVxuXG4gIGNvbnN0IEZpbGVTeXN0ZW1Qcm9wczogRmlsZVN5c3RlbVByb3BzID0ge1xuICAgIGdldFJvb3Q6IGdldFJvb3QsXG4gICAgc2V0RmlsZVN5c3RlbTogc2V0RmlsZVN5c3RlbSxcbiAgICBnZXRGaWxlU3lzdGVtOiBnZXRGaWxlU3lzdGVtLFxuICAgIG5ld1RyYXNoOiBuZXdUcmFzaCxcbiAgfTtcblxuICByZXR1cm4gRmlsZVN5c3RlbVByb3BzO1xufTsiLCJleHBvcnQgY29uc3Qgc2FtcGxlcyA9IFtcbiAgWydDRE4tSHNtdV9NMjE0OS5MNF8wMDFyJywgJ2ZvbGlvJ10sXG4gIFsnQ0ROLUhzbXVfTTIxNDkuTDRfMDAycicsICdmb2xpbyddLFxuICBbJ0NILUVfNjExXzAyNHInLCAnZm9saW8nXSxcbiAgWydDSC1FXzYxMV8wMjZyJywgJ2ZvbGlvJ10sXG4gIFsnQ0gtRV82MTFfMDI4cicsICdmb2xpbyddLFxuICBbJ1NhbHppbm5lcycsICdtYW51c2NyaXB0J11cbl07IiwiaW1wb3J0IHsgSUVudHJ5LCBJRm9sZGVyIH0gZnJvbSAnLi9GaWxlU3lzdGVtJztcblxuZXhwb3J0IGNsYXNzIFNoaWZ0U2VsZWN0aW9uTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhcnQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBlbmQ6IG51bWJlcjtcbiAgcHJpdmF0ZSBwcmV2U2VsZWN0aW9uOiBudW1iZXJbXSA9IFtdO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgc2V0U3RhcnQoc3RhcnQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnN0YXJ0ID0gTWF0aC5tYXgoc3RhcnQsIDApO1xuICB9XG5cbiAgcHVibGljIHNldEVuZChlbmQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMuZW5kID0gZW5kO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KCk6IHZvaWQge1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuZW5kID0gLTE7XG4gICAgdGhpcy5wcmV2U2VsZWN0aW9uLnNwbGljZSgwKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmV2U2VsZWN0aW9uKCk6IG51bWJlcltdIHtcbiAgICByZXR1cm4gdGhpcy5wcmV2U2VsZWN0aW9uO1xuICB9XG5cbiAgcHVibGljIGdldFNlbGVjdGlvbihvcmRlcmVkU2VsZWN0aW9uOiBib29sZWFuW10pOiBudW1iZXJbXSB7XG4gICAgbGV0IHN0YXJ0OiBudW1iZXI7XG4gICAgbGV0IGVuZDogbnVtYmVyO1xuXG4gICAgaWYgKHRoaXMuZW5kID09PSAtMSkge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAodGhpcy5lbmQgPCB0aGlzLnN0YXJ0KSB7XG4gICAgICBzdGFydCA9IHRoaXMuZW5kO1xuICAgICAgZW5kID0gdGhpcy5zdGFydCArIDE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc3RhcnQgPSB0aGlzLnN0YXJ0O1xuICAgICAgZW5kID0gdGhpcy5lbmQgKyAxO1xuICAgIH1cbiAgICBjb25zdCByYW5nZSA9IEFycmF5LmZyb20oeyBsZW5ndGg6IChlbmQgLSBzdGFydCkgfSwgKHYsIGspID0+IGsgKyBzdGFydCk7XG5cbiAgICAvLyBGb3IgZWFjaCBzaGlmdCBzZWxlY3Rpb24gYWN0aW9uOiBpZiB0aGUgU2hpZnQga2V5IGlzIHN0aWxsIGhlbGQsIHRoZSBlbmQgc2hpZnQgcG9zIGNhbiBjaGFuZ2VcbiAgICAvLyB3aXRoIHRoZSBwcmV2aW91c2x5IChiZWZvcmUtc2hpZnQpIHNlbGVjdGVkIGVsZW1lbnRzIHN0aWxsIHNlbGVjdGVkIHdoaWxlIHRoZSBjdXJyZW50IHNoaWZ0IHNlbGVjdGlvbnMgdW5zZWxlY3QuXG4gICAgY29uc3Qgc3BlY2lmaWNTZWxlY3Rpb24gPSByYW5nZS5maWx0ZXIoaWR4ID0+ICEob3JkZXJlZFNlbGVjdGlvbltpZHhdKSk7XG4gICAgdGhpcy5wcmV2U2VsZWN0aW9uID0gc3BlY2lmaWNTZWxlY3Rpb247XG4gICAgcmV0dXJuIHNwZWNpZmljU2VsZWN0aW9uO1xuICB9XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgRGFzaGJvYXJkU3RhdGUge1xuICByb290KHJvb3RGb2xkZXI/OiBJRm9sZGVyKTogSUZvbGRlciB8IG51bGw7XG4gIHNldEVudHJpZXMoZW50cmllczogSUVudHJ5W10pOiB2b2lkO1xuICBnZXRFbnRyaWVzKCk6IElFbnRyeVtdO1xuICBnZXRJbmRleEJ5RW50cnlOYW1lKG5hbWU6IHN0cmluZyk6IG51bWJlcjtcbiAgc2V0U2VsZWN0aW9uKGluZGV4OiBudW1iZXIsIGJvb2w6IGJvb2xlYW4pOiB2b2lkO1xuICBnZXRTZWxlY3Rpb24oKTogYm9vbGVhbltdO1xuICByZXNldFNlbGVjdGlvbigpOiB2b2lkO1xuICBzZXRGb2xkZXJQYXRoKHBhdGg6IElGb2xkZXJbXSk6IHZvaWQ7XG4gIGdldEZvbGRlclBhdGgoKTogSUZvbGRlcltdO1xuICBnZXRGb2xkZXJQYXRoTmFtZXMoKTogc3RyaW5nW107XG4gIGdldEZvbGRlclBhdGhCeU5hbWVzKGZvbGRlck5hbWVzOiBzdHJpbmdbXSk6IElGb2xkZXIgfCB2b2lkO1xuICBnZXRQYXJlbnRGb2xkZXIoKTogSUZvbGRlciB8IHVuZGVmaW5lZDtcbiAgZ2V0VHJhc2hGb2xkZXIoKTogSUZvbGRlcjtcbiAgZ2V0U2VsZWN0ZWRFbnRyaWVzKCk6IElFbnRyeVtdO1xuICBnZXRTZWxlY3RlZEZvbGRlcnMoKTogSUVudHJ5W107XG4gIGdldFNlbGVjdGVkVHJhc2goKTogSUVudHJ5W107XG4gIGdldFNlbGVjdGVkRmlsZXMoKTogSUVudHJ5W107XG4gIGlzSW5UcmFzaCgpOiBib29sZWFuO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZGFzaGJvYXJkU3RhdGUoKTogRGFzaGJvYXJkU3RhdGUge1xuICAvLyBhcyBkaXNwbGF5ZWQgb24gdGhlIGRhc2hib2FyZFxuICBsZXQgb3JkZXJlZEVudHJpZXM6IElFbnRyeVtdID0gW107XG4gIGxldCBvcmRlcmVkU2VsZWN0aW9uOiBib29sZWFuW10gPSBbXTtcbiAgLy8gY29uc3QgY3VycmVudEZpbGVTZWxlY3Rpb24gPSBbXTsgLy8gY3VycmVudGx5IHVzZXItc2VsZWN0ZWQgZmlsZXNcbiAgLy8gY29uc3QgY3VycmVudEZvbGRlclNlbGVjdGlvbiA9IFtdOyAvLyBjdXJyZW50bHkgdXNlci1zZWxlY3RlZCBmb2xkZXJzXG5cbiAgLy8gcGF0aCBsZWFkaW5nIHRvIGN1cnJlbnQgZm9sZGVyXG4gIGxldCBmb2xkZXJQYXRoOiBJRm9sZGVyW10gPSBbXTtcbiAgbGV0IF9yb290OiBJRm9sZGVyID0gbnVsbDtcblxuICAvKiogXG4gICAqIFNldHMgb3IgZ2V0cyB0aGUgcm9vdCBmb2xkZXJcbiAgICogQHBhcmFtIHJvb3RGb2xkZXIgKG9wdGlvbmFsKSAtIHRoZSByb290IGZvbGRlciB0byBzZXRcbiAgICogQHJldHVybnMgdGhlIHJvb3QgZm9sZGVyXG4gICAqLyBcbiAgZnVuY3Rpb24gcm9vdChyb290Rm9sZGVyPzogSUZvbGRlcikge1xuICAgIGlmIChyb290Rm9sZGVyKSBfcm9vdCA9IHJvb3RGb2xkZXI7XG4gICAgcmV0dXJuIF9yb290O1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0RW50cmllcyhlbnRyaWVzOiBJRW50cnlbXSkge1xuICAgIG9yZGVyZWRFbnRyaWVzID0gZW50cmllcztcbiAgICBvcmRlcmVkU2VsZWN0aW9uID0gQXJyYXkoZW50cmllcy5sZW5ndGgpLmZpbGwoZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RW50cmllcygpIHtcbiAgICByZXR1cm4gb3JkZXJlZEVudHJpZXM7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRJbmRleEJ5RW50cnlOYW1lKG5hbWU6IHN0cmluZykge1xuICAgIHJldHVybiBvcmRlcmVkRW50cmllcy5maW5kSW5kZXgoZW50cnkgPT4gZW50cnkubmFtZSA9PT0gbmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRTZWxlY3Rpb24oaW5kZXg6IG51bWJlciwgYm9vbDogYm9vbGVhbikge1xuICAgIG9yZGVyZWRTZWxlY3Rpb25baW5kZXhdID0gYm9vbDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGlvbigpIHtcbiAgICByZXR1cm4gb3JkZXJlZFNlbGVjdGlvbjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlc2V0U2VsZWN0aW9uKCkge1xuICAgIG9yZGVyZWRTZWxlY3Rpb24uZmlsbChmYWxzZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZXRGb2xkZXJQYXRoKHBhdGg6IElGb2xkZXJbXSkge1xuICAgIGZvbGRlclBhdGggPSBwYXRoO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0Rm9sZGVyUGF0aCgpIHtcbiAgICByZXR1cm4gZm9sZGVyUGF0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZvbGRlclBhdGhOYW1lcygpIHtcbiAgICByZXR1cm4gZm9sZGVyUGF0aC5tYXAoZm9sZGVyID0+IGZvbGRlci5uYW1lKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZvbGRlclBhdGhCeU5hbWVzKGZvbGRlck5hbWVzOiBzdHJpbmdbXSk6IElGb2xkZXIgfCB2b2lkIHtcbiAgICBsZXQgY3VycmVudEZvbGRlciA9IHJvb3QoKTtcbiAgICBmb2xkZXJOYW1lcyA9IGZvbGRlck5hbWVzLnNsaWNlKDEpO1xuXG4gICAgZm9yIChjb25zdCBmb2xkZXJOYW1lIG9mIGZvbGRlck5hbWVzKSB7XG4gICAgICBjb25zdCB0YXJnZXRGb2xkZXIgPSBjdXJyZW50Rm9sZGVyLmNoaWxkcmVuLmZpbmQoY2hpbGQgPT4gY2hpbGQubmFtZSA9PT0gZm9sZGVyTmFtZSk7XG4gICAgICBpZiAodGFyZ2V0Rm9sZGVyICYmIHRhcmdldEZvbGRlci50eXBlID09PSAnZm9sZGVyJykge1xuICAgICAgICBjdXJyZW50Rm9sZGVyID0gdGFyZ2V0Rm9sZGVyIGFzIElGb2xkZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmRlYnVnKCdmYWlsZWQgdG8gZmluZCBmb2xkZXI6ICcsIGZvbGRlck5hbWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuXG4gICAgcmV0dXJuIGN1cnJlbnRGb2xkZXI7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdldFBhcmVudEZvbGRlcigpIHsgXG4gICAgcmV0dXJuIGZvbGRlclBhdGguYXQoLTEpOyBcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFRyYXNoRm9sZGVyKCkge1xuICAgIGNvbnN0IHRyYXNoRm9sZGVycyA9IHJvb3QoKS5jaGlsZHJlbi5maWx0ZXIoZW50cnkgPT4gZW50cnkudHlwZSA9PT0gJ3RyYXNoJykgYXMgSUZvbGRlcltdO1xuICAgIHJldHVybiB0cmFzaEZvbGRlcnNbMF07XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3RlZEVudHJpZXMoKSB7XG4gICAgcmV0dXJuIG9yZGVyZWRFbnRyaWVzLmZpbHRlcigoXywgaWR4KSA9PiBvcmRlcmVkU2VsZWN0aW9uW2lkeF0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRGb2xkZXJzKCkge1xuICAgIHJldHVybiBnZXRTZWxlY3RlZEVudHJpZXMoKS5maWx0ZXIoZW50cnkgPT4gZW50cnkudHlwZSA9PT0gJ2ZvbGRlcicpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRUcmFzaCgpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0ZWRFbnRyaWVzKCkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnR5cGUgPT09ICd0cmFzaCcpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRGaWxlcygpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0ZWRFbnRyaWVzKCkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnR5cGUgPT09ICdmaWxlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBpc0luVHJhc2goKSB7XG4gICAgY29uc3QgaXNUcmFzaEZvbGRlciA9IChmb2xkZXI6IElGb2xkZXIpOiBib29sZWFuID0+IGZvbGRlci50eXBlID09PSAndHJhc2gnO1xuICAgIHJldHVybiBmb2xkZXJQYXRoLnNvbWUoaXNUcmFzaEZvbGRlcik7XG4gIH1cblxuICAvLyBUT0RPOlxuICAvLyBmdW5jdGlvbiBzb3J0RW50cmllcygpIHt9XG5cbiAgcmV0dXJuIHtcbiAgICByb290OiByb290LFxuICAgIHNldEVudHJpZXM6IHNldEVudHJpZXMsXG4gICAgZ2V0RW50cmllczogZ2V0RW50cmllcyxcbiAgICBnZXRJbmRleEJ5RW50cnlOYW1lOiBnZXRJbmRleEJ5RW50cnlOYW1lLFxuICAgIHNldFNlbGVjdGlvbjogc2V0U2VsZWN0aW9uLFxuICAgIGdldFNlbGVjdGlvbjogZ2V0U2VsZWN0aW9uLFxuICAgIHJlc2V0U2VsZWN0aW9uOiByZXNldFNlbGVjdGlvbixcbiAgICBzZXRGb2xkZXJQYXRoOiBzZXRGb2xkZXJQYXRoLFxuICAgIGdldEZvbGRlclBhdGg6IGdldEZvbGRlclBhdGgsXG4gICAgZ2V0Rm9sZGVyUGF0aE5hbWVzOiBnZXRGb2xkZXJQYXRoTmFtZXMsXG4gICAgZ2V0Rm9sZGVyUGF0aEJ5TmFtZXM6IGdldEZvbGRlclBhdGhCeU5hbWVzLFxuICAgIGdldFBhcmVudEZvbGRlcjogZ2V0UGFyZW50Rm9sZGVyLFxuICAgIGdldFRyYXNoRm9sZGVyOiBnZXRUcmFzaEZvbGRlcixcbiAgICBnZXRTZWxlY3RlZEVudHJpZXM6IGdldFNlbGVjdGVkRW50cmllcyxcbiAgICBnZXRTZWxlY3RlZEZvbGRlcnM6IGdldFNlbGVjdGVkRm9sZGVycyxcbiAgICBnZXRTZWxlY3RlZFRyYXNoOiBnZXRTZWxlY3RlZFRyYXNoLFxuICAgIGdldFNlbGVjdGVkRmlsZXM6IGdldFNlbGVjdGVkRmlsZXMsXG4gICAgaXNJblRyYXNoOiBpc0luVHJhc2gsXG4gIH07XG59IiwiaW1wb3J0IHsgTW9kYWxXaW5kb3csIE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4uL3V0aWxzL01vZGFsV2luZG93JztcbmltcG9ydCB7IGFkZE5ld0ZpbGVzLCBoYW5kbGVVcGxvYWRBbGxEb2N1bWVudHMsIGhhbmRsZU1ha2VQYWlyLCBzb3J0RmlsZUJ5TmFtZSB9IGZyb20gJy4vVXBsb2FkVG9vbHMnO1xuaW1wb3J0IHsgdXBkYXRlRGFzaGJvYXJkIH0gZnJvbSAnLi9EYXNoYm9hcmQnO1xuaW1wb3J0IHsgSUZvbGRlciB9IGZyb20gJy4vRmlsZVN5c3RlbSc7XG5cbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVwbG9hZFVwZGF0ZShtb2RhbFdpbmRvdzogTW9kYWxXaW5kb3csIGN1cnJlbnRGb2xkZXI6IElGb2xkZXIpIHtcbiAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRpbmdfc3Bpbm5lcicpO1xuICBzcGlubmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICBoYW5kbGVVcGxvYWRBbGxEb2N1bWVudHMoY3VycmVudEZvbGRlcilcbiAgICAudGhlbiggKCkgPT4ge1xuICAgICAgc2V0VGltZW91dCggYXN5bmMgKCkgPT4ge1xuICAgICAgICBhd2FpdCB1cGRhdGVEYXNoYm9hcmQoKTtcbiAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgICAgfSwgMjAwMCk7XG4gICAgfSlcbiAgICAuY2F0Y2goIChlcnJvcikgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ09uZSBvciBtb3JlIHVwbG9hZHMgcmVqZWN0ZWQ6ICcsIGVycm9yKTtcbiAgICAgIHNldFRpbWVvdXQoIGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdXBkYXRlRGFzaGJvYXJkKCk7XG4gICAgICAgIHNwaW5uZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gSW5pdFVwbG9hZEFyZWEoY3VycmVudEZvbGRlcjogSUZvbGRlcik6IHZvaWQge1xuICAvLyBnZW5lcmF0ZSBtb2RhbCB3aW5kb3dcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgTW9kYWxXaW5kb3coKTtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQpO1xuICBtb2RhbFdpbmRvdy5vcGVuTW9kYWxXaW5kb3coKTtcblxuICBjb25zdCBwYWlyQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21ha2VfcGFpcicpO1xuICBjb25zdCB1cGxvYWRCdXR0b24gPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwbG9hZF9idXR0b24nKTtcblxuICBwYWlyQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTWFrZVBhaXIpO1xuICB1cGxvYWRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBoYW5kbGVVcGxvYWRVcGRhdGUobW9kYWxXaW5kb3csIGN1cnJlbnRGb2xkZXIpKTtcblxuICAvLyByZXF1ZXN0IHVzZXIgZmlsZSBzeXN0ZW0gd2hlbiBjbGlja2luZyBvbiB1cGxvYWQgYXJlYVxuICBjb25zdCBmaWxlU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBmaWxlU2VsZWN0b3IudHlwZSA9ICdmaWxlJztcbiAgZmlsZVNlbGVjdG9yLm11bHRpcGxlID0gdHJ1ZTtcbiAgZmlsZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIGhhbmRsZUZpbGVTZWxlY3RvckNoYW5nZSgpIHsgXG4gICAgY29uc3QgZmlsZUxpc3Q6IEZpbGVMaXN0ID0gZmlsZVNlbGVjdG9yLmZpbGVzOyBcbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZmlsZUxpc3QpO1xuICAgIGNvbnN0IHJlamVjdEZpbGVzID0gYWRkTmV3RmlsZXMoZmlsZXMpO1xuICAgIGlmIChyZWplY3RGaWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IHJlamVjdEZpbGVzLm1hcChmaWxlID0+IGZpbGUubmFtZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoYFRoZSBmb2xsb3dpbmcgZmlsZXMgYXJlIG5vdCAubWVpLCAucG5nLCAuanBlZywgb3IgLmpzb25sZCBmaWxlczogXFxuXFxuJHtmaWxlbmFtZXMuam9pbignXFxuJyl9YCk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSBzZWxlY3Rpb25cbiAgICBmaWxlU2VsZWN0b3IudmFsdWUgPSBudWxsO1xuICB9KTtcblxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBjbGljayBhbmQgZHJhZyBhbmQgZHJvcFxuICBjb25zdCB1cGxvYWRfYXJlYTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5pdGlhbF91cGxvYWRfYXJlYScpO1xuICB1cGxvYWRfYXJlYS5vbmNsaWNrID0gKCkgPT4gZmlsZVNlbGVjdG9yLmNsaWNrKCk7XG4gIC8vIGFkZCB2aXN1YWwgY3VlcyBmb3IgZHJhZ2dpbmcgZmlsZXMgb3ZlciB1cGxvYWQgYXJlYVxuICB1cGxvYWRfYXJlYS5vbmRyYWdsZWF2ZSA9ICgpID0+IHVwbG9hZF9hcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXInKTsgXG4gIHVwbG9hZF9hcmVhLm9uZHJhZ292ZXIgPSAoZXZlbnQpID0+IHsgXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB1cGxvYWRfYXJlYS5jbGFzc0xpc3QuYWRkKCdvdmVyJyk7XG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XG4gIH07XG4gIC8vIHJlY2VpdmUgZmlsZXMgb25jZSBmaWxlcyBhcmUgZHJvcHBlZFxuICB1cGxvYWRfYXJlYS5vbmRyb3AgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHVwbG9hZF9hcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXInKTtcbiAgICBjb25zdCBmaWxlTGlzdCA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZmlsZUxpc3QpO1xuICAgIGNvbnN0IHJlamVjdEZpbGVzID0gYWRkTmV3RmlsZXMoZmlsZXMpO1xuICAgIGlmIChyZWplY3RGaWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IHJlamVjdEZpbGVzLm1hcChmaWxlID0+IGZpbGUubmFtZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoYFRoZSBmb2xsb3dpbmcgZmlsZXMgYXJlIG5vdCAubWVpLCAucG5nLCAuanBlZywgb3IgLmpzb25sZCBmaWxlczogXFxuXFxuJHtmaWxlbmFtZXMuam9pbignXFxuJyl9YCk7XG4gICAgfVxuICB9O1xuXG4gIC8vIExpc3RlbmVyIGZvciBzb3J0aW5nIGZpbGUvZm9saW9cbiAgY29uc3Qgc29ydEJ5TmFtZUJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc29ydF9uYW1lJyk7XG4gIHNvcnRCeU5hbWVCdG5zLmZvckVhY2goc29ydEJ5TmFtZUJ0biA9PiB7XG4gICAgc29ydEJ5TmFtZUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHNvcnRGaWxlQnlOYW1lKHNvcnRCeU5hbWVCdG4pKTtcbiAgfSk7XG59IiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgVXBsb2FkRmlsZU1hbmFnZXIgZnJvbSAnLi9VcGxvYWRGaWxlTWFuYWdlcic7XG5pbXBvcnQgeyBjcmVhdGVNYW5pZmVzdCwgYWRkRG9jdW1lbnQgfSBmcm9tICcuL1N0b3JhZ2UnO1xuaW1wb3J0IHsgSUZvbGRlciwgRmlsZVN5c3RlbVRvb2xzIH0gZnJvbSAnLi9GaWxlU3lzdGVtJztcblxuY29uc3QgZm0gPSBVcGxvYWRGaWxlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG4vLyBTZXQgTUVJIHRlbXBsYXRlXG5jb25zdCB0ZW1wbGF0ZVBhdGggPSAnc2FtcGxlcy9tZWkvbWVpX3RlbXBsYXRlLm1laSc7XG5mbS5zZXRNZWlUZW1wbGF0ZSh0ZW1wbGF0ZVBhdGgpO1xuXG4vLyBBZGRzIG5ldyBmaWxlcyB0byB1cGxvYWQgcGFpcmluZyBjb250YWluZXIgYW5kIGZpbGVtYW5hZ2VyLCByZXR1cm5zIGxpc3Qgb2YgcmVqZWN0ZWQgZmlsZXNcbmV4cG9ydCBmdW5jdGlvbiBhZGROZXdGaWxlcyggZmlsZXM6IEZpbGVbXSApOiBGaWxlW10ge1xuICBjb25zdCBtZWlfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZWlfbGlzdCcpO1xuICBjb25zdCBpbWFnZV9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlX2xpc3QnKTtcblxuICBjb25zdCByZWplY3RGaWxlczogRmlsZVtdID0gW107XG4gIGZpbGVzLmZvckVhY2goIGZpbGUgPT4ge1xuICAgIGNvbnN0IGV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuXG4gICAgaWYgKCBleHQgPT09ICdtZWknICkge1xuICAgICAgY29uc3QgdW5wYWlyZWRJdGVtID0gY3JlYXRlVW5wYWlyZWRJdGVtKGZpbGUubmFtZSwgJ21laScpO1xuICAgICAgbWVpX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh1bnBhaXJlZEl0ZW0pO1xuICAgICAgZm0uYWRkRmlsZShmaWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIFsncG5nJywnanBnJywnanBlZyddLmluY2x1ZGVzKGV4dCkgKSB7XG4gICAgICBjb25zdCB1bnBhaXJlZEl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0oZmlsZS5uYW1lLCAnaW1hZ2UnKTtcbiAgICAgIGltYWdlX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh1bnBhaXJlZEl0ZW0pO1xuICAgICAgZm0uYWRkRmlsZShmaWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIGV4dCA9PT0gJ2pzb25sZCcgKSB7XG4gICAgICAvLyAvLyByZW1vdmUgbWFudXNjcmlwdCBzdXBwb3J0IGZvciB0aGUgaW1tZWRpYXRlIGZ1dHVyZSFcbiAgICAgIC8vIGNvbnN0IG1hbnVzY3JpcHRGb2xpbyA9IGNyZWF0ZU1hbnVzY3JpcHRGb2xpbyhmaWxlLm5hbWUpO1xuICAgICAgLy8gbWFudXNjcmlwdF9jb250YWluZXIuYXBwZW5kQ2hpbGQobWFudXNjcmlwdEZvbGlvKTtcbiAgICAgIC8vIGZtLmFkZEZpbGUoZmlsZSk7XG4gICAgICAvLyBmbS5hZGRNYW51c2NyaXB0KGZpbGUubmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVqZWN0RmlsZXMucHVzaChmaWxlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVqZWN0RmlsZXM7XG59IFxuXG5mdW5jdGlvbiBjcmVhdGVVbnBhaXJlZEl0ZW0oZmlsZW5hbWU6IHN0cmluZywgZ3JvdXA6IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcbiAgaWYgKGdyb3VwICE9PSAnbWVpJyAmJiBncm91cCAhPT0gJ2ltYWdlJykgcmV0dXJuO1xuICBjb25zdCByYWRpb05hbWUgPSAnbWVpJyA9PT0gZ3JvdXAgPyAnbWVpX3JhZGlvX2dyb3VwJyA6ICdpbWFnZV9yYWRpb19ncm91cCc7XG4gIGNvbnN0IGlkID0gdXVpZHY0KCk7XG5cbiAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub2RlLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9pdGVtX2NvbnRhaW5lcic7XG5cbiAgY29uc3QgcmFkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICByYWRpby50eXBlID0gJ3JhZGlvJztcbiAgcmFkaW8uY2xhc3NOYW1lID0gJ3VucGFpcmVkX2l0ZW1fcmFkaW8nO1xuICByYWRpby5uYW1lID0gcmFkaW9OYW1lO1xuICByYWRpby52YWx1ZSA9IGZpbGVuYW1lO1xuICByYWRpby5pZCA9IGlkO1xuXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWwuY2xhc3NOYW1lID0gJ3VucGFpcmVkX2l0ZW1fbGFiZWwnO1xuICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIGlkKTtcblxuICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICB0ZXh0LmlubmVyVGV4dCA9IGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lLCA1MCk7XG4gIHRleHQuc2V0QXR0cmlidXRlKCdzdHlsZScsICdtYXJnaW4tdG9wOiBhdXRvOyBtYXJnaW4tbGVmdDogM3B4OycpO1xuXG4gIGNvbnN0IGRlbEJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2ltZycpO1xuICBkZWxCdG4uY2xhc3NOYW1lID0gJ3VucGFpcmVkX2RlbF9idG4nO1xuICBkZWxCdG4uc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3VucGFpcmVkLXJlbW92ZS1kb2Muc3ZnYDtcbiAgZGVsQnRuLnRpdGxlID0gJ2RlbGV0ZSc7XG5cbiAgbGFiZWwuYXBwZW5kQ2hpbGQocmFkaW8pO1xuICBsYWJlbC5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgbm9kZS5hcHBlbmRDaGlsZChsYWJlbCk7XG4gIG5vZGUuYXBwZW5kQ2hpbGQoZGVsQnRuKTtcblxuICBkZWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBub2RlLnJlbW92ZSgpO1xuICB9KTtcblxuICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU1ha2VQYWlyKCk6IHZvaWQge1xuICBjb25zdCBwYWlyZWRfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYWlyZWRfbGlzdCcpO1xuXG4gIC8vIGdldCBhbmQgY2hlY2sgaWYgc2VsZWN0ZWQgcmFkaW8gZXhpc3RzXG4gIGNvbnN0IHNlbGVjdGVkTWVpRWxlbWVudDogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJtZWlfcmFkaW9fZ3JvdXBcIl06Y2hlY2tlZCcpO1xuICBjb25zdCBzZWxlY3RlZEltYWdlRWxlbWVudDogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJpbWFnZV9yYWRpb19ncm91cFwiXTpjaGVja2VkJyk7XG4gIGlmIChzZWxlY3RlZE1laUVsZW1lbnQgPT09IG51bGwgfHwgc2VsZWN0ZWRJbWFnZUVsZW1lbnQgPT09IG51bGwpIHJldHVybjtcbiAgXG4gIGxldCBtZWlfZmlsZW5hbWUgPSBzZWxlY3RlZE1laUVsZW1lbnQudmFsdWU7XG4gIGNvbnN0IGltYWdlX2ZpbGVuYW1lID0gc2VsZWN0ZWRJbWFnZUVsZW1lbnQudmFsdWU7XG4gIGxldCBpc0NyZWF0ZWQgPSBmYWxzZTtcblxuICBpZiAoc2VsZWN0ZWRNZWlFbGVtZW50LnZhbHVlID09PSAnY3JlYXRlX21laScpe1xuICAgIGlzQ3JlYXRlZCA9IHRydWU7XG4gICAgLy8gQ2hhbmdlIGV4dGVuc2lvblxuICAgIGNvbnN0IGZuID0gaW1hZ2VfZmlsZW5hbWUuc3BsaXQoJy4nKTtcbiAgICBpZiAoZm4ubGVuZ3RoID4gMSkge1xuICAgICAgZm4ucG9wKCk7XG4gICAgfVxuICAgIGZuLnB1c2goJ21laScpO1xuXG4gICAgbWVpX2ZpbGVuYW1lID0gZm4uam9pbignLicpO1xuICAgIC8vIENyZWF0ZSBuZXcgTUVJIGZpbGVcbiAgICBmbS5nZXRJbWdEaW1lbnNpb24oaW1hZ2VfZmlsZW5hbWUpXG4gICAgICAudGhlbigoZGltZW5zaW9ucykgPT4ge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IGRpbWVuc2lvbnM7XG4gICAgICAgIGNvbnN0IG5ld01laUZpbGUgPSBmbS5jcmVhdGVNZWlGaWxlKG1laV9maWxlbmFtZSwgd2lkdGgsIGhlaWdodCk7XG4gICAgICAgIGZtLmFkZEZpbGUobmV3TWVpRmlsZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgfSk7XG4gIH1cbiAgY29uc3QgZmlsZW5hbWUgPSBtZWlfZmlsZW5hbWUuc3Vic3RyaW5nKDAsIG1laV9maWxlbmFtZS5sZW5ndGgtNCk7XG4gIC8vIG1ha2UgYW5kIGFwcGVuZCBVSSBlbGVtZW50XG4gIGNvbnN0IHBhaXJlZF9lbCA9IGNyZWF0ZVBhaXJlZEZvbGlvKGZpbGVuYW1lLCBtZWlfZmlsZW5hbWUsIGltYWdlX2ZpbGVuYW1lKTtcbiAgcGFpcmVkX2NvbnRhaW5lci5hcHBlbmRDaGlsZChwYWlyZWRfZWwpO1xuICAvLyByZWZsZWN0IGluIGZpbGUgbWFuYWdlclxuICBmbS5hZGRGb2xpbyhmaWxlbmFtZSwgbWVpX2ZpbGVuYW1lLCBpbWFnZV9maWxlbmFtZSwgaXNDcmVhdGVkKTtcbiAgLy8gcmVtb3ZlIGZyb20gdW5wYWlyZWQgbWVpIGFuZCBpbWFnZSBsaXN0c1xuICBpZiAoIWlzQ3JlYXRlZCkgc2VsZWN0ZWRNZWlFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbiAgc2VsZWN0ZWRJbWFnZUVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVQYWlyZWRGb2xpbyhmaWxlbmFtZTogc3RyaW5nLCBtZWlfZmlsZW5hbWU6IHN0cmluZywgaW1hZ2VfZmlsZW5hbWU6IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcbiAgY29uc3QgbWVpX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVpX2xpc3QnKTtcbiAgY29uc3QgaW1hZ2VfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZV9saXN0Jyk7XG5cbiAgY29uc3QgZm9saW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZm9saW8uY2xhc3NOYW1lID0gJ2ZvbGlvX2l0ZW0nO1xuICBmb2xpby5zZXRBdHRyaWJ1dGUoJ21laScsIG1laV9maWxlbmFtZSk7XG4gIGZvbGlvLnNldEF0dHJpYnV0ZSgnaW1hZ2UnLCBpbWFnZV9maWxlbmFtZSk7XG5cbiAgY29uc3QgZm9saW9fZmlsZW5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZm9saW9fZmlsZW5hbWUuY2xhc3NMaXN0LmFkZCgnZm9saW8tZmlsZW5hbWUnKTtcbiAgZm9saW9fZmlsZW5hbWUuaW5uZXJIVE1MID0gZm9ybWF0RmlsZW5hbWUoZmlsZW5hbWUsIDUwKTtcbiAgZm9saW8uYXBwZW5kQ2hpbGQoZm9saW9fZmlsZW5hbWUpOyBcblxuICBmdW5jdGlvbiBoYW5kbGVVbnBhaXIoKSB7XG4gICAgLy8gcmVtb3ZlIGZvbGlvIGZyb20gVUlcbiAgICBmb2xpby5yZW1vdmUoKTtcbiAgICAvLyByZW1vdmUgZm9saW8gZnJvbSBmaWxlIG1hbmFnZXJcbiAgICBjb25zdCBpc0NyZWF0ZWQgPSBmbS5pc0NyZWF0ZWRGb2xpbyhmaWxlbmFtZSk7XG4gICAgZm0ucmVtb3ZlRm9saW8oZmlsZW5hbWUpO1xuICAgIC8vIGFkZCBpdGVtcyBiYWNrIHRvIHVucGFpcmVkIGNvbnRhaW5lcnNcbiAgICBpZiAoIWlzQ3JlYXRlZCkge1xuICAgICAgY29uc3QgbWVpSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShtZWlfZmlsZW5hbWUsICdtZWknKTtcbiAgICAgIG1laV9jb250YWluZXIuYXBwZW5kQ2hpbGQobWVpSXRlbSk7XG4gICAgfVxuICAgIGNvbnN0IGltYWdlSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShpbWFnZV9maWxlbmFtZSwgJ2ltYWdlJyk7XG4gICAgaW1hZ2VfY29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlSXRlbSk7XG4gIH1cblxuICBjb25zdCB1bnBhaXJCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgdW5wYWlyQnRuLmNsYXNzTmFtZSA9ICd1bnBhaXJfYnRuJztcbiAgdW5wYWlyQnRuLnNyYyA9IGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy91bnBhaXItZG9jLnN2Z2A7XG4gIHVucGFpckJ0bi50aXRsZSA9ICd1bnBhaXInO1xuICB1bnBhaXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVVbnBhaXIpO1xuICBmb2xpby5hcHBlbmRDaGlsZCh1bnBhaXJCdG4pO1xuXG4gIHJldHVybiBmb2xpbztcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGhhbmRsZVVwbG9hZEFsbERvY3VtZW50cyhjdXJyZW50Rm9sZGVyOiBJRm9sZGVyKTogUHJvbWlzZTx1bmtub3duPiB7XG4gIGNvbnN0IGZvbGlvUHJvbWlzZXMgPSBmbS5nZXRGb2xpb3MoKVxuICAgIC5tYXAoIGFzeW5jIChbbmFtZSwgbWVpLCBpbWFnZV06IFtzdHJpbmcsIEZpbGUsIEZpbGVdKSA9PiB7XG4gICAgICBjb25zdCBpZCA9IHV1aWR2NCgpO1xuICAgICAgcmV0dXJuIGF3YWl0IHVwbG9hZEZvbGlvKGlkLCBuYW1lLCBtZWksIGltYWdlLCBjdXJyZW50Rm9sZGVyKTtcbiAgICB9KTtcbiAgXG4gIGNvbnN0IG1hbnVzY3JpcHRQcm9taXNlcyA9IFtdOyAvL2ZtLmdldE1hbnVzY3JpcHRzKClcbiAgLy8gLm1hcCggYXN5bmMgKGZpbGU6IEZpbGUpID0+IHtcbiAgLy8gICByZXR1cm4gYXdhaXQgdXBsb2FkTWFudXNjcmlwdChmaWxlKTtcbiAgLy8gfSk7XG5cbiAgY29uc3QgcHJvbWlzZXMgPSBbLi4uZm9saW9Qcm9taXNlcywgLi4ubWFudXNjcmlwdFByb21pc2VzXVxuICAgIC5tYXAocCA9PiBQcm9taXNlLnJlc29sdmUocClcbiAgICAgIC50aGVuKHZhbHVlID0+ICh7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlIH0pLCByZWFzb24gPT4gKHsgc3RhdHVzOiAncmVqZWN0ZWQnLCByZWFzb24gfSkpXG4gICAgKTtcbiAgXG4gIGZtLmNsZWFyKCk7XG4gIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG59XG5cbmFzeW5jIGZ1bmN0aW9uIHVwbG9hZEZvbGlvKGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgbWVpOiBGaWxlLCBpbWFnZTogRmlsZSwgY3VycmVudEZvbGRlcjogSUZvbGRlcik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBuZXdOYW1lID0gZm5Db25mbGljdEhhbmRsZXIobmFtZSwgRmlsZVN5c3RlbVRvb2xzLmdldEFsbE5hbWVzKGN1cnJlbnRGb2xkZXIpKTtcbiAgcmV0dXJuIGNyZWF0ZU1hbmlmZXN0KGlkLCBuZXdOYW1lLCBtZWksIGltYWdlKVxuICAgIC50aGVuKG1hbmlmZXN0ID0+IHtcbiAgICAgIGNvbnN0IG1hbmlmZXN0QmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShtYW5pZmVzdCwgbnVsbCwgMildLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9sZCtqc29uJyB9KTtcbiAgICAgIGNvbnN0IGlzU2luZ2xlID0gdHJ1ZTtcbiAgICAgIHJldHVybiBhZGREb2N1bWVudChpZCwgbmV3TmFtZSwgbWFuaWZlc3RCbG9iLCBpc1NpbmdsZSk7XG4gICAgfSlcbiAgICAvLyBhZGQgdG8gZGFzaGJvYXJkIEZpbGVTeXN0ZW1cbiAgICAudGhlbihzdWNjZWVkZWQgPT4ge1xuICAgICAgaWYgKHN1Y2NlZWRlZCkge1xuICAgICAgICBjb25zdCBkYXRldGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVTdHJpbmcoKTtcbiAgICAgICAgY29uc3QgZmlsZUVudHJ5ID0gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZUZpbGUobmV3TmFtZSwgaWQpO1xuICAgICAgICBjb25zdCBmb2xpb0VudHJ5ID0gRmlsZVN5c3RlbVRvb2xzLmFkZE1ldGFkYXRhKGZpbGVFbnRyeSwgeyB0eXBlOiAnZm9saW8nLCBjcmVhdGVkX29uOiBkYXRldGltZSB9KTtcbiAgICAgICAgY29uc3QgaXNBZGRlZCA9IEZpbGVTeXN0ZW1Ub29scy5hZGRFbnRyeShmb2xpb0VudHJ5LCBjdXJyZW50Rm9sZGVyKTtcbiAgICAgICAgcmV0dXJuIGlzQWRkZWQ7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc29sZS5sb2coJ2ZhaWxlZCB0byB1cGxvYWRGb2xpbzogJyArIG5hbWUpO1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZE1hbnVzY3JpcHQobWFudXNjcmlwdDogRmlsZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuLy8gICByZXR1cm4gYWRkRW50cnkobWFudXNjcmlwdC5uYW1lLCBtYW51c2NyaXB0LCBmYWxzZSk7XG4vLyB9XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzb3J0RmlsZUJ5TmFtZShzb3J0QnlOYW1lQnRuOiBFbGVtZW50KTogUHJvbWlzZTx2b2lkPiAge1xuICBjb25zdCBmaWxlTGlzdCA9IHNvcnRCeU5hbWVCdG4ucGFyZW50RWxlbWVudC5uZXh0RWxlbWVudFNpYmxpbmc7XG4gIGNvbnN0IGZpbGVFbGVtZW50cyA9IEFycmF5LmZyb20oZmlsZUxpc3QuY2hpbGRyZW4pO1xuICBcbiAgbGV0IGlzQXNjZW5kaW5nID0gc29ydEJ5TmFtZUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2Fycm93LXVwJyk7XG5cbiAgaWYgKGlzQXNjZW5kaW5nKSB7XG4gICAgc29ydEJ5TmFtZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy11cCcpO1xuICAgIHNvcnRCeU5hbWVCdG4uY2xhc3NMaXN0LmFkZCgnYXJyb3ctZG93bicpO1xuICAgIHNvcnRCeU5hbWVCdG4uaW5uZXJIVE1MID0gJyYjeDIyQzE7JztcbiAgfSBlbHNlIHtcbiAgICBzb3J0QnlOYW1lQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2Fycm93LWRvd24nKTtcbiAgICBzb3J0QnlOYW1lQnRuLmNsYXNzTGlzdC5hZGQoJ2Fycm93LXVwJyk7XG4gICAgc29ydEJ5TmFtZUJ0bi5pbm5lckhUTUwgPSAnJiN4MjJDMDsnO1xuICB9XG5cbiAgaXNBc2NlbmRpbmcgPSAhaXNBc2NlbmRpbmc7XG5cbiAgZmlsZUVsZW1lbnRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICBjb25zdCBuYW1lQSA9IGEudGV4dENvbnRlbnQudHJpbSgpO1xuICAgIGNvbnN0IG5hbWVCID0gYi50ZXh0Q29udGVudC50cmltKCk7XG4gICAgcmV0dXJuIGlzQXNjZW5kaW5nID8gbmFtZUEubG9jYWxlQ29tcGFyZShuYW1lQikgOiBuYW1lQi5sb2NhbGVDb21wYXJlKG5hbWVBKTtcbiAgfSk7XG5cbiAgZmlsZUVsZW1lbnRzLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgZmlsZUxpc3QuYXBwZW5kQ2hpbGQoZWxlbWVudCk7XG4gIH0pO1xuXG4gIHNvcnRCeU5hbWVCdG4uc2V0QXR0cmlidXRlKCdzdHlsZScsICdjb2xvcjogYmxhY2snKTtcbn1cblxuLy8gYXN5bmMgZnVuY3Rpb24gdXBsb2FkTWFudXNjcmlwdChtYW51c2NyaXB0OiBGaWxlLCBjdXJyZW50Rm9sZGVyOiBJRm9sZGVyLCBleGlzdGluZ05hbWVzOiBzdHJpbmdbXSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuLy8gICBjb25zdCBpc1NpbmdsZSA9IGZhbHNlO1xuLy8gICBjb25zdCBpZCA9IG1hbnVzY3JpcHRbJ0BpZCddICE9PSBudWxsID8gbWFudXNjcmlwdFsnQGlkJ10gOiBtYW51c2NyaXB0Lm5hbWU7XG4vLyAgIHJldHVybiBhZGRFbnRyeShpZCwgbWFudXNjcmlwdC5uYW1lLCBtYW51c2NyaXB0LCBpc1NpbmdsZSlcbi8vICAgICAvLyBhZGQgdG8gZGFzaGJvYXJkIEZpbGVTeXN0ZW1cbi8vICAgICAudGhlbihzdWNjZWVkZWQgPT4ge1xuLy8gICAgICAgaWYgKHN1Y2NlZWRlZCkge1xuLy8gICAgICAgICBjb25zdCBuZXdOYW1lID0gZm5Db25mbGljdEhhbmRsZXIobWFudXNjcmlwdC5uYW1lLCBleGlzdGluZ05hbWVzKTtcbi8vICAgICAgICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCk7XG4vLyAgICAgICAgIGNvbnN0IGZpbGVFbnRyeSA9IEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVGaWxlKG5ld05hbWUsIGlkKTtcbi8vICAgICAgICAgY29uc3QgbWFudXNjcmlwdEVudHJ5ID0gRmlsZVN5c3RlbVRvb2xzLmFkZE1ldGFkYXRhKGZpbGVFbnRyeSwgeyB0eXBlOiAnbWFudXNjcmlwdCcsIGNyZWF0ZWRfb246IGRhdGV0aW1lIH0pO1xuLy8gICAgICAgICBjb25zdCBpc0FkZGVkID0gRmlsZVN5c3RlbVRvb2xzLmFkZEVudHJ5KG1hbnVzY3JpcHRFbnRyeSwgY3VycmVudEZvbGRlcik7XG4vLyAgICAgICAgIHJldHVybiBpc0FkZGVkO1xuLy8gICAgICAgfVxuLy8gICAgICAgZWxzZSB7XG4vLyAgICAgICAgIGNvbnNvbGUubG9nKCdmYWlsZWQgdG8gdXBsb2FkRm9saW86ICcgKyBuYW1lKTtcbi8vICAgICAgICAgcmV0dXJuIGZhbHNlO1xuLy8gICAgICAgfVxuLy8gICAgIH0pO1xuLy8gfVxuXG4vLyBMaW1pdCBmaWxlbmFtZSBsZW5ndGhcbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZTogc3RyaW5nLCBtYXhMZW46IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGNodW5rTGVuID0gTWF0aC5mbG9vcihtYXhMZW4vMik7XG4gIGNvbnN0IGxlbiA9IGZpbGVuYW1lLmxlbmd0aDtcbiAgaWYgKGxlbiA8PSBtYXhMZW4pIHJldHVybiBmaWxlbmFtZTtcbiAgZWxzZSByZXR1cm4gYCR7ZmlsZW5hbWUuc3Vic3RyaW5nKDAsY2h1bmtMZW4tMSl9Li4uJHtmaWxlbmFtZS5zdWJzdHJpbmcobGVuLWNodW5rTGVuKzIsIGxlbil9YDtcbn1cblxuLy8gUmVuYW1lcyBmaWxlIGlmIHRoZXJlIGFyZSBuYW1pbmcgY29uZmxpY3RzLCBpbiB0aGUgZm9ybSBvZiAnZm9vYmFyICgxKSdcbmV4cG9ydCBmdW5jdGlvbiBmbkNvbmZsaWN0SGFuZGxlcihmaWxlbmFtZTogc3RyaW5nLCBleGlzdGluZ05hbWVzOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gIGxldCBuZXdGaWxlbmFtZSA9IGZpbGVuYW1lO1xuICBsZXQgY291bnRlciA9IDE7XG5cbiAgd2hpbGUgKGV4aXN0aW5nTmFtZXMuaW5jbHVkZXMobmV3RmlsZW5hbWUpKSB7XG4gICAgbmV3RmlsZW5hbWUgPSBgJHtmaWxlbmFtZX0oJHtjb3VudGVyfSlgO1xuICAgIGNvdW50ZXIrKztcbiAgfVxuICByZXR1cm4gbmV3RmlsZW5hbWU7XG59IiwiaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi4vdXRpbHMvcmFuZG9tJztcbmltcG9ydCAqIGFzIHZrYmVhdXRpZnkgZnJvbSAndmtiZWF1dGlmeSc7XG5cbi8qKlxuICogTWFuYWdlciBmb3IgZmlsZSB1cGxvYWRpbmcgYW5kIHBhaXJpbmcgcHJvY2Vzc1xuICovXG5jbGFzcyBVcGxvYWRGaWxlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBVcGxvYWRGaWxlTWFuYWdlcjtcblxuICBwcml2YXRlIGFsbEZpbGVzID0gbmV3IE1hcDxzdHJpbmcsIHtmaWxlOiBGaWxlLCBjb3VudDogbnVtYmVyfT4oKTtcbiAgcHJpdmF0ZSBmb2xpb3MgPSBuZXcgQXJyYXk8Zm9saW8+KCk7IC8vIGZpbGVuYW1lLCBtZWlfZmlsZW5hbWUsIGltYWdlX2ZpbGVuYW1lXG4gIC8vIHByaXZhdGUgbWFudXNjcmlwdHMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xuICBwcml2YXRlIG1laVRlbXBsYXRlOiBzdHJpbmc7XG5cbiAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1lbXB0eS1mdW5jdGlvblxuICBwcml2YXRlIGNvbnN0cnVjdG9yKCkge31cblxuICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IFVwbG9hZEZpbGVNYW5hZ2VyIHtcbiAgICBpZiAoIVVwbG9hZEZpbGVNYW5hZ2VyLmluc3RhbmNlKSB7XG4gICAgICBVcGxvYWRGaWxlTWFuYWdlci5pbnN0YW5jZSA9IG5ldyBVcGxvYWRGaWxlTWFuYWdlcigpO1xuICAgIH1cbiAgICByZXR1cm4gVXBsb2FkRmlsZU1hbmFnZXIuaW5zdGFuY2U7XG4gIH1cblxuICBwdWJsaWMgYWRkRmlsZShmaWxlOiBGaWxlKTogdm9pZCB7XG4gICAgaWYgKCF0aGlzLmFsbEZpbGVzLmhhcyhmaWxlLm5hbWUpKSB7XG4gICAgICBjb25zdCBuZXdFbnRyeSA9IHsgZmlsZTogZmlsZSwgY291bnQ6IDEgfTtcbiAgICAgIHRoaXMuYWxsRmlsZXMuc2V0KGZpbGUubmFtZSwgbmV3RW50cnkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IGV4aXN0aW5nQ291bnQgPSB0aGlzLmdldEZpbGVDb3VudChmaWxlLm5hbWUpO1xuICAgICAgY29uc3QgdXBkYXRlZEVudHJ5ID0geyBmaWxlOiBmaWxlLCBjb3VudDogZXhpc3RpbmdDb3VudCsxIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChmaWxlLm5hbWUsIHVwZGF0ZWRFbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGFzeW5jIHNldE1laVRlbXBsYXRlKHRlbXBsYXRlUGF0aDogc3RyaW5nKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godGVtcGxhdGVQYXRoKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gbG9hZCBNRUkgdGVtcGxhdGUgZnJvbSAke3RlbXBsYXRlUGF0aH1gKTtcbiAgICAgIH1cblxuICAgICAgdGhpcy5tZWlUZW1wbGF0ZSA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGNyZWF0ZU1laUZpbGUoZmlsZW5hbWU6IHN0cmluZywgbHJ4OiBudW1iZXIsIGxyeTogbnVtYmVyKTogRmlsZSB7XG4gICAgdHJ5IHtcbiAgICAgIGlmICghdGhpcy5tZWlUZW1wbGF0ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmaW5kIE1FSSB0ZW1wbGF0ZScpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcodGhpcy5tZWlUZW1wbGF0ZSwgJ3RleHQveG1sJyk7XG4gICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICBjb25zdCBtZWlIZWFkID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ21laUhlYWQnKTtcbiAgICAgIG1laUhlYWQuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3QgZmlsZURlc2MgPSBtZWkucXVlcnlTZWxlY3RvcignZmlsZURlc2MnKTtcbiAgICAgIGZpbGVEZXNjLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHRpdGxlU3RtdCA9IG1laS5xdWVyeVNlbGVjdG9yKCd0aXRsZVN0bXQnKTtcbiAgICAgIHRpdGxlU3RtdC5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCB0aXRsZSA9IG1laS5xdWVyeVNlbGVjdG9yKCd0aXRsZScpO1xuICAgICAgdGl0bGUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3QgcHViU3RtdCA9IG1laS5xdWVyeVNlbGVjdG9yKCdwdWJTdG10Jyk7XG4gICAgICBwdWJTdG10LnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IGZhY3NpbWlsZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdmYWNzaW1pbGUnKTtcbiAgICAgIGZhY3NpbWlsZS5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBzdXJmYWNlID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N1cmZhY2UnKTtcbiAgICAgIHN1cmZhY2Uuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgc3VyZmFjZS5zZXRBdHRyaWJ1dGUoJ2xyeCcsIGxyeC50b1N0cmluZygpKTtcbiAgICAgIHN1cmZhY2Uuc2V0QXR0cmlidXRlKCdscnknLCBscnkudG9TdHJpbmcoKSk7XG5cbiAgICAgIGNvbnN0IG1kaXYgPSBtZWkucXVlcnlTZWxlY3RvcignbWRpdicpO1xuICAgICAgbWRpdi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBzY29yZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdzY29yZScpO1xuICAgICAgc2NvcmUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3Qgc2NvcmVEZWYgPSBtZWkucXVlcnlTZWxlY3Rvcignc2NvcmVEZWYnKTtcbiAgICAgIHNjb3JlRGVmLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHN0YWZmR3JwID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3N0YWZmR3JwJyk7XG4gICAgICBzdGFmZkdycC5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBzdGFmZkRlZiA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdGFmZkRlZicpO1xuICAgICAgc3RhZmZEZWYuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3Qgc2VjdGlvbiA9IG1laS5xdWVyeVNlbGVjdG9yKCdzZWN0aW9uJyk7XG4gICAgICBzZWN0aW9uLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcblxuICAgICAgY29uc3QgbWVpRmlsZUNvbnRlbnQgPSB2a2JlYXV0aWZ5LnhtbChzZXJpYWxpemVyLnNlcmlhbGl6ZVRvU3RyaW5nKG1laURvYykpO1xuICAgICAgY29uc3QgbWVpQmxvYiA9IG5ldyBCbG9iKFttZWlGaWxlQ29udGVudF0sIHsgdHlwZTogJ3RleHQveG1sJyB9KTtcblxuICAgICAgcmV0dXJuIG5ldyBGaWxlKFttZWlCbG9iXSwgZmlsZW5hbWUsIHsgdHlwZTogJ3RleHQveG1sJyB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9IFxuXG4gIHB1YmxpYyBnZXRJbWdEaW1lbnNpb24oZmlsZW5hbWU6IHN0cmluZyk6IFByb21pc2U8eyB3aWR0aDogbnVtYmVyOyBoZWlnaHQ6IG51bWJlciB9PiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGltZ0ZpbGUgPSB0aGlzLmdldEZpbGUoZmlsZW5hbWUpO1xuXG4gICAgICBpZiAoIWltZ0ZpbGUpIHtcbiAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmlsZSBub3QgZm91bmQ6ICR7ZmlsZW5hbWV9YCkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG5cbiAgICAgIHJlYWRlci5vbmxvYWQgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgY29uc3QgaW1nID0gbmV3IEltYWdlKCk7XG4gICAgICAgIGltZy5vbmxvYWQgPSAoKSA9PiB7XG4gICAgICAgICAgcmVzb2x2ZSh7IHdpZHRoOiBpbWcud2lkdGgsIGhlaWdodDogaW1nLmhlaWdodCB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLm9uZXJyb3IgPSAoKSA9PiB7XG4gICAgICAgICAgcmVqZWN0KG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgaW1hZ2U6ICR7ZmlsZW5hbWV9YCkpO1xuICAgICAgICB9O1xuICAgICAgICBpbWcuc3JjID0gZXZlbnQudGFyZ2V0LnJlc3VsdCBhcyBzdHJpbmc7XG4gICAgICB9O1xuXG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbWdGaWxlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgcHVibGljIGdldEZpbGUoa2V5OiBzdHJpbmcpOiBGaWxlIHtcbiAgICBpZiAodGhpcy5hbGxGaWxlcy5oYXMoa2V5KSkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsRmlsZXMuZ2V0KGtleSkuZmlsZTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgcmVtb3ZlRmlsZShrZXk6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNvdW50ID0gdGhpcy5nZXRGaWxlQ291bnQoa2V5KTtcbiAgICBpZiAoY291bnQgPT09IDApIHJldHVybjtcbiAgICBlbHNlIGlmIChjb3VudCA9PT0gMSkge1xuICAgICAgdGhpcy5hbGxGaWxlcy5kZWxldGUoa2V5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCB1cGRhdGVkRW50cnkgPSB7IGZpbGU6IHRoaXMuYWxsRmlsZXMuZ2V0KGtleSkuZmlsZSwgY291bnQ6IGNvdW50LTEgfTtcbiAgICAgIHRoaXMuYWxsRmlsZXMuc2V0KGtleSwgdXBkYXRlZEVudHJ5KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0RmlsZUNvdW50KGtleTogc3RyaW5nKTogbnVtYmVyIHtcbiAgICBpZiAoIHRoaXMuYWxsRmlsZXMuaGFzKGtleSkgKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbGxGaWxlcy5nZXQoa2V5KS5jb3VudDtcbiAgICB9XG4gICAgZWxzZSByZXR1cm4gMDtcbiAgfVxuXG4gIHB1YmxpYyBhZGRGb2xpbyhuYW1lOiBzdHJpbmcsIG1laTogc3RyaW5nLCBpbWFnZTogc3RyaW5nLCBpc0NyZWF0ZWQ6IGJvb2xlYW4pOiB2b2lkIHtcbiAgICBjb25zdCBuZXdGb2xpbzogZm9saW8gPSB7XG4gICAgICBmaWxlbmFtZTogbmFtZSxcbiAgICAgIG1laV9maWxlbmFtZTogbWVpLFxuICAgICAgaW1hZ2VfZmlsZW5hbWU6IGltYWdlLFxuICAgICAgaXNDcmVhdGVkOiBpc0NyZWF0ZWQsXG4gICAgfTtcbiAgICB0aGlzLmZvbGlvcy5wdXNoKG5ld0ZvbGlvKTtcbiAgfVxuXG4gIC8vIHB1YmxpYyBhZGRNYW51c2NyaXB0KGZpbGVuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgLy8gICB0aGlzLm1hbnVzY3JpcHRzLnB1c2goZmlsZW5hbWUpO1xuICAvLyB9XG5cbiAgcHVibGljIGlzQ3JlYXRlZEZvbGlvKGZpbGVuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBmb2xpbyA9IHRoaXMuZm9saW9zLmZpbmQoKGZvbGlvKSA9PiBmb2xpby5maWxlbmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgIHJldHVybiBmb2xpbyA/IGZvbGlvLmlzQ3JlYXRlZCA6IGZhbHNlO1xuICB9XG5cbiAgcHVibGljIHJlbW92ZUZvbGlvKGZpbGVuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBpZHggPSB0aGlzLmZvbGlvcy5maW5kSW5kZXgoIGZvbGlvID0+IGZvbGlvLmZpbGVuYW1lID09PSBmaWxlbmFtZSk7XG4gICAgdGhpcy5mb2xpb3Muc3BsaWNlKGlkeCwgMSk7XG4gIH1cblxuICAvLyBwdWJsaWMgcmVtb3ZlTWFudXNjcmlwdChmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgY29uc3QgaWR4ID0gdGhpcy5tYW51c2NyaXB0cy5maW5kSW5kZXgobWFudXNjcmlwdCA9PiBtYW51c2NyaXB0ID09PSBmaWxlbmFtZSk7XG4gIC8vICAgdGhpcy5tYW51c2NyaXB0cy5zcGxpY2UoaWR4KTtcbiAgLy8gICB0aGlzLnJlbW92ZUZpbGUoZmlsZW5hbWUpO1xuICAvLyB9XG5cbiAgcHVibGljIGdldEZvbGlvcygpOiBbc3RyaW5nLCBGaWxlLCBGaWxlXVtdIHtcbiAgICByZXR1cm4gdGhpcy5mb2xpb3MubWFwKCBmb2xpbyA9PiB7XG4gICAgICBjb25zdCBmaWxlbmFtZSA9IGZvbGlvLmZpbGVuYW1lO1xuICAgICAgY29uc3QgbWVpX2ZpbGVuYW1lID0gZm9saW8ubWVpX2ZpbGVuYW1lO1xuICAgICAgY29uc3QgaW1hZ2VfZmlsZW5hbWUgPSBmb2xpby5pbWFnZV9maWxlbmFtZTtcbiAgICAgIHJldHVybiBbZmlsZW5hbWUsIHRoaXMuZ2V0RmlsZShtZWlfZmlsZW5hbWUpLCB0aGlzLmdldEZpbGUoaW1hZ2VfZmlsZW5hbWUpXTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHB1YmxpYyBnZXRNYW51c2NyaXB0cygpOiBGaWxlW10ge1xuICAvLyAgIHJldHVybiB0aGlzLm1hbnVzY3JpcHRzLm1hcCggbWFudXNjcmlwdCA9PiB0aGlzLmdldEZpbGUobWFudXNjcmlwdCkpO1xuICAvLyB9XG5cbiAgLy8gcHVibGljIGNsZWFyTWFudXNjcmlwdHMoKTogdm9pZCB7XG4gIC8vICAgdGhpcy5tYW51c2NyaXB0cy5mb3JFYWNoKCBmaWxlbmFtZSA9PiB7XG4gIC8vICAgICB0aGlzLnJlbW92ZUZpbGUoZmlsZW5hbWUpO1xuICAvLyAgIH0pO1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMgPSBbXTtcbiAgLy8gfVxuICBcbiAgcHVibGljIGNsZWFyKCk6IHZvaWQge1xuICAgIHRoaXMuYWxsRmlsZXMuY2xlYXIoKTtcbiAgICB0aGlzLmZvbGlvcy5zcGxpY2UoMCk7XG4gIH1cblxuICBwdWJsaWMgcHJpbnQoKTogdm9pZCB7XG4gICAgY29uc29sZS5sb2codGhpcy5hbGxGaWxlcyk7XG4gICAgY29uc29sZS5sb2codGhpcy5mb2xpb3MpO1xuICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubWFudXNjcmlwdHMpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IFVwbG9hZEZpbGVNYW5hZ2VyO1xuXG50eXBlIGZvbGlvID0ge1xuICBmaWxlbmFtZTogc3RyaW5nLFxuICBtZWlfZmlsZW5hbWU6IHN0cmluZyxcbiAgaW1hZ2VfZmlsZW5hbWU6IHN0cmluZyxcbiAgaXNDcmVhdGVkOiBib29sZWFuLFxufTsiLCIvLyBJZiB1c2VyIHJpZ2h0LWNsaWNrcyBvbiBiYWNrZ3JvdW5kIGFuZCBub3RoaW5nIGlzIHNlbGVjdGVkXG5leHBvcnQgY29uc3QgZGVmYXVsdE9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLXVwbG9hZC1kb2MtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPlVwbG9hZCBkb2N1bWVudDwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL25ldy1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLW5ldy1mb2xkZXItYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk5ldyBmb2xkZXI8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9uZXctZm9sZGVyLnN2Z1wiPlxuICAgIDwvZGl2PmA7XG5cbi8vIElmIGEgc2luZ2xlIGZpbGUgaXMgc2VsZWN0ZWRcbmV4cG9ydCBjb25zdCBzaW5nbGVGaWxlT3B0aW9ucyA9IFxuICAgIGA8ZGl2IGlkPVwiY20tb3Blbi1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+T3BlbjwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL29wZW4tZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1yZW1vdmUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk1vdmUgdG8gVHJhc2g8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW1vdmUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1yZW5hbWUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPlJlbmFtZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlbmFtZS1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLW1vdmUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk1vdmU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9tb3ZlLWRvYy1pY29uLnN2Z1wiPlxuICAgIDwvZGl2PmA7XG5cbi8vIElmIG11bHRpcGxlIGZpbGVzIGFyZSBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IG11bHRpRmlsZU9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLW9wZW4tYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk9wZW48L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9vcGVuLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlIHRvIFRyYXNoPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+TW92ZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL21vdmUtZG9jLWljb24uc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuLy8gSWYgMSBvciBtb3JlIGZpbGVzIGFuZCAxIG9yIG1vcmUgZm9sZGVycyBhcmUgc2VsZWN0ZWRcbmV4cG9ydCBjb25zdCBmb2xkZXJBbmRGaWxlT3B0aW9ucyA9IFxuICAgIGA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5EZWxldGU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW1vdmUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1tb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbW92ZS1kb2MtaWNvbi5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiBvbmUgZm9sZGVyIGlzIHNlbGVjdGVkXG5leHBvcnQgY29uc3Qgc2luZ2xlRm9sZGVyT3B0aW9ucyA9IFxuICAgIGA8ZGl2IGlkPVwiY20tb3Blbi1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+T3BlbjwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL29wZW4tZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1yZW1vdmUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk1vdmUgdG8gVHJhc2g8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW1vdmUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1yZW5hbWUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPlJlbmFtZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlbmFtZS1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLW1vdmUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk1vdmU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9tb3ZlLWRvYy1pY29uLnN2Z1wiPlxuICAgIDwvZGl2PmA7XG5cbi8vIElmIG11bHRpcGxlIGZvbGRlcnMgYXJlIHNlbGVjdGVkXG5leHBvcnQgY29uc3QgbXVsdGlGb2xkZXJPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS1yZW1vdmUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk1vdmUgdG8gVHJhc2g8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW1vdmUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1tb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbW92ZS1kb2MtaWNvbi5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiB0cmFzaCBmb2xkZXIgaXMgc2VsZWN0ZWRcbmV4cG9ydCBjb25zdCB0cmFzaEZvbGRlck9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLWVtcHR5LXRyYXNoLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5FbXB0eSBUcmFzaDwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlbW92ZS1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuLy8gSWYgZW50cnkgaW4gdHJhc2ggZm9sZGVyIGlzIHNlbGVjdGVkXG5leHBvcnQgY29uc3QgdHJhc2hFbnRyeU9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLXJlY292ZXItYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPlB1dCBCYWNrPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVjb3Zlci1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLWRlbGV0ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+RGVsZXRlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4iXSwic291cmNlUm9vdCI6IiJ9