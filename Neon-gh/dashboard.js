!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=87)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function d(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,n,i){var r,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=d(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function p(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function m(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function h(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return d(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,d=g(c,l);for(n=0;n<l;++n)o(d[n],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,p(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,p(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return m(this,e,!0)},a.prototype.rawListeners=function(e){return m(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):h.call(e,t)},a.prototype.listenerCount=h,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,o,s=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function d(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&u())}function u(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(d);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var f=-1,p=s.length;++f<p;)if(s[f]&&s[f].test&&s[f].test()){o=s[f].install(u);break}function m(e,t){this.fun=e,this.array=t}m.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new m(e,t)),l||i||(l=!0,o())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(18),r=n(12),o=n(24),s=n(27),a=n(13),c=n(7);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function d(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():o.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function u(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSingleStaffActions(),o.initGroupingListeners(),t.dragInit())}function f(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function p(e,t,n=!0){if(e){if(e.classList.contains("staff"))return u(e,t);if(e.classList.contains("layer"))return f(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function m(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function h(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function g(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const o=e.closest(".syllable");o.style.fill="#d00",o.classList.add("syllable-highlighted"),o.querySelectorAll(".divLine").length&&(o.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),o.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,s.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}a.triggerBBoxActions()}t.getSelectionType=l,t.unselect=d,t.selectStaff=u,t.selectLayerElement=f,t.select=p,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(d(),p(i),await m(i,t)){const e=i.previousSibling;if(await m(e,t))p(e);else{const e=i.nextSibling;await m(e,t)?p(e):console.warn("Error: Neither prev or next nc are ligatures")}o.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=m,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=n.indexOf(t),s=n.indexOf(r);if(1!==Math.abs(o-s))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!h(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=h,t.sharedSecondLevelParent=g,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,o;return e.querySelectorAll("path").forEach(e=>{const s=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===o&&(o=Math.atan((s[3]-s[1])/(s[2]-s[0]))),(void 0===n||Math.min(s[1],s[3])<n)&&(n=Math.min(s[1],s[3])),(void 0===t||s[0]<t)&&(t=s[0]),(void 0===r||Math.max(s[1],s[3])>r)&&(r=Math.max(s[1],s[3])),(void 0===i||s[2]>i)&&(i=s[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:o}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{p(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(d(),0===e.length)return;let r,c=!1,u=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const f=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else u=u||!0;f.add(e);const n=e.getAttribute("mei:follows");n&&(document.querySelector("#"+n.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+n.slice(1))));const i=e.getAttribute("mei:precedes");i&&(document.querySelector("#"+i.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+i.slice(1))))}f.forEach(e=>p(e,n,!1));const m=Array.from(f.values());if(!c||u)switch(i){case"selByStaff":switch(m.length){case 1:a.triggerSingleStaffActions(),o.initGroupingListeners(),(0,s.resize)(m[0],t,n);break;default:a.triggerMultiStaffActions(),o.initGroupingListeners()}break;case"selByLayerElement":1===f.size?a.triggerLayerElementActions(m[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(m.length){case 1:a.triggerSyllableActions("singleSelect");break;case 2:o.isLinkable("selBySyllable",m)?a.triggerSyllableActions("linkableSelect"):o.isGroupable("selBySyllable",m)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default");break;default:o.isGroupable("selBySyllable",m)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(m.length){case 1:a.triggerNeumeActions(),o.initGroupingListeners();break;default:o.isGroupable("selByNeume",m)?o.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(m.length){case 1:a.triggerNcActions(m[0]);break;case 2:if(g(m)){if(m[0].parentElement===m[1].parentElement){const e=Array.from(m[0].parentElement.children);if(1===Math.abs(e.indexOf(m[0])-e.indexOf(m[1]))){let e=m[0].children[0],t=m[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,s=t.y.baseVal.value;if((n>i||n===i&&r<s)&&([e,t]=[t,e],[n,r,i,s]=[i,s,n,r]),n===i||r<s){o.triggerGrouping("ligature");break}}}o.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:g(m)?o.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(m.length){case 1:v(m[0],n,t),a.triggerBBoxActions();break;default:m.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===f.size?a.triggerLayerElementActions(m[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,circleSize:25,highlightMode:"none",userMode:"edit",insertMode:"punctum",insertTab:"primitiveTab",selectionMode:"selBySyllable",displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(26),r=n(16),o=new Array(0);let s=null;const a={default:"",warning:"âš ï¸ ",error:"ðŸ”´ ",success:"âœ… "};class c{constructor(e,t){this.message=a[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function l(e){document.getElementById(e)&&document.getElementById(e).remove()}function d(e){!function(e){if(e.isModeMessage){if(null!==s)return void window.clearTimeout(s.timeoutID);s=e}if(o.push(e),o.length>3){l(o.shift().getId())}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(l,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),l(e.getId())})}function u(e,t="default"){const n=new c(e,t);"error"!=n.type&&"warning"!=n.type||(0,i.recordNotification)(n),d(n)}t.Notification=c,t.queueNotification=u,t.default={queueNotification:u}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t){e.exports=d3},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.bboxActionContents=t.divLineActionContents=t.clefActionContents=t.columnActionContents=t.staffMergeActionContents=t.staffSplitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.staffSplitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.staffMergeActionContents='<label>Merge Systems:</label>\n    <div id="merge-system-btns-container" class="right-side-panel-btns-container">\n        <button id="merge-systems" class="side-panel-btn">Merge</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.columnActionContents='<div class="col-edit-container">\n        Edit Column Information: \n        <div id="col-stepper-btns-container" class="right-side-panel-btns-container">\n            <button id="col-decrement" class="side-panel-btn col-stepper-btn">â€“</button>\n            <input type="text" id="col-input" class="side-panel-stepper-input" value="0">\n            <button id="col-increment" class="side-panel-btn col-stepper-btn">+</button>\n            <button id="col-confirm" class="side-panel-btn side-panel-confirm-btn" style="display:none">Confirm</button>\n            <div id="col-warning" class="side-panel-warning"></div> \n        </div>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToVirgula" class="dropdown-item">Virgula</a>\n        </div>\n    </div>\n</div>',t.bboxActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="matchHeight">Match Height for Entire Row</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">T</div>\n                </div>\n                <div class="hotkey-entry-description">Scroll To Syllable Text</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4/5/6</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff/Layer Element/BBox\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: scroll; padding: 0.5em 0.75em; max-height: 300px;"><div>'},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(11),r=[],o=0;o<256;++o)r.push((o+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateDisplayAllBtn=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setCircleSizeControls=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(18),r=n(4),o=n(7);let s,a,c;function l(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function d(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function u(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),o=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return o.textContent="Â - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),o.textContent="Â - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function f(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{u(e)})}function p(){document.body.removeEventListener("click",p),document.getElementById("highlight-dropdown").classList.remove("is-active")}function m(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",p),f("column"),f("staff"),f("syllable"),f("neume"),f("layerElement"),f("none")):document.body.removeEventListener("click",p)})}function h(){const{highlightMode:e}=(0,r.getSettings)();u(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=l,t.setBgOpacityFromSlider=d,t.setCircleSizeControls=function(){const e=document.getElementById("circleSlider"),t=document.getElementById("circleOutput"),{circleSize:n}=(0,r.getSettings)();function i(){t.value=e.value,c=Number(e.value),(0,r.setSettings)({circleSize:Number(c)});const n=o.selectAll(".resizePoint");n.empty()||n.attr("r",c)}c=n,e.value=String(n),t.value=String(n),document.getElementById("reset-circle-size").addEventListener("click",()=>{const n=o.selectAll(".resizePoint");n.empty()||n.attr("r",25),c=Number(25),e.value=String(25),t.value=String(25),(0,r.setSettings)({circleSize:Number(25)}),i()}),e.addEventListener("input",i),e.addEventListener("change",i),e.disabled=!1},t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=f,t.setHighlightControls=m,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-column":i.setGroupingHighlight("column");break;case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.updateDisplayAllBtn=function(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)?(e.classList.add("selected"),e.innerHTML="Hide All"):e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")},t.loadHighlightSettings=h,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,s=Number(t.value),l(e)}s=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-glyph-opacity");100==i&&a.classList.add("hide-icon"),null==a||a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),s=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,a=Number(t.value),d(e)}a=i,t.value=String(i),n.value=String(i);const s=document.getElementById("toggle-bg-opacity");100==i&&s.classList.add("hide-icon"),s.addEventListener("click",()=>{let i;s.classList.contains("hide-icon")?(s.classList.remove("hide-icon"),i=0):(s.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),a=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(t),m(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":u("staff");break;case"w":u("syllable");break;case"e":u("neume");break;case"r":u("layerElement");break;case"t":u("selection");break;case"y":u("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),h();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerBBoxActions=t.triggerSingleStaffActions=t.triggerStaffSplitMode=t.triggerMultiStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.matchHeightHandler=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(8),r=n(24),o=n(5),s=n(35),a=n(36),c=n(3);let l;function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function p(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function m(e){return{action:"setLiquescent",param:{elementId:e,curve:""}}}function h(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function g(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",h)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Insert Success","success"):o.default.queueNotification("Insert Failed XoX","error"),g(),l.updateForCurrentPage()})}function _(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Move Success","success"):o.default.queueNotification("Move Failed XoX","error"),g(),l.updateForCurrentPage()})}function w(){const e=Array.from(document.getElementsByClassName("selected"));e.length>1&&o.default.queueNotification("Cannot match height to multiple bbox","error");const t={action:"matchHeight",param:{elementId:e[0].id}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Height Match Success","success"):o.default.queueNotification("Height Match Failed XoX","error"),g(),l.updateForCurrentPage()})}function E(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",h))}function S(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function k(){const e=document.getElementById("col-input"),t=document.querySelectorAll(".staff.selected");let n;for(const e of t){const t=Array.from(e.classList).join(" ").match(/\bcolumn(\d+)\b/);if(t){const e=parseInt(t[1],10);if(n&&n!=e){document.getElementById("col-warning").innerText="The selected staves are not of the same column!",n=0;break}n=e}}n&&(e.value=n.toString())}function L(){const e=document.getElementById("col-decrement"),t=document.getElementById("col-increment"),n=document.getElementById("col-confirm"),i=document.getElementById("col-input");function r(e){let t=parseInt(i.value,10)||0;t+=e,t=Math.min(Math.max(t,1),5),t.toString()!=i.value&&(n.style.display=""),i.value=t.toString()}e.addEventListener("click",(function(){r(-1)})),t.addEventListener("click",(function(){r(1)})),n.addEventListener("click",(function(){const e=[];document.querySelectorAll(".staff.selected").forEach(t=>{e.push({action:"set",param:{elementId:t.id,attrType:"type",attrValue:"column"+i.value}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Column Value Update Success","success"):o.default.queueNotification("Column Value Update Failed XoX","error"),g(),l.updateForCurrentPage()})}))}function A(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function x(e){l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}function C(){const e=document.querySelector(".staff.selected");if(null!==e){new s.SplitStaffHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}function T(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=d,t.unsetVirgaAction=u,t.unsetVirgaReversedAction=f,t.unsetLiquescentClockwiseAction=p,t.unsetLiquescentAnticlockwiseAction=m,t.deleteButtonHandler=h,t.endOptionsSelection=g,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=_,t.matchHeightHandler=w,t.addChangeStaffListener=S,t.triggerNcActions=function(e){g(),A("moreEdit",i.defaultActionContents),A("extraEdit",i.ncActionContents),E(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=p(e.id),s=m(e.id);l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=f(e.id),i=p(e.id),r=m(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=f(e.id),n=d(e.id),i=p(e.id),r=m(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=p(e.id),r=m(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=m(e.id),s={action:"setLiquescent",param:{elementId:e.id,curve:"c"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=u(e.id),i=f(e.id),r=p(e.id),s={action:"setLiquescent",param:{elementId:e.id,curve:"a"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),T()},t.triggerNeumeActions=function(){g(),A("moreEdit",i.defaultNeumeActionContents),A("extraEdit",i.neumeActionContents),E();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Grouping Changed","success"):o.default.queueNotification("Grouping Failed","error"),g(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),T()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){g(),A("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}A("moreEdit",t,!0),S(),E(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,s;if(g(),e.classList.contains("custos"))return A("moreEdit",i.custosActionContents),S(),void E();A("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(A("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}})}),T()}(e)):e.classList.contains("clef")?(A("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave incremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave decremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{x({action:"setClef",param:{elementId:e.id,shape:"C"}})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{x({action:"setClef",param:{elementId:e.id,shape:"F"}})}),T()}(e)):e.classList.contains("divLine")&&(A("extraEdit",i.divLineActionContents),function(e){document.querySelector("#ChangeToMinima.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"minima"}})}),document.querySelector("#ChangeToMaior.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maior"}})}),document.querySelector("#ChangeToMaxima.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"maxima"}})}),document.querySelector("#ChangeToFinalis.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"finalis"}})}),document.querySelector("#ChangeToCaesura.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"caesura"}})}),document.querySelector("#ChangeToVirgula.dropdown-item").addEventListener("click",()=>{x({action:"set",param:{elementId:e.id,attrType:"form",attrValue:"virgula"}})}),T()}(e)),S(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),E(),S(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",b),null===(s=document.getElementById("moveOutsideSyllable"))||void 0===s||s.addEventListener("click",_)},t.triggerMultiStaffActions=function(){g(),A("moreEdit",i.staffMergeActionContents),A("extraEdit",i.columnActionContents),E(),k(),L(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=C,t.triggerSingleStaffActions=function(){g(),A("moreEdit",i.staffSplitActionContents),A("extraEdit",i.columnActionContents),E(),k(),L(),document.getElementById("split-system").addEventListener("click",()=>{C()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),g()}else console.error("No staff was selected"),g()})},t.triggerBBoxActions=function(){g(),A("moreEdit",i.bboxActionContents),E(),document.getElementById("matchHeight").addEventListener("click",()=>{w()})},t.triggerDefaultSylActions=function(){g(),A("moreEdit",i.defaultSylActionContents),E(),S()},t.triggerDefaultActions=function(){g(),A("moreEdit",i.defaultActionContents),E()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(3);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".system"),{x:r,y:o}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:o}}function o(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:o,y:s}=r(e,t),a=n.find(e=>o<=e.lrx&&o>=e.ulx&&s<=e.lry&&s>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=o,t.getStaffByCoords=function(e,t){const n=o(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,c,l=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(d,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function d(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,c=this.byteLength,l=t(n,c),d=c;return i!==e&&(d=t(i,c)),l>d?new ArrayBuffer(0):(r=d-l,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,l,r),s.set(a),o)}}(),d.prototype.append=function(e){return this.appendBinary(c(e)),this},d.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},d.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},d.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},d.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},d.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},d.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},d.hash=function(e,t){return d.hashBinary(c(e),t)},d.hashBinary=function(e,t){var n=a(o(e));return t?l(n):n},d.ArrayBuffer=function(){this.reset()},d.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,c=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},d.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},d.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},d.ArrayBuffer.prototype.getState=function(){var e,t=d.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},d.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),d.prototype.setState.call(this,e)},d.ArrayBuffer.prototype.destroy=d.prototype.destroy,d.ArrayBuffer.prototype._finish=d.prototype._finish,d.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,c,l=e.length,d=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(d,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(d,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(d,o),d}(new Uint8Array(e)));return t?l(i):i},d}()},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(8),r=n(33),o=n(3);var s,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.VALIDATION_STATUS=2]="VALIDATION_STATUS",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD",e[e.MOVE_TO=4]="MOVE_TO",e[e.NEW_FOLDER=5]="NEW_FOLDER",e[e.RENAME=6]="RENAME"}(s=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{this.updateSelectedBBox(e,this.dragHandler,this.neonView)})})}else this.updateSelectedBBox(e,this.dragHandler,this.neonView);this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case s.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;case s.DOCUMENT_UPLOAD:case s.NEW_FOLDER:case s.RENAME:break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,this.setupEventListeners()}setupEventListeners(){document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}removeEventListeners(){document.getElementById("neon-modal-window-header-close").removeEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").removeEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").removeEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case s.EDIT_TEXT:this.openEditSylTextModalWindow();break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case s.DOCUMENT_UPLOAD:case s.MOVE_TO:case s.NEW_FOLDER:case s.RENAME:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");break;case s.DOCUMENT_UPLOAD:case s.MOVE_TO:case s.NEW_FOLDER:case s.RENAME:document.getElementById("neon-modal-window-content-container").innerHTML=""}document.getElementById("neon-modal-window-container").style.display="none",document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED,this.removeEventListeners()}setModalWindowContent(e){const t=document.getElementById("neon-modal-window-content-container"),n=document.getElementById("neon-modal-window-header-title");switch(this.modalWindowView){case s.EDIT_TEXT:t.innerHTML=i.editTextModal,n.innerText="EDIT SYLLABLE TEXT";const o=/\u{25CA}/u,a=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(o,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=a;break;case s.HOTKEYS:t.innerHTML=i.hotkeysModal,n.innerText="HOTKEYS";break;case s.VALIDATION_STATUS:t.innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURIComponent(e)}" download="validation.log">\n              Export\n            </a>\n            </div>`,n.innerText="ERROR LOG";break;case s.DOCUMENT_UPLOAD:n.innerText="DOCUMENT UPLOAD",t.innerHTML=r.uploadAreaHTML;break;case s.MOVE_TO:n.innerText="MOVE TO";break;case s.NEW_FOLDER:n.innerText="NEW FOLDER",t.innerHTML=r.newFolderHTML;break;case s.RENAME:n.innerText="RENAME",t.innerHTML=r.renameHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}updateSelectedBBox(e,t,n){(0,o.unselect)();const i=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(i)){const e=document.getElementById(i).querySelector(".sylTextRect-display");(0,o.selectBBox)(e,t,n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function o(){r()}function s(){o();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=o,t.unsetGroupingHighlight=s,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(s(),"staff"===t)return void c();if("column"===t)return void function(){const e={};document.querySelectorAll(".staff").forEach(t=>{const n=Array.from(t.classList).join(" ").match(/\bcolumn(\d+)\b/);let i=0;n&&(i=parseInt(n[1],10)-1),e[i]||(e[i]=[]),e[i].push(t)});for(const[t,n]of Object.entries(e)){const e=i[Number(t)%i.length];for(const t of n)a(t,e)}}();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByColumn":t="column";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return o}));var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(e);else if(o===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,o,s,a,c,l,d,u,f="";n=t.pop();)if(i=n.obj,f+=n.prefix||"",r=n.val||"")f+=r;else if("object"!=typeof i)f+=void 0===i?null:JSON.stringify(i);else if(null===i)f+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),o=i.length-1;o>=0;o--)s=0===o?"":",",t.push({obj:i[o],prefix:s});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)d=i[l=a[o]],u=o>0?",":"",u+=JSON.stringify(l)+":",t.push({obj:d,prefix:u});t.push({val:"{"})}return f},t.parse=function(e){for(var t,n,r,o,s,a,c,l,d,u=[],f=[],p=0;;)if("}"!==(t=e[p++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":p+=3,i(null,u,f);break;case"t":p+=3,i(!0,u,f);break;case"f":p+=4,i(!1,u,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",p--;;){if(r=e[p++],!/[\d\.\-e\+]/.test(r)){p--;break}n+=r}i(parseFloat(n),u,f);break;case'"':for(o="",s=void 0,a=0;'"'!==(c=e[p++])||"\\"===s&&a%2==1;)o+=c,"\\"===(s=c)?a++:a=0;i(JSON.parse('"'+o+'"'),u,f);break;case"[":l={element:[],index:u.length},u.push(l.element),f.push(l);break;case"{":d={element:{},index:u.length},u.push(d.element),f.push(d);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===u.length)return u.pop();i(u.pop(),u,f)}}},function(e,t,n){"use strict";var i=n(20),r=n(10);t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return Object(r.a)(o)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(7),r=n(14),o=n(5),s=n(3);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,s.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,s.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,s.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:o,lrx:s,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,o+this.dy)||(0,r.isOutOfSVGBounds)(s+this.dx,a+this.dy)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(8),r=n(34),o=n(5),s=n(3),a=n(13),c=n(13);let l;function d(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(s.sharedLogicalParent(e,t))return!1;default:return!!s.areAdjacent(e,t)}}function u(e,t){switch(t||(t=Array.from(document.querySelectorAll(".selected"))),e){case"selBySyllable":for(const e of t)if(e.hasAttribute("mei:follows")||e.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNeume":for(const e of t)if(e.parentElement.hasAttribute("mei:follows")||e.parentElement.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1;case"selByNc":for(const e of t)if(e.parentElement.parentElement.hasAttribute("mei:follows")||e.parentElement.parentElement.hasAttribute("mei:precedes"))return o.queueNotification("The action involves linked syllables, please untoggle them first","warning"),!0;return!1}}function f(e){return 2===e.length&&(e[0].getAttribute("mei:follows")==="#"+e[1].id&&e[1].getAttribute("mei:precedes")==="#"+e[0].id||e[0].getAttribute("mei:precedes")==="#"+e[1].id&&e[1].getAttribute("mei:follows")==="#"+e[0].id)}function p(e,t){switch(t.length){case 2:if("selBySyllable"!==e)return!1;if(f([t[0],t[1]]))return!0;if(s.isMultiStaveSelection(t)){const e=t[0].closest(".staff"),n=t[1].closest(".staff"),i=Array.from(e.parentElement.children),r=i.indexOf(e)<i.indexOf(n)?e:n,o=r.id===e.id?n:e,s=r.querySelector(".layer"),a=o.querySelector(".layer"),c=Array.from(s.children).filter(e=>e.classList.contains("syllable")),l=Array.from(a.children).filter(e=>e.classList.contains("syllable")),d=c[c.length-1],u=l[0];if(d.id===t[0].id&&u.id===t[1].id)return!0;if(d.id===t[1].id&&u.id===t[0].id)return!0}default:return!1}return!1}function m(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(o.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):o.queueNotification("Merge Failed","error")})}function h(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",v)}function g(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",v);try{document.getElementById("mergeSyls").addEventListener("click",()=>{if(u(s.getSelectionType()))return;y("group","neume",w().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{if(u(s.getSelectionType()))return;y("group","neume",_())})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{y("group","nc",_())})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{y("ungroup","neume",w())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{y("ungroup","nc",w())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:_()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Ligature Toggled","success"):o.queueNotification("Ligature Toggle Failed","error"),h(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{b()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=d,t.isLinked=f,t.isLinkable=p,t.mergeStaves=m,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],g()},t.endGroupingSelection=h,t.initGroupingListeners=g;const v=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=s.getSelectionType();if(u(t,e))return;switch(t){case"selBySyllable":if(p(t,e))b();else if(d(t,e)){y("group","neume",w().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){y("ungroup","neume",w())}break;case"selByNeume":if(d(t,e)){y("group","neume",_())}else{y("ungroup","nc",w())}break;case"selByNc":if(d(t,e)){y("group","nc",_())}else{y("ungroup","nc",w())}break;case"selByStaff":d(t,e)?m():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function y(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?o.queueNotification("Grouping Success","success"):o.queueNotification("Ungrouping Success","success"):"group"===e?o.queueNotification("Grouping Failed","error"):o.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}h()})}function b(){const e=_(),t={action:"chain",param:[]},n=new Array;if(document.getElementById(e[0]).getAttribute("mei:precedes"))n.push({action:"set",param:{elementId:e[0],attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"follows",attrValue:""}}),n.push({action:"setText",param:{elementId:e[1],text:""}});else if(document.getElementById(e[0]).getAttribute("mei:follows"))n.push({action:"set",param:{elementId:e[0],attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"precedes",attrValue:""}}),n.push({action:"setText",param:{elementId:e[0],text:""}});else{const t=document.getElementById(e[0]),i=document.getElementById(e[1]),r=t.closest(".staff"),o=i.closest(".staff"),s=Array.from(r.parentElement.children).filter(e=>e.classList.contains("staff"));let a,c;s.indexOf(r)<s.indexOf(o)?(a=t,c=i):(a=i,c=t),n.push({action:"set",param:{elementId:a.id,attrType:"precedes",attrValue:"#"+c.id}}),n.push({action:"set",param:{elementId:c.id,attrType:"follows",attrValue:"#"+a.id}});const l=c.querySelector(".syl");null!==l&&n.push({action:"remove",param:{elementId:l.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Toggled Syllable Link"):o.queueNotification("Failed to Toggle Syllable Link"),h(),l.updateForCurrentPage()})}function _(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function w(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemManager=t.FileSystemTools=t.EntryType=void 0;var i=n(88);Object.defineProperty(t,"EntryType",{enumerable:!0,get:function(){return i.EntryType}});var r=n(89);Object.defineProperty(t,"FileSystemTools",{enumerable:!0,get:function(){return r.FileSystemTools}});var o=n(90);Object.defineProperty(t,"FileSystemManager",{enumerable:!0,get:function(){return o.FileSystemManager}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(8),r=n(4);function o(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:o}=(0,r.getSettings)();o&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),s()}function s(){const e=document.querySelector("#error_log"),t=document.querySelector("#display-single-container"),n=document.createElement("label"),i=document.createElement("input");i.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Errors",i.id="display-errors",i.type="checkbox",i.checked=!1,n.appendChild(i),t.append(n);const{displayErrLog:o}=(0,r.getSettings)();o&&(i.checked=!0),i.addEventListener("click",()=>{const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),o=document.getElementById("displayBBox"),s=document.getElementById("displayText"),a=document.getElementById("display-errors");i.checked?(e.classList.add("visible"),(0,r.setSettings)({displayErrLog:!0}),(null==n?void 0:n.checked)&&(null==o?void 0:o.checked)&&(null==s?void 0:s.checked)&&(null==a?void 0:a.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.classList.remove("visible"),(0,r.setSettings)({displayErrLog:!1}),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))})}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(function(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n    <div class="notification-wrapper">\n\n      <div>\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n    </div>\n\n    <div class="remove-notif-icon-wrapper">\n      <img class="log-remove remove-notif-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg">\n    </div>\n  `;const n=t.querySelector(".log-remove");return n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),t}(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,o()},t.initErrorLogControls=o,t.initDisplayListener=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(3),r=n(7),o=n(14),s=n(5),a=n(4),c={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function l(e,t,n,i,r){let o;if(r>=0)o=[{x:e,y:t,name:c.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:c.Top},{x:n,y:t+(n-e)*Math.sin(r),name:c.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:c.Right},{x:n,y:i,name:c.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:c.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:c.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:c.Left}];else{const s=(n-e)*Math.tan(Math.abs(r)),a=i-t-s;o=[{x:e,y:t+s,name:c.TopLeft},{x:(e+n)/2,y:t+s/2,name:c.Top},{x:n,y:t,name:c.TopRight},{x:n,y:t+a/2,name:c.Right},{x:n,y:t+a,name:c.BottomRight},{x:(e+n)/2,y:i-s/2,name:c.Bottom},{x:e,y:i,name:c.BottomLeft},{x:e,y:i-a/2,name:c.Left}]}return o}t.resize=function(e,t,n){let d,u,f,p,m,h,g,v,y,b,_,w,E,S,k;function L(){const e=l(d,u,f,p,m),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(d,f))),n.setAttribute("y",String(Math.min(u,p))),n.setAttribute("width",String(Math.abs(f-d))),n.setAttribute("height",String(Math.abs(p-u))));for(const t in c){const n=e[c[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,o=e[3].y;const s=i+100+","+(o+85)+" "+(i+70)+","+(o+50)+" "+(i+100)+","+(o+15)+" "+(i+130)+","+(o+50);i=e[7].x,o=e[7].y;const a=i-100+","+(o-15)+" "+(i-130)+","+(o-50)+" "+(i-100)+","+(o-85)+" "+(i-70)+","+(o-50);r.select("#rotateLeft").attr("points",a),r.select("#rotateRight").attr("points",s)}!function A(){if(null===e)return;if(r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");d=Number(t.getAttribute("x")),u=Number(t.getAttribute("y")),f=+d+ +t.getAttribute("width"),p=+u+ +t.getAttribute("height"),m=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);d=t.ulx,u=t.uly,f=t.lrx,p=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));m=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let x;h=d,y=u,g=f,b=p;const C=l(d,u,f,p,m);E=C[2].x-C[0].x;const T=C.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",T).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");const{circleSize:N}=(0,a.getSettings)();for(const t in c){const n=C[c[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",N).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in c)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{q(e)}).on("drag",O).on("end",I.bind(this)));if(e.classList.contains("staff")){let t=C[3].x,n=C[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=C[7].x,n=C[7].y;const o=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",o).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-_,t=k-Math.atan(e/E);t>-.2&&t<.2&&(S=e,u=w+S,m=t,m>=0?(u=S+C.filter(e=>e.name===c.TopLeft)[0].y,p=C.filter(e=>e.name===c.BottomRight)[0].y):(u=C.filter(e=>e.name===c.TopRight)[0].y,p=S+C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M)),r.select("#rotateRight").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-_,t=k+Math.atan(e/E);t>-.2&&t<.2&&(S=e,m=t,m>=0?(p=S+C.filter(e=>e.name===c.BottomRight)[0].y,u=C.filter(e=>e.name===c.TopLeft)[0].y):(u=S+C.filter(e=>e.name===c.TopRight)[0].y,p=C.filter(e=>e.name===c.BottomLeft)[0].y));L()})).on("end",M))}function q(e){x=e;const t=C.find(t=>t.name===c[e]);v=[t.x,t.y],y=u,b=p}function O(){const e=r.mouse(this);switch(c[x]){case c.TopLeft:d=e[0],u=e[1];break;case c.Top:u=e[1]-(f-d)*Math.tan(m)/2;break;case c.TopRight:f=e[0],u=e[1]-(f-d)*Math.tan(m);break;case c.Right:f=e[0],p=b+(e[0]-v[0])*Math.tan(m);break;case c.BottomRight:f=e[0],p=e[1];break;case c.Bottom:p=e[1]+(f-d)*Math.tan(m)/2;break;case c.BottomLeft:d=e[0],p=e[1]+(f-d)*Math.tan(m);break;case c.Left:d=e[0],u=y+(e[0]-v[0])*Math.tan(m);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}L()}function I(){if((0,o.isOutOfSVGBounds)(d,u)||(0,o.isOutOfSVGBounds)(f,p))return d=h,u=y,f=g,p=b,L(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const r={action:"resize",param:{elementId:e.id,ulx:d,uly:u,lrx:f,lry:p}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{if(r&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),d=void 0,u=void 0,f=void 0,p=void 0,A(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function B(){const e=r.event.sourceEvent.target.id;_=r.mouse(this)[1],b=p,y=u,w="rotateRight"===e?p:u,k=m}function M(){if(void 0===S&&(S=0),(0,o.isOutOfSVGBounds)(d,u)||(0,o.isOutOfSVGBounds)(f,p))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),d=void 0,u=void 0,f=void 0,p=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:d,uly:u,lrx:f,lry:p,rotate:180*m/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),d=void 0,u=void 0,f=void 0,p=void 0,S=void 0,A(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,o=n(2),s=n.n(o),a=n(22),c=n(15),l=n.n(c),d=n(21),u=n.n(d),f=n(6),p=n.n(f),m=n(1),h=n.n(m),g=n(0),v=n.n(g);function y(e){return"$"+e}function b(e){return e.substring(1)}function _(){this._store={}}function w(e){if(this._store=new _,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}_.prototype.get=function(e){var t=y(e);return this._store[t]},_.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},_.prototype.has=function(e){return y(e)in this._store},_.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},_.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),w.prototype.add=function(e){return this._store.set(e,!0)},w.prototype.has=function(e){return this._store.has(e)},w.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(w.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=w,r=_):(i=Set,r=Map);var S=Function.prototype.toString,k=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==k}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return p()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function x(e){return p()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var o;try{var s=A((function(e,t){e?r(e):i(t)}));t.push(s),(o=e.apply(n,t))&&"function"==typeof o.then&&i(o)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return x(p()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),o(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(o){o?r(o):t(i[e].apply(i,n))}))}))})))}function T(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o in e&&(n[o]=e[o])}return n}var N;function q(e){return e}function O(e){return[{ok:e}]}function I(e,t,n){var i=t.docs,o=new r;i.forEach((function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])}));var s=o.size,a=0,c=new Array(s);function l(){var e;++a===s&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var d=[];o.forEach((function(e,t){d.push(t)}));var u=0;function f(){if(!(u>=d.length)){var n=Math.min(u+6,d.length),i=d.slice(u,n);!function(n,i){n.forEach((function(n,r){var s=i+r,a=o.get(n),d=T(a[0],["atts_since","attachments"]);d.open_revs=a.map((function(e){return e.rev})),d.open_revs=d.open_revs.filter(q);var u=q;0===d.open_revs.length&&(delete d.open_revs,u=O),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(d[e]=t[e])})),e.get(n,d,(function(e,t){var i,r,o;i=e?[{error:e}]:u(t),r=n,o=i,c[s]={id:r,docs:o},l(),f()}))}))}(i,u),u+=i.length}}f()}try{localStorage.setItem("_pouch_check_localstorage",1),N=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){N=!1}function B(){return N}function M(){v.a.call(this),this._listeners={},function(e){B()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function P(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function F(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function j(e,t){P("info","The above "+e+" is totally normal. "+t)}h()(M,v.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(o)o="waiting";else{o=!0;var e=T(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===o&&s()(a),o=!1})).on("error",(function(){o=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){B()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var D="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}h()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var $=new R(400,"bad_request","Missing JSON list of 'docs'"),H=new R(404,"not_found","missing"),U=new R(409,"conflict","Document update conflict"),V=new R(400,"bad_request","_id field must contain a string"),G=new R(412,"missing_id","_id is required for puts"),W=new R(400,"bad_request","Only reserved document ids may start with underscore."),z=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),J=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),X=new R(500,"doc_validation","Bad special document member"),Y=new R(400,"bad_request","Something wrong with the request"),Q=new R(400,"bad_request","Document must be a JSON object"),Z=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=z).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(Y,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var o in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function oe(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function se(e){var t;if(e?"string"!=typeof e?t=ne(V):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(W)):t=ne(G),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(P("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var de=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],ue=/(?:^|&)([^&=]*)=?([^&]*)/g,fe=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function pe(e){for(var t=fe.exec(e),n={},i=14;i--;){var r=de[i],o=t[i]||"",s=-1!==["user","password"].indexOf(r);n[r]=s?decodeURIComponent(o):o}return n.queryKey={},n[de[12]].replace(ue,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function me(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function he(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,o=n(i);return o?(o._id=t,o._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return he(e,t._id,n)}))}(e,o,n)):{updated:!1,rev:r}}))}var ge=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function _e(e,t){return ye([be(e)],{type:t})}function we(e,t){return _e(ge(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function ke(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function xe(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),o=Math.ceil(i/r),s=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?xe:Ae;function d(){Le(f)}function u(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function f(){var t=s*r,n=t+r;s++,c(a,e,t,n,s<o?d:u)}f()}function Te(e){return l.a.hash(e)}function Ne(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=D({},e);return delete n._rev_tree,Te(JSON.stringify(n))}var qe=a.a;function Oe(e){for(var t,n,i,r,o=e.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],c=r.pos;if(a.length)for(var l=0,d=a.length;l<d;l++)o.push({pos:c+1,ids:a[l]});else{var u=!!s[1].deleted,f=s[0];t&&!(i!==u?i:n!==c?n<c:t<f)||(t=f,n=c,i=u)}}return n+"-"+t}function Ie(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,o=n.ids,s=o[2],a=t(0===s.length,r,o[0],n.ctx,o[1]),c=0,l=s.length;c<l;c++)i.push({pos:r+1,ids:s[c],ctx:a})}function Be(e,t){return e.pos-t.pos}function Me(e){var t=[];Ie(e,(function(e,n,i,r,o){e&&t.push({rev:n+"-"+i,pos:n,opts:o})})),t.sort(Be).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function Pe(e){for(var t=Oe(e),n=Me(e.rev_tree),i=[],r=0,o=n.length;r<o;r++){var s=n[r];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function Fe(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,o=t.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,d=t.history?t.history.slice():[];d.push({id:s,opts:a}),l&&n.push({pos:r+1-d.length,ids:d});for(var u=0,f=c.length;u<f;u++)i.push({pos:r+1,ids:c[u],history:d})}return n.reverse()}function je(e,t){return e.pos-t.pos}function De(e,t,n){var i=function(e,t,n){for(var i,r=0,o=e.length;r<o;)n(e[i=r+o>>>1],t)<0?r=i+1:o=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,o=e.length;r<o;r++){var s=e[r],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function $e(e,t){return e[0]<t[0]?-1:1}function He(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),o=r.tree1,s=r.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var c=!1,l=0;l<o[2].length;l++)o[2][l][0]===s[2][a][0]&&(n.push({tree1:o[2][l],tree2:s[2][a]}),c=!0);c||(i="new_branch",De(o[2],s[2][a],$e))}else i="new_leaf",o[2][0]=s[2][a]}return{conflicts:i,tree:e}}function Ue(e,t,n){var i,r=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=He(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),o=o||i.conflicts,s=!0;else if(!0!==n){var d=l.pos<t.pos?l:t,u=l.pos<t.pos?t:l,f=u.pos-d.pos,p=[],m=[];for(m.push({ids:d.ids,diff:f,parent:null,parentIdx:null});m.length>0;){var h=m.pop();if(0!==h.diff)for(var g=h.ids[2],v=0,y=g.length;v<y;v++)m.push({ids:g[v],diff:h.diff-1,parent:h.ids,parentIdx:v});else h.ids[0]===u.ids[0]&&p.push(h)}var b=p[0];b?(i=He(b.ids,u.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:d.pos,ids:d.ids}),o=o||i.conflicts,s=!0):r.push(l)}else r.push(l)}return s||r.push(t),r.sort(je),{tree:r,conflicts:o||"internal_node"}}function Ve(e,t,n){var i=Ue(e,t),r=function(e,t){for(var n,i,r=Fe(e),o=0,s=r.length;o<s;o++){var a,c=r[o],l=c.ids;if(l.length>t){n||(n={});var d=l.length-t;a={pos:c.pos+d,ids:Re(l,d)};for(var u=0;u<d;u++){var f=c.pos+u+"-"+l[u].id;n[f]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?Ue(i,a,!0).tree:[a]}return n&&Ie(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function Ge(e){return e.ids}function We(e,t){t||(t=Oe(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(Ge);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function ze(e){return/^_local/.test(e)}function Je(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,s;t?(s="error",("listenerCount"in(r=i)?r.listenerCount(s):v.a.listenerCount(r,s))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){P("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var s=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return We(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=Pe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Xe(e,t){return e<t?-1:e>t?1:0}function Ye(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Qe(e,t){var n=Xe(e._id,t._id);return 0!==n?n:Xe(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ze(){for(var e in v.a.call(this),Ze.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,o=tt.prefix,s=t.adapter;if(!s)for(var a=0;a<r.length&&("idb"===(s=r[a])&&"websql"in i&&B()&&localStorage["_pouch__websqldb_"+o+e]);++a)P("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[s];return{name:!c||!("use_prefix"in c)||c.use_prefix?o+e:e,adapter:s}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Ze.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}h()(Je,v.a),Je.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},Je.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},Je.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&P("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=p()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},h()(Ze,v.a),Ze.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));this.bulkDocs({docs:[e]},t,Ye(n,e._id))})),Ze.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));if(se(e._id),ze(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,o,s,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Ye(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],o=parseInt(i[0],10)+1,s=Ne(),e._revisions={start:o,ids:[s,r]},e._rev=o+"-"+s,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Ze.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var o=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},o.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||P("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw ne(U);return s(e)}),(function(t){if(t.reason===H.message)return s({_id:e});throw t}))})),Ze.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,o){if(e)i(e);else if(o._rev===n){if(!o._attachments)return i();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,r.put(o,i)}else i(ne(U))}))})),Ze.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(ze(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[o]},n,Ye(i,o._id))})),Ze.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var o=0,s=new r;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Ie(n,(function(e,n,r,o,s){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==s.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++o===i.length){var l={};return s.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Ze.prototype.bulkGet=C("bulkGet",(function(e,t){I(this,e,t)})),Ze.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,o){if(r)return n(r);var s=function(e){var t={},n=[];return Ie(e,(function(e,i,r,o){var s=i+"-"+r;return e&&(t[s]=0),void 0!==o&&n.push({from:o,to:s}),s})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(o),a=[],c=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),Ie(o,(function(e,t,n,i,r){var o=t+"-"+n;"available"===r.status&&-1!==a.indexOf(o)&&c.push(o)})),i._doCompaction(e,c,n)}))})),Ze.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),s()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Ze.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return he(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Ze.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(V));if(ze(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function o(){var o=[],s=i.length;if(!s)return n(null,o);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:i});else{for(var r,a=0,c=o.length;a<c;a++)if(o[a].ok&&o[a].ok._rev===t._rev){r=!0;break}r||o.push({ok:t})}--s||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,o){if(i)return i.docId=e,n(i);var s=o.doc,a=o.metadata,c=o.ctx;if(t.conflicts){var l=Pe(a);l.length&&(s._conflicts=l)}if(We(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var d=s._rev.split("-"),u=parseInt(d[0],10),f=d[1],p=Fe(a.rev_tree),m=null,h=0;h<p.length;h++){var g=p[h],v=g.ids.map((function(e){return e.id})).indexOf(f);(v===u-1||!m&&-1!==v)&&(m=g)}if(!m)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=m.ids.map((function(e){return e.id})).indexOf(s._rev.split("-")[1])+1,b=m.ids.length-y;if(m.ids.splice(y,b),m.ids.reverse(),t.revs&&(s._revisions={start:m.pos+m.ids.length-1,ids:m.ids.map((function(e){return e.id}))}),t.revs_info){var _=m.pos+m.ids.length;s._revs_info=m.ids.map((function(e){return{rev:--_+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var w=s._attachments,E=Object.keys(w).length;if(0===E)return n(null,s);Object.keys(w).forEach((function(e){this._getAttachment(s._id,e,w[e],{rev:s._rev,binary:t.binary,ctx:c},(function(t,i){var r=s._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,s)}))}),r)}else{if(s._attachments)for(var S in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,S)&&(s._attachments[S].stub=!0);n(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(ne(z,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}o()}})),Ze.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(o,s){return o?i(o):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void r._getAttachment(e,t,s.doc._attachments[t],n,i)):i(ne(H))}))})),Ze.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Ze.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new Je(this,e,t)},Ze.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Ze.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Ze.prototype.id=C("id",(function(e){return this._id(e)})),Ze.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ze.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne($));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(Q));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||P("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(Y,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||ae(o)||e.docs.sort(Qe),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=T(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(o))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||s[r];n(null,i)}))})),Ze.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);he(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Ze.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):r();var s=o.dependentDbs,a=n.constructor,c=Object.keys(s).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},h()(tt,Ze);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var ot=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=ot[t].bind(ot))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=D({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=D({},t.__defaults,n),tt.call(this,e,n)}return h()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=D({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function st(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var o=e[i];i>0&&"\\"===e[i-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function dt(e){return Object.keys(e)[0]}function ut(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var o=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),s=ut([e,n]);Object.keys(s).length<=i||o.push(s)}))})),t[i]=o}else t[i]=ut([r]);else{var s=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,s):void(s[e]=t)}))}}))})),t}function ft(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=ut(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=ut(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=ut([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:n||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),t[o]=s}return t}function pt(e,t){if(e===t)return 0;e=mt(e),t=mt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=pt(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),o=0;o<r;o++){var s=pt(n[o],i[o]);if(0!==s)return s;if(0!==(s=pt(e[n[o]],t[i[o]])))return s}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function mt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=mt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];void 0!==o&&(e[r]=mt(o))}}}return e}function ht(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",o=(s=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(s,a,c)+s);var s,a,c;r+=""+o;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var d=l.toFixed(20);return d=d.replace(/\.?0+$/,""),r+=""+d}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,o="";if(t)for(;++i<r;)o+=gt(n[i]);else for(;++i<r;){var s=n[i];o+=gt(s)+gt(e[s])}return o}return""}function gt(e){return bt(e=mt(e))+""+ht(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var o="",s=e.substring(t,t+3),a=parseInt(s,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function _t(e,t,n){if(e=e.filter((function(e){return wt(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(dt(e));return st(t,n)}))}return function(e,n){var i,r,o=pt(t(e.doc),t(n.doc));return 0!==o?o:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[dt(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function wt(e,t,n){return n.every((function(n){var i=t[n],r=at(n),o=st(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return wt(n,e,Object.keys(e))}));if("$not"===e)return!wt(n,t,Object.keys(t));return!t.find((function(e){return wt(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,o)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var o=e[r];if(0===r.indexOf("$"))return St(r,t,o,n,i);var s=at(r);if(void 0===i&&"object"!=typeof o&&s.length>0)return!1;var a=st(i,s);return"object"==typeof o?Et(o,t,n,a):St("$eq",t,o,s,a)})):e===i)}function St(e,t,n,i,r){if(!xt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return xt[e](t,n,i,r)}function kt(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===pt(t,e)})):0===pt(t,e)}))}var xt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return wt(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return wt(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===pt(i,t)},$gte:function(e,t,n,i){return Lt(i)&&pt(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&pt(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&pt(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&pt(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return kt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==pt(i,e)}))},$in:function(e,t,n,i){return kt(i)&&At(i,t)},$nin:function(e,t,n,i){return kt(i)&&!At(i,t)},$size:function(e,t,n,i){return kt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===pt(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return kt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function Tt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function Nt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function qt(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(Y,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!s)return n(ne(H,o.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=me(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=_t([{doc:e}],{selector:t=ft(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=ce(t.filter);e.db.get("_design/"+o[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=r&&r.filters&&r.filters[o[1]];if(!s)return n(ne(H,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=me('"use strict";\nreturn '+s+";",{}),e.doChanges(t)}))}}function Ot(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:Tt,shouldFilter:Nt,filter:qt}})),tt.version="7.3.0";var It=Ot(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Bt=Ot(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function Pt(e,t,n){var i,r,o;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=qe()),r=Ne(e,n.deterministic_revs),e._rev){if((o=Mt(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,s,[]]]]}],i=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,s,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],o=1,s=i.length;o<s;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,s),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((o=Mt(e._rev)).error)return o;i=o.prefix,r=o.id,e._rev_tree=[{pos:i,ids:[r,s,[]]}]}se(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!It[c]){var d=ne(X,c);throw d.message=X.message+": "+c,d}l&&!Bt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Ft(e,t,n){var i=function(e){try{return ge(e)}catch(e){return{error:ne(J,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?_e(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function jt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Ft(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?ke(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Dt(e,t,n,i,r,o,s,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),o=parseInt(r[0],10),s=r[1];n=i.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,o();var c=t.winningRev||Oe(t),l="deleted"in t?t.deleted:We(t,c),d="deleted"in n.metadata?n.metadata.deleted:We(n.metadata),u=/^1-/.test(n.metadata.rev);if(l&&!d&&a&&u){var f=n.data;f._rev=c,f._id=n.metadata.id,n=Pt(f,a)}var p=Ve(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&d&&"new_leaf"!==p.conflicts||!l&&"new_leaf"!==p.conflicts||l&&!d&&"new_branch"===p.conflicts)){var m=ne(U);return i[r]=m,o()}var h=n.metadata.rev;n.metadata.rev_tree=p.tree,n.stemmedRevs=p.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Oe(n.metadata),v=We(n.metadata,g),y=l===v?0:l<v?-1:1;s(n,g,v,h===g?v:We(n.metadata,h),!0,y,r,o)}function Rt(e,t,n,i,o,s,a,c,l){e=e||1e3;var d=c.new_edits,u=new r,f=0,p=t.length;function m(){++f===p&&l&&l()}t.forEach((function(e,t){if(e._id&&ze(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:o},(function(e,n){s[t]=e||n,m()}))}else{var r=e.metadata.id;u.has(r)?(p--,u.get(r).push([e,t])):u.set(r,[[e,t]])}})),u.forEach((function(t,n){var r=0;function o(){++r<t.length?l():m()}function l(){var l=t[r],u=l[0],f=l[1];if(i.has(n))Dt(e,i.get(n),u,s,f,o,a,d);else{var p=Ve([],u.metadata.rev_tree[0],e);u.metadata.rev_tree=p.tree,u.stemmedRevs=p.stemmedRevs||[],function(e,t,n){var i=Oe(e.metadata),r=We(e.metadata,i);if("was_delete"in c&&r)return s[t]=ne(H,"deleted"),n();if(d&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var o=ne(U);return s[t]=o,n()}a(e,i,r,r,!1,r?0:1,t,n)}(u,f,o)}}l()}))}var $t="document-store",Ht="meta-store";function Ut(e){try{return JSON.stringify(e)}catch(t){return u.a.stringify(e)}}function Vt(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Z,n,t.type))}}function Gt(e,t,n){return{data:Ut(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Wt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return u.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function zt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Jt(e,t,n,i){n?i(e?"string"!=typeof e?e:we(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(ve(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var o=0;function s(){++o===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,s()}}(e,i):(e._attachments[i].stub=!0,s())}))}function Xt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new Promise((function(s){Jt(r,o,t,(function(t){e.doc._attachments[n]=D(T(i,["digest","content_type"]),{data:t}),s()}))}))}})))}})))}function Yt(e,t,n){var i=[],r=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),s=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::ï¿¿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else c()}}}))}function Qt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Zt=new M;function en(e,t,n,i,o,s){for(var a,c,l,d,u,f,p,m,h=t.docs,g=0,v=h.length;g<v;g++){var y=h[g];y._id&&ze(y._id)||(y=h[g]=Pt(y,n.new_edits,e)).error&&!p&&(p=y)}if(p)return s(p);var b=!1,_=0,w=new Array(h.length),E=new r,S=!1,k=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){m&&b&&(m.docCount+=_,f.put(m))}function x(){S||(Zt.notify(i._meta.name),s(null,w))}function C(e,t,n,i,r,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,o){var s=e.data,a=0,c=Object.keys(s._attachments);function l(){a===c.length&&T(e,t,n,i,r,o)}function u(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){d.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};d.put(r).onsuccess=n}}(i.digest,r,u)}}))}(e,t,n,r,s,a);_+=o,A(),T(e,t,n,r,s,a)}function T(e,t,n,r,o,s){var d=e.data,f=e.metadata;function p(o){var s=e.stemmedRevs||[];r&&i.auto_compaction&&(s=s.concat(function(e){var t=[];return Ie(e.rev_tree,(function(e,n,i,r,o){"available"!==o.status||e||(t.push(n+"-"+i),o.status="missing")})),t}(e.metadata))),s&&s.length&&Yt(s,e.metadata.id,a),f.seq=o.target.result;var l=Gt(f,t,n);c.put(l).onsuccess=m}function m(){w[o]={ok:!0,id:f.id,rev:f.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function o(){++i===r.length&&n()}function s(n){var i=e.data._attachments[n].digest,r=u.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=o,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var a=0;a<r.length;a++)s(r[a])}(e,f.seq,s)}d._doc_id_rev=f.id+"::"+f.rev,delete d._id,delete d._rev;var h=l.put(d);h.onsuccess=p,h.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(d._doc_id_rev).onsuccess=function(e){l.put(d,e.target.result).onsuccess=p}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function o(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return o();function s(e){i=e,++r===n.length&&o()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&jt(e.data._attachments[a],t,s)}))}(h,k,(function(t){if(t)return s(t);!function(){var t=Qt(o,[$t,"by-sequence","attach-store","local-store","attach-seq-store",Ht],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Vt(s),a.ontimeout=Vt(s),a.oncomplete=x,c=a.objectStore($t),l=a.objectStore("by-sequence"),d=a.objectStore("attach-store"),u=a.objectStore("attach-seq-store"),(f=a.objectStore(Ht)).get(Ht).onsuccess=function(e){m=e.target.result,A()},function(e){var t=[];if(h.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){d.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,s(t);!function(){if(!h.length)return;var t=0;function r(){++t===h.length&&Rt(e.revs_limit,h,i,E,a,w,C,n,L)}function o(e){var t=Wt(e.target.result);t&&E.set(t.id,t),r()}for(var s=0,l=h.length;s<l;s++){var d=h[s];if(d._id&&ze(d._id))r();else c.get(d.metadata.id).onsuccess=o}}()}))}()}))}function tn(e,t,n,i,r){var o,s,a;function c(e){s=e.target.result,o&&r(o,s,a)}function l(e){o=e.target.result,s&&r(o,s,a)}function d(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!o.length)return r();var n,a=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,o=null,s=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=d:e.openCursor(t).onsuccess=d}function nn(e,t,n){var i,r,o="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,d="number"==typeof e.limit?e.limit:-1,u=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(o,s,u,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Z,r.name,r.message));var f=[$t,"by-sequence",Ht];e.attachments&&f.push("attach-store");var p=Qt(t,f,"readonly");if(p.error)return n(p.error);var m=p.txn;m.oncomplete=function(){e.attachments?Xt(E,e.binary).then(A):A()},m.onabort=Vt(n);var h,g,v,y=m.objectStore($t),b=m.objectStore("by-sequence"),_=m.objectStore(Ht),w=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;w.get(r).onsuccess=function(i){if(n.doc=zt(i.target.result)||{},e.conflicts){var r=Pe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,m)}}(n,i,t))}function k(e){for(var t=0,n=e.length;t<n&&E.length!==d;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Wt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(k(t),E.length<d&&n.continue())}function A(){var t={total_rows:h,offset:e.skip,rows:E};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return _.get(Ht).onsuccess=function(e){h=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(g=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===d?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(o,s){t.get(o).onsuccess=function(t){t.target.result?i[s]=t.target.result:i[s]={key:o,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===d?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),k(n)})):void tn(y,i,e.descending,d+l,L)}var rn=!1,on=[];function sn(){!rn&&on.length&&(rn=!0,on.shift()())}function an(e,t,n,o){if((e=L(e)).continuous){var s=n+":"+qe();return Zt.addListener(n,s,t,e),Zt.notify(n),{cancel:function(){Zt.removeListener(n,s)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var d,u,f,p,m=[],h=0,g=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;p.get(r).onsuccess=function(e){i(n,zt(e.target.result))}}function b(){e.complete(null,{results:m,last_seq:c})}var _=[$t,"by-sequence"];e.attachments&&_.push("attach-store");var w=Qt(o,_,"readonly");if(w.error)return e.complete(w.error);(d=w.txn).onabort=Vt(e.complete),d.oncomplete=function(){!e.continuous&&e.attachments?Xt(m).then(b):b()},u=d.objectStore("by-sequence"),f=d.objectStore($t),p=u.index("_doc_id_rev"),tn(u,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),o=new Array(t.length),s=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);f.get(e._id).onsuccess=function(r){i=Wt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(zt(n),t[c],(function(n,a){o[c]=n,r[c]=a,++s===t.length&&function(){for(var t=[],n=0,s=r.length;n<s&&h!==l;n++){var a=r[n];if(a){var c=o[n];t.push(u(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),h!==l&&i.continue()}()}))}))}function u(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=g(i);return"object"==typeof r?Promise.reject(r):r?(h++,e.return_docs&&m.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,d,(function(){Xt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,dn=new r;function un(e,t){var n=this;!function(e,t,n){on.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,s()((function(){sn()}))}))})),sn()}((function(t){!function(e,t,n){var i=t.name,r=null,o=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&o&&(t.reason=o),e(t,n)}}function c(e,t){var n=e.objectStore($t);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,o=We(r);r.deletedOrLocal=o?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore($t),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,c=ze(a),l=Oe(s);if(c){var d=a+"::"+l,u=a+"::",f=a+"::~",p=r.index("_doc_id_rev"),m=IDBKeyRange.bound(u,f,!1,!1),h=p.openCursor(m);h.onsuccess=function(e){if(h=e.target.result){var t=h.value;t._doc_id_rev===d&&n.put(t),r.delete(h.primaryKey),h.continue()}else i.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function d(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,o=n.primaryKey,s=Object.keys(i._attachments||{}),a={},c=0;c<s.length;c++){a[i._attachments[s[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var d=l[c];r.put({seq:o,digestSeq:d+"::"+o})}n.continue()}}}function u(e){var t=e.objectStore("by-sequence"),n=e.objectStore($t);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,o=(r=i.value).data?Wt(r):(r.deleted="1"===r.deletedOrLocal,r);if(o.winningRev=o.winningRev||Oe(o),o.seq)return s();!function(){var e=o.id+"::",n=o.id+"::ï¿¿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=r,s();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function s(){var e=Gt(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=x((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,o){en(t,n,i,e,r,a(o))},e._get=function(e,t,n){var i,o,s,a=t.ctx;if(!a){var c=Qt(r,[$t,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(s,{doc:i,metadata:o,ctx:a})}a.objectStore($t).get(e).onsuccess=function(e){if(!(o=Wt(e.target.result)))return s=ne(H,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,o=n.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,d=n.history?n.history.slice():[];if(d.push({id:s,pos:r,opts:a}),l)for(var u=0,f=d.length;u<f;u++){var p=d[u];if(p.pos+"-"+p.id===e)return r+"-"+s}for(var m=0,h=c.length;m<h;m++)i.push({pos:r+1,ids:c[m],history:d})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else if(n=o.winningRev,We(o))return s=ne(H,"deleted"),l();var r=a.objectStore("by-sequence"),c=o.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=zt(i)),!i)return s=ne(H,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,o){var s;if(i.ctx)s=i.ctx;else{var a=Qt(r,[$t,"by-sequence","attach-store"],"readonly");if(a.error)return o(a.error);s=a.txn}var c=n.digest,l=n.content_type;s.objectStore("attach-store").get(c).onsuccess=function(e){Jt(e.target.result.body,l,i.binary,(function(e){o(null,e)}))}},e._info=function(t){var n,i,o=Qt(r,[Ht,"by-sequence"],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(Ht).get(Ht).onsuccess=function(e){i=e.target.result.docCount},s.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Qt(r,[$t],"readonly");if(n.error)return t(n.error);n.txn.objectStore($t).get(e).onsuccess=function(e){var n=Wt(e.target.result);n?t(null,n.rev_tree):t(ne(H))}},e._doCompaction=function(e,t,n){var i=Qt(r,[$t,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var o=i.txn;o.objectStore($t).get(e).onsuccess=function(n){var i=Wt(n.target.result);Ie(i.rev_tree,(function(e,n,i,r,o){var s=n+"-"+i;-1!==t.indexOf(s)&&(o.status="missing")})),Yt(t,e,o);var r=i.winningRev,s=i.deleted;o.objectStore($t).put(Gt(i,r,s))},o.onabort=Vt(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Qt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Vt(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(H))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,o=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var c=Qt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Vt(n),a.oncomplete=function(){s&&n(null,s)}}var l,d=a.objectStore("local-store");i?(l=d.get(o)).onsuccess=function(r){var o=r.target.result;o&&o._rev===i?d.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)}:n(ne(U))}:((l=d.add(e)).onerror=function(e){n(ne(U)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,o=t.ctx;if(!o){var s=Qt(r,["local-store"],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=o.objectStore("local-store"),l=c.get(a);l.onerror=Vt(n),l.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(H))}},e._destroy=function(e,t){Zt.removeAllListeners(i);var n=dn.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){dn.delete(i),B()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Vt(t)};var f=ln.get(i);if(f)return r=f.idb,e._meta=f.global,s()((function(){n(null,e)}));var p=indexedDB.open(i,5);dn.set(i,p),p.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore($t,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(Ht,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,d,u],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},p.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){P("error","Database has a global failure",e.target.error),o=e.target.error,r.close(),ln.delete(i)};var s,a,c,l,d=r.transaction([Ht,"detect-blob-support",$t],"readwrite"),u=!1;function f(){void 0!==c&&u&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function p(){if(void 0!==a&&void 0!==s){var e=i+"_id";e in s?l=s[e]:s[e]=l=qe(),s.docCount=a,d.objectStore(Ht).put(s)}}d.objectStore(Ht).get(Ht).onsuccess=function(e){s=e.target.result||{id:Ht},p()},function(e,t){e.objectStore($t).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(d,(function(e){a=e,p()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(d)),cn.then((function(e){c=e,f()})),d.oncomplete=function(){u=!0,f()},d.onabort=Vt(n)},p.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",P("error",t),n(ne(Z,t))}}(n,e,t)}),t,n.constructor)}un.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var fn={};function pn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=we(t.data,t.content_type)}))}function mn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function hn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){ke(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function gn(e,t){if(function(e){if(!e.prefix)return!1;var t=pe(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=pe(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function _n(t,n){var i=this,r=gn(t.name,t),o=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,o=i.username+":"+i.password,s=ve(unescape(encodeURIComponent(o)));n.headers.set("Authorization","Basic "+s)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||i||r)&&o}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,p()((function(e){u().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function d(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function u(){return t.skip_setup?Promise.resolve():a||((a=d(o).catch((function(e){return e&&e.status&&404===e.status?(j(404,"PouchDB is just detecting if the remote exists."),d(o,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function f(e){return e.split("/").map(encodeURIComponent).join("/")}s()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),d(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),d(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(pn)})),t(null,n.data)})).catch(t)}function o(){var i=Math.ceil(e.docs.length/50),r=0,o=new Array(i);function s(e){return function(n,s){o[e]=s.results,++r===i&&t(null,{results:oe(o)})}}for(var a=0;a<i;a++){var c=T(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),I(n,c,s(a))}}var s=yn(r,""),a=fn[s];"boolean"!=typeof a?i((function(e,n){e?(fn[s]=!1,j(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(fn[s]=!0,t(null,n))})):a?i(t):o()})),i._info=function(e){u().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return u().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function o(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,o=0,s=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():f()}function d(){o--,l()}function u(e){o--,r=r||e,l()}function f(){for(;o<t&&s<c;)o++,e[s++]().then(d,u)}f()}))}(i.map((function(i){return function(){return function(i){var o=n[i],s=mn(e._id)+"/"+f(i)+"?rev="+e._rev;return c(vn(r,s)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=o.content_type),e}return new Promise((function(t){ke(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=mn(e),d(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var s=o._rev||n.rev;d(vn(r,mn(o._id))+"?rev="+s,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,o){"function"==typeof i&&(o=i,i={});var s,a=i.rev?"?rev="+i.rev:"",l=vn(r,mn(t))+"/"+f(n)+a;c(l,{method:"GET"}).then((function(t){if(s=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=s),o(null,t)})).catch((function(e){o(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){d(vn(r,mn(e)+"/"+f(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,o,s){"function"==typeof o&&(s=o,o=i,i=n,n=null);var a=mn(e)+"/"+f(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=ge(i)}catch(e){return s(ne(J,"Attachment is not a valid base64 string"))}i=l?_e(l,o):""}d(c,{headers:new rt({"Content-Type":o}),method:"PUT",body:i},s).catch(s)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,u().then((function(){return Promise.all(e.docs.map(hn))})).then((function(){return d(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){u().then((function(){return hn(e)})).then((function(){return d(vn(r,mn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},o="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var s=bn(i);void 0!==e.keys&&(o="POST",n={keys:e.keys}),d(vn(r,"_all_docs"+s),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(pn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var o=void 0!==e.limit&&e.limit,a=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,f="GET";e.doc_ids?(i.filter="_doc_ids",f="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",f="POST",l={selector:e.selector});var p,m=new nt,h=function(n,s){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=a):i.limit=!o||a>t?t:a;var c=vn(r,"_changes"+bn(i)),h={signal:m.signal,method:f,body:JSON.stringify(l)};p=n,e.aborted||u().then((function(){return d(c,h,s)})).catch(s)}},g={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,g.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(l=g.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&pn(t),e.return_docs&&g.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(p=i.last_seq);var d=o&&a<=0||i&&r<t||e.descending;(!e.continuous||o&&a<=0)&&d?e.complete(null,g):s()((function(){h(p,v)}))}};return h(e.since||0,v),{cancel:function(){e.aborted=!0,m.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),d(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){d(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function wn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function kn(e,t){return t&&e.then((function(e){s()((function(){t(null,e)}))}),(function(e){s()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function xn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function Tn(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=r.length;o<s;o++){var a=r[o];if("number"!=typeof a)throw Cn("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}_n.valid=function(){return!0},h()(wn,Error),h()(En,Error),h()(Sn,Error);var Nn=P.bind(null,"log"),qn=Array.isArray,On=JSON.parse;function In(e,t){return me("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Tn,log:Nn,isArray:qn,toJSON:On})}function Bn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function Pn(e,t,n,i,r,o){var s,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Te(a));return he(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var o={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",(function(){delete s[a]})),o}))}))}))}));return s&&(s[a]=c),c}Bn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Bn.prototype.finish=function(){return this.promise};var Fn={},jn=new Bn;function Dn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){P("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),P("error",t)}}var $n=function(e,t){return Tn(t)},Hn=function(e,t){return t.length},Un=function(e,t){return{sum:Tn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Vn=function(e,t,n,o){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=pt(e.key,t.key);return 0!==n?n:pt(e.value,t.value)}function d(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function u(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=we(n.data,n.content_type)}))}))}(t),t}}function m(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function h(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function g(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&pt(e[n],e[i])>0)throw new wn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new wn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new wn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new wn('Invalid value for integer: "'+e+'"');if(e<0)return new wn('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,o={_id:r,keys:[]},s=n.get(e),a=s[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(s[1])?Promise.resolve(o):t.db.get(r).catch(v(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,o=0,s=t.rows.length;o<s;o++){var c=t.rows[o].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var d=xn(a);return d.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(d.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Fn[t];return n||(n=Fn[t]=new Bn),n}function _(e,n){return Ln(b(e),(function(){return function(e,n){var i,o;var s=t(e.mapFun,(function(e,t){var n={id:o._id,key:mt(e)};null!=t&&(n.value=mt(t)),i.push(n)})),c=e.seq||0;function d(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=xn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=oe(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let u=0,f={view:e.name,indexed_docs:u};e.sourceDB.emit("indexing",f);var p=new Bn;function m(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(h)}function h(t){var f=t.results;if(!f.length)return;var h=function(t){for(var n=new r,d=0,u=t.length;d<u;d++){var f=t[d];if("_"!==f.doc._id[0]){i=[],(o=f.doc)._deleted||a(e.sourceDB,s,o),i.sort(l);var p=g(i);n.set(f.doc._id,[p,f.changes])}c=f.seq}return n}(f);p.add(d(h,c)),u+=f.length;let v={view:e.name,last_seq:t.last_seq,results_count:f.length,indexed_docs:u};return e.sourceDB.emit("indexing",v),f.length<n.changes_batch_size?void 0:m()}function g(e){for(var t,n=new r,i=0,o=e.length;i<o;i++){var s=e[i],a=[s.key,s.id];i>0&&0===pt(s.key,t)&&a.push(i),n.set(gt(a),s),t=s.key}return n}return m().then((function(){return p.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function w(e,t){return Ln(b(e),(function(){return function(e,t){var i,o=e.reduceFun&&!1!==t.reduce,s=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var o=vt(e,i);t.push(o.num),i+=o.length;break;case"4":for(var s="";;){var a=e[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=o?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,o=n(e.reduceFun),s=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=s[s.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===pt(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,u=s.length;l<u;l++){var f=s[l],p=c(e.sourceDB,o,f.keys,f.values,!1);if(p.error&&p.error instanceof Sn)throw p.error;t.push({value:p.error?null:p.output,key:f.groupKey})}return{rows:d(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:s,rows:a}:{total_rows:i,offset:s,rows:d(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var f=An(a.map(u));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=u(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var f=t.keys.map((function(e){var n={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(f).then(oe).then(l)}var p,m,h={descending:t.descending};if(t.update_seq&&(h.update_seq=!0),"start_key"in t&&(p=t.start_key),"startkey"in t&&(p=t.startkey),"end_key"in t&&(m=t.end_key),"endkey"in t&&(m=t.endkey),void 0!==p&&(h.startkey=t.descending?gt([p,{}]):gt([p])),void 0!==m){var g=!1!==t.inclusive_end;t.descending&&(g=!g),h.endkey=gt(g?[m,{}]:[m])}if(void 0!==t.key){var v=gt([t.key]),y=gt([t.key,{}]);h.descending?(h.endkey=v,h.startkey=y):(h.startkey=v,h.endkey=y)}return o||("number"==typeof t.limit&&(h.limit=t.limit),h.skip=s),a(h).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,o,s=[],a="GET";if(m("reduce",n,s),m("include_docs",n,s),m("attachments",n,s),m("limit",n,s),m("descending",n,s),m("group",n,s),m("group_level",n,s),m("skip",n,s),m("stale",n,s),m("conflicts",n,s),m("startkey",n,s,!0),m("start_key",n,s,!0),m("endkey",n,s,!0),m("end_key",n,s,!0),m("inclusive_end",n,s),m("key",n,s,!0),m("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Dn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(f(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e})).then(f(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return g(i,n),jn.add((function(){return Pn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=_(e,r).then((function(){return w(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),jn.finish();var a=n,c=Dn(a),l=c[0],d=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[d];if(!c)throw new En("ddoc "+n._id+" has no view named "+d);return o(n,d),g(i,c),Pn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&s()((function(){_(e,r)})),w(e,i)):_(e,r).then((function(){return w(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=h(e.group_level),e.limit=h(e.limit),e.skip=h(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return kn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=Dn(e),r="_design/"+t[0],o=t[1],s=n.get(r);s||(s=new i,n.set(r,s)),s.add(o)}));var o={keys:xn(n),include_docs:!0};return t.allDocs(o).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var o=i+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach((function(e){r[e]=r[e]||a}))}))}));var o=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},p()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&kn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return In(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return $n;if(/^_count/.test(e))return Hn;if(/^_stats/.test(e))return Un;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||In(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var Gn={query:function(e,t,n){return Vn.query.call(this,e,t,n)},viewCleanup:function(e){return Vn.viewCleanup.call(this,e)}};function Wn(e){return/^1-/.test(e)}function zn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Jn(e,t,n,i){n=L(n);var r=[],o=!0;function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Wn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Wn(t[0])}));if(e.length>0)return s(e)})).then((function(){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(o=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return zn(t,n)})):zn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(oe(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||j(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==i})),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=i,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return Kn(e,t,n,i,r);throw o}))}))}function Xn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Xn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Xn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Xn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Zn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Yn={undefined:function(e,t){return 0===pt(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),o=n[0],s=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Qn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Qn(o.session_id,r))return{last_seq:o.last_seq,history:s};return e(r,s)}(e.history,t.history)}(t,e).last_seq}};function Qn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Qn(e,i))}function Zn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Xn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Yn?Yn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Zn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(pt):"",r=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort(pt).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+s+o+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var o,a,c,l=[],d={seq:0,changes:[],docs:[]},u=!1,f=!1,p=!1,m=0,h=n.continuous||n.live||!1,g=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,_=n.doc_ids,w=n.selector,E=[],S=qe();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var k={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Xn(e,t,a,i,o)}))}function x(){if(E=[],0!==o.docs.length){var e=o.docs,s={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},s).then((function(t){if(i.cancelled)throw I(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=e.length-o,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=m=o.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),i.emit("change",e)),u=!0,c.writeCheckpoint(o.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:o.seq}),u=!1,i.cancelled)throw I(),new Error("cancelled");o=void 0,j()})).catch((function(e){throw R(e),e}))}function T(){return Jn(e,t,o.diffs,i).then((function(e){o.error=!e.ok,e.docs.forEach((function(e){delete o.diffs[e._id],r.docs_read++,o.docs.push(e)}))}))}function N(){var e;i.cancelled||o||(0!==l.length?(o=l.shift(),i.emit("checkpoint",{start_next_batch:o.seq}),(e={},o.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw I(),new Error("cancelled");o.diffs=e}))).then(T).then(x).then(C).then(N).catch((function(e){O("batch processing terminated with error",e)}))):q(!0))}function q(e){0!==d.changes.length?(e||f||d.changes.length>=g)&&(l.push(d),d={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),N()):0!==l.length||o||((h&&k.live||f)&&(i.state="pending",i.emit("paused")),f&&I())}function O(e,t){p||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],d={seq:0,changes:[],docs:[]},I(t))}function I(o){if(!(p||i.cancelled&&(r.status="cancelled",u)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=m,p=!0,o){(o=ne(o)).result=r;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",o),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=F),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,o,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function B(e,t,r){if(i.cancelled)return I();"number"==typeof t&&(d.pending=t),re(n)(e)&&(d.seq=e.seq||r,d.changes.push(e),i.emit("checkpoint",{pending_batch:d.seq}),s()((function(){q(0===l.length&&k.live)})))}function M(e){if(b=!1,i.cancelled)return I();if(e.results.length>0)k.since=e.results[e.results.length-1].seq,j(),q(!0);else{var t=function(){h?(k.live=!0,j()):f=!0,q(!0)};o||0!==e.results.length?t():(u=!0,c.writeCheckpoint(e.last_seq,S).then((function(){u=!1,r.last_seq=m=e.last_seq,t()})).catch(R))}}function P(e){if(b=!1,i.cancelled)return I();O("changes rejected",e)}function j(){if(!b&&!f&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(k).on("change",B);t.then(o,o),t.then(M).catch(P),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function o(){i.removeListener("cancel",r)}}function D(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){k={since:m=e,limit:g,batch_size:g,style:y,doc_ids:_,selector:w,return_docs:!0},n.filter&&("string"!=typeof n.filter?k.include_docs=!0:k.filter=n.filter),"heartbeat"in n&&(k.heartbeat=n.heartbeat),"timeout"in n&&(k.timeout=n.timeout),n.query_params&&(k.query_params=n.query_params),n.view&&(k.view=n.view),j()}));I()})).catch((function(e){O("getCheckpoint rejected with ",e)}))}function R(e){u=!1,O("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?I():(i._addedListeners||(i.once("cancel",I),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?D():A().then((function(){return u=!0,c.writeCheckpoint(n.since,S)})).then((function(){u=!1,i.cancelled?I():(m=n.since,D())})).catch(R))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(Y,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function oi(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new si(e=ii(e,n),t=ii(t,n),n,i)}function si(e,t,n,i){var r=this;this.canceled=!1;var o=n.push?D({},n,n.push):n,s=n.pull?D({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function d(e){r.emit("denied",{direction:"pull",doc:e})}function u(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function f(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function p(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function m(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,o),this.pull=ri(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var h={};function g(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===d||n===l)||"paused"===t&&(n===f||n===u)||"active"===t&&(n===m||n===p))&&(t in h||(h[t]={}),h[t][e]=!0,2===Object.keys(h[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",d),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",m),v(r.push,"active",p)):"paused"===e&&(v(r.pull,"paused",f),v(r.push,"paused",u))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",d),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",m),r.push.removeListener("active",p)):"paused"===e&&(r.pull.removeListener("paused",f),r.push.removeListener("paused",u))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}h()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},h()(si,v.a),si.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",un,!0)})).plugin((function(e){e.adapter("http",_n,!1),e.adapter("https",_n,!1)})).plugin(Gn).plugin((function(e){e.replicate=ri,e.sync=oi,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(29))},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],d=!1,u=-1;function f(){d&&c&&(d=!1,c.length?l=c.concat(l):u=-1,l.length&&p())}function p(){if(!d){var e=a(f);d=!0;for(var t=l.length;t;){for(c=l,l=[];++u<t;)c&&c[u].run();u=-1,t=l.length}c=null,d=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function m(e,t){this.fun=e,this.array=t}function h(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new m(e,t)),1!==l.length||d||a(p)},m.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=h,r.addListener=h,r.once=h,r.off=h,r.removeListener=h,r.removeAllListeners=h,r.emit=h,r.prependListener=h,r.prependOnceListener=h,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return l})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return w.a})),n.d(t,"v5",(function(){return k})),n.d(t,"NIL",(function(){return L})),n.d(t,"version",(function(){return A})),n.d(t,"validate",(function(){return d.a})),n.d(t,"stringify",(function(){return s.a})),n.d(t,"parse",(function(){return u}));var i,r,o=n(20),s=n(10),a=0,c=0;var l=function(e,t,n){var l=t&&n||0,d=t||new Array(16),u=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==u||null==f){var p=e.random||(e.rng||o.a)();null==u&&(u=i=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==f&&(f=r=16383&(p[6]<<8|p[7]))}var m=void 0!==e.msecs?e.msecs:Date.now(),h=void 0!==e.nsecs?e.nsecs:c+1,g=m-a+(h-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||m>a)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=m,c=h,r=f;var v=(1e4*(268435455&(m+=122192928e5))+h)%4294967296;d[l++]=v>>>24&255,d[l++]=v>>>16&255,d[l++]=v>>>8&255,d[l++]=255&v;var y=m/4294967296*1e4&268435455;d[l++]=y>>>8&255,d[l++]=255&y,d[l++]=y>>>24&15|16,d[l++]=y>>>16&255,d[l++]=f>>>8|128,d[l++]=255&f;for(var b=0;b<6;++b)d[l+b]=u[b];return t||Object(s.a)(d)},d=n(11);var u=function(e){if(!Object(d.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var f=function(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=u(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=a[c];return r}return Object(s.a)(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function p(e){return 14+(e+64>>>9<<4)+1}function m(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function h(e,t,n,i,r,o){return m((s=m(m(t,e),m(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function g(e,t,n,i,r,o,s){return h(t&n|~t&i,e,t,r,o,s)}function v(e,t,n,i,r,o,s){return h(t&i|n&~i,e,t,r,o,s)}function y(e,t,n,i,r,o,s){return h(t^n^i,e,t,r,o,s)}function b(e,t,n,i,r,o,s){return h(n^(t|~i),e,t,r,o,s)}var _=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i=0;i<n;i+=8){var r=e[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[p(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=i,l=r,d=o;n=g(n,i,r,o,e[s],7,-680876936),o=g(o,n,i,r,e[s+1],12,-389564586),r=g(r,o,n,i,e[s+2],17,606105819),i=g(i,r,o,n,e[s+3],22,-1044525330),n=g(n,i,r,o,e[s+4],7,-176418897),o=g(o,n,i,r,e[s+5],12,1200080426),r=g(r,o,n,i,e[s+6],17,-1473231341),i=g(i,r,o,n,e[s+7],22,-45705983),n=g(n,i,r,o,e[s+8],7,1770035416),o=g(o,n,i,r,e[s+9],12,-1958414417),r=g(r,o,n,i,e[s+10],17,-42063),i=g(i,r,o,n,e[s+11],22,-1990404162),n=g(n,i,r,o,e[s+12],7,1804603682),o=g(o,n,i,r,e[s+13],12,-40341101),r=g(r,o,n,i,e[s+14],17,-1502002290),i=g(i,r,o,n,e[s+15],22,1236535329),n=v(n,i,r,o,e[s+1],5,-165796510),o=v(o,n,i,r,e[s+6],9,-1069501632),r=v(r,o,n,i,e[s+11],14,643717713),i=v(i,r,o,n,e[s],20,-373897302),n=v(n,i,r,o,e[s+5],5,-701558691),o=v(o,n,i,r,e[s+10],9,38016083),r=v(r,o,n,i,e[s+15],14,-660478335),i=v(i,r,o,n,e[s+4],20,-405537848),n=v(n,i,r,o,e[s+9],5,568446438),o=v(o,n,i,r,e[s+14],9,-1019803690),r=v(r,o,n,i,e[s+3],14,-187363961),i=v(i,r,o,n,e[s+8],20,1163531501),n=v(n,i,r,o,e[s+13],5,-1444681467),o=v(o,n,i,r,e[s+2],9,-51403784),r=v(r,o,n,i,e[s+7],14,1735328473),i=v(i,r,o,n,e[s+12],20,-1926607734),n=y(n,i,r,o,e[s+5],4,-378558),o=y(o,n,i,r,e[s+8],11,-2022574463),r=y(r,o,n,i,e[s+11],16,1839030562),i=y(i,r,o,n,e[s+14],23,-35309556),n=y(n,i,r,o,e[s+1],4,-1530992060),o=y(o,n,i,r,e[s+4],11,1272893353),r=y(r,o,n,i,e[s+7],16,-155497632),i=y(i,r,o,n,e[s+10],23,-1094730640),n=y(n,i,r,o,e[s+13],4,681279174),o=y(o,n,i,r,e[s],11,-358537222),r=y(r,o,n,i,e[s+3],16,-722521979),i=y(i,r,o,n,e[s+6],23,76029189),n=y(n,i,r,o,e[s+9],4,-640364487),o=y(o,n,i,r,e[s+12],11,-421815835),r=y(r,o,n,i,e[s+15],16,530742520),i=y(i,r,o,n,e[s+2],23,-995338651),n=b(n,i,r,o,e[s],6,-198630844),o=b(o,n,i,r,e[s+7],10,1126891415),r=b(r,o,n,i,e[s+14],15,-1416354905),i=b(i,r,o,n,e[s+5],21,-57434055),n=b(n,i,r,o,e[s+12],6,1700485571),o=b(o,n,i,r,e[s+3],10,-1894986606),r=b(r,o,n,i,e[s+10],15,-1051523),i=b(i,r,o,n,e[s+1],21,-2054922799),n=b(n,i,r,o,e[s+8],6,1873313359),o=b(o,n,i,r,e[s+15],10,-30611744),r=b(r,o,n,i,e[s+6],15,-1560198380),i=b(i,r,o,n,e[s+13],21,1309151649),n=b(n,i,r,o,e[s+4],6,-145523070),o=b(o,n,i,r,e[s+11],10,-1120210379),r=b(r,o,n,i,e[s+2],15,718787259),i=b(i,r,o,n,e[s+9],21,-343485551),n=m(n,a),i=m(i,c),r=m(r,l),o=m(o,d)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(p(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),w=n(22);function E(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function S(e,t){return e<<t|e>>>32-t}var k=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),d=0;d<16;++d)l[d]=e[64*c+4*d]<<24|e[64*c+4*d+1]<<16|e[64*c+4*d+2]<<8|e[64*c+4*d+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var u=0;u<s;++u){for(var f=new Uint32Array(80),p=0;p<16;++p)f[p]=a[u][p];for(var m=16;m<80;++m)f[m]=S(f[m-3]^f[m-8]^f[m-14]^f[m-16],1);for(var h=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),k=S(h,5)+E(w,g,v,y)+b+t[w]+f[_]>>>0;b=y,y=v,v=S(g,30)>>>0,g=h,h=k}n[0]=n[0]+h>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),L="00000000-0000-0000-0000-000000000000";var A=function(e){if(!Object(d.a)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},,function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function o(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,o=!1,s=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[s]+i[c],o=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(o=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],o=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],o||s--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=o?i[c]:l[s++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=o?i[c]:l[s]+i[c]:i[c].search(/<\//)>-1?a=a+=o?i[c]:l[--s]+i[c]:i[c].search(/\/>/)>-1?a=a+=o?i[c]:l[s]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[s]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,o=0,s="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?s+=c[o++]+i[a]:/\}/.exec(i[a])?s+=c[--o]+i[a]:(/\*\\/.exec(i[a]),s+=c[o]+i[a]);return s.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),s=i.length,a=[],c=0,l=this.step,d=0,u="",f=0,p=t?n(t):this.shift;for(f=0;f<s;f++)a=f%2?a.concat(i[f]):a.concat(o(i[f],l));for(s=a.length,f=0;f<s;f++){d=r(a[f],d),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[f])&&(a[f]=a[f].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[f])&&(a[f]=a[f].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[f])?u+=p[++c]+a[f]:/\'/.exec(a[f])?(d<1&&c&&c--,u+=a[f]):(u+=p[c]+a[f],d<1&&c&&c--)}return u=u.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameHTML=t.newFolderHTML=t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="mei_list">\n              <div class="unpaired_item_container" style="width: 100%; background: #DAEAF1; border-radius: 5px;">\n                <label class="unpaired_item_label">\n                  <input type="radio" class="unpaired_item_radio" name="mei_radio_group" value="create_mei">\n                    <span style="margin-top: auto;margin-left: 3px;">\n                      Create new MEI file\n                    </span>\n                </label>\n              </div>\n            </div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_sort_name">\n              <div>Name</div>\n              <div class="sort_name arrow_btn">&#x22C0;</div>\n            </div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        <div class="file_sort_name">\n          <div>Name</div>\n          <div class="sort_name arrow_btn">&#x22C0;</div>\n        </div>\n        <div class="folio_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">â†»</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="folio_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>',t.newFolderHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Create</button>\n      </div>\n    </div>\n  ',t.renameHTML='\n    <div id="rename_container">\n      <div id="dashboard_input_container">\n      </div>\n      <div id="rename_buttons_container">\n        <button id="cancel_dashboard">Cancel</button>\n        <button id="confirm_dashboard">Confirm</button>\n      </div>\n    </div>\n  '},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(5),r=n(3),o=n(23),s=n(14);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,s.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new o.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const s=document.getElementById("moreEdit");s&&(s.innerHTML="",s.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(5);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),o=e.document.createTextNode("");return r.observe(o,{characterData:!0}),function(){o.data=i=++i%2}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(9))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateDocName=t.deleteDocument=t.addDocument=t.createManifest=t.fetchUploads=t.db=void 0;const i=n(30),r=n(28),o=n(91);t.db=new r.default("Neon-User-Storage"),t.fetchUploads=async function(){try{return(await new Promise((e,n)=>{t.db.allDocs({include_docs:!0}).then(t=>e(t)).catch(e=>n(e))})).rows.map(e=>({id:e.id,name:e.doc?e.doc.name:"undefined"}))}catch(e){return console.log("Couldn't fetch uploaded documents",e.message),[]}},t.createManifest=function(e,t,n,r){return new Promise(async s=>{const a=JSON.parse(JSON.stringify(o));a["@id"]=e,a.title=t,a.timestamp=(new Date).toISOString();const c=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(n)}),l=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(r)}),d=await c,u=await l;a.image=u,a.mei_annotations=[{id:(0,i.v4)(),type:"Annotation",body:d,target:u}],s(a)})},t.addDocument=function(e,n,i,r){return new Promise((o,s)=>{t.db.put({_id:e,name:n,type:r?"page":"manuscript",_attachments:{manifest:{content_type:"application/ld+json",data:i}}}).then(()=>{o(!0)}).catch(t=>{window.alert(`Error Uploading Document: ${t.message}, title: ${n}, id: ${e}.`),s(!1)})})},t.deleteDocument=function(e){return new Promise((n,i)=>{t.db.get(e).then(e=>{t.db.remove(e).then(e=>{n(!0)}).catch(e=>{console.log(e),i(e)})}).catch(e=>{console.log(e),i(e)})})},t.updateDocName=function(e,n){return new Promise((i,r)=>{t.db.get(e).then(o=>{t.db.getAttachment(e,"manifest").then(e=>{e.text().then(e=>{const s=JSON.parse(e);o.name=n,s.title=n;const a=new Blob([JSON.stringify(s,null,2)],{type:"application/ld+json"});o._attachments.manifest={content_type:"application/ld+json",data:a},t.db.put(o).then(()=>i(!0)).catch(e=>r(e))}).catch(e=>r(e))}).catch(e=>r(e))}).catch(e=>r(e))})}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadDashboard=t.updateDashboard=void 0;const i=n(25),r=n(46),o=n(25),s=n(93),a=n(94),c=n(97),l=n(17),d=document.querySelector("#fs-content-container"),u=document.querySelector("#main-section-content"),f=document.querySelector("#open-doc"),p=document.querySelector("#remove-doc"),m=document.querySelector("#nav-path-container");let h=document.querySelector("#fs-back-btn"),g=document.querySelector("#fs-empty-btn"),v=document.querySelector("#fs-delete-btn");const y=document.querySelector("#upload-new-doc-button"),b=document.querySelector("#add-folder-button"),_=new s.ShiftSelectionManager,w=(0,o.FileSystemManager)(),E=(0,s.dashboardState)(),S=document.querySelector(".main-section-content"),k=document.querySelector(".right-click-file-menu"),L=document.querySelector(".context-menu-items-wrapper");let A=!1,x=!1,C=null,T=!1;function N(){y.classList.contains("active")&&(0,a.InitUploadArea)(E.getParentFolder())}function q(e,t){const n=(i=t?{manifest:e}:{storage:e},Object.keys(i).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(i[e])).join("&"));var i;window.open("./editor.html?"+n,"_blank")}function O(e){const t=E.getEntries().at(e);E.setSelection(e,!0);document.getElementById(t.id).classList.add("selected")}function I(e){const t=E.getEntries().at(e).id;E.setSelection(e,!1);document.getElementById(t).classList.remove("selected")}function B(){Array.from(document.querySelectorAll(".document-entry.selected")).forEach(e=>e.classList.remove("selected")),E.resetSelection()}async function M(e,t,n){if("folder"===t.type){n.addEventListener("dblclick",(async function(){return await z([...E.getFolderPath(),t])}),!1)}else n.addEventListener("dblclick",F,!1);!function(e,t){e.addEventListener("click",(function(e){P(t)}),!1)}(n,e),function(e,t){e.addEventListener("contextmenu",e=>{e.stopPropagation(),e.preventDefault(),(T||1===E.getSelectedEntries().length)&&B(),O(t),ne("selection-options",e.clientX,e.clientY),k.classList.remove("hidden"),T=!0}),S.addEventListener("click",e=>{if(T){let t=e.target;if(t.parentElement.classList.contains("document-entry")&&(t=t.parentElement),k.classList.add("hidden"),T=!1,t.classList.contains("document-entry")){const e=W(t.id);P(E.getIndexByEntryName(e.name))}else B()}})}(n,e)}function P(e){A||x?A?E.getSelection()[e]?(I(e),_.setStart(E.getSelection().lastIndexOf(!0))):(O(e),_.setStart(e)):x&&(_.getPrevSelection().forEach(e=>{I(e)}),_.setEnd(e),_.getSelection(E.getSelection()).forEach(e=>{O(e)})):(B(),O(e),_.setStart(e)),U(),V()}function F(){if(f.classList.contains("active"))if(1!==E.getSelectedFolders().length&&1!==E.getSelectedTrash().length)E.getSelectedFiles().forEach(e=>function(e){const t=e.metadata.document;if(void 0!==typeof t){const n="sample"===t;q(e.id,n)}}(e)),_.reset(),B(),U();else{z([...E.getFolderPath(),E.getSelectedEntries()[0]])}}function j(){if(!p.classList.contains("active"))return;const e=E.getSelectedEntries(),t=E.getParentFolder(),n=E.getTrashFolder(),r=(new Date).toLocaleString();for(let t of e)t=i.FileSystemTools.addMetadata(t,{removed_on:r,recover_folder:E.getFolderPathNames()});K(e,t,n)}function D(e,t){return new Promise((n,o)=>{(0,r.deleteDocument)(e.id).then(()=>{i.FileSystemTools.removeEntry(e,t),n(!0)}).catch(()=>o(!1))})}function R(e,t){return new Promise(n=>{const r=e.children.map(t=>"file"===t.type?D(t,e):"folder"===t.type?R(t,e):Promise.resolve(!1));Promise.all(r).then(()=>{i.FileSystemTools.removeEntry(e,t),n(!0)}).catch(()=>n(!1))})}function $(){const e=E.getSelectedEntries(),t=`Are you sure you want to delete:\n${n=e,n.map(e=>`- ${e.name} (${e.type})`).join("\n")}\nThis action is irreversible.`;var n;if(window.confirm(t)){const t=e.map(e=>"file"===e.type?D(e,E.getParentFolder()):"folder"===e.type?R(e,E.getParentFolder()):void 0);Promise.all(t).then(()=>{z(E.getFolderPath())}).catch(e=>console.debug("failed to delete files: ",e))}}function H(){const e=E.getTrashFolder();if(!e)return void console.error("Trash folder not found.");if(window.confirm("Are you sure you want to delete all the files in Trash Folder?\nThis action is irreversible.")){const t=e.children.map(t=>"file"===t.type?D(t,e):"folder"===t.type?R(t,e):Promise.resolve(!1));Promise.all(t).then(()=>{z(E.getFolderPath())}).catch(e=>console.debug("failed to delete files: ",e))}}function U(){E.getParentFolder().metadata.immutable||E.getSelectedEntries()[0]&&E.getSelectedEntries()[0].metadata.immutable?(y.classList.remove("active"),b.classList.remove("active"),p.classList.remove("active"),E.getSelectedEntries().length?f.classList.add("active"):f.classList.remove("active")):E.isInTrash()?(y.classList.remove("active"),b.classList.remove("active"),p.classList.remove("active"),f.classList.remove("active")):E.getSelectedTrash().length?(f.classList.add("active"),p.classList.remove("active"),y.classList.remove("active"),b.classList.remove("active")):E.getSelectedEntries().length?(f.classList.add("active"),p.classList.add("active"),y.classList.remove("active"),b.classList.remove("active")):(f.classList.remove("active"),p.classList.remove("active"),y.classList.add("active"),b.classList.add("active"))}function V(){!function(){const e=h.cloneNode(!0);h.parentNode.replaceChild(e,h),1===E.getFolderPath().length?(e.classList.remove("active"),e.setAttribute("disabled","true")):(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",G),e.addEventListener("ondragenter",()=>e.classList.add("active")),e.addEventListener("ondragleave",()=>e.classList.remove("active")),J(e,E.getParentFolder(),E.getFolderPath().at(-2))),h=e}(),function(){const e=g.cloneNode(!0);g.parentNode.replaceChild(e,g);const t=E.getParentFolder();"trash"===t.type||E.isInTrash()?(e.style.display="",t.children.length&&!E.getSelectedEntries().length&&"trash"===t.type?(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",H)):(e.classList.remove("active"),e.setAttribute("disabled","true"))):e.style.display="none",g=e}(),function(){const e=v.cloneNode(!0);v.parentNode.replaceChild(e,v),"trash"===E.getParentFolder().type||E.isInTrash()?(e.style.display="",E.getSelectedEntries().length?(e.classList.add("active"),e.removeAttribute("disabled"),e.addEventListener("click",$)):(e.classList.remove("active"),e.setAttribute("disabled","true"))):e.style.display="none",v=e}()}async function G(){const e=E.getFolderPath().slice(0,-1);await z(e)}function W(e){return E.getEntries().find(t=>t.id===e)}async function z(e){e||(e=E.getFolderPath()),E.setFolderPath(e);const t=E.getParentFolder();d.innerHTML="",_.reset(),E.setEntries(t.children),t.children.forEach(async(e,t)=>{const n=function(e){const t=document.createElement("div");t.classList.add("document-entry"),t.setAttribute("draggable","true");const n=document.createElement("img");n.classList.add("document-icon");const i=document.createElement("div");switch(i.innerText=e.name,e.type){case"folder":t.classList.add("folder-entry"),t.setAttribute("id",e.id),n.src="./Neon-gh/assets/img/folder-icon.svg",t.setAttribute("drop-id",e.id),t.classList.add("drop-target");break;case"trash":t.classList.add("folder-entry"),t.setAttribute("id",e.id),n.src="./Neon-gh/assets/img/trash-icon.svg",t.setAttribute("drop-id",e.id),t.classList.add("drop-target");break;case"file":t.classList.add("file-entry"),t.setAttribute("id",e.id),"manuscript"===e.metadata.type?(t.classList.add("manuscript-entry"),n.src="./Neon-gh/assets/img/manuscript-icon.svg"):"folio"===e.metadata.type?(t.classList.add("folio-entry"),n.src="./Neon-gh/assets/img/folio-icon.svg"):n.src="./Neon-gh/assets/img/folio-icon.svg"}return t.appendChild(n),t.appendChild(i),t}(e);d.appendChild(n),await M(t,e,n)}),U(),function(){m.innerHTML="";const e=E.getFolderPath().map((e,t)=>{const n=document.createElement("div");n.classList.add("nav-path-section"),n.innerHTML=e.name;const i=E.getFolderPath().slice(0,t+1);return n.addEventListener("click",async()=>await z(i)),J(n,E.getParentFolder(),i.at(-1)),n});e.forEach((t,n)=>{if(m.appendChild(t),n!==e.length-1){const e=document.createElement("div");e.classList.add("nav-path-seperator"),e.innerHTML=" / ",m.appendChild(e)}})}(),V();const n=document.getElementById("info-badge");E.isInTrash()?(n.textContent="Files will be deleted after 30 days",n.style.background="#9DB2BF"):(n.textContent="",n.style.background=""),t.children.forEach(e=>{const n=document.getElementById(e.id);n.addEventListener("dragstart",e=>{e.dataTransfer.effectAllowed="move",C=e.target}),"folder"!==e.type&&"trash"!==e.type||J(n,t,e)}),w.setFileSystem(E.getFolderPath().at(0))}function J(e,t,n){e.addEventListener("dragenter",t=>{t.preventDefault(),e.classList.add("dragenter")}),e.addEventListener("dragleave",t=>{t.preventDefault(),e.classList.remove("dragenter")}),e.addEventListener("dragover",e=>e.preventDefault()),e.addEventListener("drop",function(e,t){return n=>{n.preventDefault();const i=W(C.getAttribute("id"));i&&i!==t&&K([i],e,t)}}(t,n))}function K(e,t,n){const r=[];e.forEach(e=>{"trash"===n.type&&n.children.some(t=>t.name===e.name)&&(e.name=function(e){const t=(new Date).toLocaleString();return e+" - "+t}(e.name));const o=i.FileSystemTools.canMoveEntry(e,t,n);o.succeeded?i.FileSystemTools.moveEntry(e,t,n):r.push(o.error)}),r.filter((e,t,n)=>n.indexOf(e)===t),r.length>0&&window.alert(r.join("\n")),z()}function X(){const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.MOVE_TO),e.openModalWindow();const t=E.getSelectedEntries(),n=E.getParentFolder(),i=function(e){const t=document.createElement("ul");return t.id="tree-root",t.appendChild(function e(t,n,i){const r=document.createElement("li"),o=document.createElement("div");o.classList.add("tree-li-container");const s=document.createElement("div");s.classList.add("tree-name"),s.innerHTML=t.name,s.addEventListener("click",()=>{document.querySelectorAll(".tree-name").forEach(e=>e.classList.remove("selected")),s.classList.add("selected")}),s.addEventListener("dblclick",()=>{n(t)});if(t.children.every(e=>"folder"!==e.type))return r.appendChild(o),o.appendChild(s),r;const a=document.createElement("ul"),c=document.createElement("div");c.classList.add("tree-arrow"),c.innerHTML="â–¶",i<2&&a.classList.add("active");i<2&&c.classList.add("active");return c.addEventListener("click",()=>{c.classList.toggle("active"),a.classList.toggle("active")}),r.appendChild(o),o.appendChild(c),o.appendChild(s),r.appendChild(a),t.children.forEach(t=>{if("folder"===t.type){const r=e(t,n,i+1);a.appendChild(r)}}),r}(E.root(),e,0)),t}(i=>{e.hideModalWindow(),K(t,n,i)}),r=document.createElement("div");r.classList.add("tree-container"),r.appendChild(i);const o=document.getElementById("neon-modal-window-content-container");o.innerHTML='<span class="move-menu-msg">Double-click the folder you want to move your items to!</span>',o.appendChild(r)}function Y(){if(!b.classList.contains("active"))return;const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.NEW_FOLDER),e.openModalWindow();const t=document.getElementById("dashboard_input_container"),n=document.getElementById("cancel_dashboard"),i=document.getElementById("confirm_dashboard"),r=document.createElement("input");r.id="dashboard_input",r.type="text",r.placeholder="Untitled Folder",r.value="Untitled Folder",t.appendChild(r),r.select(),r.focus(),n.addEventListener("click",()=>e.hideModalWindow()),i.addEventListener("click",()=>Q(e,r.value)),t.addEventListener("keydown",t=>{"Escape"===t.key?e.hideModalWindow():"Enter"===t.key&&Q(e,r.value)})}function Q(e,t){te(t)?(window.alert("The folder name already exists in the current folder!"),Y()):(e.hideModalWindow(),function(e){const t=document.createElement("div");t.classList.add("document-entry"),t.classList.add("folder-entry"),t.setAttribute("id","new-folder");const n=i.FileSystemTools.createFolder(e);i.FileSystemTools.addEntry(n,E.getParentFolder())?(t.setAttribute("id",e),z()):t.remove()}(t))}function Z(){const e=new l.ModalWindow;e.setModalWindowView(l.ModalWindowView.RENAME),e.openModalWindow();const t=document.getElementById("dashboard_input_container"),n=document.getElementById("cancel_dashboard"),i=document.getElementById("confirm_dashboard"),r=document.createElement("input");r.id="dashboard_input",r.type="text";const o=E.getSelectedEntries()[0].name;r.placeholder=o,r.value=o,t.appendChild(r),r.select(),r.focus(),n.addEventListener("click",()=>e.hideModalWindow()),i.addEventListener("click",()=>ee(e,r.value,o)),t.addEventListener("keydown",t=>{"Escape"===t.key?e.hideModalWindow():"Enter"===t.key&&ee(e,r.value,o)})}function ee(e,t,n){if(t===n)e.hideModalWindow();else if(te(t))window.alert("The filename already exists in the current folder!"),Z();else{e.hideModalWindow();!function(e,t){if(i.FileSystemTools.renameEntry(e,E.getParentFolder(),t))if("file"===e.type){const n=e;(0,r.updateDocName)(n.id,t).then(()=>{z()})}else z()}(E.getSelectedEntries()[0],t)}}function te(e){return E.getParentFolder().children.some(t=>t.name===e)}function ne(e,t,n){switch(e){case"selection-options":const e=E.getSelectedFiles().length,t=E.getSelectedFolders().length,n=E.getSelectedTrash().length;e||t||!n?E.getFolderPath().length>1&&"Trash"==E.getFolderPath().at(1).name?(L.innerHTML=c.trashEntryOptions,ie("trash-entry-options")):1!==e||t||n?e>1&&!t&&!n?(L.innerHTML=c.multiFileOptions,ie("multi-file-options")):e>=1&&t>=1&&!n?(L.innerHTML=c.folderAndFileOptions,ie("folder-and-file-options")):e||1!==t||n?!e&&t>1&&!n&&(L.innerHTML=c.multiFolderOptions,ie("multi-folder-options")):(L.innerHTML=c.singleFolderOptions,ie("single-folder-options")):(L.innerHTML=c.singleFileOptions,ie("single-file-options")):(L.innerHTML=c.trashFolderOptions,ie("trash-folder-options"));break;default:L.innerHTML=c.defaultOptions,ie("default")}if(E.getParentFolder().metadata.immutable||E.getSelectedEntries()[0]&&E.getSelectedEntries()[0].metadata.immutable||E.isInTrash()){const e=document.getElementById("cm-remove-btn"),t=document.getElementById("cm-rename-btn"),n=document.getElementById("cm-move-btn"),i=document.getElementById("cm-upload-doc-btn"),r=document.getElementById("cm-new-folder-btn");e&&e.classList.add("disabled"),t&&t.classList.add("disabled"),n&&n.classList.add("disabled"),i&&i.classList.add("disabled"),r&&r.classList.add("disabled")}k.style.left=t+"px",k.style.top=n+"px",k.classList.remove("hidden")}function ie(e){const t="context-menu-item-wrapper";switch(e){case"single-file-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-rename-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Z()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"multi-file-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"folder-and-file-options":document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"single-folder-options":document.querySelector(`.${t}#cm-open-btn`).addEventListener("click",e=>{k.classList.add("hidden"),F()}),document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-rename-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Z()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"multi-folder-options":document.querySelector(`.${t}#cm-remove-btn`).addEventListener("click",e=>{k.classList.add("hidden"),j()}),document.querySelector(`.${t}#cm-move-btn`).addEventListener("click",e=>{k.classList.add("hidden"),X()});break;case"trash-folder-options":document.querySelector(`.${t}#cm-empty-trash-btn`).addEventListener("click",e=>{k.classList.add("hidden"),H()});break;case"trash-entry-options":document.querySelector(`.${t}#cm-recover-btn`).addEventListener("click",e=>{k.classList.add("hidden"),function(){const e=E.getSelectedEntries(),t=E.getParentFolder();for(let n of e){const e=n.metadata.recover_folder,r=E.getFolderPathByNames(e);if(r){n=i.FileSystemTools.removeMetadata(n,["removed_on","recover_folder"]);const e=/ - \d{1,2}\/\d{1,2}\/\d{4}, \d{1,2}:\d{2}:\d{2} [APMapm]{2}$/;e.test(n.name)&&(n.name=n.name.replace(e,"")),K([n],t,r)}}}()}),document.querySelector(`.${t}#cm-delete-btn`).addEventListener("click",e=>{k.classList.add("hidden"),$()});break;default:document.querySelector(`.${t}#cm-upload-doc-btn`).addEventListener("click",e=>{k.classList.add("hidden"),N()}),document.querySelector(`.${t}#cm-new-folder-btn`).addEventListener("click",e=>{k.classList.add("hidden"),Y()})}}function re(e){E.getTrashFolder()||w.newTrash(e);const t=E.getTrashFolder(),n=new Date,i=new Date(n.getTime()-2592e6);t.children.forEach(e=>{(e=>{if(e.metadata&&e.metadata.removed_on){return new Date(e.metadata.removed_on)<=i}return!1})(e)&&("file"===e.type?D(e,t):"folder"===e.type&&R(e,t))})}null==f||f.addEventListener("click",F),null==p||p.addEventListener("click",j),null==y||y.addEventListener("click",N),null==b||b.addEventListener("click",Y),window.addEventListener("keydown",e=>{e.metaKey&&(A=!0),e.shiftKey&&(x=!0),"Escape"===e.key&&(B(),_.reset(),U(),V())}),window.addEventListener("keyup",e=>{e.metaKey||(A=!1),e.shiftKey||(x=!1)}),null==u||u.addEventListener("click",e=>{const t=e.target;Boolean(t.closest(".document-entry"))||(B(),_.reset(),U(),V())}),t.updateDashboard=z;t.loadDashboard=async()=>{const e=await w.getRoot();E.root(e),re(e),z([e]),document.querySelector(".main-section").addEventListener("contextmenu",e=>{e.preventDefault(),B(),ne("default",e.clientX,e.clientY)}),document.querySelector(".main-section").addEventListener("click",e=>{k.classList.add("hidden")})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0});(0,n(56).loadDashboard)(),null===(i=document.querySelector("#home-link"))||void 0===i||i.setAttribute("href","https://ddmal.music.mcgill.ca/Neon")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EntryType=void 0,function(e){e.Folder="folder",e.Trash="trash",e.File="file"}(t.EntryType||(t.EntryType={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemTools=void 0;const i=n(25),r=n(16),o=(e,t,n,r)=>{const o={};return t===i.EntryType.File?{name:e,type:t,id:n,metadata:o}:{name:e,type:t,id:n,children:r,metadata:o}};const s=(e,t)=>{const n=t.children.some(t=>t.name===e.name),i=t.metadata.immutable,r={succeeded:!1,error:""};return n?r.error=`Duplicate name: ${e.name} already exists in ${t.name}.`:i?r.error=t.name+" is immutable.":r.succeeded=!0,r},a=(e,t)=>{const n=-1!==t.children.findIndex(t=>t.id===e.id),i=t.metadata.immutable,r=e.metadata.immutable,o={succeeded:!1,error:""};return n?i?o.error=t.name+" is immutable.":r?o.error=e.name+" is immutable.":o.succeeded=!0:o.error=`${e.name} does not exist in ${t.name}.`,o},c=(e,t,n)=>{const r=e===n,o=n.children.some(t=>t.name===e.name),s=t.metadata.immutable,a=n.metadata.immutable,c=-1!==t.children.findIndex(t=>t.id===e.id),l=e.type==i.EntryType.Folder&&function e(t,n){return n.children.filter(e=>e.type===i.EntryType.Folder).map(n=>n===t||e(t,n)).some(e=>!0===e)}(n,e),d={succeeded:!1,error:""};return r?d.error=`Cannot move ${e.name} to itself.`:o?d.error=`Duplicate name: ${e.name} already exists in ${n.name}.`:s?d.error=t.name+" is immutable.":a?d.error=n.name+" is immutable.":c?l?d.error=`Cannot move ${e.name} into a its own subfolder, ${n.name}.`:d.succeeded=!0:d.error=`${e.name} does not exist in ${t.name}.`,d},l=(e,t,n)=>{const i={succeeded:!1,error:""};return t.children.some((t,n,i)=>t.name===e.name&&n!==i.indexOf(t))?i.error=`Duplicate name: ${n} already exists in ${t.name}.`:i.succeeded=!0,i},d=(e,t)=>{const{succeeded:n,error:r}=s(e,t);return n?(t.children.push(e),(o=t).children.sort((e,t)=>e.name.localeCompare(t.name)),o.children.sort((e,t)=>e.type===i.EntryType.File&&t.type===i.EntryType.Folder?1:e.type===i.EntryType.Folder&&t.type===i.EntryType.File?-1:0),!0):(console.error(r),!1);var o},u=(e,t,n=!1)=>{const{succeeded:i,error:r}=a(e,t);if(i||n){const n=t.children.indexOf(e);return t.children.splice(n,1),!0}return console.error(r),!1};t.FileSystemTools={createFolder:e=>o(e,i.EntryType.Folder,(0,r.uuidv4)(),[]),createTrash:e=>o(e,i.EntryType.Trash,(0,r.uuidv4)(),[]),createFile:(e,t)=>o(e,i.EntryType.File,t),moveEntry:function(e,t,n){const i=c(e,t,n);if(i.succeeded){if(u(e,t,!0)){if(d(e,n))return!0;console.error(`Moving: failed to add ${e.name} to ${n.name}`)}else console.error(`Moving: failed to remove ${e.name} from ${t.name}`)}else console.error(i.error);return!1},canAddEntry:s,canRemoveEntry:a,canMoveEntry:c,canRenameEntry:l,addEntry:d,removeEntry:u,addMetadata:function(e,t){return Object.entries(t).forEach(([t,n])=>{e.metadata[t]=n}),e},removeMetadata:function(e,t){return t.forEach(t=>{delete e.metadata[t]}),e},getAllNames:e=>e.children.map(e=>e.name),renameEntry:(e,t,n)=>{const{succeeded:i,error:r}=l(e,t,n);return i?(e.name=n,!0):(console.error(r),!1)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemManager=void 0;const i=n(25),r=n(46),o=n(92);t.FileSystemManager=()=>{function e(e){try{window.localStorage.setItem("neon-fs",JSON.stringify(e))}catch(e){return console.error(e),window.alert("Error saving file system"),!1}return!0}async function t(){try{const t=window.localStorage.getItem("neon-fs");if(t){return JSON.parse(t)}{const t=i.FileSystemTools.createFolder("Home");return function(e){const t=o.samples.map(([e,t])=>{const n=i.FileSystemTools.createFile(e,e);return"folio"===t?i.FileSystemTools.addMetadata(n,{type:"folio",document:"sample",immutable:!0}):"manuscript"===t&&i.FileSystemTools.addMetadata(n,{type:"manuscript",document:"sample",immutable:!0}),n}),n=i.FileSystemTools.createFolder("Samples");t.forEach(e=>{i.FileSystemTools.addEntry(e,n)}),i.FileSystemTools.addEntry(n,e),i.FileSystemTools.addMetadata(n,{immutable:!0})}(t),n(t),await async function(e){const t=await(0,r.fetchUploads)();return t.map(e=>i.FileSystemTools.createFile(e.name,e.id)).forEach(t=>{i.FileSystemTools.addEntry(t,e)}),e}(t),e(t),t}}catch(e){console.error(e),window.alert("Error loading file system")}}function n(e){const t=i.FileSystemTools.createTrash("Trash");i.FileSystemTools.addEntry(t,e)}return{getRoot:async function(){return await t()},setFileSystem:e,getFileSystem:t,newTrash:n}}},function(e){e.exports=JSON.parse('{"@context":["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.samples=void 0,t.samples=[["CDN-Hsmu_M2149.L4_001r","folio"],["CDN-Hsmu_M2149.L4_002r","folio"],["CH-E_611_024r","folio"],["CH-E_611_026r","folio"],["CH-E_611_028r","folio"],["Salzinnes","manuscript"]]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dashboardState=t.ShiftSelectionManager=void 0;t.ShiftSelectionManager=class{constructor(){this.prevSelection=[],this.reset()}setStart(e){this.reset(),this.start=Math.max(e,0)}setEnd(e){this.end=e}reset(){this.start=0,this.end=-1,this.prevSelection.splice(0)}getPrevSelection(){return this.prevSelection}getSelection(e){let t,n;if(-1===this.end)return[];this.end<this.start?(t=this.end,n=this.start+1):(t=this.start,n=this.end+1);const i=Array.from({length:n-t},(e,n)=>n+t).filter(t=>!e[t]);return this.prevSelection=i,i}},t.dashboardState=function(){let e=[],t=[],n=[],i=null;function r(e){return e&&(i=e),i}function o(){return e.filter((e,n)=>t[n])}return{root:r,setEntries:function(n){e=n,t=Array(n.length).fill(!1)},getEntries:function(){return e},getIndexByEntryName:function(t){return e.findIndex(e=>e.name===t)},setSelection:function(e,n){t[e]=n},getSelection:function(){return t},resetSelection:function(){t.fill(!1)},setFolderPath:function(e){n=e},getFolderPath:function(){return n},getFolderPathNames:function(){return n.map(e=>e.name)},getFolderPathByNames:function(e){let t=r();e=e.slice(1);for(const n of e){const e=t.children.find(e=>e.name===n);if(!e||"folder"!==e.type)return void console.debug("failed to find folder: ",n);t=e}return t},getParentFolder:function(){return n.at(-1)},getTrashFolder:function(){return r().children.filter(e=>"trash"===e.type)[0]},getSelectedEntries:o,getSelectedFolders:function(){return o().filter(e=>"folder"===e.type)},getSelectedTrash:function(){return o().filter(e=>"trash"===e.type)},getSelectedFiles:function(){return o().filter(e=>"file"===e.type)},isInTrash:function(){return n.some(e=>"trash"===e.type)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitUploadArea=void 0;const i=n(17),r=n(95),o=n(56);t.InitUploadArea=function(e){const t=new i.ModalWindow;t.setModalWindowView(i.ModalWindowView.DOCUMENT_UPLOAD),t.openModalWindow();const n=document.querySelector("#make_pair"),s=document.querySelector("#upload_button");n.addEventListener("click",r.handleMakePair),s.addEventListener("click",()=>async function(e,t){const n=document.querySelector("#uploading_spinner");n.classList.add("visible"),(0,r.handleUploadAllDocuments)(t).then(()=>{setTimeout(async()=>{await(0,o.updateDashboard)(),n.classList.remove("visible"),e.hideModalWindow()},2e3)}).catch(t=>{console.log("One or more uploads rejected: ",t),setTimeout(async()=>{await(0,o.updateDashboard)(),n.classList.remove("visible"),e.hideModalWindow()},2e3)})}(t,e));const a=document.createElement("input");a.type="file",a.multiple=!0,a.addEventListener("change",(function(){const e=a.files,t=Array.from(e),n=(0,r.addNewFiles)(t);if(0!==n.length){const e=n.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}a.value=null}));const c=document.querySelector("#initial_upload_area");c.onclick=()=>a.click(),c.ondragleave=()=>c.classList.remove("over"),c.ondragover=e=>{e.stopPropagation(),e.preventDefault(),c.classList.add("over"),e.dataTransfer.dropEffect="copy"},c.ondrop=e=>{e.stopPropagation(),e.preventDefault(),c.classList.remove("over");const t=e.dataTransfer.files,n=Array.from(t),i=(0,r.addNewFiles)(n);if(0!==i.length){const e=i.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}},document.querySelectorAll(".sort_name").forEach(e=>{e.addEventListener("click",()=>(0,r.sortFileByName)(e))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fnConflictHandler=t.formatFilename=t.sortFileByName=t.handleUploadAllDocuments=t.handleMakePair=t.addNewFiles=void 0;const i=n(30),r=n(96),o=n(46),s=n(25),a=r.default.getInstance();function c(e,t){if("mei"!==t&&"image"!==t)return;const n="mei"===t?"mei_radio_group":"image_radio_group",r=(0,i.v4)(),o=document.createElement("div");o.className="unpaired_item_container";const s=document.createElement("input");s.type="radio",s.className="unpaired_item_radio",s.name=n,s.value=e,s.id=r;const a=document.createElement("label");a.className="unpaired_item_label",a.setAttribute("for",r);const c=document.createElement("span");c.innerText=l(e,50),c.setAttribute("style","margin-top: auto; margin-left: 3px;");const d=document.createElement("img");return d.className="unpaired_del_btn",d.src="/Neon/Neon-gh/assets/img/unpaired-remove-doc.svg",d.title="delete",a.appendChild(s),a.appendChild(c),o.appendChild(a),o.appendChild(d),d.addEventListener("click",(function(){o.remove()})),o}function l(e,t){const n=Math.floor(t/2),i=e.length;return i<=t?e:`${e.substring(0,n-1)}...${e.substring(i-n+2,i)}`}function d(e,t){let n=e,i=1;for(;t.includes(n);)n=`${e}(${i})`,i++;return n}a.setMeiTemplate("samples/mei/mei_template.mei"),t.addNewFiles=function(e){const t=document.querySelector("#mei_list"),n=document.querySelector("#image_list"),i=[];return e.forEach(e=>{const r=e.name.split(".").pop();if("mei"===r){const n=c(e.name,"mei");t.appendChild(n),a.addFile(e)}else if(["png","jpg","jpeg"].includes(r)){const t=c(e.name,"image");n.appendChild(t),a.addFile(e)}else"jsonld"===r||i.push(e)}),i},t.handleMakePair=function(){const e=document.querySelector("#paired_list"),t=document.querySelector('input[name="mei_radio_group"]:checked'),n=document.querySelector('input[name="image_radio_group"]:checked');if(null===t||null===n)return;let i=t.value;const r=n.value;let o=!1;if("create_mei"===t.value){o=!0;const e=r.split(".");e.length>1&&e.pop(),e.push("mei"),i=e.join("."),a.getImgDimension(r).then(e=>{const{width:t,height:n}=e,r=a.createMeiFile(i,t,n);a.addFile(r)}).catch(e=>{console.error(e.message)})}const s=i.substring(0,i.length-4),d=function(e,t,n){const i=document.querySelector("#mei_list"),r=document.querySelector("#image_list"),o=document.createElement("div");o.className="folio_item",o.setAttribute("mei",t),o.setAttribute("image",n);const s=document.createElement("div");function d(){o.remove();const s=a.isCreatedFolio(e);if(a.removeFolio(e),!s){const e=c(t,"mei");i.appendChild(e)}const l=c(n,"image");r.appendChild(l)}s.classList.add("folio-filename"),s.innerHTML=l(e,50),o.appendChild(s);const u=document.createElement("img");return u.className="unpair_btn",u.src="/Neon/Neon-gh/assets/img/unpair-doc.svg",u.title="unpair",u.addEventListener("click",d),o.appendChild(u),o}(s,i,r);e.appendChild(d),a.addFolio(s,i,r,o),o||t.parentElement.parentElement.remove(),n.parentElement.parentElement.remove()},t.handleUploadAllDocuments=async function(e){const t=[...a.getFolios().map(async([t,n,r])=>{const a=(0,i.v4)();return await async function(e,t,n,i,r){const a=d(t,s.FileSystemTools.getAllNames(r));return(0,o.createManifest)(e,a,n,i).then(t=>{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/ld+json"});return(0,o.addDocument)(e,a,n,!0)}).then(n=>{if(n){const t=(new Date).toLocaleString(),n=s.FileSystemTools.createFile(a,e),i=s.FileSystemTools.addMetadata(n,{type:"folio",created_on:t});return s.FileSystemTools.addEntry(i,r)}return console.log("failed to uploadFolio: "+t),!1})}(a,t,n,r,e)})].map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e})));return a.clear(),Promise.all(t)},t.sortFileByName=async function(e){const t=e.parentElement.nextElementSibling,n=Array.from(t.children);let i=e.classList.contains("arrow-up");i?(e.classList.remove("arrow-up"),e.classList.add("arrow-down"),e.innerHTML="&#x22C1;"):(e.classList.remove("arrow-down"),e.classList.add("arrow-up"),e.innerHTML="&#x22C0;"),i=!i,n.sort((e,t)=>{const n=e.textContent.trim(),r=t.textContent.trim();return i?n.localeCompare(r):r.localeCompare(n)}),n.forEach(e=>{t.appendChild(e)}),e.setAttribute("style","color: black")},t.formatFilename=l,t.fnConflictHandler=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(16),r=n(32);class o{constructor(){this.allFiles=new Map,this.folios=new Array}static getInstance(){return o.instance||(o.instance=new o),o.instance}addFile(e){if(this.allFiles.has(e.name)){const t={file:e,count:this.getFileCount(e.name)+1};this.allFiles.set(e.name,t)}else{const t={file:e,count:1};this.allFiles.set(e.name,t)}}async setMeiTemplate(e){try{const t=await fetch(e);if(!t.ok)throw new Error("Failed to load MEI template from "+e);this.meiTemplate=await t.text()}catch(e){console.error(e)}}createMeiFile(e,t,n){try{if(!this.meiTemplate)throw new Error("Cannot find MEI template");const o=new DOMParser,s=new XMLSerializer,a=o.parseFromString(this.meiTemplate,"text/xml"),c=a.documentElement;c.querySelector("meiHead").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("fileDesc").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("titleStmt").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("title").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("pubStmt").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("facsimile").setAttribute("xml:id","m-"+(0,i.uuidv4)());const l=c.querySelector("surface");l.setAttribute("xml:id","m-"+(0,i.uuidv4)()),l.setAttribute("lrx",t.toString()),l.setAttribute("lry",n.toString());c.querySelector("mdiv").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("score").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("scoreDef").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("staffGrp").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("staffDef").setAttribute("xml:id","m-"+(0,i.uuidv4)());c.querySelector("section").setAttribute("xml:id","m-"+(0,i.uuidv4)());const d=r.xml(s.serializeToString(a)),u=new Blob([d],{type:"text/xml"});return new File([u],e,{type:"text/xml"})}catch(e){console.error(e)}}getImgDimension(e){return new Promise((t,n)=>{const i=this.getFile(e);if(!i)return void n(new Error("File not found: "+e));const r=new FileReader;r.onload=i=>{const r=new Image;r.onload=()=>{t({width:r.width,height:r.height})},r.onerror=()=>{n(new Error("Failed to load image: "+e))},r.src=i.target.result},r.readAsDataURL(i)})}getFile(e){if(this.allFiles.has(e))return this.allFiles.get(e).file}removeFile(e){const t=this.getFileCount(e);if(0!==t)if(1===t)this.allFiles.delete(e);else{const n={file:this.allFiles.get(e).file,count:t-1};this.allFiles.set(e,n)}}getFileCount(e){return this.allFiles.has(e)?this.allFiles.get(e).count:0}addFolio(e,t,n,i){const r={filename:e,mei_filename:t,image_filename:n,isCreated:i};this.folios.push(r)}isCreatedFolio(e){const t=this.folios.find(t=>t.filename===e);return!!t&&t.isCreated}removeFolio(e){const t=this.folios.findIndex(t=>t.filename===e);this.folios.splice(t,1)}getFolios(){return this.folios.map(e=>{const t=e.filename,n=e.mei_filename,i=e.image_filename;return[t,this.getFile(n),this.getFile(i)]})}clear(){this.allFiles.clear(),this.folios.splice(0)}print(){console.log(this.allFiles),console.log(this.folios)}}t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.trashEntryOptions=t.trashFolderOptions=t.multiFolderOptions=t.singleFolderOptions=t.folderAndFileOptions=t.multiFileOptions=t.singleFileOptions=t.defaultOptions=void 0,t.defaultOptions='<div id="cm-upload-doc-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Upload document</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/new-doc.svg">\n    </div>\n    <div id="cm-new-folder-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">New folder</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/new-folder.svg">\n    </div>',t.singleFileOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-rename-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Rename</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/rename-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.multiFileOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.folderAndFileOptions='<div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Delete</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.singleFolderOptions='<div id="cm-open-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Open</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/open-doc.svg">\n    </div>\n    <div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-rename-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Rename</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/rename-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.multiFolderOptions='<div id="cm-remove-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move to Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>\n    <div id="cm-move-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Move</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/move-doc-icon.svg">\n    </div>',t.trashFolderOptions='<div id="cm-empty-trash-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Empty Trash</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>',t.trashEntryOptions='<div id="cm-recover-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Put Back</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/recover-doc.svg">\n    </div>\n    <div id="cm-delete-btn" class="context-menu-item-wrapper">\n        <div class="context-menu-item">Delete</div>\n        <img class="context-menu-item-icon" src="/Neon/Neon-gh/assets/img/remove-doc.svg">\n    </div>'}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Mb2NhbFNldHRpbmdzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L0NvbnRlbnRzLnRzIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0Nvb3JkaW5hdGVzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yYW5kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL01vZGFsV2luZG93LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3JuZy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdnV2dXplbGEvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92NC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRHJhZ0hhbmRsZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL2luZGV4LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FcnJvckxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvUmVzaXplLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3VjaGRiL2xpYi9pbmRleC1icm93c2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92MS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3BhcnNlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjM1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbWQ1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zaGExLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9uaWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92ZXJzaW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92a2JlYXV0aWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRGFzaGJvYXJkQ29udGVudC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvV2FybmluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvU3RhZmZUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9OZXVtZVRvb2xzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3F1ZXVlTWljcm90YXNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL211dGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL21lc3NhZ2VDaGFubmVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3N0YXRlQ2hhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9TdG9yYWdlLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRGFzaGJvYXJkLnRzIiwid2VicGFjazovLy8uL2RlcGxveW1lbnQvc2NyaXB0cy9kYXNoYm9hcmQudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL0ZpbGVTeXN0ZW1JbnRlcmZhY2VzLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRmlsZVN5c3RlbS9GaWxlU3lzdGVtVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlU3lzdGVtL0ZpbGVTeXN0ZW1NYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvc2FtcGxlc19maWxlbmFtZXMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9EYXNoYm9hcmRUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZEFyZWEudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9VcGxvYWRUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZEZpbGVNYW5hZ2VyLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvQ29udGV4dE1lbnVDb250ZW50LnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiUmVmbGVjdE93bktleXMiLCJSIiwiUmVmbGVjdCIsIlJlZmxlY3RBcHBseSIsImFwcGx5IiwidGFyZ2V0IiwicmVjZWl2ZXIiLCJhcmdzIiwiRnVuY3Rpb24iLCJvd25LZXlzIiwiZ2V0T3duUHJvcGVydHlTeW1ib2xzIiwiZ2V0T3duUHJvcGVydHlOYW1lcyIsImNvbmNhdCIsIk51bWJlcklzTmFOIiwiTnVtYmVyIiwiaXNOYU4iLCJFdmVudEVtaXR0ZXIiLCJpbml0IiwidGhpcyIsIm9uY2UiLCJlbWl0dGVyIiwiUHJvbWlzZSIsInJlc29sdmUiLCJyZWplY3QiLCJlcnJvckxpc3RlbmVyIiwiZXJyIiwicmVtb3ZlTGlzdGVuZXIiLCJyZXNvbHZlciIsInNsaWNlIiwiYXJndW1lbnRzIiwiZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyIiwiaGFuZGxlciIsImZsYWdzIiwib24iLCJhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlciIsIl9ldmVudHMiLCJ1bmRlZmluZWQiLCJfZXZlbnRzQ291bnQiLCJfbWF4TGlzdGVuZXJzIiwiZGVmYXVsdE1heExpc3RlbmVycyIsImNoZWNrTGlzdGVuZXIiLCJsaXN0ZW5lciIsIlR5cGVFcnJvciIsIl9nZXRNYXhMaXN0ZW5lcnMiLCJ0aGF0IiwiX2FkZExpc3RlbmVyIiwidHlwZSIsInByZXBlbmQiLCJldmVudHMiLCJleGlzdGluZyIsIndhcm5pbmciLCJuZXdMaXN0ZW5lciIsImVtaXQiLCJ1bnNoaWZ0IiwicHVzaCIsImxlbmd0aCIsIndhcm5lZCIsInciLCJFcnJvciIsIlN0cmluZyIsImNvdW50IiwiY29uc29sZSIsIndhcm4iLCJvbmNlV3JhcHBlciIsImZpcmVkIiwid3JhcEZuIiwiX29uY2VXcmFwIiwic3RhdGUiLCJ3cmFwcGVkIiwiX2xpc3RlbmVycyIsInVud3JhcCIsImV2bGlzdGVuZXIiLCJhcnIiLCJyZXQiLCJBcnJheSIsInVud3JhcExpc3RlbmVycyIsImFycmF5Q2xvbmUiLCJsaXN0ZW5lckNvdW50IiwiY29weSIsImFkZEV2ZW50TGlzdGVuZXIiLCJ3cmFwTGlzdGVuZXIiLCJhcmciLCJyZW1vdmVFdmVudExpc3RlbmVyIiwic2V0IiwiUmFuZ2VFcnJvciIsImdldFByb3RvdHlwZU9mIiwic2V0TWF4TGlzdGVuZXJzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZG9FcnJvciIsImVycm9yIiwiZXIiLCJtZXNzYWdlIiwiY29udGV4dCIsImxlbiIsImxpc3RlbmVycyIsImFkZExpc3RlbmVyIiwicHJlcGVuZExpc3RlbmVyIiwicHJlcGVuZE9uY2VMaXN0ZW5lciIsImxpc3QiLCJwb3NpdGlvbiIsIm9yaWdpbmFsTGlzdGVuZXIiLCJzaGlmdCIsImluZGV4IiwicG9wIiwic3BsaWNlT25lIiwib2ZmIiwicmVtb3ZlQWxsTGlzdGVuZXJzIiwia2V5cyIsInJhd0xpc3RlbmVycyIsImV2ZW50TmFtZXMiLCJjdG9yIiwic3VwZXJDdG9yIiwic3VwZXJfIiwiY29uc3RydWN0b3IiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIlRlbXBDdG9yIiwiZHJhaW5pbmciLCJjdXJyZW50UXVldWUiLCJzY2hlZHVsZURyYWluIiwidHlwZXMiLCJxdWV1ZUluZGV4IiwicXVldWUiLCJzY2hlZHVsZWQiLCJjbGVhblVwTmV4dFRpY2siLCJuZXh0VGljayIsInRpbWVvdXQiLCJzZXRUaW1lb3V0IiwicnVuIiwiY2xlYXJUaW1lb3V0IiwidGVzdCIsImluc3RhbGwiLCJJdGVtIiwiZnVuIiwiYXJyYXkiLCJ0YXNrIiwiZ2V0U2VsZWN0aW9uVHlwZSIsImVsZW1lbnQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRzQnlDbGFzc05hbWUiLCJpZCIsInVuc2VsZWN0IiwicXVlcnlTZWxlY3RvckFsbCIsImZvckVhY2giLCJzZWxlY3RlZCIsImNsYXNzTGlzdCIsInJlbW92ZSIsImNvbnRhaW5zIiwicmVtb3ZlQXR0cmlidXRlIiwiQ29sb3IiLCJ1bmhpZ2hsaWdodCIsInN0eWxlIiwiZmlsbCIsImZyb20iLCJkaXZMaW5lIiwic3Ryb2tlIiwic2V0QXR0cmlidXRlIiwibmV1bWUiLCJzeWxSZWN0IiwicGFyZW50RWxlbWVudCIsImFkZCIsImQzIiwic2VsZWN0QWxsIiwiZWwiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJnZXRFbGVtZW50QnlJZCIsIlNlbGVjdE9wdGlvbnMiLCJlbmRPcHRpb25zU2VsZWN0aW9uIiwiR3JvdXBpbmciLCJlbmRHcm91cGluZ1NlbGVjdGlvbiIsImlubmVySFRNTCIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJlbGVtIiwiY2xvc2VzdCIsInNwYW4iLCJhc3luYyIsImlzTGlnYXR1cmUiLCJuYyIsIm5lb25WaWV3IiwiYXR0cmlidXRlcyIsImdldEVsZW1lbnRBdHRyIiwidmlldyIsImdldEN1cnJlbnRQYWdlVVJJIiwiQm9vbGVhbiIsImxpZ2F0ZWQiLCJlbGVtZW50c0hhdmVDb3JyZWN0VHlwZSIsInNlbGVjdGlvblR5cGUiLCJlbGVtZW50cyIsInNoYXJlZFNlY29uZExldmVsUGFyZW50IiwidGVtcEVsZW1lbnRzIiwic2Vjb25kUGFyZW50Iiwic2VsZWN0QkJveCIsImJib3giLCJzeWwiLCJyZXNpemUiLCJxdWVyeVNlbGVjdG9yIiwidHJpZ2dlckJCb3hBY3Rpb25zIiwicGFyZW50IiwicHJldk5jIiwicHJldmlvdXNTaWJsaW5nIiwibmV4dE5jIiwibmV4dFNpYmxpbmciLCJ0cmlnZ2VyR3JvdXBpbmciLCJ0cmlnZ2VyTmNBY3Rpb25zIiwiYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUiLCJzb3J0ZWRFbGVtZW50cyIsImoiLCJpc1NhbWVOb2RlIiwiZmlyc3RFbGVtIiwic2Vjb25kRWxlbSIsImluZGV4MSIsImluZGV4T2YiLCJpbmRleDIiLCJNYXRoIiwiYWJzIiwiZmlsdGVyIiwicmVmZXJlbmNlUGFyZW50U3RhZmYiLCJyZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSIsImVsZW1lbnRzQXJyYXkiLCJhbm90aGVyU3RhZmYiLCJ1bHgiLCJ1bHkiLCJscngiLCJscnkiLCJyb3RhdGUiLCJwYXRoIiwiY29vcmRpbmF0ZXMiLCJnZXRBdHRyaWJ1dGUiLCJtYXRjaCIsIm1hcCIsImF0YW4iLCJtaW4iLCJtYXgiLCJub3ROZXVtZXMiLCJubiIsInNlbGVjdGlvbkNsYXNzIiwiY29udGFpbnNMYXllckVsZW1lbnRzIiwiY29udGFpbnNOYyIsImdyb3Vwc1RvU2VsZWN0IiwiU2V0IiwiZ3JvdXBpbmciLCJmb2xsb3dzIiwicHJlY2VkZXMiLCJncm91cCIsImdyb3VwcyIsInZhbHVlcyIsInRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucyIsInNpemUiLCJ0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyIsInRyaWdnZXJEZWZhdWx0QWN0aW9ucyIsInRyaWdnZXJTeWxsYWJsZUFjdGlvbnMiLCJpc0xpbmthYmxlIiwiaXNHcm91cGFibGUiLCJ0cmlnZ2VyTmV1bWVBY3Rpb25zIiwiY2hpbGRyZW4iLCJmaXJzdE5DIiwic2Vjb25kTkMiLCJmaXJzdE5DWCIsIngiLCJiYXNlVmFsIiwic2Vjb25kTkNYIiwiZmlyc3ROQ1kiLCJ5Iiwic2Vjb25kTkNZIiwiZyIsInRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyIsImxvY2FsU2V0dGluZ3MiLCJERUZBVUxUX1NFVFRJTkdTIiwiem9vbSIsImdseXBoT3BhY2l0eSIsImltYWdlT3BhY2l0eSIsImNpcmNsZVNpemUiLCJoaWdobGlnaHRNb2RlIiwidXNlck1vZGUiLCJpbnNlcnRNb2RlIiwiaW5zZXJ0VGFiIiwic2VsZWN0aW9uTW9kZSIsImRpc3BsYXlCQm94IiwiZGlzcGxheVRleHQiLCJkaXNwbGF5SW5mbyIsImRpc3BsYXlFcnJMb2ciLCJ2aWV3Qm94Iiwic2V0dGluZ3MiLCJwYXJhbXMiLCJmb2xpb0lkIiwibG9hZCIsInN0b3JlZCIsIkpTT04iLCJwYXJzZSIsIndpbmRvdyIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJzeW5jIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsIm5vdGlmaWNhdGlvbnMiLCJjdXJyZW50TW9kZU1lc3NhZ2UiLCJub3RpZmljYXRpb25JY29uIiwiZGVmYXVsdCIsInN1Y2Nlc3MiLCJOb3RpZmljYXRpb24iLCJkaXNwbGF5ZWQiLCJ1dWlkdjQiLCJpc01vZGVNZXNzYWdlIiwic2VhcmNoIiwidGltZW91dElEIiwiY2xlYXJOb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJzdGFydE5vdGlmaWNhdGlvbiIsIm5vdGlmaWNhdGlvbiIsImdldElkIiwibm90aWZpY2F0aW9uQ29udGVudCIsIm5ld05vdGlmaWNhdGlvbiIsImNyZWF0ZUVsZW1lbnQiLCJhcHBlbmQiLCJkaXNwbGF5IiwiZGlzcGxheU5vdGlmaWNhdGlvbiIsInNldFRpbWVvdXRJZCIsInF1ZXVlTm90aWZpY2F0aW9uIiwicmVjb3JkTm90aWZpY2F0aW9uIiwiaW5zZXJ0VGFiSHRtbCIsInByaW1pdGl2ZVRhYiIsImdyb3VwaW5nVGFiIiwic3lzdGVtVGFiIiwiaW5zZXJ0Q29udHJvbHNQYW5lbCIsImVkaXRDb250cm9sc1BhbmVsIiwibmNBY3Rpb25Db250ZW50cyIsImRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzIiwibmV1bWVBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyIsInN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyIsImNvbHVtbkFjdGlvbkNvbnRlbnRzIiwiY2xlZkFjdGlvbkNvbnRlbnRzIiwiZGl2TGluZUFjdGlvbkNvbnRlbnRzIiwiYmJveEFjdGlvbkNvbnRlbnRzIiwiZ3JvdXBpbmdNZW51IiwibGlnYXR1cmVOYyIsImxpZ2F0dXJlIiwic3BsaXRTeWxsYWJsZSIsImVkaXRUZXh0TW9kYWwiLCJob3RrZXlzTW9kYWwiLCJzeWxsYWJsZUFjdGlvbnNDb250ZW50IiwiZXJyb3JMb2dzUGFuZWxDb250ZW50cyIsImUiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5IiwibGFzdENpcmNsZVNpemUiLCJzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIiwibWVpQ2xhc3NOYW1lIiwib3BhY2l0eU91dHB1dCIsInNldFNldHRpbmdzIiwiaGlkZUdseXBoSW1nIiwib3BhY2l0eSIsInNldEJnT3BhY2l0eUZyb21TbGlkZXIiLCJiYWNrZ3JvdW5kIiwiYmdPcGFjaXR5T3V0cHV0IiwiaGlkZUJnSW1nIiwiYmciLCJ1cGRhdGVIaWdobGlnaHRPcHRpb24iLCJvcHRpb24iLCJkcm9wZG93biIsImhpZ2hsaWdodFR5cGUiLCJ0ZXh0Q29udGVudCIsInVuc2V0R3JvdXBpbmdIaWdobGlnaHQiLCJ0b1VwcGVyQ2FzZSIsInNldEdyb3VwaW5nSGlnaGxpZ2h0Iiwic2V0SGlnaGxpZ2h0T3B0aW9uIiwiaGlnaGxpZ2h0Q2xpY2thd2F5IiwiYm9keSIsInNldEhpZ2hsaWdodENvbnRyb2xzIiwiZXZ0Iiwic3RvcFByb3BhZ2F0aW9uIiwidG9nZ2xlIiwibG9hZEhpZ2hsaWdodFNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ6b29tSGFuZGxlciIsInpvb21TbGlkZXIiLCJ6b29tT3V0cHV0Iiwiem9vbVRvIiwicmVzZXRab29tQW5kUGFuIiwiZGlzYWJsZWQiLCJjdXJyZW50Wm9vbSIsInBhcnNlSW50IiwicHJldmVudERlZmF1bHQiLCJuZXdab29tIiwiY2lyY2xlU2xpZGVyIiwiY2lyY2xlT3V0cHV0IiwiY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlciIsInJlc2l6ZVBvaW50cyIsImVtcHR5IiwiYXR0ciIsImhpZ2hsaWdodFNlbGVjdGlvbiIsImhpZ2hsaWdodElkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJjaGVja2VkIiwib3BhY2l0eVNsaWRlciIsImlucHV0Q2hhbmdlT3BhY2l0eSIsInRvZ2dsZU9wYWNpdHlCdG4iLCJuZXdPcGFjaXR5Iiwicm91bmQiLCJzZXRHbHlwaE9wYWNpdHlDb250cm9scyIsImJnT3BhY2l0eVNsaWRlciIsImJnSW5wdXRDaGFuZ2VIYW5kbGVyIiwidG9nZ2xlQmdPcGFjaXR5QnRuIiwic2V0QmdPcGFjaXR5Q29udHJvbHMiLCJtZXRhS2V5Iiwic2VsZWN0QWxsQnRuIiwib3B0aW9ucyIsImNsaWNrIiwic2V0RGlzcGxheUFsbExpc3RlbmVyIiwiZGlzcGxheUNvbnRlbnRzIiwidG9nZ2xlRGlzcGxheSIsInBhZGRpbmciLCJvdmVyZmxvdyIsInVuc2V0SW5jbGluYXR1bUFjdGlvbiIsImFjdGlvbiIsInBhcmFtIiwiZWxlbWVudElkIiwiYXR0clR5cGUiLCJhdHRyVmFsdWUiLCJ1bnNldFZpcmdhQWN0aW9uIiwidW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiIsImN1cnZlIiwiZGVsZXRlQnV0dG9uSGFuZGxlciIsInJlbW92ZUhhbmRsZXIiLCJtb3JlRWRpdCIsImV4dHJhRWRpdCIsInRvUmVtb3ZlIiwiY2hhaW5BY3Rpb24iLCJlZGl0IiwidGhlbiIsInVwZGF0ZUZvckN1cnJlbnRQYWdlIiwiY2hhbmdlU3RhZmZIYW5kbGVyIiwidG9DaGFuZ2UiLCJpbnNlcnRUb1N5bGxhYmxlSGFuZGxlciIsInRvSW5zZXJ0IiwicmVzdWx0IiwibW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIiLCJ0b01vdmUiLCJtYXRjaEhlaWdodEhhbmRsZXIiLCJhZGREZWxldGVMaXN0ZW5lciIsImRlbCIsImFkZENoYW5nZVN0YWZmTGlzdGVuZXIiLCJjaGFuZ2VTdGFmZiIsInVwZGF0ZUNvbHVtbkluZm8iLCJjb2xJbnB1dCIsInN0YXZlcyIsImNvbEluZm8iLCJoYXNDb2x1bW4iLCJqb2luIiwic3RhZmZDb2wiLCJpbm5lclRleHQiLCJhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIiLCJkZWNyZW1lbnRCdXR0b24iLCJpbmNyZW1lbnRCdXR0b24iLCJjb25maXJtQnV0dG9uIiwidXBkYXRlTnVtYmVyIiwiY2hhbmdlIiwiY3VycmVudFZhbHVlIiwidG9TZXRDb2x1bW4iLCJzZXRFZGl0Q29udHJvbHMiLCJlZGl0VHlwZSIsImNvbnRlbnRzIiwicmVwbGFjZSIsInBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24iLCJ0cmlnZ2VyU3RhZmZTcGxpdE1vZGUiLCJTcGxpdFN0YWZmSGFuZGxlciIsInN0YXJ0U3BsaXQiLCJpbml0T3B0aW9uc0xpc3RlbmVycyIsImRyb3AiLCJvcHRpb25zQ2xpY2thd2F5Iiwib3RoZXIiLCJpbml0TmVvblZpZXciLCJDb250ZW50cyIsInVuc2V0SW5jbGluYXR1bSIsInVuc2V0VmlyZ2EiLCJ1bnNldFZpcmdhUmV2ZXJzZWQiLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwic2V0SW5jbGluYXR1bSIsInNldFZpcmdhIiwic2V0VmlyZ2FSZXZlcnNlZCIsInNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInRyaWdnZXJDaGFuZ2VHcm91cCIsImNvbnRvdXIiLCJjaGFuZ2VHcm91cGluZ0FjdGlvbiIsIlNwbGl0TmV1bWVIYW5kbGVyIiwiaW5mbyIsImdldENvbnRvdXJCeVZhbHVlIiwiZXh0cmFBY3Rpb25zSFRNTCIsImFjY2lkT3B0aW9uc0xpc3RlbmVyIiwiaW5jcmVtZW50T2N0YXZlIiwiZGlyZWN0aW9uIiwic2hhcGUiLCJjbGVmT3B0aW9uc0xpc3RlbmVyIiwiZGl2TGluZU9wdGlvbnNMaXN0ZW5lciIsIm1lcmdlU3RhdmVzIiwicG9pbnRzIiwiZ2V0U3RhZmZCQm94IiwieV9jaGFuZ2UiLCJ0YW4iLCJlZGl0b3JBY3Rpb24iLCJnZXRTVkdSZWxDb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInB0IiwiRE9NUG9pbnQiLCJzeXN0ZW0iLCJtYXRyaXhUcmFuc2Zvcm0iLCJnZXRTY3JlZW5DVE0iLCJpbnZlcnNlIiwiZ2V0U3RhZmZJZEJ5Q29vcmRzIiwic3RhZmZCQm94ZXMiLCJmaW5kIiwic3RhZmZJZCIsImJnSW1nIiwicmVjdCIsInRhZ05hbWUiLCJnZXRCQm94IiwicGFyZW50Tm9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiaGV4X2NociIsIm1kNWN5Y2xlIiwiayIsImEiLCJiIiwibWQ1YmxrIiwibWQ1YmxrcyIsImNoYXJDb2RlQXQiLCJtZDVibGtfYXJyYXkiLCJtZDUxIiwidGFpbCIsInRtcCIsImxvIiwiaGkiLCJzdWJzdHJpbmciLCJyaGV4IiwiaGV4IiwidG9VdGY4Iiwic3RyIiwidW5lc2NhcGUiLCJlbmNvZGVVUklDb21wb25lbnQiLCJoZXhUb0JpbmFyeVN0cmluZyIsImJ5dGVzIiwiZnJvbUNoYXJDb2RlIiwiU3BhcmtNRDUiLCJyZXNldCIsIkFycmF5QnVmZmVyIiwiY2xhbXAiLCJ2YWwiLCJ0byIsIm51bSIsInRhcmdldEFycmF5Iiwic291cmNlQXJyYXkiLCJieXRlTGVuZ3RoIiwiYmVnaW4iLCJlbmQiLCJVaW50OEFycmF5IiwiYXBwZW5kQmluYXJ5IiwiX2J1ZmYiLCJfbGVuZ3RoIiwiX2hhc2giLCJyYXciLCJidWZmIiwiX2ZpbmlzaCIsImdldFN0YXRlIiwiaGFzaCIsInNldFN0YXRlIiwiZGVzdHJveSIsImhhc2hCaW5hcnkiLCJjb250ZW50IiwiZmlyc3QiLCJzZWNvbmQiLCJyZXR1cm5VSW50OEFycmF5IiwiYnVmZmVyIiwic3ViYXJyYXkiLCJ1dGY4U3RyMkFycmF5QnVmZmVyIiwibWQ1MV9hcnJheSIsImZhY3RvcnkiLCJ1aW50OFRvVXVpZCIsImRhdGEiLCJjYiIsInByZXZpb3VzIiwiY3VycmVudCIsInBhZFN0YXJ0IiwicmVkdWNlIiwiY3J5cHRvIiwib2N0ZXRzIiwibW9kaWZpZXJzIiwiZ2V0UmFuZG9tVmFsdWVzIiwiTW9kYWxXaW5kb3dWaWV3IiwiTW9kYWxXaW5kb3dTdGF0ZSIsIm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93IiwiaGlkZU1vZGFsV2luZG93IiwidXBkYXRlU3lsVGV4dCIsImZvY3VzTW9kYWxXaW5kb3ciLCJvcmlnIiwidHJpbSIsInVwZGF0ZWRTeWxUZXh0IiwiZW50cmllcyIsImNsYXNzTmFtZSIsInRleHQiLCJyZXNwb25zZSIsInVwZGF0ZVNlbGVjdGVkQkJveCIsImtleWRvd25MaXN0ZW5lciIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm1vZGFsV2luZG93VmlldyIsIkVESVRfVEVYVCIsIkRPQ1VNRU5UX1VQTE9BRCIsIk5FV19GT0xERVIiLCJSRU5BTUUiLCJmb2N1cyIsIm1vZGFsV2luZG93U3RhdGUiLCJDTE9TRUQiLCJzZXR1cEV2ZW50TGlzdGVuZXJzIiwic2V0TW9kYWxXaW5kb3dDb250ZW50IiwiSE9US0VZUyIsIk1PVkVfVE8iLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJPUEVOIiwicmVtb3ZlRXZlbnRMaXN0ZW5lcnMiLCJjb250YWluZXIiLCJ0aXRsZSIsInJlbW92ZVN5bWJvbCIsIlZBTElEQVRJT05fU1RBVFVTIiwidXBsb2FkQXJlYUhUTUwiLCJuZXdGb2xkZXJIVE1MIiwicmVuYW1lSFRNTCIsImJib3hJZCIsImRpc3BsYXlSZWN0IiwiQ29sb3JQYWxldHRlIiwicmVjdHMiLCJ1bnNldFN0YWZmSGlnaGxpZ2h0IiwiY2hpbGQiLCJjY2hpbGQiLCJzZXRTdGFmZkhpZ2hsaWdodCIsInN0YWZmQ29sb3IiLCJjb2x1bW5OdW0iLCJjb2x1bW4iLCJzZXRDb2x1bW5IaWdobGlnaHQiLCJncm91cENvbG9yIiwiZGl2TGluZUNoaWxkcmVuIiwicm5kczgiLCJybmciLCJtc0NyeXB0byIsIm9iaiIsInN0YWNrIiwibWV0YVN0YWNrIiwibGFzdE1ldGFFbGVtZW50IiwibGFzdEVsZW1lbnRJbmRleCIsImlzQXJyYXkiLCJpbnB1dCIsIm5leHQiLCJhcnJheVByZWZpeCIsIm9ialByZWZpeCIsInJlcyIsInByZWZpeCIsImNvbGxhdGlvbkluZGV4IiwicGFyc2VkTnVtIiwibnVtQ2hhciIsInBhcnNlZFN0cmluZyIsImxhc3RDaCIsIm51bUNvbnNlY3V0aXZlU2xhc2hlcyIsImNoIiwiYXJyYXlFbGVtZW50Iiwib2JqRWxlbWVudCIsInBhcnNlRmxvYXQiLCJidWYiLCJybmRzIiwicmFuZG9tIiwic2VsZWN0b3IiLCJkcmFnU3RhcnRDb29yZHMiLCJkcmFnQmVoYXZpb3VyIiwiZHJhZyIsImV2ZW50IiwiZHgiLCJkeSIsInNvdXJjZUV2ZW50IiwiZHJhZ2dpbmciLCJkcmFnRW5kZWQiLCJzZWxlY3Rpb24iLCJub01vdmVQcmVjZWRlcyIsImhhc0F0dHJpYnV0ZSIsIm1vdmVFbGVtZW50cyIsImJib3hlcyIsInhEaWZmIiwieURpZmYiLCJpc0N1cnNvck91dE9mQm91bmRzIiwiaXNEcmFnT3V0T2ZCb3VuZHMiLCJyZXR1cm5FbGVtZW50cyIsInBhcmFtQXJyYXkiLCJkcmFnQWN0aW9uIiwidG9SZXNlbGVjdCIsInJlc2VsZWN0IiwicmVzZWxlY3RlZCIsInJlc2V0VG9BY3Rpb24iLCJlbmRYIiwiZW5kWSIsImlzT3V0T2ZTVkdCb3VuZHMiLCJnbHlwaFNlbGVjdG9yIiwic2VsZWN0aW9uQkJveCIsImFjYyIsImdldEdseXBoQkJveCIsImN1cnIiLCJNQVhfVkFMVUUiLCJNSU5fVkFMVUUiLCJTZWxlY3RUb29scyIsInNoYXJlZExvZ2ljYWxQYXJlbnQiLCJhcmVBZGphY2VudCIsImNvbnRhaW5zTGlua2VkIiwiaXNMaW5rZWQiLCJpc011bHRpU3RhdmVTZWxlY3Rpb24iLCJzdGFmZjAiLCJzdGFmZjEiLCJzdGFmZkNoaWxkcmVuIiwiZmlyc3RTdGFmZiIsInNlY29uZFN0YWZmIiwiZmlyc3RMYXllciIsInNlY29uZExheWVyIiwiZmlyc3RTeWxsYWJsZUNoaWxkcmVuIiwic2Vjb25kU3lsbGFibGVDaGlsZHJlbiIsImxhc3RTeWxsYWJsZSIsImZpcnN0U3lsbGFibGUiLCJzeXN0ZW1zIiwiZWxlbWVudElkcyIsImdyb3VwaW5nQWN0aW9uIiwiZ2V0Q2hpbGRyZW5JZHMiLCJnZXRJZHMiLCJ0b2dnbGVMaW5rZWRTeWxsYWJsZXMiLCJncm91cFR5cGUiLCJuZXVtZVBhcmVudCIsIm5jcyIsImdldENvbnRvdXIiLCJXYXJuaW5ncyIsImdyb3VwaW5nTm90UmVjb2duaXplZCIsInN5bGxhYmxlMCIsInN5bGxhYmxlMSIsInNlY29uZFN5bGxhYmxlIiwiaWRzIiwiY2hpbGRyZW5JZHMiLCJFbnRyeVR5cGUiLCJGaWxlU3lzdGVtVG9vbHMiLCJGaWxlU3lzdGVtTWFuYWdlciIsImluaXRFcnJvckxvZ0NvbnRyb2xzIiwiZXJyb3JQYW5lbCIsImhlYWRpbmciLCJkcm9wZG93bkljb24iLCJpbml0RGlzcGxheUxpc3RlbmVyIiwibm90aWZQYW5lbCIsImNoZWNrYm94ZXNDb250YWluZXIiLCJlcnJvcnNMYWJlbCIsImVyb3Jyc0J0biIsImFwcGVuZENoaWxkIiwibm90aWYiLCJub3RpZkRpdiIsIm9uY2xpY2siLCJjcmVhdGVMb2dNZXNzYWdlIiwiUG9pbnROYW1lcyIsIlRvcExlZnQiLCJUb3AiLCJUb3BSaWdodCIsIlJpZ2h0IiwiQm90dG9tUmlnaHQiLCJCb3R0b20iLCJCb3R0b21MZWZ0IiwiTGVmdCIsImdldFBvaW50cyIsInNpbiIsImluaXRpYWxVbHgiLCJpbml0aWFsTHJ4IiwiaW5pdGlhbFBvaW50IiwiaW5pdGlhbFVseSIsImluaXRpYWxMcnkiLCJpbml0aWFsWSIsImluaXRpYWxSZWN0WSIsInBvbHlMZW4iLCJpbml0aWFsUm90YXRlIiwicmVkcmF3IiwicG9pbnRTdHJpbmciLCJfZWxlbSIsInRleHRSZWN0IiwicG9pbnROYW1lIiwicG9pbnQiLCJwb2ludFN0cmluZ1JpZ2h0IiwicG9pbnRTdHJpbmdMZWZ0IiwiZHJhd0luaXRpYWxSZWN0Iiwid2hpY2hQb2ludCIsIl8iLCJ2aWV3cG9ydEVsZW1lbnQiLCJyZXNpemVTdGFydCIsInJlc2l6ZURyYWciLCJyZXNpemVFbmQiLCJyb3RhdGVTdGFydCIsInRlbXAiLCJtb3VzZSIsInRlbXBSb3RhdGUiLCJyb3RhdGVFbmQiLCJjdXJyZW50UG9pbnQiLCJ3aGljaCIsIlBJIiwiRXhwb3J0ZWRTZXQiLCJFeHBvcnRlZE1hcCIsIm1hbmdsZSIsInVubWFuZ2xlIiwiTWFwJDEiLCJfc3RvcmUiLCJTZXQkMSIsImNsb25lQmluYXJ5T2JqZWN0IiwiY2xvbmVBcnJheUJ1ZmZlciIsIndlYmtpdFNsaWNlIiwibWFuZ2xlZCIsImhhcyIsImRlbGV0ZSIsIk1hcCIsInByb3AiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzcGVjaWVzIiwic3VwcG9ydHNNYXBBbmRTZXQiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwiY2xvbmUiLCJuZXdPYmplY3QiLCJEYXRlIiwiaXNGaW5pdGUiLCJ0b0lTT1N0cmluZyIsIkJsb2IiLCJpc0JpbmFyeU9iamVjdCIsInByb3RvIiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJjYWxsZWQiLCJ0b1Byb21pc2UiLCJmdW5jIiwic2VsZiIsInVzZWRDQiIsInByb21pc2UiLCJmdWxmaWxsIiwicmVzcCIsImNhbGxiYWNrIiwibWVzZyIsImFkYXB0ZXJGdW4iLCJfY2xvc2VkIiwiX2Rlc3Ryb3llZCIsImxvZ0FyZ3MiLCJvcmlnQ2FsbGJhY2siLCJyZXNwb25zZUFyZ3MiLCJsb2dBcGlDYWxsIiwidGFza3F1ZXVlIiwiaXNSZWFkeSIsImFkZFRhc2siLCJmYWlsZWQiLCJwaWNrIiwiaGFzTG9jYWwiLCJpZGVudGl0eUZ1bmN0aW9uIiwiZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQiLCJvayIsImJ1bGtHZXQiLCJkYiIsIm9wdHMiLCJyZXF1ZXN0cyIsImRvY3MiLCJyZXF1ZXN0c0J5SWQiLCJyZXF1ZXN0IiwibnVtRG9jcyIsIm51bURvbmUiLCJwZXJEb2NSZXN1bHRzIiwiY2hlY2tEb25lIiwicmVzdWx0cyIsImFsbFJlcXVlc3RzIiwibmV4dEJhdGNoIiwidXBUbyIsImJhdGNoIiwiZG9jSWQiLCJkb2NJZHgiLCJkb2NSZXF1ZXN0cyIsImRvY09wdHMiLCJvcGVuX3JldnMiLCJyZXYiLCJmb3JtYXRSZXN1bHQiLCJwcm9jZXNzQmF0Y2giLCJoYXNMb2NhbFN0b3JhZ2UiLCJDaGFuZ2VzIiwiYXR0YWNoQnJvd3NlckV2ZW50cyIsImd1YXJkZWRDb25zb2xlIiwibWV0aG9kIiwiZGVmYXVsdEJhY2tPZmYiLCJtYXhUaW1lb3V0IiwicmFuZG9tTnVtYmVyIiwiZXhwbGFpbkVycm9yIiwic3RhdHVzIiwiZGJOYW1lIiwiaW5wcm9ncmVzcyIsImV2ZW50RnVuY3Rpb24iLCJjaGFuZ2VzT3B0cyIsImNoYW5nZXMiLCJzZXEiLCJzaW5jZSIsImNhbmNlbGxlZCIsIm9uQ2hhbmdlIiwibm90aWZ5TG9jYWxXaW5kb3dzIiwibm90aWZ5IiwiJGluamVjdF9PYmplY3RfYXNzaWduIiwiYXNzaWduIiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJQb3VjaEVycm9yIiwicmVhc29uIiwiTUlTU0lOR19CVUxLX0RPQ1MiLCJNSVNTSU5HX0RPQyIsIlJFVl9DT05GTElDVCIsIklOVkFMSURfSUQiLCJNSVNTSU5HX0lEIiwiUkVTRVJWRURfSUQiLCJVTktOT1dOX0VSUk9SIiwiQkFEX0FSRyIsIlFVRVJZX1BBUlNFX0VSUk9SIiwiRE9DX1ZBTElEQVRJT04iLCJCQURfUkVRVUVTVCIsIk5PVF9BTl9PQkpFQ1QiLCJJREJfRVJST1IiLCJJTlZBTElEX1JFViIsIk1JU1NJTkdfU1RVQiIsImNyZWF0ZUVycm9yIiwiQ3VzdG9tUG91Y2hFcnJvciIsIm5hbWVzIiwiZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSIsImZpbHRlckNoYW5nZSIsInJlcSIsImhhc0ZpbHRlciIsInF1ZXJ5IiwicXVlcnlfcGFyYW1zIiwiZG9jIiwiZmlsdGVyUmV0dXJuIiwibXNnIiwidHJ5RmlsdGVyIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJhdHQiLCJfYXR0YWNobWVudHMiLCJzdHViIiwiZmxhdHRlbiIsImFycnMiLCJpbnZhbGlkSWRFcnJvciIsImlzUmVtb3RlIiwiX3JlbW90ZSIsInBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwicGFydHMiLCJzcGxpdCIsIm5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsIm5vcm1hbGl6ZWQiLCJxUGFyc2VyIiwicGFyc2VyIiwicGFyc2VVcmkiLCJleGVjIiwidXJpIiwiZW5jb2RlZCIsImRlY29kZVVSSUNvbXBvbmVudCIsIiQwIiwiJDEiLCIkMiIsInNjb3BlRXZhbCIsInNvdXJjZSIsInNjb3BlIiwidXBzZXJ0IiwiZGlmZkZ1biIsImNhdGNoIiwiZG9jUmV2IiwiX3JldiIsIm5ld0RvYyIsIl9pZCIsInB1dCIsInVwZGF0ZWQiLCJ0cnlBbmRQdXQiLCJ0aGlzQXRvYiIsImF0b2IiLCJ0aGlzQnRvYSIsImJ0b2EiLCJjcmVhdGVCbG9iIiwicHJvcGVydGllcyIsImJ1aWxkZXIiLCJCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiZ2V0QmxvYiIsImJpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIiLCJiaW4iLCJiaW5TdHJpbmdUb0JsdWZmZXIiLCJiaW5TdHJpbmciLCJiNjRUb0JsdWZmZXIiLCJiNjQiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsImhhc0JpbmFyeVN0cmluZyIsIm9ubG9hZGVuZCIsImJpbmFyeSIsImFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmciLCJyZWFkQXNBcnJheUJ1ZmZlciIsImJsb2JUb0JpbmFyeVN0cmluZyIsImJsb2JPckJ1ZmZlciIsImJsb2JUb0Jhc2U2NCIsImJhc2U2NCIsInNldEltbWVkaWF0ZVNoaW0iLCJzZXRJbW1lZGlhdGUiLCJhcHBlbmRCbG9iIiwic3RhcnQiLCJzbGljZUJsb2IiLCJhcnJheUJ1ZmZlciIsImFwcGVuZFN0cmluZyIsInN0cmluZyIsImJpbmFyeU1kNSIsImlucHV0SXNTdHJpbmciLCJjaHVua1NpemUiLCJjaHVua3MiLCJjZWlsIiwiY3VycmVudENodW5rIiwibG9hZE5leHRDaHVuayIsImRvbmUiLCJyYXdUb0Jhc2U2NCIsInN0cmluZ01kNSIsInJldiQkMSIsImRldGVybWluaXN0aWNfcmV2cyIsIm11dGF0ZWFibGVEb2MiLCJfcmV2X3RyZWUiLCJ3aW5uaW5nUmV2IiwibWV0YWRhdGEiLCJ3aW5uaW5nSWQiLCJ3aW5uaW5nUG9zIiwid2lubmluZ0RlbGV0ZWQiLCJub2RlIiwidG9WaXNpdCIsInJldl90cmVlIiwidHJlZSIsImJyYW5jaGVzIiwicG9zIiwiZGVsZXRlZCIsInRyYXZlcnNlUmV2VHJlZSIsInJldnMiLCJuZXdDdHgiLCJjdHgiLCJzb3J0QnlQb3MiLCJjb2xsZWN0TGVhdmVzIiwibGVhdmVzIiwiaXNMZWFmIiwic29ydCIsInJldmVyc2UiLCJjb2xsZWN0Q29uZmxpY3RzIiwid2luIiwiY29uZmxpY3RzIiwibGVhZiIsInJvb3RUb0xlYWYiLCJwYXRocyIsImhpc3RvcnkiLCJzb3J0QnlQb3MkMSIsImluc2VydFNvcnRlZCIsIml0ZW0iLCJjb21wYXJhdG9yIiwiaWR4IiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsIlJlZ0V4cCIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJldmVyeSIsImRvY0ZpZWxkVmFsdWUiLCJzb21lIiwib3JNYXRjaGVycyIsIm1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IiLCJtYXRjaFNlbGVjdG9yIiwibWF5YmVVc2VyT3BlcmF0b3IiLCJ1c2VyVmFsdWUiLCJzdWJQYXJzZWRGaWVsZCIsInN1YkRvY0ZpZWxkVmFsdWUiLCJ1c2VyT3BlcmF0b3IiLCJtYXRjaGVycyIsImZpZWxkRXhpc3RzIiwiZmllbGRJc05vdFVuZGVmaW5lZCIsImFycmF5Q29udGFpbnNWYWx1ZSIsImRvY0ZpZWxkVmFsdWVJdGVtIiwibW9kRmllbGQiLCJuZVZhbHVlIiwiYXJyYXlTaXplIiwiYXJyYXlDb250YWluc0FsbFZhbHVlcyIsInJlZ2V4VmFsdWUiLCJyZWdleE1hdGNoIiwidHlwZU1hdGNoIiwiZmlsdGVyTmFtZSIsImNoYW5nZXNIYW5kbGVyIiwiZG9jX2lkcyIsInZpZXdOYW1lIiwiZGRvYyIsIm1hcEZ1biIsInZpZXdzIiwicm93c01hdGNoZWQiLCJtYXRjaGVzU2VsZWN0b3IiLCJmaWx0ZXJGdW4iLCJmaWx0ZXJzIiwidG9PYmplY3QiLCJ2ZXJzaW9uIiwicmVzZXJ2ZWRXb3JkcyIsImRhdGFXb3JkcyIsInBhcnNlUmV2aXNpb25JbmZvIiwicGFyc2VEb2MiLCJuZXdFZGl0cyIsImRiT3B0cyIsIm5SZXZOdW0iLCJyZXZJbmZvIiwicmV2aXNpb25zIiwicmV2aXNpb25JZHMiLCJtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMiLCJzcGVjaWFsS2V5IiwicHJlcHJvY2Vzc1N0cmluZyIsImJsb2JUeXBlIiwiYXNCaW5hcnkiLCJwYXJzZUJhc2U2NCIsImRpZ2VzdCIsInByZXByb2Nlc3NBdHRhY2htZW50IiwibWQ1IiwicHJlcHJvY2Vzc0Jsb2IiLCJ1cGRhdGVEb2MiLCJyZXZMaW1pdCIsInByZXYiLCJkb2NJbmZvIiwid3JpdGVEb2MiLCJzcGxpdFJldiIsInRhcmdldFBvcyIsInRhcmdldElkIiwicmV2RXhpc3RzIiwicHJldmlvdXNXaW5uaW5nUmV2IiwicHJldmlvdXNseURlbGV0ZWQiLCJpc1Jvb3QiLCJuZXdSZXYiLCJyZXZfbWFwIiwid2lubmluZ1JldiQkMSIsIndpbm5pbmdSZXZJc0RlbGV0ZWQiLCJkZWx0YSIsInByb2Nlc3NEb2NzIiwiZG9jSW5mb3MiLCJmZXRjaGVkRG9jcyIsInR4Iiwib3ZlcmFsbENhbGxiYWNrIiwiaWRzVG9Eb2NzIiwiZG9jc0RvbmUiLCJkb2NzVG9EbyIsImNoZWNrQWxsRG9jc0RvbmUiLCJjdXJyZW50RG9jIiwicmVzdWx0c0lkeCIsImRvY1dyaXR0ZW4iLCJuZXh0RG9jIiwicm9vdElzTWlzc2luZyIsImluc2VydERvYyIsIkRPQ19TVE9SRSIsIk1FVEFfU1RPUkUiLCJzYWZlSnNvblN0cmluZ2lmeSIsImpzb24iLCJpZGJFcnJvciIsImVuY29kZU1ldGFkYXRhIiwiZGVsZXRlZE9yTG9jYWwiLCJkZWNvZGVNZXRhZGF0YSIsInN0b3JlZE9iamVjdCIsInNhZmVKc29uUGFyc2UiLCJkZWNvZGVEb2MiLCJfZG9jX2lkX3JldiIsImxhc3RJbmRleE9mIiwicmVhZEJsb2JEYXRhIiwiYXNCbG9iIiwiZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5IiwidHhuIiwiYXR0T2JqIiwib2JqZWN0U3RvcmUiLCJvbnN1Y2Nlc3MiLCJmZXRjaEF0dGFjaG1lbnQiLCJwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzIiwiYXR0TmFtZXMiLCJjb21wYWN0UmV2cyIsInBvc3NpYmx5T3JwaGFuZWREaWdlc3RzIiwic2VxU3RvcmUiLCJhdHRTdG9yZSIsImF0dEFuZFNlcVN0b3JlIiwiSURCS2V5UmFuZ2UiLCJib3VuZCIsImRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMiLCJvcGVuQ3Vyc29yIiwib25seSIsImN1cnNvciIsImRpZ2VzdFNlcSIsInByaW1hcnlLZXkiLCJjb250aW51ZSIsIm9wZW5UcmFuc2FjdGlvblNhZmVseSIsImlkYiIsInN0b3JlcyIsInRyYW5zYWN0aW9uIiwiaWRiQnVsa0RvY3MiLCJkb2NTdG9yZSIsImJ5U2VxU3RvcmUiLCJhdHRhY2hTdG9yZSIsImF0dGFjaEFuZFNlcVN0b3JlIiwibWV0YVN0b3JlIiwiZG9jSW5mb0Vycm9yIiwibWV0YURvYyIsImFsbERvY3NQcm9jZXNzZWQiLCJkb2NDb3VudERlbHRhIiwicHJlY29uZGl0aW9uRXJyb3JlZCIsIl9tZXRhIiwiYmxvYlN1cHBvcnQiLCJvbkFsbERvY3NQcm9jZXNzZWQiLCJ1cGRhdGVEb2NDb3VudElmUmVhZHkiLCJkb2NDb3VudCIsIm5ld1JldklzRGVsZXRlZCIsImlzVXBkYXRlIiwiY29sbGVjdFJlc3VsdHMiLCJmaW5pc2hEb2MiLCJhdHRhY2htZW50U2F2ZWQiLCJuZXdBdHQiLCJzYXZlQXR0YWNobWVudCIsIndyaXRlQXR0YWNobWVudHMiLCJhZnRlclB1dERvYyIsInJldnNUb0RlbGV0ZSIsImNvbXBhY3RUcmVlIiwibWV0YWRhdGFUb1N0b3JlIiwiYWZ0ZXJQdXRNZXRhZGF0YSIsImF0dHNBZGRlZCIsImF0dHNUb0FkZCIsIm9uZXJyb3IiLCJpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MiLCJwdXRSZXEiLCJvdmVyYWxsRXJyIiwiZG9jdiIsInJlY3YiLCJwcm9jZXNzZWRBdHRhY2htZW50IiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzIiwidHhuUmVzdWx0Iiwib25hYm9ydCIsIm9udGltZW91dCIsIm9uY29tcGxldGUiLCJmaW5pc2giLCJkaWdlc3RzIiwiZmlsZW5hbWUiLCJ2ZXJpZnlBdHRhY2htZW50IiwiYXR0RXJyIiwidmVyaWZ5QXR0YWNobWVudHMiLCJudW1GZXRjaGVkIiwicmV2c19saW1pdCIsInJlYWRNZXRhZGF0YSIsImZldGNoRXhpc3RpbmdEb2NzIiwic3RhcnRUcmFuc2FjdGlvbiIsInJ1bkJhdGNoZWRDdXJzb3IiLCJrZXlSYW5nZSIsImJhdGNoU2l6ZSIsIm9uQmF0Y2giLCJrZXlzQmF0Y2giLCJ2YWx1ZXNCYXRjaCIsInBzZXVkb0N1cnNvciIsIm9uR2V0QWxsIiwib25HZXRBbGxLZXlzIiwib25DdXJzb3IiLCJnZXRBbGwiLCJnZXRBbGxLZXlzIiwibmV3S2V5UmFuZ2UiLCJsYXN0S2V5IiwidXBwZXIiLCJ1cHBlck9wZW4iLCJjb2RlIiwibG93ZXJCb3VuZCIsImlkYkFsbERvY3MiLCJrZXlSYW5nZUVycm9yIiwiaW5jbHVzaXZlRW5kIiwiaW5jbHVzaXZlX2VuZCIsInVwcGVyQm91bmQiLCJjcmVhdGVLZXlSYW5nZSIsIm9uUmVzdWx0c1JlYWR5IiwidXBkYXRlU2VxIiwib25TdWNjZXNzIiwiZG9jSWRSZXZJbmRleCIsImFsbERvY3NJbm5lciIsImZldGNoRG9jQXN5bmNocm9ub3VzbHkiLCJiYXRjaFZhbHVlcyIsImJhdGNoVmFsdWUiLCJiYXRjaEtleXMiLCJyZXR1cm5WYWwiLCJ0b3RhbF9yb3dzIiwibWF4S2V5IiwiYWxsRG9jc0tleXMiLCJydW5uaW5nIiwiYXBwbHlOZXh0IiwiZG9jSWRzIiwibnVtUmVzdWx0cyIsImRvY0lkc1RvTWV0YWRhdGEiLCJvbkdldE1ldGFkYXRhIiwiZG9jSWRSZXYiLCJvYmplY3RTdG9yZXMiLCJ3aW5uaW5nRG9jcyIsIm1ldGFkYXRhcyIsImZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhIiwid2lubmluZ0RvYyIsInByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MiLCJvbkJhdGNoRG9uZSIsImZpbHRlcmVkIiwiYmxvYlN1cHBvcnRQcm9taXNlIiwiY2FjaGVkREJzIiwib3BlblJlcUxpc3QiLCJJZGJQb3VjaCIsInRyeUNvZGUiLCJlbnF1ZXVlVGFzayIsInRoaXNDYWxsYmFjayIsImlkYkdsb2JhbEZhaWx1cmVFcnJvciIsImVucmljaENhbGxiYWNrRXJyb3IiLCJhZGREZWxldGVkT3JMb2NhbEluZGV4IiwiY3JlYXRlSW5kZXgiLCJ1bmlxdWUiLCJtaWdyYXRlTG9jYWxTdG9yZSIsImxvY2FsU3RvcmUiLCJsb2NhbCIsInJhbmdlIiwic2VxQ3Vyc29yIiwibWlncmF0ZUF0dHNBbmRTZXFzIiwiZGlnZXN0TWFwIiwibWlncmF0ZU1ldGFkYXRhIiwib25HZXRNZXRhZGF0YVNlcSIsIm1ldGFkYXRhU2VxIiwiZmV0Y2hNZXRhZGF0YVNlcSIsImluc3RhbmNlSWQiLCJyZXFPcHRzIiwiaGlzdG9yeU5vZGUiLCJhdHRhY2hJZCIsImF0dGFjaG1lbnQiLCJibG9iRGF0YSIsImRvY19jb3VudCIsImlkYl9hdHRhY2htZW50X2Zvcm1hdCIsIm9sZFJldiIsIm9TdG9yZSIsIm9sZERvYyIsIm9wZW5SZXEiLCJpbmRleGVkREIiLCJkZWxldGVEYXRhYmFzZSIsImNhY2hlZCIsImdsb2JhbCIsIm9wZW4iLCJvbnVwZ3JhZGVuZWVkZWQiLCJvbGRWZXJzaW9uIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiYXV0b0luY3JlbWVudCIsImNyZWF0ZVNjaGVtYSIsImN1cnJlbnRUYXJnZXQiLCJjcmVhdGVMb2NhbFN0b3JlU2NoZW1hIiwiYWRkQXR0YWNoQW5kU2VxU3RvcmUiLCJtaWdyYXRpb25zIiwibWlncmF0aW9uIiwib252ZXJzaW9uY2hhbmdlIiwic3RvcmVkTWV0YURvYyIsImNvbXBsZXRlU2V0dXAiLCJzdG9yZU1ldGFEb2NJZlJlYWR5IiwiaW5zdGFuY2VLZXkiLCJjb3VudERvY3MiLCJibG9iJCQxIiwibWF0Y2hlZENocm9tZSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm1hdGNoZWRFZGdlIiwiY2hlY2tCbG9iU3VwcG9ydCIsInN1cHBvcnRzQnVsa0dldE1hcCIsInJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyIiwiZW5jb2RlRG9jSWQiLCJwcmVwcm9jZXNzQXR0YWNobWVudHMkMSIsImdldEhvc3QiLCJwcm90b2NvbCIsImhhc1VybFByZWZpeCIsInVzZXIiLCJwYXNzd29yZCIsImF1dGgiLCJ1c2VybmFtZSIsImdlbkRCVXJsIiwiZ2VuVXJsIiwicGF0aERlbCIsImhvc3QiLCJwb3J0IiwicGFyYW1zVG9TdHIiLCJIdHRwUG91Y2giLCJkYlVybCIsInNldHVwUHJvbWlzZSIsIm91ckZldGNoIiwiaGVhZGVycyIsImNyZWRlbnRpYWxzIiwibkF1dGgiLCJ0b2tlbiIsInVhIiwiaXNJRSIsImlzVHJpZGVudCIsImlzRWRnZSIsImlzR0VUIiwic2hvdWxkQ2FjaGVCdXN0Iiwibm93IiwiYWRhcHRlckZ1biQkMSIsInNldHVwIiwiZmV0Y2hKU09OIiwidiIsInNraXBfc2V0dXAiLCJlbmNvZGVBdHRhY2htZW50SWQiLCJ1dWlkJCQxIiwicGluZyIsImNvbXBhY3RfcnVubmluZyIsImludGVydmFsIiwiZG9CdWxrR2V0IiwiZG9CdWxrR2V0U2hpbSIsIm51bUJhdGNoZXMiLCJvblJlc3VsdCIsImJhdGNoTnVtIiwic3ViT3B0cyIsInN1cHBvcnRzQnVsa0dldCIsImZldGNoQXR0YWNobWVudHMiLCJmaWxlbmFtZXMiLCJwcm9taXNlRmFjdG9yaWVzIiwiZG9OZXh0IiwicnVuTmV4dEJhdGNoIiwib25FcnJvciIsInRoaXNFcnIiLCJwb29sIiwidHlwZUZpZWxkRGVzY3JpcHRvciIsIl9fcHJvdG9fXyIsImZldGNoRGF0YSIsImRvY09yRG9jcyIsImNvbnRlbnRUeXBlIiwicHJvY2VzcyIsImJyb3dzZXIiLCJwYXJhbVN0ciIsImJhdGNoX3NpemUiLCJoZWFydGJlYXQiLCJyZXF1ZXN0VGltZW91dCIsImxlZnRUb0ZldGNoIiwiZmVlZCIsInNlcV9pbnRlcnZhbCIsInBhcmFtX25hbWUiLCJsYXN0RmV0Y2hlZFNlcSIsImNvbnRyb2xsZXIiLCJhYm9ydGVkIiwiZmV0Y2hPcHRzIiwic2lnbmFsIiwiZmV0Y2hlZCIsInJhd19yZXN1bHRzX2xlbmd0aCIsImZpbmlzaGVkIiwiUXVlcnlQYXJzZUVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJOb3RGb3VuZEVycm9yIiwiQnVpbHRJbkVycm9yIiwicHJvbWlzZWRDYWxsYmFjayIsInNlcXVlbnRpYWxpemUiLCJwcm9taXNlRmFjdG9yeSIsInVuaXEiLCJ0aGVTZXQiLCJtYXBUb0tleXNBcnJheSIsImNyZWF0ZUJ1aWx0SW5FcnJvciIsInN1bSIsImpMZW4iLCJqTnVtIiwibG9nIiwiZXZhbEZ1bmN0aW9uV2l0aEV2YWwiLCJUYXNrUXVldWUkMSIsImNyZWF0ZVZpZXciLCJzb3VyY2VEQiIsInJlZHVjZUZ1biIsInRlbXBvcmFyeSIsImxvY2FsRG9jTmFtZSIsImNhY2hlZFZpZXdzIiwidmlld1NpZ25hdHVyZSIsImNyZWF0ZVZpZXdTaWduYXR1cmUiLCJfY2FjaGVkVmlld3MiLCJwcm9taXNlRm9yVmlldyIsImRlcERiTmFtZSIsImZ1bGxWaWV3TmFtZSIsImRlcERicyIsImxhc3RTZXFEb2MiLCJwZXJzaXN0ZW50UXVldWVzIiwidGVtcFZpZXdRdWV1ZSIsInBhcnNlVmlld05hbWUiLCJlbWl0RXJyb3IiLCJidWlsdEluUmVkdWNlIiwic3Vtc3FyIiwiX3N1bXNxciIsImFic3RyYWN0IiwibWFwcGVyIiwicmVkdWNlciIsImRkb2NWYWxpZGF0b3IiLCJ0cnlNYXAiLCJ0cnlSZWR1Y2UiLCJyZXJlZHVjZSIsIm91dHB1dCIsInNvcnRCeUtleVRoZW5WYWx1ZSIsImtleUNvbXBhcmUiLCJzbGljZVJlc3VsdHMiLCJyb3dUb0RvY0lkIiwicG9zdHByb2Nlc3NBdHRhY2htZW50cyIsImFkZEh0dHBQYXJhbSIsInBhcmFtTmFtZSIsImFzSnNvbiIsImNvZXJjZUludGVnZXIiLCJpbnRlZ2VyQ2FuZGlkYXRlIiwiYXNOdW1iZXIiLCJjaGVja1F1ZXJ5UGFyc2VFcnJvciIsInN0YXJ0a2V5TmFtZSIsImVuZGtleU5hbWUiLCJncm91cF9sZXZlbCIsIm9wdGlvbk5hbWUiLCJudW1iZXIiLCJjaGVja1Bvc2l0aXZlSW50ZWdlciIsImRlZmF1bHRzVG8iLCJnZXREb2NzVG9QZXJzaXN0IiwiZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMiLCJtZXRhRG9jSWQiLCJkZWZhdWx0TWV0YURvYyIsImRvY0RhdGEiLCJpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJpc0dlbk9uZSIsImdldEtleVZhbHVlRG9jcyIsImt2RG9jc1JlcyIsImt2RG9jcyIsIm9sZEtleXMiLCJrZXlWYWx1ZSIsIm5ld0tleXMiLCJrdkRvYyIsInByb2Nlc3NLZXlWYWx1ZURvY3MiLCJnZXRRdWV1ZSIsInVwZGF0ZVZpZXciLCJtYXBSZXN1bHRzIiwiY3VycmVudFNlcSIsImxpc3RPZkRvY3NUb1BlcnNpc3QiLCJkb2NzVG9QZXJzaXN0Iiwic2F2ZUtleVZhbHVlcyIsImluZGV4ZWRfZG9jcyIsInByb2dyZXNzIiwicHJvY2Vzc05leHRCYXRjaCIsImNoYW5nZXNfYmF0Y2hfc2l6ZSIsImNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyIsImNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwicmVzdWx0c19jb3VudCIsImVtaXR0ZWRLZXlWYWx1ZSIsImNvbXBsZXhLZXkiLCJ1cGRhdGVWaWV3SW5RdWV1ZSIsInF1ZXJ5VmlldyIsInRvdGFsUm93cyIsInNob3VsZFJlZHVjZSIsImZldGNoRnJvbVZpZXciLCJ2aWV3T3B0cyIsImV4cGVjdGVkS2V5cyIsInBhcnNlZEtleUFuZERvY0lkIiwicGFyc2VkU3RyIiwicGFyc2VJbmRleGFibGVTdHJpbmciLCJvbk1hcFJlc3VsdHNSZWFkeSIsImZpbmFsUmVzdWx0cyIsInNob3VsZEdyb3VwIiwibHZsIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJsYXN0IiwiZ3JvdXBLZXkiLCJyZWR1Y2VUcnkiLCJyZWR1Y2VWaWV3IiwiYWxsRG9jc1JlcyIsImRvY0lkc1RvRG9jcyIsImZldGNoUHJvbWlzZXMiLCJrZXlTdGFydCIsImtleUVuZCIsInF1ZXJ5Vmlld0luUXVldWUiLCJxdWVyeVByb21pc2VkIiwiX3F1ZXJ5IiwiY3VzdG9tUXVlcnkiLCJrZXlzQXNTdHJpbmciLCJodHRwUXVlcnkiLCJ1cGRhdGVWaWV3T3B0cyIsInZpZXdfdXBkYXRlX2NoYW5nZXNfYmF0Y2hfc2l6ZSIsImZpbmFsUHJvbWlzZUZhY3RvcnkiLCJkZXNpZ25Eb2NOYW1lIiwic3RhbGUiLCJjb2VyY2VPcHRpb25zIiwidmlld0NsZWFudXAiLCJfdmlld0NsZWFudXAiLCJjdXN0b21WaWV3Q2xlYW51cCIsImh0dHBWaWV3Q2xlYW51cCIsImRvY3NUb1ZpZXdzIiwidmlld3NUb1N0YXR1cyIsImRkb2NOYW1lIiwidmlld0RCTmFtZXMiLCJzdGF0dXNJc0dvb2QiLCJ2aWV3REJOYW1lIiwiZGVzdHJveVByb21pc2VzIiwibG9jYWxWaWV3Q2xlYW51cCIsImNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlIiwib3JpZ01hcCIsInJlZHVjZUZ1blN0cmluZyIsImJ1aWx0SW4iLCJnZXRCdWlsdEluIiwibWFwcmVkdWNlIiwiaXNHZW5PbmUkMSIsImdldERvY0F0dGFjaG1lbnRzIiwiZ2V0RG9jcyIsInNyYyIsImRpZmZzIiwicmVzdWx0RG9jcyIsImZldGNoUmV2aXNpb25PbmVEb2NzIiwiaGFzQ29uZmxpY3RzIiwiYnVsa0dldE9wdHMiLCJtaXNzaW5nUmV2IiwiY3JlYXRlQnVsa0dldE9wdHMiLCJidWxrR2V0UmVzcG9uc2UiLCJidWxrR2V0SW5mbyIsInJlbW90ZURvYyIsImRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzIiwiZmlsZUhhc0NoYW5nZWQiLCJnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSIsInVwZGF0ZUNoZWNrcG9pbnQiLCJjaGVja3BvaW50Iiwic2Vzc2lvbiIsInJldHVyblZhbHVlIiwic2Vzc2lvbl9pZCIsInJlcGxpY2F0b3IiLCJDaGVja3BvaW50ZXIiLCJ3cml0ZUNoZWNrcG9pbnQiLCJ1cGRhdGVUYXJnZXQiLCJ1cGRhdGVTb3VyY2UiLCJ3cml0ZVRhcmdldENoZWNrcG9pbnQiLCJ3cml0ZVNvdXJjZUNoZWNrcG9pbnQiLCJpc0ZvcmJpZGRlbkVycm9yIiwiY29tcGFyaXNvbnMiLCJ0YXJnZXREb2MiLCJzb3VyY2VEb2MiLCJzcmNEb2MiLCJ0Z3REb2MiLCJjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5Iiwic291cmNlSGlzdG9yeSIsInRhcmdldEhpc3RvcnkiLCJTIiwic291cmNlUmVzdCIsIlQiLCJ0YXJnZXRSZXN0IiwiaGFzU2Vzc2lvbklkIiwiY29tcGFyZVJlcGxpY2F0aW9uTG9ncyIsInNlc3Npb25JZCIsInByb3BzIiwicmVzdCIsImZsb29yIiwiZ2V0Q2hlY2twb2ludCIsImdlbmVyYXRlUmVwbGljYXRpb25JZCIsInF1ZXJ5UGFyYW1zIiwiZmlsdGVyVmlld05hbWUiLCJzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5IiwicXVlcnlEYXRhIiwibWQ1c3VtIiwicmVwbGljYXRlIiwiY3VycmVudEJhdGNoIiwicmVwSWQiLCJjaGVja3BvaW50ZXIiLCJiYXRjaGVzIiwicGVuZGluZ0JhdGNoIiwid3JpdGluZ0NoZWNrcG9pbnQiLCJjaGFuZ2VzQ29tcGxldGVkIiwicmVwbGljYXRpb25Db21wbGV0ZWQiLCJiYXRjaGVzX2xpbWl0IiwiY2hhbmdlc1BlbmRpbmciLCJjaGFuZ2VkRG9jcyIsInN0YXJ0X3RpbWUiLCJkb2NzX3JlYWQiLCJkb2NzX3dyaXR0ZW4iLCJkb2Nfd3JpdGVfZmFpbHVyZXMiLCJlcnJvcnMiLCJpbml0Q2hlY2twb2ludGVyIiwiY2hlY2twb2ludE9wdHMiLCJ3cml0ZURvY3MiLCJidWxrT3B0cyIsImNvbXBsZXRlUmVwbGljYXRpb24iLCJlcnJvcnNCeUlkIiwiZXJyb3JzTm8iLCJlcnJvck5hbWUiLCJmaW5pc2hCYXRjaCIsIm91dFJlc3VsdCIsImdldENoYW5nZXMiLCJvbkNoZWNrcG9pbnRFcnJvciIsImdldEJhdGNoRG9jcyIsImdvdCIsInN0YXJ0TmV4dEJhdGNoIiwiYWJvcnRSZXBsaWNhdGlvbiIsInByb2Nlc3NQZW5kaW5nQmF0Y2giLCJpbW1lZGlhdGUkJDEiLCJmYXRhbEVycm9yIiwiZW5kX3RpbWUiLCJyZXRyeSIsImJhY2tfb2ZmX2Z1bmN0aW9uIiwiYmFja09mZlNldCIsImN1cnJlbnRfYmFja19vZmYiLCJiYWNrT2ZmIiwib25DaGFuZ2VzQ29tcGxldGUiLCJvbkNoYW5nZXNFcnJvciIsIl9hYm9ydENoYW5nZXMiLCJhYm9ydENoYW5nZXMiLCJzdGFydENoYW5nZXMiLCJfYWRkZWRMaXN0ZW5lcnMiLCJSZXBsaWNhdGlvbiIsInRvUG91Y2giLCJQb3VjaENvbnN0cnVjdG9yIiwicmVwbGljYXRlV3JhcHBlciIsInJlcGxpY2F0ZVJldCIsIlN5bmMiLCJjYW5jZWxlZCIsIm9wdHNQdXNoIiwib3B0c1B1bGwiLCJwdWxsIiwicHVsbENoYW5nZSIsInB1c2hDaGFuZ2UiLCJwdXNoRGVuaWVkIiwicHVsbERlbmllZCIsInB1c2hQYXVzZWQiLCJwdWxsUGF1c2VkIiwicHVzaEFjdGl2ZSIsInB1bGxBY3RpdmUiLCJyZW1vdmVkIiwicmVtb3ZlQWxsIiwiYWRkT25lTGlzdGVuZXIiLCJvdXQiLCJjbGVhbnVwIiwiX3JlYWR5Q2FsbGVkIiwicmVwbGljYXRlTWV0aG9kcyIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0Iiwibm9vcCIsImVudiIsImFyZ3YiLCJ2ZXJzaW9ucyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiX25vZGVJZCIsIl9jbG9ja3NlcSIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwiY2xvY2tzZXEiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIm5zZWNzIiwiZHQiLCJ0bCIsInRtaCIsImdlbmVyYXRlVVVJRCIsIm5hbWVzcGFjZSIsInN0cmluZ1RvQnl0ZXMiLCJoYXNoZnVuYyIsIkROUyIsIlVSTCIsImdldE91dHB1dExlbmd0aCIsImlucHV0TGVuZ3RoOCIsInNhZmVBZGQiLCJsc3ciLCJtZDVjbW4iLCJxIiwiY250IiwibWQ1ZmYiLCJtZDVnZyIsIm1kNWhoIiwibWQ1aWkiLCJ2MzUiLCJsZW5ndGgzMiIsIm1kNVRvSGV4RW5jb2RlZEFycmF5Iiwib2xkYSIsIm9sZGIiLCJvbGRjIiwib2xkZCIsIndvcmRzVG9NZDUiLCJsZW5ndGg4IiwiVWludDMyQXJyYXkiLCJieXRlc1RvV29yZHMiLCJmIiwieiIsIlJPVEwiLCJLIiwiSCIsIk4iLCJNIiwiX2kiLCJwb3ciLCJfaTIiLCJXIiwiX3QiLCJfdDIiLCJjcmVhdGVTaGlmdEFyciIsInN0ZXAiLCJzcGFjZSIsIml4IiwidmtiZWF1dGlmeSIsImlzU3VicXVlcnkiLCJwYXJlbnRoZXNpc0xldmVsIiwic3BsaXRfc3FsIiwidGFiIiwieG1sIiwiYXIiLCJpbkNvbW1lbnQiLCJkZWVwIiwiY3NzIiwic3FsIiwiYXJfYnlfcXVvdGUiLCJ4bWxtaW4iLCJwcmVzZXJ2ZUNvbW1lbnRzIiwianNvbm1pbiIsImNzc21pbiIsInNxbG1pbiIsImNvbmZpcm0iLCJzcGxpdERpc2FibGUiLCJjYXB0dXJlIiwiY2xpY2thd2F5SGFuZGxlciIsInJlc2V0SGFuZGxlciIsIm5jSWQiLCJxdWV1ZU1pY3JvdGFzayIsIk11dGF0aW9uIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJoYW5kbGUiLCJvYnNlcnZlciIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJzY3JpcHRFbCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiZG9jdW1lbnRFbGVtZW50IiwibWVpIiwibWFuaWZlc3QiLCJsb2NhbE1hbmlmZXN0IiwibWVpUHJvbWlzZSIsIm1laVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJiZ1Byb21pc2UiLCJiZ1JlYWRlciIsIm1laVVyaSIsImJnVXJpIiwic2luZ2xlIiwiYWxlcnQiLCJuZXdOYW1lIiwibWFuaWZlc3RCbG9iIiwibWFuaWZlc3RUZXh0IiwibmV3TWFuaWZlc3RCbG9iIiwiZG9jdW1lbnRzQ29udGFpbmVyIiwiYmFja2dyb3VuZEFyZWEiLCJvcGVuQnV0dG9uIiwicmVtb3ZlQnV0dG9uIiwibmF2UGF0aENvbnRhaW5lciIsImJhY2tCdXR0b24iLCJlbXB0eUJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsInVwbG9hZERvY3VtZW50c0J1dHRvbiIsIm5ld0ZvbGRlckJ1dHRvbiIsInNoaWZ0U2VsZWN0aW9uIiwiU2hpZnRTZWxlY3Rpb25NYW5hZ2VyIiwiZnNtIiwiZGFzaGJvYXJkU3RhdGUiLCJtYWluU2VjdGlvbiIsImNvbnRleHRNZW51IiwiY29udGV4dE1lbnVDb250ZW50V3JhcHBlciIsIm1ldGFLZXlJc1ByZXNzZWQiLCJzaGlmdEtleUlzUHJlc3NlZCIsImN1cnJlbnREcmFnVGFyZ2V0IiwicmlnaHRDbGlja2VkIiwib3BlblVwbG9hZEFyZWFIYW5kbGVyIiwiSW5pdFVwbG9hZEFyZWEiLCJnZXRQYXJlbnRGb2xkZXIiLCJvcGVuRWRpdG9yVGFiIiwiaXNTYW1wbGUiLCJzdG9yYWdlIiwiZW50cnkiLCJnZXRFbnRyaWVzIiwiYXQiLCJzZXRTZWxlY3Rpb24iLCJ1bnNlbGVjdEFsbCIsInRpbGUiLCJyZXNldFNlbGVjdGlvbiIsImFkZFRpbGVFdmVudExpc3RlbmVyIiwidXBkYXRlRGFzaGJvYXJkIiwiZ2V0Rm9sZGVyUGF0aCIsIm9wZW5Eb2NzSGFuZGxlciIsIl9lIiwic2hpZnRTZWxlY3Rpb25IYW5kbGVyIiwiYWRkU2hpZnRTZWxlY3Rpb25MaXN0ZW5lciIsImdldFNlbGVjdGVkRW50cmllcyIsInNob3dDb250ZXh0TWVudSIsImNsaWNrZWRFbGVtZW50IiwiY2xpY2tlZEVudHJ5IiwiZ2V0RW50cnlCeUlkIiwiZ2V0SW5kZXhCeUVudHJ5TmFtZSIsImFkZFNwZWNpZmljQ29udGV4dE1lbnVMaXN0ZW5lcnMiLCJnZXRTZWxlY3Rpb24iLCJzZXRTdGFydCIsImdldFByZXZTZWxlY3Rpb24iLCJzZXRFbmQiLCJ1cGRhdGVBY3Rpb25CYXJCdXR0b25zIiwidXBkYXRlRlNCdXR0b25zIiwiZ2V0U2VsZWN0ZWRGb2xkZXJzIiwiZ2V0U2VsZWN0ZWRUcmFzaCIsImdldFNlbGVjdGVkRmlsZXMiLCJkb2N1bWVudFR5cGUiLCJvcGVuRmlsZSIsInJlbW92ZURvY3NIYW5kbGVyIiwic2VsZWN0ZWRFbnRyaWVzIiwicGFyZW50Rm9sZGVyIiwidHJhc2hGb2xkZXIiLCJnZXRUcmFzaEZvbGRlciIsImRhdGV0aW1lIiwidG9Mb2NhbGVTdHJpbmciLCJhZGRNZXRhZGF0YSIsInJlbW92ZWRfb24iLCJyZWNvdmVyX2ZvbGRlciIsImdldEZvbGRlclBhdGhOYW1lcyIsIm1vdmVUb0ZvbGRlciIsImRlbGV0ZUZpbGVFbnRyeSIsImZpbGUiLCJkZWxldGVEb2N1bWVudCIsInJlbW92ZUVudHJ5IiwiZGVsZXRlRm9sZGVyRW50cnkiLCJmb2xkZXIiLCJkZWxldGVQcm9taXNlcyIsImRlbGV0ZURvY3NIYW5kbGVyIiwiYWxsRW50cmllcyIsImFsZXJ0TWVzc2FnZSIsImVudHJ5QXJyYXkiLCJkZWJ1ZyIsImVtcHR5VHJhc2hIYW5kbGVyIiwiaXNJblRyYXNoIiwiYnV0dG9uQ2xvbmUiLCJjbG9uZU5vZGUiLCJyZXBsYWNlQ2hpbGQiLCJoYW5kbGVOYXZpZ2F0ZUJhY2siLCJhZGREcm9wVGFyZ2V0TGlzdGVuZXJzIiwidXBkYXRlQmFja0J1dHRvbiIsInVwZGF0ZUVtcHR5QnV0dG9uIiwidXBkYXRlRGVsZXRlQnV0dG9uIiwibmV3UGF0aCIsInNldEZvbGRlclBhdGgiLCJjdXJyZW50Rm9sZGVyIiwic2V0RW50cmllcyIsImljb24iLCJjcmVhdGVUaWxlIiwibmF2RWxlbWVudHMiLCJuYXZTZWN0aW9uIiwidGFyZ2V0UGF0aCIsIm5hdkVsZW1lbnQiLCJzZXBlcmF0b3IiLCJ1cGRhdGVOYXZQYXRoIiwiaW5mb0JhZGdlIiwiZGF0YVRyYW5zZmVyIiwiZWZmZWN0QWxsb3dlZCIsInNldEZpbGVTeXN0ZW0iLCJkZXN0aW5hdGlvbkZvbGRlciIsImRyYWdFbnRyeSIsImNyZWF0ZUhhbmRsZURyb3AiLCJuZXdGb2xkZXIiLCJlcnJvck1lc3NhZ2VzIiwidHJhc2hGTkNvbmZsaWN0SGFuZGxlciIsImNhbk1vdmVFbnRyeSIsInN1Y2NlZWRlZCIsIm1vdmVFbnRyeSIsIm9wZW5Nb3ZlVG9XaW5kb3ciLCJtb2RhbFdpbmRvdyIsIk1vZGFsV2luZG93Iiwic2V0TW9kYWxXaW5kb3dWaWV3Iiwib3Blbk1vZGFsV2luZG93Iiwicm9vdFRyZWUiLCJtb3ZlVG9DYWxsYmFjayIsImdlbmVyYXRlRm9sZGVyVHJlZSIsImRlZ3JlZSIsImxpQ29udGFpbmVyIiwiZm9sZGVyTmFtZSIsInVsIiwiYXJyb3ciLCJmb2xkZXJUcmVlIiwiZ2VuZXJhdGVSb290VHJlZSIsIm5ld1BhcmVudEZvbGRlciIsInRyZWVDb250YWluZXIiLCJtb2RhbENvbnRhaW5lciIsIm9wZW5OZXdGb2xkZXJXaW5kb3ciLCJpbnB1dENvbnRhaW5lciIsImNhbmNlbEJ1dHRvbiIsInBsYWNlaG9sZGVyIiwiY29uZmlybU5ld0ZvbGRlckFjdGlvbiIsIm5hbWVFeGlzdHMiLCJuZXdGb2xkZXJUaWxlIiwiY3JlYXRlRm9sZGVyIiwiYWRkRW50cnkiLCJoYW5kbGVBZGRGb2xkZXIiLCJvcGVuUmVuYW1lV2luZG93IiwicHJldk5hbWUiLCJjb25maXJtUmVuYW1lQWN0aW9uIiwicmVuYW1lRW50cnkiLCJ1cGRhdGVEb2NOYW1lIiwibnVtYmVyT2ZTZWxlY3RlZEZpbGVzIiwibnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMiLCJzZWxlY3RlZFRyYXNoIiwiY29udGV4dE1lbnVDb250ZW50IiwidHJhc2hFbnRyeU9wdGlvbnMiLCJzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMiLCJtdWx0aUZpbGVPcHRpb25zIiwiZm9sZGVyQW5kRmlsZU9wdGlvbnMiLCJtdWx0aUZvbGRlck9wdGlvbnMiLCJzaW5nbGVGb2xkZXJPcHRpb25zIiwic2luZ2xlRmlsZU9wdGlvbnMiLCJ0cmFzaEZvbGRlck9wdGlvbnMiLCJkZWZhdWx0T3B0aW9ucyIsImRlbGV0ZUJ0biIsInJlbmFtZUJ0biIsIm1vdmVCdG4iLCJ1cGRhdGVEb2NCdG4iLCJuZXdGb2xkZXJCdG4iLCJ0b3AiLCJidG5DbGFzc25hbWUiLCJmb2xkZXJQYXRoTmFtZXMiLCJ0YXJnZXRGb2xkZXIiLCJnZXRGb2xkZXJQYXRoQnlOYW1lcyIsInJlbW92ZU1ldGFkYXRhIiwiZGF0ZVRpbWVQYXR0ZXJuIiwicHV0QmFja0RvY3NIYW5kbGVyIiwidXBkYXRlVHJhc2giLCJuZXdUcmFzaCIsImN1cnJlbnREYXRlIiwidGhpcnR5RGF5c0FnbyIsImdldFRpbWUiLCJ0b0RlbGV0ZSIsInNoaWZ0S2V5IiwibG9hZERhc2hib2FyZCIsImdldFJvb3QiLCJjcmVhdGVFbnRyeSIsIkZpbGUiLCJjYW5BZGRFbnRyeSIsImlzSW1tdXRhYmxlIiwicmV0dXJuT2JqIiwiY2FuUmVtb3ZlRW50cnkiLCJleGlzdHNJblBhcmVudCIsImZpbmRJbmRleCIsImlzSW1tdXRhYmxlUGFyZW50IiwiaXNJbW11dGFibGVFbnRyeSIsIm5ld1BhcmVudCIsImlzU2FtZSIsImlzSW1tdXRhYmxlTmV3UGFyZW50IiwibmV3UGFyZW50SXNDaGlsZE9mRW50cnkiLCJGb2xkZXIiLCJpc0NoaWxkT2YiLCJjYW5SZW5hbWVFbnRyeSIsImxvY2FsZUNvbXBhcmUiLCJjcmVhdGVUcmFzaCIsIlRyYXNoIiwiY3JlYXRlRmlsZSIsIm1vdmVSZXNwb25zZSIsImdldEFsbE5hbWVzIiwiZ2V0RmlsZVN5c3RlbSIsImZzIiwic2FtcGxlRW50cmllcyIsInNhbXBsZXMiLCJpbW11dGFibGUiLCJzYW1wbGVzRm9sZGVyIiwic2FtcGxlIiwibG9hZFNhbXBsZXMiLCJ1cGxvYWRzIiwiZmV0Y2hVcGxvYWRzIiwidXBsb2FkIiwibG9hZFByZXZpb3VzVXBsb2FkcyIsInByZXZTZWxlY3Rpb24iLCJvcmRlcmVkU2VsZWN0aW9uIiwic3BlY2lmaWNTZWxlY3Rpb24iLCJvcmRlcmVkRW50cmllcyIsImZvbGRlclBhdGgiLCJfcm9vdCIsInJvb3RGb2xkZXIiLCJib29sIiwiZm9sZGVyTmFtZXMiLCJwYWlyQnV0dG9uIiwidXBsb2FkQnV0dG9uIiwiaGFuZGxlTWFrZVBhaXIiLCJzcGlubmVyIiwiaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzIiwiaGFuZGxlVXBsb2FkVXBkYXRlIiwiZmlsZVNlbGVjdG9yIiwibXVsdGlwbGUiLCJmaWxlTGlzdCIsImZpbGVzIiwicmVqZWN0RmlsZXMiLCJhZGROZXdGaWxlcyIsInVwbG9hZF9hcmVhIiwib25kcmFnbGVhdmUiLCJvbmRyYWdvdmVyIiwiZHJvcEVmZmVjdCIsIm9uZHJvcCIsInNvcnRCeU5hbWVCdG4iLCJzb3J0RmlsZUJ5TmFtZSIsImZtIiwiZ2V0SW5zdGFuY2UiLCJjcmVhdGVVbnBhaXJlZEl0ZW0iLCJyYWRpb05hbWUiLCJyYWRpbyIsImxhYmVsIiwiZm9ybWF0RmlsZW5hbWUiLCJkZWxCdG4iLCJtYXhMZW4iLCJjaHVua0xlbiIsImZuQ29uZmxpY3RIYW5kbGVyIiwiZXhpc3RpbmdOYW1lcyIsIm5ld0ZpbGVuYW1lIiwiY291bnRlciIsImluY2x1ZGVzIiwic2V0TWVpVGVtcGxhdGUiLCJtZWlfY29udGFpbmVyIiwiaW1hZ2VfY29udGFpbmVyIiwiZXh0IiwidW5wYWlyZWRJdGVtIiwiYWRkRmlsZSIsInBhaXJlZF9jb250YWluZXIiLCJzZWxlY3RlZE1laUVsZW1lbnQiLCJzZWxlY3RlZEltYWdlRWxlbWVudCIsIm1laV9maWxlbmFtZSIsImltYWdlX2ZpbGVuYW1lIiwiaXNDcmVhdGVkIiwiZm4iLCJnZXRJbWdEaW1lbnNpb24iLCJkaW1lbnNpb25zIiwibmV3TWVpRmlsZSIsImNyZWF0ZU1laUZpbGUiLCJwYWlyZWRfZWwiLCJmb2xpbyIsImZvbGlvX2ZpbGVuYW1lIiwiaGFuZGxlVW5wYWlyIiwiaXNDcmVhdGVkRm9saW8iLCJyZW1vdmVGb2xpbyIsIm1laUl0ZW0iLCJpbWFnZUl0ZW0iLCJ1bnBhaXJCdG4iLCJjcmVhdGVQYWlyZWRGb2xpbyIsImFkZEZvbGlvIiwiZ2V0Rm9saW9zIiwiaW1hZ2UiLCJjcmVhdGVNYW5pZmVzdCIsImFkZERvY3VtZW50IiwiZmlsZUVudHJ5IiwiZm9saW9FbnRyeSIsImNyZWF0ZWRfb24iLCJ1cGxvYWRGb2xpbyIsImNsZWFyIiwibmV4dEVsZW1lbnRTaWJsaW5nIiwiZmlsZUVsZW1lbnRzIiwiaXNBc2NlbmRpbmciLCJuYW1lQSIsIm5hbWVCIiwiVXBsb2FkRmlsZU1hbmFnZXIiLCJhbGxGaWxlcyIsImZvbGlvcyIsImluc3RhbmNlIiwidXBkYXRlZEVudHJ5IiwiZ2V0RmlsZUNvdW50IiwibmV3RW50cnkiLCJ0ZW1wbGF0ZVBhdGgiLCJtZWlUZW1wbGF0ZSIsIkRPTVBhcnNlciIsInNlcmlhbGl6ZXIiLCJYTUxTZXJpYWxpemVyIiwibWVpRG9jIiwicGFyc2VGcm9tU3RyaW5nIiwic3VyZmFjZSIsIm1laUZpbGVDb250ZW50Iiwic2VyaWFsaXplVG9TdHJpbmciLCJtZWlCbG9iIiwiaW1nRmlsZSIsImdldEZpbGUiLCJvbmxvYWQiLCJpbWciLCJJbWFnZSIsIm5ld0ZvbGlvIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hC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ZUFDVCx5Y0FVUyxFQUFBRixrQkFDVCxpM0JBa0JTLEVBQUFKLGlCQUNULG9wQkFjUyxFQUFBQyxxQkFDVCxzYkFVUyxFQUFBRSxvQkFDVCxpM0JBa0JTLEVBQUFELG1CQUNULDZiQVVTLEVBQUFHLG1CQUNULG9PQU1TLEVBQUFQLGtCQUNUIiwiZmlsZSI6ImRhc2hib2FyZC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA4Nyk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHR5cGVzID0gW1xuICByZXF1aXJlKCcuL25leHRUaWNrJyksXG4gIHJlcXVpcmUoJy4vcXVldWVNaWNyb3Rhc2snKSxcbiAgcmVxdWlyZSgnLi9tdXRhdGlvbi5qcycpLFxuICByZXF1aXJlKCcuL21lc3NhZ2VDaGFubmVsJyksXG4gIHJlcXVpcmUoJy4vc3RhdGVDaGFuZ2UnKSxcbiAgcmVxdWlyZSgnLi90aW1lb3V0Jylcbl07XG52YXIgZHJhaW5pbmc7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgfVxuICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgbmV4dFRpY2soKTtcbiAgfVxufVxuXG4vL25hbWVkIG5leHRUaWNrIGZvciBsZXNzIGNvbmZ1c2luZyBzdGFjayB0cmFjZXNcbmZ1bmN0aW9uIG5leHRUaWNrKCkge1xuICBpZiAoZHJhaW5pbmcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NoZWR1bGVkID0gZmFsc2U7XG4gIGRyYWluaW5nID0gdHJ1ZTtcbiAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gIHdoaWxlIChsZW4pIHtcbiAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICBxdWV1ZSA9IFtdO1xuICAgIHdoaWxlIChjdXJyZW50UXVldWUgJiYgKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgfVxuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIH1cbiAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgcXVldWVJbmRleCA9IC0xO1xuICBkcmFpbmluZyA9IGZhbHNlO1xuICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG52YXIgc2NoZWR1bGVEcmFpbjtcbnZhciBpID0gLTE7XG52YXIgbGVuID0gdHlwZXMubGVuZ3RoO1xud2hpbGUgKCsraSA8IGxlbikge1xuICBpZiAodHlwZXNbaV0gJiYgdHlwZXNbaV0udGVzdCAmJiB0eXBlc1tpXS50ZXN0KCkpIHtcbiAgICBzY2hlZHVsZURyYWluID0gdHlwZXNbaV0uaW5zdGFsbChuZXh0VGljayk7XG4gICAgYnJlYWs7XG4gIH1cbn1cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICB0aGlzLmZ1biA9IGZ1bjtcbiAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZnVuID0gdGhpcy5mdW47XG4gIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7XG4gIHN3aXRjaCAoYXJyYXkubGVuZ3RoKSB7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gZnVuKCk7XG4gIGNhc2UgMTpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdKTtcbiAgY2FzZSAyOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdKTtcbiAgY2FzZSAzOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdLCBhcnJheVsyXSk7XG4gIGRlZmF1bHQ6XG4gICAgcmV0dXJuIGZ1bi5hcHBseShudWxsLCBhcnJheSk7XG4gIH1cblxufTtcbm1vZHVsZS5leHBvcnRzID0gaW1tZWRpYXRlO1xuZnVuY3Rpb24gaW1tZWRpYXRlKHRhc2spIHtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICB9XG4gIHF1ZXVlLnB1c2gobmV3IEl0ZW0odGFzaywgYXJncykpO1xuICBpZiAoIXNjaGVkdWxlZCAmJiAhZHJhaW5pbmcpIHtcbiAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgIHNjaGVkdWxlRHJhaW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi9Db2xvcic7XG5pbXBvcnQgeyB1cGRhdGVIaWdobGlnaHQsIGdldEhpZ2hsaWdodFR5cGUgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCAqIGFzIEdyb3VwaW5nIGZyb20gJy4uL1NxdWFyZUVkaXQvR3JvdXBpbmcnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IHsgQXR0cmlidXRlcywgU2VsZWN0aW9uVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbi8qKlxuICogQHJldHVybnMgVGhlIHNlbGVjdGlvbiBtb2RlIGNob3NlbiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblR5cGUgKCk6IFNlbGVjdGlvblR5cGUge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsLWJ5IGlzLWFjdGl2ZScpO1xuICBpZiAoZWxlbWVudC5sZW5ndGggIT09IDApIHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5pZCBhcyBTZWxlY3Rpb25UeXBlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVW5zZWxlY3QgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFuZCBydW4gdW5kbyBhbnkgZXh0cmFcbiAqIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdCAoKTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uby1tb3ZpbmcnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IFxuICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ25vLW1vdmluZycpKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykuZm9yRWFjaCgoc2VsZWN0ZWQ6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBpZiAoc2VsZWN0ZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBzZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBDb2xvci51bmhpZ2hsaWdodChzZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHNlbGVjdGVkLnN0eWxlLmZpbGwgPSAnJztcbiAgICB9XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goKGRpdkxpbmU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBkaXZMaW5lLnN0eWxlLnN0cm9rZSA9ICcnO1xuICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgfSk7XG4gIFxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgbmV1bWUuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH0pO1xuICBcbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goKHN5bFJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBzeWxSZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpIHtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuc3R5bGUuZmlsbCA9ICcnO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICAgICAgXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaCgoZGl2TGluZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9KTtcbiAgICBcbiAgICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKSkuZm9yRWFjaCgobmV1bWU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG4gIFxuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXh0LXNlbGVjdCcpKS5mb3JFYWNoKChlbDogU1ZHRWxlbWVudCkgPT4ge1xuICAgIGVsLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgZWwuc3R5bGUuZm9udFdlaWdodCA9ICcnO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2VsZWN0Jyk7XG4gIH0pO1xuICBcbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICBHcm91cGluZy5lbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhIHN0YWZmIGVsZW1lbnQuXG4gKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdGFmZiAoc3RhZmY6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzdGFmZi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KHN0YWZmKTtcbiAgICBDb2xvci5oaWdobGlnaHQoc3RhZmYsICcjZDAwJyk7XG4gICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhIGxheWVyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbGF5ZXJFbGVtZW50IC0gVGhlIGxheWVyIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0TGF5ZXJFbGVtZW50IChsYXllckVsZW1lbnQ6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFsYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQobGF5ZXJFbGVtZW50KTtcbiAgICBDb2xvci5oaWdobGlnaHQobGF5ZXJFbGVtZW50LCAnI2QwMCcpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIHNlbGVjdCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBlbCAtIEVsZW1lbnQgdG8gc2VsZWN0LlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gT25seSB1c2VkIGZvciBzdGF2ZXMuXG4gKiBAcGFyYW0gbmVlZHNIaWdobGlnaHRVcGRhdGUgLSBXaGV0aGVyIGFsbCB0aGUgZ3JvdXAncyBoaWdobGlnaHRzIHNob3VsZCBiZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIGRyYWdIYW5kbGVyPzogRHJhZ0hhbmRsZXIsIG5lZWRzSGlnaGxpZ2h0VXBkYXRlID0gdHJ1ZSk6IHZvaWQge1xuICAvLyBJZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0LCBleGl0XG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdFN0YWZmKGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgIHJldHVybiBzZWxlY3RMYXllckVsZW1lbnQoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0JykgJiZcbiAgICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0LWRpc3BsYXknKSkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgLy8gc2V0IGZpbGwgdG8gcmVkXG4gICAgLy8gc2V0IHN0cm9rZSB0byByZWQgb25seSBpZiBzZWxlY3RlZCBlbGVtIGlzIGEgZGl2TGluZVxuICAgIGVsLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgZWwuc3R5bGUuc3Ryb2tlID0gKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKT8gJyNkMDAnIDogJ2JsYWNrJztcblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCBjb2xvciBvZiB0aGUgY29ycmVzcG9uZGluZyB0ZXh0IGluIHRoZSB0ZXh0IHBhbmVsIHRvIHJlZFxuICAgIGxldCBzeWxJZDtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBzeWxJZCA9IGVsLmlkO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgIHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgfVxuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChuZWVkc0hpZ2hsaWdodFVwZGF0ZSkge1xuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG59XG4gICAgXG5cbi8qKlxuICogU2VsZWN0IGFuIG5jLlxuICogQHBhcmFtIGVsIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdE5jcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFlbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZWxlY3QocGFyZW50KTtcbiAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwYXJlbnQsIG5lb25WaWV3KSkge1xuICAgICAgY29uc3QgcHJldk5jID0gcGFyZW50LnByZXZpb3VzU2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHByZXZOYywgbmVvblZpZXcpKSB7XG4gICAgICAgIHNlbGVjdChwcmV2TmMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dE5jID0gcGFyZW50Lm5leHRTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShuZXh0TmMsIG5lb25WaWV3KSkge1xuICAgICAgICAgIHNlbGVjdChuZXh0TmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IE5laXRoZXIgcHJldiBvciBuZXh0IG5jIGFyZSBsaWdhdHVyZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmMnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gYWN0aW9uIHRyaWdnZXJlZCEnKTtcbiAgICB9XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBuYyAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgW1tOZW9uVmlld11dIGZvciB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbmV1bWUgY29tcG9uZW50IGlzIHBhcnQgb2YgYSBsaWdhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTGlnYXR1cmUgKG5jOiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgbmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gIHJldHVybiBCb29sZWFuKGF0dHJpYnV0ZXMubGlnYXRlZCk7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBsaXN0IG9mIGVsZW1lbnRzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBsb2dpY2FsbHkgYWRqYWNlbnQgdG8gZWFjaCBvdGhlci5cbiAqIEluY2x1ZGVzIGVsZW1lbnRzIHRoYXQgYXJlIG9uIHNlcGFyYXRlIHN0YXZlcyBidXQgd291bGQgb3RoZXJ3aXNlIGJlIG5leHQgdG8gZWFjaCBvdGhlci5cbiAqIENhbiBub3QgYXBwbHkgdG8gZWxlbWVudHMgb2YgdHlwZSBuZXVtZSBjb21wb25lbnQuXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHVzZXIgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgb2YgaW50ZXJlc3RcbiAqIEByZXR1cm5zIHRydWUgaWYgZWxlbWVudHMgYXJlIGFkamFjZW50LCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZUFkamFjZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIC8vIDIgZWxlbWVudHMgY2Fubm90IGJlIGFkamFjZW50IGlmIHRoZXJlIGlzIG9ubHkgMSBlbGVtZW50XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gZ2V0IGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFzIHNlbGVjdGlvblR5cGVcbiAgbGV0IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlOiBIVE1MRWxlbWVudFtdO1xuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBXZSBhdXRvbWF0aWNhbGx5IHJldHVybiAndHJ1ZScgZm9yIG5ldW1lcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHVzZXIgdG8gYmUgXG4gICAgICAvLyBhbGxvd2VkIHRvIGdyb3VwIHR3byBuZXVtZXMgaW4gc2VwYXJhdGUgc3lsbGFiZXMgd2l0aG91dCBoYXZpbmcgdG8gcGFyZm9ybSBvdGhlclxuICAgICAgLy8gc3RlcHMgZmlyc3QuIFllcywgdGhlcmUgaXMgYSB0cmFkZS1vZmYgLSB0aGlzIGFsbG93cyB1c2VycyB0byB0cnkgYW5kIGdyb3VwIGFueSBcbiAgICAgIC8vIHR3byBub24tYWRqYWNlbnQgbmV1bWVzLCBidXQgaXQgd2FzIGRlY2lkZWQgdGhhdCB0aGUgYmVuZWZpdHMgKHNwZWVkIGFuZCBlZmZpY2llbmN5KVxuICAgICAgLy8gb3V0d2VpZ2ggdGhlIGNvc3RzICh1c2VyIHRyeWluZyBhbiBpbGxlZ2FsIGVkaXQpLlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gU29ydCBTRUxFQ1RFRCBlbGVtZW50cyBpbiBvcmRlciBvZiBhcHBlYXJhbmNlIGJ5IFxuICAvLyBtYXRjaGluZyB0byBvcmRlciBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaT0wOyBpPGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaj0wOyBqPGVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoYWxsRWxlbXNPZlNlbGVjdGlvblR5cGVbaV0uaXNTYW1lTm9kZShlbGVtZW50c1tqXSkpIHtcbiAgICAgICAgc29ydGVkRWxlbWVudHMucHVzaChlbGVtZW50c1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IGNoZWNrIGlmIFNFTEVDVEVEIGVsZW1lbnRzIGFyZSBhbGwgYWRqYWNlbnQgKGluIGEgcm93KSBieSBcbiAgLy8gZmluZGluZyBhbmQgY29tcGFyaW5nIHRoZWlyIGluZGVjZXMgaW4gdGhlIGFycmF5IG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBmb3IgKGxldCBpPTA7IGk8c29ydGVkRWxlbWVudHMubGVuZ3RoLTE7IGkrKykge1xuICAgIGNvbnN0IGZpcnN0RWxlbSA9IHNvcnRlZEVsZW1lbnRzW2ldO1xuICAgIGNvbnN0IHNlY29uZEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpKzFdO1xuXG4gICAgY29uc3QgaW5kZXgxID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihmaXJzdEVsZW0pO1xuICAgIGNvbnN0IGluZGV4MiA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2Yoc2Vjb25kRWxlbSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoaW5kZXgxIC0gaW5kZXgyKSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIGFycmF5IG9mIGVsZW1lbnRzIGFsbCBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudC5cbiAqIEZvciBleGFtcGxlOiBJZiBhbGwgbmV1bWVzIGFyZSBpbiB0aGUgc2FtZSBzeWxsYWJsZS5cbiAqIFxuICogTm90ZSEhIFRoZXJlIGlzIGN1cnJlbnRseSBubyBsb2dpYyBmb3IgdHJlYXRpbmcgbGF5ZXIgZWxlbWVudHMgYW5kIGJib3hlcyFcbiAqIE5vdGUhISBGdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBmb3Igc3RhdmUgZWxlbWVudHMuIChTaG91bGQgaXQ/Pz8pXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHRoZSBjdXJyZW50IE5lb24gc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgaW4gcXVlc3Rpb25cbiAqIEByZXR1cm5zIHRydWUgaWYgYWxsIGVsZW1lbnRzIHNoYXJlIHRoZSBzYW1lIGxvZ2ljYWwgcGFyZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsZW0gPT4gIShlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpKTtcblxuICBpZiAoIWVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTdGFmZiA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3RhZmYpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgY29uc3QgcmVmZXJlbmNlUGFyZW50U3lsbGFibGUgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICAgIGZvciAobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN5bGxhYmxlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBcbiAqIEZvciBleGFtcGxlLCBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIG9mIHR5cGUgbmV1bWUsIG9yIHN5bGxhYmxlLCBldGMuXG4gKiBcbiAqIE5vdGUhISBUaGVyZSBpcyBubyBsb2dpYyBjdXJyZW50bHkgaW1wbGVtZW50ZWQgZm9yIGxheWVyIGVsZW1lbnRzIG9yIGJib3hlcy5cbiAqIFxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgbWF0Y2ggc2VsZWN0aW9uIG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byBjb21wYXJlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSBwYXJlbnQgdXAgdHdvIGxldmVscywgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQgKGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCB0ZW1wRWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcbiAgY29uc3QgZmlyc3RFbGVtZW50ID0gdGVtcEVsZW1lbnRzLnBvcCgpO1xuICBjb25zdCBzZWNvbmRQYXJlbnQgPSBmaXJzdEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGVtcEVsZW1lbnRzKSB7XG4gICAgY29uc3Qgc2VjUGFyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHNlY1Bhci5pZCAhPT0gc2Vjb25kUGFyZW50LmlkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHVzZXIgc2VsZWN0ZWQgZWxlbWVudHMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgdXNlci1zZWxlY3RlZCBlbGVtZW50c1xuICogQHJldHVybnMgdHJ1ZSBpZiBzZWxlY3Rpb24gaXMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aVN0YXZlU2VsZWN0aW9uKGVsZW1lbnRzOiBTVkdFbGVtZW50W10pOiBib29sZWFuIHtcbiAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuXG4gIGZvciAobGV0IGk9MDsgaTxlbGVtZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmYgPSBlbGVtZW50c0FycmF5W2ldLmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgZm9yIChsZXQgaj1pOyBqPGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGFub3RoZXJTdGFmZiA9IGVsZW1lbnRzQXJyYXlbal0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAvLyBjb21wYXJlIHdpdGggb3RoZXIgc3RhdmVzXG4gICAgICBpZiAoIXN0YWZmLmlzU2FtZU5vZGUoYW5vdGhlclN0YWZmKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQm91bmRpbmcgYm94IG9iamVjdCBpbnRlcmZhY2UgZm9yIGdldFN0YWZmQkJveCgpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZmZCQm94IHtcbiAgaWQ6IHN0cmluZztcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG4gIHJvdGF0ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYm91bmRpbmcgYm94IG9mIGEgc3RhZmYgYmFzZWQgb24gaXRzIHN0YWZmIGxpbmVzLlxuICogUm90YXRlIGlzIGluY2x1ZGVkIGluIHJhZGlhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZkJCb3ggKHN0YWZmOiBTVkdHRWxlbWVudCk6IFN0YWZmQkJveCB7XG4gIGxldCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZTtcbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLmZvckVhY2gocGF0aCA9PiB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICBpZiAocm90YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGlmICh1bHkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pIDwgdWx5KSB7XG4gICAgICB1bHkgPSBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAodWx4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMF0gPCB1bHgpIHtcbiAgICAgIHVseCA9IGNvb3JkaW5hdGVzWzBdO1xuICAgIH1cbiAgICBpZiAobHJ5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA+IGxyeSkge1xuICAgICAgbHJ5ID0gTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKGxyeCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzJdID4gbHJ4KSB7XG4gICAgICBscnggPSBjb29yZGluYXRlc1syXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGlkOiBzdGFmZi5pZCwgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUsIH07XG59XG5cbi8qKlxuICogc2VsZWN0IGEgYm91bmRpbmdib3ggZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGJib3ggKHN5bFRleHRSZWN0KSBlbGVtZW50IGluIHRoZSBET01cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIHRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RCQm94IChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBjb25zdCBiYm94ID0gZWw7XG4gIGNvbnN0IHN5bCA9IGJib3guY2xvc2VzdCgnLnN5bCcpO1xuICBpZiAoIXN5bC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzeWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBiYm94LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY29uc3QgY2xvc2VzdCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb3Nlc3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjbG9zZXN0LmNsYXNzTGlzdC5hZGQoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gICAgaWYoY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICAgIGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChuZW9uVmlldyAhPT0gdW5kZWZpbmVkICl7XG4gICAgICByZXNpemUoc3lsIGFzIFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICB9XG4gICAgaWYgKGRyYWdIYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgfVxuICAgIGNvbnN0IHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgaWYgKHN5bElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNwYW46IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBub3QgbmV1bWUgZWxlbWVudHMuXG4gKiBAcGFyYW0gbm90TmV1bWVzIC0gQW4gYXJyYXkgb2Ygbm90IG5ldW1lcyBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE5uIChub3ROZXVtZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGlmIChub3ROZXVtZXMubGVuZ3RoID4gMCkge1xuICAgIG5vdE5ldW1lcy5mb3JFYWNoKG5uID0+IHsgc2VsZWN0KG5uKTsgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHNlbGVjdGluZyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGwgKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZWxlY3Rpb25UeXBlID0gZ2V0U2VsZWN0aW9uVHlwZSgpO1xuICB1bnNlbGVjdCgpO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZWxlY3Rpb25DbGFzcztcbiAgbGV0IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGZhbHNlO1xuICBsZXQgY29udGFpbnNOYyA9IGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bGxhYmxlJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5ldW1lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5jJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN0YWZmJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsVGV4dFJlY3QtZGlzcGxheSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZSc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZSAnICsgc2VsZWN0aW9uVHlwZSk7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBHZXQgdGhlIGdyb3VwaW5ncyBzcGVjaWZpZWQgYnkgc2VsZWN0aW9uQ2xhc3NcbiAgLy8gdGhhdCBjb250YWluIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBzZWxlY3QuXG4gIGNvbnN0IGdyb3Vwc1RvU2VsZWN0ID0gbmV3IFNldDxTVkdHRWxlbWVudD4oKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgbGV0IGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0PFNWR0dFbGVtZW50PihzZWxlY3Rpb25DbGFzcyk7XG4gICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBjbGljay1zZWxlY3RlZCBhIGNsZWYgb3IgYSBjdXN0b3Mgb3IgYW4gYWNjaWQgb3IgYSBkaXZMaW5lXG4gICAgICBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdCgnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnKTtcbiAgICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIGVsZW1lbnQuaWQgKyAnIGlzIG5vdCBwYXJ0IG9mIHNwZWNpZmllZCBncm91cCBhbmQgaXMgbm90IGEgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZS4nKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb250YWluc0xheWVyRWxlbWVudHMgPSBjb250YWluc0xheWVyRWxlbWVudHMgfHwgdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbnNOYyA9IGNvbnRhaW5zTmMgfHwgdHJ1ZTtcbiAgICB9XG4gICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGdyb3VwaW5nKTtcblxuICAgIC8vIENoZWNrIGZvciBwcmVjZWRlcy9mb2xsb3dzXG4gICAgY29uc3QgZm9sbG93cyA9IGdyb3VwaW5nLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKTtcbiAgICBpZiAoZm9sbG93cykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBmb2xsb3dzLnNsaWNlKDEpKS5jbGFzc0xpc3QuYWRkKCduby1tb3ZpbmcnKTtcbiAgICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGZvbGxvd3Muc2xpY2UoMSkpKTtcbiAgICB9XG4gICAgY29uc3QgcHJlY2VkZXMgPSBncm91cGluZy5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpO1xuICAgIGlmIChwcmVjZWRlcykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkuY2xhc3NMaXN0LmFkZCgnbm8tbW92aW5nJyk7XG4gICAgICBncm91cHNUb1NlbGVjdC5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkpO1xuICAgIH1cbiAgfVxuICAvLyBTZWxlY3QgdGhlIGVsZW1lbnRzXG4gIGdyb3Vwc1RvU2VsZWN0LmZvckVhY2goKGdyb3VwOiBTVkdHcmFwaGljc0VsZW1lbnQpID0+IHNlbGVjdChncm91cCwgZHJhZ0hhbmRsZXIsIGZhbHNlKSk7XG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBjb250ZXh0IG1lbnUgdG8gZGlzcGxheSAoaWYgYW55KSAqL1xuXG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZ3JvdXBzVG9TZWxlY3QudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIC8vIEhhbmRsZSBvY2N1cmFuY2Ugb2YgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZVxuICBpZiAoY29udGFpbnNMYXllckVsZW1lbnRzICYmICFjb250YWluc05jKSB7XG4gICAgLy8gQSBjb250ZXh0IG1lbnUgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBpZiB0aGVyZSBpcyBhIHNpbmdsZSBjbGVmXG4gICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgfWVsc2Uge1xuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU2luZ2xlU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgcmVzaXplKGdyb3Vwc1swXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuXG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5ldW1lL25jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnc2luZ2xlU2VsZWN0Jyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBsaW5rZWQgc3lsbGFibGUgc3BsaXQgYnkgYSBzdGFmZiBicmVha1xuICAgICAgICAgIC8vIGlmIHRoZXkgYXJlIGxpbmthYmxlLCB1c2VyIGNhbiB0b2dnbGUgbGlua2VkLXN5bGxzXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzTGlua2FibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7IFxuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdsaW5rYWJsZVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbXVsdGlTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2RlZmF1bHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBzeWxsYWJsZXMgYXJlIGFsbCBsb2NhdGVkIG9uIG9uZSBzdGF2ZSwgdGhleSBzaG91bGQgYmUgZ3JvdXBhYmxlXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzeWxscyBhcmUgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5ldW1lQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlOZXVtZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmV1bWUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNlbGVjdGlvbiBpcyBhIGxpZ2F0dXJlIG9yIGNhbiBiZSBhIGxpZ2F0dXJlXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBuZXVtZSBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHRoZSBzYW1lIG5ldW1lXG4gICAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQgPT09IGdyb3Vwc1sxXS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShncm91cHNbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IG5ldW1lIGNvbXBvbmVudHMgYXJlIGFkamFjZW50XG4gICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1swXSkgLSBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1sxXSkpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBzZWNvbmQgbmV1bWUgY29tcG9uZW50IGlzIGxvd2VyIHRoYW4gZmlyc3QuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBvcmRlciBpbiB0aGUgbGlzdCBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIGJ5IHgtcG9zaXRpb24uXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkMgPSAoZ3JvdXBzWzBdLmNoaWxkcmVuWzBdIGFzIFNWR1VzZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQyA9IChncm91cHNbMV0uY2hpbGRyZW5bMF0gYXMgU1ZHVXNlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1ggID0gZmlyc3ROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWCA9IHNlY29uZE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1kgID0gZmlyc3ROQy55LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWSA9IHNlY29uZE5DLnkuYmFzZVZhbC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIG5jJ3MgYnkgeCBjb29yZCAobGVmdCB0byByaWdodClcbiAgICAgICAgICAgICAgICBpZiAoIChmaXJzdE5DWCA+IHNlY29uZE5DWCkgXG4gICAgICAgICAgICAgICAgICB8fCAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCAmJiBmaXJzdE5DWSA8IHNlY29uZE5DWSkpIHtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DLCBzZWNvbmROQ10gPSBbc2Vjb25kTkMsIGZpcnN0TkNdO1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkNYLCBmaXJzdE5DWSwgc2Vjb25kTkNYLCBzZWNvbmROQ1ldID0gW3NlY29uZE5DWCwgc2Vjb25kTkNZLCBmaXJzdE5DWCwgZmlyc3ROQ1ldO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHN0YWNrZWQgbmMncy9saWdhdHVyZSAoaWRlbnRpY2FsIHgpLCBvciBkZXNjZW5kaW5nIG5jJ3MgKHkgZGVzY2VuZHMpXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0TkNYID09PSBzZWNvbmROQ1ggfHwgZmlyc3ROQ1kgPCBzZWNvbmROQ1kpIHtcbiAgICAgICAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbGlnYXR1cmUnKTsgXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzZWxlY3RCQm94KGdyb3Vwc1swXSwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJCQm94QWN0aW9ucygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGcgPT4gc2VsZWN0QkJveChnLCBkcmFnSGFuZGxlciwgdW5kZWZpbmVkKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gIH1cbiAgXG4gIC8vIGZ1bmN0aW9uIGNoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIC8vIHRyeSB7XG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpXG4gIC8vIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFNlbGVjdE9wdGlvbnMuY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgLy8gfSBjYXRjaCAoZSkge2NvbnNvbGUuZGVidWcoZSk7fVxuICAvLyB9XG59XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUsIFNlbGVjdGlvblR5cGUsIFVzZXJUeXBlLCBJbnNlcnRUeXBlLCBJbnNlcnRUYWJUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFRoZSBvbmUgaW5zdGFuY2Ugb2YgTG9jYWxTZXR0aW5ncyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhbmRcbiAqIHVzZWQgYnkgdGhlIGVkaXRvci5cbiAqIFxuICogVXNlIHRoZSBmdW5jdGlvbnMgYGdldFNldHRpbmdzKClgIGFuZCBgc2V0U2V0dGluZ3MoKWBcbiAqIHRvIGFjY2VzcyB0aGlzIGluc3RhbmNlLlxuICovXG5sZXQgbG9jYWxTZXR0aW5nczogTG9jYWxTZXR0aW5ncyA9IG51bGw7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgc2V0dGluZ3MgZm9yIGVhY2ggZm9saW9cbiAqIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UuXG4gKlxuICogRXZlcnkga2V5IGlzIG9wdGlvbmFsIHNvIHRoYXQgdGhpcyBzYW1lIHR5cGluZ1xuICogY2FuIGJlIHVzZWQgZm9yIGBzZXRTZXR0aW5ncygpYCAvIGBMb2NhbFNldHRpbmdzLnNldCgpYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5ncyB7XG4gIHpvb206IG51bWJlcjtcbiAgZ2x5cGhPcGFjaXR5OiBudW1iZXI7XG4gIGltYWdlT3BhY2l0eTogbnVtYmVyO1xuICBjaXJjbGVTaXplOiBudW1iZXI7XG4gIGhpZ2hsaWdodE1vZGU6IEdyb3VwaW5nVHlwZTtcbiAgdXNlck1vZGU6IFVzZXJUeXBlO1xuICBpbnNlcnRNb2RlOiBJbnNlcnRUeXBlO1xuICBpbnNlcnRUYWI6IEluc2VydFRhYlR5cGU7XG4gIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvblR5cGU7XG4gIGRpc3BsYXlCQm94OiBib29sZWFuO1xuICBkaXNwbGF5VGV4dDogYm9vbGVhbjtcbiAgZGlzcGxheUluZm86IGJvb2xlYW47XG4gIGRpc3BsYXlFcnJMb2c6IGJvb2xlYW47XG4gIHZpZXdCb3g6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHNldHRpbmdzLCB3aGljaCBzaG91bGQgYmUgc2V0IGZvciBhIGZvbGlvIHdpdGggbm9cbiAqIGxvY2FsU3RvcmFnZSB2YWx1ZS5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSB1cGRhdGVkIGFsb25nc2lkZSB0aGUgaW50ZXJmYWNlIGBTZXR0aW5nc2BcbiAqIGFueSB0aW1lIHdlIHdhbnQgdG8gYWRkIGEgbmV3IHNldHRpbmcgdG8gc3RvcmUgaW4gbG9jYWxTdG9yYWdlLlxuICovXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBTZXR0aW5ncyA9IHtcbiAgem9vbTogMTAwLFxuICBnbHlwaE9wYWNpdHk6IDEwMCxcbiAgaW1hZ2VPcGFjaXR5OiAxMDAsXG4gIGNpcmNsZVNpemU6IDI1LFxuICBoaWdobGlnaHRNb2RlOiAnbm9uZScsXG4gIHVzZXJNb2RlOiAnZWRpdCcsXG4gIGluc2VydE1vZGU6ICdwdW5jdHVtJyxcbiAgaW5zZXJ0VGFiOiAncHJpbWl0aXZlVGFiJyxcbiAgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5U3lsbGFibGUnLFxuICBkaXNwbGF5QkJveDogZmFsc2UsXG4gIGRpc3BsYXlUZXh0OiBmYWxzZSxcbiAgZGlzcGxheUluZm86IGZhbHNlLFxuICBkaXNwbGF5RXJyTG9nOiBmYWxzZSxcbiAgdmlld0JveDogbnVsbFxufTtcblxuY2xhc3MgTG9jYWxTZXR0aW5ncyB7XG4gIGlkOiBzdHJpbmc7XG4gIHNldHRpbmdzOiBTZXR0aW5ncztcblxuICBjb25zdHJ1Y3RvciAoZm9saW9JZDogc3RyaW5nKSB7XG4gICAgbG9jYWxTZXR0aW5ncyA9IHRoaXM7XG4gICAgdGhpcy5pZCA9IGZvbGlvSWQ7XG4gICAgdGhpcy5sb2FkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSwgYW5kIHN5bmMgbG9hZGVkIHNldHRpbmdzIHdpdGhcbiAgICogbmV3IGZpZWxkcyB0aGF0IG1heSBub3QgYmUgaW4gbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgbG9hZCAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4gPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmlkKSk7XG4gICAgICB0aGlzLnN5bmMoc3RvcmVkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgbG9jYWxTdG9yYWdlIHZhbHVlIGlzIG5vdCBhIEpTT04gb2JqZWN0IChmb3IgaW5zdGFuY2UsIGFuIGVtcHR5IHN0cmluZyksXG4gICAgICAvLyBhIFN5bnRheEVycm9yIHdpbGwgYmUgdGhyb3duLiBXZSBtdXN0IGhhbmRsZSBpdCBieSBjYWxsaW5nIHN5bmMoKVxuICAgICAgLy8gd2l0aCBhbiBlbXB0eSBKU09OIG9iamVjdC5cbiAgICAgIHRoaXMuc3luYyh7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBuZXcgZmllbGRzIGluIGxvY2FsU3RvcmFnZSwgYXMgYSBcInVuaW9uXCIgb2Ygb2xkIGFuZCBuZXcgc2V0dGluZ3MuXG4gICAqL1xuICBzZXQgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi50aGlzLnNldHRpbmdzLCAuLi5wYXJhbXMgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgc2V0dGluZ3MgdGhhdCBtYXkgbm90IGJlIGluY2x1ZGVkIGluIHVzZXIncyBsb2NhbFN0b3JhZ2UsXG4gICAqIHN1Y2ggYXMgZmllbGRzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIGxvY2FsU3RvcmFnZSBpbiBhIG5ld1xuICAgKiB1cGRhdGUgb2YgTmVvbi5cbiAgICovXG4gIHN5bmMgKHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi5ERUZBVUxUX1NFVFRJTkdTLCAuLi5zdG9yZWQgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0dGluZ3MgKCk6IFNldHRpbmdzIHtcbiAgcmV0dXJuIGxvY2FsU2V0dGluZ3Muc2V0dGluZ3M7XG59XG5cbi8qKlxuICogU2V0IHNwZWNpZmljIGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2V0dGluZ3MgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgbG9jYWxTZXR0aW5ncy5zZXQocGFyYW1zKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxTZXR0aW5ncztcbiIsImltcG9ydCB7IHJlY29yZE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vRXJyb3JMb2cnO1xuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi9yYW5kb20nO1xuXG50eXBlIE5vdGlmaWNhdGlvblR5cGUgPSAnZGVmYXVsdCcgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ3N1Y2Nlc3MnO1xuXG5jb25zdCBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSA9IG5ldyBBcnJheSgwKTtcbmxldCBjdXJyZW50TW9kZU1lc3NhZ2U6IE5vdGlmaWNhdGlvbiA9IG51bGw7XG5cbi8qKlxuICogTnVtYmVyIG9mIG5vdGlmaWNhdGlvbnMgdG8gZGlzcGxheSBhdCBhIHRpbWUuXG4gKi9cbmNvbnN0IE5VTUJFUl9UT19ESVNQTEFZID0gMztcblxuLyoqXG4gKiBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyB0byBkaXNwbGF5IGF0IGEgdGltZS5cbiAqL1xuY29uc3QgVElNRU9VVCA9IDUwMDA7XG5cbmNvbnN0IG5vdGlmaWNhdGlvbkljb246IFJlY29yZDxOb3RpZmljYXRpb25UeXBlLCBzdHJpbmc+ID0ge1xuICBkZWZhdWx0OiAnJyxcbiAgd2FybmluZzogJ+KaoO+4jyAnLFxuICBlcnJvcjogJ/CflLQgJyxcbiAgc3VjY2VzczogJ+KchSAnLFxufTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIG1hbmFnZSBOZW9uIG5vdGlmaWNhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb24ge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGRpc3BsYXllZDogYm9vbGVhbjtcbiAgaWQ6IHN0cmluZztcbiAgaXNNb2RlTWVzc2FnZTogYm9vbGVhbjtcbiAgdGltZW91dElEOiBudW1iZXI7XG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGU7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG5vdGlmaWNhdGlvbkljb25bdHlwZV0gKyBtZXNzYWdlO1xuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuaXNNb2RlTWVzc2FnZSA9IG1lc3NhZ2Uuc2VhcmNoKCdNb2RlJykgIT09IC0xO1xuICAgIHRoaXMudGltZW91dElEID0gLTE7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIElEIGZyb20gc2V0VGltZW91dC4gKi9cbiAgc2V0VGltZW91dElkIChpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lb3V0SUQgPSBNYXRoLm1heChpZCwgLTEpO1xuICB9XG5cbiAgLyoqIERpc3BsYXkgdGhlIE5vdGlmaWNhdGlvbi4gKi9cbiAgZGlzcGxheSAoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBVVUlEIGZvciB0aGlzIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGdldElkICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIG5vdGlmaWNhdGlvblxuICogQHBhcmFtIGN1cnJlbnRJZCAtIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIGJlIGNsZWFyZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyTm90aWZpY2F0aW9uIChjdXJyZW50SWQ6IHN0cmluZyk6IHZvaWQge1xuICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRJZCkucmVtb3ZlKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgbm90aWZpY2F0aW9uLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiB0byBkaXNwbGF5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICAvLyBOb3Qgc3VyZSB3aGF0IGl0IGRvZXMsIG1heWJlIHJlbGF0ZWQgdG8gcm9kYW4vbmVvblxuICBpZiAobm90aWZpY2F0aW9uLmlzTW9kZU1lc3NhZ2UpIHtcbiAgICBpZiAoY3VycmVudE1vZGVNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICBjdXJyZW50TW9kZU1lc3NhZ2UgPSBub3RpZmljYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY3VycmVudE1vZGVNZXNzYWdlLnRpbWVvdXRJRCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG5cbiAgLy8gUmVtb3ZlIHRoZSB0b3Agbm90aWZpY2F0aW9uIGlmIGV4Y2VlZHMgbWF4bWltdW1cbiAgbm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IE5VTUJFUl9UT19ESVNQTEFZKSB7XG4gICAgY29uc3QgdG9SZW1vdmUgPSBub3RpZmljYXRpb25zLnNoaWZ0KCk7XG4gICAgY2xlYXJOb3RpZmljYXRpb24odG9SZW1vdmUuZ2V0SWQoKSk7XG4gIH1cbiAgY29uc3Qgbm90aWZpY2F0aW9uQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpO1xuICBjb25zdCBuZXdOb3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ25lb24tbm90aWZpY2F0aW9uJyk7XG4gIG5ld05vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKGBuZW9uLW5vdGlmaWNhdGlvbi0ke25vdGlmaWNhdGlvbi50eXBlfWApO1xuICBuZXdOb3RpZmljYXRpb24uaWQgPSBub3RpZmljYXRpb24uZ2V0SWQoKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG5vdGlmaWNhdGlvbi5tZXNzYWdlO1xuICBub3RpZmljYXRpb25Db250ZW50LmFwcGVuZChuZXdOb3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb25Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgbm90aWZpY2F0aW9uLmRpc3BsYXkoKTtcbn1cblxuLyoqXG4gKiBTdGFydCBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbnMuIENhbGxlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5mdW5jdGlvbiBzdGFydE5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgZGlzcGxheU5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb24uc2V0VGltZW91dElkKFxuICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNsZWFyTm90aWZpY2F0aW9uLCBUSU1FT1VULCBub3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgKTtcbiAgZG9jdW1lbnRcbiAgICAuZ2V0RWxlbWVudEJ5SWQobm90aWZpY2F0aW9uLmdldElkKCkpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChub3RpZmljYXRpb24udGltZW91dElEKTtcbiAgICAgIGNsZWFyTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbi5nZXRJZCgpKTtcbiAgICB9KTtcbn1cblxuLyoqXG4gKiBBZGQgYSBub3RpZmljYXRpb24gdG8gdGhlIHF1ZXVlLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWVOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbkNvbnRlbnQ6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0Jyk6IHZvaWQge1xuICBjb25zdCBub3RpZmljYXRpb24gPSBuZXcgTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbkNvbnRlbnQsIHR5cGUpO1xuXG4gIGlmIChub3RpZmljYXRpb24udHlwZSA9PSAnZXJyb3InIHx8IG5vdGlmaWNhdGlvbi50eXBlID09ICd3YXJuaW5nJykge1xuICAgIHJlY29yZE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24pO1xuICB9XG5cbiAgc3RhcnROb3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFyZ3NBcnJheTtcblxuZnVuY3Rpb24gYXJnc0FycmF5KGZ1bikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChsZW4pIHtcbiAgICAgIHZhciBhcmdzID0gW107XG4gICAgICB2YXIgaSA9IC0xO1xuICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bi5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgW10pO1xuICAgIH1cbiAgfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGQzOyIsIi8qKlxuICogSFRNTCBmb3IgZWFjaCBpbnNlcnQgdGFiIChuZXVtZSwgZ3JvdXBpbmcsIGNsZWYsIHN5c3RlbSwgYW5kIGRpdmlzaW9uKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydFRhYkh0bWw6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIHByaW1pdGl2ZVRhYjogXG4gICAgICAgIGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInB1bmN0dW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHVuY3R1bVwiIHRpdGxlPVwicHVuY3R1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHVuY3R1bS5wbmdcIiBjbGFzcz1cImltYWdlXCIvPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwidmlyZ2FcIiB0aXRsZT1cInZpcmdhXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy92aXJnYS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aXJnYVJldmVyc2VkXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIlJldmVyc2VkIFZpcmdhXCIgdGl0bGU9XCJSZXZlcnNlZCBWaXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2FfcmV2ZXJzZWQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGlhbW9uZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJpbmNsaW5hdHVtXCIgdGl0bGU9XCJpbmNsaW5hdHVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaWFtb25kLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImN1c3Rvc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjdXN0b3NcIiB0aXRsZT1cImN1c3Rvc1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY3VzdG9zLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkMgQ2xlZlwiIHRpdGxlPVwiIEMgQ2xlZlwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY0NsZWYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZkNsZWZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRiBDbGVmXCIgdGl0bGU9XCJGIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ZDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImxpcXVlc2NlbnRBXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkxpcXVlc2NlbnQgQVwiIHRpdGxlPVwiTGlxdWVzY2VudCBBXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9saXF1ZXNjZW50QS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50Q1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IENcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQ1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZmxhdFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJGbGF0XCIgdGl0bGU9XCJGbGF0XCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZEZsYXQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibmF0dXJhbFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJOYXR1cmFsXCIgdGl0bGU9XCJOYXR1cmFsXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZE5hdHVyYWwucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+IFxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicGVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInBlc1wiIHRpdGxlPVwicGVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wZXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpdmlzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImNsaXZpc1wiIHRpdGxlPVwiY2xpdmlzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGl2aXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2NhbmRpY3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInNjYW5kaWN1c1wiIHRpdGxlPVwic2NhbmRpY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zY2FuZGljdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpbWFjdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpbWFjdXNcIiB0aXRsZT1cImNsaW1hY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGltYWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ0b3JjdWx1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJ0b2N1bHVzXCIgdGl0bGU9XCJ0b2N1bHVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy90b3JjdWx1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwb3JyZWN0dXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicG9ycmVjdHVzXCIgdGl0bGU9XCJwb3JyZWN0dXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3BvcnJlY3R1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzc3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInByZXNzdXNcIiB0aXRsZT1cInByZXNzdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ByZXNzdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+YCxcbiAgc3lzdGVtVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic3RhZmZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIGxvbmdlbFwiIGFyaWEtbGFiZWw9XCJzeXN0ZW1cIiB0aXRsZT1cInN5c3RlbVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc3RhZmYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPkNsaWNrIHVwcGVyIGxlZnQgYW5kIGxvd2VyIHJpZ2h0IGNvcm5lcnMgb2YgbmV3IHN0YWZmLjwvcD5gXG4gIC8vIGRpdmlzaW9uVGFiOiBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICsgICAgXG4gIC8vIFwiPGJ1dHRvbiBpZD0nc21hbGxEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9zbWFsbGRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyAgICAgXCI8YnV0dG9uIGlkPSdtaW5vckRpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL21pbm9yZGl2LnBuZ1wiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyAgICAgXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vIFwiPGJ1dHRvbiBpZD0nbWFqb3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9tYWpvcmRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J2ZpbmFsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvZmluYWxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCJcbn07XG5cbi8qKlxuICogU3RydWN0dXJlIG9mIGluc2VydCBwYW5lbCB3aXRoIGJhc2ljIGdyb3VwaW5nIHRhYnMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRDb250cm9sc1BhbmVsID1cbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImluc2VydE1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5JTlNFUlQ8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb24gaXMtcHVsbGVkLXJpZ2h0XCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlSW5zZXJ0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBpZD1cImluc2VydENvbnRlbnRzXCIgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3cteTogaGlkZGVuO1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJwYW5lbC10YWJzXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJwcmltaXRpdmVUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPlByaW1pdGl2ZSBFbGVtZW50czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cImdyb3VwaW5nVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5Hcm91cGluZzwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInN5c3RlbVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+U3lzdGVtPC9hPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBpZD1cImluc2VydF9kYXRhXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZWRpdCBwYW5lbCB3aXRoIGJ1dHRvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0Q29udHJvbHNQYW5lbCA9XG4gICAgYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5U3lsbGFibGVcIj5TeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOZXVtZVwiPk5ldW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeU5jXCI+TmV1bWUgQ29tcG9uZW50PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN0YWZmXCI+U3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TGF5ZXJFbGVtZW50XCI+TGF5ZXIgRWxlbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1zbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibW9yZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXh0cmFFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwhLS1cbiAgICAgICAgICAgICAgICAgICAgKiBUaGUgZXh0cmFFZGl0IHBhbmVsIGlzIGFkZGVkIGZvciBlZGl0IG9wdGlvbnMgdGhhdCBoYXZlIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgICogTGlrZSB0aGUgTmV1bWUgYW5kIENsZWYgbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIGRvbmUgYmVjYXVzZSB0aGUgbW9yZUVkaXQgbWVudSBuZWVkcyB0byBoYXZlIG92ZXJmbG93IGZvciBjYXNlcyB3aGVyZSBpdCBoYXMgbG90cyBvZiBidXR0b25zXG4gICAgICAgICAgICAgICAgICAgICogQnV0IG92ZXJmbG93IHJ1aW5zIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJuZXVtZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bmRvUmVkb19jb250cm9sc1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkNoYW5nZSBIZWFkIFNoYXBlOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWQgU2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlB1bmN0dW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5QdW5jdHVtPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVmlyZ2FcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJnYTwvYT4gXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInNwbGl0LW5ldW1lXCI+U3BsaXQgTmV1bWVzPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBuZXVtZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+R3JvdXBpbmcgT3B0aW9uczo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Hcm91cGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnQgc2Nyb2xsYWJsZS1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaW1hY3VzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpbWFjdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpdmlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpdmlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBlcyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlByZXNzdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QcmVzc3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJUb3JjdWx1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlRvcmN1bHVzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOY3NcIj5Vbmdyb3VwPC9idXR0b24+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEFjdGlvbkNvbnRlbnRzID0gXG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51IHdoZW4gc2VsZWN0aW5nIGJ5IHN5bGxhYmxlXG4gKiBTYW1lIGFzIGFib3ZlIGV4Y2VwdCBpbmNsdWRlcyByZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuICAgIFxuLyoqXG4gKiBDb250ZW50cyBvZiBjdXN0b3MgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b3NBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaW5zZXJ0VG9TeWxsYWJsZVwiPkluc2VydCB0byBuZWFyZXN0IHN5bGxhYmxlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAoaW5zaWRlIHN5bGxhYmxlKSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1vdmVPdXRzaWRlU3lsbGFibGVcIj5Nb3ZlIG91dHNpZGUgc3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBhY2NpZCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjY2lkQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzdGFmZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmU3BsaXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXY+U3BsaXQgU3lzdGVtOjwvZGl2PlxuICAgIDxkaXYgaWQ9XCJzcGxpdC1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInNwbGl0LXN5c3RlbVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5TcGxpdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwicmVzZXQtcm90YXRlXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPlJlc2V0IFJvdGF0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgc3RhZmYgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFmZk1lcmdlQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+TWVyZ2UgU3lzdGVtczo8L2xhYmVsPlxuICAgIDxkaXYgaWQ9XCJtZXJnZS1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cIm1lcmdlLXN5c3RlbXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+TWVyZ2U8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY29sdW1uQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwiY29sLWVkaXQtY29udGFpbmVyXCI+XG4gICAgICAgIEVkaXQgQ29sdW1uIEluZm9ybWF0aW9uOiBcbiAgICAgICAgPGRpdiBpZD1cImNvbC1zdGVwcGVyLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWRlY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+4oCTPC9idXR0b24+XG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBpZD1cImNvbC1pbnB1dFwiIGNsYXNzPVwic2lkZS1wYW5lbC1zdGVwcGVyLWlucHV0XCIgdmFsdWU9XCIwXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY29sLWluY3JlbWVudFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gY29sLXN0ZXBwZXItYnRuXCI+KzwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNvbC1jb25maXJtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzaWRlLXBhbmVsLWNvbmZpcm0tYnRuXCIgc3R5bGU9XCJkaXNwbGF5Om5vbmVcIj5Db25maXJtPC9idXR0b24+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiY29sLXdhcm5pbmdcIiBjbGFzcz1cInNpZGUtcGFuZWwtd2FybmluZ1wiPjwvZGl2PiBcbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBjbGVmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY2xlZkFjdGlvbkNvbnRlbnRzID1cbiAgICBgXG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkRpc3BsYWNlIE9jdGF2ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJpbmNyZW1lbnQtb2N0YXZlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+KzEgT2N0YXZlPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImRlY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4tMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIiBvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2UgQ2xlZiBTaGFwZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJDQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkMgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJGQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkYgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRpdkxpbmUgdHlwZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRpdkxpbmVBY3Rpb25Db250ZW50cyA9XG5gPGxhYmVsPkNoYW5nZSBEaXZMaW5lOjwvbGFiZWw+XG48ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwib3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9DYWVzdXJhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+Q2Flc3VyYTwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GaW5hbGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmluYWxpczwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NaW5pbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NaW5pbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWFpb3JcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYWlvcjwvYT5cbiAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9NYXhpbWFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5NYXhpbWE8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvVmlyZ3VsYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPlZpcmd1bGE8L2E+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBiYm94IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYmJveEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtYXRjaEhlaWdodFwiPk1hdGNoIEhlaWdodCBmb3IgRW50aXJlIFJvdzwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogSFRNTCBmb3IgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cGluZ01lbnUgPSB7XG4gIG5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBtb3JlLWVkaXQtYnRuXCIgaWQ9XCJncm91cE5jc1wiPkdyb3VwIE5ldW1lIENvbXBvbmVudHM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIG5ldW1lOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOZXVtZXNcIj5Hcm91cCBOZXVtZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIHN5bDogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblx0XHQ8L2Rpdj5gLFxuICBsaWdhdHVyZU5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PmAsXG4gIGxpZ2F0dXJlOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmAsXG4gIHNwbGl0U3lsbGFibGU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YFxufTtcblxuXG5cbi8qIEJHSU5OSU5HIE9GIE1PREFMIFdJTkRPVyBDT05URU5UIFNFQ1RJT04gKi9cblxuLyoqXG4gKiBIVE1MIGZvciBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0VGV4dE1vZGFsID0gXG4gICAgYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlXCI+U2F2ZTwvZGl2PiAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cblxuLyoqXG4gKiBIVE1MIGZvciBIb3RrZXlzIG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgaG90a2V5c01vZGFsID0gYFxuICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXNcIj5cbiAgICAgICAgPCEtLSBcIkRpc3BsYXlcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkRpc3BsYXk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+KzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIEluPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+LTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIE91dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gUmVzZXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+aDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5IaWRlIEdseXBoPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+VDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5TY3JvbGwgVG8gU3lsbGFibGUgVGV4dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJFZGl0XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5FZGl0PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlVuZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+UmVkbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5xL3cvZS9yL3QveTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgSGlnaGxpZ2h0IGJ5IFN0YWZmL1N5bGxhYmxlL05ldW1lL0xheWVyRWxlbWVudC9TZWxlY3Rpb24vT2ZmXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPjEvMi8zLzQvNS82PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgYnkgU3lsbGFibGUvTmV1bWUvTmV1bWUgQ29tcG9uZW50L1N0YWZmL0xheWVyIEVsZW1lbnQvQkJveFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPk51bWJlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgQmVnaW4gSW5zZXJ0IGZvciB0aGUgPGk+bnRoPC9pPiBvcHRpb24gaW4gdGhlIHNlbGVjdGVkIHRhYlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJPdGhlclwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+T3RoZXI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2F2ZSBGaWxlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkVzYzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZXR1cm4gdG8gRWRpdCBNb2RlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IHN5bGxhYmxlQWN0aW9uc0NvbnRlbnQgPSBgXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgZXJyb3JMb2dzUGFuZWxDb250ZW50cyA9IFxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZXJyb3JMb2dIZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RXJyb3IgTG9nPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRXJyb3JMb2dcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIGlkPVwiZXJyb3JMb2dDb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3c6IHNjcm9sbDsgcGFkZGluZzogMC41ZW0gMC43NWVtOyBtYXgtaGVpZ2h0OiAzMDBweDtcIj48ZGl2PmA7XG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxudmFyIGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyKSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiLyoqIEBtb2R1bGUgRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyAqL1xuXG5pbXBvcnQgKiBhcyBDb2xvciBmcm9tICcuLi91dGlscy9Db2xvcic7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi4vU2luZ2xlVmlldy9ab29tJztcbmltcG9ydCB7IEdyb3VwaW5nVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4uL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG5sZXQgbGFzdEdseXBoT3BhY2l0eTogbnVtYmVyLCBsYXN0SW1hZ2VPcGFjaXR5OiBudW1iZXIsIGxhc3RDaXJjbGVTaXplOiBudW1iZXI7XG5cbi8qKlxuICogU2V0IHpvb20gY29udHJvbCBsaXN0ZW5lciBmb3IgYnV0dG9uIGFuZCBzbGlkZXJcbiAqIEBwYXJhbSB6b29tSGFuZGxlciAtIEEgW1tab29tSGFuZGxlcl1dIGlzIG9ubHkgbmVjZXNzYXJ5IGluIFNpbmdsZSBQYWdlIG1vZGUgYXMgZGl2YS5qcyBoYW5kbGVzIHpvb21pbmcgb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0Wm9vbUNvbnRyb2xzICh6b29tSGFuZGxlcj86IFpvb21IYW5kbGVyKTogdm9pZCB7XG4gIGlmICh6b29tSGFuZGxlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHpvb21TbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IHpvb21PdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgem9vbSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgem9vbUhhbmRsZXIuem9vbVRvKHpvb20gLyAxMDAuMCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC16b29tJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICB6b29tSGFuZGxlci5yZXNldFpvb21BbmRQYW4oKTtcbiAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NldC16b29tLWVhc3ktZWRpdCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTgwJztcbiAgICB6b29tU2xpZGVyLnZhbHVlID0gJzE4MCc7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKDE4MC8xMDApO1xuICB9KTtcblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSB6b29tU2xpZGVyLnZhbHVlO1xuICAgIHpvb21IYW5kbGVyLnpvb21UbyhOdW1iZXIoem9vbU91dHB1dC52YWx1ZSkgLyAxMDAuMCk7XG4gIH1cblxuICAvLyB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdtb3VzZXVwJywgaW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgem9vbVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Wm9vbSA9IHBhcnNlSW50KHpvb21PdXRwdXQudmFsdWUpO1xuICAgIGlmIChldnQua2V5ID09PSAnQXJyb3dVcCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93RG93bicgfHwgXG4gICAgZXZ0LmtleSA9PT0gJ0Fycm93UmlnaHQnIHx8IGV2dC5rZXkgPT09ICdBcnJvd0xlZnQnKSB7XG4gICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcrJykgeyAvLyBpbmNyZWFzZSB6b29tIGJ5IDIwXG4gICAgICBjb25zdCBuZXdab29tID0gTWF0aC5taW4oY3VycmVudFpvb20gKyAyMCwgcGFyc2VJbnQoem9vbVNsaWRlci5nZXRBdHRyaWJ1dGUoJ21heCcpKSk7XG4gICAgICB6b29tSGFuZGxlci56b29tVG8obmV3Wm9vbSAvIDEwMC4wKTtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ18nKSB7IC8vIGRlY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1heChjdXJyZW50Wm9vbSAtIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWluJykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnMCcpIHtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTAwJztcbiAgICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIE1FSSBvcGFjaXR5IHRvIHZhbHVlIGZyb20gdGhlIHNsaWRlci5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyIChtZWlDbGFzc05hbWU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgb3BhY2l0eU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IG9wYWNpdHlPdXRwdXQudmFsdWU7XG4gIC8vIHRoaXMgaXMgd2hlcmUgd2UgbG9hZCBnbHlwaCBvcGFjaXR5IGZyb20gbG9jYWxTdG9yYWdlIG9uIHBhZ2UtbG9hZFxuICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0b2dnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVHbHlwaEltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtZ2x5cGgtb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Nob3ctaWNvbi5zdmdgKTtcbiAgICBoaWRlR2x5cGhJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ1Nob3cgZ2x5cGgnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBnbHlwaCcpO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbWVpQ2xhc3NOYW1lKSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwLjApLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBwcm9wZXJseSBzZXQgb3BhY2l0eSB0byBwYWdlcycpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IHJlbmRlcmVkIE1FSSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGdseXBoT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEdseXBoT3BhY2l0eSA9IGdseXBoT3BhY2l0eTtcbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VPcGFjaXR5ICgpOiB2b2lkIHtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gb3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIobWVpQ2xhc3NOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZU9wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWdseXBoLW9wYWNpdHknKTtcblxuICBpZiAoZ2x5cGhPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVPcGFjaXR5QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuICAgIGlmICh0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5jb250YWlucygnaGlkZS1pY29uJykpIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5pdGlvbiBzY2FsZSBpcyB0aGUgcm9vdCBlbGVtZW50IG9mIHdoYXQgaXMgZ2VuZXJhdGVkIGJ5IHZlcm92aW9cbiAgICBcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+KS5mb3JFYWNoKGcgPT4ge1xuICAgICAgZy5zdHlsZS5vcGFjaXR5ID0gbmV3T3BhY2l0eS50b1N0cmluZygpO1xuICAgIH0pO1xuXG4gICAgbGFzdEdseXBoT3BhY2l0eSA9IE51bWJlcihvcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdPcGFjaXR5ICogMTAwKSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogbmV3T3BhY2l0eSAqIDEwMCB9KTtcblxuICAgIGlucHV0Q2hhbmdlT3BhY2l0eSgpO1xuICB9KTtcblxuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VPcGFjaXR5KTtcbiAgb3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuXG4gIG9wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFNldCBiYWNrZ3JvdW5kIGltYWdlIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIGJhY2tncm91bmQgLSBUaGUgYmFja2dyb3VuZCBpbWFnZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gc2V0QmdPcGFjaXR5Q29udHJvbHMgKGJhY2tncm91bmQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgYmdPcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnT3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgaW1hZ2VPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0SW1hZ2VPcGFjaXR5ID0gaW1hZ2VPcGFjaXR5O1xuICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gYmdJbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IGJnT3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0QmdPcGFjaXR5RnJvbVNsaWRlcihiYWNrZ3JvdW5kKTtcbiAgfVxuXG5cbiAgY29uc3QgdG9nZ2xlQmdPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iZy1vcGFjaXR5Jyk7XG5cbiAgaWYgKGltYWdlT3BhY2l0eSA9PSAxMDApIHtcbiAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVCZ09wYWNpdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcblxuICAgIGlmICh0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhY2tncm91bmQpWzBdIGFzIEhUTUxFbGVtZW50KVxuICAgICAgLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG5cbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgYmdPcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgaW1hZ2VPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuICAgIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcblxuICBiZ09wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QmdPcGFjaXR5RnJvbVNsaWRlciAoYmFja2dyb3VuZD86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQ6IEhUTUxPdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JnT3BhY2l0eU91dHB1dCcpO1xuICBcbiAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0aWdnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVCZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtYmctb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUJnSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2hpZGUtaWNvbi5zdmdgKTtcbiAgICBoaWRlQmdJbWcucGFyZW50RWxlbWVudC5zZXRBdHRyaWJ1dGUoJ3RpdGxlJywgJ0hpZGUgYmFja2dyb3VuZCBpbWFnZScpO1xuICB9XG5cbiAgY29uc3QgYmc6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YmFja2dyb3VuZH1gKTtcbiAgaWYgKGJnKSBiZy5zdHlsZS5vcGFjaXR5ID0gU3RyaW5nKE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwKTtcbn1cblxuLyoqXG4gKiBTZXQgYmFja2dyb3VuZCBpbWFnZSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBiYWNrZ3JvdW5kIC0gVGhlIGJhY2tncm91bmQgaW1hZ2Ugc2VsZWN0b3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRDaXJjbGVTaXplQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBjaXJjbGVTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2lyY2xlU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgY2lyY2xlT3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpcmNsZU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgY2lyY2xlU2l6ZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdENpcmNsZVNpemUgPSBjaXJjbGVTaXplO1xuICBjaXJjbGVTbGlkZXIudmFsdWUgPSBTdHJpbmcoY2lyY2xlU2l6ZSk7XG4gIGNpcmNsZU91dHB1dC52YWx1ZSA9IFN0cmluZyhjaXJjbGVTaXplKTtcblxuICBmdW5jdGlvbiBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyICgpOiB2b2lkIHtcbiAgICBjaXJjbGVPdXRwdXQudmFsdWUgPSBjaXJjbGVTbGlkZXIudmFsdWU7XG4gICAgbGFzdENpcmNsZVNpemUgPSBOdW1iZXIoY2lyY2xlU2xpZGVyLnZhbHVlKTtcbiAgICBzZXRTZXR0aW5ncyh7IGNpcmNsZVNpemU6IE51bWJlcihsYXN0Q2lyY2xlU2l6ZSkgfSk7XG4gICAgY29uc3QgcmVzaXplUG9pbnRzID0gZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKTtcbiAgICBpZiAoIXJlc2l6ZVBvaW50cy5lbXB0eSgpKSB7XG4gICAgICByZXNpemVQb2ludHMuYXR0cigncicsIGxhc3RDaXJjbGVTaXplKTtcbiAgICB9XG4gIH1cblxuICBjb25zdCByZXNldEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1jaXJjbGUtc2l6ZScpO1xuICByZXNldEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCBkZWZhdWx0U2l6ZSA9IDI1OyBcbiAgICAvLyBpZiBoYXMgcmVzaXplUG9pbnRzIGRpc3BsYXllZFxuICAgIGNvbnN0IHJlc2l6ZVBvaW50cyA9IGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50Jyk7XG4gICAgaWYgKCFyZXNpemVQb2ludHMuZW1wdHkoKSkge1xuICAgICAgcmVzaXplUG9pbnRzLmF0dHIoJ3InLCBkZWZhdWx0U2l6ZSk7XG4gICAgfVxuXG4gICAgbGFzdENpcmNsZVNpemUgPSBOdW1iZXIoZGVmYXVsdFNpemUpO1xuICAgIGNpcmNsZVNsaWRlci52YWx1ZSA9IFN0cmluZyhkZWZhdWx0U2l6ZSk7XG4gICAgY2lyY2xlT3V0cHV0LnZhbHVlID0gU3RyaW5nKGRlZmF1bHRTaXplKTtcblxuICAgIHNldFNldHRpbmdzKHsgY2lyY2xlU2l6ZTogTnVtYmVyKGRlZmF1bHRTaXplKSB9KTtcbiAgICBjaXJjbGVTaXplSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGNpcmNsZVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGNpcmNsZVNpemVJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBjaXJjbGVTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgY2lyY2xlU2l6ZUlucHV0Q2hhbmdlSGFuZGxlcik7XG5cbiAgY2lyY2xlU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG59XG5cbi8qKlxuICogVXBkYXRlIGhpZ2hsaWdodCBkcm9wZG93biBvcHRpb24gKyBkaXNwbGF5XG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5mdW5jdGlvbiB1cGRhdGVIaWdobGlnaHRPcHRpb24gKGdyb3VwOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGhpZ2hsaWdodC0ke2dyb3VwfWApO1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuXG4gIC8vIHNhdmUgaGlnaGxpZ2h0IG9wdGlvbiB0byBsb2NhbFN0b3JhZ2VcbiAgc2V0U2V0dGluZ3MoeyBoaWdobGlnaHRNb2RlOiBncm91cCB9KTtcblxuICBkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgfSk7XG5cbiAgaWYgKGdyb3VwID09PSAnbm9uZScpIHtcbiAgICBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50ID0gJ1xceEEwLSBPZmYnO1xuICAgIENvbG9yLnVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIG9wdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcblxuICAvLyBUZXh0IGNvbnRlbnQgaXMgdGhlIGdyb3VwaW5nIHR5cGUgY2FwaXRhbGl6ZWRcbiAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9IGBcXHhBMC0gJHtncm91cFswXS50b1VwcGVyQ2FzZSgpICsgZ3JvdXAuc2xpY2UoMSl9YDtcbiAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXApO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBoaWdobGlnaHQgbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWdobGlnaHRUeXBlICgpOiBHcm91cGluZ1R5cGUge1xuICBjb25zdCBoaWdobGlnaHRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJyk7XG4gIHJldHVybiBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50LnNsaWNlKDMpLnRvTG93ZXJDYXNlKCkgYXMgR3JvdXBpbmdUeXBlO1xufVxuXG4vKipcbiAqIFNldCBjbGljayBsaXN0ZW5lciBmb3IgZWFjaCBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uXG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbihncm91cCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENsaWNrYXdheSBsaXN0ZW5lciBmb3IgdGhlIGhpZ2hsaWdodCBkcm9wZG93bi5cbiAqL1xuZnVuY3Rpb24gaGlnaGxpZ2h0Q2xpY2thd2F5ICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gc3RhZmYgaGlnaGxpZ2h0aW5nIGNoZWNrYm94LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0Q29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBkcm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICBpZiAoZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG5cbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignY29sdW1uJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICAqIFNldCBsaXN0ZW5lciBvbiBrZXkgc2hvcnRjdXRzIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBoaWdobGlnaHRzXG4gICogXG4gICogVGhlIGN1cnJlbnQgcGxhbiBpcyB0byB1c2UgdGhlIGtleXMgcSwgdywgZSwgciwgdCwgYW5kIHlcbiAgKi9cbmZ1bmN0aW9uIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIC8vIFByZXZlbnQgY21kL2N0cmwrciBmcm9tIGNoYW5naW5nIGhpZ2hsaWdodCBvcHRpb25cbiAgICBpZiAoZXZ0Lm1ldGFLZXkpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgY2FzZSAncSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncic6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBoaWdobGlnaHRTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXNlbGVjdGlvbicpO1xuICBoaWdobGlnaHRTZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgICBoaWdobGlnaHRTZWxlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSAnIC0gU2VsZWN0aW9uJztcbiAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBoaWdobGlnaHQgZm9yIGRpZmZlcmVudCB0eXBlcyBiYXNlZCBvbiB0aGUgJ2hpZ2hsaWdodC1zZWxlY3RlZCcgY2xhc3MgaW4gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUhpZ2hsaWdodCAoKTogdm9pZCB7XG4gIGxldCBoaWdobGlnaHRJZDogc3RyaW5nO1xuICB0cnkge1xuICAgIGhpZ2hsaWdodElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaGlnaGxpZ2h0SWQgPSAnJztcbiAgfVxuICBzd2l0Y2ggKGhpZ2hsaWdodElkKSB7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWNvbHVtbic6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnY29sdW1uJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc3RhZmYnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N0YWZmJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc3lsbGFibGUnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtbmV1bWUnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ25ldW1lJyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtbGF5ZXJFbGVtZW50JzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdsYXllckVsZW1lbnQnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1zZWxlY3Rpb24nOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3NlbGVjdGlvbicpO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIENvbG9yLnVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBsaXN0ZW5lciBvbiBidXJnZXIgbWVudSBmb3Igc21hbGxlciBzY3JlZW5zLlxuICovXG5mdW5jdGlvbiBzZXRCdXJnZXJDb250cm9scyAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlck1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmF2TWVudScpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICB9KTtcbn1cblxuLyoqIFxuICogU2V0IGxpc3RlbmVyIGZvciBcIkRpc3BsYXkgQWxsXCIgYnV0dG9uIGluIERpc3BsYXkgcGFuZWwuXG4qL1xuZnVuY3Rpb24gc2V0RGlzcGxheUFsbExpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBzZWxlY3RBbGxCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1hbGwtYnRuJyk7XG4gIHNlbGVjdEFsbEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAvLyBhdCB0aGUgbW9tZW50LCBjbGFzc25hbWUgJ3NlbGVjdGVkJyBpcyBvbmx5IHVzZWQgZm9yIHRyYWNraW5nIHB1cnBvc2VzXG4gICAgaWYgKHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgc2VsZWN0QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICBjb25zdCBvcHRpb25zID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveC1jb250YWluZXIgPiAuY2hlY2tib3gnKTtcblxuICAgICAgQXJyYXkuZnJvbShvcHRpb25zKS5mb3JFYWNoKChvcHRpb246IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKG9wdGlvbi5jaGVja2VkKSBvcHRpb24uY2xpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHNlbGVjdEFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgc2VsZWN0QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICBjb25zdCBvcHRpb25zID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jaGVja2JveC1jb250YWluZXIgPiAuY2hlY2tib3gnKTtcbiAgICAgIFxuICAgICAgQXJyYXkuZnJvbShvcHRpb25zKS5mb3JFYWNoKChvcHRpb246IEhUTUxJbnB1dEVsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKCFvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKiogXG4gKiBVcGRhdGUgYERpc3BsYXkgQWxsYCBidXR0b24gc3RhdHVzXG4qL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZURpc3BsYXlBbGxCdG4oKTogdm9pZCB7XG4gIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gIGNvbnN0IGRpc3BsYXlJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgZGlzcGxheUJCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgZGlzcGxheUVyckxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWVycm9ycycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgLy8gaWYgYWxsIG9wdGlvbnMgYXJlIHNlbGVjdGVkLFxuICAvLyBzZXQgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIHRvIFwiSGlkZSBBbGxcIi5cbiAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgZGlzcGxheVRleHQ/LmNoZWNrZWQgJiYgZGlzcGxheUVyckxvZz8uY2hlY2tlZCkge1xuICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIGlzIGluIFwiSGlkZSBBbGxcIiBtb2RlLCBzZXQgaXQgdG8gXCJEaXNwbGF5IEFsbFwiIG1vZGVcbiAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBMb2FkIGhpZ2hsaWdodCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEhpZ2hsaWdodFNldHRpbmdzICgpOiB2b2lkIHtcbiAgY29uc3QgeyBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICB1cGRhdGVIaWdobGlnaHRPcHRpb24oaGlnaGxpZ2h0TW9kZSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBsaXN0ZW5lcnMgYW5kIGNvbnRyb2xzIGZvciBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laUNsYXNzTmFtZSAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZml5IHRoZSBNRUkgZWxlbWVudChzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIHVzZWQgdG8gc2lnbmlmeSB0aGUgYmFja2dyb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcbiAgc2V0R2x5cGhPcGFjaXR5Q29udHJvbHMobWVpQ2xhc3NOYW1lKTtcbiAgc2V0QmdPcGFjaXR5Q29udHJvbHMoYmFja2dyb3VuZCk7XG4gIHNldEhpZ2hsaWdodENvbnRyb2xzKCk7XG4gIHNldEJ1cmdlckNvbnRyb2xzKCk7XG4gIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzKCk7XG4gIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpO1xuICBsb2FkSGlnaGxpZ2h0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUNvbnRlbnRzJyk7XG4gIGNvbnN0IHRvZ2dsZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRGlzcGxheScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlIZWFkZXInKTtcblxuICBkaXNwbGF5SGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICBkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZGlzcGxheSBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG59XG5cbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgR3JvdXBpbmcgZnJvbSAnLi9Hcm91cGluZyc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRTdGFmZkhhbmRsZXIgfSBmcm9tICcuL1N0YWZmVG9vbHMnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUhhbmRsZXIgfSBmcm9tICcuL05ldW1lVG9vbHMnO1xuaW1wb3J0IHtcbiAgQ2hhaW5BY3Rpb24sXG4gIENoYW5nZVN0YWZmQWN0aW9uLFxuICBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24sXG4gIEVkaXRvckFjdGlvbixcbiAgTWF0Y2hIZWlnaHRBY3Rpb24sXG4gIFJlbW92ZUFjdGlvbixcbiAgU2V0QWN0aW9uLFxuICBTZXRDbGVmQWN0aW9uLFxuICBTZXRMaXF1ZXNjZW50QWN0aW9uXG59IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFN0YWZmQkJveCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcblxuLyoqXG4gKiBUaGUgTmVvblZpZXcgcGFyZW50IHRvIGNhbGwgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBOZW9uVmlldy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xuICBHcm91cGluZy5pbml0TmVvblZpZXcodmlldyk7XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGluY2xpbmF0dW0gcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRJbmNsaW5hdHVtQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIHZpcmdhIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0VmlyZ2FBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgcmV2ZXJzZWQgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGxpcXVlc2NlbnRfY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9hbnRpY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRMaXF1ZXNjZW50QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXRMaXF1ZXNjZW50JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGN1cnZlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqIEV2ZW50IGhhbmRsZXIgZm9yIGRlbGV0ZSBidXR0b24gcHJlc3MuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQnV0dG9uSGFuZGxlciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnZCcgfHwgZXZ0LmtleSA9PT0gJ0JhY2tzcGFjZScpIHsgcmVtb3ZlSGFuZGxlcigpOyBldnQucHJldmVudERlZmF1bHQoKTsgfVxufVxuXG4vKipcbiAqIEVuZCB0aGUgZXh0cmEgb3B0aW9ucyBtZW51LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgaWYgKG1vcmVFZGl0KSB7XG4gICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfVxuICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xufVxuXG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlbW92aW5nIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVIYW5kbGVyICgpOiB2b2lkIHtcbiAgY29uc3QgdG9SZW1vdmU6IFJlbW92ZUFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuYWNjaWQnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5kaXZMaW5lJyk7XG4gICAgfVxuICAgIHRvUmVtb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9SZW1vdmVcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmUtYXNzb2NpYXRpbmcgZWxlbWVudHMgdG8gdGhlIG5lYXJlc3Qgc3RhZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVN0YWZmSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9DaGFuZ2U6IENoYW5nZVN0YWZmQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvQ2hhbmdlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2NoYW5nZVN0YWZmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9DaGFuZ2VcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgaW5zZXJ0aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBpbnRvIG5lYXJlc3Qgc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0luc2VydDogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvSW5zZXJ0LnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2luc2VydFRvU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvSW5zZXJ0XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0luc2VydCBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIG1vdmluZyBkaXZpc2lvIG9yIGFjY2lkZW50YWwgb3V0IG9mIHN5bGxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9Nb3ZlOiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9Nb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ21vdmVPdXRzaWRlU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvTW92ZVxuICB9O1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01vdmUgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gbWF0Y2ggYmJveCBoZWlnaHQgdG8gdGhlIHNlbGVjdGVkIGJib3hcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1hdGNoSGVpZ2h0SGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBpZiAoc2VsZWN0ZWQubGVuZ3RoID4gMSkge1xuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2Fubm90IG1hdGNoIGhlaWdodCB0byBtdWx0aXBsZSBiYm94JywgJ2Vycm9yJyk7XG4gIH1cbiAgY29uc3QgdG9DaGFuZ2U6IE1hdGNoSGVpZ2h0QWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21hdGNoSGVpZ2h0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBzZWxlY3RlZFswXS5pZFxuICAgIH1cbiAgfTtcblxuICBuZW9uVmlldy5lZGl0KHRvQ2hhbmdlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0hlaWdodCBNYXRjaCBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdIZWlnaHQgTWF0Y2ggRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGREZWxldGVMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuXG4gIGlmIChkZWwpIHtcbiAgICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcblxuICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIG91dHNpZGUgdGhlIGlmIGNvbmRpdGlvbj9cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgY2hhbmdlU3RhZmYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKTtcbiAgY2hhbmdlU3RhZmY/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgY2hhbmdlU3RhZmY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGNvbHVtbiBudW1iZXIgaW4gdGhlIGlucHV0XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUNvbHVtbkluZm8oKTogdm9pZCB7XG4gIGNvbnN0IGNvbElucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbnB1dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IHN0YXZlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi5zZWxlY3RlZCcpO1xuICBsZXQgY29sSW5mbzogbnVtYmVyO1xuICBmb3IgKGNvbnN0IHN0YWZmIG9mIHN0YXZlcykge1xuICAgIGNvbnN0IGhhc0NvbHVtbiA9IEFycmF5LmZyb20oc3RhZmYuY2xhc3NMaXN0KS5qb2luKCcgJykubWF0Y2goL1xcYmNvbHVtbihcXGQrKVxcYi8pO1xuICAgIGlmIChoYXNDb2x1bW4pIHtcbiAgICAgIGNvbnN0IHN0YWZmQ29sID0gcGFyc2VJbnQoaGFzQ29sdW1uWzFdLCAxMCk7XG4gICAgICBpZiAoY29sSW5mbyAmJiBjb2xJbmZvICE9IHN0YWZmQ29sKSB7XG4gICAgICAgIGNvbnN0IHdhcm5pbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29sLXdhcm5pbmcnKTtcbiAgICAgICAgd2FybmluZy5pbm5lclRleHQgPSAnVGhlIHNlbGVjdGVkIHN0YXZlcyBhcmUgbm90IG9mIHRoZSBzYW1lIGNvbHVtbiEnO1xuICAgICAgICBjb2xJbmZvID0gMDtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb2xJbmZvID0gc3RhZmZDb2w7XG4gICAgICB9XG4gICAgfVxuICB9IFxuICBpZiAoY29sSW5mbykgY29sSW5wdXQudmFsdWUgPSBjb2xJbmZvLnRvU3RyaW5nKCk7XG59XG5cbi8qKlxuICogQWRkIGNvbHVtbiBpbmZvIGVkaXQgaGFuZGxlciBmb3IgY29sdW1uIGluZm8gZWRpdG9yXG4gKi9cbmZ1bmN0aW9uIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgZGVjcmVtZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1kZWNyZW1lbnQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgaW5jcmVtZW50QnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbC1pbmNyZW1lbnQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtY29uZmlybScpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb2xJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb2wtaW5wdXQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIGRlY3JlbWVudEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICB1cGRhdGVOdW1iZXIoLTEpO1xuICB9KTtcblxuICBpbmNyZW1lbnRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgdXBkYXRlTnVtYmVyKDEpO1xuICB9KTtcblxuICAvLyBBZGQgY29sdW1uIGluZm8gZWRpdCBoYW5kbGVyXG4gIGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgY29uc3QgdG9TZXRDb2x1bW46IEVkaXRvckFjdGlvbltdID0gW107XG4gICAgY29uc3Qgc3RhdmVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gICAgc3RhdmVzLmZvckVhY2goc3RhZmYgPT4ge1xuICAgICAgdG9TZXRDb2x1bW4ucHVzaChcbiAgICAgICAge1xuICAgICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgICBhdHRyVHlwZTogJ3R5cGUnLFxuICAgICAgICAgICAgYXR0clZhbHVlOiAnY29sdW1uJyArIGNvbElucHV0LnZhbHVlLFxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogdG9TZXRDb2x1bW5cbiAgICB9O1xuICAgIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NvbHVtbiBWYWx1ZSBVcGRhdGUgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NvbHVtbiBWYWx1ZSBVcGRhdGUgRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gICAgfSk7XG4gIH0pO1xuICBcbiAgZnVuY3Rpb24gdXBkYXRlTnVtYmVyKGNoYW5nZTogbnVtYmVyKSB7XG4gICAgY29uc3QgbWluTnVtID0gMTtcbiAgICBjb25zdCBtYXhOdW0gPSA1O1xuICAgIGxldCBjdXJyZW50VmFsdWUgPSBwYXJzZUludChjb2xJbnB1dC52YWx1ZSwgMTApIHx8IDA7XG4gICAgY3VycmVudFZhbHVlICs9IGNoYW5nZTtcblxuICAgIGN1cnJlbnRWYWx1ZSA9IE1hdGgubWluKE1hdGgubWF4KGN1cnJlbnRWYWx1ZSwgbWluTnVtKSwgbWF4TnVtKTtcbiAgICBpZiAoY3VycmVudFZhbHVlLnRvU3RyaW5nKCkgIT0gY29sSW5wdXQudmFsdWUpIGNvbmZpcm1CdXR0b24uc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIGNvbElucHV0LnZhbHVlID0gY3VycmVudFZhbHVlLnRvU3RyaW5nKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBzZXQgdGhlIEhUTUwgY29udGVudCBvZiBlZGl0IGNvbnRyb2xzOiBlaXRoZXIgI21vcmVFZGl0IG9yICNleHRyYUVkaXRcbiAqXG4gKiBAcGFyYW0geydtb3JlRWRpdCcgfCAnZXh0cmFFZGl0J30gZWRpdFR5cGUgLSBUaGUgdHlwZSBvZiBlZGl0IGNvbnRyb2xzXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudHMgLSBUaGUgaW5uZXJIVE1MIGNvbnRlbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlcGxhY2UgLSBJcyB0aGUgaW5uZXJIVE1MIGJlaW5nIHJlcGxhY2VkLCBvciBiZWluZyBhZGRlZCB0bz9cbiAqL1xuZnVuY3Rpb24gc2V0RWRpdENvbnRyb2xzKGVkaXRUeXBlOiAnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCcsIGNvbnRlbnRzOiBzdHJpbmcsIHJlcGxhY2UgPSB0cnVlKTogdm9pZCB7XG4gIGNvbnN0IGVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0VHlwZSk7XG4gIFxuICBpZiAoZWRpdCkge1xuICAgIGVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAocmVwbGFjZSkgZWRpdC5pbm5lckhUTUwgPSBjb250ZW50cztcbiAgICBlbHNlIGVkaXQuaW5uZXJIVE1MICs9IGNvbnRlbnRzO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZXh0cmEgbmMgYWN0aW9uIG1lbnUgZm9yIGEgc2VsZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5jQWN0aW9ucyAobmM6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmNBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1B1bmN0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNJbmNsaW5hdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0SW5jbGluYXR1bTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzZSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRJbmNsaW5hdHVtIF0gfSAsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRWaXJnYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldEluY2xpbmF0dW0sIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0VmlyZ2EgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2FSZXZlcnNlZC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhUmV2ZXJzZWQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYVJldmVyc2VkIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0xpcXVlc2NlbnRDbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlOiBTZXRMaXF1ZXNjZW50QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRMaXF1ZXNjZW50JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGN1cnZlOiAnYydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7ICBcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudEFudGljbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2U6IFNldExpcXVlc2NlbnRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldExpcXVlc2NlbnQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgY3VydmU6ICdhJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBuZXVtZSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5ldW1lQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLm5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJyk7XG4gIGlmIChuZXVtZS5sZW5ndGggIT09IDEpIHtcbiAgICBjb25zb2xlLndhcm4oJ01vcmUgdGhhbiBvbmUgbmV1bWUgc2VsZWN0ZWQhIENhbm5vdCB0cmlnZ2VyIE5ldW1lIENsaWNrU2VsZWN0IGFjdGlvbnMuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVE9ETyBhZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1uZXVtZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV1bWUuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgICAgIGlmIChuZXVtZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdE5ldW1lSGFuZGxlcihuZW9uVmlldywgbmV1bWUpO1xuICAgICAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpdmlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaW1hY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNUb3JjdWx1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzUmVzdXBpbnVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ByZXNzdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG5cbiAgZnVuY3Rpb24gdHJpZ2dlckNoYW5nZUdyb3VwIChjb250b3VyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjaGFuZ2VHcm91cGluZ0FjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnY2hhbmdlR3JvdXAnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBuZXVtZVswXS5pZCxcbiAgICAgICAgY29udG91cjogY29udG91clxuICAgICAgfVxuICAgIH07XG4gICAgbmVvblZpZXcuZWRpdChjaGFuZ2VHcm91cGluZ0FjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIHN5bGxhYmxlIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3lsbGFibGVBY3Rpb25zIChzZWxlY3Rpb25UeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zeWxsYWJsZUFjdGlvbnNDb250ZW50KTtcbiAgLy8gaW5pdGlhbGl6ZSB2YXJpYWJsZSB0aGF0IHdpbGwgaG9sZCBodG1sIHRvIGJlIGFkZGVkIHRvIERpc3BsYXkgcGFuZWxcbiAgbGV0IGV4dHJhQWN0aW9uc0hUTUwgPSAnJztcblxuICAvLyBkZXRlcm1pbmUgdGhlIHR5cGUgb2Ygc2VsZWN0aW9uIHRoYXQgd2FzIG1hZGUgYnkgdGhlIHVzZXJcbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICAvLyBvbmx5IG9uZSBzeWxsYWJsZVxuICAgIGNhc2UgJ3NpbmdsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gdHdvIHN5bGxhYmxlcyBvbiBzZXBhcmF0ZSBzdGF2ZXNcbiAgICBjYXNlICdsaW5rYWJsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saW5rXCI+VG9nZ2xlIExpbmtlZCBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0b3cgb3IgbW9yZSBzeWxsYWJsZXMgb24gb25lIHN0YWZmXG4gICAgY2FzZSAnbXVsdGlTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvL2RlZmF1bHQgb3B0aW9uc1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gIH1cblxuICAvLyBzZXQgY29udGVudCBvZiBhZGRpdGlvbmFsIGFjdGlvbnMgaW4gRGlzcGxheSBwYW5lbCBcbiAgLy8gYW5kIGluaXRpYWxpemUgbmVjZXNzYXJ5IGxpc3RlbmVyc1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgZXh0cmFBY3Rpb25zSFRNTCwgdHJ1ZSk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGxheWVyIGVsZW1lbnQgKGFjY2lkLCBkaXZMaW5lLCBjdXN0b3MsIGNsZWYpIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2N1c3RvcycpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmN1c3Rvc0FjdGlvbkNvbnRlbnRzKTtcbiAgICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gICAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAgIHJldHVybjtcbiAgfVxuICBcbiAgY29uc3QgcGFyZW50SXNTeWxsYWJsZSA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJyk7XG4gIGNvbnN0IGxheWVyRWxlbWVudEFjdGlvbnMgPSBwYXJlbnRJc1N5bGxhYmxlXG4gICAgPyBDb250ZW50cy5sYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzXG4gICAgOiBDb250ZW50cy5sYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cztcbiAgXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBsYXllckVsZW1lbnRBY3Rpb25zLCBmYWxzZSk7XG4gIFxuICAvLyBleHRyYSBhY3Rpb25zIGZvciBhY2NpZCBhbmQgZGl2TGluZVxuICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmFjY2lkQWN0aW9uQ29udGVudHMpO1xuICAgIGFjY2lkT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9XG4gIGVsc2UgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpIHtcbiAgICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNsZWZBY3Rpb25Db250ZW50cyk7XG4gICAgY2xlZk9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBlbHNlIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5kaXZMaW5lQWN0aW9uQ29udGVudHMpO1xuICAgIGRpdkxpbmVPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH1cbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0VG9TeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVPdXRzaWRlU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcik7XG5cbiBcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcbn1cblxuZnVuY3Rpb24gYWNjaWRPcHRpb25zTGlzdGVuZXIoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0ZsYXQuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9GbGF0OiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGNoYW5nZVRvRmxhdCk7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb05hdHVyYWwuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9OYXR1cmFsOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ24nXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGNoYW5nZVRvTmF0dXJhbCk7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcblxufVxuXG5mdW5jdGlvbiBjbGVmT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5jcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2Fib3ZlJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgaW5jcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlY3JlbWVudC1vY3RhdmUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluY3JlbWVudE9jdGF2ZTogRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkaXNwbGFjZUNsZWZPY3RhdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBkaXJlY3Rpb246ICdiZWxvdydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChpbmNyZW1lbnRPY3RhdmUsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsZWYgb2N0YXZlIGRlY3JlbWVudGVkLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNYXhpbXVtIG9jdGF2ZSBkaXNwbGFjZW1lbnQgcmVhY2hlZC4gQ2xlZiBjYW4gb25seSBiZSBkaXNwbGFjZWQgdXAgdG8gMyBvY3RhdmVzLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRDQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHNoYXBlOiAnQydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oc2V0Q0NsZWYpO1xuICAgIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjRkNsZWYuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0RkNsZWY6IFNldENsZWZBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldENsZWYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBzaGFwZTogJ0YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKHNldEZDbGVmKTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG5mdW5jdGlvbiBkaXZMaW5lT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9NaW5pbWEuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9NaW5pbWE6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdtaW5pbWEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWluaW1hKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9NYWlvci5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01haW9yOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbWFpb3InXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvTWFpb3IpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb01heGltYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb01heGltYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ21heGltYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9NYXhpbWEpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0ZpbmFsaXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgQ2hhbmdlVG9GaW5hbGlzOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnZm9ybScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZmluYWxpcydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIHBhcnNlU2hhcGVDaGFuZ2VBY3Rpb24oQ2hhbmdlVG9GaW5hbGlzKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9DYWVzdXJhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IENoYW5nZVRvQ2Flc3VyYTogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2Zvcm0nLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2NhZXN1cmEnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKENoYW5nZVRvQ2Flc3VyYSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvVmlyZ3VsYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBDaGFuZ2VUb1Zpcmd1bGE6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdmb3JtJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICd2aXJndWxhJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgcGFyc2VTaGFwZUNoYW5nZUFjdGlvbihDaGFuZ2VUb1Zpcmd1bGEpO1xuICAgIH0pO1xuICAgIFxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFBhcnNlIGFjdGlvbnMgcmVnYXJkaW5nIHNoYXBlIGNoYW5nZXMgdG8gZWRpdG9yIGFjdGlvblxuICovXG5mdW5jdGlvbiBwYXJzZVNoYXBlQ2hhbmdlQWN0aW9uKGFjdGlvbjogU2V0QWN0aW9uIHwgU2V0Q2xlZkFjdGlvbikge1xuICBuZW9uVmlldy5lZGl0KGFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3RhZmYgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJNdWx0aVN0YWZmQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN0YWZmTWVyZ2VBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY29sdW1uQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIENvbHVtbiBpbmZvIGVkaXRvclxuICB1cGRhdGVDb2x1bW5JbmZvKCk7XG4gIGFkZENvbHVtbkluZm9TdGVwSGFuZGxlcigpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXJnZS1zeXN0ZW1zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgR3JvdXBpbmcubWVyZ2VTdGF2ZXMoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRW50ZXIgc3RhZmYgc3BsaXR0aW5nIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSAoKTogdm9pZCB7XG4gIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHR0VsZW1lbnQ7XG4gIGlmIChzdGFmZiAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0U3RhZmZIYW5kbGVyKG5lb25WaWV3LCBzdGFmZik7XG4gICAgc3BsaXQuc3RhcnRTcGxpdCgpO1xuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQhJyk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciBzcGxpdCBzdGFmZiBvcHRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTaW5nbGVTdGFmZkFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zdGFmZlNwbGl0QWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNvbHVtbkFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAvLyBDb2x1bW4gaW5mbyBlZGl0b3JcbiAgdXBkYXRlQ29sdW1uSW5mbygpO1xuICBhZGRDb2x1bW5JbmZvU3RlcEhhbmRsZXIoKTtcblxuICAvLyBBZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1zeXN0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSgpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1yb3RhdGUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHRWxlbWVudDtcbiAgICAgIC8vIFVudXNlZCB2YXJpYWJsZXM6XG4gICAgICAvLyBjb25zdCByZWN0ID0gc3RhZmYucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKTtcbiAgICAgIC8vIGNvbnN0IGNvID0gcmVjdC5nZXRBdHRyaWJ1dGUoJ3BvaW50cycpLnNwbGl0KCcgJyk7XG4gICAgICAvLyBjb25zdCBkeSA9IHBhcnNlSW50KGNvWzBdLnNwbGl0KCcsJylbMV0pIC0gcGFyc2VJbnQoY29bMV0uc3BsaXQoJywnKVsxXSk7XG4gICAgICBjb25zdCBwb2ludHMgPSBnZXRTdGFmZkJCb3goc3RhZmYgYXMgU1ZHR0VsZW1lbnQpO1xuICAgICAgY29uc3QgeV9jaGFuZ2UgPSBNYXRoLnRhbihwb2ludHMucm90YXRlKSoocG9pbnRzLmxyeCAtIHBvaW50cy51bHgpO1xuICAgICAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgICB1bHg6IHBvaW50cy51bHgsXG4gICAgICAgICAgICB1bHk6IHBvaW50cy5yb3RhdGUgPiAwID8gcG9pbnRzLnVseSArIHlfY2hhbmdlLzIgOiBwb2ludHMudWx5IC0geV9jaGFuZ2UvMixcbiAgICAgICAgICAgIGxyeDogcG9pbnRzLmxyeCxcbiAgICAgICAgICAgIGxyeTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMubHJ5IC0geV9jaGFuZ2UvMiA6IHBvaW50cy5scnkgKyB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgcm90YXRlOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCcpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBiYm94IG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJCQm94QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmJib3hBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtYXRjaEhlaWdodCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIG1hdGNoSGVpZ2h0SGFuZGxlcigpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgYWN0aW9ucyB3aGVuIHNlbGVjdGluZyBieSBzeWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgc2VsZWN0aW9uIG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBleHRyYSBkcm9wZG93biBvcHRpb25zOlxuICogTGlzdGVuIHRvIGNsaWNrcyBvbiBkcm9wZG93bnNcbiAqL1xuZnVuY3Rpb24gaW5pdE9wdGlvbnNMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKVxuICAgIC5mb3JFYWNoKFxuICAgICAgZHJvcCA9PiB7XG4gICAgICAgIC8vIFdoZW4gYW55dGhpbmcgdGhhdCBpcyBub3QgdGhlIGRyb3Bkb3duIGlzIGNsaWNrZWQgYXdheSwgdGhlIGRyb3Bkb3duXG4gICAgICAgIC8vIHNob3VsZCBsb3NlIGl0cyB2aXNpYmlsaXR5XG4gICAgICAgIGNvbnN0IG9wdGlvbnNDbGlja2F3YXkgPSAoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZHJvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAvLyBUb2dnbGUgdmlzaWJpbGl0eSBvZiBkcm9wZG93blxuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdmlzaWJpbGl0eSBvZiBvdGhlciBkcm9wZG93bnMgd2hlbiB0aGlzIG9uZSBpcyBjbGlja2VkXG4gICAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKSlcbiAgICAgICAgICAgIC5maWx0ZXIob3RoZXIgPT4gb3RoZXIgIT09IGRyb3ApXG4gICAgICAgICAgICAuZm9yRWFjaChvdGhlciA9PiBvdGhlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKSk7XG5cbiAgICAgICAgICAvLyBEb24ndCBhbGxvdyBvdGhlciBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgdG8gaW50ZXJmZXJlIHdpdGggdGhpcyBsaXN0ZW5lclxuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGlmIChkcm9wLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xufVxuIiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94IH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCQm94IHtcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IFNWRyByZWxhdGl2ZSBjb29yZGluYXRlcyBnaXZlbiBjbGllbnRYIGFuZCBjbGllbnRZXG4gKiBTb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI5MjYxMzA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTVkdSZWxDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogUG9pbnQge1xuICBjb25zdCBwdCA9IG5ldyBET01Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdTVkdFbGVtZW50PignLmFjdGl2ZS1wYWdlID4gLmRlZmluaXRpb24tc2NhbGUnKTtcbiAgY29uc3Qgc3lzdGVtID0gc3ZnLnF1ZXJ5U2VsZWN0b3I8U1ZHR0VsZW1lbnQ+KCcuc3lzdGVtJyk7XG5cbiAgY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3lzdGVtLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gIHJldHVybiB7IHgsIHkgfTtcblxuICAvLyBJZiB0aGVyZSBpcyBzb21lIGlzc3VlIHdpdGggY29vcmRpbmF0ZXMsIHRoaXMgbWF5IGZpeCB0aGUgaXNzdWU6XG4gIC8vIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHU1ZHRWxlbWVudD4oJyNzdmdfZ3JvdXAnKTtcbiAgLy8gY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3ZnLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG59XG5cbi8qKlxuICogR2V0IElEIG9mIHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlcy5cbiAqIFRoaXMgZnVuY3Rpb24gY29uc2lkZXJzIHRoZSAqdmlzdWFsKiBib3VuZGluZyBib3ggb2YgdGhlIHN0YWZmXG4gKiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMsIGluc3RlYWQgb2YgdGhlIFNWRyBlbGVtZW50IGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmSWRCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR0VsZW1lbnQ+KCcuc3RhZmYnKSk7XG4gIGNvbnN0IHN0YWZmQkJveGVzID0gc3RhdmVzLm1hcChzdGFmZiA9PiBnZXRTdGFmZkJCb3goc3RhZmYpKTtcblxuICAvLyBmaW5kIHRoZSBzdGFmZiB0aGF0IHRoZSBjdXJzb3IgaXMgaW5zaWRlXG4gIGNvbnN0IHsgeCwgeSB9ID0gZ2V0U1ZHUmVsQ29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdGFmZiA9IHN0YWZmQkJveGVzLmZpbmQoXG4gICAgKGJib3gpID0+IHggPD0gYmJveC5scnggJiYgeCA+PSBiYm94LnVseCAmJiB5IDw9IGJib3gubHJ5ICYmIHkgPj0gYmJveC51bHlcbiAgKTsgXG5cbiAgLy8gSWYgdGhlcmUgaXMgaXNzdWVzIHdpdGggZmluZGluZyB0aGUgc3RhZmYsIHRoaXMgbWF5IGJlIG1vcmUgYWNjdXJhdGU6XG4gIC8vIHJldHVybiAocHQueCA+IHVseCAmJiBwdC54IDwgbHJ4KSAmJlxuICAvLyAgIChwdC55ID4gKHVseSArIChwdC54IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAvLyAgIChwdC55IDwgKGxyeSAtIChscnggLSBwdC54KSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcblxuICAvLyBpZiB0aGUgY3Vyc29yIGlzIG5vdCBpbnNpZGUgYW55IHN0YWZmLCB0aGVuIGV4cGxpY2l0bHkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHN0YWZmID8gc3RhZmYuaWQgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXM7IHdyYXBwZXIgZm9yIGdldFN0YWZmSWRCeUNvb3JkcywgYnV0XG4gKiAgIHJldHVybnMgdGhlIGVsZW1lbnQsIG5vdCB0aGUgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogU1ZHR0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc3RhZmZJZCA9IGdldFN0YWZmSWRCeUNvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3N0YWZmSWR9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc091dE9mU1ZHQm91bmRzICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBiZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHSW1hZ2VFbGVtZW50PignI2JnaW1nJyk7XG4gIFxuICByZXR1cm4gKFxuICAgIHggPD0gMCB8fCB4ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpIHx8XG4gICAgeSA8PSAwIHx8IHkgPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpXG4gICk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCAobHJ4LCBscnksIHVseCwgdWx5KSBvZiBhIGdseXBoLCB3aGljaFxuICogaXMgYSA8dXNlPiBlbGVtZW50IGluIHRoZSBTVkdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdseXBoQkJveCAoZzogU1ZHUmVjdEVsZW1lbnQgfCBTVkdVc2VFbGVtZW50KTogQkJveCB7XG4gIGNvbnN0IHJlY3QgPSAoZy50YWdOYW1lID09ICdyZWN0JykgPyBnLmdldEJCb3goKSA6IChnLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICByZXR1cm4ge1xuICAgIHVseDogcmVjdC54LFxuICAgIHVseTogcmVjdC55LFxuICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbiIsIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAod2l0aCBzdXBwb3J0IGZvciB3ZWIgd29ya2VycylcbiAgICAgICAgdmFyIGdsb2I7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2IgPSB3aW5kb3c7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2IgPSBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYi5TcGFya01ENSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qXG4gICAgICogRmFzdGVzdCBtZDUgaW1wbGVtZW50YXRpb24gYXJvdW5kIChKS00gbWQ1KS5cbiAgICAgKiBDcmVkaXRzOiBKb3NlcGggTXllcnNcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5teWVyc2RhaWx5Lm9yZy9qb3NlcGgvamF2YXNjcmlwdC9tZDUtdGV4dC5odG1sXG4gICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9tZDUtc2hvb3RvdXQvN1xuICAgICAqL1xuXG4gICAgLyogdGhpcyBmdW5jdGlvbiBpcyBtdWNoIGZhc3RlcixcbiAgICAgIHNvIGlmIHBvc3NpYmxlIHdlIHVzZSBpdC4gU29tZSBJRXNcbiAgICAgIGFyZSB0aGUgb25seSBvbmVzIEkga25vdyBvZiB0aGF0XG4gICAgICBuZWVkIHRoZSBpZGlvdGljIHNlY29uZCBmdW5jdGlvbixcbiAgICAgIGdlbmVyYXRlZCBieSBhbiBpZiBjbGF1c2UuICAqL1xuICAgIHZhciBhZGQzMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYSArIGIpICYgMHhGRkZGRkZGRjtcbiAgICB9LFxuICAgICAgICBoZXhfY2hyID0gWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJ107XG5cblxuICAgIGZ1bmN0aW9uIGNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gICAgICAgIGEgPSBhZGQzMihhZGQzMihhLCBxKSwgYWRkMzIoeCwgdCkpO1xuICAgICAgICByZXR1cm4gYWRkMzIoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVjeWNsZSh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXSxcbiAgICAgICAgICAgIGIgPSB4WzFdLFxuICAgICAgICAgICAgYyA9IHhbMl0sXG4gICAgICAgICAgICBkID0geFszXTtcblxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMV0gLSAzODk1NjQ1ODYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMl0gKyA2MDYxMDU4MTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzRdIC0gMTc2NDE4ODk3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbNV0gKyAxMjAwMDgwNDI2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1s3XSAtIDQ1NzA1OTgzIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzhdICsgMTc3MDAzNTQxNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxMF0gLSA0MjA2MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxMV0gLSAxOTkwNDA0MTYyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxM10gLSA0MDM0MTEwMSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxNF0gLSAxNTAyMDAyMjkwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxXSAtIDE2NTc5NjUxMCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzZdIC0gMTA2OTUwMTYzMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1swXSAtIDM3Mzg5NzMwMiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s1XSAtIDcwMTU1ODY5MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTVdIC0gNjYwNDc4MzM1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzRdIC0gNDA1NTM3ODQ4IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTRdIC0gMTAxOTgwMzY5MCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzNdIC0gMTg3MzYzOTYxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxM10gLSAxNDQ0NjgxNDY3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMl0gLSA1MTQwMzc4NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1sxMl0gLSAxOTI2NjA3NzM0IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzVdIC0gMzc4NTU4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTFdICsgMTgzOTAzMDU2MiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTRdIC0gMzUzMDk1NTYgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzRdICsgMTI3Mjg5MzM1MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbN10gLSAxNTU0OTc2MzIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMTNdICsgNjgxMjc5MTc0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzBdIC0gMzU4NTM3MjIyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbNl0gKyA3NjAyOTE4OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s5XSAtIDY0MDM2NDQ4NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzE1XSArIDUzMDc0MjUyMCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMl0gLSA5OTUzMzg2NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1s3XSArIDExMjY4OTE0MTUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzE0XSAtIDE0MTYzNTQ5MDUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1szXSAtIDE4OTQ5ODY2MDYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzEwXSAtIDEwNTE1MjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTVdIC0gMzA2MTE3NDQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzZdIC0gMTU2MDE5ODM4MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxMV0gLSAxMTIwMjEwMzc5IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1syXSArIDcxODc4NzI1OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyB8IDA7XG5cbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGsocykge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IHMuY2hhckNvZGVBdChpKSArIChzLmNoYXJDb2RlQXQoaSArIDEpIDw8IDgpICsgKHMuY2hhckNvZGVBdChpICsgMikgPDwgMTYpICsgKHMuY2hhckNvZGVBdChpICsgMykgPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsa19hcnJheShhKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gYVtpXSArIChhW2kgKyAxXSA8PCA4KSArIChhW2kgKyAyXSA8PCAxNikgKyAoYVtpICsgM10gPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTEocykge1xuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsayhzLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgLSA2NCk7XG4gICAgICAgIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBzLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MV9hcnJheShhKSB7XG4gICAgICAgIHZhciBuID0gYS5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrX2FycmF5KGEuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHN1cmUgaWYgaXQgaXMgYSBidWcsIGhvd2V2ZXIgSUUxMCB3aWxsIGFsd2F5cyBwcm9kdWNlIGEgc3ViIGFycmF5IG9mIGxlbmd0aCAxXG4gICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgcGFyZW50IGFycmF5IGlmIHRoZSBzdWIgYXJyYXkgc3BlY2lmaWVkIHN0YXJ0c1xuICAgICAgICAvLyBiZXlvbmQgdGhlIGxlbmd0aCBvZiB0aGUgcGFyZW50IGFycmF5IC0gd2VpcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNzcxNDUyL3R5cGVkLWFycmF5LXN1YmFycmF5LWlzc3VlXG4gICAgICAgIGEgPSAoaSAtIDY0KSA8IG4gPyBhLnN1YmFycmF5KGkgLSA2NCkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYVtpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmhleChuKSB7XG4gICAgICAgIHZhciBzID0gJycsXG4gICAgICAgICAgICBqO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgNDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzICs9IGhleF9jaHJbKG4gPj4gKGogKiA4ICsgNCkpICYgMHgwRl0gKyBoZXhfY2hyWyhuID4+IChqICogOCkpICYgMHgwRl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4KHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB4W2ldID0gcmhleCh4W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geC5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSBmYXN0IGFkZDMyIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkLi5cbiAgICBpZiAoaGV4KG1kNTEoJ2hlbGxvJykpICE9PSAnNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTInKSB7XG4gICAgICAgIGFkZDMyID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRiksXG4gICAgICAgICAgICAgICAgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEFycmF5QnVmZmVyIHNsaWNlIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICAgICAqL1xuXG4gICAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhbXAodmFsLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAodmFsIHwgMCkgfHwgMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWwgKyBsZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih2YWwsIGxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gY2xhbXAoZnJvbSwgbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gbGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBudW0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2xhbXAodG8sIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbnVtID0gZW5kIC0gYmVnaW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLCBiZWdpbiwgbnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXJzLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgICAgICBpZiAoL1tcXHUwMDgwLVxcdUZGRkZdLy50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdHIsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0ci5sZW5ndGgsXG4gICAgICAgICAgIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSxcbiAgICAgICAgICAgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZiksXG4gICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gYXJyIDogYnVmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUJ1ZmZlcjJVdGY4U3RyKGJ1ZmYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGZpcnN0LCBzZWNvbmQsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZpcnN0LmJ5dGVMZW5ndGggKyBzZWNvbmQuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShmaXJzdCkpO1xuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KHNlY29uZCksIGZpcnN0LmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gcmVzdWx0IDogcmVzdWx0LmJ1ZmZlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXhUb0JpbmFyeVN0cmluZyhoZXgpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gW10sXG4gICAgICAgICAgICBsZW5ndGggPSBoZXgubGVuZ3RoLFxuICAgICAgICAgICAgeDtcblxuICAgICAgICBmb3IgKHggPSAwOyB4IDwgbGVuZ3RoIC0gMTsgeCArPSAyKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleC5zdWJzdHIoeCwgMiksIDE2KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGJ5dGVzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1LCBvdGhlcndpc2UgdXNlIHRoZVxuICAgICAqIHN0YXRpYyBtZXRob2RzIGluc3RlYWQuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBTcGFya01ENSgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIGFuIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBhcHBlbmQgYXMgYmluYXJ5XG4gICAgICAgIHRoaXMuYXBwZW5kQmluYXJ5KHRvVXRmOChzdHIpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgVGhlIGJpbmFyeSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICB0aGlzLl9idWZmICs9IGNvbnRlbnRzO1xuICAgICAgICB0aGlzLl9sZW5ndGggKz0gY29udGVudHMubGVuZ3RoO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9idWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGsodGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9ICcnO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmY6IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgICAgIGhhc2g6IHRoaXMuX2hhc2guc2xpY2UoKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9idWZmID0gc3RhdGUuYnVmZjtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB0aGlzLl9oYXNoID0gc3RhdGUuaGFzaDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZXMgbWVtb3J5IHVzZWQgYnkgdGhlIGluY3JlbWVudGFsIGJ1ZmZlciBhbmQgb3RoZXIgYWRkaXRpb25hbFxuICAgICAqIHJlc291cmNlcy4gSWYgeW91IHBsYW4gdG8gdXNlIHRoZSBpbnN0YW5jZSBhZ2FpbiwgdXNlIHJlc2V0IGluc3RlYWQuXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9oYXNoO1xuICAgICAgICBkZWxldGUgdGhpcy5fYnVmZjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBmaW5hbCBjYWxjdWxhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICB0YWlsICAgVGhlIHRhaWwgKHdpbGwgYmUgbW9kaWZpZWQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSByZW1haW5pbmcgYnVmZmVyXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAodGFpbCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBpID0gbGVuZ3RoLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gdGhlIGZpbmFsIGNvbXB1dGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsIGFuZCBsZW5ndGhcbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtYXkgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IHRoaXMuX2xlbmd0aCAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIHN0ciBUaGUgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoID0gZnVuY3Rpb24gKHN0ciwgcmF3KSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBjb21wdXRlIGl0IHVzaW5nIHRoZSBiaW5hcnkgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1Lmhhc2hCaW5hcnkodG9VdGY4KHN0ciksIHJhdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIGNvbnRlbnQgVGhlIGJpbmFyeSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddICAgICBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnQsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTEoY29udGVudCksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUgT05MWSBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICB2YXIgYnVmZiA9IGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKHRoaXMuX2J1ZmYuYnVmZmVyLCBhcnIsIHRydWUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBhcnIuYnl0ZUxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsa19hcnJheShidWZmLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSAoaSAtIDY0KSA8IGxlbmd0aCA/IG5ldyBVaW50OEFycmF5KGJ1ZmYuYnVmZmVyLnNsaWNlKGkgLSA2NCkpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYnVmZmVyIHRvIGEgc3RyaW5nXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSBhcnJheUJ1ZmZlcjJVdGY4U3RyKHN0YXRlLmJ1ZmYpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYnVmZmVyXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSB1dGY4U3RyMkFycmF5QnVmZmVyKHN0YXRlLmJ1ZmYsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgfTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3k7XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaCA9IFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgYnVmZmVyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIuaGFzaCA9IGZ1bmN0aW9uIChhcnIsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTFfYXJyYXkobmV3IFVpbnQ4QXJyYXkoYXJyKSksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTcGFya01ENTtcbn0pKTtcbiIsIi8qKlxuICogRm9ybWF0cyByYXcgVVVJRCBkYXRhIGludG8gdGhlIHByb3BlciBzdHJpbmcgZm9ybWF0LlxuICogQHBhcmFtIGRhdGEgLSBSYXcgVVVJRCBkYXRhLlxuICogQHJldHVybnMgRm9ybWF0dGVkIFVVSUQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB1aW50OFRvVXVpZCAoZGF0YTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGlmIChkYXRhLmxlbmd0aCAhPT0gMTYpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBmdW5jdGlvbiBjYiAocHJldmlvdXM6IHN0cmluZywgY3VycmVudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJldmlvdXMgKyBjdXJyZW50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgNCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNCwgNikucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNiwgOCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoOCwgMTApLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDEwKS5yZWR1Y2UoY2IsICcnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBBIFt2ZXJzaW9uIDQgVVVJRF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsbHlfdW5pcXVlX2lkZW50aWZpZXIjVmVyc2lvbl80XyhyYW5kb20pKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NCAoKTogc3RyaW5nIHtcbiAgLy8gQ2hlY2sgZm9yIGNyeXB0byBBUElcbiAgaWYgKHdpbmRvdy5jcnlwdG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1aW50OFRvVXVpZChuZXcgVWludDhBcnJheSgxNikpO1xuICB9XG5cbiAgLy8gR2V0IDE2IG9jdGV0cyBmb3IgVVVJRFxuICBjb25zdCBvY3RldHMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGNvbnN0IG1vZGlmaWVycyA9IFVpbnQ4QXJyYXkuZnJvbShbXG4gICAgcGFyc2VJbnQoJzAxMDAwMDAwJywgMiksICAvLyBWZXJzaW9uIGJpdHMgKDQgPT4gMDEwMClcbiAgICBwYXJzZUludCgnMTAwMDAwMDAnLCAyKSwgIC8vIFZhcmlhbnQgYml0cyAoMTB4KVxuICAgIHBhcnNlSW50KCcwMDAwMTExMScsIDIpLCAgLy8gTWFzayB0byB6ZXJvIGhpZ2hlciBiaXRzLCB2ZXJzaW9uXG4gICAgcGFyc2VJbnQoJzAwMTExMTExJywgMikgICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZhcmlhbnRcbiAgXSk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG9jdGV0cyk7XG4gIC8vIFNldCB2ZXJzaW9uIGJpdHMgYW5kIHZhcmlhbnQgYml0c1xuICBvY3RldHNbNl0gPSAob2N0ZXRzWzZdICYgbW9kaWZpZXJzWzJdKSB8IG1vZGlmaWVyc1swXTtcbiAgb2N0ZXRzWzhdID0gKG9jdGV0c1s4XSAmIG1vZGlmaWVyc1szXSkgfCBtb2RpZmllcnNbMV07XG5cbiAgcmV0dXJuIHVpbnQ4VG9VdWlkKG9jdGV0cyk7XG59XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU2V0VGV4dEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IE1vZGFsV2luZG93SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBob3RrZXlzTW9kYWwsIGVkaXRUZXh0TW9kYWwgfSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7IG5ld0ZvbGRlckhUTUwsIHJlbmFtZUhUTUwsIHVwbG9hZEFyZWFIVE1MIH0gZnJvbSAnLi4vRGFzaGJvYXJkL0Rhc2hib2FyZENvbnRlbnQnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgc2VsZWN0QkJveCwgdW5zZWxlY3QgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBFRElUX1RFWFQsXG4gIEhPVEtFWVMsXG4gIFZBTElEQVRJT05fU1RBVFVTLFxuICBET0NVTUVOVF9VUExPQUQsXG4gIE1PVkVfVE8sXG4gIE5FV19GT0xERVIsXG4gIFJFTkFNRVxufVxuXG5lbnVtIE1vZGFsV2luZG93U3RhdGUge1xuICBPUEVOLFxuICBDTE9TRURcbn1cblxuXG5cbi8qKlxuICogTW9kYWwgY2xhc3MgaXMgdXNlZCB0byBjcmVhdGUgYW5kIGNvbnRyb2wgc3RhdGUvY29udGVudCBcbiAqIG9mIG1vZGFsIHdpbmRvd3MgaW4gTmVvbi5cbiAqL1xuZXhwb3J0IGNsYXNzIE1vZGFsV2luZG93IGltcGxlbWVudHMgTW9kYWxXaW5kb3dJbnRlcmZhY2Uge1xuICBwcml2YXRlIG1vZGFsV2luZG93VmlldzogTW9kYWxXaW5kb3dWaWV3OyAvLyBjdXJyZW50IG1vZGFsIHR5cGVcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1N0YXRlOiBNb2RhbFdpbmRvd1N0YXRlOyAvLyBvcGVuIG9yIGNsb3NlZD9cbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7IC8vIG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHRcblxuXG4gIC8qKlxuICAgKiBTZXQgbmVvblZpZXcgaW5zdGFuY2UgY29udGV4dCBmb3IgdGhpcyBtb2RhbCB3aW5kb3cgaW5zdGFuY2UuXG4gICAqIEBwYXJhbSBuZW9uVmlldyBuZW9uVmlldyBjb250ZXh0IGZvciBNb2RhbCBpbnN0YW5jZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3PzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5zZXR1cEV2ZW50TGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGxpc3RlbmVycyB0aGF0IGFwcGx5IHRvIGFsbCBtb2RhbCB3aW5kb3dzXG4gICAqL1xuICBwcml2YXRlIHNldHVwRXZlbnRMaXN0ZW5lcnMoKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgZXZlbnQgbGlzdGVuZXJzIGFzc29jaWF0ZWQgd2l0aCB0aGlzIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgcHJpdmF0ZSByZW1vdmVFdmVudExpc3RlbmVycygpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLWNsb3NlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5mb2N1c01vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IHRoZSBtb2RhbCB2aWV3IG9mIHRoaXMgTW9kYWwgaW5zdGFuY2UuXG4gICAqIFVwZGF0ZSB0aGUgY29udGVudCBiYXNlZCBvbiBwYXNzZWQgdmlldy5cbiAgICogQHBhcmFtIHZpZXcgVHlwZSBvZiBtb2RhbCB0byBvcGVuIChNb2RhbFZpZXcgZW51bSlcbiAgICovXG4gIHNldE1vZGFsV2luZG93Vmlldyh2aWV3OiBNb2RhbFdpbmRvd1ZpZXcsIGNvbnRlbnQ/OiBzdHJpbmcpOiB2b2lkIHtcbiAgICB0aGlzLm1vZGFsV2luZG93VmlldyA9IHZpZXc7XG4gICAgdGhpcy5zZXRNb2RhbFdpbmRvd0NvbnRlbnQoY29udGVudCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgbW9kYWwgdmlldyBhcyBhIHN0cmluZ1xuICAgKi9cbiAgZ2V0TW9kYWxXaW5kb3dWaWV3KCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubW9kYWxXaW5kb3dWaWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBPcGVuIGEgbW9kZWwgd2luZG93IHdpdGggY29udGVudCByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgTW9kYWxWaWV3LlxuICAgKi9cbiAgb3Blbk1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9KTtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIFxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICB0aGlzLm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIC8vIHNldCB1cCBhbmQgZGlwbGF5IGhvdGtleSBtb2RhbCBjb250ZW50XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgLy8gYWRkIGZ1bmN0aW9uIHRvIHBhaXJpbmcgYnV0dG9uXG4gICAgICAgIC8vIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5NT1ZFX1RPOlxuICAgICAgICBcbiAgICAgICAgLy8gYnJlYWs7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB1c2VyIGNhbid0IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5PUEVOO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb25zdCBzcGFuID0gKDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSOlxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuUkVOQU1FOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGJyZWFrO1xuICAgIH0gXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgLy8gcmVzZXQgc2Nyb2xsIGJlaGF2aW9yIG9mIGJvZHlcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ3Njcm9sbCc7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5DTE9TRUQ7XG4gICAgdGhpcy5yZW1vdmVFdmVudExpc3RlbmVycygpO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJyk7XG4gICAgY29uc3QgdGl0bGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJyk7XG5cbiAgICBzd2l0Y2ggKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdFRElUIFNZTExBQkxFIFRFWFQnO1xuXG4gICAgICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXTtcbiAgICAgICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgICAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcblxuICAgICAgICAvLyBzZXQgdmFsdWUgb2YgaW5wdXQgZmllbGQgdG8gY3VycmVudCBzeWxsYWJsZSB0ZXh0XG4gICAgICAgICg8SFRNTElucHV0RWxlbWVudD4gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkpLnZhbHVlID0gb3JpZztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkhPVEtFWVM6XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdIT1RLRVlTJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LlZBTElEQVRJT05fU1RBVFVTOlxuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gXG4gICAgICAgICAgYDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAzMHB4O3doaXRlLXNwYWNlOiBwcmUtbGluZTtcIj4ke2NvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiPlxuICAgICAgICAgICAgPGEgaHJlZj1cImRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfVwiIGRvd25sb2FkPVwidmFsaWRhdGlvbi5sb2dcIj5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICB0aXRsZS5pbm5lclRleHQgPSAnRVJST1IgTE9HJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgICAgdGl0bGUuaW5uZXJUZXh0ID0gJ0RPQ1VNRU5UIFVQTE9BRCc7XG4gICAgICAgIGNvbnRhaW5lci5pbm5lckhUTUwgPSB1cGxvYWRBcmVhSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk1PVkVfVE86XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdNT1ZFIFRPJztcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdORVcgRk9MREVSJztcbiAgICAgICAgY29udGFpbmVyLmlubmVySFRNTCA9IG5ld0ZvbGRlckhUTUw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIHRpdGxlLmlubmVyVGV4dCA9ICdSRU5BTUUnO1xuICAgICAgICBjb250YWluZXIuaW5uZXJIVE1MID0gcmVuYW1lSFRNTDtcbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gc2VsZWN0aW9uIHR5cGUuIFRoaXMgc2hvdWxkIG5vdCBoYXZlIG9jY3VycmVkLicpO1xuICAgIH0gXG4gIH1cblxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGNvbnRlbnQgZm9yIHVwZGF0aW5nIHN5bGxhYmxlIHRleHRcbiAgICovXG4gIHByaXZhdGUgb3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCggKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIEVkaXQgU3lsbGFibGUgVGV4dCBtb2RhbCB3aW5kb3dcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1lZGl0LXRleHQnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgXG4gICAgLy8gUmVzZXQgXCJDYW5jZWxcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWNhbmNlbCcpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcblxuICAgIC8vIFJlc2V0IFwiU2F2ZVwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtc2F2ZScpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVTeWxUZXh0LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtc2F2ZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy51cGRhdGVTeWxUZXh0LmJpbmQodGhpcykpO1xuXG4gICAgLy8gZGlzcGxheSBtb2RhbCB3aW5kb3dcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcblxuICAvKipcbiAgICogVXBkYXRlIHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZXMgd2l0aCB1c2VyLXByb3ZpZGVkIHRleHRcbiAgICovXG4gIHByaXZhdGUgdXBkYXRlU3lsVGV4dCA9IGZ1bmN0aW9uICgpIHtcbiAgICAvLyBzcGFuIGFuZCBjdXJyZW50IHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZSBhbmQgZmlsdGVyIG91dCB1bndhbnRlZCBjaGFyc1xuICAgIGNvbnN0IHNwYW4gPSA8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXTtcbiAgICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG4gICAgY29uc3QgdXBkYXRlZFN5bFRleHQgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkudmFsdWU7XG5cbiAgICBpZiAodXBkYXRlZFN5bFRleHQgIT09IG51bGwgJiYgdXBkYXRlZFN5bFRleHQgIT09IG9yaWcpIHtcbiAgICAgIC8vIGNyZWF0ZSBcInNldCB0ZXh0XCIgYWN0aW9uXG4gICAgICBjb25zdCBlbGVtZW50SWQgPSBbLi4uc3Bhbi5jbGFzc0xpc3QuZW50cmllcygpXS5maWx0ZXIoKGNsYXNzTmFtZSkgPT4gY2xhc3NOYW1lWzFdICE9PSAndGV4dC1zZWxlY3QnICYmIGNsYXNzTmFtZVsxXSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKVswXVsxXTtcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU2V0VGV4dEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWQsXG4gICAgICAgICAgdGV4dDogdXBkYXRlZFN5bFRleHQsXG4gICAgICAgIH0sXG4gICAgICB9O1xuICAgICAgLy8gc2VuZCBhY3Rpb24gdG8gdmVyb3ZpbyBmb3IgcHJvY2Vzc2luZ1xuICAgICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3BvbnNlOiBib29sZWFuKSA9PiB7XG4gICAgICAgIGlmIChyZXNwb25zZSkge1xuICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgU1ZHXG4gICAgICAgICAgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgLy8gQW4gdXBkYXRlIHRvIHRoZSBwYWdlIHdpbGwgcmVsb2FkIHRoZSBlbnRpcmUgc3ZnO1xuICAgICAgICAgICAgLy8gV2Ugd291bGQgbGlrZSB0byB0aGVuIHJlc2VsZWN0IHRoZSBzYW1lIHNlbGVjdGVkIHN5bGxhYmxlXG4gICAgICAgICAgICAvLyBpZiBiYm94ZXMgYXJlIGVuYWJsZWRcbiAgICAgICAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcmVzZWxlY3QgaWYgbm8gY2hhbmdlIGlzIG1hZGVcbiAgICAgIHRoaXMudXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgIH1cbiAgICAvLyBjbG9zZSBtb2RhbCB3aW5kb3dcbiAgICB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIGJveCBzZWxlY3RlZCB3aGVuIHRoZSBlZGl0IHRleHQgbW9kYWwgaGFzIGJlZW4gY2xpY2tlZCBcbiAgKi9cbiAgdXBkYXRlU2VsZWN0ZWRCQm94IChzcGFuOiBIVE1MU3BhbkVsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlciwgbmVvblZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoZSA9PiBlICE9PSAndGV4dC1zZWxlY3QnICYmIGUgIT09ICdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpKSB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgc2VsZWN0QkJveChkaXNwbGF5UmVjdCwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGhvdGtleSBpbmZvIGNvbnRlbnRcbiAgICovXG4gIC8qXG4gIHByaXZhdGUgb3BlbkhvdGtleU1vZGFsV2luZG93ID0gZnVuY3Rpb24oKSB7ICAgXG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIGFuZCBkaXBsYXkgaG90a2V5IG1vZGFsIGNvbnRlbnRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG4gICovXG5cblxuICAvKipcbiAgICogRGVmaW5lIGV2ZW50IGxpc3RlbmVycyBmb3IgbW9kYWwgd2luZG93IGJhc2VkIG9uIG1vZGFsVmlldyB0eXBlXG4gICAqL1xuICBwcml2YXRlIGtleWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOyAvLyBwcmV2ZW50IE5lb24gaG90a2V5IGV2ZW50cyBmcm9tIGZpcmluZyB3aGVuIHVzZXIgaXMgdHlwaW5nXG5cbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB0aGlzLnVwZGF0ZVN5bFRleHQoKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgdGhpcy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICB9ICBcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBFdmVudCBsaXN0ZW5lciB0aGF0IGZvY3VzZXMgdGhlIG1vZGFsIHdpbmRvdyBpZiB1c2VyIGNsaWNrcyBhbnl3aGVyZSBvdXRzaWRlIG9mIGl0XG4gICAqL1xuICBwcml2YXRlIGZvY3VzTW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpLnNlbGVjdCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRDpcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3Lk5FV19GT0xERVI6XG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5SRU5BTUU6XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbn1cbiIsImltcG9ydCB7IEdyb3VwaW5nVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBBZGFwdGVkIGZyb20gY29sb3IgcGFsZXR0ZSBmcm9tIEZpZ3VyZSAyIChDb2xvcnMgb3B0aW1pemVkIGZvciBjb2xvci1ibGluZFxuICogaW5kaXZpZHVhbHMpIGZyb21cbiAqIFtcIlBvaW50cyBvZiB2aWV3OiBDb2xvciBibGluZG5lc3NcIiBieSBCYW5nIFdvbmcgcHVibGlzaGVkIGluIE5hdHVyZSBNZXRob2RzIHZvbHVtZSA4IG9uIDI3IE1heSAyMDExXShodHRwczovL3d3dy5uYXR1cmUuY29tL2FydGljbGVzL25tZXRoLjE2MTg/V1QuZWNfaWQ9Tk1FVEgtMjAxMTA2KVxuICovXG5jb25zdCBDb2xvclBhbGV0dGU6IHN0cmluZ1tdID0gW1xuICAncmdiKDIzMCwgMTU5LCAwKScsXG4gICdyZ2IoODYsIDE4MCwgMjMzKScsXG4gICdyZ2IoMCwgMTU4LCAxMTUpJyxcbiAgJ3JnYigyNDAsIDIyOCwgNjYpJyxcbiAgJ3JnYigwLCAxMTQsIDE3OCknLFxuICAncmdiKDIxMywgOTQsIDApJyxcbiAgJ3JnYigyMDQsIDEyMSwgMTY3KSdcbl07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBoaWdobGlnaHQgZnJvbSBhIHN0YWZmLlxuICogQHBhcmFtIHN0YWZmIElmIHVuZGVmaW5lZCwgdGhlIGFsbCBzdGF2ZXMgYXJlIHVuaGlnaGxpZ2h0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZ2hsaWdodChzdGFmZj86IFNWR0dFbGVtZW50KTogdm9pZCB7XG4gIGxldCBjaGlsZHJlbjogTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgaWYgKHN0YWZmKSB7XG4gICAgY2hpbGRyZW4gPSBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCc6bm90KC5zZWxlY3RlZCkgLmhpZ2hsaWdodGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCc6bm90KC5zZWxlY3RlZCkgLmhpZ2hsaWdodGVkJyk7XG4gIH1cbiAgY2hpbGRyZW4uZm9yRWFjaChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS50YWdOYW1lID09PSAncGF0aCcgJiYgIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMwMDAwMDAnKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykgJiYgIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMwMDAwMDAnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZmlsbCcpO1xuICAgICAgbGV0IHJlY3RzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWN0cyA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlY3RzID0gW10gYXMgdW5rbm93biBhcyBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICl7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgICAgICAgfVxuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGhpZ2hsaWdodCBmcm9tIGVhY2ggc3RhZmYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFN0YWZmSGlnaGxpZ2h0KCk6IHZvaWQge1xuICB1bmhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFVuc2V0IGhpZ2hsaWdodCBmb3IgYWxsIGdyb3VwaW5nIHR5cGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk6IHZvaWQge1xuICB1bnNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gIGNvbnN0IGhpZ2hsaWdodGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHRlZCcpKVxuICAgIC5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiAhZWxlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSk7XG4gIGhpZ2hsaWdodGVkLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgZWxlbS5zZXRBdHRyaWJ1dGUoJyNkMDAnLCBudWxsKTtcbiAgICBsZXQgcmVjdHMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgIGlmIChlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpICE9PSBudWxsKSB7XG4gICAgICAgIHJlY3RzID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCdzeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHwgXG4gICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICl7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgICAgIH1cbiAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9KTtcbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdzeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSkuZm9yRWFjaCgoZWwpID0+IHsgZWwuc2V0QXR0cmlidXRlKCdmaWxsJywgJycpOyB9KTtcbn1cblxuLyoqXG4gKiBIaWdobGlnaHQgYSBzdGFmZiBhIGNlcnRhaW4gY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWdobGlnaHQoc3RhZmY6IFNWR0dFbGVtZW50LCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZi5jaGlsZHJlbik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAncGF0aCcpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgY29sb3IpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgY29sb3IpO1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGggJiYgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBBcnJheS5mcm9tKGNoaWxkLmNoaWxkcmVuKS5maWx0ZXIoZWwgPT4gZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZVBvaW50JykgfHwgY2hpbGQuaWQgPT09ICdyZXNpemVSZWN0JyB8fCBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JvdGF0ZVBvaW50JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJykubGVuZ3RoICYmXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHQtc2VsZWN0ZWQnKVswXS5pZCA9PT0gJ2hpZ2hsaWdodC1uZXVtZSdcbiAgICAgICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSkuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBjb2xvcik7XG4gICAgICBsZXQgcmVjdHMgPSBjaGlsZC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWN0cyA9IGNoaWxkLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCEocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkpIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBjb2xvcjtcbiAgICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICB9XG4gIGxldCB3aWR0aCwgaGVpZ2h0O1xuICAvKnRyeSB7XG4gICAgd2lkdGggPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLnNwbGl0KCdweCcpWzBdKTtcbiAgICBoZWlnaHQgPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKS5zcGxpdCgncHgnKVswXSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmRlYnVnKGUpO1xuICB9Ki9cbiAgbGV0IHN0cm9rZTogc3RyaW5nO1xuICBpZiAod2lkdGggIT09IHVuZGVmaW5lZCAmJiBoZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGlkayBsb29rcyBnb29kIDonKVxuICAgIC8vIFRPRE8gZmluZCBhIGJldHRlciB3YXkgb2YgY2FsY3VsYXRpbmcgdGhpcyBhcyB0aGlzIGFjdHVhbGx5IGRvZXNuJ3Qgd29yayBhcyB3ZWxsIGFzIDMwcHhcbiAgICBzdHJva2UgPSAod2lkdGggKiBoZWlnaHQgLyAxMDAwMDAwKS50b1N0cmluZygpO1xuICB9XG4gIGVsc2Uge1xuICAgIHN0cm9rZSA9ICczMHB4JztcbiAgfVxuICBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgc3Ryb2tlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0IGVhY2ggc3RhZmYgYSBkaWZmZXJlbnQgY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdGFmZkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFmZicpKSBhcyBTVkdHRWxlbWVudFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YWZmQ29sb3IgPSBDb2xvclBhbGV0dGVbaSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGhpZ2hsaWdodChzdGF2ZXNbaV0sIHN0YWZmQ29sb3IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNldENvbHVtbkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgY29uc3QgIGdyb3VwczogeyBba2V5OiBudW1iZXJdOiBTVkdHRWxlbWVudFtdIH0gPSB7fTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYnKS5mb3JFYWNoKChzdGFmZikgPT4ge1xuICAgIGNvbnN0IGhhc0NvbHVtbiA9IEFycmF5LmZyb20oc3RhZmYuY2xhc3NMaXN0KS5qb2luKCcgJykubWF0Y2goL1xcYmNvbHVtbihcXGQrKVxcYi8pO1xuICAgIGxldCBjb2x1bW5OdW0gPSAwO1xuICAgIGlmIChoYXNDb2x1bW4pIHtcbiAgICAgIGNvbHVtbk51bSA9IHBhcnNlSW50KGhhc0NvbHVtblsxXSwgMTApIC0gMTtcbiAgICB9XG5cbiAgICBpZiAoIWdyb3Vwc1tjb2x1bW5OdW1dKSB7XG4gICAgICBncm91cHNbY29sdW1uTnVtXSA9IFtdO1xuICAgIH1cblxuICAgIGdyb3Vwc1tjb2x1bW5OdW1dLnB1c2goc3RhZmYgYXMgU1ZHR0VsZW1lbnQpO1xuICB9KTtcblxuICBmb3IgKGNvbnN0IFtjb2x1bW4sIHN0YXZlc10gb2YgT2JqZWN0LmVudHJpZXMoZ3JvdXBzKSkge1xuICAgIGNvbnN0IGNvbG9yID0gQ29sb3JQYWxldHRlW051bWJlcihjb2x1bW4pICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgZm9yIChjb25zdCBzdGFmZiBvZiBzdGF2ZXMpIHtcbiAgICAgIGhpZ2hsaWdodChzdGFmZiwgY29sb3IpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNldCBhIGhpZ2hsaWdodCBieSBhIGRpZmZlcmVudCBncm91cGluZy5cbiAqIEBwYXJhbSBncm91cGluZyAtIEVpdGhlciBcInN0YWZmXCIsIFwic3lsbGFibGVcIiwgXCJuZXVtZVwiLCBcInNlbGVjdGlvblwiLCBvciBcImxheWVyRWxlbWVudFwiLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmc6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIGlmIChncm91cGluZyA9PT0gJ3N0YWZmJykge1xuICAgIHNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGVsc2UgaWYgKGdyb3VwaW5nID09PSAnY29sdW1uJykge1xuICAgIHNldENvbHVtbkhpZ2hsaWdodCgpO1xuICAgIHJldHVybjtcbiAgfSBcbiAgZWxzZSBpZiAoZ3JvdXBpbmcgPT09ICdzZWxlY3Rpb24nKSB7XG4gICAgY29uc3QgdGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWwtYnkuaXMtYWN0aXZlJykuaWQ7XG4gICAgc3dpdGNoICh0ZW1wKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N5bGxhYmxlJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeUNvbHVtbic6XG4gICAgICAgIGdyb3VwaW5nID0gJ2NvbHVtbic7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N0YWZmJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ2xheWVyRWxlbWVudCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBncm91cGluZyA9ICduZXVtZSc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBncm91cHM7XG5cbiAgaWYgKGdyb3VwaW5nID09ICdsYXllckVsZW1lbnQnKSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY2lkLCAuY2xlZiwgLmN1c3RvcywgLmRpdkxpbmUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGdyb3VwaW5nKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcbiAgfVxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYywgLmN1c3RvcywgLmNsZWYsIC5hY2NpZCwgLmRpdkxpbmUnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgfSk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBncm91cENvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBpZiAoKGdyb3Vwc1tpXS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkgJiYgIWdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBncm91cENvbG9yKTtcbiAgICAgIGNvbnN0IHJlY3RzID0gZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBncm91cENvbG9yO1xuICAgICAgfSk7XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcjZDAwJyk7XG4gICAgICB9XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXZMaW5lQ2hpbGRyZW4gPSBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKTtcbiAgICBpZiAoZGl2TGluZUNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRpdkxpbmVDaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICBkaXZMaW5lQ2hpbGRyZW5bal0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCBncm91cENvbG9yKTtcbiAgICAgICAgZGl2TGluZUNoaWxkcmVuW2pdLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG59XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbiAgICAvLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN0cmluZ2lmeS9wYXJzZSBmdW5jdGlvbnMgdGhhdCBkb24ndCBvcGVyYXRlXG4gKiByZWN1cnNpdmVseSwgc28gdGhleSBhdm9pZCBjYWxsIHN0YWNrIGV4Y2VlZGVkXG4gKiBlcnJvcnMuXG4gKi9cbmV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5KGlucHV0KSB7XG4gIHZhciBxdWV1ZSA9IFtdO1xuICBxdWV1ZS5wdXNoKHtvYmo6IGlucHV0fSk7XG5cbiAgdmFyIHJlcyA9ICcnO1xuICB2YXIgbmV4dCwgb2JqLCBwcmVmaXgsIHZhbCwgaSwgYXJyYXlQcmVmaXgsIGtleXMsIGssIGtleSwgdmFsdWUsIG9ialByZWZpeDtcbiAgd2hpbGUgKChuZXh0ID0gcXVldWUucG9wKCkpKSB7XG4gICAgb2JqID0gbmV4dC5vYmo7XG4gICAgcHJlZml4ID0gbmV4dC5wcmVmaXggfHwgJyc7XG4gICAgdmFsID0gbmV4dC52YWwgfHwgJyc7XG4gICAgcmVzICs9IHByZWZpeDtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXMgKz0gdmFsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJlcyArPSB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICByZXMgKz0gJ251bGwnO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICddJ30pO1xuICAgICAgZm9yIChpID0gb2JqLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGFycmF5UHJlZml4ID0gaSA9PT0gMCA/ICcnIDogJywnO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IG9ialtpXSwgcHJlZml4OiBhcnJheVByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAnWyd9KTtcbiAgICB9IGVsc2UgeyAvLyBvYmplY3RcbiAgICAgIGtleXMgPSBbXTtcbiAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgIGtleXMucHVzaChrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAnfSd9KTtcbiAgICAgIGZvciAoaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgb2JqUHJlZml4ID0gKGkgPiAwID8gJywnIDogJycpO1xuICAgICAgICBvYmpQcmVmaXggKz0gSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6JztcbiAgICAgICAgcXVldWUucHVzaCh7b2JqOiB2YWx1ZSwgcHJlZml4OiBvYmpQcmVmaXh9KTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ3snfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG4vLyBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgdGhlIHBhcnNlIGZ1bmN0aW9uLlxuLy8gVGhpcyBwb3AgZnVuY3Rpb24gaXMgYmFzaWNhbGx5IGNvcGllZCBmcm9tXG4vLyBwb3VjaENvbGxhdGUucGFyc2VJbmRleGFibGVTdHJpbmdcbmZ1bmN0aW9uIHBvcChvYmosIHN0YWNrLCBtZXRhU3RhY2spIHtcbiAgdmFyIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gIGlmIChvYmogPT09IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50KSB7XG4gICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICBtZXRhU3RhY2sucG9wKCk7XG4gICAgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgfVxuICB2YXIgZWxlbWVudCA9IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50O1xuICB2YXIgbGFzdEVsZW1lbnRJbmRleCA9IGxhc3RNZXRhRWxlbWVudC5pbmRleDtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICBlbGVtZW50LnB1c2gob2JqKTtcbiAgfSBlbHNlIGlmIChsYXN0RWxlbWVudEluZGV4ID09PSBzdGFjay5sZW5ndGggLSAyKSB7IC8vIG9iaiB3aXRoIGtleSt2YWx1ZVxuICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICBlbGVtZW50W2tleV0gPSBvYmo7XG4gIH0gZWxzZSB7XG4gICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICB9XG59XG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBzdGFjayA9IFtdO1xuICB2YXIgbWV0YVN0YWNrID0gW107IC8vIHN0YWNrIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgdmFyIGkgPSAwO1xuICB2YXIgY29sbGF0aW9uSW5kZXgscGFyc2VkTnVtLG51bUNoYXI7XG4gIHZhciBwYXJzZWRTdHJpbmcsbGFzdENoLG51bUNvbnNlY3V0aXZlU2xhc2hlcyxjaDtcbiAgdmFyIGFycmF5RWxlbWVudCwgb2JqRWxlbWVudDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb2xsYXRpb25JbmRleCA9IHN0cltpKytdO1xuICAgIGlmIChjb2xsYXRpb25JbmRleCA9PT0gJ30nIHx8XG4gICAgICAgIGNvbGxhdGlvbkluZGV4ID09PSAnXScgfHxcbiAgICAgICAgdHlwZW9mIGNvbGxhdGlvbkluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhY2sucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3Aoc3RhY2sucG9wKCksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnICc6XG4gICAgICBjYXNlICdcXHQnOlxuICAgICAgY2FzZSAnXFxuJzpcbiAgICAgIGNhc2UgJzonOlxuICAgICAgY2FzZSAnLCc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbic6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3VsbCdcbiAgICAgICAgcG9wKG51bGwsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3QnOlxuICAgICAgICBpICs9IDM7IC8vICdydWUnXG4gICAgICAgIHBvcCh0cnVlLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmJzpcbiAgICAgICAgaSArPSA0OyAvLyAnYWxzZSdcbiAgICAgICAgcG9wKGZhbHNlLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcwJzpcbiAgICAgIGNhc2UgJzEnOlxuICAgICAgY2FzZSAnMic6XG4gICAgICBjYXNlICczJzpcbiAgICAgIGNhc2UgJzQnOlxuICAgICAgY2FzZSAnNSc6XG4gICAgICBjYXNlICc2JzpcbiAgICAgIGNhc2UgJzcnOlxuICAgICAgY2FzZSAnOCc6XG4gICAgICBjYXNlICc5JzpcbiAgICAgIGNhc2UgJy0nOlxuICAgICAgICBwYXJzZWROdW0gPSAnJztcbiAgICAgICAgaS0tO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG51bUNoYXIgPSBzdHJbaSsrXTtcbiAgICAgICAgICBpZiAoL1tcXGRcXC5cXC1lXFwrXS8udGVzdChudW1DaGFyKSkge1xuICAgICAgICAgICAgcGFyc2VkTnVtICs9IG51bUNoYXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3AocGFyc2VGbG9hdChwYXJzZWROdW0pLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdcIic6XG4gICAgICAgIHBhcnNlZFN0cmluZyA9ICcnO1xuICAgICAgICBsYXN0Q2ggPSB2b2lkIDA7XG4gICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgY2ggPSBzdHJbaSsrXTtcbiAgICAgICAgICBpZiAoY2ggIT09ICdcIicgfHwgKGxhc3RDaCA9PT0gJ1xcXFwnICYmXG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyAlIDIgPT09IDEpKSB7XG4gICAgICAgICAgICBwYXJzZWRTdHJpbmcgKz0gY2g7XG4gICAgICAgICAgICBsYXN0Q2ggPSBjaDtcbiAgICAgICAgICAgIGlmIChsYXN0Q2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3AoSlNPTi5wYXJzZSgnXCInICsgcGFyc2VkU3RyaW5nICsgJ1wiJyksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICBhcnJheUVsZW1lbnQgPSB7IGVsZW1lbnQ6IFtdLCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2goYXJyYXlFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChhcnJheUVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3snOlxuICAgICAgICBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAndW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAnICsgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBEcmFnQWN0aW9uLCBFZGl0b3JBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBCQm94LCBpc091dE9mU1ZHQm91bmRzLCBnZXRHbHlwaEJCb3ggfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcbmltcG9ydCB7IHF1ZXVlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgc2VsZWN0QWxsLCBzZWxlY3RCQm94LCBzZWxlY3RTdGFmZiB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuXG5jbGFzcyBEcmFnSGFuZGxlciB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcHJpdmF0ZSBzZWxlY3Rvcjogc3RyaW5nO1xuICBwcml2YXRlIHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gIHByaXZhdGUgbm9Nb3ZlUHJlY2VkZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIHByaXZhdGUgZHJhZ1N0YXJ0Q29vcmRzOiBbbnVtYmVyLCBudW1iZXJdID0gWy0xLCAtMV07XG4gIHByaXZhdGUgcmVzZXRUb0FjdGlvbjogKHNlbGVjdGlvbjogZDMuU2VsZWN0aW9uPGQzLkJhc2VUeXBlLCB1bmtub3duLCBIVE1MRWxlbWVudCwgdW5rbm93bj4sIGFyZ3M6IHVua25vd25bXSkgPT4gdm9pZDtcblxuICBwcml2YXRlIGR4OiBudW1iZXI7XG4gIHByaXZhdGUgZHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQ1NTIHNlbGVjdG9yIG9mIGVsZW1lbnQgdG8gYXBwbHkgZHJhZyBoYW5kbGVyIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc2VsZWN0b3I6IHN0cmluZykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgZHJhZ2dpbmcgYWN0aW9uIGFuZCBoYW5kbGVyIGZvciBzZWxlY3RlZCBlbGVtZW50cy5cbiAgICovXG4gIGRyYWdJbml0ICgpOiB2b2lkIHtcbiAgICAvLyBEcmFnIGVmZmVjdHNcbiAgICBmdW5jdGlvbiBkcmFnU3RhcnRlZCAoKTogdm9pZCB7XG4gICAgICB0aGlzLmRyYWdTdGFydENvb3JkcyA9IFtkMy5ldmVudC54LCBkMy5ldmVudC55XTtcbiAgICAgIHRoaXMuZHggPSAwO1xuICAgICAgdGhpcy5keSA9IDA7XG4gICAgICBjb25zdCB0YXJnZXQgPSBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgICBkMy5zZWxlY3QodGhpcy5zZWxlY3RvcikuY2FsbChkcmFnQmVoYXZpb3VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGRpbmcgbGlzdGVuZXJzXG4gICAgY29uc3QgZHJhZ0JlaGF2aW91ciA9IGQzLmRyYWcoKVxuICAgICAgLm9uKCdzdGFydCcsIGRyYWdTdGFydGVkLmJpbmQodGhpcykpXG4gICAgICAub24oJ2RyYWcnLCB0aGlzLmRyYWdnaW5nLmJpbmQodGhpcykpXG4gICAgICAub24oJ2VuZCcsIHRoaXMuZHJhZ0VuZGVkLmJpbmQodGhpcykpO1xuXG4gICAgY29uc3QgYWN0aXZlTmMgPSBkMy5zZWxlY3RBbGwoJy5zZWxlY3RlZCcpO1xuICAgIGFjdGl2ZU5jLmNhbGwoZHJhZ0JlaGF2aW91cik7XG5cbiAgICBsZXQgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPFNWR0dyYXBoaWNzRWxlbWVudD4oJy5zZWxlY3RlZCcpKTtcblxuICAgIC8vIGlmIHRoZSB1c2VyIGRyYWdzIHRoZSBmb2xsb3dzIHN5bGxhYmxlIGluIGEgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZSwgXG4gICAgLy8gY2FuY2VsIHRoZSBjb21wZW5zYXRpb24gZm9yIHN5bCBtb3ZlbWVudCBpbiBkcmFnZ2luZy5cbiAgICB0aGlzLm5vTW92ZVByZWNlZGVzID0gc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnbm8tbW92aW5nJykgJiYgZWwuaGFzQXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSk7XG4gICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSk7XG5cbiAgICB0aGlzLnNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPFNWR0dyYXBoaWNzRWxlbWVudD4oJy5yZXNpemVQb2ludCcpKSk7XG4gIH1cblxuICBkcmFnZ2luZyAoKTogdm9pZCB7XG4gICAgdGhpcy5keCA9IGQzLmV2ZW50LnggLSB0aGlzLmRyYWdTdGFydENvb3Jkc1swXTtcbiAgICB0aGlzLmR5ID0gZDMuZXZlbnQueSAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzFdO1xuXG4gICAgdGhpcy5tb3ZlRWxlbWVudHModGhpcy5zZWxlY3Rpb24sIHRoaXMuZHgsIHRoaXMuZHkpO1xuXG4gICAgLypcbiAgICAgKiBpZiB3ZSdyZSBkcmFnZ2luZyBhIHN5bGxhYmxlIChvciBuZXVtZSBldGMpIHRoZW4gdGhlcmUgd29uJ3QgYmUgYSBzeWwgc2VsZWN0ZWRcbiAgICAgKiB0aGVuIHdlIGRvbid0IHdhbnQgdGhlIGJvdW5kaW5nIGJveCAoaWYgaXQgaXMgZGlzcGxheWVkKSB0byBtb3ZlIHdoZW4gZHJhZ2dpbmcgdGhlIG5ldW1lc1xuICAgICAqIGl0IHdpbGwgYmUgYSBjaGlsZCBvZiB0aGUgZWxlbWVudCBpbiBzZWxlY3Rpb24sIHNvIGl0IHdpbGwgZ2V0IG1vdmVkIGluIHRoZSBhYm92ZSBsb29wXG4gICAgICogc28gd2UgY2FuY2VsIHRoYXQgbW92ZW1lbnQgb3V0IGhlcmVcbiAgICAgKi9cbiAgICBjb25zdCBzeWxzID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSk7XG4gICAgaWYgKHN5bHMubGVuZ3RoID09PSAwICYmIHRoaXMubm9Nb3ZlUHJlY2VkZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBjb25zdCBiYm94ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZS5zZWxlY3RlZCcpKVxuICAgICAgICAubWFwKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpO1xuICAgICAgdGhpcy5tb3ZlRWxlbWVudHMoYmJveGVzLCAtdGhpcy5keCwgLXRoaXMuZHkpO1xuICAgIH1cbiAgfVxuXG5cbiAgZHJhZ0VuZGVkICgpOiB2b2lkIHtcbiAgICAvLyBJZiB0aGUgc2VsZWN0aW9uIGhhcyBub3QgYmVlbiBtb3ZlZCBtb3JlIHRoYW4gNSBwaXhlbHMgaW4gYW55IGRpcmVjdGlvbixcbiAgICAvLyBkbyBub3QgZG8gYW55IGFjdGlvblxuICAgIGNvbnN0IHhEaWZmID0gTWF0aC5hYnModGhpcy5keCksIHlEaWZmID0gTWF0aC5hYnModGhpcy5keSk7XG4gICAgaWYgKHhEaWZmIDw9IDUgJiYgeURpZmYgPD0gNSkge1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgdGhpcy5kcmFnSW5pdCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBzZWxlY3Rpb24gZm9yIGRyYWdnYWJsZSBlbGVtZW50c1xuICAgIGNvbnN0IHNlbGVjdGlvbiA9IHRoaXMuc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZVBvaW50JykpO1xuXG4gICAgLy8gSWYgdGhlIGN1cnNvciBpcyBvdXQgb2YgYm91bmRzIG9yIHRoZSBzZWxlY3Rpb24gYXJyYXkgaXMgb3V0IG9mIGJvdW5kcyxcbiAgICAvLyBkcmFnIGFjdGlvbnMgc2hvdWxkIG5vdCBoYXBwZW4uIFJldHVybiBhbiBlcnJvciBub3RpZmljYXRpb24gYW5kIHJlc2V0XG4gICAgLy8gdGhlIGRyYWcgaGFuZGxlclxuICAgIGlmICh0aGlzLmlzQ3Vyc29yT3V0T2ZCb3VuZHMoKSB8fCB0aGlzLmlzRHJhZ091dE9mQm91bmRzKHNlbGVjdGlvbikpIHtcbiAgICAgIC8vIFJldHVybiB0aGUgc2VsZWN0aW9uIGJhY2sgdG8gbm9ybWFsIHN0YXRlXG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKHRoaXMuc2VsZWN0aW9uKTtcblxuICAgICAgLy8gUmV0dXJuIHRoZSBib3VuZGluZyBib3hlcyBhcyB3ZWxsXG4gICAgICBjb25zdCBiYm94ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZS5zZWxlY3RlZCcpKVxuICAgICAgICAubWFwKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpO1xuICAgICAgdGhpcy5yZXR1cm5FbGVtZW50cyhiYm94ZXMpO1xuXG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm4gcXVldWVOb3RpZmljYXRpb24oJ1tGQUlMXSBHbHlwaHMgd2VyZSBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgRHJhZyBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgIH1cblxuICAgIC8vIENyZWF0ZSB0aGUgY2hhaW4gZWRpdG9yIGFjdGlvbiBmb3Igc2VsZWN0aW9uXG4gICAgY29uc3QgcGFyYW1BcnJheTogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgICBzZWxlY3Rpb24uZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGNvbnN0IGlkID0gZWwudGFnTmFtZSA9PT0gJ3JlY3QnID8gZWwuY2xvc2VzdCgnLnN5bCcpLmlkIDogZWwuaWQ7XG5cbiAgICAgIGNvbnN0IGRyYWdBY3Rpb246IERyYWdBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2RyYWcnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgICAgeDogdGhpcy5keCxcbiAgICAgICAgICB5OiAtdGhpcy5keSxcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgcGFyYW1BcnJheS5wdXNoKGRyYWdBY3Rpb24pO1xuICAgIH0pO1xuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgcGFyYW06IHBhcmFtQXJyYXlcbiAgICB9O1xuXG4gICAgLy8gU2VuZCBlZGl0b3IgYWN0aW9uXG4gICAgdGhpcy5uZW9uVmlld1xuICAgICAgLmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSlcbiAgICAgIC50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgLy8gTmVvbiByZS1yZW5kZXJzIHRoZSBlbnRpcmUgU1ZHLCBhbmQgaGVuY2UsIGJlZm9yZSB3ZSBkbyBzbyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBzdG9yZSBhbGwgdGhlIGVsZW1lbnRzIChJRHMpIHdlIG5lZWQgdG8gc2VsZWN0IGFnYWluXG4gICAgICAgIC8vIFRoZW4sIHdlIG5lZWQgdG8gcmVzZWxlY3QgdGhlbSBieSBjYWxsaW5nIGB0aGlzLnJlc2VsZWN0KClgXG4gICAgICAgIGNvbnN0IHRvUmVzZWxlY3QgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKVxuICAgICAgICAgIC5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnbm8tbW92aW5nJykpXG4gICAgICAgICAgLm1hcChlbCA9PiBlbC5pZCk7XG5cbiAgICAgICAgLy8gQ0FVVElPTjogYHVwZGF0ZUZvckN1cnJlbnRQYWdlKClgIGlzIGFuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiFcbiAgICAgICAgLy8gSXQgcmVxdWlyZXMgYW4gYGF3YWl0YCBrZXl3b3JkLlxuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIHRoaXMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gUmVzZWxlY3QgdGhlIGVsZW1lbnRzIGFuZCByZWluaXRpYWxpemUgZHJhZ1xuICAgICAgICBhd2FpdCB0aGlzLnJlc2VsZWN0KHRvUmVzZWxlY3QpO1xuICAgICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlc2VsZWN0ICh0b1Jlc2VsZWN0OiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJlc2VsZWN0ZWQgPSB0b1Jlc2VsZWN0Lm1hcChpZCA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR0dyYXBoaWNzRWxlbWVudD4oYCMke2lkfWApKTtcblxuICAgIC8vIEFsbCBnbHlwaHMgZXhjZXB0IGJvdWRpbmcgYm94ZXMgKCdzeWwncykgbXVzdCBiZSBzZWxlY3RlZCB3aXRoXG4gICAgLy8gYHNlbGVjdEFsbCgpYFxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChhc3luYyAoKSA9PiBhd2FpdCBzZWxlY3RBbGwocmVzZWxlY3RlZCwgdGhpcy5uZW9uVmlldywgdGhpcykpO1xuXG4gICAgLy8gQm91bmRpbmcgYm94ZXMgbXVzdCBiZSBleHBsaWNpdGx5IHNlbGVjdGVkIHVzaW5nIGBzZWxlY3RCQm94KClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIGVsID0+IHNlbGVjdEJCb3goZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgdGhpcywgdGhpcy5uZW9uVmlldylcbiAgICAgICk7XG5cbiAgICAvLyBTdGF2ZXMgbXVzdCBiZSBleHBsaWNpdGx5IHNlbGVjdGVkIHVzaW5nIGBzZWxlY3RTdGFmZigpYFxuICAgIC8vIEFORCBtdXN0IGJlIHNlbGVjdGVkIHdpdGggYHNlbGVjdEFsbCgpYCBmb3IgY29ycmVjdCBiZWhhdmlvciAoZm9yIHNvbWUgcmVhc29uKS5cbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSlcbiAgICAgIC5mb3JFYWNoKGVsID0+IHNlbGVjdFN0YWZmKGVsLCB0aGlzKSk7XG4gIH1cblxuICAvKiogU2V0IHRoZSBkMyBhY3Rpb24gdG8gdXNlIGZvciBbW3Jlc2V0XV0uICovXG4gIHJlc2V0VG8gKHJlc2V0OiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5yZXNldFRvQWN0aW9uID0gcmVzZXQ7XG4gIH1cblxuICAvKiogUmVzZXQgdG8gYSBwcmV2aW91cyBkMyBhY3Rpb24gZm9yIFtbdGhpcy5zZWxlY3Rvcl1dLiAqL1xuICByZXNldCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucmVzZXRUb0FjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkMy5zZWxlY3QodGhpcy5zZWxlY3RvcikuY2FsbCh0aGlzLnJlc2V0VG9BY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24gKCk6IHZvaWQge1xuICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gICAgY29uc3QgZXh0cmFFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpO1xuICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgICBleHRyYUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBleHRyYUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgbW92ZSB0aGUgc2VsZWN0ZWQgZWxlbWVudHMgYnkgYGR4YCBhbmQgYGR5YDsgKG5vdCB1c2luZyBkMylcbiAgICovXG4gIG1vdmVFbGVtZW50cyAoc2VsZWN0aW9uOiBFbGVtZW50W10sIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBzZWxlY3Rpb24uZmlsdGVyKGVsID0+IGVsICE9PSBudWxsKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7ZHh9LCR7ZHl9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZpc3VhbGx5IHJldHVybiBzZWxlY3RlZCBlbGVtZW50cyB0byB0aGVpciBvcmlnaW5hbCBwb3NpdGlvbnNcbiAgICogYnkgcmVtb3ZpbmcgdGhlIHRyYW5zZm9ybSBhdHRyaWJ1dGVcbiAgICovXG4gIHJldHVybkVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSk6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNDdXJzb3JPdXRPZkJvdW5kcyAoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZW5kWCA9IHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdICsgdGhpcy5keDtcbiAgICBjb25zdCBlbmRZID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV0gKyB0aGlzLmR5O1xuXG4gICAgcmV0dXJuIGlzT3V0T2ZTVkdCb3VuZHMoZW5kWCwgZW5kWSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gYXJyYXkgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIFNWR1xuICAgKiBAcGFyYW0ge1NWR0dyYXBoaWNzRWxlbWVudFtdfSBzZWxlY3Rpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59IElzIHNlbGVjdGlvbiBvdXQgb2YgYm91bmRzXG4gICAqL1xuICBpc0RyYWdPdXRPZkJvdW5kcyAoc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICAgIC8vIEdldCB0aGUgYm91bmRpbmcgYm94ZXMgb2YgYWxsIGdseXBocyAoPHVzZT4gZWxlbWVudHMpIHdpdGhpbiB0aGUgc2VsZWN0aW9uIGFycmF5XG4gICAgY29uc3QgaXNCQm94RGlzcGxheWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2Rpc3BsYXlCQm94JykuY2hlY2tlZDtcbiAgICBsZXQgZ2x5cGhTZWxlY3RvciA9IGlzQkJveERpc3BsYXllZCA/ICd1c2UsIHJlY3QnIDogJ3VzZSc7XG5cbiAgICBpZiAoc2VsZWN0aW9uWzBdLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgZ2x5cGhTZWxlY3RvciA9ICdwYXRoJztcblxuICAgIGNvbnN0IGdseXBoczogU1ZHVXNlRWxlbWVudFtdID0gc2VsZWN0aW9uLnJlZHVjZShcbiAgICAgIChhY2MsIGVsKSA9PiBhY2MuY29uY2F0KC4uLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZ2x5cGhTZWxlY3RvcikpLCBbXVxuICAgICk7XG4gICAgY29uc3QgZ2x5cGhCQm94ZXM6IEJCb3hbXSA9IGdseXBocy5tYXAoZ2V0R2x5cGhCQm94KTtcblxuICAgIC8vIEdldCB0aGUgc3Vycm91bmRpbmcgYm91bmRpbmcgYm94IG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50c1xuICAgIGNvbnN0IHNlbGVjdGlvbkJCb3g6IEJCb3ggPSBnbHlwaEJCb3hlcy5yZWR1Y2UoXG4gICAgICAoYmJveCwgY3VycikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVseDogTWF0aC5taW4oYmJveC51bHgsIGN1cnIudWx4KSxcbiAgICAgICAgICB1bHk6IE1hdGgubWluKGJib3gudWx5LCBjdXJyLnVseSksXG4gICAgICAgICAgbHJ4OiBNYXRoLm1heChiYm94LmxyeCwgY3Vyci5scngpLFxuICAgICAgICAgIGxyeTogTWF0aC5tYXgoYmJveC5scnksIGN1cnIubHJ5KSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVseDogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgdWx5OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICBscng6IE51bWJlci5NSU5fVkFMVUUsXG4gICAgICAgIGxyeTogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgeyB1bHgsIHVseSwgbHJ4LCBscnkgfSA9IHNlbGVjdGlvbkJCb3g7XG4gICAgcmV0dXJuIGlzT3V0T2ZTVkdCb3VuZHModWx4ICsgdGhpcy5keCwgdWx5ICsgdGhpcy5keSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscnggKyB0aGlzLmR4LCBscnkgKyB0aGlzLmR5KTtcbiAgfVxufVxuXG5leHBvcnQgeyBEcmFnSGFuZGxlciBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCAqIGFzIFdhcm5pbmdzIGZyb20gJy4uL1dhcm5pbmdzJztcbmltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0ICogYXMgU2VsZWN0VG9vbHMgZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuLi9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgVG9nZ2xlTGlnYXR1cmVBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyByZW1vdmVIYW5kbGVyLCBkZWxldGVCdXR0b25IYW5kbGVyIH0gZnJvbSAnLi9TZWxlY3RPcHRpb25zJztcblxuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gYWNjZXNzIGVkaXRvciBhY3Rpb25zLlxuICovXG5sZXQgbmVvblZpZXc6IE5lb25WaWV3O1xuXG5cbi8qKlxuICogU2V0IHRoZSBuZW9uVmlldyBtZW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcgKHZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIG5lb25WaWV3ID0gdmlldztcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBncm91cGVkIG9yIG5vdFxuICogQHJldHVybnMgdHJ1ZSBpZiBjYW4gYmUgZ3JvdXBlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlOiBzdHJpbmcsIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZWxlbWVudHMudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIGlmIChncm91cHMubGVuZ3RoIDwgMikge1xuICAgIC8vIGNhbm5vdCBncm91cCBpZiBvbmx5IDEgZWxlbWVudCBpcyBzZWxlY3RlZFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBpZiBuZXVtZXMgYXJlIGluIHNhbWUgc3lsbGFibGUsIGRvbid0IGRpc3BsYXkgZ3JvdXBpbmcgb3B0aW9uXG4gICAgICBpZiAoU2VsZWN0VG9vbHMuc2hhcmVkTG9naWNhbFBhcmVudChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHJldHVybiBmYWxzZTtcblxuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIGFkamFjZW50IHRvIGVhY2ggb3RoZXJcbiAgICAgIGlmIChTZWxlY3RUb29scy5hcmVBZGphY2VudChzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gIH1cblxufVxuXG5cbmZ1bmN0aW9uIGNvbnRhaW5zTGlua2VkIChzZWxlY3Rpb25UeXBlOnN0cmluZywgZWxlbWVudHM/OiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KSB7XG4gIGlmICghZWxlbWVudHMpIHtcbiAgICBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICB9XG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgICAgIGlmIChlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fCBlbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoZSBhY3Rpb24gaW52b2x2ZXMgbGlua2VkIHN5bGxhYmxlcywgcGxlYXNlIHVudG9nZ2xlIHRoZW0gZmlyc3QnLCAnd2FybmluZycpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgfHwgZWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoZSBhY3Rpb24gaW52b2x2ZXMgbGlua2VkIHN5bGxhYmxlcywgcGxlYXNlIHVudG9nZ2xlIHRoZW0gZmlyc3QnLCAnd2FybmluZycpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICAgICAgaWYgKGVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50Lmhhc0F0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSB8fCBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUaGUgYWN0aW9uIGludm9sdmVzIGxpbmtlZCBzeWxsYWJsZXMsIHBsZWFzZSB1bnRvZ2dsZSB0aGVtIGZpcnN0JywgJ3dhcm5pbmcnKTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogQ2hlY2tzIHRvIHNlZSBpcyBhIHNlbGVjdGlvbiBvZiBlbGVtZW50cyBpcyBhbHJlYWR5IGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIGVsZW1lbnRzIHRvIGJlIGNvbnNpZGVyZWRcbiAqIEByZXR1cm5zIHRydWUgaXMgbGlua2VkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGlua2VkKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG5cbiAgLy8gaWYgbnVtYmVyIG9mIGVsZW1lbnRzIGlzIG5vdCAyLCBlbGVtZW50cyBjYW5ub3QgYmUgbGlua2VkIGJ5IGRlZmluaXRpb25cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCAhPT0gMikgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIGlmIHByZWNlZGVzIGFuZCBmb2xsb3dzIGF0dHJpYnV0ZXMgZXhpc3QgYW5kIHRoZWlyIElEcyBtYXRjaFxuICBpZiAoKChlbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgPT09IGAjJHtlbGVtZW50c1sxXS5pZH1gKSAmJiBcbiAgICAgIChlbGVtZW50c1sxXS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpID09PSBgIyR7ZWxlbWVudHNbMF0uaWR9YCkpIHx8XG4gICAgICAoKGVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgPT09ICcjJyArIGVsZW1lbnRzWzFdLmlkKSAmJlxuICAgICAgKGVsZW1lbnRzWzFdLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSA9PT0gJyMnICsgZWxlbWVudHNbMF0uaWQpKSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgdGhlIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWQgb3IgdW5saWtuZWQuXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSBDdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBPbmx5IGNlcnRhaW4gZWxlbWVudHMgY2FuIGJlIGxpbmtlZFxuICogQHBhcmFtIGVsZW1lbnRzIFRoZSBlbGVtZW50cyB1bmRlciBxdWVzdGlvbiBcbiAqIEByZXR1cm5zIHRydWUgaWYgdXNlciBzaG91bGQgYmUgYWJsZSB0byBsaW5rIG9yIHVuLWxpbmsgZWxlbWVudHMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rYWJsZShzZWxlY3Rpb25UeXBlOiBzdHJpbmcsIGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogYm9vbGVhbiB7XG5cbiAgc3dpdGNoKGVsZW1lbnRzLmxlbmd0aCkge1xuICAgIC8vIG9ubHkgYSBzZWxlY3Rpb24gb2YgbGVuZ3RoIDIgY2FuIGxlYWQgdG8gb3B0aW9uIHRvIHRvZ2dsZSBzeWxsYWJsZSBsaW5rXG4gICAgY2FzZSAyOlxuICAgICAgLy8gb25seSBTeWxsYWJsZXMgY2FuIGJlIGxpbmtlZCBvciB1bmxpbmtlZCAoPylcbiAgICAgIGlmIChzZWxlY3Rpb25UeXBlICE9PSAnc2VsQnlTeWxsYWJsZScpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAgIC8vIGlmIEFMUkVBRFkgbGlua2VkXG4gICAgICBpZiAoaXNMaW5rZWQoW2VsZW1lbnRzWzBdLCBlbGVtZW50c1sxXV0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgLy8gaWYgQ0FOIGJlIGxpbmtlZFxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgKmNvdWxkKiBiZSBhIHNlbGVjdGlvbiB3aXRoIGEgc2luZ2xlIGxvZ2ljYWwgc3lsbGFibGUgc3BsaXQgYnkgYSBzdGFmZiBicmVhay4gXG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXNlIGFyZSBhZGphY2VudCBzdGF2ZXMgKGxvZ2ljYWxseSlcbiAgICAgICAgaWYgKFNlbGVjdFRvb2xzLmlzTXVsdGlTdGF2ZVNlbGVjdGlvbihlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBzdGFmZjAgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICAgICAgICBjb25zdCBzdGFmZjEgPSBlbGVtZW50c1sxXS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICAgICAgICBjb25zdCBzdGFmZkNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZjAucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG5cbiAgICAgICAgICAvLyBDaGVjayBpZiBvbmUgc3lsbGFibGUgaXMgdGhlIGxhc3QgaW4gdGhlIGZpcnN0IHN0YWZmIGFuZCB0aGUgb3RoZXIgaXMgdGhlIGZpcnN0IGluIHRoZSBzZWNvbmQuXG4gICAgICAgICAgLy8gRGV0ZXJtaW5lIHdoaWNoIHN0YWZmIGlzIGZpcnN0LlxuICAgICAgICAgIGNvbnN0IGZpcnN0U3RhZmYgPSAoc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMCkgPCBzdGFmZkNoaWxkcmVuLmluZGV4T2Yoc3RhZmYxKSkgPyBzdGFmZjAgOiBzdGFmZjE7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kU3RhZmYgPSAoZmlyc3RTdGFmZi5pZCA9PT0gc3RhZmYwLmlkKSA/IHN0YWZmMSA6IHN0YWZmMDtcbiAgICAgICAgICBjb25zdCBmaXJzdExheWVyID0gZmlyc3RTdGFmZi5xdWVyeVNlbGVjdG9yKCcubGF5ZXInKTtcbiAgICAgICAgICBjb25zdCBzZWNvbmRMYXllciA9IHNlY29uZFN0YWZmLnF1ZXJ5U2VsZWN0b3IoJy5sYXllcicpO1xuICAgIFxuICAgICAgICAgIC8vIENoZWNrIHRoYXQgdGhlIGZpcnN0IHN0YWZmIGhhcyBlaXRoZXIgc3lsbGFibGUgYXMgdGhlIGxhc3Qgc3lsbGFibGVcbiAgICAgICAgICBjb25zdCBmaXJzdFN5bGxhYmxlQ2hpbGRyZW4gPSBBcnJheS5mcm9tKGZpcnN0TGF5ZXIuY2hpbGRyZW4pLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKTtcbiAgICAgICAgICBjb25zdCBzZWNvbmRTeWxsYWJsZUNoaWxkcmVuID0gQXJyYXkuZnJvbShzZWNvbmRMYXllci5jaGlsZHJlbikuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpOyAgICBcbiAgICAgICAgICBjb25zdCBsYXN0U3lsbGFibGUgPSBmaXJzdFN5bGxhYmxlQ2hpbGRyZW5bZmlyc3RTeWxsYWJsZUNoaWxkcmVuLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGNvbnN0IGZpcnN0U3lsbGFibGUgPSBzZWNvbmRTeWxsYWJsZUNoaWxkcmVuWzBdO1xuICAgIFxuICAgICAgICAgIGlmIChsYXN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzBdLmlkICYmIGZpcnN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzFdLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9IFxuICAgICAgICAgIGVsc2UgaWYgKGxhc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMV0uaWQgJiYgZmlyc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMF0uaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgLy8gY2Fubm90IHRvZ2dsZSBsaW5rIGZvciBzeWxsYWJsZSBzZWxlY3Rpb24gaWYgbnVtYmVyIG9mIHNlbGVjdGVkXG4gICAgLy8gc3lsbGFibGVzIGlzIG5vdCBlcXVhbCB0byAyXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIE1lcmdlIHNlbGVjdGVkIHN0YXZlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gbWVyZ2VTdGF2ZXMgKCk6IHZvaWQge1xuICBjb25zdCBzeXN0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmLnNlbGVjdGVkJyk7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBbXTtcbiAgc3lzdGVtcy5mb3JFYWNoKHN0YWZmID0+IHtcbiAgICBlbGVtZW50SWRzLnB1c2goc3RhZmYuaWQpO1xuICB9KTtcbiAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnbWVyZ2UnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzXG4gICAgfVxuICB9O1xuICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1N0YWZmIE1lcmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICBTZWxlY3RPcHRpb25zLmVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWVyZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgfVxuICB9KTtcbn1cblxuXG4vKipcbiAqIFRyaWdnZXIgdGhlIGdyb3VwaW5nIHNlbGVjdGlvbiBtZW51LlxuICogQHBhcmFtIHR5cGUgLSBUaGUgZ3JvdXBpbmcgdHlwZTogbmMsIG5ldW1lLCBzeWwsIGxpZ2F0dXJlTmMsIG9yIGxpZ2F0dXJlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyR3JvdXBpbmcgKHR5cGU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgKz0gQ29udGVudHMuZ3JvdXBpbmdNZW51W3R5cGVdO1xuICBpbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbn1cblxuXG4vKipcbiAqIFJlbW92ZSB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRHcm91cGluZ1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKTtcbn1cblxuXG4vKipcbiAqIFRoZSBncm91cGluZyBkcm9wZG93biBsaXN0ZW5lci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRHcm91cGluZ0xpc3RlbmVycyAoKTogdm9pZCB7XG4gIGNvbnN0IGRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGUnKTtcbiAgZGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4gIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywga2V5ZG93bkxpc3RlbmVyKTtcblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXJnZVN5bHMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGlmIChjb250YWluc0xpbmtlZChTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCkpKSByZXR1cm47XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJylcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncm91cE5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgaWYgKGNvbnRhaW5zTGlua2VkKFNlbGVjdFRvb2xzLmdldFNlbGVjdGlvblR5cGUoKSkpIHJldHVybjtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5ncm91cE5jcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saWdhdHVyZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFRvZ2dsZUxpZ2F0dXJlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICd0b2dnbGVMaWdhdHVyZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0xpZ2F0dXJlIFRvZ2dsZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZEdyb3VwaW5nU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtbGluaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cblxuLyoqXG4gKiBHcm91cGluZy9Vbmdyb3VwaW5nIGtleWJpbmRpbmcgZXZlbnQgbGlzdGVuZXJcbiAqL1xuY29uc3Qga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS5rZXkgPT09ICdnJykge1xuICAgIC8vIGdldCBzZWxlY3RlZCBlbGVtZW50cyB0byBjaGVjayBpZiB0aGV5IGNhbiBiZSBncm91cGVkc1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBzZWxlY3Rpb25UeXBlID0gU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpO1xuXG4gICAgaWYgKGNvbnRhaW5zTGlua2VkKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuO1xuXG4gICAgLy8gR3JvdXAvbWVyZ2Ugb3IgdW5ncm91cC9zcGxpdCBiYXNlZCBvbiBzZWxlY3Rpb24gdHlwZVxuICAgIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICAgIC8vIGlmIHN5bGxhYmxlcyBhcmUgbGlubmthYmxlLCB0b2dnbGUgbGlua2VkIHN5bGxhYmxlXG4gICAgICAgIC8vIGxpbmtlZCBzeWxsYWJsZXMgY2Fubm90IGJlIGdyb3VwZWQvdW5ncm91cGVkXG4gICAgICAgIGlmIChpc0xpbmthYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIHRvZ2dsZUxpbmtlZFN5bGxhYmxlcygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGdyb3VwYWJsZSBiZWZvcmUgZ3JvdXBpbmdcbiAgICAgICAgZWxzZSBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCkuZmlsdGVyKGUgPT5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG5cbiAgICAgICAgfSBcbiAgICAgICAgLy8gY2FuIG9ubHkgdW5ncm91cCBpZiBsZW5ndGggaXMgMSAob25lIHN5bGxhYmxlIHNlbGVjdGVkKVxuICAgICAgICAvLyBjYW5ub3QgdW5ncm91cCBpZiBtdWx0aXBsZSBzeWxsYWJsZXMgYXJlIHNlbGVjdGVkXG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgbWVyZ2VTdGF2ZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTdGFmZlNwbGl0TW9kZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKGBDYW4ndCBwZXJmb3JtIGdyb3VwaW5nL3VuZ3JvdXBpbmcgYWN0aW9uIG9uIHNlbGVjdGlvbiB0eXBlICR7c2VsZWN0aW9uVHlwZX0uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBGb3JtIGFuZCBleGVjdXRlIGEgZ3JvdXAvdW5ncm91cCBhY3Rpb24uXG4gKiBAcGFyYW0gYWN0aW9uIC0gVGhlIGFjdGlvbiB0byBleGVjdXRlLiBFaXRoZXIgXCJncm91cFwiIG9yIFwidW5ncm91cFwiLlxuICogQHBhcmFtIGdyb3VwVHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnRzIHRvIGdyb3VwLiBFaXRoZXIgXCJuZXVtZVwiIG9yIFwibmNcIi5cbiAqIEBwYXJhbSBlbGVtZW50SWRzIC0gVGhlIElEcyBvZiB0aGUgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGdyb3VwaW5nQWN0aW9uIChhY3Rpb246ICdncm91cCcgfCAndW5ncm91cCcsIGdyb3VwVHlwZTogJ25ldW1lJyB8ICduYycsIGVsZW1lbnRJZHM6IHN0cmluZ1tdKTogdm9pZCB7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogYWN0aW9uLFxuICAgIHBhcmFtOiB7XG4gICAgICBncm91cFR5cGU6IGdyb3VwVHlwZSxcbiAgICAgIGVsZW1lbnRJZHM6IGVsZW1lbnRJZHNcbiAgICB9XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVW5ncm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH1cbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuXG4gICAgLy8gUHJvbXB0IHVzZXIgdG8gY29uZmlybSBpZiBOZW9uIGRvZXMgbm90IHJlIGNvZ25pemUgY29udG91clxuICAgIGlmIChncm91cFR5cGUgPT09ICduYycpIHtcbiAgICAgIGNvbnN0IG5ldW1lUGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSkucGFyZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IG5jcyA9IEFycmF5LmZyb20obmV1bWVQYXJlbnQuY2hpbGRyZW4pIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91cihuY3MpO1xuICAgICAgaWYgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBXYXJuaW5ncy5ncm91cGluZ05vdFJlY29nbml6ZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hhdCBhY3Rpb24gKGxpbmsvdW5saW5rKSB0byBwZXJmb3JtIHdoZW4gdXNlciBjbGlja3Mgb24gXCJUb2dnbGUgTGlua2VkIFN5bGxhYmxlXCJcbiAqIEFsc28gY2FsbGVkIHdoZW4gY29ycmVzcGluZGluZyBob3RrZXkgaXMgcHJlc3NlZC5cbiAqL1xuZnVuY3Rpb24gdG9nZ2xlTGlua2VkU3lsbGFibGVzKCkge1xuICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiBbXVxuICB9O1xuICBjb25zdCBwYXJhbSA9IG5ldyBBcnJheTxFZGl0b3JBY3Rpb24+KCk7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKSB7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzBdLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1sxXSxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMV0sXG4gICAgICAgIHRleHQ6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSkuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpKSB7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzBdLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzFdLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIHRleHQ6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQXNzb2NpYXRlIHN5bGxhYmxlcy4gV2lsbCBuZWVkIHRvIGZpbmQgd2hpY2ggaXMgZmlyc3QuIFVzZSBzdGF2ZXMuXG4gICAgY29uc3Qgc3lsbGFibGUwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSk7XG4gICAgY29uc3Qgc3lsbGFibGUxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1sxXSk7XG4gICAgY29uc3Qgc3RhZmYwID0gc3lsbGFibGUwLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IHN0YWZmMSA9IHN5bGxhYmxlMS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZjAucGFyZW50RWxlbWVudC5jaGlsZHJlbikuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpO1xuXG4gICAgbGV0IGZpcnN0U3lsbGFibGUsIHNlY29uZFN5bGxhYmxlO1xuICAgIC8vIERldGVybWluZSBmaXJzdCBzeWxsYWJsZSBjb21lcyBmaXJzdCBieSBzdGFmZlxuICAgIGlmIChzdGFmZkNoaWxkcmVuLmluZGV4T2Yoc3RhZmYwKSA8IHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjEpKSB7XG4gICAgICBmaXJzdFN5bGxhYmxlID0gc3lsbGFibGUwO1xuICAgICAgc2Vjb25kU3lsbGFibGUgPSBzeWxsYWJsZTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpcnN0U3lsbGFibGUgPSBzeWxsYWJsZTE7XG4gICAgICBzZWNvbmRTeWxsYWJsZSA9IHN5bGxhYmxlMDtcbiAgICB9XG5cbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGZpcnN0U3lsbGFibGUuaWQsXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcjJyArIHNlY29uZFN5bGxhYmxlLmlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBmaXJzdFN5bGxhYmxlLmlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gRGVsZXRlIHN5bCBvbiBzZWNvbmQgc3lsbGFibGVcbiAgICBjb25zdCBzeWwgPSBzZWNvbmRTeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJyk7XG4gICAgaWYgKHN5bCAhPT0gbnVsbCkge1xuICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBzeWwuaWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUb2dnbGVkIFN5bGxhYmxlIExpbmsnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gVG9nZ2xlIFN5bGxhYmxlIExpbmsnKTtcbiAgICB9XG4gICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBJRHMgb2Ygc2VsZWN0ZWQgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGdldElkcyAoKTogc3RyaW5nW10ge1xuICBjb25zdCBpZHMgPSBbXTtcbiAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICBpZHMucHVzaChlbC5pZCk7XG4gIH0pO1xuICByZXR1cm4gaWRzO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHMnIGNoaWxkcmVuLlxuICovXG5mdW5jdGlvbiBnZXRDaGlsZHJlbklkcyAoKTogc3RyaW5nW10ge1xuICBjb25zdCBjaGlsZHJlbklkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykgfHwgZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoID0+IHtcbiAgICAgIGNoaWxkcmVuSWRzLnB1c2goY2guaWQpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGNoaWxkcmVuSWRzO1xufVxuIiwiZXhwb3J0IHsgSUVudHJ5LCBJRmlsZSwgSUZvbGRlciwgRW50cnlUeXBlIH0gZnJvbSAnLi9GaWxlU3lzdGVtSW50ZXJmYWNlcyc7XG5leHBvcnQgeyBGaWxlU3lzdGVtVG9vbHMgfSBmcm9tICcuL0ZpbGVTeXN0ZW1Ub29scyc7XG5leHBvcnQgeyBGaWxlU3lzdGVtTWFuYWdlciB9IGZyb20gJy4vRmlsZVN5c3RlbU1hbmFnZXInOyIsImltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IGVycm9yTG9nc1BhbmVsQ29udGVudHMgfSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7IHNldFNldHRpbmdzLCBnZXRTZXR0aW5ncyB9IGZyb20gJy4vTG9jYWxTZXR0aW5ncyc7XG5cblxuLy8gVE9ETzogc3R5bGluZ1xuZnVuY3Rpb24gY3JlYXRlTG9nTWVzc2FnZSAobm90aWY6IE5vdGlmaWNhdGlvbik6IEVsZW1lbnQge1xuICBjb25zdCBub3RpZkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub3RpZkRpdi5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb24tY29udGFpbmVyJyk7XG4gIG5vdGlmRGl2LmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibm90aWZpY2F0aW9uLXdyYXBwZXJcIj5cblxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1tYWluXCI+JHtub3RpZi5tZXNzYWdlfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLWV4dHJhXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInJlbW92ZS1ub3RpZi1pY29uLXdyYXBwZXJcIj5cbiAgICAgIDxpbWcgY2xhc3M9XCJsb2ctcmVtb3ZlIHJlbW92ZS1ub3RpZi1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2UtY2xvc2VkLnN2Z1wiPlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIGNvbnN0IHJlbW92ZSA9IG5vdGlmRGl2LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcubG9nLXJlbW92ZScpO1xuICByZW1vdmUub25jbGljayA9ICgpID0+IG5vdGlmRGl2LnJlbW92ZSgpO1xuICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgIHJlbW92ZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1vcGVuLnN2Z2ApO1xuICB9KTtcbiAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgIHJlbW92ZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnYCk7XG4gIH0pO1xuXG4gIHJldHVybiBub3RpZkRpdjtcbn1cblxuXG4vKipcbiAqIEFkZCBub3RpZmljYXRpb24gdG8gdGhlIHBlcnNpc3RlbnQgZXJyb3IgbG9nIG9uIHRoZSBzaWRlYmFyXG4gKiBAcGFyYW0gbm90aWYge05vdGlmaWNhdGlvbn0gTm90aWZpY2F0aW9uIHRvIGFkZCB0byB0aGUgZXJyb3IgbG9nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmROb3RpZmljYXRpb24gKG5vdGlmOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKTtcbiAgbG9nLnByZXBlbmQoY3JlYXRlTG9nTWVzc2FnZShub3RpZikpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBlcnJvciBsb2cuXG4gKiBBZGRzIG5lY2Vzc2FyeSBIVE1MIHRvIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRFcnJvckxvZygpOiB2b2lkIHtcbiAgLy8gRXJyb3IgbG9nIHBhbmVsXG4gIGNvbnN0IGxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgbG9nLmlubmVySFRNTCA9IGVycm9yTG9nc1BhbmVsQ29udGVudHM7XG5cbiAgaW5pdEVycm9yTG9nQ29udHJvbHMoKTtcbn1cblxuXG4vKipcbiAqIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGVycm9yIExvZyBwYW5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nQ29udHJvbHMoKTogdm9pZCB7XG4gIGNvbnN0IGVycm9yUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dIZWFkaW5nJyk7XG4gIGNvbnN0IGRyb3Bkb3duSWNvbiA9IGhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG4gIGNvbnN0IGNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKSBhcyBIVE1MRWxlbWVudDtcblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGlmIChkaXNwbGF5RXJyTG9nKSBlcnJvclBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChjb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhbiBvcGVuIHBhbmVsXG4gICAgICBjb250ZW50cy5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZWQnKTtcbiAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duYCk7XG4gICAgfSBcbiAgICAvLyBpZiBlcnJvciBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5pdERpc3BsYXlMaXN0ZW5lcigpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgY2xpY2sgbGlzdGVuZXIgb24gXCJTaG93IGVycm9yIGxvZ3NcIiBidXR0b24gaW4gXCJWaWV3XCIgZHJvcGRvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBub3RpZlBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBjb25zdCBjaGVja2JveGVzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktc2luZ2xlLWNvbnRhaW5lcicpO1xuICBjb25zdCBlcnJvcnNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IGVyb3Jyc0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgZXJvcnJzQnRuLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gIGVycm9yc0xhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICBlcnJvcnNMYWJlbC50ZXh0Q29udGVudCA9ICdFcnJvcnMnO1xuICBlcm9ycnNCdG4uaWQgPSAnZGlzcGxheS1lcnJvcnMnO1xuICBlcm9ycnNCdG4udHlwZSA9ICdjaGVja2JveCc7XG4gIGVyb3Jyc0J0bi5jaGVja2VkID0gZmFsc2U7XG4gIGVycm9yc0xhYmVsLmFwcGVuZENoaWxkKGVyb3Jyc0J0bik7XG4gIGNoZWNrYm94ZXNDb250YWluZXIuYXBwZW5kKGVycm9yc0xhYmVsKTtcblxuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgaWYgKGRpc3BsYXlFcnJMb2cpIGVyb3Jyc0J0bi5jaGVja2VkID0gdHJ1ZTtcblxuICBlcm9ycnNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICAvLyBzZXRTZXR0aW5ncyh7IGRpc3BsYXlCQm94OiBkaXNwbGF5QkJveGVzLmNoZWNrZWQgfSk7XG5cbiAgICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuICAgIGNvbnN0IGRpc3BsYXlJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5QkJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgZGlzcGxheUVyckxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWVycm9ycycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cblxuICAgIGlmIChlcm9ycnNCdG4uY2hlY2tlZCkge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlFcnJMb2c6IHRydWUgfSk7XG5cbiAgICAgIGlmIChkaXNwbGF5SW5mbz8uY2hlY2tlZCAmJiBkaXNwbGF5QkJveGVzPy5jaGVja2VkICYmIFxuICAgICAgICBkaXNwbGF5VGV4dD8uY2hlY2tlZCAmJiBkaXNwbGF5RXJyTG9nPy5jaGVja2VkKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5RXJyTG9nOiBmYWxzZSB9KTtcbiAgICAgIGlmIChkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94LCBzZWxlY3RCQm94LCBzZWxlY3RTdGFmZiwgc2VsZWN0QWxsIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIFJlc2l6ZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGlzT3V0T2ZTVkdCb3VuZHMgfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcbmltcG9ydCB7IHF1ZXVlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuXG4vKipcbiAqIFJlc2l6ZSBhIHN0YWZmIG9yIGEgc3lsbGFibGUgdGV4dCBib3VuZGluZyBib3guXG4gKiBGb3Igc3RhdmVzLCB0aGlzIGFsc28gc3VwcG9ydHMgYWRqdXN0aW5nIHRoZSByb3RhdGUuXG4gKi9cbnR5cGUgUG9pbnQgPSB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyBuYW1lOiBudW1iZXIgfTtcblxuLyoqXG4gKiBUaGUgcG9pbnRzIHlvdSBjYW4gY2xpY2sgYW5kIGRyYWcgdG8gcmVzaXplXG4gKi9cbmNvbnN0IFBvaW50TmFtZXMgPSB7XG4gIFRvcExlZnQ6IDAsXG4gIFRvcDogMSxcbiAgVG9wUmlnaHQ6IDIsXG4gIFJpZ2h0OiAzLFxuICBCb3R0b21SaWdodDogNCxcbiAgQm90dG9tOiA1LFxuICBCb3R0b21MZWZ0OiA2LFxuICBMZWZ0OiA3XG59O1xuXG5mdW5jdGlvbiBnZXRQb2ludHModWx4OiBudW1iZXIsIHVseTogbnVtYmVyLCBscng6IG51bWJlciwgbHJ5OiBudW1iZXIsIHJvdGF0ZTogbnVtYmVyKTogUG9pbnRbXSB7XG4gIC8vIE5vdGUgdGhhdCBhcmMgZnVuY3Rpb25zIHJldHVybiBhbiBhbmdsZSB4IGluIFstcGkvMiwgcGkvMl0uXG4gIGxldCBwb2ludHM6IEFycmF5PFBvaW50PjtcbiAgLy8gdWwgaXMgdWx4LCB1bHksIGxyIGlzIGxyeCwgbHJ5XG4gIGlmIChyb3RhdGUgPj0gMCkge1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIChscnggLSB1bHgpIC8gMiAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wIH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLlRvcFJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogKHVseSArIGxyeSArIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogbHJ5LCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogbHJ5IC0gKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6ICh1bHkgKyBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSkpIC8gMiwgbmFtZTogUG9pbnROYW1lcy5MZWZ0IH1cbiAgICBdO1xuICB9XG4gIC8vIE5vdCB0aGF0XG4gIGVsc2Uge1xuICAgIGNvbnN0IGEgPSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKE1hdGguYWJzKHJvdGF0ZSkpO1xuICAgIGNvbnN0IGIgPSBscnkgLSB1bHkgLSBhO1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHkgKyBhLCBuYW1lOiBQb2ludE5hbWVzLlRvcExlZnQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiB1bHkgKyBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyBiIC8gMiwgbmFtZTogUG9pbnROYW1lcy5SaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIsIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZSAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBsZXQgdWx4OiBudW1iZXI7XG4gIGxldCB1bHk6IG51bWJlcjtcbiAgbGV0IGxyeDogbnVtYmVyO1xuICBsZXQgbHJ5OiBudW1iZXI7XG4gIGxldCByb3RhdGU6IG51bWJlcjtcblxuICBsZXQgaW5pdGlhbFVseDogbnVtYmVyLCBpbml0aWFsTHJ4OiBudW1iZXI7XG4gIGxldCBpbml0aWFsUG9pbnQ6IG51bWJlcltdLCBpbml0aWFsVWx5OiBudW1iZXIsIGluaXRpYWxMcnk6IG51bWJlcixcbiAgICBpbml0aWFsWTogbnVtYmVyLCBpbml0aWFsUmVjdFk6IG51bWJlciwgcG9seUxlbjogbnVtYmVyLCBkeTogbnVtYmVyLCBpbml0aWFsUm90YXRlOiBudW1iZXI7XG5cbiAgZHJhd0luaXRpYWxSZWN0KCk7XG5cbiAgLyoqXG4gICAqIFJlZHJhdyB0aGUgcmVjdGFuZ2xlIHdpdGggdGhlIG5ldyBib3VuZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZHJhdyAoKTogdm9pZCB7XG4gICAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gZ2V0UG9pbnRzKHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlKTtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nOiBzdHJpbmcgPSBwb2ludHMuZmlsdGVyKChfZWxlbSwgaW5kZXgpID0+IHsgcmV0dXJuIGluZGV4ICUgMiA9PT0gMDsgfSlcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKS5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIHBvaW50U3RyaW5nKTtcblxuICAgIGNvbnN0IHRleHRSZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bC5zZWxlY3RlZCA+IC5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgaWYgKHRleHRSZWN0KSB7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3gnLCBTdHJpbmcoTWF0aC5taW4odWx4LCBscngpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCBTdHJpbmcoTWF0aC5taW4odWx5LCBscnkpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgU3RyaW5nKE1hdGguYWJzKGxyeCAtIHVseCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgU3RyaW5nKE1hdGguYWJzKGxyeSAtIHVseSkpKTtcbiAgICB9XG5cblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KCcjcC0nICsgcG9pbnROYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpO1xuICAgIH1cblxuICAgIGxldCB4ID0gcG9pbnRzWzNdLng7XG4gICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgKHggKyA3MCkgKyAnLCcgKyAoeSArIDUwKSArICcgJyArICh4ICsgMTAwKSArICcsJyArICh5ICsgMTUpICsgJyAnICsgKHggKyAxMzApICsgJywnICsgKHkgKyA1MCk7XG4gICAgeCA9IHBvaW50c1s3XS54O1xuICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ0xlZnQgPSAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDE1KSArICcgJyArXG4gICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpO1xuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgaW5pdGlhbCByZWN0YW5nbGUgYXJvdW5kIHRoZSBlbGVtZW50XG4gICAqIGFuZCBhZGQgdGhlIGxpc3RlbmVycyB0byBzdXBwb3J0IGRyYWdnaW5nIHRvIHJlc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGRyYXdJbml0aWFsUmVjdCAoKTogdm9pZCB7XG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHJldHVybjtcblxuICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgZDMuc2VsZWN0QWxsKCcjcmVzaXplUmVjdCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG5cbiAgICAvLyBpZiBpdCdzIGEgYm91bmRpbmdib3gganVzdCBnZXQgdGhlIGNvb3JkaW5hdGVzXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgY29uc3QgcmVjdCA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmIChyZWN0ID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignVHJpZWQgdG8gZHJhdyByZXNpemUgcmVjdCBmb3IgYSBzeWxUZXh0UmVjdCB0aGF0IGRvZXNuXFwndCBleGlzdCAob3IgaXNuXFwndCBkaXNwbGF5aW5nKScpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB1bHggPSBOdW1iZXIocmVjdC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICB1bHkgPSBOdW1iZXIocmVjdC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgICBscnggPSArdWx4ICsgK3JlY3QuZ2V0QXR0cmlidXRlKCd3aWR0aCcpO1xuICAgICAgbHJ5ID0gK3VseSArICtyZWN0LmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jyk7XG5cbiAgICAgIHJvdGF0ZSA9IDA7XG4gICAgfVxuXG4gICAgLy8gaWYgaXQncyBhIHN0YWZmIHVzZSB0aGUgcGF0aHMgdG8gZ2V0IGl0J3MgYm91bmRpbmdib3hcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIGNvbnN0IGJib3ggPSBnZXRTdGFmZkJCb3goZWxlbWVudCk7XG4gICAgICB1bHggPSBiYm94LnVseDtcbiAgICAgIHVseSA9IGJib3gudWx5O1xuICAgICAgbHJ4ID0gYmJveC5scng7XG4gICAgICBscnkgPSBiYm94LmxyeTtcblxuICAgICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCdwYXRoJylcbiAgICAgICAgLmdldEF0dHJpYnV0ZSgnZCcpXG4gICAgICAgIC5tYXRjaCgvXFxkKy9nKVxuICAgICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGluaXRpYWxVbHggPSB1bHgsIGluaXRpYWxVbHkgPSB1bHksIGluaXRpYWxMcnggPSBscngsIGluaXRpYWxMcnkgPSBscnk7XG5cbiAgICBsZXQgd2hpY2hQb2ludDogc3RyaW5nO1xuXG4gICAgY29uc3QgcG9pbnRzID0gZ2V0UG9pbnRzKHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlKTtcblxuICAgIHBvbHlMZW4gPSBwb2ludHNbMl0ueCAtIHBvaW50c1swXS54O1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmcgPSBwb2ludHMuZmlsdGVyKChfLCBpbmRleCkgPT4gaW5kZXggJSAyID09PSAwKVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkMy5zZWxlY3QoJyMnICsgZWxlbWVudC5pZCkuYXBwZW5kKCdwb2x5Z29uJylcbiAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZylcbiAgICAgIC5hdHRyKCdpZCcsICdyZXNpemVSZWN0JylcbiAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDEwKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpXG4gICAgICAuc3R5bGUoJ2N1cnNvcicsICdtb3ZlJylcbiAgICAgIC5zdHlsZSgnc3Ryb2tlLWRhc2hhcnJheScsICcyMCAxMCcpO1xuXG4gICAgY29uc3QgeyBjaXJjbGVTaXplIH0gPSBnZXRTZXR0aW5ncygpO1xuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoZWxlbWVudC52aWV3cG9ydEVsZW1lbnQpLmFwcGVuZCgnY2lyY2xlJylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSlcbiAgICAgICAgLmF0dHIoJ3InLCBjaXJjbGVTaXplKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDQpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncmVzaXplUG9pbnQnKVxuICAgICAgICAuYXR0cignaWQnLCAncC0nICsgcG9pbnROYW1lKTtcbiAgICB9XG5cbiAgICAvLyBkbyBpdCBhcyBhIGxvb3AgaW5zdGVhZCBvZiBzZWxlY3RBbGwgc28gdGhhdCB5b3UgY2FuIGVhc2lseSBrbm93IHdoaWNoIHBvaW50IHdhc1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBuYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCAoKSA9PiB7IHJlc2l6ZVN0YXJ0KG5hbWUpOyB9KVxuICAgICAgICAgIC5vbignZHJhZycsIHJlc2l6ZURyYWcpXG4gICAgICAgICAgLm9uKCdlbmQnLCByZXNpemVFbmQuYmluZCh0aGlzKSkpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICAgIGxldCB5ID0gcG9pbnRzWzNdLnk7XG4gICAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICAgIHggPSBwb2ludHNbN10ueDtcbiAgICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICAgKHggLSAxMzApICsgJywnICsgKHkgLSA1MCkgKyAnICcgKyAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDg1KSArICcgJyArICh4IC0gNzApICsgJywnICsgKHkgLSA1MCk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JvdGF0ZVJpZ2h0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdMZWZ0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlTGVmdCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyb3RhdGVQb2ludCcpO1xuXG4gICAgICBkMy5zZWxlY3QoJyNyb3RhdGVMZWZ0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdMZWZ0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdSaWdodClcbiAgICAgICAgICAub24oJ2VuZCcsIHJvdGF0ZUVuZCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZVN0YXJ0IChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIHdoaWNoUG9pbnQgPSBuYW1lO1xuICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHMuZmluZChwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzW25hbWVdKTtcbiAgICAgIGluaXRpYWxQb2ludCA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZURyYWcgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFBvaW50ID0gZDMubW91c2UodGhpcyk7XG4gICAgICBzd2l0Y2ggKFBvaW50TmFtZXNbd2hpY2hQb2ludF0pIHtcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcExlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcDpcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV0gLSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBpbml0aWFsTHJ5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbTpcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdICsgKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gaW5pdGlhbFVseSArIChjdXJyZW50UG9pbnRbMF0gLSBpbml0aWFsUG9pbnRbMF0pICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdTb21ldGhpbmcgdGhhdCB3YXNuXFwndCBhIHNpZGUgb2YgdGhlIHJlY3RhbmdsZSB3YXMgZHJhZ2dlZC4gVGhpcyBzaG91bGRuXFwndCBoYXBwZW4uJyk7XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHModWx4LCB1bHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4LCBscnkpKSB7XG4gICAgICAgIHVseCA9IGluaXRpYWxVbHgsIHVseSA9IGluaXRpYWxVbHksIGxyeCA9IGluaXRpYWxMcngsIGxyeSA9IGluaXRpYWxMcnk7XG4gICAgICAgIHJlZHJhdygpO1xuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSZXNpemUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBSZXNpemVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKTtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkLCB1bHkgPSB1bmRlZmluZWQsIGxyeCA9IHVuZGVmaW5lZCwgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKV0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtb3JlRWRpdCcpO1xuXG4gICAgICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBST1RBVEVcbiAgICBmdW5jdGlvbiByb3RhdGVTdGFydCAoKTogdm9pZCB7XG4gICAgICBjb25zdCB3aGljaCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5pZDtcbiAgICAgIGluaXRpYWxZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxSZWN0WSA9ICh3aGljaCA9PT0gJ3JvdGF0ZVJpZ2h0JyA/IGxyeSA6IHVseSk7XG4gICAgICBpbml0aWFsUm90YXRlID0gcm90YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZURyYWdMZWZ0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlIC0gTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgdWx5ID0gaW5pdGlhbFJlY3RZICsgZHk7XG4gICAgICAgIHJvdGF0ZSA9IHRlbXBSb3RhdGU7XG4gICAgICAgIGlmIChyb3RhdGUgPj0gMCkge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BSaWdodClbMF0ueTtcbiAgICAgICAgICBscnkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnUmlnaHQgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGNvbnN0IHRlbXAgPSBjdXJyZW50WSAtIGluaXRpYWxZO1xuICAgICAgY29uc3QgdGVtcFJvdGF0ZSA9IGluaXRpYWxSb3RhdGUgKyBNYXRoLmF0YW4odGVtcCAvIHBvbHlMZW4pO1xuICAgICAgaWYgKHRlbXBSb3RhdGUgPiAtMC4yICYmIHRlbXBSb3RhdGUgPCAwLjIpIHtcbiAgICAgICAgZHkgPSB0ZW1wO1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDAgKSB7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tUmlnaHQpWzBdLnk7XG4gICAgICAgICAgdWx5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWx5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbUxlZnQpWzBdLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkeSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc091dE9mU1ZHQm91bmRzKHVseCwgdWx5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCwgbHJ5KSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVzaXplUG9pbnQnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Jlc2l6ZVJlY3QnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvdGF0ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQ7XG4gICAgICAgIHVseSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ4ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZWxlbWVudCwgZHJhZ0hhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJvdGF0ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnksXG4gICAgICAgICAgcm90YXRlOiByb3RhdGUgKiAxODAgLyBNYXRoLlBJXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgaW1tZWRpYXRlIGZyb20gJ2ltbWVkaWF0ZSc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IE1kNSBmcm9tICdzcGFyay1tZDUnO1xuaW1wb3J0IHZ1dnV6ZWxhIGZyb20gJ3Z1dnV6ZWxhJztcbmltcG9ydCBnZXRBcmd1bWVudHMgZnJvbSAnYXJnc2FycmF5JztcbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5pbXBvcnQgRUUgZnJvbSAnZXZlbnRzJztcblxuZnVuY3Rpb24gbWFuZ2xlKGtleSkge1xuICByZXR1cm4gJyQnICsga2V5O1xufVxuZnVuY3Rpb24gdW5tYW5nbGUoa2V5KSB7XG4gIHJldHVybiBrZXkuc3Vic3RyaW5nKDEpO1xufVxuZnVuY3Rpb24gTWFwJDEoKSB7XG4gIHRoaXMuX3N0b3JlID0ge307XG59XG5NYXAkMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG59O1xuTWFwJDEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHRoaXMuX3N0b3JlW21hbmdsZWRdID0gdmFsdWU7XG4gIHJldHVybiB0cnVlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLm1hcChrID0+IHVubWFuZ2xlKGspKTtcbn07XG5NYXAkMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB2YXIgcmVzID0gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbiAgZGVsZXRlIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xuICByZXR1cm4gcmVzO1xufTtcbk1hcCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3N0b3JlW2tleV07XG4gICAga2V5ID0gdW5tYW5nbGUoa2V5KTtcbiAgICBjYih2YWx1ZSwga2V5KTtcbiAgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIFNldCQxKGFycmF5KSB7XG4gIHRoaXMuX3N0b3JlID0gbmV3IE1hcCQxKCk7XG5cbiAgLy8gaW5pdCB3aXRoIGFuIGFycmF5XG4gIGlmIChhcnJheSAmJiBBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5hZGQoYXJyYXlbaV0pO1xuICAgIH1cbiAgfVxufVxuU2V0JDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLnNldChrZXksIHRydWUpO1xufTtcblNldCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5oYXMoa2V5KTtcbn07XG5TZXQkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB0aGlzLl9zdG9yZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgY2Ioa2V5KTtcbiAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5zaXplO1xuICB9XG59KTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9rYW5nYXguZ2l0aHViLmlvL2NvbXBhdC10YWJsZS9lczYvIHdlIGNhbiBzbmlmZiBvdXRcbi8vIGluY29tcGxldGUgTWFwL1NldCBpbXBsZW1lbnRhdGlvbnMgd2hpY2ggd291bGQgb3RoZXJ3aXNlIGNhdXNlIG91ciB0ZXN0cyB0byBmYWlsLlxuLy8gTm90YWJseSB0aGV5IGZhaWwgaW4gSUUxMSBhbmQgaU9TIDguNCwgd2hpY2ggdGhpcyBwcmV2ZW50cy5cbmZ1bmN0aW9uIHN1cHBvcnRzTWFwQW5kU2V0KCkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3AgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1hcCwgU3ltYm9sLnNwZWNpZXMpO1xuICByZXR1cm4gcHJvcCAmJiAnZ2V0JyBpbiBwcm9wICYmIE1hcFtTeW1ib2wuc3BlY2llc10gPT09IE1hcDtcbn1cblxuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL21vbnRhZ2Vqcy9jb2xsZWN0aW9uc1xuXG52YXIgRXhwb3J0ZWRTZXQ7XG52YXIgRXhwb3J0ZWRNYXA7XG5cbntcbiAgaWYgKHN1cHBvcnRzTWFwQW5kU2V0KCkpIHsgLy8gcHJlZmVyIGJ1aWx0LWluIE1hcC9TZXRcbiAgICBFeHBvcnRlZFNldCA9IFNldDtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcDtcbiAgfSBlbHNlIHsgLy8gZmFsbCBiYWNrIHRvIG91ciBwb2x5ZmlsbFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0JDE7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXAkMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQmxvYik7XG59XG5cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYnVmZikge1xuICBpZiAodHlwZW9mIGJ1ZmYuc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYnVmZi5zbGljZSgwKTtcbiAgfVxuICAvLyBJRTEwLTExIHNsaWNlKCkgcG9seWZpbGxcbiAgdmFyIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihidWZmLmJ5dGVMZW5ndGgpO1xuICB2YXIgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuICB2YXIgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmKTtcbiAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG4gIH1cbiAgdmFyIHNpemUgPSBvYmplY3Quc2l6ZTtcbiAgdmFyIHR5cGUgPSBvYmplY3QudHlwZTtcbiAgLy8gQmxvYlxuICBpZiAodHlwZW9mIG9iamVjdC5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvYmplY3Quc2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG4gIH1cbiAgLy8gUGhhbnRvbUpTIHNsaWNlKCkgcmVwbGFjZW1lbnRcbiAgcmV0dXJuIG9iamVjdC53ZWJraXRTbGljZSgwLCBzaXplLCB0eXBlKTtcbn1cblxuLy8gbW9zdCBvZiB0aGlzIGlzIGJvcnJvd2VkIGZyb20gbG9kYXNoLmlzUGxhaW5PYmplY3Q6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmlzLWNvbXBvbmVudHMvbG9kYXNoLmlzcGxhaW5vYmplY3QvXG4vLyBibG9iLzI5YzM1ODE0MGE3NGYyNTJhZWIwOGM5ZWIyOGJlZjg2ZjIyMTdkNGEvaW5kZXguanNcblxudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHByb3RvID09PSBudWxsKSB7IC8vIG5vdCBzdXJlIHdoZW4gdGhpcyBoYXBwZW5zLCBidXQgSSBndWVzcyBpdCBjYW5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcbiAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7XG4gIHZhciBuZXdPYmplY3Q7XG4gIHZhciBpO1xuICB2YXIgbGVuO1xuXG4gIGlmICghb2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBuZXdPYmplY3QgPSBbXTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5ld09iamVjdFtpXSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG4gIH1cblxuICAvLyBzcGVjaWFsIGNhc2U6IHRvIGF2b2lkIGluY29uc2lzdGVuY2llcyBiZXR3ZWVuIEluZGV4ZWREQlxuICAvLyBhbmQgb3RoZXIgYmFja2VuZHMsIHdlIGF1dG9tYXRpY2FsbHkgc3RyaW5naWZ5IERhdGVzXG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlICYmIGlzRmluaXRlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0LnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICBpZiAoaXNCaW5hcnlPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0OyAvLyBkb24ndCBjbG9uZSBvYmplY3RzIGxpa2UgV29ya2Vyc1xuICB9XG5cbiAgbmV3T2JqZWN0ID0ge307XG4gIGZvciAoaSBpbiBvYmplY3QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBpKSkge1xuICAgICAgdmFyIHZhbHVlID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5ld09iamVjdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3T2JqZWN0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGZ1bikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgc21va2UgdGVzdCBhbmQgc2hvdWxkIG5ldmVyIGFjdHVhbGx5IGhhcHBlblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbmNlIGNhbGxlZCBtb3JlIHRoYW4gb25jZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvUHJvbWlzZShmdW5jKSB7XG4gIC8vY3JlYXRlIHRoZSBmdW5jdGlvbiB3ZSB3aWxsIGJlIHJldHVybmluZ1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLy8gQ2xvbmUgYXJndW1lbnRzXG4gICAgYXJncyA9IGNsb25lKGFyZ3MpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBpZiB0aGUgbGFzdCBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLCBhc3N1bWUgaXRzIGEgY2FsbGJhY2tcbiAgICB2YXIgdXNlZENCID0gKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpID8gYXJncy5wb3AoKSA6IGZhbHNlO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIG1lc2cpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChtZXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3IgdGhpcyBpbnZvY2F0aW9uXG4gICAgICAgIC8vIGFwcGx5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZyBjb250ZXh0XG4gICAgICAgIGFyZ3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJlc3AgPSBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICBpZiAocmVzcCAmJiB0eXBlb2YgcmVzcC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZnVsZmlsbChyZXNwKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBjYWxsYmFjaywgY2FsbCBpdCBiYWNrXG4gICAgaWYgKHVzZWRDQikge1xuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdXNlZENCKG51bGwsIHJlc3VsdCk7XG4gICAgICB9LCB1c2VkQ0IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHNlbGYuY29uc3RydWN0b3IubGlzdGVuZXJzKCdkZWJ1ZycpLmxlbmd0aCkge1xuICAgIHZhciBsb2dBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGxvZ0FyZ3MucHVzaChhcmdzW2ldKTtcbiAgICB9XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIGxvZ0FyZ3MpO1xuXG4gICAgLy8gb3ZlcnJpZGUgdGhlIGNhbGxiYWNrIGl0c2VsZiB0byBsb2cgdGhlIHJlc3BvbnNlXG4gICAgdmFyIG9yaWdDYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIHZhciByZXNwb25zZUFyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgICByZXNwb25zZUFyZ3MgPSByZXNwb25zZUFyZ3MuY29uY2F0KFxuICAgICAgICBlcnIgPyBbJ2Vycm9yJywgZXJyXSA6IFsnc3VjY2VzcycsIHJlc11cbiAgICAgICk7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgcmVzcG9uc2VBcmdzKTtcbiAgICAgIG9yaWdDYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGFwdGVyRnVuKG5hbWUsIGNhbGxiYWNrKSB7XG4gIHJldHVybiB0b1Byb21pc2UoZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgY2xvc2VkJykpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBkZXN0cm95ZWQnKSk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpO1xuICAgIGlmICghdGhpcy50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICAgICAgcmVqZWN0KGZhaWxlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwoc2VsZltuYW1lXS5hcHBseShzZWxmLCBhcmdzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gIH0pKTtcbn1cblxuLy8gbGlrZSB1bmRlcnNjb3JlL2xvZGFzaCBfLnBpY2soKVxuZnVuY3Rpb24gcGljayhvYmosIGFycikge1xuICB2YXIgcmVzID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IGFycltpXTtcbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc1twcm9wXSA9IG9ialtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gTW9zdCBicm93c2VycyB0aHJvdHRsZSBjb25jdXJyZW50IHJlcXVlc3RzIGF0IDYsIHNvIGl0J3Mgc2lsbHlcbi8vIHRvIHNoaW0gX2J1bGtfZ2V0IGJ5IHRyeWluZyB0byBsYXVuY2ggcG90ZW50aWFsbHkgaHVuZHJlZHMgb2YgcmVxdWVzdHNcbi8vIGFuZCB0aGVuIGxldHRpbmcgdGhlIG1ham9yaXR5IHRpbWUgb3V0LiBXZSBjYW4gaGFuZGxlIHRoaXMgb3Vyc2VsdmVzLlxudmFyIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUyA9IDY7XG5cbmZ1bmN0aW9uIGlkZW50aXR5RnVuY3Rpb24oeCkge1xuICByZXR1cm4geDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQocmVzdWx0KSB7XG4gIHJldHVybiBbe1xuICAgIG9rOiByZXN1bHRcbiAgfV07XG59XG5cbi8vIHNoaW0gZm9yIFAvQ291Y2hEQiBhZGFwdGVycyB0aGF0IGRvbid0IGRpcmVjdGx5IGltcGxlbWVudCBfYnVsa19nZXRcbmZ1bmN0aW9uIGJ1bGtHZXQoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0cyA9IG9wdHMuZG9jcztcblxuICAvLyBjb25zb2xpZGF0ZSBpbnRvIG9uZSByZXF1ZXN0IHBlciBkb2MgaWYgcG9zc2libGVcbiAgdmFyIHJlcXVlc3RzQnlJZCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICByZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3RzQnlJZC5oYXMocmVxdWVzdC5pZCkpIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5nZXQocmVxdWVzdC5pZCkucHVzaChyZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdHNCeUlkLnNldChyZXF1ZXN0LmlkLCBbcmVxdWVzdF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIG51bURvY3MgPSByZXF1ZXN0c0J5SWQuc2l6ZTtcbiAgdmFyIG51bURvbmUgPSAwO1xuICB2YXIgcGVyRG9jUmVzdWx0cyA9IG5ldyBBcnJheShudW1Eb2NzKTtcblxuICBmdW5jdGlvbiBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwZXJEb2NSZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVzLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkOiByZXMuaWQsXG4gICAgICAgICAgZG9jczogW2luZm9dXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IHJlc3VsdHN9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBudW1Eb2NzKSB7XG4gICAgICBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnb3RSZXN1bHQoZG9jSW5kZXgsIGlkLCBkb2NzKSB7XG4gICAgcGVyRG9jUmVzdWx0c1tkb2NJbmRleF0gPSB7aWQ6IGlkLCBkb2NzOiBkb2NzfTtcbiAgICBjaGVja0RvbmUoKTtcbiAgfVxuXG4gIHZhciBhbGxSZXF1ZXN0cyA9IFtdO1xuICByZXF1ZXN0c0J5SWQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGFsbFJlcXVlc3RzLnB1c2goa2V5KTtcbiAgfSk7XG5cbiAgdmFyIGkgPSAwO1xuXG4gIGZ1bmN0aW9uIG5leHRCYXRjaCgpIHtcblxuICAgIGlmIChpID49IGFsbFJlcXVlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB1cFRvID0gTWF0aC5taW4oaSArIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUywgYWxsUmVxdWVzdHMubGVuZ3RoKTtcbiAgICB2YXIgYmF0Y2ggPSBhbGxSZXF1ZXN0cy5zbGljZShpLCB1cFRvKTtcbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2gsIGkpO1xuICAgIGkgKz0gYmF0Y2gubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoLCBvZmZzZXQpIHtcbiAgICBiYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJZCwgaikge1xuICAgICAgdmFyIGRvY0lkeCA9IG9mZnNldCArIGo7XG4gICAgICB2YXIgZG9jUmVxdWVzdHMgPSByZXF1ZXN0c0J5SWQuZ2V0KGRvY0lkKTtcblxuICAgICAgLy8ganVzdCB1c2UgdGhlIGZpcnN0IHJlcXVlc3QgYXMgdGhlIFwidGVtcGxhdGVcIlxuICAgICAgLy8gVE9ETzogVGhlIF9idWxrX2dldCBBUEkgYWxsb3dzIGZvciBtb3JlIHN1YnRsZSB1c2UgY2FzZXMgdGhhbiB0aGlzLFxuICAgICAgLy8gYnV0IGZvciBub3cgaXQgaXMgdW5saWtlbHkgdGhhdCB0aGVyZSB3aWxsIGJlIGEgbWl4IG9mIGRpZmZlcmVudFxuICAgICAgLy8gXCJhdHRzX3NpbmNlXCIgb3IgXCJhdHRhY2htZW50c1wiIGluIHRoZSBzYW1lIHJlcXVlc3QsIHNpbmNlIGl0J3MganVzdFxuICAgICAgLy8gcmVwbGljYXRlLmpzIHRoYXQgaXMgdXNpbmcgdGhpcyBmb3IgdGhlIG1vbWVudC5cbiAgICAgIC8vIEFsc28sIGF0dHNfc2luY2UgaXMgYXNwaXJhdGlvbmFsLCBzaW5jZSB3ZSBkb24ndCBzdXBwb3J0IGl0IHlldC5cbiAgICAgIHZhciBkb2NPcHRzID0gcGljayhkb2NSZXF1ZXN0c1swXSwgWydhdHRzX3NpbmNlJywgJ2F0dGFjaG1lbnRzJ10pO1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NSZXF1ZXN0cy5tYXAoZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgLy8gcmV2IGlzIG9wdGlvbmFsLCBvcGVuX3JldnMgZGlzYWxsb3dlZFxuICAgICAgICByZXR1cm4gcmVxdWVzdC5yZXY7XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVtb3ZlIGZhbHNleSAvIHVuZGVmaW5lZCByZXZpc2lvbnNcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jT3B0cy5vcGVuX3JldnMuZmlsdGVyKGlkZW50aXR5RnVuY3Rpb24pO1xuXG4gICAgICB2YXIgZm9ybWF0UmVzdWx0ID0gaWRlbnRpdHlGdW5jdGlvbjtcblxuICAgICAgaWYgKGRvY09wdHMub3Blbl9yZXZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgZG9jT3B0cy5vcGVuX3JldnM7XG5cbiAgICAgICAgLy8gd2hlbiBmZXRjaGluZyBvbmx5IHRoZSBcIndpbm5pbmdcIiBsZWFmLFxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHJlc3VsdCBzbyBpdCBsb29rcyBsaWtlIGFuIG9wZW5fcmV2c1xuICAgICAgICAvLyByZXF1ZXN0XG4gICAgICAgIGZvcm1hdFJlc3VsdCA9IGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0O1xuICAgICAgfVxuXG4gICAgICAvLyBnbG9iYWxseS1zdXBwbGllZCBvcHRpb25zXG4gICAgICBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2FqYXgnLCAnbGF0ZXN0J10uZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgaWYgKHBhcmFtIGluIG9wdHMpIHtcbiAgICAgICAgICBkb2NPcHRzW3BhcmFtXSA9IG9wdHNbcGFyYW1dO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRiLmdldChkb2NJZCwgZG9jT3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gW3tlcnJvcjogZXJyfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gZm9ybWF0UmVzdWx0KHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZ290UmVzdWx0KGRvY0lkeCwgZG9jSWQsIHJlc3VsdCk7XG4gICAgICAgIG5leHRCYXRjaCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBuZXh0QmF0Y2goKTtcblxufVxuXG52YXIgaGFzTG9jYWw7XG5cbnRyeSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJywgMSk7XG4gIGhhc0xvY2FsID0gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScpO1xufSBjYXRjaCAoZSkge1xuICBoYXNMb2NhbCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XG4gIHJldHVybiBoYXNMb2NhbDtcbn1cblxuLy8gQ3VzdG9tIG5leHRUaWNrKCkgc2hpbSBmb3IgYnJvd3NlcnMuIEluIG5vZGUsIHRoaXMgd2lsbCBqdXN0IGJlIHByb2Nlc3MubmV4dFRpY2soKS4gV2VcblxuaW5oZXJpdHMoQ2hhbmdlcywgRUUpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gYXR0YWNoQnJvd3NlckV2ZW50cyhzZWxmKSB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzZWxmLmVtaXQoZS5rZXkpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXG4gIGF0dGFjaEJyb3dzZXJFdmVudHModGhpcyk7XG59XG5DaGFuZ2VzLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkLCBkYiwgb3B0cykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHRoaXMuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICBmdW5jdGlvbiBldmVudEZ1bmN0aW9uKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghc2VsZi5fbGlzdGVuZXJzW2lkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5wcm9ncmVzcykge1xuICAgICAgaW5wcm9ncmVzcyA9ICd3YWl0aW5nJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5wcm9ncmVzcyA9IHRydWU7XG4gICAgdmFyIGNoYW5nZXNPcHRzID0gcGljayhvcHRzLCBbXG4gICAgICAnc3R5bGUnLCAnaW5jbHVkZV9kb2NzJywgJ2F0dGFjaG1lbnRzJywgJ2NvbmZsaWN0cycsICdmaWx0ZXInLFxuICAgICAgJ2RvY19pZHMnLCAndmlldycsICdzaW5jZScsICdxdWVyeV9wYXJhbXMnLCAnYmluYXJ5JywgJ3JldHVybl9kb2NzJ1xuICAgIF0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGRiLmNoYW5nZXMoY2hhbmdlc09wdHMpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuc2VxID4gb3B0cy5zaW5jZSAmJiAhb3B0cy5jYW5jZWxsZWQpIHtcbiAgICAgICAgb3B0cy5zaW5jZSA9IGMuc2VxO1xuICAgICAgICBvcHRzLm9uQ2hhbmdlKGMpO1xuICAgICAgfVxuICAgIH0pLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpbnByb2dyZXNzID09PSAnd2FpdGluZycpIHtcbiAgICAgICAgaW1tZWRpYXRlKGV2ZW50RnVuY3Rpb24pO1xuICAgICAgfVxuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH0pLm9uKCdlcnJvcicsIG9uRXJyb3IpO1xuICB9XG4gIHRoaXMuX2xpc3RlbmVyc1tpZF0gPSBldmVudEZ1bmN0aW9uO1xuICB0aGlzLm9uKGRiTmFtZSwgZXZlbnRGdW5jdGlvbik7XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIShpZCBpbiB0aGlzLl9saXN0ZW5lcnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIEVFLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsIGRiTmFtZSxcbiAgICB0aGlzLl9saXN0ZW5lcnNbaWRdKTtcbiAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tpZF07XG59O1xuXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnlMb2NhbFdpbmRvd3MgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIC8vZG8gYSB1c2VsZXNzIGNoYW5nZSBvbiBhIHN0b3JhZ2UgdGhpbmdcbiAgLy9pbiBvcmRlciB0byBnZXQgb3RoZXIgd2luZG93cydzIGxpc3RlbmVycyB0byBhY3RpdmF0ZVxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9IChsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9PT0gXCJhXCIpID8gXCJiXCIgOiBcImFcIjtcbiAgfVxufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICB0aGlzLmVtaXQoZGJOYW1lKTtcbiAgdGhpcy5ub3RpZnlMb2NhbFdpbmRvd3MoZGJOYW1lKTtcbn07XG5cbmZ1bmN0aW9uIGd1YXJkZWRDb25zb2xlKG1ldGhvZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbU51bWJlcihtaW4sIG1heCkge1xuICB2YXIgbWF4VGltZW91dCA9IDYwMDAwMDsgLy8gSGFyZC1jb2RlZCBkZWZhdWx0IG9mIDEwIG1pbnV0ZXNcbiAgbWluID0gcGFyc2VJbnQobWluLCAxMCkgfHwgMDtcbiAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMCk7XG4gIGlmIChtYXggIT09IG1heCB8fCBtYXggPD0gbWluKSB7XG4gICAgbWF4ID0gKG1pbiB8fCAxKSA8PCAxOyAvL2RvdWJsaW5nXG4gIH0gZWxzZSB7XG4gICAgbWF4ID0gbWF4ICsgMTtcbiAgfVxuICAvLyBJbiBvcmRlciB0byBub3QgZXhjZWVkIG1heFRpbWVvdXQsIHBpY2sgYSByYW5kb20gdmFsdWUgYmV0d2VlbiBoYWxmIG9mIG1heFRpbWVvdXQgYW5kIG1heFRpbWVvdXRcbiAgaWYgKG1heCA+IG1heFRpbWVvdXQpIHtcbiAgICBtaW4gPSBtYXhUaW1lb3V0ID4+IDE7IC8vIGRpdmlkZSBieSB0d29cbiAgICBtYXggPSBtYXhUaW1lb3V0O1xuICB9XG4gIHZhciByYXRpbyA9IE1hdGgucmFuZG9tKCk7XG4gIHZhciByYW5nZSA9IG1heCAtIG1pbjtcblxuICByZXR1cm4gfn4ocmFuZ2UgKiByYXRpbyArIG1pbik7IC8vIH5+IGNvZXJjZXMgdG8gYW4gaW50LCBidXQgZmFzdC5cbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJhY2tPZmYobWluKSB7XG4gIHZhciBtYXggPSAwO1xuICBpZiAoIW1pbikge1xuICAgIG1heCA9IDIwMDA7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbU51bWJlcihtaW4sIG1heCk7XG59XG5cbi8vIGRlc2lnbmVkIHRvIGdpdmUgaW5mbyB0byBicm93c2VyIHVzZXJzLCB3aG8gYXJlIGRpc3R1cmJlZFxuLy8gd2hlbiB0aGV5IHNlZSBodHRwIGVycm9ycyBpbiB0aGUgY29uc29sZVxuZnVuY3Rpb24gZXhwbGFpbkVycm9yKHN0YXR1cywgc3RyKSB7XG4gIGd1YXJkZWRDb25zb2xlKCdpbmZvJywgJ1RoZSBhYm92ZSAnICsgc3RhdHVzICsgJyBpcyB0b3RhbGx5IG5vcm1hbC4gJyArIHN0cik7XG59XG5cbnZhciBhc3NpZ247XG57XG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4gIH0gZWxzZSB7XG4gICAgLy8gbGl0ZSBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGJhc2VkIG9uXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuICAgIGFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG87XG4gICAgfTtcbiAgfVxufVxuXG52YXIgJGluamVjdF9PYmplY3RfYXNzaWduID0gYXNzaWduO1xuXG5pbmhlcml0cyhQb3VjaEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIFBvdWNoRXJyb3Ioc3RhdHVzLCBlcnJvciwgcmVhc29uKSB7XG4gIEVycm9yLmNhbGwodGhpcywgcmVhc29uKTtcbiAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIHRoaXMubmFtZSA9IGVycm9yO1xuICB0aGlzLm1lc3NhZ2UgPSByZWFzb247XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xufVxuXG5Qb3VjaEVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgcmVhc29uOiB0aGlzLnJlYXNvblxuICB9KTtcbn07XG5cbnZhciBVTkFVVEhPUklaRUQgPSBuZXcgUG91Y2hFcnJvcig0MDEsICd1bmF1dGhvcml6ZWQnLCBcIk5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LlwiKTtcbnZhciBNSVNTSU5HX0JVTEtfRE9DUyA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgXCJNaXNzaW5nIEpTT04gbGlzdCBvZiAnZG9jcydcIik7XG52YXIgTUlTU0lOR19ET0MgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnbWlzc2luZycpO1xudmFyIFJFVl9DT05GTElDVCA9IG5ldyBQb3VjaEVycm9yKDQwOSwgJ2NvbmZsaWN0JywgJ0RvY3VtZW50IHVwZGF0ZSBjb25mbGljdCcpO1xudmFyIElOVkFMSURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nJyk7XG52YXIgTUlTU0lOR19JRCA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3NpbmdfaWQnLCAnX2lkIGlzIHJlcXVpcmVkIGZvciBwdXRzJyk7XG52YXIgUkVTRVJWRURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdPbmx5IHJlc2VydmVkIGRvY3VtZW50IGlkcyBtYXkgc3RhcnQgd2l0aCB1bmRlcnNjb3JlLicpO1xudmFyIE5PVF9PUEVOID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAncHJlY29uZGl0aW9uX2ZhaWxlZCcsICdEYXRhYmFzZSBub3Qgb3BlbicpO1xudmFyIFVOS05PV05fRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd1bmtub3duX2Vycm9yJywgJ0RhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3InKTtcbnZhciBCQURfQVJHID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnYmFkYXJnJywgJ1NvbWUgcXVlcnkgYXJndW1lbnQgaXMgaW52YWxpZCcpO1xudmFyIElOVkFMSURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2ludmFsaWRfcmVxdWVzdCcsICdSZXF1ZXN0IHdhcyBpbnZhbGlkJyk7XG52YXIgUVVFUllfUEFSU0VfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdxdWVyeV9wYXJzZV9lcnJvcicsICdTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkJyk7XG52YXIgRE9DX1ZBTElEQVRJT04gPSBuZXcgUG91Y2hFcnJvcig1MDAsICdkb2NfdmFsaWRhdGlvbicsICdCYWQgc3BlY2lhbCBkb2N1bWVudCBtZW1iZXInKTtcbnZhciBCQURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ1NvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0Jyk7XG52YXIgTk9UX0FOX09CSkVDVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0RvY3VtZW50IG11c3QgYmUgYSBKU09OIG9iamVjdCcpO1xudmFyIERCX01JU1NJTkcgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnRGF0YWJhc2Ugbm90IGZvdW5kJyk7XG52YXIgSURCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnaW5kZXhlZF9kYl93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgV1NRX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnd2ViX3NxbF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgTERCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnbGV2ZWxEQl93ZW50X3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBGT1JCSURERU4gPSBuZXcgUG91Y2hFcnJvcig0MDMsICdmb3JiaWRkZW4nLCAnRm9yYmlkZGVuIGJ5IGRlc2lnbiBkb2MgdmFsaWRhdGVfZG9jX3VwZGF0ZSBmdW5jdGlvbicpO1xudmFyIElOVkFMSURfUkVWID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnSW52YWxpZCByZXYgZm9ybWF0Jyk7XG52YXIgRklMRV9FWElTVFMgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdmaWxlX2V4aXN0cycsICdUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNyZWF0ZWQsIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLicpO1xudmFyIE1JU1NJTkdfU1RVQiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3Npbmdfc3R1YicsICdBIHByZS1leGlzdGluZyBhdHRhY2htZW50IHN0dWIgd2FzblxcJ3QgZm91bmQnKTtcbnZhciBJTlZBTElEX1VSTCA9IG5ldyBQb3VjaEVycm9yKDQxMywgJ2ludmFsaWRfdXJsJywgJ1Byb3ZpZGVkIFVSTCBpcyBpbnZhbGlkJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKGVycm9yLCByZWFzb24pIHtcbiAgZnVuY3Rpb24gQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pIHtcbiAgICAvLyBpbmhlcml0IGVycm9yIHByb3BlcnRpZXMgZnJvbSBvdXIgcGFyZW50IGVycm9yIG1hbnVhbGx5XG4gICAgLy8gc28gYXMgdG8gYWxsb3cgcHJvcGVyIEpTT04gcGFyc2luZy5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgdmFyIG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXJyb3IpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBlcnJvcltuYW1lc1tpXV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tuYW1lc1tpXV0gPSBlcnJvcltuYW1lc1tpXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICBpZiAocmVhc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIH1cbiAgfVxuICBDdXN0b21Qb3VjaEVycm9yLnByb3RvdHlwZSA9IFBvdWNoRXJyb3IucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpIHtcblxuICBpZiAodHlwZW9mIGVyciAhPT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZGF0YSA9IGVycjtcbiAgICBlcnIgPSBVTktOT1dOX0VSUk9SO1xuICAgIGVyci5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICgnZXJyb3InIGluIGVyciAmJiBlcnIuZXJyb3IgPT09ICdjb25mbGljdCcpIHtcbiAgICBlcnIubmFtZSA9ICdjb25mbGljdCc7XG4gICAgZXJyLnN0YXR1cyA9IDQwOTtcbiAgfVxuXG4gIGlmICghKCduYW1lJyBpbiBlcnIpKSB7XG4gICAgZXJyLm5hbWUgPSBlcnIuZXJyb3IgfHwgJ3Vua25vd24nO1xuICB9XG5cbiAgaWYgKCEoJ3N0YXR1cycgaW4gZXJyKSkge1xuICAgIGVyci5zdGF0dXMgPSA1MDA7XG4gIH1cblxuICBpZiAoISgnbWVzc2FnZScgaW4gZXJyKSkge1xuICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UgfHwgZXJyLnJlYXNvbjtcbiAgfVxuXG4gIGlmICghKCdzdGFjaycgaW4gZXJyKSkge1xuICAgIGVyci5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiB0cnlGaWx0ZXIoZmlsdGVyLCBkb2MsIHJlcSkge1xuICB0cnkge1xuICAgIHJldHVybiAhZmlsdGVyKGRvYywgcmVxKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdmFyIG1zZyA9ICdGaWx0ZXIgZnVuY3Rpb24gdGhyZXc6ICcgKyBlcnIudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIG1zZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyQ2hhbmdlKG9wdHMpIHtcbiAgdmFyIHJlcSA9IHt9O1xuICB2YXIgaGFzRmlsdGVyID0gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nO1xuICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcblxuICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyKGNoYW5nZSkge1xuICAgIGlmICghY2hhbmdlLmRvYykge1xuICAgICAgLy8gQ1NHIHNlbmRzIGV2ZW50cyBvbiB0aGUgY2hhbmdlcyBmZWVkIHRoYXQgZG9uJ3QgaGF2ZSBkb2N1bWVudHMsXG4gICAgICAvLyB0aGlzIGhhY2sgbWFrZXMgYSB3aG9sZSBsb3Qgb2YgZXhpc3RpbmcgY29kZSByb2J1c3QuXG4gICAgICBjaGFuZ2UuZG9jID0ge307XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlclJldHVybiA9IGhhc0ZpbHRlciAmJiB0cnlGaWx0ZXIob3B0cy5maWx0ZXIsIGNoYW5nZS5kb2MsIHJlcSk7XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlclJldHVybiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJSZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlclJldHVybikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jO1xuICAgIH0gZWxzZSBpZiAoIW9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIGZvciAodmFyIGF0dCBpbiBjaGFuZ2UuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzLCBhdHQpKSB7XG4gICAgICAgICAgY2hhbmdlLmRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihhcnJzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXMgPSByZXMuY29uY2F0KGFycnNbaV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIHNoaW0gZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lLFxuXG4vLyBEZXRlcm1pbmUgaWQgYW4gSUQgaXMgdmFsaWRcbi8vICAgLSBpbnZhbGlkIElEcyBiZWdpbiB3aXRoIGFuIHVuZGVyZXNjb3JlIHRoYXQgZG9lcyBub3QgYmVnaW4gJ19kZXNpZ24nIG9yXG4vLyAgICAgJ19sb2NhbCdcbi8vICAgLSBhbnkgb3RoZXIgc3RyaW5nIHZhbHVlIGlzIGEgdmFsaWQgaWRcbi8vIFJldHVybnMgdGhlIHNwZWNpZmljIGVycm9yIG9iamVjdCBmb3IgZWFjaCBjYXNlXG5mdW5jdGlvbiBpbnZhbGlkSWRFcnJvcihpZCkge1xuICB2YXIgZXJyO1xuICBpZiAoIWlkKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19JRCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKElOVkFMSURfSUQpO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChpZCkgJiYgISgvXl8oZGVzaWdufGxvY2FsKS8pLnRlc3QoaWQpKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoUkVTRVJWRURfSUQpO1xuICB9XG4gIGlmIChlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLy8gQ2hlY2tzIGlmIGEgUG91Y2hEQiBvYmplY3QgaXMgXCJyZW1vdGVcIiBvciBub3QuIFRoaXMgaXNcblxuZnVuY3Rpb24gaXNSZW1vdGUoZGIpIHtcbiAgaWYgKHR5cGVvZiBkYi5fcmVtb3RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZGIuX3JlbW90ZTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIGRiLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAnZGIudHlwZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAnICtcbiAgICAgICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFBvdWNoREInKTtcbiAgICByZXR1cm4gZGIudHlwZSgpID09PSAnaHR0cCc7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KGVlLCB0eXBlKSB7XG4gIHJldHVybiAnbGlzdGVuZXJDb3VudCcgaW4gZWUgPyBlZS5saXN0ZW5lckNvdW50KHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVFLmxpc3RlbmVyQ291bnQoZWUsIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIGlmICghcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwYXJ0cyA9IHMuc3BsaXQoJy8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIFtzLCBzXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgdmFyIG5vcm1hbGl6ZWQgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPyBub3JtYWxpemVkLmpvaW4oJy8nKSA6IG51bGw7XG59XG5cbi8vIG9yaWdpbmFsbHkgcGFyc2VVcmkgMS4yLjIsIG5vdyBwYXRjaGVkIGJ5IHVzXG4vLyAoYykgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4vLyBNSVQgTGljZW5zZVxudmFyIGtleXMgPSBbXCJzb3VyY2VcIiwgXCJwcm90b2NvbFwiLCBcImF1dGhvcml0eVwiLCBcInVzZXJJbmZvXCIsIFwidXNlclwiLCBcInBhc3N3b3JkXCIsXG4gICAgXCJob3N0XCIsIFwicG9ydFwiLCBcInJlbGF0aXZlXCIsIFwicGF0aFwiLCBcImRpcmVjdG9yeVwiLCBcImZpbGVcIiwgXCJxdWVyeVwiLCBcImFuY2hvclwiXTtcbnZhciBxTmFtZSA9XCJxdWVyeUtleVwiO1xudmFyIHFQYXJzZXIgPSAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2c7XG5cbi8vIHVzZSB0aGUgXCJsb29zZVwiIHBhcnNlclxuLyogZXNsaW50IG5vLXVzZWxlc3MtZXNjYXBlOiAwICovXG52YXIgcGFyc2VyID0gL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuXG5mdW5jdGlvbiBwYXJzZVVyaShzdHIpIHtcbiAgdmFyIG0gPSBwYXJzZXIuZXhlYyhzdHIpO1xuICB2YXIgdXJpID0ge307XG4gIHZhciBpID0gMTQ7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG1baV0gfHwgXCJcIjtcbiAgICB2YXIgZW5jb2RlZCA9IFsndXNlcicsICdwYXNzd29yZCddLmluZGV4T2Yoa2V5KSAhPT0gLTE7XG4gICAgdXJpW2tleV0gPSBlbmNvZGVkID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgdXJpW3FOYW1lXSA9IHt9O1xuICB1cmlba2V5c1sxMl1dLnJlcGxhY2UocVBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHtcbiAgICAgIHVyaVtxTmFtZV1bJDFdID0gJDI7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vYWxleGRhdmlkL3Njb3BlLWV2YWwgdjAuMC4zXG4vLyAoc291cmNlOiBodHRwczovL3VucGtnLmNvbS9zY29wZS1ldmFsQDAuMC4zL3Njb3BlX2V2YWwuanMpXG4vLyBUaGlzIGlzIGJhc2ljYWxseSBqdXN0IGEgd3JhcHBlciBhcm91bmQgbmV3IEZ1bmN0aW9uKClcblxuZnVuY3Rpb24gc2NvcGVFdmFsKHNvdXJjZSwgc2NvcGUpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gc2NvcGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNjb3BlLCBrZXkpKSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIHZhbHVlcy5wdXNoKHNjb3BlW2tleV0pO1xuICAgIH1cbiAgfVxuICBrZXlzLnB1c2goc291cmNlKTtcbiAgcmV0dXJuIEZ1bmN0aW9uLmFwcGx5KG51bGwsIGtleXMpLmFwcGx5KG51bGwsIHZhbHVlcyk7XG59XG5cbi8vIHRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIFwidXBkYXRlIHN1Z2FyXCIgZnVuY3Rpb24gZnJvbSBkYWxlaGFydmV5L3BvdWNoZGIjMTM4OFxuLy8gdGhlIGRpZmZGdW4gdGVsbHMgdXMgd2hhdCBkZWx0YSB0byBhcHBseSB0byB0aGUgZG9jLiAgaXQgZWl0aGVyIHJldHVybnNcbi8vIHRoZSBkb2MsIG9yIGZhbHNlIGlmIGl0IGRvZXNuJ3QgbmVlZCB0byBkbyBhbiB1cGRhdGUgYWZ0ZXIgYWxsXG5mdW5jdGlvbiB1cHNlcnQoZGIsIGRvY0lkLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5nZXQoZG9jSWQpXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIC8vIHRoZSB1c2VyIG1pZ2h0IGNoYW5nZSB0aGUgX3Jldiwgc28gc2F2ZSBpdCBmb3IgcG9zdGVyaXR5XG4gICAgICB2YXIgZG9jUmV2ID0gZG9jLl9yZXY7XG4gICAgICB2YXIgbmV3RG9jID0gZGlmZkZ1bihkb2MpO1xuXG4gICAgICBpZiAoIW5ld0RvYykge1xuICAgICAgICAvLyBpZiB0aGUgZGlmZkZ1biByZXR1cm5zIGZhbHN5LCB3ZSBzaG9ydC1jaXJjdWl0IGFzXG4gICAgICAgIC8vIGFuIG9wdGltaXphdGlvblxuICAgICAgICByZXR1cm4ge3VwZGF0ZWQ6IGZhbHNlLCByZXY6IGRvY1Jldn07XG4gICAgICB9XG5cbiAgICAgIC8vIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG1vZGlmeSB0aGVzZSB2YWx1ZXMsXG4gICAgICAvLyBzbyByZXNldCB0aGVtIGhlcmVcbiAgICAgIG5ld0RvYy5faWQgPSBkb2NJZDtcbiAgICAgIG5ld0RvYy5fcmV2ID0gZG9jUmV2O1xuICAgICAgcmV0dXJuIHRyeUFuZFB1dChkYiwgbmV3RG9jLCBkaWZmRnVuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdHJ5QW5kUHV0KGRiLCBkb2MsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLnB1dChkb2MpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGVkOiB0cnVlLFxuICAgICAgcmV2OiByZXMucmV2XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KGRiLCBkb2MuX2lkLCBkaWZmRnVuKTtcbiAgfSk7XG59XG5cbnZhciB0aGlzQXRvYiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGF0b2Ioc3RyKTtcbn07XG5cbnZhciB0aGlzQnRvYSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGJ0b2Eoc3RyKTtcbn07XG5cbi8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3RvciAoZS5nLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBBbmRyb2lkIDwgNC40KS5cbmZ1bmN0aW9uIGNyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcbiAgLyogZ2xvYmFsIEJsb2JCdWlsZGVyLE1TQmxvYkJ1aWxkZXIsTW96QmxvYkJ1aWxkZXIsV2ViS2l0QmxvYkJ1aWxkZXIgKi9cbiAgcGFydHMgPSBwYXJ0cyB8fCBbXTtcbiAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlLm5hbWUgIT09IFwiVHlwZUVycm9yXCIpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHZhciBCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1vekJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1vekJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIFdlYktpdEJsb2JCdWlsZGVyO1xuICAgIHZhciBidWlsZGVyID0gbmV3IEJ1aWxkZXIoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IocHJvcGVydGllcy50eXBlKTtcbiAgfVxufVxuXG4vLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5Njc2NDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy8gZW5jb2RlLWRlY29kZS1pbWFnZS13aXRoLWJhc2U2NC1icmVha3MtaW1hZ2UgKDIwMTMtMDQtMjEpXG5mdW5jdGlvbiBiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuICB2YXIgbGVuZ3RoID0gYmluLmxlbmd0aDtcbiAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBidWY7XG59XG5cbmZ1bmN0aW9uIGJpblN0cmluZ1RvQmx1ZmZlcihiaW5TdHJpbmcsIHR5cGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUJsb2IoW2JpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluU3RyaW5nKV0sIHt0eXBlOiB0eXBlfSk7XG59XG5cbmZ1bmN0aW9uIGI2NFRvQmx1ZmZlcihiNjQsIHR5cGUpIHtcbiAgcmV0dXJuIGJpblN0cmluZ1RvQmx1ZmZlcih0aGlzQXRvYihiNjQpLCB0eXBlKTtcbn1cblxuLy9DYW4ndCBmaW5kIG9yaWdpbmFsIHBvc3QsIGJ1dCB0aGlzIGlzIGNsb3NlXG4vL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjk2NTEwNy8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vL2NvbnZlcnRpbmctYmV0d2Vlbi1zdHJpbmdzLWFuZC1hcnJheWJ1ZmZlcnNcbmZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcoYnVmZmVyKSB7XG4gIHZhciBiaW5hcnkgPSAnJztcbiAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgdmFyIGxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGJpbmFyeTtcbn1cblxuLy8gc2hpbSBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0XG5mdW5jdGlvbiByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHZhciBoYXNCaW5hcnlTdHJpbmcgPSB0eXBlb2YgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCAnJztcbiAgICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcbiAgICB9XG4gICAgY2FsbGJhY2soYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhyZXN1bHQpKTtcbiAgfTtcbiAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG4gIH0gZWxzZSB7XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiaW4pIHtcbiAgICBjYWxsYmFjayhiaW4pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJhc2U2NCkge1xuICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJhc2U2NCkpO1xuICB9KTtcbn1cblxuLy8gc2ltcGxpZmllZCBBUEkuIHVuaXZlcnNhbCBicm93c2VyIHN1cHBvcnQgaXMgYXNzdW1lZFxuZnVuY3Rpb24gcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgbmV3IEFycmF5QnVmZmVyKDApO1xuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH07XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbn1cblxuLy8gdGhpcyBpcyBub3QgdXNlZCBpbiB0aGUgYnJvd3NlclxuXG52YXIgc2V0SW1tZWRpYXRlU2hpbSA9IHNlbGYuc2V0SW1tZWRpYXRlIHx8IHNlbGYuc2V0VGltZW91dDtcbnZhciBNRDVfQ0hVTktfU0laRSA9IDMyNzY4O1xuXG5mdW5jdGlvbiByYXdUb0Jhc2U2NChyYXcpIHtcbiAgcmV0dXJuIHRoaXNCdG9hKHJhdyk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKSB7XG4gIGlmIChibG9iLndlYmtpdFNsaWNlKSB7XG4gICAgcmV0dXJuIGJsb2Iud2Via2l0U2xpY2Uoc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIGJsb2Iuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJsb2IoYnVmZmVyLCBibG9iLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IGJsb2Iuc2l6ZSkge1xuICAgIC8vIG9ubHkgc2xpY2UgYmxvYiBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIGJsb2IgPSBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgYnVmZmVyLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFN0cmluZyhidWZmZXIsIHN0cmluZywgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgLy8gb25seSBjcmVhdGUgYSBzdWJzdHJpbmcgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICB9XG4gIGJ1ZmZlci5hcHBlbmRCaW5hcnkoc3RyaW5nKTtcbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gYmluYXJ5TWQ1KGRhdGEsIGNhbGxiYWNrKSB7XG4gIHZhciBpbnB1dElzU3RyaW5nID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnO1xuICB2YXIgbGVuID0gaW5wdXRJc1N0cmluZyA/IGRhdGEubGVuZ3RoIDogZGF0YS5zaXplO1xuICB2YXIgY2h1bmtTaXplID0gTWF0aC5taW4oTUQ1X0NIVU5LX1NJWkUsIGxlbik7XG4gIHZhciBjaHVua3MgPSBNYXRoLmNlaWwobGVuIC8gY2h1bmtTaXplKTtcbiAgdmFyIGN1cnJlbnRDaHVuayA9IDA7XG4gIHZhciBidWZmZXIgPSBpbnB1dElzU3RyaW5nID8gbmV3IE1kNSgpIDogbmV3IE1kNS5BcnJheUJ1ZmZlcigpO1xuXG4gIHZhciBhcHBlbmQgPSBpbnB1dElzU3RyaW5nID8gYXBwZW5kU3RyaW5nIDogYXBwZW5kQmxvYjtcblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHNldEltbWVkaWF0ZVNoaW0obG9hZE5leHRDaHVuayk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIHZhciByYXcgPSBidWZmZXIuZW5kKHRydWUpO1xuICAgIHZhciBiYXNlNjQgPSByYXdUb0Jhc2U2NChyYXcpO1xuICAgIGNhbGxiYWNrKGJhc2U2NCk7XG4gICAgYnVmZmVyLmRlc3Ryb3koKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWROZXh0Q2h1bmsoKSB7XG4gICAgdmFyIHN0YXJ0ID0gY3VycmVudENodW5rICogY2h1bmtTaXplO1xuICAgIHZhciBlbmQgPSBzdGFydCArIGNodW5rU2l6ZTtcbiAgICBjdXJyZW50Q2h1bmsrKztcbiAgICBpZiAoY3VycmVudENodW5rIDwgY2h1bmtzKSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgZG9uZSk7XG4gICAgfVxuICB9XG4gIGxvYWROZXh0Q2h1bmsoKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nTWQ1KHN0cmluZykge1xuICByZXR1cm4gTWQ1Lmhhc2goc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJldmlzaW9uIHN0cmluZyB0aGF0IGRvZXMgTk9UIGluY2x1ZGUgdGhlIHJldmlzaW9uIGhlaWdodFxuICogRm9yIGV4YW1wbGUgJzU2NjQ5ZjFiMDUwNmM2Y2E5ZmRhMDc0NmViMGNhY2RmJ1xuICovXG5mdW5jdGlvbiByZXYkJDEoZG9jLCBkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgaWYgKCFkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgICByZXR1cm4gdjQoKS5yZXBsYWNlKC8tL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgdmFyIG11dGF0ZWFibGVEb2MgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIGRvYyk7XG4gIGRlbGV0ZSBtdXRhdGVhYmxlRG9jLl9yZXZfdHJlZTtcbiAgcmV0dXJuIHN0cmluZ01kNShKU09OLnN0cmluZ2lmeShtdXRhdGVhYmxlRG9jKSk7XG59XG5cbnZhciB1dWlkID0gdjQ7IC8vIG1pbWljIG9sZCBpbXBvcnQsIG9ubHkgdjQgaXMgZXZlciB1c2VkIGVsc2V3aGVyZVxuXG4vLyBXZSBmZXRjaCBhbGwgbGVhZnMgb2YgdGhlIHJldmlzaW9uIHRyZWUsIGFuZCBzb3J0IHRoZW0gYmFzZWQgb24gdHJlZSBsZW5ndGhcbi8vIGFuZCB3aGV0aGVyIHRoZXkgd2VyZSBkZWxldGVkLCB1bmRlbGV0ZWQgZG9jdW1lbnRzIHdpdGggdGhlIGxvbmdlc3QgcmV2aXNpb25cbi8vIHRyZWUgKG1vc3QgZWRpdHMpIHdpblxuLy8gVGhlIGZpbmFsIHNvcnQgYWxnb3JpdGhtIGlzIHNsaWdodGx5IGRvY3VtZW50ZWQgaW4gYSBzaWRlYmFyIGhlcmU6XG4vLyBodHRwOi8vZ3VpZGUuY291Y2hkYi5vcmcvZHJhZnQvY29uZmxpY3RzLmh0bWxcbmZ1bmN0aW9uIHdpbm5pbmdSZXYobWV0YWRhdGEpIHtcbiAgdmFyIHdpbm5pbmdJZDtcbiAgdmFyIHdpbm5pbmdQb3M7XG4gIHZhciB3aW5uaW5nRGVsZXRlZDtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIGlmIChicmFuY2hlcy5sZW5ndGgpIHsgLy8gbm9uLWxlYWZcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBkZWxldGVkID0gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICAvLyBzb3J0IGJ5IGRlbGV0ZWQsIHRoZW4gcG9zLCB0aGVuIGlkXG4gICAgaWYgKCF3aW5uaW5nSWQgfHwgKHdpbm5pbmdEZWxldGVkICE9PSBkZWxldGVkID8gd2lubmluZ0RlbGV0ZWQgOlxuICAgICAgICB3aW5uaW5nUG9zICE9PSBwb3MgPyB3aW5uaW5nUG9zIDwgcG9zIDogd2lubmluZ0lkIDwgaWQpKSB7XG4gICAgICB3aW5uaW5nSWQgPSBpZDtcbiAgICAgIHdpbm5pbmdQb3MgPSBwb3M7XG4gICAgICB3aW5uaW5nRGVsZXRlZCA9IGRlbGV0ZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdpbm5pbmdQb3MgKyAnLScgKyB3aW5uaW5nSWQ7XG59XG5cbi8vIFByZXR0eSBtdWNoIGFsbCBiZWxvdyBjYW4gYmUgY29tYmluZWQgaW50byBhIGhpZ2hlciBvcmRlciBmdW5jdGlvbiB0b1xuLy8gdHJhdmVyc2UgcmV2aXNpb25zXG4vLyBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGNhbGxiYWNrIHdpbGwgYmUgcGFzc2VkIGFzIGNvbnRleHQgdG8gYWxsXG4vLyBjaGlsZHJlbiBvZiB0aGF0IG5vZGVcbmZ1bmN0aW9uIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBjYWxsYmFjaykge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBuZXdDdHggPVxuICAgICAgY2FsbGJhY2soYnJhbmNoZXMubGVuZ3RoID09PSAwLCBwb3MsIHRyZWVbMF0sIG5vZGUuY3R4LCB0cmVlWzFdKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBjdHg6IG5ld0N0eH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzb3J0QnlQb3MoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuZnVuY3Rpb24gY29sbGVjdExlYXZlcyhyZXZzKSB7XG4gIHZhciBsZWF2ZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIGFjYywgb3B0cykge1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGxlYXZlcy5wdXNoKHtyZXY6IHBvcyArIFwiLVwiICsgaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG4gICAgfVxuICB9KTtcbiAgbGVhdmVzLnNvcnQoc29ydEJ5UG9zKS5yZXZlcnNlKCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZWxldGUgbGVhdmVzW2ldLnBvcztcbiAgfVxuICByZXR1cm4gbGVhdmVzO1xufVxuXG4vLyByZXR1cm5zIHJldnMgb2YgYWxsIGNvbmZsaWN0cyB0aGF0IGlzIGxlYXZlcyBzdWNoIHRoYXRcbi8vIDEuIGFyZSBub3QgZGVsZXRlZCBhbmRcbi8vIDIuIGFyZSBkaWZmZXJlbnQgdGhhbiB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKSB7XG4gIHZhciB3aW4gPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgdmFyIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpO1xuICB2YXIgY29uZmxpY3RzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbGVhZiA9IGxlYXZlc1tpXTtcbiAgICBpZiAobGVhZi5yZXYgIT09IHdpbiAmJiAhbGVhZi5vcHRzLmRlbGV0ZWQpIHtcbiAgICAgIGNvbmZsaWN0cy5wdXNoKGxlYWYucmV2KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZsaWN0cztcbn1cblxuLy8gY29tcGFjdCBhIHRyZWUgYnkgbWFya2luZyBpdHMgbm9uLWxlYWZzIGFzIG1pc3NpbmcsXG4vLyBhbmQgcmV0dXJuIGEgbGlzdCBvZiByZXZzIHRvIGRlbGV0ZVxuZnVuY3Rpb24gY29tcGFjdFRyZWUobWV0YWRhdGEpIHtcbiAgdmFyIHJldnMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgIWlzTGVhZikge1xuICAgICAgcmV2cy5wdXNoKHBvcyArICctJyArIHJldkhhc2gpO1xuICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldnM7XG59XG5cbi8vIGJ1aWxkIHVwIGEgbGlzdCBvZiBhbGwgdGhlIHBhdGhzIHRvIHRoZSBsZWFmcyBpbiB0aGlzIHJldmlzaW9uIHRyZWVcbmZ1bmN0aW9uIHJvb3RUb0xlYWYocmV2cykge1xuICB2YXIgcGF0aHMgPSBbXTtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgb3B0czogb3B0c30pO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIHBhdGhzLnB1c2goe3BvczogKHBvcyArIDEgLSBoaXN0b3J5Lmxlbmd0aCksIGlkczogaGlzdG9yeX0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRocy5yZXZlcnNlKCk7XG59XG5cbi8vIGZvciBhIGJldHRlciBvdmVydmlldyBvZiB3aGF0IHRoaXMgaXMgZG9pbmcsIHJlYWQ6XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyQxKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbi8vIGNsYXNzaWMgYmluYXJ5IHNlYXJjaFxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgbG93ID0gMDtcbiAgdmFyIGhpZ2ggPSBhcnIubGVuZ3RoO1xuICB2YXIgbWlkO1xuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICBpZiAoY29tcGFyYXRvcihhcnJbbWlkXSwgaXRlbSkgPCAwKSB7XG4gICAgICBsb3cgPSBtaWQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdoID0gbWlkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG4vLyBhc3N1bWluZyB0aGUgYXJyIGlzIHNvcnRlZCwgaW5zZXJ0IHRoZSBpdGVtIGluIHRoZSBwcm9wZXIgcGxhY2VcbmZ1bmN0aW9uIGluc2VydFNvcnRlZChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGlkeCA9IGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpO1xuICBhcnIuc3BsaWNlKGlkeCwgMCwgaXRlbSk7XG59XG5cbi8vIFR1cm4gYSBwYXRoIGFzIGEgZmxhdCBhcnJheSBpbnRvIGEgdHJlZSB3aXRoIGEgc2luZ2xlIGJyYW5jaC5cbi8vIElmIGFueSBzaG91bGQgYmUgc3RlbW1lZCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5LCB0aGF0J3MgcGFzc2VkXG4vLyBpbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50XG5mdW5jdGlvbiBwYXRoVG9UcmVlKHBhdGgsIG51bVN0ZW1tZWQpIHtcbiAgdmFyIHJvb3Q7XG4gIHZhciBsZWFmO1xuICBmb3IgKHZhciBpID0gbnVtU3RlbW1lZCwgbGVuID0gcGF0aC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBub2RlID0gcGF0aFtpXTtcbiAgICB2YXIgY3VycmVudExlYWYgPSBbbm9kZS5pZCwgbm9kZS5vcHRzLCBbXV07XG4gICAgaWYgKGxlYWYpIHtcbiAgICAgIGxlYWZbMl0ucHVzaChjdXJyZW50TGVhZik7XG4gICAgICBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QgPSBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfVxuICB9XG4gIHJldHVybiByb290O1xufVxuXG4vLyBjb21wYXJlIHRoZSBJRHMgb2YgdHdvIHRyZWVzXG5mdW5jdGlvbiBjb21wYXJlVHJlZShhLCBiKSB7XG4gIHJldHVybiBhWzBdIDwgYlswXSA/IC0xIDogMTtcbn1cblxuLy8gTWVyZ2UgdHdvIHRyZWVzIHRvZ2V0aGVyXG4vLyBUaGUgcm9vdHMgb2YgdHJlZTEgYW5kIHRyZWUyIG11c3QgYmUgdGhlIHNhbWUgcmV2aXNpb25cbmZ1bmN0aW9uIG1lcmdlVHJlZShpbl90cmVlMSwgaW5fdHJlZTIpIHtcbiAgdmFyIHF1ZXVlID0gW3t0cmVlMTogaW5fdHJlZTEsIHRyZWUyOiBpbl90cmVlMn1dO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICB2YXIgdHJlZTEgPSBpdGVtLnRyZWUxO1xuICAgIHZhciB0cmVlMiA9IGl0ZW0udHJlZTI7XG5cbiAgICBpZiAodHJlZTFbMV0uc3RhdHVzIHx8IHRyZWUyWzFdLnN0YXR1cykge1xuICAgICAgdHJlZTFbMV0uc3RhdHVzID1cbiAgICAgICAgKHRyZWUxWzFdLnN0YXR1cyA9PT0gICdhdmFpbGFibGUnIHx8XG4gICAgICAgIHRyZWUyWzFdLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScpID8gJ2F2YWlsYWJsZScgOiAnbWlzc2luZyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlMlsyXS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0cmVlMVsyXVswXSkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2xlYWYnO1xuICAgICAgICB0cmVlMVsyXVswXSA9IHRyZWUyWzJdW2ldO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmVlMVsyXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodHJlZTFbMl1bal1bMF0gPT09IHRyZWUyWzJdW2ldWzBdKSB7XG4gICAgICAgICAgcXVldWUucHVzaCh7dHJlZTE6IHRyZWUxWzJdW2pdLCB0cmVlMjogdHJlZTJbMl1baV19KTtcbiAgICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2JyYW5jaCc7XG4gICAgICAgIGluc2VydFNvcnRlZCh0cmVlMVsyXSwgdHJlZTJbMl1baV0sIGNvbXBhcmVUcmVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtjb25mbGljdHM6IGNvbmZsaWN0cywgdHJlZTogaW5fdHJlZTF9O1xufVxuXG5mdW5jdGlvbiBkb01lcmdlKHRyZWUsIHBhdGgsIGRvbnRFeHBhbmQpIHtcbiAgdmFyIHJlc3RyZWUgPSBbXTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gIHZhciByZXM7XG5cbiAgaWYgKCF0cmVlLmxlbmd0aCkge1xuICAgIHJldHVybiB7dHJlZTogW3BhdGhdLCBjb25mbGljdHM6ICduZXdfbGVhZid9O1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRyZWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgYnJhbmNoID0gdHJlZVtpXTtcbiAgICBpZiAoYnJhbmNoLnBvcyA9PT0gcGF0aC5wb3MgJiYgYnJhbmNoLmlkc1swXSA9PT0gcGF0aC5pZHNbMF0pIHtcbiAgICAgIC8vIFBhdGhzIHN0YXJ0IGF0IHRoZSBzYW1lIHBvc2l0aW9uIGFuZCBoYXZlIHRoZSBzYW1lIHJvb3QsIHNvIHRoZXkgbmVlZFxuICAgICAgLy8gbWVyZ2VkXG4gICAgICByZXMgPSBtZXJnZVRyZWUoYnJhbmNoLmlkcywgcGF0aC5pZHMpO1xuICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IGJyYW5jaC5wb3MsIGlkczogcmVzLnRyZWV9KTtcbiAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGRvbnRFeHBhbmQgIT09IHRydWUpIHtcbiAgICAgIC8vIFRoZSBwYXRocyBzdGFydCBhdCBhIGRpZmZlcmVudCBwb3NpdGlvbiwgdGFrZSB0aGUgZWFybGllc3QgcGF0aCBhbmRcbiAgICAgIC8vIHRyYXZlcnNlIHVwIHVudGlsIGl0IGFzIGF0IHRoZSBzYW1lIHBvaW50IGZyb20gcm9vdCBhcyB0aGUgcGF0aCB3ZVxuICAgICAgLy8gd2FudCB0byBtZXJnZS4gIElmIHRoZSBrZXlzIG1hdGNoIHdlIHJldHVybiB0aGUgbG9uZ2VyIHBhdGggd2l0aCB0aGVcbiAgICAgIC8vIG90aGVyIG1lcmdlZCBBZnRlciBzdGVtbWluZyB3ZSBkb250IHdhbnQgdG8gZXhwYW5kIHRoZSB0cmVlc1xuXG4gICAgICB2YXIgdDEgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBicmFuY2ggOiBwYXRoO1xuICAgICAgdmFyIHQyID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gcGF0aCA6IGJyYW5jaDtcbiAgICAgIHZhciBkaWZmID0gdDIucG9zIC0gdDEucG9zO1xuXG4gICAgICB2YXIgY2FuZGlkYXRlUGFyZW50cyA9IFtdO1xuXG4gICAgICB2YXIgdHJlZXMgPSBbXTtcbiAgICAgIHRyZWVzLnB1c2goe2lkczogdDEuaWRzLCBkaWZmOiBkaWZmLCBwYXJlbnQ6IG51bGwsIHBhcmVudElkeDogbnVsbH0pO1xuICAgICAgd2hpbGUgKHRyZWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlcy5wb3AoKTtcbiAgICAgICAgaWYgKGl0ZW0uZGlmZiA9PT0gMCkge1xuICAgICAgICAgIGlmIChpdGVtLmlkc1swXSA9PT0gdDIuaWRzWzBdKSB7XG4gICAgICAgICAgICBjYW5kaWRhdGVQYXJlbnRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50cyA9IGl0ZW0uaWRzWzJdO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgZWxlbWVudHNMZW4gPSBlbGVtZW50cy5sZW5ndGg7IGogPCBlbGVtZW50c0xlbjsgaisrKSB7XG4gICAgICAgICAgdHJlZXMucHVzaCh7XG4gICAgICAgICAgICBpZHM6IGVsZW1lbnRzW2pdLFxuICAgICAgICAgICAgZGlmZjogaXRlbS5kaWZmIC0gMSxcbiAgICAgICAgICAgIHBhcmVudDogaXRlbS5pZHMsXG4gICAgICAgICAgICBwYXJlbnRJZHg6IGpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBjYW5kaWRhdGVQYXJlbnRzWzBdO1xuXG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gbWVyZ2VUcmVlKGVsLmlkcywgdDIuaWRzKTtcbiAgICAgICAgZWwucGFyZW50WzJdW2VsLnBhcmVudElkeF0gPSByZXMudHJlZTtcbiAgICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IHQxLnBvcywgaWRzOiB0MS5pZHN9KTtcbiAgICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIGRpZG50IGZpbmRcbiAgaWYgKCFtZXJnZWQpIHtcbiAgICByZXN0cmVlLnB1c2gocGF0aCk7XG4gIH1cblxuICByZXN0cmVlLnNvcnQoc29ydEJ5UG9zJDEpO1xuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdHJlZSxcbiAgICBjb25mbGljdHM6IGNvbmZsaWN0cyB8fCAnaW50ZXJuYWxfbm9kZSdcbiAgfTtcbn1cblxuLy8gVG8gZW5zdXJlIHdlIGRvbnQgZ3JvdyB0aGUgcmV2aXNpb24gdHJlZSBpbmZpbml0ZWx5LCB3ZSBzdGVtIG9sZCByZXZpc2lvbnNcbmZ1bmN0aW9uIHN0ZW0odHJlZSwgZGVwdGgpIHtcbiAgLy8gRmlyc3Qgd2UgYnJlYWsgb3V0IHRoZSB0cmVlIGludG8gYSBjb21wbGV0ZSBsaXN0IG9mIHJvb3QgdG8gbGVhZiBwYXRoc1xuICB2YXIgcGF0aHMgPSByb290VG9MZWFmKHRyZWUpO1xuICB2YXIgc3RlbW1lZFJldnM7XG5cbiAgdmFyIHJlc3VsdDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gVGhlbiBmb3IgZWFjaCBwYXRoLCB3ZSBjdXQgb2ZmIHRoZSBzdGFydCBvZiB0aGUgcGF0aCBiYXNlZCBvbiB0aGVcbiAgICAvLyBgZGVwdGhgIHRvIHN0ZW0gdG8sIGFuZCBnZW5lcmF0ZSBhIG5ldyBzZXQgb2YgZmxhdCB0cmVlc1xuICAgIHZhciBwYXRoID0gcGF0aHNbaV07XG4gICAgdmFyIHN0ZW1tZWQgPSBwYXRoLmlkcztcbiAgICB2YXIgbm9kZTtcbiAgICBpZiAoc3RlbW1lZC5sZW5ndGggPiBkZXB0aCkge1xuICAgICAgLy8gb25seSBkbyB0aGUgc3RlbW1pbmcgd29yayBpZiB3ZSBhY3R1YWxseSBuZWVkIHRvIHN0ZW1cbiAgICAgIGlmICghc3RlbW1lZFJldnMpIHtcbiAgICAgICAgc3RlbW1lZFJldnMgPSB7fTsgLy8gYXZvaWQgYWxsb2NhdGluZyB0aGlzIG9iamVjdCB1bm5lY2Vzc2FyaWx5XG4gICAgICB9XG4gICAgICB2YXIgbnVtU3RlbW1lZCA9IHN0ZW1tZWQubGVuZ3RoIC0gZGVwdGg7XG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zICsgbnVtU3RlbW1lZCxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIG51bVN0ZW1tZWQpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBzID0gMDsgcyA8IG51bVN0ZW1tZWQ7IHMrKykge1xuICAgICAgICB2YXIgcmV2ID0gKHBhdGgucG9zICsgcykgKyAnLScgKyBzdGVtbWVkW3NdLmlkO1xuICAgICAgICBzdGVtbWVkUmV2c1tyZXZdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBubyBuZWVkIHRvIGFjdHVhbGx5IHN0ZW1cbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCAwKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIHdlIHJlbWVyZ2UgYWxsIHRob3NlIGZsYXQgdHJlZXMgdG9nZXRoZXIsIGVuc3VyaW5nIHRoYXQgd2UgZG9udFxuICAgIC8vIGNvbm5lY3QgdHJlZXMgdGhhdCB3b3VsZCBnbyBiZXlvbmQgdGhlIGRlcHRoIGxpbWl0XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gZG9NZXJnZShyZXN1bHQsIG5vZGUsIHRydWUpLnRyZWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IFtub2RlXTtcbiAgICB9XG4gIH1cblxuICAvLyB0aGlzIGlzIG1lbW9yeS1oZWF2eSBwZXIgQ2hyb21lIHByb2ZpbGVyLCBhdm9pZCB1bmxlc3Mgd2UgYWN0dWFsbHkgc3RlbW1lZFxuICBpZiAoc3RlbW1lZFJldnMpIHtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmVzdWx0LCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gpIHtcbiAgICAgIC8vIHNvbWUgcmV2aXNpb25zIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBhIGJyYW5jaCBidXQgbm90IGluIGFub3RoZXJcbiAgICAgIGRlbGV0ZSBzdGVtbWVkUmV2c1twb3MgKyAnLScgKyByZXZIYXNoXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdWx0LFxuICAgIHJldnM6IHN0ZW1tZWRSZXZzID8gT2JqZWN0LmtleXMoc3RlbW1lZFJldnMpIDogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2UodHJlZSwgcGF0aCwgZGVwdGgpIHtcbiAgdmFyIG5ld1RyZWUgPSBkb01lcmdlKHRyZWUsIHBhdGgpO1xuICB2YXIgc3RlbW1lZCA9IHN0ZW0obmV3VHJlZS50cmVlLCBkZXB0aCk7XG4gIHJldHVybiB7XG4gICAgdHJlZTogc3RlbW1lZC50cmVlLFxuICAgIHN0ZW1tZWRSZXZzOiBzdGVtbWVkLnJldnMsXG4gICAgY29uZmxpY3RzOiBuZXdUcmVlLmNvbmZsaWN0c1xuICB9O1xufVxuXG4vLyByZXR1cm4gdHJ1ZSBpZiBhIHJldiBleGlzdHMgaW4gdGhlIHJldiB0cmVlLCBmYWxzZSBvdGhlcndpc2VcbmZ1bmN0aW9uIHJldkV4aXN0cyhyZXZzLCByZXYpIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBzcGxpdFJldiA9IHJldi5zcGxpdCgnLScpO1xuICB2YXIgdGFyZ2V0UG9zID0gcGFyc2VJbnQoc3BsaXRSZXZbMF0sIDEwKTtcbiAgdmFyIHRhcmdldElkID0gc3BsaXRSZXZbMV07XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKG5vZGUucG9zID09PSB0YXJnZXRQb3MgJiYgbm9kZS5pZHNbMF0gPT09IHRhcmdldElkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGJyYW5jaGVzID0gbm9kZS5pZHNbMl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3Bvczogbm9kZS5wb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJlZXMobm9kZSkge1xuICByZXR1cm4gbm9kZS5pZHM7XG59XG5cbi8vIGNoZWNrIGlmIGEgc3BlY2lmaWMgcmV2aXNpb24gb2YgYSBkb2MgaGFzIGJlZW4gZGVsZXRlZFxuLy8gIC0gbWV0YWRhdGE6IHRoZSBtZXRhZGF0YSBvYmplY3QgZnJvbSB0aGUgZG9jIHN0b3JlXG4vLyAgLSByZXY6IChvcHRpb25hbCkgdGhlIHJldmlzaW9uIHRvIGNoZWNrLiBkZWZhdWx0cyB0byB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBpc0RlbGV0ZWQobWV0YWRhdGEsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB9XG4gIHZhciBpZCA9IHJldi5zdWJzdHJpbmcocmV2LmluZGV4T2YoJy0nKSArIDEpO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLm1hcChnZXRUcmVlcyk7XG5cbiAgdmFyIHRyZWU7XG4gIHdoaWxlICgodHJlZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKHRyZWVbMF0gPT09IGlkKSB7XG4gICAgICByZXR1cm4gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgfVxuICAgIHRvVmlzaXQgPSB0b1Zpc2l0LmNvbmNhdCh0cmVlWzJdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xvY2FsSWQoaWQpIHtcbiAgcmV0dXJuICgvXl9sb2NhbC8pLnRlc3QoaWQpO1xufVxuXG4vLyByZXR1cm5zIHRoZSBjdXJyZW50IGxlYWYgbm9kZSBmb3IgYSBnaXZlbiByZXZpc2lvblxuZnVuY3Rpb24gbGF0ZXN0KHJldiwgbWV0YWRhdGEpIHtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG5cbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaGlzdG9yeS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGlzdG9yeU5vZGUgPSBoaXN0b3J5W2ldO1xuICAgICAgICB2YXIgaGlzdG9yeVJldiA9IGhpc3RvcnlOb2RlLnBvcyArICctJyArIGhpc3RvcnlOb2RlLmlkO1xuXG4gICAgICAgIGlmIChoaXN0b3J5UmV2ID09PSByZXYpIHtcbiAgICAgICAgICAvLyByZXR1cm4gdGhlIHJldiBvZiB0aGlzIGxlYWZcbiAgICAgICAgICByZXR1cm4gcG9zICsgJy0nICsgaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMCwgbCA9IGJyYW5jaGVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbal0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGxhdGVzdCByZXZpc2lvbiBmb3IgaWQgJyArIG1ldGFkYXRhLmlkICsgJywgcmV2ICcgKyByZXYpO1xufVxuXG5pbmhlcml0cyhDaGFuZ2VzJDEsIEVFKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAvLyBpc29sYXRlIHRyeS9jYXRjaGVzIHRvIGF2b2lkIFY4IGRlb3B0aW1pemF0aW9uc1xuICB0cnkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdFcnJvciBpbiAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24pOicsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMkMShkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmRiID0gZGI7XG4gIG9wdHMgPSBvcHRzID8gY2xvbmUob3B0cykgOiB7fTtcbiAgdmFyIGNvbXBsZXRlID0gb3B0cy5jb21wbGV0ZSA9IG9uY2UoZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGlmIChsaXN0ZW5lckNvdW50KHNlbGYsICdlcnJvcicpID4gMCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIHJlc3ApO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9KTtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgc2VsZi5vbignY29tcGxldGUnLCBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCk7XG4gICAgfSk7XG4gICAgc2VsZi5vbignZXJyb3InLCBjYWxsYmFjayk7XG4gIH1cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgZGIub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcblxuICBvcHRzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9O1xuXG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIG9wdHMuY29tcGxldGUgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHJlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHNlbGYub25jZSgnY2FuY2VsJywgZnVuY3Rpb24gKCkge1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgfSk7XG4gIHRoaXMudGhlbiA9IHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpO1xuICB0aGlzWydjYXRjaCddID0gcHJvbWlzZVsnY2F0Y2gnXS5iaW5kKHByb21pc2UpO1xuICB0aGlzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gIH0sIGNvbXBsZXRlKTtcblxuXG5cbiAgaWYgKCFkYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIGRiLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShmYWlsZWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnY2FuY2VsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgfVxufVxuQ2hhbmdlcyQxLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaXNDYW5jZWxsZWQgPSB0cnVlO1xuICBpZiAodGhpcy5kYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG4gIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvYywgbWV0YWRhdGEsIG9wdHMpIHtcbiAgdmFyIGNoYW5nZUxpc3QgPSBbe3JldjogZG9jLl9yZXZ9XTtcbiAgaWYgKG9wdHMuc3R5bGUgPT09ICdhbGxfZG9jcycpIHtcbiAgICBjaGFuZ2VMaXN0ID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSlcbiAgICAubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB7cmV2OiB4LnJldn07IH0pO1xuICB9XG4gIHZhciBjaGFuZ2UgPSB7XG4gICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgIGNoYW5nZXM6IGNoYW5nZUxpc3QsXG4gICAgZG9jOiBkb2NcbiAgfTtcblxuICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICBjaGFuZ2UuZGVsZXRlZCA9IHRydWU7XG4gIH1cbiAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgY2hhbmdlLmRvYy5fY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgaWYgKCFjaGFuZ2UuZG9jLl9jb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYy5fY29uZmxpY3RzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhbmdlO1xufVxuXG5DaGFuZ2VzJDEucHJvdG90eXBlLnZhbGlkYXRlQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4udmFsaWRhdGUob3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICB9XG59O1xuXG5DaGFuZ2VzJDEucHJvdG90eXBlLmRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIGlmICgnbGl2ZScgaW4gb3B0cyAmJiAhKCdjb250aW51b3VzJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuY29udGludW91cyA9IG9wdHMubGl2ZTtcbiAgfVxuICBvcHRzLnByb2Nlc3NDaGFuZ2UgPSBwcm9jZXNzQ2hhbmdlO1xuXG4gIGlmIChvcHRzLnNpbmNlID09PSAnbGF0ZXN0Jykge1xuICAgIG9wdHMuc2luY2UgPSAnbm93JztcbiAgfVxuICBpZiAoIW9wdHMuc2luY2UpIHtcbiAgICBvcHRzLnNpbmNlID0gMDtcbiAgfVxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ25vdycpIHtcbiAgICB0aGlzLmRiLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdHMuc2luY2UgPSBpbmZvLnVwZGF0ZV9zZXE7XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9LCBjYWxsYmFjayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLm5vcm1hbGl6ZShvcHRzKTtcbiAgICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5zaG91bGRGaWx0ZXIodGhpcywgb3B0cykpIHtcbiAgICAgIHJldHVybiBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLmZpbHRlcih0aGlzLCBvcHRzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgWydkb2NfaWRzJywgJ2ZpbHRlcicsICdzZWxlY3RvcicsICd2aWV3J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoa2V5IGluIG9wdHMpIHtcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgICAgICdUaGUgXCInICsga2V5ICsgJ1wiIG9wdGlvbiB3YXMgcGFzc2VkIGluIHRvIGNoYW5nZXMvcmVwbGljYXRlLCAnICtcbiAgICAgICAgICAnYnV0IHBvdWNoZGItY2hhbmdlcy1maWx0ZXIgcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWQsIHNvIGl0ICcgK1xuICAgICAgICAgICd3YXMgaWdub3JlZC4gUGxlYXNlIGluc3RhbGwgdGhlIHBsdWdpbiB0byBlbmFibGUgZmlsdGVyaW5nLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICghKCdkZXNjZW5kaW5nJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gMCBhbmQgMSBzaG91bGQgcmV0dXJuIDEgZG9jdW1lbnRcbiAgb3B0cy5saW1pdCA9IG9wdHMubGltaXQgPT09IDAgPyAxIDogb3B0cy5saW1pdDtcbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICB2YXIgbmV3UHJvbWlzZSA9IHRoaXMuZGIuX2NoYW5nZXMob3B0cyk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChuZXdQcm9taXNlICYmIHR5cGVvZiBuZXdQcm9taXNlLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBjYW5jZWwgPSBzZWxmLmNhbmNlbDtcbiAgICBzZWxmLmNhbmNlbCA9IGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgbmV3UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgIGNhbmNlbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLypcbiAqIEEgZ2VuZXJpYyBwb3VjaCBhZGFwdGVyXG4gKi9cblxuZnVuY3Rpb24gY29tcGFyZShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gV3JhcHBlciBmb3IgZnVuY3Rpb25zIHRoYXQgY2FsbCB0aGUgYnVsa2RvY3MgYXBpIHdpdGggYSBzaW5nbGUgZG9jLFxuLy8gaWYgdGhlIGZpcnN0IHJlc3VsdCBpcyBhbiBlcnJvciwgcmV0dXJuIGFuIGVycm9yXG5mdW5jdGlvbiB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvY0lkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgaWYgKGVyciB8fCAocmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmVycm9yKSkge1xuICAgICAgZXJyID0gZXJyIHx8IHJlc3VsdHNbMF07XG4gICAgICBlcnIuZG9jSWQgPSBkb2NJZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMubGVuZ3RoID8gcmVzdWx0c1swXSAgOiByZXN1bHRzKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGNsZWFuIGRvY3MgZ2l2ZW4gdG8gdXMgYnkgdGhlIHVzZXJcbmZ1bmN0aW9uIGNsZWFuRG9jcyhkb2NzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NzW2ldO1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIGRlbGV0ZSBkb2MuX2F0dGFjaG1lbnRzOyAvLyBpZ25vcmUgYXR0cyBmb3IgZGVsZXRlZCBkb2NzXG4gICAgfSBlbHNlIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV4dHJhbmVvdXMga2V5cyBmcm9tIF9hdHRhY2htZW50c1xuICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tqXTtcbiAgICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdID0gcGljayhkb2MuX2F0dGFjaG1lbnRzW2F0dF0sXG4gICAgICAgICAgWydkYXRhJywgJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnLCAnbGVuZ3RoJywgJ3JldnBvcycsICdzdHViJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBjb21wYXJlIHR3byBkb2NzLCBmaXJzdCBieSBfaWQgdGhlbiBieSBfcmV2XG5mdW5jdGlvbiBjb21wYXJlQnlJZFRoZW5SZXYoYSwgYikge1xuICB2YXIgaWRDb21wYXJlID0gY29tcGFyZShhLl9pZCwgYi5faWQpO1xuICBpZiAoaWRDb21wYXJlICE9PSAwKSB7XG4gICAgcmV0dXJuIGlkQ29tcGFyZTtcbiAgfVxuICB2YXIgYVN0YXJ0ID0gYS5fcmV2aXNpb25zID8gYS5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgdmFyIGJTdGFydCA9IGIuX3JldmlzaW9ucyA/IGIuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHJldHVybiBjb21wYXJlKGFTdGFydCwgYlN0YXJ0KTtcbn1cblxuLy8gZm9yIGV2ZXJ5IG5vZGUgaW4gYSByZXZpc2lvbiB0cmVlIGNvbXB1dGVzIGl0cyBkaXN0YW5jZSBmcm9tIHRoZSBjbG9zZXN0XG4vLyBsZWFmXG5mdW5jdGlvbiBjb21wdXRlSGVpZ2h0KHJldnMpIHtcbiAgdmFyIGhlaWdodCA9IHt9O1xuICB2YXIgZWRnZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIHBybnQpIHtcbiAgICB2YXIgcmV2ID0gcG9zICsgXCItXCIgKyBpZDtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBoZWlnaHRbcmV2XSA9IDA7XG4gICAgfVxuICAgIGlmIChwcm50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVkZ2VzLnB1c2goe2Zyb206IHBybnQsIHRvOiByZXZ9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfSk7XG5cbiAgZWRnZXMucmV2ZXJzZSgpO1xuICBlZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgaWYgKGhlaWdodFtlZGdlLmZyb21dID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gMSArIGhlaWdodFtlZGdlLnRvXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSBNYXRoLm1pbihoZWlnaHRbZWRnZS5mcm9tXSwgMSArIGhlaWdodFtlZGdlLnRvXSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXNQYXJzZShvcHRzKSB7XG4gIHZhciBrZXlzID0gICgnbGltaXQnIGluIG9wdHMpID9cbiAgICBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwLCBvcHRzLmxpbWl0ICsgb3B0cy5za2lwKSA6XG4gICAgKG9wdHMuc2tpcCA+IDApID8gb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCkgOiBvcHRzLmtleXM7XG4gIG9wdHMua2V5cyA9IGtleXM7XG4gIG9wdHMuc2tpcCA9IDA7XG4gIGRlbGV0ZSBvcHRzLmxpbWl0O1xuICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAga2V5cy5yZXZlcnNlKCk7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gYWxsIGNvbXBhY3Rpb24gaXMgZG9uZSBpbiBhIHF1ZXVlLCB0byBhdm9pZCBhdHRhY2hpbmdcbi8vIHRvbyBtYW55IGxpc3RlbmVycyBhdCBvbmNlXG5mdW5jdGlvbiBkb05leHRDb21wYWN0aW9uKHNlbGYpIHtcbiAgdmFyIHRhc2sgPSBzZWxmLl9jb21wYWN0aW9uUXVldWVbMF07XG4gIHZhciBvcHRzID0gdGFzay5vcHRzO1xuICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICBzZWxmLmdldCgnX2xvY2FsL2NvbXBhY3Rpb24nKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jICYmIGRvYy5sYXN0X3NlcSkge1xuICAgICAgb3B0cy5sYXN0X3NlcSA9IGRvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgc2VsZi5fY29tcGFjdChvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH1cbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKSB7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIG5hbWUgKyAnIGlzIG5vdCBhIHZhbGlkIGF0dGFjaG1lbnQgbmFtZSwgYXR0YWNobWVudCAnICtcbiAgICAgICduYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCBcXCdfXFwnJztcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmluaGVyaXRzKEFic3RyYWN0UG91Y2hEQiwgRUUpO1xuXG5mdW5jdGlvbiBBYnN0cmFjdFBvdWNoREIoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG5cbiAgLy8gcmUtYmluZCBwcm90b3R5cGVkIG1ldGhvZHNcbiAgZm9yICh2YXIgcCBpbiBBYnN0cmFjdFBvdWNoREIucHJvdG90eXBlKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzW3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW3BdID0gdGhpc1twXS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnBvc3QgPVxuICBhZGFwdGVyRnVuKCdwb3N0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0ID0gYWRhcHRlckZ1bigncHV0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcbiAgaWYgKGlzTG9jYWxJZChkb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcHV0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9wdXRMb2NhbChkb2MsIGNiKTtcbiAgICB9XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cy5mb3JjZSAmJiBkb2MuX3Jldikge1xuICAgIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpO1xuICAgIHB1dERvYyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZXJyID8gbnVsbCA6IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgY2IoZXJyLCByZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHB1dERvYyhjYik7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKSB7XG4gICAgdmFyIHBhcnRzID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICB2YXIgb2xkUmV2SWQgPSBwYXJ0c1sxXTtcbiAgICB2YXIgb2xkUmV2TnVtID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcblxuICAgIHZhciBuZXdSZXZOdW0gPSBvbGRSZXZOdW0gKyAxO1xuICAgIHZhciBuZXdSZXZJZCA9IHJldiQkMSgpO1xuXG4gICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICBzdGFydDogbmV3UmV2TnVtLFxuICAgICAgaWRzOiBbbmV3UmV2SWQsIG9sZFJldklkXVxuICAgIH07XG4gICAgZG9jLl9yZXYgPSBuZXdSZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcbiAgICBvcHRzLm5ld19lZGl0cyA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHB1dERvYyhuZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBzZWxmLl9wdXQgPT09ICdmdW5jdGlvbicgJiYgb3B0cy5uZXdfZWRpdHMgIT09IGZhbHNlKSB7XG4gICAgICBzZWxmLl9wdXQoZG9jLCBvcHRzLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IobmV4dCwgZG9jLl9pZCkpO1xuICAgIH1cbiAgfVxufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2IsIHR5cGUpIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICAvLyBMZXRzIGZpeCBpbiBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy8zMjY3XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIGlmICghdHlwZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBhdHRhY2htZW50SWQsICdvbiBkb2N1bWVudCcsIGRvY0lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKSB7XG4gICAgdmFyIHByZXZyZXZwb3MgPSAnX3JldicgaW4gZG9jID8gcGFyc2VJbnQoZG9jLl9yZXYsIDEwKSA6IDA7XG4gICAgZG9jLl9hdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgfHwge307XG4gICAgZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdID0ge1xuICAgICAgY29udGVudF90eXBlOiB0eXBlLFxuICAgICAgZGF0YTogYmxvYixcbiAgICAgIHJldnBvczogKytwcmV2cmV2cG9zXG4gICAgfTtcbiAgICByZXR1cm4gYXBpLnB1dChkb2MpO1xuICB9XG5cbiAgcmV0dXJuIGFwaS5nZXQoZG9jSWQpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX3JldiAhPT0gcmV2KSB7XG4gICAgICB0aHJvdyBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KGRvYyk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgLy8gY3JlYXRlIG5ldyBkb2NcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChlcnIucmVhc29uID09PSBNSVNTSU5HX0RPQy5tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudCh7X2lkOiBkb2NJZH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNlbGYuZ2V0KGRvY0lkLCBmdW5jdGlvbiAoZXJyLCBvYmopIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob2JqLl9yZXYgIT09IHJldikge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghb2JqLl9hdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF07XG4gICAgaWYgKE9iamVjdC5rZXlzKG9iai5fYXR0YWNobWVudHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHM7XG4gICAgfVxuICAgIHNlbGYucHV0KG9iaiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2M7XG4gIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0ge1xuICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0c09yUmV2O1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgIH1cbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgb3B0cy53YXNfZGVsZXRlID0gdHJ1ZTtcbiAgdmFyIG5ld0RvYyA9IHtfaWQ6IGRvYy5faWQsIF9yZXY6IChkb2MuX3JldiB8fCBvcHRzLnJldil9O1xuICBuZXdEb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICBpZiAoaXNMb2NhbElkKG5ld0RvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9yZW1vdmVMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNhbGxiYWNrKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbbmV3RG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgbmV3RG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmV2c0RpZmYgPVxuICBhZGFwdGVyRnVuKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKHJlcSk7XG5cbiAgaWYgKCFpZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTtcbiAgfVxuXG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBtaXNzaW5nID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgZnVuY3Rpb24gYWRkVG9NaXNzaW5nKGlkLCByZXZJZCkge1xuICAgIGlmICghbWlzc2luZy5oYXMoaWQpKSB7XG4gICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IFtdfSk7XG4gICAgfVxuICAgIG1pc3NpbmcuZ2V0KGlkKS5taXNzaW5nLnB1c2gocmV2SWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpIHtcbiAgICAvLyBJcyB0aGlzIGZhc3QgZW5vdWdoPyBNYXliZSB3ZSBzaG91bGQgc3dpdGNoIHRvIGEgc2V0IHNpbXVsYXRlZCBieSBhIG1hcFxuICAgIHZhciBtaXNzaW5nRm9ySWQgPSByZXFbaWRdLnNsaWNlKDApO1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsXG4gICAgICBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICB2YXIgaWR4ID0gbWlzc2luZ0ZvcklkLmluZGV4T2YocmV2KTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtaXNzaW5nRm9ySWQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy5zdGF0dXMgIT09ICdhdmFpbGFibGUnKSB7XG4gICAgICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIFRyYXZlcnNpbmcgdGhlIHRyZWUgaXMgc3luY2hyb25vdXMsIHNvIG5vdyBgbWlzc2luZ0ZvcklkYCBjb250YWluc1xuICAgIC8vIHJldmlzaW9ucyB0aGF0IHdlcmUgbm90IGZvdW5kIGluIHRoZSB0cmVlXG4gICAgbWlzc2luZ0ZvcklkLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgIH0pO1xuICB9XG5cbiAgaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgPT09IDQwNCAmJiBlcnIubWVzc2FnZSA9PT0gJ21pc3NpbmcnKSB7XG4gICAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogcmVxW2lkXX0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgrK2NvdW50ID09PSBpZHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgTGF6eU1hcCB0byBvYmplY3RcbiAgICAgICAgdmFyIG1pc3NpbmdPYmogPSB7fTtcbiAgICAgICAgbWlzc2luZy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgbWlzc2luZ09ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbWlzc2luZ09iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIHRoaXMpO1xufSk7XG5cbi8vIF9idWxrX2dldCBBUEkgZm9yIGZhc3RlciByZXBsaWNhdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY2h0dHBkL3B1bGwvMzNcbi8vIEF0IHRoZSBcImFic3RyYWN0XCIgbGV2ZWwsIGl0IHdpbGwganVzdCBydW4gbXVsdGlwbGUgZ2V0KClzIGluXG4vLyBwYXJhbGxlbCwgYmVjYXVzZSB0aGlzIGlzbid0IG11Y2ggb2YgYSBwZXJmb3JtYW5jZSBjb3N0XG4vLyBmb3IgbG9jYWwgZGF0YWJhc2VzIChleGNlcHQgdGhlIGNvc3Qgb2YgbXVsdGlwbGUgdHJhbnNhY3Rpb25zLCB3aGljaCBpc1xuLy8gc21hbGwpLiBUaGUgaHR0cCBhZGFwdGVyIG92ZXJyaWRlcyB0aGlzIGluIG9yZGVyXG4vLyB0byBkbyBhIG1vcmUgZWZmaWNpZW50IHNpbmdsZSBIVFRQIHJlcXVlc3QuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtHZXQgPVxuICBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGJ1bGtHZXQodGhpcywgb3B0cywgY2FsbGJhY2spO1xufSk7XG5cbi8vIGNvbXBhY3Qgb25lIGRvY3VtZW50IGFuZCBmaXJlIGNhbGxiYWNrXG4vLyBieSBjb21wYWN0aW5nIHdlIG1lYW4gcmVtb3ZpbmcgYWxsIHJldmlzaW9ucyB3aGljaFxuLy8gYXJlIGZ1cnRoZXIgZnJvbSB0aGUgbGVhZiBpbiByZXZpc2lvbiB0cmVlIHRoYW4gbWF4X2hlaWdodFxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0RG9jdW1lbnQgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0RG9jdW1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIG1heEhlaWdodCwgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIHJldlRyZWUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgdmFyIGhlaWdodCA9IGNvbXB1dGVIZWlnaHQocmV2VHJlZSk7XG4gICAgdmFyIGNhbmRpZGF0ZXMgPSBbXTtcbiAgICB2YXIgcmV2cyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGhlaWdodCkuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBpZiAoaGVpZ2h0W3Jldl0gPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2VHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiBjYW5kaWRhdGVzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgcmV2cy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZi5fZG9Db21wYWN0aW9uKGRvY0lkLCByZXZzLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbi8vIGNvbXBhY3QgdGhlIHdob2xlIGRhdGFiYXNlIHVzaW5nIHNpbmdsZSBkb2N1bWVudFxuLy8gY29tcGFjdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBzZWxmLl9jb21wYWN0aW9uUXVldWUgPSBzZWxmLl9jb21wYWN0aW9uUXVldWUgfHwgW107XG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5wdXNoKHtvcHRzOiBvcHRzLCBjYWxsYmFjazogY2FsbGJhY2t9KTtcbiAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICB9XG59KTtcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuX2NvbXBhY3QgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2hhbmdlc09wdHMgPSB7XG4gICAgcmV0dXJuX2RvY3M6IGZhbHNlLFxuICAgIGxhc3Rfc2VxOiBvcHRzLmxhc3Rfc2VxIHx8IDBcbiAgfTtcbiAgdmFyIHByb21pc2VzID0gW107XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2Uocm93KSB7XG4gICAgcHJvbWlzZXMucHVzaChzZWxmLmNvbXBhY3REb2N1bWVudChyb3cuaWQsIDApKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNvbXBsZXRlKHJlc3ApIHtcbiAgICB2YXIgbGFzdFNlcSA9IHJlc3AubGFzdF9zZXE7XG4gICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwc2VydChzZWxmLCAnX2xvY2FsL2NvbXBhY3Rpb24nLCBmdW5jdGlvbiBkZWx0YUZ1bmMoZG9jKSB7XG4gICAgICAgIGlmICghZG9jLmxhc3Rfc2VxIHx8IGRvYy5sYXN0X3NlcSA8IGxhc3RTZXEpIHtcbiAgICAgICAgICBkb2MubGFzdF9zZXEgPSBsYXN0U2VxO1xuICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzb21lYm9keSBlbHNlIGdvdCBoZXJlIGZpcnN0LCBkb24ndCB1cGRhdGVcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9XG4gIHNlbGYuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKVxuICAgIC5vbignY29tcGxldGUnLCBvbkNvbXBsZXRlKVxuICAgIC5vbignZXJyb3InLCBjYWxsYmFjayk7XG59O1xuXG4vKiBCZWdpbiBhcGkgd3JhcHBlcnMuIFNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgdG8gc3RvcmFnZSBiZWxvbmdzIGluIHRoZVxuICAgX1ttZXRob2RdICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldCA9IGFkYXB0ZXJGdW4oJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX0lEKSk7XG4gIH1cbiAgaWYgKGlzTG9jYWxJZChpZCkgJiYgdHlwZW9mIHRoaXMuX2dldExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldExvY2FsKGlkLCBjYik7XG4gIH1cbiAgdmFyIGxlYXZlcyA9IFtdLCBzZWxmID0gdGhpcztcblxuICBmdW5jdGlvbiBmaW5pc2hPcGVuUmV2cygpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGNvdW50ID0gbGVhdmVzLmxlbmd0aDtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNvdW50KSB7XG4gICAgICByZXR1cm4gY2IobnVsbCwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvLyBvcmRlciB3aXRoIG9wZW5fcmV2cyBpcyB1bnNwZWNpZmllZFxuICAgIGxlYXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICBzZWxmLmdldChpZCwge1xuICAgICAgICByZXY6IGxlYWYsXG4gICAgICAgIHJldnM6IG9wdHMucmV2cyxcbiAgICAgICAgbGF0ZXN0OiBvcHRzLmxhdGVzdCxcbiAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRvYykge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIC8vIHVzaW5nIGxhdGVzdD10cnVlIGNhbiBwcm9kdWNlIGR1cGxpY2F0ZXNcbiAgICAgICAgICB2YXIgZXhpc3Rpbmc7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2ldLm9rICYmIHJlc3VsdFtpXS5vay5fcmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgICAgICAgICBleGlzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7b2s6IGRvY30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh7bWlzc2luZzogbGVhZn0pO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICBjYihudWxsLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgIGlmIChvcHRzLm9wZW5fcmV2cyA9PT0gXCJhbGxcIikge1xuICAgICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMocmV2X3RyZWUpLm1hcChmdW5jdGlvbiAobGVhZikge1xuICAgICAgICAgIHJldHVybiBsZWFmLnJldjtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy5vcGVuX3JldnMpKSB7XG4gICAgICAgIGxlYXZlcyA9IG9wdHMub3Blbl9yZXZzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlYXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBsID0gbGVhdmVzW2ldO1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgaXQncyB0aGUgb25seSB0aGluZyBjb3VjaGRiIGNoZWNrc1xuICAgICAgICAgIGlmICghKHR5cGVvZiAobCkgPT09IFwic3RyaW5nXCIgJiYgL15cXGQrLS8udGVzdChsKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX1JFVikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKFVOS05PV05fRVJST1IsICdmdW5jdGlvbl9jbGF1c2UnKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjsgLy8gb3Blbl9yZXZzIGRvZXMgbm90IGxpa2Ugb3RoZXIgb3B0aW9uc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2dldChpZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gcmVzdWx0LmRvYztcbiAgICB2YXIgbWV0YWRhdGEgPSByZXN1bHQubWV0YWRhdGE7XG4gICAgdmFyIGN0eCA9IHJlc3VsdC5jdHg7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgIGRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzIHx8IG9wdHMucmV2c19pbmZvKSB7XG4gICAgICB2YXIgc3BsaXR0ZWRSZXYgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgICAgdmFyIHJldk5vICAgICAgID0gcGFyc2VJbnQoc3BsaXR0ZWRSZXZbMF0sIDEwKTtcbiAgICAgIHZhciByZXZIYXNoICAgICA9IHNwbGl0dGVkUmV2WzFdO1xuXG4gICAgICB2YXIgcGF0aHMgPSByb290VG9MZWFmKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgICAgIHZhciBwYXRoID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoc1tpXTtcbiAgICAgICAgdmFyIGhhc2hJbmRleCA9IGN1cnJlbnRQYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgICAgLmluZGV4T2YocmV2SGFzaCk7XG4gICAgICAgIHZhciBoYXNoRm91bmRBdFJldlBvcyA9IGhhc2hJbmRleCA9PT0gKHJldk5vIC0gMSk7XG5cbiAgICAgICAgaWYgKGhhc2hGb3VuZEF0UmV2UG9zIHx8ICghcGF0aCAmJiBoYXNoSW5kZXggIT09IC0xKSkge1xuICAgICAgICAgIHBhdGggPSBjdXJyZW50UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ2ludmFsaWQgcmV2IHRyZWUnKTtcbiAgICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXhPZlJldiA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgLmluZGV4T2YoZG9jLl9yZXYuc3BsaXQoJy0nKVsxXSkgKyAxO1xuICAgICAgdmFyIGhvd01hbnkgPSBwYXRoLmlkcy5sZW5ndGggLSBpbmRleE9mUmV2O1xuICAgICAgcGF0aC5pZHMuc3BsaWNlKGluZGV4T2ZSZXYsIGhvd01hbnkpO1xuICAgICAgcGF0aC5pZHMucmV2ZXJzZSgpO1xuXG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgICAgIHN0YXJ0OiAocGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGgpIC0gMSxcbiAgICAgICAgICBpZHM6IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV2LmlkO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgICAgdmFyIHBvcyA9ICBwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aDtcbiAgICAgICAgZG9jLl9yZXZzX2luZm8gPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXY6IHBvcyArICctJyArIHJldi5pZCxcbiAgICAgICAgICAgIHN0YXR1czogcmV2Lm9wdHMuc3RhdHVzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBjb3VudCA9IE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX2dldEF0dGFjaG1lbnQoZG9jLl9pZCwga2V5LCBhdHRhY2htZW50c1trZXldLCB7XG4gICAgICAgICAgLy8gUHJldmlvdXNseSB0aGUgcmV2aXNpb24gaGFuZGxpbmcgd2FzIGRvbmUgaW4gYWRhcHRlci5qc1xuICAgICAgICAgIC8vIGdldEF0dGFjaG1lbnQsIGhvd2V2ZXIgc2luY2UgaWRiLW5leHQgZG9lc250IHdlIG5lZWQgdG9cbiAgICAgICAgICAvLyBwYXNzIHRoZSByZXYgdGhyb3VnaFxuICAgICAgICAgIHJldjogZG9jLl9yZXYsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeSxcbiAgICAgICAgICBjdHg6IGN0eFxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghLS1jb3VudCkge1xuICAgICAgICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYy5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNba2V5XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBUT0RPOiBJIGRvbnQgbGlrZSB0aGlzLCBpdCBmb3JjZXMgYW4gZXh0cmEgcmVhZCBmb3IgZXZlcnlcbi8vIGF0dGFjaG1lbnQgcmVhZCBhbmQgZW5mb3JjZXMgYSBjb25mdXNpbmcgYXBpIGJldHdlZW5cbi8vIGFkYXB0ZXIuanMgYW5kIHRoZSBhZGFwdGVyIGltcGxlbWVudGF0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdGhpcy5fZ2V0KGRvY0lkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKHJlcy5kb2MuX2F0dGFjaG1lbnRzICYmIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0pIHtcbiAgICAgIG9wdHMuY3R4ID0gcmVzLmN0eDtcbiAgICAgIG9wdHMuYmluYXJ5ID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2dldEF0dGFjaG1lbnQoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSwgb3B0cywgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYWxsRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzLnNraXAgPSB0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuc2tpcCA6IDA7XG4gIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgfVxuICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gIH1cbiAgaWYgKCdrZXlzJyBpbiBvcHRzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdHMua2V5cykpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgVHlwZUVycm9yKCdvcHRpb25zLmtleXMgbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgICB9XG4gICAgdmFyIGluY29tcGF0aWJsZU9wdCA9XG4gICAgICBbJ3N0YXJ0a2V5JywgJ2VuZGtleScsICdrZXknXS5maWx0ZXIoZnVuY3Rpb24gKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgcmV0dXJuIGluY29tcGF0aWJsZU9wdCBpbiBvcHRzO1xuICAgIH0pWzBdO1xuICAgIGlmIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFFVRVJZX1BBUlNFX0VSUk9SLFxuICAgICAgICAnUXVlcnkgcGFyYW1ldGVyIGAnICsgaW5jb21wYXRpYmxlT3B0ICtcbiAgICAgICAgJ2AgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBtdWx0aS1nZXQnXG4gICAgICApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1JlbW90ZSh0aGlzKSkge1xuICAgICAgYWxsRG9jc0tleXNQYXJzZShvcHRzKTtcbiAgICAgIGlmIChvcHRzLmtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxEb2NzKHtsaW1pdDogMH0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5fYWxsRG9jcyhvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAvLyBCeSBkZWZhdWx0IHNldCByZXR1cm5fZG9jcyB0byBmYWxzZSBpZiB0aGUgY2FsbGVyIGhhcyBvcHRzLmxpdmUgPSB0cnVlLFxuICAvLyB0aGlzIHdpbGwgcHJldmVudCB1cyBmcm9tIGNvbGxlY3RpbmcgdGhlIHNldCBvZiBjaGFuZ2VzIGluZGVmaW5pdGVseVxuICAvLyByZXN1bHRpbmcgaW4gZ3Jvd2luZyBtZW1vcnlcbiAgb3B0cy5yZXR1cm5fZG9jcyA9ICgncmV0dXJuX2RvY3MnIGluIG9wdHMpID8gb3B0cy5yZXR1cm5fZG9jcyA6ICFvcHRzLmxpdmU7XG5cbiAgcmV0dXJuIG5ldyBDaGFuZ2VzJDEodGhpcywgb3B0cywgY2FsbGJhY2spO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jbG9zZSA9IGFkYXB0ZXJGdW4oJ2Nsb3NlJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gIHRoaXMuZW1pdCgnY2xvc2VkJyk7XG4gIHJldHVybiB0aGlzLl9jbG9zZShjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pbmZvID0gYWRhcHRlckZ1bignaW5mbycsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2luZm8oZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBhc3N1bWUgd2Uga25vdyBiZXR0ZXIgdGhhbiB0aGUgYWRhcHRlciwgdW5sZXNzIGl0IGluZm9ybXMgdXNcbiAgICBpbmZvLmRiX25hbWUgPSBpbmZvLmRiX25hbWUgfHwgc2VsZi5uYW1lO1xuICAgIGluZm8uYXV0b19jb21wYWN0aW9uID0gISEoc2VsZi5hdXRvX2NvbXBhY3Rpb24gJiYgIWlzUmVtb3RlKHNlbGYpKTtcbiAgICBpbmZvLmFkYXB0ZXIgPSBzZWxmLmFkYXB0ZXI7XG4gICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaWQgPSBhZGFwdGVyRnVuKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gdGhpcy5faWQoY2FsbGJhY2spO1xufSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodHlwZW9mIHRoaXMuX3R5cGUgPT09ICdmdW5jdGlvbicpID8gdGhpcy5fdHlwZSgpIDogdGhpcy5hZGFwdGVyO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtEb2NzJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcSkpIHtcbiAgICByZXEgPSB7XG4gICAgICBkb2NzOiByZXFcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFyZXEgfHwgIXJlcS5kb2NzIHx8ICFBcnJheS5pc0FycmF5KHJlcS5kb2NzKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0JVTEtfRE9DUykpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXEuZG9jcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2YgcmVxLmRvY3NbaV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVxLmRvY3NbaV0pKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhdHRhY2htZW50RXJyb3I7XG4gIHJlcS5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGF0dGFjaG1lbnRFcnJvciA9IGF0dGFjaG1lbnRFcnJvciB8fCBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpO1xuICAgICAgICBpZiAoIWRvYy5fYXR0YWNobWVudHNbbmFtZV0uY29udGVudF90eXBlKSB7XG4gICAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIG5hbWUsICdvbiBkb2N1bWVudCcsIGRvYy5faWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChhdHRhY2htZW50RXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIGF0dGFjaG1lbnRFcnJvcikpO1xuICB9XG5cbiAgaWYgKCEoJ25ld19lZGl0cycgaW4gb3B0cykpIHtcbiAgICBpZiAoJ25ld19lZGl0cycgaW4gcmVxKSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHJlcS5uZXdfZWRpdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IHRoaXM7XG4gIGlmICghb3B0cy5uZXdfZWRpdHMgJiYgIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgLy8gZW5zdXJlIHJldmlzaW9ucyBvZiB0aGUgc2FtZSBkb2MgYXJlIHNvcnRlZCwgc28gdGhhdFxuICAgIC8vIHRoZSBsb2NhbCBhZGFwdGVyIHByb2Nlc3NlcyB0aGVtIGNvcnJlY3RseSAoIzI5MzUpXG4gICAgcmVxLmRvY3Muc29ydChjb21wYXJlQnlJZFRoZW5SZXYpO1xuICB9XG5cbiAgY2xlYW5Eb2NzKHJlcS5kb2NzKTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBjb25mbGljdHMsIHdlIHdhbnQgdG8gcmV0dXJuIHRoZSBfaWRzIHRvIHRoZSB1c2VyXG4gIC8vIGhvd2V2ZXIsIHRoZSB1bmRlcmx5aW5nIGFkYXB0ZXIgbWF5IGRlc3Ryb3kgdGhlIGRvY3MgYXJyYXksIHNvXG4gIC8vIGNyZWF0ZSBhIGNvcHkgaGVyZVxuICB2YXIgaWRzID0gcmVxLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9pZDtcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuX2J1bGtEb2NzKHJlcSwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmICghb3B0cy5uZXdfZWRpdHMpIHtcbiAgICAgIC8vIHRoaXMgaXMgd2hhdCBjb3VjaCBkb2VzIHdoZW4gbmV3X2VkaXRzIGlzIGZhbHNlXG4gICAgICByZXMgPSByZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGFkZCBpZHMgZm9yIGVycm9yL2NvbmZsaWN0IHJlc3BvbnNlcyAobm90IHJlcXVpcmVkIGZvciBDb3VjaERCKVxuICAgIGlmICghaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXNbaV0uaWQgPSByZXNbaV0uaWQgfHwgaWRzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UnLCBmdW5jdGlvbiAoZGVwZW5kZW50RGIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIGRiT3B0aW9ucyA9IGNsb25lKHRoaXMuX19vcHRzKTtcbiAgaWYgKHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGRiT3B0aW9ucy5hZGFwdGVyID0gdGhpcy5fX29wdHMudmlld19hZGFwdGVyO1xuICB9XG5cbiAgdmFyIGRlcERCID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZGVwZW5kZW50RGIsIGRiT3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gZGlmZkZ1bihkb2MpIHtcbiAgICBkb2MuZGVwZW5kZW50RGJzID0gZG9jLmRlcGVuZGVudERicyB8fCB7fTtcbiAgICBpZiAoZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0pIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbm8gdXBkYXRlIHJlcXVpcmVkXG4gICAgfVxuICAgIGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdID0gdHJ1ZTtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHVwc2VydCh0aGlzLCAnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBkaWZmRnVuKVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtkYjogZGVwREJ9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5kZXN0cm95ID1cbiAgYWRhcHRlckZ1bignZGVzdHJveScsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB1c2VQcmVmaXggPSAndXNlX3ByZWZpeCcgaW4gc2VsZiA/IHNlbGYudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgZnVuY3Rpb24gZGVzdHJveURiKCkge1xuICAgIC8vIGNhbGwgZGVzdHJveSBtZXRob2Qgb2YgdGhlIHBhcnRpY3VsYXIgYWRhcHRvclxuICAgIHNlbGYuX2Rlc3Ryb3kob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2Rlc3Ryb3llZCcpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCB8fCB7ICdvayc6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNSZW1vdGUoc2VsZikpIHtcbiAgICAvLyBubyBuZWVkIHRvIGNoZWNrIGZvciBkZXBlbmRlbnQgREJzIGlmIGl0J3MgYSByZW1vdGUgREJcbiAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gIH1cblxuICBzZWxmLmdldCgnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBmdW5jdGlvbiAoZXJyLCBsb2NhbERvYykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7IC8vIG5vIGRlcGVuZGVuY2llc1xuICAgICAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkZXBlbmRlbnREYnMgPSBsb2NhbERvYy5kZXBlbmRlbnREYnM7XG4gICAgdmFyIFBvdWNoREIgPSBzZWxmLmNvbnN0cnVjdG9yO1xuICAgIHZhciBkZWxldGVkTWFwID0gT2JqZWN0LmtleXMoZGVwZW5kZW50RGJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIC8vIHVzZV9wcmVmaXggaXMgb25seSBmYWxzZSBpbiB0aGUgYnJvd3NlclxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHZhciB0cnVlTmFtZSA9IHVzZVByZWZpeCA/XG4gICAgICAgIG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIFBvdWNoREIucHJlZml4KSwgJycpIDogbmFtZTtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hEQih0cnVlTmFtZSwgc2VsZi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBQcm9taXNlLmFsbChkZWxldGVkTWFwKS50aGVuKGRlc3Ryb3lEYiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBUYXNrUXVldWUoKSB7XG4gIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICB0aGlzLmZhaWxlZCA9IGZhbHNlO1xuICB0aGlzLnF1ZXVlID0gW107XG59XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1bjtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4odGhpcy5mYWlsZWQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bigpO1xuICAgIH1cbiAgfVxufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5mYWlsID0gZnVuY3Rpb24gKGVycikge1xuICB0aGlzLmZhaWxlZCA9IGVycjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKGRiKSB7XG4gIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gIHRoaXMuZGIgPSBkYjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmFkZFRhc2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gIHRoaXMucXVldWUucHVzaChmdW4pO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcGFyc2VBZGFwdGVyKG5hbWUsIG9wdHMpIHtcbiAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaCgvKFthLXotXSopOlxcL1xcLyguKikvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgLy8gdGhlIGh0dHAgYWRhcHRlciBleHBlY3RzIHRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAvaHR0cHM/Ly50ZXN0KG1hdGNoWzFdKSA/IG1hdGNoWzFdICsgJzovLycgKyBtYXRjaFsyXSA6IG1hdGNoWzJdLFxuICAgICAgYWRhcHRlcjogbWF0Y2hbMV1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGFkYXB0ZXJzID0gUG91Y2hEQi5hZGFwdGVycztcbiAgdmFyIHByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycztcbiAgdmFyIHByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuICB2YXIgYWRhcHRlck5hbWUgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgaWYgKCFhZGFwdGVyTmFtZSkgeyAvLyBhdXRvbWF0aWNhbGx5IGRldGVybWluZSBhZGFwdGVyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmZXJyZWRBZGFwdGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgYWRhcHRlck5hbWUgPSBwcmVmZXJyZWRBZGFwdGVyc1tpXTtcbiAgICAgIC8vIGNoZWNrIGZvciBicm93c2VycyB0aGF0IGhhdmUgYmVlbiB1cGdyYWRlZCBmcm9tIHdlYnNxbC1vbmx5IHRvIHdlYnNxbCtpZGJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGFkYXB0ZXJOYW1lID09PSAnaWRiJyAmJiAnd2Vic3FsJyBpbiBhZGFwdGVycyAmJlxuICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZSgpICYmIGxvY2FsU3RvcmFnZVsnX3BvdWNoX193ZWJzcWxkYl8nICsgcHJlZml4ICsgbmFtZV0pIHtcbiAgICAgICAgLy8gbG9nIGl0LCBiZWNhdXNlIHRoaXMgY2FuIGJlIGNvbmZ1c2luZyBkdXJpbmcgZGV2ZWxvcG1lbnRcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ2xvZycsICdQb3VjaERCIGlzIGRvd25ncmFkaW5nIFwiJyArIG5hbWUgKyAnXCIgdG8gV2ViU1FMIHRvJyArXG4gICAgICAgICAgJyBhdm9pZCBkYXRhIGxvc3MsIGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgb3BlbmVkIHdpdGggV2ViU1FMLicpO1xuICAgICAgICBjb250aW51ZTsgLy8ga2VlcCB1c2luZyB3ZWJzcWwgdG8gYXZvaWQgdXNlciBkYXRhIGxvc3NcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gYWRhcHRlcnNbYWRhcHRlck5hbWVdO1xuXG4gIC8vIGlmIGFkYXB0ZXIgaXMgaW52YWxpZCwgdGhlbiBhbiBlcnJvciB3aWxsIGJlIHRocm93biBsYXRlclxuICB2YXIgdXNlUHJlZml4ID0gKGFkYXB0ZXIgJiYgJ3VzZV9wcmVmaXgnIGluIGFkYXB0ZXIpID9cbiAgICBhZGFwdGVyLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogdXNlUHJlZml4ID8gKHByZWZpeCArIG5hbWUpIDogbmFtZSxcbiAgICBhZGFwdGVyOiBhZGFwdGVyTmFtZVxuICB9O1xufVxuXG4vLyBPSywgc28gaGVyZSdzIHRoZSBkZWFsLiBDb25zaWRlciB0aGlzIGNvZGU6XG4vLyAgICAgdmFyIGRiMSA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICB2YXIgZGIyID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIGRiMS5kZXN0cm95KCk7XG4vLyBeIHRoZXNlIHR3byBib3RoIG5lZWQgdG8gZW1pdCAnZGVzdHJveWVkJyBldmVudHMsXG4vLyBhcyB3ZWxsIGFzIHRoZSBQb3VjaERCIGNvbnN0cnVjdG9yIGl0c2VsZi5cbi8vIFNvIHdlIGhhdmUgb25lIGRiIG9iamVjdCAod2hpY2hldmVyIG9uZSBnb3QgZGVzdHJveSgpIGNhbGxlZCBvbiBpdClcbi8vIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyB0aGUgaW5pdGlhbCBldmVudCwgd2hpY2ggdGhlbiBnZXRzIGVtaXR0ZWRcbi8vIGJ5IHRoZSBjb25zdHJ1Y3Rvciwgd2hpY2ggdGhlbiBicm9hZGNhc3RzIGl0IHRvIGFueSBvdGhlciBkYnNcbi8vIHRoYXQgbWF5IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGggdGhlIHNhbWUgbmFtZS5cbmZ1bmN0aW9uIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKSB7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95ZWQoZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICBpZiAoIWZyb21fY29uc3RydWN0b3IpIHtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVzdHJveWVkJywgc2VsZi5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNsb3NlZCgpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCd1bnJlZicsIHNlbGYpO1xuICB9XG5cbiAgc2VsZi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gIHNlbGYub25jZSgnY2xvc2VkJywgb25DbG9zZWQpO1xuICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3JlZicsIHNlbGYpO1xufVxuXG5pbmhlcml0cyhQb3VjaERCLCBBYnN0cmFjdFBvdWNoREIpO1xuZnVuY3Rpb24gUG91Y2hEQihuYW1lLCBvcHRzKSB7XG4gIC8vIEluIE5vZGUgb3VyIHRlc3Qgc3VpdGUgb25seSB0ZXN0cyB0aGlzIGZvciBQb3VjaEFsdCB1bmZvcnR1bmF0ZWx5XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hEQikpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoREIobmFtZSwgb3B0cyk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgIG9wdHMgPSBuYW1lO1xuICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgfVxuXG4gIGlmIChvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fX29wdHMgPSBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgc2VsZi5hdXRvX2NvbXBhY3Rpb24gPSBvcHRzLmF1dG9fY29tcGFjdGlvbjtcbiAgc2VsZi5wcmVmaXggPSBQb3VjaERCLnByZWZpeDtcblxuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nL2ludmFsaWQgREIgbmFtZScpO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkTmFtZSA9IChvcHRzLnByZWZpeCB8fCAnJykgKyBuYW1lO1xuICB2YXIgYmFja2VuZCA9IHBhcnNlQWRhcHRlcihwcmVmaXhlZE5hbWUsIG9wdHMpO1xuXG4gIG9wdHMubmFtZSA9IGJhY2tlbmQubmFtZTtcbiAgb3B0cy5hZGFwdGVyID0gb3B0cy5hZGFwdGVyIHx8IGJhY2tlbmQuYWRhcHRlcjtcblxuICBzZWxmLm5hbWUgPSBuYW1lO1xuICBzZWxmLl9hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuICBQb3VjaERCLmVtaXQoJ2RlYnVnJywgWydhZGFwdGVyJywgJ1BpY2tlZCBhZGFwdGVyOiAnLCBvcHRzLmFkYXB0ZXJdKTtcblxuICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXSB8fFxuICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFkYXB0ZXI6ICcgKyBvcHRzLmFkYXB0ZXIpO1xuICB9XG5cbiAgaWYgKG9wdHMudmlld19hZGFwdGVyKSB7XG4gICAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXSB8fFxuICAgICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0udmFsaWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFZpZXcgQWRhcHRlcjogJyArIG9wdHMudmlld19hZGFwdGVyKTtcbiAgICB9XG4gIH1cblxuICBBYnN0cmFjdFBvdWNoREIuY2FsbChzZWxmKTtcbiAgc2VsZi50YXNrcXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG5cbiAgc2VsZi5hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuXG4gIFBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS5jYWxsKHNlbGYsIG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi50YXNrcXVldWUuZmFpbChlcnIpO1xuICAgIH1cbiAgICBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZik7XG5cbiAgICBzZWxmLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmKTtcbiAgICBQb3VjaERCLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmLm5hbWUpO1xuICAgIHNlbGYudGFza3F1ZXVlLnJlYWR5KHNlbGYpO1xuICB9KTtcblxufVxuXG4vLyBBYm9ydENvbnRyb2xsZXIgd2FzIGludHJvZHVjZWQgcXVpdGUgYSB3aGlsZSBhZnRlciBmZXRjaCBhbmRcbi8vIGlzbnQgcmVxdWlyZWQgZm9yIFBvdWNoREIgdG8gZnVuY3Rpb24gc28gcG9seWZpbGwgaWYgbmVlZGVkXG52YXIgYSA9ICh0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJylcbiAgICA/IEFib3J0Q29udHJvbGxlclxuICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4ge2Fib3J0OiBmdW5jdGlvbiAoKSB7fX07IH07XG5cbnZhciBmJDEgPSBmZXRjaDtcbnZhciBoID0gSGVhZGVycztcblxuUG91Y2hEQi5hZGFwdGVycyA9IHt9O1xuUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycyA9IFtdO1xuXG5Qb3VjaERCLnByZWZpeCA9ICdfcG91Y2hfJztcblxudmFyIGV2ZW50RW1pdHRlciA9IG5ldyBFRSgpO1xuXG5mdW5jdGlvbiBzZXRVcEV2ZW50RW1pdHRlcihQb3VjaCkge1xuICBPYmplY3Qua2V5cyhFRS5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh0eXBlb2YgRUUucHJvdG90eXBlW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFBvdWNoW2tleV0gPSBldmVudEVtaXR0ZXJba2V5XS5iaW5kKGV2ZW50RW1pdHRlcik7XG4gICAgfVxuICB9KTtcblxuICAvLyB0aGVzZSBhcmUgY3JlYXRlZCBpbiBjb25zdHJ1Y3Rvci5qcywgYW5kIGFsbG93IHVzIHRvIG5vdGlmeSBlYWNoIERCIHdpdGhcbiAgLy8gdGhlIHNhbWUgbmFtZSB0aGF0IGl0IHdhcyBkZXN0cm95ZWQsIHZpYSB0aGUgY29uc3RydWN0b3Igb2JqZWN0XG4gIHZhciBkZXN0cnVjdExpc3RlbmVycyA9IFBvdWNoLl9kZXN0cnVjdGlvbkxpc3RlbmVycyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIFBvdWNoLm9uKCdyZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yUmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBbXSk7XG4gICAgfVxuICAgIGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKS5wdXNoKGRiKTtcbiAgfSk7XG5cbiAgUG91Y2gub24oJ3VucmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclVucmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKTtcbiAgICB2YXIgcG9zID0gZGJMaXN0LmluZGV4T2YoZGIpO1xuICAgIGlmIChwb3MgPCAwKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYkxpc3Quc3BsaWNlKHBvcywgMSk7XG4gICAgaWYgKGRiTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIGRiTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShkYi5uYW1lKTtcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yRGVzdHJveWVkKG5hbWUpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KG5hbWUpO1xuICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShuYW1lKTtcbiAgICBkYkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGIpIHtcbiAgICAgIGRiLmVtaXQoJ2Rlc3Ryb3llZCcsdHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5zZXRVcEV2ZW50RW1pdHRlcihQb3VjaERCKTtcblxuUG91Y2hEQi5hZGFwdGVyID0gZnVuY3Rpb24gKGlkLCBvYmosIGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG9iai52YWxpZCgpKSB7XG4gICAgUG91Y2hEQi5hZGFwdGVyc1tpZF0gPSBvYmo7XG4gICAgaWYgKGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgICAgIFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMucHVzaChpZCk7XG4gICAgfVxuICB9XG59O1xuXG5Qb3VjaERCLnBsdWdpbiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHsgLy8gZnVuY3Rpb24gc3R5bGUgZm9yIHBsdWdpbnNcbiAgICBvYmooUG91Y2hEQik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGx1Z2luOiBnb3QgXCInICsgb2JqICsgJ1wiLCBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbicpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgLy8gb2JqZWN0IHN0eWxlIGZvciBwbHVnaW5zXG4gICAgICBQb3VjaERCLnByb3RvdHlwZVtpZF0gPSBvYmpbaWRdO1xuICAgIH0pO1xuICB9XG4gIGlmICh0aGlzLl9fZGVmYXVsdHMpIHtcbiAgICBQb3VjaERCLl9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cyk7XG4gIH1cbiAgcmV0dXJuIFBvdWNoREI7XG59O1xuXG5Qb3VjaERCLmRlZmF1bHRzID0gZnVuY3Rpb24gKGRlZmF1bHRPcHRzKSB7XG4gIGZ1bmN0aW9uIFBvdWNoQWx0KG5hbWUsIG9wdHMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hBbHQpKSB7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoQWx0KG5hbWUsIG9wdHMpO1xuICAgIH1cblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBvcHRzID0gbmFtZTtcbiAgICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgICBkZWxldGUgb3B0cy5uYW1lO1xuICAgIH1cblxuICAgIG9wdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIFBvdWNoQWx0Ll9fZGVmYXVsdHMsIG9wdHMpO1xuICAgIFBvdWNoREIuY2FsbCh0aGlzLCBuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIGluaGVyaXRzKFBvdWNoQWx0LCBQb3VjaERCKTtcblxuICBQb3VjaEFsdC5wcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMuc2xpY2UoKTtcbiAgT2JqZWN0LmtleXMoUG91Y2hEQikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCEoa2V5IGluIFBvdWNoQWx0KSkge1xuICAgICAgUG91Y2hBbHRba2V5XSA9IFBvdWNoREJba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1ha2UgZGVmYXVsdCBvcHRpb25zIHRyYW5zaXRpdmVcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvNTkyMlxuICBQb3VjaEFsdC5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMsIGRlZmF1bHRPcHRzKTtcblxuICByZXR1cm4gUG91Y2hBbHQ7XG59O1xuXG5Qb3VjaERCLmZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0cykge1xuICByZXR1cm4gZiQxKHVybCwgb3B0cyk7XG59O1xuXG4vLyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgYnkgc2V0LXZlcnNpb24uanNcbnZhciB2ZXJzaW9uID0gXCI3LjMuMFwiO1xuXG4vLyB0aGlzIHdvdWxkIGp1c3QgYmUgXCJyZXR1cm4gZG9jW2ZpZWxkXVwiLCBidXQgZmllbGRzXG4vLyBjYW4gYmUgXCJkZWVwXCIgZHVlIHRvIGRvdCBub3RhdGlvblxuZnVuY3Rpb24gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpIHtcbiAgdmFyIHZhbHVlID0gZG9jO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGFyc2VkRmllbGQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGFyc2VkRmllbGRbaV07XG4gICAgdmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUkMShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gQ29udmVydHMgYSBzdHJpbmcgaW4gZG90IG5vdGF0aW9uIHRvIGFuIGFycmF5IG9mIGl0cyBjb21wb25lbnRzLCB3aXRoIGJhY2tzbGFzaCBlc2NhcGluZ1xuZnVuY3Rpb24gcGFyc2VGaWVsZChmaWVsZE5hbWUpIHtcbiAgLy8gZmllbGRzIG1heSBiZSBkZWVwIChlLmcuIFwiZm9vLmJhci5iYXpcIiksIHNvIHBhcnNlXG4gIHZhciBmaWVsZHMgPSBbXTtcbiAgdmFyIGN1cnJlbnQgPSAnJztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZpZWxkTmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjaCA9IGZpZWxkTmFtZVtpXTtcbiAgICBpZiAoaSA+IDAgJiYgZmllbGROYW1lW2kgLSAxXSA9PT0gJ1xcXFwnICYmIChjaCA9PT0gJyQnIHx8IGNoID09PSAnLicpKSB7XG4gICAgICAvLyBlc2NhcGVkIGRlbGltaXRlclxuICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3Vic3RyaW5nKDAsIGN1cnJlbnQubGVuZ3RoIC0gMSkgKyBjaDtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAnLicpIHtcbiAgICAgIC8vIFdoZW4gYC5gIGlzIG5vdCBlc2NhcGVkIChhYm92ZSksIGl0IGlzIGEgZmllbGQgZGVsaW1pdGVyXG4gICAgICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSAnJztcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgY2hhcmFjdGVyXG4gICAgICBjdXJyZW50ICs9IGNoO1xuICAgIH1cbiAgfVxuICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgcmV0dXJuIGZpZWxkcztcbn1cblxudmFyIGNvbWJpbmF0aW9uRmllbGRzID0gWyckb3InLCAnJG5vcicsICckbm90J107XG5mdW5jdGlvbiBpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkge1xuICByZXR1cm4gY29tYmluYXRpb25GaWVsZHMuaW5kZXhPZihmaWVsZCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0S2V5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKVswXTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUob2JqKSB7XG4gIHJldHVybiBvYmpbZ2V0S2V5KG9iaildO1xufVxuXG5cbi8vIGZsYXR0ZW4gYW4gYXJyYXkgb2Ygc2VsZWN0b3JzIGpvaW5lZCBieSBhbiAkYW5kIG9wZXJhdG9yXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzKHNlbGVjdG9ycykge1xuXG4gIC8vIHNvcnQgdG8gZW5zdXJlIHRoYXQgZS5nLiBpZiB0aGUgdXNlciBzcGVjaWZpZWRcbiAgLy8gJGFuZDogW3skZ3Q6ICdhJ30sIHskZ3Q6ICdiJ31dLCB0aGVuIGl0J3MgY29sbGFwc2VkIGludG9cbiAgLy8ganVzdCB7JGd0OiAnYid9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGZpcnN0ID0geyRvcjogdHJ1ZSwgJG5vcjogdHJ1ZX07XG5cbiAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgT2JqZWN0LmtleXMoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICAgIC8vIG9yLCBub3JcbiAgICAgICAgaWYgKG1hdGNoZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGlmIChmaXJzdFtmaWVsZF0pIHtcbiAgICAgICAgICAgIGZpcnN0W2ZpZWxkXSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzW2ZpZWxkXSA9IG1hdGNoZXI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgICByZXNbZmllbGRdLmZvckVhY2goZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgdmFyIG0gPSBtYXRjaGVyW2tleV07XG4gICAgICAgICAgICAgIHZhciBsb25nZXN0ID0gTWF0aC5tYXgoT2JqZWN0LmtleXMoZXhpc3RpbmcpLmxlbmd0aCwgT2JqZWN0LmtleXMobSkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW2V4aXN0aW5nLCBtXSk7XG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXJnZWQpLmxlbmd0aCA8PSBsb25nZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHNpdHVhdGlvbiBsaWtlOiAoYSA6eyRlcSA6MX0gfHwgLi4uKSAmJiAoYSB7JGVxOiAyfSB8fCAuLi4pXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2luZyB3b3VsZCBwcm9kdWNlIGEgJGVxIDIgd2hlbiBhY3R1YWxseSB3ZSBzaG91bGRuJ3QgZXZlciBtYXRjaCBhZ2FpbnN0IHRoZXNlIG1lcmdlZCBjb25kaXRpb25zXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2VkIHNob3VsZCBhbHdheXMgY29udGFpbiBtb3JlIHZhbHVlcyB0byBiZSB2YWxpZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbnRyaWVzLnB1c2gobWVyZ2VkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc1tmaWVsZF0gPSBlbnRyaWVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vdFxuICAgICAgICAgIHJlc1tmaWVsZF0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFttYXRjaGVyXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmaWVsZE1hdGNoZXJzID0gcmVzW2ZpZWxkXSA9IHJlc1tmaWVsZF0gfHwge307XG4gICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlcltvcGVyYXRvcl07XG5cbiAgICAgICAgICBpZiAob3BlcmF0b3IgPT09ICckZ3QnIHx8IG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRsdCcgfHwgb3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJG5lJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckZXEnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCIkcmVnZXhcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGd0L2d0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID49IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGx0L2x0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDw9IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbWJpbmUgJG5lIHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRuZScgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIHRoZXJlIGFyZSBtYW55IHRoaW5ncyB0aGlzIGNvdWxkIFwibm90XCIgYmVcbiAgICBmaWVsZE1hdGNoZXJzLiRuZS5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRuZSA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8gYWRkICRlcSBpbnRvIHRoZSBtaXhcbmZ1bmN0aW9uIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgLy8gdGhlc2UgYWxsIGhhdmUgbGVzcyBzcGVjaWZpY2l0eSB0aGFuIHRoZSAkZXFcbiAgLy8gVE9ETzogY2hlY2sgZm9yIHVzZXIgZXJyb3JzIGhlcmVcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRuZTtcbiAgZmllbGRNYXRjaGVycy4kZXEgPSB2YWx1ZTtcbn1cblxuLy8gY29tYmluZSAkcmVnZXggdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJHJlZ2V4JyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gYSB2YWx1ZSBjb3VsZCBtYXRjaCBtdWx0aXBsZSByZWdleGVzXG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXgucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXggPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIzc0NTg6IGV4ZWN1dGUgZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyBvbiBuZXN0ZWQgJGFuZFxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpbaV1bJyRhbmQnXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbaV0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKG9ialtpXVsnJGFuZCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZCh2YWx1ZSk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cblxuLy8jNzQ1ODogZGV0ZXJtaW5lIGlkICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKVxuZnVuY3Rpb24gaXNBbmRJblNlbGVjdG9yKG9iaiwgaXNBbmQpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAocHJvcCA9PT0gJyRhbmQnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaXNBbmQgPSBpc0FuZEluU2VsZWN0b3IodmFsdWUsIGlzQW5kKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNBbmQ7XG59XG5cbi8vXG4vLyBub3JtYWxpemUgdGhlIHNlbGVjdG9yXG4vL1xuZnVuY3Rpb24gbWFzc2FnZVNlbGVjdG9yKGlucHV0KSB7XG4gIHZhciByZXN1bHQgPSBjbG9uZShpbnB1dCk7XG4gIHZhciB3YXNBbmRlZCA9IGZhbHNlO1xuICAgIC8vIzc0NTg6IGlmICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKSBtZXJnZSBuZXN0ZWQgJGFuZFxuICAgIGlmIChpc0FuZEluU2VsZWN0b3IocmVzdWx0LCBmYWxzZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChyZXN1bHQpO1xuICAgICAgICBpZiAoJyRhbmQnIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhyZXN1bHRbJyRhbmQnXSk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzQW5kZWQgPSB0cnVlO1xuICAgIH1cblxuICBbJyRvcicsICckbm9yJ10uZm9yRWFjaChmdW5jdGlvbiAob3JPck5vcikge1xuICAgIGlmIChvck9yTm9yIGluIHJlc3VsdCkge1xuICAgICAgLy8gbWVzc2FnZSBlYWNoIGluZGl2aWR1YWwgc2VsZWN0b3JcbiAgICAgIC8vIGUuZy4ge2ZvbzogJ2Jhcid9IGJlY29tZXMge2ZvbzogeyRlcTogJ2Jhcid9fVxuICAgICAgcmVzdWx0W29yT3JOb3JdLmZvckVhY2goZnVuY3Rpb24gKHN1YlNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhzdWJTZWxlY3Rvcik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgICAgICAgIHZhciBtYXRjaGVyID0gc3ViU2VsZWN0b3JbZmllbGRdO1xuICAgICAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3ViU2VsZWN0b3JbZmllbGRdID0geyRlcTogbWF0Y2hlcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICgnJG5vdCcgaW4gcmVzdWx0KSB7XG4gICAgLy9UaGlzIGZlZWxzIGEgbGl0dGxlIGxpa2UgZm9yY2luZywgYnV0IGl0IHdpbGwgd29yayBmb3Igbm93LFxuICAgIC8vSSB3b3VsZCBsaWtlIHRvIGNvbWUgYmFjayB0byB0aGlzIGFuZCBtYWtlIHRoZSBtZXJnaW5nIG9mIHNlbGVjdG9ycyBhIGxpdHRsZSBtb3JlIGdlbmVyaWNcbiAgICByZXN1bHRbJyRub3QnXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW3Jlc3VsdFsnJG5vdCddXSk7XG4gIH1cblxuICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMocmVzdWx0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICB2YXIgbWF0Y2hlciA9IHJlc3VsdFtmaWVsZF07XG5cbiAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICB9IGVsc2UgaWYgKCF3YXNBbmRlZCkge1xuICAgICAgLy8gVGhlc2UgdmFsdWVzIG11c3QgYmUgcGxhY2VkIGluIGFuIGFycmF5IGJlY2F1c2UgdGhlc2Ugb3BlcmF0b3JzIGNhbiBiZSB1c2VkIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZpZWxkXG4gICAgICAvLyB3aGVuICRhbmQgaXMgdXNlZCwgbWVyZ2VBbmRlZFNlbGVjdG9ycyB0YWtlcyBjYXJlIG9mIHB1dHRpbmcgdGhlbSBpbnRvIGFycmF5cywgb3RoZXJ3aXNlIGl0J3MgZG9uZSBoZXJlOlxuICAgICAgaWYgKCckbmUnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kbmUgPSBbbWF0Y2hlci4kbmVdO1xuICAgICAgfVxuICAgICAgaWYgKCckcmVnZXgnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kcmVnZXggPSBbbWF0Y2hlci4kcmVnZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRbZmllbGRdID0gbWF0Y2hlcjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSAnJztcbiAgdmFyIHRhcmdldExlbmd0aCA9IHVwVG9MZW5ndGggLSBzdHIubGVuZ3RoO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB3aGlsZSAocGFkZGluZy5sZW5ndGggPCB0YXJnZXRMZW5ndGgpIHtcbiAgICBwYWRkaW5nICs9IHBhZFdpdGg7XG4gIH1cbiAgcmV0dXJuIHBhZGRpbmc7XG59XG5cbmZ1bmN0aW9uIHBhZExlZnQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCk7XG4gIHJldHVybiBwYWRkaW5nICsgc3RyO1xufVxuXG52YXIgTUlOX01BR05JVFVERSA9IC0zMjQ7IC8vIHZlcmlmaWVkIGJ5IC1OdW1iZXIuTUlOX1ZBTFVFXG52YXIgTUFHTklUVURFX0RJR0lUUyA9IDM7IC8vIGRpdHRvXG52YXIgU0VQID0gJyc7IC8vIHNldCB0byAnXycgZm9yIGVhc2llciBkZWJ1Z2dpbmdcblxuZnVuY3Rpb24gY29sbGF0ZShhLCBiKSB7XG5cbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGEgPSBub3JtYWxpemVLZXkoYSk7XG4gIGIgPSBub3JtYWxpemVLZXkoYik7XG5cbiAgdmFyIGFpID0gY29sbGF0aW9uSW5kZXgoYSk7XG4gIHZhciBiaSA9IGNvbGxhdGlvbkluZGV4KGIpO1xuICBpZiAoKGFpIC0gYmkpICE9PSAwKSB7XG4gICAgcmV0dXJuIGFpIC0gYmk7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgYSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IDE7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBzdHJpbmdDb2xsYXRlKGEsIGIpO1xuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYXJyYXlDb2xsYXRlKGEsIGIpIDogb2JqZWN0Q29sbGF0ZShhLCBiKTtcbn1cblxuLy8gY291Y2ggY29uc2lkZXJzIG51bGwvTmFOL0luZmluaXR5Ly1JbmZpbml0eSA9PT0gdW5kZWZpbmVkLFxuLy8gZm9yIHRoZSBwdXJwb3NlcyBvZiBtYXByZWR1Y2UgaW5kZXhlcy4gYWxzbywgZGF0ZXMgZ2V0IHN0cmluZ2lmaWVkLlxuZnVuY3Rpb24gbm9ybWFsaXplS2V5KGtleSkge1xuICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmIChrZXkgPT09IEluZmluaXR5IHx8IGtleSA9PT0gLUluZmluaXR5IHx8IGlzTmFOKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgb3JpZ0tleSA9IGtleTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgdmFyIGxlbiA9IGtleS5sZW5ndGg7XG4gICAgICAgIGtleSA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAga2V5W2ldID0gbm9ybWFsaXplS2V5KG9yaWdLZXlbaV0pO1xuICAgICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgfSBlbHNlIGlmIChrZXkgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBrZXkudG9KU09OKCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gbnVsbCkgeyAvLyBnZW5lcmljIG9iamVjdFxuICAgICAgICBrZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvcmlnS2V5KSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcmlnS2V5LCBrKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9yaWdLZXlba107XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAga2V5W2tdID0gbm9ybWFsaXplS2V5KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gaW5kZXhpZnkoa2V5KSB7XG4gIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4ga2V5ID8gMSA6IDA7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gbnVtVG9JbmRleGFibGVTdHJpbmcoa2V5KTtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIC8vIFdlJ3ZlIHRvIGJlIHN1cmUgdGhhdCBrZXkgZG9lcyBub3QgY29udGFpbiBcXHUwMDAwXG4gICAgICAgIC8vIERvIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRzOlxuICAgICAgICAvLyAwIC0+IDEsIDFcbiAgICAgICAgLy8gMSAtPiAxLCAyXG4gICAgICAgIC8vIDIgLT4gMiwgMlxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHJldHVybiBrZXlcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMi9nLCAnXFx1MDAwMlxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxL2csICdcXHUwMDAxXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDAvZywgJ1xcdTAwMDFcXHUwMDAxJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGtleSk7XG4gICAgICAgIHZhciBhcnIgPSBpc0FycmF5ID8ga2V5IDogT2JqZWN0LmtleXMoa2V5KTtcbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcoYXJyW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgdmFyIG9iaktleSA9IGFycltpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhvYmpLZXkpICtcbiAgICAgICAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhrZXlbb2JqS2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLy8gY29udmVydCB0aGUgZ2l2ZW4ga2V5IHRvIGEgc3RyaW5nIHRoYXQgd291bGQgYmUgYXBwcm9wcmlhdGVcbi8vIGZvciBsZXhpY2FsIHNvcnRpbmcsIGUuZy4gd2l0aGluIGEgZGF0YWJhc2UsIHdoZXJlIHRoZVxuLy8gc29ydGluZyBpcyB0aGUgc2FtZSBnaXZlbiBieSB0aGUgY29sbGF0ZSgpIGZ1bmN0aW9uLlxuZnVuY3Rpb24gdG9JbmRleGFibGVTdHJpbmcoa2V5KSB7XG4gIHZhciB6ZXJvID0gJ1xcdTAwMDAnO1xuICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgcmV0dXJuIGNvbGxhdGlvbkluZGV4KGtleSkgKyBTRVAgKyBpbmRleGlmeShrZXkpICsgemVybztcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW1iZXIoc3RyLCBpKSB7XG4gIHZhciBvcmlnaW5hbElkeCA9IGk7XG4gIHZhciBudW07XG4gIHZhciB6ZXJvID0gc3RyW2ldID09PSAnMSc7XG4gIGlmICh6ZXJvKSB7XG4gICAgbnVtID0gMDtcbiAgICBpKys7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG5lZyA9IHN0cltpXSA9PT0gJzAnO1xuICAgIGkrKztcbiAgICB2YXIgbnVtQXNTdHJpbmcgPSAnJztcbiAgICB2YXIgbWFnQXNTdHJpbmcgPSBzdHIuc3Vic3RyaW5nKGksIGkgKyBNQUdOSVRVREVfRElHSVRTKTtcbiAgICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQobWFnQXNTdHJpbmcsIDEwKSArIE1JTl9NQUdOSVRVREU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBtYWduaXR1ZGUgPSAtbWFnbml0dWRlO1xuICAgIH1cbiAgICBpICs9IE1BR05JVFVERV9ESUdJVFM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIG51bUFzU3RyaW5nID0gbnVtQXNTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICBpZiAobnVtQXNTdHJpbmcubGVuZ3RoID09PSAxKSB7XG4gICAgICBudW0gPSBwYXJzZUludChudW1Bc1N0cmluZywgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZ1swXSArICcuJyArIG51bUFzU3RyaW5nWzFdKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBudW0gPSBudW0gLSAxMDtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobWFnbml0dWRlICE9PSAwKSB7XG4gICAgICAvLyBwYXJzZUZsb2F0IGlzIG1vcmUgcmVsaWFibGUgdGhhbiBwb3cgZHVlIHRvIHJvdW5kaW5nIGVycm9yc1xuICAgICAgLy8gZS5nLiBOdW1iZXIuTUFYX1ZBTFVFIHdvdWxkIHJldHVybiBJbmZpbml0eSBpZiB3ZSBkaWRcbiAgICAgIC8vIG51bSAqIE1hdGgucG93KDEwLCBtYWduaXR1ZGUpO1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW0gKyAnZScgKyBtYWduaXR1ZGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge251bTogbnVtLCBsZW5ndGggOiBpIC0gb3JpZ2luYWxJZHh9O1xufVxuXG4vLyBtb3ZlIHVwIHRoZSBzdGFjayB3aGlsZSBwYXJzaW5nXG4vLyB0aGlzIGZ1bmN0aW9uIG1vdmVkIG91dHNpZGUgb2YgcGFyc2VJbmRleGFibGVTdHJpbmcgZm9yIHBlcmZvcm1hbmNlXG5mdW5jdGlvbiBwb3Aoc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgb2JqID0gc3RhY2sucG9wKCk7XG5cbiAgaWYgKG1ldGFTdGFjay5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gICAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnQucHVzaChvYmopO1xuICAgIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUluZGV4YWJsZVN0cmluZyhzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG5cbiAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnXFx1MDAwMCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnMSc6XG4gICAgICAgIHN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMic6XG4gICAgICAgIHN0YWNrLnB1c2goc3RyW2ldID09PSAnMScpO1xuICAgICAgICBpKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMyc6XG4gICAgICAgIHZhciBwYXJzZWROdW0gPSBwYXJzZU51bWJlcihzdHIsIGkpO1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZE51bS5udW0pO1xuICAgICAgICBpICs9IHBhcnNlZE51bS5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNCc6XG4gICAgICAgIHZhciBwYXJzZWRTdHIgPSAnJztcbiAgICAgICAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyc2VkU3RyICs9IGNoO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHRoZSByZXZlcnNlIG9mIHRoZSBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIGFsZ29yaXRobSAoc2VlIGFib3ZlKVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHBhcnNlZFN0ciA9IHBhcnNlZFN0ci5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMS9nLCAnXFx1MDAwMCcpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAyL2csICdcXHUwMDAxJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMlxcdTAwMDIvZywgJ1xcdTAwMDInKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkU3RyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc1JzpcbiAgICAgICAgdmFyIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNic6XG4gICAgICAgIHZhciBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2JhZCBjb2xsYXRpb25JbmRleCBvciB1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgK1xuICAgICAgICAgICAgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUNvbGxhdGUoYSwgYikge1xuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShhW2ldLCBiW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAoYS5sZW5ndGggPT09IGIubGVuZ3RoKSA/IDAgOlxuICAgIChhLmxlbmd0aCA+IGIubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbmZ1bmN0aW9uIHN0cmluZ0NvbGxhdGUoYSwgYikge1xuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYWxlaGFydmV5L3BvdWNoZGIvaXNzdWVzLzQwXG4gIC8vIFRoaXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIENvdWNoREIgaW1wbGVtZW50YXRpb24sIGJ1dCBpdHMgdGhlXG4gIC8vIGJlc3Qgd2UgY2FuIGRvIGZvciBub3dcbiAgcmV0dXJuIChhID09PSBiKSA/IDAgOiAoKGEgPiBiKSA/IDEgOiAtMSk7XG59XG5mdW5jdGlvbiBvYmplY3RDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGFrID0gT2JqZWN0LmtleXMoYSksIGJrID0gT2JqZWN0LmtleXMoYik7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhay5sZW5ndGgsIGJrLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBGaXJzdCBzb3J0IHRoZSBrZXlzXG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFrW2ldLCBia1tpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgICAvLyBpZiB0aGUga2V5cyBhcmUgZXF1YWwgc29ydCB0aGUgdmFsdWVzXG4gICAgc29ydCA9IGNvbGxhdGUoYVtha1tpXV0sIGJbYmtbaV1dKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIChhay5sZW5ndGggPT09IGJrLmxlbmd0aCkgPyAwIDpcbiAgICAoYWsubGVuZ3RoID4gYmsubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbi8vIFRoZSBjb2xsYXRpb24gaXMgZGVmaW5lZCBieSBlcmxhbmdzIG9yZGVyZWQgdGVybXNcbi8vIHRoZSBhdG9tcyBudWxsLCB0cnVlLCBmYWxzZSBjb21lIGZpcnN0LCB0aGVuIG51bWJlcnMsIHN0cmluZ3MsXG4vLyBhcnJheXMsIHRoZW4gb2JqZWN0c1xuLy8gbnVsbC91bmRlZmluZWQvTmFOL0luZmluaXR5Ly1JbmZpbml0eSBhcmUgYWxsIGNvbnNpZGVyZWQgbnVsbFxuZnVuY3Rpb24gY29sbGF0aW9uSW5kZXgoeCkge1xuICB2YXIgaWQgPSBbJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ3N0cmluZycsICdvYmplY3QnXTtcbiAgdmFyIGlkeCA9IGlkLmluZGV4T2YodHlwZW9mIHgpO1xuICAvL2ZhbHNlIGlmIC0xIG90aGVyd2lzZSB0cnVlLCBidXQgZmFzdCEhISExXG4gIGlmICh+aWR4KSB7XG4gICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgcmV0dXJuIDU7XG4gICAgfVxuICAgIHJldHVybiBpZHggPCAzID8gKGlkeCArIDIpIDogKGlkeCArIDMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuLy8gY29udmVyc2lvbjpcbi8vIHggeXl5IHp6Li4uenpcbi8vIHggPSAwIGZvciBuZWdhdGl2ZSwgMSBmb3IgMCwgMiBmb3IgcG9zaXRpdmVcbi8vIHkgPSBleHBvbmVudCAoZm9yIG5lZ2F0aXZlIG51bWJlcnMgbmVnYXRlZCkgbW92ZWQgc28gdGhhdCBpdCdzID49IDBcbi8vIHogPSBtYW50aXNzZVxuZnVuY3Rpb24gbnVtVG9JbmRleGFibGVTdHJpbmcobnVtKSB7XG5cbiAgaWYgKG51bSA9PT0gMCkge1xuICAgIHJldHVybiAnMSc7XG4gIH1cblxuICAvLyBjb252ZXJ0IG51bWJlciB0byBleHBvbmVudGlhbCBmb3JtYXQgZm9yIGVhc2llciBhbmRcbiAgLy8gbW9yZSBzdWNjaW5jdCBzdHJpbmcgc29ydGluZ1xuICB2YXIgZXhwRm9ybWF0ID0gbnVtLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgvZVxcKz8vKTtcbiAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KGV4cEZvcm1hdFsxXSwgMTApO1xuXG4gIHZhciBuZWcgPSBudW0gPCAwO1xuXG4gIHZhciByZXN1bHQgPSBuZWcgPyAnMCcgOiAnMic7XG5cbiAgLy8gZmlyc3Qgc29ydCBieSBtYWduaXR1ZGVcbiAgLy8gaXQncyBlYXNpZXIgaWYgYWxsIG1hZ25pdHVkZXMgYXJlIHBvc2l0aXZlXG4gIHZhciBtYWdGb3JDb21wYXJpc29uID0gKChuZWcgPyAtbWFnbml0dWRlIDogbWFnbml0dWRlKSAtIE1JTl9NQUdOSVRVREUpO1xuICB2YXIgbWFnU3RyaW5nID0gcGFkTGVmdCgobWFnRm9yQ29tcGFyaXNvbikudG9TdHJpbmcoKSwgJzAnLCBNQUdOSVRVREVfRElHSVRTKTtcblxuICByZXN1bHQgKz0gU0VQICsgbWFnU3RyaW5nO1xuXG4gIC8vIHRoZW4gc29ydCBieSB0aGUgZmFjdG9yXG4gIHZhciBmYWN0b3IgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGV4cEZvcm1hdFswXSkpOyAvLyBbMS4uMTApXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChuZWcpIHsgLy8gZm9yIG5lZ2F0aXZlIHJldmVyc2Ugb3JkZXJpbmdcbiAgICBmYWN0b3IgPSAxMCAtIGZhY3RvcjtcbiAgfVxuXG4gIHZhciBmYWN0b3JTdHIgPSBmYWN0b3IudG9GaXhlZCgyMCk7XG5cbiAgLy8gc3RyaXAgemVyb3MgZnJvbSB0aGUgZW5kXG4gIGZhY3RvclN0ciA9IGZhY3RvclN0ci5yZXBsYWNlKC9cXC4/MCskLywgJycpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBmYWN0b3JTdHI7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gY3JlYXRlIGEgY29tcGFyYXRvciBiYXNlZCBvbiB0aGUgc29ydCBvYmplY3RcbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkU29ydGVyKHNvcnQpIHtcblxuICBmdW5jdGlvbiBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoZG9jKSB7XG4gICAgcmV0dXJuIHNvcnQubWFwKGZ1bmN0aW9uIChzb3J0aW5nKSB7XG4gICAgICB2YXIgZmllbGROYW1lID0gZ2V0S2V5KHNvcnRpbmcpO1xuICAgICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZE5hbWUpO1xuICAgICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYVJvdywgYlJvdykge1xuICAgIHZhciBhRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYVJvdy5kb2MpO1xuICAgIHZhciBiRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYlJvdy5kb2MpO1xuICAgIHZhciBjb2xsYXRpb24gPSBjb2xsYXRlKGFGaWVsZFZhbHVlcywgYkZpZWxkVmFsdWVzKTtcbiAgICBpZiAoY29sbGF0aW9uICE9PSAwKSB7XG4gICAgICByZXR1cm4gY29sbGF0aW9uO1xuICAgIH1cbiAgICAvLyB0aGlzIGlzIHdoYXQgbWFuZ28gc2VlbXMgdG8gZG9cbiAgICByZXR1cm4gY29tcGFyZSQxKGFSb3cuZG9jLl9pZCwgYlJvdy5kb2MuX2lkKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmlsdGVySW5NZW1vcnlGaWVsZHMocm93cywgcmVxdWVzdERlZiwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcm93cyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKHJvdy5kb2MsIHJlcXVlc3REZWYuc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKTtcbiAgfSk7XG5cbiAgaWYgKHJlcXVlc3REZWYuc29ydCkge1xuICAgIC8vIGluLW1lbW9yeSBzb3J0XG4gICAgdmFyIGZpZWxkU29ydGVyID0gY3JlYXRlRmllbGRTb3J0ZXIocmVxdWVzdERlZi5zb3J0KTtcbiAgICByb3dzID0gcm93cy5zb3J0KGZpZWxkU29ydGVyKTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3REZWYuc29ydFswXSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgZ2V0VmFsdWUocmVxdWVzdERlZi5zb3J0WzBdKSA9PT0gJ2Rlc2MnKSB7XG4gICAgICByb3dzID0gcm93cy5yZXZlcnNlKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdsaW1pdCcgaW4gcmVxdWVzdERlZiB8fCAnc2tpcCcgaW4gcmVxdWVzdERlZikge1xuICAgIC8vIGhhdmUgdG8gZG8gdGhlIGxpbWl0IGluLW1lbW9yeVxuICAgIHZhciBza2lwID0gcmVxdWVzdERlZi5za2lwIHx8IDA7XG4gICAgdmFyIGxpbWl0ID0gKCdsaW1pdCcgaW4gcmVxdWVzdERlZiA/IHJlcXVlc3REZWYubGltaXQgOiByb3dzLmxlbmd0aCkgKyBza2lwO1xuICAgIHJvd3MgPSByb3dzLnNsaWNlKHNraXAsIGxpbWl0KTtcbiAgfVxuICByZXR1cm4gcm93cztcbn1cblxuZnVuY3Rpb24gcm93RmlsdGVyKGRvYywgc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJldHVybiBpbk1lbW9yeUZpZWxkcy5ldmVyeShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkKTtcbiAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICByZXR1cm4gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXIpIHtcbiAgICAvLyBubyBmaWx0ZXJpbmcgbmVjZXNzYXJ5OyB0aGlzIGZpZWxkIGlzIGp1c3QgbmVlZGVkIGZvciBzb3J0aW5nXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyBtYXRjaGVyIGFuIG9iamVjdCwgaWYgc28gY29udGludWUgcmVjdXJzaW9uXG4gIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcikuZXZlcnkoZnVuY3Rpb24gKG1heWJlVXNlck9wZXJhdG9yKSB7XG4gICAgICB2YXIgdXNlclZhbHVlID0gbWF0Y2hlclsgbWF5YmVVc2VyT3BlcmF0b3IgXTtcbiAgICAgIC8vIGV4cGxpY2l0IG9wZXJhdG9yXG4gICAgICBpZiAobWF5YmVVc2VyT3BlcmF0b3IuaW5kZXhPZihcIiRcIikgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKG1heWJlVXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHN1YlBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChtYXliZVVzZXJPcGVyYXRvcik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRvY0ZpZWxkVmFsdWUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIHR5cGVvZiB1c2VyVmFsdWUgIT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICBzdWJQYXJzZWRGaWVsZC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCwgcmV0dXJuIG9yIGdldEZpZWxkRnJvbURvYyB3aWxsIHRocm93XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YkRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jRmllbGRWYWx1ZSwgc3ViUGFyc2VkRmllbGQpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXNlclZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgLy8gZmllbGQgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgY29udGFpbiBtb3JlIG9wZXJhdG9yc1xuICAgICAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbXBsaWNpdCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gbWF0Y2goXCIkZXFcIiwgZG9jLCB1c2VyVmFsdWUsIHN1YlBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG5vIG1vcmUgZGVwdGgsIE5vIG5lZWQgdG8gcmVjdXJzZSBmdXJ0aGVyXG4gIHJldHVybiBtYXRjaGVyID09PSBkb2NGaWVsZFZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpIHtcblxuICBpZiAoZmllbGQgPT09ICckb3InKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIuc29tZShmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmaWVsZCA9PT0gJyRub3QnKSB7XG4gICAgcmV0dXJuICFyb3dGaWx0ZXIoZG9jLCBtYXRjaGVyLCBPYmplY3Qua2V5cyhtYXRjaGVyKSk7XG4gIH1cblxuICAvL2Akbm9yYFxuICByZXR1cm4gIW1hdGNoZXIuZmluZChmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gIH0pO1xuXG59XG5cbmZ1bmN0aW9uIG1hdGNoKHVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcnNbdXNlck9wZXJhdG9yXSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG9wZXJhdG9yIFwiJyArIHVzZXJPcGVyYXRvciArXG4gICAgICAnXCIgLSBzaG91bGQgYmUgb25lIG9mICRlcSwgJGx0ZSwgJGx0LCAkZ3QsICRndGUsICRleGlzdHMsICRuZSwgJGluLCAnICtcbiAgICAgICckbmluLCAkc2l6ZSwgJG1vZCwgJHJlZ2V4LCAkZWxlbU1hdGNoLCAkdHlwZSwgJGFsbE1hdGNoIG9yICRhbGwnKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcnNbdXNlck9wZXJhdG9yXShkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jRmllbGRWYWx1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09IFwibnVtYmVyXCIgfHxcbiAgICBwYXJzZUludChkb2NGaWVsZFZhbHVlLCAxMCkgIT09IGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZGl2aXNvciA9IHVzZXJWYWx1ZVswXTtcbiAgdmFyIG1vZCA9IHVzZXJWYWx1ZVsxXTtcblxuICByZXR1cm4gZG9jRmllbGRWYWx1ZSAlIGRpdmlzb3IgPT09IG1vZDtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgIGlmIChkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlKSA9PT0gMDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSB1c2VyVmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAodXNlclZhbHVlKTtcblxuICByZXR1cm4gcmUudGVzdChkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuXG4gIHN3aXRjaCAodXNlclZhbHVlKSB7XG4gICAgY2FzZSAnbnVsbCc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSA9PT0gbnVsbDtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnYm9vbGVhbic7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnbnVtYmVyJztcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdzdHJpbmcnO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoZG9jRmllbGRWYWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG59XG5cbnZhciBtYXRjaGVycyA9IHtcblxuICAnJGVsZW1NYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGFsbE1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGVxJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA9PT0gMDtcbiAgfSxcblxuICAnJGd0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPj0gMDtcbiAgfSxcblxuICAnJGd0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+IDA7XG4gIH0sXG5cbiAgJyRsdGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDw9IDA7XG4gIH0sXG5cbiAgJyRsdCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPCAwO1xuICB9LFxuXG4gICckZXhpc3RzJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIC8vYSBmaWVsZCB0aGF0IGlzIG51bGwgaXMgc3RpbGwgY29uc2lkZXJlZCB0byBleGlzdFxuICAgIGlmICh1c2VyVmFsdWUpIHtcbiAgICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiAhZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgfSxcblxuICAnJG1vZCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5lJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKG5lVmFsdWUpIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIG5lVmFsdWUpICE9PSAwO1xuICAgIH0pO1xuICB9LFxuICAnJGluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5pbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgIWFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckc2l6ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckYWxsJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHJlZ2V4JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgdHlwZW9mIGRvY0ZpZWxkVmFsdWUgPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChyZWdleFZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHJlZ2V4VmFsdWUpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgJyR0eXBlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfVxufTtcblxuLy8gcmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIGRvYyBtYXRjaGVzIHRoZSBzdXBwbGllZCBzZWxlY3RvclxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGRvYywgc2VsZWN0b3IpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdvYmplY3QnKSB7XG4gICAgLy8gbWF0Y2ggdGhlIENvdWNoREIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgZXJyb3I6IGV4cGVjdGVkIGEgSlNPTiBvYmplY3QnKTtcbiAgfVxuXG4gIHNlbGVjdG9yID0gbWFzc2FnZVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgdmFyIHJvdyA9IHtcbiAgICAnZG9jJzogZG9jXG4gIH07XG5cbiAgdmFyIHJvd3NNYXRjaGVkID0gZmlsdGVySW5NZW1vcnlGaWVsZHMoW3Jvd10sIHsgJ3NlbGVjdG9yJzogc2VsZWN0b3IgfSwgT2JqZWN0LmtleXMoc2VsZWN0b3IpKTtcbiAgcmV0dXJuIHJvd3NNYXRjaGVkICYmIHJvd3NNYXRjaGVkLmxlbmd0aCA9PT0gMTtcbn1cblxuZnVuY3Rpb24gZXZhbEZpbHRlcihpbnB1dCkge1xuICByZXR1cm4gc2NvcGVFdmFsKCdcInVzZSBzdHJpY3RcIjtcXG5yZXR1cm4gJyArIGlucHV0ICsgJzsnLCB7fSk7XG59XG5cbmZ1bmN0aW9uIGV2YWxWaWV3KGlucHV0KSB7XG4gIHZhciBjb2RlID0gW1xuICAgICdyZXR1cm4gZnVuY3Rpb24oZG9jKSB7JyxcbiAgICAnICBcInVzZSBzdHJpY3RcIjsnLFxuICAgICcgIHZhciBlbWl0dGVkID0gZmFsc2U7JyxcbiAgICAnICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChhLCBiKSB7JyxcbiAgICAnICAgIGVtaXR0ZWQgPSB0cnVlOycsXG4gICAgJyAgfTsnLFxuICAgICcgIHZhciB2aWV3ID0gJyArIGlucHV0ICsgJzsnLFxuICAgICcgIHZpZXcoZG9jKTsnLFxuICAgICcgIGlmIChlbWl0dGVkKSB7JyxcbiAgICAnICAgIHJldHVybiB0cnVlOycsXG4gICAgJyAgfScsXG4gICAgJ307J1xuICBdLmpvaW4oJ1xcbicpO1xuXG4gIHJldHVybiBzY29wZUV2YWwoY29kZSwge30pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShvcHRzLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciAhPT0gJ19zZWxlY3RvcicpIHtcbiAgICAgIHZhciBmaWx0ZXJOYW1lID0gdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyA/XG4gICAgICAgIG9wdHMuZmlsdGVyIDogJ2Z1bmN0aW9uJztcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ3NlbGVjdG9yIGludmFsaWQgZm9yIGZpbHRlciBcIicgKyBmaWx0ZXJOYW1lICsgJ1wiJykpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemUob3B0cykge1xuICBpZiAob3B0cy52aWV3ICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ192aWV3JztcbiAgfVxuXG4gIGlmIChvcHRzLnNlbGVjdG9yICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgICAgb3B0cy52aWV3ID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMuZmlsdGVyID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkRmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHJldHVybiBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnICYmXG4gICAgIW9wdHMuZG9jX2lkcyAmJiAhaXNSZW1vdGUoY2hhbmdlc0hhbmRsZXIuZGIpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgaWYgKCFvcHRzLnZpZXcgfHwgdHlwZW9mIG9wdHMudmlldyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgJ2B2aWV3YCBmaWx0ZXIgcGFyYW1ldGVyIG5vdCBmb3VuZCBvciBpbnZhbGlkLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGZldGNoIGEgdmlldyBmcm9tIGEgZGVzaWduIGRvYywgbWFrZSBpdCBiZWhhdmUgbGlrZSBhIGZpbHRlclxuICAgIHZhciB2aWV3TmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyB2aWV3TmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXBGdW4gPSBkZG9jICYmIGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0gJiZcbiAgICAgICAgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0ubWFwO1xuICAgICAgaWYgKCFtYXBGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgIChkZG9jLnZpZXdzID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyB2aWV3TmFtZVsxXSA6XG4gICAgICAgICAgICAnbWlzc2luZyBqc29uIGtleTogdmlld3MnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsVmlldyhtYXBGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBvcHRzLmZpbHRlciA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBvcHRzLnNlbGVjdG9yKTtcbiAgICB9O1xuICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBmZXRjaCBhIGZpbHRlciBmcm9tIGEgZGVzaWduIGRvY1xuICAgIHZhciBmaWx0ZXJOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgZmlsdGVyTmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBmaWx0ZXJGdW4gPSBkZG9jICYmIGRkb2MuZmlsdGVycyAmJiBkZG9jLmZpbHRlcnNbZmlsdGVyTmFtZVsxXV07XG4gICAgICBpZiAoIWZpbHRlckZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKChkZG9jICYmIGRkb2MuZmlsdGVycykgPyAnbWlzc2luZyBqc29uIGtleTogJyArIGZpbHRlck5hbWVbMV1cbiAgICAgICAgICAgIDogJ21pc3NpbmcganNvbiBrZXk6IGZpbHRlcnMnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsRmlsdGVyKGZpbHRlckZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbiA9IHtcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemUsXG4gICAgc2hvdWxkRmlsdGVyOiBzaG91bGRGaWx0ZXIsXG4gICAgZmlsdGVyOiBmaWx0ZXJcbiAgfTtcbn1cblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gcG91Y2hkYi1jb3JlIChicmVha2luZylcblBvdWNoREIucGx1Z2luKGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbik7XG5cblBvdWNoREIudmVyc2lvbiA9IHZlcnNpb247XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaXRlbSkge1xuICAgIG9ialtpdGVtXSA9IHRydWU7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufVxuLy8gTGlzdCBvZiB0b3AgbGV2ZWwgcmVzZXJ2ZWQgd29yZHMgZm9yIGRvY1xudmFyIHJlc2VydmVkV29yZHMgPSB0b09iamVjdChbXG4gICdfaWQnLFxuICAnX3JldicsXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gICdfZGVsZXRlZCcsXG4gICdfcmV2aXNpb25zJyxcbiAgJ19yZXZzX2luZm8nLFxuICAnX2NvbmZsaWN0cycsXG4gICdfZGVsZXRlZF9jb25mbGljdHMnLFxuICAnX2xvY2FsX3NlcScsXG4gICdfcmV2X3RyZWUnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnLFxuICAvLyBTcGVjaWZpYyB0byBDb3VjaGJhc2UgU3luYyBHYXRld2F5XG4gICdfcmVtb3ZlZCdcbl0pO1xuXG4vLyBMaXN0IG9mIHJlc2VydmVkIHdvcmRzIHRoYXQgc2hvdWxkIGVuZCB1cCBpbiB0aGUgZG9jdW1lbnRcbnZhciBkYXRhV29yZHMgPSB0b09iamVjdChbXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cydcbl0pO1xuXG5mdW5jdGlvbiBwYXJzZVJldmlzaW9uSW5mbyhyZXYpIHtcbiAgaWYgKCEvXlxcZCstLy50ZXN0KHJldikpIHtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpO1xuICB9XG4gIHZhciBpZHggPSByZXYuaW5kZXhPZignLScpO1xuICB2YXIgbGVmdCA9IHJldi5zdWJzdHJpbmcoMCwgaWR4KTtcbiAgdmFyIHJpZ2h0ID0gcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgcmV0dXJuIHtcbiAgICBwcmVmaXg6IHBhcnNlSW50KGxlZnQsIDEwKSxcbiAgICBpZDogcmlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKHJldmlzaW9ucywgb3B0cykge1xuICB2YXIgcG9zID0gcmV2aXNpb25zLnN0YXJ0IC0gcmV2aXNpb25zLmlkcy5sZW5ndGggKyAxO1xuXG4gIHZhciByZXZpc2lvbklkcyA9IHJldmlzaW9ucy5pZHM7XG4gIHZhciBpZHMgPSBbcmV2aXNpb25JZHNbMF0sIG9wdHMsIFtdXTtcblxuICBmb3IgKHZhciBpID0gMSwgbGVuID0gcmV2aXNpb25JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZHMgPSBbcmV2aXNpb25JZHNbaV0sIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtpZHNdXTtcbiAgfVxuXG4gIHJldHVybiBbe1xuICAgIHBvczogcG9zLFxuICAgIGlkczogaWRzXG4gIH1dO1xufVxuXG4vLyBQcmVwcm9jZXNzIGRvY3VtZW50cywgcGFyc2UgdGhlaXIgcmV2aXNpb25zLCBhc3NpZ24gYW4gaWQgYW5kIGFcbi8vIHJldmlzaW9uIGZvciBuZXcgd3JpdGVzIHRoYXQgYXJlIG1pc3NpbmcgdGhlbSwgZXRjXG5mdW5jdGlvbiBwYXJzZURvYyhkb2MsIG5ld0VkaXRzLCBkYk9wdHMpIHtcbiAgaWYgKCFkYk9wdHMpIHtcbiAgICBkYk9wdHMgPSB7XG4gICAgICBkZXRlcm1pbmlzdGljX3JldnM6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgdmFyIG5SZXZOdW07XG4gIHZhciBuZXdSZXZJZDtcbiAgdmFyIHJldkluZm87XG4gIHZhciBvcHRzID0ge3N0YXR1czogJ2F2YWlsYWJsZSd9O1xuICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgb3B0cy5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChuZXdFZGl0cykge1xuICAgIGlmICghZG9jLl9pZCkge1xuICAgICAgZG9jLl9pZCA9IHV1aWQoKTtcbiAgICB9XG4gICAgbmV3UmV2SWQgPSByZXYkJDEoZG9jLCBkYk9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzKTtcbiAgICBpZiAoZG9jLl9yZXYpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IHJldkluZm8ucHJlZml4LFxuICAgICAgICBpZHM6IFtyZXZJbmZvLmlkLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbW25ld1JldklkLCBvcHRzLCBbXV1dXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXggKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiAxLFxuICAgICAgICBpZHMgOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRvYy5fcmV2aXNpb25zKSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKGRvYy5fcmV2aXNpb25zLCBvcHRzKTtcbiAgICAgIG5SZXZOdW0gPSBkb2MuX3JldmlzaW9ucy5zdGFydDtcbiAgICAgIG5ld1JldklkID0gZG9jLl9yZXZpc2lvbnMuaWRzWzBdO1xuICAgIH1cbiAgICBpZiAoIWRvYy5fcmV2X3RyZWUpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeDtcbiAgICAgIG5ld1JldklkID0gcmV2SW5mby5pZDtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IG5SZXZOdW0sXG4gICAgICAgIGlkczogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgIH1cbiAgfVxuXG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuXG4gIGRvYy5fcmV2ID0gblJldk51bSArICctJyArIG5ld1JldklkO1xuXG4gIHZhciByZXN1bHQgPSB7bWV0YWRhdGEgOiB7fSwgZGF0YSA6IHt9fTtcbiAgZm9yICh2YXIga2V5IGluIGRvYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MsIGtleSkpIHtcbiAgICAgIHZhciBzcGVjaWFsS2V5ID0ga2V5WzBdID09PSAnXyc7XG4gICAgICBpZiAoc3BlY2lhbEtleSAmJiAhcmVzZXJ2ZWRXb3Jkc1trZXldKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGNyZWF0ZUVycm9yKERPQ19WQUxJREFUSU9OLCBrZXkpO1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gRE9DX1ZBTElEQVRJT04ubWVzc2FnZSArICc6ICcgKyBrZXk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBlbHNlIGlmIChzcGVjaWFsS2V5ICYmICFkYXRhV29yZHNba2V5XSkge1xuICAgICAgICByZXN1bHQubWV0YWRhdGFba2V5LnNsaWNlKDEpXSA9IGRvY1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmRhdGFba2V5XSA9IGRvY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2U2NChkYXRhKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXNBdG9iKGRhdGEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgcmV0dXJuIHtlcnJvcjogZXJyfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBhc0JpbmFyeSA9IHBhcnNlQmFzZTY0KGF0dC5kYXRhKTtcbiAgaWYgKGFzQmluYXJ5LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGFzQmluYXJ5LmVycm9yKTtcbiAgfVxuXG4gIGF0dC5sZW5ndGggPSBhc0JpbmFyeS5sZW5ndGg7XG4gIGlmIChibG9iVHlwZSA9PT0gJ2Jsb2InKSB7XG4gICAgYXR0LmRhdGEgPSBiaW5TdHJpbmdUb0JsdWZmZXIoYXNCaW5hcnksIGF0dC5jb250ZW50X3R5cGUpO1xuICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgIGF0dC5kYXRhID0gdGhpc0J0b2EoYXNCaW5hcnkpO1xuICB9IGVsc2UgeyAvLyBiaW5hcnlcbiAgICBhdHQuZGF0YSA9IGFzQmluYXJ5O1xuICB9XG4gIGJpbmFyeU1kNShhc0JpbmFyeSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyByZXN1bHQ7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGJpbmFyeU1kNShhdHQuZGF0YSwgZnVuY3Rpb24gKG1kNSkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyBtZDU7XG4gICAgLy8gc2l6ZSBpcyBmb3IgYmxvYnMgKGJyb3dzZXIpLCBsZW5ndGggaXMgZm9yIGJ1ZmZlcnMgKG5vZGUpXG4gICAgYXR0Lmxlbmd0aCA9IGF0dC5kYXRhLnNpemUgfHwgYXR0LmRhdGEubGVuZ3RoIHx8IDA7XG4gICAgaWYgKGJsb2JUeXBlID09PSAnYmluYXJ5Jykge1xuICAgICAgYmxvYlRvQmluYXJ5U3RyaW5nKGF0dC5kYXRhLCBmdW5jdGlvbiAoYmluU3RyaW5nKSB7XG4gICAgICAgIGF0dC5kYXRhID0gYmluU3RyaW5nO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICAgIGJsb2JUb0Jhc2U2NChhdHQuZGF0YSwgZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHQuZGF0YSA9IGI2NDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50KGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmIChhdHQuc3R1Yikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG4gIGlmICh0eXBlb2YgYXR0LmRhdGEgPT09ICdzdHJpbmcnKSB7IC8vIGlucHV0IGlzIGEgYmFzZTY0IHN0cmluZ1xuICAgIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9IGVsc2UgeyAvLyBpbnB1dCBpcyBhIGJsb2JcbiAgICBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgY2FsbGJhY2spIHtcblxuICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIGRvY3YgPSAwO1xuICB2YXIgb3ZlcmFsbEVycjtcblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgP1xuICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykgOiBbXTtcbiAgICB2YXIgcmVjdiA9IDA7XG5cbiAgICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzZWRBdHRhY2htZW50KGVycikge1xuICAgICAgb3ZlcmFsbEVyciA9IGVycjtcbiAgICAgIHJlY3YrKztcbiAgICAgIGlmIChyZWN2ID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgcHJlcHJvY2Vzc0F0dGFjaG1lbnQoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldLFxuICAgICAgICAgIGJsb2JUeXBlLCBwcm9jZXNzZWRBdHRhY2htZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgZG9jdisrO1xuICAgIGlmIChkb2NJbmZvcy5sZW5ndGggPT09IGRvY3YpIHtcbiAgICAgIGlmIChvdmVyYWxsRXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKG92ZXJhbGxFcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRG9jKHJldkxpbWl0LCBwcmV2LCBkb2NJbmZvLCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgIGksIGNiLCB3cml0ZURvYywgbmV3RWRpdHMpIHtcblxuICBpZiAocmV2RXhpc3RzKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2KSAmJiAhbmV3RWRpdHMpIHtcbiAgICByZXN1bHRzW2ldID0gZG9jSW5mbztcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIC8vIHNvbWV0aW1lcyB0aGlzIGlzIHByZS1jYWxjdWxhdGVkLiBoaXN0b3JpY2FsbHkgbm90IGFsd2F5c1xuICB2YXIgcHJldmlvdXNXaW5uaW5nUmV2ID0gcHJldi53aW5uaW5nUmV2IHx8IHdpbm5pbmdSZXYocHJldik7XG4gIHZhciBwcmV2aW91c2x5RGVsZXRlZCA9ICdkZWxldGVkJyBpbiBwcmV2ID8gcHJldi5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQocHJldiwgcHJldmlvdXNXaW5uaW5nUmV2KTtcbiAgdmFyIGRlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gZG9jSW5mby5tZXRhZGF0YSA/IGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgaXNSb290ID0gL14xLS8udGVzdChkb2NJbmZvLm1ldGFkYXRhLnJldik7XG5cbiAgaWYgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG5ld0VkaXRzICYmIGlzUm9vdCkge1xuICAgIHZhciBuZXdEb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgbmV3RG9jLl9yZXYgPSBwcmV2aW91c1dpbm5pbmdSZXY7XG4gICAgbmV3RG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jSW5mbyA9IHBhcnNlRG9jKG5ld0RvYywgbmV3RWRpdHMpO1xuICB9XG5cbiAgdmFyIG1lcmdlZCA9IG1lcmdlKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcblxuICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmICgoXG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmIGRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAoIXByZXZpb3VzbHlEZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgPT09ICduZXdfYnJhbmNoJykpKTtcblxuICBpZiAoaW5Db25mbGljdCkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIHJlc3VsdHNbaV0gPSBlcnI7XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICB2YXIgbmV3UmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG4gIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgZG9jSW5mby5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHByZXYucmV2X21hcCkge1xuICAgIGRvY0luZm8ubWV0YWRhdGEucmV2X21hcCA9IHByZXYucmV2X21hcDsgLy8gdXNlZCBvbmx5IGJ5IGxldmVsZGJcbiAgfVxuXG4gIC8vIHJlY2FsY3VsYXRlXG4gIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIHdpbm5pbmdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBhZGRlZC9yZW1vdmVkLFxuICAvLyBmcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiB0b3RhbF9yb3dzL2RvY19jb3VudFxuICB2YXIgZGVsdGEgPSAocHJldmlvdXNseURlbGV0ZWQgPT09IHdpbm5pbmdSZXZJc0RlbGV0ZWQpID8gMCA6XG4gICAgcHJldmlvdXNseURlbGV0ZWQgPCB3aW5uaW5nUmV2SXNEZWxldGVkID8gLTEgOiAxO1xuXG4gIHZhciBuZXdSZXZJc0RlbGV0ZWQ7XG4gIGlmIChuZXdSZXYgPT09IHdpbm5pbmdSZXYkJDEpIHtcbiAgICAvLyBpZiB0aGUgbmV3IHJldiBpcyB0aGUgc2FtZSBhcyB0aGUgd2lubmluZyByZXYsIHdlIGNhbiByZXVzZSB0aGF0IHZhbHVlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGV5J3JlIG5vdCB0aGUgc2FtZSwgdGhlbiB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIG5ld1Jldik7XG4gIH1cblxuICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgdHJ1ZSwgZGVsdGEsIGksIGNiKTtcbn1cblxuZnVuY3Rpb24gcm9vdElzTWlzc2luZyhkb2NJbmZvKSB7XG4gIHJldHVybiBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLmlkc1sxXS5zdGF0dXMgPT09ICdtaXNzaW5nJztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0RvY3MocmV2TGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLCB0eCwgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgIHdyaXRlRG9jLCBvcHRzLCBvdmVyYWxsQ2FsbGJhY2spIHtcblxuICAvLyBEZWZhdWx0IHRvIDEwMDAgbG9jYWxseVxuICByZXZMaW1pdCA9IHJldkxpbWl0IHx8IDEwMDA7XG5cbiAgZnVuY3Rpb24gaW5zZXJ0RG9jKGRvY0luZm8sIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG4gICAgLy8gQ2FudCBpbnNlcnQgbmV3IGRlbGV0ZWQgZG9jdW1lbnRzXG4gICAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuICAgIGlmICgnd2FzX2RlbGV0ZScgaW4gb3B0cyAmJiBkZWxldGVkKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdkZWxldGVkJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyA0NzEyIC0gZGV0ZWN0IHdoZXRoZXIgYSBuZXcgZG9jdW1lbnQgd2FzIGluc2VydGVkIHdpdGggYSBfcmV2XG4gICAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiByb290SXNNaXNzaW5nKGRvY0luZm8pO1xuXG4gICAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVycjtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IGRlbGV0ZWQgPyAwIDogMTtcblxuICAgIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQsIGRlbGV0ZWQsIGZhbHNlLFxuICAgICAgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBuZXdFZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuICB2YXIgaWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIGRvY3NEb25lID0gMDtcbiAgdmFyIGRvY3NUb0RvID0gZG9jSW5mb3MubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrQWxsRG9jc0RvbmUoKSB7XG4gICAgaWYgKCsrZG9jc0RvbmUgPT09IGRvY3NUb0RvICYmIG92ZXJhbGxDYWxsYmFjaykge1xuICAgICAgb3ZlcmFsbENhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudERvYywgcmVzdWx0c0lkeCkge1xuXG4gICAgaWYgKGN1cnJlbnREb2MuX2lkICYmIGlzTG9jYWxJZChjdXJyZW50RG9jLl9pZCkpIHtcbiAgICAgIHZhciBmdW4gPSBjdXJyZW50RG9jLl9kZWxldGVkID8gJ19yZW1vdmVMb2NhbCcgOiAnX3B1dExvY2FsJztcbiAgICAgIGFwaVtmdW5dKGN1cnJlbnREb2MsIHtjdHg6IHR4fSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnIgfHwgcmVzO1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWQgPSBjdXJyZW50RG9jLm1ldGFkYXRhLmlkO1xuICAgIGlmIChpZHNUb0RvY3MuaGFzKGlkKSkge1xuICAgICAgZG9jc1RvRG8tLTsgLy8gZHVwbGljYXRlXG4gICAgICBpZHNUb0RvY3MuZ2V0KGlkKS5wdXNoKFtjdXJyZW50RG9jLCByZXN1bHRzSWR4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkc1RvRG9jcy5zZXQoaWQsIFtbY3VycmVudERvYywgcmVzdWx0c0lkeF1dKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIG5ld19lZGl0cywgdGhlIHVzZXIgY2FuIHByb3ZpZGUgbXVsdGlwbGUgZG9jc1xuICAvLyB3aXRoIHRoZSBzYW1lIGlkLiB0aGVzZSBuZWVkIHRvIGJlIHByb2Nlc3NlZCBzZXF1ZW50aWFsbHlcbiAgaWRzVG9Eb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvY3MsIGlkKSB7XG4gICAgdmFyIG51bURvbmUgPSAwO1xuXG4gICAgZnVuY3Rpb24gZG9jV3JpdHRlbigpIHtcbiAgICAgIGlmICgrK251bURvbmUgPCBkb2NzLmxlbmd0aCkge1xuICAgICAgICBuZXh0RG9jKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHREb2MoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBkb2NzW251bURvbmVdO1xuICAgICAgdmFyIGN1cnJlbnREb2MgPSB2YWx1ZVswXTtcbiAgICAgIHZhciByZXN1bHRzSWR4ID0gdmFsdWVbMV07XG5cbiAgICAgIGlmIChmZXRjaGVkRG9jcy5oYXMoaWQpKSB7XG4gICAgICAgIHVwZGF0ZURvYyhyZXZMaW1pdCwgZmV0Y2hlZERvY3MuZ2V0KGlkKSwgY3VycmVudERvYywgcmVzdWx0cyxcbiAgICAgICAgICByZXN1bHRzSWR4LCBkb2NXcml0dGVuLCB3cml0ZURvYywgbmV3RWRpdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5zdXJlIHN0ZW1taW5nIGFwcGxpZXMgdG8gbmV3IHdyaXRlcyBhcyB3ZWxsXG4gICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZShbXSwgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuICAgICAgICBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gICAgICAgIGN1cnJlbnREb2Muc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gICAgICAgIGluc2VydERvYyhjdXJyZW50RG9jLCByZXN1bHRzSWR4LCBkb2NXcml0dGVuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dERvYygpO1xuICB9KTtcbn1cblxuLy8gSW5kZXhlZERCIHJlcXVpcmVzIGEgdmVyc2lvbmVkIGRhdGFiYXNlIHN0cnVjdHVyZSwgc28gd2UgdXNlIHRoZVxuLy8gdmVyc2lvbiBoZXJlIHRvIG1hbmFnZSBtaWdyYXRpb25zLlxudmFyIEFEQVBURVJfVkVSU0lPTiA9IDU7XG5cbi8vIFRoZSBvYmplY3Qgc3RvcmVzIGNyZWF0ZWQgZm9yIGVhY2ggZGF0YWJhc2Vcbi8vIERPQ19TVE9SRSBzdG9yZXMgdGhlIGRvY3VtZW50IG1ldGEgZGF0YSwgaXRzIHJldmlzaW9uIGhpc3RvcnkgYW5kIHN0YXRlXG4vLyBLZXllZCBieSBkb2N1bWVudCBpZFxudmFyIERPQ19TVE9SRSA9ICdkb2N1bWVudC1zdG9yZSc7XG4vLyBCWV9TRVFfU1RPUkUgc3RvcmVzIGEgcGFydGljdWxhciB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQsIGtleWVkIGJ5IGl0c1xuLy8gc2VxdWVuY2UgaWRcbnZhciBCWV9TRVFfU1RPUkUgPSAnYnktc2VxdWVuY2UnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgYXR0YWNobWVudHNcbnZhciBBVFRBQ0hfU1RPUkUgPSAnYXR0YWNoLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIG1hbnktdG8tbWFueSByZWxhdGlvbnNcbi8vIGJldHdlZW4gYXR0YWNobWVudCBkaWdlc3RzIGFuZCBzZXFzXG52YXIgQVRUQUNIX0FORF9TRVFfU1RPUkUgPSAnYXR0YWNoLXNlcS1zdG9yZSc7XG5cbi8vIFdoZXJlIHdlIHN0b3JlIGRhdGFiYXNlLXdpZGUgbWV0YSBkYXRhIGluIGEgc2luZ2xlIHJlY29yZFxuLy8ga2V5ZWQgYnkgaWQ6IE1FVEFfU1RPUkVcbnZhciBNRVRBX1NUT1JFID0gJ21ldGEtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbG9jYWwgZG9jdW1lbnRzXG52YXIgTE9DQUxfU1RPUkUgPSAnbG9jYWwtc3RvcmUnO1xuLy8gV2hlcmUgd2UgZGV0ZWN0IGJsb2Igc3VwcG9ydFxudmFyIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUgPSAnZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG5cbmZ1bmN0aW9uIHNhZmVKc29uUGFyc2Uoc3RyKSB7XG4gIC8vIFRoaXMgdHJ5L2NhdGNoIGd1YXJkcyBhZ2FpbnN0IHN0YWNrIG92ZXJmbG93IGVycm9ycy5cbiAgLy8gSlNPTi5wYXJzZSgpIGlzIGZhc3RlciB0aGFuIHZ1dnV6ZWxhLnBhcnNlKCkgYnV0IHZ1dnV6ZWxhXG4gIC8vIGNhbm5vdCBvdmVyZmxvdy5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEucGFyc2Uoc3RyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlSnNvblN0cmluZ2lmeShqc29uKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEuc3RyaW5naWZ5KGpzb24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlkYkVycm9yKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAndW5rbm93bl9lcnJvcic7XG4gICAgaWYgKGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC5lcnJvcikge1xuICAgICAgbWVzc2FnZSA9IGV2dC50YXJnZXQuZXJyb3IubmFtZSB8fCBldnQudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbWVzc2FnZSwgZXZ0LnR5cGUpKTtcbiAgfTtcbn1cblxuLy8gVW5mb3J0dW5hdGVseSwgdGhlIG1ldGFkYXRhIGhhcyB0byBiZSBzdHJpbmdpZmllZFxuLy8gd2hlbiBpdCBpcyBwdXQgaW50byB0aGUgZGF0YWJhc2UsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4vLyBJbmRleGVkREIgY2FuIHRocm93IGVycm9ycyBmb3IgZGVlcGx5LW5lc3RlZCBvYmplY3RzLlxuLy8gT3JpZ2luYWxseSB3ZSBqdXN0IHVzZWQgSlNPTi5wYXJzZS9KU09OLnN0cmluZ2lmeTsgbm93XG4vLyB3ZSB1c2UgdGhpcyBjdXN0b20gdnV2dXplbGEgbGlicmFyeSB0aGF0IGF2b2lkcyByZWN1cnNpb24uXG4vLyBJZiB3ZSBjb3VsZCBkbyBpdCBhbGwgb3ZlciBhZ2Fpbiwgd2UnZCBwcm9iYWJseSB1c2UgYVxuLy8gZm9ybWF0IGZvciB0aGUgcmV2aXNpb24gdHJlZXMgb3RoZXIgdGhhbiBKU09OLlxuZnVuY3Rpb24gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYsIGRlbGV0ZWQpIHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBzYWZlSnNvblN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgd2lubmluZ1Jldjogd2lubmluZ1JldixcbiAgICBkZWxldGVkT3JMb2NhbDogZGVsZXRlZCA/ICcxJyA6ICcwJyxcbiAgICBzZXE6IG1ldGFkYXRhLnNlcSwgLy8gaGlnaGVzdCBzZXEgZm9yIHRoaXMgZG9jXG4gICAgaWQ6IG1ldGFkYXRhLmlkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCkge1xuICBpZiAoIXN0b3JlZE9iamVjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtZXRhZGF0YSA9IHNhZmVKc29uUGFyc2Uoc3RvcmVkT2JqZWN0LmRhdGEpO1xuICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gc3RvcmVkT2JqZWN0Lndpbm5pbmdSZXY7XG4gIG1ldGFkYXRhLmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgbWV0YWRhdGEuc2VxID0gc3RvcmVkT2JqZWN0LnNlcTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG4vLyByZWFkIHRoZSBkb2MgYmFjayBvdXQgZnJvbSB0aGUgZGF0YWJhc2UuIHdlIGRvbid0IHN0b3JlIHRoZVxuLy8gX2lkIG9yIF9yZXYgYmVjYXVzZSB3ZSBhbHJlYWR5IGhhdmUgX2RvY19pZF9yZXYuXG5mdW5jdGlvbiBkZWNvZGVEb2MoZG9jKSB7XG4gIGlmICghZG9jKSB7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB2YXIgaWR4ID0gZG9jLl9kb2NfaWRfcmV2Lmxhc3RJbmRleE9mKCc6Jyk7XG4gIGRvYy5faWQgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKDAsIGlkeCAtIDEpO1xuICBkb2MuX3JldiA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIGRlbGV0ZSBkb2MuX2RvY19pZF9yZXY7XG4gIHJldHVybiBkb2M7XG59XG5cbi8vIFJlYWQgYSBibG9iIGZyb20gdGhlIGRhdGFiYXNlLCBlbmNvZGluZyBhcyBuZWNlc3Nhcnlcbi8vIGFuZCB0cmFuc2xhdGluZyBmcm9tIGJhc2U2NCBpZiB0aGUgSURCIGRvZXNuJ3Qgc3VwcG9ydFxuLy8gbmF0aXZlIEJsb2JzXG5mdW5jdGlvbiByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBjYWxsYmFjaykge1xuICBpZiAoYXNCbG9iKSB7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVCbG9iKFsnJ10sIHt0eXBlOiB0eXBlfSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGI2NFRvQmx1ZmZlcihib2R5LCB0eXBlKSk7XG4gICAgfVxuICB9IGVsc2UgeyAvLyBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjaygnJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIHJlYWRBc0JpbmFyeVN0cmluZyhib2R5LCBmdW5jdGlvbiAoYmluYXJ5KSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJpbmFyeSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KGRvYywgb3B0cywgdHhuLCBjYikge1xuICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2IgJiYgY2IoKTtcbiAgfVxuICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCAmJiBjYikge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpIHtcbiAgICB2YXIgYXR0T2JqID0gZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgIHZhciBkaWdlc3QgPSBhdHRPYmouZGlnZXN0O1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGF0dE9iai5ib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9O1xuICB9XG5cbiAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoYXR0KSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIElEQi1zcGVjaWZpYyBwb3N0cHJvY2Vzc2luZyBuZWNlc3NhcnkgYmVjYXVzZVxuLy8gd2UgZG9uJ3Qga25vdyB3aGV0aGVyIHdlIHN0b3JlZCBhIHRydWUgQmxvYiBvclxuLy8gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcsIGFuZCBpZiBpdCdzIGEgQmxvYiBpdFxuLy8gbmVlZHMgdG8gYmUgcmVhZCBvdXRzaWRlIG9mIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0XG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIGFzQmxvYikge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cy5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIGlmIChyb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0TmFtZXMgPSBPYmplY3Qua2V5cyhyb3cuZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYXR0TmFtZXMubWFwKGZ1bmN0aW9uIChhdHQpIHtcbiAgICAgICAgdmFyIGF0dE9iaiA9IHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgICAgIGlmICghKCdib2R5JyBpbiBhdHRPYmopKSB7IC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gYXR0T2JqLmJvZHk7XG4gICAgICAgIHZhciB0eXBlID0gYXR0T2JqLmNvbnRlbnRfdHlwZTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oXG4gICAgICAgICAgICAgIHBpY2soYXR0T2JqLCBbJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnXSksXG4gICAgICAgICAgICAgIHtkYXRhOiBkYXRhfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pIHtcblxuICB2YXIgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMgPSBbXTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICB2YXIgY291bnQgPSByZXZzLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgY291bnQtLTtcbiAgICBpZiAoIWNvdW50KSB7IC8vIGRvbmUgcHJvY2Vzc2luZyBhbGwgcmV2c1xuICAgICAgZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKSB7XG4gICAgaWYgKCFwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2YXIgY291bnRSZXEgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnZGlnZXN0U2VxJykuY291bnQoXG4gICAgICAgIElEQktleVJhbmdlLmJvdW5kKFxuICAgICAgICAgIGRpZ2VzdCArICc6OicsIGRpZ2VzdCArICc6OlxcdWZmZmYnLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgIGNvdW50UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIC8vIG9ycGhhbmVkXG4gICAgICAgICAgYXR0U3RvcmUuZGVsZXRlKGRpZ2VzdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICByZXZzLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgIHZhciBrZXkgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICBpbmRleC5nZXRLZXkoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2Ygc2VxICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gY2hlY2tEb25lKCk7XG4gICAgICB9XG4gICAgICBzZXFTdG9yZS5kZWxldGUoc2VxKTtcblxuICAgICAgdmFyIGN1cnNvciA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdzZXEnKVxuICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KHNlcSkpO1xuXG4gICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGN1cnNvci52YWx1ZS5kaWdlc3RTZXEuc3BsaXQoJzo6JylbMF07XG4gICAgICAgICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMucHVzaChkaWdlc3QpO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH0gZWxzZSB7IC8vIGRvbmVcbiAgICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCBtb2RlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR4bjogaWRiLnRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVyclxuICAgIH07XG4gIH1cbn1cblxudmFyIGNoYW5nZXNIYW5kbGVyID0gbmV3IENoYW5nZXMoKTtcblxuZnVuY3Rpb24gaWRiQnVsa0RvY3MoZGJPcHRzLCByZXEsIG9wdHMsIGFwaSwgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgZG9jSW5mb3MgPSByZXEuZG9jcztcbiAgdmFyIHR4bjtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGF0dGFjaFN0b3JlO1xuICB2YXIgYXR0YWNoQW5kU2VxU3RvcmU7XG4gIHZhciBtZXRhU3RvcmU7XG4gIHZhciBkb2NJbmZvRXJyb3I7XG4gIHZhciBtZXRhRG9jO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NJbmZvc1tpXTtcbiAgICBpZiAoZG9jLl9pZCAmJiBpc0xvY2FsSWQoZG9jLl9pZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBkb2MgPSBkb2NJbmZvc1tpXSA9IHBhcnNlRG9jKGRvYywgb3B0cy5uZXdfZWRpdHMsIGRiT3B0cyk7XG4gICAgaWYgKGRvYy5lcnJvciAmJiAhZG9jSW5mb0Vycm9yKSB7XG4gICAgICBkb2NJbmZvRXJyb3IgPSBkb2M7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvY0luZm9FcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhkb2NJbmZvRXJyb3IpO1xuICB9XG5cbiAgdmFyIGFsbERvY3NQcm9jZXNzZWQgPSBmYWxzZTtcbiAgdmFyIGRvY0NvdW50RGVsdGEgPSAwO1xuICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShkb2NJbmZvcy5sZW5ndGgpO1xuICB2YXIgZmV0Y2hlZERvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgdmFyIHByZWNvbmRpdGlvbkVycm9yZWQgPSBmYWxzZTtcbiAgdmFyIGJsb2JUeXBlID0gYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2Jsb2InIDogJ2Jhc2U2NCc7XG5cbiAgcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBzdGFydFRyYW5zYWN0aW9uKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0VHJhbnNhY3Rpb24oKSB7XG5cbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBMT0NBTF9TVE9SRSwgQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICBNRVRBX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9udGltZW91dCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIGF0dGFjaFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgYXR0YWNoQW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICAgIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcblxuICAgIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgdmVyaWZ5QXR0YWNobWVudHMoZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcmVjb25kaXRpb25FcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBmZXRjaEV4aXN0aW5nRG9jcygpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25BbGxEb2NzUHJvY2Vzc2VkKCkge1xuICAgIGFsbERvY3NQcm9jZXNzZWQgPSB0cnVlO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaWRiUHJvY2Vzc0RvY3MoKSB7XG4gICAgcHJvY2Vzc0RvY3MoZGJPcHRzLnJldnNfbGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLFxuICAgICAgICAgICAgICAgIHR4biwgcmVzdWx0cywgd3JpdGVEb2MsIG9wdHMsIG9uQWxsRG9jc1Byb2Nlc3NlZCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVEb2NDb3VudElmUmVhZHkoKSB7XG4gICAgaWYgKCFtZXRhRG9jIHx8ICFhbGxEb2NzUHJvY2Vzc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNhY2hpbmcgdGhlIGRvY0NvdW50IHNhdmVzIGEgbG90IG9mIHRpbWUgaW4gYWxsRG9jcygpIGFuZFxuICAgIC8vIGluZm8oKSwgd2hpY2ggaXMgd2h5IHdlIGdvIHRvIGFsbCB0aGUgdHJvdWJsZSBvZiBkb2luZyB0aGlzXG4gICAgbWV0YURvYy5kb2NDb3VudCArPSBkb2NDb3VudERlbHRhO1xuICAgIG1ldGFTdG9yZS5wdXQobWV0YURvYyk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEV4aXN0aW5nRG9jcygpIHtcblxuICAgIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG51bUZldGNoZWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRmV0Y2hlZCA9PT0gZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICAgIGlkYlByb2Nlc3NEb2NzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZE1ldGFkYXRhKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcblxuICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgIGZldGNoZWREb2NzLnNldChtZXRhZGF0YS5pZCwgbWV0YWRhdGEpO1xuICAgICAgfVxuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZG9jSW5mbyA9IGRvY0luZm9zW2ldO1xuICAgICAgaWYgKGRvY0luZm8uX2lkICYmIGlzTG9jYWxJZChkb2NJbmZvLl9pZCkpIHtcbiAgICAgICAgY2hlY2tEb25lKCk7IC8vIHNraXAgbG9jYWwgZG9jc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5nZXQoZG9jSW5mby5tZXRhZGF0YS5pZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gcmVhZE1ldGFkYXRhO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIGlmIChwcmVjb25kaXRpb25FcnJvcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGFwaS5fbWV0YS5uYW1lKTtcbiAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlcSA9IGF0dGFjaFN0b3JlLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfU1RVQixcbiAgICAgICAgICAndW5rbm93biBzdHViIGF0dGFjaG1lbnQgd2l0aCBkaWdlc3QgJyArXG4gICAgICAgICAgZGlnZXN0KTtcbiAgICAgICAgZXJyLnN0YXR1cyA9IDQxMjtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnRzKGZpbmlzaCkge1xuXG5cbiAgICB2YXIgZGlnZXN0cyA9IFtdO1xuICAgIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICAgIGlmIChkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXTtcbiAgICAgICAgICBpZiAoYXR0LnN0dWIpIHtcbiAgICAgICAgICAgIGRpZ2VzdHMucHVzaChhdHQuZGlnZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICB9XG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1Eb25lID09PSBkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBmdW5jdGlvbiAoYXR0RXJyKSB7XG4gICAgICAgIGlmIChhdHRFcnIgJiYgIWVycikge1xuICAgICAgICAgIGVyciA9IGF0dEVycjtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICBkb2NJbmZvLm1ldGFkYXRhLndpbm5pbmdSZXYgPSB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIGRvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvYy5fcmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG5cbiAgICBpZiAobmV3UmV2SXNEZWxldGVkKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBoYXNBdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgJiZcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICBpZiAoaGFzQXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZG9jQ291bnREZWx0YSArPSBkZWx0YTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcblxuICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIHZhciBtZXRhZGF0YSA9IGRvY0luZm8ubWV0YWRhdGE7XG5cbiAgICBkb2MuX2RvY19pZF9yZXYgPSBtZXRhZGF0YS5pZCArICc6OicgKyBtZXRhZGF0YS5yZXY7XG4gICAgZGVsZXRlIGRvYy5faWQ7XG4gICAgZGVsZXRlIGRvYy5fcmV2O1xuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2MoZSkge1xuICAgICAgdmFyIHJldnNUb0RlbGV0ZSA9IGRvY0luZm8uc3RlbW1lZFJldnMgfHwgW107XG5cbiAgICAgIGlmIChpc1VwZGF0ZSAmJiBhcGkuYXV0b19jb21wYWN0aW9uKSB7XG4gICAgICAgIHJldnNUb0RlbGV0ZSA9IHJldnNUb0RlbGV0ZS5jb25jYXQoY29tcGFjdFRyZWUoZG9jSW5mby5tZXRhZGF0YSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmV2c1RvRGVsZXRlICYmIHJldnNUb0RlbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgY29tcGFjdFJldnMocmV2c1RvRGVsZXRlLCBkb2NJbmZvLm1ldGFkYXRhLmlkLCB0eG4pO1xuICAgICAgfVxuXG4gICAgICBtZXRhZGF0YS5zZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAvLyBDdXJyZW50IF9yZXYgaXMgY2FsY3VsYXRlZCBmcm9tIF9yZXZfdHJlZSBvbiByZWFkXG4gICAgICAvLyBkZWxldGUgbWV0YWRhdGEucmV2O1xuICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLFxuICAgICAgICB3aW5uaW5nUmV2SXNEZWxldGVkKTtcbiAgICAgIHZhciBtZXRhRGF0YVJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgbWV0YURhdGFSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXRNZXRhZGF0YTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvY0Vycm9yKGUpIHtcbiAgICAgIC8vIENvbnN0cmFpbnRFcnJvciwgbmVlZCB0byB1cGRhdGUsIG5vdCBwdXQgKHNlZSAjMTYzOCBmb3IgZGV0YWlscylcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIHZhciBpbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICB2YXIgZ2V0S2V5UmVxID0gaW5kZXguZ2V0S2V5KGRvYy5fZG9jX2lkX3Jldik7XG4gICAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYywgZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dE1ldGFkYXRhKCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgICAgcmV2OiBtZXRhZGF0YS5yZXZcbiAgICAgIH07XG4gICAgICBmZXRjaGVkRG9jcy5zZXQoZG9jSW5mby5tZXRhZGF0YS5pZCwgZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgICBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgbWV0YWRhdGEuc2VxLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYyk7XG5cbiAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgcHV0UmVxLm9uZXJyb3IgPSBhZnRlclB1dERvY0Vycm9yO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdFJlc3VsdHMoKSB7XG4gICAgICBpZiAobnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YWNobWVudFNhdmVkKCkge1xuICAgICAgbnVtRG9uZSsrO1xuICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICB9XG5cbiAgICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICBpZiAoIWF0dC5zdHViKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXR0LmRhdGE7XG4gICAgICAgIGRlbGV0ZSBhdHQuZGF0YTtcbiAgICAgICAgYXR0LnJldnBvcyA9IHBhcnNlSW50KHdpbm5pbmdSZXYkJDEsIDEwKTtcbiAgICAgICAgdmFyIGRpZ2VzdCA9IGF0dC5kaWdlc3Q7XG4gICAgICAgIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgYXR0YWNobWVudFNhdmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bURvbmUrKztcbiAgICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG1hcCBzZXFzIHRvIGF0dGFjaG1lbnQgZGlnZXN0cywgd2hpY2hcbiAgLy8gd2Ugd2lsbCBuZWVkIGxhdGVyIGR1cmluZyBjb21wYWN0aW9uXG4gIGZ1bmN0aW9uIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBzZXEsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgYXR0c0FkZGVkID0gMDtcbiAgICB2YXIgYXR0c1RvQWRkID0gT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyB8fCB7fSk7XG5cbiAgICBpZiAoIWF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK2F0dHNBZGRlZCA9PT0gYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZChhdHQpIHtcbiAgICAgIHZhciBkaWdlc3QgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2F0dF0uZGlnZXN0O1xuICAgICAgdmFyIHJlcSA9IGF0dGFjaEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgIHNlcTogc2VxLFxuICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgIH0pO1xuXG4gICAgICByZXEub25zdWNjZXNzID0gY2hlY2tEb25lO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIGlzIGZvciBhIGNvbnN0YWludCBlcnJvciwgd2hpY2ggd2UgaWdub3JlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBkb2NpZC9yZXYgaGFzIGFscmVhZHkgYmVlbiBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgLy8gdGhlIGRpZ2VzdCAoZS5nLiB3aGVuIG5ld19lZGl0cyA9PSBmYWxzZSlcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRzVG9BZGQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZChhdHRzVG9BZGRbaV0pOyAvLyBkbyBpbiBwYXJhbGxlbFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGdldEtleVJlcSA9IGF0dGFjaFN0b3JlLmNvdW50KGRpZ2VzdCk7XG4gICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGFscmVhZHkgZXhpc3RzXG4gICAgICB9XG4gICAgICB2YXIgbmV3QXR0ID0ge1xuICAgICAgICBkaWdlc3Q6IGRpZ2VzdCxcbiAgICAgICAgYm9keTogZGF0YVxuICAgICAgfTtcbiAgICAgIHZhciBwdXRSZXEgPSBhdHRhY2hTdG9yZS5wdXQobmV3QXR0KTtcbiAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBjYWxsYmFjaztcbiAgICB9O1xuICB9XG59XG5cbi8vIEFic3RyYWN0aW9uIG92ZXIgSURCQ3Vyc29yIGFuZCBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgdGhhdCBhbGxvd3MgdXMgdG8gYmF0Y2ggb3VyIG9wZXJhdGlvbnNcbi8vIHdoaWxlIGZhbGxpbmcgYmFjayB0byBhIG5vcm1hbCBJREJDdXJzb3Igb3BlcmF0aW9uIG9uIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBnZXRBbGwoKSBvclxuLy8gZ2V0QWxsS2V5cygpLiBUaGlzIGFsbG93cyBmb3IgYSBtdWNoIGZhc3RlciBpbXBsZW1lbnRhdGlvbiB0aGFuIGp1c3Qgc3RyYWlnaHQtdXAgY3Vyc29ycywgYmVjYXVzZVxuLy8gd2UncmUgbm90IHByb2Nlc3NpbmcgZWFjaCBkb2N1bWVudCBvbmUtYXQtYS10aW1lLlxuZnVuY3Rpb24gcnVuQmF0Y2hlZEN1cnNvcihvYmplY3RTdG9yZSwga2V5UmFuZ2UsIGRlc2NlbmRpbmcsIGJhdGNoU2l6ZSwgb25CYXRjaCkge1xuXG4gIGlmIChiYXRjaFNpemUgPT09IC0xKSB7XG4gICAgYmF0Y2hTaXplID0gMTAwMDtcbiAgfVxuXG4gIC8vIEJhaWwgb3V0IG9mIGdldEFsbCgpL2dldEFsbEtleXMoKSBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICAvLyAxKSBlaXRoZXIgbWV0aG9kIGlzIHVuc3VwcG9ydGVkIC0gd2UgbmVlZCBib3RoXG4gIC8vIDIpIGJhdGNoU2l6ZSBpcyAxIChtaWdodCBhcyB3ZWxsIHVzZSBJREJDdXJzb3IpXG4gIC8vIDMpIGRlc2NlbmRpbmcg4oCTIG5vIHJlYWwgd2F5IHRvIGRvIHRoaXMgdmlhIGdldEFsbCgpL2dldEFsbEtleXMoKVxuXG4gIHZhciB1c2VHZXRBbGwgPSB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbEtleXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICBiYXRjaFNpemUgPiAxICYmICFkZXNjZW5kaW5nO1xuXG4gIHZhciBrZXlzQmF0Y2g7XG4gIHZhciB2YWx1ZXNCYXRjaDtcbiAgdmFyIHBzZXVkb0N1cnNvcjtcblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFsdWVzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGtleXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsS2V5cyhlKSB7XG4gICAga2V5c0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICh2YWx1ZXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnRpbnVlUHNldWRvQ3Vyc29yKCkge1xuICAgIGlmICgha2V5c0JhdGNoLmxlbmd0aCkgeyAvLyBubyBtb3JlIHJlc3VsdHNcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIGZldGNoIG5leHQgYmF0Y2gsIGV4Y2x1c2l2ZSBzdGFydFxuICAgIHZhciBsYXN0S2V5ID0ga2V5c0JhdGNoW2tleXNCYXRjaC5sZW5ndGggLSAxXTtcbiAgICB2YXIgbmV3S2V5UmFuZ2U7XG4gICAgaWYgKGtleVJhbmdlICYmIGtleVJhbmdlLnVwcGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKGxhc3RLZXksIGtleVJhbmdlLnVwcGVyLFxuICAgICAgICAgIHRydWUsIGtleVJhbmdlLnVwcGVyT3Blbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYgZS5jb2RlID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQmF0Y2goKTsgLy8gd2UncmUgZG9uZSwgc3RhcnRrZXkgYW5kIGVuZGtleSBhcmUgZXF1YWxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmxvd2VyQm91bmQobGFzdEtleSwgdHJ1ZSk7XG4gICAgfVxuICAgIGtleVJhbmdlID0gbmV3S2V5UmFuZ2U7XG4gICAga2V5c0JhdGNoID0gbnVsbDtcbiAgICB2YWx1ZXNCYXRjaCA9IG51bGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKCFjdXJzb3IpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gcmVndWxhciBJREJDdXJzb3IgYWN0cyBsaWtlIGEgYmF0Y2ggd2hlcmUgYmF0Y2ggc2l6ZSBpcyBhbHdheXMgMVxuICAgIG9uQmF0Y2goW2N1cnNvci5rZXldLCBbY3Vyc29yLnZhbHVlXSwgY3Vyc29yKTtcbiAgfVxuXG4gIGlmICh1c2VHZXRBbGwpIHtcbiAgICBwc2V1ZG9DdXJzb3IgPSB7XCJjb250aW51ZVwiOiBjb250aW51ZVBzZXVkb0N1cnNvcn07XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9IGVsc2UgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG59XG5cbi8vIHNpbXBsZSBzaGltIGZvciBvYmplY3RTdG9yZS5nZXRBbGwoKSwgZmFsbGluZyBiYWNrIHRvIElEQkN1cnNvclxuZnVuY3Rpb24gZ2V0QWxsKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgb25TdWNjZXNzKSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gdXNlIG5hdGl2ZSBnZXRBbGxcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uU3VjY2VzcztcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZmFsbCBiYWNrIHRvIGN1cnNvcnNcbiAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIHZhbHVlcy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzKGtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKSB7XG4gIC8vIEl0J3Mgbm90IGd1YXJhbnRlZCB0byBiZSByZXR1cm5lZCBpbiByaWdodCBvcmRlciAgXG4gIHZhciB2YWx1ZXNCYXRjaCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gIHZhciBjb3VudCA9IDA7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgIGRvY1N0b3JlLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IHtrZXk6IGtleSwgZXJyb3I6ICdub3RfZm91bmQnfTtcbiAgICAgIH1cbiAgICAgIGNvdW50Kys7XG4gICAgICBpZiAoY291bnQgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIG9uQmF0Y2goa2V5cywgdmFsdWVzQmF0Y2gsIHt9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIGRlc2NlbmRpbmcpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhcnQgJiYgZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoZW5kLCBzdGFydCwgIWluY2x1c2l2ZUVuZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChzdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChzdGFydCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICByZXR1cm4gSURCS2V5UmFuZ2Uub25seShrZXkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIHN0YXJ0ID0gJ3N0YXJ0a2V5JyBpbiBvcHRzID8gb3B0cy5zdGFydGtleSA6IGZhbHNlO1xuICB2YXIgZW5kID0gJ2VuZGtleScgaW4gb3B0cyA/IG9wdHMuZW5ka2V5IDogZmFsc2U7XG4gIHZhciBrZXkgPSAna2V5JyBpbiBvcHRzID8gb3B0cy5rZXkgOiBmYWxzZTtcbiAgdmFyIGtleXMgPSAna2V5cycgaW4gb3B0cyA/IG9wdHMua2V5cyA6IGZhbHNlOyBcbiAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgdmFyIGxpbWl0ID0gdHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInID8gb3B0cy5saW1pdCA6IC0xO1xuICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcblxuICB2YXIga2V5UmFuZ2UgOyBcbiAgdmFyIGtleVJhbmdlRXJyb3I7XG4gIGlmICgha2V5cykge1xuICAgIGtleVJhbmdlID0gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIG9wdHMuZGVzY2VuZGluZyk7XG4gICAga2V5UmFuZ2VFcnJvciA9IGtleVJhbmdlICYmIGtleVJhbmdlLmVycm9yO1xuICAgIGlmIChrZXlSYW5nZUVycm9yICYmIFxuICAgICAgIShrZXlSYW5nZUVycm9yLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYga2V5UmFuZ2VFcnJvci5jb2RlID09PSAwKSkge1xuICAgICAgLy8gRGF0YUVycm9yIHdpdGggZXJyb3IgY29kZSAwIGluZGljYXRlcyBzdGFydCBpcyBsZXNzIHRoYW4gZW5kLCBzb1xuICAgICAgLy8gY2FuIGp1c3QgZG8gYW4gZW1wdHkgcXVlcnkuIEVsc2UgbmVlZCB0byB0aHJvd1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUixcbiAgICAgICAga2V5UmFuZ2VFcnJvci5uYW1lLCBrZXlSYW5nZUVycm9yLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBNRVRBX1NUT1JFXTtcblxuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIHN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuICB2YXIgZG9jSWRSZXZJbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgZG9jQ291bnQ7XG4gIHZhciB1cGRhdGVTZXE7XG5cbiAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICB9O1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgZ2V0TWF4VXBkYXRlU2VxKHNlcVN0b3JlLCBmdW5jdGlvbiAoZSkgeyBcbiAgICAgIGlmIChlLnRhcmdldC5yZXN1bHQgJiYgZS50YXJnZXQucmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlU2VxID0gZS50YXJnZXQucmVzdWx0WzBdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWF4VXBkYXRlU2VxKG9iamVjdFN0b3JlLCBvblN1Y2Nlc3MpIHtcbiAgICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdmFyIG1heEtleSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjdXJzb3IgJiYgY3Vyc29yLmtleSkge1xuICAgICAgICBtYXhLZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgfSBcbiAgICAgIHJldHVybiBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IFttYXhLZXldXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cblxuICAvLyBpZiB0aGUgdXNlciBzcGVjaWZpZXMgaW5jbHVkZV9kb2NzPXRydWUsIHRoZW4gd2UgZG9uJ3RcbiAgLy8gd2FudCB0byBibG9jayB0aGUgbWFpbiBjdXJzb3Igd2hpbGUgd2UncmUgZmV0Y2hpbmcgdGhlIGRvY1xuICBmdW5jdGlvbiBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpIHtcbiAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyBcIjo6XCIgKyB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0lkUmV2SW5kZXguZ2V0KGtleSkub25zdWNjZXNzID0gIGZ1bmN0aW9uIG9uR2V0RG9jKGUpIHtcbiAgICAgIHJvdy5kb2MgPSBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSB8fCB7fTtcbiAgICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgICAgcm93LmRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkocm93LmRvYywgb3B0cywgdHhuKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKSB7XG4gICAgdmFyIHJvdyA9IHtcbiAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgIGtleTogbWV0YWRhdGEuaWQsXG4gICAgICB2YWx1ZToge1xuICAgICAgICByZXY6IHdpbm5pbmdSZXYkJDFcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgaWYgKGtleXMpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICAgIC8vIGRlbGV0ZWQgZG9jcyBhcmUgb2theSB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJvdy52YWx1ZS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgcm93LmRvYyA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChza2lwLS0gPD0gMCkge1xuICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYmF0Y2hWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gbGltaXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgYmF0Y2hWYWx1ZSA9IGJhdGNoVmFsdWVzW2ldO1xuICAgICAgaWYgKGJhdGNoVmFsdWUuZXJyb3IgJiYga2V5cykge1xuICAgICAgICAvLyBrZXkgd2FzIG5vdCBmb3VuZCB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJlc3VsdHMucHVzaChiYXRjaFZhbHVlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShiYXRjaFZhbHVlKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFyIHZhbHVlcyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICB2YWx1ZXMgPSB2YWx1ZXMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2godmFsdWVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVzdWx0c1JlYWR5KCkge1xuICAgIHZhciByZXR1cm5WYWwgPSB7XG4gICAgICB0b3RhbF9yb3dzOiBkb2NDb3VudCxcbiAgICAgIG9mZnNldDogb3B0cy5za2lwLFxuICAgICAgcm93czogcmVzdWx0c1xuICAgIH07XG4gICAgXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSAmJiB1cGRhdGVTZXEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuVmFsLnVwZGF0ZV9zZXEgPSB1cGRhdGVTZXE7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHJldHVyblZhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIG9wdHMuYmluYXJ5KS50aGVuKG9uUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25SZXN1bHRzUmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICAvLyBkb24ndCBib3RoZXIgZG9pbmcgYW55IHJlcXVlc3RzIGlmIHN0YXJ0ID4gZW5kIG9yIGxpbWl0ID09PSAwXG4gIGlmIChrZXlSYW5nZUVycm9yIHx8IGxpbWl0ID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChrZXlzKSB7XG4gICAgcmV0dXJuIGFsbERvY3NLZXlzKG9wdHMua2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpO1xuICB9XG4gIGlmIChsaW1pdCA9PT0gLTEpIHsgLy8ganVzdCBmZXRjaCBldmVyeXRoaW5nXG4gICAgcmV0dXJuIGdldEFsbChkb2NTdG9yZSwga2V5UmFuZ2UsIG9uR2V0QWxsKTtcbiAgfVxuICAvLyBlbHNlIGRvIGEgY3Vyc29yXG4gIC8vIGNob29zZSBhIGJhdGNoIHNpemUgYmFzZWQgb24gdGhlIHNraXAsIHNpbmNlIHdlJ2xsIG5lZWQgdG8gc2tpcCB0aGF0IG1hbnlcbiAgcnVuQmF0Y2hlZEN1cnNvcihkb2NTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQgKyBza2lwLCBvbkJhdGNoKTtcbn1cblxuLy9cbi8vIEJsb2JzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGFsbCB2ZXJzaW9ucyBvZiBJbmRleGVkREIsIG5vdGFibHlcbi8vIENocm9tZSA8MzcgYW5kIEFuZHJvaWQgPDUuIEluIHRob3NlIHZlcnNpb25zLCBzdG9yaW5nIGEgYmxvYiB3aWxsIHRocm93LlxuLy9cbi8vIFZhcmlvdXMgb3RoZXIgYmxvYiBidWdzIGV4aXN0IGluIENocm9tZSB2MzctNDIgKGluY2x1c2l2ZSkuXG4vLyBEZXRlY3RpbmcgdGhlbSBpcyBleHBlbnNpdmUgYW5kIGNvbmZ1c2luZyB0byB1c2VycywgYW5kIENocm9tZSAzNy00MlxuLy8gaXMgYXQgdmVyeSBsb3cgdXNhZ2Ugd29ybGR3aWRlLCBzbyB3ZSBkbyBhIGhhY2t5IHVzZXJBZ2VudCBjaGVjayBpbnN0ZWFkLlxuLy9cbi8vIGNvbnRlbnQtdHlwZSBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00MDgxMjBcbi8vIDQwNCBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc5MTZcbi8vIEZpbGVSZWFkZXIgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3ODM2XG4vL1xuZnVuY3Rpb24gY2hlY2tCbG9iU3VwcG9ydCh0eG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgdmFyIGJsb2IkJDEgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IkJDEsICdrZXknKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWF0Y2hlZENocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgICAgdmFyIG1hdGNoZWRFZGdlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLy8pO1xuICAgICAgLy8gTVMgRWRnZSBwcmV0ZW5kcyB0byBiZSBDaHJvbWUgNDI6XG4gICAgICAvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2hoODY5MzAxJTI4dj12cy44NSUyOS5hc3B4XG4gICAgICByZXNvbHZlKG1hdGNoZWRFZGdlIHx8ICFtYXRjaGVkQ2hyb21lIHx8XG4gICAgICAgIHBhcnNlSW50KG1hdGNoZWRDaHJvbWVbMV0sIDEwKSA+PSA0Myk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gdHhuLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gSWYgdGhlIHRyYW5zYWN0aW9uIGFib3J0cyBub3cgaXRzIGR1ZSB0byBub3QgYmVpbmcgYWJsZSB0b1xuICAgICAgLy8gd3JpdGUgdG8gdGhlIGRhdGFiYXNlLCBsaWtlbHkgZHVlIHRvIHRoZSBkaXNrIGJlaW5nIGZ1bGxcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICB9O1xuICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciwgc28gYXNzdW1lIHVuc3VwcG9ydGVkXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb3VudERvY3ModHhuLCBjYikge1xuICB2YXIgaW5kZXggPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5pbmRleCgnZGVsZXRlZE9yTG9jYWwnKTtcbiAgaW5kZXguY291bnQoSURCS2V5UmFuZ2Uub25seSgnMCcpKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNiKGUudGFyZ2V0LnJlc3VsdCk7XG4gIH07XG59XG5cbi8vIFRoaXMgdGFzayBxdWV1ZSBlbnN1cmVzIHRoYXQgSURCIG9wZW4gY2FsbHMgYXJlIGRvbmUgaW4gdGhlaXIgb3duIHRpY2tcblxudmFyIHJ1bm5pbmcgPSBmYWxzZTtcbnZhciBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiB0cnlDb2RlKGZ1biwgZXJyLCByZXMsIFBvdWNoREIpIHtcbiAgdHJ5IHtcbiAgICBmdW4oZXJyLCByZXMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTaG91bGRuJ3QgaGFwcGVuLCBidXQgaW4gc29tZSBvZGQgY2FzZXNcbiAgICAvLyBJbmRleGVkREIgaW1wbGVtZW50YXRpb25zIG1pZ2h0IHRocm93IGEgc3luY1xuICAgIC8vIGVycm9yLCBpbiB3aGljaCBjYXNlIHRoaXMgd2lsbCBhdCBsZWFzdCBsb2cgaXQuXG4gICAgUG91Y2hEQi5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlOZXh0KCkge1xuICBpZiAocnVubmluZyB8fCAhcXVldWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJ1bm5pbmcgPSB0cnVlO1xuICBxdWV1ZS5zaGlmdCgpKCk7XG59XG5cbmZ1bmN0aW9uIGVucXVldWVUYXNrKGFjdGlvbiwgY2FsbGJhY2ssIFBvdWNoREIpIHtcbiAgcXVldWUucHVzaChmdW5jdGlvbiBydW5BY3Rpb24oKSB7XG4gICAgYWN0aW9uKGZ1bmN0aW9uIHJ1bkNhbGxiYWNrKGVyciwgcmVzKSB7XG4gICAgICB0cnlDb2RlKGNhbGxiYWNrLCBlcnIsIHJlcywgUG91Y2hEQik7XG4gICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgICAgYXBwbHlOZXh0KFBvdWNoREIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBhcHBseU5leHQoKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKSB7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgdmFyIGlkID0gZGJOYW1lICsgJzonICsgdXVpZCgpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmFkZExpc3RlbmVyKGRiTmFtZSwgaWQsIGFwaSwgb3B0cyk7XG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGRiTmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVMaXN0ZW5lcihkYk5hbWUsIGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyAmJiBuZXcgRXhwb3J0ZWRTZXQob3B0cy5kb2NfaWRzKTtcblxuICBvcHRzLnNpbmNlID0gb3B0cy5zaW5jZSB8fCAwO1xuICB2YXIgbGFzdFNlcSA9IG9wdHMuc2luY2U7XG5cbiAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBvcHRzID8gb3B0cy5saW1pdCA6IC0xO1xuICBpZiAobGltaXQgPT09IDApIHtcbiAgICBsaW1pdCA9IDE7IC8vIHBlciBDb3VjaERCIF9jaGFuZ2VzIHNwZWNcbiAgfVxuXG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBudW1SZXN1bHRzID0gMDtcbiAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKTtcbiAgdmFyIGRvY0lkc1RvTWV0YWRhdGEgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgdHhuO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgZG9jSWRSZXZJbmRleDtcblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yIHx8ICFiYXRjaEtleXMubGVuZ3RoKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2lubmluZ0RvY3MgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG4gICAgdmFyIG1ldGFkYXRhcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBvcHRzLnByb2Nlc3NDaGFuZ2Uod2lubmluZ0RvYywgbWV0YWRhdGEsIG9wdHMpO1xuICAgICAgbGFzdFNlcSA9IGNoYW5nZS5zZXEgPSBtZXRhZGF0YS5zZXE7XG5cbiAgICAgIHZhciBmaWx0ZXJlZCA9IGZpbHRlcihjaGFuZ2UpO1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJlZCA9PT0gJ29iamVjdCcpIHsgLy8gYW55dGhpbmcgYnV0IHRydWUvZmFsc2UgaW5kaWNhdGVzIGVycm9yXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChmaWx0ZXJlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZmlsdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgbnVtUmVzdWx0cysrO1xuICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGNoYW5nZSk7XG4gICAgICB9XG4gICAgICAvLyBwcm9jZXNzIHRoZSBhdHRhY2htZW50IGltbWVkaWF0ZWx5XG4gICAgICAvLyBmb3IgdGhlIGJlbmVmaXQgb2YgbGl2ZSBsaXN0ZW5lcnNcbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSh3aW5uaW5nRG9jLCBvcHRzLCB0eG4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMoW2NoYW5nZV0sIG9wdHMuYmluYXJ5KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQmF0Y2hEb25lKCkge1xuICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gd2lubmluZ0RvY3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKG51bVJlc3VsdHMgPT09IGxpbWl0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbm5pbmdEb2MgPSB3aW5uaW5nRG9jc1tpXTtcbiAgICAgICAgaWYgKCF3aW5uaW5nRG9jKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gbWV0YWRhdGFzW2ldO1xuICAgICAgICBwcm9taXNlcy5wdXNoKHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpKTtcbiAgICAgIH1cblxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoY2hhbmdlc1tpXSkge1xuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjaGFuZ2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKG9wdHMuY29tcGxldGUpO1xuXG4gICAgICBpZiAobnVtUmVzdWx0cyAhPT0gbGltaXQpIHtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxsIG1ldGFkYXRhcy93aW5uaW5nZG9jcyBmcm9tIHRoaXMgYmF0Y2ggaW4gcGFyYWxsZWwsIHRoZW4gcHJvY2Vzc1xuICAgIC8vIHRoZW0gYWxsIG9ubHkgb25jZSBhbGwgZGF0YSBoYXMgYmVlbiBjb2xsZWN0ZWQuIFRoaXMgaXMgZG9uZSBpbiBwYXJhbGxlbFxuICAgIC8vIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkb2luZyBpdCBvbmUtYXQtYS10aW1lLlxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICBiYXRjaFZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZURvYyh2YWx1ZSk7XG4gICAgICB2YXIgc2VxID0gYmF0Y2hLZXlzW2ldO1xuICAgICAgZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGZ1bmN0aW9uIChtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgICBtZXRhZGF0YXNbaV0gPSBtZXRhZGF0YTtcbiAgICAgICAgd2lubmluZ0RvY3NbaV0gPSB3aW5uaW5nRG9jO1xuICAgICAgICBpZiAoKytudW1Eb25lID09PSBiYXRjaEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgb25CYXRjaERvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpIHtcbiAgICBpZiAobWV0YWRhdGEuc2VxICE9PSBzZXEpIHtcbiAgICAgIC8vIHNvbWUgb3RoZXIgc2VxIGlzIGxhdGVyXG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICBpZiAobWV0YWRhdGEud2lubmluZ1JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgIC8vIHRoaXMgaXMgdGhlIHdpbm5pbmcgZG9jXG4gICAgICByZXR1cm4gY2IobWV0YWRhdGEsIGRvYyk7XG4gICAgfVxuXG4gICAgLy8gZmV0Y2ggd2lubmluZyBkb2MgaW4gc2VwYXJhdGUgcmVxdWVzdFxuICAgIHZhciBkb2NJZFJldiA9IGRvYy5faWQgKyAnOjonICsgbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICB2YXIgcmVxID0gZG9jSWRSZXZJbmRleC5nZXQoZG9jSWRSZXYpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgY2IobWV0YWRhdGEsIGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGNiKSB7XG4gICAgaWYgKGRvY0lkcyAmJiAhZG9jSWRzLmhhcyhkb2MuX2lkKSkge1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSWRzVG9NZXRhZGF0YS5nZXQoZG9jLl9pZCk7XG4gICAgaWYgKG1ldGFkYXRhKSB7IC8vIGNhY2hlZFxuICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfVxuICAgIC8vIG1ldGFkYXRhIG5vdCBjYWNoZWQsIGhhdmUgdG8gZ28gZmV0Y2ggaXRcbiAgICBkb2NTdG9yZS5nZXQoZG9jLl9pZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIGRvY0lkc1RvTWV0YWRhdGEuc2V0KGRvYy5faWQsIG1ldGFkYXRhKTtcbiAgICAgIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtcbiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICBsYXN0X3NlcTogbGFzdFNlcVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAoIW9wdHMuY29udGludW91cyAmJiBvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgcG9zdFByb2Nlc3Npbmcgd2FzIGFscmVhZHkgZG9uZSxcbiAgICAgIC8vIHNvIGRvIGl0IGFnYWluXG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMpLnRoZW4oZmluaXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9iamVjdFN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRV07XG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgb2JqZWN0U3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgb2JqZWN0U3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihvcHRzLmNvbXBsZXRlKTtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuXG4gIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgZG9jSWRSZXZJbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG5cbiAgdmFyIGtleVJhbmdlID0gKG9wdHMuc2luY2UgJiYgIW9wdHMuZGVzY2VuZGluZykgP1xuICAgIElEQktleVJhbmdlLmxvd2VyQm91bmQob3B0cy5zaW5jZSwgdHJ1ZSkgOiBudWxsO1xuXG4gIHJ1bkJhdGNoZWRDdXJzb3IoYnlTZXFTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQsIG9uQmF0Y2gpO1xufVxuXG52YXIgY2FjaGVkREJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG52YXIgYmxvYlN1cHBvcnRQcm9taXNlO1xudmFyIG9wZW5SZXFMaXN0ID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbmZ1bmN0aW9uIElkYlBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIGVucXVldWVUYXNrKGZ1bmN0aW9uICh0aGlzQ2FsbGJhY2spIHtcbiAgICBpbml0KGFwaSwgb3B0cywgdGhpc0NhbGxiYWNrKTtcbiAgfSwgY2FsbGJhY2ssIGFwaS5jb25zdHJ1Y3Rvcik7XG59XG5cbmZ1bmN0aW9uIGluaXQoYXBpLCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIHZhciBkYk5hbWUgPSBvcHRzLm5hbWU7XG5cbiAgdmFyIGlkYiA9IG51bGw7XG4gIHZhciBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBudWxsO1xuICBhcGkuX21ldGEgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCByZXN1bHQpIHtcbiAgICAgIGlmIChlcnJvciAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICFlcnJvci5yZWFzb24pIHtcbiAgICAgICAgaWYgKGlkYkdsb2JhbEZhaWx1cmVFcnJvcikge1xuICAgICAgICAgIGVycm9yLnJlYXNvbiA9IGlkYkdsb2JhbEZhaWx1cmVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhlcnJvciwgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gY2FsbGVkIHdoZW4gY3JlYXRpbmcgYSBmcmVzaCBuZXcgZGF0YWJhc2VcbiAgZnVuY3Rpb24gY3JlYXRlU2NoZW1hKGRiKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoRE9DX1NUT1JFLCB7a2V5UGF0aCA6ICdpZCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShCWV9TRVFfU1RPUkUsIHthdXRvSW5jcmVtZW50OiB0cnVlfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFLCB7a2V5UGF0aDogJ2RpZ2VzdCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShNRVRBX1NUT1JFLCB7a2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogZmFsc2V9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKTtcblxuICAgIC8vIGFkZGVkIGluIHYyXG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2M1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KTtcblxuICAgIC8vIGFkZGVkIGluIHY0XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAyXG4gIC8vIHVuZm9ydHVuYXRlbHkgXCJkZWxldGVkT3JMb2NhbFwiIGlzIGEgbWlzbm9tZXIgbm93IHRoYXQgd2Ugbm8gbG9uZ2VyXG4gIC8vIHN0b3JlIGxvY2FsIGRvY3MgaW4gdGhlIG1haW4gZG9jLXN0b3JlLCBidXQgd2hhZGR5YWdvbm5hZG9cbiAgZnVuY3Rpb24gYWRkRGVsZXRlZE9yTG9jYWxJbmRleCh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICBkb2NTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIG1ldGFkYXRhLmRlbGV0ZWRPckxvY2FsID0gZGVsZXRlZCA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgIGRvY1N0b3JlLnB1dChtZXRhZGF0YSk7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAxKVxuICBmdW5jdGlvbiBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKSB7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlTG9jYWxTdG9yZSh0eG4sIGNiKSB7XG4gICAgdmFyIGxvY2FsU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuXG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZG9jSWQgPSBtZXRhZGF0YS5pZDtcbiAgICAgICAgdmFyIGxvY2FsID0gaXNMb2NhbElkKGRvY0lkKTtcbiAgICAgICAgdmFyIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICAgICAgICBpZiAobG9jYWwpIHtcbiAgICAgICAgICB2YXIgZG9jSWRSZXYgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICAgICAgICAvLyByZW1vdmUgYWxsIHNlcSBlbnRyaWVzXG4gICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoaXMgZG9jSWRcbiAgICAgICAgICB2YXIgc3RhcnQgPSBkb2NJZCArIFwiOjpcIjtcbiAgICAgICAgICB2YXIgZW5kID0gZG9jSWQgKyBcIjo6flwiO1xuICAgICAgICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgICAgIHZhciByYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgdmFyIHNlcUN1cnNvciA9IGluZGV4Lm9wZW5DdXJzb3IocmFuZ2UpO1xuICAgICAgICAgIHNlcUN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2VxQ3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgaWYgKCFzZXFDdXJzb3IpIHtcbiAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICBkb2NTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gc2VxQ3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZGF0YS5fZG9jX2lkX3JldiA9PT0gZG9jSWRSZXYpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JlLnB1dChkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXFTdG9yZS5kZWxldGUoc2VxQ3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBzZXFDdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMSlcbiAgZnVuY3Rpb24gYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpIHtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUF0dHNBbmRTZXFzKHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuXG4gICAgLy8gbmVlZCB0byBhY3R1YWxseSBwb3B1bGF0ZSB0aGUgdGFibGUuIHRoaXMgaXMgdGhlIGV4cGVuc2l2ZSBwYXJ0LFxuICAgIC8vIHNvIGFzIGFuIG9wdGltaXphdGlvbiwgY2hlY2sgZmlyc3QgdGhhdCB0aGlzIGRhdGFiYXNlIGV2ZW5cbiAgICAvLyBjb250YWlucyBhdHRhY2htZW50c1xuICAgIHZhciByZXEgPSBhdHRTdG9yZS5jb3VudCgpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgfVxuXG4gICAgICBzZXFTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkb2MgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgICAgICAgdmFyIGRpZ2VzdE1hcCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1thdHRzW2pdXTtcbiAgICAgICAgICBkaWdlc3RNYXBbYXR0LmRpZ2VzdF0gPSB0cnVlOyAvLyB1bmlxIGRpZ2VzdHMsIGp1c3QgaW4gY2FzZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaWdlc3RzID0gT2JqZWN0LmtleXMoZGlnZXN0TWFwKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpZ2VzdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gZGlnZXN0c1tqXTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDVcbiAgLy8gSW5zdGVhZCBvZiByZWx5aW5nIG9uIG9uLXRoZS1mbHkgbWlncmF0aW9uIG9mIG1ldGFkYXRhLFxuICAvLyB0aGlzIGJyaW5ncyB0aGUgZG9jLXN0b3JlIHRvIGl0cyBtb2Rlcm4gZm9ybTpcbiAgLy8gLSBtZXRhZGF0YS53aW5uaW5ncmV2XG4gIC8vIC0gbWV0YWRhdGEuc2VxXG4gIC8vIC0gc3RyaW5naWZ5IHRoZSBtZXRhZGF0YSB3aGVuIHN0b3JpbmcgaXRcbiAgZnVuY3Rpb24gbWlncmF0ZU1ldGFkYXRhKHR4bikge1xuXG4gICAgZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGFDb21wYXQoc3RvcmVkT2JqZWN0KSB7XG4gICAgICBpZiAoIXN0b3JlZE9iamVjdC5kYXRhKSB7XG4gICAgICAgIC8vIG9sZCBmb3JtYXQsIHdoZW4gd2UgZGlkbid0IHN0b3JlIGl0IHN0cmluZ2lmaWVkXG4gICAgICAgIHN0b3JlZE9iamVjdC5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gICAgICAgIHJldHVybiBzdG9yZWRPYmplY3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgdGhhdCBldmVyeSBtZXRhZGF0YSBoYXMgYSB3aW5uaW5nUmV2IGFuZCBzZXEsXG4gICAgLy8gd2hpY2ggd2FzIHByZXZpb3VzbHkgY3JlYXRlZCBvbi10aGUtZmx5IGJ1dCBiZXR0ZXIgdG8gbWlncmF0ZVxuICAgIHZhciBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICByZXR1cm47IC8vIGRvbmVcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhQ29tcGF0KGN1cnNvci52YWx1ZSk7XG5cbiAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2IHx8XG4gICAgICAgIHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhU2VxKCkge1xuICAgICAgICAvLyBtZXRhZGF0YS5zZXEgd2FzIGFkZGVkIHBvc3QtMy4yLjAsIHNvIGlmIGl0J3MgbWlzc2luZyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBmZXRjaCBpdCBtYW51YWxseVxuICAgICAgICB2YXIgc3RhcnQgPSBtZXRhZGF0YS5pZCArICc6Oic7XG4gICAgICAgIHZhciBlbmQgPSBtZXRhZGF0YS5pZCArICc6OlxcdWZmZmYnO1xuICAgICAgICB2YXIgcmVxID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5vcGVuQ3Vyc29yKFxuICAgICAgICAgIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQpKTtcblxuICAgICAgICB2YXIgbWV0YWRhdGFTZXEgPSAwO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5zZXEgPSBtZXRhZGF0YVNlcTtcbiAgICAgICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICBpZiAoc2VxID4gbWV0YWRhdGFTZXEpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhU2VxID0gc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLFxuICAgICAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYsIG1ldGFkYXRhLmRlbGV0ZWQpO1xuXG4gICAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGFkYXRhLnNlcSkge1xuICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE1ldGFkYXRhU2VxKCk7XG4gICAgfTtcblxuICB9XG5cbiAgYXBpLl9yZW1vdGUgPSBmYWxzZTtcbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdpZGInO1xuICB9O1xuXG4gIGFwaS5faWQgPSB0b1Byb21pc2UoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpLl9tZXRhLmluc3RhbmNlSWQpO1xuICB9KTtcblxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gaWRiX2J1bGtEb2NzKHJlcSwgcmVxT3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJCdWxrRG9jcyhvcHRzLCByZXEsIHJlcU9wdHMsIGFwaSwgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgLy8gRmlyc3Qgd2UgbG9vayB1cCB0aGUgbWV0YWRhdGEgaW4gdGhlIGlkcyBkYXRhYmFzZSwgdGhlbiB3ZSBmZXRjaCB0aGVcbiAgLy8gY3VycmVudCByZXZpc2lvbihzKSBmcm9tIHRoZSBieSBzZXF1ZW5jZSBzdG9yZVxuICBhcGkuX2dldCA9IGZ1bmN0aW9uIGlkYl9nZXQoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvYztcbiAgICB2YXIgbWV0YWRhdGE7XG4gICAgdmFyIGVycjtcbiAgICB2YXIgdHhuID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eG4pIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgICAgY2FsbGJhY2soZXJyLCB7ZG9jOiBkb2MsIG1ldGFkYXRhOiBtZXRhZGF0YSwgY3R4OiB0eG59KTtcbiAgICB9XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoaWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAvLyB3ZSBjYW4gZGV0ZXJtaW5lIHRoZSByZXN1bHQgaGVyZSBpZjpcbiAgICAgIC8vIDEuIHRoZXJlIGlzIG5vIHN1Y2ggZG9jdW1lbnRcbiAgICAgIC8vIDIuIHRoZSBkb2N1bWVudCBpcyBkZWxldGVkIGFuZCB3ZSBkb24ndCBhc2sgYWJvdXQgc3BlY2lmaWMgcmV2XG4gICAgICAvLyBXaGVuIHdlIGFzayB3aXRoIG9wdHMucmV2IHdlIGV4cGVjdCB0aGUgYW5zd2VyIHRvIGJlIGVpdGhlclxuICAgICAgLy8gZG9jIChwb3NzaWJseSB3aXRoIF9kZWxldGVkPXRydWUpIG9yIG1pc3NpbmcgZXJyb3JcbiAgICAgIGlmICghbWV0YWRhdGEpIHtcbiAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldjtcbiAgICAgIGlmICghb3B0cy5yZXYpIHtcbiAgICAgICAgcmV2ID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCBcImRlbGV0ZWRcIik7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXYgPSBvcHRzLmxhdGVzdCA/IGxhdGVzdChvcHRzLnJldiwgbWV0YWRhdGEpIDogb3B0cy5yZXY7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3RTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgJzo6JyArIHJldjtcblxuICAgICAgb2JqZWN0U3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2JykuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgZG9jID0gZGVjb2RlRG9jKGRvYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2hJZCwgYXR0YWNobWVudCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuO1xuICAgIGlmIChvcHRzLmN0eCkge1xuICAgICAgdHhuID0gb3B0cy5jdHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuICAgIHZhciBkaWdlc3QgPSBhdHRhY2htZW50LmRpZ2VzdDtcbiAgICB2YXIgdHlwZSA9IGF0dGFjaG1lbnQuY29udGVudF90eXBlO1xuXG4gICAgdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgb3B0cy5iaW5hcnksIGZ1bmN0aW9uIChibG9iRGF0YSkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBibG9iRGF0YSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIGlkYl9pbmZvKGNhbGxiYWNrKSB7XG4gICAgdmFyIHVwZGF0ZVNlcTtcbiAgICB2YXIgZG9jQ291bnQ7XG5cbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW01FVEFfU1RPUkUsIEJZX1NFUV9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgICB9O1xuICAgIHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZVNlcSA9IGN1cnNvciA/IGN1cnNvci5rZXkgOiAwO1xuICAgIH07XG5cbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgZG9jX2NvdW50OiBkb2NDb3VudCxcbiAgICAgICAgdXBkYXRlX3NlcTogdXBkYXRlU2VxLFxuICAgICAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgICAgIGlkYl9hdHRhY2htZW50X2Zvcm1hdDogKGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdiaW5hcnknIDogJ2Jhc2U2NCcpXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fYWxsRG9jcyA9IGZ1bmN0aW9uIGlkYl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiBpZGJDaGFuZ2VzKG9wdHMpIHtcbiAgICByZXR1cm4gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKTtcbiAgfTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9JbmRleGVkREIvSURCRGF0YWJhc2UjY2xvc2VcbiAgICAvLyBcIlJldHVybnMgaW1tZWRpYXRlbHkgYW5kIGNsb3NlcyB0aGUgY29ubmVjdGlvbiBpbiBhIHNlcGFyYXRlIHRocmVhZC4uLlwiXG4gICAgaWRiLmNsb3NlKCk7XG4gICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9nZXRSZXZpc2lvblRyZWUgPSBmdW5jdGlvbiAoZG9jSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtET0NfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChkb2NJZCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYy5yZXZfdHJlZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgcmV2aXNpb25zIG9mIGRvY3VtZW50IGRvY0lkXG4gIC8vIHdoaWNoIGFyZSBsaXN0ZWQgaW4gcmV2cyBhbmQgc2V0cyB0aGlzIGRvY3VtZW50XG4gIC8vIHJldmlzaW9uIHRvIHRvIHJldl90cmVlXG4gIGFwaS5fZG9Db21wYWN0aW9uID0gZnVuY3Rpb24gKGRvY0lkLCByZXZzLCBjYWxsYmFjaykge1xuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsXG4gICAgICBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBBVFRBQ0hfQU5EX1NFUV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcblxuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuXG4gICAgZG9jU3RvcmUuZ2V0KGRvY0lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIGlmIChyZXZzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLnB1dChcbiAgICAgICAgZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQpKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuICB9O1xuXG5cbiAgYXBpLl9nZXRMb2NhbCA9IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBkb2NbJ19kb2NfaWRfcmV2J107IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX3B1dExvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgZGVsZXRlIGRvYy5fcmV2aXNpb25zOyAvLyBpZ25vcmUgdGhpcywgdHJ1c3QgdGhlIHJldlxuICAgIHZhciBvbGRSZXYgPSBkb2MuX3JldjtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIGlmICghb2xkUmV2KSB7XG4gICAgICBkb2MuX3JldiA9ICcwLTEnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3JldiA9ICcwLScgKyAocGFyc2VJbnQob2xkUmV2LnNwbGl0KCctJylbMV0sIDEwKSArIDEpO1xuICAgIH1cblxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxO1xuICAgIGlmIChvbGRSZXYpIHtcbiAgICAgIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBvbGRSZXYpIHtcbiAgICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gdXBkYXRlXG4gICAgICAgICAgdmFyIHJlcSA9IG9TdG9yZS5wdXQoZG9jKTtcbiAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgeyAvLyBuZXcgZG9jXG4gICAgICByZXEgPSBvU3RvcmUuYWRkKGRvYyk7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIGNvbnN0cmFpbnQgZXJyb3IsIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIH07XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIGFwaS5fcmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxID0gb1N0b3JlLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gZG9jLl9yZXYpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9TdG9yZS5kZWxldGUoaWQpO1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBpZCwgcmV2OiAnMC0wJ307XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZGJOYW1lKTtcblxuICAgIC8vQ2xvc2Ugb3BlbiByZXF1ZXN0IGZvciBcImRiTmFtZVwiIGRhdGFiYXNlIHRvIGZpeCBpZSBkZWxheS5cbiAgICB2YXIgb3BlblJlcSA9IG9wZW5SZXFMaXN0LmdldChkYk5hbWUpO1xuICAgIGlmIChvcGVuUmVxICYmIG9wZW5SZXEucmVzdWx0KSB7XG4gICAgICBvcGVuUmVxLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH1cbiAgICB2YXIgcmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRiTmFtZSk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9SZW1vdmUgb3BlbiByZXF1ZXN0IGZyb20gdGhlIGxpc3QuXG4gICAgICBvcGVuUmVxTGlzdC5kZWxldGUoZGJOYW1lKTtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSAmJiAoZGJOYW1lIGluIGxvY2FsU3RvcmFnZSkpIHtcbiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtkYk5hbWVdO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICB2YXIgY2FjaGVkID0gY2FjaGVkREJzLmdldChkYk5hbWUpO1xuXG4gIGlmIChjYWNoZWQpIHtcbiAgICBpZGIgPSBjYWNoZWQuaWRiO1xuICAgIGFwaS5fbWV0YSA9IGNhY2hlZC5nbG9iYWw7XG4gICAgcmV0dXJuIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJlcSA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgQURBUFRFUl9WRVJTSU9OKTtcbiAgb3BlblJlcUxpc3Quc2V0KGRiTmFtZSwgcmVxKTtcblxuICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDEpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTY2hlbWEoZGIpOyAvLyBuZXcgZGIsIGluaXRpYWwgc2NoZW1hXG4gICAgfVxuICAgIC8vIGRvIG1pZ3JhdGlvbnNcblxuICAgIHZhciB0eG4gPSBlLmN1cnJlbnRUYXJnZXQudHJhbnNhY3Rpb247XG4gICAgLy8gdGhlc2UgbWlncmF0aW9ucyBoYXZlIHRvIGJlIGRvbmUgaW4gdGhpcyBmdW5jdGlvbiwgYmVmb3JlXG4gICAgLy8gY29udHJvbCBpcyByZXR1cm5lZCB0byB0aGUgZXZlbnQgbG9vcCwgYmVjYXVzZSBJbmRleGVkREJcblxuICAgIGlmIChlLm9sZFZlcnNpb24gPCAzKSB7XG4gICAgICBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKTsgLy8gdjIgLT4gdjNcbiAgICB9XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDQpIHtcbiAgICAgIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKTsgLy8gdjMgLT4gdjRcbiAgICB9XG5cbiAgICB2YXIgbWlncmF0aW9ucyA9IFtcbiAgICAgIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgsIC8vIHYxIC0+IHYyXG4gICAgICBtaWdyYXRlTG9jYWxTdG9yZSwgICAgICAvLyB2MiAtPiB2M1xuICAgICAgbWlncmF0ZUF0dHNBbmRTZXFzLCAgICAgLy8gdjMgLT4gdjRcbiAgICAgIG1pZ3JhdGVNZXRhZGF0YSAgICAgICAgIC8vIHY0IC0+IHY1XG4gICAgXTtcblxuICAgIHZhciBpID0gZS5vbGRWZXJzaW9uO1xuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBtaWdyYXRpb24gPSBtaWdyYXRpb25zW2kgLSAxXTtcbiAgICAgIGkrKztcbiAgICAgIGlmIChtaWdyYXRpb24pIHtcbiAgICAgICAgbWlncmF0aW9uKHR4biwgbmV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV4dCgpO1xuICB9O1xuXG4gIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgaWRiID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgaWRiLm9udmVyc2lvbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICBpZGIub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRGF0YWJhc2UgaGFzIGEgZ2xvYmFsIGZhaWx1cmUnLCBlLnRhcmdldC5lcnJvcik7XG4gICAgICBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICAvLyBEbyBhIGZldyBzZXR1cCBvcGVyYXRpb25zIChpbiBwYXJhbGxlbCBhcyBtdWNoIGFzIHBvc3NpYmxlKTpcbiAgICAvLyAxLiBGZXRjaCBtZXRhIGRvY1xuICAgIC8vIDIuIENoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vIDMuIENhbGN1bGF0ZSBkb2NDb3VudFxuICAgIC8vIDQuIEdlbmVyYXRlIGFuIGluc3RhbmNlSWQgaWYgbmVjZXNzYXJ5XG4gICAgLy8gNS4gU3RvcmUgZG9jQ291bnQgYW5kIGluc3RhbmNlSWQgb24gbWV0YSBkb2NcblxuICAgIHZhciB0eG4gPSBpZGIudHJhbnNhY3Rpb24oW1xuICAgICAgTUVUQV9TVE9SRSxcbiAgICAgIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUsXG4gICAgICBET0NfU1RPUkVcbiAgICBdLCAncmVhZHdyaXRlJyk7XG5cbiAgICB2YXIgc3RvcmVkTWV0YURvYyA9IGZhbHNlO1xuICAgIHZhciBtZXRhRG9jO1xuICAgIHZhciBkb2NDb3VudDtcbiAgICB2YXIgYmxvYlN1cHBvcnQ7XG4gICAgdmFyIGluc3RhbmNlSWQ7XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVNldHVwKCkge1xuICAgICAgaWYgKHR5cGVvZiBibG9iU3VwcG9ydCA9PT0gJ3VuZGVmaW5lZCcgfHwgIXN0b3JlZE1ldGFEb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLl9tZXRhID0ge1xuICAgICAgICBuYW1lOiBkYk5hbWUsXG4gICAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIGJsb2JTdXBwb3J0OiBibG9iU3VwcG9ydFxuICAgICAgfTtcblxuICAgICAgY2FjaGVkREJzLnNldChkYk5hbWUsIHtcbiAgICAgICAgaWRiOiBpZGIsXG4gICAgICAgIGdsb2JhbDogYXBpLl9tZXRhXG4gICAgICB9KTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcmVNZXRhRG9jSWZSZWFkeSgpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jQ291bnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBtZXRhRG9jID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW5zdGFuY2VLZXkgPSBkYk5hbWUgKyAnX2lkJztcbiAgICAgIGlmIChpbnN0YW5jZUtleSBpbiBtZXRhRG9jKSB7XG4gICAgICAgIGluc3RhbmNlSWQgPSBtZXRhRG9jW2luc3RhbmNlS2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGFEb2NbaW5zdGFuY2VLZXldID0gaW5zdGFuY2VJZCA9IHV1aWQoKTtcbiAgICAgIH1cbiAgICAgIG1ldGFEb2MuZG9jQ291bnQgPSBkb2NDb3VudDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5wdXQobWV0YURvYyk7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBmZXRjaCBvciBnZW5lcmF0ZSB0aGUgaW5zdGFuY2VJZFxuICAgIC8vXG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdCB8fCB7IGlkOiBNRVRBX1NUT1JFIH07XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gY291bnREb2NzXG4gICAgLy9cbiAgICBjb3VudERvY3ModHhuLCBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgIGRvY0NvdW50ID0gY291bnQ7XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vIGNoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vXG4gICAgaWYgKCFibG9iU3VwcG9ydFByb21pc2UpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBibG9iIHN1cHBvcnQgaXMgb25seSBjaGVja2VkIG9uY2VcbiAgICAgIGJsb2JTdXBwb3J0UHJvbWlzZSA9IGNoZWNrQmxvYlN1cHBvcnQodHhuKTtcbiAgICB9XG5cbiAgICBibG9iU3VwcG9ydFByb21pc2UudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICBibG9iU3VwcG9ydCA9IHZhbDtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9KTtcblxuICAgIC8vIG9ubHkgd2hlbiB0aGUgbWV0YWRhdGEgcHV0IHRyYW5zYWN0aW9uIGhhcyBjb21wbGV0ZWQsXG4gICAgLy8gY29uc2lkZXIgdGhlIHNldHVwIGRvbmVcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0b3JlZE1ldGFEb2MgPSB0cnVlO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBtc2cgPSBlLnRhcmdldC5lcnJvciAmJiBlLnRhcmdldC5lcnJvci5tZXNzYWdlO1xuXG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIG1zZyA9ICdGYWlsZWQgdG8gb3BlbiBpbmRleGVkREIsIGFyZSB5b3UgaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlPyc7XG4gICAgfSBlbHNlIGlmIChtc2cuaW5kZXhPZihcInN0b3JlZCBkYXRhYmFzZSBpcyBhIGhpZ2hlciB2ZXJzaW9uXCIpICE9PSAtMSkge1xuICAgICAgbXNnID0gbmV3IEVycm9yKCdUaGlzIERCIHdhcyBjcmVhdGVkIHdpdGggdGhlIG5ld2VyIFwiaW5kZXhlZGRiXCIgYWRhcHRlciwgYnV0IHlvdSBhcmUgdHJ5aW5nIHRvIG9wZW4gaXQgd2l0aCB0aGUgb2xkZXIgXCJpZGJcIiBhZGFwdGVyJyk7XG4gICAgfVxuXG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgbXNnKTtcbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1zZykpO1xuICB9O1xufVxuXG5JZGJQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gRm9sbG93aW5nICM3MDg1IGJ1Z2d5IGlkYiB2ZXJzaW9ucyAodHlwaWNhbGx5IFNhZmFyaSA8IDEwLjEpIGFyZVxuICAvLyBjb25zaWRlcmVkIHZhbGlkLlxuXG4gIC8vIE9uIEZpcmVmb3ggU2VjdXJpdHlFcnJvciBpcyB0aHJvd24gd2hpbGUgcmVmZXJlbmNpbmcgaW5kZXhlZERCIGlmIGNvb2tpZXNcbiAgLy8gYXJlIG5vdCBhbGxvd2VkLiBgdHlwZW9mIGluZGV4ZWREQmAgYWxzbyB0cmlnZ2VycyB0aGUgZXJyb3IuXG4gIHRyeSB7XG4gICAgLy8gc29tZSBvdXRkYXRlZCBpbXBsZW1lbnRhdGlvbnMgb2YgSURCIHRoYXQgYXBwZWFyIG9uIFNhbXN1bmdcbiAgICAvLyBhbmQgSFRDIEFuZHJvaWQgZGV2aWNlcyA8NC40IGFyZSBtaXNzaW5nIElEQktleVJhbmdlXG4gICAgcmV0dXJuIHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBJREJLZXlSYW5nZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIElEQlBvdWNoIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaWRiJywgSWRiUG91Y2gsIHRydWUpO1xufVxuXG4vLyBkZWFkIHNpbXBsZSBwcm9taXNlIHBvb2wsIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS90aW1kcC9lczYtcHJvbWlzZS1wb29sXG4vLyBidXQgbXVjaCBzbWFsbGVyIGluIGNvZGUgc2l6ZS4gbGltaXRzIHRoZSBudW1iZXIgb2YgY29uY3VycmVudCBwcm9taXNlcyB0aGF0IGFyZSBleGVjdXRlZFxuXG5cbmZ1bmN0aW9uIHBvb2wocHJvbWlzZUZhY3RvcmllcywgbGltaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcnVubmluZyA9IDA7XG4gICAgdmFyIGN1cnJlbnQgPSAwO1xuICAgIHZhciBkb25lID0gMDtcbiAgICB2YXIgbGVuID0gcHJvbWlzZUZhY3Rvcmllcy5sZW5ndGg7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICBydW5uaW5nKys7XG4gICAgICBwcm9taXNlRmFjdG9yaWVzW2N1cnJlbnQrK10oKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9OZXh0KCkge1xuICAgICAgaWYgKCsrZG9uZSA9PT0gbGVuKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBydW5OZXh0QmF0Y2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IodGhpc0Vycikge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZXJyID0gZXJyIHx8IHRoaXNFcnI7XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0QmF0Y2goKSB7XG4gICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmIGN1cnJlbnQgPCBsZW4pIHtcbiAgICAgICAgcnVuTmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJ1bk5leHRCYXRjaCgpO1xuICB9KTtcbn1cblxudmFyIENIQU5HRVNfQkFUQ0hfU0laRSA9IDI1O1xudmFyIE1BWF9TSU1VTFRBTkVPVVNfUkVWUyA9IDUwO1xudmFyIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgPSA1MDAwO1xudmFyIERFRkFVTFRfSEVBUlRCRUFUID0gMTAwMDA7XG5cbnZhciBzdXBwb3J0c0J1bGtHZXRNYXAgPSB7fTtcblxuZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocm93KSB7XG4gIHZhciBkb2MgPSByb3cuZG9jIHx8IHJvdy5vaztcbiAgdmFyIGF0dHMgPSBkb2MgJiYgZG9jLl9hdHRhY2htZW50cztcbiAgaWYgKCFhdHRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgIGF0dC5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZURvY0lkKGlkKSB7XG4gIGlmICgvXl9kZXNpZ24vLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfZGVzaWduLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoOCkpO1xuICB9XG4gIGlmICgvXl9sb2NhbC8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDcpKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKSB7XG4gIGlmICghZG9jLl9hdHRhY2htZW50cyB8fCAhT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgYXR0YWNobWVudCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICBpZiAoYXR0YWNobWVudC5kYXRhICYmIHR5cGVvZiBhdHRhY2htZW50LmRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgYmxvYlRvQmFzZTY0KGF0dGFjaG1lbnQuZGF0YSwgcmVzb2x2ZSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0YWNobWVudC5kYXRhID0gYjY0O1xuICAgICAgfSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGhhc1VybFByZWZpeChvcHRzKSB7XG4gIGlmICghb3B0cy5wcmVmaXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvY29sID0gcGFyc2VVcmkob3B0cy5wcmVmaXgpLnByb3RvY29sO1xuICByZXR1cm4gcHJvdG9jb2wgPT09ICdodHRwJyB8fCBwcm90b2NvbCA9PT0gJ2h0dHBzJztcbn1cblxuLy8gR2V0IGFsbCB0aGUgaW5mb3JtYXRpb24geW91IHBvc3NpYmx5IGNhbiBhYm91dCB0aGUgVVJJIGdpdmVuIGJ5IG5hbWUgYW5kXG4vLyByZXR1cm4gaXQgYXMgYSBzdWl0YWJsZSBvYmplY3QuXG5mdW5jdGlvbiBnZXRIb3N0KG5hbWUsIG9wdHMpIHtcbiAgLy8gZW5jb2RlIGRiIG5hbWUgaWYgb3B0cy5wcmVmaXggaXMgYSB1cmwgKCM1NTc0KVxuICBpZiAoaGFzVXJsUHJlZml4KG9wdHMpKSB7XG4gICAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZS5zdWJzdHIob3B0cy5wcmVmaXgubGVuZ3RoKTtcbiAgICAvLyBFbnN1cmUgcHJlZml4IGhhcyBhIHRyYWlsaW5nIHNsYXNoXG4gICAgdmFyIHByZWZpeCA9IG9wdHMucHJlZml4LnJlcGxhY2UoL1xcLz8kLywgJy8nKTtcbiAgICBuYW1lID0gcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KGRiTmFtZSk7XG4gIH1cblxuICB2YXIgdXJpID0gcGFyc2VVcmkobmFtZSk7XG4gIGlmICh1cmkudXNlciB8fCB1cmkucGFzc3dvcmQpIHtcbiAgICB1cmkuYXV0aCA9IHt1c2VybmFtZTogdXJpLnVzZXIsIHBhc3N3b3JkOiB1cmkucGFzc3dvcmR9O1xuICB9XG5cbiAgLy8gU3BsaXQgdGhlIHBhdGggcGFydCBvZiB0aGUgVVJJIGludG8gcGFydHMgdXNpbmcgJy8nIGFzIHRoZSBkZWxpbWl0ZXJcbiAgLy8gYWZ0ZXIgcmVtb3ZpbmcgYW55IGxlYWRpbmcgJy8nIGFuZCBhbnkgdHJhaWxpbmcgJy8nXG4gIHZhciBwYXJ0cyA9IHVyaS5wYXRoLnJlcGxhY2UoLyheXFwvfFxcLyQpL2csICcnKS5zcGxpdCgnLycpO1xuXG4gIHVyaS5kYiA9IHBhcnRzLnBvcCgpO1xuICAvLyBQcmV2ZW50IGRvdWJsZSBlbmNvZGluZyBvZiBVUkkgY29tcG9uZW50XG4gIGlmICh1cmkuZGIuaW5kZXhPZignJScpID09PSAtMSkge1xuICAgIHVyaS5kYiA9IGVuY29kZVVSSUNvbXBvbmVudCh1cmkuZGIpO1xuICB9XG5cbiAgdXJpLnBhdGggPSBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5EQlVybChvcHRzLCBwYXRoKSB7XG4gIHJldHVybiBnZW5Vcmwob3B0cywgb3B0cy5kYiArICcvJyArIHBhdGgpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlblVybChvcHRzLCBwYXRoKSB7XG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHZhciBwYXRoRGVsID0gIW9wdHMucGF0aCA/ICcnIDogJy8nO1xuXG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHJldHVybiBvcHRzLnByb3RvY29sICsgJzovLycgKyBvcHRzLmhvc3QgK1xuICAgICAgICAgKG9wdHMucG9ydCA/ICgnOicgKyBvcHRzLnBvcnQpIDogJycpICtcbiAgICAgICAgICcvJyArIG9wdHMucGF0aCArIHBhdGhEZWwgKyBwYXRoO1xufVxuXG5mdW5jdGlvbiBwYXJhbXNUb1N0cihwYXJhbXMpIHtcbiAgcmV0dXJuICc/JyArIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIGsgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tdKTtcbiAgfSkuam9pbignJicpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRDYWNoZUJ1c3Qob3B0cykge1xuICB2YXIgdWEgPSAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgP1xuICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIDogJyc7XG4gIHZhciBpc0lFID0gdWEuaW5kZXhPZignbXNpZScpICE9PSAtMTtcbiAgdmFyIGlzVHJpZGVudCA9IHVhLmluZGV4T2YoJ3RyaWRlbnQnKSAhPT0gLTE7XG4gIHZhciBpc0VkZ2UgPSB1YS5pbmRleE9mKCdlZGdlJykgIT09IC0xO1xuICB2YXIgaXNHRVQgPSAhKCdtZXRob2QnIGluIG9wdHMpIHx8IG9wdHMubWV0aG9kID09PSAnR0VUJztcbiAgcmV0dXJuIChpc0lFIHx8IGlzVHJpZGVudCB8fCBpc0VkZ2UpICYmIGlzR0VUO1xufVxuXG4vLyBJbXBsZW1lbnRzIHRoZSBQb3VjaERCIEFQSSBmb3IgZGVhbGluZyB3aXRoIENvdWNoREIgaW5zdGFuY2VzIG92ZXIgSFRUUFxuZnVuY3Rpb24gSHR0cFBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgLy8gVGhlIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgcHVibGljbHkgYXZhaWxhYmxlIGZvciBIdHRwUG91Y2hcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgdmFyIGhvc3QgPSBnZXRIb3N0KG9wdHMubmFtZSwgb3B0cyk7XG4gIHZhciBkYlVybCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgdmFyIG91ckZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuXG4gICAgaWYgKG9wdHMuYXV0aCB8fCBob3N0LmF1dGgpIHtcbiAgICAgIHZhciBuQXV0aCA9IG9wdHMuYXV0aCB8fCBob3N0LmF1dGg7XG4gICAgICB2YXIgc3RyID0gbkF1dGgudXNlcm5hbWUgKyAnOicgKyBuQXV0aC5wYXNzd29yZDtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXNCdG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyB0b2tlbik7XG4gICAgfVxuXG4gICAgdmFyIGhlYWRlcnMgPSBvcHRzLmhlYWRlcnMgfHwge307XG4gICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuYXBwZW5kKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICB9KTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzaG91bGRDYWNoZUJ1c3Qob3B0aW9ucykpIHtcbiAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgJ19ub25jZT0nICsgRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICB2YXIgZmV0Y2hGdW4gPSBvcHRzLmZldGNoIHx8IGYkMTtcbiAgICByZXR1cm4gZmV0Y2hGdW4odXJsLCBvcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhZGFwdGVyRnVuJCQxKG5hbWUsIGZ1bikge1xuICAgIHJldHVybiBhZGFwdGVyRnVuKG5hbWUsIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSkpLmJpbmQoYXBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoSlNPTih1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQWNjZXB0JykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJlc3VsdC5vayA9IHJlc3BvbnNlLm9rO1xuICAgICAgcmVzdWx0LnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgcmVzdWx0LmRhdGEgPSBqc29uO1xuICAgICAgaWYgKCFyZXN1bHQub2spIHtcbiAgICAgICAgcmVzdWx0LmRhdGEuc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgICAgICAgdmFyIGVyciA9IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0LmRhdGEpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhID0gcmVzdWx0LmRhdGEubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKHYuZXJyb3IgfHwgdi5taXNzaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSh2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc2V0dXBQcm9taXNlO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGlmIChvcHRzLnNraXBfc2V0dXApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHNldHVwIGluIHByb2Nlc3Mgb3IgcHJldmlvdXMgc3VjY2Vzc2Z1bCBzZXR1cFxuICAgIC8vIGRvbmUgdGhlbiB3ZSB3aWxsIHVzZSB0aGF0XG4gICAgLy8gSWYgcHJldmlvdXMgc2V0dXBzIGhhdmUgYmVlbiByZWplY3RlZCB3ZSB3aWxsIHRyeSBhZ2FpblxuICAgIGlmIChzZXR1cFByb21pc2UpIHtcbiAgICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gICAgfVxuXG4gICAgc2V0dXBQcm9taXNlID0gZmV0Y2hKU09OKGRiVXJsKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIC8vIERvZXNudCBleGlzdCwgY3JlYXRlIGl0XG4gICAgICAgIGV4cGxhaW5FcnJvcig0MDQsICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgZXhpc3RzLicpO1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKGRiVXJsLCB7bWV0aG9kOiAnUFVUJ30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gSWYgd2UgdHJ5IHRvIGNyZWF0ZSBhIGRhdGFiYXNlIHRoYXQgYWxyZWFkeSBleGlzdHMsIHNraXBwZWQgaW5cbiAgICAgIC8vIGlzdGFuYnVsIHNpbmNlIGl0cyBjYXRjaGluZyBhIHJhY2UgY29uZGl0aW9uLlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgICBzZXR1cFByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dXBQcm9taXNlID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gIH1cblxuICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gIH0pO1xuXG4gIGFwaS5fcmVtb3RlID0gdHJ1ZTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2h0dHAnO1xuICB9O1xuXG4gIGFwaS5pZCA9IGFkYXB0ZXJGdW4kJDEoJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgb3VyRmV0Y2goZ2VuVXJsKGhvc3QsICcnKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gQmFkIHJlc3BvbnNlIG9yIG1pc3NpbmcgYHV1aWRgIHNob3VsZCBub3QgcHJldmVudCBJRCBnZW5lcmF0aW9uLlxuICAgICAgdmFyIHV1aWQkJDEgPSAocmVzdWx0ICYmIHJlc3VsdC51dWlkKSA/XG4gICAgICAgICAgKHJlc3VsdC51dWlkICsgaG9zdC5kYikgOiBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCB1dWlkJCQxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gU2VuZHMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIGhvc3QgY2FsbGluZyB0aGUgY291Y2hkYiBfY29tcGFjdCBmdW5jdGlvblxuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLmNvbXBhY3QgPSBhZGFwdGVyRnVuJCQxKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2NvbXBhY3QnKSwge21ldGhvZDogJ1BPU1QnfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBwaW5nKCkge1xuICAgICAgICBhcGkuaW5mbyhmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBDb3VjaERCIG1heSBzZW5kIGEgXCJjb21wYWN0X3J1bm5pbmc6dHJ1ZVwiIGlmIGl0J3NcbiAgICAgICAgICAvLyBhbHJlYWR5IGNvbXBhY3RpbmcuIFBvdWNoREIgU2VydmVyIGRvZXNuJ3QuXG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAocmVzICYmICFyZXMuY29tcGFjdF9ydW5uaW5nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChwaW5nLCBvcHRzLmludGVydmFsIHx8IDIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFBpbmcgdGhlIGh0dHAgaWYgaXQncyBmaW5pc2hlZCBjb21wYWN0aW9uXG4gICAgICBwaW5nKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwaS5idWxrR2V0ID0gYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGRvQnVsa0dldChjYikge1xuICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19nZXQnICsgcGFyYW1zVG9TdHIocGFyYW1zKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZG9jczogb3B0cy5kb2NzfSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgIHJlc3VsdC5kYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICByZXMuZG9jcy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYihudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9KS5jYXRjaChjYik7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXRTaGltKCkge1xuICAgICAgLy8gYXZvaWQgXCJ1cmwgdG9vIGxvbmcgZXJyb3JcIiBieSBzcGxpdHRpbmcgdXAgaW50byBtdWx0aXBsZSByZXF1ZXN0c1xuICAgICAgdmFyIGJhdGNoU2l6ZSA9IE1BWF9TSU1VTFRBTkVPVVNfUkVWUztcbiAgICAgIHZhciBudW1CYXRjaGVzID0gTWF0aC5jZWlsKG9wdHMuZG9jcy5sZW5ndGggLyBiYXRjaFNpemUpO1xuICAgICAgdmFyIG51bURvbmUgPSAwO1xuICAgICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkobnVtQmF0Y2hlcyk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVzdWx0KGJhdGNoTnVtKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBlcnIgaXMgaW1wb3NzaWJsZSBiZWNhdXNlIHNoaW0gcmV0dXJucyBhIGxpc3Qgb2YgZXJycyBpbiB0aGF0IGNhc2VcbiAgICAgICAgICByZXN1bHRzW2JhdGNoTnVtXSA9IHJlcy5yZXN1bHRzO1xuICAgICAgICAgIGlmICgrK251bURvbmUgPT09IG51bUJhdGNoZXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiBmbGF0dGVuKHJlc3VsdHMpfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUJhdGNoZXM7IGkrKykge1xuICAgICAgICB2YXIgc3ViT3B0cyA9IHBpY2sob3B0cywgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdsYXRlc3QnXSk7XG4gICAgICAgIHN1Yk9wdHMuZG9jcyA9IG9wdHMuZG9jcy5zbGljZShpICogYmF0Y2hTaXplLFxuICAgICAgICAgIE1hdGgubWluKG9wdHMuZG9jcy5sZW5ndGgsIChpICsgMSkgKiBiYXRjaFNpemUpKTtcbiAgICAgICAgYnVsa0dldChzZWxmLCBzdWJPcHRzLCBvblJlc3VsdChpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWFyayB0aGUgd2hvbGUgZGF0YWJhc2UgYXMgZWl0aGVyIHN1cHBvcnRpbmcgb3Igbm90IHN1cHBvcnRpbmcgX2J1bGtfZ2V0XG4gICAgdmFyIGRiVXJsID0gZ2VuVXJsKGhvc3QsICcnKTtcbiAgICB2YXIgc3VwcG9ydHNCdWxrR2V0ID0gc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0J1bGtHZXQgIT09ICdib29sZWFuJykge1xuICAgICAgLy8gY2hlY2sgaWYgdGhpcyBkYXRhYmFzZSBzdXBwb3J0cyBfYnVsa19nZXRcbiAgICAgIGRvQnVsa0dldChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSBmYWxzZTtcbiAgICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgICBlcnIuc3RhdHVzLFxuICAgICAgICAgICAgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSAnICtcbiAgICAgICAgICAgICdzdXBwb3J0cyB0aGUgX2J1bGtfZ2V0IEFQSS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IHRydWU7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0c0J1bGtHZXQpIHtcbiAgICAgIGRvQnVsa0dldChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGxzIEdFVCBvbiB0aGUgaG9zdCwgd2hpY2ggZ2V0cyBiYWNrIGEgSlNPTiBzdHJpbmcgY29udGFpbmluZ1xuICAvLyAgICBjb3VjaGRiOiBBIHdlbGNvbWUgc3RyaW5nXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuX2luZm8gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsICcnKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgaW5mby5ob3N0ID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG4gIGFwaS5mZXRjaCA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdXJsID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJyA/XG4gICAgICAgIGdlblVybChob3N0LCBwYXRoLnN1YnN0cmluZygxKSkgOlxuICAgICAgICBnZW5EQlVybChob3N0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVGhlIGlkIGNvdWxkIGJlIHNvbGVseSB0aGUgX2lkIGluIHRoZSBkYXRhYmFzZSwgb3IgaXQgbWF5IGJlIGFcbiAgLy8gX2Rlc2lnbi9JRCBvciBfbG9jYWwvSUQgcGF0aFxuICBhcGkuZ2V0ID0gYWRhcHRlckZ1biQkMSgnZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHBhcmFtcy5yZXZzX2luZm8gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgICBpZiAob3B0cy5vcGVuX3JldnMgIT09IFwiYWxsXCIpIHtcbiAgICAgICAgb3B0cy5vcGVuX3JldnMgPSBKU09OLnN0cmluZ2lmeShvcHRzLm9wZW5fcmV2cyk7XG4gICAgICB9XG4gICAgICBwYXJhbXMub3Blbl9yZXZzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2KSB7XG4gICAgICBwYXJhbXMucmV2ID0gb3B0cy5yZXY7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gb3B0cy5jb25mbGljdHM7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSBvcHRzLnVwZGF0ZV9zZXE7XG4gICAgfVxuXG4gICAgaWQgPSBlbmNvZGVEb2NJZChpZCk7XG5cbiAgICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzKGRvYykge1xuICAgICAgdmFyIGF0dHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGZpbGVuYW1lcyA9IGF0dHMgJiYgT2JqZWN0LmtleXMoYXR0cyk7XG4gICAgICBpZiAoIWF0dHMgfHwgIWZpbGVuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gd2UgZmV0Y2ggdGhlc2UgbWFudWFsbHkgaW4gc2VwYXJhdGUgWEhScywgYmVjYXVzZVxuICAgICAgLy8gU3luYyBHYXRld2F5IHdvdWxkIG5vcm1hbGx5IHNlbmQgaXQgYmFjayBhcyBtdWx0aXBhcnQvbWl4ZWQsXG4gICAgICAvLyB3aGljaCB3ZSBjYW5ub3QgcGFyc2UuIEFsc28sIHRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhblxuICAgICAgLy8gcmVjZWl2aW5nIGF0dGFjaG1lbnRzIGFzIGJhc2U2NC1lbmNvZGVkIHN0cmluZ3MuXG4gICAgICBmdW5jdGlvbiBmZXRjaERhdGEoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICB2YXIgcGF0aCA9IGVuY29kZURvY0lkKGRvYy5faWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGZpbGVuYW1lKSArXG4gICAgICAgICAgICAnP3Jldj0nICsgZG9jLl9yZXY7XG4gICAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCBwYXRoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAoJ2J1ZmZlcicgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgICAgaWYgKG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICB2YXIgdHlwZUZpZWxkRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmxvYi5fX3Byb3RvX18sICd0eXBlJyk7XG4gICAgICAgICAgICBpZiAoIXR5cGVGaWVsZERlc2NyaXB0b3IgfHwgdHlwZUZpZWxkRGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgICAgYmxvYi50eXBlID0gYXR0LmNvbnRlbnRfdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBibG9iO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGJsb2JUb0Jhc2U2NChibG9iLCByZXNvbHZlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZUZhY3RvcmllcyA9IGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoRGF0YShmaWxlbmFtZSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhpcyBsaW1pdHMgdGhlIG51bWJlciBvZiBwYXJhbGxlbCB4aHIgcmVxdWVzdHMgdG8gNSBhbnkgdGltZVxuICAgICAgLy8gdG8gYXZvaWQgaXNzdWVzIHdpdGggbWF4aW11bSBicm93c2VyIHJlcXVlc3QgbGltaXRzXG4gICAgICByZXR1cm4gcG9vbChwcm9taXNlRmFjdG9yaWVzLCA1KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEFsbEF0dGFjaG1lbnRzKGRvY09yRG9jcykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZG9jT3JEb2NzKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jT3JEb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jLm9rKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvY09yRG9jcyk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgZmV0Y2hKU09OKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoQWxsQXR0YWNobWVudHMocmVzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzLmRhdGEpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuZG9jSWQgPSBpZDtcbiAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIERlbGV0ZSB0aGUgZG9jdW1lbnQgZ2l2ZW4gYnkgZG9jIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5yZW1vdmUgPSBhZGFwdGVyRnVuJCQxKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYikge1xuICAgIHZhciBkb2M7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0ge1xuICAgICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgICAgfTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0gZG9jT3JJZDtcbiAgICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0c09yUmV2O1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJldiA9IChkb2MuX3JldiB8fCBvcHRzLnJldik7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSArICc/cmV2PScgKyByZXY7XG5cbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNiKS5jYXRjaChjYik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpIHtcbiAgICByZXR1cm4gYXR0YWNobWVudElkLnNwbGl0KFwiL1wiKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgYXR0YWNobWVudFxuICBhcGkuZ2V0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciBwYXJhbXMgPSBvcHRzLnJldiA/ICgnP3Jldj0nICsgb3B0cy5yZXYpIDogJyc7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSkgKyAnLycgK1xuICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSArIHBhcmFtcztcbiAgICB2YXIgY29udGVudFR5cGU7XG4gICAgb3VyRmV0Y2godXJsLCB7bWV0aG9kOiAnR0VUJ30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIgJiYgdHlwZW9mIHJlc3BvbnNlLmJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAvLyBUT0RPOiBhbHNvIHJlbW92ZVxuICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyKSB7XG4gICAgICAgIGJsb2IudHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IHRoZSBpZCBhbmQgcmV2XG4gIGFwaS5yZW1vdmVBdHRhY2htZW50ID0gIGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgK1xuICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSkgKyAnP3Jldj0nICsgcmV2O1xuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gQWRkIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IGJsb2IgYW5kIGl0cyBjb250ZW50VHlwZSBwcm9wZXJ0eVxuICAvLyB0byB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQsIHRoZSByZXZpc2lvbiBnaXZlbiBieSByZXYsIGFuZFxuICAvLyBhZGQgaXQgdG8gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5wdXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LCBibG9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gdHlwZTtcbiAgICAgIHR5cGUgPSBibG9iO1xuICAgICAgYmxvYiA9IHJldjtcbiAgICAgIHJldiA9IG51bGw7XG4gICAgfVxuICAgIHZhciBpZCA9IGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCk7XG4gICAgaWYgKHJldikge1xuICAgICAgdXJsICs9ICc/cmV2PScgKyByZXY7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaW5wdXQgaXMgYXNzdW1lZCB0byBiZSBhIGJhc2U2NCBzdHJpbmdcbiAgICAgIHZhciBiaW5hcnk7XG4gICAgICB0cnkge1xuICAgICAgICBiaW5hcnkgPSB0aGlzQXRvYihibG9iKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKSk7XG4gICAgICB9XG4gICAgICBibG9iID0gYmluYXJ5ID8gYmluU3RyaW5nVG9CbHVmZmVyKGJpbmFyeSwgdHlwZSkgOiAnJztcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGF0dGFjaG1lbnRcbiAgICBmZXRjaEpTT04odXJsLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6IHR5cGV9KSxcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBibG9iXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgZ2l2ZW4gYnkgcmVxIGluIHRoZSBkYXRhYmFzZVxuICAvLyBnaXZlbiBieSBob3N0LlxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBuZXdfZWRpdHM9ZmFsc2UgdGhlbiBpdCBwcmV2ZW50cyB0aGUgZGF0YWJhc2UgZnJvbSBjcmVhdGluZ1xuICAgIC8vIG5ldyByZXZpc2lvbiBudW1iZXJzIGZvciB0aGUgZG9jdW1lbnRzLiBJbnN0ZWFkIGl0IGp1c3QgdXNlc1xuICAgIC8vIHRoZSBvbGQgb25lcy4gVGhpcyBpcyB1c2VkIGluIGRhdGFiYXNlIHJlcGxpY2F0aW9uLlxuICAgIHJlcS5uZXdfZWRpdHMgPSBvcHRzLm5ld19lZGl0cztcblxuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVxLmRvY3MubWFwKHByZXByb2Nlc3NBdHRhY2htZW50cyQxKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBVcGRhdGUvY3JlYXRlIHRoZSBkb2N1bWVudHNcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2RvY3MnKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgZG9jdW1lbnRcbiAgYXBpLl9wdXQgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRvYylcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGRvYyAmJiBkb2MuX2lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8vIEdldCBhIGxpc3Rpbmcgb2YgdGhlIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW5cbiAgLy8gYnkgaG9zdCBhbmQgb3JkZXJlZCBieSBpbmNyZWFzaW5nIGlkLlxuICBhcGkuYWxsRG9jcyA9IGFkYXB0ZXJGdW4kJDEoJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gYWRkZWQgaW4gQ291Y2hEQiAxLjYuMFxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmtleSkge1xuICAgICAgcGFyYW1zLmtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMua2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydGtleSkge1xuICAgICAgcGFyYW1zLnN0YXJ0a2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zdGFydGtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5ka2V5KSB7XG4gICAgICBwYXJhbXMuZW5ka2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5lbmRrZXkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5pbmNsdXNpdmVfZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmluY2x1c2l2ZV9lbmQgPSAhIW9wdHMuaW5jbHVzaXZlX2VuZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnNraXAgPSBvcHRzLnNraXA7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtU3RyID0gcGFyYW1zVG9TdHIocGFyYW1zKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgIH1cblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2FsbF9kb2NzJyArIHBhcmFtU3RyKSwge1xuICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnJvd3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBHZXQgYSBsaXN0IG9mIGNoYW5nZXMgbWFkZSB0byBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRPRE8gQWNjb3JkaW5nIHRvIHRoZSBSRUFETUUsIHRoZXJlIHNob3VsZCBiZSB0d28gb3RoZXIgbWV0aG9kcyBoZXJlLFxuICAvLyBhcGkuY2hhbmdlcy5hZGRMaXN0ZW5lciBhbmQgYXBpLmNoYW5nZXMucmVtb3ZlTGlzdGVuZXIuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG5cbiAgICAvLyBXZSBpbnRlcm5hbGx5IHBhZ2UgdGhlIHJlc3VsdHMgb2YgYSBjaGFuZ2VzIHJlcXVlc3QsIHRoaXMgbWVhbnNcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGxhcmdlIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHJldHVybmVkIHdlIGNhbiBzdGFydFxuICAgIC8vIHByb2Nlc3NpbmcgdGhlbSBxdWlja2VyIGluc3RlYWQgb2Ygd2FpdGluZyBvbiB0aGUgZW50aXJlXG4gICAgLy8gc2V0IG9mIGNoYW5nZXMgdG8gcmV0dXJuIGFuZCBhdHRlbXB0aW5nIHRvIHByb2Nlc3MgdGhlbSBhdCBvbmNlXG4gICAgdmFyIGJhdGNoU2l6ZSA9ICdiYXRjaF9zaXplJyBpbiBvcHRzID8gb3B0cy5iYXRjaF9zaXplIDogQ0hBTkdFU19CQVRDSF9TSVpFO1xuXG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgaWYgKG9wdHMuY29udGludW91cyAmJiAhKCdoZWFydGJlYXQnIGluIG9wdHMpKSB7XG4gICAgICBvcHRzLmhlYXJ0YmVhdCA9IERFRkFVTFRfSEVBUlRCRUFUO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0VGltZW91dCA9ICgndGltZW91dCcgaW4gb3B0cykgPyBvcHRzLnRpbWVvdXQgOiAzMCAqIDEwMDA7XG5cbiAgICAvLyBlbnN1cmUgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiBhcHBsaWVzXG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCAmJlxuICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy50aW1lb3V0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzICYmIG9wdHMuaGVhcnRiZWF0ICYmXG4gICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy5oZWFydGJlYXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMuaGVhcnRiZWF0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCkge1xuICAgICAgcGFyYW1zLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykgPyBvcHRzLmxpbWl0IDogZmFsc2U7XG4gICAgdmFyIGxlZnRUb0ZldGNoID0gbGltaXQ7XG5cbiAgICBpZiAob3B0cy5zdHlsZSkge1xuICAgICAgcGFyYW1zLnN0eWxlID0gb3B0cy5zdHlsZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgfHwgb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgICBwYXJhbXMuZmVlZCA9ICdsb25ncG9sbCc7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc2VxX2ludGVydmFsKSB7XG4gICAgICBwYXJhbXMuc2VxX2ludGVydmFsID0gb3B0cy5zZXFfaW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAvLyBJZiB0aGUgaGVhcnRiZWF0IHZhbHVlIGlzIGZhbHNlLCBpdCBkaXNhYmxlcyB0aGUgZGVmYXVsdCBoZWFydGJlYXRcbiAgICAgIGlmIChvcHRzLmhlYXJ0YmVhdCkge1xuICAgICAgICBwYXJhbXMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy52aWV3ICYmIHR5cGVvZiBvcHRzLnZpZXcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ192aWV3JztcbiAgICAgIHBhcmFtcy52aWV3ID0gb3B0cy52aWV3O1xuICAgIH1cblxuICAgIC8vIElmIG9wdHMucXVlcnlfcGFyYW1zIGV4aXN0cywgcGFzcyBpdCB0aHJvdWdoIHRvIHRoZSBjaGFuZ2VzIHJlcXVlc3QuXG4gICAgLy8gVGhlc2UgcGFyYW1ldGVycyBtYXkgYmUgdXNlZCBieSB0aGUgZmlsdGVyIG9uIHRoZSBzb3VyY2UgZGF0YWJhc2UuXG4gICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zICYmIHR5cGVvZiBvcHRzLnF1ZXJ5X3BhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzLnF1ZXJ5X3BhcmFtcywgcGFyYW1fbmFtZSkpIHtcbiAgICAgICAgICBwYXJhbXNbcGFyYW1fbmFtZV0gPSBvcHRzLnF1ZXJ5X3BhcmFtc1twYXJhbV9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgYm9keTtcblxuICAgIGlmIChvcHRzLmRvY19pZHMpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyOyBpdCdzIGFubm95aW5nIHRoYXQgY291Y2hkYlxuICAgICAgLy8gcmVxdWlyZXMgYm90aCBhIFwiZmlsdGVyXCIgYW5kIGEgXCJkb2NfaWRzXCIgcGFyYW0uXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19kb2NfaWRzJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7ZG9jX2lkczogb3B0cy5kb2NfaWRzIH07XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXIsIHNpbWlsYXIgdG8gYWJvdmVcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7c2VsZWN0b3I6IG9wdHMuc2VsZWN0b3IgfTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBhKCk7XG4gICAgdmFyIGxhc3RGZXRjaGVkU2VxO1xuXG4gICAgLy8gR2V0IGFsbCB0aGUgY2hhbmdlcyBzdGFydGluZyB3dGloIHRoZSBvbmUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgLy8gc2VxdWVuY2UgbnVtYmVyIGdpdmVuIGJ5IHNpbmNlLlxuICAgIHZhciBmZXRjaERhdGEgPSBmdW5jdGlvbiAoc2luY2UsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5zaW5jZSA9IHNpbmNlO1xuICAgICAgLy8gXCJzaW5jZVwiIGNhbiBiZSBhbnkga2luZCBvZiBqc29uIG9iamVjdCBpbiBDbG91ZGFudC9Db3VjaERCIDIueFxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNpbmNlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHBhcmFtcy5zaW5jZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcy5zaW5jZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgcGFyYW1zLmxpbWl0ID0gbGVmdFRvRmV0Y2g7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5saW1pdCA9ICghbGltaXQgfHwgbGVmdFRvRmV0Y2ggPiBiYXRjaFNpemUpID9cbiAgICAgICAgICBiYXRjaFNpemUgOiBsZWZ0VG9GZXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBvcHRpb25zIGZvciB0aGUgYWpheCBjYWxsXG4gICAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgJ19jaGFuZ2VzJyArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgICAgdmFyIGZldGNoT3B0cyA9IHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9O1xuICAgICAgbGFzdEZldGNoZWRTZXEgPSBzaW5jZTtcblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBjaGFuZ2VzXG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKHVybCwgZmV0Y2hPcHRzLCBjYWxsYmFjayk7XG4gICAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIC8vIElmIG9wdHMuc2luY2UgZXhpc3RzLCBnZXQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gdGhlIHNlcXVlbmNlXG4gICAgLy8gbnVtYmVyIGdpdmVuIGJ5IG9wdHMuc2luY2UuIE90aGVyd2lzZSwgZ2V0IGFsbCB0aGUgY2hhbmdlc1xuICAgIC8vIGZyb20gdGhlIHNlcXVlbmNlIG51bWJlciAwLlxuICAgIHZhciByZXN1bHRzID0ge3Jlc3VsdHM6IFtdfTtcblxuICAgIHZhciBmZXRjaGVkID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByYXdfcmVzdWx0c19sZW5ndGggPSAwO1xuICAgICAgLy8gSWYgdGhlIHJlc3VsdCBvZiB0aGUgYWpheCBjYWxsIChyZXMpIGNvbnRhaW5zIGNoYW5nZXMgKHJlcy5yZXN1bHRzKVxuICAgICAgaWYgKHJlcyAmJiByZXMucmVzdWx0cykge1xuICAgICAgICByYXdfcmVzdWx0c19sZW5ndGggPSByZXMucmVzdWx0cy5sZW5ndGg7XG4gICAgICAgIHJlc3VsdHMubGFzdF9zZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICAgIHZhciBwZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RTZXEgPSBudWxsO1xuICAgICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHR5cGVvZiByZXMucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBwZW5kaW5nID0gcmVzLnBlbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBsYXN0U2VxID0gcmVzdWx0cy5sYXN0X3NlcTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3IgZWFjaCBjaGFuZ2VcbiAgICAgICAgdmFyIHJlcSA9IHt9O1xuICAgICAgICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgcmVzLnJlc3VsdHMgPSByZXMucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBsZWZ0VG9GZXRjaC0tO1xuICAgICAgICAgIHZhciByZXQgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoYyk7XG4gICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICAgICAgICByZXN1bHRzLnJlc3VsdHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoYywgcGVuZGluZywgbGFzdFNlcSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciwgc3RvcCBsaXN0ZW5pbmcgZm9yIGNoYW5nZXMgYW5kIGNhbGxcbiAgICAgICAgLy8gb3B0cy5jb21wbGV0ZVxuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNoYW5nZXMgZmVlZCBtYXkgaGF2ZSB0aW1lZCBvdXQgd2l0aCBubyByZXN1bHRzXG4gICAgICAvLyBpZiBzbyByZXVzZSBsYXN0IHVwZGF0ZSBzZXF1ZW5jZVxuICAgICAgaWYgKHJlcyAmJiByZXMubGFzdF9zZXEpIHtcbiAgICAgICAgbGFzdEZldGNoZWRTZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaW5pc2hlZCA9IChsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSB8fFxuICAgICAgICAocmVzICYmIHJhd19yZXN1bHRzX2xlbmd0aCA8IGJhdGNoU2l6ZSkgfHxcbiAgICAgICAgKG9wdHMuZGVzY2VuZGluZyk7XG5cbiAgICAgIGlmICgob3B0cy5jb250aW51b3VzICYmICEobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkpIHx8ICFmaW5pc2hlZCkge1xuICAgICAgICAvLyBRdWV1ZSBhIGNhbGwgdG8gZmV0Y2ggYWdhaW4gd2l0aCB0aGUgbmV3ZXN0IHNlcXVlbmNlIG51bWJlclxuICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkgeyBmZXRjaERhdGEobGFzdEZldGNoZWRTZXEsIGZldGNoZWQpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvbmUsIGNhbGwgdGhlIGNhbGxiYWNrXG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZldGNoRGF0YShvcHRzLnNpbmNlIHx8IDAsIGZldGNoZWQpO1xuXG4gICAgLy8gUmV0dXJuIGEgbWV0aG9kIHRvIGNhbmNlbCB0aGlzIG1ldGhvZCBmcm9tIHByb2Nlc3NpbmcgYW55IG1vcmVcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgc2V0IG9mIGRvY3VtZW50L3JldmlzaW9uIElEcyAoZ2l2ZW4gYnkgcmVxKSwgdGV0cyB0aGUgc3Vic2V0IG9mXG4gIC8vIHRob3NlIHRoYXQgZG8gTk9UIGNvcnJlc3BvbmQgdG8gcmV2aXNpb25zIHN0b3JlZCBpbiB0aGUgZGF0YWJhc2UuXG4gIC8vIFNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSHR0cFBvc3RSZXZzRGlmZlxuICBhcGkucmV2c0RpZmYgPSBhZGFwdGVyRnVuJCQxKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIGJlIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBtaXNzaW5nIGRvY3VtZW50L3JldmlzaW9uIElEc1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX3JldnNfZGlmZicpLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJycpLCB7bWV0aG9kOiAnREVMRVRFJ30pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGpzb24pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIEh0dHBQb3VjaCBpcyBhIHZhbGlkIGFkYXB0ZXIuXG5IdHRwUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gSHR0cFBvdWNoJDEgKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwJywgSHR0cFBvdWNoLCBmYWxzZSk7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cHMnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gUXVlcnlQYXJzZUVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIHRoaXMubmFtZSA9ICdxdWVyeV9wYXJzZV9lcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFF1ZXJ5UGFyc2VFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKFF1ZXJ5UGFyc2VFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBOb3RGb3VuZEVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDQ7XG4gIHRoaXMubmFtZSA9ICdub3RfZm91bmQnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBOb3RGb3VuZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoTm90Rm91bmRFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBCdWlsdEluRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDUwMDtcbiAgdGhpcy5uYW1lID0gJ2ludmFsaWRfdmFsdWUnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBCdWlsdEluRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhCdWlsdEluRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkoZnVuKSB7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpO1xuICAgIHZhciBwcm9taXNlID0gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbi8vIFByb21pc2UgZmluYWxseSB1dGlsIHNpbWlsYXIgdG8gUS5maW5hbGx5XG5mdW5jdGlvbiBmaW4ocHJvbWlzZSwgZmluYWxQcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyByZWFzb247XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXF1ZW50aWFsaXplKHF1ZXVlLCBwcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICByZXR1cm4gcXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcm9taXNlRmFjdG9yeS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gdW5pcSBhbiBhcnJheSBvZiBzdHJpbmdzLCBvcmRlciBub3QgZ3VhcmFudGVlZFxuLy8gc2ltaWxhciB0byB1bmRlcnNjb3JlL2xvZGFzaCBfLnVuaXFcbmZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gIHZhciB0aGVTZXQgPSBuZXcgRXhwb3J0ZWRTZXQoYXJyKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0aGVTZXQuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICB0aGVTZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1hcFRvS2V5c0FycmF5KG1hcCkge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KG1hcC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0ga2V5O1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVpbHRJbkVycm9yKG5hbWUpIHtcbiAgdmFyIG1lc3NhZ2UgPSAnYnVpbHRpbiAnICsgbmFtZSArXG4gICAgJyBmdW5jdGlvbiByZXF1aXJlcyBtYXAgdmFsdWVzIHRvIGJlIG51bWJlcnMnICtcbiAgICAnIG9yIG51bWJlciBhcnJheXMnO1xuICByZXR1cm4gbmV3IEJ1aWx0SW5FcnJvcihtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gc3VtKHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShudW0pKSB7XG4gICAgICAgIC8vIGxpc3RzIG9mIG51bWJlcnMgYXJlIGFsc28gYWxsb3dlZCwgc3VtIHRoZW0gc2VwYXJhdGVseVxuICAgICAgICByZXN1bHQgPSB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJyA/IFtyZXN1bHRdIDogcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgakxlbiA9IG51bS5sZW5ndGg7IGogPCBqTGVuOyBqKyspIHtcbiAgICAgICAgICB2YXIgak51bSA9IG51bVtqXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGpOdW0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHRbal0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChqTnVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2pdICs9IGpOdW07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBub3QgYXJyYXkvbnVtYmVyXG4gICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJlc3VsdCArPSBudW07XG4gICAgfSBlbHNlIHsgLy8gYWRkIG51bWJlciB0byBhcnJheVxuICAgICAgcmVzdWx0WzBdICs9IG51bTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIGxvZyA9IGd1YXJkZWRDb25zb2xlLmJpbmQobnVsbCwgJ2xvZycpO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHRvSlNPTiA9IEpTT04ucGFyc2U7XG5cbmZ1bmN0aW9uIGV2YWxGdW5jdGlvbldpdGhFdmFsKGZ1bmMsIGVtaXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbChcbiAgICBcInJldHVybiAoXCIgKyBmdW5jLnJlcGxhY2UoLztcXHMqJC8sIFwiXCIpICsgXCIpO1wiLFxuICAgIHtcbiAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICBzdW06IHN1bSxcbiAgICAgIGxvZzogbG9nLFxuICAgICAgaXNBcnJheTogaXNBcnJheSxcbiAgICAgIHRvSlNPTjogdG9KU09OXG4gICAgfVxuICApO1xufVxuXG4vKlxuICogU2ltcGxlIHRhc2sgcXVldWUgdG8gc2VxdWVudGlhbGl6ZSBhY3Rpb25zLiBBc3N1bWVzXG4gKiBjYWxsYmFja3Mgd2lsbCBldmVudHVhbGx5IGZpcmUgKG9uY2UpLlxuICovXG5cblxuZnVuY3Rpb24gVGFza1F1ZXVlJDEoKSB7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsKSB7ZnVsZmlsbCgpOyB9KTtcbn1cblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocHJvbWlzZUZhY3RvcnkpIHtcbiAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBqdXN0IHJlY292ZXJcbiAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb21pc2VGYWN0b3J5KCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJzsgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3IgZW1wdHkgcmVkdWNlXG4gIH1cbiAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXQgd2l0aCBtYXByZWR1Y2UsIGZ1bmN0aW9ucy9zdHJpbmdzIGFyZSBzdHJpbmdpZmllZFxuICAvLyBhcy1pcy4gZXZlcnl0aGluZyBlbHNlIGlzIEpTT04tc3RyaW5naWZpZWQuXG4gIHN3aXRjaCAodHlwZW9mIGlucHV0KSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBtYXBcbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIGJ1aWx0LWluIF9yZWR1Y2UgZnVuY3Rpb25cbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBlLmcuIGEgSlNPTiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgbWFuZ28gcXVlcmllc1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGlucHV0KTtcbiAgfVxufVxuXG4vKiBjcmVhdGUgYSBzdHJpbmcgc2lnbmF0dXJlIGZvciBhIHZpZXcgc28gd2UgY2FuIGNhY2hlIGl0IGFuZCB1bmlxIGl0ICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKSB7XG4gIC8vIHRoZSBcInVuZGVmaW5lZFwiIHBhcnQgaXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIHJldHVybiBzdHJpbmdpZnkobWFwRnVuKSArIHN0cmluZ2lmeShyZWR1Y2VGdW4pICsgJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVZpZXcoc291cmNlREIsIHZpZXdOYW1lLCBtYXBGdW4sIHJlZHVjZUZ1biwgdGVtcG9yYXJ5LCBsb2NhbERvY05hbWUpIHtcbiAgdmFyIHZpZXdTaWduYXR1cmUgPSBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKTtcblxuICB2YXIgY2FjaGVkVmlld3M7XG4gIGlmICghdGVtcG9yYXJ5KSB7XG4gICAgLy8gY2FjaGUgdGhpcyB0byBlbnN1cmUgd2UgZG9uJ3QgdHJ5IHRvIHVwZGF0ZSB0aGUgc2FtZSB2aWV3IHR3aWNlXG4gICAgY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgfHwge307XG4gICAgaWYgKGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdKSB7XG4gICAgICByZXR1cm4gY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb21pc2VGb3JWaWV3ID0gc291cmNlREIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcblxuICAgIHZhciBkZXBEYk5hbWUgPSBpbmZvLmRiX25hbWUgKyAnLW1ydmlldy0nICtcbiAgICAgICh0ZW1wb3JhcnkgPyAndGVtcCcgOiBzdHJpbmdNZDUodmlld1NpZ25hdHVyZSkpO1xuXG4gICAgLy8gc2F2ZSB0aGUgdmlldyBuYW1lIGluIHRoZSBzb3VyY2UgZGIgc28gaXQgY2FuIGJlIGNsZWFuZWQgdXAgaWYgbmVjZXNzYXJ5XG4gICAgLy8gKGUuZy4gd2hlbiB0aGUgX2Rlc2lnbiBkb2MgaXMgZGVsZXRlZCwgcmVtb3ZlIGFsbCBhc3NvY2lhdGVkIHZpZXcgZGF0YSlcbiAgICBmdW5jdGlvbiBkaWZmRnVuY3Rpb24oZG9jKSB7XG4gICAgICBkb2Mudmlld3MgPSBkb2Mudmlld3MgfHwge307XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICBpZiAoZnVsbFZpZXdOYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEpIHtcbiAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXBEYnMgPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdIHx8IHt9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZGVwRGJzW2RlcERiTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuOyAvLyBubyB1cGRhdGUgbmVjZXNzYXJ5XG4gICAgICB9XG4gICAgICBkZXBEYnNbZGVwRGJOYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KHNvdXJjZURCLCAnX2xvY2FsLycgKyBsb2NhbERvY05hbWUsIGRpZmZGdW5jdGlvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc291cmNlREIucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZShkZXBEYk5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgZGIgPSByZXMuZGI7XG4gICAgICAgIGRiLmF1dG9fY29tcGFjdGlvbiA9IHRydWU7XG4gICAgICAgIHZhciB2aWV3ID0ge1xuICAgICAgICAgIG5hbWU6IGRlcERiTmFtZSxcbiAgICAgICAgICBkYjogZGIsXG4gICAgICAgICAgc291cmNlREI6IHNvdXJjZURCLFxuICAgICAgICAgIGFkYXB0ZXI6IHNvdXJjZURCLmFkYXB0ZXIsXG4gICAgICAgICAgbWFwRnVuOiBtYXBGdW4sXG4gICAgICAgICAgcmVkdWNlRnVuOiByZWR1Y2VGdW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KCdfbG9jYWwvbGFzdFNlcScpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgICAgdmlldy5zZXEgPSBsYXN0U2VxRG9jID8gbGFzdFNlcURvYy5zZXEgOiAwO1xuICAgICAgICAgIGlmIChjYWNoZWRWaWV3cykge1xuICAgICAgICAgICAgdmlldy5kYi5vbmNlKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0gPSBwcm9taXNlRm9yVmlldztcbiAgfVxuICByZXR1cm4gcHJvbWlzZUZvclZpZXc7XG59XG5cbnZhciBwZXJzaXN0ZW50UXVldWVzID0ge307XG52YXIgdGVtcFZpZXdRdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xudmFyIENIQU5HRVNfQkFUQ0hfU0laRSQxID0gNTA7XG5cbmZ1bmN0aW9uIHBhcnNlVmlld05hbWUobmFtZSkge1xuICAvLyBjYW4gYmUgZWl0aGVyICdkZG9jbmFtZS92aWV3bmFtZScgb3IganVzdCAndmlld25hbWUnXG4gIC8vICh3aGVyZSB0aGUgZGRvYyBuYW1lIGlzIHRoZSBzYW1lKVxuICByZXR1cm4gbmFtZS5pbmRleE9mKCcvJykgPT09IC0xID8gW25hbWUsIG5hbWVdIDogbmFtZS5zcGxpdCgnLycpO1xufVxuXG5mdW5jdGlvbiBpc0dlbk9uZShjaGFuZ2VzKSB7XG4gIC8vIG9ubHkgcmV0dXJuIHRydWUgaWYgdGhlIGN1cnJlbnQgY2hhbmdlIGlzIDEtXG4gIC8vIGFuZCB0aGVyZSBhcmUgbm8gb3RoZXIgbGVhZnNcbiAgcmV0dXJuIGNoYW5nZXMubGVuZ3RoID09PSAxICYmIC9eMS0vLnRlc3QoY2hhbmdlc1swXS5yZXYpO1xufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3IoZGIsIGUpIHtcbiAgdHJ5IHtcbiAgICBkYi5lbWl0KCdlcnJvcicsIGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLFxuICAgICAgJ1RoZSB1c2VyXFwncyBtYXAvcmVkdWNlIGZ1bmN0aW9uIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yLlxcbicgK1xuICAgICAgJ1lvdSBjYW4gZGVidWcgdGhpcyBlcnJvciBieSBkb2luZzpcXG4nICtcbiAgICAgICdteURhdGFiYXNlLm9uKFxcJ2Vycm9yXFwnLCBmdW5jdGlvbiAoZXJyKSB7IGRlYnVnZ2VyOyB9KTtcXG4nICtcbiAgICAgICdQbGVhc2UgZG91YmxlLWNoZWNrIHlvdXIgbWFwL3JlZHVjZSBmdW5jdGlvbi4nKTtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYW4gXCJhYnN0cmFjdFwiIG1hcHJlZHVjZSBvYmplY3Qgb2YgdGhlIGZvcm06XG4gKlxuICogICB7XG4gKiAgICAgcXVlcnk6IHF1ZXJ5RnVuLFxuICogICAgIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cEZ1blxuICogICB9XG4gKlxuICogQXJndW1lbnRzIGFyZTpcbiAqXG4gKiBsb2NhbERvYzogc3RyaW5nXG4gKiAgIFRoaXMgaXMgZm9yIHRoZSBsb2NhbCBkb2MgdGhhdCBnZXRzIHNhdmVkIGluIG9yZGVyIHRvIHRyYWNrIHRoZVxuICogICBcImRlcGVuZGVudFwiIERCcyBhbmQgY2xlYW4gdGhlbSB1cCBmb3Igdmlld0NsZWFudXAuIEl0IHNob3VsZCBiZVxuICogICB1bmlxdWUsIHNvIHRoYXQgaW5kZXhlciBwbHVnaW5zIGRvbid0IGNvbGxpZGUgd2l0aCBlYWNoIG90aGVyLlxuICogbWFwcGVyOiBmdW5jdGlvbiAobWFwRnVuRGVmLCBlbWl0KVxuICogICBSZXR1cm5zIGEgbWFwIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSBtYXBGdW5EZWYsIHdoaWNoIGluIHRoZSBjYXNlIG9mXG4gKiAgIG5vcm1hbCBtYXAvcmVkdWNlIGlzIGp1c3QgdGhlIGRlLXN0cmluZ2lmaWVkIGZ1bmN0aW9uLCBidXQgbWF5IGJlXG4gKiAgIHNvbWV0aGluZyBlbHNlLCBzdWNoIGFzIGFuIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBwb3VjaGRiLWZpbmQuXG4gKiByZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlRnVuRGVmKVxuICogICBEaXR0bywgYnV0IGZvciByZWR1Y2luZy4gTW9kdWxlcyBkb24ndCBoYXZlIHRvIHN1cHBvcnQgcmVkdWNpbmdcbiAqICAgKGUuZy4gcG91Y2hkYi1maW5kKS5cbiAqIGRkb2NWYWxpZGF0b3I6IGZ1bmN0aW9uIChkZG9jLCB2aWV3TmFtZSlcbiAqICAgVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBkZG9jIG9yIHZpZXdOYW1lIGlzIG5vdCB2YWxpZC5cbiAqICAgVGhpcyBjb3VsZCBiZSBhIHdheSB0byBjb21tdW5pY2F0ZSB0byB0aGUgdXNlciB0aGF0IHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGVcbiAqICAgaW5kZXhlciBpcyBpbnZhbGlkLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcikge1xuXG4gIGZ1bmN0aW9uIHRyeU1hcChkYiwgZnVuLCBkb2MpIHtcbiAgICAvLyBlbWl0IGFuIGV2ZW50IGlmIHRoZXJlIHdhcyBhbiBlcnJvciB0aHJvd24gYnkgYSBtYXAgZnVuY3Rpb24uXG4gICAgLy8gcHV0dGluZyB0cnkvY2F0Y2hlcyBpbiBhIHNpbmdsZSBmdW5jdGlvbiBhbHNvIGF2b2lkcyBkZW9wdGltaXphdGlvbnMuXG4gICAgdHJ5IHtcbiAgICAgIGZ1bihkb2MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5UmVkdWNlKGRiLCBmdW4sIGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpIHtcbiAgICAvLyBzYW1lIGFzIGFib3ZlLCBidXQgcmV0dXJuaW5nIHRoZSByZXN1bHQgb3IgYW4gZXJyb3IuIHRoZXJlIGFyZSB0d28gc2VwYXJhdGVcbiAgICAvLyBmdW5jdGlvbnMgdG8gYXZvaWQgZXh0cmEgbWVtb3J5IGFsbG9jYXRpb25zIHNpbmNlIHRoZSB0cnlDb2RlKCkgY2FzZSBpcyB1c2VkXG4gICAgLy8gZm9yIGN1c3RvbSBtYXAgZnVuY3Rpb25zIChjb21tb24pIHZzIHRoaXMgZnVuY3Rpb24sIHdoaWNoIGlzIG9ubHkgdXNlZCBmb3JcbiAgICAvLyBjdXN0b20gcmVkdWNlIGZ1bmN0aW9ucyAocmFyZSlcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtvdXRwdXQgOiBmdW4oa2V5cywgdmFsdWVzLCByZXJlZHVjZSl9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzb3J0QnlLZXlUaGVuVmFsdWUoeCwgeSkge1xuICAgIHZhciBrZXlDb21wYXJlID0gY29sbGF0ZSh4LmtleSwgeS5rZXkpO1xuICAgIHJldHVybiBrZXlDb21wYXJlICE9PSAwID8ga2V5Q29tcGFyZSA6IGNvbGxhdGUoeC52YWx1ZSwgeS52YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbGljZVJlc3VsdHMocmVzdWx0cywgbGltaXQsIHNraXApIHtcbiAgICBza2lwID0gc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2YgbGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwLCBsaW1pdCArIHNraXApO1xuICAgIH0gZWxzZSBpZiAoc2tpcCA+IDApIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJvd1RvRG9jSWQocm93KSB7XG4gICAgdmFyIHZhbCA9IHJvdy52YWx1ZTtcbiAgICAvLyBVc2VycyBjYW4gZXhwbGljaXRseSBzcGVjaWZ5IGEgam9pbmVkIGRvYyBfaWQsIG9yIGl0XG4gICAgLy8gZGVmYXVsdHMgdG8gdGhlIGRvYyBfaWQgdGhhdCBlbWl0dGVkIHRoZSBrZXkvdmFsdWUuXG4gICAgdmFyIGRvY0lkID0gKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwuX2lkKSB8fCByb3cuaWQ7XG4gICAgcmV0dXJuIGRvY0lkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKSB7XG4gICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICB2YXIgYXR0cyA9IHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHM7XG4gICAgICBpZiAoIWF0dHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICBhdHRzW2ZpbGVuYW1lXS5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRIdHRwUGFyYW0ocGFyYW1OYW1lLCBvcHRzLCBwYXJhbXMsIGFzSnNvbikge1xuICAgIC8vIGFkZCBhbiBodHRwIHBhcmFtIGZyb20gb3B0cyB0byBwYXJhbXMsIG9wdGlvbmFsbHkganNvbi1lbmNvZGVkXG4gICAgdmFyIHZhbCA9IG9wdHNbcGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChhc0pzb24pIHtcbiAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgdmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VJbnRlZ2VyKGludGVnZXJDYW5kaWRhdGUpIHtcbiAgICBpZiAodHlwZW9mIGludGVnZXJDYW5kaWRhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXNOdW1iZXIgPSBOdW1iZXIoaW50ZWdlckNhbmRpZGF0ZSk7XG4gICAgICAvLyBwcmV2ZW50cyBlLmcuICcxZm9vJyBvciAnMS4xJyBiZWluZyBjb2VyY2VkIHRvIDFcbiAgICAgIGlmICghaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID09PSBwYXJzZUludChpbnRlZ2VyQ2FuZGlkYXRlLCAxMCkpIHtcbiAgICAgICAgcmV0dXJuIGFzTnVtYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludGVnZXJDYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlT3B0aW9ucyhvcHRzKSB7XG4gICAgb3B0cy5ncm91cF9sZXZlbCA9IGNvZXJjZUludGVnZXIob3B0cy5ncm91cF9sZXZlbCk7XG4gICAgb3B0cy5saW1pdCA9IGNvZXJjZUludGVnZXIob3B0cy5saW1pdCk7XG4gICAgb3B0cy5za2lwID0gY29lcmNlSW50ZWdlcihvcHRzLnNraXApO1xuICAgIHJldHVybiBvcHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tQb3NpdGl2ZUludGVnZXIobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlcikge1xuICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAgbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgaW50ZWdlcjogXCInICtcbiAgICAgICAgICBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBwb3NpdGl2ZSBpbnRlZ2VyOiAnICtcbiAgICAgICAgICAnXCInICsgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0aW9ucywgZnVuKSB7XG4gICAgdmFyIHN0YXJ0a2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdlbmRrZXknIDogJ3N0YXJ0a2V5JztcbiAgICB2YXIgZW5ka2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdzdGFydGtleScgOiAnZW5ka2V5JztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tzdGFydGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIG9wdGlvbnNbZW5ka2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBjb2xsYXRlKG9wdGlvbnNbc3RhcnRrZXlOYW1lXSwgb3B0aW9uc1tlbmRrZXlOYW1lXSkgPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdObyByb3dzIGNhbiBtYXRjaCB5b3VyIGtleSByYW5nZSwgJyArXG4gICAgICAgICdyZXZlcnNlIHlvdXIgc3RhcnRfa2V5IGFuZCBlbmRfa2V5IG9yIHNldCB7ZGVzY2VuZGluZyA6IHRydWV9Jyk7XG4gICAgfSBlbHNlIGlmIChmdW4ucmVkdWNlICYmIG9wdGlvbnMucmVkdWNlICE9PSBmYWxzZSkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ3tpbmNsdWRlX2RvY3M6dHJ1ZX0gaXMgaW52YWxpZCBmb3IgcmVkdWNlJyk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMubGVuZ3RoID4gMSAmJlxuICAgICAgICAhb3B0aW9ucy5ncm91cCAmJiAhb3B0aW9ucy5ncm91cF9sZXZlbCkge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdNdWx0aS1rZXkgZmV0Y2hlcyBmb3IgcmVkdWNlIHZpZXdzIG11c3QgdXNlICcgK1xuICAgICAgICAgICd7Z3JvdXA6IHRydWV9Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIFsnZ3JvdXBfbGV2ZWwnLCAnbGltaXQnLCAnc2tpcCddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbk5hbWUpIHtcbiAgICAgIHZhciBlcnJvciA9IGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG9wdGlvbnNbb3B0aW9uTmFtZV0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBQVVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIG9rLCBzdGF0dXM7XG5cbiAgICAvLyBJZiBvcHRzLnJlZHVjZSBleGlzdHMgYW5kIGlzIGRlZmluZWQsIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgLy8gb2YgcGFyYW1ldGVycy5cbiAgICAvLyBJZiByZWR1Y2U9ZmFsc2UgdGhlbiB0aGUgcmVzdWx0cyBhcmUgdGhhdCBvZiBvbmx5IHRoZSBtYXAgZnVuY3Rpb25cbiAgICAvLyBub3QgdGhlIGZpbmFsIHJlc3VsdCBvZiBtYXAgYW5kIHJlZHVjZS5cbiAgICBhZGRIdHRwUGFyYW0oJ3JlZHVjZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdWRlX2RvY3MnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnYXR0YWNobWVudHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnbGltaXQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZGVzY2VuZGluZycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cF9sZXZlbCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdza2lwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YWxlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2NvbmZsaWN0cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5ka2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVzaXZlX2VuZCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgndXBkYXRlX3NlcScsIG9wdHMsIHBhcmFtcyk7XG5cbiAgICAvLyBGb3JtYXQgdGhlIGxpc3Qgb2YgcGFyYW1ldGVycyBpbnRvIGEgdmFsaWQgVVJJIHF1ZXJ5IHN0cmluZ1xuICAgIHBhcmFtcyA9IHBhcmFtcy5qb2luKCcmJyk7XG4gICAgcGFyYW1zID0gcGFyYW1zID09PSAnJyA/ICcnIDogJz8nICsgcGFyYW1zO1xuXG4gICAgLy8gSWYga2V5cyBhcmUgc3VwcGxpZWQsIGlzc3VlIGEgUE9TVCB0byBjaXJjdW12ZW50IEdFVCBxdWVyeSBzdHJpbmcgbGltaXRzXG4gICAgLy8gc2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IVFRQX3ZpZXdfQVBJI1F1ZXJ5aW5nX09wdGlvbnNcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBNQVhfVVJMX0xFTkdUSCA9IDIwMDA7XG4gICAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDE3MTg0LzY4MDc0MixcbiAgICAgIC8vIHRoZSBkZSBmYWN0byBVUkwgbGVuZ3RoIGxpbWl0IGlzIDIwMDAgY2hhcmFjdGVyc1xuXG4gICAgICB2YXIga2V5c0FzU3RyaW5nID1cbiAgICAgICAgJ2tleXM9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLmtleXMpKTtcbiAgICAgIGlmIChrZXlzQXNTdHJpbmcubGVuZ3RoICsgcGFyYW1zLmxlbmd0aCArIDEgPD0gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICAgICAgLy8gSWYgdGhlIGtleXMgYXJlIHNob3J0IGVub3VnaCwgZG8gYSBHRVQuIHdlIGRvIHRoaXMgdG8gd29yayBhcm91bmRcbiAgICAgICAgLy8gU2FmYXJpIG5vdCB1bmRlcnN0YW5kaW5nIDMwNHMgb24gUE9TVHMgKHNlZSBwb3VjaGRiL3BvdWNoZGIjMTIzOSlcbiAgICAgICAgcGFyYW1zICs9IChwYXJhbXNbMF0gPT09ICc/JyA/ICcmJyA6ICc/JykgKyBrZXlzQXNTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZnVuIGlzIHttYXAgOiBtYXBmdW59LCBzbyBhcHBlbmQgdG8gdGhpc1xuICAgICAgICAgIGZ1bi5rZXlzID0gb3B0cy5rZXlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHJlZmVyZW5jaW5nIGEgcXVlcnkgZGVmaW5lZCBpbiB0aGUgZGVzaWduIGRvY1xuICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdW4pO1xuICAgICAgcmV0dXJuIGRiLmZldGNoKCdfZGVzaWduLycgKyBwYXJ0c1swXSArICcvX3ZpZXcvJyArIHBhcnRzWzFdICsgcGFyYW1zLCB7XG4gICAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWlsIHRoZSBlbnRpcmUgcmVxdWVzdCBpZiB0aGUgcmVzdWx0IGNvbnRhaW5zIGFuIGVycm9yXG4gICAgICAgIHJlc3VsdC5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChyb3cudmFsdWUgJiYgcm93LnZhbHVlLmVycm9yICYmIHJvdy52YWx1ZS5lcnJvciA9PT0gXCJidWlsdGluX3JlZHVjZV9lcnJvclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocm93LnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHVzaW5nIGEgdGVtcG9yYXJ5IHZpZXcsIHRlcnJpYmxlIGZvciBwZXJmb3JtYW5jZSwgZ29vZCBmb3IgdGVzdGluZ1xuICAgIGJvZHkgPSBib2R5IHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGZ1bikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmdW5ba2V5XSkpIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdGVtcF92aWV3JyArIHBhcmFtcywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKCFvaykge1xuICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl9xdWVyeVxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fcXVlcnkoZnVuLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3ZpZXdDbGVhbnVwXG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21WaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fdmlld0NsZWFudXAoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0c1RvKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocmVhc29uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gcmV0dXJucyBhIHByb21pc2UgZm9yIGEgbGlzdCBvZiBkb2NzIHRvIHVwZGF0ZSwgYmFzZWQgb24gdGhlIGlucHV0IGRvY0lkLlxuICAvLyB0aGUgb3JkZXIgZG9lc24ndCBtYXR0ZXIsIGJlY2F1c2UgcG9zdC0zLjIuMCwgYnVsa0RvY3NcbiAgLy8gaXMgYW4gYXRvbWljIG9wZXJhdGlvbiBpbiBhbGwgdGhyZWUgYWRhcHRlcnMuXG4gIGZ1bmN0aW9uIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKSB7XG4gICAgdmFyIG1ldGFEb2NJZCA9ICdfbG9jYWwvZG9jXycgKyBkb2NJZDtcbiAgICB2YXIgZGVmYXVsdE1ldGFEb2MgPSB7X2lkOiBtZXRhRG9jSWQsIGtleXM6IFtdfTtcbiAgICB2YXIgZG9jRGF0YSA9IGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLmdldChkb2NJZCk7XG4gICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGRvY0RhdGFbMF07XG4gICAgdmFyIGNoYW5nZXMgPSBkb2NEYXRhWzFdO1xuXG4gICAgZnVuY3Rpb24gZ2V0TWV0YURvYygpIHtcbiAgICAgIGlmIChpc0dlbk9uZShjaGFuZ2VzKSkge1xuICAgICAgICAvLyBnZW5lcmF0aW9uIDEsIHNvIHdlIGNhbiBzYWZlbHkgYXNzdW1lIGluaXRpYWwgc3RhdGVcbiAgICAgICAgLy8gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKGF2b2lkcyB1bm5lY2Vzc2FyeSBHRVRzKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRNZXRhRG9jKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmdldChtZXRhRG9jSWQpLmNhdGNoKGRlZmF1bHRzVG8oZGVmYXVsdE1ldGFEb2MpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykge1xuICAgICAgaWYgKCFtZXRhRG9jLmtleXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIG5vIGtleXMsIG5vIG5lZWQgZm9yIGEgbG9va3VwXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3Jvd3M6IFtdfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHtcbiAgICAgICAga2V5czogbWV0YURvYy5rZXlzLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKSB7XG4gICAgICB2YXIga3ZEb2NzID0gW107XG4gICAgICB2YXIgb2xkS2V5cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0ga3ZEb2NzUmVzLnJvd3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IGt2RG9jc1Jlcy5yb3dzW2ldO1xuICAgICAgICB2YXIgZG9jID0gcm93LmRvYztcbiAgICAgICAgaWYgKCFkb2MpIHsgLy8gZGVsZXRlZFxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGt2RG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIG9sZEtleXMuYWRkKGRvYy5faWQpO1xuICAgICAgICBkb2MuX2RlbGV0ZWQgPSAhaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmhhcyhkb2MuX2lkKTtcbiAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGRvYy5faWQpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBkb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBuZXdLZXlzID0gbWFwVG9LZXlzQXJyYXkoaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKTtcbiAgICAgIG5ld0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghb2xkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgIC8vIG5ldyBkb2NcbiAgICAgICAgICB2YXIga3ZEb2MgPSB7XG4gICAgICAgICAgICBfaWQ6IGtleVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBrdkRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrdkRvY3MucHVzaChrdkRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWV0YURvYy5rZXlzID0gdW5pcShuZXdLZXlzLmNvbmNhdChtZXRhRG9jLmtleXMpKTtcbiAgICAgIGt2RG9jcy5wdXNoKG1ldGFEb2MpO1xuXG4gICAgICByZXR1cm4ga3ZEb2NzO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRNZXRhRG9jKCkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgcmV0dXJuIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKS50aGVuKGZ1bmN0aW9uIChrdkRvY3NSZXMpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXBkYXRlcyBhbGwgZW1pdHRlZCBrZXkvdmFsdWUgZG9jcyBhbmQgbWV0YURvY3MgaW4gdGhlIG1ydmlldyBkYXRhYmFzZVxuICAvLyBmb3IgdGhlIGdpdmVuIGJhdGNoIG9mIGRvY3VtZW50cyBmcm9tIHRoZSBzb3VyY2UgZGF0YWJhc2VcbiAgZnVuY3Rpb24gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgdmFyIHNlcURvY0lkID0gJ19sb2NhbC9sYXN0U2VxJztcbiAgICByZXR1cm4gdmlldy5kYi5nZXQoc2VxRG9jSWQpXG4gICAgICAuY2F0Y2goZGVmYXVsdHNUbyh7X2lkOiBzZXFEb2NJZCwgc2VxOiAwfSkpXG4gICAgICAudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICB2YXIgZG9jSWRzID0gbWFwVG9LZXlzQXJyYXkoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jSWRzLm1hcChmdW5jdGlvbiAoZG9jSWQpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAobGlzdE9mRG9jc1RvUGVyc2lzdCkge1xuICAgICAgICAgIHZhciBkb2NzVG9QZXJzaXN0ID0gZmxhdHRlbihsaXN0T2ZEb2NzVG9QZXJzaXN0KTtcbiAgICAgICAgICBsYXN0U2VxRG9jLnNlcSA9IHNlcTtcbiAgICAgICAgICBkb2NzVG9QZXJzaXN0LnB1c2gobGFzdFNlcURvYyk7XG4gICAgICAgICAgLy8gd3JpdGUgYWxsIGRvY3MgaW4gYSBzaW5nbGUgb3BlcmF0aW9uLCB1cGRhdGUgdGhlIHNlcSBvbmNlXG4gICAgICAgICAgcmV0dXJuIHZpZXcuZGIuYnVsa0RvY3Moe2RvY3MgOiBkb2NzVG9QZXJzaXN0fSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWV1ZSh2aWV3KSB7XG4gICAgdmFyIHZpZXdOYW1lID0gdHlwZW9mIHZpZXcgPT09ICdzdHJpbmcnID8gdmlldyA6IHZpZXcubmFtZTtcbiAgICB2YXIgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXTtcbiAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG4gICAgfVxuICAgIHJldHVybiBxdWV1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICAvLyBiaW5kIHRoZSBlbWl0IGZ1bmN0aW9uIG9uY2VcbiAgICB2YXIgbWFwUmVzdWx0cztcbiAgICB2YXIgZG9jO1xuXG4gICAgZnVuY3Rpb24gZW1pdChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb3V0cHV0ID0ge2lkOiBkb2MuX2lkLCBrZXk6IG5vcm1hbGl6ZUtleShrZXkpfTtcbiAgICAgIC8vIERvbid0IGV4cGxpY2l0bHkgc3RvcmUgdGhlIHZhbHVlIHVubGVzcyBpdCdzIGRlZmluZWQgYW5kIG5vbi1udWxsLlxuICAgICAgLy8gVGhpcyBzYXZlcyBvbiBzdG9yYWdlIHNwYWNlLCBiZWNhdXNlIG9mdGVuIHBlb3BsZSBkb24ndCB1c2UgaXQuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBvdXRwdXQudmFsdWUgPSBub3JtYWxpemVLZXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgbWFwUmVzdWx0cy5wdXNoKG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIG1hcEZ1biA9IG1hcHBlcih2aWV3Lm1hcEZ1biwgZW1pdCk7XG5cbiAgICB2YXIgY3VycmVudFNlcSA9IHZpZXcuc2VxIHx8IDA7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgaW5kZXhlZF9kb2NzID0gMDtcbiAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgIH07XG4gICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcblxuICAgIHZhciBxdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc05leHRCYXRjaCgpIHtcbiAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmNoYW5nZXMoe1xuICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSxcbiAgICAgICAgY29uZmxpY3RzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgIHN0eWxlOiAnYWxsX2RvY3MnLFxuICAgICAgICBzaW5jZTogY3VycmVudFNlcSxcbiAgICAgICAgbGltaXQ6IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplXG4gICAgICB9KS50aGVuKHByb2Nlc3NCYXRjaCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IHJlc3BvbnNlLnJlc3VsdHM7XG4gICAgICBpZiAoIXJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpO1xuICAgICAgcXVldWUuYWRkKHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIGN1cnJlbnRTZXEpKTtcblxuICAgICAgaW5kZXhlZF9kb2NzID0gaW5kZXhlZF9kb2NzICsgcmVzdWx0cy5sZW5ndGg7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgICAgbGFzdF9zZXE6IHJlc3BvbnNlLmxhc3Rfc2VxLFxuICAgICAgICByZXN1bHRzX2NvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICAgIH07XG4gICAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpIHtcbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IHJlc3VsdHNbaV07XG4gICAgICAgIGlmIChjaGFuZ2UuZG9jLl9pZFswXSAhPT0gJ18nKSB7XG4gICAgICAgICAgbWFwUmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGRvYyA9IGNoYW5nZS5kb2M7XG5cbiAgICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgICAgdHJ5TWFwKHZpZXcuc291cmNlREIsIG1hcEZ1biwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwUmVzdWx0cy5zb3J0KHNvcnRCeUtleVRoZW5WYWx1ZSk7XG5cbiAgICAgICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpO1xuICAgICAgICAgIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLnNldChjaGFuZ2UuZG9jLl9pZCwgW1xuICAgICAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLFxuICAgICAgICAgICAgY2hhbmdlLmNoYW5nZXNcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U2VxID0gY2hhbmdlLnNlcTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cykge1xuICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgdmFyIGxhc3RLZXk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWFwUmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZW1pdHRlZEtleVZhbHVlID0gbWFwUmVzdWx0c1tpXTtcbiAgICAgICAgdmFyIGNvbXBsZXhLZXkgPSBbZW1pdHRlZEtleVZhbHVlLmtleSwgZW1pdHRlZEtleVZhbHVlLmlkXTtcbiAgICAgICAgaWYgKGkgPiAwICYmIGNvbGxhdGUoZW1pdHRlZEtleVZhbHVlLmtleSwgbGFzdEtleSkgPT09IDApIHtcbiAgICAgICAgICBjb21wbGV4S2V5LnB1c2goaSk7IC8vIGR1cCBrZXkraWQsIHNvIG1ha2UgaXQgdW5pcXVlXG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLnNldCh0b0luZGV4YWJsZVN0cmluZyhjb21wbGV4S2V5KSwgZW1pdHRlZEtleVZhbHVlKTtcbiAgICAgICAgbGFzdEtleSA9IGVtaXR0ZWRLZXlWYWx1ZS5rZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVldWUuZmluaXNoKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2aWV3LnNlcSA9IGN1cnJlbnRTZXE7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWR1Y2VWaWV3KHZpZXcsIHJlc3VsdHMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5ncm91cF9sZXZlbCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZEdyb3VwID0gb3B0aW9ucy5ncm91cCB8fCBvcHRpb25zLmdyb3VwX2xldmVsO1xuXG4gICAgdmFyIHJlZHVjZUZ1biA9IHJlZHVjZXIodmlldy5yZWR1Y2VGdW4pO1xuXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgIHZhciBsdmwgPSBpc05hTihvcHRpb25zLmdyb3VwX2xldmVsKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6XG4gICAgICBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGxhc3QgPSBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGdyb3VwS2V5ID0gc2hvdWxkR3JvdXAgPyBlLmtleSA6IG51bGw7XG5cbiAgICAgIC8vIG9ubHkgc2V0IGdyb3VwX2xldmVsIGZvciBhcnJheSBrZXlzXG4gICAgICBpZiAoc2hvdWxkR3JvdXAgJiYgQXJyYXkuaXNBcnJheShncm91cEtleSkpIHtcbiAgICAgICAgZ3JvdXBLZXkgPSBncm91cEtleS5zbGljZSgwLCBsdmwpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdCAmJiBjb2xsYXRlKGxhc3QuZ3JvdXBLZXksIGdyb3VwS2V5KSA9PT0gMCkge1xuICAgICAgICBsYXN0LmtleXMucHVzaChbZS5rZXksIGUuaWRdKTtcbiAgICAgICAgbGFzdC52YWx1ZXMucHVzaChlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXlzOiBbW2Uua2V5LCBlLmlkXV0sXG4gICAgICAgIHZhbHVlczogW2UudmFsdWVdLFxuICAgICAgICBncm91cEtleTogZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZSA9IGdyb3Vwc1tpXTtcbiAgICAgIHZhciByZWR1Y2VUcnkgPSB0cnlSZWR1Y2Uodmlldy5zb3VyY2VEQiwgcmVkdWNlRnVuLCBlLmtleXMsIGUudmFsdWVzLCBmYWxzZSk7XG4gICAgICBpZiAocmVkdWNlVHJ5LmVycm9yICYmIHJlZHVjZVRyeS5lcnJvciBpbnN0YW5jZW9mIEJ1aWx0SW5FcnJvcikge1xuICAgICAgICAvLyBDb3VjaERCIHJldHVybnMgYW4gZXJyb3IgaWYgYSBidWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHRocm93IHJlZHVjZVRyeS5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIC8vIENvdWNoREIganVzdCBzZXRzIHRoZSB2YWx1ZSB0byBudWxsIGlmIGEgbm9uLWJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdmFsdWU6IHJlZHVjZVRyeS5lcnJvciA/IG51bGwgOiByZWR1Y2VUcnkub3V0cHV0LFxuICAgICAgICBrZXk6IGUuZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBubyB0b3RhbF9yb3dzL29mZnNldCB3aGVuIHJlZHVjaW5nXG4gICAgcmV0dXJuIHtyb3dzOiBzbGljZVJlc3VsdHMocmVzdWx0cywgb3B0aW9ucy5saW1pdCwgb3B0aW9ucy5za2lwKX07XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgdmFyIHRvdGFsUm93cztcbiAgICB2YXIgc2hvdWxkUmVkdWNlID0gdmlldy5yZWR1Y2VGdW4gJiYgb3B0cy5yZWR1Y2UgIT09IGZhbHNlO1xuICAgIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnICYmICFvcHRzLmtleXMubGVuZ3RoKSB7XG4gICAgICAvLyBlcXVpdmFsZW50IHF1ZXJ5XG4gICAgICBvcHRzLmxpbWl0ID0gMDtcbiAgICAgIGRlbGV0ZSBvcHRzLmtleXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykge1xuICAgICAgdmlld09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Modmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB0b3RhbFJvd3MgPSByZXMudG90YWxfcm93cztcbiAgICAgICAgcmV0dXJuIHJlcy5yb3dzLm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XG5cbiAgICAgICAgICAvLyBpbXBsaWNpdCBtaWdyYXRpb24gLSBpbiBvbGRlciB2ZXJzaW9ucyBvZiBQb3VjaERCLFxuICAgICAgICAgIC8vIHdlIGV4cGxpY2l0bHkgc3RvcmVkIHRoZSBkb2MgYXMge2lkOiAuLi4sIGtleTogLi4uLCB2YWx1ZTogLi4ufVxuICAgICAgICAgIC8vIHRoaXMgaXMgdGVzdGVkIGluIGEgbWlncmF0aW9uIHRlc3RcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIHJlc3VsdC5kb2MgJiYgdHlwZW9mIHJlc3VsdC5kb2MudmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICByZXN1bHQuZG9jLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdC5kb2MudmFsdWUpLnNvcnQoKTtcbiAgICAgICAgICAgIC8vIHRoaXMgZGV0ZWN0aW9uIG1ldGhvZCBpcyBub3QgcGVyZmVjdCwgYnV0IGl0J3MgdW5saWtlbHkgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGVtaXR0ZWQgYSB2YWx1ZSB3aGljaCB3YXMgYW4gb2JqZWN0IHdpdGggdGhlc2UgMyBleGFjdCBrZXlzXG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRLZXlzID0gWydpZCcsICdrZXknLCAndmFsdWUnXTtcbiAgICAgICAgICAgIGlmICghKGtleXMgPCBleHBlY3RlZEtleXMgfHwga2V5cyA+IGV4cGVjdGVkS2V5cykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb2MudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHBhcnNlZEtleUFuZERvY0lkID0gcGFyc2VJbmRleGFibGVTdHJpbmcocmVzdWx0LmRvYy5faWQpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IHBhcnNlZEtleUFuZERvY0lkWzBdLFxuICAgICAgICAgICAgaWQ6IHBhcnNlZEtleUFuZERvY0lkWzFdLFxuICAgICAgICAgICAgdmFsdWU6ICgndmFsdWUnIGluIHJlc3VsdC5kb2MgPyByZXN1bHQuZG9jLnZhbHVlIDogbnVsbClcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWFwUmVzdWx0c1JlYWR5KHJvd3MpIHtcbiAgICAgIHZhciBmaW5hbFJlc3VsdHM7XG4gICAgICBpZiAoc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHJlZHVjZVZpZXcodmlldywgcm93cywgb3B0cyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLmtleXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHJvd3NcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN1cHBvcnQgbGltaXQsIHNraXAgZm9yIGtleXMgcXVlcnlcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogc2xpY2VSZXN1bHRzKHJvd3Msb3B0cy5saW1pdCxvcHRzLnNraXApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzLnVwZGF0ZV9zZXEgPSB2aWV3LnNlcTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB2YXIgZG9jSWRzID0gdW5pcShyb3dzLm1hcChyb3dUb0RvY0lkKSk7XG5cbiAgICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuYWxsRG9jcyh7XG4gICAgICAgICAga2V5czogZG9jSWRzLFxuICAgICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgICBjb25mbGljdHM6IG9wdHMuY29uZmxpY3RzLFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWxsRG9jc1Jlcykge1xuICAgICAgICAgIHZhciBkb2NJZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgICAgICBhbGxEb2NzUmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICBkb2NJZHNUb0RvY3Muc2V0KHJvdy5pZCwgcm93LmRvYyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIHZhciBkb2NJZCA9IHJvd1RvRG9jSWQocm93KTtcbiAgICAgICAgICAgIHZhciBkb2MgPSBkb2NJZHNUb0RvY3MuZ2V0KGRvY0lkKTtcbiAgICAgICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgICAgcm93LmRvYyA9IGRvYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIga2V5cyA9IG9wdHMua2V5cztcbiAgICAgIHZhciBmZXRjaFByb21pc2VzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgICAgc3RhcnRrZXkgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5XSksXG4gICAgICAgICAgZW5ka2V5ICAgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5LCB7fV0pXG4gICAgICAgIH07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmV0Y2hQcm9taXNlcykudGhlbihmbGF0dGVuKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgcXVlcnksIG5vICdrZXlzJ1xuICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICBkZXNjZW5kaW5nIDogb3B0cy5kZXNjZW5kaW5nXG4gICAgICB9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0YXJ0a2V5O1xuICAgICAgdmFyIGVuZGtleTtcbiAgICAgIGlmICgnc3RhcnRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ3N0YXJ0a2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydGtleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5kX2tleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZGtleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZGtleTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc3RhcnRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0gb3B0cy5kZXNjZW5kaW5nID9cbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXksIHt9XSkgOlxuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlbmRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgaW5jbHVzaXZlRW5kID0gIWluY2x1c2l2ZUVuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IHRvSW5kZXhhYmxlU3RyaW5nKFxuICAgICAgICAgIGluY2x1c2l2ZUVuZCA/IFtlbmRrZXksIHt9XSA6IFtlbmRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0cy5rZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBrZXlTdGFydCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleV0pO1xuICAgICAgICB2YXIga2V5RW5kID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5LCB7fV0pO1xuICAgICAgICBpZiAodmlld09wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5RW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5RW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNob3VsZFJlZHVjZSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdmlld09wdHMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHZpZXdPcHRzLnNraXAgPSBza2lwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5mZXRjaCgnX3ZpZXdfY2xlYW51cCcsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWxWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5nZXQoJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICB2YXIgZG9jc1RvVmlld3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3MpLmZvckVhY2goZnVuY3Rpb24gKGZ1bGxWaWV3TmFtZSkge1xuICAgICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gJ19kZXNpZ24vJyArIHBhcnRzWzBdO1xuICAgICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgdmFyIHZpZXdzID0gZG9jc1RvVmlld3MuZ2V0KGRlc2lnbkRvY05hbWUpO1xuICAgICAgICBpZiAoIXZpZXdzKSB7XG4gICAgICAgICAgdmlld3MgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcbiAgICAgICAgICBkb2NzVG9WaWV3cy5zZXQoZGVzaWduRG9jTmFtZSwgdmlld3MpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdzLmFkZCh2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICBrZXlzIDogbWFwVG9LZXlzQXJyYXkoZG9jc1RvVmlld3MpLFxuICAgICAgICBpbmNsdWRlX2RvY3MgOiB0cnVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGRiLmFsbERvY3Mob3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciB2aWV3c1RvU3RhdHVzID0ge307XG4gICAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIHZhciBkZG9jTmFtZSA9IHJvdy5rZXkuc3Vic3RyaW5nKDgpOyAvLyBjdXRzIG9mZiAnX2Rlc2lnbi8nXG4gICAgICAgICAgZG9jc1RvVmlld3MuZ2V0KHJvdy5rZXkpLmZvckVhY2goZnVuY3Rpb24gKHZpZXdOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZGRvY05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCFtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdCwgd2l0aG91dCBzbGFzaGVzLCB0byBzdXBwb3J0IFBvdWNoREIgMi4yLjBcbiAgICAgICAgICAgICAgLy8gbWlncmF0aW9uIHRlc3QgaW4gcG91Y2hkYidzIGJyb3dzZXIubWlncmF0aW9uLmpzIHZlcmlmaWVzIHRoaXNcbiAgICAgICAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmlld0RCTmFtZXMgPSBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pO1xuICAgICAgICAgICAgLy8gZGVzaWduIGRvYyBkZWxldGVkLCBvciB2aWV3IGZ1bmN0aW9uIG5vbmV4aXN0ZW50XG4gICAgICAgICAgICB2YXIgc3RhdHVzSXNHb29kID0gcm93LmRvYyAmJiByb3cuZG9jLnZpZXdzICYmXG4gICAgICAgICAgICAgIHJvdy5kb2Mudmlld3Nbdmlld05hbWVdO1xuICAgICAgICAgICAgdmlld0RCTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdID1cbiAgICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdIHx8IHN0YXR1c0lzR29vZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRic1RvRGVsZXRlID0gT2JqZWN0LmtleXModmlld3NUb1N0YXR1cykuZmlsdGVyKFxuICAgICAgICAgIGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7IHJldHVybiAhdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXTsgfSk7XG4gICAgICAgIHZhciBkZXN0cm95UHJvbWlzZXMgPSBkYnNUb0RlbGV0ZS5tYXAoZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3REJOYW1lKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBkYi5jb25zdHJ1Y3Rvcih2aWV3REJOYW1lLCBkYi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRlc3Ryb3lQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHtvazogdHJ1ZX07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSwgZGVmYXVsdHNUbyh7b2s6IHRydWV9KSk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3F1ZXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZVZpZXdPcHRzID0ge1xuICAgICAgY2hhbmdlc19iYXRjaF9zaXplOiBkYi5fX29wdHMudmlld191cGRhdGVfY2hhbmdlc19iYXRjaF9zaXplIHx8IENIQU5HRVNfQkFUQ0hfU0laRSQxXG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgZnVuICE9PSAnc3RyaW5nJykge1xuICAgICAgLy8gdGVtcF92aWV3XG4gICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICB0ZW1wVmlld1F1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gJ3RlbXBfdmlldy90ZW1wX3ZpZXcnLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyB0cnVlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIHJldHVybiBmaW4odXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5kYi5kZXN0cm95KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGVtcFZpZXdRdWV1ZS5maW5pc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcGVyc2lzdGVudCB2aWV3XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZnVuO1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSBwYXJ0c1swXTtcbiAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgcmV0dXJuIGRiLmdldCgnX2Rlc2lnbi8nICsgZGVzaWduRG9jTmFtZSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBmdW4gPSBkb2Mudmlld3MgJiYgZG9jLnZpZXdzW3ZpZXdOYW1lXTtcblxuICAgICAgICBpZiAoIWZ1bikge1xuICAgICAgICAgIC8vIGJhc2ljIHZhbGlkYXRvcjsgaXQncyBhc3N1bWVkIHRoYXQgZXZlcnkgc3ViY2xhc3Mgd291bGQgd2FudCB0aGlzXG4gICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRvYy5faWQgKyAnIGhhcyBubyB2aWV3IG5hbWVkICcgK1xuICAgICAgICAgICAgdmlld05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGRvY1ZhbGlkYXRvcihkb2MsIHZpZXdOYW1lKTtcbiAgICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovIGZ1bGxWaWV3TmFtZSxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gZmFsc2UsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICdvaycgfHwgb3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gc3RhbGUgbm90IG9rXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWJzdHJhY3RRdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgPyBjb2VyY2VPcHRpb25zKG9wdHMpIDoge307XG5cbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZnVuID0ge21hcCA6IGZ1bn07XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpO1xuICAgIH0pO1xuICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGFic3RyYWN0Vmlld0NsZWFudXAgPSBjYWxsYmFja2lmeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3ZpZXdDbGVhbnVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsVmlld0NsZWFudXAoZGIpO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBhYnN0cmFjdFF1ZXJ5LFxuICAgIHZpZXdDbGVhbnVwOiBhYnN0cmFjdFZpZXdDbGVhbnVwXG4gIH07XG59XG5cbnZhciBidWlsdEluUmVkdWNlID0ge1xuICBfc3VtOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHN1bSh2YWx1ZXMpO1xuICB9LFxuXG4gIF9jb3VudDogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoO1xuICB9LFxuXG4gIF9zdGF0czogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIC8vIG5vIG5lZWQgdG8gaW1wbGVtZW50IHJlcmVkdWNlPXRydWUsIGJlY2F1c2UgUG91Y2hcbiAgICAvLyB3aWxsIG5ldmVyIGNhbGwgaXRcbiAgICBmdW5jdGlvbiBzdW1zcXIodmFsdWVzKSB7XG4gICAgICB2YXIgX3N1bXNxciA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgICAgIF9zdW1zcXIgKz0gKG51bSAqIG51bSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3N1bXNxcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1bSAgICAgOiBzdW0odmFsdWVzKSxcbiAgICAgIG1pbiAgICAgOiBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgbWF4ICAgICA6IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBjb3VudCAgIDogdmFsdWVzLmxlbmd0aCxcbiAgICAgIHN1bXNxciA6IHN1bXNxcih2YWx1ZXMpXG4gICAgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpIHtcbiAgaWYgKC9eX3N1bS8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N1bTtcbiAgfSBlbHNlIGlmICgvXl9jb3VudC8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX2NvdW50O1xuICB9IGVsc2UgaWYgKC9eX3N0YXRzLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3RhdHM7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVkdWNlRnVuU3RyaW5nICsgJyBpcyBub3QgYSBzdXBwb3J0ZWQgcmVkdWNlIGZ1bmN0aW9uLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcHBlcihtYXBGdW4sIGVtaXQpIHtcbiAgLy8gZm9yIHRlbXBfdmlld3Mgb25lIGNhbiB1c2UgZW1pdChkb2MsIGVtaXQpLCBzZWUgIzM4XG4gIGlmICh0eXBlb2YgbWFwRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgbWFwRnVuLmxlbmd0aCA9PT0gMikge1xuICAgIHZhciBvcmlnTWFwID0gbWFwRnVuO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gb3JpZ01hcChkb2MsIGVtaXQpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKG1hcEZ1bi50b1N0cmluZygpLCBlbWl0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWR1Y2VyKHJlZHVjZUZ1bikge1xuICB2YXIgcmVkdWNlRnVuU3RyaW5nID0gcmVkdWNlRnVuLnRvU3RyaW5nKCk7XG4gIHZhciBidWlsdEluID0gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpO1xuICBpZiAoYnVpbHRJbikge1xuICAgIHJldHVybiBidWlsdEluO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChyZWR1Y2VGdW5TdHJpbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRkb2NWYWxpZGF0b3IoZGRvYywgdmlld05hbWUpIHtcbiAgdmFyIGZ1biA9IGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZV07XG4gIGlmICh0eXBlb2YgZnVuLm1hcCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZGRvYy5faWQgKyAnIGhhcyBubyBzdHJpbmcgdmlldyBuYW1lZCAnICtcbiAgICAgIHZpZXdOYW1lICsgJywgaW5zdGVhZCBmb3VuZCBvYmplY3Qgb2YgdHlwZTogJyArIHR5cGVvZiBmdW4ubWFwKTtcbiAgfVxufVxuXG52YXIgbG9jYWxEb2NOYW1lID0gJ21ydmlld3MnO1xudmFyIGFic3RyYWN0ID0gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBxdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC5xdWVyeS5jYWxsKHRoaXMsIGZ1biwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiB2aWV3Q2xlYW51cChjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3Qudmlld0NsZWFudXAuY2FsbCh0aGlzLCBjYWxsYmFjayk7XG59XG5cbnZhciBtYXByZWR1Y2UgPSB7XG4gIHF1ZXJ5OiBxdWVyeSxcbiAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwXG59O1xuXG5mdW5jdGlvbiBpc0dlbk9uZSQxKHJldikge1xuICByZXR1cm4gL14xLS8udGVzdChyZXYpO1xufVxuXG5mdW5jdGlvbiBmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgcmVtb3RlRG9jLCBmaWxlbmFtZSkge1xuICByZXR1cm4gIWxvY2FsRG9jLl9hdHRhY2htZW50cyB8fFxuICAgICAgICAgIWxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0gfHxcbiAgICAgICAgIGxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0ICE9PSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3Q7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzKGRiLCBkb2MpIHtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gZGIuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSwge3JldjogZG9jLl9yZXZ9KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgZG9jKSB7XG4gIHZhciBkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyA9IGlzUmVtb3RlKHNyYykgJiYgIWlzUmVtb3RlKHRhcmdldCk7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICBpZiAoIWRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzKSB7XG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQuZ2V0KGRvYy5faWQpLnRoZW4oZnVuY3Rpb24gKGxvY2FsRG9jKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICBpZiAoZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIGRvYywgZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiBzcmMuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQuZ2V0QXR0YWNobWVudChsb2NhbERvYy5faWQsIGZpbGVuYW1lKTtcbiAgICB9KSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnJvci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKSB7XG4gIHZhciByZXF1ZXN0cyA9IFtdO1xuICBPYmplY3Qua2V5cyhkaWZmcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgbWlzc2luZ1JldnMgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICBtaXNzaW5nUmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChtaXNzaW5nUmV2KSB7XG4gICAgICByZXF1ZXN0cy5wdXNoKHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICByZXY6IG1pc3NpbmdSZXZcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGRvY3M6IHJlcXVlc3RzLFxuICAgIHJldnM6IHRydWUsXG4gICAgbGF0ZXN0OiB0cnVlXG4gIH07XG59XG5cbi8vXG4vLyBGZXRjaCBhbGwgdGhlIGRvY3VtZW50cyBmcm9tIHRoZSBzcmMgYXMgZGVzY3JpYmVkIGluIHRoZSBcImRpZmZzXCIsXG4vLyB3aGljaCBpcyBhIG1hcHBpbmcgb2YgZG9jcyBJRHMgdG8gcmV2aXNpb25zLiBJZiB0aGUgc3RhdGUgZXZlclxuLy8gY2hhbmdlcyB0byBcImNhbmNlbGxlZFwiLCB0aGVuIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuXG4vLyBFbHNlIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhIGxpc3Qgb2YgZmV0Y2hlZCBkb2N1bWVudHMuXG4vL1xuZnVuY3Rpb24gZ2V0RG9jcyhzcmMsIHRhcmdldCwgZGlmZnMsIHN0YXRlKSB7XG4gIGRpZmZzID0gY2xvbmUoZGlmZnMpOyAvLyB3ZSBkbyBub3QgbmVlZCB0byBtb2RpZnkgdGhpc1xuXG4gIHZhciByZXN1bHREb2NzID0gW10sXG4gICAgICBvayA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZ2V0QWxsRG9jcygpIHtcblxuICAgIHZhciBidWxrR2V0T3B0cyA9IGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKTtcblxuICAgIGlmICghYnVsa0dldE9wdHMuZG9jcy5sZW5ndGgpIHsgLy8gb3B0aW1pemF0aW9uOiBza2lwIGVtcHR5IHJlcXVlc3RzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYy5idWxrR2V0KGJ1bGtHZXRPcHRzKS50aGVuKGZ1bmN0aW9uIChidWxrR2V0UmVzcG9uc2UpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRSZXNwb25zZS5yZXN1bHRzLm1hcChmdW5jdGlvbiAoYnVsa0dldEluZm8pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRJbmZvLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICB2YXIgcmVtb3RlRG9jID0gZG9jLm9rO1xuXG4gICAgICAgICAgaWYgKGRvYy5lcnJvcikge1xuICAgICAgICAgICAgLy8gd2hlbiBBVVRPX0NPTVBBQ1RJT04gaXMgc2V0LCBkb2NzIGNhbiBiZSByZXR1cm5lZCB3aGljaCBsb29rXG4gICAgICAgICAgICAvLyBsaWtlIHRoaXM6IHtcIm1pc3NpbmdcIjpcIjEtN2MzYWMyNTZiNjkzYzQ2MmFmODQ0MmY5OTJiODM2OTZcIn1cbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyZW1vdGVEb2MgfHwgIXJlbW90ZURvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCByZW1vdGVEb2MpXG4gICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMocmVtb3RlRG9jLl9hdHRhY2htZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoYXR0YWNobWVudCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHQgPSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lc1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dC5kYXRhID0gYXR0YWNobWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICB9KSlcblxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgcmVzdWx0RG9jcyA9IHJlc3VsdERvY3MuY29uY2F0KGZsYXR0ZW4ocmVzdWx0cykuZmlsdGVyKEJvb2xlYW4pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQXR0YWNobWVudHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fYXR0YWNobWVudHMgJiYgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbmZsaWN0cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9jb25mbGljdHMgJiYgZG9jLl9jb25mbGljdHMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcykge1xuICAgIC8vIE9wdGltaXphdGlvbjogZmV0Y2ggZ2VuLTEgZG9jcyBhbmQgYXR0YWNobWVudHMgaW5cbiAgICAvLyBhIHNpbmdsZSByZXF1ZXN0IHVzaW5nIF9hbGxfZG9jc1xuICAgIHJldHVybiBzcmMuYWxsRG9jcyh7XG4gICAgICBrZXlzOiBpZHMsXG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBjb25mbGljdHM6IHRydWVcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICBpZiAocm93LmRlbGV0ZWQgfHwgIXJvdy5kb2MgfHwgIWlzR2VuT25lJDEocm93LnZhbHVlLnJldikgfHxcbiAgICAgICAgICAgIGhhc0F0dGFjaG1lbnRzKHJvdy5kb2MpIHx8IGhhc0NvbmZsaWN0cyhyb3cuZG9jKSkge1xuICAgICAgICAgIC8vIGlmIGFueSBvZiB0aGVzZSBjb25kaXRpb25zIGFwcGx5LCB3ZSBuZWVkIHRvIGZldGNoIHVzaW5nIGdldCgpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RyaXAgX2NvbmZsaWN0cyBhcnJheSB0byBhcHBlYXNlIENTRyAoIzU3OTMpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAocm93LmRvYy5fY29uZmxpY3RzKSB7XG4gICAgICAgICAgZGVsZXRlIHJvdy5kb2MuX2NvbmZsaWN0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBkb2Mgd2UgZ290IGJhY2sgZnJvbSBhbGxEb2NzKCkgaXMgc3VmZmljaWVudFxuICAgICAgICByZXN1bHREb2NzLnB1c2gocm93LmRvYyk7XG4gICAgICAgIGRlbGV0ZSBkaWZmc1tyb3cuaWRdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXZpc2lvbk9uZURvY3MoKSB7XG4gICAgLy8gZmlsdGVyIG91dCB0aGUgZ2VuZXJhdGlvbiAxIGRvY3MgYW5kIGdldCB0aGVtXG4gICAgLy8gbGVhdmluZyB0aGUgbm9uLWdlbmVyYXRpb24gb25lIGRvY3MgdG8gYmUgZ290IG90aGVyd2lzZVxuICAgIHZhciBpZHMgPSBPYmplY3Qua2V5cyhkaWZmcykuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgdmFyIG1pc3NpbmcgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICAgIHJldHVybiBtaXNzaW5nLmxlbmd0aCA9PT0gMSAmJiBpc0dlbk9uZSQxKG1pc3NpbmdbMF0pO1xuICAgIH0pO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV0dXJuUmVzdWx0KCkge1xuICAgIHJldHVybiB7IG9rOm9rLCBkb2NzOnJlc3VsdERvY3MgfTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKGdldFJldmlzaW9uT25lRG9jcylcbiAgICAudGhlbihnZXRBbGxEb2NzKVxuICAgIC50aGVuKHJldHVyblJlc3VsdCk7XG59XG5cbnZhciBDSEVDS1BPSU5UX1ZFUlNJT04gPSAxO1xudmFyIFJFUExJQ0FUT1IgPSBcInBvdWNoZGJcIjtcbi8vIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IG51bWJlciB0byBsaW1pdCB0aGVcbi8vIGFtb3VudCBvZiByZXBsaWNhdGlvbiBoaXN0b3J5IHdlIHNhdmUgaW4gdGhlIGNoZWNrcG9pbnQuXG4vLyBJZiB3ZSBzYXZlIHRvbyBtdWNoLCB0aGUgY2hlY2twb2luZyBkb2NzIHdpbGwgYmVjb21lIHZlcnkgYmlnLFxuLy8gaWYgd2Ugc2F2ZSBmZXdlciwgd2UnbGwgcnVuIGEgZ3JlYXRlciByaXNrIG9mIGhhdmluZyB0b1xuLy8gcmVhZCBhbGwgdGhlIGNoYW5nZXMgZnJvbSAwIHdoZW4gY2hlY2twb2ludCBQVVRzIGZhaWxcbi8vIENvdWNoREIgMi4wIGhhcyBhIG1vcmUgaW52b2x2ZWQgaGlzdG9yeSBwcnVuaW5nLFxuLy8gYnV0IGxldCdzIGdvIGZvciB0aGUgc2ltcGxlIHZlcnNpb24gZm9yIG5vdy5cbnZhciBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSA9IDU7XG52YXIgTE9XRVNUX1NFUSA9IDA7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSkge1xuICByZXR1cm4gZGIuZ2V0KGlkKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgaWYgKGRiLmFkYXB0ZXIgPT09ICdodHRwJyB8fCBkYi5hZGFwdGVyID09PSAnaHR0cHMnKSB7XG4gICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICA0MDQsICdQb3VjaERCIGlzIGp1c3QgY2hlY2tpbmcgaWYgYSByZW1vdGUgY2hlY2twb2ludCBleGlzdHMuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbixcbiAgICAgICAgX2lkOiBpZCxcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIHJlcGxpY2F0b3I6IFJFUExJQ0FUT1IsXG4gICAgICAgIHZlcnNpb246IENIRUNLUE9JTlRfVkVSU0lPTlxuICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGNoZWNrcG9pbnQgaGFzIG5vdCBjaGFuZ2VkLCBkbyBub3QgdXBkYXRlXG4gICAgaWYgKGRvYy5sYXN0X3NlcSA9PT0gY2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBvdXQgY3VycmVudCBlbnRyeSBmb3IgdGhpcyByZXBsaWNhdGlvblxuICAgIGRvYy5oaXN0b3J5ID0gKGRvYy5oaXN0b3J5IHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnNlc3Npb25faWQgIT09IHNlc3Npb247XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIGxhdGVzdCBjaGVja3BvaW50IHRvIGhpc3RvcnlcbiAgICBkb2MuaGlzdG9yeS51bnNoaWZ0KHtcbiAgICAgIGxhc3Rfc2VxOiBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvblxuICAgIH0pO1xuXG4gICAgLy8gSnVzdCB0YWtlIHRoZSBsYXN0IHBpZWNlcyBpbiBoaXN0b3J5LCB0b1xuICAgIC8vIGF2b2lkIHJlYWxseSBiaWcgY2hlY2twb2ludCBkb2NzLlxuICAgIC8vIHNlZSBjb21tZW50IG9uIGhpc3Rvcnkgc2l6ZSBhYm92ZVxuICAgIGRvYy5oaXN0b3J5ID0gZG9jLmhpc3Rvcnkuc2xpY2UoMCwgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUpO1xuXG4gICAgZG9jLnZlcnNpb24gPSBDSEVDS1BPSU5UX1ZFUlNJT047XG4gICAgZG9jLnJlcGxpY2F0b3IgPSBSRVBMSUNBVE9SO1xuXG4gICAgZG9jLnNlc3Npb25faWQgPSBzZXNzaW9uO1xuICAgIGRvYy5sYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG5cbiAgICByZXR1cm4gZGIucHV0KGRvYykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAvLyByZXRyeTsgc29tZW9uZSBpcyB0cnlpbmcgdG8gd3JpdGUgYSBjaGVja3BvaW50IHNpbXVsdGFuZW91c2x5XG4gICAgICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCBpZCwgcmV0dXJuVmFsdWUsIG9wdHMpIHtcbiAgdGhpcy5zcmMgPSBzcmM7XG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB0aGlzLmlkID0gaWQ7XG4gIHRoaXMucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgdGhpcy5vcHRzID0gb3B0cyB8fCB7fTtcbn1cblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS53cml0ZUNoZWNrcG9pbnQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJldHVybiB0aGlzLnVwZGF0ZVRhcmdldChjaGVja3BvaW50LCBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2VsZi51cGRhdGVTb3VyY2UoY2hlY2twb2ludCwgc2Vzc2lvbik7XG4gIH0pO1xufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVUYXJnZXQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMudGFyZ2V0LCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVTb3VyY2UgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnNyYywgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbnZhciBjb21wYXJpc29ucyA9IHtcbiAgXCJ1bmRlZmluZWRcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgcHJldmlvdXMgY29tcGFyaXNvbiBmdW5jdGlvblxuICAgIGlmIChjb2xsYXRlKHRhcmdldERvYy5sYXN0X3NlcSwgc291cmNlRG9jLmxhc3Rfc2VxKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgXCIxXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gcG9ydGVkIGZyb20gQ291Y2hEQlxuICAgIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNvdXJjZURvYywgdGFyZ2V0RG9jKS5sYXN0X3NlcTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS5nZXRDaGVja3BvaW50ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2VsZi50YXJnZXQuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHRhcmdldERvYykge1xuICAgIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBjYW4ndCBtaWdyYXRlIGFuIG9sZCB2ZXJzaW9uIGRvYyB0byBhIG5ldyBvbmVcbiAgICAgIC8vIChubyBzZXNzaW9uIGlkKSwgd2UganVzdCBnbyB3aXRoIHRoZSBsb3dlc3Qgc2VxIGluIHRoaXMgY2FzZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24gIT09IHNvdXJjZURvYy52ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmVyc2lvbjtcbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gdGFyZ2V0RG9jLnZlcnNpb24udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlcnNpb24gPSBcInVuZGVmaW5lZFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodmVyc2lvbiBpbiBjb21wYXJpc29ucykge1xuICAgICAgICByZXR1cm4gY29tcGFyaXNvbnNbdmVyc2lvbl0odGFyZ2V0RG9jLCBzb3VyY2VEb2MpO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQgJiYgdGFyZ2V0RG9jLmxhc3Rfc2VxKSB7XG4gICAgICAgIHJldHVybiBzZWxmLnNyYy5wdXQoe1xuICAgICAgICAgIF9pZDogc2VsZi5pZCxcbiAgICAgICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgfSk7XG59O1xuLy8gVGhpcyBjaGVja3BvaW50IGNvbXBhcmlzb24gaXMgcG9ydGVkIGZyb20gQ291Y2hEQnMgc291cmNlXG4vLyB0aGV5IGNvbWUgZnJvbSBoZXJlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNvdWNoLXJlcGxpY2F0b3IvYmxvYi9tYXN0ZXIvc3JjL2NvdWNoX3JlcGxpY2F0b3IuZXJsI0w4NjMtTDkwNlxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNyY0RvYywgdGd0RG9jKSB7XG4gIGlmIChzcmNEb2Muc2Vzc2lvbl9pZCA9PT0gdGd0RG9jLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IHNyY0RvYy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNyY0RvYy5oaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNyY0RvYy5oaXN0b3J5LCB0Z3REb2MuaGlzdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlSGlzdG9yeSwgdGFyZ2V0SGlzdG9yeSkge1xuICAvLyB0aGUgZXJsYW5nIGxvb3AgdmlhIGZ1bmN0aW9uIGFyZ3VtZW50cyBpcyBub3Qgc28gZWFzeSB0byByZXBlYXQgaW4gSlNcbiAgLy8gdGhlcmVmb3JlLCBkb2luZyB0aGlzIGFzIHJlY3Vyc2lvblxuICB2YXIgUyA9IHNvdXJjZUhpc3RvcnlbMF07XG4gIHZhciBzb3VyY2VSZXN0ID0gc291cmNlSGlzdG9yeS5zbGljZSgxKTtcbiAgdmFyIFQgPSB0YXJnZXRIaXN0b3J5WzBdO1xuICB2YXIgdGFyZ2V0UmVzdCA9IHRhcmdldEhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFTIHx8IHRhcmdldEhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRLFxuICAgICAgaGlzdG9yeTogW11cbiAgICB9O1xuICB9XG5cbiAgdmFyIHNvdXJjZUlkID0gUy5zZXNzaW9uX2lkO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGhhc1Nlc3Npb25JZChzb3VyY2VJZCwgdGFyZ2V0SGlzdG9yeSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFMubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzb3VyY2VIaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHZhciB0YXJnZXRJZCA9IFQuc2Vzc2lvbl9pZDtcbiAgaWYgKGhhc1Nlc3Npb25JZCh0YXJnZXRJZCwgc291cmNlUmVzdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFQubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiB0YXJnZXRSZXN0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZVJlc3QsIHRhcmdldFJlc3QpO1xufVxuXG5mdW5jdGlvbiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCBoaXN0b3J5KSB7XG4gIHZhciBwcm9wcyA9IGhpc3RvcnlbMF07XG4gIHZhciByZXN0ID0gaGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIXNlc3Npb25JZCB8fCBoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzZXNzaW9uSWQgPT09IHByb3BzLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCByZXN0KTtcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5FcnJvcihlcnIpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnIuc3RhdHVzID09PSAnbnVtYmVyJyAmJiBNYXRoLmZsb29yKGVyci5zdGF0dXMgLyAxMDApID09PSA0O1xufVxuXG52YXIgU1RBUlRJTkdfQkFDS19PRkYgPSAwO1xuXG5mdW5jdGlvbiBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBlcnJvciwgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMucmV0cnkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uID0gZGVmYXVsdEJhY2tPZmY7XG4gIH1cbiAgcmV0dXJuVmFsdWUuZW1pdCgncmVxdWVzdEVycm9yJywgZXJyb3IpO1xuICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdhY3RpdmUnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnc3RvcHBlZCc7XG4gICAgdmFyIGJhY2tPZmZTZXQgPSBmdW5jdGlvbiBiYWNrb2ZmVGltZVNldCgpIHtcbiAgICAgIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICAgIH07XG4gICAgdmFyIHJlbW92ZUJhY2tPZmZTZXR0ZXIgPSBmdW5jdGlvbiByZW1vdmVCYWNrT2ZmVGltZVNldCgpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgICB9O1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ3BhdXNlZCcsIHJlbW92ZUJhY2tPZmZTZXR0ZXIpO1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICB9XG5cbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5jdXJyZW50X2JhY2tfb2ZmIHx8IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uKG9wdHMuY3VycmVudF9iYWNrX29mZik7XG4gIHNldFRpbWVvdXQoY2FsbGJhY2ssIG9wdHMuY3VycmVudF9iYWNrX29mZik7XG59XG5cbmZ1bmN0aW9uIHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkocXVlcnlQYXJhbXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1zKS5zb3J0KGNvbGxhdGUpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHF1ZXJ5UGFyYW1zW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG4vLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpZCBwYXJ0aWN1bGFyIHRvIHRoaXMgcmVwbGljYXRpb24uXG4vLyBOb3QgZ3VhcmFudGVlZCB0byBhbGlnbiBwZXJmZWN0bHkgd2l0aCBDb3VjaERCJ3MgcmVwIGlkcy5cbmZ1bmN0aW9uIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykge1xuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzID8gb3B0cy5kb2NfaWRzLnNvcnQoY29sbGF0ZSkgOiAnJztcbiAgdmFyIGZpbHRlckZ1biA9IG9wdHMuZmlsdGVyID8gb3B0cy5maWx0ZXIudG9TdHJpbmcoKSA6ICcnO1xuICB2YXIgcXVlcnlQYXJhbXMgPSAnJztcbiAgdmFyIGZpbHRlclZpZXdOYW1lID0gICcnO1xuICB2YXIgc2VsZWN0b3IgPSAnJztcblxuICAvLyBwb3NzaWJpbGl0eSBmb3IgY2hlY2twb2ludHMgdG8gYmUgbG9zdCBoZXJlIGFzIGJlaGF2aW91ciBvZlxuICAvLyBKU09OLnN0cmluZ2lmeSBpcyBub3Qgc3RhYmxlIChzZWUgIzYyMjYpXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIHNlbGVjdG9yID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zZWxlY3Rvcik7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICBxdWVyeVBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkob3B0cy5xdWVyeV9wYXJhbXMpKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGZpbHRlclZpZXdOYW1lID0gb3B0cy52aWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3NyYy5pZCgpLCB0YXJnZXQuaWQoKV0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHZhciBxdWVyeURhdGEgPSByZXNbMF0gKyByZXNbMV0gKyBmaWx0ZXJGdW4gKyBmaWx0ZXJWaWV3TmFtZSArXG4gICAgICBxdWVyeVBhcmFtcyArIGRvY0lkcyArIHNlbGVjdG9yO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgYmluYXJ5TWQ1KHF1ZXJ5RGF0YSwgcmVzb2x2ZSk7XG4gICAgfSk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKG1kNXN1bSkge1xuICAgIC8vIGNhbid0IHVzZSBzdHJhaWdodC11cCBtZDUgYWxwaGFiZXQsIGJlY2F1c2VcbiAgICAvLyB0aGUgY2hhciAnLycgaXMgaW50ZXJwcmV0ZWQgYXMgYmVpbmcgZm9yIGF0dGFjaG1lbnRzLFxuICAgIC8vIGFuZCArIGlzIGFsc28gbm90IHVybC1zYWZlXG4gICAgbWQ1c3VtID0gbWQ1c3VtLnJlcGxhY2UoL1xcLy9nLCAnLicpLnJlcGxhY2UoL1xcKy9nLCAnXycpO1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBtZDVzdW07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlLCByZXN1bHQpIHtcbiAgdmFyIGJhdGNoZXMgPSBbXTsgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGJhdGNoZXMgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciBjdXJyZW50QmF0Y2g7ICAgICAgICAgICAgICAgLy8gdGhlIGJhdGNoIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgdmFyIHBlbmRpbmdCYXRjaCA9IHtcbiAgICBzZXE6IDAsXG4gICAgY2hhbmdlczogW10sXG4gICAgZG9jczogW11cbiAgfTsgLy8gbmV4dCBiYXRjaCwgbm90IHlldCByZWFkeSB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7ICAvLyB0cnVlIHdoaWxlIGNoZWNrcG9pbnQgaXMgYmVpbmcgd3JpdHRlblxuICB2YXIgY2hhbmdlc0NvbXBsZXRlZCA9IGZhbHNlOyAgIC8vIHRydWUgd2hlbiBhbGwgY2hhbmdlcyByZWNlaXZlZFxuICB2YXIgcmVwbGljYXRpb25Db21wbGV0ZWQgPSBmYWxzZTsgLy8gdHJ1ZSB3aGVuIHJlcGxpY2F0aW9uIGhhcyBjb21wbGV0ZWRcbiAgdmFyIGxhc3Rfc2VxID0gMDtcbiAgdmFyIGNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlIHx8IGZhbHNlO1xuICB2YXIgYmF0Y2hfc2l6ZSA9IG9wdHMuYmF0Y2hfc2l6ZSB8fCAxMDA7XG4gIHZhciBiYXRjaGVzX2xpbWl0ID0gb3B0cy5iYXRjaGVzX2xpbWl0IHx8IDEwO1xuICB2YXIgc3R5bGUgPSBvcHRzLnN0eWxlIHx8ICdhbGxfZG9jcyc7XG4gIHZhciBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlOyAgICAgLy8gdHJ1ZSB3aGlsZSBzcmMuY2hhbmdlcyBpcyBydW5uaW5nXG4gIHZhciBkb2NfaWRzID0gb3B0cy5kb2NfaWRzO1xuICB2YXIgc2VsZWN0b3IgPSBvcHRzLnNlbGVjdG9yO1xuICB2YXIgcmVwSWQ7XG4gIHZhciBjaGVja3BvaW50ZXI7XG4gIHZhciBjaGFuZ2VkRG9jcyA9IFtdO1xuICAvLyBMaWtlIGNvdWNoZGIsIGV2ZXJ5IHJlcGxpY2F0aW9uIGdldHMgYSB1bmlxdWUgc2Vzc2lvbiBpZFxuICB2YXIgc2Vzc2lvbiA9IHV1aWQoKTtcblxuICByZXN1bHQgPSByZXN1bHQgfHwge1xuICAgIG9rOiB0cnVlLFxuICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBkb2NzX3JlYWQ6IDAsXG4gICAgZG9jc193cml0dGVuOiAwLFxuICAgIGRvY193cml0ZV9mYWlsdXJlczogMCxcbiAgICBlcnJvcnM6IFtdXG4gIH07XG5cbiAgdmFyIGNoYW5nZXNPcHRzID0ge307XG4gIHJldHVyblZhbHVlLnJlYWR5KHNyYywgdGFyZ2V0KTtcblxuICBmdW5jdGlvbiBpbml0Q2hlY2twb2ludGVyKCkge1xuICAgIGlmIChjaGVja3BvaW50ZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXBJZCA9IHJlcztcblxuICAgICAgdmFyIGNoZWNrcG9pbnRPcHRzID0ge307XG4gICAgICBpZiAob3B0cy5jaGVja3BvaW50ID09PSBmYWxzZSkge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAndGFyZ2V0Jykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH1cblxuICAgICAgY2hlY2twb2ludGVyID0gbmV3IENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgcmVwSWQsIHJldHVyblZhbHVlLCBjaGVja3BvaW50T3B0cyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvY3MoKSB7XG4gICAgY2hhbmdlZERvY3MgPSBbXTtcblxuICAgIGlmIChjdXJyZW50QmF0Y2guZG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRvY3MgPSBjdXJyZW50QmF0Y2guZG9jcztcbiAgICB2YXIgYnVsa09wdHMgPSB7dGltZW91dDogb3B0cy50aW1lb3V0fTtcbiAgICByZXR1cm4gdGFyZ2V0LmJ1bGtEb2NzKHtkb2NzOiBkb2NzLCBuZXdfZWRpdHM6IGZhbHNlfSwgYnVsa09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gYHJlc2AgZG9lc24ndCBpbmNsdWRlIGZ1bGwgZG9jdW1lbnRzICh3aGljaCBsaXZlIGluIGBkb2NzYCksIHNvIHdlIGNyZWF0ZSBhIG1hcCBvZlxuICAgICAgLy8gKGlkIC0+IGVycm9yKSwgYW5kIGNoZWNrIGZvciBlcnJvcnMgd2hpbGUgaXRlcmF0aW5nIG92ZXIgYGRvY3NgXG4gICAgICB2YXIgZXJyb3JzQnlJZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnNCeUlkW3Jlcy5pZF0gPSByZXM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZXJyb3JzTm8gPSBPYmplY3Qua2V5cyhlcnJvcnNCeUlkKS5sZW5ndGg7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGVycm9yc05vO1xuICAgICAgcmVzdWx0LmRvY3Nfd3JpdHRlbiArPSBkb2NzLmxlbmd0aCAtIGVycm9yc05vO1xuXG4gICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvcnNCeUlkW2RvYy5faWRdO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICAgICAgdmFyIGVycm9yTmFtZSA9IChlcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2RlbmllZCcsIGNsb25lKGVycm9yKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkRG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBkb2NzLmxlbmd0aDtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaEJhdGNoKCkge1xuICAgIGlmIChjdXJyZW50QmF0Y2guZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSBnZXR0aW5nIGRvY3MuJyk7XG4gICAgfVxuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY3VycmVudEJhdGNoLnNlcTtcbiAgICB2YXIgb3V0UmVzdWx0ID0gY2xvbmUocmVzdWx0KTtcbiAgICBpZiAoY2hhbmdlZERvY3MubGVuZ3RoKSB7XG4gICAgICBvdXRSZXN1bHQuZG9jcyA9IGNoYW5nZWREb2NzO1xuICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50QmF0Y2gucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgb3V0UmVzdWx0LnBlbmRpbmcgPSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hhbmdlJywgb3V0UmVzdWx0KTtcbiAgICB9XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGN1cnJlbnRCYXRjaC5zZXEsXG4gICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ2NoZWNrcG9pbnQnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICBjdXJyZW50QmF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgb25DaGVja3BvaW50RXJyb3IoZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpZmZzKCkge1xuICAgIHZhciBkaWZmID0ge307XG4gICAgY3VycmVudEJhdGNoLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncmV2c19kaWZmJzogY2hhbmdlIH0pO1xuICAgICAgLy8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheSBlbWl0cyB0aGVzZSwgYnV0IHdlIGNhbiBpZ25vcmUgdGhlbVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlLmlkID09PSBcIl91c2VyL1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpZmZbY2hhbmdlLmlkXSA9IGNoYW5nZS5jaGFuZ2VzLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5yZXY7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0LnJldnNEaWZmKGRpZmYpLnRoZW4oZnVuY3Rpb24gKGRpZmZzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgLy8gY3VycmVudEJhdGNoLmRpZmZzIGVsZW1lbnRzIGFyZSBkZWxldGVkIGFzIHRoZSBkb2N1bWVudHMgYXJlIHdyaXR0ZW5cbiAgICAgIGN1cnJlbnRCYXRjaC5kaWZmcyA9IGRpZmZzO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmF0Y2hEb2NzKCkge1xuICAgIHJldHVybiBnZXREb2NzKHNyYywgdGFyZ2V0LCBjdXJyZW50QmF0Y2guZGlmZnMsIHJldHVyblZhbHVlKS50aGVuKGZ1bmN0aW9uIChnb3QpIHtcbiAgICAgIGN1cnJlbnRCYXRjaC5lcnJvciA9ICFnb3Qub2s7XG4gICAgICBnb3QuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5kaWZmc1tkb2MuX2lkXTtcbiAgICAgICAgcmVzdWx0LmRvY3NfcmVhZCsrO1xuICAgICAgICBjdXJyZW50QmF0Y2guZG9jcy5wdXNoKGRvYyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0TmV4dEJhdGNoKCkge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQgfHwgY3VycmVudEJhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudEJhdGNoID0gYmF0Y2hlcy5zaGlmdCgpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdzdGFydF9uZXh0X2JhdGNoJzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICBnZXREaWZmcygpXG4gICAgICAudGhlbihnZXRCYXRjaERvY3MpXG4gICAgICAudGhlbih3cml0ZURvY3MpXG4gICAgICAudGhlbihmaW5pc2hCYXRjaClcbiAgICAgIC50aGVuKHN0YXJ0TmV4dEJhdGNoKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgYWJvcnRSZXBsaWNhdGlvbignYmF0Y2ggcHJvY2Vzc2luZyB0ZXJtaW5hdGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NQZW5kaW5nQmF0Y2goaW1tZWRpYXRlJCQxKSB7XG4gICAgaWYgKHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwICYmICFjdXJyZW50QmF0Y2gpIHtcbiAgICAgICAgaWYgKChjb250aW51b3VzICYmIGNoYW5nZXNPcHRzLmxpdmUpIHx8IGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBpbW1lZGlhdGUkJDEgfHxcbiAgICAgIGNoYW5nZXNDb21wbGV0ZWQgfHxcbiAgICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA+PSBiYXRjaF9zaXplXG4gICAgKSB7XG4gICAgICBiYXRjaGVzLnB1c2gocGVuZGluZ0JhdGNoKTtcbiAgICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgICAgc2VxOiAwLFxuICAgICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgICAgZG9jczogW11cbiAgICAgIH07XG4gICAgICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgICAgc3RhcnROZXh0QmF0Y2goKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGFib3J0UmVwbGljYXRpb24ocmVhc29uLCBlcnIpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFlcnIubWVzc2FnZSkge1xuICAgICAgZXJyLm1lc3NhZ2UgPSByZWFzb247XG4gICAgfVxuICAgIHJlc3VsdC5vayA9IGZhbHNlO1xuICAgIHJlc3VsdC5zdGF0dXMgPSAnYWJvcnRpbmcnO1xuICAgIGJhdGNoZXMgPSBbXTtcbiAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICBzZXE6IDAsXG4gICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgIGRvY3M6IFtdXG4gICAgfTtcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlUmVwbGljYXRpb24oZmF0YWxFcnJvcikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ2NhbmNlbGxlZCc7XG4gICAgICBpZiAod3JpdGluZ0NoZWNrcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc3RhdHVzID0gcmVzdWx0LnN0YXR1cyB8fCAnY29tcGxldGUnO1xuICAgIHJlc3VsdC5lbmRfdGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcTtcbiAgICByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IHRydWU7XG5cbiAgICBpZiAoZmF0YWxFcnJvcikge1xuICAgICAgLy8gbmVlZCB0byBleHRlbmQgdGhlIGVycm9yIGJlY2F1c2UgRmlyZWZveCBjb25zaWRlcnMgXCIucmVzdWx0XCIgcmVhZC1vbmx5XG4gICAgICBmYXRhbEVycm9yID0gY3JlYXRlRXJyb3IoZmF0YWxFcnJvcik7XG4gICAgICBmYXRhbEVycm9yLnJlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgIHZhciBlcnJvck5hbWUgPSAoZmF0YWxFcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGZhdGFsRXJyb3IpO1xuICAgICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGZhdGFsRXJyb3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2UoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIHBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICBwZW5kaW5nQmF0Y2gucGVuZGluZyA9IHBlbmRpbmc7XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKShjaGFuZ2UpO1xuICAgIGlmICghZmlsdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdCYXRjaC5zZXEgPSBjaGFuZ2Uuc2VxIHx8IGxhc3RTZXE7XG4gICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdwZW5kaW5nX2JhdGNoJzogcGVuZGluZ0JhdGNoLnNlcSB9KTtcbiAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiBjaGFuZ2VzT3B0cy5saXZlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzQ29tcGxldGUoY2hhbmdlcykge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyByZXN1bHRzIHdlcmUgcmV0dXJuZWQgdGhlbiB3ZSdyZSBkb25lLFxuICAgIC8vIGVsc2UgZmV0Y2ggbW9yZVxuICAgIGlmIChjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgY2hhbmdlc09wdHMuc2luY2UgPSBjaGFuZ2VzLnJlc3VsdHNbY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCAtIDFdLnNlcTtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGludW91cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmxpdmUgPSB0cnVlO1xuICAgICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgfTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBjaGVja3BvaW50IHNvIHdlIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHNlcSBuZXh0IHRpbWVcbiAgICAgIGlmICghY3VycmVudEJhdGNoICYmIGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgICBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGNoYW5nZXMubGFzdF9zZXEsXG4gICAgICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY2hhbmdlcy5sYXN0X3NlcTtcbiAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0Vycm9yKGVycikge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgYWJvcnRSZXBsaWNhdGlvbignY2hhbmdlcyByZWplY3RlZCcsIGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdldENoYW5nZXMoKSB7XG4gICAgaWYgKCEoXG4gICAgICAhY2hhbmdlc1BlbmRpbmcgJiZcbiAgICAgICFjaGFuZ2VzQ29tcGxldGVkICYmXG4gICAgICBiYXRjaGVzLmxlbmd0aCA8IGJhdGNoZXNfbGltaXRcbiAgICAgICkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hhbmdlc1BlbmRpbmcgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGFib3J0Q2hhbmdlcygpIHtcbiAgICAgIGNoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG4gICAgfVxuXG4gICAgaWYgKHJldHVyblZhbHVlLl9jaGFuZ2VzKSB7IC8vIHJlbW92ZSBvbGQgY2hhbmdlcygpIGFuZCBsaXN0ZW5lcnNcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzKTtcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuXG4gICAgdmFyIGNoYW5nZXMgPSBzcmMuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgIGNoYW5nZXMudGhlbihyZW1vdmVMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIpO1xuICAgIGNoYW5nZXMudGhlbihvbkNoYW5nZXNDb21wbGV0ZSlcbiAgICAgIC5jYXRjaChvbkNoYW5nZXNFcnJvcik7XG5cbiAgICBpZiAob3B0cy5yZXRyeSkge1xuICAgICAgLy8gc2F2ZSBmb3IgbGF0ZXIgc28gd2UgY2FuIGNhbmNlbCBpZiBuZWNlc3NhcnlcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzID0gY2hhbmdlcztcbiAgICAgIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMgPSBhYm9ydENoYW5nZXM7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBzdGFydENoYW5nZXMoKSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci5nZXRDaGVja3BvaW50KCkudGhlbihmdW5jdGlvbiAoY2hlY2twb2ludCkge1xuICAgICAgICBsYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG4gICAgICAgIGNoYW5nZXNPcHRzID0ge1xuICAgICAgICAgIHNpbmNlOiBsYXN0X3NlcSxcbiAgICAgICAgICBsaW1pdDogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBkb2NfaWRzOiBkb2NfaWRzLFxuICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSAvLyByZXF1aXJlZCBzbyB3ZSBrbm93IHdoZW4gd2UncmUgZG9uZVxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5maWx0ZXIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIHRoZSBjbGllbnQtc2lkZSBmaWx0ZXIgaW4gb25DaGFuZ2VcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gZGRvYyBmaWx0ZXJcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgndGltZW91dCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMucXVlcnlfcGFyYW1zID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMudmlldykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgYWJvcnRSZXBsaWNhdGlvbignZ2V0Q2hlY2twb2ludCByZWplY3RlZCB3aXRoICcsIGVycik7XG4gICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBvbkNoZWNrcG9pbnRFcnJvcihlcnIpIHtcbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgIGFib3J0UmVwbGljYXRpb24oJ3dyaXRlQ2hlY2twb2ludCBjb21wbGV0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkgeyAvLyBjYW5jZWxsZWQgaW1tZWRpYXRlbHlcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFyZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMpIHtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBjb21wbGV0ZVJlcGxpY2F0aW9uKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnZXJyb3InLCBvcHRzLmNvbXBsZXRlKTtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0cy5zaW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGFydENoYW5nZXMoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChvcHRzLnNpbmNlLCBzZXNzaW9uKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsYXN0X3NlcSA9IG9wdHMuc2luY2U7XG4gICAgICBzdGFydENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gIH1cbn1cblxuLy8gV2UgY3JlYXRlIGEgYmFzaWMgcHJvbWlzZSBzbyB0aGUgY2FsbGVyIGNhbiBjYW5jZWwgdGhlIHJlcGxpY2F0aW9uIHBvc3NpYmx5XG4vLyBiZWZvcmUgd2UgaGF2ZSBhY3R1YWxseSBzdGFydGVkIGxpc3RlbmluZyB0byBjaGFuZ2VzIGV0Y1xuaW5oZXJpdHMoUmVwbGljYXRpb24sIEVFKTtcbmZ1bmN0aW9uIFJlcGxpY2F0aW9uKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICB0aGlzLnN0YXRlID0gJ3BlbmRpbmcnO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIHNlbGYub25jZSgnY29tcGxldGUnLCBmdWxmaWxsKTtcbiAgICBzZWxmLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgfSk7XG4gIHNlbGYudGhlbiA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gIH07XG4gIHNlbGYuY2F0Y2ggPSBmdW5jdGlvbiAocmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2gocmVqZWN0KTtcbiAgfTtcbiAgLy8gQXMgd2UgYWxsb3cgZXJyb3IgaGFuZGxpbmcgdmlhIFwiZXJyb3JcIiBldmVudCBhcyB3ZWxsLFxuICAvLyBwdXQgYSBzdHViIGluIGhlcmUgc28gdGhhdCByZWplY3RpbmcgbmV2ZXIgdGhyb3dzIFVuaGFuZGxlZEVycm9yLlxuICBzZWxmLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbn1cblxuUmVwbGljYXRpb24ucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICB0aGlzLnN0YXRlID0gJ2NhbmNlbGxlZCc7XG4gIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG59O1xuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoc3JjLCB0YXJnZXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoc2VsZi5fcmVhZHlDYWxsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5fcmVhZHlDYWxsZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIHNyYy5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB0YXJnZXQub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9XG4gIHNlbGYub25jZSgnY29tcGxldGUnLCBjbGVhbnVwKTtcbiAgc2VsZi5vbmNlKCdlcnJvcicsIGNsZWFudXApO1xufTtcblxuZnVuY3Rpb24gdG9Qb3VjaChkYiwgb3B0cykge1xuICB2YXIgUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvcjtcbiAgaWYgKHR5cGVvZiBkYiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoQ29uc3RydWN0b3IoZGIsIG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkYjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIGlmIChvcHRzLmRvY19pZHMgJiYgIUFycmF5LmlzQXJyYXkob3B0cy5kb2NfaWRzKSkge1xuICAgIHRocm93IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAgICAgICAgICAgICAgICBcImBkb2NfaWRzYCBmaWx0ZXIgcGFyYW1ldGVyIGlzIG5vdCBhIGxpc3QuXCIpO1xuICB9XG5cbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIG9wdHMuY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmU7XG4gIG9wdHMucmV0cnkgPSAoJ3JldHJ5JyBpbiBvcHRzKSA/IG9wdHMucmV0cnkgOiBmYWxzZTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHZhciByZXBsaWNhdGVSZXQgPSBuZXcgUmVwbGljYXRpb24ob3B0cyk7XG4gIHZhciBzcmNQb3VjaCA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdmFyIHRhcmdldFBvdWNoID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXBsaWNhdGUoc3JjUG91Y2gsIHRhcmdldFBvdWNoLCBvcHRzLCByZXBsaWNhdGVSZXQpO1xuICByZXR1cm4gcmVwbGljYXRlUmV0O1xufVxuXG5pbmhlcml0cyhTeW5jLCBFRSk7XG5mdW5jdGlvbiBzeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgc3JjID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB0YXJnZXQgPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJldHVybiBuZXcgU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTtcblxuICB2YXIgb3B0c1B1c2ggPSBvcHRzLnB1c2ggPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVzaCkgOiBvcHRzO1xuICB2YXIgb3B0c1B1bGwgPSBvcHRzLnB1bGwgPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVsbCkgOiBvcHRzO1xuXG4gIHRoaXMucHVzaCA9IHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHNQdXNoKTtcbiAgdGhpcy5wdWxsID0gcmVwbGljYXRlV3JhcHBlcih0YXJnZXQsIHNyYywgb3B0c1B1bGwpO1xuXG4gIHRoaXMucHVzaFBhdXNlZCA9IHRydWU7XG4gIHRoaXMucHVsbFBhdXNlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gcHVsbENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVsbERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoUGF1c2VkKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1c2hBY3RpdmUoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1c2gnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVsbCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZW1vdmVkID0ge307XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsKHR5cGUpIHsgLy8gdHlwZSBpcyAncHVzaCcgb3IgJ3B1bGwnXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xuICAgICAgdmFyIGlzQ2hhbmdlID0gZXZlbnQgPT09ICdjaGFuZ2UnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQ2hhbmdlIHx8IGZ1bmMgPT09IHB1c2hDaGFuZ2UpO1xuICAgICAgdmFyIGlzRGVuaWVkID0gZXZlbnQgPT09ICdkZW5pZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsRGVuaWVkIHx8IGZ1bmMgPT09IHB1c2hEZW5pZWQpO1xuICAgICAgdmFyIGlzUGF1c2VkID0gZXZlbnQgPT09ICdwYXVzZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsUGF1c2VkIHx8IGZ1bmMgPT09IHB1c2hQYXVzZWQpO1xuICAgICAgdmFyIGlzQWN0aXZlID0gZXZlbnQgPT09ICdhY3RpdmUnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQWN0aXZlIHx8IGZ1bmMgPT09IHB1c2hBY3RpdmUpO1xuXG4gICAgICBpZiAoaXNDaGFuZ2UgfHwgaXNEZW5pZWQgfHwgaXNQYXVzZWQgfHwgaXNBY3RpdmUpIHtcbiAgICAgICAgaWYgKCEoZXZlbnQgaW4gcmVtb3ZlZCkpIHtcbiAgICAgICAgICByZW1vdmVkW2V2ZW50XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZWRbZXZlbnRdW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlbW92ZWRbZXZlbnRdKS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAvLyBib3RoIHB1c2ggYW5kIHB1bGwgaGF2ZSBhc2tlZCB0byBiZSByZW1vdmVkXG4gICAgICAgICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGlmIChvcHRzLmxpdmUpIHtcbiAgICB0aGlzLnB1c2gub24oJ2NvbXBsZXRlJywgc2VsZi5wdWxsLmNhbmNlbC5iaW5kKHNlbGYucHVsbCkpO1xuICAgIHRoaXMucHVsbC5vbignY29tcGxldGUnLCBzZWxmLnB1c2guY2FuY2VsLmJpbmQoc2VsZi5wdXNoKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPbmVMaXN0ZW5lcihlZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGVlLmxpc3RlbmVycyhldmVudCkuaW5kZXhPZihsaXN0ZW5lcikgPT0gLTEpIHtcbiAgICAgIGVlLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5vbigncmVtb3ZlTGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMucHVsbC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1bGwnKSk7XG4gIHRoaXMucHVzaC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1c2gnKSk7XG5cbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgdGhpcy5wdXNoLFxuICAgIHRoaXMucHVsbFxuICBdKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgdmFyIG91dCA9IHtcbiAgICAgIHB1c2g6IHJlc3BbMF0sXG4gICAgICBwdWxsOiByZXNwWzFdXG4gICAgfTtcbiAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgb3V0KTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgY2FsbGJhY2ssIHRoZW4gdGhlIGNhbGxiYWNrIGNhbiByZWNlaXZlXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnRcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gY2FsbGJhY2ssIHRoZW4gd2UncmUgc2FmZSB0byBlbWl0IGFuIGVycm9yXG4gICAgICAvLyBldmVudCwgd2hpY2ggd291bGQgb3RoZXJ3aXNlIHRocm93IGFuIHVuaGFuZGxlZCBlcnJvclxuICAgICAgLy8gZHVlIHRvICdlcnJvcicgYmVpbmcgYSBzcGVjaWFsIGV2ZW50IGluIEV2ZW50RW1pdHRlcnNcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gbm8gc2Vuc2UgdGhyb3dpbmcgaWYgd2UncmUgYWxyZWFkeSBlbWl0dGluZyBhbiAnZXJyb3InIGV2ZW50XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnRoZW4gPSBmdW5jdGlvbiAoc3VjY2VzcywgZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihzdWNjZXNzLCBlcnIpO1xuICB9O1xuXG4gIHRoaXMuY2F0Y2ggPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZXJyKTtcbiAgfTtcbn1cblxuU3luYy5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2FuY2VsZWQpIHtcbiAgICB0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcbiAgICB0aGlzLnB1c2guY2FuY2VsKCk7XG4gICAgdGhpcy5wdWxsLmNhbmNlbCgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZXBsaWNhdGlvbihQb3VjaERCKSB7XG4gIFBvdWNoREIucmVwbGljYXRlID0gcmVwbGljYXRlV3JhcHBlcjtcbiAgUG91Y2hEQi5zeW5jID0gc3luYztcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG91Y2hEQi5wcm90b3R5cGUsICdyZXBsaWNhdGUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5yZXBsaWNhdGVNZXRob2RzID0ge1xuICAgICAgICAgIGZyb206IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShvdGhlciwgc2VsZiwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG86IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShzZWxmLCBvdGhlciwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHM7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaERCLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKGRiTmFtZSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5zeW5jKHRoaXMsIGRiTmFtZSwgb3B0cywgY2FsbGJhY2spO1xuICB9O1xufVxuXG5Qb3VjaERCLnBsdWdpbihJREJQb3VjaClcbiAgLnBsdWdpbihIdHRwUG91Y2gkMSlcbiAgLnBsdWdpbihtYXByZWR1Y2UpXG4gIC5wbHVnaW4ocmVwbGljYXRpb24pO1xuXG4vLyBQdWxsIGZyb20gc3JjIGJlY2F1c2UgcG91Y2hkYi1ub2RlL3BvdWNoZGItYnJvd3NlciB0aGVtc2VsdmVzXG5cbmV4cG9ydCBkZWZhdWx0IFBvdWNoREI7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJzsgLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcblxudmFyIF9jbG9ja3NlcTsgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5cblxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwOyAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgbmV3IEFycmF5KDE2KTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7IC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuXG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtzZWVkQnl0ZXNbMF0gfCAweDAxLCBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XV07XG4gICAgfVxuXG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9IC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuXG5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IERhdGUubm93KCk7IC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcblxuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7IC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcblxuICB2YXIgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwOyAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG5cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfSAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG5cblxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfSAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG5cblxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTsgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG5cbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7IC8vIGB0aW1lX2xvd2BcblxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmOyAvLyBgdGltZV9taWRgXG5cbiAgdmFyIHRtaCA9IG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjsgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcblxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG5cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7IC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDsgLy8gYGNsb2NrX3NlcV9sb3dgXG5cbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmOyAvLyBgbm9kZWBcblxuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgfHwgc3RyaW5naWZ5KGIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2MTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICB2YXIgdjtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcblxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTsiLCJpbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIHZhciBieXRlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgYnl0ZXMucHVzaChzdHIuY2hhckNvZGVBdChpKSk7XG4gIH1cblxuICByZXR1cm4gYnl0ZXM7XG59XG5cbmV4cG9ydCB2YXIgRE5TID0gJzZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgdmFyIFVSTCA9ICc2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHN0cmluZ1RvQnl0ZXModmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZXNwYWNlID0gcGFyc2UobmFtZXNwYWNlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZXNwYWNlLmxlbmd0aCAhPT0gMTYpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignTmFtZXNwYWNlIG11c3QgYmUgYXJyYXktbGlrZSAoMTYgaXRlcmFibGUgaW50ZWdlciB2YWx1ZXMsIDAtMjU1KScpO1xuICAgIH0gLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcblxuXG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYgKyB2YWx1ZS5sZW5ndGgpO1xuICAgIGJ5dGVzLnNldChuYW1lc3BhY2UpO1xuICAgIGJ5dGVzLnNldCh2YWx1ZSwgbmFtZXNwYWNlLmxlbmd0aCk7XG4gICAgYnl0ZXMgPSBoYXNoZnVuYyhieXRlcyk7XG4gICAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCB2ZXJzaW9uO1xuICAgIGJ5dGVzWzhdID0gYnl0ZXNbOF0gJiAweDNmIHwgMHg4MDtcblxuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgYnVmW29mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ2lmeShieXRlcyk7XG4gIH0gLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG5cblxuICB0cnkge1xuICAgIGdlbmVyYXRlVVVJRC5uYW1lID0gbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gIH0gY2F0Y2ggKGVycikge30gLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcblxuXG4gIGdlbmVyYXRlVVVJRC5ETlMgPSBETlM7XG4gIGdlbmVyYXRlVVVJRC5VUkwgPSBVUkw7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUQ7XG59IiwiLypcbiAqIEJyb3dzZXItY29tcGF0aWJsZSBKYXZhU2NyaXB0IE1ENVxuICpcbiAqIE1vZGlmaWNhdGlvbiBvZiBKYXZhU2NyaXB0IE1ENVxuICogaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvSmF2YVNjcmlwdC1NRDVcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSwgU2ViYXN0aWFuIFRzY2hhblxuICogaHR0cHM6Ly9ibHVlaW1wLm5ldFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKlxuICogQmFzZWQgb25cbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgUlNBIERhdGEgU2VjdXJpdHksIEluYy4gTUQ1IE1lc3NhZ2VcbiAqIERpZ2VzdCBBbGdvcml0aG0sIGFzIGRlZmluZWQgaW4gUkZDIDEzMjEuXG4gKiBWZXJzaW9uIDIuMiBDb3B5cmlnaHQgKEMpIFBhdWwgSm9obnN0b24gMTk5OSAtIDIwMDlcbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIG1vcmUgaW5mby5cbiAqL1xuZnVuY3Rpb24gbWQ1KGJ5dGVzKSB7XG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBuZXcgVWludDhBcnJheShtc2cubGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlc1tpXSA9IG1zZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZDVUb0hleEVuY29kZWRBcnJheSh3b3Jkc1RvTWQ1KGJ5dGVzVG9Xb3JkcyhieXRlcyksIGJ5dGVzLmxlbmd0aCAqIDgpKTtcbn1cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMgdG8gYW4gYXJyYXkgb2YgYnl0ZXNcbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNVRvSGV4RW5jb2RlZEFycmF5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgdmFyIGxlbmd0aDMyID0gaW5wdXQubGVuZ3RoICogMzI7XG4gIHZhciBoZXhUYWIgPSAnMDEyMzQ1Njc4OWFiY2RlZic7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGgzMjsgaSArPSA4KSB7XG4gICAgdmFyIHggPSBpbnB1dFtpID4+IDVdID4+PiBpICUgMzIgJiAweGZmO1xuICAgIHZhciBoZXggPSBwYXJzZUludChoZXhUYWIuY2hhckF0KHggPj4+IDQgJiAweDBmKSArIGhleFRhYi5jaGFyQXQoeCAmIDB4MGYpLCAxNik7XG4gICAgb3V0cHV0LnB1c2goaGV4KTtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSBvdXRwdXQgbGVuZ3RoIHdpdGggcGFkZGluZyBhbmQgYml0IGxlbmd0aFxuICovXG5cblxuZnVuY3Rpb24gZ2V0T3V0cHV0TGVuZ3RoKGlucHV0TGVuZ3RoOCkge1xuICByZXR1cm4gKGlucHV0TGVuZ3RoOCArIDY0ID4+PiA5IDw8IDQpICsgMTQgKyAxO1xufVxuLypcbiAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMsIGFuZCBhIGJpdCBsZW5ndGguXG4gKi9cblxuXG5mdW5jdGlvbiB3b3Jkc1RvTWQ1KHgsIGxlbikge1xuICAvKiBhcHBlbmQgcGFkZGluZyAqL1xuICB4W2xlbiA+PiA1XSB8PSAweDgwIDw8IGxlbiAlIDMyO1xuICB4W2dldE91dHB1dExlbmd0aChsZW4pIC0gMV0gPSBsZW47XG4gIHZhciBhID0gMTczMjU4NDE5MztcbiAgdmFyIGIgPSAtMjcxNzMzODc5O1xuICB2YXIgYyA9IC0xNzMyNTg0MTk0O1xuICB2YXIgZCA9IDI3MTczMzg3ODtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KSB7XG4gICAgdmFyIG9sZGEgPSBhO1xuICAgIHZhciBvbGRiID0gYjtcbiAgICB2YXIgb2xkYyA9IGM7XG4gICAgdmFyIG9sZGQgPSBkO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2ldLCA3LCAtNjgwODc2OTM2KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMV0sIDEyLCAtMzg5NTY0NTg2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE3LCA2MDYxMDU4MTkpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgNF0sIDcsIC0xNzY0MTg4OTcpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA1XSwgMTIsIDEyMDAwODA0MjYpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTcsIC0xNDczMjMxMzQxKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgN10sIDIyLCAtNDU3MDU5ODMpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNywgMTc3MDAzNTQxNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxMF0sIDE3LCAtNDIwNjMpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxMV0sIDIyLCAtMTk5MDQwNDE2Mik7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDEyXSwgNywgMTgwNDYwMzY4Mik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDEzXSwgMTIsIC00MDM0MTEwMSk7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTVdLCAyMiwgMTIzNjUzNTMyOSk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDFdLCA1LCAtMTY1Nzk2NTEwKTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgNl0sIDksIC0xMDY5NTAxNjMyKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNCwgNjQzNzE3NzEzKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpXSwgMjAsIC0zNzM4OTczMDIpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNSwgLTcwMTU1ODY5MSk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDEwXSwgOSwgMzgwMTYwODMpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE0LCAtNjYwNDc4MzM1KTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgOV0sIDUsIDU2ODQ0NjQzOCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDE0XSwgOSwgLTEwMTk4MDM2OTApO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTQsIC0xODczNjM5NjEpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA4XSwgMjAsIDExNjM1MzE1MDEpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDUsIC0xNDQ0NjgxNDY3KTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMl0sIDksIC01MTQwMzc4NCk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNCwgMTczNTMyODQ3Myk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDEyXSwgMjAsIC0xOTI2NjA3NzM0KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgNV0sIDQsIC0zNzg1NTgpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA4XSwgMTEsIC0yMDIyNTc0NDYzKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNiwgMTgzOTAzMDU2Mik7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDE0XSwgMjMsIC0zNTMwOTU1Nik7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDFdLCA0LCAtMTUzMDk5MjA2MCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDRdLCAxMSwgMTI3Mjg5MzM1Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNiwgLTE1NTQ5NzYzMik7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDEwXSwgMjMsIC0xMDk0NzMwNjQwKTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMTNdLCA0LCA2ODEyNzkxNzQpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2ldLCAxMSwgLTM1ODUzNzIyMik7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNiwgLTcyMjUyMTk3OSk7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDZdLCAyMywgNzYwMjkxODkpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNCwgLTY0MDM2NDQ4Nyk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDEyXSwgMTEsIC00MjE4MTU4MzUpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE2LCA1MzA3NDI1MjApO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAyXSwgMjMsIC05OTUzMzg2NTEpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2ldLCA2LCAtMTk4NjMwODQ0KTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgN10sIDEwLCAxMTI2ODkxNDE1KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA1XSwgMjEsIC01NzQzNDA1NSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDEyXSwgNiwgMTcwMDQ4NTU3MSk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDNdLCAxMCwgLTE4OTQ5ODY2MDYpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxMF0sIDE1LCAtMTA1MTUyMyk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDFdLCAyMSwgLTIwNTQ5MjI3OTkpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNiwgMTg3MzMxMzM1OSk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDE1XSwgMTAsIC0zMDYxMTc0NCk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNSwgLTE1NjAxOTgzODApO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxM10sIDIxLCAxMzA5MTUxNjQ5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgNF0sIDYsIC0xNDU1MjMwNzApO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNSwgNzE4Nzg3MjU5KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgOV0sIDIxLCAtMzQzNDg1NTUxKTtcbiAgICBhID0gc2FmZUFkZChhLCBvbGRhKTtcbiAgICBiID0gc2FmZUFkZChiLCBvbGRiKTtcbiAgICBjID0gc2FmZUFkZChjLCBvbGRjKTtcbiAgICBkID0gc2FmZUFkZChkLCBvbGRkKTtcbiAgfVxuXG4gIHJldHVybiBbYSwgYiwgYywgZF07XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBieXRlcyB0byBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzXG4gKiBDaGFyYWN0ZXJzID4yNTUgaGF2ZSB0aGVpciBoaWdoLWJ5dGUgc2lsZW50bHkgaWdub3JlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJ5dGVzVG9Xb3JkcyhpbnB1dCkge1xuICBpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmFyIGxlbmd0aDggPSBpbnB1dC5sZW5ndGggKiA4O1xuICB2YXIgb3V0cHV0ID0gbmV3IFVpbnQzMkFycmF5KGdldE91dHB1dExlbmd0aChsZW5ndGg4KSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg4OyBpICs9IDgpIHtcbiAgICBvdXRwdXRbaSA+PiA1XSB8PSAoaW5wdXRbaSAvIDhdICYgMHhmZikgPDwgaSAlIDMyO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qXG4gKiBBZGQgaW50ZWdlcnMsIHdyYXBwaW5nIGF0IDJeMzIuIFRoaXMgdXNlcyAxNi1iaXQgb3BlcmF0aW9ucyBpbnRlcm5hbGx5XG4gKiB0byB3b3JrIGFyb3VuZCBidWdzIGluIHNvbWUgSlMgaW50ZXJwcmV0ZXJzLlxuICovXG5cblxuZnVuY3Rpb24gc2FmZUFkZCh4LCB5KSB7XG4gIHZhciBsc3cgPSAoeCAmIDB4ZmZmZikgKyAoeSAmIDB4ZmZmZik7XG4gIHZhciBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgcmV0dXJuIG1zdyA8PCAxNiB8IGxzdyAmIDB4ZmZmZjtcbn1cbi8qXG4gKiBCaXR3aXNlIHJvdGF0ZSBhIDMyLWJpdCBudW1iZXIgdG8gdGhlIGxlZnQuXG4gKi9cblxuXG5mdW5jdGlvbiBiaXRSb3RhdGVMZWZ0KG51bSwgY250KSB7XG4gIHJldHVybiBudW0gPDwgY250IHwgbnVtID4+PiAzMiAtIGNudDtcbn1cbi8qXG4gKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICovXG5cblxuZnVuY3Rpb24gbWQ1Y21uKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIHNhZmVBZGQoYml0Um90YXRlTGVmdChzYWZlQWRkKHNhZmVBZGQoYSwgcSksIHNhZmVBZGQoeCwgdCkpLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIG1kNWZmKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgYyB8IH5iICYgZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWdnKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgZCB8IGMgJiB+ZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWhoKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiIF4gYyBeIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVpaShhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYyBeIChiIHwgfmQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWQ1OyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IG1kNSBmcm9tICcuL21kNS5qcyc7XG52YXIgdjMgPSB2MzUoJ3YzJywgMHgzMCwgbWQ1KTtcbmV4cG9ydCBkZWZhdWx0IHYzOyIsIi8vIEFkYXB0ZWQgZnJvbSBDaHJpcyBWZW5lc3MnIFNIQTEgY29kZSBhdFxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9zaGExLmh0bWxcbmZ1bmN0aW9uIGYocywgeCwgeSwgeikge1xuICBzd2l0Y2ggKHMpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4geCAmIHkgXiB+eCAmIHo7XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIHggJiB5IF4geCAmIHogXiB5ICYgejtcblxuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG4gIH1cbn1cblxuZnVuY3Rpb24gUk9UTCh4LCBuKSB7XG4gIHJldHVybiB4IDw8IG4gfCB4ID4+PiAzMiAtIG47XG59XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgdmFyIEsgPSBbMHg1YTgyNzk5OSwgMHg2ZWQ5ZWJhMSwgMHg4ZjFiYmNkYywgMHhjYTYyYzFkNl07XG4gIHZhciBIID0gWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdO1xuXG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlcy5wdXNoKG1zZy5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgLy8gQ29udmVydCBBcnJheS1saWtlIHRvIEFycmF5XG4gICAgYnl0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcyk7XG4gIH1cblxuICBieXRlcy5wdXNoKDB4ODApO1xuICB2YXIgbCA9IGJ5dGVzLmxlbmd0aCAvIDQgKyAyO1xuICB2YXIgTiA9IE1hdGguY2VpbChsIC8gMTYpO1xuICB2YXIgTSA9IG5ldyBBcnJheShOKTtcblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgTjsgKytfaSkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDMyQXJyYXkoMTYpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICBhcnJbal0gPSBieXRlc1tfaSAqIDY0ICsgaiAqIDRdIDw8IDI0IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMV0gPDwgMTYgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAyXSA8PCA4IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgM107XG4gICAgfVxuXG4gICAgTVtfaV0gPSBhcnI7XG4gIH1cblxuICBNW04gLSAxXVsxNF0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4IC8gTWF0aC5wb3coMiwgMzIpO1xuICBNW04gLSAxXVsxNF0gPSBNYXRoLmZsb29yKE1bTiAtIDFdWzE0XSk7XG4gIE1bTiAtIDFdWzE1XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggJiAweGZmZmZmZmZmO1xuXG4gIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IE47ICsrX2kyKSB7XG4gICAgdmFyIFcgPSBuZXcgVWludDMyQXJyYXkoODApO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAxNjsgKyt0KSB7XG4gICAgICBXW3RdID0gTVtfaTJdW3RdO1xuICAgIH1cblxuICAgIGZvciAodmFyIF90ID0gMTY7IF90IDwgODA7ICsrX3QpIHtcbiAgICAgIFdbX3RdID0gUk9UTChXW190IC0gM10gXiBXW190IC0gOF0gXiBXW190IC0gMTRdIF4gV1tfdCAtIDE2XSwgMSk7XG4gICAgfVxuXG4gICAgdmFyIGEgPSBIWzBdO1xuICAgIHZhciBiID0gSFsxXTtcbiAgICB2YXIgYyA9IEhbMl07XG4gICAgdmFyIGQgPSBIWzNdO1xuICAgIHZhciBlID0gSFs0XTtcblxuICAgIGZvciAodmFyIF90MiA9IDA7IF90MiA8IDgwOyArK190Mikge1xuICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKF90MiAvIDIwKTtcbiAgICAgIHZhciBUID0gUk9UTChhLCA1KSArIGYocywgYiwgYywgZCkgKyBlICsgS1tzXSArIFdbX3QyXSA+Pj4gMDtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gUk9UTChiLCAzMCkgPj4+IDA7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBUO1xuICAgIH1cblxuICAgIEhbMF0gPSBIWzBdICsgYSA+Pj4gMDtcbiAgICBIWzFdID0gSFsxXSArIGIgPj4+IDA7XG4gICAgSFsyXSA9IEhbMl0gKyBjID4+PiAwO1xuICAgIEhbM10gPSBIWzNdICsgZCA+Pj4gMDtcbiAgICBIWzRdID0gSFs0XSArIGUgPj4+IDA7XG4gIH1cblxuICByZXR1cm4gW0hbMF0gPj4gMjQgJiAweGZmLCBIWzBdID4+IDE2ICYgMHhmZiwgSFswXSA+PiA4ICYgMHhmZiwgSFswXSAmIDB4ZmYsIEhbMV0gPj4gMjQgJiAweGZmLCBIWzFdID4+IDE2ICYgMHhmZiwgSFsxXSA+PiA4ICYgMHhmZiwgSFsxXSAmIDB4ZmYsIEhbMl0gPj4gMjQgJiAweGZmLCBIWzJdID4+IDE2ICYgMHhmZiwgSFsyXSA+PiA4ICYgMHhmZiwgSFsyXSAmIDB4ZmYsIEhbM10gPj4gMjQgJiAweGZmLCBIWzNdID4+IDE2ICYgMHhmZiwgSFszXSA+PiA4ICYgMHhmZiwgSFszXSAmIDB4ZmYsIEhbNF0gPj4gMjQgJiAweGZmLCBIWzRdID4+IDE2ICYgMHhmZiwgSFs0XSA+PiA4ICYgMHhmZiwgSFs0XSAmIDB4ZmZdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbnZhciB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyIsImV4cG9ydCBkZWZhdWx0ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyIsIi8qKlxyXG4qIHZrQmVhdXRpZnkgLSBqYXZhc2NyaXB0IHBsdWdpbiB0byBwcmV0dHktcHJpbnQgb3IgbWluaWZ5IHRleHQgaW4gWE1MLCBKU09OLCBDU1MgYW5kIFNRTCBmb3JtYXRzLlxyXG4qXHJcbiogQ29weXJpZ2h0IChjKSAyMDEyIFZhZGltIEtpcnl1a2hpblxyXG4qIHZraXJ5dWtoaW4gQCBnbWFpbC5jb21cclxuKiBodHRwOi8vd3d3LmVzbGluc3RydWN0b3IubmV0L3ZrYmVhdXRpZnkvXHJcbipcclxuKiBEdWFsIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgYW5kIEdQTCBsaWNlbnNlczpcclxuKiAgIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2UucGhwXHJcbiogICBodHRwOi8vd3d3LmdudS5vcmcvbGljZW5zZXMvZ3BsLmh0bWxcclxuKlxyXG4qICAgUHJldHR5IHByaW50XHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWwodGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbih0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3ModGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qXHJcbiogICAgICAgIEB0ZXh0IC0gU3RyaW5nOyB0ZXh0IHRvIGJlYXR1Znk7XHJcbiogICAgICAgIEBpbmRlbnRfcGF0dGVybiAtIEludGVnZXIgfCBTdHJpbmc7XHJcbiogICAgICAgICAgICAgICAgSW50ZWdlcjogIG51bWJlciBvZiB3aGl0ZSBzcGFjZXM7XHJcbiogICAgICAgICAgICAgICAgU3RyaW5nOiAgIGNoYXJhY3RlciBzdHJpbmcgdG8gdmlzdWFsaXplIGluZGVudGF0aW9uICggY2FuIGFsc28gYmUgYSBzZXQgb2Ygd2hpdGUgc3BhY2VzIClcclxuKiAgIE1pbmlmeVxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sbWluKHRleHQgWyxwcmVzZXJ2ZV9jb21tZW50c10pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb25taW4odGV4dCk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzbWluKHRleHQgWyxwcmVzZXJ2ZV9jb21tZW50c10pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LnNxbG1pbih0ZXh0KTtcclxuKlxyXG4qICAgICAgICBAdGV4dCAtIFN0cmluZzsgdGV4dCB0byBtaW5pZnk7XHJcbiogICAgICAgIEBwcmVzZXJ2ZV9jb21tZW50cyAtIEJvb2w7IFtvcHRpb25hbF07XHJcbiogICAgICAgICAgICAgICAgU2V0IHRoaXMgZmxhZyB0byB0cnVlIHRvIHByZXZlbnQgcmVtb3ZpbmcgY29tbWVudHMgZnJvbSBAdGV4dCAoIG1pbnhtbCBhbmQgbWluY3NzIGZ1bmN0aW9ucyBvbmx5LiApXHJcbipcclxuKiAgIEV4YW1wbGVzOlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbCh0ZXh0KTsgLy8gcHJldHR5IHByaW50IFhNTFxyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb24odGV4dCwgNCApOyAvLyBwcmV0dHkgcHJpbnQgSlNPTlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzcyh0ZXh0LCAnLiAuIC4gLicpOyAvLyBwcmV0dHkgcHJpbnQgQ1NTXHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsKHRleHQsICctLS0tJyk7IC8vIHByZXR0eSBwcmludCBTUUxcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbG1pbih0ZXh0LCB0cnVlKTsvLyBtaW5pZnkgWE1MLCBwcmVzZXJ2ZSBjb21tZW50c1xyXG4qICAgICAgICB2a2JlYXV0aWZ5Lmpzb25taW4odGV4dCk7Ly8gbWluaWZ5IEpTT05cclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3NtaW4odGV4dCk7Ly8gbWluaWZ5IENTUywgcmVtb3ZlIGNvbW1lbnRzICggZGVmYXVsdCApXHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsbWluKHRleHQpOy8vIG1pbmlmeSBTUUxcclxuKlxyXG4qL1xyXG5mdW5jdGlvbiBjcmVhdGVTaGlmdEFycihzdGVwKSB7XHJcblxyXG5cdHZhciBzcGFjZSA9ICcgICAgJztcclxuXHJcblx0aWYgKCBpc05hTihwYXJzZUludChzdGVwKSkgKSB7ICAvLyBhcmd1bWVudCBpcyBzdHJpbmdcclxuXHRcdHNwYWNlID0gc3RlcDtcclxuXHR9IGVsc2UgeyAvLyBhcmd1bWVudCBpcyBpbnRlZ2VyXHJcblx0XHRzd2l0Y2goc3RlcCkge1xyXG5cdFx0XHRjYXNlIDE6IHNwYWNlID0gJyAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAyOiBzcGFjZSA9ICcgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDM6IHNwYWNlID0gJyAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDQ6IHNwYWNlID0gJyAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA1OiBzcGFjZSA9ICcgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDY6IHNwYWNlID0gJyAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDc6IHNwYWNlID0gJyAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSA4OiBzcGFjZSA9ICcgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDk6IHNwYWNlID0gJyAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDEwOiBzcGFjZSA9ICcgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTE6IHNwYWNlID0gJyAgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTI6IHNwYWNlID0gJyAgICAgICAgICAgICc7IGJyZWFrO1xyXG5cdFx0fVxyXG5cdH1cclxuXHJcblx0dmFyIHNoaWZ0ID0gWydcXG4nXTsgLy8gYXJyYXkgb2Ygc2hpZnRzXHJcblx0Zm9yKHZhciBpeD0wO2l4PDEwMDtpeCsrKSB7XHJcblx0XHRzaGlmdC5wdXNoKHNoaWZ0W2l4XStzcGFjZSk7XHJcblx0fVxyXG5cdHJldHVybiBzaGlmdDtcclxufVxyXG5cclxuZnVuY3Rpb24gdmtiZWF1dGlmeSgpe1xyXG5cdHRoaXMuc3RlcCA9ICcgICAgJzsgLy8gNCBzcGFjZXNcclxuXHR0aGlzLnNoaWZ0ID0gY3JlYXRlU2hpZnRBcnIodGhpcy5zdGVwKTtcclxufTtcclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnhtbCA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgYXIgPSB0ZXh0LnJlcGxhY2UoLz5cXHN7MCx9PC9nLFwiPjxcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoLzwvZyxcIn46On48XCIpXHJcblx0XHRcdFx0IC5yZXBsYWNlKC9cXHMqeG1sbnNcXDovZyxcIn46On54bWxuczpcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoL1xccyp4bWxuc1xcPS9nLFwifjo6fnhtbG5zPVwiKVxyXG5cdFx0XHRcdCAuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyLmxlbmd0aCxcclxuXHRcdGluQ29tbWVudCA9IGZhbHNlLFxyXG5cdFx0ZGVlcCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDtcclxuXHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cdFx0XHQvLyBzdGFydCBjb21tZW50IG9yIDwhW0NEQVRBWy4uLl1dPiBvciA8IURPQ1RZUEUgLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPCEvKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0XHRpbkNvbW1lbnQgPSB0cnVlO1xyXG5cdFx0XHRcdC8vIGVuZCBjb21tZW50ICBvciA8IVtDREFUQVsuLi5dXT4gLy9cclxuXHRcdFx0XHRpZihhcltpeF0uc2VhcmNoKC8tLT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goL1xcXT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goLyFET0NUWVBFLykgPiAtMSApIHtcclxuXHRcdFx0XHRcdGluQ29tbWVudCA9IGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIGVuZCBjb21tZW50ICBvciA8IVtDREFUQVsuLi5dXT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvLS0+LykgPiAtMSB8fCBhcltpeF0uc2VhcmNoKC9cXF0+LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdFx0aW5Db21tZW50ID0gZmFsc2U7XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8ZWxtPjwvZWxtPiAvL1xyXG5cdFx0XHRpZiggL148XFx3Ly5leGVjKGFyW2l4LTFdKSAmJiAvXjxcXC9cXHcvLmV4ZWMoYXJbaXhdKSAmJlxyXG5cdFx0XHRcdC9ePFtcXHc6XFwtXFwuXFwsXSsvLmV4ZWMoYXJbaXgtMV0pID09IC9ePFxcL1tcXHc6XFwtXFwuXFwsXSsvLmV4ZWMoYXJbaXhdKVswXS5yZXBsYWNlKCcvJywnJykpIHtcclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHRcdGlmKCFpbkNvbW1lbnQpIGRlZXAtLTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdCAvLyA8ZWxtPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFx3LykgPiAtMSAmJiBhcltpeF0uc2VhcmNoKC88XFwvLykgPT0gLTEgJiYgYXJbaXhdLnNlYXJjaCgvXFwvPi8pID09IC0xICkge1xyXG5cdFx0XHRcdHN0ciA9ICFpbkNvbW1lbnQgPyBzdHIgKz0gc2hpZnRbZGVlcCsrXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0IC8vIDxlbG0+Li4uPC9lbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXHcvKSA+IC0xICYmIGFyW2l4XS5zZWFyY2goLzxcXC8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPC9lbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXC8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFstLWRlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8ZWxtLz4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvXFwvPi8pID4gLTEgKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF0gOiBzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gPD8geG1sIC4uLiA/PiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88XFw/LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyB4bWxucyAvL1xyXG5cdFx0XHRpZiggYXJbaXhdLnNlYXJjaCgveG1sbnNcXDovKSA+IC0xICB8fCBhcltpeF0uc2VhcmNoKC94bWxuc1xcPS8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdHJldHVybiAgKHN0clswXSA9PSAnXFxuJykgPyBzdHIuc2xpY2UoMSkgOiBzdHI7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmpzb24gPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIHN0ZXAgPSBzdGVwID8gc3RlcCA6IHRoaXMuc3RlcDtcclxuXHJcblx0aWYgKHR5cGVvZiBKU09OID09PSAndW5kZWZpbmVkJyApIHJldHVybiB0ZXh0O1xyXG5cclxuXHRpZiAoIHR5cGVvZiB0ZXh0ID09PSBcInN0cmluZ1wiICkgcmV0dXJuIEpTT04uc3RyaW5naWZ5KEpTT04ucGFyc2UodGV4dCksIG51bGwsIHN0ZXApO1xyXG5cdGlmICggdHlwZW9mIHRleHQgPT09IFwib2JqZWN0XCIgKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkodGV4dCwgbnVsbCwgc3RlcCk7XHJcblxyXG5cdHJldHVybiB0ZXh0OyAvLyB0ZXh0IGlzIG5vdCBzdHJpbmcgbm9yIG9iamVjdFxyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5jc3MgPSBmdW5jdGlvbih0ZXh0LCBzdGVwKSB7XHJcblxyXG5cdHZhciBhciA9IHRleHQucmVwbGFjZSgvXFxzezEsfS9nLCcgJylcclxuXHRcdFx0XHQucmVwbGFjZSgvXFx7L2csXCJ7fjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXH0vZyxcIn46On59fjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXDsvZyxcIjt+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcL1xcKi9nLFwifjo6fi8qXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcKlxcLy9nLFwiKi9+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL346On5cXHN7MCx9fjo6fi9nLFwifjo6flwiKVxyXG5cdFx0XHRcdC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXIubGVuZ3RoLFxyXG5cdFx0ZGVlcCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDtcclxuXHJcblx0XHRmb3IoaXg9MDtpeDxsZW47aXgrKykge1xyXG5cclxuXHRcdFx0aWYoIC9cXHsvLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcCsrXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRpZiggL1xcfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFstLWRlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFwqXFxcXC8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIHN0ci5yZXBsYWNlKC9eXFxuezEsfS8sJycpO1xyXG59XHJcblxyXG4vLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuXHJcbmZ1bmN0aW9uIGlzU3VicXVlcnkoc3RyLCBwYXJlbnRoZXNpc0xldmVsKSB7XHJcblx0cmV0dXJuICBwYXJlbnRoZXNpc0xldmVsIC0gKHN0ci5yZXBsYWNlKC9cXCgvZywnJykubGVuZ3RoIC0gc3RyLnJlcGxhY2UoL1xcKS9nLCcnKS5sZW5ndGggKVxyXG59XHJcblxyXG5mdW5jdGlvbiBzcGxpdF9zcWwoc3RyLCB0YWIpIHtcclxuXHJcblx0cmV0dXJuIHN0ci5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQU5EIC9pZyxcIn46On5cIit0YWIrdGFiK1wiQU5EIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQkVUV0VFTiAvaWcsXCJ+Ojp+XCIrdGFiK1wiQkVUV0VFTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIENBU0UgL2lnLFwifjo6flwiK3RhYitcIkNBU0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFTFNFIC9pZyxcIn46On5cIit0YWIrXCJFTFNFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gRU5EIC9pZyxcIn46On5cIit0YWIrXCJFTkQgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBGUk9NIC9pZyxcIn46On5GUk9NIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gR1JPVVBcXHN7MSx9QlkvaWcsXCJ+Ojp+R1JPVVAgQlkgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBIQVZJTkcgL2lnLFwifjo6fkhBVklORyBcIilcclxuXHRcdFx0XHQvLy5yZXBsYWNlKC8gU0VUIC9pZyxcIiBTRVR+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBJTiAvaWcsXCIgSU4gXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSk9JTiAvaWcsXCJ+Ojp+Sk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIENST1NTfjo6fnsxLH1KT0lOIC9pZyxcIn46On5DUk9TUyBKT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gSU5ORVJ+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fklOTkVSIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBMRUZUfjo6fnsxLH1KT0lOIC9pZyxcIn46On5MRUZUIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBSSUdIVH46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+UklHSFQgSk9JTiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPTiAvaWcsXCJ+Ojp+XCIrdGFiK1wiT04gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPUiAvaWcsXCJ+Ojp+XCIrdGFiK3RhYitcIk9SIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gT1JERVJcXHN7MSx9QlkvaWcsXCJ+Ojp+T1JERVIgQlkgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPVkVSIC9pZyxcIn46On5cIit0YWIrXCJPVkVSIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvXFwoXFxzezAsfVNFTEVDVCAvaWcsXCJ+Ojp+KFNFTEVDVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwpXFxzezAsfVNFTEVDVCAvaWcsXCIpfjo6flNFTEVDVCBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBUSEVOIC9pZyxcIiBUSEVOfjo6flwiK3RhYitcIlwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gVU5JT04gL2lnLFwifjo6flVOSU9Ofjo6flwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gVVNJTkcgL2lnLFwifjo6flVTSU5HIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0hFTiAvaWcsXCJ+Ojp+XCIrdGFiK1wiV0hFTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFdIRVJFIC9pZyxcIn46On5XSEVSRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFdJVEggL2lnLFwifjo6fldJVEggXCIpXHJcblxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoL1xcLFxcc3swLH1cXCgvaWcsXCIsfjo6figgXCIpXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvXFwsL2lnLFwiLH46On5cIit0YWIrdGFiK1wiXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQUxMIC9pZyxcIiBBTEwgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBUyAvaWcsXCIgQVMgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBU0MgL2lnLFwiIEFTQyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIERFU0MgL2lnLFwiIERFU0MgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBESVNUSU5DVCAvaWcsXCIgRElTVElOQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFWElTVFMgL2lnLFwiIEVYSVNUUyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE5PVCAvaWcsXCIgTk9UIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTlVMTCAvaWcsXCIgTlVMTCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIExJS0UgL2lnLFwiIExJS0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcc3swLH1TRUxFQ1QgL2lnLFwiU0VMRUNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHN7MCx9VVBEQVRFIC9pZyxcIlVQREFURSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFNFVCAvaWcsXCIgU0VUIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvfjo6fnsxLH0vZyxcIn46On5cIilcclxuXHRcdFx0XHQuc3BsaXQoJ346On4nKTtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuc3FsID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBhcl9ieV9xdW90ZSA9IHRleHQucmVwbGFjZSgvXFxzezEsfS9nLFwiIFwiKVxyXG5cdFx0XHRcdFx0XHRcdC5yZXBsYWNlKC9cXCcvaWcsXCJ+Ojp+XFwnXCIpXHJcblx0XHRcdFx0XHRcdFx0LnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhcl9ieV9xdW90ZS5sZW5ndGgsXHJcblx0XHRhciA9IFtdLFxyXG5cdFx0ZGVlcCA9IDAsXHJcblx0XHR0YWIgPSB0aGlzLnN0ZXAsLy8rdGhpcy5zdGVwLFxyXG5cdFx0aW5Db21tZW50ID0gdHJ1ZSxcclxuXHRcdGluUXVvdGUgPSBmYWxzZSxcclxuXHRcdHBhcmVudGhlc2lzTGV2ZWwgPSAwLFxyXG5cdFx0c3RyID0gJycsXHJcblx0XHRpeCA9IDAsXHJcblx0XHRzaGlmdCA9IHN0ZXAgPyBjcmVhdGVTaGlmdEFycihzdGVwKSA6IHRoaXMuc2hpZnQ7O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblx0XHRcdGlmKGl4JTIpIHtcclxuXHRcdFx0XHRhciA9IGFyLmNvbmNhdChhcl9ieV9xdW90ZVtpeF0pO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGFyID0gYXIuY29uY2F0KHNwbGl0X3NxbChhcl9ieV9xdW90ZVtpeF0sIHRhYikgKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGxlbiA9IGFyLmxlbmd0aDtcclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblxyXG5cdFx0XHRwYXJlbnRoZXNpc0xldmVsID0gaXNTdWJxdWVyeShhcltpeF0sIHBhcmVudGhlc2lzTGV2ZWwpO1xyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFxzezAsfVNFTEVDVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRhcltpeF0gPSBhcltpeF0ucmVwbGFjZSgvXFwsL2csXCIsXFxuXCIrdGFiK3RhYitcIlwiKVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXHN7MCx9U0VUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGFyW2l4XSA9IGFyW2l4XS5yZXBsYWNlKC9cXCwvZyxcIixcXG5cIit0YWIrdGFiK1wiXCIpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcKFxcc3swLH1TRUxFQ1RcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0ZGVlcCsrO1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHRpZiggL1xcJy8uZXhlYyhhcltpeF0pICkgIHtcclxuXHRcdFx0XHRpZihwYXJlbnRoZXNpc0xldmVsPDEgJiYgZGVlcCkge1xyXG5cdFx0XHRcdFx0ZGVlcC0tO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRzdHIgKz0gYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2UgIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHRcdGlmKHBhcmVudGhlc2lzTGV2ZWw8MSAmJiBkZWVwKSB7XHJcblx0XHRcdFx0XHRkZWVwLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRcdHZhciBqdW5rID0gMDtcclxuXHRcdH1cclxuXHJcblx0XHRzdHIgPSBzdHIucmVwbGFjZSgvXlxcbnsxLH0vLCcnKS5yZXBsYWNlKC9cXG57MSx9L2csXCJcXG5cIik7XHJcblx0XHRyZXR1cm4gc3RyO1xyXG59XHJcblxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUueG1sbWluID0gZnVuY3Rpb24odGV4dCwgcHJlc2VydmVDb21tZW50cykge1xyXG5cclxuXHR2YXIgc3RyID0gcHJlc2VydmVDb21tZW50cyA/IHRleHRcclxuXHRcdFx0XHRcdFx0XHQgICA6IHRleHQucmVwbGFjZSgvXFw8IVsgXFxyXFxuXFx0XSooLS0oW15cXC1dfFtcXHJcXG5dfC1bXlxcLV0pKi0tWyBcXHJcXG5cXHRdKilcXD4vZyxcIlwiKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQgLnJlcGxhY2UoL1sgXFxyXFxuXFx0XXsxLH14bWxucy9nLCAnIHhtbG5zJyk7XHJcblx0cmV0dXJuICBzdHIucmVwbGFjZSgvPlxcc3swLH08L2csXCI+PFwiKTtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuanNvbm1pbiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuXHJcblx0aWYgKHR5cGVvZiBKU09OID09PSAndW5kZWZpbmVkJyApIHJldHVybiB0ZXh0O1xyXG5cclxuXHRyZXR1cm4gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZSh0ZXh0KSwgbnVsbCwgMCk7XHJcblxyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5jc3NtaW4gPSBmdW5jdGlvbih0ZXh0LCBwcmVzZXJ2ZUNvbW1lbnRzKSB7XHJcblxyXG5cdHZhciBzdHIgPSBwcmVzZXJ2ZUNvbW1lbnRzID8gdGV4dFxyXG5cdFx0XHRcdFx0XHRcdCAgIDogdGV4dC5yZXBsYWNlKC9cXC9cXCooW14qXXxbXFxyXFxuXXwoXFwqKyhbXiovXXxbXFxyXFxuXSkpKSpcXCorXFwvL2csXCJcIikgO1xyXG5cclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3sxLH0vZywnICcpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xce1xcc3sxLH0vZyxcIntcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFx9XFxzezEsfS9nLFwifVwiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXDtcXHN7MSx9L2csXCI7XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcL1xcKlxcc3sxLH0vZyxcIi8qXCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcKlxcL1xcc3sxLH0vZyxcIiovXCIpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5zcWxtaW4gPSBmdW5jdGlvbih0ZXh0KSB7XHJcblx0cmV0dXJuIHRleHQucmVwbGFjZSgvXFxzezEsfS9nLFwiIFwiKS5yZXBsYWNlKC9cXHN7MSx9XFwoLyxcIihcIikucmVwbGFjZSgvXFxzezEsfVxcKS8sXCIpXCIpO1xyXG59XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IG5ldyB2a2JlYXV0aWZ5KCk7XHJcbiIsImV4cG9ydCBjb25zdCB1cGxvYWRBcmVhSFRNTCA9IFxuICBgPGRpdiBpZD1cImRvY3VtZW50LXVwbG9hZC1jb250YWluZXJcIj5cblxuICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9hcmVhXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9tZXNzYWdlXCI+VXBsb2FkIEZpbGVzPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2IGlkPVwidXBsb2FkaW5nX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJ1bnBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5VbnBhaXJlZCBEb2N1bWVudHM8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZmlsZXNfY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwibWVpX2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1FSTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfc29ydF9uYW1lXCI+XG4gICAgICAgICAgICAgIDxkaXY+TmFtZTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic29ydF9uYW1lIGFycm93X2J0blwiPiYjeDIyQzA7PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2xpc3RcIiBpZD1cIm1laV9saXN0XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ1bnBhaXJlZF9pdGVtX2NvbnRhaW5lclwiIHN0eWxlPVwid2lkdGg6IDEwMCU7IGJhY2tncm91bmQ6ICNEQUVBRjE7IGJvcmRlci1yYWRpdXM6IDVweDtcIj5cbiAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJ1bnBhaXJlZF9pdGVtX2xhYmVsXCI+XG4gICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgY2xhc3M9XCJ1bnBhaXJlZF9pdGVtX3JhZGlvXCIgbmFtZT1cIm1laV9yYWRpb19ncm91cFwiIHZhbHVlPVwiY3JlYXRlX21laVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cIm1hcmdpbi10b3A6IGF1dG87bWFyZ2luLWxlZnQ6IDNweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICBDcmVhdGUgbmV3IE1FSSBmaWxlXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBpZD1cImltYWdlX2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPkltYWdlczwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfc29ydF9uYW1lXCI+XG4gICAgICAgICAgICAgIDxkaXY+TmFtZTwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic29ydF9uYW1lIGFycm93X2J0blwiPiYjeDIyQzA7PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2xpc3RcIiBpZD1cImltYWdlX2xpc3RcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZ2VuZXJhdGUtcGFpci1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cIm1ha2VfcGFpclwiPk1ha2UgUGFpcjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5QYWlyZWQgRm9saW9zPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX3NvcnRfbmFtZVwiPlxuICAgICAgICAgIDxkaXY+TmFtZTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJzb3J0X25hbWUgYXJyb3dfYnRuXCI+JiN4MjJDMDs8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJmb2xpb19saXN0XCIgaWQ9XCJwYWlyZWRfbGlzdFwiPjwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRfYnV0dG9uX2NvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25fYnV0dG9uXCIgaWQ9XCJ1cGxvYWRfYnV0dG9uXCI+XG4gICAgICAgICAgICBVcGxvYWRcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfc3Bpbm5lclwiPuKGuzwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS1cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwibWFudXNjcmlwdHNfY29udGFpbmVyXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1hbnVzY3JpcHRzPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZvbGlvX2xpc3RcIiBpZD1cIm1hbnVzY3JpcHRfbGlzdFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICAtLT5cblxuICAgIDwvZGl2PlxuICA8L2Rpdj5gO1xuXG5leHBvcnQgY29uc3QgbmV3Rm9sZGVySFRNTCA9IGBcbiAgICA8ZGl2IGlkPVwicmVuYW1lX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImRhc2hib2FyZF9pbnB1dF9jb250YWluZXJcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBpZD1cInJlbmFtZV9idXR0b25zX2NvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY2FuY2VsX2Rhc2hib2FyZFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY29uZmlybV9kYXNoYm9hcmRcIj5DcmVhdGU8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICBgO1xuXG5leHBvcnQgY29uc3QgcmVuYW1lSFRNTCA9IGBcbiAgICA8ZGl2IGlkPVwicmVuYW1lX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImRhc2hib2FyZF9pbnB1dF9jb250YWluZXJcIj5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiBpZD1cInJlbmFtZV9idXR0b25zX2NvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY2FuY2VsX2Rhc2hib2FyZFwiPkNhbmNlbDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwiY29uZmlybV9kYXNoYm9hcmRcIj5Db25maXJtPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgYDsiLCIvKiogQG1vZHVsZSBXYXJuaW5ncyAqL1xuXG4vKipcbiAqIFdhcm4gd2hlbiBncm91cGVkIG5ldW1lIGNvbXBvbmVudHMgZm9ybSBhbiB1bnJlY29nbml6ZWQgbmV1bWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cGluZ05vdFJlY29nbml6ZWQgKCk6IHZvaWQge1xuICBpZiAoISh3aW5kb3cuY29uZmlybSgnTmVvbiBkb2VzIG5vdCByZWNvZ25pemUgdGhpcyBuZXVtZSBncm91cGluZy4gV291bGQgeW91IGxpa2UgdG8gY3JlYXRlIGEgY29tcG91bmQgbmV1bWU/JykpKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbGljaygpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHNlbGVjdEFsbCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBnZXRTVkdSZWxDb29yZHMgfSBmcm9tICcuLi91dGlscy9Db29yZGluYXRlcyc7XG5cbi8qKiBIYW5kbGUgc3BsaXR0aW5nIGEgc3RhZmYgaW50byB0d28gc3RhdmVzIHRocm91Z2ggVmVyb3Zpby4gKi9cbmV4cG9ydCBjbGFzcyBTcGxpdFN0YWZmSGFuZGxlciB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcmVhZG9ubHkgc3RhZmY6IFNWR0dFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgdGhhdCB3aWxsIGJlIG1vZGlmaWVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc3RhZmY6IFNWR0dFbGVtZW50KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc3RhZmYgPSBzdGFmZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJzdCBwYXJ0IG9mIHRoZSBzcGxpdCBhY3Rpb24uXG4gICAqL1xuICBzdGFydFNwbGl0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG4gICAgLy8gSGFuZGxlIGtleXByZXNzZXNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcblxuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xpY2sgV2hlcmUgdG8gU3BsaXQnKTtcbiAgfVxuXG4gIHNwbGl0RGlzYWJsZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqIEhhbmRsZSBpbnB1dCB0byBzcGxpdCBhIHN0YWZmLiAqL1xuICBoYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICAvLyBGaW5kIHN0YWZmIHBvaW50IGNvcnJlc3BvbmRzIHRvIGlmIG9uZSBleGlzdHNcbiAgICAvLyBUT0RPXG4gICAgY29uc3QgaWQgPSB0aGlzLnN0YWZmLmlkO1xuICAgIGNvbnN0IGN1cnNvciA9IGdldFNWR1JlbENvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU3BsaXRBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICB4OiBjdXJzb3IueFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTcGxpdCBhY3Rpb24gc3VjY2Vzc2Z1bCcsICdzdWNjZXNzJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLnN0YWZmJyk7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgc2VsZWN0QWxsKFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpZH1gKV0sIHRoaXMubmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdHMgc3BsaXQgb24gRXNjYXBlIHByZXNzLCBkaXNhYmxlcyBvbiBTaGlmdC4gKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0IHNwbGl0IGlmIHVzZXIgY2xpY2tzIG9mZiBvZiBhY3RpdmUgcGFnZS4gKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5hY3RpdmUtcGFnZScpID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogQ2FsbGVkIHRvIHJlYXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIG5lY2Vzc2FyeS4gKi9cbiAgcmVzZXRIYW5kbGVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcbn1cbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0TmV1bWVBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKiBIYW5kbGUgc3BsaXR0aW5nIGEgbmV1bWUgaW50byB0d28gbmV1bWVzIHRocm91Z2ggVmVyb3Zpby4gKi9cbmV4cG9ydCBjbGFzcyBTcGxpdE5ldW1lSGFuZGxlciB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcmVhZG9ubHkgbmV1bWU6IFNWR0dFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gbmV1bWUgLSBUaGUgbmV1bWUgdGhhdCB3aWxsIGJlIG1vZGlmaWVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgbmV1bWU6IFNWR0dFbGVtZW50KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubmV1bWUgPSBuZXVtZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJzdCBwYXJ0IG9mIHRoZSBzcGxpdCBhY3Rpb24uXG4gICAqL1xuICBzdGFydFNwbGl0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG4gICAgLy8gSGFuZGxlIGtleXByZXNzZXNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcblxuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xpY2sgVGhlIEJlZ2lubmluZyBvZiBUaGUgU2Vjb25kIE5ldW1lJyk7XG4gIH1cblxuICBzcGxpdERpc2FibGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8qKiBIYW5kbGUgaW5wdXQgdG8gc3BsaXQgYSBuZXVtZS4gKi9cbiAgaGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgaWQgPSB0aGlzLm5ldW1lLmlkO1xuXG4gICAgLy8gdW5zZWxlY3QoKTtcbiAgICBcbiAgICBjb25zdCBuYyA9IChldnQudGFyZ2V0IGFzIFNWR0dFbGVtZW50KS5wYXJlbnRFbGVtZW50O1xuICAgIGNvbnN0IG5jSWQgPSBuYy5pZDtcblxuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU3BsaXROZXVtZUFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ3NwbGl0TmV1bWUnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgbmNJZDogbmNJZFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTcGxpdCBhY3Rpb24gc3VjY2Vzc2Z1bCcsICdzdWNjZXNzJyk7XG4gICAgICB9IFxuICAgICAgZWxzZSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTcGxpdCBhY3Rpb24gZmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICAvLyB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAvLyBjb25zdCBkcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLm5ldW1lJyk7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgLy8gc2VsZWN0QWxsKFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGlkKSBhcyBTVkdHRWxlbWVudF0sIHRoaXMubmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIC8vIHRyeSB7XG4gICAgICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5jbGFzc0xpc3QuYWRkKCdpcy1oaWRkZW4nKTtcbiAgICAgIC8vIH0gY2F0Y2ggKGUpIHt9XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXRzIHNwbGl0IG9uIEVzY2FwZSBwcmVzcywgZGlzYWJsZXMgb24gU2hpZnQuICovXG4gIGtleWRvd25MaXN0ZW5lciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdCBzcGxpdCBpZiB1c2VyIGNsaWNrcyBvZmYgb2YgYWN0aXZlIHBhZ2UuICovXG4gIGNsaWNrYXdheUhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIENhbGxlZCB0byByZWFwcGx5IHRoZSBldmVudCBsaXN0ZW5lciBpZiBuZWNlc3NhcnkuICovXG4gIHJlc2V0SGFuZGxlciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLnF1ZXVlTWljcm90YXNrID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBnbG9iYWwucXVldWVNaWNyb3Rhc2soZnVuYyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy9iYXNlZCBvZmYgcnN2cCBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzXG4vL2xpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFXG4vL2h0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvYmxvYi9tYXN0ZXIvbGliL3JzdnAvYXNhcC5qc1xuXG52YXIgTXV0YXRpb24gPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gTXV0YXRpb247XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHZhciBjYWxsZWQgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb24oaGFuZGxlKTtcbiAgdmFyIGVsZW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGVsZW1lbnQuZGF0YSA9IChjYWxsZWQgPSArK2NhbGxlZCAlIDIpO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAvLyB3ZSBjYW4gb25seSBnZXQgaGVyZSBpbiBJRTEwXG4gICAgLy8gd2hpY2ggZG9lc24ndCBoYW5kZWwgcG9zdE1lc3NhZ2Ugd2VsbFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCc7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICB2YXIgY2hhbm5lbCA9IG5ldyBnbG9iYWwuTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJ2RvY3VtZW50JyBpbiBnbG9iYWwgJiYgJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGhhbmRsZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICB2YXIgc2NyaXB0RWwgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaGFuZGxlKCk7XG5cbiAgICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICBzY3JpcHRFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdEVsKTtcbiAgICAgIHNjcmlwdEVsID0gbnVsbDtcbiAgICB9O1xuICAgIGdsb2JhbC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0RWwpO1xuXG4gICAgcmV0dXJuIGhhbmRsZTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uICh0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCh0LCAwKTtcbiAgfTtcbn07IiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgUG91Y2hEQiBmcm9tICdwb3VjaGRiJztcbmltcG9ydCB7IEFsbERvY3MsIERvYywgdXBsb2Fkc0luZm8gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBsb2NhbE1hbmlmZXN0IGZyb20gJy4uLy4uL2Fzc2V0cy9tYW5pZmVzdC5qc29uJztcblxuZXhwb3J0IGNvbnN0IGRiID0gbmV3IFBvdWNoREIoJ05lb24tVXNlci1TdG9yYWdlJyk7XG5cbmZ1bmN0aW9uIGdldEFsbERvY3VtZW50cygpOiBQcm9taXNlPEFsbERvY3M+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkYi5hbGxEb2NzKHsgaW5jbHVkZV9kb2NzOiB0cnVlIH0pXG4gICAgICAudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQpKVxuICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hVcGxvYWRzKCk6IFByb21pc2U8dXBsb2Fkc0luZm8+IHtcbiAgdHJ5IHtcbiAgICBjb25zdCByZXMgPSBhd2FpdCBnZXRBbGxEb2N1bWVudHMoKTtcbiAgICByZXR1cm4gcmVzLnJvd3MubWFwKHJvdyA9PiAoe1xuICAgICAgaWQ6IHJvdy5pZCxcbiAgICAgIG5hbWU6IHJvdy5kb2MgPyByb3cuZG9jLm5hbWUgOiAndW5kZWZpbmVkJyxcbiAgICB9KSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGNvbnNvbGUubG9nKCdDb3VsZG5cXCd0IGZldGNoIHVwbG9hZGVkIGRvY3VtZW50cycsIGVyci5tZXNzYWdlKTtcbiAgICByZXR1cm4gW107XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hbmlmZXN0KGlkOiBzdHJpbmcsIHRpdGxlOiBzdHJpbmcsIG1laTogRmlsZSwgYmc6IEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBtYW5pZmVzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobG9jYWxNYW5pZmVzdCkpO1xuICAgIG1hbmlmZXN0WydAaWQnXSA9IGlkO1xuICAgIG1hbmlmZXN0Wyd0aXRsZSddID0gdGl0bGU7XG4gICAgbWFuaWZlc3RbJ3RpbWVzdGFtcCddID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7XG5cbiAgICBjb25zdCBtZWlQcm9taXNlID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICBjb25zdCBtZWlSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgbWVpUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUobWVpUmVhZGVyLnJlc3VsdCk7XG4gICAgICB9KTtcbiAgICAgIG1laVJlYWRlci5yZWFkQXNEYXRhVVJMKG1laSk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBiZ1Byb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGJnUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIGJnUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoYmdSZWFkZXIucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgYmdSZWFkZXIucmVhZEFzRGF0YVVSTChiZyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtZWlVcmkgPSBhd2FpdCBtZWlQcm9taXNlO1xuICAgIGNvbnN0IGJnVXJpID0gYXdhaXQgYmdQcm9taXNlO1xuXG4gICAgbWFuaWZlc3RbJ2ltYWdlJ10gPSBiZ1VyaTtcbiAgICBtYW5pZmVzdFsnbWVpX2Fubm90YXRpb25zJ10gPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ0Fubm90YXRpb24nLFxuICAgICAgICBib2R5OiBtZWlVcmksXG4gICAgICAgIHRhcmdldDogYmdVcmlcbiAgICAgIH1cbiAgICBdO1xuICAgIHJlc29sdmUobWFuaWZlc3QpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEFkZCBuZXcgZW50cnkgdG8gdGhlIGRhdGFiYXNlXG4gKiBAcGFyYW0gaWQgXG4gKiBAcGFyYW0gdGl0bGUgXG4gKiBAcGFyYW0gY29udGVudCBcbiAqIEBwYXJhbSBzaW5nbGUgaXMgaXQgYSBzaW5nbGUgcGFnZSBvciBhIG1hbnVzY3JpcHRcbiAqIEByZXR1cm5zIFByb21pc2U8Ym9vbGVhbj5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFkZERvY3VtZW50KGlkOiBzdHJpbmcsIG5hbWU6IHN0cmluZywgY29udGVudDogQmxvYiwgc2luZ2xlOiBib29sZWFuKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZGIucHV0KHtcbiAgICAgIF9pZDogaWQsXG4gICAgICBuYW1lOiBuYW1lLFxuICAgICAgdHlwZTogc2luZ2xlID8gJ3BhZ2UnIDogJ21hbnVzY3JpcHQnLFxuICAgICAgX2F0dGFjaG1lbnRzOiB7XG4gICAgICAgIG1hbmlmZXN0OiB7XG4gICAgICAgICAgY29udGVudF90eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicsXG4gICAgICAgICAgZGF0YTogY29udGVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkudGhlbigoKSA9PiB7XG4gICAgICByZXNvbHZlKHRydWUpO1xuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB3aW5kb3cuYWxlcnQoYEVycm9yIFVwbG9hZGluZyBEb2N1bWVudDogJHtlcnIubWVzc2FnZX0sIHRpdGxlOiAke25hbWV9LCBpZDogJHtpZH0uYCk7XG4gICAgICByZWplY3QoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBEZWxldGUgZW50cnkgZnJvbSB0aGUgZGF0YWJhc2VcbiAqIEBwYXJhbSBpZCBcbiAqIEByZXR1cm5zIFByb21pc2U8Ym9vbGVhbj5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZURvY3VtZW50KGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkYi5nZXQoaWQpXG4gICAgICAudGhlbihkb2MgPT4ge1xuICAgICAgICBkYi5yZW1vdmUoZG9jKVxuICAgICAgICAgIC50aGVuKF8gPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgdGhlIGRvYyBmcm9tIHRoZSBkYXRhYmFzZSAoc3VwcG9ydHMgb25seSB0aXRsZSBmb3Igbm93KVxuICogQHBhcmFtIGlkIFxuICogQHBhcmFtIG5ld05hbWUgXG4gKiBAcmV0dXJucyBQcm9taXNlPGJvb2xlYW4+XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVEb2NOYW1lKGlkOiBzdHJpbmcsIG5ld05hbWU6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIC8vIFJldHJpZXZlIGRvYyBmcm9tIGRhdGFiYXNlICh0byBnZXQgX3JldilcbiAgICBkYi5nZXQ8RG9jPihpZCkudGhlbihkb2MgPT4ge1xuXG4gICAgICAvLyBSZXRyaWV2ZSBtYW5pZmVzdCBmcm9tIGRhdGFiYXNlXG4gICAgICBkYi5nZXRBdHRhY2htZW50KGlkLCAnbWFuaWZlc3QnKS50aGVuKChtYW5pZmVzdEJsb2I6IEJsb2IpID0+IHtcbiAgICAgICAgbWFuaWZlc3RCbG9iLnRleHQoKS50aGVuKG1hbmlmZXN0VGV4dCA9PiB7XG4gICAgICAgICAgY29uc3QgbWFuaWZlc3QgPSBKU09OLnBhcnNlKG1hbmlmZXN0VGV4dCk7XG4gICAgXG4gICAgICAgICAgLy8gVXBkYXRlIHRoZSBtYW5pZmVzdFxuICAgICAgICAgIGRvYy5uYW1lID0gbmV3TmFtZTtcbiAgICAgICAgICBtYW5pZmVzdFsndGl0bGUnXSA9IG5ld05hbWU7XG4gICAgXG4gICAgICAgICAgLy8gQ29udmVydCBiYWNrIHRvIGJsb2JcbiAgICAgICAgICBjb25zdCBuZXdNYW5pZmVzdEJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkobWFuaWZlc3QsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicgfSk7XG5cbiAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzWydtYW5pZmVzdCddID0ge1xuICAgICAgICAgICAgY29udGVudF90eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicsXG4gICAgICAgICAgICBkYXRhOiBuZXdNYW5pZmVzdEJsb2JcbiAgICAgICAgICB9O1xuICAgICAgICAgIFxuICAgICAgICAgIGRiLnB1dChkb2MpXG4gICAgICAgICAgICAudGhlbigoKSA9PiByZXNvbHZlKHRydWUpKVxuICAgICAgICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7IC8vIGRiLnB1dFxuICAgICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpOyAvLyBtYW5pZmVzdFRleHRQcm9taXNlXG4gICAgICB9KS5jYXRjaChlcnIgPT4gcmVqZWN0KGVycikpOyAvLyBkYi5nZXRBdHRhY2htZW50XG4gICAgfSkuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTsgLy8gZGIuZ2V0XG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgSUVudHJ5LCBJRmlsZSwgSUZvbGRlciwgRmlsZVN5c3RlbVRvb2xzIH0gZnJvbSAnLi9GaWxlU3lzdGVtJztcbmltcG9ydCB7IGRlbGV0ZURvY3VtZW50LCB1cGRhdGVEb2NOYW1lIH0gZnJvbSAnLi9TdG9yYWdlJztcbmltcG9ydCB7IEZpbGVTeXN0ZW1NYW5hZ2VyIH0gZnJvbSAnLi9GaWxlU3lzdGVtJztcbmltcG9ydCB7IFNoaWZ0U2VsZWN0aW9uTWFuYWdlciwgZGFzaGJvYXJkU3RhdGUgfSBmcm9tICcuL0Rhc2hib2FyZFRvb2xzJztcbmltcG9ydCB7IEluaXRVcGxvYWRBcmVhIH0gZnJvbSAnLi9VcGxvYWRBcmVhJztcbmltcG9ydCAqIGFzIGNvbnRleHRNZW51Q29udGVudCBmcm9tICcuL0NvbnRleHRNZW51Q29udGVudCc7XG5pbXBvcnQgeyBNb2RhbFdpbmRvdywgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuXG5jb25zdCBkb2N1bWVudHNDb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZzLWNvbnRlbnQtY29udGFpbmVyJyk7XG5jb25zdCBiYWNrZ3JvdW5kQXJlYTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbi1zZWN0aW9uLWNvbnRlbnQnKTtcbmNvbnN0IG9wZW5CdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29wZW4tZG9jJyk7XG5jb25zdCByZW1vdmVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlbW92ZS1kb2MnKTtcbmNvbnN0IG5hdlBhdGhDb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI25hdi1wYXRoLWNvbnRhaW5lcicpO1xubGV0IGJhY2tCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZzLWJhY2stYnRuJyk7XG5sZXQgZW1wdHlCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ZzLWVtcHR5LWJ0bicpO1xubGV0IGRlbGV0ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZnMtZGVsZXRlLWJ0bicpO1xuY29uc3QgdXBsb2FkRG9jdW1lbnRzQnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWQtbmV3LWRvYy1idXR0b24nKTtcbmNvbnN0IG5ld0ZvbGRlckJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYWRkLWZvbGRlci1idXR0b24nKTtcblxuY29uc3Qgc2hpZnRTZWxlY3Rpb24gPSBuZXcgU2hpZnRTZWxlY3Rpb25NYW5hZ2VyKCk7XG5jb25zdCBmc20gPSBGaWxlU3lzdGVtTWFuYWdlcigpO1xuY29uc3Qgc3RhdGUgPSBkYXNoYm9hcmRTdGF0ZSgpO1xuXG5jb25zdCBtYWluU2VjdGlvbjogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1zZWN0aW9uLWNvbnRlbnQnKTtcbmNvbnN0IGNvbnRleHRNZW51OiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5yaWdodC1jbGljay1maWxlLW1lbnUnKTtcbmNvbnN0IGNvbnRleHRNZW51Q29udGVudFdyYXBwZXI6IEhUTUxFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRleHQtbWVudS1pdGVtcy13cmFwcGVyJyk7XG5cbmxldCBtZXRhS2V5SXNQcmVzc2VkID0gZmFsc2U7XG5sZXQgc2hpZnRLZXlJc1ByZXNzZWQgPSBmYWxzZTtcbmxldCBjdXJyZW50RHJhZ1RhcmdldCA9IG51bGw7XG5sZXQgcmlnaHRDbGlja2VkID0gZmFsc2U7XG5cbm9wZW5CdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlbkRvY3NIYW5kbGVyKTtcbnJlbW92ZUJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVEb2NzSGFuZGxlcik7XG51cGxvYWREb2N1bWVudHNCdXR0b24/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3BlblVwbG9hZEFyZWFIYW5kbGVyKTtcbm5ld0ZvbGRlckJ1dHRvbj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcGVuTmV3Rm9sZGVyV2luZG93KTtcblxuLy8gU29ydGluZyBhbGdvcml0aG1zXG4vLyBjb25zdCBzb3J0QnlBbHBoYW51bWVyaWNhbCA9IChhOiBJRW50cnksIGI6IElFbnRyeSkgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUoYi5uYW1lKTtcbi8vIGNvbnN0IHNvcnRCeVRpbWUgPSAoYTogSUVudHJ5LCBiOiBJRW50cnkpID0+IHtcbi8vICAgY29uc3QgYVRpbWUgPSBhLm1ldGFkYXRhWydjcmVhdGVkX29uJ107XG4vLyAgIGNvbnN0IGJUaW1lID0gYi5tZXRhZGF0YVsnY3JlYXRlZF9vbiddO1xuLy8gICBpZiAoYVRpbWUgJiYgYlRpbWUpIHJldHVybiBhVGltZSAtIGJUaW1lO1xuLy8gICBlbHNlIGlmIChhVGltZSkgcmV0dXJuIC0xO1xuLy8gfTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZSkgPT4ge1xuICBpZiAoZS5tZXRhS2V5KSBtZXRhS2V5SXNQcmVzc2VkID0gdHJ1ZTtcbiAgaWYgKGUuc2hpZnRLZXkpIHNoaWZ0S2V5SXNQcmVzc2VkID0gdHJ1ZTtcbiAgLy8gTG9zZSBmb2N1cyBvbiBlc2Mga2V5XG4gIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICB1bnNlbGVjdEFsbCgpO1xuICAgIHNoaWZ0U2VsZWN0aW9uLnJlc2V0KCk7XG4gICAgdXBkYXRlQWN0aW9uQmFyQnV0dG9ucygpO1xuICAgIHVwZGF0ZUZTQnV0dG9ucygpO1xuICB9XG59KTtcblxud2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgKGUpID0+IHtcbiAgaWYgKCFlLm1ldGFLZXkpIG1ldGFLZXlJc1ByZXNzZWQgPSBmYWxzZTtcbiAgaWYgKCFlLnNoaWZ0S2V5KSBzaGlmdEtleUlzUHJlc3NlZCA9IGZhbHNlO1xufSk7XG5cbmJhY2tncm91bmRBcmVhPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gIGNvbnN0IHRhcmdldCA9IGUudGFyZ2V0IGFzIEVsZW1lbnQ7XG4gIC8vIExvc2UgZm9jdXMgaWYgY2xpY2sgZXZlbnQgaW4gbWFpbiBzZWN0aW9uIGlzIG5vdCBhIGRvY3VtZW50IHRpbGVcbiAgY29uc3QgaXNEb2N1bWVudCA9IEJvb2xlYW4odGFyZ2V0LmNsb3Nlc3QoJy5kb2N1bWVudC1lbnRyeScpKTtcbiAgaWYgKCFpc0RvY3VtZW50KSB7XG4gICAgdW5zZWxlY3RBbGwoKTtcbiAgICBzaGlmdFNlbGVjdGlvbi5yZXNldCgpO1xuICAgIHVwZGF0ZUFjdGlvbkJhckJ1dHRvbnMoKTtcbiAgICB1cGRhdGVGU0J1dHRvbnMoKTtcbiAgfVxufSk7XG5cbi8qKlxuICogXG4gKiBAcmV0dXJucyBcbiAqL1xuZnVuY3Rpb24gb3BlblVwbG9hZEFyZWFIYW5kbGVyKCkge1xuICBpZiAoIXVwbG9hZERvY3VtZW50c0J1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG4gIEluaXRVcGxvYWRBcmVhKHN0YXRlLmdldFBhcmVudEZvbGRlcigpKTtcbn1cblxuXG4vKipcbiAqIE9wZW5zIGEgbmV3IHRhYiB3aXRoIHRoZSBOZW9uIGVkaXRvciBmb3IgdGhlIGdpdmVuIGlkXG4gKiBcbiAqIEBwYXJhbSBpZCBrZXkgb2YgZmlsZSBpbiBiYmIgb3IgbWFuaWZlc3QgdXJsXG4gKiBAcGFyYW0gaXNTYW1wbGUgYm9vbGVhbiB0byBkZWNpZGUgd2hlcmUgdG8gZmV0Y2ggZmlsZVxuICovXG5mdW5jdGlvbiBvcGVuRWRpdG9yVGFiKGlkOiBzdHJpbmcsIGlzU2FtcGxlOiBib29sZWFuKSB7XG4gIGNvbnN0IHBhcmFtcyA9IChpc1NhbXBsZSlcbiAgICA/IHsgbWFuaWZlc3Q6IGlkIH1cbiAgICA6IHsgc3RvcmFnZTogaWQgfTtcbiAgY29uc3QgcXVlcnkgPSBtYWtlUXVlcnkocGFyYW1zKTtcbiAgd2luZG93Lm9wZW4oYC4vZWRpdG9yLmh0bWw/JHtxdWVyeX1gLCAnX2JsYW5rJyk7XG59XG5cblxuLyoqXG4gKiBPcGVucyBlZGl0b3IgdGFiIGdpdmVuIGEgZG9jdW1lbnQgdGlsZSBlbGVtZW50XG4gKiBcbiAqIEBwYXJhbSBlbnRyeSBcbiAqL1xuZnVuY3Rpb24gb3BlbkZpbGUoZW50cnk6IElGaWxlKSB7XG4gIGNvbnN0IGRvY3VtZW50VHlwZSA9IGVudHJ5Lm1ldGFkYXRhWydkb2N1bWVudCddO1xuICBpZiAodHlwZW9mIGRvY3VtZW50VHlwZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgaXNTYW1wbGUgPSBkb2N1bWVudFR5cGUgPT09ICdzYW1wbGUnO1xuICAgIG9wZW5FZGl0b3JUYWIoZW50cnkuaWQsIGlzU2FtcGxlKTtcbiAgfVxufVxuXG5cbi8qKlxuICogXG4gKiBAcGFyYW0gb2JqIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIG1ha2VRdWVyeShvYmopOiBzdHJpbmcge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoa2V5ID0+IHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2tleV0pO1xuICB9KS5qb2luKCcmJyk7XG59XG5cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSBpbmRleCBcbiAqL1xuZnVuY3Rpb24gc2VsZWN0KGluZGV4OiBudW1iZXIpIHtcbiAgY29uc3QgZW50cnkgPSBzdGF0ZS5nZXRFbnRyaWVzKCkuYXQoaW5kZXgpO1xuICBzdGF0ZS5zZXRTZWxlY3Rpb24oaW5kZXgsIHRydWUpO1xuICBjb25zdCB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZW50cnkuaWQpO1xuICB0aWxlLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG59XG5cblxuLyoqXG4gKiBcbiAqIEBwYXJhbSBpbmRleCBcbiAqL1xuZnVuY3Rpb24gdW5zZWxlY3QoaW5kZXg6IG51bWJlcikge1xuICBjb25zdCBpZCA9IHN0YXRlLmdldEVudHJpZXMoKS5hdChpbmRleCkuaWQ7XG4gIHN0YXRlLnNldFNlbGVjdGlvbihpbmRleCwgZmFsc2UpO1xuICBjb25zdCB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICB0aWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG59XG5cblxuLyoqXG4gKiBcbiAqL1xuZnVuY3Rpb24gdW5zZWxlY3RBbGwoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvY3VtZW50LWVudHJ5LnNlbGVjdGVkJykpXG4gICAgLmZvckVhY2goKHRpbGUpID0+IHRpbGUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XG4gIHN0YXRlLnJlc2V0U2VsZWN0aW9uKCk7XG59XG5cbi8qKiBcbiAqIENyZWF0ZXMgYSBmb2xkZXIgb3IgZmlsZSB0aWxlIGVsZW1lbnQgZ2l2ZW4gYW4gZW50cnlcbiAqIEBwYXJhbSBlbnRyeSBJRW50cnlcbiAqIEByZXR1cm5zIEhUTUxEaXZFbGVtZW50IHRpbGUgZWxlbWVudFxuICovXG5mdW5jdGlvbiBjcmVhdGVUaWxlKGVudHJ5OiBJRW50cnkpIHtcbiAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdkb2N1bWVudC1lbnRyeScpO1xuICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpOyAvLyBtYWtlIGZpbGUgb3IgZm9sZGVyIGRyYWdnYWJsZVxuXG4gIGNvbnN0IGljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgaWNvbi5jbGFzc0xpc3QuYWRkKCdkb2N1bWVudC1pY29uJyk7XG4gIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmFtZS5pbm5lclRleHQgPSBlbnRyeS5uYW1lO1xuXG4gIHN3aXRjaCAoZW50cnkudHlwZSkge1xuICAgIGNhc2UgJ2ZvbGRlcic6XG4gICAgICAvLyBzZXQgdHlwZSBhdHRyaWIgYW5kIGlkXG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9sZGVyLWVudHJ5Jyk7XG4gICAgICBjb250YWluZXIuc2V0QXR0cmlidXRlKCdpZCcsIGVudHJ5LmlkKTtcbiAgICAgIC8vIHNldCBpY29uXG4gICAgICBpY29uLnNyYyA9ICcuL05lb24tZ2gvYXNzZXRzL2ltZy9mb2xkZXItaWNvbi5zdmcnO1xuICAgICAgLy8gc2V0IGRyb3AgdGFyZ2V0IGF0dHJpYlxuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZHJvcC1pZCcsIGVudHJ5LmlkKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdkcm9wLXRhcmdldCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAndHJhc2gnOlxuICAgICAgLy8gc2V0IHR5cGUgYXR0cmliIGFuZCBpZFxuICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2ZvbGRlci1lbnRyeScpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCBlbnRyeS5pZCk7XG4gICAgICAvLyBzZXQgaWNvblxuICAgICAgaWNvbi5zcmMgPSAnLi9OZW9uLWdoL2Fzc2V0cy9pbWcvdHJhc2gtaWNvbi5zdmcnO1xuICAgICAgLy8gc2V0IGRyb3AgdGFyZ2V0IGF0dHJpYlxuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnZHJvcC1pZCcsIGVudHJ5LmlkKTtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCdkcm9wLXRhcmdldCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZmlsZSc6XG4gICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZmlsZS1lbnRyeScpO1xuICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaWQnLCAoZW50cnkgYXMgSUZpbGUpLmlkKTtcblxuICAgICAgLy8gZGV0ZXJtaW5lIHdoaWNoIGljb24gYW5kIGNsYXNzIHRvIGFkZCBkZXBlbmRpbmcgb24gZXhpc3RpbmcgbWV0YWRhdGFcbiAgICAgIGlmIChlbnRyeS5tZXRhZGF0YVsndHlwZSddID09PSAnbWFudXNjcmlwdCcpIHtcbiAgICAgICAgLy8gc2V0IHR5cGUgYXR0cmliIGFuZCBpZFxuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnbWFudXNjcmlwdC1lbnRyeScpO1xuICAgICAgICAvLyBzZXQgaWNvblxuICAgICAgICBpY29uLnNyYyA9ICcuL05lb24tZ2gvYXNzZXRzL2ltZy9tYW51c2NyaXB0LWljb24uc3ZnJztcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKGVudHJ5Lm1ldGFkYXRhWyd0eXBlJ10gPT09ICdmb2xpbycpIHtcbiAgICAgICAgLy8gc2V0IHR5cGUgYXR0cmliIGFuZCBpZFxuICAgICAgICBjb250YWluZXIuY2xhc3NMaXN0LmFkZCgnZm9saW8tZW50cnknKTtcbiAgICAgICAgLy8gc2V0IGljb25cbiAgICAgICAgaWNvbi5zcmMgPSAnLi9OZW9uLWdoL2Fzc2V0cy9pbWcvZm9saW8taWNvbi5zdmcnO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIHNldCBpY29uIGZvciBubyB0eXBlXG4gICAgICAgIGljb24uc3JjID0gJy4vTmVvbi1naC9hc3NldHMvaW1nL2ZvbGlvLWljb24uc3ZnJztcbiAgICAgIH1cblxuICAgICAgYnJlYWs7XG4gIH1cblxuXG4gIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uKTtcbiAgY29udGFpbmVyLmFwcGVuZENoaWxkKG5hbWUpO1xuXG4gIHJldHVybiBjb250YWluZXI7XG59XG5cbi8qKlxuICogQWRkcyBkYmxjbGljayBldmVudCBsaXN0ZW5lciB0byB0aWxlIGVsZW1lbnQgYW5kIGFkZHMgc2hpZnQgc2VsZWN0aW9uIGJlaGF2aW91clxuICogXG4gKiBAcGFyYW0gaW5kZXggYXMgZGlzcGxheWVkIG9uIGRhc2hib2FyZCB0byB1c2VyXG4gKiBAcGFyYW0gZW50cnkgY29ycmVzcG9uZGluZyBlbnRyeSBpbiBjdXJyZW50IGZvbGRlclxuICogQHBhcmFtIHRpbGUgSFRNTERpdkVsZW1lbnRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gYWRkVGlsZUV2ZW50TGlzdGVuZXIoaW5kZXg6IG51bWJlciwgZW50cnk6IElFbnRyeSwgdGlsZTogSFRNTERpdkVsZW1lbnQpIHtcbiAgLy8gZG91YmxlIGNsaWNrIGV2ZW50IGltbWVkaWF0ZWx5IG9wZW5zIGRvY3VtZW50XG4gIGlmIChlbnRyeS50eXBlID09PSAnZm9sZGVyJykge1xuICAgIGFzeW5jIGZ1bmN0aW9uIGVudGVyRm9sZGVyKCkge1xuICAgICAgcmV0dXJuIGF3YWl0IHVwZGF0ZURhc2hib2FyZChbLi4uc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLCBlbnRyeSBhcyBJRm9sZGVyXSk7XG4gICAgfVxuICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBlbnRlckZvbGRlciwgZmFsc2UpO1xuICB9XG4gIGVsc2Uge1xuICAgIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBvcGVuRG9jc0hhbmRsZXIsIGZhbHNlKTtcbiAgfVxuICBhZGRTaGlmdFNlbGVjdGlvbkxpc3RlbmVyKHRpbGUsIGluZGV4KTtcbiAgYWRkU3BlY2lmaWNDb250ZXh0TWVudUxpc3RlbmVycyh0aWxlLCBpbmRleCk7XG59XG5cbi8qKlxuICogQWRkIHNoaWZ0IHNlbGVjdGlvbiBiZWhhdmlvdXIgdG8gaHRtbCB0aWxlIGVsZW1lbnRcbiAqIFxuICogV2hlbiBubyBrZXlzIGFyZSBwcmVzc2VkOiBlcmFzZSBhbnkgcHJldmlvdXMgc2VsZWN0aW9ucyBhbmQgc2VsZWN0IG9ubHkgY3VycmVudCB0aWxlXG4gKiBXaGVuIG1ldGEga2V5IGlzIHByZXNzZWQ6IGFkZCBjdXJyZW50IHRpbGUgdG8gc2VsZWN0aW9uIGlmIG5vdCBhbHJlYWR5IHNlbGVjdGVkLCBlbHNlIHJlbW92ZSBmcm9tXG4gKiBzZWxlY3Rpb24uIFdoZW4gc2hpZnQga2V5IGlzIHByZXNzZWQ6IHNlbGVjdCBhbGwgdGlsZXMgYmV0d2VlbiBjdXJyZW50IHRpbGUgYW5kIHByZXZpb3VzIHRpbGVcbiAqIFxuICogV2hlbiB0aGVyZSBpcyBhIHByZXZpb3VzIHNlbGVjdGlvbiwgdGhlIHN0YXJ0IG9mIHRoZSBzaGlmdCBzZWxlY3Rpb24gaXMgdGhlIGxhc3Qgc2VsZWN0ZWQgdGlsZS4gXG4gKiBTaGlmdCBjbGlja2luZyBhZnRlciB3aWxsIGFkZCB0aGUgc2hpZnQgc2VsZWN0aW9uIHRvIHRoZSBwcmV2aW91cyBzZWxlY3Rpb24uXG4gKiBcbiAqIEBwYXJhbSB0aWxlIFxuICogQHBhcmFtIGluZGV4IFxuICovXG5mdW5jdGlvbiBhZGRTaGlmdFNlbGVjdGlvbkxpc3RlbmVyKHRpbGU6IEhUTUxEaXZFbGVtZW50LCBpbmRleDogbnVtYmVyKSB7XG4gIHRpbGUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbihfZSkge1xuICAgIHNoaWZ0U2VsZWN0aW9uSGFuZGxlcihpbmRleCk7XG4gIH0sIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gc2hpZnRTZWxlY3Rpb25IYW5kbGVyKGluZGV4KSB7XG4gIGlmICghbWV0YUtleUlzUHJlc3NlZCAmJiAhc2hpZnRLZXlJc1ByZXNzZWQpIHtcbiAgICB1bnNlbGVjdEFsbCgpO1xuICAgIHNlbGVjdChpbmRleCk7XG4gICAgc2hpZnRTZWxlY3Rpb24uc2V0U3RhcnQoaW5kZXgpO1xuICB9XG4gIGVsc2UgaWYgKG1ldGFLZXlJc1ByZXNzZWQpIHtcbiAgICBpZiAoc3RhdGUuZ2V0U2VsZWN0aW9uKClbaW5kZXhdKSB7XG4gICAgICB1bnNlbGVjdChpbmRleCk7XG4gICAgICBzaGlmdFNlbGVjdGlvbi5zZXRTdGFydChzdGF0ZS5nZXRTZWxlY3Rpb24oKS5sYXN0SW5kZXhPZih0cnVlKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc2VsZWN0KGluZGV4KTtcbiAgICAgIHNoaWZ0U2VsZWN0aW9uLnNldFN0YXJ0KGluZGV4KTsgXG4gICAgfVxuICB9XG4gIGVsc2UgaWYgKHNoaWZ0S2V5SXNQcmVzc2VkKSB7XG4gICAgc2hpZnRTZWxlY3Rpb24uZ2V0UHJldlNlbGVjdGlvbigpLmZvckVhY2goKGlkeCkgPT4ge1xuICAgICAgdW5zZWxlY3QoaWR4KTtcbiAgICB9KTtcbiAgICBzaGlmdFNlbGVjdGlvbi5zZXRFbmQoaW5kZXgpO1xuICAgIHNoaWZ0U2VsZWN0aW9uLmdldFNlbGVjdGlvbihzdGF0ZS5nZXRTZWxlY3Rpb24oKSkuZm9yRWFjaCgoaWR4KSA9PiB7XG4gICAgICBzZWxlY3QoaWR4KTtcbiAgICB9KTtcbiAgfVxuICB1cGRhdGVBY3Rpb25CYXJCdXR0b25zKCk7XG4gIHVwZGF0ZUZTQnV0dG9ucygpO1xufVxuLyoqXG4gKiBPcGVucyBjdXJyZW50IHNlbGVjdGlvbiBvZiBkb2N1bWVudHMgb24gZGFzaGJvYXJkLlxuICogXG4gKiBJZiBhIGZvbGRlciBpcyBzZWxlY3RlZCwgb3BlbnMgZm9sZGVyLlxuICogSWYgYSBmaWxlKHMpIGlzIHNlbGVjdGVkLCBvcGVucyBmaWxlKHMpLlxuICogSWYgYSBmb2xkZXIgYW5kIGZpbGUocykgYXJlIHNlbGVjdGVkLCBvcGVucyBmaWxlKHMpLlxuICovXG5mdW5jdGlvbiBvcGVuRG9jc0hhbmRsZXIoKSB7XG4gIGlmICghb3BlbkJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG5cbiAgLy8gT3BlbiBmb2xkZXIgaWYgb25seSBvbmUgZm9sZGVyIGlzIHNlbGVjdGVkXG4gIGlmIChzdGF0ZS5nZXRTZWxlY3RlZEZvbGRlcnMoKS5sZW5ndGggPT09IDEgfHwgc3RhdGUuZ2V0U2VsZWN0ZWRUcmFzaCgpLmxlbmd0aCA9PT0gMSkge1xuICAgIGNvbnN0IG5ld1BhdGggPSBbLi4uc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLCBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKVswXSBhcyBJRm9sZGVyXTtcbiAgICB1cGRhdGVEYXNoYm9hcmQobmV3UGF0aCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gT3BlbiBhbGwgZmlsZXMsIGlnbm9yaW5nIGlmIGZvbGRlcnMgYXJlIHNlbGVjdGVkXG4gIHN0YXRlLmdldFNlbGVjdGVkRmlsZXMoKS5mb3JFYWNoKChlbnRyeTogSUVudHJ5KSA9PiBvcGVuRmlsZShlbnRyeSBhcyBJRmlsZSkpO1xuICBzaGlmdFNlbGVjdGlvbi5yZXNldCgpO1xuICB1bnNlbGVjdEFsbCgpO1xuICB1cGRhdGVBY3Rpb25CYXJCdXR0b25zKCk7XG59XG5cbi8qKlxuICogTW92ZSBjdXJyZW50IHNlbGVjdGlvbiBvZiBkb2N1bWVudHMgb24gZGFzaGJvYXJkIHRvIHRyYXNoLiBcbiAqIFxuICovXG5mdW5jdGlvbiByZW1vdmVEb2NzSGFuZGxlcigpIHtcbiAgaWYgKCFyZW1vdmVCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuXG4gIGNvbnN0IHNlbGVjdGVkRW50cmllcyA9IHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpO1xuICBjb25zdCBwYXJlbnRGb2xkZXIgPSBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKTtcbiAgY29uc3QgdHJhc2hGb2xkZXIgPSBzdGF0ZS5nZXRUcmFzaEZvbGRlcigpO1xuXG4gIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpO1xuICBcbiAgZm9yIChsZXQgZW50cnkgb2Ygc2VsZWN0ZWRFbnRyaWVzKSB7XG4gICAgZW50cnkgPSBGaWxlU3lzdGVtVG9vbHMuYWRkTWV0YWRhdGEoZW50cnksIHsgcmVtb3ZlZF9vbjogZGF0ZXRpbWUsIHJlY292ZXJfZm9sZGVyOiBzdGF0ZS5nZXRGb2xkZXJQYXRoTmFtZXMoKSB9KTtcbiAgfVxuXG4gIG1vdmVUb0ZvbGRlcihzZWxlY3RlZEVudHJpZXMsIHBhcmVudEZvbGRlciwgdHJhc2hGb2xkZXIpO1xufVxuXG5mdW5jdGlvbiBwdXRCYWNrRG9jc0hhbmRsZXIoKSB7XG4gIGNvbnN0IHNlbGVjdGVkRW50cmllcyA9IHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpO1xuICBjb25zdCBwYXJlbnRGb2xkZXIgPSBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKTtcbiAgXG4gIGZvciAobGV0IGVudHJ5IG9mIHNlbGVjdGVkRW50cmllcykge1xuICAgIGNvbnN0IGZvbGRlclBhdGhOYW1lcyA9IGVudHJ5Lm1ldGFkYXRhWydyZWNvdmVyX2ZvbGRlciddIGFzIHN0cmluZ1tdO1xuICAgIGNvbnN0IHRhcmdldEZvbGRlciA9IHN0YXRlLmdldEZvbGRlclBhdGhCeU5hbWVzKGZvbGRlclBhdGhOYW1lcyk7XG4gICAgaWYgKHRhcmdldEZvbGRlcikge1xuICAgICAgZW50cnkgPSBGaWxlU3lzdGVtVG9vbHMucmVtb3ZlTWV0YWRhdGEoZW50cnksIFsncmVtb3ZlZF9vbicsICdyZWNvdmVyX2ZvbGRlciddKTtcbiAgICAgIGNvbnN0IGRhdGVUaW1lUGF0dGVybiA9IC8gLSBcXGR7MSwyfVxcL1xcZHsxLDJ9XFwvXFxkezR9LCBcXGR7MSwyfTpcXGR7Mn06XFxkezJ9IFtBUE1hcG1dezJ9JC87XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZSBmaWxlbmFtZSBlbmRzIHdpdGggdGhlIGRhdGUgdGltZSBwYXR0ZXJuXG4gICAgICBpZiAoZGF0ZVRpbWVQYXR0ZXJuLnRlc3QoZW50cnkubmFtZSkpIHtcbiAgICAgICAgZW50cnkubmFtZSA9IGVudHJ5Lm5hbWUucmVwbGFjZShkYXRlVGltZVBhdHRlcm4sICcnKTtcbiAgICAgIH1cbiAgICAgIG1vdmVUb0ZvbGRlcihbZW50cnldLCBwYXJlbnRGb2xkZXIsIHRhcmdldEZvbGRlcik7XG4gICAgfSAgICBcbiAgfVxufVxuXG4vKipcbiAqIERlbGV0ZSBhIGZpbGVcbiAqIFxuICogQHBhcmFtIGZpbGUgXG4gKiBAcGFyYW0gcGFyZW50Rm9sZGVyIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZUZpbGVFbnRyeShmaWxlOiBJRmlsZSwgcGFyZW50Rm9sZGVyOiBJRm9sZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZGVsZXRlRG9jdW1lbnQoZmlsZS5pZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgRmlsZVN5c3RlbVRvb2xzLnJlbW92ZUVudHJ5KGZpbGUsIHBhcmVudEZvbGRlcik7XG4gICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKCgpID0+IHJlamVjdChmYWxzZSkpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBEZWxldGUgYSBmb2xkZXIgYW5kIGl0cyBjb250ZW50XG4gKiBcbiAqIEBwYXJhbSBmb2xkZXIgXG4gKiBAcGFyYW0gcGFyZW50Rm9sZGVyIFxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZUZvbGRlckVudHJ5KGZvbGRlcjogSUZvbGRlciwgcGFyZW50Rm9sZGVyOiBJRm9sZGVyKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IGRlbGV0ZVByb21pc2VzID0gZm9sZGVyLmNoaWxkcmVuLm1hcCgoY2hpbGQpID0+IHtcbiAgICAgIGlmIChjaGlsZC50eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUZpbGVFbnRyeShjaGlsZCBhcyBJRmlsZSwgZm9sZGVyKTsgLy8gUGFzcyB0aGUgY3VycmVudCBmb2xkZXIgYXMgdGhlIHBhcmVudFxuICAgICAgfSBlbHNlIGlmIChjaGlsZC50eXBlID09PSAnZm9sZGVyJykge1xuICAgICAgICByZXR1cm4gZGVsZXRlRm9sZGVyRW50cnkoY2hpbGQgYXMgSUZvbGRlciwgZm9sZGVyKTsgLy8gUGFzcyB0aGUgY3VycmVudCBmb2xkZXIgYXMgdGhlIHBhcmVudFxuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShmYWxzZSk7IC8vIFNob3VsZG4ndCBoYXBwZW4sIGJ1dCByZXNvbHZpbmcgZm9yIHNhZmV0eVxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5hbGwoZGVsZXRlUHJvbWlzZXMpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIEZpbGVTeXN0ZW1Ub29scy5yZW1vdmVFbnRyeShmb2xkZXIsIHBhcmVudEZvbGRlcik7IC8vIFVzZSB0aGUgcHJvdmlkZWQgcGFyZW50IGZvbGRlclxuICAgICAgICByZXNvbHZlKHRydWUpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoKSA9PiByZXNvbHZlKGZhbHNlKSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIERlbGV0ZXMgY3VycmVudCBzZWxlY3Rpb24gb2YgZG9jdW1lbnRzIG9uIGRhc2hib2FyZC4gXG4gKiBcbiAqIElmIGEgZm9sZGVyIGlzIHNlbGVjdGVkLCBkZWxldGVzIGZvbGRlci5cbiAqIElmIGEgZmlsZShzKSBpcyBzZWxlY3RlZCwgZGVsZXRlcyBmaWxlKHMpLlxuICogSWYgYSBmb2xkZXIgYW5kIGZpbGUocykgYXJlIHNlbGVjdGVkLCBkZWxldGVzIGFsbC5cbiAqL1xuZnVuY3Rpb24gZGVsZXRlRG9jc0hhbmRsZXIoKSB7XG4gIGNvbnN0IGFsbEVudHJpZXMgPSBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKTtcblxuICAvLyBDcmVhdGUgYSBmb3JtYXR0ZWQgbGlzdCBvZiBmaWxlbmFtZXMgdG8gZGlzcGxheSBpbiBhbGVydCBtZXNzYWdlXG4gIGNvbnN0IGNyZWF0ZUxpc3QgPSAoZW50cnlBcnJheTogSUVudHJ5W10pID0+IGVudHJ5QXJyYXkubWFwKGVudHJ5ID0+IGAtICR7ZW50cnkubmFtZX0gKCR7ZW50cnkudHlwZX0pYCkuam9pbignXFxuJyk7XG4gIFxuICBjb25zdCBhbGVydE1lc3NhZ2UgPSBgQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZTpcXG4ke2NyZWF0ZUxpc3QoYWxsRW50cmllcyl9XFxuVGhpcyBhY3Rpb24gaXMgaXJyZXZlcnNpYmxlLmA7XG5cbiAgY29uc3QgaXNDb25maXJtZWQgPSB3aW5kb3cuY29uZmlybShhbGVydE1lc3NhZ2UpO1xuXG4gIGlmIChpc0NvbmZpcm1lZCkge1xuICAgIGNvbnN0IGRlbGV0ZVByb21pc2VzID0gYWxsRW50cmllcy5tYXAoZW50cnkgPT4ge1xuICAgICAgaWYgKGVudHJ5LnR5cGUgPT09ICdmaWxlJykge1xuICAgICAgICByZXR1cm4gZGVsZXRlRmlsZUVudHJ5KGVudHJ5IGFzIElGaWxlLCBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKSk7XG4gICAgICB9XG4gICAgICBlbHNlIGlmIChlbnRyeS50eXBlID09PSAnZm9sZGVyJykge1xuICAgICAgICByZXR1cm4gZGVsZXRlRm9sZGVyRW50cnkoZW50cnkgYXMgSUZvbGRlciwgc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCkpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgUHJvbWlzZS5hbGwoZGVsZXRlUHJvbWlzZXMpXG4gICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgIHVwZGF0ZURhc2hib2FyZChzdGF0ZS5nZXRGb2xkZXJQYXRoKCkpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCggZXJyID0+IGNvbnNvbGUuZGVidWcoJ2ZhaWxlZCB0byBkZWxldGUgZmlsZXM6ICcsIGVycikpO1xuICB9XG59XG5cblxuZnVuY3Rpb24gZW1wdHlUcmFzaEhhbmRsZXIoKSB7XG4gIGNvbnN0IHRyYXNoRm9sZGVyID0gc3RhdGUuZ2V0VHJhc2hGb2xkZXIoKTtcblxuICBpZiAoIXRyYXNoRm9sZGVyKSB7XG4gICAgY29uc29sZS5lcnJvcignVHJhc2ggZm9sZGVyIG5vdCBmb3VuZC4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBjb25zdCBhbGVydE1lc3NhZ2UgPSAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZSBhbGwgdGhlIGZpbGVzIGluIFRyYXNoIEZvbGRlcj9cXG5UaGlzIGFjdGlvbiBpcyBpcnJldmVyc2libGUuJztcblxuICBjb25zdCBpc0NvbmZpcm1lZCA9IHdpbmRvdy5jb25maXJtKGFsZXJ0TWVzc2FnZSk7XG5cbiAgaWYgKGlzQ29uZmlybWVkKSB7XG5cbiAgICBjb25zdCBkZWxldGVQcm9taXNlcyA9IHRyYXNoRm9sZGVyLmNoaWxkcmVuLm1hcCgoZW50cnkpID0+IHtcbiAgICAgIGlmIChlbnRyeS50eXBlID09PSAnZmlsZScpIHtcbiAgICAgICAgcmV0dXJuIGRlbGV0ZUZpbGVFbnRyeShlbnRyeSBhcyBJRmlsZSwgdHJhc2hGb2xkZXIpO1xuICAgICAgfSBlbHNlIGlmIChlbnRyeS50eXBlID09PSAnZm9sZGVyJykge1xuICAgICAgICByZXR1cm4gZGVsZXRlRm9sZGVyRW50cnkoZW50cnkgYXMgSUZvbGRlciwgdHJhc2hGb2xkZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGZhbHNlKTsgLy8gU2hvdWxkbid0IGhhcHBlbiwgYnV0IHJlc29sdmluZyBmb3Igc2FmZXR5XG4gICAgfSk7XG5cbiAgICBQcm9taXNlLmFsbChkZWxldGVQcm9taXNlcylcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgLy8gQWZ0ZXIgZGVsZXRpbmcgYWxsIGNvbnRlbnQsIHVwZGF0ZSB0aGUgZGFzaGJvYXJkXG4gICAgICAgIHVwZGF0ZURhc2hib2FyZChzdGF0ZS5nZXRGb2xkZXJQYXRoKCkpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiBjb25zb2xlLmRlYnVnKCdmYWlsZWQgdG8gZGVsZXRlIGZpbGVzOiAnLCBlcnIpKTtcbiAgfVxufVxuXG5cbi8qKlxuICogVXBkYXRlcyB0aGUgdmlzaWJpbGl0eSBvZiBhY3Rpb24gYmFyIGJ1dHRvbnMgYmFzZWQgb24gY3VycmVudCBzZWxlY3Rpb25zXG4gKiBcbiAqIE5vdGU6IGJldHRlciBub3QgdG8gY2hhbmdlIHRoZSBvcmRlclxuICovXG5mdW5jdGlvbiB1cGRhdGVBY3Rpb25CYXJCdXR0b25zKCkge1xuICAvLyBpbnNpZGUgLi9TYW1wbGVzwqBvciBzZWxlY3RpbmcgdGhlIHNhbXBsZXMgZm9sZGVyXG4gIGlmIChzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKS5tZXRhZGF0YVsnaW1tdXRhYmxlJ10gfHwgXG4gICAgKHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpWzBdICYmIHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpWzBdLm1ldGFkYXRhWydpbW11dGFibGUnXSkpIHtcbiAgICB1cGxvYWREb2N1bWVudHNCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgbmV3Rm9sZGVyQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHJlbW92ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBpZiAoc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCkubGVuZ3RoKSB7XG4gICAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxuICAvLyBpbnNpZGUgLi9UcmFzaFxuICBlbHNlIGlmIChzdGF0ZS5pc0luVHJhc2goKSkge1xuICAgIHVwbG9hZERvY3VtZW50c0J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBuZXdGb2xkZXJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgcmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIG9wZW5CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH1cbiAgLy8gc2VsZWN0aW5nIHRoZSB0cmFzaCBmb2xkZXJcbiAgZWxzZSBpZiAoc3RhdGUuZ2V0U2VsZWN0ZWRUcmFzaCgpLmxlbmd0aCkge1xuICAgIG9wZW5CdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgcmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHVwbG9hZERvY3VtZW50c0J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBuZXdGb2xkZXJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH0gXG4gIC8vIHNlbGVjdGluZyBlbnRyaWVzXG4gIGVsc2UgaWYgKHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpLmxlbmd0aCkge1xuICAgIG9wZW5CdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgcmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIHVwbG9hZERvY3VtZW50c0J1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBuZXdGb2xkZXJCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH1cbiAgLy8gbm90aGluZyBzZWxlY3RlZCwgbm90IGluIC4vU2FtcGxlcyBvciAuL1RyYXNoXG4gIGVsc2Uge1xuICAgIG9wZW5CdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gICAgcmVtb3ZlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIHVwbG9hZERvY3VtZW50c0J1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBuZXdGb2xkZXJCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBuYXYgcGF0aCB3aXRoIGN1cnJlbnQgZm9sZGVyIHBhdGhcbiAqL1xuZnVuY3Rpb24gdXBkYXRlTmF2UGF0aCgpOiB2b2lkIHtcbiAgbmF2UGF0aENvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICAvLyBjcmVhdGUgbmF2IGVsZW1lbnRzIGFuZCBhZGQgZXZlbnQgbGlzdGVuZXJzXG4gIGNvbnN0IG5hdkVsZW1lbnRzID0gc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLm1hcCgoZm9sZGVyLCBpZHgpID0+IHtcbiAgICBjb25zdCBuYXZTZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmF2U2VjdGlvbi5jbGFzc0xpc3QuYWRkKCduYXYtcGF0aC1zZWN0aW9uJyk7XG4gICAgbmF2U2VjdGlvbi5pbm5lckhUTUwgPSBmb2xkZXIubmFtZTtcblxuICAgIGNvbnN0IHRhcmdldFBhdGggPSBzdGF0ZS5nZXRGb2xkZXJQYXRoKCkuc2xpY2UoMCwgaWR4ICsgMSk7XG4gICAgbmF2U2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IGF3YWl0IHVwZGF0ZURhc2hib2FyZCh0YXJnZXRQYXRoKSk7XG4gICAgLy8gYWRkIGRyb3AgdGFyZ2V0IHRvIG1vdmUgZHJhZ2dlZCBlbGVtZW50IHRvIHRoZSBwcm9zcGVjdGl2ZSBmb2xkZXJzXG4gICAgYWRkRHJvcFRhcmdldExpc3RlbmVycyhuYXZTZWN0aW9uLCBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKSwgdGFyZ2V0UGF0aC5hdCgtMSkpO1xuXG4gICAgcmV0dXJuIG5hdlNlY3Rpb247XG4gIH0pO1xuXG4gIC8vIGFkZCBuYXYgZWxlbWVudHMgdG8gbmF2IHBhdGggY29udGFpbmVyXG4gIG5hdkVsZW1lbnRzLmZvckVhY2goKG5hdkVsZW1lbnQsIGlkeCkgPT4ge1xuICAgIG5hdlBhdGhDb250YWluZXIuYXBwZW5kQ2hpbGQobmF2RWxlbWVudCk7XG4gICAgaWYgKGlkeCAhPT0gbmF2RWxlbWVudHMubGVuZ3RoIC0gMSkge1xuICAgICAgY29uc3Qgc2VwZXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBzZXBlcmF0b3IuY2xhc3NMaXN0LmFkZCgnbmF2LXBhdGgtc2VwZXJhdG9yJyk7XG4gICAgICBzZXBlcmF0b3IuaW5uZXJIVE1MID0gJyAvICc7XG4gICAgICBuYXZQYXRoQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcGVyYXRvcik7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGVzIHRoZSBiYWNrIGJ1dHRvbiB3aXRoIGNsaWNrIGV2ZW50IGxpc3RlbmVyIHRvIGdvIGJhY2sgb25lIGZvbGRlciBpZiBwb3NzaWJsZVxuICovXG5mdW5jdGlvbiB1cGRhdGVCYWNrQnV0dG9uKCkge1xuICAvLyBFcmFzZSBwcmV2aW91cyBldmVudCBsaXN0ZW5lcnNcbiAgY29uc3QgYnV0dG9uQ2xvbmUgPSBiYWNrQnV0dG9uLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgYmFja0J1dHRvbi5wYXJlbnROb2RlLnJlcGxhY2VDaGlsZChidXR0b25DbG9uZSwgYmFja0J1dHRvbik7XG5cbiAgLy8gRGlzYWJsZSBiYWNrIGJ1dHRvbiBpZiBhdCByb290XG4gIGNvbnN0IGlzUm9vdCA9IHN0YXRlLmdldEZvbGRlclBhdGgoKS5sZW5ndGggPT09IDE7XG4gIGlmIChpc1Jvb3QpIHtcbiAgICBidXR0b25DbG9uZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBidXR0b25DbG9uZS5zZXRBdHRyaWJ1dGUoJ2Rpc2FibGVkJywgJ3RydWUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBidXR0b25DbG9uZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBidXR0b25DbG9uZS5yZW1vdmVBdHRyaWJ1dGUoJ2Rpc2FibGVkJyk7XG4gICAgYnV0dG9uQ2xvbmUuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXZpZ2F0ZUJhY2spO1xuICAgIGJ1dHRvbkNsb25lLmFkZEV2ZW50TGlzdGVuZXIoJ29uZHJhZ2VudGVyJywgKCkgPT4gYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJykpO1xuICAgIGJ1dHRvbkNsb25lLmFkZEV2ZW50TGlzdGVuZXIoJ29uZHJhZ2xlYXZlJywgKCkgPT4gYnV0dG9uQ2xvbmUuY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJykpO1xuICAgIGFkZERyb3BUYXJnZXRMaXN0ZW5lcnMoYnV0dG9uQ2xvbmUsIHN0YXRlLmdldFBhcmVudEZvbGRlcigpLCBzdGF0ZS5nZXRGb2xkZXJQYXRoKCkuYXQoLTIpKTtcbiAgfVxuICBiYWNrQnV0dG9uID0gYnV0dG9uQ2xvbmU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUVtcHR5QnV0dG9uKCkge1xuICAvLyBFcmFzZSBwcmV2aW91cyBldmVudCBsaXN0ZW5lcnNcbiAgY29uc3QgYnV0dG9uQ2xvbmUgPSBlbXB0eUJ1dHRvbi5jbG9uZU5vZGUodHJ1ZSkgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gIGVtcHR5QnV0dG9uLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGJ1dHRvbkNsb25lLCBlbXB0eUJ1dHRvbik7XG5cbiAgY29uc3QgcGFyZW50Rm9sZGVyID0gc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCk7XG5cbiAgLy8gRGlzcGxheSBpZiBpbiB0cmFzaFxuICBpZiAocGFyZW50Rm9sZGVyLnR5cGUgPT09ICd0cmFzaCcgfHwgc3RhdGUuaXNJblRyYXNoKCkpIHtcbiAgICBidXR0b25DbG9uZS5zdHlsZS5kaXNwbGF5ID0gJyc7XG5cbiAgICAvLyBBY3RpdmF0ZSBidXR0b24gaWYgaGFzIGNvbnRlbnQgYW5kIG5vdCBzZWxlY3Rpbmcgd2hlbiBmaXJzdCBsZXZlbCBwYXJlbnQgaXMgdHJhc2hcbiAgICBpZiAocGFyZW50Rm9sZGVyLmNoaWxkcmVuLmxlbmd0aCAmJiAhc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCkubGVuZ3RoICYmIHBhcmVudEZvbGRlci50eXBlID09PSAndHJhc2gnKSB7XG4gICAgICBidXR0b25DbG9uZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGJ1dHRvbkNsb25lLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGJ1dHRvbkNsb25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZW1wdHlUcmFzaEhhbmRsZXIpO1xuICAgIH1cbiAgICAvLyBEaXNhYmxlIGJ1dHRvbiBpZiBubyBjb250ZW50XG4gICAgZWxzZSB7XG4gICAgICBidXR0b25DbG9uZS5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgIGJ1dHRvbkNsb25lLnNldEF0dHJpYnV0ZSgnZGlzYWJsZWQnLCAndHJ1ZScpO1xuICAgIH1cbiAgfVxuICBlbHNlIHtcbiAgICBidXR0b25DbG9uZS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICB9XG4gIGVtcHR5QnV0dG9uID0gYnV0dG9uQ2xvbmU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURlbGV0ZUJ1dHRvbigpIHtcbiAgLy8gRXJhc2UgcHJldmlvdXMgZXZlbnQgbGlzdGVuZXJzXG4gIGNvbnN0IGJ1dHRvbkNsb25lID0gZGVsZXRlQnV0dG9uLmNsb25lTm9kZSh0cnVlKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgZGVsZXRlQnV0dG9uLnBhcmVudE5vZGUucmVwbGFjZUNoaWxkKGJ1dHRvbkNsb25lLCBkZWxldGVCdXR0b24pO1xuXG4gIGNvbnN0IHBhcmVudEZvbGRlciA9IHN0YXRlLmdldFBhcmVudEZvbGRlcigpO1xuICAvLyBEaXNwbGF5IGlmIGluIHRyYXNoXG4gIGlmIChwYXJlbnRGb2xkZXIudHlwZSA9PT0gJ3RyYXNoJyB8fCBzdGF0ZS5pc0luVHJhc2goKSkge1xuICAgIGJ1dHRvbkNsb25lLnN0eWxlLmRpc3BsYXkgPSAnJztcblxuICAgIC8vIEFkZCBsaXN0ZW5lciBpZiBzZWxlY3RzIGVudHJpZXNcbiAgICBpZiAoc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCkubGVuZ3RoKSB7XG4gICAgICBidXR0b25DbG9uZS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgIGJ1dHRvbkNsb25lLnJlbW92ZUF0dHJpYnV0ZSgnZGlzYWJsZWQnKTtcbiAgICAgIGJ1dHRvbkNsb25lLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZGVsZXRlRG9jc0hhbmRsZXIpO1xuICAgIH1cbiAgICAvLyBEaXNhYmxlIGlmIG5vdGhpbmcgc2VsZWN0ZWRcbiAgICBlbHNlIHtcbiAgICAgIGJ1dHRvbkNsb25lLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgICAgYnV0dG9uQ2xvbmUuc2V0QXR0cmlidXRlKCdkaXNhYmxlZCcsICd0cnVlJyk7XG4gICAgfVxuICB9XG4gIGVsc2Uge1xuICAgIGJ1dHRvbkNsb25lLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gIH1cbiAgZGVsZXRlQnV0dG9uID0gYnV0dG9uQ2xvbmU7XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUZTQnV0dG9ucygpIHtcbiAgdXBkYXRlQmFja0J1dHRvbigpO1xuICB1cGRhdGVFbXB0eUJ1dHRvbigpO1xuICB1cGRhdGVEZWxldGVCdXR0b24oKTtcbn1cblxuLyoqXG4gKiBIYW5kbGVzIGNsaWNrIGV2ZW50IG9uIGJhY2sgYnV0dG9uIHRvIGdvIGJhY2sgb25lIGZvbGRlciBpZiBwb3NzaWJsZVxuICovXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVOYXZpZ2F0ZUJhY2soKSB7XG4gIGNvbnN0IG5ld1BhdGggPSBzdGF0ZS5nZXRGb2xkZXJQYXRoKCkuc2xpY2UoMCwgLTEpO1xuICBhd2FpdCB1cGRhdGVEYXNoYm9hcmQobmV3UGF0aCk7XG59XG5cbi8qKlxuICogQWRkIG5ldyBGb2xkZXIgdG8gY3VycmVudCBmb2xkZXIgYW5kIHJlZnJlc2ggZGFzaGJvYXJkXG4gKi9cbmZ1bmN0aW9uIGhhbmRsZUFkZEZvbGRlcihmb2xkZXJOYW1lOiBzdHJpbmcpIHtcbiAgLy8gY3JlYXRlIG5ldyBmb2xkZXIgZWxlbWVudFxuICBjb25zdCBuZXdGb2xkZXJUaWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5ld0ZvbGRlclRpbGUuY2xhc3NMaXN0LmFkZCgnZG9jdW1lbnQtZW50cnknKTtcbiAgbmV3Rm9sZGVyVGlsZS5jbGFzc0xpc3QuYWRkKCdmb2xkZXItZW50cnknKTtcbiAgbmV3Rm9sZGVyVGlsZS5zZXRBdHRyaWJ1dGUoJ2lkJywgJ25ldy1mb2xkZXInKTtcblxuICBjb25zdCBuZXdGb2xkZXIgPSBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlRm9sZGVyKGZvbGRlck5hbWUpO1xuICBjb25zdCBzdWNjZWVkZWQgPSBGaWxlU3lzdGVtVG9vbHMuYWRkRW50cnkobmV3Rm9sZGVyLCBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKSk7XG4gIGlmIChzdWNjZWVkZWQpIHtcbiAgICBuZXdGb2xkZXJUaWxlLnNldEF0dHJpYnV0ZSgnaWQnLCBmb2xkZXJOYW1lKTtcbiAgICB1cGRhdGVEYXNoYm9hcmQoKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBuZXdGb2xkZXJUaWxlLnJlbW92ZSgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIFJlbmFtZXMgY3VycmVudCBzZWxlY3Rpb24gb2YgZG9jdW1lbnQgb24gZGFzaGJvYXJkLCB1cGRhdGluZyB0aGUgZGF0YWJhc2UgZm9yIGZpbGVzXG4gKiBcbiAqIEBwYXJhbSBlbnRyeSBJRW50cnkgdG8gcmVuYW1lXG4gKi9cbmZ1bmN0aW9uIHJlbmFtZUVudHJ5KGVudHJ5OiBJRW50cnksIG5ld05hbWU6IHN0cmluZykgeyAgXG4gIGNvbnN0IHN1Y2NlZWRlZCA9IEZpbGVTeXN0ZW1Ub29scy5yZW5hbWVFbnRyeShlbnRyeSwgc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCksIG5ld05hbWUpO1xuICBpZiAoc3VjY2VlZGVkKSB7XG4gICAgLy8gVXBkYXRlIGRhdGFiYXNlIGlmIGVudHJ5IGlzIGEgZmlsZVxuICAgIGlmIChlbnRyeS50eXBlID09PSAnZmlsZScpIHtcbiAgICAgIGNvbnN0IGZpbGUgPSBlbnRyeSBhcyBJRmlsZTtcbiAgICAgIHVwZGF0ZURvY05hbWUoZmlsZS5pZCwgbmV3TmFtZSlcbiAgICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHVwZGF0ZURhc2hib2FyZCgpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB1cGRhdGVEYXNoYm9hcmQoKTtcbiAgICB9XG4gIH1cbn1cblxuXG4vKipcbiAqIEdpdmVuIGFuIGVudHJ5IGlkLCByZXR1cm5zIHRoZSBlbnRyeSBmcm9tIHRoZSBjdXJyZW50IGZvbGRlclxuICogXG4gKiBAcGFyYW0gaWQgXG4gKiBAcmV0dXJucyBJRW50cnlcbiovXG5mdW5jdGlvbiBnZXRFbnRyeUJ5SWQoaWQ6IHN0cmluZyk6IElFbnRyeSB7XG4gIGNvbnN0IHRhcmdldEVudHJ5ID0gc3RhdGUuZ2V0RW50cmllcygpLmZpbmQoZW50cnkgPT4ge1xuICAgIHJldHVybiBlbnRyeS5pZCA9PT0gaWQ7XG4gIH0pO1xuICByZXR1cm4gdGFyZ2V0RW50cnk7XG59XG5cbi8qKlxuICogUmVmbGVjdHMgY2hhbmdlcyBpbiBmaWxlIHN5c3RlbSBpbiBkYXNoYm9hcmQgVUlcbiAqIFxuICogQHBhcmFtIG5ld1BhdGggSWYgcHJvdmlkZWQsIHVzZXMgdGhpcyBwYXRoIHRvIHVwZGF0ZSBkYXNoYm9hcmQuIE90aGVyd2lzZSwgdXNlcyBjdXJyZW50IHBhdGguXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB1cGRhdGVEYXNoYm9hcmQobmV3UGF0aD86IElGb2xkZXJbXSk6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoIW5ld1BhdGgpIG5ld1BhdGggPSBzdGF0ZS5nZXRGb2xkZXJQYXRoKCk7XG4gIHN0YXRlLnNldEZvbGRlclBhdGgobmV3UGF0aCk7XG4gIGNvbnN0IGN1cnJlbnRGb2xkZXIgPSBzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKTtcbiAgLy8gY2xlYXIgY29udGVudCBhbmQgc2VsZWN0aW9uXG4gIGRvY3VtZW50c0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgc2hpZnRTZWxlY3Rpb24ucmVzZXQoKTtcblxuICAvLyB1cGRhdGUgb3JkZXJlZCBpdGVtcyBmb3IgY3VycmVudCBmcy1jb250ZW50c1xuICBzdGF0ZS5zZXRFbnRyaWVzKGN1cnJlbnRGb2xkZXIuY2hpbGRyZW4pO1xuXG4gIC8vIHBvcHVsYXRlIGZvbGRlciBjb250ZW50c1xuICBjdXJyZW50Rm9sZGVyLmNoaWxkcmVuLmZvckVhY2goYXN5bmMgKGVudHJ5LCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IHRpbGUgPSBjcmVhdGVUaWxlKGVudHJ5KTtcbiAgICBkb2N1bWVudHNDb250YWluZXIuYXBwZW5kQ2hpbGQodGlsZSk7XG4gICAgYXdhaXQgYWRkVGlsZUV2ZW50TGlzdGVuZXIoaW5kZXgsIGVudHJ5LCB0aWxlKTtcbiAgfSk7IFxuXG4gIHVwZGF0ZUFjdGlvbkJhckJ1dHRvbnMoKTtcbiAgdXBkYXRlTmF2UGF0aCgpO1xuICB1cGRhdGVGU0J1dHRvbnMoKTtcblxuICBjb25zdCBpbmZvQmFkZ2UgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5mby1iYWRnZScpO1xuICBpZiAoc3RhdGUuaXNJblRyYXNoKCkpIHtcbiAgICBpbmZvQmFkZ2UudGV4dENvbnRlbnQgPSAnRmlsZXMgd2lsbCBiZSBkZWxldGVkIGFmdGVyIDMwIGRheXMnO1xuICAgIGluZm9CYWRnZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyM5REIyQkYnO1xuICB9IGVsc2Uge1xuICAgIGluZm9CYWRnZS50ZXh0Q29udGVudCA9ICcnO1xuICAgIGluZm9CYWRnZS5zdHlsZS5iYWNrZ3JvdW5kID0gJyc7XG4gIH1cblxuICAvLyBhZGQgZHJhZyBhbmQgZHJvcCBsaXN0ZW5lcnMgZm9yIGN1cnJlbnQgZm9sZGVyIGNvbnRlbnRcbiAgY3VycmVudEZvbGRlci5jaGlsZHJlbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIGNvbnN0IHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbnRyeS5pZCk7XG4gICAgYWRkRHJhZ1N0YXJ0TGlzdGVuZXIodGlsZSk7XG5cbiAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2ZvbGRlcicgfHwgZW50cnkudHlwZSA9PT0gJ3RyYXNoJykgeyBcbiAgICAgIGFkZERyb3BUYXJnZXRMaXN0ZW5lcnModGlsZSwgY3VycmVudEZvbGRlciwgZW50cnkgYXMgSUZvbGRlcik7XG4gICAgfVxuICB9KTtcbiAgXG4gIGZzbS5zZXRGaWxlU3lzdGVtKHN0YXRlLmdldEZvbGRlclBhdGgoKS5hdCgwKSk7XG59XG5cbmZ1bmN0aW9uIGFkZERyYWdTdGFydExpc3RlbmVyKGVsZW06IEVsZW1lbnQpIHtcbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZTogRHJhZ0V2ZW50KSA9PiB7XG4gICAgZS5kYXRhVHJhbnNmZXIuZWZmZWN0QWxsb3dlZCA9ICdtb3ZlJztcbiAgICBjdXJyZW50RHJhZ1RhcmdldCA9IGUudGFyZ2V0O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRHJvcFRhcmdldExpc3RlbmVycyhlbGVtOiBFbGVtZW50LCBjdXJyZW50Rm9sZGVyOiBJRm9sZGVyLCBkZXN0aW5hdGlvbkZvbGRlcjogSUZvbGRlcikge1xuICAvKipcbiAgICAgKiBUaGUgZHJhZ2VudGVyIGFuZCBkcmFnb3ZlciBldmVudHMgbmVlZCB0byBiZSBvdmVycmlkZW4gaW4gb3JkZXIgdG8gaW1wbGVtZW50IHRoZSBkcmFnLWFuZC1kcm9wIGZ1bmN0aW9uYWxpdHkuXG4gICAgICogUmVhZCBtb3JlIGF0OiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvSFRNTF9EcmFnX2FuZF9Ecm9wX0FQSS9EcmFnX29wZXJhdGlvbnNcbiAgICAgKi9cbiAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdkcmFnZW50ZXInLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2RyYWdlbnRlcicpO1xuICB9KTsgICAgXG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ2xlYXZlJywgKGUpID0+IHtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdkcmFnZW50ZXInKTtcbiAgfSk7XG4gIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZHJhZ292ZXInLCAoZSkgPT4gZS5wcmV2ZW50RGVmYXVsdCgpKTtcblxuICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ2Ryb3AnLCBjcmVhdGVIYW5kbGVEcm9wKGN1cnJlbnRGb2xkZXIsIGRlc3RpbmF0aW9uRm9sZGVyKSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUhhbmRsZURyb3AoY3VycmVudEZvbGRlcjogSUZvbGRlciwgZGVzdGluYXRpb25Gb2xkZXI6IElGb2xkZXIpIHtcbiAgcmV0dXJuIChlOiBFdmVudCkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIC8vIGdldCB0aGUgSUQgb2YgdGhlIGVsZW1lbnQgYmVpbmcgZHJhZ2dlZFxuICAgIGNvbnN0IGRyYWdUYXJnZXRJRCA9ICg8SFRNTEVsZW1lbnQ+IGN1cnJlbnREcmFnVGFyZ2V0KS5nZXRBdHRyaWJ1dGUoJ2lkJyk7XG5cbiAgICAvLyBVc2luZyBkcmFnVGFyZ2V0SUQsIGZpbmQgdGhlIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgdGhlIEZpbGUgYmVpbmcgZHJvcHBlZC5cbiAgICBjb25zdCBkcmFnRW50cnkgPSBnZXRFbnRyeUJ5SWQoZHJhZ1RhcmdldElEKTtcblxuICAgIC8vIElmIGZvbGRlciwgZGVzdGluYXRpb24sIGFuZCBmaWxlIHdlcmUgZm91bmQsIG1vdmUgdGhlIGZpbGUgaW50byB0aGUgZm9sZGVyLiBHcmVhdCBzdWNjZXNzIVxuICAgIC8vIE1ha2Ugc3VyZSB0aGF0IGEgZm9sZGVyIGlzIG5vdCBiZWluZyBkcm9wcGVkIGludG8gdGhlIHNhbWUgZm9sZGVyLlxuICAgIGlmIChkcmFnRW50cnkgJiYgZHJhZ0VudHJ5ICE9PSBkZXN0aW5hdGlvbkZvbGRlcikge1xuICAgICAgbW92ZVRvRm9sZGVyKFtkcmFnRW50cnldLCBjdXJyZW50Rm9sZGVyLCBkZXN0aW5hdGlvbkZvbGRlcik7XG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIENoZWNrcyBpZiBlbnRyeSBjYW4gYmUgbW92ZWQgdG8gbmV3Rm9sZGVyLCBhbmQgaWYgc28sIG1vdmVzIGl0IGFuZCByZWZyZXNoZXMgZGFzaGJvYXJkLlxuICogXG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50Rm9sZGVyIFxuICogQHBhcmFtIG5ld0ZvbGRlciBcbiAqL1xuZnVuY3Rpb24gbW92ZVRvRm9sZGVyKGVudHJpZXM6IElFbnRyeVtdLCBwYXJlbnRGb2xkZXI6IElGb2xkZXIsIG5ld0ZvbGRlcjogSUZvbGRlcikge1xuICBjb25zdCBlcnJvck1lc3NhZ2VzID0gW107XG4gIGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICAvLyBIYW5kbGUgbmFtZSBjb25mbGljdHMgZm9yIHRyYXNoIGZvbGRlclxuICAgIGlmIChuZXdGb2xkZXIudHlwZSA9PT0gJ3RyYXNoJyAmJiBuZXdGb2xkZXIuY2hpbGRyZW4uc29tZSgoZSkgPT4gZS5uYW1lID09PSBlbnRyeS5uYW1lKSkge1xuICAgICAgZW50cnkubmFtZSA9IHRyYXNoRk5Db25mbGljdEhhbmRsZXIoZW50cnkubmFtZSk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3BvbnNlID0gRmlsZVN5c3RlbVRvb2xzLmNhbk1vdmVFbnRyeShlbnRyeSwgcGFyZW50Rm9sZGVyLCBuZXdGb2xkZXIpO1xuICAgIGlmICghcmVzcG9uc2Uuc3VjY2VlZGVkKSBlcnJvck1lc3NhZ2VzLnB1c2gocmVzcG9uc2UuZXJyb3IpO1xuICAgIGVsc2UgRmlsZVN5c3RlbVRvb2xzLm1vdmVFbnRyeShlbnRyeSwgcGFyZW50Rm9sZGVyLCBuZXdGb2xkZXIpO1xuICB9KTtcbiAgXG4gIGVycm9yTWVzc2FnZXMuZmlsdGVyKChtc2csIGlkeCwgYXJyKSA9PiBhcnIuaW5kZXhPZihtc2cpID09PSBpZHgpO1xuICBpZiAoZXJyb3JNZXNzYWdlcy5sZW5ndGggPiAwKSB3aW5kb3cuYWxlcnQoZXJyb3JNZXNzYWdlcy5qb2luKCdcXG4nKSk7XG5cbiAgdXBkYXRlRGFzaGJvYXJkKCk7XG59XG5cbmZ1bmN0aW9uIHRyYXNoRk5Db25mbGljdEhhbmRsZXIoZmlsZW5hbWU6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpO1xuICByZXR1cm4gZmlsZW5hbWUgKyAnIC0gJyArIGRhdGV0aW1lO1xufVxuXG4vKipcbiAqIE9wZW5zIE1vdmUtVG8gbWVudSBtb2RhbCB3aW5kb3cgd2l0aCBVSSBmb3IgbW92aW5nIHNlbGVjdGVkIGVudHJpZXMgdG8gYSBuZXcgZm9sZGVyLlxuICovXG5mdW5jdGlvbiBvcGVuTW92ZVRvV2luZG93KCkge1xuICAvLyBnZW5lcmF0ZSBtb2RhbCB3aW5kb3dcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgTW9kYWxXaW5kb3coKTtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5NT1ZFX1RPKTtcbiAgbW9kYWxXaW5kb3cub3Blbk1vZGFsV2luZG93KCk7XG5cbiAgY29uc3Qgc2VsZWN0ZWRFbnRyaWVzID0gc3RhdGUuZ2V0U2VsZWN0ZWRFbnRyaWVzKCk7XG4gIGNvbnN0IHBhcmVudEZvbGRlciA9IHN0YXRlLmdldFBhcmVudEZvbGRlcigpO1xuXG4gIC8vIENhbGxiYWNrIGZvciB3aGVuIHVzZXIgZG91YmxlLWNsaWNrcyBvbiBhIGZvbGRlciBhbmQgbW92ZXMgc2VsZWN0aW9uXG4gIGNvbnN0IG1vdmVUb0NhbGxiYWNrID0gKG5ld1BhcmVudEZvbGRlcjogSUZvbGRlcikgPT4ge1xuICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIG1vdmVUb0ZvbGRlcihzZWxlY3RlZEVudHJpZXMsIHBhcmVudEZvbGRlciwgbmV3UGFyZW50Rm9sZGVyKTtcbiAgfTtcblxuICBjb25zdCByb290VHJlZSA9IGdlbmVyYXRlUm9vdFRyZWUobW92ZVRvQ2FsbGJhY2spO1xuICBjb25zdCB0cmVlQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRyZWVDb250YWluZXIuY2xhc3NMaXN0LmFkZCgndHJlZS1jb250YWluZXInKTtcbiAgdHJlZUNvbnRhaW5lci5hcHBlbmRDaGlsZChyb290VHJlZSk7XG5cbiAgY29uc3QgbW9kYWxDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKTtcbiAgbW9kYWxDb250YWluZXIuaW5uZXJIVE1MID0gJzxzcGFuIGNsYXNzPVwibW92ZS1tZW51LW1zZ1wiPkRvdWJsZS1jbGljayB0aGUgZm9sZGVyIHlvdSB3YW50IHRvIG1vdmUgeW91ciBpdGVtcyB0byE8L3NwYW4+JztcbiAgbW9kYWxDb250YWluZXIuYXBwZW5kQ2hpbGQodHJlZUNvbnRhaW5lcik7XG59XG5cbi8qKlxuICogT3BlbnMgTmV3IEZvbGRlciBtZW51IG1vZGFsIHdpbmRvdyB0aGF0IHByb21wdHMgZm9yIGEgbmFtZS5cbiAqIE9uIGNsaWNraW5nIHRoZSBDcmVhdGUgYnV0dG9uLCBjbG9zZXMgbW9kYWwgd2luZG93IGFuZCBjcmVhdGVzIG5ldyBmb2xkZXIuXG4gKi9cbmZ1bmN0aW9uIG9wZW5OZXdGb2xkZXJXaW5kb3coKSB7XG4gIGlmICghbmV3Rm9sZGVyQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHJldHVybjtcblxuICAvLyBnZW5lcmF0ZSBtb2RhbCB3aW5kb3dcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgTW9kYWxXaW5kb3coKTtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5ORVdfRk9MREVSKTtcbiAgbW9kYWxXaW5kb3cub3Blbk1vZGFsV2luZG93KCk7XG5cbiAgXG4gIGNvbnN0IGlucHV0Q29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rhc2hib2FyZF9pbnB1dF9jb250YWluZXInKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgY29uc3QgY2FuY2VsQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NhbmNlbF9kYXNoYm9hcmQnKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgY29uc3QgY29uZmlybUJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb25maXJtX2Rhc2hib2FyZCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXG4gIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgaW5wdXQuaWQgPSAnZGFzaGJvYXJkX2lucHV0JztcbiAgaW5wdXQudHlwZSA9ICd0ZXh0JztcbiAgaW5wdXQucGxhY2Vob2xkZXIgPSAnVW50aXRsZWQgRm9sZGVyJztcbiAgaW5wdXQudmFsdWUgPSAnVW50aXRsZWQgRm9sZGVyJztcbiAgaW5wdXRDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuXG4gIGlucHV0LnNlbGVjdCgpO1xuICBpbnB1dC5mb2N1cygpO1xuXG4gIGNhbmNlbEJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpKTtcbiAgY29uZmlybUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IGNvbmZpcm1OZXdGb2xkZXJBY3Rpb24obW9kYWxXaW5kb3csIGlucHV0LnZhbHVlKSk7XG5cbiAgaW5wdXRDb250YWluZXIuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldmVudCkgPT4ge1xuICAgIGlmIChldmVudC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50LmtleSA9PT0gJ0VudGVyJykge1xuICAgICAgY29uZmlybU5ld0ZvbGRlckFjdGlvbihtb2RhbFdpbmRvdywgaW5wdXQudmFsdWUpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvbmZpcm1OZXdGb2xkZXJBY3Rpb24obW9kYWxXaW5kb3c6IE1vZGFsV2luZG93LCBmb2xkZXJOYW1lOiBzdHJpbmcpIHtcbiAgaWYgKCFuYW1lRXhpc3RzKGZvbGRlck5hbWUpKSB7XG4gICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgaGFuZGxlQWRkRm9sZGVyKGZvbGRlck5hbWUpO1xuICB9IFxuICBlbHNlIHtcbiAgICB3aW5kb3cuYWxlcnQoJ1RoZSBmb2xkZXIgbmFtZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgY3VycmVudCBmb2xkZXIhJyk7XG4gICAgb3Blbk5ld0ZvbGRlcldpbmRvdygpO1xuICB9XG59XG5cbi8qKlxuICogT3BlbnMgUmVuYW1lIG1lbnUgbW9kYWwgd2luZG93IHRoYXQgcHJvbXB0cyBmb3IgYSBuZXcgbmFtZS5cbiAqL1xuZnVuY3Rpb24gb3BlblJlbmFtZVdpbmRvdygpIHtcbiAgLy8gZ2VuZXJhdGUgbW9kYWwgd2luZG93XG4gIGNvbnN0IG1vZGFsV2luZG93ID0gbmV3IE1vZGFsV2luZG93KCk7XG4gIG1vZGFsV2luZG93LnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuUkVOQU1FKTtcbiAgbW9kYWxXaW5kb3cub3Blbk1vZGFsV2luZG93KCk7XG5cbiAgY29uc3QgaW5wdXRDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGFzaGJvYXJkX2lucHV0X2NvbnRhaW5lcicpIGFzIEhUTUxEaXZFbGVtZW50O1xuICBjb25zdCBjYW5jZWxCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FuY2VsX2Rhc2hib2FyZCcpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICBjb25zdCBjb25maXJtQnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbmZpcm1fZGFzaGJvYXJkJykgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG5cbiAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBpbnB1dC5pZCA9ICdkYXNoYm9hcmRfaW5wdXQnO1xuICBpbnB1dC50eXBlID0gJ3RleHQnO1xuICBjb25zdCBwcmV2TmFtZSA9IHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpWzBdLm5hbWU7XG4gIGlucHV0LnBsYWNlaG9sZGVyID0gcHJldk5hbWU7XG4gIGlucHV0LnZhbHVlID0gcHJldk5hbWU7XG4gIGlucHV0Q29udGFpbmVyLmFwcGVuZENoaWxkKGlucHV0KTtcblxuICBpbnB1dC5zZWxlY3QoKTtcbiAgaW5wdXQuZm9jdXMoKTtcblxuICBjYW5jZWxCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKSk7XG4gIGNvbmZpcm1CdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBjb25maXJtUmVuYW1lQWN0aW9uKG1vZGFsV2luZG93LCBpbnB1dC52YWx1ZSwgcHJldk5hbWUpKTtcblxuICBpbnB1dENvbnRhaW5lci5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2ZW50KSA9PiB7XG4gICAgaWYgKGV2ZW50LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQua2V5ID09PSAnRW50ZXInKSB7XG4gICAgICBjb25maXJtUmVuYW1lQWN0aW9uKG1vZGFsV2luZG93LCBpbnB1dC52YWx1ZSwgcHJldk5hbWUpO1xuICAgIH1cbiAgfSk7XG4gIFxufVxuXG4vLyBPbiBjb25maXJtYXRpb24sIGNsb3NlIG1vZGFsIHdpbmRvdyBhbmQgcmVuYW1lIGVudHJ5IChpZiBmaWxlLCBkYXRhYmFzZSBpcyB1cGRhdGVkKVxuZnVuY3Rpb24gY29uZmlybVJlbmFtZUFjdGlvbihtb2RhbFdpbmRvdzogTW9kYWxXaW5kb3csIG5ld05hbWU6IHN0cmluZywgcHJldk5hbWU6IHN0cmluZykge1xuICAvLyBjaGVjayBmb3IgZHVwbGljYXRlZCBuYW1lc1xuICBpZiAobmV3TmFtZSA9PT0gcHJldk5hbWUpIHtcbiAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgfVxuICBlbHNlIHtcbiAgICBpZiAoIW5hbWVFeGlzdHMobmV3TmFtZSkpIHtcbiAgICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgICAgY29uc3QgZW50cnkgPSBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKVswXTtcbiAgICAgIHJlbmFtZUVudHJ5KGVudHJ5LCBuZXdOYW1lKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB3aW5kb3cuYWxlcnQoJ1RoZSBmaWxlbmFtZSBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgY3VycmVudCBmb2xkZXIhJyk7XG4gICAgICBvcGVuUmVuYW1lV2luZG93KCk7XG4gICAgfVxuICB9ICBcbn1cblxuZnVuY3Rpb24gbmFtZUV4aXN0cyhuYW1lOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgY29uc3QgcGFyZW50ID0gc3RhdGUuZ2V0UGFyZW50Rm9sZGVyKCk7XG4gIHJldHVybiBwYXJlbnQuY2hpbGRyZW4uc29tZSgoZSkgPT4gZS5uYW1lID09PSBuYW1lKTtcbn1cblxuLyoqXG4gKiBSZWN1cnNpdmUgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgZm9sZGVyIHRyZWUgc3RydWN0dXJlIGZvciBtb3ZlLXRvIG1lbnVcbiAqIFxuICogQHBhcmFtIGZvbGRlciBJRm9sZGVyIHRvIGdlbmVyYXRlIHRyZWUgc3RydWN0dXJlIGZvciBhbmQgYWxsIGl0cyBzdWJmb2xkZXJzXG4gKiBAcGFyYW0gY2FsbGJhY2sgQ2FsbGJhY2sgZnVuY3Rpb24gZm9yIHdoZW4gdXNlciBkb3VibGUtY2xpY2tzIG9uIGEgZm9sZGVyIGFuZCBtb3ZlcyBzZWxlY3Rpb25cbiAqIEBwYXJhbSBkZWdyZWUgVGhlIGxldmVsIG9mIHN1YmZvbGRlcnMgZGVlcFxuICogQHJldHVybnMgTGlzdCBpdGVtIG5vZGVcbiAqL1xuZnVuY3Rpb24gZ2VuZXJhdGVGb2xkZXJUcmVlKGZvbGRlcjogSUZvbGRlciwgbW92ZVRvQ2FsbGJhY2s6IChuZXdQYXJlbnRGb2xkZXIgOklGb2xkZXIpID0+IHZvaWQsIGRlZ3JlZTogbnVtYmVyKTogSFRNTExJRWxlbWVudCB7XG5cbiAgY29uc3QgdHJlZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xpJyk7XG4gIC8vIGNvbnRhaW5lciBmb3IgZm9sZGVyIG5hbWUgYW5kIGFycm93XG4gIGNvbnN0IGxpQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGxpQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ3RyZWUtbGktY29udGFpbmVyJyk7XG5cbiAgLy8gRm9sZGVyIFRFWFQ6IGNsaWNrIHRvIHNlbGVjdCAoZm9yIFVYKSwgZG91YmxlIGNsaWNrIHRvIG1vdmUgaXRlbXMgdG8gZm9sZGVyXG4gIGNvbnN0IGZvbGRlck5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgZm9sZGVyTmFtZS5jbGFzc0xpc3QuYWRkKCd0cmVlLW5hbWUnKTtcbiAgZm9sZGVyTmFtZS5pbm5lckhUTUwgPSBmb2xkZXIubmFtZTtcblxuICAvLyBPbiBzaW5nbGUgY2xpY2ssIGhpZ2hsaWdodC9zZWxlY3QgZm9sZGVyIG5hbWVcbiAgZm9sZGVyTmFtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcudHJlZS1uYW1lJykuZm9yRWFjaChlbGVtID0+IGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XG4gICAgZm9sZGVyTmFtZS5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICB9KTtcblxuICAvLyBPbiBkb3VibGUgY2xpY2ssIG1vdmUgc2VsZWN0ZWQgaXRlbXMgdG8gZm9sZGVyXG4gIGZvbGRlck5hbWUuYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCAoKSA9PiB7XG4gICAgbW92ZVRvQ2FsbGJhY2soZm9sZGVyKTtcbiAgfSk7XG5cbiAgLy8gSWYgRm9sZGVyIGhhcyBubyBzdWJmb2xkZXJzLCByZXR1cm4gd2l0aG91dCBuZXN0ZWQgdWxcbiAgY29uc3QgaXNMZWFmID0gZm9sZGVyLmNoaWxkcmVuLmV2ZXJ5KGVudHJ5ID0+IGVudHJ5LnR5cGUgIT09ICdmb2xkZXInKTtcbiAgaWYgKGlzTGVhZikge1xuICAgIHRyZWUuYXBwZW5kQ2hpbGQobGlDb250YWluZXIpO1xuICAgIGxpQ29udGFpbmVyLmFwcGVuZENoaWxkKGZvbGRlck5hbWUpO1xuICAgIHJldHVybiB0cmVlO1xuICB9XG4gIC8vIE90aGVyd2lzZSBGb2xkZXIgaXMgbm90IGVtcHR5LCBtYWtlIHRyZWUgc3RydWN0dXJlXG5cbiAgLy8gVW5vcmRlcmVkIExJU1QgKGhpZGluZyBvciB1bmhpZGluZyBsaSlcbiAgY29uc3QgdWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuXG4gIC8vIEFSUk9XXG4gIGNvbnN0IGFycm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGFycm93LmNsYXNzTGlzdC5hZGQoJ3RyZWUtYXJyb3cnKTtcbiAgYXJyb3cuaW5uZXJIVE1MID0gJ+KWtic7XG5cbiAgLy8gaWYgbW9yZSB0aGFuIC4uLiBzdWJmb2xkZXJzIGRvd24sIGhpZGUgYnkgZGVmYXVsdFxuICBpZiAoZGVncmVlIDwgMikgdWwuY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gIGlmIChkZWdyZWUgPCAyKSBhcnJvdy5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgXG4gIGFycm93LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGFycm93LmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICAgIHVsLmNsYXNzTGlzdC50b2dnbGUoJ2FjdGl2ZScpO1xuICB9KTtcblxuICB0cmVlLmFwcGVuZENoaWxkKGxpQ29udGFpbmVyKTtcbiAgbGlDb250YWluZXIuYXBwZW5kQ2hpbGQoYXJyb3cpO1xuICBsaUNvbnRhaW5lci5hcHBlbmRDaGlsZChmb2xkZXJOYW1lKTtcbiAgdHJlZS5hcHBlbmRDaGlsZCh1bCk7XG5cbiAgLy8gQXBwZW5kIGZvbGRlciBjb250ZW50c1xuICBmb2xkZXIuY2hpbGRyZW4uZm9yRWFjaCgoZW50cnkpID0+IHtcbiAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgIGNvbnN0IGZvbGRlclRyZWUgPSBnZW5lcmF0ZUZvbGRlclRyZWUoZW50cnkgYXMgSUZvbGRlciwgbW92ZVRvQ2FsbGJhY2ssIGRlZ3JlZSArIDEpO1xuICAgICAgdWwuYXBwZW5kQ2hpbGQoZm9sZGVyVHJlZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHRyZWU7XG59XG5cbi8qKlxuICogR2VuZXJhdGVzIGVudGlyZSBmaWxlIHN5c3RlbSBmb2xkZXIgdHJlZSBmb3IgbW92ZS10byBtZW51XG4gKiBcbiAqIEBwYXJhbSBtb3ZlVG9DYWxsYmFjayBjYWxsYmFjayBmdW5jdGlvbiBmb3Igd2hlbiB1c2VyIGRvdWJsZS1jbGlja3Mgb24gYSBmb2xkZXIgYW5kIG1vdmVzIHNlbGVjdGlvblxuICogQHJldHVybnMgXG4gKi9cbmZ1bmN0aW9uIGdlbmVyYXRlUm9vdFRyZWUobW92ZVRvQ2FsbGJhY2s6IChuZXdQYXJlbnRGb2xkZXIgOklGb2xkZXIpID0+IHZvaWQpOiBIVE1MVUxpc3RFbGVtZW50IHtcbiAgY29uc3Qgcm9vdFRyZWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCd1bCcpO1xuICByb290VHJlZS5pZCA9ICd0cmVlLXJvb3QnO1xuICByb290VHJlZS5hcHBlbmRDaGlsZChnZW5lcmF0ZUZvbGRlclRyZWUoc3RhdGUucm9vdCgpLCBtb3ZlVG9DYWxsYmFjaywgMCkpO1xuICByZXR1cm4gcm9vdFRyZWU7XG59XG5cbi8qKlxuICogRGlzcGxheXMgZGFzaGJvYXJkIGNvbnRleHQgbWVudSB3aXRoIHRoZSBhcHByb3ByaWF0ZSBjb250ZW50IFxuICogXG4gKiBAcGFyYW0gdmlldyBjb250ZXh0IG1lbnUgdmlldyAoZGV0ZXJtaW5lcyBjb250ZW50IG9mIGNvbnRleHQgbWVudSlcbiAqL1xuZnVuY3Rpb24gc2hvd0NvbnRleHRNZW51KHZpZXc6IHN0cmluZywgY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpIHtcblxuICBzd2l0Y2ggKHZpZXcpIHtcbiAgICAvLyBDb250ZXh0IG1lbnUgb3B0aW9ucyB3aGVuIGZpbGVzL2ZvbGRlcnMgYXJlIHJpZ2h0LWNsaWNrZWRcbiAgICBjYXNlICdzZWxlY3Rpb24tb3B0aW9ucyc6XG5cbiAgICAgIC8vIE5lZWQgdG8gZGV0ZXJtaW5lIHNlbGVjdGlvbiBjYXRlZ29yeSBiZWZvcmUgZGlzcGxheWluZyBvcHRpb25zXG4gICAgICBjb25zdCBudW1iZXJPZlNlbGVjdGVkRmlsZXMgPSBzdGF0ZS5nZXRTZWxlY3RlZEZpbGVzKCkubGVuZ3RoO1xuICAgICAgY29uc3QgbnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMgPSBzdGF0ZS5nZXRTZWxlY3RlZEZvbGRlcnMoKS5sZW5ndGg7XG4gICAgICBjb25zdCBzZWxlY3RlZFRyYXNoID0gc3RhdGUuZ2V0U2VsZWN0ZWRUcmFzaCgpLmxlbmd0aDtcblxuICAgICAgLyoqXG4gICAgICAgKiBDb250ZXh0IG1lbnUgb3B0aW9ucyBjb25kaXRpb25zOlxuICAgICAgICogICAgMSkgMSBmaWxlIC0+IG9wZW4sIG1vdmUgdG8gdHJhc2gsIG1vdmVcbiAgICAgICAqICAgIDIpIDIrIGZpbGVzIC0+IG9wZW4sIG1vdmUgdG8gdHJhc2gsIG1vdmVcbiAgICAgICAqICAgIDMpIGZpbGUocykgKyBmb2xkZXIocykgLT4gbW92ZSB0byB0cmFzaCwgbW92ZVxuICAgICAgICogICAgNCkgMSBmb2xkZXIgLT4gb3BlbiwgbW92ZSB0byB0cmFzaCwgbW92ZVxuICAgICAgICogICAgNSkgMisgZm9sZGVycyAtPiBtb3ZlIHRvIHRyYXNoLCBtb3ZlXG4gICAgICAgKiAgICA2KSB0cmFzaCAtPiBlbXB0eSB0cmFzaFxuICAgICAgICogICAgNykgZW50cnkgaW4gdHJhc2ggLT4gcHV0IGJhY2ssIGRlbGV0ZVxuICAgICAgICovXG5cblxuICAgICAgLy8gdHJhc2hcbiAgICAgIGlmICghbnVtYmVyT2ZTZWxlY3RlZEZpbGVzICYmICFudW1iZXJPZlNlbGVjdGVkRm9sZGVycyAmJiBzZWxlY3RlZFRyYXNoKSB7XG4gICAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50LnRyYXNoRm9sZGVyT3B0aW9ucztcbiAgICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCd0cmFzaC1mb2xkZXItb3B0aW9ucycpO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAoc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLmxlbmd0aCA+IDEgJiYgc3RhdGUuZ2V0Rm9sZGVyUGF0aCgpLmF0KDEpLm5hbWUgPT0gJ1RyYXNoJykge1xuICAgICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC50cmFzaEVudHJ5T3B0aW9ucztcbiAgICAgICAgc2V0Q29udGV4dE1lbnVJdGVtc0V2ZW50TGlzdGVuZXJzKCd0cmFzaC1lbnRyeS1vcHRpb25zJyk7XG4gICAgICB9XG4gICAgICAvLyAxIGZpbGVcbiAgICAgIGVsc2UgaWYgKG51bWJlck9mU2VsZWN0ZWRGaWxlcyA9PT0gMSAmJiAhbnVtYmVyT2ZTZWxlY3RlZEZvbGRlcnMgJiYgIXNlbGVjdGVkVHJhc2gpIHtcbiAgICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQuc2luZ2xlRmlsZU9wdGlvbnM7XG4gICAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygnc2luZ2xlLWZpbGUtb3B0aW9ucycpO1xuICAgICAgfVxuICAgICAgLy8gMisgZmlsZXNcbiAgICAgIGVsc2UgaWYgKG51bWJlck9mU2VsZWN0ZWRGaWxlcyA+IDEgJiYgIW51bWJlck9mU2VsZWN0ZWRGb2xkZXJzICYmICFzZWxlY3RlZFRyYXNoKSB7XG4gICAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50Lm11bHRpRmlsZU9wdGlvbnM7XG4gICAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygnbXVsdGktZmlsZS1vcHRpb25zJyk7XG4gICAgICB9XG4gICAgICAvLyBmaWxlKHMpICsgZm9sZGVyKHMpXG4gICAgICBlbHNlIGlmIChudW1iZXJPZlNlbGVjdGVkRmlsZXMgPj0gMSAmJiBudW1iZXJPZlNlbGVjdGVkRm9sZGVycyA+PSAxICYmICFzZWxlY3RlZFRyYXNoKSB7XG4gICAgICAgIGNvbnRleHRNZW51Q29udGVudFdyYXBwZXIuaW5uZXJIVE1MID0gY29udGV4dE1lbnVDb250ZW50LmZvbGRlckFuZEZpbGVPcHRpb25zO1xuICAgICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ2ZvbGRlci1hbmQtZmlsZS1vcHRpb25zJyk7XG4gICAgICB9XG4gICAgICAvLyAxIGZvbGRlclxuICAgICAgZWxzZSBpZiAoIW51bWJlck9mU2VsZWN0ZWRGaWxlcyAmJiBudW1iZXJPZlNlbGVjdGVkRm9sZGVycyA9PT0gMSAmJiAhc2VsZWN0ZWRUcmFzaCkge1xuICAgICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC5zaW5nbGVGb2xkZXJPcHRpb25zO1xuICAgICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ3NpbmdsZS1mb2xkZXItb3B0aW9ucycpO1xuICAgICAgfVxuICAgICAgLy8gMisgZm9sZGVyc1xuICAgICAgZWxzZSBpZiAoIW51bWJlck9mU2VsZWN0ZWRGaWxlcyAmJiBudW1iZXJPZlNlbGVjdGVkRm9sZGVycyA+IDEgJiYgIXNlbGVjdGVkVHJhc2gpIHtcbiAgICAgICAgY29udGV4dE1lbnVDb250ZW50V3JhcHBlci5pbm5lckhUTUwgPSBjb250ZXh0TWVudUNvbnRlbnQubXVsdGlGb2xkZXJPcHRpb25zO1xuICAgICAgICBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnMoJ211bHRpLWZvbGRlci1vcHRpb25zJyk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIC8vIERlZmF1bHQgY29udGV4dCBtZW51IChyaWdoLWNsaWNraW5nIG9uIGRhc2hib2FyZCBiYWNrZ3JvdW5kKVxuICAgIGRlZmF1bHQ6XG4gICAgICBjb250ZXh0TWVudUNvbnRlbnRXcmFwcGVyLmlubmVySFRNTCA9IGNvbnRleHRNZW51Q29udGVudC5kZWZhdWx0T3B0aW9ucztcbiAgICAgIHNldENvbnRleHRNZW51SXRlbXNFdmVudExpc3RlbmVycygnZGVmYXVsdCcpO1xuICB9XG5cbiAgLy8gZGlzYWJsZSBlZGl0b3IgbWVudSBmb3IgdGhlIHNhbXBsZXMgZm9sZGVyIGFuZCB0cmFzaFxuICBpZihzdGF0ZS5nZXRQYXJlbnRGb2xkZXIoKS5tZXRhZGF0YVsnaW1tdXRhYmxlJ10gfHwgXG4gIChzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKVswXSAmJiBzdGF0ZS5nZXRTZWxlY3RlZEVudHJpZXMoKVswXS5tZXRhZGF0YVsnaW1tdXRhYmxlJ10pIHx8XG4gIHN0YXRlLmlzSW5UcmFzaCgpKSB7XG4gICAgY29uc3QgZGVsZXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NtLXJlbW92ZS1idG4nKTtcbiAgICBjb25zdCByZW5hbWVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY20tcmVuYW1lLWJ0bicpO1xuICAgIGNvbnN0IG1vdmVCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY20tbW92ZS1idG4nKTtcbiAgICBjb25zdCB1cGRhdGVEb2NCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY20tdXBsb2FkLWRvYy1idG4nKTtcbiAgICBjb25zdCBuZXdGb2xkZXJCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY20tbmV3LWZvbGRlci1idG4nKTtcblxuICAgIGlmIChkZWxldGVCdG4pIHtcbiAgICAgIGRlbGV0ZUJ0bi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgICBpZiAocmVuYW1lQnRuKSB7XG4gICAgICByZW5hbWVCdG4uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaWYgKG1vdmVCdG4pIHtcbiAgICAgIG1vdmVCdG4uY2xhc3NMaXN0LmFkZCgnZGlzYWJsZWQnKTtcbiAgICB9XG4gICAgaWYgKHVwZGF0ZURvY0J0bikge1xuICAgICAgdXBkYXRlRG9jQnRuLmNsYXNzTGlzdC5hZGQoJ2Rpc2FibGVkJyk7XG4gICAgfVxuICAgIGlmIChuZXdGb2xkZXJCdG4pIHtcbiAgICAgIG5ld0ZvbGRlckJ0bi5jbGFzc0xpc3QuYWRkKCdkaXNhYmxlZCcpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGdldCB0aGUgcG9zaXRpb24gb2YgdGhlIHVzZXIncyBtb3VzZVxuICBjb250ZXh0TWVudS5zdHlsZS5sZWZ0ID0gYCR7Y2xpZW50WH1weGA7XG4gIGNvbnRleHRNZW51LnN0eWxlLnRvcCA9IGAke2NsaWVudFl9cHhgO1xuXG4gIC8vIGRpc3BsYXkgY29udGV4dCBtZW51XG4gIGNvbnRleHRNZW51LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xufVxuXG5cbi8qKlxuICogU2V0IGV2ZW50IGxpc3RlbmVycyBmb3IgdGhlIG1lbnUgaXRlbXMgaW4gYSBwYXJ0aWN1bGFyIGNvbnRleHQgbWVudS5cbiAqIFxuICogQHBhcmFtIHZpZXcgVGhlIG5hbWUgb2YgdGhlIGNvbnRleHQgbWVudSB2aWV3IHRoYXQgaXMgYmVpbmcgZGlzcGxheWVkLlxuICovXG5mdW5jdGlvbiBzZXRDb250ZXh0TWVudUl0ZW1zRXZlbnRMaXN0ZW5lcnModmlldzogc3RyaW5nKSB7XG4gIC8vIEFsbCB0aGUgYnV0dG9ucyB0aGF0IHdpbGwgaGF2ZSBldmVudHMgYXR0YWNoZWQgdG8gdGhlbSBoYXZlIHRoZSBzYW1lIGNsYXNzbmFtZS5cbiAgY29uc3QgYnRuQ2xhc3NuYW1lID0gJ2NvbnRleHQtbWVudS1pdGVtLXdyYXBwZXInO1xuXG4gIHN3aXRjaCAodmlldykge1xuXG4gICAgY2FzZSAnc2luZ2xlLWZpbGUtb3B0aW9ucyc6XG4gICAgICAvLyBcIk9wZW5cIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tb3Blbi1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3BlbkRvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlIHRvIFRyYXNoXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmVtb3ZlRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIlJlbmFtZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZW5hbWUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5SZW5hbWVXaW5kb3coKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3Blbk1vdmVUb1dpbmRvdygpOyAgIFxuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuICAgIFxuICAgIGNhc2UgJ211bHRpLWZpbGUtb3B0aW9ucyc6XG4gICAgICAvLyBcIk9wZW5cIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tb3Blbi1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3BlbkRvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlIHRvIFRyYXNoXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmVtb3ZlRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3Blbk1vdmVUb1dpbmRvdygpO1xuICAgICAgfSk7ICAgICAgXG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnZm9sZGVyLWFuZC1maWxlLW9wdGlvbnMnOlxuICAgICAgLy8gXCJNb3ZlIHRvIFRyYXNoXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmVtb3ZlRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3Blbk1vdmVUb1dpbmRvdygpO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuICAgIFxuICAgIGNhc2UgJ3NpbmdsZS1mb2xkZXItb3B0aW9ucyc6XG4gICAgICAvLyBcIk9wZW5cIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tb3Blbi1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3BlbkRvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJNb3ZlIHRvIFRyYXNoXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmVtb3ZlRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIlJlbmFtZVwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1yZW5hbWUtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5SZW5hbWVXaW5kb3coKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3Blbk1vdmVUb1dpbmRvdygpO1xuICAgICAgfSk7ICAgICAgXG5cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnbXVsdGktZm9sZGVyLW9wdGlvbnMnOlxuICAgICAgLy8gXCJNb3ZlIHRvIFRyYXNoXCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXJlbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcmVtb3ZlRG9jc0hhbmRsZXIoKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBcIk1vdmVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tbW92ZS1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgb3Blbk1vdmVUb1dpbmRvdygpO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuICAgIFxuICAgIGNhc2UgJ3RyYXNoLWZvbGRlci1vcHRpb25zJzpcbiAgICAgIC8vIFwiRW1wdHkgVHJhc2hcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tZW1wdHktdHJhc2gtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIGVtcHR5VHJhc2hIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICd0cmFzaC1lbnRyeS1vcHRpb25zJzpcbiAgICAgIC8vIFwiUHV0IEJhY2tcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tcmVjb3Zlci1idG5gKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgcHV0QmFja0RvY3NIYW5kbGVyKCk7XG4gICAgICB9KTtcblxuICAgICAgLy8gXCJEZWxldGVcIiBtZW51IGl0ZW1cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2J0bkNsYXNzbmFtZX0jY20tZGVsZXRlLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBkZWxldGVEb2NzSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIFwiVXBsb2FkIGRvY3VtZW50XCIgbWVudSBpdGVtXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtidG5DbGFzc25hbWV9I2NtLXVwbG9hZC1kb2MtYnRuYCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoX2UpID0+IHtcbiAgICAgICAgY29udGV4dE1lbnUuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgIG9wZW5VcGxvYWRBcmVhSGFuZGxlcigpO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFwiTmV3IGZvbGRlclwiIG1lbnUgaXRlbVxuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgLiR7YnRuQ2xhc3NuYW1lfSNjbS1uZXctZm9sZGVyLWJ0bmApLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKF9lKSA9PiB7XG4gICAgICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICBvcGVuTmV3Rm9sZGVyV2luZG93KCk7XG4gICAgICB9KTtcblxuICB9XG5cbn1cblxuXG4vKipcbiAqIEluaXRpYWxpemUgZGFzaGJvYXJkIGNvbnRleHQgbWVudSAocmlnaHQgY2xpY2sgbWVudSkuXG4gKiBUaGlzIHdpbGwgc2V0IHVwIGFsbCBuZWNlc3NhcnkgZXZlbnQgbGlzdGVuZXJzIGFzIHdlbGwgYXNcbiAqIHRoZSBsb2dpYyB0byBkZXRlcm1pbmUgdGhlIGNvbnRlbnQgb2YgdGhlIGNvbnRleHQgbWVudSwgd2hpY2hcbiAqIG1heSBjaGFuZ2UgZGVwZW5kaW5nIG9uIHdoZXJlIHRoZSB1c2VyIHJpZ2h0LWNsaWNrcyAoZmlsZSwgZmlsZXMsIGZvbGRlciwgYmFja2dyb3VuZCwgZXRjLilcbiAqL1xuZnVuY3Rpb24gaW5pdGlhbGl6ZURlZmF1bHRDb250ZXh0TWVudSgpIHtcblxuICAvLyByaWdodC1jbGljayBvbiBkYXNoYm9hcmQgYmFja2dyb3VuZFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1zZWN0aW9uJykuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZSkgPT4ge1xuICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgIHVuc2VsZWN0QWxsKCk7XG5cbiAgICBzaG93Q29udGV4dE1lbnUoXG4gICAgICAnZGVmYXVsdCcsIFxuICAgICAgKDxNb3VzZUV2ZW50PiBlKS5jbGllbnRYLCBcbiAgICAgICg8TW91c2VFdmVudD4gZSkuY2xpZW50WVxuICAgICk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXNlY3Rpb24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChfZSkgPT4ge1xuICAgIGNvbnRleHRNZW51LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEFkZCBsaXN0ZW5lcnMgZm9yIHNwZWNpZmljIGNvbnRleHQgbWVudXMuXG4gKiBTcGVjaWZpYyBjb250ZXh0IG1lbnVzIGFwcGVhciB3aGVuIHVzZXIgcmlnaHQtY2xpY2tzIG9uIHNlbGVjdGVkIGZpbGVzL2ZvbGRlcnMuXG4gKiBUaGUgYWN0dWFsIG1lbnUgdGhhdCBpcyBzaG93biBkZXBlbmRzIG9uIHRoZSB0eXBlIG9mIHNlbGVjdGlvbi5cbiAqL1xuZnVuY3Rpb24gYWRkU3BlY2lmaWNDb250ZXh0TWVudUxpc3RlbmVycyh0aWxlLCBpbmRleCkge1xuXG4gIC8vIHJpZ2h0LWNsaWNrIG9uIGZvbGRlciBpdGVtIChmaWxlIG9yIGZvbGRlcilcbiAgdGlsZS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICBpZiAocmlnaHRDbGlja2VkIHx8IHN0YXRlLmdldFNlbGVjdGVkRW50cmllcygpLmxlbmd0aCA9PT0gMSkge1xuICAgICAgdW5zZWxlY3RBbGwoKTtcbiAgICB9XG5cbiAgICAvLyBzZWxlY3RcbiAgICBzZWxlY3QoaW5kZXgpO1xuXG4gICAgc2hvd0NvbnRleHRNZW51KFxuICAgICAgJ3NlbGVjdGlvbi1vcHRpb25zJywgXG4gICAgICAoPE1vdXNlRXZlbnQ+IGUpLmNsaWVudFgsIFxuICAgICAgKDxNb3VzZUV2ZW50PiBlKS5jbGllbnRZXG4gICAgKTtcbiAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICByaWdodENsaWNrZWQgPSB0cnVlO1xuICB9KTtcbiAgICBcbiAgLy8gaGlkZSBjb250ZXh0IG1lbnUgaWYgdXNlciBjbGlja3MgYXdheVxuICBtYWluU2VjdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgaWYgKHJpZ2h0Q2xpY2tlZCkge1xuICAgICAgbGV0IGNsaWNrZWRFbGVtZW50ID0gZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICBpZiAoY2xpY2tlZEVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RvY3VtZW50LWVudHJ5JykpIHtcbiAgICAgICAgY2xpY2tlZEVsZW1lbnQgPSBjbGlja2VkRWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICAgICAgfVxuICAgICAgXG4gICAgICBjb250ZXh0TWVudS5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHJpZ2h0Q2xpY2tlZCA9IGZhbHNlO1xuICAgICAgaWYgKCFjbGlja2VkRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RvY3VtZW50LWVudHJ5JykpIHtcbiAgICAgICAgLy8gaWYgY2xpY2tzIG9uIGJsYW5rIFxuICAgICAgICB1bnNlbGVjdEFsbCgpO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIC8vIGlmIGNsaWNrcyBvbiBhIGZpbGUvZm9sZGVyLCBzZWxlY3QgaXRcbiAgICAgICAgY29uc3QgY2xpY2tlZEVudHJ5ID0gZ2V0RW50cnlCeUlkKGNsaWNrZWRFbGVtZW50LmlkKTtcbiAgICAgICAgc2hpZnRTZWxlY3Rpb25IYW5kbGVyKHN0YXRlLmdldEluZGV4QnlFbnRyeU5hbWUoY2xpY2tlZEVudHJ5Lm5hbWUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgVHJhc2ggZm9sZGVyIGJ5IGRlbGV0aW5nIGVudHJpZXMgdGhhdCB3ZXJlIGRlbGV0ZWQgMzAgZGF5cyBhZ29cbiAqL1xuZnVuY3Rpb24gdXBkYXRlVHJhc2gocm9vdDogSUZvbGRlcik6IHZvaWQge1xuICBpZiAoIXN0YXRlLmdldFRyYXNoRm9sZGVyKCkpIHtcbiAgICBmc20ubmV3VHJhc2gocm9vdCk7XG4gIH1cbiAgY29uc3QgdHJhc2hGb2xkZXIgPSBzdGF0ZS5nZXRUcmFzaEZvbGRlcigpO1xuICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG4gIGNvbnN0IHRoaXJ0eURheXNBZ28gPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5nZXRUaW1lKCkgLSAzMCAqIDI0ICogNjAgKiA2MCAqIDEwMDApOyAvLyAzMCBkYXlzIGluIG1pbGxpc2Vjb25kc1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiBhbiBlbnRyeSB3YXMgZGVsZXRlZCAzMCBkYXlzIGFnb1xuICBjb25zdCB0b0RlbGV0ZSA9IChlbnRyeTogSUVudHJ5KTogYm9vbGVhbiA9PiB7XG4gICAgaWYgKGVudHJ5Lm1ldGFkYXRhICYmIGVudHJ5Lm1ldGFkYXRhWydyZW1vdmVkX29uJ10pIHtcbiAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZShlbnRyeS5tZXRhZGF0YVsncmVtb3ZlZF9vbiddIGFzIHN0cmluZyk7XG4gICAgICByZXR1cm4gZGF0ZSA8PSB0aGlydHlEYXlzQWdvO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG5cbiAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBlbnRyaWVzIGluIHRoZSBUcmFzaFxuICB0cmFzaEZvbGRlci5jaGlsZHJlbi5mb3JFYWNoKChlbnRyeSkgPT4ge1xuICAgIGlmICh0b0RlbGV0ZShlbnRyeSkpIHtcbiAgICAgIC8vIERlbGV0ZSBlbnRyeSBpZiBkZWxldGVkIDMwIGRheXMgYWdvXG4gICAgICBpZiAoZW50cnkudHlwZSA9PT0gJ2ZpbGUnKSB7XG4gICAgICAgIGRlbGV0ZUZpbGVFbnRyeShlbnRyeSBhcyBJRmlsZSwgdHJhc2hGb2xkZXIpO1xuICAgICAgfSBlbHNlIGlmIChlbnRyeS50eXBlID09PSAnZm9sZGVyJykge1xuICAgICAgICBkZWxldGVGb2xkZXJFbnRyeShlbnRyeSBhcyBJRm9sZGVyLCB0cmFzaEZvbGRlcik7IFxuICAgICAgfVxuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogTG9hZHMgcm9vdCBmb2xkZXIgaW50byBkYXNoYm9hcmQgb24gc3RhcnR1cC4gXG4gKi9cbmV4cG9ydCBjb25zdCBsb2FkRGFzaGJvYXJkID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICBjb25zdCByb290ID0gYXdhaXQgZnNtLmdldFJvb3QoKTtcbiAgc3RhdGUucm9vdChyb290KTtcbiAgdXBkYXRlVHJhc2gocm9vdCk7XG4gIHVwZGF0ZURhc2hib2FyZChbcm9vdF0pO1xuICBpbml0aWFsaXplRGVmYXVsdENvbnRleHRNZW51KCk7XG59OyIsImltcG9ydCB7IGxvYWREYXNoYm9hcmQgfSBmcm9tICcuLi8uLi9zcmMvRGFzaGJvYXJkL0Rhc2hib2FyZCc7XG5cbmxvYWREYXNoYm9hcmQoKTtcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNob21lLWxpbmsnKT8uc2V0QXR0cmlidXRlKCdocmVmJywgX19MSU5LX0xPQ0FUSU9OX18pOyIsImV4cG9ydCBlbnVtIEVudHJ5VHlwZSB7XG4gIEZvbGRlciA9ICdmb2xkZXInLFxuICBUcmFzaCA9ICd0cmFzaCcsXG4gIEZpbGUgPSAnZmlsZSdcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRW50cnkge1xuICBuYW1lOiBzdHJpbmc7XG4gIHR5cGU6IEVudHJ5VHlwZTtcbiAgaWQ6IHN0cmluZztcbiAgY2hpbGRyZW46IElFbnRyeVtdO1xuICBtZXRhZGF0YTogeyBba2V5OiBzdHJpbmddOiB1bmtub3duIH07XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgSUZvbGRlciBleHRlbmRzIElFbnRyeSB7XG4gIHR5cGU6IEVudHJ5VHlwZS5Gb2xkZXIgfCBFbnRyeVR5cGUuVHJhc2g7XG4gIGlkOiBzdHJpbmc7XG4gIGNoaWxkcmVuOiBJRW50cnlbXTtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBJRmlsZSBleHRlbmRzIElFbnRyeSB7XG4gIHR5cGU6IEVudHJ5VHlwZS5GaWxlXG4gIGlkOiBzdHJpbmc7XG59IiwiaW1wb3J0IHsgRW50cnlUeXBlLCBJRW50cnksIElGb2xkZXIsIElGaWxlIH0gZnJvbSAnLic7XG5pbXBvcnQgeyB1dWlkdjQgfSBmcm9tICcuLi8uLi91dGlscy9yYW5kb20nO1xuXG4vKlxuKiAgIEZpbGUgU3lzdGVtIEZ1bmN0aW9ucyB0aGF0IGFyZSB1c2VkIHRvIGNyZWF0ZSwgbW92ZSwgYW5kIGRlbGV0ZSBmaWxlIHN5c3RlbSBlbnRyaWVzXG4qICAgRG9lcyBub3QgZGVwZW5kIG9uIHN0YXRlIFxuKi9cblxuaW50ZXJmYWNlIHJlc3BvbnNlUHJvcCB7XG4gIHN1Y2NlZWRlZDogYm9vbGVhbixcbiAgZXJyb3I6IHN0cmluZyxcbn1cblxuY29uc3QgY3JlYXRlRW50cnkgPSAobmFtZTogc3RyaW5nLCB0eXBlOiBFbnRyeVR5cGUsIGlkOiBzdHJpbmcsIGNoaWxkcmVuPzogSUVudHJ5W10pOiBJRW50cnkgPT4ge1xuICBjb25zdCBtZXRhZGF0YSA9IHt9O1xuICBpZiAodHlwZSA9PT0gRW50cnlUeXBlLkZpbGUpIHJldHVybiB7IG5hbWUsIHR5cGUsIGlkLCBtZXRhZGF0YSB9IGFzIElFbnRyeTtcbiAgZWxzZSByZXR1cm4geyBuYW1lLCB0eXBlLCBpZCwgY2hpbGRyZW4sIG1ldGFkYXRhIH0gYXMgSUVudHJ5O1xufTtcblxuY29uc3QgY3JlYXRlRm9sZGVyID0gKG5hbWU6IHN0cmluZyk6IElGb2xkZXIgPT4ge1xuICByZXR1cm4gY3JlYXRlRW50cnkobmFtZSwgRW50cnlUeXBlLkZvbGRlciwgdXVpZHY0KCksIFtdKSBhcyBJRm9sZGVyO1xufTtcblxuY29uc3QgY3JlYXRlVHJhc2ggPSAobmFtZTogc3RyaW5nKTogSUZvbGRlciA9PiB7XG4gIHJldHVybiBjcmVhdGVFbnRyeShuYW1lLCBFbnRyeVR5cGUuVHJhc2gsIHV1aWR2NCgpLCBbXSkgYXMgSUZvbGRlcjtcbn07XG5cbmNvbnN0IGNyZWF0ZUZpbGUgPSAobmFtZTogc3RyaW5nLCBpZDogc3RyaW5nKTogSUZpbGUgPT4ge1xuICByZXR1cm4gY3JlYXRlRW50cnkobmFtZSwgRW50cnlUeXBlLkZpbGUsIGlkKSBhcyBJRmlsZTtcbn07XG5cbmZ1bmN0aW9uIGFkZE1ldGFkYXRhKGVudHJ5OiBJRW50cnksIG1ldGFkYXRhOiBSZWNvcmQ8c3RyaW5nLCB1bmtub3duPik6IElFbnRyeSB7XG4gIE9iamVjdC5lbnRyaWVzKG1ldGFkYXRhKS5mb3JFYWNoKChba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBlbnRyeS5tZXRhZGF0YVtrZXldID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gZW50cnk7XG59XG5cbmZ1bmN0aW9uIHJlbW92ZU1ldGFkYXRhKGVudHJ5OiBJRW50cnksIGtleXM6IHN0cmluZ1tdKTogSUVudHJ5IHtcbiAga2V5cy5mb3JFYWNoKChrZXkpID0+IHtcbiAgICBkZWxldGUgZW50cnkubWV0YWRhdGFba2V5XTtcbiAgfSk7XG4gIHJldHVybiBlbnRyeTtcbn1cblxuLyoqXG4gKiBDaGVja3MgaWYgZW50cnkgY2FuIGJlIGFkZGVkIHRvIHBhcmVudCBmb2xkZXJcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcmV0dXJucyByZXNwb25zZSBvYmplY3QgeyBzdWNjZWVkZWQ6IGJvb2xlYW4sIGVycm9yOiBzdHJpbmcgfVxuICovXG5jb25zdCBjYW5BZGRFbnRyeSA9IChlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIpOiByZXNwb25zZVByb3AgPT4ge1xuICBjb25zdCBuYW1lRXhpc3RzID0gcGFyZW50LmNoaWxkcmVuLnNvbWUoKGUpID0+IGUubmFtZSA9PT0gZW50cnkubmFtZSk7XG4gIGNvbnN0IGlzSW1tdXRhYmxlID0gcGFyZW50Lm1ldGFkYXRhWydpbW11dGFibGUnXTtcblxuICBjb25zdCByZXR1cm5PYmogPSB7IHN1Y2NlZWRlZDogZmFsc2UsIGVycm9yOiAnJyB9O1xuICBpZiAobmFtZUV4aXN0cykgICAgICAgcmV0dXJuT2JqLmVycm9yID0gYER1cGxpY2F0ZSBuYW1lOiAke2VudHJ5Lm5hbWV9IGFscmVhZHkgZXhpc3RzIGluICR7cGFyZW50Lm5hbWV9LmA7XG4gIGVsc2UgaWYgKGlzSW1tdXRhYmxlKSAgcmV0dXJuT2JqLmVycm9yID0gYCR7cGFyZW50Lm5hbWV9IGlzIGltbXV0YWJsZS5gO1xuICBlbHNlIHJldHVybk9iai5zdWNjZWVkZWQgPSB0cnVlO1xuXG4gIHJldHVybiByZXR1cm5PYmo7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBlbnRyeSBjYW4gYmUgcmVtb3ZlZCBmcm9tIHBhcmVudCBmb2xkZXJcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcmV0dXJucyByZXNwb25zZSBvYmplY3QgeyBzdWNjZWVkZWQ6IGJvb2xlYW4sIGVycm9yPzogc3RyaW5nIH1cbiAqL1xuY29uc3QgY2FuUmVtb3ZlRW50cnkgPSAoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyKTogcmVzcG9uc2VQcm9wID0+IHtcbiAgY29uc3QgaWR4ID0gcGFyZW50LmNoaWxkcmVuLmZpbmRJbmRleCgoZSkgPT4gZS5pZCA9PT0gZW50cnkuaWQpO1xuICBjb25zdCBleGlzdHNJblBhcmVudCA9IGlkeCAhPT0gLTE7XG4gIGNvbnN0IGlzSW1tdXRhYmxlUGFyZW50ID0gcGFyZW50Lm1ldGFkYXRhWydpbW11dGFibGUnXTtcbiAgY29uc3QgaXNJbW11dGFibGVFbnRyeSA9IGVudHJ5Lm1ldGFkYXRhWydpbW11dGFibGUnXTtcblxuICBjb25zdCByZXR1cm5PYmogPSB7IHN1Y2NlZWRlZDogZmFsc2UsIGVycm9yOiAnJyB9O1xuICBpZiAoIWV4aXN0c0luUGFyZW50KSAgICAgICAgICAgIHJldHVybk9iai5lcnJvciA9IGAke2VudHJ5Lm5hbWV9IGRvZXMgbm90IGV4aXN0IGluICR7cGFyZW50Lm5hbWV9LmA7XG4gIGVsc2UgaWYgKGlzSW1tdXRhYmxlUGFyZW50KSAgICAgcmV0dXJuT2JqLmVycm9yID0gYCR7cGFyZW50Lm5hbWV9IGlzIGltbXV0YWJsZS5gO1xuICBlbHNlIGlmIChpc0ltbXV0YWJsZUVudHJ5KSAgICAgIHJldHVybk9iai5lcnJvciA9IGAke2VudHJ5Lm5hbWV9IGlzIGltbXV0YWJsZS5gO1xuICBlbHNlIHJldHVybk9iai5zdWNjZWVkZWQgPSB0cnVlO1xuXG4gIHJldHVybiByZXR1cm5PYmo7XG59O1xuXG4vKipcbiAqIENoZWNrcyBpZiBlbnRyeSBjYW4gYmUgbW92ZWQgZnJvbSBwYXJlbnQgdG8gbmV3UGFyZW50IChubyBkdXBsaWNhdGUsIG11dGFibGUgcGFyZW50cywgZW50cnkgZXhpc3RzKVxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudCBcbiAqIEBwYXJhbSBuZXdQYXJlbnQgXG4gKiBAcmV0dXJucyByZXNwb25zZSBvYmplY3QgeyBzdWNjZWVkZWQ6IGJvb2xlYW4sIGVycm9yOiBzdHJpbmcgfVxuICovXG5jb25zdCBjYW5Nb3ZlRW50cnkgPSAoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyLCBuZXdQYXJlbnQ6IElGb2xkZXIpOiByZXNwb25zZVByb3AgPT4ge1xuICAvLyBpcyBBIGEgY2hpbGQgb2YgQlxuICBmdW5jdGlvbiBpc0NoaWxkT2YoYTogSUVudHJ5LCBiOiBJRm9sZGVyKSB7XG4gICAgcmV0dXJuIGIuY2hpbGRyZW5cbiAgICAgIC5maWx0ZXIoKGUpID0+IGUudHlwZSA9PT0gRW50cnlUeXBlLkZvbGRlcilcbiAgICAgIC5tYXAoKGM6IElGb2xkZXIpID0+IHtcbiAgICAgICAgaWYgKGMgPT09IGEpIHJldHVybiB0cnVlO1xuICAgICAgICBlbHNlIHJldHVybiBpc0NoaWxkT2YoYSwgYyk7XG4gICAgICB9KVxuICAgICAgLnNvbWUoKGUpID0+IGUgPT09IHRydWUpO1xuICB9XG4gICAgXG4gIGNvbnN0IGlzU2FtZSA9IGVudHJ5ID09PSBuZXdQYXJlbnQ7XG4gIGNvbnN0IG5hbWVFeGlzdHMgPSBuZXdQYXJlbnQuY2hpbGRyZW4uc29tZSgoZSkgPT4gZS5uYW1lID09PSBlbnRyeS5uYW1lKTtcbiAgY29uc3QgaXNJbW11dGFibGVQYXJlbnQgPSBwYXJlbnQubWV0YWRhdGFbJ2ltbXV0YWJsZSddO1xuICBjb25zdCBpc0ltbXV0YWJsZU5ld1BhcmVudCA9IG5ld1BhcmVudC5tZXRhZGF0YVsnaW1tdXRhYmxlJ107XG4gIGNvbnN0IGV4aXN0c0luUGFyZW50ID0gcGFyZW50LmNoaWxkcmVuLmZpbmRJbmRleCgoZSkgPT4gZS5pZCA9PT0gZW50cnkuaWQpICE9PSAtMTtcbiAgLy8gaWYgZW50cnkgaXMgYSBmb2xkZXIsIGNoZWNrIGlmIG5ld1BhcmVudCBpcyBhIHN1YmZvbGRlciBvZiBlbnRyeVxuICBjb25zdCBuZXdQYXJlbnRJc0NoaWxkT2ZFbnRyeSA9IChlbnRyeS50eXBlID09IEVudHJ5VHlwZS5Gb2xkZXIpID8gaXNDaGlsZE9mKG5ld1BhcmVudCwgZW50cnkgYXMgSUZvbGRlcikgOiBmYWxzZTtcblxuXG4gIGNvbnN0IHJldHVybk9iaiA9IHsgc3VjY2VlZGVkOiBmYWxzZSwgZXJyb3I6ICcnIH07XG4gIGlmIChpc1NhbWUpICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybk9iai5lcnJvciA9IGBDYW5ub3QgbW92ZSAke2VudHJ5Lm5hbWV9IHRvIGl0c2VsZi5gO1xuICBlbHNlIGlmIChuYW1lRXhpc3RzKSAgICAgICAgICAgICAgIHJldHVybk9iai5lcnJvciA9IGBEdXBsaWNhdGUgbmFtZTogJHtlbnRyeS5uYW1lfSBhbHJlYWR5IGV4aXN0cyBpbiAke25ld1BhcmVudC5uYW1lfS5gO1xuICBlbHNlIGlmIChpc0ltbXV0YWJsZVBhcmVudCkgICAgICAgICByZXR1cm5PYmouZXJyb3IgPSBgJHtwYXJlbnQubmFtZX0gaXMgaW1tdXRhYmxlLmA7XG4gIGVsc2UgaWYgKGlzSW1tdXRhYmxlTmV3UGFyZW50KSAgICAgIHJldHVybk9iai5lcnJvciA9IGAke25ld1BhcmVudC5uYW1lfSBpcyBpbW11dGFibGUuYDtcbiAgZWxzZSBpZiAoIWV4aXN0c0luUGFyZW50KSAgICAgICAgICAgcmV0dXJuT2JqLmVycm9yID0gYCR7ZW50cnkubmFtZX0gZG9lcyBub3QgZXhpc3QgaW4gJHtwYXJlbnQubmFtZX0uYDtcbiAgZWxzZSBpZiAobmV3UGFyZW50SXNDaGlsZE9mRW50cnkpICAgcmV0dXJuT2JqLmVycm9yID0gYENhbm5vdCBtb3ZlICR7ZW50cnkubmFtZX0gaW50byBhIGl0cyBvd24gc3ViZm9sZGVyLCAke25ld1BhcmVudC5uYW1lfS5gO1xuICBlbHNlIHJldHVybk9iai5zdWNjZWVkZWQgPSB0cnVlO1xuICAgIFxuICByZXR1cm4gcmV0dXJuT2JqO1xufTtcblxuLyoqXG4gKiBDaGVja3MgaWYgZW50cnkgY2FuIGJlIHJlbmFtZWQgKG5vIGR1cGxpY2F0ZSlcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcGFyYW0gbmV3TmFtZSBcbiAqIEByZXR1cm5zIHJlc3BvbnNlIG9iamVjdCB7IHN1Y2NlZWRlZDogYm9vbGVhbiwgZXJyb3I6IHN0cmluZyB9XG4gKi9cbmNvbnN0IGNhblJlbmFtZUVudHJ5ID0gKGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlciwgbmV3TmFtZTogc3RyaW5nKTogcmVzcG9uc2VQcm9wID0+IHtcbiAgLy8gQ2hlY2sgaWYgbmV3TmFtZSBhbHJlYWR5IGV4aXN0cyBpbiBwYXJlbnRcbiAgY29uc3QgbmFtZUV4aXN0cyA9IHBhcmVudC5jaGlsZHJlbi5zb21lKChlLCBpZHgsIGFycikgPT4gZS5uYW1lID09PSBlbnRyeS5uYW1lICYmIGlkeCAhPT0gYXJyLmluZGV4T2YoZSkpO1xuICAgIFxuICBjb25zdCByZXR1cm5PYmogPSB7IHN1Y2NlZWRlZDogZmFsc2UsIGVycm9yOiAnJyB9O1xuICBpZiAobmFtZUV4aXN0cykgcmV0dXJuT2JqLmVycm9yID0gYER1cGxpY2F0ZSBuYW1lOiAke25ld05hbWV9IGFscmVhZHkgZXhpc3RzIGluICR7cGFyZW50Lm5hbWV9LmA7XG4gIGVsc2UgcmV0dXJuT2JqLnN1Y2NlZWRlZCA9IHRydWU7XG5cbiAgcmV0dXJuIHJldHVybk9iajtcbn07XG5cbi8qKlxuICogQWRkcyBlbnRyeSB0byBwYXJlbnQgZm9sZGVyXG4gKiBAcGFyYW0gZW50cnlcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcmV0dXJucyB0cnVlIGlmIGFkZGVkLCBlbHNlIGZhbHNlXG4gKi9cbmNvbnN0IGFkZEVudHJ5ID0gKGVudHJ5OiBJRW50cnksIHBhcmVudDogSUZvbGRlcik6IGJvb2xlYW4gPT4ge1xuICBjb25zdCB7IHN1Y2NlZWRlZCwgZXJyb3IgfSA9IGNhbkFkZEVudHJ5KGVudHJ5LCBwYXJlbnQpO1xuICBpZiAoc3VjY2VlZGVkKSB7XG4gICAgLy8gQWRkIGVudHJ5IHRvIHBhcmVudCwgc29ydCBieSBhbHBoYW51bWVyaWNhbCBhbmQgZm9sZGVycyBiZWZvcmUgZmlsZXNcbiAgICBwYXJlbnQuY2hpbGRyZW4ucHVzaChlbnRyeSk7XG4gICAgc29ydEZvbGRlcihwYXJlbnQpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiBSZW1vdmVzIGVudHJ5IGZyb20gcGFyZW50IGZvbGRlclxuICogQHBhcmFtIGVudHJ5IFxuICogQHBhcmFtIHBhcmVudCBcbiAqIEBwYXJhbSBmb3JjZSBmb3JjZSBhIHJlbW92YWxcbiAqIEByZXR1cm5zIHRydWUgaWYgcmVtb3ZlZCwgZWxzZSBmYWxzZVxuICovXG5jb25zdCByZW1vdmVFbnRyeSA9IChlbnRyeTogSUVudHJ5LCBwYXJlbnQ6IElGb2xkZXIsIGZvcmNlPWZhbHNlKTogYm9vbGVhbiA9PiB7XG4gIGNvbnN0IHsgc3VjY2VlZGVkLCBlcnJvciB9ID0gY2FuUmVtb3ZlRW50cnkoZW50cnksIHBhcmVudCk7XG4gIGlmIChzdWNjZWVkZWQgfHwgZm9yY2UpIHtcbiAgICBjb25zdCBpZHggPSBwYXJlbnQuY2hpbGRyZW4uaW5kZXhPZihlbnRyeSk7XG4gICAgcGFyZW50LmNoaWxkcmVuLnNwbGljZShpZHgsIDEpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuLyoqXG4gKiBNb3ZlcyBlbnRyeSBmcm9tIHBhcmVudCB0byBuZXdQYXJlbnRcbiAqIEBwYXJhbSBlbnRyeSBcbiAqIEBwYXJhbSBwYXJlbnQgXG4gKiBAcGFyYW0gbmV3UGFyZW50IFxuICogQHJldHVybnMgdHJ1ZSBpZiBtb3ZlZCwgZWxzZSBmYWxzZVxuICovXG5mdW5jdGlvbiBtb3ZlRW50cnkoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyLCBuZXdQYXJlbnQ6IElGb2xkZXIpOiBib29sZWFuIHtcbiAgY29uc3QgbW92ZVJlc3BvbnNlID0gY2FuTW92ZUVudHJ5KGVudHJ5LCBwYXJlbnQsIG5ld1BhcmVudCk7XG5cbiAgaWYgKG1vdmVSZXNwb25zZS5zdWNjZWVkZWQpIHtcbiAgICBjb25zdCByZW1vdmVkID0gcmVtb3ZlRW50cnkoZW50cnksIHBhcmVudCwgdHJ1ZSk7XG4gICAgaWYgKHJlbW92ZWQpIHtcbiAgICAgIGNvbnN0IGFkZGVkID0gYWRkRW50cnkoZW50cnksIG5ld1BhcmVudCk7XG4gICAgICBpZiAoYWRkZWQpIHJldHVybiB0cnVlO1xuICAgICAgZWxzZSBjb25zb2xlLmVycm9yKGBNb3Zpbmc6IGZhaWxlZCB0byBhZGQgJHtlbnRyeS5uYW1lfSB0byAke25ld1BhcmVudC5uYW1lfWApO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYE1vdmluZzogZmFpbGVkIHRvIHJlbW92ZSAke2VudHJ5Lm5hbWV9IGZyb20gJHtwYXJlbnQubmFtZX1gKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihtb3ZlUmVzcG9uc2UuZXJyb3IpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuLyoqXG4gKiBSZW5hbWVzIGVudHJ5XG4gKiBAcGFyYW0gZW50cnkgXG4gKiBAcGFyYW0gcGFyZW50IFxuICogQHBhcmFtIG5ld05hbWUgXG4gKiBAcmV0dXJucyB0cnVlIGlmIHJlbmFtZWQsIGVsc2UgZmFsc2VcbiAqL1xuY29uc3QgcmVuYW1lRW50cnkgPSAoZW50cnk6IElFbnRyeSwgcGFyZW50OiBJRm9sZGVyLCBuZXdOYW1lOiBzdHJpbmcpOiBib29sZWFuID0+IHtcbiAgY29uc3QgeyBzdWNjZWVkZWQsIGVycm9yIH0gPSBjYW5SZW5hbWVFbnRyeShlbnRyeSwgcGFyZW50LCBuZXdOYW1lKTtcblxuICBpZiAoc3VjY2VlZGVkKSB7XG4gICAgZW50cnkubmFtZSA9IG5ld05hbWU7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcihlcnJvcik7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5jb25zdCBnZXRBbGxOYW1lcyA9IChmb2xkZXI6IElGb2xkZXIpOiBzdHJpbmdbXSA9PiB7XG4gIGNvbnN0IG5hbWVzID0gZm9sZGVyLmNoaWxkcmVuLm1hcChlbnRyeSA9PiBlbnRyeS5uYW1lKTtcbiAgcmV0dXJuIG5hbWVzO1xufTtcblxuLyoqXG4gKiAgU29ydHMgZm9sZGVyIGJ5IGFscGhhbnVtZXJpY2FsIGFuZCBmb2xkZXJzIGJlZm9yZSBmaWxlcyBcbiAqIEBwYXJhbSBmb2xkZXIgXG4gKiBAcmV0dXJucyByZWZlcmVuY2UgdG8gc2FtZSBmb2xkZXJcbiAqL1xuZnVuY3Rpb24gc29ydEZvbGRlcihmb2xkZXI6IElGb2xkZXIpOiBJRm9sZGVyIHtcbiAgZm9sZGVyLmNoaWxkcmVuLnNvcnQoKGEsIGIpID0+IGEubmFtZS5sb2NhbGVDb21wYXJlKGIubmFtZSkpO1xuICBmb2xkZXIuY2hpbGRyZW4uc29ydCgoYSwgYikgPT4ge1xuICAgIGlmIChhLnR5cGUgPT09IEVudHJ5VHlwZS5GaWxlICYmIGIudHlwZSA9PT0gRW50cnlUeXBlLkZvbGRlcikgcmV0dXJuIDE7XG4gICAgZWxzZSBpZiAoYS50eXBlID09PSBFbnRyeVR5cGUuRm9sZGVyICYmIGIudHlwZSA9PT0gRW50cnlUeXBlLkZpbGUpIHJldHVybiAtMTtcbiAgICBlbHNlIHJldHVybiAwO1xuICB9KTtcbiAgcmV0dXJuIGZvbGRlcjtcbn1cblxuZXhwb3J0IGNvbnN0IEZpbGVTeXN0ZW1Ub29scyA9IHtcbiAgY3JlYXRlRm9sZGVyOiBjcmVhdGVGb2xkZXIsXG4gIGNyZWF0ZVRyYXNoOiBjcmVhdGVUcmFzaCxcbiAgY3JlYXRlRmlsZTogY3JlYXRlRmlsZSxcbiAgbW92ZUVudHJ5OiBtb3ZlRW50cnksXG4gIGNhbkFkZEVudHJ5OiBjYW5BZGRFbnRyeSxcbiAgY2FuUmVtb3ZlRW50cnk6IGNhblJlbW92ZUVudHJ5LFxuICBjYW5Nb3ZlRW50cnk6IGNhbk1vdmVFbnRyeSxcbiAgY2FuUmVuYW1lRW50cnk6IGNhblJlbmFtZUVudHJ5LFxuICBhZGRFbnRyeTogYWRkRW50cnksXG4gIHJlbW92ZUVudHJ5OiByZW1vdmVFbnRyeSxcbiAgYWRkTWV0YWRhdGE6IGFkZE1ldGFkYXRhLFxuICByZW1vdmVNZXRhZGF0YTogcmVtb3ZlTWV0YWRhdGEsXG4gIGdldEFsbE5hbWVzOiBnZXRBbGxOYW1lcyxcbiAgcmVuYW1lRW50cnk6IHJlbmFtZUVudHJ5LFxufTsiLCJpbXBvcnQgeyBJRm9sZGVyLCBGaWxlU3lzdGVtVG9vbHMgfSBmcm9tICcuJztcbmltcG9ydCB7IGZldGNoVXBsb2FkcyB9IGZyb20gJy4uL1N0b3JhZ2UnO1xuaW1wb3J0IHsgc2FtcGxlcyB9IGZyb20gJy4uL3NhbXBsZXNfZmlsZW5hbWVzJztcblxuaW50ZXJmYWNlIEZpbGVTeXN0ZW1Qcm9wcyB7XG4gIGdldFJvb3Q6ICgpID0+IFByb21pc2U8SUZvbGRlcj47XG4gIHNldEZpbGVTeXN0ZW06IChyb290OiBJRm9sZGVyKSA9PiBib29sZWFuO1xuICBnZXRGaWxlU3lzdGVtOiAoKSA9PiBQcm9taXNlPElGb2xkZXI+O1xuICBuZXdUcmFzaDogKHJvb3Q6IElGb2xkZXIpID0+IHZvaWQ7XG59XG4gIFxuXG4vLyBNYW5hZ2VyIGlzIHVzZWQgZm9yIGFjY2Vzc2luZyBsb2NhbCBzdG9yYWdlIGFuZCB0cmFja2luZyB0aGUgcG9zaXRpb24gb2YgY3VycmVudCBmb2xkZXJcbmV4cG9ydCBjb25zdCBGaWxlU3lzdGVtTWFuYWdlciA9ICgpOiBGaWxlU3lzdGVtUHJvcHMgPT4ge1xuXG4gIGFzeW5jIGZ1bmN0aW9uIGdldFJvb3QoKTogUHJvbWlzZTxJRm9sZGVyPiB7IFxuICAgIHJldHVybiBhd2FpdCBnZXRGaWxlU3lzdGVtKCk7XG4gIH1cblxuICAvLyBTYXZlIGZpbGVzeXN0ZW0gaW50byBsb2NhbCBzdG9yYWdlXG4gIGZ1bmN0aW9uIHNldEZpbGVTeXN0ZW0ocm9vdDogSUZvbGRlcik6IGJvb2xlYW4ge1xuICAgIHRyeSB7XG4gICAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0oJ25lb24tZnMnLCBKU09OLnN0cmluZ2lmeShyb290KSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIHdpbmRvdy5hbGVydCgnRXJyb3Igc2F2aW5nIGZpbGUgc3lzdGVtJyk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gTG9hZCBmaWxlc3lzdGVtIGZyb20gbG9jYWwgc3RvcmFnZSwgY3JlYXRlcyBuZXcgcm9vdCBpZiBub25lIGV4aXN0c1xuICBhc3luYyBmdW5jdGlvbiBnZXRGaWxlU3lzdGVtKCk6IFByb21pc2U8SUZvbGRlcj4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBmcyA9IHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnbmVvbi1mcycpO1xuICAgICAgICAgICAgXG4gICAgICAvLyBpZiBsb2NhbHN0b3JhZ2UgZXhpc3RzLCBsb2FkIHByZXZpb3VzIHJvb3RcbiAgICAgIGlmIChmcykge1xuICAgICAgICBjb25zdCBsb2NhbEZpbGVTeXN0ZW0gPSBKU09OLnBhcnNlKGZzKSBhcyBJRm9sZGVyO1xuICAgICAgICByZXR1cm4gbG9jYWxGaWxlU3lzdGVtO1xuICAgICAgfVxuICAgICAgLy8gZWxzZSwgY3JlYXRlIG5ldyByb290XG4gICAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qgcm9vdCA9IEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVGb2xkZXIoJ0hvbWUnKTtcbiAgICAgICAgbG9hZFNhbXBsZXMocm9vdCk7XG4gICAgICAgIG5ld1RyYXNoKHJvb3QpO1xuICAgICAgICBhd2FpdCBsb2FkUHJldmlvdXNVcGxvYWRzKHJvb3QpO1xuICAgICAgICBzZXRGaWxlU3lzdGVtKHJvb3QpO1xuICAgICAgICByZXR1cm4gcm9vdDtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGUpO1xuICAgICAgd2luZG93LmFsZXJ0KCdFcnJvciBsb2FkaW5nIGZpbGUgc3lzdGVtJyk7XG4gICAgfVxuICB9IFxuXG4gIC8vIFRoaXMgbmV4dCBmdW5jdGlvbiBpcyBzb2xlbHkgZm9yIGxvYWRpbmcgc2FtcGxlcyBpbnRvIHRoZSByb290IGFzIGEgZGVmYXVsdCBmb3IgTmVvblxuICBmdW5jdGlvbiBsb2FkU2FtcGxlcyhyb290OiBJRm9sZGVyKSB7XG4gICAgLy8gTWFrZSBzYW1wbGUgZW50cmllc1xuICAgIGNvbnN0IHNhbXBsZUVudHJpZXMgPSBzYW1wbGVzLm1hcCgoW25hbWUsIHR5cGVdKSA9PiB7XG4gICAgICBjb25zdCBlbnRyeSA9IEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVGaWxlKG5hbWUsIG5hbWUpO1xuICAgICAgaWYgKHR5cGUgPT09ICdmb2xpbycpIHtcbiAgICAgICAgRmlsZVN5c3RlbVRvb2xzLmFkZE1ldGFkYXRhKGVudHJ5LCB7IHR5cGU6ICdmb2xpbycsIGRvY3VtZW50OiAnc2FtcGxlJywgaW1tdXRhYmxlOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ21hbnVzY3JpcHQnKSB7XG4gICAgICAgIEZpbGVTeXN0ZW1Ub29scy5hZGRNZXRhZGF0YShlbnRyeSwgeyB0eXBlOiAnbWFudXNjcmlwdCcsIGRvY3VtZW50OiAnc2FtcGxlJywgaW1tdXRhYmxlOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGVudHJ5O1xuICAgIH0pO1xuXG4gICAgLy8gTWFrZSBzYW1wbGVzIGZvbGRlciBhbmQgYWRkIHRvIHJvb3RcbiAgICBjb25zdCBzYW1wbGVzRm9sZGVyID0gRmlsZVN5c3RlbVRvb2xzLmNyZWF0ZUZvbGRlcignU2FtcGxlcycpO1xuICAgIC8vIEFkZCBzYW1wbGUgZW50cmllcyB0byBzYW1wbGVzIGZvbGRlclxuICAgIHNhbXBsZUVudHJpZXMuZm9yRWFjaCgoc2FtcGxlKSA9PiB7XG4gICAgICBGaWxlU3lzdGVtVG9vbHMuYWRkRW50cnkoc2FtcGxlLCBzYW1wbGVzRm9sZGVyKTtcbiAgICB9KTtcbiAgICBGaWxlU3lzdGVtVG9vbHMuYWRkRW50cnkoc2FtcGxlc0ZvbGRlciwgcm9vdCk7XG4gICAgRmlsZVN5c3RlbVRvb2xzLmFkZE1ldGFkYXRhKHNhbXBsZXNGb2xkZXIsIHsgaW1tdXRhYmxlOiB0cnVlIH0pO1xuXG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cblxuICBmdW5jdGlvbiBuZXdUcmFzaChyb290OiBJRm9sZGVyKSB7XG4gICAgY29uc3QgdHJhc2hGb2xkZXIgPSBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlVHJhc2goJ1RyYXNoJyk7XG4gICAgRmlsZVN5c3RlbVRvb2xzLmFkZEVudHJ5KHRyYXNoRm9sZGVyLCByb290KTtcbiAgfVxuXG4gIGFzeW5jIGZ1bmN0aW9uIGxvYWRQcmV2aW91c1VwbG9hZHMocm9vdDogSUZvbGRlcikge1xuICAgIC8vIEdldCBwcmV2aW91cyB1cGxvYWRzIGZyb20gbG9jYWwgc3RvcmFnZVxuICAgIGNvbnN0IHVwbG9hZHMgPSBhd2FpdCBmZXRjaFVwbG9hZHMoKTtcblxuICAgIC8vIE1ha2UgdXBsb2FkIGVudHJpZXNcbiAgICBjb25zdCB1cGxvYWRFbnRyaWVzID0gdXBsb2Fkcy5tYXAoKHVwbG9hZCkgPT4ge1xuICAgICAgcmV0dXJuIEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVGaWxlKHVwbG9hZC5uYW1lLCB1cGxvYWQuaWQpO1xuICAgIH0pO1xuXG4gICAgdXBsb2FkRW50cmllcy5mb3JFYWNoKCh1cGxvYWQpID0+IHtcbiAgICAgIEZpbGVTeXN0ZW1Ub29scy5hZGRFbnRyeSh1cGxvYWQsIHJvb3QpO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cblxuICBjb25zdCBGaWxlU3lzdGVtUHJvcHM6IEZpbGVTeXN0ZW1Qcm9wcyA9IHtcbiAgICBnZXRSb290OiBnZXRSb290LFxuICAgIHNldEZpbGVTeXN0ZW06IHNldEZpbGVTeXN0ZW0sXG4gICAgZ2V0RmlsZVN5c3RlbTogZ2V0RmlsZVN5c3RlbSxcbiAgICBuZXdUcmFzaDogbmV3VHJhc2gsXG4gIH07XG5cbiAgcmV0dXJuIEZpbGVTeXN0ZW1Qcm9wcztcbn07IiwiZXhwb3J0IGNvbnN0IHNhbXBsZXMgPSBbXG4gIFsnQ0ROLUhzbXVfTTIxNDkuTDRfMDAxcicsICdmb2xpbyddLFxuICBbJ0NETi1Ic211X00yMTQ5Lkw0XzAwMnInLCAnZm9saW8nXSxcbiAgWydDSC1FXzYxMV8wMjRyJywgJ2ZvbGlvJ10sXG4gIFsnQ0gtRV82MTFfMDI2cicsICdmb2xpbyddLFxuICBbJ0NILUVfNjExXzAyOHInLCAnZm9saW8nXSxcbiAgWydTYWx6aW5uZXMnLCAnbWFudXNjcmlwdCddXG5dOyIsImltcG9ydCB7IElFbnRyeSwgSUZvbGRlciB9IGZyb20gJy4vRmlsZVN5c3RlbSc7XG5cbmV4cG9ydCBjbGFzcyBTaGlmdFNlbGVjdGlvbk1hbmFnZXIge1xuICBwcml2YXRlIHN0YXJ0OiBudW1iZXI7XG4gIHByaXZhdGUgZW5kOiBudW1iZXI7XG4gIHByaXZhdGUgcHJldlNlbGVjdGlvbjogbnVtYmVyW10gPSBbXTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcHVibGljIHNldFN0YXJ0KHN0YXJ0OiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5zdGFydCA9IE1hdGgubWF4KHN0YXJ0LCAwKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRFbmQoZW5kOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLmVuZCA9IGVuZDtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpOiB2b2lkIHtcbiAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICB0aGlzLmVuZCA9IC0xO1xuICAgIHRoaXMucHJldlNlbGVjdGlvbi5zcGxpY2UoMCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJldlNlbGVjdGlvbigpOiBudW1iZXJbXSB7XG4gICAgcmV0dXJuIHRoaXMucHJldlNlbGVjdGlvbjtcbiAgfVxuXG4gIHB1YmxpYyBnZXRTZWxlY3Rpb24ob3JkZXJlZFNlbGVjdGlvbjogYm9vbGVhbltdKTogbnVtYmVyW10ge1xuICAgIGxldCBzdGFydDogbnVtYmVyO1xuICAgIGxldCBlbmQ6IG51bWJlcjtcblxuICAgIGlmICh0aGlzLmVuZCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZW5kIDwgdGhpcy5zdGFydCkge1xuICAgICAgc3RhcnQgPSB0aGlzLmVuZDtcbiAgICAgIGVuZCA9IHRoaXMuc3RhcnQgKyAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICAgIGVuZCA9IHRoaXMuZW5kICsgMTtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAoZW5kIC0gc3RhcnQpIH0sICh2LCBrKSA9PiBrICsgc3RhcnQpO1xuXG4gICAgLy8gRm9yIGVhY2ggc2hpZnQgc2VsZWN0aW9uIGFjdGlvbjogaWYgdGhlIFNoaWZ0IGtleSBpcyBzdGlsbCBoZWxkLCB0aGUgZW5kIHNoaWZ0IHBvcyBjYW4gY2hhbmdlXG4gICAgLy8gd2l0aCB0aGUgcHJldmlvdXNseSAoYmVmb3JlLXNoaWZ0KSBzZWxlY3RlZCBlbGVtZW50cyBzdGlsbCBzZWxlY3RlZCB3aGlsZSB0aGUgY3VycmVudCBzaGlmdCBzZWxlY3Rpb25zIHVuc2VsZWN0LlxuICAgIGNvbnN0IHNwZWNpZmljU2VsZWN0aW9uID0gcmFuZ2UuZmlsdGVyKGlkeCA9PiAhKG9yZGVyZWRTZWxlY3Rpb25baWR4XSkpO1xuICAgIHRoaXMucHJldlNlbGVjdGlvbiA9IHNwZWNpZmljU2VsZWN0aW9uO1xuICAgIHJldHVybiBzcGVjaWZpY1NlbGVjdGlvbjtcbiAgfVxufVxuXG5leHBvcnQgaW50ZXJmYWNlIERhc2hib2FyZFN0YXRlIHtcbiAgcm9vdChyb290Rm9sZGVyPzogSUZvbGRlcik6IElGb2xkZXIgfCBudWxsO1xuICBzZXRFbnRyaWVzKGVudHJpZXM6IElFbnRyeVtdKTogdm9pZDtcbiAgZ2V0RW50cmllcygpOiBJRW50cnlbXTtcbiAgZ2V0SW5kZXhCeUVudHJ5TmFtZShuYW1lOiBzdHJpbmcpOiBudW1iZXI7XG4gIHNldFNlbGVjdGlvbihpbmRleDogbnVtYmVyLCBib29sOiBib29sZWFuKTogdm9pZDtcbiAgZ2V0U2VsZWN0aW9uKCk6IGJvb2xlYW5bXTtcbiAgcmVzZXRTZWxlY3Rpb24oKTogdm9pZDtcbiAgc2V0Rm9sZGVyUGF0aChwYXRoOiBJRm9sZGVyW10pOiB2b2lkO1xuICBnZXRGb2xkZXJQYXRoKCk6IElGb2xkZXJbXTtcbiAgZ2V0Rm9sZGVyUGF0aE5hbWVzKCk6IHN0cmluZ1tdO1xuICBnZXRGb2xkZXJQYXRoQnlOYW1lcyhmb2xkZXJOYW1lczogc3RyaW5nW10pOiBJRm9sZGVyIHwgdm9pZDtcbiAgZ2V0UGFyZW50Rm9sZGVyKCk6IElGb2xkZXIgfCB1bmRlZmluZWQ7XG4gIGdldFRyYXNoRm9sZGVyKCk6IElGb2xkZXI7XG4gIGdldFNlbGVjdGVkRW50cmllcygpOiBJRW50cnlbXTtcbiAgZ2V0U2VsZWN0ZWRGb2xkZXJzKCk6IElFbnRyeVtdO1xuICBnZXRTZWxlY3RlZFRyYXNoKCk6IElFbnRyeVtdO1xuICBnZXRTZWxlY3RlZEZpbGVzKCk6IElFbnRyeVtdO1xuICBpc0luVHJhc2goKTogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRhc2hib2FyZFN0YXRlKCk6IERhc2hib2FyZFN0YXRlIHtcbiAgLy8gYXMgZGlzcGxheWVkIG9uIHRoZSBkYXNoYm9hcmRcbiAgbGV0IG9yZGVyZWRFbnRyaWVzOiBJRW50cnlbXSA9IFtdO1xuICBsZXQgb3JkZXJlZFNlbGVjdGlvbjogYm9vbGVhbltdID0gW107XG4gIC8vIGNvbnN0IGN1cnJlbnRGaWxlU2VsZWN0aW9uID0gW107IC8vIGN1cnJlbnRseSB1c2VyLXNlbGVjdGVkIGZpbGVzXG4gIC8vIGNvbnN0IGN1cnJlbnRGb2xkZXJTZWxlY3Rpb24gPSBbXTsgLy8gY3VycmVudGx5IHVzZXItc2VsZWN0ZWQgZm9sZGVyc1xuXG4gIC8vIHBhdGggbGVhZGluZyB0byBjdXJyZW50IGZvbGRlclxuICBsZXQgZm9sZGVyUGF0aDogSUZvbGRlcltdID0gW107XG4gIGxldCBfcm9vdDogSUZvbGRlciA9IG51bGw7XG5cbiAgLyoqIFxuICAgKiBTZXRzIG9yIGdldHMgdGhlIHJvb3QgZm9sZGVyXG4gICAqIEBwYXJhbSByb290Rm9sZGVyIChvcHRpb25hbCkgLSB0aGUgcm9vdCBmb2xkZXIgdG8gc2V0XG4gICAqIEByZXR1cm5zIHRoZSByb290IGZvbGRlclxuICAgKi8gXG4gIGZ1bmN0aW9uIHJvb3Qocm9vdEZvbGRlcj86IElGb2xkZXIpIHtcbiAgICBpZiAocm9vdEZvbGRlcikgX3Jvb3QgPSByb290Rm9sZGVyO1xuICAgIHJldHVybiBfcm9vdDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNldEVudHJpZXMoZW50cmllczogSUVudHJ5W10pIHtcbiAgICBvcmRlcmVkRW50cmllcyA9IGVudHJpZXM7XG4gICAgb3JkZXJlZFNlbGVjdGlvbiA9IEFycmF5KGVudHJpZXMubGVuZ3RoKS5maWxsKGZhbHNlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVudHJpZXMoKSB7XG4gICAgcmV0dXJuIG9yZGVyZWRFbnRyaWVzO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0SW5kZXhCeUVudHJ5TmFtZShuYW1lOiBzdHJpbmcpIHtcbiAgICByZXR1cm4gb3JkZXJlZEVudHJpZXMuZmluZEluZGV4KGVudHJ5ID0+IGVudHJ5Lm5hbWUgPT09IG5hbWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0U2VsZWN0aW9uKGluZGV4OiBudW1iZXIsIGJvb2w6IGJvb2xlYW4pIHtcbiAgICBvcmRlcmVkU2VsZWN0aW9uW2luZGV4XSA9IGJvb2w7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRTZWxlY3Rpb24oKSB7XG4gICAgcmV0dXJuIG9yZGVyZWRTZWxlY3Rpb247XG4gIH1cblxuICBmdW5jdGlvbiByZXNldFNlbGVjdGlvbigpIHtcbiAgICBvcmRlcmVkU2VsZWN0aW9uLmZpbGwoZmFsc2UpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2V0Rm9sZGVyUGF0aChwYXRoOiBJRm9sZGVyW10pIHtcbiAgICBmb2xkZXJQYXRoID0gcGF0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEZvbGRlclBhdGgoKSB7XG4gICAgcmV0dXJuIGZvbGRlclBhdGg7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGb2xkZXJQYXRoTmFtZXMoKSB7XG4gICAgcmV0dXJuIGZvbGRlclBhdGgubWFwKGZvbGRlciA9PiBmb2xkZXIubmFtZSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRGb2xkZXJQYXRoQnlOYW1lcyhmb2xkZXJOYW1lczogc3RyaW5nW10pOiBJRm9sZGVyIHwgdm9pZCB7XG4gICAgbGV0IGN1cnJlbnRGb2xkZXIgPSByb290KCk7XG4gICAgZm9sZGVyTmFtZXMgPSBmb2xkZXJOYW1lcy5zbGljZSgxKTtcblxuICAgIGZvciAoY29uc3QgZm9sZGVyTmFtZSBvZiBmb2xkZXJOYW1lcykge1xuICAgICAgY29uc3QgdGFyZ2V0Rm9sZGVyID0gY3VycmVudEZvbGRlci5jaGlsZHJlbi5maW5kKGNoaWxkID0+IGNoaWxkLm5hbWUgPT09IGZvbGRlck5hbWUpO1xuICAgICAgaWYgKHRhcmdldEZvbGRlciAmJiB0YXJnZXRGb2xkZXIudHlwZSA9PT0gJ2ZvbGRlcicpIHtcbiAgICAgICAgY3VycmVudEZvbGRlciA9IHRhcmdldEZvbGRlciBhcyBJRm9sZGVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZygnZmFpbGVkIHRvIGZpbmQgZm9sZGVyOiAnLCBmb2xkZXJOYW1lKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJldHVybiBjdXJyZW50Rm9sZGVyO1xuICB9XG5cblxuICBmdW5jdGlvbiBnZXRQYXJlbnRGb2xkZXIoKSB7IFxuICAgIHJldHVybiBmb2xkZXJQYXRoLmF0KC0xKTsgXG4gIH1cblxuICBmdW5jdGlvbiBnZXRUcmFzaEZvbGRlcigpIHtcbiAgICBjb25zdCB0cmFzaEZvbGRlcnMgPSByb290KCkuY2hpbGRyZW4uZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnR5cGUgPT09ICd0cmFzaCcpIGFzIElGb2xkZXJbXTtcbiAgICByZXR1cm4gdHJhc2hGb2xkZXJzWzBdO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0U2VsZWN0ZWRFbnRyaWVzKCkge1xuICAgIHJldHVybiBvcmRlcmVkRW50cmllcy5maWx0ZXIoKF8sIGlkeCkgPT4gb3JkZXJlZFNlbGVjdGlvbltpZHhdKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkRm9sZGVycygpIHtcbiAgICByZXR1cm4gZ2V0U2VsZWN0ZWRFbnRyaWVzKCkuZmlsdGVyKGVudHJ5ID0+IGVudHJ5LnR5cGUgPT09ICdmb2xkZXInKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkVHJhc2goKSB7XG4gICAgcmV0dXJuIGdldFNlbGVjdGVkRW50cmllcygpLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50eXBlID09PSAndHJhc2gnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFNlbGVjdGVkRmlsZXMoKSB7XG4gICAgcmV0dXJuIGdldFNlbGVjdGVkRW50cmllcygpLmZpbHRlcihlbnRyeSA9PiBlbnRyeS50eXBlID09PSAnZmlsZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gaXNJblRyYXNoKCkge1xuICAgIGNvbnN0IGlzVHJhc2hGb2xkZXIgPSAoZm9sZGVyOiBJRm9sZGVyKTogYm9vbGVhbiA9PiBmb2xkZXIudHlwZSA9PT0gJ3RyYXNoJztcbiAgICByZXR1cm4gZm9sZGVyUGF0aC5zb21lKGlzVHJhc2hGb2xkZXIpO1xuICB9XG5cbiAgLy8gVE9ETzpcbiAgLy8gZnVuY3Rpb24gc29ydEVudHJpZXMoKSB7fVxuXG4gIHJldHVybiB7XG4gICAgcm9vdDogcm9vdCxcbiAgICBzZXRFbnRyaWVzOiBzZXRFbnRyaWVzLFxuICAgIGdldEVudHJpZXM6IGdldEVudHJpZXMsXG4gICAgZ2V0SW5kZXhCeUVudHJ5TmFtZTogZ2V0SW5kZXhCeUVudHJ5TmFtZSxcbiAgICBzZXRTZWxlY3Rpb246IHNldFNlbGVjdGlvbixcbiAgICBnZXRTZWxlY3Rpb246IGdldFNlbGVjdGlvbixcbiAgICByZXNldFNlbGVjdGlvbjogcmVzZXRTZWxlY3Rpb24sXG4gICAgc2V0Rm9sZGVyUGF0aDogc2V0Rm9sZGVyUGF0aCxcbiAgICBnZXRGb2xkZXJQYXRoOiBnZXRGb2xkZXJQYXRoLFxuICAgIGdldEZvbGRlclBhdGhOYW1lczogZ2V0Rm9sZGVyUGF0aE5hbWVzLFxuICAgIGdldEZvbGRlclBhdGhCeU5hbWVzOiBnZXRGb2xkZXJQYXRoQnlOYW1lcyxcbiAgICBnZXRQYXJlbnRGb2xkZXI6IGdldFBhcmVudEZvbGRlcixcbiAgICBnZXRUcmFzaEZvbGRlcjogZ2V0VHJhc2hGb2xkZXIsXG4gICAgZ2V0U2VsZWN0ZWRFbnRyaWVzOiBnZXRTZWxlY3RlZEVudHJpZXMsXG4gICAgZ2V0U2VsZWN0ZWRGb2xkZXJzOiBnZXRTZWxlY3RlZEZvbGRlcnMsXG4gICAgZ2V0U2VsZWN0ZWRUcmFzaDogZ2V0U2VsZWN0ZWRUcmFzaCxcbiAgICBnZXRTZWxlY3RlZEZpbGVzOiBnZXRTZWxlY3RlZEZpbGVzLFxuICAgIGlzSW5UcmFzaDogaXNJblRyYXNoLFxuICB9O1xufSIsImltcG9ydCB7IE1vZGFsV2luZG93LCBNb2RhbFdpbmRvd1ZpZXcgfSBmcm9tICcuLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5pbXBvcnQgeyBhZGROZXdGaWxlcywgaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzLCBoYW5kbGVNYWtlUGFpciwgc29ydEZpbGVCeU5hbWUgfSBmcm9tICcuL1VwbG9hZFRvb2xzJztcbmltcG9ydCB7IHVwZGF0ZURhc2hib2FyZCB9IGZyb20gJy4vRGFzaGJvYXJkJztcbmltcG9ydCB7IElGb2xkZXIgfSBmcm9tICcuL0ZpbGVTeXN0ZW0nO1xuXG5hc3luYyBmdW5jdGlvbiBoYW5kbGVVcGxvYWRVcGRhdGUobW9kYWxXaW5kb3c6IE1vZGFsV2luZG93LCBjdXJyZW50Rm9sZGVyOiBJRm9sZGVyKSB7XG4gIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkaW5nX3NwaW5uZXInKTtcbiAgc3Bpbm5lci5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzKGN1cnJlbnRGb2xkZXIpXG4gICAgLnRoZW4oICgpID0+IHtcbiAgICAgIHNldFRpbWVvdXQoIGFzeW5jICgpID0+IHtcbiAgICAgICAgYXdhaXQgdXBkYXRlRGFzaGJvYXJkKCk7XG4gICAgICAgIHNwaW5uZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgICBtb2RhbFdpbmRvdy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICAgIH0sIDIwMDApO1xuICAgIH0pXG4gICAgLmNhdGNoKCAoZXJyb3IpID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdPbmUgb3IgbW9yZSB1cGxvYWRzIHJlamVjdGVkOiAnLCBlcnJvcik7XG4gICAgICBzZXRUaW1lb3V0KCBhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHVwZGF0ZURhc2hib2FyZCgpO1xuICAgICAgICBzcGlubmVyLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgICB9LCAyMDAwKTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIEluaXRVcGxvYWRBcmVhKGN1cnJlbnRGb2xkZXI6IElGb2xkZXIpOiB2b2lkIHtcbiAgLy8gZ2VuZXJhdGUgbW9kYWwgd2luZG93XG4gIGNvbnN0IG1vZGFsV2luZG93ID0gbmV3IE1vZGFsV2luZG93KCk7XG4gIG1vZGFsV2luZG93LnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEKTtcbiAgbW9kYWxXaW5kb3cub3Blbk1vZGFsV2luZG93KCk7XG5cbiAgY29uc3QgcGFpckJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWtlX3BhaXInKTtcbiAgY29uc3QgdXBsb2FkQnV0dG9uID0gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRfYnV0dG9uJyk7XG5cbiAgcGFpckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU1ha2VQYWlyKTtcbiAgdXBsb2FkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gaGFuZGxlVXBsb2FkVXBkYXRlKG1vZGFsV2luZG93LCBjdXJyZW50Rm9sZGVyKSk7XG5cbiAgLy8gcmVxdWVzdCB1c2VyIGZpbGUgc3lzdGVtIHdoZW4gY2xpY2tpbmcgb24gdXBsb2FkIGFyZWFcbiAgY29uc3QgZmlsZVNlbGVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgZmlsZVNlbGVjdG9yLnR5cGUgPSAnZmlsZSc7XG4gIGZpbGVTZWxlY3Rvci5tdWx0aXBsZSA9IHRydWU7XG4gIGZpbGVTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiBoYW5kbGVGaWxlU2VsZWN0b3JDaGFuZ2UoKSB7IFxuICAgIGNvbnN0IGZpbGVMaXN0OiBGaWxlTGlzdCA9IGZpbGVTZWxlY3Rvci5maWxlczsgXG4gICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGZpbGVMaXN0KTtcbiAgICBjb25zdCByZWplY3RGaWxlcyA9IGFkZE5ld0ZpbGVzKGZpbGVzKTtcbiAgICBpZiAocmVqZWN0RmlsZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb25zdCBmaWxlbmFtZXMgPSByZWplY3RGaWxlcy5tYXAoZmlsZSA9PiBmaWxlLm5hbWUpO1xuICAgICAgd2luZG93LmFsZXJ0KGBUaGUgZm9sbG93aW5nIGZpbGVzIGFyZSBub3QgLm1laSwgLnBuZywgLmpwZWcsIG9yIC5qc29ubGQgZmlsZXM6IFxcblxcbiR7ZmlsZW5hbWVzLmpvaW4oJ1xcbicpfWApO1xuICAgIH1cbiAgICAvLyByZW1vdmUgc2VsZWN0aW9uXG4gICAgZmlsZVNlbGVjdG9yLnZhbHVlID0gbnVsbDtcbiAgfSk7XG5cbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgY2xpY2sgYW5kIGRyYWcgYW5kIGRyb3BcbiAgY29uc3QgdXBsb2FkX2FyZWE6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luaXRpYWxfdXBsb2FkX2FyZWEnKTtcbiAgdXBsb2FkX2FyZWEub25jbGljayA9ICgpID0+IGZpbGVTZWxlY3Rvci5jbGljaygpO1xuICAvLyBhZGQgdmlzdWFsIGN1ZXMgZm9yIGRyYWdnaW5nIGZpbGVzIG92ZXIgdXBsb2FkIGFyZWFcbiAgdXBsb2FkX2FyZWEub25kcmFnbGVhdmUgPSAoKSA9PiB1cGxvYWRfYXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyJyk7IFxuICB1cGxvYWRfYXJlYS5vbmRyYWdvdmVyID0gKGV2ZW50KSA9PiB7IFxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdXBsb2FkX2FyZWEuY2xhc3NMaXN0LmFkZCgnb3ZlcicpO1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xuICB9O1xuICAvLyByZWNlaXZlIGZpbGVzIG9uY2UgZmlsZXMgYXJlIGRyb3BwZWRcbiAgdXBsb2FkX2FyZWEub25kcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB1cGxvYWRfYXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyJyk7XG4gICAgY29uc3QgZmlsZUxpc3QgPSBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGZpbGVMaXN0KTtcbiAgICBjb25zdCByZWplY3RGaWxlcyA9IGFkZE5ld0ZpbGVzKGZpbGVzKTtcbiAgICBpZiAocmVqZWN0RmlsZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb25zdCBmaWxlbmFtZXMgPSByZWplY3RGaWxlcy5tYXAoZmlsZSA9PiBmaWxlLm5hbWUpO1xuICAgICAgd2luZG93LmFsZXJ0KGBUaGUgZm9sbG93aW5nIGZpbGVzIGFyZSBub3QgLm1laSwgLnBuZywgLmpwZWcsIG9yIC5qc29ubGQgZmlsZXM6IFxcblxcbiR7ZmlsZW5hbWVzLmpvaW4oJ1xcbicpfWApO1xuICAgIH1cbiAgfTtcblxuICAvLyBMaXN0ZW5lciBmb3Igc29ydGluZyBmaWxlL2ZvbGlvXG4gIGNvbnN0IHNvcnRCeU5hbWVCdG5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNvcnRfbmFtZScpO1xuICBzb3J0QnlOYW1lQnRucy5mb3JFYWNoKHNvcnRCeU5hbWVCdG4gPT4ge1xuICAgIHNvcnRCeU5hbWVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiBzb3J0RmlsZUJ5TmFtZShzb3J0QnlOYW1lQnRuKSk7XG4gIH0pO1xufSIsImltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IFVwbG9hZEZpbGVNYW5hZ2VyIGZyb20gJy4vVXBsb2FkRmlsZU1hbmFnZXInO1xuaW1wb3J0IHsgY3JlYXRlTWFuaWZlc3QsIGFkZERvY3VtZW50IH0gZnJvbSAnLi9TdG9yYWdlJztcbmltcG9ydCB7IElGb2xkZXIsIEZpbGVTeXN0ZW1Ub29scyB9IGZyb20gJy4vRmlsZVN5c3RlbSc7XG5cbmNvbnN0IGZtID0gVXBsb2FkRmlsZU1hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcblxuLy8gU2V0IE1FSSB0ZW1wbGF0ZVxuY29uc3QgdGVtcGxhdGVQYXRoID0gJ3NhbXBsZXMvbWVpL21laV90ZW1wbGF0ZS5tZWknO1xuZm0uc2V0TWVpVGVtcGxhdGUodGVtcGxhdGVQYXRoKTtcblxuLy8gQWRkcyBuZXcgZmlsZXMgdG8gdXBsb2FkIHBhaXJpbmcgY29udGFpbmVyIGFuZCBmaWxlbWFuYWdlciwgcmV0dXJucyBsaXN0IG9mIHJlamVjdGVkIGZpbGVzXG5leHBvcnQgZnVuY3Rpb24gYWRkTmV3RmlsZXMoIGZpbGVzOiBGaWxlW10gKTogRmlsZVtdIHtcbiAgY29uc3QgbWVpX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVpX2xpc3QnKTtcbiAgY29uc3QgaW1hZ2VfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZV9saXN0Jyk7XG5cbiAgY29uc3QgcmVqZWN0RmlsZXM6IEZpbGVbXSA9IFtdO1xuICBmaWxlcy5mb3JFYWNoKCBmaWxlID0+IHtcbiAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcblxuICAgIGlmICggZXh0ID09PSAnbWVpJyApIHtcbiAgICAgIGNvbnN0IHVucGFpcmVkSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShmaWxlLm5hbWUsICdtZWknKTtcbiAgICAgIG1laV9jb250YWluZXIuYXBwZW5kQ2hpbGQodW5wYWlyZWRJdGVtKTtcbiAgICAgIGZtLmFkZEZpbGUoZmlsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCBbJ3BuZycsJ2pwZycsJ2pwZWcnXS5pbmNsdWRlcyhleHQpICkge1xuICAgICAgY29uc3QgdW5wYWlyZWRJdGVtID0gY3JlYXRlVW5wYWlyZWRJdGVtKGZpbGUubmFtZSwgJ2ltYWdlJyk7XG4gICAgICBpbWFnZV9jb250YWluZXIuYXBwZW5kQ2hpbGQodW5wYWlyZWRJdGVtKTtcbiAgICAgIGZtLmFkZEZpbGUoZmlsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCBleHQgPT09ICdqc29ubGQnICkge1xuICAgICAgLy8gLy8gcmVtb3ZlIG1hbnVzY3JpcHQgc3VwcG9ydCBmb3IgdGhlIGltbWVkaWF0ZSBmdXR1cmUhXG4gICAgICAvLyBjb25zdCBtYW51c2NyaXB0Rm9saW8gPSBjcmVhdGVNYW51c2NyaXB0Rm9saW8oZmlsZS5uYW1lKTtcbiAgICAgIC8vIG1hbnVzY3JpcHRfY29udGFpbmVyLmFwcGVuZENoaWxkKG1hbnVzY3JpcHRGb2xpbyk7XG4gICAgICAvLyBmbS5hZGRGaWxlKGZpbGUpO1xuICAgICAgLy8gZm0uYWRkTWFudXNjcmlwdChmaWxlLm5hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlamVjdEZpbGVzLnB1c2goZmlsZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlamVjdEZpbGVzO1xufSBcblxuZnVuY3Rpb24gY3JlYXRlVW5wYWlyZWRJdGVtKGZpbGVuYW1lOiBzdHJpbmcsIGdyb3VwOiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XG4gIGlmIChncm91cCAhPT0gJ21laScgJiYgZ3JvdXAgIT09ICdpbWFnZScpIHJldHVybjtcbiAgY29uc3QgcmFkaW9OYW1lID0gJ21laScgPT09IGdyb3VwID8gJ21laV9yYWRpb19ncm91cCcgOiAnaW1hZ2VfcmFkaW9fZ3JvdXAnO1xuICBjb25zdCBpZCA9IHV1aWR2NCgpO1xuXG4gIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbm9kZS5jbGFzc05hbWUgPSAndW5wYWlyZWRfaXRlbV9jb250YWluZXInO1xuXG4gIGNvbnN0IHJhZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgcmFkaW8udHlwZSA9ICdyYWRpbyc7XG4gIHJhZGlvLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9pdGVtX3JhZGlvJztcbiAgcmFkaW8ubmFtZSA9IHJhZGlvTmFtZTtcbiAgcmFkaW8udmFsdWUgPSBmaWxlbmFtZTtcbiAgcmFkaW8uaWQgPSBpZDtcblxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9pdGVtX2xhYmVsJztcbiAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBpZCk7XG5cbiAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgdGV4dC5pbm5lclRleHQgPSBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZSwgNTApO1xuICB0ZXh0LnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnbWFyZ2luLXRvcDogYXV0bzsgbWFyZ2luLWxlZnQ6IDNweDsnKTtcblxuICBjb25zdCBkZWxCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbWcnKTtcbiAgZGVsQnRuLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9kZWxfYnRuJztcbiAgZGVsQnRuLnNyYyA9IGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy91bnBhaXJlZC1yZW1vdmUtZG9jLnN2Z2A7XG4gIGRlbEJ0bi50aXRsZSA9ICdkZWxldGUnO1xuXG4gIGxhYmVsLmFwcGVuZENoaWxkKHJhZGlvKTtcbiAgbGFiZWwuYXBwZW5kQ2hpbGQodGV4dCk7XG4gIG5vZGUuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICBub2RlLmFwcGVuZENoaWxkKGRlbEJ0bik7XG5cbiAgZGVsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgbm9kZS5yZW1vdmUoKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYW5kbGVNYWtlUGFpcigpOiB2b2lkIHtcbiAgY29uc3QgcGFpcmVkX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcGFpcmVkX2xpc3QnKTtcblxuICAvLyBnZXQgYW5kIGNoZWNrIGlmIHNlbGVjdGVkIHJhZGlvIGV4aXN0c1xuICBjb25zdCBzZWxlY3RlZE1laUVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwibWVpX3JhZGlvX2dyb3VwXCJdOmNoZWNrZWQnKTtcbiAgY29uc3Qgc2VsZWN0ZWRJbWFnZUVsZW1lbnQ6IEhUTUxJbnB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwiaW1hZ2VfcmFkaW9fZ3JvdXBcIl06Y2hlY2tlZCcpO1xuICBpZiAoc2VsZWN0ZWRNZWlFbGVtZW50ID09PSBudWxsIHx8IHNlbGVjdGVkSW1hZ2VFbGVtZW50ID09PSBudWxsKSByZXR1cm47XG4gIFxuICBsZXQgbWVpX2ZpbGVuYW1lID0gc2VsZWN0ZWRNZWlFbGVtZW50LnZhbHVlO1xuICBjb25zdCBpbWFnZV9maWxlbmFtZSA9IHNlbGVjdGVkSW1hZ2VFbGVtZW50LnZhbHVlO1xuICBsZXQgaXNDcmVhdGVkID0gZmFsc2U7XG5cbiAgaWYgKHNlbGVjdGVkTWVpRWxlbWVudC52YWx1ZSA9PT0gJ2NyZWF0ZV9tZWknKXtcbiAgICBpc0NyZWF0ZWQgPSB0cnVlO1xuICAgIC8vIENoYW5nZSBleHRlbnNpb25cbiAgICBjb25zdCBmbiA9IGltYWdlX2ZpbGVuYW1lLnNwbGl0KCcuJyk7XG4gICAgaWYgKGZuLmxlbmd0aCA+IDEpIHtcbiAgICAgIGZuLnBvcCgpO1xuICAgIH1cbiAgICBmbi5wdXNoKCdtZWknKTtcblxuICAgIG1laV9maWxlbmFtZSA9IGZuLmpvaW4oJy4nKTtcbiAgICAvLyBDcmVhdGUgbmV3IE1FSSBmaWxlXG4gICAgZm0uZ2V0SW1nRGltZW5zaW9uKGltYWdlX2ZpbGVuYW1lKVxuICAgICAgLnRoZW4oKGRpbWVuc2lvbnMpID0+IHtcbiAgICAgICAgY29uc3QgeyB3aWR0aCwgaGVpZ2h0IH0gPSBkaW1lbnNpb25zO1xuICAgICAgICBjb25zdCBuZXdNZWlGaWxlID0gZm0uY3JlYXRlTWVpRmlsZShtZWlfZmlsZW5hbWUsIHdpZHRoLCBoZWlnaHQpO1xuICAgICAgICBmbS5hZGRGaWxlKG5ld01laUZpbGUpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgIH0pO1xuICB9XG4gIGNvbnN0IGZpbGVuYW1lID0gbWVpX2ZpbGVuYW1lLnN1YnN0cmluZygwLCBtZWlfZmlsZW5hbWUubGVuZ3RoLTQpO1xuICAvLyBtYWtlIGFuZCBhcHBlbmQgVUkgZWxlbWVudFxuICBjb25zdCBwYWlyZWRfZWwgPSBjcmVhdGVQYWlyZWRGb2xpbyhmaWxlbmFtZSwgbWVpX2ZpbGVuYW1lLCBpbWFnZV9maWxlbmFtZSk7XG4gIHBhaXJlZF9jb250YWluZXIuYXBwZW5kQ2hpbGQocGFpcmVkX2VsKTtcbiAgLy8gcmVmbGVjdCBpbiBmaWxlIG1hbmFnZXJcbiAgZm0uYWRkRm9saW8oZmlsZW5hbWUsIG1laV9maWxlbmFtZSwgaW1hZ2VfZmlsZW5hbWUsIGlzQ3JlYXRlZCk7XG4gIC8vIHJlbW92ZSBmcm9tIHVucGFpcmVkIG1laSBhbmQgaW1hZ2UgbGlzdHNcbiAgaWYgKCFpc0NyZWF0ZWQpIHNlbGVjdGVkTWVpRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gIHNlbGVjdGVkSW1hZ2VFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFpcmVkRm9saW8oZmlsZW5hbWU6IHN0cmluZywgbWVpX2ZpbGVuYW1lOiBzdHJpbmcsIGltYWdlX2ZpbGVuYW1lOiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XG4gIGNvbnN0IG1laV9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21laV9saXN0Jyk7XG4gIGNvbnN0IGltYWdlX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2VfbGlzdCcpO1xuXG4gIGNvbnN0IGZvbGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvbGlvLmNsYXNzTmFtZSA9ICdmb2xpb19pdGVtJztcbiAgZm9saW8uc2V0QXR0cmlidXRlKCdtZWknLCBtZWlfZmlsZW5hbWUpO1xuICBmb2xpby5zZXRBdHRyaWJ1dGUoJ2ltYWdlJywgaW1hZ2VfZmlsZW5hbWUpO1xuXG4gIGNvbnN0IGZvbGlvX2ZpbGVuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIGZvbGlvX2ZpbGVuYW1lLmNsYXNzTGlzdC5hZGQoJ2ZvbGlvLWZpbGVuYW1lJyk7XG4gIGZvbGlvX2ZpbGVuYW1lLmlubmVySFRNTCA9IGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lLCA1MCk7XG4gIGZvbGlvLmFwcGVuZENoaWxkKGZvbGlvX2ZpbGVuYW1lKTsgXG5cbiAgZnVuY3Rpb24gaGFuZGxlVW5wYWlyKCkge1xuICAgIC8vIHJlbW92ZSBmb2xpbyBmcm9tIFVJXG4gICAgZm9saW8ucmVtb3ZlKCk7XG4gICAgLy8gcmVtb3ZlIGZvbGlvIGZyb20gZmlsZSBtYW5hZ2VyXG4gICAgY29uc3QgaXNDcmVhdGVkID0gZm0uaXNDcmVhdGVkRm9saW8oZmlsZW5hbWUpO1xuICAgIGZtLnJlbW92ZUZvbGlvKGZpbGVuYW1lKTtcbiAgICAvLyBhZGQgaXRlbXMgYmFjayB0byB1bnBhaXJlZCBjb250YWluZXJzXG4gICAgaWYgKCFpc0NyZWF0ZWQpIHtcbiAgICAgIGNvbnN0IG1laUl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0obWVpX2ZpbGVuYW1lLCAnbWVpJyk7XG4gICAgICBtZWlfY29udGFpbmVyLmFwcGVuZENoaWxkKG1laUl0ZW0pO1xuICAgIH1cbiAgICBjb25zdCBpbWFnZUl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0oaW1hZ2VfZmlsZW5hbWUsICdpbWFnZScpO1xuICAgIGltYWdlX2NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWFnZUl0ZW0pO1xuICB9XG5cbiAgY29uc3QgdW5wYWlyQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW1nJyk7XG4gIHVucGFpckJ0bi5jbGFzc05hbWUgPSAndW5wYWlyX2J0bic7XG4gIHVucGFpckJ0bi5zcmMgPSBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdW5wYWlyLWRvYy5zdmdgO1xuICB1bnBhaXJCdG4udGl0bGUgPSAndW5wYWlyJztcbiAgdW5wYWlyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlVW5wYWlyKTtcbiAgZm9saW8uYXBwZW5kQ2hpbGQodW5wYWlyQnRuKTtcblxuICByZXR1cm4gZm9saW87XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVVcGxvYWRBbGxEb2N1bWVudHMoY3VycmVudEZvbGRlcjogSUZvbGRlcik6IFByb21pc2U8dW5rbm93bj4ge1xuICBjb25zdCBmb2xpb1Byb21pc2VzID0gZm0uZ2V0Rm9saW9zKClcbiAgICAubWFwKCBhc3luYyAoW25hbWUsIG1laSwgaW1hZ2VdOiBbc3RyaW5nLCBGaWxlLCBGaWxlXSkgPT4ge1xuICAgICAgY29uc3QgaWQgPSB1dWlkdjQoKTtcbiAgICAgIHJldHVybiBhd2FpdCB1cGxvYWRGb2xpbyhpZCwgbmFtZSwgbWVpLCBpbWFnZSwgY3VycmVudEZvbGRlcik7XG4gICAgfSk7XG4gIFxuICBjb25zdCBtYW51c2NyaXB0UHJvbWlzZXMgPSBbXTsgLy9mbS5nZXRNYW51c2NyaXB0cygpXG4gIC8vIC5tYXAoIGFzeW5jIChmaWxlOiBGaWxlKSA9PiB7XG4gIC8vICAgcmV0dXJuIGF3YWl0IHVwbG9hZE1hbnVzY3JpcHQoZmlsZSk7XG4gIC8vIH0pO1xuXG4gIGNvbnN0IHByb21pc2VzID0gWy4uLmZvbGlvUHJvbWlzZXMsIC4uLm1hbnVzY3JpcHRQcm9taXNlc11cbiAgICAubWFwKHAgPT4gUHJvbWlzZS5yZXNvbHZlKHApXG4gICAgICAudGhlbih2YWx1ZSA9PiAoeyBzdGF0dXM6ICdmdWxmaWxsZWQnLCB2YWx1ZSB9KSwgcmVhc29uID0+ICh7IHN0YXR1czogJ3JlamVjdGVkJywgcmVhc29uIH0pKVxuICAgICk7XG4gIFxuICBmbS5jbGVhcigpO1xuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGxvYWRGb2xpbyhpZDogc3RyaW5nLCBuYW1lOiBzdHJpbmcsIG1laTogRmlsZSwgaW1hZ2U6IEZpbGUsIGN1cnJlbnRGb2xkZXI6IElGb2xkZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgbmV3TmFtZSA9IGZuQ29uZmxpY3RIYW5kbGVyKG5hbWUsIEZpbGVTeXN0ZW1Ub29scy5nZXRBbGxOYW1lcyhjdXJyZW50Rm9sZGVyKSk7XG4gIHJldHVybiBjcmVhdGVNYW5pZmVzdChpZCwgbmV3TmFtZSwgbWVpLCBpbWFnZSlcbiAgICAudGhlbihtYW5pZmVzdCA9PiB7XG4gICAgICBjb25zdCBtYW5pZmVzdEJsb2IgPSBuZXcgQmxvYihbSlNPTi5zdHJpbmdpZnkobWFuaWZlc3QsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicgfSk7XG4gICAgICBjb25zdCBpc1NpbmdsZSA9IHRydWU7XG4gICAgICByZXR1cm4gYWRkRG9jdW1lbnQoaWQsIG5ld05hbWUsIG1hbmlmZXN0QmxvYiwgaXNTaW5nbGUpO1xuICAgIH0pXG4gICAgLy8gYWRkIHRvIGRhc2hib2FyZCBGaWxlU3lzdGVtXG4gICAgLnRoZW4oc3VjY2VlZGVkID0+IHtcbiAgICAgIGlmIChzdWNjZWVkZWQpIHtcbiAgICAgICAgY29uc3QgZGF0ZXRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGZpbGVFbnRyeSA9IEZpbGVTeXN0ZW1Ub29scy5jcmVhdGVGaWxlKG5ld05hbWUsIGlkKTtcbiAgICAgICAgY29uc3QgZm9saW9FbnRyeSA9IEZpbGVTeXN0ZW1Ub29scy5hZGRNZXRhZGF0YShmaWxlRW50cnksIHsgdHlwZTogJ2ZvbGlvJywgY3JlYXRlZF9vbjogZGF0ZXRpbWUgfSk7XG4gICAgICAgIGNvbnN0IGlzQWRkZWQgPSBGaWxlU3lzdGVtVG9vbHMuYWRkRW50cnkoZm9saW9FbnRyeSwgY3VycmVudEZvbGRlcik7XG4gICAgICAgIHJldHVybiBpc0FkZGVkO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdmYWlsZWQgdG8gdXBsb2FkRm9saW86ICcgKyBuYW1lKTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vLyBhc3luYyBmdW5jdGlvbiB1cGxvYWRNYW51c2NyaXB0KG1hbnVzY3JpcHQ6IEZpbGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbi8vICAgcmV0dXJuIGFkZEVudHJ5KG1hbnVzY3JpcHQubmFtZSwgbWFudXNjcmlwdCwgZmFsc2UpO1xuLy8gfVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc29ydEZpbGVCeU5hbWUoc29ydEJ5TmFtZUJ0bjogRWxlbWVudCk6IFByb21pc2U8dm9pZD4gIHtcbiAgY29uc3QgZmlsZUxpc3QgPSBzb3J0QnlOYW1lQnRuLnBhcmVudEVsZW1lbnQubmV4dEVsZW1lbnRTaWJsaW5nO1xuICBjb25zdCBmaWxlRWxlbWVudHMgPSBBcnJheS5mcm9tKGZpbGVMaXN0LmNoaWxkcmVuKTtcbiAgXG4gIGxldCBpc0FzY2VuZGluZyA9IHNvcnRCeU5hbWVCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdhcnJvdy11cCcpO1xuXG4gIGlmIChpc0FzY2VuZGluZykge1xuICAgIHNvcnRCeU5hbWVCdG4uY2xhc3NMaXN0LnJlbW92ZSgnYXJyb3ctdXAnKTtcbiAgICBzb3J0QnlOYW1lQnRuLmNsYXNzTGlzdC5hZGQoJ2Fycm93LWRvd24nKTtcbiAgICBzb3J0QnlOYW1lQnRuLmlubmVySFRNTCA9ICcmI3gyMkMxOyc7XG4gIH0gZWxzZSB7XG4gICAgc29ydEJ5TmFtZUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdhcnJvdy1kb3duJyk7XG4gICAgc29ydEJ5TmFtZUJ0bi5jbGFzc0xpc3QuYWRkKCdhcnJvdy11cCcpO1xuICAgIHNvcnRCeU5hbWVCdG4uaW5uZXJIVE1MID0gJyYjeDIyQzA7JztcbiAgfVxuXG4gIGlzQXNjZW5kaW5nID0gIWlzQXNjZW5kaW5nO1xuXG4gIGZpbGVFbGVtZW50cy5zb3J0KChhLCBiKSA9PiB7XG4gICAgY29uc3QgbmFtZUEgPSBhLnRleHRDb250ZW50LnRyaW0oKTtcbiAgICBjb25zdCBuYW1lQiA9IGIudGV4dENvbnRlbnQudHJpbSgpO1xuICAgIHJldHVybiBpc0FzY2VuZGluZyA/IG5hbWVBLmxvY2FsZUNvbXBhcmUobmFtZUIpIDogbmFtZUIubG9jYWxlQ29tcGFyZShuYW1lQSk7XG4gIH0pO1xuXG4gIGZpbGVFbGVtZW50cy5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgIGZpbGVMaXN0LmFwcGVuZENoaWxkKGVsZW1lbnQpO1xuICB9KTtcblxuICBzb3J0QnlOYW1lQnRuLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnY29sb3I6IGJsYWNrJyk7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZE1hbnVzY3JpcHQobWFudXNjcmlwdDogRmlsZSwgY3VycmVudEZvbGRlcjogSUZvbGRlciwgZXhpc3RpbmdOYW1lczogc3RyaW5nW10pOiBQcm9taXNlPGJvb2xlYW4+IHtcbi8vICAgY29uc3QgaXNTaW5nbGUgPSBmYWxzZTtcbi8vICAgY29uc3QgaWQgPSBtYW51c2NyaXB0WydAaWQnXSAhPT0gbnVsbCA/IG1hbnVzY3JpcHRbJ0BpZCddIDogbWFudXNjcmlwdC5uYW1lO1xuLy8gICByZXR1cm4gYWRkRW50cnkoaWQsIG1hbnVzY3JpcHQubmFtZSwgbWFudXNjcmlwdCwgaXNTaW5nbGUpXG4vLyAgICAgLy8gYWRkIHRvIGRhc2hib2FyZCBGaWxlU3lzdGVtXG4vLyAgICAgLnRoZW4oc3VjY2VlZGVkID0+IHtcbi8vICAgICAgIGlmIChzdWNjZWVkZWQpIHtcbi8vICAgICAgICAgY29uc3QgbmV3TmFtZSA9IGZuQ29uZmxpY3RIYW5kbGVyKG1hbnVzY3JpcHQubmFtZSwgZXhpc3RpbmdOYW1lcyk7XG4vLyAgICAgICAgIGNvbnN0IGRhdGV0aW1lID0gbmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpO1xuLy8gICAgICAgICBjb25zdCBmaWxlRW50cnkgPSBGaWxlU3lzdGVtVG9vbHMuY3JlYXRlRmlsZShuZXdOYW1lLCBpZCk7XG4vLyAgICAgICAgIGNvbnN0IG1hbnVzY3JpcHRFbnRyeSA9IEZpbGVTeXN0ZW1Ub29scy5hZGRNZXRhZGF0YShmaWxlRW50cnksIHsgdHlwZTogJ21hbnVzY3JpcHQnLCBjcmVhdGVkX29uOiBkYXRldGltZSB9KTtcbi8vICAgICAgICAgY29uc3QgaXNBZGRlZCA9IEZpbGVTeXN0ZW1Ub29scy5hZGRFbnRyeShtYW51c2NyaXB0RW50cnksIGN1cnJlbnRGb2xkZXIpO1xuLy8gICAgICAgICByZXR1cm4gaXNBZGRlZDtcbi8vICAgICAgIH1cbi8vICAgICAgIGVsc2Uge1xuLy8gICAgICAgICBjb25zb2xlLmxvZygnZmFpbGVkIHRvIHVwbG9hZEZvbGlvOiAnICsgbmFtZSk7XG4vLyAgICAgICAgIHJldHVybiBmYWxzZTtcbi8vICAgICAgIH1cbi8vICAgICB9KTtcbi8vIH1cblxuLy8gTGltaXQgZmlsZW5hbWUgbGVuZ3RoXG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RmlsZW5hbWUoZmlsZW5hbWU6IHN0cmluZywgbWF4TGVuOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBjaHVua0xlbiA9IE1hdGguZmxvb3IobWF4TGVuLzIpO1xuICBjb25zdCBsZW4gPSBmaWxlbmFtZS5sZW5ndGg7XG4gIGlmIChsZW4gPD0gbWF4TGVuKSByZXR1cm4gZmlsZW5hbWU7XG4gIGVsc2UgcmV0dXJuIGAke2ZpbGVuYW1lLnN1YnN0cmluZygwLGNodW5rTGVuLTEpfS4uLiR7ZmlsZW5hbWUuc3Vic3RyaW5nKGxlbi1jaHVua0xlbisyLCBsZW4pfWA7XG59XG5cbi8vIFJlbmFtZXMgZmlsZSBpZiB0aGVyZSBhcmUgbmFtaW5nIGNvbmZsaWN0cywgaW4gdGhlIGZvcm0gb2YgJ2Zvb2JhciAoMSknXG5leHBvcnQgZnVuY3Rpb24gZm5Db25mbGljdEhhbmRsZXIoZmlsZW5hbWU6IHN0cmluZywgZXhpc3RpbmdOYW1lczogc3RyaW5nW10pOiBzdHJpbmcge1xuICBsZXQgbmV3RmlsZW5hbWUgPSBmaWxlbmFtZTtcbiAgbGV0IGNvdW50ZXIgPSAxO1xuXG4gIHdoaWxlIChleGlzdGluZ05hbWVzLmluY2x1ZGVzKG5ld0ZpbGVuYW1lKSkge1xuICAgIG5ld0ZpbGVuYW1lID0gYCR7ZmlsZW5hbWV9KCR7Y291bnRlcn0pYDtcbiAgICBjb3VudGVyKys7XG4gIH1cbiAgcmV0dXJuIG5ld0ZpbGVuYW1lO1xufSIsImltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4uL3V0aWxzL3JhbmRvbSc7XG5pbXBvcnQgKiBhcyB2a2JlYXV0aWZ5IGZyb20gJ3ZrYmVhdXRpZnknO1xuXG4vKipcbiAqIE1hbmFnZXIgZm9yIGZpbGUgdXBsb2FkaW5nIGFuZCBwYWlyaW5nIHByb2Nlc3NcbiAqL1xuY2xhc3MgVXBsb2FkRmlsZU1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogVXBsb2FkRmlsZU1hbmFnZXI7XG5cbiAgcHJpdmF0ZSBhbGxGaWxlcyA9IG5ldyBNYXA8c3RyaW5nLCB7ZmlsZTogRmlsZSwgY291bnQ6IG51bWJlcn0+KCk7XG4gIHByaXZhdGUgZm9saW9zID0gbmV3IEFycmF5PGZvbGlvPigpOyAvLyBmaWxlbmFtZSwgbWVpX2ZpbGVuYW1lLCBpbWFnZV9maWxlbmFtZVxuICAvLyBwcml2YXRlIG1hbnVzY3JpcHRzID0gbmV3IEFycmF5PHN0cmluZz4oKTtcbiAgcHJpdmF0ZSBtZWlUZW1wbGF0ZTogc3RyaW5nO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBVcGxvYWRGaWxlTWFuYWdlciB7XG4gICAgaWYgKCFVcGxvYWRGaWxlTWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgVXBsb2FkRmlsZU1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgVXBsb2FkRmlsZU1hbmFnZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIFVwbG9hZEZpbGVNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIGFkZEZpbGUoZmlsZTogRmlsZSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5hbGxGaWxlcy5oYXMoZmlsZS5uYW1lKSkge1xuICAgICAgY29uc3QgbmV3RW50cnkgPSB7IGZpbGU6IGZpbGUsIGNvdW50OiAxIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChmaWxlLm5hbWUsIG5ld0VudHJ5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBleGlzdGluZ0NvdW50ID0gdGhpcy5nZXRGaWxlQ291bnQoZmlsZS5uYW1lKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRFbnRyeSA9IHsgZmlsZTogZmlsZSwgY291bnQ6IGV4aXN0aW5nQ291bnQrMSB9O1xuICAgICAgdGhpcy5hbGxGaWxlcy5zZXQoZmlsZS5uYW1lLCB1cGRhdGVkRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBhc3luYyBzZXRNZWlUZW1wbGF0ZSh0ZW1wbGF0ZVBhdGg6IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKHRlbXBsYXRlUGF0aCk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGxvYWQgTUVJIHRlbXBsYXRlIGZyb20gJHt0ZW1wbGF0ZVBhdGh9YCk7XG4gICAgICB9XG5cbiAgICAgIHRoaXMubWVpVGVtcGxhdGUgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBjcmVhdGVNZWlGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGxyeDogbnVtYmVyLCBscnk6IG51bWJlcik6IEZpbGUge1xuICAgIHRyeSB7XG4gICAgICBpZiAoIXRoaXMubWVpVGVtcGxhdGUpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5ub3QgZmluZCBNRUkgdGVtcGxhdGUnKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgY29uc3Qgc2VyaWFsaXplciA9IG5ldyBYTUxTZXJpYWxpemVyKCk7XG4gICAgICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHRoaXMubWVpVGVtcGxhdGUsICd0ZXh0L3htbCcpO1xuICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcblxuICAgICAgY29uc3QgbWVpSGVhZCA9IG1laS5xdWVyeVNlbGVjdG9yKCdtZWlIZWFkJyk7XG4gICAgICBtZWlIZWFkLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IGZpbGVEZXNjID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ2ZpbGVEZXNjJyk7XG4gICAgICBmaWxlRGVzYy5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCB0aXRsZVN0bXQgPSBtZWkucXVlcnlTZWxlY3RvcigndGl0bGVTdG10Jyk7XG4gICAgICB0aXRsZVN0bXQuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3QgdGl0bGUgPSBtZWkucXVlcnlTZWxlY3RvcigndGl0bGUnKTtcbiAgICAgIHRpdGxlLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHB1YlN0bXQgPSBtZWkucXVlcnlTZWxlY3RvcigncHViU3RtdCcpO1xuICAgICAgcHViU3RtdC5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBmYWNzaW1pbGUgPSBtZWkucXVlcnlTZWxlY3RvcignZmFjc2ltaWxlJyk7XG4gICAgICBmYWNzaW1pbGUuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3Qgc3VyZmFjZSA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gICAgICBzdXJmYWNlLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIHN1cmZhY2Uuc2V0QXR0cmlidXRlKCdscngnLCBscngudG9TdHJpbmcoKSk7XG4gICAgICBzdXJmYWNlLnNldEF0dHJpYnV0ZSgnbHJ5JywgbHJ5LnRvU3RyaW5nKCkpO1xuXG4gICAgICBjb25zdCBtZGl2ID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ21kaXYnKTtcbiAgICAgIG1kaXYuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3Qgc2NvcmUgPSBtZWkucXVlcnlTZWxlY3Rvcignc2NvcmUnKTtcbiAgICAgIHNjb3JlLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHNjb3JlRGVmID0gbWVpLnF1ZXJ5U2VsZWN0b3IoJ3Njb3JlRGVmJyk7XG4gICAgICBzY29yZURlZi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICBjb25zdCBzdGFmZkdycCA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdGFmZkdycCcpO1xuICAgICAgc3RhZmZHcnAuc2V0QXR0cmlidXRlKCd4bWw6aWQnLCAnbS0nICsgdXVpZHY0KCkpO1xuICAgICAgY29uc3Qgc3RhZmZEZWYgPSBtZWkucXVlcnlTZWxlY3Rvcignc3RhZmZEZWYnKTtcbiAgICAgIHN0YWZmRGVmLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgIGNvbnN0IHNlY3Rpb24gPSBtZWkucXVlcnlTZWxlY3Rvcignc2VjdGlvbicpO1xuICAgICAgc2VjdGlvbi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG5cbiAgICAgIGNvbnN0IG1laUZpbGVDb250ZW50ID0gdmtiZWF1dGlmeS54bWwoc2VyaWFsaXplci5zZXJpYWxpemVUb1N0cmluZyhtZWlEb2MpKTtcbiAgICAgIGNvbnN0IG1laUJsb2IgPSBuZXcgQmxvYihbbWVpRmlsZUNvbnRlbnRdLCB7IHR5cGU6ICd0ZXh0L3htbCcgfSk7XG5cbiAgICAgIHJldHVybiBuZXcgRmlsZShbbWVpQmxvYl0sIGZpbGVuYW1lLCB7IHR5cGU6ICd0ZXh0L3htbCcgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpO1xuICAgIH1cbiAgfSBcblxuICBwdWJsaWMgZ2V0SW1nRGltZW5zaW9uKGZpbGVuYW1lOiBzdHJpbmcpOiBQcm9taXNlPHsgd2lkdGg6IG51bWJlcjsgaGVpZ2h0OiBudW1iZXIgfT4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBjb25zdCBpbWdGaWxlID0gdGhpcy5nZXRGaWxlKGZpbGVuYW1lKTtcblxuICAgICAgaWYgKCFpbWdGaWxlKSB7XG4gICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEZpbGUgbm90IGZvdW5kOiAke2ZpbGVuYW1lfWApKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXG4gICAgICByZWFkZXIub25sb2FkID0gKGV2ZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IGltZyA9IG5ldyBJbWFnZSgpO1xuICAgICAgICBpbWcub25sb2FkID0gKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUoeyB3aWR0aDogaW1nLndpZHRoLCBoZWlnaHQ6IGltZy5oZWlnaHQgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGltZy5vbmVycm9yID0gKCkgPT4ge1xuICAgICAgICAgIHJlamVjdChuZXcgRXJyb3IoYEZhaWxlZCB0byBsb2FkIGltYWdlOiAke2ZpbGVuYW1lfWApKTtcbiAgICAgICAgfTtcbiAgICAgICAgaW1nLnNyYyA9IGV2ZW50LnRhcmdldC5yZXN1bHQgYXMgc3RyaW5nO1xuICAgICAgfTtcblxuICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW1nRmlsZSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIHB1YmxpYyBnZXRGaWxlKGtleTogc3RyaW5nKTogRmlsZSB7XG4gICAgaWYgKHRoaXMuYWxsRmlsZXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGU7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZUZpbGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuZ2V0RmlsZUNvdW50KGtleSk7XG4gICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm47XG4gICAgZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgIHRoaXMuYWxsRmlsZXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgdXBkYXRlZEVudHJ5ID0geyBmaWxlOiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGUsIGNvdW50OiBjb3VudC0xIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChrZXksIHVwZGF0ZWRFbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEZpbGVDb3VudChrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgaWYgKCB0aGlzLmFsbEZpbGVzLmhhcyhrZXkpICkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsRmlsZXMuZ2V0KGtleSkuY291bnQ7XG4gICAgfVxuICAgIGVsc2UgcmV0dXJuIDA7XG4gIH1cblxuICBwdWJsaWMgYWRkRm9saW8obmFtZTogc3RyaW5nLCBtZWk6IHN0cmluZywgaW1hZ2U6IHN0cmluZywgaXNDcmVhdGVkOiBib29sZWFuKTogdm9pZCB7XG4gICAgY29uc3QgbmV3Rm9saW86IGZvbGlvID0ge1xuICAgICAgZmlsZW5hbWU6IG5hbWUsXG4gICAgICBtZWlfZmlsZW5hbWU6IG1laSxcbiAgICAgIGltYWdlX2ZpbGVuYW1lOiBpbWFnZSxcbiAgICAgIGlzQ3JlYXRlZDogaXNDcmVhdGVkLFxuICAgIH07XG4gICAgdGhpcy5mb2xpb3MucHVzaChuZXdGb2xpbyk7XG4gIH1cblxuICAvLyBwdWJsaWMgYWRkTWFudXNjcmlwdChmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgdGhpcy5tYW51c2NyaXB0cy5wdXNoKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyBpc0NyZWF0ZWRGb2xpbyhmaWxlbmFtZTogc3RyaW5nKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZm9saW8gPSB0aGlzLmZvbGlvcy5maW5kKChmb2xpbykgPT4gZm9saW8uZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICByZXR1cm4gZm9saW8gPyBmb2xpby5pc0NyZWF0ZWQgOiBmYWxzZTtcbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVGb2xpbyhmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5mb2xpb3MuZmluZEluZGV4KCBmb2xpbyA9PiBmb2xpby5maWxlbmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgIHRoaXMuZm9saW9zLnNwbGljZShpZHgsIDEpO1xuICB9XG5cbiAgLy8gcHVibGljIHJlbW92ZU1hbnVzY3JpcHQoZmlsZW5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAvLyAgIGNvbnN0IGlkeCA9IHRoaXMubWFudXNjcmlwdHMuZmluZEluZGV4KG1hbnVzY3JpcHQgPT4gbWFudXNjcmlwdCA9PT0gZmlsZW5hbWUpO1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuc3BsaWNlKGlkeCk7XG4gIC8vICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyBnZXRGb2xpb3MoKTogW3N0cmluZywgRmlsZSwgRmlsZV1bXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9saW9zLm1hcCggZm9saW8gPT4ge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBmb2xpby5maWxlbmFtZTtcbiAgICAgIGNvbnN0IG1laV9maWxlbmFtZSA9IGZvbGlvLm1laV9maWxlbmFtZTtcbiAgICAgIGNvbnN0IGltYWdlX2ZpbGVuYW1lID0gZm9saW8uaW1hZ2VfZmlsZW5hbWU7XG4gICAgICByZXR1cm4gW2ZpbGVuYW1lLCB0aGlzLmdldEZpbGUobWVpX2ZpbGVuYW1lKSwgdGhpcy5nZXRGaWxlKGltYWdlX2ZpbGVuYW1lKV07XG4gICAgfSk7XG4gIH1cblxuICAvLyBwdWJsaWMgZ2V0TWFudXNjcmlwdHMoKTogRmlsZVtdIHtcbiAgLy8gICByZXR1cm4gdGhpcy5tYW51c2NyaXB0cy5tYXAoIG1hbnVzY3JpcHQgPT4gdGhpcy5nZXRGaWxlKG1hbnVzY3JpcHQpKTtcbiAgLy8gfVxuXG4gIC8vIHB1YmxpYyBjbGVhck1hbnVzY3JpcHRzKCk6IHZvaWQge1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuZm9yRWFjaCggZmlsZW5hbWUgPT4ge1xuICAvLyAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gICB9KTtcbiAgLy8gICB0aGlzLm1hbnVzY3JpcHRzID0gW107XG4gIC8vIH1cbiAgXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmFsbEZpbGVzLmNsZWFyKCk7XG4gICAgdGhpcy5mb2xpb3Muc3BsaWNlKDApO1xuICB9XG5cbiAgcHVibGljIHByaW50KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYWxsRmlsZXMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZm9saW9zKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1hbnVzY3JpcHRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBVcGxvYWRGaWxlTWFuYWdlcjtcblxudHlwZSBmb2xpbyA9IHtcbiAgZmlsZW5hbWU6IHN0cmluZyxcbiAgbWVpX2ZpbGVuYW1lOiBzdHJpbmcsXG4gIGltYWdlX2ZpbGVuYW1lOiBzdHJpbmcsXG4gIGlzQ3JlYXRlZDogYm9vbGVhbixcbn07IiwiLy8gSWYgdXNlciByaWdodC1jbGlja3Mgb24gYmFja2dyb3VuZCBhbmQgbm90aGluZyBpcyBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IGRlZmF1bHRPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS11cGxvYWQtZG9jLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5VcGxvYWQgZG9jdW1lbnQ8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9uZXctZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1uZXctZm9sZGVyLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5OZXcgZm9sZGVyPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbmV3LWZvbGRlci5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiBhIHNpbmdsZSBmaWxlIGlzIHNlbGVjdGVkXG5leHBvcnQgY29uc3Qgc2luZ2xlRmlsZU9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLW9wZW4tYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk9wZW48L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9vcGVuLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlIHRvIFRyYXNoPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVuYW1lLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5SZW5hbWU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW5hbWUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1tb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbW92ZS1kb2MtaWNvbi5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiBtdWx0aXBsZSBmaWxlcyBhcmUgc2VsZWN0ZWRcbmV4cG9ydCBjb25zdCBtdWx0aUZpbGVPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS1vcGVuLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5PcGVuPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvb3Blbi1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLXJlbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+TW92ZSB0byBUcmFzaDwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlbW92ZS1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImNtLW1vdmUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk1vdmU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9tb3ZlLWRvYy1pY29uLnN2Z1wiPlxuICAgIDwvZGl2PmA7XG5cbi8vIElmIDEgb3IgbW9yZSBmaWxlcyBhbmQgMSBvciBtb3JlIGZvbGRlcnMgYXJlIHNlbGVjdGVkXG5leHBvcnQgY29uc3QgZm9sZGVyQW5kRmlsZU9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLXJlbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+RGVsZXRlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+TW92ZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL21vdmUtZG9jLWljb24uc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuLy8gSWYgb25lIGZvbGRlciBpcyBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IHNpbmdsZUZvbGRlck9wdGlvbnMgPSBcbiAgICBgPGRpdiBpZD1cImNtLW9wZW4tYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPk9wZW48L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9vcGVuLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlIHRvIFRyYXNoPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tcmVuYW1lLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5SZW5hbWU8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW5hbWUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1tb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbW92ZS1kb2MtaWNvbi5zdmdcIj5cbiAgICA8L2Rpdj5gO1xuXG4vLyBJZiBtdWx0aXBsZSBmb2xkZXJzIGFyZSBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IG11bHRpRm9sZGVyT3B0aW9ucyA9IFxuICAgIGA8ZGl2IGlkPVwiY20tcmVtb3ZlLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5Nb3ZlIHRvIFRyYXNoPC9kaXY+XG4gICAgICAgIDxpbWcgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcmVtb3ZlLWRvYy5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiY20tbW92ZS1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+TW92ZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL21vdmUtZG9jLWljb24uc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuLy8gSWYgdHJhc2ggZm9sZGVyIGlzIHNlbGVjdGVkXG5leHBvcnQgY29uc3QgdHJhc2hGb2xkZXJPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS1lbXB0eS10cmFzaC1idG5cIiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLXdyYXBwZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtXCI+RW1wdHkgVHJhc2g8L2Rpdj5cbiAgICAgICAgPGltZyBjbGFzcz1cImNvbnRleHQtbWVudS1pdGVtLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9yZW1vdmUtZG9jLnN2Z1wiPlxuICAgIDwvZGl2PmA7XG5cbi8vIElmIGVudHJ5IGluIHRyYXNoIGZvbGRlciBpcyBzZWxlY3RlZFxuZXhwb3J0IGNvbnN0IHRyYXNoRW50cnlPcHRpb25zID0gXG4gICAgYDxkaXYgaWQ9XCJjbS1yZWNvdmVyLWJ0blwiIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0td3JhcHBlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW1cIj5QdXQgQmFjazwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlY292ZXItZG9jLnN2Z1wiPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJjbS1kZWxldGUtYnRuXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbS13cmFwcGVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb250ZXh0LW1lbnUtaXRlbVwiPkRlbGV0ZTwvZGl2PlxuICAgICAgICA8aW1nIGNsYXNzPVwiY29udGV4dC1tZW51LWl0ZW0taWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3JlbW92ZS1kb2Muc3ZnXCI+XG4gICAgPC9kaXY+YDtcblxuIl0sInNvdXJjZVJvb3QiOiIifQ==