!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=85)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=u(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)o(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,o,s=[n(36),n(37),n(38),n(39),n(40),n(41)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var f=-1,h=s.length;++f<h;)if(s[f]&&s[f].test&&s[f].test()){o=s[f].install(d);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),l||i||(l=!0,o())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(15),r=n(16),o=n(24),s=n(25),a=n(13),c=n(8);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function u(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill="")}),Array.from(document.getElementsByClassName("divLine")).forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")}),Array.from(document.getElementsByClassName("neume")).forEach(e=>{e.style.fill=""}),Array.from(document.getElementsByClassName("text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),Array.from(document.getElementsByClassName("sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),Array.from(document.getElementsByClassName("syllable-highlighted")).forEach(e=>{e.style.fill="",e.classList.add("syllable"),e.classList.remove("syllable-highlighted")}),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove(),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():o.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function d(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSplitActions(),o.initGroupingListeners(),t.dragInit())}function f(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function h(e,t,n=!0){if(e){if(e.classList.contains("staff"))return d(e,t);if(e.classList.contains("layer"))return f(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&"neume"==(0,r.getHighlightType)()&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function p(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function m(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function g(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const o=e.closest(".syllable");o.style.fill="#d00",o.classList.add("syllable-highlighted"),void 0!==n&&(0,s.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}}t.getSelectionType=l,t.unselect=u,t.selectStaff=d,t.selectLayerElement=f,t.select=h,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(u(),h(i),await p(i,t)){const e=i.previousSibling;if(await p(e,t))h(e);else{const e=i.nextSibling;await p(e,t)?h(e):console.warn("Error: Neither prev or next nc are ligatures")}o.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=p,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=n.indexOf(t),s=n.indexOf(r);if(1!==Math.abs(o-s))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!m(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=m,t.sharedSecondLevelParent=g,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,o;return e.querySelectorAll("path").forEach(e=>{const s=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===o&&(o=Math.atan((s[3]-s[1])/(s[2]-s[0]))),(void 0===n||Math.min(s[1],s[3])<n)&&(n=Math.min(s[1],s[3])),(void 0===t||s[0]<t)&&(t=s[0]),(void 0===r||Math.max(s[1],s[3])>r)&&(r=Math.max(s[1],s[3])),(void 0===i||s[2]>i)&&(i=s[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:o}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{h(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(u(),0===e.length)return;let r,c=!1,d=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const f=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else d=d||!0;f.add(e);const n=e.getAttribute("mei:follows");n&&(document.querySelector("#"+n.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+n.slice(1))));const i=e.getAttribute("mei:precedes");i&&(document.querySelector("#"+i.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+i.slice(1))))}f.forEach(e=>h(e,n,!1));const p=Array.from(f.values());if(!c||d)switch(i){case"selByStaff":switch(p.length){case 1:a.triggerSplitActions(),o.initGroupingListeners(),(0,s.resize)(p[0],t,n);break;default:a.triggerStaffActions(),o.initGroupingListeners()}break;case"selByLayerElement":1===f.size&&p[0].classList.contains("clef")?a.triggerClefActions(p[0]):1===f.size&&p[0].classList.contains("custos")?a.triggerCustosActions():1===f.size&&p[0].classList.contains("accid")?a.triggerAccidActions(p[0]):1===f.size&&p[0].classList.contains("divLine")?a.triggerLayerElementActions(p[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(p.length){case 1:a.triggerSyllableActions("singleSelect");break;case 2:o.isLinkable("selBySyllable",p)?a.triggerSyllableActions("linkableSelect"):o.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default");break;default:o.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(p.length){case 1:a.triggerNeumeActions(),o.initGroupingListeners();break;default:o.isGroupable("selByNeume",p)?o.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(p.length){case 1:a.triggerNcActions(p[0]);break;case 2:if(g(p)){if(p[0].parentElement===p[1].parentElement){const e=Array.from(p[0].parentElement.children);if(1===Math.abs(e.indexOf(p[0])-e.indexOf(p[1]))){let e=p[0].children[0],t=p[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,s=t.y.baseVal.value;if((n>i||n===i&&r<s)&&([e,t]=[t,e],[n,r,i,s]=[i,s,n,r]),n===i||r<s){o.triggerGrouping("ligature");break}}}o.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:g(p)?o.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(p.length){case 1:v(p[0],n,t),a.triggerDefaultActions();break;default:p.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===f.size&&p[0].classList.contains("clef")?a.triggerClefActions(p[0]):1===f.size&&p[0].classList.contains("custos")?a.triggerCustosActions():1===f.size&&p[0].classList.contains("accid")?a.triggerAccidActions(p[0]):1===f.size&&p[0].classList.contains("divLine")?a.triggerLayerElementActions(p[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(27),r=n(23),o=new Array(0);let s=null,a=!1;const c={default:"",warning:"âš ï¸ ",error:"ðŸ”´ ",success:"âœ… "};class l{constructor(e,t){this.message=c[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function u(e){document.getElementById(e).remove(),null!==s&&s.getId()===e&&(s=null),o.length>0?d():0===document.querySelectorAll(".neon-notification").length&&(document.getElementById("notification-content").style.display="none",a=!1)}function d(){if(o.length>0){a=!0;const e=o.pop();!function(e){if(e.isModeMessage){if(null!==s)return window.clearTimeout(s.timeoutID),o.push(e),void u(s.getId());s=e}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(u,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),u(e.getId())})}}function f(e,t="default"){const n=new l(e,t);o.push(n),"error"!=n.type&&"warning"!=n.type||(0,i.recordNotification)(n),(!a||document.getElementById("notification-content").querySelectorAll(".neon-notification").length<3)&&d()}t.Notification=l,t.queueNotification=f,t.default={queueNotification:f}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,highlightMode:"none",selectionMode:"selBySyllable",displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.clefActionContents=t.splitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.staffActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by is-active" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.staffActionContents='<label>Merge Systems:</label>\n    <button id="merge-systems" class="side-panel-btn">Merge</button>\n    <button class="side-panel-btn" id="delete">Delete</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.splitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: visible; padding: 0.5em 0.75em;"><div>'},function(e,t){e.exports=d3},function(e,t,n){"use strict";for(var i=n(10),r=[],o=0;o<256;++o)r.push((o+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(3);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".system"),{x:r,y:o}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:o}}function o(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:o,y:s}=r(e,t),a=n.find(e=>o<=e.lrx&&o>=e.ulx&&s<=e.lry&&s>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=o,t.getStaffByCoords=function(e,t){const n=o(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerSplitActions=t.triggerStaffSplitMode=t.triggerStaffActions=t.triggerLayerElementActions=t.triggerAccidActions=t.triggerCustosActions=t.triggerClefActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(7),r=n(24),o=n(4),s=n(33),a=n(34),c=n(3);let l;function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function p(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function m(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function g(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",m)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Insert Success","success"):o.default.queueNotification("Insert Failed XoX","error"),g(),l.updateForCurrentPage()})}function _(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Move Success","success"):o.default.queueNotification("Move Failed XoX","error"),g(),l.updateForCurrentPage()})}function w(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",m))}function k(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function E(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function S(){const e=document.querySelector(".staff.selected");if(null!==e){new s.SplitStaffHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}function L(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=u,t.unsetVirgaAction=d,t.unsetVirgaReversedAction=f,t.unsetLiquescentClockwiseAction=h,t.unsetLiquescentAnticlockwiseAction=p,t.deleteButtonHandler=m,t.endOptionsSelection=g,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=_,t.addChangeStaffListener=k,t.triggerNcActions=function(e){g(),E("moreEdit",i.defaultActionContents),E("extraEdit",i.ncActionContents),w(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=h(e.id),s=p(e.id);l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=f(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=f(e.id),n=u(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"c"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=h(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"a"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerNeumeActions=function(){g(),E("moreEdit",i.defaultNeumeActionContents),E("extraEdit",i.neumeActionContents),w();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Grouping Changed","success"):o.default.queueNotification("Grouping Failed","error"),g(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),L()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){g(),E("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}E("moreEdit",t,!0),k(),w(),r.initGroupingListeners()},t.triggerClefActions=function(e){var t,n;g(),E("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents),E("extraEdit",i.clefActionContents),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave incremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave decremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"C"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"F"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerCustosActions=function(){g(),E("moreEdit",i.custosActionContents),k(),w()},t.triggerAccidActions=function(e){var t,n;g(),E("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),E("extraEdit",i.accidActionContents),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerLayerElementActions=function(e){var t,n;g(),E("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_)},t.triggerStaffActions=function(){g(),E("moreEdit",i.staffActionContents),w(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=S,t.triggerSplitActions=function(){g(),E("moreEdit",i.splitActionContents),w(),document.getElementById("split-system").addEventListener("click",()=>{S()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),g()}else console.error("No staff was selected"),g()})},t.triggerDefaultSylActions=function(){g(),E("moreEdit",i.defaultSylActionContents),w(),k()},t.triggerDefaultActions=function(){g(),E("moreEdit",i.defaultActionContents),w()}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(u,o),u}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,l,r),s.set(a),o)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(o(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,c=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(u,o),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function o(){r()}function s(){o();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=o,t.unsetGroupingHighlight=s,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(s(),"staff"===t)return void c();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}n[e].classList.contains("divLine")&&n[e].setAttribute("stroke",t)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setBgOpacityFromSlider=t.setOpacityFromSlider=t.setZoomControls=void 0;const i=n(15),r=n(6);let o,s;function a(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"):n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg");try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function c(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"):n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg");const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function l(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),o=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return o.textContent="Â - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),o.textContent="Â - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function u(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{l(e)})}function d(){document.body.removeEventListener("click",d),document.getElementById("highlight-dropdown").classList.remove("is-active")}function f(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",d),u("staff"),u("syllable"),u("neume"),u("layerElement"),u("none")):document.body.removeEventListener("click",d)})}function h(){const{highlightMode:e}=(0,r.getSettings)();l(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setOpacityFromSlider=a,t.setBgOpacityFromSlider=c,t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=u,t.setHighlightControls=f,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.loadHighlightSettings=h,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),a(e)}o=i,t.value=String(i),n.value=String(i);const c=document.getElementById("toggle-glyph-opacity");100==i&&c.classList.add("hide-icon"),null==c||c.addEventListener("click",()=>{let i;c.classList.contains("hide-icon")?(c.classList.remove("hide-icon"),i=0):(c.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,s=Number(t.value),c(e)}s=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-bg-opacity");100==i&&a.classList.add("hide-icon"),a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),s=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(t),f(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":l("staff");break;case"w":l("syllable");break;case"e":l("neume");break;case"r":l("layerElement");break;case"t":l("selection");break;case"y":l("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),h();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(7),r=n(31),o=n(28);var s,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.VALIDATION_STATUS=2]="VALIDATION_STATUS",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD"}(s=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{(0,o.updateSelectedBBox)(e,this.dragHandler,this.neonView)})})}this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case s.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case s.EDIT_TEXT:this.openEditSylTextModalWindow();break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case s.DOCUMENT_UPLOAD:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");default:document.getElementById("neon-modal-window-container").style.display="none",this.modalWindowView!==s.DOCUMENT_UPLOAD&&document.getElementById("container").focus()}document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED}setModalWindowContent(e){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-content-container").innerHTML=i.editTextModal,document.getElementById("neon-modal-window-header-title").innerText="EDIT SYLLABLE TEXT";const t=/\u{25CA}/u,n=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(t,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=n;break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-container").innerHTML=i.hotkeysModal,document.getElementById("neon-modal-window-header-title").innerText="HOTKEYS";break;case s.VALIDATION_STATUS:document.getElementById("neon-modal-window-content-container").innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURIComponent(e)}" download="validation.log">\n              Export\n            </a>\n            </div>`,document.getElementById("neon-modal-window-header-title").innerText="ERROR LOG";break;case s.DOCUMENT_UPLOAD:document.getElementById("neon-modal-window-header-title").innerText="DOCUMENT UPLOAD",document.getElementById("neon-modal-window-content-container").innerHTML=r.uploadAreaHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(8),r=n(11),o=n(4),s=n(3);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,s.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,s.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,s.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:o,lrx:s,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,o+this.dy)||(0,r.isOutOfSVGBounds)(s+this.dx,a+this.dy)}}},,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return o}));var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(e);else if(o===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,o,s,a,c,l,u,d,f="";n=t.pop();)if(i=n.obj,f+=n.prefix||"",r=n.val||"")f+=r;else if("object"!=typeof i)f+=void 0===i?null:JSON.stringify(i);else if(null===i)f+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),o=i.length-1;o>=0;o--)s=0===o?"":",",t.push({obj:i[o],prefix:s});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)u=i[l=a[o]],d=o>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return f},t.parse=function(e){for(var t,n,r,o,s,a,c,l,u,d=[],f=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,i(null,d,f);break;case"t":h+=3,i(!0,d,f);break;case"f":h+=4,i(!1,d,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(r=e[h++],!/[\d\.\-e\+]/.test(r)){h--;break}n+=r}i(parseFloat(n),d,f);break;case'"':for(o="",s=void 0,a=0;'"'!==(c=e[h++])||"\\"===s&&a%2==1;)o+=c,"\\"===(s=c)?a++:a=0;i(JSON.parse('"'+o+'"'),d,f);break;case"[":l={element:[],index:d.length},d.push(l.element),f.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),f.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,f)}}},function(e,t,n){"use strict";var i=n(20),r=n(9);t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return Object(r.a)(o)}},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(7),r=n(32),o=n(4),s=n(3),a=n(13),c=n(13);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(s.sharedLogicalParent(e,t))return!1;default:return!!s.areAdjacent(e,t)}}function d(e){return 2===e.length&&(e[0].getAttribute("mei:follows")==="#"+e[1].id&&e[1].getAttribute("mei:precedes")==="#"+e[0].id||e[0].getAttribute("mei:precedes")==="#"+e[1].id&&e[1].getAttribute("mei:follows")==="#"+e[0].id)}function f(e,t){switch(t.length){case 2:if("selBySyllable"!==e)return!1;if(d([t[0],t[1]]))return!0;if(s.isMultiStaveSelection(t)){const e=t[0].closest(".staff"),n=t[1].closest(".staff"),i=Array.from(e.parentElement.children),r=i.indexOf(e)<i.indexOf(n)?e:n,o=r.id===e.id?n:e,s=r.querySelector(".layer"),a=o.querySelector(".layer"),c=Array.from(s.children).filter(e=>e.classList.contains("syllable")),l=Array.from(a.children).filter(e=>e.classList.contains("syllable")),u=c[c.length-1],d=l[0];if(u.id===t[0].id&&d.id===t[1].id)return!0;if(u.id===t[1].id&&d.id===t[0].id)return!0}default:return!1}return!1}function h(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(o.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):o.queueNotification("Merge Failed","error")})}function p(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",g)}function m(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",g);try{document.getElementById("mergeSyls").addEventListener("click",()=>{v("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{v("group","neume",b())})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{v("group","nc",b())})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{v("ungroup","neume",_())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{v("ungroup","nc",_())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:b()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Ligature Toggled","success"):o.queueNotification("Ligature Toggle Failed","error"),p(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{y()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.isLinked=d,t.isLinkable=f,t.mergeStaves=h,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],m()},t.endGroupingSelection=p,t.initGroupingListeners=m;const g=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=s.getSelectionType();switch(t){case"selBySyllable":if(f(t,e))y();else if(u(t,e)){v("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){v("ungroup","neume",_())}break;case"selByNeume":if(u(t,e)){v("group","neume",b())}else{v("ungroup","nc",_())}break;case"selByNc":if(u(t,e)){v("group","nc",b())}else{v("ungroup","nc",_())}break;case"selByStaff":u(t,e)?h():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function v(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?o.queueNotification("Grouping Success","success"):o.queueNotification("Ungrouping Success","success"):"group"===e?o.queueNotification("Grouping Failed","error"):o.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}p()})}function y(){const e=b(),t={action:"chain",param:[]},n=new Array;if(document.getElementById(e[0]).getAttribute("mei:precedes"))n.push({action:"set",param:{elementId:e[0],attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"follows",attrValue:""}}),n.push({action:"setText",param:{elementId:e[1],text:""}});else if(document.getElementById(e[0]).getAttribute("mei:follows"))n.push({action:"set",param:{elementId:e[0],attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"precedes",attrValue:""}}),n.push({action:"setText",param:{elementId:e[0],text:""}});else{const t=document.getElementById(e[0]),i=document.getElementById(e[1]),r=t.closest(".staff"),o=i.closest(".staff"),s=Array.from(r.parentElement.children).filter(e=>e.classList.contains("staff"));let a,c;s.indexOf(r)<s.indexOf(o)?(a=t,c=i):(a=i,c=t),n.push({action:"set",param:{elementId:a.id,attrType:"precedes",attrValue:"#"+c.id}}),n.push({action:"set",param:{elementId:c.id,attrType:"follows",attrValue:"#"+a.id}});const l=c.querySelector(".syl");null!==l&&n.push({action:"remove",param:{elementId:l.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Toggled Syllable Link"):o.queueNotification("Failed to Toggle Syllable Link"),p(),l.updateForCurrentPage()})}function b(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function _(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(3),r=n(8),o=n(11),s=n(4),a={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function c(e,t,n,i,r){let o;if(r>=0)o=[{x:e,y:t,name:a.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:a.Top},{x:n,y:t+(n-e)*Math.sin(r),name:a.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:a.Right},{x:n,y:i,name:a.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:a.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:a.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:a.Left}];else{const s=(n-e)*Math.tan(Math.abs(r)),c=i-t-s;o=[{x:e,y:t+s,name:a.TopLeft},{x:(e+n)/2,y:t+s/2,name:a.Top},{x:n,y:t,name:a.TopRight},{x:n,y:t+c/2,name:a.Right},{x:n,y:t+c,name:a.BottomRight},{x:(e+n)/2,y:i-s/2,name:a.Bottom},{x:e,y:i,name:a.BottomLeft},{x:e,y:i-c/2,name:a.Left}]}return o}t.resize=function(e,t,n){let l,u,d,f,h,p,m,g,v,y,b,_,w,k,E;function S(){const e=c(l,u,d,f,h),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(l,d))),n.setAttribute("y",String(Math.min(u,f))),n.setAttribute("width",String(Math.abs(d-l))),n.setAttribute("height",String(Math.abs(f-u))));for(const t in a){const n=e[a[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,o=e[3].y;const s=i+100+","+(o+85)+" "+(i+70)+","+(o+50)+" "+(i+100)+","+(o+15)+" "+(i+130)+","+(o+50);i=e[7].x,o=e[7].y;const p=i-100+","+(o-15)+" "+(i-130)+","+(o-50)+" "+(i-100)+","+(o-85)+" "+(i-70)+","+(o-50);r.select("#rotateLeft").attr("points",p),r.select("#rotateRight").attr("points",s)}!function L(){if(null===e)return;if(e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");l=Number(t.getAttribute("x")),u=Number(t.getAttribute("y")),d=+l+ +t.getAttribute("width"),f=+u+ +t.getAttribute("height"),h=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);l=t.ulx,u=t.uly,d=t.lrx,f=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));h=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let A;p=l,v=u,m=d,y=f;const x=c(l,u,d,f,h);w=x[2].x-x[0].x;const C=x.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",C).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");for(const t in a){const n=x[a[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",25).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in a)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{B(e)}).on("drag",q).on("end",I.bind(this)));if(e.classList.contains("staff")){let t=x[3].x,n=x[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=x[7].x,n=x[7].y;const o=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",o).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",O).on("drag",(function(){const e=r.mouse(this)[1]-b,t=E-Math.atan(e/w);t>-.2&&t<.2&&(k=e,u=_+k,h=t,h>=0?(u=k+x.filter(e=>e.name===a.TopLeft)[0].y,f=x.filter(e=>e.name===a.BottomRight)[0].y):(u=x.filter(e=>e.name===a.TopRight)[0].y,f=k+x.filter(e=>e.name===a.BottomLeft)[0].y));S()})).on("end",N)),r.select("#rotateRight").call(r.drag().on("start",O).on("drag",(function(){const e=r.mouse(this)[1]-b,t=E+Math.atan(e/w);t>-.2&&t<.2&&(k=e,h=t,h>=0?(f=k+x.filter(e=>e.name===a.BottomRight)[0].y,u=x.filter(e=>e.name===a.TopLeft)[0].y):(u=k+x.filter(e=>e.name===a.TopRight)[0].y,f=x.filter(e=>e.name===a.BottomLeft)[0].y));S()})).on("end",N))}function B(e){A=e;const t=x.find(t=>t.name===a[e]);g=[t.x,t.y],v=u,y=f}function q(){const e=r.mouse(this);switch(a[A]){case a.TopLeft:l=e[0],u=e[1];break;case a.Top:u=e[1]-(d-l)*Math.tan(h)/2;break;case a.TopRight:d=e[0],u=e[1]-(d-l)*Math.tan(h);break;case a.Right:d=e[0],f=y+(e[0]-g[0])*Math.tan(h);break;case a.BottomRight:d=e[0],f=e[1];break;case a.Bottom:f=e[1]+(d-l)*Math.tan(h)/2;break;case a.BottomLeft:l=e[0],f=e[1]+(d-l)*Math.tan(h);break;case a.Left:l=e[0],u=v+(e[0]-g[0])*Math.tan(h);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}S()}function I(){if((0,o.isOutOfSVGBounds)(l,u)||(0,o.isOutOfSVGBounds)(d,f))return l=p,u=v,d=m,f=y,S(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const a={action:"resize",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:f}};t.edit(a,t.view.getCurrentPageURI()).then(async o=>{if(o&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),l=void 0,u=void 0,d=void 0,f=void 0,r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),L(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function O(){const e=r.event.sourceEvent.target.id;b=r.mouse(this)[1],y=f,v=u,_="rotateRight"===e?f:u,E=h}function N(){if(void 0===k&&(k=0),(0,o.isOutOfSVGBounds)(l,u)||(0,o.isOutOfSVGBounds)(d,f))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,f=void 0,k=void 0,L(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:f,rotate:180*h/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,f=void 0,k=void 0,L(),(0,i.selectAll)([e],t,n),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(3),r=n(25),o=n(8),s=n(11);let a,c,l,u,d=7;function f(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function h(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function p(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if("ArrowLeft"===e.key&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if("ArrowRight"===e.key&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}}function m(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function g(e){e.stopPropagation()}function v(e,t,n){if(m()||"use"===e.tagName){const r=function(e){if(m()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),o=i.children[r-1].children[0];console.assert(o.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===o.closest(".selected")&&e.unshift(o)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),o=n.children[i+1].children[0];console.assert(o.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===o.closest(".selected")&&e.push(o)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,s.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",p),document.body.addEventListener("keydown",p),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",g),e.addEventListener("click",g)})},t.dragSelect=function(e){let t=0,n=0,r=!1,s=!1;const l=o.select(e);o.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const f=o.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==o.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==o.event.sourceEvent.target.nodeName){if(o.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(h=o.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,o=t.lrx,s=t.lry,a=t.rotate;return h[0]>n&&h[0]<o&&h[1]>r+(h[0]-n)*Math.tan(a)&&h[1]<s-(o-h[0])*Math.tan(a)}).length)){(0,i.unselect)(),s=!0;const e=o.mouse(this);t=e[0],n=e[1],a=t,f=n,l.append("rect").attr("x",a).attr("y",f).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else o.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,f,h})).on("drag",(function(){if(!r&&s){const e=o.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){o.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&s){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),f=l.node();let h=new DOMPoint(n,r),p=new DOMPoint(u,d);const g=f.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();h=h.matrixTransform(g),p=p.matrixTransform(g);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):m()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>v(e,h,p));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),o.selectAll("#selectRect").remove(),s=!1}r=!1}));l.call(f),a&&a.resetTo(f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(7),r=n(6);function o(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:o}=(0,r.getSettings)();o&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),s()}function s(){const e=document.querySelector("#error_log"),t=document.querySelector("#display-single-container"),n=document.createElement("label"),i=document.createElement("input");i.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Errors",i.id="display-errors",i.type="checkbox",i.checked=!1,n.appendChild(i),t.append(n);const{displayErrLog:o}=(0,r.getSettings)();o&&(i.checked=!0),i.addEventListener("click",()=>{const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),o=document.getElementById("displayBBox"),s=document.getElementById("displayText"),a=document.getElementById("display-errors");i.checked?(e.classList.add("visible"),(0,r.setSettings)({displayErrLog:!0}),(null==n?void 0:n.checked)&&(null==o?void 0:o.checked)&&(null==s?void 0:s.checked)&&(null==a?void 0:a.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.classList.remove("visible"),(0,r.setSettings)({displayErrLog:!1}),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))})}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(function(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n    <div class="notification-wrapper">\n\n      <div>\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n    </div>\n\n    <div class="remove-notif-icon-wrapper">\n      <img class="log-remove remove-notif-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg">\n    </div>\n  `;const n=t.querySelector(".log-remove");return n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),t}(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,o()},t.initErrorLogControls=o,t.initDisplayListener=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelectedBBox=void 0;const i=n(3),r=n(18),o=n(26),s=n(15),a=n(17);function c(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)();try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,s.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}function l(e,t,n){(0,i.unselect)();const r=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(r)){const e=document.getElementById(r).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,t,n)}}t.updateSelectedBBox=l;t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}updateSelectedBBox(e){(0,i.unselect)();const t=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(t)){const e=document.getElementById(t).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,this.dragHandler,this.neonView)}}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow(),l(e,this.dragHandler,this.neonView)}e.removeEventListener("click",n),e.addEventListener("click",n)})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",c.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&c.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,o.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,o.clickSelect)("#mei_output, #mei_output rect"),(0,o.dragSelect)("#svg_group")):((0,o.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,o.dragSelect)(".active-page svg"))))}}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,o=n(2),s=n.n(o),a=n(22),c=n(14),l=n.n(c),u=n(21),d=n.n(u),f=n(5),h=n.n(f),p=n(1),m=n.n(p),g=n(0),v=n.n(g);function y(e){return"$"+e}function b(e){return e.substring(1)}function _(){this._store={}}function w(e){if(this._store=new _,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function k(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}_.prototype.get=function(e){var t=y(e);return this._store[t]},_.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},_.prototype.has=function(e){return y(e)in this._store},_.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},_.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),w.prototype.add=function(e){return this._store.set(e,!0)},w.prototype.has=function(e){return this._store.has(e)},w.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(w.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=w,r=_):(i=Set,r=Map);var E=Function.prototype.toString,S=E.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return k(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==S}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return h()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function x(e){return h()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var o;try{var s=A((function(e,t){e?r(e):i(t)}));t.push(s),(o=e.apply(n,t))&&"function"==typeof o.then&&i(o)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return x(h()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),o(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(o){o?r(o):t(i[e].apply(i,n))}))}))})))}function B(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o in e&&(n[o]=e[o])}return n}var q;function I(e){return e}function O(e){return[{ok:e}]}function N(e,t,n){var i=t.docs,o=new r;i.forEach((function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])}));var s=o.size,a=0,c=new Array(s);function l(){var e;++a===s&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];o.forEach((function(e,t){u.push(t)}));var d=0;function f(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var s=i+r,a=o.get(n),u=B(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(I);var d=I;0===u.open_revs.length&&(delete u.open_revs,d=O),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,o;i=e?[{error:e}]:d(t),r=n,o=i,c[s]={id:r,docs:o},l(),f()}))}))}(i,d),d+=i.length}}f()}try{localStorage.setItem("_pouch_check_localstorage",1),q=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){q=!1}function T(){return q}function P(){v.a.call(this),this._listeners={},function(e){T()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function j(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function M(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function D(e,t){j("info","The above "+e+" is totally normal. "+t)}m()(P,v.a),P.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(o)o="waiting";else{o=!0;var e=B(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===o&&s()(a),o=!1})).on("error",(function(){o=!1}))}}},P.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},P.prototype.notifyLocalWindows=function(e){T()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},P.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var R="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function F(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}m()(F,Error),F.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new F(401,"unauthorized","Name or password is incorrect.");var U=new F(400,"bad_request","Missing JSON list of 'docs'"),V=new F(404,"not_found","missing"),$=new F(409,"conflict","Document update conflict"),H=new F(400,"bad_request","_id field must contain a string"),z=new F(412,"missing_id","_id is required for puts"),G=new F(400,"bad_request","Only reserved document ids may start with underscore."),K=(new F(412,"precondition_failed","Database not open"),new F(500,"unknown_error","Database encountered an unknown error")),W=new F(500,"badarg","Some query argument is invalid"),J=(new F(400,"invalid_request","Request was invalid"),new F(400,"query_parse_error","Some query parameter is invalid")),X=new F(500,"doc_validation","Bad special document member"),Y=new F(400,"bad_request","Something wrong with the request"),Q=new F(400,"bad_request","Document must be a JSON object"),Z=(new F(404,"not_found","Database not found"),new F(500,"indexed_db_went_bad","unknown")),ee=(new F(500,"web_sql_went_bad","unknown"),new F(500,"levelDB_went_went_bad","unknown"),new F(403,"forbidden","Forbidden by design doc validate_doc_update function"),new F(400,"bad_request","Invalid rev format")),te=(new F(412,"file_exists","The database could not be created, the file already exists."),new F(412,"missing_stub","A pre-existing attachment stub wasn't found"));new F(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=F.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=K).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(Y,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var o in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function oe(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function se(e){var t;if(e?"string"!=typeof e?t=ne(H):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(G)):t=ne(z),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(j("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,fe=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function he(e){for(var t=fe.exec(e),n={},i=14;i--;){var r=ue[i],o=t[i]||"",s=-1!==["user","password"].indexOf(r);n[r]=s?decodeURIComponent(o):o}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function pe(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function me(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,o=n(i);return o?(o._id=t,o._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return me(e,t._id,n)}))}(e,o,n)):{updated:!1,rev:r}}))}var ge=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function _e(e,t){return ye([be(e)],{type:t})}function we(e,t){return _e(ge(e),t)}function ke(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Ee(e,t){ke(e,(function(e){t(e)}))}function Se(e,t){Ee(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function xe(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),o=Math.ceil(i/r),s=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?xe:Ae;function u(){Le(f)}function d(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function f(){var t=s*r,n=t+r;s++,c(a,e,t,n,s<o?u:d)}f()}function Be(e){return l.a.hash(e)}function qe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=R({},e);return delete n._rev_tree,Be(JSON.stringify(n))}var Ie=a.a;function Oe(e){for(var t,n,i,r,o=e.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)o.push({pos:c+1,ids:a[l]});else{var d=!!s[1].deleted,f=s[0];t&&!(i!==d?i:n!==c?n<c:t<f)||(t=f,n=c,i=d)}}return n+"-"+t}function Ne(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,o=n.ids,s=o[2],a=t(0===s.length,r,o[0],n.ctx,o[1]),c=0,l=s.length;c<l;c++)i.push({pos:r+1,ids:s[c],ctx:a})}function Te(e,t){return e.pos-t.pos}function Pe(e){var t=[];Ne(e,(function(e,n,i,r,o){e&&t.push({rev:n+"-"+i,pos:n,opts:o})})),t.sort(Te).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function je(e){for(var t=Oe(e),n=Pe(e.rev_tree),i=[],r=0,o=n.length;r<o;r++){var s=n[r];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function Me(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,o=t.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:s,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,f=c.length;d<f;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function De(e,t){return e.pos-t.pos}function Re(e,t,n){var i=function(e,t,n){for(var i,r=0,o=e.length;r<o;)n(e[i=r+o>>>1],t)<0?r=i+1:o=i;return r}(e,t,n);e.splice(i,0,t)}function Fe(e,t){for(var n,i,r=t,o=e.length;r<o;r++){var s=e[r],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ue(e,t){return e[0]<t[0]?-1:1}function Ve(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),o=r.tree1,s=r.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var c=!1,l=0;l<o[2].length;l++)o[2][l][0]===s[2][a][0]&&(n.push({tree1:o[2][l],tree2:s[2][a]}),c=!0);c||(i="new_branch",Re(o[2],s[2][a],Ue))}else i="new_leaf",o[2][0]=s[2][a]}return{conflicts:i,tree:e}}function $e(e,t,n){var i,r=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=Ve(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),o=o||i.conflicts,s=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,f=d.pos-u.pos,h=[],p=[];for(p.push({ids:u.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var g=m.ids[2],v=0,y=g.length;v<y;v++)p.push({ids:g[v],diff:m.diff-1,parent:m.ids,parentIdx:v});else m.ids[0]===d.ids[0]&&h.push(m)}var b=h[0];b?(i=Ve(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),o=o||i.conflicts,s=!0):r.push(l)}else r.push(l)}return s||r.push(t),r.sort(De),{tree:r,conflicts:o||"internal_node"}}function He(e,t,n){var i=$e(e,t),r=function(e,t){for(var n,i,r=Me(e),o=0,s=r.length;o<s;o++){var a,c=r[o],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Fe(l,u)};for(var d=0;d<u;d++){var f=c.pos+d+"-"+l[d].id;n[f]=!0}}else a={pos:c.pos,ids:Fe(l,0)};i=i?$e(i,a,!0).tree:[a]}return n&&Ne(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function ze(e){return e.ids}function Ge(e,t){t||(t=Oe(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(ze);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ke(e){return/^_local/.test(e)}function We(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,s;t?(s="error",("listenerCount"in(r=i)?r.listenerCount(s):v.a.listenerCount(r,s))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){j("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var s=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Je(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Pe(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ge(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=je(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Xe(e,t){return e<t?-1:e>t?1:0}function Ye(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Qe(e,t){var n=Xe(e._id,t._id);return 0!==n?n:Xe(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ze(){for(var e in v.a.call(this),Ze.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,o=tt.prefix,s=t.adapter;if(!s)for(var a=0;a<r.length&&("idb"===(s=r[a])&&"websql"in i&&T()&&localStorage["_pouch__websqldb_"+o+e]);++a)j("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[s];return{name:!c||!("use_prefix"in c)||c.use_prefix?o+e:e,adapter:s}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Ze.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}m()(We,v.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Je,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&j("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=h()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},m()(Ze,v.a),Ze.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));this.bulkDocs({docs:[e]},t,Ye(n,e._id))})),Ze.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));if(se(e._id),Ke(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,o,s,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Ye(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],o=parseInt(i[0],10)+1,s=qe(),e._revisions={start:o,ids:[s,r]},e._rev=o+"-"+s,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Ze.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var o=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},o.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||j("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw ne($);return s(e)}),(function(t){if(t.reason===V.message)return s({_id:e});throw t}))})),Ze.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,o){if(e)i(e);else if(o._rev===n){if(!o._attachments)return i();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,r.put(o,i)}else i(ne($))}))})),Ze.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ke(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[o]},n,Ye(i,o._id))})),Ze.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var o=0,s=new r;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Ne(n,(function(e,n,r,o,s){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==s.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++o===i.length){var l={};return s.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Ze.prototype.bulkGet=C("bulkGet",(function(e,t){N(this,e,t)})),Ze.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,o){if(r)return n(r);var s=function(e){var t={},n=[];return Ne(e,(function(e,i,r,o){var s=i+"-"+r;return e&&(t[s]=0),void 0!==o&&n.push({from:o,to:s}),s})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(o),a=[],c=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),Ne(o,(function(e,t,n,i,r){var o=t+"-"+n;"available"===r.status&&-1!==a.indexOf(o)&&c.push(o)})),i._doCompaction(e,c,n)}))})),Ze.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),s()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Ze.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return me(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Ze.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(H));if(Ke(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function o(){var o=[],s=i.length;if(!s)return n(null,o);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:i});else{for(var r,a=0,c=o.length;a<c;a++)if(o[a].ok&&o[a].ok._rev===t._rev){r=!0;break}r||o.push({ok:t})}--s||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,o){if(i)return i.docId=e,n(i);var s=o.doc,a=o.metadata,c=o.ctx;if(t.conflicts){var l=je(a);l.length&&(s._conflicts=l)}if(Ge(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var u=s._rev.split("-"),d=parseInt(u[0],10),f=u[1],h=Me(a.rev_tree),p=null,m=0;m<h.length;m++){var g=h[m],v=g.ids.map((function(e){return e.id})).indexOf(f);(v===d-1||!p&&-1!==v)&&(p=g)}if(!p)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=p.ids.map((function(e){return e.id})).indexOf(s._rev.split("-")[1])+1,b=p.ids.length-y;if(p.ids.splice(y,b),p.ids.reverse(),t.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var _=p.pos+p.ids.length;s._revs_info=p.ids.map((function(e){return{rev:--_+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var w=s._attachments,k=Object.keys(w).length;if(0===k)return n(null,s);Object.keys(w).forEach((function(e){this._getAttachment(s._id,e,w[e],{rev:s._rev,binary:t.binary,ctx:c},(function(t,i){var r=s._attachments[e];r.data=i,delete r.stub,delete r.length,--k||n(null,s)}))}),r)}else{if(s._attachments)for(var E in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,E)&&(s._attachments[E].stub=!0);n(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Pe(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(ne(K,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}o()}})),Ze.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(o,s){return o?i(o):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void r._getAttachment(e,t,s.doc._attachments[t],n,i)):i(ne(V))}))})),Ze.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(J,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Ze.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Ze.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Ze.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Ze.prototype.id=C("id",(function(e){return this._id(e)})),Ze.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ze.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(U));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(Q));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||j("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(Y,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||ae(o)||e.docs.sort(Qe),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=B(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(o))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||s[r];n(null,i)}))})),Ze.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);me(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Ze.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):r();var s=o.dependentDbs,a=n.constructor,c=Object.keys(s).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},m()(tt,Ze);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var ot=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=ot[t].bind(ot))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=R({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=R({},t.__defaults,n),tt.call(this,e,n)}return m()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=R({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function st(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var o=e[i];i>0&&"\\"===e[i-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var o=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),s=dt([e,n]);Object.keys(s).length<=i||o.push(s)}))})),t[i]=o}else t[i]=dt([r]);else{var s=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,s):void(s[e]=t)}))}}))})),t}function ft(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:n||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),t[o]=s}return t}function ht(e,t){if(e===t)return 0;e=pt(e),t=pt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ht(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),o=0;o<r;o++){var s=ht(n[o],i[o]);if(0!==s)return s;if(0!==(s=ht(e[n[o]],t[i[o]])))return s}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function pt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=pt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];void 0!==o&&(e[r]=pt(o))}}}return e}function mt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",o=(s=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(s,a,c)+s);var s,a,c;r+=""+o;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,o="";if(t)for(;++i<r;)o+=gt(n[i]);else for(;++i<r;){var s=n[i];o+=gt(s)+gt(e[s])}return o}return""}function gt(e){return bt(e=pt(e))+""+mt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var o="",s=e.substring(t,t+3),a=parseInt(s,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function _t(e,t,n){if(e=e.filter((function(e){return wt(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return st(t,n)}))}return function(e,n){var i,r,o=ht(t(e.doc),t(n.doc));return 0!==o?o:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function wt(e,t,n){return n.every((function(n){var i=t[n],r=at(n),o=st(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return wt(n,e,Object.keys(e))}));if("$not"===e)return!wt(n,t,Object.keys(t));return!t.find((function(e){return wt(n,e,Object.keys(e))}))}(n,i,e):kt(i,e,r,o)}))}function kt(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var o=e[r];if(0===r.indexOf("$"))return Et(r,t,o,n,i);var s=at(r);if(void 0===i&&"object"!=typeof o&&s.length>0)return!1;var a=st(i,s);return"object"==typeof o?kt(o,t,n,a):Et("$eq",t,o,s,a)})):e===i)}function Et(e,t,n,i,r){if(!xt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return xt[e](t,n,i,r)}function St(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ht(t,e)})):0===ht(t,e)}))}var xt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return wt(e,t,Object.keys(t))})):i.some((function(i){return kt(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return wt(e,t,Object.keys(t))})):i.every((function(i){return kt(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ht(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ht(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ht(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ht(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ht(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return St(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ht(i,e)}))},$in:function(e,t,n,i){return St(i)&&At(i,t)},$nin:function(e,t,n,i){return St(i)&&!At(i,t)},$size:function(e,t,n,i){return St(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ht(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return St(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function Bt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function qt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function It(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(Y,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!s)return n(ne(V,o.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=pe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=_t([{doc:e}],{selector:t=ft(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=ce(t.filter);e.db.get("_design/"+o[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=r&&r.filters&&r.filters[o[1]];if(!s)return n(ne(V,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=pe('"use strict";\nreturn '+s+";",{}),e.doChanges(t)}))}}function Ot(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:Bt,shouldFilter:qt,filter:It}})),tt.version="7.3.0";var Nt=Ot(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Tt=Ot(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Pt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function jt(e,t,n){var i,r,o;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=Ie()),r=qe(e,n.deterministic_revs),e._rev){if((o=Pt(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,s,[]]]]}],i=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,s,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],o=1,s=i.length;o<s;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,s),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((o=Pt(e._rev)).error)return o;i=o.prefix,r=o.id,e._rev_tree=[{pos:i,ids:[r,s,[]]}]}se(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Nt[c]){var u=ne(X,c);throw u.message=X.message+": "+c,u}l&&!Tt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Mt(e,t,n){var i=function(e){try{return ge(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?_e(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Dt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Mt(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Ee(e.data,(function(t){e.data=t,n()})):"base64"===t?Se(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Rt(e,t,n,i,r,o,s,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),o=parseInt(r[0],10),s=r[1];n=i.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,o();var c=t.winningRev||Oe(t),l="deleted"in t?t.deleted:Ge(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ge(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var f=n.data;f._rev=c,f._id=n.metadata.id,n=jt(f,a)}var h=He(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==h.conflicts||!l&&"new_leaf"!==h.conflicts||l&&!u&&"new_branch"===h.conflicts)){var p=ne($);return i[r]=p,o()}var m=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Oe(n.metadata),v=Ge(n.metadata,g),y=l===v?0:l<v?-1:1;s(n,g,v,m===g?v:Ge(n.metadata,m),!0,y,r,o)}function Ft(e,t,n,i,o,s,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,f=0,h=t.length;function p(){++f===h&&l&&l()}t.forEach((function(e,t){if(e._id&&Ke(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:o},(function(e,n){s[t]=e||n,p()}))}else{var r=e.metadata.id;d.has(r)?(h--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function o(){++r<t.length?l():p()}function l(){var l=t[r],d=l[0],f=l[1];if(i.has(n))Rt(e,i.get(n),d,s,f,o,a,u);else{var h=He([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=h.tree,d.stemmedRevs=h.stemmedRevs||[],function(e,t,n){var i=Oe(e.metadata),r=Ge(e.metadata,i);if("was_delete"in c&&r)return s[t]=ne(V,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var o=ne($);return s[t]=o,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,f,o)}}l()}))}var Ut="document-store",Vt="meta-store";function $t(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ht(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Z,n,t.type))}}function zt(e,t,n){return{data:$t(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Gt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Kt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:we(e,t):ye([""],{type:t})):e?"string"!=typeof e?ke(e,(function(e){i(ve(e))})):i(e):i("")}function Jt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var o=0;function s(){++o===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,s()}}(e,i):(e._attachments[i].stub=!0,s())}))}function Xt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new Promise((function(s){Wt(r,o,t,(function(t){e.doc._attachments[n]=R(B(i,["digest","content_type"]),{data:t}),s()}))}))}})))}})))}function Yt(e,t,n){var i=[],r=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),s=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::ï¿¿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else c()}}}))}function Qt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Zt=new P;function en(e,t,n,i,o,s){for(var a,c,l,u,d,f,h,p,m=t.docs,g=0,v=m.length;g<v;g++){var y=m[g];y._id&&Ke(y._id)||(y=m[g]=jt(y,n.new_edits,e)).error&&!h&&(h=y)}if(h)return s(h);var b=!1,_=0,w=new Array(m.length),k=new r,E=!1,S=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){p&&b&&(p.docCount+=_,f.put(p))}function x(){E||(Zt.notify(i._meta.name),s(null,w))}function C(e,t,n,i,r,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,o){var s=e.data,a=0,c=Object.keys(s._attachments);function l(){a===c.length&&B(e,t,n,i,r,o)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,s,a);_+=o,A(),B(e,t,n,r,s,a)}function B(e,t,n,r,o,s){var u=e.data,f=e.metadata;function h(o){var s=e.stemmedRevs||[];r&&i.auto_compaction&&(s=s.concat(function(e){var t=[];return Ne(e.rev_tree,(function(e,n,i,r,o){"available"!==o.status||e||(t.push(n+"-"+i),o.status="missing")})),t}(e.metadata))),s&&s.length&&Yt(s,e.metadata.id,a),f.seq=o.target.result;var l=zt(f,t,n);c.put(l).onsuccess=p}function p(){w[o]={ok:!0,id:f.id,rev:f.rev},k.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function o(){++i===r.length&&n()}function s(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=o,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var a=0;a<r.length;a++)s(r[a])}(e,f.seq,s)}u._doc_id_rev=f.id+"::"+f.rev,delete u._id,delete u._rev;var m=l.put(u);m.onsuccess=h,m.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=h}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function o(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return o();function s(e){i=e,++r===n.length&&o()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Dt(e.data._attachments[a],t,s)}))}(m,S,(function(t){if(t)return s(t);!function(){var t=Qt(o,[Ut,"by-sequence","attach-store","local-store","attach-seq-store",Vt],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Ht(s),a.ontimeout=Ht(s),a.oncomplete=x,c=a.objectStore(Ut),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(f=a.objectStore(Vt)).get(Vt).onsuccess=function(e){p=e.target.result,A()},function(e){var t=[];if(m.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return E=!0,s(t);!function(){if(!m.length)return;var t=0;function r(){++t===m.length&&Ft(e.revs_limit,m,i,k,a,w,C,n,L)}function o(e){var t=Gt(e.target.result);t&&k.set(t.id,t),r()}for(var s=0,l=m.length;s<l;s++){var u=m[s];if(u._id&&Ke(u._id))r();else c.get(u.metadata.id).onsuccess=o}}()}))}()}))}function tn(e,t,n,i,r){var o,s,a;function c(e){s=e.target.result,o&&r(o,s,a)}function l(e){o=e.target.result,s&&r(o,s,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!o.length)return r();var n,a=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,o=null,s=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,o="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(o,s,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Z,r.name,r.message));var f=[Ut,"by-sequence",Vt];e.attachments&&f.push("attach-store");var h=Qt(t,f,"readonly");if(h.error)return n(h.error);var p=h.txn;p.oncomplete=function(){e.attachments?Xt(k,e.binary).then(A):A()},p.onabort=Ht(n);var m,g,v,y=p.objectStore(Ut),b=p.objectStore("by-sequence"),_=p.objectStore(Vt),w=b.index("_doc_id_rev"),k=[];function E(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(k.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(k.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;w.get(r).onsuccess=function(i){if(n.doc=Kt(i.target.result)||{},e.conflicts){var r=je(t);r.length&&(n.doc._conflicts=r)}Jt(n.doc,e,p)}}(n,i,t))}function S(e){for(var t=0,n=e.length;t<n&&k.length!==u;t++){var i=e[t];if(i.error&&c)k.push(i);else{var r=Gt(i);E(r.winningRev,r)}}}function L(e,t,n){n&&(S(t),k.length<u&&n.continue())}function A(){var t={total_rows:m,offset:e.skip,rows:k};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return _.get(Vt).onsuccess=function(e){m=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(g=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(o,s){t.get(o).onsuccess=function(t){t.target.result?i[s]=t.target.result:i[s]={key:o,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),S(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,on=[];function sn(){!rn&&on.length&&(rn=!0,on.shift()())}function an(e,t,n,o){if((e=L(e)).continuous){var s=n+":"+Ie();return Zt.addListener(n,s,t,e),Zt.notify(n),{cancel:function(){Zt.removeListener(n,s)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,f,h,p=[],m=0,g=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;h.get(r).onsuccess=function(e){i(n,Kt(e.target.result))}}function b(){e.complete(null,{results:p,last_seq:c})}var _=[Ut,"by-sequence"];e.attachments&&_.push("attach-store");var w=Qt(o,_,"readonly");if(w.error)return e.complete(w.error);(u=w.txn).onabort=Ht(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Xt(p).then(b):b()},d=u.objectStore("by-sequence"),f=u.objectStore(Ut),h=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),o=new Array(t.length),s=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);f.get(e._id).onsuccess=function(r){i=Gt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(Kt(n),t[c],(function(n,a){o[c]=n,r[c]=a,++s===t.length&&function(){for(var t=[],n=0,s=r.length;n<s&&m!==l;n++){var a=r[n];if(a){var c=o[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),m!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=g(i);return"object"==typeof r?Promise.reject(r):r?(m++,e.return_docs&&p.push(i),e.attachments&&e.include_docs?new Promise((function(t){Jt(n,e,u,(function(){Xt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){on.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,s()((function(){sn()}))}))})),sn()}((function(t){!function(e,t,n){var i=t.name,r=null,o=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&o&&(t.reason=o),e(t,n)}}function c(e,t){var n=e.objectStore(Ut);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,o=Ge(r);r.deletedOrLocal=o?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Ut),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,c=Ke(a),l=Oe(s);if(c){var u=a+"::"+l,d=a+"::",f=a+"::~",h=r.index("_doc_id_rev"),p=IDBKeyRange.bound(d,f,!1,!1),m=h.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===u&&n.put(t),r.delete(m.primaryKey),m.continue()}else i.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,o=n.primaryKey,s=Object.keys(i._attachments||{}),a={},c=0;c<s.length;c++){a[i._attachments[s[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:o,digestSeq:u+"::"+o})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Ut);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,o=(r=i.value).data?Gt(r):(r.deleted="1"===r.deletedOrLocal,r);if(o.winningRev=o.winningRev||Oe(o),o.seq)return s();!function(){var e=o.id+"::",n=o.id+"::ï¿¿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=r,s();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function s(){var e=zt(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=x((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,o){en(t,n,i,e,r,a(o))},e._get=function(e,t,n){var i,o,s,a=t.ctx;if(!a){var c=Qt(r,[Ut,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(s,{doc:i,metadata:o,ctx:a})}a.objectStore(Ut).get(e).onsuccess=function(e){if(!(o=Gt(e.target.result)))return s=ne(V,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,o=n.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:s,pos:r,opts:a}),l)for(var d=0,f=u.length;d<f;d++){var h=u[d];if(h.pos+"-"+h.id===e)return r+"-"+s}for(var p=0,m=c.length;p<m;p++)i.push({pos:r+1,ids:c[p],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else if(n=o.winningRev,Ge(o))return s=ne(V,"deleted"),l();var r=a.objectStore("by-sequence"),c=o.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Kt(i)),!i)return s=ne(V,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,o){var s;if(i.ctx)s=i.ctx;else{var a=Qt(r,[Ut,"by-sequence","attach-store"],"readonly");if(a.error)return o(a.error);s=a.txn}var c=n.digest,l=n.content_type;s.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){o(null,e)}))}},e._info=function(t){var n,i,o=Qt(r,[Vt,"by-sequence"],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(Vt).get(Vt).onsuccess=function(e){i=e.target.result.docCount},s.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Qt(r,[Ut],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Ut).get(e).onsuccess=function(e){var n=Gt(e.target.result);n?t(null,n.rev_tree):t(ne(V))}},e._doCompaction=function(e,t,n){var i=Qt(r,[Ut,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var o=i.txn;o.objectStore(Ut).get(e).onsuccess=function(n){var i=Gt(n.target.result);Ne(i.rev_tree,(function(e,n,i,r,o){var s=n+"-"+i;-1!==t.indexOf(s)&&(o.status="missing")})),Yt(t,e,o);var r=i.winningRev,s=i.deleted;o.objectStore(Ut).put(zt(i,r,s))},o.onabort=Ht(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Qt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ht(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(V))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,o=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var c=Qt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ht(n),a.oncomplete=function(){s&&n(null,s)}}var l,u=a.objectStore("local-store");i?(l=u.get(o)).onsuccess=function(r){var o=r.target.result;o&&o._rev===i?u.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)}:n(ne($))}:((l=u.add(e)).onerror=function(e){n(ne($)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,o=t.ctx;if(!o){var s=Qt(r,["local-store"],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=o.objectStore("local-store"),l=c.get(a);l.onerror=Ht(n),l.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(V))}},e._destroy=function(e,t){Zt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),T()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ht(t)};var f=ln.get(i);if(f)return r=f.idb,e._meta=f.global,s()((function(){n(null,e)}));var h=indexedDB.open(i,5);un.set(i,h),h.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Ut,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(Vt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},h.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){j("error","Database has a global failure",e.target.error),o=e.target.error,r.close(),ln.delete(i)};var s,a,c,l,u=r.transaction([Vt,"detect-blob-support",Ut],"readwrite"),d=!1;function f(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function h(){if(void 0!==a&&void 0!==s){var e=i+"_id";e in s?l=s[e]:s[e]=l=Ie(),s.docCount=a,u.objectStore(Vt).put(s)}}u.objectStore(Vt).get(Vt).onsuccess=function(e){s=e.target.result||{id:Vt},h()},function(e,t){e.objectStore(Ut).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,h()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,f()})),u.oncomplete=function(){d=!0,f()},u.onabort=Ht(n)},h.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",j("error",t),n(ne(Z,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var fn={};function hn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=we(t.data,t.content_type)}))}function pn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function mn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){Se(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function gn(e,t){if(function(e){if(!e.prefix)return!1;var t=he(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=he(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function _n(t,n){var i=this,r=gn(t.name,t),o=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,o=i.username+":"+i.password,s=ve(unescape(encodeURIComponent(o)));n.headers.set("Authorization","Basic "+s)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||i||r)&&o}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,h()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(o).catch((function(e){return e&&e.status&&404===e.status?(D(404,"PouchDB is just detecting if the remote exists."),u(o,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function f(e){return e.split("/").map(encodeURIComponent).join("/")}s()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(hn)})),t(null,n.data)})).catch(t)}function o(){var i=Math.ceil(e.docs.length/50),r=0,o=new Array(i);function s(e){return function(n,s){o[e]=s.results,++r===i&&t(null,{results:oe(o)})}}for(var a=0;a<i;a++){var c=B(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),N(n,c,s(a))}}var s=yn(r,""),a=fn[s];"boolean"!=typeof a?i((function(e,n){e?(fn[s]=!1,D(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(fn[s]=!0,t(null,n))})):a?i(t):o()})),i._info=function(e){d().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function o(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,o=0,s=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():f()}function u(){o--,l()}function d(e){o--,r=r||e,l()}function f(){for(;o<t&&s<c;)o++,e[s++]().then(u,d)}f()}))}(i.map((function(i){return function(){return function(i){var o=n[i],s=pn(e._id)+"/"+f(i)+"?rev="+e._rev;return c(vn(r,s)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=o.content_type),e}return new Promise((function(t){Se(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=pn(e),u(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var s=o._rev||n.rev;u(vn(r,pn(o._id))+"?rev="+s,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,o){"function"==typeof i&&(o=i,i={});var s,a=i.rev?"?rev="+i.rev:"",l=vn(r,pn(t))+"/"+f(n)+a;c(l,{method:"GET"}).then((function(t){if(s=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=s),o(null,t)})).catch((function(e){o(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(vn(r,pn(e)+"/"+f(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,o,s){"function"==typeof o&&(s=o,o=i,i=n,n=null);var a=pn(e)+"/"+f(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=ge(i)}catch(e){return s(ne(W,"Attachment is not a valid base64 string"))}i=l?_e(l,o):""}u(c,{headers:new rt({"Content-Type":o}),method:"PUT",body:i},s).catch(s)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(mn))})).then((function(){return u(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return mn(e)})).then((function(){return u(vn(r,pn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},o="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var s=bn(i);void 0!==e.keys&&(o="POST",n={keys:e.keys}),u(vn(r,"_all_docs"+s),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(hn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var o=void 0!==e.limit&&e.limit,a=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,f="GET";e.doc_ids?(i.filter="_doc_ids",f="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",f="POST",l={selector:e.selector});var h,p=new nt,m=function(n,s){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=a):i.limit=!o||a>t?t:a;var c=vn(r,"_changes"+bn(i)),m={signal:p.signal,method:f,body:JSON.stringify(l)};h=n,e.aborted||d().then((function(){return u(c,m,s)})).catch(s)}},g={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,g.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(l=g.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&hn(t),e.return_docs&&g.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(h=i.last_seq);var u=o&&a<=0||i&&r<t||e.descending;(!e.continuous||o&&a<=0)&&u?e.complete(null,g):s()((function(){m(h,v)}))}};return m(e.since||0,v),{cancel:function(){e.aborted=!0,p.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function wn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function kn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,kn)}catch(e){}}function En(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e,t){return t&&e.then((function(e){s()((function(){t(null,e)}))}),(function(e){s()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function xn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new En("builtin "+e+" function requires map values to be numbers or number arrays")}function Bn(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=r.length;o<s;o++){var a=r[o];if("number"!=typeof a)throw Cn("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}_n.valid=function(){return!0},m()(wn,Error),m()(kn,Error),m()(En,Error);var qn=j.bind(null,"log"),In=Array.isArray,On=JSON.parse;function Nn(e,t){return pe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Bn,log:qn,isArray:In,toJSON:On})}function Tn(){this.promise=new Promise((function(e){e()}))}function Pn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function jn(e,t,n,i,r,o){var s,a=function(e,t){return Pn(e)+Pn(t)+"undefined"}(n,i);if(!r&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Be(a));return me(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var o={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",(function(){delete s[a]})),o}))}))}))}));return s&&(s[a]=c),c}Tn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Tn.prototype.finish=function(){return this.promise};var Mn={},Dn=new Tn;function Rn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Fn(e,t){try{e.emit("error",t)}catch(e){j("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),j("error",t)}}var Un=function(e,t){return Bn(t)},Vn=function(e,t){return t.length},$n=function(e,t){return{sum:Bn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Hn=function(e,t,n,o){function a(e,t,n){try{t(n)}catch(t){Fn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Fn(e,t),{error:t}}}function l(e,t){var n=ht(e.key,t.key);return 0!==n?n:ht(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=we(n.data,n.content_type)}))}))}(t),t}}function p(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function m(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function g(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ht(e[n],e[i])>0)throw new wn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new wn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new wn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new wn('Invalid value for integer: "'+e+'"');if(e<0)return new wn('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,o={_id:r,keys:[]},s=n.get(e),a=s[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(s[1])?Promise.resolve(o):t.db.get(r).catch(v(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,o=0,s=t.rows.length;o<s;o++){var c=t.rows[o].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=xn(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Mn[t];return n||(n=Mn[t]=new Tn),n}function _(e,n){return Ln(b(e),(function(){return function(e,n){var i,o;var s=t(e.mapFun,(function(e,t){var n={id:o._id,key:pt(e)};null!=t&&(n.value=pt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=xn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=oe(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,f={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",f);var h=new Tn;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(m)}function m(t){var f=t.results;if(!f.length)return;var m=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var f=t[u];if("_"!==f.doc._id[0]){i=[],(o=f.doc)._deleted||a(e.sourceDB,s,o),i.sort(l);var h=g(i);n.set(f.doc._id,[h,f.changes])}c=f.seq}return n}(f);h.add(u(m,c)),d+=f.length;let v={view:e.name,last_seq:t.last_seq,results_count:f.length,indexed_docs:d};return e.sourceDB.emit("indexing",v),f.length<n.changes_batch_size?void 0:p()}function g(e){for(var t,n=new r,i=0,o=e.length;i<o;i++){var s=e[i],a=[s.key,s.id];i>0&&0===ht(s.key,t)&&a.push(i),n.set(gt(a),s),t=s.key}return n}return p().then((function(){return h.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function w(e,t){return Ln(b(e),(function(){return function(e,t){var i,o=e.reduceFun&&!1!==t.reduce,s=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var o=vt(e,i);t.push(o.num),i+=o.length;break;case"4":for(var s="";;){var a=e[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=o?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,o=n(e.reduceFun),s=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=s[s.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ht(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=s.length;l<d;l++){var f=s[l],h=c(e.sourceDB,o,f.keys,f.values,!1);if(h.error&&h.error instanceof En)throw h.error;t.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:s,rows:a}:{total_rows:i,offset:s,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var f=An(a.map(d));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var f=t.keys.map((function(e){var n={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(f).then(oe).then(l)}var h,p,m={descending:t.descending};if(t.update_seq&&(m.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==h&&(m.startkey=t.descending?gt([h,{}]):gt([h])),void 0!==p){var g=!1!==t.inclusive_end;t.descending&&(g=!g),m.endkey=gt(g?[p,{}]:[p])}if(void 0!==t.key){var v=gt([t.key]),y=gt([t.key,{}]);m.descending?(m.endkey=v,m.startkey=y):(m.startkey=v,m.endkey=y)}return o||("number"==typeof t.limit&&(m.limit=t.limit),m.skip=s),a(m).then(l)}(e,t)}))()}function k(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,o,s=[],a="GET";if(p("reduce",n,s),p("include_docs",n,s),p("attachments",n,s),p("limit",n,s),p("descending",n,s),p("group",n,s),p("group_level",n,s),p("skip",n,s),p("stale",n,s),p("conflicts",n,s),p("startkey",n,s,!0),p("start_key",n,s,!0),p("endkey",n,s,!0),p("end_key",n,s,!0),p("inclusive_end",n,s),p("key",n,s,!0),p("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Rn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(f(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e})).then(f(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return g(i,n),Dn.add((function(){return jn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=_(e,r).then((function(){return w(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Dn.finish();var a=n,c=Rn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new kn("ddoc "+n._id+" has no view named "+u);return o(n,u),g(i,c),jn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&s()((function(){_(e,r)})),w(e,i)):_(e,r).then((function(){return w(e,i)}))}))}))}var E;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=m(e.group_level),e.limit=m(e.limit),e.skip=m(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return k(i,e,t)}));return Sn(r,n),r},viewCleanup:(E=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=Rn(e),r="_design/"+t[0],o=t[1],s=n.get(r);s||(s=new i,n.set(r,s)),s.add(o)}));var o={keys:xn(n),include_docs:!0};return t.allDocs(o).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var o=i+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach((function(e){r[e]=r[e]||a}))}))}));var o=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},h()((function(e){var t=e.pop(),n=E.apply(this,e);return"function"==typeof t&&Sn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Nn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Un;if(/^_count/.test(e))return Vn;if(/^_stats/.test(e))return $n;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Nn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new kn("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var zn={query:function(e,t,n){return Hn.query.call(this,e,t,n)},viewCleanup:function(e){return Hn.viewCleanup.call(this,e)}};function Gn(e){return/^1-/.test(e)}function Kn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],o=!0;function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Gn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Gn(t[0])}));if(e.length>0)return s(e)})).then((function(){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(o=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Kn(t,n)})):Kn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(oe(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:r}}))}function Jn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||D(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==i})),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=i,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return Jn(e,t,n,i,r);throw o}))}))}function Xn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Xn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Xn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Jn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Xn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Jn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Zn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Yn={undefined:function(e,t){return 0===ht(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),o=n[0],s=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Qn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Qn(o.session_id,r))return{last_seq:o.last_seq,history:s};return e(r,s)}(e.history,t.history)}(t,e).last_seq}};function Qn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Qn(e,i))}function Zn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Xn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Yn?Yn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Zn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ht):"",r=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort(ht).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+s+o+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var o,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,f=!1,h=!1,p=0,m=n.continuous||n.live||!1,g=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,_=n.doc_ids,w=n.selector,k=[],E=Ie();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var S={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Xn(e,t,a,i,o)}))}function x(){if(k=[],0!==o.docs.length){var e=o.docs,s={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},s).then((function(t){if(i.cancelled)throw N(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=e.length-o,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;i.emit("denied",L(t))}else k.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=p=o.seq;var e=L(r);return k.length&&(e.docs=k,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(o.seq,E).then((function(){if(i.emit("checkpoint",{checkpoint:o.seq}),d=!1,i.cancelled)throw N(),new Error("cancelled");o=void 0,D()})).catch((function(e){throw F(e),e}))}function B(){return Wn(e,t,o.diffs,i).then((function(e){o.error=!e.ok,e.docs.forEach((function(e){delete o.diffs[e._id],r.docs_read++,o.docs.push(e)}))}))}function q(){var e;i.cancelled||o||(0!==l.length?(o=l.shift(),i.emit("checkpoint",{start_next_batch:o.seq}),(e={},o.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw N(),new Error("cancelled");o.diffs=e}))).then(B).then(x).then(C).then(q).catch((function(e){O("batch processing terminated with error",e)}))):I(!0))}function I(e){0!==u.changes.length?(e||f||u.changes.length>=g)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),q()):0!==l.length||o||((m&&S.live||f)&&(i.state="pending",i.emit("paused")),f&&N())}function O(e,t){h||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},N(t))}function N(o){if(!(h||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=p,h=!0,o){(o=ne(o)).result=r;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",o),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=M),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,o,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function T(e,t,r){if(i.cancelled)return N();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),s()((function(){I(0===l.length&&S.live)})))}function P(e){if(b=!1,i.cancelled)return N();if(e.results.length>0)S.since=e.results[e.results.length-1].seq,D(),I(!0);else{var t=function(){m?(S.live=!0,D()):f=!0,I(!0)};o||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,E).then((function(){d=!1,r.last_seq=p=e.last_seq,t()})).catch(F))}}function j(e){if(b=!1,i.cancelled)return N();O("changes rejected",e)}function D(){if(!b&&!f&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(S).on("change",T);t.then(o,o),t.then(P).catch(j),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function o(){i.removeListener("cancel",r)}}function R(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){S={since:p=e,limit:g,batch_size:g,style:y,doc_ids:_,selector:w,return_docs:!0},n.filter&&("string"!=typeof n.filter?S.include_docs=!0:S.filter=n.filter),"heartbeat"in n&&(S.heartbeat=n.heartbeat),"timeout"in n&&(S.timeout=n.timeout),n.query_params&&(S.query_params=n.query_params),n.view&&(S.view=n.view),D()}));N()})).catch((function(e){O("getCheckpoint rejected with ",e)}))}function F(e){d=!1,O("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?N():(i._addedListeners||(i.once("cancel",N),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?R():A().then((function(){return d=!0,c.writeCheckpoint(n.since,E)})).then((function(){d=!1,i.cancelled?N():(p=n.since,R())})).catch(F))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(Y,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function oi(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new si(e=ii(e,n),t=ii(t,n),n,i)}function si(e,t,n,i){var r=this;this.canceled=!1;var o=n.push?R({},n,n.push):n,s=n.pull?R({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function f(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function h(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,o),this.pull=ri(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var m={};function g(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===f||n===d)||"active"===t&&(n===p||n===h))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",u),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",p),v(r.push,"active",h)):"paused"===e&&(v(r.pull,"paused",f),v(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",p),r.push.removeListener("active",h)):"paused"===e&&(r.pull.removeListener("paused",f),r.push.removeListener("paused",d))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}m()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},m()(si,v.a),si.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",_n,!1),e.adapter("https",_n,!1)})).plugin(zn).plugin((function(e){e.replicate=ri,e.sync=oi,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(35))},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return l})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return w.a})),n.d(t,"v5",(function(){return S})),n.d(t,"NIL",(function(){return L})),n.d(t,"version",(function(){return A})),n.d(t,"validate",(function(){return u.a})),n.d(t,"stringify",(function(){return s.a})),n.d(t,"parse",(function(){return d}));var i,r,o=n(20),s=n(9),a=0,c=0;var l=function(e,t,n){var l=t&&n||0,u=t||new Array(16),d=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==f){var h=e.random||(e.rng||o.a)();null==d&&(d=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=r=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,g=p-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=m,r=f;var v=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var y=p/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=f>>>8|128,u[l++]=255&f;for(var b=0;b<6;++b)u[l+b]=d[b];return t||Object(s.a)(u)},u=n(10);var d=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var f=function(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=d(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=a[c];return r}return Object(s.a)(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function h(e){return 14+(e+64>>>9<<4)+1}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,i,r,o){return p((s=p(p(t,e),p(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function g(e,t,n,i,r,o,s){return m(t&n|~t&i,e,t,r,o,s)}function v(e,t,n,i,r,o,s){return m(t&i|n&~i,e,t,r,o,s)}function y(e,t,n,i,r,o,s){return m(t^n^i,e,t,r,o,s)}function b(e,t,n,i,r,o,s){return m(n^(t|~i),e,t,r,o,s)}var _=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i=0;i<n;i+=8){var r=e[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[h(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=i,l=r,u=o;n=g(n,i,r,o,e[s],7,-680876936),o=g(o,n,i,r,e[s+1],12,-389564586),r=g(r,o,n,i,e[s+2],17,606105819),i=g(i,r,o,n,e[s+3],22,-1044525330),n=g(n,i,r,o,e[s+4],7,-176418897),o=g(o,n,i,r,e[s+5],12,1200080426),r=g(r,o,n,i,e[s+6],17,-1473231341),i=g(i,r,o,n,e[s+7],22,-45705983),n=g(n,i,r,o,e[s+8],7,1770035416),o=g(o,n,i,r,e[s+9],12,-1958414417),r=g(r,o,n,i,e[s+10],17,-42063),i=g(i,r,o,n,e[s+11],22,-1990404162),n=g(n,i,r,o,e[s+12],7,1804603682),o=g(o,n,i,r,e[s+13],12,-40341101),r=g(r,o,n,i,e[s+14],17,-1502002290),i=g(i,r,o,n,e[s+15],22,1236535329),n=v(n,i,r,o,e[s+1],5,-165796510),o=v(o,n,i,r,e[s+6],9,-1069501632),r=v(r,o,n,i,e[s+11],14,643717713),i=v(i,r,o,n,e[s],20,-373897302),n=v(n,i,r,o,e[s+5],5,-701558691),o=v(o,n,i,r,e[s+10],9,38016083),r=v(r,o,n,i,e[s+15],14,-660478335),i=v(i,r,o,n,e[s+4],20,-405537848),n=v(n,i,r,o,e[s+9],5,568446438),o=v(o,n,i,r,e[s+14],9,-1019803690),r=v(r,o,n,i,e[s+3],14,-187363961),i=v(i,r,o,n,e[s+8],20,1163531501),n=v(n,i,r,o,e[s+13],5,-1444681467),o=v(o,n,i,r,e[s+2],9,-51403784),r=v(r,o,n,i,e[s+7],14,1735328473),i=v(i,r,o,n,e[s+12],20,-1926607734),n=y(n,i,r,o,e[s+5],4,-378558),o=y(o,n,i,r,e[s+8],11,-2022574463),r=y(r,o,n,i,e[s+11],16,1839030562),i=y(i,r,o,n,e[s+14],23,-35309556),n=y(n,i,r,o,e[s+1],4,-1530992060),o=y(o,n,i,r,e[s+4],11,1272893353),r=y(r,o,n,i,e[s+7],16,-155497632),i=y(i,r,o,n,e[s+10],23,-1094730640),n=y(n,i,r,o,e[s+13],4,681279174),o=y(o,n,i,r,e[s],11,-358537222),r=y(r,o,n,i,e[s+3],16,-722521979),i=y(i,r,o,n,e[s+6],23,76029189),n=y(n,i,r,o,e[s+9],4,-640364487),o=y(o,n,i,r,e[s+12],11,-421815835),r=y(r,o,n,i,e[s+15],16,530742520),i=y(i,r,o,n,e[s+2],23,-995338651),n=b(n,i,r,o,e[s],6,-198630844),o=b(o,n,i,r,e[s+7],10,1126891415),r=b(r,o,n,i,e[s+14],15,-1416354905),i=b(i,r,o,n,e[s+5],21,-57434055),n=b(n,i,r,o,e[s+12],6,1700485571),o=b(o,n,i,r,e[s+3],10,-1894986606),r=b(r,o,n,i,e[s+10],15,-1051523),i=b(i,r,o,n,e[s+1],21,-2054922799),n=b(n,i,r,o,e[s+8],6,1873313359),o=b(o,n,i,r,e[s+15],10,-30611744),r=b(r,o,n,i,e[s+6],15,-1560198380),i=b(i,r,o,n,e[s+13],21,1309151649),n=b(n,i,r,o,e[s+4],6,-145523070),o=b(o,n,i,r,e[s+11],10,-1120210379),r=b(r,o,n,i,e[s+2],15,718787259),i=b(i,r,o,n,e[s+9],21,-343485551),n=p(n,a),i=p(i,c),r=p(r,l),o=p(o,u)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(h(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),w=n(22);function k(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function E(e,t){return e<<t|e>>>32-t}var S=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var f=new Uint32Array(80),h=0;h<16;++h)f[h]=a[d][h];for(var p=16;p<80;++p)f[p]=E(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),S=E(m,5)+k(w,g,v,y)+b+t[w]+f[_]>>>0;b=y,y=v,v=E(g,30)>>>0,g=m,m=S}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),L="00000000-0000-0000-0000-000000000000";var A=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_list" id="mei_list"></div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        \n        <div class="tile_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">â†»</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="tile_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(4),r=n(3),o=n(18),s=n(11);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,s.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new o.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const s=document.getElementById("moreEdit");s&&(s.innerHTML="",s.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(4);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),o=e.document.createTextNode("");return r.observe(o,{characterData:!0}),function(){o.data=i=++i%2}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(12))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitDocumentSelector=t.updateDocumentSelector=void 0;const i=n(52),r=n(54),o=n(53),s=document.querySelector("#uploaded-docs-content"),a=document.querySelector("#sample-docs-content"),c=document.querySelector("#open-doc"),l=document.querySelector("#remove-doc");let u,d,f=!1,h=!1;const p=new class{constructor(){this.prevSelection=[],this.reset()}setStart(e){this.reset(),this.start=Math.max(e,0)}setEnd(e){this.end=e}reset(){this.start=0,this.end=-1,this.prevSelection.splice(0)}getPrevSelection(){return this.prevSelection}getSelection(){let e,t;if(-1===this.end)return[];this.end<this.start?(e=this.end,t=this.start+1):(e=this.start,t=this.end+1);const n=Array.from({length:t-e},(t,n)=>n+e).filter(e=>!d[e]);return this.prevSelection=n,n}};function m(){return u.filter((e,t)=>d[t])}function g(e,t){const n=(i=t?{storage:e}:{manifest:e},Object.keys(i).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(i[e])).join("&"));var i;window.open("./editor.html?"+n,"_blank")}function v(e,t){if(null!=e)t=null!=t?t:u.indexOf(e.id);else{if(null==t)return;e=document.getElementById(u[t])}e.classList.remove("selected"),d[t]=!1}function y(){Array.from(document.querySelectorAll(".document-entry.selected")).forEach(e=>e.classList.remove("selected")),d.fill(!1)}function b(e,t){if(null!=e)t=null!=t?t:u.indexOf(e.id);else{if(null==t)return;e=document.getElementById(u[t])}e.classList.add("selected"),d[t]=!0}function _(){const e=d.lastIndexOf(!0);-1===e?(c.classList.remove("active"),l.classList.remove("active")):(c.classList.add("active"),e<u.length-o.samples.length?l.classList.add("active"):l.classList.remove("active"))}async function w(){p.reset(),s.innerHTML="";const e=await(0,i.fetchUploadedDocuments)();if(e.sort(),0===e.length){const e=document.createElement("div");e.id="no-docs-msg",e.innerHTML="No Documents Uploaded",s.appendChild(e)}else e.forEach(e=>{const t=document.createElement("div");t.id=e,t.classList.add("document-entry"),t.classList.add("uploaded-doc");const n=document.createElement("div");n.classList.add("filename-text"),n.innerHTML=(0,r.formatFilename)(e,25),t.appendChild(n),s.appendChild(t)});a.innerHTML="";const t=(0,i.fetchSampleDocuments)();if(t.sort(),0===t.length){const e=document.createElement("div");e.innerHTML="No Documents Uploaded",a.appendChild(e)}else t.forEach(e=>{const t=document.createElement("div");t.id=e,t.classList.add("document-entry");const n=document.createElement("div");n.classList.add("filename-text"),n.innerHTML=(0,r.formatFilename)(e,25),t.appendChild(n),a.appendChild(t)});u=e.concat(o.samples),d=new Array(u.length).fill(!1),u.forEach((e,t)=>{const n=document.getElementById(""+e);n.addEventListener("dblclick",k,!1),n.addEventListener("click",(function(e){f||h?f?(d[t]?(v(n,t),p.setStart(d.lastIndexOf(!0))):(b(n,t),p.setStart(t)),_()):h&&(p.getPrevSelection().forEach(e=>{v(null,e)}),p.setEnd(t),p.getSelection().forEach(e=>{b(null,e)}),_()):(y(),b(n,t),p.setStart(t),_())}),!1)})}function k(){c.classList.contains("active")&&(m().map(e=>document.getElementById(e)).forEach(e=>{!function(e){const t=!!e.classList.contains("uploaded-doc");g(e.id,t)}(e)}),p.reset(),y(),_())}function E(){if(!l.classList.contains("active"))return;const e=m(),t="Are you sure you want to delete:\n"+e.join("\n")+"\n\nThis action is irreversible.";if(window.confirm(t)){const t=e.map(e=>(0,i.deleteEntry)(e));Promise.all(t).then(()=>{w()}).catch(e=>console.debug("failed to delete files: ",e)),y(),p.reset()}_()}t.updateDocumentSelector=w;t.InitDocumentSelector=()=>{c.addEventListener("click",k),l.addEventListener("click",E),window.addEventListener("keydown",e=>{e.metaKey&&(f=!0),e.shiftKey&&(h=!0),"Escape"===e.key&&(y(),p.reset(),_())}),window.addEventListener("keyup",e=>{e.metaKey||(f=!1),e.shiftKey||(h=!1)});document.querySelector(".main-section-content").addEventListener("click",(function(e){const t=e.target.classList;["document-entry","filename-text"].some(e=>t.contains(e))||(y(),p.reset(),_())})),w()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteEntry=t.addEntry=t.createManifest=t.fetchSampleDocuments=t.fetchUploadedDocuments=void 0;const i=n(30),r=n(29),o=n(86),s=n(53),a=new r.default("Neon-User-Storage");t.fetchUploadedDocuments=async function(){return await new Promise((e,t)=>{a.allDocs({include_docs:!0}).then(t=>e(t)).catch(e=>t(e))}).then(e=>e.rows.map(e=>e.key)).catch(e=>(console.log("Could'nt fetch uploaded documents",e.message),[]))},t.fetchSampleDocuments=function(){return s.samples},t.createManifest=function(e,t,n){return new Promise(async r=>{const s=JSON.parse(JSON.stringify(o));s["@id"]=(0,i.v4)(),s.title=e,s.timestamp=(new Date).toISOString();const a=new Promise(e=>{const n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}),c=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(n)}),l=await a,u=await c;s.image=u,s.mei_annotations=[{id:(0,i.v4)(),type:"Annotation",body:l,target:u}],r(s)})},t.addEntry=function(e,t,n){return new Promise((i,r)=>{a.put({_id:e,kind:n?"page":"manuscript",_attachments:{manifest:{content_type:"application/ld+json",data:t}}}).then(e=>{i(!0)}).catch(t=>{window.alert(`Error Uploading Document: ${t.message}, ${e}.`),r(!1)})})},t.deleteEntry=function(e){return new Promise((t,n)=>{a.get(e).then(e=>{a.remove(e).then(e=>{t(!0)}).catch(e=>{console.log(e),n(e)})}).catch(e=>{console.log(e),n(e)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.samples=void 0,t.samples=["CF-005","CF-009","CF-010","CF-011","CF-012","CF-013","CF-014","CF-015","CF-016","CF-017","CF-018","CF-019","CF-020","CF-024","CF-025","CF-026","CF-027","CF-028","CF-029","CF-030","CF-031","CF-032","CF-033","CF-034","CF-035","CF-036","CF-037","CF-038","CF-039","CF-040","CF-041","CF-042","CF-044","CF-045","CF-046","CF-047","CF-048","CF-049","CF-050","CF-051","CF-052","CF-053","CF-054","CF-055","CF-056","Salzinnes"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameFile=t.formatFilename=void 0,t.formatFilename=function(e,t){const n=Math.floor(t/2),i=e.length;return i<=t?e:`${e.substring(0,n-1)}...${e.substring(i-n+2,i)}`},t.renameFile=function(e,t){const n=new RegExp(e),i=t.filter(e=>n.test(e));if(0!==i.length){const t=/\(\d+\),/g,n=i.join().concat(",").match(t);if(null!==n){const t=n.map(e=>{const t=e.substring(1,e.length-2);return Number(t)});t.sort();const i=t.indexOf(1);if(-1===i)return e+"(1)";{let n=1;for(let e=i+1;e<t.length;e++){if(t[e]!==n+1)break;n+=1}return`${e}(${n+1})`}}return e+"(1)"}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleUploadAllDocuments=t.handleMakePair=t.addNewFiles=void 0;const i=n(30),r=n(56),o=n(54),s=n(52),a=r.default.getInstance();function c(e,t){if("mei"!==t&&"image"!==t)return;const n="mei"===t?"mei_radio_group":"image_radio_group",r=(0,i.v4)(),s=document.createElement("div");s.className="unpaired_item_container";const a=document.createElement("input");a.type="radio",a.className="unpaired_item_radio",a.name=n,a.value=e,a.id=r;const c=document.createElement("label");c.className="unpaired_item_label",c.setAttribute("for",r);const l=document.createElement("span");return l.innerText=(0,o.formatFilename)(e,28),c.appendChild(a),c.appendChild(l),s.appendChild(c),s}t.addNewFiles=function(e){const t=document.querySelector("#mei_list"),n=document.querySelector("#image_list"),i=[];return e.forEach(e=>{const r=e.name.split(".").pop();if("mei"===r){const n=c(e.name,"mei");t.appendChild(n),a.addFile(e)}else if(["png","jpg","jpeg"].includes(r)){const t=c(e.name,"image");n.appendChild(t),a.addFile(e)}else"jsonld"===r||i.push(e)}),i},t.handleMakePair=function(){const e=document.querySelector("#paired_list"),t=document.querySelector('input[name="mei_radio_group"]:checked'),n=document.querySelector('input[name="image_radio_group"]:checked');if(null===t||null===n)return;const i=t.value,r=n.value,s=i.substring(0,i.length-4),l=function(e,t,n){const i=document.querySelector("#mei_list"),r=document.querySelector("#image_list"),s=document.createElement("div");s.className="tile_item",s.setAttribute("mei",t),s.setAttribute("image",n);const l=document.createElement("div");function u(){s.remove(),a.removeFolio(e);const o=c(t,"mei");i.appendChild(o);const l=c(n,"image");r.appendChild(l)}l.classList.add("tile-filename"),l.innerHTML=(0,o.formatFilename)(e,25),s.appendChild(l);const d=document.createElement("button");return d.innerText="âŒ«",d.className="delete_button",d.addEventListener("click",u),s.appendChild(d),s}(s,i,r);e.appendChild(l),a.addFolio(s,i,r),t.parentElement.parentElement.remove(),n.parentElement.parentElement.remove()},t.handleUploadAllDocuments=async function(){const e=await(0,s.fetchUploadedDocuments)(),t=(0,s.fetchSampleDocuments)(),n=e.concat(t),i=a.getFolios().map(async([e,t,i])=>{const r=(0,o.renameFile)(e,n);return n.push(r),await async function(e,t,n){return(0,s.createManifest)(e,t,n).then(t=>{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/ld+json"});return(0,s.addEntry)(e,n,!0)})}(r,t,i)});a.clear();const r=i.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e})));return Promise.all(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.allFiles=new Map,this.folios=new Array}static getInstance(){return i.instance||(i.instance=new i),i.instance}addFile(e){if(this.allFiles.has(e.name)){const t={file:e,count:this.getFileCount(e.name)+1};this.allFiles.set(e.name,t)}else{const t={file:e,count:1};this.allFiles.set(e.name,t)}}getFile(e){if(this.allFiles.has(e))return this.allFiles.get(e).file}removeFile(e){const t=this.getFileCount(e);if(0!==t)if(1===t)this.allFiles.delete(e);else{const n={file:this.allFiles.get(e).file,count:t-1};this.allFiles.set(e,n)}}getFileCount(e){return this.allFiles.has(e)?this.allFiles.get(e).count:0}addFolio(e,t,n){const i={filename:e,mei_filename:t,image_filename:n};this.folios.push(i)}removeFolio(e){const t=this.folios.findIndex(t=>t.filename===e);this.folios.splice(t,1)}getFolios(){return this.folios.map(e=>{const t=e.filename,n=e.mei_filename,i=e.image_filename;return[t,this.getFile(n),this.getFile(i)]})}clear(){this.allFiles.clear(),this.folios.splice(0)}print(){console.log(this.allFiles),console.log(this.folios)}}t.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.fm=void 0;const o=n(51),s=n(87),a=n(56);t.fm=a.default.getInstance(),(0,o.InitDocumentSelector)(),null===(i=document.querySelector("#upload-new-doc-button"))||void 0===i||i.addEventListener("click",(function(){(0,s.InitUploadArea)()})),null===(r=document.querySelector("#home-link"))||void 0===r||r.setAttribute("href","https://ddmal.music.mcgill.ca/Neon")},function(e){e.exports=JSON.parse('{"@context":["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitUploadArea=void 0;const i=n(55),r=n(17),o=n(55),s=n(51);t.InitUploadArea=function(){const e=new r.ModalWindow;e.setModalWindowView(r.ModalWindowView.DOCUMENT_UPLOAD),e.openModalWindow(),document.querySelector("#make_pair").addEventListener("click",o.handleMakePair),document.querySelector("#upload_button").addEventListener("click",(async function(){const t=document.querySelector("#uploading_spinner");t.classList.add("visible"),(0,o.handleUploadAllDocuments)().then(n=>{setTimeout(async()=>{await(0,s.updateDocumentSelector)(),t.classList.remove("visible"),e.hideModalWindow()},2e3)}).catch(n=>{console.log("One or more uploads rejected: ",n),setTimeout(async()=>{await(0,s.updateDocumentSelector)(),t.classList.remove("visible"),e.hideModalWindow()},2e3)})}));const t=document.createElement("input");t.type="file",t.multiple=!0,t.addEventListener("change",(function(){const e=t.files,n=Array.from(e),r=(0,i.addNewFiles)(n);if(0!==r.length){const e=r.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}t.value=null}));const n=document.querySelector("#initial_upload_area");n.onclick=()=>t.click(),n.ondragleave=()=>n.classList.remove("over"),n.ondragover=e=>{e.stopPropagation(),e.preventDefault(),n.classList.add("over"),e.dataTransfer.dropEffect="copy"},n.ondrop=e=>{e.stopPropagation(),e.preventDefault(),n.classList.remove("over");const t=e.dataTransfer.files,r=Array.from(t),o=(0,i.addNewFiles)(r);if(0!==o.length){const e=o.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTG9jYWxTZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9Db250ZW50cy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvQ29vcmRpbmF0ZXMudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTW9kYWxXaW5kb3cudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RyYWdIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dXZ1emVsYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yYW5kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Jlc2l6ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU2VsZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FcnJvckxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dEVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3VjaGRiL2xpYi9pbmRleC1icm93c2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9wYXJzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc2hhMS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL2Rhc2hib2FyZF9jb21wb25lbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9XYXJuaW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TdGFmZlRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L05ldW1lVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9xdWV1ZU1pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tZXNzYWdlQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9zdGF0ZUNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi90aW1lb3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRG9jdW1lbnRTZWxlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9zYW1wbGVzX2ZpbGVuYW1lcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL2Z1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9kZXBsb3ltZW50L3NjcmlwdHMvZGFzaGJvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvVXBsb2FkQXJlYS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJhcHBseSIsInRhcmdldCIsInJlY2VpdmVyIiwiYXJncyIsIkZ1bmN0aW9uIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25jYXQiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsInRoaXMiLCJvbmNlIiwiZW1pdHRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImFyZ3VtZW50cyIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwidW5kZWZpbmVkIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJUeXBlRXJyb3IiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsInB1c2giLCJsZW5ndGgiLCJ3YXJuZWQiLCJ3IiwiRXJyb3IiLCJTdHJpbmciLCJjb3VudCIsImNvbnNvbGUiLCJ3YXJuIiwib25jZVdyYXBwZXIiLCJmaXJlZCIsIndyYXBGbiIsIl9vbmNlV3JhcCIsInN0YXRlIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwiQXJyYXkiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsImNvcHkiLCJhZGRFdmVudExpc3RlbmVyIiwid3JhcExpc3RlbmVyIiwiYXJnIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlcnJvciIsImVyIiwibWVzc2FnZSIsImNvbnRleHQiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleXMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJUZW1wQ3RvciIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwic2NoZWR1bGVEcmFpbiIsInR5cGVzIiwicXVldWVJbmRleCIsInF1ZXVlIiwic2NoZWR1bGVkIiwiY2xlYW5VcE5leHRUaWNrIiwibmV4dFRpY2siLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInJ1biIsImNsZWFyVGltZW91dCIsInRlc3QiLCJpbnN0YWxsIiwiSXRlbSIsImZ1biIsImFycmF5IiwidGFzayIsImdldFNlbGVjdGlvblR5cGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaWQiLCJ1bnNlbGVjdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwic2VsZWN0ZWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjb250YWlucyIsInJlbW92ZUF0dHJpYnV0ZSIsIkNvbG9yIiwidW5oaWdobGlnaHQiLCJzdHlsZSIsImZpbGwiLCJmcm9tIiwiZGl2TGluZSIsInNldEF0dHJpYnV0ZSIsIm5ldW1lIiwiZWwiLCJjb2xvciIsImZvbnRXZWlnaHQiLCJzeWxSZWN0Iiwic3lsbGFibGUiLCJhZGQiLCJkMyIsInNlbGVjdEFsbCIsImdldEVsZW1lbnRCeUlkIiwiU2VsZWN0T3B0aW9ucyIsImVuZE9wdGlvbnNTZWxlY3Rpb24iLCJHcm91cGluZyIsImVuZEdyb3VwaW5nU2VsZWN0aW9uIiwiaW5uZXJIVE1MIiwicGFyZW50RWxlbWVudCIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTcGxpdEFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJzdHJva2UiLCJlbGVtIiwiZ2V0SGlnaGxpZ2h0VHlwZSIsImNsb3Nlc3QiLCJzcGFuIiwiYXN5bmMiLCJpc0xpZ2F0dXJlIiwibmMiLCJuZW9uVmlldyIsImF0dHJpYnV0ZXMiLCJnZXRFbGVtZW50QXR0ciIsInZpZXciLCJnZXRDdXJyZW50UGFnZVVSSSIsIkJvb2xlYW4iLCJsaWdhdGVkIiwiZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUiLCJzZWxlY3Rpb25UeXBlIiwiZWxlbWVudHMiLCJzaGFyZWRTZWNvbmRMZXZlbFBhcmVudCIsInRlbXBFbGVtZW50cyIsInNlY29uZFBhcmVudCIsInNlbGVjdEJCb3giLCJiYm94Iiwic3lsIiwicmVzaXplIiwicXVlcnlTZWxlY3RvciIsInBhcmVudCIsInByZXZOYyIsInByZXZpb3VzU2libGluZyIsIm5leHROYyIsIm5leHRTaWJsaW5nIiwidHJpZ2dlckdyb3VwaW5nIiwidHJpZ2dlck5jQWN0aW9ucyIsImFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlIiwic29ydGVkRWxlbWVudHMiLCJqIiwiaXNTYW1lTm9kZSIsImZpcnN0RWxlbSIsInNlY29uZEVsZW0iLCJpbmRleDEiLCJpbmRleE9mIiwiaW5kZXgyIiwiTWF0aCIsImFicyIsImZpbHRlciIsInJlZmVyZW5jZVBhcmVudFN0YWZmIiwicmVmZXJlbmNlUGFyZW50U3lsbGFibGUiLCJlbGVtZW50c0FycmF5IiwiYW5vdGhlclN0YWZmIiwidWx4IiwidWx5IiwibHJ4IiwibHJ5Iiwicm90YXRlIiwicGF0aCIsImNvb3JkaW5hdGVzIiwiZ2V0QXR0cmlidXRlIiwibWF0Y2giLCJtYXAiLCJhdGFuIiwibWluIiwibWF4Iiwibm90TmV1bWVzIiwibm4iLCJzZWxlY3Rpb25DbGFzcyIsImNvbnRhaW5zTGF5ZXJFbGVtZW50cyIsImNvbnRhaW5zTmMiLCJncm91cHNUb1NlbGVjdCIsIlNldCIsImdyb3VwaW5nIiwiZm9sbG93cyIsInByZWNlZGVzIiwiZ3JvdXAiLCJncm91cHMiLCJ2YWx1ZXMiLCJ0cmlnZ2VyU3RhZmZBY3Rpb25zIiwic2l6ZSIsInRyaWdnZXJDbGVmQWN0aW9ucyIsInRyaWdnZXJDdXN0b3NBY3Rpb25zIiwidHJpZ2dlckFjY2lkQWN0aW9ucyIsInRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIiwidHJpZ2dlckRlZmF1bHRBY3Rpb25zIiwidHJpZ2dlclN5bGxhYmxlQWN0aW9ucyIsImlzTGlua2FibGUiLCJpc0dyb3VwYWJsZSIsInRyaWdnZXJOZXVtZUFjdGlvbnMiLCJjaGlsZHJlbiIsImZpcnN0TkMiLCJzZWNvbmROQyIsImZpcnN0TkNYIiwieCIsImJhc2VWYWwiLCJzZWNvbmROQ1giLCJmaXJzdE5DWSIsInkiLCJzZWNvbmROQ1kiLCJnIiwidHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zIiwibm90aWZpY2F0aW9ucyIsImN1cnJlbnRNb2RlTWVzc2FnZSIsIm5vdGlmeWluZyIsIm5vdGlmaWNhdGlvbkljb24iLCJkZWZhdWx0Iiwic3VjY2VzcyIsIk5vdGlmaWNhdGlvbiIsImRpc3BsYXllZCIsInV1aWR2NCIsImlzTW9kZU1lc3NhZ2UiLCJzZWFyY2giLCJ0aW1lb3V0SUQiLCJjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJnZXRJZCIsInN0YXJ0Tm90aWZpY2F0aW9uIiwiZGlzcGxheSIsImN1cnJlbnROb3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJ3aW5kb3ciLCJub3RpZmljYXRpb25Db250ZW50IiwibmV3Tm90aWZpY2F0aW9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsImRpc3BsYXlOb3RpZmljYXRpb24iLCJzZXRUaW1lb3V0SWQiLCJxdWV1ZU5vdGlmaWNhdGlvbiIsIm5vdGlmIiwicmVjb3JkTm90aWZpY2F0aW9uIiwibG9jYWxTZXR0aW5ncyIsIkRFRkFVTFRfU0VUVElOR1MiLCJ6b29tIiwiZ2x5cGhPcGFjaXR5IiwiaW1hZ2VPcGFjaXR5IiwiaGlnaGxpZ2h0TW9kZSIsInNlbGVjdGlvbk1vZGUiLCJkaXNwbGF5QkJveCIsImRpc3BsYXlUZXh0IiwiZGlzcGxheUluZm8iLCJkaXNwbGF5RXJyTG9nIiwidmlld0JveCIsInNldHRpbmdzIiwicGFyYW1zIiwiZm9saW9JZCIsImxvYWQiLCJzdG9yZWQiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3luYyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJpbnNlcnRUYWJIdG1sIiwicHJpbWl0aXZlVGFiIiwiZ3JvdXBpbmdUYWIiLCJzeXN0ZW1UYWIiLCJpbnNlcnRDb250cm9sc1BhbmVsIiwiZWRpdENvbnRyb2xzUGFuZWwiLCJuY0FjdGlvbkNvbnRlbnRzIiwiZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMiLCJuZXVtZUFjdGlvbkNvbnRlbnRzIiwic3RhZmZBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInNwbGl0QWN0aW9uQ29udGVudHMiLCJjbGVmQWN0aW9uQ29udGVudHMiLCJncm91cGluZ01lbnUiLCJsaWdhdHVyZU5jIiwibGlnYXR1cmUiLCJzcGxpdFN5bGxhYmxlIiwiZWRpdFRleHRNb2RhbCIsImhvdGtleXNNb2RhbCIsInN5bGxhYmxlQWN0aW9uc0NvbnRlbnQiLCJlcnJvckxvZ3NQYW5lbENvbnRlbnRzIiwiYnl0ZVRvSGV4IiwidG9TdHJpbmciLCJzdWJzdHIiLCJvZmZzZXQiLCJ1dWlkIiwidG9Mb3dlckNhc2UiLCJnZXRTVkdSZWxDb29yZHMiLCJjbGllbnRYIiwiY2xpZW50WSIsInB0IiwiRE9NUG9pbnQiLCJzeXN0ZW0iLCJtYXRyaXhUcmFuc2Zvcm0iLCJnZXRTY3JlZW5DVE0iLCJpbnZlcnNlIiwiZ2V0U3RhZmZJZEJ5Q29vcmRzIiwic3RhZmZCQm94ZXMiLCJnZXRTdGFmZkJCb3giLCJmaW5kIiwic3RhZmZJZCIsImJnSW1nIiwicmVjdCIsInRhZ05hbWUiLCJnZXRCQm94IiwicGFyZW50Tm9kZSIsIndpZHRoIiwiaGVpZ2h0IiwiZSIsInVuc2V0SW5jbGluYXR1bUFjdGlvbiIsImFjdGlvbiIsInBhcmFtIiwiZWxlbWVudElkIiwiYXR0clR5cGUiLCJhdHRyVmFsdWUiLCJ1bnNldFZpcmdhQWN0aW9uIiwidW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiIsImRlbGV0ZUJ1dHRvbkhhbmRsZXIiLCJldnQiLCJyZW1vdmVIYW5kbGVyIiwicHJldmVudERlZmF1bHQiLCJtb3JlRWRpdCIsImV4dHJhRWRpdCIsImJvZHkiLCJ0b1JlbW92ZSIsImNoYWluQWN0aW9uIiwiZWRpdCIsInRoZW4iLCJ1cGRhdGVGb3JDdXJyZW50UGFnZSIsImNoYW5nZVN0YWZmSGFuZGxlciIsInRvQ2hhbmdlIiwiaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIiLCJ0b0luc2VydCIsInJlc3VsdCIsIm1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyIiwidG9Nb3ZlIiwiYWRkRGVsZXRlTGlzdGVuZXIiLCJkZWwiLCJhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyIiwic2V0RWRpdENvbnRyb2xzIiwiZWRpdFR5cGUiLCJjb250ZW50cyIsInJlcGxhY2UiLCJ0cmlnZ2VyU3RhZmZTcGxpdE1vZGUiLCJTcGxpdFN0YWZmSGFuZGxlciIsInN0YXJ0U3BsaXQiLCJpbml0T3B0aW9uc0xpc3RlbmVycyIsImRyb3AiLCJvcHRpb25zQ2xpY2thd2F5IiwidG9nZ2xlIiwib3RoZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJpbml0TmVvblZpZXciLCJDb250ZW50cyIsInVuc2V0SW5jbGluYXR1bSIsInVuc2V0VmlyZ2EiLCJ1bnNldFZpcmdhUmV2ZXJzZWQiLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwic2V0SW5jbGluYXR1bSIsInNldFZpcmdhIiwic2V0VmlyZ2FSZXZlcnNlZCIsInNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInRyaWdnZXJDaGFuZ2VHcm91cCIsImNvbnRvdXIiLCJjaGFuZ2VHcm91cGluZ0FjdGlvbiIsIlNwbGl0TmV1bWVIYW5kbGVyIiwiaW5mbyIsImdldENvbnRvdXJCeVZhbHVlIiwiZXh0cmFBY3Rpb25zSFRNTCIsImNsZWYiLCJpbmNyZW1lbnRPY3RhdmUiLCJkaXJlY3Rpb24iLCJzZXRDQ2xlZiIsInNoYXBlIiwic2V0RkNsZWYiLCJhY2NpZCIsImNoYW5nZVRvRmxhdCIsImNoYW5nZVRvTmF0dXJhbCIsIm1lcmdlU3RhdmVzIiwicG9pbnRzIiwieV9jaGFuZ2UiLCJ0YW4iLCJlZGl0b3JBY3Rpb24iLCJoZXhfY2hyIiwibWQ1Y3ljbGUiLCJrIiwiYSIsImIiLCJtZDVibGsiLCJtZDVibGtzIiwiY2hhckNvZGVBdCIsIm1kNWJsa19hcnJheSIsIm1kNTEiLCJ0YWlsIiwidG1wIiwibG8iLCJoaSIsInN1YnN0cmluZyIsInBhcnNlSW50IiwicmhleCIsImhleCIsImpvaW4iLCJ0b1V0ZjgiLCJzdHIiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImhleFRvQmluYXJ5U3RyaW5nIiwiYnl0ZXMiLCJmcm9tQ2hhckNvZGUiLCJTcGFya01ENSIsInJlc2V0IiwiQXJyYXlCdWZmZXIiLCJjbGFtcCIsInZhbCIsInRvIiwibnVtIiwidGFyZ2V0QXJyYXkiLCJzb3VyY2VBcnJheSIsImJ5dGVMZW5ndGgiLCJiZWdpbiIsImVuZCIsIlVpbnQ4QXJyYXkiLCJhcHBlbmRCaW5hcnkiLCJfYnVmZiIsIl9sZW5ndGgiLCJfaGFzaCIsInJhdyIsImJ1ZmYiLCJfZmluaXNoIiwiZ2V0U3RhdGUiLCJoYXNoIiwic2V0U3RhdGUiLCJkZXN0cm95IiwiaGFzaEJpbmFyeSIsImNvbnRlbnQiLCJmaXJzdCIsInNlY29uZCIsInJldHVyblVJbnQ4QXJyYXkiLCJidWZmZXIiLCJzdWJhcnJheSIsInV0ZjhTdHIyQXJyYXlCdWZmZXIiLCJtZDUxX2FycmF5IiwiZmFjdG9yeSIsIkNvbG9yUGFsZXR0ZSIsInJlY3RzIiwidW5zZXRTdGFmZkhpZ2hsaWdodCIsInVuc2V0R3JvdXBpbmdIaWdobGlnaHQiLCJjaGlsZCIsImNjaGlsZCIsInNldFN0YWZmSGlnaGxpZ2h0Iiwic3RhdmVzIiwic3RhZmZDb2xvciIsInNldEdyb3VwaW5nSGlnaGxpZ2h0IiwiZ3JvdXBDb2xvciIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5Iiwic2V0T3BhY2l0eUZyb21TbGlkZXIiLCJtZWlDbGFzc05hbWUiLCJvcGFjaXR5T3V0cHV0Iiwic2V0U2V0dGluZ3MiLCJoaWRlR2x5cGhzSW1nIiwib3BhY2l0eSIsInNldEJnT3BhY2l0eUZyb21TbGlkZXIiLCJiYWNrZ3JvdW5kIiwiYmdPcGFjaXR5T3V0cHV0IiwiYmciLCJ1cGRhdGVIaWdobGlnaHRPcHRpb24iLCJvcHRpb24iLCJkcm9wZG93biIsImhpZ2hsaWdodFR5cGUiLCJ0ZXh0Q29udGVudCIsInRvVXBwZXJDYXNlIiwic2V0SGlnaGxpZ2h0T3B0aW9uIiwiaGlnaGxpZ2h0Q2xpY2thd2F5Iiwic2V0SGlnaGxpZ2h0Q29udHJvbHMiLCJsb2FkSGlnaGxpZ2h0U2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInpvb21IYW5kbGVyIiwiem9vbVNsaWRlciIsInpvb21PdXRwdXQiLCJ6b29tVG8iLCJyZXNldFpvb21BbmRQYW4iLCJkaXNhYmxlZCIsImN1cnJlbnRab29tIiwibmV3Wm9vbSIsImhpZ2hsaWdodFNlbGVjdGlvbiIsImhpZ2hsaWdodElkIiwib3BhY2l0eVNsaWRlciIsImlucHV0Q2hhbmdlT3BhY2l0eSIsInRvZ2dsZU9wYWNpdHlCdG4iLCJuZXdPcGFjaXR5Iiwicm91bmQiLCJzZXRPcGFjaXR5Q29udHJvbHMiLCJiZ09wYWNpdHlTbGlkZXIiLCJiZ0lucHV0Q2hhbmdlSGFuZGxlciIsInRvZ2dsZUJnT3BhY2l0eUJ0biIsInNldEJhY2tncm91bmRPcGFjaXR5Q29udHJvbHMiLCJtZXRhS2V5Iiwic2VsZWN0QWxsQnRuIiwib3B0aW9ucyIsImNoZWNrZWQiLCJjbGljayIsInNldERpc3BsYXlBbGxMaXN0ZW5lciIsImRpc3BsYXlDb250ZW50cyIsInRvZ2dsZURpc3BsYXkiLCJwYWRkaW5nIiwib3ZlcmZsb3ciLCJNb2RhbFdpbmRvd1ZpZXciLCJNb2RhbFdpbmRvd1N0YXRlIiwib3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3ciLCJoaWRlTW9kYWxXaW5kb3ciLCJ1cGRhdGVTeWxUZXh0IiwiZm9jdXNNb2RhbFdpbmRvdyIsIm9yaWciLCJ0cmltIiwidXBkYXRlZFN5bFRleHQiLCJlbnRyaWVzIiwiY2xhc3NOYW1lIiwidGV4dCIsInJlc3BvbnNlIiwidXBkYXRlU2VsZWN0ZWRCQm94Iiwia2V5ZG93bkxpc3RlbmVyIiwic3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uIiwibW9kYWxXaW5kb3dWaWV3IiwiRURJVF9URVhUIiwiZm9jdXMiLCJtb2RhbFdpbmRvd1N0YXRlIiwiQ0xPU0VEIiwic2V0TW9kYWxXaW5kb3dDb250ZW50IiwiSE9US0VZUyIsIkRPQ1VNRU5UX1VQTE9BRCIsIm92ZXJmbG93WCIsIm92ZXJmbG93WSIsIk9QRU4iLCJpbm5lclRleHQiLCJyZW1vdmVTeW1ib2wiLCJWQUxJREFUSU9OX1NUQVRVUyIsInVwbG9hZEFyZWFIVE1MIiwic2VsZWN0b3IiLCJkcmFnU3RhcnRDb29yZHMiLCJkcmFnQmVoYXZpb3VyIiwiZHJhZyIsImV2ZW50IiwiZHgiLCJkeSIsInNvdXJjZUV2ZW50IiwiZHJhZ2dpbmciLCJkcmFnRW5kZWQiLCJzZWxlY3Rpb24iLCJub01vdmVQcmVjZWRlcyIsImhhc0F0dHJpYnV0ZSIsIm1vdmVFbGVtZW50cyIsImJib3hlcyIsInhEaWZmIiwieURpZmYiLCJpc0N1cnNvck91dE9mQm91bmRzIiwiaXNEcmFnT3V0T2ZCb3VuZHMiLCJyZXR1cm5FbGVtZW50cyIsInBhcmFtQXJyYXkiLCJkcmFnQWN0aW9uIiwidG9SZXNlbGVjdCIsInJlc2VsZWN0IiwicmVzZWxlY3RlZCIsInJlc2V0VG9BY3Rpb24iLCJlbmRYIiwiZW5kWSIsImlzT3V0T2ZTVkdCb3VuZHMiLCJnbHlwaFNlbGVjdG9yIiwic2VsZWN0aW9uQkJveCIsInJlZHVjZSIsImFjYyIsImdldEdseXBoQkJveCIsImN1cnIiLCJNQVhfVkFMVUUiLCJNSU5fVkFMVUUiLCJnZXRSYW5kb21WYWx1ZXMiLCJybmRzOCIsInJuZyIsImNyeXB0byIsIm1zQ3J5cHRvIiwib2JqIiwic3RhY2siLCJtZXRhU3RhY2siLCJsYXN0TWV0YUVsZW1lbnQiLCJsYXN0RWxlbWVudEluZGV4IiwiaXNBcnJheSIsImlucHV0IiwibmV4dCIsImFycmF5UHJlZml4Iiwib2JqUHJlZml4IiwicmVzIiwicHJlZml4IiwiY29sbGF0aW9uSW5kZXgiLCJwYXJzZWROdW0iLCJudW1DaGFyIiwicGFyc2VkU3RyaW5nIiwibGFzdENoIiwibnVtQ29uc2VjdXRpdmVTbGFzaGVzIiwiY2giLCJhcnJheUVsZW1lbnQiLCJvYmpFbGVtZW50IiwicGFyc2VGbG9hdCIsImJ1ZiIsInJuZHMiLCJyYW5kb20iLCJ1aW50OFRvVXVpZCIsImRhdGEiLCJjYiIsInByZXZpb3VzIiwiY3VycmVudCIsInBhZFN0YXJ0Iiwib2N0ZXRzIiwibW9kaWZpZXJzIiwiU2VsZWN0VG9vbHMiLCJzaGFyZWRMb2dpY2FsUGFyZW50IiwiYXJlQWRqYWNlbnQiLCJpc0xpbmtlZCIsImlzTXVsdGlTdGF2ZVNlbGVjdGlvbiIsInN0YWZmMCIsInN0YWZmMSIsInN0YWZmQ2hpbGRyZW4iLCJmaXJzdFN0YWZmIiwic2Vjb25kU3RhZmYiLCJmaXJzdExheWVyIiwic2Vjb25kTGF5ZXIiLCJmaXJzdFN5bGxhYmxlQ2hpbGRyZW4iLCJzZWNvbmRTeWxsYWJsZUNoaWxkcmVuIiwibGFzdFN5bGxhYmxlIiwiZmlyc3RTeWxsYWJsZSIsInN5c3RlbXMiLCJlbGVtZW50SWRzIiwiZ3JvdXBpbmdBY3Rpb24iLCJnZXRDaGlsZHJlbklkcyIsImdldElkcyIsInRvZ2dsZUxpbmtlZFN5bGxhYmxlcyIsImdyb3VwVHlwZSIsIm5ldW1lUGFyZW50IiwibmNzIiwiZ2V0Q29udG91ciIsIldhcm5pbmdzIiwiZ3JvdXBpbmdOb3RSZWNvZ25pemVkIiwic3lsbGFibGUwIiwic3lsbGFibGUxIiwic2Vjb25kU3lsbGFibGUiLCJpZHMiLCJjaGlsZHJlbklkcyIsIlBvaW50TmFtZXMiLCJUb3BMZWZ0IiwiVG9wIiwiVG9wUmlnaHQiLCJSaWdodCIsIkJvdHRvbVJpZ2h0IiwiQm90dG9tIiwiQm90dG9tTGVmdCIsIkxlZnQiLCJnZXRQb2ludHMiLCJzaW4iLCJpbml0aWFsVWx4IiwiaW5pdGlhbExyeCIsImluaXRpYWxQb2ludCIsImluaXRpYWxVbHkiLCJpbml0aWFsTHJ5IiwiaW5pdGlhbFkiLCJpbml0aWFsUmVjdFkiLCJwb2x5TGVuIiwiaW5pdGlhbFJvdGF0ZSIsInJlZHJhdyIsInBvaW50U3RyaW5nIiwiX2VsZW0iLCJ0ZXh0UmVjdCIsInBvaW50TmFtZSIsInBvaW50IiwiYXR0ciIsInBvaW50U3RyaW5nUmlnaHQiLCJwb2ludFN0cmluZ0xlZnQiLCJkcmF3SW5pdGlhbFJlY3QiLCJ3aGljaFBvaW50IiwiXyIsInZpZXdwb3J0RWxlbWVudCIsInJlc2l6ZVN0YXJ0IiwicmVzaXplRHJhZyIsInJlc2l6ZUVuZCIsInJvdGF0ZVN0YXJ0IiwidGVtcCIsIm1vdXNlIiwidGVtcFJvdGF0ZSIsInJvdGF0ZUVuZCIsImN1cnJlbnRQb2ludCIsIndoaWNoIiwiUEkiLCJzdHJva2VXaWR0aCIsImVzY2FwZUtleUxpc3RlbmVyIiwiaW5mb0xpc3RlbmVycyIsImVudGVyS2V5TGlzdGVuZXIiLCJhcnJvd0tleUxpc3RlbmVyIiwiYmJveFN5bGxhYmxlcyIsImluZCIsImlzU2VsQnlCQm94Iiwic2VsQnlCQm94Iiwic3RvcFByb3BIYW5kbGVyIiwiaXNFbGVtZW50SW5SZWN0IiwidWwiLCJsciIsImdldEJCb3hDb29yZHMiLCJib3giLCJjbGlja0hhbmRsZXIiLCJnZXRVc2VyTW9kZSIsInNoaWZ0S2V5IiwiZmlyc3RMaWdhdHVyZUhhbGYiLCJzZWNvbmRMaWdhdHVyZUhhbGYiLCJuY0luZGV4IiwiZmlyc3RVc2UiLCJhc3NlcnQiLCJzZWNvbmRVc2UiLCJpc011bHRpU2VsZWN0Iiwic2VsZWN0ZWRDbGFzcyIsInNlbEJ5U3RhZmYiLCJzZWxCeU5ldW1lIiwic2VsQnlOYyIsInNlbEJ5TGF5ZXJFbGVtZW50IiwiaW5jbHVkZXMiLCJnZXRTdGFmZkJ5Q29vcmRzIiwiZGlzcGF0Y2hFdmVudCIsIk1vdXNlRXZlbnQiLCJzY3JlZW5YIiwic2NyZWVuWSIsImN0cmxLZXkiLCJhbHRLZXkiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJudiIsImRoIiwic2VsIiwiaW5pdGlhbFgiLCJwYW5uaW5nIiwiZHJhZ1NlbGVjdGluZyIsImNhbnZhcyIsImRyYWdTZWxlY3RBY3Rpb24iLCJ1c2VyTW9kZSIsIm5vZGVOYW1lIiwic3RhcnREcmFnIiwiaW5pdGlhbFAiLCJjdXJyZW50UHQiLCJjdXJYIiwiY3VyWSIsIm5ld1giLCJuZXdZIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsInVwZGF0ZVJlY3QiLCJzZWxlY3RSZWN0IiwicngiLCJyeSIsImx4IiwibHkiLCJub2RlIiwidHJhbnNmb3JtIiwibXVsdGlwbHkiLCJzZWxlY3RlZEVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVNlbGVjdG9yIiwicmVzZXRUbyIsImluaXRFcnJvckxvZ0NvbnRyb2xzIiwiZXJyb3JQYW5lbCIsImhlYWRpbmciLCJkcm9wZG93bkljb24iLCJpbml0RGlzcGxheUxpc3RlbmVyIiwibm90aWZQYW5lbCIsImNoZWNrYm94ZXNDb250YWluZXIiLCJlcnJvcnNMYWJlbCIsImVyb3Jyc0J0biIsImFwcGVuZENoaWxkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJub3RpZkRpdiIsIm9uY2xpY2siLCJjcmVhdGVMb2dNZXNzYWdlIiwic2VsQnlTeWxsYWJsZUxpc3RlbmVyIiwiYWRkQkJveExpc3RlbmVycyIsImJib3hJZCIsImRpc3BsYXlSZWN0IiwiaW5pdFRleHRFZGl0Iiwic3BhbnMiLCJtb2RhbCIsInNlbGVjdFN5bFRleHQiLCJzZXRNb2RhbFdpbmRvd1ZpZXciLCJvcGVuTW9kYWxXaW5kb3ciLCJOZXVtZUVkaXQiLCJibG9jayIsImJ1dHRvbiIsImFkZFVwZGF0ZUNhbGxiYWNrIiwic2V0U2VsZWN0SGVscGVyT2JqZWN0cyIsImNsaWNrU2VsZWN0IiwiZHJhZ1NlbGVjdCIsIkV4cG9ydGVkU2V0IiwiRXhwb3J0ZWRNYXAiLCJtYW5nbGUiLCJ1bm1hbmdsZSIsIk1hcCQxIiwiX3N0b3JlIiwiU2V0JDEiLCJjbG9uZUJpbmFyeU9iamVjdCIsImNsb25lQXJyYXlCdWZmZXIiLCJ3ZWJraXRTbGljZSIsIm1hbmdsZWQiLCJoYXMiLCJkZWxldGUiLCJNYXAiLCJwcm9wIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic3BlY2llcyIsInN1cHBvcnRzTWFwQW5kU2V0IiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsImNsb25lIiwibmV3T2JqZWN0IiwiRGF0ZSIsImlzRmluaXRlIiwidG9JU09TdHJpbmciLCJCbG9iIiwiaXNCaW5hcnlPYmplY3QiLCJwcm90byIsIkN0b3IiLCJpc1BsYWluT2JqZWN0IiwiY2FsbGVkIiwidG9Qcm9taXNlIiwiZnVuYyIsInNlbGYiLCJ1c2VkQ0IiLCJwcm9taXNlIiwiZnVsZmlsbCIsInJlc3AiLCJjYWxsYmFjayIsIm1lc2ciLCJhZGFwdGVyRnVuIiwiX2Nsb3NlZCIsIl9kZXN0cm95ZWQiLCJsb2dBcmdzIiwib3JpZ0NhbGxiYWNrIiwicmVzcG9uc2VBcmdzIiwibG9nQXBpQ2FsbCIsInRhc2txdWV1ZSIsImlzUmVhZHkiLCJhZGRUYXNrIiwiZmFpbGVkIiwicGljayIsImhhc0xvY2FsIiwiaWRlbnRpdHlGdW5jdGlvbiIsImZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0Iiwib2siLCJidWxrR2V0IiwiZGIiLCJvcHRzIiwicmVxdWVzdHMiLCJkb2NzIiwicmVxdWVzdHNCeUlkIiwicmVxdWVzdCIsIm51bURvY3MiLCJudW1Eb25lIiwicGVyRG9jUmVzdWx0cyIsImNoZWNrRG9uZSIsInJlc3VsdHMiLCJhbGxSZXF1ZXN0cyIsIm5leHRCYXRjaCIsInVwVG8iLCJiYXRjaCIsImRvY0lkIiwiZG9jSWR4IiwiZG9jUmVxdWVzdHMiLCJkb2NPcHRzIiwib3Blbl9yZXZzIiwicmV2IiwiZm9ybWF0UmVzdWx0IiwicHJvY2Vzc0JhdGNoIiwiaGFzTG9jYWxTdG9yYWdlIiwiQ2hhbmdlcyIsImF0dGFjaEJyb3dzZXJFdmVudHMiLCJndWFyZGVkQ29uc29sZSIsIm1ldGhvZCIsImRlZmF1bHRCYWNrT2ZmIiwibWF4VGltZW91dCIsInJhbmRvbU51bWJlciIsImV4cGxhaW5FcnJvciIsInN0YXR1cyIsImRiTmFtZSIsImlucHJvZ3Jlc3MiLCJldmVudEZ1bmN0aW9uIiwiY2hhbmdlc09wdHMiLCJjaGFuZ2VzIiwic2VxIiwic2luY2UiLCJjYW5jZWxsZWQiLCJvbkNoYW5nZSIsIm5vdGlmeUxvY2FsV2luZG93cyIsIm5vdGlmeSIsIiRpbmplY3RfT2JqZWN0X2Fzc2lnbiIsImFzc2lnbiIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwiUG91Y2hFcnJvciIsInJlYXNvbiIsIk1JU1NJTkdfQlVMS19ET0NTIiwiTUlTU0lOR19ET0MiLCJSRVZfQ09ORkxJQ1QiLCJJTlZBTElEX0lEIiwiTUlTU0lOR19JRCIsIlJFU0VSVkVEX0lEIiwiVU5LTk9XTl9FUlJPUiIsIkJBRF9BUkciLCJRVUVSWV9QQVJTRV9FUlJPUiIsIkRPQ19WQUxJREFUSU9OIiwiQkFEX1JFUVVFU1QiLCJOT1RfQU5fT0JKRUNUIiwiSURCX0VSUk9SIiwiSU5WQUxJRF9SRVYiLCJNSVNTSU5HX1NUVUIiLCJjcmVhdGVFcnJvciIsIkN1c3RvbVBvdWNoRXJyb3IiLCJuYW1lcyIsImdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UiLCJmaWx0ZXJDaGFuZ2UiLCJyZXEiLCJoYXNGaWx0ZXIiLCJxdWVyeSIsInF1ZXJ5X3BhcmFtcyIsImNoYW5nZSIsImRvYyIsImZpbHRlclJldHVybiIsIm1zZyIsInRyeUZpbHRlciIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwiYXR0IiwiX2F0dGFjaG1lbnRzIiwic3R1YiIsImZsYXR0ZW4iLCJhcnJzIiwiaW52YWxpZElkRXJyb3IiLCJpc1JlbW90ZSIsIl9yZW1vdGUiLCJwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsInBhcnRzIiwic3BsaXQiLCJub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUiLCJub3JtYWxpemVkIiwicVBhcnNlciIsInBhcnNlciIsInBhcnNlVXJpIiwiZXhlYyIsInVyaSIsImVuY29kZWQiLCJkZWNvZGVVUklDb21wb25lbnQiLCIkMCIsIiQxIiwiJDIiLCJzY29wZUV2YWwiLCJzb3VyY2UiLCJzY29wZSIsInVwc2VydCIsImRpZmZGdW4iLCJjYXRjaCIsImRvY1JldiIsIl9yZXYiLCJuZXdEb2MiLCJfaWQiLCJwdXQiLCJ1cGRhdGVkIiwidHJ5QW5kUHV0IiwidGhpc0F0b2IiLCJhdG9iIiwidGhpc0J0b2EiLCJidG9hIiwiY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJidWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImdldEJsb2IiLCJiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYmluU3RyaW5nVG9CbHVmZmVyIiwiYmluU3RyaW5nIiwiYjY0VG9CbHVmZmVyIiwiYjY0IiwicmVhZEFzQmluYXJ5U3RyaW5nIiwiYmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJoYXNCaW5hcnlTdHJpbmciLCJvbmxvYWRlbmQiLCJiaW5hcnkiLCJhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJibG9iVG9CaW5hcnlTdHJpbmciLCJibG9iT3JCdWZmZXIiLCJibG9iVG9CYXNlNjQiLCJiYXNlNjQiLCJzZXRJbW1lZGlhdGVTaGltIiwic2V0SW1tZWRpYXRlIiwiYXBwZW5kQmxvYiIsInN0YXJ0Iiwic2xpY2VCbG9iIiwiYXJyYXlCdWZmZXIiLCJhcHBlbmRTdHJpbmciLCJzdHJpbmciLCJiaW5hcnlNZDUiLCJpbnB1dElzU3RyaW5nIiwiY2h1bmtTaXplIiwiY2h1bmtzIiwiY2VpbCIsImN1cnJlbnRDaHVuayIsImxvYWROZXh0Q2h1bmsiLCJkb25lIiwicmF3VG9CYXNlNjQiLCJzdHJpbmdNZDUiLCJyZXYkJDEiLCJkZXRlcm1pbmlzdGljX3JldnMiLCJtdXRhdGVhYmxlRG9jIiwiX3Jldl90cmVlIiwid2lubmluZ1JldiIsIm1ldGFkYXRhIiwid2lubmluZ0lkIiwid2lubmluZ1BvcyIsIndpbm5pbmdEZWxldGVkIiwidG9WaXNpdCIsInJldl90cmVlIiwidHJlZSIsImJyYW5jaGVzIiwicG9zIiwiZGVsZXRlZCIsInRyYXZlcnNlUmV2VHJlZSIsInJldnMiLCJuZXdDdHgiLCJjdHgiLCJzb3J0QnlQb3MiLCJjb2xsZWN0TGVhdmVzIiwibGVhdmVzIiwiaXNMZWFmIiwic29ydCIsInJldmVyc2UiLCJjb2xsZWN0Q29uZmxpY3RzIiwid2luIiwiY29uZmxpY3RzIiwibGVhZiIsInJvb3RUb0xlYWYiLCJwYXRocyIsImhpc3RvcnkiLCJzb3J0QnlQb3MkMSIsImluc2VydFNvcnRlZCIsIml0ZW0iLCJjb21wYXJhdG9yIiwiaWR4IiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsIlJlZ0V4cCIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJldmVyeSIsImRvY0ZpZWxkVmFsdWUiLCJzb21lIiwib3JNYXRjaGVycyIsIm1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IiLCJtYXRjaFNlbGVjdG9yIiwibWF5YmVVc2VyT3BlcmF0b3IiLCJ1c2VyVmFsdWUiLCJzdWJQYXJzZWRGaWVsZCIsInN1YkRvY0ZpZWxkVmFsdWUiLCJ1c2VyT3BlcmF0b3IiLCJtYXRjaGVycyIsImZpZWxkRXhpc3RzIiwiZmllbGRJc05vdFVuZGVmaW5lZCIsImFycmF5Q29udGFpbnNWYWx1ZSIsImRvY0ZpZWxkVmFsdWVJdGVtIiwibW9kRmllbGQiLCJuZVZhbHVlIiwiYXJyYXlTaXplIiwiYXJyYXlDb250YWluc0FsbFZhbHVlcyIsInJlZ2V4VmFsdWUiLCJyZWdleE1hdGNoIiwidHlwZU1hdGNoIiwiZmlsdGVyTmFtZSIsImNoYW5nZXNIYW5kbGVyIiwiZG9jX2lkcyIsInZpZXdOYW1lIiwiZGRvYyIsIm1hcEZ1biIsInZpZXdzIiwicm93c01hdGNoZWQiLCJtYXRjaGVzU2VsZWN0b3IiLCJmaWx0ZXJGdW4iLCJmaWx0ZXJzIiwidG9PYmplY3QiLCJ2ZXJzaW9uIiwicmVzZXJ2ZWRXb3JkcyIsImRhdGFXb3JkcyIsInBhcnNlUmV2aXNpb25JbmZvIiwicGFyc2VEb2MiLCJuZXdFZGl0cyIsImRiT3B0cyIsIm5SZXZOdW0iLCJyZXZJbmZvIiwicmV2aXNpb25zIiwicmV2aXNpb25JZHMiLCJtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMiLCJzcGVjaWFsS2V5IiwicHJlcHJvY2Vzc1N0cmluZyIsImJsb2JUeXBlIiwiYXNCaW5hcnkiLCJwYXJzZUJhc2U2NCIsImRpZ2VzdCIsInByZXByb2Nlc3NBdHRhY2htZW50IiwibWQ1IiwicHJlcHJvY2Vzc0Jsb2IiLCJ1cGRhdGVEb2MiLCJyZXZMaW1pdCIsInByZXYiLCJkb2NJbmZvIiwid3JpdGVEb2MiLCJzcGxpdFJldiIsInRhcmdldFBvcyIsInRhcmdldElkIiwicmV2RXhpc3RzIiwicHJldmlvdXNXaW5uaW5nUmV2IiwicHJldmlvdXNseURlbGV0ZWQiLCJpc1Jvb3QiLCJuZXdSZXYiLCJyZXZfbWFwIiwid2lubmluZ1JldiQkMSIsIndpbm5pbmdSZXZJc0RlbGV0ZWQiLCJkZWx0YSIsInByb2Nlc3NEb2NzIiwiZG9jSW5mb3MiLCJmZXRjaGVkRG9jcyIsInR4Iiwib3ZlcmFsbENhbGxiYWNrIiwiaWRzVG9Eb2NzIiwiZG9jc0RvbmUiLCJkb2NzVG9EbyIsImNoZWNrQWxsRG9jc0RvbmUiLCJjdXJyZW50RG9jIiwicmVzdWx0c0lkeCIsImRvY1dyaXR0ZW4iLCJuZXh0RG9jIiwicm9vdElzTWlzc2luZyIsImluc2VydERvYyIsIkRPQ19TVE9SRSIsIk1FVEFfU1RPUkUiLCJzYWZlSnNvblN0cmluZ2lmeSIsImpzb24iLCJpZGJFcnJvciIsImVuY29kZU1ldGFkYXRhIiwiZGVsZXRlZE9yTG9jYWwiLCJkZWNvZGVNZXRhZGF0YSIsInN0b3JlZE9iamVjdCIsInNhZmVKc29uUGFyc2UiLCJkZWNvZGVEb2MiLCJfZG9jX2lkX3JldiIsImxhc3RJbmRleE9mIiwicmVhZEJsb2JEYXRhIiwiYXNCbG9iIiwiZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5IiwidHhuIiwiYXR0T2JqIiwib2JqZWN0U3RvcmUiLCJvbnN1Y2Nlc3MiLCJmZXRjaEF0dGFjaG1lbnQiLCJwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzIiwiYXR0TmFtZXMiLCJjb21wYWN0UmV2cyIsInBvc3NpYmx5T3JwaGFuZWREaWdlc3RzIiwic2VxU3RvcmUiLCJhdHRTdG9yZSIsImF0dEFuZFNlcVN0b3JlIiwiSURCS2V5UmFuZ2UiLCJib3VuZCIsImRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMiLCJvcGVuQ3Vyc29yIiwib25seSIsImN1cnNvciIsImRpZ2VzdFNlcSIsInByaW1hcnlLZXkiLCJjb250aW51ZSIsIm9wZW5UcmFuc2FjdGlvblNhZmVseSIsImlkYiIsInN0b3JlcyIsInRyYW5zYWN0aW9uIiwiaWRiQnVsa0RvY3MiLCJkb2NTdG9yZSIsImJ5U2VxU3RvcmUiLCJhdHRhY2hTdG9yZSIsImF0dGFjaEFuZFNlcVN0b3JlIiwibWV0YVN0b3JlIiwiZG9jSW5mb0Vycm9yIiwibWV0YURvYyIsImFsbERvY3NQcm9jZXNzZWQiLCJkb2NDb3VudERlbHRhIiwicHJlY29uZGl0aW9uRXJyb3JlZCIsIl9tZXRhIiwiYmxvYlN1cHBvcnQiLCJvbkFsbERvY3NQcm9jZXNzZWQiLCJ1cGRhdGVEb2NDb3VudElmUmVhZHkiLCJkb2NDb3VudCIsIm5ld1JldklzRGVsZXRlZCIsImlzVXBkYXRlIiwiY29sbGVjdFJlc3VsdHMiLCJmaW5pc2hEb2MiLCJhdHRhY2htZW50U2F2ZWQiLCJuZXdBdHQiLCJzYXZlQXR0YWNobWVudCIsIndyaXRlQXR0YWNobWVudHMiLCJhZnRlclB1dERvYyIsInJldnNUb0RlbGV0ZSIsImNvbXBhY3RUcmVlIiwibWV0YWRhdGFUb1N0b3JlIiwiYWZ0ZXJQdXRNZXRhZGF0YSIsImF0dHNBZGRlZCIsImF0dHNUb0FkZCIsIm9uZXJyb3IiLCJpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MiLCJwdXRSZXEiLCJvdmVyYWxsRXJyIiwiZG9jdiIsInJlY3YiLCJwcm9jZXNzZWRBdHRhY2htZW50IiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzIiwidHhuUmVzdWx0Iiwib25hYm9ydCIsIm9udGltZW91dCIsIm9uY29tcGxldGUiLCJmaW5pc2giLCJkaWdlc3RzIiwiZmlsZW5hbWUiLCJ2ZXJpZnlBdHRhY2htZW50IiwiYXR0RXJyIiwidmVyaWZ5QXR0YWNobWVudHMiLCJudW1GZXRjaGVkIiwicmV2c19saW1pdCIsInJlYWRNZXRhZGF0YSIsImZldGNoRXhpc3RpbmdEb2NzIiwic3RhcnRUcmFuc2FjdGlvbiIsInJ1bkJhdGNoZWRDdXJzb3IiLCJrZXlSYW5nZSIsImJhdGNoU2l6ZSIsIm9uQmF0Y2giLCJrZXlzQmF0Y2giLCJ2YWx1ZXNCYXRjaCIsInBzZXVkb0N1cnNvciIsIm9uR2V0QWxsIiwib25HZXRBbGxLZXlzIiwib25DdXJzb3IiLCJnZXRBbGwiLCJnZXRBbGxLZXlzIiwibmV3S2V5UmFuZ2UiLCJsYXN0S2V5IiwidXBwZXIiLCJ1cHBlck9wZW4iLCJjb2RlIiwibG93ZXJCb3VuZCIsImlkYkFsbERvY3MiLCJrZXlSYW5nZUVycm9yIiwiaW5jbHVzaXZlRW5kIiwiaW5jbHVzaXZlX2VuZCIsInVwcGVyQm91bmQiLCJjcmVhdGVLZXlSYW5nZSIsIm9uUmVzdWx0c1JlYWR5IiwidXBkYXRlU2VxIiwib25TdWNjZXNzIiwiZG9jSWRSZXZJbmRleCIsImFsbERvY3NJbm5lciIsImZldGNoRG9jQXN5bmNocm9ub3VzbHkiLCJiYXRjaFZhbHVlcyIsImJhdGNoVmFsdWUiLCJiYXRjaEtleXMiLCJyZXR1cm5WYWwiLCJ0b3RhbF9yb3dzIiwibWF4S2V5IiwiYWxsRG9jc0tleXMiLCJydW5uaW5nIiwiYXBwbHlOZXh0IiwiZG9jSWRzIiwibnVtUmVzdWx0cyIsImRvY0lkc1RvTWV0YWRhdGEiLCJvbkdldE1ldGFkYXRhIiwiZG9jSWRSZXYiLCJvYmplY3RTdG9yZXMiLCJ3aW5uaW5nRG9jcyIsIm1ldGFkYXRhcyIsImZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhIiwid2lubmluZ0RvYyIsInByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MiLCJvbkJhdGNoRG9uZSIsImZpbHRlcmVkIiwiYmxvYlN1cHBvcnRQcm9taXNlIiwiY2FjaGVkREJzIiwib3BlblJlcUxpc3QiLCJJZGJQb3VjaCIsInRyeUNvZGUiLCJlbnF1ZXVlVGFzayIsInRoaXNDYWxsYmFjayIsImlkYkdsb2JhbEZhaWx1cmVFcnJvciIsImVucmljaENhbGxiYWNrRXJyb3IiLCJhZGREZWxldGVkT3JMb2NhbEluZGV4IiwiY3JlYXRlSW5kZXgiLCJ1bmlxdWUiLCJtaWdyYXRlTG9jYWxTdG9yZSIsImxvY2FsU3RvcmUiLCJsb2NhbCIsInJhbmdlIiwic2VxQ3Vyc29yIiwibWlncmF0ZUF0dHNBbmRTZXFzIiwiZGlnZXN0TWFwIiwibWlncmF0ZU1ldGFkYXRhIiwib25HZXRNZXRhZGF0YVNlcSIsIm1ldGFkYXRhU2VxIiwiZmV0Y2hNZXRhZGF0YVNlcSIsImluc3RhbmNlSWQiLCJyZXFPcHRzIiwiaGlzdG9yeU5vZGUiLCJhdHRhY2hJZCIsImF0dGFjaG1lbnQiLCJibG9iRGF0YSIsImRvY19jb3VudCIsImlkYl9hdHRhY2htZW50X2Zvcm1hdCIsIm9sZFJldiIsIm9TdG9yZSIsIm9sZERvYyIsIm9wZW5SZXEiLCJpbmRleGVkREIiLCJkZWxldGVEYXRhYmFzZSIsImNhY2hlZCIsImdsb2JhbCIsIm9wZW4iLCJvbnVwZ3JhZGVuZWVkZWQiLCJvbGRWZXJzaW9uIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiYXV0b0luY3JlbWVudCIsImNyZWF0ZVNjaGVtYSIsImN1cnJlbnRUYXJnZXQiLCJjcmVhdGVMb2NhbFN0b3JlU2NoZW1hIiwiYWRkQXR0YWNoQW5kU2VxU3RvcmUiLCJtaWdyYXRpb25zIiwibWlncmF0aW9uIiwib252ZXJzaW9uY2hhbmdlIiwic3RvcmVkTWV0YURvYyIsImNvbXBsZXRlU2V0dXAiLCJzdG9yZU1ldGFEb2NJZlJlYWR5IiwiaW5zdGFuY2VLZXkiLCJjb3VudERvY3MiLCJibG9iJCQxIiwibWF0Y2hlZENocm9tZSIsIm1hdGNoZWRFZGdlIiwiY2hlY2tCbG9iU3VwcG9ydCIsInN1cHBvcnRzQnVsa0dldE1hcCIsInJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyIiwiZW5jb2RlRG9jSWQiLCJwcmVwcm9jZXNzQXR0YWNobWVudHMkMSIsImdldEhvc3QiLCJwcm90b2NvbCIsImhhc1VybFByZWZpeCIsInVzZXIiLCJwYXNzd29yZCIsImF1dGgiLCJ1c2VybmFtZSIsImdlbkRCVXJsIiwiZ2VuVXJsIiwicGF0aERlbCIsImhvc3QiLCJwb3J0IiwicGFyYW1zVG9TdHIiLCJIdHRwUG91Y2giLCJkYlVybCIsInNldHVwUHJvbWlzZSIsIm91ckZldGNoIiwiaGVhZGVycyIsImNyZWRlbnRpYWxzIiwibkF1dGgiLCJ0b2tlbiIsInVhIiwiaXNJRSIsImlzVHJpZGVudCIsImlzRWRnZSIsImlzR0VUIiwic2hvdWxkQ2FjaGVCdXN0Iiwibm93IiwiYWRhcHRlckZ1biQkMSIsInNldHVwIiwiZmV0Y2hKU09OIiwidiIsInNraXBfc2V0dXAiLCJlbmNvZGVBdHRhY2htZW50SWQiLCJ1dWlkJCQxIiwicGluZyIsImNvbXBhY3RfcnVubmluZyIsImludGVydmFsIiwiZG9CdWxrR2V0IiwiZG9CdWxrR2V0U2hpbSIsIm51bUJhdGNoZXMiLCJvblJlc3VsdCIsImJhdGNoTnVtIiwic3ViT3B0cyIsInN1cHBvcnRzQnVsa0dldCIsImZldGNoQXR0YWNobWVudHMiLCJmaWxlbmFtZXMiLCJwcm9taXNlRmFjdG9yaWVzIiwiZG9OZXh0IiwicnVuTmV4dEJhdGNoIiwib25FcnJvciIsInRoaXNFcnIiLCJwb29sIiwidHlwZUZpZWxkRGVzY3JpcHRvciIsIl9fcHJvdG9fXyIsImZldGNoRGF0YSIsImRvY09yRG9jcyIsImNvbnRlbnRUeXBlIiwicHJvY2VzcyIsImJyb3dzZXIiLCJwYXJhbVN0ciIsImJhdGNoX3NpemUiLCJoZWFydGJlYXQiLCJyZXF1ZXN0VGltZW91dCIsImxlZnRUb0ZldGNoIiwiZmVlZCIsInNlcV9pbnRlcnZhbCIsInBhcmFtX25hbWUiLCJsYXN0RmV0Y2hlZFNlcSIsImNvbnRyb2xsZXIiLCJhYm9ydGVkIiwiZmV0Y2hPcHRzIiwic2lnbmFsIiwiZmV0Y2hlZCIsInJhd19yZXN1bHRzX2xlbmd0aCIsImZpbmlzaGVkIiwiUXVlcnlQYXJzZUVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJOb3RGb3VuZEVycm9yIiwiQnVpbHRJbkVycm9yIiwicHJvbWlzZWRDYWxsYmFjayIsInNlcXVlbnRpYWxpemUiLCJwcm9taXNlRmFjdG9yeSIsInVuaXEiLCJ0aGVTZXQiLCJtYXBUb0tleXNBcnJheSIsImNyZWF0ZUJ1aWx0SW5FcnJvciIsInN1bSIsImpMZW4iLCJqTnVtIiwibG9nIiwiZXZhbEZ1bmN0aW9uV2l0aEV2YWwiLCJUYXNrUXVldWUkMSIsImNyZWF0ZVZpZXciLCJzb3VyY2VEQiIsInJlZHVjZUZ1biIsInRlbXBvcmFyeSIsImxvY2FsRG9jTmFtZSIsImNhY2hlZFZpZXdzIiwidmlld1NpZ25hdHVyZSIsImNyZWF0ZVZpZXdTaWduYXR1cmUiLCJfY2FjaGVkVmlld3MiLCJwcm9taXNlRm9yVmlldyIsImRlcERiTmFtZSIsImZ1bGxWaWV3TmFtZSIsImRlcERicyIsImxhc3RTZXFEb2MiLCJwZXJzaXN0ZW50UXVldWVzIiwidGVtcFZpZXdRdWV1ZSIsInBhcnNlVmlld05hbWUiLCJlbWl0RXJyb3IiLCJidWlsdEluUmVkdWNlIiwic3Vtc3FyIiwiX3N1bXNxciIsImFic3RyYWN0IiwibWFwcGVyIiwicmVkdWNlciIsImRkb2NWYWxpZGF0b3IiLCJ0cnlNYXAiLCJ0cnlSZWR1Y2UiLCJyZXJlZHVjZSIsIm91dHB1dCIsInNvcnRCeUtleVRoZW5WYWx1ZSIsImtleUNvbXBhcmUiLCJzbGljZVJlc3VsdHMiLCJyb3dUb0RvY0lkIiwicG9zdHByb2Nlc3NBdHRhY2htZW50cyIsImFkZEh0dHBQYXJhbSIsInBhcmFtTmFtZSIsImFzSnNvbiIsImNvZXJjZUludGVnZXIiLCJpbnRlZ2VyQ2FuZGlkYXRlIiwiYXNOdW1iZXIiLCJjaGVja1F1ZXJ5UGFyc2VFcnJvciIsInN0YXJ0a2V5TmFtZSIsImVuZGtleU5hbWUiLCJncm91cF9sZXZlbCIsIm9wdGlvbk5hbWUiLCJudW1iZXIiLCJjaGVja1Bvc2l0aXZlSW50ZWdlciIsImRlZmF1bHRzVG8iLCJnZXREb2NzVG9QZXJzaXN0IiwiZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMiLCJtZXRhRG9jSWQiLCJkZWZhdWx0TWV0YURvYyIsImRvY0RhdGEiLCJpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJpc0dlbk9uZSIsImdldEtleVZhbHVlRG9jcyIsImt2RG9jc1JlcyIsImt2RG9jcyIsIm9sZEtleXMiLCJrZXlWYWx1ZSIsIm5ld0tleXMiLCJrdkRvYyIsInByb2Nlc3NLZXlWYWx1ZURvY3MiLCJnZXRRdWV1ZSIsInVwZGF0ZVZpZXciLCJtYXBSZXN1bHRzIiwiY3VycmVudFNlcSIsImxpc3RPZkRvY3NUb1BlcnNpc3QiLCJkb2NzVG9QZXJzaXN0Iiwic2F2ZUtleVZhbHVlcyIsImluZGV4ZWRfZG9jcyIsInByb2dyZXNzIiwicHJvY2Vzc05leHRCYXRjaCIsImNoYW5nZXNfYmF0Y2hfc2l6ZSIsImNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyIsImNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwicmVzdWx0c19jb3VudCIsImVtaXR0ZWRLZXlWYWx1ZSIsImNvbXBsZXhLZXkiLCJ1cGRhdGVWaWV3SW5RdWV1ZSIsInF1ZXJ5VmlldyIsInRvdGFsUm93cyIsInNob3VsZFJlZHVjZSIsImZldGNoRnJvbVZpZXciLCJ2aWV3T3B0cyIsImV4cGVjdGVkS2V5cyIsInBhcnNlZEtleUFuZERvY0lkIiwicGFyc2VkU3RyIiwicGFyc2VJbmRleGFibGVTdHJpbmciLCJvbk1hcFJlc3VsdHNSZWFkeSIsImZpbmFsUmVzdWx0cyIsInNob3VsZEdyb3VwIiwibHZsIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJsYXN0IiwiZ3JvdXBLZXkiLCJyZWR1Y2VUcnkiLCJyZWR1Y2VWaWV3IiwiYWxsRG9jc1JlcyIsImRvY0lkc1RvRG9jcyIsImZldGNoUHJvbWlzZXMiLCJrZXlTdGFydCIsImtleUVuZCIsInF1ZXJ5Vmlld0luUXVldWUiLCJxdWVyeVByb21pc2VkIiwiX3F1ZXJ5IiwiY3VzdG9tUXVlcnkiLCJrZXlzQXNTdHJpbmciLCJodHRwUXVlcnkiLCJ1cGRhdGVWaWV3T3B0cyIsInZpZXdfdXBkYXRlX2NoYW5nZXNfYmF0Y2hfc2l6ZSIsImZpbmFsUHJvbWlzZUZhY3RvcnkiLCJkZXNpZ25Eb2NOYW1lIiwic3RhbGUiLCJjb2VyY2VPcHRpb25zIiwidmlld0NsZWFudXAiLCJfdmlld0NsZWFudXAiLCJjdXN0b21WaWV3Q2xlYW51cCIsImh0dHBWaWV3Q2xlYW51cCIsImRvY3NUb1ZpZXdzIiwidmlld3NUb1N0YXR1cyIsImRkb2NOYW1lIiwidmlld0RCTmFtZXMiLCJzdGF0dXNJc0dvb2QiLCJ2aWV3REJOYW1lIiwiZGVzdHJveVByb21pc2VzIiwibG9jYWxWaWV3Q2xlYW51cCIsImNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlIiwib3JpZ01hcCIsInJlZHVjZUZ1blN0cmluZyIsImJ1aWx0SW4iLCJnZXRCdWlsdEluIiwibWFwcmVkdWNlIiwiaXNHZW5PbmUkMSIsImdldERvY0F0dGFjaG1lbnRzIiwiZ2V0RG9jcyIsInNyYyIsImRpZmZzIiwicmVzdWx0RG9jcyIsImZldGNoUmV2aXNpb25PbmVEb2NzIiwiaGFzQ29uZmxpY3RzIiwiYnVsa0dldE9wdHMiLCJtaXNzaW5nUmV2IiwiY3JlYXRlQnVsa0dldE9wdHMiLCJidWxrR2V0UmVzcG9uc2UiLCJidWxrR2V0SW5mbyIsInJlbW90ZURvYyIsImRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzIiwiZmlsZUhhc0NoYW5nZWQiLCJnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSIsInVwZGF0ZUNoZWNrcG9pbnQiLCJjaGVja3BvaW50Iiwic2Vzc2lvbiIsInJldHVyblZhbHVlIiwic2Vzc2lvbl9pZCIsInJlcGxpY2F0b3IiLCJDaGVja3BvaW50ZXIiLCJ3cml0ZUNoZWNrcG9pbnQiLCJ1cGRhdGVUYXJnZXQiLCJ1cGRhdGVTb3VyY2UiLCJ3cml0ZVRhcmdldENoZWNrcG9pbnQiLCJ3cml0ZVNvdXJjZUNoZWNrcG9pbnQiLCJpc0ZvcmJpZGRlbkVycm9yIiwiY29tcGFyaXNvbnMiLCJ0YXJnZXREb2MiLCJzb3VyY2VEb2MiLCJzcmNEb2MiLCJ0Z3REb2MiLCJjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5Iiwic291cmNlSGlzdG9yeSIsInRhcmdldEhpc3RvcnkiLCJTIiwic291cmNlUmVzdCIsIlQiLCJ0YXJnZXRSZXN0IiwiaGFzU2Vzc2lvbklkIiwiY29tcGFyZVJlcGxpY2F0aW9uTG9ncyIsInNlc3Npb25JZCIsInByb3BzIiwicmVzdCIsImZsb29yIiwiZ2V0Q2hlY2twb2ludCIsImdlbmVyYXRlUmVwbGljYXRpb25JZCIsInF1ZXJ5UGFyYW1zIiwiZmlsdGVyVmlld05hbWUiLCJzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5IiwicXVlcnlEYXRhIiwibWQ1c3VtIiwicmVwbGljYXRlIiwiY3VycmVudEJhdGNoIiwicmVwSWQiLCJjaGVja3BvaW50ZXIiLCJiYXRjaGVzIiwicGVuZGluZ0JhdGNoIiwid3JpdGluZ0NoZWNrcG9pbnQiLCJjaGFuZ2VzQ29tcGxldGVkIiwicmVwbGljYXRpb25Db21wbGV0ZWQiLCJiYXRjaGVzX2xpbWl0IiwiY2hhbmdlc1BlbmRpbmciLCJjaGFuZ2VkRG9jcyIsInN0YXJ0X3RpbWUiLCJkb2NzX3JlYWQiLCJkb2NzX3dyaXR0ZW4iLCJkb2Nfd3JpdGVfZmFpbHVyZXMiLCJlcnJvcnMiLCJpbml0Q2hlY2twb2ludGVyIiwiY2hlY2twb2ludE9wdHMiLCJ3cml0ZURvY3MiLCJidWxrT3B0cyIsImNvbXBsZXRlUmVwbGljYXRpb24iLCJlcnJvcnNCeUlkIiwiZXJyb3JzTm8iLCJlcnJvck5hbWUiLCJmaW5pc2hCYXRjaCIsIm91dFJlc3VsdCIsImdldENoYW5nZXMiLCJvbkNoZWNrcG9pbnRFcnJvciIsImdldEJhdGNoRG9jcyIsImdvdCIsInN0YXJ0TmV4dEJhdGNoIiwiYWJvcnRSZXBsaWNhdGlvbiIsInByb2Nlc3NQZW5kaW5nQmF0Y2giLCJpbW1lZGlhdGUkJDEiLCJmYXRhbEVycm9yIiwiZW5kX3RpbWUiLCJyZXRyeSIsImJhY2tfb2ZmX2Z1bmN0aW9uIiwiYmFja09mZlNldCIsImN1cnJlbnRfYmFja19vZmYiLCJiYWNrT2ZmIiwib25DaGFuZ2VzQ29tcGxldGUiLCJvbkNoYW5nZXNFcnJvciIsIl9hYm9ydENoYW5nZXMiLCJhYm9ydENoYW5nZXMiLCJzdGFydENoYW5nZXMiLCJfYWRkZWRMaXN0ZW5lcnMiLCJSZXBsaWNhdGlvbiIsInRvUG91Y2giLCJQb3VjaENvbnN0cnVjdG9yIiwicmVwbGljYXRlV3JhcHBlciIsInJlcGxpY2F0ZVJldCIsIlN5bmMiLCJjYW5jZWxlZCIsIm9wdHNQdXNoIiwib3B0c1B1bGwiLCJwdWxsIiwicHVsbENoYW5nZSIsInB1c2hDaGFuZ2UiLCJwdXNoRGVuaWVkIiwicHVsbERlbmllZCIsInB1c2hQYXVzZWQiLCJwdWxsUGF1c2VkIiwicHVzaEFjdGl2ZSIsInB1bGxBY3RpdmUiLCJyZW1vdmVkIiwicmVtb3ZlQWxsIiwiYWRkT25lTGlzdGVuZXIiLCJvdXQiLCJjbGVhbnVwIiwiX3JlYWR5Q2FsbGVkIiwicmVwbGljYXRlTWV0aG9kcyIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsImNsb2Nrc2VxIiwic2VlZEJ5dGVzIiwibXNlY3MiLCJuc2VjcyIsImR0IiwidGwiLCJ0bWgiLCJnZW5lcmF0ZVVVSUQiLCJuYW1lc3BhY2UiLCJzdHJpbmdUb0J5dGVzIiwiaGFzaGZ1bmMiLCJETlMiLCJVUkwiLCJnZXRPdXRwdXRMZW5ndGgiLCJpbnB1dExlbmd0aDgiLCJzYWZlQWRkIiwibHN3IiwibWQ1Y21uIiwicSIsImNudCIsIm1kNWZmIiwibWQ1Z2ciLCJtZDVoaCIsIm1kNWlpIiwidjM1IiwibGVuZ3RoMzIiLCJtZDVUb0hleEVuY29kZWRBcnJheSIsIm9sZGEiLCJvbGRiIiwib2xkYyIsIm9sZGQiLCJ3b3Jkc1RvTWQ1IiwibGVuZ3RoOCIsIlVpbnQzMkFycmF5IiwiYnl0ZXNUb1dvcmRzIiwiZiIsInoiLCJST1RMIiwiSyIsIkgiLCJOIiwiTSIsIl9pIiwicG93IiwiX2kyIiwiVyIsIl90IiwiX3QyIiwiY29uZmlybSIsInNwbGl0RGlzYWJsZSIsImNhcHR1cmUiLCJjbGlja2F3YXlIYW5kbGVyIiwicmVzZXRIYW5kbGVyIiwibmNJZCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0Iiwibm9vcCIsInRpdGxlIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJxdWV1ZU1pY3JvdGFzayIsIk11dGF0aW9uIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJoYW5kbGUiLCJvYnNlcnZlciIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJzY3JpcHRFbCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiZG9jdW1lbnRFbGVtZW50IiwidXBsb2FkZWREb2NzQ29udGFpbmVyIiwic2FtcGxlRG9jc0NvbnRhaW5lciIsIm9wZW5CdXR0b24iLCJkZWxldGVCdXR0b24iLCJvcmRlcmVkRG9jdW1lbnRzIiwib3JkZXJlZFNlbGVjdGlvbiIsIm1ldGFLZXlJc1ByZXNzZWQiLCJzaGlmdEtleUlzUHJlc3NlZCIsInByZXZTZWxlY3Rpb24iLCJzcGVjaWZpY1NlbGVjdGlvbiIsImdldFNlbGVjdGlvbkZpbGVuYW1lcyIsIm9wZW5FZGl0b3JUYWIiLCJpc1VwbG9hZGVkIiwic3RvcmFnZSIsIm1hbmlmZXN0IiwidGlsZSIsInVuc2VsZWN0QWxsIiwic2V0U2lkZWJhckFjdGlvbnMiLCJsYXN0SWR4Iiwic2FtcGxlcyIsInVwZGF0ZURvY3VtZW50U2VsZWN0b3IiLCJ1cGxvYWRlZERvY3MiLCJmZXRjaFVwbG9hZGVkRG9jdW1lbnRzIiwiZm9ybWF0RmlsZW5hbWUiLCJzYW1wbGVEb2NzIiwiZmV0Y2hTYW1wbGVEb2N1bWVudHMiLCJoYW5kbGVPcGVuRG9jdW1lbnRzIiwic2V0U3RhcnQiLCJnZXRQcmV2U2VsZWN0aW9uIiwic2V0RW5kIiwiZ2V0U2VsZWN0aW9uIiwib3BlblRpbGUiLCJoYW5kbGVEZWxldGVEb2N1bWVudHMiLCJhbGVydE1lc3NhZ2UiLCJkZWxldGVFbnRyeSIsImRlYnVnIiwiSW5pdERvY3VtZW50U2VsZWN0b3IiLCJtZWkiLCJsb2NhbE1hbmlmZXN0IiwibWVpUHJvbWlzZSIsIm1laVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJiZ1Byb21pc2UiLCJiZ1JlYWRlciIsIm1laVVyaSIsImJnVXJpIiwic2luZ2xlIiwia2luZCIsImFsZXJ0IiwibWF4TGVuIiwiY2h1bmtMZW4iLCJyZWciLCJjb21wYXJpc29uIiwiZGlnaXRzUmVnIiwiZGlnaXRzUmVzdWx0cyIsImRpZ2l0cyIsInN0cmlwcGVkIiwiZm0iLCJnZXRJbnN0YW5jZSIsImNyZWF0ZVVucGFpcmVkSXRlbSIsInJhZGlvTmFtZSIsInJhZGlvIiwibGFiZWwiLCJmaWxlcyIsIm1laV9jb250YWluZXIiLCJpbWFnZV9jb250YWluZXIiLCJyZWplY3RGaWxlcyIsImZpbGUiLCJleHQiLCJ1bnBhaXJlZEl0ZW0iLCJhZGRGaWxlIiwicGFpcmVkX2NvbnRhaW5lciIsInNlbGVjdGVkTWVpRWxlbWVudCIsInNlbGVjdGVkSW1hZ2VFbGVtZW50IiwibWVpX2ZpbGVuYW1lIiwiaW1hZ2VfZmlsZW5hbWUiLCJwYWlyZWRfZWwiLCJ0aWxlX2ZpbGVuYW1lIiwiaGFuZGxlVW5wYWlyIiwicmVtb3ZlRm9saW8iLCJtZWlJdGVtIiwiaW1hZ2VJdGVtIiwiY3JlYXRlUGFpcmVkVGlsZSIsImFkZEZvbGlvIiwidXBsb2FkcyIsImV4aXN0aW5nTmFtZXMiLCJmb2xpb1Byb21pc2VzIiwiZ2V0Rm9saW9zIiwiaW1hZ2UiLCJuZXdOYW1lIiwicmVuYW1lRmlsZSIsImNyZWF0ZU1hbmlmZXN0IiwibWFuaWZlc3RCbG9iIiwiYWRkRW50cnkiLCJ1cGxvYWRGb2xpbyIsImNsZWFyIiwiRmlsZU1hbmFnZXIiLCJhbGxGaWxlcyIsImZvbGlvcyIsImluc3RhbmNlIiwidXBkYXRlZEVudHJ5IiwiZ2V0RmlsZUNvdW50IiwibmV3RW50cnkiLCJuZXdGb2xpbyIsImZpbmRJbmRleCIsImZvbGlvIiwiZ2V0RmlsZSIsIkluaXRVcGxvYWRBcmVhIiwibW9kYWxXaW5kb3ciLCJNb2RhbFdpbmRvdyIsImhhbmRsZU1ha2VQYWlyIiwic3Bpbm5lciIsImhhbmRsZVVwbG9hZEFsbERvY3VtZW50cyIsImZpbGVTZWxlY3RvciIsIm11bHRpcGxlIiwiZmlsZUxpc3QiLCJhZGROZXdGaWxlcyIsInVwbG9hZF9hcmVhIiwib25kcmFnbGVhdmUiLCJvbmRyYWdvdmVyIiwiZGF0YVRyYW5zZmVyIiwiZHJvcEVmZmVjdCIsIm9uZHJvcCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVW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LyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gODUpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0eXBlcyA9IFtcbiAgcmVxdWlyZSgnLi9uZXh0VGljaycpLFxuICByZXF1aXJlKCcuL3F1ZXVlTWljcm90YXNrJyksXG4gIHJlcXVpcmUoJy4vbXV0YXRpb24uanMnKSxcbiAgcmVxdWlyZSgnLi9tZXNzYWdlQ2hhbm5lbCcpLFxuICByZXF1aXJlKCcuL3N0YXRlQ2hhbmdlJyksXG4gIHJlcXVpcmUoJy4vdGltZW91dCcpXG5dO1xudmFyIGRyYWluaW5nO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG52YXIgcXVldWUgPSBbXTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRyYWluaW5nID0gZmFsc2U7XG4gIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gIH1cbiAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgIG5leHRUaWNrKCk7XG4gIH1cbn1cblxuLy9uYW1lZCBuZXh0VGljayBmb3IgbGVzcyBjb25mdXNpbmcgc3RhY2sgdHJhY2VzXG5mdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgaWYgKGRyYWluaW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNjaGVkdWxlZCA9IGZhbHNlO1xuICBkcmFpbmluZyA9IHRydWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICB3aGlsZSAobGVuKSB7XG4gICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSBbXTtcbiAgICB3aGlsZSAoY3VycmVudFF1ZXVlICYmICsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgIH1cbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICB9XG4gIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gIHF1ZXVlSW5kZXggPSAtMTtcbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxudmFyIHNjaGVkdWxlRHJhaW47XG52YXIgaSA9IC0xO1xudmFyIGxlbiA9IHR5cGVzLmxlbmd0aDtcbndoaWxlICgrK2kgPCBsZW4pIHtcbiAgaWYgKHR5cGVzW2ldICYmIHR5cGVzW2ldLnRlc3QgJiYgdHlwZXNbaV0udGVzdCgpKSB7XG4gICAgc2NoZWR1bGVEcmFpbiA9IHR5cGVzW2ldLmluc3RhbGwobmV4dFRpY2spO1xuICAgIGJyZWFrO1xuICB9XG59XG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgdGhpcy5mdW4gPSBmdW47XG4gIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1biA9IHRoaXMuZnVuO1xuICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICBzd2l0Y2ggKGFycmF5Lmxlbmd0aCkge1xuICBjYXNlIDA6XG4gICAgcmV0dXJuIGZ1bigpO1xuICBjYXNlIDE6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSk7XG4gIGNhc2UgMjpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSk7XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSwgYXJyYXlbMl0pO1xuICBkZWZhdWx0OlxuICAgIHJldHVybiBmdW4uYXBwbHkobnVsbCwgYXJyYXkpO1xuICB9XG5cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGltbWVkaWF0ZTtcbmZ1bmN0aW9uIGltbWVkaWF0ZSh0YXNrKSB7XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuICBxdWV1ZS5wdXNoKG5ldyBJdGVtKHRhc2ssIGFyZ3MpKTtcbiAgaWYgKCFzY2hlZHVsZWQgJiYgIWRyYWluaW5nKSB7XG4gICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBzY2hlZHVsZURyYWluKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIENvbG9yIGZyb20gJy4vQ29sb3InO1xuaW1wb3J0IHsgdXBkYXRlSGlnaGxpZ2h0LCBnZXRIaWdobGlnaHRUeXBlIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuLi9TcXVhcmVFZGl0L0dyb3VwaW5nJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4vUmVzaXplJztcbmltcG9ydCB7IEF0dHJpYnV0ZXMsIFNlbGVjdGlvblR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuLi9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBzZWxlY3Rpb24gbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25UeXBlICgpOiBTZWxlY3Rpb25UeXBlIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbC1ieSBpcy1hY3RpdmUnKTtcbiAgaWYgKGVsZW1lbnQubGVuZ3RoICE9PSAwKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbMF0uaWQgYXMgU2VsZWN0aW9uVHlwZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFVuc2VsZWN0IGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhbmQgcnVuIHVuZG8gYW55IGV4dHJhXG4gKiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZWxlY3QgKCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubm8tbW92aW5nJykuZm9yRWFjaCgoc2VsZWN0ZWQ6IFNWR0dFbGVtZW50KSA9PiBcbiAgICBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCduby1tb3ZpbmcnKSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpLmZvckVhY2goKHNlbGVjdGVkOiBTVkdHRWxlbWVudCkgPT4ge1xuICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgaWYgKHNlbGVjdGVkLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgc2VsZWN0ZWQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgQ29sb3IudW5oaWdobGlnaHQoc2VsZWN0ZWQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBzZWxlY3RlZC5zdHlsZS5maWxsID0gJyc7XG4gICAgfVxuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdkxpbmUnKSkuZm9yRWFjaCgoZGl2TGluZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBkaXZMaW5lLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gIH0pO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmV1bWUnKSkuZm9yRWFjaCgobmV1bWU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgbmV1bWUuc3R5bGUuZmlsbCA9ICcnO1xuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RleHQtc2VsZWN0JykpLmZvckVhY2goKGVsOiBTVkdFbGVtZW50KSA9PiB7XG4gICAgZWwuc3R5bGUuY29sb3IgPSAnJztcbiAgICBlbC5zdHlsZS5mb250V2VpZ2h0ID0gJyc7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zZWxlY3QnKTtcbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goKHN5bFJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgc3lsUmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpLmZvckVhY2goKHN5bGxhYmxlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHN5bGxhYmxlLnN0eWxlLmZpbGwgPSAnJztcbiAgICBzeWxsYWJsZS5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgIHN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKS5yZW1vdmUoKTtcbiAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcblxuICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgIEdyb3VwaW5nLmVuZEdyb3VwaW5nU2VsZWN0aW9uKCk7XG4gIH0gZWxzZSB7XG4gICAgU2VsZWN0T3B0aW9ucy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH1cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgdXBkYXRlSGlnaGxpZ2h0KCk7XG59XG5cbi8qKlxuICogU2VsZWN0IGEgc3RhZmYgZWxlbWVudC5cbiAqIEBwYXJhbSBzdGFmZiAtIFRoZSBzdGFmZiBlbGVtZW50IGluIHRoZSBET00uXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSBUaGUgZHJhZyBoYW5kbGVyIGluIHVzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFN0YWZmIChzdGFmZjogU1ZHR0VsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBpZiAoIXN0YWZmLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIHN0YWZmLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQoc3RhZmYpO1xuICAgIENvbG9yLmhpZ2hsaWdodChzdGFmZiwgJyNkMDAnKTtcbiAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTcGxpdEFjdGlvbnMoKTtcbiAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICB9XG59XG5cbi8qKlxuICogU2VsZWN0IGEgbGF5ZXIgZWxlbWVudC5cbiAqIEBwYXJhbSBsYXllckVsZW1lbnQgLSBUaGUgbGF5ZXIgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RMYXllckVsZW1lbnQgKGxheWVyRWxlbWVudDogU1ZHR0VsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBpZiAoIWxheWVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBsYXllckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBDb2xvci51bmhpZ2hsaWdodChsYXllckVsZW1lbnQpO1xuICAgIENvbG9yLmhpZ2hsaWdodChsYXllckVsZW1lbnQsICcjZDAwJyk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyaWMgc2VsZWN0IGZ1bmN0aW9uLlxuICogQHBhcmFtIGVsIC0gRWxlbWVudCB0byBzZWxlY3QuXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSBPbmx5IHVzZWQgZm9yIHN0YXZlcy5cbiAqIEBwYXJhbSBuZWVkc0hpZ2hsaWdodFVwZGF0ZSAtIFdoZXRoZXIgYWxsIHRoZSBncm91cCdzIGhpZ2hsaWdodHMgc2hvdWxkIGJlIHVwZGF0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdCAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgZHJhZ0hhbmRsZXI/OiBEcmFnSGFuZGxlciwgbmVlZHNIaWdobGlnaHRVcGRhdGUgPSB0cnVlKTogdm9pZCB7XG4gIC8vIElmIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QsIGV4aXRcbiAgaWYgKCFlbCkgcmV0dXJuO1xuXG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICByZXR1cm4gc2VsZWN0U3RhZmYoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXllcicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdExheWVyRWxlbWVudChlbCwgZHJhZ0hhbmRsZXIpO1xuICB9XG5cbiAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsVGV4dFJlY3QnKSAmJlxuICAgICAgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsVGV4dFJlY3QtZGlzcGxheScpKSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAvLyBzZXQgZmlsbCB0byByZWRcbiAgICAvLyBzZXQgc3Ryb2tlIHRvIHJlZCBvbmx5IGlmIHNlbGVjdGVkIGVsZW0gaXMgYSBkaXZMaW5lXG4gICAgZWwuc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBlbC5zdHlsZS5zdHJva2UgPSAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpPyAnI2QwMCcgOiAnYmxhY2snO1xuXG4gICAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykubGVuZ3RoKSB7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSAmJiBnZXRIaWdobGlnaHRUeXBlKCkgPT0gJ25ldW1lJykge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbG9yIG9mIHRoZSBjb3JyZXNwb25kaW5nIHRleHQgaW4gdGhlIHRleHQgcGFuZWwgdG8gcmVkXG4gICAgbGV0IHN5bElkO1xuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIHN5bElkID0gZWwuaWQ7XG4gICAgfSBlbHNlIGlmIChlbC5jbG9zZXN0KCcuc3lsbGFibGUnKSAhPT0gbnVsbCkge1xuICAgICAgc3lsSWQgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKS5pZDtcbiAgICB9XG4gICAgaWYgKHN5bElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNwYW5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi4nICsgc3lsSWQpO1xuICAgICAgc3BhbnMuZm9yRWFjaCgoc3BhbjogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgc3Bhbi5zdHlsZS5jb2xvciA9ICcjZDAwJztcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2VsZWN0Jyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKG5lZWRzSGlnaGxpZ2h0VXBkYXRlKSB7XG4gICAgdXBkYXRlSGlnaGxpZ2h0KCk7XG4gIH1cbn1cbiAgICBcblxuLyoqXG4gKiBTZWxlY3QgYW4gbmMuXG4gKiBAcGFyYW0gZWwgLSBUaGUgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0TmNzIChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IFByb21pc2U8dm9pZD4ge1xuICBpZiAoIWVsLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgY29uc3QgcGFyZW50ID0gZWwucGFyZW50RWxlbWVudCBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICB1bnNlbGVjdCgpO1xuICAgIHNlbGVjdChwYXJlbnQpO1xuICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHBhcmVudCwgbmVvblZpZXcpKSB7XG4gICAgICBjb25zdCBwcmV2TmMgPSBwYXJlbnQucHJldmlvdXNTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgaWYgKGF3YWl0IGlzTGlnYXR1cmUocHJldk5jLCBuZW9uVmlldykpIHtcbiAgICAgICAgc2VsZWN0KHByZXZOYyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zdCBuZXh0TmMgPSBwYXJlbnQubmV4dFNpYmxpbmcgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKG5leHROYywgbmVvblZpZXcpKSB7XG4gICAgICAgICAgc2VsZWN0KG5leHROYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdFcnJvcjogTmVpdGhlciBwcmV2IG9yIG5leHQgbmMgYXJlIGxpZ2F0dXJlcycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ2xpZ2F0dXJlJyk7XG4gICAgfSBlbHNlIGlmIChwYXJlbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCduYycpKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMocGFyZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS53YXJuKCdObyBhY3Rpb24gdHJpZ2dlcmVkIScpO1xuICAgIH1cbiAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICB9XG59XG5cbi8qKlxuICogQHBhcmFtIG5jIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEBwYXJhbSBuZW9uVmlldyAtIFRoZSBbW05lb25WaWV3XV0gZm9yIHRoaXMgaW5zdGFuY2UuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBuZXVtZSBjb21wb25lbnQgaXMgcGFydCBvZiBhIGxpZ2F0dXJlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNMaWdhdHVyZSAobmM6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3KTogUHJvbWlzZTxib29sZWFuPiB7XG4gIGNvbnN0IGF0dHJpYnV0ZXM6IEF0dHJpYnV0ZXMgPSBhd2FpdCBuZW9uVmlldy5nZXRFbGVtZW50QXR0cihuYy5pZCwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgcmV0dXJuIEJvb2xlYW4oYXR0cmlidXRlcy5saWdhdGVkKTtcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIGxpc3Qgb2YgZWxlbWVudHMgb2YgYSBjZXJ0YWluIHR5cGUgYXJlIGxvZ2ljYWxseSBhZGphY2VudCB0byBlYWNoIG90aGVyLlxuICogSW5jbHVkZXMgZWxlbWVudHMgdGhhdCBhcmUgb24gc2VwYXJhdGUgc3RhdmVzIGJ1dCB3b3VsZCBvdGhlcndpc2UgYmUgbmV4dCB0byBlYWNoIG90aGVyLlxuICogQ2FuIG5vdCBhcHBseSB0byBlbGVtZW50cyBvZiB0eXBlIG5ldW1lIGNvbXBvbmVudC5cbiAqIFxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdXNlciBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyBvZiBpbnRlcmVzdFxuICogQHJldHVybnMgdHJ1ZSBpZiBlbGVtZW50cyBhcmUgYWRqYWNlbnQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gYXJlQWRqYWNlbnQoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcbiAgLy8gMiBlbGVtZW50cyBjYW5ub3QgYmUgYWRqYWNlbnQgaWYgdGhlcmUgaXMgb25seSAxIGVsZW1lbnRcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICAvLyBnZXQgYWxsIGVsZW1lbnRzIHRoYXQgYXJlIG9mIHRoZSBzYW1lIHR5cGUgYXMgc2VsZWN0aW9uVHlwZVxuICBsZXQgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGU6IEhUTUxFbGVtZW50W107XG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlJykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIFdlIGF1dG9tYXRpY2FsbHkgcmV0dXJuICd0cnVlJyBmb3IgbmV1bWVzIGJlY2F1c2Ugd2Ugd2FudCB0aGUgdXNlciB0byBiZSBcbiAgICAgIC8vIGFsbG93ZWQgdG8gZ3JvdXAgdHdvIG5ldW1lcyBpbiBzZXBhcmF0ZSBzeWxsYWJlcyB3aXRob3V0IGhhdmluZyB0byBwYXJmb3JtIG90aGVyXG4gICAgICAvLyBzdGVwcyBmaXJzdC4gWWVzLCB0aGVyZSBpcyBhIHRyYWRlLW9mZiAtIHRoaXMgYWxsb3dzIHVzZXJzIHRvIHRyeSBhbmQgZ3JvdXAgYW55IFxuICAgICAgLy8gdHdvIG5vbi1hZGphY2VudCBuZXVtZXMsIGJ1dCBpdCB3YXMgZGVjaWRlZCB0aGF0IHRoZSBiZW5lZml0cyAoc3BlZWQgYW5kIGVmZmljaWVuY3kpXG4gICAgICAvLyBvdXR3ZWlnaCB0aGUgY29zdHMgKHVzZXIgdHJ5aW5nIGFuIGlsbGVnYWwgZWRpdCkuXG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYycpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN0YWZmJykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIFxuICAvLyBTb3J0IFNFTEVDVEVEIGVsZW1lbnRzIGluIG9yZGVyIG9mIGFwcGVhcmFuY2UgYnkgXG4gIC8vIG1hdGNoaW5nIHRvIG9yZGVyIG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBjb25zdCBzb3J0ZWRFbGVtZW50cyA9IFtdO1xuICBmb3IgKGxldCBpPTA7IGk8YWxsRWxlbXNPZlNlbGVjdGlvblR5cGUubGVuZ3RoOyBpKyspIHtcbiAgICBmb3IgKGxldCBqPTA7IGo8ZWxlbWVudHMubGVuZ3RoOyBqKyspIHtcbiAgICAgIGlmIChhbGxFbGVtc09mU2VsZWN0aW9uVHlwZVtpXS5pc1NhbWVOb2RlKGVsZW1lbnRzW2pdKSkge1xuICAgICAgICBzb3J0ZWRFbGVtZW50cy5wdXNoKGVsZW1lbnRzW2pdKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvLyBOb3cgY2hlY2sgaWYgU0VMRUNURUQgZWxlbWVudHMgYXJlIGFsbCBhZGphY2VudCAoaW4gYSByb3cpIGJ5IFxuICAvLyBmaW5kaW5nIGFuZCBjb21wYXJpbmcgdGhlaXIgaW5kZWNlcyBpbiB0aGUgYXJyYXkgb2YgQUxMIGVsZW1lbnRzIG9mIHNlbGVjdGlvbiB0eXBlXG4gIGZvciAobGV0IGk9MDsgaTxzb3J0ZWRFbGVtZW50cy5sZW5ndGgtMTsgaSsrKSB7XG4gICAgY29uc3QgZmlyc3RFbGVtID0gc29ydGVkRWxlbWVudHNbaV07XG4gICAgY29uc3Qgc2Vjb25kRWxlbSA9IHNvcnRlZEVsZW1lbnRzW2krMV07XG5cbiAgICBjb25zdCBpbmRleDEgPSBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZS5pbmRleE9mKGZpcnN0RWxlbSk7XG4gICAgY29uc3QgaW5kZXgyID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihzZWNvbmRFbGVtKTtcblxuICAgIGlmIChNYXRoLmFicyhpbmRleDEgLSBpbmRleDIpICE9PSAxKSByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIENoZWNrIHRvIHNlZSBpZiB0aGUgYXJyYXkgb2YgZWxlbWVudHMgYWxsIHNoYXJlIHRoZSBzYW1lIGxvZ2ljYWwgcGFyZW50LlxuICogRm9yIGV4YW1wbGU6IElmIGFsbCBuZXVtZXMgYXJlIGluIHRoZSBzYW1lIHN5bGxhYmxlLlxuICogXG4gKiBOb3RlISEgVGhlcmUgaXMgY3VycmVudGx5IG5vIGxvZ2ljIGZvciB0cmVhdGluZyBsYXllciBlbGVtZW50cyBhbmQgYmJveGVzIVxuICogTm90ZSEhIEZ1bmN0aW9uIHdpbGwgYWx3YXlzIHJldHVybiB0cnVlIGZvciBzdGF2ZSBlbGVtZW50cy4gKFNob3VsZCBpdD8/PylcbiAqIFxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgTmVvbiBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyBpbiBxdWVzdGlvblxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgc2hhcmUgdGhlIHNhbWUgbG9naWNhbCBwYXJlbnQsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNoYXJlZExvZ2ljYWxQYXJlbnQoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcbiAgZWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoZWxlbSA9PiAhKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykgfHwgZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykgfHwgZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkpO1xuXG4gIGlmICghZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGNvbnN0IHJlZmVyZW5jZVBhcmVudFN0YWZmID0gZWxlbWVudHNbMF0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICBmb3IgKGxldCBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IGVsZW1lbnRzW2ldO1xuICAgICAgICBpZiAoIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuaXNTYW1lTm9kZShyZWZlcmVuY2VQYXJlbnRTdGFmZikpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3lsbGFibGUpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSB0eXBlIGFzIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGUuIFxuICogRm9yIGV4YW1wbGUsIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgb2YgdHlwZSBuZXVtZSwgb3Igc3lsbGFibGUsIGV0Yy5cbiAqIFxuICogTm90ZSEhIFRoZXJlIGlzIG5vIGxvZ2ljIGN1cnJlbnRseSBpbXBsZW1lbnRlZCBmb3IgbGF5ZXIgZWxlbWVudHMgb3IgYmJveGVzLlxuICogXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB0aGUgY3VycmVudCBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBiZWluZyBjaGVja2VkXG4gKiBAcmV0dXJucyB0cnVlIGlmIGFsbCBlbGVtZW50cyBtYXRjaCBzZWxlY3Rpb24gbW9kZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcblxuICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnRzIC0gVGhlIGVsZW1lbnRzIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50cyBoYXZlIHRoZSBzYW1lIHBhcmVudCB1cCB0d28gbGV2ZWxzLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRTZWNvbmRMZXZlbFBhcmVudCAoZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGNvbnN0IHRlbXBFbGVtZW50cyA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuICBjb25zdCBmaXJzdEVsZW1lbnQgPSB0ZW1wRWxlbWVudHMucG9wKCk7XG4gIGNvbnN0IHNlY29uZFBhcmVudCA9IGZpcnN0RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0ZW1wRWxlbWVudHMpIHtcbiAgICBjb25zdCBzZWNQYXIgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBpZiAoc2VjUGFyLmlkICE9PSBzZWNvbmRQYXJlbnQuaWQpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRydWU7XG59XG5cbi8qKlxuICogQ2hlY2sgaWYgdXNlciBzZWxlY3RlZCBlbGVtZW50cyBhY2Nyb3NzIG11bHRpcGxlIHN0YXZlc1xuICogQHBhcmFtIGVsZW1lbnRzIHRoZSB1c2VyLXNlbGVjdGVkIGVsZW1lbnRzXG4gKiBAcmV0dXJucyB0cnVlIGlmIHNlbGVjdGlvbiBpcyBhY2Nyb3NzIG11bHRpcGxlIHN0YXZlcywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc011bHRpU3RhdmVTZWxlY3Rpb24oZWxlbWVudHM6IFNWR0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCBlbGVtZW50c0FycmF5ID0gQXJyYXkuZnJvbShlbGVtZW50cyk7XG5cbiAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZiA9IGVsZW1lbnRzQXJyYXlbaV0uY2xvc2VzdCgnLnN0YWZmJyk7XG5cbiAgICBmb3IgKGxldCBqPWk7IGo8ZWxlbWVudHNBcnJheS5sZW5ndGg7IGorKykge1xuICAgICAgY29uc3QgYW5vdGhlclN0YWZmID0gZWxlbWVudHNBcnJheVtqXS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICAgIC8vIGNvbXBhcmUgd2l0aCBvdGhlciBzdGF2ZXNcbiAgICAgIGlmICghc3RhZmYuaXNTYW1lTm9kZShhbm90aGVyU3RhZmYpKSByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBCb3VuZGluZyBib3ggb2JqZWN0IGludGVyZmFjZSBmb3IgZ2V0U3RhZmZCQm94KClcbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTdGFmZkJCb3gge1xuICBpZDogc3RyaW5nO1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbiAgcm90YXRlOiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IHRoZSBib3VuZGluZyBib3ggb2YgYSBzdGFmZiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMuXG4gKiBSb3RhdGUgaXMgaW5jbHVkZWQgaW4gcmFkaWFucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQkJveCAoc3RhZmY6IFNWR0dFbGVtZW50KTogU3RhZmZCQm94IHtcbiAgbGV0IHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlO1xuICBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCdwYXRoJykuZm9yRWFjaChwYXRoID0+IHtcbiAgICBjb25zdCBjb29yZGluYXRlczogbnVtYmVyW10gPSBwYXRoLmdldEF0dHJpYnV0ZSgnZCcpXG4gICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgIC5tYXAoZWxlbWVudCA9PiBOdW1iZXIoZWxlbWVudCkpO1xuICAgIGlmIChyb3RhdGUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcm90YXRlID0gTWF0aC5hdGFuKChjb29yZGluYXRlc1szXSAtIGNvb3JkaW5hdGVzWzFdKSAvXG4gICAgICAgIChjb29yZGluYXRlc1syXSAtIGNvb3JkaW5hdGVzWzBdKSk7XG4gICAgfVxuXG4gICAgaWYgKHVseSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgubWluKGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSkgPCB1bHkpIHtcbiAgICAgIHVseSA9IE1hdGgubWluKGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSk7XG4gICAgfVxuICAgIGlmICh1bHggPT09IHVuZGVmaW5lZCB8fCBjb29yZGluYXRlc1swXSA8IHVseCkge1xuICAgICAgdWx4ID0gY29vcmRpbmF0ZXNbMF07XG4gICAgfVxuICAgIGlmIChscnkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1heChjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pID4gbHJ5KSB7XG4gICAgICBscnkgPSBNYXRoLm1heChjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAobHJ4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMl0gPiBscngpIHtcbiAgICAgIGxyeCA9IGNvb3JkaW5hdGVzWzJdO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHsgaWQ6IHN0YWZmLmlkLCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSwgfTtcbn1cblxuLyoqXG4gKiBzZWxlY3QgYSBib3VuZGluZ2JveCBlbGVtZW50XG4gKiBAcGFyYW0gZWwgLSB0aGUgYmJveCAoc3lsVGV4dFJlY3QpIGVsZW1lbnQgaW4gdGhlIERPTVxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gdGhlIGRyYWcgaGFuZGxlciBpbiB1c2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdEJCb3ggKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlciwgbmVvblZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIGNvbnN0IGJib3ggPSBlbDtcbiAgY29uc3Qgc3lsID0gYmJveC5jbG9zZXN0KCcuc3lsJyk7XG4gIGlmICghc3lsLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIHN5bC5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIGJib3guc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjb25zdCBjbG9zZXN0ID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgYXMgSFRNTEVsZW1lbnQ7XG4gICAgY2xvc2VzdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgIGNsb3Nlc3QuY2xhc3NMaXN0LmFkZCgnc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcbiAgICBpZiAobmVvblZpZXcgIT09IHVuZGVmaW5lZCApe1xuICAgICAgcmVzaXplKHN5bCBhcyBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgfVxuICAgIGlmIChkcmFnSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgIH1cbiAgICBjb25zdCBzeWxJZCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpLmlkO1xuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFuOiBIVE1MU3BhbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLicgKyBzeWxJZCk7XG4gICAgICBpZiAoc3Bhbikge1xuICAgICAgICBzcGFuLnN0eWxlLmNvbG9yID0gJyNkMDAnO1xuICAgICAgICBzcGFuLnN0eWxlLmZvbnRXZWlnaHQgPSAnYm9sZCc7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgndGV4dC1zZWxlY3QnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBTZWxlY3Qgbm90IG5ldW1lIGVsZW1lbnRzLlxuICogQHBhcmFtIG5vdE5ldW1lcyAtIEFuIGFycmF5IG9mIG5vdCBuZXVtZXMgZWxlbWVudHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RObiAobm90TmV1bWVzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBpZiAobm90TmV1bWVzLmxlbmd0aCA+IDApIHtcbiAgICBub3ROZXVtZXMuZm9yRWFjaChubiA9PiB7IHNlbGVjdChubik7IH0pO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufVxuXG4vKipcbiAqIEhhbmRsZSBzZWxlY3RpbmcgYW4gYXJyYXkgb2YgZWxlbWVudHMgYmFzZWQgb24gdGhlIHNlbGVjdGlvbiB0eXBlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0QWxsIChlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50PiwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3Qgc2VsZWN0aW9uVHlwZSA9IGdldFNlbGVjdGlvblR5cGUoKTtcbiAgdW5zZWxlY3QoKTtcbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBsZXQgc2VsZWN0aW9uQ2xhc3M7XG4gIGxldCBjb250YWluc0xheWVyRWxlbWVudHMgPSBmYWxzZTtcbiAgbGV0IGNvbnRhaW5zTmMgPSBmYWxzZTtcblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5zeWxsYWJsZSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5uZXVtZSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5uYyc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5zdGFmZic7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bFRleHRSZWN0LWRpc3BsYXknO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlMYXllckVsZW1lbnQnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnO1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gc2VsZWN0aW9uIHR5cGUgJyArIHNlbGVjdGlvblR5cGUpO1xuICAgICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBncm91cGluZ3Mgc3BlY2lmaWVkIGJ5IHNlbGVjdGlvbkNsYXNzXG4gIC8vIHRoYXQgY29udGFpbiB0aGUgcHJvdmlkZWQgZWxlbWVudHMgdG8gc2VsZWN0LlxuICBjb25zdCBncm91cHNUb1NlbGVjdCA9IG5ldyBTZXQ8U1ZHR0VsZW1lbnQ+KCk7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgIGxldCBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdDxTVkdHRWxlbWVudD4oc2VsZWN0aW9uQ2xhc3MpO1xuICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgLy8gQ2hlY2sgaWYgd2UgY2xpY2stc2VsZWN0ZWQgYSBjbGVmIG9yIGEgY3VzdG9zIG9yIGFuIGFjY2lkIG9yIGEgZGl2TGluZVxuICAgICAgZ3JvdXBpbmcgPSBlbGVtZW50LmNsb3Nlc3QoJy5jbGVmLCAuY3VzdG9zLCAuYWNjaWQsIC5kaXZMaW5lJyk7XG4gICAgICBpZiAoZ3JvdXBpbmcgPT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdFbGVtZW50ICcgKyBlbGVtZW50LmlkICsgJyBpcyBub3QgcGFydCBvZiBzcGVjaWZpZWQgZ3JvdXAgYW5kIGlzIG5vdCBhIGNsZWYgb3IgY3VzdG9zIG9yIGFjY2lkIG9yIGRpdkxpbmUuJyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29udGFpbnNMYXllckVsZW1lbnRzID0gY29udGFpbnNMYXllckVsZW1lbnRzIHx8IHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnRhaW5zTmMgPSBjb250YWluc05jIHx8IHRydWU7XG4gICAgfVxuICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChncm91cGluZyk7XG5cbiAgICAvLyBDaGVjayBmb3IgcHJlY2VkZXMvZm9sbG93c1xuICAgIGNvbnN0IGZvbGxvd3MgPSBncm91cGluZy5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJyk7XG4gICAgaWYgKGZvbGxvd3MpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgZm9sbG93cy5zbGljZSgxKSkuY2xhc3NMaXN0LmFkZCgnbm8tbW92aW5nJyk7XG4gICAgICBncm91cHNUb1NlbGVjdC5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBmb2xsb3dzLnNsaWNlKDEpKSk7XG4gICAgfVxuICAgIGNvbnN0IHByZWNlZGVzID0gZ3JvdXBpbmcuZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKTtcbiAgICBpZiAocHJlY2VkZXMpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgcHJlY2VkZXMuc2xpY2UoMSkpLmNsYXNzTGlzdC5hZGQoJ25vLW1vdmluZycpO1xuICAgICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgcHJlY2VkZXMuc2xpY2UoMSkpKTtcbiAgICB9XG4gIH1cbiAgLy8gU2VsZWN0IHRoZSBlbGVtZW50c1xuICBncm91cHNUb1NlbGVjdC5mb3JFYWNoKChncm91cDogU1ZHR3JhcGhpY3NFbGVtZW50KSA9PiBzZWxlY3QoZ3JvdXAsIGRyYWdIYW5kbGVyLCBmYWxzZSkpO1xuXG4gIC8qIERldGVybWluZSB0aGUgY29udGV4dCBtZW51IHRvIGRpc3BsYXkgKGlmIGFueSkgKi9cblxuICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKGdyb3Vwc1RvU2VsZWN0LnZhbHVlcygpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICAvLyBIYW5kbGUgb2NjdXJhbmNlIG9mIGNsZWYgb3IgY3VzdG9zIG9yIGFjY2lkIG9yIGRpdkxpbmVcbiAgaWYgKGNvbnRhaW5zTGF5ZXJFbGVtZW50cyAmJiAhY29udGFpbnNOYykge1xuICAgIC8vIEEgY29udGV4dCBtZW51IHdpbGwgb25seSBiZSBkaXNwbGF5ZWQgaWYgdGhlcmUgaXMgYSBzaW5nbGUgY2xlZlxuICAgIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQ2xlZkFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICB9IGVsc2UgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnY3VzdG9zJykpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckN1c3Rvc0FjdGlvbnMoKTtcbiAgICB9IGVsc2UgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQWNjaWRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgfSBlbHNlIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyhncm91cHNbMF0pO1xuICAgIH1lbHNlIHtcbiAgICAgIGlmIChzZWxlY3Rpb25UeXBlID09ICdzZWxCeVN5bGxhYmxlJykge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclNwbGl0QWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIHJlc2l6ZShncm91cHNbMF0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3RhZmZBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJDbGVmQWN0aW9ucyhncm91cHNbMF0pO1xuICAgICAgfSBlbHNlIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2N1c3RvcycpKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckN1c3Rvc0FjdGlvbnMoKTtcbiAgICAgIH0gZWxzZSBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckFjY2lkQWN0aW9ucyhncm91cHNbMF0pO1xuICAgICAgfSBlbHNlIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9ZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuXG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5ldW1lL25jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnc2luZ2xlU2VsZWN0Jyk7XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSBsaW5rZWQgc3lsbGFibGUgc3BsaXQgYnkgYSBzdGFmZiBicmVha1xuICAgICAgICAgIC8vIGlmIHRoZXkgYXJlIGxpbmthYmxlLCB1c2VyIGNhbiB0b2dnbGUgbGlua2VkLXN5bGxzXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzTGlua2FibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7IFxuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdsaW5rYWJsZVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbXVsdGlTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2RlZmF1bHQnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAvLyBpZiBzeWxsYWJsZXMgYXJlIGFsbCBsb2NhdGVkIG9uIG9uZSBzdGF2ZSwgdGhleSBzaG91bGQgYmUgZ3JvdXBhYmxlXG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBpZiBzeWxscyBhcmUgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIC8vIFRPRE8gY2hhbmdlIGNvbnRleHQgaWYgaXQgaXMgb25seSBhIG5jLlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5ldW1lQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlOZXVtZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmV1bWUnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOY0FjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAyOlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIHNlbGVjdGlvbiBpcyBhIGxpZ2F0dXJlIG9yIGNhbiBiZSBhIGxpZ2F0dXJlXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBuZXVtZSBjb21wb25lbnRzIGFyZSBwYXJ0IG9mIHRoZSBzYW1lIG5ldW1lXG4gICAgICAgICAgICBpZiAoZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQgPT09IGdyb3Vwc1sxXS5wYXJlbnRFbGVtZW50KSB7XG4gICAgICAgICAgICAgIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShncm91cHNbMF0ucGFyZW50RWxlbWVudC5jaGlsZHJlbik7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IG5ldW1lIGNvbXBvbmVudHMgYXJlIGFkamFjZW50XG4gICAgICAgICAgICAgIGlmIChNYXRoLmFicyhjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1swXSkgLSBjaGlsZHJlbi5pbmRleE9mKGdyb3Vwc1sxXSkpID09PSAxKSB7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBzZWNvbmQgbmV1bWUgY29tcG9uZW50IGlzIGxvd2VyIHRoYW4gZmlyc3QuXG4gICAgICAgICAgICAgICAgLy8gTm90ZSB0aGF0IHRoZSBvcmRlciBpbiB0aGUgbGlzdCBtYXkgbm90IGJlIHRoZSBzYW1lIGFzIHRoZVxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIGJ5IHgtcG9zaXRpb24uXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkMgPSAoZ3JvdXBzWzBdLmNoaWxkcmVuWzBdIGFzIFNWR1VzZUVsZW1lbnQpO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQyA9IChncm91cHNbMV0uY2hpbGRyZW5bMF0gYXMgU1ZHVXNlRWxlbWVudCk7XG5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1ggID0gZmlyc3ROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWCA9IHNlY29uZE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQ1kgID0gZmlyc3ROQy55LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DWSA9IHNlY29uZE5DLnkuYmFzZVZhbC52YWx1ZTtcblxuICAgICAgICAgICAgICAgIC8vIG9yZGVyIG5jJ3MgYnkgeCBjb29yZCAobGVmdCB0byByaWdodClcbiAgICAgICAgICAgICAgICBpZiAoIChmaXJzdE5DWCA+IHNlY29uZE5DWCkgXG4gICAgICAgICAgICAgICAgICB8fCAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCAmJiBmaXJzdE5DWSA8IHNlY29uZE5DWSkpIHtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DLCBzZWNvbmROQ10gPSBbc2Vjb25kTkMsIGZpcnN0TkNdO1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkNYLCBmaXJzdE5DWSwgc2Vjb25kTkNYLCBzZWNvbmROQ1ldID0gW3NlY29uZE5DWCwgc2Vjb25kTkNZLCBmaXJzdE5DWCwgZmlyc3ROQ1ldO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIGlmIHN0YWNrZWQgbmMncy9saWdhdHVyZSAoaWRlbnRpY2FsIHgpLCBvciBkZXNjZW5kaW5nIG5jJ3MgKHkgZGVzY2VuZHMpXG4gICAgICAgICAgICAgICAgaWYgKGZpcnN0TkNYID09PSBzZWNvbmROQ1ggfHwgZmlyc3ROQ1kgPCBzZWNvbmROQ1kpIHtcbiAgICAgICAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbGlnYXR1cmUnKTsgXG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbmMnKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBzZWxlY3RCQm94KGdyb3Vwc1swXSwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGdyb3Vwcy5mb3JFYWNoKGcgPT4gc2VsZWN0QkJveChnLCBkcmFnSGFuZGxlciwgdW5kZWZpbmVkKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gIH1cbiAgXG4gIC8vIGZ1bmN0aW9uIGNoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIC8vIHRyeSB7XG4gIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpXG4gIC8vIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIFNlbGVjdE9wdGlvbnMuY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgLy8gfSBjYXRjaCAoZSkge2NvbnNvbGUuZGVidWcoZSk7fVxuICAvLyB9XG59XG4iLCJpbXBvcnQgeyByZWNvcmROb3RpZmljYXRpb24gfSBmcm9tICcuL0Vycm9yTG9nJztcbmltcG9ydCB7IHV1aWR2NCB9IGZyb20gJy4vcmFuZG9tJztcblxudHlwZSBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnIHwgJ2Vycm9yJyB8ICd3YXJuaW5nJyB8ICdzdWNjZXNzJztcblxuY29uc3Qgbm90aWZpY2F0aW9uczogTm90aWZpY2F0aW9uW10gPSBuZXcgQXJyYXkoMCk7XG5sZXQgY3VycmVudE1vZGVNZXNzYWdlOiBOb3RpZmljYXRpb24gPSBudWxsO1xubGV0IG5vdGlmeWluZyA9IGZhbHNlO1xuXG4vKipcbiAqIE51bWJlciBvZiBub3RpZmljYXRpb25zIHRvIGRpc3BsYXkgYXQgYSB0aW1lLlxuICovXG5jb25zdCBOVU1CRVJfVE9fRElTUExBWSA9IDM7XG5cbmNvbnN0IG5vdGlmaWNhdGlvbkljb246IFJlY29yZDxOb3RpZmljYXRpb25UeXBlLCBzdHJpbmc+ID0ge1xuICBkZWZhdWx0OiAnJyxcbiAgd2FybmluZzogJ+KaoO+4jyAnLFxuICBlcnJvcjogJ/CflLQgJyxcbiAgc3VjY2VzczogJ+KchSAnLFxufTtcblxuLyoqXG4gKiBBIGNsYXNzIHRvIG1hbmFnZSBOZW9uIG5vdGlmaWNhdGlvbnMuXG4gKi9cbmV4cG9ydCBjbGFzcyBOb3RpZmljYXRpb24ge1xuICBtZXNzYWdlOiBzdHJpbmc7XG4gIGRpc3BsYXllZDogYm9vbGVhbjtcbiAgaWQ6IHN0cmluZztcbiAgaXNNb2RlTWVzc2FnZTogYm9vbGVhbjtcbiAgdGltZW91dElEOiBudW1iZXI7XG4gIHR5cGU6IE5vdGlmaWNhdGlvblR5cGU7XG4gIC8qKlxuICAgKiBDcmVhdGUgYSBuZXcgbm90aWZpY2F0aW9uLlxuICAgKiBAcGFyYW0gbWVzc2FnZSAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1lc3NhZ2U6IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG5vdGlmaWNhdGlvbkljb25bdHlwZV0gKyBtZXNzYWdlO1xuICAgIHRoaXMuZGlzcGxheWVkID0gZmFsc2U7XG4gICAgdGhpcy5pZCA9IHV1aWR2NCgpO1xuICAgIHRoaXMuaXNNb2RlTWVzc2FnZSA9IG1lc3NhZ2Uuc2VhcmNoKCdNb2RlJykgIT09IC0xO1xuICAgIHRoaXMudGltZW91dElEID0gLTE7XG4gICAgdGhpcy50eXBlID0gdHlwZTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIElEIGZyb20gc2V0VGltZW91dC4gKi9cbiAgc2V0VGltZW91dElkIChpZDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy50aW1lb3V0SUQgPSBNYXRoLm1heChpZCwgLTEpO1xuICB9XG5cbiAgLyoqIERpc3BsYXkgdGhlIE5vdGlmaWNhdGlvbi4gKi9cbiAgZGlzcGxheSAoKTogdm9pZCB7XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEByZXR1cm5zIFRoZSBVVUlEIGZvciB0aGlzIG5vdGlmaWNhdGlvbi5cbiAgICovXG4gIGdldElkICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLmlkO1xuICB9XG59XG5cbi8qKlxuICogQ2xlYXIgdGhlIG5vdGlmaWNhdGlvbnMgaWYgbm8gbW9yZSBleGlzdCBvciBkaXNwbGF5IGFub3RoZXIgZnJvbSB0aGUgcXVldWUuXG4gKiBAcGFyYW0gY3VycmVudElkIC0gVGhlIElEIG9mIHRoZSBub3RpZmljYXRpb24gdG8gYmUgY2xlYXJlZC5cbiAqL1xuZnVuY3Rpb24gY2xlYXJPclNob3dOZXh0Tm90aWZpY2F0aW9uIChjdXJyZW50SWQ6IHN0cmluZyk6IHZvaWQge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjdXJyZW50SWQpLnJlbW92ZSgpO1xuICBpZiAoY3VycmVudE1vZGVNZXNzYWdlICE9PSBudWxsICYmIGN1cnJlbnRNb2RlTWVzc2FnZS5nZXRJZCgpID09PSBjdXJyZW50SWQpIHtcbiAgICBjdXJyZW50TW9kZU1lc3NhZ2UgPSBudWxsO1xuICB9XG4gIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXVzZS1iZWZvcmUtZGVmaW5lXG4gICAgc3RhcnROb3RpZmljYXRpb24oKTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmVvbi1ub3RpZmljYXRpb24nKS5sZW5ndGggPT09IDApIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90aWZpY2F0aW9uLWNvbnRlbnQnKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgIG5vdGlmeWluZyA9IGZhbHNlO1xuICB9XG59XG5cbi8qKlxuICogRGlzcGxheSBhIG5vdGlmaWNhdGlvbi5cbiAqIEBwYXJhbSBub3RpZmljYXRpb24gLSBOb3RpZmljYXRpb24gdG8gZGlzcGxheS5cbiAqL1xuZnVuY3Rpb24gZGlzcGxheU5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgaWYgKG5vdGlmaWNhdGlvbi5pc01vZGVNZXNzYWdlKSB7XG4gICAgaWYgKGN1cnJlbnRNb2RlTWVzc2FnZSA9PT0gbnVsbCkge1xuICAgICAgY3VycmVudE1vZGVNZXNzYWdlID0gbm90aWZpY2F0aW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGN1cnJlbnRNb2RlTWVzc2FnZS50aW1lb3V0SUQpO1xuICAgICAgbm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmaWNhdGlvbik7XG4gICAgICBjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24oY3VycmVudE1vZGVNZXNzYWdlLmdldElkKCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBjb25zdCBub3RpZmljYXRpb25Db250ZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbi1jb250ZW50Jyk7XG4gIGNvbnN0IG5ld05vdGlmaWNhdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBuZXdOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZCgnbmVvbi1ub3RpZmljYXRpb24nKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoYG5lb24tbm90aWZpY2F0aW9uLSR7bm90aWZpY2F0aW9uLnR5cGV9YCk7XG4gIG5ld05vdGlmaWNhdGlvbi5pZCA9IG5vdGlmaWNhdGlvbi5nZXRJZCgpO1xuICBuZXdOb3RpZmljYXRpb24uaW5uZXJIVE1MID0gbm90aWZpY2F0aW9uLm1lc3NhZ2U7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuYXBwZW5kKG5ld05vdGlmaWNhdGlvbik7XG4gIG5vdGlmaWNhdGlvbkNvbnRlbnQuc3R5bGUuZGlzcGxheSA9ICcnO1xuICBub3RpZmljYXRpb24uZGlzcGxheSgpO1xufVxuXG4vKipcbiAqIFN0YXJ0IGRpc3BsYXlpbmcgbm90aWZpY2F0aW9ucy4gQ2FsbGVkIGF1dG9tYXRpY2FsbHkuXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0Tm90aWZpY2F0aW9uICgpOiB2b2lkIHtcbiAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIG5vdGlmeWluZyA9IHRydWU7XG4gICAgY29uc3QgY3VycmVudE5vdGlmaWNhdGlvbiA9IG5vdGlmaWNhdGlvbnMucG9wKCk7XG4gICAgZGlzcGxheU5vdGlmaWNhdGlvbihjdXJyZW50Tm90aWZpY2F0aW9uKTtcbiAgICBjdXJyZW50Tm90aWZpY2F0aW9uLnNldFRpbWVvdXRJZChcbiAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGNsZWFyT3JTaG93TmV4dE5vdGlmaWNhdGlvbiwgNTAwMCwgY3VycmVudE5vdGlmaWNhdGlvbi5nZXRJZCgpKVxuICAgICk7XG4gICAgZG9jdW1lbnRcbiAgICAgIC5nZXRFbGVtZW50QnlJZChjdXJyZW50Tm90aWZpY2F0aW9uLmdldElkKCkpXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY3VycmVudE5vdGlmaWNhdGlvbi50aW1lb3V0SUQpO1xuICAgICAgICBjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24oY3VycmVudE5vdGlmaWNhdGlvbi5nZXRJZCgpKTtcbiAgICAgIH0pO1xuICB9XG59XG5cbi8qKlxuICogQWRkIGEgbm90aWZpY2F0aW9uIHRvIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSBub3RpZmljYXRpb24gLSBOb3RpZmljYXRpb24gY29udGVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHF1ZXVlTm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IHN0cmluZywgdHlwZTogTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0Jyk6IHZvaWQge1xuICBjb25zdCBub3RpZiA9IG5ldyBOb3RpZmljYXRpb24obm90aWZpY2F0aW9uLCB0eXBlKTtcbiAgbm90aWZpY2F0aW9ucy5wdXNoKG5vdGlmKTtcblxuICBpZiAobm90aWYudHlwZSA9PSAnZXJyb3InIHx8IG5vdGlmLnR5cGUgPT0gJ3dhcm5pbmcnKSB7XG4gICAgcmVjb3JkTm90aWZpY2F0aW9uKG5vdGlmKTtcbiAgfVxuXG4gIGlmICghbm90aWZ5aW5nIHx8IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZW9uLW5vdGlmaWNhdGlvbicpLmxlbmd0aCA8IE5VTUJFUl9UT19ESVNQTEFZKSB7XG4gICAgc3RhcnROb3RpZmljYXRpb24oKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCB7IHF1ZXVlTm90aWZpY2F0aW9uIH07XG4iLCIndXNlIHN0cmljdCc7XG5cbm1vZHVsZS5leHBvcnRzID0gYXJnc0FycmF5O1xuXG5mdW5jdGlvbiBhcmdzQXJyYXkoZnVuKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGxlbiA9IGFyZ3VtZW50cy5sZW5ndGg7XG4gICAgaWYgKGxlbikge1xuICAgICAgdmFyIGFyZ3MgPSBbXTtcbiAgICAgIHZhciBpID0gLTE7XG4gICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgIGFyZ3NbaV0gPSBhcmd1bWVudHNbaV07XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgYXJncyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmdW4uY2FsbCh0aGlzLCBbXSk7XG4gICAgfVxuICB9O1xufSIsImltcG9ydCB7IEdyb3VwaW5nVHlwZSwgU2VsZWN0aW9uVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBUaGUgb25lIGluc3RhbmNlIG9mIExvY2FsU2V0dGluZ3MgdGhhdCB3aWxsIGJlIGNyZWF0ZWQgYW5kXG4gKiB1c2VkIGJ5IHRoZSBlZGl0b3IuXG4gKiBcbiAqIFVzZSB0aGUgZnVuY3Rpb25zIGBnZXRTZXR0aW5ncygpYCBhbmQgYHNldFNldHRpbmdzKClgXG4gKiB0byBhY2Nlc3MgdGhpcyBpbnN0YW5jZS5cbiAqL1xubGV0IGxvY2FsU2V0dGluZ3M6IExvY2FsU2V0dGluZ3MgPSBudWxsO1xuXG4vKipcbiAqIEludGVyZmFjZSBmb3IgdGhlIHNldHRpbmdzIGZvciBlYWNoIGZvbGlvXG4gKiBzdG9yZWQgaW4gbG9jYWxTdG9yYWdlLlxuICpcbiAqIEV2ZXJ5IGtleSBpcyBvcHRpb25hbCBzbyB0aGF0IHRoaXMgc2FtZSB0eXBpbmdcbiAqIGNhbiBiZSB1c2VkIGZvciBgc2V0U2V0dGluZ3MoKWAgLyBgTG9jYWxTZXR0aW5ncy5zZXQoKWAuXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU2V0dGluZ3Mge1xuICB6b29tOiBudW1iZXI7XG4gIGdseXBoT3BhY2l0eTogbnVtYmVyO1xuICBpbWFnZU9wYWNpdHk6IG51bWJlcjtcbiAgaGlnaGxpZ2h0TW9kZTogR3JvdXBpbmdUeXBlO1xuICBzZWxlY3Rpb25Nb2RlOiBTZWxlY3Rpb25UeXBlO1xuICBkaXNwbGF5QkJveDogYm9vbGVhbjtcbiAgZGlzcGxheVRleHQ6IGJvb2xlYW47XG4gIGRpc3BsYXlJbmZvOiBib29sZWFuO1xuICBkaXNwbGF5RXJyTG9nOiBib29sZWFuO1xuICB2aWV3Qm94OiBzdHJpbmc7XG59XG5cbi8qKlxuICogRGVmYXVsdCBzZXR0aW5ncywgd2hpY2ggc2hvdWxkIGJlIHNldCBmb3IgYSBmb2xpbyB3aXRoIG5vXG4gKiBsb2NhbFN0b3JhZ2UgdmFsdWUuXG4gKlxuICogVGhpcyBzaG91bGQgYmUgdXBkYXRlZCBhbG9uZ3NpZGUgdGhlIGludGVyZmFjZSBgU2V0dGluZ3NgXG4gKiBhbnkgdGltZSB3ZSB3YW50IHRvIGFkZCBhIG5ldyBzZXR0aW5nIHRvIHN0b3JlIGluIGxvY2FsU3RvcmFnZS5cbiAqL1xuY29uc3QgREVGQVVMVF9TRVRUSU5HUzogU2V0dGluZ3MgPSB7XG4gIHpvb206IDEwMCxcbiAgZ2x5cGhPcGFjaXR5OiAxMDAsXG4gIGltYWdlT3BhY2l0eTogMTAwLFxuICBoaWdobGlnaHRNb2RlOiAnbm9uZScsXG4gIHNlbGVjdGlvbk1vZGU6ICdzZWxCeVN5bGxhYmxlJyxcbiAgZGlzcGxheUJCb3g6IGZhbHNlLFxuICBkaXNwbGF5VGV4dDogZmFsc2UsXG4gIGRpc3BsYXlJbmZvOiBmYWxzZSxcbiAgZGlzcGxheUVyckxvZzogZmFsc2UsXG4gIHZpZXdCb3g6IG51bGxcbn07XG5cbmNsYXNzIExvY2FsU2V0dGluZ3Mge1xuICBpZDogc3RyaW5nO1xuICBzZXR0aW5nczogU2V0dGluZ3M7XG5cbiAgY29uc3RydWN0b3IgKGZvbGlvSWQ6IHN0cmluZykge1xuICAgIGxvY2FsU2V0dGluZ3MgPSB0aGlzO1xuICAgIHRoaXMuaWQgPSBmb2xpb0lkO1xuICAgIHRoaXMubG9hZCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIExvYWQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2UsIGFuZCBzeW5jIGxvYWRlZCBzZXR0aW5ncyB3aXRoXG4gICAqIG5ldyBmaWVsZHMgdGhhdCBtYXkgbm90IGJlIGluIGxvY2FsU3RvcmFnZS5cbiAgICovXG4gIGxvYWQgKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBzdG9yZWQ6IFBhcnRpYWw8U2V0dGluZ3M+ID0gSlNPTi5wYXJzZSh3aW5kb3cubG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5pZCkpO1xuICAgICAgdGhpcy5zeW5jKHN0b3JlZCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIC8vIElmIGxvY2FsU3RvcmFnZSB2YWx1ZSBpcyBub3QgYSBKU09OIG9iamVjdCAoZm9yIGluc3RhbmNlLCBhbiBlbXB0eSBzdHJpbmcpLFxuICAgICAgLy8gYSBTeW50YXhFcnJvciB3aWxsIGJlIHRocm93bi4gV2UgbXVzdCBoYW5kbGUgaXQgYnkgY2FsbGluZyBzeW5jKClcbiAgICAgIC8vIHdpdGggYW4gZW1wdHkgSlNPTiBvYmplY3QuXG4gICAgICB0aGlzLnN5bmMoe30pO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgbmV3IGZpZWxkcyBpbiBsb2NhbFN0b3JhZ2UsIGFzIGEgXCJ1bmlvblwiIG9mIG9sZCBhbmQgbmV3IHNldHRpbmdzLlxuICAgKi9cbiAgc2V0IChwYXJhbXM6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4udGhpcy5zZXR0aW5ncywgLi4ucGFyYW1zIH07XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTeW5jIHNldHRpbmdzIHRoYXQgbWF5IG5vdCBiZSBpbmNsdWRlZCBpbiB1c2VyJ3MgbG9jYWxTdG9yYWdlLFxuICAgKiBzdWNoIGFzIGZpZWxkcyB0aGF0IGhhdmUgYmVlbiBhZGRlZCB0byBsb2NhbFN0b3JhZ2UgaW4gYSBuZXdcbiAgICogdXBkYXRlIG9mIE5lb24uXG4gICAqL1xuICBzeW5jIChzdG9yZWQ6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gICAgdGhpcy5zZXR0aW5ncyA9IHsgLi4uREVGQVVMVF9TRVRUSU5HUywgLi4uc3RvcmVkIH07XG4gICAgd2luZG93LmxvY2FsU3RvcmFnZS5zZXRJdGVtKHRoaXMuaWQsIEpTT04uc3RyaW5naWZ5KHRoaXMuc2V0dGluZ3MpKTtcbiAgfVxufVxuXG4vKipcbiAqIEdldCBsb2NhbFN0b3JhZ2Ugc2V0dGluZ3MgZm9yIHRoZSBmb2xpby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNldHRpbmdzICgpOiBTZXR0aW5ncyB7XG4gIHJldHVybiBsb2NhbFNldHRpbmdzLnNldHRpbmdzO1xufVxuXG4vKipcbiAqIFNldCBzcGVjaWZpYyBsb2NhbFN0b3JhZ2Ugc2V0dGluZ3MgZm9yIHRoZSBmb2xpby5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNldHRpbmdzIChwYXJhbXM6IFBhcnRpYWw8U2V0dGluZ3M+KTogdm9pZCB7XG4gIGxvY2FsU2V0dGluZ3Muc2V0KHBhcmFtcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IExvY2FsU2V0dGluZ3M7XG4iLCIvKipcbiAqIEhUTUwgZm9yIGVhY2ggaW5zZXJ0IHRhYiAobmV1bWUsIGdyb3VwaW5nLCBjbGVmLCBzeXN0ZW0sIGFuZCBkaXZpc2lvbikuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRUYWJIdG1sOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+ID0ge1xuICBwcmltaXRpdmVUYWI6IFxuICAgICAgICBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwdW5jdHVtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInB1bmN0dW1cIiB0aXRsZT1cInB1bmN0dW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3B1bmN0dW0ucG5nXCIgY2xhc3M9XCJpbWFnZVwiLz48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInZpcmdhXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInZpcmdhXCIgdGl0bGU9XCJ2aXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2EucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FSZXZlcnNlZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJSZXZlcnNlZCBWaXJnYVwiIHRpdGxlPVwiUmV2ZXJzZWQgVmlyZ2FcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ZpcmdhX3JldmVyc2VkLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpYW1vbmRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiaW5jbGluYXR1bVwiIHRpdGxlPVwiaW5jbGluYXR1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZGlhbW9uZC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjdXN0b3NcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY3VzdG9zXCIgdGl0bGU9XCJjdXN0b3NcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2N1c3Rvcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjQ2xlZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJDIENsZWZcIiB0aXRsZT1cIiBDIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkYgQ2xlZlwiIHRpdGxlPVwiRiBDbGVmXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9mQ2xlZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50QVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IEFcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEEucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibGlxdWVzY2VudENcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTGlxdWVzY2VudCBDXCIgdGl0bGU9XCJMaXF1ZXNjZW50IENcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2xpcXVlc2NlbnRDLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImZsYXRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRmxhdFwiIHRpdGxlPVwiRmxhdFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWRGbGF0LnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cIm5hdHVyYWxcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTmF0dXJhbFwiIHRpdGxlPVwiTmF0dXJhbFwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvYWNjaWROYXR1cmFsLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPiBcbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkaXZMaW5lTWF4aW1hXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkRpdkxpbmUgTWF4aW1hXCIgdGl0bGU9XCJEaXZMaW5lIE1heGltYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZGl2aXNpby5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5gLFxuICBncm91cGluZ1RhYjogXG4gICAgICAgIGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInBlc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwZXNcIiB0aXRsZT1cInBlc1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcGVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNsaXZpc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjbGl2aXNcIiB0aXRsZT1cImNsaXZpc1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY2xpdmlzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNjYW5kaWN1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJzY2FuZGljdXNcIiB0aXRsZT1cInNjYW5kaWN1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2NhbmRpY3VzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNsaW1hY3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImNsaW1hY3VzXCIgdGl0bGU9XCJjbGltYWN1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY2xpbWFjdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidG9yY3VsdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwidG9jdWx1c1wiIHRpdGxlPVwidG9jdWx1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdG9yY3VsdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicG9ycmVjdHVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInBvcnJlY3R1c1wiIHRpdGxlPVwicG9ycmVjdHVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wb3JyZWN0dXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicHJlc3N1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwcmVzc3VzXCIgdGl0bGU9XCJwcmVzc3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wcmVzc3VzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIHN5c3RlbVRhYjogXG4gICAgICAgIGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInN0YWZmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBsb25nZWxcIiBhcmlhLWxhYmVsPVwic3lzdGVtXCIgdGl0bGU9XCJzeXN0ZW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3N0YWZmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cD5DbGljayB1cHBlciBsZWZ0IGFuZCBsb3dlciByaWdodCBjb3JuZXJzIG9mIG5ldyBzdGFmZi48L3A+YFxuICAvLyBkaXZpc2lvblRhYjogXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArICAgIFxuICAvLyBcIjxidXR0b24gaWQ9J3NtYWxsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvc21hbGxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gICAgIFwiPGJ1dHRvbiBpZD0nbWlub3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9taW5vcmRpdi5wbmdcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gICAgIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J21ham9yRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvbWFqb3JkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gXCI8YnV0dG9uIGlkPSdmaW5hbERpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL2ZpbmFsZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiXG59O1xuXG4vKipcbiAqIFN0cnVjdHVyZSBvZiBpbnNlcnQgcGFuZWwgd2l0aCBiYXNpYyBncm91cGluZyB0YWJzLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0Q29udHJvbHNQYW5lbCA9XG4gICAgYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJpbnNlcnRNZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+SU5TRVJUPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uIGlzLXB1bGxlZC1yaWdodFwiPlxuICAgICAgICAgICAgPHVzZSBpZD1cInRvZ2dsZUluc2VydFwiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICA8L3N2Zz5cbiAgICA8L2Rpdj5cblx0PGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBmaXJzdC1zdWJzZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJpbnNlcnRDb250ZW50c1wiIGNsYXNzPVwicGFuZWwtY29udGVudHNcIiBzdHlsZT1cIm92ZXJmbG93LXk6IGhpZGRlbjtcIj5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwicGFuZWwtdGFic1wiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwicHJpbWl0aXZlVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5QcmltaXRpdmUgRWxlbWVudHM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJncm91cGluZ1RhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+R3JvdXBpbmc8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJzeXN0ZW1UYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPlN5c3RlbTwvYT5cbiAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJpbnNlcnRfZGF0YVwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGVkaXQgcGFuZWwgd2l0aCBidXR0b25zLlxuICovXG5leHBvcnQgY29uc3QgZWRpdENvbnRyb2xzUGFuZWwgPVxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZWRpdE1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGUgZm9jdXNlZFwiPkVESVQ8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb24gaXMtcHVsbGVkLXJpZ2h0XCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRWRpdFwiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICA8L3N2Zz5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGlkPVwiZWRpdENvbnRlbnRzXCIgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgICAgIDxkaXYgaWQ9XCJzZWxlY3Rpb24tbW9kZS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtc3ViLXRpdGxlXCI+U2VsZWN0aW9uIE1vZGU6PC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWJ0bnMtY29udGFpbmVyXCIgIGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiIHN0eWxlPVwib3ZlcmZsb3cteDogYXV0bztcIj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5IGlzLWFjdGl2ZVwiIGlkPVwic2VsQnlTeWxsYWJsZVwiPlN5bGxhYmxlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeU5ldW1lXCI+TmV1bWU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TmNcIj5OZXVtZSBDb21wb25lbnQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5U3RhZmZcIj5TdGFmZjwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlMYXllckVsZW1lbnRcIj5MYXllciBFbGVtZW50PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJtb3JlRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJleHRyYUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPCEtLVxuICAgICAgICAgICAgICAgICAgICAqIFRoZSBleHRyYUVkaXQgcGFuZWwgaXMgYWRkZWQgZm9yIGVkaXQgb3B0aW9ucyB0aGF0IGhhdmUgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBMaWtlIHRoZSBOZXVtZSBhbmQgQ2xlZiBtZW51c1xuICAgICAgICAgICAgICAgICAgICAqIFRoaXMgaXMgZG9uZSBiZWNhdXNlIHRoZSBtb3JlRWRpdCBtZW51IG5lZWRzIHRvIGhhdmUgb3ZlcmZsb3cgZm9yIGNhc2VzIHdoZXJlIGl0IGhhcyBsb3RzIG9mIGJ1dHRvbnNcbiAgICAgICAgICAgICAgICAgICAgKiBCdXQgb3ZlcmZsb3cgcnVpbnMgZHJvcGRvd24gbWVudXNcbiAgICAgICAgICAgICAgICAgICAgLS0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIm5ldW1lRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cInVuZG9SZWRvX2NvbnRyb2xzXCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBuYyBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5jQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+Q2hhbmdlIEhlYWQgU2hhcGU6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+SGVhZCBTaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUHVuY3R1bVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPlB1bmN0dW08L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPlZpcmdhPC9hPiBcbiAgICAgICAgICAgICAgICA8YSBpZD1cIlZpcmdhUmV2ZXJzZWRcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5SZXZlcnNlZCBWaXJnYTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRDbG9ja3dpc2VcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5MaXF1ZXNjZW50IEM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkluY2xpbmF0dW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5JbmNsaW5hdHVtPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYmFzaWMgbmV1bWUgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0TmV1bWVBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwic3BsaXQtbmV1bWVcIj5TcGxpdCBOZXVtZXM8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGV4dHJhIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgbmV1bWVBY3Rpb25Db250ZW50cyA9XG4gICAgYDxsYWJlbD5Hcm91cGluZyBPcHRpb25zOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkdyb3VwaW5nczwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgICAgICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudCBzY3JvbGxhYmxlLWRyb3Bkb3duXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QZXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQZXNTdWJwdW5jdGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzIFN1YnB1bmN0aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGl2aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGl2aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlNjYW5kaWN1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaW1hY3VzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpbWFjdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVG9yY3VsdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Ub3JjdWx1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzUmVzdXBpbnVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXMgUmVzdXBpbnVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlByZXNzdXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QcmVzc3VzPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5jc1wiPlVuZ3JvdXA8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGV4dHJhIHN0YWZmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3Qgc3RhZmZBY3Rpb25Db250ZW50cyA9XG4gICAgYDxsYWJlbD5NZXJnZSBTeXN0ZW1zOjwvbGFiZWw+XG4gICAgPGJ1dHRvbiBpZD1cIm1lcmdlLXN5c3RlbXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+TWVyZ2U8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZGVmYXVsdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRBY3Rpb25Db250ZW50cyA9IFxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZGVmYXVsdCBhY3Rpb24gbWVudSB3aGVuIHNlbGVjdGluZyBieSBzeWxsYWJsZVxuICogU2FtZSBhcyBhYm92ZSBleGNlcHQgaW5jbHVkZXMgcmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmZcbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyA9XG4gICAgYDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+YDtcbiAgICBcbi8qKlxuICogQ29udGVudHMgb2YgY3VzdG9zIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY3VzdG9zQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGxheWVyIGVsZW1lbnQgKG91dHNpZGUgc3lsbGFibGUpIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgbGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImluc2VydFRvU3lsbGFibGVcIj5JbnNlcnQgdG8gbmVhcmVzdCBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGxheWVyIGVsZW1lbnQgKGluc2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtb3ZlT3V0c2lkZVN5bGxhYmxlXCI+TW92ZSBvdXRzaWRlIHN5bGxhYmxlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgYWNjaWQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBhY2NpZEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkNoYW5nZSBBY2NpZGVudGFsOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCJvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgPHNwYW4+U2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvRmxhdFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkZsYXQ8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb05hdHVyYWxcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5OYXR1cmFsPC9hPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2Ygc3BsaXQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBzcGxpdEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdj5TcGxpdCBTeXN0ZW06PC9kaXY+XG4gICAgPGRpdiBpZD1cInNwbGl0LXN5c3RlbS1idG5zLWNvbnRhaW5lclwiIGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGlkPVwic3BsaXQtc3lzdGVtXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPlNwbGl0PC9idXR0b24+XG4gICAgICAgIDxidXR0b24gaWQ9XCJyZXNldC1yb3RhdGVcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+UmVzZXQgUm90YXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBjbGVmIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgY2xlZkFjdGlvbkNvbnRlbnRzID1cbiAgICBgXG4gICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkRpc3BsYWNlIE9jdGF2ZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJpbmNyZW1lbnQtb2N0YXZlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+KzEgT2N0YXZlPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImRlY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4tMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIiBvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DaGFuZ2UgQ2xlZiBTaGFwZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJDQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkMgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJGQ2xlZlwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkYgQ2xlZjwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBgO1xuXG4vKipcbiAqIEhUTUwgZm9yIGdyb3VwaW5nIHNlbGVjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZ3JvdXBpbmdNZW51ID0ge1xuICBuYzogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gbW9yZS1lZGl0LWJ0blwiIGlkPVwiZ3JvdXBOY3NcIj5Hcm91cCBOZXVtZSBDb21wb25lbnRzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gLFxuICBuZXVtZTogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImdyb3VwTmV1bWVzXCI+R3JvdXAgTmV1bWVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5gLFxuICBzeWw6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG5cdFx0PC9kaXY+YCxcbiAgbGlnYXR1cmVOYzogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJncm91cE5jc1wiPkdyb3VwIE5ldW1lIENvbXBvbmVudHM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpZ2F0dXJlXCI+VG9nZ2xlIExpZ2F0dXJlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gLFxuICBsaWdhdHVyZTogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpZ2F0dXJlXCI+VG9nZ2xlIExpZ2F0dXJlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5gLFxuICBzcGxpdFN5bGxhYmxlOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saW5rXCI+VG9nZ2xlIExpbmtlZCBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PmBcbn07XG5cblxuXG4vKiBCR0lOTklORyBPRiBNT0RBTCBXSU5ET1cgQ09OVEVOVCBTRUNUSU9OICovXG5cbi8qKlxuICogSFRNTCBmb3IgRWRpdCBTeWxsYWJsZSBUZXh0IG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgZWRpdFRleHRNb2RhbCA9IFxuICAgIGA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudFwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1lZGl0LXRleHRcIj5cbiAgICAgICAgPGxhYmVsIGZvcj1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWxhYmVsXCI+RW50ZXIgU3lsbGFibGUgVGV4dDo8L2xhYmVsPlxuICAgICAgICA8aW5wdXQgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXRcIiB0eXBlPVwidGV4dFwiPlxuICAgICAgICA8ZGl2IGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWJ0bnNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWNhbmNlbFwiPkNhbmNlbDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtc2F2ZVwiPlNhdmU8L2Rpdj4gICAgICAgIFxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5cbi8qKlxuICogSFRNTCBmb3IgSG90a2V5cyBtb2RhbCB3aW5kb3dcbiAqL1xuZXhwb3J0IGNvbnN0IGhvdGtleXNNb2RhbCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudFwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzXCI+XG4gICAgICAgIDwhLS0gXCJEaXNwbGF5XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5EaXNwbGF5PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPis8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBJbjwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPi08L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBPdXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+MDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIFJlc2V0PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPmg8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+SGlkZSBHbHlwaDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJFZGl0XCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5FZGl0PC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlVuZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pm9yPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj7ijJg8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+UmVkbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5xL3cvZS9yL3QveTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgSGlnaGxpZ2h0IGJ5IFN0YWZmL1N5bGxhYmxlL05ldW1lL0xheWVyRWxlbWVudC9TZWxlY3Rpb24vT2ZmXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPjEvMi8zLzQ8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIFNlbGVjdCBieSBTeWxsYWJsZS9OZXVtZS9OZXVtZSBDb21wb25lbnQvU3RhZmZcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5OdW1iZXI8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIEJlZ2luIEluc2VydCBmb3IgdGhlIDxpPm50aDwvaT4gb3B0aW9uIGluIHRoZSBzZWxlY3RlZCB0YWJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFwiT3RoZXJcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPk90aGVyPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5zPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlNhdmUgRmlsZTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5Fc2M8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+UmV0dXJuIHRvIEVkaXQgTW9kZTwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbmV4cG9ydCBjb25zdCBzeWxsYWJsZUFjdGlvbnNDb250ZW50ID0gYFxuICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibWVyZ2VTeWxzXCI+TWVyZ2UgU3lsbGFibGVzPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ1bmdyb3VwTmV1bWVzXCI+VW5ncm91cDwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gIDwvZGl2PlxuYDtcblxuZXhwb3J0IGNvbnN0IGVycm9yTG9nc1BhbmVsQ29udGVudHMgPSBcbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImVycm9yTG9nSGVhZGluZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZVwiPkVycm9yIExvZzwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPlxuICAgICAgICAgICAgPHVzZSBpZD1cInRvZ2dsZUVycm9yTG9nXCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICA8L3N2Zz5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudHNcIiBpZD1cImVycm9yTG9nQ29udGVudHNcIiBzdHlsZT1cIm92ZXJmbG93OiB2aXNpYmxlOyBwYWRkaW5nOiAwLjVlbSAwLjc1ZW07XCI+PGRpdj5gO1xuIiwibW9kdWxlLmV4cG9ydHMgPSBkMzsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG4vKipcbiAqIENvbnZlcnQgYXJyYXkgb2YgMTYgYnl0ZSB2YWx1ZXMgdG8gVVVJRCBzdHJpbmcgZm9ybWF0IG9mIHRoZSBmb3JtOlxuICogWFhYWFhYWFgtWFhYWC1YWFhYLVhYWFgtWFhYWFhYWFhYWFhYXG4gKi9cblxudmFyIGJ5dGVUb0hleCA9IFtdO1xuXG5mb3IgKHZhciBpID0gMDsgaSA8IDI1NjsgKytpKSB7XG4gIGJ5dGVUb0hleC5wdXNoKChpICsgMHgxMDApLnRvU3RyaW5nKDE2KS5zdWJzdHIoMSkpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdpZnkoYXJyKSB7XG4gIHZhciBvZmZzZXQgPSBhcmd1bWVudHMubGVuZ3RoID4gMSAmJiBhcmd1bWVudHNbMV0gIT09IHVuZGVmaW5lZCA/IGFyZ3VtZW50c1sxXSA6IDA7XG4gIC8vIE5vdGU6IEJlIGNhcmVmdWwgZWRpdGluZyB0aGlzIGNvZGUhICBJdCdzIGJlZW4gdHVuZWQgZm9yIHBlcmZvcm1hbmNlXG4gIC8vIGFuZCB3b3JrcyBpbiB3YXlzIHlvdSBtYXkgbm90IGV4cGVjdC4gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZC9wdWxsLzQzNFxuICB2YXIgdXVpZCA9IChieXRlVG9IZXhbYXJyW29mZnNldCArIDBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDNdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA1XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDZdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgN11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA4XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDldXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTBdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTNdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMTVdXSkudG9Mb3dlckNhc2UoKTsgLy8gQ29uc2lzdGVuY3kgY2hlY2sgZm9yIHZhbGlkIFVVSUQuICBJZiB0aGlzIHRocm93cywgaXQncyBsaWtlbHkgZHVlIHRvIG9uZVxuICAvLyBvZiB0aGUgZm9sbG93aW5nOlxuICAvLyAtIE9uZSBvciBtb3JlIGlucHV0IGFycmF5IHZhbHVlcyBkb24ndCBtYXAgdG8gYSBoZXggb2N0ZXQgKGxlYWRpbmcgdG9cbiAgLy8gXCJ1bmRlZmluZWRcIiBpbiB0aGUgdXVpZClcbiAgLy8gLSBJbnZhbGlkIGlucHV0IHZhbHVlcyBmb3IgdGhlIFJGQyBgdmVyc2lvbmAgb3IgYHZhcmlhbnRgIGZpZWxkc1xuXG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ1N0cmluZ2lmaWVkIFVVSUQgaXMgaW52YWxpZCcpO1xuICB9XG5cbiAgcmV0dXJuIHV1aWQ7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHN0cmluZ2lmeTsiLCJleHBvcnQgZGVmYXVsdCAvXig/OlswLTlhLWZdezh9LVswLTlhLWZdezR9LVsxLTVdWzAtOWEtZl17M30tWzg5YWJdWzAtOWEtZl17M30tWzAtOWEtZl17MTJ9fDAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCkkL2k7IiwiaW1wb3J0IFJFR0VYIGZyb20gJy4vcmVnZXguanMnO1xuXG5mdW5jdGlvbiB2YWxpZGF0ZSh1dWlkKSB7XG4gIHJldHVybiB0eXBlb2YgdXVpZCA9PT0gJ3N0cmluZycgJiYgUkVHRVgudGVzdCh1dWlkKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmFsaWRhdGU7IiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94IH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmV4cG9ydCBpbnRlcmZhY2UgUG9pbnQge1xuICB4OiBudW1iZXI7XG4gIHk6IG51bWJlcjtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBCQm94IHtcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG59XG5cbi8qKlxuICogR2V0IFNWRyByZWxhdGl2ZSBjb29yZGluYXRlcyBnaXZlbiBjbGllbnRYIGFuZCBjbGllbnRZXG4gKiBTb3VyY2U6IGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI5MjYxMzA0XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTVkdSZWxDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogUG9pbnQge1xuICBjb25zdCBwdCA9IG5ldyBET01Qb2ludChjbGllbnRYLCBjbGllbnRZKTtcbiAgY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdTVkdFbGVtZW50PignLmFjdGl2ZS1wYWdlID4gLmRlZmluaXRpb24tc2NhbGUnKTtcbiAgY29uc3Qgc3lzdGVtID0gc3ZnLnF1ZXJ5U2VsZWN0b3I8U1ZHR0VsZW1lbnQ+KCcuc3lzdGVtJyk7XG5cbiAgY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3lzdGVtLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG4gIHJldHVybiB7IHgsIHkgfTtcblxuICAvLyBJZiB0aGVyZSBpcyBzb21lIGlzc3VlIHdpdGggY29vcmRpbmF0ZXMsIHRoaXMgbWF5IGZpeCB0aGUgaXNzdWU6XG4gIC8vIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHU1ZHRWxlbWVudD4oJyNzdmdfZ3JvdXAnKTtcbiAgLy8gY29uc3QgeyB4LCB5IH0gPSBwdC5tYXRyaXhUcmFuc2Zvcm0oc3ZnLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKSk7XG59XG5cbi8qKlxuICogR2V0IElEIG9mIHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlcy5cbiAqIFRoaXMgZnVuY3Rpb24gY29uc2lkZXJzIHRoZSAqdmlzdWFsKiBib3VuZGluZyBib3ggb2YgdGhlIHN0YWZmXG4gKiBiYXNlZCBvbiBpdHMgc3RhZmYgbGluZXMsIGluc3RlYWQgb2YgdGhlIFNWRyBlbGVtZW50IGl0c2VsZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmSWRCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR0VsZW1lbnQ+KCcuc3RhZmYnKSk7XG4gIGNvbnN0IHN0YWZmQkJveGVzID0gc3RhdmVzLm1hcChzdGFmZiA9PiBnZXRTdGFmZkJCb3goc3RhZmYpKTtcblxuICAvLyBmaW5kIHRoZSBzdGFmZiB0aGF0IHRoZSBjdXJzb3IgaXMgaW5zaWRlXG4gIGNvbnN0IHsgeCwgeSB9ID0gZ2V0U1ZHUmVsQ29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdGFmZiA9IHN0YWZmQkJveGVzLmZpbmQoXG4gICAgKGJib3gpID0+IHggPD0gYmJveC5scnggJiYgeCA+PSBiYm94LnVseCAmJiB5IDw9IGJib3gubHJ5ICYmIHkgPj0gYmJveC51bHlcbiAgKTsgXG5cbiAgLy8gSWYgdGhlcmUgaXMgaXNzdWVzIHdpdGggZmluZGluZyB0aGUgc3RhZmYsIHRoaXMgbWF5IGJlIG1vcmUgYWNjdXJhdGU6XG4gIC8vIHJldHVybiAocHQueCA+IHVseCAmJiBwdC54IDwgbHJ4KSAmJlxuICAvLyAgIChwdC55ID4gKHVseSArIChwdC54IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAvLyAgIChwdC55IDwgKGxyeSAtIChscnggLSBwdC54KSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcblxuICAvLyBpZiB0aGUgY3Vyc29yIGlzIG5vdCBpbnNpZGUgYW55IHN0YWZmLCB0aGVuIGV4cGxpY2l0bHkgcmV0dXJuIG51bGxcbiAgcmV0dXJuIHN0YWZmID8gc3RhZmYuaWQgOiBudWxsO1xufVxuXG4vKipcbiAqIEdldCBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXM7IHdyYXBwZXIgZm9yIGdldFN0YWZmSWRCeUNvb3JkcywgYnV0XG4gKiAgIHJldHVybnMgdGhlIGVsZW1lbnQsIG5vdCB0aGUgSURcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN0YWZmQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogU1ZHR0VsZW1lbnQgfCBudWxsIHtcbiAgY29uc3Qgc3RhZmZJZCA9IGdldFN0YWZmSWRCeUNvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgcmV0dXJuIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke3N0YWZmSWR9YCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBpc091dE9mU1ZHQm91bmRzICh4OiBudW1iZXIsIHk6IG51bWJlcik6IGJvb2xlYW4ge1xuICBjb25zdCBiZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHSW1hZ2VFbGVtZW50PignI2JnaW1nJyk7XG4gIFxuICByZXR1cm4gKFxuICAgIHggPD0gMCB8fCB4ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpIHx8XG4gICAgeSA8PSAwIHx8IHkgPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpXG4gICk7XG59XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCAobHJ4LCBscnksIHVseCwgdWx5KSBvZiBhIGdseXBoLCB3aGljaFxuICogaXMgYSA8dXNlPiBlbGVtZW50IGluIHRoZSBTVkdcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEdseXBoQkJveCAoZzogU1ZHUmVjdEVsZW1lbnQgfCBTVkdVc2VFbGVtZW50KTogQkJveCB7XG4gIGNvbnN0IHJlY3QgPSAoZy50YWdOYW1lID09ICdyZWN0JykgPyBnLmdldEJCb3goKSA6IChnLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICByZXR1cm4ge1xuICAgIHVseDogcmVjdC54LFxuICAgIHVseTogcmVjdC55LFxuICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gIH07XG59XG5cbiIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgR3JvdXBpbmcgZnJvbSAnLi9Hcm91cGluZyc7XG5pbXBvcnQgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRTdGFmZkhhbmRsZXIgfSBmcm9tICcuL1N0YWZmVG9vbHMnO1xuaW1wb3J0IHsgU3BsaXROZXVtZUhhbmRsZXIgfSBmcm9tICcuL05ldW1lVG9vbHMnO1xuaW1wb3J0IHtcbiAgQ2hhaW5BY3Rpb24sXG4gIENoYW5nZVN0YWZmQWN0aW9uLFxuICBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24sXG4gIEVkaXRvckFjdGlvbixcbiAgUmVtb3ZlQWN0aW9uLFxuICBTZXRBY3Rpb24sXG4gIFNldENsZWZBY3Rpb25cbn0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U3RhZmZCQm94IH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gY2FsbCBlZGl0b3IgYWN0aW9ucy5cbiAqL1xubGV0IG5lb25WaWV3OiBOZW9uVmlldztcblxuLyoqXG4gKiBJbml0aWFsaXplIE5lb25WaWV3LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdE5lb25WaWV3ICh2aWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBuZW9uVmlldyA9IHZpZXc7XG4gIEdyb3VwaW5nLmluaXROZW9uVmlldyh2aWV3KTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgaW5jbGluYXR1bSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldEluY2xpbmF0dW1BY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSByZXZlcnNlZCB2aXJnYSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9jbG9ja3dpc2UgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBsaXF1ZXNjZW50X2FudGljbG9ja3dpc2UgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqIEV2ZW50IGhhbmRsZXIgZm9yIGRlbGV0ZSBidXR0b24gcHJlc3MuICovXG5leHBvcnQgZnVuY3Rpb24gZGVsZXRlQnV0dG9uSGFuZGxlciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnZCcgfHwgZXZ0LmtleSA9PT0gJ0JhY2tzcGFjZScpIHsgcmVtb3ZlSGFuZGxlcigpOyBldnQucHJldmVudERlZmF1bHQoKTsgfVxufVxuXG4vKipcbiAqIEVuZCB0aGUgZXh0cmEgb3B0aW9ucyBtZW51LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIGNvbnN0IGV4dHJhRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKTtcbiAgaWYgKG1vcmVFZGl0KSB7XG4gICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfVxuICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgZXh0cmFFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xufVxuXG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlbW92aW5nIGVsZW1lbnRzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZW1vdmVIYW5kbGVyICgpOiB2b2lkIHtcbiAgY29uc3QgdG9SZW1vdmU6IFJlbW92ZUFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuYWNjaWQnKTtcbiAgICB9XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5kaXZMaW5lJyk7XG4gICAgfVxuICAgIHRvUmVtb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9SZW1vdmVcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmUtYXNzb2NpYXRpbmcgZWxlbWVudHMgdG8gdGhlIG5lYXJlc3Qgc3RhZmZcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNoYW5nZVN0YWZmSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9DaGFuZ2U6IENoYW5nZVN0YWZmQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvQ2hhbmdlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2NoYW5nZVN0YWZmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9DaGFuZ2VcbiAgfTtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKCkgPT4geyBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgaW5zZXJ0aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBpbnRvIG5lYXJlc3Qgc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0luc2VydDogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvSW5zZXJ0LnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ2luc2VydFRvU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvSW5zZXJ0XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0luc2VydCBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIG1vdmluZyBkaXZpc2lvIG9yIGFjY2lkZW50YWwgb3V0IG9mIHN5bGxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9Nb3ZlOiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9Nb3ZlLnB1c2goXG4gICAgICB7XG4gICAgICAgIGFjdGlvbjogJ21vdmVPdXRzaWRlU3lsbGFibGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvTW92ZVxuICB9O1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01vdmUgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBGYWlsZWQgWG9YJywgJ2Vycm9yJyk7XG4gICAgfVxuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpOyBcbiAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZXh0cmEgbGF5ZXIgZWxlbWVudCBhY3Rpb24gbWVudSBmb3IgYSBzZWxlY3Rpb24uXG4gKi9cbi8vICBleHBvcnQgZnVuY3Rpb24gdHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMgKCk6IHZvaWQge1xuLy8gICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbi8vICAgICBtb3JlRWRpdC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1oaWRkZW4nKTtcbi8vICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSBDb250ZW50cy5kZWZhdWx0QWN0aW9uQ29udGVudHM7XG4vLyAgIH0gY2F0Y2ggKGUpIHt9XG5cbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG4vLyAgICAgZGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4vLyAgICAgZGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4vLyAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4vLyAgIH0gY2F0Y2ggKGUpIHt9XG4vLyB9XG5cbmZ1bmN0aW9uIGFkZERlbGV0ZUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG5cbiAgaWYgKGRlbCkge1xuICAgIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuXG4gICAgLy8gVE9ETzogc2hvdWxkIHRoaXMgYmUgb3V0c2lkZSB0aGUgaWYgY29uZGl0aW9uP1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBzdGFmZiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjaGFuZ2VTdGFmZicpO1xuICBzdGFmZj8ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xuICBzdGFmZj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjaGFuZ2VTdGFmZkhhbmRsZXIpO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIHNldCB0aGUgSFRNTCBjb250ZW50IG9mIGVkaXQgY29udHJvbHM6IGVpdGhlciAjbW9yZUVkaXQgb3IgI2V4dHJhRWRpdFxuICpcbiAqIEBwYXJhbSB7J21vcmVFZGl0JyB8ICdleHRyYUVkaXQnfSBlZGl0VHlwZSAtIFRoZSB0eXBlIG9mIGVkaXQgY29udHJvbHNcbiAqIEBwYXJhbSB7c3RyaW5nfSBjb250ZW50cyAtIFRoZSBpbm5lckhUTUwgY29udGVudHNcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gcmVwbGFjZSAtIElzIHRoZSBpbm5lckhUTUwgYmVpbmcgcmVwbGFjZWQsIG9yIGJlaW5nIGFkZGVkIHRvP1xuICovXG5mdW5jdGlvbiBzZXRFZGl0Q29udHJvbHMoZWRpdFR5cGU6ICdtb3JlRWRpdCcgfCAnZXh0cmFFZGl0JywgY29udGVudHM6IHN0cmluZywgcmVwbGFjZSA9IHRydWUpOiB2b2lkIHtcbiAgY29uc3QgZWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVkaXRUeXBlKTtcbiAgXG4gIGlmIChlZGl0KSB7XG4gICAgZWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGRlbicpO1xuICAgIGlmIChyZXBsYWNlKSBlZGl0LmlubmVySFRNTCA9IGNvbnRlbnRzO1xuICAgIGVsc2UgZWRpdC5pbm5lckhUTUwgKz0gY29udGVudHM7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHRoZSBleHRyYSBuYyBhY3Rpb24gbWVudSBmb3IgYSBzZWxlY3Rpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTmNBY3Rpb25zIChuYzogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5uY0FjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHVuY3R1bS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0luY2xpbmF0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRJbmNsaW5hdHVtOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3NlJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldEluY2xpbmF0dW0gXSB9ICwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ZpcmdhLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ3MnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYVJldmVyc2VkLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0VmlyZ2FSZXZlcnNlZDogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICduJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldFZpcmdhUmV2ZXJzZWQgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudENsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldExpcXVlc2NlbnRDbG9ja3dpc2U6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2MnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0TGlxdWVzY2VudENsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pOyAgXG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0xpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2N1cnZlJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdhJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBuZXVtZSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5ldW1lQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLm5ldW1lQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJyk7XG4gIGlmIChuZXVtZS5sZW5ndGggIT09IDEpIHtcbiAgICBjb25zb2xlLndhcm4oJ01vcmUgdGhhbiBvbmUgbmV1bWUgc2VsZWN0ZWQhIENhbm5vdCB0cmlnZ2VyIE5ldW1lIENsaWNrU2VsZWN0IGFjdGlvbnMuJyk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLy8gVE9ETyBhZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1uZXVtZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubmV1bWUuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgICAgIGlmIChuZXVtZSAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdE5ldW1lSGFuZGxlcihuZW9uVmlldywgbmV1bWUpO1xuICAgICAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQZXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpdmlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjU2NhbmRpY3VzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaW1hY3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNUb3JjdWx1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzUmVzdXBpbnVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzRmxleHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUG9ycmVjdHVzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ByZXNzdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG5cbiAgZnVuY3Rpb24gdHJpZ2dlckNoYW5nZUdyb3VwIChjb250b3VyOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjaGFuZ2VHcm91cGluZ0FjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnY2hhbmdlR3JvdXAnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBuZXVtZVswXS5pZCxcbiAgICAgICAgY29udG91cjogY29udG91clxuICAgICAgfVxuICAgIH07XG4gICAgbmVvblZpZXcuZWRpdChjaGFuZ2VHcm91cGluZ0FjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pO1xuICB9XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIHN5bGxhYmxlIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3lsbGFibGVBY3Rpb25zIChzZWxlY3Rpb25UeXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zeWxsYWJsZUFjdGlvbnNDb250ZW50KTtcbiAgLy8gaW5pdGlhbGl6ZSB2YXJpYWJsZSB0aGF0IHdpbGwgaG9sZCBodG1sIHRvIGJlIGFkZGVkIHRvIERpc3BsYXkgcGFuZWxcbiAgbGV0IGV4dHJhQWN0aW9uc0hUTUwgPSAnJztcblxuICAvLyBkZXRlcm1pbmUgdGhlIHR5cGUgb2Ygc2VsZWN0aW9uIHRoYXQgd2FzIG1hZGUgYnkgdGhlIHVzZXJcbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICAvLyBvbmx5IG9uZSBzeWxsYWJsZVxuICAgIGNhc2UgJ3NpbmdsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gdHdvIHN5bGxhYmxlcyBvbiBzZXBhcmF0ZSBzdGF2ZXNcbiAgICBjYXNlICdsaW5rYWJsZVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saW5rXCI+VG9nZ2xlIExpbmtlZCBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0b3cgb3IgbW9yZSBzeWxsYWJsZXMgb24gb25lIHN0YWZmXG4gICAgY2FzZSAnbXVsdGlTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvL2RlZmF1bHQgb3B0aW9uc1xuICAgIGNhc2UgJ2RlZmF1bHQnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gIH1cblxuICAvLyBzZXQgY29udGVudCBvZiBhZGRpdGlvbmFsIGFjdGlvbnMgaW4gRGlzcGxheSBwYW5lbCBcbiAgLy8gYW5kIGluaXRpYWxpemUgbmVjZXNzYXJ5IGxpc3RlbmVyc1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgZXh0cmFBY3Rpb25zSFRNTCwgdHJ1ZSk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBjbGVmIGFjdGlvbnMgZm9yIGEgc3BlY2lmaWMgY2xlZi5cbiAqIEBwYXJhbSBjbGVmIC0gVGhlIGNsZWYgb24gd2hpY2ggdG8gdHJpZ2dlciBhZGRpdGlvbmFsIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyQ2xlZkFjdGlvbnMgKGNsZWY6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgY29uc3QgaXNDbGVmSW5TeWxsYWJsZSA9IGNsZWYucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJyk7XG4gIGNvbnN0IG1vcmVFZGl0Q29udGVudHMgPSAoaXNDbGVmSW5TeWxsYWJsZSlcbiAgICA/IENvbnRlbnRzLmxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHNcbiAgICA6IENvbnRlbnRzLmxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgbW9yZUVkaXRDb250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuY2xlZkFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5jcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBjbGVmLmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2Fib3ZlJ1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgaW5jcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2RlY3JlbWVudC1vY3RhdmUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluY3JlbWVudE9jdGF2ZTogRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkaXNwbGFjZUNsZWZPY3RhdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogY2xlZi5pZCxcbiAgICAgICAgICBkaXJlY3Rpb246ICdiZWxvdydcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChpbmNyZW1lbnRPY3RhdmUsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsZWYgb2N0YXZlIGRlY3JlbWVudGVkLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNYXhpbXVtIG9jdGF2ZSBkaXNwbGFjZW1lbnQgcmVhY2hlZC4gQ2xlZiBjYW4gb25seSBiZSBkaXNwbGFjZWQgdXAgdG8gMyBvY3RhdmVzLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRDQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBjbGVmLmlkLFxuICAgICAgICAgIHNoYXBlOiAnQydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoc2V0Q0NsZWYsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjRkNsZWYuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0RkNsZWY6IFNldENsZWZBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldENsZWYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogY2xlZi5pZCxcbiAgICAgICAgICBzaGFwZTogJ0YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHNldEZDbGVmLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgY3VzdG9zIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyQ3VzdG9zQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmN1c3Rvc0FjdGlvbkNvbnRlbnRzKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgYWNjaWQgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJBY2NpZEFjdGlvbnMgKGFjY2lkOiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIGNvbnN0IGlzU3lsbGFibGVJbkFjY2lkID0gYWNjaWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJyk7XG4gIGNvbnN0IG1vcmVFZGl0Q29udGVudHMgPSAoaXNTeWxsYWJsZUluQWNjaWQpXG4gICAgPyBDb250ZW50cy5sYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzXG4gICAgOiBDb250ZW50cy5sYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cztcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIG1vcmVFZGl0Q29udGVudHMsIGZhbHNlKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5hY2NpZEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9GbGF0LmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoYW5nZVRvRmxhdDogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogYWNjaWQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnZidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoY2hhbmdlVG9GbGF0LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvTmF0dXJhbC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb05hdHVyYWw6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGFjY2lkLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ24nXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGNoYW5nZVRvTmF0dXJhbCwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGxheWVyIGVsZW1lbnQgKGFjY2lkLCBkaXZMaW5lLCBjdXN0b3MpIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBjb25zdCBwYXJlbnRJc1N5bGxhYmxlID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKTtcbiAgY29uc3QgbGF5ZXJFbGVtZW50QWN0aW9ucyA9IHBhcmVudElzU3lsbGFibGVcbiAgICA/IENvbnRlbnRzLmxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHNcbiAgICA6IENvbnRlbnRzLmxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgbGF5ZXJFbGVtZW50QWN0aW9ucywgZmFsc2UpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xufVxuXG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBzdGFmZiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN0YWZmQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN0YWZmQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtZXJnZS1zeXN0ZW1zJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgR3JvdXBpbmcubWVyZ2VTdGF2ZXMoKTtcbiAgfSk7XG59XG5cbi8qKlxuICogRW50ZXIgc3RhZmYgc3BsaXR0aW5nIG1vZGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSAoKTogdm9pZCB7XG4gIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHR0VsZW1lbnQ7XG4gIGlmIChzdGFmZiAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0U3RhZmZIYW5kbGVyKG5lb25WaWV3LCBzdGFmZik7XG4gICAgc3BsaXQuc3RhcnRTcGxpdCgpO1xuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfSBlbHNlIHtcbiAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQhJyk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciBzcGxpdCBzdGFmZiBvcHRpb25cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTcGxpdEFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zcGxpdEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICAvLyBUT0RPIGFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LXN5c3RlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXJvdGF0ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdFbGVtZW50O1xuICAgICAgLy8gVW51c2VkIHZhcmlhYmxlczpcbiAgICAgIC8vIGNvbnN0IHJlY3QgPSBzdGFmZi5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpO1xuICAgICAgLy8gY29uc3QgY28gPSByZWN0LmdldEF0dHJpYnV0ZSgncG9pbnRzJykuc3BsaXQoJyAnKTtcbiAgICAgIC8vIGNvbnN0IGR5ID0gcGFyc2VJbnQoY29bMF0uc3BsaXQoJywnKVsxXSkgLSBwYXJzZUludChjb1sxXS5zcGxpdCgnLCcpWzFdKTtcbiAgICAgIGNvbnN0IHBvaW50cyA9IGdldFN0YWZmQkJveChzdGFmZiBhcyBTVkdHRWxlbWVudCk7XG4gICAgICBjb25zdCB5X2NoYW5nZSA9IE1hdGgudGFuKHBvaW50cy5yb3RhdGUpKihwb2ludHMubHJ4IC0gcG9pbnRzLnVseCk7XG4gICAgICBpZiAoc3RhZmYgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBzdGFmZi5pZCxcbiAgICAgICAgICAgIHVseDogcG9pbnRzLnVseCxcbiAgICAgICAgICAgIHVseTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMudWx5ICsgeV9jaGFuZ2UvMiA6IHBvaW50cy51bHkgLSB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgbHJ4OiBwb2ludHMubHJ4LFxuICAgICAgICAgICAgbHJ5OiBwb2ludHMucm90YXRlID4gMCA/IHBvaW50cy5scnkgLSB5X2NoYW5nZS8yIDogcG9pbnRzLmxyeSArIHlfY2hhbmdlLzIsXG4gICAgICAgICAgICByb3RhdGU6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkJyk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgYWN0aW9ucyB3aGVuIHNlbGVjdGluZyBieSBzeWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0U3lsQWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGRlZmF1bHQgc2VsZWN0aW9uIG9wdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJEZWZhdWx0QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBleHRyYSBkcm9wZG93biBvcHRpb25zOlxuICogTGlzdGVuIHRvIGNsaWNrcyBvbiBkcm9wZG93bnNcbiAqL1xuZnVuY3Rpb24gaW5pdE9wdGlvbnNMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICBkb2N1bWVudFxuICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKVxuICAgIC5mb3JFYWNoKFxuICAgICAgZHJvcCA9PiB7XG4gICAgICAgIC8vIFdoZW4gYW55dGhpbmcgdGhhdCBpcyBub3QgdGhlIGRyb3Bkb3duIGlzIGNsaWNrZWQgYXdheSwgdGhlIGRyb3Bkb3duXG4gICAgICAgIC8vIHNob3VsZCBsb3NlIGl0cyB2aXNpYmlsaXR5XG4gICAgICAgIGNvbnN0IG9wdGlvbnNDbGlja2F3YXkgPSAoKSA9PiB7XG4gICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZHJvcC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICAgICAgICAvLyBUb2dnbGUgdmlzaWJpbGl0eSBvZiBkcm9wZG93blxuICAgICAgICAgIGRyb3AuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG5cbiAgICAgICAgICAvLyBSZW1vdmUgdmlzaWJpbGl0eSBvZiBvdGhlciBkcm9wZG93bnMgd2hlbiB0aGlzIG9uZSBpcyBjbGlja2VkXG4gICAgICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuZHJvcF9zZWxlY3QnKSlcbiAgICAgICAgICAgIC5maWx0ZXIob3RoZXIgPT4gb3RoZXIgIT09IGRyb3ApXG4gICAgICAgICAgICAuZm9yRWFjaChvdGhlciA9PiBvdGhlci5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKSk7XG5cbiAgICAgICAgICAvLyBEb24ndCBhbGxvdyBvdGhlciBldmVudCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgdG8gaW50ZXJmZXJlIHdpdGggdGhpcyBsaXN0ZW5lclxuICAgICAgICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgICAgICAgIGlmIChkcm9wLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xufVxuIiwiKGZ1bmN0aW9uIChmYWN0b3J5KSB7XG4gICAgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBOb2RlL0NvbW1vbkpTXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeSgpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIC8vIEFNRFxuICAgICAgICBkZWZpbmUoZmFjdG9yeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgLy8gQnJvd3NlciBnbG9iYWxzICh3aXRoIHN1cHBvcnQgZm9yIHdlYiB3b3JrZXJzKVxuICAgICAgICB2YXIgZ2xvYjtcblxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgZ2xvYiA9IHdpbmRvdztcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgICAgZ2xvYiA9IHNlbGY7XG4gICAgICAgIH1cblxuICAgICAgICBnbG9iLlNwYXJrTUQ1ID0gZmFjdG9yeSgpO1xuICAgIH1cbn0oZnVuY3Rpb24gKHVuZGVmaW5lZCkge1xuXG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgLypcbiAgICAgKiBGYXN0ZXN0IG1kNSBpbXBsZW1lbnRhdGlvbiBhcm91bmQgKEpLTSBtZDUpLlxuICAgICAqIENyZWRpdHM6IEpvc2VwaCBNeWVyc1xuICAgICAqXG4gICAgICogQHNlZSBodHRwOi8vd3d3Lm15ZXJzZGFpbHkub3JnL2pvc2VwaC9qYXZhc2NyaXB0L21kNS10ZXh0Lmh0bWxcbiAgICAgKiBAc2VlIGh0dHA6Ly9qc3BlcmYuY29tL21kNS1zaG9vdG91dC83XG4gICAgICovXG5cbiAgICAvKiB0aGlzIGZ1bmN0aW9uIGlzIG11Y2ggZmFzdGVyLFxuICAgICAgc28gaWYgcG9zc2libGUgd2UgdXNlIGl0LiBTb21lIElFc1xuICAgICAgYXJlIHRoZSBvbmx5IG9uZXMgSSBrbm93IG9mIHRoYXRcbiAgICAgIG5lZWQgdGhlIGlkaW90aWMgc2Vjb25kIGZ1bmN0aW9uLFxuICAgICAgZ2VuZXJhdGVkIGJ5IGFuIGlmIGNsYXVzZS4gICovXG4gICAgdmFyIGFkZDMyID0gZnVuY3Rpb24gKGEsIGIpIHtcbiAgICAgICAgcmV0dXJuIChhICsgYikgJiAweEZGRkZGRkZGO1xuICAgIH0sXG4gICAgICAgIGhleF9jaHIgPSBbJzAnLCAnMScsICcyJywgJzMnLCAnNCcsICc1JywgJzYnLCAnNycsICc4JywgJzknLCAnYScsICdiJywgJ2MnLCAnZCcsICdlJywgJ2YnXTtcblxuXG4gICAgZnVuY3Rpb24gY21uKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgICAgICAgYSA9IGFkZDMyKGFkZDMyKGEsIHEpLCBhZGQzMih4LCB0KSk7XG4gICAgICAgIHJldHVybiBhZGQzMigoYSA8PCBzKSB8IChhID4+PiAoMzIgLSBzKSksIGIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWN5Y2xlKHgsIGspIHtcbiAgICAgICAgdmFyIGEgPSB4WzBdLFxuICAgICAgICAgICAgYiA9IHhbMV0sXG4gICAgICAgICAgICBjID0geFsyXSxcbiAgICAgICAgICAgIGQgPSB4WzNdO1xuXG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbMF0gLSA2ODA4NzY5MzYgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxXSAtIDM4OTU2NDU4NiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1syXSArIDYwNjEwNTgxOSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1szXSAtIDEwNDQ1MjUzMzAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbNF0gLSAxNzY0MTg4OTcgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1s1XSArIDEyMDAwODA0MjYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbNl0gLSAxNDczMjMxMzQxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzddIC0gNDU3MDU5ODMgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbOF0gKyAxNzcwMDM1NDE2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbOV0gLSAxOTU4NDE0NDE3IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzEwXSAtIDQyMDYzIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzExXSAtIDE5OTA0MDQxNjIgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBjIHwgfmIgJiBkKSArIGtbMTJdICsgMTgwNDYwMzY4MiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzEzXSAtIDQwMzQxMTAxIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzE0XSAtIDE1MDIwMDIyOTAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTVdICsgMTIzNjUzNTMyOSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzFdIC0gMTY1Nzk2NTEwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbNl0gLSAxMDY5NTAxNjMyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTFdICsgNjQzNzE3NzEzIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzBdIC0gMzczODk3MzAyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzVdIC0gNzAxNTU4NjkxIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTBdICsgMzgwMTYwODMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxNV0gLSA2NjA0NzgzMzUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbNF0gLSA0MDU1Mzc4NDggfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbOV0gKyA1Njg0NDY0MzggfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxNF0gLSAxMDE5ODAzNjkwIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbM10gLSAxODczNjM5NjEgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbOF0gKyAxMTYzNTMxNTAxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzEzXSAtIDE0NDQ2ODE0NjcgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1syXSAtIDUxNDAzNzg0IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbN10gKyAxNzM1MzI4NDczIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzEyXSAtIDE5MjY2MDc3MzQgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbNV0gLSAzNzg1NTggfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbOF0gLSAyMDIyNTc0NDYzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxMV0gKyAxODM5MDMwNTYyIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1sxNF0gLSAzNTMwOTU1NiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxXSAtIDE1MzA5OTIwNjAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbNF0gKyAxMjcyODkzMzUzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1s3XSAtIDE1NTQ5NzYzMiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTBdIC0gMTA5NDczMDY0MCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1sxM10gKyA2ODEyNzkxNzQgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbMF0gLSAzNTg1MzcyMjIgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzNdIC0gNzIyNTIxOTc5IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1s2XSArIDc2MDI5MTg5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzldIC0gNjQwMzY0NDg3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzEyXSAtIDQyMTgxNTgzNSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTVdICsgNTMwNzQyNTIwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1syXSAtIDk5NTMzODY1MSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzBdIC0gMTk4NjMwODQ0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzddICsgMTEyNjg5MTQxNSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMTRdIC0gMTQxNjM1NDkwNSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbNV0gLSA1NzQzNDA1NSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1sxMl0gKyAxNzAwNDg1NTcxIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzNdIC0gMTg5NDk4NjYwNiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMTBdIC0gMTA1MTUyMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMV0gLSAyMDU0OTIyNzk5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8YiA+Pj4gMTEpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzhdICsgMTg3MzMxMzM1OSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxNV0gLSAzMDYxMTc0NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbNl0gLSAxNTYwMTk4MzgwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1sxM10gKyAxMzA5MTUxNjQ5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8YiA+Pj4gMTEpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzRdIC0gMTQ1NTIzMDcwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzExXSAtIDExMjAyMTAzNzkgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzJdICsgNzE4Nzg3MjU5IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1s5XSAtIDM0MzQ4NTU1MSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfCBiID4+PiAxMSkgKyBjIHwgMDtcblxuICAgICAgICB4WzBdID0gYSArIHhbMF0gfCAwO1xuICAgICAgICB4WzFdID0gYiArIHhbMV0gfCAwO1xuICAgICAgICB4WzJdID0gYyArIHhbMl0gfCAwO1xuICAgICAgICB4WzNdID0gZCArIHhbM10gfCAwO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsayhzKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gcy5jaGFyQ29kZUF0KGkpICsgKHMuY2hhckNvZGVBdChpICsgMSkgPDwgOCkgKyAocy5jaGFyQ29kZUF0KGkgKyAyKSA8PCAxNikgKyAocy5jaGFyQ29kZUF0KGkgKyAzKSA8PCAyNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1kNWJsa3M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1YmxrX2FycmF5KGEpIHtcbiAgICAgICAgdmFyIG1kNWJsa3MgPSBbXSxcbiAgICAgICAgICAgIGk7IC8qIEFuZHkgS2luZyBzYWlkIGRvIGl0IHRoaXMgd2F5LiAqL1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSArPSA0KSB7XG4gICAgICAgICAgICBtZDVibGtzW2kgPj4gMl0gPSBhW2ldICsgKGFbaSArIDFdIDw8IDgpICsgKGFbaSArIDJdIDw8IDE2KSArIChhW2kgKyAzXSA8PCAyNCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1kNWJsa3M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MShzKSB7XG4gICAgICAgIHZhciBuID0gcy5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrKHMuc3Vic3RyaW5nKGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuICAgICAgICBzID0gcy5zdWJzdHJpbmcoaSAtIDY0KTtcbiAgICAgICAgbGVuZ3RoID0gcy5sZW5ndGg7XG4gICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IHMuY2hhckNvZGVBdChpKSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWlnaHQgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IG4gKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcblxuICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDUxX2FycmF5KGEpIHtcbiAgICAgICAgdmFyIG4gPSBhLmxlbmd0aCxcbiAgICAgICAgICAgIHN0YXRlID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgIHRhaWwsXG4gICAgICAgICAgICB0bXAsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICAgIGhpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IG47IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCBtZDVibGtfYXJyYXkoYS5zdWJhcnJheShpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3Qgc3VyZSBpZiBpdCBpcyBhIGJ1ZywgaG93ZXZlciBJRTEwIHdpbGwgYWx3YXlzIHByb2R1Y2UgYSBzdWIgYXJyYXkgb2YgbGVuZ3RoIDFcbiAgICAgICAgLy8gY29udGFpbmluZyB0aGUgbGFzdCBlbGVtZW50IG9mIHRoZSBwYXJlbnQgYXJyYXkgaWYgdGhlIHN1YiBhcnJheSBzcGVjaWZpZWQgc3RhcnRzXG4gICAgICAgIC8vIGJleW9uZCB0aGUgbGVuZ3RoIG9mIHRoZSBwYXJlbnQgYXJyYXkgLSB3ZWlyZC5cbiAgICAgICAgLy8gaHR0cHM6Ly9jb25uZWN0Lm1pY3Jvc29mdC5jb20vSUUvZmVlZGJhY2svZGV0YWlscy83NzE0NTIvdHlwZWQtYXJyYXktc3ViYXJyYXktaXNzdWVcbiAgICAgICAgYSA9IChpIC0gNjQpIDwgbiA/IGEuc3ViYXJyYXkoaSAtIDY0KSA6IG5ldyBVaW50OEFycmF5KDApO1xuXG4gICAgICAgIGxlbmd0aCA9IGEubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBhW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByaGV4KG4pIHtcbiAgICAgICAgdmFyIHMgPSAnJyxcbiAgICAgICAgICAgIGo7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCA0OyBqICs9IDEpIHtcbiAgICAgICAgICAgIHMgKz0gaGV4X2NoclsobiA+PiAoaiAqIDggKyA0KSkgJiAweDBGXSArIGhleF9jaHJbKG4gPj4gKGogKiA4KSkgJiAweDBGXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXgoeCkge1xuICAgICAgICB2YXIgaTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHhbaV0gPSByaGV4KHhbaV0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB4LmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8vIEluIHNvbWUgY2FzZXMgdGhlIGZhc3QgYWRkMzIgZnVuY3Rpb24gY2Fubm90IGJlIHVzZWQuLlxuICAgIGlmIChoZXgobWQ1MSgnaGVsbG8nKSkgIT09ICc1ZDQxNDAyYWJjNGIyYTc2Yjk3MTlkOTExMDE3YzU5MicpIHtcbiAgICAgICAgYWRkMzIgPSBmdW5jdGlvbiAoeCwgeSkge1xuICAgICAgICAgICAgdmFyIGxzdyA9ICh4ICYgMHhGRkZGKSArICh5ICYgMHhGRkZGKSxcbiAgICAgICAgICAgICAgICBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgICAgICAgICAgIHJldHVybiAobXN3IDw8IDE2KSB8IChsc3cgJiAweEZGRkYpO1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogQXJyYXlCdWZmZXIgc2xpY2UgcG9seWZpbGwuXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS90dGF1YmVydC9ub2RlLWFycmF5YnVmZmVyLXNsaWNlXG4gICAgICovXG5cbiAgICBpZiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiAhQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlKSB7XG4gICAgICAgIChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBmdW5jdGlvbiBjbGFtcCh2YWwsIGxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHZhbCA9ICh2YWwgfCAwKSB8fCAwO1xuXG4gICAgICAgICAgICAgICAgaWYgKHZhbCA8IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHZhbCArIGxlbmd0aCwgMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIE1hdGgubWluKHZhbCwgbGVuZ3RoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgQXJyYXlCdWZmZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24gKGZyb20sIHRvKSB7XG4gICAgICAgICAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuYnl0ZUxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgYmVnaW4gPSBjbGFtcChmcm9tLCBsZW5ndGgpLFxuICAgICAgICAgICAgICAgICAgICBlbmQgPSBsZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIG51bSxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRBcnJheSxcbiAgICAgICAgICAgICAgICAgICAgc291cmNlQXJyYXk7XG5cbiAgICAgICAgICAgICAgICBpZiAodG8gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBlbmQgPSBjbGFtcCh0bywgbGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoYmVnaW4gPiBlbmQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBBcnJheUJ1ZmZlcigwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBudW0gPSBlbmQgLSBiZWdpbjtcbiAgICAgICAgICAgICAgICB0YXJnZXQgPSBuZXcgQXJyYXlCdWZmZXIobnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRhcmdldCk7XG5cbiAgICAgICAgICAgICAgICBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KHRoaXMsIGJlZ2luLCBudW0pO1xuICAgICAgICAgICAgICAgIHRhcmdldEFycmF5LnNldChzb3VyY2VBcnJheSk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFyZ2V0O1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfSkoKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEhlbHBlcnMuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiB0b1V0Zjgoc3RyKSB7XG4gICAgICAgIGlmICgvW1xcdTAwODAtXFx1RkZGRl0vLnRlc3Qoc3RyKSkge1xuICAgICAgICAgICAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1dGY4U3RyMkFycmF5QnVmZmVyKHN0ciwgcmV0dXJuVUludDhBcnJheSkge1xuICAgICAgICB2YXIgbGVuZ3RoID0gc3RyLmxlbmd0aCxcbiAgICAgICAgICAgYnVmZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpLFxuICAgICAgICAgICBhcnIgPSBuZXcgVWludDhBcnJheShidWZmKSxcbiAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIGFycltpXSA9IHN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJldHVyblVJbnQ4QXJyYXkgPyBhcnIgOiBidWZmO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFycmF5QnVmZmVyMlV0ZjhTdHIoYnVmZikge1xuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBuZXcgVWludDhBcnJheShidWZmKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnMoZmlyc3QsIHNlY29uZCwgcmV0dXJuVUludDhBcnJheSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gbmV3IFVpbnQ4QXJyYXkoZmlyc3QuYnl0ZUxlbmd0aCArIHNlY29uZC5ieXRlTGVuZ3RoKTtcblxuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KGZpcnN0KSk7XG4gICAgICAgIHJlc3VsdC5zZXQobmV3IFVpbnQ4QXJyYXkoc2Vjb25kKSwgZmlyc3QuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmV0dXJuIHJldHVyblVJbnQ4QXJyYXkgPyByZXN1bHQgOiByZXN1bHQuYnVmZmVyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhleFRvQmluYXJ5U3RyaW5nKGhleCkge1xuICAgICAgICB2YXIgYnl0ZXMgPSBbXSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGhleC5sZW5ndGgsXG4gICAgICAgICAgICB4O1xuXG4gICAgICAgIGZvciAoeCA9IDA7IHggPCBsZW5ndGggLSAxOyB4ICs9IDIpIHtcbiAgICAgICAgICAgIGJ5dGVzLnB1c2gocGFyc2VJbnQoaGV4LnN1YnN0cih4LCAyKSwgMTYpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZywgYnl0ZXMpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUsIG90aGVyd2lzZSB1c2UgdGhlXG4gICAgICogc3RhdGljIG1ldGhvZHMgaW5zdGVhZC5cbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIFNwYXJrTUQ1KCkge1xuICAgICAgICAvLyBjYWxsIHJlc2V0IHRvIGluaXQgdGhlIGluc3RhbmNlXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgYW4gdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gc3RyIFRoZSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgLy8gQ29udmVydHMgdGhlIHN0cmluZyB0byB1dGY4IGJ5dGVzIGlmIG5lY2Vzc2FyeVxuICAgICAgICAvLyBUaGVuIGFwcGVuZCBhcyBiaW5hcnlcbiAgICAgICAgdGhpcy5hcHBlbmRCaW5hcnkodG9VdGY4KHN0cikpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGEgYmluYXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBjb250ZW50cyBUaGUgYmluYXJ5IHN0cmluZyB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuYXBwZW5kQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnRzKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgKz0gY29udGVudHM7XG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBjb250ZW50cy5sZW5ndGg7XG5cbiAgICAgICAgdmFyIGxlbmd0aCA9IHRoaXMuX2J1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsayh0aGlzLl9idWZmLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmID0gdGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0KTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoZXMgdGhlIGluY3JlbWVudGFsIGNvbXB1dGF0aW9uLCByZXNldGluZyB0aGUgaW50ZXJuYWwgc3RhdGUgYW5kXG4gICAgICogcmV0dXJuaW5nIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJhdyBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKHJhdykge1xuICAgICAgICB2YXIgYnVmZiA9IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGggPSBidWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgcmV0O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IGJ1ZmYuY2hhckNvZGVBdChpKSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCh0YWlsLCBsZW5ndGgpO1xuICAgICAgICByZXQgPSBoZXgodGhpcy5faGFzaCk7XG5cbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmV0ID0gaGV4VG9CaW5hcnlTdHJpbmcocmV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9idWZmID0gJyc7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHN0YXRlXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYnVmZjogdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aDogdGhpcy5fbGVuZ3RoLFxuICAgICAgICAgICAgaGFzaDogdGhpcy5faGFzaC5zbGljZSgpXG4gICAgICAgIH07XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBUaGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBzdGF0ZS5idWZmO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSBzdGF0ZS5sZW5ndGg7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBzdGF0ZS5oYXNoO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZWxlYXNlcyBtZW1vcnkgdXNlZCBieSB0aGUgaW5jcmVtZW50YWwgYnVmZmVyIGFuZCBvdGhlciBhZGRpdGlvbmFsXG4gICAgICogcmVzb3VyY2VzLiBJZiB5b3UgcGxhbiB0byB1c2UgdGhlIGluc3RhbmNlIGFnYWluLCB1c2UgcmVzZXQgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuZGVzdHJveSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2hhc2g7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9idWZmO1xuICAgICAgICBkZWxldGUgdGhpcy5fbGVuZ3RoO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2ggdGhlIGZpbmFsIGNhbGN1bGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheX0gIHRhaWwgICBUaGUgdGFpbCAod2lsbCBiZSBtb2RpZmllZClcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gbGVuZ3RoIFRoZSBsZW5ndGggb2YgdGhlIHJlbWFpbmluZyBidWZmZXJcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuX2ZpbmlzaCA9IGZ1bmN0aW9uICh0YWlsLCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGkgPSBsZW5ndGgsXG4gICAgICAgICAgICB0bXAsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICAgIGhpO1xuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBEbyB0aGUgZmluYWwgY29tcHV0YXRpb24gYmFzZWQgb24gdGhlIHRhaWwgYW5kIGxlbmd0aFxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1heSBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gdGhpcy5fbGVuZ3RoICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG4gICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIHRhaWwpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgbWQ1IGhhc2ggb24gYSBzdHJpbmcuXG4gICAgICogQSBjb252ZXJzaW9uIHdpbGwgYmUgYXBwbGllZCBpZiB1dGY4IHN0cmluZyBpcyBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgc3RyIFRoZSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddIFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1Lmhhc2ggPSBmdW5jdGlvbiAoc3RyLCByYXcpIHtcbiAgICAgICAgLy8gQ29udmVydHMgdGhlIHN0cmluZyB0byB1dGY4IGJ5dGVzIGlmIG5lY2Vzc2FyeVxuICAgICAgICAvLyBUaGVuIGNvbXB1dGUgaXQgdXNpbmcgdGhlIGJpbmFyeSBmdW5jdGlvblxuICAgICAgICByZXR1cm4gU3BhcmtNRDUuaGFzaEJpbmFyeSh0b1V0Zjgoc3RyKSwgcmF3KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgYmluYXJ5IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSAgY29udGVudCBUaGUgYmluYXJ5IHN0cmluZ1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd10gICAgIFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1Lmhhc2hCaW5hcnkgPSBmdW5jdGlvbiAoY29udGVudCwgcmF3KSB7XG4gICAgICAgIHZhciBoYXNoID0gbWQ1MShjb250ZW50KSxcbiAgICAgICAgICAgIHJldCA9IGhleChoYXNoKTtcblxuICAgICAgICByZXR1cm4gcmF3ID8gaGV4VG9CaW5hcnlTdHJpbmcocmV0KSA6IHJldDtcbiAgICB9O1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBTcGFya01ENSBPT1AgaW1wbGVtZW50YXRpb24gZm9yIGFycmF5IGJ1ZmZlcnMuXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBjbGFzcyB0byBwZXJmb3JtIGFuIGluY3JlbWVudGFsIG1kNSBPTkxZIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAvLyBjYWxsIHJlc2V0IHRvIGluaXQgdGhlIGluc3RhbmNlXG4gICAgICAgIHRoaXMucmVzZXQoKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhbiBhcnJheSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnIgVGhlIGFycmF5IHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENS5BcnJheUJ1ZmZlcn0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoYXJyKSB7XG4gICAgICAgIHZhciBidWZmID0gY29uY2F0ZW5hdGVBcnJheUJ1ZmZlcnModGhpcy5fYnVmZi5idWZmZXIsIGFyciwgdHJ1ZSksXG4gICAgICAgICAgICBsZW5ndGggPSBidWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgdGhpcy5fbGVuZ3RoICs9IGFyci5ieXRlTGVuZ3RoO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IGxlbmd0aDsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgbWQ1YmxrX2FycmF5KGJ1ZmYuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IChpIC0gNjQpIDwgbGVuZ3RoID8gbmV3IFVpbnQ4QXJyYXkoYnVmZi5idWZmZXIuc2xpY2UoaSAtIDY0KSkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoZXMgdGhlIGluY3JlbWVudGFsIGNvbXB1dGF0aW9uLCByZXNldGluZyB0aGUgaW50ZXJuYWwgc3RhdGUgYW5kXG4gICAgICogcmV0dXJuaW5nIHRoZSByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IHJhdyBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZW5kID0gZnVuY3Rpb24gKHJhdykge1xuICAgICAgICB2YXIgYnVmZiA9IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGggPSBidWZmLmxlbmd0aCxcbiAgICAgICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgcmV0O1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IGJ1ZmZbaV0gPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENS5BcnJheUJ1ZmZlcn0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9IG5ldyBVaW50OEFycmF5KDApO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHN0YXRlID0gU3BhcmtNRDUucHJvdG90eXBlLmdldFN0YXRlLmNhbGwodGhpcyk7XG5cbiAgICAgICAgLy8gQ29udmVydCBidWZmZXIgdG8gYSBzdHJpbmdcbiAgICAgICAgc3RhdGUuYnVmZiA9IGFycmF5QnVmZmVyMlV0ZjhTdHIoc3RhdGUuYnVmZik7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENS5BcnJheUJ1ZmZlcn0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICAvLyBDb252ZXJ0IHN0cmluZyB0byBidWZmZXJcbiAgICAgICAgc3RhdGUuYnVmZiA9IHV0ZjhTdHIyQXJyYXlCdWZmZXIoc3RhdGUuYnVmZiwgdHJ1ZSk7XG5cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZS5jYWxsKHRoaXMsIHN0YXRlKTtcbiAgICB9O1xuXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmRlc3Ryb3kgPSBTcGFya01ENS5wcm90b3R5cGUuZGVzdHJveTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5fZmluaXNoID0gU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2g7XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgbWQ1IGhhc2ggb24gYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSBidWZmZXJcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59ICAgICBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggb25lXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5oYXNoID0gZnVuY3Rpb24gKGFyciwgcmF3KSB7XG4gICAgICAgIHZhciBoYXNoID0gbWQ1MV9hcnJheShuZXcgVWludDhBcnJheShhcnIpKSxcbiAgICAgICAgICAgIHJldCA9IGhleChoYXNoKTtcblxuICAgICAgICByZXR1cm4gcmF3ID8gaGV4VG9CaW5hcnlTdHJpbmcocmV0KSA6IHJldDtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFNwYXJrTUQ1O1xufSkpO1xuIiwiaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIEFkYXB0ZWQgZnJvbSBjb2xvciBwYWxldHRlIGZyb20gRmlndXJlIDIgKENvbG9ycyBvcHRpbWl6ZWQgZm9yIGNvbG9yLWJsaW5kXG4gKiBpbmRpdmlkdWFscykgZnJvbVxuICogW1wiUG9pbnRzIG9mIHZpZXc6IENvbG9yIGJsaW5kbmVzc1wiIGJ5IEJhbmcgV29uZyBwdWJsaXNoZWQgaW4gTmF0dXJlIE1ldGhvZHMgdm9sdW1lIDggb24gMjcgTWF5IDIwMTFdKGh0dHBzOi8vd3d3Lm5hdHVyZS5jb20vYXJ0aWNsZXMvbm1ldGguMTYxOD9XVC5lY19pZD1OTUVUSC0yMDExMDYpXG4gKi9cbmNvbnN0IENvbG9yUGFsZXR0ZTogc3RyaW5nW10gPSBbXG4gICdyZ2IoMjMwLCAxNTksIDApJyxcbiAgJ3JnYig4NiwgMTgwLCAyMzMpJyxcbiAgJ3JnYigwLCAxNTgsIDExNSknLFxuICAncmdiKDI0MCwgMjI4LCA2NiknLFxuICAncmdiKDAsIDExNCwgMTc4KScsXG4gICdyZ2IoMjEzLCA5NCwgMCknLFxuICAncmdiKDIwNCwgMTIxLCAxNjcpJ1xuXTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGhpZ2hsaWdodCBmcm9tIGEgc3RhZmYuXG4gKiBAcGFyYW0gc3RhZmYgSWYgdW5kZWZpbmVkLCB0aGUgYWxsIHN0YXZlcyBhcmUgdW5oaWdobGlnaHRlZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuaGlnaGxpZ2h0KHN0YWZmPzogU1ZHR0VsZW1lbnQpOiB2b2lkIHtcbiAgbGV0IGNoaWxkcmVuOiBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICBpZiAoc3RhZmYpIHtcbiAgICBjaGlsZHJlbiA9IHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJzpub3QoLnNlbGVjdGVkKSAuaGlnaGxpZ2h0ZWQnKTtcbiAgfSBlbHNlIHtcbiAgICBjaGlsZHJlbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJzpub3QoLnNlbGVjdGVkKSAuaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBjaGlsZHJlbi5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLnRhZ05hbWUgPT09ICdwYXRoJyAmJiAhZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzAwMDAwMCcpO1xuICAgIH0gZWxzZSBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSAmJiAhZWxlbS5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGVsZW0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnIzAwMDAwMCcpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICBsZXQgcmVjdHMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlY3RzID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICAgLy8gcmVjdC5jbG9zZXN0KCcubGF5ZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKXtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gZWFjaCBzdGFmZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuaGlnaGxpZ2h0KCk7XG59XG5cbi8qKlxuICogVW5zZXQgaGlnaGxpZ2h0IGZvciBhbGwgZ3JvdXBpbmcgdHlwZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuc2V0U3RhZmZIaWdobGlnaHQoKTtcbiAgY29uc3QgaGlnaGxpZ2h0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodGVkJykpXG4gICAgLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+ICFlbGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKTtcbiAgaGlnaGxpZ2h0ZWQuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgnI2QwMCcsIG51bGwpO1xuICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgaWYgKGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fCBcbiAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgKXtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgfVxuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICB9KTtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKS5mb3JFYWNoKChlbCkgPT4geyBlbC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnJyk7IH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBhIHN0YWZmIGEgY2VydGFpbiBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodChzdGFmZjogU1ZHR0VsZW1lbnQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmLmNoaWxkcmVuKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdwYXRoJykge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZVBvaW50JykgfHwgY2hpbGQuaWQgPT09ICdyZXNpemVSZWN0JyB8fCBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JvdGF0ZVBvaW50JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJykubGVuZ3RoICYmXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHQtc2VsZWN0ZWQnKVswXS5pZCA9PT0gJ2hpZ2hsaWdodC1uZXVtZSdcbiAgICAgICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSkuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBjb2xvcik7XG4gICAgICBsZXQgcmVjdHMgPSBjaGlsZC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWN0cyA9IGNoaWxkLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCEocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkpIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBjb2xvcjtcbiAgICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICB9XG4gIGxldCB3aWR0aCwgaGVpZ2h0O1xuICAvKnRyeSB7XG4gICAgd2lkdGggPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLnNwbGl0KCdweCcpWzBdKTtcbiAgICBoZWlnaHQgPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKS5zcGxpdCgncHgnKVswXSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmRlYnVnKGUpO1xuICB9Ki9cbiAgbGV0IHN0cm9rZTogc3RyaW5nO1xuICBpZiAod2lkdGggIT09IHVuZGVmaW5lZCAmJiBoZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGlkayBsb29rcyBnb29kIDonKVxuICAgIC8vIFRPRE8gZmluZCBhIGJldHRlciB3YXkgb2YgY2FsY3VsYXRpbmcgdGhpcyBhcyB0aGlzIGFjdHVhbGx5IGRvZXNuJ3Qgd29yayBhcyB3ZWxsIGFzIDMwcHhcbiAgICBzdHJva2UgPSAod2lkdGggKiBoZWlnaHQgLyAxMDAwMDAwKS50b1N0cmluZygpO1xuICB9XG4gIGVsc2Uge1xuICAgIHN0cm9rZSA9ICczMHB4JztcbiAgfVxuICBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgc3Ryb2tlKTtcbiAgfSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0IGVhY2ggc3RhZmYgYSBkaWZmZXJlbnQgY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTdGFmZkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFmZicpKSBhcyBTVkdHRWxlbWVudFtdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IHN0YXZlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YWZmQ29sb3IgPSBDb2xvclBhbGV0dGVbaSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGhpZ2hsaWdodChzdGF2ZXNbaV0sIHN0YWZmQ29sb3IpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IGEgaGlnaGxpZ2h0IGJ5IGEgZGlmZmVyZW50IGdyb3VwaW5nLlxuICogQHBhcmFtIGdyb3VwaW5nIC0gRWl0aGVyIFwic3RhZmZcIiwgXCJzeWxsYWJsZVwiLCBcIm5ldW1lXCIsIFwic2VsZWN0aW9uXCIsIG9yIFwibGF5ZXJFbGVtZW50XCIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZzogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIHVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgaWYgKGdyb3VwaW5nID09PSAnc3RhZmYnKSB7XG4gICAgc2V0U3RhZmZIaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH0gZWxzZSBpZiAoZ3JvdXBpbmcgPT09ICdzZWxlY3Rpb24nKSB7XG4gICAgY29uc3QgdGVtcCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWwtYnkuaXMtYWN0aXZlJykuaWQ7XG4gICAgc3dpdGNoICh0ZW1wKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N5bGxhYmxlJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnc3RhZmYnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgICAgZ3JvdXBpbmcgPSAnbGF5ZXJFbGVtZW50JztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGdyb3VwaW5nID0gJ25ldW1lJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwaW5nKTtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGdyb3VwcztcblxuICBpZiAoZ3JvdXBpbmcgPT0gJ2xheWVyRWxlbWVudCcpIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuYWNjaWQsIC5jbGVmLCAuY3VzdG9zLCAuZGl2TGluZScpO1xuICB9XG4gIGVsc2Uge1xuICAgIGdyb3VwcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoZ3JvdXBpbmcpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+O1xuICB9XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkLCAuZGl2TGluZScpLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICB9KTtcblxuICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGdyb3VwQ29sb3IgPSBDb2xvclBhbGV0dGVbaSAlIENvbG9yUGFsZXR0ZS5sZW5ndGhdO1xuICAgIGlmICgoZ3JvdXBzW2ldLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSAmJiAhZ3JvdXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsIGdyb3VwQ29sb3IpO1xuICAgICAgY29uc3QgcmVjdHMgPSBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PjtcbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3QpIHtcbiAgICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9IGdyb3VwQ29sb3I7XG4gICAgICB9KTtcbiAgICAgIGdyb3Vwc1tpXS5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghZ3JvdXBzW2ldLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgbnVsbCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgJyNkMDAnKTtcbiAgICAgIH1cbiAgICAgIGdyb3Vwc1tpXS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH1cblxuICAgIGlmIChncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGdyb3VwQ29sb3IpO1xuICAgIH1cbiAgfVxuICBcbn1cbiIsIi8qKiBAbW9kdWxlIERpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMgKi9cblxuaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi4vdXRpbHMvQ29sb3InO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4uL1NpbmdsZVZpZXcvWm9vbSc7XG5pbXBvcnQgeyBHcm91cGluZ1R5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncywgc2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxubGV0IGxhc3RHbHlwaE9wYWNpdHk6IG51bWJlciwgbGFzdEltYWdlT3BhY2l0eTogbnVtYmVyO1xuXG4vKipcbiAqIFNldCB6b29tIGNvbnRyb2wgbGlzdGVuZXIgZm9yIGJ1dHRvbiBhbmQgc2xpZGVyXG4gKiBAcGFyYW0gem9vbUhhbmRsZXIgLSBBIFtbWm9vbUhhbmRsZXJdXSBpcyBvbmx5IG5lY2Vzc2FyeSBpbiBTaW5nbGUgUGFnZSBtb2RlIGFzIGRpdmEuanMgaGFuZGxlcyB6b29taW5nIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFpvb21Db250cm9scyAoem9vbUhhbmRsZXI/OiBab29tSGFuZGxlcik6IHZvaWQge1xuICBpZiAoem9vbUhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB6b29tU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21TbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCB6b29tT3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21PdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IHpvb20gfSA9IGdldFNldHRpbmdzKCk7XG4gIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gIHpvb21IYW5kbGVyLnpvb21Ubyh6b29tIC8gMTAwLjApO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtem9vbScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTAwJztcbiAgICB6b29tU2xpZGVyLnZhbHVlID0gJzEwMCc7XG4gICAgem9vbUhhbmRsZXIucmVzZXRab29tQW5kUGFuKCk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXQtem9vbS1lYXN5LWVkaXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gJzE4MCc7XG4gICAgem9vbVNsaWRlci52YWx1ZSA9ICcxODAnO1xuICAgIHpvb21IYW5kbGVyLnpvb21UbygxODAvMTAwKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VIYW5kbGVyICgpOiB2b2lkIHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gem9vbVNsaWRlci52YWx1ZTtcbiAgICB6b29tSGFuZGxlci56b29tVG8oTnVtYmVyKHpvb21PdXRwdXQudmFsdWUpIC8gMTAwLjApO1xuICB9XG5cbiAgLy8gem9vbVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0Q2hhbmdlSGFuZGxlcik7XG4gIHpvb21TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGlucHV0Q2hhbmdlSGFuZGxlcik7XG4gIHpvb21TbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcblxuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgY29uc3QgY3VycmVudFpvb20gPSBwYXJzZUludCh6b29tT3V0cHV0LnZhbHVlKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0Fycm93VXAnIHx8IGV2dC5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IFxuICAgIGV2dC5rZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCBldnQua2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnKycpIHsgLy8gaW5jcmVhc2Ugem9vbSBieSAyMFxuICAgICAgY29uc3QgbmV3Wm9vbSA9IE1hdGgubWluKGN1cnJlbnRab29tICsgMjAsIHBhcnNlSW50KHpvb21TbGlkZXIuZ2V0QXR0cmlidXRlKCdtYXgnKSkpO1xuICAgICAgem9vbUhhbmRsZXIuem9vbVRvKG5ld1pvb20gLyAxMDAuMCk7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdfJykgeyAvLyBkZWNyZWFzZSB6b29tIGJ5IDIwXG4gICAgICBjb25zdCBuZXdab29tID0gTWF0aC5tYXgoY3VycmVudFpvb20gLSAyMCwgcGFyc2VJbnQoem9vbVNsaWRlci5nZXRBdHRyaWJ1dGUoJ21pbicpKSk7XG4gICAgICB6b29tSGFuZGxlci56b29tVG8obmV3Wm9vbSAvIDEwMC4wKTtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJzAnKSB7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gJzEwMCc7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gJzEwMCc7XG4gICAgICB6b29tSGFuZGxlci5yZXNldFpvb21BbmRQYW4oKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBNRUkgb3BhY2l0eSB0byB2YWx1ZSBmcm9tIHRoZSBzbGlkZXIuXG4gKiBAcGFyYW0gbWVpQ2xhc3NOYW1lIC0gQ2xhc3MgdGhhdCBjb250YWlucyB0aGUgcmVuZGVyZWQgTUVJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0T3BhY2l0eUZyb21TbGlkZXIgKG1laUNsYXNzTmFtZT86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcbiAgY29uc3Qgb3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gb3BhY2l0eU91dHB1dC52YWx1ZTtcbiAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBsb2FkIGdseXBoIG9wYWNpdHkgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gcGFnZS1sb2FkXG4gIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRvZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUdseXBoc0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtZ2x5cGgtb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gIH1cblxuICB0cnkge1xuICAgICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDAuMCkudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIHByb3Blcmx5IHNldCBvcGFjaXR5IHRvIHBhZ2VzJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgcmVuZGVyZWQgTUVJIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZnVuY3Rpb24gc2V0T3BhY2l0eUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGdseXBoT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEdseXBoT3BhY2l0eSA9IGdseXBoT3BhY2l0eTtcbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VPcGFjaXR5ICgpOiB2b2lkIHtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gb3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldE9wYWNpdHlGcm9tU2xpZGVyKG1laUNsYXNzTmFtZSk7XG4gIH1cblxuICBjb25zdCB0b2dnbGVPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1nbHlwaC1vcGFjaXR5Jyk7XG5cbiAgaWYgKGdseXBoT3BhY2l0eSA9PSAxMDApIHtcbiAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICB9XG5cbiAgdG9nZ2xlT3BhY2l0eUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcbiAgICBpZiAodG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtaWNvbicpKSB7XG4gICAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgICAgIG5ld09wYWNpdHkgPSAxO1xuICAgIH1cblxuICAgIC8vIERlZmluaXRpb24gc2NhbGUgaXMgdGhlIHJvb3QgZWxlbWVudCBvZiB3aGF0IGlzIGdlbmVyYXRlZCBieSB2ZXJvdmlvXG4gICAgXG4gICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbWVpQ2xhc3NOYW1lKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IG5ld09wYWNpdHkudG9TdHJpbmcoKTtcbiAgICB9KTtcblxuICAgIGxhc3RHbHlwaE9wYWNpdHkgPSBOdW1iZXIob3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdPcGFjaXR5ICogMTAwKTtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3T3BhY2l0eSAqIDEwMCkpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBnbHlwaE9wYWNpdHk6IG5ld09wYWNpdHkgKiAxMDAgfSk7XG5cbiAgICBpbnB1dENoYW5nZU9wYWNpdHkoKTtcbiAgfSk7XG5cbiAgb3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0Q2hhbmdlT3BhY2l0eSk7XG4gIG9wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaW5wdXRDaGFuZ2VPcGFjaXR5KTtcblxuICBvcGFjaXR5U2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBTZXQgYmFja2dyb3VuZCBpbWFnZSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBiYWNrZ3JvdW5kIC0gVGhlIGJhY2tncm91bmQgaW1hZ2Ugc2VsZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIHNldEJhY2tncm91bmRPcGFjaXR5Q29udHJvbHMgKGJhY2tncm91bmQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgYmdPcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnT3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgaW1hZ2VPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0SW1hZ2VPcGFjaXR5ID0gaW1hZ2VPcGFjaXR5O1xuICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gYmdJbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IGJnT3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0QmdPcGFjaXR5RnJvbVNsaWRlcihiYWNrZ3JvdW5kKTtcbiAgfVxuXG5cbiAgY29uc3QgdG9nZ2xlQmdPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iZy1vcGFjaXR5Jyk7XG5cbiAgaWYgKGltYWdlT3BhY2l0eSA9PSAxMDApIHtcbiAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVCZ09wYWNpdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcblxuICAgIGlmICh0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhY2tncm91bmQpWzBdIGFzIEhUTUxFbGVtZW50KVxuICAgICAgLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG5cbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgYmdPcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgaW1hZ2VPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuICAgIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcblxuICBiZ09wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QmdPcGFjaXR5RnJvbVNsaWRlciAoYmFja2dyb3VuZD86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQ6IEhUTUxPdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JnT3BhY2l0eU91dHB1dCcpO1xuICBcbiAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0aWdnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVHbHlwaHNJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9nZ2xlLWJnLW9wYWNpdHkgPiBpbWcnKTtcbiAgaWYgKE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gIH1cblxuICBjb25zdCBiZzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtiYWNrZ3JvdW5kfWApO1xuICBpZiAoYmcpIGJnLnN0eWxlLm9wYWNpdHkgPSBTdHJpbmcoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDApO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uICsgZGlzcGxheVxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG4gIGNvbnN0IGhpZ2hsaWdodFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKTtcblxuICAvLyBzYXZlIGhpZ2hsaWdodCBvcHRpb24gdG8gbG9jYWxTdG9yYWdlXG4gIHNldFNldHRpbmdzKHsgaGlnaGxpZ2h0TW9kZTogZ3JvdXAgfSk7XG5cbiAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gIH0pO1xuXG4gIGlmIChncm91cCA9PT0gJ25vbmUnKSB7XG4gICAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9ICdcXHhBMC0gT2ZmJztcbiAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG5cbiAgLy8gVGV4dCBjb250ZW50IGlzIHRoZSBncm91cGluZyB0eXBlIGNhcGl0YWxpemVkXG4gIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7Z3JvdXBbMF0udG9VcHBlckNhc2UoKSArIGdyb3VwLnNsaWNlKDEpfWA7XG4gIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgaGlnaGxpZ2h0IG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0VHlwZSAoKTogR3JvdXBpbmdUeXBlIHtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuICByZXR1cm4gaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudC5zbGljZSgzKS50b0xvd2VyQ2FzZSgpIGFzIEdyb3VwaW5nVHlwZTtcbn1cblxuLyoqXG4gKiBTZXQgY2xpY2sgbGlzdGVuZXIgZm9yIGVhY2ggaGlnaGxpZ2h0IGRyb3Bkb3duIG9wdGlvblxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodE9wdGlvbiAoZ3JvdXA6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlnaGxpZ2h0LSR7Z3JvdXB9YCk7XG4gIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oZ3JvdXApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGlja2F3YXkgbGlzdGVuZXIgZm9yIHRoZSBoaWdobGlnaHQgZHJvcGRvd24uXG4gKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodENsaWNrYXdheSAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIHN0YWZmIGhpZ2hsaWdodGluZyBjaGVja2JveC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodENvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgaWYgKGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuXG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICAqIFNldCBsaXN0ZW5lciBvbiBrZXkgc2hvcnRjdXRzIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBoaWdobGlnaHRzXG4gICogXG4gICogVGhlIGN1cnJlbnQgcGxhbiBpcyB0byB1c2UgdGhlIGtleXMgcSwgdywgZSwgciwgdCwgYW5kIHlcbiAgKi9cbmZ1bmN0aW9uIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIC8vIFByZXZlbnQgY21kL2N0cmwrciBmcm9tIGNoYW5naW5nIGhpZ2hsaWdodCBvcHRpb25cbiAgICBpZiAoZXZ0Lm1ldGFLZXkpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgY2FzZSAncSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncic6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBoaWdobGlnaHRTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXNlbGVjdGlvbicpO1xuICBoaWdobGlnaHRTZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgICBoaWdobGlnaHRTZWxlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSAnIC0gU2VsZWN0aW9uJztcbiAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBoaWdobGlnaHQgZm9yIGRpZmZlcmVudCB0eXBlcyBiYXNlZCBvbiB0aGUgJ2hpZ2hsaWdodC1zZWxlY3RlZCcgY2xhc3MgaW4gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUhpZ2hsaWdodCAoKTogdm9pZCB7XG4gIGxldCBoaWdobGlnaHRJZDogc3RyaW5nO1xuICB0cnkge1xuICAgIGhpZ2hsaWdodElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaGlnaGxpZ2h0SWQgPSAnJztcbiAgfVxuICBzd2l0Y2ggKGhpZ2hsaWdodElkKSB7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN0YWZmJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN5bGxhYmxlJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LW5ldW1lJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWxheWVyRWxlbWVudCc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc2VsZWN0aW9uJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzZWxlY3Rpb24nKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gYnVyZ2VyIG1lbnUgZm9yIHNtYWxsZXIgc2NyZWVucy5cbiAqL1xuZnVuY3Rpb24gc2V0QnVyZ2VyQ29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdk1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgfSk7XG59XG5cbi8qKiBcbiAqIFNldCBsaXN0ZW5lciBmb3IgXCJEaXNwbGF5IEFsbFwiIGJ1dHRvbiBpbiBEaXNwbGF5IHBhbmVsLlxuKi9cbmZ1bmN0aW9uIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0QWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktYWxsLWJ0bicpO1xuICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gYXQgdGhlIG1vbWVudCwgY2xhc3NuYW1lICdzZWxlY3RlZCcgaXMgb25seSB1c2VkIGZvciB0cmFja2luZyBwdXJwb3Nlc1xuICAgIGlmIChzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyID4gLmNoZWNrYm94Jyk7XG5cbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyID4gLmNoZWNrYm94Jyk7XG4gICAgICBcbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBMb2FkIGhpZ2hsaWdodCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEhpZ2hsaWdodFNldHRpbmdzICgpOiB2b2lkIHtcbiAgY29uc3QgeyBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICB1cGRhdGVIaWdobGlnaHRPcHRpb24oaGlnaGxpZ2h0TW9kZSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBsaXN0ZW5lcnMgYW5kIGNvbnRyb2xzIGZvciBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laUNsYXNzTmFtZSAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZml5IHRoZSBNRUkgZWxlbWVudChzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIHVzZWQgdG8gc2lnbmlmeSB0aGUgYmFja2dyb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcbiAgc2V0T3BhY2l0eUNvbnRyb2xzKG1laUNsYXNzTmFtZSk7XG4gIHNldEJhY2tncm91bmRPcGFjaXR5Q29udHJvbHMoYmFja2dyb3VuZCk7XG4gIHNldEhpZ2hsaWdodENvbnRyb2xzKCk7XG4gIHNldEJ1cmdlckNvbnRyb2xzKCk7XG4gIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzKCk7XG4gIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpO1xuICBsb2FkSGlnaGxpZ2h0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUNvbnRlbnRzJyk7XG4gIGNvbnN0IHRvZ2dsZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRGlzcGxheScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlIZWFkZXInKTtcblxuICBkaXNwbGF5SGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICBkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZGlzcGxheSBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG59XG5cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTZXRUZXh0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGhvdGtleXNNb2RhbCwgZWRpdFRleHRNb2RhbCB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgdXBsb2FkQXJlYUhUTUwgfSBmcm9tICcuLi9EYXNoYm9hcmQvZGFzaGJvYXJkX2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgdXBkYXRlU2VsZWN0ZWRCQm94IH0gZnJvbSAnLi4vVGV4dEVkaXRNb2RlJztcblxuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBFRElUX1RFWFQsXG4gIEhPVEtFWVMsXG4gIFZBTElEQVRJT05fU1RBVFVTLFxuICBET0NVTUVOVF9VUExPQURcbn1cblxuZW51bSBNb2RhbFdpbmRvd1N0YXRlIHtcbiAgT1BFTixcbiAgQ0xPU0VEXG59XG5cblxuXG4vKipcbiAqIE1vZGFsIGNsYXNzIGlzIHVzZWQgdG8gY3JlYXRlIGFuZCBjb250cm9sIHN0YXRlL2NvbnRlbnQgXG4gKiBvZiBtb2RhbCB3aW5kb3dzIGluIE5lb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RhbFdpbmRvdyBpbXBsZW1lbnRzIE1vZGFsV2luZG93SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1ZpZXc6IE1vZGFsV2luZG93VmlldzsgLy8gY3VycmVudCBtb2RhbCB0eXBlXG4gIHByaXZhdGUgbW9kYWxXaW5kb3dTdGF0ZTogTW9kYWxXaW5kb3dTdGF0ZTsgLy8gb3BlbiBvciBjbG9zZWQ/XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3OyAvLyBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0XG5cblxuICAvKipcbiAgICogU2V0IG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHQgZm9yIHRoaXMgbW9kYWwgd2luZG93IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gbmVvblZpZXcgbmVvblZpZXcgY29udGV4dCBmb3IgTW9kYWwgaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldz86IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuXG4gICAgLy8gc2V0IGV2ZW50IGxpc3RlbmVycyB0aGF0IGFwcGx5IHRvIGFsbCBtb2RhbCB3aW5kb3dzXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIFxuXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbW9kYWwgdmlldyBvZiB0aGlzIE1vZGFsIGluc3RhbmNlLlxuICAgKiBVcGRhdGUgdGhlIGNvbnRlbnQgYmFzZWQgb24gcGFzc2VkIHZpZXcuXG4gICAqIEBwYXJhbSB2aWV3IFR5cGUgb2YgbW9kYWwgdG8gb3BlbiAoTW9kYWxWaWV3IGVudW0pXG4gICAqL1xuICBzZXRNb2RhbFdpbmRvd1ZpZXcodmlldzogTW9kYWxXaW5kb3dWaWV3LCBjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1ZpZXcgPSB2aWV3O1xuICAgIHRoaXMuc2V0TW9kYWxXaW5kb3dDb250ZW50KGNvbnRlbnQpO1xuICB9XG5cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IG1vZGFsIHZpZXcgYXMgYSBzdHJpbmdcbiAgICovXG4gIGdldE1vZGFsV2luZG93VmlldygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm1vZGFsV2luZG93Vmlldy50b1N0cmluZygpO1xuICB9XG5cblxuICAvKipcbiAgICogT3BlbiBhIG1vZGVsIHdpbmRvdyB3aXRoIGNvbnRlbnQgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IE1vZGFsVmlldy5cbiAgICovXG4gIG9wZW5Nb2RhbFdpbmRvdygpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG4gICAgc3dpdGNoKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgdGhpcy5vcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAgIC8vIGFkZCBmdW5jdGlvbiB0byBwYWlyaW5nIGJ1dHRvblxuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB1c2VyIGNhbid0IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5PUEVOO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb25zdCBzcGFuID0gKDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgXG4gICAgICAgIC8vIGFmdGVyIHRoZSBtb2RhbCBpcyBjbG9zZWQsIG5vIGtleWJvYXJkIHNob3J0Y3V0cyB3b3JrIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIGRvY3VtZW50IGhhc24ndCBiZWVuIGZvY3VzZWQ7IHRoaXMgZm9yY2VmdWxseSBmb2N1c2VzIHRoZSBjb250YWluZXJcbiAgICAgICAgaWYgKHRoaXMubW9kYWxXaW5kb3dWaWV3ICE9PSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9IFxuICAgIC8vIHJlc2V0IHNjcm9sbCBiZWhhdmlvciBvZiBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgc3dpdGNoICh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnRURJVCBTWUxMQUJMRSBURVhUJztcblxuICAgICAgICAvLyBzcGFuIGFuZCBjdXJyZW50IHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZSBhbmQgZmlsdGVyIG91dCB1bndhbnRlZCBjaGFyc1xuICAgICAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF07XG4gICAgICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG5cbiAgICAgICAgLy8gc2V0IHZhbHVlIG9mIGlucHV0IGZpZWxkIHRvIGN1cnJlbnQgc3lsbGFibGUgdGV4dFxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpKS52YWx1ZSA9IG9yaWc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnSE9US0VZUyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5WQUxJREFUSU9OX1NUQVRVUzpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gXG4gICAgICAgICAgYDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAzMHB4O3doaXRlLXNwYWNlOiBwcmUtbGluZTtcIj4ke2NvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiPlxuICAgICAgICAgICAgPGEgaHJlZj1cImRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfVwiIGRvd25sb2FkPVwidmFsaWRhdGlvbi5sb2dcIj5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJykuaW5uZXJUZXh0ID0gJ0VSUk9SIExPRyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnRE9DVU1FTlQgVVBMT0FEJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gdXBsb2FkQXJlYUhUTUw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlLiBUaGlzIHNob3VsZCBub3QgaGF2ZSBvY2N1cnJlZC4nKTtcbiAgICB9IFxuICB9XG5cblxuICAvKipcbiAgICogRmlsbCBtb2RhbCB3aW5kb3cgd2l0aCBjb250ZW50IGZvciB1cGRhdGluZyBzeWxsYWJsZSB0ZXh0XG4gICAqL1xuICBwcml2YXRlIG9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93ID0gZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goIChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9KTtcblxuICAgIC8vIHNldCB1cCBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtZWRpdC10ZXh0JykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgIFxuICAgIC8vIFJlc2V0IFwiQ2FuY2VsXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWNhbmNlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBSZXNldCBcIlNhdmVcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmUnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlU3lsVGV4dC5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlU3lsVGV4dC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGRpc3BsYXkgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGVzIHdpdGggdXNlci1wcm92aWRlZCB0ZXh0XG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVN5bFRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gc3BhbiBhbmQgY3VycmVudCB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGUgYW5kIGZpbHRlciBvdXQgdW53YW50ZWQgY2hhcnNcbiAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF07XG4gICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgIGNvbnN0IG9yaWcgPSBzcGFuLnRleHRDb250ZW50LnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xuICAgIGNvbnN0IHVwZGF0ZWRTeWxUZXh0ID0gKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpLnZhbHVlO1xuXG4gICAgaWYgKHVwZGF0ZWRTeWxUZXh0ICE9PSBudWxsICYmIHVwZGF0ZWRTeWxUZXh0ICE9PSBvcmlnKSB7XG4gICAgICAvLyBjcmVhdGUgXCJzZXQgdGV4dFwiIGFjdGlvblxuICAgICAgY29uc3QgZWxlbWVudElkID0gWy4uLnNwYW4uY2xhc3NMaXN0LmVudHJpZXMoKV0uZmlsdGVyKChjbGFzc05hbWUpID0+IGNsYXNzTmFtZVsxXSAhPT0gJ3RleHQtc2VsZWN0JyAmJiBjbGFzc05hbWVbMV0gIT09ICdzZWxlY3RlZC10by1lZGl0JylbMF1bMV07XG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNldFRleHRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldFRleHQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkLFxuICAgICAgICAgIHRleHQ6IHVwZGF0ZWRTeWxUZXh0LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIC8vIHNlbmQgYWN0aW9uIHRvIHZlcm92aW8gZm9yIHByb2Nlc3NpbmdcbiAgICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXNwb25zZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIFNWR1xuICAgICAgICAgIHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEFuIHVwZGF0ZSB0byB0aGUgcGFnZSB3aWxsIHJlbG9hZCB0aGUgZW50aXJlIHN2ZztcbiAgICAgICAgICAgIC8vIFdlIHdvdWxkIGxpa2UgdG8gdGhlbiByZXNlbGVjdCB0aGUgc2FtZSBzZWxlY3RlZCBzeWxsYWJsZVxuICAgICAgICAgICAgLy8gaWYgYmJveGVzIGFyZSBlbmFibGVkXG4gICAgICAgICAgICB1cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjbG9zZSBtb2RhbCB3aW5kb3dcbiAgICB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggaG90a2V5IGluZm8gY29udGVudFxuICAgKi9cbiAgLypcbiAgcHJpdmF0ZSBvcGVuSG90a2V5TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHsgICBcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcbiAgKi9cblxuXG4gIC8qKlxuICAgKiBEZWZpbmUgZXZlbnQgbGlzdGVuZXJzIGZvciBtb2RhbCB3aW5kb3cgYmFzZWQgb24gbW9kYWxWaWV3IHR5cGVcbiAgICovXG4gIHByaXZhdGUga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgTmVvbiBob3RrZXkgZXZlbnRzIGZyb20gZmlyaW5nIHdoZW4gdXNlciBpcyB0eXBpbmdcblxuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMudXBkYXRlU3lsVGV4dCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gIFxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIHRoYXQgZm9jdXNlcyB0aGUgbW9kYWwgd2luZG93IGlmIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgaXRcbiAgICovXG4gIHByaXZhdGUgZm9jdXNNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkuc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxufVxuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IERyYWdBY3Rpb24sIEVkaXRvckFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGlzT3V0T2ZTVkdCb3VuZHMsIGdldEdseXBoQkJveCB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBzZWxlY3RBbGwsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmNsYXNzIERyYWdIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICBwcml2YXRlIHNlbGVjdG9yOiBzdHJpbmc7XG4gIHByaXZhdGUgc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgcHJpdmF0ZSBub01vdmVQcmVjZWRlczogU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgcHJpdmF0ZSBkcmFnU3RhcnRDb29yZHM6IFtudW1iZXIsIG51bWJlcl0gPSBbLTEsIC0xXTtcbiAgcHJpdmF0ZSByZXNldFRvQWN0aW9uOiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgZHg6IG51bWJlcjtcbiAgcHJpdmF0ZSBkeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3Igb2YgZWxlbWVudCB0byBhcHBseSBkcmFnIGhhbmRsZXIgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBkcmFnZ2luZyBhY3Rpb24gYW5kIGhhbmRsZXIgZm9yIHNlbGVjdGVkIGVsZW1lbnRzLlxuICAgKi9cbiAgZHJhZ0luaXQgKCk6IHZvaWQge1xuICAgIC8vIERyYWcgZWZmZWN0c1xuICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkICgpOiB2b2lkIHtcbiAgICAgIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzID0gW2QzLmV2ZW50LngsIGQzLmV2ZW50LnldO1xuICAgICAgdGhpcy5keCA9IDA7XG4gICAgICB0aGlzLmR5ID0gMDtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZGluZyBsaXN0ZW5lcnNcbiAgICBjb25zdCBkcmFnQmVoYXZpb3VyID0gZDMuZHJhZygpXG4gICAgICAub24oJ3N0YXJ0JywgZHJhZ1N0YXJ0ZWQuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZHJhZycsIHRoaXMuZHJhZ2dpbmcuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZW5kJywgdGhpcy5kcmFnRW5kZWQuYmluZCh0aGlzKSk7XG5cbiAgICBjb25zdCBhY3RpdmVOYyA9IGQzLnNlbGVjdEFsbCgnLnNlbGVjdGVkJyk7XG4gICAgYWN0aXZlTmMuY2FsbChkcmFnQmVoYXZpb3VyKTtcblxuICAgIGxldCBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnNlbGVjdGVkJykpO1xuXG4gICAgLy8gaWYgdGhlIHVzZXIgZHJhZ3MgdGhlIGZvbGxvd3Mgc3lsbGFibGUgaW4gYSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLCBcbiAgICAvLyBjYW5jZWwgdGhlIGNvbXBlbnNhdGlvbiBmb3Igc3lsIG1vdmVtZW50IGluIGRyYWdnaW5nLlxuICAgIHRoaXMubm9Nb3ZlUHJlY2VkZXMgPSBzZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKTtcbiAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnJlc2l6ZVBvaW50JykpKTtcbiAgfVxuXG4gIGRyYWdnaW5nICgpOiB2b2lkIHtcbiAgICB0aGlzLmR4ID0gZDMuZXZlbnQueCAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdO1xuICAgIHRoaXMuZHkgPSBkMy5ldmVudC55IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV07XG5cbiAgICB0aGlzLm1vdmVFbGVtZW50cyh0aGlzLnNlbGVjdGlvbiwgdGhpcy5keCwgdGhpcy5keSk7XG5cbiAgICAvKlxuICAgICAqIGlmIHdlJ3JlIGRyYWdnaW5nIGEgc3lsbGFibGUgKG9yIG5ldW1lIGV0YykgdGhlbiB0aGVyZSB3b24ndCBiZSBhIHN5bCBzZWxlY3RlZFxuICAgICAqIHRoZW4gd2UgZG9uJ3Qgd2FudCB0aGUgYm91bmRpbmcgYm94IChpZiBpdCBpcyBkaXNwbGF5ZWQpIHRvIG1vdmUgd2hlbiBkcmFnZ2luZyB0aGUgbmV1bWVzXG4gICAgICogaXQgd2lsbCBiZSBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGluIHNlbGVjdGlvbiwgc28gaXQgd2lsbCBnZXQgbW92ZWQgaW4gdGhlIGFib3ZlIGxvb3BcbiAgICAgKiBzbyB3ZSBjYW5jZWwgdGhhdCBtb3ZlbWVudCBvdXQgaGVyZVxuICAgICAqL1xuICAgIGNvbnN0IHN5bHMgPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKTtcbiAgICBpZiAoc3lscy5sZW5ndGggPT09IDAgJiYgdGhpcy5ub01vdmVQcmVjZWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLm1vdmVFbGVtZW50cyhiYm94ZXMsIC10aGlzLmR4LCAtdGhpcy5keSk7XG4gICAgfVxuICB9XG5cblxuICBkcmFnRW5kZWQgKCk6IHZvaWQge1xuICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaGFzIG5vdCBiZWVuIG1vdmVkIG1vcmUgdGhhbiA1IHBpeGVscyBpbiBhbnkgZGlyZWN0aW9uLFxuICAgIC8vIGRvIG5vdCBkbyBhbnkgYWN0aW9uXG4gICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyh0aGlzLmR4KSwgeURpZmYgPSBNYXRoLmFicyh0aGlzLmR5KTtcbiAgICBpZiAoeERpZmYgPD0gNSAmJiB5RGlmZiA8PSA1KSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIHNlbGVjdGlvbiBmb3IgZHJhZ2dhYmxlIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSk7XG5cbiAgICAvLyBJZiB0aGUgY3Vyc29yIGlzIG91dCBvZiBib3VuZHMgb3IgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyBvdXQgb2YgYm91bmRzLFxuICAgIC8vIGRyYWcgYWN0aW9ucyBzaG91bGQgbm90IGhhcHBlbi4gUmV0dXJuIGFuIGVycm9yIG5vdGlmaWNhdGlvbiBhbmQgcmVzZXRcbiAgICAvLyB0aGUgZHJhZyBoYW5kbGVyXG4gICAgaWYgKHRoaXMuaXNDdXJzb3JPdXRPZkJvdW5kcygpIHx8IHRoaXMuaXNEcmFnT3V0T2ZCb3VuZHMoc2VsZWN0aW9uKSkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBzZWxlY3Rpb24gYmFjayB0byBub3JtYWwgc3RhdGVcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHModGhpcy5zZWxlY3Rpb24pO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveGVzIGFzIHdlbGxcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKGJib3hlcyk7XG5cbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBEcmFnIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBlZGl0b3IgYWN0aW9uIGZvciBzZWxlY3Rpb25cbiAgICBjb25zdCBwYXJhbUFycmF5OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBlbC50YWdOYW1lID09PSAncmVjdCcgPyBlbC5jbG9zZXN0KCcuc3lsJykuaWQgOiBlbC5pZDtcblxuICAgICAgY29uc3QgZHJhZ0FjdGlvbjogRHJhZ0FjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZHJhZycsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB4OiB0aGlzLmR4LFxuICAgICAgICAgIHk6IC10aGlzLmR5LFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwYXJhbUFycmF5LnB1c2goZHJhZ0FjdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogcGFyYW1BcnJheVxuICAgIH07XG5cbiAgICAvLyBTZW5kIGVkaXRvciBhY3Rpb25cbiAgICB0aGlzLm5lb25WaWV3XG4gICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBOZW9uIHJlLXJlbmRlcnMgdGhlIGVudGlyZSBTVkcsIGFuZCBoZW5jZSwgYmVmb3JlIHdlIGRvIHNvLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIGFsbCB0aGUgZWxlbWVudHMgKElEcykgd2UgbmVlZCB0byBzZWxlY3QgYWdhaW5cbiAgICAgICAgLy8gVGhlbiwgd2UgbmVlZCB0byByZXNlbGVjdCB0aGVtIGJ5IGNhbGxpbmcgYHRoaXMucmVzZWxlY3QoKWBcbiAgICAgICAgY29uc3QgdG9SZXNlbGVjdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpXG4gICAgICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSlcbiAgICAgICAgICAubWFwKGVsID0+IGVsLmlkKTtcblxuICAgICAgICAvLyBDQVVUSU9OOiBgdXBkYXRlRm9yQ3VycmVudFBhZ2UoKWAgaXMgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIVxuICAgICAgICAvLyBJdCByZXF1aXJlcyBhbiBgYXdhaXRgIGtleXdvcmQuXG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgdGhpcy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICAvLyBSZXNlbGVjdCB0aGUgZWxlbWVudHMgYW5kIHJlaW5pdGlhbGl6ZSBkcmFnXG4gICAgICAgIGF3YWl0IHRoaXMucmVzZWxlY3QodG9SZXNlbGVjdCk7XG4gICAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVzZWxlY3QgKHRvUmVzZWxlY3Q6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzZWxlY3RlZCA9IHRvUmVzZWxlY3QubWFwKGlkID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHR3JhcGhpY3NFbGVtZW50PihgIyR7aWR9YCkpO1xuXG4gICAgLy8gQWxsIGdseXBocyBleGNlcHQgYm91ZGluZyBib3hlcyAoJ3N5bCdzKSBtdXN0IGJlIHNlbGVjdGVkIHdpdGhcbiAgICAvLyBgc2VsZWN0QWxsKClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKGFzeW5jICgpID0+IGF3YWl0IHNlbGVjdEFsbChyZXNlbGVjdGVkLCB0aGlzLm5lb25WaWV3LCB0aGlzKSk7XG5cbiAgICAvLyBCb3VuZGluZyBib3hlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdEJCb3goKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgZWwgPT4gc2VsZWN0QkJveChlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCB0aGlzLCB0aGlzLm5lb25WaWV3KVxuICAgICAgKTtcblxuICAgIC8vIFN0YXZlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdFN0YWZmKClgXG4gICAgLy8gQU5EIG11c3QgYmUgc2VsZWN0ZWQgd2l0aCBgc2VsZWN0QWxsKClgIGZvciBjb3JyZWN0IGJlaGF2aW9yIChmb3Igc29tZSByZWFzb24pLlxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKVxuICAgICAgLmZvckVhY2goZWwgPT4gc2VsZWN0U3RhZmYoZWwsIHRoaXMpKTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIGQzIGFjdGlvbiB0byB1c2UgZm9yIFtbcmVzZXRdXS4gKi9cbiAgcmVzZXRUbyAocmVzZXQ6IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2V0VG9BY3Rpb24gPSByZXNldDtcbiAgfVxuXG4gIC8qKiBSZXNldCB0byBhIHByZXZpb3VzIGQzIGFjdGlvbiBmb3IgW1t0aGlzLnNlbGVjdG9yXV0uICovXG4gIHJlc2V0ICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZXNldFRvQWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKHRoaXMucmVzZXRUb0FjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICBjb25zdCBleHRyYUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0Jyk7XG4gICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICAgIGlmIChleHRyYUVkaXQpIHtcbiAgICAgIGV4dHJhRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSBtb3ZlIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBieSBgZHhgIGFuZCBgZHlgOyAobm90IHVzaW5nIGQzKVxuICAgKi9cbiAgbW92ZUVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSwgZHg6IG51bWJlciwgZHk6IG51bWJlcik6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtkeH0sJHtkeX0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgcmV0dXJuIHNlbGVjdGVkIGVsZW1lbnRzIHRvIHRoZWlyIG9yaWdpbmFsIHBvc2l0aW9uc1xuICAgKiBieSByZW1vdmluZyB0aGUgdHJhbnNmb3JtIGF0dHJpYnV0ZVxuICAgKi9cbiAgcmV0dXJuRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgndHJhbnNmb3JtJyk7XG4gICAgfSk7XG4gIH1cblxuICBpc0N1cnNvck91dE9mQm91bmRzICgpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbmRYID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF0gKyB0aGlzLmR4O1xuICAgIGNvbnN0IGVuZFkgPSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXSArIHRoaXMuZHk7XG5cbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyhlbmRYLCBlbmRZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgU1ZHXG4gICAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50W119IHNlbGVjdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgc2VsZWN0aW9uIG91dCBvZiBib3VuZHNcbiAgICovXG4gIGlzRHJhZ091dE9mQm91bmRzIChzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3hlcyBvZiBhbGwgZ2x5cGhzICg8dXNlPiBlbGVtZW50cykgd2l0aGluIHRoZSBzZWxlY3Rpb24gYXJyYXlcbiAgICBjb25zdCBpc0JCb3hEaXNwbGF5ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkO1xuICAgIGxldCBnbHlwaFNlbGVjdG9yID0gaXNCQm94RGlzcGxheWVkID8gJ3VzZSwgcmVjdCcgOiAndXNlJztcblxuICAgIGlmIChzZWxlY3Rpb25bMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSBnbHlwaFNlbGVjdG9yID0gJ3BhdGgnO1xuXG4gICAgY29uc3QgZ2x5cGhzOiBTVkdVc2VFbGVtZW50W10gPSBzZWxlY3Rpb24ucmVkdWNlKFxuICAgICAgKGFjYywgZWwpID0+IGFjYy5jb25jYXQoLi4uZWwucXVlcnlTZWxlY3RvckFsbChnbHlwaFNlbGVjdG9yKSksIFtdXG4gICAgKTtcbiAgICBjb25zdCBnbHlwaEJCb3hlczogQkJveFtdID0gZ2x5cGhzLm1hcChnZXRHbHlwaEJCb3gpO1xuXG4gICAgLy8gR2V0IHRoZSBzdXJyb3VuZGluZyBib3VuZGluZyBib3ggb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uQkJveDogQkJveCA9IGdseXBoQkJveGVzLnJlZHVjZShcbiAgICAgIChiYm94LCBjdXJyKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdWx4OiBNYXRoLm1pbihiYm94LnVseCwgY3Vyci51bHgpLFxuICAgICAgICAgIHVseTogTWF0aC5taW4oYmJveC51bHksIGN1cnIudWx5KSxcbiAgICAgICAgICBscng6IE1hdGgubWF4KGJib3gubHJ4LCBjdXJyLmxyeCksXG4gICAgICAgICAgbHJ5OiBNYXRoLm1heChiYm94LmxyeSwgY3Vyci5scnkpLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWx4OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICB1bHk6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIGxyeDogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgICAgbHJ5OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCB7IHVseCwgdWx5LCBscngsIGxyeSB9ID0gc2VsZWN0aW9uQkJveDtcbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyh1bHggKyB0aGlzLmR4LCB1bHkgKyB0aGlzLmR5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCArIHRoaXMuZHgsIGxyeSArIHRoaXMuZHkpO1xuICB9XG59XG5cbmV4cG9ydCB7IERyYWdIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgIC8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3RyaW5naWZ5L3BhcnNlIGZ1bmN0aW9ucyB0aGF0IGRvbid0IG9wZXJhdGVcbiAqIHJlY3Vyc2l2ZWx5LCBzbyB0aGV5IGF2b2lkIGNhbGwgc3RhY2sgZXhjZWVkZWRcbiAqIGVycm9ycy5cbiAqL1xuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgdmFyIHF1ZXVlID0gW107XG4gIHF1ZXVlLnB1c2goe29iajogaW5wdXR9KTtcblxuICB2YXIgcmVzID0gJyc7XG4gIHZhciBuZXh0LCBvYmosIHByZWZpeCwgdmFsLCBpLCBhcnJheVByZWZpeCwga2V5cywgaywga2V5LCB2YWx1ZSwgb2JqUHJlZml4O1xuICB3aGlsZSAoKG5leHQgPSBxdWV1ZS5wb3AoKSkpIHtcbiAgICBvYmogPSBuZXh0Lm9iajtcbiAgICBwcmVmaXggPSBuZXh0LnByZWZpeCB8fCAnJztcbiAgICB2YWwgPSBuZXh0LnZhbCB8fCAnJztcbiAgICByZXMgKz0gcHJlZml4O1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJlcyArPSB2YWw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmVzICs9IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgIHJlcyArPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ10nfSk7XG4gICAgICBmb3IgKGkgPSBvYmoubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgYXJyYXlQcmVmaXggPSBpID09PSAwID8gJycgOiAnLCc7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogb2JqW2ldLCBwcmVmaXg6IGFycmF5UHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICdbJ30pO1xuICAgIH0gZWxzZSB7IC8vIG9iamVjdFxuICAgICAga2V5cyA9IFtdO1xuICAgICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd9J30pO1xuICAgICAgZm9yIChpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICBvYmpQcmVmaXggPSAoaSA+IDAgPyAnLCcgOiAnJyk7XG4gICAgICAgIG9ialByZWZpeCArPSBKU09OLnN0cmluZ2lmeShrZXkpICsgJzonO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IHZhbHVlLCBwcmVmaXg6IG9ialByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAneyd9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciB0aGUgcGFyc2UgZnVuY3Rpb24uXG4vLyBUaGlzIHBvcCBmdW5jdGlvbiBpcyBiYXNpY2FsbHkgY29waWVkIGZyb21cbi8vIHBvdWNoQ29sbGF0ZS5wYXJzZUluZGV4YWJsZVN0cmluZ1xuZnVuY3Rpb24gcG9wKG9iaiwgc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICB9XG4gIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgIGVsZW1lbnQucHVzaChvYmopO1xuICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgfSBlbHNlIHtcbiAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gIH1cbn1cblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG4gIHZhciBjb2xsYXRpb25JbmRleCxwYXJzZWROdW0sbnVtQ2hhcjtcbiAgdmFyIHBhcnNlZFN0cmluZyxsYXN0Q2gsbnVtQ29uc2VjdXRpdmVTbGFzaGVzLGNoO1xuICB2YXIgYXJyYXlFbGVtZW50LCBvYmpFbGVtZW50O1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnfScgfHxcbiAgICAgICAgY29sbGF0aW9uSW5kZXggPT09ICddJyB8fFxuICAgICAgICB0eXBlb2YgY29sbGF0aW9uSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjay5wb3AoKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgY2FzZSAnOic6XG4gICAgICBjYXNlICcsJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduJzpcbiAgICAgICAgaSArPSAzOyAvLyAndWxsJ1xuICAgICAgICBwb3AobnVsbCwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3J1ZSdcbiAgICAgICAgcG9wKHRydWUsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgICBpICs9IDQ7IC8vICdhbHNlJ1xuICAgICAgICBwb3AoZmFsc2UsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzAnOlxuICAgICAgY2FzZSAnMSc6XG4gICAgICBjYXNlICcyJzpcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgY2FzZSAnNCc6XG4gICAgICBjYXNlICc1JzpcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgY2FzZSAnNyc6XG4gICAgICBjYXNlICc4JzpcbiAgICAgIGNhc2UgJzknOlxuICAgICAgY2FzZSAnLSc6XG4gICAgICAgIHBhcnNlZE51bSA9ICcnO1xuICAgICAgICBpLS07XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgbnVtQ2hhciA9IHN0cltpKytdO1xuICAgICAgICAgIGlmICgvW1xcZFxcLlxcLWVcXCtdLy50ZXN0KG51bUNoYXIpKSB7XG4gICAgICAgICAgICBwYXJzZWROdW0gKz0gbnVtQ2hhcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChwYXJzZUZsb2F0KHBhcnNlZE51bSksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgcGFyc2VkU3RyaW5nID0gJyc7XG4gICAgICAgIGxhc3RDaCA9IHZvaWQgMDtcbiAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjaCA9IHN0cltpKytdO1xuICAgICAgICAgIGlmIChjaCAhPT0gJ1wiJyB8fCAobGFzdENoID09PSAnXFxcXCcgJiZcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzICUgMiA9PT0gMSkpIHtcbiAgICAgICAgICAgIHBhcnNlZFN0cmluZyArPSBjaDtcbiAgICAgICAgICAgIGxhc3RDaCA9IGNoO1xuICAgICAgICAgICAgaWYgKGxhc3RDaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChKU09OLnBhcnNlKCdcIicgKyBwYXJzZWRTdHJpbmcgKyAnXCInKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneyc6XG4gICAgICAgIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgKyBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiLyoqXG4gKiBGb3JtYXRzIHJhdyBVVUlEIGRhdGEgaW50byB0aGUgcHJvcGVyIHN0cmluZyBmb3JtYXQuXG4gKiBAcGFyYW0gZGF0YSAtIFJhdyBVVUlEIGRhdGEuXG4gKiBAcmV0dXJucyBGb3JtYXR0ZWQgVVVJRCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHVpbnQ4VG9VdWlkIChkYXRhOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgaWYgKGRhdGEubGVuZ3RoICE9PSAxNikge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNiIChwcmV2aW91czogc3RyaW5nLCBjdXJyZW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBwcmV2aW91cyArIGN1cnJlbnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cblxuICByZXR1cm4gZGF0YS5zbGljZSgwLCA0KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg0LCA2KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg2LCA4KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg4LCAxMCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoMTApLnJlZHVjZShjYiwgJycpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIEEgW3ZlcnNpb24gNCBVVUlEXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Vbml2ZXJzYWxseV91bmlxdWVfaWRlbnRpZmllciNWZXJzaW9uXzRfKHJhbmRvbSkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0ICgpOiBzdHJpbmcge1xuICAvLyBDaGVjayBmb3IgY3J5cHRvIEFQSVxuICBpZiAod2luZG93LmNyeXB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVpbnQ4VG9VdWlkKG5ldyBVaW50OEFycmF5KDE2KSk7XG4gIH1cblxuICAvLyBHZXQgMTYgb2N0ZXRzIGZvciBVVUlEXG4gIGNvbnN0IG9jdGV0cyA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgY29uc3QgbW9kaWZpZXJzID0gVWludDhBcnJheS5mcm9tKFtcbiAgICBwYXJzZUludCgnMDEwMDAwMDAnLCAyKSwgIC8vIFZlcnNpb24gYml0cyAoNCA9PiAwMTAwKVxuICAgIHBhcnNlSW50KCcxMDAwMDAwMCcsIDIpLCAgLy8gVmFyaWFudCBiaXRzICgxMHgpXG4gICAgcGFyc2VJbnQoJzAwMDAxMTExJywgMiksICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZlcnNpb25cbiAgICBwYXJzZUludCgnMDAxMTExMTEnLCAyKSAgIC8vIE1hc2sgdG8gemVybyBoaWdoZXIgYml0cywgdmFyaWFudFxuICBdKTtcbiAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMob2N0ZXRzKTtcbiAgLy8gU2V0IHZlcnNpb24gYml0cyBhbmQgdmFyaWFudCBiaXRzXG4gIG9jdGV0c1s2XSA9IChvY3RldHNbNl0gJiBtb2RpZmllcnNbMl0pIHwgbW9kaWZpZXJzWzBdO1xuICBvY3RldHNbOF0gPSAob2N0ZXRzWzhdICYgbW9kaWZpZXJzWzNdKSB8IG1vZGlmaWVyc1sxXTtcblxuICByZXR1cm4gdWludDhUb1V1aWQob2N0ZXRzKTtcbn1cbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgV2FybmluZ3MgZnJvbSAnLi4vV2FybmluZ3MnO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgKiBhcyBTZWxlY3RUb29scyBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBUb2dnbGVMaWdhdHVyZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHJlbW92ZUhhbmRsZXIsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIgfSBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuXG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBhY2Nlc3MgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cblxuLyoqXG4gKiBTZXQgdGhlIG5lb25WaWV3IG1lbWJlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgc2VsZWN0ZWQgZWxlbWVudHMgY2FuIGJlIGdyb3VwZWQgb3Igbm90XG4gKiBAcmV0dXJucyB0cnVlIGlmIGdyb3VwZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzLnZhbHVlcygpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBpZiAoZ3JvdXBzLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBjYW5ub3QgZ3JvdXAgaWYgb25seSAxIGVsZW1lbnQgaXMgc2VsZWN0ZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgLy8gaWYgbmV1bWVzIGFyZSBpbiBzYW1lIHN5bGxhYmxlLCBkb24ndCBkaXNwbGF5IGdyb3VwaW5nIG9wdGlvblxuICAgICAgaWYgKFNlbGVjdFRvb2xzLnNoYXJlZExvZ2ljYWxQYXJlbnQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gY2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFyZSBhZGphY2VudCB0byBlYWNoIG90aGVyXG4gICAgICBpZiAoU2VsZWN0VG9vbHMuYXJlQWRqYWNlbnQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICB9XG5cbn1cblxuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaXMgYSBzZWxlY3Rpb24gb2YgZWxlbWVudHMgaXMgYWxyZWFkeSBsaW5rZWRcbiAqIEBwYXJhbSBlbGVtZW50cyBlbGVtZW50cyB0byBiZSBjb25zaWRlcmVkXG4gKiBAcmV0dXJucyB0cnVlIGlzIGxpbmtlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmtlZChlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuXG4gIC8vIGlmIG51bWJlciBvZiBlbGVtZW50cyBpcyBub3QgMiwgZWxlbWVudHMgY2Fubm90IGJlIGxpbmtlZCBieSBkZWZpbml0aW9uXG4gIGlmIChlbGVtZW50cy5sZW5ndGggIT09IDIpIHJldHVybiBmYWxzZTtcblxuICAvLyBpZiBwcmVjZWRlcyBhbmQgZm9sbG93cyBhdHRyaWJ1dGVzIGV4aXN0IGFuZCB0aGVpciBJRHMgbWF0Y2hcbiAgaWYgKCgoZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpID09PSBgIyR7ZWxlbWVudHNbMV0uaWR9YCkgJiYgXG4gICAgICAoZWxlbWVudHNbMV0uZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSA9PT0gYCMke2VsZW1lbnRzWzBdLmlkfWApKSB8fFxuICAgICAgKChlbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpID09PSAnIycgKyBlbGVtZW50c1sxXS5pZCkgJiZcbiAgICAgIChlbGVtZW50c1sxXS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgPT09ICcjJyArIGVsZW1lbnRzWzBdLmlkKSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBjYW4gYmUgbGlua2VkIG9yIHVubGlrbmVkLlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgQ3VycmVudCBzZWxlY3Rpb24gbW9kZS4gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWRcbiAqIEBwYXJhbSBlbGVtZW50cyBUaGUgZWxlbWVudHMgdW5kZXIgcXVlc3Rpb24gXG4gKiBAcmV0dXJucyB0cnVlIGlmIHVzZXIgc2hvdWxkIGJlIGFibGUgdG8gbGluayBvciB1bi1saW5rIGVsZW1lbnRzLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuXG4gIHN3aXRjaChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAvLyBvbmx5IGEgc2VsZWN0aW9uIG9mIGxlbmd0aCAyIGNhbiBsZWFkIHRvIG9wdGlvbiB0byB0b2dnbGUgc3lsbGFibGUgbGlua1xuICAgIGNhc2UgMjpcbiAgICAgIC8vIG9ubHkgU3lsbGFibGVzIGNhbiBiZSBsaW5rZWQgb3IgdW5saW5rZWQgKD8pXG4gICAgICBpZiAoc2VsZWN0aW9uVHlwZSAhPT0gJ3NlbEJ5U3lsbGFibGUnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgICAvLyBpZiBBTFJFQURZIGxpbmtlZFxuICAgICAgaWYgKGlzTGlua2VkKFtlbGVtZW50c1swXSwgZWxlbWVudHNbMV1dKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIENBTiBiZSBsaW5rZWRcbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGlzICpjb3VsZCogYmUgYSBzZWxlY3Rpb24gd2l0aCBhIHNpbmdsZSBsb2dpY2FsIHN5bGxhYmxlIHNwbGl0IGJ5IGEgc3RhZmYgYnJlYWsuIFxuICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBhcmUgYWRqYWNlbnQgc3RhdmVzIChsb2dpY2FsbHkpXG4gICAgICAgIGlmIChTZWxlY3RUb29scy5pc011bHRpU3RhdmVTZWxlY3Rpb24oZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3Qgc3RhZmYwID0gZWxlbWVudHNbMF0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAgICAgY29uc3Qgc3RhZmYxID0gZWxlbWVudHNbMV0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAgICAgY29uc3Qgc3RhZmZDaGlsZHJlbiA9IEFycmF5LmZyb20oc3RhZmYwLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgb25lIHN5bGxhYmxlIGlzIHRoZSBsYXN0IGluIHRoZSBmaXJzdCBzdGFmZiBhbmQgdGhlIG90aGVyIGlzIHRoZSBmaXJzdCBpbiB0aGUgc2Vjb25kLlxuICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBzdGFmZiBpcyBmaXJzdC5cbiAgICAgICAgICBjb25zdCBmaXJzdFN0YWZmID0gKHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjApIDwgc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMSkpID8gc3RhZmYwIDogc3RhZmYxO1xuICAgICAgICAgIGNvbnN0IHNlY29uZFN0YWZmID0gKGZpcnN0U3RhZmYuaWQgPT09IHN0YWZmMC5pZCkgPyBzdGFmZjEgOiBzdGFmZjA7XG4gICAgICAgICAgY29uc3QgZmlyc3RMYXllciA9IGZpcnN0U3RhZmYucXVlcnlTZWxlY3RvcignLmxheWVyJyk7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kTGF5ZXIgPSBzZWNvbmRTdGFmZi5xdWVyeVNlbGVjdG9yKCcubGF5ZXInKTtcbiAgICBcbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBmaXJzdCBzdGFmZiBoYXMgZWl0aGVyIHN5bGxhYmxlIGFzIHRoZSBsYXN0IHN5bGxhYmxlXG4gICAgICAgICAgY29uc3QgZmlyc3RTeWxsYWJsZUNoaWxkcmVuID0gQXJyYXkuZnJvbShmaXJzdExheWVyLmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSk7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kU3lsbGFibGVDaGlsZHJlbiA9IEFycmF5LmZyb20oc2Vjb25kTGF5ZXIuY2hpbGRyZW4pLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKTsgICAgXG4gICAgICAgICAgY29uc3QgbGFzdFN5bGxhYmxlID0gZmlyc3RTeWxsYWJsZUNoaWxkcmVuW2ZpcnN0U3lsbGFibGVDaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBmaXJzdFN5bGxhYmxlID0gc2Vjb25kU3lsbGFibGVDaGlsZHJlblswXTtcbiAgICBcbiAgICAgICAgICBpZiAobGFzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1swXS5pZCAmJiBmaXJzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1sxXS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBcbiAgICAgICAgICBlbHNlIGlmIChsYXN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzFdLmlkICYmIGZpcnN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzBdLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgIC8vIGNhbm5vdCB0b2dnbGUgbGluayBmb3Igc3lsbGFibGUgc2VsZWN0aW9uIGlmIG51bWJlciBvZiBzZWxlY3RlZFxuICAgIC8vIHN5bGxhYmxlcyBpcyBub3QgZXF1YWwgdG8gMlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBNZXJnZSBzZWxlY3RlZCBzdGF2ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3RhdmVzICgpOiB2b2lkIHtcbiAgY29uc3Qgc3lzdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi5zZWxlY3RlZCcpO1xuICBjb25zdCBlbGVtZW50SWRzID0gW107XG4gIHN5c3RlbXMuZm9yRWFjaChzdGFmZiA9PiB7XG4gICAgZWxlbWVudElkcy5wdXNoKHN0YWZmLmlkKTtcbiAgfSk7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21lcmdlJyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgIH1cbiAgfTtcbiAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBNZXJnZWQnLCAnc3VjY2VzcycpO1xuICAgICAgU2VsZWN0T3B0aW9ucy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01lcmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuLyoqXG4gKiBUcmlnZ2VyIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqIEBwYXJhbSB0eXBlIC0gVGhlIGdyb3VwaW5nIHR5cGU6IG5jLCBuZXVtZSwgc3lsLCBsaWdhdHVyZU5jLCBvciBsaWdhdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckdyb3VwaW5nICh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MICs9IENvbnRlbnRzLmdyb3VwaW5nTWVudVt0eXBlXTtcbiAgaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGdyb3VwaW5nIHNlbGVjdGlvbiBtZW51LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kR3JvdXBpbmdTZWxlY3Rpb24gKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG59XG5cblxuLyoqXG4gKiBUaGUgZ3JvdXBpbmcgZHJvcGRvd24gbGlzdGVuZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0R3JvdXBpbmdMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG4gIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyZ2VTeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJylcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncm91cE5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWxpZ2F0dXJlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogVG9nZ2xlTGlnYXR1cmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3RvZ2dsZUxpZ2F0dXJlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGUgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuXG4vKipcbiAqIEdyb3VwaW5nL1VuZ3JvdXBpbmcga2V5YmluZGluZyBldmVudCBsaXN0ZW5lclxuICovXG5jb25zdCBrZXlkb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLmtleSA9PT0gJ2cnKSB7XG4gICAgLy8gZ2V0IHNlbGVjdGVkIGVsZW1lbnRzIHRvIGNoZWNrIGlmIHRoZXkgY2FuIGJlIGdyb3VwZWRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCk7XG5cbiAgICAvLyBHcm91cC9tZXJnZSBvciB1bmdyb3VwL3NwbGl0IGJhc2VkIG9uIHNlbGVjdGlvbiB0eXBlXG4gICAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBsaW5ua2FibGUsIHRvZ2dsZSBsaW5rZWQgc3lsbGFibGVcbiAgICAgICAgLy8gbGlua2VkIHN5bGxhYmxlcyBjYW5ub3QgYmUgZ3JvdXBlZC91bmdyb3VwZWRcbiAgICAgICAgaWYgKGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgZ3JvdXBhYmxlIGJlZm9yZSBncm91cGluZ1xuICAgICAgICBlbHNlIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcblxuICAgICAgICB9IFxuICAgICAgICAvLyBjYW4gb25seSB1bmdyb3VwIGlmIGxlbmd0aCBpcyAxIChvbmUgc3lsbGFibGUgc2VsZWN0ZWQpXG4gICAgICAgIC8vIGNhbm5vdCB1bmdyb3VwIGlmIG11bHRpcGxlIHN5bGxhYmxlcyBhcmUgc2VsZWN0ZWRcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBtZXJnZVN0YXZlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYENhbid0IHBlcmZvcm0gZ3JvdXBpbmcvdW5ncm91cGluZyBhY3Rpb24gb24gc2VsZWN0aW9uIHR5cGUgJHtzZWxlY3Rpb25UeXBlfS5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIEZvcm0gYW5kIGV4ZWN1dGUgYSBncm91cC91bmdyb3VwIGFjdGlvbi5cbiAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUuIEVpdGhlciBcImdyb3VwXCIgb3IgXCJ1bmdyb3VwXCIuXG4gKiBAcGFyYW0gZ3JvdXBUeXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudHMgdG8gZ3JvdXAuIEVpdGhlciBcIm5ldW1lXCIgb3IgXCJuY1wiLlxuICogQHBhcmFtIGVsZW1lbnRJZHMgLSBUaGUgSURzIG9mIHRoZSBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ3JvdXBpbmdBY3Rpb24gKGFjdGlvbjogJ2dyb3VwJyB8ICd1bmdyb3VwJywgZ3JvdXBUeXBlOiAnbmV1bWUnIHwgJ25jJywgZWxlbWVudElkczogc3RyaW5nW10pOiB2b2lkIHtcbiAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgcGFyYW06IHtcbiAgICAgIGdyb3VwVHlwZTogZ3JvdXBUeXBlLFxuICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgIH1cbiAgfTtcbiAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfVxuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG5cbiAgICAvLyBQcm9tcHQgdXNlciB0byBjb25maXJtIGlmIE5lb24gZG9lcyBub3QgcmUgY29nbml6ZSBjb250b3VyXG4gICAgaWYgKGdyb3VwVHlwZSA9PT0gJ25jJykge1xuICAgICAgY29uc3QgbmV1bWVQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZVBhcmVudC5jaGlsZHJlbikgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyKG5jcyk7XG4gICAgICBpZiAoY29udG91ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFdhcm5pbmdzLmdyb3VwaW5nTm90UmVjb2duaXplZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIERldGVybWluZSB3aGF0IGFjdGlvbiAobGluay91bmxpbmspIHRvIHBlcmZvcm0gd2hlbiB1c2VyIGNsaWNrcyBvbiBcIlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVcIlxuICogQWxzbyBjYWxsZWQgd2hlbiBjb3JyZXNwaW5kaW5nIGhvdGtleSBpcyBwcmVzc2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IFtdXG4gIH07XG4gIGNvbnN0IHBhcmFtID0gbmV3IEFycmF5PEVkaXRvckFjdGlvbj4oKTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZHNbMF0pLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzFdLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1sxXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgIGF0dHJWYWx1ZTogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMV0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1swXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBc3NvY2lhdGUgc3lsbGFibGVzLiBXaWxsIG5lZWQgdG8gZmluZCB3aGljaCBpcyBmaXJzdC4gVXNlIHN0YXZlcy5cbiAgICBjb25zdCBzeWxsYWJsZTAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKTtcbiAgICBjb25zdCBzeWxsYWJsZTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzFdKTtcbiAgICBjb25zdCBzdGFmZjAgPSBzeWxsYWJsZTAuY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgY29uc3Qgc3RhZmYxID0gc3lsbGFibGUxLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IHN0YWZmQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmMC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSk7XG5cbiAgICBsZXQgZmlyc3RTeWxsYWJsZSwgc2Vjb25kU3lsbGFibGU7XG4gICAgLy8gRGV0ZXJtaW5lIGZpcnN0IHN5bGxhYmxlIGNvbWVzIGZpcnN0IGJ5IHN0YWZmXG4gICAgaWYgKHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjApIDwgc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMSkpIHtcbiAgICAgIGZpcnN0U3lsbGFibGUgPSBzeWxsYWJsZTA7XG4gICAgICBzZWNvbmRTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyc3RTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICAgIHNlY29uZFN5bGxhYmxlID0gc3lsbGFibGUwO1xuICAgIH1cblxuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZmlyc3RTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgIGF0dHJWYWx1ZTogJyMnICsgc2Vjb25kU3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IHNlY29uZFN5bGxhYmxlLmlkLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcjJyArIGZpcnN0U3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBEZWxldGUgc3lsIG9uIHNlY29uZCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bCA9IHNlY29uZFN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICBpZiAoc3lsICE9PSBudWxsKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN5bC5pZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY2hhaW5BY3Rpb24ucGFyYW0gPSBwYXJhbTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RvZ2dsZWQgU3lsbGFibGUgTGluaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byBUb2dnbGUgU3lsbGFibGUgTGluaycpO1xuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiBzZWxlY3RlZCBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ2V0SWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGlkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGlkcy5wdXNoKGVsLmlkKTtcbiAgfSk7XG4gIHJldHVybiBpZHM7XG59XG5cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgSURzIG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50cycgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkcmVuSWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGNoaWxkcmVuSWRzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZWwuY2hpbGRyZW4pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goY2ggPT4ge1xuICAgICAgY2hpbGRyZW5JZHMucHVzaChjaC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW5JZHM7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3gsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmLCBzZWxlY3RBbGwgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgUmVzaXplQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgaXNPdXRPZlNWR0JvdW5kcyB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5cbi8qKlxuICogUmVzaXplIGEgc3RhZmYgb3IgYSBzeWxsYWJsZSB0ZXh0IGJvdW5kaW5nIGJveC5cbiAqIEZvciBzdGF2ZXMsIHRoaXMgYWxzbyBzdXBwb3J0cyBhZGp1c3RpbmcgdGhlIHJvdGF0ZS5cbiAqL1xudHlwZSBQb2ludCA9IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IG5hbWU6IG51bWJlciB9O1xuXG4vKipcbiAqIFRoZSBwb2ludHMgeW91IGNhbiBjbGljayBhbmQgZHJhZyB0byByZXNpemVcbiAqL1xuY29uc3QgUG9pbnROYW1lcyA9IHtcbiAgVG9wTGVmdDogMCxcbiAgVG9wOiAxLFxuICBUb3BSaWdodDogMixcbiAgUmlnaHQ6IDMsXG4gIEJvdHRvbVJpZ2h0OiA0LFxuICBCb3R0b206IDUsXG4gIEJvdHRvbUxlZnQ6IDYsXG4gIExlZnQ6IDdcbn07XG5cbmZ1bmN0aW9uIGdldFBvaW50cyh1bHg6IG51bWJlciwgdWx5OiBudW1iZXIsIGxyeDogbnVtYmVyLCBscnk6IG51bWJlciwgcm90YXRlOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgLy8gTm90ZSB0aGF0IGFyYyBmdW5jdGlvbnMgcmV0dXJuIGFuIGFuZ2xlIHggaW4gWy1waS8yLCBwaS8yXS5cbiAgbGV0IHBvaW50czogQXJyYXk8UG9pbnQ+O1xuICAvLyB1bCBpcyB1bHgsIHVseSwgbHIgaXMgbHJ4LCBscnlcbiAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BMZWZ0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogdWx5ICsgKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiAodWx5ICsgbHJ5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpKSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSAobHJ4IC0gdWx4KSAvIDIgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogKHVseSArIGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgLy8gTm90IHRoYXRcbiAgZWxzZSB7XG4gICAgY29uc3QgYSA9IChscnggLSB1bHgpICogTWF0aC50YW4oTWF0aC5hYnMocm90YXRlKSk7XG4gICAgY29uc3QgYiA9IGxyeSAtIHVseSAtIGE7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSArIGEsIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlRvcCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BSaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgYiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21SaWdodCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IGxyeSAtIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5IC0gYiAvIDIsIG5hbWU6IFBvaW50TmFtZXMuTGVmdCB9XG4gICAgXTtcbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldywgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyKTogdm9pZCB7XG4gIGxldCB1bHg6IG51bWJlcjtcbiAgbGV0IHVseTogbnVtYmVyO1xuICBsZXQgbHJ4OiBudW1iZXI7XG4gIGxldCBscnk6IG51bWJlcjtcbiAgbGV0IHJvdGF0ZTogbnVtYmVyO1xuXG4gIGxldCBpbml0aWFsVWx4OiBudW1iZXIsIGluaXRpYWxMcng6IG51bWJlcjtcbiAgbGV0IGluaXRpYWxQb2ludDogbnVtYmVyW10sIGluaXRpYWxVbHk6IG51bWJlciwgaW5pdGlhbExyeTogbnVtYmVyLFxuICAgIGluaXRpYWxZOiBudW1iZXIsIGluaXRpYWxSZWN0WTogbnVtYmVyLCBwb2x5TGVuOiBudW1iZXIsIGR5OiBudW1iZXIsIGluaXRpYWxSb3RhdGU6IG51bWJlcjtcblxuICBkcmF3SW5pdGlhbFJlY3QoKTtcblxuICAvKipcbiAgICogUmVkcmF3IHRoZSByZWN0YW5nbGUgd2l0aCB0aGUgbmV3IGJvdW5kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVkcmF3ICgpOiB2b2lkIHtcbiAgICBjb25zdCBwb2ludHM6IFBvaW50W10gPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmc6IHN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF9lbGVtLCBpbmRleCkgPT4geyByZXR1cm4gaW5kZXggJSAyID09PSAwOyB9KVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgcG9pbnRTdHJpbmcpO1xuXG4gICAgY29uc3QgdGV4dFJlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsLnNlbGVjdGVkID4gLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAodGV4dFJlY3QpIHtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneCcsIFN0cmluZyhNYXRoLm1pbih1bHgsIGxyeCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneScsIFN0cmluZyhNYXRoLm1pbih1bHksIGxyeSkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBTdHJpbmcoTWF0aC5hYnMobHJ4IC0gdWx4KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBTdHJpbmcoTWF0aC5hYnMobHJ5IC0gdWx5KSkpO1xuICAgIH1cblxuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBwb2ludE5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICBsZXQgeSA9IHBvaW50c1szXS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICB4ID0gcG9pbnRzWzddLng7XG4gICAgeSA9IHBvaW50c1s3XS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICh4IC0gMTMwKSArICcsJyArICh5IC0gNTApICsgJyAnICsgKHggLSAxMDApICsgJywnICsgKHkgLSA4NSkgKyAnICcgKyAoeCAtIDcwKSArICcsJyArICh5IC0gNTApO1xuXG4gICAgZDMuc2VsZWN0KCcjcm90YXRlTGVmdCcpLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nTGVmdCk7XG4gICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBpbml0aWFsIHJlY3RhbmdsZSBhcm91bmQgdGhlIGVsZW1lbnRcbiAgICogYW5kIGFkZCB0aGUgbGlzdGVuZXJzIHRvIHN1cHBvcnQgZHJhZ2dpbmcgdG8gcmVzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gZHJhd0luaXRpYWxSZWN0ICgpOiB2b2lkIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgLy8gaWYgaXQncyBhIGJvdW5kaW5nYm94IGp1c3QgZ2V0IHRoZSBjb29yZGluYXRlc1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAocmVjdCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RyaWVkIHRvIGRyYXcgcmVzaXplIHJlY3QgZm9yIGEgc3lsVGV4dFJlY3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgKG9yIGlzblxcJ3QgZGlzcGxheWluZyknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdWx4ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd4JykpO1xuICAgICAgdWx5ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgbHJ4ID0gK3VseCArICtyZWN0LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgIGxyeSA9ICt1bHkgKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuXG4gICAgICByb3RhdGUgPSAwO1xuICAgIH1cblxuICAgIC8vIGlmIGl0J3MgYSBzdGFmZiB1c2UgdGhlIHBhdGhzIHRvIGdldCBpdCdzIGJvdW5kaW5nYm94XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBjb25zdCBiYm94ID0gZ2V0U3RhZmZCQm94KGVsZW1lbnQpO1xuICAgICAgdWx4ID0gYmJveC51bHg7XG4gICAgICB1bHkgPSBiYm94LnVseTtcbiAgICAgIGxyeCA9IGJib3gubHJ4O1xuICAgICAgbHJ5ID0gYmJveC5scnk7XG5cbiAgICAgIGNvbnN0IGNvb3JkaW5hdGVzOiBudW1iZXJbXSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigncGF0aCcpXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgICAgLm1hcChlbGVtZW50ID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC9cbiAgICAgICAgKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pKTtcbiAgICB9XG5cbiAgICBpbml0aWFsVWx4ID0gdWx4LCBpbml0aWFsVWx5ID0gdWx5LCBpbml0aWFsTHJ4ID0gbHJ4LCBpbml0aWFsTHJ5ID0gbHJ5O1xuXG4gICAgbGV0IHdoaWNoUG9pbnQ6IHN0cmluZztcblxuICAgIGNvbnN0IHBvaW50cyA9IGdldFBvaW50cyh1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSk7XG5cbiAgICBwb2x5TGVuID0gcG9pbnRzWzJdLnggLSBwb2ludHNbMF0ueDtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nID0gcG9pbnRzLmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICUgMiA9PT0gMClcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmcpXG4gICAgICAuYXR0cignaWQnLCAncmVzaXplUmVjdCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxMClcbiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdjdXJzb3InLCAnbW92ZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMjAgMTAnKTtcblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KGVsZW1lbnQudmlld3BvcnRFbGVtZW50KS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpXG4gICAgICAgIC5hdHRyKCdyJywgMjUpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNClcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdpZCcsICdwLScgKyBwb2ludE5hbWUpO1xuICAgIH1cblxuICAgIC8vIGRvIGl0IGFzIGEgbG9vcCBpbnN0ZWFkIG9mIHNlbGVjdEFsbCBzbyB0aGF0IHlvdSBjYW4gZWFzaWx5IGtub3cgd2hpY2ggcG9pbnQgd2FzXG4gICAgZm9yIChjb25zdCBuYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGQzLnNlbGVjdCgnI3AtJyArIG5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsICgpID0+IHsgcmVzaXplU3RhcnQobmFtZSk7IH0pXG4gICAgICAgICAgLm9uKCdkcmFnJywgcmVzaXplRHJhZylcbiAgICAgICAgICAub24oJ2VuZCcsIHJlc2l6ZUVuZC5iaW5kKHRoaXMpKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBsZXQgeCA9IHBvaW50c1szXS54O1xuICAgICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAgICh4ICsgNzApICsgJywnICsgKHkgKyA1MCkgKyAnICcgKyAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDE1KSArICcgJyArICh4ICsgMTMwKSArICcsJyArICh5ICsgNTApO1xuICAgICAgeCA9IHBvaW50c1s3XS54O1xuICAgICAgeSA9IHBvaW50c1s3XS55O1xuICAgICAgY29uc3QgcG9pbnRTdHJpbmdMZWZ0ID0gKHggLSAxMDApICsgJywnICsgKHkgLSAxNSkgKyAnICcgK1xuICAgICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlUmlnaHQnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncm90YXRlUG9pbnQnKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpXG4gICAgICAgIC5hdHRyKCdpZCcsICdyb3RhdGVMZWZ0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ0xlZnQpXG4gICAgICAgICAgLm9uKCdlbmQnLCByb3RhdGVFbmQpKTtcblxuICAgICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ1JpZ2h0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplU3RhcnQgKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgd2hpY2hQb2ludCA9IG5hbWU7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50cy5maW5kKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXNbbmFtZV0pO1xuICAgICAgaW5pdGlhbFBvaW50ID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplRHJhZyAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50UG9pbnQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIHN3aXRjaCAoUG9pbnROYW1lc1t3aGljaFBvaW50XSkge1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wOlxuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3BSaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdIC0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGluaXRpYWxMcnkgKyAoY3VycmVudFBvaW50WzBdIC0gaW5pdGlhbFBvaW50WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21SaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tOlxuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXSArIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBpbml0aWFsVWx5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NvbWV0aGluZyB0aGF0IHdhc25cXCd0IGEgc2lkZSBvZiB0aGUgcmVjdGFuZ2xlIHdhcyBkcmFnZ2VkLiBUaGlzIHNob3VsZG5cXCd0IGhhcHBlbi4nKTtcbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgdWx4ID0gaW5pdGlhbFVseCwgdWx5ID0gaW5pdGlhbFVseSwgbHJ4ID0gaW5pdGlhbExyeCwgbHJ5ID0gaW5pdGlhbExyeTtcbiAgICAgICAgcmVkcmF3KCk7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJlc2l6ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFJlc2l6ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApO1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCldLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbW9yZUVkaXQnKTtcblxuICAgICAgICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUk9UQVRFXG4gICAgZnVuY3Rpb24gcm90YXRlU3RhcnQgKCk6IHZvaWQge1xuICAgICAgY29uc3Qgd2hpY2ggPSBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQuaWQ7XG4gICAgICBpbml0aWFsWSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgaW5pdGlhbExyeSA9IGxyeTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsUmVjdFkgPSAod2hpY2ggPT09ICdyb3RhdGVSaWdodCcgPyBscnkgOiB1bHkpO1xuICAgICAgaW5pdGlhbFJvdGF0ZSA9IHJvdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnTGVmdCAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50WSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgY29uc3QgdGVtcCA9IGN1cnJlbnRZIC0gaW5pdGlhbFk7XG4gICAgICBjb25zdCB0ZW1wUm90YXRlID0gaW5pdGlhbFJvdGF0ZSAtIE1hdGguYXRhbih0ZW1wIC8gcG9seUxlbik7XG4gICAgICBpZiAodGVtcFJvdGF0ZSA+IC0wLjIgJiYgdGVtcFJvdGF0ZSA8IDAuMikge1xuICAgICAgICBkeSA9IHRlbXA7XG4gICAgICAgIHVseSA9IGluaXRpYWxSZWN0WSArIGR5O1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDApIHtcbiAgICAgICAgICB1bHkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21SaWdodClbMF0ueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bHkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tTGVmdClbMF0ueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRHJhZ1JpZ2h0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlICsgTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgcm90YXRlID0gdGVtcFJvdGF0ZTtcbiAgICAgICAgaWYgKHJvdGF0ZSA+PSAwICkge1xuICAgICAgICAgIGxyeSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcFJpZ2h0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZHkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlc2l6ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNyZXNpemVSZWN0JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3RhdGVQb2ludCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuXG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkO1xuICAgICAgICB1bHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSb3RhdGUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5LFxuICAgICAgICAgIHJvdGF0ZTogcm90YXRlICogMTgwIC8gTWF0aC5QSVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkO1xuICAgICAgICB1bHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIHNlbGVjdEFsbChbZWxlbWVudF0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCIvKiogQG1vZHVsZSB1dGlscy9TZWxlY3QgKi9cblxuaW1wb3J0IHsgdW5zZWxlY3QsIGdldFN0YWZmQkJveCwgc2VsZWN0U3RhZmYsIHNlbGVjdEFsbCwgZ2V0U2VsZWN0aW9uVHlwZSB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IEluZm9JbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBCQm94LCBnZXRTdGFmZkJ5Q29vcmRzLCBQb2ludCB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuXG5sZXQgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcsIGluZm86IEluZm9JbnRlcmZhY2UsIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcbmxldCBzdHJva2VXaWR0aCA9IDc7XG5cbi8qKlxuICogU2V0IHN0cm9rZSB3aWR0aCBvbiBkcmFnIHNlbGVjdCBib3guXG4gKiBAcGFyYW0gd2lkdGggLSBTdHJva2Ugd2lkdGggaW4gcGl4ZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0U3Ryb2tlV2lkdGggKHdpZHRoOiBudW1iZXIpOiB2b2lkIHtcbiAgc3Ryb2tlV2lkdGggPSB3aWR0aDtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIG9iamVjdHMgZm9yIHRoaXMgbW9kdWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0SGVscGVyT2JqZWN0cyAobnY6IE5lb25WaWV3LCBkaDogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgZHJhZ0hhbmRsZXIgPSBkaDtcbiAgbmVvblZpZXcgPSBudjtcbiAgaW5mbyA9IG5lb25WaWV3LmluZm87XG4gIHpvb21IYW5kbGVyID0gbmVvblZpZXcudmlldy56b29tSGFuZGxlcjtcbn1cblxuZnVuY3Rpb24gZXNjYXBlS2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICBpbmZvLmluZm9MaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgdW5zZWxlY3QoKTtcbiAgfVxufVxuXG4vLyBFTlRFUiBLRVk6IHdoZW4gYSBCQm94IGlzIHNlbGVjdGVkLCBwcmVzc2luZyBlbnRlciB3aWxsXG4vLyAgIHRyaWdnZXIgdGhlIGVkaXQgc3lsbGFibGUgdGV4dCBmdW5jdGlvbi5cbmZ1bmN0aW9uIGVudGVyS2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAvLyBjaGVjayBpZiAnZW50ZXInIGlzIHByZXNzZWQgd2l0aCB0aGUgY29ycmVjdCBjb25kaXRpb25zXG4gIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnXG4gICAgfHwgIShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheVRleHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkXG4gICAgfHwgZXZ0LmtleSAhPT0gJ0VudGVyJ1xuICApXG4gICAgcmV0dXJuO1xuXG4gIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG5cbiAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBzeWxsYWJsZSBzZWxlY3RlZFxuICBpZiAoc2VsZWN0ZWQpIHtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi4nICsgc2VsZWN0ZWQuaWQpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgLy8gd2Ugc2ltdWxhdGUgYSBjbGljayBiZWNhdXNlIHRoZSBtZXRob2QgYHVwZGF0ZVN5bFRleHQoKWAgaXMgb25seVxuICAgIC8vIGFjY2Vzc2libGUgaW5zaWRlIFRleHRFZGl0TW9kZTsgdGhlIHNwYW4gaGFzIGFuIGV2ZW50IGxpc3RlbmVyIGZvclxuICAgIC8vIGNsaWNrcy5cbiAgICBzcGFuLmNsaWNrKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJyb3dLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnIHx8IChldnQua2V5ICE9PSAnQXJyb3dMZWZ0JyAmJiBldnQua2V5ICE9PSAnQXJyb3dSaWdodCcpKVxuICAgIHJldHVybjtcblxuICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICBjb25zdCBzeWxsYWJsZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcblxuICAvLyBub3QgYWxsIHN5bGxhYmxlcyBoYXZlIEJCb3hlczsgd2UgbXVzdCBmaWx0ZXIgdGhlbSBvdXRcbiAgY29uc3QgYmJveFN5bGxhYmxlcyA9IHN5bGxhYmxlcy5maWx0ZXIoc3lsID0+IHN5bC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpICE9PSBudWxsKTtcbiAgY29uc3QgaW5kID0gYmJveFN5bGxhYmxlcy5pbmRleE9mKHNlbGVjdGVkKTtcblxuICBpZiAoZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcgJiYgaW5kID4gMCkge1xuICAgIHVuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBiYm94ID0gYmJveFN5bGxhYmxlc1tpbmQgLSAxXS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIHNlbGVjdEFsbChbYmJveCBhcyBTVkdHcmFwaGljc0VsZW1lbnRdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdBcnJvd1JpZ2h0JyAmJiBpbmQgPCBiYm94U3lsbGFibGVzLmxlbmd0aCAtIDEpIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveCA9IGJib3hTeWxsYWJsZXNbaW5kICsgMV0ucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBzZWxlY3RBbGwoW2Jib3ggYXMgU1ZHR3JhcGhpY3NFbGVtZW50XSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1NlbEJ5QkJveCAoKTogYm9vbGVhbiB7XG4gIGNvbnN0IHNlbEJ5QkJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKTtcbiAgaWYgKHNlbEJ5QkJveCkge1xuICAgIHJldHVybiBzZWxCeUJCb3guY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN0b3BQcm9wSGFuZGxlciAoZXZ0OiBFdmVudCk6IHZvaWQgeyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgYm94IG9mIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0QkJveENvb3JkcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCk6IEJCb3gge1xuICBpZiAoaXNTZWxCeUJCb3goKSkge1xuICAgIGNvbnN0IHVseCA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3gnKSksIHVseSA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgLy8gV2hhdCBpcyB0aGUgbWF0aCBoZXJlPz8/XG4gICAgY29uc3QgbHJ4ID0gdWx4ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykuc2xpY2UoMCwgLTIpKSk7XG4gICAgY29uc3QgbHJ5ID0gdWx5ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLnNsaWNlKDAsIC0yKSkpO1xuXG4gICAgcmV0dXJuIHsgdWx4LCB1bHksIGxyeCwgbHJ5IH07XG4gIH1cblxuICBpZiAoZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCByZWN0ID0gKGVsLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1bHg6IHJlY3QueCxcbiAgICAgIHVseTogcmVjdC55LFxuICAgICAgbHJ4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgbHJ5OiByZWN0LnkgKyByZWN0LmhlaWdodFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZ2V0U3RhZmZCQm94KGVsKTtcbn1cblxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBkcmFnIHNlbGVjdGlvbiByZWN0YW5nbGUuXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgYHVsYCAodXBwZXIgbGVmdCkgYW5kIGBscmAgKGxvd2VyIHJpZ2h0KVxuICovXG5mdW5jdGlvbiBpc0VsZW1lbnRJblJlY3QoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgdWw6IFBvaW50LCBscjogUG9pbnQpOiBib29sZWFuIHtcbiAgaWYgKGlzU2VsQnlCQm94KCkgfHwgZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCBiYm94ID0gZ2V0QkJveENvb3JkcyhlbCk7XG4gICAgXG4gICAgLy8gV2Ugd2FudCB0byBmaW5kIHdoZXRoZXIgdGhlIGJvdW5kaW5nIGJveCBvdmVybGFwcyB3aXRoIHRoZSByZWN0YW5nbGVcbiAgICAvLyBkZWZpbmVkIGJ5IGB1bGAgYW5kIGBscmAuIFRoZSBlYXNpZXN0IHNvbHV0aW9uIGlzIHRvIG5lZ2F0ZSBhIHN1bS1vZi1wcm9kdWN0cyBlcXVhdGlvbjpcbiAgICAvLyBpLmUuLCB0aGVyZSBhcmUgNCBwb3NzaWJpbGl0aWVzIGluIHdoaWNoIHRoZSB0d28gKmRvbid0KiBvdmVybGFwXG4gICAgcmV0dXJuICEobHIueCA8IGJib3gudWx4IHx8IHVsLnggPiBiYm94LmxyeCB8fCBsci55IDwgYmJveC51bHkgfHwgdWwueSA+IGJib3gubHJ5KTtcbiAgfVxuXG4gIC8vIFRPRE86IFNpbXBsaWZ5XG4gIGNvbnN0IGJveCA9IGdldFN0YWZmQkJveChlbCk7XG4gIHJldHVybiAhKCh1bC54IDwgYm94LnVseCAmJiBsci54IDwgYm94LnVseCkgfHwgKHVsLnggPiBib3gubHJ4ICYmIGxyLnggPiBib3gubHJ4KSB8fFxuICAgICAgICAgICh1bC55IDwgKGJveC51bHkgKyBNYXRoLmFicyhib3gudWx4IC0gdWwueCkgKiBNYXRoLnRhbihib3gucm90YXRlKSkgJiZcbiAgICAgICAgICAgIGxyLnkgPCAoYm94LnVseSArIE1hdGguYWJzKGJveC51bHggLSB1bC54KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSkgfHxcbiAgICAgICAgICAodWwueSA+IChib3gubHJ5ICsgTWF0aC5hYnMoYm94LmxyeSAtIGxyLnkpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpICYmXG4gICAgICAgICAgICBsci55ID4gKGJveC5scnkgKyBNYXRoLmFicyhib3gubHJ5IC0gbHIueSkgKiBNYXRoLnRhbihib3gucm90YXRlKSkpKTtcbn1cblxuLyoqXG4gKiBBcHBseSBsaXN0ZW5lcnMgZm9yIGNsaWNrIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tTZWxlY3QgKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChzZWwgPT4ge1xuICAgIHNlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICB9KTtcblxuICAvLyBDbGljayBhd2F5IGxpc3RlbmVyc1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlc2NhcGVLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY2FwZUtleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlcktleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXJyb3dLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGFycm93S2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChldnQpID0+IHsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3VzZSxyZWN0LCNtb3JlRWRpdCcpLmZvckVhY2goc2VsID0+IHtcbiAgICBzZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUHJvcEhhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BQcm9wSGFuZGxlcik7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhhbmRsZSBjbGljayBldmVudHMgcmVsYXRlZCB0byBlbGVtZW50IHNlbGVjdGlvbi5cbiAqL1xuXG4vLyBUaGUgYHRoaXNgIGtleXdvcmQgY2FuIGJlIFwicGFzc2VkXCIgYXMgYSBmYWtlIHBhcmFtZXRlciBzbyB0aGF0IHdlIGNhbiB0eXBlIGl0IGNvcnJlY3RseVxuLy8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svMi9mdW5jdGlvbnMuaHRtbCNkZWNsYXJpbmctdGhpcy1pbi1hLWZ1bmN0aW9uXG5mdW5jdGlvbiBjbGlja0hhbmRsZXIgKHRoaXM6IFNWR0dyYXBoaWNzRWxlbWVudCwgZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gIC8vIFJldHVybiBpZiB1c2VyIGlzIGluIGluc2VydCBtb2RlIG9yIHBhbm5pbmcgaXMgYWN0aXZlIGZyb20gc2hpZnQga2V5XG4gIGlmICghbmVvblZpZXcgfHwgbmVvblZpZXcuZ2V0VXNlck1vZGUoKSA9PT0gJ2luc2VydCcgfHwgZXZ0LnNoaWZ0S2V5KVxuICAgIHJldHVybjtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGN0cmwvY21kIGtleSBoYXMgYmVlbiBzZWxlY3RlZFxuICBmdW5jdGlvbiBpc011bHRpU2VsZWN0ICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01hYy8pID8gZXZ0Lm1ldGFLZXkgOiBldnQuY3RybEtleTtcbiAgfVxuXG4gIC8vIElmIHVzZXIgaGFzIGNsaWNrZWQgYSBsYXllciBlbGVtZW50XG4gIGlmICh0aGlzLnRhZ05hbWUgPT09ICd1c2UnICYmIGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCcpIHtcbiAgICBpZiAodGhpcy5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgbGV0IHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W10gPSBbdGhpc107XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgcGFydCBvZiBhIGxpZ2F0dXJlIGFuZCwgaWYgc28sIGFkZCBhbGwgb2YgaXQgdG8gdGhlIHNlbGVjdGlvbi5cbiAgICAgIGNvbnN0IGZpcnN0TGlnYXR1cmVIYWxmID0gL0U5Qls0NTY3OF0vO1xuICAgICAgY29uc3Qgc2Vjb25kTGlnYXR1cmVIYWxmID0gL0U5Qls5QUJDXS87XG4gICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChzZWNvbmRMaWdhdHVyZUhhbGYpKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIHNlY29uZCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4IC0gMV0uY2hpbGRyZW5bMF0gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBjb25zb2xlLmFzc2VydChmaXJzdFVzZS5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChmaXJzdExpZ2F0dXJlSGFsZiksICdGaXJzdCBnbHlwaCBvZiBsaWdhdHVyZSB1bmV4cGVjdGVkIScpO1xuXG4gICAgICAgIGlmIChmaXJzdFVzZS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdGlvbi51bnNoaWZ0KGZpcnN0VXNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKGZpcnN0TGlnYXR1cmVIYWxmKSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kVXNlID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCArIDFdLmNoaWxkcmVuWzBdIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoc2Vjb25kVXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKHNlY29uZExpZ2F0dXJlSGFsZiksICdTZWNvbmQgZ2x5cGggb2YgbGlnYXR1cmUgdW5leHBlY3RlZCEnKTtcblxuICAgICAgICBpZiAoc2Vjb25kVXNlLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkpO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbk1vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5IC5pcy1hY3RpdmUnKS5pZDtcbiAgICAgICAgY29uc3QgbW9kZVRvQ2xhc3MgPSB7XG4gICAgICAgICAgc2VsQnlTdGFmZjogJy5zdGFmZicsXG4gICAgICAgICAgc2VsQnlOZXVtZTogJy5uZXVtZScsXG4gICAgICAgICAgc2VsQnlOYzogJy5uYycsXG4gICAgICAgICAgc2VsQnlMYXllckVsZW1lbnQ6ICcuYWNjaWQnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZWxlY3RlZENsYXNzID0gbW9kZVRvQ2xhc3Nbc2VsZWN0aW9uTW9kZV0gfHwgJy5zeWxsYWJsZSc7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzLmNsb3Nlc3Qoc2VsZWN0ZWRDbGFzcyldO1xuXG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+ICFyZW1vdmUuaW5jbHVkZXMoZWwpKTtcblxuICAgICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUgPT09ICdyZWN0JyAmJiBnZXRTZWxlY3Rpb25UeXBlKCkgPT09ICdzZWxCeUJCb3gnKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgIGxldCBzZWxlY3Rpb24gPSBbZXZ0LnRhcmdldF0gYXMgU1ZHR0VsZW1lbnRbXTtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpIGFzIFNWR0dFbGVtZW50W10pO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24ubWFwKCAoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PSAncmVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1EaXNwbGF5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLm1hcCggKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT0gJ3JlY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtRGlzcGxheScpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlciggKGVsKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICFyZW1vdmUuaW5jbHVkZXMoZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlTdGFmZicpIHtcbiAgICAgIGluZm8uaW5mb0xpc3RlbmVycygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZSBwb2ludCBpcyBpbiBhIHN0YWZmLlxuICAgIGlmICghaXNNdWx0aVNlbGVjdCgpKVxuICAgICAgdW5zZWxlY3QoKTtcblxuICAgIC8vIFNlbGVjdCBhIHN0YWZmXG4gICAgY29uc3Qgc3RhZmYgPSBnZXRTdGFmZkJ5Q29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgXG4gICAgaWYgKCFzdGFmZikgcmV0dXJuO1xuXG4gICAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIC8vIFNlbGVjdCBwcmV2aW91c2x5IHVuc2VsZWN0ZWQgc3RhZmZcbiAgICAgIHNlbGVjdFN0YWZmKHN0YWZmLCBkcmFnSGFuZGxlcik7XG4gICAgICByZXNpemUoc3RhZmYsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVHJpZ2dlciBtb3VzZWRvd24gZXZlbnQgb24gdGhlIHN0YWZmXG4gICAgc3RhZmYuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnbW91c2Vkb3duJywge1xuICAgICAgc2NyZWVuWDogZXZ0LnNjcmVlblgsXG4gICAgICBzY3JlZW5ZOiBldnQuc2NyZWVuWSxcbiAgICAgIGNsaWVudFg6IGV2dC5jbGllbnRYLFxuICAgICAgY2xpZW50WTogZXZ0LmNsaWVudFksXG4gICAgICBjdHJsS2V5OiBldnQuY3RybEtleSxcbiAgICAgIHNoaWZ0S2V5OiBldnQuc2hpZnRLZXksXG4gICAgICBhbHRLZXk6IGV2dC5hbHRLZXksXG4gICAgICBtZXRhS2V5OiBldnQubWV0YUtleSxcbiAgICAgIHZpZXc6IGV2dC52aWV3XG4gICAgfSkpO1xuICB9XG59XG5cbi8qKlxuICogQXBwbHkgbGlzdGVuZXJzIGZvciBkcmFnIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhZ1NlbGVjdCAoc2VsZWN0b3I6IHN0cmluZyk6IHZvaWQge1xuICBsZXQgaW5pdGlhbFggPSAwO1xuICBsZXQgaW5pdGlhbFkgPSAwO1xuICBsZXQgcGFubmluZyA9IGZhbHNlO1xuICBsZXQgZHJhZ1NlbGVjdGluZyA9IGZhbHNlO1xuICAvLyB2YXIgY2FudmFzID0gZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJyk7XG5cbiAgY29uc3QgY2FudmFzID0gZDMuc2VsZWN0KHNlbGVjdG9yKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwb2ludCBpcyBpbiB0aGUgYm91bmRzIG9mIGEgc3RhZmYgZWxlbWVudC5cbiAgICogUm90YXRlIGlzIG5vdCB0YWtlbiBpbnRvIGFjY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBwb2ludE5vdEluU3RhZmYgKHB0OiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSk7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBzdGF2ZXMuZmlsdGVyKChzdGFmZjogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGJib3ggPSBnZXRTdGFmZkJCb3goc3RhZmYpO1xuICAgICAgY29uc3QgdWx4ID0gYmJveC51bHg7XG4gICAgICBjb25zdCB1bHkgPSBiYm94LnVseTtcbiAgICAgIGNvbnN0IGxyeCA9IGJib3gubHJ4O1xuICAgICAgY29uc3QgbHJ5ID0gYmJveC5scnk7XG4gICAgICBjb25zdCByb3RhdGUgPSBiYm94LnJvdGF0ZTtcblxuICAgICAgcmV0dXJuIChwdFswXSA+IHVseCAmJiBwdFswXSA8IGxyeCkgJiZcbiAgICAgICAgKHB0WzFdID4gKHVseSArIChwdFswXSAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpKSkgJiZcbiAgICAgICAgKHB0WzFdIDwgKGxyeSAtIChscnggLSBwdFswXSkgKiBNYXRoLnRhbihyb3RhdGUpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIChmaWx0ZXJlZC5sZW5ndGggPT09IDApO1xuICB9XG5cbiAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluaXRpYWwgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHggLSBUaGUgdXBwZXIgbGVmdCB4LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHkgLSBUaGUgdXBwZXIgbGVmdCB5LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqL1xuICBmdW5jdGlvbiBpbml0UmVjdCAodWx4OiBudW1iZXIsIHVseTogbnVtYmVyKTogdm9pZCB7XG4gICAgY2FudmFzLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cigneCcsIHVseClcbiAgICAgIC5hdHRyKCd5JywgdWx5KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAwKVxuICAgICAgLmF0dHIoJ2lkJywgJ3NlbGVjdFJlY3QnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgc3Ryb2tlV2lkdGgpXG4gICAgICAuYXR0cignZmlsbCcsICdub25lJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxTdGFydCAoKTogdm9pZCB7XG4gICAgaWYgKCFuZW9uVmlldykgcmV0dXJuO1xuICAgIGNvbnN0IHVzZXJNb2RlID0gbmVvblZpZXcuZ2V0VXNlck1vZGUoKTtcbiAgICBpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAndXNlJyAmJiB1c2VyTW9kZSAhPT0gJ2luc2VydCcgJiYgZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAncmVjdCcpIHtcbiAgICAgIGlmICghZDMuZXZlbnQuc291cmNlRXZlbnQuc2hpZnRLZXkpIHsgLy8gSWYgbm90IGhvbGRpbmcgZG93biBzaGlmdCBrZXkgdG8gcGFuXG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpIHx8XG4gICAgICAgICAgcG9pbnROb3RJblN0YWZmKGQzLm1vdXNlKHRoaXMpKSkge1xuICAgICAgICAgIHVuc2VsZWN0KCk7XG4gICAgICAgICAgZHJhZ1NlbGVjdGluZyA9IHRydWU7XG4gICAgICAgICAgY29uc3QgaW5pdGlhbFAgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgICAgICBpbml0aWFsWCA9IGluaXRpYWxQWzBdO1xuICAgICAgICAgIGluaXRpYWxZID0gaW5pdGlhbFBbMV07XG4gICAgICAgICAgaW5pdFJlY3QoaW5pdGlhbFgsIGluaXRpYWxZKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFubmluZyA9IHRydWU7XG4gICAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgem9vbUhhbmRsZXIuc3RhcnREcmFnKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBwYW5uaW5nID0gdHJ1ZTtcbiAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSBuZXdYIC0gVGhlIG5ldyB1bHguXG4gICAgICogQHBhcmFtIG5ld1kgLSBUaGUgbmV3IHVseS5cbiAgICAgKiBAcGFyYW0gY3VycmVudFdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSBjdXJyZW50SGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlUmVjdCAobmV3WDogbnVtYmVyLCBuZXdZOiBudW1iZXIsIGN1cnJlbnRXaWR0aDogbnVtYmVyLCBjdXJyZW50SGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBkMy5zZWxlY3QoJyNzZWxlY3RSZWN0JylcbiAgICAgIC5hdHRyKCd4JywgbmV3WClcbiAgICAgIC5hdHRyKCd5JywgbmV3WSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGN1cnJlbnRXaWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBjdXJyZW50SGVpZ2h0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlTZWxlY3RvciAoc2VsZWN0b3I6IHN0cmluZyk6IFNWR0dyYXBoaWNzRWxlbWVudFtdIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgdXNlLCAnICsgc2VsZWN0b3IgKyAnIC5zdGFmZicpKTtcblxuICAgIGlmIChpc1NlbEJ5QkJveCgpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyB1c2UnKSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RpbmcgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBjdXJyZW50UHQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIGNvbnN0IGN1clggPSBjdXJyZW50UHRbMF07XG4gICAgICBjb25zdCBjdXJZID0gY3VycmVudFB0WzFdO1xuXG4gICAgICBjb25zdCBuZXdYID0gY3VyWCA8IGluaXRpYWxYID8gY3VyWCA6IGluaXRpYWxYO1xuICAgICAgY29uc3QgbmV3WSA9IGN1clkgPCBpbml0aWFsWSA/IGN1clkgOiBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHdpZHRoID0gY3VyWCA8IGluaXRpYWxYID8gaW5pdGlhbFggLSBjdXJYIDogY3VyWCAtIGluaXRpYWxYO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gY3VyWSA8IGluaXRpYWxZID8gaW5pdGlhbFkgLSBjdXJZIDogY3VyWSAtIGluaXRpYWxZO1xuXG4gICAgICB1cGRhdGVSZWN0KG5ld1gsIG5ld1ksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH0gZWxzZSBpZiAocGFubmluZykge1xuICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgem9vbUhhbmRsZXIuZHJhZ2dpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxFbmQgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBzZWxlY3RSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdFJlY3QnKTtcbiAgICAgIGNvbnN0IHJ4ID0gcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICBjb25zdCByeSA9IHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgY29uc3QgbHggPSByeCArIHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTtcbiAgICAgIGNvbnN0IGx5ID0gcnkgKyBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gdG8gdGhlIGNvcnJlY3QgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZSgpIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgICBsZXQgdWwgPSBuZXcgRE9NUG9pbnQocngsIHJ5KSwgbHIgPSBuZXcgRE9NUG9pbnQobHgsIGx5KTtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5vZGUuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpXG4gICAgICAgIC5tdWx0aXBseSgoY2FudmFzLnNlbGVjdCgnLnN5c3RlbScpLm5vZGUoKSBhcyBTVkdHcmFwaGljc0VsZW1lbnQpLmdldFNjcmVlbkNUTSgpKVxuICAgICAgICAuaW52ZXJzZSgpO1xuICAgICAgdWwgPSB1bC5tYXRyaXhUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgIGxyID0gbHIubWF0cml4VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG5cbiAgICAgIC8vIEdldCBhbGwgZWxlbWVudHMgY29ycmVzcG9uZGluZyB0byB0aGUgc2VsZWN0b3JcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gZ2V0RWxlbWVudHNCeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIC8vIEdldCB0aGUgZWxlbWVudHMgd2l0aGluIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsID0+IGlzRWxlbWVudEluUmVjdChlbCwgdWwsIGxyKSk7XG5cbiAgICAgIC8vIEdldCBvdGhlciBoYWx2ZXMgb2YgbGlnYXR1cmVzIGlmIG9ubHkgb25lIGlzIHNlbGVjdGVkXG4gICAgICBzZWxlY3RlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQ6IFNWR0VsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ3VzZScgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4OUFCQ10vKSkge1xuICAgICAgICAgIGNvbnN0IG5ldW1lID0gZWxlbWVudC5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihlbGVtZW50LmNsb3Nlc3QoJy5uYycpKTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4XS8pKSB7XG4gICAgICAgICAgICAvLyBBZGQgc2Vjb25kIGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBzZWNvbmROYyA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFVzZSA9IHNlY29uZE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihzZWNvbmRVc2UpIDwgMCkge1xuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIGZpcnN0IGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBmaXJzdE5jID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBmaXJzdE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihmaXJzdFVzZSkgPCAwKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChmaXJzdFVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdEFsbChzZWxlY3RlZEVsZW1lbnRzLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICAgIGQzLnNlbGVjdEFsbCgnI3NlbGVjdFJlY3QnKS5yZW1vdmUoKTtcbiAgICAgIGRyYWdTZWxlY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgcGFubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZDMuc2VsZWN0QWxsKHNlbGVjdG9yLnJlcGxhY2UoJy5hY3RpdmUtcGFnZScsICcnKS50cmltKCkpXG4gICAgLm9uKCcuZHJhZycsIG51bGwpO1xuICBjb25zdCBkcmFnU2VsZWN0QWN0aW9uID0gZDMuZHJhZygpXG4gICAgLm9uKCdzdGFydCcsIHNlbFN0YXJ0KVxuICAgIC5vbignZHJhZycsIHNlbGVjdGluZylcbiAgICAub24oJ2VuZCcsIHNlbEVuZCk7XG4gIGNhbnZhcy5jYWxsKGRyYWdTZWxlY3RBY3Rpb24pO1xuICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICBkcmFnSGFuZGxlci5yZXNldFRvKGRyYWdTZWxlY3RBY3Rpb24pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBlcnJvckxvZ3NQYW5lbENvbnRlbnRzIH0gZnJvbSAnLi4vU3F1YXJlRWRpdC9Db250ZW50cyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncywgZ2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuXG5cbi8vIFRPRE86IHN0eWxpbmdcbmZ1bmN0aW9uIGNyZWF0ZUxvZ01lc3NhZ2UgKG5vdGlmOiBOb3RpZmljYXRpb24pOiBFbGVtZW50IHtcbiAgY29uc3Qgbm90aWZEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbm90aWZEaXYuY2xhc3NMaXN0LmFkZCgnbm90aWZpY2F0aW9uLWNvbnRhaW5lcicpO1xuICBub3RpZkRpdi5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm5vdGlmaWNhdGlvbi13cmFwcGVyXCI+XG5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctbWFpblwiPiR7bm90aWYubWVzc2FnZX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1leHRyYVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJyZW1vdmUtbm90aWYtaWNvbi13cmFwcGVyXCI+XG4gICAgICA8aW1nIGNsYXNzPVwibG9nLXJlbW92ZSByZW1vdmUtbm90aWYtaWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLWNsb3NlZC5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICBjb25zdCByZW1vdmUgPSBub3RpZkRpdi5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignLmxvZy1yZW1vdmUnKTtcbiAgcmVtb3ZlLm9uY2xpY2sgPSAoKSA9PiBub3RpZkRpdi5yZW1vdmUoKTtcbiAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICByZW1vdmUuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2Utb3Blbi5zdmdgKTtcbiAgfSk7XG4gIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICByZW1vdmUuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2UtY2xvc2VkLnN2Z2ApO1xuICB9KTtcblxuICByZXR1cm4gbm90aWZEaXY7XG59XG5cblxuLyoqXG4gKiBBZGQgbm90aWZpY2F0aW9uIHRvIHRoZSBwZXJzaXN0ZW50IGVycm9yIGxvZyBvbiB0aGUgc2lkZWJhclxuICogQHBhcmFtIG5vdGlmIHtOb3RpZmljYXRpb259IE5vdGlmaWNhdGlvbiB0byBhZGQgdG8gdGhlIGVycm9yIGxvZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkTm90aWZpY2F0aW9uIChub3RpZjogTm90aWZpY2F0aW9uKTogdm9pZCB7XG4gIGNvbnN0IGxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0NvbnRlbnRzJyk7XG4gIGxvZy5wcmVwZW5kKGNyZWF0ZUxvZ01lc3NhZ2Uobm90aWYpKTtcbn1cblxuXG4vKipcbiAqIEluaXRpYWxpemUgZXJyb3IgbG9nLlxuICogQWRkcyBuZWNlc3NhcnkgSFRNTCB0byBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXJyb3JMb2coKTogdm9pZCB7XG4gIC8vIEVycm9yIGxvZyBwYW5lbFxuICBjb25zdCBsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGxvZy5pbm5lckhUTUwgPSBlcnJvckxvZ3NQYW5lbENvbnRlbnRzO1xuXG4gIGluaXRFcnJvckxvZ0NvbnRyb2xzKCk7XG59XG5cblxuLyoqXG4gKiBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBlcnJvciBMb2cgcGFuZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRFcnJvckxvZ0NvbnRyb2xzKCk6IHZvaWQge1xuICBjb25zdCBlcnJvclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nSGVhZGluZycpO1xuICBjb25zdCBkcm9wZG93bkljb24gPSBoZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJ3N2ZyA+IHVzZScpO1xuICBjb25zdCBjb250ZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0NvbnRlbnRzJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBkaXNwbGF5RXJyTG9nIH0gPSBnZXRTZXR0aW5ncygpO1xuICBpZiAoZGlzcGxheUVyckxvZykgZXJyb3JQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgaGVhZGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBlcnJvciBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBpZiAoY29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYW4gb3BlbiBwYW5lbFxuICAgICAgY29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBjb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzAuNWVtIDAuNzVlbSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZXJyb3IgcGFuZWwgaXMgb3BlbiwgY2xvc2UgaXRcbiAgICBlbHNlIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGEgY2xvc2VkIHBhbmVsXG4gICAgICBjb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwcHgnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluaXREaXNwbGF5TGlzdGVuZXIoKTtcbn1cblxuXG4vKipcbiAqIEluaXRpYWxpemVzIGNsaWNrIGxpc3RlbmVyIG9uIFwiU2hvdyBlcnJvciBsb2dzXCIgYnV0dG9uIGluIFwiVmlld1wiIGRyb3Bkb3duLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdERpc3BsYXlMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgbm90aWZQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgY2hlY2tib3hlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNwbGF5LXNpbmdsZS1jb250YWluZXInKTtcbiAgY29uc3QgZXJyb3JzTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBjb25zdCBlcm9ycnNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gIGVyb3Jyc0J0bi5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICBlcnJvcnNMYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC1jb250YWluZXInLCAnc2lkZS1wYW5lbC1idG4nKTtcbiAgZXJyb3JzTGFiZWwudGV4dENvbnRlbnQgPSAnRXJyb3JzJztcbiAgZXJvcnJzQnRuLmlkID0gJ2Rpc3BsYXktZXJyb3JzJztcbiAgZXJvcnJzQnRuLnR5cGUgPSAnY2hlY2tib3gnO1xuICBlcm9ycnNCdG4uY2hlY2tlZCA9IGZhbHNlO1xuICBlcnJvcnNMYWJlbC5hcHBlbmRDaGlsZChlcm9ycnNCdG4pO1xuICBjaGVja2JveGVzQ29udGFpbmVyLmFwcGVuZChlcnJvcnNMYWJlbCk7XG5cblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGlmIChkaXNwbGF5RXJyTG9nKSBlcm9ycnNCdG4uY2hlY2tlZCA9IHRydWU7XG5cbiAgZXJvcnJzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgLy8gc2V0U2V0dGluZ3MoeyBkaXNwbGF5QkJveDogZGlzcGxheUJCb3hlcy5jaGVja2VkIH0pO1xuXG4gICAgY29uc3QgZGlzcGxheUFsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWFsbC1idG4nKTtcbiAgICBjb25zdCBkaXNwbGF5SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SW5mbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgZGlzcGxheUJCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgZGlzcGxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheVRleHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlFcnJMb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1lcnJvcnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG5cbiAgICBpZiAoZXJvcnJzQnRuLmNoZWNrZWQpIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5RXJyTG9nOiB0cnVlIH0pO1xuXG4gICAgICBpZiAoZGlzcGxheUluZm8/LmNoZWNrZWQgJiYgZGlzcGxheUJCb3hlcz8uY2hlY2tlZCAmJiBcbiAgICAgICAgZGlzcGxheVRleHQ/LmNoZWNrZWQgJiYgZGlzcGxheUVyckxvZz8uY2hlY2tlZCkge1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBub3RpZlBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgIHNldFNldHRpbmdzKHsgZGlzcGxheUVyckxvZzogZmFsc2UgfSk7XG4gICAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICB9KTtcbn1cbiIsImltcG9ydCB7IHNlbGVjdEJCb3gsIHVuc2VsZWN0IH0gZnJvbSAnLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBzZXRTZWxlY3RIZWxwZXJPYmplY3RzLCBkcmFnU2VsZWN0LCBjbGlja1NlbGVjdCB9IGZyb20gJy4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCB7IHNldEdyb3VwaW5nSGlnaGxpZ2h0IH0gZnJvbSAnLi91dGlscy9Db2xvcic7XG5pbXBvcnQgeyBUZXh0RWRpdEludGVyZmFjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgIHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5cbi8qKlxuICogRm9ybWF0IGEgc3RyaW5nIGZvciBwcm9tcHRpbmcgdGhlIHVzZXIuXG4gKiBAcGFyYW0gcmF3U3RyaW5nIC0gVGhlIHVuZm9ybWF0dGVkIHN0cmluZy5cbiAqL1xuLypcbmZ1bmN0aW9uIGZvcm1hdFJhdyAocmF3U3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gIHJldHVybiByYXdTdHJpbmcucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG59XG4qL1xuXG5mdW5jdGlvbiBzZWxCeVN5bGxhYmxlTGlzdGVuZXIgKCk6IHZvaWQge1xuICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgdW5zZWxlY3QoKTtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5jJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOZXVtZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlMYXllckVsZW1lbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkQkJveCAoc3BhbjogSFRNTFNwYW5FbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldykge1xuICB1bnNlbGVjdCgpO1xuXG4gIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoZSA9PiBlICE9PSAndGV4dC1zZWxlY3QnICYmIGUgIT09ICdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkpIHtcbiAgICAgIGNvbnN0IGRpc3BsYXlSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIHNlbGVjdEJCb3goZGlzcGxheVJlY3QsIGRyYWdIYW5kbGVyLCBuZW9uVmlldyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSBUZXh0IGVkaXRpbmcgbW9kdWxlIHRoYXQgd29ya3Mgd2l0aCB0aGUgU2luZ2xlVmlldyBhbmQgRGl2YVZpZXcgbW9kdWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0RWRpdE1vZGUgaW1wbGVtZW50cyBUZXh0RWRpdEludGVyZmFjZSB7XG4gIHByaXZhdGUgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyO1xuICBwcml2YXRlIG5lb25WaWV3OiBOZW9uVmlldztcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGEgVGV4dEVkaXRcbiAgICogQHBhcmFtIG5lb25WaWV3IC0gVGhlIGNhbGxpbmcgW1tOZW9uVmlld11dIGZvciB0aGUgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdFRleHRFZGl0KCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIGJveCBzZWxlY3RlZCB3aGVuIHRoZSBlZGl0IHRleHQgbW9kYWwgaGFzIGJlZW4gY2xpY2tlZCBcbiAgICovXG4gIHVwZGF0ZVNlbGVjdGVkQkJveCAoc3BhbjogSFRNTFNwYW5FbGVtZW50KTogdm9pZCB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoZSA9PiBlICE9PSAndGV4dC1zZWxlY3QnICYmIGUgIT09ICdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpKSB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgc2VsZWN0QkJveChkaXNwbGF5UmVjdCwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgKiBTZXQgdGV4dCB0byBlZGl0IG1vZGVcbiAgKi9cbiAgaW5pdFRleHRFZGl0ICgpOiB2b2lkIHtcbiAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKTtcbiAgICBjb25zdCBtb2RhbCA9IHRoaXMubmVvblZpZXcubW9kYWw7XG4gICAgc3BhbnMuZm9yRWFjaCgoc3BhbjogSFRNTFNwYW5FbGVtZW50KSA9PiB7XG4gICAgICBmdW5jdGlvbiBzZWxlY3RTeWxUZXh0ICgpOiB2b2lkIHtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIG1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUKTtcbiAgICAgICAgbW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gICAgICAgIHVwZGF0ZVNlbGVjdGVkQkJveChzcGFuLCB0aGlzLmRyYWdIYW5kbGVyLCB0aGlzLm5lb25WaWV3KTtcbiAgICAgIH1cblxuICAgICAgc3Bhbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdFN5bFRleHQpO1xuICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdFN5bFRleHQpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgKiBBZGQgdGhlIHNlbGVjdEJ5QkJveCBidXR0b24uXG4gICogSWYgbmV1bWUgZWRpdCBtb2RlIGlzIHRoZXJlLCBhZGQgaXQgdG8gdGhlIGJhciB3aXRoIHRoZSBvdGhlciBzZWxlY3QgYnkgYnV0dG9ucy5cbiAgKiBPdGhlcndpc2UgYWRkIGFuIGludmlzaWJsZSBidXR0b25cbiAgKiBzaW5jZSB0aGUgb25seSBlZGl0IG1vZGUgaXMgc2VsZWN0QnlSZWN0IGluIHRoYXQgY2FzZVxuICAqL1xuICBpbml0U2VsZWN0QnlCQm94QnV0dG9uICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc2VsQnlCQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpO1xuICAgICAgaWYgKHNlbEJ5QkJveCkge1xuICAgICAgICBzZWxCeUJCb3guc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGlvbi1tb2RlLWJ0bnMtY29udGFpbmVyJyk7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzaWRlLXBhbmVsLWJ0bicsICdzZWwtYnknKTtcbiAgICAgIGJ1dHRvbi5pZCA9ICdzZWxCeUJCb3gnO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0JCb3gnO1xuICAgICAgYmxvY2suYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbEJ5U3lsbGFibGVMaXN0ZW5lci5iaW5kKHRoaXMpKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICc2Jykge1xuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jykuc3R5bGUuZGlzcGxheSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNlbEJ5U3lsbGFibGVMaXN0ZW5lci5iaW5kKHRoaXMpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbG9zZXN0KCcuY29udHJvbCcpO1xuICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHAuY2xhc3NMaXN0LmFkZCgnY29udHJvbCcpO1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnc2lkZS1wYW5lbC1idG4nLCAnc2VsLWJ5Jyk7XG4gICAgICBidXR0b24uaWQgPSAnc2VsQnlCQm94JztcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdCQm94JztcbiAgICAgIHAuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJsb2NrLmFwcGVuZENoaWxkKHApO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc2VsZWN0IGJ5IGJib3ggbW9kZVxuICAgKi9cbiAgYWRkQkJveExpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgaWYgKHRoaXMubmVvblZpZXcuTmV1bWVFZGl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8ganVzdCBpbiBjYXNlXG4gICAgICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIHNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLm5lb25WaWV3LnZpZXcuY29uc3RydWN0b3IubmFtZSA9PT0gJ1NpbmdsZVZpZXcnKSB7XG4gICAgICAgICAgY2xpY2tTZWxlY3QoJyNtZWlfb3V0cHV0LCAjbWVpX291dHB1dCByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnI3N2Z19ncm91cCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWNrU2VsZWN0KCcuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcsIC5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZyByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnLmFjdGl2ZS1wYWdlIHN2ZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgaW1tZWRpYXRlIGZyb20gJ2ltbWVkaWF0ZSc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IE1kNSBmcm9tICdzcGFyay1tZDUnO1xuaW1wb3J0IHZ1dnV6ZWxhIGZyb20gJ3Z1dnV6ZWxhJztcbmltcG9ydCBnZXRBcmd1bWVudHMgZnJvbSAnYXJnc2FycmF5JztcbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5pbXBvcnQgRUUgZnJvbSAnZXZlbnRzJztcblxuZnVuY3Rpb24gbWFuZ2xlKGtleSkge1xuICByZXR1cm4gJyQnICsga2V5O1xufVxuZnVuY3Rpb24gdW5tYW5nbGUoa2V5KSB7XG4gIHJldHVybiBrZXkuc3Vic3RyaW5nKDEpO1xufVxuZnVuY3Rpb24gTWFwJDEoKSB7XG4gIHRoaXMuX3N0b3JlID0ge307XG59XG5NYXAkMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG59O1xuTWFwJDEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHRoaXMuX3N0b3JlW21hbmdsZWRdID0gdmFsdWU7XG4gIHJldHVybiB0cnVlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLm1hcChrID0+IHVubWFuZ2xlKGspKTtcbn07XG5NYXAkMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB2YXIgcmVzID0gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbiAgZGVsZXRlIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xuICByZXR1cm4gcmVzO1xufTtcbk1hcCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3N0b3JlW2tleV07XG4gICAga2V5ID0gdW5tYW5nbGUoa2V5KTtcbiAgICBjYih2YWx1ZSwga2V5KTtcbiAgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIFNldCQxKGFycmF5KSB7XG4gIHRoaXMuX3N0b3JlID0gbmV3IE1hcCQxKCk7XG5cbiAgLy8gaW5pdCB3aXRoIGFuIGFycmF5XG4gIGlmIChhcnJheSAmJiBBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5hZGQoYXJyYXlbaV0pO1xuICAgIH1cbiAgfVxufVxuU2V0JDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLnNldChrZXksIHRydWUpO1xufTtcblNldCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5oYXMoa2V5KTtcbn07XG5TZXQkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB0aGlzLl9zdG9yZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgY2Ioa2V5KTtcbiAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5zaXplO1xuICB9XG59KTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9rYW5nYXguZ2l0aHViLmlvL2NvbXBhdC10YWJsZS9lczYvIHdlIGNhbiBzbmlmZiBvdXRcbi8vIGluY29tcGxldGUgTWFwL1NldCBpbXBsZW1lbnRhdGlvbnMgd2hpY2ggd291bGQgb3RoZXJ3aXNlIGNhdXNlIG91ciB0ZXN0cyB0byBmYWlsLlxuLy8gTm90YWJseSB0aGV5IGZhaWwgaW4gSUUxMSBhbmQgaU9TIDguNCwgd2hpY2ggdGhpcyBwcmV2ZW50cy5cbmZ1bmN0aW9uIHN1cHBvcnRzTWFwQW5kU2V0KCkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3AgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1hcCwgU3ltYm9sLnNwZWNpZXMpO1xuICByZXR1cm4gcHJvcCAmJiAnZ2V0JyBpbiBwcm9wICYmIE1hcFtTeW1ib2wuc3BlY2llc10gPT09IE1hcDtcbn1cblxuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL21vbnRhZ2Vqcy9jb2xsZWN0aW9uc1xuXG52YXIgRXhwb3J0ZWRTZXQ7XG52YXIgRXhwb3J0ZWRNYXA7XG5cbntcbiAgaWYgKHN1cHBvcnRzTWFwQW5kU2V0KCkpIHsgLy8gcHJlZmVyIGJ1aWx0LWluIE1hcC9TZXRcbiAgICBFeHBvcnRlZFNldCA9IFNldDtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcDtcbiAgfSBlbHNlIHsgLy8gZmFsbCBiYWNrIHRvIG91ciBwb2x5ZmlsbFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0JDE7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXAkMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQmxvYik7XG59XG5cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYnVmZikge1xuICBpZiAodHlwZW9mIGJ1ZmYuc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYnVmZi5zbGljZSgwKTtcbiAgfVxuICAvLyBJRTEwLTExIHNsaWNlKCkgcG9seWZpbGxcbiAgdmFyIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihidWZmLmJ5dGVMZW5ndGgpO1xuICB2YXIgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuICB2YXIgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmKTtcbiAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG4gIH1cbiAgdmFyIHNpemUgPSBvYmplY3Quc2l6ZTtcbiAgdmFyIHR5cGUgPSBvYmplY3QudHlwZTtcbiAgLy8gQmxvYlxuICBpZiAodHlwZW9mIG9iamVjdC5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvYmplY3Quc2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG4gIH1cbiAgLy8gUGhhbnRvbUpTIHNsaWNlKCkgcmVwbGFjZW1lbnRcbiAgcmV0dXJuIG9iamVjdC53ZWJraXRTbGljZSgwLCBzaXplLCB0eXBlKTtcbn1cblxuLy8gbW9zdCBvZiB0aGlzIGlzIGJvcnJvd2VkIGZyb20gbG9kYXNoLmlzUGxhaW5PYmplY3Q6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmlzLWNvbXBvbmVudHMvbG9kYXNoLmlzcGxhaW5vYmplY3QvXG4vLyBibG9iLzI5YzM1ODE0MGE3NGYyNTJhZWIwOGM5ZWIyOGJlZjg2ZjIyMTdkNGEvaW5kZXguanNcblxudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHByb3RvID09PSBudWxsKSB7IC8vIG5vdCBzdXJlIHdoZW4gdGhpcyBoYXBwZW5zLCBidXQgSSBndWVzcyBpdCBjYW5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcbiAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7XG4gIHZhciBuZXdPYmplY3Q7XG4gIHZhciBpO1xuICB2YXIgbGVuO1xuXG4gIGlmICghb2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBuZXdPYmplY3QgPSBbXTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5ld09iamVjdFtpXSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG4gIH1cblxuICAvLyBzcGVjaWFsIGNhc2U6IHRvIGF2b2lkIGluY29uc2lzdGVuY2llcyBiZXR3ZWVuIEluZGV4ZWREQlxuICAvLyBhbmQgb3RoZXIgYmFja2VuZHMsIHdlIGF1dG9tYXRpY2FsbHkgc3RyaW5naWZ5IERhdGVzXG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlICYmIGlzRmluaXRlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0LnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICBpZiAoaXNCaW5hcnlPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0OyAvLyBkb24ndCBjbG9uZSBvYmplY3RzIGxpa2UgV29ya2Vyc1xuICB9XG5cbiAgbmV3T2JqZWN0ID0ge307XG4gIGZvciAoaSBpbiBvYmplY3QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBpKSkge1xuICAgICAgdmFyIHZhbHVlID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5ld09iamVjdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3T2JqZWN0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGZ1bikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgc21va2UgdGVzdCBhbmQgc2hvdWxkIG5ldmVyIGFjdHVhbGx5IGhhcHBlblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbmNlIGNhbGxlZCBtb3JlIHRoYW4gb25jZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvUHJvbWlzZShmdW5jKSB7XG4gIC8vY3JlYXRlIHRoZSBmdW5jdGlvbiB3ZSB3aWxsIGJlIHJldHVybmluZ1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLy8gQ2xvbmUgYXJndW1lbnRzXG4gICAgYXJncyA9IGNsb25lKGFyZ3MpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBpZiB0aGUgbGFzdCBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLCBhc3N1bWUgaXRzIGEgY2FsbGJhY2tcbiAgICB2YXIgdXNlZENCID0gKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpID8gYXJncy5wb3AoKSA6IGZhbHNlO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIG1lc2cpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChtZXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3IgdGhpcyBpbnZvY2F0aW9uXG4gICAgICAgIC8vIGFwcGx5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZyBjb250ZXh0XG4gICAgICAgIGFyZ3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJlc3AgPSBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICBpZiAocmVzcCAmJiB0eXBlb2YgcmVzcC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZnVsZmlsbChyZXNwKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBjYWxsYmFjaywgY2FsbCBpdCBiYWNrXG4gICAgaWYgKHVzZWRDQikge1xuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdXNlZENCKG51bGwsIHJlc3VsdCk7XG4gICAgICB9LCB1c2VkQ0IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHNlbGYuY29uc3RydWN0b3IubGlzdGVuZXJzKCdkZWJ1ZycpLmxlbmd0aCkge1xuICAgIHZhciBsb2dBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGxvZ0FyZ3MucHVzaChhcmdzW2ldKTtcbiAgICB9XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIGxvZ0FyZ3MpO1xuXG4gICAgLy8gb3ZlcnJpZGUgdGhlIGNhbGxiYWNrIGl0c2VsZiB0byBsb2cgdGhlIHJlc3BvbnNlXG4gICAgdmFyIG9yaWdDYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIHZhciByZXNwb25zZUFyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgICByZXNwb25zZUFyZ3MgPSByZXNwb25zZUFyZ3MuY29uY2F0KFxuICAgICAgICBlcnIgPyBbJ2Vycm9yJywgZXJyXSA6IFsnc3VjY2VzcycsIHJlc11cbiAgICAgICk7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgcmVzcG9uc2VBcmdzKTtcbiAgICAgIG9yaWdDYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGFwdGVyRnVuKG5hbWUsIGNhbGxiYWNrKSB7XG4gIHJldHVybiB0b1Byb21pc2UoZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgY2xvc2VkJykpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBkZXN0cm95ZWQnKSk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpO1xuICAgIGlmICghdGhpcy50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICAgICAgcmVqZWN0KGZhaWxlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwoc2VsZltuYW1lXS5hcHBseShzZWxmLCBhcmdzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gIH0pKTtcbn1cblxuLy8gbGlrZSB1bmRlcnNjb3JlL2xvZGFzaCBfLnBpY2soKVxuZnVuY3Rpb24gcGljayhvYmosIGFycikge1xuICB2YXIgcmVzID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IGFycltpXTtcbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc1twcm9wXSA9IG9ialtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gTW9zdCBicm93c2VycyB0aHJvdHRsZSBjb25jdXJyZW50IHJlcXVlc3RzIGF0IDYsIHNvIGl0J3Mgc2lsbHlcbi8vIHRvIHNoaW0gX2J1bGtfZ2V0IGJ5IHRyeWluZyB0byBsYXVuY2ggcG90ZW50aWFsbHkgaHVuZHJlZHMgb2YgcmVxdWVzdHNcbi8vIGFuZCB0aGVuIGxldHRpbmcgdGhlIG1ham9yaXR5IHRpbWUgb3V0LiBXZSBjYW4gaGFuZGxlIHRoaXMgb3Vyc2VsdmVzLlxudmFyIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUyA9IDY7XG5cbmZ1bmN0aW9uIGlkZW50aXR5RnVuY3Rpb24oeCkge1xuICByZXR1cm4geDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQocmVzdWx0KSB7XG4gIHJldHVybiBbe1xuICAgIG9rOiByZXN1bHRcbiAgfV07XG59XG5cbi8vIHNoaW0gZm9yIFAvQ291Y2hEQiBhZGFwdGVycyB0aGF0IGRvbid0IGRpcmVjdGx5IGltcGxlbWVudCBfYnVsa19nZXRcbmZ1bmN0aW9uIGJ1bGtHZXQoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0cyA9IG9wdHMuZG9jcztcblxuICAvLyBjb25zb2xpZGF0ZSBpbnRvIG9uZSByZXF1ZXN0IHBlciBkb2MgaWYgcG9zc2libGVcbiAgdmFyIHJlcXVlc3RzQnlJZCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICByZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3RzQnlJZC5oYXMocmVxdWVzdC5pZCkpIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5nZXQocmVxdWVzdC5pZCkucHVzaChyZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdHNCeUlkLnNldChyZXF1ZXN0LmlkLCBbcmVxdWVzdF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIG51bURvY3MgPSByZXF1ZXN0c0J5SWQuc2l6ZTtcbiAgdmFyIG51bURvbmUgPSAwO1xuICB2YXIgcGVyRG9jUmVzdWx0cyA9IG5ldyBBcnJheShudW1Eb2NzKTtcblxuICBmdW5jdGlvbiBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwZXJEb2NSZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVzLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkOiByZXMuaWQsXG4gICAgICAgICAgZG9jczogW2luZm9dXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IHJlc3VsdHN9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBudW1Eb2NzKSB7XG4gICAgICBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnb3RSZXN1bHQoZG9jSW5kZXgsIGlkLCBkb2NzKSB7XG4gICAgcGVyRG9jUmVzdWx0c1tkb2NJbmRleF0gPSB7aWQ6IGlkLCBkb2NzOiBkb2NzfTtcbiAgICBjaGVja0RvbmUoKTtcbiAgfVxuXG4gIHZhciBhbGxSZXF1ZXN0cyA9IFtdO1xuICByZXF1ZXN0c0J5SWQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGFsbFJlcXVlc3RzLnB1c2goa2V5KTtcbiAgfSk7XG5cbiAgdmFyIGkgPSAwO1xuXG4gIGZ1bmN0aW9uIG5leHRCYXRjaCgpIHtcblxuICAgIGlmIChpID49IGFsbFJlcXVlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB1cFRvID0gTWF0aC5taW4oaSArIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUywgYWxsUmVxdWVzdHMubGVuZ3RoKTtcbiAgICB2YXIgYmF0Y2ggPSBhbGxSZXF1ZXN0cy5zbGljZShpLCB1cFRvKTtcbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2gsIGkpO1xuICAgIGkgKz0gYmF0Y2gubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoLCBvZmZzZXQpIHtcbiAgICBiYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJZCwgaikge1xuICAgICAgdmFyIGRvY0lkeCA9IG9mZnNldCArIGo7XG4gICAgICB2YXIgZG9jUmVxdWVzdHMgPSByZXF1ZXN0c0J5SWQuZ2V0KGRvY0lkKTtcblxuICAgICAgLy8ganVzdCB1c2UgdGhlIGZpcnN0IHJlcXVlc3QgYXMgdGhlIFwidGVtcGxhdGVcIlxuICAgICAgLy8gVE9ETzogVGhlIF9idWxrX2dldCBBUEkgYWxsb3dzIGZvciBtb3JlIHN1YnRsZSB1c2UgY2FzZXMgdGhhbiB0aGlzLFxuICAgICAgLy8gYnV0IGZvciBub3cgaXQgaXMgdW5saWtlbHkgdGhhdCB0aGVyZSB3aWxsIGJlIGEgbWl4IG9mIGRpZmZlcmVudFxuICAgICAgLy8gXCJhdHRzX3NpbmNlXCIgb3IgXCJhdHRhY2htZW50c1wiIGluIHRoZSBzYW1lIHJlcXVlc3QsIHNpbmNlIGl0J3MganVzdFxuICAgICAgLy8gcmVwbGljYXRlLmpzIHRoYXQgaXMgdXNpbmcgdGhpcyBmb3IgdGhlIG1vbWVudC5cbiAgICAgIC8vIEFsc28sIGF0dHNfc2luY2UgaXMgYXNwaXJhdGlvbmFsLCBzaW5jZSB3ZSBkb24ndCBzdXBwb3J0IGl0IHlldC5cbiAgICAgIHZhciBkb2NPcHRzID0gcGljayhkb2NSZXF1ZXN0c1swXSwgWydhdHRzX3NpbmNlJywgJ2F0dGFjaG1lbnRzJ10pO1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NSZXF1ZXN0cy5tYXAoZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgLy8gcmV2IGlzIG9wdGlvbmFsLCBvcGVuX3JldnMgZGlzYWxsb3dlZFxuICAgICAgICByZXR1cm4gcmVxdWVzdC5yZXY7XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVtb3ZlIGZhbHNleSAvIHVuZGVmaW5lZCByZXZpc2lvbnNcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jT3B0cy5vcGVuX3JldnMuZmlsdGVyKGlkZW50aXR5RnVuY3Rpb24pO1xuXG4gICAgICB2YXIgZm9ybWF0UmVzdWx0ID0gaWRlbnRpdHlGdW5jdGlvbjtcblxuICAgICAgaWYgKGRvY09wdHMub3Blbl9yZXZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgZG9jT3B0cy5vcGVuX3JldnM7XG5cbiAgICAgICAgLy8gd2hlbiBmZXRjaGluZyBvbmx5IHRoZSBcIndpbm5pbmdcIiBsZWFmLFxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHJlc3VsdCBzbyBpdCBsb29rcyBsaWtlIGFuIG9wZW5fcmV2c1xuICAgICAgICAvLyByZXF1ZXN0XG4gICAgICAgIGZvcm1hdFJlc3VsdCA9IGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0O1xuICAgICAgfVxuXG4gICAgICAvLyBnbG9iYWxseS1zdXBwbGllZCBvcHRpb25zXG4gICAgICBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2FqYXgnLCAnbGF0ZXN0J10uZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgaWYgKHBhcmFtIGluIG9wdHMpIHtcbiAgICAgICAgICBkb2NPcHRzW3BhcmFtXSA9IG9wdHNbcGFyYW1dO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRiLmdldChkb2NJZCwgZG9jT3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gW3tlcnJvcjogZXJyfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gZm9ybWF0UmVzdWx0KHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZ290UmVzdWx0KGRvY0lkeCwgZG9jSWQsIHJlc3VsdCk7XG4gICAgICAgIG5leHRCYXRjaCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBuZXh0QmF0Y2goKTtcblxufVxuXG52YXIgaGFzTG9jYWw7XG5cbnRyeSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJywgMSk7XG4gIGhhc0xvY2FsID0gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScpO1xufSBjYXRjaCAoZSkge1xuICBoYXNMb2NhbCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XG4gIHJldHVybiBoYXNMb2NhbDtcbn1cblxuLy8gQ3VzdG9tIG5leHRUaWNrKCkgc2hpbSBmb3IgYnJvd3NlcnMuIEluIG5vZGUsIHRoaXMgd2lsbCBqdXN0IGJlIHByb2Nlc3MubmV4dFRpY2soKS4gV2VcblxuaW5oZXJpdHMoQ2hhbmdlcywgRUUpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gYXR0YWNoQnJvd3NlckV2ZW50cyhzZWxmKSB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzZWxmLmVtaXQoZS5rZXkpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXG4gIGF0dGFjaEJyb3dzZXJFdmVudHModGhpcyk7XG59XG5DaGFuZ2VzLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkLCBkYiwgb3B0cykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHRoaXMuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICBmdW5jdGlvbiBldmVudEZ1bmN0aW9uKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghc2VsZi5fbGlzdGVuZXJzW2lkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5wcm9ncmVzcykge1xuICAgICAgaW5wcm9ncmVzcyA9ICd3YWl0aW5nJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5wcm9ncmVzcyA9IHRydWU7XG4gICAgdmFyIGNoYW5nZXNPcHRzID0gcGljayhvcHRzLCBbXG4gICAgICAnc3R5bGUnLCAnaW5jbHVkZV9kb2NzJywgJ2F0dGFjaG1lbnRzJywgJ2NvbmZsaWN0cycsICdmaWx0ZXInLFxuICAgICAgJ2RvY19pZHMnLCAndmlldycsICdzaW5jZScsICdxdWVyeV9wYXJhbXMnLCAnYmluYXJ5JywgJ3JldHVybl9kb2NzJ1xuICAgIF0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGRiLmNoYW5nZXMoY2hhbmdlc09wdHMpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuc2VxID4gb3B0cy5zaW5jZSAmJiAhb3B0cy5jYW5jZWxsZWQpIHtcbiAgICAgICAgb3B0cy5zaW5jZSA9IGMuc2VxO1xuICAgICAgICBvcHRzLm9uQ2hhbmdlKGMpO1xuICAgICAgfVxuICAgIH0pLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpbnByb2dyZXNzID09PSAnd2FpdGluZycpIHtcbiAgICAgICAgaW1tZWRpYXRlKGV2ZW50RnVuY3Rpb24pO1xuICAgICAgfVxuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH0pLm9uKCdlcnJvcicsIG9uRXJyb3IpO1xuICB9XG4gIHRoaXMuX2xpc3RlbmVyc1tpZF0gPSBldmVudEZ1bmN0aW9uO1xuICB0aGlzLm9uKGRiTmFtZSwgZXZlbnRGdW5jdGlvbik7XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIShpZCBpbiB0aGlzLl9saXN0ZW5lcnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIEVFLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsIGRiTmFtZSxcbiAgICB0aGlzLl9saXN0ZW5lcnNbaWRdKTtcbiAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tpZF07XG59O1xuXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnlMb2NhbFdpbmRvd3MgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIC8vZG8gYSB1c2VsZXNzIGNoYW5nZSBvbiBhIHN0b3JhZ2UgdGhpbmdcbiAgLy9pbiBvcmRlciB0byBnZXQgb3RoZXIgd2luZG93cydzIGxpc3RlbmVycyB0byBhY3RpdmF0ZVxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9IChsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9PT0gXCJhXCIpID8gXCJiXCIgOiBcImFcIjtcbiAgfVxufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICB0aGlzLmVtaXQoZGJOYW1lKTtcbiAgdGhpcy5ub3RpZnlMb2NhbFdpbmRvd3MoZGJOYW1lKTtcbn07XG5cbmZ1bmN0aW9uIGd1YXJkZWRDb25zb2xlKG1ldGhvZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbU51bWJlcihtaW4sIG1heCkge1xuICB2YXIgbWF4VGltZW91dCA9IDYwMDAwMDsgLy8gSGFyZC1jb2RlZCBkZWZhdWx0IG9mIDEwIG1pbnV0ZXNcbiAgbWluID0gcGFyc2VJbnQobWluLCAxMCkgfHwgMDtcbiAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMCk7XG4gIGlmIChtYXggIT09IG1heCB8fCBtYXggPD0gbWluKSB7XG4gICAgbWF4ID0gKG1pbiB8fCAxKSA8PCAxOyAvL2RvdWJsaW5nXG4gIH0gZWxzZSB7XG4gICAgbWF4ID0gbWF4ICsgMTtcbiAgfVxuICAvLyBJbiBvcmRlciB0byBub3QgZXhjZWVkIG1heFRpbWVvdXQsIHBpY2sgYSByYW5kb20gdmFsdWUgYmV0d2VlbiBoYWxmIG9mIG1heFRpbWVvdXQgYW5kIG1heFRpbWVvdXRcbiAgaWYgKG1heCA+IG1heFRpbWVvdXQpIHtcbiAgICBtaW4gPSBtYXhUaW1lb3V0ID4+IDE7IC8vIGRpdmlkZSBieSB0d29cbiAgICBtYXggPSBtYXhUaW1lb3V0O1xuICB9XG4gIHZhciByYXRpbyA9IE1hdGgucmFuZG9tKCk7XG4gIHZhciByYW5nZSA9IG1heCAtIG1pbjtcblxuICByZXR1cm4gfn4ocmFuZ2UgKiByYXRpbyArIG1pbik7IC8vIH5+IGNvZXJjZXMgdG8gYW4gaW50LCBidXQgZmFzdC5cbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJhY2tPZmYobWluKSB7XG4gIHZhciBtYXggPSAwO1xuICBpZiAoIW1pbikge1xuICAgIG1heCA9IDIwMDA7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbU51bWJlcihtaW4sIG1heCk7XG59XG5cbi8vIGRlc2lnbmVkIHRvIGdpdmUgaW5mbyB0byBicm93c2VyIHVzZXJzLCB3aG8gYXJlIGRpc3R1cmJlZFxuLy8gd2hlbiB0aGV5IHNlZSBodHRwIGVycm9ycyBpbiB0aGUgY29uc29sZVxuZnVuY3Rpb24gZXhwbGFpbkVycm9yKHN0YXR1cywgc3RyKSB7XG4gIGd1YXJkZWRDb25zb2xlKCdpbmZvJywgJ1RoZSBhYm92ZSAnICsgc3RhdHVzICsgJyBpcyB0b3RhbGx5IG5vcm1hbC4gJyArIHN0cik7XG59XG5cbnZhciBhc3NpZ247XG57XG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4gIH0gZWxzZSB7XG4gICAgLy8gbGl0ZSBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGJhc2VkIG9uXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuICAgIGFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG87XG4gICAgfTtcbiAgfVxufVxuXG52YXIgJGluamVjdF9PYmplY3RfYXNzaWduID0gYXNzaWduO1xuXG5pbmhlcml0cyhQb3VjaEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIFBvdWNoRXJyb3Ioc3RhdHVzLCBlcnJvciwgcmVhc29uKSB7XG4gIEVycm9yLmNhbGwodGhpcywgcmVhc29uKTtcbiAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIHRoaXMubmFtZSA9IGVycm9yO1xuICB0aGlzLm1lc3NhZ2UgPSByZWFzb247XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xufVxuXG5Qb3VjaEVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgcmVhc29uOiB0aGlzLnJlYXNvblxuICB9KTtcbn07XG5cbnZhciBVTkFVVEhPUklaRUQgPSBuZXcgUG91Y2hFcnJvcig0MDEsICd1bmF1dGhvcml6ZWQnLCBcIk5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LlwiKTtcbnZhciBNSVNTSU5HX0JVTEtfRE9DUyA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgXCJNaXNzaW5nIEpTT04gbGlzdCBvZiAnZG9jcydcIik7XG52YXIgTUlTU0lOR19ET0MgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnbWlzc2luZycpO1xudmFyIFJFVl9DT05GTElDVCA9IG5ldyBQb3VjaEVycm9yKDQwOSwgJ2NvbmZsaWN0JywgJ0RvY3VtZW50IHVwZGF0ZSBjb25mbGljdCcpO1xudmFyIElOVkFMSURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nJyk7XG52YXIgTUlTU0lOR19JRCA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3NpbmdfaWQnLCAnX2lkIGlzIHJlcXVpcmVkIGZvciBwdXRzJyk7XG52YXIgUkVTRVJWRURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdPbmx5IHJlc2VydmVkIGRvY3VtZW50IGlkcyBtYXkgc3RhcnQgd2l0aCB1bmRlcnNjb3JlLicpO1xudmFyIE5PVF9PUEVOID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAncHJlY29uZGl0aW9uX2ZhaWxlZCcsICdEYXRhYmFzZSBub3Qgb3BlbicpO1xudmFyIFVOS05PV05fRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd1bmtub3duX2Vycm9yJywgJ0RhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3InKTtcbnZhciBCQURfQVJHID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnYmFkYXJnJywgJ1NvbWUgcXVlcnkgYXJndW1lbnQgaXMgaW52YWxpZCcpO1xudmFyIElOVkFMSURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2ludmFsaWRfcmVxdWVzdCcsICdSZXF1ZXN0IHdhcyBpbnZhbGlkJyk7XG52YXIgUVVFUllfUEFSU0VfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdxdWVyeV9wYXJzZV9lcnJvcicsICdTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkJyk7XG52YXIgRE9DX1ZBTElEQVRJT04gPSBuZXcgUG91Y2hFcnJvcig1MDAsICdkb2NfdmFsaWRhdGlvbicsICdCYWQgc3BlY2lhbCBkb2N1bWVudCBtZW1iZXInKTtcbnZhciBCQURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ1NvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0Jyk7XG52YXIgTk9UX0FOX09CSkVDVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0RvY3VtZW50IG11c3QgYmUgYSBKU09OIG9iamVjdCcpO1xudmFyIERCX01JU1NJTkcgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnRGF0YWJhc2Ugbm90IGZvdW5kJyk7XG52YXIgSURCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnaW5kZXhlZF9kYl93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgV1NRX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnd2ViX3NxbF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgTERCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnbGV2ZWxEQl93ZW50X3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBGT1JCSURERU4gPSBuZXcgUG91Y2hFcnJvcig0MDMsICdmb3JiaWRkZW4nLCAnRm9yYmlkZGVuIGJ5IGRlc2lnbiBkb2MgdmFsaWRhdGVfZG9jX3VwZGF0ZSBmdW5jdGlvbicpO1xudmFyIElOVkFMSURfUkVWID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnSW52YWxpZCByZXYgZm9ybWF0Jyk7XG52YXIgRklMRV9FWElTVFMgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdmaWxlX2V4aXN0cycsICdUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNyZWF0ZWQsIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLicpO1xudmFyIE1JU1NJTkdfU1RVQiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3Npbmdfc3R1YicsICdBIHByZS1leGlzdGluZyBhdHRhY2htZW50IHN0dWIgd2FzblxcJ3QgZm91bmQnKTtcbnZhciBJTlZBTElEX1VSTCA9IG5ldyBQb3VjaEVycm9yKDQxMywgJ2ludmFsaWRfdXJsJywgJ1Byb3ZpZGVkIFVSTCBpcyBpbnZhbGlkJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKGVycm9yLCByZWFzb24pIHtcbiAgZnVuY3Rpb24gQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pIHtcbiAgICAvLyBpbmhlcml0IGVycm9yIHByb3BlcnRpZXMgZnJvbSBvdXIgcGFyZW50IGVycm9yIG1hbnVhbGx5XG4gICAgLy8gc28gYXMgdG8gYWxsb3cgcHJvcGVyIEpTT04gcGFyc2luZy5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgdmFyIG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXJyb3IpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBlcnJvcltuYW1lc1tpXV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tuYW1lc1tpXV0gPSBlcnJvcltuYW1lc1tpXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICBpZiAocmVhc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIH1cbiAgfVxuICBDdXN0b21Qb3VjaEVycm9yLnByb3RvdHlwZSA9IFBvdWNoRXJyb3IucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpIHtcblxuICBpZiAodHlwZW9mIGVyciAhPT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZGF0YSA9IGVycjtcbiAgICBlcnIgPSBVTktOT1dOX0VSUk9SO1xuICAgIGVyci5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICgnZXJyb3InIGluIGVyciAmJiBlcnIuZXJyb3IgPT09ICdjb25mbGljdCcpIHtcbiAgICBlcnIubmFtZSA9ICdjb25mbGljdCc7XG4gICAgZXJyLnN0YXR1cyA9IDQwOTtcbiAgfVxuXG4gIGlmICghKCduYW1lJyBpbiBlcnIpKSB7XG4gICAgZXJyLm5hbWUgPSBlcnIuZXJyb3IgfHwgJ3Vua25vd24nO1xuICB9XG5cbiAgaWYgKCEoJ3N0YXR1cycgaW4gZXJyKSkge1xuICAgIGVyci5zdGF0dXMgPSA1MDA7XG4gIH1cblxuICBpZiAoISgnbWVzc2FnZScgaW4gZXJyKSkge1xuICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UgfHwgZXJyLnJlYXNvbjtcbiAgfVxuXG4gIGlmICghKCdzdGFjaycgaW4gZXJyKSkge1xuICAgIGVyci5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiB0cnlGaWx0ZXIoZmlsdGVyLCBkb2MsIHJlcSkge1xuICB0cnkge1xuICAgIHJldHVybiAhZmlsdGVyKGRvYywgcmVxKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdmFyIG1zZyA9ICdGaWx0ZXIgZnVuY3Rpb24gdGhyZXc6ICcgKyBlcnIudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIG1zZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyQ2hhbmdlKG9wdHMpIHtcbiAgdmFyIHJlcSA9IHt9O1xuICB2YXIgaGFzRmlsdGVyID0gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nO1xuICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcblxuICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyKGNoYW5nZSkge1xuICAgIGlmICghY2hhbmdlLmRvYykge1xuICAgICAgLy8gQ1NHIHNlbmRzIGV2ZW50cyBvbiB0aGUgY2hhbmdlcyBmZWVkIHRoYXQgZG9uJ3QgaGF2ZSBkb2N1bWVudHMsXG4gICAgICAvLyB0aGlzIGhhY2sgbWFrZXMgYSB3aG9sZSBsb3Qgb2YgZXhpc3RpbmcgY29kZSByb2J1c3QuXG4gICAgICBjaGFuZ2UuZG9jID0ge307XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlclJldHVybiA9IGhhc0ZpbHRlciAmJiB0cnlGaWx0ZXIob3B0cy5maWx0ZXIsIGNoYW5nZS5kb2MsIHJlcSk7XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlclJldHVybiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJSZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlclJldHVybikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jO1xuICAgIH0gZWxzZSBpZiAoIW9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIGZvciAodmFyIGF0dCBpbiBjaGFuZ2UuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzLCBhdHQpKSB7XG4gICAgICAgICAgY2hhbmdlLmRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihhcnJzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXMgPSByZXMuY29uY2F0KGFycnNbaV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIHNoaW0gZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lLFxuXG4vLyBEZXRlcm1pbmUgaWQgYW4gSUQgaXMgdmFsaWRcbi8vICAgLSBpbnZhbGlkIElEcyBiZWdpbiB3aXRoIGFuIHVuZGVyZXNjb3JlIHRoYXQgZG9lcyBub3QgYmVnaW4gJ19kZXNpZ24nIG9yXG4vLyAgICAgJ19sb2NhbCdcbi8vICAgLSBhbnkgb3RoZXIgc3RyaW5nIHZhbHVlIGlzIGEgdmFsaWQgaWRcbi8vIFJldHVybnMgdGhlIHNwZWNpZmljIGVycm9yIG9iamVjdCBmb3IgZWFjaCBjYXNlXG5mdW5jdGlvbiBpbnZhbGlkSWRFcnJvcihpZCkge1xuICB2YXIgZXJyO1xuICBpZiAoIWlkKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19JRCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKElOVkFMSURfSUQpO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChpZCkgJiYgISgvXl8oZGVzaWdufGxvY2FsKS8pLnRlc3QoaWQpKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoUkVTRVJWRURfSUQpO1xuICB9XG4gIGlmIChlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLy8gQ2hlY2tzIGlmIGEgUG91Y2hEQiBvYmplY3QgaXMgXCJyZW1vdGVcIiBvciBub3QuIFRoaXMgaXNcblxuZnVuY3Rpb24gaXNSZW1vdGUoZGIpIHtcbiAgaWYgKHR5cGVvZiBkYi5fcmVtb3RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZGIuX3JlbW90ZTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIGRiLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAnZGIudHlwZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAnICtcbiAgICAgICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFBvdWNoREInKTtcbiAgICByZXR1cm4gZGIudHlwZSgpID09PSAnaHR0cCc7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KGVlLCB0eXBlKSB7XG4gIHJldHVybiAnbGlzdGVuZXJDb3VudCcgaW4gZWUgPyBlZS5saXN0ZW5lckNvdW50KHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVFLmxpc3RlbmVyQ291bnQoZWUsIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIGlmICghcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwYXJ0cyA9IHMuc3BsaXQoJy8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIFtzLCBzXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgdmFyIG5vcm1hbGl6ZWQgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPyBub3JtYWxpemVkLmpvaW4oJy8nKSA6IG51bGw7XG59XG5cbi8vIG9yaWdpbmFsbHkgcGFyc2VVcmkgMS4yLjIsIG5vdyBwYXRjaGVkIGJ5IHVzXG4vLyAoYykgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4vLyBNSVQgTGljZW5zZVxudmFyIGtleXMgPSBbXCJzb3VyY2VcIiwgXCJwcm90b2NvbFwiLCBcImF1dGhvcml0eVwiLCBcInVzZXJJbmZvXCIsIFwidXNlclwiLCBcInBhc3N3b3JkXCIsXG4gICAgXCJob3N0XCIsIFwicG9ydFwiLCBcInJlbGF0aXZlXCIsIFwicGF0aFwiLCBcImRpcmVjdG9yeVwiLCBcImZpbGVcIiwgXCJxdWVyeVwiLCBcImFuY2hvclwiXTtcbnZhciBxTmFtZSA9XCJxdWVyeUtleVwiO1xudmFyIHFQYXJzZXIgPSAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2c7XG5cbi8vIHVzZSB0aGUgXCJsb29zZVwiIHBhcnNlclxuLyogZXNsaW50IG5vLXVzZWxlc3MtZXNjYXBlOiAwICovXG52YXIgcGFyc2VyID0gL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuXG5mdW5jdGlvbiBwYXJzZVVyaShzdHIpIHtcbiAgdmFyIG0gPSBwYXJzZXIuZXhlYyhzdHIpO1xuICB2YXIgdXJpID0ge307XG4gIHZhciBpID0gMTQ7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG1baV0gfHwgXCJcIjtcbiAgICB2YXIgZW5jb2RlZCA9IFsndXNlcicsICdwYXNzd29yZCddLmluZGV4T2Yoa2V5KSAhPT0gLTE7XG4gICAgdXJpW2tleV0gPSBlbmNvZGVkID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgdXJpW3FOYW1lXSA9IHt9O1xuICB1cmlba2V5c1sxMl1dLnJlcGxhY2UocVBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHtcbiAgICAgIHVyaVtxTmFtZV1bJDFdID0gJDI7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vYWxleGRhdmlkL3Njb3BlLWV2YWwgdjAuMC4zXG4vLyAoc291cmNlOiBodHRwczovL3VucGtnLmNvbS9zY29wZS1ldmFsQDAuMC4zL3Njb3BlX2V2YWwuanMpXG4vLyBUaGlzIGlzIGJhc2ljYWxseSBqdXN0IGEgd3JhcHBlciBhcm91bmQgbmV3IEZ1bmN0aW9uKClcblxuZnVuY3Rpb24gc2NvcGVFdmFsKHNvdXJjZSwgc2NvcGUpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gc2NvcGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNjb3BlLCBrZXkpKSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIHZhbHVlcy5wdXNoKHNjb3BlW2tleV0pO1xuICAgIH1cbiAgfVxuICBrZXlzLnB1c2goc291cmNlKTtcbiAgcmV0dXJuIEZ1bmN0aW9uLmFwcGx5KG51bGwsIGtleXMpLmFwcGx5KG51bGwsIHZhbHVlcyk7XG59XG5cbi8vIHRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIFwidXBkYXRlIHN1Z2FyXCIgZnVuY3Rpb24gZnJvbSBkYWxlaGFydmV5L3BvdWNoZGIjMTM4OFxuLy8gdGhlIGRpZmZGdW4gdGVsbHMgdXMgd2hhdCBkZWx0YSB0byBhcHBseSB0byB0aGUgZG9jLiAgaXQgZWl0aGVyIHJldHVybnNcbi8vIHRoZSBkb2MsIG9yIGZhbHNlIGlmIGl0IGRvZXNuJ3QgbmVlZCB0byBkbyBhbiB1cGRhdGUgYWZ0ZXIgYWxsXG5mdW5jdGlvbiB1cHNlcnQoZGIsIGRvY0lkLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5nZXQoZG9jSWQpXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIC8vIHRoZSB1c2VyIG1pZ2h0IGNoYW5nZSB0aGUgX3Jldiwgc28gc2F2ZSBpdCBmb3IgcG9zdGVyaXR5XG4gICAgICB2YXIgZG9jUmV2ID0gZG9jLl9yZXY7XG4gICAgICB2YXIgbmV3RG9jID0gZGlmZkZ1bihkb2MpO1xuXG4gICAgICBpZiAoIW5ld0RvYykge1xuICAgICAgICAvLyBpZiB0aGUgZGlmZkZ1biByZXR1cm5zIGZhbHN5LCB3ZSBzaG9ydC1jaXJjdWl0IGFzXG4gICAgICAgIC8vIGFuIG9wdGltaXphdGlvblxuICAgICAgICByZXR1cm4ge3VwZGF0ZWQ6IGZhbHNlLCByZXY6IGRvY1Jldn07XG4gICAgICB9XG5cbiAgICAgIC8vIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG1vZGlmeSB0aGVzZSB2YWx1ZXMsXG4gICAgICAvLyBzbyByZXNldCB0aGVtIGhlcmVcbiAgICAgIG5ld0RvYy5faWQgPSBkb2NJZDtcbiAgICAgIG5ld0RvYy5fcmV2ID0gZG9jUmV2O1xuICAgICAgcmV0dXJuIHRyeUFuZFB1dChkYiwgbmV3RG9jLCBkaWZmRnVuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdHJ5QW5kUHV0KGRiLCBkb2MsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLnB1dChkb2MpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGVkOiB0cnVlLFxuICAgICAgcmV2OiByZXMucmV2XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KGRiLCBkb2MuX2lkLCBkaWZmRnVuKTtcbiAgfSk7XG59XG5cbnZhciB0aGlzQXRvYiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGF0b2Ioc3RyKTtcbn07XG5cbnZhciB0aGlzQnRvYSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGJ0b2Eoc3RyKTtcbn07XG5cbi8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3RvciAoZS5nLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBBbmRyb2lkIDwgNC40KS5cbmZ1bmN0aW9uIGNyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcbiAgLyogZ2xvYmFsIEJsb2JCdWlsZGVyLE1TQmxvYkJ1aWxkZXIsTW96QmxvYkJ1aWxkZXIsV2ViS2l0QmxvYkJ1aWxkZXIgKi9cbiAgcGFydHMgPSBwYXJ0cyB8fCBbXTtcbiAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlLm5hbWUgIT09IFwiVHlwZUVycm9yXCIpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHZhciBCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1vekJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1vekJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIFdlYktpdEJsb2JCdWlsZGVyO1xuICAgIHZhciBidWlsZGVyID0gbmV3IEJ1aWxkZXIoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IocHJvcGVydGllcy50eXBlKTtcbiAgfVxufVxuXG4vLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5Njc2NDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy8gZW5jb2RlLWRlY29kZS1pbWFnZS13aXRoLWJhc2U2NC1icmVha3MtaW1hZ2UgKDIwMTMtMDQtMjEpXG5mdW5jdGlvbiBiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuICB2YXIgbGVuZ3RoID0gYmluLmxlbmd0aDtcbiAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBidWY7XG59XG5cbmZ1bmN0aW9uIGJpblN0cmluZ1RvQmx1ZmZlcihiaW5TdHJpbmcsIHR5cGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUJsb2IoW2JpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluU3RyaW5nKV0sIHt0eXBlOiB0eXBlfSk7XG59XG5cbmZ1bmN0aW9uIGI2NFRvQmx1ZmZlcihiNjQsIHR5cGUpIHtcbiAgcmV0dXJuIGJpblN0cmluZ1RvQmx1ZmZlcih0aGlzQXRvYihiNjQpLCB0eXBlKTtcbn1cblxuLy9DYW4ndCBmaW5kIG9yaWdpbmFsIHBvc3QsIGJ1dCB0aGlzIGlzIGNsb3NlXG4vL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjk2NTEwNy8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vL2NvbnZlcnRpbmctYmV0d2Vlbi1zdHJpbmdzLWFuZC1hcnJheWJ1ZmZlcnNcbmZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcoYnVmZmVyKSB7XG4gIHZhciBiaW5hcnkgPSAnJztcbiAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgdmFyIGxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGJpbmFyeTtcbn1cblxuLy8gc2hpbSBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0XG5mdW5jdGlvbiByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHZhciBoYXNCaW5hcnlTdHJpbmcgPSB0eXBlb2YgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCAnJztcbiAgICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcbiAgICB9XG4gICAgY2FsbGJhY2soYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhyZXN1bHQpKTtcbiAgfTtcbiAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG4gIH0gZWxzZSB7XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiaW4pIHtcbiAgICBjYWxsYmFjayhiaW4pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJhc2U2NCkge1xuICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJhc2U2NCkpO1xuICB9KTtcbn1cblxuLy8gc2ltcGxpZmllZCBBUEkuIHVuaXZlcnNhbCBicm93c2VyIHN1cHBvcnQgaXMgYXNzdW1lZFxuZnVuY3Rpb24gcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgbmV3IEFycmF5QnVmZmVyKDApO1xuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH07XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbn1cblxuLy8gdGhpcyBpcyBub3QgdXNlZCBpbiB0aGUgYnJvd3NlclxuXG52YXIgc2V0SW1tZWRpYXRlU2hpbSA9IHNlbGYuc2V0SW1tZWRpYXRlIHx8IHNlbGYuc2V0VGltZW91dDtcbnZhciBNRDVfQ0hVTktfU0laRSA9IDMyNzY4O1xuXG5mdW5jdGlvbiByYXdUb0Jhc2U2NChyYXcpIHtcbiAgcmV0dXJuIHRoaXNCdG9hKHJhdyk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKSB7XG4gIGlmIChibG9iLndlYmtpdFNsaWNlKSB7XG4gICAgcmV0dXJuIGJsb2Iud2Via2l0U2xpY2Uoc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIGJsb2Iuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJsb2IoYnVmZmVyLCBibG9iLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IGJsb2Iuc2l6ZSkge1xuICAgIC8vIG9ubHkgc2xpY2UgYmxvYiBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIGJsb2IgPSBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgYnVmZmVyLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFN0cmluZyhidWZmZXIsIHN0cmluZywgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgLy8gb25seSBjcmVhdGUgYSBzdWJzdHJpbmcgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICB9XG4gIGJ1ZmZlci5hcHBlbmRCaW5hcnkoc3RyaW5nKTtcbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gYmluYXJ5TWQ1KGRhdGEsIGNhbGxiYWNrKSB7XG4gIHZhciBpbnB1dElzU3RyaW5nID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnO1xuICB2YXIgbGVuID0gaW5wdXRJc1N0cmluZyA/IGRhdGEubGVuZ3RoIDogZGF0YS5zaXplO1xuICB2YXIgY2h1bmtTaXplID0gTWF0aC5taW4oTUQ1X0NIVU5LX1NJWkUsIGxlbik7XG4gIHZhciBjaHVua3MgPSBNYXRoLmNlaWwobGVuIC8gY2h1bmtTaXplKTtcbiAgdmFyIGN1cnJlbnRDaHVuayA9IDA7XG4gIHZhciBidWZmZXIgPSBpbnB1dElzU3RyaW5nID8gbmV3IE1kNSgpIDogbmV3IE1kNS5BcnJheUJ1ZmZlcigpO1xuXG4gIHZhciBhcHBlbmQgPSBpbnB1dElzU3RyaW5nID8gYXBwZW5kU3RyaW5nIDogYXBwZW5kQmxvYjtcblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHNldEltbWVkaWF0ZVNoaW0obG9hZE5leHRDaHVuayk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIHZhciByYXcgPSBidWZmZXIuZW5kKHRydWUpO1xuICAgIHZhciBiYXNlNjQgPSByYXdUb0Jhc2U2NChyYXcpO1xuICAgIGNhbGxiYWNrKGJhc2U2NCk7XG4gICAgYnVmZmVyLmRlc3Ryb3koKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWROZXh0Q2h1bmsoKSB7XG4gICAgdmFyIHN0YXJ0ID0gY3VycmVudENodW5rICogY2h1bmtTaXplO1xuICAgIHZhciBlbmQgPSBzdGFydCArIGNodW5rU2l6ZTtcbiAgICBjdXJyZW50Q2h1bmsrKztcbiAgICBpZiAoY3VycmVudENodW5rIDwgY2h1bmtzKSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgZG9uZSk7XG4gICAgfVxuICB9XG4gIGxvYWROZXh0Q2h1bmsoKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nTWQ1KHN0cmluZykge1xuICByZXR1cm4gTWQ1Lmhhc2goc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJldmlzaW9uIHN0cmluZyB0aGF0IGRvZXMgTk9UIGluY2x1ZGUgdGhlIHJldmlzaW9uIGhlaWdodFxuICogRm9yIGV4YW1wbGUgJzU2NjQ5ZjFiMDUwNmM2Y2E5ZmRhMDc0NmViMGNhY2RmJ1xuICovXG5mdW5jdGlvbiByZXYkJDEoZG9jLCBkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgaWYgKCFkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgICByZXR1cm4gdjQoKS5yZXBsYWNlKC8tL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgdmFyIG11dGF0ZWFibGVEb2MgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIGRvYyk7XG4gIGRlbGV0ZSBtdXRhdGVhYmxlRG9jLl9yZXZfdHJlZTtcbiAgcmV0dXJuIHN0cmluZ01kNShKU09OLnN0cmluZ2lmeShtdXRhdGVhYmxlRG9jKSk7XG59XG5cbnZhciB1dWlkID0gdjQ7IC8vIG1pbWljIG9sZCBpbXBvcnQsIG9ubHkgdjQgaXMgZXZlciB1c2VkIGVsc2V3aGVyZVxuXG4vLyBXZSBmZXRjaCBhbGwgbGVhZnMgb2YgdGhlIHJldmlzaW9uIHRyZWUsIGFuZCBzb3J0IHRoZW0gYmFzZWQgb24gdHJlZSBsZW5ndGhcbi8vIGFuZCB3aGV0aGVyIHRoZXkgd2VyZSBkZWxldGVkLCB1bmRlbGV0ZWQgZG9jdW1lbnRzIHdpdGggdGhlIGxvbmdlc3QgcmV2aXNpb25cbi8vIHRyZWUgKG1vc3QgZWRpdHMpIHdpblxuLy8gVGhlIGZpbmFsIHNvcnQgYWxnb3JpdGhtIGlzIHNsaWdodGx5IGRvY3VtZW50ZWQgaW4gYSBzaWRlYmFyIGhlcmU6XG4vLyBodHRwOi8vZ3VpZGUuY291Y2hkYi5vcmcvZHJhZnQvY29uZmxpY3RzLmh0bWxcbmZ1bmN0aW9uIHdpbm5pbmdSZXYobWV0YWRhdGEpIHtcbiAgdmFyIHdpbm5pbmdJZDtcbiAgdmFyIHdpbm5pbmdQb3M7XG4gIHZhciB3aW5uaW5nRGVsZXRlZDtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIGlmIChicmFuY2hlcy5sZW5ndGgpIHsgLy8gbm9uLWxlYWZcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBkZWxldGVkID0gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICAvLyBzb3J0IGJ5IGRlbGV0ZWQsIHRoZW4gcG9zLCB0aGVuIGlkXG4gICAgaWYgKCF3aW5uaW5nSWQgfHwgKHdpbm5pbmdEZWxldGVkICE9PSBkZWxldGVkID8gd2lubmluZ0RlbGV0ZWQgOlxuICAgICAgICB3aW5uaW5nUG9zICE9PSBwb3MgPyB3aW5uaW5nUG9zIDwgcG9zIDogd2lubmluZ0lkIDwgaWQpKSB7XG4gICAgICB3aW5uaW5nSWQgPSBpZDtcbiAgICAgIHdpbm5pbmdQb3MgPSBwb3M7XG4gICAgICB3aW5uaW5nRGVsZXRlZCA9IGRlbGV0ZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdpbm5pbmdQb3MgKyAnLScgKyB3aW5uaW5nSWQ7XG59XG5cbi8vIFByZXR0eSBtdWNoIGFsbCBiZWxvdyBjYW4gYmUgY29tYmluZWQgaW50byBhIGhpZ2hlciBvcmRlciBmdW5jdGlvbiB0b1xuLy8gdHJhdmVyc2UgcmV2aXNpb25zXG4vLyBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGNhbGxiYWNrIHdpbGwgYmUgcGFzc2VkIGFzIGNvbnRleHQgdG8gYWxsXG4vLyBjaGlsZHJlbiBvZiB0aGF0IG5vZGVcbmZ1bmN0aW9uIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBjYWxsYmFjaykge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBuZXdDdHggPVxuICAgICAgY2FsbGJhY2soYnJhbmNoZXMubGVuZ3RoID09PSAwLCBwb3MsIHRyZWVbMF0sIG5vZGUuY3R4LCB0cmVlWzFdKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBjdHg6IG5ld0N0eH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzb3J0QnlQb3MoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuZnVuY3Rpb24gY29sbGVjdExlYXZlcyhyZXZzKSB7XG4gIHZhciBsZWF2ZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIGFjYywgb3B0cykge1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGxlYXZlcy5wdXNoKHtyZXY6IHBvcyArIFwiLVwiICsgaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG4gICAgfVxuICB9KTtcbiAgbGVhdmVzLnNvcnQoc29ydEJ5UG9zKS5yZXZlcnNlKCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZWxldGUgbGVhdmVzW2ldLnBvcztcbiAgfVxuICByZXR1cm4gbGVhdmVzO1xufVxuXG4vLyByZXR1cm5zIHJldnMgb2YgYWxsIGNvbmZsaWN0cyB0aGF0IGlzIGxlYXZlcyBzdWNoIHRoYXRcbi8vIDEuIGFyZSBub3QgZGVsZXRlZCBhbmRcbi8vIDIuIGFyZSBkaWZmZXJlbnQgdGhhbiB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKSB7XG4gIHZhciB3aW4gPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgdmFyIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpO1xuICB2YXIgY29uZmxpY3RzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbGVhZiA9IGxlYXZlc1tpXTtcbiAgICBpZiAobGVhZi5yZXYgIT09IHdpbiAmJiAhbGVhZi5vcHRzLmRlbGV0ZWQpIHtcbiAgICAgIGNvbmZsaWN0cy5wdXNoKGxlYWYucmV2KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZsaWN0cztcbn1cblxuLy8gY29tcGFjdCBhIHRyZWUgYnkgbWFya2luZyBpdHMgbm9uLWxlYWZzIGFzIG1pc3NpbmcsXG4vLyBhbmQgcmV0dXJuIGEgbGlzdCBvZiByZXZzIHRvIGRlbGV0ZVxuZnVuY3Rpb24gY29tcGFjdFRyZWUobWV0YWRhdGEpIHtcbiAgdmFyIHJldnMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgIWlzTGVhZikge1xuICAgICAgcmV2cy5wdXNoKHBvcyArICctJyArIHJldkhhc2gpO1xuICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldnM7XG59XG5cbi8vIGJ1aWxkIHVwIGEgbGlzdCBvZiBhbGwgdGhlIHBhdGhzIHRvIHRoZSBsZWFmcyBpbiB0aGlzIHJldmlzaW9uIHRyZWVcbmZ1bmN0aW9uIHJvb3RUb0xlYWYocmV2cykge1xuICB2YXIgcGF0aHMgPSBbXTtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgb3B0czogb3B0c30pO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIHBhdGhzLnB1c2goe3BvczogKHBvcyArIDEgLSBoaXN0b3J5Lmxlbmd0aCksIGlkczogaGlzdG9yeX0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRocy5yZXZlcnNlKCk7XG59XG5cbi8vIGZvciBhIGJldHRlciBvdmVydmlldyBvZiB3aGF0IHRoaXMgaXMgZG9pbmcsIHJlYWQ6XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyQxKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbi8vIGNsYXNzaWMgYmluYXJ5IHNlYXJjaFxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgbG93ID0gMDtcbiAgdmFyIGhpZ2ggPSBhcnIubGVuZ3RoO1xuICB2YXIgbWlkO1xuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICBpZiAoY29tcGFyYXRvcihhcnJbbWlkXSwgaXRlbSkgPCAwKSB7XG4gICAgICBsb3cgPSBtaWQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdoID0gbWlkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG4vLyBhc3N1bWluZyB0aGUgYXJyIGlzIHNvcnRlZCwgaW5zZXJ0IHRoZSBpdGVtIGluIHRoZSBwcm9wZXIgcGxhY2VcbmZ1bmN0aW9uIGluc2VydFNvcnRlZChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGlkeCA9IGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpO1xuICBhcnIuc3BsaWNlKGlkeCwgMCwgaXRlbSk7XG59XG5cbi8vIFR1cm4gYSBwYXRoIGFzIGEgZmxhdCBhcnJheSBpbnRvIGEgdHJlZSB3aXRoIGEgc2luZ2xlIGJyYW5jaC5cbi8vIElmIGFueSBzaG91bGQgYmUgc3RlbW1lZCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5LCB0aGF0J3MgcGFzc2VkXG4vLyBpbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50XG5mdW5jdGlvbiBwYXRoVG9UcmVlKHBhdGgsIG51bVN0ZW1tZWQpIHtcbiAgdmFyIHJvb3Q7XG4gIHZhciBsZWFmO1xuICBmb3IgKHZhciBpID0gbnVtU3RlbW1lZCwgbGVuID0gcGF0aC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBub2RlID0gcGF0aFtpXTtcbiAgICB2YXIgY3VycmVudExlYWYgPSBbbm9kZS5pZCwgbm9kZS5vcHRzLCBbXV07XG4gICAgaWYgKGxlYWYpIHtcbiAgICAgIGxlYWZbMl0ucHVzaChjdXJyZW50TGVhZik7XG4gICAgICBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QgPSBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfVxuICB9XG4gIHJldHVybiByb290O1xufVxuXG4vLyBjb21wYXJlIHRoZSBJRHMgb2YgdHdvIHRyZWVzXG5mdW5jdGlvbiBjb21wYXJlVHJlZShhLCBiKSB7XG4gIHJldHVybiBhWzBdIDwgYlswXSA/IC0xIDogMTtcbn1cblxuLy8gTWVyZ2UgdHdvIHRyZWVzIHRvZ2V0aGVyXG4vLyBUaGUgcm9vdHMgb2YgdHJlZTEgYW5kIHRyZWUyIG11c3QgYmUgdGhlIHNhbWUgcmV2aXNpb25cbmZ1bmN0aW9uIG1lcmdlVHJlZShpbl90cmVlMSwgaW5fdHJlZTIpIHtcbiAgdmFyIHF1ZXVlID0gW3t0cmVlMTogaW5fdHJlZTEsIHRyZWUyOiBpbl90cmVlMn1dO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICB2YXIgdHJlZTEgPSBpdGVtLnRyZWUxO1xuICAgIHZhciB0cmVlMiA9IGl0ZW0udHJlZTI7XG5cbiAgICBpZiAodHJlZTFbMV0uc3RhdHVzIHx8IHRyZWUyWzFdLnN0YXR1cykge1xuICAgICAgdHJlZTFbMV0uc3RhdHVzID1cbiAgICAgICAgKHRyZWUxWzFdLnN0YXR1cyA9PT0gICdhdmFpbGFibGUnIHx8XG4gICAgICAgIHRyZWUyWzFdLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScpID8gJ2F2YWlsYWJsZScgOiAnbWlzc2luZyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlMlsyXS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0cmVlMVsyXVswXSkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2xlYWYnO1xuICAgICAgICB0cmVlMVsyXVswXSA9IHRyZWUyWzJdW2ldO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmVlMVsyXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodHJlZTFbMl1bal1bMF0gPT09IHRyZWUyWzJdW2ldWzBdKSB7XG4gICAgICAgICAgcXVldWUucHVzaCh7dHJlZTE6IHRyZWUxWzJdW2pdLCB0cmVlMjogdHJlZTJbMl1baV19KTtcbiAgICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2JyYW5jaCc7XG4gICAgICAgIGluc2VydFNvcnRlZCh0cmVlMVsyXSwgdHJlZTJbMl1baV0sIGNvbXBhcmVUcmVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtjb25mbGljdHM6IGNvbmZsaWN0cywgdHJlZTogaW5fdHJlZTF9O1xufVxuXG5mdW5jdGlvbiBkb01lcmdlKHRyZWUsIHBhdGgsIGRvbnRFeHBhbmQpIHtcbiAgdmFyIHJlc3RyZWUgPSBbXTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gIHZhciByZXM7XG5cbiAgaWYgKCF0cmVlLmxlbmd0aCkge1xuICAgIHJldHVybiB7dHJlZTogW3BhdGhdLCBjb25mbGljdHM6ICduZXdfbGVhZid9O1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRyZWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgYnJhbmNoID0gdHJlZVtpXTtcbiAgICBpZiAoYnJhbmNoLnBvcyA9PT0gcGF0aC5wb3MgJiYgYnJhbmNoLmlkc1swXSA9PT0gcGF0aC5pZHNbMF0pIHtcbiAgICAgIC8vIFBhdGhzIHN0YXJ0IGF0IHRoZSBzYW1lIHBvc2l0aW9uIGFuZCBoYXZlIHRoZSBzYW1lIHJvb3QsIHNvIHRoZXkgbmVlZFxuICAgICAgLy8gbWVyZ2VkXG4gICAgICByZXMgPSBtZXJnZVRyZWUoYnJhbmNoLmlkcywgcGF0aC5pZHMpO1xuICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IGJyYW5jaC5wb3MsIGlkczogcmVzLnRyZWV9KTtcbiAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGRvbnRFeHBhbmQgIT09IHRydWUpIHtcbiAgICAgIC8vIFRoZSBwYXRocyBzdGFydCBhdCBhIGRpZmZlcmVudCBwb3NpdGlvbiwgdGFrZSB0aGUgZWFybGllc3QgcGF0aCBhbmRcbiAgICAgIC8vIHRyYXZlcnNlIHVwIHVudGlsIGl0IGFzIGF0IHRoZSBzYW1lIHBvaW50IGZyb20gcm9vdCBhcyB0aGUgcGF0aCB3ZVxuICAgICAgLy8gd2FudCB0byBtZXJnZS4gIElmIHRoZSBrZXlzIG1hdGNoIHdlIHJldHVybiB0aGUgbG9uZ2VyIHBhdGggd2l0aCB0aGVcbiAgICAgIC8vIG90aGVyIG1lcmdlZCBBZnRlciBzdGVtbWluZyB3ZSBkb250IHdhbnQgdG8gZXhwYW5kIHRoZSB0cmVlc1xuXG4gICAgICB2YXIgdDEgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBicmFuY2ggOiBwYXRoO1xuICAgICAgdmFyIHQyID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gcGF0aCA6IGJyYW5jaDtcbiAgICAgIHZhciBkaWZmID0gdDIucG9zIC0gdDEucG9zO1xuXG4gICAgICB2YXIgY2FuZGlkYXRlUGFyZW50cyA9IFtdO1xuXG4gICAgICB2YXIgdHJlZXMgPSBbXTtcbiAgICAgIHRyZWVzLnB1c2goe2lkczogdDEuaWRzLCBkaWZmOiBkaWZmLCBwYXJlbnQ6IG51bGwsIHBhcmVudElkeDogbnVsbH0pO1xuICAgICAgd2hpbGUgKHRyZWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlcy5wb3AoKTtcbiAgICAgICAgaWYgKGl0ZW0uZGlmZiA9PT0gMCkge1xuICAgICAgICAgIGlmIChpdGVtLmlkc1swXSA9PT0gdDIuaWRzWzBdKSB7XG4gICAgICAgICAgICBjYW5kaWRhdGVQYXJlbnRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50cyA9IGl0ZW0uaWRzWzJdO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgZWxlbWVudHNMZW4gPSBlbGVtZW50cy5sZW5ndGg7IGogPCBlbGVtZW50c0xlbjsgaisrKSB7XG4gICAgICAgICAgdHJlZXMucHVzaCh7XG4gICAgICAgICAgICBpZHM6IGVsZW1lbnRzW2pdLFxuICAgICAgICAgICAgZGlmZjogaXRlbS5kaWZmIC0gMSxcbiAgICAgICAgICAgIHBhcmVudDogaXRlbS5pZHMsXG4gICAgICAgICAgICBwYXJlbnRJZHg6IGpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBjYW5kaWRhdGVQYXJlbnRzWzBdO1xuXG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gbWVyZ2VUcmVlKGVsLmlkcywgdDIuaWRzKTtcbiAgICAgICAgZWwucGFyZW50WzJdW2VsLnBhcmVudElkeF0gPSByZXMudHJlZTtcbiAgICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IHQxLnBvcywgaWRzOiB0MS5pZHN9KTtcbiAgICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIGRpZG50IGZpbmRcbiAgaWYgKCFtZXJnZWQpIHtcbiAgICByZXN0cmVlLnB1c2gocGF0aCk7XG4gIH1cblxuICByZXN0cmVlLnNvcnQoc29ydEJ5UG9zJDEpO1xuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdHJlZSxcbiAgICBjb25mbGljdHM6IGNvbmZsaWN0cyB8fCAnaW50ZXJuYWxfbm9kZSdcbiAgfTtcbn1cblxuLy8gVG8gZW5zdXJlIHdlIGRvbnQgZ3JvdyB0aGUgcmV2aXNpb24gdHJlZSBpbmZpbml0ZWx5LCB3ZSBzdGVtIG9sZCByZXZpc2lvbnNcbmZ1bmN0aW9uIHN0ZW0odHJlZSwgZGVwdGgpIHtcbiAgLy8gRmlyc3Qgd2UgYnJlYWsgb3V0IHRoZSB0cmVlIGludG8gYSBjb21wbGV0ZSBsaXN0IG9mIHJvb3QgdG8gbGVhZiBwYXRoc1xuICB2YXIgcGF0aHMgPSByb290VG9MZWFmKHRyZWUpO1xuICB2YXIgc3RlbW1lZFJldnM7XG5cbiAgdmFyIHJlc3VsdDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gVGhlbiBmb3IgZWFjaCBwYXRoLCB3ZSBjdXQgb2ZmIHRoZSBzdGFydCBvZiB0aGUgcGF0aCBiYXNlZCBvbiB0aGVcbiAgICAvLyBgZGVwdGhgIHRvIHN0ZW0gdG8sIGFuZCBnZW5lcmF0ZSBhIG5ldyBzZXQgb2YgZmxhdCB0cmVlc1xuICAgIHZhciBwYXRoID0gcGF0aHNbaV07XG4gICAgdmFyIHN0ZW1tZWQgPSBwYXRoLmlkcztcbiAgICB2YXIgbm9kZTtcbiAgICBpZiAoc3RlbW1lZC5sZW5ndGggPiBkZXB0aCkge1xuICAgICAgLy8gb25seSBkbyB0aGUgc3RlbW1pbmcgd29yayBpZiB3ZSBhY3R1YWxseSBuZWVkIHRvIHN0ZW1cbiAgICAgIGlmICghc3RlbW1lZFJldnMpIHtcbiAgICAgICAgc3RlbW1lZFJldnMgPSB7fTsgLy8gYXZvaWQgYWxsb2NhdGluZyB0aGlzIG9iamVjdCB1bm5lY2Vzc2FyaWx5XG4gICAgICB9XG4gICAgICB2YXIgbnVtU3RlbW1lZCA9IHN0ZW1tZWQubGVuZ3RoIC0gZGVwdGg7XG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zICsgbnVtU3RlbW1lZCxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIG51bVN0ZW1tZWQpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBzID0gMDsgcyA8IG51bVN0ZW1tZWQ7IHMrKykge1xuICAgICAgICB2YXIgcmV2ID0gKHBhdGgucG9zICsgcykgKyAnLScgKyBzdGVtbWVkW3NdLmlkO1xuICAgICAgICBzdGVtbWVkUmV2c1tyZXZdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBubyBuZWVkIHRvIGFjdHVhbGx5IHN0ZW1cbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCAwKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIHdlIHJlbWVyZ2UgYWxsIHRob3NlIGZsYXQgdHJlZXMgdG9nZXRoZXIsIGVuc3VyaW5nIHRoYXQgd2UgZG9udFxuICAgIC8vIGNvbm5lY3QgdHJlZXMgdGhhdCB3b3VsZCBnbyBiZXlvbmQgdGhlIGRlcHRoIGxpbWl0XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gZG9NZXJnZShyZXN1bHQsIG5vZGUsIHRydWUpLnRyZWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IFtub2RlXTtcbiAgICB9XG4gIH1cblxuICAvLyB0aGlzIGlzIG1lbW9yeS1oZWF2eSBwZXIgQ2hyb21lIHByb2ZpbGVyLCBhdm9pZCB1bmxlc3Mgd2UgYWN0dWFsbHkgc3RlbW1lZFxuICBpZiAoc3RlbW1lZFJldnMpIHtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmVzdWx0LCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gpIHtcbiAgICAgIC8vIHNvbWUgcmV2aXNpb25zIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBhIGJyYW5jaCBidXQgbm90IGluIGFub3RoZXJcbiAgICAgIGRlbGV0ZSBzdGVtbWVkUmV2c1twb3MgKyAnLScgKyByZXZIYXNoXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdWx0LFxuICAgIHJldnM6IHN0ZW1tZWRSZXZzID8gT2JqZWN0LmtleXMoc3RlbW1lZFJldnMpIDogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2UodHJlZSwgcGF0aCwgZGVwdGgpIHtcbiAgdmFyIG5ld1RyZWUgPSBkb01lcmdlKHRyZWUsIHBhdGgpO1xuICB2YXIgc3RlbW1lZCA9IHN0ZW0obmV3VHJlZS50cmVlLCBkZXB0aCk7XG4gIHJldHVybiB7XG4gICAgdHJlZTogc3RlbW1lZC50cmVlLFxuICAgIHN0ZW1tZWRSZXZzOiBzdGVtbWVkLnJldnMsXG4gICAgY29uZmxpY3RzOiBuZXdUcmVlLmNvbmZsaWN0c1xuICB9O1xufVxuXG4vLyByZXR1cm4gdHJ1ZSBpZiBhIHJldiBleGlzdHMgaW4gdGhlIHJldiB0cmVlLCBmYWxzZSBvdGhlcndpc2VcbmZ1bmN0aW9uIHJldkV4aXN0cyhyZXZzLCByZXYpIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBzcGxpdFJldiA9IHJldi5zcGxpdCgnLScpO1xuICB2YXIgdGFyZ2V0UG9zID0gcGFyc2VJbnQoc3BsaXRSZXZbMF0sIDEwKTtcbiAgdmFyIHRhcmdldElkID0gc3BsaXRSZXZbMV07XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKG5vZGUucG9zID09PSB0YXJnZXRQb3MgJiYgbm9kZS5pZHNbMF0gPT09IHRhcmdldElkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGJyYW5jaGVzID0gbm9kZS5pZHNbMl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3Bvczogbm9kZS5wb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJlZXMobm9kZSkge1xuICByZXR1cm4gbm9kZS5pZHM7XG59XG5cbi8vIGNoZWNrIGlmIGEgc3BlY2lmaWMgcmV2aXNpb24gb2YgYSBkb2MgaGFzIGJlZW4gZGVsZXRlZFxuLy8gIC0gbWV0YWRhdGE6IHRoZSBtZXRhZGF0YSBvYmplY3QgZnJvbSB0aGUgZG9jIHN0b3JlXG4vLyAgLSByZXY6IChvcHRpb25hbCkgdGhlIHJldmlzaW9uIHRvIGNoZWNrLiBkZWZhdWx0cyB0byB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBpc0RlbGV0ZWQobWV0YWRhdGEsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB9XG4gIHZhciBpZCA9IHJldi5zdWJzdHJpbmcocmV2LmluZGV4T2YoJy0nKSArIDEpO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLm1hcChnZXRUcmVlcyk7XG5cbiAgdmFyIHRyZWU7XG4gIHdoaWxlICgodHJlZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKHRyZWVbMF0gPT09IGlkKSB7XG4gICAgICByZXR1cm4gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgfVxuICAgIHRvVmlzaXQgPSB0b1Zpc2l0LmNvbmNhdCh0cmVlWzJdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xvY2FsSWQoaWQpIHtcbiAgcmV0dXJuICgvXl9sb2NhbC8pLnRlc3QoaWQpO1xufVxuXG4vLyByZXR1cm5zIHRoZSBjdXJyZW50IGxlYWYgbm9kZSBmb3IgYSBnaXZlbiByZXZpc2lvblxuZnVuY3Rpb24gbGF0ZXN0KHJldiwgbWV0YWRhdGEpIHtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG5cbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaGlzdG9yeS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGlzdG9yeU5vZGUgPSBoaXN0b3J5W2ldO1xuICAgICAgICB2YXIgaGlzdG9yeVJldiA9IGhpc3RvcnlOb2RlLnBvcyArICctJyArIGhpc3RvcnlOb2RlLmlkO1xuXG4gICAgICAgIGlmIChoaXN0b3J5UmV2ID09PSByZXYpIHtcbiAgICAgICAgICAvLyByZXR1cm4gdGhlIHJldiBvZiB0aGlzIGxlYWZcbiAgICAgICAgICByZXR1cm4gcG9zICsgJy0nICsgaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMCwgbCA9IGJyYW5jaGVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbal0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGxhdGVzdCByZXZpc2lvbiBmb3IgaWQgJyArIG1ldGFkYXRhLmlkICsgJywgcmV2ICcgKyByZXYpO1xufVxuXG5pbmhlcml0cyhDaGFuZ2VzJDEsIEVFKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAvLyBpc29sYXRlIHRyeS9jYXRjaGVzIHRvIGF2b2lkIFY4IGRlb3B0aW1pemF0aW9uc1xuICB0cnkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdFcnJvciBpbiAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24pOicsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMkMShkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmRiID0gZGI7XG4gIG9wdHMgPSBvcHRzID8gY2xvbmUob3B0cykgOiB7fTtcbiAgdmFyIGNvbXBsZXRlID0gb3B0cy5jb21wbGV0ZSA9IG9uY2UoZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGlmIChsaXN0ZW5lckNvdW50KHNlbGYsICdlcnJvcicpID4gMCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIHJlc3ApO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9KTtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgc2VsZi5vbignY29tcGxldGUnLCBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCk7XG4gICAgfSk7XG4gICAgc2VsZi5vbignZXJyb3InLCBjYWxsYmFjayk7XG4gIH1cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgZGIub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcblxuICBvcHRzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9O1xuXG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIG9wdHMuY29tcGxldGUgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHJlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHNlbGYub25jZSgnY2FuY2VsJywgZnVuY3Rpb24gKCkge1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgfSk7XG4gIHRoaXMudGhlbiA9IHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpO1xuICB0aGlzWydjYXRjaCddID0gcHJvbWlzZVsnY2F0Y2gnXS5iaW5kKHByb21pc2UpO1xuICB0aGlzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gIH0sIGNvbXBsZXRlKTtcblxuXG5cbiAgaWYgKCFkYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIGRiLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShmYWlsZWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnY2FuY2VsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgfVxufVxuQ2hhbmdlcyQxLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaXNDYW5jZWxsZWQgPSB0cnVlO1xuICBpZiAodGhpcy5kYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG4gIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvYywgbWV0YWRhdGEsIG9wdHMpIHtcbiAgdmFyIGNoYW5nZUxpc3QgPSBbe3JldjogZG9jLl9yZXZ9XTtcbiAgaWYgKG9wdHMuc3R5bGUgPT09ICdhbGxfZG9jcycpIHtcbiAgICBjaGFuZ2VMaXN0ID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSlcbiAgICAubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB7cmV2OiB4LnJldn07IH0pO1xuICB9XG4gIHZhciBjaGFuZ2UgPSB7XG4gICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgIGNoYW5nZXM6IGNoYW5nZUxpc3QsXG4gICAgZG9jOiBkb2NcbiAgfTtcblxuICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICBjaGFuZ2UuZGVsZXRlZCA9IHRydWU7XG4gIH1cbiAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgY2hhbmdlLmRvYy5fY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgaWYgKCFjaGFuZ2UuZG9jLl9jb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYy5fY29uZmxpY3RzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhbmdlO1xufVxuXG5DaGFuZ2VzJDEucHJvdG90eXBlLnZhbGlkYXRlQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4udmFsaWRhdGUob3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICB9XG59O1xuXG5DaGFuZ2VzJDEucHJvdG90eXBlLmRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIGlmICgnbGl2ZScgaW4gb3B0cyAmJiAhKCdjb250aW51b3VzJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuY29udGludW91cyA9IG9wdHMubGl2ZTtcbiAgfVxuICBvcHRzLnByb2Nlc3NDaGFuZ2UgPSBwcm9jZXNzQ2hhbmdlO1xuXG4gIGlmIChvcHRzLnNpbmNlID09PSAnbGF0ZXN0Jykge1xuICAgIG9wdHMuc2luY2UgPSAnbm93JztcbiAgfVxuICBpZiAoIW9wdHMuc2luY2UpIHtcbiAgICBvcHRzLnNpbmNlID0gMDtcbiAgfVxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ25vdycpIHtcbiAgICB0aGlzLmRiLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdHMuc2luY2UgPSBpbmZvLnVwZGF0ZV9zZXE7XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9LCBjYWxsYmFjayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLm5vcm1hbGl6ZShvcHRzKTtcbiAgICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5zaG91bGRGaWx0ZXIodGhpcywgb3B0cykpIHtcbiAgICAgIHJldHVybiBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLmZpbHRlcih0aGlzLCBvcHRzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgWydkb2NfaWRzJywgJ2ZpbHRlcicsICdzZWxlY3RvcicsICd2aWV3J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoa2V5IGluIG9wdHMpIHtcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgICAgICdUaGUgXCInICsga2V5ICsgJ1wiIG9wdGlvbiB3YXMgcGFzc2VkIGluIHRvIGNoYW5nZXMvcmVwbGljYXRlLCAnICtcbiAgICAgICAgICAnYnV0IHBvdWNoZGItY2hhbmdlcy1maWx0ZXIgcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWQsIHNvIGl0ICcgK1xuICAgICAgICAgICd3YXMgaWdub3JlZC4gUGxlYXNlIGluc3RhbGwgdGhlIHBsdWdpbiB0byBlbmFibGUgZmlsdGVyaW5nLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICghKCdkZXNjZW5kaW5nJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gMCBhbmQgMSBzaG91bGQgcmV0dXJuIDEgZG9jdW1lbnRcbiAgb3B0cy5saW1pdCA9IG9wdHMubGltaXQgPT09IDAgPyAxIDogb3B0cy5saW1pdDtcbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICB2YXIgbmV3UHJvbWlzZSA9IHRoaXMuZGIuX2NoYW5nZXMob3B0cyk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChuZXdQcm9taXNlICYmIHR5cGVvZiBuZXdQcm9taXNlLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBjYW5jZWwgPSBzZWxmLmNhbmNlbDtcbiAgICBzZWxmLmNhbmNlbCA9IGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgbmV3UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgIGNhbmNlbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLypcbiAqIEEgZ2VuZXJpYyBwb3VjaCBhZGFwdGVyXG4gKi9cblxuZnVuY3Rpb24gY29tcGFyZShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gV3JhcHBlciBmb3IgZnVuY3Rpb25zIHRoYXQgY2FsbCB0aGUgYnVsa2RvY3MgYXBpIHdpdGggYSBzaW5nbGUgZG9jLFxuLy8gaWYgdGhlIGZpcnN0IHJlc3VsdCBpcyBhbiBlcnJvciwgcmV0dXJuIGFuIGVycm9yXG5mdW5jdGlvbiB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvY0lkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgaWYgKGVyciB8fCAocmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmVycm9yKSkge1xuICAgICAgZXJyID0gZXJyIHx8IHJlc3VsdHNbMF07XG4gICAgICBlcnIuZG9jSWQgPSBkb2NJZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMubGVuZ3RoID8gcmVzdWx0c1swXSAgOiByZXN1bHRzKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGNsZWFuIGRvY3MgZ2l2ZW4gdG8gdXMgYnkgdGhlIHVzZXJcbmZ1bmN0aW9uIGNsZWFuRG9jcyhkb2NzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NzW2ldO1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIGRlbGV0ZSBkb2MuX2F0dGFjaG1lbnRzOyAvLyBpZ25vcmUgYXR0cyBmb3IgZGVsZXRlZCBkb2NzXG4gICAgfSBlbHNlIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV4dHJhbmVvdXMga2V5cyBmcm9tIF9hdHRhY2htZW50c1xuICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tqXTtcbiAgICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdID0gcGljayhkb2MuX2F0dGFjaG1lbnRzW2F0dF0sXG4gICAgICAgICAgWydkYXRhJywgJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnLCAnbGVuZ3RoJywgJ3JldnBvcycsICdzdHViJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBjb21wYXJlIHR3byBkb2NzLCBmaXJzdCBieSBfaWQgdGhlbiBieSBfcmV2XG5mdW5jdGlvbiBjb21wYXJlQnlJZFRoZW5SZXYoYSwgYikge1xuICB2YXIgaWRDb21wYXJlID0gY29tcGFyZShhLl9pZCwgYi5faWQpO1xuICBpZiAoaWRDb21wYXJlICE9PSAwKSB7XG4gICAgcmV0dXJuIGlkQ29tcGFyZTtcbiAgfVxuICB2YXIgYVN0YXJ0ID0gYS5fcmV2aXNpb25zID8gYS5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgdmFyIGJTdGFydCA9IGIuX3JldmlzaW9ucyA/IGIuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHJldHVybiBjb21wYXJlKGFTdGFydCwgYlN0YXJ0KTtcbn1cblxuLy8gZm9yIGV2ZXJ5IG5vZGUgaW4gYSByZXZpc2lvbiB0cmVlIGNvbXB1dGVzIGl0cyBkaXN0YW5jZSBmcm9tIHRoZSBjbG9zZXN0XG4vLyBsZWFmXG5mdW5jdGlvbiBjb21wdXRlSGVpZ2h0KHJldnMpIHtcbiAgdmFyIGhlaWdodCA9IHt9O1xuICB2YXIgZWRnZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIHBybnQpIHtcbiAgICB2YXIgcmV2ID0gcG9zICsgXCItXCIgKyBpZDtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBoZWlnaHRbcmV2XSA9IDA7XG4gICAgfVxuICAgIGlmIChwcm50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVkZ2VzLnB1c2goe2Zyb206IHBybnQsIHRvOiByZXZ9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfSk7XG5cbiAgZWRnZXMucmV2ZXJzZSgpO1xuICBlZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgaWYgKGhlaWdodFtlZGdlLmZyb21dID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gMSArIGhlaWdodFtlZGdlLnRvXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSBNYXRoLm1pbihoZWlnaHRbZWRnZS5mcm9tXSwgMSArIGhlaWdodFtlZGdlLnRvXSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXNQYXJzZShvcHRzKSB7XG4gIHZhciBrZXlzID0gICgnbGltaXQnIGluIG9wdHMpID9cbiAgICBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwLCBvcHRzLmxpbWl0ICsgb3B0cy5za2lwKSA6XG4gICAgKG9wdHMuc2tpcCA+IDApID8gb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCkgOiBvcHRzLmtleXM7XG4gIG9wdHMua2V5cyA9IGtleXM7XG4gIG9wdHMuc2tpcCA9IDA7XG4gIGRlbGV0ZSBvcHRzLmxpbWl0O1xuICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAga2V5cy5yZXZlcnNlKCk7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gYWxsIGNvbXBhY3Rpb24gaXMgZG9uZSBpbiBhIHF1ZXVlLCB0byBhdm9pZCBhdHRhY2hpbmdcbi8vIHRvbyBtYW55IGxpc3RlbmVycyBhdCBvbmNlXG5mdW5jdGlvbiBkb05leHRDb21wYWN0aW9uKHNlbGYpIHtcbiAgdmFyIHRhc2sgPSBzZWxmLl9jb21wYWN0aW9uUXVldWVbMF07XG4gIHZhciBvcHRzID0gdGFzay5vcHRzO1xuICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICBzZWxmLmdldCgnX2xvY2FsL2NvbXBhY3Rpb24nKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jICYmIGRvYy5sYXN0X3NlcSkge1xuICAgICAgb3B0cy5sYXN0X3NlcSA9IGRvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgc2VsZi5fY29tcGFjdChvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH1cbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKSB7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIG5hbWUgKyAnIGlzIG5vdCBhIHZhbGlkIGF0dGFjaG1lbnQgbmFtZSwgYXR0YWNobWVudCAnICtcbiAgICAgICduYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCBcXCdfXFwnJztcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmluaGVyaXRzKEFic3RyYWN0UG91Y2hEQiwgRUUpO1xuXG5mdW5jdGlvbiBBYnN0cmFjdFBvdWNoREIoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG5cbiAgLy8gcmUtYmluZCBwcm90b3R5cGVkIG1ldGhvZHNcbiAgZm9yICh2YXIgcCBpbiBBYnN0cmFjdFBvdWNoREIucHJvdG90eXBlKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzW3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW3BdID0gdGhpc1twXS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnBvc3QgPVxuICBhZGFwdGVyRnVuKCdwb3N0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0ID0gYWRhcHRlckZ1bigncHV0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcbiAgaWYgKGlzTG9jYWxJZChkb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcHV0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9wdXRMb2NhbChkb2MsIGNiKTtcbiAgICB9XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cy5mb3JjZSAmJiBkb2MuX3Jldikge1xuICAgIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpO1xuICAgIHB1dERvYyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZXJyID8gbnVsbCA6IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgY2IoZXJyLCByZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHB1dERvYyhjYik7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKSB7XG4gICAgdmFyIHBhcnRzID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICB2YXIgb2xkUmV2SWQgPSBwYXJ0c1sxXTtcbiAgICB2YXIgb2xkUmV2TnVtID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcblxuICAgIHZhciBuZXdSZXZOdW0gPSBvbGRSZXZOdW0gKyAxO1xuICAgIHZhciBuZXdSZXZJZCA9IHJldiQkMSgpO1xuXG4gICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICBzdGFydDogbmV3UmV2TnVtLFxuICAgICAgaWRzOiBbbmV3UmV2SWQsIG9sZFJldklkXVxuICAgIH07XG4gICAgZG9jLl9yZXYgPSBuZXdSZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcbiAgICBvcHRzLm5ld19lZGl0cyA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHB1dERvYyhuZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBzZWxmLl9wdXQgPT09ICdmdW5jdGlvbicgJiYgb3B0cy5uZXdfZWRpdHMgIT09IGZhbHNlKSB7XG4gICAgICBzZWxmLl9wdXQoZG9jLCBvcHRzLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IobmV4dCwgZG9jLl9pZCkpO1xuICAgIH1cbiAgfVxufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2IsIHR5cGUpIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICAvLyBMZXRzIGZpeCBpbiBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy8zMjY3XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIGlmICghdHlwZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBhdHRhY2htZW50SWQsICdvbiBkb2N1bWVudCcsIGRvY0lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKSB7XG4gICAgdmFyIHByZXZyZXZwb3MgPSAnX3JldicgaW4gZG9jID8gcGFyc2VJbnQoZG9jLl9yZXYsIDEwKSA6IDA7XG4gICAgZG9jLl9hdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgfHwge307XG4gICAgZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdID0ge1xuICAgICAgY29udGVudF90eXBlOiB0eXBlLFxuICAgICAgZGF0YTogYmxvYixcbiAgICAgIHJldnBvczogKytwcmV2cmV2cG9zXG4gICAgfTtcbiAgICByZXR1cm4gYXBpLnB1dChkb2MpO1xuICB9XG5cbiAgcmV0dXJuIGFwaS5nZXQoZG9jSWQpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX3JldiAhPT0gcmV2KSB7XG4gICAgICB0aHJvdyBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KGRvYyk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgLy8gY3JlYXRlIG5ldyBkb2NcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChlcnIucmVhc29uID09PSBNSVNTSU5HX0RPQy5tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudCh7X2lkOiBkb2NJZH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNlbGYuZ2V0KGRvY0lkLCBmdW5jdGlvbiAoZXJyLCBvYmopIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob2JqLl9yZXYgIT09IHJldikge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghb2JqLl9hdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF07XG4gICAgaWYgKE9iamVjdC5rZXlzKG9iai5fYXR0YWNobWVudHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHM7XG4gICAgfVxuICAgIHNlbGYucHV0KG9iaiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2M7XG4gIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0ge1xuICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0c09yUmV2O1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgIH1cbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgb3B0cy53YXNfZGVsZXRlID0gdHJ1ZTtcbiAgdmFyIG5ld0RvYyA9IHtfaWQ6IGRvYy5faWQsIF9yZXY6IChkb2MuX3JldiB8fCBvcHRzLnJldil9O1xuICBuZXdEb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICBpZiAoaXNMb2NhbElkKG5ld0RvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9yZW1vdmVMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNhbGxiYWNrKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbbmV3RG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgbmV3RG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmV2c0RpZmYgPVxuICBhZGFwdGVyRnVuKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKHJlcSk7XG5cbiAgaWYgKCFpZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTtcbiAgfVxuXG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBtaXNzaW5nID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgZnVuY3Rpb24gYWRkVG9NaXNzaW5nKGlkLCByZXZJZCkge1xuICAgIGlmICghbWlzc2luZy5oYXMoaWQpKSB7XG4gICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IFtdfSk7XG4gICAgfVxuICAgIG1pc3NpbmcuZ2V0KGlkKS5taXNzaW5nLnB1c2gocmV2SWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpIHtcbiAgICAvLyBJcyB0aGlzIGZhc3QgZW5vdWdoPyBNYXliZSB3ZSBzaG91bGQgc3dpdGNoIHRvIGEgc2V0IHNpbXVsYXRlZCBieSBhIG1hcFxuICAgIHZhciBtaXNzaW5nRm9ySWQgPSByZXFbaWRdLnNsaWNlKDApO1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsXG4gICAgICBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICB2YXIgaWR4ID0gbWlzc2luZ0ZvcklkLmluZGV4T2YocmV2KTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtaXNzaW5nRm9ySWQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy5zdGF0dXMgIT09ICdhdmFpbGFibGUnKSB7XG4gICAgICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIFRyYXZlcnNpbmcgdGhlIHRyZWUgaXMgc3luY2hyb25vdXMsIHNvIG5vdyBgbWlzc2luZ0ZvcklkYCBjb250YWluc1xuICAgIC8vIHJldmlzaW9ucyB0aGF0IHdlcmUgbm90IGZvdW5kIGluIHRoZSB0cmVlXG4gICAgbWlzc2luZ0ZvcklkLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgIH0pO1xuICB9XG5cbiAgaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgPT09IDQwNCAmJiBlcnIubWVzc2FnZSA9PT0gJ21pc3NpbmcnKSB7XG4gICAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogcmVxW2lkXX0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgrK2NvdW50ID09PSBpZHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgTGF6eU1hcCB0byBvYmplY3RcbiAgICAgICAgdmFyIG1pc3NpbmdPYmogPSB7fTtcbiAgICAgICAgbWlzc2luZy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgbWlzc2luZ09ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbWlzc2luZ09iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIHRoaXMpO1xufSk7XG5cbi8vIF9idWxrX2dldCBBUEkgZm9yIGZhc3RlciByZXBsaWNhdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY2h0dHBkL3B1bGwvMzNcbi8vIEF0IHRoZSBcImFic3RyYWN0XCIgbGV2ZWwsIGl0IHdpbGwganVzdCBydW4gbXVsdGlwbGUgZ2V0KClzIGluXG4vLyBwYXJhbGxlbCwgYmVjYXVzZSB0aGlzIGlzbid0IG11Y2ggb2YgYSBwZXJmb3JtYW5jZSBjb3N0XG4vLyBmb3IgbG9jYWwgZGF0YWJhc2VzIChleGNlcHQgdGhlIGNvc3Qgb2YgbXVsdGlwbGUgdHJhbnNhY3Rpb25zLCB3aGljaCBpc1xuLy8gc21hbGwpLiBUaGUgaHR0cCBhZGFwdGVyIG92ZXJyaWRlcyB0aGlzIGluIG9yZGVyXG4vLyB0byBkbyBhIG1vcmUgZWZmaWNpZW50IHNpbmdsZSBIVFRQIHJlcXVlc3QuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtHZXQgPVxuICBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGJ1bGtHZXQodGhpcywgb3B0cywgY2FsbGJhY2spO1xufSk7XG5cbi8vIGNvbXBhY3Qgb25lIGRvY3VtZW50IGFuZCBmaXJlIGNhbGxiYWNrXG4vLyBieSBjb21wYWN0aW5nIHdlIG1lYW4gcmVtb3ZpbmcgYWxsIHJldmlzaW9ucyB3aGljaFxuLy8gYXJlIGZ1cnRoZXIgZnJvbSB0aGUgbGVhZiBpbiByZXZpc2lvbiB0cmVlIHRoYW4gbWF4X2hlaWdodFxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0RG9jdW1lbnQgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0RG9jdW1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIG1heEhlaWdodCwgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIHJldlRyZWUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgdmFyIGhlaWdodCA9IGNvbXB1dGVIZWlnaHQocmV2VHJlZSk7XG4gICAgdmFyIGNhbmRpZGF0ZXMgPSBbXTtcbiAgICB2YXIgcmV2cyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGhlaWdodCkuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBpZiAoaGVpZ2h0W3Jldl0gPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2VHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiBjYW5kaWRhdGVzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgcmV2cy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZi5fZG9Db21wYWN0aW9uKGRvY0lkLCByZXZzLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbi8vIGNvbXBhY3QgdGhlIHdob2xlIGRhdGFiYXNlIHVzaW5nIHNpbmdsZSBkb2N1bWVudFxuLy8gY29tcGFjdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBzZWxmLl9jb21wYWN0aW9uUXVldWUgPSBzZWxmLl9jb21wYWN0aW9uUXVldWUgfHwgW107XG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5wdXNoKHtvcHRzOiBvcHRzLCBjYWxsYmFjazogY2FsbGJhY2t9KTtcbiAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICB9XG59KTtcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuX2NvbXBhY3QgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2hhbmdlc09wdHMgPSB7XG4gICAgcmV0dXJuX2RvY3M6IGZhbHNlLFxuICAgIGxhc3Rfc2VxOiBvcHRzLmxhc3Rfc2VxIHx8IDBcbiAgfTtcbiAgdmFyIHByb21pc2VzID0gW107XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2Uocm93KSB7XG4gICAgcHJvbWlzZXMucHVzaChzZWxmLmNvbXBhY3REb2N1bWVudChyb3cuaWQsIDApKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNvbXBsZXRlKHJlc3ApIHtcbiAgICB2YXIgbGFzdFNlcSA9IHJlc3AubGFzdF9zZXE7XG4gICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwc2VydChzZWxmLCAnX2xvY2FsL2NvbXBhY3Rpb24nLCBmdW5jdGlvbiBkZWx0YUZ1bmMoZG9jKSB7XG4gICAgICAgIGlmICghZG9jLmxhc3Rfc2VxIHx8IGRvYy5sYXN0X3NlcSA8IGxhc3RTZXEpIHtcbiAgICAgICAgICBkb2MubGFzdF9zZXEgPSBsYXN0U2VxO1xuICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzb21lYm9keSBlbHNlIGdvdCBoZXJlIGZpcnN0LCBkb24ndCB1cGRhdGVcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9XG4gIHNlbGYuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKVxuICAgIC5vbignY29tcGxldGUnLCBvbkNvbXBsZXRlKVxuICAgIC5vbignZXJyb3InLCBjYWxsYmFjayk7XG59O1xuXG4vKiBCZWdpbiBhcGkgd3JhcHBlcnMuIFNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgdG8gc3RvcmFnZSBiZWxvbmdzIGluIHRoZVxuICAgX1ttZXRob2RdICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldCA9IGFkYXB0ZXJGdW4oJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX0lEKSk7XG4gIH1cbiAgaWYgKGlzTG9jYWxJZChpZCkgJiYgdHlwZW9mIHRoaXMuX2dldExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldExvY2FsKGlkLCBjYik7XG4gIH1cbiAgdmFyIGxlYXZlcyA9IFtdLCBzZWxmID0gdGhpcztcblxuICBmdW5jdGlvbiBmaW5pc2hPcGVuUmV2cygpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGNvdW50ID0gbGVhdmVzLmxlbmd0aDtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNvdW50KSB7XG4gICAgICByZXR1cm4gY2IobnVsbCwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvLyBvcmRlciB3aXRoIG9wZW5fcmV2cyBpcyB1bnNwZWNpZmllZFxuICAgIGxlYXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICBzZWxmLmdldChpZCwge1xuICAgICAgICByZXY6IGxlYWYsXG4gICAgICAgIHJldnM6IG9wdHMucmV2cyxcbiAgICAgICAgbGF0ZXN0OiBvcHRzLmxhdGVzdCxcbiAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRvYykge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIC8vIHVzaW5nIGxhdGVzdD10cnVlIGNhbiBwcm9kdWNlIGR1cGxpY2F0ZXNcbiAgICAgICAgICB2YXIgZXhpc3Rpbmc7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2ldLm9rICYmIHJlc3VsdFtpXS5vay5fcmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgICAgICAgICBleGlzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7b2s6IGRvY30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh7bWlzc2luZzogbGVhZn0pO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICBjYihudWxsLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgIGlmIChvcHRzLm9wZW5fcmV2cyA9PT0gXCJhbGxcIikge1xuICAgICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMocmV2X3RyZWUpLm1hcChmdW5jdGlvbiAobGVhZikge1xuICAgICAgICAgIHJldHVybiBsZWFmLnJldjtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy5vcGVuX3JldnMpKSB7XG4gICAgICAgIGxlYXZlcyA9IG9wdHMub3Blbl9yZXZzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlYXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBsID0gbGVhdmVzW2ldO1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgaXQncyB0aGUgb25seSB0aGluZyBjb3VjaGRiIGNoZWNrc1xuICAgICAgICAgIGlmICghKHR5cGVvZiAobCkgPT09IFwic3RyaW5nXCIgJiYgL15cXGQrLS8udGVzdChsKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX1JFVikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKFVOS05PV05fRVJST1IsICdmdW5jdGlvbl9jbGF1c2UnKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjsgLy8gb3Blbl9yZXZzIGRvZXMgbm90IGxpa2Ugb3RoZXIgb3B0aW9uc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2dldChpZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gcmVzdWx0LmRvYztcbiAgICB2YXIgbWV0YWRhdGEgPSByZXN1bHQubWV0YWRhdGE7XG4gICAgdmFyIGN0eCA9IHJlc3VsdC5jdHg7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgIGRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzIHx8IG9wdHMucmV2c19pbmZvKSB7XG4gICAgICB2YXIgc3BsaXR0ZWRSZXYgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgICAgdmFyIHJldk5vICAgICAgID0gcGFyc2VJbnQoc3BsaXR0ZWRSZXZbMF0sIDEwKTtcbiAgICAgIHZhciByZXZIYXNoICAgICA9IHNwbGl0dGVkUmV2WzFdO1xuXG4gICAgICB2YXIgcGF0aHMgPSByb290VG9MZWFmKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgICAgIHZhciBwYXRoID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoc1tpXTtcbiAgICAgICAgdmFyIGhhc2hJbmRleCA9IGN1cnJlbnRQYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgICAgLmluZGV4T2YocmV2SGFzaCk7XG4gICAgICAgIHZhciBoYXNoRm91bmRBdFJldlBvcyA9IGhhc2hJbmRleCA9PT0gKHJldk5vIC0gMSk7XG5cbiAgICAgICAgaWYgKGhhc2hGb3VuZEF0UmV2UG9zIHx8ICghcGF0aCAmJiBoYXNoSW5kZXggIT09IC0xKSkge1xuICAgICAgICAgIHBhdGggPSBjdXJyZW50UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ2ludmFsaWQgcmV2IHRyZWUnKTtcbiAgICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXhPZlJldiA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgLmluZGV4T2YoZG9jLl9yZXYuc3BsaXQoJy0nKVsxXSkgKyAxO1xuICAgICAgdmFyIGhvd01hbnkgPSBwYXRoLmlkcy5sZW5ndGggLSBpbmRleE9mUmV2O1xuICAgICAgcGF0aC5pZHMuc3BsaWNlKGluZGV4T2ZSZXYsIGhvd01hbnkpO1xuICAgICAgcGF0aC5pZHMucmV2ZXJzZSgpO1xuXG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgICAgIHN0YXJ0OiAocGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGgpIC0gMSxcbiAgICAgICAgICBpZHM6IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV2LmlkO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgICAgdmFyIHBvcyA9ICBwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aDtcbiAgICAgICAgZG9jLl9yZXZzX2luZm8gPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXY6IHBvcyArICctJyArIHJldi5pZCxcbiAgICAgICAgICAgIHN0YXR1czogcmV2Lm9wdHMuc3RhdHVzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBjb3VudCA9IE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX2dldEF0dGFjaG1lbnQoZG9jLl9pZCwga2V5LCBhdHRhY2htZW50c1trZXldLCB7XG4gICAgICAgICAgLy8gUHJldmlvdXNseSB0aGUgcmV2aXNpb24gaGFuZGxpbmcgd2FzIGRvbmUgaW4gYWRhcHRlci5qc1xuICAgICAgICAgIC8vIGdldEF0dGFjaG1lbnQsIGhvd2V2ZXIgc2luY2UgaWRiLW5leHQgZG9lc250IHdlIG5lZWQgdG9cbiAgICAgICAgICAvLyBwYXNzIHRoZSByZXYgdGhyb3VnaFxuICAgICAgICAgIHJldjogZG9jLl9yZXYsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeSxcbiAgICAgICAgICBjdHg6IGN0eFxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghLS1jb3VudCkge1xuICAgICAgICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYy5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNba2V5XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBUT0RPOiBJIGRvbnQgbGlrZSB0aGlzLCBpdCBmb3JjZXMgYW4gZXh0cmEgcmVhZCBmb3IgZXZlcnlcbi8vIGF0dGFjaG1lbnQgcmVhZCBhbmQgZW5mb3JjZXMgYSBjb25mdXNpbmcgYXBpIGJldHdlZW5cbi8vIGFkYXB0ZXIuanMgYW5kIHRoZSBhZGFwdGVyIGltcGxlbWVudGF0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdGhpcy5fZ2V0KGRvY0lkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKHJlcy5kb2MuX2F0dGFjaG1lbnRzICYmIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0pIHtcbiAgICAgIG9wdHMuY3R4ID0gcmVzLmN0eDtcbiAgICAgIG9wdHMuYmluYXJ5ID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2dldEF0dGFjaG1lbnQoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSwgb3B0cywgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYWxsRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzLnNraXAgPSB0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuc2tpcCA6IDA7XG4gIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgfVxuICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gIH1cbiAgaWYgKCdrZXlzJyBpbiBvcHRzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdHMua2V5cykpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgVHlwZUVycm9yKCdvcHRpb25zLmtleXMgbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgICB9XG4gICAgdmFyIGluY29tcGF0aWJsZU9wdCA9XG4gICAgICBbJ3N0YXJ0a2V5JywgJ2VuZGtleScsICdrZXknXS5maWx0ZXIoZnVuY3Rpb24gKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgcmV0dXJuIGluY29tcGF0aWJsZU9wdCBpbiBvcHRzO1xuICAgIH0pWzBdO1xuICAgIGlmIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFFVRVJZX1BBUlNFX0VSUk9SLFxuICAgICAgICAnUXVlcnkgcGFyYW1ldGVyIGAnICsgaW5jb21wYXRpYmxlT3B0ICtcbiAgICAgICAgJ2AgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBtdWx0aS1nZXQnXG4gICAgICApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1JlbW90ZSh0aGlzKSkge1xuICAgICAgYWxsRG9jc0tleXNQYXJzZShvcHRzKTtcbiAgICAgIGlmIChvcHRzLmtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxEb2NzKHtsaW1pdDogMH0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5fYWxsRG9jcyhvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAvLyBCeSBkZWZhdWx0IHNldCByZXR1cm5fZG9jcyB0byBmYWxzZSBpZiB0aGUgY2FsbGVyIGhhcyBvcHRzLmxpdmUgPSB0cnVlLFxuICAvLyB0aGlzIHdpbGwgcHJldmVudCB1cyBmcm9tIGNvbGxlY3RpbmcgdGhlIHNldCBvZiBjaGFuZ2VzIGluZGVmaW5pdGVseVxuICAvLyByZXN1bHRpbmcgaW4gZ3Jvd2luZyBtZW1vcnlcbiAgb3B0cy5yZXR1cm5fZG9jcyA9ICgncmV0dXJuX2RvY3MnIGluIG9wdHMpID8gb3B0cy5yZXR1cm5fZG9jcyA6ICFvcHRzLmxpdmU7XG5cbiAgcmV0dXJuIG5ldyBDaGFuZ2VzJDEodGhpcywgb3B0cywgY2FsbGJhY2spO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jbG9zZSA9IGFkYXB0ZXJGdW4oJ2Nsb3NlJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gIHRoaXMuZW1pdCgnY2xvc2VkJyk7XG4gIHJldHVybiB0aGlzLl9jbG9zZShjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pbmZvID0gYWRhcHRlckZ1bignaW5mbycsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2luZm8oZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBhc3N1bWUgd2Uga25vdyBiZXR0ZXIgdGhhbiB0aGUgYWRhcHRlciwgdW5sZXNzIGl0IGluZm9ybXMgdXNcbiAgICBpbmZvLmRiX25hbWUgPSBpbmZvLmRiX25hbWUgfHwgc2VsZi5uYW1lO1xuICAgIGluZm8uYXV0b19jb21wYWN0aW9uID0gISEoc2VsZi5hdXRvX2NvbXBhY3Rpb24gJiYgIWlzUmVtb3RlKHNlbGYpKTtcbiAgICBpbmZvLmFkYXB0ZXIgPSBzZWxmLmFkYXB0ZXI7XG4gICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaWQgPSBhZGFwdGVyRnVuKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gdGhpcy5faWQoY2FsbGJhY2spO1xufSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodHlwZW9mIHRoaXMuX3R5cGUgPT09ICdmdW5jdGlvbicpID8gdGhpcy5fdHlwZSgpIDogdGhpcy5hZGFwdGVyO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtEb2NzJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcSkpIHtcbiAgICByZXEgPSB7XG4gICAgICBkb2NzOiByZXFcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFyZXEgfHwgIXJlcS5kb2NzIHx8ICFBcnJheS5pc0FycmF5KHJlcS5kb2NzKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0JVTEtfRE9DUykpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXEuZG9jcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2YgcmVxLmRvY3NbaV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVxLmRvY3NbaV0pKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhdHRhY2htZW50RXJyb3I7XG4gIHJlcS5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGF0dGFjaG1lbnRFcnJvciA9IGF0dGFjaG1lbnRFcnJvciB8fCBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpO1xuICAgICAgICBpZiAoIWRvYy5fYXR0YWNobWVudHNbbmFtZV0uY29udGVudF90eXBlKSB7XG4gICAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIG5hbWUsICdvbiBkb2N1bWVudCcsIGRvYy5faWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChhdHRhY2htZW50RXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIGF0dGFjaG1lbnRFcnJvcikpO1xuICB9XG5cbiAgaWYgKCEoJ25ld19lZGl0cycgaW4gb3B0cykpIHtcbiAgICBpZiAoJ25ld19lZGl0cycgaW4gcmVxKSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHJlcS5uZXdfZWRpdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IHRoaXM7XG4gIGlmICghb3B0cy5uZXdfZWRpdHMgJiYgIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgLy8gZW5zdXJlIHJldmlzaW9ucyBvZiB0aGUgc2FtZSBkb2MgYXJlIHNvcnRlZCwgc28gdGhhdFxuICAgIC8vIHRoZSBsb2NhbCBhZGFwdGVyIHByb2Nlc3NlcyB0aGVtIGNvcnJlY3RseSAoIzI5MzUpXG4gICAgcmVxLmRvY3Muc29ydChjb21wYXJlQnlJZFRoZW5SZXYpO1xuICB9XG5cbiAgY2xlYW5Eb2NzKHJlcS5kb2NzKTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBjb25mbGljdHMsIHdlIHdhbnQgdG8gcmV0dXJuIHRoZSBfaWRzIHRvIHRoZSB1c2VyXG4gIC8vIGhvd2V2ZXIsIHRoZSB1bmRlcmx5aW5nIGFkYXB0ZXIgbWF5IGRlc3Ryb3kgdGhlIGRvY3MgYXJyYXksIHNvXG4gIC8vIGNyZWF0ZSBhIGNvcHkgaGVyZVxuICB2YXIgaWRzID0gcmVxLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9pZDtcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuX2J1bGtEb2NzKHJlcSwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmICghb3B0cy5uZXdfZWRpdHMpIHtcbiAgICAgIC8vIHRoaXMgaXMgd2hhdCBjb3VjaCBkb2VzIHdoZW4gbmV3X2VkaXRzIGlzIGZhbHNlXG4gICAgICByZXMgPSByZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGFkZCBpZHMgZm9yIGVycm9yL2NvbmZsaWN0IHJlc3BvbnNlcyAobm90IHJlcXVpcmVkIGZvciBDb3VjaERCKVxuICAgIGlmICghaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXNbaV0uaWQgPSByZXNbaV0uaWQgfHwgaWRzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UnLCBmdW5jdGlvbiAoZGVwZW5kZW50RGIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIGRiT3B0aW9ucyA9IGNsb25lKHRoaXMuX19vcHRzKTtcbiAgaWYgKHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGRiT3B0aW9ucy5hZGFwdGVyID0gdGhpcy5fX29wdHMudmlld19hZGFwdGVyO1xuICB9XG5cbiAgdmFyIGRlcERCID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZGVwZW5kZW50RGIsIGRiT3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gZGlmZkZ1bihkb2MpIHtcbiAgICBkb2MuZGVwZW5kZW50RGJzID0gZG9jLmRlcGVuZGVudERicyB8fCB7fTtcbiAgICBpZiAoZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0pIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbm8gdXBkYXRlIHJlcXVpcmVkXG4gICAgfVxuICAgIGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdID0gdHJ1ZTtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHVwc2VydCh0aGlzLCAnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBkaWZmRnVuKVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtkYjogZGVwREJ9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5kZXN0cm95ID1cbiAgYWRhcHRlckZ1bignZGVzdHJveScsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB1c2VQcmVmaXggPSAndXNlX3ByZWZpeCcgaW4gc2VsZiA/IHNlbGYudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgZnVuY3Rpb24gZGVzdHJveURiKCkge1xuICAgIC8vIGNhbGwgZGVzdHJveSBtZXRob2Qgb2YgdGhlIHBhcnRpY3VsYXIgYWRhcHRvclxuICAgIHNlbGYuX2Rlc3Ryb3kob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2Rlc3Ryb3llZCcpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCB8fCB7ICdvayc6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNSZW1vdGUoc2VsZikpIHtcbiAgICAvLyBubyBuZWVkIHRvIGNoZWNrIGZvciBkZXBlbmRlbnQgREJzIGlmIGl0J3MgYSByZW1vdGUgREJcbiAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gIH1cblxuICBzZWxmLmdldCgnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBmdW5jdGlvbiAoZXJyLCBsb2NhbERvYykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7IC8vIG5vIGRlcGVuZGVuY2llc1xuICAgICAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkZXBlbmRlbnREYnMgPSBsb2NhbERvYy5kZXBlbmRlbnREYnM7XG4gICAgdmFyIFBvdWNoREIgPSBzZWxmLmNvbnN0cnVjdG9yO1xuICAgIHZhciBkZWxldGVkTWFwID0gT2JqZWN0LmtleXMoZGVwZW5kZW50RGJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIC8vIHVzZV9wcmVmaXggaXMgb25seSBmYWxzZSBpbiB0aGUgYnJvd3NlclxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHZhciB0cnVlTmFtZSA9IHVzZVByZWZpeCA/XG4gICAgICAgIG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIFBvdWNoREIucHJlZml4KSwgJycpIDogbmFtZTtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hEQih0cnVlTmFtZSwgc2VsZi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBQcm9taXNlLmFsbChkZWxldGVkTWFwKS50aGVuKGRlc3Ryb3lEYiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBUYXNrUXVldWUoKSB7XG4gIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICB0aGlzLmZhaWxlZCA9IGZhbHNlO1xuICB0aGlzLnF1ZXVlID0gW107XG59XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1bjtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4odGhpcy5mYWlsZWQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bigpO1xuICAgIH1cbiAgfVxufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5mYWlsID0gZnVuY3Rpb24gKGVycikge1xuICB0aGlzLmZhaWxlZCA9IGVycjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKGRiKSB7XG4gIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gIHRoaXMuZGIgPSBkYjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmFkZFRhc2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gIHRoaXMucXVldWUucHVzaChmdW4pO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcGFyc2VBZGFwdGVyKG5hbWUsIG9wdHMpIHtcbiAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaCgvKFthLXotXSopOlxcL1xcLyguKikvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgLy8gdGhlIGh0dHAgYWRhcHRlciBleHBlY3RzIHRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAvaHR0cHM/Ly50ZXN0KG1hdGNoWzFdKSA/IG1hdGNoWzFdICsgJzovLycgKyBtYXRjaFsyXSA6IG1hdGNoWzJdLFxuICAgICAgYWRhcHRlcjogbWF0Y2hbMV1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGFkYXB0ZXJzID0gUG91Y2hEQi5hZGFwdGVycztcbiAgdmFyIHByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycztcbiAgdmFyIHByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuICB2YXIgYWRhcHRlck5hbWUgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgaWYgKCFhZGFwdGVyTmFtZSkgeyAvLyBhdXRvbWF0aWNhbGx5IGRldGVybWluZSBhZGFwdGVyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmZXJyZWRBZGFwdGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgYWRhcHRlck5hbWUgPSBwcmVmZXJyZWRBZGFwdGVyc1tpXTtcbiAgICAgIC8vIGNoZWNrIGZvciBicm93c2VycyB0aGF0IGhhdmUgYmVlbiB1cGdyYWRlZCBmcm9tIHdlYnNxbC1vbmx5IHRvIHdlYnNxbCtpZGJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGFkYXB0ZXJOYW1lID09PSAnaWRiJyAmJiAnd2Vic3FsJyBpbiBhZGFwdGVycyAmJlxuICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZSgpICYmIGxvY2FsU3RvcmFnZVsnX3BvdWNoX193ZWJzcWxkYl8nICsgcHJlZml4ICsgbmFtZV0pIHtcbiAgICAgICAgLy8gbG9nIGl0LCBiZWNhdXNlIHRoaXMgY2FuIGJlIGNvbmZ1c2luZyBkdXJpbmcgZGV2ZWxvcG1lbnRcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ2xvZycsICdQb3VjaERCIGlzIGRvd25ncmFkaW5nIFwiJyArIG5hbWUgKyAnXCIgdG8gV2ViU1FMIHRvJyArXG4gICAgICAgICAgJyBhdm9pZCBkYXRhIGxvc3MsIGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgb3BlbmVkIHdpdGggV2ViU1FMLicpO1xuICAgICAgICBjb250aW51ZTsgLy8ga2VlcCB1c2luZyB3ZWJzcWwgdG8gYXZvaWQgdXNlciBkYXRhIGxvc3NcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gYWRhcHRlcnNbYWRhcHRlck5hbWVdO1xuXG4gIC8vIGlmIGFkYXB0ZXIgaXMgaW52YWxpZCwgdGhlbiBhbiBlcnJvciB3aWxsIGJlIHRocm93biBsYXRlclxuICB2YXIgdXNlUHJlZml4ID0gKGFkYXB0ZXIgJiYgJ3VzZV9wcmVmaXgnIGluIGFkYXB0ZXIpID9cbiAgICBhZGFwdGVyLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogdXNlUHJlZml4ID8gKHByZWZpeCArIG5hbWUpIDogbmFtZSxcbiAgICBhZGFwdGVyOiBhZGFwdGVyTmFtZVxuICB9O1xufVxuXG4vLyBPSywgc28gaGVyZSdzIHRoZSBkZWFsLiBDb25zaWRlciB0aGlzIGNvZGU6XG4vLyAgICAgdmFyIGRiMSA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICB2YXIgZGIyID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIGRiMS5kZXN0cm95KCk7XG4vLyBeIHRoZXNlIHR3byBib3RoIG5lZWQgdG8gZW1pdCAnZGVzdHJveWVkJyBldmVudHMsXG4vLyBhcyB3ZWxsIGFzIHRoZSBQb3VjaERCIGNvbnN0cnVjdG9yIGl0c2VsZi5cbi8vIFNvIHdlIGhhdmUgb25lIGRiIG9iamVjdCAod2hpY2hldmVyIG9uZSBnb3QgZGVzdHJveSgpIGNhbGxlZCBvbiBpdClcbi8vIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyB0aGUgaW5pdGlhbCBldmVudCwgd2hpY2ggdGhlbiBnZXRzIGVtaXR0ZWRcbi8vIGJ5IHRoZSBjb25zdHJ1Y3Rvciwgd2hpY2ggdGhlbiBicm9hZGNhc3RzIGl0IHRvIGFueSBvdGhlciBkYnNcbi8vIHRoYXQgbWF5IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGggdGhlIHNhbWUgbmFtZS5cbmZ1bmN0aW9uIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKSB7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95ZWQoZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICBpZiAoIWZyb21fY29uc3RydWN0b3IpIHtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVzdHJveWVkJywgc2VsZi5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNsb3NlZCgpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCd1bnJlZicsIHNlbGYpO1xuICB9XG5cbiAgc2VsZi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gIHNlbGYub25jZSgnY2xvc2VkJywgb25DbG9zZWQpO1xuICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3JlZicsIHNlbGYpO1xufVxuXG5pbmhlcml0cyhQb3VjaERCLCBBYnN0cmFjdFBvdWNoREIpO1xuZnVuY3Rpb24gUG91Y2hEQihuYW1lLCBvcHRzKSB7XG4gIC8vIEluIE5vZGUgb3VyIHRlc3Qgc3VpdGUgb25seSB0ZXN0cyB0aGlzIGZvciBQb3VjaEFsdCB1bmZvcnR1bmF0ZWx5XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hEQikpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoREIobmFtZSwgb3B0cyk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgIG9wdHMgPSBuYW1lO1xuICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgfVxuXG4gIGlmIChvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fX29wdHMgPSBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgc2VsZi5hdXRvX2NvbXBhY3Rpb24gPSBvcHRzLmF1dG9fY29tcGFjdGlvbjtcbiAgc2VsZi5wcmVmaXggPSBQb3VjaERCLnByZWZpeDtcblxuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nL2ludmFsaWQgREIgbmFtZScpO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkTmFtZSA9IChvcHRzLnByZWZpeCB8fCAnJykgKyBuYW1lO1xuICB2YXIgYmFja2VuZCA9IHBhcnNlQWRhcHRlcihwcmVmaXhlZE5hbWUsIG9wdHMpO1xuXG4gIG9wdHMubmFtZSA9IGJhY2tlbmQubmFtZTtcbiAgb3B0cy5hZGFwdGVyID0gb3B0cy5hZGFwdGVyIHx8IGJhY2tlbmQuYWRhcHRlcjtcblxuICBzZWxmLm5hbWUgPSBuYW1lO1xuICBzZWxmLl9hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuICBQb3VjaERCLmVtaXQoJ2RlYnVnJywgWydhZGFwdGVyJywgJ1BpY2tlZCBhZGFwdGVyOiAnLCBvcHRzLmFkYXB0ZXJdKTtcblxuICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXSB8fFxuICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFkYXB0ZXI6ICcgKyBvcHRzLmFkYXB0ZXIpO1xuICB9XG5cbiAgaWYgKG9wdHMudmlld19hZGFwdGVyKSB7XG4gICAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXSB8fFxuICAgICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0udmFsaWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFZpZXcgQWRhcHRlcjogJyArIG9wdHMudmlld19hZGFwdGVyKTtcbiAgICB9XG4gIH1cblxuICBBYnN0cmFjdFBvdWNoREIuY2FsbChzZWxmKTtcbiAgc2VsZi50YXNrcXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG5cbiAgc2VsZi5hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuXG4gIFBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS5jYWxsKHNlbGYsIG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi50YXNrcXVldWUuZmFpbChlcnIpO1xuICAgIH1cbiAgICBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZik7XG5cbiAgICBzZWxmLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmKTtcbiAgICBQb3VjaERCLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmLm5hbWUpO1xuICAgIHNlbGYudGFza3F1ZXVlLnJlYWR5KHNlbGYpO1xuICB9KTtcblxufVxuXG4vLyBBYm9ydENvbnRyb2xsZXIgd2FzIGludHJvZHVjZWQgcXVpdGUgYSB3aGlsZSBhZnRlciBmZXRjaCBhbmRcbi8vIGlzbnQgcmVxdWlyZWQgZm9yIFBvdWNoREIgdG8gZnVuY3Rpb24gc28gcG9seWZpbGwgaWYgbmVlZGVkXG52YXIgYSA9ICh0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJylcbiAgICA/IEFib3J0Q29udHJvbGxlclxuICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4ge2Fib3J0OiBmdW5jdGlvbiAoKSB7fX07IH07XG5cbnZhciBmJDEgPSBmZXRjaDtcbnZhciBoID0gSGVhZGVycztcblxuUG91Y2hEQi5hZGFwdGVycyA9IHt9O1xuUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycyA9IFtdO1xuXG5Qb3VjaERCLnByZWZpeCA9ICdfcG91Y2hfJztcblxudmFyIGV2ZW50RW1pdHRlciA9IG5ldyBFRSgpO1xuXG5mdW5jdGlvbiBzZXRVcEV2ZW50RW1pdHRlcihQb3VjaCkge1xuICBPYmplY3Qua2V5cyhFRS5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh0eXBlb2YgRUUucHJvdG90eXBlW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFBvdWNoW2tleV0gPSBldmVudEVtaXR0ZXJba2V5XS5iaW5kKGV2ZW50RW1pdHRlcik7XG4gICAgfVxuICB9KTtcblxuICAvLyB0aGVzZSBhcmUgY3JlYXRlZCBpbiBjb25zdHJ1Y3Rvci5qcywgYW5kIGFsbG93IHVzIHRvIG5vdGlmeSBlYWNoIERCIHdpdGhcbiAgLy8gdGhlIHNhbWUgbmFtZSB0aGF0IGl0IHdhcyBkZXN0cm95ZWQsIHZpYSB0aGUgY29uc3RydWN0b3Igb2JqZWN0XG4gIHZhciBkZXN0cnVjdExpc3RlbmVycyA9IFBvdWNoLl9kZXN0cnVjdGlvbkxpc3RlbmVycyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIFBvdWNoLm9uKCdyZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yUmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBbXSk7XG4gICAgfVxuICAgIGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKS5wdXNoKGRiKTtcbiAgfSk7XG5cbiAgUG91Y2gub24oJ3VucmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclVucmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKTtcbiAgICB2YXIgcG9zID0gZGJMaXN0LmluZGV4T2YoZGIpO1xuICAgIGlmIChwb3MgPCAwKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYkxpc3Quc3BsaWNlKHBvcywgMSk7XG4gICAgaWYgKGRiTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIGRiTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShkYi5uYW1lKTtcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yRGVzdHJveWVkKG5hbWUpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KG5hbWUpO1xuICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShuYW1lKTtcbiAgICBkYkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGIpIHtcbiAgICAgIGRiLmVtaXQoJ2Rlc3Ryb3llZCcsdHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5zZXRVcEV2ZW50RW1pdHRlcihQb3VjaERCKTtcblxuUG91Y2hEQi5hZGFwdGVyID0gZnVuY3Rpb24gKGlkLCBvYmosIGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG9iai52YWxpZCgpKSB7XG4gICAgUG91Y2hEQi5hZGFwdGVyc1tpZF0gPSBvYmo7XG4gICAgaWYgKGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgICAgIFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMucHVzaChpZCk7XG4gICAgfVxuICB9XG59O1xuXG5Qb3VjaERCLnBsdWdpbiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHsgLy8gZnVuY3Rpb24gc3R5bGUgZm9yIHBsdWdpbnNcbiAgICBvYmooUG91Y2hEQik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGx1Z2luOiBnb3QgXCInICsgb2JqICsgJ1wiLCBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbicpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgLy8gb2JqZWN0IHN0eWxlIGZvciBwbHVnaW5zXG4gICAgICBQb3VjaERCLnByb3RvdHlwZVtpZF0gPSBvYmpbaWRdO1xuICAgIH0pO1xuICB9XG4gIGlmICh0aGlzLl9fZGVmYXVsdHMpIHtcbiAgICBQb3VjaERCLl9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cyk7XG4gIH1cbiAgcmV0dXJuIFBvdWNoREI7XG59O1xuXG5Qb3VjaERCLmRlZmF1bHRzID0gZnVuY3Rpb24gKGRlZmF1bHRPcHRzKSB7XG4gIGZ1bmN0aW9uIFBvdWNoQWx0KG5hbWUsIG9wdHMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hBbHQpKSB7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoQWx0KG5hbWUsIG9wdHMpO1xuICAgIH1cblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBvcHRzID0gbmFtZTtcbiAgICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgICBkZWxldGUgb3B0cy5uYW1lO1xuICAgIH1cblxuICAgIG9wdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIFBvdWNoQWx0Ll9fZGVmYXVsdHMsIG9wdHMpO1xuICAgIFBvdWNoREIuY2FsbCh0aGlzLCBuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIGluaGVyaXRzKFBvdWNoQWx0LCBQb3VjaERCKTtcblxuICBQb3VjaEFsdC5wcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMuc2xpY2UoKTtcbiAgT2JqZWN0LmtleXMoUG91Y2hEQikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCEoa2V5IGluIFBvdWNoQWx0KSkge1xuICAgICAgUG91Y2hBbHRba2V5XSA9IFBvdWNoREJba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1ha2UgZGVmYXVsdCBvcHRpb25zIHRyYW5zaXRpdmVcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvNTkyMlxuICBQb3VjaEFsdC5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMsIGRlZmF1bHRPcHRzKTtcblxuICByZXR1cm4gUG91Y2hBbHQ7XG59O1xuXG5Qb3VjaERCLmZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0cykge1xuICByZXR1cm4gZiQxKHVybCwgb3B0cyk7XG59O1xuXG4vLyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgYnkgc2V0LXZlcnNpb24uanNcbnZhciB2ZXJzaW9uID0gXCI3LjMuMFwiO1xuXG4vLyB0aGlzIHdvdWxkIGp1c3QgYmUgXCJyZXR1cm4gZG9jW2ZpZWxkXVwiLCBidXQgZmllbGRzXG4vLyBjYW4gYmUgXCJkZWVwXCIgZHVlIHRvIGRvdCBub3RhdGlvblxuZnVuY3Rpb24gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpIHtcbiAgdmFyIHZhbHVlID0gZG9jO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGFyc2VkRmllbGQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGFyc2VkRmllbGRbaV07XG4gICAgdmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUkMShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gQ29udmVydHMgYSBzdHJpbmcgaW4gZG90IG5vdGF0aW9uIHRvIGFuIGFycmF5IG9mIGl0cyBjb21wb25lbnRzLCB3aXRoIGJhY2tzbGFzaCBlc2NhcGluZ1xuZnVuY3Rpb24gcGFyc2VGaWVsZChmaWVsZE5hbWUpIHtcbiAgLy8gZmllbGRzIG1heSBiZSBkZWVwIChlLmcuIFwiZm9vLmJhci5iYXpcIiksIHNvIHBhcnNlXG4gIHZhciBmaWVsZHMgPSBbXTtcbiAgdmFyIGN1cnJlbnQgPSAnJztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZpZWxkTmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjaCA9IGZpZWxkTmFtZVtpXTtcbiAgICBpZiAoaSA+IDAgJiYgZmllbGROYW1lW2kgLSAxXSA9PT0gJ1xcXFwnICYmIChjaCA9PT0gJyQnIHx8IGNoID09PSAnLicpKSB7XG4gICAgICAvLyBlc2NhcGVkIGRlbGltaXRlclxuICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3Vic3RyaW5nKDAsIGN1cnJlbnQubGVuZ3RoIC0gMSkgKyBjaDtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAnLicpIHtcbiAgICAgIC8vIFdoZW4gYC5gIGlzIG5vdCBlc2NhcGVkIChhYm92ZSksIGl0IGlzIGEgZmllbGQgZGVsaW1pdGVyXG4gICAgICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSAnJztcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgY2hhcmFjdGVyXG4gICAgICBjdXJyZW50ICs9IGNoO1xuICAgIH1cbiAgfVxuICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgcmV0dXJuIGZpZWxkcztcbn1cblxudmFyIGNvbWJpbmF0aW9uRmllbGRzID0gWyckb3InLCAnJG5vcicsICckbm90J107XG5mdW5jdGlvbiBpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkge1xuICByZXR1cm4gY29tYmluYXRpb25GaWVsZHMuaW5kZXhPZihmaWVsZCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0S2V5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKVswXTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUob2JqKSB7XG4gIHJldHVybiBvYmpbZ2V0S2V5KG9iaildO1xufVxuXG5cbi8vIGZsYXR0ZW4gYW4gYXJyYXkgb2Ygc2VsZWN0b3JzIGpvaW5lZCBieSBhbiAkYW5kIG9wZXJhdG9yXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzKHNlbGVjdG9ycykge1xuXG4gIC8vIHNvcnQgdG8gZW5zdXJlIHRoYXQgZS5nLiBpZiB0aGUgdXNlciBzcGVjaWZpZWRcbiAgLy8gJGFuZDogW3skZ3Q6ICdhJ30sIHskZ3Q6ICdiJ31dLCB0aGVuIGl0J3MgY29sbGFwc2VkIGludG9cbiAgLy8ganVzdCB7JGd0OiAnYid9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGZpcnN0ID0geyRvcjogdHJ1ZSwgJG5vcjogdHJ1ZX07XG5cbiAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgT2JqZWN0LmtleXMoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICAgIC8vIG9yLCBub3JcbiAgICAgICAgaWYgKG1hdGNoZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGlmIChmaXJzdFtmaWVsZF0pIHtcbiAgICAgICAgICAgIGZpcnN0W2ZpZWxkXSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzW2ZpZWxkXSA9IG1hdGNoZXI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgICByZXNbZmllbGRdLmZvckVhY2goZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgdmFyIG0gPSBtYXRjaGVyW2tleV07XG4gICAgICAgICAgICAgIHZhciBsb25nZXN0ID0gTWF0aC5tYXgoT2JqZWN0LmtleXMoZXhpc3RpbmcpLmxlbmd0aCwgT2JqZWN0LmtleXMobSkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW2V4aXN0aW5nLCBtXSk7XG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXJnZWQpLmxlbmd0aCA8PSBsb25nZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHNpdHVhdGlvbiBsaWtlOiAoYSA6eyRlcSA6MX0gfHwgLi4uKSAmJiAoYSB7JGVxOiAyfSB8fCAuLi4pXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2luZyB3b3VsZCBwcm9kdWNlIGEgJGVxIDIgd2hlbiBhY3R1YWxseSB3ZSBzaG91bGRuJ3QgZXZlciBtYXRjaCBhZ2FpbnN0IHRoZXNlIG1lcmdlZCBjb25kaXRpb25zXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2VkIHNob3VsZCBhbHdheXMgY29udGFpbiBtb3JlIHZhbHVlcyB0byBiZSB2YWxpZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbnRyaWVzLnB1c2gobWVyZ2VkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc1tmaWVsZF0gPSBlbnRyaWVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vdFxuICAgICAgICAgIHJlc1tmaWVsZF0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFttYXRjaGVyXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmaWVsZE1hdGNoZXJzID0gcmVzW2ZpZWxkXSA9IHJlc1tmaWVsZF0gfHwge307XG4gICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlcltvcGVyYXRvcl07XG5cbiAgICAgICAgICBpZiAob3BlcmF0b3IgPT09ICckZ3QnIHx8IG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRsdCcgfHwgb3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJG5lJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckZXEnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCIkcmVnZXhcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGd0L2d0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID49IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGx0L2x0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDw9IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbWJpbmUgJG5lIHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRuZScgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIHRoZXJlIGFyZSBtYW55IHRoaW5ncyB0aGlzIGNvdWxkIFwibm90XCIgYmVcbiAgICBmaWVsZE1hdGNoZXJzLiRuZS5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRuZSA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8gYWRkICRlcSBpbnRvIHRoZSBtaXhcbmZ1bmN0aW9uIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgLy8gdGhlc2UgYWxsIGhhdmUgbGVzcyBzcGVjaWZpY2l0eSB0aGFuIHRoZSAkZXFcbiAgLy8gVE9ETzogY2hlY2sgZm9yIHVzZXIgZXJyb3JzIGhlcmVcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRuZTtcbiAgZmllbGRNYXRjaGVycy4kZXEgPSB2YWx1ZTtcbn1cblxuLy8gY29tYmluZSAkcmVnZXggdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJHJlZ2V4JyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gYSB2YWx1ZSBjb3VsZCBtYXRjaCBtdWx0aXBsZSByZWdleGVzXG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXgucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXggPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIzc0NTg6IGV4ZWN1dGUgZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyBvbiBuZXN0ZWQgJGFuZFxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpbaV1bJyRhbmQnXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbaV0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKG9ialtpXVsnJGFuZCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZCh2YWx1ZSk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cblxuLy8jNzQ1ODogZGV0ZXJtaW5lIGlkICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKVxuZnVuY3Rpb24gaXNBbmRJblNlbGVjdG9yKG9iaiwgaXNBbmQpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAocHJvcCA9PT0gJyRhbmQnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaXNBbmQgPSBpc0FuZEluU2VsZWN0b3IodmFsdWUsIGlzQW5kKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNBbmQ7XG59XG5cbi8vXG4vLyBub3JtYWxpemUgdGhlIHNlbGVjdG9yXG4vL1xuZnVuY3Rpb24gbWFzc2FnZVNlbGVjdG9yKGlucHV0KSB7XG4gIHZhciByZXN1bHQgPSBjbG9uZShpbnB1dCk7XG4gIHZhciB3YXNBbmRlZCA9IGZhbHNlO1xuICAgIC8vIzc0NTg6IGlmICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKSBtZXJnZSBuZXN0ZWQgJGFuZFxuICAgIGlmIChpc0FuZEluU2VsZWN0b3IocmVzdWx0LCBmYWxzZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChyZXN1bHQpO1xuICAgICAgICBpZiAoJyRhbmQnIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhyZXN1bHRbJyRhbmQnXSk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzQW5kZWQgPSB0cnVlO1xuICAgIH1cblxuICBbJyRvcicsICckbm9yJ10uZm9yRWFjaChmdW5jdGlvbiAob3JPck5vcikge1xuICAgIGlmIChvck9yTm9yIGluIHJlc3VsdCkge1xuICAgICAgLy8gbWVzc2FnZSBlYWNoIGluZGl2aWR1YWwgc2VsZWN0b3JcbiAgICAgIC8vIGUuZy4ge2ZvbzogJ2Jhcid9IGJlY29tZXMge2ZvbzogeyRlcTogJ2Jhcid9fVxuICAgICAgcmVzdWx0W29yT3JOb3JdLmZvckVhY2goZnVuY3Rpb24gKHN1YlNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhzdWJTZWxlY3Rvcik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgICAgICAgIHZhciBtYXRjaGVyID0gc3ViU2VsZWN0b3JbZmllbGRdO1xuICAgICAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3ViU2VsZWN0b3JbZmllbGRdID0geyRlcTogbWF0Y2hlcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICgnJG5vdCcgaW4gcmVzdWx0KSB7XG4gICAgLy9UaGlzIGZlZWxzIGEgbGl0dGxlIGxpa2UgZm9yY2luZywgYnV0IGl0IHdpbGwgd29yayBmb3Igbm93LFxuICAgIC8vSSB3b3VsZCBsaWtlIHRvIGNvbWUgYmFjayB0byB0aGlzIGFuZCBtYWtlIHRoZSBtZXJnaW5nIG9mIHNlbGVjdG9ycyBhIGxpdHRsZSBtb3JlIGdlbmVyaWNcbiAgICByZXN1bHRbJyRub3QnXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW3Jlc3VsdFsnJG5vdCddXSk7XG4gIH1cblxuICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMocmVzdWx0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICB2YXIgbWF0Y2hlciA9IHJlc3VsdFtmaWVsZF07XG5cbiAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICB9IGVsc2UgaWYgKCF3YXNBbmRlZCkge1xuICAgICAgLy8gVGhlc2UgdmFsdWVzIG11c3QgYmUgcGxhY2VkIGluIGFuIGFycmF5IGJlY2F1c2UgdGhlc2Ugb3BlcmF0b3JzIGNhbiBiZSB1c2VkIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZpZWxkXG4gICAgICAvLyB3aGVuICRhbmQgaXMgdXNlZCwgbWVyZ2VBbmRlZFNlbGVjdG9ycyB0YWtlcyBjYXJlIG9mIHB1dHRpbmcgdGhlbSBpbnRvIGFycmF5cywgb3RoZXJ3aXNlIGl0J3MgZG9uZSBoZXJlOlxuICAgICAgaWYgKCckbmUnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kbmUgPSBbbWF0Y2hlci4kbmVdO1xuICAgICAgfVxuICAgICAgaWYgKCckcmVnZXgnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kcmVnZXggPSBbbWF0Y2hlci4kcmVnZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRbZmllbGRdID0gbWF0Y2hlcjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSAnJztcbiAgdmFyIHRhcmdldExlbmd0aCA9IHVwVG9MZW5ndGggLSBzdHIubGVuZ3RoO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB3aGlsZSAocGFkZGluZy5sZW5ndGggPCB0YXJnZXRMZW5ndGgpIHtcbiAgICBwYWRkaW5nICs9IHBhZFdpdGg7XG4gIH1cbiAgcmV0dXJuIHBhZGRpbmc7XG59XG5cbmZ1bmN0aW9uIHBhZExlZnQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCk7XG4gIHJldHVybiBwYWRkaW5nICsgc3RyO1xufVxuXG52YXIgTUlOX01BR05JVFVERSA9IC0zMjQ7IC8vIHZlcmlmaWVkIGJ5IC1OdW1iZXIuTUlOX1ZBTFVFXG52YXIgTUFHTklUVURFX0RJR0lUUyA9IDM7IC8vIGRpdHRvXG52YXIgU0VQID0gJyc7IC8vIHNldCB0byAnXycgZm9yIGVhc2llciBkZWJ1Z2dpbmdcblxuZnVuY3Rpb24gY29sbGF0ZShhLCBiKSB7XG5cbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGEgPSBub3JtYWxpemVLZXkoYSk7XG4gIGIgPSBub3JtYWxpemVLZXkoYik7XG5cbiAgdmFyIGFpID0gY29sbGF0aW9uSW5kZXgoYSk7XG4gIHZhciBiaSA9IGNvbGxhdGlvbkluZGV4KGIpO1xuICBpZiAoKGFpIC0gYmkpICE9PSAwKSB7XG4gICAgcmV0dXJuIGFpIC0gYmk7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgYSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IDE7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBzdHJpbmdDb2xsYXRlKGEsIGIpO1xuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYXJyYXlDb2xsYXRlKGEsIGIpIDogb2JqZWN0Q29sbGF0ZShhLCBiKTtcbn1cblxuLy8gY291Y2ggY29uc2lkZXJzIG51bGwvTmFOL0luZmluaXR5Ly1JbmZpbml0eSA9PT0gdW5kZWZpbmVkLFxuLy8gZm9yIHRoZSBwdXJwb3NlcyBvZiBtYXByZWR1Y2UgaW5kZXhlcy4gYWxzbywgZGF0ZXMgZ2V0IHN0cmluZ2lmaWVkLlxuZnVuY3Rpb24gbm9ybWFsaXplS2V5KGtleSkge1xuICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmIChrZXkgPT09IEluZmluaXR5IHx8IGtleSA9PT0gLUluZmluaXR5IHx8IGlzTmFOKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgb3JpZ0tleSA9IGtleTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgdmFyIGxlbiA9IGtleS5sZW5ndGg7XG4gICAgICAgIGtleSA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAga2V5W2ldID0gbm9ybWFsaXplS2V5KG9yaWdLZXlbaV0pO1xuICAgICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgfSBlbHNlIGlmIChrZXkgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBrZXkudG9KU09OKCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gbnVsbCkgeyAvLyBnZW5lcmljIG9iamVjdFxuICAgICAgICBrZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvcmlnS2V5KSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcmlnS2V5LCBrKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9yaWdLZXlba107XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAga2V5W2tdID0gbm9ybWFsaXplS2V5KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gaW5kZXhpZnkoa2V5KSB7XG4gIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4ga2V5ID8gMSA6IDA7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gbnVtVG9JbmRleGFibGVTdHJpbmcoa2V5KTtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIC8vIFdlJ3ZlIHRvIGJlIHN1cmUgdGhhdCBrZXkgZG9lcyBub3QgY29udGFpbiBcXHUwMDAwXG4gICAgICAgIC8vIERvIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRzOlxuICAgICAgICAvLyAwIC0+IDEsIDFcbiAgICAgICAgLy8gMSAtPiAxLCAyXG4gICAgICAgIC8vIDIgLT4gMiwgMlxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHJldHVybiBrZXlcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMi9nLCAnXFx1MDAwMlxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxL2csICdcXHUwMDAxXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDAvZywgJ1xcdTAwMDFcXHUwMDAxJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGtleSk7XG4gICAgICAgIHZhciBhcnIgPSBpc0FycmF5ID8ga2V5IDogT2JqZWN0LmtleXMoa2V5KTtcbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcoYXJyW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgdmFyIG9iaktleSA9IGFycltpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhvYmpLZXkpICtcbiAgICAgICAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhrZXlbb2JqS2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLy8gY29udmVydCB0aGUgZ2l2ZW4ga2V5IHRvIGEgc3RyaW5nIHRoYXQgd291bGQgYmUgYXBwcm9wcmlhdGVcbi8vIGZvciBsZXhpY2FsIHNvcnRpbmcsIGUuZy4gd2l0aGluIGEgZGF0YWJhc2UsIHdoZXJlIHRoZVxuLy8gc29ydGluZyBpcyB0aGUgc2FtZSBnaXZlbiBieSB0aGUgY29sbGF0ZSgpIGZ1bmN0aW9uLlxuZnVuY3Rpb24gdG9JbmRleGFibGVTdHJpbmcoa2V5KSB7XG4gIHZhciB6ZXJvID0gJ1xcdTAwMDAnO1xuICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgcmV0dXJuIGNvbGxhdGlvbkluZGV4KGtleSkgKyBTRVAgKyBpbmRleGlmeShrZXkpICsgemVybztcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW1iZXIoc3RyLCBpKSB7XG4gIHZhciBvcmlnaW5hbElkeCA9IGk7XG4gIHZhciBudW07XG4gIHZhciB6ZXJvID0gc3RyW2ldID09PSAnMSc7XG4gIGlmICh6ZXJvKSB7XG4gICAgbnVtID0gMDtcbiAgICBpKys7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG5lZyA9IHN0cltpXSA9PT0gJzAnO1xuICAgIGkrKztcbiAgICB2YXIgbnVtQXNTdHJpbmcgPSAnJztcbiAgICB2YXIgbWFnQXNTdHJpbmcgPSBzdHIuc3Vic3RyaW5nKGksIGkgKyBNQUdOSVRVREVfRElHSVRTKTtcbiAgICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQobWFnQXNTdHJpbmcsIDEwKSArIE1JTl9NQUdOSVRVREU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBtYWduaXR1ZGUgPSAtbWFnbml0dWRlO1xuICAgIH1cbiAgICBpICs9IE1BR05JVFVERV9ESUdJVFM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIG51bUFzU3RyaW5nID0gbnVtQXNTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICBpZiAobnVtQXNTdHJpbmcubGVuZ3RoID09PSAxKSB7XG4gICAgICBudW0gPSBwYXJzZUludChudW1Bc1N0cmluZywgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZ1swXSArICcuJyArIG51bUFzU3RyaW5nWzFdKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBudW0gPSBudW0gLSAxMDtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobWFnbml0dWRlICE9PSAwKSB7XG4gICAgICAvLyBwYXJzZUZsb2F0IGlzIG1vcmUgcmVsaWFibGUgdGhhbiBwb3cgZHVlIHRvIHJvdW5kaW5nIGVycm9yc1xuICAgICAgLy8gZS5nLiBOdW1iZXIuTUFYX1ZBTFVFIHdvdWxkIHJldHVybiBJbmZpbml0eSBpZiB3ZSBkaWRcbiAgICAgIC8vIG51bSAqIE1hdGgucG93KDEwLCBtYWduaXR1ZGUpO1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW0gKyAnZScgKyBtYWduaXR1ZGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge251bTogbnVtLCBsZW5ndGggOiBpIC0gb3JpZ2luYWxJZHh9O1xufVxuXG4vLyBtb3ZlIHVwIHRoZSBzdGFjayB3aGlsZSBwYXJzaW5nXG4vLyB0aGlzIGZ1bmN0aW9uIG1vdmVkIG91dHNpZGUgb2YgcGFyc2VJbmRleGFibGVTdHJpbmcgZm9yIHBlcmZvcm1hbmNlXG5mdW5jdGlvbiBwb3Aoc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgb2JqID0gc3RhY2sucG9wKCk7XG5cbiAgaWYgKG1ldGFTdGFjay5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gICAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnQucHVzaChvYmopO1xuICAgIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUluZGV4YWJsZVN0cmluZyhzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG5cbiAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnXFx1MDAwMCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnMSc6XG4gICAgICAgIHN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMic6XG4gICAgICAgIHN0YWNrLnB1c2goc3RyW2ldID09PSAnMScpO1xuICAgICAgICBpKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMyc6XG4gICAgICAgIHZhciBwYXJzZWROdW0gPSBwYXJzZU51bWJlcihzdHIsIGkpO1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZE51bS5udW0pO1xuICAgICAgICBpICs9IHBhcnNlZE51bS5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNCc6XG4gICAgICAgIHZhciBwYXJzZWRTdHIgPSAnJztcbiAgICAgICAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyc2VkU3RyICs9IGNoO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHRoZSByZXZlcnNlIG9mIHRoZSBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIGFsZ29yaXRobSAoc2VlIGFib3ZlKVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHBhcnNlZFN0ciA9IHBhcnNlZFN0ci5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMS9nLCAnXFx1MDAwMCcpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAyL2csICdcXHUwMDAxJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMlxcdTAwMDIvZywgJ1xcdTAwMDInKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkU3RyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc1JzpcbiAgICAgICAgdmFyIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNic6XG4gICAgICAgIHZhciBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2JhZCBjb2xsYXRpb25JbmRleCBvciB1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgK1xuICAgICAgICAgICAgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUNvbGxhdGUoYSwgYikge1xuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShhW2ldLCBiW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAoYS5sZW5ndGggPT09IGIubGVuZ3RoKSA/IDAgOlxuICAgIChhLmxlbmd0aCA+IGIubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbmZ1bmN0aW9uIHN0cmluZ0NvbGxhdGUoYSwgYikge1xuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYWxlaGFydmV5L3BvdWNoZGIvaXNzdWVzLzQwXG4gIC8vIFRoaXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIENvdWNoREIgaW1wbGVtZW50YXRpb24sIGJ1dCBpdHMgdGhlXG4gIC8vIGJlc3Qgd2UgY2FuIGRvIGZvciBub3dcbiAgcmV0dXJuIChhID09PSBiKSA/IDAgOiAoKGEgPiBiKSA/IDEgOiAtMSk7XG59XG5mdW5jdGlvbiBvYmplY3RDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGFrID0gT2JqZWN0LmtleXMoYSksIGJrID0gT2JqZWN0LmtleXMoYik7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhay5sZW5ndGgsIGJrLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBGaXJzdCBzb3J0IHRoZSBrZXlzXG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFrW2ldLCBia1tpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgICAvLyBpZiB0aGUga2V5cyBhcmUgZXF1YWwgc29ydCB0aGUgdmFsdWVzXG4gICAgc29ydCA9IGNvbGxhdGUoYVtha1tpXV0sIGJbYmtbaV1dKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIChhay5sZW5ndGggPT09IGJrLmxlbmd0aCkgPyAwIDpcbiAgICAoYWsubGVuZ3RoID4gYmsubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbi8vIFRoZSBjb2xsYXRpb24gaXMgZGVmaW5lZCBieSBlcmxhbmdzIG9yZGVyZWQgdGVybXNcbi8vIHRoZSBhdG9tcyBudWxsLCB0cnVlLCBmYWxzZSBjb21lIGZpcnN0LCB0aGVuIG51bWJlcnMsIHN0cmluZ3MsXG4vLyBhcnJheXMsIHRoZW4gb2JqZWN0c1xuLy8gbnVsbC91bmRlZmluZWQvTmFOL0luZmluaXR5Ly1JbmZpbml0eSBhcmUgYWxsIGNvbnNpZGVyZWQgbnVsbFxuZnVuY3Rpb24gY29sbGF0aW9uSW5kZXgoeCkge1xuICB2YXIgaWQgPSBbJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ3N0cmluZycsICdvYmplY3QnXTtcbiAgdmFyIGlkeCA9IGlkLmluZGV4T2YodHlwZW9mIHgpO1xuICAvL2ZhbHNlIGlmIC0xIG90aGVyd2lzZSB0cnVlLCBidXQgZmFzdCEhISExXG4gIGlmICh+aWR4KSB7XG4gICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgcmV0dXJuIDU7XG4gICAgfVxuICAgIHJldHVybiBpZHggPCAzID8gKGlkeCArIDIpIDogKGlkeCArIDMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuLy8gY29udmVyc2lvbjpcbi8vIHggeXl5IHp6Li4uenpcbi8vIHggPSAwIGZvciBuZWdhdGl2ZSwgMSBmb3IgMCwgMiBmb3IgcG9zaXRpdmVcbi8vIHkgPSBleHBvbmVudCAoZm9yIG5lZ2F0aXZlIG51bWJlcnMgbmVnYXRlZCkgbW92ZWQgc28gdGhhdCBpdCdzID49IDBcbi8vIHogPSBtYW50aXNzZVxuZnVuY3Rpb24gbnVtVG9JbmRleGFibGVTdHJpbmcobnVtKSB7XG5cbiAgaWYgKG51bSA9PT0gMCkge1xuICAgIHJldHVybiAnMSc7XG4gIH1cblxuICAvLyBjb252ZXJ0IG51bWJlciB0byBleHBvbmVudGlhbCBmb3JtYXQgZm9yIGVhc2llciBhbmRcbiAgLy8gbW9yZSBzdWNjaW5jdCBzdHJpbmcgc29ydGluZ1xuICB2YXIgZXhwRm9ybWF0ID0gbnVtLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgvZVxcKz8vKTtcbiAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KGV4cEZvcm1hdFsxXSwgMTApO1xuXG4gIHZhciBuZWcgPSBudW0gPCAwO1xuXG4gIHZhciByZXN1bHQgPSBuZWcgPyAnMCcgOiAnMic7XG5cbiAgLy8gZmlyc3Qgc29ydCBieSBtYWduaXR1ZGVcbiAgLy8gaXQncyBlYXNpZXIgaWYgYWxsIG1hZ25pdHVkZXMgYXJlIHBvc2l0aXZlXG4gIHZhciBtYWdGb3JDb21wYXJpc29uID0gKChuZWcgPyAtbWFnbml0dWRlIDogbWFnbml0dWRlKSAtIE1JTl9NQUdOSVRVREUpO1xuICB2YXIgbWFnU3RyaW5nID0gcGFkTGVmdCgobWFnRm9yQ29tcGFyaXNvbikudG9TdHJpbmcoKSwgJzAnLCBNQUdOSVRVREVfRElHSVRTKTtcblxuICByZXN1bHQgKz0gU0VQICsgbWFnU3RyaW5nO1xuXG4gIC8vIHRoZW4gc29ydCBieSB0aGUgZmFjdG9yXG4gIHZhciBmYWN0b3IgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGV4cEZvcm1hdFswXSkpOyAvLyBbMS4uMTApXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChuZWcpIHsgLy8gZm9yIG5lZ2F0aXZlIHJldmVyc2Ugb3JkZXJpbmdcbiAgICBmYWN0b3IgPSAxMCAtIGZhY3RvcjtcbiAgfVxuXG4gIHZhciBmYWN0b3JTdHIgPSBmYWN0b3IudG9GaXhlZCgyMCk7XG5cbiAgLy8gc3RyaXAgemVyb3MgZnJvbSB0aGUgZW5kXG4gIGZhY3RvclN0ciA9IGZhY3RvclN0ci5yZXBsYWNlKC9cXC4/MCskLywgJycpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBmYWN0b3JTdHI7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gY3JlYXRlIGEgY29tcGFyYXRvciBiYXNlZCBvbiB0aGUgc29ydCBvYmplY3RcbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkU29ydGVyKHNvcnQpIHtcblxuICBmdW5jdGlvbiBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoZG9jKSB7XG4gICAgcmV0dXJuIHNvcnQubWFwKGZ1bmN0aW9uIChzb3J0aW5nKSB7XG4gICAgICB2YXIgZmllbGROYW1lID0gZ2V0S2V5KHNvcnRpbmcpO1xuICAgICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZE5hbWUpO1xuICAgICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYVJvdywgYlJvdykge1xuICAgIHZhciBhRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYVJvdy5kb2MpO1xuICAgIHZhciBiRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYlJvdy5kb2MpO1xuICAgIHZhciBjb2xsYXRpb24gPSBjb2xsYXRlKGFGaWVsZFZhbHVlcywgYkZpZWxkVmFsdWVzKTtcbiAgICBpZiAoY29sbGF0aW9uICE9PSAwKSB7XG4gICAgICByZXR1cm4gY29sbGF0aW9uO1xuICAgIH1cbiAgICAvLyB0aGlzIGlzIHdoYXQgbWFuZ28gc2VlbXMgdG8gZG9cbiAgICByZXR1cm4gY29tcGFyZSQxKGFSb3cuZG9jLl9pZCwgYlJvdy5kb2MuX2lkKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmlsdGVySW5NZW1vcnlGaWVsZHMocm93cywgcmVxdWVzdERlZiwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcm93cyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKHJvdy5kb2MsIHJlcXVlc3REZWYuc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKTtcbiAgfSk7XG5cbiAgaWYgKHJlcXVlc3REZWYuc29ydCkge1xuICAgIC8vIGluLW1lbW9yeSBzb3J0XG4gICAgdmFyIGZpZWxkU29ydGVyID0gY3JlYXRlRmllbGRTb3J0ZXIocmVxdWVzdERlZi5zb3J0KTtcbiAgICByb3dzID0gcm93cy5zb3J0KGZpZWxkU29ydGVyKTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3REZWYuc29ydFswXSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgZ2V0VmFsdWUocmVxdWVzdERlZi5zb3J0WzBdKSA9PT0gJ2Rlc2MnKSB7XG4gICAgICByb3dzID0gcm93cy5yZXZlcnNlKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdsaW1pdCcgaW4gcmVxdWVzdERlZiB8fCAnc2tpcCcgaW4gcmVxdWVzdERlZikge1xuICAgIC8vIGhhdmUgdG8gZG8gdGhlIGxpbWl0IGluLW1lbW9yeVxuICAgIHZhciBza2lwID0gcmVxdWVzdERlZi5za2lwIHx8IDA7XG4gICAgdmFyIGxpbWl0ID0gKCdsaW1pdCcgaW4gcmVxdWVzdERlZiA/IHJlcXVlc3REZWYubGltaXQgOiByb3dzLmxlbmd0aCkgKyBza2lwO1xuICAgIHJvd3MgPSByb3dzLnNsaWNlKHNraXAsIGxpbWl0KTtcbiAgfVxuICByZXR1cm4gcm93cztcbn1cblxuZnVuY3Rpb24gcm93RmlsdGVyKGRvYywgc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJldHVybiBpbk1lbW9yeUZpZWxkcy5ldmVyeShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkKTtcbiAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICByZXR1cm4gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXIpIHtcbiAgICAvLyBubyBmaWx0ZXJpbmcgbmVjZXNzYXJ5OyB0aGlzIGZpZWxkIGlzIGp1c3QgbmVlZGVkIGZvciBzb3J0aW5nXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyBtYXRjaGVyIGFuIG9iamVjdCwgaWYgc28gY29udGludWUgcmVjdXJzaW9uXG4gIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcikuZXZlcnkoZnVuY3Rpb24gKG1heWJlVXNlck9wZXJhdG9yKSB7XG4gICAgICB2YXIgdXNlclZhbHVlID0gbWF0Y2hlclsgbWF5YmVVc2VyT3BlcmF0b3IgXTtcbiAgICAgIC8vIGV4cGxpY2l0IG9wZXJhdG9yXG4gICAgICBpZiAobWF5YmVVc2VyT3BlcmF0b3IuaW5kZXhPZihcIiRcIikgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKG1heWJlVXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHN1YlBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChtYXliZVVzZXJPcGVyYXRvcik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRvY0ZpZWxkVmFsdWUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIHR5cGVvZiB1c2VyVmFsdWUgIT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICBzdWJQYXJzZWRGaWVsZC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCwgcmV0dXJuIG9yIGdldEZpZWxkRnJvbURvYyB3aWxsIHRocm93XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YkRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jRmllbGRWYWx1ZSwgc3ViUGFyc2VkRmllbGQpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXNlclZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgLy8gZmllbGQgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgY29udGFpbiBtb3JlIG9wZXJhdG9yc1xuICAgICAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbXBsaWNpdCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gbWF0Y2goXCIkZXFcIiwgZG9jLCB1c2VyVmFsdWUsIHN1YlBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG5vIG1vcmUgZGVwdGgsIE5vIG5lZWQgdG8gcmVjdXJzZSBmdXJ0aGVyXG4gIHJldHVybiBtYXRjaGVyID09PSBkb2NGaWVsZFZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpIHtcblxuICBpZiAoZmllbGQgPT09ICckb3InKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIuc29tZShmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmaWVsZCA9PT0gJyRub3QnKSB7XG4gICAgcmV0dXJuICFyb3dGaWx0ZXIoZG9jLCBtYXRjaGVyLCBPYmplY3Qua2V5cyhtYXRjaGVyKSk7XG4gIH1cblxuICAvL2Akbm9yYFxuICByZXR1cm4gIW1hdGNoZXIuZmluZChmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gIH0pO1xuXG59XG5cbmZ1bmN0aW9uIG1hdGNoKHVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcnNbdXNlck9wZXJhdG9yXSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG9wZXJhdG9yIFwiJyArIHVzZXJPcGVyYXRvciArXG4gICAgICAnXCIgLSBzaG91bGQgYmUgb25lIG9mICRlcSwgJGx0ZSwgJGx0LCAkZ3QsICRndGUsICRleGlzdHMsICRuZSwgJGluLCAnICtcbiAgICAgICckbmluLCAkc2l6ZSwgJG1vZCwgJHJlZ2V4LCAkZWxlbU1hdGNoLCAkdHlwZSwgJGFsbE1hdGNoIG9yICRhbGwnKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcnNbdXNlck9wZXJhdG9yXShkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jRmllbGRWYWx1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09IFwibnVtYmVyXCIgfHxcbiAgICBwYXJzZUludChkb2NGaWVsZFZhbHVlLCAxMCkgIT09IGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZGl2aXNvciA9IHVzZXJWYWx1ZVswXTtcbiAgdmFyIG1vZCA9IHVzZXJWYWx1ZVsxXTtcblxuICByZXR1cm4gZG9jRmllbGRWYWx1ZSAlIGRpdmlzb3IgPT09IG1vZDtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgIGlmIChkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlKSA9PT0gMDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSB1c2VyVmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAodXNlclZhbHVlKTtcblxuICByZXR1cm4gcmUudGVzdChkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuXG4gIHN3aXRjaCAodXNlclZhbHVlKSB7XG4gICAgY2FzZSAnbnVsbCc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSA9PT0gbnVsbDtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnYm9vbGVhbic7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnbnVtYmVyJztcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdzdHJpbmcnO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoZG9jRmllbGRWYWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG59XG5cbnZhciBtYXRjaGVycyA9IHtcblxuICAnJGVsZW1NYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGFsbE1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGVxJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA9PT0gMDtcbiAgfSxcblxuICAnJGd0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPj0gMDtcbiAgfSxcblxuICAnJGd0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+IDA7XG4gIH0sXG5cbiAgJyRsdGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDw9IDA7XG4gIH0sXG5cbiAgJyRsdCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPCAwO1xuICB9LFxuXG4gICckZXhpc3RzJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIC8vYSBmaWVsZCB0aGF0IGlzIG51bGwgaXMgc3RpbGwgY29uc2lkZXJlZCB0byBleGlzdFxuICAgIGlmICh1c2VyVmFsdWUpIHtcbiAgICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiAhZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgfSxcblxuICAnJG1vZCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5lJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKG5lVmFsdWUpIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIG5lVmFsdWUpICE9PSAwO1xuICAgIH0pO1xuICB9LFxuICAnJGluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5pbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgIWFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckc2l6ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckYWxsJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHJlZ2V4JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgdHlwZW9mIGRvY0ZpZWxkVmFsdWUgPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChyZWdleFZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHJlZ2V4VmFsdWUpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgJyR0eXBlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfVxufTtcblxuLy8gcmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIGRvYyBtYXRjaGVzIHRoZSBzdXBwbGllZCBzZWxlY3RvclxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGRvYywgc2VsZWN0b3IpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdvYmplY3QnKSB7XG4gICAgLy8gbWF0Y2ggdGhlIENvdWNoREIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgZXJyb3I6IGV4cGVjdGVkIGEgSlNPTiBvYmplY3QnKTtcbiAgfVxuXG4gIHNlbGVjdG9yID0gbWFzc2FnZVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgdmFyIHJvdyA9IHtcbiAgICAnZG9jJzogZG9jXG4gIH07XG5cbiAgdmFyIHJvd3NNYXRjaGVkID0gZmlsdGVySW5NZW1vcnlGaWVsZHMoW3Jvd10sIHsgJ3NlbGVjdG9yJzogc2VsZWN0b3IgfSwgT2JqZWN0LmtleXMoc2VsZWN0b3IpKTtcbiAgcmV0dXJuIHJvd3NNYXRjaGVkICYmIHJvd3NNYXRjaGVkLmxlbmd0aCA9PT0gMTtcbn1cblxuZnVuY3Rpb24gZXZhbEZpbHRlcihpbnB1dCkge1xuICByZXR1cm4gc2NvcGVFdmFsKCdcInVzZSBzdHJpY3RcIjtcXG5yZXR1cm4gJyArIGlucHV0ICsgJzsnLCB7fSk7XG59XG5cbmZ1bmN0aW9uIGV2YWxWaWV3KGlucHV0KSB7XG4gIHZhciBjb2RlID0gW1xuICAgICdyZXR1cm4gZnVuY3Rpb24oZG9jKSB7JyxcbiAgICAnICBcInVzZSBzdHJpY3RcIjsnLFxuICAgICcgIHZhciBlbWl0dGVkID0gZmFsc2U7JyxcbiAgICAnICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChhLCBiKSB7JyxcbiAgICAnICAgIGVtaXR0ZWQgPSB0cnVlOycsXG4gICAgJyAgfTsnLFxuICAgICcgIHZhciB2aWV3ID0gJyArIGlucHV0ICsgJzsnLFxuICAgICcgIHZpZXcoZG9jKTsnLFxuICAgICcgIGlmIChlbWl0dGVkKSB7JyxcbiAgICAnICAgIHJldHVybiB0cnVlOycsXG4gICAgJyAgfScsXG4gICAgJ307J1xuICBdLmpvaW4oJ1xcbicpO1xuXG4gIHJldHVybiBzY29wZUV2YWwoY29kZSwge30pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShvcHRzLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciAhPT0gJ19zZWxlY3RvcicpIHtcbiAgICAgIHZhciBmaWx0ZXJOYW1lID0gdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyA/XG4gICAgICAgIG9wdHMuZmlsdGVyIDogJ2Z1bmN0aW9uJztcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ3NlbGVjdG9yIGludmFsaWQgZm9yIGZpbHRlciBcIicgKyBmaWx0ZXJOYW1lICsgJ1wiJykpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemUob3B0cykge1xuICBpZiAob3B0cy52aWV3ICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ192aWV3JztcbiAgfVxuXG4gIGlmIChvcHRzLnNlbGVjdG9yICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgICAgb3B0cy52aWV3ID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMuZmlsdGVyID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkRmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHJldHVybiBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnICYmXG4gICAgIW9wdHMuZG9jX2lkcyAmJiAhaXNSZW1vdGUoY2hhbmdlc0hhbmRsZXIuZGIpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgaWYgKCFvcHRzLnZpZXcgfHwgdHlwZW9mIG9wdHMudmlldyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgJ2B2aWV3YCBmaWx0ZXIgcGFyYW1ldGVyIG5vdCBmb3VuZCBvciBpbnZhbGlkLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGZldGNoIGEgdmlldyBmcm9tIGEgZGVzaWduIGRvYywgbWFrZSBpdCBiZWhhdmUgbGlrZSBhIGZpbHRlclxuICAgIHZhciB2aWV3TmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyB2aWV3TmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXBGdW4gPSBkZG9jICYmIGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0gJiZcbiAgICAgICAgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0ubWFwO1xuICAgICAgaWYgKCFtYXBGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgIChkZG9jLnZpZXdzID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyB2aWV3TmFtZVsxXSA6XG4gICAgICAgICAgICAnbWlzc2luZyBqc29uIGtleTogdmlld3MnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsVmlldyhtYXBGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBvcHRzLmZpbHRlciA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBvcHRzLnNlbGVjdG9yKTtcbiAgICB9O1xuICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBmZXRjaCBhIGZpbHRlciBmcm9tIGEgZGVzaWduIGRvY1xuICAgIHZhciBmaWx0ZXJOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgZmlsdGVyTmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBmaWx0ZXJGdW4gPSBkZG9jICYmIGRkb2MuZmlsdGVycyAmJiBkZG9jLmZpbHRlcnNbZmlsdGVyTmFtZVsxXV07XG4gICAgICBpZiAoIWZpbHRlckZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKChkZG9jICYmIGRkb2MuZmlsdGVycykgPyAnbWlzc2luZyBqc29uIGtleTogJyArIGZpbHRlck5hbWVbMV1cbiAgICAgICAgICAgIDogJ21pc3NpbmcganNvbiBrZXk6IGZpbHRlcnMnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsRmlsdGVyKGZpbHRlckZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbiA9IHtcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemUsXG4gICAgc2hvdWxkRmlsdGVyOiBzaG91bGRGaWx0ZXIsXG4gICAgZmlsdGVyOiBmaWx0ZXJcbiAgfTtcbn1cblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gcG91Y2hkYi1jb3JlIChicmVha2luZylcblBvdWNoREIucGx1Z2luKGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbik7XG5cblBvdWNoREIudmVyc2lvbiA9IHZlcnNpb247XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaXRlbSkge1xuICAgIG9ialtpdGVtXSA9IHRydWU7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufVxuLy8gTGlzdCBvZiB0b3AgbGV2ZWwgcmVzZXJ2ZWQgd29yZHMgZm9yIGRvY1xudmFyIHJlc2VydmVkV29yZHMgPSB0b09iamVjdChbXG4gICdfaWQnLFxuICAnX3JldicsXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gICdfZGVsZXRlZCcsXG4gICdfcmV2aXNpb25zJyxcbiAgJ19yZXZzX2luZm8nLFxuICAnX2NvbmZsaWN0cycsXG4gICdfZGVsZXRlZF9jb25mbGljdHMnLFxuICAnX2xvY2FsX3NlcScsXG4gICdfcmV2X3RyZWUnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnLFxuICAvLyBTcGVjaWZpYyB0byBDb3VjaGJhc2UgU3luYyBHYXRld2F5XG4gICdfcmVtb3ZlZCdcbl0pO1xuXG4vLyBMaXN0IG9mIHJlc2VydmVkIHdvcmRzIHRoYXQgc2hvdWxkIGVuZCB1cCBpbiB0aGUgZG9jdW1lbnRcbnZhciBkYXRhV29yZHMgPSB0b09iamVjdChbXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cydcbl0pO1xuXG5mdW5jdGlvbiBwYXJzZVJldmlzaW9uSW5mbyhyZXYpIHtcbiAgaWYgKCEvXlxcZCstLy50ZXN0KHJldikpIHtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpO1xuICB9XG4gIHZhciBpZHggPSByZXYuaW5kZXhPZignLScpO1xuICB2YXIgbGVmdCA9IHJldi5zdWJzdHJpbmcoMCwgaWR4KTtcbiAgdmFyIHJpZ2h0ID0gcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgcmV0dXJuIHtcbiAgICBwcmVmaXg6IHBhcnNlSW50KGxlZnQsIDEwKSxcbiAgICBpZDogcmlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKHJldmlzaW9ucywgb3B0cykge1xuICB2YXIgcG9zID0gcmV2aXNpb25zLnN0YXJ0IC0gcmV2aXNpb25zLmlkcy5sZW5ndGggKyAxO1xuXG4gIHZhciByZXZpc2lvbklkcyA9IHJldmlzaW9ucy5pZHM7XG4gIHZhciBpZHMgPSBbcmV2aXNpb25JZHNbMF0sIG9wdHMsIFtdXTtcblxuICBmb3IgKHZhciBpID0gMSwgbGVuID0gcmV2aXNpb25JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZHMgPSBbcmV2aXNpb25JZHNbaV0sIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtpZHNdXTtcbiAgfVxuXG4gIHJldHVybiBbe1xuICAgIHBvczogcG9zLFxuICAgIGlkczogaWRzXG4gIH1dO1xufVxuXG4vLyBQcmVwcm9jZXNzIGRvY3VtZW50cywgcGFyc2UgdGhlaXIgcmV2aXNpb25zLCBhc3NpZ24gYW4gaWQgYW5kIGFcbi8vIHJldmlzaW9uIGZvciBuZXcgd3JpdGVzIHRoYXQgYXJlIG1pc3NpbmcgdGhlbSwgZXRjXG5mdW5jdGlvbiBwYXJzZURvYyhkb2MsIG5ld0VkaXRzLCBkYk9wdHMpIHtcbiAgaWYgKCFkYk9wdHMpIHtcbiAgICBkYk9wdHMgPSB7XG4gICAgICBkZXRlcm1pbmlzdGljX3JldnM6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgdmFyIG5SZXZOdW07XG4gIHZhciBuZXdSZXZJZDtcbiAgdmFyIHJldkluZm87XG4gIHZhciBvcHRzID0ge3N0YXR1czogJ2F2YWlsYWJsZSd9O1xuICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgb3B0cy5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChuZXdFZGl0cykge1xuICAgIGlmICghZG9jLl9pZCkge1xuICAgICAgZG9jLl9pZCA9IHV1aWQoKTtcbiAgICB9XG4gICAgbmV3UmV2SWQgPSByZXYkJDEoZG9jLCBkYk9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzKTtcbiAgICBpZiAoZG9jLl9yZXYpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IHJldkluZm8ucHJlZml4LFxuICAgICAgICBpZHM6IFtyZXZJbmZvLmlkLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbW25ld1JldklkLCBvcHRzLCBbXV1dXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXggKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiAxLFxuICAgICAgICBpZHMgOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRvYy5fcmV2aXNpb25zKSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKGRvYy5fcmV2aXNpb25zLCBvcHRzKTtcbiAgICAgIG5SZXZOdW0gPSBkb2MuX3JldmlzaW9ucy5zdGFydDtcbiAgICAgIG5ld1JldklkID0gZG9jLl9yZXZpc2lvbnMuaWRzWzBdO1xuICAgIH1cbiAgICBpZiAoIWRvYy5fcmV2X3RyZWUpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeDtcbiAgICAgIG5ld1JldklkID0gcmV2SW5mby5pZDtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IG5SZXZOdW0sXG4gICAgICAgIGlkczogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgIH1cbiAgfVxuXG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuXG4gIGRvYy5fcmV2ID0gblJldk51bSArICctJyArIG5ld1JldklkO1xuXG4gIHZhciByZXN1bHQgPSB7bWV0YWRhdGEgOiB7fSwgZGF0YSA6IHt9fTtcbiAgZm9yICh2YXIga2V5IGluIGRvYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MsIGtleSkpIHtcbiAgICAgIHZhciBzcGVjaWFsS2V5ID0ga2V5WzBdID09PSAnXyc7XG4gICAgICBpZiAoc3BlY2lhbEtleSAmJiAhcmVzZXJ2ZWRXb3Jkc1trZXldKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGNyZWF0ZUVycm9yKERPQ19WQUxJREFUSU9OLCBrZXkpO1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gRE9DX1ZBTElEQVRJT04ubWVzc2FnZSArICc6ICcgKyBrZXk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBlbHNlIGlmIChzcGVjaWFsS2V5ICYmICFkYXRhV29yZHNba2V5XSkge1xuICAgICAgICByZXN1bHQubWV0YWRhdGFba2V5LnNsaWNlKDEpXSA9IGRvY1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmRhdGFba2V5XSA9IGRvY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2U2NChkYXRhKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXNBdG9iKGRhdGEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgcmV0dXJuIHtlcnJvcjogZXJyfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBhc0JpbmFyeSA9IHBhcnNlQmFzZTY0KGF0dC5kYXRhKTtcbiAgaWYgKGFzQmluYXJ5LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGFzQmluYXJ5LmVycm9yKTtcbiAgfVxuXG4gIGF0dC5sZW5ndGggPSBhc0JpbmFyeS5sZW5ndGg7XG4gIGlmIChibG9iVHlwZSA9PT0gJ2Jsb2InKSB7XG4gICAgYXR0LmRhdGEgPSBiaW5TdHJpbmdUb0JsdWZmZXIoYXNCaW5hcnksIGF0dC5jb250ZW50X3R5cGUpO1xuICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgIGF0dC5kYXRhID0gdGhpc0J0b2EoYXNCaW5hcnkpO1xuICB9IGVsc2UgeyAvLyBiaW5hcnlcbiAgICBhdHQuZGF0YSA9IGFzQmluYXJ5O1xuICB9XG4gIGJpbmFyeU1kNShhc0JpbmFyeSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyByZXN1bHQ7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGJpbmFyeU1kNShhdHQuZGF0YSwgZnVuY3Rpb24gKG1kNSkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyBtZDU7XG4gICAgLy8gc2l6ZSBpcyBmb3IgYmxvYnMgKGJyb3dzZXIpLCBsZW5ndGggaXMgZm9yIGJ1ZmZlcnMgKG5vZGUpXG4gICAgYXR0Lmxlbmd0aCA9IGF0dC5kYXRhLnNpemUgfHwgYXR0LmRhdGEubGVuZ3RoIHx8IDA7XG4gICAgaWYgKGJsb2JUeXBlID09PSAnYmluYXJ5Jykge1xuICAgICAgYmxvYlRvQmluYXJ5U3RyaW5nKGF0dC5kYXRhLCBmdW5jdGlvbiAoYmluU3RyaW5nKSB7XG4gICAgICAgIGF0dC5kYXRhID0gYmluU3RyaW5nO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICAgIGJsb2JUb0Jhc2U2NChhdHQuZGF0YSwgZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHQuZGF0YSA9IGI2NDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50KGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmIChhdHQuc3R1Yikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG4gIGlmICh0eXBlb2YgYXR0LmRhdGEgPT09ICdzdHJpbmcnKSB7IC8vIGlucHV0IGlzIGEgYmFzZTY0IHN0cmluZ1xuICAgIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9IGVsc2UgeyAvLyBpbnB1dCBpcyBhIGJsb2JcbiAgICBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgY2FsbGJhY2spIHtcblxuICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIGRvY3YgPSAwO1xuICB2YXIgb3ZlcmFsbEVycjtcblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgP1xuICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykgOiBbXTtcbiAgICB2YXIgcmVjdiA9IDA7XG5cbiAgICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzZWRBdHRhY2htZW50KGVycikge1xuICAgICAgb3ZlcmFsbEVyciA9IGVycjtcbiAgICAgIHJlY3YrKztcbiAgICAgIGlmIChyZWN2ID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgcHJlcHJvY2Vzc0F0dGFjaG1lbnQoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldLFxuICAgICAgICAgIGJsb2JUeXBlLCBwcm9jZXNzZWRBdHRhY2htZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgZG9jdisrO1xuICAgIGlmIChkb2NJbmZvcy5sZW5ndGggPT09IGRvY3YpIHtcbiAgICAgIGlmIChvdmVyYWxsRXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKG92ZXJhbGxFcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRG9jKHJldkxpbWl0LCBwcmV2LCBkb2NJbmZvLCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgIGksIGNiLCB3cml0ZURvYywgbmV3RWRpdHMpIHtcblxuICBpZiAocmV2RXhpc3RzKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2KSAmJiAhbmV3RWRpdHMpIHtcbiAgICByZXN1bHRzW2ldID0gZG9jSW5mbztcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIC8vIHNvbWV0aW1lcyB0aGlzIGlzIHByZS1jYWxjdWxhdGVkLiBoaXN0b3JpY2FsbHkgbm90IGFsd2F5c1xuICB2YXIgcHJldmlvdXNXaW5uaW5nUmV2ID0gcHJldi53aW5uaW5nUmV2IHx8IHdpbm5pbmdSZXYocHJldik7XG4gIHZhciBwcmV2aW91c2x5RGVsZXRlZCA9ICdkZWxldGVkJyBpbiBwcmV2ID8gcHJldi5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQocHJldiwgcHJldmlvdXNXaW5uaW5nUmV2KTtcbiAgdmFyIGRlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gZG9jSW5mby5tZXRhZGF0YSA/IGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgaXNSb290ID0gL14xLS8udGVzdChkb2NJbmZvLm1ldGFkYXRhLnJldik7XG5cbiAgaWYgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG5ld0VkaXRzICYmIGlzUm9vdCkge1xuICAgIHZhciBuZXdEb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgbmV3RG9jLl9yZXYgPSBwcmV2aW91c1dpbm5pbmdSZXY7XG4gICAgbmV3RG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jSW5mbyA9IHBhcnNlRG9jKG5ld0RvYywgbmV3RWRpdHMpO1xuICB9XG5cbiAgdmFyIG1lcmdlZCA9IG1lcmdlKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcblxuICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmICgoXG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmIGRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAoIXByZXZpb3VzbHlEZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgPT09ICduZXdfYnJhbmNoJykpKTtcblxuICBpZiAoaW5Db25mbGljdCkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIHJlc3VsdHNbaV0gPSBlcnI7XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICB2YXIgbmV3UmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG4gIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgZG9jSW5mby5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHByZXYucmV2X21hcCkge1xuICAgIGRvY0luZm8ubWV0YWRhdGEucmV2X21hcCA9IHByZXYucmV2X21hcDsgLy8gdXNlZCBvbmx5IGJ5IGxldmVsZGJcbiAgfVxuXG4gIC8vIHJlY2FsY3VsYXRlXG4gIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIHdpbm5pbmdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBhZGRlZC9yZW1vdmVkLFxuICAvLyBmcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiB0b3RhbF9yb3dzL2RvY19jb3VudFxuICB2YXIgZGVsdGEgPSAocHJldmlvdXNseURlbGV0ZWQgPT09IHdpbm5pbmdSZXZJc0RlbGV0ZWQpID8gMCA6XG4gICAgcHJldmlvdXNseURlbGV0ZWQgPCB3aW5uaW5nUmV2SXNEZWxldGVkID8gLTEgOiAxO1xuXG4gIHZhciBuZXdSZXZJc0RlbGV0ZWQ7XG4gIGlmIChuZXdSZXYgPT09IHdpbm5pbmdSZXYkJDEpIHtcbiAgICAvLyBpZiB0aGUgbmV3IHJldiBpcyB0aGUgc2FtZSBhcyB0aGUgd2lubmluZyByZXYsIHdlIGNhbiByZXVzZSB0aGF0IHZhbHVlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGV5J3JlIG5vdCB0aGUgc2FtZSwgdGhlbiB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIG5ld1Jldik7XG4gIH1cblxuICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgdHJ1ZSwgZGVsdGEsIGksIGNiKTtcbn1cblxuZnVuY3Rpb24gcm9vdElzTWlzc2luZyhkb2NJbmZvKSB7XG4gIHJldHVybiBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLmlkc1sxXS5zdGF0dXMgPT09ICdtaXNzaW5nJztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0RvY3MocmV2TGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLCB0eCwgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgIHdyaXRlRG9jLCBvcHRzLCBvdmVyYWxsQ2FsbGJhY2spIHtcblxuICAvLyBEZWZhdWx0IHRvIDEwMDAgbG9jYWxseVxuICByZXZMaW1pdCA9IHJldkxpbWl0IHx8IDEwMDA7XG5cbiAgZnVuY3Rpb24gaW5zZXJ0RG9jKGRvY0luZm8sIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG4gICAgLy8gQ2FudCBpbnNlcnQgbmV3IGRlbGV0ZWQgZG9jdW1lbnRzXG4gICAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuICAgIGlmICgnd2FzX2RlbGV0ZScgaW4gb3B0cyAmJiBkZWxldGVkKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdkZWxldGVkJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyA0NzEyIC0gZGV0ZWN0IHdoZXRoZXIgYSBuZXcgZG9jdW1lbnQgd2FzIGluc2VydGVkIHdpdGggYSBfcmV2XG4gICAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiByb290SXNNaXNzaW5nKGRvY0luZm8pO1xuXG4gICAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVycjtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IGRlbGV0ZWQgPyAwIDogMTtcblxuICAgIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQsIGRlbGV0ZWQsIGZhbHNlLFxuICAgICAgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBuZXdFZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuICB2YXIgaWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIGRvY3NEb25lID0gMDtcbiAgdmFyIGRvY3NUb0RvID0gZG9jSW5mb3MubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrQWxsRG9jc0RvbmUoKSB7XG4gICAgaWYgKCsrZG9jc0RvbmUgPT09IGRvY3NUb0RvICYmIG92ZXJhbGxDYWxsYmFjaykge1xuICAgICAgb3ZlcmFsbENhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudERvYywgcmVzdWx0c0lkeCkge1xuXG4gICAgaWYgKGN1cnJlbnREb2MuX2lkICYmIGlzTG9jYWxJZChjdXJyZW50RG9jLl9pZCkpIHtcbiAgICAgIHZhciBmdW4gPSBjdXJyZW50RG9jLl9kZWxldGVkID8gJ19yZW1vdmVMb2NhbCcgOiAnX3B1dExvY2FsJztcbiAgICAgIGFwaVtmdW5dKGN1cnJlbnREb2MsIHtjdHg6IHR4fSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnIgfHwgcmVzO1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWQgPSBjdXJyZW50RG9jLm1ldGFkYXRhLmlkO1xuICAgIGlmIChpZHNUb0RvY3MuaGFzKGlkKSkge1xuICAgICAgZG9jc1RvRG8tLTsgLy8gZHVwbGljYXRlXG4gICAgICBpZHNUb0RvY3MuZ2V0KGlkKS5wdXNoKFtjdXJyZW50RG9jLCByZXN1bHRzSWR4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkc1RvRG9jcy5zZXQoaWQsIFtbY3VycmVudERvYywgcmVzdWx0c0lkeF1dKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIG5ld19lZGl0cywgdGhlIHVzZXIgY2FuIHByb3ZpZGUgbXVsdGlwbGUgZG9jc1xuICAvLyB3aXRoIHRoZSBzYW1lIGlkLiB0aGVzZSBuZWVkIHRvIGJlIHByb2Nlc3NlZCBzZXF1ZW50aWFsbHlcbiAgaWRzVG9Eb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvY3MsIGlkKSB7XG4gICAgdmFyIG51bURvbmUgPSAwO1xuXG4gICAgZnVuY3Rpb24gZG9jV3JpdHRlbigpIHtcbiAgICAgIGlmICgrK251bURvbmUgPCBkb2NzLmxlbmd0aCkge1xuICAgICAgICBuZXh0RG9jKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHREb2MoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBkb2NzW251bURvbmVdO1xuICAgICAgdmFyIGN1cnJlbnREb2MgPSB2YWx1ZVswXTtcbiAgICAgIHZhciByZXN1bHRzSWR4ID0gdmFsdWVbMV07XG5cbiAgICAgIGlmIChmZXRjaGVkRG9jcy5oYXMoaWQpKSB7XG4gICAgICAgIHVwZGF0ZURvYyhyZXZMaW1pdCwgZmV0Y2hlZERvY3MuZ2V0KGlkKSwgY3VycmVudERvYywgcmVzdWx0cyxcbiAgICAgICAgICByZXN1bHRzSWR4LCBkb2NXcml0dGVuLCB3cml0ZURvYywgbmV3RWRpdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5zdXJlIHN0ZW1taW5nIGFwcGxpZXMgdG8gbmV3IHdyaXRlcyBhcyB3ZWxsXG4gICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZShbXSwgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuICAgICAgICBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gICAgICAgIGN1cnJlbnREb2Muc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gICAgICAgIGluc2VydERvYyhjdXJyZW50RG9jLCByZXN1bHRzSWR4LCBkb2NXcml0dGVuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dERvYygpO1xuICB9KTtcbn1cblxuLy8gSW5kZXhlZERCIHJlcXVpcmVzIGEgdmVyc2lvbmVkIGRhdGFiYXNlIHN0cnVjdHVyZSwgc28gd2UgdXNlIHRoZVxuLy8gdmVyc2lvbiBoZXJlIHRvIG1hbmFnZSBtaWdyYXRpb25zLlxudmFyIEFEQVBURVJfVkVSU0lPTiA9IDU7XG5cbi8vIFRoZSBvYmplY3Qgc3RvcmVzIGNyZWF0ZWQgZm9yIGVhY2ggZGF0YWJhc2Vcbi8vIERPQ19TVE9SRSBzdG9yZXMgdGhlIGRvY3VtZW50IG1ldGEgZGF0YSwgaXRzIHJldmlzaW9uIGhpc3RvcnkgYW5kIHN0YXRlXG4vLyBLZXllZCBieSBkb2N1bWVudCBpZFxudmFyIERPQ19TVE9SRSA9ICdkb2N1bWVudC1zdG9yZSc7XG4vLyBCWV9TRVFfU1RPUkUgc3RvcmVzIGEgcGFydGljdWxhciB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQsIGtleWVkIGJ5IGl0c1xuLy8gc2VxdWVuY2UgaWRcbnZhciBCWV9TRVFfU1RPUkUgPSAnYnktc2VxdWVuY2UnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgYXR0YWNobWVudHNcbnZhciBBVFRBQ0hfU1RPUkUgPSAnYXR0YWNoLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIG1hbnktdG8tbWFueSByZWxhdGlvbnNcbi8vIGJldHdlZW4gYXR0YWNobWVudCBkaWdlc3RzIGFuZCBzZXFzXG52YXIgQVRUQUNIX0FORF9TRVFfU1RPUkUgPSAnYXR0YWNoLXNlcS1zdG9yZSc7XG5cbi8vIFdoZXJlIHdlIHN0b3JlIGRhdGFiYXNlLXdpZGUgbWV0YSBkYXRhIGluIGEgc2luZ2xlIHJlY29yZFxuLy8ga2V5ZWQgYnkgaWQ6IE1FVEFfU1RPUkVcbnZhciBNRVRBX1NUT1JFID0gJ21ldGEtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbG9jYWwgZG9jdW1lbnRzXG52YXIgTE9DQUxfU1RPUkUgPSAnbG9jYWwtc3RvcmUnO1xuLy8gV2hlcmUgd2UgZGV0ZWN0IGJsb2Igc3VwcG9ydFxudmFyIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUgPSAnZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG5cbmZ1bmN0aW9uIHNhZmVKc29uUGFyc2Uoc3RyKSB7XG4gIC8vIFRoaXMgdHJ5L2NhdGNoIGd1YXJkcyBhZ2FpbnN0IHN0YWNrIG92ZXJmbG93IGVycm9ycy5cbiAgLy8gSlNPTi5wYXJzZSgpIGlzIGZhc3RlciB0aGFuIHZ1dnV6ZWxhLnBhcnNlKCkgYnV0IHZ1dnV6ZWxhXG4gIC8vIGNhbm5vdCBvdmVyZmxvdy5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEucGFyc2Uoc3RyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlSnNvblN0cmluZ2lmeShqc29uKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEuc3RyaW5naWZ5KGpzb24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlkYkVycm9yKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAndW5rbm93bl9lcnJvcic7XG4gICAgaWYgKGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC5lcnJvcikge1xuICAgICAgbWVzc2FnZSA9IGV2dC50YXJnZXQuZXJyb3IubmFtZSB8fCBldnQudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbWVzc2FnZSwgZXZ0LnR5cGUpKTtcbiAgfTtcbn1cblxuLy8gVW5mb3J0dW5hdGVseSwgdGhlIG1ldGFkYXRhIGhhcyB0byBiZSBzdHJpbmdpZmllZFxuLy8gd2hlbiBpdCBpcyBwdXQgaW50byB0aGUgZGF0YWJhc2UsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4vLyBJbmRleGVkREIgY2FuIHRocm93IGVycm9ycyBmb3IgZGVlcGx5LW5lc3RlZCBvYmplY3RzLlxuLy8gT3JpZ2luYWxseSB3ZSBqdXN0IHVzZWQgSlNPTi5wYXJzZS9KU09OLnN0cmluZ2lmeTsgbm93XG4vLyB3ZSB1c2UgdGhpcyBjdXN0b20gdnV2dXplbGEgbGlicmFyeSB0aGF0IGF2b2lkcyByZWN1cnNpb24uXG4vLyBJZiB3ZSBjb3VsZCBkbyBpdCBhbGwgb3ZlciBhZ2Fpbiwgd2UnZCBwcm9iYWJseSB1c2UgYVxuLy8gZm9ybWF0IGZvciB0aGUgcmV2aXNpb24gdHJlZXMgb3RoZXIgdGhhbiBKU09OLlxuZnVuY3Rpb24gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYsIGRlbGV0ZWQpIHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBzYWZlSnNvblN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgd2lubmluZ1Jldjogd2lubmluZ1JldixcbiAgICBkZWxldGVkT3JMb2NhbDogZGVsZXRlZCA/ICcxJyA6ICcwJyxcbiAgICBzZXE6IG1ldGFkYXRhLnNlcSwgLy8gaGlnaGVzdCBzZXEgZm9yIHRoaXMgZG9jXG4gICAgaWQ6IG1ldGFkYXRhLmlkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCkge1xuICBpZiAoIXN0b3JlZE9iamVjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtZXRhZGF0YSA9IHNhZmVKc29uUGFyc2Uoc3RvcmVkT2JqZWN0LmRhdGEpO1xuICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gc3RvcmVkT2JqZWN0Lndpbm5pbmdSZXY7XG4gIG1ldGFkYXRhLmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgbWV0YWRhdGEuc2VxID0gc3RvcmVkT2JqZWN0LnNlcTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG4vLyByZWFkIHRoZSBkb2MgYmFjayBvdXQgZnJvbSB0aGUgZGF0YWJhc2UuIHdlIGRvbid0IHN0b3JlIHRoZVxuLy8gX2lkIG9yIF9yZXYgYmVjYXVzZSB3ZSBhbHJlYWR5IGhhdmUgX2RvY19pZF9yZXYuXG5mdW5jdGlvbiBkZWNvZGVEb2MoZG9jKSB7XG4gIGlmICghZG9jKSB7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB2YXIgaWR4ID0gZG9jLl9kb2NfaWRfcmV2Lmxhc3RJbmRleE9mKCc6Jyk7XG4gIGRvYy5faWQgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKDAsIGlkeCAtIDEpO1xuICBkb2MuX3JldiA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIGRlbGV0ZSBkb2MuX2RvY19pZF9yZXY7XG4gIHJldHVybiBkb2M7XG59XG5cbi8vIFJlYWQgYSBibG9iIGZyb20gdGhlIGRhdGFiYXNlLCBlbmNvZGluZyBhcyBuZWNlc3Nhcnlcbi8vIGFuZCB0cmFuc2xhdGluZyBmcm9tIGJhc2U2NCBpZiB0aGUgSURCIGRvZXNuJ3Qgc3VwcG9ydFxuLy8gbmF0aXZlIEJsb2JzXG5mdW5jdGlvbiByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBjYWxsYmFjaykge1xuICBpZiAoYXNCbG9iKSB7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVCbG9iKFsnJ10sIHt0eXBlOiB0eXBlfSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGI2NFRvQmx1ZmZlcihib2R5LCB0eXBlKSk7XG4gICAgfVxuICB9IGVsc2UgeyAvLyBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjaygnJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIHJlYWRBc0JpbmFyeVN0cmluZyhib2R5LCBmdW5jdGlvbiAoYmluYXJ5KSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJpbmFyeSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KGRvYywgb3B0cywgdHhuLCBjYikge1xuICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2IgJiYgY2IoKTtcbiAgfVxuICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCAmJiBjYikge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpIHtcbiAgICB2YXIgYXR0T2JqID0gZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgIHZhciBkaWdlc3QgPSBhdHRPYmouZGlnZXN0O1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGF0dE9iai5ib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9O1xuICB9XG5cbiAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoYXR0KSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIElEQi1zcGVjaWZpYyBwb3N0cHJvY2Vzc2luZyBuZWNlc3NhcnkgYmVjYXVzZVxuLy8gd2UgZG9uJ3Qga25vdyB3aGV0aGVyIHdlIHN0b3JlZCBhIHRydWUgQmxvYiBvclxuLy8gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcsIGFuZCBpZiBpdCdzIGEgQmxvYiBpdFxuLy8gbmVlZHMgdG8gYmUgcmVhZCBvdXRzaWRlIG9mIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0XG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIGFzQmxvYikge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cy5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIGlmIChyb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0TmFtZXMgPSBPYmplY3Qua2V5cyhyb3cuZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYXR0TmFtZXMubWFwKGZ1bmN0aW9uIChhdHQpIHtcbiAgICAgICAgdmFyIGF0dE9iaiA9IHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgICAgIGlmICghKCdib2R5JyBpbiBhdHRPYmopKSB7IC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gYXR0T2JqLmJvZHk7XG4gICAgICAgIHZhciB0eXBlID0gYXR0T2JqLmNvbnRlbnRfdHlwZTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oXG4gICAgICAgICAgICAgIHBpY2soYXR0T2JqLCBbJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnXSksXG4gICAgICAgICAgICAgIHtkYXRhOiBkYXRhfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pIHtcblxuICB2YXIgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMgPSBbXTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICB2YXIgY291bnQgPSByZXZzLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgY291bnQtLTtcbiAgICBpZiAoIWNvdW50KSB7IC8vIGRvbmUgcHJvY2Vzc2luZyBhbGwgcmV2c1xuICAgICAgZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKSB7XG4gICAgaWYgKCFwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2YXIgY291bnRSZXEgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnZGlnZXN0U2VxJykuY291bnQoXG4gICAgICAgIElEQktleVJhbmdlLmJvdW5kKFxuICAgICAgICAgIGRpZ2VzdCArICc6OicsIGRpZ2VzdCArICc6OlxcdWZmZmYnLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgIGNvdW50UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIC8vIG9ycGhhbmVkXG4gICAgICAgICAgYXR0U3RvcmUuZGVsZXRlKGRpZ2VzdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICByZXZzLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgIHZhciBrZXkgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICBpbmRleC5nZXRLZXkoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2Ygc2VxICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gY2hlY2tEb25lKCk7XG4gICAgICB9XG4gICAgICBzZXFTdG9yZS5kZWxldGUoc2VxKTtcblxuICAgICAgdmFyIGN1cnNvciA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdzZXEnKVxuICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KHNlcSkpO1xuXG4gICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGN1cnNvci52YWx1ZS5kaWdlc3RTZXEuc3BsaXQoJzo6JylbMF07XG4gICAgICAgICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMucHVzaChkaWdlc3QpO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH0gZWxzZSB7IC8vIGRvbmVcbiAgICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCBtb2RlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR4bjogaWRiLnRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVyclxuICAgIH07XG4gIH1cbn1cblxudmFyIGNoYW5nZXNIYW5kbGVyID0gbmV3IENoYW5nZXMoKTtcblxuZnVuY3Rpb24gaWRiQnVsa0RvY3MoZGJPcHRzLCByZXEsIG9wdHMsIGFwaSwgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgZG9jSW5mb3MgPSByZXEuZG9jcztcbiAgdmFyIHR4bjtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGF0dGFjaFN0b3JlO1xuICB2YXIgYXR0YWNoQW5kU2VxU3RvcmU7XG4gIHZhciBtZXRhU3RvcmU7XG4gIHZhciBkb2NJbmZvRXJyb3I7XG4gIHZhciBtZXRhRG9jO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NJbmZvc1tpXTtcbiAgICBpZiAoZG9jLl9pZCAmJiBpc0xvY2FsSWQoZG9jLl9pZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBkb2MgPSBkb2NJbmZvc1tpXSA9IHBhcnNlRG9jKGRvYywgb3B0cy5uZXdfZWRpdHMsIGRiT3B0cyk7XG4gICAgaWYgKGRvYy5lcnJvciAmJiAhZG9jSW5mb0Vycm9yKSB7XG4gICAgICBkb2NJbmZvRXJyb3IgPSBkb2M7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvY0luZm9FcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhkb2NJbmZvRXJyb3IpO1xuICB9XG5cbiAgdmFyIGFsbERvY3NQcm9jZXNzZWQgPSBmYWxzZTtcbiAgdmFyIGRvY0NvdW50RGVsdGEgPSAwO1xuICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShkb2NJbmZvcy5sZW5ndGgpO1xuICB2YXIgZmV0Y2hlZERvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgdmFyIHByZWNvbmRpdGlvbkVycm9yZWQgPSBmYWxzZTtcbiAgdmFyIGJsb2JUeXBlID0gYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2Jsb2InIDogJ2Jhc2U2NCc7XG5cbiAgcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBzdGFydFRyYW5zYWN0aW9uKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0VHJhbnNhY3Rpb24oKSB7XG5cbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBMT0NBTF9TVE9SRSwgQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICBNRVRBX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9udGltZW91dCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIGF0dGFjaFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgYXR0YWNoQW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICAgIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcblxuICAgIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgdmVyaWZ5QXR0YWNobWVudHMoZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcmVjb25kaXRpb25FcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBmZXRjaEV4aXN0aW5nRG9jcygpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25BbGxEb2NzUHJvY2Vzc2VkKCkge1xuICAgIGFsbERvY3NQcm9jZXNzZWQgPSB0cnVlO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaWRiUHJvY2Vzc0RvY3MoKSB7XG4gICAgcHJvY2Vzc0RvY3MoZGJPcHRzLnJldnNfbGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLFxuICAgICAgICAgICAgICAgIHR4biwgcmVzdWx0cywgd3JpdGVEb2MsIG9wdHMsIG9uQWxsRG9jc1Byb2Nlc3NlZCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVEb2NDb3VudElmUmVhZHkoKSB7XG4gICAgaWYgKCFtZXRhRG9jIHx8ICFhbGxEb2NzUHJvY2Vzc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNhY2hpbmcgdGhlIGRvY0NvdW50IHNhdmVzIGEgbG90IG9mIHRpbWUgaW4gYWxsRG9jcygpIGFuZFxuICAgIC8vIGluZm8oKSwgd2hpY2ggaXMgd2h5IHdlIGdvIHRvIGFsbCB0aGUgdHJvdWJsZSBvZiBkb2luZyB0aGlzXG4gICAgbWV0YURvYy5kb2NDb3VudCArPSBkb2NDb3VudERlbHRhO1xuICAgIG1ldGFTdG9yZS5wdXQobWV0YURvYyk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEV4aXN0aW5nRG9jcygpIHtcblxuICAgIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG51bUZldGNoZWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRmV0Y2hlZCA9PT0gZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICAgIGlkYlByb2Nlc3NEb2NzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZE1ldGFkYXRhKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcblxuICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgIGZldGNoZWREb2NzLnNldChtZXRhZGF0YS5pZCwgbWV0YWRhdGEpO1xuICAgICAgfVxuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZG9jSW5mbyA9IGRvY0luZm9zW2ldO1xuICAgICAgaWYgKGRvY0luZm8uX2lkICYmIGlzTG9jYWxJZChkb2NJbmZvLl9pZCkpIHtcbiAgICAgICAgY2hlY2tEb25lKCk7IC8vIHNraXAgbG9jYWwgZG9jc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5nZXQoZG9jSW5mby5tZXRhZGF0YS5pZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gcmVhZE1ldGFkYXRhO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIGlmIChwcmVjb25kaXRpb25FcnJvcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGFwaS5fbWV0YS5uYW1lKTtcbiAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlcSA9IGF0dGFjaFN0b3JlLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfU1RVQixcbiAgICAgICAgICAndW5rbm93biBzdHViIGF0dGFjaG1lbnQgd2l0aCBkaWdlc3QgJyArXG4gICAgICAgICAgZGlnZXN0KTtcbiAgICAgICAgZXJyLnN0YXR1cyA9IDQxMjtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnRzKGZpbmlzaCkge1xuXG5cbiAgICB2YXIgZGlnZXN0cyA9IFtdO1xuICAgIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICAgIGlmIChkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXTtcbiAgICAgICAgICBpZiAoYXR0LnN0dWIpIHtcbiAgICAgICAgICAgIGRpZ2VzdHMucHVzaChhdHQuZGlnZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICB9XG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1Eb25lID09PSBkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBmdW5jdGlvbiAoYXR0RXJyKSB7XG4gICAgICAgIGlmIChhdHRFcnIgJiYgIWVycikge1xuICAgICAgICAgIGVyciA9IGF0dEVycjtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICBkb2NJbmZvLm1ldGFkYXRhLndpbm5pbmdSZXYgPSB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIGRvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvYy5fcmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG5cbiAgICBpZiAobmV3UmV2SXNEZWxldGVkKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBoYXNBdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgJiZcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICBpZiAoaGFzQXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZG9jQ291bnREZWx0YSArPSBkZWx0YTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcblxuICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIHZhciBtZXRhZGF0YSA9IGRvY0luZm8ubWV0YWRhdGE7XG5cbiAgICBkb2MuX2RvY19pZF9yZXYgPSBtZXRhZGF0YS5pZCArICc6OicgKyBtZXRhZGF0YS5yZXY7XG4gICAgZGVsZXRlIGRvYy5faWQ7XG4gICAgZGVsZXRlIGRvYy5fcmV2O1xuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2MoZSkge1xuICAgICAgdmFyIHJldnNUb0RlbGV0ZSA9IGRvY0luZm8uc3RlbW1lZFJldnMgfHwgW107XG5cbiAgICAgIGlmIChpc1VwZGF0ZSAmJiBhcGkuYXV0b19jb21wYWN0aW9uKSB7XG4gICAgICAgIHJldnNUb0RlbGV0ZSA9IHJldnNUb0RlbGV0ZS5jb25jYXQoY29tcGFjdFRyZWUoZG9jSW5mby5tZXRhZGF0YSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmV2c1RvRGVsZXRlICYmIHJldnNUb0RlbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgY29tcGFjdFJldnMocmV2c1RvRGVsZXRlLCBkb2NJbmZvLm1ldGFkYXRhLmlkLCB0eG4pO1xuICAgICAgfVxuXG4gICAgICBtZXRhZGF0YS5zZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAvLyBDdXJyZW50IF9yZXYgaXMgY2FsY3VsYXRlZCBmcm9tIF9yZXZfdHJlZSBvbiByZWFkXG4gICAgICAvLyBkZWxldGUgbWV0YWRhdGEucmV2O1xuICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLFxuICAgICAgICB3aW5uaW5nUmV2SXNEZWxldGVkKTtcbiAgICAgIHZhciBtZXRhRGF0YVJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgbWV0YURhdGFSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXRNZXRhZGF0YTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvY0Vycm9yKGUpIHtcbiAgICAgIC8vIENvbnN0cmFpbnRFcnJvciwgbmVlZCB0byB1cGRhdGUsIG5vdCBwdXQgKHNlZSAjMTYzOCBmb3IgZGV0YWlscylcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIHZhciBpbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICB2YXIgZ2V0S2V5UmVxID0gaW5kZXguZ2V0S2V5KGRvYy5fZG9jX2lkX3Jldik7XG4gICAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYywgZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dE1ldGFkYXRhKCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgICAgcmV2OiBtZXRhZGF0YS5yZXZcbiAgICAgIH07XG4gICAgICBmZXRjaGVkRG9jcy5zZXQoZG9jSW5mby5tZXRhZGF0YS5pZCwgZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgICBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgbWV0YWRhdGEuc2VxLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYyk7XG5cbiAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgcHV0UmVxLm9uZXJyb3IgPSBhZnRlclB1dERvY0Vycm9yO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdFJlc3VsdHMoKSB7XG4gICAgICBpZiAobnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YWNobWVudFNhdmVkKCkge1xuICAgICAgbnVtRG9uZSsrO1xuICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICB9XG5cbiAgICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICBpZiAoIWF0dC5zdHViKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXR0LmRhdGE7XG4gICAgICAgIGRlbGV0ZSBhdHQuZGF0YTtcbiAgICAgICAgYXR0LnJldnBvcyA9IHBhcnNlSW50KHdpbm5pbmdSZXYkJDEsIDEwKTtcbiAgICAgICAgdmFyIGRpZ2VzdCA9IGF0dC5kaWdlc3Q7XG4gICAgICAgIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgYXR0YWNobWVudFNhdmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bURvbmUrKztcbiAgICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG1hcCBzZXFzIHRvIGF0dGFjaG1lbnQgZGlnZXN0cywgd2hpY2hcbiAgLy8gd2Ugd2lsbCBuZWVkIGxhdGVyIGR1cmluZyBjb21wYWN0aW9uXG4gIGZ1bmN0aW9uIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBzZXEsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgYXR0c0FkZGVkID0gMDtcbiAgICB2YXIgYXR0c1RvQWRkID0gT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyB8fCB7fSk7XG5cbiAgICBpZiAoIWF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK2F0dHNBZGRlZCA9PT0gYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZChhdHQpIHtcbiAgICAgIHZhciBkaWdlc3QgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2F0dF0uZGlnZXN0O1xuICAgICAgdmFyIHJlcSA9IGF0dGFjaEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgIHNlcTogc2VxLFxuICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgIH0pO1xuXG4gICAgICByZXEub25zdWNjZXNzID0gY2hlY2tEb25lO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIGlzIGZvciBhIGNvbnN0YWludCBlcnJvciwgd2hpY2ggd2UgaWdub3JlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBkb2NpZC9yZXYgaGFzIGFscmVhZHkgYmVlbiBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgLy8gdGhlIGRpZ2VzdCAoZS5nLiB3aGVuIG5ld19lZGl0cyA9PSBmYWxzZSlcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRzVG9BZGQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZChhdHRzVG9BZGRbaV0pOyAvLyBkbyBpbiBwYXJhbGxlbFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGdldEtleVJlcSA9IGF0dGFjaFN0b3JlLmNvdW50KGRpZ2VzdCk7XG4gICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGFscmVhZHkgZXhpc3RzXG4gICAgICB9XG4gICAgICB2YXIgbmV3QXR0ID0ge1xuICAgICAgICBkaWdlc3Q6IGRpZ2VzdCxcbiAgICAgICAgYm9keTogZGF0YVxuICAgICAgfTtcbiAgICAgIHZhciBwdXRSZXEgPSBhdHRhY2hTdG9yZS5wdXQobmV3QXR0KTtcbiAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBjYWxsYmFjaztcbiAgICB9O1xuICB9XG59XG5cbi8vIEFic3RyYWN0aW9uIG92ZXIgSURCQ3Vyc29yIGFuZCBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgdGhhdCBhbGxvd3MgdXMgdG8gYmF0Y2ggb3VyIG9wZXJhdGlvbnNcbi8vIHdoaWxlIGZhbGxpbmcgYmFjayB0byBhIG5vcm1hbCBJREJDdXJzb3Igb3BlcmF0aW9uIG9uIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBnZXRBbGwoKSBvclxuLy8gZ2V0QWxsS2V5cygpLiBUaGlzIGFsbG93cyBmb3IgYSBtdWNoIGZhc3RlciBpbXBsZW1lbnRhdGlvbiB0aGFuIGp1c3Qgc3RyYWlnaHQtdXAgY3Vyc29ycywgYmVjYXVzZVxuLy8gd2UncmUgbm90IHByb2Nlc3NpbmcgZWFjaCBkb2N1bWVudCBvbmUtYXQtYS10aW1lLlxuZnVuY3Rpb24gcnVuQmF0Y2hlZEN1cnNvcihvYmplY3RTdG9yZSwga2V5UmFuZ2UsIGRlc2NlbmRpbmcsIGJhdGNoU2l6ZSwgb25CYXRjaCkge1xuXG4gIGlmIChiYXRjaFNpemUgPT09IC0xKSB7XG4gICAgYmF0Y2hTaXplID0gMTAwMDtcbiAgfVxuXG4gIC8vIEJhaWwgb3V0IG9mIGdldEFsbCgpL2dldEFsbEtleXMoKSBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICAvLyAxKSBlaXRoZXIgbWV0aG9kIGlzIHVuc3VwcG9ydGVkIC0gd2UgbmVlZCBib3RoXG4gIC8vIDIpIGJhdGNoU2l6ZSBpcyAxIChtaWdodCBhcyB3ZWxsIHVzZSBJREJDdXJzb3IpXG4gIC8vIDMpIGRlc2NlbmRpbmcg4oCTIG5vIHJlYWwgd2F5IHRvIGRvIHRoaXMgdmlhIGdldEFsbCgpL2dldEFsbEtleXMoKVxuXG4gIHZhciB1c2VHZXRBbGwgPSB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbEtleXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICBiYXRjaFNpemUgPiAxICYmICFkZXNjZW5kaW5nO1xuXG4gIHZhciBrZXlzQmF0Y2g7XG4gIHZhciB2YWx1ZXNCYXRjaDtcbiAgdmFyIHBzZXVkb0N1cnNvcjtcblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFsdWVzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGtleXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsS2V5cyhlKSB7XG4gICAga2V5c0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICh2YWx1ZXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnRpbnVlUHNldWRvQ3Vyc29yKCkge1xuICAgIGlmICgha2V5c0JhdGNoLmxlbmd0aCkgeyAvLyBubyBtb3JlIHJlc3VsdHNcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIGZldGNoIG5leHQgYmF0Y2gsIGV4Y2x1c2l2ZSBzdGFydFxuICAgIHZhciBsYXN0S2V5ID0ga2V5c0JhdGNoW2tleXNCYXRjaC5sZW5ndGggLSAxXTtcbiAgICB2YXIgbmV3S2V5UmFuZ2U7XG4gICAgaWYgKGtleVJhbmdlICYmIGtleVJhbmdlLnVwcGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKGxhc3RLZXksIGtleVJhbmdlLnVwcGVyLFxuICAgICAgICAgIHRydWUsIGtleVJhbmdlLnVwcGVyT3Blbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYgZS5jb2RlID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQmF0Y2goKTsgLy8gd2UncmUgZG9uZSwgc3RhcnRrZXkgYW5kIGVuZGtleSBhcmUgZXF1YWxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmxvd2VyQm91bmQobGFzdEtleSwgdHJ1ZSk7XG4gICAgfVxuICAgIGtleVJhbmdlID0gbmV3S2V5UmFuZ2U7XG4gICAga2V5c0JhdGNoID0gbnVsbDtcbiAgICB2YWx1ZXNCYXRjaCA9IG51bGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKCFjdXJzb3IpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gcmVndWxhciBJREJDdXJzb3IgYWN0cyBsaWtlIGEgYmF0Y2ggd2hlcmUgYmF0Y2ggc2l6ZSBpcyBhbHdheXMgMVxuICAgIG9uQmF0Y2goW2N1cnNvci5rZXldLCBbY3Vyc29yLnZhbHVlXSwgY3Vyc29yKTtcbiAgfVxuXG4gIGlmICh1c2VHZXRBbGwpIHtcbiAgICBwc2V1ZG9DdXJzb3IgPSB7XCJjb250aW51ZVwiOiBjb250aW51ZVBzZXVkb0N1cnNvcn07XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9IGVsc2UgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG59XG5cbi8vIHNpbXBsZSBzaGltIGZvciBvYmplY3RTdG9yZS5nZXRBbGwoKSwgZmFsbGluZyBiYWNrIHRvIElEQkN1cnNvclxuZnVuY3Rpb24gZ2V0QWxsKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgb25TdWNjZXNzKSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gdXNlIG5hdGl2ZSBnZXRBbGxcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uU3VjY2VzcztcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZmFsbCBiYWNrIHRvIGN1cnNvcnNcbiAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIHZhbHVlcy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzKGtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKSB7XG4gIC8vIEl0J3Mgbm90IGd1YXJhbnRlZCB0byBiZSByZXR1cm5lZCBpbiByaWdodCBvcmRlciAgXG4gIHZhciB2YWx1ZXNCYXRjaCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gIHZhciBjb3VudCA9IDA7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgIGRvY1N0b3JlLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IHtrZXk6IGtleSwgZXJyb3I6ICdub3RfZm91bmQnfTtcbiAgICAgIH1cbiAgICAgIGNvdW50Kys7XG4gICAgICBpZiAoY291bnQgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIG9uQmF0Y2goa2V5cywgdmFsdWVzQmF0Y2gsIHt9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIGRlc2NlbmRpbmcpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhcnQgJiYgZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoZW5kLCBzdGFydCwgIWluY2x1c2l2ZUVuZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChzdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChzdGFydCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICByZXR1cm4gSURCS2V5UmFuZ2Uub25seShrZXkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIHN0YXJ0ID0gJ3N0YXJ0a2V5JyBpbiBvcHRzID8gb3B0cy5zdGFydGtleSA6IGZhbHNlO1xuICB2YXIgZW5kID0gJ2VuZGtleScgaW4gb3B0cyA/IG9wdHMuZW5ka2V5IDogZmFsc2U7XG4gIHZhciBrZXkgPSAna2V5JyBpbiBvcHRzID8gb3B0cy5rZXkgOiBmYWxzZTtcbiAgdmFyIGtleXMgPSAna2V5cycgaW4gb3B0cyA/IG9wdHMua2V5cyA6IGZhbHNlOyBcbiAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgdmFyIGxpbWl0ID0gdHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInID8gb3B0cy5saW1pdCA6IC0xO1xuICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcblxuICB2YXIga2V5UmFuZ2UgOyBcbiAgdmFyIGtleVJhbmdlRXJyb3I7XG4gIGlmICgha2V5cykge1xuICAgIGtleVJhbmdlID0gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIG9wdHMuZGVzY2VuZGluZyk7XG4gICAga2V5UmFuZ2VFcnJvciA9IGtleVJhbmdlICYmIGtleVJhbmdlLmVycm9yO1xuICAgIGlmIChrZXlSYW5nZUVycm9yICYmIFxuICAgICAgIShrZXlSYW5nZUVycm9yLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYga2V5UmFuZ2VFcnJvci5jb2RlID09PSAwKSkge1xuICAgICAgLy8gRGF0YUVycm9yIHdpdGggZXJyb3IgY29kZSAwIGluZGljYXRlcyBzdGFydCBpcyBsZXNzIHRoYW4gZW5kLCBzb1xuICAgICAgLy8gY2FuIGp1c3QgZG8gYW4gZW1wdHkgcXVlcnkuIEVsc2UgbmVlZCB0byB0aHJvd1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUixcbiAgICAgICAga2V5UmFuZ2VFcnJvci5uYW1lLCBrZXlSYW5nZUVycm9yLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBNRVRBX1NUT1JFXTtcblxuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIHN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuICB2YXIgZG9jSWRSZXZJbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgZG9jQ291bnQ7XG4gIHZhciB1cGRhdGVTZXE7XG5cbiAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICB9O1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgZ2V0TWF4VXBkYXRlU2VxKHNlcVN0b3JlLCBmdW5jdGlvbiAoZSkgeyBcbiAgICAgIGlmIChlLnRhcmdldC5yZXN1bHQgJiYgZS50YXJnZXQucmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlU2VxID0gZS50YXJnZXQucmVzdWx0WzBdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWF4VXBkYXRlU2VxKG9iamVjdFN0b3JlLCBvblN1Y2Nlc3MpIHtcbiAgICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdmFyIG1heEtleSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjdXJzb3IgJiYgY3Vyc29yLmtleSkge1xuICAgICAgICBtYXhLZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgfSBcbiAgICAgIHJldHVybiBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IFttYXhLZXldXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cblxuICAvLyBpZiB0aGUgdXNlciBzcGVjaWZpZXMgaW5jbHVkZV9kb2NzPXRydWUsIHRoZW4gd2UgZG9uJ3RcbiAgLy8gd2FudCB0byBibG9jayB0aGUgbWFpbiBjdXJzb3Igd2hpbGUgd2UncmUgZmV0Y2hpbmcgdGhlIGRvY1xuICBmdW5jdGlvbiBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpIHtcbiAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyBcIjo6XCIgKyB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0lkUmV2SW5kZXguZ2V0KGtleSkub25zdWNjZXNzID0gIGZ1bmN0aW9uIG9uR2V0RG9jKGUpIHtcbiAgICAgIHJvdy5kb2MgPSBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSB8fCB7fTtcbiAgICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgICAgcm93LmRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkocm93LmRvYywgb3B0cywgdHhuKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKSB7XG4gICAgdmFyIHJvdyA9IHtcbiAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgIGtleTogbWV0YWRhdGEuaWQsXG4gICAgICB2YWx1ZToge1xuICAgICAgICByZXY6IHdpbm5pbmdSZXYkJDFcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgaWYgKGtleXMpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICAgIC8vIGRlbGV0ZWQgZG9jcyBhcmUgb2theSB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJvdy52YWx1ZS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgcm93LmRvYyA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChza2lwLS0gPD0gMCkge1xuICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYmF0Y2hWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gbGltaXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgYmF0Y2hWYWx1ZSA9IGJhdGNoVmFsdWVzW2ldO1xuICAgICAgaWYgKGJhdGNoVmFsdWUuZXJyb3IgJiYga2V5cykge1xuICAgICAgICAvLyBrZXkgd2FzIG5vdCBmb3VuZCB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJlc3VsdHMucHVzaChiYXRjaFZhbHVlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShiYXRjaFZhbHVlKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFyIHZhbHVlcyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICB2YWx1ZXMgPSB2YWx1ZXMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2godmFsdWVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVzdWx0c1JlYWR5KCkge1xuICAgIHZhciByZXR1cm5WYWwgPSB7XG4gICAgICB0b3RhbF9yb3dzOiBkb2NDb3VudCxcbiAgICAgIG9mZnNldDogb3B0cy5za2lwLFxuICAgICAgcm93czogcmVzdWx0c1xuICAgIH07XG4gICAgXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSAmJiB1cGRhdGVTZXEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuVmFsLnVwZGF0ZV9zZXEgPSB1cGRhdGVTZXE7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHJldHVyblZhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIG9wdHMuYmluYXJ5KS50aGVuKG9uUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25SZXN1bHRzUmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICAvLyBkb24ndCBib3RoZXIgZG9pbmcgYW55IHJlcXVlc3RzIGlmIHN0YXJ0ID4gZW5kIG9yIGxpbWl0ID09PSAwXG4gIGlmIChrZXlSYW5nZUVycm9yIHx8IGxpbWl0ID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChrZXlzKSB7XG4gICAgcmV0dXJuIGFsbERvY3NLZXlzKG9wdHMua2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpO1xuICB9XG4gIGlmIChsaW1pdCA9PT0gLTEpIHsgLy8ganVzdCBmZXRjaCBldmVyeXRoaW5nXG4gICAgcmV0dXJuIGdldEFsbChkb2NTdG9yZSwga2V5UmFuZ2UsIG9uR2V0QWxsKTtcbiAgfVxuICAvLyBlbHNlIGRvIGEgY3Vyc29yXG4gIC8vIGNob29zZSBhIGJhdGNoIHNpemUgYmFzZWQgb24gdGhlIHNraXAsIHNpbmNlIHdlJ2xsIG5lZWQgdG8gc2tpcCB0aGF0IG1hbnlcbiAgcnVuQmF0Y2hlZEN1cnNvcihkb2NTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQgKyBza2lwLCBvbkJhdGNoKTtcbn1cblxuLy9cbi8vIEJsb2JzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGFsbCB2ZXJzaW9ucyBvZiBJbmRleGVkREIsIG5vdGFibHlcbi8vIENocm9tZSA8MzcgYW5kIEFuZHJvaWQgPDUuIEluIHRob3NlIHZlcnNpb25zLCBzdG9yaW5nIGEgYmxvYiB3aWxsIHRocm93LlxuLy9cbi8vIFZhcmlvdXMgb3RoZXIgYmxvYiBidWdzIGV4aXN0IGluIENocm9tZSB2MzctNDIgKGluY2x1c2l2ZSkuXG4vLyBEZXRlY3RpbmcgdGhlbSBpcyBleHBlbnNpdmUgYW5kIGNvbmZ1c2luZyB0byB1c2VycywgYW5kIENocm9tZSAzNy00MlxuLy8gaXMgYXQgdmVyeSBsb3cgdXNhZ2Ugd29ybGR3aWRlLCBzbyB3ZSBkbyBhIGhhY2t5IHVzZXJBZ2VudCBjaGVjayBpbnN0ZWFkLlxuLy9cbi8vIGNvbnRlbnQtdHlwZSBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00MDgxMjBcbi8vIDQwNCBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc5MTZcbi8vIEZpbGVSZWFkZXIgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3ODM2XG4vL1xuZnVuY3Rpb24gY2hlY2tCbG9iU3VwcG9ydCh0eG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgdmFyIGJsb2IkJDEgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IkJDEsICdrZXknKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWF0Y2hlZENocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgICAgdmFyIG1hdGNoZWRFZGdlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLy8pO1xuICAgICAgLy8gTVMgRWRnZSBwcmV0ZW5kcyB0byBiZSBDaHJvbWUgNDI6XG4gICAgICAvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2hoODY5MzAxJTI4dj12cy44NSUyOS5hc3B4XG4gICAgICByZXNvbHZlKG1hdGNoZWRFZGdlIHx8ICFtYXRjaGVkQ2hyb21lIHx8XG4gICAgICAgIHBhcnNlSW50KG1hdGNoZWRDaHJvbWVbMV0sIDEwKSA+PSA0Myk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gdHhuLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gSWYgdGhlIHRyYW5zYWN0aW9uIGFib3J0cyBub3cgaXRzIGR1ZSB0byBub3QgYmVpbmcgYWJsZSB0b1xuICAgICAgLy8gd3JpdGUgdG8gdGhlIGRhdGFiYXNlLCBsaWtlbHkgZHVlIHRvIHRoZSBkaXNrIGJlaW5nIGZ1bGxcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICB9O1xuICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciwgc28gYXNzdW1lIHVuc3VwcG9ydGVkXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb3VudERvY3ModHhuLCBjYikge1xuICB2YXIgaW5kZXggPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5pbmRleCgnZGVsZXRlZE9yTG9jYWwnKTtcbiAgaW5kZXguY291bnQoSURCS2V5UmFuZ2Uub25seSgnMCcpKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNiKGUudGFyZ2V0LnJlc3VsdCk7XG4gIH07XG59XG5cbi8vIFRoaXMgdGFzayBxdWV1ZSBlbnN1cmVzIHRoYXQgSURCIG9wZW4gY2FsbHMgYXJlIGRvbmUgaW4gdGhlaXIgb3duIHRpY2tcblxudmFyIHJ1bm5pbmcgPSBmYWxzZTtcbnZhciBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiB0cnlDb2RlKGZ1biwgZXJyLCByZXMsIFBvdWNoREIpIHtcbiAgdHJ5IHtcbiAgICBmdW4oZXJyLCByZXMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTaG91bGRuJ3QgaGFwcGVuLCBidXQgaW4gc29tZSBvZGQgY2FzZXNcbiAgICAvLyBJbmRleGVkREIgaW1wbGVtZW50YXRpb25zIG1pZ2h0IHRocm93IGEgc3luY1xuICAgIC8vIGVycm9yLCBpbiB3aGljaCBjYXNlIHRoaXMgd2lsbCBhdCBsZWFzdCBsb2cgaXQuXG4gICAgUG91Y2hEQi5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlOZXh0KCkge1xuICBpZiAocnVubmluZyB8fCAhcXVldWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJ1bm5pbmcgPSB0cnVlO1xuICBxdWV1ZS5zaGlmdCgpKCk7XG59XG5cbmZ1bmN0aW9uIGVucXVldWVUYXNrKGFjdGlvbiwgY2FsbGJhY2ssIFBvdWNoREIpIHtcbiAgcXVldWUucHVzaChmdW5jdGlvbiBydW5BY3Rpb24oKSB7XG4gICAgYWN0aW9uKGZ1bmN0aW9uIHJ1bkNhbGxiYWNrKGVyciwgcmVzKSB7XG4gICAgICB0cnlDb2RlKGNhbGxiYWNrLCBlcnIsIHJlcywgUG91Y2hEQik7XG4gICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgICAgYXBwbHlOZXh0KFBvdWNoREIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBhcHBseU5leHQoKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKSB7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgdmFyIGlkID0gZGJOYW1lICsgJzonICsgdXVpZCgpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmFkZExpc3RlbmVyKGRiTmFtZSwgaWQsIGFwaSwgb3B0cyk7XG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGRiTmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVMaXN0ZW5lcihkYk5hbWUsIGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyAmJiBuZXcgRXhwb3J0ZWRTZXQob3B0cy5kb2NfaWRzKTtcblxuICBvcHRzLnNpbmNlID0gb3B0cy5zaW5jZSB8fCAwO1xuICB2YXIgbGFzdFNlcSA9IG9wdHMuc2luY2U7XG5cbiAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBvcHRzID8gb3B0cy5saW1pdCA6IC0xO1xuICBpZiAobGltaXQgPT09IDApIHtcbiAgICBsaW1pdCA9IDE7IC8vIHBlciBDb3VjaERCIF9jaGFuZ2VzIHNwZWNcbiAgfVxuXG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBudW1SZXN1bHRzID0gMDtcbiAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKTtcbiAgdmFyIGRvY0lkc1RvTWV0YWRhdGEgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgdHhuO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgZG9jSWRSZXZJbmRleDtcblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yIHx8ICFiYXRjaEtleXMubGVuZ3RoKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2lubmluZ0RvY3MgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG4gICAgdmFyIG1ldGFkYXRhcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBvcHRzLnByb2Nlc3NDaGFuZ2Uod2lubmluZ0RvYywgbWV0YWRhdGEsIG9wdHMpO1xuICAgICAgbGFzdFNlcSA9IGNoYW5nZS5zZXEgPSBtZXRhZGF0YS5zZXE7XG5cbiAgICAgIHZhciBmaWx0ZXJlZCA9IGZpbHRlcihjaGFuZ2UpO1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJlZCA9PT0gJ29iamVjdCcpIHsgLy8gYW55dGhpbmcgYnV0IHRydWUvZmFsc2UgaW5kaWNhdGVzIGVycm9yXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChmaWx0ZXJlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZmlsdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgbnVtUmVzdWx0cysrO1xuICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGNoYW5nZSk7XG4gICAgICB9XG4gICAgICAvLyBwcm9jZXNzIHRoZSBhdHRhY2htZW50IGltbWVkaWF0ZWx5XG4gICAgICAvLyBmb3IgdGhlIGJlbmVmaXQgb2YgbGl2ZSBsaXN0ZW5lcnNcbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSh3aW5uaW5nRG9jLCBvcHRzLCB0eG4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMoW2NoYW5nZV0sIG9wdHMuYmluYXJ5KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQmF0Y2hEb25lKCkge1xuICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gd2lubmluZ0RvY3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKG51bVJlc3VsdHMgPT09IGxpbWl0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbm5pbmdEb2MgPSB3aW5uaW5nRG9jc1tpXTtcbiAgICAgICAgaWYgKCF3aW5uaW5nRG9jKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gbWV0YWRhdGFzW2ldO1xuICAgICAgICBwcm9taXNlcy5wdXNoKHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpKTtcbiAgICAgIH1cblxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoY2hhbmdlc1tpXSkge1xuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjaGFuZ2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKG9wdHMuY29tcGxldGUpO1xuXG4gICAgICBpZiAobnVtUmVzdWx0cyAhPT0gbGltaXQpIHtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxsIG1ldGFkYXRhcy93aW5uaW5nZG9jcyBmcm9tIHRoaXMgYmF0Y2ggaW4gcGFyYWxsZWwsIHRoZW4gcHJvY2Vzc1xuICAgIC8vIHRoZW0gYWxsIG9ubHkgb25jZSBhbGwgZGF0YSBoYXMgYmVlbiBjb2xsZWN0ZWQuIFRoaXMgaXMgZG9uZSBpbiBwYXJhbGxlbFxuICAgIC8vIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkb2luZyBpdCBvbmUtYXQtYS10aW1lLlxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICBiYXRjaFZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZURvYyh2YWx1ZSk7XG4gICAgICB2YXIgc2VxID0gYmF0Y2hLZXlzW2ldO1xuICAgICAgZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGZ1bmN0aW9uIChtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgICBtZXRhZGF0YXNbaV0gPSBtZXRhZGF0YTtcbiAgICAgICAgd2lubmluZ0RvY3NbaV0gPSB3aW5uaW5nRG9jO1xuICAgICAgICBpZiAoKytudW1Eb25lID09PSBiYXRjaEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgb25CYXRjaERvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpIHtcbiAgICBpZiAobWV0YWRhdGEuc2VxICE9PSBzZXEpIHtcbiAgICAgIC8vIHNvbWUgb3RoZXIgc2VxIGlzIGxhdGVyXG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICBpZiAobWV0YWRhdGEud2lubmluZ1JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgIC8vIHRoaXMgaXMgdGhlIHdpbm5pbmcgZG9jXG4gICAgICByZXR1cm4gY2IobWV0YWRhdGEsIGRvYyk7XG4gICAgfVxuXG4gICAgLy8gZmV0Y2ggd2lubmluZyBkb2MgaW4gc2VwYXJhdGUgcmVxdWVzdFxuICAgIHZhciBkb2NJZFJldiA9IGRvYy5faWQgKyAnOjonICsgbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICB2YXIgcmVxID0gZG9jSWRSZXZJbmRleC5nZXQoZG9jSWRSZXYpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgY2IobWV0YWRhdGEsIGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGNiKSB7XG4gICAgaWYgKGRvY0lkcyAmJiAhZG9jSWRzLmhhcyhkb2MuX2lkKSkge1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSWRzVG9NZXRhZGF0YS5nZXQoZG9jLl9pZCk7XG4gICAgaWYgKG1ldGFkYXRhKSB7IC8vIGNhY2hlZFxuICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfVxuICAgIC8vIG1ldGFkYXRhIG5vdCBjYWNoZWQsIGhhdmUgdG8gZ28gZmV0Y2ggaXRcbiAgICBkb2NTdG9yZS5nZXQoZG9jLl9pZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIGRvY0lkc1RvTWV0YWRhdGEuc2V0KGRvYy5faWQsIG1ldGFkYXRhKTtcbiAgICAgIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtcbiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICBsYXN0X3NlcTogbGFzdFNlcVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAoIW9wdHMuY29udGludW91cyAmJiBvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgcG9zdFByb2Nlc3Npbmcgd2FzIGFscmVhZHkgZG9uZSxcbiAgICAgIC8vIHNvIGRvIGl0IGFnYWluXG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMpLnRoZW4oZmluaXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9iamVjdFN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRV07XG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgb2JqZWN0U3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgb2JqZWN0U3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihvcHRzLmNvbXBsZXRlKTtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuXG4gIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgZG9jSWRSZXZJbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG5cbiAgdmFyIGtleVJhbmdlID0gKG9wdHMuc2luY2UgJiYgIW9wdHMuZGVzY2VuZGluZykgP1xuICAgIElEQktleVJhbmdlLmxvd2VyQm91bmQob3B0cy5zaW5jZSwgdHJ1ZSkgOiBudWxsO1xuXG4gIHJ1bkJhdGNoZWRDdXJzb3IoYnlTZXFTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQsIG9uQmF0Y2gpO1xufVxuXG52YXIgY2FjaGVkREJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG52YXIgYmxvYlN1cHBvcnRQcm9taXNlO1xudmFyIG9wZW5SZXFMaXN0ID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbmZ1bmN0aW9uIElkYlBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIGVucXVldWVUYXNrKGZ1bmN0aW9uICh0aGlzQ2FsbGJhY2spIHtcbiAgICBpbml0KGFwaSwgb3B0cywgdGhpc0NhbGxiYWNrKTtcbiAgfSwgY2FsbGJhY2ssIGFwaS5jb25zdHJ1Y3Rvcik7XG59XG5cbmZ1bmN0aW9uIGluaXQoYXBpLCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIHZhciBkYk5hbWUgPSBvcHRzLm5hbWU7XG5cbiAgdmFyIGlkYiA9IG51bGw7XG4gIHZhciBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBudWxsO1xuICBhcGkuX21ldGEgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCByZXN1bHQpIHtcbiAgICAgIGlmIChlcnJvciAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICFlcnJvci5yZWFzb24pIHtcbiAgICAgICAgaWYgKGlkYkdsb2JhbEZhaWx1cmVFcnJvcikge1xuICAgICAgICAgIGVycm9yLnJlYXNvbiA9IGlkYkdsb2JhbEZhaWx1cmVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhlcnJvciwgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gY2FsbGVkIHdoZW4gY3JlYXRpbmcgYSBmcmVzaCBuZXcgZGF0YWJhc2VcbiAgZnVuY3Rpb24gY3JlYXRlU2NoZW1hKGRiKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoRE9DX1NUT1JFLCB7a2V5UGF0aCA6ICdpZCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShCWV9TRVFfU1RPUkUsIHthdXRvSW5jcmVtZW50OiB0cnVlfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFLCB7a2V5UGF0aDogJ2RpZ2VzdCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShNRVRBX1NUT1JFLCB7a2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogZmFsc2V9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKTtcblxuICAgIC8vIGFkZGVkIGluIHYyXG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2M1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KTtcblxuICAgIC8vIGFkZGVkIGluIHY0XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAyXG4gIC8vIHVuZm9ydHVuYXRlbHkgXCJkZWxldGVkT3JMb2NhbFwiIGlzIGEgbWlzbm9tZXIgbm93IHRoYXQgd2Ugbm8gbG9uZ2VyXG4gIC8vIHN0b3JlIGxvY2FsIGRvY3MgaW4gdGhlIG1haW4gZG9jLXN0b3JlLCBidXQgd2hhZGR5YWdvbm5hZG9cbiAgZnVuY3Rpb24gYWRkRGVsZXRlZE9yTG9jYWxJbmRleCh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICBkb2NTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIG1ldGFkYXRhLmRlbGV0ZWRPckxvY2FsID0gZGVsZXRlZCA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgIGRvY1N0b3JlLnB1dChtZXRhZGF0YSk7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAxKVxuICBmdW5jdGlvbiBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKSB7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlTG9jYWxTdG9yZSh0eG4sIGNiKSB7XG4gICAgdmFyIGxvY2FsU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuXG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZG9jSWQgPSBtZXRhZGF0YS5pZDtcbiAgICAgICAgdmFyIGxvY2FsID0gaXNMb2NhbElkKGRvY0lkKTtcbiAgICAgICAgdmFyIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICAgICAgICBpZiAobG9jYWwpIHtcbiAgICAgICAgICB2YXIgZG9jSWRSZXYgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICAgICAgICAvLyByZW1vdmUgYWxsIHNlcSBlbnRyaWVzXG4gICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoaXMgZG9jSWRcbiAgICAgICAgICB2YXIgc3RhcnQgPSBkb2NJZCArIFwiOjpcIjtcbiAgICAgICAgICB2YXIgZW5kID0gZG9jSWQgKyBcIjo6flwiO1xuICAgICAgICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgICAgIHZhciByYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgdmFyIHNlcUN1cnNvciA9IGluZGV4Lm9wZW5DdXJzb3IocmFuZ2UpO1xuICAgICAgICAgIHNlcUN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2VxQ3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgaWYgKCFzZXFDdXJzb3IpIHtcbiAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICBkb2NTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gc2VxQ3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZGF0YS5fZG9jX2lkX3JldiA9PT0gZG9jSWRSZXYpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JlLnB1dChkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXFTdG9yZS5kZWxldGUoc2VxQ3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBzZXFDdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMSlcbiAgZnVuY3Rpb24gYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpIHtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUF0dHNBbmRTZXFzKHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuXG4gICAgLy8gbmVlZCB0byBhY3R1YWxseSBwb3B1bGF0ZSB0aGUgdGFibGUuIHRoaXMgaXMgdGhlIGV4cGVuc2l2ZSBwYXJ0LFxuICAgIC8vIHNvIGFzIGFuIG9wdGltaXphdGlvbiwgY2hlY2sgZmlyc3QgdGhhdCB0aGlzIGRhdGFiYXNlIGV2ZW5cbiAgICAvLyBjb250YWlucyBhdHRhY2htZW50c1xuICAgIHZhciByZXEgPSBhdHRTdG9yZS5jb3VudCgpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgfVxuXG4gICAgICBzZXFTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkb2MgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgICAgICAgdmFyIGRpZ2VzdE1hcCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1thdHRzW2pdXTtcbiAgICAgICAgICBkaWdlc3RNYXBbYXR0LmRpZ2VzdF0gPSB0cnVlOyAvLyB1bmlxIGRpZ2VzdHMsIGp1c3QgaW4gY2FzZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaWdlc3RzID0gT2JqZWN0LmtleXMoZGlnZXN0TWFwKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpZ2VzdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gZGlnZXN0c1tqXTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDVcbiAgLy8gSW5zdGVhZCBvZiByZWx5aW5nIG9uIG9uLXRoZS1mbHkgbWlncmF0aW9uIG9mIG1ldGFkYXRhLFxuICAvLyB0aGlzIGJyaW5ncyB0aGUgZG9jLXN0b3JlIHRvIGl0cyBtb2Rlcm4gZm9ybTpcbiAgLy8gLSBtZXRhZGF0YS53aW5uaW5ncmV2XG4gIC8vIC0gbWV0YWRhdGEuc2VxXG4gIC8vIC0gc3RyaW5naWZ5IHRoZSBtZXRhZGF0YSB3aGVuIHN0b3JpbmcgaXRcbiAgZnVuY3Rpb24gbWlncmF0ZU1ldGFkYXRhKHR4bikge1xuXG4gICAgZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGFDb21wYXQoc3RvcmVkT2JqZWN0KSB7XG4gICAgICBpZiAoIXN0b3JlZE9iamVjdC5kYXRhKSB7XG4gICAgICAgIC8vIG9sZCBmb3JtYXQsIHdoZW4gd2UgZGlkbid0IHN0b3JlIGl0IHN0cmluZ2lmaWVkXG4gICAgICAgIHN0b3JlZE9iamVjdC5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gICAgICAgIHJldHVybiBzdG9yZWRPYmplY3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgdGhhdCBldmVyeSBtZXRhZGF0YSBoYXMgYSB3aW5uaW5nUmV2IGFuZCBzZXEsXG4gICAgLy8gd2hpY2ggd2FzIHByZXZpb3VzbHkgY3JlYXRlZCBvbi10aGUtZmx5IGJ1dCBiZXR0ZXIgdG8gbWlncmF0ZVxuICAgIHZhciBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICByZXR1cm47IC8vIGRvbmVcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhQ29tcGF0KGN1cnNvci52YWx1ZSk7XG5cbiAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2IHx8XG4gICAgICAgIHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhU2VxKCkge1xuICAgICAgICAvLyBtZXRhZGF0YS5zZXEgd2FzIGFkZGVkIHBvc3QtMy4yLjAsIHNvIGlmIGl0J3MgbWlzc2luZyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBmZXRjaCBpdCBtYW51YWxseVxuICAgICAgICB2YXIgc3RhcnQgPSBtZXRhZGF0YS5pZCArICc6Oic7XG4gICAgICAgIHZhciBlbmQgPSBtZXRhZGF0YS5pZCArICc6OlxcdWZmZmYnO1xuICAgICAgICB2YXIgcmVxID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5vcGVuQ3Vyc29yKFxuICAgICAgICAgIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQpKTtcblxuICAgICAgICB2YXIgbWV0YWRhdGFTZXEgPSAwO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5zZXEgPSBtZXRhZGF0YVNlcTtcbiAgICAgICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICBpZiAoc2VxID4gbWV0YWRhdGFTZXEpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhU2VxID0gc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLFxuICAgICAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYsIG1ldGFkYXRhLmRlbGV0ZWQpO1xuXG4gICAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGFkYXRhLnNlcSkge1xuICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE1ldGFkYXRhU2VxKCk7XG4gICAgfTtcblxuICB9XG5cbiAgYXBpLl9yZW1vdGUgPSBmYWxzZTtcbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdpZGInO1xuICB9O1xuXG4gIGFwaS5faWQgPSB0b1Byb21pc2UoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpLl9tZXRhLmluc3RhbmNlSWQpO1xuICB9KTtcblxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gaWRiX2J1bGtEb2NzKHJlcSwgcmVxT3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJCdWxrRG9jcyhvcHRzLCByZXEsIHJlcU9wdHMsIGFwaSwgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgLy8gRmlyc3Qgd2UgbG9vayB1cCB0aGUgbWV0YWRhdGEgaW4gdGhlIGlkcyBkYXRhYmFzZSwgdGhlbiB3ZSBmZXRjaCB0aGVcbiAgLy8gY3VycmVudCByZXZpc2lvbihzKSBmcm9tIHRoZSBieSBzZXF1ZW5jZSBzdG9yZVxuICBhcGkuX2dldCA9IGZ1bmN0aW9uIGlkYl9nZXQoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvYztcbiAgICB2YXIgbWV0YWRhdGE7XG4gICAgdmFyIGVycjtcbiAgICB2YXIgdHhuID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eG4pIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgICAgY2FsbGJhY2soZXJyLCB7ZG9jOiBkb2MsIG1ldGFkYXRhOiBtZXRhZGF0YSwgY3R4OiB0eG59KTtcbiAgICB9XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoaWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAvLyB3ZSBjYW4gZGV0ZXJtaW5lIHRoZSByZXN1bHQgaGVyZSBpZjpcbiAgICAgIC8vIDEuIHRoZXJlIGlzIG5vIHN1Y2ggZG9jdW1lbnRcbiAgICAgIC8vIDIuIHRoZSBkb2N1bWVudCBpcyBkZWxldGVkIGFuZCB3ZSBkb24ndCBhc2sgYWJvdXQgc3BlY2lmaWMgcmV2XG4gICAgICAvLyBXaGVuIHdlIGFzayB3aXRoIG9wdHMucmV2IHdlIGV4cGVjdCB0aGUgYW5zd2VyIHRvIGJlIGVpdGhlclxuICAgICAgLy8gZG9jIChwb3NzaWJseSB3aXRoIF9kZWxldGVkPXRydWUpIG9yIG1pc3NpbmcgZXJyb3JcbiAgICAgIGlmICghbWV0YWRhdGEpIHtcbiAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldjtcbiAgICAgIGlmICghb3B0cy5yZXYpIHtcbiAgICAgICAgcmV2ID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCBcImRlbGV0ZWRcIik7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXYgPSBvcHRzLmxhdGVzdCA/IGxhdGVzdChvcHRzLnJldiwgbWV0YWRhdGEpIDogb3B0cy5yZXY7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3RTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgJzo6JyArIHJldjtcblxuICAgICAgb2JqZWN0U3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2JykuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgZG9jID0gZGVjb2RlRG9jKGRvYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2hJZCwgYXR0YWNobWVudCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuO1xuICAgIGlmIChvcHRzLmN0eCkge1xuICAgICAgdHhuID0gb3B0cy5jdHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuICAgIHZhciBkaWdlc3QgPSBhdHRhY2htZW50LmRpZ2VzdDtcbiAgICB2YXIgdHlwZSA9IGF0dGFjaG1lbnQuY29udGVudF90eXBlO1xuXG4gICAgdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgb3B0cy5iaW5hcnksIGZ1bmN0aW9uIChibG9iRGF0YSkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBibG9iRGF0YSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIGlkYl9pbmZvKGNhbGxiYWNrKSB7XG4gICAgdmFyIHVwZGF0ZVNlcTtcbiAgICB2YXIgZG9jQ291bnQ7XG5cbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW01FVEFfU1RPUkUsIEJZX1NFUV9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgICB9O1xuICAgIHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZVNlcSA9IGN1cnNvciA/IGN1cnNvci5rZXkgOiAwO1xuICAgIH07XG5cbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgZG9jX2NvdW50OiBkb2NDb3VudCxcbiAgICAgICAgdXBkYXRlX3NlcTogdXBkYXRlU2VxLFxuICAgICAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgICAgIGlkYl9hdHRhY2htZW50X2Zvcm1hdDogKGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdiaW5hcnknIDogJ2Jhc2U2NCcpXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fYWxsRG9jcyA9IGZ1bmN0aW9uIGlkYl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiBpZGJDaGFuZ2VzKG9wdHMpIHtcbiAgICByZXR1cm4gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKTtcbiAgfTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9JbmRleGVkREIvSURCRGF0YWJhc2UjY2xvc2VcbiAgICAvLyBcIlJldHVybnMgaW1tZWRpYXRlbHkgYW5kIGNsb3NlcyB0aGUgY29ubmVjdGlvbiBpbiBhIHNlcGFyYXRlIHRocmVhZC4uLlwiXG4gICAgaWRiLmNsb3NlKCk7XG4gICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9nZXRSZXZpc2lvblRyZWUgPSBmdW5jdGlvbiAoZG9jSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtET0NfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChkb2NJZCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYy5yZXZfdHJlZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgcmV2aXNpb25zIG9mIGRvY3VtZW50IGRvY0lkXG4gIC8vIHdoaWNoIGFyZSBsaXN0ZWQgaW4gcmV2cyBhbmQgc2V0cyB0aGlzIGRvY3VtZW50XG4gIC8vIHJldmlzaW9uIHRvIHRvIHJldl90cmVlXG4gIGFwaS5fZG9Db21wYWN0aW9uID0gZnVuY3Rpb24gKGRvY0lkLCByZXZzLCBjYWxsYmFjaykge1xuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsXG4gICAgICBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBBVFRBQ0hfQU5EX1NFUV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcblxuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuXG4gICAgZG9jU3RvcmUuZ2V0KGRvY0lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIGlmIChyZXZzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLnB1dChcbiAgICAgICAgZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQpKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuICB9O1xuXG5cbiAgYXBpLl9nZXRMb2NhbCA9IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBkb2NbJ19kb2NfaWRfcmV2J107IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX3B1dExvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgZGVsZXRlIGRvYy5fcmV2aXNpb25zOyAvLyBpZ25vcmUgdGhpcywgdHJ1c3QgdGhlIHJldlxuICAgIHZhciBvbGRSZXYgPSBkb2MuX3JldjtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIGlmICghb2xkUmV2KSB7XG4gICAgICBkb2MuX3JldiA9ICcwLTEnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3JldiA9ICcwLScgKyAocGFyc2VJbnQob2xkUmV2LnNwbGl0KCctJylbMV0sIDEwKSArIDEpO1xuICAgIH1cblxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxO1xuICAgIGlmIChvbGRSZXYpIHtcbiAgICAgIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBvbGRSZXYpIHtcbiAgICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gdXBkYXRlXG4gICAgICAgICAgdmFyIHJlcSA9IG9TdG9yZS5wdXQoZG9jKTtcbiAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgeyAvLyBuZXcgZG9jXG4gICAgICByZXEgPSBvU3RvcmUuYWRkKGRvYyk7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIGNvbnN0cmFpbnQgZXJyb3IsIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIH07XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIGFwaS5fcmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxID0gb1N0b3JlLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gZG9jLl9yZXYpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9TdG9yZS5kZWxldGUoaWQpO1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBpZCwgcmV2OiAnMC0wJ307XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZGJOYW1lKTtcblxuICAgIC8vQ2xvc2Ugb3BlbiByZXF1ZXN0IGZvciBcImRiTmFtZVwiIGRhdGFiYXNlIHRvIGZpeCBpZSBkZWxheS5cbiAgICB2YXIgb3BlblJlcSA9IG9wZW5SZXFMaXN0LmdldChkYk5hbWUpO1xuICAgIGlmIChvcGVuUmVxICYmIG9wZW5SZXEucmVzdWx0KSB7XG4gICAgICBvcGVuUmVxLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH1cbiAgICB2YXIgcmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRiTmFtZSk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9SZW1vdmUgb3BlbiByZXF1ZXN0IGZyb20gdGhlIGxpc3QuXG4gICAgICBvcGVuUmVxTGlzdC5kZWxldGUoZGJOYW1lKTtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSAmJiAoZGJOYW1lIGluIGxvY2FsU3RvcmFnZSkpIHtcbiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtkYk5hbWVdO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICB2YXIgY2FjaGVkID0gY2FjaGVkREJzLmdldChkYk5hbWUpO1xuXG4gIGlmIChjYWNoZWQpIHtcbiAgICBpZGIgPSBjYWNoZWQuaWRiO1xuICAgIGFwaS5fbWV0YSA9IGNhY2hlZC5nbG9iYWw7XG4gICAgcmV0dXJuIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJlcSA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgQURBUFRFUl9WRVJTSU9OKTtcbiAgb3BlblJlcUxpc3Quc2V0KGRiTmFtZSwgcmVxKTtcblxuICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDEpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTY2hlbWEoZGIpOyAvLyBuZXcgZGIsIGluaXRpYWwgc2NoZW1hXG4gICAgfVxuICAgIC8vIGRvIG1pZ3JhdGlvbnNcblxuICAgIHZhciB0eG4gPSBlLmN1cnJlbnRUYXJnZXQudHJhbnNhY3Rpb247XG4gICAgLy8gdGhlc2UgbWlncmF0aW9ucyBoYXZlIHRvIGJlIGRvbmUgaW4gdGhpcyBmdW5jdGlvbiwgYmVmb3JlXG4gICAgLy8gY29udHJvbCBpcyByZXR1cm5lZCB0byB0aGUgZXZlbnQgbG9vcCwgYmVjYXVzZSBJbmRleGVkREJcblxuICAgIGlmIChlLm9sZFZlcnNpb24gPCAzKSB7XG4gICAgICBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKTsgLy8gdjIgLT4gdjNcbiAgICB9XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDQpIHtcbiAgICAgIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKTsgLy8gdjMgLT4gdjRcbiAgICB9XG5cbiAgICB2YXIgbWlncmF0aW9ucyA9IFtcbiAgICAgIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgsIC8vIHYxIC0+IHYyXG4gICAgICBtaWdyYXRlTG9jYWxTdG9yZSwgICAgICAvLyB2MiAtPiB2M1xuICAgICAgbWlncmF0ZUF0dHNBbmRTZXFzLCAgICAgLy8gdjMgLT4gdjRcbiAgICAgIG1pZ3JhdGVNZXRhZGF0YSAgICAgICAgIC8vIHY0IC0+IHY1XG4gICAgXTtcblxuICAgIHZhciBpID0gZS5vbGRWZXJzaW9uO1xuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBtaWdyYXRpb24gPSBtaWdyYXRpb25zW2kgLSAxXTtcbiAgICAgIGkrKztcbiAgICAgIGlmIChtaWdyYXRpb24pIHtcbiAgICAgICAgbWlncmF0aW9uKHR4biwgbmV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV4dCgpO1xuICB9O1xuXG4gIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgaWRiID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgaWRiLm9udmVyc2lvbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICBpZGIub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRGF0YWJhc2UgaGFzIGEgZ2xvYmFsIGZhaWx1cmUnLCBlLnRhcmdldC5lcnJvcik7XG4gICAgICBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICAvLyBEbyBhIGZldyBzZXR1cCBvcGVyYXRpb25zIChpbiBwYXJhbGxlbCBhcyBtdWNoIGFzIHBvc3NpYmxlKTpcbiAgICAvLyAxLiBGZXRjaCBtZXRhIGRvY1xuICAgIC8vIDIuIENoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vIDMuIENhbGN1bGF0ZSBkb2NDb3VudFxuICAgIC8vIDQuIEdlbmVyYXRlIGFuIGluc3RhbmNlSWQgaWYgbmVjZXNzYXJ5XG4gICAgLy8gNS4gU3RvcmUgZG9jQ291bnQgYW5kIGluc3RhbmNlSWQgb24gbWV0YSBkb2NcblxuICAgIHZhciB0eG4gPSBpZGIudHJhbnNhY3Rpb24oW1xuICAgICAgTUVUQV9TVE9SRSxcbiAgICAgIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUsXG4gICAgICBET0NfU1RPUkVcbiAgICBdLCAncmVhZHdyaXRlJyk7XG5cbiAgICB2YXIgc3RvcmVkTWV0YURvYyA9IGZhbHNlO1xuICAgIHZhciBtZXRhRG9jO1xuICAgIHZhciBkb2NDb3VudDtcbiAgICB2YXIgYmxvYlN1cHBvcnQ7XG4gICAgdmFyIGluc3RhbmNlSWQ7XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVNldHVwKCkge1xuICAgICAgaWYgKHR5cGVvZiBibG9iU3VwcG9ydCA9PT0gJ3VuZGVmaW5lZCcgfHwgIXN0b3JlZE1ldGFEb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLl9tZXRhID0ge1xuICAgICAgICBuYW1lOiBkYk5hbWUsXG4gICAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIGJsb2JTdXBwb3J0OiBibG9iU3VwcG9ydFxuICAgICAgfTtcblxuICAgICAgY2FjaGVkREJzLnNldChkYk5hbWUsIHtcbiAgICAgICAgaWRiOiBpZGIsXG4gICAgICAgIGdsb2JhbDogYXBpLl9tZXRhXG4gICAgICB9KTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcmVNZXRhRG9jSWZSZWFkeSgpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jQ291bnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBtZXRhRG9jID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW5zdGFuY2VLZXkgPSBkYk5hbWUgKyAnX2lkJztcbiAgICAgIGlmIChpbnN0YW5jZUtleSBpbiBtZXRhRG9jKSB7XG4gICAgICAgIGluc3RhbmNlSWQgPSBtZXRhRG9jW2luc3RhbmNlS2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGFEb2NbaW5zdGFuY2VLZXldID0gaW5zdGFuY2VJZCA9IHV1aWQoKTtcbiAgICAgIH1cbiAgICAgIG1ldGFEb2MuZG9jQ291bnQgPSBkb2NDb3VudDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5wdXQobWV0YURvYyk7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBmZXRjaCBvciBnZW5lcmF0ZSB0aGUgaW5zdGFuY2VJZFxuICAgIC8vXG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdCB8fCB7IGlkOiBNRVRBX1NUT1JFIH07XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gY291bnREb2NzXG4gICAgLy9cbiAgICBjb3VudERvY3ModHhuLCBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgIGRvY0NvdW50ID0gY291bnQ7XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vIGNoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vXG4gICAgaWYgKCFibG9iU3VwcG9ydFByb21pc2UpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBibG9iIHN1cHBvcnQgaXMgb25seSBjaGVja2VkIG9uY2VcbiAgICAgIGJsb2JTdXBwb3J0UHJvbWlzZSA9IGNoZWNrQmxvYlN1cHBvcnQodHhuKTtcbiAgICB9XG5cbiAgICBibG9iU3VwcG9ydFByb21pc2UudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICBibG9iU3VwcG9ydCA9IHZhbDtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9KTtcblxuICAgIC8vIG9ubHkgd2hlbiB0aGUgbWV0YWRhdGEgcHV0IHRyYW5zYWN0aW9uIGhhcyBjb21wbGV0ZWQsXG4gICAgLy8gY29uc2lkZXIgdGhlIHNldHVwIGRvbmVcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0b3JlZE1ldGFEb2MgPSB0cnVlO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBtc2cgPSBlLnRhcmdldC5lcnJvciAmJiBlLnRhcmdldC5lcnJvci5tZXNzYWdlO1xuXG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIG1zZyA9ICdGYWlsZWQgdG8gb3BlbiBpbmRleGVkREIsIGFyZSB5b3UgaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlPyc7XG4gICAgfSBlbHNlIGlmIChtc2cuaW5kZXhPZihcInN0b3JlZCBkYXRhYmFzZSBpcyBhIGhpZ2hlciB2ZXJzaW9uXCIpICE9PSAtMSkge1xuICAgICAgbXNnID0gbmV3IEVycm9yKCdUaGlzIERCIHdhcyBjcmVhdGVkIHdpdGggdGhlIG5ld2VyIFwiaW5kZXhlZGRiXCIgYWRhcHRlciwgYnV0IHlvdSBhcmUgdHJ5aW5nIHRvIG9wZW4gaXQgd2l0aCB0aGUgb2xkZXIgXCJpZGJcIiBhZGFwdGVyJyk7XG4gICAgfVxuXG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgbXNnKTtcbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1zZykpO1xuICB9O1xufVxuXG5JZGJQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gRm9sbG93aW5nICM3MDg1IGJ1Z2d5IGlkYiB2ZXJzaW9ucyAodHlwaWNhbGx5IFNhZmFyaSA8IDEwLjEpIGFyZVxuICAvLyBjb25zaWRlcmVkIHZhbGlkLlxuXG4gIC8vIE9uIEZpcmVmb3ggU2VjdXJpdHlFcnJvciBpcyB0aHJvd24gd2hpbGUgcmVmZXJlbmNpbmcgaW5kZXhlZERCIGlmIGNvb2tpZXNcbiAgLy8gYXJlIG5vdCBhbGxvd2VkLiBgdHlwZW9mIGluZGV4ZWREQmAgYWxzbyB0cmlnZ2VycyB0aGUgZXJyb3IuXG4gIHRyeSB7XG4gICAgLy8gc29tZSBvdXRkYXRlZCBpbXBsZW1lbnRhdGlvbnMgb2YgSURCIHRoYXQgYXBwZWFyIG9uIFNhbXN1bmdcbiAgICAvLyBhbmQgSFRDIEFuZHJvaWQgZGV2aWNlcyA8NC40IGFyZSBtaXNzaW5nIElEQktleVJhbmdlXG4gICAgcmV0dXJuIHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBJREJLZXlSYW5nZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIElEQlBvdWNoIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaWRiJywgSWRiUG91Y2gsIHRydWUpO1xufVxuXG4vLyBkZWFkIHNpbXBsZSBwcm9taXNlIHBvb2wsIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS90aW1kcC9lczYtcHJvbWlzZS1wb29sXG4vLyBidXQgbXVjaCBzbWFsbGVyIGluIGNvZGUgc2l6ZS4gbGltaXRzIHRoZSBudW1iZXIgb2YgY29uY3VycmVudCBwcm9taXNlcyB0aGF0IGFyZSBleGVjdXRlZFxuXG5cbmZ1bmN0aW9uIHBvb2wocHJvbWlzZUZhY3RvcmllcywgbGltaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcnVubmluZyA9IDA7XG4gICAgdmFyIGN1cnJlbnQgPSAwO1xuICAgIHZhciBkb25lID0gMDtcbiAgICB2YXIgbGVuID0gcHJvbWlzZUZhY3Rvcmllcy5sZW5ndGg7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICBydW5uaW5nKys7XG4gICAgICBwcm9taXNlRmFjdG9yaWVzW2N1cnJlbnQrK10oKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9OZXh0KCkge1xuICAgICAgaWYgKCsrZG9uZSA9PT0gbGVuKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBydW5OZXh0QmF0Y2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IodGhpc0Vycikge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZXJyID0gZXJyIHx8IHRoaXNFcnI7XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0QmF0Y2goKSB7XG4gICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmIGN1cnJlbnQgPCBsZW4pIHtcbiAgICAgICAgcnVuTmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJ1bk5leHRCYXRjaCgpO1xuICB9KTtcbn1cblxudmFyIENIQU5HRVNfQkFUQ0hfU0laRSA9IDI1O1xudmFyIE1BWF9TSU1VTFRBTkVPVVNfUkVWUyA9IDUwO1xudmFyIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgPSA1MDAwO1xudmFyIERFRkFVTFRfSEVBUlRCRUFUID0gMTAwMDA7XG5cbnZhciBzdXBwb3J0c0J1bGtHZXRNYXAgPSB7fTtcblxuZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocm93KSB7XG4gIHZhciBkb2MgPSByb3cuZG9jIHx8IHJvdy5vaztcbiAgdmFyIGF0dHMgPSBkb2MgJiYgZG9jLl9hdHRhY2htZW50cztcbiAgaWYgKCFhdHRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgIGF0dC5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZURvY0lkKGlkKSB7XG4gIGlmICgvXl9kZXNpZ24vLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfZGVzaWduLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoOCkpO1xuICB9XG4gIGlmICgvXl9sb2NhbC8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDcpKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKSB7XG4gIGlmICghZG9jLl9hdHRhY2htZW50cyB8fCAhT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgYXR0YWNobWVudCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICBpZiAoYXR0YWNobWVudC5kYXRhICYmIHR5cGVvZiBhdHRhY2htZW50LmRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgYmxvYlRvQmFzZTY0KGF0dGFjaG1lbnQuZGF0YSwgcmVzb2x2ZSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0YWNobWVudC5kYXRhID0gYjY0O1xuICAgICAgfSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGhhc1VybFByZWZpeChvcHRzKSB7XG4gIGlmICghb3B0cy5wcmVmaXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvY29sID0gcGFyc2VVcmkob3B0cy5wcmVmaXgpLnByb3RvY29sO1xuICByZXR1cm4gcHJvdG9jb2wgPT09ICdodHRwJyB8fCBwcm90b2NvbCA9PT0gJ2h0dHBzJztcbn1cblxuLy8gR2V0IGFsbCB0aGUgaW5mb3JtYXRpb24geW91IHBvc3NpYmx5IGNhbiBhYm91dCB0aGUgVVJJIGdpdmVuIGJ5IG5hbWUgYW5kXG4vLyByZXR1cm4gaXQgYXMgYSBzdWl0YWJsZSBvYmplY3QuXG5mdW5jdGlvbiBnZXRIb3N0KG5hbWUsIG9wdHMpIHtcbiAgLy8gZW5jb2RlIGRiIG5hbWUgaWYgb3B0cy5wcmVmaXggaXMgYSB1cmwgKCM1NTc0KVxuICBpZiAoaGFzVXJsUHJlZml4KG9wdHMpKSB7XG4gICAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZS5zdWJzdHIob3B0cy5wcmVmaXgubGVuZ3RoKTtcbiAgICAvLyBFbnN1cmUgcHJlZml4IGhhcyBhIHRyYWlsaW5nIHNsYXNoXG4gICAgdmFyIHByZWZpeCA9IG9wdHMucHJlZml4LnJlcGxhY2UoL1xcLz8kLywgJy8nKTtcbiAgICBuYW1lID0gcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KGRiTmFtZSk7XG4gIH1cblxuICB2YXIgdXJpID0gcGFyc2VVcmkobmFtZSk7XG4gIGlmICh1cmkudXNlciB8fCB1cmkucGFzc3dvcmQpIHtcbiAgICB1cmkuYXV0aCA9IHt1c2VybmFtZTogdXJpLnVzZXIsIHBhc3N3b3JkOiB1cmkucGFzc3dvcmR9O1xuICB9XG5cbiAgLy8gU3BsaXQgdGhlIHBhdGggcGFydCBvZiB0aGUgVVJJIGludG8gcGFydHMgdXNpbmcgJy8nIGFzIHRoZSBkZWxpbWl0ZXJcbiAgLy8gYWZ0ZXIgcmVtb3ZpbmcgYW55IGxlYWRpbmcgJy8nIGFuZCBhbnkgdHJhaWxpbmcgJy8nXG4gIHZhciBwYXJ0cyA9IHVyaS5wYXRoLnJlcGxhY2UoLyheXFwvfFxcLyQpL2csICcnKS5zcGxpdCgnLycpO1xuXG4gIHVyaS5kYiA9IHBhcnRzLnBvcCgpO1xuICAvLyBQcmV2ZW50IGRvdWJsZSBlbmNvZGluZyBvZiBVUkkgY29tcG9uZW50XG4gIGlmICh1cmkuZGIuaW5kZXhPZignJScpID09PSAtMSkge1xuICAgIHVyaS5kYiA9IGVuY29kZVVSSUNvbXBvbmVudCh1cmkuZGIpO1xuICB9XG5cbiAgdXJpLnBhdGggPSBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5EQlVybChvcHRzLCBwYXRoKSB7XG4gIHJldHVybiBnZW5Vcmwob3B0cywgb3B0cy5kYiArICcvJyArIHBhdGgpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlblVybChvcHRzLCBwYXRoKSB7XG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHZhciBwYXRoRGVsID0gIW9wdHMucGF0aCA/ICcnIDogJy8nO1xuXG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHJldHVybiBvcHRzLnByb3RvY29sICsgJzovLycgKyBvcHRzLmhvc3QgK1xuICAgICAgICAgKG9wdHMucG9ydCA/ICgnOicgKyBvcHRzLnBvcnQpIDogJycpICtcbiAgICAgICAgICcvJyArIG9wdHMucGF0aCArIHBhdGhEZWwgKyBwYXRoO1xufVxuXG5mdW5jdGlvbiBwYXJhbXNUb1N0cihwYXJhbXMpIHtcbiAgcmV0dXJuICc/JyArIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIGsgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tdKTtcbiAgfSkuam9pbignJicpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRDYWNoZUJ1c3Qob3B0cykge1xuICB2YXIgdWEgPSAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgP1xuICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIDogJyc7XG4gIHZhciBpc0lFID0gdWEuaW5kZXhPZignbXNpZScpICE9PSAtMTtcbiAgdmFyIGlzVHJpZGVudCA9IHVhLmluZGV4T2YoJ3RyaWRlbnQnKSAhPT0gLTE7XG4gIHZhciBpc0VkZ2UgPSB1YS5pbmRleE9mKCdlZGdlJykgIT09IC0xO1xuICB2YXIgaXNHRVQgPSAhKCdtZXRob2QnIGluIG9wdHMpIHx8IG9wdHMubWV0aG9kID09PSAnR0VUJztcbiAgcmV0dXJuIChpc0lFIHx8IGlzVHJpZGVudCB8fCBpc0VkZ2UpICYmIGlzR0VUO1xufVxuXG4vLyBJbXBsZW1lbnRzIHRoZSBQb3VjaERCIEFQSSBmb3IgZGVhbGluZyB3aXRoIENvdWNoREIgaW5zdGFuY2VzIG92ZXIgSFRUUFxuZnVuY3Rpb24gSHR0cFBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgLy8gVGhlIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgcHVibGljbHkgYXZhaWxhYmxlIGZvciBIdHRwUG91Y2hcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgdmFyIGhvc3QgPSBnZXRIb3N0KG9wdHMubmFtZSwgb3B0cyk7XG4gIHZhciBkYlVybCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgdmFyIG91ckZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuXG4gICAgaWYgKG9wdHMuYXV0aCB8fCBob3N0LmF1dGgpIHtcbiAgICAgIHZhciBuQXV0aCA9IG9wdHMuYXV0aCB8fCBob3N0LmF1dGg7XG4gICAgICB2YXIgc3RyID0gbkF1dGgudXNlcm5hbWUgKyAnOicgKyBuQXV0aC5wYXNzd29yZDtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXNCdG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyB0b2tlbik7XG4gICAgfVxuXG4gICAgdmFyIGhlYWRlcnMgPSBvcHRzLmhlYWRlcnMgfHwge307XG4gICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuYXBwZW5kKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICB9KTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzaG91bGRDYWNoZUJ1c3Qob3B0aW9ucykpIHtcbiAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgJ19ub25jZT0nICsgRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICB2YXIgZmV0Y2hGdW4gPSBvcHRzLmZldGNoIHx8IGYkMTtcbiAgICByZXR1cm4gZmV0Y2hGdW4odXJsLCBvcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhZGFwdGVyRnVuJCQxKG5hbWUsIGZ1bikge1xuICAgIHJldHVybiBhZGFwdGVyRnVuKG5hbWUsIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSkpLmJpbmQoYXBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoSlNPTih1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQWNjZXB0JykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJlc3VsdC5vayA9IHJlc3BvbnNlLm9rO1xuICAgICAgcmVzdWx0LnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgcmVzdWx0LmRhdGEgPSBqc29uO1xuICAgICAgaWYgKCFyZXN1bHQub2spIHtcbiAgICAgICAgcmVzdWx0LmRhdGEuc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgICAgICAgdmFyIGVyciA9IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0LmRhdGEpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhID0gcmVzdWx0LmRhdGEubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKHYuZXJyb3IgfHwgdi5taXNzaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSh2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc2V0dXBQcm9taXNlO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGlmIChvcHRzLnNraXBfc2V0dXApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHNldHVwIGluIHByb2Nlc3Mgb3IgcHJldmlvdXMgc3VjY2Vzc2Z1bCBzZXR1cFxuICAgIC8vIGRvbmUgdGhlbiB3ZSB3aWxsIHVzZSB0aGF0XG4gICAgLy8gSWYgcHJldmlvdXMgc2V0dXBzIGhhdmUgYmVlbiByZWplY3RlZCB3ZSB3aWxsIHRyeSBhZ2FpblxuICAgIGlmIChzZXR1cFByb21pc2UpIHtcbiAgICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gICAgfVxuXG4gICAgc2V0dXBQcm9taXNlID0gZmV0Y2hKU09OKGRiVXJsKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIC8vIERvZXNudCBleGlzdCwgY3JlYXRlIGl0XG4gICAgICAgIGV4cGxhaW5FcnJvcig0MDQsICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgZXhpc3RzLicpO1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKGRiVXJsLCB7bWV0aG9kOiAnUFVUJ30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gSWYgd2UgdHJ5IHRvIGNyZWF0ZSBhIGRhdGFiYXNlIHRoYXQgYWxyZWFkeSBleGlzdHMsIHNraXBwZWQgaW5cbiAgICAgIC8vIGlzdGFuYnVsIHNpbmNlIGl0cyBjYXRjaGluZyBhIHJhY2UgY29uZGl0aW9uLlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgICBzZXR1cFByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dXBQcm9taXNlID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gIH1cblxuICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gIH0pO1xuXG4gIGFwaS5fcmVtb3RlID0gdHJ1ZTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2h0dHAnO1xuICB9O1xuXG4gIGFwaS5pZCA9IGFkYXB0ZXJGdW4kJDEoJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgb3VyRmV0Y2goZ2VuVXJsKGhvc3QsICcnKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gQmFkIHJlc3BvbnNlIG9yIG1pc3NpbmcgYHV1aWRgIHNob3VsZCBub3QgcHJldmVudCBJRCBnZW5lcmF0aW9uLlxuICAgICAgdmFyIHV1aWQkJDEgPSAocmVzdWx0ICYmIHJlc3VsdC51dWlkKSA/XG4gICAgICAgICAgKHJlc3VsdC51dWlkICsgaG9zdC5kYikgOiBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCB1dWlkJCQxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gU2VuZHMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIGhvc3QgY2FsbGluZyB0aGUgY291Y2hkYiBfY29tcGFjdCBmdW5jdGlvblxuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLmNvbXBhY3QgPSBhZGFwdGVyRnVuJCQxKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2NvbXBhY3QnKSwge21ldGhvZDogJ1BPU1QnfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBwaW5nKCkge1xuICAgICAgICBhcGkuaW5mbyhmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBDb3VjaERCIG1heSBzZW5kIGEgXCJjb21wYWN0X3J1bm5pbmc6dHJ1ZVwiIGlmIGl0J3NcbiAgICAgICAgICAvLyBhbHJlYWR5IGNvbXBhY3RpbmcuIFBvdWNoREIgU2VydmVyIGRvZXNuJ3QuXG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAocmVzICYmICFyZXMuY29tcGFjdF9ydW5uaW5nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChwaW5nLCBvcHRzLmludGVydmFsIHx8IDIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFBpbmcgdGhlIGh0dHAgaWYgaXQncyBmaW5pc2hlZCBjb21wYWN0aW9uXG4gICAgICBwaW5nKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwaS5idWxrR2V0ID0gYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGRvQnVsa0dldChjYikge1xuICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19nZXQnICsgcGFyYW1zVG9TdHIocGFyYW1zKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZG9jczogb3B0cy5kb2NzfSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgIHJlc3VsdC5kYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICByZXMuZG9jcy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYihudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9KS5jYXRjaChjYik7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXRTaGltKCkge1xuICAgICAgLy8gYXZvaWQgXCJ1cmwgdG9vIGxvbmcgZXJyb3JcIiBieSBzcGxpdHRpbmcgdXAgaW50byBtdWx0aXBsZSByZXF1ZXN0c1xuICAgICAgdmFyIGJhdGNoU2l6ZSA9IE1BWF9TSU1VTFRBTkVPVVNfUkVWUztcbiAgICAgIHZhciBudW1CYXRjaGVzID0gTWF0aC5jZWlsKG9wdHMuZG9jcy5sZW5ndGggLyBiYXRjaFNpemUpO1xuICAgICAgdmFyIG51bURvbmUgPSAwO1xuICAgICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkobnVtQmF0Y2hlcyk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVzdWx0KGJhdGNoTnVtKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBlcnIgaXMgaW1wb3NzaWJsZSBiZWNhdXNlIHNoaW0gcmV0dXJucyBhIGxpc3Qgb2YgZXJycyBpbiB0aGF0IGNhc2VcbiAgICAgICAgICByZXN1bHRzW2JhdGNoTnVtXSA9IHJlcy5yZXN1bHRzO1xuICAgICAgICAgIGlmICgrK251bURvbmUgPT09IG51bUJhdGNoZXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiBmbGF0dGVuKHJlc3VsdHMpfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUJhdGNoZXM7IGkrKykge1xuICAgICAgICB2YXIgc3ViT3B0cyA9IHBpY2sob3B0cywgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdsYXRlc3QnXSk7XG4gICAgICAgIHN1Yk9wdHMuZG9jcyA9IG9wdHMuZG9jcy5zbGljZShpICogYmF0Y2hTaXplLFxuICAgICAgICAgIE1hdGgubWluKG9wdHMuZG9jcy5sZW5ndGgsIChpICsgMSkgKiBiYXRjaFNpemUpKTtcbiAgICAgICAgYnVsa0dldChzZWxmLCBzdWJPcHRzLCBvblJlc3VsdChpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWFyayB0aGUgd2hvbGUgZGF0YWJhc2UgYXMgZWl0aGVyIHN1cHBvcnRpbmcgb3Igbm90IHN1cHBvcnRpbmcgX2J1bGtfZ2V0XG4gICAgdmFyIGRiVXJsID0gZ2VuVXJsKGhvc3QsICcnKTtcbiAgICB2YXIgc3VwcG9ydHNCdWxrR2V0ID0gc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0J1bGtHZXQgIT09ICdib29sZWFuJykge1xuICAgICAgLy8gY2hlY2sgaWYgdGhpcyBkYXRhYmFzZSBzdXBwb3J0cyBfYnVsa19nZXRcbiAgICAgIGRvQnVsa0dldChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSBmYWxzZTtcbiAgICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgICBlcnIuc3RhdHVzLFxuICAgICAgICAgICAgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSAnICtcbiAgICAgICAgICAgICdzdXBwb3J0cyB0aGUgX2J1bGtfZ2V0IEFQSS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IHRydWU7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0c0J1bGtHZXQpIHtcbiAgICAgIGRvQnVsa0dldChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGxzIEdFVCBvbiB0aGUgaG9zdCwgd2hpY2ggZ2V0cyBiYWNrIGEgSlNPTiBzdHJpbmcgY29udGFpbmluZ1xuICAvLyAgICBjb3VjaGRiOiBBIHdlbGNvbWUgc3RyaW5nXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuX2luZm8gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsICcnKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgaW5mby5ob3N0ID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG4gIGFwaS5mZXRjaCA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdXJsID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJyA/XG4gICAgICAgIGdlblVybChob3N0LCBwYXRoLnN1YnN0cmluZygxKSkgOlxuICAgICAgICBnZW5EQlVybChob3N0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVGhlIGlkIGNvdWxkIGJlIHNvbGVseSB0aGUgX2lkIGluIHRoZSBkYXRhYmFzZSwgb3IgaXQgbWF5IGJlIGFcbiAgLy8gX2Rlc2lnbi9JRCBvciBfbG9jYWwvSUQgcGF0aFxuICBhcGkuZ2V0ID0gYWRhcHRlckZ1biQkMSgnZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHBhcmFtcy5yZXZzX2luZm8gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgICBpZiAob3B0cy5vcGVuX3JldnMgIT09IFwiYWxsXCIpIHtcbiAgICAgICAgb3B0cy5vcGVuX3JldnMgPSBKU09OLnN0cmluZ2lmeShvcHRzLm9wZW5fcmV2cyk7XG4gICAgICB9XG4gICAgICBwYXJhbXMub3Blbl9yZXZzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2KSB7XG4gICAgICBwYXJhbXMucmV2ID0gb3B0cy5yZXY7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gb3B0cy5jb25mbGljdHM7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSBvcHRzLnVwZGF0ZV9zZXE7XG4gICAgfVxuXG4gICAgaWQgPSBlbmNvZGVEb2NJZChpZCk7XG5cbiAgICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzKGRvYykge1xuICAgICAgdmFyIGF0dHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGZpbGVuYW1lcyA9IGF0dHMgJiYgT2JqZWN0LmtleXMoYXR0cyk7XG4gICAgICBpZiAoIWF0dHMgfHwgIWZpbGVuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gd2UgZmV0Y2ggdGhlc2UgbWFudWFsbHkgaW4gc2VwYXJhdGUgWEhScywgYmVjYXVzZVxuICAgICAgLy8gU3luYyBHYXRld2F5IHdvdWxkIG5vcm1hbGx5IHNlbmQgaXQgYmFjayBhcyBtdWx0aXBhcnQvbWl4ZWQsXG4gICAgICAvLyB3aGljaCB3ZSBjYW5ub3QgcGFyc2UuIEFsc28sIHRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhblxuICAgICAgLy8gcmVjZWl2aW5nIGF0dGFjaG1lbnRzIGFzIGJhc2U2NC1lbmNvZGVkIHN0cmluZ3MuXG4gICAgICBmdW5jdGlvbiBmZXRjaERhdGEoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICB2YXIgcGF0aCA9IGVuY29kZURvY0lkKGRvYy5faWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGZpbGVuYW1lKSArXG4gICAgICAgICAgICAnP3Jldj0nICsgZG9jLl9yZXY7XG4gICAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCBwYXRoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAoJ2J1ZmZlcicgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgICAgaWYgKG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICB2YXIgdHlwZUZpZWxkRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmxvYi5fX3Byb3RvX18sICd0eXBlJyk7XG4gICAgICAgICAgICBpZiAoIXR5cGVGaWVsZERlc2NyaXB0b3IgfHwgdHlwZUZpZWxkRGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgICAgYmxvYi50eXBlID0gYXR0LmNvbnRlbnRfdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBibG9iO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGJsb2JUb0Jhc2U2NChibG9iLCByZXNvbHZlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZUZhY3RvcmllcyA9IGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoRGF0YShmaWxlbmFtZSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhpcyBsaW1pdHMgdGhlIG51bWJlciBvZiBwYXJhbGxlbCB4aHIgcmVxdWVzdHMgdG8gNSBhbnkgdGltZVxuICAgICAgLy8gdG8gYXZvaWQgaXNzdWVzIHdpdGggbWF4aW11bSBicm93c2VyIHJlcXVlc3QgbGltaXRzXG4gICAgICByZXR1cm4gcG9vbChwcm9taXNlRmFjdG9yaWVzLCA1KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEFsbEF0dGFjaG1lbnRzKGRvY09yRG9jcykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZG9jT3JEb2NzKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jT3JEb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jLm9rKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvY09yRG9jcyk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgZmV0Y2hKU09OKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoQWxsQXR0YWNobWVudHMocmVzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzLmRhdGEpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuZG9jSWQgPSBpZDtcbiAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIERlbGV0ZSB0aGUgZG9jdW1lbnQgZ2l2ZW4gYnkgZG9jIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5yZW1vdmUgPSBhZGFwdGVyRnVuJCQxKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYikge1xuICAgIHZhciBkb2M7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0ge1xuICAgICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgICAgfTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0gZG9jT3JJZDtcbiAgICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0c09yUmV2O1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJldiA9IChkb2MuX3JldiB8fCBvcHRzLnJldik7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSArICc/cmV2PScgKyByZXY7XG5cbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNiKS5jYXRjaChjYik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpIHtcbiAgICByZXR1cm4gYXR0YWNobWVudElkLnNwbGl0KFwiL1wiKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgYXR0YWNobWVudFxuICBhcGkuZ2V0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciBwYXJhbXMgPSBvcHRzLnJldiA/ICgnP3Jldj0nICsgb3B0cy5yZXYpIDogJyc7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSkgKyAnLycgK1xuICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSArIHBhcmFtcztcbiAgICB2YXIgY29udGVudFR5cGU7XG4gICAgb3VyRmV0Y2godXJsLCB7bWV0aG9kOiAnR0VUJ30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIgJiYgdHlwZW9mIHJlc3BvbnNlLmJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAvLyBUT0RPOiBhbHNvIHJlbW92ZVxuICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyKSB7XG4gICAgICAgIGJsb2IudHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IHRoZSBpZCBhbmQgcmV2XG4gIGFwaS5yZW1vdmVBdHRhY2htZW50ID0gIGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgK1xuICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSkgKyAnP3Jldj0nICsgcmV2O1xuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gQWRkIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IGJsb2IgYW5kIGl0cyBjb250ZW50VHlwZSBwcm9wZXJ0eVxuICAvLyB0byB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQsIHRoZSByZXZpc2lvbiBnaXZlbiBieSByZXYsIGFuZFxuICAvLyBhZGQgaXQgdG8gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5wdXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LCBibG9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gdHlwZTtcbiAgICAgIHR5cGUgPSBibG9iO1xuICAgICAgYmxvYiA9IHJldjtcbiAgICAgIHJldiA9IG51bGw7XG4gICAgfVxuICAgIHZhciBpZCA9IGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCk7XG4gICAgaWYgKHJldikge1xuICAgICAgdXJsICs9ICc/cmV2PScgKyByZXY7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaW5wdXQgaXMgYXNzdW1lZCB0byBiZSBhIGJhc2U2NCBzdHJpbmdcbiAgICAgIHZhciBiaW5hcnk7XG4gICAgICB0cnkge1xuICAgICAgICBiaW5hcnkgPSB0aGlzQXRvYihibG9iKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKSk7XG4gICAgICB9XG4gICAgICBibG9iID0gYmluYXJ5ID8gYmluU3RyaW5nVG9CbHVmZmVyKGJpbmFyeSwgdHlwZSkgOiAnJztcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGF0dGFjaG1lbnRcbiAgICBmZXRjaEpTT04odXJsLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6IHR5cGV9KSxcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBibG9iXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgZ2l2ZW4gYnkgcmVxIGluIHRoZSBkYXRhYmFzZVxuICAvLyBnaXZlbiBieSBob3N0LlxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBuZXdfZWRpdHM9ZmFsc2UgdGhlbiBpdCBwcmV2ZW50cyB0aGUgZGF0YWJhc2UgZnJvbSBjcmVhdGluZ1xuICAgIC8vIG5ldyByZXZpc2lvbiBudW1iZXJzIGZvciB0aGUgZG9jdW1lbnRzLiBJbnN0ZWFkIGl0IGp1c3QgdXNlc1xuICAgIC8vIHRoZSBvbGQgb25lcy4gVGhpcyBpcyB1c2VkIGluIGRhdGFiYXNlIHJlcGxpY2F0aW9uLlxuICAgIHJlcS5uZXdfZWRpdHMgPSBvcHRzLm5ld19lZGl0cztcblxuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVxLmRvY3MubWFwKHByZXByb2Nlc3NBdHRhY2htZW50cyQxKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBVcGRhdGUvY3JlYXRlIHRoZSBkb2N1bWVudHNcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2RvY3MnKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgZG9jdW1lbnRcbiAgYXBpLl9wdXQgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRvYylcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGRvYyAmJiBkb2MuX2lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8vIEdldCBhIGxpc3Rpbmcgb2YgdGhlIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW5cbiAgLy8gYnkgaG9zdCBhbmQgb3JkZXJlZCBieSBpbmNyZWFzaW5nIGlkLlxuICBhcGkuYWxsRG9jcyA9IGFkYXB0ZXJGdW4kJDEoJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gYWRkZWQgaW4gQ291Y2hEQiAxLjYuMFxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmtleSkge1xuICAgICAgcGFyYW1zLmtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMua2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydGtleSkge1xuICAgICAgcGFyYW1zLnN0YXJ0a2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zdGFydGtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5ka2V5KSB7XG4gICAgICBwYXJhbXMuZW5ka2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5lbmRrZXkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5pbmNsdXNpdmVfZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmluY2x1c2l2ZV9lbmQgPSAhIW9wdHMuaW5jbHVzaXZlX2VuZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnNraXAgPSBvcHRzLnNraXA7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtU3RyID0gcGFyYW1zVG9TdHIocGFyYW1zKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgIH1cblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2FsbF9kb2NzJyArIHBhcmFtU3RyKSwge1xuICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnJvd3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBHZXQgYSBsaXN0IG9mIGNoYW5nZXMgbWFkZSB0byBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRPRE8gQWNjb3JkaW5nIHRvIHRoZSBSRUFETUUsIHRoZXJlIHNob3VsZCBiZSB0d28gb3RoZXIgbWV0aG9kcyBoZXJlLFxuICAvLyBhcGkuY2hhbmdlcy5hZGRMaXN0ZW5lciBhbmQgYXBpLmNoYW5nZXMucmVtb3ZlTGlzdGVuZXIuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG5cbiAgICAvLyBXZSBpbnRlcm5hbGx5IHBhZ2UgdGhlIHJlc3VsdHMgb2YgYSBjaGFuZ2VzIHJlcXVlc3QsIHRoaXMgbWVhbnNcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGxhcmdlIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHJldHVybmVkIHdlIGNhbiBzdGFydFxuICAgIC8vIHByb2Nlc3NpbmcgdGhlbSBxdWlja2VyIGluc3RlYWQgb2Ygd2FpdGluZyBvbiB0aGUgZW50aXJlXG4gICAgLy8gc2V0IG9mIGNoYW5nZXMgdG8gcmV0dXJuIGFuZCBhdHRlbXB0aW5nIHRvIHByb2Nlc3MgdGhlbSBhdCBvbmNlXG4gICAgdmFyIGJhdGNoU2l6ZSA9ICdiYXRjaF9zaXplJyBpbiBvcHRzID8gb3B0cy5iYXRjaF9zaXplIDogQ0hBTkdFU19CQVRDSF9TSVpFO1xuXG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgaWYgKG9wdHMuY29udGludW91cyAmJiAhKCdoZWFydGJlYXQnIGluIG9wdHMpKSB7XG4gICAgICBvcHRzLmhlYXJ0YmVhdCA9IERFRkFVTFRfSEVBUlRCRUFUO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0VGltZW91dCA9ICgndGltZW91dCcgaW4gb3B0cykgPyBvcHRzLnRpbWVvdXQgOiAzMCAqIDEwMDA7XG5cbiAgICAvLyBlbnN1cmUgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiBhcHBsaWVzXG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCAmJlxuICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy50aW1lb3V0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzICYmIG9wdHMuaGVhcnRiZWF0ICYmXG4gICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy5oZWFydGJlYXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMuaGVhcnRiZWF0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCkge1xuICAgICAgcGFyYW1zLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykgPyBvcHRzLmxpbWl0IDogZmFsc2U7XG4gICAgdmFyIGxlZnRUb0ZldGNoID0gbGltaXQ7XG5cbiAgICBpZiAob3B0cy5zdHlsZSkge1xuICAgICAgcGFyYW1zLnN0eWxlID0gb3B0cy5zdHlsZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgfHwgb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgICBwYXJhbXMuZmVlZCA9ICdsb25ncG9sbCc7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc2VxX2ludGVydmFsKSB7XG4gICAgICBwYXJhbXMuc2VxX2ludGVydmFsID0gb3B0cy5zZXFfaW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAvLyBJZiB0aGUgaGVhcnRiZWF0IHZhbHVlIGlzIGZhbHNlLCBpdCBkaXNhYmxlcyB0aGUgZGVmYXVsdCBoZWFydGJlYXRcbiAgICAgIGlmIChvcHRzLmhlYXJ0YmVhdCkge1xuICAgICAgICBwYXJhbXMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy52aWV3ICYmIHR5cGVvZiBvcHRzLnZpZXcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ192aWV3JztcbiAgICAgIHBhcmFtcy52aWV3ID0gb3B0cy52aWV3O1xuICAgIH1cblxuICAgIC8vIElmIG9wdHMucXVlcnlfcGFyYW1zIGV4aXN0cywgcGFzcyBpdCB0aHJvdWdoIHRvIHRoZSBjaGFuZ2VzIHJlcXVlc3QuXG4gICAgLy8gVGhlc2UgcGFyYW1ldGVycyBtYXkgYmUgdXNlZCBieSB0aGUgZmlsdGVyIG9uIHRoZSBzb3VyY2UgZGF0YWJhc2UuXG4gICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zICYmIHR5cGVvZiBvcHRzLnF1ZXJ5X3BhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzLnF1ZXJ5X3BhcmFtcywgcGFyYW1fbmFtZSkpIHtcbiAgICAgICAgICBwYXJhbXNbcGFyYW1fbmFtZV0gPSBvcHRzLnF1ZXJ5X3BhcmFtc1twYXJhbV9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgYm9keTtcblxuICAgIGlmIChvcHRzLmRvY19pZHMpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyOyBpdCdzIGFubm95aW5nIHRoYXQgY291Y2hkYlxuICAgICAgLy8gcmVxdWlyZXMgYm90aCBhIFwiZmlsdGVyXCIgYW5kIGEgXCJkb2NfaWRzXCIgcGFyYW0uXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19kb2NfaWRzJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7ZG9jX2lkczogb3B0cy5kb2NfaWRzIH07XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXIsIHNpbWlsYXIgdG8gYWJvdmVcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7c2VsZWN0b3I6IG9wdHMuc2VsZWN0b3IgfTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBhKCk7XG4gICAgdmFyIGxhc3RGZXRjaGVkU2VxO1xuXG4gICAgLy8gR2V0IGFsbCB0aGUgY2hhbmdlcyBzdGFydGluZyB3dGloIHRoZSBvbmUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgLy8gc2VxdWVuY2UgbnVtYmVyIGdpdmVuIGJ5IHNpbmNlLlxuICAgIHZhciBmZXRjaERhdGEgPSBmdW5jdGlvbiAoc2luY2UsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5zaW5jZSA9IHNpbmNlO1xuICAgICAgLy8gXCJzaW5jZVwiIGNhbiBiZSBhbnkga2luZCBvZiBqc29uIG9iamVjdCBpbiBDbG91ZGFudC9Db3VjaERCIDIueFxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNpbmNlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHBhcmFtcy5zaW5jZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcy5zaW5jZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgcGFyYW1zLmxpbWl0ID0gbGVmdFRvRmV0Y2g7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5saW1pdCA9ICghbGltaXQgfHwgbGVmdFRvRmV0Y2ggPiBiYXRjaFNpemUpID9cbiAgICAgICAgICBiYXRjaFNpemUgOiBsZWZ0VG9GZXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBvcHRpb25zIGZvciB0aGUgYWpheCBjYWxsXG4gICAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgJ19jaGFuZ2VzJyArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgICAgdmFyIGZldGNoT3B0cyA9IHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9O1xuICAgICAgbGFzdEZldGNoZWRTZXEgPSBzaW5jZTtcblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBjaGFuZ2VzXG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKHVybCwgZmV0Y2hPcHRzLCBjYWxsYmFjayk7XG4gICAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIC8vIElmIG9wdHMuc2luY2UgZXhpc3RzLCBnZXQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gdGhlIHNlcXVlbmNlXG4gICAgLy8gbnVtYmVyIGdpdmVuIGJ5IG9wdHMuc2luY2UuIE90aGVyd2lzZSwgZ2V0IGFsbCB0aGUgY2hhbmdlc1xuICAgIC8vIGZyb20gdGhlIHNlcXVlbmNlIG51bWJlciAwLlxuICAgIHZhciByZXN1bHRzID0ge3Jlc3VsdHM6IFtdfTtcblxuICAgIHZhciBmZXRjaGVkID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByYXdfcmVzdWx0c19sZW5ndGggPSAwO1xuICAgICAgLy8gSWYgdGhlIHJlc3VsdCBvZiB0aGUgYWpheCBjYWxsIChyZXMpIGNvbnRhaW5zIGNoYW5nZXMgKHJlcy5yZXN1bHRzKVxuICAgICAgaWYgKHJlcyAmJiByZXMucmVzdWx0cykge1xuICAgICAgICByYXdfcmVzdWx0c19sZW5ndGggPSByZXMucmVzdWx0cy5sZW5ndGg7XG4gICAgICAgIHJlc3VsdHMubGFzdF9zZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICAgIHZhciBwZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RTZXEgPSBudWxsO1xuICAgICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHR5cGVvZiByZXMucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBwZW5kaW5nID0gcmVzLnBlbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBsYXN0U2VxID0gcmVzdWx0cy5sYXN0X3NlcTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3IgZWFjaCBjaGFuZ2VcbiAgICAgICAgdmFyIHJlcSA9IHt9O1xuICAgICAgICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgcmVzLnJlc3VsdHMgPSByZXMucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBsZWZ0VG9GZXRjaC0tO1xuICAgICAgICAgIHZhciByZXQgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoYyk7XG4gICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICAgICAgICByZXN1bHRzLnJlc3VsdHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoYywgcGVuZGluZywgbGFzdFNlcSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciwgc3RvcCBsaXN0ZW5pbmcgZm9yIGNoYW5nZXMgYW5kIGNhbGxcbiAgICAgICAgLy8gb3B0cy5jb21wbGV0ZVxuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNoYW5nZXMgZmVlZCBtYXkgaGF2ZSB0aW1lZCBvdXQgd2l0aCBubyByZXN1bHRzXG4gICAgICAvLyBpZiBzbyByZXVzZSBsYXN0IHVwZGF0ZSBzZXF1ZW5jZVxuICAgICAgaWYgKHJlcyAmJiByZXMubGFzdF9zZXEpIHtcbiAgICAgICAgbGFzdEZldGNoZWRTZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaW5pc2hlZCA9IChsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSB8fFxuICAgICAgICAocmVzICYmIHJhd19yZXN1bHRzX2xlbmd0aCA8IGJhdGNoU2l6ZSkgfHxcbiAgICAgICAgKG9wdHMuZGVzY2VuZGluZyk7XG5cbiAgICAgIGlmICgob3B0cy5jb250aW51b3VzICYmICEobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkpIHx8ICFmaW5pc2hlZCkge1xuICAgICAgICAvLyBRdWV1ZSBhIGNhbGwgdG8gZmV0Y2ggYWdhaW4gd2l0aCB0aGUgbmV3ZXN0IHNlcXVlbmNlIG51bWJlclxuICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkgeyBmZXRjaERhdGEobGFzdEZldGNoZWRTZXEsIGZldGNoZWQpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvbmUsIGNhbGwgdGhlIGNhbGxiYWNrXG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZldGNoRGF0YShvcHRzLnNpbmNlIHx8IDAsIGZldGNoZWQpO1xuXG4gICAgLy8gUmV0dXJuIGEgbWV0aG9kIHRvIGNhbmNlbCB0aGlzIG1ldGhvZCBmcm9tIHByb2Nlc3NpbmcgYW55IG1vcmVcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgc2V0IG9mIGRvY3VtZW50L3JldmlzaW9uIElEcyAoZ2l2ZW4gYnkgcmVxKSwgdGV0cyB0aGUgc3Vic2V0IG9mXG4gIC8vIHRob3NlIHRoYXQgZG8gTk9UIGNvcnJlc3BvbmQgdG8gcmV2aXNpb25zIHN0b3JlZCBpbiB0aGUgZGF0YWJhc2UuXG4gIC8vIFNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSHR0cFBvc3RSZXZzRGlmZlxuICBhcGkucmV2c0RpZmYgPSBhZGFwdGVyRnVuJCQxKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIGJlIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBtaXNzaW5nIGRvY3VtZW50L3JldmlzaW9uIElEc1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX3JldnNfZGlmZicpLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJycpLCB7bWV0aG9kOiAnREVMRVRFJ30pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGpzb24pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIEh0dHBQb3VjaCBpcyBhIHZhbGlkIGFkYXB0ZXIuXG5IdHRwUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gSHR0cFBvdWNoJDEgKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwJywgSHR0cFBvdWNoLCBmYWxzZSk7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cHMnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gUXVlcnlQYXJzZUVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIHRoaXMubmFtZSA9ICdxdWVyeV9wYXJzZV9lcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFF1ZXJ5UGFyc2VFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKFF1ZXJ5UGFyc2VFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBOb3RGb3VuZEVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDQ7XG4gIHRoaXMubmFtZSA9ICdub3RfZm91bmQnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBOb3RGb3VuZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoTm90Rm91bmRFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBCdWlsdEluRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDUwMDtcbiAgdGhpcy5uYW1lID0gJ2ludmFsaWRfdmFsdWUnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBCdWlsdEluRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhCdWlsdEluRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkoZnVuKSB7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpO1xuICAgIHZhciBwcm9taXNlID0gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbi8vIFByb21pc2UgZmluYWxseSB1dGlsIHNpbWlsYXIgdG8gUS5maW5hbGx5XG5mdW5jdGlvbiBmaW4ocHJvbWlzZSwgZmluYWxQcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyByZWFzb247XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXF1ZW50aWFsaXplKHF1ZXVlLCBwcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICByZXR1cm4gcXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcm9taXNlRmFjdG9yeS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gdW5pcSBhbiBhcnJheSBvZiBzdHJpbmdzLCBvcmRlciBub3QgZ3VhcmFudGVlZFxuLy8gc2ltaWxhciB0byB1bmRlcnNjb3JlL2xvZGFzaCBfLnVuaXFcbmZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gIHZhciB0aGVTZXQgPSBuZXcgRXhwb3J0ZWRTZXQoYXJyKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0aGVTZXQuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICB0aGVTZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1hcFRvS2V5c0FycmF5KG1hcCkge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KG1hcC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0ga2V5O1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVpbHRJbkVycm9yKG5hbWUpIHtcbiAgdmFyIG1lc3NhZ2UgPSAnYnVpbHRpbiAnICsgbmFtZSArXG4gICAgJyBmdW5jdGlvbiByZXF1aXJlcyBtYXAgdmFsdWVzIHRvIGJlIG51bWJlcnMnICtcbiAgICAnIG9yIG51bWJlciBhcnJheXMnO1xuICByZXR1cm4gbmV3IEJ1aWx0SW5FcnJvcihtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gc3VtKHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShudW0pKSB7XG4gICAgICAgIC8vIGxpc3RzIG9mIG51bWJlcnMgYXJlIGFsc28gYWxsb3dlZCwgc3VtIHRoZW0gc2VwYXJhdGVseVxuICAgICAgICByZXN1bHQgPSB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJyA/IFtyZXN1bHRdIDogcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgakxlbiA9IG51bS5sZW5ndGg7IGogPCBqTGVuOyBqKyspIHtcbiAgICAgICAgICB2YXIgak51bSA9IG51bVtqXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGpOdW0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHRbal0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChqTnVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2pdICs9IGpOdW07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBub3QgYXJyYXkvbnVtYmVyXG4gICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJlc3VsdCArPSBudW07XG4gICAgfSBlbHNlIHsgLy8gYWRkIG51bWJlciB0byBhcnJheVxuICAgICAgcmVzdWx0WzBdICs9IG51bTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIGxvZyA9IGd1YXJkZWRDb25zb2xlLmJpbmQobnVsbCwgJ2xvZycpO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHRvSlNPTiA9IEpTT04ucGFyc2U7XG5cbmZ1bmN0aW9uIGV2YWxGdW5jdGlvbldpdGhFdmFsKGZ1bmMsIGVtaXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbChcbiAgICBcInJldHVybiAoXCIgKyBmdW5jLnJlcGxhY2UoLztcXHMqJC8sIFwiXCIpICsgXCIpO1wiLFxuICAgIHtcbiAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICBzdW06IHN1bSxcbiAgICAgIGxvZzogbG9nLFxuICAgICAgaXNBcnJheTogaXNBcnJheSxcbiAgICAgIHRvSlNPTjogdG9KU09OXG4gICAgfVxuICApO1xufVxuXG4vKlxuICogU2ltcGxlIHRhc2sgcXVldWUgdG8gc2VxdWVudGlhbGl6ZSBhY3Rpb25zLiBBc3N1bWVzXG4gKiBjYWxsYmFja3Mgd2lsbCBldmVudHVhbGx5IGZpcmUgKG9uY2UpLlxuICovXG5cblxuZnVuY3Rpb24gVGFza1F1ZXVlJDEoKSB7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsKSB7ZnVsZmlsbCgpOyB9KTtcbn1cblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocHJvbWlzZUZhY3RvcnkpIHtcbiAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBqdXN0IHJlY292ZXJcbiAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb21pc2VGYWN0b3J5KCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJzsgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3IgZW1wdHkgcmVkdWNlXG4gIH1cbiAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXQgd2l0aCBtYXByZWR1Y2UsIGZ1bmN0aW9ucy9zdHJpbmdzIGFyZSBzdHJpbmdpZmllZFxuICAvLyBhcy1pcy4gZXZlcnl0aGluZyBlbHNlIGlzIEpTT04tc3RyaW5naWZpZWQuXG4gIHN3aXRjaCAodHlwZW9mIGlucHV0KSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBtYXBcbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIGJ1aWx0LWluIF9yZWR1Y2UgZnVuY3Rpb25cbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBlLmcuIGEgSlNPTiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgbWFuZ28gcXVlcmllc1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGlucHV0KTtcbiAgfVxufVxuXG4vKiBjcmVhdGUgYSBzdHJpbmcgc2lnbmF0dXJlIGZvciBhIHZpZXcgc28gd2UgY2FuIGNhY2hlIGl0IGFuZCB1bmlxIGl0ICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKSB7XG4gIC8vIHRoZSBcInVuZGVmaW5lZFwiIHBhcnQgaXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIHJldHVybiBzdHJpbmdpZnkobWFwRnVuKSArIHN0cmluZ2lmeShyZWR1Y2VGdW4pICsgJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVZpZXcoc291cmNlREIsIHZpZXdOYW1lLCBtYXBGdW4sIHJlZHVjZUZ1biwgdGVtcG9yYXJ5LCBsb2NhbERvY05hbWUpIHtcbiAgdmFyIHZpZXdTaWduYXR1cmUgPSBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKTtcblxuICB2YXIgY2FjaGVkVmlld3M7XG4gIGlmICghdGVtcG9yYXJ5KSB7XG4gICAgLy8gY2FjaGUgdGhpcyB0byBlbnN1cmUgd2UgZG9uJ3QgdHJ5IHRvIHVwZGF0ZSB0aGUgc2FtZSB2aWV3IHR3aWNlXG4gICAgY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgfHwge307XG4gICAgaWYgKGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdKSB7XG4gICAgICByZXR1cm4gY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb21pc2VGb3JWaWV3ID0gc291cmNlREIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcblxuICAgIHZhciBkZXBEYk5hbWUgPSBpbmZvLmRiX25hbWUgKyAnLW1ydmlldy0nICtcbiAgICAgICh0ZW1wb3JhcnkgPyAndGVtcCcgOiBzdHJpbmdNZDUodmlld1NpZ25hdHVyZSkpO1xuXG4gICAgLy8gc2F2ZSB0aGUgdmlldyBuYW1lIGluIHRoZSBzb3VyY2UgZGIgc28gaXQgY2FuIGJlIGNsZWFuZWQgdXAgaWYgbmVjZXNzYXJ5XG4gICAgLy8gKGUuZy4gd2hlbiB0aGUgX2Rlc2lnbiBkb2MgaXMgZGVsZXRlZCwgcmVtb3ZlIGFsbCBhc3NvY2lhdGVkIHZpZXcgZGF0YSlcbiAgICBmdW5jdGlvbiBkaWZmRnVuY3Rpb24oZG9jKSB7XG4gICAgICBkb2Mudmlld3MgPSBkb2Mudmlld3MgfHwge307XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICBpZiAoZnVsbFZpZXdOYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEpIHtcbiAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXBEYnMgPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdIHx8IHt9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZGVwRGJzW2RlcERiTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuOyAvLyBubyB1cGRhdGUgbmVjZXNzYXJ5XG4gICAgICB9XG4gICAgICBkZXBEYnNbZGVwRGJOYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KHNvdXJjZURCLCAnX2xvY2FsLycgKyBsb2NhbERvY05hbWUsIGRpZmZGdW5jdGlvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc291cmNlREIucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZShkZXBEYk5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgZGIgPSByZXMuZGI7XG4gICAgICAgIGRiLmF1dG9fY29tcGFjdGlvbiA9IHRydWU7XG4gICAgICAgIHZhciB2aWV3ID0ge1xuICAgICAgICAgIG5hbWU6IGRlcERiTmFtZSxcbiAgICAgICAgICBkYjogZGIsXG4gICAgICAgICAgc291cmNlREI6IHNvdXJjZURCLFxuICAgICAgICAgIGFkYXB0ZXI6IHNvdXJjZURCLmFkYXB0ZXIsXG4gICAgICAgICAgbWFwRnVuOiBtYXBGdW4sXG4gICAgICAgICAgcmVkdWNlRnVuOiByZWR1Y2VGdW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KCdfbG9jYWwvbGFzdFNlcScpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgICAgdmlldy5zZXEgPSBsYXN0U2VxRG9jID8gbGFzdFNlcURvYy5zZXEgOiAwO1xuICAgICAgICAgIGlmIChjYWNoZWRWaWV3cykge1xuICAgICAgICAgICAgdmlldy5kYi5vbmNlKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0gPSBwcm9taXNlRm9yVmlldztcbiAgfVxuICByZXR1cm4gcHJvbWlzZUZvclZpZXc7XG59XG5cbnZhciBwZXJzaXN0ZW50UXVldWVzID0ge307XG52YXIgdGVtcFZpZXdRdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xudmFyIENIQU5HRVNfQkFUQ0hfU0laRSQxID0gNTA7XG5cbmZ1bmN0aW9uIHBhcnNlVmlld05hbWUobmFtZSkge1xuICAvLyBjYW4gYmUgZWl0aGVyICdkZG9jbmFtZS92aWV3bmFtZScgb3IganVzdCAndmlld25hbWUnXG4gIC8vICh3aGVyZSB0aGUgZGRvYyBuYW1lIGlzIHRoZSBzYW1lKVxuICByZXR1cm4gbmFtZS5pbmRleE9mKCcvJykgPT09IC0xID8gW25hbWUsIG5hbWVdIDogbmFtZS5zcGxpdCgnLycpO1xufVxuXG5mdW5jdGlvbiBpc0dlbk9uZShjaGFuZ2VzKSB7XG4gIC8vIG9ubHkgcmV0dXJuIHRydWUgaWYgdGhlIGN1cnJlbnQgY2hhbmdlIGlzIDEtXG4gIC8vIGFuZCB0aGVyZSBhcmUgbm8gb3RoZXIgbGVhZnNcbiAgcmV0dXJuIGNoYW5nZXMubGVuZ3RoID09PSAxICYmIC9eMS0vLnRlc3QoY2hhbmdlc1swXS5yZXYpO1xufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3IoZGIsIGUpIHtcbiAgdHJ5IHtcbiAgICBkYi5lbWl0KCdlcnJvcicsIGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLFxuICAgICAgJ1RoZSB1c2VyXFwncyBtYXAvcmVkdWNlIGZ1bmN0aW9uIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yLlxcbicgK1xuICAgICAgJ1lvdSBjYW4gZGVidWcgdGhpcyBlcnJvciBieSBkb2luZzpcXG4nICtcbiAgICAgICdteURhdGFiYXNlLm9uKFxcJ2Vycm9yXFwnLCBmdW5jdGlvbiAoZXJyKSB7IGRlYnVnZ2VyOyB9KTtcXG4nICtcbiAgICAgICdQbGVhc2UgZG91YmxlLWNoZWNrIHlvdXIgbWFwL3JlZHVjZSBmdW5jdGlvbi4nKTtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYW4gXCJhYnN0cmFjdFwiIG1hcHJlZHVjZSBvYmplY3Qgb2YgdGhlIGZvcm06XG4gKlxuICogICB7XG4gKiAgICAgcXVlcnk6IHF1ZXJ5RnVuLFxuICogICAgIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cEZ1blxuICogICB9XG4gKlxuICogQXJndW1lbnRzIGFyZTpcbiAqXG4gKiBsb2NhbERvYzogc3RyaW5nXG4gKiAgIFRoaXMgaXMgZm9yIHRoZSBsb2NhbCBkb2MgdGhhdCBnZXRzIHNhdmVkIGluIG9yZGVyIHRvIHRyYWNrIHRoZVxuICogICBcImRlcGVuZGVudFwiIERCcyBhbmQgY2xlYW4gdGhlbSB1cCBmb3Igdmlld0NsZWFudXAuIEl0IHNob3VsZCBiZVxuICogICB1bmlxdWUsIHNvIHRoYXQgaW5kZXhlciBwbHVnaW5zIGRvbid0IGNvbGxpZGUgd2l0aCBlYWNoIG90aGVyLlxuICogbWFwcGVyOiBmdW5jdGlvbiAobWFwRnVuRGVmLCBlbWl0KVxuICogICBSZXR1cm5zIGEgbWFwIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSBtYXBGdW5EZWYsIHdoaWNoIGluIHRoZSBjYXNlIG9mXG4gKiAgIG5vcm1hbCBtYXAvcmVkdWNlIGlzIGp1c3QgdGhlIGRlLXN0cmluZ2lmaWVkIGZ1bmN0aW9uLCBidXQgbWF5IGJlXG4gKiAgIHNvbWV0aGluZyBlbHNlLCBzdWNoIGFzIGFuIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBwb3VjaGRiLWZpbmQuXG4gKiByZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlRnVuRGVmKVxuICogICBEaXR0bywgYnV0IGZvciByZWR1Y2luZy4gTW9kdWxlcyBkb24ndCBoYXZlIHRvIHN1cHBvcnQgcmVkdWNpbmdcbiAqICAgKGUuZy4gcG91Y2hkYi1maW5kKS5cbiAqIGRkb2NWYWxpZGF0b3I6IGZ1bmN0aW9uIChkZG9jLCB2aWV3TmFtZSlcbiAqICAgVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBkZG9jIG9yIHZpZXdOYW1lIGlzIG5vdCB2YWxpZC5cbiAqICAgVGhpcyBjb3VsZCBiZSBhIHdheSB0byBjb21tdW5pY2F0ZSB0byB0aGUgdXNlciB0aGF0IHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGVcbiAqICAgaW5kZXhlciBpcyBpbnZhbGlkLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcikge1xuXG4gIGZ1bmN0aW9uIHRyeU1hcChkYiwgZnVuLCBkb2MpIHtcbiAgICAvLyBlbWl0IGFuIGV2ZW50IGlmIHRoZXJlIHdhcyBhbiBlcnJvciB0aHJvd24gYnkgYSBtYXAgZnVuY3Rpb24uXG4gICAgLy8gcHV0dGluZyB0cnkvY2F0Y2hlcyBpbiBhIHNpbmdsZSBmdW5jdGlvbiBhbHNvIGF2b2lkcyBkZW9wdGltaXphdGlvbnMuXG4gICAgdHJ5IHtcbiAgICAgIGZ1bihkb2MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5UmVkdWNlKGRiLCBmdW4sIGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpIHtcbiAgICAvLyBzYW1lIGFzIGFib3ZlLCBidXQgcmV0dXJuaW5nIHRoZSByZXN1bHQgb3IgYW4gZXJyb3IuIHRoZXJlIGFyZSB0d28gc2VwYXJhdGVcbiAgICAvLyBmdW5jdGlvbnMgdG8gYXZvaWQgZXh0cmEgbWVtb3J5IGFsbG9jYXRpb25zIHNpbmNlIHRoZSB0cnlDb2RlKCkgY2FzZSBpcyB1c2VkXG4gICAgLy8gZm9yIGN1c3RvbSBtYXAgZnVuY3Rpb25zIChjb21tb24pIHZzIHRoaXMgZnVuY3Rpb24sIHdoaWNoIGlzIG9ubHkgdXNlZCBmb3JcbiAgICAvLyBjdXN0b20gcmVkdWNlIGZ1bmN0aW9ucyAocmFyZSlcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtvdXRwdXQgOiBmdW4oa2V5cywgdmFsdWVzLCByZXJlZHVjZSl9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzb3J0QnlLZXlUaGVuVmFsdWUoeCwgeSkge1xuICAgIHZhciBrZXlDb21wYXJlID0gY29sbGF0ZSh4LmtleSwgeS5rZXkpO1xuICAgIHJldHVybiBrZXlDb21wYXJlICE9PSAwID8ga2V5Q29tcGFyZSA6IGNvbGxhdGUoeC52YWx1ZSwgeS52YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbGljZVJlc3VsdHMocmVzdWx0cywgbGltaXQsIHNraXApIHtcbiAgICBza2lwID0gc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2YgbGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwLCBsaW1pdCArIHNraXApO1xuICAgIH0gZWxzZSBpZiAoc2tpcCA+IDApIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJvd1RvRG9jSWQocm93KSB7XG4gICAgdmFyIHZhbCA9IHJvdy52YWx1ZTtcbiAgICAvLyBVc2VycyBjYW4gZXhwbGljaXRseSBzcGVjaWZ5IGEgam9pbmVkIGRvYyBfaWQsIG9yIGl0XG4gICAgLy8gZGVmYXVsdHMgdG8gdGhlIGRvYyBfaWQgdGhhdCBlbWl0dGVkIHRoZSBrZXkvdmFsdWUuXG4gICAgdmFyIGRvY0lkID0gKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwuX2lkKSB8fCByb3cuaWQ7XG4gICAgcmV0dXJuIGRvY0lkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKSB7XG4gICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICB2YXIgYXR0cyA9IHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHM7XG4gICAgICBpZiAoIWF0dHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICBhdHRzW2ZpbGVuYW1lXS5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRIdHRwUGFyYW0ocGFyYW1OYW1lLCBvcHRzLCBwYXJhbXMsIGFzSnNvbikge1xuICAgIC8vIGFkZCBhbiBodHRwIHBhcmFtIGZyb20gb3B0cyB0byBwYXJhbXMsIG9wdGlvbmFsbHkganNvbi1lbmNvZGVkXG4gICAgdmFyIHZhbCA9IG9wdHNbcGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChhc0pzb24pIHtcbiAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgdmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VJbnRlZ2VyKGludGVnZXJDYW5kaWRhdGUpIHtcbiAgICBpZiAodHlwZW9mIGludGVnZXJDYW5kaWRhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXNOdW1iZXIgPSBOdW1iZXIoaW50ZWdlckNhbmRpZGF0ZSk7XG4gICAgICAvLyBwcmV2ZW50cyBlLmcuICcxZm9vJyBvciAnMS4xJyBiZWluZyBjb2VyY2VkIHRvIDFcbiAgICAgIGlmICghaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID09PSBwYXJzZUludChpbnRlZ2VyQ2FuZGlkYXRlLCAxMCkpIHtcbiAgICAgICAgcmV0dXJuIGFzTnVtYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludGVnZXJDYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlT3B0aW9ucyhvcHRzKSB7XG4gICAgb3B0cy5ncm91cF9sZXZlbCA9IGNvZXJjZUludGVnZXIob3B0cy5ncm91cF9sZXZlbCk7XG4gICAgb3B0cy5saW1pdCA9IGNvZXJjZUludGVnZXIob3B0cy5saW1pdCk7XG4gICAgb3B0cy5za2lwID0gY29lcmNlSW50ZWdlcihvcHRzLnNraXApO1xuICAgIHJldHVybiBvcHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tQb3NpdGl2ZUludGVnZXIobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlcikge1xuICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAgbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgaW50ZWdlcjogXCInICtcbiAgICAgICAgICBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBwb3NpdGl2ZSBpbnRlZ2VyOiAnICtcbiAgICAgICAgICAnXCInICsgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0aW9ucywgZnVuKSB7XG4gICAgdmFyIHN0YXJ0a2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdlbmRrZXknIDogJ3N0YXJ0a2V5JztcbiAgICB2YXIgZW5ka2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdzdGFydGtleScgOiAnZW5ka2V5JztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tzdGFydGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIG9wdGlvbnNbZW5ka2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBjb2xsYXRlKG9wdGlvbnNbc3RhcnRrZXlOYW1lXSwgb3B0aW9uc1tlbmRrZXlOYW1lXSkgPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdObyByb3dzIGNhbiBtYXRjaCB5b3VyIGtleSByYW5nZSwgJyArXG4gICAgICAgICdyZXZlcnNlIHlvdXIgc3RhcnRfa2V5IGFuZCBlbmRfa2V5IG9yIHNldCB7ZGVzY2VuZGluZyA6IHRydWV9Jyk7XG4gICAgfSBlbHNlIGlmIChmdW4ucmVkdWNlICYmIG9wdGlvbnMucmVkdWNlICE9PSBmYWxzZSkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ3tpbmNsdWRlX2RvY3M6dHJ1ZX0gaXMgaW52YWxpZCBmb3IgcmVkdWNlJyk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMubGVuZ3RoID4gMSAmJlxuICAgICAgICAhb3B0aW9ucy5ncm91cCAmJiAhb3B0aW9ucy5ncm91cF9sZXZlbCkge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdNdWx0aS1rZXkgZmV0Y2hlcyBmb3IgcmVkdWNlIHZpZXdzIG11c3QgdXNlICcgK1xuICAgICAgICAgICd7Z3JvdXA6IHRydWV9Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIFsnZ3JvdXBfbGV2ZWwnLCAnbGltaXQnLCAnc2tpcCddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbk5hbWUpIHtcbiAgICAgIHZhciBlcnJvciA9IGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG9wdGlvbnNbb3B0aW9uTmFtZV0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBQVVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIG9rLCBzdGF0dXM7XG5cbiAgICAvLyBJZiBvcHRzLnJlZHVjZSBleGlzdHMgYW5kIGlzIGRlZmluZWQsIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgLy8gb2YgcGFyYW1ldGVycy5cbiAgICAvLyBJZiByZWR1Y2U9ZmFsc2UgdGhlbiB0aGUgcmVzdWx0cyBhcmUgdGhhdCBvZiBvbmx5IHRoZSBtYXAgZnVuY3Rpb25cbiAgICAvLyBub3QgdGhlIGZpbmFsIHJlc3VsdCBvZiBtYXAgYW5kIHJlZHVjZS5cbiAgICBhZGRIdHRwUGFyYW0oJ3JlZHVjZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdWRlX2RvY3MnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnYXR0YWNobWVudHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnbGltaXQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZGVzY2VuZGluZycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cF9sZXZlbCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdza2lwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YWxlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2NvbmZsaWN0cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5ka2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVzaXZlX2VuZCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgndXBkYXRlX3NlcScsIG9wdHMsIHBhcmFtcyk7XG5cbiAgICAvLyBGb3JtYXQgdGhlIGxpc3Qgb2YgcGFyYW1ldGVycyBpbnRvIGEgdmFsaWQgVVJJIHF1ZXJ5IHN0cmluZ1xuICAgIHBhcmFtcyA9IHBhcmFtcy5qb2luKCcmJyk7XG4gICAgcGFyYW1zID0gcGFyYW1zID09PSAnJyA/ICcnIDogJz8nICsgcGFyYW1zO1xuXG4gICAgLy8gSWYga2V5cyBhcmUgc3VwcGxpZWQsIGlzc3VlIGEgUE9TVCB0byBjaXJjdW12ZW50IEdFVCBxdWVyeSBzdHJpbmcgbGltaXRzXG4gICAgLy8gc2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IVFRQX3ZpZXdfQVBJI1F1ZXJ5aW5nX09wdGlvbnNcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBNQVhfVVJMX0xFTkdUSCA9IDIwMDA7XG4gICAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDE3MTg0LzY4MDc0MixcbiAgICAgIC8vIHRoZSBkZSBmYWN0byBVUkwgbGVuZ3RoIGxpbWl0IGlzIDIwMDAgY2hhcmFjdGVyc1xuXG4gICAgICB2YXIga2V5c0FzU3RyaW5nID1cbiAgICAgICAgJ2tleXM9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLmtleXMpKTtcbiAgICAgIGlmIChrZXlzQXNTdHJpbmcubGVuZ3RoICsgcGFyYW1zLmxlbmd0aCArIDEgPD0gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICAgICAgLy8gSWYgdGhlIGtleXMgYXJlIHNob3J0IGVub3VnaCwgZG8gYSBHRVQuIHdlIGRvIHRoaXMgdG8gd29yayBhcm91bmRcbiAgICAgICAgLy8gU2FmYXJpIG5vdCB1bmRlcnN0YW5kaW5nIDMwNHMgb24gUE9TVHMgKHNlZSBwb3VjaGRiL3BvdWNoZGIjMTIzOSlcbiAgICAgICAgcGFyYW1zICs9IChwYXJhbXNbMF0gPT09ICc/JyA/ICcmJyA6ICc/JykgKyBrZXlzQXNTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZnVuIGlzIHttYXAgOiBtYXBmdW59LCBzbyBhcHBlbmQgdG8gdGhpc1xuICAgICAgICAgIGZ1bi5rZXlzID0gb3B0cy5rZXlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHJlZmVyZW5jaW5nIGEgcXVlcnkgZGVmaW5lZCBpbiB0aGUgZGVzaWduIGRvY1xuICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdW4pO1xuICAgICAgcmV0dXJuIGRiLmZldGNoKCdfZGVzaWduLycgKyBwYXJ0c1swXSArICcvX3ZpZXcvJyArIHBhcnRzWzFdICsgcGFyYW1zLCB7XG4gICAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWlsIHRoZSBlbnRpcmUgcmVxdWVzdCBpZiB0aGUgcmVzdWx0IGNvbnRhaW5zIGFuIGVycm9yXG4gICAgICAgIHJlc3VsdC5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChyb3cudmFsdWUgJiYgcm93LnZhbHVlLmVycm9yICYmIHJvdy52YWx1ZS5lcnJvciA9PT0gXCJidWlsdGluX3JlZHVjZV9lcnJvclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocm93LnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHVzaW5nIGEgdGVtcG9yYXJ5IHZpZXcsIHRlcnJpYmxlIGZvciBwZXJmb3JtYW5jZSwgZ29vZCBmb3IgdGVzdGluZ1xuICAgIGJvZHkgPSBib2R5IHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGZ1bikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmdW5ba2V5XSkpIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdGVtcF92aWV3JyArIHBhcmFtcywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKCFvaykge1xuICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl9xdWVyeVxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fcXVlcnkoZnVuLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3ZpZXdDbGVhbnVwXG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21WaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fdmlld0NsZWFudXAoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0c1RvKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocmVhc29uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gcmV0dXJucyBhIHByb21pc2UgZm9yIGEgbGlzdCBvZiBkb2NzIHRvIHVwZGF0ZSwgYmFzZWQgb24gdGhlIGlucHV0IGRvY0lkLlxuICAvLyB0aGUgb3JkZXIgZG9lc24ndCBtYXR0ZXIsIGJlY2F1c2UgcG9zdC0zLjIuMCwgYnVsa0RvY3NcbiAgLy8gaXMgYW4gYXRvbWljIG9wZXJhdGlvbiBpbiBhbGwgdGhyZWUgYWRhcHRlcnMuXG4gIGZ1bmN0aW9uIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKSB7XG4gICAgdmFyIG1ldGFEb2NJZCA9ICdfbG9jYWwvZG9jXycgKyBkb2NJZDtcbiAgICB2YXIgZGVmYXVsdE1ldGFEb2MgPSB7X2lkOiBtZXRhRG9jSWQsIGtleXM6IFtdfTtcbiAgICB2YXIgZG9jRGF0YSA9IGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLmdldChkb2NJZCk7XG4gICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGRvY0RhdGFbMF07XG4gICAgdmFyIGNoYW5nZXMgPSBkb2NEYXRhWzFdO1xuXG4gICAgZnVuY3Rpb24gZ2V0TWV0YURvYygpIHtcbiAgICAgIGlmIChpc0dlbk9uZShjaGFuZ2VzKSkge1xuICAgICAgICAvLyBnZW5lcmF0aW9uIDEsIHNvIHdlIGNhbiBzYWZlbHkgYXNzdW1lIGluaXRpYWwgc3RhdGVcbiAgICAgICAgLy8gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKGF2b2lkcyB1bm5lY2Vzc2FyeSBHRVRzKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRNZXRhRG9jKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmdldChtZXRhRG9jSWQpLmNhdGNoKGRlZmF1bHRzVG8oZGVmYXVsdE1ldGFEb2MpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykge1xuICAgICAgaWYgKCFtZXRhRG9jLmtleXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIG5vIGtleXMsIG5vIG5lZWQgZm9yIGEgbG9va3VwXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3Jvd3M6IFtdfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHtcbiAgICAgICAga2V5czogbWV0YURvYy5rZXlzLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKSB7XG4gICAgICB2YXIga3ZEb2NzID0gW107XG4gICAgICB2YXIgb2xkS2V5cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0ga3ZEb2NzUmVzLnJvd3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IGt2RG9jc1Jlcy5yb3dzW2ldO1xuICAgICAgICB2YXIgZG9jID0gcm93LmRvYztcbiAgICAgICAgaWYgKCFkb2MpIHsgLy8gZGVsZXRlZFxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGt2RG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIG9sZEtleXMuYWRkKGRvYy5faWQpO1xuICAgICAgICBkb2MuX2RlbGV0ZWQgPSAhaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmhhcyhkb2MuX2lkKTtcbiAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGRvYy5faWQpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBkb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBuZXdLZXlzID0gbWFwVG9LZXlzQXJyYXkoaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKTtcbiAgICAgIG5ld0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghb2xkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgIC8vIG5ldyBkb2NcbiAgICAgICAgICB2YXIga3ZEb2MgPSB7XG4gICAgICAgICAgICBfaWQ6IGtleVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBrdkRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrdkRvY3MucHVzaChrdkRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWV0YURvYy5rZXlzID0gdW5pcShuZXdLZXlzLmNvbmNhdChtZXRhRG9jLmtleXMpKTtcbiAgICAgIGt2RG9jcy5wdXNoKG1ldGFEb2MpO1xuXG4gICAgICByZXR1cm4ga3ZEb2NzO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRNZXRhRG9jKCkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgcmV0dXJuIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKS50aGVuKGZ1bmN0aW9uIChrdkRvY3NSZXMpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXBkYXRlcyBhbGwgZW1pdHRlZCBrZXkvdmFsdWUgZG9jcyBhbmQgbWV0YURvY3MgaW4gdGhlIG1ydmlldyBkYXRhYmFzZVxuICAvLyBmb3IgdGhlIGdpdmVuIGJhdGNoIG9mIGRvY3VtZW50cyBmcm9tIHRoZSBzb3VyY2UgZGF0YWJhc2VcbiAgZnVuY3Rpb24gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgdmFyIHNlcURvY0lkID0gJ19sb2NhbC9sYXN0U2VxJztcbiAgICByZXR1cm4gdmlldy5kYi5nZXQoc2VxRG9jSWQpXG4gICAgICAuY2F0Y2goZGVmYXVsdHNUbyh7X2lkOiBzZXFEb2NJZCwgc2VxOiAwfSkpXG4gICAgICAudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICB2YXIgZG9jSWRzID0gbWFwVG9LZXlzQXJyYXkoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jSWRzLm1hcChmdW5jdGlvbiAoZG9jSWQpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAobGlzdE9mRG9jc1RvUGVyc2lzdCkge1xuICAgICAgICAgIHZhciBkb2NzVG9QZXJzaXN0ID0gZmxhdHRlbihsaXN0T2ZEb2NzVG9QZXJzaXN0KTtcbiAgICAgICAgICBsYXN0U2VxRG9jLnNlcSA9IHNlcTtcbiAgICAgICAgICBkb2NzVG9QZXJzaXN0LnB1c2gobGFzdFNlcURvYyk7XG4gICAgICAgICAgLy8gd3JpdGUgYWxsIGRvY3MgaW4gYSBzaW5nbGUgb3BlcmF0aW9uLCB1cGRhdGUgdGhlIHNlcSBvbmNlXG4gICAgICAgICAgcmV0dXJuIHZpZXcuZGIuYnVsa0RvY3Moe2RvY3MgOiBkb2NzVG9QZXJzaXN0fSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWV1ZSh2aWV3KSB7XG4gICAgdmFyIHZpZXdOYW1lID0gdHlwZW9mIHZpZXcgPT09ICdzdHJpbmcnID8gdmlldyA6IHZpZXcubmFtZTtcbiAgICB2YXIgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXTtcbiAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG4gICAgfVxuICAgIHJldHVybiBxdWV1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICAvLyBiaW5kIHRoZSBlbWl0IGZ1bmN0aW9uIG9uY2VcbiAgICB2YXIgbWFwUmVzdWx0cztcbiAgICB2YXIgZG9jO1xuXG4gICAgZnVuY3Rpb24gZW1pdChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb3V0cHV0ID0ge2lkOiBkb2MuX2lkLCBrZXk6IG5vcm1hbGl6ZUtleShrZXkpfTtcbiAgICAgIC8vIERvbid0IGV4cGxpY2l0bHkgc3RvcmUgdGhlIHZhbHVlIHVubGVzcyBpdCdzIGRlZmluZWQgYW5kIG5vbi1udWxsLlxuICAgICAgLy8gVGhpcyBzYXZlcyBvbiBzdG9yYWdlIHNwYWNlLCBiZWNhdXNlIG9mdGVuIHBlb3BsZSBkb24ndCB1c2UgaXQuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBvdXRwdXQudmFsdWUgPSBub3JtYWxpemVLZXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgbWFwUmVzdWx0cy5wdXNoKG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIG1hcEZ1biA9IG1hcHBlcih2aWV3Lm1hcEZ1biwgZW1pdCk7XG5cbiAgICB2YXIgY3VycmVudFNlcSA9IHZpZXcuc2VxIHx8IDA7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgaW5kZXhlZF9kb2NzID0gMDtcbiAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgIH07XG4gICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcblxuICAgIHZhciBxdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc05leHRCYXRjaCgpIHtcbiAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmNoYW5nZXMoe1xuICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSxcbiAgICAgICAgY29uZmxpY3RzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgIHN0eWxlOiAnYWxsX2RvY3MnLFxuICAgICAgICBzaW5jZTogY3VycmVudFNlcSxcbiAgICAgICAgbGltaXQ6IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplXG4gICAgICB9KS50aGVuKHByb2Nlc3NCYXRjaCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IHJlc3BvbnNlLnJlc3VsdHM7XG4gICAgICBpZiAoIXJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpO1xuICAgICAgcXVldWUuYWRkKHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIGN1cnJlbnRTZXEpKTtcblxuICAgICAgaW5kZXhlZF9kb2NzID0gaW5kZXhlZF9kb2NzICsgcmVzdWx0cy5sZW5ndGg7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgICAgbGFzdF9zZXE6IHJlc3BvbnNlLmxhc3Rfc2VxLFxuICAgICAgICByZXN1bHRzX2NvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICAgIH07XG4gICAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpIHtcbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IHJlc3VsdHNbaV07XG4gICAgICAgIGlmIChjaGFuZ2UuZG9jLl9pZFswXSAhPT0gJ18nKSB7XG4gICAgICAgICAgbWFwUmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGRvYyA9IGNoYW5nZS5kb2M7XG5cbiAgICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgICAgdHJ5TWFwKHZpZXcuc291cmNlREIsIG1hcEZ1biwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwUmVzdWx0cy5zb3J0KHNvcnRCeUtleVRoZW5WYWx1ZSk7XG5cbiAgICAgICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpO1xuICAgICAgICAgIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLnNldChjaGFuZ2UuZG9jLl9pZCwgW1xuICAgICAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLFxuICAgICAgICAgICAgY2hhbmdlLmNoYW5nZXNcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U2VxID0gY2hhbmdlLnNlcTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cykge1xuICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgdmFyIGxhc3RLZXk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWFwUmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZW1pdHRlZEtleVZhbHVlID0gbWFwUmVzdWx0c1tpXTtcbiAgICAgICAgdmFyIGNvbXBsZXhLZXkgPSBbZW1pdHRlZEtleVZhbHVlLmtleSwgZW1pdHRlZEtleVZhbHVlLmlkXTtcbiAgICAgICAgaWYgKGkgPiAwICYmIGNvbGxhdGUoZW1pdHRlZEtleVZhbHVlLmtleSwgbGFzdEtleSkgPT09IDApIHtcbiAgICAgICAgICBjb21wbGV4S2V5LnB1c2goaSk7IC8vIGR1cCBrZXkraWQsIHNvIG1ha2UgaXQgdW5pcXVlXG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLnNldCh0b0luZGV4YWJsZVN0cmluZyhjb21wbGV4S2V5KSwgZW1pdHRlZEtleVZhbHVlKTtcbiAgICAgICAgbGFzdEtleSA9IGVtaXR0ZWRLZXlWYWx1ZS5rZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVldWUuZmluaXNoKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2aWV3LnNlcSA9IGN1cnJlbnRTZXE7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWR1Y2VWaWV3KHZpZXcsIHJlc3VsdHMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5ncm91cF9sZXZlbCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZEdyb3VwID0gb3B0aW9ucy5ncm91cCB8fCBvcHRpb25zLmdyb3VwX2xldmVsO1xuXG4gICAgdmFyIHJlZHVjZUZ1biA9IHJlZHVjZXIodmlldy5yZWR1Y2VGdW4pO1xuXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgIHZhciBsdmwgPSBpc05hTihvcHRpb25zLmdyb3VwX2xldmVsKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6XG4gICAgICBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGxhc3QgPSBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGdyb3VwS2V5ID0gc2hvdWxkR3JvdXAgPyBlLmtleSA6IG51bGw7XG5cbiAgICAgIC8vIG9ubHkgc2V0IGdyb3VwX2xldmVsIGZvciBhcnJheSBrZXlzXG4gICAgICBpZiAoc2hvdWxkR3JvdXAgJiYgQXJyYXkuaXNBcnJheShncm91cEtleSkpIHtcbiAgICAgICAgZ3JvdXBLZXkgPSBncm91cEtleS5zbGljZSgwLCBsdmwpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdCAmJiBjb2xsYXRlKGxhc3QuZ3JvdXBLZXksIGdyb3VwS2V5KSA9PT0gMCkge1xuICAgICAgICBsYXN0LmtleXMucHVzaChbZS5rZXksIGUuaWRdKTtcbiAgICAgICAgbGFzdC52YWx1ZXMucHVzaChlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXlzOiBbW2Uua2V5LCBlLmlkXV0sXG4gICAgICAgIHZhbHVlczogW2UudmFsdWVdLFxuICAgICAgICBncm91cEtleTogZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZSA9IGdyb3Vwc1tpXTtcbiAgICAgIHZhciByZWR1Y2VUcnkgPSB0cnlSZWR1Y2Uodmlldy5zb3VyY2VEQiwgcmVkdWNlRnVuLCBlLmtleXMsIGUudmFsdWVzLCBmYWxzZSk7XG4gICAgICBpZiAocmVkdWNlVHJ5LmVycm9yICYmIHJlZHVjZVRyeS5lcnJvciBpbnN0YW5jZW9mIEJ1aWx0SW5FcnJvcikge1xuICAgICAgICAvLyBDb3VjaERCIHJldHVybnMgYW4gZXJyb3IgaWYgYSBidWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHRocm93IHJlZHVjZVRyeS5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIC8vIENvdWNoREIganVzdCBzZXRzIHRoZSB2YWx1ZSB0byBudWxsIGlmIGEgbm9uLWJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdmFsdWU6IHJlZHVjZVRyeS5lcnJvciA/IG51bGwgOiByZWR1Y2VUcnkub3V0cHV0LFxuICAgICAgICBrZXk6IGUuZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBubyB0b3RhbF9yb3dzL29mZnNldCB3aGVuIHJlZHVjaW5nXG4gICAgcmV0dXJuIHtyb3dzOiBzbGljZVJlc3VsdHMocmVzdWx0cywgb3B0aW9ucy5saW1pdCwgb3B0aW9ucy5za2lwKX07XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgdmFyIHRvdGFsUm93cztcbiAgICB2YXIgc2hvdWxkUmVkdWNlID0gdmlldy5yZWR1Y2VGdW4gJiYgb3B0cy5yZWR1Y2UgIT09IGZhbHNlO1xuICAgIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnICYmICFvcHRzLmtleXMubGVuZ3RoKSB7XG4gICAgICAvLyBlcXVpdmFsZW50IHF1ZXJ5XG4gICAgICBvcHRzLmxpbWl0ID0gMDtcbiAgICAgIGRlbGV0ZSBvcHRzLmtleXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykge1xuICAgICAgdmlld09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Modmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB0b3RhbFJvd3MgPSByZXMudG90YWxfcm93cztcbiAgICAgICAgcmV0dXJuIHJlcy5yb3dzLm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XG5cbiAgICAgICAgICAvLyBpbXBsaWNpdCBtaWdyYXRpb24gLSBpbiBvbGRlciB2ZXJzaW9ucyBvZiBQb3VjaERCLFxuICAgICAgICAgIC8vIHdlIGV4cGxpY2l0bHkgc3RvcmVkIHRoZSBkb2MgYXMge2lkOiAuLi4sIGtleTogLi4uLCB2YWx1ZTogLi4ufVxuICAgICAgICAgIC8vIHRoaXMgaXMgdGVzdGVkIGluIGEgbWlncmF0aW9uIHRlc3RcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIHJlc3VsdC5kb2MgJiYgdHlwZW9mIHJlc3VsdC5kb2MudmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICByZXN1bHQuZG9jLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdC5kb2MudmFsdWUpLnNvcnQoKTtcbiAgICAgICAgICAgIC8vIHRoaXMgZGV0ZWN0aW9uIG1ldGhvZCBpcyBub3QgcGVyZmVjdCwgYnV0IGl0J3MgdW5saWtlbHkgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGVtaXR0ZWQgYSB2YWx1ZSB3aGljaCB3YXMgYW4gb2JqZWN0IHdpdGggdGhlc2UgMyBleGFjdCBrZXlzXG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRLZXlzID0gWydpZCcsICdrZXknLCAndmFsdWUnXTtcbiAgICAgICAgICAgIGlmICghKGtleXMgPCBleHBlY3RlZEtleXMgfHwga2V5cyA+IGV4cGVjdGVkS2V5cykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb2MudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHBhcnNlZEtleUFuZERvY0lkID0gcGFyc2VJbmRleGFibGVTdHJpbmcocmVzdWx0LmRvYy5faWQpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IHBhcnNlZEtleUFuZERvY0lkWzBdLFxuICAgICAgICAgICAgaWQ6IHBhcnNlZEtleUFuZERvY0lkWzFdLFxuICAgICAgICAgICAgdmFsdWU6ICgndmFsdWUnIGluIHJlc3VsdC5kb2MgPyByZXN1bHQuZG9jLnZhbHVlIDogbnVsbClcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWFwUmVzdWx0c1JlYWR5KHJvd3MpIHtcbiAgICAgIHZhciBmaW5hbFJlc3VsdHM7XG4gICAgICBpZiAoc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHJlZHVjZVZpZXcodmlldywgcm93cywgb3B0cyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLmtleXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHJvd3NcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN1cHBvcnQgbGltaXQsIHNraXAgZm9yIGtleXMgcXVlcnlcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogc2xpY2VSZXN1bHRzKHJvd3Msb3B0cy5saW1pdCxvcHRzLnNraXApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzLnVwZGF0ZV9zZXEgPSB2aWV3LnNlcTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB2YXIgZG9jSWRzID0gdW5pcShyb3dzLm1hcChyb3dUb0RvY0lkKSk7XG5cbiAgICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuYWxsRG9jcyh7XG4gICAgICAgICAga2V5czogZG9jSWRzLFxuICAgICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgICBjb25mbGljdHM6IG9wdHMuY29uZmxpY3RzLFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWxsRG9jc1Jlcykge1xuICAgICAgICAgIHZhciBkb2NJZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgICAgICBhbGxEb2NzUmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICBkb2NJZHNUb0RvY3Muc2V0KHJvdy5pZCwgcm93LmRvYyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIHZhciBkb2NJZCA9IHJvd1RvRG9jSWQocm93KTtcbiAgICAgICAgICAgIHZhciBkb2MgPSBkb2NJZHNUb0RvY3MuZ2V0KGRvY0lkKTtcbiAgICAgICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgICAgcm93LmRvYyA9IGRvYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIga2V5cyA9IG9wdHMua2V5cztcbiAgICAgIHZhciBmZXRjaFByb21pc2VzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgICAgc3RhcnRrZXkgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5XSksXG4gICAgICAgICAgZW5ka2V5ICAgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5LCB7fV0pXG4gICAgICAgIH07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmV0Y2hQcm9taXNlcykudGhlbihmbGF0dGVuKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgcXVlcnksIG5vICdrZXlzJ1xuICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICBkZXNjZW5kaW5nIDogb3B0cy5kZXNjZW5kaW5nXG4gICAgICB9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0YXJ0a2V5O1xuICAgICAgdmFyIGVuZGtleTtcbiAgICAgIGlmICgnc3RhcnRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ3N0YXJ0a2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydGtleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5kX2tleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZGtleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZGtleTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc3RhcnRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0gb3B0cy5kZXNjZW5kaW5nID9cbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXksIHt9XSkgOlxuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlbmRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgaW5jbHVzaXZlRW5kID0gIWluY2x1c2l2ZUVuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IHRvSW5kZXhhYmxlU3RyaW5nKFxuICAgICAgICAgIGluY2x1c2l2ZUVuZCA/IFtlbmRrZXksIHt9XSA6IFtlbmRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0cy5rZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBrZXlTdGFydCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleV0pO1xuICAgICAgICB2YXIga2V5RW5kID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5LCB7fV0pO1xuICAgICAgICBpZiAodmlld09wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5RW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5RW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNob3VsZFJlZHVjZSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdmlld09wdHMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHZpZXdPcHRzLnNraXAgPSBza2lwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5mZXRjaCgnX3ZpZXdfY2xlYW51cCcsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWxWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5nZXQoJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICB2YXIgZG9jc1RvVmlld3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3MpLmZvckVhY2goZnVuY3Rpb24gKGZ1bGxWaWV3TmFtZSkge1xuICAgICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gJ19kZXNpZ24vJyArIHBhcnRzWzBdO1xuICAgICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgdmFyIHZpZXdzID0gZG9jc1RvVmlld3MuZ2V0KGRlc2lnbkRvY05hbWUpO1xuICAgICAgICBpZiAoIXZpZXdzKSB7XG4gICAgICAgICAgdmlld3MgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcbiAgICAgICAgICBkb2NzVG9WaWV3cy5zZXQoZGVzaWduRG9jTmFtZSwgdmlld3MpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdzLmFkZCh2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICBrZXlzIDogbWFwVG9LZXlzQXJyYXkoZG9jc1RvVmlld3MpLFxuICAgICAgICBpbmNsdWRlX2RvY3MgOiB0cnVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGRiLmFsbERvY3Mob3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciB2aWV3c1RvU3RhdHVzID0ge307XG4gICAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIHZhciBkZG9jTmFtZSA9IHJvdy5rZXkuc3Vic3RyaW5nKDgpOyAvLyBjdXRzIG9mZiAnX2Rlc2lnbi8nXG4gICAgICAgICAgZG9jc1RvVmlld3MuZ2V0KHJvdy5rZXkpLmZvckVhY2goZnVuY3Rpb24gKHZpZXdOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZGRvY05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCFtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdCwgd2l0aG91dCBzbGFzaGVzLCB0byBzdXBwb3J0IFBvdWNoREIgMi4yLjBcbiAgICAgICAgICAgICAgLy8gbWlncmF0aW9uIHRlc3QgaW4gcG91Y2hkYidzIGJyb3dzZXIubWlncmF0aW9uLmpzIHZlcmlmaWVzIHRoaXNcbiAgICAgICAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmlld0RCTmFtZXMgPSBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pO1xuICAgICAgICAgICAgLy8gZGVzaWduIGRvYyBkZWxldGVkLCBvciB2aWV3IGZ1bmN0aW9uIG5vbmV4aXN0ZW50XG4gICAgICAgICAgICB2YXIgc3RhdHVzSXNHb29kID0gcm93LmRvYyAmJiByb3cuZG9jLnZpZXdzICYmXG4gICAgICAgICAgICAgIHJvdy5kb2Mudmlld3Nbdmlld05hbWVdO1xuICAgICAgICAgICAgdmlld0RCTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdID1cbiAgICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdIHx8IHN0YXR1c0lzR29vZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRic1RvRGVsZXRlID0gT2JqZWN0LmtleXModmlld3NUb1N0YXR1cykuZmlsdGVyKFxuICAgICAgICAgIGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7IHJldHVybiAhdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXTsgfSk7XG4gICAgICAgIHZhciBkZXN0cm95UHJvbWlzZXMgPSBkYnNUb0RlbGV0ZS5tYXAoZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3REJOYW1lKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBkYi5jb25zdHJ1Y3Rvcih2aWV3REJOYW1lLCBkYi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRlc3Ryb3lQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHtvazogdHJ1ZX07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSwgZGVmYXVsdHNUbyh7b2s6IHRydWV9KSk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3F1ZXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZVZpZXdPcHRzID0ge1xuICAgICAgY2hhbmdlc19iYXRjaF9zaXplOiBkYi5fX29wdHMudmlld191cGRhdGVfY2hhbmdlc19iYXRjaF9zaXplIHx8IENIQU5HRVNfQkFUQ0hfU0laRSQxXG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgZnVuICE9PSAnc3RyaW5nJykge1xuICAgICAgLy8gdGVtcF92aWV3XG4gICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICB0ZW1wVmlld1F1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gJ3RlbXBfdmlldy90ZW1wX3ZpZXcnLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyB0cnVlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIHJldHVybiBmaW4odXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5kYi5kZXN0cm95KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGVtcFZpZXdRdWV1ZS5maW5pc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcGVyc2lzdGVudCB2aWV3XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZnVuO1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSBwYXJ0c1swXTtcbiAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgcmV0dXJuIGRiLmdldCgnX2Rlc2lnbi8nICsgZGVzaWduRG9jTmFtZSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBmdW4gPSBkb2Mudmlld3MgJiYgZG9jLnZpZXdzW3ZpZXdOYW1lXTtcblxuICAgICAgICBpZiAoIWZ1bikge1xuICAgICAgICAgIC8vIGJhc2ljIHZhbGlkYXRvcjsgaXQncyBhc3N1bWVkIHRoYXQgZXZlcnkgc3ViY2xhc3Mgd291bGQgd2FudCB0aGlzXG4gICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRvYy5faWQgKyAnIGhhcyBubyB2aWV3IG5hbWVkICcgK1xuICAgICAgICAgICAgdmlld05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGRvY1ZhbGlkYXRvcihkb2MsIHZpZXdOYW1lKTtcbiAgICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovIGZ1bGxWaWV3TmFtZSxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gZmFsc2UsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICdvaycgfHwgb3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gc3RhbGUgbm90IG9rXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWJzdHJhY3RRdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgPyBjb2VyY2VPcHRpb25zKG9wdHMpIDoge307XG5cbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZnVuID0ge21hcCA6IGZ1bn07XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpO1xuICAgIH0pO1xuICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGFic3RyYWN0Vmlld0NsZWFudXAgPSBjYWxsYmFja2lmeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3ZpZXdDbGVhbnVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsVmlld0NsZWFudXAoZGIpO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBhYnN0cmFjdFF1ZXJ5LFxuICAgIHZpZXdDbGVhbnVwOiBhYnN0cmFjdFZpZXdDbGVhbnVwXG4gIH07XG59XG5cbnZhciBidWlsdEluUmVkdWNlID0ge1xuICBfc3VtOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHN1bSh2YWx1ZXMpO1xuICB9LFxuXG4gIF9jb3VudDogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoO1xuICB9LFxuXG4gIF9zdGF0czogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIC8vIG5vIG5lZWQgdG8gaW1wbGVtZW50IHJlcmVkdWNlPXRydWUsIGJlY2F1c2UgUG91Y2hcbiAgICAvLyB3aWxsIG5ldmVyIGNhbGwgaXRcbiAgICBmdW5jdGlvbiBzdW1zcXIodmFsdWVzKSB7XG4gICAgICB2YXIgX3N1bXNxciA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgICAgIF9zdW1zcXIgKz0gKG51bSAqIG51bSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3N1bXNxcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1bSAgICAgOiBzdW0odmFsdWVzKSxcbiAgICAgIG1pbiAgICAgOiBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgbWF4ICAgICA6IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBjb3VudCAgIDogdmFsdWVzLmxlbmd0aCxcbiAgICAgIHN1bXNxciA6IHN1bXNxcih2YWx1ZXMpXG4gICAgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpIHtcbiAgaWYgKC9eX3N1bS8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N1bTtcbiAgfSBlbHNlIGlmICgvXl9jb3VudC8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX2NvdW50O1xuICB9IGVsc2UgaWYgKC9eX3N0YXRzLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3RhdHM7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVkdWNlRnVuU3RyaW5nICsgJyBpcyBub3QgYSBzdXBwb3J0ZWQgcmVkdWNlIGZ1bmN0aW9uLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcHBlcihtYXBGdW4sIGVtaXQpIHtcbiAgLy8gZm9yIHRlbXBfdmlld3Mgb25lIGNhbiB1c2UgZW1pdChkb2MsIGVtaXQpLCBzZWUgIzM4XG4gIGlmICh0eXBlb2YgbWFwRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgbWFwRnVuLmxlbmd0aCA9PT0gMikge1xuICAgIHZhciBvcmlnTWFwID0gbWFwRnVuO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gb3JpZ01hcChkb2MsIGVtaXQpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKG1hcEZ1bi50b1N0cmluZygpLCBlbWl0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWR1Y2VyKHJlZHVjZUZ1bikge1xuICB2YXIgcmVkdWNlRnVuU3RyaW5nID0gcmVkdWNlRnVuLnRvU3RyaW5nKCk7XG4gIHZhciBidWlsdEluID0gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpO1xuICBpZiAoYnVpbHRJbikge1xuICAgIHJldHVybiBidWlsdEluO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChyZWR1Y2VGdW5TdHJpbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRkb2NWYWxpZGF0b3IoZGRvYywgdmlld05hbWUpIHtcbiAgdmFyIGZ1biA9IGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZV07XG4gIGlmICh0eXBlb2YgZnVuLm1hcCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZGRvYy5faWQgKyAnIGhhcyBubyBzdHJpbmcgdmlldyBuYW1lZCAnICtcbiAgICAgIHZpZXdOYW1lICsgJywgaW5zdGVhZCBmb3VuZCBvYmplY3Qgb2YgdHlwZTogJyArIHR5cGVvZiBmdW4ubWFwKTtcbiAgfVxufVxuXG52YXIgbG9jYWxEb2NOYW1lID0gJ21ydmlld3MnO1xudmFyIGFic3RyYWN0ID0gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBxdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC5xdWVyeS5jYWxsKHRoaXMsIGZ1biwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiB2aWV3Q2xlYW51cChjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3Qudmlld0NsZWFudXAuY2FsbCh0aGlzLCBjYWxsYmFjayk7XG59XG5cbnZhciBtYXByZWR1Y2UgPSB7XG4gIHF1ZXJ5OiBxdWVyeSxcbiAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwXG59O1xuXG5mdW5jdGlvbiBpc0dlbk9uZSQxKHJldikge1xuICByZXR1cm4gL14xLS8udGVzdChyZXYpO1xufVxuXG5mdW5jdGlvbiBmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgcmVtb3RlRG9jLCBmaWxlbmFtZSkge1xuICByZXR1cm4gIWxvY2FsRG9jLl9hdHRhY2htZW50cyB8fFxuICAgICAgICAgIWxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0gfHxcbiAgICAgICAgIGxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0ICE9PSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3Q7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzKGRiLCBkb2MpIHtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gZGIuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSwge3JldjogZG9jLl9yZXZ9KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgZG9jKSB7XG4gIHZhciBkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyA9IGlzUmVtb3RlKHNyYykgJiYgIWlzUmVtb3RlKHRhcmdldCk7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICBpZiAoIWRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzKSB7XG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQuZ2V0KGRvYy5faWQpLnRoZW4oZnVuY3Rpb24gKGxvY2FsRG9jKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICBpZiAoZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIGRvYywgZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiBzcmMuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQuZ2V0QXR0YWNobWVudChsb2NhbERvYy5faWQsIGZpbGVuYW1lKTtcbiAgICB9KSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnJvci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKSB7XG4gIHZhciByZXF1ZXN0cyA9IFtdO1xuICBPYmplY3Qua2V5cyhkaWZmcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgbWlzc2luZ1JldnMgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICBtaXNzaW5nUmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChtaXNzaW5nUmV2KSB7XG4gICAgICByZXF1ZXN0cy5wdXNoKHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICByZXY6IG1pc3NpbmdSZXZcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGRvY3M6IHJlcXVlc3RzLFxuICAgIHJldnM6IHRydWUsXG4gICAgbGF0ZXN0OiB0cnVlXG4gIH07XG59XG5cbi8vXG4vLyBGZXRjaCBhbGwgdGhlIGRvY3VtZW50cyBmcm9tIHRoZSBzcmMgYXMgZGVzY3JpYmVkIGluIHRoZSBcImRpZmZzXCIsXG4vLyB3aGljaCBpcyBhIG1hcHBpbmcgb2YgZG9jcyBJRHMgdG8gcmV2aXNpb25zLiBJZiB0aGUgc3RhdGUgZXZlclxuLy8gY2hhbmdlcyB0byBcImNhbmNlbGxlZFwiLCB0aGVuIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuXG4vLyBFbHNlIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhIGxpc3Qgb2YgZmV0Y2hlZCBkb2N1bWVudHMuXG4vL1xuZnVuY3Rpb24gZ2V0RG9jcyhzcmMsIHRhcmdldCwgZGlmZnMsIHN0YXRlKSB7XG4gIGRpZmZzID0gY2xvbmUoZGlmZnMpOyAvLyB3ZSBkbyBub3QgbmVlZCB0byBtb2RpZnkgdGhpc1xuXG4gIHZhciByZXN1bHREb2NzID0gW10sXG4gICAgICBvayA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZ2V0QWxsRG9jcygpIHtcblxuICAgIHZhciBidWxrR2V0T3B0cyA9IGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKTtcblxuICAgIGlmICghYnVsa0dldE9wdHMuZG9jcy5sZW5ndGgpIHsgLy8gb3B0aW1pemF0aW9uOiBza2lwIGVtcHR5IHJlcXVlc3RzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYy5idWxrR2V0KGJ1bGtHZXRPcHRzKS50aGVuKGZ1bmN0aW9uIChidWxrR2V0UmVzcG9uc2UpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRSZXNwb25zZS5yZXN1bHRzLm1hcChmdW5jdGlvbiAoYnVsa0dldEluZm8pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRJbmZvLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICB2YXIgcmVtb3RlRG9jID0gZG9jLm9rO1xuXG4gICAgICAgICAgaWYgKGRvYy5lcnJvcikge1xuICAgICAgICAgICAgLy8gd2hlbiBBVVRPX0NPTVBBQ1RJT04gaXMgc2V0LCBkb2NzIGNhbiBiZSByZXR1cm5lZCB3aGljaCBsb29rXG4gICAgICAgICAgICAvLyBsaWtlIHRoaXM6IHtcIm1pc3NpbmdcIjpcIjEtN2MzYWMyNTZiNjkzYzQ2MmFmODQ0MmY5OTJiODM2OTZcIn1cbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyZW1vdGVEb2MgfHwgIXJlbW90ZURvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCByZW1vdGVEb2MpXG4gICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMocmVtb3RlRG9jLl9hdHRhY2htZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoYXR0YWNobWVudCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHQgPSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lc1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dC5kYXRhID0gYXR0YWNobWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICB9KSlcblxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgcmVzdWx0RG9jcyA9IHJlc3VsdERvY3MuY29uY2F0KGZsYXR0ZW4ocmVzdWx0cykuZmlsdGVyKEJvb2xlYW4pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQXR0YWNobWVudHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fYXR0YWNobWVudHMgJiYgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbmZsaWN0cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9jb25mbGljdHMgJiYgZG9jLl9jb25mbGljdHMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcykge1xuICAgIC8vIE9wdGltaXphdGlvbjogZmV0Y2ggZ2VuLTEgZG9jcyBhbmQgYXR0YWNobWVudHMgaW5cbiAgICAvLyBhIHNpbmdsZSByZXF1ZXN0IHVzaW5nIF9hbGxfZG9jc1xuICAgIHJldHVybiBzcmMuYWxsRG9jcyh7XG4gICAgICBrZXlzOiBpZHMsXG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBjb25mbGljdHM6IHRydWVcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICBpZiAocm93LmRlbGV0ZWQgfHwgIXJvdy5kb2MgfHwgIWlzR2VuT25lJDEocm93LnZhbHVlLnJldikgfHxcbiAgICAgICAgICAgIGhhc0F0dGFjaG1lbnRzKHJvdy5kb2MpIHx8IGhhc0NvbmZsaWN0cyhyb3cuZG9jKSkge1xuICAgICAgICAgIC8vIGlmIGFueSBvZiB0aGVzZSBjb25kaXRpb25zIGFwcGx5LCB3ZSBuZWVkIHRvIGZldGNoIHVzaW5nIGdldCgpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RyaXAgX2NvbmZsaWN0cyBhcnJheSB0byBhcHBlYXNlIENTRyAoIzU3OTMpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAocm93LmRvYy5fY29uZmxpY3RzKSB7XG4gICAgICAgICAgZGVsZXRlIHJvdy5kb2MuX2NvbmZsaWN0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBkb2Mgd2UgZ290IGJhY2sgZnJvbSBhbGxEb2NzKCkgaXMgc3VmZmljaWVudFxuICAgICAgICByZXN1bHREb2NzLnB1c2gocm93LmRvYyk7XG4gICAgICAgIGRlbGV0ZSBkaWZmc1tyb3cuaWRdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXZpc2lvbk9uZURvY3MoKSB7XG4gICAgLy8gZmlsdGVyIG91dCB0aGUgZ2VuZXJhdGlvbiAxIGRvY3MgYW5kIGdldCB0aGVtXG4gICAgLy8gbGVhdmluZyB0aGUgbm9uLWdlbmVyYXRpb24gb25lIGRvY3MgdG8gYmUgZ290IG90aGVyd2lzZVxuICAgIHZhciBpZHMgPSBPYmplY3Qua2V5cyhkaWZmcykuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgdmFyIG1pc3NpbmcgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICAgIHJldHVybiBtaXNzaW5nLmxlbmd0aCA9PT0gMSAmJiBpc0dlbk9uZSQxKG1pc3NpbmdbMF0pO1xuICAgIH0pO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV0dXJuUmVzdWx0KCkge1xuICAgIHJldHVybiB7IG9rOm9rLCBkb2NzOnJlc3VsdERvY3MgfTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKGdldFJldmlzaW9uT25lRG9jcylcbiAgICAudGhlbihnZXRBbGxEb2NzKVxuICAgIC50aGVuKHJldHVyblJlc3VsdCk7XG59XG5cbnZhciBDSEVDS1BPSU5UX1ZFUlNJT04gPSAxO1xudmFyIFJFUExJQ0FUT1IgPSBcInBvdWNoZGJcIjtcbi8vIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IG51bWJlciB0byBsaW1pdCB0aGVcbi8vIGFtb3VudCBvZiByZXBsaWNhdGlvbiBoaXN0b3J5IHdlIHNhdmUgaW4gdGhlIGNoZWNrcG9pbnQuXG4vLyBJZiB3ZSBzYXZlIHRvbyBtdWNoLCB0aGUgY2hlY2twb2luZyBkb2NzIHdpbGwgYmVjb21lIHZlcnkgYmlnLFxuLy8gaWYgd2Ugc2F2ZSBmZXdlciwgd2UnbGwgcnVuIGEgZ3JlYXRlciByaXNrIG9mIGhhdmluZyB0b1xuLy8gcmVhZCBhbGwgdGhlIGNoYW5nZXMgZnJvbSAwIHdoZW4gY2hlY2twb2ludCBQVVRzIGZhaWxcbi8vIENvdWNoREIgMi4wIGhhcyBhIG1vcmUgaW52b2x2ZWQgaGlzdG9yeSBwcnVuaW5nLFxuLy8gYnV0IGxldCdzIGdvIGZvciB0aGUgc2ltcGxlIHZlcnNpb24gZm9yIG5vdy5cbnZhciBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSA9IDU7XG52YXIgTE9XRVNUX1NFUSA9IDA7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSkge1xuICByZXR1cm4gZGIuZ2V0KGlkKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgaWYgKGRiLmFkYXB0ZXIgPT09ICdodHRwJyB8fCBkYi5hZGFwdGVyID09PSAnaHR0cHMnKSB7XG4gICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICA0MDQsICdQb3VjaERCIGlzIGp1c3QgY2hlY2tpbmcgaWYgYSByZW1vdGUgY2hlY2twb2ludCBleGlzdHMuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbixcbiAgICAgICAgX2lkOiBpZCxcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIHJlcGxpY2F0b3I6IFJFUExJQ0FUT1IsXG4gICAgICAgIHZlcnNpb246IENIRUNLUE9JTlRfVkVSU0lPTlxuICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGNoZWNrcG9pbnQgaGFzIG5vdCBjaGFuZ2VkLCBkbyBub3QgdXBkYXRlXG4gICAgaWYgKGRvYy5sYXN0X3NlcSA9PT0gY2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBvdXQgY3VycmVudCBlbnRyeSBmb3IgdGhpcyByZXBsaWNhdGlvblxuICAgIGRvYy5oaXN0b3J5ID0gKGRvYy5oaXN0b3J5IHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnNlc3Npb25faWQgIT09IHNlc3Npb247XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIGxhdGVzdCBjaGVja3BvaW50IHRvIGhpc3RvcnlcbiAgICBkb2MuaGlzdG9yeS51bnNoaWZ0KHtcbiAgICAgIGxhc3Rfc2VxOiBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvblxuICAgIH0pO1xuXG4gICAgLy8gSnVzdCB0YWtlIHRoZSBsYXN0IHBpZWNlcyBpbiBoaXN0b3J5LCB0b1xuICAgIC8vIGF2b2lkIHJlYWxseSBiaWcgY2hlY2twb2ludCBkb2NzLlxuICAgIC8vIHNlZSBjb21tZW50IG9uIGhpc3Rvcnkgc2l6ZSBhYm92ZVxuICAgIGRvYy5oaXN0b3J5ID0gZG9jLmhpc3Rvcnkuc2xpY2UoMCwgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUpO1xuXG4gICAgZG9jLnZlcnNpb24gPSBDSEVDS1BPSU5UX1ZFUlNJT047XG4gICAgZG9jLnJlcGxpY2F0b3IgPSBSRVBMSUNBVE9SO1xuXG4gICAgZG9jLnNlc3Npb25faWQgPSBzZXNzaW9uO1xuICAgIGRvYy5sYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG5cbiAgICByZXR1cm4gZGIucHV0KGRvYykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAvLyByZXRyeTsgc29tZW9uZSBpcyB0cnlpbmcgdG8gd3JpdGUgYSBjaGVja3BvaW50IHNpbXVsdGFuZW91c2x5XG4gICAgICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCBpZCwgcmV0dXJuVmFsdWUsIG9wdHMpIHtcbiAgdGhpcy5zcmMgPSBzcmM7XG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB0aGlzLmlkID0gaWQ7XG4gIHRoaXMucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgdGhpcy5vcHRzID0gb3B0cyB8fCB7fTtcbn1cblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS53cml0ZUNoZWNrcG9pbnQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJldHVybiB0aGlzLnVwZGF0ZVRhcmdldChjaGVja3BvaW50LCBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2VsZi51cGRhdGVTb3VyY2UoY2hlY2twb2ludCwgc2Vzc2lvbik7XG4gIH0pO1xufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVUYXJnZXQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMudGFyZ2V0LCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVTb3VyY2UgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnNyYywgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbnZhciBjb21wYXJpc29ucyA9IHtcbiAgXCJ1bmRlZmluZWRcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgcHJldmlvdXMgY29tcGFyaXNvbiBmdW5jdGlvblxuICAgIGlmIChjb2xsYXRlKHRhcmdldERvYy5sYXN0X3NlcSwgc291cmNlRG9jLmxhc3Rfc2VxKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgXCIxXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gcG9ydGVkIGZyb20gQ291Y2hEQlxuICAgIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNvdXJjZURvYywgdGFyZ2V0RG9jKS5sYXN0X3NlcTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS5nZXRDaGVja3BvaW50ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2VsZi50YXJnZXQuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHRhcmdldERvYykge1xuICAgIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBjYW4ndCBtaWdyYXRlIGFuIG9sZCB2ZXJzaW9uIGRvYyB0byBhIG5ldyBvbmVcbiAgICAgIC8vIChubyBzZXNzaW9uIGlkKSwgd2UganVzdCBnbyB3aXRoIHRoZSBsb3dlc3Qgc2VxIGluIHRoaXMgY2FzZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24gIT09IHNvdXJjZURvYy52ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmVyc2lvbjtcbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gdGFyZ2V0RG9jLnZlcnNpb24udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlcnNpb24gPSBcInVuZGVmaW5lZFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodmVyc2lvbiBpbiBjb21wYXJpc29ucykge1xuICAgICAgICByZXR1cm4gY29tcGFyaXNvbnNbdmVyc2lvbl0odGFyZ2V0RG9jLCBzb3VyY2VEb2MpO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQgJiYgdGFyZ2V0RG9jLmxhc3Rfc2VxKSB7XG4gICAgICAgIHJldHVybiBzZWxmLnNyYy5wdXQoe1xuICAgICAgICAgIF9pZDogc2VsZi5pZCxcbiAgICAgICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgfSk7XG59O1xuLy8gVGhpcyBjaGVja3BvaW50IGNvbXBhcmlzb24gaXMgcG9ydGVkIGZyb20gQ291Y2hEQnMgc291cmNlXG4vLyB0aGV5IGNvbWUgZnJvbSBoZXJlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNvdWNoLXJlcGxpY2F0b3IvYmxvYi9tYXN0ZXIvc3JjL2NvdWNoX3JlcGxpY2F0b3IuZXJsI0w4NjMtTDkwNlxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNyY0RvYywgdGd0RG9jKSB7XG4gIGlmIChzcmNEb2Muc2Vzc2lvbl9pZCA9PT0gdGd0RG9jLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IHNyY0RvYy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNyY0RvYy5oaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNyY0RvYy5oaXN0b3J5LCB0Z3REb2MuaGlzdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlSGlzdG9yeSwgdGFyZ2V0SGlzdG9yeSkge1xuICAvLyB0aGUgZXJsYW5nIGxvb3AgdmlhIGZ1bmN0aW9uIGFyZ3VtZW50cyBpcyBub3Qgc28gZWFzeSB0byByZXBlYXQgaW4gSlNcbiAgLy8gdGhlcmVmb3JlLCBkb2luZyB0aGlzIGFzIHJlY3Vyc2lvblxuICB2YXIgUyA9IHNvdXJjZUhpc3RvcnlbMF07XG4gIHZhciBzb3VyY2VSZXN0ID0gc291cmNlSGlzdG9yeS5zbGljZSgxKTtcbiAgdmFyIFQgPSB0YXJnZXRIaXN0b3J5WzBdO1xuICB2YXIgdGFyZ2V0UmVzdCA9IHRhcmdldEhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFTIHx8IHRhcmdldEhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRLFxuICAgICAgaGlzdG9yeTogW11cbiAgICB9O1xuICB9XG5cbiAgdmFyIHNvdXJjZUlkID0gUy5zZXNzaW9uX2lkO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGhhc1Nlc3Npb25JZChzb3VyY2VJZCwgdGFyZ2V0SGlzdG9yeSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFMubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzb3VyY2VIaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHZhciB0YXJnZXRJZCA9IFQuc2Vzc2lvbl9pZDtcbiAgaWYgKGhhc1Nlc3Npb25JZCh0YXJnZXRJZCwgc291cmNlUmVzdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFQubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiB0YXJnZXRSZXN0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZVJlc3QsIHRhcmdldFJlc3QpO1xufVxuXG5mdW5jdGlvbiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCBoaXN0b3J5KSB7XG4gIHZhciBwcm9wcyA9IGhpc3RvcnlbMF07XG4gIHZhciByZXN0ID0gaGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIXNlc3Npb25JZCB8fCBoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzZXNzaW9uSWQgPT09IHByb3BzLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCByZXN0KTtcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5FcnJvcihlcnIpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnIuc3RhdHVzID09PSAnbnVtYmVyJyAmJiBNYXRoLmZsb29yKGVyci5zdGF0dXMgLyAxMDApID09PSA0O1xufVxuXG52YXIgU1RBUlRJTkdfQkFDS19PRkYgPSAwO1xuXG5mdW5jdGlvbiBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBlcnJvciwgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMucmV0cnkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uID0gZGVmYXVsdEJhY2tPZmY7XG4gIH1cbiAgcmV0dXJuVmFsdWUuZW1pdCgncmVxdWVzdEVycm9yJywgZXJyb3IpO1xuICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdhY3RpdmUnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnc3RvcHBlZCc7XG4gICAgdmFyIGJhY2tPZmZTZXQgPSBmdW5jdGlvbiBiYWNrb2ZmVGltZVNldCgpIHtcbiAgICAgIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICAgIH07XG4gICAgdmFyIHJlbW92ZUJhY2tPZmZTZXR0ZXIgPSBmdW5jdGlvbiByZW1vdmVCYWNrT2ZmVGltZVNldCgpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgICB9O1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ3BhdXNlZCcsIHJlbW92ZUJhY2tPZmZTZXR0ZXIpO1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICB9XG5cbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5jdXJyZW50X2JhY2tfb2ZmIHx8IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uKG9wdHMuY3VycmVudF9iYWNrX29mZik7XG4gIHNldFRpbWVvdXQoY2FsbGJhY2ssIG9wdHMuY3VycmVudF9iYWNrX29mZik7XG59XG5cbmZ1bmN0aW9uIHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkocXVlcnlQYXJhbXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1zKS5zb3J0KGNvbGxhdGUpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHF1ZXJ5UGFyYW1zW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG4vLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpZCBwYXJ0aWN1bGFyIHRvIHRoaXMgcmVwbGljYXRpb24uXG4vLyBOb3QgZ3VhcmFudGVlZCB0byBhbGlnbiBwZXJmZWN0bHkgd2l0aCBDb3VjaERCJ3MgcmVwIGlkcy5cbmZ1bmN0aW9uIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykge1xuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzID8gb3B0cy5kb2NfaWRzLnNvcnQoY29sbGF0ZSkgOiAnJztcbiAgdmFyIGZpbHRlckZ1biA9IG9wdHMuZmlsdGVyID8gb3B0cy5maWx0ZXIudG9TdHJpbmcoKSA6ICcnO1xuICB2YXIgcXVlcnlQYXJhbXMgPSAnJztcbiAgdmFyIGZpbHRlclZpZXdOYW1lID0gICcnO1xuICB2YXIgc2VsZWN0b3IgPSAnJztcblxuICAvLyBwb3NzaWJpbGl0eSBmb3IgY2hlY2twb2ludHMgdG8gYmUgbG9zdCBoZXJlIGFzIGJlaGF2aW91ciBvZlxuICAvLyBKU09OLnN0cmluZ2lmeSBpcyBub3Qgc3RhYmxlIChzZWUgIzYyMjYpXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIHNlbGVjdG9yID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zZWxlY3Rvcik7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICBxdWVyeVBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkob3B0cy5xdWVyeV9wYXJhbXMpKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGZpbHRlclZpZXdOYW1lID0gb3B0cy52aWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3NyYy5pZCgpLCB0YXJnZXQuaWQoKV0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHZhciBxdWVyeURhdGEgPSByZXNbMF0gKyByZXNbMV0gKyBmaWx0ZXJGdW4gKyBmaWx0ZXJWaWV3TmFtZSArXG4gICAgICBxdWVyeVBhcmFtcyArIGRvY0lkcyArIHNlbGVjdG9yO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgYmluYXJ5TWQ1KHF1ZXJ5RGF0YSwgcmVzb2x2ZSk7XG4gICAgfSk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKG1kNXN1bSkge1xuICAgIC8vIGNhbid0IHVzZSBzdHJhaWdodC11cCBtZDUgYWxwaGFiZXQsIGJlY2F1c2VcbiAgICAvLyB0aGUgY2hhciAnLycgaXMgaW50ZXJwcmV0ZWQgYXMgYmVpbmcgZm9yIGF0dGFjaG1lbnRzLFxuICAgIC8vIGFuZCArIGlzIGFsc28gbm90IHVybC1zYWZlXG4gICAgbWQ1c3VtID0gbWQ1c3VtLnJlcGxhY2UoL1xcLy9nLCAnLicpLnJlcGxhY2UoL1xcKy9nLCAnXycpO1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBtZDVzdW07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlLCByZXN1bHQpIHtcbiAgdmFyIGJhdGNoZXMgPSBbXTsgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGJhdGNoZXMgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciBjdXJyZW50QmF0Y2g7ICAgICAgICAgICAgICAgLy8gdGhlIGJhdGNoIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgdmFyIHBlbmRpbmdCYXRjaCA9IHtcbiAgICBzZXE6IDAsXG4gICAgY2hhbmdlczogW10sXG4gICAgZG9jczogW11cbiAgfTsgLy8gbmV4dCBiYXRjaCwgbm90IHlldCByZWFkeSB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7ICAvLyB0cnVlIHdoaWxlIGNoZWNrcG9pbnQgaXMgYmVpbmcgd3JpdHRlblxuICB2YXIgY2hhbmdlc0NvbXBsZXRlZCA9IGZhbHNlOyAgIC8vIHRydWUgd2hlbiBhbGwgY2hhbmdlcyByZWNlaXZlZFxuICB2YXIgcmVwbGljYXRpb25Db21wbGV0ZWQgPSBmYWxzZTsgLy8gdHJ1ZSB3aGVuIHJlcGxpY2F0aW9uIGhhcyBjb21wbGV0ZWRcbiAgdmFyIGxhc3Rfc2VxID0gMDtcbiAgdmFyIGNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlIHx8IGZhbHNlO1xuICB2YXIgYmF0Y2hfc2l6ZSA9IG9wdHMuYmF0Y2hfc2l6ZSB8fCAxMDA7XG4gIHZhciBiYXRjaGVzX2xpbWl0ID0gb3B0cy5iYXRjaGVzX2xpbWl0IHx8IDEwO1xuICB2YXIgc3R5bGUgPSBvcHRzLnN0eWxlIHx8ICdhbGxfZG9jcyc7XG4gIHZhciBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlOyAgICAgLy8gdHJ1ZSB3aGlsZSBzcmMuY2hhbmdlcyBpcyBydW5uaW5nXG4gIHZhciBkb2NfaWRzID0gb3B0cy5kb2NfaWRzO1xuICB2YXIgc2VsZWN0b3IgPSBvcHRzLnNlbGVjdG9yO1xuICB2YXIgcmVwSWQ7XG4gIHZhciBjaGVja3BvaW50ZXI7XG4gIHZhciBjaGFuZ2VkRG9jcyA9IFtdO1xuICAvLyBMaWtlIGNvdWNoZGIsIGV2ZXJ5IHJlcGxpY2F0aW9uIGdldHMgYSB1bmlxdWUgc2Vzc2lvbiBpZFxuICB2YXIgc2Vzc2lvbiA9IHV1aWQoKTtcblxuICByZXN1bHQgPSByZXN1bHQgfHwge1xuICAgIG9rOiB0cnVlLFxuICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBkb2NzX3JlYWQ6IDAsXG4gICAgZG9jc193cml0dGVuOiAwLFxuICAgIGRvY193cml0ZV9mYWlsdXJlczogMCxcbiAgICBlcnJvcnM6IFtdXG4gIH07XG5cbiAgdmFyIGNoYW5nZXNPcHRzID0ge307XG4gIHJldHVyblZhbHVlLnJlYWR5KHNyYywgdGFyZ2V0KTtcblxuICBmdW5jdGlvbiBpbml0Q2hlY2twb2ludGVyKCkge1xuICAgIGlmIChjaGVja3BvaW50ZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXBJZCA9IHJlcztcblxuICAgICAgdmFyIGNoZWNrcG9pbnRPcHRzID0ge307XG4gICAgICBpZiAob3B0cy5jaGVja3BvaW50ID09PSBmYWxzZSkge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAndGFyZ2V0Jykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH1cblxuICAgICAgY2hlY2twb2ludGVyID0gbmV3IENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgcmVwSWQsIHJldHVyblZhbHVlLCBjaGVja3BvaW50T3B0cyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvY3MoKSB7XG4gICAgY2hhbmdlZERvY3MgPSBbXTtcblxuICAgIGlmIChjdXJyZW50QmF0Y2guZG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRvY3MgPSBjdXJyZW50QmF0Y2guZG9jcztcbiAgICB2YXIgYnVsa09wdHMgPSB7dGltZW91dDogb3B0cy50aW1lb3V0fTtcbiAgICByZXR1cm4gdGFyZ2V0LmJ1bGtEb2NzKHtkb2NzOiBkb2NzLCBuZXdfZWRpdHM6IGZhbHNlfSwgYnVsa09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gYHJlc2AgZG9lc24ndCBpbmNsdWRlIGZ1bGwgZG9jdW1lbnRzICh3aGljaCBsaXZlIGluIGBkb2NzYCksIHNvIHdlIGNyZWF0ZSBhIG1hcCBvZlxuICAgICAgLy8gKGlkIC0+IGVycm9yKSwgYW5kIGNoZWNrIGZvciBlcnJvcnMgd2hpbGUgaXRlcmF0aW5nIG92ZXIgYGRvY3NgXG4gICAgICB2YXIgZXJyb3JzQnlJZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnNCeUlkW3Jlcy5pZF0gPSByZXM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZXJyb3JzTm8gPSBPYmplY3Qua2V5cyhlcnJvcnNCeUlkKS5sZW5ndGg7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGVycm9yc05vO1xuICAgICAgcmVzdWx0LmRvY3Nfd3JpdHRlbiArPSBkb2NzLmxlbmd0aCAtIGVycm9yc05vO1xuXG4gICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvcnNCeUlkW2RvYy5faWRdO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICAgICAgdmFyIGVycm9yTmFtZSA9IChlcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2RlbmllZCcsIGNsb25lKGVycm9yKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkRG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBkb2NzLmxlbmd0aDtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaEJhdGNoKCkge1xuICAgIGlmIChjdXJyZW50QmF0Y2guZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSBnZXR0aW5nIGRvY3MuJyk7XG4gICAgfVxuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY3VycmVudEJhdGNoLnNlcTtcbiAgICB2YXIgb3V0UmVzdWx0ID0gY2xvbmUocmVzdWx0KTtcbiAgICBpZiAoY2hhbmdlZERvY3MubGVuZ3RoKSB7XG4gICAgICBvdXRSZXN1bHQuZG9jcyA9IGNoYW5nZWREb2NzO1xuICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50QmF0Y2gucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgb3V0UmVzdWx0LnBlbmRpbmcgPSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hhbmdlJywgb3V0UmVzdWx0KTtcbiAgICB9XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGN1cnJlbnRCYXRjaC5zZXEsXG4gICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ2NoZWNrcG9pbnQnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICBjdXJyZW50QmF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgb25DaGVja3BvaW50RXJyb3IoZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpZmZzKCkge1xuICAgIHZhciBkaWZmID0ge307XG4gICAgY3VycmVudEJhdGNoLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncmV2c19kaWZmJzogY2hhbmdlIH0pO1xuICAgICAgLy8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheSBlbWl0cyB0aGVzZSwgYnV0IHdlIGNhbiBpZ25vcmUgdGhlbVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlLmlkID09PSBcIl91c2VyL1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpZmZbY2hhbmdlLmlkXSA9IGNoYW5nZS5jaGFuZ2VzLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5yZXY7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0LnJldnNEaWZmKGRpZmYpLnRoZW4oZnVuY3Rpb24gKGRpZmZzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgLy8gY3VycmVudEJhdGNoLmRpZmZzIGVsZW1lbnRzIGFyZSBkZWxldGVkIGFzIHRoZSBkb2N1bWVudHMgYXJlIHdyaXR0ZW5cbiAgICAgIGN1cnJlbnRCYXRjaC5kaWZmcyA9IGRpZmZzO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmF0Y2hEb2NzKCkge1xuICAgIHJldHVybiBnZXREb2NzKHNyYywgdGFyZ2V0LCBjdXJyZW50QmF0Y2guZGlmZnMsIHJldHVyblZhbHVlKS50aGVuKGZ1bmN0aW9uIChnb3QpIHtcbiAgICAgIGN1cnJlbnRCYXRjaC5lcnJvciA9ICFnb3Qub2s7XG4gICAgICBnb3QuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5kaWZmc1tkb2MuX2lkXTtcbiAgICAgICAgcmVzdWx0LmRvY3NfcmVhZCsrO1xuICAgICAgICBjdXJyZW50QmF0Y2guZG9jcy5wdXNoKGRvYyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0TmV4dEJhdGNoKCkge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQgfHwgY3VycmVudEJhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudEJhdGNoID0gYmF0Y2hlcy5zaGlmdCgpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdzdGFydF9uZXh0X2JhdGNoJzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICBnZXREaWZmcygpXG4gICAgICAudGhlbihnZXRCYXRjaERvY3MpXG4gICAgICAudGhlbih3cml0ZURvY3MpXG4gICAgICAudGhlbihmaW5pc2hCYXRjaClcbiAgICAgIC50aGVuKHN0YXJ0TmV4dEJhdGNoKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgYWJvcnRSZXBsaWNhdGlvbignYmF0Y2ggcHJvY2Vzc2luZyB0ZXJtaW5hdGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NQZW5kaW5nQmF0Y2goaW1tZWRpYXRlJCQxKSB7XG4gICAgaWYgKHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwICYmICFjdXJyZW50QmF0Y2gpIHtcbiAgICAgICAgaWYgKChjb250aW51b3VzICYmIGNoYW5nZXNPcHRzLmxpdmUpIHx8IGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBpbW1lZGlhdGUkJDEgfHxcbiAgICAgIGNoYW5nZXNDb21wbGV0ZWQgfHxcbiAgICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA+PSBiYXRjaF9zaXplXG4gICAgKSB7XG4gICAgICBiYXRjaGVzLnB1c2gocGVuZGluZ0JhdGNoKTtcbiAgICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgICAgc2VxOiAwLFxuICAgICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgICAgZG9jczogW11cbiAgICAgIH07XG4gICAgICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgICAgc3RhcnROZXh0QmF0Y2goKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGFib3J0UmVwbGljYXRpb24ocmVhc29uLCBlcnIpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFlcnIubWVzc2FnZSkge1xuICAgICAgZXJyLm1lc3NhZ2UgPSByZWFzb247XG4gICAgfVxuICAgIHJlc3VsdC5vayA9IGZhbHNlO1xuICAgIHJlc3VsdC5zdGF0dXMgPSAnYWJvcnRpbmcnO1xuICAgIGJhdGNoZXMgPSBbXTtcbiAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICBzZXE6IDAsXG4gICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgIGRvY3M6IFtdXG4gICAgfTtcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlUmVwbGljYXRpb24oZmF0YWxFcnJvcikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ2NhbmNlbGxlZCc7XG4gICAgICBpZiAod3JpdGluZ0NoZWNrcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc3RhdHVzID0gcmVzdWx0LnN0YXR1cyB8fCAnY29tcGxldGUnO1xuICAgIHJlc3VsdC5lbmRfdGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcTtcbiAgICByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IHRydWU7XG5cbiAgICBpZiAoZmF0YWxFcnJvcikge1xuICAgICAgLy8gbmVlZCB0byBleHRlbmQgdGhlIGVycm9yIGJlY2F1c2UgRmlyZWZveCBjb25zaWRlcnMgXCIucmVzdWx0XCIgcmVhZC1vbmx5XG4gICAgICBmYXRhbEVycm9yID0gY3JlYXRlRXJyb3IoZmF0YWxFcnJvcik7XG4gICAgICBmYXRhbEVycm9yLnJlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgIHZhciBlcnJvck5hbWUgPSAoZmF0YWxFcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGZhdGFsRXJyb3IpO1xuICAgICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGZhdGFsRXJyb3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2UoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIHBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICBwZW5kaW5nQmF0Y2gucGVuZGluZyA9IHBlbmRpbmc7XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKShjaGFuZ2UpO1xuICAgIGlmICghZmlsdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdCYXRjaC5zZXEgPSBjaGFuZ2Uuc2VxIHx8IGxhc3RTZXE7XG4gICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdwZW5kaW5nX2JhdGNoJzogcGVuZGluZ0JhdGNoLnNlcSB9KTtcbiAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiBjaGFuZ2VzT3B0cy5saXZlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzQ29tcGxldGUoY2hhbmdlcykge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyByZXN1bHRzIHdlcmUgcmV0dXJuZWQgdGhlbiB3ZSdyZSBkb25lLFxuICAgIC8vIGVsc2UgZmV0Y2ggbW9yZVxuICAgIGlmIChjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgY2hhbmdlc09wdHMuc2luY2UgPSBjaGFuZ2VzLnJlc3VsdHNbY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCAtIDFdLnNlcTtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGludW91cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmxpdmUgPSB0cnVlO1xuICAgICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgfTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBjaGVja3BvaW50IHNvIHdlIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHNlcSBuZXh0IHRpbWVcbiAgICAgIGlmICghY3VycmVudEJhdGNoICYmIGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgICBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGNoYW5nZXMubGFzdF9zZXEsXG4gICAgICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY2hhbmdlcy5sYXN0X3NlcTtcbiAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0Vycm9yKGVycikge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgYWJvcnRSZXBsaWNhdGlvbignY2hhbmdlcyByZWplY3RlZCcsIGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdldENoYW5nZXMoKSB7XG4gICAgaWYgKCEoXG4gICAgICAhY2hhbmdlc1BlbmRpbmcgJiZcbiAgICAgICFjaGFuZ2VzQ29tcGxldGVkICYmXG4gICAgICBiYXRjaGVzLmxlbmd0aCA8IGJhdGNoZXNfbGltaXRcbiAgICAgICkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hhbmdlc1BlbmRpbmcgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGFib3J0Q2hhbmdlcygpIHtcbiAgICAgIGNoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG4gICAgfVxuXG4gICAgaWYgKHJldHVyblZhbHVlLl9jaGFuZ2VzKSB7IC8vIHJlbW92ZSBvbGQgY2hhbmdlcygpIGFuZCBsaXN0ZW5lcnNcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzKTtcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuXG4gICAgdmFyIGNoYW5nZXMgPSBzcmMuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgIGNoYW5nZXMudGhlbihyZW1vdmVMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIpO1xuICAgIGNoYW5nZXMudGhlbihvbkNoYW5nZXNDb21wbGV0ZSlcbiAgICAgIC5jYXRjaChvbkNoYW5nZXNFcnJvcik7XG5cbiAgICBpZiAob3B0cy5yZXRyeSkge1xuICAgICAgLy8gc2F2ZSBmb3IgbGF0ZXIgc28gd2UgY2FuIGNhbmNlbCBpZiBuZWNlc3NhcnlcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzID0gY2hhbmdlcztcbiAgICAgIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMgPSBhYm9ydENoYW5nZXM7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBzdGFydENoYW5nZXMoKSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci5nZXRDaGVja3BvaW50KCkudGhlbihmdW5jdGlvbiAoY2hlY2twb2ludCkge1xuICAgICAgICBsYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG4gICAgICAgIGNoYW5nZXNPcHRzID0ge1xuICAgICAgICAgIHNpbmNlOiBsYXN0X3NlcSxcbiAgICAgICAgICBsaW1pdDogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBkb2NfaWRzOiBkb2NfaWRzLFxuICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSAvLyByZXF1aXJlZCBzbyB3ZSBrbm93IHdoZW4gd2UncmUgZG9uZVxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5maWx0ZXIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIHRoZSBjbGllbnQtc2lkZSBmaWx0ZXIgaW4gb25DaGFuZ2VcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gZGRvYyBmaWx0ZXJcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgndGltZW91dCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMucXVlcnlfcGFyYW1zID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMudmlldykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgYWJvcnRSZXBsaWNhdGlvbignZ2V0Q2hlY2twb2ludCByZWplY3RlZCB3aXRoICcsIGVycik7XG4gICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBvbkNoZWNrcG9pbnRFcnJvcihlcnIpIHtcbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgIGFib3J0UmVwbGljYXRpb24oJ3dyaXRlQ2hlY2twb2ludCBjb21wbGV0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkgeyAvLyBjYW5jZWxsZWQgaW1tZWRpYXRlbHlcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFyZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMpIHtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBjb21wbGV0ZVJlcGxpY2F0aW9uKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnZXJyb3InLCBvcHRzLmNvbXBsZXRlKTtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0cy5zaW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGFydENoYW5nZXMoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChvcHRzLnNpbmNlLCBzZXNzaW9uKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsYXN0X3NlcSA9IG9wdHMuc2luY2U7XG4gICAgICBzdGFydENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gIH1cbn1cblxuLy8gV2UgY3JlYXRlIGEgYmFzaWMgcHJvbWlzZSBzbyB0aGUgY2FsbGVyIGNhbiBjYW5jZWwgdGhlIHJlcGxpY2F0aW9uIHBvc3NpYmx5XG4vLyBiZWZvcmUgd2UgaGF2ZSBhY3R1YWxseSBzdGFydGVkIGxpc3RlbmluZyB0byBjaGFuZ2VzIGV0Y1xuaW5oZXJpdHMoUmVwbGljYXRpb24sIEVFKTtcbmZ1bmN0aW9uIFJlcGxpY2F0aW9uKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICB0aGlzLnN0YXRlID0gJ3BlbmRpbmcnO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIHNlbGYub25jZSgnY29tcGxldGUnLCBmdWxmaWxsKTtcbiAgICBzZWxmLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgfSk7XG4gIHNlbGYudGhlbiA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gIH07XG4gIHNlbGYuY2F0Y2ggPSBmdW5jdGlvbiAocmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2gocmVqZWN0KTtcbiAgfTtcbiAgLy8gQXMgd2UgYWxsb3cgZXJyb3IgaGFuZGxpbmcgdmlhIFwiZXJyb3JcIiBldmVudCBhcyB3ZWxsLFxuICAvLyBwdXQgYSBzdHViIGluIGhlcmUgc28gdGhhdCByZWplY3RpbmcgbmV2ZXIgdGhyb3dzIFVuaGFuZGxlZEVycm9yLlxuICBzZWxmLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbn1cblxuUmVwbGljYXRpb24ucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICB0aGlzLnN0YXRlID0gJ2NhbmNlbGxlZCc7XG4gIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG59O1xuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoc3JjLCB0YXJnZXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoc2VsZi5fcmVhZHlDYWxsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5fcmVhZHlDYWxsZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIHNyYy5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB0YXJnZXQub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9XG4gIHNlbGYub25jZSgnY29tcGxldGUnLCBjbGVhbnVwKTtcbiAgc2VsZi5vbmNlKCdlcnJvcicsIGNsZWFudXApO1xufTtcblxuZnVuY3Rpb24gdG9Qb3VjaChkYiwgb3B0cykge1xuICB2YXIgUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvcjtcbiAgaWYgKHR5cGVvZiBkYiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoQ29uc3RydWN0b3IoZGIsIG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkYjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIGlmIChvcHRzLmRvY19pZHMgJiYgIUFycmF5LmlzQXJyYXkob3B0cy5kb2NfaWRzKSkge1xuICAgIHRocm93IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAgICAgICAgICAgICAgICBcImBkb2NfaWRzYCBmaWx0ZXIgcGFyYW1ldGVyIGlzIG5vdCBhIGxpc3QuXCIpO1xuICB9XG5cbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIG9wdHMuY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmU7XG4gIG9wdHMucmV0cnkgPSAoJ3JldHJ5JyBpbiBvcHRzKSA/IG9wdHMucmV0cnkgOiBmYWxzZTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHZhciByZXBsaWNhdGVSZXQgPSBuZXcgUmVwbGljYXRpb24ob3B0cyk7XG4gIHZhciBzcmNQb3VjaCA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdmFyIHRhcmdldFBvdWNoID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXBsaWNhdGUoc3JjUG91Y2gsIHRhcmdldFBvdWNoLCBvcHRzLCByZXBsaWNhdGVSZXQpO1xuICByZXR1cm4gcmVwbGljYXRlUmV0O1xufVxuXG5pbmhlcml0cyhTeW5jLCBFRSk7XG5mdW5jdGlvbiBzeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgc3JjID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB0YXJnZXQgPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJldHVybiBuZXcgU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTtcblxuICB2YXIgb3B0c1B1c2ggPSBvcHRzLnB1c2ggPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVzaCkgOiBvcHRzO1xuICB2YXIgb3B0c1B1bGwgPSBvcHRzLnB1bGwgPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVsbCkgOiBvcHRzO1xuXG4gIHRoaXMucHVzaCA9IHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHNQdXNoKTtcbiAgdGhpcy5wdWxsID0gcmVwbGljYXRlV3JhcHBlcih0YXJnZXQsIHNyYywgb3B0c1B1bGwpO1xuXG4gIHRoaXMucHVzaFBhdXNlZCA9IHRydWU7XG4gIHRoaXMucHVsbFBhdXNlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gcHVsbENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVsbERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoUGF1c2VkKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1c2hBY3RpdmUoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1c2gnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVsbCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZW1vdmVkID0ge307XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsKHR5cGUpIHsgLy8gdHlwZSBpcyAncHVzaCcgb3IgJ3B1bGwnXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xuICAgICAgdmFyIGlzQ2hhbmdlID0gZXZlbnQgPT09ICdjaGFuZ2UnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQ2hhbmdlIHx8IGZ1bmMgPT09IHB1c2hDaGFuZ2UpO1xuICAgICAgdmFyIGlzRGVuaWVkID0gZXZlbnQgPT09ICdkZW5pZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsRGVuaWVkIHx8IGZ1bmMgPT09IHB1c2hEZW5pZWQpO1xuICAgICAgdmFyIGlzUGF1c2VkID0gZXZlbnQgPT09ICdwYXVzZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsUGF1c2VkIHx8IGZ1bmMgPT09IHB1c2hQYXVzZWQpO1xuICAgICAgdmFyIGlzQWN0aXZlID0gZXZlbnQgPT09ICdhY3RpdmUnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQWN0aXZlIHx8IGZ1bmMgPT09IHB1c2hBY3RpdmUpO1xuXG4gICAgICBpZiAoaXNDaGFuZ2UgfHwgaXNEZW5pZWQgfHwgaXNQYXVzZWQgfHwgaXNBY3RpdmUpIHtcbiAgICAgICAgaWYgKCEoZXZlbnQgaW4gcmVtb3ZlZCkpIHtcbiAgICAgICAgICByZW1vdmVkW2V2ZW50XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZWRbZXZlbnRdW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlbW92ZWRbZXZlbnRdKS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAvLyBib3RoIHB1c2ggYW5kIHB1bGwgaGF2ZSBhc2tlZCB0byBiZSByZW1vdmVkXG4gICAgICAgICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGlmIChvcHRzLmxpdmUpIHtcbiAgICB0aGlzLnB1c2gub24oJ2NvbXBsZXRlJywgc2VsZi5wdWxsLmNhbmNlbC5iaW5kKHNlbGYucHVsbCkpO1xuICAgIHRoaXMucHVsbC5vbignY29tcGxldGUnLCBzZWxmLnB1c2guY2FuY2VsLmJpbmQoc2VsZi5wdXNoKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPbmVMaXN0ZW5lcihlZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGVlLmxpc3RlbmVycyhldmVudCkuaW5kZXhPZihsaXN0ZW5lcikgPT0gLTEpIHtcbiAgICAgIGVlLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5vbigncmVtb3ZlTGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMucHVsbC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1bGwnKSk7XG4gIHRoaXMucHVzaC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1c2gnKSk7XG5cbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgdGhpcy5wdXNoLFxuICAgIHRoaXMucHVsbFxuICBdKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgdmFyIG91dCA9IHtcbiAgICAgIHB1c2g6IHJlc3BbMF0sXG4gICAgICBwdWxsOiByZXNwWzFdXG4gICAgfTtcbiAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgb3V0KTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgY2FsbGJhY2ssIHRoZW4gdGhlIGNhbGxiYWNrIGNhbiByZWNlaXZlXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnRcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gY2FsbGJhY2ssIHRoZW4gd2UncmUgc2FmZSB0byBlbWl0IGFuIGVycm9yXG4gICAgICAvLyBldmVudCwgd2hpY2ggd291bGQgb3RoZXJ3aXNlIHRocm93IGFuIHVuaGFuZGxlZCBlcnJvclxuICAgICAgLy8gZHVlIHRvICdlcnJvcicgYmVpbmcgYSBzcGVjaWFsIGV2ZW50IGluIEV2ZW50RW1pdHRlcnNcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gbm8gc2Vuc2UgdGhyb3dpbmcgaWYgd2UncmUgYWxyZWFkeSBlbWl0dGluZyBhbiAnZXJyb3InIGV2ZW50XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnRoZW4gPSBmdW5jdGlvbiAoc3VjY2VzcywgZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihzdWNjZXNzLCBlcnIpO1xuICB9O1xuXG4gIHRoaXMuY2F0Y2ggPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZXJyKTtcbiAgfTtcbn1cblxuU3luYy5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2FuY2VsZWQpIHtcbiAgICB0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcbiAgICB0aGlzLnB1c2guY2FuY2VsKCk7XG4gICAgdGhpcy5wdWxsLmNhbmNlbCgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZXBsaWNhdGlvbihQb3VjaERCKSB7XG4gIFBvdWNoREIucmVwbGljYXRlID0gcmVwbGljYXRlV3JhcHBlcjtcbiAgUG91Y2hEQi5zeW5jID0gc3luYztcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG91Y2hEQi5wcm90b3R5cGUsICdyZXBsaWNhdGUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5yZXBsaWNhdGVNZXRob2RzID0ge1xuICAgICAgICAgIGZyb206IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShvdGhlciwgc2VsZiwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG86IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShzZWxmLCBvdGhlciwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHM7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaERCLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKGRiTmFtZSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5zeW5jKHRoaXMsIGRiTmFtZSwgb3B0cywgY2FsbGJhY2spO1xuICB9O1xufVxuXG5Qb3VjaERCLnBsdWdpbihJREJQb3VjaClcbiAgLnBsdWdpbihIdHRwUG91Y2gkMSlcbiAgLnBsdWdpbihtYXByZWR1Y2UpXG4gIC5wbHVnaW4ocmVwbGljYXRpb24pO1xuXG4vLyBQdWxsIGZyb20gc3JjIGJlY2F1c2UgcG91Y2hkYi1ub2RlL3BvdWNoZGItYnJvd3NlciB0aGVtc2VsdmVzXG5cbmV4cG9ydCBkZWZhdWx0IFBvdWNoREI7XG4iLCJpbXBvcnQgcm5nIGZyb20gJy4vcm5nLmpzJztcbmltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnOyAvLyAqKmB2MSgpYCAtIEdlbmVyYXRlIHRpbWUtYmFzZWQgVVVJRCoqXG4vL1xuLy8gSW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL0xpb3NLL1VVSUQuanNcbi8vIGFuZCBodHRwOi8vZG9jcy5weXRob24ub3JnL2xpYnJhcnkvdXVpZC5odG1sXG5cbnZhciBfbm9kZUlkO1xuXG52YXIgX2Nsb2Nrc2VxOyAvLyBQcmV2aW91cyB1dWlkIGNyZWF0aW9uIHRpbWVcblxuXG52YXIgX2xhc3RNU2VjcyA9IDA7XG52YXIgX2xhc3ROU2VjcyA9IDA7IC8vIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQgZm9yIEFQSSBkZXRhaWxzXG5cbmZ1bmN0aW9uIHYxKG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIHZhciBpID0gYnVmICYmIG9mZnNldCB8fCAwO1xuICB2YXIgYiA9IGJ1ZiB8fCBuZXcgQXJyYXkoMTYpO1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIG5vZGUgPSBvcHRpb25zLm5vZGUgfHwgX25vZGVJZDtcbiAgdmFyIGNsb2Nrc2VxID0gb3B0aW9ucy5jbG9ja3NlcSAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5jbG9ja3NlcSA6IF9jbG9ja3NlcTsgLy8gbm9kZSBhbmQgY2xvY2tzZXEgbmVlZCB0byBiZSBpbml0aWFsaXplZCB0byByYW5kb20gdmFsdWVzIGlmIHRoZXkncmUgbm90XG4gIC8vIHNwZWNpZmllZC4gIFdlIGRvIHRoaXMgbGF6aWx5IHRvIG1pbmltaXplIGlzc3VlcyByZWxhdGVkIHRvIGluc3VmZmljaWVudFxuICAvLyBzeXN0ZW0gZW50cm9weS4gIFNlZSAjMTg5XG5cbiAgaWYgKG5vZGUgPT0gbnVsbCB8fCBjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgdmFyIHNlZWRCeXRlcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7XG5cbiAgICBpZiAobm9kZSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC41LCBjcmVhdGUgYW5kIDQ4LWJpdCBub2RlIGlkLCAoNDcgcmFuZG9tIGJpdHMgKyBtdWx0aWNhc3QgYml0ID0gMSlcbiAgICAgIG5vZGUgPSBfbm9kZUlkID0gW3NlZWRCeXRlc1swXSB8IDB4MDEsIHNlZWRCeXRlc1sxXSwgc2VlZEJ5dGVzWzJdLCBzZWVkQnl0ZXNbM10sIHNlZWRCeXRlc1s0XSwgc2VlZEJ5dGVzWzVdXTtcbiAgICB9XG5cbiAgICBpZiAoY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuMi4yLCByYW5kb21pemUgKDE0IGJpdCkgY2xvY2tzZXFcbiAgICAgIGNsb2Nrc2VxID0gX2Nsb2Nrc2VxID0gKHNlZWRCeXRlc1s2XSA8PCA4IHwgc2VlZEJ5dGVzWzddKSAmIDB4M2ZmZjtcbiAgICB9XG4gIH0gLy8gVVVJRCB0aW1lc3RhbXBzIGFyZSAxMDAgbmFuby1zZWNvbmQgdW5pdHMgc2luY2UgdGhlIEdyZWdvcmlhbiBlcG9jaCxcbiAgLy8gKDE1ODItMTAtMTUgMDA6MDApLiAgSlNOdW1iZXJzIGFyZW4ndCBwcmVjaXNlIGVub3VnaCBmb3IgdGhpcywgc29cbiAgLy8gdGltZSBpcyBoYW5kbGVkIGludGVybmFsbHkgYXMgJ21zZWNzJyAoaW50ZWdlciBtaWxsaXNlY29uZHMpIGFuZCAnbnNlY3MnXG4gIC8vICgxMDAtbmFub3NlY29uZHMgb2Zmc2V0IGZyb20gbXNlY3MpIHNpbmNlIHVuaXggZXBvY2gsIDE5NzAtMDEtMDEgMDA6MDAuXG5cblxuICB2YXIgbXNlY3MgPSBvcHRpb25zLm1zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm1zZWNzIDogRGF0ZS5ub3coKTsgLy8gUGVyIDQuMi4xLjIsIHVzZSBjb3VudCBvZiB1dWlkJ3MgZ2VuZXJhdGVkIGR1cmluZyB0aGUgY3VycmVudCBjbG9ja1xuICAvLyBjeWNsZSB0byBzaW11bGF0ZSBoaWdoZXIgcmVzb2x1dGlvbiBjbG9ja1xuXG4gIHZhciBuc2VjcyA9IG9wdGlvbnMubnNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubnNlY3MgOiBfbGFzdE5TZWNzICsgMTsgLy8gVGltZSBzaW5jZSBsYXN0IHV1aWQgY3JlYXRpb24gKGluIG1zZWNzKVxuXG4gIHZhciBkdCA9IG1zZWNzIC0gX2xhc3RNU2VjcyArIChuc2VjcyAtIF9sYXN0TlNlY3MpIC8gMTAwMDA7IC8vIFBlciA0LjIuMS4yLCBCdW1wIGNsb2Nrc2VxIG9uIGNsb2NrIHJlZ3Jlc3Npb25cblxuICBpZiAoZHQgPCAwICYmIG9wdGlvbnMuY2xvY2tzZXEgPT09IHVuZGVmaW5lZCkge1xuICAgIGNsb2Nrc2VxID0gY2xvY2tzZXEgKyAxICYgMHgzZmZmO1xuICB9IC8vIFJlc2V0IG5zZWNzIGlmIGNsb2NrIHJlZ3Jlc3NlcyAobmV3IGNsb2Nrc2VxKSBvciB3ZSd2ZSBtb3ZlZCBvbnRvIGEgbmV3XG4gIC8vIHRpbWUgaW50ZXJ2YWxcblxuXG4gIGlmICgoZHQgPCAwIHx8IG1zZWNzID4gX2xhc3RNU2VjcykgJiYgb3B0aW9ucy5uc2VjcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgbnNlY3MgPSAwO1xuICB9IC8vIFBlciA0LjIuMS4yIFRocm93IGVycm9yIGlmIHRvbyBtYW55IHV1aWRzIGFyZSByZXF1ZXN0ZWRcblxuXG4gIGlmIChuc2VjcyA+PSAxMDAwMCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO1xuICB9XG5cbiAgX2xhc3RNU2VjcyA9IG1zZWNzO1xuICBfbGFzdE5TZWNzID0gbnNlY3M7XG4gIF9jbG9ja3NlcSA9IGNsb2Nrc2VxOyAvLyBQZXIgNC4xLjQgLSBDb252ZXJ0IGZyb20gdW5peCBlcG9jaCB0byBHcmVnb3JpYW4gZXBvY2hcblxuICBtc2VjcyArPSAxMjIxOTI5MjgwMDAwMDsgLy8gYHRpbWVfbG93YFxuXG4gIHZhciB0bCA9ICgobXNlY3MgJiAweGZmZmZmZmYpICogMTAwMDAgKyBuc2VjcykgJSAweDEwMDAwMDAwMDtcbiAgYltpKytdID0gdGwgPj4+IDI0ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDE2ICYgMHhmZjtcbiAgYltpKytdID0gdGwgPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bCAmIDB4ZmY7IC8vIGB0aW1lX21pZGBcblxuICB2YXIgdG1oID0gbXNlY3MgLyAweDEwMDAwMDAwMCAqIDEwMDAwICYgMHhmZmZmZmZmO1xuICBiW2krK10gPSB0bWggPj4+IDggJiAweGZmO1xuICBiW2krK10gPSB0bWggJiAweGZmOyAvLyBgdGltZV9oaWdoX2FuZF92ZXJzaW9uYFxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMjQgJiAweGYgfCAweDEwOyAvLyBpbmNsdWRlIHZlcnNpb25cblxuICBiW2krK10gPSB0bWggPj4+IDE2ICYgMHhmZjsgLy8gYGNsb2NrX3NlcV9oaV9hbmRfcmVzZXJ2ZWRgIChQZXIgNC4yLjIgLSBpbmNsdWRlIHZhcmlhbnQpXG5cbiAgYltpKytdID0gY2xvY2tzZXEgPj4+IDggfCAweDgwOyAvLyBgY2xvY2tfc2VxX2xvd2BcblxuICBiW2krK10gPSBjbG9ja3NlcSAmIDB4ZmY7IC8vIGBub2RlYFxuXG4gIGZvciAodmFyIG4gPSAwOyBuIDwgNjsgKytuKSB7XG4gICAgYltpICsgbl0gPSBub2RlW25dO1xuICB9XG5cbiAgcmV0dXJuIGJ1ZiB8fCBzdHJpbmdpZnkoYik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHYxOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gcGFyc2UodXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIHZhciB2O1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoMTYpOyAvLyBQYXJzZSAjIyMjIyMjIy0uLi4uLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMCwgOCksIDE2KSkgPj4+IDI0O1xuICBhcnJbMV0gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsyXSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbM10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tIyMjIy0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzRdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDksIDEzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzVdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tIyMjIy0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls2XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxNCwgMTgpLCAxNikpID4+PiA4O1xuICBhcnJbN10gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLSMjIyMtLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzhdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE5LCAyMyksIDE2KSkgPj4+IDg7XG4gIGFycls5XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tLi4uLi0jIyMjIyMjIyMjIyNcbiAgLy8gKFVzZSBcIi9cIiB0byBhdm9pZCAzMi1iaXQgdHJ1bmNhdGlvbiB3aGVuIGJpdC1zaGlmdGluZyBoaWdoLW9yZGVyIGJ5dGVzKVxuXG4gIGFyclsxMF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMjQsIDM2KSwgMTYpKSAvIDB4MTAwMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTFdID0gdiAvIDB4MTAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzEyXSA9IHYgPj4+IDI0ICYgMHhmZjtcbiAgYXJyWzEzXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzE0XSA9IHYgPj4+IDggJiAweGZmO1xuICBhcnJbMTVdID0gdiAmIDB4ZmY7XG4gIHJldHVybiBhcnI7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHBhcnNlOyIsImltcG9ydCBzdHJpbmdpZnkgZnJvbSAnLi9zdHJpbmdpZnkuanMnO1xuaW1wb3J0IHBhcnNlIGZyb20gJy4vcGFyc2UuanMnO1xuXG5mdW5jdGlvbiBzdHJpbmdUb0J5dGVzKHN0cikge1xuICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgdmFyIGJ5dGVzID0gW107XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBzdHIubGVuZ3RoOyArK2kpIHtcbiAgICBieXRlcy5wdXNoKHN0ci5jaGFyQ29kZUF0KGkpKTtcbiAgfVxuXG4gIHJldHVybiBieXRlcztcbn1cblxuZXhwb3J0IHZhciBETlMgPSAnNmJhN2I4MTAtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCB2YXIgVVJMID0gJzZiYTdiODExLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiAobmFtZSwgdmVyc2lvbiwgaGFzaGZ1bmMpIHtcbiAgZnVuY3Rpb24gZ2VuZXJhdGVVVUlEKHZhbHVlLCBuYW1lc3BhY2UsIGJ1Ziwgb2Zmc2V0KSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhbHVlID0gc3RyaW5nVG9CeXRlcyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBuYW1lc3BhY2UgPT09ICdzdHJpbmcnKSB7XG4gICAgICBuYW1lc3BhY2UgPSBwYXJzZShuYW1lc3BhY2UpO1xuICAgIH1cblxuICAgIGlmIChuYW1lc3BhY2UubGVuZ3RoICE9PSAxNikge1xuICAgICAgdGhyb3cgVHlwZUVycm9yKCdOYW1lc3BhY2UgbXVzdCBiZSBhcnJheS1saWtlICgxNiBpdGVyYWJsZSBpbnRlZ2VyIHZhbHVlcywgMC0yNTUpJyk7XG4gICAgfSAvLyBDb21wdXRlIGhhc2ggb2YgbmFtZXNwYWNlIGFuZCB2YWx1ZSwgUGVyIDQuM1xuICAgIC8vIEZ1dHVyZTogVXNlIHNwcmVhZCBzeW50YXggd2hlbiBzdXBwb3J0ZWQgb24gYWxsIHBsYXRmb3JtcywgZS5nLiBgYnl0ZXMgPVxuICAgIC8vIGhhc2hmdW5jKFsuLi5uYW1lc3BhY2UsIC4uLiB2YWx1ZV0pYFxuXG5cbiAgICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheSgxNiArIHZhbHVlLmxlbmd0aCk7XG4gICAgYnl0ZXMuc2V0KG5hbWVzcGFjZSk7XG4gICAgYnl0ZXMuc2V0KHZhbHVlLCBuYW1lc3BhY2UubGVuZ3RoKTtcbiAgICBieXRlcyA9IGhhc2hmdW5jKGJ5dGVzKTtcbiAgICBieXRlc1s2XSA9IGJ5dGVzWzZdICYgMHgwZiB8IHZlcnNpb247XG4gICAgYnl0ZXNbOF0gPSBieXRlc1s4XSAmIDB4M2YgfCAweDgwO1xuXG4gICAgaWYgKGJ1Zikge1xuICAgICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgICBidWZbb2Zmc2V0ICsgaV0gPSBieXRlc1tpXTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIGJ1ZjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3RyaW5naWZ5KGJ5dGVzKTtcbiAgfSAvLyBGdW5jdGlvbiNuYW1lIGlzIG5vdCBzZXR0YWJsZSBvbiBzb21lIHBsYXRmb3JtcyAoIzI3MClcblxuXG4gIHRyeSB7XG4gICAgZ2VuZXJhdGVVVUlELm5hbWUgPSBuYW1lOyAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tZW1wdHlcbiAgfSBjYXRjaCAoZXJyKSB7fSAvLyBGb3IgQ29tbW9uSlMgZGVmYXVsdCBleHBvcnQgc3VwcG9ydFxuXG5cbiAgZ2VuZXJhdGVVVUlELkROUyA9IEROUztcbiAgZ2VuZXJhdGVVVUlELlVSTCA9IFVSTDtcbiAgcmV0dXJuIGdlbmVyYXRlVVVJRDtcbn0iLCIvKlxuICogQnJvd3Nlci1jb21wYXRpYmxlIEphdmFTY3JpcHQgTUQ1XG4gKlxuICogTW9kaWZpY2F0aW9uIG9mIEphdmFTY3JpcHQgTUQ1XG4gKiBodHRwczovL2dpdGh1Yi5jb20vYmx1ZWltcC9KYXZhU2NyaXB0LU1ENVxuICpcbiAqIENvcHlyaWdodCAyMDExLCBTZWJhc3RpYW4gVHNjaGFuXG4gKiBodHRwczovL2JsdWVpbXAubmV0XG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlOlxuICogaHR0cHM6Ly9vcGVuc291cmNlLm9yZy9saWNlbnNlcy9NSVRcbiAqXG4gKiBCYXNlZCBvblxuICogQSBKYXZhU2NyaXB0IGltcGxlbWVudGF0aW9uIG9mIHRoZSBSU0EgRGF0YSBTZWN1cml0eSwgSW5jLiBNRDUgTWVzc2FnZVxuICogRGlnZXN0IEFsZ29yaXRobSwgYXMgZGVmaW5lZCBpbiBSRkMgMTMyMS5cbiAqIFZlcnNpb24gMi4yIENvcHlyaWdodCAoQykgUGF1bCBKb2huc3RvbiAxOTk5IC0gMjAwOVxuICogT3RoZXIgY29udHJpYnV0b3JzOiBHcmVnIEhvbHQsIEFuZHJldyBLZXBlcnQsIFlkbmFyLCBMb3N0aW5ldFxuICogRGlzdHJpYnV0ZWQgdW5kZXIgdGhlIEJTRCBMaWNlbnNlXG4gKiBTZWUgaHR0cDovL3BhamhvbWUub3JnLnVrL2NyeXB0L21kNSBmb3IgbW9yZSBpbmZvLlxuICovXG5mdW5jdGlvbiBtZDUoYnl0ZXMpIHtcbiAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbXNnID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGJ5dGVzKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgICBieXRlcyA9IG5ldyBVaW50OEFycmF5KG1zZy5sZW5ndGgpO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyArK2kpIHtcbiAgICAgIGJ5dGVzW2ldID0gbXNnLmNoYXJDb2RlQXQoaSk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIG1kNVRvSGV4RW5jb2RlZEFycmF5KHdvcmRzVG9NZDUoYnl0ZXNUb1dvcmRzKGJ5dGVzKSwgYnl0ZXMubGVuZ3RoICogOCkpO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcyB0byBhbiBhcnJheSBvZiBieXRlc1xuICovXG5cblxuZnVuY3Rpb24gbWQ1VG9IZXhFbmNvZGVkQXJyYXkoaW5wdXQpIHtcbiAgdmFyIG91dHB1dCA9IFtdO1xuICB2YXIgbGVuZ3RoMzIgPSBpbnB1dC5sZW5ndGggKiAzMjtcbiAgdmFyIGhleFRhYiA9ICcwMTIzNDU2Nzg5YWJjZGVmJztcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDMyOyBpICs9IDgpIHtcbiAgICB2YXIgeCA9IGlucHV0W2kgPj4gNV0gPj4+IGkgJSAzMiAmIDB4ZmY7XG4gICAgdmFyIGhleCA9IHBhcnNlSW50KGhleFRhYi5jaGFyQXQoeCA+Pj4gNCAmIDB4MGYpICsgaGV4VGFiLmNoYXJBdCh4ICYgMHgwZiksIDE2KTtcbiAgICBvdXRwdXQucHVzaChoZXgpO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qKlxuICogQ2FsY3VsYXRlIG91dHB1dCBsZW5ndGggd2l0aCBwYWRkaW5nIGFuZCBiaXQgbGVuZ3RoXG4gKi9cblxuXG5mdW5jdGlvbiBnZXRPdXRwdXRMZW5ndGgoaW5wdXRMZW5ndGg4KSB7XG4gIHJldHVybiAoaW5wdXRMZW5ndGg4ICsgNjQgPj4+IDkgPDwgNCkgKyAxNCArIDE7XG59XG4vKlxuICogQ2FsY3VsYXRlIHRoZSBNRDUgb2YgYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3JkcywgYW5kIGEgYml0IGxlbmd0aC5cbiAqL1xuXG5cbmZ1bmN0aW9uIHdvcmRzVG9NZDUoeCwgbGVuKSB7XG4gIC8qIGFwcGVuZCBwYWRkaW5nICovXG4gIHhbbGVuID4+IDVdIHw9IDB4ODAgPDwgbGVuICUgMzI7XG4gIHhbZ2V0T3V0cHV0TGVuZ3RoKGxlbikgLSAxXSA9IGxlbjtcbiAgdmFyIGEgPSAxNzMyNTg0MTkzO1xuICB2YXIgYiA9IC0yNzE3MzM4Nzk7XG4gIHZhciBjID0gLTE3MzI1ODQxOTQ7XG4gIHZhciBkID0gMjcxNzMzODc4O1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMTYpIHtcbiAgICB2YXIgb2xkYSA9IGE7XG4gICAgdmFyIG9sZGIgPSBiO1xuICAgIHZhciBvbGRjID0gYztcbiAgICB2YXIgb2xkZCA9IGQ7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaV0sIDcsIC02ODA4NzY5MzYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxXSwgMTIsIC0zODk1NjQ1ODYpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTcsIDYwNjEwNTgxOSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDNdLCAyMiwgLTEwNDQ1MjUzMzApO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNywgLTE3NjQxODg5Nyk7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDVdLCAxMiwgMTIwMDA4MDQyNik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNywgLTE0NzMyMzEzNDEpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyA3XSwgMjIsIC00NTcwNTk4Myk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA3LCAxNzcwMDM1NDE2KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgOV0sIDEyLCAtMTk1ODQxNDQxNyk7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTcsIC00MjA2Myk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDExXSwgMjIsIC0xOTkwNDA0MTYyKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA3LCAxODA0NjAzNjgyKTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMTNdLCAxMiwgLTQwMzQxMTAxKTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNywgLTE1MDIwMDIyOTApO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxNV0sIDIyLCAxMjM2NTM1MzI5KTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMV0sIDUsIC0xNjU3OTY1MTApO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyA2XSwgOSwgLTEwNjk1MDE2MzIpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE0LCA2NDM3MTc3MTMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2ldLCAyMCwgLTM3Mzg5NzMwMik7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA1LCAtNzAxNTU4NjkxKTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTBdLCA5LCAzODAxNjA4Myk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTQsIC02NjA0NzgzMzUpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA0XSwgMjAsIC00MDU1Mzc4NDgpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNSwgNTY4NDQ2NDM4KTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMTRdLCA5LCAtMTAxOTgwMzY5MCk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNCwgLTE4NzM2Mzk2MSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDhdLCAyMCwgMTE2MzUzMTUwMSk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNSwgLTE0NDQ2ODE0NjcpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAyXSwgOSwgLTUxNDAzNzg0KTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgN10sIDE0LCAxNzM1MzI4NDczKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgMTJdLCAyMCwgLTE5MjY2MDc3MzQpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNCwgLTM3ODU1OCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDhdLCAxMSwgLTIwMjI1NzQ0NjMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxMV0sIDE2LCAxODM5MDMwNTYyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTRdLCAyMywgLTM1MzA5NTU2KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMV0sIDQsIC0xNTMwOTkyMDYwKTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgNF0sIDExLCAxMjcyODkzMzUzKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgN10sIDE2LCAtMTU1NDk3NjMyKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMTBdLCAyMywgLTEwOTQ3MzA2NDApO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDQsIDY4MTI3OTE3NCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaV0sIDExLCAtMzU4NTM3MjIyKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgM10sIDE2LCAtNzIyNTIxOTc5KTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgNl0sIDIzLCA3NjAyOTE4OSk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDldLCA0LCAtNjQwMzY0NDg3KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgMTJdLCAxMSwgLTQyMTgxNTgzNSk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDE1XSwgMTYsIDUzMDc0MjUyMCk7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDJdLCAyMywgLTk5NTMzODY1MSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaV0sIDYsIC0xOTg2MzA4NDQpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyA3XSwgMTAsIDExMjY4OTE0MTUpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE1LCAtMTQxNjM1NDkwNSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDVdLCAyMSwgLTU3NDM0MDU1KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgMTJdLCA2LCAxNzAwNDg1NTcxKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgM10sIDEwLCAtMTg5NDk4NjYwNik7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDEwXSwgMTUsIC0xMDUxNTIzKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMV0sIDIxLCAtMjA1NDkyMjc5OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDhdLCA2LCAxODczMzEzMzU5KTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTVdLCAxMCwgLTMwNjExNzQ0KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE1LCAtMTU2MDE5ODM4MCk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDEzXSwgMjEsIDEzMDkxNTE2NDkpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA0XSwgNiwgLTE0NTUyMzA3MCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDExXSwgMTAsIC0xMTIwMjEwMzc5KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE1LCA3MTg3ODcyNTkpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA5XSwgMjEsIC0zNDM0ODU1NTEpO1xuICAgIGEgPSBzYWZlQWRkKGEsIG9sZGEpO1xuICAgIGIgPSBzYWZlQWRkKGIsIG9sZGIpO1xuICAgIGMgPSBzYWZlQWRkKGMsIG9sZGMpO1xuICAgIGQgPSBzYWZlQWRkKGQsIG9sZGQpO1xuICB9XG5cbiAgcmV0dXJuIFthLCBiLCBjLCBkXTtcbn1cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IGJ5dGVzIHRvIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHNcbiAqIENoYXJhY3RlcnMgPjI1NSBoYXZlIHRoZWlyIGhpZ2gtYnl0ZSBzaWxlbnRseSBpZ25vcmVkLlxuICovXG5cblxuZnVuY3Rpb24gYnl0ZXNUb1dvcmRzKGlucHV0KSB7XG4gIGlmIChpbnB1dC5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gW107XG4gIH1cblxuICB2YXIgbGVuZ3RoOCA9IGlucHV0Lmxlbmd0aCAqIDg7XG4gIHZhciBvdXRwdXQgPSBuZXcgVWludDMyQXJyYXkoZ2V0T3V0cHV0TGVuZ3RoKGxlbmd0aDgpKTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDg7IGkgKz0gOCkge1xuICAgIG91dHB1dFtpID4+IDVdIHw9IChpbnB1dFtpIC8gOF0gJiAweGZmKSA8PCBpICUgMzI7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLypcbiAqIEFkZCBpbnRlZ2Vycywgd3JhcHBpbmcgYXQgMl4zMi4gVGhpcyB1c2VzIDE2LWJpdCBvcGVyYXRpb25zIGludGVybmFsbHlcbiAqIHRvIHdvcmsgYXJvdW5kIGJ1Z3MgaW4gc29tZSBKUyBpbnRlcnByZXRlcnMuXG4gKi9cblxuXG5mdW5jdGlvbiBzYWZlQWRkKHgsIHkpIHtcbiAgdmFyIGxzdyA9ICh4ICYgMHhmZmZmKSArICh5ICYgMHhmZmZmKTtcbiAgdmFyIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICByZXR1cm4gbXN3IDw8IDE2IHwgbHN3ICYgMHhmZmZmO1xufVxuLypcbiAqIEJpdHdpc2Ugcm90YXRlIGEgMzItYml0IG51bWJlciB0byB0aGUgbGVmdC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJpdFJvdGF0ZUxlZnQobnVtLCBjbnQpIHtcbiAgcmV0dXJuIG51bSA8PCBjbnQgfCBudW0gPj4+IDMyIC0gY250O1xufVxuLypcbiAqIFRoZXNlIGZ1bmN0aW9ucyBpbXBsZW1lbnQgdGhlIGZvdXIgYmFzaWMgb3BlcmF0aW9ucyB0aGUgYWxnb3JpdGhtIHVzZXMuXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVjbW4ocSwgYSwgYiwgeCwgcywgdCkge1xuICByZXR1cm4gc2FmZUFkZChiaXRSb3RhdGVMZWZ0KHNhZmVBZGQoc2FmZUFkZChhLCBxKSwgc2FmZUFkZCh4LCB0KSksIHMpLCBiKTtcbn1cblxuZnVuY3Rpb24gbWQ1ZmYoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBjIHwgfmIgJiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1Z2coYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgJiBkIHwgYyAmIH5kLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aGgoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGIgXiBjIF4gZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWlpKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihjIF4gKGIgfCB+ZCksIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBtZDU7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgbWQ1IGZyb20gJy4vbWQ1LmpzJztcbnZhciB2MyA9IHYzNSgndjMnLCAweDMwLCBtZDUpO1xuZXhwb3J0IGRlZmF1bHQgdjM7IiwiLy8gQWRhcHRlZCBmcm9tIENocmlzIFZlbmVzcycgU0hBMSBjb2RlIGF0XG4vLyBodHRwOi8vd3d3Lm1vdmFibGUtdHlwZS5jby51ay9zY3JpcHRzL3NoYTEuaHRtbFxuZnVuY3Rpb24gZihzLCB4LCB5LCB6KSB7XG4gIHN3aXRjaCAocykge1xuICAgIGNhc2UgMDpcbiAgICAgIHJldHVybiB4ICYgeSBeIH54ICYgejtcblxuICAgIGNhc2UgMTpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG5cbiAgICBjYXNlIDI6XG4gICAgICByZXR1cm4geCAmIHkgXiB4ICYgeiBeIHkgJiB6O1xuXG4gICAgY2FzZSAzOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcbiAgfVxufVxuXG5mdW5jdGlvbiBST1RMKHgsIG4pIHtcbiAgcmV0dXJuIHggPDwgbiB8IHggPj4+IDMyIC0gbjtcbn1cblxuZnVuY3Rpb24gc2hhMShieXRlcykge1xuICB2YXIgSyA9IFsweDVhODI3OTk5LCAweDZlZDllYmExLCAweDhmMWJiY2RjLCAweGNhNjJjMWQ2XTtcbiAgdmFyIEggPSBbMHg2NzQ1MjMwMSwgMHhlZmNkYWI4OSwgMHg5OGJhZGNmZSwgMHgxMDMyNTQ3NiwgMHhjM2QyZTFmMF07XG5cbiAgaWYgKHR5cGVvZiBieXRlcyA9PT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbXNnID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KGJ5dGVzKSk7IC8vIFVURjggZXNjYXBlXG5cbiAgICBieXRlcyA9IFtdO1xuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBtc2cubGVuZ3RoOyArK2kpIHtcbiAgICAgIGJ5dGVzLnB1c2gobXNnLmNoYXJDb2RlQXQoaSkpO1xuICAgIH1cbiAgfSBlbHNlIGlmICghQXJyYXkuaXNBcnJheShieXRlcykpIHtcbiAgICAvLyBDb252ZXJ0IEFycmF5LWxpa2UgdG8gQXJyYXlcbiAgICBieXRlcyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGJ5dGVzKTtcbiAgfVxuXG4gIGJ5dGVzLnB1c2goMHg4MCk7XG4gIHZhciBsID0gYnl0ZXMubGVuZ3RoIC8gNCArIDI7XG4gIHZhciBOID0gTWF0aC5jZWlsKGwgLyAxNik7XG4gIHZhciBNID0gbmV3IEFycmF5KE4pO1xuXG4gIGZvciAodmFyIF9pID0gMDsgX2kgPCBOOyArK19pKSB7XG4gICAgdmFyIGFyciA9IG5ldyBVaW50MzJBcnJheSgxNik7XG5cbiAgICBmb3IgKHZhciBqID0gMDsgaiA8IDE2OyArK2opIHtcbiAgICAgIGFycltqXSA9IGJ5dGVzW19pICogNjQgKyBqICogNF0gPDwgMjQgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAxXSA8PCAxNiB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDJdIDw8IDggfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAzXTtcbiAgICB9XG5cbiAgICBNW19pXSA9IGFycjtcbiAgfVxuXG4gIE1bTiAtIDFdWzE0XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggLyBNYXRoLnBvdygyLCAzMik7XG4gIE1bTiAtIDFdWzE0XSA9IE1hdGguZmxvb3IoTVtOIC0gMV1bMTRdKTtcbiAgTVtOIC0gMV1bMTVdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAmIDB4ZmZmZmZmZmY7XG5cbiAgZm9yICh2YXIgX2kyID0gMDsgX2kyIDwgTjsgKytfaTIpIHtcbiAgICB2YXIgVyA9IG5ldyBVaW50MzJBcnJheSg4MCk7XG5cbiAgICBmb3IgKHZhciB0ID0gMDsgdCA8IDE2OyArK3QpIHtcbiAgICAgIFdbdF0gPSBNW19pMl1bdF07XG4gICAgfVxuXG4gICAgZm9yICh2YXIgX3QgPSAxNjsgX3QgPCA4MDsgKytfdCkge1xuICAgICAgV1tfdF0gPSBST1RMKFdbX3QgLSAzXSBeIFdbX3QgLSA4XSBeIFdbX3QgLSAxNF0gXiBXW190IC0gMTZdLCAxKTtcbiAgICB9XG5cbiAgICB2YXIgYSA9IEhbMF07XG4gICAgdmFyIGIgPSBIWzFdO1xuICAgIHZhciBjID0gSFsyXTtcbiAgICB2YXIgZCA9IEhbM107XG4gICAgdmFyIGUgPSBIWzRdO1xuXG4gICAgZm9yICh2YXIgX3QyID0gMDsgX3QyIDwgODA7ICsrX3QyKSB7XG4gICAgICB2YXIgcyA9IE1hdGguZmxvb3IoX3QyIC8gMjApO1xuICAgICAgdmFyIFQgPSBST1RMKGEsIDUpICsgZihzLCBiLCBjLCBkKSArIGUgKyBLW3NdICsgV1tfdDJdID4+PiAwO1xuICAgICAgZSA9IGQ7XG4gICAgICBkID0gYztcbiAgICAgIGMgPSBST1RMKGIsIDMwKSA+Pj4gMDtcbiAgICAgIGIgPSBhO1xuICAgICAgYSA9IFQ7XG4gICAgfVxuXG4gICAgSFswXSA9IEhbMF0gKyBhID4+PiAwO1xuICAgIEhbMV0gPSBIWzFdICsgYiA+Pj4gMDtcbiAgICBIWzJdID0gSFsyXSArIGMgPj4+IDA7XG4gICAgSFszXSA9IEhbM10gKyBkID4+PiAwO1xuICAgIEhbNF0gPSBIWzRdICsgZSA+Pj4gMDtcbiAgfVxuXG4gIHJldHVybiBbSFswXSA+PiAyNCAmIDB4ZmYsIEhbMF0gPj4gMTYgJiAweGZmLCBIWzBdID4+IDggJiAweGZmLCBIWzBdICYgMHhmZiwgSFsxXSA+PiAyNCAmIDB4ZmYsIEhbMV0gPj4gMTYgJiAweGZmLCBIWzFdID4+IDggJiAweGZmLCBIWzFdICYgMHhmZiwgSFsyXSA+PiAyNCAmIDB4ZmYsIEhbMl0gPj4gMTYgJiAweGZmLCBIWzJdID4+IDggJiAweGZmLCBIWzJdICYgMHhmZiwgSFszXSA+PiAyNCAmIDB4ZmYsIEhbM10gPj4gMTYgJiAweGZmLCBIWzNdID4+IDggJiAweGZmLCBIWzNdICYgMHhmZiwgSFs0XSA+PiAyNCAmIDB4ZmYsIEhbNF0gPj4gMTYgJiAweGZmLCBIWzRdID4+IDggJiAweGZmLCBIWzRdICYgMHhmZl07XG59XG5cbmV4cG9ydCBkZWZhdWx0IHNoYTE7IiwiaW1wb3J0IHYzNSBmcm9tICcuL3YzNS5qcyc7XG5pbXBvcnQgc2hhMSBmcm9tICcuL3NoYTEuanMnO1xudmFyIHY1ID0gdjM1KCd2NScsIDB4NTAsIHNoYTEpO1xuZXhwb3J0IGRlZmF1bHQgdjU7IiwiZXhwb3J0IGRlZmF1bHQgJzAwMDAwMDAwLTAwMDAtMDAwMC0wMDAwLTAwMDAwMDAwMDAwMCc7IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiB2ZXJzaW9uKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICByZXR1cm4gcGFyc2VJbnQodXVpZC5zdWJzdHIoMTQsIDEpLCAxNik7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZlcnNpb247IiwiXG5cbmV4cG9ydCBjb25zdCB1cGxvYWRBcmVhSFRNTCA9IFxuICBgPGRpdiBpZD1cImRvY3VtZW50LXVwbG9hZC1jb250YWluZXJcIj5cblxuICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9hcmVhXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9tZXNzYWdlXCI+VXBsb2FkIEZpbGVzPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2IGlkPVwidXBsb2FkaW5nX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJ1bnBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5VbnBhaXJlZCBEb2N1bWVudHM8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZmlsZXNfY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwibWVpX2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1FSTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwibWVpX2xpc3RcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJpbWFnZV9jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5JbWFnZXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2xpc3RcIiBpZD1cImltYWdlX2xpc3RcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZ2VuZXJhdGUtcGFpci1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cIm1ha2VfcGFpclwiPk1ha2UgUGFpcjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5QYWlyZWQgRm9saW9zPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGlsZV9saXN0XCIgaWQ9XCJwYWlyZWRfbGlzdFwiPjwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRfYnV0dG9uX2NvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25fYnV0dG9uXCIgaWQ9XCJ1cGxvYWRfYnV0dG9uXCI+XG4gICAgICAgICAgICBVcGxvYWRcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfc3Bpbm5lclwiPuKGuzwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS1cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwibWFudXNjcmlwdHNfY29udGFpbmVyXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1hbnVzY3JpcHRzPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRpbGVfbGlzdFwiIGlkPVwibWFudXNjcmlwdF9saXN0XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIC0tPlxuXG4gICAgPC9kaXY+XG4gIDwvZGl2PmA7IiwiLyoqIEBtb2R1bGUgV2FybmluZ3MgKi9cblxuLyoqXG4gKiBXYXJuIHdoZW4gZ3JvdXBlZCBuZXVtZSBjb21wb25lbnRzIGZvcm0gYW4gdW5yZWNvZ25pemVkIG5ldW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBpbmdOb3RSZWNvZ25pemVkICgpOiB2b2lkIHtcbiAgaWYgKCEod2luZG93LmNvbmZpcm0oJ05lb24gZG9lcyBub3QgcmVjb2duaXplIHRoaXMgbmV1bWUgZ3JvdXBpbmcuIFdvdWxkIHlvdSBsaWtlIHRvIGNyZWF0ZSBhIGNvbXBvdW5kIG5ldW1lPycpKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvJykuY2xpY2soKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBzZWxlY3RBbGwgfSBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgZ2V0U1ZHUmVsQ29vcmRzIH0gZnJvbSAnLi4vdXRpbHMvQ29vcmRpbmF0ZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIHN0YWZmIGludG8gdHdvIHN0YXZlcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXRTdGFmZkhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IHN0YWZmOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIHN0YWZmIC0gVGhlIHN0YWZmIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHN0YWZmOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnN0YWZmID0gc3RhZmY7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFdoZXJlIHRvIFNwbGl0Jyk7XG4gIH1cblxuICBzcGxpdERpc2FibGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8qKiBIYW5kbGUgaW5wdXQgdG8gc3BsaXQgYSBzdGFmZi4gKi9cbiAgaGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgLy8gRmluZCBzdGFmZiBwb2ludCBjb3JyZXNwb25kcyB0byBpZiBvbmUgZXhpc3RzXG4gICAgLy8gVE9ET1xuICAgIGNvbnN0IGlkID0gdGhpcy5zdGFmZi5pZDtcbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0QWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgeDogY3Vyc29yLnhcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5zdGFmZicpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aWR9YCldLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gICAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXRzIHNwbGl0IG9uIEVzY2FwZSBwcmVzcywgZGlzYWJsZXMgb24gU2hpZnQuICovXG4gIGtleWRvd25MaXN0ZW5lciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdCBzcGxpdCBpZiB1c2VyIGNsaWNrcyBvZmYgb2YgYWN0aXZlIHBhZ2UuICovXG4gIGNsaWNrYXdheUhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIENhbGxlZCB0byByZWFwcGx5IHRoZSBldmVudCBsaXN0ZW5lciBpZiBuZWNlc3NhcnkuICovXG4gIHJlc2V0SGFuZGxlciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG59XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIG5ldW1lIGludG8gdHdvIG5ldW1lcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXROZXVtZUhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IG5ldW1lOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIG5ldW1lIC0gVGhlIG5ldW1lIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIG5ldW1lOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm5ldW1lID0gbmV1bWU7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFRoZSBCZWdpbm5pbmcgb2YgVGhlIFNlY29uZCBOZXVtZScpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgbmV1bWUuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy5uZXVtZS5pZDtcblxuICAgIC8vIHVuc2VsZWN0KCk7XG4gICAgXG4gICAgY29uc3QgbmMgPSAoZXZ0LnRhcmdldCBhcyBTVkdHRWxlbWVudCkucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBuY0lkID0gbmMuaWQ7XG5cbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0TmV1bWVBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdE5ldW1lJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIG5jSWQ6IG5jSWRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIGZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgLy8gdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgLy8gY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5uZXVtZScpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIC8vIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBpZCkgYXMgU1ZHR0VsZW1lbnRdLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAvLyB0cnkge1xuICAgICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAvLyB9IGNhdGNoIChlKSB7fVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwucXVldWVNaWNyb3Rhc2sgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayhmdW5jKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vL2Jhc2VkIG9mZiByc3ZwIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanNcbi8vbGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8vaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9saWIvcnN2cC9hc2FwLmpzXG5cbnZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBNdXRhdGlvbjtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbihoYW5kbGUpO1xuICB2YXIgZWxlbWVudCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwge1xuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZWxlbWVudC5kYXRhID0gKGNhbGxlZCA9ICsrY2FsbGVkICUgMik7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgIC8vIHdlIGNhbiBvbmx5IGdldCBoZXJlIGluIElFMTBcbiAgICAvLyB3aGljaCBkb2Vzbid0IGhhbmRlbCBwb3N0TWVzc2FnZSB3ZWxsXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnZG9jdW1lbnQnIGluIGdsb2JhbCAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgIHZhciBzY3JpcHRFbCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBoYW5kbGUoKTtcblxuICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgc2NyaXB0RWwgPSBudWxsO1xuICAgIH07XG4gICAgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG5cbiAgICByZXR1cm4gaGFuZGxlO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KHQsIDApO1xuICB9O1xufTsiLCJpbXBvcnQgeyBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzLCBmZXRjaFNhbXBsZURvY3VtZW50cywgZGVsZXRlRW50cnkgfSBmcm9tICcuL1N0b3JhZ2UnO1xuaW1wb3J0IHsgZm9ybWF0RmlsZW5hbWUgfSBmcm9tICcuL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBzYW1wbGVzIH0gZnJvbSAnLi9zYW1wbGVzX2ZpbGVuYW1lcyc7XG5cbmNvbnN0IHVwbG9hZGVkRG9jc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRlZC1kb2NzLWNvbnRlbnQnKTtcbmNvbnN0IHNhbXBsZURvY3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2FtcGxlLWRvY3MtY29udGVudCcpO1xuY29uc3Qgb3BlbkJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3Blbi1kb2MnKTtcbmNvbnN0IGRlbGV0ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVtb3ZlLWRvYycpO1xuXG5sZXQgbWV0YUtleUlzUHJlc3NlZCA9IGZhbHNlO1xubGV0IHNoaWZ0S2V5SXNQcmVzc2VkID0gZmFsc2U7XG5cbi8vIExpc3RzIHRoZSBkb2N1bWVudHMgaW4gb3JkZXIgYXMgcmVwcmVzZW50ZWQgb24gZGFzaGJvYXJkXG5sZXQgb3JkZXJlZERvY3VtZW50czogc3RyaW5nW107XG5sZXQgb3JkZXJlZFNlbGVjdGlvbjogYm9vbGVhbltdO1xuXG4vLyBTaGlmdCBzZWxlY3Rpb24gbWltaWNzIE1hY09TIGJlaGF2aW91clxuY2xhc3Mgc2hpZnRTZWxlY3Rpb24geyBcbiAgcHJpdmF0ZSBzdGFydDtcbiAgcHJpdmF0ZSBlbmQ7XG4gIHByaXZhdGUgcHJldlNlbGVjdGlvbiA9IFtdO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgc2V0U3RhcnQoc3RhcnQ6IG51bWJlcikge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnN0YXJ0ID0gTWF0aC5tYXgoc3RhcnQsIDApO1xuICB9XG5cbiAgcHVibGljIHNldEVuZChlbmQ6IG51bWJlcikge1xuICAgIHRoaXMuZW5kID0gZW5kO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KCkge1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuZW5kID0gLTE7XG4gICAgdGhpcy5wcmV2U2VsZWN0aW9uLnNwbGljZSgwKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmV2U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByZXZTZWxlY3Rpb247XG4gIH1cblxuICBwdWJsaWMgZ2V0U2VsZWN0aW9uKCkge1xuICAgIGxldCBzdGFydDogbnVtYmVyO1xuICAgIGxldCBlbmQ6IG51bWJlcjtcblxuICAgIGlmICh0aGlzLmVuZCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZW5kIDwgdGhpcy5zdGFydCkge1xuICAgICAgc3RhcnQgPSB0aGlzLmVuZDtcbiAgICAgIGVuZCA9IHRoaXMuc3RhcnQgKyAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICAgIGVuZCA9IHRoaXMuZW5kICsgMTtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAoZW5kIC0gc3RhcnQpIH0sICh2LCBrKSA9PiBrICsgc3RhcnQpO1xuICAgIC8vIEZvciBlYWNoIHNoaWZ0IHNlbGVjdGlvbiBhY3Rpb246IGlmIHRoZSBTaGlmdCBrZXkgaXMgc3RpbGwgaGVsZCwgdGhlIGVuZCBzaGlmdCBwb3MgY2FuIGNoYW5nZSBcbiAgICAvLyB3aXRoIHRoZSBwcmV2aW91c2x5IChiZWZvcmUtc2hpZnQpIHNlbGVjdGVkIGVsZW1lbnRzIHN0aWxsIHNlbGVjdGVkIHdoaWxlIHRoZSBjdXJyZW50IHNoaWZ0IHNlbGVjdGlvbnMgdW5zZWxlY3QuXG4gICAgY29uc3Qgc3BlY2lmaWNTZWxlY3Rpb24gPSByYW5nZS5maWx0ZXIoaWR4ID0+ICEob3JkZXJlZFNlbGVjdGlvbltpZHhdKSk7XG4gICAgdGhpcy5wcmV2U2VsZWN0aW9uID0gc3BlY2lmaWNTZWxlY3Rpb247XG4gICAgcmV0dXJuIHNwZWNpZmljU2VsZWN0aW9uO1xuICB9XG59IFxuXG5jb25zdCBzaGlmdCA9IG5ldyBzaGlmdFNlbGVjdGlvbigpO1xuXG4vLyBHZXRzIHVzZXIgc2VsZWN0ZWQgZG9jdW1lbnQgdGlsZSBlbGVtZW50c1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uVGlsZXMoKSB7XG4gIHJldHVybiBnZXRTZWxlY3Rpb25GaWxlbmFtZXMoKS5tYXAoZmlsZW5hbWUgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmlsZW5hbWUpKTtcbn1cblxuLy8gZ2V0cyB1c2VyIHNlbGVjdGVkIGZpbGVuYW1lcyBcbmZ1bmN0aW9uIGdldFNlbGVjdGlvbkZpbGVuYW1lcygpIHtcbiAgcmV0dXJuIG9yZGVyZWREb2N1bWVudHMuZmlsdGVyKChfLCBpZHgpID0+IG9yZGVyZWRTZWxlY3Rpb25baWR4XSk7XG59XG5cbi8vIE9wZW4gZWRpdG9yIHRhYlxuZnVuY3Rpb24gb3BlbkVkaXRvclRhYihmaWxlbmFtZTogc3RyaW5nLCBpc1VwbG9hZGVkOiBib29sZWFuKSB7XG4gIGNvbnN0IHBhcmFtcyA9IChpc1VwbG9hZGVkKVxuICAgID8geyBzdG9yYWdlOiBmaWxlbmFtZSB9XG4gICAgOiB7IG1hbmlmZXN0OiBmaWxlbmFtZSB9O1xuICBjb25zdCBxdWVyeSA9IG1ha2VRdWVyeShwYXJhbXMpO1xuICB3aW5kb3cub3BlbihgLi9lZGl0b3IuaHRtbD8ke3F1ZXJ5fWAsICdfYmxhbmsnKTtcbn1cblxuLy8gT3BlbnMgZWRpdG9yIHRhYiBnaXZlbiBhIGRvY3VtZW50IHRpbGUgZWxlbWVudFxuZnVuY3Rpb24gb3BlblRpbGUodGlsZTogRWxlbWVudCkge1xuICBjb25zdCBpc1VwbG9hZGVkID0gKHRpbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd1cGxvYWRlZC1kb2MnKSkgPyB0cnVlIDogZmFsc2U7XG4gIGNvbnN0IGZpbGVuYW1lID0gdGlsZS5pZDtcbiAgb3BlbkVkaXRvclRhYihmaWxlbmFtZSwgaXNVcGxvYWRlZCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VRdWVyeShvYmopOiBzdHJpbmcge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoa2V5ID0+IHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2tleV0pO1xuICB9KS5qb2luKCcmJyk7XG59XG5cbmZ1bmN0aW9uIHVuc2VsZWN0KHRpbGU6IEVsZW1lbnQsIGlkeD86IG51bWJlcikge1xuICBpZiAodGlsZSAhPSBudWxsKSB7XG4gICAgaWR4ID0gKGlkeCAhPSB1bmRlZmluZWQpID8gaWR4IDogb3JkZXJlZERvY3VtZW50cy5pbmRleE9mKHRpbGUuaWQpO1xuICB9XG4gIGVsc2UgaWYgKGlkeCAhPSB1bmRlZmluZWQpIHtcbiAgICB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3JkZXJlZERvY3VtZW50c1tpZHhdKTtcbiAgfVxuICBlbHNlIHJldHVybjtcbiAgdGlsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICBvcmRlcmVkU2VsZWN0aW9uW2lkeF0gPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdW5zZWxlY3RBbGwoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvY3VtZW50LWVudHJ5LnNlbGVjdGVkJykpXG4gICAgLmZvckVhY2goKHRpbGUpID0+IHRpbGUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XG4gIG9yZGVyZWRTZWxlY3Rpb24uZmlsbChmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdCh0aWxlOiBFbGVtZW50LCBpZHg/OiBudW1iZXIpIHtcbiAgaWYgKHRpbGUgIT0gbnVsbCkge1xuICAgIGlkeCA9IChpZHggIT0gdW5kZWZpbmVkKSA/IGlkeCA6IG9yZGVyZWREb2N1bWVudHMuaW5kZXhPZih0aWxlLmlkKTtcbiAgfVxuICBlbHNlIGlmIChpZHggIT0gdW5kZWZpbmVkKSB7XG4gICAgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9yZGVyZWREb2N1bWVudHNbaWR4XSk7XG4gIH1cbiAgZWxzZSByZXR1cm47XG4gIHRpbGUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgb3JkZXJlZFNlbGVjdGlvbltpZHhdID0gdHJ1ZTsgIFxufVxuXG4vLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gc2V0IGRlbGV0ZSBkb2Mgb3Igb3BlbiBkb2MgdG8gYWN0aXZlXG5mdW5jdGlvbiBzZXRTaWRlYmFyQWN0aW9ucygpIHtcbiAgLy8gLTEgaWYgbm8gc2VsZWN0aW9uLCBzb21lIHZhbHVlIGkgaWYgc2VsZWN0ZWQuXG4gIC8vIGlmIChpZHg9aSkgPiBvcmRlcmVkRG9jdW1lbnRzLmxlbmd0aCAtIHNhbXBsZXMubGVuZ3RoLCB0aGVuIG5vIHVzZXIgdXBsb2FkcyBhcmUgc2VsZWN0ZWQuXG4gIGNvbnN0IGxhc3RJZHggPSBvcmRlcmVkU2VsZWN0aW9uLmxhc3RJbmRleE9mKHRydWUpO1xuICBpZiAobGFzdElkeCA9PT0gLTEpIHtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGlmIChsYXN0SWR4IDwgKG9yZGVyZWREb2N1bWVudHMubGVuZ3RoIC0gc2FtcGxlcy5sZW5ndGgpKSB7XG4gICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgc2hpZnQucmVzZXQoKTtcbiAgLy8gbG9hZCB1c2VyLXVwbG9hZGVkIGRvY3NcbiAgdXBsb2FkZWREb2NzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICBjb25zdCB1cGxvYWRlZERvY3MgPSBhd2FpdCBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzKCk7XG4gIHVwbG9hZGVkRG9jcy5zb3J0KCk7XG5cbiAgaWYgKHVwbG9hZGVkRG9jcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkb2MuaWQgPSAnbm8tZG9jcy1tc2cnO1xuICAgIGRvYy5pbm5lckhUTUwgPSAnTm8gRG9jdW1lbnRzIFVwbG9hZGVkJztcbiAgICB1cGxvYWRlZERvY3NDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jKTtcbiAgfSBcbiAgZWxzZSB1cGxvYWRlZERvY3MuZm9yRWFjaChmaWxlbmFtZSA9PiB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jLmlkID0gZmlsZW5hbWU7IC8vIHVuaXF1ZSBpZFxuICAgIGRvYy5jbGFzc0xpc3QuYWRkKCdkb2N1bWVudC1lbnRyeScpO1xuICAgIGRvYy5jbGFzc0xpc3QuYWRkKCd1cGxvYWRlZC1kb2MnKTtcblxuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBuYW1lLmNsYXNzTGlzdC5hZGQoJ2ZpbGVuYW1lLXRleHQnKTtcbiAgICBuYW1lLmlubmVySFRNTCA9IGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lLCAyNSk7XG4gICAgZG9jLmFwcGVuZENoaWxkKG5hbWUpO1xuXG4gICAgdXBsb2FkZWREb2NzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvYyk7XG4gIH0pO1xuXG4gIC8vIGxvYWQgc2FtcGxlIGRvY3NcbiAgc2FtcGxlRG9jc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICBjb25zdCBzYW1wbGVEb2NzID0gZmV0Y2hTYW1wbGVEb2N1bWVudHMoKTtcbiAgc2FtcGxlRG9jcy5zb3J0KCk7XG4gIFxuICBpZiAoc2FtcGxlRG9jcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkb2MuaW5uZXJIVE1MID0gJ05vIERvY3VtZW50cyBVcGxvYWRlZCc7XG4gICAgc2FtcGxlRG9jc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkb2MpO1xuICB9IFxuICBlbHNlIHNhbXBsZURvY3MuZm9yRWFjaChmaWxlbmFtZSA9PiB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jLmlkID0gZmlsZW5hbWU7XG4gICAgZG9jLmNsYXNzTGlzdC5hZGQoJ2RvY3VtZW50LWVudHJ5Jyk7XG5cbiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmFtZS5jbGFzc0xpc3QuYWRkKCdmaWxlbmFtZS10ZXh0Jyk7XG4gICAgbmFtZS5pbm5lckhUTUwgPSBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZSwgMjUpO1xuICAgIGRvYy5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgIHNhbXBsZURvY3NDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jKTtcbiAgfSk7XG4gIC8vIENsZWFyIGxpc3Qgb2YgZG9jdW1lbnRzL3NlbGVjdGlvbnMgYW5kIHVwZGF0ZVxuICBvcmRlcmVkRG9jdW1lbnRzID0gdXBsb2FkZWREb2NzLmNvbmNhdChzYW1wbGVzKTtcbiAgb3JkZXJlZFNlbGVjdGlvbiA9IG5ldyBBcnJheTxib29sZWFuPihvcmRlcmVkRG9jdW1lbnRzLmxlbmd0aCkuZmlsbChmYWxzZSk7XG5cbiAgLy8gYWRkIG9uY2xpY2sgZXZlbnQgbGlzdGVuZXIgdG8gZG9jc1xuICBvcmRlcmVkRG9jdW1lbnRzLmZvckVhY2goKGZpbGVuYW1lLCBpZHgpID0+IHtcbiAgICBjb25zdCB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZmlsZW5hbWV9YCk7XG5cbiAgICAvLyBkb3VibGUgY2xpY2sgZXZlbnQgaW1tZWRpYXRlbHkgb3BlbnMgZG9jdW1lbnRcbiAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgaGFuZGxlT3BlbkRvY3VtZW50cywgZmFsc2UpO1xuXG4gICAgLy8gU2luZ2xlIGNsaWNrIHNlbGVjdHMgZG9jdW1lbnQgb3IgYWRkcyBkb2N1bWVudCB0byBleGlzdGluZyBzZWxlY3Rpb25cbiAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gTm8gU2hpZnQgb3IgTWV0YSBwcmVzc2VkIFxuICAgICAgaWYgKCFtZXRhS2V5SXNQcmVzc2VkICYmICFzaGlmdEtleUlzUHJlc3NlZCkge1xuICAgICAgICAvLyBTZWxlY3RlZCBvciBub3Qgc2VsZWN0ZWQgLT4gY2xlYXIgc2VsZWN0aW9uIGFuZCBzZWxlY3QgY3VyIHRpbGVcbiAgICAgICAgdW5zZWxlY3RBbGwoKTtcbiAgICAgICAgc2VsZWN0KHRpbGUsIGlkeCk7XG4gICAgICAgIHNoaWZ0LnNldFN0YXJ0KGlkeCk7IC8vIFRyYWNrIHN0YXJ0IG9mIHNoaWZ0IHNlbGVjdGlvblxuICAgICAgICBzZXRTaWRlYmFyQWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgLy8gTWV0YSBrZXkgcHJlc3NlZCAoZGVmYXVsdCBiZWhhdmlvdXIgaWYgYm90aCBtZXRhIGFuZCBzaGlmdCBhcmUgcHJlc3NlZClcbiAgICAgIGVsc2UgaWYgKG1ldGFLZXlJc1ByZXNzZWQpIHtcbiAgICAgICAgaWYgKG9yZGVyZWRTZWxlY3Rpb25baWR4XSkge1xuICAgICAgICAgIHVuc2VsZWN0KHRpbGUsIGlkeCk7XG4gICAgICAgICAgc2hpZnQuc2V0U3RhcnQob3JkZXJlZFNlbGVjdGlvbi5sYXN0SW5kZXhPZih0cnVlKSk7IC8vIE1hY09TIGJlaGF2aW91cjogc2hpZnQgc3RhcnQgZ29lcyB0byBsYXJnZXN0IGlkeCBzZWxlY3RlZCBpdGVtXG4gICAgICAgIH1cbiAgICAgICAgLy8gVGlsZSBpcyBub3Qgc2VsZWN0ZWQgLT4gQWRkIHRvIHNlbGVjdGlvblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzZWxlY3QodGlsZSwgaWR4KTtcbiAgICAgICAgICBzaGlmdC5zZXRTdGFydChpZHgpOyAvLyBUcmFjayBzdGFydCBvZiBzaGlmdCBzZWxlY3Rpb25cbiAgICAgICAgfVxuICAgICAgICBzZXRTaWRlYmFyQWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgLy8gTWFya3MgdGhlIGVuZCBvZiBzaGlmdCBzZWxlY3Rpb25cbiAgICAgIGVsc2UgaWYgKHNoaWZ0S2V5SXNQcmVzc2VkKSB7XG4gICAgICAgIC8vIFVuc2VsZWN0IHByZXZpb3VzIHNoaWZ0IHNlbGVjdGlvbiBpZiBhcHBsaWNhYmxlXG4gICAgICAgIHNoaWZ0LmdldFByZXZTZWxlY3Rpb24oKS5mb3JFYWNoKChpbmRleCkgPT4ge1xuICAgICAgICAgIHVuc2VsZWN0KG51bGwsIGluZGV4KTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gU2VsZWN0IG5ldyBzaGlmdCBzZWxlY3RcbiAgICAgICAgc2hpZnQuc2V0RW5kKGlkeCk7XG4gICAgICAgIHNoaWZ0LmdldFNlbGVjdGlvbigpLmZvckVhY2goKGluZGV4KSA9PiB7ICAgXG4gICAgICAgICAgc2VsZWN0KG51bGwsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFNpZGViYXJBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3BlbkRvY3VtZW50cygpIHtcbiAgaWYgKCFvcGVuQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHJldHVybjtcbiAgZ2V0U2VsZWN0aW9uVGlsZXMoKS5mb3JFYWNoKHRpbGUgPT4ge1xuICAgIG9wZW5UaWxlKHRpbGUpO1xuICB9KTtcbiAgc2hpZnQucmVzZXQoKTtcbiAgdW5zZWxlY3RBbGwoKTtcbiAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlRG9jdW1lbnRzKCkge1xuICBpZiAoIWRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG5cbiAgY29uc3QgZmlsZW5hbWVzID0gZ2V0U2VsZWN0aW9uRmlsZW5hbWVzKCk7XG4gIGNvbnN0IGZpbGVuYW1lRm9ybWF0dGVkID0gZmlsZW5hbWVzLmpvaW4oJ1xcbicpO1xuICBjb25zdCBhbGVydE1lc3NhZ2UgPSAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZTpcXG4nICsgZmlsZW5hbWVGb3JtYXR0ZWQgKyAnXFxuXFxuVGhpcyBhY3Rpb24gaXMgaXJyZXZlcnNpYmxlLic7XG4gIGNvbnN0IGlzQ29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oYWxlcnRNZXNzYWdlKTtcbiAgXG4gIGlmIChpc0NvbmZpcm1lZCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gZmlsZW5hbWVzLm1hcChmaWxlbmFtZSA9PiBkZWxldGVFbnRyeShmaWxlbmFtZSkpO1xuICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCggZXJyID0+IGNvbnNvbGUuZGVidWcoJ2ZhaWxlZCB0byBkZWxldGUgZmlsZXM6ICcsIGVycikpO1xuICAgIFxuICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgc2hpZnQucmVzZXQoKTtcbiAgfVxuICBzZXRTaWRlYmFyQWN0aW9ucygpO1xufVxuXG5leHBvcnQgY29uc3QgSW5pdERvY3VtZW50U2VsZWN0b3IgPSAoKTogdm9pZCA9PiB7XG4gIG9wZW5CdXR0b24hLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlT3BlbkRvY3VtZW50cyk7XG4gIGRlbGV0ZUJ1dHRvbiEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVEZWxldGVEb2N1bWVudHMpO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS5tZXRhS2V5KSBtZXRhS2V5SXNQcmVzc2VkID0gdHJ1ZTtcbiAgICBpZiAoZS5zaGlmdEtleSkgc2hpZnRLZXlJc1ByZXNzZWQgPSB0cnVlO1xuICAgIC8vIExvc2UgZm9jdXMgb24gZXNjIGtleVxuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgICBzaGlmdC5yZXNldCgpO1xuICAgICAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7XG4gICAgaWYgKCFlLm1ldGFLZXkpIG1ldGFLZXlJc1ByZXNzZWQgPSBmYWxzZTtcbiAgICBpZiAoIWUuc2hpZnRLZXkpIHNoaWZ0S2V5SXNQcmVzc2VkID0gZmFsc2U7XG4gIH0pO1xuXG4gIC8vIExvc2UgZm9jdXMgaWYgY2xpY2sgZXZlbnQgaW4gbWFpbiBzZWN0aW9uIGlzIG5vdCBhIGJ1dHRvblxuICBjb25zdCBiYWNrZ3JvdW5kOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXNlY3Rpb24tY29udGVudCcpO1xuICBiYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IGNsYXNzTGlzdCA9ICg8RWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0O1xuICAgIGlmICggIVsnZG9jdW1lbnQtZW50cnknLCAnZmlsZW5hbWUtdGV4dCddLnNvbWUoY2xhc3NOYW1lID0+IGNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSApIHtcbiAgICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgICBzaGlmdC5yZXNldCgpO1xuICAgICAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpO1xufSIsImltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5pbXBvcnQgeyBOZW9uTWFuaWZlc3QsIGFsbERvY3MgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBsb2NhbE1hbmlmZXN0IGZyb20gJy4uLy4uL2Fzc2V0cy9tYW5pZmVzdC5qc29uJztcbmltcG9ydCB7IHNhbXBsZXMgfSBmcm9tICcuL3NhbXBsZXNfZmlsZW5hbWVzJztcblxuY29uc3QgZGIgPSBuZXcgUG91Y2hEQignTmVvbi1Vc2VyLVN0b3JhZ2UnKTtcblxuZnVuY3Rpb24gZ2V0QWxsRG9jdW1lbnRzKCk6IFByb21pc2U8YWxsRG9jcz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRiLmFsbERvY3MoeyBpbmNsdWRlX2RvY3M6IHRydWUgfSlcbiAgICAgIC50aGVuKHJlc3VsdCA9PiByZXNvbHZlKHJlc3VsdCkpXG4gICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgcmV0dXJuIGF3YWl0IGdldEFsbERvY3VtZW50cygpXG4gICAgLnRoZW4oIChyZXM6IGFsbERvY3MpID0+IHtcbiAgICAgIHJldHVybiByZXMucm93cy5tYXAoIHJvdyA9PiByb3cua2V5KTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NvdWxkXFwnbnQgZmV0Y2ggdXBsb2FkZWQgZG9jdW1lbnRzJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hTYW1wbGVEb2N1bWVudHMoKTogc3RyaW5nW10ge1xuICByZXR1cm4gc2FtcGxlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hbmlmZXN0KG5hbWU6IHN0cmluZywgbWVpOiBGaWxlLCBiZzogRmlsZSk6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsb2NhbE1hbmlmZXN0KSk7XG4gICAgbWFuaWZlc3RbJ0BpZCddID0gdXVpZHY0KCk7XG4gICAgbWFuaWZlc3RbJ3RpdGxlJ10gPSBuYW1lO1xuICAgIG1hbmlmZXN0Wyd0aW1lc3RhbXAnXSA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpO1xuXG4gICAgY29uc3QgbWVpUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgbWVpUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIG1laVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKG1laVJlYWRlci5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICBtZWlSZWFkZXIucmVhZEFzRGF0YVVSTChtZWkpO1xuICAgIH0pO1xuICAgIGNvbnN0IGJnUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgYmdSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgYmdSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShiZ1JlYWRlci5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICBiZ1JlYWRlci5yZWFkQXNEYXRhVVJMKGJnKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1laVVyaSA9IGF3YWl0IG1laVByb21pc2U7XG4gICAgY29uc3QgYmdVcmkgPSBhd2FpdCBiZ1Byb21pc2U7XG4gICAgbWFuaWZlc3RbJ2ltYWdlJ10gPSBiZ1VyaTtcbiAgICBtYW5pZmVzdFsnbWVpX2Fubm90YXRpb25zJ10gPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ0Fubm90YXRpb24nLFxuICAgICAgICBib2R5OiBtZWlVcmksXG4gICAgICAgIHRhcmdldDogYmdVcmlcbiAgICAgIH1cbiAgICBdO1xuICAgIHJlc29sdmUobWFuaWZlc3QpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudHJ5KHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ6IEJsb2IsIHNpbmdsZTogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRiLnB1dCh7XG4gICAgICBfaWQ6IHRpdGxlLFxuICAgICAga2luZDogc2luZ2xlID8gJ3BhZ2UnIDogJ21hbnVzY3JpcHQnLFxuICAgICAgX2F0dGFjaG1lbnRzOiB7XG4gICAgICAgIG1hbmlmZXN0OiB7XG4gICAgICAgICAgY29udGVudF90eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicsXG4gICAgICAgICAgZGF0YTogY29udGVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkudGhlbihfID0+IHtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIHdpbmRvdy5hbGVydChgRXJyb3IgVXBsb2FkaW5nIERvY3VtZW50OiAke2Vyci5tZXNzYWdlfSwgJHt0aXRsZX0uYCk7XG4gICAgICByZWplY3QoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUVudHJ5KGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkYi5nZXQoaWQpXG4gICAgICAudGhlbihkb2MgPT4ge1xuICAgICAgICBkYi5yZW1vdmUoZG9jKVxuICAgICAgICAgIC50aGVuKF8gPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBzYW1wbGVzID0gW1xuICAnQ0YtMDA1JyxcbiAgJ0NGLTAwOScsXG4gICdDRi0wMTAnLFxuICAnQ0YtMDExJyxcbiAgJ0NGLTAxMicsXG4gICdDRi0wMTMnLFxuICAnQ0YtMDE0JyxcbiAgJ0NGLTAxNScsXG4gICdDRi0wMTYnLFxuICAnQ0YtMDE3JyxcbiAgJ0NGLTAxOCcsXG4gICdDRi0wMTknLFxuICAnQ0YtMDIwJyxcbiAgJ0NGLTAyNCcsXG4gICdDRi0wMjUnLFxuICAnQ0YtMDI2JyxcbiAgJ0NGLTAyNycsXG4gICdDRi0wMjgnLFxuICAnQ0YtMDI5JyxcbiAgJ0NGLTAzMCcsXG4gICdDRi0wMzEnLFxuICAnQ0YtMDMyJyxcbiAgJ0NGLTAzMycsXG4gICdDRi0wMzQnLFxuICAnQ0YtMDM1JyxcbiAgJ0NGLTAzNicsXG4gICdDRi0wMzcnLFxuICAnQ0YtMDM4JyxcbiAgJ0NGLTAzOScsXG4gICdDRi0wNDAnLFxuICAnQ0YtMDQxJyxcbiAgJ0NGLTA0MicsXG4gICdDRi0wNDQnLFxuICAnQ0YtMDQ1JyxcbiAgJ0NGLTA0NicsXG4gICdDRi0wNDcnLFxuICAnQ0YtMDQ4JyxcbiAgJ0NGLTA0OScsXG4gICdDRi0wNTAnLFxuICAnQ0YtMDUxJyxcbiAgJ0NGLTA1MicsXG4gICdDRi0wNTMnLFxuICAnQ0YtMDU0JyxcbiAgJ0NGLTA1NScsXG4gICdDRi0wNTYnLFxuICAnU2FsemlubmVzJ1xuXTtcbiIsImV4cG9ydCBmdW5jdGlvbiBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZTogc3RyaW5nLCBtYXhMZW46IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGNodW5rTGVuID0gTWF0aC5mbG9vcihtYXhMZW4vMik7XG4gIGNvbnN0IGxlbiA9IGZpbGVuYW1lLmxlbmd0aDtcbiAgaWYgKGxlbiA8PSBtYXhMZW4pIHJldHVybiBmaWxlbmFtZTtcbiAgZWxzZSByZXR1cm4gYCR7ZmlsZW5hbWUuc3Vic3RyaW5nKDAsY2h1bmtMZW4tMSl9Li4uJHtmaWxlbmFtZS5zdWJzdHJpbmcobGVuLWNodW5rTGVuKzIsIGxlbil9YDtcbn1cblxuLy8gUmVuYW1lcyBmaWxlIGlmIHRoZXJlIGFyZSBuYW1pbmcgY29uZmxpY3RzLCBpbiB0aGUgZm9ybSBvZiAnZm9vYmFyICgxKSdcbmV4cG9ydCBmdW5jdGlvbiByZW5hbWVGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGNvbXBhcmlzb25zOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gIGNvbnN0IHJlZyA9IG5ldyBSZWdFeHAoZmlsZW5hbWUpO1xuICBjb25zdCByZXN1bHRzID0gY29tcGFyaXNvbnMuZmlsdGVyKChjb21wYXJpc29uOiBzdHJpbmcpID0+IHJlZy50ZXN0KGNvbXBhcmlzb24pKTtcblxuICBpZiAocmVzdWx0cy5sZW5ndGggIT09IDApIHtcbiAgICAvLyBGaW5kIGxvd2VzdCBkaWdpdCB0byBuYW1lXG4gICAgY29uc3QgZGlnaXRzUmVnID0gL1xcKFxcZCtcXCksL2c7XG4gICAgY29uc3Qgc291cCA9IHJlc3VsdHMuam9pbigpLmNvbmNhdCgnLCcpO1xuICAgIGNvbnN0IGRpZ2l0c1Jlc3VsdHMgPSBzb3VwLm1hdGNoKGRpZ2l0c1JlZyk7XG4gICAgXG4gICAgLy8gSWYgbm8gZGlnaXQgbWF0Y2hlcyB0aGVuIGdvIHRvIGVsc2Ugc3RhdGVtZW50XG4gICAgaWYgKGRpZ2l0c1Jlc3VsdHMgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGRpZ2l0czogbnVtYmVyW10gPSBkaWdpdHNSZXN1bHRzLm1hcChzdHIgPT4ge1xuICAgICAgICBjb25zdCBzdHJpcHBlZCA9IHN0ci5zdWJzdHJpbmcoMSwgc3RyLmxlbmd0aC0yKTtcbiAgICAgICAgcmV0dXJuIE51bWJlcihzdHJpcHBlZCk7XG4gICAgICB9KTtcbiAgICAgIGRpZ2l0cy5zb3J0KCk7XG5cbiAgICAgIGNvbnN0IGlkeCA9IGRpZ2l0cy5pbmRleE9mKDEpO1xuICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybiBgJHtmaWxlbmFtZX0oMSlgO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBwcmV2ID0gMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGlkeCsxIDsgaSA8IGRpZ2l0cy5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBjdXIgPSBkaWdpdHNbaV07XG4gICAgICAgICAgaWYgKGN1ciAhPT0gcHJldiArIDEpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke2ZpbGVuYW1lfSgke3ByZXYrMX0pYDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSByZXR1cm4gYCR7ZmlsZW5hbWV9KDEpYDtcbiAgfSBcbiAgZWxzZSByZXR1cm4gZmlsZW5hbWU7XG59IiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgRmlsZU1hbmFnZXIgZnJvbSAnLi9GaWxlTWFuYWdlcic7XG5pbXBvcnQgeyBmb3JtYXRGaWxlbmFtZSwgcmVuYW1lRmlsZSB9IGZyb20gJy4vZnVuY3Rpb25zJztcbmltcG9ydCB7IGNyZWF0ZU1hbmlmZXN0LCBhZGRFbnRyeSwgZmV0Y2hTYW1wbGVEb2N1bWVudHMsIGZldGNoVXBsb2FkZWREb2N1bWVudHMgfSBmcm9tICcuL1N0b3JhZ2UnO1xuXG5jb25zdCBmbSA9IEZpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGROZXdGaWxlcyggZmlsZXM6IEZpbGVbXSApOiBGaWxlW10ge1xuICBjb25zdCBtZWlfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZWlfbGlzdCcpO1xuICBjb25zdCBpbWFnZV9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlX2xpc3QnKTtcblxuICBjb25zdCByZWplY3RGaWxlczogRmlsZVtdID0gW107XG4gIGZpbGVzLmZvckVhY2goIGZpbGUgPT4ge1xuICAgIGNvbnN0IGV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuXG4gICAgaWYgKCBleHQgPT09ICdtZWknICkge1xuICAgICAgY29uc3QgdW5wYWlyZWRJdGVtID0gY3JlYXRlVW5wYWlyZWRJdGVtKGZpbGUubmFtZSwgJ21laScpO1xuICAgICAgbWVpX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh1bnBhaXJlZEl0ZW0pO1xuICAgICAgZm0uYWRkRmlsZShmaWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIFsncG5nJywnanBnJywnanBlZyddLmluY2x1ZGVzKGV4dCkgKSB7XG4gICAgICBjb25zdCB1bnBhaXJlZEl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0oZmlsZS5uYW1lLCAnaW1hZ2UnKTtcbiAgICAgIGltYWdlX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh1bnBhaXJlZEl0ZW0pO1xuICAgICAgZm0uYWRkRmlsZShmaWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIGV4dCA9PT0gJ2pzb25sZCcgKSB7XG4gICAgICAvLyAvLyByZW1vdmUgbWFudXNjcmlwdCBzdXBwb3J0IGZvciB0aGUgaW1tZWRpYXRlIGZ1dHVyZSFcbiAgICAgIC8vIGNvbnN0IG1hbnVzY3JpcHRUaWxlID0gY3JlYXRlTWFudXNjcmlwdFRpbGUoZmlsZS5uYW1lKTtcbiAgICAgIC8vIG1hbnVzY3JpcHRfY29udGFpbmVyLmFwcGVuZENoaWxkKG1hbnVzY3JpcHRUaWxlKTtcbiAgICAgIC8vIGZtLmFkZEZpbGUoZmlsZSk7XG4gICAgICAvLyBmbS5hZGRNYW51c2NyaXB0KGZpbGUubmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVqZWN0RmlsZXMucHVzaChmaWxlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVqZWN0RmlsZXM7XG59IFxuXG5mdW5jdGlvbiBjcmVhdGVVbnBhaXJlZEl0ZW0oZmlsZW5hbWU6IHN0cmluZywgZ3JvdXA6IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcbiAgaWYgKGdyb3VwICE9PSAnbWVpJyAmJiBncm91cCAhPT0gJ2ltYWdlJykgcmV0dXJuO1xuICBjb25zdCByYWRpb05hbWUgPSAnbWVpJyA9PT0gZ3JvdXAgPyAnbWVpX3JhZGlvX2dyb3VwJyA6ICdpbWFnZV9yYWRpb19ncm91cCc7XG4gIGNvbnN0IGlkID0gdXVpZHY0KCk7XG5cbiAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub2RlLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9pdGVtX2NvbnRhaW5lcic7XG5cbiAgY29uc3QgcmFkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICByYWRpby50eXBlID0gJ3JhZGlvJztcbiAgcmFkaW8uY2xhc3NOYW1lID0gJ3VucGFpcmVkX2l0ZW1fcmFkaW8nO1xuICByYWRpby5uYW1lID0gcmFkaW9OYW1lO1xuICByYWRpby52YWx1ZSA9IGZpbGVuYW1lO1xuICByYWRpby5pZCA9IGlkO1xuXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWwuY2xhc3NOYW1lID0gJ3VucGFpcmVkX2l0ZW1fbGFiZWwnO1xuICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIGlkKTtcblxuICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICB0ZXh0LmlubmVyVGV4dCA9IGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lLCAyOCk7XG5cbiAgbGFiZWwuYXBwZW5kQ2hpbGQocmFkaW8pO1xuICBsYWJlbC5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgbm9kZS5hcHBlbmRDaGlsZChsYWJlbCk7XG4gIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTWFrZVBhaXIoKTogdm9pZCB7XG4gIGNvbnN0IHBhaXJlZF9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhaXJlZF9saXN0Jyk7XG5cbiAgLy8gZ2V0IGFuZCBjaGVjayBpZiBzZWxlY3RlZCByYWRpbyBleGlzdHNcbiAgY29uc3Qgc2VsZWN0ZWRNZWlFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cIm1laV9yYWRpb19ncm91cFwiXTpjaGVja2VkJyk7XG4gIGNvbnN0IHNlbGVjdGVkSW1hZ2VFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImltYWdlX3JhZGlvX2dyb3VwXCJdOmNoZWNrZWQnKTtcbiAgaWYgKHNlbGVjdGVkTWVpRWxlbWVudCA9PT0gbnVsbCB8fCBzZWxlY3RlZEltYWdlRWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuICBcbiAgY29uc3QgbWVpX2ZpbGVuYW1lID0gc2VsZWN0ZWRNZWlFbGVtZW50LnZhbHVlO1xuICBjb25zdCBpbWFnZV9maWxlbmFtZSA9IHNlbGVjdGVkSW1hZ2VFbGVtZW50LnZhbHVlO1xuICBjb25zdCBmaWxlbmFtZSA9IG1laV9maWxlbmFtZS5zdWJzdHJpbmcoMCwgbWVpX2ZpbGVuYW1lLmxlbmd0aC00KTtcbiAgLy8gbWFrZSBhbmQgYXBwZW5kIFVJIGVsZW1lbnRcbiAgY29uc3QgcGFpcmVkX2VsID0gY3JlYXRlUGFpcmVkVGlsZShmaWxlbmFtZSwgbWVpX2ZpbGVuYW1lLCBpbWFnZV9maWxlbmFtZSk7XG4gIHBhaXJlZF9jb250YWluZXIuYXBwZW5kQ2hpbGQocGFpcmVkX2VsKTtcbiAgLy8gcmVmbGVjdCBpbiBmaWxlIG1hbmFnZXJcbiAgZm0uYWRkRm9saW8oZmlsZW5hbWUsIG1laV9maWxlbmFtZSwgaW1hZ2VfZmlsZW5hbWUpO1xuICAvLyByZW1vdmUgZnJvbSB1bnBhaXJlZCBtZWkgYW5kIGltYWdlIGxpc3RzXG4gIHNlbGVjdGVkTWVpRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gIHNlbGVjdGVkSW1hZ2VFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFpcmVkVGlsZShmaWxlbmFtZTogc3RyaW5nLCBtZWlfZmlsZW5hbWU6IHN0cmluZywgaW1hZ2VfZmlsZW5hbWU6IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcbiAgY29uc3QgbWVpX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVpX2xpc3QnKTtcbiAgY29uc3QgaW1hZ2VfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZV9saXN0Jyk7XG5cbiAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aWxlLmNsYXNzTmFtZSA9ICd0aWxlX2l0ZW0nO1xuICB0aWxlLnNldEF0dHJpYnV0ZSgnbWVpJywgbWVpX2ZpbGVuYW1lKTtcbiAgdGlsZS5zZXRBdHRyaWJ1dGUoJ2ltYWdlJywgaW1hZ2VfZmlsZW5hbWUpO1xuXG4gIGNvbnN0IHRpbGVfZmlsZW5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGlsZV9maWxlbmFtZS5jbGFzc0xpc3QuYWRkKCd0aWxlLWZpbGVuYW1lJyk7XG4gIHRpbGVfZmlsZW5hbWUuaW5uZXJIVE1MID0gZm9ybWF0RmlsZW5hbWUoZmlsZW5hbWUsIDI1KTtcbiAgdGlsZS5hcHBlbmRDaGlsZCh0aWxlX2ZpbGVuYW1lKTsgXG5cbiAgZnVuY3Rpb24gaGFuZGxlVW5wYWlyKCkge1xuICAgIC8vIHJlbW92ZSB0aWxlIGZyb20gVUlcbiAgICB0aWxlLnJlbW92ZSgpO1xuICAgIC8vIHJlbW92ZSBmb2xpbyBmcm9tIGZpbGUgbWFuYWdlclxuICAgIGZtLnJlbW92ZUZvbGlvKGZpbGVuYW1lKTtcbiAgICAvLyBhZGQgaXRlbXMgYmFjayB0byB1bnBhaXJlZCBjb250YWluZXJzXG4gICAgY29uc3QgbWVpSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShtZWlfZmlsZW5hbWUsICdtZWknKTtcbiAgICBtZWlfY29udGFpbmVyLmFwcGVuZENoaWxkKG1laUl0ZW0pO1xuICAgIGNvbnN0IGltYWdlSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShpbWFnZV9maWxlbmFtZSwgJ2ltYWdlJyk7XG4gICAgaW1hZ2VfY29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlSXRlbSk7XG4gIH1cblxuICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9ICfijKsnO1xuICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2RlbGV0ZV9idXR0b24nO1xuICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVVbnBhaXIpO1xuICB0aWxlLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG5cbiAgcmV0dXJuIHRpbGU7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVVcGxvYWRBbGxEb2N1bWVudHMoKTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgdXBsb2FkcyA9IGF3YWl0IGZldGNoVXBsb2FkZWREb2N1bWVudHMoKTtcbiAgY29uc3Qgc2FtcGxlcyA9IGZldGNoU2FtcGxlRG9jdW1lbnRzKCk7XG4gIGNvbnN0IGV4aXN0aW5nTmFtZXMgPSB1cGxvYWRzLmNvbmNhdChzYW1wbGVzKTtcblxuICBjb25zdCBmb2xpb1Byb21pc2VzID0gZm0uZ2V0Rm9saW9zKClcbiAgICAubWFwKCBhc3luYyAoW25hbWUsIG1laSwgaW1hZ2VdOiBbc3RyaW5nLCBGaWxlLCBGaWxlXSkgPT4ge1xuICAgICAgY29uc3QgbmV3TmFtZSA9IHJlbmFtZUZpbGUobmFtZSwgZXhpc3RpbmdOYW1lcyk7XG4gICAgICBleGlzdGluZ05hbWVzLnB1c2gobmV3TmFtZSk7XG4gICAgICByZXR1cm4gYXdhaXQgdXBsb2FkRm9saW8obmV3TmFtZSwgbWVpLCBpbWFnZSlcbiAgICB9KTtcbiAgXG4gIGZtLmNsZWFyKCk7XG5cbiAgY29uc3QgcHJvbWlzZXMgPSBcbiAgICBmb2xpb1Byb21pc2VzXG4gICAgICAubWFwKHAgPT4gXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShwKVxuICAgICAgICAgIC50aGVuKHZhbHVlID0+ICh7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlIH0pLFxuICAgICAgICAgICAgICAgIHJlYXNvbiA9PiAoeyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbiB9KVxuICAgICAgICAgIClcbiAgICAgICk7XG4gIFxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGxvYWRGb2xpbyhuYW1lOiBzdHJpbmcsIG1laTogRmlsZSwgaW1hZ2U6IEZpbGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIGNyZWF0ZU1hbmlmZXN0KG5hbWUsIG1laSwgaW1hZ2UpXG4gICAgLnRoZW4obWFuaWZlc3QgPT4ge1xuICAgICAgY29uc3QgbWFuaWZlc3RCbG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LCBudWxsLCAyKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2xkK2pzb24nIH0pO1xuICAgICAgcmV0dXJuIGFkZEVudHJ5KG5hbWUsIG1hbmlmZXN0QmxvYiwgdHJ1ZSk7XG4gICAgfSk7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZE1hbnVzY3JpcHQobWFudXNjcmlwdDogRmlsZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuLy8gICByZXR1cm4gYWRkRW50cnkobWFudXNjcmlwdC5uYW1lLCBtYW51c2NyaXB0LCBmYWxzZSk7XG4vLyB9IiwiLyoqXG4gKiBTaW5nbGV0b24gbWFuYWdlbWVudCBzeXN0ZW0sIHVzZSBnZXRJbnN0YW5jZSgpIHRvIHJldHJpZXZlIGluc3RhbmNlLlxuICovXG5jbGFzcyBGaWxlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBGaWxlTWFuYWdlcjtcblxuICBwcml2YXRlIGFsbEZpbGVzID0gbmV3IE1hcDxzdHJpbmcsIHtmaWxlOiBGaWxlLCBjb3VudDogbnVtYmVyfT4oKTtcbiAgcHJpdmF0ZSBmb2xpb3MgPSBuZXcgQXJyYXk8Zm9saW8+KCk7IC8vIGZpbGVuYW1lLCBtZWlfZmlsZW5hbWUsIGltYWdlX2ZpbGVuYW1lXG4gIC8vIHByaXZhdGUgbWFudXNjcmlwdHMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBGaWxlTWFuYWdlciB7XG4gICAgaWYgKCFGaWxlTWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgRmlsZU1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgRmlsZU1hbmFnZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEZpbGVNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIGFkZEZpbGUoZmlsZTogRmlsZSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5hbGxGaWxlcy5oYXMoZmlsZS5uYW1lKSkge1xuICAgICAgY29uc3QgbmV3RW50cnkgPSB7IGZpbGU6IGZpbGUsIGNvdW50OiAxIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChmaWxlLm5hbWUsIG5ld0VudHJ5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBleGlzdGluZ0NvdW50ID0gdGhpcy5nZXRGaWxlQ291bnQoZmlsZS5uYW1lKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRFbnRyeSA9IHsgZmlsZTogZmlsZSwgY291bnQ6IGV4aXN0aW5nQ291bnQrMSB9O1xuICAgICAgdGhpcy5hbGxGaWxlcy5zZXQoZmlsZS5uYW1lLCB1cGRhdGVkRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRGaWxlKGtleTogc3RyaW5nKTogRmlsZSB7XG4gICAgaWYgKHRoaXMuYWxsRmlsZXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGU7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZUZpbGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuZ2V0RmlsZUNvdW50KGtleSk7XG4gICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm47XG4gICAgZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgIHRoaXMuYWxsRmlsZXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgdXBkYXRlZEVudHJ5ID0geyBmaWxlOiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGUsIGNvdW50OiBjb3VudC0xIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChrZXksIHVwZGF0ZWRFbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEZpbGVDb3VudChrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgaWYgKCB0aGlzLmFsbEZpbGVzLmhhcyhrZXkpICkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsRmlsZXMuZ2V0KGtleSkuY291bnQ7XG4gICAgfVxuICAgIGVsc2UgcmV0dXJuIDA7XG4gIH1cblxuICBwdWJsaWMgYWRkRm9saW8obmFtZTogc3RyaW5nLCBtZWk6IHN0cmluZywgaW1hZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IG5ld0ZvbGlvOiBmb2xpbyA9IHtcbiAgICAgIGZpbGVuYW1lOiBuYW1lLFxuICAgICAgbWVpX2ZpbGVuYW1lOiBtZWksXG4gICAgICBpbWFnZV9maWxlbmFtZTogaW1hZ2VcbiAgICB9XG4gICAgdGhpcy5mb2xpb3MucHVzaChuZXdGb2xpbyk7XG4gIH1cblxuICAvLyBwdWJsaWMgYWRkTWFudXNjcmlwdChmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgdGhpcy5tYW51c2NyaXB0cy5wdXNoKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyByZW1vdmVGb2xpbyhmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5mb2xpb3MuZmluZEluZGV4KCBmb2xpbyA9PiBmb2xpby5maWxlbmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgIHRoaXMuZm9saW9zLnNwbGljZShpZHgsIDEpO1xuICB9XG5cbiAgLy8gcHVibGljIHJlbW92ZU1hbnVzY3JpcHQoZmlsZW5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAvLyAgIGNvbnN0IGlkeCA9IHRoaXMubWFudXNjcmlwdHMuZmluZEluZGV4KG1hbnVzY3JpcHQgPT4gbWFudXNjcmlwdCA9PT0gZmlsZW5hbWUpO1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuc3BsaWNlKGlkeCk7XG4gIC8vICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyBnZXRGb2xpb3MoKTogW3N0cmluZywgRmlsZSwgRmlsZV1bXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9saW9zLm1hcCggZm9saW8gPT4ge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBmb2xpby5maWxlbmFtZTtcbiAgICAgIGNvbnN0IG1laV9maWxlbmFtZSA9IGZvbGlvLm1laV9maWxlbmFtZTtcbiAgICAgIGNvbnN0IGltYWdlX2ZpbGVuYW1lID0gZm9saW8uaW1hZ2VfZmlsZW5hbWU7XG4gICAgICByZXR1cm4gW2ZpbGVuYW1lLCB0aGlzLmdldEZpbGUobWVpX2ZpbGVuYW1lKSwgdGhpcy5nZXRGaWxlKGltYWdlX2ZpbGVuYW1lKV07XG4gICAgfSk7XG4gIH1cblxuICAvLyBwdWJsaWMgZ2V0TWFudXNjcmlwdHMoKTogRmlsZVtdIHtcbiAgLy8gICByZXR1cm4gdGhpcy5tYW51c2NyaXB0cy5tYXAoIG1hbnVzY3JpcHQgPT4gdGhpcy5nZXRGaWxlKG1hbnVzY3JpcHQpKTtcbiAgLy8gfVxuXG4gIC8vIHB1YmxpYyBjbGVhck1hbnVzY3JpcHRzKCk6IHZvaWQge1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuZm9yRWFjaCggZmlsZW5hbWUgPT4ge1xuICAvLyAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gICB9KTtcbiAgLy8gICB0aGlzLm1hbnVzY3JpcHRzID0gW107XG4gIC8vIH1cbiAgXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmFsbEZpbGVzLmNsZWFyKCk7XG4gICAgdGhpcy5mb2xpb3Muc3BsaWNlKDApO1xuICB9XG5cbiAgcHVibGljIHByaW50KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYWxsRmlsZXMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZm9saW9zKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1hbnVzY3JpcHRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWxlTWFuYWdlcjtcblxudHlwZSBmb2xpbyA9IHtcbiAgICBmaWxlbmFtZTogc3RyaW5nLFxuICAgIG1laV9maWxlbmFtZTogc3RyaW5nLFxuICAgIGltYWdlX2ZpbGVuYW1lOiBzdHJpbmdcbn0iLCJpbXBvcnQgeyBJbml0RG9jdW1lbnRTZWxlY3RvciB9IGZyb20gJy4uLy4uL3NyYy9EYXNoYm9hcmQvRG9jdW1lbnRTZWxlY3Rvcic7XG5pbXBvcnQgeyBJbml0VXBsb2FkQXJlYSB9IGZyb20gJy4uLy4uL3NyYy9EYXNoYm9hcmQvVXBsb2FkQXJlYSc7XG5pbXBvcnQgRmlsZU1hbmFnZXIgZnJvbSAnLi4vLi4vc3JjL0Rhc2hib2FyZC9GaWxlTWFuYWdlcic7XG5cbmV4cG9ydCBjb25zdCBmbSA9IEZpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbkluaXREb2N1bWVudFNlbGVjdG9yKCk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWQtbmV3LWRvYy1idXR0b24nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgSW5pdFVwbG9hZEFyZWEoKTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaG9tZS1saW5rJyk/LnNldEF0dHJpYnV0ZSgnaHJlZicsIF9fTElOS19MT0NBVElPTl9fKTtcblxuIiwiaW1wb3J0IHsgYWRkTmV3RmlsZXMgfSBmcm9tICcuL1VwbG9hZE1hbmFnZXInO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3csIE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4uL3V0aWxzL01vZGFsV2luZG93JztcbmltcG9ydCB7IGhhbmRsZVVwbG9hZEFsbERvY3VtZW50cywgaGFuZGxlTWFrZVBhaXIgfSBmcm9tICcuL1VwbG9hZE1hbmFnZXInO1xuaW1wb3J0IHsgdXBkYXRlRG9jdW1lbnRTZWxlY3RvciB9IGZyb20gJy4vRG9jdW1lbnRTZWxlY3Rvcic7XG5pbXBvcnQgeyBmbSB9IGZyb20gJy4uLy4uL2RlcGxveW1lbnQvc2NyaXB0cy9kYXNoYm9hcmQnO1xuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIEluaXRVcGxvYWRBcmVhKCk6IHZvaWQge1xuXG4gIC8vIGdlbmVyYXRlIG1vZGFsIHdpbmRvd1xuICBjb25zdCBtb2RhbFdpbmRvdyA9IG5ldyBNb2RhbFdpbmRvdygpO1xuICBtb2RhbFdpbmRvdy5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRCk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWtlX3BhaXInKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVNYWtlUGFpcik7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwbG9hZF9idXR0b24nKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyBmdW5jdGlvbiB1cGxvYWRBbmRVcGRhdGUoKSB7XG4gICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRpbmdfc3Bpbm5lcicpO1xuICAgIHNwaW5uZXIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzKClcbiAgICAgIC50aGVuKCAocmVzdWx0KSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVEb2N1bWVudFNlbGVjdG9yKCk7XG4gICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCggKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPbmUgb3IgbW9yZSB1cGxvYWRzIHJlamVjdGVkOiAnLCBlcnJvcik7XG4gICAgICAgIHNldFRpbWVvdXQoIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVEb2N1bWVudFNlbGVjdG9yKCk7XG4gICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfSlcbiAgfSk7XG5cbiAgLy8gRmlsZSBTeXN0ZW0gc2VsZWN0b3Igd2hlbiBjbGlja2luZyBvbiB1cGxvYWQgYXJlYVxuICBjb25zdCBmaWxlU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBmaWxlU2VsZWN0b3IudHlwZSA9ICdmaWxlJztcbiAgZmlsZVNlbGVjdG9yLm11bHRpcGxlID0gdHJ1ZTtcbiAgZmlsZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIGhhbmRsZUZpbGVTZWxlY3RvckNoYW5nZSgpIHsgXG4gICAgY29uc3QgZmlsZUxpc3Q6IEZpbGVMaXN0ID0gZmlsZVNlbGVjdG9yLmZpbGVzOyBcbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZmlsZUxpc3QpO1xuICAgIGNvbnN0IHJlamVjdEZpbGVzID0gYWRkTmV3RmlsZXMoZmlsZXMpO1xuICAgIGlmIChyZWplY3RGaWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IHJlamVjdEZpbGVzLm1hcChmaWxlID0+IGZpbGUubmFtZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoYFRoZSBmb2xsb3dpbmcgZmlsZXMgYXJlIG5vdCAubWVpLCAucG5nLCAuanBlZywgb3IgLmpzb25sZCBmaWxlczogXFxuXFxuJHtmaWxlbmFtZXMuam9pbignXFxuJyl9YCk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSBzZWxlY3Rpb25cbiAgICBmaWxlU2VsZWN0b3IudmFsdWUgPSBudWxsO1xuICB9KTtcblxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBjbGljayBhbmQgZHJhZyBhbmQgZHJvcFxuICBjb25zdCB1cGxvYWRfYXJlYTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5pdGlhbF91cGxvYWRfYXJlYScpO1xuICB1cGxvYWRfYXJlYS5vbmNsaWNrID0gKCkgPT4gZmlsZVNlbGVjdG9yLmNsaWNrKCk7XG4gIC8vIGFkZCB2aXN1YWwgY3VlcyBmb3IgZHJhZ2dpbmcgZmlsZXMgb3ZlciB1cGxvYWQgYXJlYVxuICB1cGxvYWRfYXJlYS5vbmRyYWdsZWF2ZSA9ICgpID0+IHVwbG9hZF9hcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXInKTsgXG4gIHVwbG9hZF9hcmVhLm9uZHJhZ292ZXIgPSAoZXZlbnQpID0+IHsgXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB1cGxvYWRfYXJlYS5jbGFzc0xpc3QuYWRkKCdvdmVyJyk7XG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XG4gIH07XG4gIC8vIHJlY2VpdmUgZmlsZXMgb25jZSBmaWxlcyBhcmUgZHJvcHBlZFxuICB1cGxvYWRfYXJlYS5vbmRyb3AgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHVwbG9hZF9hcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXInKTtcbiAgICBjb25zdCBmaWxlTGlzdCA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZmlsZUxpc3QpO1xuICAgIGNvbnN0IHJlamVjdEZpbGVzID0gYWRkTmV3RmlsZXMoZmlsZXMpO1xuICAgIGlmIChyZWplY3RGaWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IHJlamVjdEZpbGVzLm1hcChmaWxlID0+IGZpbGUubmFtZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoYFRoZSBmb2xsb3dpbmcgZmlsZXMgYXJlIG5vdCAubWVpLCAucG5nLCAuanBlZywgb3IgLmpzb25sZCBmaWxlczogXFxuXFxuJHtmaWxlbmFtZXMuam9pbignXFxuJyl9YCk7XG4gICAgfVxuICB9O1xufSJdLCJzb3VyY2VSb290IjoiIn0=