!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=85)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=u(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)o(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,o,s=[n(36),n(37),n(38),n(39),n(40),n(41)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var f=-1,h=s.length;++f<h;)if(s[f]&&s[f].test&&s[f].test()){o=s[f].install(d);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),l||i||(l=!0,o())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(15),r=n(16),o=n(24),s=n(25),a=n(13),c=n(8);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function u(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill="")}),"selBySyllable"==l()&&Array.from(document.getElementsByClassName("divLine")).forEach(e=>{e.style.stroke="black"}),Array.from(document.getElementsByClassName("neume")).forEach(e=>{e.style.fill=""}),Array.from(document.getElementsByClassName("text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),Array.from(document.getElementsByClassName("sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),Array.from(document.getElementsByClassName("syllable-highlighted")).forEach(e=>{e.style.fill="",e.classList.add("syllable"),e.classList.remove("syllable-highlighted")}),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove(),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():o.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function d(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSplitActions(),o.initGroupingListeners(),t.dragInit())}function f(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function h(e,t,n=!0){if(e){if(e.classList.contains("staff"))return d(e,t);if(e.classList.contains("layer"))return f(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&"neume"==(0,r.getHighlightType)()&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function p(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function m(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function g(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const o=e.closest(".syllable");o.style.fill="#d00",o.classList.add("syllable-highlighted"),void 0!==n&&(0,s.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}}t.getSelectionType=l,t.unselect=u,t.selectStaff=d,t.selectLayerElement=f,t.select=h,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(u(),h(i),await p(i,t)){const e=i.previousSibling;if(await p(e,t))h(e);else{const e=i.nextSibling;await p(e,t)?h(e):console.warn("Error: Neither prev or next nc are ligatures")}o.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=p,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=n.indexOf(t),s=n.indexOf(r);if(1!==Math.abs(o-s))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!m(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=m,t.sharedSecondLevelParent=g,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,o;return e.querySelectorAll("path").forEach(e=>{const s=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===o&&(o=Math.atan((s[3]-s[1])/(s[2]-s[0]))),(void 0===n||Math.min(s[1],s[3])<n)&&(n=Math.min(s[1],s[3])),(void 0===t||s[0]<t)&&(t=s[0]),(void 0===r||Math.max(s[1],s[3])>r)&&(r=Math.max(s[1],s[3])),(void 0===i||s[2]>i)&&(i=s[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:o}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{h(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(u(),0===e.length)return;let r,c=!1,d=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const f=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else d=d||!0;f.add(e);const n=e.getAttribute("mei:follows");n&&(document.querySelector("#"+n.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+n.slice(1))));const i=e.getAttribute("mei:precedes");i&&(document.querySelector("#"+i.slice(1)).classList.add("no-moving"),f.add(document.querySelector("#"+i.slice(1))))}f.forEach(e=>h(e,n,!1));const p=Array.from(f.values());if(!c||d)switch(i){case"selByStaff":switch(p.length){case 1:a.triggerSplitActions(),o.initGroupingListeners(),(0,s.resize)(p[0],t,n);break;default:a.triggerStaffActions(),o.initGroupingListeners()}break;case"selByLayerElement":1===f.size&&p[0].classList.contains("clef")?a.triggerClefActions(p[0]):1===f.size&&p[0].classList.contains("custos")?a.triggerCustosActions():1===f.size&&p[0].classList.contains("accid")?a.triggerAccidActions(p[0]):1===f.size&&p[0].classList.contains("divLine")?a.triggerLayerElementActions(p[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(p.length){case 1:a.triggerSyllableActions("singleSelect");break;case 2:o.isLinkable("selBySyllable",p)?a.triggerSyllableActions("linkableSelect"):o.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default");break;default:o.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(p.length){case 1:a.triggerNeumeActions(),o.initGroupingListeners();break;default:o.isGroupable("selByNeume",p)?o.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(p.length){case 1:a.triggerNcActions(p[0]);break;case 2:if(g(p)){if(p[0].parentElement===p[1].parentElement){const e=Array.from(p[0].parentElement.children);if(1===Math.abs(e.indexOf(p[0])-e.indexOf(p[1]))){let e=p[0].children[0],t=p[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,s=t.y.baseVal.value;if((n>i||n===i&&r<s)&&([e,t]=[t,e],[n,r,i,s]=[i,s,n,r]),n===i||r<s){o.triggerGrouping("ligature");break}}}o.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:g(p)?o.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(p.length){case 1:v(p[0],n,t),a.triggerDefaultActions();break;default:p.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===f.size&&p[0].classList.contains("clef")?a.triggerClefActions(p[0]):1===f.size&&p[0].classList.contains("custos")?a.triggerCustosActions():1===f.size&&p[0].classList.contains("accid")?a.triggerAccidActions(p[0]):1===f.size&&p[0].classList.contains("divLine")?a.triggerLayerElementActions(p[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(27),r=n(23),o=new Array(0);let s=null,a=!1;const c={default:"",warning:"⚠️ ",error:"🔴 ",success:"✅ "};class l{constructor(e,t){this.message=c[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function u(e){document.getElementById(e).remove(),null!==s&&s.getId()===e&&(s=null),o.length>0?d():0===document.querySelectorAll(".neon-notification").length&&(document.getElementById("notification-content").style.display="none",a=!1)}function d(){if(o.length>0){a=!0;const e=o.pop();!function(e){if(e.isModeMessage){if(null!==s)return window.clearTimeout(s.timeoutID),o.push(e),void u(s.getId());s=e}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(u,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),u(e.getId())})}}function f(e,t="default"){const n=new l(e,t);o.push(n),"error"!=n.type&&"warning"!=n.type||(0,i.recordNotification)(n),(!a||document.getElementById("notification-content").querySelectorAll(".neon-notification").length<3)&&d()}t.Notification=l,t.queueNotification=f,t.default={queueNotification:f}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,highlightMode:"none",selectionMode:"selBySyllable",displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.clefActionContents=t.splitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.staffActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by is-active" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.staffActionContents='<label>Merge Systems:</label>\n    <button id="merge-systems" class="side-panel-btn">Merge</button>\n    <button class="side-panel-btn" id="delete">Delete</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.splitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: visible; padding: 0.5em 0.75em;"><div>'},function(e,t){e.exports=d3},function(e,t,n){"use strict";for(var i=n(10),r=[],o=0;o<256;++o)r.push((o+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(3);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".system"),{x:r,y:o}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:o}}function o(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:o,y:s}=r(e,t),a=n.find(e=>o<=e.lrx&&o>=e.ulx&&s<=e.lry&&s>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=o,t.getStaffByCoords=function(e,t){const n=o(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerSplitActions=t.triggerStaffSplitMode=t.triggerStaffActions=t.triggerLayerElementActions=t.triggerAccidActions=t.triggerCustosActions=t.triggerClefActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(7),r=n(24),o=n(4),s=n(33),a=n(34),c=n(3);let l;function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function p(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function m(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function g(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",m)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Insert Success","success"):o.default.queueNotification("Insert Failed XoX","error"),g(),l.updateForCurrentPage()})}function _(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Move Success","success"):o.default.queueNotification("Move Failed XoX","error"),g(),l.updateForCurrentPage()})}function w(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",m))}function k(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function S(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function E(){const e=document.querySelector(".staff.selected");if(null!==e){new s.SplitStaffHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}function L(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=u,t.unsetVirgaAction=d,t.unsetVirgaReversedAction=f,t.unsetLiquescentClockwiseAction=h,t.unsetLiquescentAnticlockwiseAction=p,t.deleteButtonHandler=m,t.endOptionsSelection=g,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=_,t.addChangeStaffListener=k,t.triggerNcActions=function(e){g(),S("moreEdit",i.defaultActionContents),S("extraEdit",i.ncActionContents),w(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=h(e.id),s=p(e.id);l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=f(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=f(e.id),n=u(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"c"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=h(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"a"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerNeumeActions=function(){g(),S("moreEdit",i.defaultNeumeActionContents),S("extraEdit",i.neumeActionContents),w();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Grouping Changed","success"):o.default.queueNotification("Grouping Failed","error"),g(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),L()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){g(),S("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}S("moreEdit",t,!0),k(),w(),r.initGroupingListeners()},t.triggerClefActions=function(e){var t,n;g(),S("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents),S("extraEdit",i.clefActionContents),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave incremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave decremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"C"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"F"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerCustosActions=function(){g(),S("moreEdit",i.custosActionContents),k(),w()},t.triggerAccidActions=function(e){var t,n;g(),S("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),S("extraEdit",i.accidActionContents),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerLayerElementActions=function(e){var t,n;g(),S("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_)},t.triggerStaffActions=function(){g(),S("moreEdit",i.staffActionContents),w(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=E,t.triggerSplitActions=function(){g(),S("moreEdit",i.splitActionContents),w(),document.getElementById("split-system").addEventListener("click",()=>{E()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),g()}else console.error("No staff was selected"),g()})},t.triggerDefaultSylActions=function(){g(),S("moreEdit",i.defaultSylActionContents),w(),k()},t.triggerDefaultActions=function(){g(),S("moreEdit",i.defaultActionContents),w()}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(u,o),u}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,l,r),s.set(a),o)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(o(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,c=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(u,o),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function o(){r()}function s(){o();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=o,t.unsetGroupingHighlight=s,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(s(),"staff"===t)return void c();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t);for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}n[e].classList.contains("divLine")&&(n[e].setAttribute("stroke",t),n[e].setAttribute("stroke-width","30px"))}document.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setBgOpacityFromSlider=t.setOpacityFromSlider=t.setZoomControls=void 0;const i=n(15),r=n(6);let o,s;function a(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"):n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg");try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function c(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"):n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg");const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function l(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),o=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return o.textContent=" - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),o.textContent=" - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function u(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{l(e)})}function d(){document.body.removeEventListener("click",d),document.getElementById("highlight-dropdown").classList.remove("is-active")}function f(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",d),u("staff"),u("syllable"),u("neume"),u("layerElement"),u("none")):document.body.removeEventListener("click",d)})}function h(){const{highlightMode:e}=(0,r.getSettings)();l(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setOpacityFromSlider=a,t.setBgOpacityFromSlider=c,t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=u,t.setHighlightControls=f,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.loadHighlightSettings=h,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),a(e)}o=i,t.value=String(i),n.value=String(i);const c=document.getElementById("toggle-glyph-opacity");null==c||c.addEventListener("click",()=>{let i;c.classList.contains("hide-icon")?(c.classList.remove("hide-icon"),i=0):(c.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,s=Number(t.value),c(e)}s=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-bg-opacity");a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),s=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(t),f(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":l("staff");break;case"w":l("syllable");break;case"e":l("neume");break;case"r":l("layerElement");break;case"t":l("selection");break;case"y":l("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),h();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(7),r=n(31),o=n(28);var s,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.VALIDATION_STATUS=2]="VALIDATION_STATUS",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD"}(s=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{(0,o.updateSelectedBBox)(e,this.dragHandler,this.neonView)})})}this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case s.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case s.EDIT_TEXT:this.openEditSylTextModalWindow();break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case s.DOCUMENT_UPLOAD:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");default:document.getElementById("neon-modal-window-container").style.display="none",this.modalWindowView!==s.DOCUMENT_UPLOAD&&document.getElementById("container").focus()}document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED}setModalWindowContent(e){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-content-container").innerHTML=i.editTextModal,document.getElementById("neon-modal-window-header-title").innerText="EDIT SYLLABLE TEXT";const t=/\u{25CA}/u,n=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(t,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=n;break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-container").innerHTML=i.hotkeysModal,document.getElementById("neon-modal-window-header-title").innerText="HOTKEYS";break;case s.VALIDATION_STATUS:document.getElementById("neon-modal-window-content-container").innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURIComponent(e)}" download="validation.log">\n              Export\n            </a>\n            </div>`,document.getElementById("neon-modal-window-header-title").innerText="ERROR LOG";break;case s.DOCUMENT_UPLOAD:document.getElementById("neon-modal-window-header-title").innerText="DOCUMENT UPLOAD",document.getElementById("neon-modal-window-content-container").innerHTML=r.uploadAreaHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(8),r=n(11),o=n(4),s=n(3);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,s.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,s.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,s.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:o,lrx:s,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,o+this.dy)||(0,r.isOutOfSVGBounds)(s+this.dx,a+this.dy)}}},,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return o}));var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(e);else if(o===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,o,s,a,c,l,u,d,f="";n=t.pop();)if(i=n.obj,f+=n.prefix||"",r=n.val||"")f+=r;else if("object"!=typeof i)f+=void 0===i?null:JSON.stringify(i);else if(null===i)f+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),o=i.length-1;o>=0;o--)s=0===o?"":",",t.push({obj:i[o],prefix:s});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)u=i[l=a[o]],d=o>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return f},t.parse=function(e){for(var t,n,r,o,s,a,c,l,u,d=[],f=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,i(null,d,f);break;case"t":h+=3,i(!0,d,f);break;case"f":h+=4,i(!1,d,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(r=e[h++],!/[\d\.\-e\+]/.test(r)){h--;break}n+=r}i(parseFloat(n),d,f);break;case'"':for(o="",s=void 0,a=0;'"'!==(c=e[h++])||"\\"===s&&a%2==1;)o+=c,"\\"===(s=c)?a++:a=0;i(JSON.parse('"'+o+'"'),d,f);break;case"[":l={element:[],index:d.length},d.push(l.element),f.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),f.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,f)}}},function(e,t,n){"use strict";var i=n(20),r=n(9);t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return Object(r.a)(o)}},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(7),r=n(32),o=n(4),s=n(3),a=n(13),c=n(13);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(s.sharedLogicalParent(e,t))return!1;default:return!!s.areAdjacent(e,t)}}function d(e){return 2===e.length&&(e[0].getAttribute("mei:follows")==="#"+e[1].id&&e[1].getAttribute("mei:precedes")==="#"+e[0].id||e[0].getAttribute("mei:precedes")==="#"+e[1].id&&e[1].getAttribute("mei:follows")==="#"+e[0].id)}function f(e,t){switch(t.length){case 2:if("selBySyllable"!==e)return!1;if(d([t[0],t[1]]))return!0;if(s.isMultiStaveSelection(t)){const e=t[0].closest(".staff"),n=t[1].closest(".staff"),i=Array.from(e.parentElement.children),r=i.indexOf(e)<i.indexOf(n)?e:n,o=r.id===e.id?n:e,s=r.querySelector(".layer"),a=o.querySelector(".layer"),c=Array.from(s.children).filter(e=>e.classList.contains("syllable")),l=Array.from(a.children).filter(e=>e.classList.contains("syllable")),u=c[c.length-1],d=l[0];if(u.id===t[0].id&&d.id===t[1].id)return!0;if(u.id===t[1].id&&d.id===t[0].id)return!0}default:return!1}return!1}function h(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(o.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):o.queueNotification("Merge Failed","error")})}function p(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",g)}function m(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",g);try{document.getElementById("mergeSyls").addEventListener("click",()=>{v("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{v("group","neume",b())})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{v("group","nc",b())})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{v("ungroup","neume",_())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{v("ungroup","nc",_())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:b()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Ligature Toggled","success"):o.queueNotification("Ligature Toggle Failed","error"),p(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{y()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.isLinked=d,t.isLinkable=f,t.mergeStaves=h,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],m()},t.endGroupingSelection=p,t.initGroupingListeners=m;const g=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=s.getSelectionType();switch(t){case"selBySyllable":if(f(t,e))y();else if(u(t,e)){v("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){v("ungroup","neume",_())}break;case"selByNeume":if(u(t,e)){v("group","neume",b())}else{v("ungroup","nc",_())}break;case"selByNc":if(u(t,e)){v("group","nc",b())}else{v("ungroup","nc",_())}break;case"selByStaff":u(t,e)?h():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function v(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?o.queueNotification("Grouping Success","success"):o.queueNotification("Ungrouping Success","success"):"group"===e?o.queueNotification("Grouping Failed","error"):o.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}p()})}function y(){const e=b(),t={action:"chain",param:[]},n=new Array;if(document.getElementById(e[0]).getAttribute("mei:precedes"))n.push({action:"set",param:{elementId:e[0],attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"follows",attrValue:""}}),n.push({action:"setText",param:{elementId:e[1],text:""}});else if(document.getElementById(e[0]).getAttribute("mei:follows"))n.push({action:"set",param:{elementId:e[0],attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"precedes",attrValue:""}}),n.push({action:"setText",param:{elementId:e[0],text:""}});else{const t=document.getElementById(e[0]),i=document.getElementById(e[1]),r=t.closest(".staff"),o=i.closest(".staff"),s=Array.from(r.parentElement.children).filter(e=>e.classList.contains("staff"));let a,c;s.indexOf(r)<s.indexOf(o)?(a=t,c=i):(a=i,c=t),n.push({action:"set",param:{elementId:a.id,attrType:"precedes",attrValue:"#"+c.id}}),n.push({action:"set",param:{elementId:c.id,attrType:"follows",attrValue:"#"+a.id}});const l=c.querySelector(".syl");null!==l&&n.push({action:"remove",param:{elementId:l.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Toggled Syllable Link"):o.queueNotification("Failed to Toggle Syllable Link"),p(),l.updateForCurrentPage()})}function b(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function _(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(3),r=n(8),o=n(11),s=n(4),a={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function c(e,t,n,i,r){let o;if(r>=0)o=[{x:e,y:t,name:a.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:a.Top},{x:n,y:t+(n-e)*Math.sin(r),name:a.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:a.Right},{x:n,y:i,name:a.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:a.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:a.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:a.Left}];else{const s=(n-e)*Math.tan(Math.abs(r)),c=i-t-s;o=[{x:e,y:t+s,name:a.TopLeft},{x:(e+n)/2,y:t+s/2,name:a.Top},{x:n,y:t,name:a.TopRight},{x:n,y:t+c/2,name:a.Right},{x:n,y:t+c,name:a.BottomRight},{x:(e+n)/2,y:i-s/2,name:a.Bottom},{x:e,y:i,name:a.BottomLeft},{x:e,y:i-c/2,name:a.Left}]}return o}t.resize=function(e,t,n){let l,u,d,f,h,p,m,g,v,y,b,_,w,k,S;function E(){const e=c(l,u,d,f,h),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(l,d))),n.setAttribute("y",String(Math.min(u,f))),n.setAttribute("width",String(Math.abs(d-l))),n.setAttribute("height",String(Math.abs(f-u))));for(const t in a){const n=e[a[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,o=e[3].y;const s=i+100+","+(o+85)+" "+(i+70)+","+(o+50)+" "+(i+100)+","+(o+15)+" "+(i+130)+","+(o+50);i=e[7].x,o=e[7].y;const p=i-100+","+(o-15)+" "+(i-130)+","+(o-50)+" "+(i-100)+","+(o-85)+" "+(i-70)+","+(o-50);r.select("#rotateLeft").attr("points",p),r.select("#rotateRight").attr("points",s)}!function L(){if(null===e)return;if(e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");l=Number(t.getAttribute("x")),u=Number(t.getAttribute("y")),d=+l+ +t.getAttribute("width"),f=+u+ +t.getAttribute("height"),h=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);l=t.ulx,u=t.uly,d=t.lrx,f=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));h=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let A;p=l,v=u,m=d,y=f;const x=c(l,u,d,f,h);w=x[2].x-x[0].x;const C=x.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",C).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");for(const t in a){const n=x[a[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",25).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in a)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{B(e)}).on("drag",q).on("end",I.bind(this)));if(e.classList.contains("staff")){let t=x[3].x,n=x[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=x[7].x,n=x[7].y;const o=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",o).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",O).on("drag",(function(){const e=r.mouse(this)[1]-b,t=S-Math.atan(e/w);t>-.2&&t<.2&&(k=e,u=_+k,h=t,h>=0?(u=k+x.filter(e=>e.name===a.TopLeft)[0].y,f=x.filter(e=>e.name===a.BottomRight)[0].y):(u=x.filter(e=>e.name===a.TopRight)[0].y,f=k+x.filter(e=>e.name===a.BottomLeft)[0].y));E()})).on("end",N)),r.select("#rotateRight").call(r.drag().on("start",O).on("drag",(function(){const e=r.mouse(this)[1]-b,t=S+Math.atan(e/w);t>-.2&&t<.2&&(k=e,h=t,h>=0?(f=k+x.filter(e=>e.name===a.BottomRight)[0].y,u=x.filter(e=>e.name===a.TopLeft)[0].y):(u=k+x.filter(e=>e.name===a.TopRight)[0].y,f=x.filter(e=>e.name===a.BottomLeft)[0].y));E()})).on("end",N))}function B(e){A=e;const t=x.find(t=>t.name===a[e]);g=[t.x,t.y],v=u,y=f}function q(){const e=r.mouse(this);switch(a[A]){case a.TopLeft:l=e[0],u=e[1];break;case a.Top:u=e[1]-(d-l)*Math.tan(h)/2;break;case a.TopRight:d=e[0],u=e[1]-(d-l)*Math.tan(h);break;case a.Right:d=e[0],f=y+(e[0]-g[0])*Math.tan(h);break;case a.BottomRight:d=e[0],f=e[1];break;case a.Bottom:f=e[1]+(d-l)*Math.tan(h)/2;break;case a.BottomLeft:l=e[0],f=e[1]+(d-l)*Math.tan(h);break;case a.Left:l=e[0],u=v+(e[0]-g[0])*Math.tan(h);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}E()}function I(){if((0,o.isOutOfSVGBounds)(l,u)||(0,o.isOutOfSVGBounds)(d,f))return l=p,u=v,d=m,f=y,E(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const a={action:"resize",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:f}};t.edit(a,t.view.getCurrentPageURI()).then(async o=>{if(o&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),l=void 0,u=void 0,d=void 0,f=void 0,r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),L(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectStaff)(document.querySelector("#"+e.id),n);const t=document.querySelector("moreEdit");t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}})}function O(){const e=r.event.sourceEvent.target.id;b=r.mouse(this)[1],y=f,v=u,_="rotateRight"===e?f:u,S=h}function N(){if(void 0===k&&(k=0),(0,o.isOutOfSVGBounds)(l,u)||(0,o.isOutOfSVGBounds)(d,f))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,f=void 0,k=void 0,L(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:f,rotate:180*h/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,f=void 0,k=void 0,L(),(0,i.selectAll)([e],t,n),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(3),r=n(25),o=n(8),s=n(11);let a,c,l,u,d=7;function f(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function h(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function p(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if("ArrowLeft"===e.key&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if("ArrowRight"===e.key&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}}function m(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function g(e){e.stopPropagation()}function v(e,t,n){if(m()||"use"===e.tagName){const r=function(e){if(m()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),o=i.children[r-1].children[0];console.assert(o.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===o.closest(".selected")&&e.unshift(o)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),o=n.children[i+1].children[0];console.assert(o.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===o.closest(".selected")&&e.push(o)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,s.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",p),document.body.addEventListener("keydown",p),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",g),e.addEventListener("click",g)})},t.dragSelect=function(e){let t=0,n=0,r=!1,s=!1;const l=o.select(e);o.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const f=o.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==o.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==o.event.sourceEvent.target.nodeName){if(o.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(h=o.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,o=t.lrx,s=t.lry,a=t.rotate;return h[0]>n&&h[0]<o&&h[1]>r+(h[0]-n)*Math.tan(a)&&h[1]<s-(o-h[0])*Math.tan(a)}).length)){(0,i.unselect)(),s=!0;const e=o.mouse(this);t=e[0],n=e[1],a=t,f=n,l.append("rect").attr("x",a).attr("y",f).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else o.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,f,h})).on("drag",(function(){if(!r&&s){const e=o.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){o.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&s){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),f=l.node();let h=new DOMPoint(n,r),p=new DOMPoint(u,d);const g=f.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();h=h.matrixTransform(g),p=p.matrixTransform(g);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):m()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>v(e,h,p));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),o.selectAll("#selectRect").remove(),s=!1}r=!1}));l.call(f),a&&a.resetTo(f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(7),r=n(6);function o(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:o}=(0,r.getSettings)();o&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),s()}function s(){const e=document.querySelector("#error_log"),t=document.querySelector("#display-single-container"),n=document.createElement("label"),i=document.createElement("input");i.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Errors",i.id="display-errors",i.type="checkbox",i.checked=!1,n.appendChild(i),t.append(n);const{displayErrLog:o}=(0,r.getSettings)();o&&(i.checked=!0),i.addEventListener("click",()=>{const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),o=document.getElementById("displayBBox"),s=document.getElementById("displayText"),a=document.getElementById("display-errors");i.checked?(e.classList.add("visible"),(0,r.setSettings)({displayErrLog:!0}),(null==n?void 0:n.checked)&&(null==o?void 0:o.checked)&&(null==s?void 0:s.checked)&&(null==a?void 0:a.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.classList.remove("visible"),(0,r.setSettings)({displayErrLog:!1}),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))})}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(function(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n    <div class="notification-wrapper">\n\n      <div>\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n    </div>\n\n    <div class="remove-notif-icon-wrapper">\n      <img class="log-remove remove-notif-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg">\n    </div>\n  `;const n=t.querySelector(".log-remove");return n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),t}(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,o()},t.initErrorLogControls=o,t.initDisplayListener=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelectedBBox=void 0;const i=n(3),r=n(18),o=n(26),s=n(15),a=n(17);function c(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)();try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,s.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}function l(e,t,n){(0,i.unselect)();const r=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(r)){const e=document.getElementById(r).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,t,n)}}t.updateSelectedBBox=l;t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}updateSelectedBBox(e){(0,i.unselect)();const t=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(t)){const e=document.getElementById(t).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,this.dragHandler,this.neonView)}}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow(),l(e,this.dragHandler,this.neonView)}e.removeEventListener("click",n),e.addEventListener("click",n)})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",c.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&c.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,o.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,o.clickSelect)("#mei_output, #mei_output rect"),(0,o.dragSelect)("#svg_group")):((0,o.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,o.dragSelect)(".active-page svg"))))}}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,o=n(2),s=n.n(o),a=n(22),c=n(14),l=n.n(c),u=n(21),d=n.n(u),f=n(5),h=n.n(f),p=n(1),m=n.n(p),g=n(0),v=n.n(g);function y(e){return"$"+e}function b(e){return e.substring(1)}function _(){this._store={}}function w(e){if(this._store=new _,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function k(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}_.prototype.get=function(e){var t=y(e);return this._store[t]},_.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},_.prototype.has=function(e){return y(e)in this._store},_.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},_.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),w.prototype.add=function(e){return this._store.set(e,!0)},w.prototype.has=function(e){return this._store.has(e)},w.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(w.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=w,r=_):(i=Set,r=Map);var S=Function.prototype.toString,E=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return k(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==E}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return h()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function x(e){return h()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var o;try{var s=A((function(e,t){e?r(e):i(t)}));t.push(s),(o=e.apply(n,t))&&"function"==typeof o.then&&i(o)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return x(h()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),o(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(o){o?r(o):t(i[e].apply(i,n))}))}))})))}function B(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o in e&&(n[o]=e[o])}return n}var q;function I(e){return e}function O(e){return[{ok:e}]}function N(e,t,n){var i=t.docs,o=new r;i.forEach((function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])}));var s=o.size,a=0,c=new Array(s);function l(){var e;++a===s&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];o.forEach((function(e,t){u.push(t)}));var d=0;function f(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var s=i+r,a=o.get(n),u=B(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(I);var d=I;0===u.open_revs.length&&(delete u.open_revs,d=O),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,o;i=e?[{error:e}]:d(t),r=n,o=i,c[s]={id:r,docs:o},l(),f()}))}))}(i,d),d+=i.length}}f()}try{localStorage.setItem("_pouch_check_localstorage",1),q=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){q=!1}function T(){return q}function P(){v.a.call(this),this._listeners={},function(e){T()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function j(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function M(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function D(e,t){j("info","The above "+e+" is totally normal. "+t)}m()(P,v.a),P.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(o)o="waiting";else{o=!0;var e=B(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===o&&s()(a),o=!1})).on("error",(function(){o=!1}))}}},P.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},P.prototype.notifyLocalWindows=function(e){T()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},P.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var R="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function F(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}m()(F,Error),F.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new F(401,"unauthorized","Name or password is incorrect.");var U=new F(400,"bad_request","Missing JSON list of 'docs'"),V=new F(404,"not_found","missing"),$=new F(409,"conflict","Document update conflict"),H=new F(400,"bad_request","_id field must contain a string"),z=new F(412,"missing_id","_id is required for puts"),G=new F(400,"bad_request","Only reserved document ids may start with underscore."),K=(new F(412,"precondition_failed","Database not open"),new F(500,"unknown_error","Database encountered an unknown error")),W=new F(500,"badarg","Some query argument is invalid"),J=(new F(400,"invalid_request","Request was invalid"),new F(400,"query_parse_error","Some query parameter is invalid")),X=new F(500,"doc_validation","Bad special document member"),Y=new F(400,"bad_request","Something wrong with the request"),Q=new F(400,"bad_request","Document must be a JSON object"),Z=(new F(404,"not_found","Database not found"),new F(500,"indexed_db_went_bad","unknown")),ee=(new F(500,"web_sql_went_bad","unknown"),new F(500,"levelDB_went_went_bad","unknown"),new F(403,"forbidden","Forbidden by design doc validate_doc_update function"),new F(400,"bad_request","Invalid rev format")),te=(new F(412,"file_exists","The database could not be created, the file already exists."),new F(412,"missing_stub","A pre-existing attachment stub wasn't found"));new F(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=F.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=K).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(Y,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var o in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function oe(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function se(e){var t;if(e?"string"!=typeof e?t=ne(H):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(G)):t=ne(z),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(j("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,fe=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function he(e){for(var t=fe.exec(e),n={},i=14;i--;){var r=ue[i],o=t[i]||"",s=-1!==["user","password"].indexOf(r);n[r]=s?decodeURIComponent(o):o}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function pe(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function me(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,o=n(i);return o?(o._id=t,o._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return me(e,t._id,n)}))}(e,o,n)):{updated:!1,rev:r}}))}var ge=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function _e(e,t){return ye([be(e)],{type:t})}function we(e,t){return _e(ge(e),t)}function ke(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){ke(e,(function(e){t(e)}))}function Ee(e,t){Se(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function xe(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),o=Math.ceil(i/r),s=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?xe:Ae;function u(){Le(f)}function d(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function f(){var t=s*r,n=t+r;s++,c(a,e,t,n,s<o?u:d)}f()}function Be(e){return l.a.hash(e)}function qe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=R({},e);return delete n._rev_tree,Be(JSON.stringify(n))}var Ie=a.a;function Oe(e){for(var t,n,i,r,o=e.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)o.push({pos:c+1,ids:a[l]});else{var d=!!s[1].deleted,f=s[0];t&&!(i!==d?i:n!==c?n<c:t<f)||(t=f,n=c,i=d)}}return n+"-"+t}function Ne(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,o=n.ids,s=o[2],a=t(0===s.length,r,o[0],n.ctx,o[1]),c=0,l=s.length;c<l;c++)i.push({pos:r+1,ids:s[c],ctx:a})}function Te(e,t){return e.pos-t.pos}function Pe(e){var t=[];Ne(e,(function(e,n,i,r,o){e&&t.push({rev:n+"-"+i,pos:n,opts:o})})),t.sort(Te).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function je(e){for(var t=Oe(e),n=Pe(e.rev_tree),i=[],r=0,o=n.length;r<o;r++){var s=n[r];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function Me(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,o=t.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:s,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,f=c.length;d<f;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function De(e,t){return e.pos-t.pos}function Re(e,t,n){var i=function(e,t,n){for(var i,r=0,o=e.length;r<o;)n(e[i=r+o>>>1],t)<0?r=i+1:o=i;return r}(e,t,n);e.splice(i,0,t)}function Fe(e,t){for(var n,i,r=t,o=e.length;r<o;r++){var s=e[r],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ue(e,t){return e[0]<t[0]?-1:1}function Ve(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),o=r.tree1,s=r.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var c=!1,l=0;l<o[2].length;l++)o[2][l][0]===s[2][a][0]&&(n.push({tree1:o[2][l],tree2:s[2][a]}),c=!0);c||(i="new_branch",Re(o[2],s[2][a],Ue))}else i="new_leaf",o[2][0]=s[2][a]}return{conflicts:i,tree:e}}function $e(e,t,n){var i,r=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=Ve(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),o=o||i.conflicts,s=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,f=d.pos-u.pos,h=[],p=[];for(p.push({ids:u.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var g=m.ids[2],v=0,y=g.length;v<y;v++)p.push({ids:g[v],diff:m.diff-1,parent:m.ids,parentIdx:v});else m.ids[0]===d.ids[0]&&h.push(m)}var b=h[0];b?(i=Ve(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),o=o||i.conflicts,s=!0):r.push(l)}else r.push(l)}return s||r.push(t),r.sort(De),{tree:r,conflicts:o||"internal_node"}}function He(e,t,n){var i=$e(e,t),r=function(e,t){for(var n,i,r=Me(e),o=0,s=r.length;o<s;o++){var a,c=r[o],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Fe(l,u)};for(var d=0;d<u;d++){var f=c.pos+d+"-"+l[d].id;n[f]=!0}}else a={pos:c.pos,ids:Fe(l,0)};i=i?$e(i,a,!0).tree:[a]}return n&&Ne(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function ze(e){return e.ids}function Ge(e,t){t||(t=Oe(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(ze);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ke(e){return/^_local/.test(e)}function We(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,s;t?(s="error",("listenerCount"in(r=i)?r.listenerCount(s):v.a.listenerCount(r,s))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){j("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var s=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Je(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Pe(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ge(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=je(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Xe(e,t){return e<t?-1:e>t?1:0}function Ye(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Qe(e,t){var n=Xe(e._id,t._id);return 0!==n?n:Xe(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ze(){for(var e in v.a.call(this),Ze.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,o=tt.prefix,s=t.adapter;if(!s)for(var a=0;a<r.length&&("idb"===(s=r[a])&&"websql"in i&&T()&&localStorage["_pouch__websqldb_"+o+e]);++a)j("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[s];return{name:!c||!("use_prefix"in c)||c.use_prefix?o+e:e,adapter:s}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Ze.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}m()(We,v.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Je,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&j("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=h()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},m()(Ze,v.a),Ze.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));this.bulkDocs({docs:[e]},t,Ye(n,e._id))})),Ze.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));if(se(e._id),Ke(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,o,s,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Ye(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],o=parseInt(i[0],10)+1,s=qe(),e._revisions={start:o,ids:[s,r]},e._rev=o+"-"+s,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Ze.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var o=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},o.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||j("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw ne($);return s(e)}),(function(t){if(t.reason===V.message)return s({_id:e});throw t}))})),Ze.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,o){if(e)i(e);else if(o._rev===n){if(!o._attachments)return i();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,r.put(o,i)}else i(ne($))}))})),Ze.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ke(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[o]},n,Ye(i,o._id))})),Ze.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var o=0,s=new r;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Ne(n,(function(e,n,r,o,s){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==s.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++o===i.length){var l={};return s.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Ze.prototype.bulkGet=C("bulkGet",(function(e,t){N(this,e,t)})),Ze.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,o){if(r)return n(r);var s=function(e){var t={},n=[];return Ne(e,(function(e,i,r,o){var s=i+"-"+r;return e&&(t[s]=0),void 0!==o&&n.push({from:o,to:s}),s})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(o),a=[],c=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),Ne(o,(function(e,t,n,i,r){var o=t+"-"+n;"available"===r.status&&-1!==a.indexOf(o)&&c.push(o)})),i._doCompaction(e,c,n)}))})),Ze.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),s()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Ze.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return me(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Ze.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(H));if(Ke(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function o(){var o=[],s=i.length;if(!s)return n(null,o);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:i});else{for(var r,a=0,c=o.length;a<c;a++)if(o[a].ok&&o[a].ok._rev===t._rev){r=!0;break}r||o.push({ok:t})}--s||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,o){if(i)return i.docId=e,n(i);var s=o.doc,a=o.metadata,c=o.ctx;if(t.conflicts){var l=je(a);l.length&&(s._conflicts=l)}if(Ge(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var u=s._rev.split("-"),d=parseInt(u[0],10),f=u[1],h=Me(a.rev_tree),p=null,m=0;m<h.length;m++){var g=h[m],v=g.ids.map((function(e){return e.id})).indexOf(f);(v===d-1||!p&&-1!==v)&&(p=g)}if(!p)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=p.ids.map((function(e){return e.id})).indexOf(s._rev.split("-")[1])+1,b=p.ids.length-y;if(p.ids.splice(y,b),p.ids.reverse(),t.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var _=p.pos+p.ids.length;s._revs_info=p.ids.map((function(e){return{rev:--_+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var w=s._attachments,k=Object.keys(w).length;if(0===k)return n(null,s);Object.keys(w).forEach((function(e){this._getAttachment(s._id,e,w[e],{rev:s._rev,binary:t.binary,ctx:c},(function(t,i){var r=s._attachments[e];r.data=i,delete r.stub,delete r.length,--k||n(null,s)}))}),r)}else{if(s._attachments)for(var S in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,S)&&(s._attachments[S].stub=!0);n(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Pe(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(ne(K,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}o()}})),Ze.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(o,s){return o?i(o):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void r._getAttachment(e,t,s.doc._attachments[t],n,i)):i(ne(V))}))})),Ze.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(J,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Ze.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Ze.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Ze.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Ze.prototype.id=C("id",(function(e){return this._id(e)})),Ze.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ze.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(U));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(Q));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||j("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(Y,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||ae(o)||e.docs.sort(Qe),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=B(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(o))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||s[r];n(null,i)}))})),Ze.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);me(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Ze.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):r();var s=o.dependentDbs,a=n.constructor,c=Object.keys(s).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},m()(tt,Ze);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var ot=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=ot[t].bind(ot))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=R({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=R({},t.__defaults,n),tt.call(this,e,n)}return m()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=R({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function st(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var o=e[i];i>0&&"\\"===e[i-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var o=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),s=dt([e,n]);Object.keys(s).length<=i||o.push(s)}))})),t[i]=o}else t[i]=dt([r]);else{var s=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,s):void(s[e]=t)}))}}))})),t}function ft(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:n||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),t[o]=s}return t}function ht(e,t){if(e===t)return 0;e=pt(e),t=pt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ht(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),o=0;o<r;o++){var s=ht(n[o],i[o]);if(0!==s)return s;if(0!==(s=ht(e[n[o]],t[i[o]])))return s}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function pt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=pt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];void 0!==o&&(e[r]=pt(o))}}}return e}function mt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",o=(s=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(s,a,c)+s);var s,a,c;r+=""+o;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,o="";if(t)for(;++i<r;)o+=gt(n[i]);else for(;++i<r;){var s=n[i];o+=gt(s)+gt(e[s])}return o}return""}function gt(e){return bt(e=pt(e))+""+mt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var o="",s=e.substring(t,t+3),a=parseInt(s,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function _t(e,t,n){if(e=e.filter((function(e){return wt(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return st(t,n)}))}return function(e,n){var i,r,o=ht(t(e.doc),t(n.doc));return 0!==o?o:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function wt(e,t,n){return n.every((function(n){var i=t[n],r=at(n),o=st(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return wt(n,e,Object.keys(e))}));if("$not"===e)return!wt(n,t,Object.keys(t));return!t.find((function(e){return wt(n,e,Object.keys(e))}))}(n,i,e):kt(i,e,r,o)}))}function kt(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var o=e[r];if(0===r.indexOf("$"))return St(r,t,o,n,i);var s=at(r);if(void 0===i&&"object"!=typeof o&&s.length>0)return!1;var a=st(i,s);return"object"==typeof o?kt(o,t,n,a):St("$eq",t,o,s,a)})):e===i)}function St(e,t,n,i,r){if(!xt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return xt[e](t,n,i,r)}function Et(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ht(t,e)})):0===ht(t,e)}))}var xt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return wt(e,t,Object.keys(t))})):i.some((function(i){return kt(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return wt(e,t,Object.keys(t))})):i.every((function(i){return kt(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ht(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ht(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ht(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ht(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ht(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return Et(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ht(i,e)}))},$in:function(e,t,n,i){return Et(i)&&At(i,t)},$nin:function(e,t,n,i){return Et(i)&&!At(i,t)},$size:function(e,t,n,i){return Et(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ht(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return Et(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function Bt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function qt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function It(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(Y,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!s)return n(ne(V,o.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=pe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=_t([{doc:e}],{selector:t=ft(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=ce(t.filter);e.db.get("_design/"+o[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=r&&r.filters&&r.filters[o[1]];if(!s)return n(ne(V,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=pe('"use strict";\nreturn '+s+";",{}),e.doChanges(t)}))}}function Ot(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:Bt,shouldFilter:qt,filter:It}})),tt.version="7.3.0";var Nt=Ot(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Tt=Ot(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Pt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function jt(e,t,n){var i,r,o;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=Ie()),r=qe(e,n.deterministic_revs),e._rev){if((o=Pt(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,s,[]]]]}],i=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,s,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],o=1,s=i.length;o<s;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,s),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((o=Pt(e._rev)).error)return o;i=o.prefix,r=o.id,e._rev_tree=[{pos:i,ids:[r,s,[]]}]}se(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Nt[c]){var u=ne(X,c);throw u.message=X.message+": "+c,u}l&&!Tt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Mt(e,t,n){var i=function(e){try{return ge(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?_e(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Dt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Mt(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?Ee(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Rt(e,t,n,i,r,o,s,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),o=parseInt(r[0],10),s=r[1];n=i.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,o();var c=t.winningRev||Oe(t),l="deleted"in t?t.deleted:Ge(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ge(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var f=n.data;f._rev=c,f._id=n.metadata.id,n=jt(f,a)}var h=He(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==h.conflicts||!l&&"new_leaf"!==h.conflicts||l&&!u&&"new_branch"===h.conflicts)){var p=ne($);return i[r]=p,o()}var m=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Oe(n.metadata),v=Ge(n.metadata,g),y=l===v?0:l<v?-1:1;s(n,g,v,m===g?v:Ge(n.metadata,m),!0,y,r,o)}function Ft(e,t,n,i,o,s,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,f=0,h=t.length;function p(){++f===h&&l&&l()}t.forEach((function(e,t){if(e._id&&Ke(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:o},(function(e,n){s[t]=e||n,p()}))}else{var r=e.metadata.id;d.has(r)?(h--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function o(){++r<t.length?l():p()}function l(){var l=t[r],d=l[0],f=l[1];if(i.has(n))Rt(e,i.get(n),d,s,f,o,a,u);else{var h=He([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=h.tree,d.stemmedRevs=h.stemmedRevs||[],function(e,t,n){var i=Oe(e.metadata),r=Ge(e.metadata,i);if("was_delete"in c&&r)return s[t]=ne(V,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var o=ne($);return s[t]=o,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,f,o)}}l()}))}var Ut="document-store",Vt="meta-store";function $t(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ht(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Z,n,t.type))}}function zt(e,t,n){return{data:$t(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Gt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Kt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:we(e,t):ye([""],{type:t})):e?"string"!=typeof e?ke(e,(function(e){i(ve(e))})):i(e):i("")}function Jt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var o=0;function s(){++o===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,s()}}(e,i):(e._attachments[i].stub=!0,s())}))}function Xt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new Promise((function(s){Wt(r,o,t,(function(t){e.doc._attachments[n]=R(B(i,["digest","content_type"]),{data:t}),s()}))}))}})))}})))}function Yt(e,t,n){var i=[],r=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),s=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else c()}}}))}function Qt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Zt=new P;function en(e,t,n,i,o,s){for(var a,c,l,u,d,f,h,p,m=t.docs,g=0,v=m.length;g<v;g++){var y=m[g];y._id&&Ke(y._id)||(y=m[g]=jt(y,n.new_edits,e)).error&&!h&&(h=y)}if(h)return s(h);var b=!1,_=0,w=new Array(m.length),k=new r,S=!1,E=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){p&&b&&(p.docCount+=_,f.put(p))}function x(){S||(Zt.notify(i._meta.name),s(null,w))}function C(e,t,n,i,r,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,o){var s=e.data,a=0,c=Object.keys(s._attachments);function l(){a===c.length&&B(e,t,n,i,r,o)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,s,a);_+=o,A(),B(e,t,n,r,s,a)}function B(e,t,n,r,o,s){var u=e.data,f=e.metadata;function h(o){var s=e.stemmedRevs||[];r&&i.auto_compaction&&(s=s.concat(function(e){var t=[];return Ne(e.rev_tree,(function(e,n,i,r,o){"available"!==o.status||e||(t.push(n+"-"+i),o.status="missing")})),t}(e.metadata))),s&&s.length&&Yt(s,e.metadata.id,a),f.seq=o.target.result;var l=zt(f,t,n);c.put(l).onsuccess=p}function p(){w[o]={ok:!0,id:f.id,rev:f.rev},k.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function o(){++i===r.length&&n()}function s(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=o,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var a=0;a<r.length;a++)s(r[a])}(e,f.seq,s)}u._doc_id_rev=f.id+"::"+f.rev,delete u._id,delete u._rev;var m=l.put(u);m.onsuccess=h,m.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=h}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function o(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return o();function s(e){i=e,++r===n.length&&o()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Dt(e.data._attachments[a],t,s)}))}(m,E,(function(t){if(t)return s(t);!function(){var t=Qt(o,[Ut,"by-sequence","attach-store","local-store","attach-seq-store",Vt],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Ht(s),a.ontimeout=Ht(s),a.oncomplete=x,c=a.objectStore(Ut),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(f=a.objectStore(Vt)).get(Vt).onsuccess=function(e){p=e.target.result,A()},function(e){var t=[];if(m.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,s(t);!function(){if(!m.length)return;var t=0;function r(){++t===m.length&&Ft(e.revs_limit,m,i,k,a,w,C,n,L)}function o(e){var t=Gt(e.target.result);t&&k.set(t.id,t),r()}for(var s=0,l=m.length;s<l;s++){var u=m[s];if(u._id&&Ke(u._id))r();else c.get(u.metadata.id).onsuccess=o}}()}))}()}))}function tn(e,t,n,i,r){var o,s,a;function c(e){s=e.target.result,o&&r(o,s,a)}function l(e){o=e.target.result,s&&r(o,s,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!o.length)return r();var n,a=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,o=null,s=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,o="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(o,s,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Z,r.name,r.message));var f=[Ut,"by-sequence",Vt];e.attachments&&f.push("attach-store");var h=Qt(t,f,"readonly");if(h.error)return n(h.error);var p=h.txn;p.oncomplete=function(){e.attachments?Xt(k,e.binary).then(A):A()},p.onabort=Ht(n);var m,g,v,y=p.objectStore(Ut),b=p.objectStore("by-sequence"),_=p.objectStore(Vt),w=b.index("_doc_id_rev"),k=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(k.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(k.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;w.get(r).onsuccess=function(i){if(n.doc=Kt(i.target.result)||{},e.conflicts){var r=je(t);r.length&&(n.doc._conflicts=r)}Jt(n.doc,e,p)}}(n,i,t))}function E(e){for(var t=0,n=e.length;t<n&&k.length!==u;t++){var i=e[t];if(i.error&&c)k.push(i);else{var r=Gt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(E(t),k.length<u&&n.continue())}function A(){var t={total_rows:m,offset:e.skip,rows:k};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return _.get(Vt).onsuccess=function(e){m=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(g=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(o,s){t.get(o).onsuccess=function(t){t.target.result?i[s]=t.target.result:i[s]={key:o,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),E(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,on=[];function sn(){!rn&&on.length&&(rn=!0,on.shift()())}function an(e,t,n,o){if((e=L(e)).continuous){var s=n+":"+Ie();return Zt.addListener(n,s,t,e),Zt.notify(n),{cancel:function(){Zt.removeListener(n,s)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,f,h,p=[],m=0,g=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;h.get(r).onsuccess=function(e){i(n,Kt(e.target.result))}}function b(){e.complete(null,{results:p,last_seq:c})}var _=[Ut,"by-sequence"];e.attachments&&_.push("attach-store");var w=Qt(o,_,"readonly");if(w.error)return e.complete(w.error);(u=w.txn).onabort=Ht(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Xt(p).then(b):b()},d=u.objectStore("by-sequence"),f=u.objectStore(Ut),h=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),o=new Array(t.length),s=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);f.get(e._id).onsuccess=function(r){i=Gt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(Kt(n),t[c],(function(n,a){o[c]=n,r[c]=a,++s===t.length&&function(){for(var t=[],n=0,s=r.length;n<s&&m!==l;n++){var a=r[n];if(a){var c=o[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),m!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=g(i);return"object"==typeof r?Promise.reject(r):r?(m++,e.return_docs&&p.push(i),e.attachments&&e.include_docs?new Promise((function(t){Jt(n,e,u,(function(){Xt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){on.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,s()((function(){sn()}))}))})),sn()}((function(t){!function(e,t,n){var i=t.name,r=null,o=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&o&&(t.reason=o),e(t,n)}}function c(e,t){var n=e.objectStore(Ut);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,o=Ge(r);r.deletedOrLocal=o?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Ut),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,c=Ke(a),l=Oe(s);if(c){var u=a+"::"+l,d=a+"::",f=a+"::~",h=r.index("_doc_id_rev"),p=IDBKeyRange.bound(d,f,!1,!1),m=h.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===u&&n.put(t),r.delete(m.primaryKey),m.continue()}else i.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,o=n.primaryKey,s=Object.keys(i._attachments||{}),a={},c=0;c<s.length;c++){a[i._attachments[s[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:o,digestSeq:u+"::"+o})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Ut);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,o=(r=i.value).data?Gt(r):(r.deleted="1"===r.deletedOrLocal,r);if(o.winningRev=o.winningRev||Oe(o),o.seq)return s();!function(){var e=o.id+"::",n=o.id+"::￿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=r,s();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function s(){var e=zt(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=x((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,o){en(t,n,i,e,r,a(o))},e._get=function(e,t,n){var i,o,s,a=t.ctx;if(!a){var c=Qt(r,[Ut,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(s,{doc:i,metadata:o,ctx:a})}a.objectStore(Ut).get(e).onsuccess=function(e){if(!(o=Gt(e.target.result)))return s=ne(V,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,o=n.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:s,pos:r,opts:a}),l)for(var d=0,f=u.length;d<f;d++){var h=u[d];if(h.pos+"-"+h.id===e)return r+"-"+s}for(var p=0,m=c.length;p<m;p++)i.push({pos:r+1,ids:c[p],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else if(n=o.winningRev,Ge(o))return s=ne(V,"deleted"),l();var r=a.objectStore("by-sequence"),c=o.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Kt(i)),!i)return s=ne(V,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,o){var s;if(i.ctx)s=i.ctx;else{var a=Qt(r,[Ut,"by-sequence","attach-store"],"readonly");if(a.error)return o(a.error);s=a.txn}var c=n.digest,l=n.content_type;s.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){o(null,e)}))}},e._info=function(t){var n,i,o=Qt(r,[Vt,"by-sequence"],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(Vt).get(Vt).onsuccess=function(e){i=e.target.result.docCount},s.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Qt(r,[Ut],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Ut).get(e).onsuccess=function(e){var n=Gt(e.target.result);n?t(null,n.rev_tree):t(ne(V))}},e._doCompaction=function(e,t,n){var i=Qt(r,[Ut,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var o=i.txn;o.objectStore(Ut).get(e).onsuccess=function(n){var i=Gt(n.target.result);Ne(i.rev_tree,(function(e,n,i,r,o){var s=n+"-"+i;-1!==t.indexOf(s)&&(o.status="missing")})),Yt(t,e,o);var r=i.winningRev,s=i.deleted;o.objectStore(Ut).put(zt(i,r,s))},o.onabort=Ht(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Qt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ht(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(V))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,o=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var c=Qt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ht(n),a.oncomplete=function(){s&&n(null,s)}}var l,u=a.objectStore("local-store");i?(l=u.get(o)).onsuccess=function(r){var o=r.target.result;o&&o._rev===i?u.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)}:n(ne($))}:((l=u.add(e)).onerror=function(e){n(ne($)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,o=t.ctx;if(!o){var s=Qt(r,["local-store"],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=o.objectStore("local-store"),l=c.get(a);l.onerror=Ht(n),l.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(V))}},e._destroy=function(e,t){Zt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),T()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ht(t)};var f=ln.get(i);if(f)return r=f.idb,e._meta=f.global,s()((function(){n(null,e)}));var h=indexedDB.open(i,5);un.set(i,h),h.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Ut,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(Vt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},h.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){j("error","Database has a global failure",e.target.error),o=e.target.error,r.close(),ln.delete(i)};var s,a,c,l,u=r.transaction([Vt,"detect-blob-support",Ut],"readwrite"),d=!1;function f(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function h(){if(void 0!==a&&void 0!==s){var e=i+"_id";e in s?l=s[e]:s[e]=l=Ie(),s.docCount=a,u.objectStore(Vt).put(s)}}u.objectStore(Vt).get(Vt).onsuccess=function(e){s=e.target.result||{id:Vt},h()},function(e,t){e.objectStore(Ut).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,h()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,f()})),u.oncomplete=function(){d=!0,f()},u.onabort=Ht(n)},h.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",j("error",t),n(ne(Z,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var fn={};function hn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=we(t.data,t.content_type)}))}function pn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function mn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){Ee(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function gn(e,t){if(function(e){if(!e.prefix)return!1;var t=he(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=he(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function _n(t,n){var i=this,r=gn(t.name,t),o=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,o=i.username+":"+i.password,s=ve(unescape(encodeURIComponent(o)));n.headers.set("Authorization","Basic "+s)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||i||r)&&o}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,h()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(o).catch((function(e){return e&&e.status&&404===e.status?(D(404,"PouchDB is just detecting if the remote exists."),u(o,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function f(e){return e.split("/").map(encodeURIComponent).join("/")}s()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(hn)})),t(null,n.data)})).catch(t)}function o(){var i=Math.ceil(e.docs.length/50),r=0,o=new Array(i);function s(e){return function(n,s){o[e]=s.results,++r===i&&t(null,{results:oe(o)})}}for(var a=0;a<i;a++){var c=B(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),N(n,c,s(a))}}var s=yn(r,""),a=fn[s];"boolean"!=typeof a?i((function(e,n){e?(fn[s]=!1,D(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(fn[s]=!0,t(null,n))})):a?i(t):o()})),i._info=function(e){d().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function o(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,o=0,s=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():f()}function u(){o--,l()}function d(e){o--,r=r||e,l()}function f(){for(;o<t&&s<c;)o++,e[s++]().then(u,d)}f()}))}(i.map((function(i){return function(){return function(i){var o=n[i],s=pn(e._id)+"/"+f(i)+"?rev="+e._rev;return c(vn(r,s)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=o.content_type),e}return new Promise((function(t){Ee(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=pn(e),u(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var s=o._rev||n.rev;u(vn(r,pn(o._id))+"?rev="+s,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,o){"function"==typeof i&&(o=i,i={});var s,a=i.rev?"?rev="+i.rev:"",l=vn(r,pn(t))+"/"+f(n)+a;c(l,{method:"GET"}).then((function(t){if(s=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=s),o(null,t)})).catch((function(e){o(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(vn(r,pn(e)+"/"+f(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,o,s){"function"==typeof o&&(s=o,o=i,i=n,n=null);var a=pn(e)+"/"+f(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=ge(i)}catch(e){return s(ne(W,"Attachment is not a valid base64 string"))}i=l?_e(l,o):""}u(c,{headers:new rt({"Content-Type":o}),method:"PUT",body:i},s).catch(s)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(mn))})).then((function(){return u(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return mn(e)})).then((function(){return u(vn(r,pn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},o="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var s=bn(i);void 0!==e.keys&&(o="POST",n={keys:e.keys}),u(vn(r,"_all_docs"+s),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(hn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var o=void 0!==e.limit&&e.limit,a=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,f="GET";e.doc_ids?(i.filter="_doc_ids",f="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",f="POST",l={selector:e.selector});var h,p=new nt,m=function(n,s){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=a):i.limit=!o||a>t?t:a;var c=vn(r,"_changes"+bn(i)),m={signal:p.signal,method:f,body:JSON.stringify(l)};h=n,e.aborted||d().then((function(){return u(c,m,s)})).catch(s)}},g={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,g.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(l=g.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&hn(t),e.return_docs&&g.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(h=i.last_seq);var u=o&&a<=0||i&&r<t||e.descending;(!e.continuous||o&&a<=0)&&u?e.complete(null,g):s()((function(){m(h,v)}))}};return m(e.since||0,v),{cancel:function(){e.aborted=!0,p.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function wn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function kn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,kn)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function En(e,t){return t&&e.then((function(e){s()((function(){t(null,e)}))}),(function(e){s()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function xn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function Bn(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=r.length;o<s;o++){var a=r[o];if("number"!=typeof a)throw Cn("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}_n.valid=function(){return!0},m()(wn,Error),m()(kn,Error),m()(Sn,Error);var qn=j.bind(null,"log"),In=Array.isArray,On=JSON.parse;function Nn(e,t){return pe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Bn,log:qn,isArray:In,toJSON:On})}function Tn(){this.promise=new Promise((function(e){e()}))}function Pn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function jn(e,t,n,i,r,o){var s,a=function(e,t){return Pn(e)+Pn(t)+"undefined"}(n,i);if(!r&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Be(a));return me(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var o={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",(function(){delete s[a]})),o}))}))}))}));return s&&(s[a]=c),c}Tn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Tn.prototype.finish=function(){return this.promise};var Mn={},Dn=new Tn;function Rn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Fn(e,t){try{e.emit("error",t)}catch(e){j("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),j("error",t)}}var Un=function(e,t){return Bn(t)},Vn=function(e,t){return t.length},$n=function(e,t){return{sum:Bn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Hn=function(e,t,n,o){function a(e,t,n){try{t(n)}catch(t){Fn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Fn(e,t),{error:t}}}function l(e,t){var n=ht(e.key,t.key);return 0!==n?n:ht(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=we(n.data,n.content_type)}))}))}(t),t}}function p(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function m(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function g(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ht(e[n],e[i])>0)throw new wn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new wn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new wn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new wn('Invalid value for integer: "'+e+'"');if(e<0)return new wn('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,o={_id:r,keys:[]},s=n.get(e),a=s[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(s[1])?Promise.resolve(o):t.db.get(r).catch(v(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,o=0,s=t.rows.length;o<s;o++){var c=t.rows[o].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=xn(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Mn[t];return n||(n=Mn[t]=new Tn),n}function _(e,n){return Ln(b(e),(function(){return function(e,n){var i,o;var s=t(e.mapFun,(function(e,t){var n={id:o._id,key:pt(e)};null!=t&&(n.value=pt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=xn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=oe(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,f={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",f);var h=new Tn;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(m)}function m(t){var f=t.results;if(!f.length)return;var m=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var f=t[u];if("_"!==f.doc._id[0]){i=[],(o=f.doc)._deleted||a(e.sourceDB,s,o),i.sort(l);var h=g(i);n.set(f.doc._id,[h,f.changes])}c=f.seq}return n}(f);h.add(u(m,c)),d+=f.length;let v={view:e.name,last_seq:t.last_seq,results_count:f.length,indexed_docs:d};return e.sourceDB.emit("indexing",v),f.length<n.changes_batch_size?void 0:p()}function g(e){for(var t,n=new r,i=0,o=e.length;i<o;i++){var s=e[i],a=[s.key,s.id];i>0&&0===ht(s.key,t)&&a.push(i),n.set(gt(a),s),t=s.key}return n}return p().then((function(){return h.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function w(e,t){return Ln(b(e),(function(){return function(e,t){var i,o=e.reduceFun&&!1!==t.reduce,s=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var o=vt(e,i);t.push(o.num),i+=o.length;break;case"4":for(var s="";;){var a=e[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=o?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,o=n(e.reduceFun),s=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=s[s.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ht(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=s.length;l<d;l++){var f=s[l],h=c(e.sourceDB,o,f.keys,f.values,!1);if(h.error&&h.error instanceof Sn)throw h.error;t.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:s,rows:a}:{total_rows:i,offset:s,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var f=An(a.map(d));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var f=t.keys.map((function(e){var n={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(f).then(oe).then(l)}var h,p,m={descending:t.descending};if(t.update_seq&&(m.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==h&&(m.startkey=t.descending?gt([h,{}]):gt([h])),void 0!==p){var g=!1!==t.inclusive_end;t.descending&&(g=!g),m.endkey=gt(g?[p,{}]:[p])}if(void 0!==t.key){var v=gt([t.key]),y=gt([t.key,{}]);m.descending?(m.endkey=v,m.startkey=y):(m.startkey=v,m.endkey=y)}return o||("number"==typeof t.limit&&(m.limit=t.limit),m.skip=s),a(m).then(l)}(e,t)}))()}function k(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,o,s=[],a="GET";if(p("reduce",n,s),p("include_docs",n,s),p("attachments",n,s),p("limit",n,s),p("descending",n,s),p("group",n,s),p("group_level",n,s),p("skip",n,s),p("stale",n,s),p("conflicts",n,s),p("startkey",n,s,!0),p("start_key",n,s,!0),p("endkey",n,s,!0),p("end_key",n,s,!0),p("inclusive_end",n,s),p("key",n,s,!0),p("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Rn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(f(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e})).then(f(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return g(i,n),Dn.add((function(){return jn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=_(e,r).then((function(){return w(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Dn.finish();var a=n,c=Rn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new kn("ddoc "+n._id+" has no view named "+u);return o(n,u),g(i,c),jn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&s()((function(){_(e,r)})),w(e,i)):_(e,r).then((function(){return w(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=m(e.group_level),e.limit=m(e.limit),e.skip=m(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return k(i,e,t)}));return En(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=Rn(e),r="_design/"+t[0],o=t[1],s=n.get(r);s||(s=new i,n.set(r,s)),s.add(o)}));var o={keys:xn(n),include_docs:!0};return t.allDocs(o).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var o=i+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach((function(e){r[e]=r[e]||a}))}))}));var o=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},h()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&En(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Nn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Un;if(/^_count/.test(e))return Vn;if(/^_stats/.test(e))return $n;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Nn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new kn("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var zn={query:function(e,t,n){return Hn.query.call(this,e,t,n)},viewCleanup:function(e){return Hn.viewCleanup.call(this,e)}};function Gn(e){return/^1-/.test(e)}function Kn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],o=!0;function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Gn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Gn(t[0])}));if(e.length>0)return s(e)})).then((function(){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(o=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Kn(t,n)})):Kn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(oe(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:r}}))}function Jn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||D(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==i})),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=i,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return Jn(e,t,n,i,r);throw o}))}))}function Xn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Xn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Xn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Jn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Xn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Jn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Zn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Yn={undefined:function(e,t){return 0===ht(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),o=n[0],s=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Qn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Qn(o.session_id,r))return{last_seq:o.last_seq,history:s};return e(r,s)}(e.history,t.history)}(t,e).last_seq}};function Qn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Qn(e,i))}function Zn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Xn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Yn?Yn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Zn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ht):"",r=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort(ht).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+s+o+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var o,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,f=!1,h=!1,p=0,m=n.continuous||n.live||!1,g=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,_=n.doc_ids,w=n.selector,k=[],S=Ie();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var E={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Xn(e,t,a,i,o)}))}function x(){if(k=[],0!==o.docs.length){var e=o.docs,s={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},s).then((function(t){if(i.cancelled)throw N(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=e.length-o,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;i.emit("denied",L(t))}else k.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=p=o.seq;var e=L(r);return k.length&&(e.docs=k,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(o.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:o.seq}),d=!1,i.cancelled)throw N(),new Error("cancelled");o=void 0,D()})).catch((function(e){throw F(e),e}))}function B(){return Wn(e,t,o.diffs,i).then((function(e){o.error=!e.ok,e.docs.forEach((function(e){delete o.diffs[e._id],r.docs_read++,o.docs.push(e)}))}))}function q(){var e;i.cancelled||o||(0!==l.length?(o=l.shift(),i.emit("checkpoint",{start_next_batch:o.seq}),(e={},o.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw N(),new Error("cancelled");o.diffs=e}))).then(B).then(x).then(C).then(q).catch((function(e){O("batch processing terminated with error",e)}))):I(!0))}function I(e){0!==u.changes.length?(e||f||u.changes.length>=g)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),q()):0!==l.length||o||((m&&E.live||f)&&(i.state="pending",i.emit("paused")),f&&N())}function O(e,t){h||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},N(t))}function N(o){if(!(h||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=p,h=!0,o){(o=ne(o)).result=r;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",o),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=M),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,o,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function T(e,t,r){if(i.cancelled)return N();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),s()((function(){I(0===l.length&&E.live)})))}function P(e){if(b=!1,i.cancelled)return N();if(e.results.length>0)E.since=e.results[e.results.length-1].seq,D(),I(!0);else{var t=function(){m?(E.live=!0,D()):f=!0,I(!0)};o||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,S).then((function(){d=!1,r.last_seq=p=e.last_seq,t()})).catch(F))}}function j(e){if(b=!1,i.cancelled)return N();O("changes rejected",e)}function D(){if(!b&&!f&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(E).on("change",T);t.then(o,o),t.then(P).catch(j),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function o(){i.removeListener("cancel",r)}}function R(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){E={since:p=e,limit:g,batch_size:g,style:y,doc_ids:_,selector:w,return_docs:!0},n.filter&&("string"!=typeof n.filter?E.include_docs=!0:E.filter=n.filter),"heartbeat"in n&&(E.heartbeat=n.heartbeat),"timeout"in n&&(E.timeout=n.timeout),n.query_params&&(E.query_params=n.query_params),n.view&&(E.view=n.view),D()}));N()})).catch((function(e){O("getCheckpoint rejected with ",e)}))}function F(e){d=!1,O("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?N():(i._addedListeners||(i.once("cancel",N),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?R():A().then((function(){return d=!0,c.writeCheckpoint(n.since,S)})).then((function(){d=!1,i.cancelled?N():(p=n.since,R())})).catch(F))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(Y,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function oi(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new si(e=ii(e,n),t=ii(t,n),n,i)}function si(e,t,n,i){var r=this;this.canceled=!1;var o=n.push?R({},n,n.push):n,s=n.pull?R({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function f(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function h(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,o),this.pull=ri(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var m={};function g(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===f||n===d)||"active"===t&&(n===p||n===h))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",u),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",p),v(r.push,"active",h)):"paused"===e&&(v(r.pull,"paused",f),v(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",p),r.push.removeListener("active",h)):"paused"===e&&(r.pull.removeListener("paused",f),r.push.removeListener("paused",d))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}m()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},m()(si,v.a),si.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",_n,!1),e.adapter("https",_n,!1)})).plugin(zn).plugin((function(e){e.replicate=ri,e.sync=oi,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(35))},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return l})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return w.a})),n.d(t,"v5",(function(){return E})),n.d(t,"NIL",(function(){return L})),n.d(t,"version",(function(){return A})),n.d(t,"validate",(function(){return u.a})),n.d(t,"stringify",(function(){return s.a})),n.d(t,"parse",(function(){return d}));var i,r,o=n(20),s=n(9),a=0,c=0;var l=function(e,t,n){var l=t&&n||0,u=t||new Array(16),d=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==f){var h=e.random||(e.rng||o.a)();null==d&&(d=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=r=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,g=p-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=m,r=f;var v=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var y=p/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=f>>>8|128,u[l++]=255&f;for(var b=0;b<6;++b)u[l+b]=d[b];return t||Object(s.a)(u)},u=n(10);var d=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var f=function(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=d(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=a[c];return r}return Object(s.a)(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function h(e){return 14+(e+64>>>9<<4)+1}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,i,r,o){return p((s=p(p(t,e),p(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function g(e,t,n,i,r,o,s){return m(t&n|~t&i,e,t,r,o,s)}function v(e,t,n,i,r,o,s){return m(t&i|n&~i,e,t,r,o,s)}function y(e,t,n,i,r,o,s){return m(t^n^i,e,t,r,o,s)}function b(e,t,n,i,r,o,s){return m(n^(t|~i),e,t,r,o,s)}var _=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i=0;i<n;i+=8){var r=e[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[h(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=i,l=r,u=o;n=g(n,i,r,o,e[s],7,-680876936),o=g(o,n,i,r,e[s+1],12,-389564586),r=g(r,o,n,i,e[s+2],17,606105819),i=g(i,r,o,n,e[s+3],22,-1044525330),n=g(n,i,r,o,e[s+4],7,-176418897),o=g(o,n,i,r,e[s+5],12,1200080426),r=g(r,o,n,i,e[s+6],17,-1473231341),i=g(i,r,o,n,e[s+7],22,-45705983),n=g(n,i,r,o,e[s+8],7,1770035416),o=g(o,n,i,r,e[s+9],12,-1958414417),r=g(r,o,n,i,e[s+10],17,-42063),i=g(i,r,o,n,e[s+11],22,-1990404162),n=g(n,i,r,o,e[s+12],7,1804603682),o=g(o,n,i,r,e[s+13],12,-40341101),r=g(r,o,n,i,e[s+14],17,-1502002290),i=g(i,r,o,n,e[s+15],22,1236535329),n=v(n,i,r,o,e[s+1],5,-165796510),o=v(o,n,i,r,e[s+6],9,-1069501632),r=v(r,o,n,i,e[s+11],14,643717713),i=v(i,r,o,n,e[s],20,-373897302),n=v(n,i,r,o,e[s+5],5,-701558691),o=v(o,n,i,r,e[s+10],9,38016083),r=v(r,o,n,i,e[s+15],14,-660478335),i=v(i,r,o,n,e[s+4],20,-405537848),n=v(n,i,r,o,e[s+9],5,568446438),o=v(o,n,i,r,e[s+14],9,-1019803690),r=v(r,o,n,i,e[s+3],14,-187363961),i=v(i,r,o,n,e[s+8],20,1163531501),n=v(n,i,r,o,e[s+13],5,-1444681467),o=v(o,n,i,r,e[s+2],9,-51403784),r=v(r,o,n,i,e[s+7],14,1735328473),i=v(i,r,o,n,e[s+12],20,-1926607734),n=y(n,i,r,o,e[s+5],4,-378558),o=y(o,n,i,r,e[s+8],11,-2022574463),r=y(r,o,n,i,e[s+11],16,1839030562),i=y(i,r,o,n,e[s+14],23,-35309556),n=y(n,i,r,o,e[s+1],4,-1530992060),o=y(o,n,i,r,e[s+4],11,1272893353),r=y(r,o,n,i,e[s+7],16,-155497632),i=y(i,r,o,n,e[s+10],23,-1094730640),n=y(n,i,r,o,e[s+13],4,681279174),o=y(o,n,i,r,e[s],11,-358537222),r=y(r,o,n,i,e[s+3],16,-722521979),i=y(i,r,o,n,e[s+6],23,76029189),n=y(n,i,r,o,e[s+9],4,-640364487),o=y(o,n,i,r,e[s+12],11,-421815835),r=y(r,o,n,i,e[s+15],16,530742520),i=y(i,r,o,n,e[s+2],23,-995338651),n=b(n,i,r,o,e[s],6,-198630844),o=b(o,n,i,r,e[s+7],10,1126891415),r=b(r,o,n,i,e[s+14],15,-1416354905),i=b(i,r,o,n,e[s+5],21,-57434055),n=b(n,i,r,o,e[s+12],6,1700485571),o=b(o,n,i,r,e[s+3],10,-1894986606),r=b(r,o,n,i,e[s+10],15,-1051523),i=b(i,r,o,n,e[s+1],21,-2054922799),n=b(n,i,r,o,e[s+8],6,1873313359),o=b(o,n,i,r,e[s+15],10,-30611744),r=b(r,o,n,i,e[s+6],15,-1560198380),i=b(i,r,o,n,e[s+13],21,1309151649),n=b(n,i,r,o,e[s+4],6,-145523070),o=b(o,n,i,r,e[s+11],10,-1120210379),r=b(r,o,n,i,e[s+2],15,718787259),i=b(i,r,o,n,e[s+9],21,-343485551),n=p(n,a),i=p(i,c),r=p(r,l),o=p(o,u)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(h(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),w=n(22);function k(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function S(e,t){return e<<t|e>>>32-t}var E=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var f=new Uint32Array(80),h=0;h<16;++h)f[h]=a[d][h];for(var p=16;p<80;++p)f[p]=S(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),E=S(m,5)+k(w,g,v,y)+b+t[w]+f[_]>>>0;b=y,y=v,v=S(g,30)>>>0,g=m,m=E}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),L="00000000-0000-0000-0000-000000000000";var A=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_list" id="mei_list"></div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        \n        <div class="tile_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">↻</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="tile_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(4),r=n(3),o=n(18),s=n(11);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,s.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new o.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const s=document.getElementById("moreEdit");s&&(s.innerHTML="",s.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(4);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),o=e.document.createTextNode("");return r.observe(o,{characterData:!0}),function(){o.data=i=++i%2}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(12))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitDocumentSelector=t.updateDocumentSelector=void 0;const i=n(52),r=n(54),o=n(53),s=document.querySelector("#uploaded-docs-content"),a=document.querySelector("#sample-docs-content"),c=document.querySelector("#open-doc"),l=document.querySelector("#remove-doc");let u,d,f=!1,h=!1;const p=new class{constructor(){this.prevSelection=[],this.reset()}setStart(e){this.reset(),this.start=Math.max(e,0)}setEnd(e){this.end=e}reset(){this.start=0,this.end=-1,this.prevSelection.splice(0)}getPrevSelection(){return this.prevSelection}getSelection(){let e,t;if(-1===this.end)return[];this.end<this.start?(e=this.end,t=this.start+1):(e=this.start,t=this.end+1);const n=Array.from({length:t-e},(t,n)=>n+e).filter(e=>!d[e]);return this.prevSelection=n,n}};function m(){return u.filter((e,t)=>d[t])}function g(e,t){const n=(i=t?{storage:e}:{manifest:e},Object.keys(i).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(i[e])).join("&"));var i;window.open("./editor.html?"+n,"_blank")}function v(e,t){if(null!=e)t=null!=t?t:u.indexOf(e.id);else{if(null==t)return;e=document.getElementById(u[t])}e.classList.remove("selected"),d[t]=!1}function y(){Array.from(document.querySelectorAll(".document-entry.selected")).forEach(e=>e.classList.remove("selected")),d.fill(!1)}function b(e,t){if(null!=e)t=null!=t?t:u.indexOf(e.id);else{if(null==t)return;e=document.getElementById(u[t])}e.classList.add("selected"),d[t]=!0}function _(){const e=d.lastIndexOf(!0);-1===e?(c.classList.remove("active"),l.classList.remove("active")):(c.classList.add("active"),e<u.length-o.samples.length?l.classList.add("active"):l.classList.remove("active"))}async function w(){p.reset(),s.innerHTML="";const e=await(0,i.fetchUploadedDocuments)();if(e.sort(),0===e.length){const e=document.createElement("div");e.id="no-docs-msg",e.innerHTML="No Documents Uploaded",s.appendChild(e)}else e.forEach(e=>{const t=document.createElement("div");t.id=e,t.classList.add("document-entry"),t.classList.add("uploaded-doc");const n=document.createElement("div");n.classList.add("filename-text"),n.innerHTML=(0,r.formatFilename)(e,25),t.appendChild(n),s.appendChild(t)});a.innerHTML="";const t=(0,i.fetchSampleDocuments)();if(t.sort(),0===t.length){const e=document.createElement("div");e.innerHTML="No Documents Uploaded",a.appendChild(e)}else t.forEach(e=>{const t=document.createElement("div");t.id=e,t.classList.add("document-entry");const n=document.createElement("div");n.classList.add("filename-text"),n.innerHTML=(0,r.formatFilename)(e,25),t.appendChild(n),a.appendChild(t)});u=e.concat(o.samples),d=new Array(u.length).fill(!1),u.forEach((e,t)=>{const n=document.getElementById(""+e);n.addEventListener("dblclick",k,!1),n.addEventListener("click",(function(e){f||h?f?(d[t]?(v(n,t),p.setStart(d.lastIndexOf(!0))):(b(n,t),p.setStart(t)),_()):h&&(p.getPrevSelection().forEach(e=>{v(null,e)}),p.setEnd(t),p.getSelection().forEach(e=>{b(null,e)}),_()):(y(),b(n,t),p.setStart(t),_())}),!1)})}function k(){c.classList.contains("active")&&(m().map(e=>document.getElementById(e)).forEach(e=>{!function(e){const t=!!e.classList.contains("uploaded-doc");g(e.id,t)}(e)}),p.reset(),y(),_())}function S(){if(!l.classList.contains("active"))return;const e=m(),t="Are you sure you want to delete:\n"+e.join("\n")+"\n\nThis action is irreversible.";if(window.confirm(t)){const t=e.map(e=>(0,i.deleteEntry)(e));Promise.all(t).then(()=>{w()}).catch(e=>console.debug("failed to delete files: ",e)),y(),p.reset()}_()}t.updateDocumentSelector=w;t.InitDocumentSelector=()=>{c.addEventListener("click",k),l.addEventListener("click",S),window.addEventListener("keydown",e=>{e.metaKey&&(f=!0),e.shiftKey&&(h=!0),"Escape"===e.key&&(y(),p.reset(),_())}),window.addEventListener("keyup",e=>{e.metaKey||(f=!1),e.shiftKey||(h=!1)});document.querySelector(".main-section-content").addEventListener("click",(function(e){const t=e.target.classList;["document-entry","filename-text"].some(e=>t.contains(e))||(y(),p.reset(),_())})),w()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteEntry=t.addEntry=t.createManifest=t.fetchSampleDocuments=t.fetchUploadedDocuments=void 0;const i=n(30),r=n(29),o=n(86),s=n(53),a=new r.default("Neon-User-Storage");t.fetchUploadedDocuments=async function(){return await new Promise((e,t)=>{a.allDocs({include_docs:!0}).then(t=>e(t)).catch(e=>t(e))}).then(e=>e.rows.map(e=>e.key)).catch(e=>(console.log("Could'nt fetch uploaded documents",e.message),[]))},t.fetchSampleDocuments=function(){return s.samples},t.createManifest=function(e,t,n){return new Promise(async r=>{const s=JSON.parse(JSON.stringify(o));s["@id"]=(0,i.v4)(),s.title=e,s.timestamp=(new Date).toISOString();const a=new Promise(e=>{const n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}),c=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(n)}),l=await a,u=await c;s.image=u,s.mei_annotations=[{id:(0,i.v4)(),type:"Annotation",body:l,target:u}],r(s)})},t.addEntry=function(e,t,n){return new Promise((i,r)=>{a.put({_id:e,kind:n?"page":"manuscript",_attachments:{manifest:{content_type:"application/ld+json",data:t}}}).then(e=>{i(!0)}).catch(t=>{window.alert(`Error Uploading Document: ${t.message}, ${e}.`),r(!1)})})},t.deleteEntry=function(e){return new Promise((t,n)=>{a.get(e).then(e=>{a.remove(e).then(e=>{t(!0)}).catch(e=>{console.log(e),n(e)})}).catch(e=>{console.log(e),n(e)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.samples=void 0,t.samples=["CF-005","CF-009","CF-010","CF-011","CF-012","CF-013","CF-014","CF-015","CF-016","CF-017","CF-018","CF-019","CF-020","CF-024","CF-025","CF-026","CF-027","CF-028","CF-029","CF-030","CF-031","CF-032","CF-033","CF-034","CF-035","CF-036","CF-037","CF-038","CF-039","CF-040","CF-041","CF-042","CF-044","CF-045","CF-046","CF-047","CF-048","CF-049","CF-050","CF-051","CF-052","CF-053","CF-054","CF-055","CF-056","Salzinnes"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameFile=t.formatFilename=void 0,t.formatFilename=function(e,t){const n=Math.floor(t/2),i=e.length;return i<=t?e:`${e.substring(0,n-1)}...${e.substring(i-n+2,i)}`},t.renameFile=function(e,t){const n=new RegExp(e),i=t.filter(e=>n.test(e));if(0!==i.length){const t=/\(\d+\),/g,n=i.join().concat(",").match(t);if(null!==n){const t=n.map(e=>{const t=e.substring(1,e.length-2);return Number(t)});t.sort();const i=t.indexOf(1);if(-1===i)return e+"(1)";{let n=1;for(let e=i+1;e<t.length;e++){if(t[e]!==n+1)break;n+=1}return`${e}(${n+1})`}}return e+"(1)"}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleUploadAllDocuments=t.handleMakePair=t.addNewFiles=void 0;const i=n(30),r=n(56),o=n(54),s=n(52),a=r.default.getInstance();function c(e,t){if("mei"!==t&&"image"!==t)return;const n="mei"===t?"mei_radio_group":"image_radio_group",r=(0,i.v4)(),s=document.createElement("div");s.className="unpaired_item_container";const a=document.createElement("input");a.type="radio",a.className="unpaired_item_radio",a.name=n,a.value=e,a.id=r;const c=document.createElement("label");c.className="unpaired_item_label",c.setAttribute("for",r);const l=document.createElement("span");return l.innerText=(0,o.formatFilename)(e,28),c.appendChild(a),c.appendChild(l),s.appendChild(c),s}t.addNewFiles=function(e){const t=document.querySelector("#mei_list"),n=document.querySelector("#image_list"),i=[];return e.forEach(e=>{const r=e.name.split(".").pop();if("mei"===r){const n=c(e.name,"mei");t.appendChild(n),a.addFile(e)}else if(["png","jpg","jpeg"].includes(r)){const t=c(e.name,"image");n.appendChild(t),a.addFile(e)}else"jsonld"===r||i.push(e)}),i},t.handleMakePair=function(){const e=document.querySelector("#paired_list"),t=document.querySelector('input[name="mei_radio_group"]:checked'),n=document.querySelector('input[name="image_radio_group"]:checked');if(null===t||null===n)return;const i=t.value,r=n.value,s=i.substring(0,i.length-4),l=function(e,t,n){const i=document.querySelector("#mei_list"),r=document.querySelector("#image_list"),s=document.createElement("div");s.className="tile_item",s.setAttribute("mei",t),s.setAttribute("image",n);const l=document.createElement("div");function u(){s.remove(),a.removeFolio(e);const o=c(t,"mei");i.appendChild(o);const l=c(n,"image");r.appendChild(l)}l.classList.add("tile-filename"),l.innerHTML=(0,o.formatFilename)(e,25),s.appendChild(l);const d=document.createElement("button");return d.innerText="⌫",d.className="delete_button",d.addEventListener("click",u),s.appendChild(d),s}(s,i,r);e.appendChild(l),a.addFolio(s,i,r),t.parentElement.parentElement.remove(),n.parentElement.parentElement.remove()},t.handleUploadAllDocuments=async function(){const e=await(0,s.fetchUploadedDocuments)(),t=(0,s.fetchSampleDocuments)(),n=e.concat(t),i=a.getFolios().map(async([e,t,i])=>{const r=(0,o.renameFile)(e,n);return n.push(r),await async function(e,t,n){return(0,s.createManifest)(e,t,n).then(t=>{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/ld+json"});return(0,s.addEntry)(e,n,!0)})}(r,t,i)});a.clear();const r=i.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e})));return Promise.all(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.allFiles=new Map,this.folios=new Array}static getInstance(){return i.instance||(i.instance=new i),i.instance}addFile(e){if(this.allFiles.has(e.name)){const t={file:e,count:this.getFileCount(e.name)+1};this.allFiles.set(e.name,t)}else{const t={file:e,count:1};this.allFiles.set(e.name,t)}}getFile(e){if(this.allFiles.has(e))return this.allFiles.get(e).file}removeFile(e){const t=this.getFileCount(e);if(0!==t)if(1===t)this.allFiles.delete(e);else{const n={file:this.allFiles.get(e).file,count:t-1};this.allFiles.set(e,n)}}getFileCount(e){return this.allFiles.has(e)?this.allFiles.get(e).count:0}addFolio(e,t,n){const i={filename:e,mei_filename:t,image_filename:n};this.folios.push(i)}removeFolio(e){const t=this.folios.findIndex(t=>t.filename===e);this.folios.splice(t,1)}getFolios(){return this.folios.map(e=>{const t=e.filename,n=e.mei_filename,i=e.image_filename;return[t,this.getFile(n),this.getFile(i)]})}clear(){this.allFiles.clear(),this.folios.splice(0)}print(){console.log(this.allFiles),console.log(this.folios)}}t.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.fm=void 0;const o=n(51),s=n(87),a=n(56);t.fm=a.default.getInstance(),(0,o.InitDocumentSelector)(),null===(i=document.querySelector("#upload-new-doc-button"))||void 0===i||i.addEventListener("click",(function(){(0,s.InitUploadArea)()})),null===(r=document.querySelector("#home-link"))||void 0===r||r.setAttribute("href","https://ddmal.music.mcgill.ca/Neon")},function(e){e.exports=JSON.parse('{"@context":["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitUploadArea=void 0;const i=n(55),r=n(17),o=n(55),s=n(51);t.InitUploadArea=function(){const e=new r.ModalWindow;e.setModalWindowView(r.ModalWindowView.DOCUMENT_UPLOAD),e.openModalWindow(),document.querySelector("#make_pair").addEventListener("click",o.handleMakePair),document.querySelector("#upload_button").addEventListener("click",(async function(){const t=document.querySelector("#uploading_spinner");t.classList.add("visible"),(0,o.handleUploadAllDocuments)().then(n=>{setTimeout(async()=>{await(0,s.updateDocumentSelector)(),t.classList.remove("visible"),e.hideModalWindow()},2e3)}).catch(n=>{console.log("One or more uploads rejected: ",n),setTimeout(async()=>{await(0,s.updateDocumentSelector)(),t.classList.remove("visible"),e.hideModalWindow()},2e3)})}));const t=document.createElement("input");t.type="file",t.multiple=!0,t.addEventListener("change",(function(){const e=t.files,n=Array.from(e),r=(0,i.addNewFiles)(n);if(0!==r.length){const e=r.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}t.value=null}));const n=document.querySelector("#initial_upload_area");n.onclick=()=>t.click(),n.ondragleave=()=>n.classList.remove("over"),n.ondragover=e=>{e.stopPropagation(),e.preventDefault(),n.classList.add("over"),e.dataTransfer.dropEffect="copy"},n.ondrop=e=>{e.stopPropagation(),e.preventDefault(),n.classList.remove("over");const t=e.dataTransfer.files,r=Array.from(t),o=(0,i.addNewFiles)(r);if(0!==o.length){const e=o.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTG9jYWxTZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9Db250ZW50cy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvQ29vcmRpbmF0ZXMudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTW9kYWxXaW5kb3cudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RyYWdIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dXZ1emVsYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yYW5kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Jlc2l6ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU2VsZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FcnJvckxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dEVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3VjaGRiL2xpYi9pbmRleC1icm93c2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9wYXJzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc2hhMS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL2Rhc2hib2FyZF9jb21wb25lbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9XYXJuaW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TdGFmZlRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L05ldW1lVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9xdWV1ZU1pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tZXNzYWdlQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9zdGF0ZUNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi90aW1lb3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRG9jdW1lbnRTZWxlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9zYW1wbGVzX2ZpbGVuYW1lcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL2Z1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9kZXBsb3ltZW50L3NjcmlwdHMvZGFzaGJvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvVXBsb2FkQXJlYS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJhcHBseSIsInRhcmdldCIsInJlY2VpdmVyIiwiYXJncyIsIkZ1bmN0aW9uIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25jYXQiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsInRoaXMiLCJvbmNlIiwiZW1pdHRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImFyZ3VtZW50cyIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwidW5kZWZpbmVkIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJUeXBlRXJyb3IiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsInB1c2giLCJsZW5ndGgiLCJ3YXJuZWQiLCJ3IiwiRXJyb3IiLCJTdHJpbmciLCJjb3VudCIsImNvbnNvbGUiLCJ3YXJuIiwib25jZVdyYXBwZXIiLCJmaXJlZCIsIndyYXBGbiIsIl9vbmNlV3JhcCIsInN0YXRlIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwiQXJyYXkiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsImNvcHkiLCJhZGRFdmVudExpc3RlbmVyIiwid3JhcExpc3RlbmVyIiwiYXJnIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlcnJvciIsImVyIiwibWVzc2FnZSIsImNvbnRleHQiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleXMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJUZW1wQ3RvciIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwic2NoZWR1bGVEcmFpbiIsInR5cGVzIiwicXVldWVJbmRleCIsInF1ZXVlIiwic2NoZWR1bGVkIiwiY2xlYW5VcE5leHRUaWNrIiwibmV4dFRpY2siLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInJ1biIsImNsZWFyVGltZW91dCIsInRlc3QiLCJpbnN0YWxsIiwiSXRlbSIsImZ1biIsImFycmF5IiwidGFzayIsImdldFNlbGVjdGlvblR5cGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaWQiLCJ1bnNlbGVjdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwic2VsZWN0ZWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjb250YWlucyIsInJlbW92ZUF0dHJpYnV0ZSIsIkNvbG9yIiwidW5oaWdobGlnaHQiLCJzdHlsZSIsImZpbGwiLCJmcm9tIiwic3lsbGFibGUiLCJzdHJva2UiLCJlbCIsImNvbG9yIiwiZm9udFdlaWdodCIsInN5bFJlY3QiLCJhZGQiLCJkMyIsInNlbGVjdEFsbCIsImdldEVsZW1lbnRCeUlkIiwiU2VsZWN0T3B0aW9ucyIsImVuZE9wdGlvbnNTZWxlY3Rpb24iLCJHcm91cGluZyIsImVuZEdyb3VwaW5nU2VsZWN0aW9uIiwiaW5uZXJIVE1MIiwicGFyZW50RWxlbWVudCIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTcGxpdEFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJlbGVtIiwiZ2V0SGlnaGxpZ2h0VHlwZSIsImNsb3Nlc3QiLCJzcGFuIiwiYXN5bmMiLCJpc0xpZ2F0dXJlIiwibmMiLCJuZW9uVmlldyIsImF0dHJpYnV0ZXMiLCJnZXRFbGVtZW50QXR0ciIsInZpZXciLCJnZXRDdXJyZW50UGFnZVVSSSIsIkJvb2xlYW4iLCJsaWdhdGVkIiwiZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUiLCJzZWxlY3Rpb25UeXBlIiwiZWxlbWVudHMiLCJzaGFyZWRTZWNvbmRMZXZlbFBhcmVudCIsInRlbXBFbGVtZW50cyIsInNlY29uZFBhcmVudCIsInNlbGVjdEJCb3giLCJiYm94Iiwic3lsIiwicmVzaXplIiwicXVlcnlTZWxlY3RvciIsInBhcmVudCIsInByZXZOYyIsInByZXZpb3VzU2libGluZyIsIm5leHROYyIsIm5leHRTaWJsaW5nIiwidHJpZ2dlckdyb3VwaW5nIiwidHJpZ2dlck5jQWN0aW9ucyIsImFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlIiwic29ydGVkRWxlbWVudHMiLCJqIiwiaXNTYW1lTm9kZSIsImZpcnN0RWxlbSIsInNlY29uZEVsZW0iLCJpbmRleDEiLCJpbmRleE9mIiwiaW5kZXgyIiwiTWF0aCIsImFicyIsImZpbHRlciIsInJlZmVyZW5jZVBhcmVudFN0YWZmIiwicmVmZXJlbmNlUGFyZW50U3lsbGFibGUiLCJlbGVtZW50c0FycmF5IiwiYW5vdGhlclN0YWZmIiwidWx4IiwidWx5IiwibHJ4IiwibHJ5Iiwicm90YXRlIiwicGF0aCIsImNvb3JkaW5hdGVzIiwiZ2V0QXR0cmlidXRlIiwibWF0Y2giLCJtYXAiLCJhdGFuIiwibWluIiwibWF4Iiwibm90TmV1bWVzIiwibm4iLCJzZWxlY3Rpb25DbGFzcyIsImNvbnRhaW5zTGF5ZXJFbGVtZW50cyIsImNvbnRhaW5zTmMiLCJncm91cHNUb1NlbGVjdCIsIlNldCIsImdyb3VwaW5nIiwiZm9sbG93cyIsInByZWNlZGVzIiwiZ3JvdXAiLCJncm91cHMiLCJ2YWx1ZXMiLCJ0cmlnZ2VyU3RhZmZBY3Rpb25zIiwic2l6ZSIsInRyaWdnZXJDbGVmQWN0aW9ucyIsInRyaWdnZXJDdXN0b3NBY3Rpb25zIiwidHJpZ2dlckFjY2lkQWN0aW9ucyIsInRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIiwidHJpZ2dlckRlZmF1bHRBY3Rpb25zIiwidHJpZ2dlclN5bGxhYmxlQWN0aW9ucyIsImlzTGlua2FibGUiLCJpc0dyb3VwYWJsZSIsInRyaWdnZXJOZXVtZUFjdGlvbnMiLCJjaGlsZHJlbiIsImZpcnN0TkMiLCJzZWNvbmROQyIsImZpcnN0TkNYIiwieCIsImJhc2VWYWwiLCJzZWNvbmROQ1giLCJmaXJzdE5DWSIsInkiLCJzZWNvbmROQ1kiLCJnIiwidHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zIiwibm90aWZpY2F0aW9ucyIsImN1cnJlbnRNb2RlTWVzc2FnZSIsIm5vdGlmeWluZyIsIm5vdGlmaWNhdGlvbkljb24iLCJkZWZhdWx0Iiwic3VjY2VzcyIsIk5vdGlmaWNhdGlvbiIsImRpc3BsYXllZCIsInV1aWR2NCIsImlzTW9kZU1lc3NhZ2UiLCJzZWFyY2giLCJ0aW1lb3V0SUQiLCJjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJnZXRJZCIsInN0YXJ0Tm90aWZpY2F0aW9uIiwiZGlzcGxheSIsImN1cnJlbnROb3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJ3aW5kb3ciLCJub3RpZmljYXRpb25Db250ZW50IiwibmV3Tm90aWZpY2F0aW9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsImRpc3BsYXlOb3RpZmljYXRpb24iLCJzZXRUaW1lb3V0SWQiLCJxdWV1ZU5vdGlmaWNhdGlvbiIsIm5vdGlmIiwicmVjb3JkTm90aWZpY2F0aW9uIiwibG9jYWxTZXR0aW5ncyIsIkRFRkFVTFRfU0VUVElOR1MiLCJ6b29tIiwiZ2x5cGhPcGFjaXR5IiwiaW1hZ2VPcGFjaXR5IiwiaGlnaGxpZ2h0TW9kZSIsInNlbGVjdGlvbk1vZGUiLCJkaXNwbGF5QkJveCIsImRpc3BsYXlUZXh0IiwiZGlzcGxheUluZm8iLCJkaXNwbGF5RXJyTG9nIiwidmlld0JveCIsInNldHRpbmdzIiwicGFyYW1zIiwiZm9saW9JZCIsImxvYWQiLCJzdG9yZWQiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3luYyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJpbnNlcnRUYWJIdG1sIiwicHJpbWl0aXZlVGFiIiwiZ3JvdXBpbmdUYWIiLCJzeXN0ZW1UYWIiLCJpbnNlcnRDb250cm9sc1BhbmVsIiwiZWRpdENvbnRyb2xzUGFuZWwiLCJuY0FjdGlvbkNvbnRlbnRzIiwiZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMiLCJuZXVtZUFjdGlvbkNvbnRlbnRzIiwic3RhZmZBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInNwbGl0QWN0aW9uQ29udGVudHMiLCJjbGVmQWN0aW9uQ29udGVudHMiLCJncm91cGluZ01lbnUiLCJuZXVtZSIsImxpZ2F0dXJlTmMiLCJsaWdhdHVyZSIsInNwbGl0U3lsbGFibGUiLCJlZGl0VGV4dE1vZGFsIiwiaG90a2V5c01vZGFsIiwic3lsbGFibGVBY3Rpb25zQ29udGVudCIsImVycm9yTG9nc1BhbmVsQ29udGVudHMiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImdldFNWR1JlbENvb3JkcyIsImNsaWVudFgiLCJjbGllbnRZIiwicHQiLCJET01Qb2ludCIsInN5c3RlbSIsIm1hdHJpeFRyYW5zZm9ybSIsImdldFNjcmVlbkNUTSIsImludmVyc2UiLCJnZXRTdGFmZklkQnlDb29yZHMiLCJzdGFmZkJCb3hlcyIsImdldFN0YWZmQkJveCIsImZpbmQiLCJzdGFmZklkIiwiYmdJbWciLCJyZWN0IiwidGFnTmFtZSIsImdldEJCb3giLCJwYXJlbnROb2RlIiwid2lkdGgiLCJoZWlnaHQiLCJlIiwidW5zZXRJbmNsaW5hdHVtQWN0aW9uIiwiYWN0aW9uIiwicGFyYW0iLCJlbGVtZW50SWQiLCJhdHRyVHlwZSIsImF0dHJWYWx1ZSIsInVuc2V0VmlyZ2FBY3Rpb24iLCJ1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uIiwiZGVsZXRlQnV0dG9uSGFuZGxlciIsImV2dCIsInJlbW92ZUhhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsIm1vcmVFZGl0IiwiZXh0cmFFZGl0IiwiYm9keSIsInRvUmVtb3ZlIiwiY2hhaW5BY3Rpb24iLCJlZGl0IiwidGhlbiIsInVwZGF0ZUZvckN1cnJlbnRQYWdlIiwiY2hhbmdlU3RhZmZIYW5kbGVyIiwidG9DaGFuZ2UiLCJpbnNlcnRUb1N5bGxhYmxlSGFuZGxlciIsInRvSW5zZXJ0IiwicmVzdWx0IiwibW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIiLCJ0b01vdmUiLCJhZGREZWxldGVMaXN0ZW5lciIsImRlbCIsImFkZENoYW5nZVN0YWZmTGlzdGVuZXIiLCJzZXRFZGl0Q29udHJvbHMiLCJlZGl0VHlwZSIsImNvbnRlbnRzIiwicmVwbGFjZSIsInRyaWdnZXJTdGFmZlNwbGl0TW9kZSIsIlNwbGl0U3RhZmZIYW5kbGVyIiwic3RhcnRTcGxpdCIsImluaXRPcHRpb25zTGlzdGVuZXJzIiwiZHJvcCIsIm9wdGlvbnNDbGlja2F3YXkiLCJ0b2dnbGUiLCJvdGhlciIsInN0b3BQcm9wYWdhdGlvbiIsImluaXROZW9uVmlldyIsIkNvbnRlbnRzIiwidW5zZXRJbmNsaW5hdHVtIiwidW5zZXRWaXJnYSIsInVuc2V0VmlyZ2FSZXZlcnNlZCIsInVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSIsInVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UiLCJzZXRJbmNsaW5hdHVtIiwic2V0VmlyZ2EiLCJzZXRWaXJnYVJldmVyc2VkIiwic2V0TGlxdWVzY2VudENsb2Nrd2lzZSIsInNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwidHJpZ2dlckNoYW5nZUdyb3VwIiwiY29udG91ciIsImNoYW5nZUdyb3VwaW5nQWN0aW9uIiwiU3BsaXROZXVtZUhhbmRsZXIiLCJpbmZvIiwiZ2V0Q29udG91ckJ5VmFsdWUiLCJleHRyYUFjdGlvbnNIVE1MIiwiY2xlZiIsImluY3JlbWVudE9jdGF2ZSIsImRpcmVjdGlvbiIsInNldENDbGVmIiwic2hhcGUiLCJzZXRGQ2xlZiIsImFjY2lkIiwiY2hhbmdlVG9GbGF0IiwiY2hhbmdlVG9OYXR1cmFsIiwibWVyZ2VTdGF2ZXMiLCJwb2ludHMiLCJ5X2NoYW5nZSIsInRhbiIsImVkaXRvckFjdGlvbiIsImhleF9jaHIiLCJtZDVjeWNsZSIsImsiLCJhIiwiYiIsIm1kNWJsayIsIm1kNWJsa3MiLCJjaGFyQ29kZUF0IiwibWQ1YmxrX2FycmF5IiwibWQ1MSIsInRhaWwiLCJ0bXAiLCJsbyIsImhpIiwic3Vic3RyaW5nIiwicGFyc2VJbnQiLCJyaGV4IiwiaGV4Iiwiam9pbiIsInRvVXRmOCIsInN0ciIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGV4VG9CaW5hcnlTdHJpbmciLCJieXRlcyIsImZyb21DaGFyQ29kZSIsIlNwYXJrTUQ1IiwicmVzZXQiLCJBcnJheUJ1ZmZlciIsImNsYW1wIiwidmFsIiwidG8iLCJudW0iLCJ0YXJnZXRBcnJheSIsInNvdXJjZUFycmF5IiwiYnl0ZUxlbmd0aCIsImJlZ2luIiwiZW5kIiwiVWludDhBcnJheSIsImFwcGVuZEJpbmFyeSIsIl9idWZmIiwiX2xlbmd0aCIsIl9oYXNoIiwicmF3IiwiYnVmZiIsIl9maW5pc2giLCJnZXRTdGF0ZSIsImhhc2giLCJzZXRTdGF0ZSIsImRlc3Ryb3kiLCJoYXNoQmluYXJ5IiwiY29udGVudCIsImZpcnN0Iiwic2Vjb25kIiwicmV0dXJuVUludDhBcnJheSIsImJ1ZmZlciIsInN1YmFycmF5IiwidXRmOFN0cjJBcnJheUJ1ZmZlciIsIm1kNTFfYXJyYXkiLCJmYWN0b3J5IiwiQ29sb3JQYWxldHRlIiwic2V0QXR0cmlidXRlIiwicmVjdHMiLCJ1bnNldFN0YWZmSGlnaGxpZ2h0IiwidW5zZXRHcm91cGluZ0hpZ2hsaWdodCIsImNoaWxkIiwiY2NoaWxkIiwic2V0U3RhZmZIaWdobGlnaHQiLCJzdGF2ZXMiLCJzdGFmZkNvbG9yIiwic2V0R3JvdXBpbmdIaWdobGlnaHQiLCJncm91cENvbG9yIiwibGFzdEdseXBoT3BhY2l0eSIsImxhc3RJbWFnZU9wYWNpdHkiLCJzZXRPcGFjaXR5RnJvbVNsaWRlciIsIm1laUNsYXNzTmFtZSIsIm9wYWNpdHlPdXRwdXQiLCJzZXRTZXR0aW5ncyIsImhpZGVHbHlwaHNJbWciLCJvcGFjaXR5Iiwic2V0QmdPcGFjaXR5RnJvbVNsaWRlciIsImJhY2tncm91bmQiLCJiZ09wYWNpdHlPdXRwdXQiLCJiZyIsInVwZGF0ZUhpZ2hsaWdodE9wdGlvbiIsIm9wdGlvbiIsImRyb3Bkb3duIiwiaGlnaGxpZ2h0VHlwZSIsInRleHRDb250ZW50IiwidG9VcHBlckNhc2UiLCJzZXRIaWdobGlnaHRPcHRpb24iLCJoaWdobGlnaHRDbGlja2F3YXkiLCJzZXRIaWdobGlnaHRDb250cm9scyIsImxvYWRIaWdobGlnaHRTZXR0aW5ncyIsImdldFNldHRpbmdzIiwiem9vbUhhbmRsZXIiLCJ6b29tU2xpZGVyIiwiem9vbU91dHB1dCIsInpvb21UbyIsInJlc2V0Wm9vbUFuZFBhbiIsImRpc2FibGVkIiwiY3VycmVudFpvb20iLCJuZXdab29tIiwiaGlnaGxpZ2h0U2VsZWN0aW9uIiwiaGlnaGxpZ2h0SWQiLCJvcGFjaXR5U2xpZGVyIiwiaW5wdXRDaGFuZ2VPcGFjaXR5IiwidG9nZ2xlT3BhY2l0eUJ0biIsIm5ld09wYWNpdHkiLCJyb3VuZCIsInNldE9wYWNpdHlDb250cm9scyIsImJnT3BhY2l0eVNsaWRlciIsImJnSW5wdXRDaGFuZ2VIYW5kbGVyIiwidG9nZ2xlQmdPcGFjaXR5QnRuIiwic2V0QmFja2dyb3VuZE9wYWNpdHlDb250cm9scyIsIm1ldGFLZXkiLCJzZWxlY3RBbGxCdG4iLCJvcHRpb25zIiwiY2hlY2tlZCIsImNsaWNrIiwic2V0RGlzcGxheUFsbExpc3RlbmVyIiwiZGlzcGxheUNvbnRlbnRzIiwidG9nZ2xlRGlzcGxheSIsInBhZGRpbmciLCJvdmVyZmxvdyIsIk1vZGFsV2luZG93VmlldyIsIk1vZGFsV2luZG93U3RhdGUiLCJvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyIsImhpZGVNb2RhbFdpbmRvdyIsInVwZGF0ZVN5bFRleHQiLCJmb2N1c01vZGFsV2luZG93Iiwib3JpZyIsInRyaW0iLCJ1cGRhdGVkU3lsVGV4dCIsImVudHJpZXMiLCJjbGFzc05hbWUiLCJ0ZXh0IiwicmVzcG9uc2UiLCJ1cGRhdGVTZWxlY3RlZEJCb3giLCJrZXlkb3duTGlzdGVuZXIiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJtb2RhbFdpbmRvd1ZpZXciLCJFRElUX1RFWFQiLCJmb2N1cyIsIm1vZGFsV2luZG93U3RhdGUiLCJDTE9TRUQiLCJzZXRNb2RhbFdpbmRvd0NvbnRlbnQiLCJIT1RLRVlTIiwiRE9DVU1FTlRfVVBMT0FEIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiT1BFTiIsImlubmVyVGV4dCIsInJlbW92ZVN5bWJvbCIsIlZBTElEQVRJT05fU1RBVFVTIiwidXBsb2FkQXJlYUhUTUwiLCJzZWxlY3RvciIsImRyYWdTdGFydENvb3JkcyIsImRyYWdCZWhhdmlvdXIiLCJkcmFnIiwiZXZlbnQiLCJkeCIsImR5Iiwic291cmNlRXZlbnQiLCJkcmFnZ2luZyIsImRyYWdFbmRlZCIsInNlbGVjdGlvbiIsIm5vTW92ZVByZWNlZGVzIiwiaGFzQXR0cmlidXRlIiwibW92ZUVsZW1lbnRzIiwiYmJveGVzIiwieERpZmYiLCJ5RGlmZiIsImlzQ3Vyc29yT3V0T2ZCb3VuZHMiLCJpc0RyYWdPdXRPZkJvdW5kcyIsInJldHVybkVsZW1lbnRzIiwicGFyYW1BcnJheSIsImRyYWdBY3Rpb24iLCJ0b1Jlc2VsZWN0IiwicmVzZWxlY3QiLCJyZXNlbGVjdGVkIiwicmVzZXRUb0FjdGlvbiIsImVuZFgiLCJlbmRZIiwiaXNPdXRPZlNWR0JvdW5kcyIsImdseXBoU2VsZWN0b3IiLCJzZWxlY3Rpb25CQm94IiwicmVkdWNlIiwiYWNjIiwiZ2V0R2x5cGhCQm94IiwiY3VyciIsIk1BWF9WQUxVRSIsIk1JTl9WQUxVRSIsImdldFJhbmRvbVZhbHVlcyIsInJuZHM4Iiwicm5nIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJvYmoiLCJzdGFjayIsIm1ldGFTdGFjayIsImxhc3RNZXRhRWxlbWVudCIsImxhc3RFbGVtZW50SW5kZXgiLCJpc0FycmF5IiwiaW5wdXQiLCJuZXh0IiwiYXJyYXlQcmVmaXgiLCJvYmpQcmVmaXgiLCJyZXMiLCJwcmVmaXgiLCJjb2xsYXRpb25JbmRleCIsInBhcnNlZE51bSIsIm51bUNoYXIiLCJwYXJzZWRTdHJpbmciLCJsYXN0Q2giLCJudW1Db25zZWN1dGl2ZVNsYXNoZXMiLCJjaCIsImFycmF5RWxlbWVudCIsIm9iakVsZW1lbnQiLCJwYXJzZUZsb2F0IiwiYnVmIiwicm5kcyIsInJhbmRvbSIsInVpbnQ4VG9VdWlkIiwiZGF0YSIsImNiIiwicHJldmlvdXMiLCJjdXJyZW50IiwicGFkU3RhcnQiLCJvY3RldHMiLCJtb2RpZmllcnMiLCJTZWxlY3RUb29scyIsInNoYXJlZExvZ2ljYWxQYXJlbnQiLCJhcmVBZGphY2VudCIsImlzTGlua2VkIiwiaXNNdWx0aVN0YXZlU2VsZWN0aW9uIiwic3RhZmYwIiwic3RhZmYxIiwic3RhZmZDaGlsZHJlbiIsImZpcnN0U3RhZmYiLCJzZWNvbmRTdGFmZiIsImZpcnN0TGF5ZXIiLCJzZWNvbmRMYXllciIsImZpcnN0U3lsbGFibGVDaGlsZHJlbiIsInNlY29uZFN5bGxhYmxlQ2hpbGRyZW4iLCJsYXN0U3lsbGFibGUiLCJmaXJzdFN5bGxhYmxlIiwic3lzdGVtcyIsImVsZW1lbnRJZHMiLCJncm91cGluZ0FjdGlvbiIsImdldENoaWxkcmVuSWRzIiwiZ2V0SWRzIiwidG9nZ2xlTGlua2VkU3lsbGFibGVzIiwiZ3JvdXBUeXBlIiwibmV1bWVQYXJlbnQiLCJuY3MiLCJnZXRDb250b3VyIiwiV2FybmluZ3MiLCJncm91cGluZ05vdFJlY29nbml6ZWQiLCJzeWxsYWJsZTAiLCJzeWxsYWJsZTEiLCJzZWNvbmRTeWxsYWJsZSIsImlkcyIsImNoaWxkcmVuSWRzIiwiUG9pbnROYW1lcyIsIlRvcExlZnQiLCJUb3AiLCJUb3BSaWdodCIsIlJpZ2h0IiwiQm90dG9tUmlnaHQiLCJCb3R0b20iLCJCb3R0b21MZWZ0IiwiTGVmdCIsImdldFBvaW50cyIsInNpbiIsImluaXRpYWxVbHgiLCJpbml0aWFsTHJ4IiwiaW5pdGlhbFBvaW50IiwiaW5pdGlhbFVseSIsImluaXRpYWxMcnkiLCJpbml0aWFsWSIsImluaXRpYWxSZWN0WSIsInBvbHlMZW4iLCJpbml0aWFsUm90YXRlIiwicmVkcmF3IiwicG9pbnRTdHJpbmciLCJfZWxlbSIsInRleHRSZWN0IiwicG9pbnROYW1lIiwicG9pbnQiLCJhdHRyIiwicG9pbnRTdHJpbmdSaWdodCIsInBvaW50U3RyaW5nTGVmdCIsImRyYXdJbml0aWFsUmVjdCIsIndoaWNoUG9pbnQiLCJfIiwidmlld3BvcnRFbGVtZW50IiwicmVzaXplU3RhcnQiLCJyZXNpemVEcmFnIiwicmVzaXplRW5kIiwicm90YXRlU3RhcnQiLCJ0ZW1wIiwibW91c2UiLCJ0ZW1wUm90YXRlIiwicm90YXRlRW5kIiwiY3VycmVudFBvaW50Iiwid2hpY2giLCJQSSIsInN0cm9rZVdpZHRoIiwiZXNjYXBlS2V5TGlzdGVuZXIiLCJpbmZvTGlzdGVuZXJzIiwiZW50ZXJLZXlMaXN0ZW5lciIsImFycm93S2V5TGlzdGVuZXIiLCJiYm94U3lsbGFibGVzIiwiaW5kIiwiaXNTZWxCeUJCb3giLCJzZWxCeUJCb3giLCJzdG9wUHJvcEhhbmRsZXIiLCJpc0VsZW1lbnRJblJlY3QiLCJ1bCIsImxyIiwiZ2V0QkJveENvb3JkcyIsImJveCIsImNsaWNrSGFuZGxlciIsImdldFVzZXJNb2RlIiwic2hpZnRLZXkiLCJmaXJzdExpZ2F0dXJlSGFsZiIsInNlY29uZExpZ2F0dXJlSGFsZiIsIm5jSW5kZXgiLCJmaXJzdFVzZSIsImFzc2VydCIsInNlY29uZFVzZSIsImlzTXVsdGlTZWxlY3QiLCJzZWxlY3RlZENsYXNzIiwic2VsQnlTdGFmZiIsInNlbEJ5TmV1bWUiLCJzZWxCeU5jIiwic2VsQnlMYXllckVsZW1lbnQiLCJpbmNsdWRlcyIsImdldFN0YWZmQnlDb29yZHMiLCJkaXNwYXRjaEV2ZW50IiwiTW91c2VFdmVudCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY3RybEtleSIsImFsdEtleSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm52IiwiZGgiLCJzZWwiLCJpbml0aWFsWCIsInBhbm5pbmciLCJkcmFnU2VsZWN0aW5nIiwiY2FudmFzIiwiZHJhZ1NlbGVjdEFjdGlvbiIsInVzZXJNb2RlIiwibm9kZU5hbWUiLCJzdGFydERyYWciLCJpbml0aWFsUCIsImN1cnJlbnRQdCIsImN1clgiLCJjdXJZIiwibmV3WCIsIm5ld1kiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwidXBkYXRlUmVjdCIsInNlbGVjdFJlY3QiLCJyeCIsInJ5IiwibHgiLCJseSIsIm5vZGUiLCJ0cmFuc2Zvcm0iLCJtdWx0aXBseSIsInNlbGVjdGVkRWxlbWVudHMiLCJnZXRFbGVtZW50c0J5U2VsZWN0b3IiLCJyZXNldFRvIiwiaW5pdEVycm9yTG9nQ29udHJvbHMiLCJlcnJvclBhbmVsIiwiaGVhZGluZyIsImRyb3Bkb3duSWNvbiIsImluaXREaXNwbGF5TGlzdGVuZXIiLCJub3RpZlBhbmVsIiwiY2hlY2tib3hlc0NvbnRhaW5lciIsImVycm9yc0xhYmVsIiwiZXJvcnJzQnRuIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5QWxsQnRuIiwiZGlzcGxheUJCb3hlcyIsIm5vdGlmRGl2Iiwib25jbGljayIsImNyZWF0ZUxvZ01lc3NhZ2UiLCJzZWxCeVN5bGxhYmxlTGlzdGVuZXIiLCJhZGRCQm94TGlzdGVuZXJzIiwiYmJveElkIiwiZGlzcGxheVJlY3QiLCJpbml0VGV4dEVkaXQiLCJzcGFucyIsIm1vZGFsIiwic2VsZWN0U3lsVGV4dCIsInNldE1vZGFsV2luZG93VmlldyIsIm9wZW5Nb2RhbFdpbmRvdyIsIk5ldW1lRWRpdCIsImJsb2NrIiwiYnV0dG9uIiwiYWRkVXBkYXRlQ2FsbGJhY2siLCJzZXRTZWxlY3RIZWxwZXJPYmplY3RzIiwiY2xpY2tTZWxlY3QiLCJkcmFnU2VsZWN0IiwiRXhwb3J0ZWRTZXQiLCJFeHBvcnRlZE1hcCIsIm1hbmdsZSIsInVubWFuZ2xlIiwiTWFwJDEiLCJfc3RvcmUiLCJTZXQkMSIsImNsb25lQmluYXJ5T2JqZWN0IiwiY2xvbmVBcnJheUJ1ZmZlciIsIndlYmtpdFNsaWNlIiwibWFuZ2xlZCIsImhhcyIsImRlbGV0ZSIsIk1hcCIsInByb3AiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzcGVjaWVzIiwic3VwcG9ydHNNYXBBbmRTZXQiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwiY2xvbmUiLCJuZXdPYmplY3QiLCJEYXRlIiwiaXNGaW5pdGUiLCJ0b0lTT1N0cmluZyIsIkJsb2IiLCJpc0JpbmFyeU9iamVjdCIsInByb3RvIiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJjYWxsZWQiLCJ0b1Byb21pc2UiLCJmdW5jIiwic2VsZiIsInVzZWRDQiIsInByb21pc2UiLCJmdWxmaWxsIiwicmVzcCIsImNhbGxiYWNrIiwibWVzZyIsImFkYXB0ZXJGdW4iLCJfY2xvc2VkIiwiX2Rlc3Ryb3llZCIsImxvZ0FyZ3MiLCJvcmlnQ2FsbGJhY2siLCJyZXNwb25zZUFyZ3MiLCJsb2dBcGlDYWxsIiwidGFza3F1ZXVlIiwiaXNSZWFkeSIsImFkZFRhc2siLCJmYWlsZWQiLCJwaWNrIiwiaGFzTG9jYWwiLCJpZGVudGl0eUZ1bmN0aW9uIiwiZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQiLCJvayIsImJ1bGtHZXQiLCJkYiIsIm9wdHMiLCJyZXF1ZXN0cyIsImRvY3MiLCJyZXF1ZXN0c0J5SWQiLCJyZXF1ZXN0IiwibnVtRG9jcyIsIm51bURvbmUiLCJwZXJEb2NSZXN1bHRzIiwiY2hlY2tEb25lIiwicmVzdWx0cyIsImFsbFJlcXVlc3RzIiwibmV4dEJhdGNoIiwidXBUbyIsImJhdGNoIiwiZG9jSWQiLCJkb2NJZHgiLCJkb2NSZXF1ZXN0cyIsImRvY09wdHMiLCJvcGVuX3JldnMiLCJyZXYiLCJmb3JtYXRSZXN1bHQiLCJwcm9jZXNzQmF0Y2giLCJoYXNMb2NhbFN0b3JhZ2UiLCJDaGFuZ2VzIiwiYXR0YWNoQnJvd3NlckV2ZW50cyIsImd1YXJkZWRDb25zb2xlIiwibWV0aG9kIiwiZGVmYXVsdEJhY2tPZmYiLCJtYXhUaW1lb3V0IiwicmFuZG9tTnVtYmVyIiwiZXhwbGFpbkVycm9yIiwic3RhdHVzIiwiZGJOYW1lIiwiaW5wcm9ncmVzcyIsImV2ZW50RnVuY3Rpb24iLCJjaGFuZ2VzT3B0cyIsImNoYW5nZXMiLCJzZXEiLCJzaW5jZSIsImNhbmNlbGxlZCIsIm9uQ2hhbmdlIiwibm90aWZ5TG9jYWxXaW5kb3dzIiwibm90aWZ5IiwiJGluamVjdF9PYmplY3RfYXNzaWduIiwiYXNzaWduIiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJQb3VjaEVycm9yIiwicmVhc29uIiwiTUlTU0lOR19CVUxLX0RPQ1MiLCJNSVNTSU5HX0RPQyIsIlJFVl9DT05GTElDVCIsIklOVkFMSURfSUQiLCJNSVNTSU5HX0lEIiwiUkVTRVJWRURfSUQiLCJVTktOT1dOX0VSUk9SIiwiQkFEX0FSRyIsIlFVRVJZX1BBUlNFX0VSUk9SIiwiRE9DX1ZBTElEQVRJT04iLCJCQURfUkVRVUVTVCIsIk5PVF9BTl9PQkpFQ1QiLCJJREJfRVJST1IiLCJJTlZBTElEX1JFViIsIk1JU1NJTkdfU1RVQiIsImNyZWF0ZUVycm9yIiwiQ3VzdG9tUG91Y2hFcnJvciIsIm5hbWVzIiwiZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSIsImZpbHRlckNoYW5nZSIsInJlcSIsImhhc0ZpbHRlciIsInF1ZXJ5IiwicXVlcnlfcGFyYW1zIiwiY2hhbmdlIiwiZG9jIiwiZmlsdGVyUmV0dXJuIiwibXNnIiwidHJ5RmlsdGVyIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJhdHQiLCJfYXR0YWNobWVudHMiLCJzdHViIiwiZmxhdHRlbiIsImFycnMiLCJpbnZhbGlkSWRFcnJvciIsImlzUmVtb3RlIiwiX3JlbW90ZSIsInBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwicGFydHMiLCJzcGxpdCIsIm5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsIm5vcm1hbGl6ZWQiLCJxUGFyc2VyIiwicGFyc2VyIiwicGFyc2VVcmkiLCJleGVjIiwidXJpIiwiZW5jb2RlZCIsImRlY29kZVVSSUNvbXBvbmVudCIsIiQwIiwiJDEiLCIkMiIsInNjb3BlRXZhbCIsInNvdXJjZSIsInNjb3BlIiwidXBzZXJ0IiwiZGlmZkZ1biIsImNhdGNoIiwiZG9jUmV2IiwiX3JldiIsIm5ld0RvYyIsIl9pZCIsInB1dCIsInVwZGF0ZWQiLCJ0cnlBbmRQdXQiLCJ0aGlzQXRvYiIsImF0b2IiLCJ0aGlzQnRvYSIsImJ0b2EiLCJjcmVhdGVCbG9iIiwicHJvcGVydGllcyIsImJ1aWxkZXIiLCJCbG9iQnVpbGRlciIsIk1TQmxvYkJ1aWxkZXIiLCJNb3pCbG9iQnVpbGRlciIsIldlYktpdEJsb2JCdWlsZGVyIiwiZ2V0QmxvYiIsImJpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIiLCJiaW4iLCJiaW5TdHJpbmdUb0JsdWZmZXIiLCJiaW5TdHJpbmciLCJiNjRUb0JsdWZmZXIiLCJiNjQiLCJyZWFkQXNCaW5hcnlTdHJpbmciLCJibG9iIiwicmVhZGVyIiwiRmlsZVJlYWRlciIsImhhc0JpbmFyeVN0cmluZyIsIm9ubG9hZGVuZCIsImJpbmFyeSIsImFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmciLCJyZWFkQXNBcnJheUJ1ZmZlciIsImJsb2JUb0JpbmFyeVN0cmluZyIsImJsb2JPckJ1ZmZlciIsImJsb2JUb0Jhc2U2NCIsImJhc2U2NCIsInNldEltbWVkaWF0ZVNoaW0iLCJzZXRJbW1lZGlhdGUiLCJhcHBlbmRCbG9iIiwic3RhcnQiLCJzbGljZUJsb2IiLCJhcnJheUJ1ZmZlciIsImFwcGVuZFN0cmluZyIsInN0cmluZyIsImJpbmFyeU1kNSIsImlucHV0SXNTdHJpbmciLCJjaHVua1NpemUiLCJjaHVua3MiLCJjZWlsIiwiY3VycmVudENodW5rIiwibG9hZE5leHRDaHVuayIsImRvbmUiLCJyYXdUb0Jhc2U2NCIsInN0cmluZ01kNSIsInJldiQkMSIsImRldGVybWluaXN0aWNfcmV2cyIsIm11dGF0ZWFibGVEb2MiLCJfcmV2X3RyZWUiLCJ3aW5uaW5nUmV2IiwibWV0YWRhdGEiLCJ3aW5uaW5nSWQiLCJ3aW5uaW5nUG9zIiwid2lubmluZ0RlbGV0ZWQiLCJ0b1Zpc2l0IiwicmV2X3RyZWUiLCJ0cmVlIiwiYnJhbmNoZXMiLCJwb3MiLCJkZWxldGVkIiwidHJhdmVyc2VSZXZUcmVlIiwicmV2cyIsIm5ld0N0eCIsImN0eCIsInNvcnRCeVBvcyIsImNvbGxlY3RMZWF2ZXMiLCJsZWF2ZXMiLCJpc0xlYWYiLCJzb3J0IiwicmV2ZXJzZSIsImNvbGxlY3RDb25mbGljdHMiLCJ3aW4iLCJjb25mbGljdHMiLCJsZWFmIiwicm9vdFRvTGVhZiIsInBhdGhzIiwiaGlzdG9yeSIsInNvcnRCeVBvcyQxIiwiaW5zZXJ0U29ydGVkIiwiaXRlbSIsImNvbXBhcmF0b3IiLCJpZHgiLCJtaWQiLCJsb3ciLCJoaWdoIiwiYmluYXJ5U2VhcmNoIiwic3BsaWNlIiwicGF0aFRvVHJlZSIsIm51bVN0ZW1tZWQiLCJyb290IiwiY3VycmVudExlYWYiLCJjb21wYXJlVHJlZSIsIm1lcmdlVHJlZSIsImluX3RyZWUxIiwiaW5fdHJlZTIiLCJ0cmVlMSIsInRyZWUyIiwibWVyZ2VkIiwiZG9NZXJnZSIsImRvbnRFeHBhbmQiLCJyZXN0cmVlIiwiYnJhbmNoIiwidDEiLCJ0MiIsImRpZmYiLCJjYW5kaWRhdGVQYXJlbnRzIiwidHJlZXMiLCJwYXJlbnRJZHgiLCJlbGVtZW50c0xlbiIsIm1lcmdlIiwiZGVwdGgiLCJuZXdUcmVlIiwic3RlbW1lZCIsInN0ZW1tZWRSZXZzIiwicmV2SGFzaCIsInN0ZW0iLCJnZXRUcmVlcyIsImlzRGVsZXRlZCIsImlzTG9jYWxJZCIsIkNoYW5nZXMkMSIsImNvbXBsZXRlIiwiZWUiLCJvbkRlc3Ryb3kiLCJjYW5jZWwiLCJwZW5kaW5nIiwibGFzdFNlcSIsImlzQ2FuY2VsbGVkIiwidHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyIiwidmFsaWRhdGVDaGFuZ2VzIiwicHJvY2Vzc0NoYW5nZSIsImNoYW5nZUxpc3QiLCJfY29uZmxpY3RzIiwiY29tcGFyZSIsImxlZnQiLCJyaWdodCIsInlhbmtFcnJvciIsImNvbXBhcmVCeUlkVGhlblJldiIsImlkQ29tcGFyZSIsIl9yZXZpc2lvbnMiLCJBYnN0cmFjdFBvdWNoREIiLCJUYXNrUXVldWUiLCJQb3VjaERCIiwiX19vcHRzIiwiYXV0b19jb21wYWN0aW9uIiwiYmFja2VuZCIsImFkYXB0ZXIiLCJhZGFwdGVycyIsInByZWZlcnJlZEFkYXB0ZXJzIiwiYWRhcHRlck5hbWUiLCJ1c2VfcHJlZml4IiwicGFyc2VBZGFwdGVyIiwiX2FkYXB0ZXIiLCJ2YWxpZCIsInZpZXdfYWRhcHRlciIsImZhaWwiLCJvbkRlc3Ryb3llZCIsImZyb21fY29uc3RydWN0b3IiLCJvbkNsb3NlZCIsInByZXBhcmVGb3JEZXN0cnVjdGlvbiIsInJlYWR5IiwiX2NoYW5nZXNGaWx0ZXJQbHVnaW4iLCJ2YWxpZGF0ZSIsImRvQ2hhbmdlcyIsImNvbnRpbnVvdXMiLCJsaXZlIiwibm9ybWFsaXplIiwic2hvdWxkRmlsdGVyIiwiZGVzY2VuZGluZyIsImxpbWl0IiwibmV3UHJvbWlzZSIsIl9jaGFuZ2VzIiwidXBkYXRlX3NlcSIsInBvc3QiLCJidWxrRG9jcyIsIl9wdXRMb2NhbCIsIl9kZWxldGVkIiwiX3JlbW92ZUxvY2FsIiwib2xkUmV2SWQiLCJuZXdSZXZOdW0iLCJuZXdSZXZJZCIsInB1dERvYyIsIl9wdXQiLCJuZXdfZWRpdHMiLCJmb3JjZSIsInB1dEF0dGFjaG1lbnQiLCJhdHRhY2htZW50SWQiLCJhcGkiLCJjcmVhdGVBdHRhY2htZW50IiwicHJldnJldnBvcyIsImNvbnRlbnRfdHlwZSIsInJldnBvcyIsInJlbW92ZUF0dGFjaG1lbnQiLCJkb2NPcklkIiwib3B0c09yUmV2Iiwid2FzX2RlbGV0ZSIsInJldnNEaWZmIiwibWlzc2luZyIsImFkZFRvTWlzc2luZyIsInJldklkIiwiX2dldFJldmlzaW9uVHJlZSIsIm1pc3NpbmdGb3JJZCIsInByb2Nlc3NEb2MiLCJtaXNzaW5nT2JqIiwiY29tcGFjdERvY3VtZW50IiwibWF4SGVpZ2h0IiwicmV2VHJlZSIsImVkZ2VzIiwicHJudCIsImVkZ2UiLCJjb21wdXRlSGVpZ2h0IiwiY2FuZGlkYXRlcyIsIl9kb0NvbXBhY3Rpb24iLCJjb21wYWN0IiwiX2NvbXBhY3Rpb25RdWV1ZSIsImRvTmV4dENvbXBhY3Rpb24iLCJsYXN0X3NlcSIsIl9jb21wYWN0IiwicmV0dXJuX2RvY3MiLCJwcm9taXNlcyIsInJvdyIsImFsbCIsIl9nZXRMb2NhbCIsImZpbmlzaE9wZW5SZXZzIiwibGF0ZXN0IiwiX2dldCIsInJldnNfaW5mbyIsInNwbGl0dGVkUmV2IiwicmV2Tm8iLCJjdXJyZW50UGF0aCIsImhhc2hJbmRleCIsImluZGV4T2ZSZXYiLCJob3dNYW55IiwiX3JldnNfaW5mbyIsIl9nZXRBdHRhY2htZW50IiwiZ2V0QXR0YWNobWVudCIsImFsbERvY3MiLCJza2lwIiwic3RhcnRfa2V5Iiwic3RhcnRrZXkiLCJlbmRfa2V5IiwiZW5ka2V5IiwiaW5jb21wYXRpYmxlT3B0IiwiYWxsRG9jc0tleXNQYXJzZSIsIl9hbGxEb2NzIiwiY2xvc2UiLCJfY2xvc2UiLCJfaW5mbyIsImRiX25hbWUiLCJfdHlwZSIsImF0dGFjaG1lbnRFcnJvciIsImNoYXJBdCIsImF0dGFjaG1lbnROYW1lRXJyb3IiLCJhdHRzIiwiY2xlYW5Eb2NzIiwiX2J1bGtEb2NzIiwicmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZSIsImRlcGVuZGVudERiIiwiZGJPcHRpb25zIiwiZGVwREIiLCJkZXBlbmRlbnREYnMiLCJ1c2VQcmVmaXgiLCJkZXN0cm95RGIiLCJfZGVzdHJveSIsImxvY2FsRG9jIiwiZGVsZXRlZE1hcCIsInRydWVOYW1lIiwiUmVnRXhwIiwiZXhlY3V0ZSIsIkFib3J0Q29udHJvbGxlciIsImFib3J0IiwiZiQxIiwiZmV0Y2giLCJoIiwiSGVhZGVycyIsImV2ZW50RW1pdHRlciIsIlBvdWNoIiwiZGVzdHJ1Y3RMaXN0ZW5lcnMiLCJfZGVzdHJ1Y3Rpb25MaXN0ZW5lcnMiLCJkYkxpc3QiLCJzZXRVcEV2ZW50RW1pdHRlciIsImFkZFRvUHJlZmVycmVkQWRhcHRlcnMiLCJwbHVnaW4iLCJfX2RlZmF1bHRzIiwiZGVmYXVsdHMiLCJkZWZhdWx0T3B0cyIsIlBvdWNoQWx0IiwidXJsIiwiZ2V0RmllbGRGcm9tRG9jIiwicGFyc2VkRmllbGQiLCJwYXJzZUZpZWxkIiwiZmllbGROYW1lIiwiZmllbGRzIiwiY29tYmluYXRpb25GaWVsZHMiLCJpc0NvbWJpbmF0aW9uYWxGaWVsZCIsImZpZWxkIiwiZ2V0S2V5IiwibWVyZ2VBbmRlZFNlbGVjdG9ycyIsInNlbGVjdG9ycyIsIiRvciIsIiRub3IiLCJtYXRjaGVyIiwiJGVxIiwibG9uZ2VzdCIsImZpZWxkTWF0Y2hlcnMiLCJvcGVyYXRvciIsIiRndGUiLCIkZ3QiLCJtZXJnZUd0R3RlIiwiJGx0ZSIsIiRsdCIsIm1lcmdlTHRMdGUiLCIkbmUiLCJtZXJnZU5lIiwibWVyZ2VFcSIsIiRyZWdleCIsIm1lcmdlUmVnZXgiLCJtYXNzYWdlU2VsZWN0b3IiLCJ3YXNBbmRlZCIsImlzQW5kSW5TZWxlY3RvciIsImlzQW5kIiwibWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZCIsIm9yT3JOb3IiLCJzdWJTZWxlY3RvciIsImNvbGxhdGUiLCJub3JtYWxpemVLZXkiLCJhaSIsImJpIiwic3RyaW5nQ29sbGF0ZSIsImFycmF5Q29sbGF0ZSIsImFrIiwiYmsiLCJvYmplY3RDb2xsYXRlIiwiSW5maW5pdHkiLCJvcmlnS2V5IiwidG9KU09OIiwiaW5kZXhpZnkiLCJleHBGb3JtYXQiLCJ0b0V4cG9uZW50aWFsIiwibWFnbml0dWRlIiwibmVnIiwibWFnU3RyaW5nIiwicGFkV2l0aCIsInVwVG9MZW5ndGgiLCJ0YXJnZXRMZW5ndGgiLCJwYWQiLCJmYWN0b3IiLCJmYWN0b3JTdHIiLCJ0b0ZpeGVkIiwibnVtVG9JbmRleGFibGVTdHJpbmciLCJ0b0luZGV4YWJsZVN0cmluZyIsIm9iaktleSIsInBhcnNlTnVtYmVyIiwib3JpZ2luYWxJZHgiLCJudW1Bc1N0cmluZyIsIm1hZ0FzU3RyaW5nIiwiZmlsdGVySW5NZW1vcnlGaWVsZHMiLCJyb3dzIiwicmVxdWVzdERlZiIsImluTWVtb3J5RmllbGRzIiwicm93RmlsdGVyIiwiZmllbGRTb3J0ZXIiLCJnZXRGaWVsZFZhbHVlc0FzQXJyYXkiLCJzb3J0aW5nIiwiYVJvdyIsImJSb3ciLCJjb2xsYXRpb24iLCJjcmVhdGVGaWVsZFNvcnRlciIsImV2ZXJ5IiwiZG9jRmllbGRWYWx1ZSIsInNvbWUiLCJvck1hdGNoZXJzIiwibWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvciIsIm1hdGNoU2VsZWN0b3IiLCJtYXliZVVzZXJPcGVyYXRvciIsInVzZXJWYWx1ZSIsInN1YlBhcnNlZEZpZWxkIiwic3ViRG9jRmllbGRWYWx1ZSIsInVzZXJPcGVyYXRvciIsIm1hdGNoZXJzIiwiZmllbGRFeGlzdHMiLCJmaWVsZElzTm90VW5kZWZpbmVkIiwiYXJyYXlDb250YWluc1ZhbHVlIiwiZG9jRmllbGRWYWx1ZUl0ZW0iLCJtb2RGaWVsZCIsIm5lVmFsdWUiLCJhcnJheVNpemUiLCJhcnJheUNvbnRhaW5zQWxsVmFsdWVzIiwicmVnZXhWYWx1ZSIsInJlZ2V4TWF0Y2giLCJ0eXBlTWF0Y2giLCJmaWx0ZXJOYW1lIiwiY2hhbmdlc0hhbmRsZXIiLCJkb2NfaWRzIiwidmlld05hbWUiLCJkZG9jIiwibWFwRnVuIiwidmlld3MiLCJyb3dzTWF0Y2hlZCIsIm1hdGNoZXNTZWxlY3RvciIsImZpbHRlckZ1biIsImZpbHRlcnMiLCJ0b09iamVjdCIsInZlcnNpb24iLCJyZXNlcnZlZFdvcmRzIiwiZGF0YVdvcmRzIiwicGFyc2VSZXZpc2lvbkluZm8iLCJwYXJzZURvYyIsIm5ld0VkaXRzIiwiZGJPcHRzIiwiblJldk51bSIsInJldkluZm8iLCJyZXZpc2lvbnMiLCJyZXZpc2lvbklkcyIsIm1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyIsInNwZWNpYWxLZXkiLCJwcmVwcm9jZXNzU3RyaW5nIiwiYmxvYlR5cGUiLCJhc0JpbmFyeSIsInBhcnNlQmFzZTY0IiwiZGlnZXN0IiwicHJlcHJvY2Vzc0F0dGFjaG1lbnQiLCJtZDUiLCJwcmVwcm9jZXNzQmxvYiIsInVwZGF0ZURvYyIsInJldkxpbWl0IiwicHJldiIsImRvY0luZm8iLCJ3cml0ZURvYyIsInNwbGl0UmV2IiwidGFyZ2V0UG9zIiwidGFyZ2V0SWQiLCJyZXZFeGlzdHMiLCJwcmV2aW91c1dpbm5pbmdSZXYiLCJwcmV2aW91c2x5RGVsZXRlZCIsImlzUm9vdCIsIm5ld1JldiIsInJldl9tYXAiLCJ3aW5uaW5nUmV2JCQxIiwid2lubmluZ1JldklzRGVsZXRlZCIsImRlbHRhIiwicHJvY2Vzc0RvY3MiLCJkb2NJbmZvcyIsImZldGNoZWREb2NzIiwidHgiLCJvdmVyYWxsQ2FsbGJhY2siLCJpZHNUb0RvY3MiLCJkb2NzRG9uZSIsImRvY3NUb0RvIiwiY2hlY2tBbGxEb2NzRG9uZSIsImN1cnJlbnREb2MiLCJyZXN1bHRzSWR4IiwiZG9jV3JpdHRlbiIsIm5leHREb2MiLCJyb290SXNNaXNzaW5nIiwiaW5zZXJ0RG9jIiwiRE9DX1NUT1JFIiwiTUVUQV9TVE9SRSIsInNhZmVKc29uU3RyaW5naWZ5IiwianNvbiIsImlkYkVycm9yIiwiZW5jb2RlTWV0YWRhdGEiLCJkZWxldGVkT3JMb2NhbCIsImRlY29kZU1ldGFkYXRhIiwic3RvcmVkT2JqZWN0Iiwic2FmZUpzb25QYXJzZSIsImRlY29kZURvYyIsIl9kb2NfaWRfcmV2IiwibGFzdEluZGV4T2YiLCJyZWFkQmxvYkRhdGEiLCJhc0Jsb2IiLCJmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3NhcnkiLCJ0eG4iLCJhdHRPYmoiLCJvYmplY3RTdG9yZSIsIm9uc3VjY2VzcyIsImZldGNoQXR0YWNobWVudCIsInBvc3RQcm9jZXNzQXR0YWNobWVudHMiLCJhdHROYW1lcyIsImNvbXBhY3RSZXZzIiwicG9zc2libHlPcnBoYW5lZERpZ2VzdHMiLCJzZXFTdG9yZSIsImF0dFN0b3JlIiwiYXR0QW5kU2VxU3RvcmUiLCJJREJLZXlSYW5nZSIsImJvdW5kIiwiZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cyIsIm9wZW5DdXJzb3IiLCJvbmx5IiwiY3Vyc29yIiwiZGlnZXN0U2VxIiwicHJpbWFyeUtleSIsImNvbnRpbnVlIiwib3BlblRyYW5zYWN0aW9uU2FmZWx5IiwiaWRiIiwic3RvcmVzIiwidHJhbnNhY3Rpb24iLCJpZGJCdWxrRG9jcyIsImRvY1N0b3JlIiwiYnlTZXFTdG9yZSIsImF0dGFjaFN0b3JlIiwiYXR0YWNoQW5kU2VxU3RvcmUiLCJtZXRhU3RvcmUiLCJkb2NJbmZvRXJyb3IiLCJtZXRhRG9jIiwiYWxsRG9jc1Byb2Nlc3NlZCIsImRvY0NvdW50RGVsdGEiLCJwcmVjb25kaXRpb25FcnJvcmVkIiwiX21ldGEiLCJibG9iU3VwcG9ydCIsIm9uQWxsRG9jc1Byb2Nlc3NlZCIsInVwZGF0ZURvY0NvdW50SWZSZWFkeSIsImRvY0NvdW50IiwibmV3UmV2SXNEZWxldGVkIiwiaXNVcGRhdGUiLCJjb2xsZWN0UmVzdWx0cyIsImZpbmlzaERvYyIsImF0dGFjaG1lbnRTYXZlZCIsIm5ld0F0dCIsInNhdmVBdHRhY2htZW50Iiwid3JpdGVBdHRhY2htZW50cyIsImFmdGVyUHV0RG9jIiwicmV2c1RvRGVsZXRlIiwiY29tcGFjdFRyZWUiLCJtZXRhZGF0YVRvU3RvcmUiLCJhZnRlclB1dE1ldGFkYXRhIiwiYXR0c0FkZGVkIiwiYXR0c1RvQWRkIiwib25lcnJvciIsImluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyIsInB1dFJlcSIsIm92ZXJhbGxFcnIiLCJkb2N2IiwicmVjdiIsInByb2Nlc3NlZEF0dGFjaG1lbnQiLCJwcmVwcm9jZXNzQXR0YWNobWVudHMiLCJ0eG5SZXN1bHQiLCJvbmFib3J0Iiwib250aW1lb3V0Iiwib25jb21wbGV0ZSIsImZpbmlzaCIsImRpZ2VzdHMiLCJmaWxlbmFtZSIsInZlcmlmeUF0dGFjaG1lbnQiLCJhdHRFcnIiLCJ2ZXJpZnlBdHRhY2htZW50cyIsIm51bUZldGNoZWQiLCJyZXZzX2xpbWl0IiwicmVhZE1ldGFkYXRhIiwiZmV0Y2hFeGlzdGluZ0RvY3MiLCJzdGFydFRyYW5zYWN0aW9uIiwicnVuQmF0Y2hlZEN1cnNvciIsImtleVJhbmdlIiwiYmF0Y2hTaXplIiwib25CYXRjaCIsImtleXNCYXRjaCIsInZhbHVlc0JhdGNoIiwicHNldWRvQ3Vyc29yIiwib25HZXRBbGwiLCJvbkdldEFsbEtleXMiLCJvbkN1cnNvciIsImdldEFsbCIsImdldEFsbEtleXMiLCJuZXdLZXlSYW5nZSIsImxhc3RLZXkiLCJ1cHBlciIsInVwcGVyT3BlbiIsImNvZGUiLCJsb3dlckJvdW5kIiwiaWRiQWxsRG9jcyIsImtleVJhbmdlRXJyb3IiLCJpbmNsdXNpdmVFbmQiLCJpbmNsdXNpdmVfZW5kIiwidXBwZXJCb3VuZCIsImNyZWF0ZUtleVJhbmdlIiwib25SZXN1bHRzUmVhZHkiLCJ1cGRhdGVTZXEiLCJvblN1Y2Nlc3MiLCJkb2NJZFJldkluZGV4IiwiYWxsRG9jc0lubmVyIiwiZmV0Y2hEb2NBc3luY2hyb25vdXNseSIsImJhdGNoVmFsdWVzIiwiYmF0Y2hWYWx1ZSIsImJhdGNoS2V5cyIsInJldHVyblZhbCIsInRvdGFsX3Jvd3MiLCJtYXhLZXkiLCJhbGxEb2NzS2V5cyIsInJ1bm5pbmciLCJhcHBseU5leHQiLCJkb2NJZHMiLCJudW1SZXN1bHRzIiwiZG9jSWRzVG9NZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGEiLCJkb2NJZFJldiIsIm9iamVjdFN0b3JlcyIsIndpbm5pbmdEb2NzIiwibWV0YWRhdGFzIiwiZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEiLCJ3aW5uaW5nRG9jIiwicHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyIsIm9uQmF0Y2hEb25lIiwiZmlsdGVyZWQiLCJibG9iU3VwcG9ydFByb21pc2UiLCJjYWNoZWREQnMiLCJvcGVuUmVxTGlzdCIsIklkYlBvdWNoIiwidHJ5Q29kZSIsImVucXVldWVUYXNrIiwidGhpc0NhbGxiYWNrIiwiaWRiR2xvYmFsRmFpbHVyZUVycm9yIiwiZW5yaWNoQ2FsbGJhY2tFcnJvciIsImFkZERlbGV0ZWRPckxvY2FsSW5kZXgiLCJjcmVhdGVJbmRleCIsInVuaXF1ZSIsIm1pZ3JhdGVMb2NhbFN0b3JlIiwibG9jYWxTdG9yZSIsImxvY2FsIiwicmFuZ2UiLCJzZXFDdXJzb3IiLCJtaWdyYXRlQXR0c0FuZFNlcXMiLCJkaWdlc3RNYXAiLCJtaWdyYXRlTWV0YWRhdGEiLCJvbkdldE1ldGFkYXRhU2VxIiwibWV0YWRhdGFTZXEiLCJmZXRjaE1ldGFkYXRhU2VxIiwiaW5zdGFuY2VJZCIsInJlcU9wdHMiLCJoaXN0b3J5Tm9kZSIsImF0dGFjaElkIiwiYXR0YWNobWVudCIsImJsb2JEYXRhIiwiZG9jX2NvdW50IiwiaWRiX2F0dGFjaG1lbnRfZm9ybWF0Iiwib2xkUmV2Iiwib1N0b3JlIiwib2xkRG9jIiwib3BlblJlcSIsImluZGV4ZWREQiIsImRlbGV0ZURhdGFiYXNlIiwiY2FjaGVkIiwiZ2xvYmFsIiwib3BlbiIsIm9udXBncmFkZW5lZWRlZCIsIm9sZFZlcnNpb24iLCJjcmVhdGVPYmplY3RTdG9yZSIsImtleVBhdGgiLCJhdXRvSW5jcmVtZW50IiwiY3JlYXRlU2NoZW1hIiwiY3VycmVudFRhcmdldCIsImNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEiLCJhZGRBdHRhY2hBbmRTZXFTdG9yZSIsIm1pZ3JhdGlvbnMiLCJtaWdyYXRpb24iLCJvbnZlcnNpb25jaGFuZ2UiLCJzdG9yZWRNZXRhRG9jIiwiY29tcGxldGVTZXR1cCIsInN0b3JlTWV0YURvY0lmUmVhZHkiLCJpbnN0YW5jZUtleSIsImNvdW50RG9jcyIsImJsb2IkJDEiLCJtYXRjaGVkQ2hyb21lIiwibWF0Y2hlZEVkZ2UiLCJjaGVja0Jsb2JTdXBwb3J0Iiwic3VwcG9ydHNCdWxrR2V0TWFwIiwicmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIiLCJlbmNvZGVEb2NJZCIsInByZXByb2Nlc3NBdHRhY2htZW50cyQxIiwiZ2V0SG9zdCIsInByb3RvY29sIiwiaGFzVXJsUHJlZml4IiwidXNlciIsInBhc3N3b3JkIiwiYXV0aCIsInVzZXJuYW1lIiwiZ2VuREJVcmwiLCJnZW5VcmwiLCJwYXRoRGVsIiwiaG9zdCIsInBvcnQiLCJwYXJhbXNUb1N0ciIsIkh0dHBQb3VjaCIsImRiVXJsIiwic2V0dXBQcm9taXNlIiwib3VyRmV0Y2giLCJoZWFkZXJzIiwiY3JlZGVudGlhbHMiLCJuQXV0aCIsInRva2VuIiwidWEiLCJpc0lFIiwiaXNUcmlkZW50IiwiaXNFZGdlIiwiaXNHRVQiLCJzaG91bGRDYWNoZUJ1c3QiLCJub3ciLCJhZGFwdGVyRnVuJCQxIiwic2V0dXAiLCJmZXRjaEpTT04iLCJ2Iiwic2tpcF9zZXR1cCIsImVuY29kZUF0dGFjaG1lbnRJZCIsInV1aWQkJDEiLCJwaW5nIiwiY29tcGFjdF9ydW5uaW5nIiwiaW50ZXJ2YWwiLCJkb0J1bGtHZXQiLCJkb0J1bGtHZXRTaGltIiwibnVtQmF0Y2hlcyIsIm9uUmVzdWx0IiwiYmF0Y2hOdW0iLCJzdWJPcHRzIiwic3VwcG9ydHNCdWxrR2V0IiwiZmV0Y2hBdHRhY2htZW50cyIsImZpbGVuYW1lcyIsInByb21pc2VGYWN0b3JpZXMiLCJkb05leHQiLCJydW5OZXh0QmF0Y2giLCJvbkVycm9yIiwidGhpc0VyciIsInBvb2wiLCJ0eXBlRmllbGREZXNjcmlwdG9yIiwiX19wcm90b19fIiwiZmV0Y2hEYXRhIiwiZG9jT3JEb2NzIiwiY29udGVudFR5cGUiLCJwcm9jZXNzIiwiYnJvd3NlciIsInBhcmFtU3RyIiwiYmF0Y2hfc2l6ZSIsImhlYXJ0YmVhdCIsInJlcXVlc3RUaW1lb3V0IiwibGVmdFRvRmV0Y2giLCJmZWVkIiwic2VxX2ludGVydmFsIiwicGFyYW1fbmFtZSIsImxhc3RGZXRjaGVkU2VxIiwiY29udHJvbGxlciIsImFib3J0ZWQiLCJmZXRjaE9wdHMiLCJzaWduYWwiLCJmZXRjaGVkIiwicmF3X3Jlc3VsdHNfbGVuZ3RoIiwiZmluaXNoZWQiLCJRdWVyeVBhcnNlRXJyb3IiLCJjYXB0dXJlU3RhY2tUcmFjZSIsIk5vdEZvdW5kRXJyb3IiLCJCdWlsdEluRXJyb3IiLCJwcm9taXNlZENhbGxiYWNrIiwic2VxdWVudGlhbGl6ZSIsInByb21pc2VGYWN0b3J5IiwidW5pcSIsInRoZVNldCIsIm1hcFRvS2V5c0FycmF5IiwiY3JlYXRlQnVpbHRJbkVycm9yIiwic3VtIiwiakxlbiIsImpOdW0iLCJsb2ciLCJldmFsRnVuY3Rpb25XaXRoRXZhbCIsIlRhc2tRdWV1ZSQxIiwiY3JlYXRlVmlldyIsInNvdXJjZURCIiwicmVkdWNlRnVuIiwidGVtcG9yYXJ5IiwibG9jYWxEb2NOYW1lIiwiY2FjaGVkVmlld3MiLCJ2aWV3U2lnbmF0dXJlIiwiY3JlYXRlVmlld1NpZ25hdHVyZSIsIl9jYWNoZWRWaWV3cyIsInByb21pc2VGb3JWaWV3IiwiZGVwRGJOYW1lIiwiZnVsbFZpZXdOYW1lIiwiZGVwRGJzIiwibGFzdFNlcURvYyIsInBlcnNpc3RlbnRRdWV1ZXMiLCJ0ZW1wVmlld1F1ZXVlIiwicGFyc2VWaWV3TmFtZSIsImVtaXRFcnJvciIsImJ1aWx0SW5SZWR1Y2UiLCJzdW1zcXIiLCJfc3Vtc3FyIiwiYWJzdHJhY3QiLCJtYXBwZXIiLCJyZWR1Y2VyIiwiZGRvY1ZhbGlkYXRvciIsInRyeU1hcCIsInRyeVJlZHVjZSIsInJlcmVkdWNlIiwib3V0cHV0Iiwic29ydEJ5S2V5VGhlblZhbHVlIiwia2V5Q29tcGFyZSIsInNsaWNlUmVzdWx0cyIsInJvd1RvRG9jSWQiLCJwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzIiwiYWRkSHR0cFBhcmFtIiwicGFyYW1OYW1lIiwiYXNKc29uIiwiY29lcmNlSW50ZWdlciIsImludGVnZXJDYW5kaWRhdGUiLCJhc051bWJlciIsImNoZWNrUXVlcnlQYXJzZUVycm9yIiwic3RhcnRrZXlOYW1lIiwiZW5ka2V5TmFtZSIsImdyb3VwX2xldmVsIiwib3B0aW9uTmFtZSIsIm51bWJlciIsImNoZWNrUG9zaXRpdmVJbnRlZ2VyIiwiZGVmYXVsdHNUbyIsImdldERvY3NUb1BlcnNpc3QiLCJkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsIm1ldGFEb2NJZCIsImRlZmF1bHRNZXRhRG9jIiwiZG9jRGF0YSIsImluZGV4YWJsZUtleXNUb0tleVZhbHVlcyIsImlzR2VuT25lIiwiZ2V0S2V5VmFsdWVEb2NzIiwia3ZEb2NzUmVzIiwia3ZEb2NzIiwib2xkS2V5cyIsImtleVZhbHVlIiwibmV3S2V5cyIsImt2RG9jIiwicHJvY2Vzc0tleVZhbHVlRG9jcyIsImdldFF1ZXVlIiwidXBkYXRlVmlldyIsIm1hcFJlc3VsdHMiLCJjdXJyZW50U2VxIiwibGlzdE9mRG9jc1RvUGVyc2lzdCIsImRvY3NUb1BlcnNpc3QiLCJzYXZlS2V5VmFsdWVzIiwiaW5kZXhlZF9kb2NzIiwicHJvZ3Jlc3MiLCJwcm9jZXNzTmV4dEJhdGNoIiwiY2hhbmdlc19iYXRjaF9zaXplIiwiY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMiLCJyZXN1bHRzX2NvdW50IiwiZW1pdHRlZEtleVZhbHVlIiwiY29tcGxleEtleSIsInVwZGF0ZVZpZXdJblF1ZXVlIiwicXVlcnlWaWV3IiwidG90YWxSb3dzIiwic2hvdWxkUmVkdWNlIiwiZmV0Y2hGcm9tVmlldyIsInZpZXdPcHRzIiwiZXhwZWN0ZWRLZXlzIiwicGFyc2VkS2V5QW5kRG9jSWQiLCJwYXJzZWRTdHIiLCJwYXJzZUluZGV4YWJsZVN0cmluZyIsIm9uTWFwUmVzdWx0c1JlYWR5IiwiZmluYWxSZXN1bHRzIiwic2hvdWxkR3JvdXAiLCJsdmwiLCJQT1NJVElWRV9JTkZJTklUWSIsImxhc3QiLCJncm91cEtleSIsInJlZHVjZVRyeSIsInJlZHVjZVZpZXciLCJhbGxEb2NzUmVzIiwiZG9jSWRzVG9Eb2NzIiwiZmV0Y2hQcm9taXNlcyIsImtleVN0YXJ0Iiwia2V5RW5kIiwicXVlcnlWaWV3SW5RdWV1ZSIsInF1ZXJ5UHJvbWlzZWQiLCJfcXVlcnkiLCJjdXN0b21RdWVyeSIsImtleXNBc1N0cmluZyIsImh0dHBRdWVyeSIsInVwZGF0ZVZpZXdPcHRzIiwidmlld191cGRhdGVfY2hhbmdlc19iYXRjaF9zaXplIiwiZmluYWxQcm9taXNlRmFjdG9yeSIsImRlc2lnbkRvY05hbWUiLCJzdGFsZSIsImNvZXJjZU9wdGlvbnMiLCJ2aWV3Q2xlYW51cCIsIl92aWV3Q2xlYW51cCIsImN1c3RvbVZpZXdDbGVhbnVwIiwiaHR0cFZpZXdDbGVhbnVwIiwiZG9jc1RvVmlld3MiLCJ2aWV3c1RvU3RhdHVzIiwiZGRvY05hbWUiLCJ2aWV3REJOYW1lcyIsInN0YXR1c0lzR29vZCIsInZpZXdEQk5hbWUiLCJkZXN0cm95UHJvbWlzZXMiLCJsb2NhbFZpZXdDbGVhbnVwIiwiY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UiLCJvcmlnTWFwIiwicmVkdWNlRnVuU3RyaW5nIiwiYnVpbHRJbiIsImdldEJ1aWx0SW4iLCJtYXByZWR1Y2UiLCJpc0dlbk9uZSQxIiwiZ2V0RG9jQXR0YWNobWVudHMiLCJnZXREb2NzIiwic3JjIiwiZGlmZnMiLCJyZXN1bHREb2NzIiwiZmV0Y2hSZXZpc2lvbk9uZURvY3MiLCJoYXNDb25mbGljdHMiLCJidWxrR2V0T3B0cyIsIm1pc3NpbmdSZXYiLCJjcmVhdGVCdWxrR2V0T3B0cyIsImJ1bGtHZXRSZXNwb25zZSIsImJ1bGtHZXRJbmZvIiwicmVtb3RlRG9jIiwiZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMiLCJmaWxlSGFzQ2hhbmdlZCIsImdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlIiwidXBkYXRlQ2hlY2twb2ludCIsImNoZWNrcG9pbnQiLCJzZXNzaW9uIiwicmV0dXJuVmFsdWUiLCJzZXNzaW9uX2lkIiwicmVwbGljYXRvciIsIkNoZWNrcG9pbnRlciIsIndyaXRlQ2hlY2twb2ludCIsInVwZGF0ZVRhcmdldCIsInVwZGF0ZVNvdXJjZSIsIndyaXRlVGFyZ2V0Q2hlY2twb2ludCIsIndyaXRlU291cmNlQ2hlY2twb2ludCIsImlzRm9yYmlkZGVuRXJyb3IiLCJjb21wYXJpc29ucyIsInRhcmdldERvYyIsInNvdXJjZURvYyIsInNyY0RvYyIsInRndERvYyIsImNvbXBhcmVSZXBsaWNhdGlvbkhpc3RvcnkiLCJzb3VyY2VIaXN0b3J5IiwidGFyZ2V0SGlzdG9yeSIsIlMiLCJzb3VyY2VSZXN0IiwiVCIsInRhcmdldFJlc3QiLCJoYXNTZXNzaW9uSWQiLCJjb21wYXJlUmVwbGljYXRpb25Mb2dzIiwic2Vzc2lvbklkIiwicHJvcHMiLCJyZXN0IiwiZmxvb3IiLCJnZXRDaGVja3BvaW50IiwiZ2VuZXJhdGVSZXBsaWNhdGlvbklkIiwicXVlcnlQYXJhbXMiLCJmaWx0ZXJWaWV3TmFtZSIsInNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkiLCJxdWVyeURhdGEiLCJtZDVzdW0iLCJyZXBsaWNhdGUiLCJjdXJyZW50QmF0Y2giLCJyZXBJZCIsImNoZWNrcG9pbnRlciIsImJhdGNoZXMiLCJwZW5kaW5nQmF0Y2giLCJ3cml0aW5nQ2hlY2twb2ludCIsImNoYW5nZXNDb21wbGV0ZWQiLCJyZXBsaWNhdGlvbkNvbXBsZXRlZCIsImJhdGNoZXNfbGltaXQiLCJjaGFuZ2VzUGVuZGluZyIsImNoYW5nZWREb2NzIiwic3RhcnRfdGltZSIsImRvY3NfcmVhZCIsImRvY3Nfd3JpdHRlbiIsImRvY193cml0ZV9mYWlsdXJlcyIsImVycm9ycyIsImluaXRDaGVja3BvaW50ZXIiLCJjaGVja3BvaW50T3B0cyIsIndyaXRlRG9jcyIsImJ1bGtPcHRzIiwiY29tcGxldGVSZXBsaWNhdGlvbiIsImVycm9yc0J5SWQiLCJlcnJvcnNObyIsImVycm9yTmFtZSIsImZpbmlzaEJhdGNoIiwib3V0UmVzdWx0IiwiZ2V0Q2hhbmdlcyIsIm9uQ2hlY2twb2ludEVycm9yIiwiZ2V0QmF0Y2hEb2NzIiwiZ290Iiwic3RhcnROZXh0QmF0Y2giLCJhYm9ydFJlcGxpY2F0aW9uIiwicHJvY2Vzc1BlbmRpbmdCYXRjaCIsImltbWVkaWF0ZSQkMSIsImZhdGFsRXJyb3IiLCJlbmRfdGltZSIsInJldHJ5IiwiYmFja19vZmZfZnVuY3Rpb24iLCJiYWNrT2ZmU2V0IiwiY3VycmVudF9iYWNrX29mZiIsImJhY2tPZmYiLCJvbkNoYW5nZXNDb21wbGV0ZSIsIm9uQ2hhbmdlc0Vycm9yIiwiX2Fib3J0Q2hhbmdlcyIsImFib3J0Q2hhbmdlcyIsInN0YXJ0Q2hhbmdlcyIsIl9hZGRlZExpc3RlbmVycyIsIlJlcGxpY2F0aW9uIiwidG9Qb3VjaCIsIlBvdWNoQ29uc3RydWN0b3IiLCJyZXBsaWNhdGVXcmFwcGVyIiwicmVwbGljYXRlUmV0IiwiU3luYyIsImNhbmNlbGVkIiwib3B0c1B1c2giLCJvcHRzUHVsbCIsInB1bGwiLCJwdWxsQ2hhbmdlIiwicHVzaENoYW5nZSIsInB1c2hEZW5pZWQiLCJwdWxsRGVuaWVkIiwicHVzaFBhdXNlZCIsInB1bGxQYXVzZWQiLCJwdXNoQWN0aXZlIiwicHVsbEFjdGl2ZSIsInJlbW92ZWQiLCJyZW1vdmVBbGwiLCJhZGRPbmVMaXN0ZW5lciIsIm91dCIsImNsZWFudXAiLCJfcmVhZHlDYWxsZWQiLCJyZXBsaWNhdGVNZXRob2RzIiwiX25vZGVJZCIsIl9jbG9ja3NlcSIsIl9sYXN0TVNlY3MiLCJfbGFzdE5TZWNzIiwiY2xvY2tzZXEiLCJzZWVkQnl0ZXMiLCJtc2VjcyIsIm5zZWNzIiwiZHQiLCJ0bCIsInRtaCIsImdlbmVyYXRlVVVJRCIsIm5hbWVzcGFjZSIsInN0cmluZ1RvQnl0ZXMiLCJoYXNoZnVuYyIsIkROUyIsIlVSTCIsImdldE91dHB1dExlbmd0aCIsImlucHV0TGVuZ3RoOCIsInNhZmVBZGQiLCJsc3ciLCJtZDVjbW4iLCJxIiwiY250IiwibWQ1ZmYiLCJtZDVnZyIsIm1kNWhoIiwibWQ1aWkiLCJ2MzUiLCJsZW5ndGgzMiIsIm1kNVRvSGV4RW5jb2RlZEFycmF5Iiwib2xkYSIsIm9sZGIiLCJvbGRjIiwib2xkZCIsIndvcmRzVG9NZDUiLCJsZW5ndGg4IiwiVWludDMyQXJyYXkiLCJieXRlc1RvV29yZHMiLCJmIiwieiIsIlJPVEwiLCJLIiwiSCIsIk4iLCJNIiwiX2kiLCJwb3ciLCJfaTIiLCJXIiwiX3QiLCJfdDIiLCJjb25maXJtIiwic3BsaXREaXNhYmxlIiwiY2FwdHVyZSIsImNsaWNrYXdheUhhbmRsZXIiLCJyZXNldEhhbmRsZXIiLCJuY0lkIiwiY2FjaGVkU2V0VGltZW91dCIsImNhY2hlZENsZWFyVGltZW91dCIsImRlZmF1bHRTZXRUaW1vdXQiLCJkZWZhdWx0Q2xlYXJUaW1lb3V0IiwicnVuVGltZW91dCIsImRyYWluUXVldWUiLCJtYXJrZXIiLCJydW5DbGVhclRpbWVvdXQiLCJub29wIiwidGl0bGUiLCJlbnYiLCJhcmd2IiwidmVyc2lvbnMiLCJiaW5kaW5nIiwiY3dkIiwiY2hkaXIiLCJkaXIiLCJ1bWFzayIsInF1ZXVlTWljcm90YXNrIiwiTXV0YXRpb24iLCJNdXRhdGlvbk9ic2VydmVyIiwiV2ViS2l0TXV0YXRpb25PYnNlcnZlciIsImhhbmRsZSIsIm9ic2VydmVyIiwiY3JlYXRlVGV4dE5vZGUiLCJvYnNlcnZlIiwiY2hhcmFjdGVyRGF0YSIsIk1lc3NhZ2VDaGFubmVsIiwiY2hhbm5lbCIsInBvcnQxIiwib25tZXNzYWdlIiwicG9ydDIiLCJwb3N0TWVzc2FnZSIsInNjcmlwdEVsIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVtb3ZlQ2hpbGQiLCJkb2N1bWVudEVsZW1lbnQiLCJ1cGxvYWRlZERvY3NDb250YWluZXIiLCJzYW1wbGVEb2NzQ29udGFpbmVyIiwib3BlbkJ1dHRvbiIsImRlbGV0ZUJ1dHRvbiIsIm9yZGVyZWREb2N1bWVudHMiLCJvcmRlcmVkU2VsZWN0aW9uIiwibWV0YUtleUlzUHJlc3NlZCIsInNoaWZ0S2V5SXNQcmVzc2VkIiwicHJldlNlbGVjdGlvbiIsInNwZWNpZmljU2VsZWN0aW9uIiwiZ2V0U2VsZWN0aW9uRmlsZW5hbWVzIiwib3BlbkVkaXRvclRhYiIsImlzVXBsb2FkZWQiLCJzdG9yYWdlIiwibWFuaWZlc3QiLCJ0aWxlIiwidW5zZWxlY3RBbGwiLCJzZXRTaWRlYmFyQWN0aW9ucyIsImxhc3RJZHgiLCJzYW1wbGVzIiwidXBkYXRlRG9jdW1lbnRTZWxlY3RvciIsInVwbG9hZGVkRG9jcyIsImZldGNoVXBsb2FkZWREb2N1bWVudHMiLCJmb3JtYXRGaWxlbmFtZSIsInNhbXBsZURvY3MiLCJmZXRjaFNhbXBsZURvY3VtZW50cyIsImhhbmRsZU9wZW5Eb2N1bWVudHMiLCJzZXRTdGFydCIsImdldFByZXZTZWxlY3Rpb24iLCJzZXRFbmQiLCJnZXRTZWxlY3Rpb24iLCJvcGVuVGlsZSIsImhhbmRsZURlbGV0ZURvY3VtZW50cyIsImFsZXJ0TWVzc2FnZSIsImRlbGV0ZUVudHJ5IiwiZGVidWciLCJJbml0RG9jdW1lbnRTZWxlY3RvciIsIm1laSIsImxvY2FsTWFuaWZlc3QiLCJtZWlQcm9taXNlIiwibWVpUmVhZGVyIiwicmVhZEFzRGF0YVVSTCIsImJnUHJvbWlzZSIsImJnUmVhZGVyIiwibWVpVXJpIiwiYmdVcmkiLCJzaW5nbGUiLCJraW5kIiwiYWxlcnQiLCJtYXhMZW4iLCJjaHVua0xlbiIsInJlZyIsImNvbXBhcmlzb24iLCJkaWdpdHNSZWciLCJkaWdpdHNSZXN1bHRzIiwiZGlnaXRzIiwic3RyaXBwZWQiLCJmbSIsImdldEluc3RhbmNlIiwiY3JlYXRlVW5wYWlyZWRJdGVtIiwicmFkaW9OYW1lIiwicmFkaW8iLCJsYWJlbCIsImZpbGVzIiwibWVpX2NvbnRhaW5lciIsImltYWdlX2NvbnRhaW5lciIsInJlamVjdEZpbGVzIiwiZmlsZSIsImV4dCIsInVucGFpcmVkSXRlbSIsImFkZEZpbGUiLCJwYWlyZWRfY29udGFpbmVyIiwic2VsZWN0ZWRNZWlFbGVtZW50Iiwic2VsZWN0ZWRJbWFnZUVsZW1lbnQiLCJtZWlfZmlsZW5hbWUiLCJpbWFnZV9maWxlbmFtZSIsInBhaXJlZF9lbCIsInRpbGVfZmlsZW5hbWUiLCJoYW5kbGVVbnBhaXIiLCJyZW1vdmVGb2xpbyIsIm1laUl0ZW0iLCJpbWFnZUl0ZW0iLCJjcmVhdGVQYWlyZWRUaWxlIiwiYWRkRm9saW8iLCJ1cGxvYWRzIiwiZXhpc3RpbmdOYW1lcyIsImZvbGlvUHJvbWlzZXMiLCJnZXRGb2xpb3MiLCJpbWFnZSIsIm5ld05hbWUiLCJyZW5hbWVGaWxlIiwiY3JlYXRlTWFuaWZlc3QiLCJtYW5pZmVzdEJsb2IiLCJhZGRFbnRyeSIsInVwbG9hZEZvbGlvIiwiY2xlYXIiLCJGaWxlTWFuYWdlciIsImFsbEZpbGVzIiwiZm9saW9zIiwiaW5zdGFuY2UiLCJ1cGRhdGVkRW50cnkiLCJnZXRGaWxlQ291bnQiLCJuZXdFbnRyeSIsIm5ld0ZvbGlvIiwiZmluZEluZGV4IiwiZm9saW8iLCJnZXRGaWxlIiwiSW5pdFVwbG9hZEFyZWEiLCJtb2RhbFdpbmRvdyIsIk1vZGFsV2luZG93IiwiaGFuZGxlTWFrZVBhaXIiLCJzcGlubmVyIiwiaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzIiwiZmlsZVNlbGVjdG9yIiwibXVsdGlwbGUiLCJmaWxlTGlzdCIsImFkZE5ld0ZpbGVzIiwidXBsb2FkX2FyZWEiLCJvbmRyYWdsZWF2ZSIsIm9uZHJhZ292ZXIiLCJkYXRhVHJhbnNmZXIiLCJkcm9wRWZmZWN0Iiwib25kcm9wIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFB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bkUsTUFBTStFLEtBQUtxbEUsR0FDbkJqRCxHQUFjLElBQUFrRCxhQUFZckQsR0FDaEMsR0FBMkIsSUFBdkJHLEVBQVl0b0UsT0FBYyxDQUM1QixNQUFNaXJELEVBQVlxZCxFQUFZNzhELElBQUk4OEQsR0FBUUEsRUFBS3Z0RSxNQUMvQ29VLE9BQU9nNEQsTUFBTSx3RUFBd0VuYyxFQUFVcHdDLEtBQUssT0FHdEd3d0QsRUFBYTN2RSxNQUFRLFFBSXZCLE1BQU0rdkUsRUFBOEJ0bUUsU0FBU3FFLGNBQWMsd0JBQzNEaWlFLEVBQVl0NUMsUUFBVSxJQUFNazVDLEVBQWFucUQsUUFFekN1cUQsRUFBWUMsWUFBYyxJQUFNRCxFQUFZL2xFLFVBQVVDLE9BQU8sUUFDN0Q4bEUsRUFBWUUsV0FBY2hvRCxJQUN4QkEsRUFBTWxNLGtCQUNOa00sRUFBTWpPLGlCQUNOKzFELEVBQVkvbEUsVUFBVWUsSUFBSSxRQUMxQmtkLEVBQU1pb0QsYUFBYUMsV0FBYSxRQUdsQ0osRUFBWUssT0FBVW5vRCxJQUNwQkEsRUFBTWxNLGtCQUNOa00sRUFBTWpPLGlCQUNOKzFELEVBQVkvbEUsVUFBVUMsT0FBTyxRQUM3QixNQUFNNGxFLEVBQVc1bkQsRUFBTWlvRCxhQUFhekQsTUFDOUJBLEVBQVFobkUsTUFBTStFLEtBQUtxbEUsR0FDbkJqRCxHQUFjLElBQUFrRCxhQUFZckQsR0FDaEMsR0FBMkIsSUFBdkJHLEVBQVl0b0UsT0FBYyxDQUM1QixNQUFNaXJELEVBQVlxZCxFQUFZNzhELElBQUk4OEQsR0FBUUEsRUFBS3Z0RSxNQUMvQ29VLE9BQU9nNEQsTUFBTSx3RUFBd0VuYyxFQUFVcHdDLEtBQUsiLCJmaWxlIjoiZGFzaGJvYXJkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDg1KTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBSID0gdHlwZW9mIFJlZmxlY3QgPT09ICdvYmplY3QnID8gUmVmbGVjdCA6IG51bGxcbnZhciBSZWZsZWN0QXBwbHkgPSBSICYmIHR5cGVvZiBSLmFwcGx5ID09PSAnZnVuY3Rpb24nXG4gID8gUi5hcHBseVxuICA6IGZ1bmN0aW9uIFJlZmxlY3RBcHBseSh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKSB7XG4gICAgcmV0dXJuIEZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseS5jYWxsKHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpO1xuICB9XG5cbnZhciBSZWZsZWN0T3duS2V5c1xuaWYgKFIgJiYgdHlwZW9mIFIub3duS2V5cyA9PT0gJ2Z1bmN0aW9uJykge1xuICBSZWZsZWN0T3duS2V5cyA9IFIub3duS2V5c1xufSBlbHNlIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldClcbiAgICAgIC5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKTtcbiAgfTtcbn0gZWxzZSB7XG4gIFJlZmxlY3RPd25LZXlzID0gZnVuY3Rpb24gUmVmbGVjdE93bktleXModGFyZ2V0KSB7XG4gICAgcmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKHRhcmdldCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIFByb2Nlc3NFbWl0V2FybmluZyh3YXJuaW5nKSB7XG4gIGlmIChjb25zb2xlICYmIGNvbnNvbGUud2FybikgY29uc29sZS53YXJuKHdhcm5pbmcpO1xufVxuXG52YXIgTnVtYmVySXNOYU4gPSBOdW1iZXIuaXNOYU4gfHwgZnVuY3Rpb24gTnVtYmVySXNOYU4odmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCkge1xuICBFdmVudEVtaXR0ZXIuaW5pdC5jYWxsKHRoaXMpO1xufVxubW9kdWxlLmV4cG9ydHMgPSBFdmVudEVtaXR0ZXI7XG5tb2R1bGUuZXhwb3J0cy5vbmNlID0gb25jZTtcblxuLy8gQmFja3dhcmRzLWNvbXBhdCB3aXRoIG5vZGUgMC4xMC54XG5FdmVudEVtaXR0ZXIuRXZlbnRFbWl0dGVyID0gRXZlbnRFbWl0dGVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHMgPSB1bmRlZmluZWQ7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9ldmVudHNDb3VudCA9IDA7XG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnMgPSB1bmRlZmluZWQ7XG5cbi8vIEJ5IGRlZmF1bHQgRXZlbnRFbWl0dGVycyB3aWxsIHByaW50IGEgd2FybmluZyBpZiBtb3JlIHRoYW4gMTAgbGlzdGVuZXJzIGFyZVxuLy8gYWRkZWQgdG8gaXQuIFRoaXMgaXMgYSB1c2VmdWwgZGVmYXVsdCB3aGljaCBoZWxwcyBmaW5kaW5nIG1lbW9yeSBsZWFrcy5cbnZhciBkZWZhdWx0TWF4TGlzdGVuZXJzID0gMTA7XG5cbmZ1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgaWYgKHR5cGVvZiBsaXN0ZW5lciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgbGlzdGVuZXIpO1xuICB9XG59XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsICdkZWZhdWx0TWF4TGlzdGVuZXJzJywge1xuICBlbnVtZXJhYmxlOiB0cnVlLFxuICBnZXQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBkZWZhdWx0TWF4TGlzdGVuZXJzO1xuICB9LFxuICBzZXQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnbnVtYmVyJyB8fCBhcmcgPCAwIHx8IE51bWJlcklzTmFOKGFyZykpIHtcbiAgICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIGFyZyArICcuJyk7XG4gICAgfVxuICAgIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSBhcmc7XG4gIH1cbn0pO1xuXG5FdmVudEVtaXR0ZXIuaW5pdCA9IGZ1bmN0aW9uKCkge1xuXG4gIGlmICh0aGlzLl9ldmVudHMgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgdGhpcy5fZXZlbnRzID09PSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50cykge1xuICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICB9XG5cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gdGhpcy5fbWF4TGlzdGVuZXJzIHx8IHVuZGVmaW5lZDtcbn07XG5cbi8vIE9idmlvdXNseSBub3QgYWxsIEVtaXR0ZXJzIHNob3VsZCBiZSBsaW1pdGVkIHRvIDEwLiBUaGlzIGZ1bmN0aW9uIGFsbG93c1xuLy8gdGhhdCB0byBiZSBpbmNyZWFzZWQuIFNldCB0byB6ZXJvIGZvciB1bmxpbWl0ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnNldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIHNldE1heExpc3RlbmVycyhuKSB7XG4gIGlmICh0eXBlb2YgbiAhPT0gJ251bWJlcicgfHwgbiA8IDAgfHwgTnVtYmVySXNOYU4obikpIHtcbiAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiblwiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBuICsgJy4nKTtcbiAgfVxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSBuO1xuICByZXR1cm4gdGhpcztcbn07XG5cbmZ1bmN0aW9uIF9nZXRNYXhMaXN0ZW5lcnModGhhdCkge1xuICBpZiAodGhhdC5fbWF4TGlzdGVuZXJzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIEV2ZW50RW1pdHRlci5kZWZhdWx0TWF4TGlzdGVuZXJzO1xuICByZXR1cm4gdGhhdC5fbWF4TGlzdGVuZXJzO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycyA9IGZ1bmN0aW9uIGdldE1heExpc3RlbmVycygpIHtcbiAgcmV0dXJuIF9nZXRNYXhMaXN0ZW5lcnModGhpcyk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbiBlbWl0KHR5cGUpIHtcbiAgdmFyIGFyZ3MgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIGFyZ3MucHVzaChhcmd1bWVudHNbaV0pO1xuICB2YXIgZG9FcnJvciA9ICh0eXBlID09PSAnZXJyb3InKTtcblxuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpXG4gICAgZG9FcnJvciA9IChkb0Vycm9yICYmIGV2ZW50cy5lcnJvciA9PT0gdW5kZWZpbmVkKTtcbiAgZWxzZSBpZiAoIWRvRXJyb3IpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIElmIHRoZXJlIGlzIG5vICdlcnJvcicgZXZlbnQgbGlzdGVuZXIgdGhlbiB0aHJvdy5cbiAgaWYgKGRvRXJyb3IpIHtcbiAgICB2YXIgZXI7XG4gICAgaWYgKGFyZ3MubGVuZ3RoID4gMClcbiAgICAgIGVyID0gYXJnc1swXTtcbiAgICBpZiAoZXIgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgLy8gTm90ZTogVGhlIGNvbW1lbnRzIG9uIHRoZSBgdGhyb3dgIGxpbmVzIGFyZSBpbnRlbnRpb25hbCwgdGhleSBzaG93XG4gICAgICAvLyB1cCBpbiBOb2RlJ3Mgb3V0cHV0IGlmIHRoaXMgcmVzdWx0cyBpbiBhbiB1bmhhbmRsZWQgZXhjZXB0aW9uLlxuICAgICAgdGhyb3cgZXI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gICAgfVxuICAgIC8vIEF0IGxlYXN0IGdpdmUgc29tZSBraW5kIG9mIGNvbnRleHQgdG8gdGhlIHVzZXJcbiAgICB2YXIgZXJyID0gbmV3IEVycm9yKCdVbmhhbmRsZWQgZXJyb3IuJyArIChlciA/ICcgKCcgKyBlci5tZXNzYWdlICsgJyknIDogJycpKTtcbiAgICBlcnIuY29udGV4dCA9IGVyO1xuICAgIHRocm93IGVycjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgfVxuXG4gIHZhciBoYW5kbGVyID0gZXZlbnRzW3R5cGVdO1xuXG4gIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIGZhbHNlO1xuXG4gIGlmICh0eXBlb2YgaGFuZGxlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIFJlZmxlY3RBcHBseShoYW5kbGVyLCB0aGlzLCBhcmdzKTtcbiAgfSBlbHNlIHtcbiAgICB2YXIgbGVuID0gaGFuZGxlci5sZW5ndGg7XG4gICAgdmFyIGxpc3RlbmVycyA9IGFycmF5Q2xvbmUoaGFuZGxlciwgbGVuKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgKytpKVxuICAgICAgUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSwgdGhpcywgYXJncyk7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmVwZW5kKSB7XG4gIHZhciBtO1xuICB2YXIgZXZlbnRzO1xuICB2YXIgZXhpc3Rpbmc7XG5cbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZCkge1xuICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0YXJnZXQuX2V2ZW50c0NvdW50ID0gMDtcbiAgfSBlbHNlIHtcbiAgICAvLyBUbyBhdm9pZCByZWN1cnNpb24gaW4gdGhlIGNhc2UgdGhhdCB0eXBlID09PSBcIm5ld0xpc3RlbmVyXCIhIEJlZm9yZVxuICAgIC8vIGFkZGluZyBpdCB0byB0aGUgbGlzdGVuZXJzLCBmaXJzdCBlbWl0IFwibmV3TGlzdGVuZXJcIi5cbiAgICBpZiAoZXZlbnRzLm5ld0xpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRhcmdldC5lbWl0KCduZXdMaXN0ZW5lcicsIHR5cGUsXG4gICAgICAgICAgICAgICAgICBsaXN0ZW5lci5saXN0ZW5lciA/IGxpc3RlbmVyLmxpc3RlbmVyIDogbGlzdGVuZXIpO1xuXG4gICAgICAvLyBSZS1hc3NpZ24gYGV2ZW50c2AgYmVjYXVzZSBhIG5ld0xpc3RlbmVyIGhhbmRsZXIgY291bGQgaGF2ZSBjYXVzZWQgdGhlXG4gICAgICAvLyB0aGlzLl9ldmVudHMgdG8gYmUgYXNzaWduZWQgdG8gYSBuZXcgb2JqZWN0XG4gICAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgICB9XG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV07XG4gIH1cblxuICBpZiAoZXhpc3RpbmcgPT09IHVuZGVmaW5lZCkge1xuICAgIC8vIE9wdGltaXplIHRoZSBjYXNlIG9mIG9uZSBsaXN0ZW5lci4gRG9uJ3QgbmVlZCB0aGUgZXh0cmEgYXJyYXkgb2JqZWN0LlxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID0gbGlzdGVuZXI7XG4gICAgKyt0YXJnZXQuX2V2ZW50c0NvdW50O1xuICB9IGVsc2Uge1xuICAgIGlmICh0eXBlb2YgZXhpc3RpbmcgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIC8vIEFkZGluZyB0aGUgc2Vjb25kIGVsZW1lbnQsIG5lZWQgdG8gY2hhbmdlIHRvIGFycmF5LlxuICAgICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPVxuICAgICAgICBwcmVwZW5kID8gW2xpc3RlbmVyLCBleGlzdGluZ10gOiBbZXhpc3RpbmcsIGxpc3RlbmVyXTtcbiAgICAgIC8vIElmIHdlJ3ZlIGFscmVhZHkgZ290IGFuIGFycmF5LCBqdXN0IGFwcGVuZC5cbiAgICB9IGVsc2UgaWYgKHByZXBlbmQpIHtcbiAgICAgIGV4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBleGlzdGluZy5wdXNoKGxpc3RlbmVyKTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBmb3IgbGlzdGVuZXIgbGVha1xuICAgIG0gPSBfZ2V0TWF4TGlzdGVuZXJzKHRhcmdldCk7XG4gICAgaWYgKG0gPiAwICYmIGV4aXN0aW5nLmxlbmd0aCA+IG0gJiYgIWV4aXN0aW5nLndhcm5lZCkge1xuICAgICAgZXhpc3Rpbmcud2FybmVkID0gdHJ1ZTtcbiAgICAgIC8vIE5vIGVycm9yIGNvZGUgZm9yIHRoaXMgc2luY2UgaXQgaXMgYSBXYXJuaW5nXG4gICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcmVzdHJpY3RlZC1zeW50YXhcbiAgICAgIHZhciB3ID0gbmV3IEVycm9yKCdQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICBleGlzdGluZy5sZW5ndGggKyAnICcgKyBTdHJpbmcodHlwZSkgKyAnIGxpc3RlbmVycyAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2FkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgJ2luY3JlYXNlIGxpbWl0Jyk7XG4gICAgICB3Lm5hbWUgPSAnTWF4TGlzdGVuZXJzRXhjZWVkZWRXYXJuaW5nJztcbiAgICAgIHcuZW1pdHRlciA9IHRhcmdldDtcbiAgICAgIHcudHlwZSA9IHR5cGU7XG4gICAgICB3LmNvdW50ID0gZXhpc3RpbmcubGVuZ3RoO1xuICAgICAgUHJvY2Vzc0VtaXRXYXJuaW5nKHcpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiBhZGRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgdHJ1ZSk7XG4gICAgfTtcblxuZnVuY3Rpb24gb25jZVdyYXBwZXIoKSB7XG4gIGlmICghdGhpcy5maXJlZCkge1xuICAgIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSwgdGhpcy53cmFwRm4pO1xuICAgIHRoaXMuZmlyZWQgPSB0cnVlO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKVxuICAgICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuY2FsbCh0aGlzLnRhcmdldCk7XG4gICAgcmV0dXJuIHRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsIGFyZ3VtZW50cyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gX29uY2VXcmFwKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIpIHtcbiAgdmFyIHN0YXRlID0geyBmaXJlZDogZmFsc2UsIHdyYXBGbjogdW5kZWZpbmVkLCB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH07XG4gIHZhciB3cmFwcGVkID0gb25jZVdyYXBwZXIuYmluZChzdGF0ZSk7XG4gIHdyYXBwZWQubGlzdGVuZXIgPSBsaXN0ZW5lcjtcbiAgc3RhdGUud3JhcEZuID0gd3JhcHBlZDtcbiAgcmV0dXJuIHdyYXBwZWQ7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub25jZSA9IGZ1bmN0aW9uIG9uY2UodHlwZSwgbGlzdGVuZXIpIHtcbiAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gIHRoaXMub24odHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gIHJldHVybiB0aGlzO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5wcmVwZW5kT25jZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kT25jZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgICAgIHRoaXMucHJlcGVuZExpc3RlbmVyKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuLy8gRW1pdHMgYSAncmVtb3ZlTGlzdGVuZXInIGV2ZW50IGlmIGFuZCBvbmx5IGlmIHRoZSBsaXN0ZW5lciB3YXMgcmVtb3ZlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICB2YXIgbGlzdCwgZXZlbnRzLCBwb3NpdGlvbiwgaSwgb3JpZ2luYWxMaXN0ZW5lcjtcblxuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGxpc3QgPSBldmVudHNbdHlwZV07XG4gICAgICBpZiAobGlzdCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgaWYgKGxpc3QgPT09IGxpc3RlbmVyIHx8IGxpc3QubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lcilcbiAgICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBsaXN0Lmxpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0eXBlb2YgbGlzdCAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBwb3NpdGlvbiA9IC0xO1xuXG4gICAgICAgIGZvciAoaSA9IGxpc3QubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICBpZiAobGlzdFtpXSA9PT0gbGlzdGVuZXIgfHwgbGlzdFtpXS5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgICAgIG9yaWdpbmFsTGlzdGVuZXIgPSBsaXN0W2ldLmxpc3RlbmVyO1xuICAgICAgICAgICAgcG9zaXRpb24gPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uIDwgMClcbiAgICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgICBpZiAocG9zaXRpb24gPT09IDApXG4gICAgICAgICAgbGlzdC5zaGlmdCgpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzcGxpY2VPbmUobGlzdCwgcG9zaXRpb24pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGxpc3QubGVuZ3RoID09PSAxKVxuICAgICAgICAgIGV2ZW50c1t0eXBlXSA9IGxpc3RbMF07XG5cbiAgICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgIHRoaXMuZW1pdCgncmVtb3ZlTGlzdGVuZXInLCB0eXBlLCBvcmlnaW5hbExpc3RlbmVyIHx8IGxpc3RlbmVyKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vZmYgPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUFsbExpc3RlbmVycyA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlQWxsTGlzdGVuZXJzKHR5cGUpIHtcbiAgICAgIHZhciBsaXN0ZW5lcnMsIGV2ZW50cywgaTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgLy8gbm90IGxpc3RlbmluZyBmb3IgcmVtb3ZlTGlzdGVuZXIsIG5vIG5lZWQgdG8gZW1pdFxuICAgICAgaWYgKGV2ZW50cy5yZW1vdmVMaXN0ZW5lciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIH0gZWxzZSBpZiAoZXZlbnRzW3R5cGVdICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgZWxzZVxuICAgICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgLy8gZW1pdCByZW1vdmVMaXN0ZW5lciBmb3IgYWxsIGxpc3RlbmVycyBvbiBhbGwgZXZlbnRzXG4gICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKGV2ZW50cyk7XG4gICAgICAgIHZhciBrZXk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgKytpKSB7XG4gICAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgICBpZiAoa2V5ID09PSAncmVtb3ZlTGlzdGVuZXInKSBjb250aW51ZTtcbiAgICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycyhrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKCdyZW1vdmVMaXN0ZW5lcicpO1xuICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICBsaXN0ZW5lcnMgPSBldmVudHNbdHlwZV07XG5cbiAgICAgIGlmICh0eXBlb2YgbGlzdGVuZXJzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzKTtcbiAgICAgIH0gZWxzZSBpZiAobGlzdGVuZXJzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8gTElGTyBvcmRlclxuICAgICAgICBmb3IgKGkgPSBsaXN0ZW5lcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVyc1tpXSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuZnVuY3Rpb24gX2xpc3RlbmVycyh0YXJnZXQsIHR5cGUsIHVud3JhcCkge1xuICB2YXIgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcbiAgaWYgKGV2bGlzdGVuZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKVxuICAgIHJldHVybiB1bndyYXAgPyBbZXZsaXN0ZW5lci5saXN0ZW5lciB8fCBldmxpc3RlbmVyXSA6IFtldmxpc3RlbmVyXTtcblxuICByZXR1cm4gdW53cmFwID9cbiAgICB1bndyYXBMaXN0ZW5lcnMoZXZsaXN0ZW5lcikgOiBhcnJheUNsb25lKGV2bGlzdGVuZXIsIGV2bGlzdGVuZXIubGVuZ3RoKTtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnMgPSBmdW5jdGlvbiBsaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCB0cnVlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmF3TGlzdGVuZXJzID0gZnVuY3Rpb24gcmF3TGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQgPSBmdW5jdGlvbihlbWl0dGVyLCB0eXBlKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5saXN0ZW5lckNvdW50ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGVtaXR0ZXIubGlzdGVuZXJDb3VudCh0eXBlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbGlzdGVuZXJDb3VudC5jYWxsKGVtaXR0ZXIsIHR5cGUpO1xuICB9XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQgPSBsaXN0ZW5lckNvdW50O1xuZnVuY3Rpb24gbGlzdGVuZXJDb3VudCh0eXBlKSB7XG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG5cbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG5cbiAgICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH0gZWxzZSBpZiAoZXZsaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gZXZsaXN0ZW5lci5sZW5ndGg7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIDA7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZXZlbnROYW1lcyA9IGZ1bmN0aW9uIGV2ZW50TmFtZXMoKSB7XG4gIHJldHVybiB0aGlzLl9ldmVudHNDb3VudCA+IDAgPyBSZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpIDogW107XG59O1xuXG5mdW5jdGlvbiBhcnJheUNsb25lKGFyciwgbikge1xuICB2YXIgY29weSA9IG5ldyBBcnJheShuKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBuOyArK2kpXG4gICAgY29weVtpXSA9IGFycltpXTtcbiAgcmV0dXJuIGNvcHk7XG59XG5cbmZ1bmN0aW9uIHNwbGljZU9uZShsaXN0LCBpbmRleCkge1xuICBmb3IgKDsgaW5kZXggKyAxIDwgbGlzdC5sZW5ndGg7IGluZGV4KyspXG4gICAgbGlzdFtpbmRleF0gPSBsaXN0W2luZGV4ICsgMV07XG4gIGxpc3QucG9wKCk7XG59XG5cbmZ1bmN0aW9uIHVud3JhcExpc3RlbmVycyhhcnIpIHtcbiAgdmFyIHJldCA9IG5ldyBBcnJheShhcnIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXQubGVuZ3RoOyArK2kpIHtcbiAgICByZXRbaV0gPSBhcnJbaV0ubGlzdGVuZXIgfHwgYXJyW2ldO1xuICB9XG4gIHJldHVybiByZXQ7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZW1pdHRlciwgbmFtZSkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIGZ1bmN0aW9uIGVycm9yTGlzdGVuZXIoZXJyKSB7XG4gICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5hbWUsIHJlc29sdmVyKTtcbiAgICAgIHJlamVjdChlcnIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc29sdmVyKCkge1xuICAgICAgaWYgKHR5cGVvZiBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIoJ2Vycm9yJywgZXJyb3JMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICByZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSk7XG4gICAgfTtcblxuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCByZXNvbHZlciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIGlmIChuYW1lICE9PSAnZXJyb3InKSB7XG4gICAgICBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBlcnJvckxpc3RlbmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgaGFuZGxlciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsICdlcnJvcicsIGhhbmRsZXIsIGZsYWdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgbGlzdGVuZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICBlbWl0dGVyLm9uY2UobmFtZSwgbGlzdGVuZXIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBlbWl0dGVyLm9uKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIEV2ZW50VGFyZ2V0IGRvZXMgbm90IGhhdmUgYGVycm9yYCBldmVudCBzZW1hbnRpY3MgbGlrZSBOb2RlXG4gICAgLy8gRXZlbnRFbWl0dGVycywgd2UgZG8gbm90IGxpc3RlbiBmb3IgYGVycm9yYCBldmVudHMgaGVyZS5cbiAgICBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIobmFtZSwgZnVuY3Rpb24gd3JhcExpc3RlbmVyKGFyZykge1xuICAgICAgLy8gSUUgZG9lcyBub3QgaGF2ZSBidWlsdGluIGB7IG9uY2U6IHRydWUgfWAgc3VwcG9ydCBzbyB3ZVxuICAgICAgLy8gaGF2ZSB0byBkbyBpdCBtYW51YWxseS5cbiAgICAgIGlmIChmbGFncy5vbmNlKSB7XG4gICAgICAgIGVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lcihuYW1lLCB3cmFwTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgbGlzdGVuZXIoYXJnKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJlbWl0dGVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEV2ZW50RW1pdHRlci4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGVtaXR0ZXIpO1xuICB9XG59XG4iLCJpZiAodHlwZW9mIE9iamVjdC5jcmVhdGUgPT09ICdmdW5jdGlvbicpIHtcbiAgLy8gaW1wbGVtZW50YXRpb24gZnJvbSBzdGFuZGFyZCBub2RlLmpzICd1dGlsJyBtb2R1bGVcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKHN1cGVyQ3Rvci5wcm90b3R5cGUsIHtcbiAgICAgICAgY29uc3RydWN0b3I6IHtcbiAgICAgICAgICB2YWx1ZTogY3RvcixcbiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgICBjb25maWd1cmFibGU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICB9XG4gIH07XG59IGVsc2Uge1xuICAvLyBvbGQgc2Nob29sIHNoaW0gZm9yIG9sZCBicm93c2Vyc1xuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICB2YXIgVGVtcEN0b3IgPSBmdW5jdGlvbiAoKSB7fVxuICAgICAgVGVtcEN0b3IucHJvdG90eXBlID0gc3VwZXJDdG9yLnByb3RvdHlwZVxuICAgICAgY3Rvci5wcm90b3R5cGUgPSBuZXcgVGVtcEN0b3IoKVxuICAgICAgY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBjdG9yXG4gICAgfVxuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG52YXIgdHlwZXMgPSBbXG4gIHJlcXVpcmUoJy4vbmV4dFRpY2snKSxcbiAgcmVxdWlyZSgnLi9xdWV1ZU1pY3JvdGFzaycpLFxuICByZXF1aXJlKCcuL211dGF0aW9uLmpzJyksXG4gIHJlcXVpcmUoJy4vbWVzc2FnZUNoYW5uZWwnKSxcbiAgcmVxdWlyZSgnLi9zdGF0ZUNoYW5nZScpLFxuICByZXF1aXJlKCcuL3RpbWVvdXQnKVxuXTtcbnZhciBkcmFpbmluZztcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xudmFyIHF1ZXVlID0gW107XG52YXIgc2NoZWR1bGVkID0gZmFsc2U7XG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBkcmFpbmluZyA9IGZhbHNlO1xuICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcXVldWVJbmRleCA9IC0xO1xuICB9XG4gIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICBuZXh0VGljaygpO1xuICB9XG59XG5cbi8vbmFtZWQgbmV4dFRpY2sgZm9yIGxlc3MgY29uZnVzaW5nIHN0YWNrIHRyYWNlc1xuZnVuY3Rpb24gbmV4dFRpY2soKSB7XG4gIGlmIChkcmFpbmluZykge1xuICAgIHJldHVybjtcbiAgfVxuICBzY2hlZHVsZWQgPSBmYWxzZTtcbiAgZHJhaW5pbmcgPSB0cnVlO1xuICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICB2YXIgdGltZW91dCA9IHNldFRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgd2hpbGUgKGxlbikge1xuICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgIHF1ZXVlID0gW107XG4gICAgd2hpbGUgKGN1cnJlbnRRdWV1ZSAmJiArK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICB9XG4gICAgcXVldWVJbmRleCA9IC0xO1xuICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgfVxuICBjdXJyZW50UXVldWUgPSBudWxsO1xuICBxdWV1ZUluZGV4ID0gLTE7XG4gIGRyYWluaW5nID0gZmFsc2U7XG4gIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cbnZhciBzY2hlZHVsZURyYWluO1xudmFyIGkgPSAtMTtcbnZhciBsZW4gPSB0eXBlcy5sZW5ndGg7XG53aGlsZSAoKytpIDwgbGVuKSB7XG4gIGlmICh0eXBlc1tpXSAmJiB0eXBlc1tpXS50ZXN0ICYmIHR5cGVzW2ldLnRlc3QoKSkge1xuICAgIHNjaGVkdWxlRHJhaW4gPSB0eXBlc1tpXS5pbnN0YWxsKG5leHRUaWNrKTtcbiAgICBicmVhaztcbiAgfVxufVxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gIHRoaXMuZnVuID0gZnVuO1xuICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmdW4gPSB0aGlzLmZ1bjtcbiAgdmFyIGFycmF5ID0gdGhpcy5hcnJheTtcbiAgc3dpdGNoIChhcnJheS5sZW5ndGgpIHtcbiAgY2FzZSAwOlxuICAgIHJldHVybiBmdW4oKTtcbiAgY2FzZSAxOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0pO1xuICBjYXNlIDI6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSwgYXJyYXlbMV0pO1xuICBjYXNlIDM6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSwgYXJyYXlbMV0sIGFycmF5WzJdKTtcbiAgZGVmYXVsdDpcbiAgICByZXR1cm4gZnVuLmFwcGx5KG51bGwsIGFycmF5KTtcbiAgfVxuXG59O1xubW9kdWxlLmV4cG9ydHMgPSBpbW1lZGlhdGU7XG5mdW5jdGlvbiBpbW1lZGlhdGUodGFzaykge1xuICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICB9XG4gIH1cbiAgcXVldWUucHVzaChuZXcgSXRlbSh0YXNrLCBhcmdzKSk7XG4gIGlmICghc2NoZWR1bGVkICYmICFkcmFpbmluZykge1xuICAgIHNjaGVkdWxlZCA9IHRydWU7XG4gICAgc2NoZWR1bGVEcmFpbigpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBDb2xvciBmcm9tICcuL0NvbG9yJztcbmltcG9ydCB7IHVwZGF0ZUhpZ2hsaWdodCwgZ2V0SGlnaGxpZ2h0VHlwZSB9IGZyb20gJy4uL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0ICogYXMgR3JvdXBpbmcgZnJvbSAnLi4vU3F1YXJlRWRpdC9Hcm91cGluZyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuL1Jlc2l6ZSc7XG5pbXBvcnQgeyBBdHRyaWJ1dGVzLCBTZWxlY3Rpb25UeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi4vU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgc2VsZWN0aW9uIG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2VsZWN0aW9uVHlwZSAoKTogU2VsZWN0aW9uVHlwZSB7XG4gIGNvbnN0IGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWwtYnkgaXMtYWN0aXZlJyk7XG4gIGlmIChlbGVtZW50Lmxlbmd0aCAhPT0gMCkge1xuICAgIHJldHVybiBlbGVtZW50WzBdLmlkIGFzIFNlbGVjdGlvblR5cGU7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbn1cblxuLyoqXG4gKiBVbnNlbGVjdCBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYW5kIHJ1biB1bmRvIGFueSBleHRyYVxuICogYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2VsZWN0ICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5vLW1vdmluZycpLmZvckVhY2goKHNlbGVjdGVkOiBTVkdHRWxlbWVudCkgPT4gXG4gICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnbm8tbW92aW5nJykpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIGlmIChzZWxlY3RlZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIENvbG9yLnVuaGlnaGxpZ2h0KHNlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgc2VsZWN0ZWQuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2V0IHRoZSBzdHJva2VzIG9mIGFsbCBkaXZsaW5lcyBiYWNrIHRvIGJsYWNrXG4gIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZMaW5lJykpLmZvckVhY2goKHN5bGxhYmxlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgc3lsbGFibGUuc3R5bGUuc3Ryb2tlID0gJ2JsYWNrJztcbiAgICB9KTtcbiAgfVxuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmV1bWUnKSkuZm9yRWFjaCgoc3lsbGFibGU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgc3lsbGFibGUuc3R5bGUuZmlsbCA9ICcnO1xuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3RleHQtc2VsZWN0JykpLmZvckVhY2goKGVsOiBTVkdFbGVtZW50KSA9PiB7XG4gICAgZWwuc3R5bGUuY29sb3IgPSAnJztcbiAgICBlbC5zdHlsZS5mb250V2VpZ2h0ID0gJyc7XG4gICAgZWwuY2xhc3NMaXN0LnJlbW92ZSgndGV4dC1zZWxlY3QnKTtcbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goKHN5bFJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgc3lsUmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpLmZvckVhY2goKHN5bGxhYmxlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHN5bGxhYmxlLnN0eWxlLmZpbGwgPSAnJztcbiAgICBzeWxsYWJsZS5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgIHN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gIH0pO1xuXG4gIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgZDMuc2VsZWN0QWxsKCcucmVzaXplUG9pbnQnKS5yZW1vdmUoKTtcbiAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcblxuICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgIEdyb3VwaW5nLmVuZEdyb3VwaW5nU2VsZWN0aW9uKCk7XG4gIH0gZWxzZSB7XG4gICAgU2VsZWN0T3B0aW9ucy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH1cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgdXBkYXRlSGlnaGxpZ2h0KCk7XG59XG5cbi8qKlxuICogU2VsZWN0IGEgc3RhZmYgZWxlbWVudC5cbiAqIEBwYXJhbSBzdGFmZiAtIFRoZSBzdGFmZiBlbGVtZW50IGluIHRoZSBET00uXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSBUaGUgZHJhZyBoYW5kbGVyIGluIHVzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdFN0YWZmIChzdGFmZjogU1ZHR0VsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBpZiAoIXN0YWZmLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIHN0YWZmLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQoc3RhZmYpO1xuICAgIENvbG9yLmhpZ2hsaWdodChzdGFmZiwgJyNkMDAnKTtcbiAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTcGxpdEFjdGlvbnMoKTtcbiAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICB9XG59XG5cbi8qKlxuICogU2VsZWN0IGEgbGF5ZXIgZWxlbWVudC5cbiAqIEBwYXJhbSBsYXllckVsZW1lbnQgLSBUaGUgbGF5ZXIgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RMYXllckVsZW1lbnQgKGxheWVyRWxlbWVudDogU1ZHR0VsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBpZiAoIWxheWVyRWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBsYXllckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBDb2xvci51bmhpZ2hsaWdodChsYXllckVsZW1lbnQpO1xuICAgIENvbG9yLmhpZ2hsaWdodChsYXllckVsZW1lbnQsICcjZDAwJyk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEdlbmVyaWMgc2VsZWN0IGZ1bmN0aW9uLlxuICogQHBhcmFtIGVsIC0gRWxlbWVudCB0byBzZWxlY3QuXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSBPbmx5IHVzZWQgZm9yIHN0YXZlcy5cbiAqIEBwYXJhbSBuZWVkc0hpZ2hsaWdodFVwZGF0ZSAtIFdoZXRoZXIgYWxsIHRoZSBncm91cCdzIGhpZ2hsaWdodHMgc2hvdWxkIGJlIHVwZGF0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdCAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgZHJhZ0hhbmRsZXI/OiBEcmFnSGFuZGxlciwgbmVlZHNIaWdobGlnaHRVcGRhdGUgPSB0cnVlKTogdm9pZCB7XG4gIC8vIElmIGVsZW1lbnQgZG9lcyBub3QgZXhpc3QsIGV4aXRcbiAgaWYgKCFlbCkgcmV0dXJuO1xuXG4gIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICByZXR1cm4gc2VsZWN0U3RhZmYoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdsYXllcicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdExheWVyRWxlbWVudChlbCwgZHJhZ0hhbmRsZXIpO1xuICB9XG5cbiAgaWYgKCFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgJiYgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsVGV4dFJlY3QnKSAmJlxuICAgICAgIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsVGV4dFJlY3QtZGlzcGxheScpKSB7XG4gICAgZWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAvLyBzZXQgZmlsbCB0byByZWRcbiAgICAvLyBzZXQgc3Ryb2tlIHRvIHJlZCBvbmx5IGlmIHNlbGVjdGVkIGVsZW0gaXMgYSBkaXZMaW5lXG4gICAgZWwuc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBlbC5zdHlsZS5zdHJva2UgPSAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpPyAnI2QwMCcgOiAnYmxhY2snO1xuXG4gICAgaWYgKGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykubGVuZ3RoKSB7XG4gICAgICBlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmKGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSAmJiBnZXRIaWdobGlnaHRUeXBlKCkgPT0gJ25ldW1lJykge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gU2V0IGNvbG9yIG9mIHRoZSBjb3JyZXNwb25kaW5nIHRleHQgaW4gdGhlIHRleHQgcGFuZWwgdG8gcmVkXG4gICAgbGV0IHN5bElkO1xuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIHN5bElkID0gZWwuaWQ7XG4gICAgfSBlbHNlIGlmIChlbC5jbG9zZXN0KCcuc3lsbGFibGUnKSAhPT0gbnVsbCkge1xuICAgICAgc3lsSWQgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKS5pZDtcbiAgICB9XG4gICAgaWYgKHN5bElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNwYW5zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi4nICsgc3lsSWQpO1xuICAgICAgc3BhbnMuZm9yRWFjaCgoc3BhbjogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgc3Bhbi5zdHlsZS5jb2xvciA9ICcjZDAwJztcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2VsZWN0Jyk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBpZiAobmVlZHNIaWdobGlnaHRVcGRhdGUpXG4gICAgdXBkYXRlSGlnaGxpZ2h0KCk7XG59XG5cbi8qKlxuICogU2VsZWN0IGFuIG5jLlxuICogQHBhcmFtIGVsIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdE5jcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFlbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZWxlY3QocGFyZW50KTtcbiAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwYXJlbnQsIG5lb25WaWV3KSkge1xuICAgICAgY29uc3QgcHJldk5jID0gcGFyZW50LnByZXZpb3VzU2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHByZXZOYywgbmVvblZpZXcpKSB7XG4gICAgICAgIHNlbGVjdChwcmV2TmMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dE5jID0gcGFyZW50Lm5leHRTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShuZXh0TmMsIG5lb25WaWV3KSkge1xuICAgICAgICAgIHNlbGVjdChuZXh0TmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IE5laXRoZXIgcHJldiBvciBuZXh0IG5jIGFyZSBsaWdhdHVyZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmMnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gYWN0aW9uIHRyaWdnZXJlZCEnKTtcbiAgICB9XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBuYyAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgW1tOZW9uVmlld11dIGZvciB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbmV1bWUgY29tcG9uZW50IGlzIHBhcnQgb2YgYSBsaWdhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTGlnYXR1cmUgKG5jOiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgbmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gIHJldHVybiBCb29sZWFuKGF0dHJpYnV0ZXMubGlnYXRlZCk7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBsaXN0IG9mIGVsZW1lbnRzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBsb2dpY2FsbHkgYWRqYWNlbnQgdG8gZWFjaCBvdGhlci5cbiAqIEluY2x1ZGVzIGVsZW1lbnRzIHRoYXQgYXJlIG9uIHNlcGFyYXRlIHN0YXZlcyBidXQgd291bGQgb3RoZXJ3aXNlIGJlIG5leHQgdG8gZWFjaCBvdGhlci5cbiAqIENhbiBub3QgYXBwbHkgdG8gZWxlbWVudHMgb2YgdHlwZSBuZXVtZSBjb21wb25lbnQuXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHVzZXIgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgb2YgaW50ZXJlc3RcbiAqIEByZXR1cm5zIHRydWUgaWYgZWxlbWVudHMgYXJlIGFkamFjZW50LCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZUFkamFjZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIC8vIDIgZWxlbWVudHMgY2Fubm90IGJlIGFkamFjZW50IGlmIHRoZXJlIGlzIG9ubHkgMSBlbGVtZW50XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gZ2V0IGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFzIHNlbGVjdGlvblR5cGVcbiAgbGV0IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlOiBIVE1MRWxlbWVudFtdO1xuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBXZSBhdXRvbWF0aWNhbGx5IHJldHVybiAndHJ1ZScgZm9yIG5ldW1lcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHVzZXIgdG8gYmUgXG4gICAgICAvLyBhbGxvd2VkIHRvIGdyb3VwIHR3byBuZXVtZXMgaW4gc2VwYXJhdGUgc3lsbGFiZXMgd2l0aG91dCBoYXZpbmcgdG8gcGFyZm9ybSBvdGhlclxuICAgICAgLy8gc3RlcHMgZmlyc3QuIFllcywgdGhlcmUgaXMgYSB0cmFkZS1vZmYgLSB0aGlzIGFsbG93cyB1c2VycyB0byB0cnkgYW5kIGdyb3VwIGFueSBcbiAgICAgIC8vIHR3byBub24tYWRqYWNlbnQgbmV1bWVzLCBidXQgaXQgd2FzIGRlY2lkZWQgdGhhdCB0aGUgYmVuZWZpdHMgKHNwZWVkIGFuZCBlZmZpY2llbmN5KVxuICAgICAgLy8gb3V0d2VpZ2ggdGhlIGNvc3RzICh1c2VyIHRyeWluZyBhbiBpbGxlZ2FsIGVkaXQpLlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gU29ydCBTRUxFQ1RFRCBlbGVtZW50cyBpbiBvcmRlciBvZiBhcHBlYXJhbmNlIGJ5IFxuICAvLyBtYXRjaGluZyB0byBvcmRlciBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaT0wOyBpPGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaj0wOyBqPGVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoYWxsRWxlbXNPZlNlbGVjdGlvblR5cGVbaV0uaXNTYW1lTm9kZShlbGVtZW50c1tqXSkpIHtcbiAgICAgICAgc29ydGVkRWxlbWVudHMucHVzaChlbGVtZW50c1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IGNoZWNrIGlmIFNFTEVDVEVEIGVsZW1lbnRzIGFyZSBhbGwgYWRqYWNlbnQgKGluIGEgcm93KSBieSBcbiAgLy8gZmluZGluZyBhbmQgY29tcGFyaW5nIHRoZWlyIGluZGVjZXMgaW4gdGhlIGFycmF5IG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBmb3IgKGxldCBpPTA7IGk8c29ydGVkRWxlbWVudHMubGVuZ3RoLTE7IGkrKykge1xuICAgIGNvbnN0IGZpcnN0RWxlbSA9IHNvcnRlZEVsZW1lbnRzW2ldO1xuICAgIGNvbnN0IHNlY29uZEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpKzFdO1xuXG4gICAgY29uc3QgaW5kZXgxID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihmaXJzdEVsZW0pO1xuICAgIGNvbnN0IGluZGV4MiA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2Yoc2Vjb25kRWxlbSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoaW5kZXgxIC0gaW5kZXgyKSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIGFycmF5IG9mIGVsZW1lbnRzIGFsbCBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudC5cbiAqIEZvciBleGFtcGxlOiBJZiBhbGwgbmV1bWVzIGFyZSBpbiB0aGUgc2FtZSBzeWxsYWJsZS5cbiAqIFxuICogTm90ZSEhIFRoZXJlIGlzIGN1cnJlbnRseSBubyBsb2dpYyBmb3IgdHJlYXRpbmcgbGF5ZXIgZWxlbWVudHMgYW5kIGJib3hlcyFcbiAqIE5vdGUhISBGdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBmb3Igc3RhdmUgZWxlbWVudHMuIChTaG91bGQgaXQ/Pz8pXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHRoZSBjdXJyZW50IE5lb24gc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgaW4gcXVlc3Rpb25cbiAqIEByZXR1cm5zIHRydWUgaWYgYWxsIGVsZW1lbnRzIHNoYXJlIHRoZSBzYW1lIGxvZ2ljYWwgcGFyZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsZW0gPT4gIShlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpKTtcblxuICBpZiAoIWVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTdGFmZiA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3RhZmYpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgY29uc3QgcmVmZXJlbmNlUGFyZW50U3lsbGFibGUgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICAgIGZvciAobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN5bGxhYmxlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBcbiAqIEZvciBleGFtcGxlLCBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIG9mIHR5cGUgbmV1bWUsIG9yIHN5bGxhYmxlLCBldGMuXG4gKiBcbiAqIE5vdGUhISBUaGVyZSBpcyBubyBsb2dpYyBjdXJyZW50bHkgaW1wbGVtZW50ZWQgZm9yIGxheWVyIGVsZW1lbnRzIG9yIGJib3hlcy5cbiAqIFxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgbWF0Y2ggc2VsZWN0aW9uIG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byBjb21wYXJlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSBwYXJlbnQgdXAgdHdvIGxldmVscywgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQgKGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCB0ZW1wRWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcbiAgY29uc3QgZmlyc3RFbGVtZW50ID0gdGVtcEVsZW1lbnRzLnBvcCgpO1xuICBjb25zdCBzZWNvbmRQYXJlbnQgPSBmaXJzdEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGVtcEVsZW1lbnRzKSB7XG4gICAgY29uc3Qgc2VjUGFyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHNlY1Bhci5pZCAhPT0gc2Vjb25kUGFyZW50LmlkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHVzZXIgc2VsZWN0ZWQgZWxlbWVudHMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgdXNlci1zZWxlY3RlZCBlbGVtZW50c1xuICogQHJldHVybnMgdHJ1ZSBpZiBzZWxlY3Rpb24gaXMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aVN0YXZlU2VsZWN0aW9uKGVsZW1lbnRzOiBTVkdFbGVtZW50W10pOiBib29sZWFuIHtcbiAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuXG4gIGZvciAobGV0IGk9MDsgaTxlbGVtZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmYgPSBlbGVtZW50c0FycmF5W2ldLmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgZm9yIChsZXQgaj1pOyBqPGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGFub3RoZXJTdGFmZiA9IGVsZW1lbnRzQXJyYXlbal0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAvLyBjb21wYXJlIHdpdGggb3RoZXIgc3RhdmVzXG4gICAgICBpZiAoIXN0YWZmLmlzU2FtZU5vZGUoYW5vdGhlclN0YWZmKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQm91bmRpbmcgYm94IG9iamVjdCBpbnRlcmZhY2UgZm9yIGdldFN0YWZmQkJveCgpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZmZCQm94IHtcbiAgaWQ6IHN0cmluZztcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG4gIHJvdGF0ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYm91bmRpbmcgYm94IG9mIGEgc3RhZmYgYmFzZWQgb24gaXRzIHN0YWZmIGxpbmVzLlxuICogUm90YXRlIGlzIGluY2x1ZGVkIGluIHJhZGlhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZkJCb3ggKHN0YWZmOiBTVkdHRWxlbWVudCk6IFN0YWZmQkJveCB7XG4gIGxldCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZTtcbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLmZvckVhY2gocGF0aCA9PiB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICBpZiAocm90YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGlmICh1bHkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pIDwgdWx5KSB7XG4gICAgICB1bHkgPSBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAodWx4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMF0gPCB1bHgpIHtcbiAgICAgIHVseCA9IGNvb3JkaW5hdGVzWzBdO1xuICAgIH1cbiAgICBpZiAobHJ5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA+IGxyeSkge1xuICAgICAgbHJ5ID0gTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKGxyeCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzJdID4gbHJ4KSB7XG4gICAgICBscnggPSBjb29yZGluYXRlc1syXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGlkOiBzdGFmZi5pZCwgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUsIH07XG59XG5cbi8qKlxuICogc2VsZWN0IGEgYm91bmRpbmdib3ggZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGJib3ggKHN5bFRleHRSZWN0KSBlbGVtZW50IGluIHRoZSBET01cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIHRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RCQm94IChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBjb25zdCBiYm94ID0gZWw7XG4gIGNvbnN0IHN5bCA9IGJib3guY2xvc2VzdCgnLnN5bCcpO1xuICBpZiAoIXN5bC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzeWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBiYm94LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY29uc3QgY2xvc2VzdCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb3Nlc3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjbG9zZXN0LmNsYXNzTGlzdC5hZGQoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gICAgaWYgKG5lb25WaWV3ICE9PSB1bmRlZmluZWQgKXtcbiAgICAgIHJlc2l6ZShzeWwgYXMgU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgIH1cbiAgICBpZiAoZHJhZ0hhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICB9XG4gICAgY29uc3Qgc3lsSWQgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKS5pZDtcbiAgICBpZiAoc3lsSWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc3BhbjogSFRNTFNwYW5FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi4nICsgc3lsSWQpO1xuICAgICAgaWYgKHNwYW4pIHtcbiAgICAgICAgc3Bhbi5zdHlsZS5jb2xvciA9ICcjZDAwJztcbiAgICAgICAgc3Bhbi5zdHlsZS5mb250V2VpZ2h0ID0gJ2JvbGQnO1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3RleHQtc2VsZWN0Jyk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogU2VsZWN0IG5vdCBuZXVtZSBlbGVtZW50cy5cbiAqIEBwYXJhbSBub3ROZXVtZXMgLSBBbiBhcnJheSBvZiBub3QgbmV1bWVzIGVsZW1lbnRzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0Tm4gKG5vdE5ldW1lczogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcbiAgaWYgKG5vdE5ldW1lcy5sZW5ndGggPiAwKSB7XG4gICAgbm90TmV1bWVzLmZvckVhY2gobm4gPT4geyBzZWxlY3Qobm4pOyB9KTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn1cblxuLyoqXG4gKiBIYW5kbGUgc2VsZWN0aW5nIGFuIGFycmF5IG9mIGVsZW1lbnRzIGJhc2VkIG9uIHRoZSBzZWxlY3Rpb24gdHlwZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdEFsbCAoZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4sIG5lb25WaWV3OiBOZW9uVmlldywgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBnZXRTZWxlY3Rpb25UeXBlKCk7XG4gIHVuc2VsZWN0KCk7XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IHNlbGVjdGlvbkNsYXNzO1xuICBsZXQgY29udGFpbnNMYXllckVsZW1lbnRzID0gZmFsc2U7XG4gIGxldCBjb250YWluc05jID0gZmFsc2U7XG5cbiAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsbGFibGUnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcubmV1bWUnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcubmMnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3RhZmYnO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5zeWxUZXh0UmVjdC1kaXNwbGF5JztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TGF5ZXJFbGVtZW50JzpcbiAgICAgIHNlbGVjdGlvbkNsYXNzID0gJy5jbGVmLCAuY3VzdG9zLCAuYWNjaWQsIC5kaXZMaW5lJztcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlICcgKyBzZWxlY3Rpb25UeXBlKTtcbiAgICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIEdldCB0aGUgZ3JvdXBpbmdzIHNwZWNpZmllZCBieSBzZWxlY3Rpb25DbGFzc1xuICAvLyB0aGF0IGNvbnRhaW4gdGhlIHByb3ZpZGVkIGVsZW1lbnRzIHRvIHNlbGVjdC5cbiAgY29uc3QgZ3JvdXBzVG9TZWxlY3QgPSBuZXcgU2V0PFNWR0dFbGVtZW50PigpO1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgZWxlbWVudHMpIHtcbiAgICBsZXQgZ3JvdXBpbmcgPSBlbGVtZW50LmNsb3Nlc3Q8U1ZHR0VsZW1lbnQ+KHNlbGVjdGlvbkNsYXNzKTtcbiAgICBpZiAoZ3JvdXBpbmcgPT09IG51bGwpIHtcbiAgICAgIC8vIENoZWNrIGlmIHdlIGNsaWNrLXNlbGVjdGVkIGEgY2xlZiBvciBhIGN1c3RvcyBvciBhbiBhY2NpZCBvciBhIGRpdkxpbmVcbiAgICAgIGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0KCcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZScpO1xuICAgICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAgIGNvbnNvbGUud2FybignRWxlbWVudCAnICsgZWxlbWVudC5pZCArICcgaXMgbm90IHBhcnQgb2Ygc3BlY2lmaWVkIGdyb3VwIGFuZCBpcyBub3QgYSBjbGVmIG9yIGN1c3RvcyBvciBhY2NpZCBvciBkaXZMaW5lLicpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyB8fCB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb250YWluc05jID0gY29udGFpbnNOYyB8fCB0cnVlO1xuICAgIH1cbiAgICBncm91cHNUb1NlbGVjdC5hZGQoZ3JvdXBpbmcpO1xuXG4gICAgLy8gQ2hlY2sgZm9yIHByZWNlZGVzL2ZvbGxvd3NcbiAgICBjb25zdCBmb2xsb3dzID0gZ3JvdXBpbmcuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpO1xuICAgIGlmIChmb2xsb3dzKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGZvbGxvd3Muc2xpY2UoMSkpLmNsYXNzTGlzdC5hZGQoJ25vLW1vdmluZycpO1xuICAgICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgZm9sbG93cy5zbGljZSgxKSkpO1xuICAgIH1cbiAgICBjb25zdCBwcmVjZWRlcyA9IGdyb3VwaW5nLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJyk7XG4gICAgaWYgKHByZWNlZGVzKSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHByZWNlZGVzLnNsaWNlKDEpKS5jbGFzc0xpc3QuYWRkKCduby1tb3ZpbmcnKTtcbiAgICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIHByZWNlZGVzLnNsaWNlKDEpKSk7XG4gICAgfVxuICB9XG4gIC8vIFNlbGVjdCB0aGUgZWxlbWVudHNcbiAgZ3JvdXBzVG9TZWxlY3QuZm9yRWFjaCgoZ3JvdXA6IFNWR0dyYXBoaWNzRWxlbWVudCkgPT4gc2VsZWN0KGdyb3VwLCBkcmFnSGFuZGxlciwgZmFsc2UpKTtcblxuICAvKiBEZXRlcm1pbmUgdGhlIGNvbnRleHQgbWVudSB0byBkaXNwbGF5IChpZiBhbnkpICovXG5cbiAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbShncm91cHNUb1NlbGVjdC52YWx1ZXMoKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgLy8gSGFuZGxlIG9jY3VyYW5jZSBvZiBjbGVmIG9yIGN1c3RvcyBvciBhY2NpZCBvciBkaXZMaW5lXG4gIGlmIChjb250YWluc0xheWVyRWxlbWVudHMgJiYgIWNvbnRhaW5zTmMpIHtcbiAgICAvLyBBIGNvbnRleHQgbWVudSB3aWxsIG9ubHkgYmUgZGlzcGxheWVkIGlmIHRoZXJlIGlzIGEgc2luZ2xlIGNsZWZcbiAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckNsZWZBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgfSBlbHNlIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2N1c3RvcycpKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJDdXN0b3NBY3Rpb25zKCk7XG4gICAgfSBlbHNlIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckFjY2lkQWN0aW9ucyhncm91cHNbMF0pO1xuICAgIH0gZWxzZSBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICB9ZWxzZSB7XG4gICAgICBpZiAoc2VsZWN0aW9uVHlwZSA9PSAnc2VsQnlTeWxsYWJsZScpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdFN5bEFjdGlvbnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjtcbiAgfVxuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTcGxpdEFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgICAgICByZXNpemUoZ3JvdXBzWzBdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN0YWZmQWN0aW9ucygpO1xuICAgICAgICAgIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQ2xlZkFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjdXN0b3MnKSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJDdXN0b3NBY3Rpb25zKCk7XG4gICAgICB9IGVsc2UgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJBY2NpZEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgIH0gZWxzZSBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyhncm91cHNbMF0pO1xuICAgICAgfWVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcblxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyBUT0RPIGNoYW5nZSBjb250ZXh0IGlmIGl0IGlzIG9ubHkgYSBuZXVtZS9uYy5cbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ3NpbmdsZVNlbGVjdCcpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbGlua2VkIHN5bGxhYmxlIHNwbGl0IGJ5IGEgc3RhZmYgYnJlYWtcbiAgICAgICAgICAvLyBpZiB0aGV5IGFyZSBsaW5rYWJsZSwgdXNlciBjYW4gdG9nZ2xlIGxpbmtlZC1zeWxsc1xuICAgICAgICAgIGlmIChHcm91cGluZy5pc0xpbmthYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkgeyBcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbGlua2FibGVTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoR3JvdXBpbmcuaXNHcm91cGFibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ211bHRpU2VsZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdkZWZhdWx0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBhbGwgbG9jYXRlZCBvbiBvbmUgc3RhdmUsIHRoZXkgc2hvdWxkIGJlIGdyb3VwYWJsZVxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbXVsdGlTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgc3lsbHMgYXJlIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2RlZmF1bHQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyBUT0RPIGNoYW5nZSBjb250ZXh0IGlmIGl0IGlzIG9ubHkgYSBuYy5cbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOZXVtZUFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNHcm91cGFibGUoJ3NlbEJ5TmV1bWUnLCBncm91cHMpKSB7XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25ldW1lJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAoc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQoZ3JvdXBzKSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBzZWxlY3Rpb24gaXMgYSBsaWdhdHVyZSBvciBjYW4gYmUgYSBsaWdhdHVyZVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlc2UgbmV1bWUgY29tcG9uZW50cyBhcmUgcGFydCBvZiB0aGUgc2FtZSBuZXVtZVxuICAgICAgICAgICAgaWYgKGdyb3Vwc1swXS5wYXJlbnRFbGVtZW50ID09PSBncm91cHNbMV0ucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBuZXVtZSBjb21wb25lbnRzIGFyZSBhZGphY2VudFxuICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoY2hpbGRyZW4uaW5kZXhPZihncm91cHNbMF0pIC0gY2hpbGRyZW4uaW5kZXhPZihncm91cHNbMV0pKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgc2Vjb25kIG5ldW1lIGNvbXBvbmVudCBpcyBsb3dlciB0aGFuIGZpcnN0LlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgb3JkZXIgaW4gdGhlIGxpc3QgbWF5IG5vdCBiZSB0aGUgc2FtZSBhcyB0aGVcbiAgICAgICAgICAgICAgICAvLyBvcmRlciBieSB4LXBvc2l0aW9uLlxuICAgICAgICAgICAgICAgIGxldCBmaXJzdE5DID0gKGdyb3Vwc1swXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkMgPSAoZ3JvdXBzWzFdLmNoaWxkcmVuWzBdIGFzIFNWR1VzZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNYICA9IGZpcnN0TkMueC5iYXNlVmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQ1ggPSBzZWNvbmROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNZICA9IGZpcnN0TkMueS5iYXNlVmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQ1kgPSBzZWNvbmROQy55LmJhc2VWYWwudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAvLyBvcmRlciBuYydzIGJ5IHggY29vcmQgKGxlZnQgdG8gcmlnaHQpXG4gICAgICAgICAgICAgICAgaWYgKCAoZmlyc3ROQ1ggPiBzZWNvbmROQ1gpIFxuICAgICAgICAgICAgICAgICAgfHwgKGZpcnN0TkNYID09PSBzZWNvbmROQ1ggJiYgZmlyc3ROQ1kgPCBzZWNvbmROQ1kpKSB7XG4gICAgICAgICAgICAgICAgICBbZmlyc3ROQywgc2Vjb25kTkNdID0gW3NlY29uZE5DLCBmaXJzdE5DXTtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DWCwgZmlyc3ROQ1ksIHNlY29uZE5DWCwgc2Vjb25kTkNZXSA9IFtzZWNvbmROQ1gsIHNlY29uZE5DWSwgZmlyc3ROQ1gsIGZpcnN0TkNZXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBzdGFja2VkIG5jJ3MvbGlnYXR1cmUgKGlkZW50aWNhbCB4KSwgb3IgZGVzY2VuZGluZyBuYydzICh5IGRlc2NlbmRzKVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdE5DWCA9PT0gc2Vjb25kTkNYIHx8IGZpcnN0TkNZIDwgc2Vjb25kTkNZKSB7XG4gICAgICAgICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ2xpZ2F0dXJlJyk7IFxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25jJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25jJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgc2VsZWN0QkJveChncm91cHNbMF0sIGRyYWdIYW5kbGVyLCBuZW9uVmlldyk7XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBncm91cHMuZm9yRWFjaChnID0+IHNlbGVjdEJCb3goZywgZHJhZ0hhbmRsZXIsIHVuZGVmaW5lZCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gc2VsZWN0aW9uIHR5cGUuIFRoaXMgc2hvdWxkIG5vdCBoYXZlIG9jY3VycmVkLicpO1xuICB9XG4gIFxuICAvLyBmdW5jdGlvbiBjaGFuZ2VTdGFmZkxpc3RlbmVyKCk6IHZvaWQge1xuICAvLyB0cnkge1xuICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKVxuICAvLyAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBTZWxlY3RPcHRpb25zLmNoYW5nZVN0YWZmSGFuZGxlcik7XG4gIC8vIH0gY2F0Y2ggKGUpIHtjb25zb2xlLmRlYnVnKGUpO31cbiAgLy8gfVxufVxuIiwiaW1wb3J0IHsgcmVjb3JkTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9FcnJvckxvZyc7XG5pbXBvcnQgeyB1dWlkdjQgfSBmcm9tICcuL3JhbmRvbSc7XG5cbnR5cGUgTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0JyB8ICdlcnJvcicgfCAnd2FybmluZycgfCAnc3VjY2Vzcyc7XG5cbmNvbnN0IG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvbltdID0gbmV3IEFycmF5KDApO1xubGV0IGN1cnJlbnRNb2RlTWVzc2FnZTogTm90aWZpY2F0aW9uID0gbnVsbDtcbmxldCBub3RpZnlpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyB0byBkaXNwbGF5IGF0IGEgdGltZS5cbiAqL1xuY29uc3QgTlVNQkVSX1RPX0RJU1BMQVkgPSAzO1xuXG5jb25zdCBub3RpZmljYXRpb25JY29uOiBSZWNvcmQ8Tm90aWZpY2F0aW9uVHlwZSwgc3RyaW5nPiA9IHtcbiAgZGVmYXVsdDogJycsXG4gIHdhcm5pbmc6ICfimqDvuI8gJyxcbiAgZXJyb3I6ICfwn5S0ICcsXG4gIHN1Y2Nlc3M6ICfinIUgJyxcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0byBtYW5hZ2UgTmVvbiBub3RpZmljYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9uIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkaXNwbGF5ZWQ6IGJvb2xlYW47XG4gIGlkOiBzdHJpbmc7XG4gIGlzTW9kZU1lc3NhZ2U6IGJvb2xlYW47XG4gIHRpbWVvdXRJRDogbnVtYmVyO1xuICB0eXBlOiBOb3RpZmljYXRpb25UeXBlO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIG1lc3NhZ2UgLSBOb3RpZmljYXRpb24gY29udGVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChtZXNzYWdlOiBzdHJpbmcsIHR5cGU6IE5vdGlmaWNhdGlvblR5cGUpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBub3RpZmljYXRpb25JY29uW3R5cGVdICsgbWVzc2FnZTtcbiAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgIHRoaXMuaWQgPSB1dWlkdjQoKTtcbiAgICB0aGlzLmlzTW9kZU1lc3NhZ2UgPSBtZXNzYWdlLnNlYXJjaCgnTW9kZScpICE9PSAtMTtcbiAgICB0aGlzLnRpbWVvdXRJRCA9IC0xO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICAvKiogU2V0IHRoZSBJRCBmcm9tIHNldFRpbWVvdXQuICovXG4gIHNldFRpbWVvdXRJZCAoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGltZW91dElEID0gTWF0aC5tYXgoaWQsIC0xKTtcbiAgfVxuXG4gIC8qKiBEaXNwbGF5IHRoZSBOb3RpZmljYXRpb24uICovXG4gIGRpc3BsYXkgKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzcGxheWVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgVVVJRCBmb3IgdGhpcyBub3RpZmljYXRpb24uXG4gICAqL1xuICBnZXRJZCAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFyIHRoZSBub3RpZmljYXRpb25zIGlmIG5vIG1vcmUgZXhpc3Qgb3IgZGlzcGxheSBhbm90aGVyIGZyb20gdGhlIHF1ZXVlLlxuICogQHBhcmFtIGN1cnJlbnRJZCAtIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIGJlIGNsZWFyZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyT3JTaG93TmV4dE5vdGlmaWNhdGlvbiAoY3VycmVudElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKS5yZW1vdmUoKTtcbiAgaWYgKGN1cnJlbnRNb2RlTWVzc2FnZSAhPT0gbnVsbCAmJiBjdXJyZW50TW9kZU1lc3NhZ2UuZ2V0SWQoKSA9PT0gY3VycmVudElkKSB7XG4gICAgY3VycmVudE1vZGVNZXNzYWdlID0gbnVsbDtcbiAgfVxuICBpZiAobm90aWZpY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHN0YXJ0Tm90aWZpY2F0aW9uKCk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5lb24tbm90aWZpY2F0aW9uJykubGVuZ3RoID09PSAwKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbi1jb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBub3RpZnlpbmcgPSBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BsYXkgYSBub3RpZmljYXRpb24uXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIHRvIGRpc3BsYXkuXG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogdm9pZCB7XG4gIGlmIChub3RpZmljYXRpb24uaXNNb2RlTWVzc2FnZSkge1xuICAgIGlmIChjdXJyZW50TW9kZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRNb2RlTWVzc2FnZSA9IG5vdGlmaWNhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChjdXJyZW50TW9kZU1lc3NhZ2UudGltZW91dElEKTtcbiAgICAgIG5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgY2xlYXJPclNob3dOZXh0Tm90aWZpY2F0aW9uKGN1cnJlbnRNb2RlTWVzc2FnZS5nZXRJZCgpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgY29uc3Qgbm90aWZpY2F0aW9uQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpO1xuICBjb25zdCBuZXdOb3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ25lb24tbm90aWZpY2F0aW9uJyk7XG4gIG5ld05vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKGBuZW9uLW5vdGlmaWNhdGlvbi0ke25vdGlmaWNhdGlvbi50eXBlfWApO1xuICBuZXdOb3RpZmljYXRpb24uaWQgPSBub3RpZmljYXRpb24uZ2V0SWQoKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG5vdGlmaWNhdGlvbi5tZXNzYWdlO1xuICBub3RpZmljYXRpb25Db250ZW50LmFwcGVuZChuZXdOb3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb25Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgbm90aWZpY2F0aW9uLmRpc3BsYXkoKTtcbn1cblxuLyoqXG4gKiBTdGFydCBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbnMuIENhbGxlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5mdW5jdGlvbiBzdGFydE5vdGlmaWNhdGlvbiAoKTogdm9pZCB7XG4gIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICBub3RpZnlpbmcgPSB0cnVlO1xuICAgIGNvbnN0IGN1cnJlbnROb3RpZmljYXRpb24gPSBub3RpZmljYXRpb25zLnBvcCgpO1xuICAgIGRpc3BsYXlOb3RpZmljYXRpb24oY3VycmVudE5vdGlmaWNhdGlvbik7XG4gICAgY3VycmVudE5vdGlmaWNhdGlvbi5zZXRUaW1lb3V0SWQoXG4gICAgICB3aW5kb3cuc2V0VGltZW91dChjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24sIDUwMDAsIGN1cnJlbnROb3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgICApO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoY3VycmVudE5vdGlmaWNhdGlvbi5nZXRJZCgpKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGN1cnJlbnROb3RpZmljYXRpb24udGltZW91dElEKTtcbiAgICAgICAgY2xlYXJPclNob3dOZXh0Tm90aWZpY2F0aW9uKGN1cnJlbnROb3RpZmljYXRpb24uZ2V0SWQoKSk7XG4gICAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZCBhIG5vdGlmaWNhdGlvbiB0byB0aGUgcXVldWUuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZU5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uOiBzdHJpbmcsIHR5cGU6IE5vdGlmaWNhdGlvblR5cGUgPSAnZGVmYXVsdCcpOiB2b2lkIHtcbiAgY29uc3Qgbm90aWYgPSBuZXcgTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgdHlwZSk7XG4gIG5vdGlmaWNhdGlvbnMucHVzaChub3RpZik7XG5cbiAgaWYgKG5vdGlmLnR5cGUgPT0gJ2Vycm9yJyB8fCBub3RpZi50eXBlID09ICd3YXJuaW5nJykge1xuICAgIHJlY29yZE5vdGlmaWNhdGlvbihub3RpZik7XG4gIH1cblxuICBpZiAoIW5vdGlmeWluZyB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90aWZpY2F0aW9uLWNvbnRlbnQnKS5xdWVyeVNlbGVjdG9yQWxsKCcubmVvbi1ub3RpZmljYXRpb24nKS5sZW5ndGggPCBOVU1CRVJfVE9fRElTUExBWSkge1xuICAgIHN0YXJ0Tm90aWZpY2F0aW9uKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFyZ3NBcnJheTtcblxuZnVuY3Rpb24gYXJnc0FycmF5KGZ1bikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChsZW4pIHtcbiAgICAgIHZhciBhcmdzID0gW107XG4gICAgICB2YXIgaSA9IC0xO1xuICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bi5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgW10pO1xuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUsIFNlbGVjdGlvblR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogVGhlIG9uZSBpbnN0YW5jZSBvZiBMb2NhbFNldHRpbmdzIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGFuZFxuICogdXNlZCBieSB0aGUgZWRpdG9yLlxuICogXG4gKiBVc2UgdGhlIGZ1bmN0aW9ucyBgZ2V0U2V0dGluZ3MoKWAgYW5kIGBzZXRTZXR0aW5ncygpYFxuICogdG8gYWNjZXNzIHRoaXMgaW5zdGFuY2UuXG4gKi9cbmxldCBsb2NhbFNldHRpbmdzOiBMb2NhbFNldHRpbmdzID0gbnVsbDtcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBzZXR0aW5ncyBmb3IgZWFjaCBmb2xpb1xuICogc3RvcmVkIGluIGxvY2FsU3RvcmFnZS5cbiAqXG4gKiBFdmVyeSBrZXkgaXMgb3B0aW9uYWwgc28gdGhhdCB0aGlzIHNhbWUgdHlwaW5nXG4gKiBjYW4gYmUgdXNlZCBmb3IgYHNldFNldHRpbmdzKClgIC8gYExvY2FsU2V0dGluZ3Muc2V0KClgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgem9vbTogbnVtYmVyO1xuICBnbHlwaE9wYWNpdHk6IG51bWJlcjtcbiAgaW1hZ2VPcGFjaXR5OiBudW1iZXI7XG4gIGhpZ2hsaWdodE1vZGU6IEdyb3VwaW5nVHlwZTtcbiAgc2VsZWN0aW9uTW9kZTogU2VsZWN0aW9uVHlwZTtcbiAgZGlzcGxheUJCb3g6IGJvb2xlYW47XG4gIGRpc3BsYXlUZXh0OiBib29sZWFuO1xuICBkaXNwbGF5SW5mbzogYm9vbGVhbjtcbiAgZGlzcGxheUVyckxvZzogYm9vbGVhbjtcbiAgdmlld0JveDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MsIHdoaWNoIHNob3VsZCBiZSBzZXQgZm9yIGEgZm9saW8gd2l0aCBub1xuICogbG9jYWxTdG9yYWdlIHZhbHVlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIHVwZGF0ZWQgYWxvbmdzaWRlIHRoZSBpbnRlcmZhY2UgYFNldHRpbmdzYFxuICogYW55IHRpbWUgd2Ugd2FudCB0byBhZGQgYSBuZXcgc2V0dGluZyB0byBzdG9yZSBpbiBsb2NhbFN0b3JhZ2UuXG4gKi9cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzID0ge1xuICB6b29tOiAxMDAsXG4gIGdseXBoT3BhY2l0eTogMTAwLFxuICBpbWFnZU9wYWNpdHk6IDEwMCxcbiAgaGlnaGxpZ2h0TW9kZTogJ25vbmUnLFxuICBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTeWxsYWJsZScsXG4gIGRpc3BsYXlCQm94OiBmYWxzZSxcbiAgZGlzcGxheVRleHQ6IGZhbHNlLFxuICBkaXNwbGF5SW5mbzogZmFsc2UsXG4gIGRpc3BsYXlFcnJMb2c6IGZhbHNlLFxuICB2aWV3Qm94OiBudWxsXG59O1xuXG5jbGFzcyBMb2NhbFNldHRpbmdzIHtcbiAgaWQ6IHN0cmluZztcbiAgc2V0dGluZ3M6IFNldHRpbmdzO1xuXG4gIGNvbnN0cnVjdG9yIChmb2xpb0lkOiBzdHJpbmcpIHtcbiAgICBsb2NhbFNldHRpbmdzID0gdGhpcztcbiAgICB0aGlzLmlkID0gZm9saW9JZDtcbiAgICB0aGlzLmxvYWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlLCBhbmQgc3luYyBsb2FkZWQgc2V0dGluZ3Mgd2l0aFxuICAgKiBuZXcgZmllbGRzIHRoYXQgbWF5IG5vdCBiZSBpbiBsb2NhbFN0b3JhZ2UuXG4gICAqL1xuICBsb2FkICgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPiA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuaWQpKTtcbiAgICAgIHRoaXMuc3luYyhzdG9yZWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZiBsb2NhbFN0b3JhZ2UgdmFsdWUgaXMgbm90IGEgSlNPTiBvYmplY3QgKGZvciBpbnN0YW5jZSwgYW4gZW1wdHkgc3RyaW5nKSxcbiAgICAgIC8vIGEgU3ludGF4RXJyb3Igd2lsbCBiZSB0aHJvd24uIFdlIG11c3QgaGFuZGxlIGl0IGJ5IGNhbGxpbmcgc3luYygpXG4gICAgICAvLyB3aXRoIGFuIGVtcHR5IEpTT04gb2JqZWN0LlxuICAgICAgdGhpcy5zeW5jKHt9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG5ldyBmaWVsZHMgaW4gbG9jYWxTdG9yYWdlLCBhcyBhIFwidW5pb25cIiBvZiBvbGQgYW5kIG5ldyBzZXR0aW5ncy5cbiAgICovXG4gIHNldCAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLnRoaXMuc2V0dGluZ3MsIC4uLnBhcmFtcyB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBzZXR0aW5ncyB0aGF0IG1heSBub3QgYmUgaW5jbHVkZWQgaW4gdXNlcidzIGxvY2FsU3RvcmFnZSxcbiAgICogc3VjaCBhcyBmaWVsZHMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gbG9jYWxTdG9yYWdlIGluIGEgbmV3XG4gICAqIHVwZGF0ZSBvZiBOZW9uLlxuICAgKi9cbiAgc3luYyAoc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLkRFRkFVTFRfU0VUVElOR1MsIC4uLnN0b3JlZCB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXR0aW5ncyAoKTogU2V0dGluZ3Mge1xuICByZXR1cm4gbG9jYWxTZXR0aW5ncy5zZXR0aW5ncztcbn1cblxuLyoqXG4gKiBTZXQgc3BlY2lmaWMgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXR0aW5ncyAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICBsb2NhbFNldHRpbmdzLnNldChwYXJhbXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2NhbFNldHRpbmdzO1xuIiwiLyoqXG4gKiBIVE1MIGZvciBlYWNoIGluc2VydCB0YWIgKG5ldW1lLCBncm91cGluZywgY2xlZiwgc3lzdGVtLCBhbmQgZGl2aXNpb24pLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0VGFiSHRtbDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgcHJpbWl0aXZlVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicHVuY3R1bVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwdW5jdHVtXCIgdGl0bGU9XCJwdW5jdHVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wdW5jdHVtLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIi8+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aXJnYVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJ2aXJnYVwiIHRpdGxlPVwidmlyZ2FcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ZpcmdhLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInZpcmdhUmV2ZXJzZWRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiUmV2ZXJzZWQgVmlyZ2FcIiB0aXRsZT1cIlJldmVyc2VkIFZpcmdhXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy92aXJnYV9yZXZlcnNlZC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkaWFtb25kXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImluY2xpbmF0dW1cIiB0aXRsZT1cImluY2xpbmF0dW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2RpYW1vbmQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY3VzdG9zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImN1c3Rvc1wiIHRpdGxlPVwiY3VzdG9zXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jdXN0b3MucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY0NsZWZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiQyBDbGVmXCIgdGl0bGU9XCIgQyBDbGVmXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jQ2xlZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJmQ2xlZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJGIENsZWZcIiB0aXRsZT1cIkYgQ2xlZlwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZkNsZWYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibGlxdWVzY2VudEFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTGlxdWVzY2VudCBBXCIgdGl0bGU9XCJMaXF1ZXNjZW50IEFcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2xpcXVlc2NlbnRBLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImxpcXVlc2NlbnRDXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkxpcXVlc2NlbnQgQ1wiIHRpdGxlPVwiTGlxdWVzY2VudCBDXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9saXF1ZXNjZW50Qy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJmbGF0XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkZsYXRcIiB0aXRsZT1cIkZsYXRcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2FjY2lkRmxhdC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJuYXR1cmFsXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIk5hdHVyYWxcIiB0aXRsZT1cIk5hdHVyYWxcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2FjY2lkTmF0dXJhbC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD4gXG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGl2TGluZU1heGltYVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJEaXZMaW5lIE1heGltYVwiIHRpdGxlPVwiRGl2TGluZSBNYXhpbWFcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2RpdmlzaW8ucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+YCxcbiAgZ3JvdXBpbmdUYWI6IFxuICAgICAgICBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwZXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicGVzXCIgdGl0bGU9XCJwZXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Blcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGl2aXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpdmlzXCIgdGl0bGU9XCJjbGl2aXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaXZpcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzY2FuZGljdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwic2NhbmRpY3VzXCIgdGl0bGU9XCJzY2FuZGljdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NjYW5kaWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGltYWN1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjbGltYWN1c1wiIHRpdGxlPVwiY2xpbWFjdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaW1hY3VzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInRvcmN1bHVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInRvY3VsdXNcIiB0aXRsZT1cInRvY3VsdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3RvcmN1bHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInBvcnJlY3R1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwb3JyZWN0dXNcIiB0aXRsZT1cInBvcnJlY3R1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcG9ycmVjdHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByZXNzdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHJlc3N1c1wiIHRpdGxlPVwicHJlc3N1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHJlc3N1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5gLFxuICBzeXN0ZW1UYWI6IFxuICAgICAgICBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzdGFmZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgbG9uZ2VsXCIgYXJpYS1sYWJlbD1cInN5c3RlbVwiIHRpdGxlPVwic3lzdGVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zdGFmZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+Q2xpY2sgdXBwZXIgbGVmdCBhbmQgbG93ZXIgcmlnaHQgY29ybmVycyBvZiBuZXcgc3RhZmYuPC9wPmBcbiAgLy8gZGl2aXNpb25UYWI6IFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgKyAgICBcbiAgLy8gXCI8YnV0dG9uIGlkPSdzbWFsbERpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL3NtYWxsZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vICAgICBcIjxidXR0b24gaWQ9J21pbm9yRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvbWlub3JkaXYucG5nXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vICAgICBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gXCI8YnV0dG9uIGlkPSdtYWpvckRpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL21ham9yZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vIFwiPGJ1dHRvbiBpZD0nZmluYWxEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9maW5hbGRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIlxufTtcblxuLyoqXG4gKiBTdHJ1Y3R1cmUgb2YgaW5zZXJ0IHBhbmVsIHdpdGggYmFzaWMgZ3JvdXBpbmcgdGFicy5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydENvbnRyb2xzUGFuZWwgPVxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiaW5zZXJ0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZVwiPklOU0VSVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVJbnNlcnRcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdy15OiBoaWRkZW47XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInBhbmVsLXRhYnNcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInByaW1pdGl2ZVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+UHJpbWl0aXZlIEVsZW1lbnRzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiZ3JvdXBpbmdUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPkdyb3VwaW5nPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwic3lzdGVtVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5TeXN0ZW08L2E+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0X2RhdGFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBlZGl0IHBhbmVsIHdpdGggYnV0dG9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRDb250cm9sc1BhbmVsID1cbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImVkaXRNZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlIGZvY3VzZWRcIj5FRElUPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uIGlzLXB1bGxlZC1yaWdodFwiPlxuICAgICAgICAgICAgPHVzZSBpZD1cInRvZ2dsZUVkaXRcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImVkaXRDb250ZW50c1wiIGNsYXNzPVwicGFuZWwtY29udGVudHNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBmaXJzdC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLXN1Yi10aXRsZVwiPlNlbGVjdGlvbiBNb2RlOjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzZWxlY3Rpb24tbW9kZS1idG5zLWNvbnRhaW5lclwiICBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIiBzdHlsZT1cIm92ZXJmbG93LXg6IGF1dG87XCI+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieSBpcy1hY3RpdmVcIiBpZD1cInNlbEJ5U3lsbGFibGVcIj5TeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOZXVtZVwiPk5ldW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeU5jXCI+TmV1bWUgQ29tcG9uZW50PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN0YWZmXCI+U3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TGF5ZXJFbGVtZW50XCI+TGF5ZXIgRWxlbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1zbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibW9yZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXh0cmFFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwhLS1cbiAgICAgICAgICAgICAgICAgICAgKiBUaGUgZXh0cmFFZGl0IHBhbmVsIGlzIGFkZGVkIGZvciBlZGl0IG9wdGlvbnMgdGhhdCBoYXZlIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgICogTGlrZSB0aGUgTmV1bWUgYW5kIENsZWYgbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIGRvbmUgYmVjYXVzZSB0aGUgbW9yZUVkaXQgbWVudSBuZWVkcyB0byBoYXZlIG92ZXJmbG93IGZvciBjYXNlcyB3aGVyZSBpdCBoYXMgbG90cyBvZiBidXR0b25zXG4gICAgICAgICAgICAgICAgICAgICogQnV0IG92ZXJmbG93IHJ1aW5zIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJuZXVtZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bmRvUmVkb19jb250cm9sc1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkNoYW5nZSBIZWFkIFNoYXBlOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWQgU2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlB1bmN0dW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5QdW5jdHVtPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVmlyZ2FcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJnYTwvYT4gXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJMaXF1ZXNjZW50Q2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBDPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudEFudGljbG9ja3dpc2VcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5MaXF1ZXNjZW50IEE8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInNwbGl0LW5ldW1lXCI+U3BsaXQgTmV1bWVzPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBuZXVtZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+R3JvdXBpbmcgT3B0aW9uczo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Hcm91cGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnQgc2Nyb2xsYWJsZS1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBlcyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpdmlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpdmlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaW1hY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpbWFjdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGltYWN1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPkNsaW1hY3VzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJUb3JjdWx1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlRvcmN1bHVzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c0ZsZXh1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1cyBGbGV4dXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNTdWJwdW5jdGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzIFN1YnB1bmN0aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQcmVzc3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UHJlc3N1czwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOY3NcIj5Vbmdyb3VwPC9idXR0b24+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBzdGFmZiBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+TWVyZ2UgU3lzdGVtczo8L2xhYmVsPlxuICAgIDxidXR0b24gaWQ9XCJtZXJnZS1zeXN0ZW1zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPk1lcmdlPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0QWN0aW9uQ29udGVudHMgPSBcbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUgd2hlbiBzZWxlY3RpbmcgYnkgc3lsbGFibGVcbiAqIFNhbWUgYXMgYWJvdmUgZXhjZXB0IGluY2x1ZGVzIHJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0U3lsQWN0aW9uQ29udGVudHMgPVxuICAgIGA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPmA7XG4gICAgXG4vKipcbiAqIENvbnRlbnRzIG9mIGN1c3RvcyBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3Rvc0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBsYXllciBlbGVtZW50IChvdXRzaWRlIHN5bGxhYmxlKSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJpbnNlcnRUb1N5bGxhYmxlXCI+SW5zZXJ0IHRvIG5lYXJlc3Qgc3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBsYXllciBlbGVtZW50IChpbnNpZGUgc3lsbGFibGUpIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgbGF5ZXJFbGVtZW50SW5BY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibW92ZU91dHNpZGVTeWxsYWJsZVwiPk1vdmUgb3V0c2lkZSBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYWNjaWRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxsYWJlbD5DaGFuZ2UgQWNjaWRlbnRhbDo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwib3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlNoYXBlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb0ZsYXRcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5GbGF0PC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9OYXR1cmFsXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TmF0dXJhbDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIHNwbGl0IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3Qgc3BsaXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXY+U3BsaXQgU3lzdGVtOjwvZGl2PlxuICAgIDxkaXYgaWQ9XCJzcGxpdC1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInNwbGl0LXN5c3RlbVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5TcGxpdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwicmVzZXQtcm90YXRlXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPlJlc2V0IFJvdGF0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgY2xlZiBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWZBY3Rpb25Db250ZW50cyA9XG4gICAgYFxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIiBvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5EaXNwbGFjZSBPY3RhdmU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiaW5jcmVtZW50LW9jdGF2ZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPisxIE9jdGF2ZTwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJkZWNyZW1lbnQtb2N0YXZlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+LTEgT2N0YXZlPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCIgb3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2hhbmdlIENsZWYgU2hhcGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiQ0NsZWZcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5DIENsZWY8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiRkNsZWZcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5GIENsZWY8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYDtcblxuLyoqXG4gKiBIVE1MIGZvciBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGdyb3VwaW5nTWVudSA9IHtcbiAgbmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIG1vcmUtZWRpdC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgbmV1bWU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJncm91cE5ldW1lc1wiPkdyb3VwIE5ldW1lczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YCxcbiAgc3lsOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibWVyZ2VTeWxzXCI+TWVyZ2UgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuXHRcdDwvZGl2PmAsXG4gIGxpZ2F0dXJlTmM6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOY3NcIj5Hcm91cCBOZXVtZSBDb21wb25lbnRzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YCxcbiAgbGlnYXR1cmU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInRvZ2dsZS1saWdhdHVyZVwiPlRvZ2dsZSBMaWdhdHVyZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+YCxcbiAgc3BsaXRTeWxsYWJsZTogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlua1wiPlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5gXG59O1xuXG5cblxuLyogQkdJTk5JTkcgT0YgTU9EQUwgV0lORE9XIENPTlRFTlQgU0VDVElPTiAqL1xuXG4vKipcbiAqIEhUTUwgZm9yIEVkaXQgU3lsbGFibGUgVGV4dCBtb2RhbCB3aW5kb3dcbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRUZXh0TW9kYWwgPSBcbiAgICBgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtZWRpdC10ZXh0XCI+XG4gICAgICAgIDxsYWJlbCBmb3I9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1sYWJlbFwiPkVudGVyIFN5bGxhYmxlIFRleHQ6PC9sYWJlbD5cbiAgICAgICAgPGlucHV0IGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgdHlwZT1cInRleHRcIj5cbiAgICAgICAgPGRpdiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1idG5zXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWxcIj5DYW5jZWw8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiIGlkPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmVcIj5TYXZlPC9kaXY+ICAgICAgICBcbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuXG4vKipcbiAqIEhUTUwgZm9yIEhvdGtleXMgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBob3RrZXlzTW9kYWwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnRcIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtaG90a2V5c1wiPlxuICAgICAgICA8IS0tIFwiRGlzcGxheVwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+RGlzcGxheTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gSW48L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4tPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gT3V0PC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPjA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+Wm9vbSBSZXNldDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5oPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPkhpZGUgR2x5cGg8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8IS0tIFwiRWRpdFwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+RWRpdDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+Q3RybDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5vcjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+4oyYPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5VbmRvPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkN0cmw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5vcjwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+4oyYPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlJlZG88L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+cS93L2Uvci90L3k8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIEhpZ2hsaWdodCBieSBTdGFmZi9TeWxsYWJsZS9OZXVtZS9MYXllckVsZW1lbnQvU2VsZWN0aW9uL09mZlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4xLzIvMy80PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBTZWxlY3QgYnkgU3lsbGFibGUvTmV1bWUvTmV1bWUgQ29tcG9uZW50L1N0YWZmXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+TnVtYmVyPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBCZWdpbiBJbnNlcnQgZm9yIHRoZSA8aT5udGg8L2k+IG9wdGlvbiBpbiB0aGUgc2VsZWN0ZWQgdGFiXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBcIk90aGVyXCIgaG90a2V5cyAtLT5cbiAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktdGl0bGVcIj5PdGhlcjwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+czwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5TYXZlIEZpbGU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+RXNjPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlJldHVybiB0byBFZGl0IE1vZGU8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5leHBvcnQgY29uc3Qgc3lsbGFibGVBY3Rpb25zQ29udGVudCA9IGBcbiAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICA8L2Rpdj5cbmA7XG5cbmV4cG9ydCBjb25zdCBlcnJvckxvZ3NQYW5lbENvbnRlbnRzID0gXG4gICAgYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlcnJvckxvZ0hlYWRpbmdcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5FcnJvciBMb2c8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFcnJvckxvZ1wiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgaWQ9XCJlcnJvckxvZ0NvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdzogdmlzaWJsZTsgcGFkZGluZzogMC41ZW0gMC43NWVtO1wiPjxkaXY+YDtcbiIsIm1vZHVsZS5leHBvcnRzID0gZDM7IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuLyoqXG4gKiBDb252ZXJ0IGFycmF5IG9mIDE2IGJ5dGUgdmFsdWVzIHRvIFVVSUQgc3RyaW5nIGZvcm1hdCBvZiB0aGUgZm9ybTpcbiAqIFhYWFhYWFhYLVhYWFgtWFhYWC1YWFhYLVhYWFhYWFhYWFhYWFxuICovXG5cbnZhciBieXRlVG9IZXggPSBbXTtcblxuZm9yICh2YXIgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICBieXRlVG9IZXgucHVzaCgoaSArIDB4MTAwKS50b1N0cmluZygxNikuc3Vic3RyKDEpKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5naWZ5KGFycikge1xuICB2YXIgb2Zmc2V0ID0gYXJndW1lbnRzLmxlbmd0aCA+IDEgJiYgYXJndW1lbnRzWzFdICE9PSB1bmRlZmluZWQgPyBhcmd1bWVudHNbMV0gOiAwO1xuICAvLyBOb3RlOiBCZSBjYXJlZnVsIGVkaXRpbmcgdGhpcyBjb2RlISAgSXQncyBiZWVuIHR1bmVkIGZvciBwZXJmb3JtYW5jZVxuICAvLyBhbmQgd29ya3MgaW4gd2F5cyB5b3UgbWF5IG5vdCBleHBlY3QuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQvcHVsbC80MzRcbiAgdmFyIHV1aWQgPSAoYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDFdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAzXV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDRdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA2XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDddXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA5XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEwXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDExXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEyXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDEzXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDE1XV0pLnRvTG93ZXJDYXNlKCk7IC8vIENvbnNpc3RlbmN5IGNoZWNrIGZvciB2YWxpZCBVVUlELiAgSWYgdGhpcyB0aHJvd3MsIGl0J3MgbGlrZWx5IGR1ZSB0byBvbmVcbiAgLy8gb2YgdGhlIGZvbGxvd2luZzpcbiAgLy8gLSBPbmUgb3IgbW9yZSBpbnB1dCBhcnJheSB2YWx1ZXMgZG9uJ3QgbWFwIHRvIGEgaGV4IG9jdGV0IChsZWFkaW5nIHRvXG4gIC8vIFwidW5kZWZpbmVkXCIgaW4gdGhlIHV1aWQpXG4gIC8vIC0gSW52YWxpZCBpbnB1dCB2YWx1ZXMgZm9yIHRoZSBSRkMgYHZlcnNpb25gIG9yIGB2YXJpYW50YCBmaWVsZHNcblxuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdTdHJpbmdpZmllZCBVVUlEIGlzIGludmFsaWQnKTtcbiAgfVxuXG4gIHJldHVybiB1dWlkO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzdHJpbmdpZnk7IiwiZXhwb3J0IGRlZmF1bHQgL14oPzpbMC05YS1mXXs4fS1bMC05YS1mXXs0fS1bMS01XVswLTlhLWZdezN9LVs4OWFiXVswLTlhLWZdezN9LVswLTlhLWZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDApJC9pOyIsImltcG9ydCBSRUdFWCBmcm9tICcuL3JlZ2V4LmpzJztcblxuZnVuY3Rpb24gdmFsaWRhdGUodXVpZCkge1xuICByZXR1cm4gdHlwZW9mIHV1aWQgPT09ICdzdHJpbmcnICYmIFJFR0VYLnRlc3QodXVpZCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHZhbGlkYXRlOyIsImltcG9ydCB7IGdldFN0YWZmQkJveCB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFBvaW50IHtcbiAgeDogbnVtYmVyO1xuICB5OiBudW1iZXI7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQkJveCB7XG4gIHVseDogbnVtYmVyO1xuICB1bHk6IG51bWJlcjtcbiAgbHJ4OiBudW1iZXI7XG4gIGxyeTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdldCBTVkcgcmVsYXRpdmUgY29vcmRpbmF0ZXMgZ2l2ZW4gY2xpZW50WCBhbmQgY2xpZW50WVxuICogU291cmNlOiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yOTI2MTMwNFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U1ZHUmVsQ29vcmRzIChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IFBvaW50IHtcbiAgY29uc3QgcHQgPSBuZXcgRE9NUG9pbnQoY2xpZW50WCwgY2xpZW50WSk7XG4gIGNvbnN0IHN2ZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHU1ZHRWxlbWVudD4oJy5hY3RpdmUtcGFnZSA+IC5kZWZpbml0aW9uLXNjYWxlJyk7XG4gIGNvbnN0IHN5c3RlbSA9IHN2Zy5xdWVyeVNlbGVjdG9yPFNWR0dFbGVtZW50PignLnN5c3RlbScpO1xuXG4gIGNvbnN0IHsgeCwgeSB9ID0gcHQubWF0cml4VHJhbnNmb3JtKHN5c3RlbS5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpO1xuICByZXR1cm4geyB4LCB5IH07XG5cbiAgLy8gSWYgdGhlcmUgaXMgc29tZSBpc3N1ZSB3aXRoIGNvb3JkaW5hdGVzLCB0aGlzIG1heSBmaXggdGhlIGlzc3VlOlxuICAvLyBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcjc3ZnX2dyb3VwJyk7XG4gIC8vIGNvbnN0IHsgeCwgeSB9ID0gcHQubWF0cml4VHJhbnNmb3JtKHN2Zy5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCkpO1xufVxuXG4vKipcbiAqIEdldCBJRCBvZiBzdGFmZiBieSBjbGllbnQncyB4LXkgY29vcmRpbmF0ZXMuXG4gKiBUaGlzIGZ1bmN0aW9uIGNvbnNpZGVycyB0aGUgKnZpc3VhbCogYm91bmRpbmcgYm94IG9mIHRoZSBzdGFmZlxuICogYmFzZWQgb24gaXRzIHN0YWZmIGxpbmVzLCBpbnN0ZWFkIG9mIHRoZSBTVkcgZWxlbWVudCBpdHNlbGYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZklkQnlDb29yZHMgKGNsaWVudFg6IG51bWJlciwgY2xpZW50WTogbnVtYmVyKTogc3RyaW5nIHtcbiAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsPFNWR0dFbGVtZW50PignLnN0YWZmJykpO1xuICBjb25zdCBzdGFmZkJCb3hlcyA9IHN0YXZlcy5tYXAoc3RhZmYgPT4gZ2V0U3RhZmZCQm94KHN0YWZmKSk7XG5cbiAgLy8gZmluZCB0aGUgc3RhZmYgdGhhdCB0aGUgY3Vyc29yIGlzIGluc2lkZVxuICBjb25zdCB7IHgsIHkgfSA9IGdldFNWR1JlbENvb3JkcyhjbGllbnRYLCBjbGllbnRZKTtcbiAgY29uc3Qgc3RhZmYgPSBzdGFmZkJCb3hlcy5maW5kKFxuICAgIChiYm94KSA9PiB4IDw9IGJib3gubHJ4ICYmIHggPj0gYmJveC51bHggJiYgeSA8PSBiYm94LmxyeSAmJiB5ID49IGJib3gudWx5XG4gICk7IFxuXG4gIC8vIElmIHRoZXJlIGlzIGlzc3VlcyB3aXRoIGZpbmRpbmcgdGhlIHN0YWZmLCB0aGlzIG1heSBiZSBtb3JlIGFjY3VyYXRlOlxuICAvLyByZXR1cm4gKHB0LnggPiB1bHggJiYgcHQueCA8IGxyeCkgJiZcbiAgLy8gICAocHQueSA+ICh1bHkgKyAocHQueCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpKSkgJiZcbiAgLy8gICAocHQueSA8IChscnkgLSAobHJ4IC0gcHQueCkgKiBNYXRoLnRhbihyb3RhdGUpKSk7XG5cbiAgLy8gaWYgdGhlIGN1cnNvciBpcyBub3QgaW5zaWRlIGFueSBzdGFmZiwgdGhlbiBleHBsaWNpdGx5IHJldHVybiBudWxsXG4gIHJldHVybiBzdGFmZiA/IHN0YWZmLmlkIDogbnVsbDtcbn1cblxuLyoqXG4gKiBHZXQgc3RhZmYgYnkgY2xpZW50J3MgeC15IGNvb3JkaW5hdGVzOyB3cmFwcGVyIGZvciBnZXRTdGFmZklkQnlDb29yZHMsIGJ1dFxuICogICByZXR1cm5zIHRoZSBlbGVtZW50LCBub3QgdGhlIElEXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZkJ5Q29vcmRzIChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IFNWR0dFbGVtZW50IHwgbnVsbCB7XG4gIGNvbnN0IHN0YWZmSWQgPSBnZXRTdGFmZklkQnlDb29yZHMoY2xpZW50WCwgY2xpZW50WSk7XG4gIHJldHVybiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtzdGFmZklkfWApO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNPdXRPZlNWR0JvdW5kcyAoeDogbnVtYmVyLCB5OiBudW1iZXIpOiBib29sZWFuIHtcbiAgY29uc3QgYmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR0ltYWdlRWxlbWVudD4oJyNiZ2ltZycpO1xuICBcbiAgcmV0dXJuIChcbiAgICB4IDw9IDAgfHwgeCA+PSBOdW1iZXIoYmdJbWcuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKSB8fFxuICAgIHkgPD0gMCB8fCB5ID49IE51bWJlcihiZ0ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKVxuICApO1xufVxuXG4vKipcbiAqIEdldCBib3VuZGluZyBib3ggKGxyeCwgbHJ5LCB1bHgsIHVseSkgb2YgYSBnbHlwaCwgd2hpY2hcbiAqIGlzIGEgPHVzZT4gZWxlbWVudCBpbiB0aGUgU1ZHXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRHbHlwaEJCb3ggKGc6IFNWR1JlY3RFbGVtZW50IHwgU1ZHVXNlRWxlbWVudCk6IEJCb3gge1xuICBjb25zdCByZWN0ID0gKGcudGFnTmFtZSA9PSAncmVjdCcpID8gZy5nZXRCQm94KCkgOiAoZy5wYXJlbnROb2RlIGFzIFNWR0dFbGVtZW50KS5nZXRCQm94KCk7XG5cbiAgcmV0dXJuIHtcbiAgICB1bHg6IHJlY3QueCxcbiAgICB1bHk6IHJlY3QueSxcbiAgICBscng6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgbHJ5OiByZWN0LnkgKyByZWN0LmhlaWdodFxuICB9O1xufVxuXG4iLCJ2YXIgZztcblxuLy8gVGhpcyB3b3JrcyBpbiBub24tc3RyaWN0IG1vZGVcbmcgPSAoZnVuY3Rpb24oKSB7XG5cdHJldHVybiB0aGlzO1xufSkoKTtcblxudHJ5IHtcblx0Ly8gVGhpcyB3b3JrcyBpZiBldmFsIGlzIGFsbG93ZWQgKHNlZSBDU1ApXG5cdGcgPSBnIHx8IG5ldyBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCk7XG59IGNhdGNoIChlKSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgdGhlIHdpbmRvdyByZWZlcmVuY2UgaXMgYXZhaWxhYmxlXG5cdGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSBnID0gd2luZG93O1xufVxuXG4vLyBnIGNhbiBzdGlsbCBiZSB1bmRlZmluZWQsIGJ1dCBub3RoaW5nIHRvIGRvIGFib3V0IGl0Li4uXG4vLyBXZSByZXR1cm4gdW5kZWZpbmVkLCBpbnN0ZWFkIG9mIG5vdGhpbmcgaGVyZSwgc28gaXQnc1xuLy8gZWFzaWVyIHRvIGhhbmRsZSB0aGlzIGNhc2UuIGlmKCFnbG9iYWwpIHsgLi4ufVxuXG5tb2R1bGUuZXhwb3J0cyA9IGc7XG4iLCJpbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCAqIGFzIEdyb3VwaW5nIGZyb20gJy4vR3JvdXBpbmcnO1xuaW1wb3J0IE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0U3RhZmZIYW5kbGVyIH0gZnJvbSAnLi9TdGFmZlRvb2xzJztcbmltcG9ydCB7IFNwbGl0TmV1bWVIYW5kbGVyIH0gZnJvbSAnLi9OZXVtZVRvb2xzJztcbmltcG9ydCB7XG4gIENoYWluQWN0aW9uLFxuICBDaGFuZ2VTdGFmZkFjdGlvbixcbiAgRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uLFxuICBFZGl0b3JBY3Rpb24sXG4gIFJlbW92ZUFjdGlvbixcbiAgU2V0QWN0aW9uLFxuICBTZXRDbGVmQWN0aW9uXG59IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGdldFN0YWZmQkJveCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcblxuLyoqXG4gKiBUaGUgTmVvblZpZXcgcGFyZW50IHRvIGNhbGwgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBOZW9uVmlldy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xuICBHcm91cGluZy5pbml0TmVvblZpZXcodmlldyk7XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGluY2xpbmF0dW0gcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRJbmNsaW5hdHVtQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIHZpcmdhIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0VmlyZ2FBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgcmV2ZXJzZWQgdmlyZ2EgcGFyYW1ldGVyIG9mIGEgbmV1bWUgY29tcG9uZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGxpcXVlc2NlbnRfY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgYXR0clZhbHVlOiAnJ1xuICAgIH1cbiAgfTtcbn1cblxuLyoqXG4gKiBAcGFyYW0gaWQgLSBUaGUgaWQgb2YgdGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqIEByZXR1cm5zIEFuIGFjdGlvbiB0aGF0IHVuc2V0cyB0aGUgbGlxdWVzY2VudF9hbnRpY2xvY2t3aXNlIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ2N1cnZlJyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKiBFdmVudCBoYW5kbGVyIGZvciBkZWxldGUgYnV0dG9uIHByZXNzLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUJ1dHRvbkhhbmRsZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICBpZiAoZXZ0LmtleSA9PT0gJ2QnIHx8IGV2dC5rZXkgPT09ICdCYWNrc3BhY2UnKSB7IHJlbW92ZUhhbmRsZXIoKTsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IH1cbn1cblxuLyoqXG4gKiBFbmQgdGhlIGV4dHJhIG9wdGlvbnMgbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZE9wdGlvbnNTZWxlY3Rpb24gKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBjb25zdCBleHRyYUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0Jyk7XG4gIGlmIChtb3JlRWRpdCkge1xuICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH1cbiAgaWYgKGV4dHJhRWRpdCkge1xuICAgIGV4dHJhRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICBleHRyYUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgfVxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbn1cblxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZW1vdmluZyBlbGVtZW50c1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVtb3ZlSGFuZGxlciAoKTogdm9pZCB7XG4gIGNvbnN0IHRvUmVtb3ZlOiBSZW1vdmVBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJyk7XG4gICAgfVxuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLmFjY2lkJyk7XG4gICAgfVxuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICBlbGVtID0gZWxlbS5jbG9zZXN0KCcuZGl2TGluZScpO1xuICAgIH1cbiAgICB0b1JlbW92ZS5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBDaGFpbkFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvUmVtb3ZlXG4gIH07XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHsgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIHJlLWFzc29jaWF0aW5nIGVsZW1lbnRzIHRvIHRoZSBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjaGFuZ2VTdGFmZkhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvQ2hhbmdlOiBDaGFuZ2VTdGFmZkFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b0NoYW5nZS5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdjaGFuZ2VTdGFmZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IHRvQ2hhbmdlXG4gIH07XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHsgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgfSk7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gaGFuZGxlIGluc2VydGluZyBkaXZpc2lvIG9yIGFjY2lkZW50YWwgaW50byBuZWFyZXN0IHN5bGxhYmxlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcigpOiB2b2lkIHtcbiAgY29uc3QgdG9JbnNlcnQ6IEVkaXRvckFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b0luc2VydC5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdpbnNlcnRUb1N5bGxhYmxlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b0luc2VydFxuICB9O1xuICBuZW9uVmlldy5lZGl0KGNoYWluQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4geyBcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0luc2VydCBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdJbnNlcnQgRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gIH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSBtb3ZpbmcgZGl2aXNpbyBvciBhY2NpZGVudGFsIG91dCBvZiBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvTW92ZTogRWRpdG9yQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIHRvTW92ZS5wdXNoKFxuICAgICAge1xuICAgICAgICBhY3Rpb246ICdtb3ZlT3V0c2lkZVN5bGxhYmxlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b01vdmVcbiAgfTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNb3ZlIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01vdmUgRmFpbGVkIFhvWCcsICdlcnJvcicpO1xuICAgIH1cbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTsgXG4gIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgdGhlIGV4dHJhIGxheWVyIGVsZW1lbnQgYWN0aW9uIG1lbnUgZm9yIGEgc2VsZWN0aW9uLlxuICovXG4vLyAgZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zICgpOiB2b2lkIHtcbi8vICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4vLyAgICAgbW9yZUVkaXQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtaGlkZGVuJyk7XG4vLyAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzO1xuLy8gICB9IGNhdGNoIChlKSB7fVxuXG4vLyAgIHRyeSB7XG4vLyAgICAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuLy8gICAgIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuLy8gICAgIGRlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuLy8gICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuLy8gICB9IGNhdGNoIChlKSB7fVxuLy8gfVxuXG5mdW5jdGlvbiBhZGREZWxldGVMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuXG4gIGlmIChkZWwpIHtcbiAgICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcblxuICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIG91dHNpZGUgdGhlIGlmIGNvbmRpdGlvbj9cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKTtcbiAgc3RhZmY/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgc3RhZmY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBzZXQgdGhlIEhUTUwgY29udGVudCBvZiBlZGl0IGNvbnRyb2xzOiBlaXRoZXIgI21vcmVFZGl0IG9yICNleHRyYUVkaXRcbiAqXG4gKiBAcGFyYW0geydtb3JlRWRpdCcgfCAnZXh0cmFFZGl0J30gZWRpdFR5cGUgLSBUaGUgdHlwZSBvZiBlZGl0IGNvbnRyb2xzXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudHMgLSBUaGUgaW5uZXJIVE1MIGNvbnRlbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlcGxhY2UgLSBJcyB0aGUgaW5uZXJIVE1MIGJlaW5nIHJlcGxhY2VkLCBvciBiZWluZyBhZGRlZCB0bz9cbiAqL1xuZnVuY3Rpb24gc2V0RWRpdENvbnRyb2xzKGVkaXRUeXBlOiAnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCcsIGNvbnRlbnRzOiBzdHJpbmcsIHJlcGxhY2UgPSB0cnVlKTogdm9pZCB7XG4gIGNvbnN0IGVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0VHlwZSk7XG4gIFxuICBpZiAoZWRpdCkge1xuICAgIGVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAocmVwbGFjZSkgZWRpdC5pbm5lckhUTUwgPSBjb250ZW50cztcbiAgICBlbHNlIGVkaXQuaW5uZXJIVE1MICs9IGNvbnRlbnRzO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZXh0cmEgbmMgYWN0aW9uIG1lbnUgZm9yIGEgc2VsZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5jQWN0aW9ucyAobmM6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmNBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1B1bmN0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNJbmNsaW5hdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0SW5jbGluYXR1bTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzZSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRJbmNsaW5hdHVtIF0gfSAsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRWaXJnYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldEluY2xpbmF0dW0sIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0VmlyZ2EgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2FSZXZlcnNlZC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhUmV2ZXJzZWQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYVJldmVyc2VkIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0xpcXVlc2NlbnRDbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2N1cnZlJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdjJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldExpcXVlc2NlbnRDbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7ICBcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgbmV1bWUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJOZXVtZUFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5uZXVtZUFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBjb25zdCBuZXVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpO1xuICBpZiAobmV1bWUubGVuZ3RoICE9PSAxKSB7XG4gICAgY29uc29sZS53YXJuKCdNb3JlIHRoYW4gb25lIG5ldW1lIHNlbGVjdGVkISBDYW5ub3QgdHJpZ2dlciBOZXVtZSBDbGlja1NlbGVjdCBhY3Rpb25zLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRPRE8gYWRkIHRyaWdnZXIgZm9yIHNwbGl0IGFjdGlvblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BsaXQtbmV1bWUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldW1lLnNlbGVjdGVkJykgYXMgU1ZHR0VsZW1lbnQ7XG4gICAgICBpZiAobmV1bWUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc3BsaXQgPSBuZXcgU3BsaXROZXVtZUhhbmRsZXIobmVvblZpZXcsIG5ldW1lKTtcbiAgICAgICAgc3BsaXQuc3RhcnRTcGxpdCgpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQhJyk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUGVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUGVzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaXZpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1NjYW5kaWN1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1NjYW5kaWN1c0ZsZXh1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1NjYW5kaWN1c1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGltYWN1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaW1hY3VzUmVzdXBpbnVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVG9yY3VsdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNUb3JjdWx1c1Jlc3VwaW51cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BvcnJlY3R1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BvcnJlY3R1c0ZsZXh1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BvcnJlY3R1c1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQcmVzc3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuXG4gIGZ1bmN0aW9uIHRyaWdnZXJDaGFuZ2VHcm91cCAoY29udG91cjogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY2hhbmdlR3JvdXBpbmdBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYW5nZUdyb3VwJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogbmV1bWVbMF0uaWQsXG4gICAgICAgIGNvbnRvdXI6IGNvbnRvdXJcbiAgICAgIH1cbiAgICB9O1xuICAgIG5lb25WaWV3LmVkaXQoY2hhbmdlR3JvdXBpbmdBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBzeWxsYWJsZSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN5bGxhYmxlQWN0aW9ucyAoc2VsZWN0aW9uVHlwZTogc3RyaW5nKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3lsbGFibGVBY3Rpb25zQ29udGVudCk7XG4gIC8vIGluaXRpYWxpemUgdmFyaWFibGUgdGhhdCB3aWxsIGhvbGQgaHRtbCB0byBiZSBhZGRlZCB0byBEaXNwbGF5IHBhbmVsXG4gIGxldCBleHRyYUFjdGlvbnNIVE1MID0gJyc7XG5cbiAgLy8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIHNlbGVjdGlvbiB0aGF0IHdhcyBtYWRlIGJ5IHRoZSB1c2VyXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgLy8gb25seSBvbmUgc3lsbGFibGVcbiAgICBjYXNlICdzaW5nbGVTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ1bmdyb3VwTmV1bWVzXCI+VW5ncm91cDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vIHR3byBzeWxsYWJsZXMgb24gc2VwYXJhdGUgc3RhdmVzXG4gICAgY2FzZSAnbGlua2FibGVTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlua1wiPlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gdG93IG9yIG1vcmUgc3lsbGFibGVzIG9uIG9uZSBzdGFmZlxuICAgIGNhc2UgJ211bHRpU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibWVyZ2VTeWxzXCI+TWVyZ2UgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy9kZWZhdWx0IG9wdGlvbnNcbiAgICBjYXNlICdkZWZhdWx0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICB9XG5cbiAgLy8gc2V0IGNvbnRlbnQgb2YgYWRkaXRpb25hbCBhY3Rpb25zIGluIERpc3BsYXkgcGFuZWwgXG4gIC8vIGFuZCBpbml0aWFsaXplIG5lY2Vzc2FyeSBsaXN0ZW5lcnNcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIGV4dHJhQWN0aW9uc0hUTUwsIHRydWUpO1xuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgY2xlZiBhY3Rpb25zIGZvciBhIHNwZWNpZmljIGNsZWYuXG4gKiBAcGFyYW0gY2xlZiAtIFRoZSBjbGVmIG9uIHdoaWNoIHRvIHRyaWdnZXIgYWRkaXRpb25hbCBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckNsZWZBY3Rpb25zIChjbGVmOiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIGNvbnN0IGlzQ2xlZkluU3lsbGFibGUgPSBjbGVmLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpO1xuICBjb25zdCBtb3JlRWRpdENvbnRlbnRzID0gKGlzQ2xlZkluU3lsbGFibGUpXG4gICAgPyBDb250ZW50cy5sYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzXG4gICAgOiBDb250ZW50cy5sYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cztcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIG1vcmVFZGl0Q29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmNsZWZBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0VG9TeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVPdXRzaWRlU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcik7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luY3JlbWVudC1vY3RhdmUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluY3JlbWVudE9jdGF2ZTogRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkaXNwbGFjZUNsZWZPY3RhdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogY2xlZi5pZCxcbiAgICAgICAgICBkaXJlY3Rpb246ICdhYm92ZSdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChpbmNyZW1lbnRPY3RhdmUsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsZWYgb2N0YXZlIGluY3JlbWVudGVkLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNYXhpbXVtIG9jdGF2ZSBkaXNwbGFjZW1lbnQgcmVhY2hlZC4gQ2xlZiBjYW4gb25seSBiZSBkaXNwbGFjZWQgdXAgdG8gMyBvY3RhdmVzLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZWNyZW1lbnQtb2N0YXZlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRPY3RhdmU6IERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZGlzcGxhY2VDbGVmT2N0YXZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGNsZWYuaWQsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYmVsb3cnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoaW5jcmVtZW50T2N0YXZlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGVmIG9jdGF2ZSBkZWNyZW1lbnRlZC4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWF4aW11bSBvY3RhdmUgZGlzcGxhY2VtZW50IHJlYWNoZWQuIENsZWYgY2FuIG9ubHkgYmUgZGlzcGxhY2VkIHVwIHRvIDMgb2N0YXZlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ0NsZWYuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0Q0NsZWY6IFNldENsZWZBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldENsZWYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogY2xlZi5pZCxcbiAgICAgICAgICBzaGFwZTogJ0MnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHNldENDbGVmLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0ZDbGVmLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldEZDbGVmOiBTZXRDbGVmQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRDbGVmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGNsZWYuaWQsXG4gICAgICAgICAgc2hhcGU6ICdGJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChzZXRGQ2xlZiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGN1c3RvcyBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckN1c3Rvc0FjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5jdXN0b3NBY3Rpb25Db250ZW50cyk7XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGFjY2lkIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyQWNjaWRBY3Rpb25zIChhY2NpZDogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBjb25zdCBpc1N5bGxhYmxlSW5BY2NpZCA9IGFjY2lkLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpO1xuICBjb25zdCBtb3JlRWRpdENvbnRlbnRzID0gKGlzU3lsbGFibGVJbkFjY2lkKVxuICAgID8gQ29udGVudHMubGF5ZXJFbGVtZW50SW5BY3Rpb25Db250ZW50c1xuICAgIDogQ29udGVudHMubGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHM7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBtb3JlRWRpdENvbnRlbnRzLCBmYWxzZSk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuYWNjaWRBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0VG9TeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVPdXRzaWRlU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcik7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NoYW5nZVRvRmxhdC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBjaGFuZ2VUb0ZsYXQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGFjY2lkLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnYWNjaWQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2YnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGNoYW5nZVRvRmxhdCwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb05hdHVyYWwuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9OYXR1cmFsOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBhY2NpZC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2FjY2lkJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICduJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChjaGFuZ2VUb05hdHVyYWwsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBsYXllciBlbGVtZW50IChhY2NpZCwgZGl2TGluZSwgY3VzdG9zKSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMgKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgY29uc3QgcGFyZW50SXNTeWxsYWJsZSA9IGVsZW1lbnQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJyk7XG4gIGNvbnN0IGxheWVyRWxlbWVudEFjdGlvbnMgPSBwYXJlbnRJc1N5bGxhYmxlXG4gICAgPyBDb250ZW50cy5sYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzXG4gICAgOiBDb250ZW50cy5sYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cztcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIGxheWVyRWxlbWVudEFjdGlvbnMsIGZhbHNlKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnNlcnRUb1N5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92ZU91dHNpZGVTeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKTtcbn1cblxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3RhZmYgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTdGFmZkFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5zdGFmZkFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyZ2Utc3lzdGVtcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIEdyb3VwaW5nLm1lcmdlU3RhdmVzKCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEVudGVyIHN0YWZmIHNwbGl0dGluZyBtb2RlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3RhZmZTcGxpdE1vZGUgKCk6IHZvaWQge1xuICBjb25zdCBzdGFmZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGFmZi5zZWxlY3RlZCcpIGFzIFNWR0dFbGVtZW50O1xuICBpZiAoc3RhZmYgIT09IG51bGwpIHtcbiAgICBjb25zdCBzcGxpdCA9IG5ldyBTcGxpdFN0YWZmSGFuZGxlcihuZW9uVmlldywgc3RhZmYpO1xuICAgIHNwbGl0LnN0YXJ0U3BsaXQoKTtcbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkIScpO1xuICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgfVxufVxuXG4vKipcbiAqIFRyaWdnZXIgc3BsaXQgc3RhZmYgb3B0aW9uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3BsaXRBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3BsaXRBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgLy8gVE9ETyBhZGQgdHJpZ2dlciBmb3Igc3BsaXQgYWN0aW9uXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGxpdC1zeXN0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIHRyaWdnZXJTdGFmZlNwbGl0TW9kZSgpO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZXNldC1yb3RhdGUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN0YWZmLnNlbGVjdGVkJykgYXMgU1ZHRWxlbWVudDtcbiAgICAgIC8vIFVudXNlZCB2YXJpYWJsZXM6XG4gICAgICAvLyBjb25zdCByZWN0ID0gc3RhZmYucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKTtcbiAgICAgIC8vIGNvbnN0IGNvID0gcmVjdC5nZXRBdHRyaWJ1dGUoJ3BvaW50cycpLnNwbGl0KCcgJyk7XG4gICAgICAvLyBjb25zdCBkeSA9IHBhcnNlSW50KGNvWzBdLnNwbGl0KCcsJylbMV0pIC0gcGFyc2VJbnQoY29bMV0uc3BsaXQoJywnKVsxXSk7XG4gICAgICBjb25zdCBwb2ludHMgPSBnZXRTdGFmZkJCb3goc3RhZmYgYXMgU1ZHR0VsZW1lbnQpO1xuICAgICAgY29uc3QgeV9jaGFuZ2UgPSBNYXRoLnRhbihwb2ludHMucm90YXRlKSoocG9pbnRzLmxyeCAtIHBvaW50cy51bHgpO1xuICAgICAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgIGVsZW1lbnRJZDogc3RhZmYuaWQsXG4gICAgICAgICAgICB1bHg6IHBvaW50cy51bHgsXG4gICAgICAgICAgICB1bHk6IHBvaW50cy5yb3RhdGUgPiAwID8gcG9pbnRzLnVseSArIHlfY2hhbmdlLzIgOiBwb2ludHMudWx5IC0geV9jaGFuZ2UvMixcbiAgICAgICAgICAgIGxyeDogcG9pbnRzLmxyeCxcbiAgICAgICAgICAgIGxyeTogcG9pbnRzLnJvdGF0ZSA+IDAgPyBwb2ludHMubHJ5IC0geV9jaGFuZ2UvMiA6IHBvaW50cy5scnkgKyB5X2NoYW5nZS8yLFxuICAgICAgICAgICAgcm90YXRlOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCcpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBkZWZhdWx0IGFjdGlvbnMgd2hlbiBzZWxlY3RpbmcgYnkgc3lsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyRGVmYXVsdFN5bEFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0U3lsQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBkZWZhdWx0IHNlbGVjdGlvbiBvcHRpb24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyRGVmYXVsdEFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0QWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgZXh0cmEgZHJvcGRvd24gb3B0aW9uczpcbiAqIExpc3RlbiB0byBjbGlja3Mgb24gZHJvcGRvd25zXG4gKi9cbmZ1bmN0aW9uIGluaXRPcHRpb25zTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnRcbiAgICAucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bfc2VsZWN0JylcbiAgICAuZm9yRWFjaChcbiAgICAgIGRyb3AgPT4ge1xuICAgICAgICAvLyBXaGVuIGFueXRoaW5nIHRoYXQgaXMgbm90IHRoZSBkcm9wZG93biBpcyBjbGlja2VkIGF3YXksIHRoZSBkcm9wZG93blxuICAgICAgICAvLyBzaG91bGQgbG9zZSBpdHMgdmlzaWJpbGl0eVxuICAgICAgICBjb25zdCBvcHRpb25zQ2xpY2thd2F5ID0gKCkgPT4ge1xuICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICAgICAgICBkcm9wLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgICB9O1xuXG4gICAgICAgIGRyb3AuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZXZ0KSA9PiB7XG4gICAgICAgICAgLy8gVG9nZ2xlIHZpc2liaWxpdHkgb2YgZHJvcGRvd25cbiAgICAgICAgICBkcm9wLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuXG4gICAgICAgICAgLy8gUmVtb3ZlIHZpc2liaWxpdHkgb2Ygb3RoZXIgZHJvcGRvd25zIHdoZW4gdGhpcyBvbmUgaXMgY2xpY2tlZFxuICAgICAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRyb3Bfc2VsZWN0JykpXG4gICAgICAgICAgICAuZmlsdGVyKG90aGVyID0+IG90aGVyICE9PSBkcm9wKVxuICAgICAgICAgICAgLmZvckVhY2gob3RoZXIgPT4gb3RoZXIuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJykpO1xuXG4gICAgICAgICAgLy8gRG9uJ3QgYWxsb3cgb3RoZXIgZXZlbnQgbGlzdGVuZXJzIG9uIHRoZSBib2R5IHRvIGludGVyZmVyZSB3aXRoIHRoaXMgbGlzdGVuZXJcbiAgICAgICAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG5cbiAgICAgICAgICBpZiAoZHJvcC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKVxuICAgICAgICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wdGlvbnNDbGlja2F3YXkpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbn1cbiIsIihmdW5jdGlvbiAoZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgLy8gTm9kZS9Db21tb25KU1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkoKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xuICAgICAgICAvLyBBTURcbiAgICAgICAgZGVmaW5lKGZhY3RvcnkpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEJyb3dzZXIgZ2xvYmFscyAod2l0aCBzdXBwb3J0IGZvciB3ZWIgd29ya2VycylcbiAgICAgICAgdmFyIGdsb2I7XG5cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGdsb2IgPSB3aW5kb3c7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGdsb2IgPSBzZWxmO1xuICAgICAgICB9XG5cbiAgICAgICAgZ2xvYi5TcGFya01ENSA9IGZhY3RvcnkoKTtcbiAgICB9XG59KGZ1bmN0aW9uICh1bmRlZmluZWQpIHtcblxuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIC8qXG4gICAgICogRmFzdGVzdCBtZDUgaW1wbGVtZW50YXRpb24gYXJvdW5kIChKS00gbWQ1KS5cbiAgICAgKiBDcmVkaXRzOiBKb3NlcGggTXllcnNcbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cDovL3d3dy5teWVyc2RhaWx5Lm9yZy9qb3NlcGgvamF2YXNjcmlwdC9tZDUtdGV4dC5odG1sXG4gICAgICogQHNlZSBodHRwOi8vanNwZXJmLmNvbS9tZDUtc2hvb3RvdXQvN1xuICAgICAqL1xuXG4gICAgLyogdGhpcyBmdW5jdGlvbiBpcyBtdWNoIGZhc3RlcixcbiAgICAgIHNvIGlmIHBvc3NpYmxlIHdlIHVzZSBpdC4gU29tZSBJRXNcbiAgICAgIGFyZSB0aGUgb25seSBvbmVzIEkga25vdyBvZiB0aGF0XG4gICAgICBuZWVkIHRoZSBpZGlvdGljIHNlY29uZCBmdW5jdGlvbixcbiAgICAgIGdlbmVyYXRlZCBieSBhbiBpZiBjbGF1c2UuICAqL1xuICAgIHZhciBhZGQzMiA9IGZ1bmN0aW9uIChhLCBiKSB7XG4gICAgICAgIHJldHVybiAoYSArIGIpICYgMHhGRkZGRkZGRjtcbiAgICB9LFxuICAgICAgICBoZXhfY2hyID0gWycwJywgJzEnLCAnMicsICczJywgJzQnLCAnNScsICc2JywgJzcnLCAnOCcsICc5JywgJ2EnLCAnYicsICdjJywgJ2QnLCAnZScsICdmJ107XG5cblxuICAgIGZ1bmN0aW9uIGNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gICAgICAgIGEgPSBhZGQzMihhZGQzMihhLCBxKSwgYWRkMzIoeCwgdCkpO1xuICAgICAgICByZXR1cm4gYWRkMzIoKGEgPDwgcykgfCAoYSA+Pj4gKDMyIC0gcykpLCBiKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVjeWNsZSh4LCBrKSB7XG4gICAgICAgIHZhciBhID0geFswXSxcbiAgICAgICAgICAgIGIgPSB4WzFdLFxuICAgICAgICAgICAgYyA9IHhbMl0sXG4gICAgICAgICAgICBkID0geFszXTtcblxuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzBdIC0gNjgwODc2OTM2IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMV0gLSAzODk1NjQ1ODYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMl0gKyA2MDYxMDU4MTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbM10gLSAxMDQ0NTI1MzMwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzRdIC0gMTc2NDE4ODk3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbNV0gKyAxMjAwMDgwNDI2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzZdIC0gMTQ3MzIzMTM0MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1s3XSAtIDQ1NzA1OTgzIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzhdICsgMTc3MDAzNTQxNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzldIC0gMTk1ODQxNDQxNyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxMF0gLSA0MjA2MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxMV0gLSAxOTkwNDA0MTYyIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgYyB8IH5iICYgZCkgKyBrWzEyXSArIDE4MDQ2MDM2ODIgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1sxM10gLSA0MDM0MTEwMSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1sxNF0gLSAxNTAyMDAyMjkwIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzE1XSArIDEyMzY1MzUzMjkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIyIHwgYiA+Pj4gMTApICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxXSAtIDE2NTc5NjUxMCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzZdIC0gMTA2OTUwMTYzMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzExXSArIDY0MzcxNzcxMyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1swXSAtIDM3Mzg5NzMwMiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s1XSAtIDcwMTU1ODY5MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzEwXSArIDM4MDE2MDgzIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCA5IHwgZCA+Pj4gMjMpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBiIHwgYSAmIH5iKSArIGtbMTVdIC0gNjYwNDc4MzM1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzRdIC0gNDA1NTM3ODQ4IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuICAgICAgICBhICs9IChiICYgZCB8IGMgJiB+ZCkgKyBrWzldICsgNTY4NDQ2NDM4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMTRdIC0gMTAxOTgwMzY5MCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzNdIC0gMTg3MzYzOTYxIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNCB8IGMgPj4+IDE4KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgYSB8IGQgJiB+YSkgKyBrWzhdICsgMTE2MzUzMTUwMSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1sxM10gLSAxNDQ0NjgxNDY3IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA1IHwgYSA+Pj4gMjcpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBjIHwgYiAmIH5jKSArIGtbMl0gLSA1MTQwMzc4NCB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzddICsgMTczNTMyODQ3MyB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1sxMl0gLSAxOTI2NjA3NzM0IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMCB8IGIgPj4+IDEyKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzVdIC0gMzc4NTU4IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzhdIC0gMjAyMjU3NDQ2MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbMTFdICsgMTgzOTAzMDU2MiB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMTRdIC0gMzUzMDk1NTYgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMV0gLSAxNTMwOTkyMDYwIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzRdICsgMTI3Mjg5MzM1MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbN10gLSAxNTU0OTc2MzIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzEwXSAtIDEwOTQ3MzA2NDAgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbMTNdICsgNjgxMjc5MTc0IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA0IHwgYSA+Pj4gMjgpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgXiBiIF4gYykgKyBrWzBdIC0gMzU4NTM3MjIyIHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1szXSAtIDcyMjUyMTk3OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbNl0gKyA3NjAyOTE4OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjMgfCBiID4+PiA5KSArIGMgfCAwO1xuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s5XSAtIDY0MDM2NDQ4NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1sxMl0gLSA0MjE4MTU4MzUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzE1XSArIDUzMDc0MjUyMCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTYgfCBjID4+PiAxNikgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyBeIGQgXiBhKSArIGtbMl0gLSA5OTUzMzg2NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1swXSAtIDE5ODYzMDg0NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1s3XSArIDExMjY4OTE0MTUgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzE0XSAtIDE0MTYzNTQ5MDUgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzVdIC0gNTc0MzQwNTUgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMTJdICsgMTcwMDQ4NTU3MSB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1szXSAtIDE4OTQ5ODY2MDYgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzEwXSAtIDEwNTE1MjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzFdIC0gMjA1NDkyMjc5OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s4XSArIDE4NzMzMTMzNTkgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTVdIC0gMzA2MTE3NDQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEwIHwgZCA+Pj4gMjIpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGEgXiAoZCB8IH5iKSkgKyBrWzZdIC0gMTU2MDE5ODM4MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbMTNdICsgMTMwOTE1MTY0OSB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjEgfGIgPj4+IDExKSArIGMgfCAwO1xuICAgICAgICBhICs9IChjIF4gKGIgfCB+ZCkpICsga1s0XSAtIDE0NTUyMzA3MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNiB8IGEgPj4+IDI2KSArIGIgfCAwO1xuICAgICAgICBkICs9IChiIF4gKGEgfCB+YykpICsga1sxMV0gLSAxMTIwMjEwMzc5IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1syXSArIDcxODc4NzI1OSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTUgfCBjID4+PiAxNykgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoZCBeIChjIHwgfmEpKSArIGtbOV0gLSAzNDM0ODU1NTEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHwgYiA+Pj4gMTEpICsgYyB8IDA7XG5cbiAgICAgICAgeFswXSA9IGEgKyB4WzBdIHwgMDtcbiAgICAgICAgeFsxXSA9IGIgKyB4WzFdIHwgMDtcbiAgICAgICAgeFsyXSA9IGMgKyB4WzJdIHwgMDtcbiAgICAgICAgeFszXSA9IGQgKyB4WzNdIHwgMDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGsocykge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IHMuY2hhckNvZGVBdChpKSArIChzLmNoYXJDb2RlQXQoaSArIDEpIDw8IDgpICsgKHMuY2hhckNvZGVBdChpICsgMikgPDwgMTYpICsgKHMuY2hhckNvZGVBdChpICsgMykgPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNWJsa19hcnJheShhKSB7XG4gICAgICAgIHZhciBtZDVibGtzID0gW10sXG4gICAgICAgICAgICBpOyAvKiBBbmR5IEtpbmcgc2FpZCBkbyBpdCB0aGlzIHdheS4gKi9cblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgNjQ7IGkgKz0gNCkge1xuICAgICAgICAgICAgbWQ1Ymxrc1tpID4+IDJdID0gYVtpXSArIChhW2kgKyAxXSA8PCA4KSArIChhW2kgKyAyXSA8PCAxNikgKyAoYVtpICsgM10gPDwgMjQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtZDVibGtzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTEocykge1xuICAgICAgICB2YXIgbiA9IHMubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsayhzLnN1YnN0cmluZyhpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cbiAgICAgICAgcyA9IHMuc3Vic3RyaW5nKGkgLSA2NCk7XG4gICAgICAgIGxlbmd0aCA9IHMubGVuZ3RoO1xuICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBzLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCAxNjsgaSArPSAxKSB7XG4gICAgICAgICAgICAgICAgdGFpbFtpXSA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBCZXdhcmUgdGhhdCB0aGUgZmluYWwgbGVuZ3RoIG1pZ2h0IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSBuICogODtcbiAgICAgICAgdG1wID0gdG1wLnRvU3RyaW5nKDE2KS5tYXRjaCgvKC4qPykoLnswLDh9KSQvKTtcbiAgICAgICAgbG8gPSBwYXJzZUludCh0bXBbMl0sIDE2KTtcbiAgICAgICAgaGkgPSBwYXJzZUludCh0bXBbMV0sIDE2KSB8fCAwO1xuXG4gICAgICAgIHRhaWxbMTRdID0gbG87XG4gICAgICAgIHRhaWxbMTVdID0gaGk7XG5cbiAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1MV9hcnJheShhKSB7XG4gICAgICAgIHZhciBuID0gYS5sZW5ndGgsXG4gICAgICAgICAgICBzdGF0ZSA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICBsZW5ndGgsXG4gICAgICAgICAgICB0YWlsLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBuOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgbWQ1YmxrX2FycmF5KGEuc3ViYXJyYXkoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTm90IHN1cmUgaWYgaXQgaXMgYSBidWcsIGhvd2V2ZXIgSUUxMCB3aWxsIGFsd2F5cyBwcm9kdWNlIGEgc3ViIGFycmF5IG9mIGxlbmd0aCAxXG4gICAgICAgIC8vIGNvbnRhaW5pbmcgdGhlIGxhc3QgZWxlbWVudCBvZiB0aGUgcGFyZW50IGFycmF5IGlmIHRoZSBzdWIgYXJyYXkgc3BlY2lmaWVkIHN0YXJ0c1xuICAgICAgICAvLyBiZXlvbmQgdGhlIGxlbmd0aCBvZiB0aGUgcGFyZW50IGFycmF5IC0gd2VpcmQuXG4gICAgICAgIC8vIGh0dHBzOi8vY29ubmVjdC5taWNyb3NvZnQuY29tL0lFL2ZlZWRiYWNrL2RldGFpbHMvNzcxNDUyL3R5cGVkLWFycmF5LXN1YmFycmF5LWlzc3VlXG4gICAgICAgIGEgPSAoaSAtIDY0KSA8IG4gPyBhLnN1YmFycmF5KGkgLSA2NCkgOiBuZXcgVWludDhBcnJheSgwKTtcblxuICAgICAgICBsZW5ndGggPSBhLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYVtpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmhleChuKSB7XG4gICAgICAgIHZhciBzID0gJycsXG4gICAgICAgICAgICBqO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgNDsgaiArPSAxKSB7XG4gICAgICAgICAgICBzICs9IGhleF9jaHJbKG4gPj4gKGogKiA4ICsgNCkpICYgMHgwRl0gKyBoZXhfY2hyWyhuID4+IChqICogOCkpICYgMHgwRl07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4KHgpIHtcbiAgICAgICAgdmFyIGk7XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB4W2ldID0gcmhleCh4W2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geC5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvLyBJbiBzb21lIGNhc2VzIHRoZSBmYXN0IGFkZDMyIGZ1bmN0aW9uIGNhbm5vdCBiZSB1c2VkLi5cbiAgICBpZiAoaGV4KG1kNTEoJ2hlbGxvJykpICE9PSAnNWQ0MTQwMmFiYzRiMmE3NmI5NzE5ZDkxMTAxN2M1OTInKSB7XG4gICAgICAgIGFkZDMyID0gZnVuY3Rpb24gKHgsIHkpIHtcbiAgICAgICAgICAgIHZhciBsc3cgPSAoeCAmIDB4RkZGRikgKyAoeSAmIDB4RkZGRiksXG4gICAgICAgICAgICAgICAgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gICAgICAgICAgICByZXR1cm4gKG1zdyA8PCAxNikgfCAobHN3ICYgMHhGRkZGKTtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIEFycmF5QnVmZmVyIHNsaWNlIHBvbHlmaWxsLlxuICAgICAqXG4gICAgICogQHNlZSBodHRwczovL2dpdGh1Yi5jb20vdHRhdWJlcnQvbm9kZS1hcnJheWJ1ZmZlci1zbGljZVxuICAgICAqL1xuXG4gICAgaWYgKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgIUFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSkge1xuICAgICAgICAoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZnVuY3Rpb24gY2xhbXAodmFsLCBsZW5ndGgpIHtcbiAgICAgICAgICAgICAgICB2YWwgPSAodmFsIHwgMCkgfHwgMDtcblxuICAgICAgICAgICAgICAgIGlmICh2YWwgPCAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCh2YWwgKyBsZW5ndGgsIDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBNYXRoLm1pbih2YWwsIGxlbmd0aCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIEFycmF5QnVmZmVyLnByb3RvdHlwZS5zbGljZSA9IGZ1bmN0aW9uIChmcm9tLCB0bykge1xuICAgICAgICAgICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmJ5dGVMZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgIGJlZ2luID0gY2xhbXAoZnJvbSwgbGVuZ3RoKSxcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gbGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBudW0sXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldCxcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5O1xuXG4gICAgICAgICAgICAgICAgaWYgKHRvICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZW5kID0gY2xhbXAodG8sIGxlbmd0aCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGJlZ2luID4gZW5kKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgbnVtID0gZW5kIC0gYmVnaW47XG4gICAgICAgICAgICAgICAgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuXG4gICAgICAgICAgICAgICAgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheSh0aGlzLCBiZWdpbiwgbnVtKTtcbiAgICAgICAgICAgICAgICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICAgICAgICAgIH07XG4gICAgICAgIH0pKCk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBIZWxwZXJzLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gdG9VdGY4KHN0cikge1xuICAgICAgICBpZiAoL1tcXHUwMDgwLVxcdUZGRkZdLy50ZXN0KHN0cikpIHtcbiAgICAgICAgICAgIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdHIsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IHN0ci5sZW5ndGgsXG4gICAgICAgICAgIGJ1ZmYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKSxcbiAgICAgICAgICAgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmZiksXG4gICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICBhcnJbaV0gPSBzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gYXJyIDogYnVmZjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhcnJheUJ1ZmZlcjJVdGY4U3RyKGJ1ZmYpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCwgbmV3IFVpbnQ4QXJyYXkoYnVmZikpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKGZpcnN0LCBzZWNvbmQsIHJldHVyblVJbnQ4QXJyYXkpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IG5ldyBVaW50OEFycmF5KGZpcnN0LmJ5dGVMZW5ndGggKyBzZWNvbmQuYnl0ZUxlbmd0aCk7XG5cbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShmaXJzdCkpO1xuICAgICAgICByZXN1bHQuc2V0KG5ldyBVaW50OEFycmF5KHNlY29uZCksIGZpcnN0LmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJldHVybiByZXR1cm5VSW50OEFycmF5ID8gcmVzdWx0IDogcmVzdWx0LmJ1ZmZlcjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBoZXhUb0JpbmFyeVN0cmluZyhoZXgpIHtcbiAgICAgICAgdmFyIGJ5dGVzID0gW10sXG4gICAgICAgICAgICBsZW5ndGggPSBoZXgubGVuZ3RoLFxuICAgICAgICAgICAgeDtcblxuICAgICAgICBmb3IgKHggPSAwOyB4IDwgbGVuZ3RoIC0gMTsgeCArPSAyKSB7XG4gICAgICAgICAgICBieXRlcy5wdXNoKHBhcnNlSW50KGhleC5zdWJzdHIoeCwgMiksIDE2KSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsIGJ5dGVzKTtcbiAgICB9XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1LCBvdGhlcndpc2UgdXNlIHRoZVxuICAgICAqIHN0YXRpYyBtZXRob2RzIGluc3RlYWQuXG4gICAgICovXG5cbiAgICBmdW5jdGlvbiBTcGFya01ENSgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIGFuIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IHN0ciBUaGUgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBhcHBlbmQgYXMgYmluYXJ5XG4gICAgICAgIHRoaXMuYXBwZW5kQmluYXJ5KHRvVXRmOChzdHIpKTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQXBwZW5kcyBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gY29udGVudHMgVGhlIGJpbmFyeSBzdHJpbmcgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1fSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmFwcGVuZEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50cykge1xuICAgICAgICB0aGlzLl9idWZmICs9IGNvbnRlbnRzO1xuICAgICAgICB0aGlzLl9sZW5ndGggKz0gY29udGVudHMubGVuZ3RoO1xuXG4gICAgICAgIHZhciBsZW5ndGggPSB0aGlzLl9idWZmLmxlbmd0aCxcbiAgICAgICAgICAgIGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGsodGhpcy5fYnVmZi5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fYnVmZiA9IHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmLmNoYXJDb2RlQXQoaSkgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9maW5pc2godGFpbCwgbGVuZ3RoKTtcbiAgICAgICAgcmV0ID0gaGV4KHRoaXMuX2hhc2gpO1xuXG4gICAgICAgIGlmIChyYXcpIHtcbiAgICAgICAgICAgIHJldCA9IGhleFRvQmluYXJ5U3RyaW5nKHJldCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgcmV0dXJuIHJldDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVzZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5yZXNldCA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9ICcnO1xuICAgICAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgICAgICB0aGlzLl9oYXNoID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtPYmplY3R9IFRoZSBzdGF0ZVxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGJ1ZmY6IHRoaXMuX2J1ZmYsXG4gICAgICAgICAgICBsZW5ndGg6IHRoaXMuX2xlbmd0aCxcbiAgICAgICAgICAgIGhhc2g6IHRoaXMuX2hhc2guc2xpY2UoKVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBpbnRlcm5hbCBzdGF0ZSBvZiB0aGUgY29tcHV0YXRpb24uXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhdGUgVGhlIHN0YXRlXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5zZXRTdGF0ZSA9IGZ1bmN0aW9uIChzdGF0ZSkge1xuICAgICAgICB0aGlzLl9idWZmID0gc3RhdGUuYnVmZjtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gc3RhdGUubGVuZ3RoO1xuICAgICAgICB0aGlzLl9oYXNoID0gc3RhdGUuaGFzaDtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVsZWFzZXMgbWVtb3J5IHVzZWQgYnkgdGhlIGluY3JlbWVudGFsIGJ1ZmZlciBhbmQgb3RoZXIgYWRkaXRpb25hbFxuICAgICAqIHJlc291cmNlcy4gSWYgeW91IHBsYW4gdG8gdXNlIHRoZSBpbnN0YW5jZSBhZ2FpbiwgdXNlIHJlc2V0IGluc3RlYWQuXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3kgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9oYXNoO1xuICAgICAgICBkZWxldGUgdGhpcy5fYnVmZjtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2xlbmd0aDtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogRmluaXNoIHRoZSBmaW5hbCBjYWxjdWxhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXl9ICB0YWlsICAgVGhlIHRhaWwgKHdpbGwgYmUgbW9kaWZpZWQpXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IGxlbmd0aCBUaGUgbGVuZ3RoIG9mIHRoZSByZW1haW5pbmcgYnVmZmVyXG4gICAgICovXG4gICAgU3BhcmtNRDUucHJvdG90eXBlLl9maW5pc2ggPSBmdW5jdGlvbiAodGFpbCwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBpID0gbGVuZ3RoLFxuICAgICAgICAgICAgdG1wLFxuICAgICAgICAgICAgbG8sXG4gICAgICAgICAgICBoaTtcblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gRG8gdGhlIGZpbmFsIGNvbXB1dGF0aW9uIGJhc2VkIG9uIHRoZSB0YWlsIGFuZCBsZW5ndGhcbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtYXkgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IHRoaXMuX2xlbmd0aCAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCB0YWlsKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGEgc3RyaW5nLlxuICAgICAqIEEgY29udmVyc2lvbiB3aWxsIGJlIGFwcGxpZWQgaWYgdXRmOCBzdHJpbmcgaXMgZGV0ZWN0ZWQuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIHN0ciBUaGUgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoID0gZnVuY3Rpb24gKHN0ciwgcmF3KSB7XG4gICAgICAgIC8vIENvbnZlcnRzIHRoZSBzdHJpbmcgdG8gdXRmOCBieXRlcyBpZiBuZWNlc3NhcnlcbiAgICAgICAgLy8gVGhlbiBjb21wdXRlIGl0IHVzaW5nIHRoZSBiaW5hcnkgZnVuY3Rpb25cbiAgICAgICAgcmV0dXJuIFNwYXJrTUQ1Lmhhc2hCaW5hcnkodG9VdGY4KHN0ciksIHJhdyk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIGJpbmFyeSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1N0cmluZ30gIGNvbnRlbnQgVGhlIGJpbmFyeSBzdHJpbmdcbiAgICAgKiBAcGFyYW0ge0Jvb2xlYW59IFtyYXddICAgICBUcnVlIHRvIGdldCB0aGUgcmF3IHN0cmluZywgZmFsc2UgdG8gZ2V0IHRoZSBoZXggc3RyaW5nXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTdHJpbmd9IFRoZSByZXN1bHRcbiAgICAgKi9cbiAgICBTcGFya01ENS5oYXNoQmluYXJ5ID0gZnVuY3Rpb24gKGNvbnRlbnQsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTEoY29udGVudCksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogU3BhcmtNRDUgT09QIGltcGxlbWVudGF0aW9uIGZvciBhcnJheSBidWZmZXJzLlxuICAgICAqXG4gICAgICogVXNlIHRoaXMgY2xhc3MgdG8gcGVyZm9ybSBhbiBpbmNyZW1lbnRhbCBtZDUgT05MWSBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgLy8gY2FsbCByZXNldCB0byBpbml0IHRoZSBpbnN0YW5jZVxuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYW4gYXJyYXkgYnVmZmVyLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtBcnJheUJ1ZmZlcn0gYXJyIFRoZSBhcnJheSB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKGFycikge1xuICAgICAgICB2YXIgYnVmZiA9IGNvbmNhdGVuYXRlQXJyYXlCdWZmZXJzKHRoaXMuX2J1ZmYuYnVmZmVyLCBhcnIsIHRydWUpLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIHRoaXMuX2xlbmd0aCArPSBhcnIuYnl0ZUxlbmd0aDtcblxuICAgICAgICBmb3IgKGkgPSA2NDsgaSA8PSBsZW5ndGg7IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIG1kNWJsa19hcnJheShidWZmLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSAoaSAtIDY0KSA8IGxlbmd0aCA/IG5ldyBVaW50OEFycmF5KGJ1ZmYuYnVmZmVyLnNsaWNlKGkgLSA2NCkpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaGVzIHRoZSBpbmNyZW1lbnRhbCBjb21wdXRhdGlvbiwgcmVzZXRpbmcgdGhlIGludGVybmFsIHN0YXRlIGFuZFxuICAgICAqIHJldHVybmluZyB0aGUgcmVzdWx0LlxuICAgICAqXG4gICAgICogQHBhcmFtIHtCb29sZWFufSByYXcgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmVuZCA9IGZ1bmN0aW9uIChyYXcpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoID0gYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICB0YWlsID0gWzAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDAsIDBdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHJldDtcblxuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIHRhaWxbaSA+PiAyXSB8PSBidWZmW2ldIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSBuZXcgVWludDhBcnJheSgwKTtcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzdGF0ZSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5nZXRTdGF0ZS5jYWxsKHRoaXMpO1xuXG4gICAgICAgIC8vIENvbnZlcnQgYnVmZmVyIHRvIGEgc3RyaW5nXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSBhcnJheUJ1ZmZlcjJVdGY4U3RyKHN0YXRlLmJ1ZmYpO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDUuQXJyYXlCdWZmZXJ9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgLy8gQ29udmVydCBzdHJpbmcgdG8gYnVmZmVyXG4gICAgICAgIHN0YXRlLmJ1ZmYgPSB1dGY4U3RyMkFycmF5QnVmZmVyKHN0YXRlLmJ1ZmYsIHRydWUpO1xuXG4gICAgICAgIHJldHVybiBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUuY2FsbCh0aGlzLCBzdGF0ZSk7XG4gICAgfTtcblxuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5kZXN0cm95ID0gU3BhcmtNRDUucHJvdG90eXBlLmRlc3Ryb3k7XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuX2ZpbmlzaCA9IFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgdGhlIG1kNSBoYXNoIG9uIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgYnVmZmVyXG4gICAgICogQHBhcmFtIHtCb29sZWFufSAgICAgW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IG9uZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIuaGFzaCA9IGZ1bmN0aW9uIChhcnIsIHJhdykge1xuICAgICAgICB2YXIgaGFzaCA9IG1kNTFfYXJyYXkobmV3IFVpbnQ4QXJyYXkoYXJyKSksXG4gICAgICAgICAgICByZXQgPSBoZXgoaGFzaCk7XG5cbiAgICAgICAgcmV0dXJuIHJhdyA/IGhleFRvQmluYXJ5U3RyaW5nKHJldCkgOiByZXQ7XG4gICAgfTtcblxuICAgIHJldHVybiBTcGFya01ENTtcbn0pKTtcbiIsImltcG9ydCB7IEdyb3VwaW5nVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBBZGFwdGVkIGZyb20gY29sb3IgcGFsZXR0ZSBmcm9tIEZpZ3VyZSAyIChDb2xvcnMgb3B0aW1pemVkIGZvciBjb2xvci1ibGluZFxuICogaW5kaXZpZHVhbHMpIGZyb21cbiAqIFtcIlBvaW50cyBvZiB2aWV3OiBDb2xvciBibGluZG5lc3NcIiBieSBCYW5nIFdvbmcgcHVibGlzaGVkIGluIE5hdHVyZSBNZXRob2RzIHZvbHVtZSA4IG9uIDI3IE1heSAyMDExXShodHRwczovL3d3dy5uYXR1cmUuY29tL2FydGljbGVzL25tZXRoLjE2MTg/V1QuZWNfaWQ9Tk1FVEgtMjAxMTA2KVxuICovXG5jb25zdCBDb2xvclBhbGV0dGU6IHN0cmluZ1tdID0gW1xuICAncmdiKDIzMCwgMTU5LCAwKScsXG4gICdyZ2IoODYsIDE4MCwgMjMzKScsXG4gICdyZ2IoMCwgMTU4LCAxMTUpJyxcbiAgJ3JnYigyNDAsIDIyOCwgNjYpJyxcbiAgJ3JnYigwLCAxMTQsIDE3OCknLFxuICAncmdiKDIxMywgOTQsIDApJyxcbiAgJ3JnYigyMDQsIDEyMSwgMTY3KSdcbl07XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBoaWdobGlnaHQgZnJvbSBhIHN0YWZmLlxuICogQHBhcmFtIHN0YWZmIElmIHVuZGVmaW5lZCwgdGhlIGFsbCBzdGF2ZXMgYXJlIHVuaGlnaGxpZ2h0ZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bmhpZ2hsaWdodChzdGFmZj86IFNWR0dFbGVtZW50KTogdm9pZCB7XG4gIGxldCBjaGlsZHJlbjogTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgaWYgKHN0YWZmKSB7XG4gICAgY2hpbGRyZW4gPSBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCc6bm90KC5zZWxlY3RlZCkgLmhpZ2hsaWdodGVkJyk7XG4gIH0gZWxzZSB7XG4gICAgY2hpbGRyZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCc6bm90KC5zZWxlY3RlZCkgLmhpZ2hsaWdodGVkJyk7XG4gIH1cbiAgY2hpbGRyZW4uZm9yRWFjaChlbGVtID0+IHtcbiAgICBpZiAoZWxlbS50YWdOYW1lID09PSAncGF0aCcgJiYgIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMwMDAwMDAnKTtcbiAgICB9IGVsc2UgaWYgKGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykgJiYgIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBlbGVtLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJyMwMDAwMDAnKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBlbGVtLnJlbW92ZUF0dHJpYnV0ZSgnZmlsbCcpO1xuICAgICAgbGV0IHJlY3RzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWN0cyA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHJlY3RzID0gW10gYXMgdW5rbm93biBhcyBOb2RlTGlzdE9mPEVsZW1lbnQ+O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICl7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgICAgICAgfVxuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGhpZ2hsaWdodCBmcm9tIGVhY2ggc3RhZmYuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFN0YWZmSGlnaGxpZ2h0KCk6IHZvaWQge1xuICB1bmhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFVuc2V0IGhpZ2hsaWdodCBmb3IgYWxsIGdyb3VwaW5nIHR5cGVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk6IHZvaWQge1xuICB1bnNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gIGNvbnN0IGhpZ2hsaWdodGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHRlZCcpKVxuICAgIC5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiAhZWxlbS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSk7XG4gIGhpZ2hsaWdodGVkLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgZWxlbS5zZXRBdHRyaWJ1dGUoJyNkMDAnLCBudWxsKTtcbiAgICBsZXQgcmVjdHMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgIGlmIChlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpICE9PSBudWxsKSB7XG4gICAgICAgIHJlY3RzID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCdzeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHwgXG4gICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICl7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgICAgIH1cbiAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9KTtcbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCdzeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9KTtcbiAgfSk7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSkuZm9yRWFjaCgoZWwpID0+IHsgZWwuc2V0QXR0cmlidXRlKCdmaWxsJywgJycpOyB9KTtcbn1cblxuLyoqXG4gKiBIaWdobGlnaHQgYSBzdGFmZiBhIGNlcnRhaW4gY29sb3IuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBoaWdobGlnaHQoc3RhZmY6IFNWR0dFbGVtZW50LCBjb2xvcjogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZi5jaGlsZHJlbik7XG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjaGlsZCA9IGNoaWxkcmVuW2ldO1xuICAgIGlmIChjaGlsZC50YWdOYW1lID09PSAncGF0aCcpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgY29sb3IpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdkaXZMaW5lJykpIHtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgY29sb3IpO1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICAgIH0gZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpIHx8IGNoaWxkLmlkID09PSAncmVzaXplUmVjdCcgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb3RhdGVQb2ludCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpLmxlbmd0aCAmJlxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJylbMF0uaWQgPT09ICdoaWdobGlnaHQtbmV1bWUnXG4gICAgICAmJiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3IpO1xuICAgICAgbGV0IHJlY3RzID0gY2hpbGQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBjaGlsZC5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApKSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gY29sb3I7XG4gICAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgLyp0cnkge1xuICAgIHdpZHRoID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnd2lkdGgnKS5zcGxpdCgncHgnKVswXSk7XG4gICAgaGVpZ2h0ID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jykuc3BsaXQoJ3B4JylbMF0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhlKTtcbiAgfSovXG4gIGxldCBzdHJva2U6IHN0cmluZztcbiAgaWYgKHdpZHRoICE9PSB1bmRlZmluZWQgJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBpZGsgbG9va3MgZ29vZCA6JylcbiAgICAvLyBUT0RPIGZpbmQgYSBiZXR0ZXIgd2F5IG9mIGNhbGN1bGF0aW5nIHRoaXMgYXMgdGhpcyBhY3R1YWxseSBkb2Vzbid0IHdvcmsgYXMgd2VsbCBhcyAzMHB4XG4gICAgc3Ryb2tlID0gKHdpZHRoICogaGVpZ2h0IC8gMTAwMDAwMCkudG9TdHJpbmcoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzdHJva2UgPSAnMzBweCc7XG4gIH1cbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBlYWNoIHN0YWZmIGEgZGlmZmVyZW50IGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSkgYXMgU1ZHR0VsZW1lbnRbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZkNvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBoaWdobGlnaHQoc3RhdmVzW2ldLCBzdGFmZkNvbG9yKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBhIGhpZ2hsaWdodCBieSBhIGRpZmZlcmVudCBncm91cGluZy5cbiAqIEBwYXJhbSBncm91cGluZyAtIEVpdGhlciBcInN0YWZmXCIsIFwic3lsbGFibGVcIiwgXCJuZXVtZVwiLCBcInNlbGVjdGlvblwiLCBvciBcImxheWVyRWxlbWVudFwiLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmc6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIGlmIChncm91cGluZyA9PT0gJ3N0YWZmJykge1xuICAgIHNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKGdyb3VwaW5nID09PSAnc2VsZWN0aW9uJykge1xuICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5LmlzLWFjdGl2ZScpLmlkO1xuICAgIHN3aXRjaCAodGVtcCkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgICBncm91cGluZyA9ICdzeWxsYWJsZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N0YWZmJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ2xheWVyRWxlbWVudCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBncm91cGluZyA9ICduZXVtZSc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBncm91cHM7XG5cbiAgaWYgKGdyb3VwaW5nID09ICdsYXllckVsZW1lbnQnKSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY2lkLCAuY2xlZiwgLmN1c3RvcywgLmRpdkxpbmUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGdyb3VwaW5nKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZ3JvdXBDb2xvciA9IENvbG9yUGFsZXR0ZVtpICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgaWYgKChncm91cHNbaV0uY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpICYmICFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgZ3JvdXBDb2xvcik7XG4gICAgICBjb25zdCByZWN0cyA9IGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gZ3JvdXBDb2xvcjtcbiAgICAgIH0pO1xuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKCFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBudWxsKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnI2QwMCcpO1xuICAgICAgfVxuICAgICAgZ3JvdXBzW2ldLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfVxuXG4gICAgaWYgKGdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgZ3JvdXBDb2xvcik7XG4gICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICAgIH1cbiAgfVxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgfSk7XG59XG4iLCIvKiogQG1vZHVsZSBEaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzICovXG5cbmltcG9ydCAqIGFzIENvbG9yIGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbmxldCBsYXN0R2x5cGhPcGFjaXR5OiBudW1iZXIsIGxhc3RJbWFnZU9wYWNpdHk6IG51bWJlcjtcblxuLyoqXG4gKiBTZXQgem9vbSBjb250cm9sIGxpc3RlbmVyIGZvciBidXR0b24gYW5kIHNsaWRlclxuICogQHBhcmFtIHpvb21IYW5kbGVyIC0gQSBbW1pvb21IYW5kbGVyXV0gaXMgb25seSBuZWNlc3NhcnkgaW4gU2luZ2xlIFBhZ2UgbW9kZSBhcyBkaXZhLmpzIGhhbmRsZXMgem9vbWluZyBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRab29tQ29udHJvbHMgKHpvb21IYW5kbGVyPzogWm9vbUhhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKHpvb21IYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgem9vbVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgem9vbU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyB6b29tIH0gPSBnZXRTZXR0aW5ncygpO1xuICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tSGFuZGxlci56b29tVG8oem9vbSAvIDEwMC4wKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXpvb20nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gJzEwMCc7XG4gICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2V0LXpvb20tZWFzeS1lZGl0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxODAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTgwJztcbiAgICB6b29tSGFuZGxlci56b29tVG8oMTgwLzEwMCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9IHpvb21TbGlkZXIudmFsdWU7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKE51bWJlcih6b29tT3V0cHV0LnZhbHVlKSAvIDEwMC4wKTtcbiAgfVxuXG4gIC8vIHpvb21TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRab29tID0gcGFyc2VJbnQoem9vbU91dHB1dC52YWx1ZSk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdBcnJvd1VwJyB8fCBldnQua2V5ID09PSAnQXJyb3dEb3duJyB8fCBcbiAgICBldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJysnKSB7IC8vIGluY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1pbihjdXJyZW50Wm9vbSArIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWF4JykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnXycpIHsgLy8gZGVjcmVhc2Ugem9vbSBieSAyMFxuICAgICAgY29uc3QgbmV3Wm9vbSA9IE1hdGgubWF4KGN1cnJlbnRab29tIC0gMjAsIHBhcnNlSW50KHpvb21TbGlkZXIuZ2V0QXR0cmlidXRlKCdtaW4nKSkpO1xuICAgICAgem9vbUhhbmRsZXIuem9vbVRvKG5ld1pvb20gLyAxMDAuMCk7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcwJykge1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbUhhbmRsZXIucmVzZXRab29tQW5kUGFuKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgTUVJIG9wYWNpdHkgdG8gdmFsdWUgZnJvbSB0aGUgc2xpZGVyLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldE9wYWNpdHlGcm9tU2xpZGVyIChtZWlDbGFzc05hbWU/OiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgb3BhY2l0eU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG4gIGNvbnN0IG9wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnb3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IG9wYWNpdHlPdXRwdXQudmFsdWU7XG4gIC8vIHRoaXMgaXMgd2hlcmUgd2UgbG9hZCBnbHlwaCBvcGFjaXR5IGZyb20gbG9jYWxTdG9yYWdlIG9uIHBhZ2UtbG9hZFxuICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0aWdnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVHbHlwaHNJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9nZ2xlLWdseXBoLW9wYWNpdHkgPiBpbWcnKTtcbiAgaWYgKE51bWJlcihvcGFjaXR5T3V0cHV0LnZhbHVlKSA9PT0gMCkge1xuICAgIGhpZGVHbHlwaHNJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICB9XG4gIGVsc2Uge1xuICAgIGhpZGVHbHlwaHNJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICB9XG5cbiAgdHJ5IHtcbiAgICAoKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbWVpQ2xhc3NOYW1lKSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpIC8gMTAwLjApLnRvU3RyaW5nKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLndhcm4oJ1VuYWJsZSB0byBwcm9wZXJseSBzZXQgb3BhY2l0eSB0byBwYWdlcycpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IHJlbmRlcmVkIE1FSSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBtZWlDbGFzc05hbWUgLSBDbGFzcyB0aGF0IGNvbnRhaW5zIHRoZSByZW5kZXJlZCBNRUkuXG4gKi9cbmZ1bmN0aW9uIHNldE9wYWNpdHlDb250cm9scyAobWVpQ2xhc3NOYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3Qgb3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgb3BhY2l0eU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBnbHlwaE9wYWNpdHkgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RHbHlwaE9wYWNpdHkgPSBnbHlwaE9wYWNpdHk7XG4gIG9wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcoZ2x5cGhPcGFjaXR5KTtcbiAgb3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuXG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VPcGFjaXR5ICgpOiB2b2lkIHtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gb3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldE9wYWNpdHlGcm9tU2xpZGVyKG1laUNsYXNzTmFtZSk7XG4gIH1cblxuICBjb25zdCB0b2dnbGVPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1nbHlwaC1vcGFjaXR5Jyk7XG4gIHRvZ2dsZU9wYWNpdHlCdG4/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgbGV0IG5ld09wYWNpdHk7XG4gICAgaWYgKHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdoaWRlLWljb24nKTtcbiAgICAgIG5ld09wYWNpdHkgPSAwO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG5cbiAgICAvLyBEZWZpbml0aW9uIHNjYWxlIGlzIHRoZSByb290IGVsZW1lbnQgb2Ygd2hhdCBpcyBnZW5lcmF0ZWQgYnkgdmVyb3Zpb1xuICAgIFxuICAgIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuJyArIG1laUNsYXNzTmFtZSkgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD4pLmZvckVhY2goZyA9PiB7XG4gICAgICBnLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG4gICAgfSk7XG5cbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIG9wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgb3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuXG4gICAgaW5wdXRDaGFuZ2VPcGFjaXR5KCk7XG4gIH0pO1xuXG4gIG9wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGlucHV0Q2hhbmdlT3BhY2l0eSk7XG5cbiAgb3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbi8qKlxuICogU2V0IGJhY2tncm91bmQgaW1hZ2Ugb3BhY2l0eSBidXR0b24gYW5kIHNsaWRlciBsaXN0ZW5lcnMuXG4gKiBAcGFyYW0gYmFja2dyb3VuZCAtIFRoZSBiYWNrZ3JvdW5kIGltYWdlIHNlbGVjdG9yLlxuICovXG5mdW5jdGlvbiBzZXRCYWNrZ3JvdW5kT3BhY2l0eUNvbnRyb2xzIChiYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgYmdPcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnT3BhY2l0eVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGJnT3BhY2l0eU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ09wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGltYWdlT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEltYWdlT3BhY2l0eSA9IGltYWdlT3BhY2l0eTtcbiAgYmdPcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG4gIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhpbWFnZU9wYWNpdHkpO1xuXG4gIGZ1bmN0aW9uIGJnSW5wdXRDaGFuZ2VIYW5kbGVyICgpOiB2b2lkIHtcbiAgICBiZ09wYWNpdHlPdXRwdXQudmFsdWUgPSBiZ09wYWNpdHlTbGlkZXIudmFsdWU7XG4gICAgbGFzdEltYWdlT3BhY2l0eSA9IE51bWJlcihiZ09wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldEJnT3BhY2l0eUZyb21TbGlkZXIoYmFja2dyb3VuZCk7XG4gIH1cblxuXG4gIGNvbnN0IHRvZ2dsZUJnT3BhY2l0eUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtYmctb3BhY2l0eScpO1xuICB0b2dnbGVCZ09wYWNpdHlCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcblxuICAgIGlmICh0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdoaWRlLWljb24nKSkge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlQmdPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGJhY2tncm91bmQpWzBdIGFzIEhUTUxFbGVtZW50KVxuICAgICAgLnN0eWxlLm9wYWNpdHkgPSBuZXdPcGFjaXR5LnRvU3RyaW5nKCk7XG5cbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgYmdPcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IFN0cmluZyhNYXRoLnJvdW5kKG5ld09wYWNpdHkgKiAxMDApKTtcblxuICAgIHNldFNldHRpbmdzKHsgaW1hZ2VPcGFjaXR5OiBuZXdPcGFjaXR5ICogMTAwIH0pO1xuICAgIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKCk7XG4gIH0pO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGJnSW5wdXRDaGFuZ2VIYW5kbGVyKTtcblxuICBiZ09wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gc2V0QmdPcGFjaXR5RnJvbVNsaWRlciAoYmFja2dyb3VuZD86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQ6IEhUTUxPdXRwdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2JnT3BhY2l0eU91dHB1dCcpO1xuICBcbiAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpIH0pO1xuXG4gIC8vIGRpc3BheSBjb3JyZWN0IHNsaWRlciB0aWdnbGUgZGlzcGxheSBpY29uXG4gIGNvbnN0IGhpZGVHbHlwaHNJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdG9nZ2xlLWJnLW9wYWNpdHkgPiBpbWcnKTtcbiAgaWYgKE51bWJlcihiZ09wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gIH1cblxuICBjb25zdCBiZzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtiYWNrZ3JvdW5kfWApO1xuICBpZiAoYmcpIGJnLnN0eWxlLm9wYWNpdHkgPSBTdHJpbmcoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDApO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uICsgZGlzcGxheVxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG4gIGNvbnN0IGhpZ2hsaWdodFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKTtcblxuICAvLyBzYXZlIGhpZ2hsaWdodCBvcHRpb24gdG8gbG9jYWxTdG9yYWdlXG4gIHNldFNldHRpbmdzKHsgaGlnaGxpZ2h0TW9kZTogZ3JvdXAgfSk7XG5cbiAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gIH0pO1xuXG4gIGlmIChncm91cCA9PT0gJ25vbmUnKSB7XG4gICAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9ICdcXHhBMC0gT2ZmJztcbiAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG5cbiAgLy8gVGV4dCBjb250ZW50IGlzIHRoZSBncm91cGluZyB0eXBlIGNhcGl0YWxpemVkXG4gIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7Z3JvdXBbMF0udG9VcHBlckNhc2UoKSArIGdyb3VwLnNsaWNlKDEpfWA7XG4gIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgaGlnaGxpZ2h0IG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0VHlwZSAoKTogR3JvdXBpbmdUeXBlIHtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuICByZXR1cm4gaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudC5zbGljZSgzKS50b0xvd2VyQ2FzZSgpIGFzIEdyb3VwaW5nVHlwZTtcbn1cblxuLyoqXG4gKiBTZXQgY2xpY2sgbGlzdGVuZXIgZm9yIGVhY2ggaGlnaGxpZ2h0IGRyb3Bkb3duIG9wdGlvblxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodE9wdGlvbiAoZ3JvdXA6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlnaGxpZ2h0LSR7Z3JvdXB9YCk7XG4gIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oZ3JvdXApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGlja2F3YXkgbGlzdGVuZXIgZm9yIHRoZSBoaWdobGlnaHQgZHJvcGRvd24uXG4gKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodENsaWNrYXdheSAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIHN0YWZmIGhpZ2hsaWdodGluZyBjaGVja2JveC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodENvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgaWYgKGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuXG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICAqIFNldCBsaXN0ZW5lciBvbiBrZXkgc2hvcnRjdXRzIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBoaWdobGlnaHRzXG4gICogXG4gICogVGhlIGN1cnJlbnQgcGxhbiBpcyB0byB1c2UgdGhlIGtleXMgcSwgdywgZSwgciwgdCwgYW5kIHlcbiAgKi9cbmZ1bmN0aW9uIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIC8vIFByZXZlbnQgY21kL2N0cmwrciBmcm9tIGNoYW5naW5nIGhpZ2hsaWdodCBvcHRpb25cbiAgICBpZiAoZXZ0Lm1ldGFLZXkpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgY2FzZSAncSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncic6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufVxuXG5cblxuLy8gV2h5IGRvZXMgdGhpcyBleGlzdCBzZXBhcmF0ZWx5P1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodFNlbGVjdGlvbkNvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgaGlnaGxpZ2h0U2VsZWN0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKTtcbiAgaGlnaGxpZ2h0U2VsZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgfSk7XG4gICAgaGlnaGxpZ2h0U2VsZWN0aW9uLmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpLnRleHRDb250ZW50ID0gJyAtIFNlbGVjdGlvbic7XG4gICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3NlbGVjdGlvbicpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBSZXNldCB0aGUgaGlnaGxpZ2h0IGZvciBkaWZmZXJlbnQgdHlwZXMgYmFzZWQgb24gdGhlICdoaWdobGlnaHQtc2VsZWN0ZWQnIGNsYXNzIGluIHRoZSBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVIaWdobGlnaHQgKCk6IHZvaWQge1xuICBsZXQgaGlnaGxpZ2h0SWQ6IHN0cmluZztcbiAgdHJ5IHtcbiAgICBoaWdobGlnaHRJZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZDtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGhpZ2hsaWdodElkID0gJyc7XG4gIH1cbiAgc3dpdGNoIChoaWdobGlnaHRJZCkge1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1zdGFmZic6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc3RhZmYnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1zeWxsYWJsZSc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc3lsbGFibGUnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1uZXVtZSc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbmV1bWUnKTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2hpZ2hsaWdodC1sYXllckVsZW1lbnQnOlxuICAgICAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoJ2xheWVyRWxlbWVudCcpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXNlbGVjdGlvbic6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgQ29sb3IudW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpO1xuICB9XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIGJ1cmdlciBtZW51IGZvciBzbWFsbGVyIHNjcmVlbnMuXG4gKi9cbmZ1bmN0aW9uIHNldEJ1cmdlckNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1cmdlck1lbnUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmNsYXNzTGlzdC50b2dnbGUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduYXZNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gIH0pO1xufVxuXG4vKiogXG4gKiBTZXQgbGlzdGVuZXIgZm9yIFwiRGlzcGxheSBBbGxcIiBidXR0b24gaW4gRGlzcGxheSBwYW5lbC5cbiovXG5mdW5jdGlvbiBzZXREaXNwbGF5QWxsTGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IHNlbGVjdEFsbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNwbGF5LWFsbC1idG4nKTtcbiAgc2VsZWN0QWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vIGF0IHRoZSBtb21lbnQsIGNsYXNzbmFtZSAnc2VsZWN0ZWQnIGlzIG9ubHkgdXNlZCBmb3IgdHJhY2tpbmcgcHVycG9zZXNcbiAgICBpZiAoc2VsZWN0QWxsQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgc2VsZWN0QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBzZWxlY3RBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94LWNvbnRhaW5lciA+IC5jaGVja2JveCcpO1xuXG4gICAgICBBcnJheS5mcm9tKG9wdGlvbnMpLmZvckVhY2goKG9wdGlvbjogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAob3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgc2VsZWN0QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICBzZWxlY3RBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICAgIGNvbnN0IG9wdGlvbnMgPSAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNoZWNrYm94LWNvbnRhaW5lciA+IC5jaGVja2JveCcpO1xuICAgICAgXG4gICAgICBBcnJheS5mcm9tKG9wdGlvbnMpLmZvckVhY2goKG9wdGlvbjogSFRNTElucHV0RWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoIW9wdGlvbi5jaGVja2VkKSBvcHRpb24uY2xpY2soKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICogTG9hZCBoaWdobGlnaHQgc2V0dGluZ3MgZnJvbSBsb2NhbFN0b3JhZ2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGxvYWRIaWdobGlnaHRTZXR0aW5ncyAoKTogdm9pZCB7XG4gIGNvbnN0IHsgaGlnaGxpZ2h0TW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKGhpZ2hsaWdodE1vZGUpO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgbGlzdGVuZXJzIGFuZCBjb250cm9scyBmb3IgZGlzcGxheSBwYW5lbC5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtZWlDbGFzc05hbWUgLSBUaGUgY2xhc3MgdXNlZCB0byBzaWduaWZpeSB0aGUgTUVJIGVsZW1lbnQocykuXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFja2dyb3VuZCAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZnkgdGhlIGJhY2tncm91bmQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZywgYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIHNldE9wYWNpdHlDb250cm9scyhtZWlDbGFzc05hbWUpO1xuICBzZXRCYWNrZ3JvdW5kT3BhY2l0eUNvbnRyb2xzKGJhY2tncm91bmQpO1xuICBzZXRIaWdobGlnaHRDb250cm9scygpO1xuICBzZXRCdXJnZXJDb250cm9scygpO1xuICBzZXRIaWdobGlnaHRLZXlDb250cm9scygpO1xuICBzZXREaXNwbGF5QWxsTGlzdGVuZXIoKTtcbiAgbG9hZEhpZ2hsaWdodFNldHRpbmdzKCk7XG5cbiAgY29uc3QgZGlzcGxheUNvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlDb250ZW50cycpO1xuICBjb25zdCB0b2dnbGVEaXNwbGF5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZURpc3BsYXknKTtcbiAgY29uc3QgZGlzcGxheUhlYWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SGVhZGVyJyk7XG5cbiAgZGlzcGxheUhlYWRlci5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBkaXNwbGF5IHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgb3BlbiwgY2xvc2UgaXRcbiAgICBlbHNlIHtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgdG9nZ2xlRGlzcGxheS5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xufVxuXG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU2V0VGV4dEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IE1vZGFsV2luZG93SW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBob3RrZXlzTW9kYWwsIGVkaXRUZXh0TW9kYWwgfSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7IHVwbG9hZEFyZWFIVE1MIH0gZnJvbSAnLi4vRGFzaGJvYXJkL2Rhc2hib2FyZF9jb21wb25lbnRzJztcbmltcG9ydCB7IHVwZGF0ZVNlbGVjdGVkQkJveCB9IGZyb20gJy4uL1RleHRFZGl0TW9kZSc7XG5cblxuLyoqXG4gKiBEZWZpbmVzIG1vZGFsIHR5cGVzLlxuICogVG8gY3JlYXRlIG5ldyBtb2RhbCB3aW5kb3cgdHlwZXMsIGFkZCBlbnVtIG9wdGlvbiBhbmQgaW1wbGVtZW50IGxvZ2ljIGluc2lkZSBNb2RhbCBjbGFzcy5cbiAqL1xuZXhwb3J0IGVudW0gTW9kYWxXaW5kb3dWaWV3IHtcbiAgRURJVF9URVhULFxuICBIT1RLRVlTLFxuICBWQUxJREFUSU9OX1NUQVRVUyxcbiAgRE9DVU1FTlRfVVBMT0FEXG59XG5cbmVudW0gTW9kYWxXaW5kb3dTdGF0ZSB7XG4gIE9QRU4sXG4gIENMT1NFRFxufVxuXG5cblxuLyoqXG4gKiBNb2RhbCBjbGFzcyBpcyB1c2VkIHRvIGNyZWF0ZSBhbmQgY29udHJvbCBzdGF0ZS9jb250ZW50IFxuICogb2YgbW9kYWwgd2luZG93cyBpbiBOZW9uLlxuICovXG5leHBvcnQgY2xhc3MgTW9kYWxXaW5kb3cgaW1wbGVtZW50cyBNb2RhbFdpbmRvd0ludGVyZmFjZSB7XG4gIHByaXZhdGUgbW9kYWxXaW5kb3dWaWV3OiBNb2RhbFdpbmRvd1ZpZXc7IC8vIGN1cnJlbnQgbW9kYWwgdHlwZVxuICBwcml2YXRlIG1vZGFsV2luZG93U3RhdGU6IE1vZGFsV2luZG93U3RhdGU7IC8vIG9wZW4gb3IgY2xvc2VkP1xuICBwcml2YXRlIG5lb25WaWV3OiBOZW9uVmlldzsgLy8gbmVvblZpZXcgaW5zdGFuY2UgY29udGV4dFxuXG5cbiAgLyoqXG4gICAqIFNldCBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0IGZvciB0aGlzIG1vZGFsIHdpbmRvdyBpbnN0YW5jZS5cbiAgICogQHBhcmFtIG5lb25WaWV3IG5lb25WaWV3IGNvbnRleHQgZm9yIE1vZGFsIGluc3RhbmNlXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc/OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm1vZGFsV2luZG93U3RhdGUgPSBNb2RhbFdpbmRvd1N0YXRlLkNMT1NFRDtcblxuICAgIC8vIHNldCBldmVudCBsaXN0ZW5lcnMgdGhhdCBhcHBseSB0byBhbGwgbW9kYWwgd2luZG93c1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItY2xvc2UnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdycpLmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lci5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmZvY3VzTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gIH1cblxuICBcblxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIG1vZGFsIHZpZXcgb2YgdGhpcyBNb2RhbCBpbnN0YW5jZS5cbiAgICogVXBkYXRlIHRoZSBjb250ZW50IGJhc2VkIG9uIHBhc3NlZCB2aWV3LlxuICAgKiBAcGFyYW0gdmlldyBUeXBlIG9mIG1vZGFsIHRvIG9wZW4gKE1vZGFsVmlldyBlbnVtKVxuICAgKi9cbiAgc2V0TW9kYWxXaW5kb3dWaWV3KHZpZXc6IE1vZGFsV2luZG93VmlldywgY29udGVudD86IHN0cmluZyk6IHZvaWQge1xuICAgIHRoaXMubW9kYWxXaW5kb3dWaWV3ID0gdmlldztcbiAgICB0aGlzLnNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50KTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFJldHVybiB0aGUgY3VycmVudCBtb2RhbCB2aWV3IGFzIGEgc3RyaW5nXG4gICAqL1xuICBnZXRNb2RhbFdpbmRvd1ZpZXcoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5tb2RhbFdpbmRvd1ZpZXcudG9TdHJpbmcoKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIE9wZW4gYSBtb2RlbCB3aW5kb3cgd2l0aCBjb250ZW50IHJlcHJlc2VudGluZyB0aGUgY3VycmVudCBNb2RhbFZpZXcuXG4gICAqL1xuICBvcGVuTW9kYWxXaW5kb3coKTogdm9pZCB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQ6XG4gICAgICAgIHRoaXMub3BlbkVkaXRTeWxUZXh0TW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAgIFxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUzpcbiAgICAgICAgLy8gc2V0IHVwIGFuZCBkaXBsYXkgaG90a2V5IG1vZGFsIGNvbnRlbnRcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtaG90a2V5cycpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgICAvLyBhZGQgZnVuY3Rpb24gdG8gcGFpcmluZyBidXR0b25cbiAgICAgICAgXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICAgICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICAvLyBtYWtlIHN1cmUgdXNlciBjYW4ndCBzY3JvbGwgd2hlbiBtb2RhbCBpcyBvcGVuXG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdoaWRkZW4nO1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuT1BFTjtcbiAgfVxuXG5cblxuICAvKipcbiAgICogSGlkZSB0aGUgTmVvbiBtb2RhbCB3aW5kb3dcbiAgICovXG4gIGhpZGVNb2RhbFdpbmRvdygpOiB2b2lkIHtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgY29uc3Qgc3BhbiA9ICg8SFRNTFNwYW5FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuLnNlbGVjdGVkLXRvLWVkaXQnKVswXSk7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQtdG8tZWRpdCcpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIFxuICAgICAgICAvLyBhZnRlciB0aGUgbW9kYWwgaXMgY2xvc2VkLCBubyBrZXlib2FyZCBzaG9ydGN1dHMgd29yayBiZWNhdXNlXG4gICAgICAgIC8vIHRoZSBkb2N1bWVudCBoYXNuJ3QgYmVlbiBmb2N1c2VkOyB0aGlzIGZvcmNlZnVsbHkgZm9jdXNlcyB0aGUgY29udGFpbmVyXG4gICAgICAgIGlmICh0aGlzLm1vZGFsV2luZG93VmlldyAhPT0gTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRCkge1xuICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKS5mb2N1cygpO1xuICAgICAgICB9XG4gICAgfSBcbiAgICAvLyByZXNldCBzY3JvbGwgYmVoYXZpb3Igb2YgYm9keVxuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dYID0gJ2hpZGRlbic7XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1kgPSAnc2Nyb2xsJztcbiAgICB0aGlzLm1vZGFsV2luZG93U3RhdGUgPSBNb2RhbFdpbmRvd1N0YXRlLkNMT1NFRDtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFNldCBjb250ZW50IG9mIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgcHJpdmF0ZSBzZXRNb2RhbFdpbmRvd0NvbnRlbnQoY29udGVudD86IHN0cmluZyk6IHZvaWQge1xuICAgIHN3aXRjaCAodGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gZWRpdFRleHRNb2RhbDtcbiAgICAgICAgLy8gc2V0IG1vZGFsIHdpbmRvdyB0aXRsZVxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJykuaW5uZXJUZXh0ID0gJ0VESVQgU1lMTEFCTEUgVEVYVCc7XG5cbiAgICAgICAgLy8gc3BhbiBhbmQgY3VycmVudCB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGUgYW5kIGZpbHRlciBvdXQgdW53YW50ZWQgY2hhcnNcbiAgICAgICAgY29uc3Qgc3BhbiA9IDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdO1xuICAgICAgICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gICAgICAgIGNvbnN0IG9yaWcgPSBzcGFuLnRleHRDb250ZW50LnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xuXG4gICAgICAgIC8vIHNldCB2YWx1ZSBvZiBpbnB1dCBmaWVsZCB0byBjdXJyZW50IHN5bGxhYmxlIHRleHRcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpKSkudmFsdWUgPSBvcmlnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUzpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gaG90a2V5c01vZGFsO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJykuaW5uZXJUZXh0ID0gJ0hPVEtFWVMnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuVkFMSURBVElPTl9TVEFUVVM6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWNvbnRhaW5lcicpLmlubmVySFRNTCA9IFxuICAgICAgICAgIGA8ZGl2IHN0eWxlPVwibWFyZ2luLWJvdHRvbTogMzBweDt3aGl0ZS1zcGFjZTogcHJlLWxpbmU7XCI+JHtjb250ZW50fTwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIj5cbiAgICAgICAgICAgIDxhIGhyZWY9XCJkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChjb250ZW50KX1cIiBkb3dubG9hZD1cInZhbGlkYXRpb24ubG9nXCI+XG4gICAgICAgICAgICAgIEV4cG9ydFxuICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgPC9kaXY+YDtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci10aXRsZScpLmlubmVyVGV4dCA9ICdFUlJPUiBMT0cnO1xuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJykuaW5uZXJUZXh0ID0gJ0RPQ1VNRU5UIFVQTE9BRCc7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWNvbnRhaW5lcicpLmlubmVySFRNTCA9IHVwbG9hZEFyZWFIVE1MO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZS4gVGhpcyBzaG91bGQgbm90IGhhdmUgb2NjdXJyZWQuJyk7XG4gICAgfSBcbiAgfVxuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggY29udGVudCBmb3IgdXBkYXRpbmcgc3lsbGFibGUgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSBvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCk6IHZvaWQge1xuICAgIC8vIG1ha2Ugc3VyZSBubyBvdGhlciBtb2RhbCBjb250ZW50IGlzIGJlaW5nIGRpc3BsYXllZFxuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudCcpKS5mb3JFYWNoKCAoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgRWRpdCBTeWxsYWJsZSBUZXh0IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dCcpLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICBcbiAgICAvLyBSZXNldCBcIkNhbmNlbFwiIGJ1dHRvbiBldmVudCBsaXN0ZW5lclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhpZGVNb2RhbFdpbmRvdyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93LmJpbmQodGhpcykpO1xuXG4gICAgLy8gUmVzZXQgXCJTYXZlXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLnVwZGF0ZVN5bFRleHQuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBkaXNwbGF5IG1vZGFsIHdpbmRvd1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgIHRoaXMuZm9jdXNNb2RhbFdpbmRvdygpO1xuICB9O1xuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlcyB3aXRoIHVzZXItcHJvdmlkZWQgdGV4dFxuICAgKi9cbiAgcHJpdmF0ZSB1cGRhdGVTeWxUZXh0ID0gZnVuY3Rpb24gKCkge1xuICAgIC8vIHNwYW4gYW5kIGN1cnJlbnQgdGV4dCBvZiBzZWxlY3RlZC10by1lZGl0IHN5bGxhYmxlIGFuZCBmaWx0ZXIgb3V0IHVud2FudGVkIGNoYXJzXG4gICAgY29uc3Qgc3BhbiA9IDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdO1xuICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICBjb25zdCBvcmlnID0gc3Bhbi50ZXh0Q29udGVudC5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcbiAgICBjb25zdCB1cGRhdGVkU3lsVGV4dCA9ICg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dCcpKS52YWx1ZTtcblxuICAgIGlmICh1cGRhdGVkU3lsVGV4dCAhPT0gbnVsbCAmJiB1cGRhdGVkU3lsVGV4dCAhPT0gb3JpZykge1xuICAgICAgLy8gY3JlYXRlIFwic2V0IHRleHRcIiBhY3Rpb25cbiAgICAgIGNvbnN0IGVsZW1lbnRJZCA9IFsuLi5zcGFuLmNsYXNzTGlzdC5lbnRyaWVzKCldLmZpbHRlcigoY2xhc3NOYW1lKSA9PiBjbGFzc05hbWVbMV0gIT09ICd0ZXh0LXNlbGVjdCcgJiYgY2xhc3NOYW1lWzFdICE9PSAnc2VsZWN0ZWQtdG8tZWRpdCcpWzBdWzFdO1xuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTZXRUZXh0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZCxcbiAgICAgICAgICB0ZXh0OiB1cGRhdGVkU3lsVGV4dCxcbiAgICAgICAgfSxcbiAgICAgIH07XG4gICAgICAvLyBzZW5kIGFjdGlvbiB0byB2ZXJvdmlvIGZvciBwcm9jZXNzaW5nXG4gICAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzcG9uc2U6IGJvb2xlYW4pID0+IHtcbiAgICAgICAgaWYgKHJlc3BvbnNlKSB7XG4gICAgICAgICAgLy8gdXBkYXRlIHRoZSBTVkdcbiAgICAgICAgICB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBBbiB1cGRhdGUgdG8gdGhlIHBhZ2Ugd2lsbCByZWxvYWQgdGhlIGVudGlyZSBzdmc7XG4gICAgICAgICAgICAvLyBXZSB3b3VsZCBsaWtlIHRvIHRoZW4gcmVzZWxlY3QgdGhlIHNhbWUgc2VsZWN0ZWQgc3lsbGFibGVcbiAgICAgICAgICAgIC8vIGlmIGJib3hlcyBhcmUgZW5hYmxlZFxuICAgICAgICAgICAgdXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gY2xvc2UgbW9kYWwgd2luZG93XG4gICAgdGhpcy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBGaWxsIG1vZGFsIHdpbmRvdyB3aXRoIGhvdGtleSBpbmZvIGNvbnRlbnRcbiAgICovXG4gIC8qXG4gIHByaXZhdGUgb3BlbkhvdGtleU1vZGFsV2luZG93ID0gZnVuY3Rpb24oKSB7ICAgXG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgIH0pO1xuXG4gICAgLy8gc2V0IHVwIGFuZCBkaXBsYXkgaG90a2V5IG1vZGFsIGNvbnRlbnRcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG4gICovXG5cblxuICAvKipcbiAgICogRGVmaW5lIGV2ZW50IGxpc3RlbmVycyBmb3IgbW9kYWwgd2luZG93IGJhc2VkIG9uIG1vZGFsVmlldyB0eXBlXG4gICAqL1xuICBwcml2YXRlIGtleWRvd25MaXN0ZW5lciA9IGZ1bmN0aW9uKGUpIHtcbiAgICBlLnN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbigpOyAvLyBwcmV2ZW50IE5lb24gaG90a2V5IGV2ZW50cyBmcm9tIGZpcmluZyB3aGVuIHVzZXIgaXMgdHlwaW5nXG5cbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRW50ZXInKSB0aGlzLnVwZGF0ZVN5bFRleHQoKTtcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgaWYgKGUua2V5ID09PSAnRXNjYXBlJykgdGhpcy5oaWRlTW9kYWxXaW5kb3coKTtcbiAgICB9ICBcbiAgfTtcblxuXG4gIC8qKlxuICAgKiBFdmVudCBsaXN0ZW5lciB0aGF0IGZvY3VzZXMgdGhlIG1vZGFsIHdpbmRvdyBpZiB1c2VyIGNsaWNrcyBhbnl3aGVyZSBvdXRzaWRlIG9mIGl0XG4gICAqL1xuICBwcml2YXRlIGZvY3VzTW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHtcbiAgICBzd2l0Y2godGhpcy5tb2RhbFdpbmRvd1ZpZXcpIHtcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpLnNlbGVjdCgpO1xuICAgICAgICBicmVhaztcblxuICAgICAgZGVmYXVsdDpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuZm9jdXMoKTtcbiAgICB9XG4gIH07XG5cbn1cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBDaGFuZ2VTdGFmZlRvQWN0aW9uLCBEcmFnQWN0aW9uLCBFZGl0b3JBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBCQm94LCBpc091dE9mU1ZHQm91bmRzLCBnZXRHbHlwaEJCb3gsIGdldFN0YWZmSWRCeUNvb3JkcyB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBzZWxlY3RBbGwsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmNsYXNzIERyYWdIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICBwcml2YXRlIHNlbGVjdG9yOiBzdHJpbmc7XG4gIHByaXZhdGUgc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgcHJpdmF0ZSBub01vdmVQcmVjZWRlczogU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgcHJpdmF0ZSBkcmFnU3RhcnRDb29yZHM6IFtudW1iZXIsIG51bWJlcl0gPSBbLTEsIC0xXTtcbiAgcHJpdmF0ZSByZXNldFRvQWN0aW9uOiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgZHg6IG51bWJlcjtcbiAgcHJpdmF0ZSBkeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3Igb2YgZWxlbWVudCB0byBhcHBseSBkcmFnIGhhbmRsZXIgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBkcmFnZ2luZyBhY3Rpb24gYW5kIGhhbmRsZXIgZm9yIHNlbGVjdGVkIGVsZW1lbnRzLlxuICAgKi9cbiAgZHJhZ0luaXQgKCk6IHZvaWQge1xuICAgIC8vIERyYWcgZWZmZWN0c1xuICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkICgpOiB2b2lkIHtcbiAgICAgIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzID0gW2QzLmV2ZW50LngsIGQzLmV2ZW50LnldO1xuICAgICAgdGhpcy5keCA9IDA7XG4gICAgICB0aGlzLmR5ID0gMDtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZGluZyBsaXN0ZW5lcnNcbiAgICBjb25zdCBkcmFnQmVoYXZpb3VyID0gZDMuZHJhZygpXG4gICAgICAub24oJ3N0YXJ0JywgZHJhZ1N0YXJ0ZWQuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZHJhZycsIHRoaXMuZHJhZ2dpbmcuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZW5kJywgdGhpcy5kcmFnRW5kZWQuYmluZCh0aGlzKSk7XG5cbiAgICBjb25zdCBhY3RpdmVOYyA9IGQzLnNlbGVjdEFsbCgnLnNlbGVjdGVkJyk7XG4gICAgYWN0aXZlTmMuY2FsbChkcmFnQmVoYXZpb3VyKTtcblxuICAgIGxldCBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnNlbGVjdGVkJykpO1xuXG4gICAgLy8gaWYgdGhlIHVzZXIgZHJhZ3MgdGhlIGZvbGxvd3Mgc3lsbGFibGUgaW4gYSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLCBcbiAgICAvLyBjYW5jZWwgdGhlIGNvbXBlbnNhdGlvbiBmb3Igc3lsIG1vdmVtZW50IGluIGRyYWdnaW5nLlxuICAgIHRoaXMubm9Nb3ZlUHJlY2VkZXMgPSBzZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKTtcbiAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnJlc2l6ZVBvaW50JykpKTtcbiAgfVxuXG4gIGRyYWdnaW5nICgpOiB2b2lkIHtcbiAgICB0aGlzLmR4ID0gZDMuZXZlbnQueCAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdO1xuICAgIHRoaXMuZHkgPSBkMy5ldmVudC55IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV07XG5cbiAgICB0aGlzLm1vdmVFbGVtZW50cyh0aGlzLnNlbGVjdGlvbiwgdGhpcy5keCwgdGhpcy5keSk7XG5cbiAgICAvKlxuICAgICAqIGlmIHdlJ3JlIGRyYWdnaW5nIGEgc3lsbGFibGUgKG9yIG5ldW1lIGV0YykgdGhlbiB0aGVyZSB3b24ndCBiZSBhIHN5bCBzZWxlY3RlZFxuICAgICAqIHRoZW4gd2UgZG9uJ3Qgd2FudCB0aGUgYm91bmRpbmcgYm94IChpZiBpdCBpcyBkaXNwbGF5ZWQpIHRvIG1vdmUgd2hlbiBkcmFnZ2luZyB0aGUgbmV1bWVzXG4gICAgICogaXQgd2lsbCBiZSBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGluIHNlbGVjdGlvbiwgc28gaXQgd2lsbCBnZXQgbW92ZWQgaW4gdGhlIGFib3ZlIGxvb3BcbiAgICAgKiBzbyB3ZSBjYW5jZWwgdGhhdCBtb3ZlbWVudCBvdXQgaGVyZVxuICAgICAqL1xuICAgIGNvbnN0IHN5bHMgPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKTtcbiAgICBpZiAoc3lscy5sZW5ndGggPT09IDAgJiYgdGhpcy5ub01vdmVQcmVjZWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLm1vdmVFbGVtZW50cyhiYm94ZXMsIC10aGlzLmR4LCAtdGhpcy5keSk7XG4gICAgfVxuICB9XG5cblxuICBkcmFnRW5kZWQgKCk6IHZvaWQge1xuICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaGFzIG5vdCBiZWVuIG1vdmVkIG1vcmUgdGhhbiA1IHBpeGVscyBpbiBhbnkgZGlyZWN0aW9uLFxuICAgIC8vIGRvIG5vdCBkbyBhbnkgYWN0aW9uXG4gICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyh0aGlzLmR4KSwgeURpZmYgPSBNYXRoLmFicyh0aGlzLmR5KTtcbiAgICBpZiAoeERpZmYgPD0gNSAmJiB5RGlmZiA8PSA1KSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIHNlbGVjdGlvbiBmb3IgZHJhZ2dhYmxlIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSk7XG5cbiAgICAvLyBJZiB0aGUgY3Vyc29yIGlzIG91dCBvZiBib3VuZHMgb3IgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyBvdXQgb2YgYm91bmRzLFxuICAgIC8vIGRyYWcgYWN0aW9ucyBzaG91bGQgbm90IGhhcHBlbi4gUmV0dXJuIGFuIGVycm9yIG5vdGlmaWNhdGlvbiBhbmQgcmVzZXRcbiAgICAvLyB0aGUgZHJhZyBoYW5kbGVyXG4gICAgaWYgKHRoaXMuaXNDdXJzb3JPdXRPZkJvdW5kcygpIHx8IHRoaXMuaXNEcmFnT3V0T2ZCb3VuZHMoc2VsZWN0aW9uKSkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBzZWxlY3Rpb24gYmFjayB0byBub3JtYWwgc3RhdGVcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHModGhpcy5zZWxlY3Rpb24pO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveGVzIGFzIHdlbGxcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKGJib3hlcyk7XG5cbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBEcmFnIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBlZGl0b3IgYWN0aW9uIGZvciBzZWxlY3Rpb25cbiAgICBjb25zdCBwYXJhbUFycmF5OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBlbC50YWdOYW1lID09PSAncmVjdCcgPyBlbC5jbG9zZXN0KCcuc3lsJykuaWQgOiBlbC5pZDtcblxuICAgICAgY29uc3QgZHJhZ0FjdGlvbjogRHJhZ0FjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZHJhZycsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB4OiB0aGlzLmR4LFxuICAgICAgICAgIHk6IC10aGlzLmR5LFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwYXJhbUFycmF5LnB1c2goZHJhZ0FjdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogcGFyYW1BcnJheVxuICAgIH07XG5cbiAgICAvLyBTZW5kIGVkaXRvciBhY3Rpb25cbiAgICB0aGlzLm5lb25WaWV3XG4gICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBOZW9uIHJlLXJlbmRlcnMgdGhlIGVudGlyZSBTVkcsIGFuZCBoZW5jZSwgYmVmb3JlIHdlIGRvIHNvLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIGFsbCB0aGUgZWxlbWVudHMgKElEcykgd2UgbmVlZCB0byBzZWxlY3QgYWdhaW5cbiAgICAgICAgLy8gVGhlbiwgd2UgbmVlZCB0byByZXNlbGVjdCB0aGVtIGJ5IGNhbGxpbmcgYHRoaXMucmVzZWxlY3QoKWBcbiAgICAgICAgY29uc3QgdG9SZXNlbGVjdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpXG4gICAgICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSlcbiAgICAgICAgICAubWFwKGVsID0+IGVsLmlkKTtcblxuICAgICAgICAvLyBDQVVUSU9OOiBgdXBkYXRlRm9yQ3VycmVudFBhZ2UoKWAgaXMgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIVxuICAgICAgICAvLyBJdCByZXF1aXJlcyBhbiBgYXdhaXRgIGtleXdvcmQuXG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgdGhpcy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICAvLyBSZXNlbGVjdCB0aGUgZWxlbWVudHMgYW5kIHJlaW5pdGlhbGl6ZSBkcmFnXG4gICAgICAgIGF3YWl0IHRoaXMucmVzZWxlY3QodG9SZXNlbGVjdCk7XG4gICAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVzZWxlY3QgKHRvUmVzZWxlY3Q6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzZWxlY3RlZCA9IHRvUmVzZWxlY3QubWFwKGlkID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHR3JhcGhpY3NFbGVtZW50PihgIyR7aWR9YCkpO1xuXG4gICAgLy8gQWxsIGdseXBocyBleGNlcHQgYm91ZGluZyBib3hlcyAoJ3N5bCdzKSBtdXN0IGJlIHNlbGVjdGVkIHdpdGhcbiAgICAvLyBgc2VsZWN0QWxsKClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKGFzeW5jICgpID0+IGF3YWl0IHNlbGVjdEFsbChyZXNlbGVjdGVkLCB0aGlzLm5lb25WaWV3LCB0aGlzKSk7XG5cbiAgICAvLyBCb3VuZGluZyBib3hlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdEJCb3goKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgZWwgPT4gc2VsZWN0QkJveChlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCB0aGlzLCB0aGlzLm5lb25WaWV3KVxuICAgICAgKTtcblxuICAgIC8vIFN0YXZlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdFN0YWZmKClgXG4gICAgLy8gQU5EIG11c3QgYmUgc2VsZWN0ZWQgd2l0aCBgc2VsZWN0QWxsKClgIGZvciBjb3JyZWN0IGJlaGF2aW9yIChmb3Igc29tZSByZWFzb24pLlxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKVxuICAgICAgLmZvckVhY2goZWwgPT4gc2VsZWN0U3RhZmYoZWwsIHRoaXMpKTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIGQzIGFjdGlvbiB0byB1c2UgZm9yIFtbcmVzZXRdXS4gKi9cbiAgcmVzZXRUbyAocmVzZXQ6IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2V0VG9BY3Rpb24gPSByZXNldDtcbiAgfVxuXG4gIC8qKiBSZXNldCB0byBhIHByZXZpb3VzIGQzIGFjdGlvbiBmb3IgW1t0aGlzLnNlbGVjdG9yXV0uICovXG4gIHJlc2V0ICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZXNldFRvQWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKHRoaXMucmVzZXRUb0FjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICBjb25zdCBleHRyYUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0Jyk7XG4gICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICAgIGlmIChleHRyYUVkaXQpIHtcbiAgICAgIGV4dHJhRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSBtb3ZlIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBieSBgZHhgIGFuZCBgZHlgOyAobm90IHVzaW5nIGQzKVxuICAgKi9cbiAgbW92ZUVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSwgZHg6IG51bWJlciwgZHk6IG51bWJlcik6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtkeH0sJHtkeX0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgcmV0dXJuIHNlbGVjdGVkIGVsZW1lbnRzIHRvIHRoZWlyIG9yaWdpbmFsIHBvc2l0aW9uc1xuICAgKiBieSByZW1vdmluZyB0aGUgdHJhbnNmb3JtIGF0dHJpYnV0ZVxuICAgKi9cbiAgcmV0dXJuRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgndHJhbnNmb3JtJyk7XG4gICAgfSk7XG4gIH1cblxuICBpc0N1cnNvck91dE9mQm91bmRzICgpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbmRYID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF0gKyB0aGlzLmR4O1xuICAgIGNvbnN0IGVuZFkgPSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXSArIHRoaXMuZHk7XG5cbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyhlbmRYLCBlbmRZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgU1ZHXG4gICAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50W119IHNlbGVjdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgc2VsZWN0aW9uIG91dCBvZiBib3VuZHNcbiAgICovXG4gIGlzRHJhZ091dE9mQm91bmRzIChzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3hlcyBvZiBhbGwgZ2x5cGhzICg8dXNlPiBlbGVtZW50cykgd2l0aGluIHRoZSBzZWxlY3Rpb24gYXJyYXlcbiAgICBjb25zdCBpc0JCb3hEaXNwbGF5ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkO1xuICAgIGxldCBnbHlwaFNlbGVjdG9yID0gaXNCQm94RGlzcGxheWVkID8gJ3VzZSwgcmVjdCcgOiAndXNlJztcblxuICAgIGlmIChzZWxlY3Rpb25bMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSBnbHlwaFNlbGVjdG9yID0gJ3BhdGgnO1xuXG4gICAgY29uc3QgZ2x5cGhzOiBTVkdVc2VFbGVtZW50W10gPSBzZWxlY3Rpb24ucmVkdWNlKFxuICAgICAgKGFjYywgZWwpID0+IGFjYy5jb25jYXQoLi4uZWwucXVlcnlTZWxlY3RvckFsbChnbHlwaFNlbGVjdG9yKSksIFtdXG4gICAgKTtcbiAgICBjb25zdCBnbHlwaEJCb3hlczogQkJveFtdID0gZ2x5cGhzLm1hcChnZXRHbHlwaEJCb3gpO1xuXG4gICAgLy8gR2V0IHRoZSBzdXJyb3VuZGluZyBib3VuZGluZyBib3ggb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uQkJveDogQkJveCA9IGdseXBoQkJveGVzLnJlZHVjZShcbiAgICAgIChiYm94LCBjdXJyKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdWx4OiBNYXRoLm1pbihiYm94LnVseCwgY3Vyci51bHgpLFxuICAgICAgICAgIHVseTogTWF0aC5taW4oYmJveC51bHksIGN1cnIudWx5KSxcbiAgICAgICAgICBscng6IE1hdGgubWF4KGJib3gubHJ4LCBjdXJyLmxyeCksXG4gICAgICAgICAgbHJ5OiBNYXRoLm1heChiYm94LmxyeSwgY3Vyci5scnkpLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWx4OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICB1bHk6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIGxyeDogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgICAgbHJ5OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCB7IHVseCwgdWx5LCBscngsIGxyeSB9ID0gc2VsZWN0aW9uQkJveDtcbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyh1bHggKyB0aGlzLmR4LCB1bHkgKyB0aGlzLmR5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCArIHRoaXMuZHgsIGxyeSArIHRoaXMuZHkpO1xuICB9XG59XG5cbmV4cG9ydCB7IERyYWdIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgIC8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3RyaW5naWZ5L3BhcnNlIGZ1bmN0aW9ucyB0aGF0IGRvbid0IG9wZXJhdGVcbiAqIHJlY3Vyc2l2ZWx5LCBzbyB0aGV5IGF2b2lkIGNhbGwgc3RhY2sgZXhjZWVkZWRcbiAqIGVycm9ycy5cbiAqL1xuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgdmFyIHF1ZXVlID0gW107XG4gIHF1ZXVlLnB1c2goe29iajogaW5wdXR9KTtcblxuICB2YXIgcmVzID0gJyc7XG4gIHZhciBuZXh0LCBvYmosIHByZWZpeCwgdmFsLCBpLCBhcnJheVByZWZpeCwga2V5cywgaywga2V5LCB2YWx1ZSwgb2JqUHJlZml4O1xuICB3aGlsZSAoKG5leHQgPSBxdWV1ZS5wb3AoKSkpIHtcbiAgICBvYmogPSBuZXh0Lm9iajtcbiAgICBwcmVmaXggPSBuZXh0LnByZWZpeCB8fCAnJztcbiAgICB2YWwgPSBuZXh0LnZhbCB8fCAnJztcbiAgICByZXMgKz0gcHJlZml4O1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJlcyArPSB2YWw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmVzICs9IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgIHJlcyArPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ10nfSk7XG4gICAgICBmb3IgKGkgPSBvYmoubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgYXJyYXlQcmVmaXggPSBpID09PSAwID8gJycgOiAnLCc7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogb2JqW2ldLCBwcmVmaXg6IGFycmF5UHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICdbJ30pO1xuICAgIH0gZWxzZSB7IC8vIG9iamVjdFxuICAgICAga2V5cyA9IFtdO1xuICAgICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd9J30pO1xuICAgICAgZm9yIChpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICBvYmpQcmVmaXggPSAoaSA+IDAgPyAnLCcgOiAnJyk7XG4gICAgICAgIG9ialByZWZpeCArPSBKU09OLnN0cmluZ2lmeShrZXkpICsgJzonO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IHZhbHVlLCBwcmVmaXg6IG9ialByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAneyd9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciB0aGUgcGFyc2UgZnVuY3Rpb24uXG4vLyBUaGlzIHBvcCBmdW5jdGlvbiBpcyBiYXNpY2FsbHkgY29waWVkIGZyb21cbi8vIHBvdWNoQ29sbGF0ZS5wYXJzZUluZGV4YWJsZVN0cmluZ1xuZnVuY3Rpb24gcG9wKG9iaiwgc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICB9XG4gIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgIGVsZW1lbnQucHVzaChvYmopO1xuICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgfSBlbHNlIHtcbiAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gIH1cbn1cblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG4gIHZhciBjb2xsYXRpb25JbmRleCxwYXJzZWROdW0sbnVtQ2hhcjtcbiAgdmFyIHBhcnNlZFN0cmluZyxsYXN0Q2gsbnVtQ29uc2VjdXRpdmVTbGFzaGVzLGNoO1xuICB2YXIgYXJyYXlFbGVtZW50LCBvYmpFbGVtZW50O1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnfScgfHxcbiAgICAgICAgY29sbGF0aW9uSW5kZXggPT09ICddJyB8fFxuICAgICAgICB0eXBlb2YgY29sbGF0aW9uSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjay5wb3AoKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgY2FzZSAnOic6XG4gICAgICBjYXNlICcsJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduJzpcbiAgICAgICAgaSArPSAzOyAvLyAndWxsJ1xuICAgICAgICBwb3AobnVsbCwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3J1ZSdcbiAgICAgICAgcG9wKHRydWUsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgICBpICs9IDQ7IC8vICdhbHNlJ1xuICAgICAgICBwb3AoZmFsc2UsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzAnOlxuICAgICAgY2FzZSAnMSc6XG4gICAgICBjYXNlICcyJzpcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgY2FzZSAnNCc6XG4gICAgICBjYXNlICc1JzpcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgY2FzZSAnNyc6XG4gICAgICBjYXNlICc4JzpcbiAgICAgIGNhc2UgJzknOlxuICAgICAgY2FzZSAnLSc6XG4gICAgICAgIHBhcnNlZE51bSA9ICcnO1xuICAgICAgICBpLS07XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgbnVtQ2hhciA9IHN0cltpKytdO1xuICAgICAgICAgIGlmICgvW1xcZFxcLlxcLWVcXCtdLy50ZXN0KG51bUNoYXIpKSB7XG4gICAgICAgICAgICBwYXJzZWROdW0gKz0gbnVtQ2hhcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChwYXJzZUZsb2F0KHBhcnNlZE51bSksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgcGFyc2VkU3RyaW5nID0gJyc7XG4gICAgICAgIGxhc3RDaCA9IHZvaWQgMDtcbiAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjaCA9IHN0cltpKytdO1xuICAgICAgICAgIGlmIChjaCAhPT0gJ1wiJyB8fCAobGFzdENoID09PSAnXFxcXCcgJiZcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzICUgMiA9PT0gMSkpIHtcbiAgICAgICAgICAgIHBhcnNlZFN0cmluZyArPSBjaDtcbiAgICAgICAgICAgIGxhc3RDaCA9IGNoO1xuICAgICAgICAgICAgaWYgKGxhc3RDaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChKU09OLnBhcnNlKCdcIicgKyBwYXJzZWRTdHJpbmcgKyAnXCInKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneyc6XG4gICAgICAgIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgKyBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiLyoqXG4gKiBGb3JtYXRzIHJhdyBVVUlEIGRhdGEgaW50byB0aGUgcHJvcGVyIHN0cmluZyBmb3JtYXQuXG4gKiBAcGFyYW0gZGF0YSAtIFJhdyBVVUlEIGRhdGEuXG4gKiBAcmV0dXJucyBGb3JtYXR0ZWQgVVVJRCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHVpbnQ4VG9VdWlkIChkYXRhOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgaWYgKGRhdGEubGVuZ3RoICE9PSAxNikge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNiIChwcmV2aW91czogc3RyaW5nLCBjdXJyZW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBwcmV2aW91cyArIGN1cnJlbnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cblxuICByZXR1cm4gZGF0YS5zbGljZSgwLCA0KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg0LCA2KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg2LCA4KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg4LCAxMCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoMTApLnJlZHVjZShjYiwgJycpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIEEgW3ZlcnNpb24gNCBVVUlEXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Vbml2ZXJzYWxseV91bmlxdWVfaWRlbnRpZmllciNWZXJzaW9uXzRfKHJhbmRvbSkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0ICgpOiBzdHJpbmcge1xuICAvLyBDaGVjayBmb3IgY3J5cHRvIEFQSVxuICBpZiAod2luZG93LmNyeXB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVpbnQ4VG9VdWlkKG5ldyBVaW50OEFycmF5KDE2KSk7XG4gIH1cblxuICAvLyBHZXQgMTYgb2N0ZXRzIGZvciBVVUlEXG4gIGNvbnN0IG9jdGV0cyA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgY29uc3QgbW9kaWZpZXJzID0gVWludDhBcnJheS5mcm9tKFtcbiAgICBwYXJzZUludCgnMDEwMDAwMDAnLCAyKSwgIC8vIFZlcnNpb24gYml0cyAoNCA9PiAwMTAwKVxuICAgIHBhcnNlSW50KCcxMDAwMDAwMCcsIDIpLCAgLy8gVmFyaWFudCBiaXRzICgxMHgpXG4gICAgcGFyc2VJbnQoJzAwMDAxMTExJywgMiksICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZlcnNpb25cbiAgICBwYXJzZUludCgnMDAxMTExMTEnLCAyKSAgIC8vIE1hc2sgdG8gemVybyBoaWdoZXIgYml0cywgdmFyaWFudFxuICBdKTtcbiAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMob2N0ZXRzKTtcbiAgLy8gU2V0IHZlcnNpb24gYml0cyBhbmQgdmFyaWFudCBiaXRzXG4gIG9jdGV0c1s2XSA9IChvY3RldHNbNl0gJiBtb2RpZmllcnNbMl0pIHwgbW9kaWZpZXJzWzBdO1xuICBvY3RldHNbOF0gPSAob2N0ZXRzWzhdICYgbW9kaWZpZXJzWzNdKSB8IG1vZGlmaWVyc1sxXTtcblxuICByZXR1cm4gdWludDhUb1V1aWQob2N0ZXRzKTtcbn1cbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgV2FybmluZ3MgZnJvbSAnLi4vV2FybmluZ3MnO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgKiBhcyBTZWxlY3RUb29scyBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBUb2dnbGVMaWdhdHVyZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHJlbW92ZUhhbmRsZXIsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIgfSBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuXG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBhY2Nlc3MgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cblxuLyoqXG4gKiBTZXQgdGhlIG5lb25WaWV3IG1lbWJlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgc2VsZWN0ZWQgZWxlbWVudHMgY2FuIGJlIGdyb3VwZWQgb3Igbm90XG4gKiBAcmV0dXJucyB0cnVlIGlmIGdyb3VwZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzLnZhbHVlcygpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBpZiAoZ3JvdXBzLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBjYW5ub3QgZ3JvdXAgaWYgb25seSAxIGVsZW1lbnQgaXMgc2VsZWN0ZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgLy8gaWYgbmV1bWVzIGFyZSBpbiBzYW1lIHN5bGxhYmxlLCBkb24ndCBkaXNwbGF5IGdyb3VwaW5nIG9wdGlvblxuICAgICAgaWYgKFNlbGVjdFRvb2xzLnNoYXJlZExvZ2ljYWxQYXJlbnQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gY2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFyZSBhZGphY2VudCB0byBlYWNoIG90aGVyXG4gICAgICBpZiAoU2VsZWN0VG9vbHMuYXJlQWRqYWNlbnQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICB9XG5cbn1cblxuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaXMgYSBzZWxlY3Rpb24gb2YgZWxlbWVudHMgaXMgYWxyZWFkeSBsaW5rZWRcbiAqIEBwYXJhbSBlbGVtZW50cyBlbGVtZW50cyB0byBiZSBjb25zaWRlcmVkXG4gKiBAcmV0dXJucyB0cnVlIGlzIGxpbmtlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmtlZChlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuXG4gIC8vIGlmIG51bWJlciBvZiBlbGVtZW50cyBpcyBub3QgMiwgZWxlbWVudHMgY2Fubm90IGJlIGxpbmtlZCBieSBkZWZpbml0aW9uXG4gIGlmIChlbGVtZW50cy5sZW5ndGggIT09IDIpIHJldHVybiBmYWxzZTtcblxuICAvLyBpZiBwcmVjZWRlcyBhbmQgZm9sbG93cyBhdHRyaWJ1dGVzIGV4aXN0IGFuZCB0aGVpciBJRHMgbWF0Y2hcbiAgaWYgKCgoZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpID09PSBgIyR7ZWxlbWVudHNbMV0uaWR9YCkgJiYgXG4gICAgICAoZWxlbWVudHNbMV0uZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSA9PT0gYCMke2VsZW1lbnRzWzBdLmlkfWApKSB8fFxuICAgICAgKChlbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpID09PSAnIycgKyBlbGVtZW50c1sxXS5pZCkgJiZcbiAgICAgIChlbGVtZW50c1sxXS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgPT09ICcjJyArIGVsZW1lbnRzWzBdLmlkKSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBjYW4gYmUgbGlua2VkIG9yIHVubGlrbmVkLlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgQ3VycmVudCBzZWxlY3Rpb24gbW9kZS4gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWRcbiAqIEBwYXJhbSBlbGVtZW50cyBUaGUgZWxlbWVudHMgdW5kZXIgcXVlc3Rpb24gXG4gKiBAcmV0dXJucyB0cnVlIGlmIHVzZXIgc2hvdWxkIGJlIGFibGUgdG8gbGluayBvciB1bi1saW5rIGVsZW1lbnRzLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuXG4gIHN3aXRjaChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAvLyBvbmx5IGEgc2VsZWN0aW9uIG9mIGxlbmd0aCAyIGNhbiBsZWFkIHRvIG9wdGlvbiB0byB0b2dnbGUgc3lsbGFibGUgbGlua1xuICAgIGNhc2UgMjpcbiAgICAgIC8vIG9ubHkgU3lsbGFibGVzIGNhbiBiZSBsaW5rZWQgb3IgdW5saW5rZWQgKD8pXG4gICAgICBpZiAoc2VsZWN0aW9uVHlwZSAhPT0gJ3NlbEJ5U3lsbGFibGUnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgICAvLyBpZiBBTFJFQURZIGxpbmtlZFxuICAgICAgaWYgKGlzTGlua2VkKFtlbGVtZW50c1swXSwgZWxlbWVudHNbMV1dKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIENBTiBiZSBsaW5rZWRcbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGlzICpjb3VsZCogYmUgYSBzZWxlY3Rpb24gd2l0aCBhIHNpbmdsZSBsb2dpY2FsIHN5bGxhYmxlIHNwbGl0IGJ5IGEgc3RhZmYgYnJlYWsuIFxuICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBhcmUgYWRqYWNlbnQgc3RhdmVzIChsb2dpY2FsbHkpXG4gICAgICAgIGlmIChTZWxlY3RUb29scy5pc011bHRpU3RhdmVTZWxlY3Rpb24oZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3Qgc3RhZmYwID0gZWxlbWVudHNbMF0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAgICAgY29uc3Qgc3RhZmYxID0gZWxlbWVudHNbMV0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAgICAgY29uc3Qgc3RhZmZDaGlsZHJlbiA9IEFycmF5LmZyb20oc3RhZmYwLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgb25lIHN5bGxhYmxlIGlzIHRoZSBsYXN0IGluIHRoZSBmaXJzdCBzdGFmZiBhbmQgdGhlIG90aGVyIGlzIHRoZSBmaXJzdCBpbiB0aGUgc2Vjb25kLlxuICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBzdGFmZiBpcyBmaXJzdC5cbiAgICAgICAgICBjb25zdCBmaXJzdFN0YWZmID0gKHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjApIDwgc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMSkpID8gc3RhZmYwIDogc3RhZmYxO1xuICAgICAgICAgIGNvbnN0IHNlY29uZFN0YWZmID0gKGZpcnN0U3RhZmYuaWQgPT09IHN0YWZmMC5pZCkgPyBzdGFmZjEgOiBzdGFmZjA7XG4gICAgICAgICAgY29uc3QgZmlyc3RMYXllciA9IGZpcnN0U3RhZmYucXVlcnlTZWxlY3RvcignLmxheWVyJyk7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kTGF5ZXIgPSBzZWNvbmRTdGFmZi5xdWVyeVNlbGVjdG9yKCcubGF5ZXInKTtcbiAgICBcbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBmaXJzdCBzdGFmZiBoYXMgZWl0aGVyIHN5bGxhYmxlIGFzIHRoZSBsYXN0IHN5bGxhYmxlXG4gICAgICAgICAgY29uc3QgZmlyc3RTeWxsYWJsZUNoaWxkcmVuID0gQXJyYXkuZnJvbShmaXJzdExheWVyLmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSk7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kU3lsbGFibGVDaGlsZHJlbiA9IEFycmF5LmZyb20oc2Vjb25kTGF5ZXIuY2hpbGRyZW4pLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKTsgICAgXG4gICAgICAgICAgY29uc3QgbGFzdFN5bGxhYmxlID0gZmlyc3RTeWxsYWJsZUNoaWxkcmVuW2ZpcnN0U3lsbGFibGVDaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBmaXJzdFN5bGxhYmxlID0gc2Vjb25kU3lsbGFibGVDaGlsZHJlblswXTtcbiAgICBcbiAgICAgICAgICBpZiAobGFzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1swXS5pZCAmJiBmaXJzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1sxXS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBcbiAgICAgICAgICBlbHNlIGlmIChsYXN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzFdLmlkICYmIGZpcnN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzBdLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgIC8vIGNhbm5vdCB0b2dnbGUgbGluayBmb3Igc3lsbGFibGUgc2VsZWN0aW9uIGlmIG51bWJlciBvZiBzZWxlY3RlZFxuICAgIC8vIHN5bGxhYmxlcyBpcyBub3QgZXF1YWwgdG8gMlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBNZXJnZSBzZWxlY3RlZCBzdGF2ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3RhdmVzICgpOiB2b2lkIHtcbiAgY29uc3Qgc3lzdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi5zZWxlY3RlZCcpO1xuICBjb25zdCBlbGVtZW50SWRzID0gW107XG4gIHN5c3RlbXMuZm9yRWFjaChzdGFmZiA9PiB7XG4gICAgZWxlbWVudElkcy5wdXNoKHN0YWZmLmlkKTtcbiAgfSk7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21lcmdlJyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgIH1cbiAgfTtcbiAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBNZXJnZWQnLCAnc3VjY2VzcycpO1xuICAgICAgU2VsZWN0T3B0aW9ucy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01lcmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuLyoqXG4gKiBUcmlnZ2VyIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqIEBwYXJhbSB0eXBlIC0gVGhlIGdyb3VwaW5nIHR5cGU6IG5jLCBuZXVtZSwgc3lsLCBsaWdhdHVyZU5jLCBvciBsaWdhdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckdyb3VwaW5nICh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MICs9IENvbnRlbnRzLmdyb3VwaW5nTWVudVt0eXBlXTtcbiAgaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGdyb3VwaW5nIHNlbGVjdGlvbiBtZW51LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kR3JvdXBpbmdTZWxlY3Rpb24gKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG59XG5cblxuLyoqXG4gKiBUaGUgZ3JvdXBpbmcgZHJvcGRvd24gbGlzdGVuZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0R3JvdXBpbmdMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG4gIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyZ2VTeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJylcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncm91cE5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWxpZ2F0dXJlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogVG9nZ2xlTGlnYXR1cmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3RvZ2dsZUxpZ2F0dXJlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGUgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuXG4vKipcbiAqIEdyb3VwaW5nL1VuZ3JvdXBpbmcga2V5YmluZGluZyBldmVudCBsaXN0ZW5lclxuICovXG5jb25zdCBrZXlkb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLmtleSA9PT0gJ2cnKSB7XG4gICAgLy8gZ2V0IHNlbGVjdGVkIGVsZW1lbnRzIHRvIGNoZWNrIGlmIHRoZXkgY2FuIGJlIGdyb3VwZWRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCk7XG5cbiAgICAvLyBHcm91cC9tZXJnZSBvciB1bmdyb3VwL3NwbGl0IGJhc2VkIG9uIHNlbGVjdGlvbiB0eXBlXG4gICAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBsaW5ua2FibGUsIHRvZ2dsZSBsaW5rZWQgc3lsbGFibGVcbiAgICAgICAgLy8gbGlua2VkIHN5bGxhYmxlcyBjYW5ub3QgYmUgZ3JvdXBlZC91bmdyb3VwZWRcbiAgICAgICAgaWYgKGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgZ3JvdXBhYmxlIGJlZm9yZSBncm91cGluZ1xuICAgICAgICBlbHNlIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcblxuICAgICAgICB9IFxuICAgICAgICAvLyBjYW4gb25seSB1bmdyb3VwIGlmIGxlbmd0aCBpcyAxIChvbmUgc3lsbGFibGUgc2VsZWN0ZWQpXG4gICAgICAgIC8vIGNhbm5vdCB1bmdyb3VwIGlmIG11bHRpcGxlIHN5bGxhYmxlcyBhcmUgc2VsZWN0ZWRcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBtZXJnZVN0YXZlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYENhbid0IHBlcmZvcm0gZ3JvdXBpbmcvdW5ncm91cGluZyBhY3Rpb24gb24gc2VsZWN0aW9uIHR5cGUgJHtzZWxlY3Rpb25UeXBlfS5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIEZvcm0gYW5kIGV4ZWN1dGUgYSBncm91cC91bmdyb3VwIGFjdGlvbi5cbiAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUuIEVpdGhlciBcImdyb3VwXCIgb3IgXCJ1bmdyb3VwXCIuXG4gKiBAcGFyYW0gZ3JvdXBUeXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudHMgdG8gZ3JvdXAuIEVpdGhlciBcIm5ldW1lXCIgb3IgXCJuY1wiLlxuICogQHBhcmFtIGVsZW1lbnRJZHMgLSBUaGUgSURzIG9mIHRoZSBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ3JvdXBpbmdBY3Rpb24gKGFjdGlvbjogJ2dyb3VwJyB8ICd1bmdyb3VwJywgZ3JvdXBUeXBlOiAnbmV1bWUnIHwgJ25jJywgZWxlbWVudElkczogc3RyaW5nW10pOiB2b2lkIHtcbiAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgcGFyYW06IHtcbiAgICAgIGdyb3VwVHlwZTogZ3JvdXBUeXBlLFxuICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgIH1cbiAgfTtcbiAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfVxuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG5cbiAgICAvLyBQcm9tcHQgdXNlciB0byBjb25maXJtIGlmIE5lb24gZG9lcyBub3QgcmUgY29nbml6ZSBjb250b3VyXG4gICAgaWYgKGdyb3VwVHlwZSA9PT0gJ25jJykge1xuICAgICAgY29uc3QgbmV1bWVQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZVBhcmVudC5jaGlsZHJlbikgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyKG5jcyk7XG4gICAgICBpZiAoY29udG91ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFdhcm5pbmdzLmdyb3VwaW5nTm90UmVjb2duaXplZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIERldGVybWluZSB3aGF0IGFjdGlvbiAobGluay91bmxpbmspIHRvIHBlcmZvcm0gd2hlbiB1c2VyIGNsaWNrcyBvbiBcIlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVcIlxuICogQWxzbyBjYWxsZWQgd2hlbiBjb3JyZXNwaW5kaW5nIGhvdGtleSBpcyBwcmVzc2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IFtdXG4gIH07XG4gIGNvbnN0IHBhcmFtID0gbmV3IEFycmF5PEVkaXRvckFjdGlvbj4oKTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZHNbMF0pLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzFdLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1sxXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgIGF0dHJWYWx1ZTogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMV0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1swXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBc3NvY2lhdGUgc3lsbGFibGVzLiBXaWxsIG5lZWQgdG8gZmluZCB3aGljaCBpcyBmaXJzdC4gVXNlIHN0YXZlcy5cbiAgICBjb25zdCBzeWxsYWJsZTAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKTtcbiAgICBjb25zdCBzeWxsYWJsZTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzFdKTtcbiAgICBjb25zdCBzdGFmZjAgPSBzeWxsYWJsZTAuY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgY29uc3Qgc3RhZmYxID0gc3lsbGFibGUxLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IHN0YWZmQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmMC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSk7XG5cbiAgICBsZXQgZmlyc3RTeWxsYWJsZSwgc2Vjb25kU3lsbGFibGU7XG4gICAgLy8gRGV0ZXJtaW5lIGZpcnN0IHN5bGxhYmxlIGNvbWVzIGZpcnN0IGJ5IHN0YWZmXG4gICAgaWYgKHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjApIDwgc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMSkpIHtcbiAgICAgIGZpcnN0U3lsbGFibGUgPSBzeWxsYWJsZTA7XG4gICAgICBzZWNvbmRTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyc3RTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICAgIHNlY29uZFN5bGxhYmxlID0gc3lsbGFibGUwO1xuICAgIH1cblxuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZmlyc3RTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgIGF0dHJWYWx1ZTogJyMnICsgc2Vjb25kU3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IHNlY29uZFN5bGxhYmxlLmlkLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcjJyArIGZpcnN0U3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBEZWxldGUgc3lsIG9uIHNlY29uZCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bCA9IHNlY29uZFN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICBpZiAoc3lsICE9PSBudWxsKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN5bC5pZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY2hhaW5BY3Rpb24ucGFyYW0gPSBwYXJhbTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RvZ2dsZWQgU3lsbGFibGUgTGluaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byBUb2dnbGUgU3lsbGFibGUgTGluaycpO1xuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiBzZWxlY3RlZCBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ2V0SWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGlkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGlkcy5wdXNoKGVsLmlkKTtcbiAgfSk7XG4gIHJldHVybiBpZHM7XG59XG5cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgSURzIG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50cycgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkcmVuSWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGNoaWxkcmVuSWRzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZWwuY2hpbGRyZW4pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goY2ggPT4ge1xuICAgICAgY2hpbGRyZW5JZHMucHVzaChjaC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW5JZHM7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3gsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmLCBzZWxlY3RBbGwgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgUmVzaXplQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgaXNPdXRPZlNWR0JvdW5kcyB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5cbi8qKlxuICogUmVzaXplIGEgc3RhZmYgb3IgYSBzeWxsYWJsZSB0ZXh0IGJvdW5kaW5nIGJveC5cbiAqIEZvciBzdGF2ZXMsIHRoaXMgYWxzbyBzdXBwb3J0cyBhZGp1c3RpbmcgdGhlIHJvdGF0ZS5cbiAqL1xudHlwZSBQb2ludCA9IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IG5hbWU6IG51bWJlciB9O1xuXG4vKipcbiAqIFRoZSBwb2ludHMgeW91IGNhbiBjbGljayBhbmQgZHJhZyB0byByZXNpemVcbiAqL1xuY29uc3QgUG9pbnROYW1lcyA9IHtcbiAgVG9wTGVmdDogMCxcbiAgVG9wOiAxLFxuICBUb3BSaWdodDogMixcbiAgUmlnaHQ6IDMsXG4gIEJvdHRvbVJpZ2h0OiA0LFxuICBCb3R0b206IDUsXG4gIEJvdHRvbUxlZnQ6IDYsXG4gIExlZnQ6IDdcbn07XG5cbmZ1bmN0aW9uIGdldFBvaW50cyh1bHg6IG51bWJlciwgdWx5OiBudW1iZXIsIGxyeDogbnVtYmVyLCBscnk6IG51bWJlciwgcm90YXRlOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgLy8gTm90ZSB0aGF0IGFyYyBmdW5jdGlvbnMgcmV0dXJuIGFuIGFuZ2xlIHggaW4gWy1waS8yLCBwaS8yXS5cbiAgbGV0IHBvaW50czogQXJyYXk8UG9pbnQ+O1xuICAvLyB1bCBpcyB1bHgsIHVseSwgbHIgaXMgbHJ4LCBscnlcbiAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BMZWZ0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogdWx5ICsgKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiAodWx5ICsgbHJ5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpKSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSAobHJ4IC0gdWx4KSAvIDIgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogKHVseSArIGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgLy8gTm90IHRoYXRcbiAgZWxzZSB7XG4gICAgY29uc3QgYSA9IChscnggLSB1bHgpICogTWF0aC50YW4oTWF0aC5hYnMocm90YXRlKSk7XG4gICAgY29uc3QgYiA9IGxyeSAtIHVseSAtIGE7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSArIGEsIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlRvcCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BSaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgYiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21SaWdodCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IGxyeSAtIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5IC0gYiAvIDIsIG5hbWU6IFBvaW50TmFtZXMuTGVmdCB9XG4gICAgXTtcbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldywgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyKTogdm9pZCB7XG4gIGxldCB1bHg6IG51bWJlcjtcbiAgbGV0IHVseTogbnVtYmVyO1xuICBsZXQgbHJ4OiBudW1iZXI7XG4gIGxldCBscnk6IG51bWJlcjtcbiAgbGV0IHJvdGF0ZTogbnVtYmVyO1xuXG4gIGxldCBpbml0aWFsVWx4OiBudW1iZXIsIGluaXRpYWxMcng6IG51bWJlcjtcbiAgbGV0IGluaXRpYWxQb2ludDogbnVtYmVyW10sIGluaXRpYWxVbHk6IG51bWJlciwgaW5pdGlhbExyeTogbnVtYmVyLFxuICAgIGluaXRpYWxZOiBudW1iZXIsIGluaXRpYWxSZWN0WTogbnVtYmVyLCBwb2x5TGVuOiBudW1iZXIsIGR5OiBudW1iZXIsIGluaXRpYWxSb3RhdGU6IG51bWJlcjtcblxuICBkcmF3SW5pdGlhbFJlY3QoKTtcblxuICAvKipcbiAgICogUmVkcmF3IHRoZSByZWN0YW5nbGUgd2l0aCB0aGUgbmV3IGJvdW5kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVkcmF3ICgpOiB2b2lkIHtcbiAgICBjb25zdCBwb2ludHM6IFBvaW50W10gPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmc6IHN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF9lbGVtLCBpbmRleCkgPT4geyByZXR1cm4gaW5kZXggJSAyID09PSAwOyB9KVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgcG9pbnRTdHJpbmcpO1xuXG4gICAgY29uc3QgdGV4dFJlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsLnNlbGVjdGVkID4gLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAodGV4dFJlY3QpIHtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneCcsIFN0cmluZyhNYXRoLm1pbih1bHgsIGxyeCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneScsIFN0cmluZyhNYXRoLm1pbih1bHksIGxyeSkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBTdHJpbmcoTWF0aC5hYnMobHJ4IC0gdWx4KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBTdHJpbmcoTWF0aC5hYnMobHJ5IC0gdWx5KSkpO1xuICAgIH1cblxuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBwb2ludE5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICBsZXQgeSA9IHBvaW50c1szXS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICB4ID0gcG9pbnRzWzddLng7XG4gICAgeSA9IHBvaW50c1s3XS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICh4IC0gMTMwKSArICcsJyArICh5IC0gNTApICsgJyAnICsgKHggLSAxMDApICsgJywnICsgKHkgLSA4NSkgKyAnICcgKyAoeCAtIDcwKSArICcsJyArICh5IC0gNTApO1xuXG4gICAgZDMuc2VsZWN0KCcjcm90YXRlTGVmdCcpLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nTGVmdCk7XG4gICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBpbml0aWFsIHJlY3RhbmdsZSBhcm91bmQgdGhlIGVsZW1lbnRcbiAgICogYW5kIGFkZCB0aGUgbGlzdGVuZXJzIHRvIHN1cHBvcnQgZHJhZ2dpbmcgdG8gcmVzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gZHJhd0luaXRpYWxSZWN0ICgpOiB2b2lkIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgLy8gaWYgaXQncyBhIGJvdW5kaW5nYm94IGp1c3QgZ2V0IHRoZSBjb29yZGluYXRlc1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAocmVjdCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RyaWVkIHRvIGRyYXcgcmVzaXplIHJlY3QgZm9yIGEgc3lsVGV4dFJlY3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgKG9yIGlzblxcJ3QgZGlzcGxheWluZyknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdWx4ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd4JykpO1xuICAgICAgdWx5ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgbHJ4ID0gK3VseCArICtyZWN0LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgIGxyeSA9ICt1bHkgKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuXG4gICAgICByb3RhdGUgPSAwO1xuICAgIH1cblxuICAgIC8vIGlmIGl0J3MgYSBzdGFmZiB1c2UgdGhlIHBhdGhzIHRvIGdldCBpdCdzIGJvdW5kaW5nYm94XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBjb25zdCBiYm94ID0gZ2V0U3RhZmZCQm94KGVsZW1lbnQpO1xuICAgICAgdWx4ID0gYmJveC51bHg7XG4gICAgICB1bHkgPSBiYm94LnVseTtcbiAgICAgIGxyeCA9IGJib3gubHJ4O1xuICAgICAgbHJ5ID0gYmJveC5scnk7XG5cbiAgICAgIGNvbnN0IGNvb3JkaW5hdGVzOiBudW1iZXJbXSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigncGF0aCcpXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgICAgLm1hcChlbGVtZW50ID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC9cbiAgICAgICAgKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pKTtcbiAgICB9XG5cbiAgICBpbml0aWFsVWx4ID0gdWx4LCBpbml0aWFsVWx5ID0gdWx5LCBpbml0aWFsTHJ4ID0gbHJ4LCBpbml0aWFsTHJ5ID0gbHJ5O1xuXG4gICAgbGV0IHdoaWNoUG9pbnQ6IHN0cmluZztcblxuICAgIGNvbnN0IHBvaW50cyA9IGdldFBvaW50cyh1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSk7XG5cbiAgICBwb2x5TGVuID0gcG9pbnRzWzJdLnggLSBwb2ludHNbMF0ueDtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nID0gcG9pbnRzLmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICUgMiA9PT0gMClcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmcpXG4gICAgICAuYXR0cignaWQnLCAncmVzaXplUmVjdCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxMClcbiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdjdXJzb3InLCAnbW92ZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMjAgMTAnKTtcblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KGVsZW1lbnQudmlld3BvcnRFbGVtZW50KS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpXG4gICAgICAgIC5hdHRyKCdyJywgMjUpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNClcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdpZCcsICdwLScgKyBwb2ludE5hbWUpO1xuICAgIH1cblxuICAgIC8vIGRvIGl0IGFzIGEgbG9vcCBpbnN0ZWFkIG9mIHNlbGVjdEFsbCBzbyB0aGF0IHlvdSBjYW4gZWFzaWx5IGtub3cgd2hpY2ggcG9pbnQgd2FzXG4gICAgZm9yIChjb25zdCBuYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGQzLnNlbGVjdCgnI3AtJyArIG5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsICgpID0+IHsgcmVzaXplU3RhcnQobmFtZSk7IH0pXG4gICAgICAgICAgLm9uKCdkcmFnJywgcmVzaXplRHJhZylcbiAgICAgICAgICAub24oJ2VuZCcsIHJlc2l6ZUVuZC5iaW5kKHRoaXMpKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBsZXQgeCA9IHBvaW50c1szXS54O1xuICAgICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAgICh4ICsgNzApICsgJywnICsgKHkgKyA1MCkgKyAnICcgKyAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDE1KSArICcgJyArICh4ICsgMTMwKSArICcsJyArICh5ICsgNTApO1xuICAgICAgeCA9IHBvaW50c1s3XS54O1xuICAgICAgeSA9IHBvaW50c1s3XS55O1xuICAgICAgY29uc3QgcG9pbnRTdHJpbmdMZWZ0ID0gKHggLSAxMDApICsgJywnICsgKHkgLSAxNSkgKyAnICcgK1xuICAgICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlUmlnaHQnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncm90YXRlUG9pbnQnKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpXG4gICAgICAgIC5hdHRyKCdpZCcsICdyb3RhdGVMZWZ0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ0xlZnQpXG4gICAgICAgICAgLm9uKCdlbmQnLCByb3RhdGVFbmQpKTtcblxuICAgICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ1JpZ2h0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplU3RhcnQgKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgd2hpY2hQb2ludCA9IG5hbWU7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50cy5maW5kKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXNbbmFtZV0pO1xuICAgICAgaW5pdGlhbFBvaW50ID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplRHJhZyAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50UG9pbnQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIHN3aXRjaCAoUG9pbnROYW1lc1t3aGljaFBvaW50XSkge1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wOlxuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3BSaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdIC0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGluaXRpYWxMcnkgKyAoY3VycmVudFBvaW50WzBdIC0gaW5pdGlhbFBvaW50WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21SaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tOlxuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXSArIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBpbml0aWFsVWx5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NvbWV0aGluZyB0aGF0IHdhc25cXCd0IGEgc2lkZSBvZiB0aGUgcmVjdGFuZ2xlIHdhcyBkcmFnZ2VkLiBUaGlzIHNob3VsZG5cXCd0IGhhcHBlbi4nKTtcbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgdWx4ID0gaW5pdGlhbFVseCwgdWx5ID0gaW5pdGlhbFVseSwgbHJ4ID0gaW5pdGlhbExyeCwgbHJ5ID0gaW5pdGlhbExyeTtcbiAgICAgICAgcmVkcmF3KCk7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJlc2l6ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFJlc2l6ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApO1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RTdGFmZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApLCBkcmFnSGFuZGxlcik7XG5cbiAgICAgICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21vcmVFZGl0Jyk7XG5cbiAgICAgICAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgICAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFJPVEFURVxuICAgIGZ1bmN0aW9uIHJvdGF0ZVN0YXJ0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IHdoaWNoID0gZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0LmlkO1xuICAgICAgaW5pdGlhbFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgICBpbml0aWFsVWx5ID0gdWx5O1xuICAgICAgaW5pdGlhbFJlY3RZID0gKHdoaWNoID09PSAncm90YXRlUmlnaHQnID8gbHJ5IDogdWx5KTtcbiAgICAgIGluaXRpYWxSb3RhdGUgPSByb3RhdGU7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRHJhZ0xlZnQgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGNvbnN0IHRlbXAgPSBjdXJyZW50WSAtIGluaXRpYWxZO1xuICAgICAgY29uc3QgdGVtcFJvdGF0ZSA9IGluaXRpYWxSb3RhdGUgLSBNYXRoLmF0YW4odGVtcCAvIHBvbHlMZW4pO1xuICAgICAgaWYgKHRlbXBSb3RhdGUgPiAtMC4yICYmIHRlbXBSb3RhdGUgPCAwLjIpIHtcbiAgICAgICAgZHkgPSB0ZW1wO1xuICAgICAgICB1bHkgPSBpbml0aWFsUmVjdFkgKyBkeTtcbiAgICAgICAgcm90YXRlID0gdGVtcFJvdGF0ZTtcbiAgICAgICAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgICAgICAgdWx5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wTGVmdClbMF0ueTtcbiAgICAgICAgICBscnkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tUmlnaHQpWzBdLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWx5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcFJpZ2h0KVswXS55O1xuICAgICAgICAgIGxyeSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbUxlZnQpWzBdLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZURyYWdSaWdodCAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50WSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgY29uc3QgdGVtcCA9IGN1cnJlbnRZIC0gaW5pdGlhbFk7XG4gICAgICBjb25zdCB0ZW1wUm90YXRlID0gaW5pdGlhbFJvdGF0ZSArIE1hdGguYXRhbih0ZW1wIC8gcG9seUxlbik7XG4gICAgICBpZiAodGVtcFJvdGF0ZSA+IC0wLjIgJiYgdGVtcFJvdGF0ZSA8IDAuMikge1xuICAgICAgICBkeSA9IHRlbXA7XG4gICAgICAgIHJvdGF0ZSA9IHRlbXBSb3RhdGU7XG4gICAgICAgIGlmIChyb3RhdGUgPj0gMCApIHtcbiAgICAgICAgICBscnkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21SaWdodClbMF0ueTtcbiAgICAgICAgICB1bHkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wTGVmdClbMF0ueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bHkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BSaWdodClbMF0ueTtcbiAgICAgICAgICBscnkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tTGVmdClbMF0ueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRW5kICgpOiB2b2lkIHtcbiAgICAgIGlmIChkeSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGR5ID0gMDtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHModWx4LCB1bHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4LCBscnkpKSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yZXNpemVQb2ludCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcjcmVzaXplUmVjdCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucm90YXRlUG9pbnQnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcblxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5pZCkgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdWx5ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnggPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RTdGFmZihlbGVtZW50LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcXVldWVOb3RpZmljYXRpb24oJ1tGQUlMXSBHbHlwaHMgd2VyZSBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgUm90YXRlIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdyZXNpemVSb3RhdGUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICB1bHg6IHVseCxcbiAgICAgICAgICB1bHk6IHVseSxcbiAgICAgICAgICBscng6IGxyeCxcbiAgICAgICAgICBscnk6IGxyeSxcbiAgICAgICAgICByb3RhdGU6IHJvdGF0ZSAqIDE4MCAvIE1hdGguUElcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudC5pZCkgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIHVseCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdWx5ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnggPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBzZWxlY3RBbGwoW2VsZW1lbnRdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RTdGFmZihlbGVtZW50LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiLyoqIEBtb2R1bGUgdXRpbHMvU2VsZWN0ICovXG5cbmltcG9ydCB7IHVuc2VsZWN0LCBnZXRTdGFmZkJCb3gsIHNlbGVjdFN0YWZmLCBzZWxlY3RBbGwsIGdldFNlbGVjdGlvblR5cGUgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4vUmVzaXplJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBJbmZvSW50ZXJmYWNlIH0gZnJvbSAnLi4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgWm9vbUhhbmRsZXIgZnJvbSAnLi4vU2luZ2xlVmlldy9ab29tJztcblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQkJveCwgZ2V0U3RhZmZCeUNvb3JkcywgUG9pbnQgfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcblxubGV0IGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlciwgbmVvblZpZXc6IE5lb25WaWV3LCBpbmZvOiBJbmZvSW50ZXJmYWNlLCB6b29tSGFuZGxlcjogWm9vbUhhbmRsZXI7XG5sZXQgc3Ryb2tlV2lkdGggPSA3O1xuXG4vKipcbiAqIFNldCBzdHJva2Ugd2lkdGggb24gZHJhZyBzZWxlY3QgYm94LlxuICogQHBhcmFtIHdpZHRoIC0gU3Ryb2tlIHdpZHRoIGluIHBpeGVscy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdFN0cm9rZVdpZHRoICh3aWR0aDogbnVtYmVyKTogdm9pZCB7XG4gIHN0cm9rZVdpZHRoID0gd2lkdGg7XG59XG5cbi8qKlxuICogU2V0IHRoZSBvYmplY3RzIGZvciB0aGlzIG1vZHVsZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNlbGVjdEhlbHBlck9iamVjdHMgKG52OiBOZW9uVmlldywgZGg6IERyYWdIYW5kbGVyKTogdm9pZCB7XG4gIGRyYWdIYW5kbGVyID0gZGg7XG4gIG5lb25WaWV3ID0gbnY7XG4gIGluZm8gPSBuZW9uVmlldy5pbmZvO1xuICB6b29tSGFuZGxlciA9IG5lb25WaWV3LnZpZXcuem9vbUhhbmRsZXI7XG59XG5cbmZ1bmN0aW9uIGVzY2FwZUtleUxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykubGVuZ3RoID4gMCkge1xuICAgICAgaW5mby5pbmZvTGlzdGVuZXJzKCk7XG4gICAgfVxuICAgIHVuc2VsZWN0KCk7XG4gIH1cbn1cblxuLy8gRU5URVIgS0VZOiB3aGVuIGEgQkJveCBpcyBzZWxlY3RlZCwgcHJlc3NpbmcgZW50ZXIgd2lsbFxuLy8gICB0cmlnZ2VyIHRoZSBlZGl0IHN5bGxhYmxlIHRleHQgZnVuY3Rpb24uXG5mdW5jdGlvbiBlbnRlcktleUxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgLy8gY2hlY2sgaWYgJ2VudGVyJyBpcyBwcmVzc2VkIHdpdGggdGhlIGNvcnJlY3QgY29uZGl0aW9uc1xuICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlCQm94J1xuICAgIHx8ICEoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZFxuICAgIHx8IGV2dC5rZXkgIT09ICdFbnRlcidcbiAgKVxuICAgIHJldHVybjtcblxuICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuXG4gIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgc3lsbGFibGUgc2VsZWN0ZWRcbiAgaWYgKHNlbGVjdGVkKSB7XG4gICAgY29uc3Qgc3BhbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uJyArIHNlbGVjdGVkLmlkKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIC8vIHdlIHNpbXVsYXRlIGEgY2xpY2sgYmVjYXVzZSB0aGUgbWV0aG9kIGB1cGRhdGVTeWxUZXh0KClgIGlzIG9ubHlcbiAgICAvLyBhY2Nlc3NpYmxlIGluc2lkZSBUZXh0RWRpdE1vZGU7IHRoZSBzcGFuIGhhcyBhbiBldmVudCBsaXN0ZW5lciBmb3JcbiAgICAvLyBjbGlja3MuXG4gICAgc3Bhbi5jbGljaygpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFycm93S2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlCQm94JyB8fCAoZXZ0LmtleSAhPT0gJ0Fycm93TGVmdCcgJiYgZXZ0LmtleSAhPT0gJ0Fycm93UmlnaHQnKSlcbiAgICByZXR1cm47XG5cbiAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcbiAgY29uc3Qgc3lsbGFibGVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSk7XG5cbiAgLy8gbm90IGFsbCBzeWxsYWJsZXMgaGF2ZSBCQm94ZXM7IHdlIG11c3QgZmlsdGVyIHRoZW0gb3V0XG4gIGNvbnN0IGJib3hTeWxsYWJsZXMgPSBzeWxsYWJsZXMuZmlsdGVyKHN5bCA9PiBzeWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSAhPT0gbnVsbCk7XG4gIGNvbnN0IGluZCA9IGJib3hTeWxsYWJsZXMuaW5kZXhPZihzZWxlY3RlZCk7XG5cbiAgaWYgKGV2dC5rZXkgPT09ICdBcnJvd0xlZnQnICYmIGluZCA+IDApIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveCA9IGJib3hTeWxsYWJsZXNbaW5kIC0gMV0ucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBzZWxlY3RBbGwoW2Jib3ggYXMgU1ZHR3JhcGhpY3NFbGVtZW50XSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnQXJyb3dSaWdodCcgJiYgaW5kIDwgYmJveFN5bGxhYmxlcy5sZW5ndGggLSAxKSB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3ggPSBiYm94U3lsbGFibGVzW2luZCArIDFdLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgc2VsZWN0QWxsKFtiYm94IGFzIFNWR0dyYXBoaWNzRWxlbWVudF0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNTZWxCeUJCb3ggKCk6IGJvb2xlYW4ge1xuICBjb25zdCBzZWxCeUJCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk7XG4gIGlmIChzZWxCeUJCb3gpIHtcbiAgICByZXR1cm4gc2VsQnlCQm94LmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJyk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBzdG9wUHJvcEhhbmRsZXIgKGV2dDogRXZlbnQpOiB2b2lkIHsgZXZ0LnN0b3BQcm9wYWdhdGlvbigpOyB9XG5cbi8qKlxuICogR2V0IGJvdW5kaW5nIGJveCBvZiBhbiBlbGVtZW50XG4gKi9cbmZ1bmN0aW9uIGdldEJCb3hDb29yZHMgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQpOiBCQm94IHtcbiAgaWYgKGlzU2VsQnlCQm94KCkpIHtcbiAgICBjb25zdCB1bHggPSBOdW1iZXIoZWwuZ2V0QXR0cmlidXRlKCd4JykpLCB1bHkgPSBOdW1iZXIoZWwuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgIC8vIFdoYXQgaXMgdGhlIG1hdGggaGVyZT8/P1xuICAgIGNvbnN0IGxyeCA9IHVseCArIE51bWJlcigoZWwuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLnNsaWNlKDAsIC0yKSkpO1xuICAgIGNvbnN0IGxyeSA9IHVseSArIE51bWJlcigoZWwuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKS5zbGljZSgwLCAtMikpKTtcblxuICAgIHJldHVybiB7IHVseCwgdWx5LCBscngsIGxyeSB9O1xuICB9XG5cbiAgaWYgKGVsLnRhZ05hbWUgPT09ICd1c2UnKSB7XG4gICAgY29uc3QgcmVjdCA9IChlbC5wYXJlbnROb2RlIGFzIFNWR0dFbGVtZW50KS5nZXRCQm94KCk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgdWx4OiByZWN0LngsXG4gICAgICB1bHk6IHJlY3QueSxcbiAgICAgIGxyeDogcmVjdC54ICsgcmVjdC53aWR0aCxcbiAgICAgIGxyeTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGdldFN0YWZmQkJveChlbCk7XG59XG5cblxuLyoqXG4gKiBDaGVja3Mgd2hldGhlciBhbiBlbGVtZW50IGlzIHdpdGhpbiB0aGUgZHJhZyBzZWxlY3Rpb24gcmVjdGFuZ2xlLlxuICogUmV0dXJucyB0cnVlIGlmIHRoZSBlbGVtZW50IGlzIHdpdGhpbiB0aGUgYm91bmRzIG9mIGB1bGAgKHVwcGVyIGxlZnQpIGFuZCBgbHJgIChsb3dlciByaWdodClcbiAqL1xuZnVuY3Rpb24gaXNFbGVtZW50SW5SZWN0KGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIHVsOiBQb2ludCwgbHI6IFBvaW50KTogYm9vbGVhbiB7XG4gIGlmIChpc1NlbEJ5QkJveCgpIHx8IGVsLnRhZ05hbWUgPT09ICd1c2UnKSB7XG4gICAgY29uc3QgYmJveCA9IGdldEJCb3hDb29yZHMoZWwpO1xuICAgIFxuICAgIC8vIFdlIHdhbnQgdG8gZmluZCB3aGV0aGVyIHRoZSBib3VuZGluZyBib3ggb3ZlcmxhcHMgd2l0aCB0aGUgcmVjdGFuZ2xlXG4gICAgLy8gZGVmaW5lZCBieSBgdWxgIGFuZCBgbHJgLiBUaGUgZWFzaWVzdCBzb2x1dGlvbiBpcyB0byBuZWdhdGUgYSBzdW0tb2YtcHJvZHVjdHMgZXF1YXRpb246XG4gICAgLy8gaS5lLiwgdGhlcmUgYXJlIDQgcG9zc2liaWxpdGllcyBpbiB3aGljaCB0aGUgdHdvICpkb24ndCogb3ZlcmxhcFxuICAgIHJldHVybiAhKGxyLnggPCBiYm94LnVseCB8fCB1bC54ID4gYmJveC5scnggfHwgbHIueSA8IGJib3gudWx5IHx8IHVsLnkgPiBiYm94LmxyeSk7XG4gIH1cblxuICAvLyBUT0RPOiBTaW1wbGlmeVxuICBjb25zdCBib3ggPSBnZXRTdGFmZkJCb3goZWwpO1xuICByZXR1cm4gISgodWwueCA8IGJveC51bHggJiYgbHIueCA8IGJveC51bHgpIHx8ICh1bC54ID4gYm94LmxyeCAmJiBsci54ID4gYm94LmxyeCkgfHxcbiAgICAgICAgICAodWwueSA8IChib3gudWx5ICsgTWF0aC5hYnMoYm94LnVseCAtIHVsLngpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpICYmXG4gICAgICAgICAgICBsci55IDwgKGJveC51bHkgKyBNYXRoLmFicyhib3gudWx4IC0gdWwueCkgKiBNYXRoLnRhbihib3gucm90YXRlKSkpIHx8XG4gICAgICAgICAgKHVsLnkgPiAoYm94LmxyeSArIE1hdGguYWJzKGJveC5scnkgLSBsci55KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSAmJlxuICAgICAgICAgICAgbHIueSA+IChib3gubHJ5ICsgTWF0aC5hYnMoYm94LmxyeSAtIGxyLnkpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpKSk7XG59XG5cbi8qKlxuICogQXBwbHkgbGlzdGVuZXJzIGZvciBjbGljayBzZWxlY3Rpb24uXG4gKiBAcGFyYW0gc2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIHVzZWQgdG8gY2hvb3NlIHdoZXJlIGxpc3RlbmVycyBhcmUgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNsaWNrU2VsZWN0IChzZWxlY3Rvcjogc3RyaW5nKTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IpLmZvckVhY2goc2VsID0+IHtcbiAgICBzZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2xpY2tIYW5kbGVyKTtcbiAgICBzZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgY2xpY2tIYW5kbGVyKTtcbiAgfSk7XG5cbiAgLy8gQ2xpY2sgYXdheSBsaXN0ZW5lcnNcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjYXBlS2V5TGlzdGVuZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlc2NhcGVLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVudGVyS2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGFycm93S2V5TGlzdGVuZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhcnJvd0tleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY29udGV4dG1lbnUnLCAoZXZ0KSA9PiB7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCd1c2UscmVjdCwjbW9yZUVkaXQnKS5mb3JFYWNoKHNlbCA9PiB7XG4gICAgc2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFByb3BIYW5kbGVyKTtcbiAgICBzZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUHJvcEhhbmRsZXIpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBIYW5kbGUgY2xpY2sgZXZlbnRzIHJlbGF0ZWQgdG8gZWxlbWVudCBzZWxlY3Rpb24uXG4gKi9cblxuLy8gVGhlIGB0aGlzYCBrZXl3b3JkIGNhbiBiZSBcInBhc3NlZFwiIGFzIGEgZmFrZSBwYXJhbWV0ZXIgc28gdGhhdCB3ZSBjYW4gdHlwZSBpdCBjb3JyZWN0bHlcbi8vIGh0dHBzOi8vd3d3LnR5cGVzY3JpcHRsYW5nLm9yZy9kb2NzL2hhbmRib29rLzIvZnVuY3Rpb25zLmh0bWwjZGVjbGFyaW5nLXRoaXMtaW4tYS1mdW5jdGlvblxuZnVuY3Rpb24gY2xpY2tIYW5kbGVyICh0aGlzOiBTVkdHcmFwaGljc0VsZW1lbnQsIGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAvLyBSZXR1cm4gaWYgdXNlciBpcyBpbiBpbnNlcnQgbW9kZSBvciBwYW5uaW5nIGlzIGFjdGl2ZSBmcm9tIHNoaWZ0IGtleVxuICBpZiAoIW5lb25WaWV3IHx8IG5lb25WaWV3LmdldFVzZXJNb2RlKCkgPT09ICdpbnNlcnQnIHx8IGV2dC5zaGlmdEtleSlcbiAgICByZXR1cm47XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGNoZWNrIGlmIHRoZSBjdHJsL2NtZCBrZXkgaGFzIGJlZW4gc2VsZWN0ZWRcbiAgZnVuY3Rpb24gaXNNdWx0aVNlbGVjdCAoKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIHdpbmRvdy5uYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9NYWMvKSA/IGV2dC5tZXRhS2V5IDogZXZ0LmN0cmxLZXk7XG4gIH1cblxuICAvLyBJZiB1c2VyIGhhcyBjbGlja2VkIGEgbGF5ZXIgZWxlbWVudFxuICBpZiAodGhpcy50YWdOYW1lID09PSAndXNlJyAmJiBnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgIGxldCBzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdID0gW3RoaXNdO1xuXG4gICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIHBhcnQgb2YgYSBsaWdhdHVyZSBhbmQsIGlmIHNvLCBhZGQgYWxsIG9mIGl0IHRvIHRoZSBzZWxlY3Rpb24uXG4gICAgICBjb25zdCBmaXJzdExpZ2F0dXJlSGFsZiA9IC9FOUJbNDU2NzhdLztcbiAgICAgIGNvbnN0IHNlY29uZExpZ2F0dXJlSGFsZiA9IC9FOUJbOUFCQ10vO1xuICAgICAgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goc2Vjb25kTGlnYXR1cmVIYWxmKSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBzZWNvbmQgcGFydCBvZiBhIGxpZ2F0dXJlXG4gICAgICAgIGNvbnN0IG5jID0gdGhpcy5jbG9zZXN0KCcubmMnKTtcbiAgICAgICAgY29uc3QgbmV1bWUgPSB0aGlzLmNsb3Nlc3QoJy5uZXVtZScpO1xuICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihuYyk7XG4gICAgICAgIGNvbnN0IGZpcnN0VXNlID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCAtIDFdLmNoaWxkcmVuWzBdIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoZmlyc3RVc2UuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goZmlyc3RMaWdhdHVyZUhhbGYpLCAnRmlyc3QgZ2x5cGggb2YgbGlnYXR1cmUgdW5leHBlY3RlZCEnKTtcblxuICAgICAgICBpZiAoZmlyc3RVc2UuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgICAgICBzZWxlY3Rpb24udW5zaGlmdChmaXJzdFVzZSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChmaXJzdExpZ2F0dXJlSGFsZikpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgZmlyc3QgcGFydCBvZiBhIGxpZ2F0dXJlXG4gICAgICAgIGNvbnN0IG5jID0gdGhpcy5jbG9zZXN0KCcubmMnKTtcbiAgICAgICAgY29uc3QgbmV1bWUgPSB0aGlzLmNsb3Nlc3QoJy5uZXVtZScpO1xuICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihuYyk7XG4gICAgICAgIGNvbnN0IHNlY29uZFVzZSA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggKyAxXS5jaGlsZHJlblswXSBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KHNlY29uZFVzZS5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChzZWNvbmRMaWdhdHVyZUhhbGYpLCAnU2Vjb25kIGdseXBoIG9mIGxpZ2F0dXJlIHVuZXhwZWN0ZWQhJyk7XG5cbiAgICAgICAgaWYgKHNlY29uZFVzZS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdGlvbi5wdXNoKHNlY29uZFVzZSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpKTtcbiAgICAgIH1cblxuICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBjb25zdCBzZWxlY3Rpb25Nb2RlID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNlbC1ieSAuaXMtYWN0aXZlJykuaWQ7XG4gICAgICAgIGNvbnN0IG1vZGVUb0NsYXNzID0ge1xuICAgICAgICAgIHNlbEJ5U3RhZmY6ICcuc3RhZmYnLFxuICAgICAgICAgIHNlbEJ5TmV1bWU6ICcubmV1bWUnLFxuICAgICAgICAgIHNlbEJ5TmM6ICcubmMnLFxuICAgICAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50OiAnLmFjY2lkJyxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgc2VsZWN0ZWRDbGFzcyA9IG1vZGVUb0NsYXNzW3NlbGVjdGlvbk1vZGVdIHx8ICcuc3lsbGFibGUnO1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbdGhpcy5jbG9zZXN0KHNlbGVjdGVkQ2xhc3MpXTtcblxuICAgICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICAgIHNlbGVjdGlvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiAhcmVtb3ZlLmluY2x1ZGVzKGVsKSk7XG5cbiAgICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKChldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS50YWdOYW1lID09PSAncmVjdCcgJiYgZ2V0U2VsZWN0aW9uVHlwZSgpID09PSAnc2VsQnlCQm94Jykge1xuICAgIGlmICh0aGlzLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICBsZXQgc2VsZWN0aW9uID0gW2V2dC50YXJnZXRdIGFzIFNWR0dFbGVtZW50W107XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKSBhcyBTVkdHRWxlbWVudFtdKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLm1hcCggKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT0gJ3JlY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtRGlzcGxheScpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHNlbGVjdGlvbiA9IFtdO1xuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBjb25zdCByZW1vdmUgPSBbdGhpc107XG4gICAgICAgIHNlbGVjdGlvbiA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5tYXAoIChlbCkgPT4ge1xuICAgICAgICAgIGlmIChlbC50YWdOYW1lID09ICdyZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LURpc3BsYXknKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5maWx0ZXIoIChlbCkgPT4ge1xuICAgICAgICAgIHJldHVybiAhcmVtb3ZlLmluY2x1ZGVzKGVsKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5U3RhZmYnKSB7XG4gICAgICBpbmZvLmluZm9MaXN0ZW5lcnMoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgcG9pbnQgaXMgaW4gYSBzdGFmZi5cbiAgICBpZiAoIWlzTXVsdGlTZWxlY3QoKSlcbiAgICAgIHVuc2VsZWN0KCk7XG5cbiAgICAvLyBTZWxlY3QgYSBzdGFmZlxuICAgIGNvbnN0IHN0YWZmID0gZ2V0U3RhZmZCeUNvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuICAgIFxuICAgIGlmICghc3RhZmYpIHJldHVybjtcblxuICAgIGlmICghc3RhZmYuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAvLyBTZWxlY3QgcHJldmlvdXNseSB1bnNlbGVjdGVkIHN0YWZmXG4gICAgICBzZWxlY3RTdGFmZihzdGFmZiwgZHJhZ0hhbmRsZXIpO1xuICAgICAgcmVzaXplKHN0YWZmLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgfVxuICAgIC8vIFRyaWdnZXIgbW91c2Vkb3duIGV2ZW50IG9uIHRoZSBzdGFmZlxuICAgIHN0YWZmLmRpc3BhdGNoRXZlbnQobmV3IE1vdXNlRXZlbnQoJ21vdXNlZG93bicsIHtcbiAgICAgIHNjcmVlblg6IGV2dC5zY3JlZW5YLFxuICAgICAgc2NyZWVuWTogZXZ0LnNjcmVlblksXG4gICAgICBjbGllbnRYOiBldnQuY2xpZW50WCxcbiAgICAgIGNsaWVudFk6IGV2dC5jbGllbnRZLFxuICAgICAgY3RybEtleTogZXZ0LmN0cmxLZXksXG4gICAgICBzaGlmdEtleTogZXZ0LnNoaWZ0S2V5LFxuICAgICAgYWx0S2V5OiBldnQuYWx0S2V5LFxuICAgICAgbWV0YUtleTogZXZ0Lm1ldGFLZXksXG4gICAgICB2aWV3OiBldnQudmlld1xuICAgIH0pKTtcbiAgfVxufVxuXG4vKipcbiAqIEFwcGx5IGxpc3RlbmVycyBmb3IgZHJhZyBzZWxlY3Rpb24uXG4gKiBAcGFyYW0gc2VsZWN0b3IgLSBUaGUgQ1NTIHNlbGVjdG9yIHVzZWQgdG8gY2hvb3NlIHdoZXJlIGxpc3RlbmVycyBhcmUgYXBwbGllZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGRyYWdTZWxlY3QgKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgbGV0IGluaXRpYWxYID0gMDtcbiAgbGV0IGluaXRpYWxZID0gMDtcbiAgbGV0IHBhbm5pbmcgPSBmYWxzZTtcbiAgbGV0IGRyYWdTZWxlY3RpbmcgPSBmYWxzZTtcbiAgLy8gdmFyIGNhbnZhcyA9IGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpO1xuXG4gIGNvbnN0IGNhbnZhcyA9IGQzLnNlbGVjdChzZWxlY3Rvcik7XG5cbiAgLyoqXG4gICAqIENoZWNrIGlmIGEgcG9pbnQgaXMgaW4gdGhlIGJvdW5kcyBvZiBhIHN0YWZmIGVsZW1lbnQuXG4gICAqIFJvdGF0ZSBpcyBub3QgdGFrZW4gaW50byBhY2NvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gcG9pbnROb3RJblN0YWZmIChwdDogbnVtYmVyW10pOiBib29sZWFuIHtcbiAgICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3N0YWZmJykpO1xuICAgIGNvbnN0IGZpbHRlcmVkID0gc3RhdmVzLmZpbHRlcigoc3RhZmY6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgICBjb25zdCBiYm94ID0gZ2V0U3RhZmZCQm94KHN0YWZmKTtcbiAgICAgIGNvbnN0IHVseCA9IGJib3gudWx4O1xuICAgICAgY29uc3QgdWx5ID0gYmJveC51bHk7XG4gICAgICBjb25zdCBscnggPSBiYm94LmxyeDtcbiAgICAgIGNvbnN0IGxyeSA9IGJib3gubHJ5O1xuICAgICAgY29uc3Qgcm90YXRlID0gYmJveC5yb3RhdGU7XG5cbiAgICAgIHJldHVybiAocHRbMF0gPiB1bHggJiYgcHRbMF0gPCBscngpICYmXG4gICAgICAgIChwdFsxXSA+ICh1bHkgKyAocHRbMF0gLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSkpICYmXG4gICAgICAgIChwdFsxXSA8IChscnkgLSAobHJ4IC0gcHRbMF0pICogTWF0aC50YW4ocm90YXRlKSkpO1xuICAgIH0pO1xuICAgIHJldHVybiAoZmlsdGVyZWQubGVuZ3RoID09PSAwKTtcbiAgfVxuXG4gIC8qKlxuICAgICAqIENyZWF0ZSBhbiBpbml0aWFsIGRyYWdnaW5nIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gdWx4IC0gVGhlIHVwcGVyIGxlZnQgeC1wb3NpdGlvbiBvZiB0aGUgbmV3IHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gdWx5IC0gVGhlIHVwcGVyIGxlZnQgeS1wb3NpdGlvbiBvZiB0aGUgbmV3IHJlY3RhbmdsZS5cbiAgICAgKi9cbiAgZnVuY3Rpb24gaW5pdFJlY3QgKHVseDogbnVtYmVyLCB1bHk6IG51bWJlcik6IHZvaWQge1xuICAgIGNhbnZhcy5hcHBlbmQoJ3JlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCB1bHgpXG4gICAgICAuYXR0cigneScsIHVseSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIDApXG4gICAgICAuYXR0cignaGVpZ2h0JywgMClcbiAgICAgIC5hdHRyKCdpZCcsICdzZWxlY3RSZWN0JylcbiAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZVdpZHRoKVxuICAgICAgLmF0dHIoJ2ZpbGwnLCAnbm9uZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsU3RhcnQgKCk6IHZvaWQge1xuICAgIGlmICghbmVvblZpZXcpIHJldHVybjtcbiAgICBjb25zdCB1c2VyTW9kZSA9IG5lb25WaWV3LmdldFVzZXJNb2RlKCk7XG4gICAgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5ub2RlTmFtZSAhPT0gJ3VzZScgJiYgdXNlck1vZGUgIT09ICdpbnNlcnQnICYmIGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5ub2RlTmFtZSAhPT0gJ3JlY3QnKSB7XG4gICAgICBpZiAoIWQzLmV2ZW50LnNvdXJjZUV2ZW50LnNoaWZ0S2V5KSB7IC8vIElmIG5vdCBob2xkaW5nIGRvd24gc2hpZnQga2V5IHRvIHBhblxuICAgICAgICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSB8fFxuICAgICAgICAgIHBvaW50Tm90SW5TdGFmZihkMy5tb3VzZSh0aGlzKSkpIHtcbiAgICAgICAgICB1bnNlbGVjdCgpO1xuICAgICAgICAgIGRyYWdTZWxlY3RpbmcgPSB0cnVlO1xuICAgICAgICAgIGNvbnN0IGluaXRpYWxQID0gZDMubW91c2UodGhpcyk7XG4gICAgICAgICAgaW5pdGlhbFggPSBpbml0aWFsUFswXTtcbiAgICAgICAgICBpbml0aWFsWSA9IGluaXRpYWxQWzFdO1xuICAgICAgICAgIGluaXRSZWN0KGluaXRpYWxYLCBpbml0aWFsWSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhbm5pbmcgPSB0cnVlO1xuICAgICAgICBpZiAoem9vbUhhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudC5zaGlmdEtleSkge1xuICAgICAgcGFubmluZyA9IHRydWU7XG4gICAgICBpZiAoem9vbUhhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB6b29tSGFuZGxlci5zdGFydERyYWcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGRyYWdnaW5nIHJlY3RhbmdsZS5cbiAgICAgKiBAcGFyYW0gbmV3WCAtIFRoZSBuZXcgdWx4LlxuICAgICAqIEBwYXJhbSBuZXdZIC0gVGhlIG5ldyB1bHkuXG4gICAgICogQHBhcmFtIGN1cnJlbnRXaWR0aCAtIFRoZSB3aWR0aCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgKiBAcGFyYW0gY3VycmVudEhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlY3RhbmdsZSBpbiBwaXhlbHMuXG4gICAgICovXG4gIGZ1bmN0aW9uIHVwZGF0ZVJlY3QgKG5ld1g6IG51bWJlciwgbmV3WTogbnVtYmVyLCBjdXJyZW50V2lkdGg6IG51bWJlciwgY3VycmVudEhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgZDMuc2VsZWN0KCcjc2VsZWN0UmVjdCcpXG4gICAgICAuYXR0cigneCcsIG5ld1gpXG4gICAgICAuYXR0cigneScsIG5ld1kpXG4gICAgICAuYXR0cignd2lkdGgnLCBjdXJyZW50V2lkdGgpXG4gICAgICAuYXR0cignaGVpZ2h0JywgY3VycmVudEhlaWdodCk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRFbGVtZW50c0J5U2VsZWN0b3IgKHNlbGVjdG9yOiBzdHJpbmcpOiBTVkdHcmFwaGljc0VsZW1lbnRbXSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSlcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyAnIHVzZSwgJyArIHNlbGVjdG9yICsgJyAuc3RhZmYnKSk7XG5cbiAgICBpZiAoaXNTZWxCeUJCb3goKSlcbiAgICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyAnIC5zeWxUZXh0UmVjdC1kaXNwbGF5JykpO1xuXG4gICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgdXNlJykpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0aW5nICgpOiB2b2lkIHtcbiAgICBpZiAoIXBhbm5pbmcgJiYgZHJhZ1NlbGVjdGluZykge1xuICAgICAgY29uc3QgY3VycmVudFB0ID0gZDMubW91c2UodGhpcyk7XG4gICAgICBjb25zdCBjdXJYID0gY3VycmVudFB0WzBdO1xuICAgICAgY29uc3QgY3VyWSA9IGN1cnJlbnRQdFsxXTtcblxuICAgICAgY29uc3QgbmV3WCA9IGN1clggPCBpbml0aWFsWCA/IGN1clggOiBpbml0aWFsWDtcbiAgICAgIGNvbnN0IG5ld1kgPSBjdXJZIDwgaW5pdGlhbFkgPyBjdXJZIDogaW5pdGlhbFk7XG4gICAgICBjb25zdCB3aWR0aCA9IGN1clggPCBpbml0aWFsWCA/IGluaXRpYWxYIC0gY3VyWCA6IGN1clggLSBpbml0aWFsWDtcbiAgICAgIGNvbnN0IGhlaWdodCA9IGN1clkgPCBpbml0aWFsWSA/IGluaXRpYWxZIC0gY3VyWSA6IGN1clkgLSBpbml0aWFsWTtcblxuICAgICAgdXBkYXRlUmVjdChuZXdYLCBuZXdZLCB3aWR0aCwgaGVpZ2h0KTtcbiAgICB9IGVsc2UgaWYgKHBhbm5pbmcpIHtcbiAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHpvb21IYW5kbGVyLmRyYWdnaW5nKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsRW5kICgpOiB2b2lkIHtcbiAgICBpZiAoIXBhbm5pbmcgJiYgZHJhZ1NlbGVjdGluZykge1xuICAgICAgY29uc3Qgc2VsZWN0UmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3RSZWN0Jyk7XG4gICAgICBjb25zdCByeCA9IHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd4JykpO1xuICAgICAgY29uc3QgcnkgPSBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgneScpKTtcbiAgICAgIGNvbnN0IGx4ID0gcnggKyBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgnd2lkdGgnKSk7XG4gICAgICBjb25zdCBseSA9IHJ5ICsgcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKTtcblxuICAgICAgLy8gVHJhbnNmb3JtIHRvIHRoZSBjb3JyZWN0IGNvb3JkaW5hdGUgc3lzdGVtXG4gICAgICBjb25zdCBub2RlID0gY2FudmFzLm5vZGUoKSBhcyBTVkdTVkdFbGVtZW50O1xuICAgICAgbGV0IHVsID0gbmV3IERPTVBvaW50KHJ4LCByeSksIGxyID0gbmV3IERPTVBvaW50KGx4LCBseSk7XG4gICAgICBjb25zdCB0cmFuc2Zvcm0gPSBub2RlLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKVxuICAgICAgICAubXVsdGlwbHkoKGNhbnZhcy5zZWxlY3QoJy5zeXN0ZW0nKS5ub2RlKCkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50KS5nZXRTY3JlZW5DVE0oKSlcbiAgICAgICAgLmludmVyc2UoKTtcbiAgICAgIHVsID0gdWwubWF0cml4VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG4gICAgICBsciA9IGxyLm1hdHJpeFRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuXG4gICAgICAvLyBHZXQgYWxsIGVsZW1lbnRzIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHNlbGVjdG9yXG4gICAgICBjb25zdCBlbGVtZW50cyA9IGdldEVsZW1lbnRzQnlTZWxlY3RvcihzZWxlY3Rvcik7XG4gICAgICAvLyBHZXQgdGhlIGVsZW1lbnRzIHdpdGhpbiB0aGUgc2VsZWN0aW9uIHJlY3RhbmdsZVxuICAgICAgY29uc3Qgc2VsZWN0ZWRFbGVtZW50cyA9IGVsZW1lbnRzLmZpbHRlcihlbCA9PiBpc0VsZW1lbnRJblJlY3QoZWwsIHVsLCBscikpO1xuXG4gICAgICAvLyBHZXQgb3RoZXIgaGFsdmVzIG9mIGxpZ2F0dXJlcyBpZiBvbmx5IG9uZSBpcyBzZWxlY3RlZFxuICAgICAgc2VsZWN0ZWRFbGVtZW50cy5mb3JFYWNoKChlbGVtZW50OiBTVkdFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LnRhZ05hbWUgPT09ICd1c2UnICYmIGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goL0U5Qls0NTY3ODlBQkNdLykpIHtcbiAgICAgICAgICBjb25zdCBuZXVtZSA9IGVsZW1lbnQuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgICAgY29uc3QgbmNJbmRleCA9IEFycmF5LmZyb20obmV1bWUuY2hpbGRyZW4pLmluZGV4T2YoZWxlbWVudC5jbG9zZXN0KCcubmMnKSk7XG4gICAgICAgICAgaWYgKGVsZW1lbnQuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goL0U5Qls0NTY3OF0vKSkge1xuICAgICAgICAgICAgLy8gQWRkIHNlY29uZCBoYWxmIG9mIGxpZ2F0dXJlIHRvIHNlbGVjdGVkIGxpc3QgaWYgbm90IGFscmVhZHkgcHJlc2VudFxuICAgICAgICAgICAgY29uc3Qgc2Vjb25kTmMgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4ICsgMV07XG4gICAgICAgICAgICBjb25zdCBzZWNvbmRVc2UgPSBzZWNvbmROYy5xdWVyeVNlbGVjdG9yKCd1c2UnKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmluZGV4T2Yoc2Vjb25kVXNlKSA8IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKHNlY29uZFVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8vIEFkZCBmaXJzdCBoYWxmIG9mIGxpZ2F0dXJlIHRvIHNlbGVjdGVkIGxpc3QgaWYgbm90IGFscmVhZHkgcHJlc2VudFxuICAgICAgICAgICAgY29uc3QgZmlyc3ROYyA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggLSAxXTtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0VXNlID0gZmlyc3ROYy5xdWVyeVNlbGVjdG9yKCd1c2UnKTtcbiAgICAgICAgICAgIGlmIChzZWxlY3RlZEVsZW1lbnRzLmluZGV4T2YoZmlyc3RVc2UpIDwgMCkge1xuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goZmlyc3RVc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBzZWxlY3RBbGwoc2VsZWN0ZWRFbGVtZW50cywgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgICBkMy5zZWxlY3RBbGwoJyNzZWxlY3RSZWN0JykucmVtb3ZlKCk7XG4gICAgICBkcmFnU2VsZWN0aW5nID0gZmFsc2U7XG4gICAgfVxuICAgIHBhbm5pbmcgPSBmYWxzZTtcbiAgfVxuXG4gIGQzLnNlbGVjdEFsbChzZWxlY3Rvci5yZXBsYWNlKCcuYWN0aXZlLXBhZ2UnLCAnJykudHJpbSgpKVxuICAgIC5vbignLmRyYWcnLCBudWxsKTtcbiAgY29uc3QgZHJhZ1NlbGVjdEFjdGlvbiA9IGQzLmRyYWcoKVxuICAgIC5vbignc3RhcnQnLCBzZWxTdGFydClcbiAgICAub24oJ2RyYWcnLCBzZWxlY3RpbmcpXG4gICAgLm9uKCdlbmQnLCBzZWxFbmQpO1xuICBjYW52YXMuY2FsbChkcmFnU2VsZWN0QWN0aW9uKTtcbiAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgZHJhZ0hhbmRsZXIucmVzZXRUbyhkcmFnU2VsZWN0QWN0aW9uKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IHsgZXJyb3JMb2dzUGFuZWxDb250ZW50cyB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MsIGdldFNldHRpbmdzIH0gZnJvbSAnLi9Mb2NhbFNldHRpbmdzJztcblxuXG4vLyBUT0RPOiBzdHlsaW5nXG5mdW5jdGlvbiBjcmVhdGVMb2dNZXNzYWdlIChub3RpZjogTm90aWZpY2F0aW9uKTogRWxlbWVudCB7XG4gIGNvbnN0IG5vdGlmRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5vdGlmRGl2LmNsYXNzTGlzdC5hZGQoJ25vdGlmaWNhdGlvbi1jb250YWluZXInKTtcbiAgbm90aWZEaXYuaW5uZXJIVE1MID0gYFxuICAgIDxkaXYgY2xhc3M9XCJub3RpZmljYXRpb24td3JhcHBlclwiPlxuXG4gICAgICA8ZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLW1haW5cIj4ke25vdGlmLm1lc3NhZ2V9PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctZXh0cmFcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2IGNsYXNzPVwicmVtb3ZlLW5vdGlmLWljb24td3JhcHBlclwiPlxuICAgICAgPGltZyBjbGFzcz1cImxvZy1yZW1vdmUgcmVtb3ZlLW5vdGlmLWljb25cIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnXCI+XG4gICAgPC9kaXY+XG4gIGA7XG5cbiAgY29uc3QgcmVtb3ZlID0gbm90aWZEaXYucXVlcnlTZWxlY3RvcjxIVE1MQnV0dG9uRWxlbWVudD4oJy5sb2ctcmVtb3ZlJyk7XG4gIHJlbW92ZS5vbmNsaWNrID0gKCkgPT4gbm90aWZEaXYucmVtb3ZlKCk7XG4gIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCAoKSA9PiB7XG4gICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLW9wZW4uc3ZnYCk7XG4gIH0pO1xuICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCAoKSA9PiB7XG4gICAgcmVtb3ZlLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLWNsb3NlZC5zdmdgKTtcbiAgfSk7XG5cbiAgcmV0dXJuIG5vdGlmRGl2O1xufVxuXG5cbi8qKlxuICogQWRkIG5vdGlmaWNhdGlvbiB0byB0aGUgcGVyc2lzdGVudCBlcnJvciBsb2cgb24gdGhlIHNpZGViYXJcbiAqIEBwYXJhbSBub3RpZiB7Tm90aWZpY2F0aW9ufSBOb3RpZmljYXRpb24gdG8gYWRkIHRvIHRoZSBlcnJvciBsb2dcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlY29yZE5vdGlmaWNhdGlvbiAobm90aWY6IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBjb25zdCBsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpO1xuICBsb2cucHJlcGVuZChjcmVhdGVMb2dNZXNzYWdlKG5vdGlmKSk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplIGVycm9yIGxvZy5cbiAqIEFkZHMgbmVjZXNzYXJ5IEhUTUwgdG8gRE9NLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nKCk6IHZvaWQge1xuICAvLyBFcnJvciBsb2cgcGFuZWxcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBsb2cuaW5uZXJIVE1MID0gZXJyb3JMb2dzUGFuZWxDb250ZW50cztcblxuICBpbml0RXJyb3JMb2dDb250cm9scygpO1xufVxuXG5cbi8qKlxuICogU2V0IHVwIGV2ZW50IGxpc3RlbmVycyBmb3IgZXJyb3IgTG9nIHBhbmVsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXJyb3JMb2dDb250cm9scygpOiB2b2lkIHtcbiAgY29uc3QgZXJyb3JQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgaGVhZGluZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0hlYWRpbmcnKTtcbiAgY29uc3QgZHJvcGRvd25JY29uID0gaGVhZGluZy5xdWVyeVNlbGVjdG9yKCdzdmcgPiB1c2UnKTtcbiAgY29uc3QgY29udGVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dDb250ZW50cycpIGFzIEhUTUxFbGVtZW50O1xuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgaWYgKGRpc3BsYXlFcnJMb2cpIGVycm9yUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gIGhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZXJyb3IgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGNvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGFuIG9wZW4gcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIG9wZW4sIGNsb3NlIGl0XG4gICAgZWxzZSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhIGNsb3NlZCBwYW5lbFxuICAgICAgY29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcblxuICBpbml0RGlzcGxheUxpc3RlbmVyKCk7XG59XG5cblxuLyoqXG4gKiBJbml0aWFsaXplcyBjbGljayBsaXN0ZW5lciBvbiBcIlNob3cgZXJyb3IgbG9nc1wiIGJ1dHRvbiBpbiBcIlZpZXdcIiBkcm9wZG93bi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5TGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGNvbnN0IGNoZWNrYm94ZXNDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGlzcGxheS1zaW5nbGUtY29udGFpbmVyJyk7XG4gIGNvbnN0IGVycm9yc0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgY29uc3QgZXJvcnJzQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcblxuICBlcm9ycnNCdG4uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgZXJyb3JzTGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gIGVycm9yc0xhYmVsLnRleHRDb250ZW50ID0gJ0Vycm9ycyc7XG4gIGVyb3Jyc0J0bi5pZCA9ICdkaXNwbGF5LWVycm9ycyc7XG4gIGVyb3Jyc0J0bi50eXBlID0gJ2NoZWNrYm94JztcbiAgZXJvcnJzQnRuLmNoZWNrZWQgPSBmYWxzZTtcbiAgZXJyb3JzTGFiZWwuYXBwZW5kQ2hpbGQoZXJvcnJzQnRuKTtcbiAgY2hlY2tib3hlc0NvbnRhaW5lci5hcHBlbmQoZXJyb3JzTGFiZWwpO1xuXG5cbiAgY29uc3QgeyBkaXNwbGF5RXJyTG9nIH0gPSBnZXRTZXR0aW5ncygpO1xuICBpZiAoZGlzcGxheUVyckxvZykgZXJvcnJzQnRuLmNoZWNrZWQgPSB0cnVlO1xuXG4gIGVyb3Jyc0J0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIC8vIHNldFNldHRpbmdzKHsgZGlzcGxheUJCb3g6IGRpc3BsYXlCQm94ZXMuY2hlY2tlZCB9KTtcblxuICAgIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gICAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5RXJyTG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktZXJyb3JzJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuXG4gICAgaWYgKGVyb3Jyc0J0bi5jaGVja2VkKSB7XG4gICAgICBub3RpZlBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcbiAgICAgIHNldFNldHRpbmdzKHsgZGlzcGxheUVyckxvZzogdHJ1ZSB9KTtcblxuICAgICAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgICAgIGRpc3BsYXlUZXh0Py5jaGVja2VkICYmIGRpc3BsYXlFcnJMb2c/LmNoZWNrZWQpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdIaWRlIEFsbCc7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlFcnJMb2c6IGZhbHNlIH0pO1xuICAgICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgICBcbiAgfSk7XG59XG4iLCJpbXBvcnQgeyBzZWxlY3RCQm94LCB1bnNlbGVjdCB9IGZyb20gJy4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4vTmVvblZpZXcnO1xuaW1wb3J0IHsgc2V0U2VsZWN0SGVscGVyT2JqZWN0cywgZHJhZ1NlbGVjdCwgY2xpY2tTZWxlY3QgfSBmcm9tICcuL3V0aWxzL1NlbGVjdCc7XG5pbXBvcnQgeyBzZXRHcm91cGluZ0hpZ2hsaWdodCB9IGZyb20gJy4vdXRpbHMvQ29sb3InO1xuaW1wb3J0IHsgVGV4dEVkaXRJbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0ICB7IE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuXG4vKipcbiAqIEZvcm1hdCBhIHN0cmluZyBmb3IgcHJvbXB0aW5nIHRoZSB1c2VyLlxuICogQHBhcmFtIHJhd1N0cmluZyAtIFRoZSB1bmZvcm1hdHRlZCBzdHJpbmcuXG4gKi9cbi8qXG5mdW5jdGlvbiBmb3JtYXRSYXcgKHJhd1N0cmluZzogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICByZXR1cm4gcmF3U3RyaW5nLnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xufVxuKi9cblxuZnVuY3Rpb24gc2VsQnlTeWxsYWJsZUxpc3RlbmVyICgpOiB2b2lkIHtcbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgIHVuc2VsZWN0KCk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOYycpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TmV1bWUnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN0YWZmJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTeWxsYWJsZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TGF5ZXJFbGVtZW50JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICB0cnkge1xuICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH1cbiAgdGhpcy5hZGRCQm94TGlzdGVuZXJzKCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB1cGRhdGVTZWxlY3RlZEJCb3ggKHNwYW46IEhUTUxTcGFuRWxlbWVudCwgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgdW5zZWxlY3QoKTtcblxuICBjb25zdCBiYm94SWQgPSBBcnJheS5mcm9tKHNwYW4uY2xhc3NMaXN0KS5maW5kKGUgPT4gZSAhPT0gJ3RleHQtc2VsZWN0JyAmJiBlICE9PSAnc2VsZWN0ZWQtdG8tZWRpdCcpO1xuXG4gIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpKSB7XG4gICAgICBjb25zdCBkaXNwbGF5UmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICBzZWxlY3RCQm94KGRpc3BsYXlSZWN0LCBkcmFnSGFuZGxlciwgbmVvblZpZXcpO1xuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIEEgVGV4dCBlZGl0aW5nIG1vZHVsZSB0aGF0IHdvcmtzIHdpdGggdGhlIFNpbmdsZVZpZXcgYW5kIERpdmFWaWV3IG1vZHVsZXNcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGV4dEVkaXRNb2RlIGltcGxlbWVudHMgVGV4dEVkaXRJbnRlcmZhY2Uge1xuICBwcml2YXRlIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcjtcbiAgcHJpdmF0ZSBuZW9uVmlldzogTmVvblZpZXc7XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBhIFRleHRFZGl0XG4gICAqIEBwYXJhbSBuZW9uVmlldyAtIFRoZSBjYWxsaW5nIFtbTmVvblZpZXddXSBmb3IgdGhlIGluc3RhbmNlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLmluaXRUZXh0RWRpdCgpO1xuICB9XG5cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBib3VuZGluZyBib3ggc2VsZWN0ZWQgd2hlbiB0aGUgZWRpdCB0ZXh0IG1vZGFsIGhhcyBiZWVuIGNsaWNrZWQgXG4gICAqL1xuICB1cGRhdGVTZWxlY3RlZEJCb3ggKHNwYW46IEhUTUxTcGFuRWxlbWVudCk6IHZvaWQge1xuICAgIHVuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBiYm94SWQgPSBBcnJheS5mcm9tKHNwYW4uY2xhc3NMaXN0KS5maW5kKGUgPT4gZSAhPT0gJ3RleHQtc2VsZWN0JyAmJiBlICE9PSAnc2VsZWN0ZWQtdG8tZWRpdCcpO1xuXG4gICAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKSkge1xuICAgICAgICBjb25zdCBkaXNwbGF5UmVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIHNlbGVjdEJCb3goZGlzcGxheVJlY3QsIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgLyoqXG4gICogU2V0IHRleHQgdG8gZWRpdCBtb2RlXG4gICovXG4gIGluaXRUZXh0RWRpdCAoKTogdm9pZCB7XG4gICAgY29uc3Qgc3BhbnMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3lsX3RleHQnKS5xdWVyeVNlbGVjdG9yQWxsKCdzcGFuJyk7XG4gICAgY29uc3QgbW9kYWwgPSB0aGlzLm5lb25WaWV3Lm1vZGFsO1xuICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxTcGFuRWxlbWVudCkgPT4ge1xuICAgICAgZnVuY3Rpb24gc2VsZWN0U3lsVGV4dCAoKTogdm9pZCB7XG4gICAgICAgIHNwYW4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQtdG8tZWRpdCcpO1xuICAgICAgICBtb2RhbC5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVCk7XG4gICAgICAgIG1vZGFsLm9wZW5Nb2RhbFdpbmRvdygpO1xuICAgICAgICB1cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICB9XG5cbiAgICAgIHNwYW4ucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxlY3RTeWxUZXh0KTtcbiAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxlY3RTeWxUZXh0KTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgLyoqXG4gICogQWRkIHRoZSBzZWxlY3RCeUJCb3ggYnV0dG9uLlxuICAqIElmIG5ldW1lIGVkaXQgbW9kZSBpcyB0aGVyZSwgYWRkIGl0IHRvIHRoZSBiYXIgd2l0aCB0aGUgb3RoZXIgc2VsZWN0IGJ5IGJ1dHRvbnMuXG4gICogT3RoZXJ3aXNlIGFkZCBhbiBpbnZpc2libGUgYnV0dG9uXG4gICogc2luY2UgdGhlIG9ubHkgZWRpdCBtb2RlIGlzIHNlbGVjdEJ5UmVjdCBpbiB0aGF0IGNhc2VcbiAgKi9cbiAgaW5pdFNlbGVjdEJ5QkJveEJ1dHRvbiAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMubmVvblZpZXcuTmV1bWVFZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNlbEJ5QkJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKTtcbiAgICAgIGlmIChzZWxCeUJCb3gpIHtcbiAgICAgICAgc2VsQnlCQm94LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBibG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxlY3Rpb24tbW9kZS1idG5zLWNvbnRhaW5lcicpO1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnc2lkZS1wYW5lbC1idG4nLCAnc2VsLWJ5Jyk7XG4gICAgICBidXR0b24uaWQgPSAnc2VsQnlCQm94JztcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdCQm94JztcbiAgICAgIGJsb2NrLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICBidXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxCeVN5bGxhYmxlTGlzdGVuZXIuYmluZCh0aGlzKSk7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICAgIGlmIChldnQua2V5ID09PSAnNicpIHtcbiAgICAgICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLnN0eWxlLmRpc3BsYXkgPT09ICcnKSB7XG4gICAgICAgICAgICBzZWxCeVN5bGxhYmxlTGlzdGVuZXIuYmluZCh0aGlzKSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5hZGRCQm94TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBibG9jayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvJykuY2xvc2VzdCgnLmNvbnRyb2wnKTtcbiAgICAgIGNvbnN0IHAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdwJyk7XG4gICAgICBwLmNsYXNzTGlzdC5hZGQoJ2NvbnRyb2wnKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJywgJ3NlbC1ieScpO1xuICAgICAgYnV0dG9uLmlkID0gJ3NlbEJ5QkJveCc7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQkJveCc7XG4gICAgICBwLmFwcGVuZENoaWxkKGJ1dHRvbik7XG4gICAgICBibG9jay5hcHBlbmRDaGlsZChwKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIGJ1dHRvbi5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgdGhpcy5hZGRCQm94TGlzdGVuZXJzKCk7XG4gICAgICB0aGlzLm5lb25WaWV3LnZpZXcuYWRkVXBkYXRlQ2FsbGJhY2sodGhpcy5hZGRCQm94TGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHNlbGVjdCBieSBiYm94IG1vZGVcbiAgICovXG4gIGFkZEJCb3hMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGlmICh0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIGp1c3QgaW4gY2FzZVxuICAgICAgICB0aGlzLmRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICBzZXRTZWxlY3RIZWxwZXJPYmplY3RzKHRoaXMubmVvblZpZXcsIHRoaXMuZHJhZ0hhbmRsZXIpO1xuICAgICAgICBpZiAodGhpcy5uZW9uVmlldy52aWV3LmNvbnN0cnVjdG9yLm5hbWUgPT09ICdTaW5nbGVWaWV3Jykge1xuICAgICAgICAgIGNsaWNrU2VsZWN0KCcjbWVpX291dHB1dCwgI21laV9vdXRwdXQgcmVjdCcpO1xuICAgICAgICAgIGRyYWdTZWxlY3QoJyNzdmdfZ3JvdXAnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjbGlja1NlbGVjdCgnLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnLCAuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcgcmVjdCcpO1xuICAgICAgICAgIGRyYWdTZWxlY3QoJy5hY3RpdmUtcGFnZSBzdmcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IGltbWVkaWF0ZSBmcm9tICdpbW1lZGlhdGUnO1xuaW1wb3J0IHsgdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBNZDUgZnJvbSAnc3BhcmstbWQ1JztcbmltcG9ydCB2dXZ1emVsYSBmcm9tICd2dXZ1emVsYSc7XG5pbXBvcnQgZ2V0QXJndW1lbnRzIGZyb20gJ2FyZ3NhcnJheSc7XG5pbXBvcnQgaW5oZXJpdHMgZnJvbSAnaW5oZXJpdHMnO1xuaW1wb3J0IEVFIGZyb20gJ2V2ZW50cyc7XG5cbmZ1bmN0aW9uIG1hbmdsZShrZXkpIHtcbiAgcmV0dXJuICckJyArIGtleTtcbn1cbmZ1bmN0aW9uIHVubWFuZ2xlKGtleSkge1xuICByZXR1cm4ga2V5LnN1YnN0cmluZygxKTtcbn1cbmZ1bmN0aW9uIE1hcCQxKCkge1xuICB0aGlzLl9zdG9yZSA9IHt9O1xufVxuTWFwJDEucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xufTtcbk1hcCQxLnByb3RvdHlwZS5zZXQgPSBmdW5jdGlvbiAoa2V5LCB2YWx1ZSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB0aGlzLl9zdG9yZVttYW5nbGVkXSA9IHZhbHVlO1xuICByZXR1cm4gdHJ1ZTtcbn07XG5NYXAkMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbn07XG5NYXAkMS5wcm90b3R5cGUua2V5cyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5tYXAoayA9PiB1bm1hbmdsZShrKSk7XG59O1xuTWFwJDEucHJvdG90eXBlLmRlbGV0ZSA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgdmFyIHJlcyA9IG1hbmdsZWQgaW4gdGhpcy5fc3RvcmU7XG4gIGRlbGV0ZSB0aGlzLl9zdG9yZVttYW5nbGVkXTtcbiAgcmV0dXJuIHJlcztcbn07XG5NYXAkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGtleXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgdmFsdWUgPSB0aGlzLl9zdG9yZVtrZXldO1xuICAgIGtleSA9IHVubWFuZ2xlKGtleSk7XG4gICAgY2IodmFsdWUsIGtleSk7XG4gIH1cbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoTWFwJDEucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX3N0b3JlKS5sZW5ndGg7XG4gIH1cbn0pO1xuXG5mdW5jdGlvbiBTZXQkMShhcnJheSkge1xuICB0aGlzLl9zdG9yZSA9IG5ldyBNYXAkMSgpO1xuXG4gIC8vIGluaXQgd2l0aCBhbiBhcnJheVxuICBpZiAoYXJyYXkgJiYgQXJyYXkuaXNBcnJheShhcnJheSkpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyYXkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRoaXMuYWRkKGFycmF5W2ldKTtcbiAgICB9XG4gIH1cbn1cblNldCQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5zZXQoa2V5LCB0cnVlKTtcbn07XG5TZXQkMS5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5fc3RvcmUuaGFzKGtleSk7XG59O1xuU2V0JDEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgdGhpcy5fc3RvcmUuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGNiKGtleSk7XG4gIH0pO1xufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShTZXQkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gdGhpcy5fc3RvcmUuc2l6ZTtcbiAgfVxufSk7XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8va2FuZ2F4LmdpdGh1Yi5pby9jb21wYXQtdGFibGUvZXM2LyB3ZSBjYW4gc25pZmYgb3V0XG4vLyBpbmNvbXBsZXRlIE1hcC9TZXQgaW1wbGVtZW50YXRpb25zIHdoaWNoIHdvdWxkIG90aGVyd2lzZSBjYXVzZSBvdXIgdGVzdHMgdG8gZmFpbC5cbi8vIE5vdGFibHkgdGhleSBmYWlsIGluIElFMTEgYW5kIGlPUyA4LjQsIHdoaWNoIHRoaXMgcHJldmVudHMuXG5mdW5jdGlvbiBzdXBwb3J0c01hcEFuZFNldCgpIHtcbiAgaWYgKHR5cGVvZiBTeW1ib2wgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBNYXAgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBTZXQgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm9wID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihNYXAsIFN5bWJvbC5zcGVjaWVzKTtcbiAgcmV0dXJuIHByb3AgJiYgJ2dldCcgaW4gcHJvcCAmJiBNYXBbU3ltYm9sLnNwZWNpZXNdID09PSBNYXA7XG59XG5cbi8vIGJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9tb250YWdlanMvY29sbGVjdGlvbnNcblxudmFyIEV4cG9ydGVkU2V0O1xudmFyIEV4cG9ydGVkTWFwO1xuXG57XG4gIGlmIChzdXBwb3J0c01hcEFuZFNldCgpKSB7IC8vIHByZWZlciBidWlsdC1pbiBNYXAvU2V0XG4gICAgRXhwb3J0ZWRTZXQgPSBTZXQ7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXA7XG4gIH0gZWxzZSB7IC8vIGZhbGwgYmFjayB0byBvdXIgcG9seWZpbGxcbiAgICBFeHBvcnRlZFNldCA9IFNldCQxO1xuICAgIEV4cG9ydGVkTWFwID0gTWFwJDE7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIHJldHVybiAodHlwZW9mIEFycmF5QnVmZmVyICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikgfHxcbiAgICAodHlwZW9mIEJsb2IgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEJsb2IpO1xufVxuXG5mdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGJ1ZmYpIHtcbiAgaWYgKHR5cGVvZiBidWZmLnNsaWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIGJ1ZmYuc2xpY2UoMCk7XG4gIH1cbiAgLy8gSUUxMC0xMSBzbGljZSgpIHBvbHlmaWxsXG4gIHZhciB0YXJnZXQgPSBuZXcgQXJyYXlCdWZmZXIoYnVmZi5ieXRlTGVuZ3RoKTtcbiAgdmFyIHRhcmdldEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGFyZ2V0KTtcbiAgdmFyIHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnVmZik7XG4gIHRhcmdldEFycmF5LnNldChzb3VyY2VBcnJheSk7XG4gIHJldHVybiB0YXJnZXQ7XG59XG5cbmZ1bmN0aW9uIGNsb25lQmluYXJ5T2JqZWN0KG9iamVjdCkge1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICByZXR1cm4gY2xvbmVBcnJheUJ1ZmZlcihvYmplY3QpO1xuICB9XG4gIHZhciBzaXplID0gb2JqZWN0LnNpemU7XG4gIHZhciB0eXBlID0gb2JqZWN0LnR5cGU7XG4gIC8vIEJsb2JcbiAgaWYgKHR5cGVvZiBvYmplY3Quc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gb2JqZWN0LnNsaWNlKDAsIHNpemUsIHR5cGUpO1xuICB9XG4gIC8vIFBoYW50b21KUyBzbGljZSgpIHJlcGxhY2VtZW50XG4gIHJldHVybiBvYmplY3Qud2Via2l0U2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG59XG5cbi8vIG1vc3Qgb2YgdGhpcyBpcyBib3Jyb3dlZCBmcm9tIGxvZGFzaC5pc1BsYWluT2JqZWN0OlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2Zpcy1jb21wb25lbnRzL2xvZGFzaC5pc3BsYWlub2JqZWN0L1xuLy8gYmxvYi8yOWMzNTgxNDBhNzRmMjUyYWViMDhjOWViMjhiZWY4NmYyMjE3ZDRhL2luZGV4LmpzXG5cbnZhciBmdW5jVG9TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUudG9TdHJpbmc7XG52YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbmZ1bmN0aW9uIGlzUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgdmFyIHByb3RvID0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHZhbHVlKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChwcm90byA9PT0gbnVsbCkgeyAvLyBub3Qgc3VyZSB3aGVuIHRoaXMgaGFwcGVucywgYnV0IEkgZ3Vlc3MgaXQgY2FuXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgdmFyIEN0b3IgPSBwcm90by5jb25zdHJ1Y3RvcjtcbiAgcmV0dXJuICh0eXBlb2YgQ3RvciA9PSAnZnVuY3Rpb24nICYmXG4gICAgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiYgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZyk7XG59XG5cbmZ1bmN0aW9uIGNsb25lKG9iamVjdCkge1xuICB2YXIgbmV3T2JqZWN0O1xuICB2YXIgaTtcbiAgdmFyIGxlbjtcblxuICBpZiAoIW9iamVjdCB8fCB0eXBlb2Ygb2JqZWN0ICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmplY3Q7XG4gIH1cblxuICBpZiAoQXJyYXkuaXNBcnJheShvYmplY3QpKSB7XG4gICAgbmV3T2JqZWN0ID0gW107XG4gICAgZm9yIChpID0gMCwgbGVuID0gb2JqZWN0Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBuZXdPYmplY3RbaV0gPSBjbG9uZShvYmplY3RbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gbmV3T2JqZWN0O1xuICB9XG5cbiAgLy8gc3BlY2lhbCBjYXNlOiB0byBhdm9pZCBpbmNvbnNpc3RlbmNpZXMgYmV0d2VlbiBJbmRleGVkREJcbiAgLy8gYW5kIG90aGVyIGJhY2tlbmRzLCB3ZSBhdXRvbWF0aWNhbGx5IHN0cmluZ2lmeSBEYXRlc1xuICBpZiAob2JqZWN0IGluc3RhbmNlb2YgRGF0ZSAmJiBpc0Zpbml0ZShvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdC50b0lTT1N0cmluZygpO1xuICB9XG5cbiAgaWYgKGlzQmluYXJ5T2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KTtcbiAgfVxuXG4gIGlmICghaXNQbGFpbk9iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIG9iamVjdDsgLy8gZG9uJ3QgY2xvbmUgb2JqZWN0cyBsaWtlIFdvcmtlcnNcbiAgfVxuXG4gIG5ld09iamVjdCA9IHt9O1xuICBmb3IgKGkgaW4gb2JqZWN0KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgaSkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICBuZXdPYmplY3RbaV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ld09iamVjdDtcbn1cblxuZnVuY3Rpb24gb25jZShmdW4pIHtcbiAgdmFyIGNhbGxlZCA9IGZhbHNlO1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGNhbGxlZCkge1xuICAgICAgLy8gdGhpcyBpcyBhIHNtb2tlIHRlc3QgYW5kIHNob3VsZCBuZXZlciBhY3R1YWxseSBoYXBwZW5cbiAgICAgIHRocm93IG5ldyBFcnJvcignb25jZSBjYWxsZWQgbW9yZSB0aGFuIG9uY2UnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGVkID0gdHJ1ZTtcbiAgICAgIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiB0b1Byb21pc2UoZnVuYykge1xuICAvL2NyZWF0ZSB0aGUgZnVuY3Rpb24gd2Ugd2lsbCBiZSByZXR1cm5pbmdcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIC8vIENsb25lIGFyZ3VtZW50c1xuICAgIGFyZ3MgPSBjbG9uZShhcmdzKTtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgLy8gaWYgdGhlIGxhc3QgYXJndW1lbnQgaXMgYSBmdW5jdGlvbiwgYXNzdW1lIGl0cyBhIGNhbGxiYWNrXG4gICAgdmFyIHVzZWRDQiA9ICh0eXBlb2YgYXJnc1thcmdzLmxlbmd0aCAtIDFdID09PSAnZnVuY3Rpb24nKSA/IGFyZ3MucG9wKCkgOiBmYWxzZTtcbiAgICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgIHZhciByZXNwO1xuICAgICAgdHJ5IHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gb25jZShmdW5jdGlvbiAoZXJyLCBtZXNnKSB7XG4gICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwobWVzZyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgLy8gY3JlYXRlIGEgY2FsbGJhY2sgZm9yIHRoaXMgaW52b2NhdGlvblxuICAgICAgICAvLyBhcHBseSB0aGUgZnVuY3Rpb24gaW4gdGhlIG9yaWcgY29udGV4dFxuICAgICAgICBhcmdzLnB1c2goY2FsbGJhY2spO1xuICAgICAgICByZXNwID0gZnVuYy5hcHBseShzZWxmLCBhcmdzKTtcbiAgICAgICAgaWYgKHJlc3AgJiYgdHlwZW9mIHJlc3AudGhlbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIGZ1bGZpbGwocmVzcCk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmVqZWN0KGUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgY2FsbGJhY2ssIGNhbGwgaXQgYmFja1xuICAgIGlmICh1c2VkQ0IpIHtcbiAgICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIHVzZWRDQihudWxsLCByZXN1bHQpO1xuICAgICAgfSwgdXNlZENCKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChzZWxmLmNvbnN0cnVjdG9yLmxpc3RlbmVycygnZGVidWcnKS5sZW5ndGgpIHtcbiAgICB2YXIgbG9nQXJncyA9IFsnYXBpJywgc2VsZi5uYW1lLCBuYW1lXTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICBsb2dBcmdzLnB1c2goYXJnc1tpXSk7XG4gICAgfVxuICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVidWcnLCBsb2dBcmdzKTtcblxuICAgIC8vIG92ZXJyaWRlIHRoZSBjYWxsYmFjayBpdHNlbGYgdG8gbG9nIHRoZSByZXNwb25zZVxuICAgIHZhciBvcmlnQ2FsbGJhY2sgPSBhcmdzW2FyZ3MubGVuZ3RoIC0gMV07XG4gICAgYXJnc1thcmdzLmxlbmd0aCAtIDFdID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICB2YXIgcmVzcG9uc2VBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgICAgcmVzcG9uc2VBcmdzID0gcmVzcG9uc2VBcmdzLmNvbmNhdChcbiAgICAgICAgZXJyID8gWydlcnJvcicsIGVycl0gOiBbJ3N1Y2Nlc3MnLCByZXNdXG4gICAgICApO1xuICAgICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIHJlc3BvbnNlQXJncyk7XG4gICAgICBvcmlnQ2FsbGJhY2soZXJyLCByZXMpO1xuICAgIH07XG4gIH1cbn1cblxuZnVuY3Rpb24gYWRhcHRlckZ1bihuYW1lLCBjYWxsYmFjaykge1xuICByZXR1cm4gdG9Qcm9taXNlKGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2RhdGFiYXNlIGlzIGNsb3NlZCcpKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX2Rlc3Ryb3llZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgZGVzdHJveWVkJykpO1xuICAgIH1cbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgbG9nQXBpQ2FsbChzZWxmLCBuYW1lLCBhcmdzKTtcbiAgICBpZiAoIXRoaXMudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICAgIHNlbGYudGFza3F1ZXVlLmFkZFRhc2soZnVuY3Rpb24gKGZhaWxlZCkge1xuICAgICAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgICAgIHJlamVjdChmYWlsZWQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmdWxmaWxsKHNlbGZbbmFtZV0uYXBwbHkoc2VsZiwgYXJncykpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGNhbGxiYWNrLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICB9KSk7XG59XG5cbi8vIGxpa2UgdW5kZXJzY29yZS9sb2Rhc2ggXy5waWNrKClcbmZ1bmN0aW9uIHBpY2sob2JqLCBhcnIpIHtcbiAgdmFyIHJlcyA9IHt9O1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJyLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHByb3AgPSBhcnJbaV07XG4gICAgaWYgKHByb3AgaW4gb2JqKSB7XG4gICAgICByZXNbcHJvcF0gPSBvYmpbcHJvcF07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIE1vc3QgYnJvd3NlcnMgdGhyb3R0bGUgY29uY3VycmVudCByZXF1ZXN0cyBhdCA2LCBzbyBpdCdzIHNpbGx5XG4vLyB0byBzaGltIF9idWxrX2dldCBieSB0cnlpbmcgdG8gbGF1bmNoIHBvdGVudGlhbGx5IGh1bmRyZWRzIG9mIHJlcXVlc3RzXG4vLyBhbmQgdGhlbiBsZXR0aW5nIHRoZSBtYWpvcml0eSB0aW1lIG91dC4gV2UgY2FuIGhhbmRsZSB0aGlzIG91cnNlbHZlcy5cbnZhciBNQVhfTlVNX0NPTkNVUlJFTlRfUkVRVUVTVFMgPSA2O1xuXG5mdW5jdGlvbiBpZGVudGl0eUZ1bmN0aW9uKHgpIHtcbiAgcmV0dXJuIHg7XG59XG5cbmZ1bmN0aW9uIGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0KHJlc3VsdCkge1xuICByZXR1cm4gW3tcbiAgICBvazogcmVzdWx0XG4gIH1dO1xufVxuXG4vLyBzaGltIGZvciBQL0NvdWNoREIgYWRhcHRlcnMgdGhhdCBkb24ndCBkaXJlY3RseSBpbXBsZW1lbnQgX2J1bGtfZ2V0XG5mdW5jdGlvbiBidWxrR2V0KGRiLCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgcmVxdWVzdHMgPSBvcHRzLmRvY3M7XG5cbiAgLy8gY29uc29saWRhdGUgaW50byBvbmUgcmVxdWVzdCBwZXIgZG9jIGlmIHBvc3NpYmxlXG4gIHZhciByZXF1ZXN0c0J5SWQgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgcmVxdWVzdHMuZm9yRWFjaChmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgIGlmIChyZXF1ZXN0c0J5SWQuaGFzKHJlcXVlc3QuaWQpKSB7XG4gICAgICByZXF1ZXN0c0J5SWQuZ2V0KHJlcXVlc3QuaWQpLnB1c2gocmVxdWVzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5zZXQocmVxdWVzdC5pZCwgW3JlcXVlc3RdKTtcbiAgICB9XG4gIH0pO1xuXG4gIHZhciBudW1Eb2NzID0gcmVxdWVzdHNCeUlkLnNpemU7XG4gIHZhciBudW1Eb25lID0gMDtcbiAgdmFyIHBlckRvY1Jlc3VsdHMgPSBuZXcgQXJyYXkobnVtRG9jcyk7XG5cbiAgZnVuY3Rpb24gY29sbGFwc2VSZXN1bHRzQW5kRmluaXNoKCkge1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgcGVyRG9jUmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJlcy5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgICBpZDogcmVzLmlkLFxuICAgICAgICAgIGRvY3M6IFtpbmZvXVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiByZXN1bHRzfSk7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgaWYgKCsrbnVtRG9uZSA9PT0gbnVtRG9jcykge1xuICAgICAgY29sbGFwc2VSZXN1bHRzQW5kRmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZ290UmVzdWx0KGRvY0luZGV4LCBpZCwgZG9jcykge1xuICAgIHBlckRvY1Jlc3VsdHNbZG9jSW5kZXhdID0ge2lkOiBpZCwgZG9jczogZG9jc307XG4gICAgY2hlY2tEb25lKCk7XG4gIH1cblxuICB2YXIgYWxsUmVxdWVzdHMgPSBbXTtcbiAgcmVxdWVzdHNCeUlkLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBhbGxSZXF1ZXN0cy5wdXNoKGtleSk7XG4gIH0pO1xuXG4gIHZhciBpID0gMDtcblxuICBmdW5jdGlvbiBuZXh0QmF0Y2goKSB7XG5cbiAgICBpZiAoaSA+PSBhbGxSZXF1ZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgdXBUbyA9IE1hdGgubWluKGkgKyBNQVhfTlVNX0NPTkNVUlJFTlRfUkVRVUVTVFMsIGFsbFJlcXVlc3RzLmxlbmd0aCk7XG4gICAgdmFyIGJhdGNoID0gYWxsUmVxdWVzdHMuc2xpY2UoaSwgdXBUbyk7XG4gICAgcHJvY2Vzc0JhdGNoKGJhdGNoLCBpKTtcbiAgICBpICs9IGJhdGNoLmxlbmd0aDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChiYXRjaCwgb2Zmc2V0KSB7XG4gICAgYmF0Y2guZm9yRWFjaChmdW5jdGlvbiAoZG9jSWQsIGopIHtcbiAgICAgIHZhciBkb2NJZHggPSBvZmZzZXQgKyBqO1xuICAgICAgdmFyIGRvY1JlcXVlc3RzID0gcmVxdWVzdHNCeUlkLmdldChkb2NJZCk7XG5cbiAgICAgIC8vIGp1c3QgdXNlIHRoZSBmaXJzdCByZXF1ZXN0IGFzIHRoZSBcInRlbXBsYXRlXCJcbiAgICAgIC8vIFRPRE86IFRoZSBfYnVsa19nZXQgQVBJIGFsbG93cyBmb3IgbW9yZSBzdWJ0bGUgdXNlIGNhc2VzIHRoYW4gdGhpcyxcbiAgICAgIC8vIGJ1dCBmb3Igbm93IGl0IGlzIHVubGlrZWx5IHRoYXQgdGhlcmUgd2lsbCBiZSBhIG1peCBvZiBkaWZmZXJlbnRcbiAgICAgIC8vIFwiYXR0c19zaW5jZVwiIG9yIFwiYXR0YWNobWVudHNcIiBpbiB0aGUgc2FtZSByZXF1ZXN0LCBzaW5jZSBpdCdzIGp1c3RcbiAgICAgIC8vIHJlcGxpY2F0ZS5qcyB0aGF0IGlzIHVzaW5nIHRoaXMgZm9yIHRoZSBtb21lbnQuXG4gICAgICAvLyBBbHNvLCBhdHRzX3NpbmNlIGlzIGFzcGlyYXRpb25hbCwgc2luY2Ugd2UgZG9uJ3Qgc3VwcG9ydCBpdCB5ZXQuXG4gICAgICB2YXIgZG9jT3B0cyA9IHBpY2soZG9jUmVxdWVzdHNbMF0sIFsnYXR0c19zaW5jZScsICdhdHRhY2htZW50cyddKTtcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jUmVxdWVzdHMubWFwKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgICAgIC8vIHJldiBpcyBvcHRpb25hbCwgb3Blbl9yZXZzIGRpc2FsbG93ZWRcbiAgICAgICAgcmV0dXJuIHJlcXVlc3QucmV2O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIHJlbW92ZSBmYWxzZXkgLyB1bmRlZmluZWQgcmV2aXNpb25zXG4gICAgICBkb2NPcHRzLm9wZW5fcmV2cyA9IGRvY09wdHMub3Blbl9yZXZzLmZpbHRlcihpZGVudGl0eUZ1bmN0aW9uKTtcblxuICAgICAgdmFyIGZvcm1hdFJlc3VsdCA9IGlkZW50aXR5RnVuY3Rpb247XG5cbiAgICAgIGlmIChkb2NPcHRzLm9wZW5fcmV2cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgZGVsZXRlIGRvY09wdHMub3Blbl9yZXZzO1xuXG4gICAgICAgIC8vIHdoZW4gZmV0Y2hpbmcgb25seSB0aGUgXCJ3aW5uaW5nXCIgbGVhZixcbiAgICAgICAgLy8gdHJhbnNmb3JtIHRoZSByZXN1bHQgc28gaXQgbG9va3MgbGlrZSBhbiBvcGVuX3JldnNcbiAgICAgICAgLy8gcmVxdWVzdFxuICAgICAgICBmb3JtYXRSZXN1bHQgPSBmb3JtYXRSZXN1bHRGb3JPcGVuUmV2c0dldDtcbiAgICAgIH1cblxuICAgICAgLy8gZ2xvYmFsbHktc3VwcGxpZWQgb3B0aW9uc1xuICAgICAgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdhamF4JywgJ2xhdGVzdCddLmZvckVhY2goZnVuY3Rpb24gKHBhcmFtKSB7XG4gICAgICAgIGlmIChwYXJhbSBpbiBvcHRzKSB7XG4gICAgICAgICAgZG9jT3B0c1twYXJhbV0gPSBvcHRzW3BhcmFtXTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBkYi5nZXQoZG9jSWQsIGRvY09wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlc3VsdCA9IFt7ZXJyb3I6IGVycn1dO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGZvcm1hdFJlc3VsdChyZXMpO1xuICAgICAgICB9XG4gICAgICAgIGdvdFJlc3VsdChkb2NJZHgsIGRvY0lkLCByZXN1bHQpO1xuICAgICAgICBuZXh0QmF0Y2goKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgbmV4dEJhdGNoKCk7XG5cbn1cblxudmFyIGhhc0xvY2FsO1xuXG50cnkge1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScsIDEpO1xuICBoYXNMb2NhbCA9ICEhbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ19wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UnKTtcbn0gY2F0Y2ggKGUpIHtcbiAgaGFzTG9jYWwgPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gaGFzTG9jYWxTdG9yYWdlKCkge1xuICByZXR1cm4gaGFzTG9jYWw7XG59XG5cbi8vIEN1c3RvbSBuZXh0VGljaygpIHNoaW0gZm9yIGJyb3dzZXJzLiBJbiBub2RlLCB0aGlzIHdpbGwganVzdCBiZSBwcm9jZXNzLm5leHRUaWNrKCkuIFdlXG5cbmluaGVyaXRzKENoYW5nZXMsIEVFKTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbmZ1bmN0aW9uIGF0dGFjaEJyb3dzZXJFdmVudHMoc2VsZikge1xuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBhZGRFdmVudExpc3RlbmVyKFwic3RvcmFnZVwiLCBmdW5jdGlvbiAoZSkge1xuICAgICAgc2VsZi5lbWl0KGUua2V5KTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBDaGFuZ2VzKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLl9saXN0ZW5lcnMgPSB7fTtcblxuICBhdHRhY2hCcm93c2VyRXZlbnRzKHRoaXMpO1xufVxuQ2hhbmdlcy5wcm90b3R5cGUuYWRkTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGJOYW1lLCBpZCwgZGIsIG9wdHMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0aGlzLl9saXN0ZW5lcnNbaWRdKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgZnVuY3Rpb24gZXZlbnRGdW5jdGlvbigpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIXNlbGYuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlucHJvZ3Jlc3MpIHtcbiAgICAgIGlucHJvZ3Jlc3MgPSAnd2FpdGluZyc7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucHJvZ3Jlc3MgPSB0cnVlO1xuICAgIHZhciBjaGFuZ2VzT3B0cyA9IHBpY2sob3B0cywgW1xuICAgICAgJ3N0eWxlJywgJ2luY2x1ZGVfZG9jcycsICdhdHRhY2htZW50cycsICdjb25mbGljdHMnLCAnZmlsdGVyJyxcbiAgICAgICdkb2NfaWRzJywgJ3ZpZXcnLCAnc2luY2UnLCAncXVlcnlfcGFyYW1zJywgJ2JpbmFyeScsICdyZXR1cm5fZG9jcydcbiAgICBdKTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gb25FcnJvcigpIHtcbiAgICAgIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBkYi5jaGFuZ2VzKGNoYW5nZXNPcHRzKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGMpIHtcbiAgICAgIGlmIChjLnNlcSA+IG9wdHMuc2luY2UgJiYgIW9wdHMuY2FuY2VsbGVkKSB7XG4gICAgICAgIG9wdHMuc2luY2UgPSBjLnNlcTtcbiAgICAgICAgb3B0cy5vbkNoYW5nZShjKTtcbiAgICAgIH1cbiAgICB9KS5vbignY29tcGxldGUnLCBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaW5wcm9ncmVzcyA9PT0gJ3dhaXRpbmcnKSB7XG4gICAgICAgIGltbWVkaWF0ZShldmVudEZ1bmN0aW9uKTtcbiAgICAgIH1cbiAgICAgIGlucHJvZ3Jlc3MgPSBmYWxzZTtcbiAgICB9KS5vbignZXJyb3InLCBvbkVycm9yKTtcbiAgfVxuICB0aGlzLl9saXN0ZW5lcnNbaWRdID0gZXZlbnRGdW5jdGlvbjtcbiAgdGhpcy5vbihkYk5hbWUsIGV2ZW50RnVuY3Rpb24pO1xufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIgPSBmdW5jdGlvbiAoZGJOYW1lLCBpZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCEoaWQgaW4gdGhpcy5fbGlzdGVuZXJzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICBFRS5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIuY2FsbCh0aGlzLCBkYk5hbWUsXG4gICAgdGhpcy5fbGlzdGVuZXJzW2lkXSk7XG4gIGRlbGV0ZSB0aGlzLl9saXN0ZW5lcnNbaWRdO1xufTtcblxuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5TG9jYWxXaW5kb3dzID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICAvL2RvIGEgdXNlbGVzcyBjaGFuZ2Ugb24gYSBzdG9yYWdlIHRoaW5nXG4gIC8vaW4gb3JkZXIgdG8gZ2V0IG90aGVyIHdpbmRvd3MncyBsaXN0ZW5lcnMgdG8gYWN0aXZhdGVcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgbG9jYWxTdG9yYWdlW2RiTmFtZV0gPSAobG9jYWxTdG9yYWdlW2RiTmFtZV0gPT09IFwiYVwiKSA/IFwiYlwiIDogXCJhXCI7XG4gIH1cbn07XG5cbkNoYW5nZXMucHJvdG90eXBlLm5vdGlmeSA9IGZ1bmN0aW9uIChkYk5hbWUpIHtcbiAgdGhpcy5lbWl0KGRiTmFtZSk7XG4gIHRoaXMubm90aWZ5TG9jYWxXaW5kb3dzKGRiTmFtZSk7XG59O1xuXG5mdW5jdGlvbiBndWFyZGVkQ29uc29sZShtZXRob2QpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgY29uc29sZVttZXRob2RdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIGNvbnNvbGVbbWV0aG9kXS5hcHBseShjb25zb2xlLCBhcmdzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiByYW5kb21OdW1iZXIobWluLCBtYXgpIHtcbiAgdmFyIG1heFRpbWVvdXQgPSA2MDAwMDA7IC8vIEhhcmQtY29kZWQgZGVmYXVsdCBvZiAxMCBtaW51dGVzXG4gIG1pbiA9IHBhcnNlSW50KG1pbiwgMTApIHx8IDA7XG4gIG1heCA9IHBhcnNlSW50KG1heCwgMTApO1xuICBpZiAobWF4ICE9PSBtYXggfHwgbWF4IDw9IG1pbikge1xuICAgIG1heCA9IChtaW4gfHwgMSkgPDwgMTsgLy9kb3VibGluZ1xuICB9IGVsc2Uge1xuICAgIG1heCA9IG1heCArIDE7XG4gIH1cbiAgLy8gSW4gb3JkZXIgdG8gbm90IGV4Y2VlZCBtYXhUaW1lb3V0LCBwaWNrIGEgcmFuZG9tIHZhbHVlIGJldHdlZW4gaGFsZiBvZiBtYXhUaW1lb3V0IGFuZCBtYXhUaW1lb3V0XG4gIGlmIChtYXggPiBtYXhUaW1lb3V0KSB7XG4gICAgbWluID0gbWF4VGltZW91dCA+PiAxOyAvLyBkaXZpZGUgYnkgdHdvXG4gICAgbWF4ID0gbWF4VGltZW91dDtcbiAgfVxuICB2YXIgcmF0aW8gPSBNYXRoLnJhbmRvbSgpO1xuICB2YXIgcmFuZ2UgPSBtYXggLSBtaW47XG5cbiAgcmV0dXJuIH5+KHJhbmdlICogcmF0aW8gKyBtaW4pOyAvLyB+fiBjb2VyY2VzIHRvIGFuIGludCwgYnV0IGZhc3QuXG59XG5cbmZ1bmN0aW9uIGRlZmF1bHRCYWNrT2ZmKG1pbikge1xuICB2YXIgbWF4ID0gMDtcbiAgaWYgKCFtaW4pIHtcbiAgICBtYXggPSAyMDAwO1xuICB9XG4gIHJldHVybiByYW5kb21OdW1iZXIobWluLCBtYXgpO1xufVxuXG4vLyBkZXNpZ25lZCB0byBnaXZlIGluZm8gdG8gYnJvd3NlciB1c2Vycywgd2hvIGFyZSBkaXN0dXJiZWRcbi8vIHdoZW4gdGhleSBzZWUgaHR0cCBlcnJvcnMgaW4gdGhlIGNvbnNvbGVcbmZ1bmN0aW9uIGV4cGxhaW5FcnJvcihzdGF0dXMsIHN0cikge1xuICBndWFyZGVkQ29uc29sZSgnaW5mbycsICdUaGUgYWJvdmUgJyArIHN0YXR1cyArICcgaXMgdG90YWxseSBub3JtYWwuICcgKyBzdHIpO1xufVxuXG52YXIgYXNzaWduO1xue1xuICBpZiAodHlwZW9mIE9iamVjdC5hc3NpZ24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBhc3NpZ24gPSBPYmplY3QuYXNzaWduO1xuICB9IGVsc2Uge1xuICAgIC8vIGxpdGUgT2JqZWN0LmFzc2lnbiBwb2x5ZmlsbCBiYXNlZCBvblxuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL09iamVjdC9hc3NpZ25cbiAgICBhc3NpZ24gPSBmdW5jdGlvbiAodGFyZ2V0KSB7XG4gICAgICB2YXIgdG8gPSBPYmplY3QodGFyZ2V0KTtcblxuICAgICAgZm9yICh2YXIgaW5kZXggPSAxOyBpbmRleCA8IGFyZ3VtZW50cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgdmFyIG5leHRTb3VyY2UgPSBhcmd1bWVudHNbaW5kZXhdO1xuXG4gICAgICAgIGlmIChuZXh0U291cmNlICE9IG51bGwpIHsgLy8gU2tpcCBvdmVyIGlmIHVuZGVmaW5lZCBvciBudWxsXG4gICAgICAgICAgZm9yICh2YXIgbmV4dEtleSBpbiBuZXh0U291cmNlKSB7XG4gICAgICAgICAgICAvLyBBdm9pZCBidWdzIHdoZW4gaGFzT3duUHJvcGVydHkgaXMgc2hhZG93ZWRcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobmV4dFNvdXJjZSwgbmV4dEtleSkpIHtcbiAgICAgICAgICAgICAgdG9bbmV4dEtleV0gPSBuZXh0U291cmNlW25leHRLZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRvO1xuICAgIH07XG4gIH1cbn1cblxudmFyICRpbmplY3RfT2JqZWN0X2Fzc2lnbiA9IGFzc2lnbjtcblxuaW5oZXJpdHMoUG91Y2hFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBQb3VjaEVycm9yKHN0YXR1cywgZXJyb3IsIHJlYXNvbikge1xuICBFcnJvci5jYWxsKHRoaXMsIHJlYXNvbik7XG4gIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICB0aGlzLm5hbWUgPSBlcnJvcjtcbiAgdGhpcy5tZXNzYWdlID0gcmVhc29uO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbn1cblxuUG91Y2hFcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBKU09OLnN0cmluZ2lmeSh7XG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICBuYW1lOiB0aGlzLm5hbWUsXG4gICAgbWVzc2FnZTogdGhpcy5tZXNzYWdlLFxuICAgIHJlYXNvbjogdGhpcy5yZWFzb25cbiAgfSk7XG59O1xuXG52YXIgVU5BVVRIT1JJWkVEID0gbmV3IFBvdWNoRXJyb3IoNDAxLCAndW5hdXRob3JpemVkJywgXCJOYW1lIG9yIHBhc3N3b3JkIGlzIGluY29ycmVjdC5cIik7XG52YXIgTUlTU0lOR19CVUxLX0RPQ1MgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsIFwiTWlzc2luZyBKU09OIGxpc3Qgb2YgJ2RvY3MnXCIpO1xudmFyIE1JU1NJTkdfRE9DID0gbmV3IFBvdWNoRXJyb3IoNDA0LCAnbm90X2ZvdW5kJywgJ21pc3NpbmcnKTtcbnZhciBSRVZfQ09ORkxJQ1QgPSBuZXcgUG91Y2hFcnJvcig0MDksICdjb25mbGljdCcsICdEb2N1bWVudCB1cGRhdGUgY29uZmxpY3QnKTtcbnZhciBJTlZBTElEX0lEID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnX2lkIGZpZWxkIG11c3QgY29udGFpbiBhIHN0cmluZycpO1xudmFyIE1JU1NJTkdfSUQgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdtaXNzaW5nX2lkJywgJ19pZCBpcyByZXF1aXJlZCBmb3IgcHV0cycpO1xudmFyIFJFU0VSVkVEX0lEID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnT25seSByZXNlcnZlZCBkb2N1bWVudCBpZHMgbWF5IHN0YXJ0IHdpdGggdW5kZXJzY29yZS4nKTtcbnZhciBOT1RfT1BFTiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ3ByZWNvbmRpdGlvbl9mYWlsZWQnLCAnRGF0YWJhc2Ugbm90IG9wZW4nKTtcbnZhciBVTktOT1dOX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAndW5rbm93bl9lcnJvcicsICdEYXRhYmFzZSBlbmNvdW50ZXJlZCBhbiB1bmtub3duIGVycm9yJyk7XG52YXIgQkFEX0FSRyA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2JhZGFyZycsICdTb21lIHF1ZXJ5IGFyZ3VtZW50IGlzIGludmFsaWQnKTtcbnZhciBJTlZBTElEX1JFUVVFU1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdpbnZhbGlkX3JlcXVlc3QnLCAnUmVxdWVzdCB3YXMgaW52YWxpZCcpO1xudmFyIFFVRVJZX1BBUlNFX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAncXVlcnlfcGFyc2VfZXJyb3InLCAnU29tZSBxdWVyeSBwYXJhbWV0ZXIgaXMgaW52YWxpZCcpO1xudmFyIERPQ19WQUxJREFUSU9OID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnZG9jX3ZhbGlkYXRpb24nLCAnQmFkIHNwZWNpYWwgZG9jdW1lbnQgbWVtYmVyJyk7XG52YXIgQkFEX1JFUVVFU1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdTb21ldGhpbmcgd3Jvbmcgd2l0aCB0aGUgcmVxdWVzdCcpO1xudmFyIE5PVF9BTl9PQkpFQ1QgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdEb2N1bWVudCBtdXN0IGJlIGEgSlNPTiBvYmplY3QnKTtcbnZhciBEQl9NSVNTSU5HID0gbmV3IFBvdWNoRXJyb3IoNDA0LCAnbm90X2ZvdW5kJywgJ0RhdGFiYXNlIG5vdCBmb3VuZCcpO1xudmFyIElEQl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2luZGV4ZWRfZGJfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIFdTUV9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ3dlYl9zcWxfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIExEQl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2xldmVsREJfd2VudF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgRk9SQklEREVOID0gbmV3IFBvdWNoRXJyb3IoNDAzLCAnZm9yYmlkZGVuJywgJ0ZvcmJpZGRlbiBieSBkZXNpZ24gZG9jIHZhbGlkYXRlX2RvY191cGRhdGUgZnVuY3Rpb24nKTtcbnZhciBJTlZBTElEX1JFViA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0ludmFsaWQgcmV2IGZvcm1hdCcpO1xudmFyIEZJTEVfRVhJU1RTID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnZmlsZV9leGlzdHMnLCAnVGhlIGRhdGFiYXNlIGNvdWxkIG5vdCBiZSBjcmVhdGVkLCB0aGUgZmlsZSBhbHJlYWR5IGV4aXN0cy4nKTtcbnZhciBNSVNTSU5HX1NUVUIgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdtaXNzaW5nX3N0dWInLCAnQSBwcmUtZXhpc3RpbmcgYXR0YWNobWVudCBzdHViIHdhc25cXCd0IGZvdW5kJyk7XG52YXIgSU5WQUxJRF9VUkwgPSBuZXcgUG91Y2hFcnJvcig0MTMsICdpbnZhbGlkX3VybCcsICdQcm92aWRlZCBVUkwgaXMgaW52YWxpZCcpO1xuXG5mdW5jdGlvbiBjcmVhdGVFcnJvcihlcnJvciwgcmVhc29uKSB7XG4gIGZ1bmN0aW9uIEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKSB7XG4gICAgLy8gaW5oZXJpdCBlcnJvciBwcm9wZXJ0aWVzIGZyb20gb3VyIHBhcmVudCBlcnJvciBtYW51YWxseVxuICAgIC8vIHNvIGFzIHRvIGFsbG93IHByb3BlciBKU09OIHBhcnNpbmcuXG4gICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgIHZhciBuYW1lcyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGVycm9yKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmICh0eXBlb2YgZXJyb3JbbmFtZXNbaV1dICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRoaXNbbmFtZXNbaV1dID0gZXJyb3JbbmFtZXNbaV1dO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0aGlzLnN0YWNrID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICAgIH1cblxuICAgIC8qIGpzaGludCBpZ25vcmU6ZW5kICovXG4gICAgaWYgKHJlYXNvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnJlYXNvbiA9IHJlYXNvbjtcbiAgICB9XG4gIH1cbiAgQ3VzdG9tUG91Y2hFcnJvci5wcm90b3R5cGUgPSBQb3VjaEVycm9yLnByb3RvdHlwZTtcbiAgcmV0dXJuIG5ldyBDdXN0b21Qb3VjaEVycm9yKHJlYXNvbik7XG59XG5cbmZ1bmN0aW9uIGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSB7XG5cbiAgaWYgKHR5cGVvZiBlcnIgIT09ICdvYmplY3QnKSB7XG4gICAgdmFyIGRhdGEgPSBlcnI7XG4gICAgZXJyID0gVU5LTk9XTl9FUlJPUjtcbiAgICBlcnIuZGF0YSA9IGRhdGE7XG4gIH1cblxuICBpZiAoJ2Vycm9yJyBpbiBlcnIgJiYgZXJyLmVycm9yID09PSAnY29uZmxpY3QnKSB7XG4gICAgZXJyLm5hbWUgPSAnY29uZmxpY3QnO1xuICAgIGVyci5zdGF0dXMgPSA0MDk7XG4gIH1cblxuICBpZiAoISgnbmFtZScgaW4gZXJyKSkge1xuICAgIGVyci5uYW1lID0gZXJyLmVycm9yIHx8ICd1bmtub3duJztcbiAgfVxuXG4gIGlmICghKCdzdGF0dXMnIGluIGVycikpIHtcbiAgICBlcnIuc3RhdHVzID0gNTAwO1xuICB9XG5cbiAgaWYgKCEoJ21lc3NhZ2UnIGluIGVycikpIHtcbiAgICBlcnIubWVzc2FnZSA9IGVyci5tZXNzYWdlIHx8IGVyci5yZWFzb247XG4gIH1cblxuICBpZiAoISgnc3RhY2snIGluIGVycikpIHtcbiAgICBlcnIuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xuICB9XG5cbiAgcmV0dXJuIGVycjtcbn1cblxuZnVuY3Rpb24gdHJ5RmlsdGVyKGZpbHRlciwgZG9jLCByZXEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gIWZpbHRlcihkb2MsIHJlcSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHZhciBtc2cgPSAnRmlsdGVyIGZ1bmN0aW9uIHRocmV3OiAnICsgZXJyLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULCBtc2cpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGZpbHRlckNoYW5nZShvcHRzKSB7XG4gIHZhciByZXEgPSB7fTtcbiAgdmFyIGhhc0ZpbHRlciA9IG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVxLnF1ZXJ5ID0gb3B0cy5xdWVyeV9wYXJhbXM7XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIGZpbHRlcihjaGFuZ2UpIHtcbiAgICBpZiAoIWNoYW5nZS5kb2MpIHtcbiAgICAgIC8vIENTRyBzZW5kcyBldmVudHMgb24gdGhlIGNoYW5nZXMgZmVlZCB0aGF0IGRvbid0IGhhdmUgZG9jdW1lbnRzLFxuICAgICAgLy8gdGhpcyBoYWNrIG1ha2VzIGEgd2hvbGUgbG90IG9mIGV4aXN0aW5nIGNvZGUgcm9idXN0LlxuICAgICAgY2hhbmdlLmRvYyA9IHt9O1xuICAgIH1cblxuICAgIHZhciBmaWx0ZXJSZXR1cm4gPSBoYXNGaWx0ZXIgJiYgdHJ5RmlsdGVyKG9wdHMuZmlsdGVyLCBjaGFuZ2UuZG9jLCByZXEpO1xuXG4gICAgaWYgKHR5cGVvZiBmaWx0ZXJSZXR1cm4gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZmlsdGVyUmV0dXJuO1xuICAgIH1cblxuICAgIGlmIChmaWx0ZXJSZXR1cm4pIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoIW9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYztcbiAgICB9IGVsc2UgaWYgKCFvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBmb3IgKHZhciBhdHQgaW4gY2hhbmdlLmRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChjaGFuZ2UuZG9jLl9hdHRhY2htZW50cywgYXR0KSkge1xuICAgICAgICAgIGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzW2F0dF0uc3R1YiA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZsYXR0ZW4oYXJycykge1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgcmVzID0gcmVzLmNvbmNhdChhcnJzW2ldKTtcbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vLyBzaGltIGZvciBGdW5jdGlvbi5wcm90b3R5cGUubmFtZSxcblxuLy8gRGV0ZXJtaW5lIGlkIGFuIElEIGlzIHZhbGlkXG4vLyAgIC0gaW52YWxpZCBJRHMgYmVnaW4gd2l0aCBhbiB1bmRlcmVzY29yZSB0aGF0IGRvZXMgbm90IGJlZ2luICdfZGVzaWduJyBvclxuLy8gICAgICdfbG9jYWwnXG4vLyAgIC0gYW55IG90aGVyIHN0cmluZyB2YWx1ZSBpcyBhIHZhbGlkIGlkXG4vLyBSZXR1cm5zIHRoZSBzcGVjaWZpYyBlcnJvciBvYmplY3QgZm9yIGVhY2ggY2FzZVxuZnVuY3Rpb24gaW52YWxpZElkRXJyb3IoaWQpIHtcbiAgdmFyIGVycjtcbiAgaWYgKCFpZCkge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfSUQpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihJTlZBTElEX0lEKTtcbiAgfSBlbHNlIGlmICgvXl8vLnRlc3QoaWQpICYmICEoL15fKGRlc2lnbnxsb2NhbCkvKS50ZXN0KGlkKSkge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKFJFU0VSVkVEX0lEKTtcbiAgfVxuICBpZiAoZXJyKSB7XG4gICAgdGhyb3cgZXJyO1xuICB9XG59XG5cbi8vIENoZWNrcyBpZiBhIFBvdWNoREIgb2JqZWN0IGlzIFwicmVtb3RlXCIgb3Igbm90LiBUaGlzIGlzXG5cbmZ1bmN0aW9uIGlzUmVtb3RlKGRiKSB7XG4gIGlmICh0eXBlb2YgZGIuX3JlbW90ZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgcmV0dXJuIGRiLl9yZW1vdGU7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKHR5cGVvZiBkYi50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgJ2RiLnR5cGUoKSBpcyBkZXByZWNhdGVkIGFuZCB3aWxsIGJlIHJlbW92ZWQgaW4gJyArXG4gICAgICAnYSBmdXR1cmUgdmVyc2lvbiBvZiBQb3VjaERCJyk7XG4gICAgcmV0dXJuIGRiLnR5cGUoKSA9PT0gJ2h0dHAnO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gbGlzdGVuZXJDb3VudChlZSwgdHlwZSkge1xuICByZXR1cm4gJ2xpc3RlbmVyQ291bnQnIGluIGVlID8gZWUubGlzdGVuZXJDb3VudCh0eXBlKSA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBFRS5saXN0ZW5lckNvdW50KGVlLCB0eXBlKTtcbn1cblxuZnVuY3Rpb24gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocykge1xuICBpZiAoIXMpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcGFydHMgPSBzLnNwbGl0KCcvJyk7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICByZXR1cm4gcGFydHM7XG4gIH1cbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBbcywgc107XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIHZhciBub3JtYWxpemVkID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocyk7XG4gIHJldHVybiBub3JtYWxpemVkID8gbm9ybWFsaXplZC5qb2luKCcvJykgOiBudWxsO1xufVxuXG4vLyBvcmlnaW5hbGx5IHBhcnNlVXJpIDEuMi4yLCBub3cgcGF0Y2hlZCBieSB1c1xuLy8gKGMpIFN0ZXZlbiBMZXZpdGhhbiA8c3RldmVubGV2aXRoYW4uY29tPlxuLy8gTUlUIExpY2Vuc2VcbnZhciBrZXlzID0gW1wic291cmNlXCIsIFwicHJvdG9jb2xcIiwgXCJhdXRob3JpdHlcIiwgXCJ1c2VySW5mb1wiLCBcInVzZXJcIiwgXCJwYXNzd29yZFwiLFxuICAgIFwiaG9zdFwiLCBcInBvcnRcIiwgXCJyZWxhdGl2ZVwiLCBcInBhdGhcIiwgXCJkaXJlY3RvcnlcIiwgXCJmaWxlXCIsIFwicXVlcnlcIiwgXCJhbmNob3JcIl07XG52YXIgcU5hbWUgPVwicXVlcnlLZXlcIjtcbnZhciBxUGFyc2VyID0gLyg/Ol58JikoW14mPV0qKT0/KFteJl0qKS9nO1xuXG4vLyB1c2UgdGhlIFwibG9vc2VcIiBwYXJzZXJcbi8qIGVzbGludCBuby11c2VsZXNzLWVzY2FwZTogMCAqL1xudmFyIHBhcnNlciA9IC9eKD86KD8hW146QF0rOlteOkBcXC9dKkApKFteOlxcLz8jLl0rKTopPyg/OlxcL1xcLyk/KCg/OigoW146QF0qKSg/OjooW146QF0qKSk/KT9AKT8oW146XFwvPyNdKikoPzo6KFxcZCopKT8pKCgoXFwvKD86W14/I10oPyFbXj8jXFwvXSpcXC5bXj8jXFwvLl0rKD86Wz8jXXwkKSkpKlxcLz8pPyhbXj8jXFwvXSopKSg/OlxcPyhbXiNdKikpPyg/OiMoLiopKT8pLztcblxuZnVuY3Rpb24gcGFyc2VVcmkoc3RyKSB7XG4gIHZhciBtID0gcGFyc2VyLmV4ZWMoc3RyKTtcbiAgdmFyIHVyaSA9IHt9O1xuICB2YXIgaSA9IDE0O1xuXG4gIHdoaWxlIChpLS0pIHtcbiAgICB2YXIga2V5ID0ga2V5c1tpXTtcbiAgICB2YXIgdmFsdWUgPSBtW2ldIHx8IFwiXCI7XG4gICAgdmFyIGVuY29kZWQgPSBbJ3VzZXInLCAncGFzc3dvcmQnXS5pbmRleE9mKGtleSkgIT09IC0xO1xuICAgIHVyaVtrZXldID0gZW5jb2RlZCA/IGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgOiB2YWx1ZTtcbiAgfVxuXG4gIHVyaVtxTmFtZV0gPSB7fTtcbiAgdXJpW2tleXNbMTJdXS5yZXBsYWNlKHFQYXJzZXIsIGZ1bmN0aW9uICgkMCwgJDEsICQyKSB7XG4gICAgaWYgKCQxKSB7XG4gICAgICB1cmlbcU5hbWVdWyQxXSA9ICQyO1xuICAgIH1cbiAgfSk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL2FsZXhkYXZpZC9zY29wZS1ldmFsIHYwLjAuM1xuLy8gKHNvdXJjZTogaHR0cHM6Ly91bnBrZy5jb20vc2NvcGUtZXZhbEAwLjAuMy9zY29wZV9ldmFsLmpzKVxuLy8gVGhpcyBpcyBiYXNpY2FsbHkganVzdCBhIHdyYXBwZXIgYXJvdW5kIG5ldyBGdW5jdGlvbigpXG5cbmZ1bmN0aW9uIHNjb3BlRXZhbChzb3VyY2UsIHNjb3BlKSB7XG4gIHZhciBrZXlzID0gW107XG4gIHZhciB2YWx1ZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIHNjb3BlKSB7XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzY29wZSwga2V5KSkge1xuICAgICAga2V5cy5wdXNoKGtleSk7XG4gICAgICB2YWx1ZXMucHVzaChzY29wZVtrZXldKTtcbiAgICB9XG4gIH1cbiAga2V5cy5wdXNoKHNvdXJjZSk7XG4gIHJldHVybiBGdW5jdGlvbi5hcHBseShudWxsLCBrZXlzKS5hcHBseShudWxsLCB2YWx1ZXMpO1xufVxuXG4vLyB0aGlzIGlzIGVzc2VudGlhbGx5IHRoZSBcInVwZGF0ZSBzdWdhclwiIGZ1bmN0aW9uIGZyb20gZGFsZWhhcnZleS9wb3VjaGRiIzEzODhcbi8vIHRoZSBkaWZmRnVuIHRlbGxzIHVzIHdoYXQgZGVsdGEgdG8gYXBwbHkgdG8gdGhlIGRvYy4gIGl0IGVpdGhlciByZXR1cm5zXG4vLyB0aGUgZG9jLCBvciBmYWxzZSBpZiBpdCBkb2Vzbid0IG5lZWQgdG8gZG8gYW4gdXBkYXRlIGFmdGVyIGFsbFxuZnVuY3Rpb24gdXBzZXJ0KGRiLCBkb2NJZCwgZGlmZkZ1bikge1xuICByZXR1cm4gZGIuZ2V0KGRvY0lkKVxuICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICByZXR1cm4ge307XG4gICAgfSlcbiAgICAudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAvLyB0aGUgdXNlciBtaWdodCBjaGFuZ2UgdGhlIF9yZXYsIHNvIHNhdmUgaXQgZm9yIHBvc3Rlcml0eVxuICAgICAgdmFyIGRvY1JldiA9IGRvYy5fcmV2O1xuICAgICAgdmFyIG5ld0RvYyA9IGRpZmZGdW4oZG9jKTtcblxuICAgICAgaWYgKCFuZXdEb2MpIHtcbiAgICAgICAgLy8gaWYgdGhlIGRpZmZGdW4gcmV0dXJucyBmYWxzeSwgd2Ugc2hvcnQtY2lyY3VpdCBhc1xuICAgICAgICAvLyBhbiBvcHRpbWl6YXRpb25cbiAgICAgICAgcmV0dXJuIHt1cGRhdGVkOiBmYWxzZSwgcmV2OiBkb2NSZXZ9O1xuICAgICAgfVxuXG4gICAgICAvLyB1c2VycyBhcmVuJ3QgYWxsb3dlZCB0byBtb2RpZnkgdGhlc2UgdmFsdWVzLFxuICAgICAgLy8gc28gcmVzZXQgdGhlbSBoZXJlXG4gICAgICBuZXdEb2MuX2lkID0gZG9jSWQ7XG4gICAgICBuZXdEb2MuX3JldiA9IGRvY1JldjtcbiAgICAgIHJldHVybiB0cnlBbmRQdXQoZGIsIG5ld0RvYywgZGlmZkZ1bik7XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIHRyeUFuZFB1dChkYiwgZG9jLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5wdXQoZG9jKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgdXBkYXRlZDogdHJ1ZSxcbiAgICAgIHJldjogcmVzLnJldlxuICAgIH07XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDkpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIHVwc2VydChkYiwgZG9jLl9pZCwgZGlmZkZ1bik7XG4gIH0pO1xufVxuXG52YXIgdGhpc0F0b2IgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBhdG9iKHN0cik7XG59O1xuXG52YXIgdGhpc0J0b2EgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHJldHVybiBidG9hKHN0cik7XG59O1xuXG4vLyBBYnN0cmFjdHMgY29uc3RydWN0aW5nIGEgQmxvYiBvYmplY3QsIHNvIGl0IGFsc28gd29ya3MgaW4gb2xkZXJcbi8vIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCB0aGUgbmF0aXZlIEJsb2IgY29uc3RydWN0b3IgKGUuZy5cbi8vIG9sZCBRdFdlYktpdCB2ZXJzaW9ucywgQW5kcm9pZCA8IDQuNCkuXG5mdW5jdGlvbiBjcmVhdGVCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKSB7XG4gIC8qIGdsb2JhbCBCbG9iQnVpbGRlcixNU0Jsb2JCdWlsZGVyLE1vekJsb2JCdWlsZGVyLFdlYktpdEJsb2JCdWlsZGVyICovXG4gIHBhcnRzID0gcGFydHMgfHwgW107XG4gIHByb3BlcnRpZXMgPSBwcm9wZXJ0aWVzIHx8IHt9O1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgQmxvYihwYXJ0cywgcHJvcGVydGllcyk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBpZiAoZS5uYW1lICE9PSBcIlR5cGVFcnJvclwiKSB7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cbiAgICB2YXIgQnVpbGRlciA9IHR5cGVvZiBCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICB0eXBlb2YgTVNCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNU0Jsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNb3pCbG9iQnVpbGRlciAhPT0gJ3VuZGVmaW5lZCcgPyBNb3pCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICBXZWJLaXRCbG9iQnVpbGRlcjtcbiAgICB2YXIgYnVpbGRlciA9IG5ldyBCdWlsZGVyKCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXJ0cy5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgYnVpbGRlci5hcHBlbmQocGFydHNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnVpbGRlci5nZXRCbG9iKHByb3BlcnRpZXMudHlwZSk7XG4gIH1cbn1cblxuLy8gRnJvbSBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzE0OTY3NjQ3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vIGVuY29kZS1kZWNvZGUtaW1hZ2Utd2l0aC1iYXNlNjQtYnJlYWtzLWltYWdlICgyMDEzLTA0LTIxKVxuZnVuY3Rpb24gYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlcihiaW4pIHtcbiAgdmFyIGxlbmd0aCA9IGJpbi5sZW5ndGg7XG4gIHZhciBidWYgPSBuZXcgQXJyYXlCdWZmZXIobGVuZ3RoKTtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1Zik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBhcnJbaV0gPSBiaW4uY2hhckNvZGVBdChpKTtcbiAgfVxuICByZXR1cm4gYnVmO1xufVxuXG5mdW5jdGlvbiBiaW5TdHJpbmdUb0JsdWZmZXIoYmluU3RyaW5nLCB0eXBlKSB7XG4gIHJldHVybiBjcmVhdGVCbG9iKFtiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpblN0cmluZyldLCB7dHlwZTogdHlwZX0pO1xufVxuXG5mdW5jdGlvbiBiNjRUb0JsdWZmZXIoYjY0LCB0eXBlKSB7XG4gIHJldHVybiBiaW5TdHJpbmdUb0JsdWZmZXIodGhpc0F0b2IoYjY0KSwgdHlwZSk7XG59XG5cbi8vQ2FuJ3QgZmluZCBvcmlnaW5hbCBwb3N0LCBidXQgdGhpcyBpcyBjbG9zZVxuLy9odHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzY5NjUxMDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy9jb252ZXJ0aW5nLWJldHdlZW4tc3RyaW5ncy1hbmQtYXJyYXlidWZmZXJzXG5mdW5jdGlvbiBhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKGJ1ZmZlcikge1xuICB2YXIgYmluYXJ5ID0gJyc7XG4gIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KGJ1ZmZlcik7XG4gIHZhciBsZW5ndGggPSBieXRlcy5ieXRlTGVuZ3RoO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYmluYXJ5ICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICB9XG4gIHJldHVybiBiaW5hcnk7XG59XG5cbi8vIHNoaW0gZm9yIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBpdFxuZnVuY3Rpb24gcmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IsIGNhbGxiYWNrKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICB2YXIgaGFzQmluYXJ5U3RyaW5nID0gdHlwZW9mIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcgPT09ICdmdW5jdGlvbic7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgJyc7XG4gICAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHJlc3VsdCk7XG4gICAgfVxuICAgIGNhbGxiYWNrKGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcocmVzdWx0KSk7XG4gIH07XG4gIGlmIChoYXNCaW5hcnlTdHJpbmcpIHtcbiAgICByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGJsb2IpO1xuICB9IGVsc2Uge1xuICAgIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBibG9iVG9CaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBjYWxsYmFjaykge1xuICByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBmdW5jdGlvbiAoYmluKSB7XG4gICAgY2FsbGJhY2soYmluKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0Jhc2U2NChibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiYXNlNjQpIHtcbiAgICBjYWxsYmFjayh0aGlzQnRvYShiYXNlNjQpKTtcbiAgfSk7XG59XG5cbi8vIHNpbXBsaWZpZWQgQVBJLiB1bml2ZXJzYWwgYnJvd3NlciBzdXBwb3J0IGlzIGFzc3VtZWRcbmZ1bmN0aW9uIHJlYWRBc0FycmF5QnVmZmVyKGJsb2IsIGNhbGxiYWNrKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZS50YXJnZXQucmVzdWx0IHx8IG5ldyBBcnJheUJ1ZmZlcigwKTtcbiAgICBjYWxsYmFjayhyZXN1bHQpO1xuICB9O1xuICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG59XG5cbi8vIHRoaXMgaXMgbm90IHVzZWQgaW4gdGhlIGJyb3dzZXJcblxudmFyIHNldEltbWVkaWF0ZVNoaW0gPSBzZWxmLnNldEltbWVkaWF0ZSB8fCBzZWxmLnNldFRpbWVvdXQ7XG52YXIgTUQ1X0NIVU5LX1NJWkUgPSAzMjc2ODtcblxuZnVuY3Rpb24gcmF3VG9CYXNlNjQocmF3KSB7XG4gIHJldHVybiB0aGlzQnRvYShyYXcpO1xufVxuXG5mdW5jdGlvbiBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCkge1xuICBpZiAoYmxvYi53ZWJraXRTbGljZSkge1xuICAgIHJldHVybiBibG9iLndlYmtpdFNsaWNlKHN0YXJ0LCBlbmQpO1xuICB9XG4gIHJldHVybiBibG9iLnNsaWNlKHN0YXJ0LCBlbmQpO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRCbG9iKGJ1ZmZlciwgYmxvYiwgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBibG9iLnNpemUpIHtcbiAgICAvLyBvbmx5IHNsaWNlIGJsb2IgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBibG9iID0gc2xpY2VCbG9iKGJsb2IsIHN0YXJ0LCBlbmQpO1xuICB9XG4gIHJlYWRBc0FycmF5QnVmZmVyKGJsb2IsIGZ1bmN0aW9uIChhcnJheUJ1ZmZlcikge1xuICAgIGJ1ZmZlci5hcHBlbmQoYXJyYXlCdWZmZXIpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcHBlbmRTdHJpbmcoYnVmZmVyLCBzdHJpbmcsIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKSB7XG4gIGlmIChzdGFydCA+IDAgfHwgZW5kIDwgc3RyaW5nLmxlbmd0aCkge1xuICAgIC8vIG9ubHkgY3JlYXRlIGEgc3Vic3RyaW5nIGlmIHdlIHJlYWxseSBuZWVkIHRvXG4gICAgc3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZyhzdGFydCwgZW5kKTtcbiAgfVxuICBidWZmZXIuYXBwZW5kQmluYXJ5KHN0cmluZyk7XG4gIGNhbGxiYWNrKCk7XG59XG5cbmZ1bmN0aW9uIGJpbmFyeU1kNShkYXRhLCBjYWxsYmFjaykge1xuICB2YXIgaW5wdXRJc1N0cmluZyA9IHR5cGVvZiBkYXRhID09PSAnc3RyaW5nJztcbiAgdmFyIGxlbiA9IGlucHV0SXNTdHJpbmcgPyBkYXRhLmxlbmd0aCA6IGRhdGEuc2l6ZTtcbiAgdmFyIGNodW5rU2l6ZSA9IE1hdGgubWluKE1ENV9DSFVOS19TSVpFLCBsZW4pO1xuICB2YXIgY2h1bmtzID0gTWF0aC5jZWlsKGxlbiAvIGNodW5rU2l6ZSk7XG4gIHZhciBjdXJyZW50Q2h1bmsgPSAwO1xuICB2YXIgYnVmZmVyID0gaW5wdXRJc1N0cmluZyA/IG5ldyBNZDUoKSA6IG5ldyBNZDUuQXJyYXlCdWZmZXIoKTtcblxuICB2YXIgYXBwZW5kID0gaW5wdXRJc1N0cmluZyA/IGFwcGVuZFN0cmluZyA6IGFwcGVuZEJsb2I7XG5cbiAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICBzZXRJbW1lZGlhdGVTaGltKGxvYWROZXh0Q2h1bmspO1xuICB9XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICB2YXIgcmF3ID0gYnVmZmVyLmVuZCh0cnVlKTtcbiAgICB2YXIgYmFzZTY0ID0gcmF3VG9CYXNlNjQocmF3KTtcbiAgICBjYWxsYmFjayhiYXNlNjQpO1xuICAgIGJ1ZmZlci5kZXN0cm95KCk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2FkTmV4dENodW5rKCkge1xuICAgIHZhciBzdGFydCA9IGN1cnJlbnRDaHVuayAqIGNodW5rU2l6ZTtcbiAgICB2YXIgZW5kID0gc3RhcnQgKyBjaHVua1NpemU7XG4gICAgY3VycmVudENodW5rKys7XG4gICAgaWYgKGN1cnJlbnRDaHVuayA8IGNodW5rcykge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGFwcGVuZChidWZmZXIsIGRhdGEsIHN0YXJ0LCBlbmQsIGRvbmUpO1xuICAgIH1cbiAgfVxuICBsb2FkTmV4dENodW5rKCk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ01kNShzdHJpbmcpIHtcbiAgcmV0dXJuIE1kNS5oYXNoKHN0cmluZyk7XG59XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyByZXZpc2lvbiBzdHJpbmcgdGhhdCBkb2VzIE5PVCBpbmNsdWRlIHRoZSByZXZpc2lvbiBoZWlnaHRcbiAqIEZvciBleGFtcGxlICc1NjY0OWYxYjA1MDZjNmNhOWZkYTA3NDZlYjBjYWNkZidcbiAqL1xuZnVuY3Rpb24gcmV2JCQxKGRvYywgZGV0ZXJtaW5pc3RpY19yZXZzKSB7XG4gIGlmICghZGV0ZXJtaW5pc3RpY19yZXZzKSB7XG4gICAgcmV0dXJuIHY0KCkucmVwbGFjZSgvLS9nLCAnJykudG9Mb3dlckNhc2UoKTtcbiAgfVxuXG4gIHZhciBtdXRhdGVhYmxlRG9jID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBkb2MpO1xuICBkZWxldGUgbXV0YXRlYWJsZURvYy5fcmV2X3RyZWU7XG4gIHJldHVybiBzdHJpbmdNZDUoSlNPTi5zdHJpbmdpZnkobXV0YXRlYWJsZURvYykpO1xufVxuXG52YXIgdXVpZCA9IHY0OyAvLyBtaW1pYyBvbGQgaW1wb3J0LCBvbmx5IHY0IGlzIGV2ZXIgdXNlZCBlbHNld2hlcmVcblxuLy8gV2UgZmV0Y2ggYWxsIGxlYWZzIG9mIHRoZSByZXZpc2lvbiB0cmVlLCBhbmQgc29ydCB0aGVtIGJhc2VkIG9uIHRyZWUgbGVuZ3RoXG4vLyBhbmQgd2hldGhlciB0aGV5IHdlcmUgZGVsZXRlZCwgdW5kZWxldGVkIGRvY3VtZW50cyB3aXRoIHRoZSBsb25nZXN0IHJldmlzaW9uXG4vLyB0cmVlIChtb3N0IGVkaXRzKSB3aW5cbi8vIFRoZSBmaW5hbCBzb3J0IGFsZ29yaXRobSBpcyBzbGlnaHRseSBkb2N1bWVudGVkIGluIGEgc2lkZWJhciBoZXJlOlxuLy8gaHR0cDovL2d1aWRlLmNvdWNoZGIub3JnL2RyYWZ0L2NvbmZsaWN0cy5odG1sXG5mdW5jdGlvbiB3aW5uaW5nUmV2KG1ldGFkYXRhKSB7XG4gIHZhciB3aW5uaW5nSWQ7XG4gIHZhciB3aW5uaW5nUG9zO1xuICB2YXIgd2lubmluZ0RlbGV0ZWQ7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICBpZiAoYnJhbmNoZXMubGVuZ3RoKSB7IC8vIG5vbi1sZWFmXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV19KTtcbiAgICAgIH1cbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgZGVsZXRlZCA9ICEhdHJlZVsxXS5kZWxldGVkO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgLy8gc29ydCBieSBkZWxldGVkLCB0aGVuIHBvcywgdGhlbiBpZFxuICAgIGlmICghd2lubmluZ0lkIHx8ICh3aW5uaW5nRGVsZXRlZCAhPT0gZGVsZXRlZCA/IHdpbm5pbmdEZWxldGVkIDpcbiAgICAgICAgd2lubmluZ1BvcyAhPT0gcG9zID8gd2lubmluZ1BvcyA8IHBvcyA6IHdpbm5pbmdJZCA8IGlkKSkge1xuICAgICAgd2lubmluZ0lkID0gaWQ7XG4gICAgICB3aW5uaW5nUG9zID0gcG9zO1xuICAgICAgd2lubmluZ0RlbGV0ZWQgPSBkZWxldGVkO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiB3aW5uaW5nUG9zICsgJy0nICsgd2lubmluZ0lkO1xufVxuXG4vLyBQcmV0dHkgbXVjaCBhbGwgYmVsb3cgY2FuIGJlIGNvbWJpbmVkIGludG8gYSBoaWdoZXIgb3JkZXIgZnVuY3Rpb24gdG9cbi8vIHRyYXZlcnNlIHJldmlzaW9uc1xuLy8gVGhlIHJldHVybiB2YWx1ZSBmcm9tIHRoZSBjYWxsYmFjayB3aWxsIGJlIHBhc3NlZCBhcyBjb250ZXh0IHRvIGFsbFxuLy8gY2hpbGRyZW4gb2YgdGhhdCBub2RlXG5mdW5jdGlvbiB0cmF2ZXJzZVJldlRyZWUocmV2cywgY2FsbGJhY2spIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgbmV3Q3R4ID1cbiAgICAgIGNhbGxiYWNrKGJyYW5jaGVzLmxlbmd0aCA9PT0gMCwgcG9zLCB0cmVlWzBdLCBub2RlLmN0eCwgdHJlZVsxXSk7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXSwgY3R4OiBuZXdDdHh9KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc29ydEJ5UG9zKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbmZ1bmN0aW9uIGNvbGxlY3RMZWF2ZXMocmV2cykge1xuICB2YXIgbGVhdmVzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIGlkLCBhY2MsIG9wdHMpIHtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBsZWF2ZXMucHVzaCh7cmV2OiBwb3MgKyBcIi1cIiArIGlkLCBwb3M6IHBvcywgb3B0czogb3B0c30pO1xuICAgIH1cbiAgfSk7XG4gIGxlYXZlcy5zb3J0KHNvcnRCeVBvcykucmV2ZXJzZSgpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGVhdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgZGVsZXRlIGxlYXZlc1tpXS5wb3M7XG4gIH1cbiAgcmV0dXJuIGxlYXZlcztcbn1cblxuLy8gcmV0dXJucyByZXZzIG9mIGFsbCBjb25mbGljdHMgdGhhdCBpcyBsZWF2ZXMgc3VjaCB0aGF0XG4vLyAxLiBhcmUgbm90IGRlbGV0ZWQgYW5kXG4vLyAyLiBhcmUgZGlmZmVyZW50IHRoYW4gd2lubmluZyByZXZpc2lvblxuZnVuY3Rpb24gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSkge1xuICB2YXIgd2luID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gIHZhciBsZWF2ZXMgPSBjb2xsZWN0TGVhdmVzKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgdmFyIGNvbmZsaWN0cyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gbGVhdmVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGxlYWYgPSBsZWF2ZXNbaV07XG4gICAgaWYgKGxlYWYucmV2ICE9PSB3aW4gJiYgIWxlYWYub3B0cy5kZWxldGVkKSB7XG4gICAgICBjb25mbGljdHMucHVzaChsZWFmLnJldik7XG4gICAgfVxuICB9XG4gIHJldHVybiBjb25mbGljdHM7XG59XG5cbi8vIGNvbXBhY3QgYSB0cmVlIGJ5IG1hcmtpbmcgaXRzIG5vbi1sZWFmcyBhcyBtaXNzaW5nLFxuLy8gYW5kIHJldHVybiBhIGxpc3Qgb2YgcmV2cyB0byBkZWxldGVcbmZ1bmN0aW9uIGNvbXBhY3RUcmVlKG1ldGFkYXRhKSB7XG4gIHZhciByZXZzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShtZXRhZGF0YS5yZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICBpZiAob3B0cy5zdGF0dXMgPT09ICdhdmFpbGFibGUnICYmICFpc0xlYWYpIHtcbiAgICAgIHJldnMucHVzaChwb3MgKyAnLScgKyByZXZIYXNoKTtcbiAgICAgIG9wdHMuc3RhdHVzID0gJ21pc3NpbmcnO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXZzO1xufVxuXG4vLyBidWlsZCB1cCBhIGxpc3Qgb2YgYWxsIHRoZSBwYXRocyB0byB0aGUgbGVhZnMgaW4gdGhpcyByZXZpc2lvbiB0cmVlXG5mdW5jdGlvbiByb290VG9MZWFmKHJldnMpIHtcbiAgdmFyIHBhdGhzID0gW107XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIG9wdHM6IG9wdHN9KTtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBwYXRocy5wdXNoKHtwb3M6IChwb3MgKyAxIC0gaGlzdG9yeS5sZW5ndGgpLCBpZHM6IGhpc3Rvcnl9KTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXSwgaGlzdG9yeTogaGlzdG9yeX0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcGF0aHMucmV2ZXJzZSgpO1xufVxuXG4vLyBmb3IgYSBiZXR0ZXIgb3ZlcnZpZXcgb2Ygd2hhdCB0aGlzIGlzIGRvaW5nLCByZWFkOlxuXG5mdW5jdGlvbiBzb3J0QnlQb3MkMShhLCBiKSB7XG4gIHJldHVybiBhLnBvcyAtIGIucG9zO1xufVxuXG4vLyBjbGFzc2ljIGJpbmFyeSBzZWFyY2hcbmZ1bmN0aW9uIGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGxvdyA9IDA7XG4gIHZhciBoaWdoID0gYXJyLmxlbmd0aDtcbiAgdmFyIG1pZDtcbiAgd2hpbGUgKGxvdyA8IGhpZ2gpIHtcbiAgICBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDE7XG4gICAgaWYgKGNvbXBhcmF0b3IoYXJyW21pZF0sIGl0ZW0pIDwgMCkge1xuICAgICAgbG93ID0gbWlkICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGlnaCA9IG1pZDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGxvdztcbn1cblxuLy8gYXNzdW1pbmcgdGhlIGFyciBpcyBzb3J0ZWQsIGluc2VydCB0aGUgaXRlbSBpbiB0aGUgcHJvcGVyIHBsYWNlXG5mdW5jdGlvbiBpbnNlcnRTb3J0ZWQoYXJyLCBpdGVtLCBjb21wYXJhdG9yKSB7XG4gIHZhciBpZHggPSBiaW5hcnlTZWFyY2goYXJyLCBpdGVtLCBjb21wYXJhdG9yKTtcbiAgYXJyLnNwbGljZShpZHgsIDAsIGl0ZW0pO1xufVxuXG4vLyBUdXJuIGEgcGF0aCBhcyBhIGZsYXQgYXJyYXkgaW50byBhIHRyZWUgd2l0aCBhIHNpbmdsZSBicmFuY2guXG4vLyBJZiBhbnkgc2hvdWxkIGJlIHN0ZW1tZWQgZnJvbSB0aGUgYmVnaW5uaW5nIG9mIHRoZSBhcnJheSwgdGhhdCdzIHBhc3NlZFxuLy8gaW4gYXMgdGhlIHNlY29uZCBhcmd1bWVudFxuZnVuY3Rpb24gcGF0aFRvVHJlZShwYXRoLCBudW1TdGVtbWVkKSB7XG4gIHZhciByb290O1xuICB2YXIgbGVhZjtcbiAgZm9yICh2YXIgaSA9IG51bVN0ZW1tZWQsIGxlbiA9IHBhdGgubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbm9kZSA9IHBhdGhbaV07XG4gICAgdmFyIGN1cnJlbnRMZWFmID0gW25vZGUuaWQsIG5vZGUub3B0cywgW11dO1xuICAgIGlmIChsZWFmKSB7XG4gICAgICBsZWFmWzJdLnB1c2goY3VycmVudExlYWYpO1xuICAgICAgbGVhZiA9IGN1cnJlbnRMZWFmO1xuICAgIH0gZWxzZSB7XG4gICAgICByb290ID0gbGVhZiA9IGN1cnJlbnRMZWFmO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdDtcbn1cblxuLy8gY29tcGFyZSB0aGUgSURzIG9mIHR3byB0cmVlc1xuZnVuY3Rpb24gY29tcGFyZVRyZWUoYSwgYikge1xuICByZXR1cm4gYVswXSA8IGJbMF0gPyAtMSA6IDE7XG59XG5cbi8vIE1lcmdlIHR3byB0cmVlcyB0b2dldGhlclxuLy8gVGhlIHJvb3RzIG9mIHRyZWUxIGFuZCB0cmVlMiBtdXN0IGJlIHRoZSBzYW1lIHJldmlzaW9uXG5mdW5jdGlvbiBtZXJnZVRyZWUoaW5fdHJlZTEsIGluX3RyZWUyKSB7XG4gIHZhciBxdWV1ZSA9IFt7dHJlZTE6IGluX3RyZWUxLCB0cmVlMjogaW5fdHJlZTJ9XTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB3aGlsZSAocXVldWUubGVuZ3RoID4gMCkge1xuICAgIHZhciBpdGVtID0gcXVldWUucG9wKCk7XG4gICAgdmFyIHRyZWUxID0gaXRlbS50cmVlMTtcbiAgICB2YXIgdHJlZTIgPSBpdGVtLnRyZWUyO1xuXG4gICAgaWYgKHRyZWUxWzFdLnN0YXR1cyB8fCB0cmVlMlsxXS5zdGF0dXMpIHtcbiAgICAgIHRyZWUxWzFdLnN0YXR1cyA9XG4gICAgICAgICh0cmVlMVsxXS5zdGF0dXMgPT09ICAnYXZhaWxhYmxlJyB8fFxuICAgICAgICB0cmVlMlsxXS5zdGF0dXMgPT09ICdhdmFpbGFibGUnKSA/ICdhdmFpbGFibGUnIDogJ21pc3NpbmcnO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZTJbMl0ubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICghdHJlZTFbMl1bMF0pIHtcbiAgICAgICAgY29uZmxpY3RzID0gJ25ld19sZWFmJztcbiAgICAgICAgdHJlZTFbMl1bMF0gPSB0cmVlMlsyXVtpXTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIHZhciBtZXJnZWQgPSBmYWxzZTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdHJlZTFbMl0ubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgaWYgKHRyZWUxWzJdW2pdWzBdID09PSB0cmVlMlsyXVtpXVswXSkge1xuICAgICAgICAgIHF1ZXVlLnB1c2goe3RyZWUxOiB0cmVlMVsyXVtqXSwgdHJlZTI6IHRyZWUyWzJdW2ldfSk7XG4gICAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFtZXJnZWQpIHtcbiAgICAgICAgY29uZmxpY3RzID0gJ25ld19icmFuY2gnO1xuICAgICAgICBpbnNlcnRTb3J0ZWQodHJlZTFbMl0sIHRyZWUyWzJdW2ldLCBjb21wYXJlVHJlZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiB7Y29uZmxpY3RzOiBjb25mbGljdHMsIHRyZWU6IGluX3RyZWUxfTtcbn1cblxuZnVuY3Rpb24gZG9NZXJnZSh0cmVlLCBwYXRoLCBkb250RXhwYW5kKSB7XG4gIHZhciByZXN0cmVlID0gW107XG4gIHZhciBjb25mbGljdHMgPSBmYWxzZTtcbiAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICB2YXIgcmVzO1xuXG4gIGlmICghdHJlZS5sZW5ndGgpIHtcbiAgICByZXR1cm4ge3RyZWU6IFtwYXRoXSwgY29uZmxpY3RzOiAnbmV3X2xlYWYnfTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB0cmVlLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGJyYW5jaCA9IHRyZWVbaV07XG4gICAgaWYgKGJyYW5jaC5wb3MgPT09IHBhdGgucG9zICYmIGJyYW5jaC5pZHNbMF0gPT09IHBhdGguaWRzWzBdKSB7XG4gICAgICAvLyBQYXRocyBzdGFydCBhdCB0aGUgc2FtZSBwb3NpdGlvbiBhbmQgaGF2ZSB0aGUgc2FtZSByb290LCBzbyB0aGV5IG5lZWRcbiAgICAgIC8vIG1lcmdlZFxuICAgICAgcmVzID0gbWVyZ2VUcmVlKGJyYW5jaC5pZHMsIHBhdGguaWRzKTtcbiAgICAgIHJlc3RyZWUucHVzaCh7cG9zOiBicmFuY2gucG9zLCBpZHM6IHJlcy50cmVlfSk7XG4gICAgICBjb25mbGljdHMgPSBjb25mbGljdHMgfHwgcmVzLmNvbmZsaWN0cztcbiAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgfSBlbHNlIGlmIChkb250RXhwYW5kICE9PSB0cnVlKSB7XG4gICAgICAvLyBUaGUgcGF0aHMgc3RhcnQgYXQgYSBkaWZmZXJlbnQgcG9zaXRpb24sIHRha2UgdGhlIGVhcmxpZXN0IHBhdGggYW5kXG4gICAgICAvLyB0cmF2ZXJzZSB1cCB1bnRpbCBpdCBhcyBhdCB0aGUgc2FtZSBwb2ludCBmcm9tIHJvb3QgYXMgdGhlIHBhdGggd2VcbiAgICAgIC8vIHdhbnQgdG8gbWVyZ2UuICBJZiB0aGUga2V5cyBtYXRjaCB3ZSByZXR1cm4gdGhlIGxvbmdlciBwYXRoIHdpdGggdGhlXG4gICAgICAvLyBvdGhlciBtZXJnZWQgQWZ0ZXIgc3RlbW1pbmcgd2UgZG9udCB3YW50IHRvIGV4cGFuZCB0aGUgdHJlZXNcblxuICAgICAgdmFyIHQxID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gYnJhbmNoIDogcGF0aDtcbiAgICAgIHZhciB0MiA9IGJyYW5jaC5wb3MgPCBwYXRoLnBvcyA/IHBhdGggOiBicmFuY2g7XG4gICAgICB2YXIgZGlmZiA9IHQyLnBvcyAtIHQxLnBvcztcblxuICAgICAgdmFyIGNhbmRpZGF0ZVBhcmVudHMgPSBbXTtcblxuICAgICAgdmFyIHRyZWVzID0gW107XG4gICAgICB0cmVlcy5wdXNoKHtpZHM6IHQxLmlkcywgZGlmZjogZGlmZiwgcGFyZW50OiBudWxsLCBwYXJlbnRJZHg6IG51bGx9KTtcbiAgICAgIHdoaWxlICh0cmVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHZhciBpdGVtID0gdHJlZXMucG9wKCk7XG4gICAgICAgIGlmIChpdGVtLmRpZmYgPT09IDApIHtcbiAgICAgICAgICBpZiAoaXRlbS5pZHNbMF0gPT09IHQyLmlkc1swXSkge1xuICAgICAgICAgICAgY2FuZGlkYXRlUGFyZW50cy5wdXNoKGl0ZW0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZWxlbWVudHMgPSBpdGVtLmlkc1syXTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGVsZW1lbnRzTGVuID0gZWxlbWVudHMubGVuZ3RoOyBqIDwgZWxlbWVudHNMZW47IGorKykge1xuICAgICAgICAgIHRyZWVzLnB1c2goe1xuICAgICAgICAgICAgaWRzOiBlbGVtZW50c1tqXSxcbiAgICAgICAgICAgIGRpZmY6IGl0ZW0uZGlmZiAtIDEsXG4gICAgICAgICAgICBwYXJlbnQ6IGl0ZW0uaWRzLFxuICAgICAgICAgICAgcGFyZW50SWR4OiBqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgdmFyIGVsID0gY2FuZGlkYXRlUGFyZW50c1swXTtcblxuICAgICAgaWYgKCFlbCkge1xuICAgICAgICByZXN0cmVlLnB1c2goYnJhbmNoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlcyA9IG1lcmdlVHJlZShlbC5pZHMsIHQyLmlkcyk7XG4gICAgICAgIGVsLnBhcmVudFsyXVtlbC5wYXJlbnRJZHhdID0gcmVzLnRyZWU7XG4gICAgICAgIHJlc3RyZWUucHVzaCh7cG9zOiB0MS5wb3MsIGlkczogdDEuaWRzfSk7XG4gICAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXN0cmVlLnB1c2goYnJhbmNoKTtcbiAgICB9XG4gIH1cblxuICAvLyBXZSBkaWRudCBmaW5kXG4gIGlmICghbWVyZ2VkKSB7XG4gICAgcmVzdHJlZS5wdXNoKHBhdGgpO1xuICB9XG5cbiAgcmVzdHJlZS5zb3J0KHNvcnRCeVBvcyQxKTtcblxuICByZXR1cm4ge1xuICAgIHRyZWU6IHJlc3RyZWUsXG4gICAgY29uZmxpY3RzOiBjb25mbGljdHMgfHwgJ2ludGVybmFsX25vZGUnXG4gIH07XG59XG5cbi8vIFRvIGVuc3VyZSB3ZSBkb250IGdyb3cgdGhlIHJldmlzaW9uIHRyZWUgaW5maW5pdGVseSwgd2Ugc3RlbSBvbGQgcmV2aXNpb25zXG5mdW5jdGlvbiBzdGVtKHRyZWUsIGRlcHRoKSB7XG4gIC8vIEZpcnN0IHdlIGJyZWFrIG91dCB0aGUgdHJlZSBpbnRvIGEgY29tcGxldGUgbGlzdCBvZiByb290IHRvIGxlYWYgcGF0aHNcbiAgdmFyIHBhdGhzID0gcm9vdFRvTGVhZih0cmVlKTtcbiAgdmFyIHN0ZW1tZWRSZXZzO1xuXG4gIHZhciByZXN1bHQ7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXRocy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIFRoZW4gZm9yIGVhY2ggcGF0aCwgd2UgY3V0IG9mZiB0aGUgc3RhcnQgb2YgdGhlIHBhdGggYmFzZWQgb24gdGhlXG4gICAgLy8gYGRlcHRoYCB0byBzdGVtIHRvLCBhbmQgZ2VuZXJhdGUgYSBuZXcgc2V0IG9mIGZsYXQgdHJlZXNcbiAgICB2YXIgcGF0aCA9IHBhdGhzW2ldO1xuICAgIHZhciBzdGVtbWVkID0gcGF0aC5pZHM7XG4gICAgdmFyIG5vZGU7XG4gICAgaWYgKHN0ZW1tZWQubGVuZ3RoID4gZGVwdGgpIHtcbiAgICAgIC8vIG9ubHkgZG8gdGhlIHN0ZW1taW5nIHdvcmsgaWYgd2UgYWN0dWFsbHkgbmVlZCB0byBzdGVtXG4gICAgICBpZiAoIXN0ZW1tZWRSZXZzKSB7XG4gICAgICAgIHN0ZW1tZWRSZXZzID0ge307IC8vIGF2b2lkIGFsbG9jYXRpbmcgdGhpcyBvYmplY3QgdW5uZWNlc3NhcmlseVxuICAgICAgfVxuICAgICAgdmFyIG51bVN0ZW1tZWQgPSBzdGVtbWVkLmxlbmd0aCAtIGRlcHRoO1xuICAgICAgbm9kZSA9IHtcbiAgICAgICAgcG9zOiBwYXRoLnBvcyArIG51bVN0ZW1tZWQsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCBudW1TdGVtbWVkKVxuICAgICAgfTtcblxuICAgICAgZm9yICh2YXIgcyA9IDA7IHMgPCBudW1TdGVtbWVkOyBzKyspIHtcbiAgICAgICAgdmFyIHJldiA9IChwYXRoLnBvcyArIHMpICsgJy0nICsgc3RlbW1lZFtzXS5pZDtcbiAgICAgICAgc3RlbW1lZFJldnNbcmV2XSA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gbm8gbmVlZCB0byBhY3R1YWxseSBzdGVtXG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zLFxuICAgICAgICBpZHM6IHBhdGhUb1RyZWUoc3RlbW1lZCwgMClcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gVGhlbiB3ZSByZW1lcmdlIGFsbCB0aG9zZSBmbGF0IHRyZWVzIHRvZ2V0aGVyLCBlbnN1cmluZyB0aGF0IHdlIGRvbnRcbiAgICAvLyBjb25uZWN0IHRyZWVzIHRoYXQgd291bGQgZ28gYmV5b25kIHRoZSBkZXB0aCBsaW1pdFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIHJlc3VsdCA9IGRvTWVyZ2UocmVzdWx0LCBub2RlLCB0cnVlKS50cmVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBbbm9kZV07XG4gICAgfVxuICB9XG5cbiAgLy8gdGhpcyBpcyBtZW1vcnktaGVhdnkgcGVyIENocm9tZSBwcm9maWxlciwgYXZvaWQgdW5sZXNzIHdlIGFjdHVhbGx5IHN0ZW1tZWRcbiAgaWYgKHN0ZW1tZWRSZXZzKSB7XG4gICAgdHJhdmVyc2VSZXZUcmVlKHJlc3VsdCwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoKSB7XG4gICAgICAvLyBzb21lIHJldmlzaW9ucyBtYXkgaGF2ZSBiZWVuIHJlbW92ZWQgaW4gYSBicmFuY2ggYnV0IG5vdCBpbiBhbm90aGVyXG4gICAgICBkZWxldGUgc3RlbW1lZFJldnNbcG9zICsgJy0nICsgcmV2SGFzaF07XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4ge1xuICAgIHRyZWU6IHJlc3VsdCxcbiAgICByZXZzOiBzdGVtbWVkUmV2cyA/IE9iamVjdC5rZXlzKHN0ZW1tZWRSZXZzKSA6IFtdXG4gIH07XG59XG5cbmZ1bmN0aW9uIG1lcmdlKHRyZWUsIHBhdGgsIGRlcHRoKSB7XG4gIHZhciBuZXdUcmVlID0gZG9NZXJnZSh0cmVlLCBwYXRoKTtcbiAgdmFyIHN0ZW1tZWQgPSBzdGVtKG5ld1RyZWUudHJlZSwgZGVwdGgpO1xuICByZXR1cm4ge1xuICAgIHRyZWU6IHN0ZW1tZWQudHJlZSxcbiAgICBzdGVtbWVkUmV2czogc3RlbW1lZC5yZXZzLFxuICAgIGNvbmZsaWN0czogbmV3VHJlZS5jb25mbGljdHNcbiAgfTtcbn1cblxuLy8gcmV0dXJuIHRydWUgaWYgYSByZXYgZXhpc3RzIGluIHRoZSByZXYgdHJlZSwgZmFsc2Ugb3RoZXJ3aXNlXG5mdW5jdGlvbiByZXZFeGlzdHMocmV2cywgcmV2KSB7XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuICB2YXIgc3BsaXRSZXYgPSByZXYuc3BsaXQoJy0nKTtcbiAgdmFyIHRhcmdldFBvcyA9IHBhcnNlSW50KHNwbGl0UmV2WzBdLCAxMCk7XG4gIHZhciB0YXJnZXRJZCA9IHNwbGl0UmV2WzFdO1xuXG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIGlmIChub2RlLnBvcyA9PT0gdGFyZ2V0UG9zICYmIG5vZGUuaWRzWzBdID09PSB0YXJnZXRJZCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHZhciBicmFuY2hlcyA9IG5vZGUuaWRzWzJdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IG5vZGUucG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGdldFRyZWVzKG5vZGUpIHtcbiAgcmV0dXJuIG5vZGUuaWRzO1xufVxuXG4vLyBjaGVjayBpZiBhIHNwZWNpZmljIHJldmlzaW9uIG9mIGEgZG9jIGhhcyBiZWVuIGRlbGV0ZWRcbi8vICAtIG1ldGFkYXRhOiB0aGUgbWV0YWRhdGEgb2JqZWN0IGZyb20gdGhlIGRvYyBzdG9yZVxuLy8gIC0gcmV2OiAob3B0aW9uYWwpIHRoZSByZXZpc2lvbiB0byBjaGVjay4gZGVmYXVsdHMgdG8gd2lubmluZyByZXZpc2lvblxuZnVuY3Rpb24gaXNEZWxldGVkKG1ldGFkYXRhLCByZXYpIHtcbiAgaWYgKCFyZXYpIHtcbiAgICByZXYgPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgfVxuICB2YXIgaWQgPSByZXYuc3Vic3RyaW5nKHJldi5pbmRleE9mKCctJykgKyAxKTtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5tYXAoZ2V0VHJlZXMpO1xuXG4gIHZhciB0cmVlO1xuICB3aGlsZSAoKHRyZWUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIGlmICh0cmVlWzBdID09PSBpZCkge1xuICAgICAgcmV0dXJuICEhdHJlZVsxXS5kZWxldGVkO1xuICAgIH1cbiAgICB0b1Zpc2l0ID0gdG9WaXNpdC5jb25jYXQodHJlZVsyXSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gaXNMb2NhbElkKGlkKSB7XG4gIHJldHVybiAoL15fbG9jYWwvKS50ZXN0KGlkKTtcbn1cblxuLy8gcmV0dXJucyB0aGUgY3VycmVudCBsZWFmIG5vZGUgZm9yIGEgZ2l2ZW4gcmV2aXNpb25cbmZ1bmN0aW9uIGxhdGVzdChyZXYsIG1ldGFkYXRhKSB7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICB2YXIgb3B0cyA9IHRyZWVbMV07XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgaXNMZWFmID0gYnJhbmNoZXMubGVuZ3RoID09PSAwO1xuXG4gICAgdmFyIGhpc3RvcnkgPSBub2RlLmhpc3RvcnkgPyBub2RlLmhpc3Rvcnkuc2xpY2UoKSA6IFtdO1xuICAgIGhpc3RvcnkucHVzaCh7aWQ6IGlkLCBwb3M6IHBvcywgb3B0czogb3B0c30pO1xuXG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGhpc3RvcnkubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGhpc3RvcnlOb2RlID0gaGlzdG9yeVtpXTtcbiAgICAgICAgdmFyIGhpc3RvcnlSZXYgPSBoaXN0b3J5Tm9kZS5wb3MgKyAnLScgKyBoaXN0b3J5Tm9kZS5pZDtcblxuICAgICAgICBpZiAoaGlzdG9yeVJldiA9PT0gcmV2KSB7XG4gICAgICAgICAgLy8gcmV0dXJuIHRoZSByZXYgb2YgdGhpcyBsZWFmXG4gICAgICAgICAgcmV0dXJuIHBvcyArICctJyArIGlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaiA9IDAsIGwgPSBicmFuY2hlcy5sZW5ndGg7IGogPCBsOyBqKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2pdLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgdGhyb3cgbmV3IEVycm9yKCdVbmFibGUgdG8gcmVzb2x2ZSBsYXRlc3QgcmV2aXNpb24gZm9yIGlkICcgKyBtZXRhZGF0YS5pZCArICcsIHJldiAnICsgcmV2KTtcbn1cblxuaW5oZXJpdHMoQ2hhbmdlcyQxLCBFRSk7XG5cbmZ1bmN0aW9uIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgLy8gaXNvbGF0ZSB0cnkvY2F0Y2hlcyB0byBhdm9pZCBWOCBkZW9wdGltaXphdGlvbnNcbiAgdHJ5IHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRXJyb3IgaW4gLm9uKFwiY2hhbmdlXCIsIGZ1bmN0aW9uKTonLCBlKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBDaGFuZ2VzJDEoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5kYiA9IGRiO1xuICBvcHRzID0gb3B0cyA/IGNsb25lKG9wdHMpIDoge307XG4gIHZhciBjb21wbGV0ZSA9IG9wdHMuY29tcGxldGUgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBpZiAobGlzdGVuZXJDb3VudChzZWxmLCAnZXJyb3InKSA+IDApIHtcbiAgICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuZW1pdCgnY29tcGxldGUnLCByZXNwKTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBkYi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgfSk7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHNlbGYub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3ApIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3ApO1xuICAgIH0pO1xuICAgIHNlbGYub24oJ2Vycm9yJywgY2FsbGJhY2spO1xuICB9XG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIGRiLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG5cbiAgb3B0cy5vbkNoYW5nZSA9IGZ1bmN0aW9uIChjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIoc2VsZiwgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfTtcblxuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICBvcHRzLmNvbXBsZXRlID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZnVsZmlsbChyZXMpO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xuICBzZWxmLm9uY2UoJ2NhbmNlbCcsIGZ1bmN0aW9uICgpIHtcbiAgICBkYi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gIH0pO1xuICB0aGlzLnRoZW4gPSBwcm9taXNlLnRoZW4uYmluZChwcm9taXNlKTtcbiAgdGhpc1snY2F0Y2gnXSA9IHByb21pc2VbJ2NhdGNoJ10uYmluZChwcm9taXNlKTtcbiAgdGhpcy50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBjb21wbGV0ZShudWxsLCByZXN1bHQpO1xuICB9LCBjb21wbGV0ZSk7XG5cblxuXG4gIGlmICghZGIudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICBkYi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICBpZiAoZmFpbGVkKSB7XG4gICAgICAgIG9wdHMuY29tcGxldGUoZmFpbGVkKTtcbiAgICAgIH0gZWxzZSBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2NhbmNlbCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2VsZi52YWxpZGF0ZUNoYW5nZXMob3B0cyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi52YWxpZGF0ZUNoYW5nZXMob3B0cyk7XG4gIH1cbn1cbkNoYW5nZXMkMS5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmlzQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgaWYgKHRoaXMuZGIudGFza3F1ZXVlLmlzUmVhZHkpIHtcbiAgICB0aGlzLmVtaXQoJ2NhbmNlbCcpO1xuICB9XG59O1xuZnVuY3Rpb24gcHJvY2Vzc0NoYW5nZShkb2MsIG1ldGFkYXRhLCBvcHRzKSB7XG4gIHZhciBjaGFuZ2VMaXN0ID0gW3tyZXY6IGRvYy5fcmV2fV07XG4gIGlmIChvcHRzLnN0eWxlID09PSAnYWxsX2RvY3MnKSB7XG4gICAgY2hhbmdlTGlzdCA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpXG4gICAgLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4ge3JldjogeC5yZXZ9OyB9KTtcbiAgfVxuICB2YXIgY2hhbmdlID0ge1xuICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICBjaGFuZ2VzOiBjaGFuZ2VMaXN0LFxuICAgIGRvYzogZG9jXG4gIH07XG5cbiAgaWYgKGlzRGVsZXRlZChtZXRhZGF0YSwgZG9jLl9yZXYpKSB7XG4gICAgY2hhbmdlLmRlbGV0ZWQgPSB0cnVlO1xuICB9XG4gIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgIGNoYW5nZS5kb2MuX2NvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgIGlmICghY2hhbmdlLmRvYy5fY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgZGVsZXRlIGNoYW5nZS5kb2MuX2NvbmZsaWN0cztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNoYW5nZTtcbn1cblxuQ2hhbmdlcyQxLnByb3RvdHlwZS52YWxpZGF0ZUNoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLnZhbGlkYXRlKG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfVxufTtcblxuQ2hhbmdlcyQxLnByb3RvdHlwZS5kb0NoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG5cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICBpZiAoJ2xpdmUnIGluIG9wdHMgJiYgISgnY29udGludW91cycgaW4gb3B0cykpIHtcbiAgICBvcHRzLmNvbnRpbnVvdXMgPSBvcHRzLmxpdmU7XG4gIH1cbiAgb3B0cy5wcm9jZXNzQ2hhbmdlID0gcHJvY2Vzc0NoYW5nZTtcblxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ2xhdGVzdCcpIHtcbiAgICBvcHRzLnNpbmNlID0gJ25vdyc7XG4gIH1cbiAgaWYgKCFvcHRzLnNpbmNlKSB7XG4gICAgb3B0cy5zaW5jZSA9IDA7XG4gIH1cbiAgaWYgKG9wdHMuc2luY2UgPT09ICdub3cnKSB7XG4gICAgdGhpcy5kYi5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoc2VsZi5pc0NhbmNlbGxlZCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBvcHRzLnNpbmNlID0gaW5mby51cGRhdGVfc2VxO1xuICAgICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSwgY2FsbGJhY2spO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luKSB7XG4gICAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5ub3JtYWxpemUob3B0cyk7XG4gICAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uc2hvdWxkRmlsdGVyKHRoaXMsIG9wdHMpKSB7XG4gICAgICByZXR1cm4gUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5maWx0ZXIodGhpcywgb3B0cyk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIFsnZG9jX2lkcycsICdmaWx0ZXInLCAnc2VsZWN0b3InLCAndmlldyddLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBvcHRzKSB7XG4gICAgICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJyxcbiAgICAgICAgICAnVGhlIFwiJyArIGtleSArICdcIiBvcHRpb24gd2FzIHBhc3NlZCBpbiB0byBjaGFuZ2VzL3JlcGxpY2F0ZSwgJyArXG4gICAgICAgICAgJ2J1dCBwb3VjaGRiLWNoYW5nZXMtZmlsdGVyIHBsdWdpbiBpcyBub3QgaW5zdGFsbGVkLCBzbyBpdCAnICtcbiAgICAgICAgICAnd2FzIGlnbm9yZWQuIFBsZWFzZSBpbnN0YWxsIHRoZSBwbHVnaW4gdG8gZW5hYmxlIGZpbHRlcmluZy4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBpZiAoISgnZGVzY2VuZGluZycgaW4gb3B0cykpIHtcbiAgICBvcHRzLmRlc2NlbmRpbmcgPSBmYWxzZTtcbiAgfVxuXG4gIC8vIDAgYW5kIDEgc2hvdWxkIHJldHVybiAxIGRvY3VtZW50XG4gIG9wdHMubGltaXQgPSBvcHRzLmxpbWl0ID09PSAwID8gMSA6IG9wdHMubGltaXQ7XG4gIG9wdHMuY29tcGxldGUgPSBjYWxsYmFjaztcbiAgdmFyIG5ld1Byb21pc2UgPSB0aGlzLmRiLl9jaGFuZ2VzKG9wdHMpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAobmV3UHJvbWlzZSAmJiB0eXBlb2YgbmV3UHJvbWlzZS5jYW5jZWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgY2FuY2VsID0gc2VsZi5jYW5jZWw7XG4gICAgc2VsZi5jYW5jZWwgPSBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIG5ld1Byb21pc2UuY2FuY2VsKCk7XG4gICAgICBjYW5jZWwuYXBwbHkodGhpcywgYXJncyk7XG4gICAgfSk7XG4gIH1cbn07XG5cbi8qXG4gKiBBIGdlbmVyaWMgcG91Y2ggYWRhcHRlclxuICovXG5cbmZ1bmN0aW9uIGNvbXBhcmUobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG59XG5cbi8vIFdyYXBwZXIgZm9yIGZ1bmN0aW9ucyB0aGF0IGNhbGwgdGhlIGJ1bGtkb2NzIGFwaSB3aXRoIGEgc2luZ2xlIGRvYyxcbi8vIGlmIHRoZSBmaXJzdCByZXN1bHQgaXMgYW4gZXJyb3IsIHJldHVybiBhbiBlcnJvclxuZnVuY3Rpb24geWFua0Vycm9yKGNhbGxiYWNrLCBkb2NJZCkge1xuICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcmVzdWx0cykge1xuICAgIGlmIChlcnIgfHwgKHJlc3VsdHNbMF0gJiYgcmVzdWx0c1swXS5lcnJvcikpIHtcbiAgICAgIGVyciA9IGVyciB8fCByZXN1bHRzWzBdO1xuICAgICAgZXJyLmRvY0lkID0gZG9jSWQ7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzLmxlbmd0aCA/IHJlc3VsdHNbMF0gIDogcmVzdWx0cyk7XG4gICAgfVxuICB9O1xufVxuXG4vLyBjbGVhbiBkb2NzIGdpdmVuIHRvIHVzIGJ5IHRoZSB1c2VyXG5mdW5jdGlvbiBjbGVhbkRvY3MoZG9jcykge1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGRvY3MubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZG9jID0gZG9jc1tpXTtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICBkZWxldGUgZG9jLl9hdHRhY2htZW50czsgLy8gaWdub3JlIGF0dHMgZm9yIGRlbGV0ZWQgZG9jc1xuICAgIH0gZWxzZSBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgLy8gZmlsdGVyIG91dCBleHRyYW5lb3VzIGtleXMgZnJvbSBfYXR0YWNobWVudHNcbiAgICAgIHZhciBhdHRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbal07XG4gICAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XSA9IHBpY2soZG9jLl9hdHRhY2htZW50c1thdHRdLFxuICAgICAgICAgIFsnZGF0YScsICdkaWdlc3QnLCAnY29udGVudF90eXBlJywgJ2xlbmd0aCcsICdyZXZwb3MnLCAnc3R1YiddKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gY29tcGFyZSB0d28gZG9jcywgZmlyc3QgYnkgX2lkIHRoZW4gYnkgX3JldlxuZnVuY3Rpb24gY29tcGFyZUJ5SWRUaGVuUmV2KGEsIGIpIHtcbiAgdmFyIGlkQ29tcGFyZSA9IGNvbXBhcmUoYS5faWQsIGIuX2lkKTtcbiAgaWYgKGlkQ29tcGFyZSAhPT0gMCkge1xuICAgIHJldHVybiBpZENvbXBhcmU7XG4gIH1cbiAgdmFyIGFTdGFydCA9IGEuX3JldmlzaW9ucyA/IGEuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHZhciBiU3RhcnQgPSBiLl9yZXZpc2lvbnMgPyBiLl9yZXZpc2lvbnMuc3RhcnQgOiAwO1xuICByZXR1cm4gY29tcGFyZShhU3RhcnQsIGJTdGFydCk7XG59XG5cbi8vIGZvciBldmVyeSBub2RlIGluIGEgcmV2aXNpb24gdHJlZSBjb21wdXRlcyBpdHMgZGlzdGFuY2UgZnJvbSB0aGUgY2xvc2VzdFxuLy8gbGVhZlxuZnVuY3Rpb24gY29tcHV0ZUhlaWdodChyZXZzKSB7XG4gIHZhciBoZWlnaHQgPSB7fTtcbiAgdmFyIGVkZ2VzID0gW107XG4gIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIGlkLCBwcm50KSB7XG4gICAgdmFyIHJldiA9IHBvcyArIFwiLVwiICsgaWQ7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgaGVpZ2h0W3Jldl0gPSAwO1xuICAgIH1cbiAgICBpZiAocHJudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBlZGdlcy5wdXNoKHtmcm9tOiBwcm50LCB0bzogcmV2fSk7XG4gICAgfVxuICAgIHJldHVybiByZXY7XG4gIH0pO1xuXG4gIGVkZ2VzLnJldmVyc2UoKTtcbiAgZWRnZXMuZm9yRWFjaChmdW5jdGlvbiAoZWRnZSkge1xuICAgIGlmIChoZWlnaHRbZWRnZS5mcm9tXSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBoZWlnaHRbZWRnZS5mcm9tXSA9IDEgKyBoZWlnaHRbZWRnZS50b107XG4gICAgfSBlbHNlIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gTWF0aC5taW4oaGVpZ2h0W2VkZ2UuZnJvbV0sIDEgKyBoZWlnaHRbZWRnZS50b10pO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBoZWlnaHQ7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzUGFyc2Uob3B0cykge1xuICB2YXIga2V5cyA9ICAoJ2xpbWl0JyBpbiBvcHRzKSA/XG4gICAgb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCwgb3B0cy5saW1pdCArIG9wdHMuc2tpcCkgOlxuICAgIChvcHRzLnNraXAgPiAwKSA/IG9wdHMua2V5cy5zbGljZShvcHRzLnNraXApIDogb3B0cy5rZXlzO1xuICBvcHRzLmtleXMgPSBrZXlzO1xuICBvcHRzLnNraXAgPSAwO1xuICBkZWxldGUgb3B0cy5saW1pdDtcbiAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgIGtleXMucmV2ZXJzZSgpO1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG59XG5cbi8vIGFsbCBjb21wYWN0aW9uIGlzIGRvbmUgaW4gYSBxdWV1ZSwgdG8gYXZvaWQgYXR0YWNoaW5nXG4vLyB0b28gbWFueSBsaXN0ZW5lcnMgYXQgb25jZVxuZnVuY3Rpb24gZG9OZXh0Q29tcGFjdGlvbihzZWxmKSB7XG4gIHZhciB0YXNrID0gc2VsZi5fY29tcGFjdGlvblF1ZXVlWzBdO1xuICB2YXIgb3B0cyA9IHRhc2sub3B0cztcbiAgdmFyIGNhbGxiYWNrID0gdGFzay5jYWxsYmFjaztcbiAgc2VsZi5nZXQoJ19sb2NhbC9jb21wYWN0aW9uJykuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYyAmJiBkb2MubGFzdF9zZXEpIHtcbiAgICAgIG9wdHMubGFzdF9zZXEgPSBkb2MubGFzdF9zZXE7XG4gICAgfVxuICAgIHNlbGYuX2NvbXBhY3Qob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICB9XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBzZWxmLl9jb21wYWN0aW9uUXVldWUuc2hpZnQoKTtcbiAgICAgICAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGF0dGFjaG1lbnROYW1lRXJyb3IobmFtZSkge1xuICBpZiAobmFtZS5jaGFyQXQoMCkgPT09ICdfJykge1xuICAgIHJldHVybiBuYW1lICsgJyBpcyBub3QgYSB2YWxpZCBhdHRhY2htZW50IG5hbWUsIGF0dGFjaG1lbnQgJyArXG4gICAgICAnbmFtZXMgY2Fubm90IHN0YXJ0IHdpdGggXFwnX1xcJyc7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5pbmhlcml0cyhBYnN0cmFjdFBvdWNoREIsIEVFKTtcblxuZnVuY3Rpb24gQWJzdHJhY3RQb3VjaERCKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuXG4gIC8vIHJlLWJpbmQgcHJvdG90eXBlZCBtZXRob2RzXG4gIGZvciAodmFyIHAgaW4gQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZSkge1xuICAgIGlmICh0eXBlb2YgdGhpc1twXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgdGhpc1twXSA9IHRoaXNbcF0uYmluZCh0aGlzKTtcbiAgICB9XG4gIH1cbn1cblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wb3N0ID1cbiAgYWRhcHRlckZ1bigncG9zdCcsIGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2MgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZG9jKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gIH1cbiAgdGhpcy5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvYy5faWQpKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnB1dCA9IGFkYXB0ZXJGdW4oJ3B1dCcsIGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBkb2MgIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkoZG9jKSkge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gIH1cbiAgaW52YWxpZElkRXJyb3IoZG9jLl9pZCk7XG4gIGlmIChpc0xvY2FsSWQoZG9jLl9pZCkgJiYgdHlwZW9mIHRoaXMuX3B1dExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgICAgcmV0dXJuIHRoaXMuX3JlbW92ZUxvY2FsKGRvYywgY2IpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdGhpcy5fcHV0TG9jYWwoZG9jLCBjYik7XG4gICAgfVxuICB9XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMuZm9yY2UgJiYgZG9jLl9yZXYpIHtcbiAgICB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKTtcbiAgICBwdXREb2MoZnVuY3Rpb24gKGVycikge1xuICAgICAgdmFyIHJlc3VsdCA9IGVyciA/IG51bGwgOiB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgIGNiKGVyciwgcmVzdWx0KTtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBwdXREb2MoY2IpO1xuICB9XG5cbiAgZnVuY3Rpb24gdHJhbnNmb3JtRm9yY2VPcHRpb25Ub05ld0VkaXRzT3B0aW9uKCkge1xuICAgIHZhciBwYXJ0cyA9IGRvYy5fcmV2LnNwbGl0KCctJyk7XG4gICAgdmFyIG9sZFJldklkID0gcGFydHNbMV07XG4gICAgdmFyIG9sZFJldk51bSA9IHBhcnNlSW50KHBhcnRzWzBdLCAxMCk7XG5cbiAgICB2YXIgbmV3UmV2TnVtID0gb2xkUmV2TnVtICsgMTtcbiAgICB2YXIgbmV3UmV2SWQgPSByZXYkJDEoKTtcblxuICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgc3RhcnQ6IG5ld1Jldk51bSxcbiAgICAgIGlkczogW25ld1JldklkLCBvbGRSZXZJZF1cbiAgICB9O1xuICAgIGRvYy5fcmV2ID0gbmV3UmV2TnVtICsgJy0nICsgbmV3UmV2SWQ7XG4gICAgb3B0cy5uZXdfZWRpdHMgPSBmYWxzZTtcbiAgfVxuICBmdW5jdGlvbiBwdXREb2MobmV4dCkge1xuICAgIGlmICh0eXBlb2Ygc2VsZi5fcHV0ID09PSAnZnVuY3Rpb24nICYmIG9wdHMubmV3X2VkaXRzICE9PSBmYWxzZSkge1xuICAgICAgc2VsZi5fcHV0KGRvYywgb3B0cywgbmV4dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGYuYnVsa0RvY3Moe2RvY3M6IFtkb2NdfSwgb3B0cywgeWFua0Vycm9yKG5leHQsIGRvYy5faWQpKTtcbiAgICB9XG4gIH1cbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnB1dEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdwdXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBibG9iLCB0eXBlKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICB0eXBlID0gYmxvYjtcbiAgICBibG9iID0gcmV2O1xuICAgIHJldiA9IG51bGw7XG4gIH1cbiAgLy8gTGV0cyBmaXggaW4gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvMzI2N1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiB0eXBlID09PSAndW5kZWZpbmVkJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICBpZiAoIXR5cGUpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsICdBdHRhY2htZW50JywgYXR0YWNobWVudElkLCAnb24gZG9jdW1lbnQnLCBkb2NJZCwgJ2lzIG1pc3NpbmcgY29udGVudF90eXBlJyk7XG4gIH1cblxuICBmdW5jdGlvbiBjcmVhdGVBdHRhY2htZW50KGRvYykge1xuICAgIHZhciBwcmV2cmV2cG9zID0gJ19yZXYnIGluIGRvYyA/IHBhcnNlSW50KGRvYy5fcmV2LCAxMCkgOiAwO1xuICAgIGRvYy5fYXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzIHx8IHt9O1xuICAgIGRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSA9IHtcbiAgICAgIGNvbnRlbnRfdHlwZTogdHlwZSxcbiAgICAgIGRhdGE6IGJsb2IsXG4gICAgICByZXZwb3M6ICsrcHJldnJldnBvc1xuICAgIH07XG4gICAgcmV0dXJuIGFwaS5wdXQoZG9jKTtcbiAgfVxuXG4gIHJldHVybiBhcGkuZ2V0KGRvY0lkKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jLl9yZXYgIT09IHJldikge1xuICAgICAgdGhyb3cgY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICB9XG5cbiAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudChkb2MpO1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgIC8vIGNyZWF0ZSBuZXcgZG9jXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoZXJyLnJlYXNvbiA9PT0gTUlTU0lOR19ET0MubWVzc2FnZSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZUF0dGFjaG1lbnQoe19pZDogZG9jSWR9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZW1vdmVBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bigncmVtb3ZlQXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzZWxmLmdldChkb2NJZCwgZnVuY3Rpb24gKGVyciwgb2JqKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKG9iai5fcmV2ICE9PSByZXYpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIW9iai5fYXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cbiAgICBkZWxldGUgb2JqLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdO1xuICAgIGlmIChPYmplY3Qua2V5cyhvYmouX2F0dGFjaG1lbnRzKS5sZW5ndGggPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzO1xuICAgIH1cbiAgICBzZWxmLnB1dChvYmosIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZW1vdmUgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgZG9jO1xuICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IHtcbiAgICAgIF9pZDogZG9jT3JJZCxcbiAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgIH07XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIC8vIGRvYywgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICBkb2MgPSBkb2NPcklkO1xuICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHNPclJldjtcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IG9wdHNPclJldjtcbiAgICB9XG4gIH1cbiAgb3B0cyA9IG9wdHMgfHwge307XG4gIG9wdHMud2FzX2RlbGV0ZSA9IHRydWU7XG4gIHZhciBuZXdEb2MgPSB7X2lkOiBkb2MuX2lkLCBfcmV2OiAoZG9jLl9yZXYgfHwgb3B0cy5yZXYpfTtcbiAgbmV3RG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgaWYgKGlzTG9jYWxJZChuZXdEb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcmVtb3ZlTG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYWxsYmFjayk7XG4gIH1cbiAgdGhpcy5idWxrRG9jcyh7ZG9jczogW25ld0RvY119LCBvcHRzLCB5YW5rRXJyb3IoY2FsbGJhY2ssIG5ld0RvYy5faWQpKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJldnNEaWZmID1cbiAgYWRhcHRlckZ1bigncmV2c0RpZmYnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHZhciBpZHMgPSBPYmplY3Qua2V5cyhyZXEpO1xuXG4gIGlmICghaWRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7fSk7XG4gIH1cblxuICB2YXIgY291bnQgPSAwO1xuICB2YXIgbWlzc2luZyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIGZ1bmN0aW9uIGFkZFRvTWlzc2luZyhpZCwgcmV2SWQpIHtcbiAgICBpZiAoIW1pc3NpbmcuaGFzKGlkKSkge1xuICAgICAgbWlzc2luZy5zZXQoaWQsIHttaXNzaW5nOiBbXX0pO1xuICAgIH1cbiAgICBtaXNzaW5nLmdldChpZCkubWlzc2luZy5wdXNoKHJldklkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NEb2MoaWQsIHJldl90cmVlKSB7XG4gICAgLy8gSXMgdGhpcyBmYXN0IGVub3VnaD8gTWF5YmUgd2Ugc2hvdWxkIHN3aXRjaCB0byBhIHNldCBzaW11bGF0ZWQgYnkgYSBtYXBcbiAgICB2YXIgbWlzc2luZ0ZvcklkID0gcmVxW2lkXS5zbGljZSgwKTtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCwgY3R4LFxuICAgICAgb3B0cykge1xuICAgICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgICAgdmFyIGlkeCA9IG1pc3NpbmdGb3JJZC5pbmRleE9mKHJldik7XG4gICAgICAgIGlmIChpZHggPT09IC0xKSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgbWlzc2luZ0ZvcklkLnNwbGljZShpZHgsIDEpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKG9wdHMuc3RhdHVzICE9PSAnYXZhaWxhYmxlJykge1xuICAgICAgICAgIGFkZFRvTWlzc2luZyhpZCwgcmV2KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAvLyBUcmF2ZXJzaW5nIHRoZSB0cmVlIGlzIHN5bmNocm9ub3VzLCBzbyBub3cgYG1pc3NpbmdGb3JJZGAgY29udGFpbnNcbiAgICAvLyByZXZpc2lvbnMgdGhhdCB3ZXJlIG5vdCBmb3VuZCBpbiB0aGUgdHJlZVxuICAgIG1pc3NpbmdGb3JJZC5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgIGFkZFRvTWlzc2luZyhpZCwgcmV2KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlkcy5tYXAoZnVuY3Rpb24gKGlkKSB7XG4gICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzID09PSA0MDQgJiYgZXJyLm1lc3NhZ2UgPT09ICdtaXNzaW5nJykge1xuICAgICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IHJlcVtpZF19KTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoKytjb3VudCA9PT0gaWRzLmxlbmd0aCkge1xuICAgICAgICAvLyBjb252ZXJ0IExhenlNYXAgdG8gb2JqZWN0XG4gICAgICAgIHZhciBtaXNzaW5nT2JqID0ge307XG4gICAgICAgIG1pc3NpbmcuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgICAgICAgIG1pc3NpbmdPYmpba2V5XSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIG1pc3NpbmdPYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9LCB0aGlzKTtcbn0pO1xuXG4vLyBfYnVsa19nZXQgQVBJIGZvciBmYXN0ZXIgcmVwbGljYXRpb24sIGFzIGRlc2NyaWJlZCBpblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNodHRwZC9wdWxsLzMzXG4vLyBBdCB0aGUgXCJhYnN0cmFjdFwiIGxldmVsLCBpdCB3aWxsIGp1c3QgcnVuIG11bHRpcGxlIGdldCgpcyBpblxuLy8gcGFyYWxsZWwsIGJlY2F1c2UgdGhpcyBpc24ndCBtdWNoIG9mIGEgcGVyZm9ybWFuY2UgY29zdFxuLy8gZm9yIGxvY2FsIGRhdGFiYXNlcyAoZXhjZXB0IHRoZSBjb3N0IG9mIG11bHRpcGxlIHRyYW5zYWN0aW9ucywgd2hpY2ggaXNcbi8vIHNtYWxsKS4gVGhlIGh0dHAgYWRhcHRlciBvdmVycmlkZXMgdGhpcyBpbiBvcmRlclxuLy8gdG8gZG8gYSBtb3JlIGVmZmljaWVudCBzaW5nbGUgSFRUUCByZXF1ZXN0LlxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrR2V0ID1cbiAgYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBidWxrR2V0KHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbn0pO1xuXG4vLyBjb21wYWN0IG9uZSBkb2N1bWVudCBhbmQgZmlyZSBjYWxsYmFja1xuLy8gYnkgY29tcGFjdGluZyB3ZSBtZWFuIHJlbW92aW5nIGFsbCByZXZpc2lvbnMgd2hpY2hcbi8vIGFyZSBmdXJ0aGVyIGZyb20gdGhlIGxlYWYgaW4gcmV2aXNpb24gdHJlZSB0aGFuIG1heF9oZWlnaHRcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY29tcGFjdERvY3VtZW50ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdERvY3VtZW50JywgZnVuY3Rpb24gKGRvY0lkLCBtYXhIZWlnaHQsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGRvY0lkLCBmdW5jdGlvbiAoZXJyLCByZXZUcmVlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHZhciBoZWlnaHQgPSBjb21wdXRlSGVpZ2h0KHJldlRyZWUpO1xuICAgIHZhciBjYW5kaWRhdGVzID0gW107XG4gICAgdmFyIHJldnMgPSBbXTtcbiAgICBPYmplY3Qua2V5cyhoZWlnaHQpLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgaWYgKGhlaWdodFtyZXZdID4gbWF4SGVpZ2h0KSB7XG4gICAgICAgIGNhbmRpZGF0ZXMucHVzaChyZXYpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdHJhdmVyc2VSZXZUcmVlKHJldlRyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgY2FuZGlkYXRlcy5pbmRleE9mKHJldikgIT09IC0xKSB7XG4gICAgICAgIHJldnMucHVzaChyZXYpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNlbGYuX2RvQ29tcGFjdGlvbihkb2NJZCwgcmV2cywgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG4vLyBjb21wYWN0IHRoZSB3aG9sZSBkYXRhYmFzZSB1c2luZyBzaW5nbGUgZG9jdW1lbnRcbi8vIGNvbXBhY3Rpb25cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY29tcGFjdCA9XG4gIGFkYXB0ZXJGdW4oJ2NvbXBhY3QnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgc2VsZi5fY29tcGFjdGlvblF1ZXVlID0gc2VsZi5fY29tcGFjdGlvblF1ZXVlIHx8IFtdO1xuICBzZWxmLl9jb21wYWN0aW9uUXVldWUucHVzaCh7b3B0czogb3B0cywgY2FsbGJhY2s6IGNhbGxiYWNrfSk7XG4gIGlmIChzZWxmLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoID09PSAxKSB7XG4gICAgZG9OZXh0Q29tcGFjdGlvbihzZWxmKTtcbiAgfVxufSk7XG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLl9jb21wYWN0ID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNoYW5nZXNPcHRzID0ge1xuICAgIHJldHVybl9kb2NzOiBmYWxzZSxcbiAgICBsYXN0X3NlcTogb3B0cy5sYXN0X3NlcSB8fCAwXG4gIH07XG4gIHZhciBwcm9taXNlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKHJvdykge1xuICAgIHByb21pc2VzLnB1c2goc2VsZi5jb21wYWN0RG9jdW1lbnQocm93LmlkLCAwKSk7XG4gIH1cbiAgZnVuY3Rpb24gb25Db21wbGV0ZShyZXNwKSB7XG4gICAgdmFyIGxhc3RTZXEgPSByZXNwLmxhc3Rfc2VxO1xuICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1cHNlcnQoc2VsZiwgJ19sb2NhbC9jb21wYWN0aW9uJywgZnVuY3Rpb24gZGVsdGFGdW5jKGRvYykge1xuICAgICAgICBpZiAoIWRvYy5sYXN0X3NlcSB8fCBkb2MubGFzdF9zZXEgPCBsYXN0U2VxKSB7XG4gICAgICAgICAgZG9jLmxhc3Rfc2VxID0gbGFzdFNlcTtcbiAgICAgICAgICByZXR1cm4gZG9jO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gc29tZWJvZHkgZWxzZSBnb3QgaGVyZSBmaXJzdCwgZG9uJ3QgdXBkYXRlXG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfVxuICBzZWxmLmNoYW5nZXMoY2hhbmdlc09wdHMpXG4gICAgLm9uKCdjaGFuZ2UnLCBvbkNoYW5nZSlcbiAgICAub24oJ2NvbXBsZXRlJywgb25Db21wbGV0ZSlcbiAgICAub24oJ2Vycm9yJywgY2FsbGJhY2spO1xufTtcblxuLyogQmVnaW4gYXBpIHdyYXBwZXJzLiBTcGVjaWZpYyBmdW5jdGlvbmFsaXR5IHRvIHN0b3JhZ2UgYmVsb25ncyBpbiB0aGVcbiAgIF9bbWV0aG9kXSAqL1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5nZXQgPSBhZGFwdGVyRnVuKCdnZXQnLCBmdW5jdGlvbiAoaWQsIG9wdHMsIGNiKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNiID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBpZCAhPT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoSU5WQUxJRF9JRCkpO1xuICB9XG4gIGlmIChpc0xvY2FsSWQoaWQpICYmIHR5cGVvZiB0aGlzLl9nZXRMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9nZXRMb2NhbChpZCwgY2IpO1xuICB9XG4gIHZhciBsZWF2ZXMgPSBbXSwgc2VsZiA9IHRoaXM7XG5cbiAgZnVuY3Rpb24gZmluaXNoT3BlblJldnMoKSB7XG4gICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgIHZhciBjb3VudCA9IGxlYXZlcy5sZW5ndGg7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFjb3VudCkge1xuICAgICAgcmV0dXJuIGNiKG51bGwsIHJlc3VsdCk7XG4gICAgfVxuXG4gICAgLy8gb3JkZXIgd2l0aCBvcGVuX3JldnMgaXMgdW5zcGVjaWZpZWRcbiAgICBsZWF2ZXMuZm9yRWFjaChmdW5jdGlvbiAobGVhZikge1xuICAgICAgc2VsZi5nZXQoaWQsIHtcbiAgICAgICAgcmV2OiBsZWFmLFxuICAgICAgICByZXZzOiBvcHRzLnJldnMsXG4gICAgICAgIGxhdGVzdDogb3B0cy5sYXRlc3QsXG4gICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5XG4gICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkb2MpIHtcbiAgICAgICAgaWYgKCFlcnIpIHtcbiAgICAgICAgICAvLyB1c2luZyBsYXRlc3Q9dHJ1ZSBjYW4gcHJvZHVjZSBkdXBsaWNhdGVzXG4gICAgICAgICAgdmFyIGV4aXN0aW5nO1xuICAgICAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzdWx0Lmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICAgICAgaWYgKHJlc3VsdFtpXS5vayAmJiByZXN1bHRbaV0ub2suX3JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgICAgICAgICAgZXhpc3RpbmcgPSB0cnVlO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFleGlzdGluZykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goe29rOiBkb2N9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goe21pc3Npbmc6IGxlYWZ9KTtcbiAgICAgICAgfVxuICAgICAgICBjb3VudC0tO1xuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgY2IobnVsbCwgcmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAob3B0cy5vcGVuX3JldnMpIHtcbiAgICBpZiAob3B0cy5vcGVuX3JldnMgPT09IFwiYWxsXCIpIHtcbiAgICAgIHRoaXMuX2dldFJldmlzaW9uVHJlZShpZCwgZnVuY3Rpb24gKGVyciwgcmV2X3RyZWUpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICBsZWF2ZXMgPSBjb2xsZWN0TGVhdmVzKHJldl90cmVlKS5tYXAoZnVuY3Rpb24gKGxlYWYpIHtcbiAgICAgICAgICByZXR1cm4gbGVhZi5yZXY7XG4gICAgICAgIH0pO1xuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG9wdHMub3Blbl9yZXZzKSkge1xuICAgICAgICBsZWF2ZXMgPSBvcHRzLm9wZW5fcmV2cztcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZWF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgbCA9IGxlYXZlc1tpXTtcbiAgICAgICAgICAvLyBsb29rcyBsaWtlIGl0J3MgdGhlIG9ubHkgdGhpbmcgY291Y2hkYiBjaGVja3NcbiAgICAgICAgICBpZiAoISh0eXBlb2YgKGwpID09PSBcInN0cmluZ1wiICYmIC9eXFxkKy0vLnRlc3QobCkpKSB7XG4gICAgICAgICAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoT3BlblJldnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihVTktOT1dOX0VSUk9SLCAnZnVuY3Rpb25fY2xhdXNlJykpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47IC8vIG9wZW5fcmV2cyBkb2VzIG5vdCBsaWtlIG90aGVyIG9wdGlvbnNcbiAgfVxuXG4gIHJldHVybiB0aGlzLl9nZXQoaWQsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlc3VsdCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGlkO1xuICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgfVxuXG4gICAgdmFyIGRvYyA9IHJlc3VsdC5kb2M7XG4gICAgdmFyIG1ldGFkYXRhID0gcmVzdWx0Lm1ldGFkYXRhO1xuICAgIHZhciBjdHggPSByZXN1bHQuY3R4O1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgICBkb2MuX2NvbmZsaWN0cyA9IGNvbmZsaWN0cztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICAgIGRvYy5fZGVsZXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2cyB8fCBvcHRzLnJldnNfaW5mbykge1xuICAgICAgdmFyIHNwbGl0dGVkUmV2ID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICAgIHZhciByZXZObyAgICAgICA9IHBhcnNlSW50KHNwbGl0dGVkUmV2WzBdLCAxMCk7XG4gICAgICB2YXIgcmV2SGFzaCAgICAgPSBzcGxpdHRlZFJldlsxXTtcblxuICAgICAgdmFyIHBhdGhzID0gcm9vdFRvTGVhZihtZXRhZGF0YS5yZXZfdHJlZSk7XG4gICAgICB2YXIgcGF0aCA9IG51bGw7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGF0aHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgdmFyIGN1cnJlbnRQYXRoID0gcGF0aHNbaV07XG4gICAgICAgIHZhciBoYXNoSW5kZXggPSBjdXJyZW50UGF0aC5pZHMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KVxuICAgICAgICAgIC5pbmRleE9mKHJldkhhc2gpO1xuICAgICAgICB2YXIgaGFzaEZvdW5kQXRSZXZQb3MgPSBoYXNoSW5kZXggPT09IChyZXZObyAtIDEpO1xuXG4gICAgICAgIGlmIChoYXNoRm91bmRBdFJldlBvcyB8fCAoIXBhdGggJiYgaGFzaEluZGV4ICE9PSAtMSkpIHtcbiAgICAgICAgICBwYXRoID0gY3VycmVudFBhdGg7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoIXBhdGgpIHtcbiAgICAgICAgZXJyID0gbmV3IEVycm9yKCdpbnZhbGlkIHJldiB0cmVlJyk7XG4gICAgICAgIGVyci5kb2NJZCA9IGlkO1xuICAgICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICAgIH1cblxuICAgICAgdmFyIGluZGV4T2ZSZXYgPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgIC5pbmRleE9mKGRvYy5fcmV2LnNwbGl0KCctJylbMV0pICsgMTtcbiAgICAgIHZhciBob3dNYW55ID0gcGF0aC5pZHMubGVuZ3RoIC0gaW5kZXhPZlJldjtcbiAgICAgIHBhdGguaWRzLnNwbGljZShpbmRleE9mUmV2LCBob3dNYW55KTtcbiAgICAgIHBhdGguaWRzLnJldmVyc2UoKTtcblxuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBkb2MuX3JldmlzaW9ucyA9IHtcbiAgICAgICAgICBzdGFydDogKHBhdGgucG9zICsgcGF0aC5pZHMubGVuZ3RoKSAtIDEsXG4gICAgICAgICAgaWRzOiBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgICAgcmV0dXJuIHJldi5pZDtcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMucmV2c19pbmZvKSB7XG4gICAgICAgIHZhciBwb3MgPSAgcGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGg7XG4gICAgICAgIGRvYy5fcmV2c19pbmZvID0gcGF0aC5pZHMubWFwKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgICAgICBwb3MtLTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgcmV2OiBwb3MgKyAnLScgKyByZXYuaWQsXG4gICAgICAgICAgICBzdGF0dXM6IHJldi5vcHRzLnN0YXR1c1xuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIHZhciBhdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHM7XG4gICAgICB2YXIgY291bnQgPSBPYmplY3Qua2V5cyhhdHRhY2htZW50cykubGVuZ3RoO1xuICAgICAgaWYgKGNvdW50ID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjYihudWxsLCBkb2MpO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB0aGlzLl9nZXRBdHRhY2htZW50KGRvYy5faWQsIGtleSwgYXR0YWNobWVudHNba2V5XSwge1xuICAgICAgICAgIC8vIFByZXZpb3VzbHkgdGhlIHJldmlzaW9uIGhhbmRsaW5nIHdhcyBkb25lIGluIGFkYXB0ZXIuanNcbiAgICAgICAgICAvLyBnZXRBdHRhY2htZW50LCBob3dldmVyIHNpbmNlIGlkYi1uZXh0IGRvZXNudCB3ZSBuZWVkIHRvXG4gICAgICAgICAgLy8gcGFzcyB0aGUgcmV2IHRocm91Z2hcbiAgICAgICAgICByZXY6IGRvYy5fcmV2LFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnksXG4gICAgICAgICAgY3R4OiBjdHhcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZGF0YSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2MuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICAgICAgYXR0LmRhdGEgPSBkYXRhO1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBpZiAoIS0tY291bnQpIHtcbiAgICAgICAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0sIHNlbGYpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICBmb3IgKHZhciBrZXkgaW4gZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MuX2F0dGFjaG1lbnRzLCBrZXkpKSB7XG4gICAgICAgICAgICBkb2MuX2F0dGFjaG1lbnRzW2tleV0uc3R1YiA9IHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjYihudWxsLCBkb2MpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuLy8gVE9ETzogSSBkb250IGxpa2UgdGhpcywgaXQgZm9yY2VzIGFuIGV4dHJhIHJlYWQgZm9yIGV2ZXJ5XG4vLyBhdHRhY2htZW50IHJlYWQgYW5kIGVuZm9yY2VzIGEgY29uZnVzaW5nIGFwaSBiZXR3ZWVuXG4vLyBhZGFwdGVyLmpzIGFuZCB0aGUgYWRhcHRlciBpbXBsZW1lbnRhdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5nZXRBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bignZ2V0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChvcHRzIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIHRoaXMuX2dldChkb2NJZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmIChyZXMuZG9jLl9hdHRhY2htZW50cyAmJiByZXMuZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdKSB7XG4gICAgICBvcHRzLmN0eCA9IHJlcy5jdHg7XG4gICAgICBvcHRzLmJpbmFyeSA9IHRydWU7XG4gICAgICBzZWxmLl9nZXRBdHRhY2htZW50KGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0sIG9wdHMsIGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmFsbERvY3MgPVxuICBhZGFwdGVyRnVuKCdhbGxEb2NzJywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cy5za2lwID0gdHlwZW9mIG9wdHMuc2tpcCAhPT0gJ3VuZGVmaW5lZCcgPyBvcHRzLnNraXAgOiAwO1xuICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICBvcHRzLnN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gIH1cbiAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgIG9wdHMuZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICB9XG4gIGlmICgna2V5cycgaW4gb3B0cykge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShvcHRzLmtleXMpKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IFR5cGVFcnJvcignb3B0aW9ucy5rZXlzIG11c3QgYmUgYW4gYXJyYXknKSk7XG4gICAgfVxuICAgIHZhciBpbmNvbXBhdGlibGVPcHQgPVxuICAgICAgWydzdGFydGtleScsICdlbmRrZXknLCAna2V5J10uZmlsdGVyKGZ1bmN0aW9uIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIHJldHVybiBpbmNvbXBhdGlibGVPcHQgaW4gb3B0cztcbiAgICB9KVswXTtcbiAgICBpZiAoaW5jb21wYXRpYmxlT3B0KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihRVUVSWV9QQVJTRV9FUlJPUixcbiAgICAgICAgJ1F1ZXJ5IHBhcmFtZXRlciBgJyArIGluY29tcGF0aWJsZU9wdCArXG4gICAgICAgICdgIGlzIG5vdCBjb21wYXRpYmxlIHdpdGggbXVsdGktZ2V0J1xuICAgICAgKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghaXNSZW1vdGUodGhpcykpIHtcbiAgICAgIGFsbERvY3NLZXlzUGFyc2Uob3B0cyk7XG4gICAgICBpZiAob3B0cy5rZXlzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWxsRG9jcyh7bGltaXQ6IDB9LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2FsbERvY3Mob3B0cywgY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgLy8gQnkgZGVmYXVsdCBzZXQgcmV0dXJuX2RvY3MgdG8gZmFsc2UgaWYgdGhlIGNhbGxlciBoYXMgb3B0cy5saXZlID0gdHJ1ZSxcbiAgLy8gdGhpcyB3aWxsIHByZXZlbnQgdXMgZnJvbSBjb2xsZWN0aW5nIHRoZSBzZXQgb2YgY2hhbmdlcyBpbmRlZmluaXRlbHlcbiAgLy8gcmVzdWx0aW5nIGluIGdyb3dpbmcgbWVtb3J5XG4gIG9wdHMucmV0dXJuX2RvY3MgPSAoJ3JldHVybl9kb2NzJyBpbiBvcHRzKSA/IG9wdHMucmV0dXJuX2RvY3MgOiAhb3B0cy5saXZlO1xuXG4gIHJldHVybiBuZXcgQ2hhbmdlcyQxKHRoaXMsIG9wdHMsIGNhbGxiYWNrKTtcbn07XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuY2xvc2UgPSBhZGFwdGVyRnVuKCdjbG9zZScsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB0aGlzLl9jbG9zZWQgPSB0cnVlO1xuICB0aGlzLmVtaXQoJ2Nsb3NlZCcpO1xuICByZXR1cm4gdGhpcy5fY2xvc2UoY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaW5mbyA9IGFkYXB0ZXJGdW4oJ2luZm8nLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9pbmZvKGZ1bmN0aW9uIChlcnIsIGluZm8pIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgLy8gYXNzdW1lIHdlIGtub3cgYmV0dGVyIHRoYW4gdGhlIGFkYXB0ZXIsIHVubGVzcyBpdCBpbmZvcm1zIHVzXG4gICAgaW5mby5kYl9uYW1lID0gaW5mby5kYl9uYW1lIHx8IHNlbGYubmFtZTtcbiAgICBpbmZvLmF1dG9fY29tcGFjdGlvbiA9ICEhKHNlbGYuYXV0b19jb21wYWN0aW9uICYmICFpc1JlbW90ZShzZWxmKSk7XG4gICAgaW5mby5hZGFwdGVyID0gc2VsZi5hZGFwdGVyO1xuICAgIGNhbGxiYWNrKG51bGwsIGluZm8pO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmlkID0gYWRhcHRlckZ1bignaWQnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIHRoaXMuX2lkKGNhbGxiYWNrKTtcbn0pO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS50eXBlID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gKHR5cGVvZiB0aGlzLl90eXBlID09PSAnZnVuY3Rpb24nKSA/IHRoaXMuX3R5cGUoKSA6IHRoaXMuYWRhcHRlcjtcbn07XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYnVsa0RvY3MgPVxuICBhZGFwdGVyRnVuKCdidWxrRG9jcycsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBpZiAoQXJyYXkuaXNBcnJheShyZXEpKSB7XG4gICAgcmVxID0ge1xuICAgICAgZG9jczogcmVxXG4gICAgfTtcbiAgfVxuXG4gIGlmICghcmVxIHx8ICFyZXEuZG9jcyB8fCAhQXJyYXkuaXNBcnJheShyZXEuZG9jcykpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19CVUxLX0RPQ1MpKTtcbiAgfVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmVxLmRvY3MubGVuZ3RoOyArK2kpIHtcbiAgICBpZiAodHlwZW9mIHJlcS5kb2NzW2ldICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KHJlcS5kb2NzW2ldKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgYXR0YWNobWVudEVycm9yO1xuICByZXEuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgICBhdHRhY2htZW50RXJyb3IgPSBhdHRhY2htZW50RXJyb3IgfHwgYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKTtcbiAgICAgICAgaWYgKCFkb2MuX2F0dGFjaG1lbnRzW25hbWVdLmNvbnRlbnRfdHlwZSkge1xuICAgICAgICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBuYW1lLCAnb24gZG9jdW1lbnQnLCBkb2MuX2lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoYXR0YWNobWVudEVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULCBhdHRhY2htZW50RXJyb3IpKTtcbiAgfVxuXG4gIGlmICghKCduZXdfZWRpdHMnIGluIG9wdHMpKSB7XG4gICAgaWYgKCduZXdfZWRpdHMnIGluIHJlcSkge1xuICAgICAgb3B0cy5uZXdfZWRpdHMgPSByZXEubmV3X2VkaXRzO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHRydWU7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFkYXB0ZXIgPSB0aGlzO1xuICBpZiAoIW9wdHMubmV3X2VkaXRzICYmICFpc1JlbW90ZShhZGFwdGVyKSkge1xuICAgIC8vIGVuc3VyZSByZXZpc2lvbnMgb2YgdGhlIHNhbWUgZG9jIGFyZSBzb3J0ZWQsIHNvIHRoYXRcbiAgICAvLyB0aGUgbG9jYWwgYWRhcHRlciBwcm9jZXNzZXMgdGhlbSBjb3JyZWN0bHkgKCMyOTM1KVxuICAgIHJlcS5kb2NzLnNvcnQoY29tcGFyZUJ5SWRUaGVuUmV2KTtcbiAgfVxuXG4gIGNsZWFuRG9jcyhyZXEuZG9jcyk7XG5cbiAgLy8gaW4gdGhlIGNhc2Ugb2YgY29uZmxpY3RzLCB3ZSB3YW50IHRvIHJldHVybiB0aGUgX2lkcyB0byB0aGUgdXNlclxuICAvLyBob3dldmVyLCB0aGUgdW5kZXJseWluZyBhZGFwdGVyIG1heSBkZXN0cm95IHRoZSBkb2NzIGFycmF5LCBzb1xuICAvLyBjcmVhdGUgYSBjb3B5IGhlcmVcbiAgdmFyIGlkcyA9IHJlcS5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5faWQ7XG4gIH0pO1xuXG4gIHJldHVybiB0aGlzLl9idWxrRG9jcyhyZXEsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBpZiAoIW9wdHMubmV3X2VkaXRzKSB7XG4gICAgICAvLyB0aGlzIGlzIHdoYXQgY291Y2ggZG9lcyB3aGVuIG5ld19lZGl0cyBpcyBmYWxzZVxuICAgICAgcmVzID0gcmVzLmZpbHRlcihmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5lcnJvcjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBhZGQgaWRzIGZvciBlcnJvci9jb25mbGljdCByZXNwb25zZXMgKG5vdCByZXF1aXJlZCBmb3IgQ291Y2hEQilcbiAgICBpZiAoIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJlcy5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgcmVzW2ldLmlkID0gcmVzW2ldLmlkIHx8IGlkc1tpXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UgPVxuICBhZGFwdGVyRnVuKCdyZWdpc3RlckRlcGVuZGVudERhdGFiYXNlJywgZnVuY3Rpb24gKGRlcGVuZGVudERiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gIHZhciBkYk9wdGlvbnMgPSBjbG9uZSh0aGlzLl9fb3B0cyk7XG4gIGlmICh0aGlzLl9fb3B0cy52aWV3X2FkYXB0ZXIpIHtcbiAgICBkYk9wdGlvbnMuYWRhcHRlciA9IHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcjtcbiAgfVxuXG4gIHZhciBkZXBEQiA9IG5ldyB0aGlzLmNvbnN0cnVjdG9yKGRlcGVuZGVudERiLCBkYk9wdGlvbnMpO1xuXG4gIGZ1bmN0aW9uIGRpZmZGdW4oZG9jKSB7XG4gICAgZG9jLmRlcGVuZGVudERicyA9IGRvYy5kZXBlbmRlbnREYnMgfHwge307XG4gICAgaWYgKGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdKSB7XG4gICAgICByZXR1cm4gZmFsc2U7IC8vIG5vIHVwZGF0ZSByZXF1aXJlZFxuICAgIH1cbiAgICBkb2MuZGVwZW5kZW50RGJzW2RlcGVuZGVudERiXSA9IHRydWU7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB1cHNlcnQodGhpcywgJ19sb2NhbC9fcG91Y2hfZGVwZW5kZW50RGJzJywgZGlmZkZ1bilcbiAgICAudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7ZGI6IGRlcERCfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZGVzdHJveSA9XG4gIGFkYXB0ZXJGdW4oJ2Rlc3Ryb3knLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgdXNlUHJlZml4ID0gJ3VzZV9wcmVmaXgnIGluIHNlbGYgPyBzZWxmLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIGZ1bmN0aW9uIGRlc3Ryb3lEYigpIHtcbiAgICAvLyBjYWxsIGRlc3Ryb3kgbWV0aG9kIG9mIHRoZSBwYXJ0aWN1bGFyIGFkYXB0b3JcbiAgICBzZWxmLl9kZXN0cm95KG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlc3ApIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBzZWxmLl9kZXN0cm95ZWQgPSB0cnVlO1xuICAgICAgc2VsZi5lbWl0KCdkZXN0cm95ZWQnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3AgfHwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGlzUmVtb3RlKHNlbGYpKSB7XG4gICAgLy8gbm8gbmVlZCB0byBjaGVjayBmb3IgZGVwZW5kZW50IERCcyBpZiBpdCdzIGEgcmVtb3RlIERCXG4gICAgcmV0dXJuIGRlc3Ryb3lEYigpO1xuICB9XG5cbiAgc2VsZi5nZXQoJ19sb2NhbC9fcG91Y2hfZGVwZW5kZW50RGJzJywgZnVuY3Rpb24gKGVyciwgbG9jYWxEb2MpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2UgeyAvLyBubyBkZXBlbmRlbmNpZXNcbiAgICAgICAgcmV0dXJuIGRlc3Ryb3lEYigpO1xuICAgICAgfVxuICAgIH1cbiAgICB2YXIgZGVwZW5kZW50RGJzID0gbG9jYWxEb2MuZGVwZW5kZW50RGJzO1xuICAgIHZhciBQb3VjaERCID0gc2VsZi5jb25zdHJ1Y3RvcjtcbiAgICB2YXIgZGVsZXRlZE1hcCA9IE9iamVjdC5rZXlzKGRlcGVuZGVudERicykubWFwKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAvLyB1c2VfcHJlZml4IGlzIG9ubHkgZmFsc2UgaW4gdGhlIGJyb3dzZXJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICB2YXIgdHJ1ZU5hbWUgPSB1c2VQcmVmaXggP1xuICAgICAgICBuYW1lLnJlcGxhY2UobmV3IFJlZ0V4cCgnXicgKyBQb3VjaERCLnByZWZpeCksICcnKSA6IG5hbWU7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoREIodHJ1ZU5hbWUsIHNlbGYuX19vcHRzKS5kZXN0cm95KCk7XG4gICAgfSk7XG4gICAgUHJvbWlzZS5hbGwoZGVsZXRlZE1hcCkudGhlbihkZXN0cm95RGIsIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuZnVuY3Rpb24gVGFza1F1ZXVlKCkge1xuICB0aGlzLmlzUmVhZHkgPSBmYWxzZTtcbiAgdGhpcy5mYWlsZWQgPSBmYWxzZTtcbiAgdGhpcy5xdWV1ZSA9IFtdO1xufVxuXG5UYXNrUXVldWUucHJvdG90eXBlLmV4ZWN1dGUgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBmdW47XG4gIGlmICh0aGlzLmZhaWxlZCkge1xuICAgIHdoaWxlICgoZnVuID0gdGhpcy5xdWV1ZS5zaGlmdCgpKSkge1xuICAgICAgZnVuKHRoaXMuZmFpbGVkKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4oKTtcbiAgICB9XG4gIH1cbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZmFpbCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgdGhpcy5mYWlsZWQgPSBlcnI7XG4gIHRoaXMuZXhlY3V0ZSgpO1xufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5yZWFkeSA9IGZ1bmN0aW9uIChkYikge1xuICB0aGlzLmlzUmVhZHkgPSB0cnVlO1xuICB0aGlzLmRiID0gZGI7XG4gIHRoaXMuZXhlY3V0ZSgpO1xufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5hZGRUYXNrID0gZnVuY3Rpb24gKGZ1bikge1xuICB0aGlzLnF1ZXVlLnB1c2goZnVuKTtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgdGhpcy5leGVjdXRlKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHBhcnNlQWRhcHRlcihuYW1lLCBvcHRzKSB7XG4gIHZhciBtYXRjaCA9IG5hbWUubWF0Y2goLyhbYS16LV0qKTpcXC9cXC8oLiopLyk7XG4gIGlmIChtYXRjaCkge1xuICAgIC8vIHRoZSBodHRwIGFkYXB0ZXIgZXhwZWN0cyB0aGUgZnVsbHkgcXVhbGlmaWVkIG5hbWVcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogL2h0dHBzPy8udGVzdChtYXRjaFsxXSkgPyBtYXRjaFsxXSArICc6Ly8nICsgbWF0Y2hbMl0gOiBtYXRjaFsyXSxcbiAgICAgIGFkYXB0ZXI6IG1hdGNoWzFdXG4gICAgfTtcbiAgfVxuXG4gIHZhciBhZGFwdGVycyA9IFBvdWNoREIuYWRhcHRlcnM7XG4gIHZhciBwcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnM7XG4gIHZhciBwcmVmaXggPSBQb3VjaERCLnByZWZpeDtcbiAgdmFyIGFkYXB0ZXJOYW1lID0gb3B0cy5hZGFwdGVyO1xuXG4gIGlmICghYWRhcHRlck5hbWUpIHsgLy8gYXV0b21hdGljYWxseSBkZXRlcm1pbmUgYWRhcHRlclxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcHJlZmVycmVkQWRhcHRlcnMubGVuZ3RoOyArK2kpIHtcbiAgICAgIGFkYXB0ZXJOYW1lID0gcHJlZmVycmVkQWRhcHRlcnNbaV07XG4gICAgICAvLyBjaGVjayBmb3IgYnJvd3NlcnMgdGhhdCBoYXZlIGJlZW4gdXBncmFkZWQgZnJvbSB3ZWJzcWwtb25seSB0byB3ZWJzcWwraWRiXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChhZGFwdGVyTmFtZSA9PT0gJ2lkYicgJiYgJ3dlYnNxbCcgaW4gYWRhcHRlcnMgJiZcbiAgICAgICAgICBoYXNMb2NhbFN0b3JhZ2UoKSAmJiBsb2NhbFN0b3JhZ2VbJ19wb3VjaF9fd2Vic3FsZGJfJyArIHByZWZpeCArIG5hbWVdKSB7XG4gICAgICAgIC8vIGxvZyBpdCwgYmVjYXVzZSB0aGlzIGNhbiBiZSBjb25mdXNpbmcgZHVyaW5nIGRldmVsb3BtZW50XG4gICAgICAgIGd1YXJkZWRDb25zb2xlKCdsb2cnLCAnUG91Y2hEQiBpcyBkb3duZ3JhZGluZyBcIicgKyBuYW1lICsgJ1wiIHRvIFdlYlNRTCB0bycgK1xuICAgICAgICAgICcgYXZvaWQgZGF0YSBsb3NzLCBiZWNhdXNlIGl0IHdhcyBhbHJlYWR5IG9wZW5lZCB3aXRoIFdlYlNRTC4nKTtcbiAgICAgICAgY29udGludWU7IC8vIGtlZXAgdXNpbmcgd2Vic3FsIHRvIGF2b2lkIHVzZXIgZGF0YSBsb3NzXG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IGFkYXB0ZXJzW2FkYXB0ZXJOYW1lXTtcblxuICAvLyBpZiBhZGFwdGVyIGlzIGludmFsaWQsIHRoZW4gYW4gZXJyb3Igd2lsbCBiZSB0aHJvd24gbGF0ZXJcbiAgdmFyIHVzZVByZWZpeCA9IChhZGFwdGVyICYmICd1c2VfcHJlZml4JyBpbiBhZGFwdGVyKSA/XG4gICAgYWRhcHRlci51c2VfcHJlZml4IDogdHJ1ZTtcblxuICByZXR1cm4ge1xuICAgIG5hbWU6IHVzZVByZWZpeCA/IChwcmVmaXggKyBuYW1lKSA6IG5hbWUsXG4gICAgYWRhcHRlcjogYWRhcHRlck5hbWVcbiAgfTtcbn1cblxuLy8gT0ssIHNvIGhlcmUncyB0aGUgZGVhbC4gQ29uc2lkZXIgdGhpcyBjb2RlOlxuLy8gICAgIHZhciBkYjEgPSBuZXcgUG91Y2hEQignZm9vJyk7XG4vLyAgICAgdmFyIGRiMiA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICBkYjEuZGVzdHJveSgpO1xuLy8gXiB0aGVzZSB0d28gYm90aCBuZWVkIHRvIGVtaXQgJ2Rlc3Ryb3llZCcgZXZlbnRzLFxuLy8gYXMgd2VsbCBhcyB0aGUgUG91Y2hEQiBjb25zdHJ1Y3RvciBpdHNlbGYuXG4vLyBTbyB3ZSBoYXZlIG9uZSBkYiBvYmplY3QgKHdoaWNoZXZlciBvbmUgZ290IGRlc3Ryb3koKSBjYWxsZWQgb24gaXQpXG4vLyByZXNwb25zaWJsZSBmb3IgZW1pdHRpbmcgdGhlIGluaXRpYWwgZXZlbnQsIHdoaWNoIHRoZW4gZ2V0cyBlbWl0dGVkXG4vLyBieSB0aGUgY29uc3RydWN0b3IsIHdoaWNoIHRoZW4gYnJvYWRjYXN0cyBpdCB0byBhbnkgb3RoZXIgZGJzXG4vLyB0aGF0IG1heSBoYXZlIGJlZW4gY3JlYXRlZCB3aXRoIHRoZSBzYW1lIG5hbWUuXG5mdW5jdGlvbiBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZikge1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveWVkKGZyb21fY29uc3RydWN0b3IpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdjbG9zZWQnLCBvbkNsb3NlZCk7XG4gICAgaWYgKCFmcm9tX2NvbnN0cnVjdG9yKSB7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2Rlc3Ryb3llZCcsIHNlbGYubmFtZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25DbG9zZWQoKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95ZWQpO1xuICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgndW5yZWYnLCBzZWxmKTtcbiAgfVxuXG4gIHNlbGYub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95ZWQpO1xuICBzZWxmLm9uY2UoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdyZWYnLCBzZWxmKTtcbn1cblxuaW5oZXJpdHMoUG91Y2hEQiwgQWJzdHJhY3RQb3VjaERCKTtcbmZ1bmN0aW9uIFBvdWNoREIobmFtZSwgb3B0cykge1xuICAvLyBJbiBOb2RlIG91ciB0ZXN0IHN1aXRlIG9ubHkgdGVzdHMgdGhpcyBmb3IgUG91Y2hBbHQgdW5mb3J0dW5hdGVseVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvdWNoREIpKSB7XG4gICAgcmV0dXJuIG5ldyBQb3VjaERCKG5hbWUsIG9wdHMpO1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICBvcHRzID0gbmFtZTtcbiAgICBuYW1lID0gb3B0cy5uYW1lO1xuICAgIGRlbGV0ZSBvcHRzLm5hbWU7XG4gIH1cblxuICBpZiAob3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPT09IHVuZGVmaW5lZCkge1xuICAgIG9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzID0gdHJ1ZTtcbiAgfVxuXG4gIHRoaXMuX19vcHRzID0gb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIHNlbGYuYXV0b19jb21wYWN0aW9uID0gb3B0cy5hdXRvX2NvbXBhY3Rpb247XG4gIHNlbGYucHJlZml4ID0gUG91Y2hEQi5wcmVmaXg7XG5cbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBFcnJvcignTWlzc2luZy9pbnZhbGlkIERCIG5hbWUnKTtcbiAgfVxuXG4gIHZhciBwcmVmaXhlZE5hbWUgPSAob3B0cy5wcmVmaXggfHwgJycpICsgbmFtZTtcbiAgdmFyIGJhY2tlbmQgPSBwYXJzZUFkYXB0ZXIocHJlZml4ZWROYW1lLCBvcHRzKTtcblxuICBvcHRzLm5hbWUgPSBiYWNrZW5kLm5hbWU7XG4gIG9wdHMuYWRhcHRlciA9IG9wdHMuYWRhcHRlciB8fCBiYWNrZW5kLmFkYXB0ZXI7XG5cbiAgc2VsZi5uYW1lID0gbmFtZTtcbiAgc2VsZi5fYWRhcHRlciA9IG9wdHMuYWRhcHRlcjtcbiAgUG91Y2hEQi5lbWl0KCdkZWJ1ZycsIFsnYWRhcHRlcicsICdQaWNrZWQgYWRhcHRlcjogJywgb3B0cy5hZGFwdGVyXSk7XG5cbiAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0gfHxcbiAgICAgICFQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0udmFsaWQoKSkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBBZGFwdGVyOiAnICsgb3B0cy5hZGFwdGVyKTtcbiAgfVxuXG4gIGlmIChvcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGlmICghUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0gfHxcbiAgICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy52aWV3X2FkYXB0ZXJdLnZhbGlkKCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBWaWV3IEFkYXB0ZXI6ICcgKyBvcHRzLnZpZXdfYWRhcHRlcik7XG4gICAgfVxuICB9XG5cbiAgQWJzdHJhY3RQb3VjaERCLmNhbGwoc2VsZik7XG4gIHNlbGYudGFza3F1ZXVlID0gbmV3IFRhc2tRdWV1ZSgpO1xuXG4gIHNlbGYuYWRhcHRlciA9IG9wdHMuYWRhcHRlcjtcblxuICBQb3VjaERCLmFkYXB0ZXJzW29wdHMuYWRhcHRlcl0uY2FsbChzZWxmLCBvcHRzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIHNlbGYudGFza3F1ZXVlLmZhaWwoZXJyKTtcbiAgICB9XG4gICAgcHJlcGFyZUZvckRlc3RydWN0aW9uKHNlbGYpO1xuXG4gICAgc2VsZi5lbWl0KCdjcmVhdGVkJywgc2VsZik7XG4gICAgUG91Y2hEQi5lbWl0KCdjcmVhdGVkJywgc2VsZi5uYW1lKTtcbiAgICBzZWxmLnRhc2txdWV1ZS5yZWFkeShzZWxmKTtcbiAgfSk7XG5cbn1cblxuLy8gQWJvcnRDb250cm9sbGVyIHdhcyBpbnRyb2R1Y2VkIHF1aXRlIGEgd2hpbGUgYWZ0ZXIgZmV0Y2ggYW5kXG4vLyBpc250IHJlcXVpcmVkIGZvciBQb3VjaERCIHRvIGZ1bmN0aW9uIHNvIHBvbHlmaWxsIGlmIG5lZWRlZFxudmFyIGEgPSAodHlwZW9mIEFib3J0Q29udHJvbGxlciAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgPyBBYm9ydENvbnRyb2xsZXJcbiAgICA6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHthYm9ydDogZnVuY3Rpb24gKCkge319OyB9O1xuXG52YXIgZiQxID0gZmV0Y2g7XG52YXIgaCA9IEhlYWRlcnM7XG5cblBvdWNoREIuYWRhcHRlcnMgPSB7fTtcblBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMgPSBbXTtcblxuUG91Y2hEQi5wcmVmaXggPSAnX3BvdWNoXyc7XG5cbnZhciBldmVudEVtaXR0ZXIgPSBuZXcgRUUoKTtcblxuZnVuY3Rpb24gc2V0VXBFdmVudEVtaXR0ZXIoUG91Y2gpIHtcbiAgT2JqZWN0LmtleXMoRUUucHJvdG90eXBlKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAodHlwZW9mIEVFLnByb3RvdHlwZVtrZXldID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBQb3VjaFtrZXldID0gZXZlbnRFbWl0dGVyW2tleV0uYmluZChldmVudEVtaXR0ZXIpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gdGhlc2UgYXJlIGNyZWF0ZWQgaW4gY29uc3RydWN0b3IuanMsIGFuZCBhbGxvdyB1cyB0byBub3RpZnkgZWFjaCBEQiB3aXRoXG4gIC8vIHRoZSBzYW1lIG5hbWUgdGhhdCBpdCB3YXMgZGVzdHJveWVkLCB2aWEgdGhlIGNvbnN0cnVjdG9yIG9iamVjdFxuICB2YXIgZGVzdHJ1Y3RMaXN0ZW5lcnMgPSBQb3VjaC5fZGVzdHJ1Y3Rpb25MaXN0ZW5lcnMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICBQb3VjaC5vbigncmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclJlZihkYikge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKGRiLm5hbWUpKSB7XG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5zZXQoZGIubmFtZSwgW10pO1xuICAgIH1cbiAgICBkZXN0cnVjdExpc3RlbmVycy5nZXQoZGIubmFtZSkucHVzaChkYik7XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCd1bnJlZicsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JVbnJlZihkYikge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKGRiLm5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkYkxpc3QgPSBkZXN0cnVjdExpc3RlbmVycy5nZXQoZGIubmFtZSk7XG4gICAgdmFyIHBvcyA9IGRiTGlzdC5pbmRleE9mKGRiKTtcbiAgICBpZiAocG9zIDwgMCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGJMaXN0LnNwbGljZShwb3MsIDEpO1xuICAgIGlmIChkYkxpc3QubGVuZ3RoID4gMSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBkYkxpc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5kZWxldGUoZGIubmFtZSk7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaC5vbignZGVzdHJveWVkJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvckRlc3Ryb3llZChuYW1lKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMobmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChuYW1lKTtcbiAgICBkZXN0cnVjdExpc3RlbmVycy5kZWxldGUobmFtZSk7XG4gICAgZGJMaXN0LmZvckVhY2goZnVuY3Rpb24gKGRiKSB7XG4gICAgICBkYi5lbWl0KCdkZXN0cm95ZWQnLHRydWUpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuc2V0VXBFdmVudEVtaXR0ZXIoUG91Y2hEQik7XG5cblBvdWNoREIuYWRhcHRlciA9IGZ1bmN0aW9uIChpZCwgb2JqLCBhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChvYmoudmFsaWQoKSkge1xuICAgIFBvdWNoREIuYWRhcHRlcnNbaWRdID0gb2JqO1xuICAgIGlmIChhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzKSB7XG4gICAgICBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzLnB1c2goaWQpO1xuICAgIH1cbiAgfVxufTtcblxuUG91Y2hEQi5wbHVnaW4gPSBmdW5jdGlvbiAob2JqKSB7XG4gIGlmICh0eXBlb2Ygb2JqID09PSAnZnVuY3Rpb24nKSB7IC8vIGZ1bmN0aW9uIHN0eWxlIGZvciBwbHVnaW5zXG4gICAgb2JqKFBvdWNoREIpO1xuICB9IGVsc2UgaWYgKHR5cGVvZiBvYmogIT09ICdvYmplY3QnIHx8IE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIHBsdWdpbjogZ290IFwiJyArIG9iaiArICdcIiwgZXhwZWN0ZWQgYW4gb2JqZWN0IG9yIGEgZnVuY3Rpb24nKTtcbiAgfSBlbHNlIHtcbiAgICBPYmplY3Qua2V5cyhvYmopLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7IC8vIG9iamVjdCBzdHlsZSBmb3IgcGx1Z2luc1xuICAgICAgUG91Y2hEQi5wcm90b3R5cGVbaWRdID0gb2JqW2lkXTtcbiAgICB9KTtcbiAgfVxuICBpZiAodGhpcy5fX2RlZmF1bHRzKSB7XG4gICAgUG91Y2hEQi5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMpO1xuICB9XG4gIHJldHVybiBQb3VjaERCO1xufTtcblxuUG91Y2hEQi5kZWZhdWx0cyA9IGZ1bmN0aW9uIChkZWZhdWx0T3B0cykge1xuICBmdW5jdGlvbiBQb3VjaEFsdChuYW1lLCBvcHRzKSB7XG4gICAgaWYgKCEodGhpcyBpbnN0YW5jZW9mIFBvdWNoQWx0KSkge1xuICAgICAgcmV0dXJuIG5ldyBQb3VjaEFsdChuYW1lLCBvcHRzKTtcbiAgICB9XG5cbiAgICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAgIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgICAgb3B0cyA9IG5hbWU7XG4gICAgICBuYW1lID0gb3B0cy5uYW1lO1xuICAgICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgICB9XG5cbiAgICBvcHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBQb3VjaEFsdC5fX2RlZmF1bHRzLCBvcHRzKTtcbiAgICBQb3VjaERCLmNhbGwodGhpcywgbmFtZSwgb3B0cyk7XG4gIH1cblxuICBpbmhlcml0cyhQb3VjaEFsdCwgUG91Y2hEQik7XG5cbiAgUG91Y2hBbHQucHJlZmVycmVkQWRhcHRlcnMgPSBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzLnNsaWNlKCk7XG4gIE9iamVjdC5rZXlzKFBvdWNoREIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICghKGtleSBpbiBQb3VjaEFsdCkpIHtcbiAgICAgIFBvdWNoQWx0W2tleV0gPSBQb3VjaERCW2tleV07XG4gICAgfVxuICB9KTtcblxuICAvLyBtYWtlIGRlZmF1bHQgb3B0aW9ucyB0cmFuc2l0aXZlXG4gIC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3VjaGRiL3BvdWNoZGIvaXNzdWVzLzU5MjJcbiAgUG91Y2hBbHQuX19kZWZhdWx0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgdGhpcy5fX2RlZmF1bHRzLCBkZWZhdWx0T3B0cyk7XG5cbiAgcmV0dXJuIFBvdWNoQWx0O1xufTtcblxuUG91Y2hEQi5mZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdHMpIHtcbiAgcmV0dXJuIGYkMSh1cmwsIG9wdHMpO1xufTtcblxuLy8gbWFuYWdlZCBhdXRvbWF0aWNhbGx5IGJ5IHNldC12ZXJzaW9uLmpzXG52YXIgdmVyc2lvbiA9IFwiNy4zLjBcIjtcblxuLy8gdGhpcyB3b3VsZCBqdXN0IGJlIFwicmV0dXJuIGRvY1tmaWVsZF1cIiwgYnV0IGZpZWxkc1xuLy8gY2FuIGJlIFwiZGVlcFwiIGR1ZSB0byBkb3Qgbm90YXRpb25cbmZ1bmN0aW9uIGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKSB7XG4gIHZhciB2YWx1ZSA9IGRvYztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhcnNlZEZpZWxkLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGtleSA9IHBhcnNlZEZpZWxkW2ldO1xuICAgIHZhbHVlID0gdmFsdWVba2V5XTtcbiAgICBpZiAoIXZhbHVlKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHZhbHVlO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlJDEobGVmdCwgcmlnaHQpIHtcbiAgcmV0dXJuIGxlZnQgPCByaWdodCA/IC0xIDogbGVmdCA+IHJpZ2h0ID8gMSA6IDA7XG59XG5cbi8vIENvbnZlcnRzIGEgc3RyaW5nIGluIGRvdCBub3RhdGlvbiB0byBhbiBhcnJheSBvZiBpdHMgY29tcG9uZW50cywgd2l0aCBiYWNrc2xhc2ggZXNjYXBpbmdcbmZ1bmN0aW9uIHBhcnNlRmllbGQoZmllbGROYW1lKSB7XG4gIC8vIGZpZWxkcyBtYXkgYmUgZGVlcCAoZS5nLiBcImZvby5iYXIuYmF6XCIpLCBzbyBwYXJzZVxuICB2YXIgZmllbGRzID0gW107XG4gIHZhciBjdXJyZW50ID0gJyc7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBmaWVsZE5hbWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgY2ggPSBmaWVsZE5hbWVbaV07XG4gICAgaWYgKGkgPiAwICYmIGZpZWxkTmFtZVtpIC0gMV0gPT09ICdcXFxcJyAmJiAoY2ggPT09ICckJyB8fCBjaCA9PT0gJy4nKSkge1xuICAgICAgLy8gZXNjYXBlZCBkZWxpbWl0ZXJcbiAgICAgIGN1cnJlbnQgPSBjdXJyZW50LnN1YnN0cmluZygwLCBjdXJyZW50Lmxlbmd0aCAtIDEpICsgY2g7XG4gICAgfSBlbHNlIGlmIChjaCA9PT0gJy4nKSB7XG4gICAgICAvLyBXaGVuIGAuYCBpcyBub3QgZXNjYXBlZCAoYWJvdmUpLCBpdCBpcyBhIGZpZWxkIGRlbGltaXRlclxuICAgICAgZmllbGRzLnB1c2goY3VycmVudCk7XG4gICAgICBjdXJyZW50ID0gJyc7XG4gICAgfSBlbHNlIHsgLy8gbm9ybWFsIGNoYXJhY3RlclxuICAgICAgY3VycmVudCArPSBjaDtcbiAgICB9XG4gIH1cbiAgZmllbGRzLnB1c2goY3VycmVudCk7XG4gIHJldHVybiBmaWVsZHM7XG59XG5cbnZhciBjb21iaW5hdGlvbkZpZWxkcyA9IFsnJG9yJywgJyRub3InLCAnJG5vdCddO1xuZnVuY3Rpb24gaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpIHtcbiAgcmV0dXJuIGNvbWJpbmF0aW9uRmllbGRzLmluZGV4T2YoZmllbGQpID4gLTE7XG59XG5cbmZ1bmN0aW9uIGdldEtleShvYmopIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iailbMF07XG59XG5cbmZ1bmN0aW9uIGdldFZhbHVlKG9iaikge1xuICByZXR1cm4gb2JqW2dldEtleShvYmopXTtcbn1cblxuXG4vLyBmbGF0dGVuIGFuIGFycmF5IG9mIHNlbGVjdG9ycyBqb2luZWQgYnkgYW4gJGFuZCBvcGVyYXRvclxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyhzZWxlY3RvcnMpIHtcblxuICAvLyBzb3J0IHRvIGVuc3VyZSB0aGF0IGUuZy4gaWYgdGhlIHVzZXIgc3BlY2lmaWVkXG4gIC8vICRhbmQ6IFt7JGd0OiAnYSd9LCB7JGd0OiAnYid9XSwgdGhlbiBpdCdzIGNvbGxhcHNlZCBpbnRvXG4gIC8vIGp1c3QgeyRndDogJ2InfVxuICB2YXIgcmVzID0ge307XG4gIHZhciBmaXJzdCA9IHskb3I6IHRydWUsICRub3I6IHRydWV9O1xuXG4gIHNlbGVjdG9ycy5mb3JFYWNoKGZ1bmN0aW9uIChzZWxlY3Rvcikge1xuICAgIE9iamVjdC5rZXlzKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xuICAgICAgdmFyIG1hdGNoZXIgPSBzZWxlY3RvcltmaWVsZF07XG4gICAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICAgIH1cblxuICAgICAgaWYgKGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSkge1xuICAgICAgICAvLyBvciwgbm9yXG4gICAgICAgIGlmIChtYXRjaGVyIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgICBpZiAoZmlyc3RbZmllbGRdKSB7XG4gICAgICAgICAgICBmaXJzdFtmaWVsZF0gPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc1tmaWVsZF0gPSBtYXRjaGVyO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBlbnRyaWVzID0gW107XG4gICAgICAgICAgcmVzW2ZpZWxkXS5mb3JFYWNoKGZ1bmN0aW9uIChleGlzdGluZykge1xuICAgICAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hlcikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgICAgICAgIHZhciBtID0gbWF0Y2hlcltrZXldO1xuICAgICAgICAgICAgICB2YXIgbG9uZ2VzdCA9IE1hdGgubWF4KE9iamVjdC5rZXlzKGV4aXN0aW5nKS5sZW5ndGgsIE9iamVjdC5rZXlzKG0pLmxlbmd0aCk7XG4gICAgICAgICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFtleGlzdGluZywgbV0pO1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMobWVyZ2VkKS5sZW5ndGggPD0gbG9uZ2VzdCkge1xuICAgICAgICAgICAgICAgIC8vIHdlIGhhdmUgYSBzaXR1YXRpb24gbGlrZTogKGEgOnskZXEgOjF9IHx8IC4uLikgJiYgKGEgeyRlcTogMn0gfHwgLi4uKVxuICAgICAgICAgICAgICAgIC8vIG1lcmdpbmcgd291bGQgcHJvZHVjZSBhICRlcSAyIHdoZW4gYWN0dWFsbHkgd2Ugc2hvdWxkbid0IGV2ZXIgbWF0Y2ggYWdhaW5zdCB0aGVzZSBtZXJnZWQgY29uZGl0aW9uc1xuICAgICAgICAgICAgICAgIC8vIG1lcmdlZCBzaG91bGQgYWx3YXlzIGNvbnRhaW4gbW9yZSB2YWx1ZXMgdG8gYmUgdmFsaWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgZW50cmllcy5wdXNoKG1lcmdlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXNbZmllbGRdID0gZW50cmllcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvLyBub3RcbiAgICAgICAgICByZXNbZmllbGRdID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbbWF0Y2hlcl0pO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgZmllbGRNYXRjaGVycyA9IHJlc1tmaWVsZF0gPSByZXNbZmllbGRdIHx8IHt9O1xuICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChvcGVyYXRvcikge1xuICAgICAgICAgIHZhciB2YWx1ZSA9IG1hdGNoZXJbb3BlcmF0b3JdO1xuXG4gICAgICAgICAgaWYgKG9wZXJhdG9yID09PSAnJGd0JyB8fCBvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VHdEd0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckbHQnIHx8IG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUx0THRlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRuZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZU5lKHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJGVxJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09IFwiJHJlZ2V4XCIpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiByZXM7XG59XG5cblxuXG4vLyBjb2xsYXBzZSBsb2dpY2FsbHkgZXF1aXZhbGVudCBndC9ndGUgdmFsdWVzXG5mdW5jdGlvbiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGVxICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICB9XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZ3RlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA+PSBmaWVsZE1hdGNoZXJzLiRndGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZ3QgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3QgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vLyBjb2xsYXBzZSBsb2dpY2FsbHkgZXF1aXZhbGVudCBsdC9sdGUgdmFsdWVzXG5mdW5jdGlvbiBtZXJnZUx0THRlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGVxICE9PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybjsgLy8gZG8gbm90aGluZ1xuICB9XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kbHRlICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA8PSBmaWVsZE1hdGNoZXJzLiRsdGUpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHRlO1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kbHQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0O1xuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdGUgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBvcGVyYXRvciA9PT0gJyRndCdcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0KSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgZmllbGRNYXRjaGVyc1tvcGVyYXRvcl0gPSB2YWx1ZTtcbiAgfVxufVxuXG4vLyBjb21iaW5lICRuZSB2YWx1ZXMgaW50byBvbmUgYXJyYXlcbmZ1bmN0aW9uIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKCckbmUnIGluIGZpZWxkTWF0Y2hlcnMpIHtcbiAgICAvLyB0aGVyZSBhcmUgbWFueSB0aGluZ3MgdGhpcyBjb3VsZCBcIm5vdFwiIGJlXG4gICAgZmllbGRNYXRjaGVycy4kbmUucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kbmUgPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIGFkZCAkZXEgaW50byB0aGUgbWl4XG5mdW5jdGlvbiBtZXJnZUVxKHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIC8vIHRoZXNlIGFsbCBoYXZlIGxlc3Mgc3BlY2lmaWNpdHkgdGhhbiB0aGUgJGVxXG4gIC8vIFRPRE86IGNoZWNrIGZvciB1c2VyIGVycm9ycyBoZXJlXG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndDtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0ZTtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHRlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbmU7XG4gIGZpZWxkTWF0Y2hlcnMuJGVxID0gdmFsdWU7XG59XG5cbi8vIGNvbWJpbmUgJHJlZ2V4IHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VSZWdleCh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRyZWdleCcgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIGEgdmFsdWUgY291bGQgbWF0Y2ggbXVsdGlwbGUgcmVnZXhlc1xuICAgIGZpZWxkTWF0Y2hlcnMuJHJlZ2V4LnB1c2godmFsdWUpO1xuICB9IGVsc2UgeyAvLyBkb2Vzbid0IGV4aXN0IHlldFxuICAgIGZpZWxkTWF0Y2hlcnMuJHJlZ2V4ID0gW3ZhbHVlXTtcbiAgfVxufVxuXG4vLyM3NDU4OiBleGVjdXRlIGZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnMgb24gbmVzdGVkICRhbmRcbmZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQob2JqKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkob2JqKSkge1xuICAgICAgICAgICAgZm9yICh2YXIgaSBpbiBvYmopIHtcbiAgICAgICAgICAgICAgICBpZiAob2JqW2ldWyckYW5kJ10pIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqW2ldID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhvYmpbaV1bJyRhbmQnXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQodmFsdWUpOyAvLyA8LSByZWN1cnNpdmUgY2FsbFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBvYmo7XG59XG5cbi8vIzc0NTg6IGRldGVybWluZSBpZCAkYW5kIGlzIHByZXNlbnQgaW4gc2VsZWN0b3IgKGF0IGFueSBsZXZlbClcbmZ1bmN0aW9uIGlzQW5kSW5TZWxlY3RvcihvYmosIGlzQW5kKSB7XG4gICAgZm9yICh2YXIgcHJvcCBpbiBvYmopIHtcbiAgICAgICAgaWYgKHByb3AgPT09ICckYW5kJykge1xuICAgICAgICAgICAgaXNBbmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciB2YWx1ZSA9IG9ialtwcm9wXTtcbiAgICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgIGlzQW5kID0gaXNBbmRJblNlbGVjdG9yKHZhbHVlLCBpc0FuZCk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGlzQW5kO1xufVxuXG4vL1xuLy8gbm9ybWFsaXplIHRoZSBzZWxlY3RvclxuLy9cbmZ1bmN0aW9uIG1hc3NhZ2VTZWxlY3RvcihpbnB1dCkge1xuICB2YXIgcmVzdWx0ID0gY2xvbmUoaW5wdXQpO1xuICB2YXIgd2FzQW5kZWQgPSBmYWxzZTtcbiAgICAvLyM3NDU4OiBpZiAkYW5kIGlzIHByZXNlbnQgaW4gc2VsZWN0b3IgKGF0IGFueSBsZXZlbCkgbWVyZ2UgbmVzdGVkICRhbmRcbiAgICBpZiAoaXNBbmRJblNlbGVjdG9yKHJlc3VsdCwgZmFsc2UpKSB7XG4gICAgICAgIHJlc3VsdCA9IG1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQocmVzdWx0KTtcbiAgICAgICAgaWYgKCckYW5kJyBpbiByZXN1bHQpIHtcbiAgICAgICAgICAgIHJlc3VsdCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMocmVzdWx0WyckYW5kJ10pO1xuICAgICAgICB9XG4gICAgICAgIHdhc0FuZGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgWyckb3InLCAnJG5vciddLmZvckVhY2goZnVuY3Rpb24gKG9yT3JOb3IpIHtcbiAgICBpZiAob3JPck5vciBpbiByZXN1bHQpIHtcbiAgICAgIC8vIG1lc3NhZ2UgZWFjaCBpbmRpdmlkdWFsIHNlbGVjdG9yXG4gICAgICAvLyBlLmcuIHtmb286ICdiYXInfSBiZWNvbWVzIHtmb286IHskZXE6ICdiYXInfX1cbiAgICAgIHJlc3VsdFtvck9yTm9yXS5mb3JFYWNoKGZ1bmN0aW9uIChzdWJTZWxlY3Rvcikge1xuICAgICAgICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMoc3ViU2VsZWN0b3IpO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICAgICAgICB2YXIgbWF0Y2hlciA9IHN1YlNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgICAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHN1YlNlbGVjdG9yW2ZpZWxkXSA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBpZiAoJyRub3QnIGluIHJlc3VsdCkge1xuICAgIC8vVGhpcyBmZWVscyBhIGxpdHRsZSBsaWtlIGZvcmNpbmcsIGJ1dCBpdCB3aWxsIHdvcmsgZm9yIG5vdyxcbiAgICAvL0kgd291bGQgbGlrZSB0byBjb21lIGJhY2sgdG8gdGhpcyBhbmQgbWFrZSB0aGUgbWVyZ2luZyBvZiBzZWxlY3RvcnMgYSBsaXR0bGUgbW9yZSBnZW5lcmljXG4gICAgcmVzdWx0Wyckbm90J10gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFtyZXN1bHRbJyRub3QnXV0pO1xuICB9XG5cbiAgdmFyIGZpZWxkcyA9IE9iamVjdC5rZXlzKHJlc3VsdCk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgdmFyIG1hdGNoZXIgPSByZXN1bHRbZmllbGRdO1xuXG4gICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0JyB8fCBtYXRjaGVyID09PSBudWxsKSB7XG4gICAgICBtYXRjaGVyID0geyRlcTogbWF0Y2hlcn07XG4gICAgfSBlbHNlIGlmICghd2FzQW5kZWQpIHtcbiAgICAgIC8vIFRoZXNlIHZhbHVlcyBtdXN0IGJlIHBsYWNlZCBpbiBhbiBhcnJheSBiZWNhdXNlIHRoZXNlIG9wZXJhdG9ycyBjYW4gYmUgdXNlZCBtdWx0aXBsZSB0aW1lcyBvbiB0aGUgc2FtZSBmaWVsZFxuICAgICAgLy8gd2hlbiAkYW5kIGlzIHVzZWQsIG1lcmdlQW5kZWRTZWxlY3RvcnMgdGFrZXMgY2FyZSBvZiBwdXR0aW5nIHRoZW0gaW50byBhcnJheXMsIG90aGVyd2lzZSBpdCdzIGRvbmUgaGVyZTpcbiAgICAgIGlmICgnJG5lJyBpbiBtYXRjaGVyKSB7XG4gICAgICAgIG1hdGNoZXIuJG5lID0gW21hdGNoZXIuJG5lXTtcbiAgICAgIH1cbiAgICAgIGlmICgnJHJlZ2V4JyBpbiBtYXRjaGVyKSB7XG4gICAgICAgIG1hdGNoZXIuJHJlZ2V4ID0gW21hdGNoZXIuJHJlZ2V4XTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0W2ZpZWxkXSA9IG1hdGNoZXI7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYWQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gJyc7XG4gIHZhciB0YXJnZXRMZW5ndGggPSB1cFRvTGVuZ3RoIC0gc3RyLmxlbmd0aDtcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgd2hpbGUgKHBhZGRpbmcubGVuZ3RoIDwgdGFyZ2V0TGVuZ3RoKSB7XG4gICAgcGFkZGluZyArPSBwYWRXaXRoO1xuICB9XG4gIHJldHVybiBwYWRkaW5nO1xufVxuXG5mdW5jdGlvbiBwYWRMZWZ0KHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCkge1xuICB2YXIgcGFkZGluZyA9IHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpO1xuICByZXR1cm4gcGFkZGluZyArIHN0cjtcbn1cblxudmFyIE1JTl9NQUdOSVRVREUgPSAtMzI0OyAvLyB2ZXJpZmllZCBieSAtTnVtYmVyLk1JTl9WQUxVRVxudmFyIE1BR05JVFVERV9ESUdJVFMgPSAzOyAvLyBkaXR0b1xudmFyIFNFUCA9ICcnOyAvLyBzZXQgdG8gJ18nIGZvciBlYXNpZXIgZGVidWdnaW5nXG5cbmZ1bmN0aW9uIGNvbGxhdGUoYSwgYikge1xuXG4gIGlmIChhID09PSBiKSB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICBhID0gbm9ybWFsaXplS2V5KGEpO1xuICBiID0gbm9ybWFsaXplS2V5KGIpO1xuXG4gIHZhciBhaSA9IGNvbGxhdGlvbkluZGV4KGEpO1xuICB2YXIgYmkgPSBjb2xsYXRpb25JbmRleChiKTtcbiAgaWYgKChhaSAtIGJpKSAhPT0gMCkge1xuICAgIHJldHVybiBhaSAtIGJpO1xuICB9XG4gIHN3aXRjaCAodHlwZW9mIGEpIHtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIGEgLSBiO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIGEgPCBiID8gLTEgOiAxO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gc3RyaW5nQ29sbGF0ZShhLCBiKTtcbiAgfVxuICByZXR1cm4gQXJyYXkuaXNBcnJheShhKSA/IGFycmF5Q29sbGF0ZShhLCBiKSA6IG9iamVjdENvbGxhdGUoYSwgYik7XG59XG5cbi8vIGNvdWNoIGNvbnNpZGVycyBudWxsL05hTi9JbmZpbml0eS8tSW5maW5pdHkgPT09IHVuZGVmaW5lZCxcbi8vIGZvciB0aGUgcHVycG9zZXMgb2YgbWFwcmVkdWNlIGluZGV4ZXMuIGFsc28sIGRhdGVzIGdldCBzdHJpbmdpZmllZC5cbmZ1bmN0aW9uIG5vcm1hbGl6ZUtleShrZXkpIHtcbiAgc3dpdGNoICh0eXBlb2Yga2V5KSB7XG4gICAgY2FzZSAndW5kZWZpbmVkJzpcbiAgICAgIHJldHVybiBudWxsO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICBpZiAoa2V5ID09PSBJbmZpbml0eSB8fCBrZXkgPT09IC1JbmZpbml0eSB8fCBpc05hTihrZXkpKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGtleTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgdmFyIG9yaWdLZXkgPSBrZXk7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShrZXkpKSB7XG4gICAgICAgIHZhciBsZW4gPSBrZXkubGVuZ3RoO1xuICAgICAgICBrZXkgPSBuZXcgQXJyYXkobGVuKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGtleVtpXSA9IG5vcm1hbGl6ZUtleShvcmlnS2V5W2ldKTtcbiAgICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIH0gZWxzZSBpZiAoa2V5IGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICByZXR1cm4ga2V5LnRvSlNPTigpO1xuICAgICAgfSBlbHNlIGlmIChrZXkgIT09IG51bGwpIHsgLy8gZ2VuZXJpYyBvYmplY3RcbiAgICAgICAga2V5ID0ge307XG4gICAgICAgIGZvciAodmFyIGsgaW4gb3JpZ0tleSkge1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3JpZ0tleSwgaykpIHtcbiAgICAgICAgICAgIHZhciB2YWwgPSBvcmlnS2V5W2tdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICAgIGtleVtrXSA9IG5vcm1hbGl6ZUtleSh2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICB9XG4gIHJldHVybiBrZXk7XG59XG5cbmZ1bmN0aW9uIGluZGV4aWZ5KGtleSkge1xuICBpZiAoa2V5ICE9PSBudWxsKSB7XG4gICAgc3dpdGNoICh0eXBlb2Yga2V5KSB7XG4gICAgICBjYXNlICdib29sZWFuJzpcbiAgICAgICAgcmV0dXJuIGtleSA/IDEgOiAwO1xuICAgICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgICAgcmV0dXJuIG51bVRvSW5kZXhhYmxlU3RyaW5nKGtleSk7XG4gICAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgICAvLyBXZSd2ZSB0byBiZSBzdXJlIHRoYXQga2V5IGRvZXMgbm90IGNvbnRhaW4gXFx1MDAwMFxuICAgICAgICAvLyBEbyBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50czpcbiAgICAgICAgLy8gMCAtPiAxLCAxXG4gICAgICAgIC8vIDEgLT4gMSwgMlxuICAgICAgICAvLyAyIC0+IDIsIDJcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICByZXR1cm4ga2V5XG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDIvZywgJ1xcdTAwMDJcXHUwMDAyJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMS9nLCAnXFx1MDAwMVxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAwL2csICdcXHUwMDAxXFx1MDAwMScpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheShrZXkpO1xuICAgICAgICB2YXIgYXJyID0gaXNBcnJheSA/IGtleSA6IE9iamVjdC5rZXlzKGtleSk7XG4gICAgICAgIHZhciBpID0gLTE7XG4gICAgICAgIHZhciBsZW4gPSBhcnIubGVuZ3RoO1xuICAgICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICAgIGlmIChpc0FycmF5KSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvSW5kZXhhYmxlU3RyaW5nKGFycltpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIHZhciBvYmpLZXkgPSBhcnJbaV07XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcob2JqS2V5KSArXG4gICAgICAgICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoa2V5W29iaktleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gJyc7XG59XG5cbi8vIGNvbnZlcnQgdGhlIGdpdmVuIGtleSB0byBhIHN0cmluZyB0aGF0IHdvdWxkIGJlIGFwcHJvcHJpYXRlXG4vLyBmb3IgbGV4aWNhbCBzb3J0aW5nLCBlLmcuIHdpdGhpbiBhIGRhdGFiYXNlLCB3aGVyZSB0aGVcbi8vIHNvcnRpbmcgaXMgdGhlIHNhbWUgZ2l2ZW4gYnkgdGhlIGNvbGxhdGUoKSBmdW5jdGlvbi5cbmZ1bmN0aW9uIHRvSW5kZXhhYmxlU3RyaW5nKGtleSkge1xuICB2YXIgemVybyA9ICdcXHUwMDAwJztcbiAga2V5ID0gbm9ybWFsaXplS2V5KGtleSk7XG4gIHJldHVybiBjb2xsYXRpb25JbmRleChrZXkpICsgU0VQICsgaW5kZXhpZnkoa2V5KSArIHplcm87XG59XG5cbmZ1bmN0aW9uIHBhcnNlTnVtYmVyKHN0ciwgaSkge1xuICB2YXIgb3JpZ2luYWxJZHggPSBpO1xuICB2YXIgbnVtO1xuICB2YXIgemVybyA9IHN0cltpXSA9PT0gJzEnO1xuICBpZiAoemVybykge1xuICAgIG51bSA9IDA7XG4gICAgaSsrO1xuICB9IGVsc2Uge1xuICAgIHZhciBuZWcgPSBzdHJbaV0gPT09ICcwJztcbiAgICBpKys7XG4gICAgdmFyIG51bUFzU3RyaW5nID0gJyc7XG4gICAgdmFyIG1hZ0FzU3RyaW5nID0gc3RyLnN1YnN0cmluZyhpLCBpICsgTUFHTklUVURFX0RJR0lUUyk7XG4gICAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KG1hZ0FzU3RyaW5nLCAxMCkgKyBNSU5fTUFHTklUVURFO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG5lZykge1xuICAgICAgbWFnbml0dWRlID0gLW1hZ25pdHVkZTtcbiAgICB9XG4gICAgaSArPSBNQUdOSVRVREVfRElHSVRTO1xuICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICB2YXIgY2ggPSBzdHJbaV07XG4gICAgICBpZiAoY2ggPT09ICdcXHUwMDAwJykge1xuICAgICAgICBicmVhaztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bUFzU3RyaW5nICs9IGNoO1xuICAgICAgfVxuICAgICAgaSsrO1xuICAgIH1cbiAgICBudW1Bc1N0cmluZyA9IG51bUFzU3RyaW5nLnNwbGl0KCcuJyk7XG4gICAgaWYgKG51bUFzU3RyaW5nLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbnVtID0gcGFyc2VJbnQobnVtQXNTdHJpbmcsIDEwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtQXNTdHJpbmdbMF0gKyAnLicgKyBudW1Bc1N0cmluZ1sxXSk7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG5lZykge1xuICAgICAgbnVtID0gbnVtIC0gMTA7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKG1hZ25pdHVkZSAhPT0gMCkge1xuICAgICAgLy8gcGFyc2VGbG9hdCBpcyBtb3JlIHJlbGlhYmxlIHRoYW4gcG93IGR1ZSB0byByb3VuZGluZyBlcnJvcnNcbiAgICAgIC8vIGUuZy4gTnVtYmVyLk1BWF9WQUxVRSB3b3VsZCByZXR1cm4gSW5maW5pdHkgaWYgd2UgZGlkXG4gICAgICAvLyBudW0gKiBNYXRoLnBvdygxMCwgbWFnbml0dWRlKTtcbiAgICAgIG51bSA9IHBhcnNlRmxvYXQobnVtICsgJ2UnICsgbWFnbml0dWRlKTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtudW06IG51bSwgbGVuZ3RoIDogaSAtIG9yaWdpbmFsSWR4fTtcbn1cblxuLy8gbW92ZSB1cCB0aGUgc3RhY2sgd2hpbGUgcGFyc2luZ1xuLy8gdGhpcyBmdW5jdGlvbiBtb3ZlZCBvdXRzaWRlIG9mIHBhcnNlSW5kZXhhYmxlU3RyaW5nIGZvciBwZXJmb3JtYW5jZVxuZnVuY3Rpb24gcG9wKHN0YWNrLCBtZXRhU3RhY2spIHtcbiAgdmFyIG9iaiA9IHN0YWNrLnBvcCgpO1xuXG4gIGlmIChtZXRhU3RhY2subGVuZ3RoKSB7XG4gICAgdmFyIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAgIC8vIHBvcHBpbmcgYSBtZXRhLWVsZW1lbnQsIGUuZy4gYW4gb2JqZWN0IHdob3NlIHZhbHVlIGlzIGFub3RoZXIgb2JqZWN0XG4gICAgICBtZXRhU3RhY2sucG9wKCk7XG4gICAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIH1cbiAgICB2YXIgZWxlbWVudCA9IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50O1xuICAgIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICAgIGlmIChBcnJheS5pc0FycmF5KGVsZW1lbnQpKSB7XG4gICAgICBlbGVtZW50LnB1c2gob2JqKTtcbiAgICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgICB2YXIga2V5ID0gc3RhY2sucG9wKCk7XG4gICAgICBlbGVtZW50W2tleV0gPSBvYmo7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YWNrLnB1c2gob2JqKTsgLy8gb2JqIHdpdGgga2V5IG9ubHlcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gcGFyc2VJbmRleGFibGVTdHJpbmcoc3RyKSB7XG4gIHZhciBzdGFjayA9IFtdO1xuICB2YXIgbWV0YVN0YWNrID0gW107IC8vIHN0YWNrIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgdmFyIGkgPSAwO1xuXG4gIC8qZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogW1wiZXJyb3JcIiwgeyBcImNoZWNrTG9vcHNcIjogZmFsc2UgfV0qL1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIHZhciBjb2xsYXRpb25JbmRleCA9IHN0cltpKytdO1xuICAgIGlmIChjb2xsYXRpb25JbmRleCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIHN3aXRjaCAoY29sbGF0aW9uSW5kZXgpIHtcbiAgICAgIGNhc2UgJzEnOlxuICAgICAgICBzdGFjay5wdXNoKG51bGwpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzInOlxuICAgICAgICBzdGFjay5wdXNoKHN0cltpXSA9PT0gJzEnKTtcbiAgICAgICAgaSsrO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgICB2YXIgcGFyc2VkTnVtID0gcGFyc2VOdW1iZXIoc3RyLCBpKTtcbiAgICAgICAgc3RhY2sucHVzaChwYXJzZWROdW0ubnVtKTtcbiAgICAgICAgaSArPSBwYXJzZWROdW0ubGVuZ3RoO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzQnOlxuICAgICAgICB2YXIgcGFyc2VkU3RyID0gJyc7XG4gICAgICAgIC8qZXNsaW50IG5vLWNvbnN0YW50LWNvbmRpdGlvbjogW1wiZXJyb3JcIiwgeyBcImNoZWNrTG9vcHNcIjogZmFsc2UgfV0qL1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgICAgICBpZiAoY2ggPT09ICdcXHUwMDAwJykge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIHBhcnNlZFN0ciArPSBjaDtcbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgLy8gcGVyZm9ybSB0aGUgcmV2ZXJzZSBvZiB0aGUgb3JkZXItcHJlc2VydmluZyByZXBsYWNlbWVudFxuICAgICAgICAvLyBhbGdvcml0aG0gKHNlZSBhYm92ZSlcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICBwYXJzZWRTdHIgPSBwYXJzZWRTdHIucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDEvZywgJ1xcdTAwMDAnKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMi9nLCAnXFx1MDAwMScpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDJcXHUwMDAyL2csICdcXHUwMDAyJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZFN0cik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNSc6XG4gICAgICAgIHZhciBhcnJheUVsZW1lbnQgPSB7IGVsZW1lbnQ6IFtdLCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2goYXJyYXlFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChhcnJheUVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgICB2YXIgb2JqRWxlbWVudCA9IHsgZWxlbWVudDoge30sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChvYmpFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChvYmpFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICdiYWQgY29sbGF0aW9uSW5kZXggb3IgdW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAnICtcbiAgICAgICAgICAgIGNvbGxhdGlvbkluZGV4KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJyYXlDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGxlbiA9IE1hdGgubWluKGEubGVuZ3RoLCBiLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgc29ydCA9IGNvbGxhdGUoYVtpXSwgYltpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgfVxuICByZXR1cm4gKGEubGVuZ3RoID09PSBiLmxlbmd0aCkgPyAwIDpcbiAgICAoYS5sZW5ndGggPiBiLmxlbmd0aCkgPyAxIDogLTE7XG59XG5mdW5jdGlvbiBzdHJpbmdDb2xsYXRlKGEsIGIpIHtcbiAgLy8gU2VlOiBodHRwczovL2dpdGh1Yi5jb20vZGFsZWhhcnZleS9wb3VjaGRiL2lzc3Vlcy80MFxuICAvLyBUaGlzIGlzIGluY29tcGF0aWJsZSB3aXRoIHRoZSBDb3VjaERCIGltcGxlbWVudGF0aW9uLCBidXQgaXRzIHRoZVxuICAvLyBiZXN0IHdlIGNhbiBkbyBmb3Igbm93XG4gIHJldHVybiAoYSA9PT0gYikgPyAwIDogKChhID4gYikgPyAxIDogLTEpO1xufVxuZnVuY3Rpb24gb2JqZWN0Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBhayA9IE9iamVjdC5rZXlzKGEpLCBiayA9IE9iamVjdC5rZXlzKGIpO1xuICB2YXIgbGVuID0gTWF0aC5taW4oYWsubGVuZ3RoLCBiay5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gRmlyc3Qgc29ydCB0aGUga2V5c1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShha1tpXSwgYmtbaV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG4gICAgLy8gaWYgdGhlIGtleXMgYXJlIGVxdWFsIHNvcnQgdGhlIHZhbHVlc1xuICAgIHNvcnQgPSBjb2xsYXRlKGFbYWtbaV1dLCBiW2JrW2ldXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cblxuICB9XG4gIHJldHVybiAoYWsubGVuZ3RoID09PSBiay5sZW5ndGgpID8gMCA6XG4gICAgKGFrLmxlbmd0aCA+IGJrLmxlbmd0aCkgPyAxIDogLTE7XG59XG4vLyBUaGUgY29sbGF0aW9uIGlzIGRlZmluZWQgYnkgZXJsYW5ncyBvcmRlcmVkIHRlcm1zXG4vLyB0aGUgYXRvbXMgbnVsbCwgdHJ1ZSwgZmFsc2UgY29tZSBmaXJzdCwgdGhlbiBudW1iZXJzLCBzdHJpbmdzLFxuLy8gYXJyYXlzLCB0aGVuIG9iamVjdHNcbi8vIG51bGwvdW5kZWZpbmVkL05hTi9JbmZpbml0eS8tSW5maW5pdHkgYXJlIGFsbCBjb25zaWRlcmVkIG51bGxcbmZ1bmN0aW9uIGNvbGxhdGlvbkluZGV4KHgpIHtcbiAgdmFyIGlkID0gWydib29sZWFuJywgJ251bWJlcicsICdzdHJpbmcnLCAnb2JqZWN0J107XG4gIHZhciBpZHggPSBpZC5pbmRleE9mKHR5cGVvZiB4KTtcbiAgLy9mYWxzZSBpZiAtMSBvdGhlcndpc2UgdHJ1ZSwgYnV0IGZhc3QhISEhMVxuICBpZiAofmlkeCkge1xuICAgIGlmICh4ID09PSBudWxsKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICAgIHJldHVybiA1O1xuICAgIH1cbiAgICByZXR1cm4gaWR4IDwgMyA/IChpZHggKyAyKSA6IChpZHggKyAzKTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgIHJldHVybiA1O1xuICB9XG59XG5cbi8vIGNvbnZlcnNpb246XG4vLyB4IHl5eSB6ei4uLnp6XG4vLyB4ID0gMCBmb3IgbmVnYXRpdmUsIDEgZm9yIDAsIDIgZm9yIHBvc2l0aXZlXG4vLyB5ID0gZXhwb25lbnQgKGZvciBuZWdhdGl2ZSBudW1iZXJzIG5lZ2F0ZWQpIG1vdmVkIHNvIHRoYXQgaXQncyA+PSAwXG4vLyB6ID0gbWFudGlzc2VcbmZ1bmN0aW9uIG51bVRvSW5kZXhhYmxlU3RyaW5nKG51bSkge1xuXG4gIGlmIChudW0gPT09IDApIHtcbiAgICByZXR1cm4gJzEnO1xuICB9XG5cbiAgLy8gY29udmVydCBudW1iZXIgdG8gZXhwb25lbnRpYWwgZm9ybWF0IGZvciBlYXNpZXIgYW5kXG4gIC8vIG1vcmUgc3VjY2luY3Qgc3RyaW5nIHNvcnRpbmdcbiAgdmFyIGV4cEZvcm1hdCA9IG51bS50b0V4cG9uZW50aWFsKCkuc3BsaXQoL2VcXCs/Lyk7XG4gIHZhciBtYWduaXR1ZGUgPSBwYXJzZUludChleHBGb3JtYXRbMV0sIDEwKTtcblxuICB2YXIgbmVnID0gbnVtIDwgMDtcblxuICB2YXIgcmVzdWx0ID0gbmVnID8gJzAnIDogJzInO1xuXG4gIC8vIGZpcnN0IHNvcnQgYnkgbWFnbml0dWRlXG4gIC8vIGl0J3MgZWFzaWVyIGlmIGFsbCBtYWduaXR1ZGVzIGFyZSBwb3NpdGl2ZVxuICB2YXIgbWFnRm9yQ29tcGFyaXNvbiA9ICgobmVnID8gLW1hZ25pdHVkZSA6IG1hZ25pdHVkZSkgLSBNSU5fTUFHTklUVURFKTtcbiAgdmFyIG1hZ1N0cmluZyA9IHBhZExlZnQoKG1hZ0ZvckNvbXBhcmlzb24pLnRvU3RyaW5nKCksICcwJywgTUFHTklUVURFX0RJR0lUUyk7XG5cbiAgcmVzdWx0ICs9IFNFUCArIG1hZ1N0cmluZztcblxuICAvLyB0aGVuIHNvcnQgYnkgdGhlIGZhY3RvclxuICB2YXIgZmFjdG9yID0gTWF0aC5hYnMocGFyc2VGbG9hdChleHBGb3JtYXRbMF0pKTsgLy8gWzEuLjEwKVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAobmVnKSB7IC8vIGZvciBuZWdhdGl2ZSByZXZlcnNlIG9yZGVyaW5nXG4gICAgZmFjdG9yID0gMTAgLSBmYWN0b3I7XG4gIH1cblxuICB2YXIgZmFjdG9yU3RyID0gZmFjdG9yLnRvRml4ZWQoMjApO1xuXG4gIC8vIHN0cmlwIHplcm9zIGZyb20gdGhlIGVuZFxuICBmYWN0b3JTdHIgPSBmYWN0b3JTdHIucmVwbGFjZSgvXFwuPzArJC8sICcnKTtcblxuICByZXN1bHQgKz0gU0VQICsgZmFjdG9yU3RyO1xuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGNyZWF0ZSBhIGNvbXBhcmF0b3IgYmFzZWQgb24gdGhlIHNvcnQgb2JqZWN0XG5mdW5jdGlvbiBjcmVhdGVGaWVsZFNvcnRlcihzb3J0KSB7XG5cbiAgZnVuY3Rpb24gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGRvYykge1xuICAgIHJldHVybiBzb3J0Lm1hcChmdW5jdGlvbiAoc29ydGluZykge1xuICAgICAgdmFyIGZpZWxkTmFtZSA9IGdldEtleShzb3J0aW5nKTtcbiAgICAgIHZhciBwYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQoZmllbGROYW1lKTtcbiAgICAgIHZhciBkb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpO1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWU7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gZnVuY3Rpb24gKGFSb3csIGJSb3cpIHtcbiAgICB2YXIgYUZpZWxkVmFsdWVzID0gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGFSb3cuZG9jKTtcbiAgICB2YXIgYkZpZWxkVmFsdWVzID0gZ2V0RmllbGRWYWx1ZXNBc0FycmF5KGJSb3cuZG9jKTtcbiAgICB2YXIgY29sbGF0aW9uID0gY29sbGF0ZShhRmllbGRWYWx1ZXMsIGJGaWVsZFZhbHVlcyk7XG4gICAgaWYgKGNvbGxhdGlvbiAhPT0gMCkge1xuICAgICAgcmV0dXJuIGNvbGxhdGlvbjtcbiAgICB9XG4gICAgLy8gdGhpcyBpcyB3aGF0IG1hbmdvIHNlZW1zIHRvIGRvXG4gICAgcmV0dXJuIGNvbXBhcmUkMShhUm93LmRvYy5faWQsIGJSb3cuZG9jLl9pZCk7XG4gIH07XG59XG5cbmZ1bmN0aW9uIGZpbHRlckluTWVtb3J5RmllbGRzKHJvd3MsIHJlcXVlc3REZWYsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJvd3MgPSByb3dzLmZpbHRlcihmdW5jdGlvbiAocm93KSB7XG4gICAgcmV0dXJuIHJvd0ZpbHRlcihyb3cuZG9jLCByZXF1ZXN0RGVmLnNlbGVjdG9yLCBpbk1lbW9yeUZpZWxkcyk7XG4gIH0pO1xuXG4gIGlmIChyZXF1ZXN0RGVmLnNvcnQpIHtcbiAgICAvLyBpbi1tZW1vcnkgc29ydFxuICAgIHZhciBmaWVsZFNvcnRlciA9IGNyZWF0ZUZpZWxkU29ydGVyKHJlcXVlc3REZWYuc29ydCk7XG4gICAgcm93cyA9IHJvd3Muc29ydChmaWVsZFNvcnRlcik7XG4gICAgaWYgKHR5cGVvZiByZXF1ZXN0RGVmLnNvcnRbMF0gIT09ICdzdHJpbmcnICYmXG4gICAgICAgIGdldFZhbHVlKHJlcXVlc3REZWYuc29ydFswXSkgPT09ICdkZXNjJykge1xuICAgICAgcm93cyA9IHJvd3MucmV2ZXJzZSgpO1xuICAgIH1cbiAgfVxuXG4gIGlmICgnbGltaXQnIGluIHJlcXVlc3REZWYgfHwgJ3NraXAnIGluIHJlcXVlc3REZWYpIHtcbiAgICAvLyBoYXZlIHRvIGRvIHRoZSBsaW1pdCBpbi1tZW1vcnlcbiAgICB2YXIgc2tpcCA9IHJlcXVlc3REZWYuc2tpcCB8fCAwO1xuICAgIHZhciBsaW1pdCA9ICgnbGltaXQnIGluIHJlcXVlc3REZWYgPyByZXF1ZXN0RGVmLmxpbWl0IDogcm93cy5sZW5ndGgpICsgc2tpcDtcbiAgICByb3dzID0gcm93cy5zbGljZShza2lwLCBsaW1pdCk7XG4gIH1cbiAgcmV0dXJuIHJvd3M7XG59XG5cbmZ1bmN0aW9uIHJvd0ZpbHRlcihkb2MsIHNlbGVjdG9yLCBpbk1lbW9yeUZpZWxkcykge1xuICByZXR1cm4gaW5NZW1vcnlGaWVsZHMuZXZlcnkoZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgdmFyIG1hdGNoZXIgPSBzZWxlY3RvcltmaWVsZF07XG4gICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZCk7XG4gICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgaWYgKGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSkge1xuICAgICAgcmV0dXJuIG1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IoZmllbGQsIG1hdGNoZXIsIGRvYyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBtYXRjaFNlbGVjdG9yKG1hdGNoZXIsIGRvYywgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgaWYgKCFtYXRjaGVyKSB7XG4gICAgLy8gbm8gZmlsdGVyaW5nIG5lY2Vzc2FyeTsgdGhpcyBmaWVsZCBpcyBqdXN0IG5lZWRlZCBmb3Igc29ydGluZ1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLy8gaXMgbWF0Y2hlciBhbiBvYmplY3QsIGlmIHNvIGNvbnRpbnVlIHJlY3Vyc2lvblxuICBpZiAodHlwZW9mIG1hdGNoZXIgPT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIE9iamVjdC5rZXlzKG1hdGNoZXIpLmV2ZXJ5KGZ1bmN0aW9uIChtYXliZVVzZXJPcGVyYXRvcikge1xuICAgICAgdmFyIHVzZXJWYWx1ZSA9IG1hdGNoZXJbIG1heWJlVXNlck9wZXJhdG9yIF07XG4gICAgICAvLyBleHBsaWNpdCBvcGVyYXRvclxuICAgICAgaWYgKG1heWJlVXNlck9wZXJhdG9yLmluZGV4T2YoXCIkXCIpID09PSAwKSB7XG4gICAgICAgIHJldHVybiBtYXRjaChtYXliZVVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBzdWJQYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQobWF5YmVVc2VyT3BlcmF0b3IpO1xuXG4gICAgICAgIGlmIChcbiAgICAgICAgICBkb2NGaWVsZFZhbHVlID09PSB1bmRlZmluZWQgJiZcbiAgICAgICAgICB0eXBlb2YgdXNlclZhbHVlICE9PSBcIm9iamVjdFwiICYmXG4gICAgICAgICAgc3ViUGFyc2VkRmllbGQubGVuZ3RoID4gMFxuICAgICAgICApIHtcbiAgICAgICAgICAvLyB0aGUgZmllbGQgZG9lcyBub3QgZXhpc3QsIHJldHVybiBvciBnZXRGaWVsZEZyb21Eb2Mgd2lsbCB0aHJvd1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBzdWJEb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvY0ZpZWxkVmFsdWUsIHN1YlBhcnNlZEZpZWxkKTtcblxuICAgICAgICBpZiAodHlwZW9mIHVzZXJWYWx1ZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICAgIC8vIGZpZWxkIHZhbHVlIGlzIGFuIG9iamVjdCB0aGF0IG1pZ2h0IGNvbnRhaW4gbW9yZSBvcGVyYXRvcnNcbiAgICAgICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHN1YkRvY0ZpZWxkVmFsdWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gaW1wbGljaXQgb3BlcmF0b3JcbiAgICAgICAgcmV0dXJuIG1hdGNoKFwiJGVxXCIsIGRvYywgdXNlclZhbHVlLCBzdWJQYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBubyBtb3JlIGRlcHRoLCBObyBuZWVkIHRvIHJlY3Vyc2UgZnVydGhlclxuICByZXR1cm4gbWF0Y2hlciA9PT0gZG9jRmllbGRWYWx1ZTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKSB7XG5cbiAgaWYgKGZpZWxkID09PSAnJG9yJykge1xuICAgIHJldHVybiBtYXRjaGVyLnNvbWUoZnVuY3Rpb24gKG9yTWF0Y2hlcnMpIHtcbiAgICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoZmllbGQgPT09ICckbm90Jykge1xuICAgIHJldHVybiAhcm93RmlsdGVyKGRvYywgbWF0Y2hlciwgT2JqZWN0LmtleXMobWF0Y2hlcikpO1xuICB9XG5cbiAgLy9gJG5vcmBcbiAgcmV0dXJuICFtYXRjaGVyLmZpbmQoZnVuY3Rpb24gKG9yTWF0Y2hlcnMpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKGRvYywgb3JNYXRjaGVycywgT2JqZWN0LmtleXMob3JNYXRjaGVycykpO1xuICB9KTtcblxufVxuXG5mdW5jdGlvbiBtYXRjaCh1c2VyT3BlcmF0b3IsIGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXJzW3VzZXJPcGVyYXRvcl0pIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHRocm93IG5ldyBFcnJvcigndW5rbm93biBvcGVyYXRvciBcIicgKyB1c2VyT3BlcmF0b3IgK1xuICAgICAgJ1wiIC0gc2hvdWxkIGJlIG9uZSBvZiAkZXEsICRsdGUsICRsdCwgJGd0LCAkZ3RlLCAkZXhpc3RzLCAkbmUsICRpbiwgJyArXG4gICAgICAnJG5pbiwgJHNpemUsICRtb2QsICRyZWdleCwgJGVsZW1NYXRjaCwgJHR5cGUsICRhbGxNYXRjaCBvciAkYWxsJyk7XG4gIH1cbiAgcmV0dXJuIG1hdGNoZXJzW3VzZXJPcGVyYXRvcl0oZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09ICd1bmRlZmluZWQnICYmIGRvY0ZpZWxkVmFsdWUgIT09IG51bGw7XG59XG5cbmZ1bmN0aW9uIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkge1xuICByZXR1cm4gdHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09ICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBtb2RGaWVsZChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSBcIm51bWJlclwiIHx8XG4gICAgcGFyc2VJbnQoZG9jRmllbGRWYWx1ZSwgMTApICE9PSBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgdmFyIGRpdmlzb3IgPSB1c2VyVmFsdWVbMF07XG4gIHZhciBtb2QgPSB1c2VyVmFsdWVbMV07XG5cbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgJSBkaXZpc29yID09PSBtb2Q7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIHVzZXJWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICBpZiAoZG9jRmllbGRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uIChkb2NGaWVsZFZhbHVlSXRlbSkge1xuICAgICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZSkgPT09IDA7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zQWxsVmFsdWVzKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uIChkb2NGaWVsZFZhbHVlSXRlbSkge1xuICAgICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlSXRlbSkgPT09IDA7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhcnJheVNpemUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiBkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gdXNlclZhbHVlO1xufVxuXG5mdW5jdGlvbiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICB2YXIgcmUgPSBuZXcgUmVnRXhwKHVzZXJWYWx1ZSk7XG5cbiAgcmV0dXJuIHJlLnRlc3QoZG9jRmllbGRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIHR5cGVNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcblxuICBzd2l0Y2ggKHVzZXJWYWx1ZSkge1xuICAgIGNhc2UgJ251bGwnOlxuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgPT09IG51bGw7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ2Jvb2xlYW4nO1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ251bWJlcic7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnc3RyaW5nJztcbiAgICBjYXNlICdhcnJheSc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSBpbnN0YW5jZW9mIEFycmF5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICByZXR1cm4gKHt9KS50b1N0cmluZy5jYWxsKGRvY0ZpZWxkVmFsdWUpID09PSAnW29iamVjdCBPYmplY3RdJztcbiAgfVxufVxuXG52YXIgbWF0Y2hlcnMgPSB7XG5cbiAgJyRlbGVtTWF0Y2gnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiByb3dGaWx0ZXIodmFsLCB1c2VyVmFsdWUsIE9iamVjdC5rZXlzKHVzZXJWYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHZhbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgJyRhbGxNYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZVswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICByZXR1cm4gbWF0Y2hTZWxlY3Rvcih1c2VyVmFsdWUsIGRvYywgcGFyc2VkRmllbGQsIHZhbCk7XG4gICAgfSk7XG4gIH0sXG5cbiAgJyRlcSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPT09IDA7XG4gIH0sXG5cbiAgJyRndGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID49IDA7XG4gIH0sXG5cbiAgJyRndCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPiAwO1xuICB9LFxuXG4gICckbHRlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA8PSAwO1xuICB9LFxuXG4gICckbHQnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDwgMDtcbiAgfSxcblxuICAnJGV4aXN0cyc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICAvL2EgZmllbGQgdGhhdCBpcyBudWxsIGlzIHN0aWxsIGNvbnNpZGVyZWQgdG8gZXhpc3RcbiAgICBpZiAodXNlclZhbHVlKSB7XG4gICAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gIWZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSk7XG4gIH0sXG5cbiAgJyRtb2QnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRuZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChuZVZhbHVlKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZShkb2NGaWVsZFZhbHVlLCBuZVZhbHVlKSAhPT0gMDtcbiAgICB9KTtcbiAgfSxcbiAgJyRpbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRuaW4nOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmICFhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHNpemUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICBhcnJheVNpemUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJGFsbCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zQWxsVmFsdWVzKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRyZWdleCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIHR5cGVvZiBkb2NGaWVsZFZhbHVlID09IFwic3RyaW5nXCIgJiZcbiAgICAgIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAocmVnZXhWYWx1ZSkge1xuICAgICAgICByZXR1cm4gcmVnZXhNYXRjaChkb2NGaWVsZFZhbHVlLCByZWdleFZhbHVlKTtcbiAgICAgIH0pO1xuICB9LFxuXG4gICckdHlwZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH1cbn07XG5cbi8vIHJldHVybiB0cnVlIGlmIHRoZSBnaXZlbiBkb2MgbWF0Y2hlcyB0aGUgc3VwcGxpZWQgc2VsZWN0b3JcbmZ1bmN0aW9uIG1hdGNoZXNTZWxlY3Rvcihkb2MsIHNlbGVjdG9yKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHNlbGVjdG9yICE9PSAnb2JqZWN0Jykge1xuICAgIC8vIG1hdGNoIHRoZSBDb3VjaERCIGVycm9yIG1lc3NhZ2VcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ1NlbGVjdG9yIGVycm9yOiBleHBlY3RlZCBhIEpTT04gb2JqZWN0Jyk7XG4gIH1cblxuICBzZWxlY3RvciA9IG1hc3NhZ2VTZWxlY3RvcihzZWxlY3Rvcik7XG4gIHZhciByb3cgPSB7XG4gICAgJ2RvYyc6IGRvY1xuICB9O1xuXG4gIHZhciByb3dzTWF0Y2hlZCA9IGZpbHRlckluTWVtb3J5RmllbGRzKFtyb3ddLCB7ICdzZWxlY3Rvcic6IHNlbGVjdG9yIH0sIE9iamVjdC5rZXlzKHNlbGVjdG9yKSk7XG4gIHJldHVybiByb3dzTWF0Y2hlZCAmJiByb3dzTWF0Y2hlZC5sZW5ndGggPT09IDE7XG59XG5cbmZ1bmN0aW9uIGV2YWxGaWx0ZXIoaW5wdXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbCgnXCJ1c2Ugc3RyaWN0XCI7XFxucmV0dXJuICcgKyBpbnB1dCArICc7Jywge30pO1xufVxuXG5mdW5jdGlvbiBldmFsVmlldyhpbnB1dCkge1xuICB2YXIgY29kZSA9IFtcbiAgICAncmV0dXJuIGZ1bmN0aW9uKGRvYykgeycsXG4gICAgJyAgXCJ1c2Ugc3RyaWN0XCI7JyxcbiAgICAnICB2YXIgZW1pdHRlZCA9IGZhbHNlOycsXG4gICAgJyAgdmFyIGVtaXQgPSBmdW5jdGlvbiAoYSwgYikgeycsXG4gICAgJyAgICBlbWl0dGVkID0gdHJ1ZTsnLFxuICAgICcgIH07JyxcbiAgICAnICB2YXIgdmlldyA9ICcgKyBpbnB1dCArICc7JyxcbiAgICAnICB2aWV3KGRvYyk7JyxcbiAgICAnICBpZiAoZW1pdHRlZCkgeycsXG4gICAgJyAgICByZXR1cm4gdHJ1ZTsnLFxuICAgICcgIH0nLFxuICAgICd9OydcbiAgXS5qb2luKCdcXG4nKTtcblxuICByZXR1cm4gc2NvcGVFdmFsKGNvZGUsIHt9KTtcbn1cblxuZnVuY3Rpb24gdmFsaWRhdGUob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5maWx0ZXIgIT09ICdfc2VsZWN0b3InKSB7XG4gICAgICB2YXIgZmlsdGVyTmFtZSA9IHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycgP1xuICAgICAgICBvcHRzLmZpbHRlciA6ICdmdW5jdGlvbic7XG4gICAgICByZXR1cm4gY2FsbGJhY2sobmV3IEVycm9yKCdzZWxlY3RvciBpbnZhbGlkIGZvciBmaWx0ZXIgXCInICsgZmlsdGVyTmFtZSArICdcIicpKTtcbiAgICB9XG4gIH1cbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplKG9wdHMpIHtcbiAgaWYgKG9wdHMudmlldyAmJiAhb3B0cy5maWx0ZXIpIHtcbiAgICBvcHRzLmZpbHRlciA9ICdfdmlldyc7XG4gIH1cblxuICBpZiAob3B0cy5zZWxlY3RvciAmJiAhb3B0cy5maWx0ZXIpIHtcbiAgICBvcHRzLmZpbHRlciA9ICdfc2VsZWN0b3InO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICBpZiAob3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICAgIG9wdHMudmlldyA9IG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLnZpZXcpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRzLmZpbHRlciA9IG5vcm1hbGl6ZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLmZpbHRlcik7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNob3VsZEZpbHRlcihjaGFuZ2VzSGFuZGxlciwgb3B0cykge1xuICByZXR1cm4gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyAmJlxuICAgICFvcHRzLmRvY19pZHMgJiYgIWlzUmVtb3RlKGNoYW5nZXNIYW5kbGVyLmRiKTtcbn1cblxuZnVuY3Rpb24gZmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGlmICghb3B0cy52aWV3IHx8IHR5cGVvZiBvcHRzLnZpZXcgIT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsXG4gICAgICAgICdgdmlld2AgZmlsdGVyIHBhcmFtZXRlciBub3QgZm91bmQgb3IgaW52YWxpZC4nKTtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBmZXRjaCBhIHZpZXcgZnJvbSBhIGRlc2lnbiBkb2MsIG1ha2UgaXQgYmVoYXZlIGxpa2UgYSBmaWx0ZXJcbiAgICB2YXIgdmlld05hbWUgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLnZpZXcpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgdmlld05hbWVbMF0sIGZ1bmN0aW9uIChlcnIsIGRkb2MpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZXNIYW5kbGVyLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSk7XG4gICAgICB9XG4gICAgICB2YXIgbWFwRnVuID0gZGRvYyAmJiBkZG9jLnZpZXdzICYmIGRkb2Mudmlld3Nbdmlld05hbWVbMV1dICYmXG4gICAgICAgIGRkb2Mudmlld3Nbdmlld05hbWVbMV1dLm1hcDtcbiAgICAgIGlmICghbWFwRnVuKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQyxcbiAgICAgICAgICAoZGRvYy52aWV3cyA/ICdtaXNzaW5nIGpzb24ga2V5OiAnICsgdmlld05hbWVbMV0gOlxuICAgICAgICAgICAgJ21pc3NpbmcganNvbiBrZXk6IHZpZXdzJykpKTtcbiAgICAgIH1cbiAgICAgIG9wdHMuZmlsdGVyID0gZXZhbFZpZXcobWFwRnVuKTtcbiAgICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfSBlbHNlIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgb3B0cy5maWx0ZXIgPSBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gbWF0Y2hlc1NlbGVjdG9yKGRvYywgb3B0cy5zZWxlY3Rvcik7XG4gICAgfTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgLy8gZmV0Y2ggYSBmaWx0ZXIgZnJvbSBhIGRlc2lnbiBkb2NcbiAgICB2YXIgZmlsdGVyTmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kYi5nZXQoJ19kZXNpZ24vJyArIGZpbHRlck5hbWVbMF0sIGZ1bmN0aW9uIChlcnIsIGRkb2MpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZXNIYW5kbGVyLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UoZXJyKSk7XG4gICAgICB9XG4gICAgICB2YXIgZmlsdGVyRnVuID0gZGRvYyAmJiBkZG9jLmZpbHRlcnMgJiYgZGRvYy5maWx0ZXJzW2ZpbHRlck5hbWVbMV1dO1xuICAgICAgaWYgKCFmaWx0ZXJGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgICgoZGRvYyAmJiBkZG9jLmZpbHRlcnMpID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyBmaWx0ZXJOYW1lWzFdXG4gICAgICAgICAgICA6ICdtaXNzaW5nIGpzb24ga2V5OiBmaWx0ZXJzJykpKTtcbiAgICAgIH1cbiAgICAgIG9wdHMuZmlsdGVyID0gZXZhbEZpbHRlcihmaWx0ZXJGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbihQb3VjaERCKSB7XG4gIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4gPSB7XG4gICAgdmFsaWRhdGU6IHZhbGlkYXRlLFxuICAgIG5vcm1hbGl6ZTogbm9ybWFsaXplLFxuICAgIHNob3VsZEZpbHRlcjogc2hvdWxkRmlsdGVyLFxuICAgIGZpbHRlcjogZmlsdGVyXG4gIH07XG59XG5cbi8vIFRPRE86IHJlbW92ZSBmcm9tIHBvdWNoZGItY29yZSAoYnJlYWtpbmcpXG5Qb3VjaERCLnBsdWdpbihhcHBseUNoYW5nZXNGaWx0ZXJQbHVnaW4pO1xuXG5Qb3VjaERCLnZlcnNpb24gPSB2ZXJzaW9uO1xuXG5mdW5jdGlvbiB0b09iamVjdChhcnJheSkge1xuICByZXR1cm4gYXJyYXkucmVkdWNlKGZ1bmN0aW9uIChvYmosIGl0ZW0pIHtcbiAgICBvYmpbaXRlbV0gPSB0cnVlO1xuICAgIHJldHVybiBvYmo7XG4gIH0sIHt9KTtcbn1cbi8vIExpc3Qgb2YgdG9wIGxldmVsIHJlc2VydmVkIHdvcmRzIGZvciBkb2NcbnZhciByZXNlcnZlZFdvcmRzID0gdG9PYmplY3QoW1xuICAnX2lkJyxcbiAgJ19yZXYnLFxuICAnX2FjY2VzcycsXG4gICdfYXR0YWNobWVudHMnLFxuICAnX2RlbGV0ZWQnLFxuICAnX3JldmlzaW9ucycsXG4gICdfcmV2c19pbmZvJyxcbiAgJ19jb25mbGljdHMnLFxuICAnX2RlbGV0ZWRfY29uZmxpY3RzJyxcbiAgJ19sb2NhbF9zZXEnLFxuICAnX3Jldl90cmVlJyxcbiAgLy8gcmVwbGljYXRpb24gZG9jdW1lbnRzXG4gICdfcmVwbGljYXRpb25faWQnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV90aW1lJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV9yZWFzb24nLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRzJyxcbiAgLy8gU3BlY2lmaWMgdG8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheVxuICAnX3JlbW92ZWQnXG5dKTtcblxuLy8gTGlzdCBvZiByZXNlcnZlZCB3b3JkcyB0aGF0IHNob3VsZCBlbmQgdXAgaW4gdGhlIGRvY3VtZW50XG52YXIgZGF0YVdvcmRzID0gdG9PYmplY3QoW1xuICAnX2FjY2VzcycsXG4gICdfYXR0YWNobWVudHMnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnXG5dKTtcblxuZnVuY3Rpb24gcGFyc2VSZXZpc2lvbkluZm8ocmV2KSB7XG4gIGlmICghL15cXGQrLS8udGVzdChyZXYpKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUVycm9yKElOVkFMSURfUkVWKTtcbiAgfVxuICB2YXIgaWR4ID0gcmV2LmluZGV4T2YoJy0nKTtcbiAgdmFyIGxlZnQgPSByZXYuc3Vic3RyaW5nKDAsIGlkeCk7XG4gIHZhciByaWdodCA9IHJldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIHJldHVybiB7XG4gICAgcHJlZml4OiBwYXJzZUludChsZWZ0LCAxMCksXG4gICAgaWQ6IHJpZ2h0XG4gIH07XG59XG5cbmZ1bmN0aW9uIG1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyhyZXZpc2lvbnMsIG9wdHMpIHtcbiAgdmFyIHBvcyA9IHJldmlzaW9ucy5zdGFydCAtIHJldmlzaW9ucy5pZHMubGVuZ3RoICsgMTtcblxuICB2YXIgcmV2aXNpb25JZHMgPSByZXZpc2lvbnMuaWRzO1xuICB2YXIgaWRzID0gW3JldmlzaW9uSWRzWzBdLCBvcHRzLCBbXV07XG5cbiAgZm9yICh2YXIgaSA9IDEsIGxlbiA9IHJldmlzaW9uSWRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgaWRzID0gW3JldmlzaW9uSWRzW2ldLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbaWRzXV07XG4gIH1cblxuICByZXR1cm4gW3tcbiAgICBwb3M6IHBvcyxcbiAgICBpZHM6IGlkc1xuICB9XTtcbn1cblxuLy8gUHJlcHJvY2VzcyBkb2N1bWVudHMsIHBhcnNlIHRoZWlyIHJldmlzaW9ucywgYXNzaWduIGFuIGlkIGFuZCBhXG4vLyByZXZpc2lvbiBmb3IgbmV3IHdyaXRlcyB0aGF0IGFyZSBtaXNzaW5nIHRoZW0sIGV0Y1xuZnVuY3Rpb24gcGFyc2VEb2MoZG9jLCBuZXdFZGl0cywgZGJPcHRzKSB7XG4gIGlmICghZGJPcHRzKSB7XG4gICAgZGJPcHRzID0ge1xuICAgICAgZGV0ZXJtaW5pc3RpY19yZXZzOiB0cnVlXG4gICAgfTtcbiAgfVxuXG4gIHZhciBuUmV2TnVtO1xuICB2YXIgbmV3UmV2SWQ7XG4gIHZhciByZXZJbmZvO1xuICB2YXIgb3B0cyA9IHtzdGF0dXM6ICdhdmFpbGFibGUnfTtcbiAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgIG9wdHMuZGVsZXRlZCA9IHRydWU7XG4gIH1cblxuICBpZiAobmV3RWRpdHMpIHtcbiAgICBpZiAoIWRvYy5faWQpIHtcbiAgICAgIGRvYy5faWQgPSB1dWlkKCk7XG4gICAgfVxuICAgIG5ld1JldklkID0gcmV2JCQxKGRvYywgZGJPcHRzLmRldGVybWluaXN0aWNfcmV2cyk7XG4gICAgaWYgKGRvYy5fcmV2KSB7XG4gICAgICByZXZJbmZvID0gcGFyc2VSZXZpc2lvbkluZm8oZG9jLl9yZXYpO1xuICAgICAgaWYgKHJldkluZm8uZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJldkluZm87XG4gICAgICB9XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiByZXZJbmZvLnByZWZpeCxcbiAgICAgICAgaWRzOiBbcmV2SW5mby5pZCwge3N0YXR1czogJ21pc3NpbmcnfSwgW1tuZXdSZXZJZCwgb3B0cywgW11dXV1cbiAgICAgIH1dO1xuICAgICAgblJldk51bSA9IHJldkluZm8ucHJlZml4ICsgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogMSxcbiAgICAgICAgaWRzIDogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgICAgblJldk51bSA9IDE7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChkb2MuX3JldmlzaW9ucykge1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IG1ha2VSZXZUcmVlRnJvbVJldmlzaW9ucyhkb2MuX3JldmlzaW9ucywgb3B0cyk7XG4gICAgICBuUmV2TnVtID0gZG9jLl9yZXZpc2lvbnMuc3RhcnQ7XG4gICAgICBuZXdSZXZJZCA9IGRvYy5fcmV2aXNpb25zLmlkc1swXTtcbiAgICB9XG4gICAgaWYgKCFkb2MuX3Jldl90cmVlKSB7XG4gICAgICByZXZJbmZvID0gcGFyc2VSZXZpc2lvbkluZm8oZG9jLl9yZXYpO1xuICAgICAgaWYgKHJldkluZm8uZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIHJldkluZm87XG4gICAgICB9XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXg7XG4gICAgICBuZXdSZXZJZCA9IHJldkluZm8uaWQ7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiBuUmV2TnVtLFxuICAgICAgICBpZHM6IFtuZXdSZXZJZCwgb3B0cywgW11dXG4gICAgICB9XTtcbiAgICB9XG4gIH1cblxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcblxuICBkb2MuX3JldiA9IG5SZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcblxuICB2YXIgcmVzdWx0ID0ge21ldGFkYXRhIDoge30sIGRhdGEgOiB7fX07XG4gIGZvciAodmFyIGtleSBpbiBkb2MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jLCBrZXkpKSB7XG4gICAgICB2YXIgc3BlY2lhbEtleSA9IGtleVswXSA9PT0gJ18nO1xuICAgICAgaWYgKHNwZWNpYWxLZXkgJiYgIXJlc2VydmVkV29yZHNba2V5XSkge1xuICAgICAgICB2YXIgZXJyb3IgPSBjcmVhdGVFcnJvcihET0NfVkFMSURBVElPTiwga2V5KTtcbiAgICAgICAgZXJyb3IubWVzc2FnZSA9IERPQ19WQUxJREFUSU9OLm1lc3NhZ2UgKyAnOiAnICsga2V5O1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH0gZWxzZSBpZiAoc3BlY2lhbEtleSAmJiAhZGF0YVdvcmRzW2tleV0pIHtcbiAgICAgICAgcmVzdWx0Lm1ldGFkYXRhW2tleS5zbGljZSgxKV0gPSBkb2Nba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdC5kYXRhW2tleV0gPSBkb2Nba2V5XTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFyc2VCYXNlNjQoZGF0YSkge1xuICB0cnkge1xuICAgIHJldHVybiB0aGlzQXRvYihkYXRhKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfQVJHLFxuICAgICAgJ0F0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZycpO1xuICAgIHJldHVybiB7ZXJyb3I6IGVycn07XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc1N0cmluZyhhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICB2YXIgYXNCaW5hcnkgPSBwYXJzZUJhc2U2NChhdHQuZGF0YSk7XG4gIGlmIChhc0JpbmFyeS5lcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhhc0JpbmFyeS5lcnJvcik7XG4gIH1cblxuICBhdHQubGVuZ3RoID0gYXNCaW5hcnkubGVuZ3RoO1xuICBpZiAoYmxvYlR5cGUgPT09ICdibG9iJykge1xuICAgIGF0dC5kYXRhID0gYmluU3RyaW5nVG9CbHVmZmVyKGFzQmluYXJ5LCBhdHQuY29udGVudF90eXBlKTtcbiAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICBhdHQuZGF0YSA9IHRoaXNCdG9hKGFzQmluYXJ5KTtcbiAgfSBlbHNlIHsgLy8gYmluYXJ5XG4gICAgYXR0LmRhdGEgPSBhc0JpbmFyeTtcbiAgfVxuICBiaW5hcnlNZDUoYXNCaW5hcnksIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICBhdHQuZGlnZXN0ID0gJ21kNS0nICsgcmVzdWx0O1xuICAgIGNhbGxiYWNrKCk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICBiaW5hcnlNZDUoYXR0LmRhdGEsIGZ1bmN0aW9uIChtZDUpIHtcbiAgICBhdHQuZGlnZXN0ID0gJ21kNS0nICsgbWQ1O1xuICAgIC8vIHNpemUgaXMgZm9yIGJsb2JzIChicm93c2VyKSwgbGVuZ3RoIGlzIGZvciBidWZmZXJzIChub2RlKVxuICAgIGF0dC5sZW5ndGggPSBhdHQuZGF0YS5zaXplIHx8IGF0dC5kYXRhLmxlbmd0aCB8fCAwO1xuICAgIGlmIChibG9iVHlwZSA9PT0gJ2JpbmFyeScpIHtcbiAgICAgIGJsb2JUb0JpbmFyeVN0cmluZyhhdHQuZGF0YSwgZnVuY3Rpb24gKGJpblN0cmluZykge1xuICAgICAgICBhdHQuZGF0YSA9IGJpblN0cmluZztcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYmxvYlR5cGUgPT09ICdiYXNlNjQnKSB7XG4gICAgICBibG9iVG9CYXNlNjQoYXR0LmRhdGEsIGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0LmRhdGEgPSBiNjQ7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudChhdHQsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuICBpZiAoYXR0LnN0dWIpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgfVxuICBpZiAodHlwZW9mIGF0dC5kYXRhID09PSAnc3RyaW5nJykgeyAvLyBpbnB1dCBpcyBhIGJhc2U2NCBzdHJpbmdcbiAgICBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKTtcbiAgfSBlbHNlIHsgLy8gaW5wdXQgaXMgYSBibG9iXG4gICAgcHJlcHJvY2Vzc0Jsb2IoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50cyhkb2NJbmZvcywgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKCFkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgfVxuXG4gIHZhciBkb2N2ID0gMDtcbiAgdmFyIG92ZXJhbGxFcnI7XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jSW5mbykge1xuICAgIHZhciBhdHRhY2htZW50cyA9IGRvY0luZm8uZGF0YSAmJiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzID9cbiAgICAgIE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIDogW107XG4gICAgdmFyIHJlY3YgPSAwO1xuXG4gICAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBkb25lKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc2VkQXR0YWNobWVudChlcnIpIHtcbiAgICAgIG92ZXJhbGxFcnIgPSBlcnI7XG4gICAgICByZWN2Kys7XG4gICAgICBpZiAocmVjdiA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGRvbmUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBrZXkgaW4gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzLCBrZXkpKSB7XG4gICAgICAgIHByZXByb2Nlc3NBdHRhY2htZW50KGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNba2V5XSxcbiAgICAgICAgICBibG9iVHlwZSwgcHJvY2Vzc2VkQXR0YWNobWVudCk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIGRvY3YrKztcbiAgICBpZiAoZG9jSW5mb3MubGVuZ3RoID09PSBkb2N2KSB7XG4gICAgICBpZiAob3ZlcmFsbEVycikge1xuICAgICAgICBjYWxsYmFjayhvdmVyYWxsRXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZURvYyhyZXZMaW1pdCwgcHJldiwgZG9jSW5mbywgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICBpLCBjYiwgd3JpdGVEb2MsIG5ld0VkaXRzKSB7XG5cbiAgaWYgKHJldkV4aXN0cyhwcmV2LnJldl90cmVlLCBkb2NJbmZvLm1ldGFkYXRhLnJldikgJiYgIW5ld0VkaXRzKSB7XG4gICAgcmVzdWx0c1tpXSA9IGRvY0luZm87XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICAvLyBzb21ldGltZXMgdGhpcyBpcyBwcmUtY2FsY3VsYXRlZC4gaGlzdG9yaWNhbGx5IG5vdCBhbHdheXNcbiAgdmFyIHByZXZpb3VzV2lubmluZ1JldiA9IHByZXYud2lubmluZ1JldiB8fCB3aW5uaW5nUmV2KHByZXYpO1xuICB2YXIgcHJldmlvdXNseURlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gcHJldiA/IHByZXYuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKHByZXYsIHByZXZpb3VzV2lubmluZ1Jldik7XG4gIHZhciBkZWxldGVkID0gJ2RlbGV0ZWQnIGluIGRvY0luZm8ubWV0YWRhdGEgPyBkb2NJbmZvLm1ldGFkYXRhLmRlbGV0ZWQgOlxuICAgIGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIGlzUm9vdCA9IC9eMS0vLnRlc3QoZG9jSW5mby5tZXRhZGF0YS5yZXYpO1xuXG4gIGlmIChwcmV2aW91c2x5RGVsZXRlZCAmJiAhZGVsZXRlZCAmJiBuZXdFZGl0cyAmJiBpc1Jvb3QpIHtcbiAgICB2YXIgbmV3RG9jID0gZG9jSW5mby5kYXRhO1xuICAgIG5ld0RvYy5fcmV2ID0gcHJldmlvdXNXaW5uaW5nUmV2O1xuICAgIG5ld0RvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvY0luZm8gPSBwYXJzZURvYyhuZXdEb2MsIG5ld0VkaXRzKTtcbiAgfVxuXG4gIHZhciBtZXJnZWQgPSBtZXJnZShwcmV2LnJldl90cmVlLCBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLCByZXZMaW1pdCk7XG5cbiAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiAoKFxuICAgIChwcmV2aW91c2x5RGVsZXRlZCAmJiBkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKCFwcmV2aW91c2x5RGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzICE9PSAnbmV3X2xlYWYnKSB8fFxuICAgIChwcmV2aW91c2x5RGVsZXRlZCAmJiAhZGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzID09PSAnbmV3X2JyYW5jaCcpKSk7XG5cbiAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICByZXN1bHRzW2ldID0gZXJyO1xuICAgIHJldHVybiBjYigpO1xuICB9XG5cbiAgdmFyIG5ld1JldiA9IGRvY0luZm8ubWV0YWRhdGEucmV2O1xuICBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gIGRvY0luZm8uc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChwcmV2LnJldl9tYXApIHtcbiAgICBkb2NJbmZvLm1ldGFkYXRhLnJldl9tYXAgPSBwcmV2LnJldl9tYXA7IC8vIHVzZWQgb25seSBieSBsZXZlbGRiXG4gIH1cblxuICAvLyByZWNhbGN1bGF0ZVxuICB2YXIgd2lubmluZ1JldiQkMSA9IHdpbm5pbmdSZXYoZG9jSW5mby5tZXRhZGF0YSk7XG4gIHZhciB3aW5uaW5nUmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuXG4gIC8vIGNhbGN1bGF0ZSB0aGUgdG90YWwgbnVtYmVyIG9mIGRvY3VtZW50cyB0aGF0IHdlcmUgYWRkZWQvcmVtb3ZlZCxcbiAgLy8gZnJvbSB0aGUgcGVyc3BlY3RpdmUgb2YgdG90YWxfcm93cy9kb2NfY291bnRcbiAgdmFyIGRlbHRhID0gKHByZXZpb3VzbHlEZWxldGVkID09PSB3aW5uaW5nUmV2SXNEZWxldGVkKSA/IDAgOlxuICAgIHByZXZpb3VzbHlEZWxldGVkIDwgd2lubmluZ1JldklzRGVsZXRlZCA/IC0xIDogMTtcblxuICB2YXIgbmV3UmV2SXNEZWxldGVkO1xuICBpZiAobmV3UmV2ID09PSB3aW5uaW5nUmV2JCQxKSB7XG4gICAgLy8gaWYgdGhlIG5ldyByZXYgaXMgdGhlIHNhbWUgYXMgdGhlIHdpbm5pbmcgcmV2LCB3ZSBjYW4gcmV1c2UgdGhhdCB2YWx1ZVxuICAgIG5ld1JldklzRGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG4gIH0gZWxzZSB7XG4gICAgLy8gaWYgdGhleSdyZSBub3QgdGhlIHNhbWUsIHRoZW4gd2UgbmVlZCB0byByZWNhbGN1bGF0ZVxuICAgIG5ld1JldklzRGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCBuZXdSZXYpO1xuICB9XG5cbiAgd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgIHRydWUsIGRlbHRhLCBpLCBjYik7XG59XG5cbmZ1bmN0aW9uIHJvb3RJc01pc3NpbmcoZG9jSW5mbykge1xuICByZXR1cm4gZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZVswXS5pZHNbMV0uc3RhdHVzID09PSAnbWlzc2luZyc7XG59XG5cbmZ1bmN0aW9uIHByb2Nlc3NEb2NzKHJldkxpbWl0LCBkb2NJbmZvcywgYXBpLCBmZXRjaGVkRG9jcywgdHgsIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgICB3cml0ZURvYywgb3B0cywgb3ZlcmFsbENhbGxiYWNrKSB7XG5cbiAgLy8gRGVmYXVsdCB0byAxMDAwIGxvY2FsbHlcbiAgcmV2TGltaXQgPSByZXZMaW1pdCB8fCAxMDAwO1xuXG4gIGZ1bmN0aW9uIGluc2VydERvYyhkb2NJbmZvLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuICAgIC8vIENhbnQgaW5zZXJ0IG5ldyBkZWxldGVkIGRvY3VtZW50c1xuICAgIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxKTtcbiAgICBpZiAoJ3dhc19kZWxldGUnIGluIG9wdHMgJiYgZGVsZXRlZCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnZGVsZXRlZCcpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgLy8gNDcxMiAtIGRldGVjdCB3aGV0aGVyIGEgbmV3IGRvY3VtZW50IHdhcyBpbnNlcnRlZCB3aXRoIGEgX3JldlxuICAgIHZhciBpbkNvbmZsaWN0ID0gbmV3RWRpdHMgJiYgcm9vdElzTWlzc2luZyhkb2NJbmZvKTtcblxuICAgIGlmIChpbkNvbmZsaWN0KSB7XG4gICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKTtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnI7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICB2YXIgZGVsdGEgPSBkZWxldGVkID8gMCA6IDE7XG5cbiAgICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCBkZWxldGVkLCBkZWxldGVkLCBmYWxzZSxcbiAgICAgIGRlbHRhLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gIH1cblxuICB2YXIgbmV3RWRpdHMgPSBvcHRzLm5ld19lZGl0cztcbiAgdmFyIGlkc1RvRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIHZhciBkb2NzRG9uZSA9IDA7XG4gIHZhciBkb2NzVG9EbyA9IGRvY0luZm9zLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0FsbERvY3NEb25lKCkge1xuICAgIGlmICgrK2RvY3NEb25lID09PSBkb2NzVG9EbyAmJiBvdmVyYWxsQ2FsbGJhY2spIHtcbiAgICAgIG92ZXJhbGxDYWxsYmFjaygpO1xuICAgIH1cbiAgfVxuXG4gIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGN1cnJlbnREb2MsIHJlc3VsdHNJZHgpIHtcblxuICAgIGlmIChjdXJyZW50RG9jLl9pZCAmJiBpc0xvY2FsSWQoY3VycmVudERvYy5faWQpKSB7XG4gICAgICB2YXIgZnVuID0gY3VycmVudERvYy5fZGVsZXRlZCA/ICdfcmVtb3ZlTG9jYWwnIDogJ19wdXRMb2NhbCc7XG4gICAgICBhcGlbZnVuXShjdXJyZW50RG9jLCB7Y3R4OiB0eH0sIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gZXJyIHx8IHJlcztcbiAgICAgICAgY2hlY2tBbGxEb2NzRG9uZSgpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIGlkID0gY3VycmVudERvYy5tZXRhZGF0YS5pZDtcbiAgICBpZiAoaWRzVG9Eb2NzLmhhcyhpZCkpIHtcbiAgICAgIGRvY3NUb0RvLS07IC8vIGR1cGxpY2F0ZVxuICAgICAgaWRzVG9Eb2NzLmdldChpZCkucHVzaChbY3VycmVudERvYywgcmVzdWx0c0lkeF0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZHNUb0RvY3Muc2V0KGlkLCBbW2N1cnJlbnREb2MsIHJlc3VsdHNJZHhdXSk7XG4gICAgfVxuICB9KTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBuZXdfZWRpdHMsIHRoZSB1c2VyIGNhbiBwcm92aWRlIG11bHRpcGxlIGRvY3NcbiAgLy8gd2l0aCB0aGUgc2FtZSBpZC4gdGhlc2UgbmVlZCB0byBiZSBwcm9jZXNzZWQgc2VxdWVudGlhbGx5XG4gIGlkc1RvRG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NzLCBpZCkge1xuICAgIHZhciBudW1Eb25lID0gMDtcblxuICAgIGZ1bmN0aW9uIGRvY1dyaXR0ZW4oKSB7XG4gICAgICBpZiAoKytudW1Eb25lIDwgZG9jcy5sZW5ndGgpIHtcbiAgICAgICAgbmV4dERvYygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2tBbGxEb2NzRG9uZSgpO1xuICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBuZXh0RG9jKCkge1xuICAgICAgdmFyIHZhbHVlID0gZG9jc1tudW1Eb25lXTtcbiAgICAgIHZhciBjdXJyZW50RG9jID0gdmFsdWVbMF07XG4gICAgICB2YXIgcmVzdWx0c0lkeCA9IHZhbHVlWzFdO1xuXG4gICAgICBpZiAoZmV0Y2hlZERvY3MuaGFzKGlkKSkge1xuICAgICAgICB1cGRhdGVEb2MocmV2TGltaXQsIGZldGNoZWREb2NzLmdldChpZCksIGN1cnJlbnREb2MsIHJlc3VsdHMsXG4gICAgICAgICAgcmVzdWx0c0lkeCwgZG9jV3JpdHRlbiwgd3JpdGVEb2MsIG5ld0VkaXRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIEVuc3VyZSBzdGVtbWluZyBhcHBsaWVzIHRvIG5ldyB3cml0ZXMgYXMgd2VsbFxuICAgICAgICB2YXIgbWVyZ2VkID0gbWVyZ2UoW10sIGN1cnJlbnREb2MubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcbiAgICAgICAgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZSA9IG1lcmdlZC50cmVlO1xuICAgICAgICBjdXJyZW50RG9jLnN0ZW1tZWRSZXZzID0gbWVyZ2VkLnN0ZW1tZWRSZXZzIHx8IFtdO1xuICAgICAgICBpbnNlcnREb2MoY3VycmVudERvYywgcmVzdWx0c0lkeCwgZG9jV3JpdHRlbik7XG4gICAgICB9XG4gICAgfVxuICAgIG5leHREb2MoKTtcbiAgfSk7XG59XG5cbi8vIEluZGV4ZWREQiByZXF1aXJlcyBhIHZlcnNpb25lZCBkYXRhYmFzZSBzdHJ1Y3R1cmUsIHNvIHdlIHVzZSB0aGVcbi8vIHZlcnNpb24gaGVyZSB0byBtYW5hZ2UgbWlncmF0aW9ucy5cbnZhciBBREFQVEVSX1ZFUlNJT04gPSA1O1xuXG4vLyBUaGUgb2JqZWN0IHN0b3JlcyBjcmVhdGVkIGZvciBlYWNoIGRhdGFiYXNlXG4vLyBET0NfU1RPUkUgc3RvcmVzIHRoZSBkb2N1bWVudCBtZXRhIGRhdGEsIGl0cyByZXZpc2lvbiBoaXN0b3J5IGFuZCBzdGF0ZVxuLy8gS2V5ZWQgYnkgZG9jdW1lbnQgaWRcbnZhciBET0NfU1RPUkUgPSAnZG9jdW1lbnQtc3RvcmUnO1xuLy8gQllfU0VRX1NUT1JFIHN0b3JlcyBhIHBhcnRpY3VsYXIgdmVyc2lvbiBvZiBhIGRvY3VtZW50LCBrZXllZCBieSBpdHNcbi8vIHNlcXVlbmNlIGlkXG52YXIgQllfU0VRX1NUT1JFID0gJ2J5LXNlcXVlbmNlJztcbi8vIFdoZXJlIHdlIHN0b3JlIGF0dGFjaG1lbnRzXG52YXIgQVRUQUNIX1NUT1JFID0gJ2F0dGFjaC1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBtYW55LXRvLW1hbnkgcmVsYXRpb25zXG4vLyBiZXR3ZWVuIGF0dGFjaG1lbnQgZGlnZXN0cyBhbmQgc2Vxc1xudmFyIEFUVEFDSF9BTkRfU0VRX1NUT1JFID0gJ2F0dGFjaC1zZXEtc3RvcmUnO1xuXG4vLyBXaGVyZSB3ZSBzdG9yZSBkYXRhYmFzZS13aWRlIG1ldGEgZGF0YSBpbiBhIHNpbmdsZSByZWNvcmRcbi8vIGtleWVkIGJ5IGlkOiBNRVRBX1NUT1JFXG52YXIgTUVUQV9TVE9SRSA9ICdtZXRhLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIGxvY2FsIGRvY3VtZW50c1xudmFyIExPQ0FMX1NUT1JFID0gJ2xvY2FsLXN0b3JlJztcbi8vIFdoZXJlIHdlIGRldGVjdCBibG9iIHN1cHBvcnRcbnZhciBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFID0gJ2RldGVjdC1ibG9iLXN1cHBvcnQnO1xuXG5mdW5jdGlvbiBzYWZlSnNvblBhcnNlKHN0cikge1xuICAvLyBUaGlzIHRyeS9jYXRjaCBndWFyZHMgYWdhaW5zdCBzdGFjayBvdmVyZmxvdyBlcnJvcnMuXG4gIC8vIEpTT04ucGFyc2UoKSBpcyBmYXN0ZXIgdGhhbiB2dXZ1emVsYS5wYXJzZSgpIGJ1dCB2dXZ1emVsYVxuICAvLyBjYW5ub3Qgb3ZlcmZsb3cuXG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04ucGFyc2Uoc3RyKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHZ1dnV6ZWxhLnBhcnNlKHN0cik7XG4gIH1cbn1cblxuZnVuY3Rpb24gc2FmZUpzb25TdHJpbmdpZnkoanNvbikge1xuICB0cnkge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShqc29uKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIHZ1dnV6ZWxhLnN0cmluZ2lmeShqc29uKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpZGJFcnJvcihjYWxsYmFjaykge1xuICByZXR1cm4gZnVuY3Rpb24gKGV2dCkge1xuICAgIHZhciBtZXNzYWdlID0gJ3Vua25vd25fZXJyb3InO1xuICAgIGlmIChldnQudGFyZ2V0ICYmIGV2dC50YXJnZXQuZXJyb3IpIHtcbiAgICAgIG1lc3NhZ2UgPSBldnQudGFyZ2V0LmVycm9yLm5hbWUgfHwgZXZ0LnRhcmdldC5lcnJvci5tZXNzYWdlO1xuICAgIH1cbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1lc3NhZ2UsIGV2dC50eXBlKSk7XG4gIH07XG59XG5cbi8vIFVuZm9ydHVuYXRlbHksIHRoZSBtZXRhZGF0YSBoYXMgdG8gYmUgc3RyaW5naWZpZWRcbi8vIHdoZW4gaXQgaXMgcHV0IGludG8gdGhlIGRhdGFiYXNlLCBiZWNhdXNlIG90aGVyd2lzZVxuLy8gSW5kZXhlZERCIGNhbiB0aHJvdyBlcnJvcnMgZm9yIGRlZXBseS1uZXN0ZWQgb2JqZWN0cy5cbi8vIE9yaWdpbmFsbHkgd2UganVzdCB1c2VkIEpTT04ucGFyc2UvSlNPTi5zdHJpbmdpZnk7IG5vd1xuLy8gd2UgdXNlIHRoaXMgY3VzdG9tIHZ1dnV6ZWxhIGxpYnJhcnkgdGhhdCBhdm9pZHMgcmVjdXJzaW9uLlxuLy8gSWYgd2UgY291bGQgZG8gaXQgYWxsIG92ZXIgYWdhaW4sIHdlJ2QgcHJvYmFibHkgdXNlIGFcbi8vIGZvcm1hdCBmb3IgdGhlIHJldmlzaW9uIHRyZWVzIG90aGVyIHRoYW4gSlNPTi5cbmZ1bmN0aW9uIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2LCBkZWxldGVkKSB7XG4gIHJldHVybiB7XG4gICAgZGF0YTogc2FmZUpzb25TdHJpbmdpZnkobWV0YWRhdGEpLFxuICAgIHdpbm5pbmdSZXY6IHdpbm5pbmdSZXYsXG4gICAgZGVsZXRlZE9yTG9jYWw6IGRlbGV0ZWQgPyAnMScgOiAnMCcsXG4gICAgc2VxOiBtZXRhZGF0YS5zZXEsIC8vIGhpZ2hlc3Qgc2VxIGZvciB0aGlzIGRvY1xuICAgIGlkOiBtZXRhZGF0YS5pZFxuICB9O1xufVxuXG5mdW5jdGlvbiBkZWNvZGVNZXRhZGF0YShzdG9yZWRPYmplY3QpIHtcbiAgaWYgKCFzdG9yZWRPYmplY3QpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgbWV0YWRhdGEgPSBzYWZlSnNvblBhcnNlKHN0b3JlZE9iamVjdC5kYXRhKTtcbiAgbWV0YWRhdGEud2lubmluZ1JldiA9IHN0b3JlZE9iamVjdC53aW5uaW5nUmV2O1xuICBtZXRhZGF0YS5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gIG1ldGFkYXRhLnNlcSA9IHN0b3JlZE9iamVjdC5zZXE7XG4gIHJldHVybiBtZXRhZGF0YTtcbn1cblxuLy8gcmVhZCB0aGUgZG9jIGJhY2sgb3V0IGZyb20gdGhlIGRhdGFiYXNlLiB3ZSBkb24ndCBzdG9yZSB0aGVcbi8vIF9pZCBvciBfcmV2IGJlY2F1c2Ugd2UgYWxyZWFkeSBoYXZlIF9kb2NfaWRfcmV2LlxuZnVuY3Rpb24gZGVjb2RlRG9jKGRvYykge1xuICBpZiAoIWRvYykge1xuICAgIHJldHVybiBkb2M7XG4gIH1cbiAgdmFyIGlkeCA9IGRvYy5fZG9jX2lkX3Jldi5sYXN0SW5kZXhPZignOicpO1xuICBkb2MuX2lkID0gZG9jLl9kb2NfaWRfcmV2LnN1YnN0cmluZygwLCBpZHggLSAxKTtcbiAgZG9jLl9yZXYgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKGlkeCArIDEpO1xuICBkZWxldGUgZG9jLl9kb2NfaWRfcmV2O1xuICByZXR1cm4gZG9jO1xufVxuXG4vLyBSZWFkIGEgYmxvYiBmcm9tIHRoZSBkYXRhYmFzZSwgZW5jb2RpbmcgYXMgbmVjZXNzYXJ5XG4vLyBhbmQgdHJhbnNsYXRpbmcgZnJvbSBiYXNlNjQgaWYgdGhlIElEQiBkb2Vzbid0IHN1cHBvcnRcbi8vIG5hdGl2ZSBCbG9ic1xuZnVuY3Rpb24gcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgY2FsbGJhY2spIHtcbiAgaWYgKGFzQmxvYikge1xuICAgIGlmICghYm9keSkge1xuICAgICAgY2FsbGJhY2soY3JlYXRlQmxvYihbJyddLCB7dHlwZTogdHlwZX0pKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ICE9PSAnc3RyaW5nJykgeyAvLyB3ZSBoYXZlIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYm9keSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhiNjRUb0JsdWZmZXIoYm9keSwgdHlwZSkpO1xuICAgIH1cbiAgfSBlbHNlIHsgLy8gYXMgYmFzZTY0IHN0cmluZ1xuICAgIGlmICghYm9keSkge1xuICAgICAgY2FsbGJhY2soJycpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICByZWFkQXNCaW5hcnlTdHJpbmcoYm9keSwgZnVuY3Rpb24gKGJpbmFyeSkge1xuICAgICAgICBjYWxsYmFjayh0aGlzQnRvYShiaW5hcnkpKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7IC8vIG5vIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYm9keSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeShkb2MsIG9wdHMsIHR4biwgY2IpIHtcbiAgdmFyIGF0dGFjaG1lbnRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyB8fCB7fSk7XG4gIGlmICghYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNiICYmIGNiKCk7XG4gIH1cbiAgdmFyIG51bURvbmUgPSAwO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBhdHRhY2htZW50cy5sZW5ndGggJiYgY2IpIHtcbiAgICAgIGNiKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50KGRvYywgYXR0KSB7XG4gICAgdmFyIGF0dE9iaiA9IGRvYy5fYXR0YWNobWVudHNbYXR0XTtcbiAgICB2YXIgZGlnZXN0ID0gYXR0T2JqLmRpZ2VzdDtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBhdHRPYmouYm9keSA9IGUudGFyZ2V0LnJlc3VsdC5ib2R5O1xuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfTtcbiAgfVxuXG4gIGF0dGFjaG1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGF0dCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dF0uc3R1YiA9IHRydWU7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBJREItc3BlY2lmaWMgcG9zdHByb2Nlc3NpbmcgbmVjZXNzYXJ5IGJlY2F1c2Vcbi8vIHdlIGRvbid0IGtub3cgd2hldGhlciB3ZSBzdG9yZWQgYSB0cnVlIEJsb2Igb3Jcbi8vIGEgYmFzZTY0LWVuY29kZWQgc3RyaW5nLCBhbmQgaWYgaXQncyBhIEJsb2IgaXRcbi8vIG5lZWRzIHRvIGJlIHJlYWQgb3V0c2lkZSBvZiB0aGUgdHJhbnNhY3Rpb24gY29udGV4dFxuZnVuY3Rpb24gcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzLCBhc0Jsb2IpIHtcbiAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMubWFwKGZ1bmN0aW9uIChyb3cpIHtcbiAgICBpZiAocm93LmRvYyAmJiByb3cuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dE5hbWVzID0gT2JqZWN0LmtleXMocm93LmRvYy5fYXR0YWNobWVudHMpO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGF0dE5hbWVzLm1hcChmdW5jdGlvbiAoYXR0KSB7XG4gICAgICAgIHZhciBhdHRPYmogPSByb3cuZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgICAgICBpZiAoISgnYm9keScgaW4gYXR0T2JqKSkgeyAvLyBhbHJlYWR5IHByb2Nlc3NlZFxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YXIgYm9keSA9IGF0dE9iai5ib2R5O1xuICAgICAgICB2YXIgdHlwZSA9IGF0dE9iai5jb250ZW50X3R5cGU7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBhc0Jsb2IsIGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICByb3cuZG9jLl9hdHRhY2htZW50c1thdHRdID0gJGluamVjdF9PYmplY3RfYXNzaWduKFxuICAgICAgICAgICAgICBwaWNrKGF0dE9iaiwgWydkaWdlc3QnLCAnY29udGVudF90eXBlJ10pLFxuICAgICAgICAgICAgICB7ZGF0YTogZGF0YX1cbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSkpO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKSB7XG5cbiAgdmFyIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzID0gW107XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgdmFyIGF0dEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcbiAgdmFyIGNvdW50ID0gcmV2cy5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGNvdW50LS07XG4gICAgaWYgKCFjb3VudCkgeyAvLyBkb25lIHByb2Nlc3NpbmcgYWxsIHJldnNcbiAgICAgIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzKCkge1xuICAgIGlmICghcG9zc2libHlPcnBoYW5lZERpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLmZvckVhY2goZnVuY3Rpb24gKGRpZ2VzdCkge1xuICAgICAgdmFyIGNvdW50UmVxID0gYXR0QW5kU2VxU3RvcmUuaW5kZXgoJ2RpZ2VzdFNlcScpLmNvdW50KFxuICAgICAgICBJREJLZXlSYW5nZS5ib3VuZChcbiAgICAgICAgICBkaWdlc3QgKyAnOjonLCBkaWdlc3QgKyAnOjpcXHVmZmZmJywgZmFsc2UsIGZhbHNlKSk7XG4gICAgICBjb3VudFJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICAvLyBvcnBoYW5lZFxuICAgICAgICAgIGF0dFN0b3JlLmRlbGV0ZShkaWdlc3QpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0pO1xuICB9XG5cbiAgcmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICB2YXIgaW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICB2YXIga2V5ID0gZG9jSWQgKyBcIjo6XCIgKyByZXY7XG4gICAgaW5kZXguZ2V0S2V5KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBzZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAodHlwZW9mIHNlcSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrRG9uZSgpO1xuICAgICAgfVxuICAgICAgc2VxU3RvcmUuZGVsZXRlKHNlcSk7XG5cbiAgICAgIHZhciBjdXJzb3IgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnc2VxJylcbiAgICAgICAgLm9wZW5DdXJzb3IoSURCS2V5UmFuZ2Uub25seShzZXEpKTtcblxuICAgICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICAgIHZhciBkaWdlc3QgPSBjdXJzb3IudmFsdWUuZGlnZXN0U2VxLnNwbGl0KCc6OicpWzBdO1xuICAgICAgICAgIHBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLnB1c2goZGlnZXN0KTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9IGVsc2UgeyAvLyBkb25lXG4gICAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgbW9kZSkge1xuICB0cnkge1xuICAgIHJldHVybiB7XG4gICAgICB0eG46IGlkYi50cmFuc2FjdGlvbihzdG9yZXMsIG1vZGUpXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGVycm9yOiBlcnJcbiAgICB9O1xuICB9XG59XG5cbnZhciBjaGFuZ2VzSGFuZGxlciA9IG5ldyBDaGFuZ2VzKCk7XG5cbmZ1bmN0aW9uIGlkYkJ1bGtEb2NzKGRiT3B0cywgcmVxLCBvcHRzLCBhcGksIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIGRvY0luZm9zID0gcmVxLmRvY3M7XG4gIHZhciB0eG47XG4gIHZhciBkb2NTdG9yZTtcbiAgdmFyIGJ5U2VxU3RvcmU7XG4gIHZhciBhdHRhY2hTdG9yZTtcbiAgdmFyIGF0dGFjaEFuZFNlcVN0b3JlO1xuICB2YXIgbWV0YVN0b3JlO1xuICB2YXIgZG9jSW5mb0Vycm9yO1xuICB2YXIgbWV0YURvYztcblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZG9jSW5mb3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgZG9jID0gZG9jSW5mb3NbaV07XG4gICAgaWYgKGRvYy5faWQgJiYgaXNMb2NhbElkKGRvYy5faWQpKSB7XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgZG9jID0gZG9jSW5mb3NbaV0gPSBwYXJzZURvYyhkb2MsIG9wdHMubmV3X2VkaXRzLCBkYk9wdHMpO1xuICAgIGlmIChkb2MuZXJyb3IgJiYgIWRvY0luZm9FcnJvcikge1xuICAgICAgZG9jSW5mb0Vycm9yID0gZG9jO1xuICAgIH1cbiAgfVxuXG4gIGlmIChkb2NJbmZvRXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soZG9jSW5mb0Vycm9yKTtcbiAgfVxuXG4gIHZhciBhbGxEb2NzUHJvY2Vzc2VkID0gZmFsc2U7XG4gIHZhciBkb2NDb3VudERlbHRhID0gMDtcbiAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkoZG9jSW5mb3MubGVuZ3RoKTtcbiAgdmFyIGZldGNoZWREb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gIHZhciBwcmVjb25kaXRpb25FcnJvcmVkID0gZmFsc2U7XG4gIHZhciBibG9iVHlwZSA9IGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdibG9iJyA6ICdiYXNlNjQnO1xuXG4gIHByZXByb2Nlc3NBdHRhY2htZW50cyhkb2NJbmZvcywgYmxvYlR5cGUsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgc3RhcnRUcmFuc2FjdGlvbigpO1xuICB9KTtcblxuICBmdW5jdGlvbiBzdGFydFRyYW5zYWN0aW9uKCkge1xuXG4gICAgdmFyIHN0b3JlcyA9IFtcbiAgICAgIERPQ19TVE9SRSwgQllfU0VRX1NUT1JFLFxuICAgICAgQVRUQUNIX1NUT1JFLFxuICAgICAgTE9DQUxfU1RPUkUsIEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAgTUVUQV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbnRpbWVvdXQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9uY29tcGxldGUgPSBjb21wbGV0ZTtcbiAgICBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICBhdHRhY2hTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICAgIGF0dGFjaEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcbiAgICBtZXRhU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSk7XG5cbiAgICBtZXRhU3RvcmUuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIHZlcmlmeUF0dGFjaG1lbnRzKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcHJlY29uZGl0aW9uRXJyb3JlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgZmV0Y2hFeGlzdGluZ0RvY3MoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQWxsRG9jc1Byb2Nlc3NlZCgpIHtcbiAgICBhbGxEb2NzUHJvY2Vzc2VkID0gdHJ1ZTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGlkYlByb2Nlc3NEb2NzKCkge1xuICAgIHByb2Nlc3NEb2NzKGRiT3B0cy5yZXZzX2xpbWl0LCBkb2NJbmZvcywgYXBpLCBmZXRjaGVkRG9jcyxcbiAgICAgICAgICAgICAgICB0eG4sIHJlc3VsdHMsIHdyaXRlRG9jLCBvcHRzLCBvbkFsbERvY3NQcm9jZXNzZWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlRG9jQ291bnRJZlJlYWR5KCkge1xuICAgIGlmICghbWV0YURvYyB8fCAhYWxsRG9jc1Byb2Nlc3NlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvLyBjYWNoaW5nIHRoZSBkb2NDb3VudCBzYXZlcyBhIGxvdCBvZiB0aW1lIGluIGFsbERvY3MoKSBhbmRcbiAgICAvLyBpbmZvKCksIHdoaWNoIGlzIHdoeSB3ZSBnbyB0byBhbGwgdGhlIHRyb3VibGUgb2YgZG9pbmcgdGhpc1xuICAgIG1ldGFEb2MuZG9jQ291bnQgKz0gZG9jQ291bnREZWx0YTtcbiAgICBtZXRhU3RvcmUucHV0KG1ldGFEb2MpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hFeGlzdGluZ0RvY3MoKSB7XG5cbiAgICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBudW1GZXRjaGVkID0gMDtcblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK251bUZldGNoZWQgPT09IGRvY0luZm9zLmxlbmd0aCkge1xuICAgICAgICBpZGJQcm9jZXNzRG9jcygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlYWRNZXRhZGF0YShldmVudCkge1xuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG5cbiAgICAgIGlmIChtZXRhZGF0YSkge1xuICAgICAgICBmZXRjaGVkRG9jcy5zZXQobWV0YWRhdGEuaWQsIG1ldGFkYXRhKTtcbiAgICAgIH1cbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cblxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGRvY0luZm8gPSBkb2NJbmZvc1tpXTtcbiAgICAgIGlmIChkb2NJbmZvLl9pZCAmJiBpc0xvY2FsSWQoZG9jSW5mby5faWQpKSB7XG4gICAgICAgIGNoZWNrRG9uZSgpOyAvLyBza2lwIGxvY2FsIGRvY3NcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgcmVxID0gZG9jU3RvcmUuZ2V0KGRvY0luZm8ubWV0YWRhdGEuaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IHJlYWRNZXRhZGF0YTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb21wbGV0ZSgpIHtcbiAgICBpZiAocHJlY29uZGl0aW9uRXJyb3JlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIGNoYW5nZXNIYW5kbGVyLm5vdGlmeShhcGkuX21ldGEubmFtZSk7XG4gICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cyk7XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnlBdHRhY2htZW50KGRpZ2VzdCwgY2FsbGJhY2spIHtcblxuICAgIHZhciByZXEgPSBhdHRhY2hTdG9yZS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGlmICghZS50YXJnZXQucmVzdWx0KSB7XG4gICAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX1NUVUIsXG4gICAgICAgICAgJ3Vua25vd24gc3R1YiBhdHRhY2htZW50IHdpdGggZGlnZXN0ICcgK1xuICAgICAgICAgIGRpZ2VzdCk7XG4gICAgICAgIGVyci5zdGF0dXMgPSA0MTI7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiB2ZXJpZnlBdHRhY2htZW50cyhmaW5pc2gpIHtcblxuXG4gICAgdmFyIGRpZ2VzdHMgPSBbXTtcbiAgICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgICBpZiAoZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1tmaWxlbmFtZV07XG4gICAgICAgICAgaWYgKGF0dC5zdHViKSB7XG4gICAgICAgICAgICBkaWdlc3RzLnB1c2goYXR0LmRpZ2VzdCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWRpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgfVxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICB2YXIgZXJyO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgICAgZmluaXNoKGVycik7XG4gICAgICB9XG4gICAgfVxuICAgIGRpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2ZXJpZnlBdHRhY2htZW50KGRpZ2VzdCwgZnVuY3Rpb24gKGF0dEVycikge1xuICAgICAgICBpZiAoYXR0RXJyICYmICFlcnIpIHtcbiAgICAgICAgICBlcnIgPSBhdHRFcnI7XG4gICAgICAgIH1cbiAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsIG5ld1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIGRlbHRhLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG4gICAgZG9jSW5mby5tZXRhZGF0YS53aW5uaW5nUmV2ID0gd2lubmluZ1JldiQkMTtcbiAgICBkb2NJbmZvLm1ldGFkYXRhLmRlbGV0ZWQgPSB3aW5uaW5nUmV2SXNEZWxldGVkO1xuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcbiAgICBkb2MuX2lkID0gZG9jSW5mby5tZXRhZGF0YS5pZDtcbiAgICBkb2MuX3JldiA9IGRvY0luZm8ubWV0YWRhdGEucmV2O1xuXG4gICAgaWYgKG5ld1JldklzRGVsZXRlZCkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICB2YXIgaGFzQXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzICYmXG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgaWYgKGhhc0F0dGFjaG1lbnRzKSB7XG4gICAgICByZXR1cm4gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIGRvY0NvdW50RGVsdGEgKz0gZGVsdGE7XG4gICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG5cbiAgICBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcbiAgICB2YXIgbWV0YWRhdGEgPSBkb2NJbmZvLm1ldGFkYXRhO1xuXG4gICAgZG9jLl9kb2NfaWRfcmV2ID0gbWV0YWRhdGEuaWQgKyAnOjonICsgbWV0YWRhdGEucmV2O1xuICAgIGRlbGV0ZSBkb2MuX2lkO1xuICAgIGRlbGV0ZSBkb2MuX3JldjtcblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0RG9jKGUpIHtcbiAgICAgIHZhciByZXZzVG9EZWxldGUgPSBkb2NJbmZvLnN0ZW1tZWRSZXZzIHx8IFtdO1xuXG4gICAgICBpZiAoaXNVcGRhdGUgJiYgYXBpLmF1dG9fY29tcGFjdGlvbikge1xuICAgICAgICByZXZzVG9EZWxldGUgPSByZXZzVG9EZWxldGUuY29uY2F0KGNvbXBhY3RUcmVlKGRvY0luZm8ubWV0YWRhdGEpKTtcbiAgICAgIH1cblxuICAgICAgaWYgKHJldnNUb0RlbGV0ZSAmJiByZXZzVG9EZWxldGUubGVuZ3RoKSB7XG4gICAgICAgIGNvbXBhY3RSZXZzKHJldnNUb0RlbGV0ZSwgZG9jSW5mby5tZXRhZGF0YS5pZCwgdHhuKTtcbiAgICAgIH1cblxuICAgICAgbWV0YWRhdGEuc2VxID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgLy8gQ3VycmVudCBfcmV2IGlzIGNhbGN1bGF0ZWQgZnJvbSBfcmV2X3RyZWUgb24gcmVhZFxuICAgICAgLy8gZGVsZXRlIG1ldGFkYXRhLnJldjtcbiAgICAgIHZhciBtZXRhZGF0YVRvU3RvcmUgPSBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiQkMSxcbiAgICAgICAgd2lubmluZ1JldklzRGVsZXRlZCk7XG4gICAgICB2YXIgbWV0YURhdGFSZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgIG1ldGFEYXRhUmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0TWV0YWRhdGE7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2NFcnJvcihlKSB7XG4gICAgICAvLyBDb25zdHJhaW50RXJyb3IsIG5lZWQgdG8gdXBkYXRlLCBub3QgcHV0IChzZWUgIzE2MzggZm9yIGRldGFpbHMpXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICB2YXIgaW5kZXggPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgdmFyIGdldEtleVJlcSA9IGluZGV4LmdldEtleShkb2MuX2RvY19pZF9yZXYpO1xuICAgICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBwdXRSZXEgPSBieVNlcVN0b3JlLnB1dChkb2MsIGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dERvYztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXRNZXRhZGF0YSgpIHtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSB7XG4gICAgICAgIG9rOiB0cnVlLFxuICAgICAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgICAgIHJldjogbWV0YWRhdGEucmV2XG4gICAgICB9O1xuICAgICAgZmV0Y2hlZERvY3Muc2V0KGRvY0luZm8ubWV0YWRhdGEuaWQsIGRvY0luZm8ubWV0YWRhdGEpO1xuICAgICAgaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzKGRvY0luZm8sIG1ldGFkYXRhLnNlcSwgY2FsbGJhY2spO1xuICAgIH1cblxuICAgIHZhciBwdXRSZXEgPSBieVNlcVN0b3JlLnB1dChkb2MpO1xuXG4gICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgIHB1dFJlcS5vbmVycm9yID0gYWZ0ZXJQdXREb2NFcnJvcjtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlQXR0YWNobWVudHMoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGRvYyA9IGRvY0luZm8uZGF0YTtcblxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICAgIGZ1bmN0aW9uIGNvbGxlY3RSZXN1bHRzKCkge1xuICAgICAgaWYgKG51bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2hEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGF0dGFjaG1lbnRTYXZlZCgpIHtcbiAgICAgIG51bURvbmUrKztcbiAgICAgIGNvbGxlY3RSZXN1bHRzKCk7XG4gICAgfVxuXG4gICAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICB2YXIgYXR0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldO1xuICAgICAgaWYgKCFhdHQuc3R1Yikge1xuICAgICAgICB2YXIgZGF0YSA9IGF0dC5kYXRhO1xuICAgICAgICBkZWxldGUgYXR0LmRhdGE7XG4gICAgICAgIGF0dC5yZXZwb3MgPSBwYXJzZUludCh3aW5uaW5nUmV2JCQxLCAxMCk7XG4gICAgICAgIHZhciBkaWdlc3QgPSBhdHQuZGlnZXN0O1xuICAgICAgICBzYXZlQXR0YWNobWVudChkaWdlc3QsIGRhdGEsIGF0dGFjaG1lbnRTYXZlZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Eb25lKys7XG4gICAgICAgIGNvbGxlY3RSZXN1bHRzKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvLyBtYXAgc2VxcyB0byBhdHRhY2htZW50IGRpZ2VzdHMsIHdoaWNoXG4gIC8vIHdlIHdpbGwgbmVlZCBsYXRlciBkdXJpbmcgY29tcGFjdGlvblxuICBmdW5jdGlvbiBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgc2VxLCBjYWxsYmFjaykge1xuXG4gICAgdmFyIGF0dHNBZGRlZCA9IDA7XG4gICAgdmFyIGF0dHNUb0FkZCA9IE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgfHwge30pO1xuXG4gICAgaWYgKCFhdHRzVG9BZGQubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKythdHRzQWRkZWQgPT09IGF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZGQoYXR0KSB7XG4gICAgICB2YXIgZGlnZXN0ID0gZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1thdHRdLmRpZ2VzdDtcbiAgICAgIHZhciByZXEgPSBhdHRhY2hBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICBzZXE6IHNlcSxcbiAgICAgICAgZGlnZXN0U2VxOiBkaWdlc3QgKyAnOjonICsgc2VxXG4gICAgICB9KTtcblxuICAgICAgcmVxLm9uc3VjY2VzcyA9IGNoZWNrRG9uZTtcbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gdGhpcyBjYWxsYmFjayBpcyBmb3IgYSBjb25zdGFpbnQgZXJyb3IsIHdoaWNoIHdlIGlnbm9yZVxuICAgICAgICAvLyBiZWNhdXNlIHRoaXMgZG9jaWQvcmV2IGhhcyBhbHJlYWR5IGJlZW4gYXNzb2NpYXRlZCB3aXRoXG4gICAgICAgIC8vIHRoZSBkaWdlc3QgKGUuZy4gd2hlbiBuZXdfZWRpdHMgPT0gZmFsc2UpXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH07XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXR0c1RvQWRkLmxlbmd0aDsgaSsrKSB7XG4gICAgICBhZGQoYXR0c1RvQWRkW2ldKTsgLy8gZG8gaW4gcGFyYWxsZWxcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzYXZlQXR0YWNobWVudChkaWdlc3QsIGRhdGEsIGNhbGxiYWNrKSB7XG5cblxuICAgIHZhciBnZXRLZXlSZXEgPSBhdHRhY2hTdG9yZS5jb3VudChkaWdlc3QpO1xuICAgIGdldEtleVJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGNvdW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBhbHJlYWR5IGV4aXN0c1xuICAgICAgfVxuICAgICAgdmFyIG5ld0F0dCA9IHtcbiAgICAgICAgZGlnZXN0OiBkaWdlc3QsXG4gICAgICAgIGJvZHk6IGRhdGFcbiAgICAgIH07XG4gICAgICB2YXIgcHV0UmVxID0gYXR0YWNoU3RvcmUucHV0KG5ld0F0dCk7XG4gICAgICBwdXRSZXEub25zdWNjZXNzID0gY2FsbGJhY2s7XG4gICAgfTtcbiAgfVxufVxuXG4vLyBBYnN0cmFjdGlvbiBvdmVyIElEQkN1cnNvciBhbmQgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpIHRoYXQgYWxsb3dzIHVzIHRvIGJhdGNoIG91ciBvcGVyYXRpb25zXG4vLyB3aGlsZSBmYWxsaW5nIGJhY2sgdG8gYSBub3JtYWwgSURCQ3Vyc29yIG9wZXJhdGlvbiBvbiBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgZ2V0QWxsKCkgb3Jcbi8vIGdldEFsbEtleXMoKS4gVGhpcyBhbGxvd3MgZm9yIGEgbXVjaCBmYXN0ZXIgaW1wbGVtZW50YXRpb24gdGhhbiBqdXN0IHN0cmFpZ2h0LXVwIGN1cnNvcnMsIGJlY2F1c2Vcbi8vIHdlJ3JlIG5vdCBwcm9jZXNzaW5nIGVhY2ggZG9jdW1lbnQgb25lLWF0LWEtdGltZS5cbmZ1bmN0aW9uIHJ1bkJhdGNoZWRDdXJzb3Iob2JqZWN0U3RvcmUsIGtleVJhbmdlLCBkZXNjZW5kaW5nLCBiYXRjaFNpemUsIG9uQmF0Y2gpIHtcblxuICBpZiAoYmF0Y2hTaXplID09PSAtMSkge1xuICAgIGJhdGNoU2l6ZSA9IDEwMDA7XG4gIH1cblxuICAvLyBCYWlsIG91dCBvZiBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgaW4gdGhlIGZvbGxvd2luZyBjYXNlczpcbiAgLy8gMSkgZWl0aGVyIG1ldGhvZCBpcyB1bnN1cHBvcnRlZCAtIHdlIG5lZWQgYm90aFxuICAvLyAyKSBiYXRjaFNpemUgaXMgMSAobWlnaHQgYXMgd2VsbCB1c2UgSURCQ3Vyc29yKVxuICAvLyAzKSBkZXNjZW5kaW5nIOKAkyBubyByZWFsIHdheSB0byBkbyB0aGlzIHZpYSBnZXRBbGwoKS9nZXRBbGxLZXlzKClcblxuICB2YXIgdXNlR2V0QWxsID0gdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGxLZXlzID09PSAnZnVuY3Rpb24nICYmXG4gICAgYmF0Y2hTaXplID4gMSAmJiAhZGVzY2VuZGluZztcblxuICB2YXIga2V5c0JhdGNoO1xuICB2YXIgdmFsdWVzQmF0Y2g7XG4gIHZhciBwc2V1ZG9DdXJzb3I7XG5cbiAgZnVuY3Rpb24gb25HZXRBbGwoZSkge1xuICAgIHZhbHVlc0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChrZXlzQmF0Y2gpIHtcbiAgICAgIG9uQmF0Y2goa2V5c0JhdGNoLCB2YWx1ZXNCYXRjaCwgcHNldWRvQ3Vyc29yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbEtleXMoZSkge1xuICAgIGtleXNCYXRjaCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAodmFsdWVzQmF0Y2gpIHtcbiAgICAgIG9uQmF0Y2goa2V5c0JhdGNoLCB2YWx1ZXNCYXRjaCwgcHNldWRvQ3Vyc29yKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb250aW51ZVBzZXVkb0N1cnNvcigpIHtcbiAgICBpZiAoIWtleXNCYXRjaC5sZW5ndGgpIHsgLy8gbm8gbW9yZSByZXN1bHRzXG4gICAgICByZXR1cm4gb25CYXRjaCgpO1xuICAgIH1cbiAgICAvLyBmZXRjaCBuZXh0IGJhdGNoLCBleGNsdXNpdmUgc3RhcnRcbiAgICB2YXIgbGFzdEtleSA9IGtleXNCYXRjaFtrZXlzQmF0Y2gubGVuZ3RoIC0gMV07XG4gICAgdmFyIG5ld0tleVJhbmdlO1xuICAgIGlmIChrZXlSYW5nZSAmJiBrZXlSYW5nZS51cHBlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgbmV3S2V5UmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChsYXN0S2V5LCBrZXlSYW5nZS51cHBlcixcbiAgICAgICAgICB0cnVlLCBrZXlSYW5nZS51cHBlck9wZW4pO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5uYW1lID09PSBcIkRhdGFFcnJvclwiICYmIGUuY29kZSA9PT0gMCkge1xuICAgICAgICAgIHJldHVybiBvbkJhdGNoKCk7IC8vIHdlJ3JlIGRvbmUsIHN0YXJ0a2V5IGFuZCBlbmRrZXkgYXJlIGVxdWFsXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbmV3S2V5UmFuZ2UgPSBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGxhc3RLZXksIHRydWUpO1xuICAgIH1cbiAgICBrZXlSYW5nZSA9IG5ld0tleVJhbmdlO1xuICAgIGtleXNCYXRjaCA9IG51bGw7XG4gICAgdmFsdWVzQmF0Y2ggPSBudWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsS2V5cztcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICghY3Vyc29yKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIHJlZ3VsYXIgSURCQ3Vyc29yIGFjdHMgbGlrZSBhIGJhdGNoIHdoZXJlIGJhdGNoIHNpemUgaXMgYWx3YXlzIDFcbiAgICBvbkJhdGNoKFtjdXJzb3Iua2V5XSwgW2N1cnNvci52YWx1ZV0sIGN1cnNvcik7XG4gIH1cblxuICBpZiAodXNlR2V0QWxsKSB7XG4gICAgcHNldWRvQ3Vyc29yID0ge1wiY29udGludWVcIjogY29udGludWVQc2V1ZG9DdXJzb3J9O1xuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGxLZXlzKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsS2V5cztcbiAgfSBlbHNlIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfSBlbHNlIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfVxufVxuXG4vLyBzaW1wbGUgc2hpbSBmb3Igb2JqZWN0U3RvcmUuZ2V0QWxsKCksIGZhbGxpbmcgYmFjayB0byBJREJDdXJzb3JcbmZ1bmN0aW9uIGdldEFsbChvYmplY3RTdG9yZSwga2V5UmFuZ2UsIG9uU3VjY2Vzcykge1xuICBpZiAodHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIC8vIHVzZSBuYXRpdmUgZ2V0QWxsXG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvblN1Y2Nlc3M7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8vIGZhbGwgYmFjayB0byBjdXJzb3JzXG4gIHZhciB2YWx1ZXMgPSBbXTtcblxuICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoY3Vyc29yKSB7XG4gICAgICB2YWx1ZXMucHVzaChjdXJzb3IudmFsdWUpO1xuICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uU3VjY2Vzcyh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHJlc3VsdDogdmFsdWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xufVxuXG5mdW5jdGlvbiBhbGxEb2NzS2V5cyhrZXlzLCBkb2NTdG9yZSwgb25CYXRjaCkge1xuICAvLyBJdCdzIG5vdCBndWFyYW50ZWQgdG8gYmUgcmV0dXJuZWQgaW4gcmlnaHQgb3JkZXIgIFxuICB2YXIgdmFsdWVzQmF0Y2ggPSBuZXcgQXJyYXkoa2V5cy5sZW5ndGgpO1xuICB2YXIgY291bnQgPSAwO1xuICBrZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSwgaW5kZXgpIHtcbiAgICBkb2NTdG9yZS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIGlmIChldmVudC50YXJnZXQucmVzdWx0KSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZXNCYXRjaFtpbmRleF0gPSB7a2V5OiBrZXksIGVycm9yOiAnbm90X2ZvdW5kJ307XG4gICAgICB9XG4gICAgICBjb3VudCsrO1xuICAgICAgaWYgKGNvdW50ID09PSBrZXlzLmxlbmd0aCkge1xuICAgICAgICBvbkJhdGNoKGtleXMsIHZhbHVlc0JhdGNoLCB7fSk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUtleVJhbmdlKHN0YXJ0LCBlbmQsIGluY2x1c2l2ZUVuZCwga2V5LCBkZXNjZW5kaW5nKSB7XG4gIHRyeSB7XG4gICAgaWYgKHN0YXJ0ICYmIGVuZCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKGVuZCwgc3RhcnQsICFpbmNsdXNpdmVFbmQsIGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kLCBmYWxzZSwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChzdGFydCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLnVwcGVyQm91bmQoc3RhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQoc3RhcnQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLnVwcGVyQm91bmQoZW5kLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGtleSkge1xuICAgICAgcmV0dXJuIElEQktleVJhbmdlLm9ubHkoa2V5KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGNhbGxiYWNrKSB7XG4gIHZhciBzdGFydCA9ICdzdGFydGtleScgaW4gb3B0cyA/IG9wdHMuc3RhcnRrZXkgOiBmYWxzZTtcbiAgdmFyIGVuZCA9ICdlbmRrZXknIGluIG9wdHMgPyBvcHRzLmVuZGtleSA6IGZhbHNlO1xuICB2YXIga2V5ID0gJ2tleScgaW4gb3B0cyA/IG9wdHMua2V5IDogZmFsc2U7XG4gIHZhciBrZXlzID0gJ2tleXMnIGluIG9wdHMgPyBvcHRzLmtleXMgOiBmYWxzZTsgXG4gIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gIHZhciBsaW1pdCA9IHR5cGVvZiBvcHRzLmxpbWl0ID09PSAnbnVtYmVyJyA/IG9wdHMubGltaXQgOiAtMTtcbiAgdmFyIGluY2x1c2l2ZUVuZCA9IG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gZmFsc2U7XG5cbiAgdmFyIGtleVJhbmdlIDsgXG4gIHZhciBrZXlSYW5nZUVycm9yO1xuICBpZiAoIWtleXMpIHtcbiAgICBrZXlSYW5nZSA9IGNyZWF0ZUtleVJhbmdlKHN0YXJ0LCBlbmQsIGluY2x1c2l2ZUVuZCwga2V5LCBvcHRzLmRlc2NlbmRpbmcpO1xuICAgIGtleVJhbmdlRXJyb3IgPSBrZXlSYW5nZSAmJiBrZXlSYW5nZS5lcnJvcjtcbiAgICBpZiAoa2V5UmFuZ2VFcnJvciAmJiBcbiAgICAgICEoa2V5UmFuZ2VFcnJvci5uYW1lID09PSBcIkRhdGFFcnJvclwiICYmIGtleVJhbmdlRXJyb3IuY29kZSA9PT0gMCkpIHtcbiAgICAgIC8vIERhdGFFcnJvciB3aXRoIGVycm9yIGNvZGUgMCBpbmRpY2F0ZXMgc3RhcnQgaXMgbGVzcyB0aGFuIGVuZCwgc29cbiAgICAgIC8vIGNhbiBqdXN0IGRvIGFuIGVtcHR5IHF1ZXJ5LiBFbHNlIG5lZWQgdG8gdGhyb3dcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsXG4gICAgICAgIGtleVJhbmdlRXJyb3IubmFtZSwga2V5UmFuZ2VFcnJvci5tZXNzYWdlKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgTUVUQV9TVE9SRV07XG5cbiAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICBzdG9yZXMucHVzaChBVFRBQ0hfU1RPUkUpO1xuICB9XG4gIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkb25seScpO1xuICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gIHR4bi5vbmNvbXBsZXRlID0gb25UeG5Db21wbGV0ZTtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgdmFyIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcbiAgdmFyIGRvY0lkUmV2SW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIGRvY0NvdW50O1xuICB2YXIgdXBkYXRlU2VxO1xuXG4gIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgfTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgIGdldE1heFVwZGF0ZVNlcShzZXFTdG9yZSwgZnVuY3Rpb24gKGUpIHsgXG4gICAgICBpZiAoZS50YXJnZXQucmVzdWx0ICYmIGUudGFyZ2V0LnJlc3VsdC5sZW5ndGggPiAwKSB7XG4gICAgICAgIHVwZGF0ZVNlcSA9IGUudGFyZ2V0LnJlc3VsdFswXTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldE1heFVwZGF0ZVNlcShvYmplY3RTdG9yZSwgb25TdWNjZXNzKSB7XG4gICAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHZhciBtYXhLZXkgPSB1bmRlZmluZWQ7XG4gICAgICBpZiAoY3Vyc29yICYmIGN1cnNvci5rZXkpIHtcbiAgICAgICAgbWF4S2V5ID0gY3Vyc29yLmtleTtcbiAgICAgIH0gXG4gICAgICByZXR1cm4gb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiBbbWF4S2V5XVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihudWxsLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG5cbiAgLy8gaWYgdGhlIHVzZXIgc3BlY2lmaWVzIGluY2x1ZGVfZG9jcz10cnVlLCB0aGVuIHdlIGRvbid0XG4gIC8vIHdhbnQgdG8gYmxvY2sgdGhlIG1haW4gY3Vyc29yIHdoaWxlIHdlJ3JlIGZldGNoaW5nIHRoZSBkb2NcbiAgZnVuY3Rpb24gZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKSB7XG4gICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgXCI6OlwiICsgd2lubmluZ1JldiQkMTtcbiAgICBkb2NJZFJldkluZGV4LmdldChrZXkpLm9uc3VjY2VzcyA9ICBmdW5jdGlvbiBvbkdldERvYyhlKSB7XG4gICAgICByb3cuZG9jID0gZGVjb2RlRG9jKGUudGFyZ2V0LnJlc3VsdCkgfHwge307XG4gICAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgICAgdmFyIGNvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgICAgICBpZiAoY29uZmxpY3RzLmxlbmd0aCkge1xuICAgICAgICAgIHJvdy5kb2MuX2NvbmZsaWN0cyA9IGNvbmZsaWN0cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KHJvdy5kb2MsIG9wdHMsIHR4bik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSkge1xuICAgIHZhciByb3cgPSB7XG4gICAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgICBrZXk6IG1ldGFkYXRhLmlkLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgcmV2OiB3aW5uaW5nUmV2JCQxXG4gICAgICB9XG4gICAgfTtcbiAgICB2YXIgZGVsZXRlZCA9IG1ldGFkYXRhLmRlbGV0ZWQ7XG4gICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgIGlmIChrZXlzKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChyb3cpO1xuICAgICAgICAvLyBkZWxldGVkIGRvY3MgYXJlIG9rYXkgd2l0aCBcImtleXNcIiByZXF1ZXN0c1xuICAgICAgICByb3cudmFsdWUuZGVsZXRlZCA9IHRydWU7XG4gICAgICAgIHJvdy5kb2MgPSBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc2tpcC0tIDw9IDApIHtcbiAgICAgIHJlc3VsdHMucHVzaChyb3cpO1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIGZldGNoRG9jQXN5bmNocm9ub3VzbHkobWV0YWRhdGEsIHJvdywgd2lubmluZ1JldiQkMSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoVmFsdWVzKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJhdGNoVmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IGxpbWl0KSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgdmFyIGJhdGNoVmFsdWUgPSBiYXRjaFZhbHVlc1tpXTtcbiAgICAgIGlmIChiYXRjaFZhbHVlLmVycm9yICYmIGtleXMpIHtcbiAgICAgICAgLy8ga2V5IHdhcyBub3QgZm91bmQgd2l0aCBcImtleXNcIiByZXF1ZXN0c1xuICAgICAgICByZXN1bHRzLnB1c2goYmF0Y2hWYWx1ZSk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoYmF0Y2hWYWx1ZSk7XG4gICAgICB2YXIgd2lubmluZ1JldiQkMSA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICBhbGxEb2NzSW5uZXIod2lubmluZ1JldiQkMSwgbWV0YWRhdGEpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQmF0Y2goYmF0Y2hLZXlzLCBiYXRjaFZhbHVlcywgY3Vyc29yKSB7XG4gICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvY2Vzc0JhdGNoKGJhdGNoVmFsdWVzKTtcbiAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBsaW1pdCkge1xuICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRBbGwoZSkge1xuICAgIHZhciB2YWx1ZXMgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgdmFsdWVzID0gdmFsdWVzLnJldmVyc2UoKTtcbiAgICB9XG4gICAgcHJvY2Vzc0JhdGNoKHZhbHVlcyk7XG4gIH1cblxuICBmdW5jdGlvbiBvblJlc3VsdHNSZWFkeSgpIHtcbiAgICB2YXIgcmV0dXJuVmFsID0ge1xuICAgICAgdG90YWxfcm93czogZG9jQ291bnQsXG4gICAgICBvZmZzZXQ6IG9wdHMuc2tpcCxcbiAgICAgIHJvd3M6IHJlc3VsdHNcbiAgICB9O1xuICAgIFxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEgJiYgdXBkYXRlU2VxICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVyblZhbC51cGRhdGVfc2VxID0gdXBkYXRlU2VxO1xuICAgIH1cbiAgICBjYWxsYmFjayhudWxsLCByZXR1cm5WYWwpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzLCBvcHRzLmJpbmFyeSkudGhlbihvblJlc3VsdHNSZWFkeSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9uUmVzdWx0c1JlYWR5KCk7XG4gICAgfVxuICB9XG5cbiAgLy8gZG9uJ3QgYm90aGVyIGRvaW5nIGFueSByZXF1ZXN0cyBpZiBzdGFydCA+IGVuZCBvciBsaW1pdCA9PT0gMFxuICBpZiAoa2V5UmFuZ2VFcnJvciB8fCBsaW1pdCA9PT0gMCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoa2V5cykge1xuICAgIHJldHVybiBhbGxEb2NzS2V5cyhvcHRzLmtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKTtcbiAgfVxuICBpZiAobGltaXQgPT09IC0xKSB7IC8vIGp1c3QgZmV0Y2ggZXZlcnl0aGluZ1xuICAgIHJldHVybiBnZXRBbGwoZG9jU3RvcmUsIGtleVJhbmdlLCBvbkdldEFsbCk7XG4gIH1cbiAgLy8gZWxzZSBkbyBhIGN1cnNvclxuICAvLyBjaG9vc2UgYSBiYXRjaCBzaXplIGJhc2VkIG9uIHRoZSBza2lwLCBzaW5jZSB3ZSdsbCBuZWVkIHRvIHNraXAgdGhhdCBtYW55XG4gIHJ1bkJhdGNoZWRDdXJzb3IoZG9jU3RvcmUsIGtleVJhbmdlLCBvcHRzLmRlc2NlbmRpbmcsIGxpbWl0ICsgc2tpcCwgb25CYXRjaCk7XG59XG5cbi8vXG4vLyBCbG9icyBhcmUgbm90IHN1cHBvcnRlZCBpbiBhbGwgdmVyc2lvbnMgb2YgSW5kZXhlZERCLCBub3RhYmx5XG4vLyBDaHJvbWUgPDM3IGFuZCBBbmRyb2lkIDw1LiBJbiB0aG9zZSB2ZXJzaW9ucywgc3RvcmluZyBhIGJsb2Igd2lsbCB0aHJvdy5cbi8vXG4vLyBWYXJpb3VzIG90aGVyIGJsb2IgYnVncyBleGlzdCBpbiBDaHJvbWUgdjM3LTQyIChpbmNsdXNpdmUpLlxuLy8gRGV0ZWN0aW5nIHRoZW0gaXMgZXhwZW5zaXZlIGFuZCBjb25mdXNpbmcgdG8gdXNlcnMsIGFuZCBDaHJvbWUgMzctNDJcbi8vIGlzIGF0IHZlcnkgbG93IHVzYWdlIHdvcmxkd2lkZSwgc28gd2UgZG8gYSBoYWNreSB1c2VyQWdlbnQgY2hlY2sgaW5zdGVhZC5cbi8vXG4vLyBjb250ZW50LXR5cGUgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDA4MTIwXG4vLyA0MDQgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3OTE2XG4vLyBGaWxlUmVhZGVyIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzgzNlxuLy9cbmZ1bmN0aW9uIGNoZWNrQmxvYlN1cHBvcnQodHhuKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgIHZhciBibG9iJCQxID0gY3JlYXRlQmxvYihbJyddKTtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpLnB1dChibG9iJCQxLCAna2V5Jyk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIG1hdGNoZWRDaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9DaHJvbWVcXC8oXFxkKykvKTtcbiAgICAgIHZhciBtYXRjaGVkRWRnZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0VkZ2VcXC8vKTtcbiAgICAgIC8vIE1TIEVkZ2UgcHJldGVuZHMgdG8gYmUgQ2hyb21lIDQyOlxuICAgICAgLy8gaHR0cHM6Ly9tc2RuLm1pY3Jvc29mdC5jb20vZW4tdXMvbGlicmFyeS9oaDg2OTMwMSUyOHY9dnMuODUlMjkuYXNweFxuICAgICAgcmVzb2x2ZShtYXRjaGVkRWRnZSB8fCAhbWF0Y2hlZENocm9tZSB8fFxuICAgICAgICBwYXJzZUludChtYXRjaGVkQ2hyb21lWzFdLCAxMCkgPj0gNDMpO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IHR4bi5vbmFib3J0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIC8vIElmIHRoZSB0cmFuc2FjdGlvbiBhYm9ydHMgbm93IGl0cyBkdWUgdG8gbm90IGJlaW5nIGFibGUgdG9cbiAgICAgIC8vIHdyaXRlIHRvIHRoZSBkYXRhYmFzZSwgbGlrZWx5IGR1ZSB0byB0aGUgZGlzayBiZWluZyBmdWxsXG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgcmVzb2x2ZShmYWxzZSk7XG4gICAgfTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBmYWxzZTsgLy8gZXJyb3IsIHNvIGFzc3VtZSB1bnN1cHBvcnRlZFxuICB9KTtcbn1cblxuZnVuY3Rpb24gY291bnREb2NzKHR4biwgY2IpIHtcbiAgdmFyIGluZGV4ID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuaW5kZXgoJ2RlbGV0ZWRPckxvY2FsJyk7XG4gIGluZGV4LmNvdW50KElEQktleVJhbmdlLm9ubHkoJzAnKSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjYihlLnRhcmdldC5yZXN1bHQpO1xuICB9O1xufVxuXG4vLyBUaGlzIHRhc2sgcXVldWUgZW5zdXJlcyB0aGF0IElEQiBvcGVuIGNhbGxzIGFyZSBkb25lIGluIHRoZWlyIG93biB0aWNrXG5cbnZhciBydW5uaW5nID0gZmFsc2U7XG52YXIgcXVldWUgPSBbXTtcblxuZnVuY3Rpb24gdHJ5Q29kZShmdW4sIGVyciwgcmVzLCBQb3VjaERCKSB7XG4gIHRyeSB7XG4gICAgZnVuKGVyciwgcmVzKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgLy8gU2hvdWxkbid0IGhhcHBlbiwgYnV0IGluIHNvbWUgb2RkIGNhc2VzXG4gICAgLy8gSW5kZXhlZERCIGltcGxlbWVudGF0aW9ucyBtaWdodCB0aHJvdyBhIHN5bmNcbiAgICAvLyBlcnJvciwgaW4gd2hpY2ggY2FzZSB0aGlzIHdpbGwgYXQgbGVhc3QgbG9nIGl0LlxuICAgIFBvdWNoREIuZW1pdCgnZXJyb3InLCBlcnIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGFwcGx5TmV4dCgpIHtcbiAgaWYgKHJ1bm5pbmcgfHwgIXF1ZXVlLmxlbmd0aCkge1xuICAgIHJldHVybjtcbiAgfVxuICBydW5uaW5nID0gdHJ1ZTtcbiAgcXVldWUuc2hpZnQoKSgpO1xufVxuXG5mdW5jdGlvbiBlbnF1ZXVlVGFzayhhY3Rpb24sIGNhbGxiYWNrLCBQb3VjaERCKSB7XG4gIHF1ZXVlLnB1c2goZnVuY3Rpb24gcnVuQWN0aW9uKCkge1xuICAgIGFjdGlvbihmdW5jdGlvbiBydW5DYWxsYmFjayhlcnIsIHJlcykge1xuICAgICAgdHJ5Q29kZShjYWxsYmFjaywgZXJyLCByZXMsIFBvdWNoREIpO1xuICAgICAgcnVubmluZyA9IGZhbHNlO1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICAgIGFwcGx5TmV4dChQb3VjaERCKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbiAgYXBwbHlOZXh0KCk7XG59XG5cbmZ1bmN0aW9uIGNoYW5nZXMob3B0cywgYXBpLCBkYk5hbWUsIGlkYikge1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgaWYgKG9wdHMuY29udGludW91cykge1xuICAgIHZhciBpZCA9IGRiTmFtZSArICc6JyArIHV1aWQoKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5hZGRMaXN0ZW5lcihkYk5hbWUsIGlkLCBhcGksIG9wdHMpO1xuICAgIGNoYW5nZXNIYW5kbGVyLm5vdGlmeShkYk5hbWUpO1xuICAgIHJldHVybiB7XG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2hhbmdlc0hhbmRsZXIucmVtb3ZlTGlzdGVuZXIoZGJOYW1lLCBpZCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIHZhciBkb2NJZHMgPSBvcHRzLmRvY19pZHMgJiYgbmV3IEV4cG9ydGVkU2V0KG9wdHMuZG9jX2lkcyk7XG5cbiAgb3B0cy5zaW5jZSA9IG9wdHMuc2luY2UgfHwgMDtcbiAgdmFyIGxhc3RTZXEgPSBvcHRzLnNpbmNlO1xuXG4gIHZhciBsaW1pdCA9ICdsaW1pdCcgaW4gb3B0cyA/IG9wdHMubGltaXQgOiAtMTtcbiAgaWYgKGxpbWl0ID09PSAwKSB7XG4gICAgbGltaXQgPSAxOyAvLyBwZXIgQ291Y2hEQiBfY2hhbmdlcyBzcGVjXG4gIH1cblxuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgbnVtUmVzdWx0cyA9IDA7XG4gIHZhciBmaWx0ZXIgPSBmaWx0ZXJDaGFuZ2Uob3B0cyk7XG4gIHZhciBkb2NJZHNUb01ldGFkYXRhID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIHR4bjtcbiAgdmFyIGJ5U2VxU3RvcmU7XG4gIHZhciBkb2NTdG9yZTtcbiAgdmFyIGRvY0lkUmV2SW5kZXg7XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvciB8fCAhYmF0Y2hLZXlzLmxlbmd0aCkgeyAvLyBkb25lXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHdpbm5pbmdEb2NzID0gbmV3IEFycmF5KGJhdGNoS2V5cy5sZW5ndGgpO1xuICAgIHZhciBtZXRhZGF0YXMgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSB7XG4gICAgICB2YXIgY2hhbmdlID0gb3B0cy5wcm9jZXNzQ2hhbmdlKHdpbm5pbmdEb2MsIG1ldGFkYXRhLCBvcHRzKTtcbiAgICAgIGxhc3RTZXEgPSBjaGFuZ2Uuc2VxID0gbWV0YWRhdGEuc2VxO1xuXG4gICAgICB2YXIgZmlsdGVyZWQgPSBmaWx0ZXIoY2hhbmdlKTtcbiAgICAgIGlmICh0eXBlb2YgZmlsdGVyZWQgPT09ICdvYmplY3QnKSB7IC8vIGFueXRoaW5nIGJ1dCB0cnVlL2ZhbHNlIGluZGljYXRlcyBlcnJvclxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZmlsdGVyZWQpO1xuICAgICAgfVxuXG4gICAgICBpZiAoIWZpbHRlcmVkKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgIH1cbiAgICAgIG51bVJlc3VsdHMrKztcbiAgICAgIGlmIChvcHRzLnJldHVybl9kb2NzKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaChjaGFuZ2UpO1xuICAgICAgfVxuICAgICAgLy8gcHJvY2VzcyB0aGUgYXR0YWNobWVudCBpbW1lZGlhdGVseVxuICAgICAgLy8gZm9yIHRoZSBiZW5lZml0IG9mIGxpdmUgbGlzdGVuZXJzXG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkod2lubmluZ0RvYywgb3B0cywgdHhuLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKFtjaGFuZ2VdLCBvcHRzLmJpbmFyeSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJlc29sdmUoY2hhbmdlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoY2hhbmdlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbkJhdGNoRG9uZSgpIHtcbiAgICAgIHZhciBwcm9taXNlcyA9IFtdO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHdpbm5pbmdEb2NzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIGlmIChudW1SZXN1bHRzID09PSBsaW1pdCkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHZhciB3aW5uaW5nRG9jID0gd2lubmluZ0RvY3NbaV07XG4gICAgICAgIGlmICghd2lubmluZ0RvYykge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IG1ldGFkYXRhc1tpXTtcbiAgICAgICAgcHJvbWlzZXMucHVzaChwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSk7XG4gICAgICB9XG5cbiAgICAgIFByb21pc2UuYWxsKHByb21pc2VzKS50aGVuKGZ1bmN0aW9uIChjaGFuZ2VzKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBjaGFuZ2VzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgaWYgKGNoYW5nZXNbaV0pIHtcbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoY2hhbmdlc1tpXSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KS5jYXRjaChvcHRzLmNvbXBsZXRlKTtcblxuICAgICAgaWYgKG51bVJlc3VsdHMgIT09IGxpbWl0KSB7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEZldGNoIGFsbCBtZXRhZGF0YXMvd2lubmluZ2RvY3MgZnJvbSB0aGlzIGJhdGNoIGluIHBhcmFsbGVsLCB0aGVuIHByb2Nlc3NcbiAgICAvLyB0aGVtIGFsbCBvbmx5IG9uY2UgYWxsIGRhdGEgaGFzIGJlZW4gY29sbGVjdGVkLiBUaGlzIGlzIGRvbmUgaW4gcGFyYWxsZWxcbiAgICAvLyBiZWNhdXNlIGl0J3MgZmFzdGVyIHRoYW4gZG9pbmcgaXQgb25lLWF0LWEtdGltZS5cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgYmF0Y2hWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICAgIHZhciBkb2MgPSBkZWNvZGVEb2ModmFsdWUpO1xuICAgICAgdmFyIHNlcSA9IGJhdGNoS2V5c1tpXTtcbiAgICAgIGZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhKGRvYywgc2VxLCBmdW5jdGlvbiAobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgICAgbWV0YWRhdGFzW2ldID0gbWV0YWRhdGE7XG4gICAgICAgIHdpbm5pbmdEb2NzW2ldID0gd2lubmluZ0RvYztcbiAgICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gYmF0Y2hLZXlzLmxlbmd0aCkge1xuICAgICAgICAgIG9uQmF0Y2hEb25lKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKSB7XG4gICAgaWYgKG1ldGFkYXRhLnNlcSAhPT0gc2VxKSB7XG4gICAgICAvLyBzb21lIG90aGVyIHNlcSBpcyBsYXRlclxuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgaWYgKG1ldGFkYXRhLndpbm5pbmdSZXYgPT09IGRvYy5fcmV2KSB7XG4gICAgICAvLyB0aGlzIGlzIHRoZSB3aW5uaW5nIGRvY1xuICAgICAgcmV0dXJuIGNiKG1ldGFkYXRhLCBkb2MpO1xuICAgIH1cblxuICAgIC8vIGZldGNoIHdpbm5pbmcgZG9jIGluIHNlcGFyYXRlIHJlcXVlc3RcbiAgICB2YXIgZG9jSWRSZXYgPSBkb2MuX2lkICsgJzo6JyArIG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgdmFyIHJlcSA9IGRvY0lkUmV2SW5kZXguZ2V0KGRvY0lkUmV2KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGNiKG1ldGFkYXRhLCBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSk7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhKGRvYywgc2VxLCBjYikge1xuICAgIGlmIChkb2NJZHMgJiYgIWRvY0lkcy5oYXMoZG9jLl9pZCkpIHtcbiAgICAgIHJldHVybiBjYigpO1xuICAgIH1cblxuICAgIHZhciBtZXRhZGF0YSA9IGRvY0lkc1RvTWV0YWRhdGEuZ2V0KGRvYy5faWQpO1xuICAgIGlmIChtZXRhZGF0YSkgeyAvLyBjYWNoZWRcbiAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpO1xuICAgIH1cbiAgICAvLyBtZXRhZGF0YSBub3QgY2FjaGVkLCBoYXZlIHRvIGdvIGZldGNoIGl0XG4gICAgZG9jU3RvcmUuZ2V0KGRvYy5faWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICBkb2NJZHNUb01ldGFkYXRhLnNldChkb2MuX2lkLCBtZXRhZGF0YSk7XG4gICAgICBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgb3B0cy5jb21wbGV0ZShudWxsLCB7XG4gICAgICByZXN1bHRzOiByZXN1bHRzLFxuICAgICAgbGFzdF9zZXE6IGxhc3RTZXFcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHhuQ29tcGxldGUoKSB7XG4gICAgaWYgKCFvcHRzLmNvbnRpbnVvdXMgJiYgb3B0cy5hdHRhY2htZW50cykge1xuICAgICAgLy8gY2Fubm90IGd1YXJhbnRlZSB0aGF0IHBvc3RQcm9jZXNzaW5nIHdhcyBhbHJlYWR5IGRvbmUsXG4gICAgICAvLyBzbyBkbyBpdCBhZ2FpblxuICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhyZXN1bHRzKS50aGVuKGZpbmlzaCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBvYmplY3RTdG9yZXMgPSBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkVdO1xuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIG9iamVjdFN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIG9iamVjdFN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gb3B0cy5jb21wbGV0ZSh0eG5SZXN1bHQuZXJyb3IpO1xuICB9XG4gIHR4biA9IHR4blJlc3VsdC50eG47XG4gIHR4bi5vbmFib3J0ID0gaWRiRXJyb3Iob3B0cy5jb21wbGV0ZSk7XG4gIHR4bi5vbmNvbXBsZXRlID0gb25UeG5Db21wbGV0ZTtcblxuICBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIGRvY0lkUmV2SW5kZXggPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuXG4gIHZhciBrZXlSYW5nZSA9IChvcHRzLnNpbmNlICYmICFvcHRzLmRlc2NlbmRpbmcpID9cbiAgICBJREJLZXlSYW5nZS5sb3dlckJvdW5kKG9wdHMuc2luY2UsIHRydWUpIDogbnVsbDtcblxuICBydW5CYXRjaGVkQ3Vyc29yKGJ5U2VxU3RvcmUsIGtleVJhbmdlLCBvcHRzLmRlc2NlbmRpbmcsIGxpbWl0LCBvbkJhdGNoKTtcbn1cblxudmFyIGNhY2hlZERCcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xudmFyIGJsb2JTdXBwb3J0UHJvbWlzZTtcbnZhciBvcGVuUmVxTGlzdCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG5mdW5jdGlvbiBJZGJQb3VjaChvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgYXBpID0gdGhpcztcblxuICBlbnF1ZXVlVGFzayhmdW5jdGlvbiAodGhpc0NhbGxiYWNrKSB7XG4gICAgaW5pdChhcGksIG9wdHMsIHRoaXNDYWxsYmFjayk7XG4gIH0sIGNhbGxiYWNrLCBhcGkuY29uc3RydWN0b3IpO1xufVxuXG5mdW5jdGlvbiBpbml0KGFwaSwgb3B0cywgY2FsbGJhY2spIHtcblxuICB2YXIgZGJOYW1lID0gb3B0cy5uYW1lO1xuXG4gIHZhciBpZGIgPSBudWxsO1xuICB2YXIgaWRiR2xvYmFsRmFpbHVyZUVycm9yID0gbnVsbDtcbiAgYXBpLl9tZXRhID0gbnVsbDtcblxuICBmdW5jdGlvbiBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChlcnJvciwgcmVzdWx0KSB7XG4gICAgICBpZiAoZXJyb3IgJiYgZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiAhZXJyb3IucmVhc29uKSB7XG4gICAgICAgIGlmIChpZGJHbG9iYWxGYWlsdXJlRXJyb3IpIHtcbiAgICAgICAgICBlcnJvci5yZWFzb24gPSBpZGJHbG9iYWxGYWlsdXJlRXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgY2FsbGJhY2soZXJyb3IsIHJlc3VsdCk7XG4gICAgfTtcbiAgfVxuXG4gIC8vIGNhbGxlZCB3aGVuIGNyZWF0aW5nIGEgZnJlc2ggbmV3IGRhdGFiYXNlXG4gIGZ1bmN0aW9uIGNyZWF0ZVNjaGVtYShkYikge1xuICAgIHZhciBkb2NTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKERPQ19TVE9SRSwge2tleVBhdGggOiAnaWQnfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFLCB7YXV0b0luY3JlbWVudDogdHJ1ZX0pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSwge2tleVBhdGg6ICdkaWdlc3QnfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTUVUQV9TVE9SRSwge2tleVBhdGg6ICdpZCcsIGF1dG9JbmNyZW1lbnQ6IGZhbHNlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2MlxuICAgIGRvY1N0b3JlLmNyZWF0ZUluZGV4KCdkZWxldGVkT3JMb2NhbCcsICdkZWxldGVkT3JMb2NhbCcsIHt1bmlxdWUgOiBmYWxzZX0pO1xuXG4gICAgLy8gYWRkZWQgaW4gdjNcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShMT0NBTF9TVE9SRSwge2tleVBhdGg6ICdfaWQnfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2NFxuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAge2F1dG9JbmNyZW1lbnQ6IHRydWV9KTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnc2VxJywgJ3NlcScpO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdkaWdlc3RTZXEnLCAnZGlnZXN0U2VxJywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMlxuICAvLyB1bmZvcnR1bmF0ZWx5IFwiZGVsZXRlZE9yTG9jYWxcIiBpcyBhIG1pc25vbWVyIG5vdyB0aGF0IHdlIG5vIGxvbmdlclxuICAvLyBzdG9yZSBsb2NhbCBkb2NzIGluIHRoZSBtYWluIGRvYy1zdG9yZSwgYnV0IHdoYWRkeWFnb25uYWRvXG4gIGZ1bmN0aW9uIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgodHhuLCBjYWxsYmFjaykge1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIGRvY1N0b3JlLmNyZWF0ZUluZGV4KCdkZWxldGVkT3JMb2NhbCcsICdkZWxldGVkT3JMb2NhbCcsIHt1bmlxdWUgOiBmYWxzZX0pO1xuXG4gICAgZG9jU3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBtZXRhZGF0YS5kZWxldGVkT3JMb2NhbCA9IGRlbGV0ZWQgPyBcIjFcIiA6IFwiMFwiO1xuICAgICAgICBkb2NTdG9yZS5wdXQobWV0YWRhdGEpO1xuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDMgKHBhcnQgMSlcbiAgZnVuY3Rpb24gY3JlYXRlTG9jYWxTdG9yZVNjaGVtYShkYikge1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KVxuICAgICAgLmNyZWF0ZUluZGV4KCdfZG9jX2lkX3JldicsICdfZG9jX2lkX3JldicsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDMgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUxvY2FsU3RvcmUodHhuLCBjYikge1xuICAgIHZhciBsb2NhbFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcblxuICAgIHZhciBjdXJzb3IgPSBkb2NTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YSA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIGRvY0lkID0gbWV0YWRhdGEuaWQ7XG4gICAgICAgIHZhciBsb2NhbCA9IGlzTG9jYWxJZChkb2NJZCk7XG4gICAgICAgIHZhciByZXYgPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGxvY2FsKSB7XG4gICAgICAgICAgdmFyIGRvY0lkUmV2ID0gZG9jSWQgKyBcIjo6XCIgKyByZXY7XG4gICAgICAgICAgLy8gcmVtb3ZlIGFsbCBzZXEgZW50cmllc1xuICAgICAgICAgIC8vIGFzc29jaWF0ZWQgd2l0aCB0aGlzIGRvY0lkXG4gICAgICAgICAgdmFyIHN0YXJ0ID0gZG9jSWQgKyBcIjo6XCI7XG4gICAgICAgICAgdmFyIGVuZCA9IGRvY0lkICsgXCI6On5cIjtcbiAgICAgICAgICB2YXIgaW5kZXggPSBzZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICAgICAgICB2YXIgcmFuZ2UgPSBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICAgIHZhciBzZXFDdXJzb3IgPSBpbmRleC5vcGVuQ3Vyc29yKHJhbmdlKTtcbiAgICAgICAgICBzZXFDdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHNlcUN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICAgIGlmICghc2VxQ3Vyc29yKSB7XG4gICAgICAgICAgICAgIC8vIGRvbmVcbiAgICAgICAgICAgICAgZG9jU3RvcmUuZGVsZXRlKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB2YXIgZGF0YSA9IHNlcUN1cnNvci52YWx1ZTtcbiAgICAgICAgICAgICAgaWYgKGRhdGEuX2RvY19pZF9yZXYgPT09IGRvY0lkUmV2KSB7XG4gICAgICAgICAgICAgICAgbG9jYWxTdG9yZS5wdXQoZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VxU3RvcmUuZGVsZXRlKHNlcUN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICAgICAgc2VxQ3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChjYikge1xuICAgICAgICBjYigpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA0IChwYXJ0IDEpXG4gIGZ1bmN0aW9uIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKSB7XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA0IChwYXJ0IDIpXG4gIGZ1bmN0aW9uIG1pZ3JhdGVBdHRzQW5kU2Vxcyh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGF0dFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFKTtcblxuICAgIC8vIG5lZWQgdG8gYWN0dWFsbHkgcG9wdWxhdGUgdGhlIHRhYmxlLiB0aGlzIGlzIHRoZSBleHBlbnNpdmUgcGFydCxcbiAgICAvLyBzbyBhcyBhbiBvcHRpbWl6YXRpb24sIGNoZWNrIGZpcnN0IHRoYXQgdGhpcyBkYXRhYmFzZSBldmVuXG4gICAgLy8gY29udGFpbnMgYXR0YWNobWVudHNcbiAgICB2YXIgcmVxID0gYXR0U3RvcmUuY291bnQoKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGRvbmVcbiAgICAgIH1cblxuICAgICAgc2VxU3RvcmUub3BlbkN1cnNvcigpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGRvbmVcbiAgICAgICAgfVxuICAgICAgICB2YXIgZG9jID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgc2VxID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgIHZhciBhdHRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyB8fCB7fSk7XG4gICAgICAgIHZhciBkaWdlc3RNYXAgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhdHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNbYXR0c1tqXV07XG4gICAgICAgICAgZGlnZXN0TWFwW2F0dC5kaWdlc3RdID0gdHJ1ZTsgLy8gdW5pcSBkaWdlc3RzLCBqdXN0IGluIGNhc2VcbiAgICAgICAgfVxuICAgICAgICB2YXIgZGlnZXN0cyA9IE9iamVjdC5rZXlzKGRpZ2VzdE1hcCk7XG4gICAgICAgIGZvciAoaiA9IDA7IGogPCBkaWdlc3RzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGRpZ2VzdHNbal07XG4gICAgICAgICAgYXR0QW5kU2VxU3RvcmUucHV0KHtcbiAgICAgICAgICAgIHNlcTogc2VxLFxuICAgICAgICAgICAgZGlnZXN0U2VxOiBkaWdlc3QgKyAnOjonICsgc2VxXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiA1XG4gIC8vIEluc3RlYWQgb2YgcmVseWluZyBvbiBvbi10aGUtZmx5IG1pZ3JhdGlvbiBvZiBtZXRhZGF0YSxcbiAgLy8gdGhpcyBicmluZ3MgdGhlIGRvYy1zdG9yZSB0byBpdHMgbW9kZXJuIGZvcm06XG4gIC8vIC0gbWV0YWRhdGEud2lubmluZ3JldlxuICAvLyAtIG1ldGFkYXRhLnNlcVxuICAvLyAtIHN0cmluZ2lmeSB0aGUgbWV0YWRhdGEgd2hlbiBzdG9yaW5nIGl0XG4gIGZ1bmN0aW9uIG1pZ3JhdGVNZXRhZGF0YSh0eG4pIHtcblxuICAgIGZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhQ29tcGF0KHN0b3JlZE9iamVjdCkge1xuICAgICAgaWYgKCFzdG9yZWRPYmplY3QuZGF0YSkge1xuICAgICAgICAvLyBvbGQgZm9ybWF0LCB3aGVuIHdlIGRpZG4ndCBzdG9yZSBpdCBzdHJpbmdpZmllZFxuICAgICAgICBzdG9yZWRPYmplY3QuZGVsZXRlZCA9IHN0b3JlZE9iamVjdC5kZWxldGVkT3JMb2NhbCA9PT0gJzEnO1xuICAgICAgICByZXR1cm4gc3RvcmVkT2JqZWN0O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCk7XG4gICAgfVxuXG4gICAgLy8gZW5zdXJlIHRoYXQgZXZlcnkgbWV0YWRhdGEgaGFzIGEgd2lubmluZ1JldiBhbmQgc2VxLFxuICAgIC8vIHdoaWNoIHdhcyBwcmV2aW91c2x5IGNyZWF0ZWQgb24tdGhlLWZseSBidXQgYmV0dGVyIHRvIG1pZ3JhdGVcbiAgICB2YXIgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBjdXJzb3IgPSBkb2NTdG9yZS5vcGVuQ3Vyc29yKCk7XG4gICAgY3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgcmV0dXJuOyAvLyBkb25lXG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YUNvbXBhdChjdXJzb3IudmFsdWUpO1xuXG4gICAgICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gbWV0YWRhdGEud2lubmluZ1JldiB8fFxuICAgICAgICB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcblxuICAgICAgZnVuY3Rpb24gZmV0Y2hNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgLy8gbWV0YWRhdGEuc2VxIHdhcyBhZGRlZCBwb3N0LTMuMi4wLCBzbyBpZiBpdCdzIG1pc3NpbmcsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gZmV0Y2ggaXQgbWFudWFsbHlcbiAgICAgICAgdmFyIHN0YXJ0ID0gbWV0YWRhdGEuaWQgKyAnOjonO1xuICAgICAgICB2YXIgZW5kID0gbWV0YWRhdGEuaWQgKyAnOjpcXHVmZmZmJztcbiAgICAgICAgdmFyIHJlcSA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jykub3BlbkN1cnNvcihcbiAgICAgICAgICBJREJLZXlSYW5nZS5ib3VuZChzdGFydCwgZW5kKSk7XG5cbiAgICAgICAgdmFyIG1ldGFkYXRhU2VxID0gMDtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgbWV0YWRhdGEuc2VxID0gbWV0YWRhdGFTZXE7XG4gICAgICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICB2YXIgc2VxID0gY3Vyc29yLnByaW1hcnlLZXk7XG4gICAgICAgICAgaWYgKHNlcSA+IG1ldGFkYXRhU2VxKSB7XG4gICAgICAgICAgICBtZXRhZGF0YVNlcSA9IHNlcTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIG9uR2V0TWV0YWRhdGFTZXEoKSB7XG4gICAgICAgIHZhciBtZXRhZGF0YVRvU3RvcmUgPSBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSxcbiAgICAgICAgICBtZXRhZGF0YS53aW5uaW5nUmV2LCBtZXRhZGF0YS5kZWxldGVkKTtcblxuICAgICAgICB2YXIgcmVxID0gZG9jU3RvcmUucHV0KG1ldGFkYXRhVG9TdG9yZSk7XG4gICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGlmIChtZXRhZGF0YS5zZXEpIHtcbiAgICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGFTZXEoKTtcbiAgICAgIH1cblxuICAgICAgZmV0Y2hNZXRhZGF0YVNlcSgpO1xuICAgIH07XG5cbiAgfVxuXG4gIGFwaS5fcmVtb3RlID0gZmFsc2U7XG4gIGFwaS50eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnaWRiJztcbiAgfTtcblxuICBhcGkuX2lkID0gdG9Qcm9taXNlKGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaS5fbWV0YS5pbnN0YW5jZUlkKTtcbiAgfSk7XG5cbiAgYXBpLl9idWxrRG9jcyA9IGZ1bmN0aW9uIGlkYl9idWxrRG9jcyhyZXEsIHJlcU9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQnVsa0RvY3Mob3B0cywgcmVxLCByZXFPcHRzLCBhcGksIGlkYiwgZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykpO1xuICB9O1xuXG4gIC8vIEZpcnN0IHdlIGxvb2sgdXAgdGhlIG1ldGFkYXRhIGluIHRoZSBpZHMgZGF0YWJhc2UsIHRoZW4gd2UgZmV0Y2ggdGhlXG4gIC8vIGN1cnJlbnQgcmV2aXNpb24ocykgZnJvbSB0aGUgYnkgc2VxdWVuY2Ugc3RvcmVcbiAgYXBpLl9nZXQgPSBmdW5jdGlvbiBpZGJfZ2V0KGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBkb2M7XG4gICAgdmFyIG1ldGFkYXRhO1xuICAgIHZhciBlcnI7XG4gICAgdmFyIHR4biA9IG9wdHMuY3R4O1xuICAgIGlmICghdHhuKSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYixcbiAgICAgICAgW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBBVFRBQ0hfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICAgIGNhbGxiYWNrKGVyciwge2RvYzogZG9jLCBtZXRhZGF0YTogbWV0YWRhdGEsIGN0eDogdHhufSk7XG4gICAgfVxuXG4gICAgdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuZ2V0KGlkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgLy8gd2UgY2FuIGRldGVybWluZSB0aGUgcmVzdWx0IGhlcmUgaWY6XG4gICAgICAvLyAxLiB0aGVyZSBpcyBubyBzdWNoIGRvY3VtZW50XG4gICAgICAvLyAyLiB0aGUgZG9jdW1lbnQgaXMgZGVsZXRlZCBhbmQgd2UgZG9uJ3QgYXNrIGFib3V0IHNwZWNpZmljIHJldlxuICAgICAgLy8gV2hlbiB3ZSBhc2sgd2l0aCBvcHRzLnJldiB3ZSBleHBlY3QgdGhlIGFuc3dlciB0byBiZSBlaXRoZXJcbiAgICAgIC8vIGRvYyAocG9zc2libHkgd2l0aCBfZGVsZXRlZD10cnVlKSBvciBtaXNzaW5nIGVycm9yXG4gICAgICBpZiAoIW1ldGFkYXRhKSB7XG4gICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnbWlzc2luZycpO1xuICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICB9XG5cbiAgICAgIHZhciByZXY7XG4gICAgICBpZiAoIW9wdHMucmV2KSB7XG4gICAgICAgIHJldiA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGRlbGV0ZWQpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgXCJkZWxldGVkXCIpO1xuICAgICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV2ID0gb3B0cy5sYXRlc3QgPyBsYXRlc3Qob3B0cy5yZXYsIG1ldGFkYXRhKSA6IG9wdHMucmV2O1xuICAgICAgfVxuXG4gICAgICB2YXIgb2JqZWN0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICAgIHZhciBrZXkgPSBtZXRhZGF0YS5pZCArICc6OicgKyByZXY7XG5cbiAgICAgIG9iamVjdFN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIGRvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgIGRvYyA9IGRlY29kZURvYyhkb2MpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghZG9jKSB7XG4gICAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmlzaCgpO1xuICAgICAgfTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fZ2V0QXR0YWNobWVudCA9IGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNoSWQsIGF0dGFjaG1lbnQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4bjtcbiAgICBpZiAob3B0cy5jdHgpIHtcbiAgICAgIHR4biA9IG9wdHMuY3R4O1xuICAgIH0gZWxzZSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYixcbiAgICAgICAgW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBBVFRBQ0hfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIH1cbiAgICB2YXIgZGlnZXN0ID0gYXR0YWNobWVudC5kaWdlc3Q7XG4gICAgdmFyIHR5cGUgPSBhdHRhY2htZW50LmNvbnRlbnRfdHlwZTtcblxuICAgIHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpLmdldChkaWdlc3QpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgYm9keSA9IGUudGFyZ2V0LnJlc3VsdC5ib2R5O1xuICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIG9wdHMuYmluYXJ5LCBmdW5jdGlvbiAoYmxvYkRhdGEpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYkRhdGEpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2luZm8gPSBmdW5jdGlvbiBpZGJfaW5mbyhjYWxsYmFjaykge1xuICAgIHZhciB1cGRhdGVTZXE7XG4gICAgdmFyIGRvY0NvdW50O1xuXG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtNRVRBX1NUT1JFLCBCWV9TRVFfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZG9jQ291bnQgPSBlLnRhcmdldC5yZXN1bHQuZG9jQ291bnQ7XG4gICAgfTtcbiAgICB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVTZXEgPSBjdXJzb3IgPyBjdXJzb3Iua2V5IDogMDtcbiAgICB9O1xuXG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7XG4gICAgICAgIGRvY19jb3VudDogZG9jQ291bnQsXG4gICAgICAgIHVwZGF0ZV9zZXE6IHVwZGF0ZVNlcSxcbiAgICAgICAgLy8gZm9yIGRlYnVnZ2luZ1xuICAgICAgICBpZGJfYXR0YWNobWVudF9mb3JtYXQ6IChhcGkuX21ldGEuYmxvYlN1cHBvcnQgPyAnYmluYXJ5JyA6ICdiYXNlNjQnKVxuICAgICAgfSk7XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2FsbERvY3MgPSBmdW5jdGlvbiBpZGJfYWxsRG9jcyhvcHRzLCBjYWxsYmFjaykge1xuICAgIGlkYkFsbERvY3Mob3B0cywgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgYXBpLl9jaGFuZ2VzID0gZnVuY3Rpb24gaWRiQ2hhbmdlcyhvcHRzKSB7XG4gICAgcmV0dXJuIGNoYW5nZXMob3B0cywgYXBpLCBkYk5hbWUsIGlkYik7XG4gIH07XG5cbiAgYXBpLl9jbG9zZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvSW5kZXhlZERCL0lEQkRhdGFiYXNlI2Nsb3NlXG4gICAgLy8gXCJSZXR1cm5zIGltbWVkaWF0ZWx5IGFuZCBjbG9zZXMgdGhlIGNvbm5lY3Rpb24gaW4gYSBzZXBhcmF0ZSB0aHJlYWQuLi5cIlxuICAgIGlkYi5jbG9zZSgpO1xuICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGFwaS5fZ2V0UmV2aXNpb25UcmVlID0gZnVuY3Rpb24gKGRvY0lkLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbRE9DX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoZG9jSWQpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBkb2MgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBkb2MucmV2X3RyZWUpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHJldmlzaW9ucyBvZiBkb2N1bWVudCBkb2NJZFxuICAvLyB3aGljaCBhcmUgbGlzdGVkIGluIHJldnMgYW5kIHNldHMgdGhpcyBkb2N1bWVudFxuICAvLyByZXZpc2lvbiB0byB0byByZXZfdHJlZVxuICBhcGkuX2RvQ29tcGFjdGlvbiA9IGZ1bmN0aW9uIChkb2NJZCwgcmV2cywgY2FsbGJhY2spIHtcbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLFxuICAgICAgQllfU0VRX1NUT1JFLFxuICAgICAgQVRUQUNIX1NUT1JFLFxuICAgICAgQVRUQUNIX0FORF9TRVFfU1RPUkVcbiAgICBdO1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkd3JpdGUnKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG5cbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcblxuICAgIGRvY1N0b3JlLmdldChkb2NJZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgIHRyYXZlcnNlUmV2VHJlZShtZXRhZGF0YS5yZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICBpZiAocmV2cy5pbmRleE9mKHJldikgIT09IC0xKSB7XG4gICAgICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29tcGFjdFJldnMocmV2cywgZG9jSWQsIHR4bik7XG4gICAgICB2YXIgd2lubmluZ1JldiQkMSA9IG1ldGFkYXRhLndpbm5pbmdSZXY7XG4gICAgICB2YXIgZGVsZXRlZCA9IG1ldGFkYXRhLmRlbGV0ZWQ7XG4gICAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5wdXQoXG4gICAgICAgIGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLCBkZWxldGVkKSk7XG4gICAgfTtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfTtcbiAgfTtcblxuXG4gIGFwaS5fZ2V0TG9jYWwgPSBmdW5jdGlvbiAoaWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgIHZhciByZXEgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSkuZ2V0KGlkKTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGRvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghZG9jKSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkZWxldGUgZG9jWydfZG9jX2lkX3JldiddOyAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdFxuICAgICAgICBjYWxsYmFjayhudWxsLCBkb2MpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgYXBpLl9wdXRMb2NhbCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIGRlbGV0ZSBkb2MuX3JldmlzaW9uczsgLy8gaWdub3JlIHRoaXMsIHRydXN0IHRoZSByZXZcbiAgICB2YXIgb2xkUmV2ID0gZG9jLl9yZXY7XG4gICAgdmFyIGlkID0gZG9jLl9pZDtcbiAgICBpZiAoIW9sZFJldikge1xuICAgICAgZG9jLl9yZXYgPSAnMC0xJztcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9yZXYgPSAnMC0nICsgKHBhcnNlSW50KG9sZFJldi5zcGxpdCgnLScpWzFdLCAxMCkgKyAxKTtcbiAgICB9XG5cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICB2YXIgcmV0O1xuICAgIGlmICghdHgpIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgICAgdHgub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cblxuICAgIHZhciBvU3RvcmUgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIHJlcTtcbiAgICBpZiAob2xkUmV2KSB7XG4gICAgICByZXEgPSBvU3RvcmUuZ2V0KGlkKTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgb2xkRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gb2xkUmV2KSB7XG4gICAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICAgIH0gZWxzZSB7IC8vIHVwZGF0ZVxuICAgICAgICAgIHZhciByZXEgPSBvU3RvcmUucHV0KGRvYyk7XG4gICAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSBlbHNlIHsgLy8gbmV3IGRvY1xuICAgICAgcmVxID0gb1N0b3JlLmFkZChkb2MpO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyBjb25zdHJhaW50IGVycm9yLCBhbHJlYWR5IGV4aXN0c1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICB9O1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgfTtcblxuICBhcGkuX3JlbW92ZUxvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgdmFyIHR4ID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgdmFyIHJldDtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIHZhciBvU3RvcmUgPSB0eC5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgb2xkRG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFvbGREb2MgfHwgb2xkRG9jLl9yZXYgIT09IGRvYy5fcmV2KSB7XG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvU3RvcmUuZGVsZXRlKGlkKTtcbiAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogaWQsIHJldjogJzAtMCd9O1xuICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgYXBpLl9kZXN0cm95ID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgY2hhbmdlc0hhbmRsZXIucmVtb3ZlQWxsTGlzdGVuZXJzKGRiTmFtZSk7XG5cbiAgICAvL0Nsb3NlIG9wZW4gcmVxdWVzdCBmb3IgXCJkYk5hbWVcIiBkYXRhYmFzZSB0byBmaXggaWUgZGVsYXkuXG4gICAgdmFyIG9wZW5SZXEgPSBvcGVuUmVxTGlzdC5nZXQoZGJOYW1lKTtcbiAgICBpZiAob3BlblJlcSAmJiBvcGVuUmVxLnJlc3VsdCkge1xuICAgICAgb3BlblJlcS5yZXN1bHQuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9XG4gICAgdmFyIHJlcSA9IGluZGV4ZWREQi5kZWxldGVEYXRhYmFzZShkYk5hbWUpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vUmVtb3ZlIG9wZW4gcmVxdWVzdCBmcm9tIHRoZSBsaXN0LlxuICAgICAgb3BlblJlcUxpc3QuZGVsZXRlKGRiTmFtZSk7XG4gICAgICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkgJiYgKGRiTmFtZSBpbiBsb2NhbFN0b3JhZ2UpKSB7XG4gICAgICAgIGRlbGV0ZSBsb2NhbFN0b3JhZ2VbZGJOYW1lXTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIHsgJ29rJzogdHJ1ZSB9KTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgdmFyIGNhY2hlZCA9IGNhY2hlZERCcy5nZXQoZGJOYW1lKTtcblxuICBpZiAoY2FjaGVkKSB7XG4gICAgaWRiID0gY2FjaGVkLmlkYjtcbiAgICBhcGkuX21ldGEgPSBjYWNoZWQuZ2xvYmFsO1xuICAgIHJldHVybiBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgICB9KTtcbiAgfVxuXG4gIHZhciByZXEgPSBpbmRleGVkREIub3BlbihkYk5hbWUsIEFEQVBURVJfVkVSU0lPTik7XG4gIG9wZW5SZXFMaXN0LnNldChkYk5hbWUsIHJlcSk7XG5cbiAgcmVxLm9udXBncmFkZW5lZWRlZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIGRiID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChlLm9sZFZlcnNpb24gPCAxKSB7XG4gICAgICByZXR1cm4gY3JlYXRlU2NoZW1hKGRiKTsgLy8gbmV3IGRiLCBpbml0aWFsIHNjaGVtYVxuICAgIH1cbiAgICAvLyBkbyBtaWdyYXRpb25zXG5cbiAgICB2YXIgdHhuID0gZS5jdXJyZW50VGFyZ2V0LnRyYW5zYWN0aW9uO1xuICAgIC8vIHRoZXNlIG1pZ3JhdGlvbnMgaGF2ZSB0byBiZSBkb25lIGluIHRoaXMgZnVuY3Rpb24sIGJlZm9yZVxuICAgIC8vIGNvbnRyb2wgaXMgcmV0dXJuZWQgdG8gdGhlIGV2ZW50IGxvb3AsIGJlY2F1c2UgSW5kZXhlZERCXG5cbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgMykge1xuICAgICAgY3JlYXRlTG9jYWxTdG9yZVNjaGVtYShkYik7IC8vIHYyIC0+IHYzXG4gICAgfVxuICAgIGlmIChlLm9sZFZlcnNpb24gPCA0KSB7XG4gICAgICBhZGRBdHRhY2hBbmRTZXFTdG9yZShkYik7IC8vIHYzIC0+IHY0XG4gICAgfVxuXG4gICAgdmFyIG1pZ3JhdGlvbnMgPSBbXG4gICAgICBhZGREZWxldGVkT3JMb2NhbEluZGV4LCAvLyB2MSAtPiB2MlxuICAgICAgbWlncmF0ZUxvY2FsU3RvcmUsICAgICAgLy8gdjIgLT4gdjNcbiAgICAgIG1pZ3JhdGVBdHRzQW5kU2VxcywgICAgIC8vIHYzIC0+IHY0XG4gICAgICBtaWdyYXRlTWV0YWRhdGEgICAgICAgICAvLyB2NCAtPiB2NVxuICAgIF07XG5cbiAgICB2YXIgaSA9IGUub2xkVmVyc2lvbjtcblxuICAgIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgICB2YXIgbWlncmF0aW9uID0gbWlncmF0aW9uc1tpIC0gMV07XG4gICAgICBpKys7XG4gICAgICBpZiAobWlncmF0aW9uKSB7XG4gICAgICAgIG1pZ3JhdGlvbih0eG4sIG5leHQpO1xuICAgICAgfVxuICAgIH1cblxuICAgIG5leHQoKTtcbiAgfTtcblxuICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcblxuICAgIGlkYiA9IGUudGFyZ2V0LnJlc3VsdDtcblxuICAgIGlkYi5vbnZlcnNpb25jaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZGIuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9O1xuXG4gICAgaWRiLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgJ0RhdGFiYXNlIGhhcyBhIGdsb2JhbCBmYWlsdXJlJywgZS50YXJnZXQuZXJyb3IpO1xuICAgICAgaWRiR2xvYmFsRmFpbHVyZUVycm9yID0gZS50YXJnZXQuZXJyb3I7XG4gICAgICBpZGIuY2xvc2UoKTtcbiAgICAgIGNhY2hlZERCcy5kZWxldGUoZGJOYW1lKTtcbiAgICB9O1xuXG4gICAgLy8gRG8gYSBmZXcgc2V0dXAgb3BlcmF0aW9ucyAoaW4gcGFyYWxsZWwgYXMgbXVjaCBhcyBwb3NzaWJsZSk6XG4gICAgLy8gMS4gRmV0Y2ggbWV0YSBkb2NcbiAgICAvLyAyLiBDaGVjayBibG9iIHN1cHBvcnRcbiAgICAvLyAzLiBDYWxjdWxhdGUgZG9jQ291bnRcbiAgICAvLyA0LiBHZW5lcmF0ZSBhbiBpbnN0YW5jZUlkIGlmIG5lY2Vzc2FyeVxuICAgIC8vIDUuIFN0b3JlIGRvY0NvdW50IGFuZCBpbnN0YW5jZUlkIG9uIG1ldGEgZG9jXG5cbiAgICB2YXIgdHhuID0gaWRiLnRyYW5zYWN0aW9uKFtcbiAgICAgIE1FVEFfU1RPUkUsXG4gICAgICBERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFLFxuICAgICAgRE9DX1NUT1JFXG4gICAgXSwgJ3JlYWR3cml0ZScpO1xuXG4gICAgdmFyIHN0b3JlZE1ldGFEb2MgPSBmYWxzZTtcbiAgICB2YXIgbWV0YURvYztcbiAgICB2YXIgZG9jQ291bnQ7XG4gICAgdmFyIGJsb2JTdXBwb3J0O1xuICAgIHZhciBpbnN0YW5jZUlkO1xuXG4gICAgZnVuY3Rpb24gY29tcGxldGVTZXR1cCgpIHtcbiAgICAgIGlmICh0eXBlb2YgYmxvYlN1cHBvcnQgPT09ICd1bmRlZmluZWQnIHx8ICFzdG9yZWRNZXRhRG9jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGFwaS5fbWV0YSA9IHtcbiAgICAgICAgbmFtZTogZGJOYW1lLFxuICAgICAgICBpbnN0YW5jZUlkOiBpbnN0YW5jZUlkLFxuICAgICAgICBibG9iU3VwcG9ydDogYmxvYlN1cHBvcnRcbiAgICAgIH07XG5cbiAgICAgIGNhY2hlZERCcy5zZXQoZGJOYW1lLCB7XG4gICAgICAgIGlkYjogaWRiLFxuICAgICAgICBnbG9iYWw6IGFwaS5fbWV0YVxuICAgICAgfSk7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHN0b3JlTWV0YURvY0lmUmVhZHkoKSB7XG4gICAgICBpZiAodHlwZW9mIGRvY0NvdW50ID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgbWV0YURvYyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGluc3RhbmNlS2V5ID0gZGJOYW1lICsgJ19pZCc7XG4gICAgICBpZiAoaW5zdGFuY2VLZXkgaW4gbWV0YURvYykge1xuICAgICAgICBpbnN0YW5jZUlkID0gbWV0YURvY1tpbnN0YW5jZUtleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRhRG9jW2luc3RhbmNlS2V5XSA9IGluc3RhbmNlSWQgPSB1dWlkKCk7XG4gICAgICB9XG4gICAgICBtZXRhRG9jLmRvY0NvdW50ID0gZG9jQ291bnQ7XG4gICAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkucHV0KG1ldGFEb2MpO1xuICAgIH1cblxuICAgIC8vXG4gICAgLy8gZmV0Y2ggb3IgZ2VuZXJhdGUgdGhlIGluc3RhbmNlSWRcbiAgICAvL1xuICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQgfHwgeyBpZDogTUVUQV9TVE9SRSB9O1xuICAgICAgc3RvcmVNZXRhRG9jSWZSZWFkeSgpO1xuICAgIH07XG5cbiAgICAvL1xuICAgIC8vIGNvdW50RG9jc1xuICAgIC8vXG4gICAgY291bnREb2NzKHR4biwgZnVuY3Rpb24gKGNvdW50KSB7XG4gICAgICBkb2NDb3VudCA9IGNvdW50O1xuICAgICAgc3RvcmVNZXRhRG9jSWZSZWFkeSgpO1xuICAgIH0pO1xuXG4gICAgLy9cbiAgICAvLyBjaGVjayBibG9iIHN1cHBvcnRcbiAgICAvL1xuICAgIGlmICghYmxvYlN1cHBvcnRQcm9taXNlKSB7XG4gICAgICAvLyBtYWtlIHN1cmUgYmxvYiBzdXBwb3J0IGlzIG9ubHkgY2hlY2tlZCBvbmNlXG4gICAgICBibG9iU3VwcG9ydFByb21pc2UgPSBjaGVja0Jsb2JTdXBwb3J0KHR4bik7XG4gICAgfVxuXG4gICAgYmxvYlN1cHBvcnRQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgYmxvYlN1cHBvcnQgPSB2YWw7XG4gICAgICBjb21wbGV0ZVNldHVwKCk7XG4gICAgfSk7XG5cbiAgICAvLyBvbmx5IHdoZW4gdGhlIG1ldGFkYXRhIHB1dCB0cmFuc2FjdGlvbiBoYXMgY29tcGxldGVkLFxuICAgIC8vIGNvbnNpZGVyIHRoZSBzZXR1cCBkb25lXG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBzdG9yZWRNZXRhRG9jID0gdHJ1ZTtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB9O1xuXG4gIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgbXNnID0gZS50YXJnZXQuZXJyb3IgJiYgZS50YXJnZXQuZXJyb3IubWVzc2FnZTtcblxuICAgIGlmICghbXNnKSB7XG4gICAgICBtc2cgPSAnRmFpbGVkIHRvIG9wZW4gaW5kZXhlZERCLCBhcmUgeW91IGluIHByaXZhdGUgYnJvd3NpbmcgbW9kZT8nO1xuICAgIH0gZWxzZSBpZiAobXNnLmluZGV4T2YoXCJzdG9yZWQgZGF0YWJhc2UgaXMgYSBoaWdoZXIgdmVyc2lvblwiKSAhPT0gLTEpIHtcbiAgICAgIG1zZyA9IG5ldyBFcnJvcignVGhpcyBEQiB3YXMgY3JlYXRlZCB3aXRoIHRoZSBuZXdlciBcImluZGV4ZWRkYlwiIGFkYXB0ZXIsIGJ1dCB5b3UgYXJlIHRyeWluZyB0byBvcGVuIGl0IHdpdGggdGhlIG9sZGVyIFwiaWRiXCIgYWRhcHRlcicpO1xuICAgIH1cblxuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsIG1zZyk7XG4gICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLCBtc2cpKTtcbiAgfTtcbn1cblxuSWRiUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIC8vIEZvbGxvd2luZyAjNzA4NSBidWdneSBpZGIgdmVyc2lvbnMgKHR5cGljYWxseSBTYWZhcmkgPCAxMC4xKSBhcmVcbiAgLy8gY29uc2lkZXJlZCB2YWxpZC5cblxuICAvLyBPbiBGaXJlZm94IFNlY3VyaXR5RXJyb3IgaXMgdGhyb3duIHdoaWxlIHJlZmVyZW5jaW5nIGluZGV4ZWREQiBpZiBjb29raWVzXG4gIC8vIGFyZSBub3QgYWxsb3dlZC4gYHR5cGVvZiBpbmRleGVkREJgIGFsc28gdHJpZ2dlcnMgdGhlIGVycm9yLlxuICB0cnkge1xuICAgIC8vIHNvbWUgb3V0ZGF0ZWQgaW1wbGVtZW50YXRpb25zIG9mIElEQiB0aGF0IGFwcGVhciBvbiBTYW1zdW5nXG4gICAgLy8gYW5kIEhUQyBBbmRyb2lkIGRldmljZXMgPDQuNCBhcmUgbWlzc2luZyBJREJLZXlSYW5nZVxuICAgIHJldHVybiB0eXBlb2YgaW5kZXhlZERCICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgSURCS2V5UmFuZ2UgIT09ICd1bmRlZmluZWQnO1xuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59O1xuXG5mdW5jdGlvbiBJREJQb3VjaCAoUG91Y2hEQikge1xuICBQb3VjaERCLmFkYXB0ZXIoJ2lkYicsIElkYlBvdWNoLCB0cnVlKTtcbn1cblxuLy8gZGVhZCBzaW1wbGUgcHJvbWlzZSBwb29sLCBpbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vdGltZHAvZXM2LXByb21pc2UtcG9vbFxuLy8gYnV0IG11Y2ggc21hbGxlciBpbiBjb2RlIHNpemUuIGxpbWl0cyB0aGUgbnVtYmVyIG9mIGNvbmN1cnJlbnQgcHJvbWlzZXMgdGhhdCBhcmUgZXhlY3V0ZWRcblxuXG5mdW5jdGlvbiBwb29sKHByb21pc2VGYWN0b3JpZXMsIGxpbWl0KSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJ1bm5pbmcgPSAwO1xuICAgIHZhciBjdXJyZW50ID0gMDtcbiAgICB2YXIgZG9uZSA9IDA7XG4gICAgdmFyIGxlbiA9IHByb21pc2VGYWN0b3JpZXMubGVuZ3RoO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0KCkge1xuICAgICAgcnVubmluZysrO1xuICAgICAgcHJvbWlzZUZhY3Rvcmllc1tjdXJyZW50KytdKCkudGhlbihvblN1Y2Nlc3MsIG9uRXJyb3IpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRvTmV4dCgpIHtcbiAgICAgIGlmICgrK2RvbmUgPT09IGxlbikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcnVuTmV4dEJhdGNoKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25TdWNjZXNzKCkge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZG9OZXh0KCk7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKHRoaXNFcnIpIHtcbiAgICAgIHJ1bm5pbmctLTtcbiAgICAgIGVyciA9IGVyciB8fCB0aGlzRXJyO1xuICAgICAgZG9OZXh0KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcnVuTmV4dEJhdGNoKCkge1xuICAgICAgd2hpbGUgKHJ1bm5pbmcgPCBsaW1pdCAmJiBjdXJyZW50IDwgbGVuKSB7XG4gICAgICAgIHJ1bk5leHQoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBydW5OZXh0QmF0Y2goKTtcbiAgfSk7XG59XG5cbnZhciBDSEFOR0VTX0JBVENIX1NJWkUgPSAyNTtcbnZhciBNQVhfU0lNVUxUQU5FT1VTX1JFVlMgPSA1MDtcbnZhciBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSID0gNTAwMDtcbnZhciBERUZBVUxUX0hFQVJUQkVBVCA9IDEwMDAwO1xuXG52YXIgc3VwcG9ydHNCdWxrR2V0TWFwID0ge307XG5cbmZ1bmN0aW9uIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJvdykge1xuICB2YXIgZG9jID0gcm93LmRvYyB8fCByb3cub2s7XG4gIHZhciBhdHRzID0gZG9jICYmIGRvYy5fYXR0YWNobWVudHM7XG4gIGlmICghYXR0cykge1xuICAgIHJldHVybjtcbiAgfVxuICBPYmplY3Qua2V5cyhhdHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICBhdHQuZGF0YSA9IGI2NFRvQmx1ZmZlcihhdHQuZGF0YSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBlbmNvZGVEb2NJZChpZCkge1xuICBpZiAoL15fZGVzaWduLy50ZXN0KGlkKSkge1xuICAgIHJldHVybiAnX2Rlc2lnbi8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDgpKTtcbiAgfVxuICBpZiAoL15fbG9jYWwvLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfbG9jYWwvJyArIGVuY29kZVVSSUNvbXBvbmVudChpZC5zbGljZSg3KSk7XG4gIH1cbiAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChpZCk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50cyQxKGRvYykge1xuICBpZiAoIWRvYy5fYXR0YWNobWVudHMgfHwgIU9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgdmFyIGF0dGFjaG1lbnQgPSBkb2MuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgaWYgKGF0dGFjaG1lbnQuZGF0YSAmJiB0eXBlb2YgYXR0YWNobWVudC5kYXRhICE9PSAnc3RyaW5nJykge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgIGJsb2JUb0Jhc2U2NChhdHRhY2htZW50LmRhdGEsIHJlc29sdmUpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAoYjY0KSB7XG4gICAgICAgIGF0dGFjaG1lbnQuZGF0YSA9IGI2NDtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBoYXNVcmxQcmVmaXgob3B0cykge1xuICBpZiAoIW9wdHMucHJlZml4KSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHZhciBwcm90b2NvbCA9IHBhcnNlVXJpKG9wdHMucHJlZml4KS5wcm90b2NvbDtcbiAgcmV0dXJuIHByb3RvY29sID09PSAnaHR0cCcgfHwgcHJvdG9jb2wgPT09ICdodHRwcyc7XG59XG5cbi8vIEdldCBhbGwgdGhlIGluZm9ybWF0aW9uIHlvdSBwb3NzaWJseSBjYW4gYWJvdXQgdGhlIFVSSSBnaXZlbiBieSBuYW1lIGFuZFxuLy8gcmV0dXJuIGl0IGFzIGEgc3VpdGFibGUgb2JqZWN0LlxuZnVuY3Rpb24gZ2V0SG9zdChuYW1lLCBvcHRzKSB7XG4gIC8vIGVuY29kZSBkYiBuYW1lIGlmIG9wdHMucHJlZml4IGlzIGEgdXJsICgjNTU3NClcbiAgaWYgKGhhc1VybFByZWZpeChvcHRzKSkge1xuICAgIHZhciBkYk5hbWUgPSBvcHRzLm5hbWUuc3Vic3RyKG9wdHMucHJlZml4Lmxlbmd0aCk7XG4gICAgLy8gRW5zdXJlIHByZWZpeCBoYXMgYSB0cmFpbGluZyBzbGFzaFxuICAgIHZhciBwcmVmaXggPSBvcHRzLnByZWZpeC5yZXBsYWNlKC9cXC8/JC8sICcvJyk7XG4gICAgbmFtZSA9IHByZWZpeCArIGVuY29kZVVSSUNvbXBvbmVudChkYk5hbWUpO1xuICB9XG5cbiAgdmFyIHVyaSA9IHBhcnNlVXJpKG5hbWUpO1xuICBpZiAodXJpLnVzZXIgfHwgdXJpLnBhc3N3b3JkKSB7XG4gICAgdXJpLmF1dGggPSB7dXNlcm5hbWU6IHVyaS51c2VyLCBwYXNzd29yZDogdXJpLnBhc3N3b3JkfTtcbiAgfVxuXG4gIC8vIFNwbGl0IHRoZSBwYXRoIHBhcnQgb2YgdGhlIFVSSSBpbnRvIHBhcnRzIHVzaW5nICcvJyBhcyB0aGUgZGVsaW1pdGVyXG4gIC8vIGFmdGVyIHJlbW92aW5nIGFueSBsZWFkaW5nICcvJyBhbmQgYW55IHRyYWlsaW5nICcvJ1xuICB2YXIgcGFydHMgPSB1cmkucGF0aC5yZXBsYWNlKC8oXlxcL3xcXC8kKS9nLCAnJykuc3BsaXQoJy8nKTtcblxuICB1cmkuZGIgPSBwYXJ0cy5wb3AoKTtcbiAgLy8gUHJldmVudCBkb3VibGUgZW5jb2Rpbmcgb2YgVVJJIGNvbXBvbmVudFxuICBpZiAodXJpLmRiLmluZGV4T2YoJyUnKSA9PT0gLTEpIHtcbiAgICB1cmkuZGIgPSBlbmNvZGVVUklDb21wb25lbnQodXJpLmRiKTtcbiAgfVxuXG4gIHVyaS5wYXRoID0gcGFydHMuam9pbignLycpO1xuXG4gIHJldHVybiB1cmk7XG59XG5cbi8vIEdlbmVyYXRlIGEgVVJMIHdpdGggdGhlIGhvc3QgZGF0YSBnaXZlbiBieSBvcHRzIGFuZCB0aGUgZ2l2ZW4gcGF0aFxuZnVuY3Rpb24gZ2VuREJVcmwob3B0cywgcGF0aCkge1xuICByZXR1cm4gZ2VuVXJsKG9wdHMsIG9wdHMuZGIgKyAnLycgKyBwYXRoKTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5Vcmwob3B0cywgcGF0aCkge1xuICAvLyBJZiB0aGUgaG9zdCBhbHJlYWR5IGhhcyBhIHBhdGgsIHRoZW4gd2UgbmVlZCB0byBoYXZlIGEgcGF0aCBkZWxpbWl0ZXJcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgcGF0aCBkZWxpbWl0ZXIgaXMgdGhlIGVtcHR5IHN0cmluZ1xuICB2YXIgcGF0aERlbCA9ICFvcHRzLnBhdGggPyAnJyA6ICcvJztcblxuICAvLyBJZiB0aGUgaG9zdCBhbHJlYWR5IGhhcyBhIHBhdGgsIHRoZW4gd2UgbmVlZCB0byBoYXZlIGEgcGF0aCBkZWxpbWl0ZXJcbiAgLy8gT3RoZXJ3aXNlLCB0aGUgcGF0aCBkZWxpbWl0ZXIgaXMgdGhlIGVtcHR5IHN0cmluZ1xuICByZXR1cm4gb3B0cy5wcm90b2NvbCArICc6Ly8nICsgb3B0cy5ob3N0ICtcbiAgICAgICAgIChvcHRzLnBvcnQgPyAoJzonICsgb3B0cy5wb3J0KSA6ICcnKSArXG4gICAgICAgICAnLycgKyBvcHRzLnBhdGggKyBwYXRoRGVsICsgcGF0aDtcbn1cblxuZnVuY3Rpb24gcGFyYW1zVG9TdHIocGFyYW1zKSB7XG4gIHJldHVybiAnPycgKyBPYmplY3Qua2V5cyhwYXJhbXMpLm1hcChmdW5jdGlvbiAoaykge1xuICAgIHJldHVybiBrICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtc1trXSk7XG4gIH0pLmpvaW4oJyYnKTtcbn1cblxuZnVuY3Rpb24gc2hvdWxkQ2FjaGVCdXN0KG9wdHMpIHtcbiAgdmFyIHVhID0gKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQpID9cbiAgICAgIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKSA6ICcnO1xuICB2YXIgaXNJRSA9IHVhLmluZGV4T2YoJ21zaWUnKSAhPT0gLTE7XG4gIHZhciBpc1RyaWRlbnQgPSB1YS5pbmRleE9mKCd0cmlkZW50JykgIT09IC0xO1xuICB2YXIgaXNFZGdlID0gdWEuaW5kZXhPZignZWRnZScpICE9PSAtMTtcbiAgdmFyIGlzR0VUID0gISgnbWV0aG9kJyBpbiBvcHRzKSB8fCBvcHRzLm1ldGhvZCA9PT0gJ0dFVCc7XG4gIHJldHVybiAoaXNJRSB8fCBpc1RyaWRlbnQgfHwgaXNFZGdlKSAmJiBpc0dFVDtcbn1cblxuLy8gSW1wbGVtZW50cyB0aGUgUG91Y2hEQiBBUEkgZm9yIGRlYWxpbmcgd2l0aCBDb3VjaERCIGluc3RhbmNlcyBvdmVyIEhUVFBcbmZ1bmN0aW9uIEh0dHBQb3VjaChvcHRzLCBjYWxsYmFjaykge1xuXG4gIC8vIFRoZSBmdW5jdGlvbnMgdGhhdCB3aWxsIGJlIHB1YmxpY2x5IGF2YWlsYWJsZSBmb3IgSHR0cFBvdWNoXG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIHZhciBob3N0ID0gZ2V0SG9zdChvcHRzLm5hbWUsIG9wdHMpO1xuICB2YXIgZGJVcmwgPSBnZW5EQlVybChob3N0LCAnJyk7XG5cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIHZhciBvdXJGZXRjaCA9IGZ1bmN0aW9uICh1cmwsIG9wdGlvbnMpIHtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCBuZXcgaCgpO1xuXG4gICAgb3B0aW9ucy5jcmVkZW50aWFscyA9ICdpbmNsdWRlJztcblxuICAgIGlmIChvcHRzLmF1dGggfHwgaG9zdC5hdXRoKSB7XG4gICAgICB2YXIgbkF1dGggPSBvcHRzLmF1dGggfHwgaG9zdC5hdXRoO1xuICAgICAgdmFyIHN0ciA9IG5BdXRoLnVzZXJuYW1lICsgJzonICsgbkF1dGgucGFzc3dvcmQ7XG4gICAgICB2YXIgdG9rZW4gPSB0aGlzQnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSkpO1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQXV0aG9yaXphdGlvbicsICdCYXNpYyAnICsgdG9rZW4pO1xuICAgIH1cblxuICAgIHZhciBoZWFkZXJzID0gb3B0cy5oZWFkZXJzIHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLmFwcGVuZChrZXksIGhlYWRlcnNba2V5XSk7XG4gICAgfSk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2hvdWxkQ2FjaGVCdXN0KG9wdGlvbnMpKSB7XG4gICAgICB1cmwgKz0gKHVybC5pbmRleE9mKCc/JykgPT09IC0xID8gJz8nIDogJyYnKSArICdfbm9uY2U9JyArIERhdGUubm93KCk7XG4gICAgfVxuXG4gICAgdmFyIGZldGNoRnVuID0gb3B0cy5mZXRjaCB8fCBmJDE7XG4gICAgcmV0dXJuIGZldGNoRnVuKHVybCwgb3B0aW9ucyk7XG4gIH07XG5cbiAgZnVuY3Rpb24gYWRhcHRlckZ1biQkMShuYW1lLCBmdW4pIHtcbiAgICByZXR1cm4gYWRhcHRlckZ1bihuYW1lLCBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBhcmdzLnBvcCgpO1xuICAgICAgICBjYWxsYmFjayhlKTtcbiAgICAgIH0pO1xuICAgIH0pKS5iaW5kKGFwaSk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEpTT04odXJsLCBvcHRpb25zLCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlc3VsdCA9IHt9O1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycy5nZXQoJ0NvbnRlbnQtVHlwZScpKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdDb250ZW50LVR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycy5nZXQoJ0FjY2VwdCcpKSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xuICAgIH1cblxuICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXN1bHQub2sgPSByZXNwb25zZS5vaztcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIHJlc3VsdC5kYXRhID0ganNvbjtcbiAgICAgIGlmICghcmVzdWx0Lm9rKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnN0YXR1cyA9IHJlc3VsdC5zdGF0dXM7XG4gICAgICAgIHZhciBlcnIgPSBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdC5kYXRhKTtcbiAgICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChBcnJheS5pc0FycmF5KHJlc3VsdC5kYXRhKSkge1xuICAgICAgICByZXN1bHQuZGF0YSA9IHJlc3VsdC5kYXRhLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgICAgIGlmICh2LmVycm9yIHx8IHYubWlzc2luZykge1xuICAgICAgICAgICAgcmV0dXJuIGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2Uodik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgdmFyIHNldHVwUHJvbWlzZTtcblxuICBmdW5jdGlvbiBzZXR1cCgpIHtcbiAgICBpZiAob3B0cy5za2lwX3NldHVwKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuXG4gICAgLy8gSWYgdGhlcmUgaXMgYSBzZXR1cCBpbiBwcm9jZXNzIG9yIHByZXZpb3VzIHN1Y2Nlc3NmdWwgc2V0dXBcbiAgICAvLyBkb25lIHRoZW4gd2Ugd2lsbCB1c2UgdGhhdFxuICAgIC8vIElmIHByZXZpb3VzIHNldHVwcyBoYXZlIGJlZW4gcmVqZWN0ZWQgd2Ugd2lsbCB0cnkgYWdhaW5cbiAgICBpZiAoc2V0dXBQcm9taXNlKSB7XG4gICAgICByZXR1cm4gc2V0dXBQcm9taXNlO1xuICAgIH1cblxuICAgIHNldHVwUHJvbWlzZSA9IGZldGNoSlNPTihkYlVybCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICYmIGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICAvLyBEb2VzbnQgZXhpc3QsIGNyZWF0ZSBpdFxuICAgICAgICBleHBsYWluRXJyb3IoNDA0LCAnUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlIGV4aXN0cy4nKTtcbiAgICAgICAgcmV0dXJuIGZldGNoSlNPTihkYlVybCwge21ldGhvZDogJ1BVVCd9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8vIElmIHdlIHRyeSB0byBjcmVhdGUgYSBkYXRhYmFzZSB0aGF0IGFscmVhZHkgZXhpc3RzLCBza2lwcGVkIGluXG4gICAgICAvLyBpc3RhbmJ1bCBzaW5jZSBpdHMgY2F0Y2hpbmcgYSByYWNlIGNvbmRpdGlvbi5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyciAmJiBlcnIuc3RhdHVzICYmIGVyci5zdGF0dXMgPT09IDQxMikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChlcnIpO1xuICAgIH0pO1xuXG4gICAgc2V0dXBQcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHNldHVwUHJvbWlzZSA9IG51bGw7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gc2V0dXBQcm9taXNlO1xuICB9XG5cbiAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICB9KTtcblxuICBhcGkuX3JlbW90ZSA9IHRydWU7XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdodHRwJztcbiAgfTtcblxuICBhcGkuaWQgPSBhZGFwdGVyRnVuJCQxKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIG91ckZldGNoKGdlblVybChob3N0LCAnJykpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIC8vIEJhZCByZXNwb25zZSBvciBtaXNzaW5nIGB1dWlkYCBzaG91bGQgbm90IHByZXZlbnQgSUQgZ2VuZXJhdGlvbi5cbiAgICAgIHZhciB1dWlkJCQxID0gKHJlc3VsdCAmJiByZXN1bHQudXVpZCkgP1xuICAgICAgICAgIChyZXN1bHQudXVpZCArIGhvc3QuZGIpIDogZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgdXVpZCQkMSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFNlbmRzIGEgUE9TVCByZXF1ZXN0IHRvIHRoZSBob3N0IGNhbGxpbmcgdGhlIGNvdWNoZGIgX2NvbXBhY3QgZnVuY3Rpb25cbiAgLy8gICAgdmVyc2lvbjogVGhlIHZlcnNpb24gb2YgQ291Y2hEQiBpdCBpcyBydW5uaW5nXG4gIGFwaS5jb21wYWN0ID0gYWRhcHRlckZ1biQkMSgnY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19jb21wYWN0JyksIHttZXRob2Q6ICdQT1NUJ30pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgZnVuY3Rpb24gcGluZygpIHtcbiAgICAgICAgYXBpLmluZm8oZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgICAgLy8gQ291Y2hEQiBtYXkgc2VuZCBhIFwiY29tcGFjdF9ydW5uaW5nOnRydWVcIiBpZiBpdCdzXG4gICAgICAgICAgLy8gYWxyZWFkeSBjb21wYWN0aW5nLiBQb3VjaERCIFNlcnZlciBkb2Vzbid0LlxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgICAgaWYgKHJlcyAmJiAhcmVzLmNvbXBhY3RfcnVubmluZykge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQocGluZywgb3B0cy5pbnRlcnZhbCB8fCAyMDApO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICAvLyBQaW5nIHRoZSBodHRwIGlmIGl0J3MgZmluaXNoZWQgY29tcGFjdGlvblxuICAgICAgcGluZygpO1xuICAgIH0pO1xuICB9KTtcblxuICBhcGkuYnVsa0dldCA9IGFkYXB0ZXJGdW4oJ2J1bGtHZXQnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXQoY2IpIHtcbiAgICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgICAgcGFyYW1zLnJldnMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgICBwYXJhbXMubGF0ZXN0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2J1bGtfZ2V0JyArIHBhcmFtc1RvU3RyKHBhcmFtcykpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IGRvY3M6IG9wdHMuZG9jc30pXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICByZXN1bHQuZGF0YS5yZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICAgICAgcmVzLmRvY3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2IobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgICAgfSkuY2F0Y2goY2IpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gZG9CdWxrR2V0U2hpbSgpIHtcbiAgICAgIC8vIGF2b2lkIFwidXJsIHRvbyBsb25nIGVycm9yXCIgYnkgc3BsaXR0aW5nIHVwIGludG8gbXVsdGlwbGUgcmVxdWVzdHNcbiAgICAgIHZhciBiYXRjaFNpemUgPSBNQVhfU0lNVUxUQU5FT1VTX1JFVlM7XG4gICAgICB2YXIgbnVtQmF0Y2hlcyA9IE1hdGguY2VpbChvcHRzLmRvY3MubGVuZ3RoIC8gYmF0Y2hTaXplKTtcbiAgICAgIHZhciBudW1Eb25lID0gMDtcbiAgICAgIHZhciByZXN1bHRzID0gbmV3IEFycmF5KG51bUJhdGNoZXMpO1xuXG4gICAgICBmdW5jdGlvbiBvblJlc3VsdChiYXRjaE51bSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgICAgLy8gZXJyIGlzIGltcG9zc2libGUgYmVjYXVzZSBzaGltIHJldHVybnMgYSBsaXN0IG9mIGVycnMgaW4gdGhhdCBjYXNlXG4gICAgICAgICAgcmVzdWx0c1tiYXRjaE51bV0gPSByZXMucmVzdWx0cztcbiAgICAgICAgICBpZiAoKytudW1Eb25lID09PSBudW1CYXRjaGVzKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7cmVzdWx0czogZmxhdHRlbihyZXN1bHRzKX0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1CYXRjaGVzOyBpKyspIHtcbiAgICAgICAgdmFyIHN1Yk9wdHMgPSBwaWNrKG9wdHMsIFsncmV2cycsICdhdHRhY2htZW50cycsICdiaW5hcnknLCAnbGF0ZXN0J10pO1xuICAgICAgICBzdWJPcHRzLmRvY3MgPSBvcHRzLmRvY3Muc2xpY2UoaSAqIGJhdGNoU2l6ZSxcbiAgICAgICAgICBNYXRoLm1pbihvcHRzLmRvY3MubGVuZ3RoLCAoaSArIDEpICogYmF0Y2hTaXplKSk7XG4gICAgICAgIGJ1bGtHZXQoc2VsZiwgc3ViT3B0cywgb25SZXN1bHQoaSkpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIG1hcmsgdGhlIHdob2xlIGRhdGFiYXNlIGFzIGVpdGhlciBzdXBwb3J0aW5nIG9yIG5vdCBzdXBwb3J0aW5nIF9idWxrX2dldFxuICAgIHZhciBkYlVybCA9IGdlblVybChob3N0LCAnJyk7XG4gICAgdmFyIHN1cHBvcnRzQnVsa0dldCA9IHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF07XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2Ygc3VwcG9ydHNCdWxrR2V0ICE9PSAnYm9vbGVhbicpIHtcbiAgICAgIC8vIGNoZWNrIGlmIHRoaXMgZGF0YWJhc2Ugc3VwcG9ydHMgX2J1bGtfZ2V0XG4gICAgICBkb0J1bGtHZXQoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdID0gZmFsc2U7XG4gICAgICAgICAgZXhwbGFpbkVycm9yKFxuICAgICAgICAgICAgZXJyLnN0YXR1cyxcbiAgICAgICAgICAgICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgJyArXG4gICAgICAgICAgICAnc3VwcG9ydHMgdGhlIF9idWxrX2dldCBBUEkuJ1xuICAgICAgICAgICk7XG4gICAgICAgICAgZG9CdWxrR2V0U2hpbSgpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSB0cnVlO1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoc3VwcG9ydHNCdWxrR2V0KSB7XG4gICAgICBkb0J1bGtHZXQoY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgfVxuICB9KTtcblxuICAvLyBDYWxscyBHRVQgb24gdGhlIGhvc3QsIHdoaWNoIGdldHMgYmFjayBhIEpTT04gc3RyaW5nIGNvbnRhaW5pbmdcbiAgLy8gICAgY291Y2hkYjogQSB3ZWxjb21lIHN0cmluZ1xuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLl9pbmZvID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCAnJykpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgIGluZm8uaG9zdCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGluZm8pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuICBhcGkuZmV0Y2ggPSBmdW5jdGlvbiAocGF0aCwgb3B0aW9ucykge1xuICAgIHJldHVybiBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHVybCA9IHBhdGguc3Vic3RyaW5nKDAsIDEpID09PSAnLycgP1xuICAgICAgICBnZW5VcmwoaG9zdCwgcGF0aC5zdWJzdHJpbmcoMSkpIDpcbiAgICAgICAgZ2VuREJVcmwoaG9zdCwgcGF0aCk7XG4gICAgICByZXR1cm4gb3VyRmV0Y2godXJsLCBvcHRpb25zKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBHZXQgdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGlkIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRoZSBpZCBjb3VsZCBiZSBzb2xlbHkgdGhlIF9pZCBpbiB0aGUgZGF0YWJhc2UsIG9yIGl0IG1heSBiZSBhXG4gIC8vIF9kZXNpZ24vSUQgb3IgX2xvY2FsL0lEIHBhdGhcbiAgYXBpLmdldCA9IGFkYXB0ZXJGdW4kJDEoJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBubyBvcHRpb25zIHdlcmUgZ2l2ZW4sIHNldCB0aGUgY2FsbGJhY2sgdG8gdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG5cbiAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2c19pbmZvKSB7XG4gICAgICBwYXJhbXMucmV2c19pbmZvID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5sYXRlc3QpIHtcbiAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgICAgaWYgKG9wdHMub3Blbl9yZXZzICE9PSBcImFsbFwiKSB7XG4gICAgICAgIG9wdHMub3Blbl9yZXZzID0gSlNPTi5zdHJpbmdpZnkob3B0cy5vcGVuX3JldnMpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLm9wZW5fcmV2cyA9IG9wdHMub3Blbl9yZXZzO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldikge1xuICAgICAgcGFyYW1zLnJldiA9IG9wdHMucmV2O1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IG9wdHMuY29uZmxpY3RzO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gb3B0cy51cGRhdGVfc2VxO1xuICAgIH1cblxuICAgIGlkID0gZW5jb2RlRG9jSWQoaWQpO1xuXG4gICAgZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50cyhkb2MpIHtcbiAgICAgIHZhciBhdHRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBmaWxlbmFtZXMgPSBhdHRzICYmIE9iamVjdC5rZXlzKGF0dHMpO1xuICAgICAgaWYgKCFhdHRzIHx8ICFmaWxlbmFtZXMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIHdlIGZldGNoIHRoZXNlIG1hbnVhbGx5IGluIHNlcGFyYXRlIFhIUnMsIGJlY2F1c2VcbiAgICAgIC8vIFN5bmMgR2F0ZXdheSB3b3VsZCBub3JtYWxseSBzZW5kIGl0IGJhY2sgYXMgbXVsdGlwYXJ0L21peGVkLFxuICAgICAgLy8gd2hpY2ggd2UgY2Fubm90IHBhcnNlLiBBbHNvLCB0aGlzIGlzIG1vcmUgZWZmaWNpZW50IHRoYW5cbiAgICAgIC8vIHJlY2VpdmluZyBhdHRhY2htZW50cyBhcyBiYXNlNjQtZW5jb2RlZCBzdHJpbmdzLlxuICAgICAgZnVuY3Rpb24gZmV0Y2hEYXRhKGZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICAgICAgdmFyIHBhdGggPSBlbmNvZGVEb2NJZChkb2MuX2lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChmaWxlbmFtZSkgK1xuICAgICAgICAgICAgJz9yZXY9JyArIGRvYy5fcmV2O1xuICAgICAgICByZXR1cm4gb3VyRmV0Y2goZ2VuREJVcmwoaG9zdCwgcGF0aCkpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgICAgaWYgKCdidWZmZXInIGluIHJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYnVmZmVyKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikge1xuICAgICAgICAgIGlmIChvcHRzLmJpbmFyeSkge1xuICAgICAgICAgICAgdmFyIHR5cGVGaWVsZERlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGJsb2IuX19wcm90b19fLCAndHlwZScpO1xuICAgICAgICAgICAgaWYgKCF0eXBlRmllbGREZXNjcmlwdG9yIHx8IHR5cGVGaWVsZERlc2NyaXB0b3Iuc2V0KSB7XG4gICAgICAgICAgICAgIGJsb2IudHlwZSA9IGF0dC5jb250ZW50X3R5cGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gYmxvYjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgICBibG9iVG9CYXNlNjQoYmxvYiwgcmVzb2x2ZSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgYXR0LmRhdGEgPSBkYXRhO1xuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgdmFyIHByb21pc2VGYWN0b3JpZXMgPSBmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBmZXRjaERhdGEoZmlsZW5hbWUpO1xuICAgICAgICB9O1xuICAgICAgfSk7XG5cbiAgICAgIC8vIFRoaXMgbGltaXRzIHRoZSBudW1iZXIgb2YgcGFyYWxsZWwgeGhyIHJlcXVlc3RzIHRvIDUgYW55IHRpbWVcbiAgICAgIC8vIHRvIGF2b2lkIGlzc3VlcyB3aXRoIG1heGltdW0gYnJvd3NlciByZXF1ZXN0IGxpbWl0c1xuICAgICAgcmV0dXJuIHBvb2wocHJvbWlzZUZhY3RvcmllcywgNSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hBbGxBdHRhY2htZW50cyhkb2NPckRvY3MpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGRvY09yRG9jcykpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRvY09yRG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIGlmIChkb2Mub2spIHtcbiAgICAgICAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvYy5vayk7XG4gICAgICAgICAgfVxuICAgICAgICB9KSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hBdHRhY2htZW50cyhkb2NPckRvY3MpO1xuICAgIH1cblxuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgIGZldGNoSlNPTih1cmwpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAgIHJldHVybiBmZXRjaEFsbEF0dGFjaG1lbnRzKHJlcy5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcy5kYXRhKTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICBlLmRvY0lkID0gaWQ7XG4gICAgICBjYWxsYmFjayhlKTtcbiAgICB9KTtcbiAgfSk7XG5cblxuICAvLyBEZWxldGUgdGhlIGRvY3VtZW50IGdpdmVuIGJ5IGRvYyBmcm9tIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICBhcGkucmVtb3ZlID0gYWRhcHRlckZ1biQkMSgncmVtb3ZlJywgZnVuY3Rpb24gKGRvY09ySWQsIG9wdHNPclJldiwgb3B0cywgY2IpIHtcbiAgICB2YXIgZG9jO1xuICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaWQsIHJldiwgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICAgIGRvYyA9IHtcbiAgICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgICBfcmV2OiBvcHRzT3JSZXZcbiAgICAgIH07XG4gICAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGRvYywgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHNPclJldjtcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2IgPSBvcHRzO1xuICAgICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgICAgfVxuICAgIH1cblxuICAgIHZhciByZXYgPSAoZG9jLl9yZXYgfHwgb3B0cy5yZXYpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2MuX2lkKSkgKyAnP3Jldj0nICsgcmV2O1xuXG4gICAgZmV0Y2hKU09OKHVybCwge21ldGhvZDogJ0RFTEVURSd9LCBjYikuY2F0Y2goY2IpO1xuICB9KTtcblxuICBmdW5jdGlvbiBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnRJZC5zcGxpdChcIi9cIikubWFwKGVuY29kZVVSSUNvbXBvbmVudCkuam9pbihcIi9cIik7XG4gIH1cblxuICAvLyBHZXQgdGhlIGF0dGFjaG1lbnRcbiAgYXBpLmdldEF0dGFjaG1lbnQgPSBhZGFwdGVyRnVuJCQxKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgcGFyYW1zID0gb3B0cy5yZXYgPyAoJz9yZXY9JyArIG9wdHMucmV2KSA6ICcnO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkpICsgJy8nICtcbiAgICAgICAgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkgKyBwYXJhbXM7XG4gICAgdmFyIGNvbnRlbnRUeXBlO1xuICAgIG91ckZldGNoKHVybCwge21ldGhvZDogJ0dFVCd9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIHRocm93IHJlc3BvbnNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyICYmIHR5cGVvZiByZXNwb25zZS5idWZmZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYnVmZmVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICByZXR1cm4gcmVzcG9uc2UuYmxvYigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkudGhlbihmdW5jdGlvbiAoYmxvYikge1xuICAgICAgLy8gVE9ETzogYWxzbyByZW1vdmVcbiAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3Nlcikge1xuICAgICAgICBibG9iLnR5cGUgPSBjb250ZW50VHlwZTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIGJsb2IpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIFJlbW92ZSB0aGUgYXR0YWNobWVudCBnaXZlbiBieSB0aGUgaWQgYW5kIHJldlxuICBhcGkucmVtb3ZlQXR0YWNobWVudCA9ICBhZGFwdGVyRnVuJCQxKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jSWQpICsgJy8nICtcbiAgICAgICAgICAgICAgICAgICAgICAgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkpICsgJz9yZXY9JyArIHJldjtcbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIEFkZCB0aGUgYXR0YWNobWVudCBnaXZlbiBieSBibG9iIGFuZCBpdHMgY29udGVudFR5cGUgcHJvcGVydHlcbiAgLy8gdG8gdGhlIGRvY3VtZW50IHdpdGggdGhlIGdpdmVuIGlkLCB0aGUgcmV2aXNpb24gZ2l2ZW4gYnkgcmV2LCBhbmRcbiAgLy8gYWRkIGl0IHRvIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICBhcGkucHV0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldiwgYmxvYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGUsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IHR5cGU7XG4gICAgICB0eXBlID0gYmxvYjtcbiAgICAgIGJsb2IgPSByZXY7XG4gICAgICByZXYgPSBudWxsO1xuICAgIH1cbiAgICB2YXIgaWQgPSBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgKyBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKTtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgaWQpO1xuICAgIGlmIChyZXYpIHtcbiAgICAgIHVybCArPSAnP3Jldj0nICsgcmV2O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgYmxvYiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGlucHV0IGlzIGFzc3VtZWQgdG8gYmUgYSBiYXNlNjQgc3RyaW5nXG4gICAgICB2YXIgYmluYXJ5O1xuICAgICAgdHJ5IHtcbiAgICAgICAgYmluYXJ5ID0gdGhpc0F0b2IoYmxvYik7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAgICAgICAgICAgICAgICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJykpO1xuICAgICAgfVxuICAgICAgYmxvYiA9IGJpbmFyeSA/IGJpblN0cmluZ1RvQmx1ZmZlcihiaW5hcnksIHR5cGUpIDogJyc7XG4gICAgfVxuXG4gICAgLy8gQWRkIHRoZSBhdHRhY2htZW50XG4gICAgZmV0Y2hKU09OKHVybCwge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiB0eXBlfSksXG4gICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgYm9keTogYmxvYlxuICAgIH0sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgbXVsdGlwbGUgZG9jdW1lbnRzIGdpdmVuIGJ5IHJlcSBpbiB0aGUgZGF0YWJhc2VcbiAgLy8gZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLl9idWxrRG9jcyA9IGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbmV3X2VkaXRzPWZhbHNlIHRoZW4gaXQgcHJldmVudHMgdGhlIGRhdGFiYXNlIGZyb20gY3JlYXRpbmdcbiAgICAvLyBuZXcgcmV2aXNpb24gbnVtYmVycyBmb3IgdGhlIGRvY3VtZW50cy4gSW5zdGVhZCBpdCBqdXN0IHVzZXNcbiAgICAvLyB0aGUgb2xkIG9uZXMuIFRoaXMgaXMgdXNlZCBpbiBkYXRhYmFzZSByZXBsaWNhdGlvbi5cbiAgICByZXEubmV3X2VkaXRzID0gb3B0cy5uZXdfZWRpdHM7XG5cbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlcS5kb2NzLm1hcChwcmVwcm9jZXNzQXR0YWNobWVudHMkMSkpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLy8gVXBkYXRlL2NyZWF0ZSB0aGUgZG9jdW1lbnRzXG4gICAgICByZXR1cm4gZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19kb2NzJyksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICAgIH0sIGNhbGxiYWNrKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH07XG5cblxuICAvLyBVcGRhdGUvY3JlYXRlIGRvY3VtZW50XG4gIGFwaS5fcHV0ID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByZXByb2Nlc3NBdHRhY2htZW50cyQxKGRvYyk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSwge1xuICAgICAgICBtZXRob2Q6ICdQVVQnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShkb2MpXG4gICAgICB9KTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBlcnIuZG9jSWQgPSBkb2MgJiYgZG9jLl9pZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSk7XG4gIH07XG5cblxuICAvLyBHZXQgYSBsaXN0aW5nIG9mIHRoZSBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuXG4gIC8vIGJ5IGhvc3QgYW5kIG9yZGVyZWQgYnkgaW5jcmVhc2luZyBpZC5cbiAgYXBpLmFsbERvY3MgPSBhZGFwdGVyRnVuJCQxKCdhbGxEb2NzJywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIEdFVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIHZhciBib2R5O1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHBhcmFtcy5kZXNjZW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIHBhcmFtcy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgIH1cblxuICAgIC8vIGFkZGVkIGluIENvdWNoREIgMS42LjBcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5rZXkpIHtcbiAgICAgIHBhcmFtcy5rZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLmtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc3RhcnRfa2V5KSB7XG4gICAgICBvcHRzLnN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc3RhcnRrZXkpIHtcbiAgICAgIHBhcmFtcy5zdGFydGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMuc3RhcnRrZXkpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuZF9rZXkpIHtcbiAgICAgIG9wdHMuZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICAgIH1cblxuICAgIGlmIChvcHRzLmVuZGtleSkge1xuICAgICAgcGFyYW1zLmVuZGtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMuZW5ka2V5KTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5pbmNsdXNpdmVfZW5kID0gISFvcHRzLmluY2x1c2l2ZV9lbmQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuc2tpcCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5za2lwID0gb3B0cy5za2lwO1xuICAgIH1cblxuICAgIHZhciBwYXJhbVN0ciA9IHBhcmFtc1RvU3RyKHBhcmFtcyk7XG5cbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICB9XG5cbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19hbGxfZG9jcycgKyBwYXJhbVN0ciksIHtcbiAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICByZXN1bHQuZGF0YS5yb3dzLmZvckVhY2gocmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIpO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gR2V0IGEgbGlzdCBvZiBjaGFuZ2VzIG1hZGUgdG8gZG9jdW1lbnRzIGluIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICAvLyBUT0RPIEFjY29yZGluZyB0byB0aGUgUkVBRE1FLCB0aGVyZSBzaG91bGQgYmUgdHdvIG90aGVyIG1ldGhvZHMgaGVyZSxcbiAgLy8gYXBpLmNoYW5nZXMuYWRkTGlzdGVuZXIgYW5kIGFwaS5jaGFuZ2VzLnJlbW92ZUxpc3RlbmVyLlxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiAob3B0cykge1xuXG4gICAgLy8gV2UgaW50ZXJuYWxseSBwYWdlIHRoZSByZXN1bHRzIG9mIGEgY2hhbmdlcyByZXF1ZXN0LCB0aGlzIG1lYW5zXG4gICAgLy8gaWYgdGhlcmUgaXMgYSBsYXJnZSBzZXQgb2YgY2hhbmdlcyB0byBiZSByZXR1cm5lZCB3ZSBjYW4gc3RhcnRcbiAgICAvLyBwcm9jZXNzaW5nIHRoZW0gcXVpY2tlciBpbnN0ZWFkIG9mIHdhaXRpbmcgb24gdGhlIGVudGlyZVxuICAgIC8vIHNldCBvZiBjaGFuZ2VzIHRvIHJldHVybiBhbmQgYXR0ZW1wdGluZyB0byBwcm9jZXNzIHRoZW0gYXQgb25jZVxuICAgIHZhciBiYXRjaFNpemUgPSAnYmF0Y2hfc2l6ZScgaW4gb3B0cyA/IG9wdHMuYmF0Y2hfc2l6ZSA6IENIQU5HRVNfQkFUQ0hfU0laRTtcblxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGlmIChvcHRzLmNvbnRpbnVvdXMgJiYgISgnaGVhcnRiZWF0JyBpbiBvcHRzKSkge1xuICAgICAgb3B0cy5oZWFydGJlYXQgPSBERUZBVUxUX0hFQVJUQkVBVDtcbiAgICB9XG5cbiAgICB2YXIgcmVxdWVzdFRpbWVvdXQgPSAoJ3RpbWVvdXQnIGluIG9wdHMpID8gb3B0cy50aW1lb3V0IDogMzAgKiAxMDAwO1xuXG4gICAgLy8gZW5zdXJlIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgYXBwbGllc1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0cyAmJiBvcHRzLnRpbWVvdXQgJiZcbiAgICAgIChyZXF1ZXN0VGltZW91dCAtIG9wdHMudGltZW91dCkgPCBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSKSB7XG4gICAgICAgIHJlcXVlc3RUaW1lb3V0ID0gb3B0cy50aW1lb3V0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cyAmJiBvcHRzLmhlYXJ0YmVhdCAmJlxuICAgICAgIChyZXF1ZXN0VGltZW91dCAtIG9wdHMuaGVhcnRiZWF0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLmhlYXJ0YmVhdCArIENIQU5HRVNfVElNRU9VVF9CVUZGRVI7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgIGlmICgndGltZW91dCcgaW4gb3B0cyAmJiBvcHRzLnRpbWVvdXQpIHtcbiAgICAgIHBhcmFtcy50aW1lb3V0ID0gb3B0cy50aW1lb3V0O1xuICAgIH1cblxuICAgIHZhciBsaW1pdCA9ICh0eXBlb2Ygb3B0cy5saW1pdCAhPT0gJ3VuZGVmaW5lZCcpID8gb3B0cy5saW1pdCA6IGZhbHNlO1xuICAgIHZhciBsZWZ0VG9GZXRjaCA9IGxpbWl0O1xuXG4gICAgaWYgKG9wdHMuc3R5bGUpIHtcbiAgICAgIHBhcmFtcy5zdHlsZSA9IG9wdHMuc3R5bGU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzIHx8IG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29udGludW91cykge1xuICAgICAgcGFyYW1zLmZlZWQgPSAnbG9uZ3BvbGwnO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnNlcV9pbnRlcnZhbCkge1xuICAgICAgcGFyYW1zLnNlcV9pbnRlcnZhbCA9IG9wdHMuc2VxX2ludGVydmFsO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgcGFyYW1zLmNvbmZsaWN0cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgLy8gSWYgdGhlIGhlYXJ0YmVhdCB2YWx1ZSBpcyBmYWxzZSwgaXQgZGlzYWJsZXMgdGhlIGRlZmF1bHQgaGVhcnRiZWF0XG4gICAgICBpZiAob3B0cy5oZWFydGJlYXQpIHtcbiAgICAgICAgcGFyYW1zLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMudmlldyAmJiB0eXBlb2Ygb3B0cy52aWV3ID09PSAnc3RyaW5nJykge1xuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfdmlldyc7XG4gICAgICBwYXJhbXMudmlldyA9IG9wdHMudmlldztcbiAgICB9XG5cbiAgICAvLyBJZiBvcHRzLnF1ZXJ5X3BhcmFtcyBleGlzdHMsIHBhc3MgaXQgdGhyb3VnaCB0byB0aGUgY2hhbmdlcyByZXF1ZXN0LlxuICAgIC8vIFRoZXNlIHBhcmFtZXRlcnMgbWF5IGJlIHVzZWQgYnkgdGhlIGZpbHRlciBvbiB0aGUgc291cmNlIGRhdGFiYXNlLlxuICAgIGlmIChvcHRzLnF1ZXJ5X3BhcmFtcyAmJiB0eXBlb2Ygb3B0cy5xdWVyeV9wYXJhbXMgPT09ICdvYmplY3QnKSB7XG4gICAgICBmb3IgKHZhciBwYXJhbV9uYW1lIGluIG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob3B0cy5xdWVyeV9wYXJhbXMsIHBhcmFtX25hbWUpKSB7XG4gICAgICAgICAgcGFyYW1zW3BhcmFtX25hbWVdID0gb3B0cy5xdWVyeV9wYXJhbXNbcGFyYW1fbmFtZV07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIGJvZHk7XG5cbiAgICBpZiAob3B0cy5kb2NfaWRzKSB7XG4gICAgICAvLyBzZXQgdGhpcyBhdXRvbWFnaWNhbGx5IGZvciB0aGUgdXNlcjsgaXQncyBhbm5veWluZyB0aGF0IGNvdWNoZGJcbiAgICAgIC8vIHJlcXVpcmVzIGJvdGggYSBcImZpbHRlclwiIGFuZCBhIFwiZG9jX2lkc1wiIHBhcmFtLlxuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfZG9jX2lkcyc7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge2RvY19pZHM6IG9wdHMuZG9jX2lkcyB9O1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyLCBzaW1pbGFyIHRvIGFib3ZlXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge3NlbGVjdG9yOiBvcHRzLnNlbGVjdG9yIH07XG4gICAgfVxuXG4gICAgdmFyIGNvbnRyb2xsZXIgPSBuZXcgYSgpO1xuICAgIHZhciBsYXN0RmV0Y2hlZFNlcTtcblxuICAgIC8vIEdldCBhbGwgdGhlIGNoYW5nZXMgc3RhcnRpbmcgd3RpaCB0aGUgb25lIGltbWVkaWF0ZWx5IGFmdGVyIHRoZVxuICAgIC8vIHNlcXVlbmNlIG51bWJlciBnaXZlbiBieSBzaW5jZS5cbiAgICB2YXIgZmV0Y2hEYXRhID0gZnVuY3Rpb24gKHNpbmNlLCBjYWxsYmFjaykge1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwYXJhbXMuc2luY2UgPSBzaW5jZTtcbiAgICAgIC8vIFwic2luY2VcIiBjYW4gYmUgYW55IGtpbmQgb2YganNvbiBvYmplY3QgaW4gQ2xvdWRhbnQvQ291Y2hEQiAyLnhcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAodHlwZW9mIHBhcmFtcy5zaW5jZSA9PT0gXCJvYmplY3RcIikge1xuICAgICAgICBwYXJhbXMuc2luY2UgPSBKU09OLnN0cmluZ2lmeShwYXJhbXMuc2luY2UpO1xuICAgICAgfVxuXG4gICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgIGlmIChsaW1pdCkge1xuICAgICAgICAgIHBhcmFtcy5saW1pdCA9IGxlZnRUb0ZldGNoO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXJhbXMubGltaXQgPSAoIWxpbWl0IHx8IGxlZnRUb0ZldGNoID4gYmF0Y2hTaXplKSA/XG4gICAgICAgICAgYmF0Y2hTaXplIDogbGVmdFRvRmV0Y2g7XG4gICAgICB9XG5cbiAgICAgIC8vIFNldCB0aGUgb3B0aW9ucyBmb3IgdGhlIGFqYXggY2FsbFxuICAgICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsICdfY2hhbmdlcycgKyBwYXJhbXNUb1N0cihwYXJhbXMpKTtcbiAgICAgIHZhciBmZXRjaE9wdHMgPSB7XG4gICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfTtcbiAgICAgIGxhc3RGZXRjaGVkU2VxID0gc2luY2U7XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIEdldCB0aGUgY2hhbmdlc1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZldGNoSlNPTih1cmwsIGZldGNoT3B0cywgY2FsbGJhY2spO1xuICAgICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICAgIH07XG5cbiAgICAvLyBJZiBvcHRzLnNpbmNlIGV4aXN0cywgZ2V0IGFsbCB0aGUgY2hhbmdlcyBmcm9tIHRoZSBzZXF1ZW5jZVxuICAgIC8vIG51bWJlciBnaXZlbiBieSBvcHRzLnNpbmNlLiBPdGhlcndpc2UsIGdldCBhbGwgdGhlIGNoYW5nZXNcbiAgICAvLyBmcm9tIHRoZSBzZXF1ZW5jZSBudW1iZXIgMC5cbiAgICB2YXIgcmVzdWx0cyA9IHtyZXN1bHRzOiBbXX07XG5cbiAgICB2YXIgZmV0Y2hlZCA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgaWYgKG9wdHMuYWJvcnRlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgcmF3X3Jlc3VsdHNfbGVuZ3RoID0gMDtcbiAgICAgIC8vIElmIHRoZSByZXN1bHQgb2YgdGhlIGFqYXggY2FsbCAocmVzKSBjb250YWlucyBjaGFuZ2VzIChyZXMucmVzdWx0cylcbiAgICAgIGlmIChyZXMgJiYgcmVzLnJlc3VsdHMpIHtcbiAgICAgICAgcmF3X3Jlc3VsdHNfbGVuZ3RoID0gcmVzLnJlc3VsdHMubGVuZ3RoO1xuICAgICAgICByZXN1bHRzLmxhc3Rfc2VxID0gcmVzLmxhc3Rfc2VxO1xuICAgICAgICB2YXIgcGVuZGluZyA9IG51bGw7XG4gICAgICAgIHZhciBsYXN0U2VxID0gbnVsbDtcbiAgICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmICh0eXBlb2YgcmVzLnBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgcGVuZGluZyA9IHJlcy5wZW5kaW5nO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ3N0cmluZycgfHwgdHlwZW9mIHJlc3VsdHMubGFzdF9zZXEgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgbGFzdFNlcSA9IHJlc3VsdHMubGFzdF9zZXE7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIGVhY2ggY2hhbmdlXG4gICAgICAgIHZhciByZXEgPSB7fTtcbiAgICAgICAgcmVxLnF1ZXJ5ID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIHJlcy5yZXN1bHRzID0gcmVzLnJlc3VsdHMuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgICAgICAgbGVmdFRvRmV0Y2gtLTtcbiAgICAgICAgICB2YXIgcmV0ID0gZmlsdGVyQ2hhbmdlKG9wdHMpKGMpO1xuICAgICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgICAgICAgcmVzdWx0cy5yZXN1bHRzLnB1c2goYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvcHRzLm9uQ2hhbmdlKGMsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gcmV0O1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoZXJyKSB7XG4gICAgICAgIC8vIEluIGNhc2Ugb2YgYW4gZXJyb3IsIHN0b3AgbGlzdGVuaW5nIGZvciBjaGFuZ2VzIGFuZCBjYWxsXG4gICAgICAgIC8vIG9wdHMuY29tcGxldGVcbiAgICAgICAgb3B0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShlcnIpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIC8vIFRoZSBjaGFuZ2VzIGZlZWQgbWF5IGhhdmUgdGltZWQgb3V0IHdpdGggbm8gcmVzdWx0c1xuICAgICAgLy8gaWYgc28gcmV1c2UgbGFzdCB1cGRhdGUgc2VxdWVuY2VcbiAgICAgIGlmIChyZXMgJiYgcmVzLmxhc3Rfc2VxKSB7XG4gICAgICAgIGxhc3RGZXRjaGVkU2VxID0gcmVzLmxhc3Rfc2VxO1xuICAgICAgfVxuXG4gICAgICB2YXIgZmluaXNoZWQgPSAobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkgfHxcbiAgICAgICAgKHJlcyAmJiByYXdfcmVzdWx0c19sZW5ndGggPCBiYXRjaFNpemUpIHx8XG4gICAgICAgIChvcHRzLmRlc2NlbmRpbmcpO1xuXG4gICAgICBpZiAoKG9wdHMuY29udGludW91cyAmJiAhKGxpbWl0ICYmIGxlZnRUb0ZldGNoIDw9IDApKSB8fCAhZmluaXNoZWQpIHtcbiAgICAgICAgLy8gUXVldWUgYSBjYWxsIHRvIGZldGNoIGFnYWluIHdpdGggdGhlIG5ld2VzdCBzZXF1ZW5jZSBudW1iZXJcbiAgICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHsgZmV0Y2hEYXRhKGxhc3RGZXRjaGVkU2VxLCBmZXRjaGVkKTsgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBXZSdyZSBkb25lLCBjYWxsIHRoZSBjYWxsYmFja1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdHMpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBmZXRjaERhdGEob3B0cy5zaW5jZSB8fCAwLCBmZXRjaGVkKTtcblxuICAgIC8vIFJldHVybiBhIG1ldGhvZCB0byBjYW5jZWwgdGhpcyBtZXRob2QgZnJvbSBwcm9jZXNzaW5nIGFueSBtb3JlXG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBHaXZlbiBhIHNldCBvZiBkb2N1bWVudC9yZXZpc2lvbiBJRHMgKGdpdmVuIGJ5IHJlcSksIHRldHMgdGhlIHN1YnNldCBvZlxuICAvLyB0aG9zZSB0aGF0IGRvIE5PVCBjb3JyZXNwb25kIHRvIHJldmlzaW9ucyBzdG9yZWQgaW4gdGhlIGRhdGFiYXNlLlxuICAvLyBTZWUgaHR0cDovL3dpa2kuYXBhY2hlLm9yZy9jb3VjaGRiL0h0dHBQb3N0UmV2c0RpZmZcbiAgYXBpLnJldnNEaWZmID0gYWRhcHRlckZ1biQkMSgncmV2c0RpZmYnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byBiZSB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cblxuICAgIC8vIEdldCB0aGUgbWlzc2luZyBkb2N1bWVudC9yZXZpc2lvbiBJRHNcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19yZXZzX2RpZmYnKSwge1xuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEpXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgYXBpLl9jbG9zZSA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9kZXN0cm95ID0gZnVuY3Rpb24gKG9wdGlvbnMsIGNhbGxiYWNrKSB7XG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICcnKSwge21ldGhvZDogJ0RFTEVURSd9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBqc29uKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xufVxuXG4vLyBIdHRwUG91Y2ggaXMgYSB2YWxpZCBhZGFwdGVyLlxuSHR0cFBvdWNoLnZhbGlkID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmZ1bmN0aW9uIEh0dHBQb3VjaCQxIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cCcsIEh0dHBQb3VjaCwgZmFsc2UpO1xuICBQb3VjaERCLmFkYXB0ZXIoJ2h0dHBzJywgSHR0cFBvdWNoLCBmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIFF1ZXJ5UGFyc2VFcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNDAwO1xuICB0aGlzLm5hbWUgPSAncXVlcnlfcGFyc2VfZXJyb3InO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBRdWVyeVBhcnNlRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhRdWVyeVBhcnNlRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gTm90Rm91bmRFcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNDA0O1xuICB0aGlzLm5hbWUgPSAnbm90X2ZvdW5kJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgTm90Rm91bmRFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKE5vdEZvdW5kRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gQnVpbHRJbkVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA1MDA7XG4gIHRoaXMubmFtZSA9ICdpbnZhbGlkX3ZhbHVlJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgQnVpbHRJbkVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoQnVpbHRJbkVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spIHtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gICAgICB9KTtcbiAgICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhyZWFzb24pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHByb21pc2U7XG59XG5cbmZ1bmN0aW9uIGNhbGxiYWNraWZ5KGZ1bikge1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgdmFyIGNiID0gYXJncy5wb3AoKTtcbiAgICB2YXIgcHJvbWlzZSA9IGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICBpZiAodHlwZW9mIGNiID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNiKTtcbiAgICB9XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH0pO1xufVxuXG4vLyBQcm9taXNlIGZpbmFsbHkgdXRpbCBzaW1pbGFyIHRvIFEuZmluYWxseVxuZnVuY3Rpb24gZmluKHByb21pc2UsIGZpbmFsUHJvbWlzZUZhY3RvcnkpIHtcbiAgcmV0dXJuIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIGZpbmFsUHJvbWlzZUZhY3RvcnkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiByZXM7XG4gICAgfSk7XG4gIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdGhyb3cgcmVhc29uO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gc2VxdWVudGlhbGl6ZShxdWV1ZSwgcHJvbWlzZUZhY3RvcnkpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICB2YXIgdGhhdCA9IHRoaXM7XG4gICAgcmV0dXJuIHF1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJvbWlzZUZhY3RvcnkuYXBwbHkodGhhdCwgYXJncyk7XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIHVuaXEgYW4gYXJyYXkgb2Ygc3RyaW5ncywgb3JkZXIgbm90IGd1YXJhbnRlZWRcbi8vIHNpbWlsYXIgdG8gdW5kZXJzY29yZS9sb2Rhc2ggXy51bmlxXG5mdW5jdGlvbiB1bmlxKGFycikge1xuICB2YXIgdGhlU2V0ID0gbmV3IEV4cG9ydGVkU2V0KGFycik7XG4gIHZhciByZXN1bHQgPSBuZXcgQXJyYXkodGhlU2V0LnNpemUpO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgdGhlU2V0LmZvckVhY2goZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBtYXBUb0tleXNBcnJheShtYXApIHtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheShtYXAuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICBtYXAuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IGtleTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1aWx0SW5FcnJvcihuYW1lKSB7XG4gIHZhciBtZXNzYWdlID0gJ2J1aWx0aW4gJyArIG5hbWUgK1xuICAgICcgZnVuY3Rpb24gcmVxdWlyZXMgbWFwIHZhbHVlcyB0byBiZSBudW1iZXJzJyArXG4gICAgJyBvciBudW1iZXIgYXJyYXlzJztcbiAgcmV0dXJuIG5ldyBCdWlsdEluRXJyb3IobWVzc2FnZSk7XG59XG5cbmZ1bmN0aW9uIHN1bSh2YWx1ZXMpIHtcbiAgdmFyIHJlc3VsdCA9IDA7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbnVtID0gdmFsdWVzW2ldO1xuICAgIGlmICh0eXBlb2YgbnVtICE9PSAnbnVtYmVyJykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkobnVtKSkge1xuICAgICAgICAvLyBsaXN0cyBvZiBudW1iZXJzIGFyZSBhbHNvIGFsbG93ZWQsIHN1bSB0aGVtIHNlcGFyYXRlbHlcbiAgICAgICAgcmVzdWx0ID0gdHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicgPyBbcmVzdWx0XSA6IHJlc3VsdDtcbiAgICAgICAgZm9yICh2YXIgaiA9IDAsIGpMZW4gPSBudW0ubGVuZ3RoOyBqIDwgakxlbjsgaisrKSB7XG4gICAgICAgICAgdmFyIGpOdW0gPSBudW1bal07XG4gICAgICAgICAgaWYgKHR5cGVvZiBqTnVtICE9PSAnbnVtYmVyJykge1xuICAgICAgICAgICAgdGhyb3cgY3JlYXRlQnVpbHRJbkVycm9yKCdfc3VtJyk7XG4gICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0W2pdID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgcmVzdWx0LnB1c2goak51bSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdFtqXSArPSBqTnVtO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHsgLy8gbm90IGFycmF5L251bWJlclxuICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXN1bHQgKz0gbnVtO1xuICAgIH0gZWxzZSB7IC8vIGFkZCBudW1iZXIgdG8gYXJyYXlcbiAgICAgIHJlc3VsdFswXSArPSBudW07XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbnZhciBsb2cgPSBndWFyZGVkQ29uc29sZS5iaW5kKG51bGwsICdsb2cnKTtcbnZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcbnZhciB0b0pTT04gPSBKU09OLnBhcnNlO1xuXG5mdW5jdGlvbiBldmFsRnVuY3Rpb25XaXRoRXZhbChmdW5jLCBlbWl0KSB7XG4gIHJldHVybiBzY29wZUV2YWwoXG4gICAgXCJyZXR1cm4gKFwiICsgZnVuYy5yZXBsYWNlKC87XFxzKiQvLCBcIlwiKSArIFwiKTtcIixcbiAgICB7XG4gICAgICBlbWl0OiBlbWl0LFxuICAgICAgc3VtOiBzdW0sXG4gICAgICBsb2c6IGxvZyxcbiAgICAgIGlzQXJyYXk6IGlzQXJyYXksXG4gICAgICB0b0pTT046IHRvSlNPTlxuICAgIH1cbiAgKTtcbn1cblxuLypcbiAqIFNpbXBsZSB0YXNrIHF1ZXVlIHRvIHNlcXVlbnRpYWxpemUgYWN0aW9ucy4gQXNzdW1lc1xuICogY2FsbGJhY2tzIHdpbGwgZXZlbnR1YWxseSBmaXJlIChvbmNlKS5cbiAqL1xuXG5cbmZ1bmN0aW9uIFRhc2tRdWV1ZSQxKCkge1xuICB0aGlzLnByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCkge2Z1bGZpbGwoKTsgfSk7XG59XG5UYXNrUXVldWUkMS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKHByb21pc2VGYWN0b3J5KSB7XG4gIHRoaXMucHJvbWlzZSA9IHRoaXMucHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgLy8ganVzdCByZWNvdmVyXG4gIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBwcm9taXNlRmFjdG9yeSgpO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbn07XG5UYXNrUXVldWUkMS5wcm90b3R5cGUuZmluaXNoID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblxuZnVuY3Rpb24gc3RyaW5naWZ5KGlucHV0KSB7XG4gIGlmICghaW5wdXQpIHtcbiAgICByZXR1cm4gJ3VuZGVmaW5lZCc7IC8vIGJhY2t3YXJkcyBjb21wYXQgZm9yIGVtcHR5IHJlZHVjZVxuICB9XG4gIC8vIGZvciBiYWNrd2FyZHMgY29tcGF0IHdpdGggbWFwcmVkdWNlLCBmdW5jdGlvbnMvc3RyaW5ncyBhcmUgc3RyaW5naWZpZWRcbiAgLy8gYXMtaXMuIGV2ZXJ5dGhpbmcgZWxzZSBpcyBKU09OLXN0cmluZ2lmaWVkLlxuICBzd2l0Y2ggKHR5cGVvZiBpbnB1dCkge1xuICAgIGNhc2UgJ2Z1bmN0aW9uJzpcbiAgICAgIC8vIGUuZy4gYSBtYXByZWR1Y2UgbWFwXG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBidWlsdC1pbiBfcmVkdWNlIGZ1bmN0aW9uXG4gICAgICByZXR1cm4gaW5wdXQudG9TdHJpbmcoKTtcbiAgICBkZWZhdWx0OlxuICAgICAgLy8gZS5nLiBhIEpTT04gb2JqZWN0IGluIHRoZSBjYXNlIG9mIG1hbmdvIHF1ZXJpZXNcbiAgICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShpbnB1dCk7XG4gIH1cbn1cblxuLyogY3JlYXRlIGEgc3RyaW5nIHNpZ25hdHVyZSBmb3IgYSB2aWV3IHNvIHdlIGNhbiBjYWNoZSBpdCBhbmQgdW5pcSBpdCAqL1xuZnVuY3Rpb24gY3JlYXRlVmlld1NpZ25hdHVyZShtYXBGdW4sIHJlZHVjZUZ1bikge1xuICAvLyB0aGUgXCJ1bmRlZmluZWRcIiBwYXJ0IGlzIGZvciBiYWNrd2FyZHMgY29tcGF0aWJpbGl0eVxuICByZXR1cm4gc3RyaW5naWZ5KG1hcEZ1bikgKyBzdHJpbmdpZnkocmVkdWNlRnVuKSArICd1bmRlZmluZWQnO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVWaWV3KHNvdXJjZURCLCB2aWV3TmFtZSwgbWFwRnVuLCByZWR1Y2VGdW4sIHRlbXBvcmFyeSwgbG9jYWxEb2NOYW1lKSB7XG4gIHZhciB2aWV3U2lnbmF0dXJlID0gY3JlYXRlVmlld1NpZ25hdHVyZShtYXBGdW4sIHJlZHVjZUZ1bik7XG5cbiAgdmFyIGNhY2hlZFZpZXdzO1xuICBpZiAoIXRlbXBvcmFyeSkge1xuICAgIC8vIGNhY2hlIHRoaXMgdG8gZW5zdXJlIHdlIGRvbid0IHRyeSB0byB1cGRhdGUgdGhlIHNhbWUgdmlldyB0d2ljZVxuICAgIGNhY2hlZFZpZXdzID0gc291cmNlREIuX2NhY2hlZFZpZXdzID0gc291cmNlREIuX2NhY2hlZFZpZXdzIHx8IHt9O1xuICAgIGlmIChjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXSkge1xuICAgICAgcmV0dXJuIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdO1xuICAgIH1cbiAgfVxuXG4gIHZhciBwcm9taXNlRm9yVmlldyA9IHNvdXJjZURCLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG5cbiAgICB2YXIgZGVwRGJOYW1lID0gaW5mby5kYl9uYW1lICsgJy1tcnZpZXctJyArXG4gICAgICAodGVtcG9yYXJ5ID8gJ3RlbXAnIDogc3RyaW5nTWQ1KHZpZXdTaWduYXR1cmUpKTtcblxuICAgIC8vIHNhdmUgdGhlIHZpZXcgbmFtZSBpbiB0aGUgc291cmNlIGRiIHNvIGl0IGNhbiBiZSBjbGVhbmVkIHVwIGlmIG5lY2Vzc2FyeVxuICAgIC8vIChlLmcuIHdoZW4gdGhlIF9kZXNpZ24gZG9jIGlzIGRlbGV0ZWQsIHJlbW92ZSBhbGwgYXNzb2NpYXRlZCB2aWV3IGRhdGEpXG4gICAgZnVuY3Rpb24gZGlmZkZ1bmN0aW9uKGRvYykge1xuICAgICAgZG9jLnZpZXdzID0gZG9jLnZpZXdzIHx8IHt9O1xuICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lO1xuICAgICAgaWYgKGZ1bGxWaWV3TmFtZS5pbmRleE9mKCcvJykgPT09IC0xKSB7XG4gICAgICAgIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lICsgJy8nICsgdmlld05hbWU7XG4gICAgICB9XG4gICAgICB2YXIgZGVwRGJzID0gZG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0gPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSB8fCB7fTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGRlcERic1tkZXBEYk5hbWVdKSB7XG4gICAgICAgIHJldHVybjsgLy8gbm8gdXBkYXRlIG5lY2Vzc2FyeVxuICAgICAgfVxuICAgICAgZGVwRGJzW2RlcERiTmFtZV0gPSB0cnVlO1xuICAgICAgcmV0dXJuIGRvYztcbiAgICB9XG4gICAgcmV0dXJuIHVwc2VydChzb3VyY2VEQiwgJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lLCBkaWZmRnVuY3Rpb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURCLnJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UoZGVwRGJOYW1lKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIGRiID0gcmVzLmRiO1xuICAgICAgICBkYi5hdXRvX2NvbXBhY3Rpb24gPSB0cnVlO1xuICAgICAgICB2YXIgdmlldyA9IHtcbiAgICAgICAgICBuYW1lOiBkZXBEYk5hbWUsXG4gICAgICAgICAgZGI6IGRiLFxuICAgICAgICAgIHNvdXJjZURCOiBzb3VyY2VEQixcbiAgICAgICAgICBhZGFwdGVyOiBzb3VyY2VEQi5hZGFwdGVyLFxuICAgICAgICAgIG1hcEZ1bjogbWFwRnVuLFxuICAgICAgICAgIHJlZHVjZUZ1bjogcmVkdWNlRnVuXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiB2aWV3LmRiLmdldCgnX2xvY2FsL2xhc3RTZXEnKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICAgIHZpZXcuc2VxID0gbGFzdFNlcURvYyA/IGxhc3RTZXFEb2Muc2VxIDogMDtcbiAgICAgICAgICBpZiAoY2FjaGVkVmlld3MpIHtcbiAgICAgICAgICAgIHZpZXcuZGIub25jZSgnZGVzdHJveWVkJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICBkZWxldGUgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHZpZXc7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGlmIChjYWNoZWRWaWV3cykge1xuICAgIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdID0gcHJvbWlzZUZvclZpZXc7XG4gIH1cbiAgcmV0dXJuIHByb21pc2VGb3JWaWV3O1xufVxuXG52YXIgcGVyc2lzdGVudFF1ZXVlcyA9IHt9O1xudmFyIHRlbXBWaWV3UXVldWUgPSBuZXcgVGFza1F1ZXVlJDEoKTtcbnZhciBDSEFOR0VTX0JBVENIX1NJWkUkMSA9IDUwO1xuXG5mdW5jdGlvbiBwYXJzZVZpZXdOYW1lKG5hbWUpIHtcbiAgLy8gY2FuIGJlIGVpdGhlciAnZGRvY25hbWUvdmlld25hbWUnIG9yIGp1c3QgJ3ZpZXduYW1lJ1xuICAvLyAod2hlcmUgdGhlIGRkb2MgbmFtZSBpcyB0aGUgc2FtZSlcbiAgcmV0dXJuIG5hbWUuaW5kZXhPZignLycpID09PSAtMSA/IFtuYW1lLCBuYW1lXSA6IG5hbWUuc3BsaXQoJy8nKTtcbn1cblxuZnVuY3Rpb24gaXNHZW5PbmUoY2hhbmdlcykge1xuICAvLyBvbmx5IHJldHVybiB0cnVlIGlmIHRoZSBjdXJyZW50IGNoYW5nZSBpcyAxLVxuICAvLyBhbmQgdGhlcmUgYXJlIG5vIG90aGVyIGxlYWZzXG4gIHJldHVybiBjaGFuZ2VzLmxlbmd0aCA9PT0gMSAmJiAvXjEtLy50ZXN0KGNoYW5nZXNbMF0ucmV2KTtcbn1cblxuZnVuY3Rpb24gZW1pdEVycm9yKGRiLCBlKSB7XG4gIHRyeSB7XG4gICAgZGIuZW1pdCgnZXJyb3InLCBlKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJyxcbiAgICAgICdUaGUgdXNlclxcJ3MgbWFwL3JlZHVjZSBmdW5jdGlvbiB0aHJldyBhbiB1bmNhdWdodCBlcnJvci5cXG4nICtcbiAgICAgICdZb3UgY2FuIGRlYnVnIHRoaXMgZXJyb3IgYnkgZG9pbmc6XFxuJyArXG4gICAgICAnbXlEYXRhYmFzZS5vbihcXCdlcnJvclxcJywgZnVuY3Rpb24gKGVycikgeyBkZWJ1Z2dlcjsgfSk7XFxuJyArXG4gICAgICAnUGxlYXNlIGRvdWJsZS1jaGVjayB5b3VyIG1hcC9yZWR1Y2UgZnVuY3Rpb24uJyk7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgZSk7XG4gIH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIGFuIFwiYWJzdHJhY3RcIiBtYXByZWR1Y2Ugb2JqZWN0IG9mIHRoZSBmb3JtOlxuICpcbiAqICAge1xuICogICAgIHF1ZXJ5OiBxdWVyeUZ1bixcbiAqICAgICB2aWV3Q2xlYW51cDogdmlld0NsZWFudXBGdW5cbiAqICAgfVxuICpcbiAqIEFyZ3VtZW50cyBhcmU6XG4gKlxuICogbG9jYWxEb2M6IHN0cmluZ1xuICogICBUaGlzIGlzIGZvciB0aGUgbG9jYWwgZG9jIHRoYXQgZ2V0cyBzYXZlZCBpbiBvcmRlciB0byB0cmFjayB0aGVcbiAqICAgXCJkZXBlbmRlbnRcIiBEQnMgYW5kIGNsZWFuIHRoZW0gdXAgZm9yIHZpZXdDbGVhbnVwLiBJdCBzaG91bGQgYmVcbiAqICAgdW5pcXVlLCBzbyB0aGF0IGluZGV4ZXIgcGx1Z2lucyBkb24ndCBjb2xsaWRlIHdpdGggZWFjaCBvdGhlci5cbiAqIG1hcHBlcjogZnVuY3Rpb24gKG1hcEZ1bkRlZiwgZW1pdClcbiAqICAgUmV0dXJucyBhIG1hcCBmdW5jdGlvbiBiYXNlZCBvbiB0aGUgbWFwRnVuRGVmLCB3aGljaCBpbiB0aGUgY2FzZSBvZlxuICogICBub3JtYWwgbWFwL3JlZHVjZSBpcyBqdXN0IHRoZSBkZS1zdHJpbmdpZmllZCBmdW5jdGlvbiwgYnV0IG1heSBiZVxuICogICBzb21ldGhpbmcgZWxzZSwgc3VjaCBhcyBhbiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgcG91Y2hkYi1maW5kLlxuICogcmVkdWNlcjogZnVuY3Rpb24gKHJlZHVjZUZ1bkRlZilcbiAqICAgRGl0dG8sIGJ1dCBmb3IgcmVkdWNpbmcuIE1vZHVsZXMgZG9uJ3QgaGF2ZSB0byBzdXBwb3J0IHJlZHVjaW5nXG4gKiAgIChlLmcuIHBvdWNoZGItZmluZCkuXG4gKiBkZG9jVmFsaWRhdG9yOiBmdW5jdGlvbiAoZGRvYywgdmlld05hbWUpXG4gKiAgIFRocm93cyBhbiBlcnJvciBpZiB0aGUgZGRvYyBvciB2aWV3TmFtZSBpcyBub3QgdmFsaWQuXG4gKiAgIFRoaXMgY291bGQgYmUgYSB3YXkgdG8gY29tbXVuaWNhdGUgdG8gdGhlIHVzZXIgdGhhdCB0aGUgY29uZmlndXJhdGlvbiBmb3IgdGhlXG4gKiAgIGluZGV4ZXIgaXMgaW52YWxpZC5cbiAqL1xuZnVuY3Rpb24gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpIHtcblxuICBmdW5jdGlvbiB0cnlNYXAoZGIsIGZ1biwgZG9jKSB7XG4gICAgLy8gZW1pdCBhbiBldmVudCBpZiB0aGVyZSB3YXMgYW4gZXJyb3IgdGhyb3duIGJ5IGEgbWFwIGZ1bmN0aW9uLlxuICAgIC8vIHB1dHRpbmcgdHJ5L2NhdGNoZXMgaW4gYSBzaW5nbGUgZnVuY3Rpb24gYWxzbyBhdm9pZHMgZGVvcHRpbWl6YXRpb25zLlxuICAgIHRyeSB7XG4gICAgICBmdW4oZG9jKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlbWl0RXJyb3IoZGIsIGUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHRyeVJlZHVjZShkYiwgZnVuLCBrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKSB7XG4gICAgLy8gc2FtZSBhcyBhYm92ZSwgYnV0IHJldHVybmluZyB0aGUgcmVzdWx0IG9yIGFuIGVycm9yLiB0aGVyZSBhcmUgdHdvIHNlcGFyYXRlXG4gICAgLy8gZnVuY3Rpb25zIHRvIGF2b2lkIGV4dHJhIG1lbW9yeSBhbGxvY2F0aW9ucyBzaW5jZSB0aGUgdHJ5Q29kZSgpIGNhc2UgaXMgdXNlZFxuICAgIC8vIGZvciBjdXN0b20gbWFwIGZ1bmN0aW9ucyAoY29tbW9uKSB2cyB0aGlzIGZ1bmN0aW9uLCB3aGljaCBpcyBvbmx5IHVzZWQgZm9yXG4gICAgLy8gY3VzdG9tIHJlZHVjZSBmdW5jdGlvbnMgKHJhcmUpXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiB7b3V0cHV0IDogZnVuKGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpfTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBlbWl0RXJyb3IoZGIsIGUpO1xuICAgICAgcmV0dXJuIHtlcnJvcjogZX07XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc29ydEJ5S2V5VGhlblZhbHVlKHgsIHkpIHtcbiAgICB2YXIga2V5Q29tcGFyZSA9IGNvbGxhdGUoeC5rZXksIHkua2V5KTtcbiAgICByZXR1cm4ga2V5Q29tcGFyZSAhPT0gMCA/IGtleUNvbXBhcmUgOiBjb2xsYXRlKHgudmFsdWUsIHkudmFsdWUpO1xuICB9XG5cbiAgZnVuY3Rpb24gc2xpY2VSZXN1bHRzKHJlc3VsdHMsIGxpbWl0LCBza2lwKSB7XG4gICAgc2tpcCA9IHNraXAgfHwgMDtcbiAgICBpZiAodHlwZW9mIGxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2Uoc2tpcCwgbGltaXQgKyBza2lwKTtcbiAgICB9IGVsc2UgaWYgKHNraXAgPiAwKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH1cblxuICBmdW5jdGlvbiByb3dUb0RvY0lkKHJvdykge1xuICAgIHZhciB2YWwgPSByb3cudmFsdWU7XG4gICAgLy8gVXNlcnMgY2FuIGV4cGxpY2l0bHkgc3BlY2lmeSBhIGpvaW5lZCBkb2MgX2lkLCBvciBpdFxuICAgIC8vIGRlZmF1bHRzIHRvIHRoZSBkb2MgX2lkIHRoYXQgZW1pdHRlZCB0aGUga2V5L3ZhbHVlLlxuICAgIHZhciBkb2NJZCA9ICh2YWwgJiYgdHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsLl9pZCkgfHwgcm93LmlkO1xuICAgIHJldHVybiBkb2NJZDtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcykge1xuICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgdmFyIGF0dHMgPSByb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgaWYgKCFhdHRzKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2ZpbGVuYW1lXTtcbiAgICAgICAgYXR0c1tmaWxlbmFtZV0uZGF0YSA9IGI2NFRvQmx1ZmZlcihhdHQuZGF0YSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyZXMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcztcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkSHR0cFBhcmFtKHBhcmFtTmFtZSwgb3B0cywgcGFyYW1zLCBhc0pzb24pIHtcbiAgICAvLyBhZGQgYW4gaHR0cCBwYXJhbSBmcm9tIG9wdHMgdG8gcGFyYW1zLCBvcHRpb25hbGx5IGpzb24tZW5jb2RlZFxuICAgIHZhciB2YWwgPSBvcHRzW3BhcmFtTmFtZV07XG4gICAgaWYgKHR5cGVvZiB2YWwgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoYXNKc29uKSB7XG4gICAgICAgIHZhbCA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeSh2YWwpKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5wdXNoKHBhcmFtTmFtZSArICc9JyArIHZhbCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlSW50ZWdlcihpbnRlZ2VyQ2FuZGlkYXRlKSB7XG4gICAgaWYgKHR5cGVvZiBpbnRlZ2VyQ2FuZGlkYXRlICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGFzTnVtYmVyID0gTnVtYmVyKGludGVnZXJDYW5kaWRhdGUpO1xuICAgICAgLy8gcHJldmVudHMgZS5nLiAnMWZvbycgb3IgJzEuMScgYmVpbmcgY29lcmNlZCB0byAxXG4gICAgICBpZiAoIWlzTmFOKGFzTnVtYmVyKSAmJiBhc051bWJlciA9PT0gcGFyc2VJbnQoaW50ZWdlckNhbmRpZGF0ZSwgMTApKSB7XG4gICAgICAgIHJldHVybiBhc051bWJlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnRlZ2VyQ2FuZGlkYXRlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvZXJjZU9wdGlvbnMob3B0cykge1xuICAgIG9wdHMuZ3JvdXBfbGV2ZWwgPSBjb2VyY2VJbnRlZ2VyKG9wdHMuZ3JvdXBfbGV2ZWwpO1xuICAgIG9wdHMubGltaXQgPSBjb2VyY2VJbnRlZ2VyKG9wdHMubGltaXQpO1xuICAgIG9wdHMuc2tpcCA9IGNvZXJjZUludGVnZXIob3B0cy5za2lwKTtcbiAgICByZXR1cm4gb3B0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG51bWJlcikge1xuICAgIGlmIChudW1iZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgbnVtYmVyICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gIG5ldyBRdWVyeVBhcnNlRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIGludGVnZXI6IFwiJyArXG4gICAgICAgICAgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgICBpZiAobnVtYmVyIDwgMCkge1xuICAgICAgICByZXR1cm4gbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgcG9zaXRpdmUgaW50ZWdlcjogJyArXG4gICAgICAgICAgJ1wiJyArIG51bWJlciArICdcIicpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdGlvbnMsIGZ1bikge1xuICAgIHZhciBzdGFydGtleU5hbWUgPSBvcHRpb25zLmRlc2NlbmRpbmcgPyAnZW5ka2V5JyA6ICdzdGFydGtleSc7XG4gICAgdmFyIGVuZGtleU5hbWUgPSBvcHRpb25zLmRlc2NlbmRpbmcgPyAnc3RhcnRrZXknIDogJ2VuZGtleSc7XG5cbiAgICBpZiAodHlwZW9mIG9wdGlvbnNbc3RhcnRrZXlOYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIHR5cGVvZiBvcHRpb25zW2VuZGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgY29sbGF0ZShvcHRpb25zW3N0YXJ0a2V5TmFtZV0sIG9wdGlvbnNbZW5ka2V5TmFtZV0pID4gMCkge1xuICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcignTm8gcm93cyBjYW4gbWF0Y2ggeW91ciBrZXkgcmFuZ2UsICcgK1xuICAgICAgICAncmV2ZXJzZSB5b3VyIHN0YXJ0X2tleSBhbmQgZW5kX2tleSBvciBzZXQge2Rlc2NlbmRpbmcgOiB0cnVlfScpO1xuICAgIH0gZWxzZSBpZiAoZnVuLnJlZHVjZSAmJiBvcHRpb25zLnJlZHVjZSAhPT0gZmFsc2UpIHtcbiAgICAgIGlmIChvcHRpb25zLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCd7aW5jbHVkZV9kb2NzOnRydWV9IGlzIGludmFsaWQgZm9yIHJlZHVjZScpO1xuICAgICAgfSBlbHNlIGlmIChvcHRpb25zLmtleXMgJiYgb3B0aW9ucy5rZXlzLmxlbmd0aCA+IDEgJiZcbiAgICAgICAgIW9wdGlvbnMuZ3JvdXAgJiYgIW9wdGlvbnMuZ3JvdXBfbGV2ZWwpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcignTXVsdGkta2V5IGZldGNoZXMgZm9yIHJlZHVjZSB2aWV3cyBtdXN0IHVzZSAnICtcbiAgICAgICAgICAne2dyb3VwOiB0cnVlfScpO1xuICAgICAgfVxuICAgIH1cbiAgICBbJ2dyb3VwX2xldmVsJywgJ2xpbWl0JywgJ3NraXAnXS5mb3JFYWNoKGZ1bmN0aW9uIChvcHRpb25OYW1lKSB7XG4gICAgICB2YXIgZXJyb3IgPSBjaGVja1Bvc2l0aXZlSW50ZWdlcihvcHRpb25zW29wdGlvbk5hbWVdKTtcbiAgICAgIGlmIChlcnJvcikge1xuICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBRdWVyeShkYiwgZnVuLCBvcHRzKSB7XG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgUFVUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0gW107XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciBvaywgc3RhdHVzO1xuXG4gICAgLy8gSWYgb3B0cy5yZWR1Y2UgZXhpc3RzIGFuZCBpcyBkZWZpbmVkLCB0aGVuIGFkZCBpdCB0byB0aGUgbGlzdFxuICAgIC8vIG9mIHBhcmFtZXRlcnMuXG4gICAgLy8gSWYgcmVkdWNlPWZhbHNlIHRoZW4gdGhlIHJlc3VsdHMgYXJlIHRoYXQgb2Ygb25seSB0aGUgbWFwIGZ1bmN0aW9uXG4gICAgLy8gbm90IHRoZSBmaW5hbCByZXN1bHQgb2YgbWFwIGFuZCByZWR1Y2UuXG4gICAgYWRkSHR0cFBhcmFtKCdyZWR1Y2UnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVkZV9kb2NzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2F0dGFjaG1lbnRzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2xpbWl0Jywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2Rlc2NlbmRpbmcnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZ3JvdXAnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZ3JvdXBfbGV2ZWwnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc2tpcCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFsZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdjb25mbGljdHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhcnRrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhcnRfa2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdlbmRfa2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2luY2x1c2l2ZV9lbmQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgna2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3VwZGF0ZV9zZXEnLCBvcHRzLCBwYXJhbXMpO1xuXG4gICAgLy8gRm9ybWF0IHRoZSBsaXN0IG9mIHBhcmFtZXRlcnMgaW50byBhIHZhbGlkIFVSSSBxdWVyeSBzdHJpbmdcbiAgICBwYXJhbXMgPSBwYXJhbXMuam9pbignJicpO1xuICAgIHBhcmFtcyA9IHBhcmFtcyA9PT0gJycgPyAnJyA6ICc/JyArIHBhcmFtcztcblxuICAgIC8vIElmIGtleXMgYXJlIHN1cHBsaWVkLCBpc3N1ZSBhIFBPU1QgdG8gY2lyY3VtdmVudCBHRVQgcXVlcnkgc3RyaW5nIGxpbWl0c1xuICAgIC8vIHNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSFRUUF92aWV3X0FQSSNRdWVyeWluZ19PcHRpb25zXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgTUFYX1VSTF9MRU5HVEggPSAyMDAwO1xuICAgICAgLy8gYWNjb3JkaW5nIHRvIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9hLzQxNzE4NC82ODA3NDIsXG4gICAgICAvLyB0aGUgZGUgZmFjdG8gVVJMIGxlbmd0aCBsaW1pdCBpcyAyMDAwIGNoYXJhY3RlcnNcblxuICAgICAgdmFyIGtleXNBc1N0cmluZyA9XG4gICAgICAgICdrZXlzPScgKyBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkob3B0cy5rZXlzKSk7XG4gICAgICBpZiAoa2V5c0FzU3RyaW5nLmxlbmd0aCArIHBhcmFtcy5sZW5ndGggKyAxIDw9IE1BWF9VUkxfTEVOR1RIKSB7XG4gICAgICAgIC8vIElmIHRoZSBrZXlzIGFyZSBzaG9ydCBlbm91Z2gsIGRvIGEgR0VULiB3ZSBkbyB0aGlzIHRvIHdvcmsgYXJvdW5kXG4gICAgICAgIC8vIFNhZmFyaSBub3QgdW5kZXJzdGFuZGluZyAzMDRzIG9uIFBPU1RzIChzZWUgcG91Y2hkYi9wb3VjaGRiIzEyMzkpXG4gICAgICAgIHBhcmFtcyArPSAocGFyYW1zWzBdID09PSAnPycgPyAnJicgOiAnPycpICsga2V5c0FzU3RyaW5nO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICBib2R5ID0ge2tleXM6IG9wdHMua2V5c307XG4gICAgICAgIH0gZWxzZSB7IC8vIGZ1biBpcyB7bWFwIDogbWFwZnVufSwgc28gYXBwZW5kIHRvIHRoaXNcbiAgICAgICAgICBmdW4ua2V5cyA9IG9wdHMua2V5cztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFdlIGFyZSByZWZlcmVuY2luZyBhIHF1ZXJ5IGRlZmluZWQgaW4gdGhlIGRlc2lnbiBkb2NcbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVuKTtcbiAgICAgIHJldHVybiBkYi5mZXRjaCgnX2Rlc2lnbi8nICsgcGFydHNbMF0gKyAnL192aWV3LycgKyBwYXJ0c1sxXSArIHBhcmFtcywge1xuICAgICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIG9rID0gcmVzcG9uc2Uub2s7XG4gICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAoIW9rKSB7XG4gICAgICAgICAgcmVzdWx0LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmFpbCB0aGUgZW50aXJlIHJlcXVlc3QgaWYgdGhlIHJlc3VsdCBjb250YWlucyBhbiBlcnJvclxuICAgICAgICByZXN1bHQucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAocm93LnZhbHVlICYmIHJvdy52YWx1ZS5lcnJvciAmJiByb3cudmFsdWUuZXJyb3IgPT09IFwiYnVpbHRpbl9yZWR1Y2VfZXJyb3JcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJvdy5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9KS50aGVuKHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykpO1xuICAgIH1cblxuICAgIC8vIFdlIGFyZSB1c2luZyBhIHRlbXBvcmFyeSB2aWV3LCB0ZXJyaWJsZSBmb3IgcGVyZm9ybWFuY2UsIGdvb2QgZm9yIHRlc3RpbmdcbiAgICBib2R5ID0gYm9keSB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhmdW4pLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZnVuW2tleV0pKSB7XG4gICAgICAgIGJvZHlba2V5XSA9IGZ1bltrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV0udG9TdHJpbmcoKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJldHVybiBkYi5mZXRjaCgnX3RlbXBfdmlldycgKyBwYXJhbXMsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmICghb2spIHtcbiAgICAgICAgcmVzdWx0LnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KS50aGVuKHBvc3Rwcm9jZXNzQXR0YWNobWVudHMob3B0cykpO1xuICB9XG5cbiAgLy8gY3VzdG9tIGFkYXB0ZXJzIGNhbiBkZWZpbmUgdGhlaXIgb3duIGFwaS5fcXVlcnlcbiAgLy8gYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIGN1c3RvbVF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZGIuX3F1ZXJ5KGZ1biwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl92aWV3Q2xlYW51cFxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgZGIuX3ZpZXdDbGVhbnVwKGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZGVmYXVsdHNUbyh2YWx1ZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgaWYgKHJlYXNvbi5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyByZWFzb247XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIHJldHVybnMgYSBwcm9taXNlIGZvciBhIGxpc3Qgb2YgZG9jcyB0byB1cGRhdGUsIGJhc2VkIG9uIHRoZSBpbnB1dCBkb2NJZC5cbiAgLy8gdGhlIG9yZGVyIGRvZXNuJ3QgbWF0dGVyLCBiZWNhdXNlIHBvc3QtMy4yLjAsIGJ1bGtEb2NzXG4gIC8vIGlzIGFuIGF0b21pYyBvcGVyYXRpb24gaW4gYWxsIHRocmVlIGFkYXB0ZXJzLlxuICBmdW5jdGlvbiBnZXREb2NzVG9QZXJzaXN0KGRvY0lkLCB2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cykge1xuICAgIHZhciBtZXRhRG9jSWQgPSAnX2xvY2FsL2RvY18nICsgZG9jSWQ7XG4gICAgdmFyIGRlZmF1bHRNZXRhRG9jID0ge19pZDogbWV0YURvY0lkLCBrZXlzOiBbXX07XG4gICAgdmFyIGRvY0RhdGEgPSBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cy5nZXQoZG9jSWQpO1xuICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBkb2NEYXRhWzBdO1xuICAgIHZhciBjaGFuZ2VzID0gZG9jRGF0YVsxXTtcblxuICAgIGZ1bmN0aW9uIGdldE1ldGFEb2MoKSB7XG4gICAgICBpZiAoaXNHZW5PbmUoY2hhbmdlcykpIHtcbiAgICAgICAgLy8gZ2VuZXJhdGlvbiAxLCBzbyB3ZSBjYW4gc2FmZWx5IGFzc3VtZSBpbml0aWFsIHN0YXRlXG4gICAgICAgIC8vIGZvciBwZXJmb3JtYW5jZSByZWFzb25zIChhdm9pZHMgdW5uZWNlc3NhcnkgR0VUcylcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShkZWZhdWx0TWV0YURvYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5nZXQobWV0YURvY0lkKS5jYXRjaChkZWZhdWx0c1RvKGRlZmF1bHRNZXRhRG9jKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZ2V0S2V5VmFsdWVEb2NzKG1ldGFEb2MpIHtcbiAgICAgIGlmICghbWV0YURvYy5rZXlzLmxlbmd0aCkge1xuICAgICAgICAvLyBubyBrZXlzLCBubyBuZWVkIGZvciBhIGxvb2t1cFxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtyb3dzOiBbXX0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZpZXcuZGIuYWxsRG9jcyh7XG4gICAgICAgIGtleXM6IG1ldGFEb2Mua2V5cyxcbiAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlXG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzS2V5VmFsdWVEb2NzKG1ldGFEb2MsIGt2RG9jc1Jlcykge1xuICAgICAgdmFyIGt2RG9jcyA9IFtdO1xuICAgICAgdmFyIG9sZEtleXMgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcblxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGt2RG9jc1Jlcy5yb3dzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciByb3cgPSBrdkRvY3NSZXMucm93c1tpXTtcbiAgICAgICAgdmFyIGRvYyA9IHJvdy5kb2M7XG4gICAgICAgIGlmICghZG9jKSB7IC8vIGRlbGV0ZWRcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBrdkRvY3MucHVzaChkb2MpO1xuICAgICAgICBvbGRLZXlzLmFkZChkb2MuX2lkKTtcbiAgICAgICAgZG9jLl9kZWxldGVkID0gIWluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5oYXMoZG9jLl9pZCk7XG4gICAgICAgIGlmICghZG9jLl9kZWxldGVkKSB7XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChkb2MuX2lkKTtcbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBrZXlWYWx1ZSkge1xuICAgICAgICAgICAgZG9jLnZhbHVlID0ga2V5VmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICB2YXIgbmV3S2V5cyA9IG1hcFRvS2V5c0FycmF5KGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyk7XG4gICAgICBuZXdLZXlzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICBpZiAoIW9sZEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAvLyBuZXcgZG9jXG4gICAgICAgICAgdmFyIGt2RG9jID0ge1xuICAgICAgICAgICAgX2lkOiBrZXlcbiAgICAgICAgICB9O1xuICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5nZXQoa2V5KTtcbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiBrZXlWYWx1ZSkge1xuICAgICAgICAgICAga3ZEb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAga3ZEb2NzLnB1c2goa3ZEb2MpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG1ldGFEb2Mua2V5cyA9IHVuaXEobmV3S2V5cy5jb25jYXQobWV0YURvYy5rZXlzKSk7XG4gICAgICBrdkRvY3MucHVzaChtZXRhRG9jKTtcblxuICAgICAgcmV0dXJuIGt2RG9jcztcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0TWV0YURvYygpLnRoZW4oZnVuY3Rpb24gKG1ldGFEb2MpIHtcbiAgICAgIHJldHVybiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykudGhlbihmdW5jdGlvbiAoa3ZEb2NzUmVzKSB7XG4gICAgICAgIHJldHVybiBwcm9jZXNzS2V5VmFsdWVEb2NzKG1ldGFEb2MsIGt2RG9jc1Jlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIHVwZGF0ZXMgYWxsIGVtaXR0ZWQga2V5L3ZhbHVlIGRvY3MgYW5kIG1ldGFEb2NzIGluIHRoZSBtcnZpZXcgZGF0YWJhc2VcbiAgLy8gZm9yIHRoZSBnaXZlbiBiYXRjaCBvZiBkb2N1bWVudHMgZnJvbSB0aGUgc291cmNlIGRhdGFiYXNlXG4gIGZ1bmN0aW9uIHNhdmVLZXlWYWx1ZXModmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSkge1xuICAgIHZhciBzZXFEb2NJZCA9ICdfbG9jYWwvbGFzdFNlcSc7XG4gICAgcmV0dXJuIHZpZXcuZGIuZ2V0KHNlcURvY0lkKVxuICAgICAgLmNhdGNoKGRlZmF1bHRzVG8oe19pZDogc2VxRG9jSWQsIHNlcTogMH0pKVxuICAgICAgLnRoZW4oZnVuY3Rpb24gKGxhc3RTZXFEb2MpIHtcbiAgICAgICAgdmFyIGRvY0lkcyA9IG1hcFRvS2V5c0FycmF5KGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRvY0lkcy5tYXAoZnVuY3Rpb24gKGRvY0lkKSB7XG4gICAgICAgICAgcmV0dXJuIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKTtcbiAgICAgICAgfSkpLnRoZW4oZnVuY3Rpb24gKGxpc3RPZkRvY3NUb1BlcnNpc3QpIHtcbiAgICAgICAgICB2YXIgZG9jc1RvUGVyc2lzdCA9IGZsYXR0ZW4obGlzdE9mRG9jc1RvUGVyc2lzdCk7XG4gICAgICAgICAgbGFzdFNlcURvYy5zZXEgPSBzZXE7XG4gICAgICAgICAgZG9jc1RvUGVyc2lzdC5wdXNoKGxhc3RTZXFEb2MpO1xuICAgICAgICAgIC8vIHdyaXRlIGFsbCBkb2NzIGluIGEgc2luZ2xlIG9wZXJhdGlvbiwgdXBkYXRlIHRoZSBzZXEgb25jZVxuICAgICAgICAgIHJldHVybiB2aWV3LmRiLmJ1bGtEb2NzKHtkb2NzIDogZG9jc1RvUGVyc2lzdH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UXVldWUodmlldykge1xuICAgIHZhciB2aWV3TmFtZSA9IHR5cGVvZiB2aWV3ID09PSAnc3RyaW5nJyA/IHZpZXcgOiB2aWV3Lm5hbWU7XG4gICAgdmFyIHF1ZXVlID0gcGVyc2lzdGVudFF1ZXVlc1t2aWV3TmFtZV07XG4gICAgaWYgKCFxdWV1ZSkge1xuICAgICAgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuICAgIH1cbiAgICByZXR1cm4gcXVldWU7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3KHZpZXcsIG9wdHMpIHtcbiAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3KSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpO1xuICAgIH0pKCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgLy8gYmluZCB0aGUgZW1pdCBmdW5jdGlvbiBvbmNlXG4gICAgdmFyIG1hcFJlc3VsdHM7XG4gICAgdmFyIGRvYztcblxuICAgIGZ1bmN0aW9uIGVtaXQoa2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG91dHB1dCA9IHtpZDogZG9jLl9pZCwga2V5OiBub3JtYWxpemVLZXkoa2V5KX07XG4gICAgICAvLyBEb24ndCBleHBsaWNpdGx5IHN0b3JlIHRoZSB2YWx1ZSB1bmxlc3MgaXQncyBkZWZpbmVkIGFuZCBub24tbnVsbC5cbiAgICAgIC8vIFRoaXMgc2F2ZXMgb24gc3RvcmFnZSBzcGFjZSwgYmVjYXVzZSBvZnRlbiBwZW9wbGUgZG9uJ3QgdXNlIGl0LlxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgb3V0cHV0LnZhbHVlID0gbm9ybWFsaXplS2V5KHZhbHVlKTtcbiAgICAgIH1cbiAgICAgIG1hcFJlc3VsdHMucHVzaChvdXRwdXQpO1xuICAgIH1cblxuICAgIHZhciBtYXBGdW4gPSBtYXBwZXIodmlldy5tYXBGdW4sIGVtaXQpO1xuXG4gICAgdmFyIGN1cnJlbnRTZXEgPSB2aWV3LnNlcSB8fCAwO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0NoYW5nZShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgbGV0IGluZGV4ZWRfZG9jcyA9IDA7XG4gICAgbGV0IHByb2dyZXNzID0ge1xuICAgICAgdmlldzogdmlldy5uYW1lLFxuICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICB9O1xuICAgIHZpZXcuc291cmNlREIuZW1pdCgnaW5kZXhpbmcnLCBwcm9ncmVzcyk7XG5cbiAgICB2YXIgcXVldWUgPSBuZXcgVGFza1F1ZXVlJDEoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NOZXh0QmF0Y2goKSB7XG4gICAgICByZXR1cm4gdmlldy5zb3VyY2VEQi5jaGFuZ2VzKHtcbiAgICAgICAgcmV0dXJuX2RvY3M6IHRydWUsXG4gICAgICAgIGNvbmZsaWN0czogdHJ1ZSxcbiAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgICBzdHlsZTogJ2FsbF9kb2NzJyxcbiAgICAgICAgc2luY2U6IGN1cnJlbnRTZXEsXG4gICAgICAgIGxpbWl0OiBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZVxuICAgICAgfSkudGhlbihwcm9jZXNzQmF0Y2gpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChyZXNwb25zZSkge1xuICAgICAgdmFyIHJlc3VsdHMgPSByZXNwb25zZS5yZXN1bHRzO1xuICAgICAgaWYgKCFyZXN1bHRzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMgPSBjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyhyZXN1bHRzKTtcbiAgICAgIHF1ZXVlLmFkZChwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBjdXJyZW50U2VxKSk7XG5cbiAgICAgIGluZGV4ZWRfZG9jcyA9IGluZGV4ZWRfZG9jcyArIHJlc3VsdHMubGVuZ3RoO1xuICAgICAgbGV0IHByb2dyZXNzID0ge1xuICAgICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICAgIGxhc3Rfc2VxOiByZXNwb25zZS5sYXN0X3NlcSxcbiAgICAgICAgcmVzdWx0c19jb3VudDogcmVzdWx0cy5sZW5ndGgsXG4gICAgICAgIGluZGV4ZWRfZG9jczogaW5kZXhlZF9kb2NzXG4gICAgICB9O1xuICAgICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcbiAgICAgIFxuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgb3B0cy5jaGFuZ2VzX2JhdGNoX3NpemUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHByb2Nlc3NOZXh0QmF0Y2goKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyhyZXN1bHRzKSB7XG4gICAgICB2YXIgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBjaGFuZ2UgPSByZXN1bHRzW2ldO1xuICAgICAgICBpZiAoY2hhbmdlLmRvYy5faWRbMF0gIT09ICdfJykge1xuICAgICAgICAgIG1hcFJlc3VsdHMgPSBbXTtcbiAgICAgICAgICBkb2MgPSBjaGFuZ2UuZG9jO1xuXG4gICAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICAgIHRyeU1hcCh2aWV3LnNvdXJjZURCLCBtYXBGdW4sIGRvYyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIG1hcFJlc3VsdHMuc29ydChzb3J0QnlLZXlUaGVuVmFsdWUpO1xuXG4gICAgICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyhtYXBSZXN1bHRzKTtcbiAgICAgICAgICBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cy5zZXQoY2hhbmdlLmRvYy5faWQsIFtcbiAgICAgICAgICAgIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyxcbiAgICAgICAgICAgIGNoYW5nZS5jaGFuZ2VzXG4gICAgICAgICAgXSk7XG4gICAgICAgIH1cbiAgICAgICAgY3VycmVudFNlcSA9IGNoYW5nZS5zZXE7XG4gICAgICB9XG4gICAgICByZXR1cm4gZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpIHtcbiAgICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIHZhciBsYXN0S2V5O1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG1hcFJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGVtaXR0ZWRLZXlWYWx1ZSA9IG1hcFJlc3VsdHNbaV07XG4gICAgICAgIHZhciBjb21wbGV4S2V5ID0gW2VtaXR0ZWRLZXlWYWx1ZS5rZXksIGVtaXR0ZWRLZXlWYWx1ZS5pZF07XG4gICAgICAgIGlmIChpID4gMCAmJiBjb2xsYXRlKGVtaXR0ZWRLZXlWYWx1ZS5rZXksIGxhc3RLZXkpID09PSAwKSB7XG4gICAgICAgICAgY29tcGxleEtleS5wdXNoKGkpOyAvLyBkdXAga2V5K2lkLCBzbyBtYWtlIGl0IHVuaXF1ZVxuICAgICAgICB9XG4gICAgICAgIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5zZXQodG9JbmRleGFibGVTdHJpbmcoY29tcGxleEtleSksIGVtaXR0ZWRLZXlWYWx1ZSk7XG4gICAgICAgIGxhc3RLZXkgPSBlbWl0dGVkS2V5VmFsdWUua2V5O1xuICAgICAgfVxuICAgICAgcmV0dXJuIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcztcbiAgICB9XG5cbiAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXVlLmZpbmlzaCgpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgdmlldy5zZXEgPSBjdXJyZW50U2VxO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVkdWNlVmlldyh2aWV3LCByZXN1bHRzLCBvcHRpb25zKSB7XG4gICAgaWYgKG9wdGlvbnMuZ3JvdXBfbGV2ZWwgPT09IDApIHtcbiAgICAgIGRlbGV0ZSBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIH1cblxuICAgIHZhciBzaG91bGRHcm91cCA9IG9wdGlvbnMuZ3JvdXAgfHwgb3B0aW9ucy5ncm91cF9sZXZlbDtcblxuICAgIHZhciByZWR1Y2VGdW4gPSByZWR1Y2VyKHZpZXcucmVkdWNlRnVuKTtcblxuICAgIHZhciBncm91cHMgPSBbXTtcbiAgICB2YXIgbHZsID0gaXNOYU4ob3B0aW9ucy5ncm91cF9sZXZlbCkgPyBOdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkgOlxuICAgICAgb3B0aW9ucy5ncm91cF9sZXZlbDtcbiAgICByZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBsYXN0ID0gZ3JvdXBzW2dyb3Vwcy5sZW5ndGggLSAxXTtcbiAgICAgIHZhciBncm91cEtleSA9IHNob3VsZEdyb3VwID8gZS5rZXkgOiBudWxsO1xuXG4gICAgICAvLyBvbmx5IHNldCBncm91cF9sZXZlbCBmb3IgYXJyYXkga2V5c1xuICAgICAgaWYgKHNob3VsZEdyb3VwICYmIEFycmF5LmlzQXJyYXkoZ3JvdXBLZXkpKSB7XG4gICAgICAgIGdyb3VwS2V5ID0gZ3JvdXBLZXkuc2xpY2UoMCwgbHZsKTtcbiAgICAgIH1cblxuICAgICAgaWYgKGxhc3QgJiYgY29sbGF0ZShsYXN0Lmdyb3VwS2V5LCBncm91cEtleSkgPT09IDApIHtcbiAgICAgICAgbGFzdC5rZXlzLnB1c2goW2Uua2V5LCBlLmlkXSk7XG4gICAgICAgIGxhc3QudmFsdWVzLnB1c2goZS52YWx1ZSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGdyb3Vwcy5wdXNoKHtcbiAgICAgICAga2V5czogW1tlLmtleSwgZS5pZF1dLFxuICAgICAgICB2YWx1ZXM6IFtlLnZhbHVlXSxcbiAgICAgICAgZ3JvdXBLZXk6IGdyb3VwS2V5XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXN1bHRzID0gW107XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGdyb3Vwcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdmFyIGUgPSBncm91cHNbaV07XG4gICAgICB2YXIgcmVkdWNlVHJ5ID0gdHJ5UmVkdWNlKHZpZXcuc291cmNlREIsIHJlZHVjZUZ1biwgZS5rZXlzLCBlLnZhbHVlcywgZmFsc2UpO1xuICAgICAgaWYgKHJlZHVjZVRyeS5lcnJvciAmJiByZWR1Y2VUcnkuZXJyb3IgaW5zdGFuY2VvZiBCdWlsdEluRXJyb3IpIHtcbiAgICAgICAgLy8gQ291Y2hEQiByZXR1cm5zIGFuIGVycm9yIGlmIGEgYnVpbHQtaW4gZXJyb3JzIG91dFxuICAgICAgICB0aHJvdyByZWR1Y2VUcnkuZXJyb3I7XG4gICAgICB9XG4gICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAvLyBDb3VjaERCIGp1c3Qgc2V0cyB0aGUgdmFsdWUgdG8gbnVsbCBpZiBhIG5vbi1idWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHZhbHVlOiByZWR1Y2VUcnkuZXJyb3IgPyBudWxsIDogcmVkdWNlVHJ5Lm91dHB1dCxcbiAgICAgICAga2V5OiBlLmdyb3VwS2V5XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gbm8gdG90YWxfcm93cy9vZmZzZXQgd2hlbiByZWR1Y2luZ1xuICAgIHJldHVybiB7cm93czogc2xpY2VSZXN1bHRzKHJlc3VsdHMsIG9wdGlvbnMubGltaXQsIG9wdGlvbnMuc2tpcCl9O1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3KHZpZXcsIG9wdHMpIHtcbiAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3KSwgZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5Vmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5Vmlld0luUXVldWUodmlldywgb3B0cykge1xuICAgIHZhciB0b3RhbFJvd3M7XG4gICAgdmFyIHNob3VsZFJlZHVjZSA9IHZpZXcucmVkdWNlRnVuICYmIG9wdHMucmVkdWNlICE9PSBmYWxzZTtcbiAgICB2YXIgc2tpcCA9IG9wdHMuc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJyAmJiAhb3B0cy5rZXlzLmxlbmd0aCkge1xuICAgICAgLy8gZXF1aXZhbGVudCBxdWVyeVxuICAgICAgb3B0cy5saW1pdCA9IDA7XG4gICAgICBkZWxldGUgb3B0cy5rZXlzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoRnJvbVZpZXcodmlld09wdHMpIHtcbiAgICAgIHZpZXdPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdG90YWxSb3dzID0gcmVzLnRvdGFsX3Jvd3M7XG4gICAgICAgIHJldHVybiByZXMucm93cy5tYXAoZnVuY3Rpb24gKHJlc3VsdCkge1xuXG4gICAgICAgICAgLy8gaW1wbGljaXQgbWlncmF0aW9uIC0gaW4gb2xkZXIgdmVyc2lvbnMgb2YgUG91Y2hEQixcbiAgICAgICAgICAvLyB3ZSBleHBsaWNpdGx5IHN0b3JlZCB0aGUgZG9jIGFzIHtpZDogLi4uLCBrZXk6IC4uLiwgdmFsdWU6IC4uLn1cbiAgICAgICAgICAvLyB0aGlzIGlzIHRlc3RlZCBpbiBhIG1pZ3JhdGlvbiB0ZXN0XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICBpZiAoJ3ZhbHVlJyBpbiByZXN1bHQuZG9jICYmIHR5cGVvZiByZXN1bHQuZG9jLnZhbHVlID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgcmVzdWx0LmRvYy52YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhyZXN1bHQuZG9jLnZhbHVlKS5zb3J0KCk7XG4gICAgICAgICAgICAvLyB0aGlzIGRldGVjdGlvbiBtZXRob2QgaXMgbm90IHBlcmZlY3QsIGJ1dCBpdCdzIHVubGlrZWx5IHRoZSB1c2VyXG4gICAgICAgICAgICAvLyBlbWl0dGVkIGEgdmFsdWUgd2hpY2ggd2FzIGFuIG9iamVjdCB3aXRoIHRoZXNlIDMgZXhhY3Qga2V5c1xuICAgICAgICAgICAgdmFyIGV4cGVjdGVkS2V5cyA9IFsnaWQnLCAna2V5JywgJ3ZhbHVlJ107XG4gICAgICAgICAgICBpZiAoIShrZXlzIDwgZXhwZWN0ZWRLZXlzIHx8IGtleXMgPiBleHBlY3RlZEtleXMpKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQuZG9jLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIHZhciBwYXJzZWRLZXlBbmREb2NJZCA9IHBhcnNlSW5kZXhhYmxlU3RyaW5nKHJlc3VsdC5kb2MuX2lkKTtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAga2V5OiBwYXJzZWRLZXlBbmREb2NJZFswXSxcbiAgICAgICAgICAgIGlkOiBwYXJzZWRLZXlBbmREb2NJZFsxXSxcbiAgICAgICAgICAgIHZhbHVlOiAoJ3ZhbHVlJyBpbiByZXN1bHQuZG9jID8gcmVzdWx0LmRvYy52YWx1ZSA6IG51bGwpXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvbk1hcFJlc3VsdHNSZWFkeShyb3dzKSB7XG4gICAgICB2YXIgZmluYWxSZXN1bHRzO1xuICAgICAgaWYgKHNob3VsZFJlZHVjZSkge1xuICAgICAgICBmaW5hbFJlc3VsdHMgPSByZWR1Y2VWaWV3KHZpZXcsIHJvd3MsIG9wdHMpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0cy5rZXlzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICBmaW5hbFJlc3VsdHMgPSB7XG4gICAgICAgICAgdG90YWxfcm93czogdG90YWxSb3dzLFxuICAgICAgICAgIG9mZnNldDogc2tpcCxcbiAgICAgICAgICByb3dzOiByb3dzXG4gICAgICAgIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBzdXBwb3J0IGxpbWl0LCBza2lwIGZvciBrZXlzIHF1ZXJ5XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHNsaWNlUmVzdWx0cyhyb3dzLG9wdHMubGltaXQsb3B0cy5za2lwKVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cy51cGRhdGVfc2VxID0gdmlldy5zZXE7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgdmFyIGRvY0lkcyA9IHVuaXEocm93cy5tYXAocm93VG9Eb2NJZCkpO1xuXG4gICAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmFsbERvY3Moe1xuICAgICAgICAgIGtleXM6IGRvY0lkcyxcbiAgICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgICAgY29uZmxpY3RzOiBvcHRzLmNvbmZsaWN0cyxcbiAgICAgICAgICBhdHRhY2htZW50czogb3B0cy5hdHRhY2htZW50cyxcbiAgICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGFsbERvY3NSZXMpIHtcbiAgICAgICAgICB2YXIgZG9jSWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICAgICAgYWxsRG9jc1Jlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgZG9jSWRzVG9Eb2NzLnNldChyb3cuaWQsIHJvdy5kb2MpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICB2YXIgZG9jSWQgPSByb3dUb0RvY0lkKHJvdyk7XG4gICAgICAgICAgICB2YXIgZG9jID0gZG9jSWRzVG9Eb2NzLmdldChkb2NJZCk7XG4gICAgICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgICAgIHJvdy5kb2MgPSBkb2M7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0cztcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIGtleXMgPSBvcHRzLmtleXM7XG4gICAgICB2YXIgZmV0Y2hQcm9taXNlcyA9IGtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICAgIHN0YXJ0a2V5IDogdG9JbmRleGFibGVTdHJpbmcoW2tleV0pLFxuICAgICAgICAgIGVuZGtleSAgIDogdG9JbmRleGFibGVTdHJpbmcoW2tleSwge31dKVxuICAgICAgICB9O1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGZldGNoUHJvbWlzZXMpLnRoZW4oZmxhdHRlbikudGhlbihvbk1hcFJlc3VsdHNSZWFkeSk7XG4gICAgfSBlbHNlIHsgLy8gbm9ybWFsIHF1ZXJ5LCBubyAna2V5cydcbiAgICAgIHZhciB2aWV3T3B0cyA9IHtcbiAgICAgICAgZGVzY2VuZGluZyA6IG9wdHMuZGVzY2VuZGluZ1xuICAgICAgfTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICB2aWV3T3B0cy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBzdGFydGtleTtcbiAgICAgIHZhciBlbmRrZXk7XG4gICAgICBpZiAoJ3N0YXJ0X2tleScgaW4gb3B0cykge1xuICAgICAgICBzdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdzdGFydGtleScgaW4gb3B0cykge1xuICAgICAgICBzdGFydGtleSA9IG9wdHMuc3RhcnRrZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZF9rZXknIGluIG9wdHMpIHtcbiAgICAgICAgZW5ka2V5ID0gb3B0cy5lbmRfa2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdlbmRrZXknIGluIG9wdHMpIHtcbiAgICAgICAgZW5ka2V5ID0gb3B0cy5lbmRrZXk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHN0YXJ0a2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IG9wdHMuZGVzY2VuZGluZyA/XG4gICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoW3N0YXJ0a2V5LCB7fV0pIDpcbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2YgZW5ka2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcbiAgICAgICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIGluY2x1c2l2ZUVuZCA9ICFpbmNsdXNpdmVFbmQ7XG4gICAgICAgIH1cblxuICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSB0b0luZGV4YWJsZVN0cmluZyhcbiAgICAgICAgICBpbmNsdXNpdmVFbmQgPyBbZW5ka2V5LCB7fV0gOiBbZW5ka2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIG9wdHMua2V5ICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICB2YXIga2V5U3RhcnQgPSB0b0luZGV4YWJsZVN0cmluZyhbb3B0cy5rZXldKTtcbiAgICAgICAgdmFyIGtleUVuZCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleSwge31dKTtcbiAgICAgICAgaWYgKHZpZXdPcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSBrZXlTdGFydDtcbiAgICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IGtleUVuZDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB2aWV3T3B0cy5zdGFydGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleUVuZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFzaG91bGRSZWR1Y2UpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRzLmxpbWl0ID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHZpZXdPcHRzLmxpbWl0ID0gb3B0cy5saW1pdDtcbiAgICAgICAgfVxuICAgICAgICB2aWV3T3B0cy5za2lwID0gc2tpcDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBodHRwVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gZGIuZmV0Y2goJ192aWV3X2NsZWFudXAnLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgbWV0aG9kOiAnUE9TVCdcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvY2FsVmlld0NsZWFudXAoZGIpIHtcbiAgICByZXR1cm4gZGIuZ2V0KCdfbG9jYWwvJyArIGxvY2FsRG9jTmFtZSkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgdmFyIGRvY3NUb1ZpZXdzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzKS5mb3JFYWNoKGZ1bmN0aW9uIChmdWxsVmlld05hbWUpIHtcbiAgICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgICB2YXIgZGVzaWduRG9jTmFtZSA9ICdfZGVzaWduLycgKyBwYXJ0c1swXTtcbiAgICAgICAgdmFyIHZpZXdOYW1lID0gcGFydHNbMV07XG4gICAgICAgIHZhciB2aWV3cyA9IGRvY3NUb1ZpZXdzLmdldChkZXNpZ25Eb2NOYW1lKTtcbiAgICAgICAgaWYgKCF2aWV3cykge1xuICAgICAgICAgIHZpZXdzID0gbmV3IEV4cG9ydGVkU2V0KCk7XG4gICAgICAgICAgZG9jc1RvVmlld3Muc2V0KGRlc2lnbkRvY05hbWUsIHZpZXdzKTtcbiAgICAgICAgfVxuICAgICAgICB2aWV3cy5hZGQodmlld05hbWUpO1xuICAgICAgfSk7XG4gICAgICB2YXIgb3B0cyA9IHtcbiAgICAgICAga2V5cyA6IG1hcFRvS2V5c0FycmF5KGRvY3NUb1ZpZXdzKSxcbiAgICAgICAgaW5jbHVkZV9kb2NzIDogdHJ1ZVxuICAgICAgfTtcbiAgICAgIHJldHVybiBkYi5hbGxEb2NzKG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgdmlld3NUb1N0YXR1cyA9IHt9O1xuICAgICAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICB2YXIgZGRvY05hbWUgPSByb3cua2V5LnN1YnN0cmluZyg4KTsgLy8gY3V0cyBvZmYgJ19kZXNpZ24vJ1xuICAgICAgICAgIGRvY3NUb1ZpZXdzLmdldChyb3cua2V5KS5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3TmFtZSkge1xuICAgICAgICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IGRkb2NOYW1lICsgJy8nICsgdmlld05hbWU7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICAgIGlmICghbWV0YURvYy52aWV3c1tmdWxsVmlld05hbWVdKSB7XG4gICAgICAgICAgICAgIC8vIG5ldyBmb3JtYXQsIHdpdGhvdXQgc2xhc2hlcywgdG8gc3VwcG9ydCBQb3VjaERCIDIuMi4wXG4gICAgICAgICAgICAgIC8vIG1pZ3JhdGlvbiB0ZXN0IGluIHBvdWNoZGIncyBicm93c2VyLm1pZ3JhdGlvbi5qcyB2ZXJpZmllcyB0aGlzXG4gICAgICAgICAgICAgIGZ1bGxWaWV3TmFtZSA9IHZpZXdOYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIHZpZXdEQk5hbWVzID0gT2JqZWN0LmtleXMobWV0YURvYy52aWV3c1tmdWxsVmlld05hbWVdKTtcbiAgICAgICAgICAgIC8vIGRlc2lnbiBkb2MgZGVsZXRlZCwgb3IgdmlldyBmdW5jdGlvbiBub25leGlzdGVudFxuICAgICAgICAgICAgdmFyIHN0YXR1c0lzR29vZCA9IHJvdy5kb2MgJiYgcm93LmRvYy52aWV3cyAmJlxuICAgICAgICAgICAgICByb3cuZG9jLnZpZXdzW3ZpZXdOYW1lXTtcbiAgICAgICAgICAgIHZpZXdEQk5hbWVzLmZvckVhY2goZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICAgICAgdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXSA9XG4gICAgICAgICAgICAgICAgdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXSB8fCBzdGF0dXNJc0dvb2Q7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHZhciBkYnNUb0RlbGV0ZSA9IE9iamVjdC5rZXlzKHZpZXdzVG9TdGF0dXMpLmZpbHRlcihcbiAgICAgICAgICBmdW5jdGlvbiAodmlld0RCTmFtZSkgeyByZXR1cm4gIXZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV07IH0pO1xuICAgICAgICB2YXIgZGVzdHJveVByb21pc2VzID0gZGJzVG9EZWxldGUubWFwKGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7XG4gICAgICAgICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlld0RCTmFtZSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgZGIuY29uc3RydWN0b3Iodmlld0RCTmFtZSwgZGIuX19vcHRzKS5kZXN0cm95KCk7XG4gICAgICAgICAgfSkoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkZXN0cm95UHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiB7b2s6IHRydWV9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0sIGRlZmF1bHRzVG8oe29rOiB0cnVlfSkpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlQcm9taXNlZChkYiwgZnVuLCBvcHRzKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIGRiLl9xdWVyeSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVF1ZXJ5KGRiLCBmdW4sIG9wdHMpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpO1xuICAgIH1cblxuICAgIHZhciB1cGRhdGVWaWV3T3B0cyA9IHtcbiAgICAgIGNoYW5nZXNfYmF0Y2hfc2l6ZTogZGIuX19vcHRzLnZpZXdfdXBkYXRlX2NoYW5nZXNfYmF0Y2hfc2l6ZSB8fCBDSEFOR0VTX0JBVENIX1NJWkUkMVxuICAgIH07XG5cbiAgICBpZiAodHlwZW9mIGZ1biAhPT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIHRlbXBfdmlld1xuICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgdGVtcFZpZXdRdWV1ZS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovICd0ZW1wX3ZpZXcvdGVtcF92aWV3JyxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gdHJ1ZSxcbiAgICAgICAgICAvKiBsb2NhbERvY05hbWUgKi8gbG9jYWxEb2NOYW1lKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZpZXdQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICByZXR1cm4gZmluKHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICB9KSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIHZpZXcuZGIuZGVzdHJveSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRlbXBWaWV3UXVldWUuZmluaXNoKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIHBlcnNpc3RlbnQgdmlld1xuICAgICAgdmFyIGZ1bGxWaWV3TmFtZSA9IGZ1bjtcbiAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVsbFZpZXdOYW1lKTtcbiAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gcGFydHNbMF07XG4gICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgIHJldHVybiBkYi5nZXQoJ19kZXNpZ24vJyArIGRlc2lnbkRvY05hbWUpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZnVuID0gZG9jLnZpZXdzICYmIGRvYy52aWV3c1t2aWV3TmFtZV07XG5cbiAgICAgICAgaWYgKCFmdW4pIHtcbiAgICAgICAgICAvLyBiYXNpYyB2YWxpZGF0b3I7IGl0J3MgYXNzdW1lZCB0aGF0IGV2ZXJ5IHN1YmNsYXNzIHdvdWxkIHdhbnQgdGhpc1xuICAgICAgICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdkZG9jICcgKyBkb2MuX2lkICsgJyBoYXMgbm8gdmlldyBuYW1lZCAnICtcbiAgICAgICAgICAgIHZpZXdOYW1lKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRkb2NWYWxpZGF0b3IoZG9jLCB2aWV3TmFtZSk7XG4gICAgICAgIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdHMsIGZ1bik7XG5cbiAgICAgICAgdmFyIGNyZWF0ZVZpZXdQcm9taXNlID0gY3JlYXRlVmlldyhcbiAgICAgICAgICAvKiBzb3VyY2VEQiAqLyBkYixcbiAgICAgICAgICAvKiB2aWV3TmFtZSAqLyBmdWxsVmlld05hbWUsXG4gICAgICAgICAgLyogbWFwRnVuICovIGZ1bi5tYXAsXG4gICAgICAgICAgLyogcmVkdWNlRnVuICovIGZ1bi5yZWR1Y2UsXG4gICAgICAgICAgLyogdGVtcG9yYXJ5ICovIGZhbHNlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAnb2snIHx8IG9wdHMuc3RhbGUgPT09ICd1cGRhdGVfYWZ0ZXInKSB7XG4gICAgICAgICAgICBpZiAob3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICB1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIHN0YWxlIG5vdCBva1xuICAgICAgICAgICAgcmV0dXJuIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGFic3RyYWN0UXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBkYiA9IHRoaXM7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBvcHRzID8gY29lcmNlT3B0aW9ucyhvcHRzKSA6IHt9O1xuXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGZ1biA9IHttYXAgOiBmdW59O1xuICAgIH1cblxuICAgIHZhciBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlQcm9taXNlZChkYiwgZnVuLCBvcHRzKTtcbiAgICB9KTtcbiAgICBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKTtcbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfVxuXG4gIHZhciBhYnN0cmFjdFZpZXdDbGVhbnVwID0gY2FsbGJhY2tpZnkoZnVuY3Rpb24gKCkge1xuICAgIHZhciBkYiA9IHRoaXM7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIGRiLl92aWV3Q2xlYW51cCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIGN1c3RvbVZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgaWYgKGlzUmVtb3RlKGRiKSkge1xuICAgICAgcmV0dXJuIGh0dHBWaWV3Q2xlYW51cChkYik7XG4gICAgfVxuICAgIHJldHVybiBsb2NhbFZpZXdDbGVhbnVwKGRiKTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBxdWVyeTogYWJzdHJhY3RRdWVyeSxcbiAgICB2aWV3Q2xlYW51cDogYWJzdHJhY3RWaWV3Q2xlYW51cFxuICB9O1xufVxuXG52YXIgYnVpbHRJblJlZHVjZSA9IHtcbiAgX3N1bTogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiBzdW0odmFsdWVzKTtcbiAgfSxcblxuICBfY291bnQ6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gdmFsdWVzLmxlbmd0aDtcbiAgfSxcblxuICBfc3RhdHM6IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICAvLyBubyBuZWVkIHRvIGltcGxlbWVudCByZXJlZHVjZT10cnVlLCBiZWNhdXNlIFBvdWNoXG4gICAgLy8gd2lsbCBuZXZlciBjYWxsIGl0XG4gICAgZnVuY3Rpb24gc3Vtc3FyKHZhbHVlcykge1xuICAgICAgdmFyIF9zdW1zcXIgPSAwO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgbnVtID0gdmFsdWVzW2ldO1xuICAgICAgICBfc3Vtc3FyICs9IChudW0gKiBudW0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9zdW1zcXI7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdW0gICAgIDogc3VtKHZhbHVlcyksXG4gICAgICBtaW4gICAgIDogTWF0aC5taW4uYXBwbHkobnVsbCwgdmFsdWVzKSxcbiAgICAgIG1heCAgICAgOiBNYXRoLm1heC5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgY291bnQgICA6IHZhbHVlcy5sZW5ndGgsXG4gICAgICBzdW1zcXIgOiBzdW1zcXIodmFsdWVzKVxuICAgIH07XG4gIH1cbn07XG5cbmZ1bmN0aW9uIGdldEJ1aWx0SW4ocmVkdWNlRnVuU3RyaW5nKSB7XG4gIGlmICgvXl9zdW0vLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9zdW07XG4gIH0gZWxzZSBpZiAoL15fY291bnQvLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9jb3VudDtcbiAgfSBlbHNlIGlmICgvXl9zdGF0cy8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N0YXRzO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKHJlZHVjZUZ1blN0cmluZyArICcgaXMgbm90IGEgc3VwcG9ydGVkIHJlZHVjZSBmdW5jdGlvbi4nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBtYXBwZXIobWFwRnVuLCBlbWl0KSB7XG4gIC8vIGZvciB0ZW1wX3ZpZXdzIG9uZSBjYW4gdXNlIGVtaXQoZG9jLCBlbWl0KSwgc2VlICMzOFxuICBpZiAodHlwZW9mIG1hcEZ1biA9PT0gXCJmdW5jdGlvblwiICYmIG1hcEZ1bi5sZW5ndGggPT09IDIpIHtcbiAgICB2YXIgb3JpZ01hcCA9IG1hcEZ1bjtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGRvYykge1xuICAgICAgcmV0dXJuIG9yaWdNYXAoZG9jLCBlbWl0KTtcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChtYXBGdW4udG9TdHJpbmcoKSwgZW1pdCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVkdWNlcihyZWR1Y2VGdW4pIHtcbiAgdmFyIHJlZHVjZUZ1blN0cmluZyA9IHJlZHVjZUZ1bi50b1N0cmluZygpO1xuICB2YXIgYnVpbHRJbiA9IGdldEJ1aWx0SW4ocmVkdWNlRnVuU3RyaW5nKTtcbiAgaWYgKGJ1aWx0SW4pIHtcbiAgICByZXR1cm4gYnVpbHRJbjtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXZhbEZ1bmN0aW9uV2l0aEV2YWwocmVkdWNlRnVuU3RyaW5nKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBkZG9jVmFsaWRhdG9yKGRkb2MsIHZpZXdOYW1lKSB7XG4gIHZhciBmdW4gPSBkZG9jLnZpZXdzICYmIGRkb2Mudmlld3Nbdmlld05hbWVdO1xuICBpZiAodHlwZW9mIGZ1bi5tYXAgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRkb2MuX2lkICsgJyBoYXMgbm8gc3RyaW5nIHZpZXcgbmFtZWQgJyArXG4gICAgICB2aWV3TmFtZSArICcsIGluc3RlYWQgZm91bmQgb2JqZWN0IG9mIHR5cGU6ICcgKyB0eXBlb2YgZnVuLm1hcCk7XG4gIH1cbn1cblxudmFyIGxvY2FsRG9jTmFtZSA9ICdtcnZpZXdzJztcbnZhciBhYnN0cmFjdCA9IGNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlKGxvY2FsRG9jTmFtZSwgbWFwcGVyLCByZWR1Y2VyLCBkZG9jVmFsaWRhdG9yKTtcblxuZnVuY3Rpb24gcXVlcnkoZnVuLCBvcHRzLCBjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3QucXVlcnkuY2FsbCh0aGlzLCBmdW4sIG9wdHMsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gdmlld0NsZWFudXAoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGFic3RyYWN0LnZpZXdDbGVhbnVwLmNhbGwodGhpcywgY2FsbGJhY2spO1xufVxuXG52YXIgbWFwcmVkdWNlID0ge1xuICBxdWVyeTogcXVlcnksXG4gIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cFxufTtcblxuZnVuY3Rpb24gaXNHZW5PbmUkMShyZXYpIHtcbiAgcmV0dXJuIC9eMS0vLnRlc3QocmV2KTtcbn1cblxuZnVuY3Rpb24gZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIHJlbW90ZURvYywgZmlsZW5hbWUpIHtcbiAgcmV0dXJuICFsb2NhbERvYy5fYXR0YWNobWVudHMgfHxcbiAgICAgICAgICFsb2NhbERvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdIHx8XG4gICAgICAgICBsb2NhbERvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdLmRpZ2VzdCAhPT0gcmVtb3RlRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0O1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50cyhkYiwgZG9jKSB7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgcmV0dXJuIGRiLmdldEF0dGFjaG1lbnQoZG9jLl9pZCwgZmlsZW5hbWUsIHtyZXY6IGRvYy5fcmV2fSk7XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UodGFyZ2V0LCBzcmMsIGRvYykge1xuICB2YXIgZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMgPSBpc1JlbW90ZShzcmMpICYmICFpc1JlbW90ZSh0YXJnZXQpO1xuICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG5cbiAgaWYgKCFkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cykge1xuICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50cyhzcmMsIGRvYyk7XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0LmdldChkb2MuX2lkKS50aGVuKGZ1bmN0aW9uIChsb2NhbERvYykge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgaWYgKGZpbGVIYXNDaGFuZ2VkKGxvY2FsRG9jLCBkb2MsIGZpbGVuYW1lKSkge1xuICAgICAgICByZXR1cm4gc3JjLmdldEF0dGFjaG1lbnQoZG9jLl9pZCwgZmlsZW5hbWUpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGFyZ2V0LmdldEF0dGFjaG1lbnQobG9jYWxEb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgfSkpO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyb3Iuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cblxuICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50cyhzcmMsIGRvYyk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWxrR2V0T3B0cyhkaWZmcykge1xuICB2YXIgcmVxdWVzdHMgPSBbXTtcbiAgT2JqZWN0LmtleXMoZGlmZnMpLmZvckVhY2goZnVuY3Rpb24gKGlkKSB7XG4gICAgdmFyIG1pc3NpbmdSZXZzID0gZGlmZnNbaWRdLm1pc3Npbmc7XG4gICAgbWlzc2luZ1JldnMuZm9yRWFjaChmdW5jdGlvbiAobWlzc2luZ1Jldikge1xuICAgICAgcmVxdWVzdHMucHVzaCh7XG4gICAgICAgIGlkOiBpZCxcbiAgICAgICAgcmV2OiBtaXNzaW5nUmV2XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHtcbiAgICBkb2NzOiByZXF1ZXN0cyxcbiAgICByZXZzOiB0cnVlLFxuICAgIGxhdGVzdDogdHJ1ZVxuICB9O1xufVxuXG4vL1xuLy8gRmV0Y2ggYWxsIHRoZSBkb2N1bWVudHMgZnJvbSB0aGUgc3JjIGFzIGRlc2NyaWJlZCBpbiB0aGUgXCJkaWZmc1wiLFxuLy8gd2hpY2ggaXMgYSBtYXBwaW5nIG9mIGRvY3MgSURzIHRvIHJldmlzaW9ucy4gSWYgdGhlIHN0YXRlIGV2ZXJcbi8vIGNoYW5nZXMgdG8gXCJjYW5jZWxsZWRcIiwgdGhlbiB0aGUgcmV0dXJuZWQgcHJvbWlzZSB3aWxsIGJlIHJlamVjdGVkLlxuLy8gRWxzZSBpdCB3aWxsIGJlIHJlc29sdmVkIHdpdGggYSBsaXN0IG9mIGZldGNoZWQgZG9jdW1lbnRzLlxuLy9cbmZ1bmN0aW9uIGdldERvY3Moc3JjLCB0YXJnZXQsIGRpZmZzLCBzdGF0ZSkge1xuICBkaWZmcyA9IGNsb25lKGRpZmZzKTsgLy8gd2UgZG8gbm90IG5lZWQgdG8gbW9kaWZ5IHRoaXNcblxuICB2YXIgcmVzdWx0RG9jcyA9IFtdLFxuICAgICAgb2sgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIGdldEFsbERvY3MoKSB7XG5cbiAgICB2YXIgYnVsa0dldE9wdHMgPSBjcmVhdGVCdWxrR2V0T3B0cyhkaWZmcyk7XG5cbiAgICBpZiAoIWJ1bGtHZXRPcHRzLmRvY3MubGVuZ3RoKSB7IC8vIG9wdGltaXphdGlvbjogc2tpcCBlbXB0eSByZXF1ZXN0c1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHJldHVybiBzcmMuYnVsa0dldChidWxrR2V0T3B0cykudGhlbihmdW5jdGlvbiAoYnVsa0dldFJlc3BvbnNlKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChidWxrR2V0UmVzcG9uc2UucmVzdWx0cy5tYXAoZnVuY3Rpb24gKGJ1bGtHZXRJbmZvKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChidWxrR2V0SW5mby5kb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgdmFyIHJlbW90ZURvYyA9IGRvYy5vaztcblxuICAgICAgICAgIGlmIChkb2MuZXJyb3IpIHtcbiAgICAgICAgICAgIC8vIHdoZW4gQVVUT19DT01QQUNUSU9OIGlzIHNldCwgZG9jcyBjYW4gYmUgcmV0dXJuZWQgd2hpY2ggbG9va1xuICAgICAgICAgICAgLy8gbGlrZSB0aGlzOiB7XCJtaXNzaW5nXCI6XCIxLTdjM2FjMjU2YjY5M2M0NjJhZjg0NDJmOTkyYjgzNjk2XCJ9XG4gICAgICAgICAgICBvayA9IGZhbHNlO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghcmVtb3RlRG9jIHx8ICFyZW1vdGVEb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVtb3RlRG9jO1xuICAgICAgICAgIH1cblxuICAgICAgICAgIHJldHVybiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgcmVtb3RlRG9jKVxuICAgICAgICAgICAgICAgICAgIC50aGVuKGZ1bmN0aW9uIChhdHRhY2htZW50cykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKHJlbW90ZURvYy5fYXR0YWNobWVudHMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudHNcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLmZvckVhY2goZnVuY3Rpb24gKGF0dGFjaG1lbnQsIGkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXR0ID0gcmVtb3RlRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZXNbaV1dO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHQuZGF0YSA9IGF0dGFjaG1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgICAgfSkpXG5cbiAgICAgIC50aGVuKGZ1bmN0aW9uIChyZXN1bHRzKSB7XG4gICAgICAgIHJlc3VsdERvY3MgPSByZXN1bHREb2NzLmNvbmNhdChmbGF0dGVuKHJlc3VsdHMpLmZpbHRlcihCb29sZWFuKSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0F0dGFjaG1lbnRzKGRvYykge1xuICAgIHJldHVybiBkb2MuX2F0dGFjaG1lbnRzICYmIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNDb25mbGljdHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fY29uZmxpY3RzICYmIGRvYy5fY29uZmxpY3RzLmxlbmd0aCA+IDA7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFJldmlzaW9uT25lRG9jcyhpZHMpIHtcbiAgICAvLyBPcHRpbWl6YXRpb246IGZldGNoIGdlbi0xIGRvY3MgYW5kIGF0dGFjaG1lbnRzIGluXG4gICAgLy8gYSBzaW5nbGUgcmVxdWVzdCB1c2luZyBfYWxsX2RvY3NcbiAgICByZXR1cm4gc3JjLmFsbERvY3Moe1xuICAgICAga2V5czogaWRzLFxuICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgY29uZmxpY3RzOiB0cnVlXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpZiAoc3RhdGUuY2FuY2VsbGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgaWYgKHJvdy5kZWxldGVkIHx8ICFyb3cuZG9jIHx8ICFpc0dlbk9uZSQxKHJvdy52YWx1ZS5yZXYpIHx8XG4gICAgICAgICAgICBoYXNBdHRhY2htZW50cyhyb3cuZG9jKSB8fCBoYXNDb25mbGljdHMocm93LmRvYykpIHtcbiAgICAgICAgICAvLyBpZiBhbnkgb2YgdGhlc2UgY29uZGl0aW9ucyBhcHBseSwgd2UgbmVlZCB0byBmZXRjaCB1c2luZyBnZXQoKVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHN0cmlwIF9jb25mbGljdHMgYXJyYXkgdG8gYXBwZWFzZSBDU0cgKCM1NzkzKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHJvdy5kb2MuX2NvbmZsaWN0cykge1xuICAgICAgICAgIGRlbGV0ZSByb3cuZG9jLl9jb25mbGljdHM7XG4gICAgICAgIH1cblxuICAgICAgICAvLyB0aGUgZG9jIHdlIGdvdCBiYWNrIGZyb20gYWxsRG9jcygpIGlzIHN1ZmZpY2llbnRcbiAgICAgICAgcmVzdWx0RG9jcy5wdXNoKHJvdy5kb2MpO1xuICAgICAgICBkZWxldGUgZGlmZnNbcm93LmlkXTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0UmV2aXNpb25PbmVEb2NzKCkge1xuICAgIC8vIGZpbHRlciBvdXQgdGhlIGdlbmVyYXRpb24gMSBkb2NzIGFuZCBnZXQgdGhlbVxuICAgIC8vIGxlYXZpbmcgdGhlIG5vbi1nZW5lcmF0aW9uIG9uZSBkb2NzIHRvIGJlIGdvdCBvdGhlcndpc2VcbiAgICB2YXIgaWRzID0gT2JqZWN0LmtleXMoZGlmZnMpLmZpbHRlcihmdW5jdGlvbiAoaWQpIHtcbiAgICAgIHZhciBtaXNzaW5nID0gZGlmZnNbaWRdLm1pc3Npbmc7XG4gICAgICByZXR1cm4gbWlzc2luZy5sZW5ndGggPT09IDEgJiYgaXNHZW5PbmUkMShtaXNzaW5nWzBdKTtcbiAgICB9KTtcbiAgICBpZiAoaWRzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBmZXRjaFJldmlzaW9uT25lRG9jcyhpZHMpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHJldHVyblJlc3VsdCgpIHtcbiAgICByZXR1cm4geyBvazpvaywgZG9jczpyZXN1bHREb2NzIH07XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKClcbiAgICAudGhlbihnZXRSZXZpc2lvbk9uZURvY3MpXG4gICAgLnRoZW4oZ2V0QWxsRG9jcylcbiAgICAudGhlbihyZXR1cm5SZXN1bHQpO1xufVxuXG52YXIgQ0hFQ0tQT0lOVF9WRVJTSU9OID0gMTtcbnZhciBSRVBMSUNBVE9SID0gXCJwb3VjaGRiXCI7XG4vLyBUaGlzIGlzIGFuIGFyYml0cmFyeSBudW1iZXIgdG8gbGltaXQgdGhlXG4vLyBhbW91bnQgb2YgcmVwbGljYXRpb24gaGlzdG9yeSB3ZSBzYXZlIGluIHRoZSBjaGVja3BvaW50LlxuLy8gSWYgd2Ugc2F2ZSB0b28gbXVjaCwgdGhlIGNoZWNrcG9pbmcgZG9jcyB3aWxsIGJlY29tZSB2ZXJ5IGJpZyxcbi8vIGlmIHdlIHNhdmUgZmV3ZXIsIHdlJ2xsIHJ1biBhIGdyZWF0ZXIgcmlzayBvZiBoYXZpbmcgdG9cbi8vIHJlYWQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gMCB3aGVuIGNoZWNrcG9pbnQgUFVUcyBmYWlsXG4vLyBDb3VjaERCIDIuMCBoYXMgYSBtb3JlIGludm9sdmVkIGhpc3RvcnkgcHJ1bmluZyxcbi8vIGJ1dCBsZXQncyBnbyBmb3IgdGhlIHNpbXBsZSB2ZXJzaW9uIGZvciBub3cuXG52YXIgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUgPSA1O1xudmFyIExPV0VTVF9TRVEgPSAwO1xuXG5mdW5jdGlvbiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpIHtcbiAgcmV0dXJuIGRiLmdldChpZCkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgIGlmIChkYi5hZGFwdGVyID09PSAnaHR0cCcgfHwgZGIuYWRhcHRlciA9PT0gJ2h0dHBzJykge1xuICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgNDA0LCAnUG91Y2hEQiBpcyBqdXN0IGNoZWNraW5nIGlmIGEgcmVtb3RlIGNoZWNrcG9pbnQgZXhpc3RzLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHNlc3Npb25faWQ6IHNlc3Npb24sXG4gICAgICAgIF9pZDogaWQsXG4gICAgICAgIGhpc3Rvcnk6IFtdLFxuICAgICAgICByZXBsaWNhdG9yOiBSRVBMSUNBVE9SLFxuICAgICAgICB2ZXJzaW9uOiBDSEVDS1BPSU5UX1ZFUlNJT05cbiAgICAgIH07XG4gICAgfVxuICAgIHRocm93IGVycjtcbiAgfSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIGlmIHRoZSBjaGVja3BvaW50IGhhcyBub3QgY2hhbmdlZCwgZG8gbm90IHVwZGF0ZVxuICAgIGlmIChkb2MubGFzdF9zZXEgPT09IGNoZWNrcG9pbnQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBGaWx0ZXIgb3V0IGN1cnJlbnQgZW50cnkgZm9yIHRoaXMgcmVwbGljYXRpb25cbiAgICBkb2MuaGlzdG9yeSA9IChkb2MuaGlzdG9yeSB8fCBbXSkuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICByZXR1cm4gaXRlbS5zZXNzaW9uX2lkICE9PSBzZXNzaW9uO1xuICAgIH0pO1xuXG4gICAgLy8gQWRkIHRoZSBsYXRlc3QgY2hlY2twb2ludCB0byBoaXN0b3J5XG4gICAgZG9jLmhpc3RvcnkudW5zaGlmdCh7XG4gICAgICBsYXN0X3NlcTogY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb25faWQ6IHNlc3Npb25cbiAgICB9KTtcblxuICAgIC8vIEp1c3QgdGFrZSB0aGUgbGFzdCBwaWVjZXMgaW4gaGlzdG9yeSwgdG9cbiAgICAvLyBhdm9pZCByZWFsbHkgYmlnIGNoZWNrcG9pbnQgZG9jcy5cbiAgICAvLyBzZWUgY29tbWVudCBvbiBoaXN0b3J5IHNpemUgYWJvdmVcbiAgICBkb2MuaGlzdG9yeSA9IGRvYy5oaXN0b3J5LnNsaWNlKDAsIENIRUNLUE9JTlRfSElTVE9SWV9TSVpFKTtcblxuICAgIGRvYy52ZXJzaW9uID0gQ0hFQ0tQT0lOVF9WRVJTSU9OO1xuICAgIGRvYy5yZXBsaWNhdG9yID0gUkVQTElDQVRPUjtcblxuICAgIGRvYy5zZXNzaW9uX2lkID0gc2Vzc2lvbjtcbiAgICBkb2MubGFzdF9zZXEgPSBjaGVja3BvaW50O1xuXG4gICAgcmV0dXJuIGRiLnB1dChkb2MpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDkpIHtcbiAgICAgICAgLy8gcmV0cnk7IHNvbWVvbmUgaXMgdHJ5aW5nIHRvIHdyaXRlIGEgY2hlY2twb2ludCBzaW11bHRhbmVvdXNseVxuICAgICAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludChkYiwgaWQsIGNoZWNrcG9pbnQsIHNlc3Npb24sIHJldHVyblZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgaWQsIHJldHVyblZhbHVlLCBvcHRzKSB7XG4gIHRoaXMuc3JjID0gc3JjO1xuICB0aGlzLnRhcmdldCA9IHRhcmdldDtcbiAgdGhpcy5pZCA9IGlkO1xuICB0aGlzLnJldHVyblZhbHVlID0gcmV0dXJuVmFsdWU7XG4gIHRoaXMub3B0cyA9IG9wdHMgfHwge307XG59XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUud3JpdGVDaGVja3BvaW50ID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICByZXR1cm4gdGhpcy51cGRhdGVUYXJnZXQoY2hlY2twb2ludCwgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHNlbGYudXBkYXRlU291cmNlKGNoZWNrcG9pbnQsIHNlc3Npb24pO1xuICB9KTtcbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUudXBkYXRlVGFyZ2V0ID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgaWYgKHRoaXMub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQpIHtcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnRhcmdldCwgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUudXBkYXRlU291cmNlID0gZnVuY3Rpb24gKGNoZWNrcG9pbnQsIHNlc3Npb24pIHtcbiAgaWYgKHRoaXMub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQpIHtcbiAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQodGhpcy5zcmMsIHRoaXMuaWQsIGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uLCB0aGlzLnJldHVyblZhbHVlKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgaWYgKGlzRm9yYmlkZGVuRXJyb3IoZXJyKSkge1xuICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICB9XG59O1xuXG52YXIgY29tcGFyaXNvbnMgPSB7XG4gIFwidW5kZWZpbmVkXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIHByZXZpb3VzIGNvbXBhcmlzb24gZnVuY3Rpb25cbiAgICBpZiAoY29sbGF0ZSh0YXJnZXREb2MubGFzdF9zZXEsIHNvdXJjZURvYy5sYXN0X3NlcSkgPT09IDApIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXE7XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgcmV0dXJuIDA7XG4gIH0sXG4gIFwiMVwiOiBmdW5jdGlvbiAodGFyZ2V0RG9jLCBzb3VyY2VEb2MpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBjb21wYXJpc29uIGZ1bmN0aW9uIHBvcnRlZCBmcm9tIENvdWNoREJcbiAgICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uTG9ncyhzb3VyY2VEb2MsIHRhcmdldERvYykubGFzdF9zZXE7XG4gIH1cbn07XG5cbkNoZWNrcG9pbnRlci5wcm90b3R5cGUuZ2V0Q2hlY2twb2ludCA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICByZXR1cm4gc291cmNlRG9jLmxhc3Rfc2VxIHx8IExPV0VTVF9TRVE7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHNlbGYudGFyZ2V0LmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uICh0YXJnZXREb2MpIHtcbiAgICBpZiAoc2VsZi5vcHRzICYmIHNlbGYub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQgJiYgIXNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQpIHtcbiAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2VsZi5zcmMuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHNvdXJjZURvYykge1xuICAgICAgLy8gU2luY2Ugd2UgY2FuJ3QgbWlncmF0ZSBhbiBvbGQgdmVyc2lvbiBkb2MgdG8gYSBuZXcgb25lXG4gICAgICAvLyAobm8gc2Vzc2lvbiBpZCksIHdlIGp1c3QgZ28gd2l0aCB0aGUgbG93ZXN0IHNlcSBpbiB0aGlzIGNhc2VcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHRhcmdldERvYy52ZXJzaW9uICE9PSBzb3VyY2VEb2MudmVyc2lvbikge1xuICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgIH1cblxuICAgICAgdmFyIHZlcnNpb247XG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24pIHtcbiAgICAgICAgdmVyc2lvbiA9IHRhcmdldERvYy52ZXJzaW9uLnRvU3RyaW5nKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2ZXJzaW9uID0gXCJ1bmRlZmluZWRcIjtcbiAgICAgIH1cblxuICAgICAgaWYgKHZlcnNpb24gaW4gY29tcGFyaXNvbnMpIHtcbiAgICAgICAgcmV0dXJuIGNvbXBhcmlzb25zW3ZlcnNpb25dKHRhcmdldERvYywgc291cmNlRG9jKTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0ICYmIHRhcmdldERvYy5sYXN0X3NlcSkge1xuICAgICAgICByZXR1cm4gc2VsZi5zcmMucHV0KHtcbiAgICAgICAgICBfaWQ6IHNlbGYuaWQsXG4gICAgICAgICAgbGFzdF9zZXE6IExPV0VTVF9TRVFcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgICBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0RG9jLmxhc3Rfc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gIH0pO1xufTtcbi8vIFRoaXMgY2hlY2twb2ludCBjb21wYXJpc29uIGlzIHBvcnRlZCBmcm9tIENvdWNoREJzIHNvdXJjZVxuLy8gdGhleSBjb21lIGZyb20gaGVyZTpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY291Y2hkYi1jb3VjaC1yZXBsaWNhdG9yL2Jsb2IvbWFzdGVyL3NyYy9jb3VjaF9yZXBsaWNhdG9yLmVybCNMODYzLUw5MDZcblxuZnVuY3Rpb24gY29tcGFyZVJlcGxpY2F0aW9uTG9ncyhzcmNEb2MsIHRndERvYykge1xuICBpZiAoc3JjRG9jLnNlc3Npb25faWQgPT09IHRndERvYy5zZXNzaW9uX2lkKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBzcmNEb2MubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzcmNEb2MuaGlzdG9yeVxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzcmNEb2MuaGlzdG9yeSwgdGd0RG9jLmhpc3RvcnkpO1xufVxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZUhpc3RvcnksIHRhcmdldEhpc3RvcnkpIHtcbiAgLy8gdGhlIGVybGFuZyBsb29wIHZpYSBmdW5jdGlvbiBhcmd1bWVudHMgaXMgbm90IHNvIGVhc3kgdG8gcmVwZWF0IGluIEpTXG4gIC8vIHRoZXJlZm9yZSwgZG9pbmcgdGhpcyBhcyByZWN1cnNpb25cbiAgdmFyIFMgPSBzb3VyY2VIaXN0b3J5WzBdO1xuICB2YXIgc291cmNlUmVzdCA9IHNvdXJjZUhpc3Rvcnkuc2xpY2UoMSk7XG4gIHZhciBUID0gdGFyZ2V0SGlzdG9yeVswXTtcbiAgdmFyIHRhcmdldFJlc3QgPSB0YXJnZXRIaXN0b3J5LnNsaWNlKDEpO1xuXG4gIGlmICghUyB8fCB0YXJnZXRIaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUSxcbiAgICAgIGhpc3Rvcnk6IFtdXG4gICAgfTtcbiAgfVxuXG4gIHZhciBzb3VyY2VJZCA9IFMuc2Vzc2lvbl9pZDtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChoYXNTZXNzaW9uSWQoc291cmNlSWQsIHRhcmdldEhpc3RvcnkpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBTLmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogc291cmNlSGlzdG9yeVxuICAgIH07XG4gIH1cblxuICB2YXIgdGFyZ2V0SWQgPSBULnNlc3Npb25faWQ7XG4gIGlmIChoYXNTZXNzaW9uSWQodGFyZ2V0SWQsIHNvdXJjZVJlc3QpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBULmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogdGFyZ2V0UmVzdFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzb3VyY2VSZXN0LCB0YXJnZXRSZXN0KTtcbn1cblxuZnVuY3Rpb24gaGFzU2Vzc2lvbklkKHNlc3Npb25JZCwgaGlzdG9yeSkge1xuICB2YXIgcHJvcHMgPSBoaXN0b3J5WzBdO1xuICB2YXIgcmVzdCA9IGhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFzZXNzaW9uSWQgfHwgaGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBpZiAoc2Vzc2lvbklkID09PSBwcm9wcy5zZXNzaW9uX2lkKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICByZXR1cm4gaGFzU2Vzc2lvbklkKHNlc3Npb25JZCwgcmVzdCk7XG59XG5cbmZ1bmN0aW9uIGlzRm9yYmlkZGVuRXJyb3IoZXJyKSB7XG4gIHJldHVybiB0eXBlb2YgZXJyLnN0YXR1cyA9PT0gJ251bWJlcicgJiYgTWF0aC5mbG9vcihlcnIuc3RhdHVzIC8gMTAwKSA9PT0gNDtcbn1cblxudmFyIFNUQVJUSU5HX0JBQ0tfT0ZGID0gMDtcblxuZnVuY3Rpb24gYmFja09mZihvcHRzLCByZXR1cm5WYWx1ZSwgZXJyb3IsIGNhbGxiYWNrKSB7XG4gIGlmIChvcHRzLnJldHJ5ID09PSBmYWxzZSkge1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2Vycm9yJywgZXJyb3IpO1xuICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHJldHVybjtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgb3B0cy5iYWNrX29mZl9mdW5jdGlvbiA9IGRlZmF1bHRCYWNrT2ZmO1xuICB9XG4gIHJldHVyblZhbHVlLmVtaXQoJ3JlcXVlc3RFcnJvcicsIGVycm9yKTtcbiAgaWYgKHJldHVyblZhbHVlLnN0YXRlID09PSAnYWN0aXZlJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3BlbmRpbmcnKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgncGF1c2VkJywgZXJyb3IpO1xuICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ3N0b3BwZWQnO1xuICAgIHZhciBiYWNrT2ZmU2V0ID0gZnVuY3Rpb24gYmFja29mZlRpbWVTZXQoKSB7XG4gICAgICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBTVEFSVElOR19CQUNLX09GRjtcbiAgICB9O1xuICAgIHZhciByZW1vdmVCYWNrT2ZmU2V0dGVyID0gZnVuY3Rpb24gcmVtb3ZlQmFja09mZlRpbWVTZXQoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgYmFja09mZlNldCk7XG4gICAgfTtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdwYXVzZWQnLCByZW1vdmVCYWNrT2ZmU2V0dGVyKTtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgfVxuXG4gIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IG9wdHMuY3VycmVudF9iYWNrX29mZiB8fCBTVEFSVElOR19CQUNLX09GRjtcbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5iYWNrX29mZl9mdW5jdGlvbihvcHRzLmN1cnJlbnRfYmFja19vZmYpO1xuICBzZXRUaW1lb3V0KGNhbGxiYWNrLCBvcHRzLmN1cnJlbnRfYmFja19vZmYpO1xufVxuXG5mdW5jdGlvbiBzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5KHF1ZXJ5UGFyYW1zKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhxdWVyeVBhcmFtcykuc29ydChjb2xsYXRlKS5yZWR1Y2UoZnVuY3Rpb24gKHJlc3VsdCwga2V5KSB7XG4gICAgcmVzdWx0W2tleV0gPSBxdWVyeVBhcmFtc1trZXldO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0sIHt9KTtcbn1cblxuLy8gR2VuZXJhdGUgYSB1bmlxdWUgaWQgcGFydGljdWxhciB0byB0aGlzIHJlcGxpY2F0aW9uLlxuLy8gTm90IGd1YXJhbnRlZWQgdG8gYWxpZ24gcGVyZmVjdGx5IHdpdGggQ291Y2hEQidzIHJlcCBpZHMuXG5mdW5jdGlvbiBnZW5lcmF0ZVJlcGxpY2F0aW9uSWQoc3JjLCB0YXJnZXQsIG9wdHMpIHtcbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyA/IG9wdHMuZG9jX2lkcy5zb3J0KGNvbGxhdGUpIDogJyc7XG4gIHZhciBmaWx0ZXJGdW4gPSBvcHRzLmZpbHRlciA/IG9wdHMuZmlsdGVyLnRvU3RyaW5nKCkgOiAnJztcbiAgdmFyIHF1ZXJ5UGFyYW1zID0gJyc7XG4gIHZhciBmaWx0ZXJWaWV3TmFtZSA9ICAnJztcbiAgdmFyIHNlbGVjdG9yID0gJyc7XG5cbiAgLy8gcG9zc2liaWxpdHkgZm9yIGNoZWNrcG9pbnRzIHRvIGJlIGxvc3QgaGVyZSBhcyBiZWhhdmlvdXIgb2ZcbiAgLy8gSlNPTi5zdHJpbmdpZnkgaXMgbm90IHN0YWJsZSAoc2VlICM2MjI2KVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBzZWxlY3RvciA9IEpTT04uc3RyaW5naWZ5KG9wdHMuc2VsZWN0b3IpO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgcXVlcnlQYXJhbXMgPSBKU09OLnN0cmluZ2lmeShzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5KG9wdHMucXVlcnlfcGFyYW1zKSk7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICBmaWx0ZXJWaWV3TmFtZSA9IG9wdHMudmlldy50b1N0cmluZygpO1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UuYWxsKFtzcmMuaWQoKSwgdGFyZ2V0LmlkKCldKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICB2YXIgcXVlcnlEYXRhID0gcmVzWzBdICsgcmVzWzFdICsgZmlsdGVyRnVuICsgZmlsdGVyVmlld05hbWUgK1xuICAgICAgcXVlcnlQYXJhbXMgKyBkb2NJZHMgKyBzZWxlY3RvcjtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgIGJpbmFyeU1kNShxdWVyeURhdGEsIHJlc29sdmUpO1xuICAgIH0pO1xuICB9KS50aGVuKGZ1bmN0aW9uIChtZDVzdW0pIHtcbiAgICAvLyBjYW4ndCB1c2Ugc3RyYWlnaHQtdXAgbWQ1IGFscGhhYmV0LCBiZWNhdXNlXG4gICAgLy8gdGhlIGNoYXIgJy8nIGlzIGludGVycHJldGVkIGFzIGJlaW5nIGZvciBhdHRhY2htZW50cyxcbiAgICAvLyBhbmQgKyBpcyBhbHNvIG5vdCB1cmwtc2FmZVxuICAgIG1kNXN1bSA9IG1kNXN1bS5yZXBsYWNlKC9cXC8vZywgJy4nKS5yZXBsYWNlKC9cXCsvZywgJ18nKTtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgbWQ1c3VtO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcmVwbGljYXRlKHNyYywgdGFyZ2V0LCBvcHRzLCByZXR1cm5WYWx1ZSwgcmVzdWx0KSB7XG4gIHZhciBiYXRjaGVzID0gW107ICAgICAgICAgICAgICAgLy8gbGlzdCBvZiBiYXRjaGVzIHRvIGJlIHByb2Nlc3NlZFxuICB2YXIgY3VycmVudEJhdGNoOyAgICAgICAgICAgICAgIC8vIHRoZSBiYXRjaCBjdXJyZW50bHkgYmVpbmcgcHJvY2Vzc2VkXG4gIHZhciBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgc2VxOiAwLFxuICAgIGNoYW5nZXM6IFtdLFxuICAgIGRvY3M6IFtdXG4gIH07IC8vIG5leHQgYmF0Y2gsIG5vdCB5ZXQgcmVhZHkgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlOyAgLy8gdHJ1ZSB3aGlsZSBjaGVja3BvaW50IGlzIGJlaW5nIHdyaXR0ZW5cbiAgdmFyIGNoYW5nZXNDb21wbGV0ZWQgPSBmYWxzZTsgICAvLyB0cnVlIHdoZW4gYWxsIGNoYW5nZXMgcmVjZWl2ZWRcbiAgdmFyIHJlcGxpY2F0aW9uQ29tcGxldGVkID0gZmFsc2U7IC8vIHRydWUgd2hlbiByZXBsaWNhdGlvbiBoYXMgY29tcGxldGVkXG4gIHZhciBsYXN0X3NlcSA9IDA7XG4gIHZhciBjb250aW51b3VzID0gb3B0cy5jb250aW51b3VzIHx8IG9wdHMubGl2ZSB8fCBmYWxzZTtcbiAgdmFyIGJhdGNoX3NpemUgPSBvcHRzLmJhdGNoX3NpemUgfHwgMTAwO1xuICB2YXIgYmF0Y2hlc19saW1pdCA9IG9wdHMuYmF0Y2hlc19saW1pdCB8fCAxMDtcbiAgdmFyIHN0eWxlID0gb3B0cy5zdHlsZSB8fCAnYWxsX2RvY3MnO1xuICB2YXIgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTsgICAgIC8vIHRydWUgd2hpbGUgc3JjLmNoYW5nZXMgaXMgcnVubmluZ1xuICB2YXIgZG9jX2lkcyA9IG9wdHMuZG9jX2lkcztcbiAgdmFyIHNlbGVjdG9yID0gb3B0cy5zZWxlY3RvcjtcbiAgdmFyIHJlcElkO1xuICB2YXIgY2hlY2twb2ludGVyO1xuICB2YXIgY2hhbmdlZERvY3MgPSBbXTtcbiAgLy8gTGlrZSBjb3VjaGRiLCBldmVyeSByZXBsaWNhdGlvbiBnZXRzIGEgdW5pcXVlIHNlc3Npb24gaWRcbiAgdmFyIHNlc3Npb24gPSB1dWlkKCk7XG5cbiAgcmVzdWx0ID0gcmVzdWx0IHx8IHtcbiAgICBvazogdHJ1ZSxcbiAgICBzdGFydF90aW1lOiBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCksXG4gICAgZG9jc19yZWFkOiAwLFxuICAgIGRvY3Nfd3JpdHRlbjogMCxcbiAgICBkb2Nfd3JpdGVfZmFpbHVyZXM6IDAsXG4gICAgZXJyb3JzOiBbXVxuICB9O1xuXG4gIHZhciBjaGFuZ2VzT3B0cyA9IHt9O1xuICByZXR1cm5WYWx1ZS5yZWFkeShzcmMsIHRhcmdldCk7XG5cbiAgZnVuY3Rpb24gaW5pdENoZWNrcG9pbnRlcigpIHtcbiAgICBpZiAoY2hlY2twb2ludGVyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfVxuICAgIHJldHVybiBnZW5lcmF0ZVJlcGxpY2F0aW9uSWQoc3JjLCB0YXJnZXQsIG9wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVwSWQgPSByZXM7XG5cbiAgICAgIHZhciBjaGVja3BvaW50T3B0cyA9IHt9O1xuICAgICAgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gZmFsc2UpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogZmFsc2UsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAnc291cmNlJykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2UgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gJ3RhcmdldCcpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogZmFsc2UsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogdHJ1ZSB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogdHJ1ZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9XG5cbiAgICAgIGNoZWNrcG9pbnRlciA9IG5ldyBDaGVja3BvaW50ZXIoc3JjLCB0YXJnZXQsIHJlcElkLCByZXR1cm5WYWx1ZSwgY2hlY2twb2ludE9wdHMpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2NzKCkge1xuICAgIGNoYW5nZWREb2NzID0gW107XG5cbiAgICBpZiAoY3VycmVudEJhdGNoLmRvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkb2NzID0gY3VycmVudEJhdGNoLmRvY3M7XG4gICAgdmFyIGJ1bGtPcHRzID0ge3RpbWVvdXQ6IG9wdHMudGltZW91dH07XG4gICAgcmV0dXJuIHRhcmdldC5idWxrRG9jcyh7ZG9jczogZG9jcywgbmV3X2VkaXRzOiBmYWxzZX0sIGJ1bGtPcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIGByZXNgIGRvZXNuJ3QgaW5jbHVkZSBmdWxsIGRvY3VtZW50cyAod2hpY2ggbGl2ZSBpbiBgZG9jc2ApLCBzbyB3ZSBjcmVhdGUgYSBtYXAgb2ZcbiAgICAgIC8vIChpZCAtPiBlcnJvciksIGFuZCBjaGVjayBmb3IgZXJyb3JzIHdoaWxlIGl0ZXJhdGluZyBvdmVyIGBkb2NzYFxuICAgICAgdmFyIGVycm9yc0J5SWQgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgcmVzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgICBpZiAocmVzLmVycm9yKSB7XG4gICAgICAgICAgZXJyb3JzQnlJZFtyZXMuaWRdID0gcmVzO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgICAgdmFyIGVycm9yc05vID0gT2JqZWN0LmtleXMoZXJyb3JzQnlJZCkubGVuZ3RoO1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBlcnJvcnNObztcbiAgICAgIHJlc3VsdC5kb2NzX3dyaXR0ZW4gKz0gZG9jcy5sZW5ndGggLSBlcnJvcnNObztcblxuICAgICAgZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgdmFyIGVycm9yID0gZXJyb3JzQnlJZFtkb2MuX2lkXTtcbiAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgcmVzdWx0LmVycm9ycy5wdXNoKGVycm9yKTtcbiAgICAgICAgICAvLyBOb3JtYWxpemUgZXJyb3IgbmFtZS4gaS5lLiAnVW5hdXRob3JpemVkJyAtPiAndW5hdXRob3JpemVkJyAoZWcgU3luYyBHYXRld2F5KVxuICAgICAgICAgIHZhciBlcnJvck5hbWUgPSAoZXJyb3IubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBpZiAoZXJyb3JOYW1lID09PSAndW5hdXRob3JpemVkJyB8fCBlcnJvck5hbWUgPT09ICdmb3JiaWRkZW4nKSB7XG4gICAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdkZW5pZWQnLCBjbG9uZShlcnJvcikpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlZERvY3MucHVzaChkb2MpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHJlc3VsdC5kb2Nfd3JpdGVfZmFpbHVyZXMgKz0gZG9jcy5sZW5ndGg7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBmaW5pc2hCYXRjaCgpIHtcbiAgICBpZiAoY3VycmVudEJhdGNoLmVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIHdhcyBhIHByb2JsZW0gZ2V0dGluZyBkb2NzLicpO1xuICAgIH1cbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcSA9IGN1cnJlbnRCYXRjaC5zZXE7XG4gICAgdmFyIG91dFJlc3VsdCA9IGNsb25lKHJlc3VsdCk7XG4gICAgaWYgKGNoYW5nZWREb2NzLmxlbmd0aCkge1xuICAgICAgb3V0UmVzdWx0LmRvY3MgPSBjaGFuZ2VkRG9jcztcbiAgICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICh0eXBlb2YgY3VycmVudEJhdGNoLnBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICAgIG91dFJlc3VsdC5wZW5kaW5nID0gY3VycmVudEJhdGNoLnBlbmRpbmc7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgIH1cbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoYW5nZScsIG91dFJlc3VsdCk7XG4gICAgfVxuICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChjdXJyZW50QmF0Y2guc2VxLFxuICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdjaGVja3BvaW50JzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgY3VycmVudEJhdGNoID0gdW5kZWZpbmVkO1xuICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIG9uQ2hlY2twb2ludEVycm9yKGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXREaWZmcygpIHtcbiAgICB2YXIgZGlmZiA9IHt9O1xuICAgIGN1cnJlbnRCYXRjaC5jaGFuZ2VzLmZvckVhY2goZnVuY3Rpb24gKGNoYW5nZSkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3JldnNfZGlmZic6IGNoYW5nZSB9KTtcbiAgICAgIC8vIENvdWNoYmFzZSBTeW5jIEdhdGV3YXkgZW1pdHMgdGhlc2UsIGJ1dCB3ZSBjYW4gaWdub3JlIHRoZW1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGNoYW5nZS5pZCA9PT0gXCJfdXNlci9cIikge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBkaWZmW2NoYW5nZS5pZF0gPSBjaGFuZ2UuY2hhbmdlcy5tYXAoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHgucmV2O1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRhcmdldC5yZXZzRGlmZihkaWZmKS50aGVuKGZ1bmN0aW9uIChkaWZmcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIC8vIGN1cnJlbnRCYXRjaC5kaWZmcyBlbGVtZW50cyBhcmUgZGVsZXRlZCBhcyB0aGUgZG9jdW1lbnRzIGFyZSB3cml0dGVuXG4gICAgICBjdXJyZW50QmF0Y2guZGlmZnMgPSBkaWZmcztcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEJhdGNoRG9jcygpIHtcbiAgICByZXR1cm4gZ2V0RG9jcyhzcmMsIHRhcmdldCwgY3VycmVudEJhdGNoLmRpZmZzLCByZXR1cm5WYWx1ZSkudGhlbihmdW5jdGlvbiAoZ290KSB7XG4gICAgICBjdXJyZW50QmF0Y2guZXJyb3IgPSAhZ290Lm9rO1xuICAgICAgZ290LmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIGRlbGV0ZSBjdXJyZW50QmF0Y2guZGlmZnNbZG9jLl9pZF07XG4gICAgICAgIHJlc3VsdC5kb2NzX3JlYWQrKztcbiAgICAgICAgY3VycmVudEJhdGNoLmRvY3MucHVzaChkb2MpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBzdGFydE5leHRCYXRjaCgpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkIHx8IGN1cnJlbnRCYXRjaCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoYmF0Y2hlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRCYXRjaCA9IGJhdGNoZXMuc2hpZnQoKTtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAnc3RhcnRfbmV4dF9iYXRjaCc6IGN1cnJlbnRCYXRjaC5zZXEgfSk7XG4gICAgZ2V0RGlmZnMoKVxuICAgICAgLnRoZW4oZ2V0QmF0Y2hEb2NzKVxuICAgICAgLnRoZW4od3JpdGVEb2NzKVxuICAgICAgLnRoZW4oZmluaXNoQmF0Y2gpXG4gICAgICAudGhlbihzdGFydE5leHRCYXRjaClcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGFib3J0UmVwbGljYXRpb24oJ2JhdGNoIHByb2Nlc3NpbmcgdGVybWluYXRlZCB3aXRoIGVycm9yJywgZXJyKTtcbiAgICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBwcm9jZXNzUGVuZGluZ0JhdGNoKGltbWVkaWF0ZSQkMSkge1xuICAgIGlmIChwZW5kaW5nQmF0Y2guY2hhbmdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiAhY3VycmVudEJhdGNoKSB7XG4gICAgICAgIGlmICgoY29udGludW91cyAmJiBjaGFuZ2VzT3B0cy5saXZlKSB8fCBjaGFuZ2VzQ29tcGxldGVkKSB7XG4gICAgICAgICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAncGVuZGluZyc7XG4gICAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgncGF1c2VkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKFxuICAgICAgaW1tZWRpYXRlJCQxIHx8XG4gICAgICBjaGFuZ2VzQ29tcGxldGVkIHx8XG4gICAgICBwZW5kaW5nQmF0Y2guY2hhbmdlcy5sZW5ndGggPj0gYmF0Y2hfc2l6ZVxuICAgICkge1xuICAgICAgYmF0Y2hlcy5wdXNoKHBlbmRpbmdCYXRjaCk7XG4gICAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICAgIHNlcTogMCxcbiAgICAgICAgY2hhbmdlczogW10sXG4gICAgICAgIGRvY3M6IFtdXG4gICAgICB9O1xuICAgICAgaWYgKHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycgfHwgcmV0dXJuVmFsdWUuc3RhdGUgPT09ICdzdG9wcGVkJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdhY3RpdmUnO1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdhY3RpdmUnKTtcbiAgICAgIH1cbiAgICAgIHN0YXJ0TmV4dEJhdGNoKCk7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBhYm9ydFJlcGxpY2F0aW9uKHJlYXNvbiwgZXJyKSB7XG4gICAgaWYgKHJlcGxpY2F0aW9uQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghZXJyLm1lc3NhZ2UpIHtcbiAgICAgIGVyci5tZXNzYWdlID0gcmVhc29uO1xuICAgIH1cbiAgICByZXN1bHQub2sgPSBmYWxzZTtcbiAgICByZXN1bHQuc3RhdHVzID0gJ2Fib3J0aW5nJztcbiAgICBiYXRjaGVzID0gW107XG4gICAgcGVuZGluZ0JhdGNoID0ge1xuICAgICAgc2VxOiAwLFxuICAgICAgY2hhbmdlczogW10sXG4gICAgICBkb2NzOiBbXVxuICAgIH07XG4gICAgY29tcGxldGVSZXBsaWNhdGlvbihlcnIpO1xuICB9XG5cblxuICBmdW5jdGlvbiBjb21wbGV0ZVJlcGxpY2F0aW9uKGZhdGFsRXJyb3IpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmVzdWx0LnN0YXR1cyA9ICdjYW5jZWxsZWQnO1xuICAgICAgaWYgKHdyaXRpbmdDaGVja3BvaW50KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnN0YXR1cyA9IHJlc3VsdC5zdGF0dXMgfHwgJ2NvbXBsZXRlJztcbiAgICByZXN1bHQuZW5kX3RpbWUgPSBuZXcgRGF0ZSgpLnRvSVNPU3RyaW5nKCk7XG4gICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXE7XG4gICAgcmVwbGljYXRpb25Db21wbGV0ZWQgPSB0cnVlO1xuXG4gICAgaWYgKGZhdGFsRXJyb3IpIHtcbiAgICAgIC8vIG5lZWQgdG8gZXh0ZW5kIHRoZSBlcnJvciBiZWNhdXNlIEZpcmVmb3ggY29uc2lkZXJzIFwiLnJlc3VsdFwiIHJlYWQtb25seVxuICAgICAgZmF0YWxFcnJvciA9IGNyZWF0ZUVycm9yKGZhdGFsRXJyb3IpO1xuICAgICAgZmF0YWxFcnJvci5yZXN1bHQgPSByZXN1bHQ7XG5cbiAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICB2YXIgZXJyb3JOYW1lID0gKGZhdGFsRXJyb3IubmFtZSB8fCAnJykudG9Mb3dlckNhc2UoKTtcbiAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBmYXRhbEVycm9yKTtcbiAgICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBmYXRhbEVycm9yLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmVwbGljYXRlKHNyYywgdGFyZ2V0LCBvcHRzLCByZXR1cm5WYWx1ZSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjb21wbGV0ZScsIHJlc3VsdCk7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHR5cGVvZiBwZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgcGVuZGluZ0JhdGNoLnBlbmRpbmcgPSBwZW5kaW5nO1xuICAgIH1cblxuICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoY2hhbmdlKTtcbiAgICBpZiAoIWZpbHRlcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwZW5kaW5nQmF0Y2guc2VxID0gY2hhbmdlLnNlcSB8fCBsYXN0U2VxO1xuICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLnB1c2goY2hhbmdlKTtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncGVuZGluZ19iYXRjaCc6IHBlbmRpbmdCYXRjaC5zZXEgfSk7XG4gICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2goYmF0Y2hlcy5sZW5ndGggPT09IDAgJiYgY2hhbmdlc09wdHMubGl2ZSk7XG4gICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0NvbXBsZXRlKGNoYW5nZXMpIHtcbiAgICBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuXG4gICAgLy8gaWYgbm8gcmVzdWx0cyB3ZXJlIHJldHVybmVkIHRoZW4gd2UncmUgZG9uZSxcbiAgICAvLyBlbHNlIGZldGNoIG1vcmVcbiAgICBpZiAoY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGNoYW5nZXNPcHRzLnNpbmNlID0gY2hhbmdlcy5yZXN1bHRzW2NoYW5nZXMucmVzdWx0cy5sZW5ndGggLSAxXS5zZXE7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgIH0gZWxzZSB7XG5cbiAgICAgIHZhciBjb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKGNvbnRpbnVvdXMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5saXZlID0gdHJ1ZTtcbiAgICAgICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2hhbmdlc0NvbXBsZXRlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIH07XG5cbiAgICAgIC8vIHVwZGF0ZSB0aGUgY2hlY2twb2ludCBzbyB3ZSBzdGFydCBmcm9tIHRoZSByaWdodCBzZXEgbmV4dCB0aW1lXG4gICAgICBpZiAoIWN1cnJlbnRCYXRjaCAmJiBjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICAgICAgY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChjaGFuZ2VzLmxhc3Rfc2VxLFxuICAgICAgICAgICAgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcSA9IGNoYW5nZXMubGFzdF9zZXE7XG4gICAgICAgICAgY29tcGxldGUoKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmNhdGNoKG9uQ2hlY2twb2ludEVycm9yKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZXNFcnJvcihlcnIpIHtcbiAgICBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybiBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgfVxuICAgIGFib3J0UmVwbGljYXRpb24oJ2NoYW5nZXMgcmVqZWN0ZWQnLCBlcnIpO1xuICB9XG5cblxuICBmdW5jdGlvbiBnZXRDaGFuZ2VzKCkge1xuICAgIGlmICghKFxuICAgICAgIWNoYW5nZXNQZW5kaW5nICYmXG4gICAgICAhY2hhbmdlc0NvbXBsZXRlZCAmJlxuICAgICAgYmF0Y2hlcy5sZW5ndGggPCBiYXRjaGVzX2xpbWl0XG4gICAgICApKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoYW5nZXNQZW5kaW5nID0gdHJ1ZTtcbiAgICBmdW5jdGlvbiBhYm9ydENoYW5nZXMoKSB7XG4gICAgICBjaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcigpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuICAgIH1cblxuICAgIGlmIChyZXR1cm5WYWx1ZS5fY2hhbmdlcykgeyAvLyByZW1vdmUgb2xkIGNoYW5nZXMoKSBhbmQgbGlzdGVuZXJzXG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignY2FuY2VsJywgcmV0dXJuVmFsdWUuX2Fib3J0Q2hhbmdlcyk7XG4gICAgICByZXR1cm5WYWx1ZS5fY2hhbmdlcy5jYW5jZWwoKTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUub25jZSgnY2FuY2VsJywgYWJvcnRDaGFuZ2VzKTtcblxuICAgIHZhciBjaGFuZ2VzID0gc3JjLmNoYW5nZXMoY2hhbmdlc09wdHMpXG4gICAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKTtcbiAgICBjaGFuZ2VzLnRoZW4ocmVtb3ZlTGlzdGVuZXIsIHJlbW92ZUxpc3RlbmVyKTtcbiAgICBjaGFuZ2VzLnRoZW4ob25DaGFuZ2VzQ29tcGxldGUpXG4gICAgICAuY2F0Y2gob25DaGFuZ2VzRXJyb3IpO1xuXG4gICAgaWYgKG9wdHMucmV0cnkpIHtcbiAgICAgIC8vIHNhdmUgZm9yIGxhdGVyIHNvIHdlIGNhbiBjYW5jZWwgaWYgbmVjZXNzYXJ5XG4gICAgICByZXR1cm5WYWx1ZS5fY2hhbmdlcyA9IGNoYW5nZXM7XG4gICAgICByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzID0gYWJvcnRDaGFuZ2VzO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gc3RhcnRDaGFuZ2VzKCkge1xuICAgIGluaXRDaGVja3BvaW50ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjaGVja3BvaW50ZXIuZ2V0Q2hlY2twb2ludCgpLnRoZW4oZnVuY3Rpb24gKGNoZWNrcG9pbnQpIHtcbiAgICAgICAgbGFzdF9zZXEgPSBjaGVja3BvaW50O1xuICAgICAgICBjaGFuZ2VzT3B0cyA9IHtcbiAgICAgICAgICBzaW5jZTogbGFzdF9zZXEsXG4gICAgICAgICAgbGltaXQ6IGJhdGNoX3NpemUsXG4gICAgICAgICAgYmF0Y2hfc2l6ZTogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBzdHlsZTogc3R5bGUsXG4gICAgICAgICAgZG9jX2lkczogZG9jX2lkcyxcbiAgICAgICAgICBzZWxlY3Rvcjogc2VsZWN0b3IsXG4gICAgICAgICAgcmV0dXJuX2RvY3M6IHRydWUgLy8gcmVxdWlyZWQgc28gd2Uga25vdyB3aGVuIHdlJ3JlIGRvbmVcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG9wdHMuZmlsdGVyKSB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBvcHRzLmZpbHRlciAhPT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIC8vIHJlcXVpcmVkIGZvciB0aGUgY2xpZW50LXNpZGUgZmlsdGVyIGluIG9uQ2hhbmdlXG4gICAgICAgICAgICBjaGFuZ2VzT3B0cy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgICAgICAgIH0gZWxzZSB7IC8vIGRkb2MgZmlsdGVyXG4gICAgICAgICAgICBjaGFuZ2VzT3B0cy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5oZWFydGJlYXQgPSBvcHRzLmhlYXJ0YmVhdDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy50aW1lb3V0ID0gb3B0cy50aW1lb3V0O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnF1ZXJ5X3BhcmFtcyA9IG9wdHMucXVlcnlfcGFyYW1zO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvcHRzLnZpZXcpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy52aWV3ID0gb3B0cy52aWV3O1xuICAgICAgICB9XG4gICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIH0pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGFib3J0UmVwbGljYXRpb24oJ2dldENoZWNrcG9pbnQgcmVqZWN0ZWQgd2l0aCAnLCBlcnIpO1xuICAgIH0pO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gb25DaGVja3BvaW50RXJyb3IoZXJyKSB7XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICBhYm9ydFJlcGxpY2F0aW9uKCd3cml0ZUNoZWNrcG9pbnQgY29tcGxldGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHsgLy8gY2FuY2VsbGVkIGltbWVkaWF0ZWx5XG4gICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIGlmICghcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzKSB7XG4gICAgcmV0dXJuVmFsdWUub25jZSgnY2FuY2VsJywgY29tcGxldGVSZXBsaWNhdGlvbik7XG5cbiAgICBpZiAodHlwZW9mIG9wdHMuY29tcGxldGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2Vycm9yJywgb3B0cy5jb21wbGV0ZSk7XG4gICAgICByZXR1cm5WYWx1ZS5vbmNlKCdjb21wbGV0ZScsIGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShudWxsLCByZXN1bHQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVyblZhbHVlLl9hZGRlZExpc3RlbmVycyA9IHRydWU7XG4gIH1cblxuICBpZiAodHlwZW9mIG9wdHMuc2luY2UgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgc3RhcnRDaGFuZ2VzKCk7XG4gIH0gZWxzZSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQob3B0cy5zaW5jZSwgc2Vzc2lvbik7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbGFzdF9zZXEgPSBvcHRzLnNpbmNlO1xuICAgICAgc3RhcnRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICB9XG59XG5cbi8vIFdlIGNyZWF0ZSBhIGJhc2ljIHByb21pc2Ugc28gdGhlIGNhbGxlciBjYW4gY2FuY2VsIHRoZSByZXBsaWNhdGlvbiBwb3NzaWJseVxuLy8gYmVmb3JlIHdlIGhhdmUgYWN0dWFsbHkgc3RhcnRlZCBsaXN0ZW5pbmcgdG8gY2hhbmdlcyBldGNcbmluaGVyaXRzKFJlcGxpY2F0aW9uLCBFRSk7XG5mdW5jdGlvbiBSZXBsaWNhdGlvbigpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdGhpcy5jYW5jZWxsZWQgPSBmYWxzZTtcbiAgdGhpcy5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgcHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICBzZWxmLm9uY2UoJ2NvbXBsZXRlJywgZnVsZmlsbCk7XG4gICAgc2VsZi5vbmNlKCdlcnJvcicsIHJlamVjdCk7XG4gIH0pO1xuICBzZWxmLnRoZW4gPSBmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICB9O1xuICBzZWxmLmNhdGNoID0gZnVuY3Rpb24gKHJlamVjdCkge1xuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKHJlamVjdCk7XG4gIH07XG4gIC8vIEFzIHdlIGFsbG93IGVycm9yIGhhbmRsaW5nIHZpYSBcImVycm9yXCIgZXZlbnQgYXMgd2VsbCxcbiAgLy8gcHV0IGEgc3R1YiBpbiBoZXJlIHNvIHRoYXQgcmVqZWN0aW5nIG5ldmVyIHRocm93cyBVbmhhbmRsZWRFcnJvci5cbiAgc2VsZi5jYXRjaChmdW5jdGlvbiAoKSB7fSk7XG59XG5cblJlcGxpY2F0aW9uLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuY2FuY2VsbGVkID0gdHJ1ZTtcbiAgdGhpcy5zdGF0ZSA9ICdjYW5jZWxsZWQnO1xuICB0aGlzLmVtaXQoJ2NhbmNlbCcpO1xufTtcblxuUmVwbGljYXRpb24ucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKHNyYywgdGFyZ2V0KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKHNlbGYuX3JlYWR5Q2FsbGVkKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNlbGYuX3JlYWR5Q2FsbGVkID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgfVxuICBzcmMub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgdGFyZ2V0Lm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIGZ1bmN0aW9uIGNsZWFudXAoKSB7XG4gICAgc3JjLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIHRhcmdldC5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgfVxuICBzZWxmLm9uY2UoJ2NvbXBsZXRlJywgY2xlYW51cCk7XG4gIHNlbGYub25jZSgnZXJyb3InLCBjbGVhbnVwKTtcbn07XG5cbmZ1bmN0aW9uIHRvUG91Y2goZGIsIG9wdHMpIHtcbiAgdmFyIFBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3I7XG4gIGlmICh0eXBlb2YgZGIgPT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIG5ldyBQb3VjaENvbnN0cnVjdG9yKGRiLCBvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZGI7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmVwbGljYXRlV3JhcHBlcihzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcblxuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBpZiAob3B0cy5kb2NfaWRzICYmICFBcnJheS5pc0FycmF5KG9wdHMuZG9jX2lkcykpIHtcbiAgICB0aHJvdyBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgICAgICAgICAgICAgICAgXCJgZG9jX2lkc2AgZmlsdGVyIHBhcmFtZXRlciBpcyBub3QgYSBsaXN0LlwiKTtcbiAgfVxuXG4gIG9wdHMuY29tcGxldGUgPSBjYWxsYmFjaztcbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICBvcHRzLmNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlO1xuICBvcHRzLnJldHJ5ID0gKCdyZXRyeScgaW4gb3B0cykgPyBvcHRzLnJldHJ5IDogZmFsc2U7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIG9wdHMuUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvciB8fCB0aGlzO1xuICB2YXIgcmVwbGljYXRlUmV0ID0gbmV3IFJlcGxpY2F0aW9uKG9wdHMpO1xuICB2YXIgc3JjUG91Y2ggPSB0b1BvdWNoKHNyYywgb3B0cyk7XG4gIHZhciB0YXJnZXRQb3VjaCA9IHRvUG91Y2godGFyZ2V0LCBvcHRzKTtcbiAgcmVwbGljYXRlKHNyY1BvdWNoLCB0YXJnZXRQb3VjaCwgb3B0cywgcmVwbGljYXRlUmV0KTtcbiAgcmV0dXJuIHJlcGxpY2F0ZVJldDtcbn1cblxuaW5oZXJpdHMoU3luYywgRUUpO1xuZnVuY3Rpb24gc3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHNyYyA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdGFyZ2V0ID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXR1cm4gbmV3IFN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKTtcbn1cblxuZnVuY3Rpb24gU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmNhbmNlbGVkID0gZmFsc2U7XG5cbiAgdmFyIG9wdHNQdXNoID0gb3B0cy5wdXNoID8gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBvcHRzLCBvcHRzLnB1c2gpIDogb3B0cztcbiAgdmFyIG9wdHNQdWxsID0gb3B0cy5wdWxsID8gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCBvcHRzLCBvcHRzLnB1bGwpIDogb3B0cztcblxuICB0aGlzLnB1c2ggPSByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzUHVzaCk7XG4gIHRoaXMucHVsbCA9IHJlcGxpY2F0ZVdyYXBwZXIodGFyZ2V0LCBzcmMsIG9wdHNQdWxsKTtcblxuICB0aGlzLnB1c2hQYXVzZWQgPSB0cnVlO1xuICB0aGlzLnB1bGxQYXVzZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIHB1bGxDaGFuZ2UoY2hhbmdlKSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdWxsJyxcbiAgICAgIGNoYW5nZTogY2hhbmdlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1c2gnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoRGVuaWVkKGRvYykge1xuICAgIHNlbGYuZW1pdCgnZGVuaWVkJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBkb2M6IGRvY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1bGxEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdWxsJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1c2hQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1bGxQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1bGxQYXVzZWQoKSB7XG4gICAgc2VsZi5wdWxsUGF1c2VkID0gdHJ1ZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdXNoQWN0aXZlKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1bGxQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgnYWN0aXZlJywge1xuICAgICAgICBkaXJlY3Rpb246ICdwdXNoJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1bGxBY3RpdmUoKSB7XG4gICAgc2VsZi5wdWxsUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVzaFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1bGwnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICB2YXIgcmVtb3ZlZCA9IHt9O1xuXG4gIGZ1bmN0aW9uIHJlbW92ZUFsbCh0eXBlKSB7IC8vIHR5cGUgaXMgJ3B1c2gnIG9yICdwdWxsJ1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXZlbnQsIGZ1bmMpIHtcbiAgICAgIHZhciBpc0NoYW5nZSA9IGV2ZW50ID09PSAnY2hhbmdlJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbENoYW5nZSB8fCBmdW5jID09PSBwdXNoQ2hhbmdlKTtcbiAgICAgIHZhciBpc0RlbmllZCA9IGV2ZW50ID09PSAnZGVuaWVkJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbERlbmllZCB8fCBmdW5jID09PSBwdXNoRGVuaWVkKTtcbiAgICAgIHZhciBpc1BhdXNlZCA9IGV2ZW50ID09PSAncGF1c2VkJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbFBhdXNlZCB8fCBmdW5jID09PSBwdXNoUGF1c2VkKTtcbiAgICAgIHZhciBpc0FjdGl2ZSA9IGV2ZW50ID09PSAnYWN0aXZlJyAmJlxuICAgICAgICAoZnVuYyA9PT0gcHVsbEFjdGl2ZSB8fCBmdW5jID09PSBwdXNoQWN0aXZlKTtcblxuICAgICAgaWYgKGlzQ2hhbmdlIHx8IGlzRGVuaWVkIHx8IGlzUGF1c2VkIHx8IGlzQWN0aXZlKSB7XG4gICAgICAgIGlmICghKGV2ZW50IGluIHJlbW92ZWQpKSB7XG4gICAgICAgICAgcmVtb3ZlZFtldmVudF0gPSB7fTtcbiAgICAgICAgfVxuICAgICAgICByZW1vdmVkW2V2ZW50XVt0eXBlXSA9IHRydWU7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyhyZW1vdmVkW2V2ZW50XSkubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgLy8gYm90aCBwdXNoIGFuZCBwdWxsIGhhdmUgYXNrZWQgdG8gYmUgcmVtb3ZlZFxuICAgICAgICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH07XG4gIH1cblxuICBpZiAob3B0cy5saXZlKSB7XG4gICAgdGhpcy5wdXNoLm9uKCdjb21wbGV0ZScsIHNlbGYucHVsbC5jYW5jZWwuYmluZChzZWxmLnB1bGwpKTtcbiAgICB0aGlzLnB1bGwub24oJ2NvbXBsZXRlJywgc2VsZi5wdXNoLmNhbmNlbC5iaW5kKHNlbGYucHVzaCkpO1xuICB9XG5cbiAgZnVuY3Rpb24gYWRkT25lTGlzdGVuZXIoZWUsIGV2ZW50LCBsaXN0ZW5lcikge1xuICAgIGlmIChlZS5saXN0ZW5lcnMoZXZlbnQpLmluZGV4T2YobGlzdGVuZXIpID09IC0xKSB7XG4gICAgICBlZS5vbihldmVudCwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfVxuXG4gIHRoaXMub24oJ25ld0xpc3RlbmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ID09PSAnY2hhbmdlJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnY2hhbmdlJywgcHVsbENoYW5nZSk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnZGVuaWVkJywgcHVsbERlbmllZCk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdkZW5pZWQnLCBwdXNoRGVuaWVkKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnYWN0aXZlJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAnYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdhY3RpdmUnLCBwdXNoQWN0aXZlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAncGF1c2VkJykge1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdWxsLCAncGF1c2VkJywgcHVsbFBhdXNlZCk7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1c2gsICdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMub24oJ3JlbW92ZUxpc3RlbmVyJywgZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgaWYgKGV2ZW50ID09PSAnY2hhbmdlJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgcHVzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2RlbmllZCcpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVsbERlbmllZCk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1bGxBY3RpdmUpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBwdXNoQWN0aXZlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAncGF1c2VkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcigncGF1c2VkJywgcHVzaFBhdXNlZCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnB1bGwub24oJ3JlbW92ZUxpc3RlbmVyJywgcmVtb3ZlQWxsKCdwdWxsJykpO1xuICB0aGlzLnB1c2gub24oJ3JlbW92ZUxpc3RlbmVyJywgcmVtb3ZlQWxsKCdwdXNoJykpO1xuXG4gIHZhciBwcm9taXNlID0gUHJvbWlzZS5hbGwoW1xuICAgIHRoaXMucHVzaCxcbiAgICB0aGlzLnB1bGxcbiAgXSkudGhlbihmdW5jdGlvbiAocmVzcCkge1xuICAgIHZhciBvdXQgPSB7XG4gICAgICBwdXNoOiByZXNwWzBdLFxuICAgICAgcHVsbDogcmVzcFsxXVxuICAgIH07XG4gICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIG91dCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBvdXQpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIHJldHVybiBvdXQ7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gaWYgdGhlcmUncyBhIGNhbGxiYWNrLCB0aGVuIHRoZSBjYWxsYmFjayBjYW4gcmVjZWl2ZVxuICAgICAgLy8gdGhlIGVycm9yIGV2ZW50XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIG5vIGNhbGxiYWNrLCB0aGVuIHdlJ3JlIHNhZmUgdG8gZW1pdCBhbiBlcnJvclxuICAgICAgLy8gZXZlbnQsIHdoaWNoIHdvdWxkIG90aGVyd2lzZSB0aHJvdyBhbiB1bmhhbmRsZWQgZXJyb3JcbiAgICAgIC8vIGR1ZSB0byAnZXJyb3InIGJlaW5nIGEgc3BlY2lhbCBldmVudCBpbiBFdmVudEVtaXR0ZXJzXG4gICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIG5vIHNlbnNlIHRocm93aW5nIGlmIHdlJ3JlIGFscmVhZHkgZW1pdHRpbmcgYW4gJ2Vycm9yJyBldmVudFxuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy50aGVuID0gZnVuY3Rpb24gKHN1Y2Nlc3MsIGVycikge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4oc3VjY2VzcywgZXJyKTtcbiAgfTtcblxuICB0aGlzLmNhdGNoID0gZnVuY3Rpb24gKGVycikge1xuICAgIHJldHVybiBwcm9taXNlLmNhdGNoKGVycik7XG4gIH07XG59XG5cblN5bmMucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKCF0aGlzLmNhbmNlbGVkKSB7XG4gICAgdGhpcy5jYW5jZWxlZCA9IHRydWU7XG4gICAgdGhpcy5wdXNoLmNhbmNlbCgpO1xuICAgIHRoaXMucHVsbC5jYW5jZWwoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcmVwbGljYXRpb24oUG91Y2hEQikge1xuICBQb3VjaERCLnJlcGxpY2F0ZSA9IHJlcGxpY2F0ZVdyYXBwZXI7XG4gIFBvdWNoREIuc3luYyA9IHN5bmM7XG5cbiAgT2JqZWN0LmRlZmluZVByb3BlcnR5KFBvdWNoREIucHJvdG90eXBlLCAncmVwbGljYXRlJywge1xuICAgIGdldDogZnVuY3Rpb24gKCkge1xuICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgaWYgKHR5cGVvZiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9IHtcbiAgICAgICAgICBmcm9tOiBmdW5jdGlvbiAob3RoZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUob3RoZXIsIHNlbGYsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9LFxuICAgICAgICAgIHRvOiBmdW5jdGlvbiAob3RoZXIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jb25zdHJ1Y3Rvci5yZXBsaWNhdGUoc2VsZiwgb3RoZXIsIG9wdHMsIGNhbGxiYWNrKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5yZXBsaWNhdGVNZXRob2RzO1xuICAgIH1cbiAgfSk7XG5cbiAgUG91Y2hEQi5wcm90b3R5cGUuc3luYyA9IGZ1bmN0aW9uIChkYk5hbWUsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3Iuc3luYyh0aGlzLCBkYk5hbWUsIG9wdHMsIGNhbGxiYWNrKTtcbiAgfTtcbn1cblxuUG91Y2hEQi5wbHVnaW4oSURCUG91Y2gpXG4gIC5wbHVnaW4oSHR0cFBvdWNoJDEpXG4gIC5wbHVnaW4obWFwcmVkdWNlKVxuICAucGx1Z2luKHJlcGxpY2F0aW9uKTtcblxuLy8gUHVsbCBmcm9tIHNyYyBiZWNhdXNlIHBvdWNoZGItbm9kZS9wb3VjaGRiLWJyb3dzZXIgdGhlbXNlbHZlc1xuXG5leHBvcnQgZGVmYXVsdCBQb3VjaERCO1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJzsgLy8gKipgdjEoKWAgLSBHZW5lcmF0ZSB0aW1lLWJhc2VkIFVVSUQqKlxuLy9cbi8vIEluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS9MaW9zSy9VVUlELmpzXG4vLyBhbmQgaHR0cDovL2RvY3MucHl0aG9uLm9yZy9saWJyYXJ5L3V1aWQuaHRtbFxuXG52YXIgX25vZGVJZDtcblxudmFyIF9jbG9ja3NlcTsgLy8gUHJldmlvdXMgdXVpZCBjcmVhdGlvbiB0aW1lXG5cblxudmFyIF9sYXN0TVNlY3MgPSAwO1xudmFyIF9sYXN0TlNlY3MgPSAwOyAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkIGZvciBBUEkgZGV0YWlsc1xuXG5mdW5jdGlvbiB2MShvcHRpb25zLCBidWYsIG9mZnNldCkge1xuICB2YXIgaSA9IGJ1ZiAmJiBvZmZzZXQgfHwgMDtcbiAgdmFyIGIgPSBidWYgfHwgbmV3IEFycmF5KDE2KTtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBub2RlID0gb3B0aW9ucy5ub2RlIHx8IF9ub2RlSWQ7XG4gIHZhciBjbG9ja3NlcSA9IG9wdGlvbnMuY2xvY2tzZXEgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMuY2xvY2tzZXEgOiBfY2xvY2tzZXE7IC8vIG5vZGUgYW5kIGNsb2Nrc2VxIG5lZWQgdG8gYmUgaW5pdGlhbGl6ZWQgdG8gcmFuZG9tIHZhbHVlcyBpZiB0aGV5J3JlIG5vdFxuICAvLyBzcGVjaWZpZWQuICBXZSBkbyB0aGlzIGxhemlseSB0byBtaW5pbWl6ZSBpc3N1ZXMgcmVsYXRlZCB0byBpbnN1ZmZpY2llbnRcbiAgLy8gc3lzdGVtIGVudHJvcHkuICBTZWUgIzE4OVxuXG4gIGlmIChub2RlID09IG51bGwgfHwgY2xvY2tzZXEgPT0gbnVsbCkge1xuICAgIHZhciBzZWVkQnl0ZXMgPSBvcHRpb25zLnJhbmRvbSB8fCAob3B0aW9ucy5ybmcgfHwgcm5nKSgpO1xuXG4gICAgaWYgKG5vZGUgPT0gbnVsbCkge1xuICAgICAgLy8gUGVyIDQuNSwgY3JlYXRlIGFuZCA0OC1iaXQgbm9kZSBpZCwgKDQ3IHJhbmRvbSBiaXRzICsgbXVsdGljYXN0IGJpdCA9IDEpXG4gICAgICBub2RlID0gX25vZGVJZCA9IFtzZWVkQnl0ZXNbMF0gfCAweDAxLCBzZWVkQnl0ZXNbMV0sIHNlZWRCeXRlc1syXSwgc2VlZEJ5dGVzWzNdLCBzZWVkQnl0ZXNbNF0sIHNlZWRCeXRlc1s1XV07XG4gICAgfVxuXG4gICAgaWYgKGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjIuMiwgcmFuZG9taXplICgxNCBiaXQpIGNsb2Nrc2VxXG4gICAgICBjbG9ja3NlcSA9IF9jbG9ja3NlcSA9IChzZWVkQnl0ZXNbNl0gPDwgOCB8IHNlZWRCeXRlc1s3XSkgJiAweDNmZmY7XG4gICAgfVxuICB9IC8vIFVVSUQgdGltZXN0YW1wcyBhcmUgMTAwIG5hbm8tc2Vjb25kIHVuaXRzIHNpbmNlIHRoZSBHcmVnb3JpYW4gZXBvY2gsXG4gIC8vICgxNTgyLTEwLTE1IDAwOjAwKS4gIEpTTnVtYmVycyBhcmVuJ3QgcHJlY2lzZSBlbm91Z2ggZm9yIHRoaXMsIHNvXG4gIC8vIHRpbWUgaXMgaGFuZGxlZCBpbnRlcm5hbGx5IGFzICdtc2VjcycgKGludGVnZXIgbWlsbGlzZWNvbmRzKSBhbmQgJ25zZWNzJ1xuICAvLyAoMTAwLW5hbm9zZWNvbmRzIG9mZnNldCBmcm9tIG1zZWNzKSBzaW5jZSB1bml4IGVwb2NoLCAxOTcwLTAxLTAxIDAwOjAwLlxuXG5cbiAgdmFyIG1zZWNzID0gb3B0aW9ucy5tc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5tc2VjcyA6IERhdGUubm93KCk7IC8vIFBlciA0LjIuMS4yLCB1c2UgY291bnQgb2YgdXVpZCdzIGdlbmVyYXRlZCBkdXJpbmcgdGhlIGN1cnJlbnQgY2xvY2tcbiAgLy8gY3ljbGUgdG8gc2ltdWxhdGUgaGlnaGVyIHJlc29sdXRpb24gY2xvY2tcblxuICB2YXIgbnNlY3MgPSBvcHRpb25zLm5zZWNzICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLm5zZWNzIDogX2xhc3ROU2VjcyArIDE7IC8vIFRpbWUgc2luY2UgbGFzdCB1dWlkIGNyZWF0aW9uIChpbiBtc2VjcylcblxuICB2YXIgZHQgPSBtc2VjcyAtIF9sYXN0TVNlY3MgKyAobnNlY3MgLSBfbGFzdE5TZWNzKSAvIDEwMDAwOyAvLyBQZXIgNC4yLjEuMiwgQnVtcCBjbG9ja3NlcSBvbiBjbG9jayByZWdyZXNzaW9uXG5cbiAgaWYgKGR0IDwgMCAmJiBvcHRpb25zLmNsb2Nrc2VxID09PSB1bmRlZmluZWQpIHtcbiAgICBjbG9ja3NlcSA9IGNsb2Nrc2VxICsgMSAmIDB4M2ZmZjtcbiAgfSAvLyBSZXNldCBuc2VjcyBpZiBjbG9jayByZWdyZXNzZXMgKG5ldyBjbG9ja3NlcSkgb3Igd2UndmUgbW92ZWQgb250byBhIG5ld1xuICAvLyB0aW1lIGludGVydmFsXG5cblxuICBpZiAoKGR0IDwgMCB8fCBtc2VjcyA+IF9sYXN0TVNlY3MpICYmIG9wdGlvbnMubnNlY3MgPT09IHVuZGVmaW5lZCkge1xuICAgIG5zZWNzID0gMDtcbiAgfSAvLyBQZXIgNC4yLjEuMiBUaHJvdyBlcnJvciBpZiB0b28gbWFueSB1dWlkcyBhcmUgcmVxdWVzdGVkXG5cblxuICBpZiAobnNlY3MgPj0gMTAwMDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJ1dWlkLnYxKCk6IENhbid0IGNyZWF0ZSBtb3JlIHRoYW4gMTBNIHV1aWRzL3NlY1wiKTtcbiAgfVxuXG4gIF9sYXN0TVNlY3MgPSBtc2VjcztcbiAgX2xhc3ROU2VjcyA9IG5zZWNzO1xuICBfY2xvY2tzZXEgPSBjbG9ja3NlcTsgLy8gUGVyIDQuMS40IC0gQ29udmVydCBmcm9tIHVuaXggZXBvY2ggdG8gR3JlZ29yaWFuIGVwb2NoXG5cbiAgbXNlY3MgKz0gMTIyMTkyOTI4MDAwMDA7IC8vIGB0aW1lX2xvd2BcblxuICB2YXIgdGwgPSAoKG1zZWNzICYgMHhmZmZmZmZmKSAqIDEwMDAwICsgbnNlY3MpICUgMHgxMDAwMDAwMDA7XG4gIGJbaSsrXSA9IHRsID4+PiAyNCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiAxNiAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdGwgJiAweGZmOyAvLyBgdGltZV9taWRgXG5cbiAgdmFyIHRtaCA9IG1zZWNzIC8gMHgxMDAwMDAwMDAgKiAxMDAwMCAmIDB4ZmZmZmZmZjtcbiAgYltpKytdID0gdG1oID4+PiA4ICYgMHhmZjtcbiAgYltpKytdID0gdG1oICYgMHhmZjsgLy8gYHRpbWVfaGlnaF9hbmRfdmVyc2lvbmBcblxuICBiW2krK10gPSB0bWggPj4+IDI0ICYgMHhmIHwgMHgxMDsgLy8gaW5jbHVkZSB2ZXJzaW9uXG5cbiAgYltpKytdID0gdG1oID4+PiAxNiAmIDB4ZmY7IC8vIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYCAoUGVyIDQuMi4yIC0gaW5jbHVkZSB2YXJpYW50KVxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxID4+PiA4IHwgMHg4MDsgLy8gYGNsb2NrX3NlcV9sb3dgXG5cbiAgYltpKytdID0gY2xvY2tzZXEgJiAweGZmOyAvLyBgbm9kZWBcblxuICBmb3IgKHZhciBuID0gMDsgbiA8IDY7ICsrbikge1xuICAgIGJbaSArIG5dID0gbm9kZVtuXTtcbiAgfVxuXG4gIHJldHVybiBidWYgfHwgc3RyaW5naWZ5KGIpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2MTsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHBhcnNlKHV1aWQpIHtcbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignSW52YWxpZCBVVUlEJyk7XG4gIH1cblxuICB2YXIgdjtcbiAgdmFyIGFyciA9IG5ldyBVaW50OEFycmF5KDE2KTsgLy8gUGFyc2UgIyMjIyMjIyMtLi4uLi0uLi4uLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDAsIDgpLCAxNikpID4+PiAyNDtcbiAgYXJyWzFdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMl0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzNdID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLSMjIyMtLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFycls0XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSg5LCAxMyksIDE2KSkgPj4+IDg7XG4gIGFycls1XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLSMjIyMtLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNl0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTQsIDE4KSwgMTYpKSA+Pj4gODtcbiAgYXJyWzddID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0jIyMjLS4uLi4uLi4uLi4uLlxuXG4gIGFycls4XSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgxOSwgMjMpLCAxNikpID4+PiA4O1xuICBhcnJbOV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0uLi4uLS4uLi4tIyMjIyMjIyMjIyMjXG4gIC8vIChVc2UgXCIvXCIgdG8gYXZvaWQgMzItYml0IHRydW5jYXRpb24gd2hlbiBiaXQtc2hpZnRpbmcgaGlnaC1vcmRlciBieXRlcylcblxuICBhcnJbMTBdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDI0LCAzNiksIDE2KSkgLyAweDEwMDAwMDAwMDAwICYgMHhmZjtcbiAgYXJyWzExXSA9IHYgLyAweDEwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMl0gPSB2ID4+PiAyNCAmIDB4ZmY7XG4gIGFyclsxM10gPSB2ID4+PiAxNiAmIDB4ZmY7XG4gIGFyclsxNF0gPSB2ID4+PiA4ICYgMHhmZjtcbiAgYXJyWzE1XSA9IHYgJiAweGZmO1xuICByZXR1cm4gYXJyO1xufVxuXG5leHBvcnQgZGVmYXVsdCBwYXJzZTsiLCJpbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcbmltcG9ydCBwYXJzZSBmcm9tICcuL3BhcnNlLmpzJztcblxuZnVuY3Rpb24gc3RyaW5nVG9CeXRlcyhzdHIpIHtcbiAgc3RyID0gdW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpOyAvLyBVVEY4IGVzY2FwZVxuXG4gIHZhciBieXRlcyA9IFtdO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgKytpKSB7XG4gICAgYnl0ZXMucHVzaChzdHIuY2hhckNvZGVBdChpKSk7XG4gIH1cblxuICByZXR1cm4gYnl0ZXM7XG59XG5cbmV4cG9ydCB2YXIgRE5TID0gJzZiYTdiODEwLTlkYWQtMTFkMS04MGI0LTAwYzA0ZmQ0MzBjOCc7XG5leHBvcnQgdmFyIFVSTCA9ICc2YmE3YjgxMS05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gKG5hbWUsIHZlcnNpb24sIGhhc2hmdW5jKSB7XG4gIGZ1bmN0aW9uIGdlbmVyYXRlVVVJRCh2YWx1ZSwgbmFtZXNwYWNlLCBidWYsIG9mZnNldCkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YWx1ZSA9IHN0cmluZ1RvQnl0ZXModmFsdWUpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgbmFtZXNwYWNlID09PSAnc3RyaW5nJykge1xuICAgICAgbmFtZXNwYWNlID0gcGFyc2UobmFtZXNwYWNlKTtcbiAgICB9XG5cbiAgICBpZiAobmFtZXNwYWNlLmxlbmd0aCAhPT0gMTYpIHtcbiAgICAgIHRocm93IFR5cGVFcnJvcignTmFtZXNwYWNlIG11c3QgYmUgYXJyYXktbGlrZSAoMTYgaXRlcmFibGUgaW50ZWdlciB2YWx1ZXMsIDAtMjU1KScpO1xuICAgIH0gLy8gQ29tcHV0ZSBoYXNoIG9mIG5hbWVzcGFjZSBhbmQgdmFsdWUsIFBlciA0LjNcbiAgICAvLyBGdXR1cmU6IFVzZSBzcHJlYWQgc3ludGF4IHdoZW4gc3VwcG9ydGVkIG9uIGFsbCBwbGF0Zm9ybXMsIGUuZy4gYGJ5dGVzID1cbiAgICAvLyBoYXNoZnVuYyhbLi4ubmFtZXNwYWNlLCAuLi4gdmFsdWVdKWBcblxuXG4gICAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoMTYgKyB2YWx1ZS5sZW5ndGgpO1xuICAgIGJ5dGVzLnNldChuYW1lc3BhY2UpO1xuICAgIGJ5dGVzLnNldCh2YWx1ZSwgbmFtZXNwYWNlLmxlbmd0aCk7XG4gICAgYnl0ZXMgPSBoYXNoZnVuYyhieXRlcyk7XG4gICAgYnl0ZXNbNl0gPSBieXRlc1s2XSAmIDB4MGYgfCB2ZXJzaW9uO1xuICAgIGJ5dGVzWzhdID0gYnl0ZXNbOF0gJiAweDNmIHwgMHg4MDtcblxuICAgIGlmIChidWYpIHtcbiAgICAgIG9mZnNldCA9IG9mZnNldCB8fCAwO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgICAgYnVmW29mZnNldCArIGldID0gYnl0ZXNbaV07XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBidWY7XG4gICAgfVxuXG4gICAgcmV0dXJuIHN0cmluZ2lmeShieXRlcyk7XG4gIH0gLy8gRnVuY3Rpb24jbmFtZSBpcyBub3Qgc2V0dGFibGUgb24gc29tZSBwbGF0Zm9ybXMgKCMyNzApXG5cblxuICB0cnkge1xuICAgIGdlbmVyYXRlVVVJRC5uYW1lID0gbmFtZTsgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWVtcHR5XG4gIH0gY2F0Y2ggKGVycikge30gLy8gRm9yIENvbW1vbkpTIGRlZmF1bHQgZXhwb3J0IHN1cHBvcnRcblxuXG4gIGdlbmVyYXRlVVVJRC5ETlMgPSBETlM7XG4gIGdlbmVyYXRlVVVJRC5VUkwgPSBVUkw7XG4gIHJldHVybiBnZW5lcmF0ZVVVSUQ7XG59IiwiLypcbiAqIEJyb3dzZXItY29tcGF0aWJsZSBKYXZhU2NyaXB0IE1ENVxuICpcbiAqIE1vZGlmaWNhdGlvbiBvZiBKYXZhU2NyaXB0IE1ENVxuICogaHR0cHM6Ly9naXRodWIuY29tL2JsdWVpbXAvSmF2YVNjcmlwdC1NRDVcbiAqXG4gKiBDb3B5cmlnaHQgMjAxMSwgU2ViYXN0aWFuIFRzY2hhblxuICogaHR0cHM6Ly9ibHVlaW1wLm5ldFxuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZTpcbiAqIGh0dHBzOi8vb3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvTUlUXG4gKlxuICogQmFzZWQgb25cbiAqIEEgSmF2YVNjcmlwdCBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgUlNBIERhdGEgU2VjdXJpdHksIEluYy4gTUQ1IE1lc3NhZ2VcbiAqIERpZ2VzdCBBbGdvcml0aG0sIGFzIGRlZmluZWQgaW4gUkZDIDEzMjEuXG4gKiBWZXJzaW9uIDIuMiBDb3B5cmlnaHQgKEMpIFBhdWwgSm9obnN0b24gMTk5OSAtIDIwMDlcbiAqIE90aGVyIGNvbnRyaWJ1dG9yczogR3JlZyBIb2x0LCBBbmRyZXcgS2VwZXJ0LCBZZG5hciwgTG9zdGluZXRcbiAqIERpc3RyaWJ1dGVkIHVuZGVyIHRoZSBCU0QgTGljZW5zZVxuICogU2VlIGh0dHA6Ly9wYWpob21lLm9yZy51ay9jcnlwdC9tZDUgZm9yIG1vcmUgaW5mby5cbiAqL1xuZnVuY3Rpb24gbWQ1KGJ5dGVzKSB7XG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBuZXcgVWludDhBcnJheShtc2cubGVuZ3RoKTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlc1tpXSA9IG1zZy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBtZDVUb0hleEVuY29kZWRBcnJheSh3b3Jkc1RvTWQ1KGJ5dGVzVG9Xb3JkcyhieXRlcyksIGJ5dGVzLmxlbmd0aCAqIDgpKTtcbn1cbi8qXG4gKiBDb252ZXJ0IGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMgdG8gYW4gYXJyYXkgb2YgYnl0ZXNcbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNVRvSGV4RW5jb2RlZEFycmF5KGlucHV0KSB7XG4gIHZhciBvdXRwdXQgPSBbXTtcbiAgdmFyIGxlbmd0aDMyID0gaW5wdXQubGVuZ3RoICogMzI7XG4gIHZhciBoZXhUYWIgPSAnMDEyMzQ1Njc4OWFiY2RlZic7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGgzMjsgaSArPSA4KSB7XG4gICAgdmFyIHggPSBpbnB1dFtpID4+IDVdID4+PiBpICUgMzIgJiAweGZmO1xuICAgIHZhciBoZXggPSBwYXJzZUludChoZXhUYWIuY2hhckF0KHggPj4+IDQgJiAweDBmKSArIGhleFRhYi5jaGFyQXQoeCAmIDB4MGYpLCAxNik7XG4gICAgb3V0cHV0LnB1c2goaGV4KTtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKipcbiAqIENhbGN1bGF0ZSBvdXRwdXQgbGVuZ3RoIHdpdGggcGFkZGluZyBhbmQgYml0IGxlbmd0aFxuICovXG5cblxuZnVuY3Rpb24gZ2V0T3V0cHV0TGVuZ3RoKGlucHV0TGVuZ3RoOCkge1xuICByZXR1cm4gKGlucHV0TGVuZ3RoOCArIDY0ID4+PiA5IDw8IDQpICsgMTQgKyAxO1xufVxuLypcbiAqIENhbGN1bGF0ZSB0aGUgTUQ1IG9mIGFuIGFycmF5IG9mIGxpdHRsZS1lbmRpYW4gd29yZHMsIGFuZCBhIGJpdCBsZW5ndGguXG4gKi9cblxuXG5mdW5jdGlvbiB3b3Jkc1RvTWQ1KHgsIGxlbikge1xuICAvKiBhcHBlbmQgcGFkZGluZyAqL1xuICB4W2xlbiA+PiA1XSB8PSAweDgwIDw8IGxlbiAlIDMyO1xuICB4W2dldE91dHB1dExlbmd0aChsZW4pIC0gMV0gPSBsZW47XG4gIHZhciBhID0gMTczMjU4NDE5MztcbiAgdmFyIGIgPSAtMjcxNzMzODc5O1xuICB2YXIgYyA9IC0xNzMyNTg0MTk0O1xuICB2YXIgZCA9IDI3MTczMzg3ODtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHgubGVuZ3RoOyBpICs9IDE2KSB7XG4gICAgdmFyIG9sZGEgPSBhO1xuICAgIHZhciBvbGRiID0gYjtcbiAgICB2YXIgb2xkYyA9IGM7XG4gICAgdmFyIG9sZGQgPSBkO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2ldLCA3LCAtNjgwODc2OTM2KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgMV0sIDEyLCAtMzg5NTY0NTg2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMl0sIDE3LCA2MDYxMDU4MTkpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAzXSwgMjIsIC0xMDQ0NTI1MzMwKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgNF0sIDcsIC0xNzY0MTg4OTcpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA1XSwgMTIsIDEyMDAwODA0MjYpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTcsIC0xNDczMjMxMzQxKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgN10sIDIyLCAtNDU3MDU5ODMpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNywgMTc3MDAzNTQxNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDldLCAxMiwgLTE5NTg0MTQ0MTcpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxMF0sIDE3LCAtNDIwNjMpO1xuICAgIGIgPSBtZDVmZihiLCBjLCBkLCBhLCB4W2kgKyAxMV0sIDIyLCAtMTk5MDQwNDE2Mik7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDEyXSwgNywgMTgwNDYwMzY4Mik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDEzXSwgMTIsIC00MDM0MTEwMSk7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTcsIC0xNTAyMDAyMjkwKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTVdLCAyMiwgMTIzNjUzNTMyOSk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDFdLCA1LCAtMTY1Nzk2NTEwKTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgNl0sIDksIC0xMDY5NTAxNjMyKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNCwgNjQzNzE3NzEzKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpXSwgMjAsIC0zNzM4OTczMDIpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyA1XSwgNSwgLTcwMTU1ODY5MSk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDEwXSwgOSwgMzgwMTYwODMpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE0LCAtNjYwNDc4MzM1KTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgNF0sIDIwLCAtNDA1NTM3ODQ4KTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgOV0sIDUsIDU2ODQ0NjQzOCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDE0XSwgOSwgLTEwMTk4MDM2OTApO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTQsIC0xODczNjM5NjEpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyA4XSwgMjAsIDExNjM1MzE1MDEpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxM10sIDUsIC0xNDQ0NjgxNDY3KTtcbiAgICBkID0gbWQ1Z2coZCwgYSwgYiwgYywgeFtpICsgMl0sIDksIC01MTQwMzc4NCk7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNCwgMTczNTMyODQ3Myk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDEyXSwgMjAsIC0xOTI2NjA3NzM0KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgNV0sIDQsIC0zNzg1NTgpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA4XSwgMTEsIC0yMDIyNTc0NDYzKTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTFdLCAxNiwgMTgzOTAzMDU2Mik7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDE0XSwgMjMsIC0zNTMwOTU1Nik7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDFdLCA0LCAtMTUzMDk5MjA2MCk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDRdLCAxMSwgMTI3Mjg5MzM1Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDddLCAxNiwgLTE1NTQ5NzYzMik7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDEwXSwgMjMsIC0xMDk0NzMwNjQwKTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgMTNdLCA0LCA2ODEyNzkxNzQpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2ldLCAxMSwgLTM1ODUzNzIyMik7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDNdLCAxNiwgLTcyMjUyMTk3OSk7XG4gICAgYiA9IG1kNWhoKGIsIGMsIGQsIGEsIHhbaSArIDZdLCAyMywgNzYwMjkxODkpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyA5XSwgNCwgLTY0MDM2NDQ4Nyk7XG4gICAgZCA9IG1kNWhoKGQsIGEsIGIsIGMsIHhbaSArIDEyXSwgMTEsIC00MjE4MTU4MzUpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAxNV0sIDE2LCA1MzA3NDI1MjApO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAyXSwgMjMsIC05OTUzMzg2NTEpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2ldLCA2LCAtMTk4NjMwODQ0KTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgN10sIDEwLCAxMTI2ODkxNDE1KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTRdLCAxNSwgLTE0MTYzNTQ5MDUpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyA1XSwgMjEsIC01NzQzNDA1NSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDEyXSwgNiwgMTcwMDQ4NTU3MSk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDNdLCAxMCwgLTE4OTQ5ODY2MDYpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAxMF0sIDE1LCAtMTA1MTUyMyk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDFdLCAyMSwgLTIwNTQ5MjI3OTkpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyA4XSwgNiwgMTg3MzMxMzM1OSk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDE1XSwgMTAsIC0zMDYxMTc0NCk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDZdLCAxNSwgLTE1NjAxOTgzODApO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxM10sIDIxLCAxMzA5MTUxNjQ5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgNF0sIDYsIC0xNDU1MjMwNzApO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxMV0sIDEwLCAtMTEyMDIxMDM3OSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNSwgNzE4Nzg3MjU5KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgOV0sIDIxLCAtMzQzNDg1NTUxKTtcbiAgICBhID0gc2FmZUFkZChhLCBvbGRhKTtcbiAgICBiID0gc2FmZUFkZChiLCBvbGRiKTtcbiAgICBjID0gc2FmZUFkZChjLCBvbGRjKTtcbiAgICBkID0gc2FmZUFkZChkLCBvbGRkKTtcbiAgfVxuXG4gIHJldHVybiBbYSwgYiwgYywgZF07XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBieXRlcyB0byBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzXG4gKiBDaGFyYWN0ZXJzID4yNTUgaGF2ZSB0aGVpciBoaWdoLWJ5dGUgc2lsZW50bHkgaWdub3JlZC5cbiAqL1xuXG5cbmZ1bmN0aW9uIGJ5dGVzVG9Xb3JkcyhpbnB1dCkge1xuICBpZiAoaW5wdXQubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG5cbiAgdmFyIGxlbmd0aDggPSBpbnB1dC5sZW5ndGggKiA4O1xuICB2YXIgb3V0cHV0ID0gbmV3IFVpbnQzMkFycmF5KGdldE91dHB1dExlbmd0aChsZW5ndGg4KSk7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg4OyBpICs9IDgpIHtcbiAgICBvdXRwdXRbaSA+PiA1XSB8PSAoaW5wdXRbaSAvIDhdICYgMHhmZikgPDwgaSAlIDMyO1xuICB9XG5cbiAgcmV0dXJuIG91dHB1dDtcbn1cbi8qXG4gKiBBZGQgaW50ZWdlcnMsIHdyYXBwaW5nIGF0IDJeMzIuIFRoaXMgdXNlcyAxNi1iaXQgb3BlcmF0aW9ucyBpbnRlcm5hbGx5XG4gKiB0byB3b3JrIGFyb3VuZCBidWdzIGluIHNvbWUgSlMgaW50ZXJwcmV0ZXJzLlxuICovXG5cblxuZnVuY3Rpb24gc2FmZUFkZCh4LCB5KSB7XG4gIHZhciBsc3cgPSAoeCAmIDB4ZmZmZikgKyAoeSAmIDB4ZmZmZik7XG4gIHZhciBtc3cgPSAoeCA+PiAxNikgKyAoeSA+PiAxNikgKyAobHN3ID4+IDE2KTtcbiAgcmV0dXJuIG1zdyA8PCAxNiB8IGxzdyAmIDB4ZmZmZjtcbn1cbi8qXG4gKiBCaXR3aXNlIHJvdGF0ZSBhIDMyLWJpdCBudW1iZXIgdG8gdGhlIGxlZnQuXG4gKi9cblxuXG5mdW5jdGlvbiBiaXRSb3RhdGVMZWZ0KG51bSwgY250KSB7XG4gIHJldHVybiBudW0gPDwgY250IHwgbnVtID4+PiAzMiAtIGNudDtcbn1cbi8qXG4gKiBUaGVzZSBmdW5jdGlvbnMgaW1wbGVtZW50IHRoZSBmb3VyIGJhc2ljIG9wZXJhdGlvbnMgdGhlIGFsZ29yaXRobSB1c2VzLlxuICovXG5cblxuZnVuY3Rpb24gbWQ1Y21uKHEsIGEsIGIsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIHNhZmVBZGQoYml0Um90YXRlTGVmdChzYWZlQWRkKHNhZmVBZGQoYSwgcSksIHNhZmVBZGQoeCwgdCkpLCBzKSwgYik7XG59XG5cbmZ1bmN0aW9uIG1kNWZmKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgYyB8IH5iICYgZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWdnKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiICYgZCB8IGMgJiB+ZCwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmZ1bmN0aW9uIG1kNWhoKGEsIGIsIGMsIGQsIHgsIHMsIHQpIHtcbiAgcmV0dXJuIG1kNWNtbihiIF4gYyBeIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVpaShhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYyBeIChiIHwgfmQpLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgbWQ1OyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IG1kNSBmcm9tICcuL21kNS5qcyc7XG52YXIgdjMgPSB2MzUoJ3YzJywgMHgzMCwgbWQ1KTtcbmV4cG9ydCBkZWZhdWx0IHYzOyIsIi8vIEFkYXB0ZWQgZnJvbSBDaHJpcyBWZW5lc3MnIFNIQTEgY29kZSBhdFxuLy8gaHR0cDovL3d3dy5tb3ZhYmxlLXR5cGUuY28udWsvc2NyaXB0cy9zaGExLmh0bWxcbmZ1bmN0aW9uIGYocywgeCwgeSwgeikge1xuICBzd2l0Y2ggKHMpIHtcbiAgICBjYXNlIDA6XG4gICAgICByZXR1cm4geCAmIHkgXiB+eCAmIHo7XG5cbiAgICBjYXNlIDE6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuXG4gICAgY2FzZSAyOlxuICAgICAgcmV0dXJuIHggJiB5IF4geCAmIHogXiB5ICYgejtcblxuICAgIGNhc2UgMzpcbiAgICAgIHJldHVybiB4IF4geSBeIHo7XG4gIH1cbn1cblxuZnVuY3Rpb24gUk9UTCh4LCBuKSB7XG4gIHJldHVybiB4IDw8IG4gfCB4ID4+PiAzMiAtIG47XG59XG5cbmZ1bmN0aW9uIHNoYTEoYnl0ZXMpIHtcbiAgdmFyIEsgPSBbMHg1YTgyNzk5OSwgMHg2ZWQ5ZWJhMSwgMHg4ZjFiYmNkYywgMHhjYTYyYzFkNl07XG4gIHZhciBIID0gWzB4Njc0NTIzMDEsIDB4ZWZjZGFiODksIDB4OThiYWRjZmUsIDB4MTAzMjU0NzYsIDB4YzNkMmUxZjBdO1xuXG4gIGlmICh0eXBlb2YgYnl0ZXMgPT09ICdzdHJpbmcnKSB7XG4gICAgdmFyIG1zZyA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChieXRlcykpOyAvLyBVVEY4IGVzY2FwZVxuXG4gICAgYnl0ZXMgPSBbXTtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbXNnLmxlbmd0aDsgKytpKSB7XG4gICAgICBieXRlcy5wdXNoKG1zZy5jaGFyQ29kZUF0KGkpKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoIUFycmF5LmlzQXJyYXkoYnl0ZXMpKSB7XG4gICAgLy8gQ29udmVydCBBcnJheS1saWtlIHRvIEFycmF5XG4gICAgYnl0ZXMgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChieXRlcyk7XG4gIH1cblxuICBieXRlcy5wdXNoKDB4ODApO1xuICB2YXIgbCA9IGJ5dGVzLmxlbmd0aCAvIDQgKyAyO1xuICB2YXIgTiA9IE1hdGguY2VpbChsIC8gMTYpO1xuICB2YXIgTSA9IG5ldyBBcnJheShOKTtcblxuICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgTjsgKytfaSkge1xuICAgIHZhciBhcnIgPSBuZXcgVWludDMyQXJyYXkoMTYpO1xuXG4gICAgZm9yICh2YXIgaiA9IDA7IGogPCAxNjsgKytqKSB7XG4gICAgICBhcnJbal0gPSBieXRlc1tfaSAqIDY0ICsgaiAqIDRdIDw8IDI0IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMV0gPDwgMTYgfCBieXRlc1tfaSAqIDY0ICsgaiAqIDQgKyAyXSA8PCA4IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgM107XG4gICAgfVxuXG4gICAgTVtfaV0gPSBhcnI7XG4gIH1cblxuICBNW04gLSAxXVsxNF0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4IC8gTWF0aC5wb3coMiwgMzIpO1xuICBNW04gLSAxXVsxNF0gPSBNYXRoLmZsb29yKE1bTiAtIDFdWzE0XSk7XG4gIE1bTiAtIDFdWzE1XSA9IChieXRlcy5sZW5ndGggLSAxKSAqIDggJiAweGZmZmZmZmZmO1xuXG4gIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IE47ICsrX2kyKSB7XG4gICAgdmFyIFcgPSBuZXcgVWludDMyQXJyYXkoODApO1xuXG4gICAgZm9yICh2YXIgdCA9IDA7IHQgPCAxNjsgKyt0KSB7XG4gICAgICBXW3RdID0gTVtfaTJdW3RdO1xuICAgIH1cblxuICAgIGZvciAodmFyIF90ID0gMTY7IF90IDwgODA7ICsrX3QpIHtcbiAgICAgIFdbX3RdID0gUk9UTChXW190IC0gM10gXiBXW190IC0gOF0gXiBXW190IC0gMTRdIF4gV1tfdCAtIDE2XSwgMSk7XG4gICAgfVxuXG4gICAgdmFyIGEgPSBIWzBdO1xuICAgIHZhciBiID0gSFsxXTtcbiAgICB2YXIgYyA9IEhbMl07XG4gICAgdmFyIGQgPSBIWzNdO1xuICAgIHZhciBlID0gSFs0XTtcblxuICAgIGZvciAodmFyIF90MiA9IDA7IF90MiA8IDgwOyArK190Mikge1xuICAgICAgdmFyIHMgPSBNYXRoLmZsb29yKF90MiAvIDIwKTtcbiAgICAgIHZhciBUID0gUk9UTChhLCA1KSArIGYocywgYiwgYywgZCkgKyBlICsgS1tzXSArIFdbX3QyXSA+Pj4gMDtcbiAgICAgIGUgPSBkO1xuICAgICAgZCA9IGM7XG4gICAgICBjID0gUk9UTChiLCAzMCkgPj4+IDA7XG4gICAgICBiID0gYTtcbiAgICAgIGEgPSBUO1xuICAgIH1cblxuICAgIEhbMF0gPSBIWzBdICsgYSA+Pj4gMDtcbiAgICBIWzFdID0gSFsxXSArIGIgPj4+IDA7XG4gICAgSFsyXSA9IEhbMl0gKyBjID4+PiAwO1xuICAgIEhbM10gPSBIWzNdICsgZCA+Pj4gMDtcbiAgICBIWzRdID0gSFs0XSArIGUgPj4+IDA7XG4gIH1cblxuICByZXR1cm4gW0hbMF0gPj4gMjQgJiAweGZmLCBIWzBdID4+IDE2ICYgMHhmZiwgSFswXSA+PiA4ICYgMHhmZiwgSFswXSAmIDB4ZmYsIEhbMV0gPj4gMjQgJiAweGZmLCBIWzFdID4+IDE2ICYgMHhmZiwgSFsxXSA+PiA4ICYgMHhmZiwgSFsxXSAmIDB4ZmYsIEhbMl0gPj4gMjQgJiAweGZmLCBIWzJdID4+IDE2ICYgMHhmZiwgSFsyXSA+PiA4ICYgMHhmZiwgSFsyXSAmIDB4ZmYsIEhbM10gPj4gMjQgJiAweGZmLCBIWzNdID4+IDE2ICYgMHhmZiwgSFszXSA+PiA4ICYgMHhmZiwgSFszXSAmIDB4ZmYsIEhbNF0gPj4gMjQgJiAweGZmLCBIWzRdID4+IDE2ICYgMHhmZiwgSFs0XSA+PiA4ICYgMHhmZiwgSFs0XSAmIDB4ZmZdO1xufVxuXG5leHBvcnQgZGVmYXVsdCBzaGExOyIsImltcG9ydCB2MzUgZnJvbSAnLi92MzUuanMnO1xuaW1wb3J0IHNoYTEgZnJvbSAnLi9zaGExLmpzJztcbnZhciB2NSA9IHYzNSgndjUnLCAweDUwLCBzaGExKTtcbmV4cG9ydCBkZWZhdWx0IHY1OyIsImV4cG9ydCBkZWZhdWx0ICcwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDAnOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcblxuZnVuY3Rpb24gdmVyc2lvbih1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgcmV0dXJuIHBhcnNlSW50KHV1aWQuc3Vic3RyKDE0LCAxKSwgMTYpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2ZXJzaW9uOyIsIlxuXG5leHBvcnQgY29uc3QgdXBsb2FkQXJlYUhUTUwgPSBcbiAgYDxkaXYgaWQ9XCJkb2N1bWVudC11cGxvYWQtY29udGFpbmVyXCI+XG5cbiAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfYXJlYVwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5pdGlhbF91cGxvYWRfbWVzc2FnZVwiPlVwbG9hZCBGaWxlczwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgXG4gICAgPGRpdiBpZD1cInVwbG9hZGluZ19jb250YWluZXJcIj5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwidW5wYWlyZWRfY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtY29udGFpbmVyLXRpdGxlXCI+VW5wYWlyZWQgRG9jdW1lbnRzPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cImZpbGVzX2NvbnRhaW5lclwiPlxuXG4gICAgICAgICAgPGRpdiBpZD1cIm1laV9jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5NRUk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2xpc3RcIiBpZD1cIm1laV9saXN0XCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwiaW1hZ2VfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+SW1hZ2VzPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9saXN0XCIgaWQ9XCJpbWFnZV9saXN0XCI+PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cImdlbmVyYXRlLXBhaXItYnV0dG9uLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25fYnV0dG9uXCIgaWQ9XCJtYWtlX3BhaXJcIj5NYWtlIFBhaXI8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJwYWlyZWRfY29udGFpbmVyXCI+XG5cbiAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtY29udGFpbmVyLXRpdGxlXCI+UGFpcmVkIEZvbGlvczwvZGl2PlxuICAgICAgICBcbiAgICAgICAgPGRpdiBjbGFzcz1cInRpbGVfbGlzdFwiIGlkPVwicGFpcmVkX2xpc3RcIj48L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwidXBsb2FkX2J1dHRvbl9jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uX2J1dHRvblwiIGlkPVwidXBsb2FkX2J1dHRvblwiPlxuICAgICAgICAgICAgVXBsb2FkXG4gICAgICAgICAgICA8ZGl2IGlkPVwidXBsb2FkaW5nX3NwaW5uZXJcIj7ihrs8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8IS0tXG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cIm1hbnVzY3JpcHRzX2NvbnRhaW5lclwiPlxuICAgICAgICA8aDIgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5NYW51c2NyaXB0czwvaDI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aWxlX2xpc3RcIiBpZD1cIm1hbnVzY3JpcHRfbGlzdFwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgICAtLT5cblxuICAgIDwvZGl2PlxuICA8L2Rpdj5gOyIsIi8qKiBAbW9kdWxlIFdhcm5pbmdzICovXG5cbi8qKlxuICogV2FybiB3aGVuIGdyb3VwZWQgbmV1bWUgY29tcG9uZW50cyBmb3JtIGFuIHVucmVjb2duaXplZCBuZXVtZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdyb3VwaW5nTm90UmVjb2duaXplZCAoKTogdm9pZCB7XG4gIGlmICghKHdpbmRvdy5jb25maXJtKCdOZW9uIGRvZXMgbm90IHJlY29nbml6ZSB0aGlzIG5ldW1lIGdyb3VwaW5nLiBXb3VsZCB5b3UgbGlrZSB0byBjcmVhdGUgYSBjb21wb3VuZCBuZXVtZT8nKSkpIHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmNsaWNrKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IFNwbGl0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgc2VsZWN0QWxsIH0gZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4uL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IGdldFNWR1JlbENvb3JkcyB9IGZyb20gJy4uL3V0aWxzL0Nvb3JkaW5hdGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBzdGFmZiBpbnRvIHR3byBzdGF2ZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0U3RhZmZIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBzdGFmZjogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBzdGFmZiAtIFRoZSBzdGFmZiB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzdGFmZjogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5zdGFmZiA9IHN0YWZmO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBXaGVyZSB0byBTcGxpdCcpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgc3RhZmYuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIC8vIEZpbmQgc3RhZmYgcG9pbnQgY29ycmVzcG9uZHMgdG8gaWYgb25lIGV4aXN0c1xuICAgIC8vIFRPRE9cbiAgICBjb25zdCBpZCA9IHRoaXMuc3RhZmYuaWQ7XG4gICAgY29uc3QgY3Vyc29yID0gZ2V0U1ZHUmVsQ29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdEFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ3NwbGl0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIHg6IGN1cnNvci54XG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuc3RhZmYnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2lkfWApXSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgIG1vcmVFZGl0LmlubmVySFRNTCA9ICcnO1xuICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBTcGxpdE5ldW1lQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIG5ldW1lIGludG8gdHdvIG5ldW1lcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXROZXVtZUhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IG5ldW1lOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIG5ldW1lIC0gVGhlIG5ldW1lIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIG5ldW1lOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm5ldW1lID0gbmV1bWU7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFRoZSBCZWdpbm5pbmcgb2YgVGhlIFNlY29uZCBOZXVtZScpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgbmV1bWUuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy5uZXVtZS5pZDtcblxuICAgIC8vIHVuc2VsZWN0KCk7XG4gICAgXG4gICAgY29uc3QgbmMgPSAoZXZ0LnRhcmdldCBhcyBTVkdHRWxlbWVudCkucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBuY0lkID0gbmMuaWQ7XG5cbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0TmV1bWVBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdE5ldW1lJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIG5jSWQ6IG5jSWRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIGZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgLy8gdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgLy8gY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5uZXVtZScpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIC8vIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBpZCkgYXMgU1ZHR0VsZW1lbnRdLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAvLyB0cnkge1xuICAgICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAvLyB9IGNhdGNoIChlKSB7fVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiLy8gc2hpbSBmb3IgdXNpbmcgcHJvY2VzcyBpbiBicm93c2VyXG52YXIgcHJvY2VzcyA9IG1vZHVsZS5leHBvcnRzID0ge307XG5cbi8vIGNhY2hlZCBmcm9tIHdoYXRldmVyIGdsb2JhbCBpcyBwcmVzZW50IHNvIHRoYXQgdGVzdCBydW5uZXJzIHRoYXQgc3R1YiBpdFxuLy8gZG9uJ3QgYnJlYWsgdGhpbmdzLiAgQnV0IHdlIG5lZWQgdG8gd3JhcCBpdCBpbiBhIHRyeSBjYXRjaCBpbiBjYXNlIGl0IGlzXG4vLyB3cmFwcGVkIGluIHN0cmljdCBtb2RlIGNvZGUgd2hpY2ggZG9lc24ndCBkZWZpbmUgYW55IGdsb2JhbHMuICBJdCdzIGluc2lkZSBhXG4vLyBmdW5jdGlvbiBiZWNhdXNlIHRyeS9jYXRjaGVzIGRlb3B0aW1pemUgaW4gY2VydGFpbiBlbmdpbmVzLlxuXG52YXIgY2FjaGVkU2V0VGltZW91dDtcbnZhciBjYWNoZWRDbGVhclRpbWVvdXQ7XG5cbmZ1bmN0aW9uIGRlZmF1bHRTZXRUaW1vdXQoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdzZXRUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG5mdW5jdGlvbiBkZWZhdWx0Q2xlYXJUaW1lb3V0ICgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuKGZ1bmN0aW9uICgpIHtcbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIHNldFRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICBpZiAodHlwZW9mIGNsZWFyVGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gZGVmYXVsdENsZWFyVGltZW91dDtcbiAgICB9XG59ICgpKVxuZnVuY3Rpb24gcnVuVGltZW91dChmdW4pIHtcbiAgICBpZiAoY2FjaGVkU2V0VGltZW91dCA9PT0gc2V0VGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgLy8gaWYgc2V0VGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZFNldFRpbWVvdXQgPT09IGRlZmF1bHRTZXRUaW1vdXQgfHwgIWNhY2hlZFNldFRpbWVvdXQpICYmIHNldFRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9IGNhdGNoKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0IHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKG51bGwsIGZ1biwgMCk7XG4gICAgICAgIH0gY2F0Y2goZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvclxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbCh0aGlzLCBmdW4sIDApO1xuICAgICAgICB9XG4gICAgfVxuXG5cbn1cbmZ1bmN0aW9uIHJ1bkNsZWFyVGltZW91dChtYXJrZXIpIHtcbiAgICBpZiAoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgLy8gaWYgY2xlYXJUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkQ2xlYXJUaW1lb3V0ID09PSBkZWZhdWx0Q2xlYXJUaW1lb3V0IHx8ICFjYWNoZWRDbGVhclRpbWVvdXQpICYmIGNsZWFyVGltZW91dCkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIHJldHVybiBjbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfSBjYXRjaCAoZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgIHRydXN0IHRoZSBnbG9iYWwgb2JqZWN0IHdoZW4gY2FsbGVkIG5vcm1hbGx5XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCwgbWFya2VyKTtcbiAgICAgICAgfSBjYXRjaCAoZSl7XG4gICAgICAgICAgICAvLyBzYW1lIGFzIGFib3ZlIGJ1dCB3aGVuIGl0J3MgYSB2ZXJzaW9uIG9mIEkuRS4gdGhhdCBtdXN0IGhhdmUgdGhlIGdsb2JhbCBvYmplY3QgZm9yICd0aGlzJywgaG9wZnVsbHkgb3VyIGNvbnRleHQgY29ycmVjdCBvdGhlcndpc2UgaXQgd2lsbCB0aHJvdyBhIGdsb2JhbCBlcnJvci5cbiAgICAgICAgICAgIC8vIFNvbWUgdmVyc2lvbnMgb2YgSS5FLiBoYXZlIGRpZmZlcmVudCBydWxlcyBmb3IgY2xlYXJUaW1lb3V0IHZzIHNldFRpbWVvdXRcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLCBtYXJrZXIpO1xuICAgICAgICB9XG4gICAgfVxuXG5cblxufVxudmFyIHF1ZXVlID0gW107XG52YXIgZHJhaW5pbmcgPSBmYWxzZTtcbnZhciBjdXJyZW50UXVldWU7XG52YXIgcXVldWVJbmRleCA9IC0xO1xuXG5mdW5jdGlvbiBjbGVhblVwTmV4dFRpY2soKSB7XG4gICAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBpZiAoY3VycmVudFF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICB9XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgICAgICBkcmFpblF1ZXVlKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBkcmFpblF1ZXVlKCkge1xuICAgIGlmIChkcmFpbmluZykge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciB0aW1lb3V0ID0gcnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICAgIGRyYWluaW5nID0gdHJ1ZTtcblxuICAgIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgd2hpbGUobGVuKSB7XG4gICAgICAgIGN1cnJlbnRRdWV1ZSA9IHF1ZXVlO1xuICAgICAgICBxdWV1ZSA9IFtdO1xuICAgICAgICB3aGlsZSAoKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICAgICAgICBpZiAoY3VycmVudFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICAgICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIH1cbiAgICBjdXJyZW50UXVldWUgPSBudWxsO1xuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgcnVuQ2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxuXG5wcm9jZXNzLm5leHRUaWNrID0gZnVuY3Rpb24gKGZ1bikge1xuICAgIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgICAgICB9XG4gICAgfVxuICAgIHF1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLCBhcmdzKSk7XG4gICAgaWYgKHF1ZXVlLmxlbmd0aCA9PT0gMSAmJiAhZHJhaW5pbmcpIHtcbiAgICAgICAgcnVuVGltZW91dChkcmFpblF1ZXVlKTtcbiAgICB9XG59O1xuXG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgICB0aGlzLmZ1biA9IGZ1bjtcbiAgICB0aGlzLmFycmF5ID0gYXJyYXk7XG59XG5JdGVtLnByb3RvdHlwZS5ydW4gPSBmdW5jdGlvbiAoKSB7XG4gICAgdGhpcy5mdW4uYXBwbHkobnVsbCwgdGhpcy5hcnJheSk7XG59O1xucHJvY2Vzcy50aXRsZSA9ICdicm93c2VyJztcbnByb2Nlc3MuYnJvd3NlciA9IHRydWU7XG5wcm9jZXNzLmVudiA9IHt9O1xucHJvY2Vzcy5hcmd2ID0gW107XG5wcm9jZXNzLnZlcnNpb24gPSAnJzsgLy8gZW1wdHkgc3RyaW5nIHRvIGF2b2lkIHJlZ2V4cCBpc3N1ZXNcbnByb2Nlc3MudmVyc2lvbnMgPSB7fTtcblxuZnVuY3Rpb24gbm9vcCgpIHt9XG5cbnByb2Nlc3Mub24gPSBub29wO1xucHJvY2Vzcy5hZGRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLm9uY2UgPSBub29wO1xucHJvY2Vzcy5vZmYgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycyA9IG5vb3A7XG5wcm9jZXNzLmVtaXQgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyID0gbm9vcDtcblxucHJvY2Vzcy5saXN0ZW5lcnMgPSBmdW5jdGlvbiAobmFtZSkgeyByZXR1cm4gW10gfVxuXG5wcm9jZXNzLmJpbmRpbmcgPSBmdW5jdGlvbiAobmFtZSkge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5iaW5kaW5nIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5cbnByb2Nlc3MuY3dkID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gJy8nIH07XG5wcm9jZXNzLmNoZGlyID0gZnVuY3Rpb24gKGRpcikge1xuICAgIHRocm93IG5ldyBFcnJvcigncHJvY2Vzcy5jaGRpciBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xucHJvY2Vzcy51bWFzayA9IGZ1bmN0aW9uKCkgeyByZXR1cm4gMDsgfTtcbiIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwucXVldWVNaWNyb3Rhc2sgPT09ICdmdW5jdGlvbic7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayhmdW5jKTtcbiAgfTtcbn07XG4iLCIndXNlIHN0cmljdCc7XG4vL2Jhc2VkIG9mZiByc3ZwIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanNcbi8vbGljZW5zZSBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL0xJQ0VOU0Vcbi8vaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9saWIvcnN2cC9hc2FwLmpzXG5cbnZhciBNdXRhdGlvbiA9IGdsb2JhbC5NdXRhdGlvbk9ic2VydmVyIHx8IGdsb2JhbC5XZWJLaXRNdXRhdGlvbk9ic2VydmVyO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBNdXRhdGlvbjtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgdmFyIGNhbGxlZCA9IDA7XG4gIHZhciBvYnNlcnZlciA9IG5ldyBNdXRhdGlvbihoYW5kbGUpO1xuICB2YXIgZWxlbWVudCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSgnJyk7XG4gIG9ic2VydmVyLm9ic2VydmUoZWxlbWVudCwge1xuICAgIGNoYXJhY3RlckRhdGE6IHRydWVcbiAgfSk7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZWxlbWVudC5kYXRhID0gKGNhbGxlZCA9ICsrY2FsbGVkICUgMik7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICBpZiAoZ2xvYmFsLnNldEltbWVkaWF0ZSkge1xuICAgIC8vIHdlIGNhbiBvbmx5IGdldCBoZXJlIGluIElFMTBcbiAgICAvLyB3aGljaCBkb2Vzbid0IGhhbmRlbCBwb3N0TWVzc2FnZSB3ZWxsXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsICE9PSAndW5kZWZpbmVkJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHZhciBjaGFubmVsID0gbmV3IGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCgpO1xuICBjaGFubmVsLnBvcnQxLm9ubWVzc2FnZSA9IGZ1bmM7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgY2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZSgwKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAnZG9jdW1lbnQnIGluIGdsb2JhbCAmJiAnb25yZWFkeXN0YXRlY2hhbmdlJyBpbiBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG5cbiAgICAvLyBDcmVhdGUgYSA8c2NyaXB0PiBlbGVtZW50OyBpdHMgcmVhZHlzdGF0ZWNoYW5nZSBldmVudCB3aWxsIGJlIGZpcmVkIGFzeW5jaHJvbm91c2x5IG9uY2UgaXQgaXMgaW5zZXJ0ZWRcbiAgICAvLyBpbnRvIHRoZSBkb2N1bWVudC4gRG8gc28sIHRodXMgcXVldWluZyB1cCB0aGUgdGFzay4gUmVtZW1iZXIgdG8gY2xlYW4gdXAgb25jZSBpdCdzIGJlZW4gY2FsbGVkLlxuICAgIHZhciBzY3JpcHRFbCA9IGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbiAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBoYW5kbGUoKTtcblxuICAgICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gbnVsbDtcbiAgICAgIHNjcmlwdEVsLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoc2NyaXB0RWwpO1xuICAgICAgc2NyaXB0RWwgPSBudWxsO1xuICAgIH07XG4gICAgZ2xvYmFsLmRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hcHBlbmRDaGlsZChzY3JpcHRFbCk7XG5cbiAgICByZXR1cm4gaGFuZGxlO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKHQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBzZXRUaW1lb3V0KHQsIDApO1xuICB9O1xufTsiLCJpbXBvcnQgeyBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzLCBmZXRjaFNhbXBsZURvY3VtZW50cywgZGVsZXRlRW50cnkgfSBmcm9tICcuL1N0b3JhZ2UnO1xuaW1wb3J0IHsgZm9ybWF0RmlsZW5hbWUgfSBmcm9tICcuL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBzYW1wbGVzIH0gZnJvbSAnLi9zYW1wbGVzX2ZpbGVuYW1lcyc7XG5cbmNvbnN0IHVwbG9hZGVkRG9jc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRlZC1kb2NzLWNvbnRlbnQnKTtcbmNvbnN0IHNhbXBsZURvY3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2FtcGxlLWRvY3MtY29udGVudCcpO1xuY29uc3Qgb3BlbkJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjb3Blbi1kb2MnKTtcbmNvbnN0IGRlbGV0ZUJ1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVtb3ZlLWRvYycpO1xuXG5sZXQgbWV0YUtleUlzUHJlc3NlZCA9IGZhbHNlO1xubGV0IHNoaWZ0S2V5SXNQcmVzc2VkID0gZmFsc2U7XG5cbi8vIExpc3RzIHRoZSBkb2N1bWVudHMgaW4gb3JkZXIgYXMgcmVwcmVzZW50ZWQgb24gZGFzaGJvYXJkXG5sZXQgb3JkZXJlZERvY3VtZW50czogc3RyaW5nW107XG5sZXQgb3JkZXJlZFNlbGVjdGlvbjogYm9vbGVhbltdO1xuXG4vLyBTaGlmdCBzZWxlY3Rpb24gbWltaWNzIE1hY09TIGJlaGF2aW91clxuY2xhc3Mgc2hpZnRTZWxlY3Rpb24geyBcbiAgcHJpdmF0ZSBzdGFydDtcbiAgcHJpdmF0ZSBlbmQ7XG4gIHByaXZhdGUgcHJldlNlbGVjdGlvbiA9IFtdO1xuXG4gIHB1YmxpYyBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gIH1cblxuICBwdWJsaWMgc2V0U3RhcnQoc3RhcnQ6IG51bWJlcikge1xuICAgIHRoaXMucmVzZXQoKTtcbiAgICB0aGlzLnN0YXJ0ID0gTWF0aC5tYXgoc3RhcnQsIDApO1xuICB9XG5cbiAgcHVibGljIHNldEVuZChlbmQ6IG51bWJlcikge1xuICAgIHRoaXMuZW5kID0gZW5kO1xuICB9XG5cbiAgcHVibGljIHJlc2V0KCkge1xuICAgIHRoaXMuc3RhcnQgPSAwO1xuICAgIHRoaXMuZW5kID0gLTE7XG4gICAgdGhpcy5wcmV2U2VsZWN0aW9uLnNwbGljZSgwKTtcbiAgfVxuXG4gIHB1YmxpYyBnZXRQcmV2U2VsZWN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnByZXZTZWxlY3Rpb247XG4gIH1cblxuICBwdWJsaWMgZ2V0U2VsZWN0aW9uKCkge1xuICAgIGxldCBzdGFydDogbnVtYmVyO1xuICAgIGxldCBlbmQ6IG51bWJlcjtcblxuICAgIGlmICh0aGlzLmVuZCA9PT0gLTEpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuZW5kIDwgdGhpcy5zdGFydCkge1xuICAgICAgc3RhcnQgPSB0aGlzLmVuZDtcbiAgICAgIGVuZCA9IHRoaXMuc3RhcnQgKyAxO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHN0YXJ0ID0gdGhpcy5zdGFydDtcbiAgICAgIGVuZCA9IHRoaXMuZW5kICsgMTtcbiAgICB9XG4gICAgY29uc3QgcmFuZ2UgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiAoZW5kIC0gc3RhcnQpIH0sICh2LCBrKSA9PiBrICsgc3RhcnQpO1xuICAgIC8vIEZvciBlYWNoIHNoaWZ0IHNlbGVjdGlvbiBhY3Rpb246IGlmIHRoZSBTaGlmdCBrZXkgaXMgc3RpbGwgaGVsZCwgdGhlIGVuZCBzaGlmdCBwb3MgY2FuIGNoYW5nZSBcbiAgICAvLyB3aXRoIHRoZSBwcmV2aW91c2x5IChiZWZvcmUtc2hpZnQpIHNlbGVjdGVkIGVsZW1lbnRzIHN0aWxsIHNlbGVjdGVkIHdoaWxlIHRoZSBjdXJyZW50IHNoaWZ0IHNlbGVjdGlvbnMgdW5zZWxlY3QuXG4gICAgY29uc3Qgc3BlY2lmaWNTZWxlY3Rpb24gPSByYW5nZS5maWx0ZXIoaWR4ID0+ICEob3JkZXJlZFNlbGVjdGlvbltpZHhdKSk7XG4gICAgdGhpcy5wcmV2U2VsZWN0aW9uID0gc3BlY2lmaWNTZWxlY3Rpb247XG4gICAgcmV0dXJuIHNwZWNpZmljU2VsZWN0aW9uO1xuICB9XG59IFxuXG5jb25zdCBzaGlmdCA9IG5ldyBzaGlmdFNlbGVjdGlvbigpO1xuXG4vLyBHZXRzIHVzZXIgc2VsZWN0ZWQgZG9jdW1lbnQgdGlsZSBlbGVtZW50c1xuZnVuY3Rpb24gZ2V0U2VsZWN0aW9uVGlsZXMoKSB7XG4gIHJldHVybiBnZXRTZWxlY3Rpb25GaWxlbmFtZXMoKS5tYXAoZmlsZW5hbWUgPT4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZmlsZW5hbWUpKTtcbn1cblxuLy8gZ2V0cyB1c2VyIHNlbGVjdGVkIGZpbGVuYW1lcyBcbmZ1bmN0aW9uIGdldFNlbGVjdGlvbkZpbGVuYW1lcygpIHtcbiAgcmV0dXJuIG9yZGVyZWREb2N1bWVudHMuZmlsdGVyKChfLCBpZHgpID0+IG9yZGVyZWRTZWxlY3Rpb25baWR4XSk7XG59XG5cbi8vIE9wZW4gZWRpdG9yIHRhYlxuZnVuY3Rpb24gb3BlbkVkaXRvclRhYihmaWxlbmFtZTogc3RyaW5nLCBpc1VwbG9hZGVkOiBib29sZWFuKSB7XG4gIGNvbnN0IHBhcmFtcyA9IChpc1VwbG9hZGVkKVxuICAgID8geyBzdG9yYWdlOiBmaWxlbmFtZSB9XG4gICAgOiB7IG1hbmlmZXN0OiBmaWxlbmFtZSB9O1xuICBjb25zdCBxdWVyeSA9IG1ha2VRdWVyeShwYXJhbXMpO1xuICB3aW5kb3cub3BlbihgLi9lZGl0b3IuaHRtbD8ke3F1ZXJ5fWAsICdfYmxhbmsnKTtcbn1cblxuLy8gT3BlbnMgZWRpdG9yIHRhYiBnaXZlbiBhIGRvY3VtZW50IHRpbGUgZWxlbWVudFxuZnVuY3Rpb24gb3BlblRpbGUodGlsZTogRWxlbWVudCkge1xuICBjb25zdCBpc1VwbG9hZGVkID0gKHRpbGUuY2xhc3NMaXN0LmNvbnRhaW5zKCd1cGxvYWRlZC1kb2MnKSkgPyB0cnVlIDogZmFsc2U7XG4gIGNvbnN0IGZpbGVuYW1lID0gdGlsZS5pZDtcbiAgb3BlbkVkaXRvclRhYihmaWxlbmFtZSwgaXNVcGxvYWRlZCk7XG59XG5cbmZ1bmN0aW9uIG1ha2VRdWVyeShvYmopOiBzdHJpbmcge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKS5tYXAoa2V5ID0+IHtcbiAgICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGtleSkgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQob2JqW2tleV0pO1xuICB9KS5qb2luKCcmJyk7XG59XG5cbmZ1bmN0aW9uIHVuc2VsZWN0KHRpbGU6IEVsZW1lbnQsIGlkeD86IG51bWJlcikge1xuICBpZiAodGlsZSAhPSBudWxsKSB7XG4gICAgaWR4ID0gKGlkeCAhPSB1bmRlZmluZWQpID8gaWR4IDogb3JkZXJlZERvY3VtZW50cy5pbmRleE9mKHRpbGUuaWQpO1xuICB9XG4gIGVsc2UgaWYgKGlkeCAhPSB1bmRlZmluZWQpIHtcbiAgICB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQob3JkZXJlZERvY3VtZW50c1tpZHhdKTtcbiAgfVxuICBlbHNlIHJldHVybjtcbiAgdGlsZS5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICBvcmRlcmVkU2VsZWN0aW9uW2lkeF0gPSBmYWxzZTtcbn1cblxuZnVuY3Rpb24gdW5zZWxlY3RBbGwoKSB7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRvY3VtZW50LWVudHJ5LnNlbGVjdGVkJykpXG4gICAgLmZvckVhY2goKHRpbGUpID0+IHRpbGUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKSk7XG4gIG9yZGVyZWRTZWxlY3Rpb24uZmlsbChmYWxzZSk7XG59XG5cbmZ1bmN0aW9uIHNlbGVjdCh0aWxlOiBFbGVtZW50LCBpZHg/OiBudW1iZXIpIHtcbiAgaWYgKHRpbGUgIT0gbnVsbCkge1xuICAgIGlkeCA9IChpZHggIT0gdW5kZWZpbmVkKSA/IGlkeCA6IG9yZGVyZWREb2N1bWVudHMuaW5kZXhPZih0aWxlLmlkKTtcbiAgfVxuICBlbHNlIGlmIChpZHggIT0gdW5kZWZpbmVkKSB7XG4gICAgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9yZGVyZWREb2N1bWVudHNbaWR4XSk7XG4gIH1cbiAgZWxzZSByZXR1cm47XG4gIHRpbGUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgb3JkZXJlZFNlbGVjdGlvbltpZHhdID0gdHJ1ZTsgIFxufVxuXG4vLyBEZXRlcm1pbmVzIHdoZXRoZXIgdG8gc2V0IGRlbGV0ZSBkb2Mgb3Igb3BlbiBkb2MgdG8gYWN0aXZlXG5mdW5jdGlvbiBzZXRTaWRlYmFyQWN0aW9ucygpIHtcbiAgLy8gLTEgaWYgbm8gc2VsZWN0aW9uLCBzb21lIHZhbHVlIGkgaWYgc2VsZWN0ZWQuXG4gIC8vIGlmIChpZHg9aSkgPiBvcmRlcmVkRG9jdW1lbnRzLmxlbmd0aCAtIHNhbXBsZXMubGVuZ3RoLCB0aGVuIG5vIHVzZXIgdXBsb2FkcyBhcmUgc2VsZWN0ZWQuXG4gIGNvbnN0IGxhc3RJZHggPSBvcmRlcmVkU2VsZWN0aW9uLmxhc3RJbmRleE9mKHRydWUpO1xuICBpZiAobGFzdElkeCA9PT0gLTEpIHtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBvcGVuQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIGlmIChsYXN0SWR4IDwgKG9yZGVyZWREb2N1bWVudHMubGVuZ3RoIC0gc2FtcGxlcy5sZW5ndGgpKSB7XG4gICAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5yZW1vdmUoJ2FjdGl2ZScpO1xuICAgIH1cbiAgfVxufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgc2hpZnQucmVzZXQoKTtcbiAgLy8gbG9hZCB1c2VyLXVwbG9hZGVkIGRvY3NcbiAgdXBsb2FkZWREb2NzQ29udGFpbmVyLmlubmVySFRNTCA9ICcnO1xuICBjb25zdCB1cGxvYWRlZERvY3MgPSBhd2FpdCBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzKCk7XG4gIHVwbG9hZGVkRG9jcy5zb3J0KCk7XG5cbiAgaWYgKHVwbG9hZGVkRG9jcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkb2MuaWQgPSAnbm8tZG9jcy1tc2cnO1xuICAgIGRvYy5pbm5lckhUTUwgPSAnTm8gRG9jdW1lbnRzIFVwbG9hZGVkJztcbiAgICB1cGxvYWRlZERvY3NDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jKTtcbiAgfSBcbiAgZWxzZSB1cGxvYWRlZERvY3MuZm9yRWFjaChmaWxlbmFtZSA9PiB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jLmlkID0gZmlsZW5hbWU7IC8vIHVuaXF1ZSBpZFxuICAgIGRvYy5jbGFzc0xpc3QuYWRkKCdkb2N1bWVudC1lbnRyeScpO1xuICAgIGRvYy5jbGFzc0xpc3QuYWRkKCd1cGxvYWRlZC1kb2MnKTtcblxuICAgIGNvbnN0IG5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBuYW1lLmNsYXNzTGlzdC5hZGQoJ2ZpbGVuYW1lLXRleHQnKTtcbiAgICBuYW1lLmlubmVySFRNTCA9IGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lLCAyNSk7XG4gICAgZG9jLmFwcGVuZENoaWxkKG5hbWUpO1xuXG4gICAgdXBsb2FkZWREb2NzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvYyk7XG4gIH0pO1xuXG4gIC8vIGxvYWQgc2FtcGxlIGRvY3NcbiAgc2FtcGxlRG9jc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcblxuICBjb25zdCBzYW1wbGVEb2NzID0gZmV0Y2hTYW1wbGVEb2N1bWVudHMoKTtcbiAgc2FtcGxlRG9jcy5zb3J0KCk7XG4gIFxuICBpZiAoc2FtcGxlRG9jcy5sZW5ndGggPT09IDApIHtcbiAgICBjb25zdCBkb2MgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICBkb2MuaW5uZXJIVE1MID0gJ05vIERvY3VtZW50cyBVcGxvYWRlZCc7XG4gICAgc2FtcGxlRG9jc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkb2MpO1xuICB9IFxuICBlbHNlIHNhbXBsZURvY3MuZm9yRWFjaChmaWxlbmFtZSA9PiB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jLmlkID0gZmlsZW5hbWU7XG4gICAgZG9jLmNsYXNzTGlzdC5hZGQoJ2RvY3VtZW50LWVudHJ5Jyk7XG5cbiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmFtZS5jbGFzc0xpc3QuYWRkKCdmaWxlbmFtZS10ZXh0Jyk7XG4gICAgbmFtZS5pbm5lckhUTUwgPSBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZSwgMjUpO1xuICAgIGRvYy5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgIHNhbXBsZURvY3NDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jKTtcbiAgfSk7XG4gIC8vIENsZWFyIGxpc3Qgb2YgZG9jdW1lbnRzL3NlbGVjdGlvbnMgYW5kIHVwZGF0ZVxuICBvcmRlcmVkRG9jdW1lbnRzID0gdXBsb2FkZWREb2NzLmNvbmNhdChzYW1wbGVzKTtcbiAgb3JkZXJlZFNlbGVjdGlvbiA9IG5ldyBBcnJheTxib29sZWFuPihvcmRlcmVkRG9jdW1lbnRzLmxlbmd0aCkuZmlsbChmYWxzZSk7XG5cbiAgLy8gYWRkIG9uY2xpY2sgZXZlbnQgbGlzdGVuZXIgdG8gZG9jc1xuICBvcmRlcmVkRG9jdW1lbnRzLmZvckVhY2goKGZpbGVuYW1lLCBpZHgpID0+IHtcbiAgICBjb25zdCB0aWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYCR7ZmlsZW5hbWV9YCk7XG5cbiAgICAvLyBkb3VibGUgY2xpY2sgZXZlbnQgaW1tZWRpYXRlbHkgb3BlbnMgZG9jdW1lbnRcbiAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2RibGNsaWNrJywgaGFuZGxlT3BlbkRvY3VtZW50cywgZmFsc2UpO1xuXG4gICAgLy8gU2luZ2xlIGNsaWNrIHNlbGVjdHMgZG9jdW1lbnQgb3IgYWRkcyBkb2N1bWVudCB0byBleGlzdGluZyBzZWxlY3Rpb25cbiAgICB0aWxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgICAgLy8gTm8gU2hpZnQgb3IgTWV0YSBwcmVzc2VkIFxuICAgICAgaWYgKCFtZXRhS2V5SXNQcmVzc2VkICYmICFzaGlmdEtleUlzUHJlc3NlZCkge1xuICAgICAgICAvLyBTZWxlY3RlZCBvciBub3Qgc2VsZWN0ZWQgLT4gY2xlYXIgc2VsZWN0aW9uIGFuZCBzZWxlY3QgY3VyIHRpbGVcbiAgICAgICAgdW5zZWxlY3RBbGwoKTtcbiAgICAgICAgc2VsZWN0KHRpbGUsIGlkeCk7XG4gICAgICAgIHNoaWZ0LnNldFN0YXJ0KGlkeCk7IC8vIFRyYWNrIHN0YXJ0IG9mIHNoaWZ0IHNlbGVjdGlvblxuICAgICAgICBzZXRTaWRlYmFyQWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgLy8gTWV0YSBrZXkgcHJlc3NlZCAoZGVmYXVsdCBiZWhhdmlvdXIgaWYgYm90aCBtZXRhIGFuZCBzaGlmdCBhcmUgcHJlc3NlZClcbiAgICAgIGVsc2UgaWYgKG1ldGFLZXlJc1ByZXNzZWQpIHtcbiAgICAgICAgaWYgKG9yZGVyZWRTZWxlY3Rpb25baWR4XSkge1xuICAgICAgICAgIHVuc2VsZWN0KHRpbGUsIGlkeCk7XG4gICAgICAgICAgc2hpZnQuc2V0U3RhcnQob3JkZXJlZFNlbGVjdGlvbi5sYXN0SW5kZXhPZih0cnVlKSk7IC8vIE1hY09TIGJlaGF2aW91cjogc2hpZnQgc3RhcnQgZ29lcyB0byBsYXJnZXN0IGlkeCBzZWxlY3RlZCBpdGVtXG4gICAgICAgIH1cbiAgICAgICAgLy8gVGlsZSBpcyBub3Qgc2VsZWN0ZWQgLT4gQWRkIHRvIHNlbGVjdGlvblxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBzZWxlY3QodGlsZSwgaWR4KTtcbiAgICAgICAgICBzaGlmdC5zZXRTdGFydChpZHgpOyAvLyBUcmFjayBzdGFydCBvZiBzaGlmdCBzZWxlY3Rpb25cbiAgICAgICAgfVxuICAgICAgICBzZXRTaWRlYmFyQWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgLy8gTWFya3MgdGhlIGVuZCBvZiBzaGlmdCBzZWxlY3Rpb25cbiAgICAgIGVsc2UgaWYgKHNoaWZ0S2V5SXNQcmVzc2VkKSB7XG4gICAgICAgIC8vIFVuc2VsZWN0IHByZXZpb3VzIHNoaWZ0IHNlbGVjdGlvbiBpZiBhcHBsaWNhYmxlXG4gICAgICAgIHNoaWZ0LmdldFByZXZTZWxlY3Rpb24oKS5mb3JFYWNoKChpbmRleCkgPT4ge1xuICAgICAgICAgIHVuc2VsZWN0KG51bGwsIGluZGV4KTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gU2VsZWN0IG5ldyBzaGlmdCBzZWxlY3RcbiAgICAgICAgc2hpZnQuc2V0RW5kKGlkeCk7XG4gICAgICAgIHNoaWZ0LmdldFNlbGVjdGlvbigpLmZvckVhY2goKGluZGV4KSA9PiB7ICAgXG4gICAgICAgICAgc2VsZWN0KG51bGwsIGluZGV4KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFNpZGViYXJBY3Rpb25zKCk7XG4gICAgICB9XG4gICAgfSwgZmFsc2UpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlT3BlbkRvY3VtZW50cygpIHtcbiAgaWYgKCFvcGVuQnV0dG9uLmNsYXNzTGlzdC5jb250YWlucygnYWN0aXZlJykpIHJldHVybjtcbiAgZ2V0U2VsZWN0aW9uVGlsZXMoKS5mb3JFYWNoKHRpbGUgPT4ge1xuICAgIG9wZW5UaWxlKHRpbGUpO1xuICB9KTtcbiAgc2hpZnQucmVzZXQoKTtcbiAgdW5zZWxlY3RBbGwoKTtcbiAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlRG9jdW1lbnRzKCkge1xuICBpZiAoIWRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG5cbiAgY29uc3QgZmlsZW5hbWVzID0gZ2V0U2VsZWN0aW9uRmlsZW5hbWVzKCk7XG4gIGNvbnN0IGZpbGVuYW1lRm9ybWF0dGVkID0gZmlsZW5hbWVzLmpvaW4oJ1xcbicpO1xuICBjb25zdCBhbGVydE1lc3NhZ2UgPSAnQXJlIHlvdSBzdXJlIHlvdSB3YW50IHRvIGRlbGV0ZTpcXG4nICsgZmlsZW5hbWVGb3JtYXR0ZWQgKyAnXFxuXFxuVGhpcyBhY3Rpb24gaXMgaXJyZXZlcnNpYmxlLic7XG4gIGNvbnN0IGlzQ29uZmlybWVkID0gd2luZG93LmNvbmZpcm0oYWxlcnRNZXNzYWdlKTtcbiAgXG4gIGlmIChpc0NvbmZpcm1lZCkge1xuICAgIGNvbnN0IHByb21pc2VzID0gZmlsZW5hbWVzLm1hcChmaWxlbmFtZSA9PiBkZWxldGVFbnRyeShmaWxlbmFtZSkpO1xuICAgIFByb21pc2UuYWxsKHByb21pc2VzKVxuICAgICAgLnRoZW4oICgpID0+IHtcbiAgICAgICAgdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCggZXJyID0+IGNvbnNvbGUuZGVidWcoJ2ZhaWxlZCB0byBkZWxldGUgZmlsZXM6ICcsIGVycikpO1xuICAgIFxuICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgc2hpZnQucmVzZXQoKTtcbiAgfVxuICBzZXRTaWRlYmFyQWN0aW9ucygpO1xufVxuXG5leHBvcnQgY29uc3QgSW5pdERvY3VtZW50U2VsZWN0b3IgPSAoKTogdm9pZCA9PiB7XG4gIG9wZW5CdXR0b24hLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlT3BlbkRvY3VtZW50cyk7XG4gIGRlbGV0ZUJ1dHRvbiEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVEZWxldGVEb2N1bWVudHMpO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGUpID0+IHtcbiAgICBpZiAoZS5tZXRhS2V5KSBtZXRhS2V5SXNQcmVzc2VkID0gdHJ1ZTtcbiAgICBpZiAoZS5zaGlmdEtleSkgc2hpZnRLZXlJc1ByZXNzZWQgPSB0cnVlO1xuICAgIC8vIExvc2UgZm9jdXMgb24gZXNjIGtleVxuICAgIGlmIChlLmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgICBzaGlmdC5yZXNldCgpO1xuICAgICAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbiAgICB9XG4gIH0pO1xuXG4gIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChlKSA9PiB7XG4gICAgaWYgKCFlLm1ldGFLZXkpIG1ldGFLZXlJc1ByZXNzZWQgPSBmYWxzZTtcbiAgICBpZiAoIWUuc2hpZnRLZXkpIHNoaWZ0S2V5SXNQcmVzc2VkID0gZmFsc2U7XG4gIH0pO1xuXG4gIC8vIExvc2UgZm9jdXMgaWYgY2xpY2sgZXZlbnQgaW4gbWFpbiBzZWN0aW9uIGlzIG5vdCBhIGJ1dHRvblxuICBjb25zdCBiYWNrZ3JvdW5kOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5tYWluLXNlY3Rpb24tY29udGVudCcpO1xuICBiYWNrZ3JvdW5kLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oZSkge1xuICAgIGNvbnN0IGNsYXNzTGlzdCA9ICg8RWxlbWVudD5lLnRhcmdldCkuY2xhc3NMaXN0O1xuICAgIGlmICggIVsnZG9jdW1lbnQtZW50cnknLCAnZmlsZW5hbWUtdGV4dCddLnNvbWUoY2xhc3NOYW1lID0+IGNsYXNzTGlzdC5jb250YWlucyhjbGFzc05hbWUpKSApIHtcbiAgICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgICBzaGlmdC5yZXNldCgpO1xuICAgICAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbiAgICB9XG4gIH0pO1xuICBcbiAgdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpO1xufSIsImltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5pbXBvcnQgeyBOZW9uTWFuaWZlc3QsIGFsbERvY3MgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgKiBhcyBsb2NhbE1hbmlmZXN0IGZyb20gJy4uLy4uL2Fzc2V0cy9tYW5pZmVzdC5qc29uJztcbmltcG9ydCB7IHNhbXBsZXMgfSBmcm9tICcuL3NhbXBsZXNfZmlsZW5hbWVzJztcblxuY29uc3QgZGIgPSBuZXcgUG91Y2hEQignTmVvbi1Vc2VyLVN0b3JhZ2UnKTtcblxuZnVuY3Rpb24gZ2V0QWxsRG9jdW1lbnRzKCk6IFByb21pc2U8YWxsRG9jcz4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRiLmFsbERvY3MoeyBpbmNsdWRlX2RvY3M6IHRydWUgfSlcbiAgICAgIC50aGVuKHJlc3VsdCA9PiByZXNvbHZlKHJlc3VsdCkpXG4gICAgICAuY2F0Y2goZXJyID0+IHJlamVjdChlcnIpKTtcbiAgfSk7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzKCk6IFByb21pc2U8c3RyaW5nW10+IHtcbiAgcmV0dXJuIGF3YWl0IGdldEFsbERvY3VtZW50cygpXG4gICAgLnRoZW4oIChyZXM6IGFsbERvY3MpID0+IHtcbiAgICAgIHJldHVybiByZXMucm93cy5tYXAoIHJvdyA9PiByb3cua2V5KTtcbiAgICB9KVxuICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NvdWxkXFwnbnQgZmV0Y2ggdXBsb2FkZWQgZG9jdW1lbnRzJywgZXJyLm1lc3NhZ2UpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2hTYW1wbGVEb2N1bWVudHMoKTogc3RyaW5nW10ge1xuICByZXR1cm4gc2FtcGxlcztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZU1hbmlmZXN0KG5hbWU6IHN0cmluZywgbWVpOiBGaWxlLCBiZzogRmlsZSk6IFByb21pc2U8YW55PiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShsb2NhbE1hbmlmZXN0KSk7XG4gICAgbWFuaWZlc3RbJ0BpZCddID0gdXVpZHY0KCk7XG4gICAgbWFuaWZlc3RbJ3RpdGxlJ10gPSBuYW1lO1xuICAgIG1hbmlmZXN0Wyd0aW1lc3RhbXAnXSA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpO1xuXG4gICAgY29uc3QgbWVpUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgbWVpUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIG1laVJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICByZXNvbHZlKG1laVJlYWRlci5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICBtZWlSZWFkZXIucmVhZEFzRGF0YVVSTChtZWkpO1xuICAgIH0pO1xuICAgIGNvbnN0IGJnUHJvbWlzZSA9IG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgY29uc3QgYmdSZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgYmdSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShiZ1JlYWRlci5yZXN1bHQpO1xuICAgICAgfSk7XG4gICAgICBiZ1JlYWRlci5yZWFkQXNEYXRhVVJMKGJnKTtcbiAgICB9KTtcblxuICAgIGNvbnN0IG1laVVyaSA9IGF3YWl0IG1laVByb21pc2U7XG4gICAgY29uc3QgYmdVcmkgPSBhd2FpdCBiZ1Byb21pc2U7XG4gICAgbWFuaWZlc3RbJ2ltYWdlJ10gPSBiZ1VyaTtcbiAgICBtYW5pZmVzdFsnbWVpX2Fubm90YXRpb25zJ10gPSBbXG4gICAgICB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgdHlwZTogJ0Fubm90YXRpb24nLFxuICAgICAgICBib2R5OiBtZWlVcmksXG4gICAgICAgIHRhcmdldDogYmdVcmlcbiAgICAgIH1cbiAgICBdO1xuICAgIHJlc29sdmUobWFuaWZlc3QpO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZEVudHJ5KHRpdGxlOiBzdHJpbmcsIGNvbnRlbnQ6IEJsb2IsIHNpbmdsZTogYm9vbGVhbik6IFByb21pc2U8Ym9vbGVhbj4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgIGRiLnB1dCh7XG4gICAgICBfaWQ6IHRpdGxlLFxuICAgICAga2luZDogc2luZ2xlID8gJ3BhZ2UnIDogJ21hbnVzY3JpcHQnLFxuICAgICAgX2F0dGFjaG1lbnRzOiB7XG4gICAgICAgIG1hbmlmZXN0OiB7XG4gICAgICAgICAgY29udGVudF90eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicsXG4gICAgICAgICAgZGF0YTogY29udGVudFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSkudGhlbihfID0+IHtcbiAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgIHdpbmRvdy5hbGVydChgRXJyb3IgVXBsb2FkaW5nIERvY3VtZW50OiAke2Vyci5tZXNzYWdlfSwgJHt0aXRsZX0uYCk7XG4gICAgICByZWplY3QoZmFsc2UpO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlbGV0ZUVudHJ5KGlkOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkYi5nZXQoaWQpXG4gICAgICAudGhlbihkb2MgPT4ge1xuICAgICAgICBkYi5yZW1vdmUoZG9jKVxuICAgICAgICAgIC50aGVuKF8gPT4ge1xuICAgICAgICAgICAgcmVzb2x2ZSh0cnVlKTtcbiAgICAgICAgICB9KVxuICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaChlcnIgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0pO1xuICB9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBzYW1wbGVzID0gW1xuICAnQ0YtMDA1JyxcbiAgJ0NGLTAwOScsXG4gICdDRi0wMTAnLFxuICAnQ0YtMDExJyxcbiAgJ0NGLTAxMicsXG4gICdDRi0wMTMnLFxuICAnQ0YtMDE0JyxcbiAgJ0NGLTAxNScsXG4gICdDRi0wMTYnLFxuICAnQ0YtMDE3JyxcbiAgJ0NGLTAxOCcsXG4gICdDRi0wMTknLFxuICAnQ0YtMDIwJyxcbiAgJ0NGLTAyNCcsXG4gICdDRi0wMjUnLFxuICAnQ0YtMDI2JyxcbiAgJ0NGLTAyNycsXG4gICdDRi0wMjgnLFxuICAnQ0YtMDI5JyxcbiAgJ0NGLTAzMCcsXG4gICdDRi0wMzEnLFxuICAnQ0YtMDMyJyxcbiAgJ0NGLTAzMycsXG4gICdDRi0wMzQnLFxuICAnQ0YtMDM1JyxcbiAgJ0NGLTAzNicsXG4gICdDRi0wMzcnLFxuICAnQ0YtMDM4JyxcbiAgJ0NGLTAzOScsXG4gICdDRi0wNDAnLFxuICAnQ0YtMDQxJyxcbiAgJ0NGLTA0MicsXG4gICdDRi0wNDQnLFxuICAnQ0YtMDQ1JyxcbiAgJ0NGLTA0NicsXG4gICdDRi0wNDcnLFxuICAnQ0YtMDQ4JyxcbiAgJ0NGLTA0OScsXG4gICdDRi0wNTAnLFxuICAnQ0YtMDUxJyxcbiAgJ0NGLTA1MicsXG4gICdDRi0wNTMnLFxuICAnQ0YtMDU0JyxcbiAgJ0NGLTA1NScsXG4gICdDRi0wNTYnLFxuICAnU2FsemlubmVzJ1xuXTtcbiIsImV4cG9ydCBmdW5jdGlvbiBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZTogc3RyaW5nLCBtYXhMZW46IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IGNodW5rTGVuID0gTWF0aC5mbG9vcihtYXhMZW4vMik7XG4gIGNvbnN0IGxlbiA9IGZpbGVuYW1lLmxlbmd0aDtcbiAgaWYgKGxlbiA8PSBtYXhMZW4pIHJldHVybiBmaWxlbmFtZTtcbiAgZWxzZSByZXR1cm4gYCR7ZmlsZW5hbWUuc3Vic3RyaW5nKDAsY2h1bmtMZW4tMSl9Li4uJHtmaWxlbmFtZS5zdWJzdHJpbmcobGVuLWNodW5rTGVuKzIsIGxlbil9YDtcbn1cblxuLy8gUmVuYW1lcyBmaWxlIGlmIHRoZXJlIGFyZSBuYW1pbmcgY29uZmxpY3RzLCBpbiB0aGUgZm9ybSBvZiAnZm9vYmFyICgxKSdcbmV4cG9ydCBmdW5jdGlvbiByZW5hbWVGaWxlKGZpbGVuYW1lOiBzdHJpbmcsIGNvbXBhcmlzb25zOiBzdHJpbmdbXSk6IHN0cmluZyB7XG4gIGNvbnN0IHJlZyA9IG5ldyBSZWdFeHAoZmlsZW5hbWUpO1xuICBjb25zdCByZXN1bHRzID0gY29tcGFyaXNvbnMuZmlsdGVyKChjb21wYXJpc29uOiBzdHJpbmcpID0+IHJlZy50ZXN0KGNvbXBhcmlzb24pKTtcblxuICBpZiAocmVzdWx0cy5sZW5ndGggIT09IDApIHtcbiAgICAvLyBGaW5kIGxvd2VzdCBkaWdpdCB0byBuYW1lXG4gICAgY29uc3QgZGlnaXRzUmVnID0gL1xcKFxcZCtcXCksL2c7XG4gICAgY29uc3Qgc291cCA9IHJlc3VsdHMuam9pbigpLmNvbmNhdCgnLCcpO1xuICAgIGNvbnN0IGRpZ2l0c1Jlc3VsdHMgPSBzb3VwLm1hdGNoKGRpZ2l0c1JlZyk7XG4gICAgXG4gICAgLy8gSWYgbm8gZGlnaXQgbWF0Y2hlcyB0aGVuIGdvIHRvIGVsc2Ugc3RhdGVtZW50XG4gICAgaWYgKGRpZ2l0c1Jlc3VsdHMgIT09IG51bGwpIHtcbiAgICAgIGNvbnN0IGRpZ2l0czogbnVtYmVyW10gPSBkaWdpdHNSZXN1bHRzLm1hcChzdHIgPT4ge1xuICAgICAgICBjb25zdCBzdHJpcHBlZCA9IHN0ci5zdWJzdHJpbmcoMSwgc3RyLmxlbmd0aC0yKTtcbiAgICAgICAgcmV0dXJuIE51bWJlcihzdHJpcHBlZCk7XG4gICAgICB9KTtcbiAgICAgIGRpZ2l0cy5zb3J0KCk7XG5cbiAgICAgIGNvbnN0IGlkeCA9IGRpZ2l0cy5pbmRleE9mKDEpO1xuICAgICAgaWYgKGlkeCA9PT0gLTEpIHJldHVybiBgJHtmaWxlbmFtZX0oMSlgO1xuICAgICAgZWxzZSB7XG4gICAgICAgIGxldCBwcmV2ID0gMTtcbiAgICAgICAgZm9yIChsZXQgaSA9IGlkeCsxIDsgaSA8IGRpZ2l0cy5sZW5ndGggOyBpKyspIHtcbiAgICAgICAgICBjb25zdCBjdXIgPSBkaWdpdHNbaV07XG4gICAgICAgICAgaWYgKGN1ciAhPT0gcHJldiArIDEpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmV2ICs9IDE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGAke2ZpbGVuYW1lfSgke3ByZXYrMX0pYDtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSByZXR1cm4gYCR7ZmlsZW5hbWV9KDEpYDtcbiAgfSBcbiAgZWxzZSByZXR1cm4gZmlsZW5hbWU7XG59IiwiaW1wb3J0IHsgdjQgYXMgdXVpZHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgRmlsZU1hbmFnZXIgZnJvbSAnLi9GaWxlTWFuYWdlcic7XG5pbXBvcnQgeyBmb3JtYXRGaWxlbmFtZSwgcmVuYW1lRmlsZSB9IGZyb20gJy4vZnVuY3Rpb25zJztcbmltcG9ydCB7IGNyZWF0ZU1hbmlmZXN0LCBhZGRFbnRyeSwgZmV0Y2hTYW1wbGVEb2N1bWVudHMsIGZldGNoVXBsb2FkZWREb2N1bWVudHMgfSBmcm9tICcuL1N0b3JhZ2UnO1xuXG5jb25zdCBmbSA9IEZpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGROZXdGaWxlcyggZmlsZXM6IEZpbGVbXSApOiBGaWxlW10ge1xuICBjb25zdCBtZWlfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtZWlfbGlzdCcpO1xuICBjb25zdCBpbWFnZV9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2ltYWdlX2xpc3QnKTtcblxuICBjb25zdCByZWplY3RGaWxlczogRmlsZVtdID0gW107XG4gIGZpbGVzLmZvckVhY2goIGZpbGUgPT4ge1xuICAgIGNvbnN0IGV4dCA9IGZpbGUubmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuXG4gICAgaWYgKCBleHQgPT09ICdtZWknICkge1xuICAgICAgY29uc3QgdW5wYWlyZWRJdGVtID0gY3JlYXRlVW5wYWlyZWRJdGVtKGZpbGUubmFtZSwgJ21laScpO1xuICAgICAgbWVpX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh1bnBhaXJlZEl0ZW0pO1xuICAgICAgZm0uYWRkRmlsZShmaWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIFsncG5nJywnanBnJywnanBlZyddLmluY2x1ZGVzKGV4dCkgKSB7XG4gICAgICBjb25zdCB1bnBhaXJlZEl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0oZmlsZS5uYW1lLCAnaW1hZ2UnKTtcbiAgICAgIGltYWdlX2NvbnRhaW5lci5hcHBlbmRDaGlsZCh1bnBhaXJlZEl0ZW0pO1xuICAgICAgZm0uYWRkRmlsZShmaWxlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIGV4dCA9PT0gJ2pzb25sZCcgKSB7XG4gICAgICAvLyAvLyByZW1vdmUgbWFudXNjcmlwdCBzdXBwb3J0IGZvciB0aGUgaW1tZWRpYXRlIGZ1dHVyZSFcbiAgICAgIC8vIGNvbnN0IG1hbnVzY3JpcHRUaWxlID0gY3JlYXRlTWFudXNjcmlwdFRpbGUoZmlsZS5uYW1lKTtcbiAgICAgIC8vIG1hbnVzY3JpcHRfY29udGFpbmVyLmFwcGVuZENoaWxkKG1hbnVzY3JpcHRUaWxlKTtcbiAgICAgIC8vIGZtLmFkZEZpbGUoZmlsZSk7XG4gICAgICAvLyBmbS5hZGRNYW51c2NyaXB0KGZpbGUubmFtZSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVqZWN0RmlsZXMucHVzaChmaWxlKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVqZWN0RmlsZXM7XG59IFxuXG5mdW5jdGlvbiBjcmVhdGVVbnBhaXJlZEl0ZW0oZmlsZW5hbWU6IHN0cmluZywgZ3JvdXA6IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcbiAgaWYgKGdyb3VwICE9PSAnbWVpJyAmJiBncm91cCAhPT0gJ2ltYWdlJykgcmV0dXJuO1xuICBjb25zdCByYWRpb05hbWUgPSAnbWVpJyA9PT0gZ3JvdXAgPyAnbWVpX3JhZGlvX2dyb3VwJyA6ICdpbWFnZV9yYWRpb19ncm91cCc7XG4gIGNvbnN0IGlkID0gdXVpZHY0KCk7XG5cbiAgY29uc3Qgbm9kZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub2RlLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9pdGVtX2NvbnRhaW5lcic7XG5cbiAgY29uc3QgcmFkaW8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICByYWRpby50eXBlID0gJ3JhZGlvJztcbiAgcmFkaW8uY2xhc3NOYW1lID0gJ3VucGFpcmVkX2l0ZW1fcmFkaW8nO1xuICByYWRpby5uYW1lID0gcmFkaW9OYW1lO1xuICByYWRpby52YWx1ZSA9IGZpbGVuYW1lO1xuICByYWRpby5pZCA9IGlkO1xuXG4gIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgbGFiZWwuY2xhc3NOYW1lID0gJ3VucGFpcmVkX2l0ZW1fbGFiZWwnO1xuICBsYWJlbC5zZXRBdHRyaWJ1dGUoJ2ZvcicsIGlkKTtcblxuICBjb25zdCB0ZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3BhbicpO1xuICB0ZXh0LmlubmVyVGV4dCA9IGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lLCAyOCk7XG5cbiAgbGFiZWwuYXBwZW5kQ2hpbGQocmFkaW8pO1xuICBsYWJlbC5hcHBlbmRDaGlsZCh0ZXh0KTtcbiAgbm9kZS5hcHBlbmRDaGlsZChsYWJlbCk7XG4gIHJldHVybiBub2RlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFuZGxlTWFrZVBhaXIoKTogdm9pZCB7XG4gIGNvbnN0IHBhaXJlZF9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BhaXJlZF9saXN0Jyk7XG5cbiAgLy8gZ2V0IGFuZCBjaGVjayBpZiBzZWxlY3RlZCByYWRpbyBleGlzdHNcbiAgY29uc3Qgc2VsZWN0ZWRNZWlFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cIm1laV9yYWRpb19ncm91cFwiXTpjaGVja2VkJyk7XG4gIGNvbnN0IHNlbGVjdGVkSW1hZ2VFbGVtZW50OiBIVE1MSW5wdXRFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignaW5wdXRbbmFtZT1cImltYWdlX3JhZGlvX2dyb3VwXCJdOmNoZWNrZWQnKTtcbiAgaWYgKHNlbGVjdGVkTWVpRWxlbWVudCA9PT0gbnVsbCB8fCBzZWxlY3RlZEltYWdlRWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuICBcbiAgY29uc3QgbWVpX2ZpbGVuYW1lID0gc2VsZWN0ZWRNZWlFbGVtZW50LnZhbHVlO1xuICBjb25zdCBpbWFnZV9maWxlbmFtZSA9IHNlbGVjdGVkSW1hZ2VFbGVtZW50LnZhbHVlO1xuICBjb25zdCBmaWxlbmFtZSA9IG1laV9maWxlbmFtZS5zdWJzdHJpbmcoMCwgbWVpX2ZpbGVuYW1lLmxlbmd0aC00KTtcbiAgLy8gbWFrZSBhbmQgYXBwZW5kIFVJIGVsZW1lbnRcbiAgY29uc3QgcGFpcmVkX2VsID0gY3JlYXRlUGFpcmVkVGlsZShmaWxlbmFtZSwgbWVpX2ZpbGVuYW1lLCBpbWFnZV9maWxlbmFtZSk7XG4gIHBhaXJlZF9jb250YWluZXIuYXBwZW5kQ2hpbGQocGFpcmVkX2VsKTtcbiAgLy8gcmVmbGVjdCBpbiBmaWxlIG1hbmFnZXJcbiAgZm0uYWRkRm9saW8oZmlsZW5hbWUsIG1laV9maWxlbmFtZSwgaW1hZ2VfZmlsZW5hbWUpO1xuICAvLyByZW1vdmUgZnJvbSB1bnBhaXJlZCBtZWkgYW5kIGltYWdlIGxpc3RzXG4gIHNlbGVjdGVkTWVpRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG4gIHNlbGVjdGVkSW1hZ2VFbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudC5yZW1vdmUoKTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlUGFpcmVkVGlsZShmaWxlbmFtZTogc3RyaW5nLCBtZWlfZmlsZW5hbWU6IHN0cmluZywgaW1hZ2VfZmlsZW5hbWU6IHN0cmluZyk6IEhUTUxEaXZFbGVtZW50IHtcbiAgY29uc3QgbWVpX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVpX2xpc3QnKTtcbiAgY29uc3QgaW1hZ2VfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZV9saXN0Jyk7XG5cbiAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICB0aWxlLmNsYXNzTmFtZSA9ICd0aWxlX2l0ZW0nO1xuICB0aWxlLnNldEF0dHJpYnV0ZSgnbWVpJywgbWVpX2ZpbGVuYW1lKTtcbiAgdGlsZS5zZXRBdHRyaWJ1dGUoJ2ltYWdlJywgaW1hZ2VfZmlsZW5hbWUpO1xuXG4gIGNvbnN0IHRpbGVfZmlsZW5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGlsZV9maWxlbmFtZS5jbGFzc0xpc3QuYWRkKCd0aWxlLWZpbGVuYW1lJyk7XG4gIHRpbGVfZmlsZW5hbWUuaW5uZXJIVE1MID0gZm9ybWF0RmlsZW5hbWUoZmlsZW5hbWUsIDI1KTtcbiAgdGlsZS5hcHBlbmRDaGlsZCh0aWxlX2ZpbGVuYW1lKTsgXG5cbiAgZnVuY3Rpb24gaGFuZGxlVW5wYWlyKCkge1xuICAgIC8vIHJlbW92ZSB0aWxlIGZyb20gVUlcbiAgICB0aWxlLnJlbW92ZSgpO1xuICAgIC8vIHJlbW92ZSBmb2xpbyBmcm9tIGZpbGUgbWFuYWdlclxuICAgIGZtLnJlbW92ZUZvbGlvKGZpbGVuYW1lKTtcbiAgICAvLyBhZGQgaXRlbXMgYmFjayB0byB1bnBhaXJlZCBjb250YWluZXJzXG4gICAgY29uc3QgbWVpSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShtZWlfZmlsZW5hbWUsICdtZWknKTtcbiAgICBtZWlfY29udGFpbmVyLmFwcGVuZENoaWxkKG1laUl0ZW0pO1xuICAgIGNvbnN0IGltYWdlSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShpbWFnZV9maWxlbmFtZSwgJ2ltYWdlJyk7XG4gICAgaW1hZ2VfY29udGFpbmVyLmFwcGVuZENoaWxkKGltYWdlSXRlbSk7XG4gIH1cblxuICBjb25zdCBkZWxldGVCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgZGVsZXRlQnV0dG9uLmlubmVyVGV4dCA9ICfijKsnO1xuICBkZWxldGVCdXR0b24uY2xhc3NOYW1lID0gJ2RlbGV0ZV9idXR0b24nO1xuICBkZWxldGVCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVVbnBhaXIpO1xuICB0aWxlLmFwcGVuZENoaWxkKGRlbGV0ZUJ1dHRvbik7XG5cbiAgcmV0dXJuIHRpbGU7XG59XG5cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBoYW5kbGVVcGxvYWRBbGxEb2N1bWVudHMoKTogUHJvbWlzZTxhbnk+IHtcbiAgY29uc3QgdXBsb2FkcyA9IGF3YWl0IGZldGNoVXBsb2FkZWREb2N1bWVudHMoKTtcbiAgY29uc3Qgc2FtcGxlcyA9IGZldGNoU2FtcGxlRG9jdW1lbnRzKCk7XG4gIGNvbnN0IGV4aXN0aW5nTmFtZXMgPSB1cGxvYWRzLmNvbmNhdChzYW1wbGVzKTtcblxuICBjb25zdCBmb2xpb1Byb21pc2VzID0gZm0uZ2V0Rm9saW9zKClcbiAgICAubWFwKCBhc3luYyAoW25hbWUsIG1laSwgaW1hZ2VdOiBbc3RyaW5nLCBGaWxlLCBGaWxlXSkgPT4ge1xuICAgICAgY29uc3QgbmV3TmFtZSA9IHJlbmFtZUZpbGUobmFtZSwgZXhpc3RpbmdOYW1lcyk7XG4gICAgICBleGlzdGluZ05hbWVzLnB1c2gobmV3TmFtZSk7XG4gICAgICByZXR1cm4gYXdhaXQgdXBsb2FkRm9saW8obmV3TmFtZSwgbWVpLCBpbWFnZSlcbiAgICB9KTtcbiAgXG4gIGZtLmNsZWFyKCk7XG5cbiAgY29uc3QgcHJvbWlzZXMgPSBcbiAgICBmb2xpb1Byb21pc2VzXG4gICAgICAubWFwKHAgPT4gXG4gICAgICAgIFByb21pc2UucmVzb2x2ZShwKVxuICAgICAgICAgIC50aGVuKHZhbHVlID0+ICh7IHN0YXR1czogJ2Z1bGZpbGxlZCcsIHZhbHVlIH0pLFxuICAgICAgICAgICAgICAgIHJlYXNvbiA9PiAoeyBzdGF0dXM6ICdyZWplY3RlZCcsIHJlYXNvbiB9KVxuICAgICAgICAgIClcbiAgICAgICk7XG4gIFxuICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbWlzZXMpO1xufVxuXG5hc3luYyBmdW5jdGlvbiB1cGxvYWRGb2xpbyhuYW1lOiBzdHJpbmcsIG1laTogRmlsZSwgaW1hZ2U6IEZpbGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIGNyZWF0ZU1hbmlmZXN0KG5hbWUsIG1laSwgaW1hZ2UpXG4gICAgLnRoZW4obWFuaWZlc3QgPT4ge1xuICAgICAgY29uc3QgbWFuaWZlc3RCbG9iID0gbmV3IEJsb2IoW0pTT04uc3RyaW5naWZ5KG1hbmlmZXN0LCBudWxsLCAyKV0sIHsgdHlwZTogJ2FwcGxpY2F0aW9uL2xkK2pzb24nIH0pO1xuICAgICAgcmV0dXJuIGFkZEVudHJ5KG5hbWUsIG1hbmlmZXN0QmxvYiwgdHJ1ZSk7XG4gICAgfSk7XG59XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIHVwbG9hZE1hbnVzY3JpcHQobWFudXNjcmlwdDogRmlsZSk6IFByb21pc2U8Ym9vbGVhbj4ge1xuLy8gICByZXR1cm4gYWRkRW50cnkobWFudXNjcmlwdC5uYW1lLCBtYW51c2NyaXB0LCBmYWxzZSk7XG4vLyB9IiwiLyoqXG4gKiBTaW5nbGV0b24gbWFuYWdlbWVudCBzeXN0ZW0sIHVzZSBnZXRJbnN0YW5jZSgpIHRvIHJldHJpZXZlIGluc3RhbmNlLlxuICovXG5jbGFzcyBGaWxlTWFuYWdlciB7XG4gIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBGaWxlTWFuYWdlcjtcblxuICBwcml2YXRlIGFsbEZpbGVzID0gbmV3IE1hcDxzdHJpbmcsIHtmaWxlOiBGaWxlLCBjb3VudDogbnVtYmVyfT4oKTtcbiAgcHJpdmF0ZSBmb2xpb3MgPSBuZXcgQXJyYXk8Zm9saW8+KCk7IC8vIGZpbGVuYW1lLCBtZWlfZmlsZW5hbWUsIGltYWdlX2ZpbGVuYW1lXG4gIC8vIHByaXZhdGUgbWFudXNjcmlwdHMgPSBuZXcgQXJyYXk8c3RyaW5nPigpO1xuXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZW1wdHktZnVuY3Rpb25cbiAgcHJpdmF0ZSBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgcHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpOiBGaWxlTWFuYWdlciB7XG4gICAgaWYgKCFGaWxlTWFuYWdlci5pbnN0YW5jZSkge1xuICAgICAgRmlsZU1hbmFnZXIuaW5zdGFuY2UgPSBuZXcgRmlsZU1hbmFnZXIoKTtcbiAgICB9XG4gICAgcmV0dXJuIEZpbGVNYW5hZ2VyLmluc3RhbmNlO1xuICB9XG5cbiAgcHVibGljIGFkZEZpbGUoZmlsZTogRmlsZSk6IHZvaWQge1xuICAgIGlmICghdGhpcy5hbGxGaWxlcy5oYXMoZmlsZS5uYW1lKSkge1xuICAgICAgY29uc3QgbmV3RW50cnkgPSB7IGZpbGU6IGZpbGUsIGNvdW50OiAxIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChmaWxlLm5hbWUsIG5ld0VudHJ5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBjb25zdCBleGlzdGluZ0NvdW50ID0gdGhpcy5nZXRGaWxlQ291bnQoZmlsZS5uYW1lKTtcbiAgICAgIGNvbnN0IHVwZGF0ZWRFbnRyeSA9IHsgZmlsZTogZmlsZSwgY291bnQ6IGV4aXN0aW5nQ291bnQrMSB9O1xuICAgICAgdGhpcy5hbGxGaWxlcy5zZXQoZmlsZS5uYW1lLCB1cGRhdGVkRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRGaWxlKGtleTogc3RyaW5nKTogRmlsZSB7XG4gICAgaWYgKHRoaXMuYWxsRmlsZXMuaGFzKGtleSkpIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGU7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIHJlbW92ZUZpbGUoa2V5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBjb3VudCA9IHRoaXMuZ2V0RmlsZUNvdW50KGtleSk7XG4gICAgaWYgKGNvdW50ID09PSAwKSByZXR1cm47XG4gICAgZWxzZSBpZiAoY291bnQgPT09IDEpIHtcbiAgICAgIHRoaXMuYWxsRmlsZXMuZGVsZXRlKGtleSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgdXBkYXRlZEVudHJ5ID0geyBmaWxlOiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmZpbGUsIGNvdW50OiBjb3VudC0xIH07XG4gICAgICB0aGlzLmFsbEZpbGVzLnNldChrZXksIHVwZGF0ZWRFbnRyeSk7XG4gICAgfVxuICB9XG5cbiAgcHVibGljIGdldEZpbGVDb3VudChrZXk6IHN0cmluZyk6IG51bWJlciB7XG4gICAgaWYgKCB0aGlzLmFsbEZpbGVzLmhhcyhrZXkpICkge1xuICAgICAgcmV0dXJuIHRoaXMuYWxsRmlsZXMuZ2V0KGtleSkuY291bnQ7XG4gICAgfVxuICAgIGVsc2UgcmV0dXJuIDA7XG4gIH1cblxuICBwdWJsaWMgYWRkRm9saW8obmFtZTogc3RyaW5nLCBtZWk6IHN0cmluZywgaW1hZ2U6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IG5ld0ZvbGlvOiBmb2xpbyA9IHtcbiAgICAgIGZpbGVuYW1lOiBuYW1lLFxuICAgICAgbWVpX2ZpbGVuYW1lOiBtZWksXG4gICAgICBpbWFnZV9maWxlbmFtZTogaW1hZ2VcbiAgICB9XG4gICAgdGhpcy5mb2xpb3MucHVzaChuZXdGb2xpbyk7XG4gIH1cblxuICAvLyBwdWJsaWMgYWRkTWFudXNjcmlwdChmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gIC8vICAgdGhpcy5tYW51c2NyaXB0cy5wdXNoKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyByZW1vdmVGb2xpbyhmaWxlbmFtZTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgaWR4ID0gdGhpcy5mb2xpb3MuZmluZEluZGV4KCBmb2xpbyA9PiBmb2xpby5maWxlbmFtZSA9PT0gZmlsZW5hbWUpO1xuICAgIHRoaXMuZm9saW9zLnNwbGljZShpZHgsIDEpO1xuICB9XG5cbiAgLy8gcHVibGljIHJlbW92ZU1hbnVzY3JpcHQoZmlsZW5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAvLyAgIGNvbnN0IGlkeCA9IHRoaXMubWFudXNjcmlwdHMuZmluZEluZGV4KG1hbnVzY3JpcHQgPT4gbWFudXNjcmlwdCA9PT0gZmlsZW5hbWUpO1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuc3BsaWNlKGlkeCk7XG4gIC8vICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gfVxuXG4gIHB1YmxpYyBnZXRGb2xpb3MoKTogW3N0cmluZywgRmlsZSwgRmlsZV1bXSB7XG4gICAgcmV0dXJuIHRoaXMuZm9saW9zLm1hcCggZm9saW8gPT4ge1xuICAgICAgY29uc3QgZmlsZW5hbWUgPSBmb2xpby5maWxlbmFtZTtcbiAgICAgIGNvbnN0IG1laV9maWxlbmFtZSA9IGZvbGlvLm1laV9maWxlbmFtZTtcbiAgICAgIGNvbnN0IGltYWdlX2ZpbGVuYW1lID0gZm9saW8uaW1hZ2VfZmlsZW5hbWU7XG4gICAgICByZXR1cm4gW2ZpbGVuYW1lLCB0aGlzLmdldEZpbGUobWVpX2ZpbGVuYW1lKSwgdGhpcy5nZXRGaWxlKGltYWdlX2ZpbGVuYW1lKV07XG4gICAgfSk7XG4gIH1cblxuICAvLyBwdWJsaWMgZ2V0TWFudXNjcmlwdHMoKTogRmlsZVtdIHtcbiAgLy8gICByZXR1cm4gdGhpcy5tYW51c2NyaXB0cy5tYXAoIG1hbnVzY3JpcHQgPT4gdGhpcy5nZXRGaWxlKG1hbnVzY3JpcHQpKTtcbiAgLy8gfVxuXG4gIC8vIHB1YmxpYyBjbGVhck1hbnVzY3JpcHRzKCk6IHZvaWQge1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMuZm9yRWFjaCggZmlsZW5hbWUgPT4ge1xuICAvLyAgICAgdGhpcy5yZW1vdmVGaWxlKGZpbGVuYW1lKTtcbiAgLy8gICB9KTtcbiAgLy8gICB0aGlzLm1hbnVzY3JpcHRzID0gW107XG4gIC8vIH1cbiAgXG4gIHB1YmxpYyBjbGVhcigpOiB2b2lkIHtcbiAgICB0aGlzLmFsbEZpbGVzLmNsZWFyKCk7XG4gICAgdGhpcy5mb2xpb3Muc3BsaWNlKDApO1xuICB9XG5cbiAgcHVibGljIHByaW50KCk6IHZvaWQge1xuICAgIGNvbnNvbGUubG9nKHRoaXMuYWxsRmlsZXMpO1xuICAgIGNvbnNvbGUubG9nKHRoaXMuZm9saW9zKTtcbiAgICAvLyBjb25zb2xlLmxvZyh0aGlzLm1hbnVzY3JpcHRzKTtcbiAgfVxufVxuXG5leHBvcnQgZGVmYXVsdCBGaWxlTWFuYWdlcjtcblxudHlwZSBmb2xpbyA9IHtcbiAgICBmaWxlbmFtZTogc3RyaW5nLFxuICAgIG1laV9maWxlbmFtZTogc3RyaW5nLFxuICAgIGltYWdlX2ZpbGVuYW1lOiBzdHJpbmdcbn0iLCJpbXBvcnQgeyBJbml0RG9jdW1lbnRTZWxlY3RvciB9IGZyb20gJy4uLy4uL3NyYy9EYXNoYm9hcmQvRG9jdW1lbnRTZWxlY3Rvcic7XG5pbXBvcnQgeyBJbml0VXBsb2FkQXJlYSB9IGZyb20gJy4uLy4uL3NyYy9EYXNoYm9hcmQvVXBsb2FkQXJlYSc7XG5pbXBvcnQgRmlsZU1hbmFnZXIgZnJvbSAnLi4vLi4vc3JjL0Rhc2hib2FyZC9GaWxlTWFuYWdlcic7XG5cbmV4cG9ydCBjb25zdCBmbSA9IEZpbGVNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG5cbkluaXREb2N1bWVudFNlbGVjdG9yKCk7XG5cbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWQtbmV3LWRvYy1idXR0b24nKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgSW5pdFVwbG9hZEFyZWEoKTtcbn0pO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaG9tZS1saW5rJyk/LnNldEF0dHJpYnV0ZSgnaHJlZicsIF9fTElOS19MT0NBVElPTl9fKTtcblxuIiwiaW1wb3J0IHsgYWRkTmV3RmlsZXMgfSBmcm9tICcuL1VwbG9hZE1hbmFnZXInO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3csIE1vZGFsV2luZG93VmlldyB9IGZyb20gJy4uL3V0aWxzL01vZGFsV2luZG93JztcbmltcG9ydCB7IGhhbmRsZVVwbG9hZEFsbERvY3VtZW50cywgaGFuZGxlTWFrZVBhaXIgfSBmcm9tICcuL1VwbG9hZE1hbmFnZXInO1xuaW1wb3J0IHsgdXBkYXRlRG9jdW1lbnRTZWxlY3RvciB9IGZyb20gJy4vRG9jdW1lbnRTZWxlY3Rvcic7XG5pbXBvcnQgeyBmbSB9IGZyb20gJy4uLy4uL2RlcGxveW1lbnQvc2NyaXB0cy9kYXNoYm9hcmQnO1xuXG5cblxuZXhwb3J0IGZ1bmN0aW9uIEluaXRVcGxvYWRBcmVhKCk6IHZvaWQge1xuXG4gIC8vIGdlbmVyYXRlIG1vZGFsIHdpbmRvd1xuICBjb25zdCBtb2RhbFdpbmRvdyA9IG5ldyBNb2RhbFdpbmRvdygpO1xuICBtb2RhbFdpbmRvdy5zZXRNb2RhbFdpbmRvd1ZpZXcoTW9kYWxXaW5kb3dWaWV3LkRPQ1VNRU5UX1VQTE9BRCk7XG4gIG1vZGFsV2luZG93Lm9wZW5Nb2RhbFdpbmRvdygpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNtYWtlX3BhaXInKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVNYWtlUGFpcik7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3VwbG9hZF9idXR0b24nKSEuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyBmdW5jdGlvbiB1cGxvYWRBbmRVcGRhdGUoKSB7XG4gICAgY29uc3Qgc3Bpbm5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRpbmdfc3Bpbm5lcicpO1xuICAgIHNwaW5uZXIuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzKClcbiAgICAgIC50aGVuKCAocmVzdWx0KSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVEb2N1bWVudFNlbGVjdG9yKCk7XG4gICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCggKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdPbmUgb3IgbW9yZSB1cGxvYWRzIHJlamVjdGVkOiAnLCBlcnJvcik7XG4gICAgICAgIHNldFRpbWVvdXQoIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBhd2FpdCB1cGRhdGVEb2N1bWVudFNlbGVjdG9yKCk7XG4gICAgICAgICAgc3Bpbm5lci5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgICAgICAgbW9kYWxXaW5kb3cuaGlkZU1vZGFsV2luZG93KCk7XG4gICAgICAgIH0sIDIwMDApO1xuICAgICAgfSlcbiAgfSk7XG5cbiAgLy8gRmlsZSBTeXN0ZW0gc2VsZWN0b3Igd2hlbiBjbGlja2luZyBvbiB1cGxvYWQgYXJlYVxuICBjb25zdCBmaWxlU2VsZWN0b3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICBmaWxlU2VsZWN0b3IudHlwZSA9ICdmaWxlJztcbiAgZmlsZVNlbGVjdG9yLm11bHRpcGxlID0gdHJ1ZTtcbiAgZmlsZVNlbGVjdG9yLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uIGhhbmRsZUZpbGVTZWxlY3RvckNoYW5nZSgpIHsgXG4gICAgY29uc3QgZmlsZUxpc3Q6IEZpbGVMaXN0ID0gZmlsZVNlbGVjdG9yLmZpbGVzOyBcbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZmlsZUxpc3QpO1xuICAgIGNvbnN0IHJlamVjdEZpbGVzID0gYWRkTmV3RmlsZXMoZmlsZXMpO1xuICAgIGlmIChyZWplY3RGaWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IHJlamVjdEZpbGVzLm1hcChmaWxlID0+IGZpbGUubmFtZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoYFRoZSBmb2xsb3dpbmcgZmlsZXMgYXJlIG5vdCAubWVpLCAucG5nLCAuanBlZywgb3IgLmpzb25sZCBmaWxlczogXFxuXFxuJHtmaWxlbmFtZXMuam9pbignXFxuJyl9YCk7XG4gICAgfVxuICAgIC8vIHJlbW92ZSBzZWxlY3Rpb25cbiAgICBmaWxlU2VsZWN0b3IudmFsdWUgPSBudWxsO1xuICB9KTtcblxuICAvLyBBZGQgZXZlbnQgbGlzdGVuZXJzIGZvciBjbGljayBhbmQgZHJhZyBhbmQgZHJvcFxuICBjb25zdCB1cGxvYWRfYXJlYTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5pdGlhbF91cGxvYWRfYXJlYScpO1xuICB1cGxvYWRfYXJlYS5vbmNsaWNrID0gKCkgPT4gZmlsZVNlbGVjdG9yLmNsaWNrKCk7XG4gIC8vIGFkZCB2aXN1YWwgY3VlcyBmb3IgZHJhZ2dpbmcgZmlsZXMgb3ZlciB1cGxvYWQgYXJlYVxuICB1cGxvYWRfYXJlYS5vbmRyYWdsZWF2ZSA9ICgpID0+IHVwbG9hZF9hcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXInKTsgXG4gIHVwbG9hZF9hcmVhLm9uZHJhZ292ZXIgPSAoZXZlbnQpID0+IHsgXG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB1cGxvYWRfYXJlYS5jbGFzc0xpc3QuYWRkKCdvdmVyJyk7XG4gICAgZXZlbnQuZGF0YVRyYW5zZmVyLmRyb3BFZmZlY3QgPSAnY29weSc7XG4gIH07XG4gIC8vIHJlY2VpdmUgZmlsZXMgb25jZSBmaWxlcyBhcmUgZHJvcHBlZFxuICB1cGxvYWRfYXJlYS5vbmRyb3AgPSAoZXZlbnQpID0+IHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHVwbG9hZF9hcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ292ZXInKTtcbiAgICBjb25zdCBmaWxlTGlzdCA9IGV2ZW50LmRhdGFUcmFuc2Zlci5maWxlcztcbiAgICBjb25zdCBmaWxlcyA9IEFycmF5LmZyb20oZmlsZUxpc3QpO1xuICAgIGNvbnN0IHJlamVjdEZpbGVzID0gYWRkTmV3RmlsZXMoZmlsZXMpO1xuICAgIGlmIChyZWplY3RGaWxlcy5sZW5ndGggIT09IDApIHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lcyA9IHJlamVjdEZpbGVzLm1hcChmaWxlID0+IGZpbGUubmFtZSk7XG4gICAgICB3aW5kb3cuYWxlcnQoYFRoZSBmb2xsb3dpbmcgZmlsZXMgYXJlIG5vdCAubWVpLCAucG5nLCAuanBlZywgb3IgLmpzb25sZCBmaWxlczogXFxuXFxuJHtmaWxlbmFtZXMuam9pbignXFxuJyl9YCk7XG4gICAgfVxuICB9O1xufSJdLCJzb3VyY2VSb290IjoiIn0=