!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=85)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,o=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var s=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,o),i(n)}function o(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}v(e,t,o,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&v(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,o,s,a;if(l(n),void 0===(o=e._events)?(o=e._events=Object.create(null),e._eventsCount=0):(void 0!==o.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),o=e._events),s=o[t]),void 0===s)s=o[t]=n,++e._eventsCount;else if("function"==typeof s?s=o[t]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),(r=u(e))>0&&s.length>r&&!s.warned){s.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=s.length,a=c,console&&console.warn&&console.warn(a)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):g(r,r.length)}function m(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function g(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function v(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(o){i.once&&e.removeEventListener(t,r),n(o)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||s(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var a=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw a.context=s,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)o(c,this,t);else{var l=c.length,u=g(c,l);for(n=0;n<l;++n)o(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,o,s;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===t||n[o].listener===t){s=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)"removeListener"!==(r=o[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):m.call(e,t)},a.prototype.listenerCount=m,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,o,s=[n(36),n(37),n(38),n(39),n(40),n(41)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var f=-1,h=s.length;++f<h;)if(s[f]&&s[f].test&&s[f].test()){o=s[f].install(d);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),l||i||(l=!0,o())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(15),r=n(16),o=n(24),s=n(25),a=n(13),c=n(8);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function u(){document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill="")}),Array.from(document.getElementsByClassName("divLine")).forEach(e=>{e.style.stroke="black"}),Array.from(document.getElementsByClassName("neume")).forEach(e=>{e.style.fill=""}),Array.from(document.getElementsByClassName("text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),Array.from(document.getElementsByClassName("sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),Array.from(document.getElementsByClassName("syllable-highlighted")).forEach(e=>{e.style.fill="",e.classList.add("syllable"),e.classList.remove("syllable-highlighted")}),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove(),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():o.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function d(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSplitActions(),o.initGroupingListeners(),t.dragInit())}function f(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function h(e,t,n=!0){if(e){if(e.classList.contains("staff"))return d(e,t);if(e.classList.contains("layer"))return f(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&"neume"==(0,r.getHighlightType)()&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function p(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function m(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function g(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;console.log(n);for(const e of t){const t=e.parentElement.parentElement;if(console.log(t),t.id!==n.id)return!1}return!0}function v(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const o=e.closest(".syllable");o.style.fill="#d00",o.classList.add("syllable-highlighted"),void 0!==n&&(0,s.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}}t.getSelectionType=l,t.unselect=u,t.selectStaff=d,t.selectLayerElement=f,t.select=h,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(u(),h(i),await p(i,t)){const e=i.previousSibling;if(await p(e,t))h(e);else{const e=i.nextSibling;await p(e,t)?h(e):console.warn("Error: Neither prev or next nc are ligatures")}o.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=p,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":n=Array.from(document.querySelectorAll(".neume"));break;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],o=n.indexOf(t),s=n.indexOf(r);if(1!==Math.abs(o-s))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!m(e,t))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=m,t.sharedSecondLevelParent=g,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,o;return e.querySelectorAll("path").forEach(e=>{const s=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===o&&(o=Math.atan((s[3]-s[1])/(s[2]-s[0]))),(void 0===n||Math.min(s[1],s[3])<n)&&(n=Math.min(s[1],s[3])),(void 0===t||s[0]<t)&&(t=s[0]),(void 0===r||Math.max(s[1],s[3])>r)&&(r=Math.max(s[1],s[3])),(void 0===i||s[2]>i)&&(i=s[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:o}},t.selectBBox=v,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{h(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(u(),0===e.length)return;let r,c=!1,d=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const f=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else d=d||!0;f.add(e);const n=e.getAttribute("mei:follows");n&&f.add(document.querySelector("#"+n.slice(1)));const i=e.getAttribute("mei:precedes");i&&f.add(document.querySelector("#"+i.slice(1)))}f.forEach(e=>h(e,n,!1));const p=Array.from(f.values());if(!c||d)switch(i){case"selByStaff":switch(p.length){case 1:a.triggerSplitActions(),o.initGroupingListeners(),(0,s.resize)(p[0],t,n);break;default:a.triggerStaffActions(),o.initGroupingListeners()}break;case"selByLayerElement":1===f.size&&p[0].classList.contains("clef")?a.triggerClefActions(p[0]):1===f.size&&p[0].classList.contains("custos")?a.triggerCustosActions():1===f.size&&p[0].classList.contains("accid")?a.triggerAccidActions(p[0]):1===f.size&&p[0].classList.contains("divLine")?a.triggerLayerElementActions(p[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(p.length){case 1:a.triggerSyllableActions("singleSelect");break;case 2:o.isLinkable("selBySyllable",p)?a.triggerSyllableActions("linkableSelect"):o.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default");break;default:o.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(p.length){case 1:a.triggerNeumeActions(),o.initGroupingListeners();break;default:o.isGroupable("selByNeume",p)?o.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(p.length){case 1:a.triggerNcActions(p[0]);break;case 2:if(g(p)){if(p[0].parentElement===p[1].parentElement){const e=Array.from(p[0].parentElement.children);if(1===Math.abs(e.indexOf(p[0])-e.indexOf(p[1]))){let e=p[0].children[0],t=p[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,s=t.y.baseVal.value;if((n>i||n===i&&r<s)&&([e,t]=[t,e],[n,r,i,s]=[i,s,n,r]),n===i||r<s){o.triggerGrouping("ligature");break}}}o.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:g(p)?o.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(p.length){case 1:v(p[0],n,t),a.triggerDefaultActions();break;default:p.forEach(e=>v(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===f.size&&p[0].classList.contains("clef")?a.triggerClefActions(p[0]):1===f.size&&p[0].classList.contains("custos")?a.triggerCustosActions():1===f.size&&p[0].classList.contains("accid")?a.triggerAccidActions(p[0]):1===f.size&&p[0].classList.contains("divLine")?a.triggerLayerElementActions(p[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(27),r=n(23),o=new Array(0);let s=null,a=!1;const c={default:"",warning:"âš ï¸ ",error:"ðŸ”´ ",success:"âœ… "};class l{constructor(e,t){this.message=c[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function u(e){document.getElementById(e).remove(),null!==s&&s.getId()===e&&(s=null),o.length>0?d():0===document.querySelectorAll(".neon-notification").length&&(document.getElementById("notification-content").style.display="none",a=!1)}function d(){if(o.length>0){a=!0;const e=o.pop();!function(e){if(e.isModeMessage){if(null!==s)return window.clearTimeout(s.timeoutID),o.push(e),void u(s.getId());s=e}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(u,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),u(e.getId())})}}function f(e,t="default"){const n=new l(e,t);o.push(n),"error"!=n.type&&"warning"!=n.type||(0,i.recordNotification)(n),(!a||document.getElementById("notification-content").querySelectorAll(".neon-notification").length<3)&&d()}t.Notification=l,t.queueNotification=f,t.default={queueNotification:f}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,highlightMode:"none",selectionMode:"selBySyllable",displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.clefActionContents=t.splitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.staffActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by is-active" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.staffActionContents='<label>Merge Systems:</label>\n    <button id="merge-systems" class="side-panel-btn">Merge</button>\n    <button class="side-panel-btn" id="delete">Delete</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.splitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">âŒ˜</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: visible; padding: 0.5em 0.75em;"><div>'},function(e,t){e.exports=d3},function(e,t,n){"use strict";for(var i=n(10),r=[],o=0;o<256;++o)r.push((o+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(3);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".system"),{x:r,y:o}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:o}}function o(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:o,y:s}=r(e,t),a=n.find(e=>o<=e.lrx&&o>=e.ulx&&s<=e.lry&&s>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=o,t.getStaffByCoords=function(e,t){const n=o(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerSplitActions=t.triggerStaffSplitMode=t.triggerStaffActions=t.triggerLayerElementActions=t.triggerAccidActions=t.triggerCustosActions=t.triggerClefActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(7),r=n(24),o=n(4),s=n(33),a=n(34),c=n(3);let l;function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function p(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function m(e){"d"!==e.key&&"Backspace"!==e.key||(v(),e.preventDefault())}function g(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",m)}function v(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};g(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Insert Success","success"):o.default.queueNotification("Insert Failed XoX","error"),g(),l.updateForCurrentPage()})}function _(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Move Success","success"):o.default.queueNotification("Move Failed XoX","error"),g(),l.updateForCurrentPage()})}function w(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",v),e.addEventListener("click",v),document.body.addEventListener("keydown",m))}function k(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function E(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function S(){const e=document.querySelector(".staff.selected");if(null!==e){new s.SplitStaffHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}function L(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=u,t.unsetVirgaAction=d,t.unsetVirgaReversedAction=f,t.unsetLiquescentClockwiseAction=h,t.unsetLiquescentAnticlockwiseAction=p,t.deleteButtonHandler=m,t.endOptionsSelection=g,t.removeHandler=v,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=_,t.addChangeStaffListener=k,t.triggerNcActions=function(e){g(),E("moreEdit",i.defaultActionContents),E("extraEdit",i.ncActionContents),w(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=h(e.id),s=p(e.id);l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=f(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=f(e.id),n=u(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=p(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"c"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=h(e.id),s={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"a"}};l.edit({action:"chain",param:[t,n,i,r,s]},l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerNeumeActions=function(){g(),E("moreEdit",i.defaultNeumeActionContents),E("extraEdit",i.neumeActionContents),w();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Grouping Changed","success"):o.default.queueNotification("Grouping Failed","error"),g(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),g()}else console.error("No staff was selected!"),g()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),L()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){g(),E("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}E("moreEdit",t,!0),k(),w(),r.initGroupingListeners()},t.triggerClefActions=function(e){var t,n;g(),E("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents),E("extraEdit",i.clefActionContents),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave incremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Clef octave decremented.","success"):o.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"C"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"F"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerCustosActions=function(){g(),E("moreEdit",i.custosActionContents),k(),w()},t.triggerAccidActions=function(e){var t,n;g(),E("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),E("extraEdit",i.accidActionContents),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_),document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.default.queueNotification("Shape Changed","success"):o.default.queueNotification("Shape Change Failed","error"),g(),l.updateForCurrentPage()})}),L()},t.triggerLayerElementActions=function(e){var t,n;g(),E("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),w(),k(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",_)},t.triggerStaffActions=function(){g(),E("moreEdit",i.staffActionContents),w(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=S,t.triggerSplitActions=function(){g(),E("moreEdit",i.splitActionContents),w(),document.getElementById("split-system").addEventListener("click",()=>{S()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),g()}else console.error("No staff was selected"),g()})},t.triggerDefaultSylActions=function(){g(),E("moreEdit",i.defaultSylActionContents),w(),k()},t.triggerDefaultActions=function(){g(),E("moreEdit",i.defaultActionContents),w()}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],o=e[3];i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|o>>>20)+n|0)&n|~o&i)+t[2]+606105819|0)<<17|r>>>15)+o|0)&o|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|o>>>20)+n|0)&n|~o&i)+t[6]-1473231341|0)<<17|r>>>15)+o|0)&o|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|o>>>20)+n|0)&n|~o&i)+t[10]-42063|0)<<17|r>>>15)+o|0)&o|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&r|~i&o)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|o>>>20)+n|0)&n|~o&i)+t[14]-1502002290|0)<<17|r>>>15)+o|0)&o|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|o>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+o|0)&n|o&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|o>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+o|0)&n|o&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|o>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+o|0)&n|o&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i&o|r&~o)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|o>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+o|0)&n|o&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|o>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+o|0)^o^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|o>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+o|0)^o^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|o>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+o|0)^o^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((o=((o+=((n=((n+=(i^r^o)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|o>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+o|0)^o^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[14]-1416354905|0)<<15|r>>>17)+o|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[10]-1051523|0)<<15|r>>>17)+o|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[6]-1560198380|0)<<15|r>>>17)+o|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((o=((o+=(i^((n=((n+=(r^(i|~o))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|o>>>22)+n|0)^((r=((r+=(n^(o|~i))+t[2]+718787259|0)<<15|r>>>17)+o|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=o+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function o(e){var t,r,o,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)o[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(u,o),u}function s(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=s(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(o("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,o,s,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,o=new ArrayBuffer(r),s=new Uint8Array(o),a=new Uint8Array(this,l,r),s.set(a),o)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,o,s=t;if(e[s>>2]|=128<<(s%4<<3),s>55)for(n(this._hash,e),s=0;s<16;s+=1)e[s]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,e[14]=r,e[15]=o,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(o(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,o,s,a,c=(i=this._buff.buffer,o=e,s=!0,(a=new Uint8Array(i.byteLength+o.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(o),i.byteLength),s?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)o[t>>2]|=i[t]<<(t%4<<3);return this._finish(o,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=e.charCodeAt(n);return t?o:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,o,s,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)o[t>>2]|=e[t]<<(t%4<<3);if(o[t>>2]|=128<<(t%4<<3),t>55)for(n(u,o),t=0;t<16;t+=1)o[t]=0;return s=(s=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(s[2],16),c=parseInt(s[1],16)||0,o[14]=a,o[15]=c,n(u,o),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected")){e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function o(){r()}function s(){o();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=o,t.unsetGroupingHighlight=s,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(s(),"staff"===t)return void c();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t);for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}}document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setBgOpacityFromSlider=t.setOpacityFromSlider=t.setZoomControls=void 0;const i=n(15),r=n(6);let o,s;function a(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"):n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg");try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function c(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"):n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg");const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function l(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),o=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return o.textContent="Â - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),o.textContent="Â - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function u(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{l(e)})}function d(){document.body.removeEventListener("click",d),document.getElementById("highlight-dropdown").classList.remove("is-active")}function f(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",d),u("staff"),u("syllable"),u("neume"),u("layerElement"),u("none")):document.body.removeEventListener("click",d)})}function h(){const{highlightMode:e}=(0,r.getSettings)();l(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setOpacityFromSlider=a,t.setBgOpacityFromSlider=c,t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=u,t.setHighlightControls=f,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.loadHighlightSettings=h,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),a(e)}o=i,t.value=String(i),n.value=String(i);const c=document.getElementById("toggle-glyph-opacity");null==c||c.addEventListener("click",()=>{let i;c.classList.contains("hide-icon")?(c.classList.remove("hide-icon"),i=0):(c.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,s=Number(t.value),c(e)}s=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-bg-opacity");a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),s=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(t),f(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":l("staff");break;case"w":l("syllable");break;case"e":l("neume");break;case"r":l("layerElement");break;case"t":l("selection");break;case"y":l("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),h();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(7),r=n(31),o=n(28);var s,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.VALIDATION_STATUS=2]="VALIDATION_STATUS",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD"}(s=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{(0,o.updateSelectedBBox)(e,this.dragHandler,this.neonView)})})}this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case s.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case s.EDIT_TEXT:this.openEditSylTextModalWindow();break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case s.DOCUMENT_UPLOAD:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");default:document.getElementById("neon-modal-window-container").style.display="none",this.modalWindowView!==s.DOCUMENT_UPLOAD&&document.getElementById("container").focus()}document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED}setModalWindowContent(e){switch(this.modalWindowView){case s.EDIT_TEXT:document.getElementById("neon-modal-window-content-container").innerHTML=i.editTextModal,document.getElementById("neon-modal-window-header-title").innerText="EDIT SYLLABLE TEXT";const t=/\u{25CA}/u,n=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(t,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=n;break;case s.HOTKEYS:document.getElementById("neon-modal-window-content-container").innerHTML=i.hotkeysModal,document.getElementById("neon-modal-window-header-title").innerText="HOTKEYS";break;case s.VALIDATION_STATUS:document.getElementById("neon-modal-window-content-container").innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURIComponent(e)}" download="validation.log">\n              Export\n            </a>\n            </div>`,document.getElementById("neon-modal-window-header-title").innerText="ERROR LOG";break;case s.DOCUMENT_UPLOAD:document.getElementById("neon-modal-window-header-title").innerText="DOCUMENT UPLOAD",document.getElementById("neon-modal-window-content-container").innerHTML=r.uploadAreaHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(8),r=n(11),o=n(4),s=n(3);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);const t=Array.from(document.querySelectorAll(".selected"));this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,s.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,s.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,s.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){const t=document.querySelector("#displayBBox").checked?"use, rect":"use",n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:o,lrx:s,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,o+this.dy)||(0,r.isOutOfSVGBounds)(s+this.dx,a+this.dy)}}},,function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return o}));var r=new Uint8Array(16);function o(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(e);else if(o===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,o,s,a,c,l,u,d,f="";n=t.pop();)if(i=n.obj,f+=n.prefix||"",r=n.val||"")f+=r;else if("object"!=typeof i)f+=void 0===i?null:JSON.stringify(i);else if(null===i)f+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),o=i.length-1;o>=0;o--)s=0===o?"":",",t.push({obj:i[o],prefix:s});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),o=a.length-1;o>=0;o--)u=i[l=a[o]],d=o>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return f},t.parse=function(e){for(var t,n,r,o,s,a,c,l,u,d=[],f=[],h=0;;)if("}"!==(t=e[h++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":h+=3,i(null,d,f);break;case"t":h+=3,i(!0,d,f);break;case"f":h+=4,i(!1,d,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",h--;;){if(r=e[h++],!/[\d\.\-e\+]/.test(r)){h--;break}n+=r}i(parseFloat(n),d,f);break;case'"':for(o="",s=void 0,a=0;'"'!==(c=e[h++])||"\\"===s&&a%2==1;)o+=c,"\\"===(s=c)?a++:a=0;i(JSON.parse('"'+o+'"'),d,f);break;case"[":l={element:[],index:d.length},d.push(l.element),f.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),f.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,f)}}},function(e,t,n){"use strict";var i=n(20),r=n(9);t.a=function(e,t,n){var o=(e=e||{}).random||(e.rng||i.a)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,t){n=n||0;for(var s=0;s<16;++s)t[n+s]=o[s];return t}return Object(r.a)(o)}},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(7),r=n(32),o=n(4),s=n(3),a=n(13),c=n(13);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(s.sharedLogicalParent(e,t))return!1;default:return!!s.areAdjacent(e,t)}}function d(e){return 2===e.length&&(e[0].getAttribute("mei:follows")==="#"+e[1].id&&e[1].getAttribute("mei:precedes")==="#"+e[0].id||e[0].getAttribute("mei:precedes")==="#"+e[1].id&&e[1].getAttribute("mei:follows")==="#"+e[0].id)}function f(e,t){switch(t.length){case 2:if("selBySyllable"!==e)return!1;if(d([t[0],t[1]]))return!0;if(s.isMultiStaveSelection(t)){const e=t[0].closest(".staff"),n=t[1].closest(".staff"),i=Array.from(e.parentElement.children),r=i.indexOf(e)<i.indexOf(n)?e:n,o=r.id===e.id?n:e,s=r.querySelector(".layer"),a=o.querySelector(".layer"),c=Array.from(s.children).filter(e=>e.classList.contains("syllable")),l=Array.from(a.children).filter(e=>e.classList.contains("syllable")),u=c[c.length-1],d=l[0];if(u.id===t[0].id&&d.id===t[1].id)return!0;if(u.id===t[1].id&&d.id===t[0].id)return!0}default:return!1}return!1}function h(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(o.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):o.queueNotification("Merge Failed","error")})}function p(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",g)}function m(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",g);try{document.getElementById("mergeSyls").addEventListener("click",()=>{v("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{v("group","neume",b())})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{v("group","nc",b())})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{v("ungroup","neume",_())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{v("ungroup","nc",_())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:b()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Ligature Toggled","success"):o.queueNotification("Ligature Toggle Failed","error"),p(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{y()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.isLinked=d,t.isLinkable=f,t.mergeStaves=h,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],m()},t.endGroupingSelection=p,t.initGroupingListeners=m;const g=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=s.getSelectionType();switch(t){case"selBySyllable":if(f(t,e))y();else if(u(t,e)){v("group","neume",_().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){v("ungroup","neume",_())}break;case"selByNeume":if(u(t,e)){v("group","neume",b())}else{v("ungroup","nc",_())}break;case"selByNc":if(u(t,e)){v("group","nc",b())}else{v("ungroup","nc",_())}break;case"selByStaff":u(t,e)?h():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function v(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?o.queueNotification("Grouping Success","success"):o.queueNotification("Ungrouping Success","success"):"group"===e?o.queueNotification("Grouping Failed","error"):o.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}p()})}function y(){const e=b(),t={action:"chain",param:[]},n=new Array;if(document.getElementById(e[0]).getAttribute("mei:precedes"))n.push({action:"set",param:{elementId:e[0],attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"follows",attrValue:""}}),n.push({action:"setText",param:{elementId:e[1],text:""}});else if(document.getElementById(e[0]).getAttribute("mei:follows"))n.push({action:"set",param:{elementId:e[0],attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"precedes",attrValue:""}}),n.push({action:"setText",param:{elementId:e[0],text:""}});else{const t=document.getElementById(e[0]),i=document.getElementById(e[1]),r=t.closest(".staff"),o=i.closest(".staff"),s=Array.from(r.parentElement.children).filter(e=>e.classList.contains("staff"));let a,c;s.indexOf(r)<s.indexOf(o)?(a=t,c=i):(a=i,c=t),n.push({action:"set",param:{elementId:a.id,attrType:"precedes",attrValue:"#"+c.id}}),n.push({action:"set",param:{elementId:c.id,attrType:"follows",attrValue:"#"+a.id}});const l=c.querySelector(".syl");null!==l&&n.push({action:"remove",param:{elementId:l.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?o.queueNotification("Toggled Syllable Link"):o.queueNotification("Failed to Toggle Syllable Link"),p(),l.updateForCurrentPage()})}function b(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function _(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(3),r=n(8),o=n(11),s=n(4),a={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function c(e,t,n,i,r){let o;if(r>=0)o=[{x:e,y:t,name:a.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:a.Top},{x:n,y:t+(n-e)*Math.sin(r),name:a.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:a.Right},{x:n,y:i,name:a.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:a.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:a.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:a.Left}];else{const s=(n-e)*Math.tan(Math.abs(r)),c=i-t-s;o=[{x:e,y:t+s,name:a.TopLeft},{x:(e+n)/2,y:t+s/2,name:a.Top},{x:n,y:t,name:a.TopRight},{x:n,y:t+c/2,name:a.Right},{x:n,y:t+c,name:a.BottomRight},{x:(e+n)/2,y:i-s/2,name:a.Bottom},{x:e,y:i,name:a.BottomLeft},{x:e,y:i-c/2,name:a.Left}]}return o}t.resize=function(e,t,n){let l,u,d,f,h,p,m,g,v,y,b,_,w,k,E;function S(){const e=c(l,u,d,f,h),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(l,d))),n.setAttribute("y",String(Math.min(u,f))),n.setAttribute("width",String(Math.abs(d-l))),n.setAttribute("height",String(Math.abs(f-u))));for(const t in a){const n=e[a[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,o=e[3].y;const s=i+100+","+(o+85)+" "+(i+70)+","+(o+50)+" "+(i+100)+","+(o+15)+" "+(i+130)+","+(o+50);i=e[7].x,o=e[7].y;const p=i-100+","+(o-15)+" "+(i-130)+","+(o-50)+" "+(i-100)+","+(o-85)+" "+(i-70)+","+(o-50);r.select("#rotateLeft").attr("points",p),r.select("#rotateRight").attr("points",s)}!function L(){if(null===e)return;if(e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");l=Number(t.getAttribute("x")),u=Number(t.getAttribute("y")),d=+l+ +t.getAttribute("width"),f=+u+ +t.getAttribute("height"),h=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);l=t.ulx,u=t.uly,d=t.lrx,f=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));h=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let A;p=l,v=u,m=d,y=f;const x=c(l,u,d,f,h);w=x[2].x-x[0].x;const C=x.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",C).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");for(const t in a){const n=x[a[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",25).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in a)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{B(e)}).on("drag",q).on("end",I.bind(this)));if(e.classList.contains("staff")){let t=x[3].x,n=x[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=x[7].x,n=x[7].y;const o=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",o).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",O).on("drag",(function(){const e=r.mouse(this)[1]-b,t=E-Math.atan(e/w);t>-.2&&t<.2&&(k=e,u=_+k,h=t,h>=0?(u=k+x.filter(e=>e.name===a.TopLeft)[0].y,f=x.filter(e=>e.name===a.BottomRight)[0].y):(u=x.filter(e=>e.name===a.TopRight)[0].y,f=k+x.filter(e=>e.name===a.BottomLeft)[0].y));S()})).on("end",N)),r.select("#rotateRight").call(r.drag().on("start",O).on("drag",(function(){const e=r.mouse(this)[1]-b,t=E+Math.atan(e/w);t>-.2&&t<.2&&(k=e,h=t,h>=0?(f=k+x.filter(e=>e.name===a.BottomRight)[0].y,u=x.filter(e=>e.name===a.TopLeft)[0].y):(u=k+x.filter(e=>e.name===a.TopRight)[0].y,f=x.filter(e=>e.name===a.BottomLeft)[0].y));S()})).on("end",N))}function B(e){A=e;const t=x.find(t=>t.name===a[e]);g=[t.x,t.y],v=u,y=f}function q(){const e=r.mouse(this);switch(a[A]){case a.TopLeft:l=e[0],u=e[1];break;case a.Top:u=e[1]-(d-l)*Math.tan(h)/2;break;case a.TopRight:d=e[0],u=e[1]-(d-l)*Math.tan(h);break;case a.Right:d=e[0],f=y+(e[0]-g[0])*Math.tan(h);break;case a.BottomRight:d=e[0],f=e[1];break;case a.Bottom:f=e[1]+(d-l)*Math.tan(h)/2;break;case a.BottomLeft:l=e[0],f=e[1]+(d-l)*Math.tan(h);break;case a.Left:l=e[0],u=v+(e[0]-g[0])*Math.tan(h);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}S()}function I(){if((0,o.isOutOfSVGBounds)(l,u)||(0,o.isOutOfSVGBounds)(d,f))return l=p,u=v,d=m,f=y,S(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const a={action:"resize",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:f}};t.edit(a,t.view.getCurrentPageURI()).then(async o=>{if(o&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),l=void 0,u=void 0,d=void 0,f=void 0,r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),L(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectStaff)(document.querySelector("#"+e.id),n);const t=document.querySelector("moreEdit");t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}})}function O(){const e=r.event.sourceEvent.target.id;b=r.mouse(this)[1],y=f,v=u,_="rotateRight"===e?f:u,E=h}function N(){if(void 0===k&&(k=0),(0,o.isOutOfSVGBounds)(l,u)||(0,o.isOutOfSVGBounds)(d,f))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,f=void 0,k=void 0,L(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:f,rotate:180*h/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,f=void 0,k=void 0,L(),(0,i.selectAll)([e],t,n),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(3),r=n(25),o=n(8),s=n(11);let a,c,l,u,d=7;function f(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function h(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function p(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if("ArrowLeft"===e.key&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if("ArrowRight"===e.key&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}}function m(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function g(e){e.stopPropagation()}function v(e,t,n){if(m()||"use"===e.tagName){const r=function(e){if(m()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),o=i.children[r-1].children[0];console.assert(o.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===o.closest(".selected")&&e.unshift(o)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),o=n.children[i+1].children[0];console.assert(o.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===o.closest(".selected")&&e.push(o)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,s.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",p),document.body.addEventListener("keydown",p),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",g),e.addEventListener("click",g)})},t.dragSelect=function(e){let t=0,n=0,r=!1,s=!1;const l=o.select(e);o.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const f=o.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==o.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==o.event.sourceEvent.target.nodeName){if(o.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(h=o.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,o=t.lrx,s=t.lry,a=t.rotate;return h[0]>n&&h[0]<o&&h[1]>r+(h[0]-n)*Math.tan(a)&&h[1]<s-(o-h[0])*Math.tan(a)}).length)){(0,i.unselect)(),s=!0;const e=o.mouse(this);t=e[0],n=e[1],a=t,f=n,l.append("rect").attr("x",a).attr("y",f).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else o.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,f,h})).on("drag",(function(){if(!r&&s){const e=o.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){o.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&s){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),f=l.node();let h=new DOMPoint(n,r),p=new DOMPoint(u,d);const g=f.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();h=h.matrixTransform(g),p=p.matrixTransform(g);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):m()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>v(e,h,p));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),o.selectAll("#selectRect").remove(),s=!1}r=!1}));l.call(f),a&&a.resetTo(f)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(7),r=n(6);function o(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:o}=(0,r.getSettings)();o&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),s()}function s(){const e=document.querySelector("#error_log"),t=document.querySelector("#display-single-container"),n=document.createElement("label"),i=document.createElement("input");i.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Errors",i.id="display-errors",i.type="checkbox",i.checked=!1,n.appendChild(i),t.append(n);const{displayErrLog:o}=(0,r.getSettings)();o&&(i.checked=!0),i.addEventListener("click",()=>{const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),o=document.getElementById("displayBBox"),s=document.getElementById("displayText"),a=document.getElementById("display-errors");i.checked?(e.classList.add("visible"),(0,r.setSettings)({displayErrLog:!0}),(null==n?void 0:n.checked)&&(null==o?void 0:o.checked)&&(null==s?void 0:s.checked)&&(null==a?void 0:a.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.classList.remove("visible"),(0,r.setSettings)({displayErrLog:!1}),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))})}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(function(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n    <div class="notification-wrapper">\n\n      <div>\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n    </div>\n\n    <div class="remove-notif-icon-wrapper">\n      <img class="log-remove remove-notif-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg">\n    </div>\n  `;const n=t.querySelector(".log-remove");return n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),t}(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,o()},t.initErrorLogControls=o,t.initDisplayListener=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelectedBBox=void 0;const i=n(3),r=n(18),o=n(26),s=n(15),a=n(17);function c(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)();try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,s.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}function l(e,t,n){(0,i.unselect)();const r=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(r)){const e=document.getElementById(r).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,t,n)}}t.updateSelectedBBox=l;t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}updateSelectedBBox(e){(0,i.unselect)();const t=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(t)){const e=document.getElementById(t).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,this.dragHandler,this.neonView)}}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow(),l(e,this.dragHandler,this.neonView)}e.removeEventListener("click",n),e.addEventListener("click",n)})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",c.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&c.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,o.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,o.clickSelect)("#mei_output, #mei_output rect"),(0,o.dragSelect)("#svg_group")):((0,o.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,o.dragSelect)(".active-page svg"))))}}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,o=n(2),s=n.n(o),a=n(22),c=n(14),l=n.n(c),u=n(21),d=n.n(u),f=n(5),h=n.n(f),p=n(1),m=n.n(p),g=n(0),v=n.n(g);function y(e){return"$"+e}function b(e){return e.substring(1)}function _(){this._store={}}function w(e){if(this._store=new _,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function k(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}_.prototype.get=function(e){var t=y(e);return this._store[t]},_.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},_.prototype.has=function(e){return y(e)in this._store},_.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},_.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},_.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(_.prototype,"size",{get:function(){return Object.keys(this._store).length}}),w.prototype.add=function(e){return this._store.set(e,!0)},w.prototype.has=function(e){return this._store.has(e)},w.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(w.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=w,r=_):(i=Set,r=Map);var E=Function.prototype.toString,S=E.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return k(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&E.call(n)==S}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function A(e){var t=!1;return h()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function x(e){return h()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var o;try{var s=A((function(e,t){e?r(e):i(t)}));t.push(s),(o=e.apply(n,t))&&"function"==typeof o.then&&i(o)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return x(h()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),o(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(o){o?r(o):t(i[e].apply(i,n))}))}))})))}function B(e,t){for(var n={},i=0,r=t.length;i<r;i++){var o=t[i];o in e&&(n[o]=e[o])}return n}var q;function I(e){return e}function O(e){return[{ok:e}]}function N(e,t,n){var i=t.docs,o=new r;i.forEach((function(e){o.has(e.id)?o.get(e.id).push(e):o.set(e.id,[e])}));var s=o.size,a=0,c=new Array(s);function l(){var e;++a===s&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];o.forEach((function(e,t){u.push(t)}));var d=0;function f(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var s=i+r,a=o.get(n),u=B(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(I);var d=I;0===u.open_revs.length&&(delete u.open_revs,d=O),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,o;i=e?[{error:e}]:d(t),r=n,o=i,c[s]={id:r,docs:o},l(),f()}))}))}(i,d),d+=i.length}}f()}try{localStorage.setItem("_pouch_check_localstorage",1),q=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){q=!1}function T(){return q}function P(){v.a.call(this),this._listeners={},function(e){T()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function j(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function M(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function D(e,t){j("info","The above "+e+" is totally normal. "+t)}m()(P,v.a),P.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,o=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(o)o="waiting";else{o=!0;var e=B(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===o&&s()(a),o=!1})).on("error",(function(){o=!1}))}}},P.prototype.removeListener=function(e,t){t in this._listeners&&(v.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},P.prototype.notifyLocalWindows=function(e){T()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},P.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var R="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function F(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}m()(F,Error),F.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new F(401,"unauthorized","Name or password is incorrect.");var U=new F(400,"bad_request","Missing JSON list of 'docs'"),V=new F(404,"not_found","missing"),$=new F(409,"conflict","Document update conflict"),H=new F(400,"bad_request","_id field must contain a string"),z=new F(412,"missing_id","_id is required for puts"),G=new F(400,"bad_request","Only reserved document ids may start with underscore."),K=(new F(412,"precondition_failed","Database not open"),new F(500,"unknown_error","Database encountered an unknown error")),W=new F(500,"badarg","Some query argument is invalid"),J=(new F(400,"invalid_request","Request was invalid"),new F(400,"query_parse_error","Some query parameter is invalid")),X=new F(500,"doc_validation","Bad special document member"),Y=new F(400,"bad_request","Something wrong with the request"),Q=new F(400,"bad_request","Document must be a JSON object"),Z=(new F(404,"not_found","Database not found"),new F(500,"indexed_db_went_bad","unknown")),ee=(new F(500,"web_sql_went_bad","unknown"),new F(500,"levelDB_went_went_bad","unknown"),new F(403,"forbidden","Forbidden by design doc validate_doc_update function"),new F(400,"bad_request","Invalid rev format")),te=(new F(412,"file_exists","The database could not be created, the file already exists."),new F(412,"missing_stub","A pre-existing attachment stub wasn't found"));new F(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=F.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=K).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(Y,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var o in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function oe(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function se(e){var t;if(e?"string"!=typeof e?t=ne(H):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(G)):t=ne(z),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(j("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,fe=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function he(e){for(var t=fe.exec(e),n={},i=14;i--;){var r=ue[i],o=t[i]||"",s=-1!==["user","password"].indexOf(r);n[r]=s?decodeURIComponent(o):o}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function pe(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function me(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,o=n(i);return o?(o._id=t,o._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return me(e,t._id,n)}))}(e,o,n)):{updated:!1,rev:r}}))}var ge=function(e){return atob(e)},ve=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function _e(e,t){return ye([be(e)],{type:t})}function we(e,t){return _e(ge(e),t)}function ke(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Ee(e,t){ke(e,(function(e){t(e)}))}function Se(e,t){Ee(e,(function(e){t(ve(e))}))}var Le=self.setImmediate||self.setTimeout;function Ae(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function xe(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),o=Math.ceil(i/r),s=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?xe:Ae;function u(){Le(f)}function d(){var e=function(e){return ve(e)}(a.end(!0));t(e),a.destroy()}function f(){var t=s*r,n=t+r;s++,c(a,e,t,n,s<o?u:d)}f()}function Be(e){return l.a.hash(e)}function qe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=R({},e);return delete n._rev_tree,Be(JSON.stringify(n))}var Ie=a.a;function Oe(e){for(var t,n,i,r,o=e.rev_tree.slice();r=o.pop();){var s=r.ids,a=s[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)o.push({pos:c+1,ids:a[l]});else{var d=!!s[1].deleted,f=s[0];t&&!(i!==d?i:n!==c?n<c:t<f)||(t=f,n=c,i=d)}}return n+"-"+t}function Ne(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,o=n.ids,s=o[2],a=t(0===s.length,r,o[0],n.ctx,o[1]),c=0,l=s.length;c<l;c++)i.push({pos:r+1,ids:s[c],ctx:a})}function Te(e,t){return e.pos-t.pos}function Pe(e){var t=[];Ne(e,(function(e,n,i,r,o){e&&t.push({rev:n+"-"+i,pos:n,opts:o})})),t.sort(Te).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function je(e){for(var t=Oe(e),n=Pe(e.rev_tree),i=[],r=0,o=n.length;r<o;r++){var s=n[r];s.rev===t||s.opts.deleted||i.push(s.rev)}return i}function Me(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,o=t.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:s,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,f=c.length;d<f;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function De(e,t){return e.pos-t.pos}function Re(e,t,n){var i=function(e,t,n){for(var i,r=0,o=e.length;r<o;)n(e[i=r+o>>>1],t)<0?r=i+1:o=i;return r}(e,t,n);e.splice(i,0,t)}function Fe(e,t){for(var n,i,r=t,o=e.length;r<o;r++){var s=e[r],a=[s.id,s.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ue(e,t){return e[0]<t[0]?-1:1}function Ve(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),o=r.tree1,s=r.tree2;(o[1].status||s[1].status)&&(o[1].status="available"===o[1].status||"available"===s[1].status?"available":"missing");for(var a=0;a<s[2].length;a++)if(o[2][0]){for(var c=!1,l=0;l<o[2].length;l++)o[2][l][0]===s[2][a][0]&&(n.push({tree1:o[2][l],tree2:s[2][a]}),c=!0);c||(i="new_branch",Re(o[2],s[2][a],Ue))}else i="new_leaf",o[2][0]=s[2][a]}return{conflicts:i,tree:e}}function $e(e,t,n){var i,r=[],o=!1,s=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=Ve(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),o=o||i.conflicts,s=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,f=d.pos-u.pos,h=[],p=[];for(p.push({ids:u.ids,diff:f,parent:null,parentIdx:null});p.length>0;){var m=p.pop();if(0!==m.diff)for(var g=m.ids[2],v=0,y=g.length;v<y;v++)p.push({ids:g[v],diff:m.diff-1,parent:m.ids,parentIdx:v});else m.ids[0]===d.ids[0]&&h.push(m)}var b=h[0];b?(i=Ve(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),o=o||i.conflicts,s=!0):r.push(l)}else r.push(l)}return s||r.push(t),r.sort(De),{tree:r,conflicts:o||"internal_node"}}function He(e,t,n){var i=$e(e,t),r=function(e,t){for(var n,i,r=Me(e),o=0,s=r.length;o<s;o++){var a,c=r[o],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Fe(l,u)};for(var d=0;d<u;d++){var f=c.pos+d+"-"+l[d].id;n[f]=!0}}else a={pos:c.pos,ids:Fe(l,0)};i=i?$e(i,a,!0).tree:[a]}return n&&Ne(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function ze(e){return e.ids}function Ge(e,t){t||(t=Oe(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map(ze);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ke(e){return/^_local/.test(e)}function We(e,t,n){v.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=A((function(t,n){var r,s;t?(s="error",("listenerCount"in(r=i)?r.listenerCount(s):v.a.listenerCount(r,s))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",o)}));function o(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",o),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){j("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var s=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",o),t.complete(null,{status:"cancelled"})})),this.then=s.then.bind(s),this.catch=s.catch.bind(s),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Je(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Pe(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ge(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=je(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Xe(e,t){return e<t?-1:e>t?1:0}function Ye(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Qe(e,t){var n=Xe(e._id,t._id);return 0!==n?n:Xe(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Ze(){for(var e in v.a.call(this),Ze.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,o=tt.prefix,s=t.adapter;if(!s)for(var a=0;a<r.length&&("idb"===(s=r[a])&&"websql"in i&&T()&&localStorage["_pouch__websqldb_"+o+e]);++a)j("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[s];return{name:!c||!("use_prefix"in c)||c.use_prefix?o+e:e,adapter:s}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Ze.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}m()(We,v.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Je,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&j("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=h()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},m()(Ze,v.a),Ze.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));this.bulkDocs({docs:[e]},t,Ye(n,e._id))})),Ze.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(Q));if(se(e._id),Ke(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,o,s,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Ye(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],o=parseInt(i[0],10)+1,s=qe(),e._revisions={start:o,ids:[s,r]},e._rev=o+"-"+s,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Ze.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var o=this;function s(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},o.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||j("warn","Attachment",t,"on document",e,"is missing content_type"),o.get(e).then((function(e){if(e._rev!==n)throw ne($);return s(e)}),(function(t){if(t.reason===V.message)return s({_id:e});throw t}))})),Ze.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,o){if(e)i(e);else if(o._rev===n){if(!o._attachments)return i();delete o._attachments[t],0===Object.keys(o._attachments).length&&delete o._attachments,r.put(o,i)}else i(ne($))}))})),Ze.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ke(o._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[o]},n,Ye(i,o._id))})),Ze.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var o=0,s=new r;function a(e,t){s.has(e)||s.set(e,{missing:[]}),s.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)s.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Ne(n,(function(e,n,r,o,s){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==s.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++o===i.length){var l={};return s.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Ze.prototype.bulkGet=C("bulkGet",(function(e,t){N(this,e,t)})),Ze.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,o){if(r)return n(r);var s=function(e){var t={},n=[];return Ne(e,(function(e,i,r,o){var s=i+"-"+r;return e&&(t[s]=0),void 0!==o&&n.push({from:o,to:s}),s})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(o),a=[],c=[];Object.keys(s).forEach((function(e){s[e]>t&&a.push(e)})),Ne(o,(function(e,t,n,i,r){var o=t+"-"+n;"available"===r.status&&-1!==a.indexOf(o)&&c.push(o)})),i._doCompaction(e,c,n)}))})),Ze.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),s()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Ze.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return me(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Ze.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(H));if(Ke(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function o(){var o=[],s=i.length;if(!s)return n(null,o);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)o.push({missing:i});else{for(var r,a=0,c=o.length;a<c;a++)if(o[a].ok&&o[a].ok._rev===t._rev){r=!0;break}r||o.push({ok:t})}--s||n(null,o)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,o){if(i)return i.docId=e,n(i);var s=o.doc,a=o.metadata,c=o.ctx;if(t.conflicts){var l=je(a);l.length&&(s._conflicts=l)}if(Ge(a,s._rev)&&(s._deleted=!0),t.revs||t.revs_info){for(var u=s._rev.split("-"),d=parseInt(u[0],10),f=u[1],h=Me(a.rev_tree),p=null,m=0;m<h.length;m++){var g=h[m],v=g.ids.map((function(e){return e.id})).indexOf(f);(v===d-1||!p&&-1!==v)&&(p=g)}if(!p)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=p.ids.map((function(e){return e.id})).indexOf(s._rev.split("-")[1])+1,b=p.ids.length-y;if(p.ids.splice(y,b),p.ids.reverse(),t.revs&&(s._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var _=p.pos+p.ids.length;s._revs_info=p.ids.map((function(e){return{rev:--_+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&s._attachments){var w=s._attachments,k=Object.keys(w).length;if(0===k)return n(null,s);Object.keys(w).forEach((function(e){this._getAttachment(s._id,e,w[e],{rev:s._rev,binary:t.binary,ctx:c},(function(t,i){var r=s._attachments[e];r.data=i,delete r.stub,delete r.length,--k||n(null,s)}))}),r)}else{if(s._attachments)for(var E in s._attachments)Object.prototype.hasOwnProperty.call(s._attachments,E)&&(s._attachments[E].stub=!0);n(null,s)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Pe(t).map((function(e){return e.rev})),o()}));else{if(!Array.isArray(t.open_revs))return n(ne(K,"function_clause"));i=t.open_revs;for(var s=0;s<i.length;s++){var a=i[s];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}o()}})),Ze.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(o,s){return o?i(o):s.doc._attachments&&s.doc._attachments[t]?(n.ctx=s.ctx,n.binary=!0,void r._getAttachment(e,t,s.doc._attachments[t],n,i)):i(ne(V))}))})),Ze.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(J,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Ze.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Ze.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Ze.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Ze.prototype.id=C("id",(function(e){return this._id(e)})),Ze.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Ze.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(U));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(Q));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||j("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(Y,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var o=this;t.new_edits||ae(o)||e.docs.sort(Qe),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=B(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var s=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(o))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||s[r];n(null,i)}))})),Ze.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);me(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Ze.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,o){if(e)return 404!==e.status?t(e):r();var s=o.dependentDbs,a=n.constructor,c=Object.keys(s).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},m()(tt,Ze);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var ot=new v.a;!function(e){Object.keys(v.a.prototype).forEach((function(t){"function"==typeof v.a.prototype[t]&&(e[t]=ot[t].bind(ot))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=R({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=R({},t.__defaults,n),tt.call(this,e,n)}return m()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=R({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function st(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var o=e[i];i>0&&"\\"===e[i-1]&&("$"===o||"."===o)?n=n.substring(0,n.length-1)+o:"."===o?(t.push(n),n=""):n+=o}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var o=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),s=dt([e,n]);Object.keys(s).length<=i||o.push(s)}))})),t[i]=o}else t[i]=dt([r]);else{var s=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,s):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,s):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,s):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,s):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,s):void(s[e]=t)}))}}))})),t}function ft(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var o=i[r],s=t[o];"object"!=typeof s||null===s?s={$eq:s}:n||("$ne"in s&&(s.$ne=[s.$ne]),"$regex"in s&&(s.$regex=[s.$regex])),t[o]=s}return t}function ht(e,t){if(e===t)return 0;e=pt(e),t=pt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ht(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),o=0;o<r;o++){var s=ht(n[o],i[o]);if(0!==s)return s;if(0!==(s=ht(e[n[o]],t[i[o]])))return s}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function pt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=pt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var o=t[r];void 0!==o&&(e[r]=pt(o))}}}return e}function mt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",o=(s=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(s,a,c)+s);var s,a,c;r+=""+o;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,o="";if(t)for(;++i<r;)o+=gt(n[i]);else for(;++i<r;){var s=n[i];o+=gt(s)+gt(e[s])}return o}return""}function gt(e){return bt(e=pt(e))+""+mt(e)+"\0"}function vt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var o="",s=e.substring(t,t+3),a=parseInt(s,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;o+=c,t++}n=1===(o=o.split(".")).length?parseInt(o,10):parseFloat(o[0]+"."+o[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function _t(e,t,n){if(e=e.filter((function(e){return wt(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return st(t,n)}))}return function(e,n){var i,r,o=ht(t(e.doc),t(n.doc));return 0!==o?o:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var o=t.skip||0,s=("limit"in t?t.limit:e.length)+o;e=e.slice(o,s)}return e}function wt(e,t,n){return n.every((function(n){var i=t[n],r=at(n),o=st(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return wt(n,e,Object.keys(e))}));if("$not"===e)return!wt(n,t,Object.keys(t));return!t.find((function(e){return wt(n,e,Object.keys(e))}))}(n,i,e):kt(i,e,r,o)}))}function kt(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var o=e[r];if(0===r.indexOf("$"))return Et(r,t,o,n,i);var s=at(r);if(void 0===i&&"object"!=typeof o&&s.length>0)return!1;var a=st(i,s);return"object"==typeof o?kt(o,t,n,a):Et("$eq",t,o,s,a)})):e===i)}function Et(e,t,n,i,r){if(!xt[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return xt[e](t,n,i,r)}function St(e){return null!=e}function Lt(e){return void 0!==e}function At(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ht(t,e)})):0===ht(t,e)}))}var xt={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return wt(e,t,Object.keys(t))})):i.some((function(i){return kt(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return wt(e,t,Object.keys(t))})):i.every((function(i){return kt(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ht(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ht(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ht(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ht(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ht(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return St(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ht(i,e)}))},$in:function(e,t,n,i){return St(i)&&At(i,t)},$nin:function(e,t,n,i){return St(i)&&!At(i,t)},$size:function(e,t,n,i){return St(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ht(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return St(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function Bt(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function qt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function It(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(Y,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,o){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!s)return n(ne(V,o.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=pe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+s+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=_t([{doc:e}],{selector:t=ft(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var o=ce(t.filter);e.db.get("_design/"+o[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var s=r&&r.filters&&r.filters[o[1]];if(!s)return n(ne(V,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"));t.filter=pe('"use strict";\nreturn '+s+";",{}),e.doChanges(t)}))}}function Ot(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:Bt,shouldFilter:qt,filter:It}})),tt.version="7.3.0";var Nt=Ot(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Tt=Ot(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Pt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function jt(e,t,n){var i,r,o;n||(n={deterministic_revs:!0});var s={status:"available"};if(e._deleted&&(s.deleted=!0),t)if(e._id||(e._id=Ie()),r=qe(e,n.deterministic_revs),e._rev){if((o=Pt(e._rev)).error)return o;e._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,s,[]]]]}],i=o.prefix+1}else e._rev_tree=[{pos:1,ids:[r,s,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],o=1,s=i.length;o<s;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,s),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((o=Pt(e._rev)).error)return o;i=o.prefix,r=o.id,e._rev_tree=[{pos:i,ids:[r,s,[]]}]}se(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Nt[c]){var u=ne(X,c);throw u.message=X.message+": "+c,u}l&&!Tt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function Mt(e,t,n){var i=function(e){try{return ge(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?_e(i,e.content_type):"base64"===t?ve(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Dt(e,t,n){if(e.stub)return n();"string"==typeof e.data?Mt(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Ee(e.data,(function(t){e.data=t,n()})):"base64"===t?Se(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Rt(e,t,n,i,r,o,s,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),o=parseInt(r[0],10),s=r[1];n=i.pop();){if(n.pos===o&&n.ids[0]===s)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,o();var c=t.winningRev||Oe(t),l="deleted"in t?t.deleted:Ge(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ge(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var f=n.data;f._rev=c,f._id=n.metadata.id,n=jt(f,a)}var h=He(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==h.conflicts||!l&&"new_leaf"!==h.conflicts||l&&!u&&"new_branch"===h.conflicts)){var p=ne($);return i[r]=p,o()}var m=n.metadata.rev;n.metadata.rev_tree=h.tree,n.stemmedRevs=h.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var g=Oe(n.metadata),v=Ge(n.metadata,g),y=l===v?0:l<v?-1:1;s(n,g,v,m===g?v:Ge(n.metadata,m),!0,y,r,o)}function Ft(e,t,n,i,o,s,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,f=0,h=t.length;function p(){++f===h&&l&&l()}t.forEach((function(e,t){if(e._id&&Ke(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:o},(function(e,n){s[t]=e||n,p()}))}else{var r=e.metadata.id;d.has(r)?(h--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function o(){++r<t.length?l():p()}function l(){var l=t[r],d=l[0],f=l[1];if(i.has(n))Rt(e,i.get(n),d,s,f,o,a,u);else{var h=He([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=h.tree,d.stemmedRevs=h.stemmedRevs||[],function(e,t,n){var i=Oe(e.metadata),r=Ge(e.metadata,i);if("was_delete"in c&&r)return s[t]=ne(V,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var o=ne($);return s[t]=o,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,f,o)}}l()}))}var Ut="document-store",Vt="meta-store";function $t(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ht(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Z,n,t.type))}}function zt(e,t,n){return{data:$t(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Gt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Kt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:we(e,t):ye([""],{type:t})):e?"string"!=typeof e?ke(e,(function(e){i(ve(e))})):i(e):i("")}function Jt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var o=0;function s(){++o===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,s()}}(e,i):(e._attachments[i].stub=!0,s())}))}function Xt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new Promise((function(s){Wt(r,o,t,(function(t){e.doc._attachments[n]=R(B(i,["digest","content_type"]),{data:t}),s()}))}))}})))}})))}function Yt(e,t,n){var i=[],r=n.objectStore("by-sequence"),o=n.objectStore("attach-store"),s=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){s.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::ï¿¿",!1,!1)).onsuccess=function(t){t.target.result||o.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),o=t+"::"+e;n.getKey(o).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),s.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),s.delete(t.primaryKey),t.continue()}else c()}}}))}function Qt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Zt=new P;function en(e,t,n,i,o,s){for(var a,c,l,u,d,f,h,p,m=t.docs,g=0,v=m.length;g<v;g++){var y=m[g];y._id&&Ke(y._id)||(y=m[g]=jt(y,n.new_edits,e)).error&&!h&&(h=y)}if(h)return s(h);var b=!1,_=0,w=new Array(m.length),k=new r,E=!1,S=i._meta.blobSupport?"blob":"base64";function L(){b=!0,A()}function A(){p&&b&&(p.docCount+=_,f.put(p))}function x(){E||(Zt.notify(i._meta.name),s(null,w))}function C(e,t,n,i,r,o,s,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,o){var s=e.data,a=0,c=Object.keys(s._attachments);function l(){a===c.length&&B(e,t,n,i,r,o)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,s,a);_+=o,A(),B(e,t,n,r,s,a)}function B(e,t,n,r,o,s){var u=e.data,f=e.metadata;function h(o){var s=e.stemmedRevs||[];r&&i.auto_compaction&&(s=s.concat(function(e){var t=[];return Ne(e.rev_tree,(function(e,n,i,r,o){"available"!==o.status||e||(t.push(n+"-"+i),o.status="missing")})),t}(e.metadata))),s&&s.length&&Yt(s,e.metadata.id,a),f.seq=o.target.result;var l=zt(f,t,n);c.put(l).onsuccess=p}function p(){w[o]={ok:!0,id:f.id,rev:f.rev},k.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function o(){++i===r.length&&n()}function s(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=o,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),o()}}for(var a=0;a<r.length;a++)s(r[a])}(e,f.seq,s)}u._doc_id_rev=f.id+"::"+f.rev,delete u._id,delete u._rev;var m=l.put(u);m.onsuccess=h,m.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=h}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function o(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return o();function s(e){i=e,++r===n.length&&o()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Dt(e.data._attachments[a],t,s)}))}(m,S,(function(t){if(t)return s(t);!function(){var t=Qt(o,[Ut,"by-sequence","attach-store","local-store","attach-seq-store",Vt],"readwrite");if(t.error)return s(t.error);(a=t.txn).onabort=Ht(s),a.ontimeout=Ht(s),a.oncomplete=x,c=a.objectStore(Ut),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(f=a.objectStore(Vt)).get(Vt).onsuccess=function(e){p=e.target.result,A()},function(e){var t=[];if(m.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return E=!0,s(t);!function(){if(!m.length)return;var t=0;function r(){++t===m.length&&Ft(e.revs_limit,m,i,k,a,w,C,n,L)}function o(e){var t=Gt(e.target.result);t&&k.set(t.id,t),r()}for(var s=0,l=m.length;s<l;s++){var u=m[s];if(u._id&&Ke(u._id))r();else c.get(u.metadata.id).onsuccess=o}}()}))}()}))}function tn(e,t,n,i,r){var o,s,a;function c(e){s=e.target.result,o&&r(o,s,a)}function l(e){o=e.target.result,s&&r(o,s,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!o.length)return r();var n,a=o[o.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,o=null,s=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,o="startkey"in e&&e.startkey,s="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(o,s,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Z,r.name,r.message));var f=[Ut,"by-sequence",Vt];e.attachments&&f.push("attach-store");var h=Qt(t,f,"readonly");if(h.error)return n(h.error);var p=h.txn;p.oncomplete=function(){e.attachments?Xt(k,e.binary).then(A):A()},p.onabort=Ht(n);var m,g,v,y=p.objectStore(Ut),b=p.objectStore("by-sequence"),_=p.objectStore(Vt),w=b.index("_doc_id_rev"),k=[];function E(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(k.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(k.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;w.get(r).onsuccess=function(i){if(n.doc=Kt(i.target.result)||{},e.conflicts){var r=je(t);r.length&&(n.doc._conflicts=r)}Jt(n.doc,e,p)}}(n,i,t))}function S(e){for(var t=0,n=e.length;t<n&&k.length!==u;t++){var i=e[t];if(i.error&&c)k.push(i);else{var r=Gt(i);E(r.winningRev,r)}}}function L(e,t,n){n&&(S(t),k.length<u&&n.continue())}function A(){var t={total_rows:m,offset:e.skip,rows:k};e.update_seq&&void 0!==g&&(t.update_seq=g),n(null,t)}return _.get(Vt).onsuccess=function(e){m=e.target.result.docCount},e.update_seq&&(v=function(e){e.target.result&&e.target.result.length>0&&(g=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),v({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(o,s){t.get(o).onsuccess=function(t){t.target.result?i[s]=t.target.result:i[s]={key:o,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),S(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,on=[];function sn(){!rn&&on.length&&(rn=!0,on.shift()())}function an(e,t,n,o){if((e=L(e)).continuous){var s=n+":"+Ie();return Zt.addListener(n,s,t,e),Zt.notify(n),{cancel:function(){Zt.removeListener(n,s)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,f,h,p=[],m=0,g=re(e),v=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;h.get(r).onsuccess=function(e){i(n,Kt(e.target.result))}}function b(){e.complete(null,{results:p,last_seq:c})}var _=[Ut,"by-sequence"];e.attachments&&_.push("attach-store");var w=Qt(o,_,"readonly");if(w.error)return e.complete(w.error);(u=w.txn).onabort=Ht(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Xt(p).then(b):b()},d=u.objectStore("by-sequence"),f=u.objectStore(Ut),h=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),o=new Array(t.length),s=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=v.get(e._id);if(i)return y(e,t,i,n);f.get(e._id).onsuccess=function(r){i=Gt(r.target.result),v.set(e._id,i),y(e,t,i,n)}}(Kt(n),t[c],(function(n,a){o[c]=n,r[c]=a,++s===t.length&&function(){for(var t=[],n=0,s=r.length;n<s&&m!==l;n++){var a=r[n];if(a){var c=o[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),m!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=g(i);return"object"==typeof r?Promise.reject(r):r?(m++,e.return_docs&&p.push(i),e.attachments&&e.include_docs?new Promise((function(t){Jt(n,e,u,(function(){Xt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){on.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,s()((function(){sn()}))}))})),sn()}((function(t){!function(e,t,n){var i=t.name,r=null,o=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&o&&(t.reason=o),e(t,n)}}function c(e,t){var n=e.objectStore(Ut);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,o=Ge(r);r.deletedOrLocal=o?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Ut),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var o=e.target.result;if(o){var s=o.value,a=s.id,c=Ke(a),l=Oe(s);if(c){var u=a+"::"+l,d=a+"::",f=a+"::~",h=r.index("_doc_id_rev"),p=IDBKeyRange.bound(d,f,!1,!1),m=h.openCursor(p);m.onsuccess=function(e){if(m=e.target.result){var t=m.value;t._doc_id_rev===u&&n.put(t),r.delete(m.primaryKey),m.continue()}else i.delete(o.primaryKey),o.continue()}}else o.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,o=n.primaryKey,s=Object.keys(i._attachments||{}),a={},c=0;c<s.length;c++){a[i._attachments[s[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:o,digestSeq:u+"::"+o})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Ut);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,o=(r=i.value).data?Gt(r):(r.deleted="1"===r.deletedOrLocal,r);if(o.winningRev=o.winningRev||Oe(o),o.seq)return s();!function(){var e=o.id+"::",n=o.id+"::ï¿¿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return o.seq=r,s();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function s(){var e=zt(o,o.winningRev,o.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=x((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,o){en(t,n,i,e,r,a(o))},e._get=function(e,t,n){var i,o,s,a=t.ctx;if(!a){var c=Qt(r,[Ut,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(s,{doc:i,metadata:o,ctx:a})}a.objectStore(Ut).get(e).onsuccess=function(e){if(!(o=Gt(e.target.result)))return s=ne(V,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,o=n.ids,s=o[0],a=o[1],c=o[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:s,pos:r,opts:a}),l)for(var d=0,f=u.length;d<f;d++){var h=u[d];if(h.pos+"-"+h.id===e)return r+"-"+s}for(var p=0,m=c.length;p<m;p++)i.push({pos:r+1,ids:c[p],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,o):t.rev;else if(n=o.winningRev,Ge(o))return s=ne(V,"deleted"),l();var r=a.objectStore("by-sequence"),c=o.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Kt(i)),!i)return s=ne(V,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,o){var s;if(i.ctx)s=i.ctx;else{var a=Qt(r,[Ut,"by-sequence","attach-store"],"readonly");if(a.error)return o(a.error);s=a.txn}var c=n.digest,l=n.content_type;s.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){o(null,e)}))}},e._info=function(t){var n,i,o=Qt(r,[Vt,"by-sequence"],"readonly");if(o.error)return t(o.error);var s=o.txn;s.objectStore(Vt).get(Vt).onsuccess=function(e){i=e.target.result.docCount},s.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},s.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Qt(r,[Ut],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Ut).get(e).onsuccess=function(e){var n=Gt(e.target.result);n?t(null,n.rev_tree):t(ne(V))}},e._doCompaction=function(e,t,n){var i=Qt(r,[Ut,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var o=i.txn;o.objectStore(Ut).get(e).onsuccess=function(n){var i=Gt(n.target.result);Ne(i.rev_tree,(function(e,n,i,r,o){var s=n+"-"+i;-1!==t.indexOf(s)&&(o.status="missing")})),Yt(t,e,o);var r=i.winningRev,s=i.deleted;o.objectStore(Ut).put(zt(i,r,s))},o.onabort=Ht(n),o.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Qt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ht(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(V))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,o=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var s,a=t.ctx;if(!a){var c=Qt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ht(n),a.oncomplete=function(){s&&n(null,s)}}var l,u=a.objectStore("local-store");i?(l=u.get(o)).onsuccess=function(r){var o=r.target.result;o&&o._rev===i?u.put(e).onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)}:n(ne($))}:((l=u.add(e)).onerror=function(e){n(ne($)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){s={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,s)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,o=t.ctx;if(!o){var s=Qt(r,["local-store"],"readwrite");if(s.error)return n(s.error);(o=s.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=o.objectStore("local-store"),l=c.get(a);l.onerror=Ht(n),l.onsuccess=function(r){var o=r.target.result;o&&o._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(V))}},e._destroy=function(e,t){Zt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),T()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ht(t)};var f=ln.get(i);if(f)return r=f.idb,e._meta=f.global,s()((function(){n(null,e)}));var h=indexedDB.open(i,5);un.set(i,h),h.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Ut,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(Vt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},h.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){j("error","Database has a global failure",e.target.error),o=e.target.error,r.close(),ln.delete(i)};var s,a,c,l,u=r.transaction([Vt,"detect-blob-support",Ut],"readwrite"),d=!1;function f(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function h(){if(void 0!==a&&void 0!==s){var e=i+"_id";e in s?l=s[e]:s[e]=l=Ie(),s.docCount=a,u.objectStore(Vt).put(s)}}u.objectStore(Vt).get(Vt).onsuccess=function(e){s=e.target.result||{id:Vt},h()},function(e,t){e.objectStore(Ut).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,h()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,f()})),u.oncomplete=function(){d=!0,f()},u.onabort=Ht(n)},h.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",j("error",t),n(ne(Z,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var fn={};function hn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=we(t.data,t.content_type)}))}function pn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function mn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){Se(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function gn(e,t){if(function(e){if(!e.prefix)return!1;var t=he(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=he(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function vn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function _n(t,n){var i=this,r=gn(t.name,t),o=vn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,o=i.username+":"+i.password,s=ve(unescape(encodeURIComponent(o)));n.headers.set("Authorization","Basic "+s)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),o=!("method"in e)||"GET"===e.method;return(n||i||r)&&o}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,h()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(o).catch((function(e){return e&&e.status&&404===e.status?(D(404,"PouchDB is just detecting if the remote exists."),u(o,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function f(e){return e.split("/").map(encodeURIComponent).join("/")}s()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:vn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(vn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(vn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(hn)})),t(null,n.data)})).catch(t)}function o(){var i=Math.ceil(e.docs.length/50),r=0,o=new Array(i);function s(e){return function(n,s){o[e]=s.results,++r===i&&t(null,{results:oe(o)})}}for(var a=0;a<i;a++){var c=B(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),N(n,c,s(a))}}var s=yn(r,""),a=fn[s];"boolean"!=typeof a?i((function(e,n){e?(fn[s]=!1,D(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(fn[s]=!0,t(null,n))})):a?i(t):o()})),i._info=function(e){d().then((function(){return c(vn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=vn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):vn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function o(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,o=0,s=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():f()}function u(){o--,l()}function d(e){o--,r=r||e,l()}function f(){for(;o<t&&s<c;)o++,e[s++]().then(u,d)}f()}))}(i.map((function(i){return function(){return function(i){var o=n[i],s=pn(e._id)+"/"+f(i)+"?rev="+e._rev;return c(vn(r,s)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=o.content_type),e}return new Promise((function(t){Se(e,t)}))})).then((function(e){delete o.stub,delete o.length,o.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=pn(e),u(vn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return o(e.ok)}))):o(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var o;"string"==typeof t?(o={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(o=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var s=o._rev||n.rev;u(vn(r,pn(o._id))+"?rev="+s,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,o){"function"==typeof i&&(o=i,i={});var s,a=i.rev?"?rev="+i.rev:"",l=vn(r,pn(t))+"/"+f(n)+a;c(l,{method:"GET"}).then((function(t){if(s=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=s),o(null,t)})).catch((function(e){o(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(vn(r,pn(e)+"/"+f(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,o,s){"function"==typeof o&&(s=o,o=i,i=n,n=null);var a=pn(e)+"/"+f(t),c=vn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=ge(i)}catch(e){return s(ne(W,"Attachment is not a valid base64 string"))}i=l?_e(l,o):""}u(c,{headers:new rt({"Content-Type":o}),method:"PUT",body:i},s).catch(s)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(mn))})).then((function(){return u(vn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return mn(e)})).then((function(){return u(vn(r,pn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},o="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var s=bn(i);void 0!==e.keys&&(o="POST",n={keys:e.keys}),u(vn(r,"_all_docs"+s),{method:o,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(hn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var o=void 0!==e.limit&&e.limit,a=o;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,f="GET";e.doc_ids?(i.filter="_doc_ids",f="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",f="POST",l={selector:e.selector});var h,p=new nt,m=function(n,s){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?o&&(i.limit=a):i.limit=!o||a>t?t:a;var c=vn(r,"_changes"+bn(i)),m={signal:p.signal,method:f,body:JSON.stringify(l)};h=n,e.aborted||d().then((function(){return u(c,m,s)})).catch(s)}},g={results:[]},v=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,g.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof g.last_seq&&"number"!=typeof g.last_seq||(l=g.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&hn(t),e.return_docs&&g.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(h=i.last_seq);var u=o&&a<=0||i&&r<t||e.descending;(!e.continuous||o&&a<=0)&&u?e.complete(null,g):s()((function(){m(h,v)}))}};return m(e.since||0,v),{cancel:function(){e.aborted=!0,p.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(vn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(vn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function wn(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,wn)}catch(e){}}function kn(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,kn)}catch(e){}}function En(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e,t){return t&&e.then((function(e){s()((function(){t(null,e)}))}),(function(e){s()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function An(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function xn(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new En("builtin "+e+" function requires map values to be numbers or number arrays")}function Bn(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var o=0,s=r.length;o<s;o++){var a=r[o];if("number"!=typeof a)throw Cn("_sum");void 0===t[o]?t.push(a):t[o]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}_n.valid=function(){return!0},m()(wn,Error),m()(kn,Error),m()(En,Error);var qn=j.bind(null,"log"),In=Array.isArray,On=JSON.parse;function Nn(e,t){return pe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:Bn,log:qn,isArray:In,toJSON:On})}function Tn(){this.promise=new Promise((function(e){e()}))}function Pn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function jn(e,t,n,i,r,o){var s,a=function(e,t){return Pn(e)+Pn(t)+"undefined"}(n,i);if(!r&&(s=e._cachedViews=e._cachedViews||{})[a])return s[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Be(a));return me(e,"_local/"+o,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var o={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return o.seq=e?e.seq:0,s&&o.db.once("destroyed",(function(){delete s[a]})),o}))}))}))}));return s&&(s[a]=c),c}Tn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Tn.prototype.finish=function(){return this.promise};var Mn={},Dn=new Tn;function Rn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Fn(e,t){try{e.emit("error",t)}catch(e){j("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),j("error",t)}}var Un=function(e,t){return Bn(t)},Vn=function(e,t){return t.length},$n=function(e,t){return{sum:Bn(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Hn=function(e,t,n,o){function a(e,t,n){try{t(n)}catch(t){Fn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Fn(e,t),{error:t}}}function l(e,t){var n=ht(e.key,t.key);return 0!==n?n:ht(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function f(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=we(n.data,n.content_type)}))}))}(t),t}}function p(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function m(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function g(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ht(e[n],e[i])>0)throw new wn("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new wn("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new wn("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new wn('Invalid value for integer: "'+e+'"');if(e<0)return new wn('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function v(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,o={_id:r,keys:[]},s=n.get(e),a=s[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(s[1])?Promise.resolve(o):t.db.get(r).catch(v(o))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,o=0,s=t.rows.length;o<s;o++){var c=t.rows[o].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=xn(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=An(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=Mn[t];return n||(n=Mn[t]=new Tn),n}function _(e,n){return Ln(b(e),(function(){return function(e,n){var i,o;var s=t(e.mapFun,(function(e,t){var n={id:o._id,key:pt(e)};null!=t&&(n.value=pt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(v({_id:"_local/lastSeq",seq:0})).then((function(i){var r=xn(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=oe(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,f={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",f);var h=new Tn;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(m)}function m(t){var f=t.results;if(!f.length)return;var m=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var f=t[u];if("_"!==f.doc._id[0]){i=[],(o=f.doc)._deleted||a(e.sourceDB,s,o),i.sort(l);var h=g(i);n.set(f.doc._id,[h,f.changes])}c=f.seq}return n}(f);h.add(u(m,c)),d+=f.length;let v={view:e.name,last_seq:t.last_seq,results_count:f.length,indexed_docs:d};return e.sourceDB.emit("indexing",v),f.length<n.changes_batch_size?void 0:p()}function g(e){for(var t,n=new r,i=0,o=e.length;i<o;i++){var s=e[i],a=[s.key,s.id];i>0&&0===ht(s.key,t)&&a.push(i),n.set(gt(a),s),t=s.key}return n}return p().then((function(){return h.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function w(e,t){return Ln(b(e),(function(){return function(e,t){var i,o=e.reduceFun&&!1!==t.reduce,s=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var o=vt(e,i);t.push(o.num),i+=o.length;break;case"4":for(var s="";;){var a=e[i];if("\0"===a)break;s+=a,i++}s=s.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(s);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=o?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,o=n(e.reduceFun),s=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=s[s.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ht(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);s.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=s.length;l<d;l++){var f=s[l],h=c(e.sourceDB,o,f.keys,f.values,!1);if(h.error&&h.error instanceof En)throw h.error;t.push({value:h.error?null:h.output,key:f.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:s,rows:a}:{total_rows:i,offset:s,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var f=An(a.map(d));return e.sourceDB.allDocs({keys:f,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var f=t.keys.map((function(e){var n={startkey:gt([e]),endkey:gt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(f).then(oe).then(l)}var h,p,m={descending:t.descending};if(t.update_seq&&(m.update_seq=!0),"start_key"in t&&(h=t.start_key),"startkey"in t&&(h=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==h&&(m.startkey=t.descending?gt([h,{}]):gt([h])),void 0!==p){var g=!1!==t.inclusive_end;t.descending&&(g=!g),m.endkey=gt(g?[p,{}]:[p])}if(void 0!==t.key){var v=gt([t.key]),y=gt([t.key,{}]);m.descending?(m.endkey=v,m.startkey=y):(m.startkey=v,m.endkey=y)}return o||("number"==typeof t.limit&&(m.limit=t.limit),m.skip=s),a(m).then(l)}(e,t)}))()}function k(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,o,s=[],a="GET";if(p("reduce",n,s),p("include_docs",n,s),p("attachments",n,s),p("limit",n,s),p("descending",n,s),p("group",n,s),p("group_level",n,s),p("skip",n,s),p("stale",n,s),p("conflicts",n,s),p("startkey",n,s,!0),p("start_key",n,s,!0),p("endkey",n,s,!0),p("end_key",n,s,!0),p("inclusive_end",n,s),p("key",n,s,!0),p("update_seq",n,s),s=""===(s=s.join("&"))?"":"?"+s,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+s.length+1<=2e3?s+=("?"===s[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Rn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+s,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(f(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+s,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,o=e.status,e.json()})).then((function(e){if(!r)throw e.status=o,ie(e);return e})).then(f(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return g(i,n),Dn.add((function(){return jn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=_(e,r).then((function(){return w(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Dn.finish();var a=n,c=Rn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new kn("ddoc "+n._id+" has no view named "+u);return o(n,u),g(i,c),jn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&s()((function(){_(e,r)})),w(e,i)):_(e,r).then((function(){return w(e,i)}))}))}))}var E;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=m(e.group_level),e.limit=m(e.limit),e.skip=m(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return k(i,e,t)}));return Sn(r,n),r},viewCleanup:(E=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=Rn(e),r="_design/"+t[0],o=t[1],s=n.get(r);s||(s=new i,n.set(r,s)),s.add(o)}));var o={keys:xn(n),include_docs:!0};return t.allDocs(o).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var o=i+"/"+n;e.views[o]||(o=n);var s=Object.keys(e.views[o]),a=t.doc&&t.doc.views&&t.doc.views[n];s.forEach((function(e){r[e]=r[e]||a}))}))}));var o=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(o).then((function(){return{ok:!0}}))}))}),v({ok:!0}))}(t)},h()((function(e){var t=e.pop(),n=E.apply(this,e);return"function"==typeof t&&Sn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Nn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Un;if(/^_count/.test(e))return Vn;if(/^_stats/.test(e))return $n;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Nn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new kn("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var zn={query:function(e,t,n){return Hn.query.call(this,e,t,n)},viewCleanup:function(e){return Hn.viewCleanup.call(this,e)}};function Gn(e){return/^1-/.test(e)}function Kn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],o=!0;function s(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Gn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Gn(t[0])}));if(e.length>0)return s(e)})).then((function(){var s=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(s.docs.length)return e.bulkGet(s).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(o=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Kn(t,n)})):Kn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(oe(e).filter(Boolean))}))}))})).then((function(){return{ok:o,docs:r}}))}function Jn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||D(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter((function(e){return e.session_id!==i})),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,5),o.version=1,o.replicator="pouchdb",o.session_id=i,o.last_seq=n,e.put(o).catch((function(o){if(409===o.status)return Jn(e,t,n,i,r);throw o}))}))}function Xn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Xn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Xn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Jn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Xn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Jn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Zn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Yn={undefined:function(e,t){return 0===ht(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),o=n[0],s=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Qn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Qn(o.session_id,r))return{last_seq:o.last_seq,history:s};return e(r,s)}(e.history,t.history)}(t,e).last_seq}};function Qn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Qn(e,i))}function Zn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Xn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Yn?Yn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Zn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ht):"",r=n.filter?n.filter.toString():"",o="",s="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(function(e){return Object.keys(e).sort(ht).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(s=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+s+o+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var o,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,f=!1,h=!1,p=0,m=n.continuous||n.live||!1,g=n.batch_size||100,v=n.batches_limit||10,y=n.style||"all_docs",b=!1,_=n.doc_ids,w=n.selector,k=[],E=Ie();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var S={};function A(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Xn(e,t,a,i,o)}))}function x(){if(k=[],0!==o.docs.length){var e=o.docs,s={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},s).then((function(t){if(i.cancelled)throw N(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=e.length-o,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var o=(t.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw t;i.emit("denied",L(t))}else k.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=p=o.seq;var e=L(r);return k.length&&(e.docs=k,"number"==typeof o.pending&&(e.pending=o.pending,delete o.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(o.seq,E).then((function(){if(i.emit("checkpoint",{checkpoint:o.seq}),d=!1,i.cancelled)throw N(),new Error("cancelled");o=void 0,D()})).catch((function(e){throw F(e),e}))}function B(){return Wn(e,t,o.diffs,i).then((function(e){o.error=!e.ok,e.docs.forEach((function(e){delete o.diffs[e._id],r.docs_read++,o.docs.push(e)}))}))}function q(){var e;i.cancelled||o||(0!==l.length?(o=l.shift(),i.emit("checkpoint",{start_next_batch:o.seq}),(e={},o.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw N(),new Error("cancelled");o.diffs=e}))).then(B).then(x).then(C).then(q).catch((function(e){O("batch processing terminated with error",e)}))):I(!0))}function I(e){0!==u.changes.length?(e||f||u.changes.length>=g)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),q()):0!==l.length||o||((m&&S.live||f)&&(i.state="pending",i.emit("paused")),f&&N())}function O(e,t){h||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},N(t))}function N(o){if(!(h||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=p,h=!0,o){(o=ne(o)).result=r;var s=(o.name||"").toLowerCase();"unauthorized"===s||"forbidden"===s?(i.emit("error",o),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=M),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,o,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function T(e,t,r){if(i.cancelled)return N();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),s()((function(){I(0===l.length&&S.live)})))}function P(e){if(b=!1,i.cancelled)return N();if(e.results.length>0)S.since=e.results[e.results.length-1].seq,D(),I(!0);else{var t=function(){m?(S.live=!0,D()):f=!0,I(!0)};o||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,E).then((function(){d=!1,r.last_seq=p=e.last_seq,t()})).catch(F))}}function j(e){if(b=!1,i.cancelled)return N();O("changes rejected",e)}function D(){if(!b&&!f&&l.length<v){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(S).on("change",T);t.then(o,o),t.then(P).catch(j),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function o(){i.removeListener("cancel",r)}}function R(){A().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){S={since:p=e,limit:g,batch_size:g,style:y,doc_ids:_,selector:w,return_docs:!0},n.filter&&("string"!=typeof n.filter?S.include_docs=!0:S.filter=n.filter),"heartbeat"in n&&(S.heartbeat=n.heartbeat),"timeout"in n&&(S.timeout=n.timeout),n.query_params&&(S.query_params=n.query_params),n.view&&(S.view=n.view),D()}));N()})).catch((function(e){O("getCheckpoint rejected with ",e)}))}function F(e){d=!1,O("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?N():(i._addedListeners||(i.once("cancel",N),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?R():A().then((function(){return d=!0,c.writeCheckpoint(n.since,E)})).then((function(){d=!1,i.cancelled?N():(p=n.since,R())})).catch(F))}function ni(){v.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(Y,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function oi(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new si(e=ii(e,n),t=ii(t,n),n,i)}function si(e,t,n,i){var r=this;this.canceled=!1;var o=n.push?R({},n,n.push):n,s=n.pull?R({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function f(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function h(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,o),this.pull=ri(t,e,s),this.pushPaused=!0,this.pullPaused=!0;var m={};function g(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===f||n===d)||"active"===t&&(n===p||n===h))&&(t in m||(m[t]={}),m[t][e]=!0,2===Object.keys(m[t]).length&&r.removeAllListeners(t))}}function v(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(v(r.pull,"change",a),v(r.push,"change",c)):"denied"===e?(v(r.pull,"denied",u),v(r.push,"denied",l)):"active"===e?(v(r.pull,"active",p),v(r.push,"active",h)):"paused"===e&&(v(r.pull,"paused",f),v(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",p),r.push.removeListener("active",h)):"paused"===e&&(r.pull.removeListener("paused",f),r.push.removeListener("paused",d))})),this.pull.on("removeListener",g("pull")),this.push.on("removeListener",g("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}m()(ni,v.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},m()(si,v.a),si.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",_n,!1),e.adapter("https",_n,!1)})).plugin(zn).plugin((function(e){e.replicate=ri,e.sync=oi,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(35))},function(e,t,n){"use strict";n.r(t),n.d(t,"v1",(function(){return l})),n.d(t,"v3",(function(){return _})),n.d(t,"v4",(function(){return w.a})),n.d(t,"v5",(function(){return S})),n.d(t,"NIL",(function(){return L})),n.d(t,"version",(function(){return A})),n.d(t,"validate",(function(){return u.a})),n.d(t,"stringify",(function(){return s.a})),n.d(t,"parse",(function(){return d}));var i,r,o=n(20),s=n(9),a=0,c=0;var l=function(e,t,n){var l=t&&n||0,u=t||new Array(16),d=(e=e||{}).node||i,f=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==f){var h=e.random||(e.rng||o.a)();null==d&&(d=i=[1|h[0],h[1],h[2],h[3],h[4],h[5]]),null==f&&(f=r=16383&(h[6]<<8|h[7]))}var p=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:c+1,g=p-a+(m-c)/1e4;if(g<0&&void 0===e.clockseq&&(f=f+1&16383),(g<0||p>a)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");a=p,c=m,r=f;var v=(1e4*(268435455&(p+=122192928e5))+m)%4294967296;u[l++]=v>>>24&255,u[l++]=v>>>16&255,u[l++]=v>>>8&255,u[l++]=255&v;var y=p/4294967296*1e4&268435455;u[l++]=y>>>8&255,u[l++]=255&y,u[l++]=y>>>24&15|16,u[l++]=y>>>16&255,u[l++]=f>>>8|128,u[l++]=255&f;for(var b=0;b<6;++b)u[l+b]=d[b];return t||Object(s.a)(u)},u=n(10);var d=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var f=function(e,t,n){function i(e,i,r,o){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof i&&(i=d(i)),16!==i.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var a=new Uint8Array(16+e.length);if(a.set(i),a.set(e,i.length),(a=n(a))[6]=15&a[6]|t,a[8]=63&a[8]|128,r){o=o||0;for(var c=0;c<16;++c)r[o+c]=a[c];return r}return Object(s.a)(a)}try{i.name=e}catch(e){}return i.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",i.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",i};function h(e){return 14+(e+64>>>9<<4)+1}function p(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function m(e,t,n,i,r,o){return p((s=p(p(t,e),p(i,o)))<<(a=r)|s>>>32-a,n);var s,a}function g(e,t,n,i,r,o,s){return m(t&n|~t&i,e,t,r,o,s)}function v(e,t,n,i,r,o,s){return m(t&i|n&~i,e,t,r,o,s)}function y(e,t,n,i,r,o,s){return m(t^n^i,e,t,r,o,s)}function b(e,t,n,i,r,o,s){return m(n^(t|~i),e,t,r,o,s)}var _=f("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,i=0;i<n;i+=8){var r=e[i>>5]>>>i%32&255,o=parseInt("0123456789abcdef".charAt(r>>>4&15)+"0123456789abcdef".charAt(15&r),16);t.push(o)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[h(t)-1]=t;for(var n=1732584193,i=-271733879,r=-1732584194,o=271733878,s=0;s<e.length;s+=16){var a=n,c=i,l=r,u=o;n=g(n,i,r,o,e[s],7,-680876936),o=g(o,n,i,r,e[s+1],12,-389564586),r=g(r,o,n,i,e[s+2],17,606105819),i=g(i,r,o,n,e[s+3],22,-1044525330),n=g(n,i,r,o,e[s+4],7,-176418897),o=g(o,n,i,r,e[s+5],12,1200080426),r=g(r,o,n,i,e[s+6],17,-1473231341),i=g(i,r,o,n,e[s+7],22,-45705983),n=g(n,i,r,o,e[s+8],7,1770035416),o=g(o,n,i,r,e[s+9],12,-1958414417),r=g(r,o,n,i,e[s+10],17,-42063),i=g(i,r,o,n,e[s+11],22,-1990404162),n=g(n,i,r,o,e[s+12],7,1804603682),o=g(o,n,i,r,e[s+13],12,-40341101),r=g(r,o,n,i,e[s+14],17,-1502002290),i=g(i,r,o,n,e[s+15],22,1236535329),n=v(n,i,r,o,e[s+1],5,-165796510),o=v(o,n,i,r,e[s+6],9,-1069501632),r=v(r,o,n,i,e[s+11],14,643717713),i=v(i,r,o,n,e[s],20,-373897302),n=v(n,i,r,o,e[s+5],5,-701558691),o=v(o,n,i,r,e[s+10],9,38016083),r=v(r,o,n,i,e[s+15],14,-660478335),i=v(i,r,o,n,e[s+4],20,-405537848),n=v(n,i,r,o,e[s+9],5,568446438),o=v(o,n,i,r,e[s+14],9,-1019803690),r=v(r,o,n,i,e[s+3],14,-187363961),i=v(i,r,o,n,e[s+8],20,1163531501),n=v(n,i,r,o,e[s+13],5,-1444681467),o=v(o,n,i,r,e[s+2],9,-51403784),r=v(r,o,n,i,e[s+7],14,1735328473),i=v(i,r,o,n,e[s+12],20,-1926607734),n=y(n,i,r,o,e[s+5],4,-378558),o=y(o,n,i,r,e[s+8],11,-2022574463),r=y(r,o,n,i,e[s+11],16,1839030562),i=y(i,r,o,n,e[s+14],23,-35309556),n=y(n,i,r,o,e[s+1],4,-1530992060),o=y(o,n,i,r,e[s+4],11,1272893353),r=y(r,o,n,i,e[s+7],16,-155497632),i=y(i,r,o,n,e[s+10],23,-1094730640),n=y(n,i,r,o,e[s+13],4,681279174),o=y(o,n,i,r,e[s],11,-358537222),r=y(r,o,n,i,e[s+3],16,-722521979),i=y(i,r,o,n,e[s+6],23,76029189),n=y(n,i,r,o,e[s+9],4,-640364487),o=y(o,n,i,r,e[s+12],11,-421815835),r=y(r,o,n,i,e[s+15],16,530742520),i=y(i,r,o,n,e[s+2],23,-995338651),n=b(n,i,r,o,e[s],6,-198630844),o=b(o,n,i,r,e[s+7],10,1126891415),r=b(r,o,n,i,e[s+14],15,-1416354905),i=b(i,r,o,n,e[s+5],21,-57434055),n=b(n,i,r,o,e[s+12],6,1700485571),o=b(o,n,i,r,e[s+3],10,-1894986606),r=b(r,o,n,i,e[s+10],15,-1051523),i=b(i,r,o,n,e[s+1],21,-2054922799),n=b(n,i,r,o,e[s+8],6,1873313359),o=b(o,n,i,r,e[s+15],10,-30611744),r=b(r,o,n,i,e[s+6],15,-1560198380),i=b(i,r,o,n,e[s+13],21,1309151649),n=b(n,i,r,o,e[s+4],6,-145523070),o=b(o,n,i,r,e[s+11],10,-1120210379),r=b(r,o,n,i,e[s+2],15,718787259),i=b(i,r,o,n,e[s+9],21,-343485551),n=p(n,a),i=p(i,c),r=p(r,l),o=p(o,u)}return[n,i,r,o]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(h(t)),i=0;i<t;i+=8)n[i>>5]|=(255&e[i/8])<<i%32;return n}(e),8*e.length))})),w=n(22);function k(e,t,n,i){switch(e){case 0:return t&n^~t&i;case 1:return t^n^i;case 2:return t&n^t&i^n&i;case 3:return t^n^i}}function E(e,t){return e<<t|e>>>32-t}var S=f("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var i=unescape(encodeURIComponent(e));e=[];for(var r=0;r<i.length;++r)e.push(i.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var o=e.length/4+2,s=Math.ceil(o/16),a=new Array(s),c=0;c<s;++c){for(var l=new Uint32Array(16),u=0;u<16;++u)l[u]=e[64*c+4*u]<<24|e[64*c+4*u+1]<<16|e[64*c+4*u+2]<<8|e[64*c+4*u+3];a[c]=l}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var f=new Uint32Array(80),h=0;h<16;++h)f[h]=a[d][h];for(var p=16;p<80;++p)f[p]=E(f[p-3]^f[p-8]^f[p-14]^f[p-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],_=0;_<80;++_){var w=Math.floor(_/20),S=E(m,5)+k(w,g,v,y)+b+t[w]+f[_]>>>0;b=y,y=v,v=E(g,30)>>>0,g=m,m=S}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),L="00000000-0000-0000-0000-000000000000";var A=function(e){if(!Object(u.a)(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_list" id="mei_list"></div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        \n        <div class="tile_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">â†»</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="tile_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(4),r=n(3),o=n(18),s=n(11);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,s.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new o.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const s=document.getElementById("moreEdit");s&&(s.innerHTML="",s.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(4);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){var n,i,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{i="function"==typeof clearTimeout?clearTimeout:s}catch(e){i=s}}();var c,l=[],u=!1,d=-1;function f(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&h())}function h(){if(!u){var e=a(f);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===s||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function m(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=m,r.addListener=m,r.once=m,r.off=m,r.removeListener=m,r.removeAllListeners=m,r.emit=m,r.prependListener=m,r.prependOnceListener=m,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),o=e.document.createTextNode("");return r.observe(o,{characterData:!0}),function(){o.data=i=++i%2}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(12))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(12))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitDocumentSelector=t.updateDocumentSelector=void 0;const i=n(52),r=n(54),o=n(53),s=document.querySelector("#uploaded-docs-content"),a=document.querySelector("#sample-docs-content"),c=document.querySelector("#open-doc"),l=document.querySelector("#remove-doc");let u,d,f=!1,h=!1;const p=new class{constructor(){this.prevSelection=[],this.reset()}setStart(e){this.reset(),this.start=Math.max(e,0)}setEnd(e){this.end=e}reset(){this.start=0,this.end=-1,this.prevSelection.splice(0)}getPrevSelection(){return this.prevSelection}getSelection(){let e,t;if(-1===this.end)return[];this.end<this.start?(e=this.end,t=this.start+1):(e=this.start,t=this.end+1);const n=Array.from({length:t-e},(t,n)=>n+e).filter(e=>!d[e]);return this.prevSelection=n,n}};function m(){return u.filter((e,t)=>d[t])}function g(e,t){const n=(i=t?{storage:e}:{manifest:e},Object.keys(i).map(e=>encodeURIComponent(e)+"="+encodeURIComponent(i[e])).join("&"));var i;window.open("./editor.html?"+n,"_blank")}function v(e,t){if(null!=e)t=null!=t?t:u.indexOf(e.id);else{if(null==t)return;e=document.getElementById(u[t])}e.classList.remove("selected"),d[t]=!1}function y(){Array.from(document.querySelectorAll(".document-entry.selected")).forEach(e=>e.classList.remove("selected")),d.fill(!1)}function b(e,t){if(null!=e)t=null!=t?t:u.indexOf(e.id);else{if(null==t)return;e=document.getElementById(u[t])}e.classList.add("selected"),d[t]=!0}function _(){const e=d.lastIndexOf(!0);-1===e?(c.classList.remove("active"),l.classList.remove("active")):(c.classList.add("active"),e<u.length-o.samples.length?l.classList.add("active"):l.classList.remove("active"))}async function w(){p.reset(),s.innerHTML="";const e=await(0,i.fetchUploadedDocuments)();if(e.sort(),0===e.length){const e=document.createElement("div");e.id="no-docs-msg",e.innerHTML="No Documents Uploaded",s.appendChild(e)}else e.forEach(e=>{const t=document.createElement("div");t.id=e,t.classList.add("document-entry"),t.classList.add("uploaded-doc");const n=document.createElement("div");n.classList.add("filename-text"),n.innerHTML=(0,r.formatFilename)(e,25),t.appendChild(n),s.appendChild(t)});a.innerHTML="";const t=(0,i.fetchSampleDocuments)();if(t.sort(),0===t.length){const e=document.createElement("div");e.innerHTML="No Documents Uploaded",a.appendChild(e)}else t.forEach(e=>{const t=document.createElement("div");t.id=e,t.classList.add("document-entry");const n=document.createElement("div");n.classList.add("filename-text"),n.innerHTML=(0,r.formatFilename)(e,25),t.appendChild(n),a.appendChild(t)});u=e.concat(o.samples),d=new Array(u.length).fill(!1),u.forEach((e,t)=>{const n=document.getElementById(""+e);n.addEventListener("dblclick",k,!1),n.addEventListener("click",(function(e){f||h?f?(d[t]?(v(n,t),p.setStart(d.lastIndexOf(!0))):(b(n,t),p.setStart(t)),_()):h&&(p.getPrevSelection().forEach(e=>{v(null,e)}),p.setEnd(t),p.getSelection().forEach(e=>{b(null,e)}),_()):(y(),b(n,t),p.setStart(t),_())}),!1)})}function k(){c.classList.contains("active")&&(m().map(e=>document.getElementById(e)).forEach(e=>{!function(e){const t=!!e.classList.contains("uploaded-doc");g(e.id,t)}(e)}),p.reset(),y(),_())}function E(){if(!l.classList.contains("active"))return;const e=m(),t="Are you sure you want to delete:\n"+e.join("\n")+"\n\nThis action is irreversible.";if(window.confirm(t)){const t=e.map(e=>(0,i.deleteEntry)(e));Promise.all(t).then(()=>{w()}).catch(e=>console.debug("failed to delete files: ",e)),y(),p.reset()}_()}t.updateDocumentSelector=w;t.InitDocumentSelector=()=>{c.addEventListener("click",k),l.addEventListener("click",E),window.addEventListener("keydown",e=>{e.metaKey&&(f=!0),e.shiftKey&&(h=!0),"Escape"===e.key&&(y(),p.reset(),_())}),window.addEventListener("keyup",e=>{e.metaKey||(f=!1),e.shiftKey||(h=!1)});document.querySelector(".main-section-content").addEventListener("click",(function(e){const t=e.target.classList;["document-entry","filename-text"].some(e=>t.contains(e))||(y(),p.reset(),_())})),w()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.deleteEntry=t.addEntry=t.createManifest=t.fetchSampleDocuments=t.fetchUploadedDocuments=void 0;const i=n(30),r=n(29),o=n(86),s=n(53),a=new r.default("Neon-User-Storage");t.fetchUploadedDocuments=async function(){return await new Promise((e,t)=>{a.allDocs({include_docs:!0}).then(t=>e(t)).catch(e=>t(e))}).then(e=>e.rows.map(e=>e.key)).catch(e=>(console.log("Could'nt fetch uploaded documents",e.message),[]))},t.fetchSampleDocuments=function(){return s.samples},t.createManifest=function(e,t,n){return new Promise(async r=>{const s=JSON.parse(JSON.stringify(o));s["@id"]=(0,i.v4)(),s.title=e,s.timestamp=(new Date).toISOString();const a=new Promise(e=>{const n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}),c=new Promise(e=>{const t=new FileReader;t.addEventListener("load",()=>{e(t.result)}),t.readAsDataURL(n)}),l=await a,u=await c;s.image=u,s.mei_annotations=[{id:(0,i.v4)(),type:"Annotation",body:l,target:u}],r(s)})},t.addEntry=function(e,t,n){return new Promise((i,r)=>{a.put({_id:e,kind:n?"page":"manuscript",_attachments:{manifest:{content_type:"application/ld+json",data:t}}}).then(e=>{i(!0)}).catch(t=>{window.alert(`Error Uploading Document: ${t.message}, ${e}.`),r(!1)})})},t.deleteEntry=function(e){return new Promise((t,n)=>{a.get(e).then(e=>{a.remove(e).then(e=>{t(!0)}).catch(e=>{console.log(e),n(e)})}).catch(e=>{console.log(e),n(e)})})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.samples=void 0,t.samples=["CF-005","CF-009","CF-010","CF-011","CF-012","CF-013","CF-014","CF-015","CF-016","CF-017","CF-018","CF-019","CF-020","CF-024","CF-025","CF-026","CF-027","CF-028","CF-029","CF-030","CF-031","CF-032","CF-033","CF-034","CF-035","CF-036","CF-037","CF-038","CF-039","CF-040","CF-041","CF-042","CF-044","CF-045","CF-046","CF-047","CF-048","CF-049","CF-050","CF-051","CF-052","CF-053","CF-054","CF-055","CF-056","Salzinnes"]},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.renameFile=t.formatFilename=void 0,t.formatFilename=function(e,t){const n=Math.floor(t/2),i=e.length;return i<=t?e:`${e.substring(0,n-1)}...${e.substring(i-n+2,i)}`},t.renameFile=function(e,t){const n=new RegExp(e),i=t.filter(e=>n.test(e));if(0!==i.length){const t=/\(\d+\),/g,n=i.join().concat(",").match(t);if(null!==n){const t=n.map(e=>{const t=e.substring(1,e.length-2);return Number(t)});t.sort();const i=t.indexOf(1);if(-1===i)return e+"(1)";{let n=1;for(let e=i+1;e<t.length;e++){if(t[e]!==n+1)break;n+=1}return`${e}(${n+1})`}}return e+"(1)"}return e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.handleUploadAllDocuments=t.handleMakePair=t.addNewFiles=void 0;const i=n(30),r=n(56),o=n(54),s=n(52),a=r.default.getInstance();function c(e,t){if("mei"!==t&&"image"!==t)return;const n="mei"===t?"mei_radio_group":"image_radio_group",r=(0,i.v4)(),s=document.createElement("div");s.className="unpaired_item_container";const a=document.createElement("input");a.type="radio",a.className="unpaired_item_radio",a.name=n,a.value=e,a.id=r;const c=document.createElement("label");c.className="unpaired_item_label",c.setAttribute("for",r);const l=document.createElement("span");return l.innerText=(0,o.formatFilename)(e,28),c.appendChild(a),c.appendChild(l),s.appendChild(c),s}t.addNewFiles=function(e){const t=document.querySelector("#mei_list"),n=document.querySelector("#image_list"),i=[];return e.forEach(e=>{const r=e.name.split(".").pop();if("mei"===r){const n=c(e.name,"mei");t.appendChild(n),a.addFile(e)}else if(["png","jpg","jpeg"].includes(r)){const t=c(e.name,"image");n.appendChild(t),a.addFile(e)}else"jsonld"===r||i.push(e)}),i},t.handleMakePair=function(){const e=document.querySelector("#paired_list"),t=document.querySelector('input[name="mei_radio_group"]:checked'),n=document.querySelector('input[name="image_radio_group"]:checked');if(null===t||null===n)return;const i=t.value,r=n.value,s=i.substring(0,i.length-4),l=function(e,t,n){const i=document.querySelector("#mei_list"),r=document.querySelector("#image_list"),s=document.createElement("div");s.className="tile_item",s.setAttribute("mei",t),s.setAttribute("image",n);const l=document.createElement("div");function u(){s.remove(),a.removeFolio(e);const o=c(t,"mei");i.appendChild(o);const l=c(n,"image");r.appendChild(l)}l.classList.add("tile-filename"),l.innerHTML=(0,o.formatFilename)(e,25),s.appendChild(l);const d=document.createElement("button");return d.innerText="âŒ«",d.className="delete_button",d.addEventListener("click",u),s.appendChild(d),s}(s,i,r);e.appendChild(l),a.addFolio(s,i,r),t.parentElement.parentElement.remove(),n.parentElement.parentElement.remove()},t.handleUploadAllDocuments=async function(){const e=await(0,s.fetchUploadedDocuments)(),t=(0,s.fetchSampleDocuments)(),n=e.concat(t),i=a.getFolios().map(async([e,t,i])=>{const r=(0,o.renameFile)(e,n);return n.push(r),await async function(e,t,n){return(0,s.createManifest)(e,t,n).then(t=>{const n=new Blob([JSON.stringify(t,null,2)],{type:"application/ld+json"});return(0,s.addEntry)(e,n,!0)})}(r,t,i)});a.clear();const r=i.map(e=>Promise.resolve(e).then(e=>({status:"fulfilled",value:e}),e=>({status:"rejected",reason:e})));return Promise.all(r)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(){this.allFiles=new Map,this.folios=new Array}static getInstance(){return i.instance||(i.instance=new i),i.instance}addFile(e){if(this.allFiles.has(e.name)){const t={file:e,count:this.getFileCount(e.name)+1};this.allFiles.set(e.name,t)}else{const t={file:e,count:1};this.allFiles.set(e.name,t)}}getFile(e){if(this.allFiles.has(e))return this.allFiles.get(e).file}removeFile(e){const t=this.getFileCount(e);if(0!==t)if(1===t)this.allFiles.delete(e);else{const n={file:this.allFiles.get(e).file,count:t-1};this.allFiles.set(e,n)}}getFileCount(e){return this.allFiles.has(e)?this.allFiles.get(e).count:0}addFolio(e,t,n){const i={filename:e,mei_filename:t,image_filename:n};this.folios.push(i)}removeFolio(e){const t=this.folios.findIndex(t=>t.filename===e);this.folios.splice(t,1)}getFolios(){return this.folios.map(e=>{const t=e.filename,n=e.mei_filename,i=e.image_filename;return[t,this.getFile(n),this.getFile(i)]})}clear(){this.allFiles.clear(),this.folios.splice(0)}print(){console.log(this.allFiles),console.log(this.folios)}}t.default=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var i,r;Object.defineProperty(t,"__esModule",{value:!0}),t.fm=void 0;const o=n(51),s=n(87),a=n(56);t.fm=a.default.getInstance(),(0,o.InitDocumentSelector)(),null===(i=document.querySelector("#upload-new-doc-button"))||void 0===i||i.addEventListener("click",(function(){(0,s.InitUploadArea)()})),null===(r=document.querySelector("#home-link"))||void 0===r||r.setAttribute("href","https://ddmal.music.mcgill.ca/Neon")},function(e){e.exports=JSON.parse('{"@context":["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]}')},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InitUploadArea=void 0;const i=n(55),r=n(17),o=n(55),s=n(51);t.InitUploadArea=function(){const e=new r.ModalWindow;e.setModalWindowView(r.ModalWindowView.DOCUMENT_UPLOAD),e.openModalWindow(),document.querySelector("#make_pair").addEventListener("click",o.handleMakePair),document.querySelector("#upload_button").addEventListener("click",(async function(){const t=document.querySelector("#uploading_spinner");t.classList.add("visible"),(0,o.handleUploadAllDocuments)().then(n=>{setTimeout(async()=>{await(0,s.updateDocumentSelector)(),t.classList.remove("visible"),e.hideModalWindow()},2e3)}).catch(n=>{console.log("One or more uploads rejected: ",n),setTimeout(async()=>{await(0,s.updateDocumentSelector)(),t.classList.remove("visible"),e.hideModalWindow()},2e3)})}));const t=document.createElement("input");t.type="file",t.multiple=!0,t.addEventListener("change",(function(){const e=t.files,n=Array.from(e),r=(0,i.addNewFiles)(n);if(0!==r.length){const e=r.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}t.value=null}));const n=document.querySelector("#initial_upload_area");n.onclick=()=>t.click(),n.ondragleave=()=>n.classList.remove("over"),n.ondragover=e=>{e.stopPropagation(),e.preventDefault(),n.classList.add("over"),e.dataTransfer.dropEffect="copy"},n.ondrop=e=>{e.stopPropagation(),e.preventDefault(),n.classList.remove("over");const t=e.dataTransfer.files,r=Array.from(t),o=(0,i.addNewFiles)(r);if(0!==o.length){const e=o.map(e=>e.name);window.alert("The following files are not .mei, .png, .jpeg, or .jsonld files: \n\n"+e.join("\n"))}}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTG9jYWxTZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9Db250ZW50cy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc3RyaW5naWZ5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcmVnZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci92YWxpZGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvQ29vcmRpbmF0ZXMudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL2dsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTW9kYWxXaW5kb3cudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RyYWdIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dXZ1emVsYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yYW5kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Jlc2l6ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU2VsZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FcnJvckxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dEVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3VjaGRiL2xpYi9pbmRleC1icm93c2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdjEuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9wYXJzZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL21kNS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3YzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvc2hhMS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y1LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvbmlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvdmVyc2lvbi5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL2Rhc2hib2FyZF9jb21wb25lbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy9XYXJuaW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TdGFmZlRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L05ldW1lVG9vbHMudHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3Byb2Nlc3MvYnJvd3Nlci5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9xdWV1ZU1pY3JvdGFzay5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tdXRhdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9tZXNzYWdlQ2hhbm5lbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi9zdGF0ZUNoYW5nZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvaW1tZWRpYXRlL2xpYi90aW1lb3V0LmpzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvRG9jdW1lbnRTZWxlY3Rvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1N0b3JhZ2UudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9zYW1wbGVzX2ZpbGVuYW1lcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL2Z1bmN0aW9ucy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGFzaGJvYXJkL1VwbG9hZE1hbmFnZXIudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9GaWxlTWFuYWdlci50cyIsIndlYnBhY2s6Ly8vLi9kZXBsb3ltZW50L3NjcmlwdHMvZGFzaGJvYXJkLnRzIiwid2VicGFjazovLy8uL3NyYy9EYXNoYm9hcmQvVXBsb2FkQXJlYS50cyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJhcHBseSIsInRhcmdldCIsInJlY2VpdmVyIiwiYXJncyIsIkZ1bmN0aW9uIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25jYXQiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsInRoaXMiLCJvbmNlIiwiZW1pdHRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImFyZ3VtZW50cyIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwidW5kZWZpbmVkIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJUeXBlRXJyb3IiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsInB1c2giLCJsZW5ndGgiLCJ3YXJuZWQiLCJ3IiwiRXJyb3IiLCJTdHJpbmciLCJjb3VudCIsImNvbnNvbGUiLCJ3YXJuIiwib25jZVdyYXBwZXIiLCJmaXJlZCIsIndyYXBGbiIsIl9vbmNlV3JhcCIsInN0YXRlIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwiQXJyYXkiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsImNvcHkiLCJhZGRFdmVudExpc3RlbmVyIiwid3JhcExpc3RlbmVyIiwiYXJnIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlcnJvciIsImVyIiwibWVzc2FnZSIsImNvbnRleHQiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleXMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJUZW1wQ3RvciIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwic2NoZWR1bGVEcmFpbiIsInR5cGVzIiwicXVldWVJbmRleCIsInF1ZXVlIiwic2NoZWR1bGVkIiwiY2xlYW5VcE5leHRUaWNrIiwibmV4dFRpY2siLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInJ1biIsImNsZWFyVGltZW91dCIsInRlc3QiLCJpbnN0YWxsIiwiSXRlbSIsImZ1biIsImFycmF5IiwidGFzayIsImdldFNlbGVjdGlvblR5cGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaWQiLCJ1bnNlbGVjdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwic2VsZWN0ZWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjb250YWlucyIsInJlbW92ZUF0dHJpYnV0ZSIsIkNvbG9yIiwidW5oaWdobGlnaHQiLCJzdHlsZSIsImZpbGwiLCJmcm9tIiwic3lsbGFibGUiLCJzdHJva2UiLCJlbCIsImNvbG9yIiwiZm9udFdlaWdodCIsInN5bFJlY3QiLCJhZGQiLCJkMyIsInNlbGVjdEFsbCIsImdldEVsZW1lbnRCeUlkIiwiU2VsZWN0T3B0aW9ucyIsImVuZE9wdGlvbnNTZWxlY3Rpb24iLCJHcm91cGluZyIsImVuZEdyb3VwaW5nU2VsZWN0aW9uIiwiaW5uZXJIVE1MIiwicGFyZW50RWxlbWVudCIsInVwZGF0ZUhpZ2hsaWdodCIsInNlbGVjdFN0YWZmIiwic3RhZmYiLCJkcmFnSGFuZGxlciIsImhpZ2hsaWdodCIsInRyaWdnZXJTcGxpdEFjdGlvbnMiLCJpbml0R3JvdXBpbmdMaXN0ZW5lcnMiLCJkcmFnSW5pdCIsInNlbGVjdExheWVyRWxlbWVudCIsImxheWVyRWxlbWVudCIsInNlbGVjdCIsIm5lZWRzSGlnaGxpZ2h0VXBkYXRlIiwic3lsSWQiLCJlbGVtIiwiZ2V0SGlnaGxpZ2h0VHlwZSIsImNsb3Nlc3QiLCJzcGFuIiwiYXN5bmMiLCJpc0xpZ2F0dXJlIiwibmMiLCJuZW9uVmlldyIsImF0dHJpYnV0ZXMiLCJnZXRFbGVtZW50QXR0ciIsInZpZXciLCJnZXRDdXJyZW50UGFnZVVSSSIsIkJvb2xlYW4iLCJsaWdhdGVkIiwiZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUiLCJzZWxlY3Rpb25UeXBlIiwiZWxlbWVudHMiLCJzaGFyZWRTZWNvbmRMZXZlbFBhcmVudCIsInRlbXBFbGVtZW50cyIsInNlY29uZFBhcmVudCIsImxvZyIsInNlY1BhciIsInNlbGVjdEJCb3giLCJiYm94Iiwic3lsIiwicmVzaXplIiwicXVlcnlTZWxlY3RvciIsInBhcmVudCIsInByZXZOYyIsInByZXZpb3VzU2libGluZyIsIm5leHROYyIsIm5leHRTaWJsaW5nIiwidHJpZ2dlckdyb3VwaW5nIiwidHJpZ2dlck5jQWN0aW9ucyIsImFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlIiwic29ydGVkRWxlbWVudHMiLCJqIiwiaXNTYW1lTm9kZSIsImZpcnN0RWxlbSIsInNlY29uZEVsZW0iLCJpbmRleDEiLCJpbmRleE9mIiwiaW5kZXgyIiwiTWF0aCIsImFicyIsInJlZmVyZW5jZVBhcmVudFN0YWZmIiwicmVmZXJlbmNlUGFyZW50U3lsbGFibGUiLCJlbGVtZW50c0FycmF5IiwiYW5vdGhlclN0YWZmIiwidWx4IiwidWx5IiwibHJ4IiwibHJ5Iiwicm90YXRlIiwicGF0aCIsImNvb3JkaW5hdGVzIiwiZ2V0QXR0cmlidXRlIiwibWF0Y2giLCJtYXAiLCJhdGFuIiwibWluIiwibWF4Iiwibm90TmV1bWVzIiwibm4iLCJzZWxlY3Rpb25DbGFzcyIsImNvbnRhaW5zTGF5ZXJFbGVtZW50cyIsImNvbnRhaW5zTmMiLCJncm91cHNUb1NlbGVjdCIsIlNldCIsImdyb3VwaW5nIiwiZm9sbG93cyIsInByZWNlZGVzIiwiZ3JvdXAiLCJncm91cHMiLCJ2YWx1ZXMiLCJ0cmlnZ2VyU3RhZmZBY3Rpb25zIiwic2l6ZSIsInRyaWdnZXJDbGVmQWN0aW9ucyIsInRyaWdnZXJDdXN0b3NBY3Rpb25zIiwidHJpZ2dlckFjY2lkQWN0aW9ucyIsInRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIiwidHJpZ2dlckRlZmF1bHRBY3Rpb25zIiwidHJpZ2dlclN5bGxhYmxlQWN0aW9ucyIsImlzTGlua2FibGUiLCJpc0dyb3VwYWJsZSIsInRyaWdnZXJOZXVtZUFjdGlvbnMiLCJjaGlsZHJlbiIsImZpcnN0TkMiLCJzZWNvbmROQyIsImZpcnN0TkNYIiwieCIsImJhc2VWYWwiLCJzZWNvbmROQ1giLCJmaXJzdE5DWSIsInkiLCJzZWNvbmROQ1kiLCJnIiwidHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zIiwibm90aWZpY2F0aW9ucyIsImN1cnJlbnRNb2RlTWVzc2FnZSIsIm5vdGlmeWluZyIsIm5vdGlmaWNhdGlvbkljb24iLCJkZWZhdWx0Iiwic3VjY2VzcyIsIk5vdGlmaWNhdGlvbiIsImRpc3BsYXllZCIsInV1aWR2NCIsImlzTW9kZU1lc3NhZ2UiLCJzZWFyY2giLCJ0aW1lb3V0SUQiLCJjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJnZXRJZCIsInN0YXJ0Tm90aWZpY2F0aW9uIiwiZGlzcGxheSIsImN1cnJlbnROb3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJ3aW5kb3ciLCJub3RpZmljYXRpb25Db250ZW50IiwibmV3Tm90aWZpY2F0aW9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsImRpc3BsYXlOb3RpZmljYXRpb24iLCJzZXRUaW1lb3V0SWQiLCJxdWV1ZU5vdGlmaWNhdGlvbiIsIm5vdGlmIiwicmVjb3JkTm90aWZpY2F0aW9uIiwibG9jYWxTZXR0aW5ncyIsIkRFRkFVTFRfU0VUVElOR1MiLCJ6b29tIiwiZ2x5cGhPcGFjaXR5IiwiaW1hZ2VPcGFjaXR5IiwiaGlnaGxpZ2h0TW9kZSIsInNlbGVjdGlvbk1vZGUiLCJkaXNwbGF5QkJveCIsImRpc3BsYXlUZXh0IiwiZGlzcGxheUluZm8iLCJkaXNwbGF5RXJyTG9nIiwidmlld0JveCIsInNldHRpbmdzIiwicGFyYW1zIiwiZm9saW9JZCIsImxvYWQiLCJzdG9yZWQiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3luYyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJpbnNlcnRUYWJIdG1sIiwicHJpbWl0aXZlVGFiIiwiZ3JvdXBpbmdUYWIiLCJzeXN0ZW1UYWIiLCJpbnNlcnRDb250cm9sc1BhbmVsIiwiZWRpdENvbnRyb2xzUGFuZWwiLCJuY0FjdGlvbkNvbnRlbnRzIiwiZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMiLCJuZXVtZUFjdGlvbkNvbnRlbnRzIiwic3RhZmZBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInNwbGl0QWN0aW9uQ29udGVudHMiLCJjbGVmQWN0aW9uQ29udGVudHMiLCJncm91cGluZ01lbnUiLCJuZXVtZSIsImxpZ2F0dXJlTmMiLCJsaWdhdHVyZSIsInNwbGl0U3lsbGFibGUiLCJlZGl0VGV4dE1vZGFsIiwiaG90a2V5c01vZGFsIiwic3lsbGFibGVBY3Rpb25zQ29udGVudCIsImVycm9yTG9nc1BhbmVsQ29udGVudHMiLCJieXRlVG9IZXgiLCJ0b1N0cmluZyIsInN1YnN0ciIsIm9mZnNldCIsInV1aWQiLCJ0b0xvd2VyQ2FzZSIsImdldFNWR1JlbENvb3JkcyIsImNsaWVudFgiLCJjbGllbnRZIiwicHQiLCJET01Qb2ludCIsInN5c3RlbSIsIm1hdHJpeFRyYW5zZm9ybSIsImdldFNjcmVlbkNUTSIsImludmVyc2UiLCJnZXRTdGFmZklkQnlDb29yZHMiLCJzdGFmZkJCb3hlcyIsImdldFN0YWZmQkJveCIsImZpbmQiLCJzdGFmZklkIiwiYmdJbWciLCJyZWN0IiwidGFnTmFtZSIsImdldEJCb3giLCJwYXJlbnROb2RlIiwid2lkdGgiLCJoZWlnaHQiLCJlIiwidW5zZXRJbmNsaW5hdHVtQWN0aW9uIiwiYWN0aW9uIiwicGFyYW0iLCJlbGVtZW50SWQiLCJhdHRyVHlwZSIsImF0dHJWYWx1ZSIsInVuc2V0VmlyZ2FBY3Rpb24iLCJ1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24iLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uIiwiZGVsZXRlQnV0dG9uSGFuZGxlciIsImV2dCIsInJlbW92ZUhhbmRsZXIiLCJwcmV2ZW50RGVmYXVsdCIsIm1vcmVFZGl0IiwiZXh0cmFFZGl0IiwiYm9keSIsInRvUmVtb3ZlIiwiY2hhaW5BY3Rpb24iLCJlZGl0IiwidGhlbiIsInVwZGF0ZUZvckN1cnJlbnRQYWdlIiwiY2hhbmdlU3RhZmZIYW5kbGVyIiwidG9DaGFuZ2UiLCJpbnNlcnRUb1N5bGxhYmxlSGFuZGxlciIsInRvSW5zZXJ0IiwicmVzdWx0IiwibW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIiLCJ0b01vdmUiLCJhZGREZWxldGVMaXN0ZW5lciIsImRlbCIsImFkZENoYW5nZVN0YWZmTGlzdGVuZXIiLCJzZXRFZGl0Q29udHJvbHMiLCJlZGl0VHlwZSIsImNvbnRlbnRzIiwicmVwbGFjZSIsInRyaWdnZXJTdGFmZlNwbGl0TW9kZSIsIlNwbGl0U3RhZmZIYW5kbGVyIiwic3RhcnRTcGxpdCIsImluaXRPcHRpb25zTGlzdGVuZXJzIiwiZHJvcCIsIm9wdGlvbnNDbGlja2F3YXkiLCJ0b2dnbGUiLCJmaWx0ZXIiLCJvdGhlciIsInN0b3BQcm9wYWdhdGlvbiIsImluaXROZW9uVmlldyIsIkNvbnRlbnRzIiwidW5zZXRJbmNsaW5hdHVtIiwidW5zZXRWaXJnYSIsInVuc2V0VmlyZ2FSZXZlcnNlZCIsInVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSIsInVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UiLCJzZXRJbmNsaW5hdHVtIiwic2V0VmlyZ2EiLCJzZXRWaXJnYVJldmVyc2VkIiwic2V0TGlxdWVzY2VudENsb2Nrd2lzZSIsInNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwidHJpZ2dlckNoYW5nZUdyb3VwIiwiY29udG91ciIsImNoYW5nZUdyb3VwaW5nQWN0aW9uIiwiU3BsaXROZXVtZUhhbmRsZXIiLCJpbmZvIiwiZ2V0Q29udG91ckJ5VmFsdWUiLCJleHRyYUFjdGlvbnNIVE1MIiwiY2xlZiIsImluY3JlbWVudE9jdGF2ZSIsImRpcmVjdGlvbiIsInNldENDbGVmIiwic2hhcGUiLCJzZXRGQ2xlZiIsImFjY2lkIiwiY2hhbmdlVG9GbGF0IiwiY2hhbmdlVG9OYXR1cmFsIiwibWVyZ2VTdGF2ZXMiLCJwb2ludHMiLCJ5X2NoYW5nZSIsInRhbiIsImVkaXRvckFjdGlvbiIsImhleF9jaHIiLCJtZDVjeWNsZSIsImsiLCJhIiwiYiIsIm1kNWJsayIsIm1kNWJsa3MiLCJjaGFyQ29kZUF0IiwibWQ1YmxrX2FycmF5IiwibWQ1MSIsInRhaWwiLCJ0bXAiLCJsbyIsImhpIiwic3Vic3RyaW5nIiwicGFyc2VJbnQiLCJyaGV4IiwiaGV4Iiwiam9pbiIsInRvVXRmOCIsInN0ciIsInVuZXNjYXBlIiwiZW5jb2RlVVJJQ29tcG9uZW50IiwiaGV4VG9CaW5hcnlTdHJpbmciLCJieXRlcyIsImZyb21DaGFyQ29kZSIsIlNwYXJrTUQ1IiwicmVzZXQiLCJBcnJheUJ1ZmZlciIsImNsYW1wIiwidmFsIiwidG8iLCJudW0iLCJ0YXJnZXRBcnJheSIsInNvdXJjZUFycmF5IiwiYnl0ZUxlbmd0aCIsImJlZ2luIiwiZW5kIiwiVWludDhBcnJheSIsImFwcGVuZEJpbmFyeSIsIl9idWZmIiwiX2xlbmd0aCIsIl9oYXNoIiwicmF3IiwiYnVmZiIsIl9maW5pc2giLCJnZXRTdGF0ZSIsImhhc2giLCJzZXRTdGF0ZSIsImRlc3Ryb3kiLCJoYXNoQmluYXJ5IiwiY29udGVudCIsImZpcnN0Iiwic2Vjb25kIiwicmV0dXJuVUludDhBcnJheSIsImJ1ZmZlciIsInN1YmFycmF5IiwidXRmOFN0cjJBcnJheUJ1ZmZlciIsIm1kNTFfYXJyYXkiLCJmYWN0b3J5IiwiQ29sb3JQYWxldHRlIiwicmVjdHMiLCJzZXRBdHRyaWJ1dGUiLCJ1bnNldFN0YWZmSGlnaGxpZ2h0IiwidW5zZXRHcm91cGluZ0hpZ2hsaWdodCIsImNoaWxkIiwiY2NoaWxkIiwic2V0U3RhZmZIaWdobGlnaHQiLCJzdGF2ZXMiLCJzdGFmZkNvbG9yIiwic2V0R3JvdXBpbmdIaWdobGlnaHQiLCJncm91cENvbG9yIiwibGFzdEdseXBoT3BhY2l0eSIsImxhc3RJbWFnZU9wYWNpdHkiLCJzZXRPcGFjaXR5RnJvbVNsaWRlciIsIm1laUNsYXNzTmFtZSIsIm9wYWNpdHlPdXRwdXQiLCJzZXRTZXR0aW5ncyIsImhpZGVHbHlwaHNJbWciLCJvcGFjaXR5Iiwic2V0QmdPcGFjaXR5RnJvbVNsaWRlciIsImJhY2tncm91bmQiLCJiZ09wYWNpdHlPdXRwdXQiLCJiZyIsInVwZGF0ZUhpZ2hsaWdodE9wdGlvbiIsIm9wdGlvbiIsImRyb3Bkb3duIiwiaGlnaGxpZ2h0VHlwZSIsInRleHRDb250ZW50IiwidG9VcHBlckNhc2UiLCJzZXRIaWdobGlnaHRPcHRpb24iLCJoaWdobGlnaHRDbGlja2F3YXkiLCJzZXRIaWdobGlnaHRDb250cm9scyIsImxvYWRIaWdobGlnaHRTZXR0aW5ncyIsImdldFNldHRpbmdzIiwiem9vbUhhbmRsZXIiLCJ6b29tU2xpZGVyIiwiem9vbU91dHB1dCIsInpvb21UbyIsInJlc2V0Wm9vbUFuZFBhbiIsImRpc2FibGVkIiwiY3VycmVudFpvb20iLCJuZXdab29tIiwiaGlnaGxpZ2h0U2VsZWN0aW9uIiwiaGlnaGxpZ2h0SWQiLCJvcGFjaXR5U2xpZGVyIiwiaW5wdXRDaGFuZ2VPcGFjaXR5IiwidG9nZ2xlT3BhY2l0eUJ0biIsIm5ld09wYWNpdHkiLCJyb3VuZCIsInNldE9wYWNpdHlDb250cm9scyIsImJnT3BhY2l0eVNsaWRlciIsImJnSW5wdXRDaGFuZ2VIYW5kbGVyIiwidG9nZ2xlQmdPcGFjaXR5QnRuIiwic2V0QmFja2dyb3VuZE9wYWNpdHlDb250cm9scyIsIm1ldGFLZXkiLCJzZWxlY3RBbGxCdG4iLCJvcHRpb25zIiwiY2hlY2tlZCIsImNsaWNrIiwic2V0RGlzcGxheUFsbExpc3RlbmVyIiwiZGlzcGxheUNvbnRlbnRzIiwidG9nZ2xlRGlzcGxheSIsInBhZGRpbmciLCJvdmVyZmxvdyIsIk1vZGFsV2luZG93VmlldyIsIk1vZGFsV2luZG93U3RhdGUiLCJvcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdyIsImhpZGVNb2RhbFdpbmRvdyIsInVwZGF0ZVN5bFRleHQiLCJmb2N1c01vZGFsV2luZG93Iiwib3JpZyIsInRyaW0iLCJ1cGRhdGVkU3lsVGV4dCIsImVudHJpZXMiLCJjbGFzc05hbWUiLCJ0ZXh0IiwicmVzcG9uc2UiLCJ1cGRhdGVTZWxlY3RlZEJCb3giLCJrZXlkb3duTGlzdGVuZXIiLCJzdG9wSW1tZWRpYXRlUHJvcGFnYXRpb24iLCJtb2RhbFdpbmRvd1ZpZXciLCJFRElUX1RFWFQiLCJmb2N1cyIsIm1vZGFsV2luZG93U3RhdGUiLCJDTE9TRUQiLCJzZXRNb2RhbFdpbmRvd0NvbnRlbnQiLCJIT1RLRVlTIiwiRE9DVU1FTlRfVVBMT0FEIiwib3ZlcmZsb3dYIiwib3ZlcmZsb3dZIiwiT1BFTiIsImlubmVyVGV4dCIsInJlbW92ZVN5bWJvbCIsIlZBTElEQVRJT05fU1RBVFVTIiwidXBsb2FkQXJlYUhUTUwiLCJzZWxlY3RvciIsImRyYWdTdGFydENvb3JkcyIsImRyYWdCZWhhdmlvdXIiLCJkcmFnIiwiZXZlbnQiLCJkeCIsImR5Iiwic291cmNlRXZlbnQiLCJkcmFnZ2luZyIsImRyYWdFbmRlZCIsInNlbGVjdGlvbiIsIm1vdmVFbGVtZW50cyIsImJib3hlcyIsInhEaWZmIiwieURpZmYiLCJpc0N1cnNvck91dE9mQm91bmRzIiwiaXNEcmFnT3V0T2ZCb3VuZHMiLCJyZXR1cm5FbGVtZW50cyIsInBhcmFtQXJyYXkiLCJkcmFnQWN0aW9uIiwidG9SZXNlbGVjdCIsInJlc2VsZWN0IiwicmVzZWxlY3RlZCIsInJlc2V0VG9BY3Rpb24iLCJlbmRYIiwiZW5kWSIsImlzT3V0T2ZTVkdCb3VuZHMiLCJnbHlwaFNlbGVjdG9yIiwic2VsZWN0aW9uQkJveCIsInJlZHVjZSIsImFjYyIsImdldEdseXBoQkJveCIsImN1cnIiLCJNQVhfVkFMVUUiLCJNSU5fVkFMVUUiLCJnZXRSYW5kb21WYWx1ZXMiLCJybmRzOCIsInJuZyIsImNyeXB0byIsIm1zQ3J5cHRvIiwib2JqIiwic3RhY2siLCJtZXRhU3RhY2siLCJsYXN0TWV0YUVsZW1lbnQiLCJsYXN0RWxlbWVudEluZGV4IiwiaXNBcnJheSIsImlucHV0IiwibmV4dCIsImFycmF5UHJlZml4Iiwib2JqUHJlZml4IiwicmVzIiwicHJlZml4IiwiY29sbGF0aW9uSW5kZXgiLCJwYXJzZWROdW0iLCJudW1DaGFyIiwicGFyc2VkU3RyaW5nIiwibGFzdENoIiwibnVtQ29uc2VjdXRpdmVTbGFzaGVzIiwiY2giLCJhcnJheUVsZW1lbnQiLCJvYmpFbGVtZW50IiwicGFyc2VGbG9hdCIsImJ1ZiIsInJuZHMiLCJyYW5kb20iLCJ1aW50OFRvVXVpZCIsImRhdGEiLCJjYiIsInByZXZpb3VzIiwiY3VycmVudCIsInBhZFN0YXJ0Iiwib2N0ZXRzIiwibW9kaWZpZXJzIiwiU2VsZWN0VG9vbHMiLCJzaGFyZWRMb2dpY2FsUGFyZW50IiwiYXJlQWRqYWNlbnQiLCJpc0xpbmtlZCIsImlzTXVsdGlTdGF2ZVNlbGVjdGlvbiIsInN0YWZmMCIsInN0YWZmMSIsInN0YWZmQ2hpbGRyZW4iLCJmaXJzdFN0YWZmIiwic2Vjb25kU3RhZmYiLCJmaXJzdExheWVyIiwic2Vjb25kTGF5ZXIiLCJmaXJzdFN5bGxhYmxlQ2hpbGRyZW4iLCJzZWNvbmRTeWxsYWJsZUNoaWxkcmVuIiwibGFzdFN5bGxhYmxlIiwiZmlyc3RTeWxsYWJsZSIsInN5c3RlbXMiLCJlbGVtZW50SWRzIiwiZ3JvdXBpbmdBY3Rpb24iLCJnZXRDaGlsZHJlbklkcyIsImdldElkcyIsInRvZ2dsZUxpbmtlZFN5bGxhYmxlcyIsImdyb3VwVHlwZSIsIm5ldW1lUGFyZW50IiwibmNzIiwiZ2V0Q29udG91ciIsIldhcm5pbmdzIiwiZ3JvdXBpbmdOb3RSZWNvZ25pemVkIiwic3lsbGFibGUwIiwic3lsbGFibGUxIiwic2Vjb25kU3lsbGFibGUiLCJpZHMiLCJjaGlsZHJlbklkcyIsIlBvaW50TmFtZXMiLCJUb3BMZWZ0IiwiVG9wIiwiVG9wUmlnaHQiLCJSaWdodCIsIkJvdHRvbVJpZ2h0IiwiQm90dG9tIiwiQm90dG9tTGVmdCIsIkxlZnQiLCJnZXRQb2ludHMiLCJzaW4iLCJpbml0aWFsVWx4IiwiaW5pdGlhbExyeCIsImluaXRpYWxQb2ludCIsImluaXRpYWxVbHkiLCJpbml0aWFsTHJ5IiwiaW5pdGlhbFkiLCJpbml0aWFsUmVjdFkiLCJwb2x5TGVuIiwiaW5pdGlhbFJvdGF0ZSIsInJlZHJhdyIsInBvaW50U3RyaW5nIiwiX2VsZW0iLCJ0ZXh0UmVjdCIsInBvaW50TmFtZSIsInBvaW50IiwiYXR0ciIsInBvaW50U3RyaW5nUmlnaHQiLCJwb2ludFN0cmluZ0xlZnQiLCJkcmF3SW5pdGlhbFJlY3QiLCJ3aGljaFBvaW50IiwiXyIsInZpZXdwb3J0RWxlbWVudCIsInJlc2l6ZVN0YXJ0IiwicmVzaXplRHJhZyIsInJlc2l6ZUVuZCIsInJvdGF0ZVN0YXJ0IiwidGVtcCIsIm1vdXNlIiwidGVtcFJvdGF0ZSIsInJvdGF0ZUVuZCIsImN1cnJlbnRQb2ludCIsIndoaWNoIiwiUEkiLCJzdHJva2VXaWR0aCIsImVzY2FwZUtleUxpc3RlbmVyIiwiaW5mb0xpc3RlbmVycyIsImVudGVyS2V5TGlzdGVuZXIiLCJhcnJvd0tleUxpc3RlbmVyIiwiYmJveFN5bGxhYmxlcyIsImluZCIsImlzU2VsQnlCQm94Iiwic2VsQnlCQm94Iiwic3RvcFByb3BIYW5kbGVyIiwiaXNFbGVtZW50SW5SZWN0IiwidWwiLCJsciIsImdldEJCb3hDb29yZHMiLCJib3giLCJjbGlja0hhbmRsZXIiLCJnZXRVc2VyTW9kZSIsInNoaWZ0S2V5IiwiZmlyc3RMaWdhdHVyZUhhbGYiLCJzZWNvbmRMaWdhdHVyZUhhbGYiLCJuY0luZGV4IiwiZmlyc3RVc2UiLCJhc3NlcnQiLCJzZWNvbmRVc2UiLCJpc011bHRpU2VsZWN0Iiwic2VsZWN0ZWRDbGFzcyIsInNlbEJ5U3RhZmYiLCJzZWxCeU5ldW1lIiwic2VsQnlOYyIsInNlbEJ5TGF5ZXJFbGVtZW50IiwiaW5jbHVkZXMiLCJnZXRTdGFmZkJ5Q29vcmRzIiwiZGlzcGF0Y2hFdmVudCIsIk1vdXNlRXZlbnQiLCJzY3JlZW5YIiwic2NyZWVuWSIsImN0cmxLZXkiLCJhbHRLZXkiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJudiIsImRoIiwic2VsIiwiaW5pdGlhbFgiLCJwYW5uaW5nIiwiZHJhZ1NlbGVjdGluZyIsImNhbnZhcyIsImRyYWdTZWxlY3RBY3Rpb24iLCJ1c2VyTW9kZSIsIm5vZGVOYW1lIiwic3RhcnREcmFnIiwiaW5pdGlhbFAiLCJjdXJyZW50UHQiLCJjdXJYIiwiY3VyWSIsIm5ld1giLCJuZXdZIiwiY3VycmVudFdpZHRoIiwiY3VycmVudEhlaWdodCIsInVwZGF0ZVJlY3QiLCJzZWxlY3RSZWN0IiwicngiLCJyeSIsImx4IiwibHkiLCJub2RlIiwidHJhbnNmb3JtIiwibXVsdGlwbHkiLCJzZWxlY3RlZEVsZW1lbnRzIiwiZ2V0RWxlbWVudHNCeVNlbGVjdG9yIiwicmVzZXRUbyIsImluaXRFcnJvckxvZ0NvbnRyb2xzIiwiZXJyb3JQYW5lbCIsImhlYWRpbmciLCJkcm9wZG93bkljb24iLCJpbml0RGlzcGxheUxpc3RlbmVyIiwibm90aWZQYW5lbCIsImNoZWNrYm94ZXNDb250YWluZXIiLCJlcnJvcnNMYWJlbCIsImVyb3Jyc0J0biIsImFwcGVuZENoaWxkIiwiZGlzcGxheUFsbEJ0biIsImRpc3BsYXlCQm94ZXMiLCJub3RpZkRpdiIsIm9uY2xpY2siLCJjcmVhdGVMb2dNZXNzYWdlIiwic2VsQnlTeWxsYWJsZUxpc3RlbmVyIiwiYWRkQkJveExpc3RlbmVycyIsImJib3hJZCIsImRpc3BsYXlSZWN0IiwiaW5pdFRleHRFZGl0Iiwic3BhbnMiLCJtb2RhbCIsInNlbGVjdFN5bFRleHQiLCJzZXRNb2RhbFdpbmRvd1ZpZXciLCJvcGVuTW9kYWxXaW5kb3ciLCJOZXVtZUVkaXQiLCJibG9jayIsImJ1dHRvbiIsImFkZFVwZGF0ZUNhbGxiYWNrIiwic2V0U2VsZWN0SGVscGVyT2JqZWN0cyIsImNsaWNrU2VsZWN0IiwiZHJhZ1NlbGVjdCIsIkV4cG9ydGVkU2V0IiwiRXhwb3J0ZWRNYXAiLCJtYW5nbGUiLCJ1bm1hbmdsZSIsIk1hcCQxIiwiX3N0b3JlIiwiU2V0JDEiLCJjbG9uZUJpbmFyeU9iamVjdCIsImNsb25lQXJyYXlCdWZmZXIiLCJ3ZWJraXRTbGljZSIsIm1hbmdsZWQiLCJoYXMiLCJkZWxldGUiLCJNYXAiLCJwcm9wIiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwic3BlY2llcyIsInN1cHBvcnRzTWFwQW5kU2V0IiwiZnVuY1RvU3RyaW5nIiwib2JqZWN0Q3RvclN0cmluZyIsImNsb25lIiwibmV3T2JqZWN0IiwiRGF0ZSIsImlzRmluaXRlIiwidG9JU09TdHJpbmciLCJCbG9iIiwiaXNCaW5hcnlPYmplY3QiLCJwcm90byIsIkN0b3IiLCJpc1BsYWluT2JqZWN0IiwiY2FsbGVkIiwidG9Qcm9taXNlIiwiZnVuYyIsInNlbGYiLCJ1c2VkQ0IiLCJwcm9taXNlIiwiZnVsZmlsbCIsInJlc3AiLCJjYWxsYmFjayIsIm1lc2ciLCJhZGFwdGVyRnVuIiwiX2Nsb3NlZCIsIl9kZXN0cm95ZWQiLCJsb2dBcmdzIiwib3JpZ0NhbGxiYWNrIiwicmVzcG9uc2VBcmdzIiwibG9nQXBpQ2FsbCIsInRhc2txdWV1ZSIsImlzUmVhZHkiLCJhZGRUYXNrIiwiZmFpbGVkIiwicGljayIsImhhc0xvY2FsIiwiaWRlbnRpdHlGdW5jdGlvbiIsImZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0Iiwib2siLCJidWxrR2V0IiwiZGIiLCJvcHRzIiwicmVxdWVzdHMiLCJkb2NzIiwicmVxdWVzdHNCeUlkIiwicmVxdWVzdCIsIm51bURvY3MiLCJudW1Eb25lIiwicGVyRG9jUmVzdWx0cyIsImNoZWNrRG9uZSIsInJlc3VsdHMiLCJhbGxSZXF1ZXN0cyIsIm5leHRCYXRjaCIsInVwVG8iLCJiYXRjaCIsImRvY0lkIiwiZG9jSWR4IiwiZG9jUmVxdWVzdHMiLCJkb2NPcHRzIiwib3Blbl9yZXZzIiwicmV2IiwiZm9ybWF0UmVzdWx0IiwicHJvY2Vzc0JhdGNoIiwiaGFzTG9jYWxTdG9yYWdlIiwiQ2hhbmdlcyIsImF0dGFjaEJyb3dzZXJFdmVudHMiLCJndWFyZGVkQ29uc29sZSIsIm1ldGhvZCIsImRlZmF1bHRCYWNrT2ZmIiwibWF4VGltZW91dCIsInJhbmRvbU51bWJlciIsImV4cGxhaW5FcnJvciIsInN0YXR1cyIsImRiTmFtZSIsImlucHJvZ3Jlc3MiLCJldmVudEZ1bmN0aW9uIiwiY2hhbmdlc09wdHMiLCJjaGFuZ2VzIiwic2VxIiwic2luY2UiLCJjYW5jZWxsZWQiLCJvbkNoYW5nZSIsIm5vdGlmeUxvY2FsV2luZG93cyIsIm5vdGlmeSIsIiRpbmplY3RfT2JqZWN0X2Fzc2lnbiIsImFzc2lnbiIsIm5leHRTb3VyY2UiLCJuZXh0S2V5IiwiUG91Y2hFcnJvciIsInJlYXNvbiIsIk1JU1NJTkdfQlVMS19ET0NTIiwiTUlTU0lOR19ET0MiLCJSRVZfQ09ORkxJQ1QiLCJJTlZBTElEX0lEIiwiTUlTU0lOR19JRCIsIlJFU0VSVkVEX0lEIiwiVU5LTk9XTl9FUlJPUiIsIkJBRF9BUkciLCJRVUVSWV9QQVJTRV9FUlJPUiIsIkRPQ19WQUxJREFUSU9OIiwiQkFEX1JFUVVFU1QiLCJOT1RfQU5fT0JKRUNUIiwiSURCX0VSUk9SIiwiSU5WQUxJRF9SRVYiLCJNSVNTSU5HX1NUVUIiLCJjcmVhdGVFcnJvciIsIkN1c3RvbVBvdWNoRXJyb3IiLCJuYW1lcyIsImdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UiLCJmaWx0ZXJDaGFuZ2UiLCJyZXEiLCJoYXNGaWx0ZXIiLCJxdWVyeSIsInF1ZXJ5X3BhcmFtcyIsImNoYW5nZSIsImRvYyIsImZpbHRlclJldHVybiIsIm1zZyIsInRyeUZpbHRlciIsImluY2x1ZGVfZG9jcyIsImF0dGFjaG1lbnRzIiwiYXR0IiwiX2F0dGFjaG1lbnRzIiwic3R1YiIsImZsYXR0ZW4iLCJhcnJzIiwiaW52YWxpZElkRXJyb3IiLCJpc1JlbW90ZSIsIl9yZW1vdGUiLCJwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZSIsInBhcnRzIiwic3BsaXQiLCJub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUiLCJub3JtYWxpemVkIiwicVBhcnNlciIsInBhcnNlciIsInBhcnNlVXJpIiwiZXhlYyIsInVyaSIsImVuY29kZWQiLCJkZWNvZGVVUklDb21wb25lbnQiLCIkMCIsIiQxIiwiJDIiLCJzY29wZUV2YWwiLCJzb3VyY2UiLCJzY29wZSIsInVwc2VydCIsImRpZmZGdW4iLCJjYXRjaCIsImRvY1JldiIsIl9yZXYiLCJuZXdEb2MiLCJfaWQiLCJwdXQiLCJ1cGRhdGVkIiwidHJ5QW5kUHV0IiwidGhpc0F0b2IiLCJhdG9iIiwidGhpc0J0b2EiLCJidG9hIiwiY3JlYXRlQmxvYiIsInByb3BlcnRpZXMiLCJidWlsZGVyIiwiQmxvYkJ1aWxkZXIiLCJNU0Jsb2JCdWlsZGVyIiwiTW96QmxvYkJ1aWxkZXIiLCJXZWJLaXRCbG9iQnVpbGRlciIsImdldEJsb2IiLCJiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyIiwiYmluIiwiYmluU3RyaW5nVG9CbHVmZmVyIiwiYmluU3RyaW5nIiwiYjY0VG9CbHVmZmVyIiwiYjY0IiwicmVhZEFzQmluYXJ5U3RyaW5nIiwiYmxvYiIsInJlYWRlciIsIkZpbGVSZWFkZXIiLCJoYXNCaW5hcnlTdHJpbmciLCJvbmxvYWRlbmQiLCJiaW5hcnkiLCJhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nIiwicmVhZEFzQXJyYXlCdWZmZXIiLCJibG9iVG9CaW5hcnlTdHJpbmciLCJibG9iT3JCdWZmZXIiLCJibG9iVG9CYXNlNjQiLCJiYXNlNjQiLCJzZXRJbW1lZGlhdGVTaGltIiwic2V0SW1tZWRpYXRlIiwiYXBwZW5kQmxvYiIsInN0YXJ0Iiwic2xpY2VCbG9iIiwiYXJyYXlCdWZmZXIiLCJhcHBlbmRTdHJpbmciLCJzdHJpbmciLCJiaW5hcnlNZDUiLCJpbnB1dElzU3RyaW5nIiwiY2h1bmtTaXplIiwiY2h1bmtzIiwiY2VpbCIsImN1cnJlbnRDaHVuayIsImxvYWROZXh0Q2h1bmsiLCJkb25lIiwicmF3VG9CYXNlNjQiLCJzdHJpbmdNZDUiLCJyZXYkJDEiLCJkZXRlcm1pbmlzdGljX3JldnMiLCJtdXRhdGVhYmxlRG9jIiwiX3Jldl90cmVlIiwid2lubmluZ1JldiIsIm1ldGFkYXRhIiwid2lubmluZ0lkIiwid2lubmluZ1BvcyIsIndpbm5pbmdEZWxldGVkIiwidG9WaXNpdCIsInJldl90cmVlIiwidHJlZSIsImJyYW5jaGVzIiwicG9zIiwiZGVsZXRlZCIsInRyYXZlcnNlUmV2VHJlZSIsInJldnMiLCJuZXdDdHgiLCJjdHgiLCJzb3J0QnlQb3MiLCJjb2xsZWN0TGVhdmVzIiwibGVhdmVzIiwiaXNMZWFmIiwic29ydCIsInJldmVyc2UiLCJjb2xsZWN0Q29uZmxpY3RzIiwid2luIiwiY29uZmxpY3RzIiwibGVhZiIsInJvb3RUb0xlYWYiLCJwYXRocyIsImhpc3RvcnkiLCJzb3J0QnlQb3MkMSIsImluc2VydFNvcnRlZCIsIml0ZW0iLCJjb21wYXJhdG9yIiwiaWR4IiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsIlJlZ0V4cCIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJldmVyeSIsImRvY0ZpZWxkVmFsdWUiLCJzb21lIiwib3JNYXRjaGVycyIsIm1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IiLCJtYXRjaFNlbGVjdG9yIiwibWF5YmVVc2VyT3BlcmF0b3IiLCJ1c2VyVmFsdWUiLCJzdWJQYXJzZWRGaWVsZCIsInN1YkRvY0ZpZWxkVmFsdWUiLCJ1c2VyT3BlcmF0b3IiLCJtYXRjaGVycyIsImZpZWxkRXhpc3RzIiwiZmllbGRJc05vdFVuZGVmaW5lZCIsImFycmF5Q29udGFpbnNWYWx1ZSIsImRvY0ZpZWxkVmFsdWVJdGVtIiwibW9kRmllbGQiLCJuZVZhbHVlIiwiYXJyYXlTaXplIiwiYXJyYXlDb250YWluc0FsbFZhbHVlcyIsInJlZ2V4VmFsdWUiLCJyZWdleE1hdGNoIiwidHlwZU1hdGNoIiwiZmlsdGVyTmFtZSIsImNoYW5nZXNIYW5kbGVyIiwiZG9jX2lkcyIsInZpZXdOYW1lIiwiZGRvYyIsIm1hcEZ1biIsInZpZXdzIiwicm93c01hdGNoZWQiLCJtYXRjaGVzU2VsZWN0b3IiLCJmaWx0ZXJGdW4iLCJmaWx0ZXJzIiwidG9PYmplY3QiLCJ2ZXJzaW9uIiwicmVzZXJ2ZWRXb3JkcyIsImRhdGFXb3JkcyIsInBhcnNlUmV2aXNpb25JbmZvIiwicGFyc2VEb2MiLCJuZXdFZGl0cyIsImRiT3B0cyIsIm5SZXZOdW0iLCJyZXZJbmZvIiwicmV2aXNpb25zIiwicmV2aXNpb25JZHMiLCJtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMiLCJzcGVjaWFsS2V5IiwicHJlcHJvY2Vzc1N0cmluZyIsImJsb2JUeXBlIiwiYXNCaW5hcnkiLCJwYXJzZUJhc2U2NCIsImRpZ2VzdCIsInByZXByb2Nlc3NBdHRhY2htZW50IiwibWQ1IiwicHJlcHJvY2Vzc0Jsb2IiLCJ1cGRhdGVEb2MiLCJyZXZMaW1pdCIsInByZXYiLCJkb2NJbmZvIiwid3JpdGVEb2MiLCJzcGxpdFJldiIsInRhcmdldFBvcyIsInRhcmdldElkIiwicmV2RXhpc3RzIiwicHJldmlvdXNXaW5uaW5nUmV2IiwicHJldmlvdXNseURlbGV0ZWQiLCJpc1Jvb3QiLCJuZXdSZXYiLCJyZXZfbWFwIiwid2lubmluZ1JldiQkMSIsIndpbm5pbmdSZXZJc0RlbGV0ZWQiLCJkZWx0YSIsInByb2Nlc3NEb2NzIiwiZG9jSW5mb3MiLCJmZXRjaGVkRG9jcyIsInR4Iiwib3ZlcmFsbENhbGxiYWNrIiwiaWRzVG9Eb2NzIiwiZG9jc0RvbmUiLCJkb2NzVG9EbyIsImNoZWNrQWxsRG9jc0RvbmUiLCJjdXJyZW50RG9jIiwicmVzdWx0c0lkeCIsImRvY1dyaXR0ZW4iLCJuZXh0RG9jIiwicm9vdElzTWlzc2luZyIsImluc2VydERvYyIsIkRPQ19TVE9SRSIsIk1FVEFfU1RPUkUiLCJzYWZlSnNvblN0cmluZ2lmeSIsImpzb24iLCJpZGJFcnJvciIsImVuY29kZU1ldGFkYXRhIiwiZGVsZXRlZE9yTG9jYWwiLCJkZWNvZGVNZXRhZGF0YSIsInN0b3JlZE9iamVjdCIsInNhZmVKc29uUGFyc2UiLCJkZWNvZGVEb2MiLCJfZG9jX2lkX3JldiIsImxhc3RJbmRleE9mIiwicmVhZEJsb2JEYXRhIiwiYXNCbG9iIiwiZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5IiwidHhuIiwiYXR0T2JqIiwib2JqZWN0U3RvcmUiLCJvbnN1Y2Nlc3MiLCJmZXRjaEF0dGFjaG1lbnQiLCJwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzIiwiYXR0TmFtZXMiLCJjb21wYWN0UmV2cyIsInBvc3NpYmx5T3JwaGFuZWREaWdlc3RzIiwic2VxU3RvcmUiLCJhdHRTdG9yZSIsImF0dEFuZFNlcVN0b3JlIiwiSURCS2V5UmFuZ2UiLCJib3VuZCIsImRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMiLCJvcGVuQ3Vyc29yIiwib25seSIsImN1cnNvciIsImRpZ2VzdFNlcSIsInByaW1hcnlLZXkiLCJjb250aW51ZSIsIm9wZW5UcmFuc2FjdGlvblNhZmVseSIsImlkYiIsInN0b3JlcyIsInRyYW5zYWN0aW9uIiwiaWRiQnVsa0RvY3MiLCJkb2NTdG9yZSIsImJ5U2VxU3RvcmUiLCJhdHRhY2hTdG9yZSIsImF0dGFjaEFuZFNlcVN0b3JlIiwibWV0YVN0b3JlIiwiZG9jSW5mb0Vycm9yIiwibWV0YURvYyIsImFsbERvY3NQcm9jZXNzZWQiLCJkb2NDb3VudERlbHRhIiwicHJlY29uZGl0aW9uRXJyb3JlZCIsIl9tZXRhIiwiYmxvYlN1cHBvcnQiLCJvbkFsbERvY3NQcm9jZXNzZWQiLCJ1cGRhdGVEb2NDb3VudElmUmVhZHkiLCJkb2NDb3VudCIsIm5ld1JldklzRGVsZXRlZCIsImlzVXBkYXRlIiwiY29sbGVjdFJlc3VsdHMiLCJmaW5pc2hEb2MiLCJhdHRhY2htZW50U2F2ZWQiLCJuZXdBdHQiLCJzYXZlQXR0YWNobWVudCIsIndyaXRlQXR0YWNobWVudHMiLCJhZnRlclB1dERvYyIsInJldnNUb0RlbGV0ZSIsImNvbXBhY3RUcmVlIiwibWV0YWRhdGFUb1N0b3JlIiwiYWZ0ZXJQdXRNZXRhZGF0YSIsImF0dHNBZGRlZCIsImF0dHNUb0FkZCIsIm9uZXJyb3IiLCJpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MiLCJwdXRSZXEiLCJvdmVyYWxsRXJyIiwiZG9jdiIsInJlY3YiLCJwcm9jZXNzZWRBdHRhY2htZW50IiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzIiwidHhuUmVzdWx0Iiwib25hYm9ydCIsIm9udGltZW91dCIsIm9uY29tcGxldGUiLCJmaW5pc2giLCJkaWdlc3RzIiwiZmlsZW5hbWUiLCJ2ZXJpZnlBdHRhY2htZW50IiwiYXR0RXJyIiwidmVyaWZ5QXR0YWNobWVudHMiLCJudW1GZXRjaGVkIiwicmV2c19saW1pdCIsInJlYWRNZXRhZGF0YSIsImZldGNoRXhpc3RpbmdEb2NzIiwic3RhcnRUcmFuc2FjdGlvbiIsInJ1bkJhdGNoZWRDdXJzb3IiLCJrZXlSYW5nZSIsImJhdGNoU2l6ZSIsIm9uQmF0Y2giLCJrZXlzQmF0Y2giLCJ2YWx1ZXNCYXRjaCIsInBzZXVkb0N1cnNvciIsIm9uR2V0QWxsIiwib25HZXRBbGxLZXlzIiwib25DdXJzb3IiLCJnZXRBbGwiLCJnZXRBbGxLZXlzIiwibmV3S2V5UmFuZ2UiLCJsYXN0S2V5IiwidXBwZXIiLCJ1cHBlck9wZW4iLCJjb2RlIiwibG93ZXJCb3VuZCIsImlkYkFsbERvY3MiLCJrZXlSYW5nZUVycm9yIiwiaW5jbHVzaXZlRW5kIiwiaW5jbHVzaXZlX2VuZCIsInVwcGVyQm91bmQiLCJjcmVhdGVLZXlSYW5nZSIsIm9uUmVzdWx0c1JlYWR5IiwidXBkYXRlU2VxIiwib25TdWNjZXNzIiwiZG9jSWRSZXZJbmRleCIsImFsbERvY3NJbm5lciIsImZldGNoRG9jQXN5bmNocm9ub3VzbHkiLCJiYXRjaFZhbHVlcyIsImJhdGNoVmFsdWUiLCJiYXRjaEtleXMiLCJyZXR1cm5WYWwiLCJ0b3RhbF9yb3dzIiwibWF4S2V5IiwiYWxsRG9jc0tleXMiLCJydW5uaW5nIiwiYXBwbHlOZXh0IiwiZG9jSWRzIiwibnVtUmVzdWx0cyIsImRvY0lkc1RvTWV0YWRhdGEiLCJvbkdldE1ldGFkYXRhIiwiZG9jSWRSZXYiLCJvYmplY3RTdG9yZXMiLCJ3aW5uaW5nRG9jcyIsIm1ldGFkYXRhcyIsImZldGNoV2lubmluZ0RvY0FuZE1ldGFkYXRhIiwid2lubmluZ0RvYyIsInByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MiLCJvbkJhdGNoRG9uZSIsImZpbHRlcmVkIiwiYmxvYlN1cHBvcnRQcm9taXNlIiwiY2FjaGVkREJzIiwib3BlblJlcUxpc3QiLCJJZGJQb3VjaCIsInRyeUNvZGUiLCJlbnF1ZXVlVGFzayIsInRoaXNDYWxsYmFjayIsImlkYkdsb2JhbEZhaWx1cmVFcnJvciIsImVucmljaENhbGxiYWNrRXJyb3IiLCJhZGREZWxldGVkT3JMb2NhbEluZGV4IiwiY3JlYXRlSW5kZXgiLCJ1bmlxdWUiLCJtaWdyYXRlTG9jYWxTdG9yZSIsImxvY2FsU3RvcmUiLCJsb2NhbCIsInJhbmdlIiwic2VxQ3Vyc29yIiwibWlncmF0ZUF0dHNBbmRTZXFzIiwiZGlnZXN0TWFwIiwibWlncmF0ZU1ldGFkYXRhIiwib25HZXRNZXRhZGF0YVNlcSIsIm1ldGFkYXRhU2VxIiwiZmV0Y2hNZXRhZGF0YVNlcSIsImluc3RhbmNlSWQiLCJyZXFPcHRzIiwiaGlzdG9yeU5vZGUiLCJhdHRhY2hJZCIsImF0dGFjaG1lbnQiLCJibG9iRGF0YSIsImRvY19jb3VudCIsImlkYl9hdHRhY2htZW50X2Zvcm1hdCIsIm9sZFJldiIsIm9TdG9yZSIsIm9sZERvYyIsIm9wZW5SZXEiLCJpbmRleGVkREIiLCJkZWxldGVEYXRhYmFzZSIsImNhY2hlZCIsImdsb2JhbCIsIm9wZW4iLCJvbnVwZ3JhZGVuZWVkZWQiLCJvbGRWZXJzaW9uIiwiY3JlYXRlT2JqZWN0U3RvcmUiLCJrZXlQYXRoIiwiYXV0b0luY3JlbWVudCIsImNyZWF0ZVNjaGVtYSIsImN1cnJlbnRUYXJnZXQiLCJjcmVhdGVMb2NhbFN0b3JlU2NoZW1hIiwiYWRkQXR0YWNoQW5kU2VxU3RvcmUiLCJtaWdyYXRpb25zIiwibWlncmF0aW9uIiwib252ZXJzaW9uY2hhbmdlIiwic3RvcmVkTWV0YURvYyIsImNvbXBsZXRlU2V0dXAiLCJzdG9yZU1ldGFEb2NJZlJlYWR5IiwiaW5zdGFuY2VLZXkiLCJjb3VudERvY3MiLCJibG9iJCQxIiwibWF0Y2hlZENocm9tZSIsIm1hdGNoZWRFZGdlIiwiY2hlY2tCbG9iU3VwcG9ydCIsInN1cHBvcnRzQnVsa0dldE1hcCIsInJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyIiwiZW5jb2RlRG9jSWQiLCJwcmVwcm9jZXNzQXR0YWNobWVudHMkMSIsImdldEhvc3QiLCJwcm90b2NvbCIsImhhc1VybFByZWZpeCIsInVzZXIiLCJwYXNzd29yZCIsImF1dGgiLCJ1c2VybmFtZSIsImdlbkRCVXJsIiwiZ2VuVXJsIiwicGF0aERlbCIsImhvc3QiLCJwb3J0IiwicGFyYW1zVG9TdHIiLCJIdHRwUG91Y2giLCJkYlVybCIsInNldHVwUHJvbWlzZSIsIm91ckZldGNoIiwiaGVhZGVycyIsImNyZWRlbnRpYWxzIiwibkF1dGgiLCJ0b2tlbiIsInVhIiwiaXNJRSIsImlzVHJpZGVudCIsImlzRWRnZSIsImlzR0VUIiwic2hvdWxkQ2FjaGVCdXN0Iiwibm93IiwiYWRhcHRlckZ1biQkMSIsInNldHVwIiwiZmV0Y2hKU09OIiwidiIsInNraXBfc2V0dXAiLCJlbmNvZGVBdHRhY2htZW50SWQiLCJ1dWlkJCQxIiwicGluZyIsImNvbXBhY3RfcnVubmluZyIsImludGVydmFsIiwiZG9CdWxrR2V0IiwiZG9CdWxrR2V0U2hpbSIsIm51bUJhdGNoZXMiLCJvblJlc3VsdCIsImJhdGNoTnVtIiwic3ViT3B0cyIsInN1cHBvcnRzQnVsa0dldCIsImZldGNoQXR0YWNobWVudHMiLCJmaWxlbmFtZXMiLCJwcm9taXNlRmFjdG9yaWVzIiwiZG9OZXh0IiwicnVuTmV4dEJhdGNoIiwib25FcnJvciIsInRoaXNFcnIiLCJwb29sIiwidHlwZUZpZWxkRGVzY3JpcHRvciIsIl9fcHJvdG9fXyIsImZldGNoRGF0YSIsImRvY09yRG9jcyIsImNvbnRlbnRUeXBlIiwicHJvY2VzcyIsImJyb3dzZXIiLCJwYXJhbVN0ciIsImJhdGNoX3NpemUiLCJoZWFydGJlYXQiLCJyZXF1ZXN0VGltZW91dCIsImxlZnRUb0ZldGNoIiwiZmVlZCIsInNlcV9pbnRlcnZhbCIsInBhcmFtX25hbWUiLCJsYXN0RmV0Y2hlZFNlcSIsImNvbnRyb2xsZXIiLCJhYm9ydGVkIiwiZmV0Y2hPcHRzIiwic2lnbmFsIiwiZmV0Y2hlZCIsInJhd19yZXN1bHRzX2xlbmd0aCIsImZpbmlzaGVkIiwiUXVlcnlQYXJzZUVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJOb3RGb3VuZEVycm9yIiwiQnVpbHRJbkVycm9yIiwicHJvbWlzZWRDYWxsYmFjayIsInNlcXVlbnRpYWxpemUiLCJwcm9taXNlRmFjdG9yeSIsInVuaXEiLCJ0aGVTZXQiLCJtYXBUb0tleXNBcnJheSIsImNyZWF0ZUJ1aWx0SW5FcnJvciIsInN1bSIsImpMZW4iLCJqTnVtIiwiZXZhbEZ1bmN0aW9uV2l0aEV2YWwiLCJUYXNrUXVldWUkMSIsImNyZWF0ZVZpZXciLCJzb3VyY2VEQiIsInJlZHVjZUZ1biIsInRlbXBvcmFyeSIsImxvY2FsRG9jTmFtZSIsImNhY2hlZFZpZXdzIiwidmlld1NpZ25hdHVyZSIsImNyZWF0ZVZpZXdTaWduYXR1cmUiLCJfY2FjaGVkVmlld3MiLCJwcm9taXNlRm9yVmlldyIsImRlcERiTmFtZSIsImZ1bGxWaWV3TmFtZSIsImRlcERicyIsImxhc3RTZXFEb2MiLCJwZXJzaXN0ZW50UXVldWVzIiwidGVtcFZpZXdRdWV1ZSIsInBhcnNlVmlld05hbWUiLCJlbWl0RXJyb3IiLCJidWlsdEluUmVkdWNlIiwic3Vtc3FyIiwiX3N1bXNxciIsImFic3RyYWN0IiwibWFwcGVyIiwicmVkdWNlciIsImRkb2NWYWxpZGF0b3IiLCJ0cnlNYXAiLCJ0cnlSZWR1Y2UiLCJyZXJlZHVjZSIsIm91dHB1dCIsInNvcnRCeUtleVRoZW5WYWx1ZSIsImtleUNvbXBhcmUiLCJzbGljZVJlc3VsdHMiLCJyb3dUb0RvY0lkIiwicG9zdHByb2Nlc3NBdHRhY2htZW50cyIsImFkZEh0dHBQYXJhbSIsInBhcmFtTmFtZSIsImFzSnNvbiIsImNvZXJjZUludGVnZXIiLCJpbnRlZ2VyQ2FuZGlkYXRlIiwiYXNOdW1iZXIiLCJjaGVja1F1ZXJ5UGFyc2VFcnJvciIsInN0YXJ0a2V5TmFtZSIsImVuZGtleU5hbWUiLCJncm91cF9sZXZlbCIsIm9wdGlvbk5hbWUiLCJudW1iZXIiLCJjaGVja1Bvc2l0aXZlSW50ZWdlciIsImRlZmF1bHRzVG8iLCJnZXREb2NzVG9QZXJzaXN0IiwiZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMiLCJtZXRhRG9jSWQiLCJkZWZhdWx0TWV0YURvYyIsImRvY0RhdGEiLCJpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJpc0dlbk9uZSIsImdldEtleVZhbHVlRG9jcyIsImt2RG9jc1JlcyIsImt2RG9jcyIsIm9sZEtleXMiLCJrZXlWYWx1ZSIsIm5ld0tleXMiLCJrdkRvYyIsInByb2Nlc3NLZXlWYWx1ZURvY3MiLCJnZXRRdWV1ZSIsInVwZGF0ZVZpZXciLCJtYXBSZXN1bHRzIiwiY3VycmVudFNlcSIsImxpc3RPZkRvY3NUb1BlcnNpc3QiLCJkb2NzVG9QZXJzaXN0Iiwic2F2ZUtleVZhbHVlcyIsImluZGV4ZWRfZG9jcyIsInByb2dyZXNzIiwicHJvY2Vzc05leHRCYXRjaCIsImNoYW5nZXNfYmF0Y2hfc2l6ZSIsImNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyIsImNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwicmVzdWx0c19jb3VudCIsImVtaXR0ZWRLZXlWYWx1ZSIsImNvbXBsZXhLZXkiLCJ1cGRhdGVWaWV3SW5RdWV1ZSIsInF1ZXJ5VmlldyIsInRvdGFsUm93cyIsInNob3VsZFJlZHVjZSIsImZldGNoRnJvbVZpZXciLCJ2aWV3T3B0cyIsImV4cGVjdGVkS2V5cyIsInBhcnNlZEtleUFuZERvY0lkIiwicGFyc2VkU3RyIiwicGFyc2VJbmRleGFibGVTdHJpbmciLCJvbk1hcFJlc3VsdHNSZWFkeSIsImZpbmFsUmVzdWx0cyIsInNob3VsZEdyb3VwIiwibHZsIiwiUE9TSVRJVkVfSU5GSU5JVFkiLCJsYXN0IiwiZ3JvdXBLZXkiLCJyZWR1Y2VUcnkiLCJyZWR1Y2VWaWV3IiwiYWxsRG9jc1JlcyIsImRvY0lkc1RvRG9jcyIsImZldGNoUHJvbWlzZXMiLCJrZXlTdGFydCIsImtleUVuZCIsInF1ZXJ5Vmlld0luUXVldWUiLCJxdWVyeVByb21pc2VkIiwiX3F1ZXJ5IiwiY3VzdG9tUXVlcnkiLCJrZXlzQXNTdHJpbmciLCJodHRwUXVlcnkiLCJ1cGRhdGVWaWV3T3B0cyIsInZpZXdfdXBkYXRlX2NoYW5nZXNfYmF0Y2hfc2l6ZSIsImZpbmFsUHJvbWlzZUZhY3RvcnkiLCJkZXNpZ25Eb2NOYW1lIiwic3RhbGUiLCJjb2VyY2VPcHRpb25zIiwidmlld0NsZWFudXAiLCJfdmlld0NsZWFudXAiLCJjdXN0b21WaWV3Q2xlYW51cCIsImh0dHBWaWV3Q2xlYW51cCIsImRvY3NUb1ZpZXdzIiwidmlld3NUb1N0YXR1cyIsImRkb2NOYW1lIiwidmlld0RCTmFtZXMiLCJzdGF0dXNJc0dvb2QiLCJ2aWV3REJOYW1lIiwiZGVzdHJveVByb21pc2VzIiwibG9jYWxWaWV3Q2xlYW51cCIsImNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlIiwib3JpZ01hcCIsInJlZHVjZUZ1blN0cmluZyIsImJ1aWx0SW4iLCJnZXRCdWlsdEluIiwibWFwcmVkdWNlIiwiaXNHZW5PbmUkMSIsImdldERvY0F0dGFjaG1lbnRzIiwiZ2V0RG9jcyIsInNyYyIsImRpZmZzIiwicmVzdWx0RG9jcyIsImZldGNoUmV2aXNpb25PbmVEb2NzIiwiaGFzQ29uZmxpY3RzIiwiYnVsa0dldE9wdHMiLCJtaXNzaW5nUmV2IiwiY3JlYXRlQnVsa0dldE9wdHMiLCJidWxrR2V0UmVzcG9uc2UiLCJidWxrR2V0SW5mbyIsInJlbW90ZURvYyIsImRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzIiwiZmlsZUhhc0NoYW5nZWQiLCJnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSIsInVwZGF0ZUNoZWNrcG9pbnQiLCJjaGVja3BvaW50Iiwic2Vzc2lvbiIsInJldHVyblZhbHVlIiwic2Vzc2lvbl9pZCIsInJlcGxpY2F0b3IiLCJDaGVja3BvaW50ZXIiLCJ3cml0ZUNoZWNrcG9pbnQiLCJ1cGRhdGVUYXJnZXQiLCJ1cGRhdGVTb3VyY2UiLCJ3cml0ZVRhcmdldENoZWNrcG9pbnQiLCJ3cml0ZVNvdXJjZUNoZWNrcG9pbnQiLCJpc0ZvcmJpZGRlbkVycm9yIiwiY29tcGFyaXNvbnMiLCJ0YXJnZXREb2MiLCJzb3VyY2VEb2MiLCJzcmNEb2MiLCJ0Z3REb2MiLCJjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5Iiwic291cmNlSGlzdG9yeSIsInRhcmdldEhpc3RvcnkiLCJTIiwic291cmNlUmVzdCIsIlQiLCJ0YXJnZXRSZXN0IiwiaGFzU2Vzc2lvbklkIiwiY29tcGFyZVJlcGxpY2F0aW9uTG9ncyIsInNlc3Npb25JZCIsInByb3BzIiwicmVzdCIsImZsb29yIiwiZ2V0Q2hlY2twb2ludCIsImdlbmVyYXRlUmVwbGljYXRpb25JZCIsInF1ZXJ5UGFyYW1zIiwiZmlsdGVyVmlld05hbWUiLCJzb3J0T2JqZWN0UHJvcGVydGllc0J5S2V5IiwicXVlcnlEYXRhIiwibWQ1c3VtIiwicmVwbGljYXRlIiwiY3VycmVudEJhdGNoIiwicmVwSWQiLCJjaGVja3BvaW50ZXIiLCJiYXRjaGVzIiwicGVuZGluZ0JhdGNoIiwid3JpdGluZ0NoZWNrcG9pbnQiLCJjaGFuZ2VzQ29tcGxldGVkIiwicmVwbGljYXRpb25Db21wbGV0ZWQiLCJiYXRjaGVzX2xpbWl0IiwiY2hhbmdlc1BlbmRpbmciLCJjaGFuZ2VkRG9jcyIsInN0YXJ0X3RpbWUiLCJkb2NzX3JlYWQiLCJkb2NzX3dyaXR0ZW4iLCJkb2Nfd3JpdGVfZmFpbHVyZXMiLCJlcnJvcnMiLCJpbml0Q2hlY2twb2ludGVyIiwiY2hlY2twb2ludE9wdHMiLCJ3cml0ZURvY3MiLCJidWxrT3B0cyIsImNvbXBsZXRlUmVwbGljYXRpb24iLCJlcnJvcnNCeUlkIiwiZXJyb3JzTm8iLCJlcnJvck5hbWUiLCJmaW5pc2hCYXRjaCIsIm91dFJlc3VsdCIsImdldENoYW5nZXMiLCJvbkNoZWNrcG9pbnRFcnJvciIsImdldEJhdGNoRG9jcyIsImdvdCIsInN0YXJ0TmV4dEJhdGNoIiwiYWJvcnRSZXBsaWNhdGlvbiIsInByb2Nlc3NQZW5kaW5nQmF0Y2giLCJpbW1lZGlhdGUkJDEiLCJmYXRhbEVycm9yIiwiZW5kX3RpbWUiLCJyZXRyeSIsImJhY2tfb2ZmX2Z1bmN0aW9uIiwiYmFja09mZlNldCIsImN1cnJlbnRfYmFja19vZmYiLCJiYWNrT2ZmIiwib25DaGFuZ2VzQ29tcGxldGUiLCJvbkNoYW5nZXNFcnJvciIsIl9hYm9ydENoYW5nZXMiLCJhYm9ydENoYW5nZXMiLCJzdGFydENoYW5nZXMiLCJfYWRkZWRMaXN0ZW5lcnMiLCJSZXBsaWNhdGlvbiIsInRvUG91Y2giLCJQb3VjaENvbnN0cnVjdG9yIiwicmVwbGljYXRlV3JhcHBlciIsInJlcGxpY2F0ZVJldCIsIlN5bmMiLCJjYW5jZWxlZCIsIm9wdHNQdXNoIiwib3B0c1B1bGwiLCJwdWxsIiwicHVsbENoYW5nZSIsInB1c2hDaGFuZ2UiLCJwdXNoRGVuaWVkIiwicHVsbERlbmllZCIsInB1c2hQYXVzZWQiLCJwdWxsUGF1c2VkIiwicHVzaEFjdGl2ZSIsInB1bGxBY3RpdmUiLCJyZW1vdmVkIiwicmVtb3ZlQWxsIiwiYWRkT25lTGlzdGVuZXIiLCJvdXQiLCJjbGVhbnVwIiwiX3JlYWR5Q2FsbGVkIiwicmVwbGljYXRlTWV0aG9kcyIsIl9ub2RlSWQiLCJfY2xvY2tzZXEiLCJfbGFzdE1TZWNzIiwiX2xhc3ROU2VjcyIsImNsb2Nrc2VxIiwic2VlZEJ5dGVzIiwibXNlY3MiLCJuc2VjcyIsImR0IiwidGwiLCJ0bWgiLCJnZW5lcmF0ZVVVSUQiLCJuYW1lc3BhY2UiLCJzdHJpbmdUb0J5dGVzIiwiaGFzaGZ1bmMiLCJETlMiLCJVUkwiLCJnZXRPdXRwdXRMZW5ndGgiLCJpbnB1dExlbmd0aDgiLCJzYWZlQWRkIiwibHN3IiwibWQ1Y21uIiwicSIsImNudCIsIm1kNWZmIiwibWQ1Z2ciLCJtZDVoaCIsIm1kNWlpIiwidjM1IiwibGVuZ3RoMzIiLCJtZDVUb0hleEVuY29kZWRBcnJheSIsIm9sZGEiLCJvbGRiIiwib2xkYyIsIm9sZGQiLCJ3b3Jkc1RvTWQ1IiwibGVuZ3RoOCIsIlVpbnQzMkFycmF5IiwiYnl0ZXNUb1dvcmRzIiwiZiIsInoiLCJST1RMIiwiSyIsIkgiLCJOIiwiTSIsIl9pIiwicG93IiwiX2kyIiwiVyIsIl90IiwiX3QyIiwiY29uZmlybSIsInNwbGl0RGlzYWJsZSIsImNhcHR1cmUiLCJjbGlja2F3YXlIYW5kbGVyIiwicmVzZXRIYW5kbGVyIiwibmNJZCIsImNhY2hlZFNldFRpbWVvdXQiLCJjYWNoZWRDbGVhclRpbWVvdXQiLCJkZWZhdWx0U2V0VGltb3V0IiwiZGVmYXVsdENsZWFyVGltZW91dCIsInJ1blRpbWVvdXQiLCJkcmFpblF1ZXVlIiwibWFya2VyIiwicnVuQ2xlYXJUaW1lb3V0Iiwibm9vcCIsInRpdGxlIiwiZW52IiwiYXJndiIsInZlcnNpb25zIiwiYmluZGluZyIsImN3ZCIsImNoZGlyIiwiZGlyIiwidW1hc2siLCJxdWV1ZU1pY3JvdGFzayIsIk11dGF0aW9uIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJoYW5kbGUiLCJvYnNlcnZlciIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJzY3JpcHRFbCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiZG9jdW1lbnRFbGVtZW50IiwidXBsb2FkZWREb2NzQ29udGFpbmVyIiwic2FtcGxlRG9jc0NvbnRhaW5lciIsIm9wZW5CdXR0b24iLCJkZWxldGVCdXR0b24iLCJvcmRlcmVkRG9jdW1lbnRzIiwib3JkZXJlZFNlbGVjdGlvbiIsIm1ldGFLZXlJc1ByZXNzZWQiLCJzaGlmdEtleUlzUHJlc3NlZCIsInByZXZTZWxlY3Rpb24iLCJzcGVjaWZpY1NlbGVjdGlvbiIsImdldFNlbGVjdGlvbkZpbGVuYW1lcyIsIm9wZW5FZGl0b3JUYWIiLCJpc1VwbG9hZGVkIiwic3RvcmFnZSIsIm1hbmlmZXN0IiwidGlsZSIsInVuc2VsZWN0QWxsIiwic2V0U2lkZWJhckFjdGlvbnMiLCJsYXN0SWR4Iiwic2FtcGxlcyIsInVwZGF0ZURvY3VtZW50U2VsZWN0b3IiLCJ1cGxvYWRlZERvY3MiLCJmZXRjaFVwbG9hZGVkRG9jdW1lbnRzIiwiZm9ybWF0RmlsZW5hbWUiLCJzYW1wbGVEb2NzIiwiZmV0Y2hTYW1wbGVEb2N1bWVudHMiLCJoYW5kbGVPcGVuRG9jdW1lbnRzIiwic2V0U3RhcnQiLCJnZXRQcmV2U2VsZWN0aW9uIiwic2V0RW5kIiwiZ2V0U2VsZWN0aW9uIiwib3BlblRpbGUiLCJoYW5kbGVEZWxldGVEb2N1bWVudHMiLCJhbGVydE1lc3NhZ2UiLCJkZWxldGVFbnRyeSIsImRlYnVnIiwiSW5pdERvY3VtZW50U2VsZWN0b3IiLCJtZWkiLCJsb2NhbE1hbmlmZXN0IiwibWVpUHJvbWlzZSIsIm1laVJlYWRlciIsInJlYWRBc0RhdGFVUkwiLCJiZ1Byb21pc2UiLCJiZ1JlYWRlciIsIm1laVVyaSIsImJnVXJpIiwic2luZ2xlIiwia2luZCIsImFsZXJ0IiwibWF4TGVuIiwiY2h1bmtMZW4iLCJyZWciLCJjb21wYXJpc29uIiwiZGlnaXRzUmVnIiwiZGlnaXRzUmVzdWx0cyIsImRpZ2l0cyIsInN0cmlwcGVkIiwiZm0iLCJnZXRJbnN0YW5jZSIsImNyZWF0ZVVucGFpcmVkSXRlbSIsInJhZGlvTmFtZSIsInJhZGlvIiwibGFiZWwiLCJmaWxlcyIsIm1laV9jb250YWluZXIiLCJpbWFnZV9jb250YWluZXIiLCJyZWplY3RGaWxlcyIsImZpbGUiLCJleHQiLCJ1bnBhaXJlZEl0ZW0iLCJhZGRGaWxlIiwicGFpcmVkX2NvbnRhaW5lciIsInNlbGVjdGVkTWVpRWxlbWVudCIsInNlbGVjdGVkSW1hZ2VFbGVtZW50IiwibWVpX2ZpbGVuYW1lIiwiaW1hZ2VfZmlsZW5hbWUiLCJwYWlyZWRfZWwiLCJ0aWxlX2ZpbGVuYW1lIiwiaGFuZGxlVW5wYWlyIiwicmVtb3ZlRm9saW8iLCJtZWlJdGVtIiwiaW1hZ2VJdGVtIiwiY3JlYXRlUGFpcmVkVGlsZSIsImFkZEZvbGlvIiwidXBsb2FkcyIsImV4aXN0aW5nTmFtZXMiLCJmb2xpb1Byb21pc2VzIiwiZ2V0Rm9saW9zIiwiaW1hZ2UiLCJuZXdOYW1lIiwicmVuYW1lRmlsZSIsImNyZWF0ZU1hbmlmZXN0IiwibWFuaWZlc3RCbG9iIiwiYWRkRW50cnkiLCJ1cGxvYWRGb2xpbyIsImNsZWFyIiwiRmlsZU1hbmFnZXIiLCJhbGxGaWxlcyIsImZvbGlvcyIsImluc3RhbmNlIiwidXBkYXRlZEVudHJ5IiwiZ2V0RmlsZUNvdW50IiwibmV3RW50cnkiLCJuZXdGb2xpbyIsImZpbmRJbmRleCIsImZvbGlvIiwiZ2V0RmlsZSIsIkluaXRVcGxvYWRBcmVhIiwibW9kYWxXaW5kb3ciLCJNb2RhbFdpbmRvdyIsImhhbmRsZU1ha2VQYWlyIiwic3Bpbm5lciIsImhhbmRsZVVwbG9hZEFsbERvY3VtZW50cyIsImZpbGVTZWxlY3RvciIsIm11bHRpcGxlIiwiZmlsZUxpc3QiLCJhZGROZXdGaWxlcyIsInVwbG9hZF9hcmVhIiwib25kcmFnbGVhdmUiLCJvbmRyYWdvdmVyIiwiZGF0YVRyYW5zZmVyIiwiZHJvcEVmZmVjdCIsIm9uZHJvcCJdLCJtYXBwaW5ncyI6ImFBQ0UsSUFBSUEsRUFBbUIsR0FHdkIsU0FBU0MsRUFBb0JDLEdBRzVCLEdBQUdGLEVBQWlCRSxHQUNuQixPQUFPRixFQUFpQkUsR0FBVUMsUUFHbkMsSUFBSUMsRUFBU0osRUFBaUJFLEdBQVksQ0FDekNHLEVBQUdILEVBQ0hJLEdBQUcsRUFDSEgsUUFBUyxJQVVWLE9BTkFJLEVBQVFMLEdBQVVNLEtBQUtKLEVBQU9ELFFB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QUFpQixVQUFVLFdBQ3RDLE1BQU04cEUsRUFBcUJGLEVBQWFsRCxNQUNsQ0EsRUFBUS9tRSxNQUFNK0UsS0FBS29sRSxHQUNuQmpELEdBQWMsSUFBQWtELGFBQVlyRCxHQUNoQyxHQUEyQixJQUF2QkcsRUFBWXJvRSxPQUFjLENBQzVCLE1BQU1pckQsRUFBWW9kLEVBQVkzOEQsSUFBSTQ4RCxHQUFRQSxFQUFLdHRFLE1BQy9DcVUsT0FBTzgzRCxNQUFNLHdFQUF3RWxjLEVBQVVsd0MsS0FBSyxPQUd0R3F3RCxFQUFhMXZFLE1BQVEsUUFJdkIsTUFBTTh2RSxFQUE4QnJtRSxTQUFTdUUsY0FBYyx3QkFDM0Q4aEUsRUFBWXI1QyxRQUFVLElBQU1pNUMsRUFBYWhxRCxRQUV6Q29xRCxFQUFZQyxZQUFjLElBQU1ELEVBQVk5bEUsVUFBVUMsT0FBTyxRQUM3RDZsRSxFQUFZRSxXQUFjN25ELElBQ3hCQSxFQUFNbE0sa0JBQ05rTSxFQUFNbE8saUJBQ042MUQsRUFBWTlsRSxVQUFVZSxJQUFJLFFBQzFCb2QsRUFBTThuRCxhQUFhQyxXQUFhLFFBR2xDSixFQUFZSyxPQUFVaG9ELElBQ3BCQSxFQUFNbE0sa0JBQ05rTSxFQUFNbE8saUJBQ042MUQsRUFBWTlsRSxVQUFVQyxPQUFPLFFBQzdCLE1BQU0ybEUsRUFBV3puRCxFQUFNOG5ELGFBQWF6RCxNQUM5QkEsRUFBUS9tRSxNQUFNK0UsS0FBS29sRSxHQUNuQmpELEdBQWMsSUFBQWtELGFBQVlyRCxHQUNoQyxHQUEyQixJQUF2QkcsRUFBWXJvRSxPQUFjLENBQzVCLE1BQU1pckQsRUFBWW9kLEVBQVkzOEQsSUFBSTQ4RCxHQUFRQSxFQUFLdHRFLE1BQy9DcVUsT0FBTzgzRCxNQUFNLHdFQUF3RWxjLEVBQVVsd0MsS0FBSyIsImZpbGUiOiJkYXNoYm9hcmQuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBnZXR0ZXIgfSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGRlZmluZSBfX2VzTW9kdWxlIG9uIGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uciA9IGZ1bmN0aW9uKGV4cG9ydHMpIHtcbiBcdFx0aWYodHlwZW9mIFN5bWJvbCAhPT0gJ3VuZGVmaW5lZCcgJiYgU3ltYm9sLnRvU3RyaW5nVGFnKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFN5bWJvbC50b1N0cmluZ1RhZywgeyB2YWx1ZTogJ01vZHVsZScgfSk7XG4gXHRcdH1cbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICdfX2VzTW9kdWxlJywgeyB2YWx1ZTogdHJ1ZSB9KTtcbiBcdH07XG5cbiBcdC8vIGNyZWF0ZSBhIGZha2UgbmFtZXNwYWNlIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDE6IHZhbHVlIGlzIGEgbW9kdWxlIGlkLCByZXF1aXJlIGl0XG4gXHQvLyBtb2RlICYgMjogbWVyZ2UgYWxsIHByb3BlcnRpZXMgb2YgdmFsdWUgaW50byB0aGUgbnNcbiBcdC8vIG1vZGUgJiA0OiByZXR1cm4gdmFsdWUgd2hlbiBhbHJlYWR5IG5zIG9iamVjdFxuIFx0Ly8gbW9kZSAmIDh8MTogYmVoYXZlIGxpa2UgcmVxdWlyZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy50ID0gZnVuY3Rpb24odmFsdWUsIG1vZGUpIHtcbiBcdFx0aWYobW9kZSAmIDEpIHZhbHVlID0gX193ZWJwYWNrX3JlcXVpcmVfXyh2YWx1ZSk7XG4gXHRcdGlmKG1vZGUgJiA4KSByZXR1cm4gdmFsdWU7XG4gXHRcdGlmKChtb2RlICYgNCkgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JyAmJiB2YWx1ZSAmJiB2YWx1ZS5fX2VzTW9kdWxlKSByZXR1cm4gdmFsdWU7XG4gXHRcdHZhciBucyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18ucihucyk7XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShucywgJ2RlZmF1bHQnLCB7IGVudW1lcmFibGU6IHRydWUsIHZhbHVlOiB2YWx1ZSB9KTtcbiBcdFx0aWYobW9kZSAmIDIgJiYgdHlwZW9mIHZhbHVlICE9ICdzdHJpbmcnKSBmb3IodmFyIGtleSBpbiB2YWx1ZSkgX193ZWJwYWNrX3JlcXVpcmVfXy5kKG5zLCBrZXksIGZ1bmN0aW9uKGtleSkgeyByZXR1cm4gdmFsdWVba2V5XTsgfS5iaW5kKG51bGwsIGtleSkpO1xuIFx0XHRyZXR1cm4gbnM7XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gODUpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxudmFyIFIgPSB0eXBlb2YgUmVmbGVjdCA9PT0gJ29iamVjdCcgPyBSZWZsZWN0IDogbnVsbFxudmFyIFJlZmxlY3RBcHBseSA9IFIgJiYgdHlwZW9mIFIuYXBwbHkgPT09ICdmdW5jdGlvbidcbiAgPyBSLmFwcGx5XG4gIDogZnVuY3Rpb24gUmVmbGVjdEFwcGx5KHRhcmdldCwgcmVjZWl2ZXIsIGFyZ3MpIHtcbiAgICByZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LCByZWNlaXZlciwgYXJncyk7XG4gIH1cblxudmFyIFJlZmxlY3RPd25LZXlzXG5pZiAoUiAmJiB0eXBlb2YgUi5vd25LZXlzID09PSAnZnVuY3Rpb24nKSB7XG4gIFJlZmxlY3RPd25LZXlzID0gUi5vd25LZXlzXG59IGVsc2UgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KVxuICAgICAgLmNvbmNhdChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHRhcmdldCkpO1xuICB9O1xufSBlbHNlIHtcbiAgUmVmbGVjdE93bktleXMgPSBmdW5jdGlvbiBSZWZsZWN0T3duS2V5cyh0YXJnZXQpIHtcbiAgICByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gUHJvY2Vzc0VtaXRXYXJuaW5nKHdhcm5pbmcpIHtcbiAgaWYgKGNvbnNvbGUgJiYgY29uc29sZS53YXJuKSBjb25zb2xlLndhcm4od2FybmluZyk7XG59XG5cbnZhciBOdW1iZXJJc05hTiA9IE51bWJlci5pc05hTiB8fCBmdW5jdGlvbiBOdW1iZXJJc05hTih2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT09IHZhbHVlO1xufVxuXG5mdW5jdGlvbiBFdmVudEVtaXR0ZXIoKSB7XG4gIEV2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IEV2ZW50RW1pdHRlcjtcbm1vZHVsZS5leHBvcnRzLm9uY2UgPSBvbmNlO1xuXG4vLyBCYWNrd2FyZHMtY29tcGF0IHdpdGggbm9kZSAwLjEwLnhcbkV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cyA9IHVuZGVmaW5lZDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50c0NvdW50ID0gMDtcbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuX21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblxuLy8gQnkgZGVmYXVsdCBFdmVudEVtaXR0ZXJzIHdpbGwgcHJpbnQgYSB3YXJuaW5nIGlmIG1vcmUgdGhhbiAxMCBsaXN0ZW5lcnMgYXJlXG4vLyBhZGRlZCB0byBpdC4gVGhpcyBpcyBhIHVzZWZ1bCBkZWZhdWx0IHdoaWNoIGhlbHBzIGZpbmRpbmcgbWVtb3J5IGxlYWtzLlxudmFyIGRlZmF1bHRNYXhMaXN0ZW5lcnMgPSAxMDtcblxuZnVuY3Rpb24gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcikge1xuICBpZiAodHlwZW9mIGxpc3RlbmVyICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwibGlzdGVuZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRnVuY3Rpb24uIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBsaXN0ZW5lcik7XG4gIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnR5KEV2ZW50RW1pdHRlciwgJ2RlZmF1bHRNYXhMaXN0ZW5lcnMnLCB7XG4gIGVudW1lcmFibGU6IHRydWUsXG4gIGdldDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIH0sXG4gIHNldDogZnVuY3Rpb24oYXJnKSB7XG4gICAgaWYgKHR5cGVvZiBhcmcgIT09ICdudW1iZXInIHx8IGFyZyA8IDAgfHwgTnVtYmVySXNOYU4oYXJnKSkge1xuICAgICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcImRlZmF1bHRNYXhMaXN0ZW5lcnNcIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgYXJnICsgJy4nKTtcbiAgICB9XG4gICAgZGVmYXVsdE1heExpc3RlbmVycyA9IGFyZztcbiAgfVxufSk7XG5cbkV2ZW50RW1pdHRlci5pbml0ID0gZnVuY3Rpb24oKSB7XG5cbiAgaWYgKHRoaXMuX2V2ZW50cyA9PT0gdW5kZWZpbmVkIHx8XG4gICAgICB0aGlzLl9ldmVudHMgPT09IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5fZXZlbnRzKSB7XG4gICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLl9ldmVudHNDb3VudCA9IDA7XG4gIH1cblxuICB0aGlzLl9tYXhMaXN0ZW5lcnMgPSB0aGlzLl9tYXhMaXN0ZW5lcnMgfHwgdW5kZWZpbmVkO1xufTtcblxuLy8gT2J2aW91c2x5IG5vdCBhbGwgRW1pdHRlcnMgc2hvdWxkIGJlIGxpbWl0ZWQgdG8gMTAuIFRoaXMgZnVuY3Rpb24gYWxsb3dzXG4vLyB0aGF0IHRvIGJlIGluY3JlYXNlZC4gU2V0IHRvIHplcm8gZm9yIHVubGltaXRlZC5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuc2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gc2V0TWF4TGlzdGVuZXJzKG4pIHtcbiAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCBuIDwgMCB8fCBOdW1iZXJJc05hTihuKSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJuXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJyArIG4gKyAnLicpO1xuICB9XG4gIHRoaXMuX21heExpc3RlbmVycyA9IG47XG4gIHJldHVybiB0aGlzO1xufTtcblxuZnVuY3Rpb24gX2dldE1heExpc3RlbmVycyh0aGF0KSB7XG4gIGlmICh0aGF0Ll9tYXhMaXN0ZW5lcnMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gRXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM7XG4gIHJldHVybiB0aGF0Ll9tYXhMaXN0ZW5lcnM7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZ2V0TWF4TGlzdGVuZXJzID0gZnVuY3Rpb24gZ2V0TWF4TGlzdGVuZXJzKCkge1xuICByZXR1cm4gX2dldE1heExpc3RlbmVycyh0aGlzKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUuZW1pdCA9IGZ1bmN0aW9uIGVtaXQodHlwZSkge1xuICB2YXIgYXJncyA9IFtdO1xuICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgYXJncy5wdXNoKGFyZ3VtZW50c1tpXSk7XG4gIHZhciBkb0Vycm9yID0gKHR5cGUgPT09ICdlcnJvcicpO1xuXG4gIHZhciBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZClcbiAgICBkb0Vycm9yID0gKGRvRXJyb3IgJiYgZXZlbnRzLmVycm9yID09PSB1bmRlZmluZWQpO1xuICBlbHNlIGlmICghZG9FcnJvcilcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgLy8gSWYgdGhlcmUgaXMgbm8gJ2Vycm9yJyBldmVudCBsaXN0ZW5lciB0aGVuIHRocm93LlxuICBpZiAoZG9FcnJvcikge1xuICAgIHZhciBlcjtcbiAgICBpZiAoYXJncy5sZW5ndGggPiAwKVxuICAgICAgZXIgPSBhcmdzWzBdO1xuICAgIGlmIChlciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAvLyBOb3RlOiBUaGUgY29tbWVudHMgb24gdGhlIGB0aHJvd2AgbGluZXMgYXJlIGludGVudGlvbmFsLCB0aGV5IHNob3dcbiAgICAgIC8vIHVwIGluIE5vZGUncyBvdXRwdXQgaWYgdGhpcyByZXN1bHRzIGluIGFuIHVuaGFuZGxlZCBleGNlcHRpb24uXG4gICAgICB0aHJvdyBlcjsgLy8gVW5oYW5kbGVkICdlcnJvcicgZXZlbnRcbiAgICB9XG4gICAgLy8gQXQgbGVhc3QgZ2l2ZSBzb21lIGtpbmQgb2YgY29udGV4dCB0byB0aGUgdXNlclxuICAgIHZhciBlcnIgPSBuZXcgRXJyb3IoJ1VuaGFuZGxlZCBlcnJvci4nICsgKGVyID8gJyAoJyArIGVyLm1lc3NhZ2UgKyAnKScgOiAnJykpO1xuICAgIGVyci5jb250ZXh0ID0gZXI7XG4gICAgdGhyb3cgZXJyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICB9XG5cbiAgdmFyIGhhbmRsZXIgPSBldmVudHNbdHlwZV07XG5cbiAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gZmFsc2U7XG5cbiAgaWYgKHR5cGVvZiBoYW5kbGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgUmVmbGVjdEFwcGx5KGhhbmRsZXIsIHRoaXMsIGFyZ3MpO1xuICB9IGVsc2Uge1xuICAgIHZhciBsZW4gPSBoYW5kbGVyLmxlbmd0aDtcbiAgICB2YXIgbGlzdGVuZXJzID0gYXJyYXlDbG9uZShoYW5kbGVyLCBsZW4pO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyArK2kpXG4gICAgICBSZWZsZWN0QXBwbHkobGlzdGVuZXJzW2ldLCB0aGlzLCBhcmdzKTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gX2FkZExpc3RlbmVyKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByZXBlbmQpIHtcbiAgdmFyIG07XG4gIHZhciBldmVudHM7XG4gIHZhciBleGlzdGluZztcblxuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRhcmdldC5fZXZlbnRzQ291bnQgPSAwO1xuICB9IGVsc2Uge1xuICAgIC8vIFRvIGF2b2lkIHJlY3Vyc2lvbiBpbiB0aGUgY2FzZSB0aGF0IHR5cGUgPT09IFwibmV3TGlzdGVuZXJcIiEgQmVmb3JlXG4gICAgLy8gYWRkaW5nIGl0IHRvIHRoZSBsaXN0ZW5lcnMsIGZpcnN0IGVtaXQgXCJuZXdMaXN0ZW5lclwiLlxuICAgIGlmIChldmVudHMubmV3TGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGFyZ2V0LmVtaXQoJ25ld0xpc3RlbmVyJywgdHlwZSxcbiAgICAgICAgICAgICAgICAgIGxpc3RlbmVyLmxpc3RlbmVyID8gbGlzdGVuZXIubGlzdGVuZXIgOiBsaXN0ZW5lcik7XG5cbiAgICAgIC8vIFJlLWFzc2lnbiBgZXZlbnRzYCBiZWNhdXNlIGEgbmV3TGlzdGVuZXIgaGFuZGxlciBjb3VsZCBoYXZlIGNhdXNlZCB0aGVcbiAgICAgIC8vIHRoaXMuX2V2ZW50cyB0byBiZSBhc3NpZ25lZCB0byBhIG5ldyBvYmplY3RcbiAgICAgIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICAgIH1cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXTtcbiAgfVxuXG4gIGlmIChleGlzdGluZyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgLy8gT3B0aW1pemUgdGhlIGNhc2Ugb2Ygb25lIGxpc3RlbmVyLiBEb24ndCBuZWVkIHRoZSBleHRyYSBhcnJheSBvYmplY3QuXG4gICAgZXhpc3RpbmcgPSBldmVudHNbdHlwZV0gPSBsaXN0ZW5lcjtcbiAgICArK3RhcmdldC5fZXZlbnRzQ291bnQ7XG4gIH0gZWxzZSB7XG4gICAgaWYgKHR5cGVvZiBleGlzdGluZyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgLy8gQWRkaW5nIHRoZSBzZWNvbmQgZWxlbWVudCwgbmVlZCB0byBjaGFuZ2UgdG8gYXJyYXkuXG4gICAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9XG4gICAgICAgIHByZXBlbmQgPyBbbGlzdGVuZXIsIGV4aXN0aW5nXSA6IFtleGlzdGluZywgbGlzdGVuZXJdO1xuICAgICAgLy8gSWYgd2UndmUgYWxyZWFkeSBnb3QgYW4gYXJyYXksIGp1c3QgYXBwZW5kLlxuICAgIH0gZWxzZSBpZiAocHJlcGVuZCkge1xuICAgICAgZXhpc3RpbmcudW5zaGlmdChsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGV4aXN0aW5nLnB1c2gobGlzdGVuZXIpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGZvciBsaXN0ZW5lciBsZWFrXG4gICAgbSA9IF9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KTtcbiAgICBpZiAobSA+IDAgJiYgZXhpc3RpbmcubGVuZ3RoID4gbSAmJiAhZXhpc3Rpbmcud2FybmVkKSB7XG4gICAgICBleGlzdGluZy53YXJuZWQgPSB0cnVlO1xuICAgICAgLy8gTm8gZXJyb3IgY29kZSBmb3IgdGhpcyBzaW5jZSBpdCBpcyBhIFdhcm5pbmdcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1yZXN0cmljdGVkLXN5bnRheFxuICAgICAgdmFyIHcgPSBuZXcgRXJyb3IoJ1Bvc3NpYmxlIEV2ZW50RW1pdHRlciBtZW1vcnkgbGVhayBkZXRlY3RlZC4gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXN0aW5nLmxlbmd0aCArICcgJyArIFN0cmluZyh0eXBlKSArICcgbGlzdGVuZXJzICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnYWRkZWQuIFVzZSBlbWl0dGVyLnNldE1heExpc3RlbmVycygpIHRvICcgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAnaW5jcmVhc2UgbGltaXQnKTtcbiAgICAgIHcubmFtZSA9ICdNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmcnO1xuICAgICAgdy5lbWl0dGVyID0gdGFyZ2V0O1xuICAgICAgdy50eXBlID0gdHlwZTtcbiAgICAgIHcuY291bnQgPSBleGlzdGluZy5sZW5ndGg7XG4gICAgICBQcm9jZXNzRW1pdFdhcm5pbmcodyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIGFkZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub24gPSBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyO1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZExpc3RlbmVyKHR5cGUsIGxpc3RlbmVyKSB7XG4gICAgICByZXR1cm4gX2FkZExpc3RlbmVyKHRoaXMsIHR5cGUsIGxpc3RlbmVyLCB0cnVlKTtcbiAgICB9O1xuXG5mdW5jdGlvbiBvbmNlV3JhcHBlcigpIHtcbiAgaWYgKCF0aGlzLmZpcmVkKSB7XG4gICAgdGhpcy50YXJnZXQucmVtb3ZlTGlzdGVuZXIodGhpcy50eXBlLCB0aGlzLndyYXBGbik7XG4gICAgdGhpcy5maXJlZCA9IHRydWU7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApXG4gICAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5jYWxsKHRoaXMudGFyZ2V0KTtcbiAgICByZXR1cm4gdGhpcy5saXN0ZW5lci5hcHBseSh0aGlzLnRhcmdldCwgYXJndW1lbnRzKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBfb25jZVdyYXAodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lcikge1xuICB2YXIgc3RhdGUgPSB7IGZpcmVkOiBmYWxzZSwgd3JhcEZuOiB1bmRlZmluZWQsIHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfTtcbiAgdmFyIHdyYXBwZWQgPSBvbmNlV3JhcHBlci5iaW5kKHN0YXRlKTtcbiAgd3JhcHBlZC5saXN0ZW5lciA9IGxpc3RlbmVyO1xuICBzdGF0ZS53cmFwRm4gPSB3cmFwcGVkO1xuICByZXR1cm4gd3JhcHBlZDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24gb25jZSh0eXBlLCBsaXN0ZW5lcikge1xuICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcbiAgdGhpcy5vbih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnByZXBlbmRPbmNlTGlzdGVuZXIgPVxuICAgIGZ1bmN0aW9uIHByZXBlbmRPbmNlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICAgICAgdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSwgX29uY2VXcmFwKHRoaXMsIHR5cGUsIGxpc3RlbmVyKSk7XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4vLyBFbWl0cyBhICdyZW1vdmVMaXN0ZW5lcicgZXZlbnQgaWYgYW5kIG9ubHkgaWYgdGhlIGxpc3RlbmVyIHdhcyByZW1vdmVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHZhciBsaXN0LCBldmVudHMsIHBvc2l0aW9uLCBpLCBvcmlnaW5hbExpc3RlbmVyO1xuXG4gICAgICBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKTtcblxuICAgICAgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuICAgICAgaWYgKGV2ZW50cyA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gdGhpcztcblxuICAgICAgbGlzdCA9IGV2ZW50c1t0eXBlXTtcbiAgICAgIGlmIChsaXN0ID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBpZiAobGlzdCA9PT0gbGlzdGVuZXIgfHwgbGlzdC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgZGVsZXRlIGV2ZW50c1t0eXBlXTtcbiAgICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyKVxuICAgICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIGxpc3QubGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBsaXN0ICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHBvc2l0aW9uID0gLTE7XG5cbiAgICAgICAgZm9yIChpID0gbGlzdC5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIGlmIChsaXN0W2ldID09PSBsaXN0ZW5lciB8fCBsaXN0W2ldLmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICAgICAgb3JpZ2luYWxMaXN0ZW5lciA9IGxpc3RbaV0ubGlzdGVuZXI7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocG9zaXRpb24gPCAwKVxuICAgICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAgIGlmIChwb3NpdGlvbiA9PT0gMClcbiAgICAgICAgICBsaXN0LnNoaWZ0KCk7XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHNwbGljZU9uZShsaXN0LCBwb3NpdGlvbik7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAobGlzdC5sZW5ndGggPT09IDEpXG4gICAgICAgICAgZXZlbnRzW3R5cGVdID0gbGlzdFswXTtcblxuICAgICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgdGhpcy5lbWl0KCdyZW1vdmVMaXN0ZW5lcicsIHR5cGUsIG9yaWdpbmFsTGlzdGVuZXIgfHwgbGlzdGVuZXIpO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9mZiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbiAgICBmdW5jdGlvbiByZW1vdmVBbGxMaXN0ZW5lcnModHlwZSkge1xuICAgICAgdmFyIGxpc3RlbmVycywgZXZlbnRzLCBpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICAvLyBub3QgbGlzdGVuaW5nIGZvciByZW1vdmVMaXN0ZW5lciwgbm8gbmVlZCB0byBlbWl0XG4gICAgICBpZiAoZXZlbnRzLnJlbW92ZUxpc3RlbmVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgfSBlbHNlIGlmIChldmVudHNbdHlwZV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgtLXRoaXMuX2V2ZW50c0NvdW50ID09PSAwKVxuICAgICAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgfVxuXG4gICAgICAvLyBlbWl0IHJlbW92ZUxpc3RlbmVyIGZvciBhbGwgbGlzdGVuZXJzIG9uIGFsbCBldmVudHNcbiAgICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMoZXZlbnRzKTtcbiAgICAgICAgdmFyIGtleTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGtleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICAgIGlmIChrZXkgPT09ICdyZW1vdmVMaXN0ZW5lcicpIGNvbnRpbnVlO1xuICAgICAgICAgIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoJ3JlbW92ZUxpc3RlbmVyJyk7XG4gICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIGxpc3RlbmVycyA9IGV2ZW50c1t0eXBlXTtcblxuICAgICAgaWYgKHR5cGVvZiBsaXN0ZW5lcnMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnMpO1xuICAgICAgfSBlbHNlIGlmIChsaXN0ZW5lcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBMSUZPIG9yZGVyXG4gICAgICAgIGZvciAoaSA9IGxpc3RlbmVycy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICAgIHRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSwgbGlzdGVuZXJzW2ldKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG5mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCwgdHlwZSwgdW53cmFwKSB7XG4gIHZhciBldmVudHMgPSB0YXJnZXQuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuICBpZiAoZXZsaXN0ZW5lciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBbXTtcblxuICBpZiAodHlwZW9mIGV2bGlzdGVuZXIgPT09ICdmdW5jdGlvbicpXG4gICAgcmV0dXJuIHVud3JhcCA/IFtldmxpc3RlbmVyLmxpc3RlbmVyIHx8IGV2bGlzdGVuZXJdIDogW2V2bGlzdGVuZXJdO1xuXG4gIHJldHVybiB1bndyYXAgP1xuICAgIHVud3JhcExpc3RlbmVycyhldmxpc3RlbmVyKSA6IGFycmF5Q2xvbmUoZXZsaXN0ZW5lciwgZXZsaXN0ZW5lci5sZW5ndGgpO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVycyA9IGZ1bmN0aW9uIGxpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIHRydWUpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnMgPSBmdW5jdGlvbiByYXdMaXN0ZW5lcnModHlwZSkge1xuICByZXR1cm4gX2xpc3RlbmVycyh0aGlzLCB0eXBlLCBmYWxzZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIubGlzdGVuZXJDb3VudCA9IGZ1bmN0aW9uKGVtaXR0ZXIsIHR5cGUpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsaXN0ZW5lckNvdW50LmNhbGwoZW1pdHRlciwgdHlwZSk7XG4gIH1cbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJDb3VudCA9IGxpc3RlbmVyQ291bnQ7XG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KHR5cGUpIHtcbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcblxuICBpZiAoZXZlbnRzICE9PSB1bmRlZmluZWQpIHtcbiAgICB2YXIgZXZsaXN0ZW5lciA9IGV2ZW50c1t0eXBlXTtcblxuICAgIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfSBlbHNlIGlmIChldmxpc3RlbmVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiBldmxpc3RlbmVyLmxlbmd0aDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gMDtcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5ldmVudE5hbWVzID0gZnVuY3Rpb24gZXZlbnROYW1lcygpIHtcbiAgcmV0dXJuIHRoaXMuX2V2ZW50c0NvdW50ID4gMCA/IFJlZmxlY3RPd25LZXlzKHRoaXMuX2V2ZW50cykgOiBbXTtcbn07XG5cbmZ1bmN0aW9uIGFycmF5Q2xvbmUoYXJyLCBuKSB7XG4gIHZhciBjb3B5ID0gbmV3IEFycmF5KG4pO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IG47ICsraSlcbiAgICBjb3B5W2ldID0gYXJyW2ldO1xuICByZXR1cm4gY29weTtcbn1cblxuZnVuY3Rpb24gc3BsaWNlT25lKGxpc3QsIGluZGV4KSB7XG4gIGZvciAoOyBpbmRleCArIDEgPCBsaXN0Lmxlbmd0aDsgaW5kZXgrKylcbiAgICBsaXN0W2luZGV4XSA9IGxpc3RbaW5kZXggKyAxXTtcbiAgbGlzdC5wb3AoKTtcbn1cblxuZnVuY3Rpb24gdW53cmFwTGlzdGVuZXJzKGFycikge1xuICB2YXIgcmV0ID0gbmV3IEFycmF5KGFyci5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IHJldC5sZW5ndGg7ICsraSkge1xuICAgIHJldFtpXSA9IGFycltpXS5saXN0ZW5lciB8fCBhcnJbaV07XG4gIH1cbiAgcmV0dXJuIHJldDtcbn1cblxuZnVuY3Rpb24gb25jZShlbWl0dGVyLCBuYW1lKSB7XG4gIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgZnVuY3Rpb24gZXJyb3JMaXN0ZW5lcihlcnIpIHtcbiAgICAgIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIobmFtZSwgcmVzb2x2ZXIpO1xuICAgICAgcmVqZWN0KGVycik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzb2x2ZXIoKSB7XG4gICAgICBpZiAodHlwZW9mIGVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcignZXJyb3InLCBlcnJvckxpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIHJlc29sdmUoW10uc2xpY2UuY2FsbChhcmd1bWVudHMpKTtcbiAgICB9O1xuXG4gICAgZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIHJlc29sdmVyLCB7IG9uY2U6IHRydWUgfSk7XG4gICAgaWYgKG5hbWUgIT09ICdlcnJvcicpIHtcbiAgICAgIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGVycm9yTGlzdGVuZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhZGRFcnJvckhhbmRsZXJJZkV2ZW50RW1pdHRlcihlbWl0dGVyLCBoYW5kbGVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgJ2Vycm9yJywgaGFuZGxlciwgZmxhZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCBuYW1lLCBsaXN0ZW5lciwgZmxhZ3MpIHtcbiAgaWYgKHR5cGVvZiBlbWl0dGVyLm9uID09PSAnZnVuY3Rpb24nKSB7XG4gICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgIGVtaXR0ZXIub25jZShuYW1lLCBsaXN0ZW5lcik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVtaXR0ZXIub24obmFtZSwgbGlzdGVuZXIpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh0eXBlb2YgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gRXZlbnRUYXJnZXQgZG9lcyBub3QgaGF2ZSBgZXJyb3JgIGV2ZW50IHNlbWFudGljcyBsaWtlIE5vZGVcbiAgICAvLyBFdmVudEVtaXR0ZXJzLCB3ZSBkbyBub3QgbGlzdGVuIGZvciBgZXJyb3JgIGV2ZW50cyBoZXJlLlxuICAgIGVtaXR0ZXIuYWRkRXZlbnRMaXN0ZW5lcihuYW1lLCBmdW5jdGlvbiB3cmFwTGlzdGVuZXIoYXJnKSB7XG4gICAgICAvLyBJRSBkb2VzIG5vdCBoYXZlIGJ1aWx0aW4gYHsgb25jZTogdHJ1ZSB9YCBzdXBwb3J0IHNvIHdlXG4gICAgICAvLyBoYXZlIHRvIGRvIGl0IG1hbnVhbGx5LlxuICAgICAgaWYgKGZsYWdzLm9uY2UpIHtcbiAgICAgICAgZW1pdHRlci5yZW1vdmVFdmVudExpc3RlbmVyKG5hbWUsIHdyYXBMaXN0ZW5lcik7XG4gICAgICB9XG4gICAgICBsaXN0ZW5lcihhcmcpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImVtaXR0ZXJcIiBhcmd1bWVudCBtdXN0IGJlIG9mIHR5cGUgRXZlbnRFbWl0dGVyLiBSZWNlaXZlZCB0eXBlICcgKyB0eXBlb2YgZW1pdHRlcik7XG4gIH1cbn1cbiIsImlmICh0eXBlb2YgT2JqZWN0LmNyZWF0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAvLyBpbXBsZW1lbnRhdGlvbiBmcm9tIHN0YW5kYXJkIG5vZGUuanMgJ3V0aWwnIG1vZHVsZVxuICBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGluaGVyaXRzKGN0b3IsIHN1cGVyQ3Rvcikge1xuICAgIGlmIChzdXBlckN0b3IpIHtcbiAgICAgIGN0b3Iuc3VwZXJfID0gc3VwZXJDdG9yXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwge1xuICAgICAgICBjb25zdHJ1Y3Rvcjoge1xuICAgICAgICAgIHZhbHVlOiBjdG9yLFxuICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLFxuICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIH1cbiAgfTtcbn0gZWxzZSB7XG4gIC8vIG9sZCBzY2hvb2wgc2hpbSBmb3Igb2xkIGJyb3dzZXJzXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIHZhciBUZW1wQ3RvciA9IGZ1bmN0aW9uICgpIHt9XG4gICAgICBUZW1wQ3Rvci5wcm90b3R5cGUgPSBzdXBlckN0b3IucHJvdG90eXBlXG4gICAgICBjdG9yLnByb3RvdHlwZSA9IG5ldyBUZW1wQ3RvcigpXG4gICAgICBjdG9yLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IGN0b3JcbiAgICB9XG4gIH1cbn1cbiIsIid1c2Ugc3RyaWN0JztcbnZhciB0eXBlcyA9IFtcbiAgcmVxdWlyZSgnLi9uZXh0VGljaycpLFxuICByZXF1aXJlKCcuL3F1ZXVlTWljcm90YXNrJyksXG4gIHJlcXVpcmUoJy4vbXV0YXRpb24uanMnKSxcbiAgcmVxdWlyZSgnLi9tZXNzYWdlQ2hhbm5lbCcpLFxuICByZXF1aXJlKCcuL3N0YXRlQ2hhbmdlJyksXG4gIHJlcXVpcmUoJy4vdGltZW91dCcpXG5dO1xudmFyIGRyYWluaW5nO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG52YXIgcXVldWUgPSBbXTtcbnZhciBzY2hlZHVsZWQgPSBmYWxzZTtcbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgaWYgKCFkcmFpbmluZyB8fCAhY3VycmVudFF1ZXVlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGRyYWluaW5nID0gZmFsc2U7XG4gIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgfSBlbHNlIHtcbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gIH1cbiAgaWYgKHF1ZXVlLmxlbmd0aCkge1xuICAgIG5leHRUaWNrKCk7XG4gIH1cbn1cblxuLy9uYW1lZCBuZXh0VGljayBmb3IgbGVzcyBjb25mdXNpbmcgc3RhY2sgdHJhY2VzXG5mdW5jdGlvbiBuZXh0VGljaygpIHtcbiAgaWYgKGRyYWluaW5nKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNjaGVkdWxlZCA9IGZhbHNlO1xuICBkcmFpbmluZyA9IHRydWU7XG4gIHZhciBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIHZhciB0aW1lb3V0ID0gc2V0VGltZW91dChjbGVhblVwTmV4dFRpY2spO1xuICB3aGlsZSAobGVuKSB7XG4gICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgcXVldWUgPSBbXTtcbiAgICB3aGlsZSAoY3VycmVudFF1ZXVlICYmICsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO1xuICAgIH1cbiAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgbGVuID0gcXVldWUubGVuZ3RoO1xuICB9XG4gIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gIHF1ZXVlSW5kZXggPSAtMTtcbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xufVxudmFyIHNjaGVkdWxlRHJhaW47XG52YXIgaSA9IC0xO1xudmFyIGxlbiA9IHR5cGVzLmxlbmd0aDtcbndoaWxlICgrK2kgPCBsZW4pIHtcbiAgaWYgKHR5cGVzW2ldICYmIHR5cGVzW2ldLnRlc3QgJiYgdHlwZXNbaV0udGVzdCgpKSB7XG4gICAgc2NoZWR1bGVEcmFpbiA9IHR5cGVzW2ldLmluc3RhbGwobmV4dFRpY2spO1xuICAgIGJyZWFrO1xuICB9XG59XG4vLyB2OCBsaWtlcyBwcmVkaWN0aWJsZSBvYmplY3RzXG5mdW5jdGlvbiBJdGVtKGZ1biwgYXJyYXkpIHtcbiAgdGhpcy5mdW4gPSBmdW47XG4gIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1biA9IHRoaXMuZnVuO1xuICB2YXIgYXJyYXkgPSB0aGlzLmFycmF5O1xuICBzd2l0Y2ggKGFycmF5Lmxlbmd0aCkge1xuICBjYXNlIDA6XG4gICAgcmV0dXJuIGZ1bigpO1xuICBjYXNlIDE6XG4gICAgcmV0dXJuIGZ1bihhcnJheVswXSk7XG4gIGNhc2UgMjpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSk7XG4gIGNhc2UgMzpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdLCBhcnJheVsxXSwgYXJyYXlbMl0pO1xuICBkZWZhdWx0OlxuICAgIHJldHVybiBmdW4uYXBwbHkobnVsbCwgYXJyYXkpO1xuICB9XG5cbn07XG5tb2R1bGUuZXhwb3J0cyA9IGltbWVkaWF0ZTtcbmZ1bmN0aW9uIGltbWVkaWF0ZSh0YXNrKSB7XG4gIHZhciBhcmdzID0gbmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGggLSAxKTtcbiAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFyZ3NbaSAtIDFdID0gYXJndW1lbnRzW2ldO1xuICAgIH1cbiAgfVxuICBxdWV1ZS5wdXNoKG5ldyBJdGVtKHRhc2ssIGFyZ3MpKTtcbiAgaWYgKCFzY2hlZHVsZWQgJiYgIWRyYWluaW5nKSB7XG4gICAgc2NoZWR1bGVkID0gdHJ1ZTtcbiAgICBzY2hlZHVsZURyYWluKCk7XG4gIH1cbn1cbiIsImltcG9ydCAqIGFzIENvbG9yIGZyb20gJy4vQ29sb3InO1xuaW1wb3J0IHsgdXBkYXRlSGlnaGxpZ2h0LCBnZXRIaWdobGlnaHRUeXBlIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuLi9TcXVhcmVFZGl0L0dyb3VwaW5nJztcbmltcG9ydCB7IHJlc2l6ZSB9IGZyb20gJy4vUmVzaXplJztcbmltcG9ydCB7IEF0dHJpYnV0ZXMsIFNlbGVjdGlvblR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuLi9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBzZWxlY3Rpb24gbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZWxlY3Rpb25UeXBlICgpOiBTZWxlY3Rpb25UeXBlIHtcbiAgY29uc3QgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbC1ieSBpcy1hY3RpdmUnKTtcbiAgaWYgKGVsZW1lbnQubGVuZ3RoICE9PSAwKSB7XG4gICAgcmV0dXJuIGVsZW1lbnRbMF0uaWQgYXMgU2VsZWN0aW9uVHlwZTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxufVxuXG4vKipcbiAqIFVuc2VsZWN0IGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhbmQgcnVuIHVuZG8gYW55IGV4dHJhXG4gKiBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZWxlY3QgKCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICBzZWxlY3RlZC5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgIGlmIChzZWxlY3RlZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIENvbG9yLnVuaGlnaGxpZ2h0KHNlbGVjdGVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZWN0ZWQucmVtb3ZlQXR0cmlidXRlKCdzdHlsZScpO1xuICAgICAgc2VsZWN0ZWQuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gU2V0IHRoZSBzdHJva2VzIG9mIGFsbCBkaXZsaW5lcyBiYWNrIHRvIGJsYWNrXG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2TGluZScpKS5mb3JFYWNoKChzeWxsYWJsZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBzeWxsYWJsZS5zdHlsZS5zdHJva2UgPSAnYmxhY2snO1xuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25ldW1lJykpLmZvckVhY2goKHN5bGxhYmxlOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHN5bGxhYmxlLnN0eWxlLmZpbGwgPSAnJztcbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCd0ZXh0LXNlbGVjdCcpKS5mb3JFYWNoKChlbDogU1ZHRWxlbWVudCkgPT4ge1xuICAgIGVsLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgZWwuc3R5bGUuZm9udFdlaWdodCA9ICcnO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2VsZWN0Jyk7XG4gIH0pO1xuXG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3lsVGV4dFJlY3QtZGlzcGxheScpKS5mb3JFYWNoKChzeWxSZWN0OiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIHN5bFJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgfSk7XG5cbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpKS5mb3JFYWNoKChzeWxsYWJsZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBzeWxsYWJsZS5zdHlsZS5maWxsID0gJyc7XG4gICAgc3lsbGFibGUuY2xhc3NMaXN0LmFkZCgnc3lsbGFibGUnKTtcbiAgICBzeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICB9KTtcblxuICBkMy5zZWxlY3RBbGwoJyNyZXNpemVSZWN0JykucmVtb3ZlKCk7XG4gIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG5cbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICBHcm91cGluZy5lbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhIHN0YWZmIGVsZW1lbnQuXG4gKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdGFmZiAoc3RhZmY6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzdGFmZi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KHN0YWZmKTtcbiAgICBDb2xvci5oaWdobGlnaHQoc3RhZmYsICcjZDAwJyk7XG4gICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3BsaXRBY3Rpb25zKCk7XG4gICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhIGxheWVyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbGF5ZXJFbGVtZW50IC0gVGhlIGxheWVyIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0TGF5ZXJFbGVtZW50IChsYXllckVsZW1lbnQ6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFsYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQobGF5ZXJFbGVtZW50KTtcbiAgICBDb2xvci5oaWdobGlnaHQobGF5ZXJFbGVtZW50LCAnI2QwMCcpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIHNlbGVjdCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBlbCAtIEVsZW1lbnQgdG8gc2VsZWN0LlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gT25seSB1c2VkIGZvciBzdGF2ZXMuXG4gKiBAcGFyYW0gbmVlZHNIaWdobGlnaHRVcGRhdGUgLSBXaGV0aGVyIGFsbCB0aGUgZ3JvdXAncyBoaWdobGlnaHRzIHNob3VsZCBiZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIGRyYWdIYW5kbGVyPzogRHJhZ0hhbmRsZXIsIG5lZWRzSGlnaGxpZ2h0VXBkYXRlID0gdHJ1ZSk6IHZvaWQge1xuICAvLyBJZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0LCBleGl0XG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdFN0YWZmKGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgIHJldHVybiBzZWxlY3RMYXllckVsZW1lbnQoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0JykgJiZcbiAgICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0LWRpc3BsYXknKSkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgLy8gc2V0IGZpbGwgdG8gcmVkXG4gICAgLy8gc2V0IHN0cm9rZSB0byByZWQgb25seSBpZiBzZWxlY3RlZCBlbGVtIGlzIGEgZGl2TGluZVxuICAgIGVsLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgZWwuc3R5bGUuc3Ryb2tlID0gKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKT8gJyNkMDAnIDogJ2JsYWNrJztcblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykgJiYgZ2V0SGlnaGxpZ2h0VHlwZSgpID09ICduZXVtZScpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCBjb2xvciBvZiB0aGUgY29ycmVzcG9uZGluZyB0ZXh0IGluIHRoZSB0ZXh0IHBhbmVsIHRvIHJlZFxuICAgIGxldCBzeWxJZDtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBzeWxJZCA9IGVsLmlkO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgIHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgfVxuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgaWYgKG5lZWRzSGlnaGxpZ2h0VXBkYXRlKVxuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhbiBuYy5cbiAqIEBwYXJhbSBlbCAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3ROY3MgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldywgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyKTogUHJvbWlzZTx2b2lkPiB7XG4gIGlmICghZWwucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBjb25zdCBwYXJlbnQgPSBlbC5wYXJlbnRFbGVtZW50IGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgIHVuc2VsZWN0KCk7XG4gICAgc2VsZWN0KHBhcmVudCk7XG4gICAgaWYgKGF3YWl0IGlzTGlnYXR1cmUocGFyZW50LCBuZW9uVmlldykpIHtcbiAgICAgIGNvbnN0IHByZXZOYyA9IHBhcmVudC5wcmV2aW91c1NpYmxpbmcgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwcmV2TmMsIG5lb25WaWV3KSkge1xuICAgICAgICBzZWxlY3QocHJldk5jKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IG5leHROYyA9IHBhcmVudC5uZXh0U2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgaWYgKGF3YWl0IGlzTGlnYXR1cmUobmV4dE5jLCBuZW9uVmlldykpIHtcbiAgICAgICAgICBzZWxlY3QobmV4dE5jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yOiBOZWl0aGVyIHByZXYgb3IgbmV4dCBuYyBhcmUgbGlnYXR1cmVzJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIEdyb3VwaW5nLnRyaWdnZXJHcm91cGluZygnbGlnYXR1cmUnKTtcbiAgICB9IGVsc2UgaWYgKHBhcmVudC5jbGFzc0xpc3QuY29udGFpbnMoJ25jJykpIHtcbiAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5jQWN0aW9ucyhwYXJlbnQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zb2xlLndhcm4oJ05vIGFjdGlvbiB0cmlnZ2VyZWQhJyk7XG4gICAgfVxuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBAcGFyYW0gbmMgLSBUaGUgbmV1bWUgY29tcG9uZW50LlxuICogQHBhcmFtIG5lb25WaWV3IC0gVGhlIFtbTmVvblZpZXddXSBmb3IgdGhpcyBpbnN0YW5jZS5cbiAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG5ldW1lIGNvbXBvbmVudCBpcyBwYXJ0IG9mIGEgbGlnYXR1cmUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpc0xpZ2F0dXJlIChuYzogU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldzogTmVvblZpZXcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgY29uc3QgYXR0cmlidXRlczogQXR0cmlidXRlcyA9IGF3YWl0IG5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jLmlkLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICByZXR1cm4gQm9vbGVhbihhdHRyaWJ1dGVzLmxpZ2F0ZWQpO1xufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgbGlzdCBvZiBlbGVtZW50cyBvZiBhIGNlcnRhaW4gdHlwZSBhcmUgbG9naWNhbGx5IGFkamFjZW50IHRvIGVhY2ggb3RoZXIuXG4gKiBJbmNsdWRlcyBlbGVtZW50cyB0aGF0IGFyZSBvbiBzZXBhcmF0ZSBzdGF2ZXMgYnV0IHdvdWxkIG90aGVyd2lzZSBiZSBuZXh0IHRvIGVhY2ggb3RoZXIuXG4gKiBDYW4gbm90IGFwcGx5IHRvIGVsZW1lbnRzIG9mIHR5cGUgbmV1bWUgY29tcG9uZW50LlxuICogXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB1c2VyIHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIG9mIGludGVyZXN0XG4gKiBAcmV0dXJucyB0cnVlIGlmIGVsZW1lbnRzIGFyZSBhZGphY2VudCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhcmVBZGphY2VudChzZWxlY3Rpb25UeXBlOiBzdHJpbmcsIGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICAvLyAyIGVsZW1lbnRzIGNhbm5vdCBiZSBhZGphY2VudCBpZiB0aGVyZSBpcyBvbmx5IDEgZWxlbWVudFxuICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuXG4gIC8vIGdldCBhbGwgZWxlbWVudHMgdGhhdCBhcmUgb2YgdGhlIHNhbWUgdHlwZSBhcyBzZWxlY3Rpb25UeXBlXG4gIGxldCBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZTogSFRNTEVsZW1lbnRbXTtcbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsbGFibGUnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZSA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5jJykpO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYnKSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgXG4gIC8vIFNvcnQgU0VMRUNURUQgZWxlbWVudHMgaW4gb3JkZXIgb2YgYXBwZWFyYW5jZSBieSBcbiAgLy8gbWF0Y2hpbmcgdG8gb3JkZXIgb2YgQUxMIGVsZW1lbnRzIG9mIHNlbGVjdGlvbiB0eXBlXG4gIGNvbnN0IHNvcnRlZEVsZW1lbnRzID0gW107XG4gIGZvciAobGV0IGk9MDsgaTxhbGxFbGVtc09mU2VsZWN0aW9uVHlwZS5sZW5ndGg7IGkrKykge1xuICAgIGZvciAobGV0IGo9MDsgajxlbGVtZW50cy5sZW5ndGg7IGorKykge1xuICAgICAgaWYgKGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlW2ldLmlzU2FtZU5vZGUoZWxlbWVudHNbal0pKSB7XG4gICAgICAgIHNvcnRlZEVsZW1lbnRzLnB1c2goZWxlbWVudHNbal0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8vIE5vdyBjaGVjayBpZiBTRUxFQ1RFRCBlbGVtZW50cyBhcmUgYWxsIGFkamFjZW50IChpbiBhIHJvdykgYnkgXG4gIC8vIGZpbmRpbmcgYW5kIGNvbXBhcmluZyB0aGVpciBpbmRlY2VzIGluIHRoZSBhcnJheSBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgZm9yIChsZXQgaT0wOyBpPHNvcnRlZEVsZW1lbnRzLmxlbmd0aC0xOyBpKyspIHtcbiAgICBjb25zdCBmaXJzdEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpXTtcbiAgICBjb25zdCBzZWNvbmRFbGVtID0gc29ydGVkRWxlbWVudHNbaSsxXTtcblxuICAgIGNvbnN0IGluZGV4MSA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2YoZmlyc3RFbGVtKTtcbiAgICBjb25zdCBpbmRleDIgPSBhbGxFbGVtc09mU2VsZWN0aW9uVHlwZS5pbmRleE9mKHNlY29uZEVsZW0pO1xuXG4gICAgaWYgKE1hdGguYWJzKGluZGV4MSAtIGluZGV4MikgIT09IDEpIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogQ2hlY2sgdG8gc2VlIGlmIHRoZSBhcnJheSBvZiBlbGVtZW50cyBhbGwgc2hhcmUgdGhlIHNhbWUgbG9naWNhbCBwYXJlbnQuXG4gKiBGb3IgZXhhbXBsZTogSWYgYWxsIG5ldW1lcyBhcmUgaW4gdGhlIHNhbWUgc3lsbGFibGUuXG4gKiBcbiAqIE5vdGUhISBUaGVyZSBpcyBjdXJyZW50bHkgbm8gbG9naWMgZm9yIHRyZWF0aW5nIGxheWVyIGVsZW1lbnRzIGFuZCBiYm94ZXMhXG4gKiBOb3RlISEgRnVuY3Rpb24gd2lsbCBhbHdheXMgcmV0dXJuIHRydWUgZm9yIHN0YXZlIGVsZW1lbnRzLiAoU2hvdWxkIGl0Pz8/KVxuICogXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB0aGUgY3VycmVudCBOZW9uIHNlbGVjdGlvbiBtb2RlXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIGVsZW1lbnRzIGluIHF1ZXN0aW9uXG4gKiBAcmV0dXJucyB0cnVlIGlmIGFsbCBlbGVtZW50cyBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudCwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkTG9naWNhbFBhcmVudChzZWxlY3Rpb25UeXBlOiBzdHJpbmcsIGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuXG4gIGlmICghZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgIGNvbnN0IHJlZmVyZW5jZVBhcmVudFN0YWZmID0gZWxlbWVudHNbMF0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICBmb3IgKGxldCBpPTA7IGk8ZWxlbWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgY29uc3QgZWxlbSA9IGVsZW1lbnRzW2ldO1xuICAgICAgICBpZiAoIWVsZW0uY2xvc2VzdCgnLnN0YWZmJykuaXNTYW1lTm9kZShyZWZlcmVuY2VQYXJlbnRTdGFmZikpIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTeWxsYWJsZSA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3lsbGFibGUpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSB0eXBlIGFzIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGUuIFxuICogRm9yIGV4YW1wbGUsIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgb2YgdHlwZSBuZXVtZSwgb3Igc3lsbGFibGUsIGV0Yy5cbiAqIFxuICogTm90ZSEhIFRoZXJlIGlzIG5vIGxvZ2ljIGN1cnJlbnRseSBpbXBsZW1lbnRlZCBmb3IgbGF5ZXIgZWxlbWVudHMgb3IgYmJveGVzLlxuICogXG4gKiBAcGFyYW0gc2VsZWN0aW9uVHlwZSB0aGUgY3VycmVudCBzZWxlY3Rpb24gbW9kZVxuICogQHBhcmFtIGVsZW1lbnRzIHRoZSBlbGVtZW50cyB0aGF0IGFyZSBiZWluZyBjaGVja2VkXG4gKiBAcmV0dXJucyB0cnVlIGlmIGFsbCBlbGVtZW50cyBtYXRjaCBzZWxlY3Rpb24gbW9kZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogU1ZHR3JhcGhpY3NFbGVtZW50W10pOiBib29sZWFuIHtcblxuICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgMikgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHJldHVybiB0cnVlO1xufVxuXG5cbi8qKlxuICogQHBhcmFtIGVsZW1lbnRzIC0gVGhlIGVsZW1lbnRzIHRvIGNvbXBhcmUuXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBlbGVtZW50cyBoYXZlIHRoZSBzYW1lIHBhcmVudCB1cCB0d28gbGV2ZWxzLCBvdGhlcndpc2UgZmFsc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRTZWNvbmRMZXZlbFBhcmVudCAoZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGNvbnN0IHRlbXBFbGVtZW50cyA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuICBjb25zdCBmaXJzdEVsZW1lbnQgPSB0ZW1wRWxlbWVudHMucG9wKCk7XG4gIGNvbnN0IHNlY29uZFBhcmVudCA9IGZpcnN0RWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gIGNvbnNvbGUubG9nKHNlY29uZFBhcmVudCk7XG4gIGZvciAoY29uc3QgZWxlbWVudCBvZiB0ZW1wRWxlbWVudHMpIHtcbiAgICBjb25zdCBzZWNQYXIgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQucGFyZW50RWxlbWVudDtcbiAgICBjb25zb2xlLmxvZyhzZWNQYXIpO1xuICAgIGlmIChzZWNQYXIuaWQgIT09IHNlY29uZFBhcmVudC5pZCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdHJ1ZTtcbn1cblxuLyoqXG4gKiBDaGVjayBpZiB1c2VyIHNlbGVjdGVkIGVsZW1lbnRzIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzXG4gKiBAcGFyYW0gZWxlbWVudHMgdGhlIHVzZXItc2VsZWN0ZWQgZWxlbWVudHNcbiAqIEByZXR1cm5zIHRydWUgaWYgc2VsZWN0aW9uIGlzIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTXVsdGlTdGF2ZVNlbGVjdGlvbihlbGVtZW50czogU1ZHRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGNvbnN0IGVsZW1lbnRzQXJyYXkgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcblxuICBmb3IgKGxldCBpPTA7IGk8ZWxlbWVudHNBcnJheS5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IHN0YWZmID0gZWxlbWVudHNBcnJheVtpXS5jbG9zZXN0KCcuc3RhZmYnKTtcblxuICAgIGZvciAobGV0IGo9aTsgajxlbGVtZW50c0FycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICBjb25zdCBhbm90aGVyU3RhZmYgPSBlbGVtZW50c0FycmF5W2pdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgLy8gY29tcGFyZSB3aXRoIG90aGVyIHN0YXZlc1xuICAgICAgaWYgKCFzdGFmZi5pc1NhbWVOb2RlKGFub3RoZXJTdGFmZikpIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBmYWxzZTtcbn1cblxuXG4vKipcbiAqIEJvdW5kaW5nIGJveCBvYmplY3QgaW50ZXJmYWNlIGZvciBnZXRTdGFmZkJCb3goKVxuICovXG5leHBvcnQgaW50ZXJmYWNlIFN0YWZmQkJveCB7XG4gIGlkOiBzdHJpbmc7XG4gIHVseDogbnVtYmVyO1xuICB1bHk6IG51bWJlcjtcbiAgbHJ4OiBudW1iZXI7XG4gIGxyeTogbnVtYmVyO1xuICByb3RhdGU6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgdGhlIGJvdW5kaW5nIGJveCBvZiBhIHN0YWZmIGJhc2VkIG9uIGl0cyBzdGFmZiBsaW5lcy5cbiAqIFJvdGF0ZSBpcyBpbmNsdWRlZCBpbiByYWRpYW5zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZCQm94IChzdGFmZjogU1ZHR0VsZW1lbnQpOiBTdGFmZkJCb3gge1xuICBsZXQgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGU7XG4gIHN0YWZmLnF1ZXJ5U2VsZWN0b3JBbGwoJ3BhdGgnKS5mb3JFYWNoKHBhdGggPT4ge1xuICAgIGNvbnN0IGNvb3JkaW5hdGVzOiBudW1iZXJbXSA9IHBhdGguZ2V0QXR0cmlidXRlKCdkJylcbiAgICAgIC5tYXRjaCgvXFxkKy9nKVxuICAgICAgLm1hcChlbGVtZW50ID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgaWYgKHJvdGF0ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC9cbiAgICAgICAgKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pKTtcbiAgICB9XG5cbiAgICBpZiAodWx5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5taW4oY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA8IHVseSkge1xuICAgICAgdWx5ID0gTWF0aC5taW4oY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKHVseCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzBdIDwgdWx4KSB7XG4gICAgICB1bHggPSBjb29yZGluYXRlc1swXTtcbiAgICB9XG4gICAgaWYgKGxyeSA9PT0gdW5kZWZpbmVkIHx8IE1hdGgubWF4KGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSkgPiBscnkpIHtcbiAgICAgIGxyeSA9IE1hdGgubWF4KGNvb3JkaW5hdGVzWzFdLCBjb29yZGluYXRlc1szXSk7XG4gICAgfVxuICAgIGlmIChscnggPT09IHVuZGVmaW5lZCB8fCBjb29yZGluYXRlc1syXSA+IGxyeCkge1xuICAgICAgbHJ4ID0gY29vcmRpbmF0ZXNbMl07XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4geyBpZDogc3RhZmYuaWQsIHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlLCB9O1xufVxuXG4vKipcbiAqIHNlbGVjdCBhIGJvdW5kaW5nYm94IGVsZW1lbnRcbiAqIEBwYXJhbSBlbCAtIHRoZSBiYm94IChzeWxUZXh0UmVjdCkgZWxlbWVudCBpbiB0aGUgRE9NXG4gKiBAcGFyYW0gZHJhZ0hhbmRsZXIgLSB0aGUgZHJhZyBoYW5kbGVyIGluIHVzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0QkJveCAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgY29uc3QgYmJveCA9IGVsO1xuICBjb25zdCBzeWwgPSBiYm94LmNsb3Nlc3QoJy5zeWwnKTtcbiAgaWYgKCFzeWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgc3lsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgYmJveC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgIGNvbnN0IGNsb3Nlc3QgPSBlbC5jbG9zZXN0KCcuc3lsbGFibGUnKSBhcyBIVE1MRWxlbWVudDtcbiAgICBjbG9zZXN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY2xvc2VzdC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICAgIGlmIChuZW9uVmlldyAhPT0gdW5kZWZpbmVkICl7XG4gICAgICByZXNpemUoc3lsIGFzIFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICB9XG4gICAgaWYgKGRyYWdIYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgfVxuICAgIGNvbnN0IHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgaWYgKHN5bElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNwYW46IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBub3QgbmV1bWUgZWxlbWVudHMuXG4gKiBAcGFyYW0gbm90TmV1bWVzIC0gQW4gYXJyYXkgb2Ygbm90IG5ldW1lcyBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE5uIChub3ROZXVtZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGlmIChub3ROZXVtZXMubGVuZ3RoID4gMCkge1xuICAgIG5vdE5ldW1lcy5mb3JFYWNoKG5uID0+IHsgc2VsZWN0KG5uKTsgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHNlbGVjdGluZyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGwgKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZWxlY3Rpb25UeXBlID0gZ2V0U2VsZWN0aW9uVHlwZSgpO1xuICB1bnNlbGVjdCgpO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZWxlY3Rpb25DbGFzcztcbiAgbGV0IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGZhbHNlO1xuICBsZXQgY29udGFpbnNOYyA9IGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bGxhYmxlJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5ldW1lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5jJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN0YWZmJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsVGV4dFJlY3QtZGlzcGxheSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZSc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZSAnICsgc2VsZWN0aW9uVHlwZSk7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBHZXQgdGhlIGdyb3VwaW5ncyBzcGVjaWZpZWQgYnkgc2VsZWN0aW9uQ2xhc3NcbiAgLy8gdGhhdCBjb250YWluIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBzZWxlY3QuXG4gIGNvbnN0IGdyb3Vwc1RvU2VsZWN0ID0gbmV3IFNldDxTVkdHRWxlbWVudD4oKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgbGV0IGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0PFNWR0dFbGVtZW50PihzZWxlY3Rpb25DbGFzcyk7XG4gICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBjbGljay1zZWxlY3RlZCBhIGNsZWYgb3IgYSBjdXN0b3Mgb3IgYW4gYWNjaWQgb3IgYSBkaXZMaW5lXG4gICAgICBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdCgnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnKTtcbiAgICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIGVsZW1lbnQuaWQgKyAnIGlzIG5vdCBwYXJ0IG9mIHNwZWNpZmllZCBncm91cCBhbmQgaXMgbm90IGEgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZS4nKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb250YWluc0xheWVyRWxlbWVudHMgPSBjb250YWluc0xheWVyRWxlbWVudHMgfHwgdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbnNOYyA9IGNvbnRhaW5zTmMgfHwgdHJ1ZTtcbiAgICB9XG4gICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGdyb3VwaW5nKTtcblxuICAgIC8vIENoZWNrIGZvciBwcmVjZWRlcy9mb2xsb3dzXG4gICAgY29uc3QgZm9sbG93cyA9IGdyb3VwaW5nLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKTtcbiAgICBpZiAoZm9sbG93cykge1xuICAgICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgZm9sbG93cy5zbGljZSgxKSkpO1xuICAgIH1cbiAgICBjb25zdCBwcmVjZWRlcyA9IGdyb3VwaW5nLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJyk7XG4gICAgaWYgKHByZWNlZGVzKSB7XG4gICAgICBncm91cHNUb1NlbGVjdC5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkpO1xuICAgIH1cbiAgfVxuICAvLyBTZWxlY3QgdGhlIGVsZW1lbnRzXG4gIGdyb3Vwc1RvU2VsZWN0LmZvckVhY2goKGdyb3VwOiBTVkdHcmFwaGljc0VsZW1lbnQpID0+IHNlbGVjdChncm91cCwgZHJhZ0hhbmRsZXIsIGZhbHNlKSk7XG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBjb250ZXh0IG1lbnUgdG8gZGlzcGxheSAoaWYgYW55KSAqL1xuXG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZ3JvdXBzVG9TZWxlY3QudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIC8vIEhhbmRsZSBvY2N1cmFuY2Ugb2YgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZVxuICBpZiAoY29udGFpbnNMYXllckVsZW1lbnRzICYmICFjb250YWluc05jKSB7XG4gICAgLy8gQSBjb250ZXh0IG1lbnUgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBpZiB0aGVyZSBpcyBhIHNpbmdsZSBjbGVmXG4gICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnY2xlZicpKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJDbGVmQWN0aW9ucyhncm91cHNbMF0pO1xuICAgIH0gZWxzZSBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjdXN0b3MnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQ3VzdG9zQWN0aW9ucygpO1xuICAgIH0gZWxzZSBpZiAoZ3JvdXBzVG9TZWxlY3Quc2l6ZSA9PT0gMSAmJiBncm91cHNbMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJBY2NpZEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICB9IGVsc2UgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgfWVsc2Uge1xuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3BsaXRBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgcmVzaXplKGdyb3Vwc1swXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTdGFmZkFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlMYXllckVsZW1lbnQnOlxuICAgICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnY2xlZicpKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckNsZWZBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9IGVsc2UgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnY3VzdG9zJykpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQ3VzdG9zQWN0aW9ucygpO1xuICAgICAgfSBlbHNlIGlmIChncm91cHNUb1NlbGVjdC5zaXplID09PSAxICYmIGdyb3Vwc1swXS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyQWNjaWRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICB9IGVsc2UgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgJiYgZ3JvdXBzWzBdLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMoZ3JvdXBzWzBdKTtcbiAgICAgIH1lbHNlIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG5cbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gVE9ETyBjaGFuZ2UgY29udGV4dCBpZiBpdCBpcyBvbmx5IGEgbmV1bWUvbmMuXG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdzaW5nbGVTZWxlY3QnKTtcbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBhIGxpbmtlZCBzeWxsYWJsZSBzcGxpdCBieSBhIHN0YWZmIGJyZWFrXG4gICAgICAgICAgLy8gaWYgdGhleSBhcmUgbGlua2FibGUsIHVzZXIgY2FuIHRvZ2dsZSBsaW5rZWQtc3lsbHNcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNMaW5rYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHsgXG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2xpbmthYmxlU2VsZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdtdWx0aVNlbGVjdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnZGVmYXVsdCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcblxuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIC8vIGlmIHN5bGxhYmxlcyBhcmUgYWxsIGxvY2F0ZWQgb24gb25lIHN0YXZlLCB0aGV5IHNob3VsZCBiZSBncm91cGFibGVcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNHcm91cGFibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ211bHRpU2VsZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIGlmIHN5bGxzIGFyZSBhY2Nyb3NzIG11bHRpcGxlIHN0YXZlc1xuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdkZWZhdWx0Jyk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgLy8gVE9ETyBjaGFuZ2UgY29udGV4dCBpZiBpdCBpcyBvbmx5IGEgbmMuXG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmV1bWVBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgaWYgKEdyb3VwaW5nLmlzR3JvdXBhYmxlKCdzZWxCeU5ldW1lJywgZ3JvdXBzKSkge1xuICAgICAgICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCduZXVtZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlck5jQWN0aW9ucyhncm91cHNbMF0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIDI6XG4gICAgICAgICAgaWYgKHNoYXJlZFNlY29uZExldmVsUGFyZW50KGdyb3VwcykpIHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoaXMgc2VsZWN0aW9uIGlzIGEgbGlnYXR1cmUgb3IgY2FuIGJlIGEgbGlnYXR1cmVcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZXNlIG5ldW1lIGNvbXBvbmVudHMgYXJlIHBhcnQgb2YgdGhlIHNhbWUgbmV1bWVcbiAgICAgICAgICAgIGlmIChncm91cHNbMF0ucGFyZW50RWxlbWVudCA9PT0gZ3JvdXBzWzFdLnBhcmVudEVsZW1lbnQpIHtcbiAgICAgICAgICAgICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGdyb3Vwc1swXS5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgbmV1bWUgY29tcG9uZW50cyBhcmUgYWRqYWNlbnRcbiAgICAgICAgICAgICAgaWYgKE1hdGguYWJzKGNoaWxkcmVuLmluZGV4T2YoZ3JvdXBzWzBdKSAtIGNoaWxkcmVuLmluZGV4T2YoZ3JvdXBzWzFdKSkgPT09IDEpIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAvLyBDaGVjayB0aGF0IHNlY29uZCBuZXVtZSBjb21wb25lbnQgaXMgbG93ZXIgdGhhbiBmaXJzdC5cbiAgICAgICAgICAgICAgICAvLyBOb3RlIHRoYXQgdGhlIG9yZGVyIGluIHRoZSBsaXN0IG1heSBub3QgYmUgdGhlIHNhbWUgYXMgdGhlXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgYnkgeC1wb3NpdGlvbi5cbiAgICAgICAgICAgICAgICBsZXQgZmlyc3ROQyA9IChncm91cHNbMF0uY2hpbGRyZW5bMF0gYXMgU1ZHVXNlRWxlbWVudCk7XG4gICAgICAgICAgICAgICAgbGV0IHNlY29uZE5DID0gKGdyb3Vwc1sxXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50KTtcblxuICAgICAgICAgICAgICAgIGxldCBmaXJzdE5DWCAgPSBmaXJzdE5DLnguYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkNYID0gc2Vjb25kTkMueC5iYXNlVmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBmaXJzdE5DWSAgPSBmaXJzdE5DLnkuYmFzZVZhbC52YWx1ZTtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkNZID0gc2Vjb25kTkMueS5iYXNlVmFsLnZhbHVlO1xuXG4gICAgICAgICAgICAgICAgLy8gb3JkZXIgbmMncyBieSB4IGNvb3JkIChsZWZ0IHRvIHJpZ2h0KVxuICAgICAgICAgICAgICAgIGlmICggKGZpcnN0TkNYID4gc2Vjb25kTkNYKSBcbiAgICAgICAgICAgICAgICAgIHx8IChmaXJzdE5DWCA9PT0gc2Vjb25kTkNYICYmIGZpcnN0TkNZIDwgc2Vjb25kTkNZKSkge1xuICAgICAgICAgICAgICAgICAgW2ZpcnN0TkMsIHNlY29uZE5DXSA9IFtzZWNvbmROQywgZmlyc3ROQ107XG4gICAgICAgICAgICAgICAgICBbZmlyc3ROQ1gsIGZpcnN0TkNZLCBzZWNvbmROQ1gsIHNlY29uZE5DWV0gPSBbc2Vjb25kTkNYLCBzZWNvbmROQ1ksIGZpcnN0TkNYLCBmaXJzdE5DWV07XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gaWYgc3RhY2tlZCBuYydzL2xpZ2F0dXJlIChpZGVudGljYWwgeCksIG9yIGRlc2NlbmRpbmcgbmMncyAoeSBkZXNjZW5kcylcbiAgICAgICAgICAgICAgICBpZiAoZmlyc3ROQ1ggPT09IHNlY29uZE5DWCB8fCBmaXJzdE5DWSA8IHNlY29uZE5DWSkge1xuICAgICAgICAgICAgICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpOyBcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCduYycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQoZ3JvdXBzKSkge1xuICAgICAgICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCduYycpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzd2l0Y2ggKGdyb3Vwcy5sZW5ndGgpIHtcbiAgICAgICAgY2FzZSAxOlxuICAgICAgICAgIHNlbGVjdEJCb3goZ3JvdXBzWzBdLCBkcmFnSGFuZGxlciwgbmVvblZpZXcpO1xuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgZ3JvdXBzLmZvckVhY2goZyA9PiBzZWxlY3RCQm94KGcsIGRyYWdIYW5kbGVyLCB1bmRlZmluZWQpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlLiBUaGlzIHNob3VsZCBub3QgaGF2ZSBvY2N1cnJlZC4nKTtcbiAgfVxuICBcbiAgLy8gZnVuY3Rpb24gY2hhbmdlU3RhZmZMaXN0ZW5lcigpOiB2b2lkIHtcbiAgLy8gdHJ5IHtcbiAgLy8gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZVN0YWZmJylcbiAgLy8gLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgU2VsZWN0T3B0aW9ucy5jaGFuZ2VTdGFmZkhhbmRsZXIpO1xuICAvLyB9IGNhdGNoIChlKSB7Y29uc29sZS5kZWJ1ZyhlKTt9XG4gIC8vIH1cbn1cbiIsImltcG9ydCB7IHJlY29yZE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vRXJyb3JMb2cnO1xuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi9yYW5kb20nO1xuXG50eXBlIE5vdGlmaWNhdGlvblR5cGUgPSAnZGVmYXVsdCcgfCAnZXJyb3InIHwgJ3dhcm5pbmcnIHwgJ3N1Y2Nlc3MnO1xuXG5jb25zdCBub3RpZmljYXRpb25zOiBOb3RpZmljYXRpb25bXSA9IG5ldyBBcnJheSgwKTtcbmxldCBjdXJyZW50TW9kZU1lc3NhZ2U6IE5vdGlmaWNhdGlvbiA9IG51bGw7XG5sZXQgbm90aWZ5aW5nID0gZmFsc2U7XG5cbi8qKlxuICogTnVtYmVyIG9mIG5vdGlmaWNhdGlvbnMgdG8gZGlzcGxheSBhdCBhIHRpbWUuXG4gKi9cbmNvbnN0IE5VTUJFUl9UT19ESVNQTEFZID0gMztcblxuY29uc3Qgbm90aWZpY2F0aW9uSWNvbjogUmVjb3JkPE5vdGlmaWNhdGlvblR5cGUsIHN0cmluZz4gPSB7XG4gIGRlZmF1bHQ6ICcnLFxuICB3YXJuaW5nOiAn4pqg77iPICcsXG4gIGVycm9yOiAn8J+UtCAnLFxuICBzdWNjZXNzOiAn4pyFICcsXG59O1xuXG4vKipcbiAqIEEgY2xhc3MgdG8gbWFuYWdlIE5lb24gbm90aWZpY2F0aW9ucy5cbiAqL1xuZXhwb3J0IGNsYXNzIE5vdGlmaWNhdGlvbiB7XG4gIG1lc3NhZ2U6IHN0cmluZztcbiAgZGlzcGxheWVkOiBib29sZWFuO1xuICBpZDogc3RyaW5nO1xuICBpc01vZGVNZXNzYWdlOiBib29sZWFuO1xuICB0aW1lb3V0SUQ6IG51bWJlcjtcbiAgdHlwZTogTm90aWZpY2F0aW9uVHlwZTtcbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBub3RpZmljYXRpb24uXG4gICAqIEBwYXJhbSBtZXNzYWdlIC0gTm90aWZpY2F0aW9uIGNvbnRlbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobWVzc2FnZTogc3RyaW5nLCB0eXBlOiBOb3RpZmljYXRpb25UeXBlKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbm90aWZpY2F0aW9uSWNvblt0eXBlXSArIG1lc3NhZ2U7XG4gICAgdGhpcy5kaXNwbGF5ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmlkID0gdXVpZHY0KCk7XG4gICAgdGhpcy5pc01vZGVNZXNzYWdlID0gbWVzc2FnZS5zZWFyY2goJ01vZGUnKSAhPT0gLTE7XG4gICAgdGhpcy50aW1lb3V0SUQgPSAtMTtcbiAgICB0aGlzLnR5cGUgPSB0eXBlO1xuICB9XG5cbiAgLyoqIFNldCB0aGUgSUQgZnJvbSBzZXRUaW1lb3V0LiAqL1xuICBzZXRUaW1lb3V0SWQgKGlkOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLnRpbWVvdXRJRCA9IE1hdGgubWF4KGlkLCAtMSk7XG4gIH1cblxuICAvKiogRGlzcGxheSB0aGUgTm90aWZpY2F0aW9uLiAqL1xuICBkaXNwbGF5ICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpc3BsYXllZCA9IHRydWU7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIFVVSUQgZm9yIHRoaXMgbm90aWZpY2F0aW9uLlxuICAgKi9cbiAgZ2V0SWQgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMuaWQ7XG4gIH1cbn1cblxuLyoqXG4gKiBDbGVhciB0aGUgbm90aWZpY2F0aW9ucyBpZiBubyBtb3JlIGV4aXN0IG9yIGRpc3BsYXkgYW5vdGhlciBmcm9tIHRoZSBxdWV1ZS5cbiAqIEBwYXJhbSBjdXJyZW50SWQgLSBUaGUgSUQgb2YgdGhlIG5vdGlmaWNhdGlvbiB0byBiZSBjbGVhcmVkLlxuICovXG5mdW5jdGlvbiBjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24gKGN1cnJlbnRJZDogc3RyaW5nKTogdm9pZCB7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGN1cnJlbnRJZCkucmVtb3ZlKCk7XG4gIGlmIChjdXJyZW50TW9kZU1lc3NhZ2UgIT09IG51bGwgJiYgY3VycmVudE1vZGVNZXNzYWdlLmdldElkKCkgPT09IGN1cnJlbnRJZCkge1xuICAgIGN1cnJlbnRNb2RlTWVzc2FnZSA9IG51bGw7XG4gIH1cbiAgaWYgKG5vdGlmaWNhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tdXNlLWJlZm9yZS1kZWZpbmVcbiAgICBzdGFydE5vdGlmaWNhdGlvbigpO1xuICB9IGVsc2UgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZW9uLW5vdGlmaWNhdGlvbicpLmxlbmd0aCA9PT0gMCkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgbm90aWZ5aW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLyoqXG4gKiBEaXNwbGF5IGEgbm90aWZpY2F0aW9uLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiB0byBkaXNwbGF5LlxuICovXG5mdW5jdGlvbiBkaXNwbGF5Tm90aWZpY2F0aW9uIChub3RpZmljYXRpb246IE5vdGlmaWNhdGlvbik6IHZvaWQge1xuICBpZiAobm90aWZpY2F0aW9uLmlzTW9kZU1lc3NhZ2UpIHtcbiAgICBpZiAoY3VycmVudE1vZGVNZXNzYWdlID09PSBudWxsKSB7XG4gICAgICBjdXJyZW50TW9kZU1lc3NhZ2UgPSBub3RpZmljYXRpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoY3VycmVudE1vZGVNZXNzYWdlLnRpbWVvdXRJRCk7XG4gICAgICBub3RpZmljYXRpb25zLnB1c2gobm90aWZpY2F0aW9uKTtcbiAgICAgIGNsZWFyT3JTaG93TmV4dE5vdGlmaWNhdGlvbihjdXJyZW50TW9kZU1lc3NhZ2UuZ2V0SWQoKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICB9XG4gIGNvbnN0IG5vdGlmaWNhdGlvbkNvbnRlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90aWZpY2F0aW9uLWNvbnRlbnQnKTtcbiAgY29uc3QgbmV3Tm90aWZpY2F0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIG5ld05vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKCduZW9uLW5vdGlmaWNhdGlvbicpO1xuICBuZXdOb3RpZmljYXRpb24uY2xhc3NMaXN0LmFkZChgbmVvbi1ub3RpZmljYXRpb24tJHtub3RpZmljYXRpb24udHlwZX1gKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmlkID0gbm90aWZpY2F0aW9uLmdldElkKCk7XG4gIG5ld05vdGlmaWNhdGlvbi5pbm5lckhUTUwgPSBub3RpZmljYXRpb24ubWVzc2FnZTtcbiAgbm90aWZpY2F0aW9uQ29udGVudC5hcHBlbmQobmV3Tm90aWZpY2F0aW9uKTtcbiAgbm90aWZpY2F0aW9uQ29udGVudC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gIG5vdGlmaWNhdGlvbi5kaXNwbGF5KCk7XG59XG5cbi8qKlxuICogU3RhcnQgZGlzcGxheWluZyBub3RpZmljYXRpb25zLiBDYWxsZWQgYXV0b21hdGljYWxseS5cbiAqL1xuZnVuY3Rpb24gc3RhcnROb3RpZmljYXRpb24gKCk6IHZvaWQge1xuICBpZiAobm90aWZpY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgbm90aWZ5aW5nID0gdHJ1ZTtcbiAgICBjb25zdCBjdXJyZW50Tm90aWZpY2F0aW9uID0gbm90aWZpY2F0aW9ucy5wb3AoKTtcbiAgICBkaXNwbGF5Tm90aWZpY2F0aW9uKGN1cnJlbnROb3RpZmljYXRpb24pO1xuICAgIGN1cnJlbnROb3RpZmljYXRpb24uc2V0VGltZW91dElkKFxuICAgICAgd2luZG93LnNldFRpbWVvdXQoY2xlYXJPclNob3dOZXh0Tm90aWZpY2F0aW9uLCA1MDAwLCBjdXJyZW50Tm90aWZpY2F0aW9uLmdldElkKCkpXG4gICAgKTtcbiAgICBkb2N1bWVudFxuICAgICAgLmdldEVsZW1lbnRCeUlkKGN1cnJlbnROb3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChjdXJyZW50Tm90aWZpY2F0aW9uLnRpbWVvdXRJRCk7XG4gICAgICAgIGNsZWFyT3JTaG93TmV4dE5vdGlmaWNhdGlvbihjdXJyZW50Tm90aWZpY2F0aW9uLmdldElkKCkpO1xuICAgICAgfSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBZGQgYSBub3RpZmljYXRpb24gdG8gdGhlIHF1ZXVlLlxuICogQHBhcmFtIG5vdGlmaWNhdGlvbiAtIE5vdGlmaWNhdGlvbiBjb250ZW50LlxuICovXG5leHBvcnQgZnVuY3Rpb24gcXVldWVOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbjogc3RyaW5nLCB0eXBlOiBOb3RpZmljYXRpb25UeXBlID0gJ2RlZmF1bHQnKTogdm9pZCB7XG4gIGNvbnN0IG5vdGlmID0gbmV3IE5vdGlmaWNhdGlvbihub3RpZmljYXRpb24sIHR5cGUpO1xuICBub3RpZmljYXRpb25zLnB1c2gobm90aWYpO1xuXG4gIGlmIChub3RpZi50eXBlID09ICdlcnJvcicgfHwgbm90aWYudHlwZSA9PSAnd2FybmluZycpIHtcbiAgICByZWNvcmROb3RpZmljYXRpb24obm90aWYpO1xuICB9XG5cbiAgaWYgKCFub3RpZnlpbmcgfHwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbi1jb250ZW50JykucXVlcnlTZWxlY3RvckFsbCgnLm5lb24tbm90aWZpY2F0aW9uJykubGVuZ3RoIDwgTlVNQkVSX1RPX0RJU1BMQVkpIHtcbiAgICBzdGFydE5vdGlmaWNhdGlvbigpO1xuICB9XG59XG5cbmV4cG9ydCBkZWZhdWx0IHsgcXVldWVOb3RpZmljYXRpb24gfTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSBhcmdzQXJyYXk7XG5cbmZ1bmN0aW9uIGFyZ3NBcnJheShmdW4pIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgbGVuID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICBpZiAobGVuKSB7XG4gICAgICB2YXIgYXJncyA9IFtdO1xuICAgICAgdmFyIGkgPSAtMTtcbiAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgYXJnc1tpXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW4uY2FsbCh0aGlzLCBhcmdzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZ1bi5jYWxsKHRoaXMsIFtdKTtcbiAgICB9XG4gIH07XG59IiwiaW1wb3J0IHsgR3JvdXBpbmdUeXBlLCBTZWxlY3Rpb25UeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKipcbiAqIFRoZSBvbmUgaW5zdGFuY2Ugb2YgTG9jYWxTZXR0aW5ncyB0aGF0IHdpbGwgYmUgY3JlYXRlZCBhbmRcbiAqIHVzZWQgYnkgdGhlIGVkaXRvci5cbiAqIFxuICogVXNlIHRoZSBmdW5jdGlvbnMgYGdldFNldHRpbmdzKClgIGFuZCBgc2V0U2V0dGluZ3MoKWBcbiAqIHRvIGFjY2VzcyB0aGlzIGluc3RhbmNlLlxuICovXG5sZXQgbG9jYWxTZXR0aW5nczogTG9jYWxTZXR0aW5ncyA9IG51bGw7XG5cbi8qKlxuICogSW50ZXJmYWNlIGZvciB0aGUgc2V0dGluZ3MgZm9yIGVhY2ggZm9saW9cbiAqIHN0b3JlZCBpbiBsb2NhbFN0b3JhZ2UuXG4gKlxuICogRXZlcnkga2V5IGlzIG9wdGlvbmFsIHNvIHRoYXQgdGhpcyBzYW1lIHR5cGluZ1xuICogY2FuIGJlIHVzZWQgZm9yIGBzZXRTZXR0aW5ncygpYCAvIGBMb2NhbFNldHRpbmdzLnNldCgpYC5cbiAqL1xuZXhwb3J0IGludGVyZmFjZSBTZXR0aW5ncyB7XG4gIHpvb206IG51bWJlcjtcbiAgZ2x5cGhPcGFjaXR5OiBudW1iZXI7XG4gIGltYWdlT3BhY2l0eTogbnVtYmVyO1xuICBoaWdobGlnaHRNb2RlOiBHcm91cGluZ1R5cGU7XG4gIHNlbGVjdGlvbk1vZGU6IFNlbGVjdGlvblR5cGU7XG4gIGRpc3BsYXlCQm94OiBib29sZWFuO1xuICBkaXNwbGF5VGV4dDogYm9vbGVhbjtcbiAgZGlzcGxheUluZm86IGJvb2xlYW47XG4gIGRpc3BsYXlFcnJMb2c6IGJvb2xlYW47XG4gIHZpZXdCb3g6IHN0cmluZztcbn1cblxuLyoqXG4gKiBEZWZhdWx0IHNldHRpbmdzLCB3aGljaCBzaG91bGQgYmUgc2V0IGZvciBhIGZvbGlvIHdpdGggbm9cbiAqIGxvY2FsU3RvcmFnZSB2YWx1ZS5cbiAqXG4gKiBUaGlzIHNob3VsZCBiZSB1cGRhdGVkIGFsb25nc2lkZSB0aGUgaW50ZXJmYWNlIGBTZXR0aW5nc2BcbiAqIGFueSB0aW1lIHdlIHdhbnQgdG8gYWRkIGEgbmV3IHNldHRpbmcgdG8gc3RvcmUgaW4gbG9jYWxTdG9yYWdlLlxuICovXG5jb25zdCBERUZBVUxUX1NFVFRJTkdTOiBTZXR0aW5ncyA9IHtcbiAgem9vbTogMTAwLFxuICBnbHlwaE9wYWNpdHk6IDEwMCxcbiAgaW1hZ2VPcGFjaXR5OiAxMDAsXG4gIGhpZ2hsaWdodE1vZGU6ICdub25lJyxcbiAgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5U3lsbGFibGUnLFxuICBkaXNwbGF5QkJveDogZmFsc2UsXG4gIGRpc3BsYXlUZXh0OiBmYWxzZSxcbiAgZGlzcGxheUluZm86IGZhbHNlLFxuICBkaXNwbGF5RXJyTG9nOiBmYWxzZSxcbiAgdmlld0JveDogbnVsbFxufTtcblxuY2xhc3MgTG9jYWxTZXR0aW5ncyB7XG4gIGlkOiBzdHJpbmc7XG4gIHNldHRpbmdzOiBTZXR0aW5ncztcblxuICBjb25zdHJ1Y3RvciAoZm9saW9JZDogc3RyaW5nKSB7XG4gICAgbG9jYWxTZXR0aW5ncyA9IHRoaXM7XG4gICAgdGhpcy5pZCA9IGZvbGlvSWQ7XG4gICAgdGhpcy5sb2FkKCk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZSwgYW5kIHN5bmMgbG9hZGVkIHNldHRpbmdzIHdpdGhcbiAgICogbmV3IGZpZWxkcyB0aGF0IG1heSBub3QgYmUgaW4gbG9jYWxTdG9yYWdlLlxuICAgKi9cbiAgbG9hZCAoKTogdm9pZCB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4gPSBKU09OLnBhcnNlKHdpbmRvdy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSh0aGlzLmlkKSk7XG4gICAgICB0aGlzLnN5bmMoc3RvcmVkKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgLy8gSWYgbG9jYWxTdG9yYWdlIHZhbHVlIGlzIG5vdCBhIEpTT04gb2JqZWN0IChmb3IgaW5zdGFuY2UsIGFuIGVtcHR5IHN0cmluZyksXG4gICAgICAvLyBhIFN5bnRheEVycm9yIHdpbGwgYmUgdGhyb3duLiBXZSBtdXN0IGhhbmRsZSBpdCBieSBjYWxsaW5nIHN5bmMoKVxuICAgICAgLy8gd2l0aCBhbiBlbXB0eSBKU09OIG9iamVjdC5cbiAgICAgIHRoaXMuc3luYyh7fSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBuZXcgZmllbGRzIGluIGxvY2FsU3RvcmFnZSwgYXMgYSBcInVuaW9uXCIgb2Ygb2xkIGFuZCBuZXcgc2V0dGluZ3MuXG4gICAqL1xuICBzZXQgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi50aGlzLnNldHRpbmdzLCAuLi5wYXJhbXMgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN5bmMgc2V0dGluZ3MgdGhhdCBtYXkgbm90IGJlIGluY2x1ZGVkIGluIHVzZXIncyBsb2NhbFN0b3JhZ2UsXG4gICAqIHN1Y2ggYXMgZmllbGRzIHRoYXQgaGF2ZSBiZWVuIGFkZGVkIHRvIGxvY2FsU3RvcmFnZSBpbiBhIG5ld1xuICAgKiB1cGRhdGUgb2YgTmVvbi5cbiAgICovXG4gIHN5bmMgKHN0b3JlZDogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgICB0aGlzLnNldHRpbmdzID0geyAuLi5ERUZBVUxUX1NFVFRJTkdTLCAuLi5zdG9yZWQgfTtcbiAgICB3aW5kb3cubG9jYWxTdG9yYWdlLnNldEl0ZW0odGhpcy5pZCwgSlNPTi5zdHJpbmdpZnkodGhpcy5zZXR0aW5ncykpO1xuICB9XG59XG5cbi8qKlxuICogR2V0IGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U2V0dGluZ3MgKCk6IFNldHRpbmdzIHtcbiAgcmV0dXJuIGxvY2FsU2V0dGluZ3Muc2V0dGluZ3M7XG59XG5cbi8qKlxuICogU2V0IHNwZWNpZmljIGxvY2FsU3RvcmFnZSBzZXR0aW5ncyBmb3IgdGhlIGZvbGlvLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2V0dGluZ3MgKHBhcmFtczogUGFydGlhbDxTZXR0aW5ncz4pOiB2b2lkIHtcbiAgbG9jYWxTZXR0aW5ncy5zZXQocGFyYW1zKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgTG9jYWxTZXR0aW5ncztcbiIsIi8qKlxuICogSFRNTCBmb3IgZWFjaCBpbnNlcnQgdGFiIChuZXVtZSwgZ3JvdXBpbmcsIGNsZWYsIHN5c3RlbSwgYW5kIGRpdmlzaW9uKS5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydFRhYkh0bWw6IFJlY29yZDxzdHJpbmcsIHN0cmluZz4gPSB7XG4gIHByaW1pdGl2ZVRhYjogXG4gICAgICAgIGA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInB1bmN0dW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHVuY3R1bVwiIHRpdGxlPVwicHVuY3R1bVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHVuY3R1bS5wbmdcIiBjbGFzcz1cImltYWdlXCIvPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwidmlyZ2FcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwidmlyZ2FcIiB0aXRsZT1cInZpcmdhXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy92aXJnYS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aXJnYVJldmVyc2VkXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIlJldmVyc2VkIFZpcmdhXCIgdGl0bGU9XCJSZXZlcnNlZCBWaXJnYVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvdmlyZ2FfcmV2ZXJzZWQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGlhbW9uZFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJpbmNsaW5hdHVtXCIgdGl0bGU9XCJpbmNsaW5hdHVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaWFtb25kLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImN1c3Rvc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjdXN0b3NcIiB0aXRsZT1cImN1c3Rvc1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY3VzdG9zLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImNDbGVmXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkMgQ2xlZlwiIHRpdGxlPVwiIEMgQ2xlZlwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvY0NsZWYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZkNsZWZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRiBDbGVmXCIgdGl0bGU9XCJGIENsZWZcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ZDbGVmLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImxpcXVlc2NlbnRBXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkxpcXVlc2NlbnQgQVwiIHRpdGxlPVwiTGlxdWVzY2VudCBBXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9saXF1ZXNjZW50QS5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJsaXF1ZXNjZW50Q1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJMaXF1ZXNjZW50IENcIiB0aXRsZT1cIkxpcXVlc2NlbnQgQ1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvbGlxdWVzY2VudEMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZmxhdFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJGbGF0XCIgdGl0bGU9XCJGbGF0XCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZEZsYXQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibmF0dXJhbFwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJOYXR1cmFsXCIgdGl0bGU9XCJOYXR1cmFsXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hY2NpZE5hdHVyYWwucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+IFxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImRpdkxpbmVNYXhpbWFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiRGl2TGluZSBNYXhpbWFcIiB0aXRsZT1cIkRpdkxpbmUgTWF4aW1hXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9kaXZpc2lvLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPmAsXG4gIGdyb3VwaW5nVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicGVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInBlc1wiIHRpdGxlPVwicGVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wZXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpdmlzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImNsaXZpc1wiIHRpdGxlPVwiY2xpdmlzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGl2aXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2NhbmRpY3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInNjYW5kaWN1c1wiIHRpdGxlPVwic2NhbmRpY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zY2FuZGljdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY2xpbWFjdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpbWFjdXNcIiB0aXRsZT1cImNsaW1hY3VzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jbGltYWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ0b3JjdWx1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJ0b2N1bHVzXCIgdGl0bGU9XCJ0b2N1bHVzXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy90b3JjdWx1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwb3JyZWN0dXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicG9ycmVjdHVzXCIgdGl0bGU9XCJwb3JyZWN0dXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3BvcnJlY3R1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwcmVzc3VzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInByZXNzdXNcIiB0aXRsZT1cInByZXNzdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ByZXNzdXMucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+YCxcbiAgc3lzdGVtVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic3RhZmZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIGxvbmdlbFwiIGFyaWEtbGFiZWw9XCJzeXN0ZW1cIiB0aXRsZT1cInN5c3RlbVwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc3RhZmYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwPkNsaWNrIHVwcGVyIGxlZnQgYW5kIGxvd2VyIHJpZ2h0IGNvcm5lcnMgb2YgbmV3IHN0YWZmLjwvcD5gXG4gIC8vIGRpdmlzaW9uVGFiOiBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICsgICAgXG4gIC8vIFwiPGJ1dHRvbiBpZD0nc21hbGxEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9zbWFsbGRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyAgICAgXCI8YnV0dG9uIGlkPSdtaW5vckRpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL21pbm9yZGl2LnBuZ1wiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCIgK1xuICAvLyAgICAgXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vIFwiPGJ1dHRvbiBpZD0nbWFqb3JEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9tYWpvcmRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vIFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgK1xuICAvLyBcIjxidXR0b24gaWQ9J2ZpbmFsRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvZmluYWxkaXYucG5nIFwiJyBjbGFzcz0naW1hZ2UnLz48L2J1dHRvbj48L3A+XCJcbn07XG5cbi8qKlxuICogU3RydWN0dXJlIG9mIGluc2VydCBwYW5lbCB3aXRoIGJhc2ljIGdyb3VwaW5nIHRhYnMuXG4gKi9cbmV4cG9ydCBjb25zdCBpbnNlcnRDb250cm9sc1BhbmVsID1cbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImluc2VydE1lbnVcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5JTlNFUlQ8L2Rpdj5cbiAgICAgICAgPHN2ZyBjbGFzcz1cImljb24gaXMtcHVsbGVkLXJpZ2h0XCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlSW5zZXJ0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuXHQ8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIj5cbiAgICAgICAgPGRpdiBpZD1cImluc2VydENvbnRlbnRzXCIgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3cteTogaGlkZGVuO1wiPlxuICAgICAgICAgICAgPHAgY2xhc3M9XCJwYW5lbC10YWJzXCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJwcmltaXRpdmVUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPlByaW1pdGl2ZSBFbGVtZW50czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cImdyb3VwaW5nVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5Hcm91cGluZzwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInN5c3RlbVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+U3lzdGVtPC9hPlxuICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgPGRpdiBpZD1cImluc2VydF9kYXRhXCI+PC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZWRpdCBwYW5lbCB3aXRoIGJ1dHRvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0Q29udHJvbHNQYW5lbCA9XG4gICAgYDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgaWQ9XCJlZGl0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZSBmb2N1c2VkXCI+RURJVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVFZGl0XCIgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJlZGl0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgPGRpdiBpZD1cInNlbGVjdGlvbi1tb2RlLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1zdWItdGl0bGVcIj5TZWxlY3Rpb24gTW9kZTo8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXJcIiAgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCIgc3R5bGU9XCJvdmVyZmxvdy14OiBhdXRvO1wiPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnkgaXMtYWN0aXZlXCIgaWQ9XCJzZWxCeVN5bGxhYmxlXCI+U3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TmV1bWVcIj5OZXVtZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOY1wiPk5ldW1lIENvbXBvbmVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlTdGFmZlwiPlN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeUxheWVyRWxlbWVudFwiPkxheWVyIEVsZW1lbnQ8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktc2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cIm1vcmVFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBoaWRkZW5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImV4dHJhRWRpdFwiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8IS0tXG4gICAgICAgICAgICAgICAgICAgICogVGhlIGV4dHJhRWRpdCBwYW5lbCBpcyBhZGRlZCBmb3IgZWRpdCBvcHRpb25zIHRoYXQgaGF2ZSBkcm9wZG93biBtZW51c1xuICAgICAgICAgICAgICAgICAgICAqIExpa2UgdGhlIE5ldW1lIGFuZCBDbGVmIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgICogVGhpcyBpcyBkb25lIGJlY2F1c2UgdGhlIG1vcmVFZGl0IG1lbnUgbmVlZHMgdG8gaGF2ZSBvdmVyZmxvdyBmb3IgY2FzZXMgd2hlcmUgaXQgaGFzIGxvdHMgb2YgYnV0dG9uc1xuICAgICAgICAgICAgICAgICAgICAqIEJ1dCBvdmVyZmxvdyBydWlucyBkcm9wZG93biBtZW51c1xuICAgICAgICAgICAgICAgICAgICAtLT5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibmV1bWVFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwidW5kb1JlZG9fY29udHJvbHNcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuXG4vKipcbiAqIENvbnRlbnRzIG9mIGV4dHJhIG5jIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgbmNBY3Rpb25Db250ZW50cyA9XG4gICAgYDxsYWJlbD5DaGFuZ2UgSGVhZCBTaGFwZTo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5IZWFkIFNoYXBlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQdW5jdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UHVuY3R1bTwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlZpcmdhXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+VmlyZ2E8L2E+IFxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVmlyZ2FSZXZlcnNlZFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPlJldmVyc2VkIFZpcmdhPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudENsb2Nrd2lzZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkxpcXVlc2NlbnQgQzwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkxpcXVlc2NlbnRBbnRpY2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBBPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiSW5jbGluYXR1bVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPkluY2xpbmF0dW08L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBiYXNpYyBuZXVtZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJzcGxpdC1uZXVtZVwiPlNwbGl0IE5ldW1lczwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmV1bWUgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuZXVtZUFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkdyb3VwaW5nIE9wdGlvbnM6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+R3JvdXBpbmdzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50IHNjcm9sbGFibGUtZHJvcGRvd25cIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBlc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBlczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBlc1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5QZXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaXZpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPkNsaXZpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlNjYW5kaWN1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c0ZsZXh1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlNjYW5kaWN1cyBGbGV4dXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJTY2FuZGljdXNTdWJwdW5jdGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzIFN1YnB1bmN0aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGltYWN1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPkNsaW1hY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpbWFjdXNSZXN1cGludXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5DbGltYWN1cyBSZXN1cGludXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJUb3JjdWx1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlRvcmN1bHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVG9yY3VsdXNSZXN1cGludXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Ub3JjdWx1cyBSZXN1cGludXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNGbGV4dXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5Qb3JyZWN0dXMgRmxleHVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUG9ycmVjdHVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1cyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUHJlc3N1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlByZXNzdXM8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ1bmdyb3VwTmNzXCI+VW5ncm91cDwvYnV0dG9uPmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgc3RhZmYgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBzdGFmZkFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPk1lcmdlIFN5c3RlbXM6PC9sYWJlbD5cbiAgICA8YnV0dG9uIGlkPVwibWVyZ2Utc3lzdGVtc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5NZXJnZTwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdEFjdGlvbkNvbnRlbnRzID0gXG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkZWZhdWx0IGFjdGlvbiBtZW51IHdoZW4gc2VsZWN0aW5nIGJ5IHN5bGxhYmxlXG4gKiBTYW1lIGFzIGFib3ZlIGV4Y2VwdCBpbmNsdWRlcyByZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5gO1xuICAgIFxuLyoqXG4gKiBDb250ZW50cyBvZiBjdXN0b3MgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjdXN0b3NBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAob3V0c2lkZSBzeWxsYWJsZSkgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBsYXllckVsZW1lbnRPdXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaW5zZXJ0VG9TeWxsYWJsZVwiPkluc2VydCB0byBuZWFyZXN0IHN5bGxhYmxlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgbGF5ZXIgZWxlbWVudCAoaW5zaWRlIHN5bGxhYmxlKSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1vdmVPdXRzaWRlU3lsbGFibGVcIj5Nb3ZlIG91dHNpZGUgc3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBhY2NpZCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGFjY2lkQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+Q2hhbmdlIEFjY2lkZW50YWw6PC9sYWJlbD5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICA8c3Bhbj5TaGFwZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9GbGF0XCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RmxhdDwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTmF0dXJhbFwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPk5hdHVyYWw8L2E+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBzcGxpdCBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHNwbGl0QWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2PlNwbGl0IFN5c3RlbTo8L2Rpdj5cbiAgICA8ZGl2IGlkPVwic3BsaXQtc3lzdGVtLWJ0bnMtY29udGFpbmVyXCIgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gaWQ9XCJzcGxpdC1zeXN0ZW1cIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCI+U3BsaXQ8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInJlc2V0LXJvdGF0ZVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5SZXNldCBSb3RhdGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGV4dHJhIGNsZWYgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBjbGVmQWN0aW9uQ29udGVudHMgPVxuICAgIGBcbiAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCIgb3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+RGlzcGxhY2UgT2N0YXZlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cImluY3JlbWVudC1vY3RhdmVcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj4rMSBPY3RhdmU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiZGVjcmVtZW50LW9jdGF2ZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPi0xIE9jdGF2ZTwvYT5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwiIG92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzZWxlY3Qtb3B0aW9uc1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBhcmlhLWhhc3BvcHVwPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJkcm9wZG93bi1tZW51XCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuPkNoYW5nZSBDbGVmIFNoYXBlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkNDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+QyBDbGVmPC9hPlxuICAgICAgICAgICAgICAgICAgICA8YSBpZD1cIkZDbGVmXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+RiBDbGVmPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIGA7XG5cbi8qKlxuICogSFRNTCBmb3IgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cGluZ01lbnUgPSB7XG4gIG5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBtb3JlLWVkaXQtYnRuXCIgaWQ9XCJncm91cE5jc1wiPkdyb3VwIE5ldW1lIENvbXBvbmVudHM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIG5ldW1lOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOZXVtZXNcIj5Hcm91cCBOZXVtZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIHN5bDogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblx0XHQ8L2Rpdj5gLFxuICBsaWdhdHVyZU5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PmAsXG4gIGxpZ2F0dXJlOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmAsXG4gIHNwbGl0U3lsbGFibGU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YFxufTtcblxuXG5cbi8qIEJHSU5OSU5HIE9GIE1PREFMIFdJTkRPVyBDT05URU5UIFNFQ1RJT04gKi9cblxuLyoqXG4gKiBIVE1MIGZvciBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0VGV4dE1vZGFsID0gXG4gICAgYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlXCI+U2F2ZTwvZGl2PiAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cblxuLyoqXG4gKiBIVE1MIGZvciBIb3RrZXlzIG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgaG90a2V5c01vZGFsID0gYFxuICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXNcIj5cbiAgICAgICAgPCEtLSBcIkRpc3BsYXlcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkRpc3BsYXk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+KzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIEluPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+LTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIE91dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gUmVzZXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+aDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5IaWRlIEdseXBoPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBcIkVkaXRcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkVkaXQ8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkN0cmw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+b3I8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPuKMmDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+VW5kbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+b3I8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPuKMmDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZWRvPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnEvdy9lL3IvdC95PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQgYnkgU3RhZmYvU3lsbGFibGUvTmV1bWUvTGF5ZXJFbGVtZW50L1NlbGVjdGlvbi9PZmZcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+MS8yLzMvNDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgU2VsZWN0IGJ5IFN5bGxhYmxlL05ldW1lL05ldW1lIENvbXBvbmVudC9TdGFmZlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPk51bWJlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgQmVnaW4gSW5zZXJ0IGZvciB0aGUgPGk+bnRoPC9pPiBvcHRpb24gaW4gdGhlIHNlbGVjdGVkIHRhYlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJPdGhlclwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+T3RoZXI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2F2ZSBGaWxlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkVzYzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZXR1cm4gdG8gRWRpdCBNb2RlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IHN5bGxhYmxlQWN0aW9uc0NvbnRlbnQgPSBgXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgZXJyb3JMb2dzUGFuZWxDb250ZW50cyA9IFxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZXJyb3JMb2dIZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RXJyb3IgTG9nPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRXJyb3JMb2dcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIGlkPVwiZXJyb3JMb2dDb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3c6IHZpc2libGU7IHBhZGRpbmc6IDAuNWVtIDAuNzVlbTtcIj48ZGl2PmA7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGQzOyIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJCb3gge1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgU1ZHIHJlbGF0aXZlIGNvb3JkaW5hdGVzIGdpdmVuIGNsaWVudFggYW5kIGNsaWVudFlcbiAqIFNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjkyNjEzMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNWR1JlbENvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBQb2ludCB7XG4gIGNvbnN0IHB0ID0gbmV3IERPTVBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcuYWN0aXZlLXBhZ2UgPiAuZGVmaW5pdGlvbi1zY2FsZScpO1xuICBjb25zdCBzeXN0ZW0gPSBzdmcucXVlcnlTZWxlY3RvcjxTVkdHRWxlbWVudD4oJy5zeXN0ZW0nKTtcblxuICBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShzeXN0ZW0uZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtcbiAgcmV0dXJuIHsgeCwgeSB9O1xuXG4gIC8vIElmIHRoZXJlIGlzIHNvbWUgaXNzdWUgd2l0aCBjb29yZGluYXRlcywgdGhpcyBtYXkgZml4IHRoZSBpc3N1ZTpcbiAgLy8gY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdTVkdFbGVtZW50PignI3N2Z19ncm91cCcpO1xuICAvLyBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShzdmcuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtcbn1cblxuLyoqXG4gKiBHZXQgSUQgb2Ygc3RhZmYgYnkgY2xpZW50J3MgeC15IGNvb3JkaW5hdGVzLlxuICogVGhpcyBmdW5jdGlvbiBjb25zaWRlcnMgdGhlICp2aXN1YWwqIGJvdW5kaW5nIGJveCBvZiB0aGUgc3RhZmZcbiAqIGJhc2VkIG9uIGl0cyBzdGFmZiBsaW5lcywgaW5zdGVhZCBvZiB0aGUgU1ZHIGVsZW1lbnQgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZJZEJ5Q29vcmRzIChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHRWxlbWVudD4oJy5zdGFmZicpKTtcbiAgY29uc3Qgc3RhZmZCQm94ZXMgPSBzdGF2ZXMubWFwKHN0YWZmID0+IGdldFN0YWZmQkJveChzdGFmZikpO1xuXG4gIC8vIGZpbmQgdGhlIHN0YWZmIHRoYXQgdGhlIGN1cnNvciBpcyBpbnNpZGVcbiAgY29uc3QgeyB4LCB5IH0gPSBnZXRTVkdSZWxDb29yZHMoY2xpZW50WCwgY2xpZW50WSk7XG4gIGNvbnN0IHN0YWZmID0gc3RhZmZCQm94ZXMuZmluZChcbiAgICAoYmJveCkgPT4geCA8PSBiYm94LmxyeCAmJiB4ID49IGJib3gudWx4ICYmIHkgPD0gYmJveC5scnkgJiYgeSA+PSBiYm94LnVseVxuICApOyBcblxuICAvLyBJZiB0aGVyZSBpcyBpc3N1ZXMgd2l0aCBmaW5kaW5nIHRoZSBzdGFmZiwgdGhpcyBtYXkgYmUgbW9yZSBhY2N1cmF0ZTpcbiAgLy8gcmV0dXJuIChwdC54ID4gdWx4ICYmIHB0LnggPCBscngpICYmXG4gIC8vICAgKHB0LnkgPiAodWx5ICsgKHB0LnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSkpICYmXG4gIC8vICAgKHB0LnkgPCAobHJ5IC0gKGxyeCAtIHB0LngpICogTWF0aC50YW4ocm90YXRlKSkpO1xuXG4gIC8vIGlmIHRoZSBjdXJzb3IgaXMgbm90IGluc2lkZSBhbnkgc3RhZmYsIHRoZW4gZXhwbGljaXRseSByZXR1cm4gbnVsbFxuICByZXR1cm4gc3RhZmYgPyBzdGFmZi5pZCA6IG51bGw7XG59XG5cbi8qKlxuICogR2V0IHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlczsgd3JhcHBlciBmb3IgZ2V0U3RhZmZJZEJ5Q29vcmRzLCBidXRcbiAqICAgcmV0dXJucyB0aGUgZWxlbWVudCwgbm90IHRoZSBJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBTVkdHRWxlbWVudCB8IG51bGwge1xuICBjb25zdCBzdGFmZklkID0gZ2V0U3RhZmZJZEJ5Q29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7c3RhZmZJZH1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3V0T2ZTVkdCb3VuZHMgKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IGJnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdJbWFnZUVsZW1lbnQ+KCcjYmdpbWcnKTtcbiAgXG4gIHJldHVybiAoXG4gICAgeCA8PSAwIHx8IHggPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSkgfHxcbiAgICB5IDw9IDAgfHwgeSA+PSBOdW1iZXIoYmdJbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgYm94IChscngsIGxyeSwgdWx4LCB1bHkpIG9mIGEgZ2x5cGgsIHdoaWNoXG4gKiBpcyBhIDx1c2U+IGVsZW1lbnQgaW4gdGhlIFNWR1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2x5cGhCQm94IChnOiBTVkdSZWN0RWxlbWVudCB8IFNWR1VzZUVsZW1lbnQpOiBCQm94IHtcbiAgY29uc3QgcmVjdCA9IChnLnRhZ05hbWUgPT0gJ3JlY3QnKSA/IGcuZ2V0QkJveCgpIDogKGcucGFyZW50Tm9kZSBhcyBTVkdHRWxlbWVudCkuZ2V0QkJveCgpO1xuXG4gIHJldHVybiB7XG4gICAgdWx4OiByZWN0LngsXG4gICAgdWx5OiByZWN0LnksXG4gICAgbHJ4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgIGxyeTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgfTtcbn1cblxuIiwidmFyIGc7XG5cbi8vIFRoaXMgd29ya3MgaW4gbm9uLXN0cmljdCBtb2RlXG5nID0gKGZ1bmN0aW9uKCkge1xuXHRyZXR1cm4gdGhpcztcbn0pKCk7XG5cbnRyeSB7XG5cdC8vIFRoaXMgd29ya3MgaWYgZXZhbCBpcyBhbGxvd2VkIChzZWUgQ1NQKVxuXHRnID0gZyB8fCBuZXcgRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpO1xufSBjYXRjaCAoZSkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIHRoZSB3aW5kb3cgcmVmZXJlbmNlIGlzIGF2YWlsYWJsZVxuXHRpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgZyA9IHdpbmRvdztcbn1cblxuLy8gZyBjYW4gc3RpbGwgYmUgdW5kZWZpbmVkLCBidXQgbm90aGluZyB0byBkbyBhYm91dCBpdC4uLlxuLy8gV2UgcmV0dXJuIHVuZGVmaW5lZCwgaW5zdGVhZCBvZiBub3RoaW5nIGhlcmUsIHNvIGl0J3Ncbi8vIGVhc2llciB0byBoYW5kbGUgdGhpcyBjYXNlLiBpZighZ2xvYmFsKSB7IC4uLn1cblxubW9kdWxlLmV4cG9ydHMgPSBnO1xuIiwiaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuL0dyb3VwaW5nJztcbmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdFN0YWZmSGFuZGxlciB9IGZyb20gJy4vU3RhZmZUb29scyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lSGFuZGxlciB9IGZyb20gJy4vTmV1bWVUb29scyc7XG5pbXBvcnQge1xuICBDaGFpbkFjdGlvbixcbiAgQ2hhbmdlU3RhZmZBY3Rpb24sXG4gIERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbixcbiAgRWRpdG9yQWN0aW9uLFxuICBSZW1vdmVBY3Rpb24sXG4gIFNldEFjdGlvbixcbiAgU2V0Q2xlZkFjdGlvblxufSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBjYWxsIGVkaXRvciBhY3Rpb25zLlxuICovXG5sZXQgbmVvblZpZXc6IE5lb25WaWV3O1xuXG4vKipcbiAqIEluaXRpYWxpemUgTmVvblZpZXcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcgKHZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIG5lb25WaWV3ID0gdmlldztcbiAgR3JvdXBpbmcuaW5pdE5lb25WaWV3KHZpZXcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBpbmNsaW5hdHVtIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0SW5jbGluYXR1bUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSB2aXJnYSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFZpcmdhQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIHJldmVyc2VkIHZpcmdhIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBsaXF1ZXNjZW50X2Nsb2Nrd2lzZSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ2N1cnZlJyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGxpcXVlc2NlbnRfYW50aWNsb2Nrd2lzZSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKiogRXZlbnQgaGFuZGxlciBmb3IgZGVsZXRlIGJ1dHRvbiBwcmVzcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVCdXR0b25IYW5kbGVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGV2dC5rZXkgPT09ICdkJyB8fCBldnQua2V5ID09PSAnQmFja3NwYWNlJykgeyByZW1vdmVIYW5kbGVyKCk7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9XG59XG5cbi8qKlxuICogRW5kIHRoZSBleHRyYSBvcHRpb25zIG1lbnUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRPcHRpb25zU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgY29uc3QgZXh0cmFFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpO1xuICBpZiAobW9yZUVkaXQpIHtcbiAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGlmIChleHRyYUVkaXQpIHtcbiAgICBleHRyYUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgZXh0cmFFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG59XG5cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmVtb3ZpbmcgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUhhbmRsZXIgKCk6IHZvaWQge1xuICBjb25zdCB0b1JlbW92ZTogUmVtb3ZlQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5hY2NpZCcpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLmRpdkxpbmUnKTtcbiAgICB9XG4gICAgdG9SZW1vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b1JlbW92ZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZS1hc3NvY2lhdGluZyBlbGVtZW50cyB0byB0aGUgbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU3RhZmZIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0NoYW5nZTogQ2hhbmdlU3RhZmZBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9DaGFuZ2UucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnY2hhbmdlU3RhZmYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b0NoYW5nZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbnNlcnRpbmcgZGl2aXNpbyBvciBhY2NpZGVudGFsIGludG8gbmVhcmVzdCBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvSW5zZXJ0OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9JbnNlcnQucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnaW5zZXJ0VG9TeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9JbnNlcnRcbiAgfTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdJbnNlcnQgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgbW92aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBvdXQgb2Ygc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b01vdmU6IEVkaXRvckFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b01vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnbW92ZU91dHNpZGVTeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9Nb3ZlXG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNb3ZlIEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHRoZSBleHRyYSBsYXllciBlbGVtZW50IGFjdGlvbiBtZW51IGZvciBhIHNlbGVjdGlvbi5cbiAqL1xuLy8gIGV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyAoKTogdm9pZCB7XG4vLyAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbi8vICAgdHJ5IHtcbi8vICAgICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuLy8gICAgIG1vcmVFZGl0LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWhpZGRlbicpO1xuLy8gICAgIG1vcmVFZGl0LmlubmVySFRNTCA9IENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cztcbi8vICAgfSBjYXRjaCAoZSkge31cblxuLy8gICB0cnkge1xuLy8gICAgIGNvbnN0IGRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGUnKTtcbi8vICAgICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbi8vICAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbi8vICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbi8vICAgfSBjYXRjaCAoZSkge31cbi8vIH1cblxuZnVuY3Rpb24gYWRkRGVsZXRlTGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IGRlbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkZWxldGUnKTtcblxuICBpZiAoZGVsKSB7XG4gICAgZGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4gICAgZGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG5cbiAgICAvLyBUT0RPOiBzaG91bGQgdGhpcyBiZSBvdXRzaWRlIHRoZSBpZiBjb25kaXRpb24/XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTogdm9pZCB7XG4gIGNvbnN0IHN0YWZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZVN0YWZmJyk7XG4gIHN0YWZmPy5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVN0YWZmSGFuZGxlcik7XG4gIHN0YWZmPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNoYW5nZVN0YWZmSGFuZGxlcik7XG59XG5cbi8qKlxuICogRnVuY3Rpb24gdG8gc2V0IHRoZSBIVE1MIGNvbnRlbnQgb2YgZWRpdCBjb250cm9sczogZWl0aGVyICNtb3JlRWRpdCBvciAjZXh0cmFFZGl0XG4gKlxuICogQHBhcmFtIHsnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCd9IGVkaXRUeXBlIC0gVGhlIHR5cGUgb2YgZWRpdCBjb250cm9sc1xuICogQHBhcmFtIHtzdHJpbmd9IGNvbnRlbnRzIC0gVGhlIGlubmVySFRNTCBjb250ZW50c1xuICogQHBhcmFtIHtib29sZWFufSByZXBsYWNlIC0gSXMgdGhlIGlubmVySFRNTCBiZWluZyByZXBsYWNlZCwgb3IgYmVpbmcgYWRkZWQgdG8/XG4gKi9cbmZ1bmN0aW9uIHNldEVkaXRDb250cm9scyhlZGl0VHlwZTogJ21vcmVFZGl0JyB8ICdleHRyYUVkaXQnLCBjb250ZW50czogc3RyaW5nLCByZXBsYWNlID0gdHJ1ZSk6IHZvaWQge1xuICBjb25zdCBlZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWRpdFR5cGUpO1xuICBcbiAgaWYgKGVkaXQpIHtcbiAgICBlZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gICAgaWYgKHJlcGxhY2UpIGVkaXQuaW5uZXJIVE1MID0gY29udGVudHM7XG4gICAgZWxzZSBlZGl0LmlubmVySFRNTCArPSBjb250ZW50cztcbiAgfVxufVxuXG4vKipcbiAqIFRyaWdnZXIgdGhlIGV4dHJhIG5jIGFjdGlvbiBtZW51IGZvciBhIHNlbGVjdGlvbi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJOY0FjdGlvbnMgKG5jOiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0QWN0aW9uQ29udGVudHMpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLm5jQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQdW5jdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjSW5jbGluYXR1bS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldEluY2xpbmF0dW06IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnc2UnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0SW5jbGluYXR1bSBdIH0gLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2EuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0VmlyZ2E6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAncydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRJbmNsaW5hdHVtLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldFZpcmdhIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1ZpcmdhUmV2ZXJzZWQuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRWaXJnYVJldmVyc2VkOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ3RpbHQnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ24nXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0VmlyZ2FSZXZlcnNlZCBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNMaXF1ZXNjZW50Q2xvY2t3aXNlLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0SW5jbGluYXR1bSA9IHVuc2V0SW5jbGluYXR1bUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhID0gdW5zZXRWaXJnYUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0TGlxdWVzY2VudENsb2Nrd2lzZTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnYydcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7ICBcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjTGlxdWVzY2VudEFudGljbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2U6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAnY3VydmUnLFxuICAgICAgICAgIGF0dHJWYWx1ZTogJ2EnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHsgYWN0aW9uOiAnY2hhaW4nLCBwYXJhbTogWyB1bnNldEluY2xpbmF0dW0sIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pOyAgXG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIG5ldW1lIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyTmV1bWVBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5kZWZhdWx0TmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmV1bWVBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgY29uc3QgbmV1bWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKTtcbiAgaWYgKG5ldW1lLmxlbmd0aCAhPT0gMSkge1xuICAgIGNvbnNvbGUud2FybignTW9yZSB0aGFuIG9uZSBuZXVtZSBzZWxlY3RlZCEgQ2Fubm90IHRyaWdnZXIgTmV1bWUgQ2xpY2tTZWxlY3QgYWN0aW9ucy4nKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvLyBUT0RPIGFkZCB0cmlnZ2VyIGZvciBzcGxpdCBhY3Rpb25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NwbGl0LW5ldW1lJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBuZXVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5uZXVtZS5zZWxlY3RlZCcpIGFzIFNWR0dFbGVtZW50O1xuICAgICAgaWYgKG5ldW1lICE9PSBudWxsKSB7XG4gICAgICAgIGNvbnN0IHNwbGl0ID0gbmV3IFNwbGl0TmV1bWVIYW5kbGVyKG5lb25WaWV3LCBuZXVtZSk7XG4gICAgICAgIHNwbGl0LnN0YXJ0U3BsaXQoKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcignTm8gc3RhZmYgd2FzIHNlbGVjdGVkIScpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1Blc1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGl2aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNTY2FuZGljdXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2xpbWFjdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGltYWN1c1Jlc3VwaW51cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1RvcmN1bHVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVG9yY3VsdXNSZXN1cGludXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNGbGV4dXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQb3JyZWN0dXNTdWJwdW5jdGlzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUHJlc3N1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcblxuICBmdW5jdGlvbiB0cmlnZ2VyQ2hhbmdlR3JvdXAgKGNvbnRvdXI6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGNoYW5nZUdyb3VwaW5nQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFuZ2VHcm91cCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IG5ldW1lWzBdLmlkLFxuICAgICAgICBjb250b3VyOiBjb250b3VyXG4gICAgICB9XG4gICAgfTtcbiAgICBuZW9uVmlldy5lZGl0KGNoYW5nZUdyb3VwaW5nQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgfSk7XG4gIH1cblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgc3lsbGFibGUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJTeWxsYWJsZUFjdGlvbnMgKHNlbGVjdGlvblR5cGU6IHN0cmluZyk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnN5bGxhYmxlQWN0aW9uc0NvbnRlbnQpO1xuICAvLyBpbml0aWFsaXplIHZhcmlhYmxlIHRoYXQgd2lsbCBob2xkIGh0bWwgdG8gYmUgYWRkZWQgdG8gRGlzcGxheSBwYW5lbFxuICBsZXQgZXh0cmFBY3Rpb25zSFRNTCA9ICcnO1xuXG4gIC8vIGRldGVybWluZSB0aGUgdHlwZSBvZiBzZWxlY3Rpb24gdGhhdCB3YXMgbWFkZSBieSB0aGUgdXNlclxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIC8vIG9ubHkgb25lIHN5bGxhYmxlXG4gICAgY2FzZSAnc2luZ2xlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidW5ncm91cE5ldW1lc1wiPlVuZ3JvdXA8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgICAvLyB0d28gc3lsbGFibGVzIG9uIHNlcGFyYXRlIHN0YXZlc1xuICAgIGNhc2UgJ2xpbmthYmxlU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vIHRvdyBvciBtb3JlIHN5bGxhYmxlcyBvbiBvbmUgc3RhZmZcbiAgICBjYXNlICdtdWx0aVNlbGVjdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vZGVmYXVsdCBvcHRpb25zXG4gICAgY2FzZSAnZGVmYXVsdCc6XG4gICAgICBleHRyYUFjdGlvbnNIVE1MICs9IFxuICAgICAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5gO1xuICAgICAgYnJlYWs7XG5cbiAgfVxuXG4gIC8vIHNldCBjb250ZW50IG9mIGFkZGl0aW9uYWwgYWN0aW9ucyBpbiBEaXNwbGF5IHBhbmVsIFxuICAvLyBhbmQgaW5pdGlhbGl6ZSBuZWNlc3NhcnkgbGlzdGVuZXJzXG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBleHRyYUFjdGlvbnNIVE1MLCB0cnVlKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIGNsZWYgYWN0aW9ucyBmb3IgYSBzcGVjaWZpYyBjbGVmLlxuICogQHBhcmFtIGNsZWYgLSBUaGUgY2xlZiBvbiB3aGljaCB0byB0cmlnZ2VyIGFkZGl0aW9uYWwgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJDbGVmQWN0aW9ucyAoY2xlZjogU1ZHR3JhcGhpY3NFbGVtZW50KTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBjb25zdCBpc0NsZWZJblN5bGxhYmxlID0gY2xlZi5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKTtcbiAgY29uc3QgbW9yZUVkaXRDb250ZW50cyA9IChpc0NsZWZJblN5bGxhYmxlKVxuICAgID8gQ29udGVudHMubGF5ZXJFbGVtZW50SW5BY3Rpb25Db250ZW50c1xuICAgIDogQ29udGVudHMubGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHM7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBtb3JlRWRpdENvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5jbGVmQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbmNyZW1lbnQtb2N0YXZlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRPY3RhdmU6IERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZGlzcGxhY2VDbGVmT2N0YXZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGNsZWYuaWQsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYWJvdmUnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoaW5jcmVtZW50T2N0YXZlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGVmIG9jdGF2ZSBpbmNyZW1lbnRlZC4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWF4aW11bSBvY3RhdmUgZGlzcGxhY2VtZW50IHJlYWNoZWQuIENsZWYgY2FuIG9ubHkgYmUgZGlzcGxhY2VkIHVwIHRvIDMgb2N0YXZlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZGVjcmVtZW50LW9jdGF2ZScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgaW5jcmVtZW50T2N0YXZlOiBEaXNwbGFjZUNsZWZPY3RhdmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ2Rpc3BsYWNlQ2xlZk9jdGF2ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBjbGVmLmlkLFxuICAgICAgICAgIGRpcmVjdGlvbjogJ2JlbG93J1xuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBuZW9uVmlldy5lZGl0KGluY3JlbWVudE9jdGF2ZSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xlZiBvY3RhdmUgZGVjcmVtZW50ZWQuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01heGltdW0gb2N0YXZlIGRpc3BsYWNlbWVudCByZWFjaGVkLiBDbGVmIGNhbiBvbmx5IGJlIGRpc3BsYWNlZCB1cCB0byAzIG9jdGF2ZXMuJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NDbGVmLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldENDbGVmOiBTZXRDbGVmQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRDbGVmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGNsZWYuaWQsXG4gICAgICAgICAgc2hhcGU6ICdDJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChzZXRDQ2xlZiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNGQ2xlZi5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzZXRGQ2xlZjogU2V0Q2xlZkFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0Q2xlZicsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBjbGVmLmlkLFxuICAgICAgICAgIHNoYXBlOiAnRidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoc2V0RkNsZWYsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBjdXN0b3MgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJDdXN0b3NBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuY3VzdG9zQWN0aW9uQ29udGVudHMpO1xuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBhY2NpZCBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckFjY2lkQWN0aW9ucyAoYWNjaWQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgY29uc3QgaXNTeWxsYWJsZUluQWNjaWQgPSBhY2NpZC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKTtcbiAgY29uc3QgbW9yZUVkaXRDb250ZW50cyA9IChpc1N5bGxhYmxlSW5BY2NpZClcbiAgICA/IENvbnRlbnRzLmxheWVyRWxlbWVudEluQWN0aW9uQ29udGVudHNcbiAgICA6IENvbnRlbnRzLmxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgbW9yZUVkaXRDb250ZW50cywgZmFsc2UpO1xuICBzZXRFZGl0Q29udHJvbHMoJ2V4dHJhRWRpdCcsIENvbnRlbnRzLmFjY2lkQWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDaGFuZ2VUb0ZsYXQuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgY2hhbmdlVG9GbGF0OiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBhY2NpZC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2FjY2lkJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdmJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChjaGFuZ2VUb0ZsYXQsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9OYXR1cmFsLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoYW5nZVRvTmF0dXJhbDogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogYWNjaWQuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdhY2NpZCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoY2hhbmdlVG9OYXR1cmFsLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgbGF5ZXIgZWxlbWVudCAoYWNjaWQsIGRpdkxpbmUsIGN1c3RvcykgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuXG4gIGNvbnN0IHBhcmVudElzU3lsbGFibGUgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpO1xuICBjb25zdCBsYXllckVsZW1lbnRBY3Rpb25zID0gcGFyZW50SXNTeWxsYWJsZVxuICAgID8gQ29udGVudHMubGF5ZXJFbGVtZW50SW5BY3Rpb25Db250ZW50c1xuICAgIDogQ29udGVudHMubGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHM7XG4gIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBsYXllckVsZW1lbnRBY3Rpb25zLCBmYWxzZSk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0VG9TeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVPdXRzaWRlU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcik7XG59XG5cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIHN0YWZmIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3RhZmZBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3RhZmZBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlLXN5c3RlbXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBHcm91cGluZy5tZXJnZVN0YXZlcygpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnRlciBzdGFmZiBzcGxpdHRpbmcgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN0YWZmU3BsaXRNb2RlICgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3BsaXQgPSBuZXcgU3BsaXRTdGFmZkhhbmRsZXIobmVvblZpZXcsIHN0YWZmKTtcbiAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHNwbGl0IHN0YWZmIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclNwbGl0QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnNwbGl0QWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIFRPRE8gYWRkIHRyaWdnZXIgZm9yIHNwbGl0IGFjdGlvblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BsaXQtc3lzdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0cmlnZ2VyU3RhZmZTcGxpdE1vZGUoKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtcm90YXRlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFmZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGFmZi5zZWxlY3RlZCcpIGFzIFNWR0VsZW1lbnQ7XG4gICAgICAvLyBVbnVzZWQgdmFyaWFibGVzOlxuICAgICAgLy8gY29uc3QgcmVjdCA9IHN0YWZmLnF1ZXJ5U2VsZWN0b3IoJyNyZXNpemVSZWN0Jyk7XG4gICAgICAvLyBjb25zdCBjbyA9IHJlY3QuZ2V0QXR0cmlidXRlKCdwb2ludHMnKS5zcGxpdCgnICcpO1xuICAgICAgLy8gY29uc3QgZHkgPSBwYXJzZUludChjb1swXS5zcGxpdCgnLCcpWzFdKSAtIHBhcnNlSW50KGNvWzFdLnNwbGl0KCcsJylbMV0pO1xuICAgICAgY29uc3QgcG9pbnRzID0gZ2V0U3RhZmZCQm94KHN0YWZmIGFzIFNWR0dFbGVtZW50KTtcbiAgICAgIGNvbnN0IHlfY2hhbmdlID0gTWF0aC50YW4ocG9pbnRzLnJvdGF0ZSkqKHBvaW50cy5scnggLSBwb2ludHMudWx4KTtcbiAgICAgIGlmIChzdGFmZiAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246ICdyZXNpemVSb3RhdGUnLFxuICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICBlbGVtZW50SWQ6IHN0YWZmLmlkLFxuICAgICAgICAgICAgdWx4OiBwb2ludHMudWx4LFxuICAgICAgICAgICAgdWx5OiBwb2ludHMucm90YXRlID4gMCA/IHBvaW50cy51bHkgKyB5X2NoYW5nZS8yIDogcG9pbnRzLnVseSAtIHlfY2hhbmdlLzIsXG4gICAgICAgICAgICBscng6IHBvaW50cy5scngsXG4gICAgICAgICAgICBscnk6IHBvaW50cy5yb3RhdGUgPiAwID8gcG9pbnRzLmxyeSAtIHlfY2hhbmdlLzIgOiBwb2ludHMubHJ5ICsgeV9jaGFuZ2UvMixcbiAgICAgICAgICAgIHJvdGF0ZTogMFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQnKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBhY3Rpb25zIHdoZW4gc2VsZWN0aW5nIGJ5IHN5bFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBzZWxlY3Rpb24gb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGV4dHJhIGRyb3Bkb3duIG9wdGlvbnM6XG4gKiBMaXN0ZW4gdG8gY2xpY2tzIG9uIGRyb3Bkb3duc1xuICovXG5mdW5jdGlvbiBpbml0T3B0aW9uc0xpc3RlbmVycyAoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpXG4gICAgLmZvckVhY2goXG4gICAgICBkcm9wID0+IHtcbiAgICAgICAgLy8gV2hlbiBhbnl0aGluZyB0aGF0IGlzIG5vdCB0aGUgZHJvcGRvd24gaXMgY2xpY2tlZCBhd2F5LCB0aGUgZHJvcGRvd25cbiAgICAgICAgLy8gc2hvdWxkIGxvc2UgaXRzIHZpc2liaWxpdHlcbiAgICAgICAgY29uc3Qgb3B0aW9uc0NsaWNrYXdheSA9ICgpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IG9mIGRyb3Bkb3duXG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB2aXNpYmlsaXR5IG9mIG90aGVyIGRyb3Bkb3ducyB3aGVuIHRoaXMgb25lIGlzIGNsaWNrZWRcbiAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpKVxuICAgICAgICAgICAgLmZpbHRlcihvdGhlciA9PiBvdGhlciAhPT0gZHJvcClcbiAgICAgICAgICAgIC5mb3JFYWNoKG90aGVyID0+IG90aGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpKTtcblxuICAgICAgICAgIC8vIERvbid0IGFsbG93IG90aGVyIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgYm9keSB0byBpbnRlcmZlcmUgd2l0aCB0aGlzIGxpc3RlbmVyXG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgaWYgKGRyb3AuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59XG4iLCIoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1EXG4gICAgICAgIGRlZmluZShmYWN0b3J5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHdpdGggc3VwcG9ydCBmb3Igd2ViIHdvcmtlcnMpXG4gICAgICAgIHZhciBnbG9iO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBnbG9iID0gd2luZG93O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnbG9iID0gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsb2IuU3BhcmtNRDUgPSBmYWN0b3J5KCk7XG4gICAgfVxufShmdW5jdGlvbiAodW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKlxuICAgICAqIEZhc3Rlc3QgbWQ1IGltcGxlbWVudGF0aW9uIGFyb3VuZCAoSktNIG1kNSkuXG4gICAgICogQ3JlZGl0czogSm9zZXBoIE15ZXJzXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LXRleHQuaHRtbFxuICAgICAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vbWQ1LXNob290b3V0LzdcbiAgICAgKi9cblxuICAgIC8qIHRoaXMgZnVuY3Rpb24gaXMgbXVjaCBmYXN0ZXIsXG4gICAgICBzbyBpZiBwb3NzaWJsZSB3ZSB1c2UgaXQuIFNvbWUgSUVzXG4gICAgICBhcmUgdGhlIG9ubHkgb25lcyBJIGtub3cgb2YgdGhhdFxuICAgICAgbmVlZCB0aGUgaWRpb3RpYyBzZWNvbmQgZnVuY3Rpb24sXG4gICAgICBnZW5lcmF0ZWQgYnkgYW4gaWYgY2xhdXNlLiAgKi9cbiAgICB2YXIgYWRkMzIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEgKyBiKSAmIDB4RkZGRkZGRkY7XG4gICAgfSxcbiAgICAgICAgaGV4X2NociA9IFsnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICdhJywgJ2InLCAnYycsICdkJywgJ2UnLCAnZiddO1xuXG5cbiAgICBmdW5jdGlvbiBjbW4ocSwgYSwgYiwgeCwgcywgdCkge1xuICAgICAgICBhID0gYWRkMzIoYWRkMzIoYSwgcSksIGFkZDMyKHgsIHQpKTtcbiAgICAgICAgcmV0dXJuIGFkZDMyKChhIDw8IHMpIHwgKGEgPj4+ICgzMiAtIHMpKSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1Y3ljbGUoeCwgaykge1xuICAgICAgICB2YXIgYSA9IHhbMF0sXG4gICAgICAgICAgICBiID0geFsxXSxcbiAgICAgICAgICAgIGMgPSB4WzJdLFxuICAgICAgICAgICAgZCA9IHhbM107XG5cbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1swXSAtIDY4MDg3NjkzNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzFdIC0gMzg5NTY0NTg2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzJdICsgNjA2MTA1ODE5IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzNdIC0gMTA0NDUyNTMzMCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s0XSAtIDE3NjQxODg5NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzVdICsgMTIwMDA4MDQyNiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1s2XSAtIDE0NzMyMzEzNDEgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbN10gLSA0NTcwNTk4MyB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s4XSArIDE3NzAwMzU0MTYgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1s5XSAtIDE5NTg0MTQ0MTcgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTBdIC0gNDIwNjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTFdIC0gMTk5MDQwNDE2MiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1sxMl0gKyAxODA0NjAzNjgyIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMTNdIC0gNDAzNDExMDEgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTRdIC0gMTUwMjAwMjI5MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxNV0gKyAxMjM2NTM1MzI5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbMV0gLSAxNjU3OTY1MTAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1s2XSAtIDEwNjk1MDE2MzIgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxMV0gKyA2NDM3MTc3MTMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbMF0gLSAzNzM4OTczMDIgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbNV0gLSA3MDE1NTg2OTEgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxMF0gKyAzODAxNjA4MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzE1XSAtIDY2MDQ3ODMzNSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s0XSAtIDQwNTUzNzg0OCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s5XSArIDU2ODQ0NjQzOCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzE0XSAtIDEwMTk4MDM2OTAgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1szXSAtIDE4NzM2Mzk2MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s4XSArIDExNjM1MzE1MDEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbMTNdIC0gMTQ0NDY4MTQ2NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzJdIC0gNTE0MDM3ODQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1s3XSArIDE3MzUzMjg0NzMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbMTJdIC0gMTkyNjYwNzczNCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s1XSAtIDM3ODU1OCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1s4XSAtIDIwMjI1NzQ0NjMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzExXSArIDE4MzkwMzA1NjIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzE0XSAtIDM1MzA5NTU2IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzFdIC0gMTUzMDk5MjA2MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1s0XSArIDEyNzI4OTMzNTMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzddIC0gMTU1NDk3NjMyIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1sxMF0gLSAxMDk0NzMwNjQwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzEzXSArIDY4MTI3OTE3NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1swXSAtIDM1ODUzNzIyMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbM10gLSA3MjI1MjE5NzkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzZdICsgNzYwMjkxODkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbOV0gLSA2NDAzNjQ0ODcgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbMTJdIC0gNDIxODE1ODM1IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxNV0gKyA1MzA3NDI1MjAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzJdIC0gOTk1MzM4NjUxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMF0gLSAxOTg2MzA4NDQgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbN10gKyAxMTI2ODkxNDE1IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxNF0gLSAxNDE2MzU0OTA1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1s1XSAtIDU3NDM0MDU1IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8YiA+Pj4gMTEpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzEyXSArIDE3MDA0ODU1NzEgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbM10gLSAxODk0OTg2NjA2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxMF0gLSAxMDUxNTIzIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1sxXSAtIDIwNTQ5MjI3OTkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbOF0gKyAxODczMzEzMzU5IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzE1XSAtIDMwNjExNzQ0IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1s2XSAtIDE1NjAxOTgzODAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzEzXSArIDEzMDkxNTE2NDkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbNF0gLSAxNDU1MjMwNzAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTFdIC0gMTEyMDIxMDM3OSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMl0gKyA3MTg3ODcyNTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzldIC0gMzQzNDg1NTUxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuXG4gICAgICAgIHhbMF0gPSBhICsgeFswXSB8IDA7XG4gICAgICAgIHhbMV0gPSBiICsgeFsxXSB8IDA7XG4gICAgICAgIHhbMl0gPSBjICsgeFsyXSB8IDA7XG4gICAgICAgIHhbM10gPSBkICsgeFszXSB8IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1YmxrKHMpIHtcbiAgICAgICAgdmFyIG1kNWJsa3MgPSBbXSxcbiAgICAgICAgICAgIGk7IC8qIEFuZHkgS2luZyBzYWlkIGRvIGl0IHRoaXMgd2F5LiAqL1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSArPSA0KSB7XG4gICAgICAgICAgICBtZDVibGtzW2kgPj4gMl0gPSBzLmNoYXJDb2RlQXQoaSkgKyAocy5jaGFyQ29kZUF0KGkgKyAxKSA8PCA4KSArIChzLmNoYXJDb2RlQXQoaSArIDIpIDw8IDE2KSArIChzLmNoYXJDb2RlQXQoaSArIDMpIDw8IDI0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWQ1YmxrcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGtfYXJyYXkoYSkge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IGFbaV0gKyAoYVtpICsgMV0gPDwgOCkgKyAoYVtpICsgMl0gPDwgMTYpICsgKGFbaSArIDNdIDw8IDI0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWQ1YmxrcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDUxKHMpIHtcbiAgICAgICAgdmFyIG4gPSBzLmxlbmd0aCxcbiAgICAgICAgICAgIHN0YXRlID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgIHRhaWwsXG4gICAgICAgICAgICB0bXAsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICAgIGhpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IG47IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCBtZDVibGsocy5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIHMgPSBzLnN1YnN0cmluZyhpIC0gNjQpO1xuICAgICAgICBsZW5ndGggPSBzLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gcy5jaGFyQ29kZUF0KGkpIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTFfYXJyYXkoYSkge1xuICAgICAgICB2YXIgbiA9IGEubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsa19hcnJheShhLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdCBzdXJlIGlmIGl0IGlzIGEgYnVnLCBob3dldmVyIElFMTAgd2lsbCBhbHdheXMgcHJvZHVjZSBhIHN1YiBhcnJheSBvZiBsZW5ndGggMVxuICAgICAgICAvLyBjb250YWluaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIHBhcmVudCBhcnJheSBpZiB0aGUgc3ViIGFycmF5IHNwZWNpZmllZCBzdGFydHNcbiAgICAgICAgLy8gYmV5b25kIHRoZSBsZW5ndGggb2YgdGhlIHBhcmVudCBhcnJheSAtIHdlaXJkLlxuICAgICAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzc3MTQ1Mi90eXBlZC1hcnJheS1zdWJhcnJheS1pc3N1ZVxuICAgICAgICBhID0gKGkgLSA2NCkgPCBuID8gYS5zdWJhcnJheShpIC0gNjQpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IGFbaV0gPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWlnaHQgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IG4gKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcblxuICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJoZXgobikge1xuICAgICAgICB2YXIgcyA9ICcnLFxuICAgICAgICAgICAgajtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IDQ7IGogKz0gMSkge1xuICAgICAgICAgICAgcyArPSBoZXhfY2hyWyhuID4+IChqICogOCArIDQpKSAmIDB4MEZdICsgaGV4X2NoclsobiA+PiAoaiAqIDgpKSAmIDB4MEZdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhleCh4KSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgeFtpXSA9IHJoZXgoeFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHguam9pbignJyk7XG4gICAgfVxuXG4gICAgLy8gSW4gc29tZSBjYXNlcyB0aGUgZmFzdCBhZGQzMiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZC4uXG4gICAgaWYgKGhleChtZDUxKCdoZWxsbycpKSAhPT0gJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJykge1xuICAgICAgICBhZGQzMiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpLFxuICAgICAgICAgICAgICAgIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICAgICAgICAgICAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4RkZGRik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBBcnJheUJ1ZmZlciBzbGljZSBwb2x5ZmlsbC5cbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3R0YXViZXJ0L25vZGUtYXJyYXlidWZmZXItc2xpY2VcbiAgICAgKi9cblxuICAgIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmICFBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpIHtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsYW1wKHZhbCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gKHZhbCB8IDApIHx8IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodmFsICsgbGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odmFsLCBsZW5ndGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBiZWdpbiA9IGNsYW1wKGZyb20sIGxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgbnVtLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VBcnJheTtcblxuICAgICAgICAgICAgICAgIGlmICh0byAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGNsYW1wKHRvLCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChiZWdpbiA+IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG51bSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihudW0pO1xuICAgICAgICAgICAgICAgIHRhcmdldEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcywgYmVnaW4sIG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogSGVscGVycy5cbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIHRvVXRmOChzdHIpIHtcbiAgICAgICAgaWYgKC9bXFx1MDA4MC1cXHVGRkZGXS8udGVzdChzdHIpKSB7XG4gICAgICAgICAgICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHV0ZjhTdHIyQXJyYXlCdWZmZXIoc3RyLCByZXR1cm5VSW50OEFycmF5KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBzdHIubGVuZ3RoLFxuICAgICAgICAgICBidWZmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCksXG4gICAgICAgICAgIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpLFxuICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgYXJyW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0dXJuVUludDhBcnJheSA/IGFyciA6IGJ1ZmY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlCdWZmZXIyVXRmOFN0cihidWZmKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmYpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyhmaXJzdCwgc2Vjb25kLCByZXR1cm5VSW50OEFycmF5KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShmaXJzdC5ieXRlTGVuZ3RoICsgc2Vjb25kLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJlc3VsdC5zZXQobmV3IFVpbnQ4QXJyYXkoZmlyc3QpKTtcbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShzZWNvbmQpLCBmaXJzdC5ieXRlTGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4gcmV0dXJuVUludDhBcnJheSA/IHJlc3VsdCA6IHJlc3VsdC5idWZmZXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4VG9CaW5hcnlTdHJpbmcoaGV4KSB7XG4gICAgICAgIHZhciBieXRlcyA9IFtdLFxuICAgICAgICAgICAgbGVuZ3RoID0gaGV4Lmxlbmd0aCxcbiAgICAgICAgICAgIHg7XG5cbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IGxlbmd0aCAtIDE7IHggKz0gMikge1xuICAgICAgICAgICAgYnl0ZXMucHVzaChwYXJzZUludChoZXguc3Vic3RyKHgsIDIpLCAxNikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBieXRlcyk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBTcGFya01ENSBPT1AgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBjbGFzcyB0byBwZXJmb3JtIGFuIGluY3JlbWVudGFsIG1kNSwgb3RoZXJ3aXNlIHVzZSB0aGVcbiAgICAgKiBzdGF0aWMgbWV0aG9kcyBpbnN0ZWFkLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gU3BhcmtNRDUoKSB7XG4gICAgICAgIC8vIGNhbGwgcmVzZXQgdG8gaW5pdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBzdHJpbmcuXG4gICAgICogQSBjb252ZXJzaW9uIHdpbGwgYmUgYXBwbGllZCBpZiBhbiB1dGY4IHN0cmluZyBpcyBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAvLyBDb252ZXJ0cyB0aGUgc3RyaW5nIHRvIHV0ZjggYnl0ZXMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIC8vIFRoZW4gYXBwZW5kIGFzIGJpbmFyeVxuICAgICAgICB0aGlzLmFwcGVuZEJpbmFyeSh0b1V0Zjgoc3RyKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBiaW5hcnkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIFRoZSBiaW5hcnkgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmRCaW5hcnkgPSBmdW5jdGlvbiAoY29udGVudHMpIHtcbiAgICAgICAgdGhpcy5fYnVmZiArPSBjb250ZW50cztcbiAgICAgICAgdGhpcy5fbGVuZ3RoICs9IGNvbnRlbnRzLmxlbmd0aDtcblxuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5fYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IGxlbmd0aDsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgbWQ1YmxrKHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSB0aGlzLl9idWZmLnN1YnN0cmluZyhpIC0gNjQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyB0aGUgaW5jcmVtZW50YWwgY29tcHV0YXRpb24sIHJlc2V0aW5nIHRoZSBpbnRlcm5hbCBzdGF0ZSBhbmRcbiAgICAgKiByZXR1cm5pbmcgdGhlIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmF3IFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIHZhciBidWZmID0gdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYnVmZi5jaGFyQ29kZUF0KGkpIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSAnJztcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBidWZmOiB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLl9sZW5ndGgsXG4gICAgICAgICAgICBoYXNoOiB0aGlzLl9oYXNoLnNsaWNlKClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9IHN0YXRlLmJ1ZmY7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgdGhpcy5faGFzaCA9IHN0YXRlLmhhc2g7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbGVhc2VzIG1lbW9yeSB1c2VkIGJ5IHRoZSBpbmNyZW1lbnRhbCBidWZmZXIgYW5kIG90aGVyIGFkZGl0aW9uYWxcbiAgICAgKiByZXNvdXJjZXMuIElmIHlvdSBwbGFuIHRvIHVzZSB0aGUgaW5zdGFuY2UgYWdhaW4sIHVzZSByZXNldCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5faGFzaDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2J1ZmY7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sZW5ndGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaCB0aGUgZmluYWwgY2FsY3VsYXRpb24gYmFzZWQgb24gdGhlIHRhaWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSAgdGFpbCAgIFRoZSB0YWlsICh3aWxsIGJlIG1vZGlmaWVkKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggVGhlIGxlbmd0aCBvZiB0aGUgcmVtYWluaW5nIGJ1ZmZlclxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoID0gZnVuY3Rpb24gKHRhaWwsIGxlbmd0aCkge1xuICAgICAgICB2YXIgaSA9IGxlbmd0aCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIHRoZSBmaW5hbCBjb21wdXRhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbCBhbmQgbGVuZ3RoXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWF5IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSB0aGlzLl9sZW5ndGggKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcbiAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICBzdHIgVGhlIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuaGFzaCA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICAvLyBDb252ZXJ0cyB0aGUgc3RyaW5nIHRvIHV0ZjggYnl0ZXMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIC8vIFRoZW4gY29tcHV0ZSBpdCB1c2luZyB0aGUgYmluYXJ5IGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBTcGFya01ENS5oYXNoQmluYXJ5KHRvVXRmOChzdHIpLCByYXcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgbWQ1IGhhc2ggb24gYSBiaW5hcnkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICBjb250ZW50IFRoZSBiaW5hcnkgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSAgICAgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuaGFzaEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50LCByYXcpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBtZDUxKGNvbnRlbnQpLFxuICAgICAgICAgICAgcmV0ID0gaGV4KGhhc2gpO1xuXG4gICAgICAgIHJldHVybiByYXcgPyBoZXhUb0JpbmFyeVN0cmluZyhyZXQpIDogcmV0O1xuICAgIH07XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbiBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1IE9OTFkgZm9yIGFycmF5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNhbGwgcmVzZXQgdG8gaW5pdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyh0aGlzLl9idWZmLmJ1ZmZlciwgYXJyLCB0cnVlKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICB0aGlzLl9sZW5ndGggKz0gYXJyLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGtfYXJyYXkoYnVmZi5zdWJhcnJheShpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmID0gKGkgLSA2NCkgPCBsZW5ndGggPyBuZXcgVWludDhBcnJheShidWZmLmJ1ZmZlci5zbGljZShpIC0gNjQpKSA6IG5ldyBVaW50OEFycmF5KDApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyB0aGUgaW5jcmVtZW50YWwgY29tcHV0YXRpb24sIHJlc2V0aW5nIHRoZSBpbnRlcm5hbCBzdGF0ZSBhbmRcbiAgICAgKiByZXR1cm5pbmcgdGhlIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmF3IFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIHZhciBidWZmID0gdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYnVmZltpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCh0YWlsLCBsZW5ndGgpO1xuICAgICAgICByZXQgPSBoZXgodGhpcy5faGFzaCk7XG5cbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmV0ID0gaGV4VG9CaW5hcnlTdHJpbmcocmV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9idWZmID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHN0YXRlXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBTcGFya01ENS5wcm90b3R5cGUuZ2V0U3RhdGUuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBDb252ZXJ0IGJ1ZmZlciB0byBhIHN0cmluZ1xuICAgICAgICBzdGF0ZS5idWZmID0gYXJyYXlCdWZmZXIyVXRmOFN0cihzdGF0ZS5idWZmKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBUaGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIGJ1ZmZlclxuICAgICAgICBzdGF0ZS5idWZmID0gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdGF0ZS5idWZmLCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gU3BhcmtNRDUucHJvdG90eXBlLnNldFN0YXRlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgIH07XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5kZXN0cm95O1xuXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLl9maW5pc2ggPSBTcGFya01ENS5wcm90b3R5cGUuX2ZpbmlzaDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhbiBhcnJheSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnIgVGhlIGFycmF5IGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgIFtyYXddIFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBvbmVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLmhhc2ggPSBmdW5jdGlvbiAoYXJyLCByYXcpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBtZDUxX2FycmF5KG5ldyBVaW50OEFycmF5KGFycikpLFxuICAgICAgICAgICAgcmV0ID0gaGV4KGhhc2gpO1xuXG4gICAgICAgIHJldHVybiByYXcgPyBoZXhUb0JpbmFyeVN0cmluZyhyZXQpIDogcmV0O1xuICAgIH07XG5cbiAgICByZXR1cm4gU3BhcmtNRDU7XG59KSk7XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIGNvbG9yIHBhbGV0dGUgZnJvbSBGaWd1cmUgMiAoQ29sb3JzIG9wdGltaXplZCBmb3IgY29sb3ItYmxpbmRcbiAqIGluZGl2aWR1YWxzKSBmcm9tXG4gKiBbXCJQb2ludHMgb2YgdmlldzogQ29sb3IgYmxpbmRuZXNzXCIgYnkgQmFuZyBXb25nIHB1Ymxpc2hlZCBpbiBOYXR1cmUgTWV0aG9kcyB2b2x1bWUgOCBvbiAyNyBNYXkgMjAxMV0oaHR0cHM6Ly93d3cubmF0dXJlLmNvbS9hcnRpY2xlcy9ubWV0aC4xNjE4P1dULmVjX2lkPU5NRVRILTIwMTEwNilcbiAqL1xuY29uc3QgQ29sb3JQYWxldHRlOiBzdHJpbmdbXSA9IFtcbiAgJ3JnYigyMzAsIDE1OSwgMCknLFxuICAncmdiKDg2LCAxODAsIDIzMyknLFxuICAncmdiKDAsIDE1OCwgMTE1KScsXG4gICdyZ2IoMjQwLCAyMjgsIDY2KScsXG4gICdyZ2IoMCwgMTE0LCAxNzgpJyxcbiAgJ3JnYigyMTMsIDk0LCAwKScsXG4gICdyZ2IoMjA0LCAxMjEsIDE2NyknXG5dO1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gYSBzdGFmZi5cbiAqIEBwYXJhbSBzdGFmZiBJZiB1bmRlZmluZWQsIHRoZSBhbGwgc3RhdmVzIGFyZSB1bmhpZ2hsaWdodGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5oaWdobGlnaHQoc3RhZmY/OiBTVkdHRWxlbWVudCk6IHZvaWQge1xuICBsZXQgY2hpbGRyZW46IE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gIGlmIChzdGFmZikge1xuICAgIGNoaWxkcmVuID0gc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9XG4gIGNoaWxkcmVuLmZvckVhY2goZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0udGFnTmFtZSA9PT0gJ3BhdGgnICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGVsZW0ucmVtb3ZlQXR0cmlidXRlKCdmaWxsJyk7XG4gICAgICBsZXQgcmVjdHMgPSBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHJlY3RzID0gZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICAgLy8gcmVjdC5jbG9zZXN0KCcubGF5ZXInKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgKXtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgICB9XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gZWFjaCBzdGFmZi5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuaGlnaGxpZ2h0KCk7XG59XG5cbi8qKlxuICogVW5zZXQgaGlnaGxpZ2h0IGZvciBhbGwgZ3JvdXBpbmcgdHlwZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTogdm9pZCB7XG4gIHVuc2V0U3RhZmZIaWdobGlnaHQoKTtcbiAgY29uc3QgaGlnaGxpZ2h0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodGVkJykpXG4gICAgLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+ICFlbGVtLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKTtcbiAgaGlnaGxpZ2h0ZWQuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICBlbGVtLnNldEF0dHJpYnV0ZSgnI2QwMCcsIG51bGwpO1xuICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAoIXJlY3RzLmxlbmd0aCkge1xuICAgICAgaWYgKGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fCBcbiAgICAgIHJlY3QuY2xvc2VzdCgnLnN5bCcpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgKXtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJyNkMDAnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gJ2JsdWUnO1xuICAgICAgfVxuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICBlbGVtLnF1ZXJ5U2VsZWN0b3JBbGwoJ3N5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKHJlY3QgPT4ge1xuICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIH0pO1xuICB9KTtcbiAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKS5mb3JFYWNoKChlbCkgPT4geyBlbC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCAnJyk7IH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBhIHN0YWZmIGEgY2VydGFpbiBjb2xvci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGhpZ2hsaWdodChzdGFmZjogU1ZHR0VsZW1lbnQsIGNvbG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmLmNoaWxkcmVuKTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaGlsZHJlbi5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoaWxkID0gY2hpbGRyZW5baV07XG4gICAgaWYgKGNoaWxkLnRhZ05hbWUgPT09ICdwYXRoJykge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdzdHJva2UnLCBjb2xvcik7XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3Jlc2l6ZVBvaW50JykgfHwgY2hpbGQuaWQgPT09ICdyZXNpemVSZWN0JyB8fCBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3JvdGF0ZVBvaW50JykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJykubGVuZ3RoICYmXG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdoaWdobGlnaHQtc2VsZWN0ZWQnKVswXS5pZCA9PT0gJ2hpZ2hsaWdodC1uZXVtZSdcbiAgICAgICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKSkuZm9yRWFjaChjY2hpbGQgPT4geyBjaGlsZHJlbi5wdXNoKGNjaGlsZCk7IH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBjb2xvcik7XG4gICAgICBsZXQgcmVjdHMgPSBjaGlsZC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKCFyZWN0cy5sZW5ndGgpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZWN0cyA9IGNoaWxkLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKCEocmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkpIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBjb2xvcjtcbiAgICAgICAgICByZWN0LmNsYXNzTGlzdC5hZGQoJ2hpZ2hsaWdodGVkJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBjaGlsZC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICB9XG4gIGxldCB3aWR0aCwgaGVpZ2h0O1xuICAvKnRyeSB7XG4gICAgd2lkdGggPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCd3aWR0aCcpLnNwbGl0KCdweCcpWzBdKTtcbiAgICBoZWlnaHQgPSBOdW1iZXIoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmFjdGl2ZS1wYWdlJykucXVlcnlTZWxlY3Rvcignc3ZnJykuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKS5zcGxpdCgncHgnKVswXSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICBjb25zb2xlLmRlYnVnKGUpO1xuICB9Ki9cbiAgbGV0IHN0cm9rZTogc3RyaW5nO1xuICBpZiAod2lkdGggIT09IHVuZGVmaW5lZCAmJiBoZWlnaHQgIT09IHVuZGVmaW5lZCkge1xuICAgIC8vIGlkayBsb29rcyBnb29kIDonKVxuICAgIC8vIFRPRE8gZmluZCBhIGJldHRlciB3YXkgb2YgY2FsY3VsYXRpbmcgdGhpcyBhcyB0aGlzIGFjdHVhbGx5IGRvZXNuJ3Qgd29yayBhcyB3ZWxsIGFzIDMwcHhcbiAgICBzdHJva2UgPSAod2lkdGggKiBoZWlnaHQgLyAxMDAwMDAwKS50b1N0cmluZygpO1xuICB9XG4gIGVsc2Uge1xuICAgIHN0cm9rZSA9ICczMHB4JztcbiAgfVxuICBzdGFmZi5xdWVyeVNlbGVjdG9yQWxsKCcubmMsIC5jdXN0b3MsIC5jbGVmLCAuYWNjaWQsIC5kaXZMaW5lJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBlYWNoIHN0YWZmIGEgZGlmZmVyZW50IGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSkgYXMgU1ZHR0VsZW1lbnRbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZkNvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBoaWdobGlnaHQoc3RhdmVzW2ldLCBzdGFmZkNvbG9yKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBhIGhpZ2hsaWdodCBieSBhIGRpZmZlcmVudCBncm91cGluZy5cbiAqIEBwYXJhbSBncm91cGluZyAtIEVpdGhlciBcInN0YWZmXCIsIFwic3lsbGFibGVcIiwgXCJuZXVtZVwiLCBcInNlbGVjdGlvblwiLCBvciBcImxheWVyRWxlbWVudFwiLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmc6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIGlmIChncm91cGluZyA9PT0gJ3N0YWZmJykge1xuICAgIHNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKGdyb3VwaW5nID09PSAnc2VsZWN0aW9uJykge1xuICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5LmlzLWFjdGl2ZScpLmlkO1xuICAgIHN3aXRjaCAodGVtcCkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgICBncm91cGluZyA9ICdzeWxsYWJsZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N0YWZmJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ2xheWVyRWxlbWVudCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBncm91cGluZyA9ICduZXVtZSc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBncm91cHM7XG5cbiAgaWYgKGdyb3VwaW5nID09ICdsYXllckVsZW1lbnQnKSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY2lkLCAuY2xlZiwgLmN1c3RvcywgLmRpdkxpbmUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGdyb3VwaW5nKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcbiAgfVxuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgZ3JvdXBzLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgZ3JvdXBDb2xvciA9IENvbG9yUGFsZXR0ZVtpICUgQ29sb3JQYWxldHRlLmxlbmd0aF07XG4gICAgaWYgKChncm91cHNbaV0uY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpICYmICFncm91cHNbaV0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBncm91cHNbaV0uc2V0QXR0cmlidXRlKCdmaWxsJywgZ3JvdXBDb2xvcik7XG4gICAgICBjb25zdCByZWN0cyA9IGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+O1xuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdCkge1xuICAgICAgICBpZiAocmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsbGFibGUnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICAgIC8vIHJlY3QuY2xvc2VzdCgnLmxheWVyJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBncm91cENvbG9yO1xuICAgICAgfSk7XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcjZDAwJyk7XG4gICAgICB9XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9XG4gIH1cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkLCAuZGl2TGluZScpLmZvckVhY2goZWwgPT4ge1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlJywgJ2JsYWNrJyk7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2Utd2lkdGgnLCAnMzBweCcpO1xuICB9KTtcbn1cbiIsIi8qKiBAbW9kdWxlIERpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMgKi9cblxuaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi4vdXRpbHMvQ29sb3InO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4uL1NpbmdsZVZpZXcvWm9vbSc7XG5pbXBvcnQgeyBHcm91cGluZ1R5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncywgc2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxubGV0IGxhc3RHbHlwaE9wYWNpdHk6IG51bWJlciwgbGFzdEltYWdlT3BhY2l0eTogbnVtYmVyO1xuXG4vKipcbiAqIFNldCB6b29tIGNvbnRyb2wgbGlzdGVuZXIgZm9yIGJ1dHRvbiBhbmQgc2xpZGVyXG4gKiBAcGFyYW0gem9vbUhhbmRsZXIgLSBBIFtbWm9vbUhhbmRsZXJdXSBpcyBvbmx5IG5lY2Vzc2FyeSBpbiBTaW5nbGUgUGFnZSBtb2RlIGFzIGRpdmEuanMgaGFuZGxlcyB6b29taW5nIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFpvb21Db250cm9scyAoem9vbUhhbmRsZXI/OiBab29tSGFuZGxlcik6IHZvaWQge1xuICBpZiAoem9vbUhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBjb25zdCB6b29tU2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21TbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCB6b29tT3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21PdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IHpvb20gfSA9IGdldFNldHRpbmdzKCk7XG4gIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gIHpvb21IYW5kbGVyLnpvb21Ubyh6b29tIC8gMTAwLjApO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtem9vbScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHpvb21PdXRwdXQudmFsdWUgPSAnMTAwJztcbiAgICB6b29tU2xpZGVyLnZhbHVlID0gJzEwMCc7XG4gICAgem9vbUhhbmRsZXIucmVzZXRab29tQW5kUGFuKCk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNzZXQtem9vbS1lYXN5LWVkaXQnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gJzE4MCc7XG4gICAgem9vbVNsaWRlci52YWx1ZSA9ICcxODAnO1xuICAgIHpvb21IYW5kbGVyLnpvb21UbygxODAvMTAwKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VIYW5kbGVyICgpOiB2b2lkIHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gem9vbVNsaWRlci52YWx1ZTtcbiAgICB6b29tSGFuZGxlci56b29tVG8oTnVtYmVyKHpvb21PdXRwdXQudmFsdWUpIC8gMTAwLjApO1xuICB9XG5cbiAgLy8gem9vbVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0Q2hhbmdlSGFuZGxlcik7XG4gIHpvb21TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGlucHV0Q2hhbmdlSGFuZGxlcik7XG4gIHpvb21TbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcblxuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgY29uc3QgY3VycmVudFpvb20gPSBwYXJzZUludCh6b29tT3V0cHV0LnZhbHVlKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0Fycm93VXAnIHx8IGV2dC5rZXkgPT09ICdBcnJvd0Rvd24nIHx8IFxuICAgIGV2dC5rZXkgPT09ICdBcnJvd1JpZ2h0JyB8fCBldnQua2V5ID09PSAnQXJyb3dMZWZ0Jykge1xuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnKycpIHsgLy8gaW5jcmVhc2Ugem9vbSBieSAyMFxuICAgICAgY29uc3QgbmV3Wm9vbSA9IE1hdGgubWluKGN1cnJlbnRab29tICsgMjAsIHBhcnNlSW50KHpvb21TbGlkZXIuZ2V0QXR0cmlidXRlKCdtYXgnKSkpO1xuICAgICAgem9vbUhhbmRsZXIuem9vbVRvKG5ld1pvb20gLyAxMDAuMCk7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdfJykgeyAvLyBkZWNyZWFzZSB6b29tIGJ5IDIwXG4gICAgICBjb25zdCBuZXdab29tID0gTWF0aC5tYXgoY3VycmVudFpvb20gLSAyMCwgcGFyc2VJbnQoem9vbVNsaWRlci5nZXRBdHRyaWJ1dGUoJ21pbicpKSk7XG4gICAgICB6b29tSGFuZGxlci56b29tVG8obmV3Wm9vbSAvIDEwMC4wKTtcbiAgICAgIHpvb21PdXRwdXQudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJzAnKSB7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gJzEwMCc7XG4gICAgICB6b29tU2xpZGVyLnZhbHVlID0gJzEwMCc7XG4gICAgICB6b29tSGFuZGxlci5yZXNldFpvb21BbmRQYW4oKTtcbiAgICB9XG4gIH0pO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBNRUkgb3BhY2l0eSB0byB2YWx1ZSBmcm9tIHRoZSBzbGlkZXIuXG4gKiBAcGFyYW0gbWVpQ2xhc3NOYW1lIC0gQ2xhc3MgdGhhdCBjb250YWlucyB0aGUgcmVuZGVyZWQgTUVJLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0T3BhY2l0eUZyb21TbGlkZXIgKG1laUNsYXNzTmFtZT86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcbiAgY29uc3Qgb3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gb3BhY2l0eU91dHB1dC52YWx1ZTtcbiAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBsb2FkIGdseXBoIG9wYWNpdHkgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gcGFnZS1sb2FkXG4gIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRpZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUdseXBoc0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtZ2x5cGgtb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKG9wYWNpdHlPdXRwdXQudmFsdWUpID09PSAwKSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gIH1cbiAgZWxzZSB7XG4gICAgaGlkZUdseXBoc0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gIH1cblxuICB0cnkge1xuICAgICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDAuMCkudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIHByb3Blcmx5IHNldCBvcGFjaXR5IHRvIHBhZ2VzJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgcmVuZGVyZWQgTUVJIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZnVuY3Rpb24gc2V0T3BhY2l0eUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGdseXBoT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEdseXBoT3BhY2l0eSA9IGdseXBoT3BhY2l0eTtcbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cblxuICBmdW5jdGlvbiBpbnB1dENoYW5nZU9wYWNpdHkgKCk6IHZvaWQge1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBvcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RHbHlwaE9wYWNpdHkgPSBOdW1iZXIob3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0T3BhY2l0eUZyb21TbGlkZXIobWVpQ2xhc3NOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZU9wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWdseXBoLW9wYWNpdHknKTtcbiAgdG9nZ2xlT3BhY2l0eUJ0bj8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICBsZXQgbmV3T3BhY2l0eTtcbiAgICBpZiAodG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtaWNvbicpKSB7XG4gICAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDA7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdG9nZ2xlT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgICAgIG5ld09wYWNpdHkgPSAxO1xuICAgIH1cblxuICAgIC8vIERlZmluaXRpb24gc2NhbGUgaXMgdGhlIHJvb3QgZWxlbWVudCBvZiB3aGF0IGlzIGdlbmVyYXRlZCBieSB2ZXJvdmlvXG4gICAgXG4gICAgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy4nICsgbWVpQ2xhc3NOYW1lKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IG5ld09wYWNpdHkudG9TdHJpbmcoKTtcbiAgICB9KTtcblxuICAgIGxhc3RHbHlwaE9wYWNpdHkgPSBOdW1iZXIob3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdPcGFjaXR5ICogMTAwKTtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3T3BhY2l0eSAqIDEwMCkpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBnbHlwaE9wYWNpdHk6IG5ld09wYWNpdHkgKiAxMDAgfSk7XG5cbiAgICBpbnB1dENoYW5nZU9wYWNpdHkoKTtcbiAgfSk7XG5cbiAgb3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGlucHV0Q2hhbmdlT3BhY2l0eSk7XG4gIG9wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgaW5wdXRDaGFuZ2VPcGFjaXR5KTtcblxuICBvcGFjaXR5U2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBTZXQgYmFja2dyb3VuZCBpbWFnZSBvcGFjaXR5IGJ1dHRvbiBhbmQgc2xpZGVyIGxpc3RlbmVycy5cbiAqIEBwYXJhbSBiYWNrZ3JvdW5kIC0gVGhlIGJhY2tncm91bmQgaW1hZ2Ugc2VsZWN0b3IuXG4gKi9cbmZ1bmN0aW9uIHNldEJhY2tncm91bmRPcGFjaXR5Q29udHJvbHMgKGJhY2tncm91bmQ6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBiZ09wYWNpdHlTbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3QgYmdPcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnT3BhY2l0eU91dHB1dCcpIGFzIEhUTUxPdXRwdXRFbGVtZW50O1xuXG4gIGNvbnN0IHsgaW1hZ2VPcGFjaXR5IH0gPSBnZXRTZXR0aW5ncygpO1xuICBsYXN0SW1hZ2VPcGFjaXR5ID0gaW1hZ2VPcGFjaXR5O1xuICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGltYWdlT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gYmdJbnB1dENoYW5nZUhhbmRsZXIgKCk6IHZvaWQge1xuICAgIGJnT3BhY2l0eU91dHB1dC52YWx1ZSA9IGJnT3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0SW1hZ2VPcGFjaXR5ID0gTnVtYmVyKGJnT3BhY2l0eVNsaWRlci52YWx1ZSk7XG4gICAgc2V0QmdPcGFjaXR5RnJvbVNsaWRlcihiYWNrZ3JvdW5kKTtcbiAgfVxuXG5cbiAgY29uc3QgdG9nZ2xlQmdPcGFjaXR5QnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1iZy1vcGFjaXR5Jyk7XG4gIHRvZ2dsZUJnT3BhY2l0eUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuXG4gICAgaWYgKHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtaWNvbicpKSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYmFja2dyb3VuZClbMF0gYXMgSFRNTEVsZW1lbnQpXG4gICAgICAuc3R5bGUub3BhY2l0eSA9IG5ld09wYWNpdHkudG9TdHJpbmcoKTtcblxuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3T3BhY2l0eSAqIDEwMCkpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IG5ld09wYWNpdHkgKiAxMDAgfSk7XG4gICAgYmdJbnB1dENoYW5nZUhhbmRsZXIoKTtcbiAgfSk7XG5cbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBiZ09wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIChiYWNrZ3JvdW5kPzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eU91dHB1dDogSFRNTE91dHB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmdPcGFjaXR5T3V0cHV0Jyk7XG4gIFxuICBzZXRTZXR0aW5ncyh7IGltYWdlT3BhY2l0eTogTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRpZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUdseXBoc0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN0b2dnbGUtYmctb3BhY2l0eSA+IGltZycpO1xuICBpZiAoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlR2x5cGhzSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Nob3ctaWNvbi5zdmdgKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlR2x5cGhzSW1nLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2hpZGUtaWNvbi5zdmdgKTtcbiAgfVxuXG4gIGNvbnN0IGJnOiBIVE1MRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2JhY2tncm91bmR9YCk7XG4gIGlmIChiZykgYmcuc3R5bGUub3BhY2l0eSA9IFN0cmluZyhOdW1iZXIoYmdPcGFjaXR5T3V0cHV0LnZhbHVlKSAvIDEwMCk7XG59XG5cbi8qKlxuICogVXBkYXRlIGhpZ2hsaWdodCBkcm9wZG93biBvcHRpb24gKyBkaXNwbGF5XG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5mdW5jdGlvbiB1cGRhdGVIaWdobGlnaHRPcHRpb24gKGdyb3VwOiBHcm91cGluZ1R5cGUpOiB2b2lkIHtcbiAgY29uc3Qgb3B0aW9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYGhpZ2hsaWdodC0ke2dyb3VwfWApO1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuXG4gIC8vIHNhdmUgaGlnaGxpZ2h0IG9wdGlvbiB0byBsb2NhbFN0b3JhZ2VcbiAgc2V0U2V0dGluZ3MoeyBoaWdobGlnaHRNb2RlOiBncm91cCB9KTtcblxuICBkcm9wZG93bi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmZvckVhY2goZWxlbSA9PiB7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgfSk7XG5cbiAgaWYgKGdyb3VwID09PSAnbm9uZScpIHtcbiAgICBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50ID0gJ1xceEEwLSBPZmYnO1xuICAgIENvbG9yLnVuc2V0R3JvdXBpbmdIaWdobGlnaHQoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIG9wdGlvbi5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcblxuICAvLyBUZXh0IGNvbnRlbnQgaXMgdGhlIGdyb3VwaW5nIHR5cGUgY2FwaXRhbGl6ZWRcbiAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9IGBcXHhBMC0gJHtncm91cFswXS50b1VwcGVyQ2FzZSgpICsgZ3JvdXAuc2xpY2UoMSl9YDtcbiAgQ29sb3Iuc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXApO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBoaWdobGlnaHQgbW9kZSBjaG9zZW4gYnkgdGhlIHVzZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRIaWdobGlnaHRUeXBlICgpOiBHcm91cGluZ1R5cGUge1xuICBjb25zdCBoaWdobGlnaHRUeXBlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJyk7XG4gIHJldHVybiBoaWdobGlnaHRUeXBlLnRleHRDb250ZW50LnNsaWNlKDMpLnRvTG93ZXJDYXNlKCkgYXMgR3JvdXBpbmdUeXBlO1xufVxuXG4vKipcbiAqIFNldCBjbGljayBsaXN0ZW5lciBmb3IgZWFjaCBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uXG4gKiBAcGFyYW0gZ3JvdXAgLSBHcm91cGluZ1R5cGUgLyBUaGUgRE9NIGVsZW1lbnQncyBpZCBhcyBgaGlnaGxpZ2h0LSR7aWR9YFxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgb3B0aW9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbihncm91cCk7XG4gIH0pO1xufVxuXG4vKipcbiAqIENsaWNrYXdheSBsaXN0ZW5lciBmb3IgdGhlIGhpZ2hsaWdodCBkcm9wZG93bi5cbiAqL1xuZnVuY3Rpb24gaGlnaGxpZ2h0Q2xpY2thd2F5ICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gc3RhZmYgaGlnaGxpZ2h0aW5nIGNoZWNrYm94LlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0Q29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBkcm9wZG93biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtZHJvcGRvd24nKTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWJ1dHRvbicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBkcm9wZG93bi5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgICBpZiAoZHJvcGRvd24uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG5cbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignc3lsbGFibGUnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignbmV1bWUnKTtcbiAgICAgIHNldEhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25vbmUnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGhpZ2hsaWdodENsaWNrYXdheSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gICogU2V0IGxpc3RlbmVyIG9uIGtleSBzaG9ydGN1dHMgZm9yIHN3aXRjaGluZyBiZXR3ZWVuIGhpZ2hsaWdodHNcbiAgKiBcbiAgKiBUaGUgY3VycmVudCBwbGFuIGlzIHRvIHVzZSB0aGUga2V5cyBxLCB3LCBlLCByLCB0LCBhbmQgeVxuICAqL1xuZnVuY3Rpb24gc2V0SGlnaGxpZ2h0S2V5Q29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgLy8gUHJldmVudCBjbWQvY3RybCtyIGZyb20gY2hhbmdpbmcgaGlnaGxpZ2h0IG9wdGlvblxuICAgIGlmIChldnQubWV0YUtleSkgcmV0dXJuO1xuXG4gICAgc3dpdGNoIChldnQua2V5KSB7XG4gICAgICBjYXNlICdxJzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzdGFmZicpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3cnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbmV1bWUnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyJzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdsYXllckVsZW1lbnQnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzZWxlY3Rpb24nKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd5JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSk7XG59XG5cblxuXG4vLyBXaHkgZG9lcyB0aGlzIGV4aXN0IHNlcGFyYXRlbHk/XG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBoaWdobGlnaHRTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXNlbGVjdGlvbicpO1xuICBoaWdobGlnaHRTZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgICBoaWdobGlnaHRTZWxlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSAnIC0gU2VsZWN0aW9uJztcbiAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBoaWdobGlnaHQgZm9yIGRpZmZlcmVudCB0eXBlcyBiYXNlZCBvbiB0aGUgJ2hpZ2hsaWdodC1zZWxlY3RlZCcgY2xhc3MgaW4gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUhpZ2hsaWdodCAoKTogdm9pZCB7XG4gIGxldCBoaWdobGlnaHRJZDogc3RyaW5nO1xuICB0cnkge1xuICAgIGhpZ2hsaWdodElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaGlnaGxpZ2h0SWQgPSAnJztcbiAgfVxuICBzd2l0Y2ggKGhpZ2hsaWdodElkKSB7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN0YWZmJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN5bGxhYmxlJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LW5ldW1lJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWxheWVyRWxlbWVudCc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc2VsZWN0aW9uJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzZWxlY3Rpb24nKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gYnVyZ2VyIG1lbnUgZm9yIHNtYWxsZXIgc2NyZWVucy5cbiAqL1xuZnVuY3Rpb24gc2V0QnVyZ2VyQ29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdk1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgfSk7XG59XG5cbi8qKiBcbiAqIFNldCBsaXN0ZW5lciBmb3IgXCJEaXNwbGF5IEFsbFwiIGJ1dHRvbiBpbiBEaXNwbGF5IHBhbmVsLlxuKi9cbmZ1bmN0aW9uIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0QWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktYWxsLWJ0bicpO1xuICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gYXQgdGhlIG1vbWVudCwgY2xhc3NuYW1lICdzZWxlY3RlZCcgaXMgb25seSB1c2VkIGZvciB0cmFja2luZyBwdXJwb3Nlc1xuICAgIGlmIChzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyID4gLmNoZWNrYm94Jyk7XG5cbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyID4gLmNoZWNrYm94Jyk7XG4gICAgICBcbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBMb2FkIGhpZ2hsaWdodCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEhpZ2hsaWdodFNldHRpbmdzICgpOiB2b2lkIHtcbiAgY29uc3QgeyBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICB1cGRhdGVIaWdobGlnaHRPcHRpb24oaGlnaGxpZ2h0TW9kZSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBsaXN0ZW5lcnMgYW5kIGNvbnRyb2xzIGZvciBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laUNsYXNzTmFtZSAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZml5IHRoZSBNRUkgZWxlbWVudChzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIHVzZWQgdG8gc2lnbmlmeSB0aGUgYmFja2dyb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcbiAgc2V0T3BhY2l0eUNvbnRyb2xzKG1laUNsYXNzTmFtZSk7XG4gIHNldEJhY2tncm91bmRPcGFjaXR5Q29udHJvbHMoYmFja2dyb3VuZCk7XG4gIHNldEhpZ2hsaWdodENvbnRyb2xzKCk7XG4gIHNldEJ1cmdlckNvbnRyb2xzKCk7XG4gIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzKCk7XG4gIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpO1xuICBsb2FkSGlnaGxpZ2h0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUNvbnRlbnRzJyk7XG4gIGNvbnN0IHRvZ2dsZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRGlzcGxheScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlIZWFkZXInKTtcblxuICBkaXNwbGF5SGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICBkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZGlzcGxheSBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG59XG5cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTZXRUZXh0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGhvdGtleXNNb2RhbCwgZWRpdFRleHRNb2RhbCB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgdXBsb2FkQXJlYUhUTUwgfSBmcm9tICcuLi9EYXNoYm9hcmQvZGFzaGJvYXJkX2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgdXBkYXRlU2VsZWN0ZWRCQm94IH0gZnJvbSAnLi4vVGV4dEVkaXRNb2RlJztcblxuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBFRElUX1RFWFQsXG4gIEhPVEtFWVMsXG4gIFZBTElEQVRJT05fU1RBVFVTLFxuICBET0NVTUVOVF9VUExPQURcbn1cblxuZW51bSBNb2RhbFdpbmRvd1N0YXRlIHtcbiAgT1BFTixcbiAgQ0xPU0VEXG59XG5cblxuXG4vKipcbiAqIE1vZGFsIGNsYXNzIGlzIHVzZWQgdG8gY3JlYXRlIGFuZCBjb250cm9sIHN0YXRlL2NvbnRlbnQgXG4gKiBvZiBtb2RhbCB3aW5kb3dzIGluIE5lb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RhbFdpbmRvdyBpbXBsZW1lbnRzIE1vZGFsV2luZG93SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1ZpZXc6IE1vZGFsV2luZG93VmlldzsgLy8gY3VycmVudCBtb2RhbCB0eXBlXG4gIHByaXZhdGUgbW9kYWxXaW5kb3dTdGF0ZTogTW9kYWxXaW5kb3dTdGF0ZTsgLy8gb3BlbiBvciBjbG9zZWQ/XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3OyAvLyBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0XG5cblxuICAvKipcbiAgICogU2V0IG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHQgZm9yIHRoaXMgbW9kYWwgd2luZG93IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gbmVvblZpZXcgbmVvblZpZXcgY29udGV4dCBmb3IgTW9kYWwgaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldz86IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuXG4gICAgLy8gc2V0IGV2ZW50IGxpc3RlbmVycyB0aGF0IGFwcGx5IHRvIGFsbCBtb2RhbCB3aW5kb3dzXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIFxuXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbW9kYWwgdmlldyBvZiB0aGlzIE1vZGFsIGluc3RhbmNlLlxuICAgKiBVcGRhdGUgdGhlIGNvbnRlbnQgYmFzZWQgb24gcGFzc2VkIHZpZXcuXG4gICAqIEBwYXJhbSB2aWV3IFR5cGUgb2YgbW9kYWwgdG8gb3BlbiAoTW9kYWxWaWV3IGVudW0pXG4gICAqL1xuICBzZXRNb2RhbFdpbmRvd1ZpZXcodmlldzogTW9kYWxXaW5kb3dWaWV3LCBjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1ZpZXcgPSB2aWV3O1xuICAgIHRoaXMuc2V0TW9kYWxXaW5kb3dDb250ZW50KGNvbnRlbnQpO1xuICB9XG5cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IG1vZGFsIHZpZXcgYXMgYSBzdHJpbmdcbiAgICovXG4gIGdldE1vZGFsV2luZG93VmlldygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm1vZGFsV2luZG93Vmlldy50b1N0cmluZygpO1xuICB9XG5cblxuICAvKipcbiAgICogT3BlbiBhIG1vZGVsIHdpbmRvdyB3aXRoIGNvbnRlbnQgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IE1vZGFsVmlldy5cbiAgICovXG4gIG9wZW5Nb2RhbFdpbmRvdygpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG4gICAgc3dpdGNoKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgdGhpcy5vcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAgIC8vIGFkZCBmdW5jdGlvbiB0byBwYWlyaW5nIGJ1dHRvblxuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB1c2VyIGNhbid0IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5PUEVOO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb25zdCBzcGFuID0gKDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgXG4gICAgICAgIC8vIGFmdGVyIHRoZSBtb2RhbCBpcyBjbG9zZWQsIG5vIGtleWJvYXJkIHNob3J0Y3V0cyB3b3JrIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIGRvY3VtZW50IGhhc24ndCBiZWVuIGZvY3VzZWQ7IHRoaXMgZm9yY2VmdWxseSBmb2N1c2VzIHRoZSBjb250YWluZXJcbiAgICAgICAgaWYgKHRoaXMubW9kYWxXaW5kb3dWaWV3ICE9PSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9IFxuICAgIC8vIHJlc2V0IHNjcm9sbCBiZWhhdmlvciBvZiBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgc3dpdGNoICh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnRURJVCBTWUxMQUJMRSBURVhUJztcblxuICAgICAgICAvLyBzcGFuIGFuZCBjdXJyZW50IHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZSBhbmQgZmlsdGVyIG91dCB1bndhbnRlZCBjaGFyc1xuICAgICAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF07XG4gICAgICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG5cbiAgICAgICAgLy8gc2V0IHZhbHVlIG9mIGlucHV0IGZpZWxkIHRvIGN1cnJlbnQgc3lsbGFibGUgdGV4dFxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpKS52YWx1ZSA9IG9yaWc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnSE9US0VZUyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5WQUxJREFUSU9OX1NUQVRVUzpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gXG4gICAgICAgICAgYDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAzMHB4O3doaXRlLXNwYWNlOiBwcmUtbGluZTtcIj4ke2NvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiPlxuICAgICAgICAgICAgPGEgaHJlZj1cImRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfVwiIGRvd25sb2FkPVwidmFsaWRhdGlvbi5sb2dcIj5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJykuaW5uZXJUZXh0ID0gJ0VSUk9SIExPRyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnRE9DVU1FTlQgVVBMT0FEJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gdXBsb2FkQXJlYUhUTUw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlLiBUaGlzIHNob3VsZCBub3QgaGF2ZSBvY2N1cnJlZC4nKTtcbiAgICB9IFxuICB9XG5cblxuICAvKipcbiAgICogRmlsbCBtb2RhbCB3aW5kb3cgd2l0aCBjb250ZW50IGZvciB1cGRhdGluZyBzeWxsYWJsZSB0ZXh0XG4gICAqL1xuICBwcml2YXRlIG9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93ID0gZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goIChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9KTtcblxuICAgIC8vIHNldCB1cCBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtZWRpdC10ZXh0JykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgIFxuICAgIC8vIFJlc2V0IFwiQ2FuY2VsXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWNhbmNlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBSZXNldCBcIlNhdmVcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmUnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlU3lsVGV4dC5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlU3lsVGV4dC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGRpc3BsYXkgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGVzIHdpdGggdXNlci1wcm92aWRlZCB0ZXh0XG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVN5bFRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gc3BhbiBhbmQgY3VycmVudCB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGUgYW5kIGZpbHRlciBvdXQgdW53YW50ZWQgY2hhcnNcbiAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF07XG4gICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgIGNvbnN0IG9yaWcgPSBzcGFuLnRleHRDb250ZW50LnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xuICAgIGNvbnN0IHVwZGF0ZWRTeWxUZXh0ID0gKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpLnZhbHVlO1xuXG4gICAgaWYgKHVwZGF0ZWRTeWxUZXh0ICE9PSBudWxsICYmIHVwZGF0ZWRTeWxUZXh0ICE9PSBvcmlnKSB7XG4gICAgICAvLyBjcmVhdGUgXCJzZXQgdGV4dFwiIGFjdGlvblxuICAgICAgY29uc3QgZWxlbWVudElkID0gWy4uLnNwYW4uY2xhc3NMaXN0LmVudHJpZXMoKV0uZmlsdGVyKChjbGFzc05hbWUpID0+IGNsYXNzTmFtZVsxXSAhPT0gJ3RleHQtc2VsZWN0JyAmJiBjbGFzc05hbWVbMV0gIT09ICdzZWxlY3RlZC10by1lZGl0JylbMF1bMV07XG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNldFRleHRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldFRleHQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkLFxuICAgICAgICAgIHRleHQ6IHVwZGF0ZWRTeWxUZXh0LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIC8vIHNlbmQgYWN0aW9uIHRvIHZlcm92aW8gZm9yIHByb2Nlc3NpbmdcbiAgICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXNwb25zZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIFNWR1xuICAgICAgICAgIHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEFuIHVwZGF0ZSB0byB0aGUgcGFnZSB3aWxsIHJlbG9hZCB0aGUgZW50aXJlIHN2ZztcbiAgICAgICAgICAgIC8vIFdlIHdvdWxkIGxpa2UgdG8gdGhlbiByZXNlbGVjdCB0aGUgc2FtZSBzZWxlY3RlZCBzeWxsYWJsZVxuICAgICAgICAgICAgLy8gaWYgYmJveGVzIGFyZSBlbmFibGVkXG4gICAgICAgICAgICB1cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjbG9zZSBtb2RhbCB3aW5kb3dcbiAgICB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggaG90a2V5IGluZm8gY29udGVudFxuICAgKi9cbiAgLypcbiAgcHJpdmF0ZSBvcGVuSG90a2V5TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHsgICBcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcbiAgKi9cblxuXG4gIC8qKlxuICAgKiBEZWZpbmUgZXZlbnQgbGlzdGVuZXJzIGZvciBtb2RhbCB3aW5kb3cgYmFzZWQgb24gbW9kYWxWaWV3IHR5cGVcbiAgICovXG4gIHByaXZhdGUga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgTmVvbiBob3RrZXkgZXZlbnRzIGZyb20gZmlyaW5nIHdoZW4gdXNlciBpcyB0eXBpbmdcblxuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMudXBkYXRlU3lsVGV4dCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gIFxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIHRoYXQgZm9jdXNlcyB0aGUgbW9kYWwgd2luZG93IGlmIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgaXRcbiAgICovXG4gIHByaXZhdGUgZm9jdXNNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkuc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxufVxuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IENoYW5nZVN0YWZmVG9BY3Rpb24sIERyYWdBY3Rpb24sIEVkaXRvckFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGlzT3V0T2ZTVkdCb3VuZHMsIGdldEdseXBoQkJveCwgZ2V0U3RhZmZJZEJ5Q29vcmRzIH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5pbXBvcnQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IHNlbGVjdEFsbCwgc2VsZWN0QkJveCwgc2VsZWN0U3RhZmYgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuY2xhc3MgRHJhZ0hhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHByaXZhdGUgc2VsZWN0b3I6IHN0cmluZztcbiAgcHJpdmF0ZSBzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIHByaXZhdGUgZHJhZ1N0YXJ0Q29vcmRzOiBbbnVtYmVyLCBudW1iZXJdID0gWy0xLCAtMV07XG4gIHByaXZhdGUgcmVzZXRUb0FjdGlvbjogKHNlbGVjdGlvbjogZDMuU2VsZWN0aW9uPGQzLkJhc2VUeXBlLCB1bmtub3duLCBIVE1MRWxlbWVudCwgdW5rbm93bj4sIGFyZ3M6IHVua25vd25bXSkgPT4gdm9pZDtcblxuICBwcml2YXRlIGR4OiBudW1iZXI7XG4gIHByaXZhdGUgZHk6IG51bWJlcjtcblxuICAvKipcbiAgICogQHBhcmFtIHNlbGVjdG9yIC0gQ1NTIHNlbGVjdG9yIG9mIGVsZW1lbnQgdG8gYXBwbHkgZHJhZyBoYW5kbGVyIHRvLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc2VsZWN0b3I6IHN0cmluZykge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnNlbGVjdG9yID0gc2VsZWN0b3I7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgZHJhZ2dpbmcgYWN0aW9uIGFuZCBoYW5kbGVyIGZvciBzZWxlY3RlZCBlbGVtZW50cy5cbiAgICovXG4gIGRyYWdJbml0ICgpOiB2b2lkIHtcbiAgICAvLyBEcmFnIGVmZmVjdHNcbiAgICBmdW5jdGlvbiBkcmFnU3RhcnRlZCAoKTogdm9pZCB7XG4gICAgICB0aGlzLmRyYWdTdGFydENvb3JkcyA9IFtkMy5ldmVudC54LCBkMy5ldmVudC55XTtcbiAgICAgIHRoaXMuZHggPSAwO1xuICAgICAgdGhpcy5keSA9IDA7XG4gICAgICBjb25zdCB0YXJnZXQgPSBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQ7XG4gICAgICBpZiAodGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgICBkMy5zZWxlY3QodGhpcy5zZWxlY3RvcikuY2FsbChkcmFnQmVoYXZpb3VyKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBBZGRpbmcgbGlzdGVuZXJzXG4gICAgY29uc3QgZHJhZ0JlaGF2aW91ciA9IGQzLmRyYWcoKVxuICAgICAgLm9uKCdzdGFydCcsIGRyYWdTdGFydGVkLmJpbmQodGhpcykpXG4gICAgICAub24oJ2RyYWcnLCB0aGlzLmRyYWdnaW5nLmJpbmQodGhpcykpXG4gICAgICAub24oJ2VuZCcsIHRoaXMuZHJhZ0VuZGVkLmJpbmQodGhpcykpO1xuXG4gICAgY29uc3QgYWN0aXZlTmMgPSBkMy5zZWxlY3RBbGwoJy5zZWxlY3RlZCcpO1xuICAgIGFjdGl2ZU5jLmNhbGwoZHJhZ0JlaGF2aW91cik7XG5cbiAgICBjb25zdCBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnNlbGVjdGVkJykpO1xuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnJlc2l6ZVBvaW50JykpKTtcbiAgfVxuXG4gIGRyYWdnaW5nICgpOiB2b2lkIHtcbiAgICB0aGlzLmR4ID0gZDMuZXZlbnQueCAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdO1xuICAgIHRoaXMuZHkgPSBkMy5ldmVudC55IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV07XG5cbiAgICB0aGlzLm1vdmVFbGVtZW50cyh0aGlzLnNlbGVjdGlvbiwgdGhpcy5keCwgdGhpcy5keSk7XG5cbiAgICAvKlxuICAgICAqIGlmIHdlJ3JlIGRyYWdnaW5nIGEgc3lsbGFibGUgKG9yIG5ldW1lIGV0YykgdGhlbiB0aGVyZSB3b24ndCBiZSBhIHN5bCBzZWxlY3RlZFxuICAgICAqIHRoZW4gd2UgZG9uJ3Qgd2FudCB0aGUgYm91bmRpbmcgYm94IChpZiBpdCBpcyBkaXNwbGF5ZWQpIHRvIG1vdmUgd2hlbiBkcmFnZ2luZyB0aGUgbmV1bWVzXG4gICAgICogaXQgd2lsbCBiZSBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGluIHNlbGVjdGlvbiwgc28gaXQgd2lsbCBnZXQgbW92ZWQgaW4gdGhlIGFib3ZlIGxvb3BcbiAgICAgKiBzbyB3ZSBjYW5jZWwgdGhhdCBtb3ZlbWVudCBvdXQgaGVyZVxuICAgICAqL1xuICAgIGNvbnN0IHN5bHMgPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKTtcbiAgICBpZiAoc3lscy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLm1vdmVFbGVtZW50cyhiYm94ZXMsIC10aGlzLmR4LCAtdGhpcy5keSk7XG4gICAgfVxuICB9XG5cblxuICBkcmFnRW5kZWQgKCk6IHZvaWQge1xuICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaGFzIG5vdCBiZWVuIG1vdmVkIG1vcmUgdGhhbiA1IHBpeGVscyBpbiBhbnkgZGlyZWN0aW9uLFxuICAgIC8vIGRvIG5vdCBkbyBhbnkgYWN0aW9uXG4gICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyh0aGlzLmR4KSwgeURpZmYgPSBNYXRoLmFicyh0aGlzLmR5KTtcbiAgICBpZiAoeERpZmYgPD0gNSAmJiB5RGlmZiA8PSA1KSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIHNlbGVjdGlvbiBmb3IgZHJhZ2dhYmxlIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSk7XG5cbiAgICAvLyBJZiB0aGUgY3Vyc29yIGlzIG91dCBvZiBib3VuZHMgb3IgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyBvdXQgb2YgYm91bmRzLFxuICAgIC8vIGRyYWcgYWN0aW9ucyBzaG91bGQgbm90IGhhcHBlbi4gUmV0dXJuIGFuIGVycm9yIG5vdGlmaWNhdGlvbiBhbmQgcmVzZXRcbiAgICAvLyB0aGUgZHJhZyBoYW5kbGVyXG4gICAgaWYgKHRoaXMuaXNDdXJzb3JPdXRPZkJvdW5kcygpIHx8IHRoaXMuaXNEcmFnT3V0T2ZCb3VuZHMoc2VsZWN0aW9uKSkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBzZWxlY3Rpb24gYmFjayB0byBub3JtYWwgc3RhdGVcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHModGhpcy5zZWxlY3Rpb24pO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveGVzIGFzIHdlbGxcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKGJib3hlcyk7XG5cbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBEcmFnIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBlZGl0b3IgYWN0aW9uIGZvciBzZWxlY3Rpb25cbiAgICBjb25zdCBwYXJhbUFycmF5OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBlbC50YWdOYW1lID09PSAncmVjdCcgPyBlbC5jbG9zZXN0KCcuc3lsJykuaWQgOiBlbC5pZDtcblxuICAgICAgY29uc3QgZHJhZ0FjdGlvbjogRHJhZ0FjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZHJhZycsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB4OiB0aGlzLmR4LFxuICAgICAgICAgIHk6IC10aGlzLmR5LFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwYXJhbUFycmF5LnB1c2goZHJhZ0FjdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogcGFyYW1BcnJheVxuICAgIH07XG5cbiAgICAvLyBTZW5kIGVkaXRvciBhY3Rpb25cbiAgICB0aGlzLm5lb25WaWV3XG4gICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBOZW9uIHJlLXJlbmRlcnMgdGhlIGVudGlyZSBTVkcsIGFuZCBoZW5jZSwgYmVmb3JlIHdlIGRvIHNvLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIGFsbCB0aGUgZWxlbWVudHMgKElEcykgd2UgbmVlZCB0byBzZWxlY3QgYWdhaW5cbiAgICAgICAgLy8gVGhlbiwgd2UgbmVlZCB0byByZXNlbGVjdCB0aGVtIGJ5IGNhbGxpbmcgYHRoaXMucmVzZWxlY3QoKWBcbiAgICAgICAgY29uc3QgdG9SZXNlbGVjdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpLm1hcChlbCA9PiBlbC5pZCk7XG5cbiAgICAgICAgLy8gQ0FVVElPTjogYHVwZGF0ZUZvckN1cnJlbnRQYWdlKClgIGlzIGFuIGFzeW5jaHJvbm91cyBmdW5jdGlvbiFcbiAgICAgICAgLy8gSXQgcmVxdWlyZXMgYW4gYGF3YWl0YCBrZXl3b3JkLlxuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIHRoaXMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG5cbiAgICAgICAgLy8gUmVzZWxlY3QgdGhlIGVsZW1lbnRzIGFuZCByZWluaXRpYWxpemUgZHJhZ1xuICAgICAgICBhd2FpdCB0aGlzLnJlc2VsZWN0KHRvUmVzZWxlY3QpO1xuICAgICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGFzeW5jIHJlc2VsZWN0ICh0b1Jlc2VsZWN0OiBzdHJpbmdbXSk6IFByb21pc2U8dm9pZD4ge1xuICAgIGNvbnN0IHJlc2VsZWN0ZWQgPSB0b1Jlc2VsZWN0Lm1hcChpZCA9PiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR0dyYXBoaWNzRWxlbWVudD4oYCMke2lkfWApKTtcblxuICAgIC8vIEFsbCBnbHlwaHMgZXhjZXB0IGJvdWRpbmcgYm94ZXMgKCdzeWwncykgbXVzdCBiZSBzZWxlY3RlZCB3aXRoXG4gICAgLy8gYHNlbGVjdEFsbCgpYFxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChhc3luYyAoKSA9PiBhd2FpdCBzZWxlY3RBbGwocmVzZWxlY3RlZCwgdGhpcy5uZW9uVmlldywgdGhpcykpO1xuXG4gICAgLy8gQm91bmRpbmcgYm94ZXMgbXVzdCBiZSBleHBsaWNpdGx5IHNlbGVjdGVkIHVzaW5nIGBzZWxlY3RCQm94KClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKVxuICAgICAgLmZvckVhY2goXG4gICAgICAgIGVsID0+IHNlbGVjdEJCb3goZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgdGhpcywgdGhpcy5uZW9uVmlldylcbiAgICAgICk7XG5cbiAgICAvLyBTdGF2ZXMgbXVzdCBiZSBleHBsaWNpdGx5IHNlbGVjdGVkIHVzaW5nIGBzZWxlY3RTdGFmZigpYFxuICAgIC8vIEFORCBtdXN0IGJlIHNlbGVjdGVkIHdpdGggYHNlbGVjdEFsbCgpYCBmb3IgY29ycmVjdCBiZWhhdmlvciAoZm9yIHNvbWUgcmVhc29uKS5cbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSlcbiAgICAgIC5mb3JFYWNoKGVsID0+IHNlbGVjdFN0YWZmKGVsLCB0aGlzKSk7XG4gIH1cblxuICAvKiogU2V0IHRoZSBkMyBhY3Rpb24gdG8gdXNlIGZvciBbW3Jlc2V0XV0uICovXG4gIHJlc2V0VG8gKHJlc2V0OiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkKTogdm9pZCB7XG4gICAgdGhpcy5yZXNldFRvQWN0aW9uID0gcmVzZXQ7XG4gIH1cblxuICAvKiogUmVzZXQgdG8gYSBwcmV2aW91cyBkMyBhY3Rpb24gZm9yIFtbdGhpcy5zZWxlY3Rvcl1dLiAqL1xuICByZXNldCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMucmVzZXRUb0FjdGlvbiAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBkMy5zZWxlY3QodGhpcy5zZWxlY3RvcikuY2FsbCh0aGlzLnJlc2V0VG9BY3Rpb24pO1xuICAgIH1cbiAgfVxuXG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24gKCk6IHZvaWQge1xuICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gICAgY29uc3QgZXh0cmFFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpO1xuICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgICBpZiAoZXh0cmFFZGl0KSB7XG4gICAgICBleHRyYUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICBleHRyYUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgbW92ZSB0aGUgc2VsZWN0ZWQgZWxlbWVudHMgYnkgYGR4YCBhbmQgYGR5YDsgKG5vdCB1c2luZyBkMylcbiAgICovXG4gIG1vdmVFbGVtZW50cyAoc2VsZWN0aW9uOiBFbGVtZW50W10sIGR4OiBudW1iZXIsIGR5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBzZWxlY3Rpb24uZmlsdGVyKGVsID0+IGVsICE9PSBudWxsKS5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgZWwuc2V0QXR0cmlidXRlKCd0cmFuc2Zvcm0nLCBgdHJhbnNsYXRlKCR7ZHh9LCR7ZHl9KWApO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFZpc3VhbGx5IHJldHVybiBzZWxlY3RlZCBlbGVtZW50cyB0byB0aGVpciBvcmlnaW5hbCBwb3NpdGlvbnNcbiAgICogYnkgcmVtb3ZpbmcgdGhlIHRyYW5zZm9ybSBhdHRyaWJ1dGVcbiAgICovXG4gIHJldHVybkVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSk6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5yZW1vdmVBdHRyaWJ1dGUoJ3RyYW5zZm9ybScpO1xuICAgIH0pO1xuICB9XG5cbiAgaXNDdXJzb3JPdXRPZkJvdW5kcyAoKTogYm9vbGVhbiB7XG4gICAgY29uc3QgZW5kWCA9IHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdICsgdGhpcy5keDtcbiAgICBjb25zdCBlbmRZID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV0gKyB0aGlzLmR5O1xuXG4gICAgcmV0dXJuIGlzT3V0T2ZTVkdCb3VuZHMoZW5kWCwgZW5kWSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB3aGV0aGVyIHRoZSBzZWxlY3Rpb24gYXJyYXkgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgdGhlIFNWR1xuICAgKiBAcGFyYW0ge1NWR0dyYXBoaWNzRWxlbWVudFtdfSBzZWxlY3Rpb25cbiAgICogQHJldHVybnMge2Jvb2xlYW59IElzIHNlbGVjdGlvbiBvdXQgb2YgYm91bmRzXG4gICAqL1xuICBpc0RyYWdPdXRPZkJvdW5kcyAoc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICAgIC8vIEdldCB0aGUgYm91bmRpbmcgYm94ZXMgb2YgYWxsIGdseXBocyAoPHVzZT4gZWxlbWVudHMpIHdpdGhpbiB0aGUgc2VsZWN0aW9uIGFycmF5XG4gICAgY29uc3QgaXNCQm94RGlzcGxheWVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI2Rpc3BsYXlCQm94JykuY2hlY2tlZDtcbiAgICBjb25zdCBnbHlwaFNlbGVjdG9yID0gaXNCQm94RGlzcGxheWVkID8gJ3VzZSwgcmVjdCcgOiAndXNlJztcblxuICAgIGNvbnN0IGdseXBoczogU1ZHVXNlRWxlbWVudFtdID0gc2VsZWN0aW9uLnJlZHVjZShcbiAgICAgIChhY2MsIGVsKSA9PiBhY2MuY29uY2F0KC4uLmVsLnF1ZXJ5U2VsZWN0b3JBbGwoZ2x5cGhTZWxlY3RvcikpLCBbXVxuICAgICk7XG4gICAgY29uc3QgZ2x5cGhCQm94ZXM6IEJCb3hbXSA9IGdseXBocy5tYXAoZ2V0R2x5cGhCQm94KTtcblxuICAgIC8vIEdldCB0aGUgc3Vycm91bmRpbmcgYm91bmRpbmcgYm94IG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50c1xuICAgIGNvbnN0IHNlbGVjdGlvbkJCb3g6IEJCb3ggPSBnbHlwaEJCb3hlcy5yZWR1Y2UoXG4gICAgICAoYmJveCwgY3VycikgPT4ge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHVseDogTWF0aC5taW4oYmJveC51bHgsIGN1cnIudWx4KSxcbiAgICAgICAgICB1bHk6IE1hdGgubWluKGJib3gudWx5LCBjdXJyLnVseSksXG4gICAgICAgICAgbHJ4OiBNYXRoLm1heChiYm94LmxyeCwgY3Vyci5scngpLFxuICAgICAgICAgIGxyeTogTWF0aC5tYXgoYmJveC5scnksIGN1cnIubHJ5KSxcbiAgICAgICAgfTtcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHVseDogTnVtYmVyLk1BWF9WQUxVRSxcbiAgICAgICAgdWx5OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICBscng6IE51bWJlci5NSU5fVkFMVUUsXG4gICAgICAgIGxyeTogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgIH1cbiAgICApO1xuXG4gICAgY29uc3QgeyB1bHgsIHVseSwgbHJ4LCBscnkgfSA9IHNlbGVjdGlvbkJCb3g7XG4gICAgcmV0dXJuIGlzT3V0T2ZTVkdCb3VuZHModWx4ICsgdGhpcy5keCwgdWx5ICsgdGhpcy5keSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscnggKyB0aGlzLmR4LCBscnkgKyB0aGlzLmR5KTtcbiAgfVxufVxuXG5leHBvcnQgeyBEcmFnSGFuZGxlciBhcyBkZWZhdWx0IH07XG4iLCIvLyBVbmlxdWUgSUQgY3JlYXRpb24gcmVxdWlyZXMgYSBoaWdoIHF1YWxpdHkgcmFuZG9tICMgZ2VuZXJhdG9yLiBJbiB0aGUgYnJvd3NlciB3ZSB0aGVyZWZvcmVcbi8vIHJlcXVpcmUgdGhlIGNyeXB0byBBUEkgYW5kIGRvIG5vdCBzdXBwb3J0IGJ1aWx0LWluIGZhbGxiYWNrIHRvIGxvd2VyIHF1YWxpdHkgcmFuZG9tIG51bWJlclxuLy8gZ2VuZXJhdG9ycyAobGlrZSBNYXRoLnJhbmRvbSgpKS5cbnZhciBnZXRSYW5kb21WYWx1ZXM7XG52YXIgcm5kczggPSBuZXcgVWludDhBcnJheSgxNik7XG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBybmcoKSB7XG4gIC8vIGxhenkgbG9hZCBzbyB0aGF0IGVudmlyb25tZW50cyB0aGF0IG5lZWQgdG8gcG9seWZpbGwgaGF2ZSBhIGNoYW5jZSB0byBkbyBzb1xuICBpZiAoIWdldFJhbmRvbVZhbHVlcykge1xuICAgIC8vIGdldFJhbmRvbVZhbHVlcyBuZWVkcyB0byBiZSBpbnZva2VkIGluIGEgY29udGV4dCB3aGVyZSBcInRoaXNcIiBpcyBhIENyeXB0byBpbXBsZW1lbnRhdGlvbi4gQWxzbyxcbiAgICAvLyBmaW5kIHRoZSBjb21wbGV0ZSBpbXBsZW1lbnRhdGlvbiBvZiBjcnlwdG8gKG1zQ3J5cHRvKSBvbiBJRTExLlxuICAgIGdldFJhbmRvbVZhbHVlcyA9IHR5cGVvZiBjcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIGNyeXB0by5nZXRSYW5kb21WYWx1ZXMgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKGNyeXB0bykgfHwgdHlwZW9mIG1zQ3J5cHRvICE9PSAndW5kZWZpbmVkJyAmJiB0eXBlb2YgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzID09PSAnZnVuY3Rpb24nICYmIG1zQ3J5cHRvLmdldFJhbmRvbVZhbHVlcy5iaW5kKG1zQ3J5cHRvKTtcblxuICAgIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NyeXB0by5nZXRSYW5kb21WYWx1ZXMoKSBub3Qgc3VwcG9ydGVkLiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkI2dldHJhbmRvbXZhbHVlcy1ub3Qtc3VwcG9ydGVkJyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCk7XG59IiwiJ3VzZSBzdHJpY3QnO1xuXG4vKipcbiAqIFN0cmluZ2lmeS9wYXJzZSBmdW5jdGlvbnMgdGhhdCBkb24ndCBvcGVyYXRlXG4gKiByZWN1cnNpdmVseSwgc28gdGhleSBhdm9pZCBjYWxsIHN0YWNrIGV4Y2VlZGVkXG4gKiBlcnJvcnMuXG4gKi9cbmV4cG9ydHMuc3RyaW5naWZ5ID0gZnVuY3Rpb24gc3RyaW5naWZ5KGlucHV0KSB7XG4gIHZhciBxdWV1ZSA9IFtdO1xuICBxdWV1ZS5wdXNoKHtvYmo6IGlucHV0fSk7XG5cbiAgdmFyIHJlcyA9ICcnO1xuICB2YXIgbmV4dCwgb2JqLCBwcmVmaXgsIHZhbCwgaSwgYXJyYXlQcmVmaXgsIGtleXMsIGssIGtleSwgdmFsdWUsIG9ialByZWZpeDtcbiAgd2hpbGUgKChuZXh0ID0gcXVldWUucG9wKCkpKSB7XG4gICAgb2JqID0gbmV4dC5vYmo7XG4gICAgcHJlZml4ID0gbmV4dC5wcmVmaXggfHwgJyc7XG4gICAgdmFsID0gbmV4dC52YWwgfHwgJyc7XG4gICAgcmVzICs9IHByZWZpeDtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXMgKz0gdmFsO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcpIHtcbiAgICAgIHJlcyArPSB0eXBlb2Ygb2JqID09PSAndW5kZWZpbmVkJyA/IG51bGwgOiBKU09OLnN0cmluZ2lmeShvYmopO1xuICAgIH0gZWxzZSBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICByZXMgKz0gJ251bGwnO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICddJ30pO1xuICAgICAgZm9yIChpID0gb2JqLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGFycmF5UHJlZml4ID0gaSA9PT0gMCA/ICcnIDogJywnO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IG9ialtpXSwgcHJlZml4OiBhcnJheVByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAnWyd9KTtcbiAgICB9IGVsc2UgeyAvLyBvYmplY3RcbiAgICAgIGtleXMgPSBbXTtcbiAgICAgIGZvciAoayBpbiBvYmopIHtcbiAgICAgICAgaWYgKG9iai5oYXNPd25Qcm9wZXJ0eShrKSkge1xuICAgICAgICAgIGtleXMucHVzaChrKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAnfSd9KTtcbiAgICAgIGZvciAoaSA9IGtleXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAga2V5ID0ga2V5c1tpXTtcbiAgICAgICAgdmFsdWUgPSBvYmpba2V5XTtcbiAgICAgICAgb2JqUHJlZml4ID0gKGkgPiAwID8gJywnIDogJycpO1xuICAgICAgICBvYmpQcmVmaXggKz0gSlNPTi5zdHJpbmdpZnkoa2V5KSArICc6JztcbiAgICAgICAgcXVldWUucHVzaCh7b2JqOiB2YWx1ZSwgcHJlZml4OiBvYmpQcmVmaXh9KTtcbiAgICAgIH1cbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ3snfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG4vLyBDb252ZW5pZW5jZSBmdW5jdGlvbiBmb3IgdGhlIHBhcnNlIGZ1bmN0aW9uLlxuLy8gVGhpcyBwb3AgZnVuY3Rpb24gaXMgYmFzaWNhbGx5IGNvcGllZCBmcm9tXG4vLyBwb3VjaENvbGxhdGUucGFyc2VJbmRleGFibGVTdHJpbmdcbmZ1bmN0aW9uIHBvcChvYmosIHN0YWNrLCBtZXRhU3RhY2spIHtcbiAgdmFyIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gIGlmIChvYmogPT09IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50KSB7XG4gICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICBtZXRhU3RhY2sucG9wKCk7XG4gICAgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgfVxuICB2YXIgZWxlbWVudCA9IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50O1xuICB2YXIgbGFzdEVsZW1lbnRJbmRleCA9IGxhc3RNZXRhRWxlbWVudC5pbmRleDtcbiAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICBlbGVtZW50LnB1c2gob2JqKTtcbiAgfSBlbHNlIGlmIChsYXN0RWxlbWVudEluZGV4ID09PSBzdGFjay5sZW5ndGggLSAyKSB7IC8vIG9iaiB3aXRoIGtleSt2YWx1ZVxuICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICBlbGVtZW50W2tleV0gPSBvYmo7XG4gIH0gZWxzZSB7XG4gICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICB9XG59XG5cbmV4cG9ydHMucGFyc2UgPSBmdW5jdGlvbiAoc3RyKSB7XG4gIHZhciBzdGFjayA9IFtdO1xuICB2YXIgbWV0YVN0YWNrID0gW107IC8vIHN0YWNrIGZvciBhcnJheXMgYW5kIG9iamVjdHNcbiAgdmFyIGkgPSAwO1xuICB2YXIgY29sbGF0aW9uSW5kZXgscGFyc2VkTnVtLG51bUNoYXI7XG4gIHZhciBwYXJzZWRTdHJpbmcsbGFzdENoLG51bUNvbnNlY3V0aXZlU2xhc2hlcyxjaDtcbiAgdmFyIGFycmF5RWxlbWVudCwgb2JqRWxlbWVudDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb2xsYXRpb25JbmRleCA9IHN0cltpKytdO1xuICAgIGlmIChjb2xsYXRpb25JbmRleCA9PT0gJ30nIHx8XG4gICAgICAgIGNvbGxhdGlvbkluZGV4ID09PSAnXScgfHxcbiAgICAgICAgdHlwZW9mIGNvbGxhdGlvbkluZGV4ID09PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhY2sucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3Aoc3RhY2sucG9wKCksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnICc6XG4gICAgICBjYXNlICdcXHQnOlxuICAgICAgY2FzZSAnXFxuJzpcbiAgICAgIGNhc2UgJzonOlxuICAgICAgY2FzZSAnLCc6XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbic6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3VsbCdcbiAgICAgICAgcG9wKG51bGwsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3QnOlxuICAgICAgICBpICs9IDM7IC8vICdydWUnXG4gICAgICAgIHBvcCh0cnVlLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmJzpcbiAgICAgICAgaSArPSA0OyAvLyAnYWxzZSdcbiAgICAgICAgcG9wKGZhbHNlLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcwJzpcbiAgICAgIGNhc2UgJzEnOlxuICAgICAgY2FzZSAnMic6XG4gICAgICBjYXNlICczJzpcbiAgICAgIGNhc2UgJzQnOlxuICAgICAgY2FzZSAnNSc6XG4gICAgICBjYXNlICc2JzpcbiAgICAgIGNhc2UgJzcnOlxuICAgICAgY2FzZSAnOCc6XG4gICAgICBjYXNlICc5JzpcbiAgICAgIGNhc2UgJy0nOlxuICAgICAgICBwYXJzZWROdW0gPSAnJztcbiAgICAgICAgaS0tO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgIG51bUNoYXIgPSBzdHJbaSsrXTtcbiAgICAgICAgICBpZiAoL1tcXGRcXC5cXC1lXFwrXS8udGVzdChudW1DaGFyKSkge1xuICAgICAgICAgICAgcGFyc2VkTnVtICs9IG51bUNoYXI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGktLTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3AocGFyc2VGbG9hdChwYXJzZWROdW0pLCBzdGFjaywgbWV0YVN0YWNrKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdcIic6XG4gICAgICAgIHBhcnNlZFN0cmluZyA9ICcnO1xuICAgICAgICBsYXN0Q2ggPSB2b2lkIDA7XG4gICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyA9IDA7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgY2ggPSBzdHJbaSsrXTtcbiAgICAgICAgICBpZiAoY2ggIT09ICdcIicgfHwgKGxhc3RDaCA9PT0gJ1xcXFwnICYmXG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyAlIDIgPT09IDEpKSB7XG4gICAgICAgICAgICBwYXJzZWRTdHJpbmcgKz0gY2g7XG4gICAgICAgICAgICBsYXN0Q2ggPSBjaDtcbiAgICAgICAgICAgIGlmIChsYXN0Q2ggPT09ICdcXFxcJykge1xuICAgICAgICAgICAgICBudW1Db25zZWN1dGl2ZVNsYXNoZXMrKztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcyA9IDA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBwb3AoSlNPTi5wYXJzZSgnXCInICsgcGFyc2VkU3RyaW5nICsgJ1wiJyksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1snOlxuICAgICAgICBhcnJheUVsZW1lbnQgPSB7IGVsZW1lbnQ6IFtdLCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2goYXJyYXlFbGVtZW50LmVsZW1lbnQpO1xuICAgICAgICBtZXRhU3RhY2sucHVzaChhcnJheUVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3snOlxuICAgICAgICBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAndW5leHBlY3RlZGx5IHJlYWNoZWQgZW5kIG9mIGlucHV0OiAnICsgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufTtcbiIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5cbmZ1bmN0aW9uIHY0KG9wdGlvbnMsIGJ1Ziwgb2Zmc2V0KSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgcm5kcyA9IG9wdGlvbnMucmFuZG9tIHx8IChvcHRpb25zLnJuZyB8fCBybmcpKCk7IC8vIFBlciA0LjQsIHNldCBiaXRzIGZvciB2ZXJzaW9uIGFuZCBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGBcblxuICBybmRzWzZdID0gcm5kc1s2XSAmIDB4MGYgfCAweDQwO1xuICBybmRzWzhdID0gcm5kc1s4XSAmIDB4M2YgfCAweDgwOyAvLyBDb3B5IGJ5dGVzIHRvIGJ1ZmZlciwgaWYgcHJvdmlkZWRcblxuICBpZiAoYnVmKSB7XG4gICAgb2Zmc2V0ID0gb2Zmc2V0IHx8IDA7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IDE2OyArK2kpIHtcbiAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IHJuZHNbaV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJ1ZjtcbiAgfVxuXG4gIHJldHVybiBzdHJpbmdpZnkocm5kcyk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IHY0OyIsIi8qKlxuICogRm9ybWF0cyByYXcgVVVJRCBkYXRhIGludG8gdGhlIHByb3BlciBzdHJpbmcgZm9ybWF0LlxuICogQHBhcmFtIGRhdGEgLSBSYXcgVVVJRCBkYXRhLlxuICogQHJldHVybnMgRm9ybWF0dGVkIFVVSUQgc3RyaW5nLlxuICovXG5mdW5jdGlvbiB1aW50OFRvVXVpZCAoZGF0YTogVWludDhBcnJheSk6IHN0cmluZyB7XG4gIGlmIChkYXRhLmxlbmd0aCAhPT0gMTYpIHtcbiAgICByZXR1cm4gJyc7XG4gIH1cblxuICBmdW5jdGlvbiBjYiAocHJldmlvdXM6IHN0cmluZywgY3VycmVudDogbnVtYmVyKTogc3RyaW5nIHtcbiAgICByZXR1cm4gcHJldmlvdXMgKyBjdXJyZW50LnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCAnMCcpO1xuICB9XG5cbiAgcmV0dXJuIGRhdGEuc2xpY2UoMCwgNCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNCwgNikucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoNiwgOCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoOCwgMTApLnJlZHVjZShjYiwgJycpICtcbiAgICAnLScgKyBkYXRhLnNsaWNlKDEwKS5yZWR1Y2UoY2IsICcnKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBBIFt2ZXJzaW9uIDQgVVVJRF0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvVW5pdmVyc2FsbHlfdW5pcXVlX2lkZW50aWZpZXIjVmVyc2lvbl80XyhyYW5kb20pKS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NCAoKTogc3RyaW5nIHtcbiAgLy8gQ2hlY2sgZm9yIGNyeXB0byBBUElcbiAgaWYgKHdpbmRvdy5jcnlwdG8gPT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybiB1aW50OFRvVXVpZChuZXcgVWludDhBcnJheSgxNikpO1xuICB9XG5cbiAgLy8gR2V0IDE2IG9jdGV0cyBmb3IgVVVJRFxuICBjb25zdCBvY3RldHMgPSBuZXcgVWludDhBcnJheSgxNik7XG4gIGNvbnN0IG1vZGlmaWVycyA9IFVpbnQ4QXJyYXkuZnJvbShbXG4gICAgcGFyc2VJbnQoJzAxMDAwMDAwJywgMiksICAvLyBWZXJzaW9uIGJpdHMgKDQgPT4gMDEwMClcbiAgICBwYXJzZUludCgnMTAwMDAwMDAnLCAyKSwgIC8vIFZhcmlhbnQgYml0cyAoMTB4KVxuICAgIHBhcnNlSW50KCcwMDAwMTExMScsIDIpLCAgLy8gTWFzayB0byB6ZXJvIGhpZ2hlciBiaXRzLCB2ZXJzaW9uXG4gICAgcGFyc2VJbnQoJzAwMTExMTExJywgMikgICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZhcmlhbnRcbiAgXSk7XG4gIHdpbmRvdy5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKG9jdGV0cyk7XG4gIC8vIFNldCB2ZXJzaW9uIGJpdHMgYW5kIHZhcmlhbnQgYml0c1xuICBvY3RldHNbNl0gPSAob2N0ZXRzWzZdICYgbW9kaWZpZXJzWzJdKSB8IG1vZGlmaWVyc1swXTtcbiAgb2N0ZXRzWzhdID0gKG9jdGV0c1s4XSAmIG1vZGlmaWVyc1szXSkgfCBtb2RpZmllcnNbMV07XG5cbiAgcmV0dXJuIHVpbnQ4VG9VdWlkKG9jdGV0cyk7XG59XG4iLCJpbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCAqIGFzIFdhcm5pbmdzIGZyb20gJy4uL1dhcm5pbmdzJztcbmltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0ICogYXMgU2VsZWN0VG9vbHMgZnJvbSAnLi4vdXRpbHMvU2VsZWN0VG9vbHMnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuLi9TcXVhcmVFZGl0L1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgVG9nZ2xlTGlnYXR1cmVBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyByZW1vdmVIYW5kbGVyLCBkZWxldGVCdXR0b25IYW5kbGVyIH0gZnJvbSAnLi9TZWxlY3RPcHRpb25zJztcblxuXG4vKipcbiAqIFRoZSBOZW9uVmlldyBwYXJlbnQgdG8gYWNjZXNzIGVkaXRvciBhY3Rpb25zLlxuICovXG5sZXQgbmVvblZpZXc6IE5lb25WaWV3O1xuXG5cbi8qKlxuICogU2V0IHRoZSBuZW9uVmlldyBtZW1iZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcgKHZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIG5lb25WaWV3ID0gdmlldztcbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHNlbGVjdGVkIGVsZW1lbnRzIGNhbiBiZSBncm91cGVkIG9yIG5vdFxuICogQHJldHVybnMgdHJ1ZSBpZiBncm91cGVkLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzR3JvdXBhYmxlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcbiAgY29uc3QgZ3JvdXBzID0gQXJyYXkuZnJvbShlbGVtZW50cy52YWx1ZXMoKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgaWYgKGdyb3Vwcy5sZW5ndGggPCAyKSB7XG4gICAgLy8gY2Fubm90IGdyb3VwIGlmIG9ubHkgMSBlbGVtZW50IGlzIHNlbGVjdGVkXG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgc3dpdGNoKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeU5ldW1lJzpcbiAgICAgIC8vIGlmIG5ldW1lcyBhcmUgaW4gc2FtZSBzeWxsYWJsZSwgZG9uJ3QgZGlzcGxheSBncm91cGluZyBvcHRpb25cbiAgICAgIGlmIChTZWxlY3RUb29scy5zaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGNoZWNrIGlmIGFsbCBzZWxlY3RlZCBlbGVtZW50cyBhcmUgYWRqYWNlbnQgdG8gZWFjaCBvdGhlclxuICAgICAgaWYgKFNlbGVjdFRvb2xzLmFyZUFkamFjZW50KHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgfVxuXG59XG5cblxuLyoqXG4gKiBDaGVja3MgdG8gc2VlIGlzIGEgc2VsZWN0aW9uIG9mIGVsZW1lbnRzIGlzIGFscmVhZHkgbGlua2VkXG4gKiBAcGFyYW0gZWxlbWVudHMgZWxlbWVudHMgdG8gYmUgY29uc2lkZXJlZFxuICogQHJldHVybnMgdHJ1ZSBpcyBsaW5rZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNMaW5rZWQoZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcblxuICAvLyBpZiBudW1iZXIgb2YgZWxlbWVudHMgaXMgbm90IDIsIGVsZW1lbnRzIGNhbm5vdCBiZSBsaW5rZWQgYnkgZGVmaW5pdGlvblxuICBpZiAoZWxlbWVudHMubGVuZ3RoICE9PSAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gaWYgcHJlY2VkZXMgYW5kIGZvbGxvd3MgYXR0cmlidXRlcyBleGlzdCBhbmQgdGhlaXIgSURzIG1hdGNoXG4gIGlmICgoKGVsZW1lbnRzWzBdLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKSA9PT0gYCMke2VsZW1lbnRzWzFdLmlkfWApICYmIFxuICAgICAgKGVsZW1lbnRzWzFdLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykgPT09IGAjJHtlbGVtZW50c1swXS5pZH1gKSkgfHxcbiAgICAgICgoZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSA9PT0gJyMnICsgZWxlbWVudHNbMV0uaWQpICYmXG4gICAgICAoZWxlbWVudHNbMV0uZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpID09PSAnIycgKyBlbGVtZW50c1swXS5pZCkpKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgZWxzZSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHMgY2FuIGJlIGxpbmtlZCBvciB1bmxpa25lZC5cbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIEN1cnJlbnQgc2VsZWN0aW9uIG1vZGUuIE9ubHkgY2VydGFpbiBlbGVtZW50cyBjYW4gYmUgbGlua2VkXG4gKiBAcGFyYW0gZWxlbWVudHMgVGhlIGVsZW1lbnRzIHVuZGVyIHF1ZXN0aW9uIFxuICogQHJldHVybnMgdHJ1ZSBpZiB1c2VyIHNob3VsZCBiZSBhYmxlIHRvIGxpbmsgb3IgdW4tbGluayBlbGVtZW50cywgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmthYmxlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IEFycmF5PFNWR0dyYXBoaWNzRWxlbWVudD4pOiBib29sZWFuIHtcblxuICBzd2l0Y2goZWxlbWVudHMubGVuZ3RoKSB7XG4gICAgLy8gb25seSBhIHNlbGVjdGlvbiBvZiBsZW5ndGggMiBjYW4gbGVhZCB0byBvcHRpb24gdG8gdG9nZ2xlIHN5bGxhYmxlIGxpbmtcbiAgICBjYXNlIDI6XG4gICAgICAvLyBvbmx5IFN5bGxhYmxlcyBjYW4gYmUgbGlua2VkIG9yIHVubGlua2VkICg/KVxuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgIT09ICdzZWxCeVN5bGxhYmxlJykgcmV0dXJuIGZhbHNlO1xuICAgIFxuICAgICAgLy8gaWYgQUxSRUFEWSBsaW5rZWRcbiAgICAgIGlmIChpc0xpbmtlZChbZWxlbWVudHNbMF0sIGVsZW1lbnRzWzFdXSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICAvLyBpZiBDQU4gYmUgbGlua2VkXG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyAqY291bGQqIGJlIGEgc2VsZWN0aW9uIHdpdGggYSBzaW5nbGUgbG9naWNhbCBzeWxsYWJsZSBzcGxpdCBieSBhIHN0YWZmIGJyZWFrLiBcbiAgICAgICAgLy8gQ2hlY2sgaWYgdGhlc2UgYXJlIGFkamFjZW50IHN0YXZlcyAobG9naWNhbGx5KVxuICAgICAgICBpZiAoU2VsZWN0VG9vbHMuaXNNdWx0aVN0YXZlU2VsZWN0aW9uKGVsZW1lbnRzKSkge1xuICAgICAgICAgIGNvbnN0IHN0YWZmMCA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgICAgIGNvbnN0IHN0YWZmMSA9IGVsZW1lbnRzWzFdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgICAgIGNvbnN0IHN0YWZmQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmMC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKTtcblxuICAgICAgICAgIC8vIENoZWNrIGlmIG9uZSBzeWxsYWJsZSBpcyB0aGUgbGFzdCBpbiB0aGUgZmlyc3Qgc3RhZmYgYW5kIHRoZSBvdGhlciBpcyB0aGUgZmlyc3QgaW4gdGhlIHNlY29uZC5cbiAgICAgICAgICAvLyBEZXRlcm1pbmUgd2hpY2ggc3RhZmYgaXMgZmlyc3QuXG4gICAgICAgICAgY29uc3QgZmlyc3RTdGFmZiA9IChzdGFmZkNoaWxkcmVuLmluZGV4T2Yoc3RhZmYwKSA8IHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjEpKSA/IHN0YWZmMCA6IHN0YWZmMTtcbiAgICAgICAgICBjb25zdCBzZWNvbmRTdGFmZiA9IChmaXJzdFN0YWZmLmlkID09PSBzdGFmZjAuaWQpID8gc3RhZmYxIDogc3RhZmYwO1xuICAgICAgICAgIGNvbnN0IGZpcnN0TGF5ZXIgPSBmaXJzdFN0YWZmLnF1ZXJ5U2VsZWN0b3IoJy5sYXllcicpO1xuICAgICAgICAgIGNvbnN0IHNlY29uZExheWVyID0gc2Vjb25kU3RhZmYucXVlcnlTZWxlY3RvcignLmxheWVyJyk7XG4gICAgXG4gICAgICAgICAgLy8gQ2hlY2sgdGhhdCB0aGUgZmlyc3Qgc3RhZmYgaGFzIGVpdGhlciBzeWxsYWJsZSBhcyB0aGUgbGFzdCBzeWxsYWJsZVxuICAgICAgICAgIGNvbnN0IGZpcnN0U3lsbGFibGVDaGlsZHJlbiA9IEFycmF5LmZyb20oZmlyc3RMYXllci5jaGlsZHJlbikuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpO1xuICAgICAgICAgIGNvbnN0IHNlY29uZFN5bGxhYmxlQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHNlY29uZExheWVyLmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSk7ICAgIFxuICAgICAgICAgIGNvbnN0IGxhc3RTeWxsYWJsZSA9IGZpcnN0U3lsbGFibGVDaGlsZHJlbltmaXJzdFN5bGxhYmxlQ2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gICAgICAgICAgY29uc3QgZmlyc3RTeWxsYWJsZSA9IHNlY29uZFN5bGxhYmxlQ2hpbGRyZW5bMF07XG4gICAgXG4gICAgICAgICAgaWYgKGxhc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMF0uaWQgJiYgZmlyc3RTeWxsYWJsZS5pZCA9PT0gZWxlbWVudHNbMV0uaWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgIH0gXG4gICAgICAgICAgZWxzZSBpZiAobGFzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1sxXS5pZCAmJiBmaXJzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1swXS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBcbiAgICAvLyBjYW5ub3QgdG9nZ2xlIGxpbmsgZm9yIHN5bGxhYmxlIHNlbGVjdGlvbiBpZiBudW1iZXIgb2Ygc2VsZWN0ZWRcbiAgICAvLyBzeWxsYWJsZXMgaXMgbm90IGVxdWFsIHRvIDJcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogTWVyZ2Ugc2VsZWN0ZWQgc3RhdmVzXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZVN0YXZlcyAoKTogdm9pZCB7XG4gIGNvbnN0IHN5c3RlbXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3RhZmYuc2VsZWN0ZWQnKTtcbiAgY29uc3QgZWxlbWVudElkcyA9IFtdO1xuICBzeXN0ZW1zLmZvckVhY2goc3RhZmYgPT4ge1xuICAgIGVsZW1lbnRJZHMucHVzaChzdGFmZi5pZCk7XG4gIH0pO1xuICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdtZXJnZScsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZHM6IGVsZW1lbnRJZHNcbiAgICB9XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3RhZmYgTWVyZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNZXJnZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICB9XG4gIH0pO1xufVxuXG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKiBAcGFyYW0gdHlwZSAtIFRoZSBncm91cGluZyB0eXBlOiBuYywgbmV1bWUsIHN5bCwgbGlnYXR1cmVOYywgb3IgbGlnYXR1cmVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJHcm91cGluZyAodHlwZTogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaGlkZGVuJyk7XG4gIG1vcmVFZGl0LmlubmVySFRNTCArPSBDb250ZW50cy5ncm91cGluZ01lbnVbdHlwZV07XG4gIGluaXRHcm91cGluZ0xpc3RlbmVycygpO1xufVxuXG5cbi8qKlxuICogUmVtb3ZlIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVuZEdyb3VwaW5nU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xufVxuXG5cbi8qKlxuICogVGhlIGdyb3VwaW5nIGRyb3Bkb3duIGxpc3RlbmVyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEdyb3VwaW5nTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgcmVtb3ZlSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBrZXlkb3duTGlzdGVuZXIpO1xuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlU3lscycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCkuZmlsdGVyKGUgPT5cbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpXG4gICAgICApO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2dyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmV1bWVzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5ncm91cE5jcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICBncm91cGluZ0FjdGlvbigndW5ncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saWdhdHVyZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFRvZ2dsZUxpZ2F0dXJlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICd0b2dnbGVMaWdhdHVyZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0xpZ2F0dXJlIFRvZ2dsZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZEdyb3VwaW5nU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUtbGluaycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cblxuLyoqXG4gKiBHcm91cGluZy9Vbmdyb3VwaW5nIGtleWJpbmRpbmcgZXZlbnQgbGlzdGVuZXJcbiAqL1xuY29uc3Qga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICBpZiAoZS5rZXkgPT09ICdnJykge1xuICAgIC8vIGdldCBzZWxlY3RlZCBlbGVtZW50cyB0byBjaGVjayBpZiB0aGV5IGNhbiBiZSBncm91cGVkc1xuICAgIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PSAwKSByZXR1cm47XG5cbiAgICBjb25zdCBzZWxlY3Rpb25UeXBlID0gU2VsZWN0VG9vbHMuZ2V0U2VsZWN0aW9uVHlwZSgpO1xuXG4gICAgLy8gR3JvdXAvbWVyZ2Ugb3IgdW5ncm91cC9zcGxpdCBiYXNlZCBvbiBzZWxlY3Rpb24gdHlwZVxuICAgIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICAgIC8vIGlmIHN5bGxhYmxlcyBhcmUgbGlubmthYmxlLCB0b2dnbGUgbGlua2VkIHN5bGxhYmxlXG4gICAgICAgIC8vIGxpbmtlZCBzeWxsYWJsZXMgY2Fubm90IGJlIGdyb3VwZWQvdW5ncm91cGVkXG4gICAgICAgIGlmIChpc0xpbmthYmxlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkge1xuICAgICAgICAgIHRvZ2dsZUxpbmtlZFN5bGxhYmxlcygpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNoZWNrIGlmIGdyb3VwYWJsZSBiZWZvcmUgZ3JvdXBpbmdcbiAgICAgICAgZWxzZSBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCkuZmlsdGVyKGUgPT5cbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGUpLmNsYXNzTGlzdC5jb250YWlucygnbmV1bWUnKVxuICAgICAgICAgICk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG5cbiAgICAgICAgfSBcbiAgICAgICAgLy8gY2FuIG9ubHkgdW5ncm91cCBpZiBsZW5ndGggaXMgMSAob25lIHN5bGxhYmxlIHNlbGVjdGVkKVxuICAgICAgICAvLyBjYW5ub3QgdW5ncm91cCBpZiBtdWx0aXBsZSBzeWxsYWJsZXMgYXJlIHNlbGVjdGVkXG4gICAgICAgIGVsc2UgaWYgKGVsZW1lbnRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduZXVtZScsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgICBpZiAoaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgbWVyZ2VTdGF2ZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTdGFmZlNwbGl0TW9kZSgpO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKGBDYW4ndCBwZXJmb3JtIGdyb3VwaW5nL3VuZ3JvdXBpbmcgYWN0aW9uIG9uIHNlbGVjdGlvbiB0eXBlICR7c2VsZWN0aW9uVHlwZX0uYCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cblxuLyoqXG4gKiBGb3JtIGFuZCBleGVjdXRlIGEgZ3JvdXAvdW5ncm91cCBhY3Rpb24uXG4gKiBAcGFyYW0gYWN0aW9uIC0gVGhlIGFjdGlvbiB0byBleGVjdXRlLiBFaXRoZXIgXCJncm91cFwiIG9yIFwidW5ncm91cFwiLlxuICogQHBhcmFtIGdyb3VwVHlwZSAtIFRoZSB0eXBlIG9mIGVsZW1lbnRzIHRvIGdyb3VwLiBFaXRoZXIgXCJuZXVtZVwiIG9yIFwibmNcIi5cbiAqIEBwYXJhbSBlbGVtZW50SWRzIC0gVGhlIElEcyBvZiB0aGUgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGdyb3VwaW5nQWN0aW9uIChhY3Rpb246ICdncm91cCcgfCAndW5ncm91cCcsIGdyb3VwVHlwZTogJ25ldW1lJyB8ICduYycsIGVsZW1lbnRJZHM6IHN0cmluZ1tdKTogdm9pZCB7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogYWN0aW9uLFxuICAgIHBhcmFtOiB7XG4gICAgICBncm91cFR5cGU6IGdyb3VwVHlwZSxcbiAgICAgIGVsZW1lbnRJZHM6IGVsZW1lbnRJZHNcbiAgICB9XG4gIH07XG4gIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIGlmIChhY3Rpb24gPT09ICdncm91cCcpIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdHcm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVW5ncm91cGluZyBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgIH1cbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuXG4gICAgLy8gUHJvbXB0IHVzZXIgdG8gY29uZmlybSBpZiBOZW9uIGRvZXMgbm90IHJlIGNvZ25pemUgY29udG91clxuICAgIGlmIChncm91cFR5cGUgPT09ICduYycpIHtcbiAgICAgIGNvbnN0IG5ldW1lUGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSkucGFyZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IG5jcyA9IEFycmF5LmZyb20obmV1bWVQYXJlbnQuY2hpbGRyZW4pIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91cihuY3MpO1xuICAgICAgaWYgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBXYXJuaW5ncy5ncm91cGluZ05vdFJlY29nbml6ZWQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgfSk7XG59XG5cblxuLyoqXG4gKiBEZXRlcm1pbmUgd2hhdCBhY3Rpb24gKGxpbmsvdW5saW5rKSB0byBwZXJmb3JtIHdoZW4gdXNlciBjbGlja3Mgb24gXCJUb2dnbGUgTGlua2VkIFN5bGxhYmxlXCJcbiAqIEFsc28gY2FsbGVkIHdoZW4gY29ycmVzcGluZGluZyBob3RrZXkgaXMgcHJlc3NlZC5cbiAqL1xuZnVuY3Rpb24gdG9nZ2xlTGlua2VkU3lsbGFibGVzKCkge1xuICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiBbXVxuICB9O1xuICBjb25zdCBwYXJhbSA9IG5ldyBBcnJheTxFZGl0b3JBY3Rpb24+KCk7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKSB7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzBdLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1sxXSxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMV0sXG4gICAgICAgIHRleHQ6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSkuZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpKSB7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzBdLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzFdLFxuICAgICAgICBhdHRyVHlwZTogJ3ByZWNlZGVzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnJ1xuICAgICAgfVxuICAgIH0pO1xuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0VGV4dCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIHRleHQ6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgLy8gQXNzb2NpYXRlIHN5bGxhYmxlcy4gV2lsbCBuZWVkIHRvIGZpbmQgd2hpY2ggaXMgZmlyc3QuIFVzZSBzdGF2ZXMuXG4gICAgY29uc3Qgc3lsbGFibGUwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1swXSk7XG4gICAgY29uc3Qgc3lsbGFibGUxID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudElkc1sxXSk7XG4gICAgY29uc3Qgc3RhZmYwID0gc3lsbGFibGUwLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IHN0YWZmMSA9IHN5bGxhYmxlMS5jbG9zZXN0KCcuc3RhZmYnKTtcbiAgICBjb25zdCBzdGFmZkNoaWxkcmVuID0gQXJyYXkuZnJvbShzdGFmZjAucGFyZW50RWxlbWVudC5jaGlsZHJlbikuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ3N0YWZmJykpO1xuXG4gICAgbGV0IGZpcnN0U3lsbGFibGUsIHNlY29uZFN5bGxhYmxlO1xuICAgIC8vIERldGVybWluZSBmaXJzdCBzeWxsYWJsZSBjb21lcyBmaXJzdCBieSBzdGFmZlxuICAgIGlmIChzdGFmZkNoaWxkcmVuLmluZGV4T2Yoc3RhZmYwKSA8IHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjEpKSB7XG4gICAgICBmaXJzdFN5bGxhYmxlID0gc3lsbGFibGUwO1xuICAgICAgc2Vjb25kU3lsbGFibGUgPSBzeWxsYWJsZTE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZpcnN0U3lsbGFibGUgPSBzeWxsYWJsZTE7XG4gICAgICBzZWNvbmRTeWxsYWJsZSA9IHN5bGxhYmxlMDtcbiAgICB9XG5cbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGZpcnN0U3lsbGFibGUuaWQsXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcjJyArIHNlY29uZFN5bGxhYmxlLmlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBzZWNvbmRTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdmb2xsb3dzJyxcbiAgICAgICAgYXR0clZhbHVlOiAnIycgKyBmaXJzdFN5bGxhYmxlLmlkXG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gRGVsZXRlIHN5bCBvbiBzZWNvbmQgc3lsbGFibGVcbiAgICBjb25zdCBzeWwgPSBzZWNvbmRTeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJyk7XG4gICAgaWYgKHN5bCAhPT0gbnVsbCkge1xuICAgICAgcGFyYW0ucHVzaCh7XG4gICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBzeWwuaWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGNoYWluQWN0aW9uLnBhcmFtID0gcGFyYW07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdUb2dnbGVkIFN5bGxhYmxlIExpbmsnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gVG9nZ2xlIFN5bGxhYmxlIExpbmsnKTtcbiAgICB9XG4gICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIEByZXR1cm5zIFRoZSBJRHMgb2Ygc2VsZWN0ZWQgZWxlbWVudHMuXG4gKi9cbmZ1bmN0aW9uIGdldElkcyAoKTogc3RyaW5nW10ge1xuICBjb25zdCBpZHMgPSBbXTtcbiAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBlbGVtZW50cy5mb3JFYWNoKGVsID0+IHtcbiAgICBpZHMucHVzaChlbC5pZCk7XG4gIH0pO1xuICByZXR1cm4gaWRzO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiB0aGUgc2VsZWN0ZWQgZWxlbWVudHMnIGNoaWxkcmVuLlxuICovXG5mdW5jdGlvbiBnZXRDaGlsZHJlbklkcyAoKTogc3RyaW5nW10ge1xuICBjb25zdCBjaGlsZHJlbklkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGlmIChlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgY2hpbGRyZW4gPSBBcnJheS5mcm9tKGVsLmNoaWxkcmVuKTtcbiAgICBjaGlsZHJlbi5mb3JFYWNoKGNoID0+IHtcbiAgICAgIGNoaWxkcmVuSWRzLnB1c2goY2guaWQpO1xuICAgIH0pO1xuICB9KTtcbiAgcmV0dXJuIGNoaWxkcmVuSWRzO1xufVxuIiwiaW1wb3J0IHsgZ2V0U3RhZmZCQm94LCBzZWxlY3RCQm94LCBzZWxlY3RTdGFmZiwgc2VsZWN0QWxsIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIFJlc2l6ZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IGlzT3V0T2ZTVkdCb3VuZHMgfSBmcm9tICcuL0Nvb3JkaW5hdGVzJztcbmltcG9ydCB7IHF1ZXVlTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9Ob3RpZmljYXRpb24nO1xuXG4vKipcbiAqIFJlc2l6ZSBhIHN0YWZmIG9yIGEgc3lsbGFibGUgdGV4dCBib3VuZGluZyBib3guXG4gKiBGb3Igc3RhdmVzLCB0aGlzIGFsc28gc3VwcG9ydHMgYWRqdXN0aW5nIHRoZSByb3RhdGUuXG4gKi9cbnR5cGUgUG9pbnQgPSB7IHg6IG51bWJlcjsgeTogbnVtYmVyOyBuYW1lOiBudW1iZXIgfTtcblxuLyoqXG4gKiBUaGUgcG9pbnRzIHlvdSBjYW4gY2xpY2sgYW5kIGRyYWcgdG8gcmVzaXplXG4gKi9cbmNvbnN0IFBvaW50TmFtZXMgPSB7XG4gIFRvcExlZnQ6IDAsXG4gIFRvcDogMSxcbiAgVG9wUmlnaHQ6IDIsXG4gIFJpZ2h0OiAzLFxuICBCb3R0b21SaWdodDogNCxcbiAgQm90dG9tOiA1LFxuICBCb3R0b21MZWZ0OiA2LFxuICBMZWZ0OiA3XG59O1xuXG5mdW5jdGlvbiBnZXRQb2ludHModWx4OiBudW1iZXIsIHVseTogbnVtYmVyLCBscng6IG51bWJlciwgbHJ5OiBudW1iZXIsIHJvdGF0ZTogbnVtYmVyKTogUG9pbnRbXSB7XG4gIC8vIE5vdGUgdGhhdCBhcmMgZnVuY3Rpb25zIHJldHVybiBhbiBhbmdsZSB4IGluIFstcGkvMiwgcGkvMl0uXG4gIGxldCBwb2ludHM6IEFycmF5PFBvaW50PjtcbiAgLy8gdWwgaXMgdWx4LCB1bHksIGxyIGlzIGxyeCwgbHJ5XG4gIGlmIChyb3RhdGUgPj0gMCkge1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIChscnggLSB1bHgpIC8gMiAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wIH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLlRvcFJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogKHVseSArIGxyeSArIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogbHJ5LCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogbHJ5IC0gKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6ICh1bHkgKyBscnkgLSAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSkpIC8gMiwgbmFtZTogUG9pbnROYW1lcy5MZWZ0IH1cbiAgICBdO1xuICB9XG4gIC8vIE5vdCB0aGF0XG4gIGVsc2Uge1xuICAgIGNvbnN0IGEgPSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKE1hdGguYWJzKHJvdGF0ZSkpO1xuICAgIGNvbnN0IGIgPSBscnkgLSB1bHkgLSBhO1xuICAgIHBvaW50cyA9IFtcbiAgICAgIHsgeDogdWx4LCB5OiB1bHkgKyBhLCBuYW1lOiBQb2ludE5hbWVzLlRvcExlZnQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiB1bHkgKyBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyBiIC8gMiwgbmFtZTogUG9pbnROYW1lcy5SaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIsIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSBhIC8gMiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b20gfSxcbiAgICAgIHsgeDogdWx4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tTGVmdCB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgcmV0dXJuIHBvaW50cztcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHJlc2l6ZSAoZWxlbWVudDogU1ZHR3JhcGhpY3NFbGVtZW50LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBsZXQgdWx4OiBudW1iZXI7XG4gIGxldCB1bHk6IG51bWJlcjtcbiAgbGV0IGxyeDogbnVtYmVyO1xuICBsZXQgbHJ5OiBudW1iZXI7XG4gIGxldCByb3RhdGU6IG51bWJlcjtcblxuICBsZXQgaW5pdGlhbFVseDogbnVtYmVyLCBpbml0aWFsTHJ4OiBudW1iZXI7XG4gIGxldCBpbml0aWFsUG9pbnQ6IG51bWJlcltdLCBpbml0aWFsVWx5OiBudW1iZXIsIGluaXRpYWxMcnk6IG51bWJlcixcbiAgICBpbml0aWFsWTogbnVtYmVyLCBpbml0aWFsUmVjdFk6IG51bWJlciwgcG9seUxlbjogbnVtYmVyLCBkeTogbnVtYmVyLCBpbml0aWFsUm90YXRlOiBudW1iZXI7XG5cbiAgZHJhd0luaXRpYWxSZWN0KCk7XG5cbiAgLyoqXG4gICAqIFJlZHJhdyB0aGUgcmVjdGFuZ2xlIHdpdGggdGhlIG5ldyBib3VuZHNcbiAgICovXG4gIGZ1bmN0aW9uIHJlZHJhdyAoKTogdm9pZCB7XG4gICAgY29uc3QgcG9pbnRzOiBQb2ludFtdID0gZ2V0UG9pbnRzKHVseCwgdWx5LCBscngsIGxyeSwgcm90YXRlKTtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nOiBzdHJpbmcgPSBwb2ludHMuZmlsdGVyKChfZWxlbSwgaW5kZXgpID0+IHsgcmV0dXJuIGluZGV4ICUgMiA9PT0gMDsgfSlcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Jlc2l6ZVJlY3QnKS5zZXRBdHRyaWJ1dGUoJ3BvaW50cycsIHBvaW50U3RyaW5nKTtcblxuICAgIGNvbnN0IHRleHRSZWN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bC5zZWxlY3RlZCA+IC5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgaWYgKHRleHRSZWN0KSB7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3gnLCBTdHJpbmcoTWF0aC5taW4odWx4LCBscngpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3knLCBTdHJpbmcoTWF0aC5taW4odWx5LCBscnkpKSk7XG4gICAgICB0ZXh0UmVjdC5zZXRBdHRyaWJ1dGUoJ3dpZHRoJywgU3RyaW5nKE1hdGguYWJzKGxyeCAtIHVseCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgU3RyaW5nKE1hdGguYWJzKGxyeSAtIHVseSkpKTtcbiAgICB9XG5cblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KCcjcC0nICsgcG9pbnROYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpO1xuICAgIH1cblxuICAgIGxldCB4ID0gcG9pbnRzWzNdLng7XG4gICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgKHggKyA3MCkgKyAnLCcgKyAoeSArIDUwKSArICcgJyArICh4ICsgMTAwKSArICcsJyArICh5ICsgMTUpICsgJyAnICsgKHggKyAxMzApICsgJywnICsgKHkgKyA1MCk7XG4gICAgeCA9IHBvaW50c1s3XS54O1xuICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICBjb25zdCBwb2ludFN0cmluZ0xlZnQgPSAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDE1KSArICcgJyArXG4gICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpO1xuICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodCk7XG4gIH1cblxuICAvKipcbiAgICogRHJhdyB0aGUgaW5pdGlhbCByZWN0YW5nbGUgYXJvdW5kIHRoZSBlbGVtZW50XG4gICAqIGFuZCBhZGQgdGhlIGxpc3RlbmVycyB0byBzdXBwb3J0IGRyYWdnaW5nIHRvIHJlc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGRyYXdJbml0aWFsUmVjdCAoKTogdm9pZCB7XG4gICAgaWYgKGVsZW1lbnQgPT09IG51bGwpIHJldHVybjtcblxuICAgIC8vIGlmIGl0J3MgYSBib3VuZGluZ2JveCBqdXN0IGdldCB0aGUgY29vcmRpbmF0ZXNcbiAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICBjb25zdCByZWN0ID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgaWYgKHJlY3QgPT09IG51bGwpIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUcmllZCB0byBkcmF3IHJlc2l6ZSByZWN0IGZvciBhIHN5bFRleHRSZWN0IHRoYXQgZG9lc25cXCd0IGV4aXN0IChvciBpc25cXCd0IGRpc3BsYXlpbmcpJyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHVseCA9IE51bWJlcihyZWN0LmdldEF0dHJpYnV0ZSgneCcpKTtcbiAgICAgIHVseSA9IE51bWJlcihyZWN0LmdldEF0dHJpYnV0ZSgneScpKTtcbiAgICAgIGxyeCA9ICt1bHggKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJyk7XG4gICAgICBscnkgPSArdWx5ICsgK3JlY3QuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKTtcblxuICAgICAgcm90YXRlID0gMDtcbiAgICB9XG5cbiAgICAvLyBpZiBpdCdzIGEgc3RhZmYgdXNlIHRoZSBwYXRocyB0byBnZXQgaXQncyBib3VuZGluZ2JveFxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgY29uc3QgYmJveCA9IGdldFN0YWZmQkJveChlbGVtZW50KTtcbiAgICAgIHVseCA9IGJib3gudWx4O1xuICAgICAgdWx5ID0gYmJveC51bHk7XG4gICAgICBscnggPSBiYm94LmxyeDtcbiAgICAgIGxyeSA9IGJib3gubHJ5O1xuXG4gICAgICBjb25zdCBjb29yZGluYXRlczogbnVtYmVyW10gPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJ3BhdGgnKVxuICAgICAgICAuZ2V0QXR0cmlidXRlKCdkJylcbiAgICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAgIC5tYXAoZWxlbWVudCA9PiBOdW1iZXIoZWxlbWVudCkpO1xuICAgICAgcm90YXRlID0gTWF0aC5hdGFuKChjb29yZGluYXRlc1szXSAtIGNvb3JkaW5hdGVzWzFdKSAvXG4gICAgICAgIChjb29yZGluYXRlc1syXSAtIGNvb3JkaW5hdGVzWzBdKSk7XG4gICAgfVxuXG4gICAgaW5pdGlhbFVseCA9IHVseCwgaW5pdGlhbFVseSA9IHVseSwgaW5pdGlhbExyeCA9IGxyeCwgaW5pdGlhbExyeSA9IGxyeTtcblxuICAgIGxldCB3aGljaFBvaW50OiBzdHJpbmc7XG5cbiAgICBjb25zdCBwb2ludHMgPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgcG9seUxlbiA9IHBvaW50c1syXS54IC0gcG9pbnRzWzBdLng7XG5cbiAgICBjb25zdCBwb2ludFN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF8sIGluZGV4KSA9PiBpbmRleCAlIDIgPT09IDApXG4gICAgICAubWFwKGVsZW0gPT4gZWxlbS54ICsgJywnICsgZWxlbS55KVxuICAgICAgLmpvaW4oJyAnKTtcblxuICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nKVxuICAgICAgLmF0dHIoJ2lkJywgJ3Jlc2l6ZVJlY3QnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgMTApXG4gICAgICAuYXR0cignZmlsbCcsICdub25lJylcbiAgICAgIC5zdHlsZSgnY3Vyc29yJywgJ21vdmUnKVxuICAgICAgLnN0eWxlKCdzdHJva2UtZGFzaGFycmF5JywgJzIwIDEwJyk7XG5cbiAgICBmb3IgKGNvbnN0IHBvaW50TmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBjb25zdCBwb2ludDogUG9pbnQgPSBwb2ludHNbUG9pbnROYW1lc1twb2ludE5hbWVdXTtcbiAgICAgIGQzLnNlbGVjdChlbGVtZW50LnZpZXdwb3J0RWxlbWVudCkuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgICAuYXR0cignY3gnLCBwb2ludC54KVxuICAgICAgICAuYXR0cignY3knLCBwb2ludC55KVxuICAgICAgICAuYXR0cigncicsIDI1KVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDQpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncmVzaXplUG9pbnQnKVxuICAgICAgICAuYXR0cignaWQnLCAncC0nICsgcG9pbnROYW1lKTtcbiAgICB9XG5cbiAgICAvLyBkbyBpdCBhcyBhIGxvb3AgaW5zdGVhZCBvZiBzZWxlY3RBbGwgc28gdGhhdCB5b3UgY2FuIGVhc2lseSBrbm93IHdoaWNoIHBvaW50IHdhc1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiBQb2ludE5hbWVzKSB7XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBuYW1lKS5maWx0ZXIoJy5yZXNpemVQb2ludCcpLmNhbGwoXG4gICAgICAgIGQzLmRyYWcoKVxuICAgICAgICAgIC5vbignc3RhcnQnLCAoKSA9PiB7IHJlc2l6ZVN0YXJ0KG5hbWUpOyB9KVxuICAgICAgICAgIC5vbignZHJhZycsIHJlc2l6ZURyYWcpXG4gICAgICAgICAgLm9uKCdlbmQnLCByZXNpemVFbmQuYmluZCh0aGlzKSkpO1xuICAgIH1cblxuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkge1xuICAgICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICAgIGxldCB5ID0gcG9pbnRzWzNdLnk7XG4gICAgICBjb25zdCBwb2ludFN0cmluZ1JpZ2h0ID0gKHggKyAxMDApICsgJywnICsgKHkgKyA4NSkgKyAnICcgK1xuICAgICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICAgIHggPSBwb2ludHNbN10ueDtcbiAgICAgIHkgPSBwb2ludHNbN10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICAgKHggLSAxMzApICsgJywnICsgKHkgLSA1MCkgKyAnICcgKyAoeCAtIDEwMCkgKyAnLCcgKyAoeSAtIDg1KSArICcgJyArICh4IC0gNzApICsgJywnICsgKHkgLSA1MCk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdSaWdodClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3JvdGF0ZVJpZ2h0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnIycgKyBlbGVtZW50LmlkKS5hcHBlbmQoJ3BvbHlnb24nKVxuICAgICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmdMZWZ0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlTGVmdCcpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNylcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyb3RhdGVQb2ludCcpO1xuXG4gICAgICBkMy5zZWxlY3QoJyNyb3RhdGVMZWZ0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdMZWZ0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZVJpZ2h0JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsIHJvdGF0ZVN0YXJ0KVxuICAgICAgICAgIC5vbignZHJhZycsIHJvdGF0ZURyYWdSaWdodClcbiAgICAgICAgICAub24oJ2VuZCcsIHJvdGF0ZUVuZCkpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZVN0YXJ0IChuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgICAgIHdoaWNoUG9pbnQgPSBuYW1lO1xuICAgICAgY29uc3QgcG9pbnQgPSBwb2ludHMuZmluZChwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzW25hbWVdKTtcbiAgICAgIGluaXRpYWxQb2ludCA9IFtwb2ludC54LCBwb2ludC55XTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZURyYWcgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFBvaW50ID0gZDMubW91c2UodGhpcyk7XG4gICAgICBzd2l0Y2ggKFBvaW50TmFtZXNbd2hpY2hQb2ludF0pIHtcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcExlZnQ6XG4gICAgICAgICAgdWx4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlRvcDpcbiAgICAgICAgICB1bHkgPSBjdXJyZW50UG9pbnRbMV0gLSAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLlJpZ2h0OlxuICAgICAgICAgIGxyeCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBpbml0aWFsTHJ5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBQb2ludE5hbWVzLkJvdHRvbTpcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkgLyAyO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdICsgKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gaW5pdGlhbFVseSArIChjdXJyZW50UG9pbnRbMF0gLSBpbml0aWFsUG9pbnRbMF0pICogTWF0aC50YW4ocm90YXRlKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdTb21ldGhpbmcgdGhhdCB3YXNuXFwndCBhIHNpZGUgb2YgdGhlIHJlY3RhbmdsZSB3YXMgZHJhZ2dlZC4gVGhpcyBzaG91bGRuXFwndCBoYXBwZW4uJyk7XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNpemVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHModWx4LCB1bHkpIHx8IGlzT3V0T2ZTVkdCb3VuZHMobHJ4LCBscnkpKSB7XG4gICAgICAgIHVseCA9IGluaXRpYWxVbHgsIHVseSA9IGluaXRpYWxVbHksIGxyeCA9IGluaXRpYWxMcngsIGxyeSA9IGluaXRpYWxMcnk7XG4gICAgICAgIHJlZHJhdygpO1xuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSZXNpemUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBSZXNpemVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgfVxuICAgICAgICBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKTtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkLCB1bHkgPSB1bmRlZmluZWQsIGxyeCA9IHVuZGVmaW5lZCwgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgICAgICBkMy5zZWxlY3RBbGwoJyNyZXNpemVSZWN0JykucmVtb3ZlKCk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgICAgIGRyYXdJbml0aWFsUmVjdCgpO1xuICAgICAgICBcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7ZWxlbWVudC5pZH1gKSwgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtb3JlRWRpdCcpO1xuXG4gICAgICAgICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICAgICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvLyBST1RBVEVcbiAgICBmdW5jdGlvbiByb3RhdGVTdGFydCAoKTogdm9pZCB7XG4gICAgICBjb25zdCB3aGljaCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldC5pZDtcbiAgICAgIGluaXRpYWxZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBpbml0aWFsTHJ5ID0gbHJ5O1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxSZWN0WSA9ICh3aGljaCA9PT0gJ3JvdGF0ZVJpZ2h0JyA/IGxyeSA6IHVseSk7XG4gICAgICBpbml0aWFsUm90YXRlID0gcm90YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZURyYWdMZWZ0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlIC0gTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgdWx5ID0gaW5pdGlhbFJlY3RZICsgZHk7XG4gICAgICAgIHJvdGF0ZSA9IHRlbXBSb3RhdGU7XG4gICAgICAgIGlmIChyb3RhdGUgPj0gMCkge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BSaWdodClbMF0ueTtcbiAgICAgICAgICBscnkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnUmlnaHQgKCk6IHZvaWQge1xuICAgICAgY29uc3QgY3VycmVudFkgPSBkMy5tb3VzZSh0aGlzKVsxXTtcbiAgICAgIGNvbnN0IHRlbXAgPSBjdXJyZW50WSAtIGluaXRpYWxZO1xuICAgICAgY29uc3QgdGVtcFJvdGF0ZSA9IGluaXRpYWxSb3RhdGUgKyBNYXRoLmF0YW4odGVtcCAvIHBvbHlMZW4pO1xuICAgICAgaWYgKHRlbXBSb3RhdGUgPiAtMC4yICYmIHRlbXBSb3RhdGUgPCAwLjIpIHtcbiAgICAgICAgZHkgPSB0ZW1wO1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDAgKSB7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tUmlnaHQpWzBdLnk7XG4gICAgICAgICAgdWx5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcExlZnQpWzBdLnk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdWx5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbUxlZnQpWzBdLnk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJvdGF0ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoZHkgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBkeSA9IDA7XG4gICAgICB9XG5cbiAgICAgIGlmIChpc091dE9mU1ZHQm91bmRzKHVseCwgdWx5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCwgbHJ5KSkge1xuICAgICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcucmVzaXplUG9pbnQnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnI3Jlc2l6ZVJlY3QnKS5mb3JFYWNoKGVsID0+IGVsLnJlbW92ZSgpKTtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJvdGF0ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG5cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQ7XG4gICAgICAgIHVseSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ4ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZWxlbWVudCwgZHJhZ0hhbmRsZXIpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJvdGF0ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplUm90YXRlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnksXG4gICAgICAgICAgcm90YXRlOiByb3RhdGUgKiAxODAgLyBNYXRoLlBJXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGF3YWl0IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxlbWVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnQuaWQpIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICB1bHggPSB1bmRlZmluZWQ7XG4gICAgICAgIHVseSA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ4ID0gdW5kZWZpbmVkO1xuICAgICAgICBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGR5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkcmF3SW5pdGlhbFJlY3QoKTtcbiAgICAgICAgc2VsZWN0QWxsKFtlbGVtZW50XSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSkge1xuICAgICAgICAgIHNlbGVjdEJCb3goZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCBkcmFnSGFuZGxlciwgdGhpcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc2VsZWN0U3RhZmYoZWxlbWVudCwgZHJhZ0hhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsIi8qKiBAbW9kdWxlIHV0aWxzL1NlbGVjdCAqL1xuXG5pbXBvcnQgeyB1bnNlbGVjdCwgZ2V0U3RhZmZCQm94LCBzZWxlY3RTdGFmZiwgc2VsZWN0QWxsLCBnZXRTZWxlY3Rpb25UeXBlIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5pbXBvcnQgeyByZXNpemUgfSBmcm9tICcuL1Jlc2l6ZSc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERyYWdIYW5kbGVyIGZyb20gJy4vRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgSW5mb0ludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4uL1NpbmdsZVZpZXcvWm9vbSc7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGdldFN0YWZmQnlDb29yZHMsIFBvaW50IH0gZnJvbSAnLi9Db29yZGluYXRlcyc7XG5cbmxldCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldywgaW5mbzogSW5mb0ludGVyZmFjZSwgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyO1xubGV0IHN0cm9rZVdpZHRoID0gNztcblxuLyoqXG4gKiBTZXQgc3Ryb2tlIHdpZHRoIG9uIGRyYWcgc2VsZWN0IGJveC5cbiAqIEBwYXJhbSB3aWR0aCAtIFN0cm9rZSB3aWR0aCBpbiBwaXhlbHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3RTdHJva2VXaWR0aCAod2lkdGg6IG51bWJlcik6IHZvaWQge1xuICBzdHJva2VXaWR0aCA9IHdpZHRoO1xufVxuXG4vKipcbiAqIFNldCB0aGUgb2JqZWN0cyBmb3IgdGhpcyBtb2R1bGUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZWxlY3RIZWxwZXJPYmplY3RzIChudjogTmVvblZpZXcsIGRoOiBEcmFnSGFuZGxlcik6IHZvaWQge1xuICBkcmFnSGFuZGxlciA9IGRoO1xuICBuZW9uVmlldyA9IG52O1xuICBpbmZvID0gbmVvblZpZXcuaW5mbztcbiAgem9vbUhhbmRsZXIgPSBuZW9uVmlldy52aWV3Lnpvb21IYW5kbGVyO1xufVxuXG5mdW5jdGlvbiBlc2NhcGVLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpLmxlbmd0aCA+IDApIHtcbiAgICAgIGluZm8uaW5mb0xpc3RlbmVycygpO1xuICAgIH1cbiAgICB1bnNlbGVjdCgpO1xuICB9XG59XG5cbi8vIEVOVEVSIEtFWTogd2hlbiBhIEJCb3ggaXMgc2VsZWN0ZWQsIHByZXNzaW5nIGVudGVyIHdpbGxcbi8vICAgdHJpZ2dlciB0aGUgZWRpdCBzeWxsYWJsZSB0ZXh0IGZ1bmN0aW9uLlxuZnVuY3Rpb24gZW50ZXJLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIC8vIGNoZWNrIGlmICdlbnRlcicgaXMgcHJlc3NlZCB3aXRoIHRoZSBjb3JyZWN0IGNvbmRpdGlvbnNcbiAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCdcbiAgICB8fCAhKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWRcbiAgICB8fCBldnQua2V5ICE9PSAnRW50ZXInXG4gIClcbiAgICByZXR1cm47XG5cbiAgY29uc3Qgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsbGFibGUtaGlnaGxpZ2h0ZWQnKTtcblxuICAvLyBjaGVjayBpZiB0aGVyZSBpcyBhIHN5bGxhYmxlIHNlbGVjdGVkXG4gIGlmIChzZWxlY3RlZCkge1xuICAgIGNvbnN0IHNwYW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdzcGFuLicgKyBzZWxlY3RlZC5pZCkgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICAvLyB3ZSBzaW11bGF0ZSBhIGNsaWNrIGJlY2F1c2UgdGhlIG1ldGhvZCBgdXBkYXRlU3lsVGV4dCgpYCBpcyBvbmx5XG4gICAgLy8gYWNjZXNzaWJsZSBpbnNpZGUgVGV4dEVkaXRNb2RlOyB0aGUgc3BhbiBoYXMgYW4gZXZlbnQgbGlzdGVuZXIgZm9yXG4gICAgLy8gY2xpY2tzLlxuICAgIHNwYW4uY2xpY2soKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJvd0tleUxpc3RlbmVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCcgfHwgKGV2dC5rZXkgIT09ICdBcnJvd0xlZnQnICYmIGV2dC5rZXkgIT09ICdBcnJvd1JpZ2h0JykpXG4gICAgcmV0dXJuO1xuXG4gIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlJykpO1xuXG4gIC8vIG5vdCBhbGwgc3lsbGFibGVzIGhhdmUgQkJveGVzOyB3ZSBtdXN0IGZpbHRlciB0aGVtIG91dFxuICBjb25zdCBiYm94U3lsbGFibGVzID0gc3lsbGFibGVzLmZpbHRlcihzeWwgPT4gc3lsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgIT09IG51bGwpO1xuICBjb25zdCBpbmQgPSBiYm94U3lsbGFibGVzLmluZGV4T2Yoc2VsZWN0ZWQpO1xuXG4gIGlmIChldnQua2V5ID09PSAnQXJyb3dMZWZ0JyAmJiBpbmQgPiAwKSB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3ggPSBiYm94U3lsbGFibGVzW2luZCAtIDFdLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgc2VsZWN0QWxsKFtiYm94IGFzIFNWR0dyYXBoaWNzRWxlbWVudF0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ0Fycm93UmlnaHQnICYmIGluZCA8IGJib3hTeWxsYWJsZXMubGVuZ3RoIC0gMSkge1xuICAgIHVuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBiYm94ID0gYmJveFN5bGxhYmxlc1tpbmQgKyAxXS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIHNlbGVjdEFsbChbYmJveCBhcyBTVkdHcmFwaGljc0VsZW1lbnRdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzU2VsQnlCQm94ICgpOiBib29sZWFuIHtcbiAgY29uc3Qgc2VsQnlCQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpO1xuICBpZiAoc2VsQnlCQm94KSB7XG4gICAgcmV0dXJuIHNlbEJ5QkJveC5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gc3RvcFByb3BIYW5kbGVyIChldnQ6IEV2ZW50KTogdm9pZCB7IGV2dC5zdG9wUHJvcGFnYXRpb24oKTsgfVxuXG4vKipcbiAqIEdldCBib3VuZGluZyBib3ggb2YgYW4gZWxlbWVudFxuICovXG5mdW5jdGlvbiBnZXRCQm94Q29vcmRzIChlbDogU1ZHR3JhcGhpY3NFbGVtZW50KTogQkJveCB7XG4gIGlmIChpc1NlbEJ5QkJveCgpKSB7XG4gICAgY29uc3QgdWx4ID0gTnVtYmVyKGVsLmdldEF0dHJpYnV0ZSgneCcpKSwgdWx5ID0gTnVtYmVyKGVsLmdldEF0dHJpYnV0ZSgneScpKTtcbiAgICAvLyBXaGF0IGlzIHRoZSBtYXRoIGhlcmU/Pz9cbiAgICBjb25zdCBscnggPSB1bHggKyBOdW1iZXIoKGVsLmdldEF0dHJpYnV0ZSgnd2lkdGgnKS5zbGljZSgwLCAtMikpKTtcbiAgICBjb25zdCBscnkgPSB1bHkgKyBOdW1iZXIoKGVsLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jykuc2xpY2UoMCwgLTIpKSk7XG5cbiAgICByZXR1cm4geyB1bHgsIHVseSwgbHJ4LCBscnkgfTtcbiAgfVxuXG4gIGlmIChlbC50YWdOYW1lID09PSAndXNlJykge1xuICAgIGNvbnN0IHJlY3QgPSAoZWwucGFyZW50Tm9kZSBhcyBTVkdHRWxlbWVudCkuZ2V0QkJveCgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgIHVseDogcmVjdC54LFxuICAgICAgdWx5OiByZWN0LnksXG4gICAgICBscng6IHJlY3QueCArIHJlY3Qud2lkdGgsXG4gICAgICBscnk6IHJlY3QueSArIHJlY3QuaGVpZ2h0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBnZXRTdGFmZkJCb3goZWwpO1xufVxuXG5cbi8qKlxuICogQ2hlY2tzIHdoZXRoZXIgYW4gZWxlbWVudCBpcyB3aXRoaW4gdGhlIGRyYWcgc2VsZWN0aW9uIHJlY3RhbmdsZS5cbiAqIFJldHVybnMgdHJ1ZSBpZiB0aGUgZWxlbWVudCBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiBgdWxgICh1cHBlciBsZWZ0KSBhbmQgYGxyYCAobG93ZXIgcmlnaHQpXG4gKi9cbmZ1bmN0aW9uIGlzRWxlbWVudEluUmVjdChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCB1bDogUG9pbnQsIGxyOiBQb2ludCk6IGJvb2xlYW4ge1xuICBpZiAoaXNTZWxCeUJCb3goKSB8fCBlbC50YWdOYW1lID09PSAndXNlJykge1xuICAgIGNvbnN0IGJib3ggPSBnZXRCQm94Q29vcmRzKGVsKTtcbiAgICBcbiAgICAvLyBXZSB3YW50IHRvIGZpbmQgd2hldGhlciB0aGUgYm91bmRpbmcgYm94IG92ZXJsYXBzIHdpdGggdGhlIHJlY3RhbmdsZVxuICAgIC8vIGRlZmluZWQgYnkgYHVsYCBhbmQgYGxyYC4gVGhlIGVhc2llc3Qgc29sdXRpb24gaXMgdG8gbmVnYXRlIGEgc3VtLW9mLXByb2R1Y3RzIGVxdWF0aW9uOlxuICAgIC8vIGkuZS4sIHRoZXJlIGFyZSA0IHBvc3NpYmlsaXRpZXMgaW4gd2hpY2ggdGhlIHR3byAqZG9uJ3QqIG92ZXJsYXBcbiAgICByZXR1cm4gIShsci54IDwgYmJveC51bHggfHwgdWwueCA+IGJib3gubHJ4IHx8IGxyLnkgPCBiYm94LnVseSB8fCB1bC55ID4gYmJveC5scnkpO1xuICB9XG5cbiAgLy8gVE9ETzogU2ltcGxpZnlcbiAgY29uc3QgYm94ID0gZ2V0U3RhZmZCQm94KGVsKTtcbiAgcmV0dXJuICEoKHVsLnggPCBib3gudWx4ICYmIGxyLnggPCBib3gudWx4KSB8fCAodWwueCA+IGJveC5scnggJiYgbHIueCA+IGJveC5scngpIHx8XG4gICAgICAgICAgKHVsLnkgPCAoYm94LnVseSArIE1hdGguYWJzKGJveC51bHggLSB1bC54KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSAmJlxuICAgICAgICAgICAgbHIueSA8IChib3gudWx5ICsgTWF0aC5hYnMoYm94LnVseCAtIHVsLngpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpKSB8fFxuICAgICAgICAgICh1bC55ID4gKGJveC5scnkgKyBNYXRoLmFicyhib3gubHJ5IC0gbHIueSkgKiBNYXRoLnRhbihib3gucm90YXRlKSkgJiZcbiAgICAgICAgICAgIGxyLnkgPiAoYm94LmxyeSArIE1hdGguYWJzKGJveC5scnkgLSBsci55KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSkpO1xufVxuXG4vKipcbiAqIEFwcGx5IGxpc3RlbmVycyBmb3IgY2xpY2sgc2VsZWN0aW9uLlxuICogQHBhcmFtIHNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvciB1c2VkIHRvIGNob29zZSB3aGVyZSBsaXN0ZW5lcnMgYXJlIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBjbGlja1NlbGVjdCAoc2VsZWN0b3I6IHN0cmluZyk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yKS5mb3JFYWNoKHNlbCA9PiB7XG4gICAgc2VsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGNsaWNrSGFuZGxlcik7XG4gICAgc2VsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGNsaWNrSGFuZGxlcik7XG4gIH0pO1xuXG4gIC8vIENsaWNrIGF3YXkgbGlzdGVuZXJzXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY2FwZUtleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjYXBlS2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVudGVyS2V5TGlzdGVuZXIpO1xuICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlcktleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBhcnJvd0tleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXJyb3dLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGV2dCkgPT4geyBldnQucHJldmVudERlZmF1bHQoKTsgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgndXNlLHJlY3QsI21vcmVFZGl0JykuZm9yRWFjaChzZWwgPT4ge1xuICAgIHNlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BQcm9wSGFuZGxlcik7XG4gICAgc2VsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc3RvcFByb3BIYW5kbGVyKTtcbiAgfSk7XG59XG5cbi8qKlxuICogSGFuZGxlIGNsaWNrIGV2ZW50cyByZWxhdGVkIHRvIGVsZW1lbnQgc2VsZWN0aW9uLlxuICovXG5cbi8vIFRoZSBgdGhpc2Aga2V5d29yZCBjYW4gYmUgXCJwYXNzZWRcIiBhcyBhIGZha2UgcGFyYW1ldGVyIHNvIHRoYXQgd2UgY2FuIHR5cGUgaXQgY29ycmVjdGx5XG4vLyBodHRwczovL3d3dy50eXBlc2NyaXB0bGFuZy5vcmcvZG9jcy9oYW5kYm9vay8yL2Z1bmN0aW9ucy5odG1sI2RlY2xhcmluZy10aGlzLWluLWEtZnVuY3Rpb25cbmZ1bmN0aW9uIGNsaWNrSGFuZGxlciAodGhpczogU1ZHR3JhcGhpY3NFbGVtZW50LCBldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgLy8gUmV0dXJuIGlmIHVzZXIgaXMgaW4gaW5zZXJ0IG1vZGUgb3IgcGFubmluZyBpcyBhY3RpdmUgZnJvbSBzaGlmdCBrZXlcbiAgaWYgKCFuZW9uVmlldyB8fCBuZW9uVmlldy5nZXRVc2VyTW9kZSgpID09PSAnaW5zZXJ0JyB8fCBldnQuc2hpZnRLZXkpXG4gICAgcmV0dXJuO1xuXG4gIC8vIEhlbHBlciBmdW5jdGlvbiB0byBjaGVjayBpZiB0aGUgY3RybC9jbWQga2V5IGhhcyBiZWVuIHNlbGVjdGVkXG4gIGZ1bmN0aW9uIGlzTXVsdGlTZWxlY3QgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiB3aW5kb3cubmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvTWFjLykgPyBldnQubWV0YUtleSA6IGV2dC5jdHJsS2V5O1xuICB9XG5cbiAgLy8gSWYgdXNlciBoYXMgY2xpY2tlZCBhIGxheWVyIGVsZW1lbnRcbiAgaWYgKHRoaXMudGFnTmFtZSA9PT0gJ3VzZScgJiYgZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlCQm94Jykge1xuICAgIGlmICh0aGlzLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICBsZXQgc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXSA9IFt0aGlzXTtcblxuICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBpcyBwYXJ0IG9mIGEgbGlnYXR1cmUgYW5kLCBpZiBzbywgYWRkIGFsbCBvZiBpdCB0byB0aGUgc2VsZWN0aW9uLlxuICAgICAgY29uc3QgZmlyc3RMaWdhdHVyZUhhbGYgPSAvRTlCWzQ1Njc4XS87XG4gICAgICBjb25zdCBzZWNvbmRMaWdhdHVyZUhhbGYgPSAvRTlCWzlBQkNdLztcbiAgICAgIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKHNlY29uZExpZ2F0dXJlSGFsZikpIHtcbiAgICAgICAgLy8gVGhpcyBpcyB0aGUgc2Vjb25kIHBhcnQgb2YgYSBsaWdhdHVyZVxuICAgICAgICBjb25zdCBuYyA9IHRoaXMuY2xvc2VzdCgnLm5jJyk7XG4gICAgICAgIGNvbnN0IG5ldW1lID0gdGhpcy5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgY29uc3QgbmNJbmRleCA9IEFycmF5LmZyb20obmV1bWUuY2hpbGRyZW4pLmluZGV4T2YobmMpO1xuICAgICAgICBjb25zdCBmaXJzdFVzZSA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggLSAxXS5jaGlsZHJlblswXSBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgICAgIGNvbnNvbGUuYXNzZXJ0KGZpcnN0VXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKGZpcnN0TGlnYXR1cmVIYWxmKSwgJ0ZpcnN0IGdseXBoIG9mIGxpZ2F0dXJlIHVuZXhwZWN0ZWQhJyk7XG5cbiAgICAgICAgaWYgKGZpcnN0VXNlLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnVuc2hpZnQoZmlyc3RVc2UpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goZmlyc3RMaWdhdHVyZUhhbGYpKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIGZpcnN0IHBhcnQgb2YgYSBsaWdhdHVyZVxuICAgICAgICBjb25zdCBuYyA9IHRoaXMuY2xvc2VzdCgnLm5jJyk7XG4gICAgICAgIGNvbnN0IG5ldW1lID0gdGhpcy5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgY29uc3QgbmNJbmRleCA9IEFycmF5LmZyb20obmV1bWUuY2hpbGRyZW4pLmluZGV4T2YobmMpO1xuICAgICAgICBjb25zdCBzZWNvbmRVc2UgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4ICsgMV0uY2hpbGRyZW5bMF0gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBjb25zb2xlLmFzc2VydChzZWNvbmRVc2UuZ2V0QXR0cmlidXRlKCd4bGluazpocmVmJykubWF0Y2goc2Vjb25kTGlnYXR1cmVIYWxmKSwgJ1NlY29uZCBnbHlwaCBvZiBsaWdhdHVyZSB1bmV4cGVjdGVkIScpO1xuXG4gICAgICAgIGlmIChzZWNvbmRVc2UuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgICAgICBzZWxlY3Rpb24ucHVzaChzZWNvbmRVc2UpO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKSk7XG4gICAgICB9XG5cbiAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgY29uc3Qgc2VsZWN0aW9uTW9kZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zZWwtYnkgLmlzLWFjdGl2ZScpLmlkO1xuICAgICAgICBjb25zdCBtb2RlVG9DbGFzcyA9IHtcbiAgICAgICAgICBzZWxCeVN0YWZmOiAnLnN0YWZmJyxcbiAgICAgICAgICBzZWxCeU5ldW1lOiAnLm5ldW1lJyxcbiAgICAgICAgICBzZWxCeU5jOiAnLm5jJyxcbiAgICAgICAgICBzZWxCeUxheWVyRWxlbWVudDogJy5hY2NpZCcsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkQ2xhc3MgPSBtb2RlVG9DbGFzc1tzZWxlY3Rpb25Nb2RlXSB8fCAnLnN5bGxhYmxlJztcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW3RoaXMuY2xvc2VzdChzZWxlY3RlZENsYXNzKV07XG5cbiAgICAgICAgbGV0IHNlbGVjdGlvbiA9IFtdO1xuICAgICAgICBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIXJlbW92ZS5pbmNsdWRlcyhlbCkpO1xuXG4gICAgICAgIHNlbGVjdEFsbChzZWxlY3Rpb24sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIGlmICgoZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudCkudGFnTmFtZSA9PT0gJ3JlY3QnICYmIGdldFNlbGVjdGlvblR5cGUoKSA9PT0gJ3NlbEJ5QkJveCcpIHtcbiAgICBpZiAodGhpcy5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgbGV0IHNlbGVjdGlvbiA9IFtldnQudGFyZ2V0XSBhcyBTVkdHRWxlbWVudFtdO1xuICAgICAgaWYgKGlzTXVsdGlTZWxlY3QoKSkge1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uY29uY2F0KEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSkgYXMgU1ZHR0VsZW1lbnRbXSk7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5tYXAoIChlbCkgPT4ge1xuICAgICAgICAgIGlmIChlbC50YWdOYW1lID09ICdyZWN0Jykge1xuICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LURpc3BsYXknKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgY29uc3QgcmVtb3ZlID0gW3RoaXNdO1xuICAgICAgICBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24ubWFwKCAoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PSAncmVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1EaXNwbGF5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKCAoZWwpID0+IHtcbiAgICAgICAgICByZXR1cm4gIXJlbW92ZS5pbmNsdWRlcyhlbCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeVN0YWZmJykge1xuICAgICAgaW5mby5pbmZvTGlzdGVuZXJzKCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgaWYgdGhlIHBvaW50IGlzIGluIGEgc3RhZmYuXG4gICAgaWYgKCFpc011bHRpU2VsZWN0KCkpXG4gICAgICB1bnNlbGVjdCgpO1xuXG4gICAgLy8gU2VsZWN0IGEgc3RhZmZcbiAgICBjb25zdCBzdGFmZiA9IGdldFN0YWZmQnlDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBcbiAgICBpZiAoIXN0YWZmKSByZXR1cm47XG5cbiAgICBpZiAoIXN0YWZmLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgLy8gU2VsZWN0IHByZXZpb3VzbHkgdW5zZWxlY3RlZCBzdGFmZlxuICAgICAgc2VsZWN0U3RhZmYoc3RhZmYsIGRyYWdIYW5kbGVyKTtcbiAgICAgIHJlc2l6ZShzdGFmZiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH1cbiAgICAvLyBUcmlnZ2VyIG1vdXNlZG93biBldmVudCBvbiB0aGUgc3RhZmZcbiAgICBzdGFmZi5kaXNwYXRjaEV2ZW50KG5ldyBNb3VzZUV2ZW50KCdtb3VzZWRvd24nLCB7XG4gICAgICBzY3JlZW5YOiBldnQuc2NyZWVuWCxcbiAgICAgIHNjcmVlblk6IGV2dC5zY3JlZW5ZLFxuICAgICAgY2xpZW50WDogZXZ0LmNsaWVudFgsXG4gICAgICBjbGllbnRZOiBldnQuY2xpZW50WSxcbiAgICAgIGN0cmxLZXk6IGV2dC5jdHJsS2V5LFxuICAgICAgc2hpZnRLZXk6IGV2dC5zaGlmdEtleSxcbiAgICAgIGFsdEtleTogZXZ0LmFsdEtleSxcbiAgICAgIG1ldGFLZXk6IGV2dC5tZXRhS2V5LFxuICAgICAgdmlldzogZXZ0LnZpZXdcbiAgICB9KSk7XG4gIH1cbn1cblxuLyoqXG4gKiBBcHBseSBsaXN0ZW5lcnMgZm9yIGRyYWcgc2VsZWN0aW9uLlxuICogQHBhcmFtIHNlbGVjdG9yIC0gVGhlIENTUyBzZWxlY3RvciB1c2VkIHRvIGNob29zZSB3aGVyZSBsaXN0ZW5lcnMgYXJlIGFwcGxpZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkcmFnU2VsZWN0IChzZWxlY3Rvcjogc3RyaW5nKTogdm9pZCB7XG4gIGxldCBpbml0aWFsWCA9IDA7XG4gIGxldCBpbml0aWFsWSA9IDA7XG4gIGxldCBwYW5uaW5nID0gZmFsc2U7XG4gIGxldCBkcmFnU2VsZWN0aW5nID0gZmFsc2U7XG4gIC8vIHZhciBjYW52YXMgPSBkMy5zZWxlY3QoJyNzdmdfZ3JvdXAnKTtcblxuICBjb25zdCBjYW52YXMgPSBkMy5zZWxlY3Qoc2VsZWN0b3IpO1xuXG4gIC8qKlxuICAgKiBDaGVjayBpZiBhIHBvaW50IGlzIGluIHRoZSBib3VuZHMgb2YgYSBzdGFmZiBlbGVtZW50LlxuICAgKiBSb3RhdGUgaXMgbm90IHRha2VuIGludG8gYWNjb3VudC5cbiAgICovXG4gIGZ1bmN0aW9uIHBvaW50Tm90SW5TdGFmZiAocHQ6IG51bWJlcltdKTogYm9vbGVhbiB7XG4gICAgY29uc3Qgc3RhdmVzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzdGFmZicpKTtcbiAgICBjb25zdCBmaWx0ZXJlZCA9IHN0YXZlcy5maWx0ZXIoKHN0YWZmOiBTVkdHRWxlbWVudCkgPT4ge1xuICAgICAgY29uc3QgYmJveCA9IGdldFN0YWZmQkJveChzdGFmZik7XG4gICAgICBjb25zdCB1bHggPSBiYm94LnVseDtcbiAgICAgIGNvbnN0IHVseSA9IGJib3gudWx5O1xuICAgICAgY29uc3QgbHJ4ID0gYmJveC5scng7XG4gICAgICBjb25zdCBscnkgPSBiYm94LmxyeTtcbiAgICAgIGNvbnN0IHJvdGF0ZSA9IGJib3gucm90YXRlO1xuXG4gICAgICByZXR1cm4gKHB0WzBdID4gdWx4ICYmIHB0WzBdIDwgbHJ4KSAmJlxuICAgICAgICAocHRbMV0gPiAodWx5ICsgKHB0WzBdIC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSkpKSAmJlxuICAgICAgICAocHRbMV0gPCAobHJ5IC0gKGxyeCAtIHB0WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSkpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gKGZpbHRlcmVkLmxlbmd0aCA9PT0gMCk7XG4gIH1cblxuICAvKipcbiAgICAgKiBDcmVhdGUgYW4gaW5pdGlhbCBkcmFnZ2luZyByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHVseCAtIFRoZSB1cHBlciBsZWZ0IHgtcG9zaXRpb24gb2YgdGhlIG5ldyByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIHVseSAtIFRoZSB1cHBlciBsZWZ0IHktcG9zaXRpb24gb2YgdGhlIG5ldyByZWN0YW5nbGUuXG4gICAgICovXG4gIGZ1bmN0aW9uIGluaXRSZWN0ICh1bHg6IG51bWJlciwgdWx5OiBudW1iZXIpOiB2b2lkIHtcbiAgICBjYW52YXMuYXBwZW5kKCdyZWN0JylcbiAgICAgIC5hdHRyKCd4JywgdWx4KVxuICAgICAgLmF0dHIoJ3knLCB1bHkpXG4gICAgICAuYXR0cignd2lkdGgnLCAwKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIDApXG4gICAgICAuYXR0cignaWQnLCAnc2VsZWN0UmVjdCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCBzdHJva2VXaWR0aClcbiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbFN0YXJ0ICgpOiB2b2lkIHtcbiAgICBpZiAoIW5lb25WaWV3KSByZXR1cm47XG4gICAgY29uc3QgdXNlck1vZGUgPSBuZW9uVmlldy5nZXRVc2VyTW9kZSgpO1xuICAgIGlmIChkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQubm9kZU5hbWUgIT09ICd1c2UnICYmIHVzZXJNb2RlICE9PSAnaW5zZXJ0JyAmJiBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQubm9kZU5hbWUgIT09ICdyZWN0Jykge1xuICAgICAgaWYgKCFkMy5ldmVudC5zb3VyY2VFdmVudC5zaGlmdEtleSkgeyAvLyBJZiBub3QgaG9sZGluZyBkb3duIHNoaWZ0IGtleSB0byBwYW5cbiAgICAgICAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykgfHxcbiAgICAgICAgICBwb2ludE5vdEluU3RhZmYoZDMubW91c2UodGhpcykpKSB7XG4gICAgICAgICAgdW5zZWxlY3QoKTtcbiAgICAgICAgICBkcmFnU2VsZWN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICBjb25zdCBpbml0aWFsUCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgICAgIGluaXRpYWxYID0gaW5pdGlhbFBbMF07XG4gICAgICAgICAgaW5pdGlhbFkgPSBpbml0aWFsUFsxXTtcbiAgICAgICAgICBpbml0UmVjdChpbml0aWFsWCwgaW5pdGlhbFkpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYW5uaW5nID0gdHJ1ZTtcbiAgICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICB6b29tSGFuZGxlci5zdGFydERyYWcoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQuc2hpZnRLZXkpIHtcbiAgICAgIHBhbm5pbmcgPSB0cnVlO1xuICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgem9vbUhhbmRsZXIuc3RhcnREcmFnKCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAgICogVXBkYXRlIHRoZSBkcmFnZ2luZyByZWN0YW5nbGUuXG4gICAgICogQHBhcmFtIG5ld1ggLSBUaGUgbmV3IHVseC5cbiAgICAgKiBAcGFyYW0gbmV3WSAtIFRoZSBuZXcgdWx5LlxuICAgICAqIEBwYXJhbSBjdXJyZW50V2lkdGggLSBUaGUgd2lkdGggb2YgdGhlIHJlY3RhbmdsZSBpbiBwaXhlbHMuXG4gICAgICogQHBhcmFtIGN1cnJlbnRIZWlnaHQgLSBUaGUgaGVpZ2h0IG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzLlxuICAgICAqL1xuICBmdW5jdGlvbiB1cGRhdGVSZWN0IChuZXdYOiBudW1iZXIsIG5ld1k6IG51bWJlciwgY3VycmVudFdpZHRoOiBudW1iZXIsIGN1cnJlbnRIZWlnaHQ6IG51bWJlcik6IHZvaWQge1xuICAgIGQzLnNlbGVjdCgnI3NlbGVjdFJlY3QnKVxuICAgICAgLmF0dHIoJ3gnLCBuZXdYKVxuICAgICAgLmF0dHIoJ3knLCBuZXdZKVxuICAgICAgLmF0dHIoJ3dpZHRoJywgY3VycmVudFdpZHRoKVxuICAgICAgLmF0dHIoJ2hlaWdodCcsIGN1cnJlbnRIZWlnaHQpO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RWxlbWVudHNCeVNlbGVjdG9yIChzZWxlY3Rvcjogc3RyaW5nKTogU1ZHR3JhcGhpY3NFbGVtZW50W10ge1xuICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyB1c2UsICcgKyBzZWxlY3RvciArICcgLnN0YWZmJykpO1xuXG4gICAgaWYgKGlzU2VsQnlCQm94KCkpXG4gICAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyAuc3lsVGV4dFJlY3QtZGlzcGxheScpKTtcblxuICAgIHJldHVybiBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoc2VsZWN0b3IgKyAnIHVzZScpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdGluZyAoKTogdm9pZCB7XG4gICAgaWYgKCFwYW5uaW5nICYmIGRyYWdTZWxlY3RpbmcpIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRQdCA9IGQzLm1vdXNlKHRoaXMpO1xuICAgICAgY29uc3QgY3VyWCA9IGN1cnJlbnRQdFswXTtcbiAgICAgIGNvbnN0IGN1clkgPSBjdXJyZW50UHRbMV07XG5cbiAgICAgIGNvbnN0IG5ld1ggPSBjdXJYIDwgaW5pdGlhbFggPyBjdXJYIDogaW5pdGlhbFg7XG4gICAgICBjb25zdCBuZXdZID0gY3VyWSA8IGluaXRpYWxZID8gY3VyWSA6IGluaXRpYWxZO1xuICAgICAgY29uc3Qgd2lkdGggPSBjdXJYIDwgaW5pdGlhbFggPyBpbml0aWFsWCAtIGN1clggOiBjdXJYIC0gaW5pdGlhbFg7XG4gICAgICBjb25zdCBoZWlnaHQgPSBjdXJZIDwgaW5pdGlhbFkgPyBpbml0aWFsWSAtIGN1clkgOiBjdXJZIC0gaW5pdGlhbFk7XG5cbiAgICAgIHVwZGF0ZVJlY3QobmV3WCwgbmV3WSwgd2lkdGgsIGhlaWdodCk7XG4gICAgfSBlbHNlIGlmIChwYW5uaW5nKSB7XG4gICAgICBpZiAoem9vbUhhbmRsZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB6b29tSGFuZGxlci5kcmFnZ2luZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbEVuZCAoKTogdm9pZCB7XG4gICAgaWYgKCFwYW5uaW5nICYmIGRyYWdTZWxlY3RpbmcpIHtcbiAgICAgIGNvbnN0IHNlbGVjdFJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0UmVjdCcpO1xuICAgICAgY29uc3QgcnggPSBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgneCcpKTtcbiAgICAgIGNvbnN0IHJ5ID0gcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgICBjb25zdCBseCA9IHJ4ICsgcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpO1xuICAgICAgY29uc3QgbHkgPSByeSArIHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSk7XG5cbiAgICAgIC8vIFRyYW5zZm9ybSB0byB0aGUgY29ycmVjdCBjb29yZGluYXRlIHN5c3RlbVxuICAgICAgY29uc3Qgbm9kZSA9IGNhbnZhcy5ub2RlKCkgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICAgIGxldCB1bCA9IG5ldyBET01Qb2ludChyeCwgcnkpLCBsciA9IG5ldyBET01Qb2ludChseCwgbHkpO1xuICAgICAgY29uc3QgdHJhbnNmb3JtID0gbm9kZS5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKClcbiAgICAgICAgLm11bHRpcGx5KChjYW52YXMuc2VsZWN0KCcuc3lzdGVtJykubm9kZSgpIGFzIFNWR0dyYXBoaWNzRWxlbWVudCkuZ2V0U2NyZWVuQ1RNKCkpXG4gICAgICAgIC5pbnZlcnNlKCk7XG4gICAgICB1bCA9IHVsLm1hdHJpeFRyYW5zZm9ybSh0cmFuc2Zvcm0pO1xuICAgICAgbHIgPSBsci5tYXRyaXhUcmFuc2Zvcm0odHJhbnNmb3JtKTtcblxuICAgICAgLy8gR2V0IGFsbCBlbGVtZW50cyBjb3JyZXNwb25kaW5nIHRvIHRoZSBzZWxlY3RvclxuICAgICAgY29uc3QgZWxlbWVudHMgPSBnZXRFbGVtZW50c0J5U2VsZWN0b3Ioc2VsZWN0b3IpO1xuICAgICAgLy8gR2V0IHRoZSBlbGVtZW50cyB3aXRoaW4gdGhlIHNlbGVjdGlvbiByZWN0YW5nbGVcbiAgICAgIGNvbnN0IHNlbGVjdGVkRWxlbWVudHMgPSBlbGVtZW50cy5maWx0ZXIoZWwgPT4gaXNFbGVtZW50SW5SZWN0KGVsLCB1bCwgbHIpKTtcblxuICAgICAgLy8gR2V0IG90aGVyIGhhbHZlcyBvZiBsaWdhdHVyZXMgaWYgb25seSBvbmUgaXMgc2VsZWN0ZWRcbiAgICAgIHNlbGVjdGVkRWxlbWVudHMuZm9yRWFjaCgoZWxlbWVudDogU1ZHRWxlbWVudCkgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudC50YWdOYW1lID09PSAndXNlJyAmJiBlbGVtZW50LmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKC9FOUJbNDU2Nzg5QUJDXS8pKSB7XG4gICAgICAgICAgY29uc3QgbmV1bWUgPSBlbGVtZW50LmNsb3Nlc3QoJy5uZXVtZScpO1xuICAgICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKGVsZW1lbnQuY2xvc2VzdCgnLm5jJykpO1xuICAgICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKC9FOUJbNDU2NzhdLykpIHtcbiAgICAgICAgICAgIC8vIEFkZCBzZWNvbmQgaGFsZiBvZiBsaWdhdHVyZSB0byBzZWxlY3RlZCBsaXN0IGlmIG5vdCBhbHJlYWR5IHByZXNlbnRcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZE5jID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCArIDFdO1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kVXNlID0gc2Vjb25kTmMucXVlcnlTZWxlY3RvcigndXNlJyk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKHNlY29uZFVzZSkgPCAwKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChzZWNvbmRVc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvLyBBZGQgZmlyc3QgaGFsZiBvZiBsaWdhdHVyZSB0byBzZWxlY3RlZCBsaXN0IGlmIG5vdCBhbHJlYWR5IHByZXNlbnRcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0TmMgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4IC0gMV07XG4gICAgICAgICAgICBjb25zdCBmaXJzdFVzZSA9IGZpcnN0TmMucXVlcnlTZWxlY3RvcigndXNlJyk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWRFbGVtZW50cy5pbmRleE9mKGZpcnN0VXNlKSA8IDApIHtcbiAgICAgICAgICAgICAgc2VsZWN0ZWRFbGVtZW50cy5wdXNoKGZpcnN0VXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2VsZWN0QWxsKHNlbGVjdGVkRWxlbWVudHMsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgICAgZDMuc2VsZWN0QWxsKCcjc2VsZWN0UmVjdCcpLnJlbW92ZSgpO1xuICAgICAgZHJhZ1NlbGVjdGluZyA9IGZhbHNlO1xuICAgIH1cbiAgICBwYW5uaW5nID0gZmFsc2U7XG4gIH1cblxuICBkMy5zZWxlY3RBbGwoc2VsZWN0b3IucmVwbGFjZSgnLmFjdGl2ZS1wYWdlJywgJycpLnRyaW0oKSlcbiAgICAub24oJy5kcmFnJywgbnVsbCk7XG4gIGNvbnN0IGRyYWdTZWxlY3RBY3Rpb24gPSBkMy5kcmFnKClcbiAgICAub24oJ3N0YXJ0Jywgc2VsU3RhcnQpXG4gICAgLm9uKCdkcmFnJywgc2VsZWN0aW5nKVxuICAgIC5vbignZW5kJywgc2VsRW5kKTtcbiAgY2FudmFzLmNhbGwoZHJhZ1NlbGVjdEFjdGlvbik7XG4gIGlmIChkcmFnSGFuZGxlcikge1xuICAgIGRyYWdIYW5kbGVyLnJlc2V0VG8oZHJhZ1NlbGVjdEFjdGlvbik7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5vdGlmaWNhdGlvbiB9IGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCB7IGVycm9yTG9nc1BhbmVsQ29udGVudHMgfSBmcm9tICcuLi9TcXVhcmVFZGl0L0NvbnRlbnRzJztcbmltcG9ydCB7IHNldFNldHRpbmdzLCBnZXRTZXR0aW5ncyB9IGZyb20gJy4vTG9jYWxTZXR0aW5ncyc7XG5cblxuLy8gVE9ETzogc3R5bGluZ1xuZnVuY3Rpb24gY3JlYXRlTG9nTWVzc2FnZSAobm90aWY6IE5vdGlmaWNhdGlvbik6IEVsZW1lbnQge1xuICBjb25zdCBub3RpZkRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBub3RpZkRpdi5jbGFzc0xpc3QuYWRkKCdub3RpZmljYXRpb24tY29udGFpbmVyJyk7XG4gIG5vdGlmRGl2LmlubmVySFRNTCA9IGBcbiAgICA8ZGl2IGNsYXNzPVwibm90aWZpY2F0aW9uLXdyYXBwZXJcIj5cblxuICAgICAgPGRpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1tYWluXCI+JHtub3RpZi5tZXNzYWdlfTwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwibG9nLWV4dHJhXCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiBjbGFzcz1cInJlbW92ZS1ub3RpZi1pY29uLXdyYXBwZXJcIj5cbiAgICAgIDxpbWcgY2xhc3M9XCJsb2ctcmVtb3ZlIHJlbW92ZS1ub3RpZi1pY29uXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2UtY2xvc2VkLnN2Z1wiPlxuICAgIDwvZGl2PlxuICBgO1xuXG4gIGNvbnN0IHJlbW92ZSA9IG5vdGlmRGl2LnF1ZXJ5U2VsZWN0b3I8SFRNTEJ1dHRvbkVsZW1lbnQ+KCcubG9nLXJlbW92ZScpO1xuICByZW1vdmUub25jbGljayA9ICgpID0+IG5vdGlmRGl2LnJlbW92ZSgpO1xuICByZW1vdmUuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdmVyJywgKCkgPT4ge1xuICAgIHJlbW92ZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1vcGVuLnN2Z2ApO1xuICB9KTtcbiAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3V0JywgKCkgPT4ge1xuICAgIHJlbW92ZS5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvZ2FyYmFnZS1jbG9zZWQuc3ZnYCk7XG4gIH0pO1xuXG4gIHJldHVybiBub3RpZkRpdjtcbn1cblxuXG4vKipcbiAqIEFkZCBub3RpZmljYXRpb24gdG8gdGhlIHBlcnNpc3RlbnQgZXJyb3IgbG9nIG9uIHRoZSBzaWRlYmFyXG4gKiBAcGFyYW0gbm90aWYge05vdGlmaWNhdGlvbn0gTm90aWZpY2F0aW9uIHRvIGFkZCB0byB0aGUgZXJyb3IgbG9nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiByZWNvcmROb3RpZmljYXRpb24gKG5vdGlmOiBOb3RpZmljYXRpb24pOiB2b2lkIHtcbiAgY29uc3QgbG9nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKTtcbiAgbG9nLnByZXBlbmQoY3JlYXRlTG9nTWVzc2FnZShub3RpZikpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZSBlcnJvciBsb2cuXG4gKiBBZGRzIG5lY2Vzc2FyeSBIVE1MIHRvIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRFcnJvckxvZygpOiB2b2lkIHtcbiAgLy8gRXJyb3IgbG9nIHBhbmVsXG4gIGNvbnN0IGxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgbG9nLmlubmVySFRNTCA9IGVycm9yTG9nc1BhbmVsQ29udGVudHM7XG5cbiAgaW5pdEVycm9yTG9nQ29udHJvbHMoKTtcbn1cblxuXG4vKipcbiAqIFNldCB1cCBldmVudCBsaXN0ZW5lcnMgZm9yIGVycm9yIExvZyBwYW5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEVycm9yTG9nQ29udHJvbHMoKTogdm9pZCB7XG4gIGNvbnN0IGVycm9yUGFuZWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JMb2dIZWFkaW5nJyk7XG4gIGNvbnN0IGRyb3Bkb3duSWNvbiA9IGhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG4gIGNvbnN0IGNvbnRlbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nQ29udGVudHMnKSBhcyBIVE1MRWxlbWVudDtcblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGlmIChkaXNwbGF5RXJyTG9nKSBlcnJvclBhbmVsLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICBoZWFkaW5nLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGVycm9yIHBhbmVsIGlzIGNsb3NlZCwgb3BlbiBpdFxuICAgIGlmIChjb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICAvLyBzZXQgY2xhc3NlcyBhbmQgc3R5bGVzIGZvciBhbiBvcGVuIHBhbmVsXG4gICAgICBjb250ZW50cy5jbGFzc0xpc3QucmVtb3ZlKCdjbG9zZWQnKTtcbiAgICAgIGNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICBkcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duYCk7XG4gICAgfSBcbiAgICAvLyBpZiBlcnJvciBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgY29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBjb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG5cbiAgaW5pdERpc3BsYXlMaXN0ZW5lcigpO1xufVxuXG5cbi8qKlxuICogSW5pdGlhbGl6ZXMgY2xpY2sgbGlzdGVuZXIgb24gXCJTaG93IGVycm9yIGxvZ3NcIiBidXR0b24gaW4gXCJWaWV3XCIgZHJvcGRvd24uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RGlzcGxheUxpc3RlbmVyKCk6IHZvaWQge1xuICBjb25zdCBub3RpZlBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBjb25zdCBjaGVja2JveGVzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktc2luZ2xlLWNvbnRhaW5lcicpO1xuICBjb25zdCBlcnJvcnNMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGNvbnN0IGVyb3Jyc0J0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG5cbiAgZXJvcnJzQnRuLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gIGVycm9yc0xhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICBlcnJvcnNMYWJlbC50ZXh0Q29udGVudCA9ICdFcnJvcnMnO1xuICBlcm9ycnNCdG4uaWQgPSAnZGlzcGxheS1lcnJvcnMnO1xuICBlcm9ycnNCdG4udHlwZSA9ICdjaGVja2JveCc7XG4gIGVyb3Jyc0J0bi5jaGVja2VkID0gZmFsc2U7XG4gIGVycm9yc0xhYmVsLmFwcGVuZENoaWxkKGVyb3Jyc0J0bik7XG4gIGNoZWNrYm94ZXNDb250YWluZXIuYXBwZW5kKGVycm9yc0xhYmVsKTtcblxuXG4gIGNvbnN0IHsgZGlzcGxheUVyckxvZyB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgaWYgKGRpc3BsYXlFcnJMb2cpIGVyb3Jyc0J0bi5jaGVja2VkID0gdHJ1ZTtcblxuICBlcm9ycnNCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG5cbiAgICAvLyBzZXRTZXR0aW5ncyh7IGRpc3BsYXlCQm94OiBkaXNwbGF5QkJveGVzLmNoZWNrZWQgfSk7XG5cbiAgICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuICAgIGNvbnN0IGRpc3BsYXlJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5QkJveGVzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgZGlzcGxheUVyckxvZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWVycm9ycycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG5cblxuICAgIGlmIChlcm9ycnNCdG4uY2hlY2tlZCkge1xuICAgICAgbm90aWZQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG4gICAgICBzZXRTZXR0aW5ncyh7IGRpc3BsYXlFcnJMb2c6IHRydWUgfSk7XG5cbiAgICAgIGlmIChkaXNwbGF5SW5mbz8uY2hlY2tlZCAmJiBkaXNwbGF5QkJveGVzPy5jaGVja2VkICYmIFxuICAgICAgICBkaXNwbGF5VGV4dD8uY2hlY2tlZCAmJiBkaXNwbGF5RXJyTG9nPy5jaGVja2VkKSB7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5RXJyTG9nOiBmYWxzZSB9KTtcbiAgICAgIGlmIChkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICAgIH1cbiAgICB9XG4gICAgXG4gIH0pO1xufVxuIiwiaW1wb3J0IHsgc2VsZWN0QkJveCwgdW5zZWxlY3QgfSBmcm9tICcuL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL3V0aWxzL0RyYWdIYW5kbGVyJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IHNldFNlbGVjdEhlbHBlck9iamVjdHMsIGRyYWdTZWxlY3QsIGNsaWNrU2VsZWN0IH0gZnJvbSAnLi91dGlscy9TZWxlY3QnO1xuaW1wb3J0IHsgc2V0R3JvdXBpbmdIaWdobGlnaHQgfSBmcm9tICcuL3V0aWxzL0NvbG9yJztcbmltcG9ydCB7IFRleHRFZGl0SW50ZXJmYWNlIH0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCAgeyBNb2RhbFdpbmRvd1ZpZXcgfSBmcm9tICcuL3V0aWxzL01vZGFsV2luZG93JztcblxuLyoqXG4gKiBGb3JtYXQgYSBzdHJpbmcgZm9yIHByb21wdGluZyB0aGUgdXNlci5cbiAqIEBwYXJhbSByYXdTdHJpbmcgLSBUaGUgdW5mb3JtYXR0ZWQgc3RyaW5nLlxuICovXG4vKlxuZnVuY3Rpb24gZm9ybWF0UmF3IChyYXdTdHJpbmc6IHN0cmluZyk6IHN0cmluZyB7XG4gIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgcmV0dXJuIHJhd1N0cmluZy5yZXBsYWNlKHJlbW92ZVN5bWJvbCwgJycpLnRyaW0oKTtcbn1cbiovXG5cbmZ1bmN0aW9uIHNlbEJ5U3lsbGFibGVMaXN0ZW5lciAoKTogdm9pZCB7XG4gIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICB1bnNlbGVjdCgpO1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5TmMnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5ldW1lJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3lsbGFibGUnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUxheWVyRWxlbWVudCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgdHJ5IHtcbiAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnc3lsbGFibGUnKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7fVxuICB9XG4gIHRoaXMuYWRkQkJveExpc3RlbmVycygpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2VsZWN0ZWRCQm94IChzcGFuOiBIVE1MU3BhbkVsZW1lbnQsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlciwgbmVvblZpZXc6IE5lb25WaWV3KSB7XG4gIHVuc2VsZWN0KCk7XG5cbiAgY29uc3QgYmJveElkID0gQXJyYXkuZnJvbShzcGFuLmNsYXNzTGlzdCkuZmluZChlID0+IGUgIT09ICd0ZXh0LXNlbGVjdCcgJiYgZSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKTtcblxuICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKSkge1xuICAgICAgY29uc3QgZGlzcGxheVJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgc2VsZWN0QkJveChkaXNwbGF5UmVjdCwgZHJhZ0hhbmRsZXIsIG5lb25WaWV3KTtcbiAgICB9XG4gIH1cbn1cblxuLyoqXG4gKiBBIFRleHQgZWRpdGluZyBtb2R1bGUgdGhhdCB3b3JrcyB3aXRoIHRoZSBTaW5nbGVWaWV3IGFuZCBEaXZhVmlldyBtb2R1bGVzXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRleHRFZGl0TW9kZSBpbXBsZW1lbnRzIFRleHRFZGl0SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYSBUZXh0RWRpdFxuICAgKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgY2FsbGluZyBbW05lb25WaWV3XV0gZm9yIHRoZSBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5pbml0VGV4dEVkaXQoKTtcbiAgfVxuXG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0aGUgYm91bmRpbmcgYm94IHNlbGVjdGVkIHdoZW4gdGhlIGVkaXQgdGV4dCBtb2RhbCBoYXMgYmVlbiBjbGlja2VkIFxuICAgKi9cbiAgdXBkYXRlU2VsZWN0ZWRCQm94IChzcGFuOiBIVE1MU3BhbkVsZW1lbnQpOiB2b2lkIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveElkID0gQXJyYXkuZnJvbShzcGFuLmNsYXNzTGlzdCkuZmluZChlID0+IGUgIT09ICd0ZXh0LXNlbGVjdCcgJiYgZSAhPT0gJ3NlbGVjdGVkLXRvLWVkaXQnKTtcblxuICAgIGlmICgoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCkge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkpIHtcbiAgICAgICAgY29uc3QgZGlzcGxheVJlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBzZWxlY3RCQm94KGRpc3BsYXlSZWN0LCB0aGlzLmRyYWdIYW5kbGVyLCB0aGlzLm5lb25WaWV3KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIC8qKlxuICAqIFNldCB0ZXh0IHRvIGVkaXQgbW9kZVxuICAqL1xuICBpbml0VGV4dEVkaXQgKCk6IHZvaWQge1xuICAgIGNvbnN0IHNwYW5zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3BhbicpO1xuICAgIGNvbnN0IG1vZGFsID0gdGhpcy5uZW9uVmlldy5tb2RhbDtcbiAgICBzcGFucy5mb3JFYWNoKChzcGFuOiBIVE1MU3BhbkVsZW1lbnQpID0+IHtcbiAgICAgIGZ1bmN0aW9uIHNlbGVjdFN5bFRleHQgKCk6IHZvaWQge1xuICAgICAgICBzcGFuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkLXRvLWVkaXQnKTtcbiAgICAgICAgbW9kYWwuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5FRElUX1RFWFQpO1xuICAgICAgICBtb2RhbC5vcGVuTW9kYWxXaW5kb3coKTtcbiAgICAgICAgdXBkYXRlU2VsZWN0ZWRCQm94KHNwYW4sIHRoaXMuZHJhZ0hhbmRsZXIsIHRoaXMubmVvblZpZXcpO1xuICAgICAgfVxuXG4gICAgICBzcGFuLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0U3lsVGV4dCk7XG4gICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0U3lsVGV4dCk7XG4gICAgfSk7XG4gIH1cblxuXG4gIC8qKlxuICAqIEFkZCB0aGUgc2VsZWN0QnlCQm94IGJ1dHRvbi5cbiAgKiBJZiBuZXVtZSBlZGl0IG1vZGUgaXMgdGhlcmUsIGFkZCBpdCB0byB0aGUgYmFyIHdpdGggdGhlIG90aGVyIHNlbGVjdCBieSBidXR0b25zLlxuICAqIE90aGVyd2lzZSBhZGQgYW4gaW52aXNpYmxlIGJ1dHRvblxuICAqIHNpbmNlIHRoZSBvbmx5IGVkaXQgbW9kZSBpcyBzZWxlY3RCeVJlY3QgaW4gdGhhdCBjYXNlXG4gICovXG4gIGluaXRTZWxlY3RCeUJCb3hCdXR0b24gKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLm5lb25WaWV3Lk5ldW1lRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzZWxCeUJCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jyk7XG4gICAgICBpZiAoc2VsQnlCQm94KSB7XG4gICAgICAgIHNlbEJ5QkJveC5zdHlsZS5kaXNwbGF5ID0gJyc7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsZWN0aW9uLW1vZGUtYnRucy1jb250YWluZXInKTtcbiAgICAgIGNvbnN0IGJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ3NpZGUtcGFuZWwtYnRuJywgJ3NlbC1ieScpO1xuICAgICAgYnV0dG9uLmlkID0gJ3NlbEJ5QkJveCc7XG4gICAgICBidXR0b24udGV4dENvbnRlbnQgPSAnQkJveCc7XG4gICAgICBibG9jay5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsQnlTeWxsYWJsZUxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgICAgICBpZiAoZXZ0LmtleSA9PT0gJzYnKSB7XG4gICAgICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5zdHlsZS5kaXNwbGF5ID09PSAnJykge1xuICAgICAgICAgICAgc2VsQnlTeWxsYWJsZUxpc3RlbmVyLmJpbmQodGhpcykoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMuYWRkQkJveExpc3RlbmVycy5iaW5kKHRoaXMpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgYmxvY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndW5kbycpLmNsb3Nlc3QoJy5jb250cm9sJyk7XG4gICAgICBjb25zdCBwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgncCcpO1xuICAgICAgcC5jbGFzc0xpc3QuYWRkKCdjb250cm9sJyk7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzaWRlLXBhbmVsLWJ0bicsICdzZWwtYnknKTtcbiAgICAgIGJ1dHRvbi5pZCA9ICdzZWxCeUJCb3gnO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0JCb3gnO1xuICAgICAgcC5hcHBlbmRDaGlsZChidXR0b24pO1xuICAgICAgYmxvY2suYXBwZW5kQ2hpbGQocCk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBidXR0b24uc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIHRoaXMuYWRkQkJveExpc3RlbmVycygpO1xuICAgICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMuYWRkQkJveExpc3RlbmVycy5iaW5kKHRoaXMpKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBzZWxlY3QgYnkgYmJveCBtb2RlXG4gICAqL1xuICBhZGRCQm94TGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAvLyBqdXN0IGluIGNhc2VcbiAgICAgICAgdGhpcy5kcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgICAgc2V0U2VsZWN0SGVscGVyT2JqZWN0cyh0aGlzLm5lb25WaWV3LCB0aGlzLmRyYWdIYW5kbGVyKTtcbiAgICAgICAgaWYgKHRoaXMubmVvblZpZXcudmlldy5jb25zdHJ1Y3Rvci5uYW1lID09PSAnU2luZ2xlVmlldycpIHtcbiAgICAgICAgICBjbGlja1NlbGVjdCgnI21laV9vdXRwdXQsICNtZWlfb3V0cHV0IHJlY3QnKTtcbiAgICAgICAgICBkcmFnU2VsZWN0KCcjc3ZnX2dyb3VwJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2xpY2tTZWxlY3QoJy5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZywgLmFjdGl2ZS1wYWdlID4gc3ZnID4gc3ZnIHJlY3QnKTtcbiAgICAgICAgICBkcmFnU2VsZWN0KCcuYWN0aXZlLXBhZ2Ugc3ZnJyk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBpbW1lZGlhdGUgZnJvbSAnaW1tZWRpYXRlJztcbmltcG9ydCB7IHY0IH0gZnJvbSAndXVpZCc7XG5pbXBvcnQgTWQ1IGZyb20gJ3NwYXJrLW1kNSc7XG5pbXBvcnQgdnV2dXplbGEgZnJvbSAndnV2dXplbGEnO1xuaW1wb3J0IGdldEFyZ3VtZW50cyBmcm9tICdhcmdzYXJyYXknO1xuaW1wb3J0IGluaGVyaXRzIGZyb20gJ2luaGVyaXRzJztcbmltcG9ydCBFRSBmcm9tICdldmVudHMnO1xuXG5mdW5jdGlvbiBtYW5nbGUoa2V5KSB7XG4gIHJldHVybiAnJCcgKyBrZXk7XG59XG5mdW5jdGlvbiB1bm1hbmdsZShrZXkpIHtcbiAgcmV0dXJuIGtleS5zdWJzdHJpbmcoMSk7XG59XG5mdW5jdGlvbiBNYXAkMSgpIHtcbiAgdGhpcy5fc3RvcmUgPSB7fTtcbn1cbk1hcCQxLnByb3RvdHlwZS5nZXQgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiB0aGlzLl9zdG9yZVttYW5nbGVkXTtcbn07XG5NYXAkMS5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24gKGtleSwgdmFsdWUpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgdGhpcy5fc3RvcmVbbWFuZ2xlZF0gPSB2YWx1ZTtcbiAgcmV0dXJuIHRydWU7XG59O1xuTWFwJDEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgdmFyIG1hbmdsZWQgPSBtYW5nbGUoa2V5KTtcbiAgcmV0dXJuIG1hbmdsZWQgaW4gdGhpcy5fc3RvcmU7XG59O1xuTWFwJDEucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSkubWFwKGsgPT4gdW5tYW5nbGUoaykpO1xufTtcbk1hcCQxLnByb3RvdHlwZS5kZWxldGUgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHZhciByZXMgPSBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xuICBkZWxldGUgdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG4gIHJldHVybiByZXM7XG59O1xuTWFwJDEucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbiAoY2IpIHtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrZXlzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIHZhbHVlID0gdGhpcy5fc3RvcmVba2V5XTtcbiAgICBrZXkgPSB1bm1hbmdsZShrZXkpO1xuICAgIGNiKHZhbHVlLCBrZXkpO1xuICB9XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KE1hcCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyh0aGlzLl9zdG9yZSkubGVuZ3RoO1xuICB9XG59KTtcblxuZnVuY3Rpb24gU2V0JDEoYXJyYXkpIHtcbiAgdGhpcy5fc3RvcmUgPSBuZXcgTWFwJDEoKTtcblxuICAvLyBpbml0IHdpdGggYW4gYXJyYXlcbiAgaWYgKGFycmF5ICYmIEFycmF5LmlzQXJyYXkoYXJyYXkpKSB7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycmF5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0aGlzLmFkZChhcnJheVtpXSk7XG4gICAgfVxuICB9XG59XG5TZXQkMS5wcm90b3R5cGUuYWRkID0gZnVuY3Rpb24gKGtleSkge1xuICByZXR1cm4gdGhpcy5fc3RvcmUuc2V0KGtleSwgdHJ1ZSk7XG59O1xuU2V0JDEucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLmhhcyhrZXkpO1xufTtcblNldCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHRoaXMuX3N0b3JlLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICBjYihrZXkpO1xuICB9KTtcbn07XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoU2V0JDEucHJvdG90eXBlLCAnc2l6ZScsIHtcbiAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3N0b3JlLnNpemU7XG4gIH1cbn0pO1xuXG4vLyBCYXNlZCBvbiBodHRwczovL2thbmdheC5naXRodWIuaW8vY29tcGF0LXRhYmxlL2VzNi8gd2UgY2FuIHNuaWZmIG91dFxuLy8gaW5jb21wbGV0ZSBNYXAvU2V0IGltcGxlbWVudGF0aW9ucyB3aGljaCB3b3VsZCBvdGhlcndpc2UgY2F1c2Ugb3VyIHRlc3RzIHRvIGZhaWwuXG4vLyBOb3RhYmx5IHRoZXkgZmFpbCBpbiBJRTExIGFuZCBpT1MgOC40LCB3aGljaCB0aGlzIHByZXZlbnRzLlxuZnVuY3Rpb24gc3VwcG9ydHNNYXBBbmRTZXQoKSB7XG4gIGlmICh0eXBlb2YgU3ltYm9sID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgTWFwID09PSAndW5kZWZpbmVkJyB8fCB0eXBlb2YgU2V0ID09PSAndW5kZWZpbmVkJykge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvcCA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoTWFwLCBTeW1ib2wuc3BlY2llcyk7XG4gIHJldHVybiBwcm9wICYmICdnZXQnIGluIHByb3AgJiYgTWFwW1N5bWJvbC5zcGVjaWVzXSA9PT0gTWFwO1xufVxuXG4vLyBiYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vbW9udGFnZWpzL2NvbGxlY3Rpb25zXG5cbnZhciBFeHBvcnRlZFNldDtcbnZhciBFeHBvcnRlZE1hcDtcblxue1xuICBpZiAoc3VwcG9ydHNNYXBBbmRTZXQoKSkgeyAvLyBwcmVmZXIgYnVpbHQtaW4gTWFwL1NldFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0O1xuICAgIEV4cG9ydGVkTWFwID0gTWFwO1xuICB9IGVsc2UgeyAvLyBmYWxsIGJhY2sgdG8gb3VyIHBvbHlmaWxsXG4gICAgRXhwb3J0ZWRTZXQgPSBTZXQkMTtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcCQxO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzQmluYXJ5T2JqZWN0KG9iamVjdCkge1xuICByZXR1cm4gKHR5cGVvZiBBcnJheUJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHx8XG4gICAgKHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJyAmJiBvYmplY3QgaW5zdGFuY2VvZiBCbG9iKTtcbn1cblxuZnVuY3Rpb24gY2xvbmVBcnJheUJ1ZmZlcihidWZmKSB7XG4gIGlmICh0eXBlb2YgYnVmZi5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBidWZmLnNsaWNlKDApO1xuICB9XG4gIC8vIElFMTAtMTEgc2xpY2UoKSBwb2x5ZmlsbFxuICB2YXIgdGFyZ2V0ID0gbmV3IEFycmF5QnVmZmVyKGJ1ZmYuYnl0ZUxlbmd0aCk7XG4gIHZhciB0YXJnZXRBcnJheSA9IG5ldyBVaW50OEFycmF5KHRhcmdldCk7XG4gIHZhciBzb3VyY2VBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpO1xuICB0YXJnZXRBcnJheS5zZXQoc291cmNlQXJyYXkpO1xuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5mdW5jdGlvbiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcbiAgfVxuICB2YXIgc2l6ZSA9IG9iamVjdC5zaXplO1xuICB2YXIgdHlwZSA9IG9iamVjdC50eXBlO1xuICAvLyBCbG9iXG4gIGlmICh0eXBlb2Ygb2JqZWN0LnNsaWNlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIG9iamVjdC5zbGljZSgwLCBzaXplLCB0eXBlKTtcbiAgfVxuICAvLyBQaGFudG9tSlMgc2xpY2UoKSByZXBsYWNlbWVudFxuICByZXR1cm4gb2JqZWN0LndlYmtpdFNsaWNlKDAsIHNpemUsIHR5cGUpO1xufVxuXG4vLyBtb3N0IG9mIHRoaXMgaXMgYm9ycm93ZWQgZnJvbSBsb2Rhc2guaXNQbGFpbk9iamVjdDpcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9maXMtY29tcG9uZW50cy9sb2Rhc2guaXNwbGFpbm9iamVjdC9cbi8vIGJsb2IvMjljMzU4MTQwYTc0ZjI1MmFlYjA4YzllYjI4YmVmODZmMjIxN2Q0YS9pbmRleC5qc1xuXG52YXIgZnVuY1RvU3RyaW5nID0gRnVuY3Rpb24ucHJvdG90eXBlLnRvU3RyaW5nO1xudmFyIG9iamVjdEN0b3JTdHJpbmcgPSBmdW5jVG9TdHJpbmcuY2FsbChPYmplY3QpO1xuXG5mdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gIHZhciBwcm90byA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih2YWx1ZSk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAocHJvdG8gPT09IG51bGwpIHsgLy8gbm90IHN1cmUgd2hlbiB0aGlzIGhhcHBlbnMsIGJ1dCBJIGd1ZXNzIGl0IGNhblxuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIHZhciBDdG9yID0gcHJvdG8uY29uc3RydWN0b3I7XG4gIHJldHVybiAodHlwZW9mIEN0b3IgPT0gJ2Z1bmN0aW9uJyAmJlxuICAgIEN0b3IgaW5zdGFuY2VvZiBDdG9yICYmIGZ1bmNUb1N0cmluZy5jYWxsKEN0b3IpID09IG9iamVjdEN0b3JTdHJpbmcpO1xufVxuXG5mdW5jdGlvbiBjbG9uZShvYmplY3QpIHtcbiAgdmFyIG5ld09iamVjdDtcbiAgdmFyIGk7XG4gIHZhciBsZW47XG5cbiAgaWYgKCFvYmplY3QgfHwgdHlwZW9mIG9iamVjdCAhPT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gb2JqZWN0O1xuICB9XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqZWN0KSkge1xuICAgIG5ld09iamVjdCA9IFtdO1xuICAgIGZvciAoaSA9IDAsIGxlbiA9IG9iamVjdC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgbmV3T2JqZWN0W2ldID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ld09iamVjdDtcbiAgfVxuXG4gIC8vIHNwZWNpYWwgY2FzZTogdG8gYXZvaWQgaW5jb25zaXN0ZW5jaWVzIGJldHdlZW4gSW5kZXhlZERCXG4gIC8vIGFuZCBvdGhlciBiYWNrZW5kcywgd2UgYXV0b21hdGljYWxseSBzdHJpbmdpZnkgRGF0ZXNcbiAgaWYgKG9iamVjdCBpbnN0YW5jZW9mIERhdGUgJiYgaXNGaW5pdGUob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3QudG9JU09TdHJpbmcoKTtcbiAgfVxuXG4gIGlmIChpc0JpbmFyeU9iamVjdChvYmplY3QpKSB7XG4gICAgcmV0dXJuIGNsb25lQmluYXJ5T2JqZWN0KG9iamVjdCk7XG4gIH1cblxuICBpZiAoIWlzUGxhaW5PYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBvYmplY3Q7IC8vIGRvbid0IGNsb25lIG9iamVjdHMgbGlrZSBXb3JrZXJzXG4gIH1cblxuICBuZXdPYmplY3QgPSB7fTtcbiAgZm9yIChpIGluIG9iamVjdCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGkpKSB7XG4gICAgICB2YXIgdmFsdWUgPSBjbG9uZShvYmplY3RbaV0pO1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgbmV3T2JqZWN0W2ldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXdPYmplY3Q7XG59XG5cbmZ1bmN0aW9uIG9uY2UoZnVuKSB7XG4gIHZhciBjYWxsZWQgPSBmYWxzZTtcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChjYWxsZWQpIHtcbiAgICAgIC8vIHRoaXMgaXMgYSBzbW9rZSB0ZXN0IGFuZCBzaG91bGQgbmV2ZXIgYWN0dWFsbHkgaGFwcGVuXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ29uY2UgY2FsbGVkIG1vcmUgdGhhbiBvbmNlJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxlZCA9IHRydWU7XG4gICAgICBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gdG9Qcm9taXNlKGZ1bmMpIHtcbiAgLy9jcmVhdGUgdGhlIGZ1bmN0aW9uIHdlIHdpbGwgYmUgcmV0dXJuaW5nXG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvLyBDbG9uZSBhcmd1bWVudHNcbiAgICBhcmdzID0gY2xvbmUoYXJncyk7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIC8vIGlmIHRoZSBsYXN0IGFyZ3VtZW50IGlzIGEgZnVuY3Rpb24sIGFzc3VtZSBpdHMgYSBjYWxsYmFja1xuICAgIHZhciB1c2VkQ0IgPSAodHlwZW9mIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9PT0gJ2Z1bmN0aW9uJykgPyBhcmdzLnBvcCgpIDogZmFsc2U7XG4gICAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgICB2YXIgcmVzcDtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IG9uY2UoZnVuY3Rpb24gKGVyciwgbWVzZykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmdWxmaWxsKG1lc2cpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIC8vIGNyZWF0ZSBhIGNhbGxiYWNrIGZvciB0aGlzIGludm9jYXRpb25cbiAgICAgICAgLy8gYXBwbHkgdGhlIGZ1bmN0aW9uIGluIHRoZSBvcmlnIGNvbnRleHRcbiAgICAgICAgYXJncy5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgcmVzcCA9IGZ1bmMuYXBwbHkoc2VsZiwgYXJncyk7XG4gICAgICAgIGlmIChyZXNwICYmIHR5cGVvZiByZXNwLnRoZW4gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICBmdWxmaWxsKHJlc3ApO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJlamVjdChlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGNhbGxiYWNrLCBjYWxsIGl0IGJhY2tcbiAgICBpZiAodXNlZENCKSB7XG4gICAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICB1c2VkQ0IobnVsbCwgcmVzdWx0KTtcbiAgICAgIH0sIHVzZWRDQik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbG9nQXBpQ2FsbChzZWxmLCBuYW1lLCBhcmdzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoc2VsZi5jb25zdHJ1Y3Rvci5saXN0ZW5lcnMoJ2RlYnVnJykubGVuZ3RoKSB7XG4gICAgdmFyIGxvZ0FyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmdzLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgbG9nQXJncy5wdXNoKGFyZ3NbaV0pO1xuICAgIH1cbiAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgbG9nQXJncyk7XG5cbiAgICAvLyBvdmVycmlkZSB0aGUgY2FsbGJhY2sgaXRzZWxmIHRvIGxvZyB0aGUgcmVzcG9uc2VcbiAgICB2YXIgb3JpZ0NhbGxiYWNrID0gYXJnc1thcmdzLmxlbmd0aCAtIDFdO1xuICAgIGFyZ3NbYXJncy5sZW5ndGggLSAxXSA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgdmFyIHJlc3BvbnNlQXJncyA9IFsnYXBpJywgc2VsZi5uYW1lLCBuYW1lXTtcbiAgICAgIHJlc3BvbnNlQXJncyA9IHJlc3BvbnNlQXJncy5jb25jYXQoXG4gICAgICAgIGVyciA/IFsnZXJyb3InLCBlcnJdIDogWydzdWNjZXNzJywgcmVzXVxuICAgICAgKTtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVidWcnLCByZXNwb25zZUFyZ3MpO1xuICAgICAgb3JpZ0NhbGxiYWNrKGVyciwgcmVzKTtcbiAgICB9O1xuICB9XG59XG5cbmZ1bmN0aW9uIGFkYXB0ZXJGdW4obmFtZSwgY2FsbGJhY2spIHtcbiAgcmV0dXJuIHRvUHJvbWlzZShnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBjbG9zZWQnKSk7XG4gICAgfVxuICAgIGlmICh0aGlzLl9kZXN0cm95ZWQpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChuZXcgRXJyb3IoJ2RhdGFiYXNlIGlzIGRlc3Ryb3llZCcpKTtcbiAgICB9XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncyk7XG4gICAgaWYgKCF0aGlzLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgICBzZWxmLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgICAgICBpZiAoZmFpbGVkKSB7XG4gICAgICAgICAgICByZWplY3QoZmFpbGVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChzZWxmW25hbWVdLmFwcGx5KHNlbGYsIGFyZ3MpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBjYWxsYmFjay5hcHBseSh0aGlzLCBhcmdzKTtcbiAgfSkpO1xufVxuXG4vLyBsaWtlIHVuZGVyc2NvcmUvbG9kYXNoIF8ucGljaygpXG5mdW5jdGlvbiBwaWNrKG9iaiwgYXJyKSB7XG4gIHZhciByZXMgPSB7fTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFyci5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBwcm9wID0gYXJyW2ldO1xuICAgIGlmIChwcm9wIGluIG9iaikge1xuICAgICAgcmVzW3Byb3BdID0gb2JqW3Byb3BdO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufVxuXG4vLyBNb3N0IGJyb3dzZXJzIHRocm90dGxlIGNvbmN1cnJlbnQgcmVxdWVzdHMgYXQgNiwgc28gaXQncyBzaWxseVxuLy8gdG8gc2hpbSBfYnVsa19nZXQgYnkgdHJ5aW5nIHRvIGxhdW5jaCBwb3RlbnRpYWxseSBodW5kcmVkcyBvZiByZXF1ZXN0c1xuLy8gYW5kIHRoZW4gbGV0dGluZyB0aGUgbWFqb3JpdHkgdGltZSBvdXQuIFdlIGNhbiBoYW5kbGUgdGhpcyBvdXJzZWx2ZXMuXG52YXIgTUFYX05VTV9DT05DVVJSRU5UX1JFUVVFU1RTID0gNjtcblxuZnVuY3Rpb24gaWRlbnRpdHlGdW5jdGlvbih4KSB7XG4gIHJldHVybiB4O1xufVxuXG5mdW5jdGlvbiBmb3JtYXRSZXN1bHRGb3JPcGVuUmV2c0dldChyZXN1bHQpIHtcbiAgcmV0dXJuIFt7XG4gICAgb2s6IHJlc3VsdFxuICB9XTtcbn1cblxuLy8gc2hpbSBmb3IgUC9Db3VjaERCIGFkYXB0ZXJzIHRoYXQgZG9uJ3QgZGlyZWN0bHkgaW1wbGVtZW50IF9idWxrX2dldFxuZnVuY3Rpb24gYnVsa0dldChkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHJlcXVlc3RzID0gb3B0cy5kb2NzO1xuXG4gIC8vIGNvbnNvbGlkYXRlIGludG8gb25lIHJlcXVlc3QgcGVyIGRvYyBpZiBwb3NzaWJsZVxuICB2YXIgcmVxdWVzdHNCeUlkID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gIHJlcXVlc3RzLmZvckVhY2goZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdHNCeUlkLmhhcyhyZXF1ZXN0LmlkKSkge1xuICAgICAgcmVxdWVzdHNCeUlkLmdldChyZXF1ZXN0LmlkKS5wdXNoKHJlcXVlc3QpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXF1ZXN0c0J5SWQuc2V0KHJlcXVlc3QuaWQsIFtyZXF1ZXN0XSk7XG4gICAgfVxuICB9KTtcblxuICB2YXIgbnVtRG9jcyA9IHJlcXVlc3RzQnlJZC5zaXplO1xuICB2YXIgbnVtRG9uZSA9IDA7XG4gIHZhciBwZXJEb2NSZXN1bHRzID0gbmV3IEFycmF5KG51bURvY3MpO1xuXG4gIGZ1bmN0aW9uIGNvbGxhcHNlUmVzdWx0c0FuZEZpbmlzaCgpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIHBlckRvY1Jlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXMuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgICAgaWQ6IHJlcy5pZCxcbiAgICAgICAgICBkb2NzOiBbaW5mb11cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBjYWxsYmFjayhudWxsLCB7cmVzdWx0czogcmVzdWx0c30pO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IG51bURvY3MpIHtcbiAgICAgIGNvbGxhcHNlUmVzdWx0c0FuZEZpbmlzaCgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGdvdFJlc3VsdChkb2NJbmRleCwgaWQsIGRvY3MpIHtcbiAgICBwZXJEb2NSZXN1bHRzW2RvY0luZGV4XSA9IHtpZDogaWQsIGRvY3M6IGRvY3N9O1xuICAgIGNoZWNrRG9uZSgpO1xuICB9XG5cbiAgdmFyIGFsbFJlcXVlc3RzID0gW107XG4gIHJlcXVlc3RzQnlJZC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgYWxsUmVxdWVzdHMucHVzaChrZXkpO1xuICB9KTtcblxuICB2YXIgaSA9IDA7XG5cbiAgZnVuY3Rpb24gbmV4dEJhdGNoKCkge1xuXG4gICAgaWYgKGkgPj0gYWxsUmVxdWVzdHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIHVwVG8gPSBNYXRoLm1pbihpICsgTUFYX05VTV9DT05DVVJSRU5UX1JFUVVFU1RTLCBhbGxSZXF1ZXN0cy5sZW5ndGgpO1xuICAgIHZhciBiYXRjaCA9IGFsbFJlcXVlc3RzLnNsaWNlKGksIHVwVG8pO1xuICAgIHByb2Nlc3NCYXRjaChiYXRjaCwgaSk7XG4gICAgaSArPSBiYXRjaC5sZW5ndGg7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2gsIG9mZnNldCkge1xuICAgIGJhdGNoLmZvckVhY2goZnVuY3Rpb24gKGRvY0lkLCBqKSB7XG4gICAgICB2YXIgZG9jSWR4ID0gb2Zmc2V0ICsgajtcbiAgICAgIHZhciBkb2NSZXF1ZXN0cyA9IHJlcXVlc3RzQnlJZC5nZXQoZG9jSWQpO1xuXG4gICAgICAvLyBqdXN0IHVzZSB0aGUgZmlyc3QgcmVxdWVzdCBhcyB0aGUgXCJ0ZW1wbGF0ZVwiXG4gICAgICAvLyBUT0RPOiBUaGUgX2J1bGtfZ2V0IEFQSSBhbGxvd3MgZm9yIG1vcmUgc3VidGxlIHVzZSBjYXNlcyB0aGFuIHRoaXMsXG4gICAgICAvLyBidXQgZm9yIG5vdyBpdCBpcyB1bmxpa2VseSB0aGF0IHRoZXJlIHdpbGwgYmUgYSBtaXggb2YgZGlmZmVyZW50XG4gICAgICAvLyBcImF0dHNfc2luY2VcIiBvciBcImF0dGFjaG1lbnRzXCIgaW4gdGhlIHNhbWUgcmVxdWVzdCwgc2luY2UgaXQncyBqdXN0XG4gICAgICAvLyByZXBsaWNhdGUuanMgdGhhdCBpcyB1c2luZyB0aGlzIGZvciB0aGUgbW9tZW50LlxuICAgICAgLy8gQWxzbywgYXR0c19zaW5jZSBpcyBhc3BpcmF0aW9uYWwsIHNpbmNlIHdlIGRvbid0IHN1cHBvcnQgaXQgeWV0LlxuICAgICAgdmFyIGRvY09wdHMgPSBwaWNrKGRvY1JlcXVlc3RzWzBdLCBbJ2F0dHNfc2luY2UnLCAnYXR0YWNobWVudHMnXSk7XG4gICAgICBkb2NPcHRzLm9wZW5fcmV2cyA9IGRvY1JlcXVlc3RzLm1hcChmdW5jdGlvbiAocmVxdWVzdCkge1xuICAgICAgICAvLyByZXYgaXMgb3B0aW9uYWwsIG9wZW5fcmV2cyBkaXNhbGxvd2VkXG4gICAgICAgIHJldHVybiByZXF1ZXN0LnJldjtcbiAgICAgIH0pO1xuXG4gICAgICAvLyByZW1vdmUgZmFsc2V5IC8gdW5kZWZpbmVkIHJldmlzaW9uc1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NPcHRzLm9wZW5fcmV2cy5maWx0ZXIoaWRlbnRpdHlGdW5jdGlvbik7XG5cbiAgICAgIHZhciBmb3JtYXRSZXN1bHQgPSBpZGVudGl0eUZ1bmN0aW9uO1xuXG4gICAgICBpZiAoZG9jT3B0cy5vcGVuX3JldnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGRlbGV0ZSBkb2NPcHRzLm9wZW5fcmV2cztcblxuICAgICAgICAvLyB3aGVuIGZldGNoaW5nIG9ubHkgdGhlIFwid2lubmluZ1wiIGxlYWYsXG4gICAgICAgIC8vIHRyYW5zZm9ybSB0aGUgcmVzdWx0IHNvIGl0IGxvb2tzIGxpa2UgYW4gb3Blbl9yZXZzXG4gICAgICAgIC8vIHJlcXVlc3RcbiAgICAgICAgZm9ybWF0UmVzdWx0ID0gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQ7XG4gICAgICB9XG5cbiAgICAgIC8vIGdsb2JhbGx5LXN1cHBsaWVkIG9wdGlvbnNcbiAgICAgIFsncmV2cycsICdhdHRhY2htZW50cycsICdiaW5hcnknLCAnYWpheCcsICdsYXRlc3QnXS5mb3JFYWNoKGZ1bmN0aW9uIChwYXJhbSkge1xuICAgICAgICBpZiAocGFyYW0gaW4gb3B0cykge1xuICAgICAgICAgIGRvY09wdHNbcGFyYW1dID0gb3B0c1twYXJhbV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZGIuZ2V0KGRvY0lkLCBkb2NPcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgdmFyIHJlc3VsdDtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXN1bHQgPSBbe2Vycm9yOiBlcnJ9XTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQgPSBmb3JtYXRSZXN1bHQocmVzKTtcbiAgICAgICAgfVxuICAgICAgICBnb3RSZXN1bHQoZG9jSWR4LCBkb2NJZCwgcmVzdWx0KTtcbiAgICAgICAgbmV4dEJhdGNoKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIG5leHRCYXRjaCgpO1xuXG59XG5cbnZhciBoYXNMb2NhbDtcblxudHJ5IHtcbiAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ19wb3VjaF9jaGVja19sb2NhbHN0b3JhZ2UnLCAxKTtcbiAgaGFzTG9jYWwgPSAhIWxvY2FsU3RvcmFnZS5nZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJyk7XG59IGNhdGNoIChlKSB7XG4gIGhhc0xvY2FsID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGhhc0xvY2FsU3RvcmFnZSgpIHtcbiAgcmV0dXJuIGhhc0xvY2FsO1xufVxuXG4vLyBDdXN0b20gbmV4dFRpY2soKSBzaGltIGZvciBicm93c2Vycy4gSW4gbm9kZSwgdGhpcyB3aWxsIGp1c3QgYmUgcHJvY2Vzcy5uZXh0VGljaygpLiBXZVxuXG5pbmhlcml0cyhDaGFuZ2VzLCBFRSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5mdW5jdGlvbiBhdHRhY2hCcm93c2VyRXZlbnRzKHNlbGYpIHtcbiAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpKSB7XG4gICAgYWRkRXZlbnRMaXN0ZW5lcihcInN0b3JhZ2VcIiwgZnVuY3Rpb24gKGUpIHtcbiAgICAgIHNlbGYuZW1pdChlLmtleSk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gQ2hhbmdlcygpIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdGhpcy5fbGlzdGVuZXJzID0ge307XG5cbiAgYXR0YWNoQnJvd3NlckV2ZW50cyh0aGlzKTtcbn1cbkNoYW5nZXMucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gKGRiTmFtZSwgaWQsIGRiLCBvcHRzKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodGhpcy5fbGlzdGVuZXJzW2lkXSkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBpbnByb2dyZXNzID0gZmFsc2U7XG4gIGZ1bmN0aW9uIGV2ZW50RnVuY3Rpb24oKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFzZWxmLl9saXN0ZW5lcnNbaWRdKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChpbnByb2dyZXNzKSB7XG4gICAgICBpbnByb2dyZXNzID0gJ3dhaXRpbmcnO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnByb2dyZXNzID0gdHJ1ZTtcbiAgICB2YXIgY2hhbmdlc09wdHMgPSBwaWNrKG9wdHMsIFtcbiAgICAgICdzdHlsZScsICdpbmNsdWRlX2RvY3MnLCAnYXR0YWNobWVudHMnLCAnY29uZmxpY3RzJywgJ2ZpbHRlcicsXG4gICAgICAnZG9jX2lkcycsICd2aWV3JywgJ3NpbmNlJywgJ3F1ZXJ5X3BhcmFtcycsICdiaW5hcnknLCAncmV0dXJuX2RvY3MnXG4gICAgXSk7XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IoKSB7XG4gICAgICBpbnByb2dyZXNzID0gZmFsc2U7XG4gICAgfVxuXG4gICAgZGIuY2hhbmdlcyhjaGFuZ2VzT3B0cykub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChjKSB7XG4gICAgICBpZiAoYy5zZXEgPiBvcHRzLnNpbmNlICYmICFvcHRzLmNhbmNlbGxlZCkge1xuICAgICAgICBvcHRzLnNpbmNlID0gYy5zZXE7XG4gICAgICAgIG9wdHMub25DaGFuZ2UoYyk7XG4gICAgICB9XG4gICAgfSkub24oJ2NvbXBsZXRlJywgZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlucHJvZ3Jlc3MgPT09ICd3YWl0aW5nJykge1xuICAgICAgICBpbW1lZGlhdGUoZXZlbnRGdW5jdGlvbik7XG4gICAgICB9XG4gICAgICBpbnByb2dyZXNzID0gZmFsc2U7XG4gICAgfSkub24oJ2Vycm9yJywgb25FcnJvcik7XG4gIH1cbiAgdGhpcy5fbGlzdGVuZXJzW2lkXSA9IGV2ZW50RnVuY3Rpb247XG4gIHRoaXMub24oZGJOYW1lLCBldmVudEZ1bmN0aW9uKTtcbn07XG5cbkNoYW5nZXMucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID0gZnVuY3Rpb24gKGRiTmFtZSwgaWQpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghKGlkIGluIHRoaXMuX2xpc3RlbmVycykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgRUUucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyLmNhbGwodGhpcywgZGJOYW1lLFxuICAgIHRoaXMuX2xpc3RlbmVyc1tpZF0pO1xuICBkZWxldGUgdGhpcy5fbGlzdGVuZXJzW2lkXTtcbn07XG5cblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbkNoYW5nZXMucHJvdG90eXBlLm5vdGlmeUxvY2FsV2luZG93cyA9IGZ1bmN0aW9uIChkYk5hbWUpIHtcbiAgLy9kbyBhIHVzZWxlc3MgY2hhbmdlIG9uIGEgc3RvcmFnZSB0aGluZ1xuICAvL2luIG9yZGVyIHRvIGdldCBvdGhlciB3aW5kb3dzJ3MgbGlzdGVuZXJzIHRvIGFjdGl2YXRlXG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGxvY2FsU3RvcmFnZVtkYk5hbWVdID0gKGxvY2FsU3RvcmFnZVtkYk5hbWVdID09PSBcImFcIikgPyBcImJcIiA6IFwiYVwiO1xuICB9XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnkgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIHRoaXMuZW1pdChkYk5hbWUpO1xuICB0aGlzLm5vdGlmeUxvY2FsV2luZG93cyhkYk5hbWUpO1xufTtcblxuZnVuY3Rpb24gZ3VhcmRlZENvbnNvbGUobWV0aG9kKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmICh0eXBlb2YgY29uc29sZSAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIGNvbnNvbGVbbWV0aG9kXSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBhcmdzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICBjb25zb2xlW21ldGhvZF0uYXBwbHkoY29uc29sZSwgYXJncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcmFuZG9tTnVtYmVyKG1pbiwgbWF4KSB7XG4gIHZhciBtYXhUaW1lb3V0ID0gNjAwMDAwOyAvLyBIYXJkLWNvZGVkIGRlZmF1bHQgb2YgMTAgbWludXRlc1xuICBtaW4gPSBwYXJzZUludChtaW4sIDEwKSB8fCAwO1xuICBtYXggPSBwYXJzZUludChtYXgsIDEwKTtcbiAgaWYgKG1heCAhPT0gbWF4IHx8IG1heCA8PSBtaW4pIHtcbiAgICBtYXggPSAobWluIHx8IDEpIDw8IDE7IC8vZG91YmxpbmdcbiAgfSBlbHNlIHtcbiAgICBtYXggPSBtYXggKyAxO1xuICB9XG4gIC8vIEluIG9yZGVyIHRvIG5vdCBleGNlZWQgbWF4VGltZW91dCwgcGljayBhIHJhbmRvbSB2YWx1ZSBiZXR3ZWVuIGhhbGYgb2YgbWF4VGltZW91dCBhbmQgbWF4VGltZW91dFxuICBpZiAobWF4ID4gbWF4VGltZW91dCkge1xuICAgIG1pbiA9IG1heFRpbWVvdXQgPj4gMTsgLy8gZGl2aWRlIGJ5IHR3b1xuICAgIG1heCA9IG1heFRpbWVvdXQ7XG4gIH1cbiAgdmFyIHJhdGlvID0gTWF0aC5yYW5kb20oKTtcbiAgdmFyIHJhbmdlID0gbWF4IC0gbWluO1xuXG4gIHJldHVybiB+fihyYW5nZSAqIHJhdGlvICsgbWluKTsgLy8gfn4gY29lcmNlcyB0byBhbiBpbnQsIGJ1dCBmYXN0LlxufVxuXG5mdW5jdGlvbiBkZWZhdWx0QmFja09mZihtaW4pIHtcbiAgdmFyIG1heCA9IDA7XG4gIGlmICghbWluKSB7XG4gICAgbWF4ID0gMjAwMDtcbiAgfVxuICByZXR1cm4gcmFuZG9tTnVtYmVyKG1pbiwgbWF4KTtcbn1cblxuLy8gZGVzaWduZWQgdG8gZ2l2ZSBpbmZvIHRvIGJyb3dzZXIgdXNlcnMsIHdobyBhcmUgZGlzdHVyYmVkXG4vLyB3aGVuIHRoZXkgc2VlIGh0dHAgZXJyb3JzIGluIHRoZSBjb25zb2xlXG5mdW5jdGlvbiBleHBsYWluRXJyb3Ioc3RhdHVzLCBzdHIpIHtcbiAgZ3VhcmRlZENvbnNvbGUoJ2luZm8nLCAnVGhlIGFib3ZlICcgKyBzdGF0dXMgKyAnIGlzIHRvdGFsbHkgbm9ybWFsLiAnICsgc3RyKTtcbn1cblxudmFyIGFzc2lnbjtcbntcbiAgaWYgKHR5cGVvZiBPYmplY3QuYXNzaWduID09PSAnZnVuY3Rpb24nKSB7XG4gICAgYXNzaWduID0gT2JqZWN0LmFzc2lnbjtcbiAgfSBlbHNlIHtcbiAgICAvLyBsaXRlIE9iamVjdC5hc3NpZ24gcG9seWZpbGwgYmFzZWQgb25cbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9KYXZhU2NyaXB0L1JlZmVyZW5jZS9HbG9iYWxfT2JqZWN0cy9PYmplY3QvYXNzaWduXG4gICAgYXNzaWduID0gZnVuY3Rpb24gKHRhcmdldCkge1xuICAgICAgdmFyIHRvID0gT2JqZWN0KHRhcmdldCk7XG5cbiAgICAgIGZvciAodmFyIGluZGV4ID0gMTsgaW5kZXggPCBhcmd1bWVudHMubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgIHZhciBuZXh0U291cmNlID0gYXJndW1lbnRzW2luZGV4XTtcblxuICAgICAgICBpZiAobmV4dFNvdXJjZSAhPSBudWxsKSB7IC8vIFNraXAgb3ZlciBpZiB1bmRlZmluZWQgb3IgbnVsbFxuICAgICAgICAgIGZvciAodmFyIG5leHRLZXkgaW4gbmV4dFNvdXJjZSkge1xuICAgICAgICAgICAgLy8gQXZvaWQgYnVncyB3aGVuIGhhc093blByb3BlcnR5IGlzIHNoYWRvd2VkXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG5leHRTb3VyY2UsIG5leHRLZXkpKSB7XG4gICAgICAgICAgICAgIHRvW25leHRLZXldID0gbmV4dFNvdXJjZVtuZXh0S2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0bztcbiAgICB9O1xuICB9XG59XG5cbnZhciAkaW5qZWN0X09iamVjdF9hc3NpZ24gPSBhc3NpZ247XG5cbmluaGVyaXRzKFBvdWNoRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gUG91Y2hFcnJvcihzdGF0dXMsIGVycm9yLCByZWFzb24pIHtcbiAgRXJyb3IuY2FsbCh0aGlzLCByZWFzb24pO1xuICB0aGlzLnN0YXR1cyA9IHN0YXR1cztcbiAgdGhpcy5uYW1lID0gZXJyb3I7XG4gIHRoaXMubWVzc2FnZSA9IHJlYXNvbjtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG59XG5cblBvdWNoRXJyb3IucHJvdG90eXBlLnRvU3RyaW5nID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoe1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgbmFtZTogdGhpcy5uYW1lLFxuICAgIG1lc3NhZ2U6IHRoaXMubWVzc2FnZSxcbiAgICByZWFzb246IHRoaXMucmVhc29uXG4gIH0pO1xufTtcblxudmFyIFVOQVVUSE9SSVpFRCA9IG5ldyBQb3VjaEVycm9yKDQwMSwgJ3VuYXV0aG9yaXplZCcsIFwiTmFtZSBvciBwYXNzd29yZCBpcyBpbmNvcnJlY3QuXCIpO1xudmFyIE1JU1NJTkdfQlVMS19ET0NTID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCBcIk1pc3NpbmcgSlNPTiBsaXN0IG9mICdkb2NzJ1wiKTtcbnZhciBNSVNTSU5HX0RPQyA9IG5ldyBQb3VjaEVycm9yKDQwNCwgJ25vdF9mb3VuZCcsICdtaXNzaW5nJyk7XG52YXIgUkVWX0NPTkZMSUNUID0gbmV3IFBvdWNoRXJyb3IoNDA5LCAnY29uZmxpY3QnLCAnRG9jdW1lbnQgdXBkYXRlIGNvbmZsaWN0Jyk7XG52YXIgSU5WQUxJRF9JRCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ19pZCBmaWVsZCBtdXN0IGNvbnRhaW4gYSBzdHJpbmcnKTtcbnZhciBNSVNTSU5HX0lEID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnbWlzc2luZ19pZCcsICdfaWQgaXMgcmVxdWlyZWQgZm9yIHB1dHMnKTtcbnZhciBSRVNFUlZFRF9JRCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ09ubHkgcmVzZXJ2ZWQgZG9jdW1lbnQgaWRzIG1heSBzdGFydCB3aXRoIHVuZGVyc2NvcmUuJyk7XG52YXIgTk9UX09QRU4gPSBuZXcgUG91Y2hFcnJvcig0MTIsICdwcmVjb25kaXRpb25fZmFpbGVkJywgJ0RhdGFiYXNlIG5vdCBvcGVuJyk7XG52YXIgVU5LTk9XTl9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ3Vua25vd25fZXJyb3InLCAnRGF0YWJhc2UgZW5jb3VudGVyZWQgYW4gdW5rbm93biBlcnJvcicpO1xudmFyIEJBRF9BUkcgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdiYWRhcmcnLCAnU29tZSBxdWVyeSBhcmd1bWVudCBpcyBpbnZhbGlkJyk7XG52YXIgSU5WQUxJRF9SRVFVRVNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnaW52YWxpZF9yZXF1ZXN0JywgJ1JlcXVlc3Qgd2FzIGludmFsaWQnKTtcbnZhciBRVUVSWV9QQVJTRV9FUlJPUiA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ3F1ZXJ5X3BhcnNlX2Vycm9yJywgJ1NvbWUgcXVlcnkgcGFyYW1ldGVyIGlzIGludmFsaWQnKTtcbnZhciBET0NfVkFMSURBVElPTiA9IG5ldyBQb3VjaEVycm9yKDUwMCwgJ2RvY192YWxpZGF0aW9uJywgJ0JhZCBzcGVjaWFsIGRvY3VtZW50IG1lbWJlcicpO1xudmFyIEJBRF9SRVFVRVNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnU29tZXRoaW5nIHdyb25nIHdpdGggdGhlIHJlcXVlc3QnKTtcbnZhciBOT1RfQU5fT0JKRUNUID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnRG9jdW1lbnQgbXVzdCBiZSBhIEpTT04gb2JqZWN0Jyk7XG52YXIgREJfTUlTU0lORyA9IG5ldyBQb3VjaEVycm9yKDQwNCwgJ25vdF9mb3VuZCcsICdEYXRhYmFzZSBub3QgZm91bmQnKTtcbnZhciBJREJfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdpbmRleGVkX2RiX3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBXU1FfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd3ZWJfc3FsX3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBMREJfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICdsZXZlbERCX3dlbnRfd2VudF9iYWQnLCAndW5rbm93bicpO1xudmFyIEZPUkJJRERFTiA9IG5ldyBQb3VjaEVycm9yKDQwMywgJ2ZvcmJpZGRlbicsICdGb3JiaWRkZW4gYnkgZGVzaWduIGRvYyB2YWxpZGF0ZV9kb2NfdXBkYXRlIGZ1bmN0aW9uJyk7XG52YXIgSU5WQUxJRF9SRVYgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdJbnZhbGlkIHJldiBmb3JtYXQnKTtcbnZhciBGSUxFX0VYSVNUUyA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ2ZpbGVfZXhpc3RzJywgJ1RoZSBkYXRhYmFzZSBjb3VsZCBub3QgYmUgY3JlYXRlZCwgdGhlIGZpbGUgYWxyZWFkeSBleGlzdHMuJyk7XG52YXIgTUlTU0lOR19TVFVCID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAnbWlzc2luZ19zdHViJywgJ0EgcHJlLWV4aXN0aW5nIGF0dGFjaG1lbnQgc3R1YiB3YXNuXFwndCBmb3VuZCcpO1xudmFyIElOVkFMSURfVVJMID0gbmV3IFBvdWNoRXJyb3IoNDEzLCAnaW52YWxpZF91cmwnLCAnUHJvdmlkZWQgVVJMIGlzIGludmFsaWQnKTtcblxuZnVuY3Rpb24gY3JlYXRlRXJyb3IoZXJyb3IsIHJlYXNvbikge1xuICBmdW5jdGlvbiBDdXN0b21Qb3VjaEVycm9yKHJlYXNvbikge1xuICAgIC8vIGluaGVyaXQgZXJyb3IgcHJvcGVydGllcyBmcm9tIG91ciBwYXJlbnQgZXJyb3IgbWFudWFsbHlcbiAgICAvLyBzbyBhcyB0byBhbGxvdyBwcm9wZXIgSlNPTiBwYXJzaW5nLlxuICAgIC8qIGpzaGludCBpZ25vcmU6c3RhcnQgKi9cbiAgICB2YXIgbmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhlcnJvcik7XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IG5hbWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBpZiAodHlwZW9mIGVycm9yW25hbWVzW2ldXSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzW25hbWVzW2ldXSA9IGVycm9yW25hbWVzW2ldXTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5zdGFjayA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgICB9XG5cbiAgICAvKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuICAgIGlmIChyZWFzb24gIT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gICAgfVxuICB9XG4gIEN1c3RvbVBvdWNoRXJyb3IucHJvdG90eXBlID0gUG91Y2hFcnJvci5wcm90b3R5cGU7XG4gIHJldHVybiBuZXcgQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pO1xufVxuXG5mdW5jdGlvbiBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikge1xuXG4gIGlmICh0eXBlb2YgZXJyICE9PSAnb2JqZWN0Jykge1xuICAgIHZhciBkYXRhID0gZXJyO1xuICAgIGVyciA9IFVOS05PV05fRVJST1I7XG4gICAgZXJyLmRhdGEgPSBkYXRhO1xuICB9XG5cbiAgaWYgKCdlcnJvcicgaW4gZXJyICYmIGVyci5lcnJvciA9PT0gJ2NvbmZsaWN0Jykge1xuICAgIGVyci5uYW1lID0gJ2NvbmZsaWN0JztcbiAgICBlcnIuc3RhdHVzID0gNDA5O1xuICB9XG5cbiAgaWYgKCEoJ25hbWUnIGluIGVycikpIHtcbiAgICBlcnIubmFtZSA9IGVyci5lcnJvciB8fCAndW5rbm93bic7XG4gIH1cblxuICBpZiAoISgnc3RhdHVzJyBpbiBlcnIpKSB7XG4gICAgZXJyLnN0YXR1cyA9IDUwMDtcbiAgfVxuXG4gIGlmICghKCdtZXNzYWdlJyBpbiBlcnIpKSB7XG4gICAgZXJyLm1lc3NhZ2UgPSBlcnIubWVzc2FnZSB8fCBlcnIucmVhc29uO1xuICB9XG5cbiAgaWYgKCEoJ3N0YWNrJyBpbiBlcnIpKSB7XG4gICAgZXJyLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbiAgfVxuXG4gIHJldHVybiBlcnI7XG59XG5cbmZ1bmN0aW9uIHRyeUZpbHRlcihmaWx0ZXIsIGRvYywgcmVxKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuICFmaWx0ZXIoZG9jLCByZXEpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICB2YXIgbXNnID0gJ0ZpbHRlciBmdW5jdGlvbiB0aHJldzogJyArIGVyci50b1N0cmluZygpO1xuICAgIHJldHVybiBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCwgbXNnKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBmaWx0ZXJDaGFuZ2Uob3B0cykge1xuICB2YXIgcmVxID0ge307XG4gIHZhciBoYXNGaWx0ZXIgPSBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbic7XG4gIHJlcS5xdWVyeSA9IG9wdHMucXVlcnlfcGFyYW1zO1xuXG4gIHJldHVybiBmdW5jdGlvbiBmaWx0ZXIoY2hhbmdlKSB7XG4gICAgaWYgKCFjaGFuZ2UuZG9jKSB7XG4gICAgICAvLyBDU0cgc2VuZHMgZXZlbnRzIG9uIHRoZSBjaGFuZ2VzIGZlZWQgdGhhdCBkb24ndCBoYXZlIGRvY3VtZW50cyxcbiAgICAgIC8vIHRoaXMgaGFjayBtYWtlcyBhIHdob2xlIGxvdCBvZiBleGlzdGluZyBjb2RlIHJvYnVzdC5cbiAgICAgIGNoYW5nZS5kb2MgPSB7fTtcbiAgICB9XG5cbiAgICB2YXIgZmlsdGVyUmV0dXJuID0gaGFzRmlsdGVyICYmIHRyeUZpbHRlcihvcHRzLmZpbHRlciwgY2hhbmdlLmRvYywgcmVxKTtcblxuICAgIGlmICh0eXBlb2YgZmlsdGVyUmV0dXJuID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGZpbHRlclJldHVybjtcbiAgICB9XG5cbiAgICBpZiAoZmlsdGVyUmV0dXJuKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKCFvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgZGVsZXRlIGNoYW5nZS5kb2M7XG4gICAgfSBlbHNlIGlmICghb3B0cy5hdHRhY2htZW50cykge1xuICAgICAgZm9yICh2YXIgYXR0IGluIGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoY2hhbmdlLmRvYy5fYXR0YWNobWVudHMsIGF0dCkpIHtcbiAgICAgICAgICBjaGFuZ2UuZG9jLl9hdHRhY2htZW50c1thdHRdLnN0dWIgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmbGF0dGVuKGFycnMpIHtcbiAgdmFyIHJlcyA9IFtdO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gYXJycy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHJlcyA9IHJlcy5jb25jYXQoYXJyc1tpXSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gc2hpbSBmb3IgRnVuY3Rpb24ucHJvdG90eXBlLm5hbWUsXG5cbi8vIERldGVybWluZSBpZCBhbiBJRCBpcyB2YWxpZFxuLy8gICAtIGludmFsaWQgSURzIGJlZ2luIHdpdGggYW4gdW5kZXJlc2NvcmUgdGhhdCBkb2VzIG5vdCBiZWdpbiAnX2Rlc2lnbicgb3Jcbi8vICAgICAnX2xvY2FsJ1xuLy8gICAtIGFueSBvdGhlciBzdHJpbmcgdmFsdWUgaXMgYSB2YWxpZCBpZFxuLy8gUmV0dXJucyB0aGUgc3BlY2lmaWMgZXJyb3Igb2JqZWN0IGZvciBlYWNoIGNhc2VcbmZ1bmN0aW9uIGludmFsaWRJZEVycm9yKGlkKSB7XG4gIHZhciBlcnI7XG4gIGlmICghaWQpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0lEKTtcbiAgfSBlbHNlIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoSU5WQUxJRF9JRCk7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KGlkKSAmJiAhKC9eXyhkZXNpZ258bG9jYWwpLykudGVzdChpZCkpIHtcbiAgICBlcnIgPSBjcmVhdGVFcnJvcihSRVNFUlZFRF9JRCk7XG4gIH1cbiAgaWYgKGVycikge1xuICAgIHRocm93IGVycjtcbiAgfVxufVxuXG4vLyBDaGVja3MgaWYgYSBQb3VjaERCIG9iamVjdCBpcyBcInJlbW90ZVwiIG9yIG5vdC4gVGhpcyBpc1xuXG5mdW5jdGlvbiBpc1JlbW90ZShkYikge1xuICBpZiAodHlwZW9mIGRiLl9yZW1vdGUgPT09ICdib29sZWFuJykge1xuICAgIHJldHVybiBkYi5fcmVtb3RlO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmICh0eXBlb2YgZGIudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJyxcbiAgICAgICdkYi50eXBlKCkgaXMgZGVwcmVjYXRlZCBhbmQgd2lsbCBiZSByZW1vdmVkIGluICcgK1xuICAgICAgJ2EgZnV0dXJlIHZlcnNpb24gb2YgUG91Y2hEQicpO1xuICAgIHJldHVybiBkYi50eXBlKCkgPT09ICdodHRwJztcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQoZWUsIHR5cGUpIHtcbiAgcmV0dXJuICdsaXN0ZW5lckNvdW50JyBpbiBlZSA/IGVlLmxpc3RlbmVyQ291bnQodHlwZSkgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgRUUubGlzdGVuZXJDb3VudChlZSwgdHlwZSk7XG59XG5cbmZ1bmN0aW9uIHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgaWYgKCFzKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHBhcnRzID0gcy5zcGxpdCgnLycpO1xuICBpZiAocGFydHMubGVuZ3RoID09PSAyKSB7XG4gICAgcmV0dXJuIHBhcnRzO1xuICB9XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDEpIHtcbiAgICByZXR1cm4gW3MsIHNdO1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUocykge1xuICB2YXIgbm9ybWFsaXplZCA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpO1xuICByZXR1cm4gbm9ybWFsaXplZCA/IG5vcm1hbGl6ZWQuam9pbignLycpIDogbnVsbDtcbn1cblxuLy8gb3JpZ2luYWxseSBwYXJzZVVyaSAxLjIuMiwgbm93IHBhdGNoZWQgYnkgdXNcbi8vIChjKSBTdGV2ZW4gTGV2aXRoYW4gPHN0ZXZlbmxldml0aGFuLmNvbT5cbi8vIE1JVCBMaWNlbnNlXG52YXIga2V5cyA9IFtcInNvdXJjZVwiLCBcInByb3RvY29sXCIsIFwiYXV0aG9yaXR5XCIsIFwidXNlckluZm9cIiwgXCJ1c2VyXCIsIFwicGFzc3dvcmRcIixcbiAgICBcImhvc3RcIiwgXCJwb3J0XCIsIFwicmVsYXRpdmVcIiwgXCJwYXRoXCIsIFwiZGlyZWN0b3J5XCIsIFwiZmlsZVwiLCBcInF1ZXJ5XCIsIFwiYW5jaG9yXCJdO1xudmFyIHFOYW1lID1cInF1ZXJ5S2V5XCI7XG52YXIgcVBhcnNlciA9IC8oPzpefCYpKFteJj1dKik9PyhbXiZdKikvZztcblxuLy8gdXNlIHRoZSBcImxvb3NlXCIgcGFyc2VyXG4vKiBlc2xpbnQgbm8tdXNlbGVzcy1lc2NhcGU6IDAgKi9cbnZhciBwYXJzZXIgPSAvXig/Oig/IVteOkBdKzpbXjpAXFwvXSpAKShbXjpcXC8/Iy5dKyk6KT8oPzpcXC9cXC8pPygoPzooKFteOkBdKikoPzo6KFteOkBdKikpPyk/QCk/KFteOlxcLz8jXSopKD86OihcXGQqKSk/KSgoKFxcLyg/OltePyNdKD8hW14/I1xcL10qXFwuW14/I1xcLy5dKyg/Ols/I118JCkpKSpcXC8/KT8oW14/I1xcL10qKSkoPzpcXD8oW14jXSopKT8oPzojKC4qKSk/KS87XG5cbmZ1bmN0aW9uIHBhcnNlVXJpKHN0cikge1xuICB2YXIgbSA9IHBhcnNlci5leGVjKHN0cik7XG4gIHZhciB1cmkgPSB7fTtcbiAgdmFyIGkgPSAxNDtcblxuICB3aGlsZSAoaS0tKSB7XG4gICAgdmFyIGtleSA9IGtleXNbaV07XG4gICAgdmFyIHZhbHVlID0gbVtpXSB8fCBcIlwiO1xuICAgIHZhciBlbmNvZGVkID0gWyd1c2VyJywgJ3Bhc3N3b3JkJ10uaW5kZXhPZihrZXkpICE9PSAtMTtcbiAgICB1cmlba2V5XSA9IGVuY29kZWQgPyBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpIDogdmFsdWU7XG4gIH1cblxuICB1cmlbcU5hbWVdID0ge307XG4gIHVyaVtrZXlzWzEyXV0ucmVwbGFjZShxUGFyc2VyLCBmdW5jdGlvbiAoJDAsICQxLCAkMikge1xuICAgIGlmICgkMSkge1xuICAgICAgdXJpW3FOYW1lXVskMV0gPSAkMjtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB1cmk7XG59XG5cbi8vIEJhc2VkIG9uIGh0dHBzOi8vZ2l0aHViLmNvbS9hbGV4ZGF2aWQvc2NvcGUtZXZhbCB2MC4wLjNcbi8vIChzb3VyY2U6IGh0dHBzOi8vdW5wa2cuY29tL3Njb3BlLWV2YWxAMC4wLjMvc2NvcGVfZXZhbC5qcylcbi8vIFRoaXMgaXMgYmFzaWNhbGx5IGp1c3QgYSB3cmFwcGVyIGFyb3VuZCBuZXcgRnVuY3Rpb24oKVxuXG5mdW5jdGlvbiBzY29wZUV2YWwoc291cmNlLCBzY29wZSkge1xuICB2YXIga2V5cyA9IFtdO1xuICB2YXIgdmFsdWVzID0gW107XG4gIGZvciAodmFyIGtleSBpbiBzY29wZSkge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc2NvcGUsIGtleSkpIHtcbiAgICAgIGtleXMucHVzaChrZXkpO1xuICAgICAgdmFsdWVzLnB1c2goc2NvcGVba2V5XSk7XG4gICAgfVxuICB9XG4gIGtleXMucHVzaChzb3VyY2UpO1xuICByZXR1cm4gRnVuY3Rpb24uYXBwbHkobnVsbCwga2V5cykuYXBwbHkobnVsbCwgdmFsdWVzKTtcbn1cblxuLy8gdGhpcyBpcyBlc3NlbnRpYWxseSB0aGUgXCJ1cGRhdGUgc3VnYXJcIiBmdW5jdGlvbiBmcm9tIGRhbGVoYXJ2ZXkvcG91Y2hkYiMxMzg4XG4vLyB0aGUgZGlmZkZ1biB0ZWxscyB1cyB3aGF0IGRlbHRhIHRvIGFwcGx5IHRvIHRoZSBkb2MuICBpdCBlaXRoZXIgcmV0dXJuc1xuLy8gdGhlIGRvYywgb3IgZmFsc2UgaWYgaXQgZG9lc24ndCBuZWVkIHRvIGRvIGFuIHVwZGF0ZSBhZnRlciBhbGxcbmZ1bmN0aW9uIHVwc2VydChkYiwgZG9jSWQsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLmdldChkb2NJZClcbiAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgICAgLy8gdGhlIHVzZXIgbWlnaHQgY2hhbmdlIHRoZSBfcmV2LCBzbyBzYXZlIGl0IGZvciBwb3N0ZXJpdHlcbiAgICAgIHZhciBkb2NSZXYgPSBkb2MuX3JldjtcbiAgICAgIHZhciBuZXdEb2MgPSBkaWZmRnVuKGRvYyk7XG5cbiAgICAgIGlmICghbmV3RG9jKSB7XG4gICAgICAgIC8vIGlmIHRoZSBkaWZmRnVuIHJldHVybnMgZmFsc3ksIHdlIHNob3J0LWNpcmN1aXQgYXNcbiAgICAgICAgLy8gYW4gb3B0aW1pemF0aW9uXG4gICAgICAgIHJldHVybiB7dXBkYXRlZDogZmFsc2UsIHJldjogZG9jUmV2fTtcbiAgICAgIH1cblxuICAgICAgLy8gdXNlcnMgYXJlbid0IGFsbG93ZWQgdG8gbW9kaWZ5IHRoZXNlIHZhbHVlcyxcbiAgICAgIC8vIHNvIHJlc2V0IHRoZW0gaGVyZVxuICAgICAgbmV3RG9jLl9pZCA9IGRvY0lkO1xuICAgICAgbmV3RG9jLl9yZXYgPSBkb2NSZXY7XG4gICAgICByZXR1cm4gdHJ5QW5kUHV0KGRiLCBuZXdEb2MsIGRpZmZGdW4pO1xuICAgIH0pO1xufVxuXG5mdW5jdGlvbiB0cnlBbmRQdXQoZGIsIGRvYywgZGlmZkZ1bikge1xuICByZXR1cm4gZGIucHV0KGRvYykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVwZGF0ZWQ6IHRydWUsXG4gICAgICByZXY6IHJlcy5yZXZcbiAgICB9O1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA5KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiB1cHNlcnQoZGIsIGRvYy5faWQsIGRpZmZGdW4pO1xuICB9KTtcbn1cblxudmFyIHRoaXNBdG9iID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gYXRvYihzdHIpO1xufTtcblxudmFyIHRoaXNCdG9hID0gZnVuY3Rpb24gKHN0cikge1xuICByZXR1cm4gYnRvYShzdHIpO1xufTtcblxuLy8gQWJzdHJhY3RzIGNvbnN0cnVjdGluZyBhIEJsb2Igb2JqZWN0LCBzbyBpdCBhbHNvIHdvcmtzIGluIG9sZGVyXG4vLyBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgdGhlIG5hdGl2ZSBCbG9iIGNvbnN0cnVjdG9yIChlLmcuXG4vLyBvbGQgUXRXZWJLaXQgdmVyc2lvbnMsIEFuZHJvaWQgPCA0LjQpLlxuZnVuY3Rpb24gY3JlYXRlQmxvYihwYXJ0cywgcHJvcGVydGllcykge1xuICAvKiBnbG9iYWwgQmxvYkJ1aWxkZXIsTVNCbG9iQnVpbGRlcixNb3pCbG9iQnVpbGRlcixXZWJLaXRCbG9iQnVpbGRlciAqL1xuICBwYXJ0cyA9IHBhcnRzIHx8IFtdO1xuICBwcm9wZXJ0aWVzID0gcHJvcGVydGllcyB8fCB7fTtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEJsb2IocGFydHMsIHByb3BlcnRpZXMpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaWYgKGUubmFtZSAhPT0gXCJUeXBlRXJyb3JcIikge1xuICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgdmFyIEJ1aWxkZXIgPSB0eXBlb2YgQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1TQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTVNCbG9iQnVpbGRlciA6XG4gICAgICAgICAgICAgICAgICB0eXBlb2YgTW96QmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnID8gTW96QmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgV2ViS2l0QmxvYkJ1aWxkZXI7XG4gICAgdmFyIGJ1aWxkZXIgPSBuZXcgQnVpbGRlcigpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcGFydHMubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgIGJ1aWxkZXIuYXBwZW5kKHBhcnRzW2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ1aWxkZXIuZ2V0QmxvYihwcm9wZXJ0aWVzLnR5cGUpO1xuICB9XG59XG5cbi8vIEZyb20gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xNDk2NzY0Ny8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vLyBlbmNvZGUtZGVjb2RlLWltYWdlLXdpdGgtYmFzZTY0LWJyZWFrcy1pbWFnZSAoMjAxMy0wNC0yMSlcbmZ1bmN0aW9uIGJpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluKSB7XG4gIHZhciBsZW5ndGggPSBiaW4ubGVuZ3RoO1xuICB2YXIgYnVmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCk7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheShidWYpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgYXJyW2ldID0gYmluLmNoYXJDb2RlQXQoaSk7XG4gIH1cbiAgcmV0dXJuIGJ1Zjtcbn1cblxuZnVuY3Rpb24gYmluU3RyaW5nVG9CbHVmZmVyKGJpblN0cmluZywgdHlwZSkge1xuICByZXR1cm4gY3JlYXRlQmxvYihbYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlcihiaW5TdHJpbmcpXSwge3R5cGU6IHR5cGV9KTtcbn1cblxuZnVuY3Rpb24gYjY0VG9CbHVmZmVyKGI2NCwgdHlwZSkge1xuICByZXR1cm4gYmluU3RyaW5nVG9CbHVmZmVyKHRoaXNBdG9iKGI2NCksIHR5cGUpO1xufVxuXG4vL0Nhbid0IGZpbmQgb3JpZ2luYWwgcG9zdCwgYnV0IHRoaXMgaXMgY2xvc2Vcbi8vaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy82OTY1MTA3LyAoY29udGludWVzIG9uIG5leHQgbGluZSlcbi8vY29udmVydGluZy1iZXR3ZWVuLXN0cmluZ3MtYW5kLWFycmF5YnVmZmVyc1xuZnVuY3Rpb24gYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhidWZmZXIpIHtcbiAgdmFyIGJpbmFyeSA9ICcnO1xuICB2YXIgYnl0ZXMgPSBuZXcgVWludDhBcnJheShidWZmZXIpO1xuICB2YXIgbGVuZ3RoID0gYnl0ZXMuYnl0ZUxlbmd0aDtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGJpbmFyeSArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKGJ5dGVzW2ldKTtcbiAgfVxuICByZXR1cm4gYmluYXJ5O1xufVxuXG4vLyBzaGltIGZvciBicm93c2VycyB0aGF0IGRvbid0IHN1cHBvcnQgaXRcbmZ1bmN0aW9uIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iLCBjYWxsYmFjaykge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgdmFyIGhhc0JpbmFyeVN0cmluZyA9IHR5cGVvZiByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nID09PSAnZnVuY3Rpb24nO1xuICByZWFkZXIub25sb2FkZW5kID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgcmVzdWx0ID0gZS50YXJnZXQucmVzdWx0IHx8ICcnO1xuICAgIGlmIChoYXNCaW5hcnlTdHJpbmcpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhyZXN1bHQpO1xuICAgIH1cbiAgICBjYWxsYmFjayhhcnJheUJ1ZmZlclRvQmluYXJ5U3RyaW5nKHJlc3VsdCkpO1xuICB9O1xuICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhibG9iKTtcbiAgfSBlbHNlIHtcbiAgICByZWFkZXIucmVhZEFzQXJyYXlCdWZmZXIoYmxvYik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgcmVhZEFzQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJpbikge1xuICAgIGNhbGxiYWNrKGJpbik7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBibG9iVG9CYXNlNjQoYmxvYk9yQnVmZmVyLCBjYWxsYmFjaykge1xuICBibG9iVG9CaW5hcnlTdHJpbmcoYmxvYk9yQnVmZmVyLCBmdW5jdGlvbiAoYmFzZTY0KSB7XG4gICAgY2FsbGJhY2sodGhpc0J0b2EoYmFzZTY0KSk7XG4gIH0pO1xufVxuXG4vLyBzaW1wbGlmaWVkIEFQSS4gdW5pdmVyc2FsIGJyb3dzZXIgc3VwcG9ydCBpcyBhc3N1bWVkXG5mdW5jdGlvbiByZWFkQXNBcnJheUJ1ZmZlcihibG9iLCBjYWxsYmFjaykge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCBuZXcgQXJyYXlCdWZmZXIoMCk7XG4gICAgY2FsbGJhY2socmVzdWx0KTtcbiAgfTtcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xufVxuXG4vLyB0aGlzIGlzIG5vdCB1c2VkIGluIHRoZSBicm93c2VyXG5cbnZhciBzZXRJbW1lZGlhdGVTaGltID0gc2VsZi5zZXRJbW1lZGlhdGUgfHwgc2VsZi5zZXRUaW1lb3V0O1xudmFyIE1ENV9DSFVOS19TSVpFID0gMzI3Njg7XG5cbmZ1bmN0aW9uIHJhd1RvQmFzZTY0KHJhdykge1xuICByZXR1cm4gdGhpc0J0b2EocmF3KTtcbn1cblxuZnVuY3Rpb24gc2xpY2VCbG9iKGJsb2IsIHN0YXJ0LCBlbmQpIHtcbiAgaWYgKGJsb2Iud2Via2l0U2xpY2UpIHtcbiAgICByZXR1cm4gYmxvYi53ZWJraXRTbGljZShzdGFydCwgZW5kKTtcbiAgfVxuICByZXR1cm4gYmxvYi5zbGljZShzdGFydCwgZW5kKTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kQmxvYihidWZmZXIsIGJsb2IsIHN0YXJ0LCBlbmQsIGNhbGxiYWNrKSB7XG4gIGlmIChzdGFydCA+IDAgfHwgZW5kIDwgYmxvYi5zaXplKSB7XG4gICAgLy8gb25seSBzbGljZSBibG9iIGlmIHdlIHJlYWxseSBuZWVkIHRvXG4gICAgYmxvYiA9IHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKTtcbiAgfVxuICByZWFkQXNBcnJheUJ1ZmZlcihibG9iLCBmdW5jdGlvbiAoYXJyYXlCdWZmZXIpIHtcbiAgICBidWZmZXIuYXBwZW5kKGFycmF5QnVmZmVyKTtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXBwZW5kU3RyaW5nKGJ1ZmZlciwgc3RyaW5nLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IHN0cmluZy5sZW5ndGgpIHtcbiAgICAvLyBvbmx5IGNyZWF0ZSBhIHN1YnN0cmluZyBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGVuZCk7XG4gIH1cbiAgYnVmZmVyLmFwcGVuZEJpbmFyeShzdHJpbmcpO1xuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBiaW5hcnlNZDUoZGF0YSwgY2FsbGJhY2spIHtcbiAgdmFyIGlucHV0SXNTdHJpbmcgPSB0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZyc7XG4gIHZhciBsZW4gPSBpbnB1dElzU3RyaW5nID8gZGF0YS5sZW5ndGggOiBkYXRhLnNpemU7XG4gIHZhciBjaHVua1NpemUgPSBNYXRoLm1pbihNRDVfQ0hVTktfU0laRSwgbGVuKTtcbiAgdmFyIGNodW5rcyA9IE1hdGguY2VpbChsZW4gLyBjaHVua1NpemUpO1xuICB2YXIgY3VycmVudENodW5rID0gMDtcbiAgdmFyIGJ1ZmZlciA9IGlucHV0SXNTdHJpbmcgPyBuZXcgTWQ1KCkgOiBuZXcgTWQ1LkFycmF5QnVmZmVyKCk7XG5cbiAgdmFyIGFwcGVuZCA9IGlucHV0SXNTdHJpbmcgPyBhcHBlbmRTdHJpbmcgOiBhcHBlbmRCbG9iO1xuXG4gIGZ1bmN0aW9uIG5leHQoKSB7XG4gICAgc2V0SW1tZWRpYXRlU2hpbShsb2FkTmV4dENodW5rKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgdmFyIHJhdyA9IGJ1ZmZlci5lbmQodHJ1ZSk7XG4gICAgdmFyIGJhc2U2NCA9IHJhd1RvQmFzZTY0KHJhdyk7XG4gICAgY2FsbGJhY2soYmFzZTY0KTtcbiAgICBidWZmZXIuZGVzdHJveSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9hZE5leHRDaHVuaygpIHtcbiAgICB2YXIgc3RhcnQgPSBjdXJyZW50Q2h1bmsgKiBjaHVua1NpemU7XG4gICAgdmFyIGVuZCA9IHN0YXJ0ICsgY2h1bmtTaXplO1xuICAgIGN1cnJlbnRDaHVuaysrO1xuICAgIGlmIChjdXJyZW50Q2h1bmsgPCBjaHVua3MpIHtcbiAgICAgIGFwcGVuZChidWZmZXIsIGRhdGEsIHN0YXJ0LCBlbmQsIG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBkb25lKTtcbiAgICB9XG4gIH1cbiAgbG9hZE5leHRDaHVuaygpO1xufVxuXG5mdW5jdGlvbiBzdHJpbmdNZDUoc3RyaW5nKSB7XG4gIHJldHVybiBNZDUuaGFzaChzdHJpbmcpO1xufVxuXG4vKipcbiAqIENyZWF0ZXMgYSBuZXcgcmV2aXNpb24gc3RyaW5nIHRoYXQgZG9lcyBOT1QgaW5jbHVkZSB0aGUgcmV2aXNpb24gaGVpZ2h0XG4gKiBGb3IgZXhhbXBsZSAnNTY2NDlmMWIwNTA2YzZjYTlmZGEwNzQ2ZWIwY2FjZGYnXG4gKi9cbmZ1bmN0aW9uIHJldiQkMShkb2MsIGRldGVybWluaXN0aWNfcmV2cykge1xuICBpZiAoIWRldGVybWluaXN0aWNfcmV2cykge1xuICAgIHJldHVybiB2NCgpLnJlcGxhY2UoLy0vZywgJycpLnRvTG93ZXJDYXNlKCk7XG4gIH1cblxuICB2YXIgbXV0YXRlYWJsZURvYyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgZG9jKTtcbiAgZGVsZXRlIG11dGF0ZWFibGVEb2MuX3Jldl90cmVlO1xuICByZXR1cm4gc3RyaW5nTWQ1KEpTT04uc3RyaW5naWZ5KG11dGF0ZWFibGVEb2MpKTtcbn1cblxudmFyIHV1aWQgPSB2NDsgLy8gbWltaWMgb2xkIGltcG9ydCwgb25seSB2NCBpcyBldmVyIHVzZWQgZWxzZXdoZXJlXG5cbi8vIFdlIGZldGNoIGFsbCBsZWFmcyBvZiB0aGUgcmV2aXNpb24gdHJlZSwgYW5kIHNvcnQgdGhlbSBiYXNlZCBvbiB0cmVlIGxlbmd0aFxuLy8gYW5kIHdoZXRoZXIgdGhleSB3ZXJlIGRlbGV0ZWQsIHVuZGVsZXRlZCBkb2N1bWVudHMgd2l0aCB0aGUgbG9uZ2VzdCByZXZpc2lvblxuLy8gdHJlZSAobW9zdCBlZGl0cykgd2luXG4vLyBUaGUgZmluYWwgc29ydCBhbGdvcml0aG0gaXMgc2xpZ2h0bHkgZG9jdW1lbnRlZCBpbiBhIHNpZGViYXIgaGVyZTpcbi8vIGh0dHA6Ly9ndWlkZS5jb3VjaGRiLm9yZy9kcmFmdC9jb25mbGljdHMuaHRtbFxuZnVuY3Rpb24gd2lubmluZ1JldihtZXRhZGF0YSkge1xuICB2YXIgd2lubmluZ0lkO1xuICB2YXIgd2lubmluZ1BvcztcbiAgdmFyIHdpbm5pbmdEZWxldGVkO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgaWYgKGJyYW5jaGVzLmxlbmd0aCkgeyAvLyBub24tbGVhZlxuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgICB9XG4gICAgICBjb250aW51ZTtcbiAgICB9XG4gICAgdmFyIGRlbGV0ZWQgPSAhIXRyZWVbMV0uZGVsZXRlZDtcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIC8vIHNvcnQgYnkgZGVsZXRlZCwgdGhlbiBwb3MsIHRoZW4gaWRcbiAgICBpZiAoIXdpbm5pbmdJZCB8fCAod2lubmluZ0RlbGV0ZWQgIT09IGRlbGV0ZWQgPyB3aW5uaW5nRGVsZXRlZCA6XG4gICAgICAgIHdpbm5pbmdQb3MgIT09IHBvcyA/IHdpbm5pbmdQb3MgPCBwb3MgOiB3aW5uaW5nSWQgPCBpZCkpIHtcbiAgICAgIHdpbm5pbmdJZCA9IGlkO1xuICAgICAgd2lubmluZ1BvcyA9IHBvcztcbiAgICAgIHdpbm5pbmdEZWxldGVkID0gZGVsZXRlZDtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gd2lubmluZ1BvcyArICctJyArIHdpbm5pbmdJZDtcbn1cblxuLy8gUHJldHR5IG11Y2ggYWxsIGJlbG93IGNhbiBiZSBjb21iaW5lZCBpbnRvIGEgaGlnaGVyIG9yZGVyIGZ1bmN0aW9uIHRvXG4vLyB0cmF2ZXJzZSByZXZpc2lvbnNcbi8vIFRoZSByZXR1cm4gdmFsdWUgZnJvbSB0aGUgY2FsbGJhY2sgd2lsbCBiZSBwYXNzZWQgYXMgY29udGV4dCB0byBhbGxcbi8vIGNoaWxkcmVuIG9mIHRoYXQgbm9kZVxuZnVuY3Rpb24gdHJhdmVyc2VSZXZUcmVlKHJldnMsIGNhbGxiYWNrKSB7XG4gIHZhciB0b1Zpc2l0ID0gcmV2cy5zbGljZSgpO1xuXG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIG5ld0N0eCA9XG4gICAgICBjYWxsYmFjayhicmFuY2hlcy5sZW5ndGggPT09IDAsIHBvcywgdHJlZVswXSwgbm9kZS5jdHgsIHRyZWVbMV0pO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV0sIGN0eDogbmV3Q3R4fSk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyhhLCBiKSB7XG4gIHJldHVybiBhLnBvcyAtIGIucG9zO1xufVxuXG5mdW5jdGlvbiBjb2xsZWN0TGVhdmVzKHJldnMpIHtcbiAgdmFyIGxlYXZlcyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUocmV2cywgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCBpZCwgYWNjLCBvcHRzKSB7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgbGVhdmVzLnB1c2goe3JldjogcG9zICsgXCItXCIgKyBpZCwgcG9zOiBwb3MsIG9wdHM6IG9wdHN9KTtcbiAgICB9XG4gIH0pO1xuICBsZWF2ZXMuc29ydChzb3J0QnlQb3MpLnJldmVyc2UoKTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxlYXZlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGRlbGV0ZSBsZWF2ZXNbaV0ucG9zO1xuICB9XG4gIHJldHVybiBsZWF2ZXM7XG59XG5cbi8vIHJldHVybnMgcmV2cyBvZiBhbGwgY29uZmxpY3RzIHRoYXQgaXMgbGVhdmVzIHN1Y2ggdGhhdFxuLy8gMS4gYXJlIG5vdCBkZWxldGVkIGFuZFxuLy8gMi4gYXJlIGRpZmZlcmVudCB0aGFuIHdpbm5pbmcgcmV2aXNpb25cbmZ1bmN0aW9uIGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpIHtcbiAgdmFyIHdpbiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB2YXIgbGVhdmVzID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSk7XG4gIHZhciBjb25mbGljdHMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGxlYXZlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBsZWFmID0gbGVhdmVzW2ldO1xuICAgIGlmIChsZWFmLnJldiAhPT0gd2luICYmICFsZWFmLm9wdHMuZGVsZXRlZCkge1xuICAgICAgY29uZmxpY3RzLnB1c2gobGVhZi5yZXYpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY29uZmxpY3RzO1xufVxuXG4vLyBjb21wYWN0IGEgdHJlZSBieSBtYXJraW5nIGl0cyBub24tbGVhZnMgYXMgbWlzc2luZyxcbi8vIGFuZCByZXR1cm4gYSBsaXN0IG9mIHJldnMgdG8gZGVsZXRlXG5mdW5jdGlvbiBjb21wYWN0VHJlZShtZXRhZGF0YSkge1xuICB2YXIgcmV2cyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUobWV0YWRhdGEucmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2SGFzaCwgY3R4LCBvcHRzKSB7XG4gICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiAhaXNMZWFmKSB7XG4gICAgICByZXZzLnB1c2gocG9zICsgJy0nICsgcmV2SGFzaCk7XG4gICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmV2cztcbn1cblxuLy8gYnVpbGQgdXAgYSBsaXN0IG9mIGFsbCB0aGUgcGF0aHMgdG8gdGhlIGxlYWZzIGluIHRoaXMgcmV2aXNpb24gdHJlZVxuZnVuY3Rpb24gcm9vdFRvTGVhZihyZXZzKSB7XG4gIHZhciBwYXRocyA9IFtdO1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIHZhciB0cmVlID0gbm9kZS5pZHM7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICB2YXIgb3B0cyA9IHRyZWVbMV07XG4gICAgdmFyIGJyYW5jaGVzID0gdHJlZVsyXTtcbiAgICB2YXIgaXNMZWFmID0gYnJhbmNoZXMubGVuZ3RoID09PSAwO1xuXG4gICAgdmFyIGhpc3RvcnkgPSBub2RlLmhpc3RvcnkgPyBub2RlLmhpc3Rvcnkuc2xpY2UoKSA6IFtdO1xuICAgIGhpc3RvcnkucHVzaCh7aWQ6IGlkLCBvcHRzOiBvcHRzfSk7XG4gICAgaWYgKGlzTGVhZikge1xuICAgICAgcGF0aHMucHVzaCh7cG9zOiAocG9zICsgMSAtIGhpc3RvcnkubGVuZ3RoKSwgaWRzOiBoaXN0b3J5fSk7XG4gICAgfVxuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbaV0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhdGhzLnJldmVyc2UoKTtcbn1cblxuLy8gZm9yIGEgYmV0dGVyIG92ZXJ2aWV3IG9mIHdoYXQgdGhpcyBpcyBkb2luZywgcmVhZDpcblxuZnVuY3Rpb24gc29ydEJ5UG9zJDEoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuLy8gY2xhc3NpYyBiaW5hcnkgc2VhcmNoXG5mdW5jdGlvbiBiaW5hcnlTZWFyY2goYXJyLCBpdGVtLCBjb21wYXJhdG9yKSB7XG4gIHZhciBsb3cgPSAwO1xuICB2YXIgaGlnaCA9IGFyci5sZW5ndGg7XG4gIHZhciBtaWQ7XG4gIHdoaWxlIChsb3cgPCBoaWdoKSB7XG4gICAgbWlkID0gKGxvdyArIGhpZ2gpID4+PiAxO1xuICAgIGlmIChjb21wYXJhdG9yKGFyclttaWRdLCBpdGVtKSA8IDApIHtcbiAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgfVxuICB9XG4gIHJldHVybiBsb3c7XG59XG5cbi8vIGFzc3VtaW5nIHRoZSBhcnIgaXMgc29ydGVkLCBpbnNlcnQgdGhlIGl0ZW0gaW4gdGhlIHByb3BlciBwbGFjZVxuZnVuY3Rpb24gaW5zZXJ0U29ydGVkKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgaWR4ID0gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcik7XG4gIGFyci5zcGxpY2UoaWR4LCAwLCBpdGVtKTtcbn1cblxuLy8gVHVybiBhIHBhdGggYXMgYSBmbGF0IGFycmF5IGludG8gYSB0cmVlIHdpdGggYSBzaW5nbGUgYnJhbmNoLlxuLy8gSWYgYW55IHNob3VsZCBiZSBzdGVtbWVkIGZyb20gdGhlIGJlZ2lubmluZyBvZiB0aGUgYXJyYXksIHRoYXQncyBwYXNzZWRcbi8vIGluIGFzIHRoZSBzZWNvbmQgYXJndW1lbnRcbmZ1bmN0aW9uIHBhdGhUb1RyZWUocGF0aCwgbnVtU3RlbW1lZCkge1xuICB2YXIgcm9vdDtcbiAgdmFyIGxlYWY7XG4gIGZvciAodmFyIGkgPSBudW1TdGVtbWVkLCBsZW4gPSBwYXRoLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIG5vZGUgPSBwYXRoW2ldO1xuICAgIHZhciBjdXJyZW50TGVhZiA9IFtub2RlLmlkLCBub2RlLm9wdHMsIFtdXTtcbiAgICBpZiAobGVhZikge1xuICAgICAgbGVhZlsyXS5wdXNoKGN1cnJlbnRMZWFmKTtcbiAgICAgIGxlYWYgPSBjdXJyZW50TGVhZjtcbiAgICB9IGVsc2Uge1xuICAgICAgcm9vdCA9IGxlYWYgPSBjdXJyZW50TGVhZjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJvb3Q7XG59XG5cbi8vIGNvbXBhcmUgdGhlIElEcyBvZiB0d28gdHJlZXNcbmZ1bmN0aW9uIGNvbXBhcmVUcmVlKGEsIGIpIHtcbiAgcmV0dXJuIGFbMF0gPCBiWzBdID8gLTEgOiAxO1xufVxuXG4vLyBNZXJnZSB0d28gdHJlZXMgdG9nZXRoZXJcbi8vIFRoZSByb290cyBvZiB0cmVlMSBhbmQgdHJlZTIgbXVzdCBiZSB0aGUgc2FtZSByZXZpc2lvblxuZnVuY3Rpb24gbWVyZ2VUcmVlKGluX3RyZWUxLCBpbl90cmVlMikge1xuICB2YXIgcXVldWUgPSBbe3RyZWUxOiBpbl90cmVlMSwgdHJlZTI6IGluX3RyZWUyfV07XG4gIHZhciBjb25mbGljdHMgPSBmYWxzZTtcbiAgd2hpbGUgKHF1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICB2YXIgaXRlbSA9IHF1ZXVlLnBvcCgpO1xuICAgIHZhciB0cmVlMSA9IGl0ZW0udHJlZTE7XG4gICAgdmFyIHRyZWUyID0gaXRlbS50cmVlMjtcblxuICAgIGlmICh0cmVlMVsxXS5zdGF0dXMgfHwgdHJlZTJbMV0uc3RhdHVzKSB7XG4gICAgICB0cmVlMVsxXS5zdGF0dXMgPVxuICAgICAgICAodHJlZTFbMV0uc3RhdHVzID09PSAgJ2F2YWlsYWJsZScgfHxcbiAgICAgICAgdHJlZTJbMV0uc3RhdHVzID09PSAnYXZhaWxhYmxlJykgPyAnYXZhaWxhYmxlJyA6ICdtaXNzaW5nJztcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRyZWUyWzJdLmxlbmd0aDsgaSsrKSB7XG4gICAgICBpZiAoIXRyZWUxWzJdWzBdKSB7XG4gICAgICAgIGNvbmZsaWN0cyA9ICduZXdfbGVhZic7XG4gICAgICAgIHRyZWUxWzJdWzBdID0gdHJlZTJbMl1baV07XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHRyZWUxWzJdLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIGlmICh0cmVlMVsyXVtqXVswXSA9PT0gdHJlZTJbMl1baV1bMF0pIHtcbiAgICAgICAgICBxdWV1ZS5wdXNoKHt0cmVlMTogdHJlZTFbMl1bal0sIHRyZWUyOiB0cmVlMlsyXVtpXX0pO1xuICAgICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghbWVyZ2VkKSB7XG4gICAgICAgIGNvbmZsaWN0cyA9ICduZXdfYnJhbmNoJztcbiAgICAgICAgaW5zZXJ0U29ydGVkKHRyZWUxWzJdLCB0cmVlMlsyXVtpXSwgY29tcGFyZVRyZWUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4ge2NvbmZsaWN0czogY29uZmxpY3RzLCB0cmVlOiBpbl90cmVlMX07XG59XG5cbmZ1bmN0aW9uIGRvTWVyZ2UodHJlZSwgcGF0aCwgZG9udEV4cGFuZCkge1xuICB2YXIgcmVzdHJlZSA9IFtdO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHZhciBtZXJnZWQgPSBmYWxzZTtcbiAgdmFyIHJlcztcblxuICBpZiAoIXRyZWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuIHt0cmVlOiBbcGF0aF0sIGNvbmZsaWN0czogJ25ld19sZWFmJ307XG4gIH1cblxuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdHJlZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBicmFuY2ggPSB0cmVlW2ldO1xuICAgIGlmIChicmFuY2gucG9zID09PSBwYXRoLnBvcyAmJiBicmFuY2guaWRzWzBdID09PSBwYXRoLmlkc1swXSkge1xuICAgICAgLy8gUGF0aHMgc3RhcnQgYXQgdGhlIHNhbWUgcG9zaXRpb24gYW5kIGhhdmUgdGhlIHNhbWUgcm9vdCwgc28gdGhleSBuZWVkXG4gICAgICAvLyBtZXJnZWRcbiAgICAgIHJlcyA9IG1lcmdlVHJlZShicmFuY2guaWRzLCBwYXRoLmlkcyk7XG4gICAgICByZXN0cmVlLnB1c2goe3BvczogYnJhbmNoLnBvcywgaWRzOiByZXMudHJlZX0pO1xuICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICBtZXJnZWQgPSB0cnVlO1xuICAgIH0gZWxzZSBpZiAoZG9udEV4cGFuZCAhPT0gdHJ1ZSkge1xuICAgICAgLy8gVGhlIHBhdGhzIHN0YXJ0IGF0IGEgZGlmZmVyZW50IHBvc2l0aW9uLCB0YWtlIHRoZSBlYXJsaWVzdCBwYXRoIGFuZFxuICAgICAgLy8gdHJhdmVyc2UgdXAgdW50aWwgaXQgYXMgYXQgdGhlIHNhbWUgcG9pbnQgZnJvbSByb290IGFzIHRoZSBwYXRoIHdlXG4gICAgICAvLyB3YW50IHRvIG1lcmdlLiAgSWYgdGhlIGtleXMgbWF0Y2ggd2UgcmV0dXJuIHRoZSBsb25nZXIgcGF0aCB3aXRoIHRoZVxuICAgICAgLy8gb3RoZXIgbWVyZ2VkIEFmdGVyIHN0ZW1taW5nIHdlIGRvbnQgd2FudCB0byBleHBhbmQgdGhlIHRyZWVzXG5cbiAgICAgIHZhciB0MSA9IGJyYW5jaC5wb3MgPCBwYXRoLnBvcyA/IGJyYW5jaCA6IHBhdGg7XG4gICAgICB2YXIgdDIgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBwYXRoIDogYnJhbmNoO1xuICAgICAgdmFyIGRpZmYgPSB0Mi5wb3MgLSB0MS5wb3M7XG5cbiAgICAgIHZhciBjYW5kaWRhdGVQYXJlbnRzID0gW107XG5cbiAgICAgIHZhciB0cmVlcyA9IFtdO1xuICAgICAgdHJlZXMucHVzaCh7aWRzOiB0MS5pZHMsIGRpZmY6IGRpZmYsIHBhcmVudDogbnVsbCwgcGFyZW50SWR4OiBudWxsfSk7XG4gICAgICB3aGlsZSAodHJlZXMubGVuZ3RoID4gMCkge1xuICAgICAgICB2YXIgaXRlbSA9IHRyZWVzLnBvcCgpO1xuICAgICAgICBpZiAoaXRlbS5kaWZmID09PSAwKSB7XG4gICAgICAgICAgaWYgKGl0ZW0uaWRzWzBdID09PSB0Mi5pZHNbMF0pIHtcbiAgICAgICAgICAgIGNhbmRpZGF0ZVBhcmVudHMucHVzaChpdGVtKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGVsZW1lbnRzID0gaXRlbS5pZHNbMl07XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBlbGVtZW50c0xlbiA9IGVsZW1lbnRzLmxlbmd0aDsgaiA8IGVsZW1lbnRzTGVuOyBqKyspIHtcbiAgICAgICAgICB0cmVlcy5wdXNoKHtcbiAgICAgICAgICAgIGlkczogZWxlbWVudHNbal0sXG4gICAgICAgICAgICBkaWZmOiBpdGVtLmRpZmYgLSAxLFxuICAgICAgICAgICAgcGFyZW50OiBpdGVtLmlkcyxcbiAgICAgICAgICAgIHBhcmVudElkeDogalxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHZhciBlbCA9IGNhbmRpZGF0ZVBhcmVudHNbMF07XG5cbiAgICAgIGlmICghZWwpIHtcbiAgICAgICAgcmVzdHJlZS5wdXNoKGJyYW5jaCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXMgPSBtZXJnZVRyZWUoZWwuaWRzLCB0Mi5pZHMpO1xuICAgICAgICBlbC5wYXJlbnRbMl1bZWwucGFyZW50SWR4XSA9IHJlcy50cmVlO1xuICAgICAgICByZXN0cmVlLnB1c2goe3BvczogdDEucG9zLCBpZHM6IHQxLmlkc30pO1xuICAgICAgICBjb25mbGljdHMgPSBjb25mbGljdHMgfHwgcmVzLmNvbmZsaWN0cztcbiAgICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdHJlZS5wdXNoKGJyYW5jaCk7XG4gICAgfVxuICB9XG5cbiAgLy8gV2UgZGlkbnQgZmluZFxuICBpZiAoIW1lcmdlZCkge1xuICAgIHJlc3RyZWUucHVzaChwYXRoKTtcbiAgfVxuXG4gIHJlc3RyZWUuc29ydChzb3J0QnlQb3MkMSk7XG5cbiAgcmV0dXJuIHtcbiAgICB0cmVlOiByZXN0cmVlLFxuICAgIGNvbmZsaWN0czogY29uZmxpY3RzIHx8ICdpbnRlcm5hbF9ub2RlJ1xuICB9O1xufVxuXG4vLyBUbyBlbnN1cmUgd2UgZG9udCBncm93IHRoZSByZXZpc2lvbiB0cmVlIGluZmluaXRlbHksIHdlIHN0ZW0gb2xkIHJldmlzaW9uc1xuZnVuY3Rpb24gc3RlbSh0cmVlLCBkZXB0aCkge1xuICAvLyBGaXJzdCB3ZSBicmVhayBvdXQgdGhlIHRyZWUgaW50byBhIGNvbXBsZXRlIGxpc3Qgb2Ygcm9vdCB0byBsZWFmIHBhdGhzXG4gIHZhciBwYXRocyA9IHJvb3RUb0xlYWYodHJlZSk7XG4gIHZhciBzdGVtbWVkUmV2cztcblxuICB2YXIgcmVzdWx0O1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGF0aHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBUaGVuIGZvciBlYWNoIHBhdGgsIHdlIGN1dCBvZmYgdGhlIHN0YXJ0IG9mIHRoZSBwYXRoIGJhc2VkIG9uIHRoZVxuICAgIC8vIGBkZXB0aGAgdG8gc3RlbSB0bywgYW5kIGdlbmVyYXRlIGEgbmV3IHNldCBvZiBmbGF0IHRyZWVzXG4gICAgdmFyIHBhdGggPSBwYXRoc1tpXTtcbiAgICB2YXIgc3RlbW1lZCA9IHBhdGguaWRzO1xuICAgIHZhciBub2RlO1xuICAgIGlmIChzdGVtbWVkLmxlbmd0aCA+IGRlcHRoKSB7XG4gICAgICAvLyBvbmx5IGRvIHRoZSBzdGVtbWluZyB3b3JrIGlmIHdlIGFjdHVhbGx5IG5lZWQgdG8gc3RlbVxuICAgICAgaWYgKCFzdGVtbWVkUmV2cykge1xuICAgICAgICBzdGVtbWVkUmV2cyA9IHt9OyAvLyBhdm9pZCBhbGxvY2F0aW5nIHRoaXMgb2JqZWN0IHVubmVjZXNzYXJpbHlcbiAgICAgIH1cbiAgICAgIHZhciBudW1TdGVtbWVkID0gc3RlbW1lZC5sZW5ndGggLSBkZXB0aDtcbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MgKyBudW1TdGVtbWVkLFxuICAgICAgICBpZHM6IHBhdGhUb1RyZWUoc3RlbW1lZCwgbnVtU3RlbW1lZClcbiAgICAgIH07XG5cbiAgICAgIGZvciAodmFyIHMgPSAwOyBzIDwgbnVtU3RlbW1lZDsgcysrKSB7XG4gICAgICAgIHZhciByZXYgPSAocGF0aC5wb3MgKyBzKSArICctJyArIHN0ZW1tZWRbc10uaWQ7XG4gICAgICAgIHN0ZW1tZWRSZXZzW3Jldl0gPSB0cnVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG5vIG5lZWQgdG8gYWN0dWFsbHkgc3RlbVxuICAgICAgbm9kZSA9IHtcbiAgICAgICAgcG9zOiBwYXRoLnBvcyxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIDApXG4gICAgICB9O1xuICAgIH1cblxuICAgIC8vIFRoZW4gd2UgcmVtZXJnZSBhbGwgdGhvc2UgZmxhdCB0cmVlcyB0b2dldGhlciwgZW5zdXJpbmcgdGhhdCB3ZSBkb250XG4gICAgLy8gY29ubmVjdCB0cmVlcyB0aGF0IHdvdWxkIGdvIGJleW9uZCB0aGUgZGVwdGggbGltaXRcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICByZXN1bHQgPSBkb01lcmdlKHJlc3VsdCwgbm9kZSwgdHJ1ZSkudHJlZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gW25vZGVdO1xuICAgIH1cbiAgfVxuXG4gIC8vIHRoaXMgaXMgbWVtb3J5LWhlYXZ5IHBlciBDaHJvbWUgcHJvZmlsZXIsIGF2b2lkIHVubGVzcyB3ZSBhY3R1YWxseSBzdGVtbWVkXG4gIGlmIChzdGVtbWVkUmV2cykge1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXN1bHQsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgcmV2SGFzaCkge1xuICAgICAgLy8gc29tZSByZXZpc2lvbnMgbWF5IGhhdmUgYmVlbiByZW1vdmVkIGluIGEgYnJhbmNoIGJ1dCBub3QgaW4gYW5vdGhlclxuICAgICAgZGVsZXRlIHN0ZW1tZWRSZXZzW3BvcyArICctJyArIHJldkhhc2hdO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIHtcbiAgICB0cmVlOiByZXN1bHQsXG4gICAgcmV2czogc3RlbW1lZFJldnMgPyBPYmplY3Qua2V5cyhzdGVtbWVkUmV2cykgOiBbXVxuICB9O1xufVxuXG5mdW5jdGlvbiBtZXJnZSh0cmVlLCBwYXRoLCBkZXB0aCkge1xuICB2YXIgbmV3VHJlZSA9IGRvTWVyZ2UodHJlZSwgcGF0aCk7XG4gIHZhciBzdGVtbWVkID0gc3RlbShuZXdUcmVlLnRyZWUsIGRlcHRoKTtcbiAgcmV0dXJuIHtcbiAgICB0cmVlOiBzdGVtbWVkLnRyZWUsXG4gICAgc3RlbW1lZFJldnM6IHN0ZW1tZWQucmV2cyxcbiAgICBjb25mbGljdHM6IG5ld1RyZWUuY29uZmxpY3RzXG4gIH07XG59XG5cbi8vIHJldHVybiB0cnVlIGlmIGEgcmV2IGV4aXN0cyBpbiB0aGUgcmV2IHRyZWUsIGZhbHNlIG90aGVyd2lzZVxuZnVuY3Rpb24gcmV2RXhpc3RzKHJldnMsIHJldikge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcbiAgdmFyIHNwbGl0UmV2ID0gcmV2LnNwbGl0KCctJyk7XG4gIHZhciB0YXJnZXRQb3MgPSBwYXJzZUludChzcGxpdFJldlswXSwgMTApO1xuICB2YXIgdGFyZ2V0SWQgPSBzcGxpdFJldlsxXTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICBpZiAobm9kZS5wb3MgPT09IHRhcmdldFBvcyAmJiBub2RlLmlkc1swXSA9PT0gdGFyZ2V0SWQpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICB2YXIgYnJhbmNoZXMgPSBub2RlLmlkc1syXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBub2RlLnBvcyArIDEsIGlkczogYnJhbmNoZXNbaV19KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBnZXRUcmVlcyhub2RlKSB7XG4gIHJldHVybiBub2RlLmlkcztcbn1cblxuLy8gY2hlY2sgaWYgYSBzcGVjaWZpYyByZXZpc2lvbiBvZiBhIGRvYyBoYXMgYmVlbiBkZWxldGVkXG4vLyAgLSBtZXRhZGF0YTogdGhlIG1ldGFkYXRhIG9iamVjdCBmcm9tIHRoZSBkb2Mgc3RvcmVcbi8vICAtIHJldjogKG9wdGlvbmFsKSB0aGUgcmV2aXNpb24gdG8gY2hlY2suIGRlZmF1bHRzIHRvIHdpbm5pbmcgcmV2aXNpb25cbmZ1bmN0aW9uIGlzRGVsZXRlZChtZXRhZGF0YSwgcmV2KSB7XG4gIGlmICghcmV2KSB7XG4gICAgcmV2ID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gIH1cbiAgdmFyIGlkID0gcmV2LnN1YnN0cmluZyhyZXYuaW5kZXhPZignLScpICsgMSk7XG4gIHZhciB0b1Zpc2l0ID0gbWV0YWRhdGEucmV2X3RyZWUubWFwKGdldFRyZWVzKTtcblxuICB2YXIgdHJlZTtcbiAgd2hpbGUgKCh0cmVlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICBpZiAodHJlZVswXSA9PT0gaWQpIHtcbiAgICAgIHJldHVybiAhIXRyZWVbMV0uZGVsZXRlZDtcbiAgICB9XG4gICAgdG9WaXNpdCA9IHRvVmlzaXQuY29uY2F0KHRyZWVbMl0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlzTG9jYWxJZChpZCkge1xuICByZXR1cm4gKC9eX2xvY2FsLykudGVzdChpZCk7XG59XG5cbi8vIHJldHVybnMgdGhlIGN1cnJlbnQgbGVhZiBub2RlIGZvciBhIGdpdmVuIHJldmlzaW9uXG5mdW5jdGlvbiBsYXRlc3QocmV2LCBtZXRhZGF0YSkge1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgcG9zOiBwb3MsIG9wdHM6IG9wdHN9KTtcblxuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBoaXN0b3J5Lmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBoaXN0b3J5Tm9kZSA9IGhpc3RvcnlbaV07XG4gICAgICAgIHZhciBoaXN0b3J5UmV2ID0gaGlzdG9yeU5vZGUucG9zICsgJy0nICsgaGlzdG9yeU5vZGUuaWQ7XG5cbiAgICAgICAgaWYgKGhpc3RvcnlSZXYgPT09IHJldikge1xuICAgICAgICAgIC8vIHJldHVybiB0aGUgcmV2IG9mIHRoaXMgbGVhZlxuICAgICAgICAgIHJldHVybiBwb3MgKyAnLScgKyBpZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGogPSAwLCBsID0gYnJhbmNoZXMubGVuZ3RoOyBqIDwgbDsgaisrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tqXSwgaGlzdG9yeTogaGlzdG9yeX0pO1xuICAgIH1cbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHRocm93IG5ldyBFcnJvcignVW5hYmxlIHRvIHJlc29sdmUgbGF0ZXN0IHJldmlzaW9uIGZvciBpZCAnICsgbWV0YWRhdGEuaWQgKyAnLCByZXYgJyArIHJldik7XG59XG5cbmluaGVyaXRzKENoYW5nZXMkMSwgRUUpO1xuXG5mdW5jdGlvbiB0cnlDYXRjaEluQ2hhbmdlTGlzdGVuZXIoc2VsZiwgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gIC8vIGlzb2xhdGUgdHJ5L2NhdGNoZXMgdG8gYXZvaWQgVjggZGVvcHRpbWl6YXRpb25zXG4gIHRyeSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgJ0Vycm9yIGluIC5vbihcImNoYW5nZVwiLCBmdW5jdGlvbik6JywgZSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gQ2hhbmdlcyQxKGRiLCBvcHRzLCBjYWxsYmFjaykge1xuICBFRS5jYWxsKHRoaXMpO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuZGIgPSBkYjtcbiAgb3B0cyA9IG9wdHMgPyBjbG9uZShvcHRzKSA6IHt9O1xuICB2YXIgY29tcGxldGUgPSBvcHRzLmNvbXBsZXRlID0gb25jZShmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgaWYgKGxpc3RlbmVyQ291bnQoc2VsZiwgJ2Vycm9yJykgPiAwKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgcmVzcCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgZGIucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIH0pO1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBzZWxmLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXNwKTtcbiAgICB9KTtcbiAgICBzZWxmLm9uKCdlcnJvcicsIGNhbGxiYWNrKTtcbiAgfVxuICBmdW5jdGlvbiBvbkRlc3Ryb3koKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgfVxuICBkYi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuXG4gIG9wdHMub25DaGFuZ2UgPSBmdW5jdGlvbiAoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSk7XG4gIH07XG5cbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgb3B0cy5jb21wbGV0ZSA9IGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGZ1bGZpbGwocmVzKTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbiAgc2VsZi5vbmNlKCdjYW5jZWwnLCBmdW5jdGlvbiAoKSB7XG4gICAgZGIucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgb3B0cy5jb21wbGV0ZShudWxsLCB7c3RhdHVzOiAnY2FuY2VsbGVkJ30pO1xuICB9KTtcbiAgdGhpcy50aGVuID0gcHJvbWlzZS50aGVuLmJpbmQocHJvbWlzZSk7XG4gIHRoaXNbJ2NhdGNoJ10gPSBwcm9taXNlWydjYXRjaCddLmJpbmQocHJvbWlzZSk7XG4gIHRoaXMudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgY29tcGxldGUobnVsbCwgcmVzdWx0KTtcbiAgfSwgY29tcGxldGUpO1xuXG5cblxuICBpZiAoIWRiLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgZGIudGFza3F1ZXVlLmFkZFRhc2soZnVuY3Rpb24gKGZhaWxlZCkge1xuICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGZhaWxlZCk7XG4gICAgICB9IGVsc2UgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgc2VsZi5lbWl0KCdjYW5jZWwnKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHNlbGYudmFsaWRhdGVDaGFuZ2VzKG9wdHMpO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYudmFsaWRhdGVDaGFuZ2VzKG9wdHMpO1xuICB9XG59XG5DaGFuZ2VzJDEucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5pc0NhbmNlbGxlZCA9IHRydWU7XG4gIGlmICh0aGlzLmRiLnRhc2txdWV1ZS5pc1JlYWR5KSB7XG4gICAgdGhpcy5lbWl0KCdjYW5jZWwnKTtcbiAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDaGFuZ2UoZG9jLCBtZXRhZGF0YSwgb3B0cykge1xuICB2YXIgY2hhbmdlTGlzdCA9IFt7cmV2OiBkb2MuX3Jldn1dO1xuICBpZiAob3B0cy5zdHlsZSA9PT0gJ2FsbF9kb2NzJykge1xuICAgIGNoYW5nZUxpc3QgPSBjb2xsZWN0TGVhdmVzKG1ldGFkYXRhLnJldl90cmVlKVxuICAgIC5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHtyZXY6IHgucmV2fTsgfSk7XG4gIH1cbiAgdmFyIGNoYW5nZSA9IHtcbiAgICBpZDogbWV0YWRhdGEuaWQsXG4gICAgY2hhbmdlczogY2hhbmdlTGlzdCxcbiAgICBkb2M6IGRvY1xuICB9O1xuXG4gIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgIGNoYW5nZS5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICBjaGFuZ2UuZG9jLl9jb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICBpZiAoIWNoYW5nZS5kb2MuX2NvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jLl9jb25mbGljdHM7XG4gICAgfVxuICB9XG4gIHJldHVybiBjaGFuZ2U7XG59XG5cbkNoYW5nZXMkMS5wcm90b3R5cGUudmFsaWRhdGVDaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luKSB7XG4gICAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi52YWxpZGF0ZShvcHRzLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc2VsZi5kb0NoYW5nZXMob3B0cyk7XG4gIH1cbn07XG5cbkNoYW5nZXMkMS5wcm90b3R5cGUuZG9DaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuXG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgaWYgKCdsaXZlJyBpbiBvcHRzICYmICEoJ2NvbnRpbnVvdXMnIGluIG9wdHMpKSB7XG4gICAgb3B0cy5jb250aW51b3VzID0gb3B0cy5saXZlO1xuICB9XG4gIG9wdHMucHJvY2Vzc0NoYW5nZSA9IHByb2Nlc3NDaGFuZ2U7XG5cbiAgaWYgKG9wdHMuc2luY2UgPT09ICdsYXRlc3QnKSB7XG4gICAgb3B0cy5zaW5jZSA9ICdub3cnO1xuICB9XG4gIGlmICghb3B0cy5zaW5jZSkge1xuICAgIG9wdHMuc2luY2UgPSAwO1xuICB9XG4gIGlmIChvcHRzLnNpbmNlID09PSAnbm93Jykge1xuICAgIHRoaXMuZGIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHNlbGYuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgb3B0cy5zaW5jZSA9IGluZm8udXBkYXRlX3NlcTtcbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0sIGNhbGxiYWNrKTtcbiAgICByZXR1cm47XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4ubm9ybWFsaXplKG9wdHMpO1xuICAgIGlmIChQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLnNob3VsZEZpbHRlcih0aGlzLCBvcHRzKSkge1xuICAgICAgcmV0dXJuIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4uZmlsdGVyKHRoaXMsIG9wdHMpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBbJ2RvY19pZHMnLCAnZmlsdGVyJywgJ3NlbGVjdG9yJywgJ3ZpZXcnXS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChrZXkgaW4gb3B0cykge1xuICAgICAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAgICAgJ1RoZSBcIicgKyBrZXkgKyAnXCIgb3B0aW9uIHdhcyBwYXNzZWQgaW4gdG8gY2hhbmdlcy9yZXBsaWNhdGUsICcgK1xuICAgICAgICAgICdidXQgcG91Y2hkYi1jaGFuZ2VzLWZpbHRlciBwbHVnaW4gaXMgbm90IGluc3RhbGxlZCwgc28gaXQgJyArXG4gICAgICAgICAgJ3dhcyBpZ25vcmVkLiBQbGVhc2UgaW5zdGFsbCB0aGUgcGx1Z2luIHRvIGVuYWJsZSBmaWx0ZXJpbmcuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgaWYgKCEoJ2Rlc2NlbmRpbmcnIGluIG9wdHMpKSB7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cblxuICAvLyAwIGFuZCAxIHNob3VsZCByZXR1cm4gMSBkb2N1bWVudFxuICBvcHRzLmxpbWl0ID0gb3B0cy5saW1pdCA9PT0gMCA/IDEgOiBvcHRzLmxpbWl0O1xuICBvcHRzLmNvbXBsZXRlID0gY2FsbGJhY2s7XG4gIHZhciBuZXdQcm9taXNlID0gdGhpcy5kYi5fY2hhbmdlcyhvcHRzKTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG5ld1Byb21pc2UgJiYgdHlwZW9mIG5ld1Byb21pc2UuY2FuY2VsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdmFyIGNhbmNlbCA9IHNlbGYuY2FuY2VsO1xuICAgIHNlbGYuY2FuY2VsID0gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICBuZXdQcm9taXNlLmNhbmNlbCgpO1xuICAgICAgY2FuY2VsLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0pO1xuICB9XG59O1xuXG4vKlxuICogQSBnZW5lcmljIHBvdWNoIGFkYXB0ZXJcbiAqL1xuXG5mdW5jdGlvbiBjb21wYXJlKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPiByaWdodCA/IDEgOiAwO1xufVxuXG4vLyBXcmFwcGVyIGZvciBmdW5jdGlvbnMgdGhhdCBjYWxsIHRoZSBidWxrZG9jcyBhcGkgd2l0aCBhIHNpbmdsZSBkb2MsXG4vLyBpZiB0aGUgZmlyc3QgcmVzdWx0IGlzIGFuIGVycm9yLCByZXR1cm4gYW4gZXJyb3JcbmZ1bmN0aW9uIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jSWQpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlc3VsdHMpIHtcbiAgICBpZiAoZXJyIHx8IChyZXN1bHRzWzBdICYmIHJlc3VsdHNbMF0uZXJyb3IpKSB7XG4gICAgICBlcnIgPSBlcnIgfHwgcmVzdWx0c1swXTtcbiAgICAgIGVyci5kb2NJZCA9IGRvY0lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0cy5sZW5ndGggPyByZXN1bHRzWzBdICA6IHJlc3VsdHMpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gY2xlYW4gZG9jcyBnaXZlbiB0byB1cyBieSB0aGUgdXNlclxuZnVuY3Rpb24gY2xlYW5Eb2NzKGRvY3MpIHtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBkb2NzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGRvYyA9IGRvY3NbaV07XG4gICAgaWYgKGRvYy5fZGVsZXRlZCkge1xuICAgICAgZGVsZXRlIGRvYy5fYXR0YWNobWVudHM7IC8vIGlnbm9yZSBhdHRzIGZvciBkZWxldGVkIGRvY3NcbiAgICB9IGVsc2UgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIC8vIGZpbHRlciBvdXQgZXh0cmFuZW91cyBrZXlzIGZyb20gX2F0dGFjaG1lbnRzXG4gICAgICB2YXIgYXR0cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBhdHRzLmxlbmd0aDsgaisrKSB7XG4gICAgICAgIHZhciBhdHQgPSBhdHRzW2pdO1xuICAgICAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSBwaWNrKGRvYy5fYXR0YWNobWVudHNbYXR0XSxcbiAgICAgICAgICBbJ2RhdGEnLCAnZGlnZXN0JywgJ2NvbnRlbnRfdHlwZScsICdsZW5ndGgnLCAncmV2cG9zJywgJ3N0dWInXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG59XG5cbi8vIGNvbXBhcmUgdHdvIGRvY3MsIGZpcnN0IGJ5IF9pZCB0aGVuIGJ5IF9yZXZcbmZ1bmN0aW9uIGNvbXBhcmVCeUlkVGhlblJldihhLCBiKSB7XG4gIHZhciBpZENvbXBhcmUgPSBjb21wYXJlKGEuX2lkLCBiLl9pZCk7XG4gIGlmIChpZENvbXBhcmUgIT09IDApIHtcbiAgICByZXR1cm4gaWRDb21wYXJlO1xuICB9XG4gIHZhciBhU3RhcnQgPSBhLl9yZXZpc2lvbnMgPyBhLl9yZXZpc2lvbnMuc3RhcnQgOiAwO1xuICB2YXIgYlN0YXJ0ID0gYi5fcmV2aXNpb25zID8gYi5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgcmV0dXJuIGNvbXBhcmUoYVN0YXJ0LCBiU3RhcnQpO1xufVxuXG4vLyBmb3IgZXZlcnkgbm9kZSBpbiBhIHJldmlzaW9uIHRyZWUgY29tcHV0ZXMgaXRzIGRpc3RhbmNlIGZyb20gdGhlIGNsb3Nlc3Rcbi8vIGxlYWZcbmZ1bmN0aW9uIGNvbXB1dGVIZWlnaHQocmV2cykge1xuICB2YXIgaGVpZ2h0ID0ge307XG4gIHZhciBlZGdlcyA9IFtdO1xuICB0cmF2ZXJzZVJldlRyZWUocmV2cywgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCBpZCwgcHJudCkge1xuICAgIHZhciByZXYgPSBwb3MgKyBcIi1cIiArIGlkO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGhlaWdodFtyZXZdID0gMDtcbiAgICB9XG4gICAgaWYgKHBybnQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgZWRnZXMucHVzaCh7ZnJvbTogcHJudCwgdG86IHJldn0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xuICB9KTtcblxuICBlZGdlcy5yZXZlcnNlKCk7XG4gIGVkZ2VzLmZvckVhY2goZnVuY3Rpb24gKGVkZ2UpIHtcbiAgICBpZiAoaGVpZ2h0W2VkZ2UuZnJvbV0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSAxICsgaGVpZ2h0W2VkZ2UudG9dO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWlnaHRbZWRnZS5mcm9tXSA9IE1hdGgubWluKGhlaWdodFtlZGdlLmZyb21dLCAxICsgaGVpZ2h0W2VkZ2UudG9dKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gaGVpZ2h0O1xufVxuXG5mdW5jdGlvbiBhbGxEb2NzS2V5c1BhcnNlKG9wdHMpIHtcbiAgdmFyIGtleXMgPSAgKCdsaW1pdCcgaW4gb3B0cykgP1xuICAgIG9wdHMua2V5cy5zbGljZShvcHRzLnNraXAsIG9wdHMubGltaXQgKyBvcHRzLnNraXApIDpcbiAgICAob3B0cy5za2lwID4gMCkgPyBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwKSA6IG9wdHMua2V5cztcbiAgb3B0cy5rZXlzID0ga2V5cztcbiAgb3B0cy5za2lwID0gMDtcbiAgZGVsZXRlIG9wdHMubGltaXQ7XG4gIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICBrZXlzLnJldmVyc2UoKTtcbiAgICBvcHRzLmRlc2NlbmRpbmcgPSBmYWxzZTtcbiAgfVxufVxuXG4vLyBhbGwgY29tcGFjdGlvbiBpcyBkb25lIGluIGEgcXVldWUsIHRvIGF2b2lkIGF0dGFjaGluZ1xuLy8gdG9vIG1hbnkgbGlzdGVuZXJzIGF0IG9uY2VcbmZ1bmN0aW9uIGRvTmV4dENvbXBhY3Rpb24oc2VsZikge1xuICB2YXIgdGFzayA9IHNlbGYuX2NvbXBhY3Rpb25RdWV1ZVswXTtcbiAgdmFyIG9wdHMgPSB0YXNrLm9wdHM7XG4gIHZhciBjYWxsYmFjayA9IHRhc2suY2FsbGJhY2s7XG4gIHNlbGYuZ2V0KCdfbG9jYWwvY29tcGFjdGlvbicpLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MgJiYgZG9jLmxhc3Rfc2VxKSB7XG4gICAgICBvcHRzLmxhc3Rfc2VxID0gZG9jLmxhc3Rfc2VxO1xuICAgIH1cbiAgICBzZWxmLl9jb21wYWN0KG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgfVxuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgc2VsZi5fY29tcGFjdGlvblF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgIGlmIChzZWxmLl9jb21wYWN0aW9uUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgZG9OZXh0Q29tcGFjdGlvbihzZWxmKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpIHtcbiAgaWYgKG5hbWUuY2hhckF0KDApID09PSAnXycpIHtcbiAgICByZXR1cm4gbmFtZSArICcgaXMgbm90IGEgdmFsaWQgYXR0YWNobWVudCBuYW1lLCBhdHRhY2htZW50ICcgK1xuICAgICAgJ25hbWVzIGNhbm5vdCBzdGFydCB3aXRoIFxcJ19cXCcnO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuaW5oZXJpdHMoQWJzdHJhY3RQb3VjaERCLCBFRSk7XG5cbmZ1bmN0aW9uIEFic3RyYWN0UG91Y2hEQigpIHtcbiAgRUUuY2FsbCh0aGlzKTtcblxuICAvLyByZS1iaW5kIHByb3RvdHlwZWQgbWV0aG9kc1xuICBmb3IgKHZhciBwIGluIEFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUpIHtcbiAgICBpZiAodHlwZW9mIHRoaXNbcF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHRoaXNbcF0gPSB0aGlzW3BdLmJpbmQodGhpcyk7XG4gICAgfVxuICB9XG59XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucG9zdCA9XG4gIGFkYXB0ZXJGdW4oJ3Bvc3QnLCBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgZG9jICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGRvYykpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICB9XG4gIHRoaXMuYnVsa0RvY3Moe2RvY3M6IFtkb2NdfSwgb3B0cywgeWFua0Vycm9yKGNhbGxiYWNrLCBkb2MuX2lkKSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wdXQgPSBhZGFwdGVyRnVuKCdwdXQnLCBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgZG9jICE9PSAnb2JqZWN0JyB8fCBBcnJheS5pc0FycmF5KGRvYykpIHtcbiAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICB9XG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuICBpZiAoaXNMb2NhbElkKGRvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9wdXRMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRoaXMuX3B1dExvY2FsKGRvYywgY2IpO1xuICAgIH1cbiAgfVxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChvcHRzLmZvcmNlICYmIGRvYy5fcmV2KSB7XG4gICAgdHJhbnNmb3JtRm9yY2VPcHRpb25Ub05ld0VkaXRzT3B0aW9uKCk7XG4gICAgcHV0RG9jKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIHZhciByZXN1bHQgPSBlcnIgPyBudWxsIDoge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICBjYihlcnIsIHJlc3VsdCk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcHV0RG9jKGNiKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpIHtcbiAgICB2YXIgcGFydHMgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgIHZhciBvbGRSZXZJZCA9IHBhcnRzWzFdO1xuICAgIHZhciBvbGRSZXZOdW0gPSBwYXJzZUludChwYXJ0c1swXSwgMTApO1xuXG4gICAgdmFyIG5ld1Jldk51bSA9IG9sZFJldk51bSArIDE7XG4gICAgdmFyIG5ld1JldklkID0gcmV2JCQxKCk7XG5cbiAgICBkb2MuX3JldmlzaW9ucyA9IHtcbiAgICAgIHN0YXJ0OiBuZXdSZXZOdW0sXG4gICAgICBpZHM6IFtuZXdSZXZJZCwgb2xkUmV2SWRdXG4gICAgfTtcbiAgICBkb2MuX3JldiA9IG5ld1Jldk51bSArICctJyArIG5ld1JldklkO1xuICAgIG9wdHMubmV3X2VkaXRzID0gZmFsc2U7XG4gIH1cbiAgZnVuY3Rpb24gcHV0RG9jKG5leHQpIHtcbiAgICBpZiAodHlwZW9mIHNlbGYuX3B1dCA9PT0gJ2Z1bmN0aW9uJyAmJiBvcHRzLm5ld19lZGl0cyAhPT0gZmFsc2UpIHtcbiAgICAgIHNlbGYuX3B1dChkb2MsIG9wdHMsIG5leHQpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzZWxmLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihuZXh0LCBkb2MuX2lkKSk7XG4gICAgfVxuICB9XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5wdXRBdHRhY2htZW50ID1cbiAgYWRhcHRlckZ1bigncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLCByZXYsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYmxvYiwgdHlwZSkge1xuICB2YXIgYXBpID0gdGhpcztcbiAgaWYgKHR5cGVvZiB0eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIC8vIExldHMgZml4IGluIGh0dHBzOi8vZ2l0aHViLmNvbS9wb3VjaGRiL3BvdWNoZGIvaXNzdWVzLzMyNjdcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICB0eXBlID0gYmxvYjtcbiAgICBibG9iID0gcmV2O1xuICAgIHJldiA9IG51bGw7XG4gIH1cbiAgaWYgKCF0eXBlKSB7XG4gICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIGF0dGFjaG1lbnRJZCwgJ29uIGRvY3VtZW50JywgZG9jSWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICB9XG5cbiAgZnVuY3Rpb24gY3JlYXRlQXR0YWNobWVudChkb2MpIHtcbiAgICB2YXIgcHJldnJldnBvcyA9ICdfcmV2JyBpbiBkb2MgPyBwYXJzZUludChkb2MuX3JldiwgMTApIDogMDtcbiAgICBkb2MuX2F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyB8fCB7fTtcbiAgICBkb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0gPSB7XG4gICAgICBjb250ZW50X3R5cGU6IHR5cGUsXG4gICAgICBkYXRhOiBibG9iLFxuICAgICAgcmV2cG9zOiArK3ByZXZyZXZwb3NcbiAgICB9O1xuICAgIHJldHVybiBhcGkucHV0KGRvYyk7XG4gIH1cblxuICByZXR1cm4gYXBpLmdldChkb2NJZCkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYy5fcmV2ICE9PSByZXYpIHtcbiAgICAgIHRocm93IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAvLyBjcmVhdGUgbmV3IGRvY1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKGVyci5yZWFzb24gPT09IE1JU1NJTkdfRE9DLm1lc3NhZ2UpIHtcbiAgICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KHtfaWQ6IGRvY0lkfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVtb3ZlQXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgc2VsZi5nZXQoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIG9iaikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChvYmouX3JldiAhPT0gcmV2KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFvYmouX2F0dGFjaG1lbnRzKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG4gICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXTtcbiAgICBpZiAoT2JqZWN0LmtleXMob2JqLl9hdHRhY2htZW50cykubGVuZ3RoID09PSAwKSB7XG4gICAgICBkZWxldGUgb2JqLl9hdHRhY2htZW50cztcbiAgICB9XG4gICAgc2VsZi5wdXQob2JqLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVtb3ZlID1cbiAgYWRhcHRlckZ1bigncmVtb3ZlJywgZnVuY3Rpb24gKGRvY09ySWQsIG9wdHNPclJldiwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIGRvYztcbiAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgLy8gaWQsIHJldiwgb3B0cywgY2FsbGJhY2sgc3R5bGVcbiAgICBkb2MgPSB7XG4gICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICBfcmV2OiBvcHRzT3JSZXZcbiAgICB9O1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICAvLyBkb2MsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0gZG9jT3JJZDtcbiAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzT3JSZXY7XG4gICAgICBvcHRzID0ge307XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgfVxuICB9XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuICBvcHRzLndhc19kZWxldGUgPSB0cnVlO1xuICB2YXIgbmV3RG9jID0ge19pZDogZG9jLl9pZCwgX3JldjogKGRvYy5fcmV2IHx8IG9wdHMucmV2KX07XG4gIG5ld0RvYy5fZGVsZXRlZCA9IHRydWU7XG4gIGlmIChpc0xvY2FsSWQobmV3RG9jLl9pZCkgJiYgdHlwZW9mIHRoaXMuX3JlbW92ZUxvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX3JlbW92ZUxvY2FsKGRvYywgY2FsbGJhY2spO1xuICB9XG4gIHRoaXMuYnVsa0RvY3Moe2RvY3M6IFtuZXdEb2NdfSwgb3B0cywgeWFua0Vycm9yKGNhbGxiYWNrLCBuZXdEb2MuX2lkKSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZXZzRGlmZiA9XG4gIGFkYXB0ZXJGdW4oJ3JldnNEaWZmJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICB2YXIgaWRzID0gT2JqZWN0LmtleXMocmVxKTtcblxuICBpZiAoIWlkcy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge30pO1xuICB9XG5cbiAgdmFyIGNvdW50ID0gMDtcbiAgdmFyIG1pc3NpbmcgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICBmdW5jdGlvbiBhZGRUb01pc3NpbmcoaWQsIHJldklkKSB7XG4gICAgaWYgKCFtaXNzaW5nLmhhcyhpZCkpIHtcbiAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogW119KTtcbiAgICB9XG4gICAgbWlzc2luZy5nZXQoaWQpLm1pc3NpbmcucHVzaChyZXZJZCk7XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSkge1xuICAgIC8vIElzIHRoaXMgZmFzdCBlbm91Z2g/IE1heWJlIHdlIHNob3VsZCBzd2l0Y2ggdG8gYSBzZXQgc2ltdWxhdGVkIGJ5IGEgbWFwXG4gICAgdmFyIG1pc3NpbmdGb3JJZCA9IHJlcVtpZF0uc2xpY2UoMCk7XG4gICAgdHJhdmVyc2VSZXZUcmVlKHJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gsIGN0eCxcbiAgICAgIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIHZhciBpZHggPSBtaXNzaW5nRm9ySWQuaW5kZXhPZihyZXYpO1xuICAgICAgICBpZiAoaWR4ID09PSAtMSkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIG1pc3NpbmdGb3JJZC5zcGxpY2UoaWR4LCAxKTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChvcHRzLnN0YXR1cyAhPT0gJ2F2YWlsYWJsZScpIHtcbiAgICAgICAgICBhZGRUb01pc3NpbmcoaWQsIHJldik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgLy8gVHJhdmVyc2luZyB0aGUgdHJlZSBpcyBzeW5jaHJvbm91cywgc28gbm93IGBtaXNzaW5nRm9ySWRgIGNvbnRhaW5zXG4gICAgLy8gcmV2aXNpb25zIHRoYXQgd2VyZSBub3QgZm91bmQgaW4gdGhlIHRyZWVcbiAgICBtaXNzaW5nRm9ySWQuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBhZGRUb01pc3NpbmcoaWQsIHJldik7XG4gICAgfSk7XG4gIH1cblxuICBpZHMubWFwKGZ1bmN0aW9uIChpZCkge1xuICAgIHRoaXMuX2dldFJldmlzaW9uVHJlZShpZCwgZnVuY3Rpb24gKGVyciwgcmV2X3RyZWUpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyA9PT0gNDA0ICYmIGVyci5tZXNzYWdlID09PSAnbWlzc2luZycpIHtcbiAgICAgICAgbWlzc2luZy5zZXQoaWQsIHttaXNzaW5nOiByZXFbaWRdfSk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHByb2Nlc3NEb2MoaWQsIHJldl90cmVlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCsrY291bnQgPT09IGlkcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gY29udmVydCBMYXp5TWFwIHRvIG9iamVjdFxuICAgICAgICB2YXIgbWlzc2luZ09iaiA9IHt9O1xuICAgICAgICBtaXNzaW5nLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICAgICAgICBtaXNzaW5nT2JqW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsLCBtaXNzaW5nT2JqKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSwgdGhpcyk7XG59KTtcblxuLy8gX2J1bGtfZ2V0IEFQSSBmb3IgZmFzdGVyIHJlcGxpY2F0aW9uLCBhcyBkZXNjcmliZWQgaW5cbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hcGFjaGUvY291Y2hkYi1jaHR0cGQvcHVsbC8zM1xuLy8gQXQgdGhlIFwiYWJzdHJhY3RcIiBsZXZlbCwgaXQgd2lsbCBqdXN0IHJ1biBtdWx0aXBsZSBnZXQoKXMgaW5cbi8vIHBhcmFsbGVsLCBiZWNhdXNlIHRoaXMgaXNuJ3QgbXVjaCBvZiBhIHBlcmZvcm1hbmNlIGNvc3Rcbi8vIGZvciBsb2NhbCBkYXRhYmFzZXMgKGV4Y2VwdCB0aGUgY29zdCBvZiBtdWx0aXBsZSB0cmFuc2FjdGlvbnMsIHdoaWNoIGlzXG4vLyBzbWFsbCkuIFRoZSBodHRwIGFkYXB0ZXIgb3ZlcnJpZGVzIHRoaXMgaW4gb3JkZXJcbi8vIHRvIGRvIGEgbW9yZSBlZmZpY2llbnQgc2luZ2xlIEhUVFAgcmVxdWVzdC5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYnVsa0dldCA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtHZXQnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgYnVsa0dldCh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuLy8gY29tcGFjdCBvbmUgZG9jdW1lbnQgYW5kIGZpcmUgY2FsbGJhY2tcbi8vIGJ5IGNvbXBhY3Rpbmcgd2UgbWVhbiByZW1vdmluZyBhbGwgcmV2aXNpb25zIHdoaWNoXG4vLyBhcmUgZnVydGhlciBmcm9tIHRoZSBsZWFmIGluIHJldmlzaW9uIHRyZWUgdGhhbiBtYXhfaGVpZ2h0XG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNvbXBhY3REb2N1bWVudCA9XG4gIGFkYXB0ZXJGdW4oJ2NvbXBhY3REb2N1bWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgbWF4SGVpZ2h0LCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2dldFJldmlzaW9uVHJlZShkb2NJZCwgZnVuY3Rpb24gKGVyciwgcmV2VHJlZSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICB2YXIgaGVpZ2h0ID0gY29tcHV0ZUhlaWdodChyZXZUcmVlKTtcbiAgICB2YXIgY2FuZGlkYXRlcyA9IFtdO1xuICAgIHZhciByZXZzID0gW107XG4gICAgT2JqZWN0LmtleXMoaGVpZ2h0KS5mb3JFYWNoKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgIGlmIChoZWlnaHRbcmV2XSA+IG1heEhlaWdodCkge1xuICAgICAgICBjYW5kaWRhdGVzLnB1c2gocmV2KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZUcmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICBpZiAob3B0cy5zdGF0dXMgPT09ICdhdmFpbGFibGUnICYmIGNhbmRpZGF0ZXMuaW5kZXhPZihyZXYpICE9PSAtMSkge1xuICAgICAgICByZXZzLnB1c2gocmV2KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzZWxmLl9kb0NvbXBhY3Rpb24oZG9jSWQsIHJldnMsIGNhbGxiYWNrKTtcbiAgfSk7XG59KTtcblxuLy8gY29tcGFjdCB0aGUgd2hvbGUgZGF0YWJhc2UgdXNpbmcgc2luZ2xlIGRvY3VtZW50XG4vLyBjb21wYWN0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNvbXBhY3QgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZSA9IHNlbGYuX2NvbXBhY3Rpb25RdWV1ZSB8fCBbXTtcbiAgc2VsZi5fY29tcGFjdGlvblF1ZXVlLnB1c2goe29wdHM6IG9wdHMsIGNhbGxiYWNrOiBjYWxsYmFja30pO1xuICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCA9PT0gMSkge1xuICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gIH1cbn0pO1xuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5fY29tcGFjdCA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBjaGFuZ2VzT3B0cyA9IHtcbiAgICByZXR1cm5fZG9jczogZmFsc2UsXG4gICAgbGFzdF9zZXE6IG9wdHMubGFzdF9zZXEgfHwgMFxuICB9O1xuICB2YXIgcHJvbWlzZXMgPSBbXTtcblxuICBmdW5jdGlvbiBvbkNoYW5nZShyb3cpIHtcbiAgICBwcm9taXNlcy5wdXNoKHNlbGYuY29tcGFjdERvY3VtZW50KHJvdy5pZCwgMCkpO1xuICB9XG4gIGZ1bmN0aW9uIG9uQ29tcGxldGUocmVzcCkge1xuICAgIHZhciBsYXN0U2VxID0gcmVzcC5sYXN0X3NlcTtcbiAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBzZXJ0KHNlbGYsICdfbG9jYWwvY29tcGFjdGlvbicsIGZ1bmN0aW9uIGRlbHRhRnVuYyhkb2MpIHtcbiAgICAgICAgaWYgKCFkb2MubGFzdF9zZXEgfHwgZG9jLmxhc3Rfc2VxIDwgbGFzdFNlcSkge1xuICAgICAgICAgIGRvYy5sYXN0X3NlcSA9IGxhc3RTZXE7XG4gICAgICAgICAgcmV0dXJuIGRvYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIHNvbWVib2R5IGVsc2UgZ290IGhlcmUgZmlyc3QsIGRvbid0IHVwZGF0ZVxuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH1cbiAgc2VsZi5jaGFuZ2VzKGNoYW5nZXNPcHRzKVxuICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpXG4gICAgLm9uKCdjb21wbGV0ZScsIG9uQ29tcGxldGUpXG4gICAgLm9uKCdlcnJvcicsIGNhbGxiYWNrKTtcbn07XG5cbi8qIEJlZ2luIGFwaSB3cmFwcGVycy4gU3BlY2lmaWMgZnVuY3Rpb25hbGl0eSB0byBzdG9yYWdlIGJlbG9uZ3MgaW4gdGhlXG4gICBfW21ldGhvZF0gKi9cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZ2V0ID0gYWRhcHRlckZ1bignZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYikge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYiA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2YgaWQgIT09ICdzdHJpbmcnKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKElOVkFMSURfSUQpKTtcbiAgfVxuICBpZiAoaXNMb2NhbElkKGlkKSAmJiB0eXBlb2YgdGhpcy5fZ2V0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy5fZ2V0TG9jYWwoaWQsIGNiKTtcbiAgfVxuICB2YXIgbGVhdmVzID0gW10sIHNlbGYgPSB0aGlzO1xuXG4gIGZ1bmN0aW9uIGZpbmlzaE9wZW5SZXZzKCkge1xuICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICB2YXIgY291bnQgPSBsZWF2ZXMubGVuZ3RoO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghY291bnQpIHtcbiAgICAgIHJldHVybiBjYihudWxsLCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8vIG9yZGVyIHdpdGggb3Blbl9yZXZzIGlzIHVuc3BlY2lmaWVkXG4gICAgbGVhdmVzLmZvckVhY2goZnVuY3Rpb24gKGxlYWYpIHtcbiAgICAgIHNlbGYuZ2V0KGlkLCB7XG4gICAgICAgIHJldjogbGVhZixcbiAgICAgICAgcmV2czogb3B0cy5yZXZzLFxuICAgICAgICBsYXRlc3Q6IG9wdHMubGF0ZXN0LFxuICAgICAgICBhdHRhY2htZW50czogb3B0cy5hdHRhY2htZW50cyxcbiAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeVxuICAgICAgfSwgZnVuY3Rpb24gKGVyciwgZG9jKSB7XG4gICAgICAgIGlmICghZXJyKSB7XG4gICAgICAgICAgLy8gdXNpbmcgbGF0ZXN0PXRydWUgY2FuIHByb2R1Y2UgZHVwbGljYXRlc1xuICAgICAgICAgIHZhciBleGlzdGluZztcbiAgICAgICAgICBmb3IgKHZhciBpID0gMCwgbCA9IHJlc3VsdC5sZW5ndGg7IGkgPCBsOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChyZXN1bHRbaV0ub2sgJiYgcmVzdWx0W2ldLm9rLl9yZXYgPT09IGRvYy5fcmV2KSB7XG4gICAgICAgICAgICAgIGV4aXN0aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHtvazogZG9jfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHttaXNzaW5nOiBsZWFmfSk7XG4gICAgICAgIH1cbiAgICAgICAgY291bnQtLTtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIGNiKG51bGwsIHJlc3VsdCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgaWYgKG9wdHMub3Blbl9yZXZzID09PSBcImFsbFwiKSB7XG4gICAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICAgIH1cbiAgICAgICAgbGVhdmVzID0gY29sbGVjdExlYXZlcyhyZXZfdHJlZSkubWFwKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICAgICAgcmV0dXJuIGxlYWYucmV2O1xuICAgICAgICB9KTtcbiAgICAgICAgZmluaXNoT3BlblJldnMoKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRzLm9wZW5fcmV2cykpIHtcbiAgICAgICAgbGVhdmVzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVhdmVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGwgPSBsZWF2ZXNbaV07XG4gICAgICAgICAgLy8gbG9va3MgbGlrZSBpdCdzIHRoZSBvbmx5IHRoaW5nIGNvdWNoZGIgY2hlY2tzXG4gICAgICAgICAgaWYgKCEodHlwZW9mIChsKSA9PT0gXCJzdHJpbmdcIiAmJiAvXlxcZCstLy50ZXN0KGwpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKElOVkFMSURfUkVWKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gY2IoY3JlYXRlRXJyb3IoVU5LTk9XTl9FUlJPUiwgJ2Z1bmN0aW9uX2NsYXVzZScpKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuOyAvLyBvcGVuX3JldnMgZG9lcyBub3QgbGlrZSBvdGhlciBvcHRpb25zXG4gIH1cblxuICByZXR1cm4gdGhpcy5fZ2V0KGlkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXN1bHQpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICBlcnIuZG9jSWQgPSBpZDtcbiAgICAgIHJldHVybiBjYihlcnIpO1xuICAgIH1cblxuICAgIHZhciBkb2MgPSByZXN1bHQuZG9jO1xuICAgIHZhciBtZXRhZGF0YSA9IHJlc3VsdC5tZXRhZGF0YTtcbiAgICB2YXIgY3R4ID0gcmVzdWx0LmN0eDtcblxuICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgdmFyIGNvbmZsaWN0cyA9IGNvbGxlY3RDb25mbGljdHMobWV0YWRhdGEpO1xuICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgICAgZG9jLl9jb25mbGljdHMgPSBjb25mbGljdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKGlzRGVsZXRlZChtZXRhZGF0YSwgZG9jLl9yZXYpKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldnMgfHwgb3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHZhciBzcGxpdHRlZFJldiA9IGRvYy5fcmV2LnNwbGl0KCctJyk7XG4gICAgICB2YXIgcmV2Tm8gICAgICAgPSBwYXJzZUludChzcGxpdHRlZFJldlswXSwgMTApO1xuICAgICAgdmFyIHJldkhhc2ggICAgID0gc3BsaXR0ZWRSZXZbMV07XG5cbiAgICAgIHZhciBwYXRocyA9IHJvb3RUb0xlYWYobWV0YWRhdGEucmV2X3RyZWUpO1xuICAgICAgdmFyIHBhdGggPSBudWxsO1xuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhdGhzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjdXJyZW50UGF0aCA9IHBhdGhzW2ldO1xuICAgICAgICB2YXIgaGFzaEluZGV4ID0gY3VycmVudFBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgICAuaW5kZXhPZihyZXZIYXNoKTtcbiAgICAgICAgdmFyIGhhc2hGb3VuZEF0UmV2UG9zID0gaGFzaEluZGV4ID09PSAocmV2Tm8gLSAxKTtcblxuICAgICAgICBpZiAoaGFzaEZvdW5kQXRSZXZQb3MgfHwgKCFwYXRoICYmIGhhc2hJbmRleCAhPT0gLTEpKSB7XG4gICAgICAgICAgcGF0aCA9IGN1cnJlbnRQYXRoO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKCFwYXRoKSB7XG4gICAgICAgIGVyciA9IG5ldyBFcnJvcignaW52YWxpZCByZXYgdHJlZScpO1xuICAgICAgICBlcnIuZG9jSWQgPSBpZDtcbiAgICAgICAgcmV0dXJuIGNiKGVycik7XG4gICAgICB9XG5cbiAgICAgIHZhciBpbmRleE9mUmV2ID0gcGF0aC5pZHMubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB4LmlkOyB9KVxuICAgICAgICAuaW5kZXhPZihkb2MuX3Jldi5zcGxpdCgnLScpWzFdKSArIDE7XG4gICAgICB2YXIgaG93TWFueSA9IHBhdGguaWRzLmxlbmd0aCAtIGluZGV4T2ZSZXY7XG4gICAgICBwYXRoLmlkcy5zcGxpY2UoaW5kZXhPZlJldiwgaG93TWFueSk7XG4gICAgICBwYXRoLmlkcy5yZXZlcnNlKCk7XG5cbiAgICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICAgICAgc3RhcnQ6IChwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aCkgLSAxLFxuICAgICAgICAgIGlkczogcGF0aC5pZHMubWFwKGZ1bmN0aW9uIChyZXYpIHtcbiAgICAgICAgICAgIHJldHVybiByZXYuaWQ7XG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLnJldnNfaW5mbykge1xuICAgICAgICB2YXIgcG9zID0gIHBhdGgucG9zICsgcGF0aC5pZHMubGVuZ3RoO1xuICAgICAgICBkb2MuX3JldnNfaW5mbyA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgcG9zLS07XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHJldjogcG9zICsgJy0nICsgcmV2LmlkLFxuICAgICAgICAgICAgc3RhdHVzOiByZXYub3B0cy5zdGF0dXNcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0YWNobWVudHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGNvdW50ID0gT2JqZWN0LmtleXMoYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICAgIGlmIChjb3VudCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gY2IobnVsbCwgZG9jKTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgdGhpcy5fZ2V0QXR0YWNobWVudChkb2MuX2lkLCBrZXksIGF0dGFjaG1lbnRzW2tleV0sIHtcbiAgICAgICAgICAvLyBQcmV2aW91c2x5IHRoZSByZXZpc2lvbiBoYW5kbGluZyB3YXMgZG9uZSBpbiBhZGFwdGVyLmpzXG4gICAgICAgICAgLy8gZ2V0QXR0YWNobWVudCwgaG93ZXZlciBzaW5jZSBpZGItbmV4dCBkb2VzbnQgd2UgbmVlZCB0b1xuICAgICAgICAgIC8vIHBhc3MgdGhlIHJldiB0aHJvdWdoXG4gICAgICAgICAgcmV2OiBkb2MuX3JldixcbiAgICAgICAgICBiaW5hcnk6IG9wdHMuYmluYXJ5LFxuICAgICAgICAgIGN0eDogY3R4XG4gICAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRhdGEpIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1trZXldO1xuICAgICAgICAgIGF0dC5kYXRhID0gZGF0YTtcbiAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgaWYgKCEtLWNvdW50KSB7XG4gICAgICAgICAgICBjYihudWxsLCBkb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9LCBzZWxmKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jLl9hdHRhY2htZW50cywga2V5KSkge1xuICAgICAgICAgICAgZG9jLl9hdHRhY2htZW50c1trZXldLnN0dWIgPSB0cnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbi8vIFRPRE86IEkgZG9udCBsaWtlIHRoaXMsIGl0IGZvcmNlcyBhbiBleHRyYSByZWFkIGZvciBldmVyeVxuLy8gYXR0YWNobWVudCByZWFkIGFuZCBlbmZvcmNlcyBhIGNvbmZ1c2luZyBhcGkgYmV0d2VlblxuLy8gYWRhcHRlci5qcyBhbmQgdGhlIGFkYXB0ZXIgaW1wbGVtZW50YXRpb25cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuZ2V0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cyBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICB0aGlzLl9nZXQoZG9jSWQsIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBpZiAocmVzLmRvYy5fYXR0YWNobWVudHMgJiYgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSkge1xuICAgICAgb3B0cy5jdHggPSByZXMuY3R4O1xuICAgICAgb3B0cy5iaW5hcnkgPSB0cnVlO1xuICAgICAgc2VsZi5fZ2V0QXR0YWNobWVudChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICByZXMuZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgIH1cbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5hbGxEb2NzID1cbiAgYWRhcHRlckZ1bignYWxsRG9jcycsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIG9wdHMuc2tpcCA9IHR5cGVvZiBvcHRzLnNraXAgIT09ICd1bmRlZmluZWQnID8gb3B0cy5za2lwIDogMDtcbiAgaWYgKG9wdHMuc3RhcnRfa2V5KSB7XG4gICAgb3B0cy5zdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICB9XG4gIGlmIChvcHRzLmVuZF9rZXkpIHtcbiAgICBvcHRzLmVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgfVxuICBpZiAoJ2tleXMnIGluIG9wdHMpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkob3B0cy5rZXlzKSkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBUeXBlRXJyb3IoJ29wdGlvbnMua2V5cyBtdXN0IGJlIGFuIGFycmF5JykpO1xuICAgIH1cbiAgICB2YXIgaW5jb21wYXRpYmxlT3B0ID1cbiAgICAgIFsnc3RhcnRrZXknLCAnZW5ka2V5JywgJ2tleSddLmZpbHRlcihmdW5jdGlvbiAoaW5jb21wYXRpYmxlT3B0KSB7XG4gICAgICByZXR1cm4gaW5jb21wYXRpYmxlT3B0IGluIG9wdHM7XG4gICAgfSlbMF07XG4gICAgaWYgKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUVVFUllfUEFSU0VfRVJST1IsXG4gICAgICAgICdRdWVyeSBwYXJhbWV0ZXIgYCcgKyBpbmNvbXBhdGlibGVPcHQgK1xuICAgICAgICAnYCBpcyBub3QgY29tcGF0aWJsZSB3aXRoIG11bHRpLWdldCdcbiAgICAgICkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWlzUmVtb3RlKHRoaXMpKSB7XG4gICAgICBhbGxEb2NzS2V5c1BhcnNlKG9wdHMpO1xuICAgICAgaWYgKG9wdHMua2V5cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FsbERvY3Moe2xpbWl0OiAwfSwgY2FsbGJhY2spO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHJldHVybiB0aGlzLl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNoYW5nZXMgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIC8vIEJ5IGRlZmF1bHQgc2V0IHJldHVybl9kb2NzIHRvIGZhbHNlIGlmIHRoZSBjYWxsZXIgaGFzIG9wdHMubGl2ZSA9IHRydWUsXG4gIC8vIHRoaXMgd2lsbCBwcmV2ZW50IHVzIGZyb20gY29sbGVjdGluZyB0aGUgc2V0IG9mIGNoYW5nZXMgaW5kZWZpbml0ZWx5XG4gIC8vIHJlc3VsdGluZyBpbiBncm93aW5nIG1lbW9yeVxuICBvcHRzLnJldHVybl9kb2NzID0gKCdyZXR1cm5fZG9jcycgaW4gb3B0cykgPyBvcHRzLnJldHVybl9kb2NzIDogIW9wdHMubGl2ZTtcblxuICByZXR1cm4gbmV3IENoYW5nZXMkMSh0aGlzLCBvcHRzLCBjYWxsYmFjayk7XG59O1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmNsb3NlID0gYWRhcHRlckZ1bignY2xvc2UnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgdGhpcy5lbWl0KCdjbG9zZWQnKTtcbiAgcmV0dXJuIHRoaXMuX2Nsb3NlKGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmluZm8gPSBhZGFwdGVyRnVuKCdpbmZvJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5faW5mbyhmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGFzc3VtZSB3ZSBrbm93IGJldHRlciB0aGFuIHRoZSBhZGFwdGVyLCB1bmxlc3MgaXQgaW5mb3JtcyB1c1xuICAgIGluZm8uZGJfbmFtZSA9IGluZm8uZGJfbmFtZSB8fCBzZWxmLm5hbWU7XG4gICAgaW5mby5hdXRvX2NvbXBhY3Rpb24gPSAhIShzZWxmLmF1dG9fY29tcGFjdGlvbiAmJiAhaXNSZW1vdGUoc2VsZikpO1xuICAgIGluZm8uYWRhcHRlciA9IHNlbGYuYWRhcHRlcjtcbiAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pZCA9IGFkYXB0ZXJGdW4oJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHJldHVybiB0aGlzLl9pZChjYWxsYmFjayk7XG59KTtcblxuLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICh0eXBlb2YgdGhpcy5fdHlwZSA9PT0gJ2Z1bmN0aW9uJykgPyB0aGlzLl90eXBlKCkgOiB0aGlzLmFkYXB0ZXI7XG59O1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtEb2NzID1cbiAgYWRhcHRlckZ1bignYnVsa0RvY3MnLCBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKEFycmF5LmlzQXJyYXkocmVxKSkge1xuICAgIHJlcSA9IHtcbiAgICAgIGRvY3M6IHJlcVxuICAgIH07XG4gIH1cblxuICBpZiAoIXJlcSB8fCAhcmVxLmRvY3MgfHwgIUFycmF5LmlzQXJyYXkocmVxLmRvY3MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfQlVMS19ET0NTKSk7XG4gIH1cblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHJlcS5kb2NzLmxlbmd0aDsgKytpKSB7XG4gICAgaWYgKHR5cGVvZiByZXEuZG9jc1tpXSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShyZXEuZG9jc1tpXSkpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihOT1RfQU5fT0JKRUNUKSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGF0dGFjaG1lbnRFcnJvcjtcbiAgcmVxLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgaWYgKGRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgICAgYXR0YWNobWVudEVycm9yID0gYXR0YWNobWVudEVycm9yIHx8IGF0dGFjaG1lbnROYW1lRXJyb3IobmFtZSk7XG4gICAgICAgIGlmICghZG9jLl9hdHRhY2htZW50c1tuYW1lXS5jb250ZW50X3R5cGUpIHtcbiAgICAgICAgICBndWFyZGVkQ29uc29sZSgnd2FybicsICdBdHRhY2htZW50JywgbmFtZSwgJ29uIGRvY3VtZW50JywgZG9jLl9pZCwgJ2lzIG1pc3NpbmcgY29udGVudF90eXBlJyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKGF0dGFjaG1lbnRFcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihCQURfUkVRVUVTVCwgYXR0YWNobWVudEVycm9yKSk7XG4gIH1cblxuICBpZiAoISgnbmV3X2VkaXRzJyBpbiBvcHRzKSkge1xuICAgIGlmICgnbmV3X2VkaXRzJyBpbiByZXEpIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gcmVxLm5ld19lZGl0cztcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cy5uZXdfZWRpdHMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gdGhpcztcbiAgaWYgKCFvcHRzLm5ld19lZGl0cyAmJiAhaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAvLyBlbnN1cmUgcmV2aXNpb25zIG9mIHRoZSBzYW1lIGRvYyBhcmUgc29ydGVkLCBzbyB0aGF0XG4gICAgLy8gdGhlIGxvY2FsIGFkYXB0ZXIgcHJvY2Vzc2VzIHRoZW0gY29ycmVjdGx5ICgjMjkzNSlcbiAgICByZXEuZG9jcy5zb3J0KGNvbXBhcmVCeUlkVGhlblJldik7XG4gIH1cblxuICBjbGVhbkRvY3MocmVxLmRvY3MpO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIGNvbmZsaWN0cywgd2Ugd2FudCB0byByZXR1cm4gdGhlIF9pZHMgdG8gdGhlIHVzZXJcbiAgLy8gaG93ZXZlciwgdGhlIHVuZGVybHlpbmcgYWRhcHRlciBtYXkgZGVzdHJveSB0aGUgZG9jcyBhcnJheSwgc29cbiAgLy8gY3JlYXRlIGEgY29weSBoZXJlXG4gIHZhciBpZHMgPSByZXEuZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgIHJldHVybiBkb2MuX2lkO1xuICB9KTtcblxuICByZXR1cm4gdGhpcy5fYnVsa0RvY3MocmVxLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKCFvcHRzLm5ld19lZGl0cykge1xuICAgICAgLy8gdGhpcyBpcyB3aGF0IGNvdWNoIGRvZXMgd2hlbiBuZXdfZWRpdHMgaXMgZmFsc2VcbiAgICAgIHJlcyA9IHJlcy5maWx0ZXIoZnVuY3Rpb24gKHgpIHtcbiAgICAgICAgcmV0dXJuIHguZXJyb3I7XG4gICAgICB9KTtcbiAgICB9XG4gICAgLy8gYWRkIGlkcyBmb3IgZXJyb3IvY29uZmxpY3QgcmVzcG9uc2VzIChub3QgcmVxdWlyZWQgZm9yIENvdWNoREIpXG4gICAgaWYgKCFpc1JlbW90ZShhZGFwdGVyKSkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHJlc1tpXS5pZCA9IHJlc1tpXS5pZCB8fCBpZHNbaV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgfSk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlID1cbiAgYWRhcHRlckZ1bigncmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZScsIGZ1bmN0aW9uIChkZXBlbmRlbnREYixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgZGJPcHRpb25zID0gY2xvbmUodGhpcy5fX29wdHMpO1xuICBpZiAodGhpcy5fX29wdHMudmlld19hZGFwdGVyKSB7XG4gICAgZGJPcHRpb25zLmFkYXB0ZXIgPSB0aGlzLl9fb3B0cy52aWV3X2FkYXB0ZXI7XG4gIH1cblxuICB2YXIgZGVwREIgPSBuZXcgdGhpcy5jb25zdHJ1Y3RvcihkZXBlbmRlbnREYiwgZGJPcHRpb25zKTtcblxuICBmdW5jdGlvbiBkaWZmRnVuKGRvYykge1xuICAgIGRvYy5kZXBlbmRlbnREYnMgPSBkb2MuZGVwZW5kZW50RGJzIHx8IHt9O1xuICAgIGlmIChkb2MuZGVwZW5kZW50RGJzW2RlcGVuZGVudERiXSkge1xuICAgICAgcmV0dXJuIGZhbHNlOyAvLyBubyB1cGRhdGUgcmVxdWlyZWRcbiAgICB9XG4gICAgZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0gPSB0cnVlO1xuICAgIHJldHVybiBkb2M7XG4gIH1cbiAgdXBzZXJ0KHRoaXMsICdfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERicycsIGRpZmZGdW4pXG4gICAgLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge2RiOiBkZXBEQn0pO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmRlc3Ryb3kgPVxuICBhZGFwdGVyRnVuKCdkZXN0cm95JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHVzZVByZWZpeCA9ICd1c2VfcHJlZml4JyBpbiBzZWxmID8gc2VsZi51c2VfcHJlZml4IDogdHJ1ZTtcblxuICBmdW5jdGlvbiBkZXN0cm95RGIoKSB7XG4gICAgLy8gY2FsbCBkZXN0cm95IG1ldGhvZCBvZiB0aGUgcGFydGljdWxhciBhZGFwdG9yXG4gICAgc2VsZi5fZGVzdHJveShvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXNwKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfVxuICAgICAgc2VsZi5fZGVzdHJveWVkID0gdHJ1ZTtcbiAgICAgIHNlbGYuZW1pdCgnZGVzdHJveWVkJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXNwIHx8IHsgJ29rJzogdHJ1ZSB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChpc1JlbW90ZShzZWxmKSkge1xuICAgIC8vIG5vIG5lZWQgdG8gY2hlY2sgZm9yIGRlcGVuZGVudCBEQnMgaWYgaXQncyBhIHJlbW90ZSBEQlxuICAgIHJldHVybiBkZXN0cm95RGIoKTtcbiAgfVxuXG4gIHNlbGYuZ2V0KCdfbG9jYWwvX3BvdWNoX2RlcGVuZGVudERicycsIGZ1bmN0aW9uIChlcnIsIGxvY2FsRG9jKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHsgLy8gbm8gZGVwZW5kZW5jaWVzXG4gICAgICAgIHJldHVybiBkZXN0cm95RGIoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdmFyIGRlcGVuZGVudERicyA9IGxvY2FsRG9jLmRlcGVuZGVudERicztcbiAgICB2YXIgUG91Y2hEQiA9IHNlbGYuY29uc3RydWN0b3I7XG4gICAgdmFyIGRlbGV0ZWRNYXAgPSBPYmplY3Qua2V5cyhkZXBlbmRlbnREYnMpLm1hcChmdW5jdGlvbiAobmFtZSkge1xuICAgICAgLy8gdXNlX3ByZWZpeCBpcyBvbmx5IGZhbHNlIGluIHRoZSBicm93c2VyXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgdmFyIHRydWVOYW1lID0gdXNlUHJlZml4ID9cbiAgICAgICAgbmFtZS5yZXBsYWNlKG5ldyBSZWdFeHAoJ14nICsgUG91Y2hEQi5wcmVmaXgpLCAnJykgOiBuYW1lO1xuICAgICAgcmV0dXJuIG5ldyBQb3VjaERCKHRydWVOYW1lLCBzZWxmLl9fb3B0cykuZGVzdHJveSgpO1xuICAgIH0pO1xuICAgIFByb21pc2UuYWxsKGRlbGV0ZWRNYXApLnRoZW4oZGVzdHJveURiLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbmZ1bmN0aW9uIFRhc2tRdWV1ZSgpIHtcbiAgdGhpcy5pc1JlYWR5ID0gZmFsc2U7XG4gIHRoaXMuZmFpbGVkID0gZmFsc2U7XG4gIHRoaXMucXVldWUgPSBbXTtcbn1cblxuVGFza1F1ZXVlLnByb3RvdHlwZS5leGVjdXRlID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZnVuO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bih0aGlzLmZhaWxlZCk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHdoaWxlICgoZnVuID0gdGhpcy5xdWV1ZS5zaGlmdCgpKSkge1xuICAgICAgZnVuKCk7XG4gICAgfVxuICB9XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmZhaWwgPSBmdW5jdGlvbiAoZXJyKSB7XG4gIHRoaXMuZmFpbGVkID0gZXJyO1xuICB0aGlzLmV4ZWN1dGUoKTtcbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoZGIpIHtcbiAgdGhpcy5pc1JlYWR5ID0gdHJ1ZTtcbiAgdGhpcy5kYiA9IGRiO1xuICB0aGlzLmV4ZWN1dGUoKTtcbn07XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuYWRkVGFzayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgdGhpcy5xdWV1ZS5wdXNoKGZ1bik7XG4gIGlmICh0aGlzLmZhaWxlZCkge1xuICAgIHRoaXMuZXhlY3V0ZSgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBwYXJzZUFkYXB0ZXIobmFtZSwgb3B0cykge1xuICB2YXIgbWF0Y2ggPSBuYW1lLm1hdGNoKC8oW2Etei1dKik6XFwvXFwvKC4qKS8pO1xuICBpZiAobWF0Y2gpIHtcbiAgICAvLyB0aGUgaHR0cCBhZGFwdGVyIGV4cGVjdHMgdGhlIGZ1bGx5IHF1YWxpZmllZCBuYW1lXG4gICAgcmV0dXJuIHtcbiAgICAgIG5hbWU6IC9odHRwcz8vLnRlc3QobWF0Y2hbMV0pID8gbWF0Y2hbMV0gKyAnOi8vJyArIG1hdGNoWzJdIDogbWF0Y2hbMl0sXG4gICAgICBhZGFwdGVyOiBtYXRjaFsxXVxuICAgIH07XG4gIH1cblxuICB2YXIgYWRhcHRlcnMgPSBQb3VjaERCLmFkYXB0ZXJzO1xuICB2YXIgcHJlZmVycmVkQWRhcHRlcnMgPSBQb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzO1xuICB2YXIgcHJlZml4ID0gUG91Y2hEQi5wcmVmaXg7XG4gIHZhciBhZGFwdGVyTmFtZSA9IG9wdHMuYWRhcHRlcjtcblxuICBpZiAoIWFkYXB0ZXJOYW1lKSB7IC8vIGF1dG9tYXRpY2FsbHkgZGV0ZXJtaW5lIGFkYXB0ZXJcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByZWZlcnJlZEFkYXB0ZXJzLmxlbmd0aDsgKytpKSB7XG4gICAgICBhZGFwdGVyTmFtZSA9IHByZWZlcnJlZEFkYXB0ZXJzW2ldO1xuICAgICAgLy8gY2hlY2sgZm9yIGJyb3dzZXJzIHRoYXQgaGF2ZSBiZWVuIHVwZ3JhZGVkIGZyb20gd2Vic3FsLW9ubHkgdG8gd2Vic3FsK2lkYlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoYWRhcHRlck5hbWUgPT09ICdpZGInICYmICd3ZWJzcWwnIGluIGFkYXB0ZXJzICYmXG4gICAgICAgICAgaGFzTG9jYWxTdG9yYWdlKCkgJiYgbG9jYWxTdG9yYWdlWydfcG91Y2hfX3dlYnNxbGRiXycgKyBwcmVmaXggKyBuYW1lXSkge1xuICAgICAgICAvLyBsb2cgaXQsIGJlY2F1c2UgdGhpcyBjYW4gYmUgY29uZnVzaW5nIGR1cmluZyBkZXZlbG9wbWVudFxuICAgICAgICBndWFyZGVkQ29uc29sZSgnbG9nJywgJ1BvdWNoREIgaXMgZG93bmdyYWRpbmcgXCInICsgbmFtZSArICdcIiB0byBXZWJTUUwgdG8nICtcbiAgICAgICAgICAnIGF2b2lkIGRhdGEgbG9zcywgYmVjYXVzZSBpdCB3YXMgYWxyZWFkeSBvcGVuZWQgd2l0aCBXZWJTUUwuJyk7XG4gICAgICAgIGNvbnRpbnVlOyAvLyBrZWVwIHVzaW5nIHdlYnNxbCB0byBhdm9pZCB1c2VyIGRhdGEgbG9zc1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG5cbiAgdmFyIGFkYXB0ZXIgPSBhZGFwdGVyc1thZGFwdGVyTmFtZV07XG5cbiAgLy8gaWYgYWRhcHRlciBpcyBpbnZhbGlkLCB0aGVuIGFuIGVycm9yIHdpbGwgYmUgdGhyb3duIGxhdGVyXG4gIHZhciB1c2VQcmVmaXggPSAoYWRhcHRlciAmJiAndXNlX3ByZWZpeCcgaW4gYWRhcHRlcikgP1xuICAgIGFkYXB0ZXIudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgcmV0dXJuIHtcbiAgICBuYW1lOiB1c2VQcmVmaXggPyAocHJlZml4ICsgbmFtZSkgOiBuYW1lLFxuICAgIGFkYXB0ZXI6IGFkYXB0ZXJOYW1lXG4gIH07XG59XG5cbi8vIE9LLCBzbyBoZXJlJ3MgdGhlIGRlYWwuIENvbnNpZGVyIHRoaXMgY29kZTpcbi8vICAgICB2YXIgZGIxID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIHZhciBkYjIgPSBuZXcgUG91Y2hEQignZm9vJyk7XG4vLyAgICAgZGIxLmRlc3Ryb3koKTtcbi8vIF4gdGhlc2UgdHdvIGJvdGggbmVlZCB0byBlbWl0ICdkZXN0cm95ZWQnIGV2ZW50cyxcbi8vIGFzIHdlbGwgYXMgdGhlIFBvdWNoREIgY29uc3RydWN0b3IgaXRzZWxmLlxuLy8gU28gd2UgaGF2ZSBvbmUgZGIgb2JqZWN0ICh3aGljaGV2ZXIgb25lIGdvdCBkZXN0cm95KCkgY2FsbGVkIG9uIGl0KVxuLy8gcmVzcG9uc2libGUgZm9yIGVtaXR0aW5nIHRoZSBpbml0aWFsIGV2ZW50LCB3aGljaCB0aGVuIGdldHMgZW1pdHRlZFxuLy8gYnkgdGhlIGNvbnN0cnVjdG9yLCB3aGljaCB0aGVuIGJyb2FkY2FzdHMgaXQgdG8gYW55IG90aGVyIGRic1xuLy8gdGhhdCBtYXkgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aCB0aGUgc2FtZSBuYW1lLlxuZnVuY3Rpb24gcHJlcGFyZUZvckRlc3RydWN0aW9uKHNlbGYpIHtcblxuICBmdW5jdGlvbiBvbkRlc3Ryb3llZChmcm9tX2NvbnN0cnVjdG9yKSB7XG4gICAgc2VsZi5yZW1vdmVMaXN0ZW5lcignY2xvc2VkJywgb25DbG9zZWQpO1xuICAgIGlmICghZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZXN0cm95ZWQnLCBzZWxmLm5hbWUpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uQ2xvc2VkKCkge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveWVkKTtcbiAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3VucmVmJywgc2VsZik7XG4gIH1cblxuICBzZWxmLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveWVkKTtcbiAgc2VsZi5vbmNlKCdjbG9zZWQnLCBvbkNsb3NlZCk7XG4gIHNlbGYuY29uc3RydWN0b3IuZW1pdCgncmVmJywgc2VsZik7XG59XG5cbmluaGVyaXRzKFBvdWNoREIsIEFic3RyYWN0UG91Y2hEQik7XG5mdW5jdGlvbiBQb3VjaERCKG5hbWUsIG9wdHMpIHtcbiAgLy8gSW4gTm9kZSBvdXIgdGVzdCBzdWl0ZSBvbmx5IHRlc3RzIHRoaXMgZm9yIFBvdWNoQWx0IHVuZm9ydHVuYXRlbHlcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3VjaERCKSkge1xuICAgIHJldHVybiBuZXcgUG91Y2hEQihuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIHZhciBzZWxmID0gdGhpcztcbiAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgb3B0cyA9IG5hbWU7XG4gICAgbmFtZSA9IG9wdHMubmFtZTtcbiAgICBkZWxldGUgb3B0cy5uYW1lO1xuICB9XG5cbiAgaWYgKG9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzID09PSB1bmRlZmluZWQpIHtcbiAgICBvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9IHRydWU7XG4gIH1cblxuICB0aGlzLl9fb3B0cyA9IG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBzZWxmLmF1dG9fY29tcGFjdGlvbiA9IG9wdHMuYXV0b19jb21wYWN0aW9uO1xuICBzZWxmLnByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuXG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcvaW52YWxpZCBEQiBuYW1lJyk7XG4gIH1cblxuICB2YXIgcHJlZml4ZWROYW1lID0gKG9wdHMucHJlZml4IHx8ICcnKSArIG5hbWU7XG4gIHZhciBiYWNrZW5kID0gcGFyc2VBZGFwdGVyKHByZWZpeGVkTmFtZSwgb3B0cyk7XG5cbiAgb3B0cy5uYW1lID0gYmFja2VuZC5uYW1lO1xuICBvcHRzLmFkYXB0ZXIgPSBvcHRzLmFkYXB0ZXIgfHwgYmFja2VuZC5hZGFwdGVyO1xuXG4gIHNlbGYubmFtZSA9IG5hbWU7XG4gIHNlbGYuX2FkYXB0ZXIgPSBvcHRzLmFkYXB0ZXI7XG4gIFBvdWNoREIuZW1pdCgnZGVidWcnLCBbJ2FkYXB0ZXInLCAnUGlja2VkIGFkYXB0ZXI6ICcsIG9wdHMuYWRhcHRlcl0pO1xuXG4gIGlmICghUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdIHx8XG4gICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdLnZhbGlkKCkpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgQWRhcHRlcjogJyArIG9wdHMuYWRhcHRlcik7XG4gIH1cblxuICBpZiAob3B0cy52aWV3X2FkYXB0ZXIpIHtcbiAgICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy52aWV3X2FkYXB0ZXJdIHx8XG4gICAgICAgICFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgVmlldyBBZGFwdGVyOiAnICsgb3B0cy52aWV3X2FkYXB0ZXIpO1xuICAgIH1cbiAgfVxuXG4gIEFic3RyYWN0UG91Y2hEQi5jYWxsKHNlbGYpO1xuICBzZWxmLnRhc2txdWV1ZSA9IG5ldyBUYXNrUXVldWUoKTtcblxuICBzZWxmLmFkYXB0ZXIgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgUG91Y2hEQi5hZGFwdGVyc1tvcHRzLmFkYXB0ZXJdLmNhbGwoc2VsZiwgb3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBzZWxmLnRhc2txdWV1ZS5mYWlsKGVycik7XG4gICAgfVxuICAgIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKTtcblxuICAgIHNlbGYuZW1pdCgnY3JlYXRlZCcsIHNlbGYpO1xuICAgIFBvdWNoREIuZW1pdCgnY3JlYXRlZCcsIHNlbGYubmFtZSk7XG4gICAgc2VsZi50YXNrcXVldWUucmVhZHkoc2VsZik7XG4gIH0pO1xuXG59XG5cbi8vIEFib3J0Q29udHJvbGxlciB3YXMgaW50cm9kdWNlZCBxdWl0ZSBhIHdoaWxlIGFmdGVyIGZldGNoIGFuZFxuLy8gaXNudCByZXF1aXJlZCBmb3IgUG91Y2hEQiB0byBmdW5jdGlvbiBzbyBwb2x5ZmlsbCBpZiBuZWVkZWRcbnZhciBhID0gKHR5cGVvZiBBYm9ydENvbnRyb2xsZXIgIT09ICd1bmRlZmluZWQnKVxuICAgID8gQWJvcnRDb250cm9sbGVyXG4gICAgOiBmdW5jdGlvbiAoKSB7IHJldHVybiB7YWJvcnQ6IGZ1bmN0aW9uICgpIHt9fTsgfTtcblxudmFyIGYkMSA9IGZldGNoO1xudmFyIGggPSBIZWFkZXJzO1xuXG5Qb3VjaERCLmFkYXB0ZXJzID0ge307XG5Qb3VjaERCLnByZWZlcnJlZEFkYXB0ZXJzID0gW107XG5cblBvdWNoREIucHJlZml4ID0gJ19wb3VjaF8nO1xuXG52YXIgZXZlbnRFbWl0dGVyID0gbmV3IEVFKCk7XG5cbmZ1bmN0aW9uIHNldFVwRXZlbnRFbWl0dGVyKFBvdWNoKSB7XG4gIE9iamVjdC5rZXlzKEVFLnByb3RvdHlwZSkuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKHR5cGVvZiBFRS5wcm90b3R5cGVba2V5XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgUG91Y2hba2V5XSA9IGV2ZW50RW1pdHRlcltrZXldLmJpbmQoZXZlbnRFbWl0dGVyKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIHRoZXNlIGFyZSBjcmVhdGVkIGluIGNvbnN0cnVjdG9yLmpzLCBhbmQgYWxsb3cgdXMgdG8gbm90aWZ5IGVhY2ggREIgd2l0aFxuICAvLyB0aGUgc2FtZSBuYW1lIHRoYXQgaXQgd2FzIGRlc3Ryb3llZCwgdmlhIHRoZSBjb25zdHJ1Y3RvciBvYmplY3RcbiAgdmFyIGRlc3RydWN0TGlzdGVuZXJzID0gUG91Y2guX2Rlc3RydWN0aW9uTGlzdGVuZXJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgUG91Y2gub24oJ3JlZicsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JSZWYoZGIpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhkYi5uYW1lKSkge1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIFtdKTtcbiAgICB9XG4gICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KGRiLm5hbWUpLnB1c2goZGIpO1xuICB9KTtcblxuICBQb3VjaC5vbigndW5yZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yVW5yZWYoZGIpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhkYi5uYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KGRiLm5hbWUpO1xuICAgIHZhciBwb3MgPSBkYkxpc3QuaW5kZXhPZihkYik7XG4gICAgaWYgKHBvcyA8IDApIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGRiTGlzdC5zcGxpY2UocG9zLCAxKTtcbiAgICBpZiAoZGJMaXN0Lmxlbmd0aCA+IDEpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZXN0cnVjdExpc3RlbmVycy5zZXQoZGIubmFtZSwgZGJMaXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZGVsZXRlKGRiLm5hbWUpO1xuICAgIH1cbiAgfSk7XG5cbiAgUG91Y2gub24oJ2Rlc3Ryb3llZCcsIGZ1bmN0aW9uIG9uQ29uc3RydWN0b3JEZXN0cm95ZWQobmFtZSkge1xuICAgIGlmICghZGVzdHJ1Y3RMaXN0ZW5lcnMuaGFzKG5hbWUpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHZhciBkYkxpc3QgPSBkZXN0cnVjdExpc3RlbmVycy5nZXQobmFtZSk7XG4gICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuZGVsZXRlKG5hbWUpO1xuICAgIGRiTGlzdC5mb3JFYWNoKGZ1bmN0aW9uIChkYikge1xuICAgICAgZGIuZW1pdCgnZGVzdHJveWVkJyx0cnVlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbnNldFVwRXZlbnRFbWl0dGVyKFBvdWNoREIpO1xuXG5Qb3VjaERCLmFkYXB0ZXIgPSBmdW5jdGlvbiAoaWQsIG9iaiwgYWRkVG9QcmVmZXJyZWRBZGFwdGVycykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAob2JqLnZhbGlkKCkpIHtcbiAgICBQb3VjaERCLmFkYXB0ZXJzW2lkXSA9IG9iajtcbiAgICBpZiAoYWRkVG9QcmVmZXJyZWRBZGFwdGVycykge1xuICAgICAgUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycy5wdXNoKGlkKTtcbiAgICB9XG4gIH1cbn07XG5cblBvdWNoREIucGx1Z2luID0gZnVuY3Rpb24gKG9iaikge1xuICBpZiAodHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJykgeyAvLyBmdW5jdGlvbiBzdHlsZSBmb3IgcGx1Z2luc1xuICAgIG9iaihQb3VjaERCKTtcbiAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0JyB8fCBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMCkge1xuICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBwbHVnaW46IGdvdCBcIicgKyBvYmogKyAnXCIsIGV4cGVjdGVkIGFuIG9iamVjdCBvciBhIGZ1bmN0aW9uJyk7XG4gIH0gZWxzZSB7XG4gICAgT2JqZWN0LmtleXMob2JqKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkgeyAvLyBvYmplY3Qgc3R5bGUgZm9yIHBsdWdpbnNcbiAgICAgIFBvdWNoREIucHJvdG90eXBlW2lkXSA9IG9ialtpZF07XG4gICAgfSk7XG4gIH1cbiAgaWYgKHRoaXMuX19kZWZhdWx0cykge1xuICAgIFBvdWNoREIuX19kZWZhdWx0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgdGhpcy5fX2RlZmF1bHRzKTtcbiAgfVxuICByZXR1cm4gUG91Y2hEQjtcbn07XG5cblBvdWNoREIuZGVmYXVsdHMgPSBmdW5jdGlvbiAoZGVmYXVsdE9wdHMpIHtcbiAgZnVuY3Rpb24gUG91Y2hBbHQobmFtZSwgb3B0cykge1xuICAgIGlmICghKHRoaXMgaW5zdGFuY2VvZiBQb3VjaEFsdCkpIHtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hBbHQobmFtZSwgb3B0cyk7XG4gICAgfVxuXG4gICAgb3B0cyA9IG9wdHMgfHwge307XG5cbiAgICBpZiAobmFtZSAmJiB0eXBlb2YgbmFtZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIG9wdHMgPSBuYW1lO1xuICAgICAgbmFtZSA9IG9wdHMubmFtZTtcbiAgICAgIGRlbGV0ZSBvcHRzLm5hbWU7XG4gICAgfVxuXG4gICAgb3B0cyA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgUG91Y2hBbHQuX19kZWZhdWx0cywgb3B0cyk7XG4gICAgUG91Y2hEQi5jYWxsKHRoaXMsIG5hbWUsIG9wdHMpO1xuICB9XG5cbiAgaW5oZXJpdHMoUG91Y2hBbHQsIFBvdWNoREIpO1xuXG4gIFBvdWNoQWx0LnByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycy5zbGljZSgpO1xuICBPYmplY3Qua2V5cyhQb3VjaERCKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICBpZiAoIShrZXkgaW4gUG91Y2hBbHQpKSB7XG4gICAgICBQb3VjaEFsdFtrZXldID0gUG91Y2hEQltrZXldO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gbWFrZSBkZWZhdWx0IG9wdGlvbnMgdHJhbnNpdGl2ZVxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy81OTIyXG4gIFBvdWNoQWx0Ll9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cywgZGVmYXVsdE9wdHMpO1xuXG4gIHJldHVybiBQb3VjaEFsdDtcbn07XG5cblBvdWNoREIuZmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRzKSB7XG4gIHJldHVybiBmJDEodXJsLCBvcHRzKTtcbn07XG5cbi8vIG1hbmFnZWQgYXV0b21hdGljYWxseSBieSBzZXQtdmVyc2lvbi5qc1xudmFyIHZlcnNpb24gPSBcIjcuMy4wXCI7XG5cbi8vIHRoaXMgd291bGQganVzdCBiZSBcInJldHVybiBkb2NbZmllbGRdXCIsIGJ1dCBmaWVsZHNcbi8vIGNhbiBiZSBcImRlZXBcIiBkdWUgdG8gZG90IG5vdGF0aW9uXG5mdW5jdGlvbiBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCkge1xuICB2YXIgdmFsdWUgPSBkb2M7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBwYXJzZWRGaWVsZC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBwYXJzZWRGaWVsZFtpXTtcbiAgICB2YWx1ZSA9IHZhbHVlW2tleV07XG4gICAgaWYgKCF2YWx1ZSkge1xuICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIHJldHVybiB2YWx1ZTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZSQxKGxlZnQsIHJpZ2h0KSB7XG4gIHJldHVybiBsZWZ0IDwgcmlnaHQgPyAtMSA6IGxlZnQgPiByaWdodCA/IDEgOiAwO1xufVxuXG4vLyBDb252ZXJ0cyBhIHN0cmluZyBpbiBkb3Qgbm90YXRpb24gdG8gYW4gYXJyYXkgb2YgaXRzIGNvbXBvbmVudHMsIHdpdGggYmFja3NsYXNoIGVzY2FwaW5nXG5mdW5jdGlvbiBwYXJzZUZpZWxkKGZpZWxkTmFtZSkge1xuICAvLyBmaWVsZHMgbWF5IGJlIGRlZXAgKGUuZy4gXCJmb28uYmFyLmJhelwiKSwgc28gcGFyc2VcbiAgdmFyIGZpZWxkcyA9IFtdO1xuICB2YXIgY3VycmVudCA9ICcnO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gZmllbGROYW1lLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGNoID0gZmllbGROYW1lW2ldO1xuICAgIGlmIChpID4gMCAmJiBmaWVsZE5hbWVbaSAtIDFdID09PSAnXFxcXCcgJiYgKGNoID09PSAnJCcgfHwgY2ggPT09ICcuJykpIHtcbiAgICAgIC8vIGVzY2FwZWQgZGVsaW1pdGVyXG4gICAgICBjdXJyZW50ID0gY3VycmVudC5zdWJzdHJpbmcoMCwgY3VycmVudC5sZW5ndGggLSAxKSArIGNoO1xuICAgIH0gZWxzZSBpZiAoY2ggPT09ICcuJykge1xuICAgICAgLy8gV2hlbiBgLmAgaXMgbm90IGVzY2FwZWQgKGFib3ZlKSwgaXQgaXMgYSBmaWVsZCBkZWxpbWl0ZXJcbiAgICAgIGZpZWxkcy5wdXNoKGN1cnJlbnQpO1xuICAgICAgY3VycmVudCA9ICcnO1xuICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBjaGFyYWN0ZXJcbiAgICAgIGN1cnJlbnQgKz0gY2g7XG4gICAgfVxuICB9XG4gIGZpZWxkcy5wdXNoKGN1cnJlbnQpO1xuICByZXR1cm4gZmllbGRzO1xufVxuXG52YXIgY29tYmluYXRpb25GaWVsZHMgPSBbJyRvcicsICckbm9yJywgJyRub3QnXTtcbmZ1bmN0aW9uIGlzQ29tYmluYXRpb25hbEZpZWxkKGZpZWxkKSB7XG4gIHJldHVybiBjb21iaW5hdGlvbkZpZWxkcy5pbmRleE9mKGZpZWxkKSA+IC0xO1xufVxuXG5mdW5jdGlvbiBnZXRLZXkob2JqKSB7XG4gIHJldHVybiBPYmplY3Qua2V5cyhvYmopWzBdO1xufVxuXG5mdW5jdGlvbiBnZXRWYWx1ZShvYmopIHtcbiAgcmV0dXJuIG9ialtnZXRLZXkob2JqKV07XG59XG5cblxuLy8gZmxhdHRlbiBhbiBhcnJheSBvZiBzZWxlY3RvcnMgam9pbmVkIGJ5IGFuICRhbmQgb3BlcmF0b3JcbmZ1bmN0aW9uIG1lcmdlQW5kZWRTZWxlY3RvcnMoc2VsZWN0b3JzKSB7XG5cbiAgLy8gc29ydCB0byBlbnN1cmUgdGhhdCBlLmcuIGlmIHRoZSB1c2VyIHNwZWNpZmllZFxuICAvLyAkYW5kOiBbeyRndDogJ2EnfSwgeyRndDogJ2InfV0sIHRoZW4gaXQncyBjb2xsYXBzZWQgaW50b1xuICAvLyBqdXN0IHskZ3Q6ICdiJ31cbiAgdmFyIHJlcyA9IHt9O1xuICB2YXIgZmlyc3QgPSB7JG9yOiB0cnVlLCAkbm9yOiB0cnVlfTtcblxuICBzZWxlY3RvcnMuZm9yRWFjaChmdW5jdGlvbiAoc2VsZWN0b3IpIHtcbiAgICBPYmplY3Qua2V5cyhzZWxlY3RvcikuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcbiAgICAgIHZhciBtYXRjaGVyID0gc2VsZWN0b3JbZmllbGRdO1xuICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0Jykge1xuICAgICAgICBtYXRjaGVyID0geyRlcTogbWF0Y2hlcn07XG4gICAgICB9XG5cbiAgICAgIGlmIChpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkpIHtcbiAgICAgICAgLy8gb3IsIG5vclxuICAgICAgICBpZiAobWF0Y2hlciBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgICAgaWYgKGZpcnN0W2ZpZWxkXSkge1xuICAgICAgICAgICAgZmlyc3RbZmllbGRdID0gZmFsc2U7XG4gICAgICAgICAgICByZXNbZmllbGRdID0gbWF0Y2hlcjtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgZW50cmllcyA9IFtdO1xuICAgICAgICAgIHJlc1tmaWVsZF0uZm9yRWFjaChmdW5jdGlvbiAoZXhpc3RpbmcpIHtcbiAgICAgICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgICAgICAgICB2YXIgbSA9IG1hdGNoZXJba2V5XTtcbiAgICAgICAgICAgICAgdmFyIGxvbmdlc3QgPSBNYXRoLm1heChPYmplY3Qua2V5cyhleGlzdGluZykubGVuZ3RoLCBPYmplY3Qua2V5cyhtKS5sZW5ndGgpO1xuICAgICAgICAgICAgICB2YXIgbWVyZ2VkID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbZXhpc3RpbmcsIG1dKTtcbiAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKG1lcmdlZCkubGVuZ3RoIDw9IGxvbmdlc3QpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBoYXZlIGEgc2l0dWF0aW9uIGxpa2U6IChhIDp7JGVxIDoxfSB8fCAuLi4pICYmIChhIHskZXE6IDJ9IHx8IC4uLilcbiAgICAgICAgICAgICAgICAvLyBtZXJnaW5nIHdvdWxkIHByb2R1Y2UgYSAkZXEgMiB3aGVuIGFjdHVhbGx5IHdlIHNob3VsZG4ndCBldmVyIG1hdGNoIGFnYWluc3QgdGhlc2UgbWVyZ2VkIGNvbmRpdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBtZXJnZWQgc2hvdWxkIGFsd2F5cyBjb250YWluIG1vcmUgdmFsdWVzIHRvIGJlIHZhbGlkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGVudHJpZXMucHVzaChtZXJnZWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVzW2ZpZWxkXSA9IGVudHJpZXM7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gbm90XG4gICAgICAgICAgcmVzW2ZpZWxkXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW21hdGNoZXJdKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIGZpZWxkTWF0Y2hlcnMgPSByZXNbZmllbGRdID0gcmVzW2ZpZWxkXSB8fCB7fTtcbiAgICAgICAgT2JqZWN0LmtleXMobWF0Y2hlcikuZm9yRWFjaChmdW5jdGlvbiAob3BlcmF0b3IpIHtcbiAgICAgICAgICB2YXIgdmFsdWUgPSBtYXRjaGVyW29wZXJhdG9yXTtcblxuICAgICAgICAgIGlmIChvcGVyYXRvciA9PT0gJyRndCcgfHwgb3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJGx0JyB8fCBvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VMdEx0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckbmUnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRlcScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUVxKHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSBcIiRyZWdleFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VSZWdleCh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4gcmVzO1xufVxuXG5cblxuLy8gY29sbGFwc2UgbG9naWNhbGx5IGVxdWl2YWxlbnQgZ3QvZ3RlIHZhbHVlc1xuZnVuY3Rpb24gbWVyZ2VHdEd0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRlcSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgfVxuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGd0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3RlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3RlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPj0gZmllbGRNYXRjaGVycy4kZ3RlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0ZTtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3QgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGd0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRndGUnKSB7XG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndDtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kZ3RlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPiBmaWVsZE1hdGNoZXJzLiRndCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gIH1cbn1cblxuLy8gY29sbGFwc2UgbG9naWNhbGx5IGVxdWl2YWxlbnQgbHQvbHRlIHZhbHVlc1xuZnVuY3Rpb24gbWVyZ2VMdEx0ZShvcGVyYXRvciwgdmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRlcSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm47IC8vIGRvIG5vdGhpbmdcbiAgfVxuICBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGx0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHRlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHRlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPD0gZmllbGRNYXRjaGVycy4kbHRlKSB7IC8vIG1vcmUgc3BlY2lmaWNpdHlcbiAgICAgICAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0ZTtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHQgPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAodHlwZW9mIGZpZWxkTWF0Y2hlcnMuJGx0ICE9PSAndW5kZWZpbmVkJykge1xuICAgIGlmIChvcGVyYXRvciA9PT0gJyRsdGUnKSB7XG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdDtcbiAgICAgICAgZmllbGRNYXRjaGVycy4kbHRlID0gdmFsdWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHsgLy8gb3BlcmF0b3IgPT09ICckZ3QnXG4gICAgICBpZiAodmFsdWUgPCBmaWVsZE1hdGNoZXJzLiRsdCkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGZpZWxkTWF0Y2hlcnNbb3BlcmF0b3JdID0gdmFsdWU7XG4gIH1cbn1cblxuLy8gY29tYmluZSAkbmUgdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZU5lKHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJG5lJyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gdGhlcmUgYXJlIG1hbnkgdGhpbmdzIHRoaXMgY291bGQgXCJub3RcIiBiZVxuICAgIGZpZWxkTWF0Y2hlcnMuJG5lLnB1c2godmFsdWUpO1xuICB9IGVsc2UgeyAvLyBkb2Vzbid0IGV4aXN0IHlldFxuICAgIGZpZWxkTWF0Y2hlcnMuJG5lID0gW3ZhbHVlXTtcbiAgfVxufVxuXG4vLyBhZGQgJGVxIGludG8gdGhlIG1peFxuZnVuY3Rpb24gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICAvLyB0aGVzZSBhbGwgaGF2ZSBsZXNzIHNwZWNpZmljaXR5IHRoYW4gdGhlICRlcVxuICAvLyBUT0RPOiBjaGVjayBmb3IgdXNlciBlcnJvcnMgaGVyZVxuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdDtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGx0ZTtcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJG5lO1xuICBmaWVsZE1hdGNoZXJzLiRlcSA9IHZhbHVlO1xufVxuXG4vLyBjb21iaW5lICRyZWdleCB2YWx1ZXMgaW50byBvbmUgYXJyYXlcbmZ1bmN0aW9uIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgaWYgKCckcmVnZXgnIGluIGZpZWxkTWF0Y2hlcnMpIHtcbiAgICAvLyBhIHZhbHVlIGNvdWxkIG1hdGNoIG11bHRpcGxlIHJlZ2V4ZXNcbiAgICBmaWVsZE1hdGNoZXJzLiRyZWdleC5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRyZWdleCA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8jNzQ1ODogZXhlY3V0ZSBmdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzIG9uIG5lc3RlZCAkYW5kXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKG9iaikge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgaW4gb2JqKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9ialtpXVsnJGFuZCddKSB7XG4gICAgICAgICAgICAgICAgICAgIG9ialtpXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMob2JqW2ldWyckYW5kJ10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKHZhbHVlKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb2JqO1xufVxuXG4vLyM3NDU4OiBkZXRlcm1pbmUgaWQgJGFuZCBpcyBwcmVzZW50IGluIHNlbGVjdG9yIChhdCBhbnkgbGV2ZWwpXG5mdW5jdGlvbiBpc0FuZEluU2VsZWN0b3Iob2JqLCBpc0FuZCkge1xuICAgIGZvciAodmFyIHByb3AgaW4gb2JqKSB7XG4gICAgICAgIGlmIChwcm9wID09PSAnJGFuZCcpIHtcbiAgICAgICAgICAgIGlzQW5kID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgdmFsdWUgPSBvYmpbcHJvcF07XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IGlzQW5kSW5TZWxlY3Rvcih2YWx1ZSwgaXNBbmQpOyAvLyA8LSByZWN1cnNpdmUgY2FsbFxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpc0FuZDtcbn1cblxuLy9cbi8vIG5vcm1hbGl6ZSB0aGUgc2VsZWN0b3Jcbi8vXG5mdW5jdGlvbiBtYXNzYWdlU2VsZWN0b3IoaW5wdXQpIHtcbiAgdmFyIHJlc3VsdCA9IGNsb25lKGlucHV0KTtcbiAgdmFyIHdhc0FuZGVkID0gZmFsc2U7XG4gICAgLy8jNzQ1ODogaWYgJGFuZCBpcyBwcmVzZW50IGluIHNlbGVjdG9yIChhdCBhbnkgbGV2ZWwpIG1lcmdlIG5lc3RlZCAkYW5kXG4gICAgaWYgKGlzQW5kSW5TZWxlY3RvcihyZXN1bHQsIGZhbHNlKSkge1xuICAgICAgICByZXN1bHQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzTmVzdGVkKHJlc3VsdCk7XG4gICAgICAgIGlmICgnJGFuZCcgaW4gcmVzdWx0KSB7XG4gICAgICAgICAgICByZXN1bHQgPSBtZXJnZUFuZGVkU2VsZWN0b3JzKHJlc3VsdFsnJGFuZCddKTtcbiAgICAgICAgfVxuICAgICAgICB3YXNBbmRlZCA9IHRydWU7XG4gICAgfVxuXG4gIFsnJG9yJywgJyRub3InXS5mb3JFYWNoKGZ1bmN0aW9uIChvck9yTm9yKSB7XG4gICAgaWYgKG9yT3JOb3IgaW4gcmVzdWx0KSB7XG4gICAgICAvLyBtZXNzYWdlIGVhY2ggaW5kaXZpZHVhbCBzZWxlY3RvclxuICAgICAgLy8gZS5nLiB7Zm9vOiAnYmFyJ30gYmVjb21lcyB7Zm9vOiB7JGVxOiAnYmFyJ319XG4gICAgICByZXN1bHRbb3JPck5vcl0uZm9yRWFjaChmdW5jdGlvbiAoc3ViU2VsZWN0b3IpIHtcbiAgICAgICAgdmFyIGZpZWxkcyA9IE9iamVjdC5rZXlzKHN1YlNlbGVjdG9yKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmaWVsZHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICB2YXIgZmllbGQgPSBmaWVsZHNbaV07XG4gICAgICAgICAgdmFyIG1hdGNoZXIgPSBzdWJTZWxlY3RvcltmaWVsZF07XG4gICAgICAgICAgaWYgKHR5cGVvZiBtYXRjaGVyICE9PSAnb2JqZWN0JyB8fCBtYXRjaGVyID09PSBudWxsKSB7XG4gICAgICAgICAgICBzdWJTZWxlY3RvcltmaWVsZF0gPSB7JGVxOiBtYXRjaGVyfTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG5cbiAgaWYgKCckbm90JyBpbiByZXN1bHQpIHtcbiAgICAvL1RoaXMgZmVlbHMgYSBsaXR0bGUgbGlrZSBmb3JjaW5nLCBidXQgaXQgd2lsbCB3b3JrIGZvciBub3csXG4gICAgLy9JIHdvdWxkIGxpa2UgdG8gY29tZSBiYWNrIHRvIHRoaXMgYW5kIG1ha2UgdGhlIG1lcmdpbmcgb2Ygc2VsZWN0b3JzIGEgbGl0dGxlIG1vcmUgZ2VuZXJpY1xuICAgIHJlc3VsdFsnJG5vdCddID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhbcmVzdWx0Wyckbm90J11dKTtcbiAgfVxuXG4gIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhyZXN1bHQpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgIHZhciBtYXRjaGVyID0gcmVzdWx0W2ZpZWxkXTtcblxuICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgIH0gZWxzZSBpZiAoIXdhc0FuZGVkKSB7XG4gICAgICAvLyBUaGVzZSB2YWx1ZXMgbXVzdCBiZSBwbGFjZWQgaW4gYW4gYXJyYXkgYmVjYXVzZSB0aGVzZSBvcGVyYXRvcnMgY2FuIGJlIHVzZWQgbXVsdGlwbGUgdGltZXMgb24gdGhlIHNhbWUgZmllbGRcbiAgICAgIC8vIHdoZW4gJGFuZCBpcyB1c2VkLCBtZXJnZUFuZGVkU2VsZWN0b3JzIHRha2VzIGNhcmUgb2YgcHV0dGluZyB0aGVtIGludG8gYXJyYXlzLCBvdGhlcndpc2UgaXQncyBkb25lIGhlcmU6XG4gICAgICBpZiAoJyRuZScgaW4gbWF0Y2hlcikge1xuICAgICAgICBtYXRjaGVyLiRuZSA9IFttYXRjaGVyLiRuZV07XG4gICAgICB9XG4gICAgICBpZiAoJyRyZWdleCcgaW4gbWF0Y2hlcikge1xuICAgICAgICBtYXRjaGVyLiRyZWdleCA9IFttYXRjaGVyLiRyZWdleF07XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdFtmaWVsZF0gPSBtYXRjaGVyO1xuICB9XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCkge1xuICB2YXIgcGFkZGluZyA9ICcnO1xuICB2YXIgdGFyZ2V0TGVuZ3RoID0gdXBUb0xlbmd0aCAtIHN0ci5sZW5ndGg7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIHdoaWxlIChwYWRkaW5nLmxlbmd0aCA8IHRhcmdldExlbmd0aCkge1xuICAgIHBhZGRpbmcgKz0gcGFkV2l0aDtcbiAgfVxuICByZXR1cm4gcGFkZGluZztcbn1cblxuZnVuY3Rpb24gcGFkTGVmdChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSBwYWQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKTtcbiAgcmV0dXJuIHBhZGRpbmcgKyBzdHI7XG59XG5cbnZhciBNSU5fTUFHTklUVURFID0gLTMyNDsgLy8gdmVyaWZpZWQgYnkgLU51bWJlci5NSU5fVkFMVUVcbnZhciBNQUdOSVRVREVfRElHSVRTID0gMzsgLy8gZGl0dG9cbnZhciBTRVAgPSAnJzsgLy8gc2V0IHRvICdfJyBmb3IgZWFzaWVyIGRlYnVnZ2luZ1xuXG5mdW5jdGlvbiBjb2xsYXRlKGEsIGIpIHtcblxuICBpZiAoYSA9PT0gYikge1xuICAgIHJldHVybiAwO1xuICB9XG5cbiAgYSA9IG5vcm1hbGl6ZUtleShhKTtcbiAgYiA9IG5vcm1hbGl6ZUtleShiKTtcblxuICB2YXIgYWkgPSBjb2xsYXRpb25JbmRleChhKTtcbiAgdmFyIGJpID0gY29sbGF0aW9uSW5kZXgoYik7XG4gIGlmICgoYWkgLSBiaSkgIT09IDApIHtcbiAgICByZXR1cm4gYWkgLSBiaTtcbiAgfVxuICBzd2l0Y2ggKHR5cGVvZiBhKSB7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiBhIC0gYjtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiBhIDwgYiA/IC0xIDogMTtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHN0cmluZ0NvbGxhdGUoYSwgYik7XG4gIH1cbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkoYSkgPyBhcnJheUNvbGxhdGUoYSwgYikgOiBvYmplY3RDb2xsYXRlKGEsIGIpO1xufVxuXG4vLyBjb3VjaCBjb25zaWRlcnMgbnVsbC9OYU4vSW5maW5pdHkvLUluZmluaXR5ID09PSB1bmRlZmluZWQsXG4vLyBmb3IgdGhlIHB1cnBvc2VzIG9mIG1hcHJlZHVjZSBpbmRleGVzLiBhbHNvLCBkYXRlcyBnZXQgc3RyaW5naWZpZWQuXG5mdW5jdGlvbiBub3JtYWxpemVLZXkoa2V5KSB7XG4gIHN3aXRjaCAodHlwZW9mIGtleSkge1xuICAgIGNhc2UgJ3VuZGVmaW5lZCc6XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKGtleSA9PT0gSW5maW5pdHkgfHwga2V5ID09PSAtSW5maW5pdHkgfHwgaXNOYU4oa2V5KSkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBrZXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHZhciBvcmlnS2V5ID0ga2V5O1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoa2V5KSkge1xuICAgICAgICB2YXIgbGVuID0ga2V5Lmxlbmd0aDtcbiAgICAgICAga2V5ID0gbmV3IEFycmF5KGxlbik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBrZXlbaV0gPSBub3JtYWxpemVLZXkob3JpZ0tleVtpXSk7XG4gICAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICB9IGVsc2UgaWYgKGtleSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgcmV0dXJuIGtleS50b0pTT04oKTtcbiAgICAgIH0gZWxzZSBpZiAoa2V5ICE9PSBudWxsKSB7IC8vIGdlbmVyaWMgb2JqZWN0XG4gICAgICAgIGtleSA9IHt9O1xuICAgICAgICBmb3IgKHZhciBrIGluIG9yaWdLZXkpIHtcbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9yaWdLZXksIGspKSB7XG4gICAgICAgICAgICB2YXIgdmFsID0gb3JpZ0tleVtrXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgICBrZXlba10gPSBub3JtYWxpemVLZXkodmFsKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgfVxuICByZXR1cm4ga2V5O1xufVxuXG5mdW5jdGlvbiBpbmRleGlmeShrZXkpIHtcbiAgaWYgKGtleSAhPT0gbnVsbCkge1xuICAgIHN3aXRjaCAodHlwZW9mIGtleSkge1xuICAgICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICAgIHJldHVybiBrZXkgPyAxIDogMDtcbiAgICAgIGNhc2UgJ251bWJlcic6XG4gICAgICAgIHJldHVybiBudW1Ub0luZGV4YWJsZVN0cmluZyhrZXkpO1xuICAgICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgICAgLy8gV2UndmUgdG8gYmUgc3VyZSB0aGF0IGtleSBkb2VzIG5vdCBjb250YWluIFxcdTAwMDBcbiAgICAgICAgLy8gRG8gb3JkZXItcHJlc2VydmluZyByZXBsYWNlbWVudHM6XG4gICAgICAgIC8vIDAgLT4gMSwgMVxuICAgICAgICAvLyAxIC0+IDEsIDJcbiAgICAgICAgLy8gMiAtPiAyLCAyXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgcmV0dXJuIGtleVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAyL2csICdcXHUwMDAyXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDEvZywgJ1xcdTAwMDFcXHUwMDAyJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMC9nLCAnXFx1MDAwMVxcdTAwMDEnKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICBjYXNlICdvYmplY3QnOlxuICAgICAgICB2YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkoa2V5KTtcbiAgICAgICAgdmFyIGFyciA9IGlzQXJyYXkgPyBrZXkgOiBPYmplY3Qua2V5cyhrZXkpO1xuICAgICAgICB2YXIgaSA9IC0xO1xuICAgICAgICB2YXIgbGVuID0gYXJyLmxlbmd0aDtcbiAgICAgICAgdmFyIHJlc3VsdCA9ICcnO1xuICAgICAgICBpZiAoaXNBcnJheSkge1xuICAgICAgICAgIHdoaWxlICgrK2kgPCBsZW4pIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhhcnJbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICB2YXIgb2JqS2V5ID0gYXJyW2ldO1xuICAgICAgICAgICAgcmVzdWx0ICs9IHRvSW5kZXhhYmxlU3RyaW5nKG9iaktleSkgK1xuICAgICAgICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKGtleVtvYmpLZXldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuICcnO1xufVxuXG4vLyBjb252ZXJ0IHRoZSBnaXZlbiBrZXkgdG8gYSBzdHJpbmcgdGhhdCB3b3VsZCBiZSBhcHByb3ByaWF0ZVxuLy8gZm9yIGxleGljYWwgc29ydGluZywgZS5nLiB3aXRoaW4gYSBkYXRhYmFzZSwgd2hlcmUgdGhlXG4vLyBzb3J0aW5nIGlzIHRoZSBzYW1lIGdpdmVuIGJ5IHRoZSBjb2xsYXRlKCkgZnVuY3Rpb24uXG5mdW5jdGlvbiB0b0luZGV4YWJsZVN0cmluZyhrZXkpIHtcbiAgdmFyIHplcm8gPSAnXFx1MDAwMCc7XG4gIGtleSA9IG5vcm1hbGl6ZUtleShrZXkpO1xuICByZXR1cm4gY29sbGF0aW9uSW5kZXgoa2V5KSArIFNFUCArIGluZGV4aWZ5KGtleSkgKyB6ZXJvO1xufVxuXG5mdW5jdGlvbiBwYXJzZU51bWJlcihzdHIsIGkpIHtcbiAgdmFyIG9yaWdpbmFsSWR4ID0gaTtcbiAgdmFyIG51bTtcbiAgdmFyIHplcm8gPSBzdHJbaV0gPT09ICcxJztcbiAgaWYgKHplcm8pIHtcbiAgICBudW0gPSAwO1xuICAgIGkrKztcbiAgfSBlbHNlIHtcbiAgICB2YXIgbmVnID0gc3RyW2ldID09PSAnMCc7XG4gICAgaSsrO1xuICAgIHZhciBudW1Bc1N0cmluZyA9ICcnO1xuICAgIHZhciBtYWdBc1N0cmluZyA9IHN0ci5zdWJzdHJpbmcoaSwgaSArIE1BR05JVFVERV9ESUdJVFMpO1xuICAgIHZhciBtYWduaXR1ZGUgPSBwYXJzZUludChtYWdBc1N0cmluZywgMTApICsgTUlOX01BR05JVFVERTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChuZWcpIHtcbiAgICAgIG1hZ25pdHVkZSA9IC1tYWduaXR1ZGU7XG4gICAgfVxuICAgIGkgKz0gTUFHTklUVURFX0RJR0lUUztcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgaWYgKGNoID09PSAnXFx1MDAwMCcpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBudW1Bc1N0cmluZyArPSBjaDtcbiAgICAgIH1cbiAgICAgIGkrKztcbiAgICB9XG4gICAgbnVtQXNTdHJpbmcgPSBudW1Bc1N0cmluZy5zcGxpdCgnLicpO1xuICAgIGlmIChudW1Bc1N0cmluZy5sZW5ndGggPT09IDEpIHtcbiAgICAgIG51bSA9IHBhcnNlSW50KG51bUFzU3RyaW5nLCAxMCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBudW0gPSBwYXJzZUZsb2F0KG51bUFzU3RyaW5nWzBdICsgJy4nICsgbnVtQXNTdHJpbmdbMV0pO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChuZWcpIHtcbiAgICAgIG51bSA9IG51bSAtIDEwO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmIChtYWduaXR1ZGUgIT09IDApIHtcbiAgICAgIC8vIHBhcnNlRmxvYXQgaXMgbW9yZSByZWxpYWJsZSB0aGFuIHBvdyBkdWUgdG8gcm91bmRpbmcgZXJyb3JzXG4gICAgICAvLyBlLmcuIE51bWJlci5NQVhfVkFMVUUgd291bGQgcmV0dXJuIEluZmluaXR5IGlmIHdlIGRpZFxuICAgICAgLy8gbnVtICogTWF0aC5wb3coMTAsIG1hZ25pdHVkZSk7XG4gICAgICBudW0gPSBwYXJzZUZsb2F0KG51bSArICdlJyArIG1hZ25pdHVkZSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7bnVtOiBudW0sIGxlbmd0aCA6IGkgLSBvcmlnaW5hbElkeH07XG59XG5cbi8vIG1vdmUgdXAgdGhlIHN0YWNrIHdoaWxlIHBhcnNpbmdcbi8vIHRoaXMgZnVuY3Rpb24gbW92ZWQgb3V0c2lkZSBvZiBwYXJzZUluZGV4YWJsZVN0cmluZyBmb3IgcGVyZm9ybWFuY2VcbmZ1bmN0aW9uIHBvcChzdGFjaywgbWV0YVN0YWNrKSB7XG4gIHZhciBvYmogPSBzdGFjay5wb3AoKTtcblxuICBpZiAobWV0YVN0YWNrLmxlbmd0aCkge1xuICAgIHZhciBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICAgIGlmIChvYmogPT09IGxhc3RNZXRhRWxlbWVudC5lbGVtZW50KSB7XG4gICAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgICAgbWV0YVN0YWNrLnBvcCgpO1xuICAgICAgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgdmFyIGVsZW1lbnQgPSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudDtcbiAgICB2YXIgbGFzdEVsZW1lbnRJbmRleCA9IGxhc3RNZXRhRWxlbWVudC5pbmRleDtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgICAgZWxlbWVudC5wdXNoKG9iaik7XG4gICAgfSBlbHNlIGlmIChsYXN0RWxlbWVudEluZGV4ID09PSBzdGFjay5sZW5ndGggLSAyKSB7IC8vIG9iaiB3aXRoIGtleSt2YWx1ZVxuICAgICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgICAgZWxlbWVudFtrZXldID0gb2JqO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIHBhcnNlSW5kZXhhYmxlU3RyaW5nKHN0cikge1xuICB2YXIgc3RhY2sgPSBbXTtcbiAgdmFyIG1ldGFTdGFjayA9IFtdOyAvLyBzdGFjayBmb3IgYXJyYXlzIGFuZCBvYmplY3RzXG4gIHZhciBpID0gMDtcblxuICAvKmVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IFtcImVycm9yXCIsIHsgXCJjaGVja0xvb3BzXCI6IGZhbHNlIH1dKi9cbiAgd2hpbGUgKHRydWUpIHtcbiAgICB2YXIgY29sbGF0aW9uSW5kZXggPSBzdHJbaSsrXTtcbiAgICBpZiAoY29sbGF0aW9uSW5kZXggPT09ICdcXHUwMDAwJykge1xuICAgICAgaWYgKHN0YWNrLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICByZXR1cm4gc3RhY2sucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwb3Aoc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcxJzpcbiAgICAgICAgc3RhY2sucHVzaChudWxsKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICcyJzpcbiAgICAgICAgc3RhY2sucHVzaChzdHJbaV0gPT09ICcxJyk7XG4gICAgICAgIGkrKztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICczJzpcbiAgICAgICAgdmFyIHBhcnNlZE51bSA9IHBhcnNlTnVtYmVyKHN0ciwgaSk7XG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkTnVtLm51bSk7XG4gICAgICAgIGkgKz0gcGFyc2VkTnVtLmxlbmd0aDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc0JzpcbiAgICAgICAgdmFyIHBhcnNlZFN0ciA9ICcnO1xuICAgICAgICAvKmVzbGludCBuby1jb25zdGFudC1jb25kaXRpb246IFtcImVycm9yXCIsIHsgXCJjaGVja0xvb3BzXCI6IGZhbHNlIH1dKi9cbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICB2YXIgY2ggPSBzdHJbaV07XG4gICAgICAgICAgaWYgKGNoID09PSAnXFx1MDAwMCcpIHtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJzZWRTdHIgKz0gY2g7XG4gICAgICAgICAgaSsrO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBlcmZvcm0gdGhlIHJldmVyc2Ugb2YgdGhlIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRcbiAgICAgICAgLy8gYWxnb3JpdGhtIChzZWUgYWJvdmUpXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgcGFyc2VkU3RyID0gcGFyc2VkU3RyLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAxL2csICdcXHUwMDAwJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMVxcdTAwMDIvZywgJ1xcdTAwMDEnKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAyXFx1MDAwMi9nLCAnXFx1MDAwMicpO1xuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlIG5vLWNvbnRyb2wtcmVnZXggKi9cbiAgICAgICAgc3RhY2sucHVzaChwYXJzZWRTdHIpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzUnOlxuICAgICAgICB2YXIgYXJyYXlFbGVtZW50ID0geyBlbGVtZW50OiBbXSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKGFycmF5RWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2goYXJyYXlFbGVtZW50KTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc2JzpcbiAgICAgICAgdmFyIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICAnYmFkIGNvbGxhdGlvbkluZGV4IG9yIHVuZXhwZWN0ZWRseSByZWFjaGVkIGVuZCBvZiBpbnB1dDogJyArXG4gICAgICAgICAgICBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29sbGF0ZShhLCBiKSB7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhLmxlbmd0aCwgYi5sZW5ndGgpO1xuICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFbaV0sIGJbaV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIChhLmxlbmd0aCA9PT0gYi5sZW5ndGgpID8gMCA6XG4gICAgKGEubGVuZ3RoID4gYi5sZW5ndGgpID8gMSA6IC0xO1xufVxuZnVuY3Rpb24gc3RyaW5nQ29sbGF0ZShhLCBiKSB7XG4gIC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2RhbGVoYXJ2ZXkvcG91Y2hkYi9pc3N1ZXMvNDBcbiAgLy8gVGhpcyBpcyBpbmNvbXBhdGlibGUgd2l0aCB0aGUgQ291Y2hEQiBpbXBsZW1lbnRhdGlvbiwgYnV0IGl0cyB0aGVcbiAgLy8gYmVzdCB3ZSBjYW4gZG8gZm9yIG5vd1xuICByZXR1cm4gKGEgPT09IGIpID8gMCA6ICgoYSA+IGIpID8gMSA6IC0xKTtcbn1cbmZ1bmN0aW9uIG9iamVjdENvbGxhdGUoYSwgYikge1xuICB2YXIgYWsgPSBPYmplY3Qua2V5cyhhKSwgYmsgPSBPYmplY3Qua2V5cyhiKTtcbiAgdmFyIGxlbiA9IE1hdGgubWluKGFrLmxlbmd0aCwgYmsubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIC8vIEZpcnN0IHNvcnQgdGhlIGtleXNcbiAgICB2YXIgc29ydCA9IGNvbGxhdGUoYWtbaV0sIGJrW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICAgIC8vIGlmIHRoZSBrZXlzIGFyZSBlcXVhbCBzb3J0IHRoZSB2YWx1ZXNcbiAgICBzb3J0ID0gY29sbGF0ZShhW2FrW2ldXSwgYltia1tpXV0pO1xuICAgIGlmIChzb3J0ICE9PSAwKSB7XG4gICAgICByZXR1cm4gc29ydDtcbiAgICB9XG5cbiAgfVxuICByZXR1cm4gKGFrLmxlbmd0aCA9PT0gYmsubGVuZ3RoKSA/IDAgOlxuICAgIChhay5sZW5ndGggPiBiay5sZW5ndGgpID8gMSA6IC0xO1xufVxuLy8gVGhlIGNvbGxhdGlvbiBpcyBkZWZpbmVkIGJ5IGVybGFuZ3Mgb3JkZXJlZCB0ZXJtc1xuLy8gdGhlIGF0b21zIG51bGwsIHRydWUsIGZhbHNlIGNvbWUgZmlyc3QsIHRoZW4gbnVtYmVycywgc3RyaW5ncyxcbi8vIGFycmF5cywgdGhlbiBvYmplY3RzXG4vLyBudWxsL3VuZGVmaW5lZC9OYU4vSW5maW5pdHkvLUluZmluaXR5IGFyZSBhbGwgY29uc2lkZXJlZCBudWxsXG5mdW5jdGlvbiBjb2xsYXRpb25JbmRleCh4KSB7XG4gIHZhciBpZCA9IFsnYm9vbGVhbicsICdudW1iZXInLCAnc3RyaW5nJywgJ29iamVjdCddO1xuICB2YXIgaWR4ID0gaWQuaW5kZXhPZih0eXBlb2YgeCk7XG4gIC8vZmFsc2UgaWYgLTEgb3RoZXJ3aXNlIHRydWUsIGJ1dCBmYXN0ISEhITFcbiAgaWYgKH5pZHgpIHtcbiAgICBpZiAoeCA9PT0gbnVsbCkge1xuICAgICAgcmV0dXJuIDE7XG4gICAgfVxuICAgIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgICByZXR1cm4gNTtcbiAgICB9XG4gICAgcmV0dXJuIGlkeCA8IDMgPyAoaWR4ICsgMikgOiAoaWR4ICsgMyk7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKEFycmF5LmlzQXJyYXkoeCkpIHtcbiAgICByZXR1cm4gNTtcbiAgfVxufVxuXG4vLyBjb252ZXJzaW9uOlxuLy8geCB5eXkgenouLi56elxuLy8geCA9IDAgZm9yIG5lZ2F0aXZlLCAxIGZvciAwLCAyIGZvciBwb3NpdGl2ZVxuLy8geSA9IGV4cG9uZW50IChmb3IgbmVnYXRpdmUgbnVtYmVycyBuZWdhdGVkKSBtb3ZlZCBzbyB0aGF0IGl0J3MgPj0gMFxuLy8geiA9IG1hbnRpc3NlXG5mdW5jdGlvbiBudW1Ub0luZGV4YWJsZVN0cmluZyhudW0pIHtcblxuICBpZiAobnVtID09PSAwKSB7XG4gICAgcmV0dXJuICcxJztcbiAgfVxuXG4gIC8vIGNvbnZlcnQgbnVtYmVyIHRvIGV4cG9uZW50aWFsIGZvcm1hdCBmb3IgZWFzaWVyIGFuZFxuICAvLyBtb3JlIHN1Y2NpbmN0IHN0cmluZyBzb3J0aW5nXG4gIHZhciBleHBGb3JtYXQgPSBudW0udG9FeHBvbmVudGlhbCgpLnNwbGl0KC9lXFwrPy8pO1xuICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQoZXhwRm9ybWF0WzFdLCAxMCk7XG5cbiAgdmFyIG5lZyA9IG51bSA8IDA7XG5cbiAgdmFyIHJlc3VsdCA9IG5lZyA/ICcwJyA6ICcyJztcblxuICAvLyBmaXJzdCBzb3J0IGJ5IG1hZ25pdHVkZVxuICAvLyBpdCdzIGVhc2llciBpZiBhbGwgbWFnbml0dWRlcyBhcmUgcG9zaXRpdmVcbiAgdmFyIG1hZ0ZvckNvbXBhcmlzb24gPSAoKG5lZyA/IC1tYWduaXR1ZGUgOiBtYWduaXR1ZGUpIC0gTUlOX01BR05JVFVERSk7XG4gIHZhciBtYWdTdHJpbmcgPSBwYWRMZWZ0KChtYWdGb3JDb21wYXJpc29uKS50b1N0cmluZygpLCAnMCcsIE1BR05JVFVERV9ESUdJVFMpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBtYWdTdHJpbmc7XG5cbiAgLy8gdGhlbiBzb3J0IGJ5IHRoZSBmYWN0b3JcbiAgdmFyIGZhY3RvciA9IE1hdGguYWJzKHBhcnNlRmxvYXQoZXhwRm9ybWF0WzBdKSk7IC8vIFsxLi4xMClcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgaWYgKG5lZykgeyAvLyBmb3IgbmVnYXRpdmUgcmV2ZXJzZSBvcmRlcmluZ1xuICAgIGZhY3RvciA9IDEwIC0gZmFjdG9yO1xuICB9XG5cbiAgdmFyIGZhY3RvclN0ciA9IGZhY3Rvci50b0ZpeGVkKDIwKTtcblxuICAvLyBzdHJpcCB6ZXJvcyBmcm9tIHRoZSBlbmRcbiAgZmFjdG9yU3RyID0gZmFjdG9yU3RyLnJlcGxhY2UoL1xcLj8wKyQvLCAnJyk7XG5cbiAgcmVzdWx0ICs9IFNFUCArIGZhY3RvclN0cjtcblxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBjcmVhdGUgYSBjb21wYXJhdG9yIGJhc2VkIG9uIHRoZSBzb3J0IG9iamVjdFxuZnVuY3Rpb24gY3JlYXRlRmllbGRTb3J0ZXIoc29ydCkge1xuXG4gIGZ1bmN0aW9uIGdldEZpZWxkVmFsdWVzQXNBcnJheShkb2MpIHtcbiAgICByZXR1cm4gc29ydC5tYXAoZnVuY3Rpb24gKHNvcnRpbmcpIHtcbiAgICAgIHZhciBmaWVsZE5hbWUgPSBnZXRLZXkoc29ydGluZyk7XG4gICAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkTmFtZSk7XG4gICAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlO1xuICAgIH0pO1xuICB9XG5cbiAgcmV0dXJuIGZ1bmN0aW9uIChhUm93LCBiUm93KSB7XG4gICAgdmFyIGFGaWVsZFZhbHVlcyA9IGdldEZpZWxkVmFsdWVzQXNBcnJheShhUm93LmRvYyk7XG4gICAgdmFyIGJGaWVsZFZhbHVlcyA9IGdldEZpZWxkVmFsdWVzQXNBcnJheShiUm93LmRvYyk7XG4gICAgdmFyIGNvbGxhdGlvbiA9IGNvbGxhdGUoYUZpZWxkVmFsdWVzLCBiRmllbGRWYWx1ZXMpO1xuICAgIGlmIChjb2xsYXRpb24gIT09IDApIHtcbiAgICAgIHJldHVybiBjb2xsYXRpb247XG4gICAgfVxuICAgIC8vIHRoaXMgaXMgd2hhdCBtYW5nbyBzZWVtcyB0byBkb1xuICAgIHJldHVybiBjb21wYXJlJDEoYVJvdy5kb2MuX2lkLCBiUm93LmRvYy5faWQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBmaWx0ZXJJbk1lbW9yeUZpZWxkcyhyb3dzLCByZXF1ZXN0RGVmLCBpbk1lbW9yeUZpZWxkcykge1xuICByb3dzID0gcm93cy5maWx0ZXIoZnVuY3Rpb24gKHJvdykge1xuICAgIHJldHVybiByb3dGaWx0ZXIocm93LmRvYywgcmVxdWVzdERlZi5zZWxlY3RvciwgaW5NZW1vcnlGaWVsZHMpO1xuICB9KTtcblxuICBpZiAocmVxdWVzdERlZi5zb3J0KSB7XG4gICAgLy8gaW4tbWVtb3J5IHNvcnRcbiAgICB2YXIgZmllbGRTb3J0ZXIgPSBjcmVhdGVGaWVsZFNvcnRlcihyZXF1ZXN0RGVmLnNvcnQpO1xuICAgIHJvd3MgPSByb3dzLnNvcnQoZmllbGRTb3J0ZXIpO1xuICAgIGlmICh0eXBlb2YgcmVxdWVzdERlZi5zb3J0WzBdICE9PSAnc3RyaW5nJyAmJlxuICAgICAgICBnZXRWYWx1ZShyZXF1ZXN0RGVmLnNvcnRbMF0pID09PSAnZGVzYycpIHtcbiAgICAgIHJvd3MgPSByb3dzLnJldmVyc2UoKTtcbiAgICB9XG4gIH1cblxuICBpZiAoJ2xpbWl0JyBpbiByZXF1ZXN0RGVmIHx8ICdza2lwJyBpbiByZXF1ZXN0RGVmKSB7XG4gICAgLy8gaGF2ZSB0byBkbyB0aGUgbGltaXQgaW4tbWVtb3J5XG4gICAgdmFyIHNraXAgPSByZXF1ZXN0RGVmLnNraXAgfHwgMDtcbiAgICB2YXIgbGltaXQgPSAoJ2xpbWl0JyBpbiByZXF1ZXN0RGVmID8gcmVxdWVzdERlZi5saW1pdCA6IHJvd3MubGVuZ3RoKSArIHNraXA7XG4gICAgcm93cyA9IHJvd3Muc2xpY2Uoc2tpcCwgbGltaXQpO1xuICB9XG4gIHJldHVybiByb3dzO1xufVxuXG5mdW5jdGlvbiByb3dGaWx0ZXIoZG9jLCBzZWxlY3RvciwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcmV0dXJuIGluTWVtb3J5RmllbGRzLmV2ZXJ5KGZ1bmN0aW9uIChmaWVsZCkge1xuICAgIHZhciBtYXRjaGVyID0gc2VsZWN0b3JbZmllbGRdO1xuICAgIHZhciBwYXJzZWRGaWVsZCA9IHBhcnNlRmllbGQoZmllbGQpO1xuICAgIHZhciBkb2NGaWVsZFZhbHVlID0gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpO1xuICAgIGlmIChpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkpIHtcbiAgICAgIHJldHVybiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpO1xuICAgIH1cblxuICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKG1hdGNoZXIsIGRvYywgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcikge1xuICAgIC8vIG5vIGZpbHRlcmluZyBuZWNlc3Nhcnk7IHRoaXMgZmllbGQgaXMganVzdCBuZWVkZWQgZm9yIHNvcnRpbmdcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIGlzIG1hdGNoZXIgYW4gb2JqZWN0LCBpZiBzbyBjb250aW51ZSByZWN1cnNpb25cbiAgaWYgKHR5cGVvZiBtYXRjaGVyID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBPYmplY3Qua2V5cyhtYXRjaGVyKS5ldmVyeShmdW5jdGlvbiAobWF5YmVVc2VyT3BlcmF0b3IpIHtcbiAgICAgIHZhciB1c2VyVmFsdWUgPSBtYXRjaGVyWyBtYXliZVVzZXJPcGVyYXRvciBdO1xuICAgICAgLy8gZXhwbGljaXQgb3BlcmF0b3JcbiAgICAgIGlmIChtYXliZVVzZXJPcGVyYXRvci5pbmRleE9mKFwiJFwiKSA9PT0gMCkge1xuICAgICAgICByZXR1cm4gbWF0Y2gobWF5YmVVc2VyT3BlcmF0b3IsIGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgc3ViUGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKG1heWJlVXNlck9wZXJhdG9yKTtcblxuICAgICAgICBpZiAoXG4gICAgICAgICAgZG9jRmllbGRWYWx1ZSA9PT0gdW5kZWZpbmVkICYmXG4gICAgICAgICAgdHlwZW9mIHVzZXJWYWx1ZSAhPT0gXCJvYmplY3RcIiAmJlxuICAgICAgICAgIHN1YlBhcnNlZEZpZWxkLmxlbmd0aCA+IDBcbiAgICAgICAgKSB7XG4gICAgICAgICAgLy8gdGhlIGZpZWxkIGRvZXMgbm90IGV4aXN0LCByZXR1cm4gb3IgZ2V0RmllbGRGcm9tRG9jIHdpbGwgdGhyb3dcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgc3ViRG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2NGaWVsZFZhbHVlLCBzdWJQYXJzZWRGaWVsZCk7XG5cbiAgICAgICAgaWYgKHR5cGVvZiB1c2VyVmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAvLyBmaWVsZCB2YWx1ZSBpcyBhbiBvYmplY3QgdGhhdCBtaWdodCBjb250YWluIG1vcmUgb3BlcmF0b3JzXG4gICAgICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGltcGxpY2l0IG9wZXJhdG9yXG4gICAgICAgIHJldHVybiBtYXRjaChcIiRlcVwiLCBkb2MsIHVzZXJWYWx1ZSwgc3ViUGFyc2VkRmllbGQsIHN1YkRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gbm8gbW9yZSBkZXB0aCwgTm8gbmVlZCB0byByZWN1cnNlIGZ1cnRoZXJcbiAgcmV0dXJuIG1hdGNoZXIgPT09IGRvY0ZpZWxkVmFsdWU7XG59XG5cbmZ1bmN0aW9uIG1hdGNoQ29taW5hdGlvbmFsU2VsZWN0b3IoZmllbGQsIG1hdGNoZXIsIGRvYykge1xuXG4gIGlmIChmaWVsZCA9PT0gJyRvcicpIHtcbiAgICByZXR1cm4gbWF0Y2hlci5zb21lKGZ1bmN0aW9uIChvck1hdGNoZXJzKSB7XG4gICAgICByZXR1cm4gcm93RmlsdGVyKGRvYywgb3JNYXRjaGVycywgT2JqZWN0LmtleXMob3JNYXRjaGVycykpO1xuICAgIH0pO1xuICB9XG5cbiAgaWYgKGZpZWxkID09PSAnJG5vdCcpIHtcbiAgICByZXR1cm4gIXJvd0ZpbHRlcihkb2MsIG1hdGNoZXIsIE9iamVjdC5rZXlzKG1hdGNoZXIpKTtcbiAgfVxuXG4gIC8vYCRub3JgXG4gIHJldHVybiAhbWF0Y2hlci5maW5kKGZ1bmN0aW9uIChvck1hdGNoZXJzKSB7XG4gICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgfSk7XG5cbn1cblxuZnVuY3Rpb24gbWF0Y2godXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgaWYgKCFtYXRjaGVyc1t1c2VyT3BlcmF0b3JdKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Vua25vd24gb3BlcmF0b3IgXCInICsgdXNlck9wZXJhdG9yICtcbiAgICAgICdcIiAtIHNob3VsZCBiZSBvbmUgb2YgJGVxLCAkbHRlLCAkbHQsICRndCwgJGd0ZSwgJGV4aXN0cywgJG5lLCAkaW4sICcgK1xuICAgICAgJyRuaW4sICRzaXplLCAkbW9kLCAkcmVnZXgsICRlbGVtTWF0Y2gsICR0eXBlLCAkYWxsTWF0Y2ggb3IgJGFsbCcpO1xuICB9XG4gIHJldHVybiBtYXRjaGVyc1t1c2VyT3BlcmF0b3JdKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSk7XG59XG5cbmZ1bmN0aW9uIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiBkb2NGaWVsZFZhbHVlICE9PSBudWxsO1xufVxuXG5mdW5jdGlvbiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiBkb2NGaWVsZFZhbHVlICE9PSAndW5kZWZpbmVkJztcbn1cblxuZnVuY3Rpb24gbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gXCJudW1iZXJcIiB8fFxuICAgIHBhcnNlSW50KGRvY0ZpZWxkVmFsdWUsIDEwKSAhPT0gZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIHZhciBkaXZpc29yID0gdXNlclZhbHVlWzBdO1xuICB2YXIgbW9kID0gdXNlclZhbHVlWzFdO1xuXG4gIHJldHVybiBkb2NGaWVsZFZhbHVlICUgZGl2aXNvciA9PT0gbW9kO1xufVxuXG5mdW5jdGlvbiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuc29tZShmdW5jdGlvbiAodmFsKSB7XG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAoZG9jRmllbGRWYWx1ZUl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlSXRlbSkgPT09IDA7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWUpID09PSAwO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc0FsbFZhbHVlcyhkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuc29tZShmdW5jdGlvbiAoZG9jRmllbGRWYWx1ZUl0ZW0pIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXJyYXlTaXplKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IHVzZXJWYWx1ZTtcbn1cblxuZnVuY3Rpb24gcmVnZXhNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgdmFyIHJlID0gbmV3IFJlZ0V4cCh1c2VyVmFsdWUpO1xuXG4gIHJldHVybiByZS50ZXN0KGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG5cbiAgc3dpdGNoICh1c2VyVmFsdWUpIHtcbiAgICBjYXNlICdudWxsJzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlID09PSBudWxsO1xuICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdib29sZWFuJztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdudW1iZXInO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICByZXR1cm4gdHlwZW9mIChkb2NGaWVsZFZhbHVlKSA9PT0gJ3N0cmluZyc7XG4gICAgY2FzZSAnYXJyYXknOlxuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUgaW5zdGFuY2VvZiBBcnJheTtcbiAgICBjYXNlICdvYmplY3QnOlxuICAgICAgcmV0dXJuICh7fSkudG9TdHJpbmcuY2FsbChkb2NGaWVsZFZhbHVlKSA9PT0gJ1tvYmplY3QgT2JqZWN0XSc7XG4gIH1cbn1cblxudmFyIG1hdGNoZXJzID0ge1xuXG4gICckZWxlbU1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmIChkb2NGaWVsZFZhbHVlLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2YgZG9jRmllbGRWYWx1ZVswXSA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCB2YWwpO1xuICAgIH0pO1xuICB9LFxuXG4gICckYWxsTWF0Y2gnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5ldmVyeShmdW5jdGlvbiAodmFsKSB7XG4gICAgICAgIHJldHVybiByb3dGaWx0ZXIodmFsLCB1c2VyVmFsdWUsIE9iamVjdC5rZXlzKHVzZXJWYWx1ZSkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgcmV0dXJuIG1hdGNoU2VsZWN0b3IodXNlclZhbHVlLCBkb2MsIHBhcnNlZEZpZWxkLCB2YWwpO1xuICAgIH0pO1xuICB9LFxuXG4gICckZXEnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID09PSAwO1xuICB9LFxuXG4gICckZ3RlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+PSAwO1xuICB9LFxuXG4gICckZ3QnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpID4gMDtcbiAgfSxcblxuICAnJGx0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPD0gMDtcbiAgfSxcblxuICAnJGx0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA8IDA7XG4gIH0sXG5cbiAgJyRleGlzdHMnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgLy9hIGZpZWxkIHRoYXQgaXMgbnVsbCBpcyBzdGlsbCBjb25zaWRlcmVkIHRvIGV4aXN0XG4gICAgaWYgKHVzZXJWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSk7XG4gICAgfVxuXG4gICAgcmV0dXJuICFmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICB9LFxuXG4gICckbW9kJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBtb2RGaWVsZChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckbmUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIHVzZXJWYWx1ZS5ldmVyeShmdW5jdGlvbiAobmVWYWx1ZSkge1xuICAgICAgcmV0dXJuIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgbmVWYWx1ZSkgIT09IDA7XG4gICAgfSk7XG4gIH0sXG4gICckaW4nOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckbmluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiAhYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRzaXplJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgYXJyYXlTaXplKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSk7XG4gIH0sXG5cbiAgJyRhbGwnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiYgYXJyYXlDb250YWluc0FsbFZhbHVlcyhkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckcmVnZXgnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkRXhpc3RzKGRvY0ZpZWxkVmFsdWUpICYmXG4gICAgICB0eXBlb2YgZG9jRmllbGRWYWx1ZSA9PSBcInN0cmluZ1wiICYmXG4gICAgICB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHJlZ2V4VmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgcmVnZXhWYWx1ZSk7XG4gICAgICB9KTtcbiAgfSxcblxuICAnJHR5cGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIHR5cGVNYXRjaChkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9XG59O1xuXG4vLyByZXR1cm4gdHJ1ZSBpZiB0aGUgZ2l2ZW4gZG9jIG1hdGNoZXMgdGhlIHN1cHBsaWVkIHNlbGVjdG9yXG5mdW5jdGlvbiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBzZWxlY3Rvcikge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHR5cGVvZiBzZWxlY3RvciAhPT0gJ29iamVjdCcpIHtcbiAgICAvLyBtYXRjaCB0aGUgQ291Y2hEQiBlcnJvciBtZXNzYWdlXG4gICAgdGhyb3cgbmV3IEVycm9yKCdTZWxlY3RvciBlcnJvcjogZXhwZWN0ZWQgYSBKU09OIG9iamVjdCcpO1xuICB9XG5cbiAgc2VsZWN0b3IgPSBtYXNzYWdlU2VsZWN0b3Ioc2VsZWN0b3IpO1xuICB2YXIgcm93ID0ge1xuICAgICdkb2MnOiBkb2NcbiAgfTtcblxuICB2YXIgcm93c01hdGNoZWQgPSBmaWx0ZXJJbk1lbW9yeUZpZWxkcyhbcm93XSwgeyAnc2VsZWN0b3InOiBzZWxlY3RvciB9LCBPYmplY3Qua2V5cyhzZWxlY3RvcikpO1xuICByZXR1cm4gcm93c01hdGNoZWQgJiYgcm93c01hdGNoZWQubGVuZ3RoID09PSAxO1xufVxuXG5mdW5jdGlvbiBldmFsRmlsdGVyKGlucHV0KSB7XG4gIHJldHVybiBzY29wZUV2YWwoJ1widXNlIHN0cmljdFwiO1xcbnJldHVybiAnICsgaW5wdXQgKyAnOycsIHt9KTtcbn1cblxuZnVuY3Rpb24gZXZhbFZpZXcoaW5wdXQpIHtcbiAgdmFyIGNvZGUgPSBbXG4gICAgJ3JldHVybiBmdW5jdGlvbihkb2MpIHsnLFxuICAgICcgIFwidXNlIHN0cmljdFwiOycsXG4gICAgJyAgdmFyIGVtaXR0ZWQgPSBmYWxzZTsnLFxuICAgICcgIHZhciBlbWl0ID0gZnVuY3Rpb24gKGEsIGIpIHsnLFxuICAgICcgICAgZW1pdHRlZCA9IHRydWU7JyxcbiAgICAnICB9OycsXG4gICAgJyAgdmFyIHZpZXcgPSAnICsgaW5wdXQgKyAnOycsXG4gICAgJyAgdmlldyhkb2MpOycsXG4gICAgJyAgaWYgKGVtaXR0ZWQpIHsnLFxuICAgICcgICAgcmV0dXJuIHRydWU7JyxcbiAgICAnICB9JyxcbiAgICAnfTsnXG4gIF0uam9pbignXFxuJyk7XG5cbiAgcmV0dXJuIHNjb3BlRXZhbChjb2RlLCB7fSk7XG59XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMuZmlsdGVyICE9PSAnX3NlbGVjdG9yJykge1xuICAgICAgdmFyIGZpbHRlck5hbWUgPSB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnID9cbiAgICAgICAgb3B0cy5maWx0ZXIgOiAnZnVuY3Rpb24nO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKG5ldyBFcnJvcignc2VsZWN0b3IgaW52YWxpZCBmb3IgZmlsdGVyIFwiJyArIGZpbHRlck5hbWUgKyAnXCInKSk7XG4gICAgfVxuICB9XG4gIGNhbGxiYWNrKCk7XG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZShvcHRzKSB7XG4gIGlmIChvcHRzLnZpZXcgJiYgIW9wdHMuZmlsdGVyKSB7XG4gICAgb3B0cy5maWx0ZXIgPSAnX3ZpZXcnO1xuICB9XG5cbiAgaWYgKG9wdHMuc2VsZWN0b3IgJiYgIW9wdHMuZmlsdGVyKSB7XG4gICAgb3B0cy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgICBvcHRzLnZpZXcgPSBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy52aWV3KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb3B0cy5maWx0ZXIgPSBub3JtYWxpemVEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzaG91bGRGaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgcmV0dXJuIG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycgJiZcbiAgICAhb3B0cy5kb2NfaWRzICYmICFpc1JlbW90ZShjaGFuZ2VzSGFuZGxlci5kYik7XG59XG5cbmZ1bmN0aW9uIGZpbHRlcihjaGFuZ2VzSGFuZGxlciwgb3B0cykge1xuICB2YXIgY2FsbGJhY2sgPSBvcHRzLmNvbXBsZXRlO1xuICBpZiAob3B0cy5maWx0ZXIgPT09ICdfdmlldycpIHtcbiAgICBpZiAoIW9wdHMudmlldyB8fCB0eXBlb2Ygb3B0cy52aWV3ICE9PSAnc3RyaW5nJykge1xuICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAnYHZpZXdgIGZpbHRlciBwYXJhbWV0ZXIgbm90IGZvdW5kIG9yIGludmFsaWQuJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgLy8gZmV0Y2ggYSB2aWV3IGZyb20gYSBkZXNpZ24gZG9jLCBtYWtlIGl0IGJlaGF2ZSBsaWtlIGEgZmlsdGVyXG4gICAgdmFyIHZpZXdOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy52aWV3KTtcbiAgICBjaGFuZ2VzSGFuZGxlci5kYi5nZXQoJ19kZXNpZ24vJyArIHZpZXdOYW1lWzBdLCBmdW5jdGlvbiAoZXJyLCBkZG9jKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlci5pc0NhbmNlbGxlZCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikpO1xuICAgICAgfVxuICAgICAgdmFyIG1hcEZ1biA9IGRkb2MgJiYgZGRvYy52aWV3cyAmJiBkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXSAmJlxuICAgICAgICBkZG9jLnZpZXdzW3ZpZXdOYW1lWzFdXS5tYXA7XG4gICAgICBpZiAoIW1hcEZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKGRkb2Mudmlld3MgPyAnbWlzc2luZyBqc29uIGtleTogJyArIHZpZXdOYW1lWzFdIDpcbiAgICAgICAgICAgICdtaXNzaW5nIGpzb24ga2V5OiB2aWV3cycpKSk7XG4gICAgICB9XG4gICAgICBvcHRzLmZpbHRlciA9IGV2YWxWaWV3KG1hcEZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH0gZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIG9wdHMuZmlsdGVyID0gZnVuY3Rpb24gKGRvYykge1xuICAgICAgcmV0dXJuIG1hdGNoZXNTZWxlY3Rvcihkb2MsIG9wdHMuc2VsZWN0b3IpO1xuICAgIH07XG4gICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIC8vIGZldGNoIGEgZmlsdGVyIGZyb20gYSBkZXNpZ24gZG9jXG4gICAgdmFyIGZpbHRlck5hbWUgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShvcHRzLmZpbHRlcik7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyBmaWx0ZXJOYW1lWzBdLCBmdW5jdGlvbiAoZXJyLCBkZG9jKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2VzSGFuZGxlci5pc0NhbmNlbGxlZCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKGVycikpO1xuICAgICAgfVxuICAgICAgdmFyIGZpbHRlckZ1biA9IGRkb2MgJiYgZGRvYy5maWx0ZXJzICYmIGRkb2MuZmlsdGVyc1tmaWx0ZXJOYW1lWzFdXTtcbiAgICAgIGlmICghZmlsdGVyRnVuKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQyxcbiAgICAgICAgICAoKGRkb2MgJiYgZGRvYy5maWx0ZXJzKSA/ICdtaXNzaW5nIGpzb24ga2V5OiAnICsgZmlsdGVyTmFtZVsxXVxuICAgICAgICAgICAgOiAnbWlzc2luZyBqc29uIGtleTogZmlsdGVycycpKSk7XG4gICAgICB9XG4gICAgICBvcHRzLmZpbHRlciA9IGV2YWxGaWx0ZXIoZmlsdGVyRnVuKTtcbiAgICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9KTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseUNoYW5nZXNGaWx0ZXJQbHVnaW4oUG91Y2hEQikge1xuICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luID0ge1xuICAgIHZhbGlkYXRlOiB2YWxpZGF0ZSxcbiAgICBub3JtYWxpemU6IG5vcm1hbGl6ZSxcbiAgICBzaG91bGRGaWx0ZXI6IHNob3VsZEZpbHRlcixcbiAgICBmaWx0ZXI6IGZpbHRlclxuICB9O1xufVxuXG4vLyBUT0RPOiByZW1vdmUgZnJvbSBwb3VjaGRiLWNvcmUgKGJyZWFraW5nKVxuUG91Y2hEQi5wbHVnaW4oYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKTtcblxuUG91Y2hEQi52ZXJzaW9uID0gdmVyc2lvbjtcblxuZnVuY3Rpb24gdG9PYmplY3QoYXJyYXkpIHtcbiAgcmV0dXJuIGFycmF5LnJlZHVjZShmdW5jdGlvbiAob2JqLCBpdGVtKSB7XG4gICAgb2JqW2l0ZW1dID0gdHJ1ZTtcbiAgICByZXR1cm4gb2JqO1xuICB9LCB7fSk7XG59XG4vLyBMaXN0IG9mIHRvcCBsZXZlbCByZXNlcnZlZCB3b3JkcyBmb3IgZG9jXG52YXIgcmVzZXJ2ZWRXb3JkcyA9IHRvT2JqZWN0KFtcbiAgJ19pZCcsXG4gICdfcmV2JyxcbiAgJ19hY2Nlc3MnLFxuICAnX2F0dGFjaG1lbnRzJyxcbiAgJ19kZWxldGVkJyxcbiAgJ19yZXZpc2lvbnMnLFxuICAnX3JldnNfaW5mbycsXG4gICdfY29uZmxpY3RzJyxcbiAgJ19kZWxldGVkX2NvbmZsaWN0cycsXG4gICdfbG9jYWxfc2VxJyxcbiAgJ19yZXZfdHJlZScsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cycsXG4gIC8vIFNwZWNpZmljIHRvIENvdWNoYmFzZSBTeW5jIEdhdGV3YXlcbiAgJ19yZW1vdmVkJ1xuXSk7XG5cbi8vIExpc3Qgb2YgcmVzZXJ2ZWQgd29yZHMgdGhhdCBzaG91bGQgZW5kIHVwIGluIHRoZSBkb2N1bWVudFxudmFyIGRhdGFXb3JkcyA9IHRvT2JqZWN0KFtcbiAgJ19hY2Nlc3MnLFxuICAnX2F0dGFjaG1lbnRzJyxcbiAgLy8gcmVwbGljYXRpb24gZG9jdW1lbnRzXG4gICdfcmVwbGljYXRpb25faWQnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV90aW1lJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZV9yZWFzb24nLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRzJ1xuXSk7XG5cbmZ1bmN0aW9uIHBhcnNlUmV2aXNpb25JbmZvKHJldikge1xuICBpZiAoIS9eXFxkKy0vLnRlc3QocmV2KSkge1xuICAgIHJldHVybiBjcmVhdGVFcnJvcihJTlZBTElEX1JFVik7XG4gIH1cbiAgdmFyIGlkeCA9IHJldi5pbmRleE9mKCctJyk7XG4gIHZhciBsZWZ0ID0gcmV2LnN1YnN0cmluZygwLCBpZHgpO1xuICB2YXIgcmlnaHQgPSByZXYuc3Vic3RyaW5nKGlkeCArIDEpO1xuICByZXR1cm4ge1xuICAgIHByZWZpeDogcGFyc2VJbnQobGVmdCwgMTApLFxuICAgIGlkOiByaWdodFxuICB9O1xufVxuXG5mdW5jdGlvbiBtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMocmV2aXNpb25zLCBvcHRzKSB7XG4gIHZhciBwb3MgPSByZXZpc2lvbnMuc3RhcnQgLSByZXZpc2lvbnMuaWRzLmxlbmd0aCArIDE7XG5cbiAgdmFyIHJldmlzaW9uSWRzID0gcmV2aXNpb25zLmlkcztcbiAgdmFyIGlkcyA9IFtyZXZpc2lvbklkc1swXSwgb3B0cywgW11dO1xuXG4gIGZvciAodmFyIGkgPSAxLCBsZW4gPSByZXZpc2lvbklkcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGlkcyA9IFtyZXZpc2lvbklkc1tpXSwge3N0YXR1czogJ21pc3NpbmcnfSwgW2lkc11dO1xuICB9XG5cbiAgcmV0dXJuIFt7XG4gICAgcG9zOiBwb3MsXG4gICAgaWRzOiBpZHNcbiAgfV07XG59XG5cbi8vIFByZXByb2Nlc3MgZG9jdW1lbnRzLCBwYXJzZSB0aGVpciByZXZpc2lvbnMsIGFzc2lnbiBhbiBpZCBhbmQgYVxuLy8gcmV2aXNpb24gZm9yIG5ldyB3cml0ZXMgdGhhdCBhcmUgbWlzc2luZyB0aGVtLCBldGNcbmZ1bmN0aW9uIHBhcnNlRG9jKGRvYywgbmV3RWRpdHMsIGRiT3B0cykge1xuICBpZiAoIWRiT3B0cykge1xuICAgIGRiT3B0cyA9IHtcbiAgICAgIGRldGVybWluaXN0aWNfcmV2czogdHJ1ZVxuICAgIH07XG4gIH1cblxuICB2YXIgblJldk51bTtcbiAgdmFyIG5ld1JldklkO1xuICB2YXIgcmV2SW5mbztcbiAgdmFyIG9wdHMgPSB7c3RhdHVzOiAnYXZhaWxhYmxlJ307XG4gIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICBvcHRzLmRlbGV0ZWQgPSB0cnVlO1xuICB9XG5cbiAgaWYgKG5ld0VkaXRzKSB7XG4gICAgaWYgKCFkb2MuX2lkKSB7XG4gICAgICBkb2MuX2lkID0gdXVpZCgpO1xuICAgIH1cbiAgICBuZXdSZXZJZCA9IHJldiQkMShkb2MsIGRiT3B0cy5kZXRlcm1pbmlzdGljX3JldnMpO1xuICAgIGlmIChkb2MuX3Jldikge1xuICAgICAgcmV2SW5mbyA9IHBhcnNlUmV2aXNpb25JbmZvKGRvYy5fcmV2KTtcbiAgICAgIGlmIChyZXZJbmZvLmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXZJbmZvO1xuICAgICAgfVxuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogcmV2SW5mby5wcmVmaXgsXG4gICAgICAgIGlkczogW3JldkluZm8uaWQsIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtbbmV3UmV2SWQsIG9wdHMsIFtdXV1dXG4gICAgICB9XTtcbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeCArIDE7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IDEsXG4gICAgICAgIGlkcyA6IFtuZXdSZXZJZCwgb3B0cywgW11dXG4gICAgICB9XTtcbiAgICAgIG5SZXZOdW0gPSAxO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZG9jLl9yZXZpc2lvbnMpIHtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBtYWtlUmV2VHJlZUZyb21SZXZpc2lvbnMoZG9jLl9yZXZpc2lvbnMsIG9wdHMpO1xuICAgICAgblJldk51bSA9IGRvYy5fcmV2aXNpb25zLnN0YXJ0O1xuICAgICAgbmV3UmV2SWQgPSBkb2MuX3JldmlzaW9ucy5pZHNbMF07XG4gICAgfVxuICAgIGlmICghZG9jLl9yZXZfdHJlZSkge1xuICAgICAgcmV2SW5mbyA9IHBhcnNlUmV2aXNpb25JbmZvKGRvYy5fcmV2KTtcbiAgICAgIGlmIChyZXZJbmZvLmVycm9yKSB7XG4gICAgICAgIHJldHVybiByZXZJbmZvO1xuICAgICAgfVxuICAgICAgblJldk51bSA9IHJldkluZm8ucHJlZml4O1xuICAgICAgbmV3UmV2SWQgPSByZXZJbmZvLmlkO1xuICAgICAgZG9jLl9yZXZfdHJlZSA9IFt7XG4gICAgICAgIHBvczogblJldk51bSxcbiAgICAgICAgaWRzOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgfVxuICB9XG5cbiAgaW52YWxpZElkRXJyb3IoZG9jLl9pZCk7XG5cbiAgZG9jLl9yZXYgPSBuUmV2TnVtICsgJy0nICsgbmV3UmV2SWQ7XG5cbiAgdmFyIHJlc3VsdCA9IHttZXRhZGF0YSA6IHt9LCBkYXRhIDoge319O1xuICBmb3IgKHZhciBrZXkgaW4gZG9jKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYywga2V5KSkge1xuICAgICAgdmFyIHNwZWNpYWxLZXkgPSBrZXlbMF0gPT09ICdfJztcbiAgICAgIGlmIChzcGVjaWFsS2V5ICYmICFyZXNlcnZlZFdvcmRzW2tleV0pIHtcbiAgICAgICAgdmFyIGVycm9yID0gY3JlYXRlRXJyb3IoRE9DX1ZBTElEQVRJT04sIGtleSk7XG4gICAgICAgIGVycm9yLm1lc3NhZ2UgPSBET0NfVkFMSURBVElPTi5tZXNzYWdlICsgJzogJyArIGtleTtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9IGVsc2UgaWYgKHNwZWNpYWxLZXkgJiYgIWRhdGFXb3Jkc1trZXldKSB7XG4gICAgICAgIHJlc3VsdC5tZXRhZGF0YVtrZXkuc2xpY2UoMSldID0gZG9jW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXN1bHQuZGF0YVtrZXldID0gZG9jW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhcnNlQmFzZTY0KGRhdGEpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gdGhpc0F0b2IoZGF0YSk7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKTtcbiAgICByZXR1cm4ge2Vycm9yOiBlcnJ9O1xuICB9XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgdmFyIGFzQmluYXJ5ID0gcGFyc2VCYXNlNjQoYXR0LmRhdGEpO1xuICBpZiAoYXNCaW5hcnkuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soYXNCaW5hcnkuZXJyb3IpO1xuICB9XG5cbiAgYXR0Lmxlbmd0aCA9IGFzQmluYXJ5Lmxlbmd0aDtcbiAgaWYgKGJsb2JUeXBlID09PSAnYmxvYicpIHtcbiAgICBhdHQuZGF0YSA9IGJpblN0cmluZ1RvQmx1ZmZlcihhc0JpbmFyeSwgYXR0LmNvbnRlbnRfdHlwZSk7XG4gIH0gZWxzZSBpZiAoYmxvYlR5cGUgPT09ICdiYXNlNjQnKSB7XG4gICAgYXR0LmRhdGEgPSB0aGlzQnRvYShhc0JpbmFyeSk7XG4gIH0gZWxzZSB7IC8vIGJpbmFyeVxuICAgIGF0dC5kYXRhID0gYXNCaW5hcnk7XG4gIH1cbiAgYmluYXJ5TWQ1KGFzQmluYXJ5LCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgYXR0LmRpZ2VzdCA9ICdtZDUtJyArIHJlc3VsdDtcbiAgICBjYWxsYmFjaygpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0Jsb2IoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgYmluYXJ5TWQ1KGF0dC5kYXRhLCBmdW5jdGlvbiAobWQ1KSB7XG4gICAgYXR0LmRpZ2VzdCA9ICdtZDUtJyArIG1kNTtcbiAgICAvLyBzaXplIGlzIGZvciBibG9icyAoYnJvd3NlciksIGxlbmd0aCBpcyBmb3IgYnVmZmVycyAobm9kZSlcbiAgICBhdHQubGVuZ3RoID0gYXR0LmRhdGEuc2l6ZSB8fCBhdHQuZGF0YS5sZW5ndGggfHwgMDtcbiAgICBpZiAoYmxvYlR5cGUgPT09ICdiaW5hcnknKSB7XG4gICAgICBibG9iVG9CaW5hcnlTdHJpbmcoYXR0LmRhdGEsIGZ1bmN0aW9uIChiaW5TdHJpbmcpIHtcbiAgICAgICAgYXR0LmRhdGEgPSBiaW5TdHJpbmc7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgICAgYmxvYlRvQmFzZTY0KGF0dC5kYXRhLCBmdW5jdGlvbiAoYjY0KSB7XG4gICAgICAgIGF0dC5kYXRhID0gYjY0O1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKCk7XG4gICAgfVxuICB9KTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnQoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spIHtcbiAgaWYgKGF0dC5zdHViKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhdHQuZGF0YSA9PT0gJ3N0cmluZycpIHsgLy8gaW5wdXQgaXMgYSBiYXNlNjQgc3RyaW5nXG4gICAgcHJlcHJvY2Vzc1N0cmluZyhhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH0gZWxzZSB7IC8vIGlucHV0IGlzIGEgYmxvYlxuICAgIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudHMoZG9jSW5mb3MsIGJsb2JUeXBlLCBjYWxsYmFjaykge1xuXG4gIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gIH1cblxuICB2YXIgZG9jdiA9IDA7XG4gIHZhciBvdmVyYWxsRXJyO1xuXG4gIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICB2YXIgYXR0YWNobWVudHMgPSBkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyA/XG4gICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSA6IFtdO1xuICAgIHZhciByZWN2ID0gMDtcblxuICAgIGlmICghYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZG9uZSgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NlZEF0dGFjaG1lbnQoZXJyKSB7XG4gICAgICBvdmVyYWxsRXJyID0gZXJyO1xuICAgICAgcmVjdisrO1xuICAgICAgaWYgKHJlY3YgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgICBkb25lKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZm9yICh2YXIga2V5IGluIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpIHtcbiAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cywga2V5KSkge1xuICAgICAgICBwcmVwcm9jZXNzQXR0YWNobWVudChkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV0sXG4gICAgICAgICAgYmxvYlR5cGUsIHByb2Nlc3NlZEF0dGFjaG1lbnQpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgZnVuY3Rpb24gZG9uZSgpIHtcbiAgICBkb2N2Kys7XG4gICAgaWYgKGRvY0luZm9zLmxlbmd0aCA9PT0gZG9jdikge1xuICAgICAgaWYgKG92ZXJhbGxFcnIpIHtcbiAgICAgICAgY2FsbGJhY2sob3ZlcmFsbEVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiB1cGRhdGVEb2MocmV2TGltaXQsIHByZXYsIGRvY0luZm8sIHJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgaSwgY2IsIHdyaXRlRG9jLCBuZXdFZGl0cykge1xuXG4gIGlmIChyZXZFeGlzdHMocHJldi5yZXZfdHJlZSwgZG9jSW5mby5tZXRhZGF0YS5yZXYpICYmICFuZXdFZGl0cykge1xuICAgIHJlc3VsdHNbaV0gPSBkb2NJbmZvO1xuICAgIHJldHVybiBjYigpO1xuICB9XG5cbiAgLy8gc29tZXRpbWVzIHRoaXMgaXMgcHJlLWNhbGN1bGF0ZWQuIGhpc3RvcmljYWxseSBub3QgYWx3YXlzXG4gIHZhciBwcmV2aW91c1dpbm5pbmdSZXYgPSBwcmV2Lndpbm5pbmdSZXYgfHwgd2lubmluZ1JldihwcmV2KTtcbiAgdmFyIHByZXZpb3VzbHlEZWxldGVkID0gJ2RlbGV0ZWQnIGluIHByZXYgPyBwcmV2LmRlbGV0ZWQgOlxuICAgIGlzRGVsZXRlZChwcmV2LCBwcmV2aW91c1dpbm5pbmdSZXYpO1xuICB2YXIgZGVsZXRlZCA9ICdkZWxldGVkJyBpbiBkb2NJbmZvLm1ldGFkYXRhID8gZG9jSW5mby5tZXRhZGF0YS5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSk7XG4gIHZhciBpc1Jvb3QgPSAvXjEtLy50ZXN0KGRvY0luZm8ubWV0YWRhdGEucmV2KTtcblxuICBpZiAocHJldmlvdXNseURlbGV0ZWQgJiYgIWRlbGV0ZWQgJiYgbmV3RWRpdHMgJiYgaXNSb290KSB7XG4gICAgdmFyIG5ld0RvYyA9IGRvY0luZm8uZGF0YTtcbiAgICBuZXdEb2MuX3JldiA9IHByZXZpb3VzV2lubmluZ1JldjtcbiAgICBuZXdEb2MuX2lkID0gZG9jSW5mby5tZXRhZGF0YS5pZDtcbiAgICBkb2NJbmZvID0gcGFyc2VEb2MobmV3RG9jLCBuZXdFZGl0cyk7XG4gIH1cblxuICB2YXIgbWVyZ2VkID0gbWVyZ2UocHJldi5yZXZfdHJlZSwgZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuXG4gIHZhciBpbkNvbmZsaWN0ID0gbmV3RWRpdHMgJiYgKChcbiAgICAocHJldmlvdXNseURlbGV0ZWQgJiYgZGVsZXRlZCAmJiBtZXJnZWQuY29uZmxpY3RzICE9PSAnbmV3X2xlYWYnKSB8fFxuICAgICghcHJldmlvdXNseURlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAocHJldmlvdXNseURlbGV0ZWQgJiYgIWRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyA9PT0gJ25ld19icmFuY2gnKSkpO1xuXG4gIGlmIChpbkNvbmZsaWN0KSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgcmVzdWx0c1tpXSA9IGVycjtcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIHZhciBuZXdSZXYgPSBkb2NJbmZvLm1ldGFkYXRhLnJldjtcbiAgZG9jSW5mby5tZXRhZGF0YS5yZXZfdHJlZSA9IG1lcmdlZC50cmVlO1xuICBkb2NJbmZvLnN0ZW1tZWRSZXZzID0gbWVyZ2VkLnN0ZW1tZWRSZXZzIHx8IFtdO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAocHJldi5yZXZfbWFwKSB7XG4gICAgZG9jSW5mby5tZXRhZGF0YS5yZXZfbWFwID0gcHJldi5yZXZfbWFwOyAvLyB1c2VkIG9ubHkgYnkgbGV2ZWxkYlxuICB9XG5cbiAgLy8gcmVjYWxjdWxhdGVcbiAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgd2lubmluZ1JldklzRGVsZXRlZCA9IGlzRGVsZXRlZChkb2NJbmZvLm1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxKTtcblxuICAvLyBjYWxjdWxhdGUgdGhlIHRvdGFsIG51bWJlciBvZiBkb2N1bWVudHMgdGhhdCB3ZXJlIGFkZGVkL3JlbW92ZWQsXG4gIC8vIGZyb20gdGhlIHBlcnNwZWN0aXZlIG9mIHRvdGFsX3Jvd3MvZG9jX2NvdW50XG4gIHZhciBkZWx0YSA9IChwcmV2aW91c2x5RGVsZXRlZCA9PT0gd2lubmluZ1JldklzRGVsZXRlZCkgPyAwIDpcbiAgICBwcmV2aW91c2x5RGVsZXRlZCA8IHdpbm5pbmdSZXZJc0RlbGV0ZWQgPyAtMSA6IDE7XG5cbiAgdmFyIG5ld1JldklzRGVsZXRlZDtcbiAgaWYgKG5ld1JldiA9PT0gd2lubmluZ1JldiQkMSkge1xuICAgIC8vIGlmIHRoZSBuZXcgcmV2IGlzIHRoZSBzYW1lIGFzIHRoZSB3aW5uaW5nIHJldiwgd2UgY2FuIHJldXNlIHRoYXQgdmFsdWVcbiAgICBuZXdSZXZJc0RlbGV0ZWQgPSB3aW5uaW5nUmV2SXNEZWxldGVkO1xuICB9IGVsc2Uge1xuICAgIC8vIGlmIHRoZXkncmUgbm90IHRoZSBzYW1lLCB0aGVuIHdlIG5lZWQgdG8gcmVjYWxjdWxhdGVcbiAgICBuZXdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgbmV3UmV2KTtcbiAgfVxuXG4gIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsIG5ld1JldklzRGVsZXRlZCxcbiAgICB0cnVlLCBkZWx0YSwgaSwgY2IpO1xufVxuXG5mdW5jdGlvbiByb290SXNNaXNzaW5nKGRvY0luZm8pIHtcbiAgcmV0dXJuIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0uaWRzWzFdLnN0YXR1cyA9PT0gJ21pc3NpbmcnO1xufVxuXG5mdW5jdGlvbiBwcm9jZXNzRG9jcyhyZXZMaW1pdCwgZG9jSW5mb3MsIGFwaSwgZmV0Y2hlZERvY3MsIHR4LCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgICAgd3JpdGVEb2MsIG9wdHMsIG92ZXJhbGxDYWxsYmFjaykge1xuXG4gIC8vIERlZmF1bHQgdG8gMTAwMCBsb2NhbGx5XG4gIHJldkxpbWl0ID0gcmV2TGltaXQgfHwgMTAwMDtcblxuICBmdW5jdGlvbiBpbnNlcnREb2MoZG9jSW5mbywgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcbiAgICAvLyBDYW50IGluc2VydCBuZXcgZGVsZXRlZCBkb2N1bWVudHNcbiAgICB2YXIgd2lubmluZ1JldiQkMSA9IHdpbm5pbmdSZXYoZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG4gICAgaWYgKCd3YXNfZGVsZXRlJyBpbiBvcHRzICYmIGRlbGV0ZWQpIHtcbiAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ2RlbGV0ZWQnKTtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIC8vIDQ3MTIgLSBkZXRlY3Qgd2hldGhlciBhIG5ldyBkb2N1bWVudCB3YXMgaW5zZXJ0ZWQgd2l0aCBhIF9yZXZcbiAgICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmIHJvb3RJc01pc3NpbmcoZG9jSW5mbyk7XG5cbiAgICBpZiAoaW5Db25mbGljdCkge1xuICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCk7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gZXJyO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgdmFyIGRlbHRhID0gZGVsZXRlZCA/IDAgOiAxO1xuXG4gICAgd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgZGVsZXRlZCwgZGVsZXRlZCwgZmFsc2UsXG4gICAgICBkZWx0YSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICB9XG5cbiAgdmFyIG5ld0VkaXRzID0gb3B0cy5uZXdfZWRpdHM7XG4gIHZhciBpZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgZG9jc0RvbmUgPSAwO1xuICB2YXIgZG9jc1RvRG8gPSBkb2NJbmZvcy5sZW5ndGg7XG5cbiAgZnVuY3Rpb24gY2hlY2tBbGxEb2NzRG9uZSgpIHtcbiAgICBpZiAoKytkb2NzRG9uZSA9PT0gZG9jc1RvRG8gJiYgb3ZlcmFsbENhbGxiYWNrKSB7XG4gICAgICBvdmVyYWxsQ2FsbGJhY2soKTtcbiAgICB9XG4gIH1cblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChjdXJyZW50RG9jLCByZXN1bHRzSWR4KSB7XG5cbiAgICBpZiAoY3VycmVudERvYy5faWQgJiYgaXNMb2NhbElkKGN1cnJlbnREb2MuX2lkKSkge1xuICAgICAgdmFyIGZ1biA9IGN1cnJlbnREb2MuX2RlbGV0ZWQgPyAnX3JlbW92ZUxvY2FsJyA6ICdfcHV0TG9jYWwnO1xuICAgICAgYXBpW2Z1bl0oY3VycmVudERvYywge2N0eDogdHh9LCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVyciB8fCByZXM7XG4gICAgICAgIGNoZWNrQWxsRG9jc0RvbmUoKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciBpZCA9IGN1cnJlbnREb2MubWV0YWRhdGEuaWQ7XG4gICAgaWYgKGlkc1RvRG9jcy5oYXMoaWQpKSB7XG4gICAgICBkb2NzVG9Eby0tOyAvLyBkdXBsaWNhdGVcbiAgICAgIGlkc1RvRG9jcy5nZXQoaWQpLnB1c2goW2N1cnJlbnREb2MsIHJlc3VsdHNJZHhdKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWRzVG9Eb2NzLnNldChpZCwgW1tjdXJyZW50RG9jLCByZXN1bHRzSWR4XV0pO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gaW4gdGhlIGNhc2Ugb2YgbmV3X2VkaXRzLCB0aGUgdXNlciBjYW4gcHJvdmlkZSBtdWx0aXBsZSBkb2NzXG4gIC8vIHdpdGggdGhlIHNhbWUgaWQuIHRoZXNlIG5lZWQgdG8gYmUgcHJvY2Vzc2VkIHNlcXVlbnRpYWxseVxuICBpZHNUb0RvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jcywgaWQpIHtcbiAgICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgICBmdW5jdGlvbiBkb2NXcml0dGVuKCkge1xuICAgICAgaWYgKCsrbnVtRG9uZSA8IGRvY3MubGVuZ3RoKSB7XG4gICAgICAgIG5leHREb2MoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrQWxsRG9jc0RvbmUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbmV4dERvYygpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGRvY3NbbnVtRG9uZV07XG4gICAgICB2YXIgY3VycmVudERvYyA9IHZhbHVlWzBdO1xuICAgICAgdmFyIHJlc3VsdHNJZHggPSB2YWx1ZVsxXTtcblxuICAgICAgaWYgKGZldGNoZWREb2NzLmhhcyhpZCkpIHtcbiAgICAgICAgdXBkYXRlRG9jKHJldkxpbWl0LCBmZXRjaGVkRG9jcy5nZXQoaWQpLCBjdXJyZW50RG9jLCByZXN1bHRzLFxuICAgICAgICAgIHJlc3VsdHNJZHgsIGRvY1dyaXR0ZW4sIHdyaXRlRG9jLCBuZXdFZGl0cyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBFbnN1cmUgc3RlbW1pbmcgYXBwbGllcyB0byBuZXcgd3JpdGVzIGFzIHdlbGxcbiAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlKFtdLCBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlWzBdLCByZXZMaW1pdCk7XG4gICAgICAgIGN1cnJlbnREb2MubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgICAgICAgY3VycmVudERvYy5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgICAgICAgaW5zZXJ0RG9jKGN1cnJlbnREb2MsIHJlc3VsdHNJZHgsIGRvY1dyaXR0ZW4pO1xuICAgICAgfVxuICAgIH1cbiAgICBuZXh0RG9jKCk7XG4gIH0pO1xufVxuXG4vLyBJbmRleGVkREIgcmVxdWlyZXMgYSB2ZXJzaW9uZWQgZGF0YWJhc2Ugc3RydWN0dXJlLCBzbyB3ZSB1c2UgdGhlXG4vLyB2ZXJzaW9uIGhlcmUgdG8gbWFuYWdlIG1pZ3JhdGlvbnMuXG52YXIgQURBUFRFUl9WRVJTSU9OID0gNTtcblxuLy8gVGhlIG9iamVjdCBzdG9yZXMgY3JlYXRlZCBmb3IgZWFjaCBkYXRhYmFzZVxuLy8gRE9DX1NUT1JFIHN0b3JlcyB0aGUgZG9jdW1lbnQgbWV0YSBkYXRhLCBpdHMgcmV2aXNpb24gaGlzdG9yeSBhbmQgc3RhdGVcbi8vIEtleWVkIGJ5IGRvY3VtZW50IGlkXG52YXIgRE9DX1NUT1JFID0gJ2RvY3VtZW50LXN0b3JlJztcbi8vIEJZX1NFUV9TVE9SRSBzdG9yZXMgYSBwYXJ0aWN1bGFyIHZlcnNpb24gb2YgYSBkb2N1bWVudCwga2V5ZWQgYnkgaXRzXG4vLyBzZXF1ZW5jZSBpZFxudmFyIEJZX1NFUV9TVE9SRSA9ICdieS1zZXF1ZW5jZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBhdHRhY2htZW50c1xudmFyIEFUVEFDSF9TVE9SRSA9ICdhdHRhY2gtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbWFueS10by1tYW55IHJlbGF0aW9uc1xuLy8gYmV0d2VlbiBhdHRhY2htZW50IGRpZ2VzdHMgYW5kIHNlcXNcbnZhciBBVFRBQ0hfQU5EX1NFUV9TVE9SRSA9ICdhdHRhY2gtc2VxLXN0b3JlJztcblxuLy8gV2hlcmUgd2Ugc3RvcmUgZGF0YWJhc2Utd2lkZSBtZXRhIGRhdGEgaW4gYSBzaW5nbGUgcmVjb3JkXG4vLyBrZXllZCBieSBpZDogTUVUQV9TVE9SRVxudmFyIE1FVEFfU1RPUkUgPSAnbWV0YS1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBzdG9yZSBsb2NhbCBkb2N1bWVudHNcbnZhciBMT0NBTF9TVE9SRSA9ICdsb2NhbC1zdG9yZSc7XG4vLyBXaGVyZSB3ZSBkZXRlY3QgYmxvYiBzdXBwb3J0XG52YXIgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSA9ICdkZXRlY3QtYmxvYi1zdXBwb3J0JztcblxuZnVuY3Rpb24gc2FmZUpzb25QYXJzZShzdHIpIHtcbiAgLy8gVGhpcyB0cnkvY2F0Y2ggZ3VhcmRzIGFnYWluc3Qgc3RhY2sgb3ZlcmZsb3cgZXJyb3JzLlxuICAvLyBKU09OLnBhcnNlKCkgaXMgZmFzdGVyIHRoYW4gdnV2dXplbGEucGFyc2UoKSBidXQgdnV2dXplbGFcbiAgLy8gY2Fubm90IG92ZXJmbG93LlxuICB0cnkge1xuICAgIHJldHVybiBKU09OLnBhcnNlKHN0cik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiB2dXZ1emVsYS5wYXJzZShzdHIpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHNhZmVKc29uU3RyaW5naWZ5KGpzb24pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoanNvbik7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiB2dXZ1emVsYS5zdHJpbmdpZnkoanNvbik7XG4gIH1cbn1cblxuZnVuY3Rpb24gaWRiRXJyb3IoY2FsbGJhY2spIHtcbiAgcmV0dXJuIGZ1bmN0aW9uIChldnQpIHtcbiAgICB2YXIgbWVzc2FnZSA9ICd1bmtub3duX2Vycm9yJztcbiAgICBpZiAoZXZ0LnRhcmdldCAmJiBldnQudGFyZ2V0LmVycm9yKSB7XG4gICAgICBtZXNzYWdlID0gZXZ0LnRhcmdldC5lcnJvci5uYW1lIHx8IGV2dC50YXJnZXQuZXJyb3IubWVzc2FnZTtcbiAgICB9XG4gICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLCBtZXNzYWdlLCBldnQudHlwZSkpO1xuICB9O1xufVxuXG4vLyBVbmZvcnR1bmF0ZWx5LCB0aGUgbWV0YWRhdGEgaGFzIHRvIGJlIHN0cmluZ2lmaWVkXG4vLyB3aGVuIGl0IGlzIHB1dCBpbnRvIHRoZSBkYXRhYmFzZSwgYmVjYXVzZSBvdGhlcndpc2Vcbi8vIEluZGV4ZWREQiBjYW4gdGhyb3cgZXJyb3JzIGZvciBkZWVwbHktbmVzdGVkIG9iamVjdHMuXG4vLyBPcmlnaW5hbGx5IHdlIGp1c3QgdXNlZCBKU09OLnBhcnNlL0pTT04uc3RyaW5naWZ5OyBub3dcbi8vIHdlIHVzZSB0aGlzIGN1c3RvbSB2dXZ1emVsYSBsaWJyYXJ5IHRoYXQgYXZvaWRzIHJlY3Vyc2lvbi5cbi8vIElmIHdlIGNvdWxkIGRvIGl0IGFsbCBvdmVyIGFnYWluLCB3ZSdkIHByb2JhYmx5IHVzZSBhXG4vLyBmb3JtYXQgZm9yIHRoZSByZXZpc2lvbiB0cmVlcyBvdGhlciB0aGFuIEpTT04uXG5mdW5jdGlvbiBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiwgZGVsZXRlZCkge1xuICByZXR1cm4ge1xuICAgIGRhdGE6IHNhZmVKc29uU3RyaW5naWZ5KG1ldGFkYXRhKSxcbiAgICB3aW5uaW5nUmV2OiB3aW5uaW5nUmV2LFxuICAgIGRlbGV0ZWRPckxvY2FsOiBkZWxldGVkID8gJzEnIDogJzAnLFxuICAgIHNlcTogbWV0YWRhdGEuc2VxLCAvLyBoaWdoZXN0IHNlcSBmb3IgdGhpcyBkb2NcbiAgICBpZDogbWV0YWRhdGEuaWRcbiAgfTtcbn1cblxuZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KSB7XG4gIGlmICghc3RvcmVkT2JqZWN0KSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIG1ldGFkYXRhID0gc2FmZUpzb25QYXJzZShzdG9yZWRPYmplY3QuZGF0YSk7XG4gIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBzdG9yZWRPYmplY3Qud2lubmluZ1JldjtcbiAgbWV0YWRhdGEuZGVsZXRlZCA9IHN0b3JlZE9iamVjdC5kZWxldGVkT3JMb2NhbCA9PT0gJzEnO1xuICBtZXRhZGF0YS5zZXEgPSBzdG9yZWRPYmplY3Quc2VxO1xuICByZXR1cm4gbWV0YWRhdGE7XG59XG5cbi8vIHJlYWQgdGhlIGRvYyBiYWNrIG91dCBmcm9tIHRoZSBkYXRhYmFzZS4gd2UgZG9uJ3Qgc3RvcmUgdGhlXG4vLyBfaWQgb3IgX3JldiBiZWNhdXNlIHdlIGFscmVhZHkgaGF2ZSBfZG9jX2lkX3Jldi5cbmZ1bmN0aW9uIGRlY29kZURvYyhkb2MpIHtcbiAgaWYgKCFkb2MpIHtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHZhciBpZHggPSBkb2MuX2RvY19pZF9yZXYubGFzdEluZGV4T2YoJzonKTtcbiAgZG9jLl9pZCA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoMCwgaWR4IC0gMSk7XG4gIGRvYy5fcmV2ID0gZG9jLl9kb2NfaWRfcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgZGVsZXRlIGRvYy5fZG9jX2lkX3JldjtcbiAgcmV0dXJuIGRvYztcbn1cblxuLy8gUmVhZCBhIGJsb2IgZnJvbSB0aGUgZGF0YWJhc2UsIGVuY29kaW5nIGFzIG5lY2Vzc2FyeVxuLy8gYW5kIHRyYW5zbGF0aW5nIGZyb20gYmFzZTY0IGlmIHRoZSBJREIgZG9lc24ndCBzdXBwb3J0XG4vLyBuYXRpdmUgQmxvYnNcbmZ1bmN0aW9uIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBhc0Jsb2IsIGNhbGxiYWNrKSB7XG4gIGlmIChhc0Jsb2IpIHtcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUJsb2IoWycnXSwge3R5cGU6IHR5cGV9KSk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGJvZHkpO1xuICAgIH0gZWxzZSB7IC8vIG5vIGJsb2Igc3VwcG9ydFxuICAgICAgY2FsbGJhY2soYjY0VG9CbHVmZmVyKGJvZHksIHR5cGUpKTtcbiAgICB9XG4gIH0gZWxzZSB7IC8vIGFzIGJhc2U2NCBzdHJpbmdcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIGNhbGxiYWNrKCcnKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ICE9PSAnc3RyaW5nJykgeyAvLyB3ZSBoYXZlIGJsb2Igc3VwcG9ydFxuICAgICAgcmVhZEFzQmluYXJ5U3RyaW5nKGJvZHksIGZ1bmN0aW9uIChiaW5hcnkpIHtcbiAgICAgICAgY2FsbGJhY2sodGhpc0J0b2EoYmluYXJ5KSk7XG4gICAgICB9KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGJvZHkpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3NhcnkoZG9jLCBvcHRzLCB0eG4sIGNiKSB7XG4gIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMgfHwge30pO1xuICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgIHJldHVybiBjYiAmJiBjYigpO1xuICB9XG4gIHZhciBudW1Eb25lID0gMDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgaWYgKCsrbnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoICYmIGNiKSB7XG4gICAgICBjYigpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCkge1xuICAgIHZhciBhdHRPYmogPSBkb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgdmFyIGRpZ2VzdCA9IGF0dE9iai5kaWdlc3Q7XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgYXR0T2JqLmJvZHkgPSBlLnRhcmdldC5yZXN1bHQuYm9keTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH07XG4gIH1cblxuICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChhdHQpIHtcbiAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgZmV0Y2hBdHRhY2htZW50KGRvYywgYXR0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdLnN0dWIgPSB0cnVlO1xuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLy8gSURCLXNwZWNpZmljIHBvc3Rwcm9jZXNzaW5nIG5lY2Vzc2FyeSBiZWNhdXNlXG4vLyB3ZSBkb24ndCBrbm93IHdoZXRoZXIgd2Ugc3RvcmVkIGEgdHJ1ZSBCbG9iIG9yXG4vLyBhIGJhc2U2NC1lbmNvZGVkIHN0cmluZywgYW5kIGlmIGl0J3MgYSBCbG9iIGl0XG4vLyBuZWVkcyB0byBiZSByZWFkIG91dHNpZGUgb2YgdGhlIHRyYW5zYWN0aW9uIGNvbnRleHRcbmZ1bmN0aW9uIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cywgYXNCbG9iKSB7XG4gIHJldHVybiBQcm9taXNlLmFsbChyZXN1bHRzLm1hcChmdW5jdGlvbiAocm93KSB7XG4gICAgaWYgKHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgIHZhciBhdHROYW1lcyA9IE9iamVjdC5rZXlzKHJvdy5kb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChhdHROYW1lcy5tYXAoZnVuY3Rpb24gKGF0dCkge1xuICAgICAgICB2YXIgYXR0T2JqID0gcm93LmRvYy5fYXR0YWNobWVudHNbYXR0XTtcbiAgICAgICAgaWYgKCEoJ2JvZHknIGluIGF0dE9iaikpIHsgLy8gYWxyZWFkeSBwcm9jZXNzZWRcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGJvZHkgPSBhdHRPYmouYm9keTtcbiAgICAgICAgdmFyIHR5cGUgPSBhdHRPYmouY29udGVudF90eXBlO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgcm93LmRvYy5fYXR0YWNobWVudHNbYXR0XSA9ICRpbmplY3RfT2JqZWN0X2Fzc2lnbihcbiAgICAgICAgICAgICAgcGljayhhdHRPYmosIFsnZGlnZXN0JywgJ2NvbnRlbnRfdHlwZSddKSxcbiAgICAgICAgICAgICAge2RhdGE6IGRhdGF9XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gY29tcGFjdFJldnMocmV2cywgZG9jSWQsIHR4bikge1xuXG4gIHZhciBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyA9IFtdO1xuICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgdmFyIGF0dFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gIHZhciBhdHRBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG4gIHZhciBjb3VudCA9IHJldnMubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBjb3VudC0tO1xuICAgIGlmICghY291bnQpIHsgLy8gZG9uZSBwcm9jZXNzaW5nIGFsbCByZXZzXG4gICAgICBkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzKCk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpIHtcbiAgICBpZiAoIXBvc3NpYmx5T3JwaGFuZWREaWdlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZhciBjb3VudFJlcSA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdkaWdlc3RTZXEnKS5jb3VudChcbiAgICAgICAgSURCS2V5UmFuZ2UuYm91bmQoXG4gICAgICAgICAgZGlnZXN0ICsgJzo6JywgZGlnZXN0ICsgJzo6XFx1ZmZmZicsIGZhbHNlLCBmYWxzZSkpO1xuICAgICAgY291bnRSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgICAgLy8gb3JwaGFuZWRcbiAgICAgICAgICBhdHRTdG9yZS5kZWxldGUoZGlnZXN0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldnMuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgdmFyIGluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgdmFyIGtleSA9IGRvY0lkICsgXCI6OlwiICsgcmV2O1xuICAgIGluZGV4LmdldEtleShrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgc2VxID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKHR5cGVvZiBzZXEgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiBjaGVja0RvbmUoKTtcbiAgICAgIH1cbiAgICAgIHNlcVN0b3JlLmRlbGV0ZShzZXEpO1xuXG4gICAgICB2YXIgY3Vyc29yID0gYXR0QW5kU2VxU3RvcmUuaW5kZXgoJ3NlcScpXG4gICAgICAgIC5vcGVuQ3Vyc29yKElEQktleVJhbmdlLm9ubHkoc2VxKSk7XG5cbiAgICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGV2ZW50LnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gY3Vyc29yLnZhbHVlLmRpZ2VzdFNlcS5zcGxpdCgnOjonKVswXTtcbiAgICAgICAgICBwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5wdXNoKGRpZ2VzdCk7XG4gICAgICAgICAgYXR0QW5kU2VxU3RvcmUuZGVsZXRlKGN1cnNvci5wcmltYXJ5S2V5KTtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZG9uZVxuICAgICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsIG1vZGUpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4ge1xuICAgICAgdHhuOiBpZGIudHJhbnNhY3Rpb24oc3RvcmVzLCBtb2RlKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIHJldHVybiB7XG4gICAgICBlcnJvcjogZXJyXG4gICAgfTtcbiAgfVxufVxuXG52YXIgY2hhbmdlc0hhbmRsZXIgPSBuZXcgQ2hhbmdlcygpO1xuXG5mdW5jdGlvbiBpZGJCdWxrRG9jcyhkYk9wdHMsIHJlcSwgb3B0cywgYXBpLCBpZGIsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2NJbmZvcyA9IHJlcS5kb2NzO1xuICB2YXIgdHhuO1xuICB2YXIgZG9jU3RvcmU7XG4gIHZhciBieVNlcVN0b3JlO1xuICB2YXIgYXR0YWNoU3RvcmU7XG4gIHZhciBhdHRhY2hBbmRTZXFTdG9yZTtcbiAgdmFyIG1ldGFTdG9yZTtcbiAgdmFyIGRvY0luZm9FcnJvcjtcbiAgdmFyIG1ldGFEb2M7XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIGRvYyA9IGRvY0luZm9zW2ldO1xuICAgIGlmIChkb2MuX2lkICYmIGlzTG9jYWxJZChkb2MuX2lkKSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGRvYyA9IGRvY0luZm9zW2ldID0gcGFyc2VEb2MoZG9jLCBvcHRzLm5ld19lZGl0cywgZGJPcHRzKTtcbiAgICBpZiAoZG9jLmVycm9yICYmICFkb2NJbmZvRXJyb3IpIHtcbiAgICAgIGRvY0luZm9FcnJvciA9IGRvYztcbiAgICB9XG4gIH1cblxuICBpZiAoZG9jSW5mb0Vycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGRvY0luZm9FcnJvcik7XG4gIH1cblxuICB2YXIgYWxsRG9jc1Byb2Nlc3NlZCA9IGZhbHNlO1xuICB2YXIgZG9jQ291bnREZWx0YSA9IDA7XG4gIHZhciByZXN1bHRzID0gbmV3IEFycmF5KGRvY0luZm9zLmxlbmd0aCk7XG4gIHZhciBmZXRjaGVkRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICB2YXIgcHJlY29uZGl0aW9uRXJyb3JlZCA9IGZhbHNlO1xuICB2YXIgYmxvYlR5cGUgPSBhcGkuX21ldGEuYmxvYlN1cHBvcnQgPyAnYmxvYicgOiAnYmFzZTY0JztcblxuICBwcmVwcm9jZXNzQXR0YWNobWVudHMoZG9jSW5mb3MsIGJsb2JUeXBlLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIHN0YXJ0VHJhbnNhY3Rpb24oKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gc3RhcnRUcmFuc2FjdGlvbigpIHtcblxuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSxcbiAgICAgIEFUVEFDSF9TVE9SRSxcbiAgICAgIExPQ0FMX1NUT1JFLCBBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIE1FVEFfU1RPUkVcbiAgICBdO1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBzdG9yZXMsICdyZWFkd3JpdGUnKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub250aW1lb3V0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gY29tcGxldGU7XG4gICAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgYXR0YWNoU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICBhdHRhY2hBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG4gICAgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuXG4gICAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICAgIH07XG5cbiAgICB2ZXJpZnlBdHRhY2htZW50cyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHByZWNvbmRpdGlvbkVycm9yZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIGZldGNoRXhpc3RpbmdEb2NzKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkFsbERvY3NQcm9jZXNzZWQoKSB7XG4gICAgYWxsRG9jc1Byb2Nlc3NlZCA9IHRydWU7XG4gICAgdXBkYXRlRG9jQ291bnRJZlJlYWR5KCk7XG4gIH1cblxuICBmdW5jdGlvbiBpZGJQcm9jZXNzRG9jcygpIHtcbiAgICBwcm9jZXNzRG9jcyhkYk9wdHMucmV2c19saW1pdCwgZG9jSW5mb3MsIGFwaSwgZmV0Y2hlZERvY3MsXG4gICAgICAgICAgICAgICAgdHhuLCByZXN1bHRzLCB3cml0ZURvYywgb3B0cywgb25BbGxEb2NzUHJvY2Vzc2VkKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpIHtcbiAgICBpZiAoIW1ldGFEb2MgfHwgIWFsbERvY3NQcm9jZXNzZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgLy8gY2FjaGluZyB0aGUgZG9jQ291bnQgc2F2ZXMgYSBsb3Qgb2YgdGltZSBpbiBhbGxEb2NzKCkgYW5kXG4gICAgLy8gaW5mbygpLCB3aGljaCBpcyB3aHkgd2UgZ28gdG8gYWxsIHRoZSB0cm91YmxlIG9mIGRvaW5nIHRoaXNcbiAgICBtZXRhRG9jLmRvY0NvdW50ICs9IGRvY0NvdW50RGVsdGE7XG4gICAgbWV0YVN0b3JlLnB1dChtZXRhRG9jKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoRXhpc3RpbmdEb2NzKCkge1xuXG4gICAgaWYgKCFkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgbnVtRmV0Y2hlZCA9IDA7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1GZXRjaGVkID09PSBkb2NJbmZvcy5sZW5ndGgpIHtcbiAgICAgICAgaWRiUHJvY2Vzc0RvY3MoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZWFkTWV0YWRhdGEoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuXG4gICAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgZmV0Y2hlZERvY3Muc2V0KG1ldGFkYXRhLmlkLCBtZXRhZGF0YSk7XG4gICAgICB9XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZG9jSW5mb3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBkb2NJbmZvID0gZG9jSW5mb3NbaV07XG4gICAgICBpZiAoZG9jSW5mby5faWQgJiYgaXNMb2NhbElkKGRvY0luZm8uX2lkKSkge1xuICAgICAgICBjaGVja0RvbmUoKTsgLy8gc2tpcCBsb2NhbCBkb2NzXG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlcSA9IGRvY1N0b3JlLmdldChkb2NJbmZvLm1ldGFkYXRhLmlkKTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSByZWFkTWV0YWRhdGE7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29tcGxldGUoKSB7XG4gICAgaWYgKHByZWNvbmRpdGlvbkVycm9yZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjaGFuZ2VzSGFuZGxlci5ub3RpZnkoYXBpLl9tZXRhLm5hbWUpO1xuICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMpO1xuICB9XG5cbiAgZnVuY3Rpb24gdmVyaWZ5QXR0YWNobWVudChkaWdlc3QsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVxID0gYXR0YWNoU3RvcmUuZ2V0KGRpZ2VzdCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBpZiAoIWUudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICB2YXIgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19TVFVCLFxuICAgICAgICAgICd1bmtub3duIHN0dWIgYXR0YWNobWVudCB3aXRoIGRpZ2VzdCAnICtcbiAgICAgICAgICBkaWdlc3QpO1xuICAgICAgICBlcnIuc3RhdHVzID0gNDEyO1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gdmVyaWZ5QXR0YWNobWVudHMoZmluaXNoKSB7XG5cblxuICAgIHZhciBkaWdlc3RzID0gW107XG4gICAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jSW5mbykge1xuICAgICAgaWYgKGRvY0luZm8uZGF0YSAmJiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIE9iamVjdC5rZXlzKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNbZmlsZW5hbWVdO1xuICAgICAgICAgIGlmIChhdHQuc3R1Yikge1xuICAgICAgICAgICAgZGlnZXN0cy5wdXNoKGF0dC5kaWdlc3QpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgIH1cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK251bURvbmUgPT09IGRpZ2VzdHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaChlcnIpO1xuICAgICAgfVxuICAgIH1cbiAgICBkaWdlc3RzLmZvckVhY2goZnVuY3Rpb24gKGRpZ2VzdCkge1xuICAgICAgdmVyaWZ5QXR0YWNobWVudChkaWdlc3QsIGZ1bmN0aW9uIChhdHRFcnIpIHtcbiAgICAgICAgaWYgKGF0dEVyciAmJiAhZXJyKSB7XG4gICAgICAgICAgZXJyID0gYXR0RXJyO1xuICAgICAgICB9XG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCBkZWx0YSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuICAgIGRvY0luZm8ubWV0YWRhdGEud2lubmluZ1JldiA9IHdpbm5pbmdSZXYkJDE7XG4gICAgZG9jSW5mby5tZXRhZGF0YS5kZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgZG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jLl9yZXYgPSBkb2NJbmZvLm1ldGFkYXRhLnJldjtcblxuICAgIGlmIChuZXdSZXZJc0RlbGV0ZWQpIHtcbiAgICAgIGRvYy5fZGVsZXRlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgdmFyIGhhc0F0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cyAmJlxuICAgICAgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoO1xuICAgIGlmIChoYXNBdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIHdyaXRlQXR0YWNobWVudHMoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCxcbiAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICBkb2NDb3VudERlbHRhICs9IGRlbHRhO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuXG4gICAgZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgcmVzdWx0c0lkeCwgY2FsbGJhY2spIHtcblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSW5mby5tZXRhZGF0YTtcblxuICAgIGRvYy5fZG9jX2lkX3JldiA9IG1ldGFkYXRhLmlkICsgJzo6JyArIG1ldGFkYXRhLnJldjtcbiAgICBkZWxldGUgZG9jLl9pZDtcbiAgICBkZWxldGUgZG9jLl9yZXY7XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvYyhlKSB7XG4gICAgICB2YXIgcmV2c1RvRGVsZXRlID0gZG9jSW5mby5zdGVtbWVkUmV2cyB8fCBbXTtcblxuICAgICAgaWYgKGlzVXBkYXRlICYmIGFwaS5hdXRvX2NvbXBhY3Rpb24pIHtcbiAgICAgICAgcmV2c1RvRGVsZXRlID0gcmV2c1RvRGVsZXRlLmNvbmNhdChjb21wYWN0VHJlZShkb2NJbmZvLm1ldGFkYXRhKSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChyZXZzVG9EZWxldGUgJiYgcmV2c1RvRGVsZXRlLmxlbmd0aCkge1xuICAgICAgICBjb21wYWN0UmV2cyhyZXZzVG9EZWxldGUsIGRvY0luZm8ubWV0YWRhdGEuaWQsIHR4bik7XG4gICAgICB9XG5cbiAgICAgIG1ldGFkYXRhLnNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIC8vIEN1cnJlbnQgX3JldiBpcyBjYWxjdWxhdGVkIGZyb20gX3Jldl90cmVlIG9uIHJlYWRcbiAgICAgIC8vIGRlbGV0ZSBtZXRhZGF0YS5yZXY7XG4gICAgICB2YXIgbWV0YWRhdGFUb1N0b3JlID0gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsXG4gICAgICAgIHdpbm5pbmdSZXZJc0RlbGV0ZWQpO1xuICAgICAgdmFyIG1ldGFEYXRhUmVxID0gZG9jU3RvcmUucHV0KG1ldGFkYXRhVG9TdG9yZSk7XG4gICAgICBtZXRhRGF0YVJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dE1ldGFkYXRhO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0RG9jRXJyb3IoZSkge1xuICAgICAgLy8gQ29uc3RyYWludEVycm9yLCBuZWVkIHRvIHVwZGF0ZSwgbm90IHB1dCAoc2VlICMxNjM4IGZvciBkZXRhaWxzKVxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgdmFyIGluZGV4ID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcbiAgICAgIHZhciBnZXRLZXlSZXEgPSBpbmRleC5nZXRLZXkoZG9jLl9kb2NfaWRfcmV2KTtcbiAgICAgIGdldEtleVJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgcHV0UmVxID0gYnlTZXFTdG9yZS5wdXQoZG9jLCBlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFmdGVyUHV0TWV0YWRhdGEoKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0ge1xuICAgICAgICBvazogdHJ1ZSxcbiAgICAgICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgICAgICByZXY6IG1ldGFkYXRhLnJldlxuICAgICAgfTtcbiAgICAgIGZldGNoZWREb2NzLnNldChkb2NJbmZvLm1ldGFkYXRhLmlkLCBkb2NJbmZvLm1ldGFkYXRhKTtcbiAgICAgIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBtZXRhZGF0YS5zZXEsIGNhbGxiYWNrKTtcbiAgICB9XG5cbiAgICB2YXIgcHV0UmVxID0gYnlTZXFTdG9yZS5wdXQoZG9jKTtcblxuICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBhZnRlclB1dERvYztcbiAgICBwdXRSZXEub25lcnJvciA9IGFmdGVyUHV0RG9jRXJyb3I7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cblxuICAgIHZhciBkb2MgPSBkb2NJbmZvLmRhdGE7XG5cbiAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG5cbiAgICBmdW5jdGlvbiBjb2xsZWN0UmVzdWx0cygpIHtcbiAgICAgIGlmIChudW1Eb25lID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZmluaXNoRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhdHRhY2htZW50U2F2ZWQoKSB7XG4gICAgICBudW1Eb25lKys7XG4gICAgICBjb2xsZWN0UmVzdWx0cygpO1xuICAgIH1cblxuICAgIGF0dGFjaG1lbnRzLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgICAgdmFyIGF0dCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgIGlmICghYXR0LnN0dWIpIHtcbiAgICAgICAgdmFyIGRhdGEgPSBhdHQuZGF0YTtcbiAgICAgICAgZGVsZXRlIGF0dC5kYXRhO1xuICAgICAgICBhdHQucmV2cG9zID0gcGFyc2VJbnQod2lubmluZ1JldiQkMSwgMTApO1xuICAgICAgICB2YXIgZGlnZXN0ID0gYXR0LmRpZ2VzdDtcbiAgICAgICAgc2F2ZUF0dGFjaG1lbnQoZGlnZXN0LCBkYXRhLCBhdHRhY2htZW50U2F2ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtRG9uZSsrO1xuICAgICAgICBjb2xsZWN0UmVzdWx0cygpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLy8gbWFwIHNlcXMgdG8gYXR0YWNobWVudCBkaWdlc3RzLCB3aGljaFxuICAvLyB3ZSB3aWxsIG5lZWQgbGF0ZXIgZHVyaW5nIGNvbXBhY3Rpb25cbiAgZnVuY3Rpb24gaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzKGRvY0luZm8sIHNlcSwgY2FsbGJhY2spIHtcblxuICAgIHZhciBhdHRzQWRkZWQgPSAwO1xuICAgIHZhciBhdHRzVG9BZGQgPSBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzIHx8IHt9KTtcblxuICAgIGlmICghYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrYXR0c0FkZGVkID09PSBhdHRzVG9BZGQubGVuZ3RoKSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkKGF0dCkge1xuICAgICAgdmFyIGRpZ2VzdCA9IGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHNbYXR0XS5kaWdlc3Q7XG4gICAgICB2YXIgcmVxID0gYXR0YWNoQW5kU2VxU3RvcmUucHV0KHtcbiAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgIGRpZ2VzdFNlcTogZGlnZXN0ICsgJzo6JyArIHNlcVxuICAgICAgfSk7XG5cbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBjaGVja0RvbmU7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIHRoaXMgY2FsbGJhY2sgaXMgZm9yIGEgY29uc3RhaW50IGVycm9yLCB3aGljaCB3ZSBpZ25vcmVcbiAgICAgICAgLy8gYmVjYXVzZSB0aGlzIGRvY2lkL3JldiBoYXMgYWxyZWFkeSBiZWVuIGFzc29jaWF0ZWQgd2l0aFxuICAgICAgICAvLyB0aGUgZGlnZXN0IChlLmcuIHdoZW4gbmV3X2VkaXRzID09IGZhbHNlKVxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgICAgY2hlY2tEb25lKCk7XG4gICAgICB9O1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IGF0dHNUb0FkZC5sZW5ndGg7IGkrKykge1xuICAgICAgYWRkKGF0dHNUb0FkZFtpXSk7IC8vIGRvIGluIHBhcmFsbGVsXG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2F2ZUF0dGFjaG1lbnQoZGlnZXN0LCBkYXRhLCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZ2V0S2V5UmVxID0gYXR0YWNoU3RvcmUuY291bnQoZGlnZXN0KTtcbiAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gYWxyZWFkeSBleGlzdHNcbiAgICAgIH1cbiAgICAgIHZhciBuZXdBdHQgPSB7XG4gICAgICAgIGRpZ2VzdDogZGlnZXN0LFxuICAgICAgICBib2R5OiBkYXRhXG4gICAgICB9O1xuICAgICAgdmFyIHB1dFJlcSA9IGF0dGFjaFN0b3JlLnB1dChuZXdBdHQpO1xuICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGNhbGxiYWNrO1xuICAgIH07XG4gIH1cbn1cblxuLy8gQWJzdHJhY3Rpb24gb3ZlciBJREJDdXJzb3IgYW5kIGdldEFsbCgpL2dldEFsbEtleXMoKSB0aGF0IGFsbG93cyB1cyB0byBiYXRjaCBvdXIgb3BlcmF0aW9uc1xuLy8gd2hpbGUgZmFsbGluZyBiYWNrIHRvIGEgbm9ybWFsIElEQkN1cnNvciBvcGVyYXRpb24gb24gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGdldEFsbCgpIG9yXG4vLyBnZXRBbGxLZXlzKCkuIFRoaXMgYWxsb3dzIGZvciBhIG11Y2ggZmFzdGVyIGltcGxlbWVudGF0aW9uIHRoYW4ganVzdCBzdHJhaWdodC11cCBjdXJzb3JzLCBiZWNhdXNlXG4vLyB3ZSdyZSBub3QgcHJvY2Vzc2luZyBlYWNoIGRvY3VtZW50IG9uZS1hdC1hLXRpbWUuXG5mdW5jdGlvbiBydW5CYXRjaGVkQ3Vyc29yKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgZGVzY2VuZGluZywgYmF0Y2hTaXplLCBvbkJhdGNoKSB7XG5cbiAgaWYgKGJhdGNoU2l6ZSA9PT0gLTEpIHtcbiAgICBiYXRjaFNpemUgPSAxMDAwO1xuICB9XG5cbiAgLy8gQmFpbCBvdXQgb2YgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpIGluIHRoZSBmb2xsb3dpbmcgY2FzZXM6XG4gIC8vIDEpIGVpdGhlciBtZXRob2QgaXMgdW5zdXBwb3J0ZWQgLSB3ZSBuZWVkIGJvdGhcbiAgLy8gMikgYmF0Y2hTaXplIGlzIDEgKG1pZ2h0IGFzIHdlbGwgdXNlIElEQkN1cnNvcilcbiAgLy8gMykgZGVzY2VuZGluZyDigJMgbm8gcmVhbCB3YXkgdG8gZG8gdGhpcyB2aWEgZ2V0QWxsKCkvZ2V0QWxsS2V5cygpXG5cbiAgdmFyIHVzZUdldEFsbCA9IHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGwgPT09ICdmdW5jdGlvbicgJiZcbiAgICB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIGJhdGNoU2l6ZSA+IDEgJiYgIWRlc2NlbmRpbmc7XG5cbiAgdmFyIGtleXNCYXRjaDtcbiAgdmFyIHZhbHVlc0JhdGNoO1xuICB2YXIgcHNldWRvQ3Vyc29yO1xuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsKGUpIHtcbiAgICB2YWx1ZXNCYXRjaCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoa2V5c0JhdGNoKSB7XG4gICAgICBvbkJhdGNoKGtleXNCYXRjaCwgdmFsdWVzQmF0Y2gsIHBzZXVkb0N1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25HZXRBbGxLZXlzKGUpIHtcbiAgICBrZXlzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKHZhbHVlc0JhdGNoKSB7XG4gICAgICBvbkJhdGNoKGtleXNCYXRjaCwgdmFsdWVzQmF0Y2gsIHBzZXVkb0N1cnNvcik7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29udGludWVQc2V1ZG9DdXJzb3IoKSB7XG4gICAgaWYgKCFrZXlzQmF0Y2gubGVuZ3RoKSB7IC8vIG5vIG1vcmUgcmVzdWx0c1xuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gZmV0Y2ggbmV4dCBiYXRjaCwgZXhjbHVzaXZlIHN0YXJ0XG4gICAgdmFyIGxhc3RLZXkgPSBrZXlzQmF0Y2hba2V5c0JhdGNoLmxlbmd0aCAtIDFdO1xuICAgIHZhciBuZXdLZXlSYW5nZTtcbiAgICBpZiAoa2V5UmFuZ2UgJiYga2V5UmFuZ2UudXBwZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ld0tleVJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQobGFzdEtleSwga2V5UmFuZ2UudXBwZXIsXG4gICAgICAgICAgdHJ1ZSwga2V5UmFuZ2UudXBwZXJPcGVuKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgaWYgKGUubmFtZSA9PT0gXCJEYXRhRXJyb3JcIiAmJiBlLmNvZGUgPT09IDApIHtcbiAgICAgICAgICByZXR1cm4gb25CYXRjaCgpOyAvLyB3ZSdyZSBkb25lLCBzdGFydGtleSBhbmQgZW5ka2V5IGFyZSBlcXVhbFxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIG5ld0tleVJhbmdlID0gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChsYXN0S2V5LCB0cnVlKTtcbiAgICB9XG4gICAga2V5UmFuZ2UgPSBuZXdLZXlSYW5nZTtcbiAgICBrZXlzQmF0Y2ggPSBudWxsO1xuICAgIHZhbHVlc0JhdGNoID0gbnVsbDtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyhrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbEtleXM7XG4gIH1cblxuICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoIWN1cnNvcikgeyAvLyBkb25lXG4gICAgICByZXR1cm4gb25CYXRjaCgpO1xuICAgIH1cbiAgICAvLyByZWd1bGFyIElEQkN1cnNvciBhY3RzIGxpa2UgYSBiYXRjaCB3aGVyZSBiYXRjaCBzaXplIGlzIGFsd2F5cyAxXG4gICAgb25CYXRjaChbY3Vyc29yLmtleV0sIFtjdXJzb3IudmFsdWVdLCBjdXJzb3IpO1xuICB9XG5cbiAgaWYgKHVzZUdldEFsbCkge1xuICAgIHBzZXVkb0N1cnNvciA9IHtcImNvbnRpbnVlXCI6IGNvbnRpbnVlUHNldWRvQ3Vyc29yfTtcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsS2V5cyhrZXlSYW5nZSwgYmF0Y2hTaXplKS5vbnN1Y2Nlc3MgPSBvbkdldEFsbEtleXM7XG4gIH0gZWxzZSBpZiAoZGVzY2VuZGluZykge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH0gZWxzZSB7XG4gICAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cbn1cblxuLy8gc2ltcGxlIHNoaW0gZm9yIG9iamVjdFN0b3JlLmdldEFsbCgpLCBmYWxsaW5nIGJhY2sgdG8gSURCQ3Vyc29yXG5mdW5jdGlvbiBnZXRBbGwob2JqZWN0U3RvcmUsIGtleVJhbmdlLCBvblN1Y2Nlc3MpIHtcbiAgaWYgKHR5cGVvZiBvYmplY3RTdG9yZS5nZXRBbGwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyB1c2UgbmF0aXZlIGdldEFsbFxuICAgIG9iamVjdFN0b3JlLmdldEFsbChrZXlSYW5nZSkub25zdWNjZXNzID0gb25TdWNjZXNzO1xuICAgIHJldHVybjtcbiAgfVxuICAvLyBmYWxsIGJhY2sgdG8gY3Vyc29yc1xuICB2YXIgdmFsdWVzID0gW107XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGN1cnNvcikge1xuICAgICAgdmFsdWVzLnB1c2goY3Vyc29yLnZhbHVlKTtcbiAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IHZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXMoa2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpIHtcbiAgLy8gSXQncyBub3QgZ3VhcmFudGVkIHRvIGJlIHJldHVybmVkIGluIHJpZ2h0IG9yZGVyICBcbiAgdmFyIHZhbHVlc0JhdGNoID0gbmV3IEFycmF5KGtleXMubGVuZ3RoKTtcbiAgdmFyIGNvdW50ID0gMDtcbiAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXksIGluZGV4KSB7XG4gICAgZG9jU3RvcmUuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICBpZiAoZXZlbnQudGFyZ2V0LnJlc3VsdCkge1xuICAgICAgICB2YWx1ZXNCYXRjaFtpbmRleF0gPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0ge2tleToga2V5LCBlcnJvcjogJ25vdF9mb3VuZCd9O1xuICAgICAgfVxuICAgICAgY291bnQrKztcbiAgICAgIGlmIChjb3VudCA9PT0ga2V5cy5sZW5ndGgpIHtcbiAgICAgICAgb25CYXRjaChrZXlzLCB2YWx1ZXNCYXRjaCwge30pO1xuICAgICAgfVxuICAgIH07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjcmVhdGVLZXlSYW5nZShzdGFydCwgZW5kLCBpbmNsdXNpdmVFbmQsIGtleSwgZGVzY2VuZGluZykge1xuICB0cnkge1xuICAgIGlmIChzdGFydCAmJiBlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5ib3VuZChlbmQsIHN0YXJ0LCAhaW5jbHVzaXZlRW5kLCBmYWxzZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCwgZmFsc2UsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoc3RhcnQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS51cHBlckJvdW5kKHN0YXJ0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKHN0YXJ0KTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGVuZCkge1xuICAgICAgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmxvd2VyQm91bmQoZW5kLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS51cHBlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChrZXkpIHtcbiAgICAgIHJldHVybiBJREJLZXlSYW5nZS5vbmx5KGtleSk7XG4gICAgfVxuICB9IGNhdGNoIChlKSB7XG4gICAgcmV0dXJuIHtlcnJvcjogZX07XG4gIH1cbiAgcmV0dXJuIG51bGw7XG59XG5cbmZ1bmN0aW9uIGlkYkFsbERvY3Mob3B0cywgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgc3RhcnQgPSAnc3RhcnRrZXknIGluIG9wdHMgPyBvcHRzLnN0YXJ0a2V5IDogZmFsc2U7XG4gIHZhciBlbmQgPSAnZW5ka2V5JyBpbiBvcHRzID8gb3B0cy5lbmRrZXkgOiBmYWxzZTtcbiAgdmFyIGtleSA9ICdrZXknIGluIG9wdHMgPyBvcHRzLmtleSA6IGZhbHNlO1xuICB2YXIga2V5cyA9ICdrZXlzJyBpbiBvcHRzID8gb3B0cy5rZXlzIDogZmFsc2U7IFxuICB2YXIgc2tpcCA9IG9wdHMuc2tpcCB8fCAwO1xuICB2YXIgbGltaXQgPSB0eXBlb2Ygb3B0cy5saW1pdCA9PT0gJ251bWJlcicgPyBvcHRzLmxpbWl0IDogLTE7XG4gIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuXG4gIHZhciBrZXlSYW5nZSA7IFxuICB2YXIga2V5UmFuZ2VFcnJvcjtcbiAgaWYgKCFrZXlzKSB7XG4gICAga2V5UmFuZ2UgPSBjcmVhdGVLZXlSYW5nZShzdGFydCwgZW5kLCBpbmNsdXNpdmVFbmQsIGtleSwgb3B0cy5kZXNjZW5kaW5nKTtcbiAgICBrZXlSYW5nZUVycm9yID0ga2V5UmFuZ2UgJiYga2V5UmFuZ2UuZXJyb3I7XG4gICAgaWYgKGtleVJhbmdlRXJyb3IgJiYgXG4gICAgICAhKGtleVJhbmdlRXJyb3IubmFtZSA9PT0gXCJEYXRhRXJyb3JcIiAmJiBrZXlSYW5nZUVycm9yLmNvZGUgPT09IDApKSB7XG4gICAgICAvLyBEYXRhRXJyb3Igd2l0aCBlcnJvciBjb2RlIDAgaW5kaWNhdGVzIHN0YXJ0IGlzIGxlc3MgdGhhbiBlbmQsIHNvXG4gICAgICAvLyBjYW4ganVzdCBkbyBhbiBlbXB0eSBxdWVyeS4gRWxzZSBuZWVkIHRvIHRocm93XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoSURCX0VSUk9SLFxuICAgICAgICBrZXlSYW5nZUVycm9yLm5hbWUsIGtleVJhbmdlRXJyb3IubWVzc2FnZSkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBzdG9yZXMgPSBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIE1FVEFfU1RPUkVdO1xuXG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgc3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICB9XG4gIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICB0eG4ub25jb21wbGV0ZSA9IG9uVHhuQ29tcGxldGU7XG4gIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBtZXRhU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSk7XG4gIHZhciBkb2NJZFJldkluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBkb2NDb3VudDtcbiAgdmFyIHVwZGF0ZVNlcTtcblxuICBtZXRhU3RvcmUuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgZG9jQ291bnQgPSBlLnRhcmdldC5yZXN1bHQuZG9jQ291bnQ7XG4gIH07XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICBnZXRNYXhVcGRhdGVTZXEoc2VxU3RvcmUsIGZ1bmN0aW9uIChlKSB7IFxuICAgICAgaWYgKGUudGFyZ2V0LnJlc3VsdCAmJiBlLnRhcmdldC5yZXN1bHQubGVuZ3RoID4gMCkge1xuICAgICAgICB1cGRhdGVTZXEgPSBlLnRhcmdldC5yZXN1bHRbMF07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRNYXhVcGRhdGVTZXEob2JqZWN0U3RvcmUsIG9uU3VjY2Vzcykge1xuICAgIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB2YXIgbWF4S2V5ID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKGN1cnNvciAmJiBjdXJzb3Iua2V5KSB7XG4gICAgICAgIG1heEtleSA9IGN1cnNvci5rZXk7XG4gICAgICB9IFxuICAgICAgcmV0dXJuIG9uU3VjY2Vzcyh7XG4gICAgICAgIHRhcmdldDoge1xuICAgICAgICAgIHJlc3VsdDogW21heEtleV1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBvbkN1cnNvcjtcbiAgfVxuXG4gIC8vIGlmIHRoZSB1c2VyIHNwZWNpZmllcyBpbmNsdWRlX2RvY3M9dHJ1ZSwgdGhlbiB3ZSBkb24ndFxuICAvLyB3YW50IHRvIGJsb2NrIHRoZSBtYWluIGN1cnNvciB3aGlsZSB3ZSdyZSBmZXRjaGluZyB0aGUgZG9jXG4gIGZ1bmN0aW9uIGZldGNoRG9jQXN5bmNocm9ub3VzbHkobWV0YWRhdGEsIHJvdywgd2lubmluZ1JldiQkMSkge1xuICAgIHZhciBrZXkgPSBtZXRhZGF0YS5pZCArIFwiOjpcIiArIHdpbm5pbmdSZXYkJDE7XG4gICAgZG9jSWRSZXZJbmRleC5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSAgZnVuY3Rpb24gb25HZXREb2MoZSkge1xuICAgICAgcm93LmRvYyA9IGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpIHx8IHt9O1xuICAgICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgICAgaWYgKGNvbmZsaWN0cy5sZW5ndGgpIHtcbiAgICAgICAgICByb3cuZG9jLl9jb25mbGljdHMgPSBjb25mbGljdHM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeShyb3cuZG9jLCBvcHRzLCB0eG4pO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhbGxEb2NzSW5uZXIod2lubmluZ1JldiQkMSwgbWV0YWRhdGEpIHtcbiAgICB2YXIgcm93ID0ge1xuICAgICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgICAga2V5OiBtZXRhZGF0YS5pZCxcbiAgICAgIHZhbHVlOiB7XG4gICAgICAgIHJldjogd2lubmluZ1JldiQkMVxuICAgICAgfVxuICAgIH07XG4gICAgdmFyIGRlbGV0ZWQgPSBtZXRhZGF0YS5kZWxldGVkO1xuICAgIGlmIChkZWxldGVkKSB7XG4gICAgICBpZiAoa2V5cykge1xuICAgICAgICByZXN1bHRzLnB1c2gocm93KTtcbiAgICAgICAgLy8gZGVsZXRlZCBkb2NzIGFyZSBva2F5IHdpdGggXCJrZXlzXCIgcmVxdWVzdHNcbiAgICAgICAgcm93LnZhbHVlLmRlbGV0ZWQgPSB0cnVlO1xuICAgICAgICByb3cuZG9jID0gbnVsbDtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHNraXAtLSA8PSAwKSB7XG4gICAgICByZXN1bHRzLnB1c2gocm93KTtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NCYXRjaChiYXRjaFZhbHVlcykge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBiYXRjaFZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHJlc3VsdHMubGVuZ3RoID09PSBsaW1pdCkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIHZhciBiYXRjaFZhbHVlID0gYmF0Y2hWYWx1ZXNbaV07XG4gICAgICBpZiAoYmF0Y2hWYWx1ZS5lcnJvciAmJiBrZXlzKSB7XG4gICAgICAgIC8vIGtleSB3YXMgbm90IGZvdW5kIHdpdGggXCJrZXlzXCIgcmVxdWVzdHNcbiAgICAgICAgcmVzdWx0cy5wdXNoKGJhdGNoVmFsdWUpO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGJhdGNoVmFsdWUpO1xuICAgICAgdmFyIHdpbm5pbmdSZXYkJDEgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHByb2Nlc3NCYXRjaChiYXRjaFZhbHVlcyk7XG4gICAgaWYgKHJlc3VsdHMubGVuZ3RoIDwgbGltaXQpIHtcbiAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsKGUpIHtcbiAgICB2YXIgdmFsdWVzID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHZhbHVlcyA9IHZhbHVlcy5yZXZlcnNlKCk7XG4gICAgfVxuICAgIHByb2Nlc3NCYXRjaCh2YWx1ZXMpO1xuICB9XG5cbiAgZnVuY3Rpb24gb25SZXN1bHRzUmVhZHkoKSB7XG4gICAgdmFyIHJldHVyblZhbCA9IHtcbiAgICAgIHRvdGFsX3Jvd3M6IGRvY0NvdW50LFxuICAgICAgb2Zmc2V0OiBvcHRzLnNraXAsXG4gICAgICByb3dzOiByZXN1bHRzXG4gICAgfTtcbiAgICBcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxICYmIHVwZGF0ZVNlcSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm5WYWwudXBkYXRlX3NlcSA9IHVwZGF0ZVNlcTtcbiAgICB9XG4gICAgY2FsbGJhY2sobnVsbCwgcmV0dXJuVmFsKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uVHhuQ29tcGxldGUoKSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cywgb3B0cy5iaW5hcnkpLnRoZW4ob25SZXN1bHRzUmVhZHkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBvblJlc3VsdHNSZWFkeSgpO1xuICAgIH1cbiAgfVxuXG4gIC8vIGRvbid0IGJvdGhlciBkb2luZyBhbnkgcmVxdWVzdHMgaWYgc3RhcnQgPiBlbmQgb3IgbGltaXQgPT09IDBcbiAgaWYgKGtleVJhbmdlRXJyb3IgfHwgbGltaXQgPT09IDApIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKGtleXMpIHtcbiAgICByZXR1cm4gYWxsRG9jc0tleXMob3B0cy5rZXlzLCBkb2NTdG9yZSwgb25CYXRjaCk7XG4gIH1cbiAgaWYgKGxpbWl0ID09PSAtMSkgeyAvLyBqdXN0IGZldGNoIGV2ZXJ5dGhpbmdcbiAgICByZXR1cm4gZ2V0QWxsKGRvY1N0b3JlLCBrZXlSYW5nZSwgb25HZXRBbGwpO1xuICB9XG4gIC8vIGVsc2UgZG8gYSBjdXJzb3JcbiAgLy8gY2hvb3NlIGEgYmF0Y2ggc2l6ZSBiYXNlZCBvbiB0aGUgc2tpcCwgc2luY2Ugd2UnbGwgbmVlZCB0byBza2lwIHRoYXQgbWFueVxuICBydW5CYXRjaGVkQ3Vyc29yKGRvY1N0b3JlLCBrZXlSYW5nZSwgb3B0cy5kZXNjZW5kaW5nLCBsaW1pdCArIHNraXAsIG9uQmF0Y2gpO1xufVxuXG4vL1xuLy8gQmxvYnMgYXJlIG5vdCBzdXBwb3J0ZWQgaW4gYWxsIHZlcnNpb25zIG9mIEluZGV4ZWREQiwgbm90YWJseVxuLy8gQ2hyb21lIDwzNyBhbmQgQW5kcm9pZCA8NS4gSW4gdGhvc2UgdmVyc2lvbnMsIHN0b3JpbmcgYSBibG9iIHdpbGwgdGhyb3cuXG4vL1xuLy8gVmFyaW91cyBvdGhlciBibG9iIGJ1Z3MgZXhpc3QgaW4gQ2hyb21lIHYzNy00MiAoaW5jbHVzaXZlKS5cbi8vIERldGVjdGluZyB0aGVtIGlzIGV4cGVuc2l2ZSBhbmQgY29uZnVzaW5nIHRvIHVzZXJzLCBhbmQgQ2hyb21lIDM3LTQyXG4vLyBpcyBhdCB2ZXJ5IGxvdyB1c2FnZSB3b3JsZHdpZGUsIHNvIHdlIGRvIGEgaGFja3kgdXNlckFnZW50IGNoZWNrIGluc3RlYWQuXG4vL1xuLy8gY29udGVudC10eXBlIGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQwODEyMFxuLy8gNDA0IGJ1ZzogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTQ0NzkxNlxuLy8gRmlsZVJlYWRlciBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc4MzZcbi8vXG5mdW5jdGlvbiBjaGVja0Jsb2JTdXBwb3J0KHR4bikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICB2YXIgYmxvYiQkMSA9IGNyZWF0ZUJsb2IoWycnXSk7XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKS5wdXQoYmxvYiQkMSwgJ2tleScpO1xuXG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBtYXRjaGVkQ2hyb21lID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvQ2hyb21lXFwvKFxcZCspLyk7XG4gICAgICB2YXIgbWF0Y2hlZEVkZ2UgPSBuYXZpZ2F0b3IudXNlckFnZW50Lm1hdGNoKC9FZGdlXFwvLyk7XG4gICAgICAvLyBNUyBFZGdlIHByZXRlbmRzIHRvIGJlIENocm9tZSA0MjpcbiAgICAgIC8vIGh0dHBzOi8vbXNkbi5taWNyb3NvZnQuY29tL2VuLXVzL2xpYnJhcnkvaGg4NjkzMDElMjh2PXZzLjg1JTI5LmFzcHhcbiAgICAgIHJlc29sdmUobWF0Y2hlZEVkZ2UgfHwgIW1hdGNoZWRDaHJvbWUgfHxcbiAgICAgICAgcGFyc2VJbnQobWF0Y2hlZENocm9tZVsxXSwgMTApID49IDQzKTtcbiAgICB9O1xuXG4gICAgcmVxLm9uZXJyb3IgPSB0eG4ub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAvLyBJZiB0aGUgdHJhbnNhY3Rpb24gYWJvcnRzIG5vdyBpdHMgZHVlIHRvIG5vdCBiZWluZyBhYmxlIHRvXG4gICAgICAvLyB3cml0ZSB0byB0aGUgZGF0YWJhc2UsIGxpa2VseSBkdWUgdG8gdGhlIGRpc2sgYmVpbmcgZnVsbFxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgIHJlc29sdmUoZmFsc2UpO1xuICAgIH07XG4gIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gZmFsc2U7IC8vIGVycm9yLCBzbyBhc3N1bWUgdW5zdXBwb3J0ZWRcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNvdW50RG9jcyh0eG4sIGNiKSB7XG4gIHZhciBpbmRleCA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmluZGV4KCdkZWxldGVkT3JMb2NhbCcpO1xuICBpbmRleC5jb3VudChJREJLZXlSYW5nZS5vbmx5KCcwJykpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgY2IoZS50YXJnZXQucmVzdWx0KTtcbiAgfTtcbn1cblxuLy8gVGhpcyB0YXNrIHF1ZXVlIGVuc3VyZXMgdGhhdCBJREIgb3BlbiBjYWxscyBhcmUgZG9uZSBpbiB0aGVpciBvd24gdGlja1xuXG52YXIgcnVubmluZyA9IGZhbHNlO1xudmFyIHF1ZXVlID0gW107XG5cbmZ1bmN0aW9uIHRyeUNvZGUoZnVuLCBlcnIsIHJlcywgUG91Y2hEQikge1xuICB0cnkge1xuICAgIGZ1bihlcnIsIHJlcyk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIC8vIFNob3VsZG4ndCBoYXBwZW4sIGJ1dCBpbiBzb21lIG9kZCBjYXNlc1xuICAgIC8vIEluZGV4ZWREQiBpbXBsZW1lbnRhdGlvbnMgbWlnaHQgdGhyb3cgYSBzeW5jXG4gICAgLy8gZXJyb3IsIGluIHdoaWNoIGNhc2UgdGhpcyB3aWxsIGF0IGxlYXN0IGxvZyBpdC5cbiAgICBQb3VjaERCLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhcHBseU5leHQoKSB7XG4gIGlmIChydW5uaW5nIHx8ICFxdWV1ZS5sZW5ndGgpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgcnVubmluZyA9IHRydWU7XG4gIHF1ZXVlLnNoaWZ0KCkoKTtcbn1cblxuZnVuY3Rpb24gZW5xdWV1ZVRhc2soYWN0aW9uLCBjYWxsYmFjaywgUG91Y2hEQikge1xuICBxdWV1ZS5wdXNoKGZ1bmN0aW9uIHJ1bkFjdGlvbigpIHtcbiAgICBhY3Rpb24oZnVuY3Rpb24gcnVuQ2FsbGJhY2soZXJyLCByZXMpIHtcbiAgICAgIHRyeUNvZGUoY2FsbGJhY2ssIGVyciwgcmVzLCBQb3VjaERCKTtcbiAgICAgIHJ1bm5pbmcgPSBmYWxzZTtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiBydW5OZXh0KCkge1xuICAgICAgICBhcHBseU5leHQoUG91Y2hEQik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG4gIGFwcGx5TmV4dCgpO1xufVxuXG5mdW5jdGlvbiBjaGFuZ2VzKG9wdHMsIGFwaSwgZGJOYW1lLCBpZGIpIHtcbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gIGlmIChvcHRzLmNvbnRpbnVvdXMpIHtcbiAgICB2YXIgaWQgPSBkYk5hbWUgKyAnOicgKyB1dWlkKCk7XG4gICAgY2hhbmdlc0hhbmRsZXIuYWRkTGlzdGVuZXIoZGJOYW1lLCBpZCwgYXBpLCBvcHRzKTtcbiAgICBjaGFuZ2VzSGFuZGxlci5ub3RpZnkoZGJOYW1lKTtcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNoYW5nZXNIYW5kbGVyLnJlbW92ZUxpc3RlbmVyKGRiTmFtZSwgaWQpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzICYmIG5ldyBFeHBvcnRlZFNldChvcHRzLmRvY19pZHMpO1xuXG4gIG9wdHMuc2luY2UgPSBvcHRzLnNpbmNlIHx8IDA7XG4gIHZhciBsYXN0U2VxID0gb3B0cy5zaW5jZTtcblxuICB2YXIgbGltaXQgPSAnbGltaXQnIGluIG9wdHMgPyBvcHRzLmxpbWl0IDogLTE7XG4gIGlmIChsaW1pdCA9PT0gMCkge1xuICAgIGxpbWl0ID0gMTsgLy8gcGVyIENvdWNoREIgX2NoYW5nZXMgc3BlY1xuICB9XG5cbiAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgdmFyIG51bVJlc3VsdHMgPSAwO1xuICB2YXIgZmlsdGVyID0gZmlsdGVyQ2hhbmdlKG9wdHMpO1xuICB2YXIgZG9jSWRzVG9NZXRhZGF0YSA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIHZhciB0eG47XG4gIHZhciBieVNlcVN0b3JlO1xuICB2YXIgZG9jU3RvcmU7XG4gIHZhciBkb2NJZFJldkluZGV4O1xuXG4gIGZ1bmN0aW9uIG9uQmF0Y2goYmF0Y2hLZXlzLCBiYXRjaFZhbHVlcywgY3Vyc29yKSB7XG4gICAgaWYgKCFjdXJzb3IgfHwgIWJhdGNoS2V5cy5sZW5ndGgpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB3aW5uaW5nRG9jcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcbiAgICB2YXIgbWV0YWRhdGFzID0gbmV3IEFycmF5KGJhdGNoS2V5cy5sZW5ndGgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyhtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgdmFyIGNoYW5nZSA9IG9wdHMucHJvY2Vzc0NoYW5nZSh3aW5uaW5nRG9jLCBtZXRhZGF0YSwgb3B0cyk7XG4gICAgICBsYXN0U2VxID0gY2hhbmdlLnNlcSA9IG1ldGFkYXRhLnNlcTtcblxuICAgICAgdmFyIGZpbHRlcmVkID0gZmlsdGVyKGNoYW5nZSk7XG4gICAgICBpZiAodHlwZW9mIGZpbHRlcmVkID09PSAnb2JqZWN0JykgeyAvLyBhbnl0aGluZyBidXQgdHJ1ZS9mYWxzZSBpbmRpY2F0ZXMgZXJyb3JcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGZpbHRlcmVkKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFmaWx0ZXJlZCkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgICB9XG4gICAgICBudW1SZXN1bHRzKys7XG4gICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICByZXN1bHRzLnB1c2goY2hhbmdlKTtcbiAgICAgIH1cbiAgICAgIC8vIHByb2Nlc3MgdGhlIGF0dGFjaG1lbnQgaW1tZWRpYXRlbHlcbiAgICAgIC8vIGZvciB0aGUgYmVuZWZpdCBvZiBsaXZlIGxpc3RlbmVyc1xuICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KHdpbm5pbmdEb2MsIG9wdHMsIHR4biwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcG9zdFByb2Nlc3NBdHRhY2htZW50cyhbY2hhbmdlXSwgb3B0cy5iaW5hcnkpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICByZXNvbHZlKGNoYW5nZSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGNoYW5nZSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25CYXRjaERvbmUoKSB7XG4gICAgICB2YXIgcHJvbWlzZXMgPSBbXTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB3aW5uaW5nRG9jcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBpZiAobnVtUmVzdWx0cyA9PT0gbGltaXQpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICB2YXIgd2lubmluZ0RvYyA9IHdpbm5pbmdEb2NzW2ldO1xuICAgICAgICBpZiAoIXdpbm5pbmdEb2MpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgbWV0YWRhdGEgPSBtZXRhZGF0YXNbaV07XG4gICAgICAgIHByb21pc2VzLnB1c2gocHJvY2Vzc01ldGFkYXRhQW5kV2lubmluZ0RvYyhtZXRhZGF0YSwgd2lubmluZ0RvYykpO1xuICAgICAgfVxuXG4gICAgICBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbihmdW5jdGlvbiAoY2hhbmdlcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2hhbmdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICAgIGlmIChjaGFuZ2VzW2ldKSB7XG4gICAgICAgICAgICBvcHRzLm9uQ2hhbmdlKGNoYW5nZXNbaV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSkuY2F0Y2gob3B0cy5jb21wbGV0ZSk7XG5cbiAgICAgIGlmIChudW1SZXN1bHRzICE9PSBsaW1pdCkge1xuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBGZXRjaCBhbGwgbWV0YWRhdGFzL3dpbm5pbmdkb2NzIGZyb20gdGhpcyBiYXRjaCBpbiBwYXJhbGxlbCwgdGhlbiBwcm9jZXNzXG4gICAgLy8gdGhlbSBhbGwgb25seSBvbmNlIGFsbCBkYXRhIGhhcyBiZWVuIGNvbGxlY3RlZC4gVGhpcyBpcyBkb25lIGluIHBhcmFsbGVsXG4gICAgLy8gYmVjYXVzZSBpdCdzIGZhc3RlciB0aGFuIGRvaW5nIGl0IG9uZS1hdC1hLXRpbWUuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIGJhdGNoVmFsdWVzLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgICB2YXIgZG9jID0gZGVjb2RlRG9jKHZhbHVlKTtcbiAgICAgIHZhciBzZXEgPSBiYXRjaEtleXNbaV07XG4gICAgICBmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YShkb2MsIHNlcSwgZnVuY3Rpb24gKG1ldGFkYXRhLCB3aW5uaW5nRG9jKSB7XG4gICAgICAgIG1ldGFkYXRhc1tpXSA9IG1ldGFkYXRhO1xuICAgICAgICB3aW5uaW5nRG9jc1tpXSA9IHdpbm5pbmdEb2M7XG4gICAgICAgIGlmICgrK251bURvbmUgPT09IGJhdGNoS2V5cy5sZW5ndGgpIHtcbiAgICAgICAgICBvbkJhdGNoRG9uZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYikge1xuICAgIGlmIChtZXRhZGF0YS5zZXEgIT09IHNlcSkge1xuICAgICAgLy8gc29tZSBvdGhlciBzZXEgaXMgbGF0ZXJcbiAgICAgIHJldHVybiBjYigpO1xuICAgIH1cblxuICAgIGlmIChtZXRhZGF0YS53aW5uaW5nUmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgLy8gdGhpcyBpcyB0aGUgd2lubmluZyBkb2NcbiAgICAgIHJldHVybiBjYihtZXRhZGF0YSwgZG9jKTtcbiAgICB9XG5cbiAgICAvLyBmZXRjaCB3aW5uaW5nIGRvYyBpbiBzZXBhcmF0ZSByZXF1ZXN0XG4gICAgdmFyIGRvY0lkUmV2ID0gZG9jLl9pZCArICc6OicgKyBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgIHZhciByZXEgPSBkb2NJZFJldkluZGV4LmdldChkb2NJZFJldik7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBjYihtZXRhZGF0YSwgZGVjb2RlRG9jKGUudGFyZ2V0LnJlc3VsdCkpO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YShkb2MsIHNlcSwgY2IpIHtcbiAgICBpZiAoZG9jSWRzICYmICFkb2NJZHMuaGFzKGRvYy5faWQpKSB7XG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICB2YXIgbWV0YWRhdGEgPSBkb2NJZHNUb01ldGFkYXRhLmdldChkb2MuX2lkKTtcbiAgICBpZiAobWV0YWRhdGEpIHsgLy8gY2FjaGVkXG4gICAgICByZXR1cm4gb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKTtcbiAgICB9XG4gICAgLy8gbWV0YWRhdGEgbm90IGNhY2hlZCwgaGF2ZSB0byBnbyBmZXRjaCBpdFxuICAgIGRvY1N0b3JlLmdldChkb2MuX2lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShlLnRhcmdldC5yZXN1bHQpO1xuICAgICAgZG9jSWRzVG9NZXRhZGF0YS5zZXQoZG9jLl9pZCwgbWV0YWRhdGEpO1xuICAgICAgb25HZXRNZXRhZGF0YShkb2MsIHNlcSwgbWV0YWRhdGEsIGNiKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge1xuICAgICAgcmVzdWx0czogcmVzdWx0cyxcbiAgICAgIGxhc3Rfc2VxOiBsYXN0U2VxXG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmICghb3B0cy5jb250aW51b3VzICYmIG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIC8vIGNhbm5vdCBndWFyYW50ZWUgdGhhdCBwb3N0UHJvY2Vzc2luZyB3YXMgYWxyZWFkeSBkb25lLFxuICAgICAgLy8gc28gZG8gaXQgYWdhaW5cbiAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMocmVzdWx0cykudGhlbihmaW5pc2gpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICB2YXIgb2JqZWN0U3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFXTtcbiAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICBvYmplY3RTdG9yZXMucHVzaChBVFRBQ0hfU1RPUkUpO1xuICB9XG4gIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBvYmplY3RTdG9yZXMsICdyZWFkb25seScpO1xuICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgcmV0dXJuIG9wdHMuY29tcGxldGUodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKG9wdHMuY29tcGxldGUpO1xuICB0eG4ub25jb21wbGV0ZSA9IG9uVHhuQ29tcGxldGU7XG5cbiAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICBkb2NJZFJldkluZGV4ID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKTtcblxuICB2YXIga2V5UmFuZ2UgPSAob3B0cy5zaW5jZSAmJiAhb3B0cy5kZXNjZW5kaW5nKSA/XG4gICAgSURCS2V5UmFuZ2UubG93ZXJCb3VuZChvcHRzLnNpbmNlLCB0cnVlKSA6IG51bGw7XG5cbiAgcnVuQmF0Y2hlZEN1cnNvcihieVNlcVN0b3JlLCBrZXlSYW5nZSwgb3B0cy5kZXNjZW5kaW5nLCBsaW1pdCwgb25CYXRjaCk7XG59XG5cbnZhciBjYWNoZWREQnMgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbnZhciBibG9iU3VwcG9ydFByb21pc2U7XG52YXIgb3BlblJlcUxpc3QgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuZnVuY3Rpb24gSWRiUG91Y2gob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgZW5xdWV1ZVRhc2soZnVuY3Rpb24gKHRoaXNDYWxsYmFjaykge1xuICAgIGluaXQoYXBpLCBvcHRzLCB0aGlzQ2FsbGJhY2spO1xuICB9LCBjYWxsYmFjaywgYXBpLmNvbnN0cnVjdG9yKTtcbn1cblxuZnVuY3Rpb24gaW5pdChhcGksIG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZTtcblxuICB2YXIgaWRiID0gbnVsbDtcbiAgdmFyIGlkYkdsb2JhbEZhaWx1cmVFcnJvciA9IG51bGw7XG4gIGFwaS5fbWV0YSA9IG51bGw7XG5cbiAgZnVuY3Rpb24gZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykge1xuICAgIHJldHVybiBmdW5jdGlvbiAoZXJyb3IsIHJlc3VsdCkge1xuICAgICAgaWYgKGVycm9yICYmIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgIWVycm9yLnJlYXNvbikge1xuICAgICAgICBpZiAoaWRiR2xvYmFsRmFpbHVyZUVycm9yKSB7XG4gICAgICAgICAgZXJyb3IucmVhc29uID0gaWRiR2xvYmFsRmFpbHVyZUVycm9yO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIGNhbGxiYWNrKGVycm9yLCByZXN1bHQpO1xuICAgIH07XG4gIH1cblxuICAvLyBjYWxsZWQgd2hlbiBjcmVhdGluZyBhIGZyZXNoIG5ldyBkYXRhYmFzZVxuICBmdW5jdGlvbiBjcmVhdGVTY2hlbWEoZGIpIHtcbiAgICB2YXIgZG9jU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShET0NfU1RPUkUsIHtrZXlQYXRoIDogJ2lkJ30pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSwge2F1dG9JbmNyZW1lbnQ6IHRydWV9KVxuICAgICAgLmNyZWF0ZUluZGV4KCdfZG9jX2lkX3JldicsICdfZG9jX2lkX3JldicsIHt1bmlxdWU6IHRydWV9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUsIHtrZXlQYXRoOiAnZGlnZXN0J30pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKE1FVEFfU1RPUkUsIHtrZXlQYXRoOiAnaWQnLCBhdXRvSW5jcmVtZW50OiBmYWxzZX0pO1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUpO1xuXG4gICAgLy8gYWRkZWQgaW4gdjJcbiAgICBkb2NTdG9yZS5jcmVhdGVJbmRleCgnZGVsZXRlZE9yTG9jYWwnLCAnZGVsZXRlZE9yTG9jYWwnLCB7dW5pcXVlIDogZmFsc2V9KTtcblxuICAgIC8vIGFkZGVkIGluIHYzXG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pO1xuXG4gICAgLy8gYWRkZWQgaW4gdjRcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDJcbiAgLy8gdW5mb3J0dW5hdGVseSBcImRlbGV0ZWRPckxvY2FsXCIgaXMgYSBtaXNub21lciBub3cgdGhhdCB3ZSBubyBsb25nZXJcbiAgLy8gc3RvcmUgbG9jYWwgZG9jcyBpbiB0aGUgbWFpbiBkb2Mtc3RvcmUsIGJ1dCB3aGFkZHlhZ29ubmFkb1xuICBmdW5jdGlvbiBhZGREZWxldGVkT3JMb2NhbEluZGV4KHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICBkb2NTdG9yZS5jcmVhdGVJbmRleCgnZGVsZXRlZE9yTG9jYWwnLCAnZGVsZXRlZE9yTG9jYWwnLCB7dW5pcXVlIDogZmFsc2V9KTtcblxuICAgIGRvY1N0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKG1ldGFkYXRhKTtcbiAgICAgICAgbWV0YWRhdGEuZGVsZXRlZE9yTG9jYWwgPSBkZWxldGVkID8gXCIxXCIgOiBcIjBcIjtcbiAgICAgICAgZG9jU3RvcmUucHV0KG1ldGFkYXRhKTtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAzIChwYXJ0IDEpXG4gIGZ1bmN0aW9uIGNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEoZGIpIHtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShMT0NBTF9TVE9SRSwge2tleVBhdGg6ICdfaWQnfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAzIChwYXJ0IDIpXG4gIGZ1bmN0aW9uIG1pZ3JhdGVMb2NhbFN0b3JlKHR4biwgY2IpIHtcbiAgICB2YXIgbG9jYWxTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShMT0NBTF9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG5cbiAgICB2YXIgY3Vyc29yID0gZG9jU3RvcmUub3BlbkN1cnNvcigpO1xuICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKGN1cnNvcikge1xuICAgICAgICB2YXIgbWV0YWRhdGEgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBkb2NJZCA9IG1ldGFkYXRhLmlkO1xuICAgICAgICB2YXIgbG9jYWwgPSBpc0xvY2FsSWQoZG9jSWQpO1xuICAgICAgICB2YXIgcmV2ID0gd2lubmluZ1JldihtZXRhZGF0YSk7XG4gICAgICAgIGlmIChsb2NhbCkge1xuICAgICAgICAgIHZhciBkb2NJZFJldiA9IGRvY0lkICsgXCI6OlwiICsgcmV2O1xuICAgICAgICAgIC8vIHJlbW92ZSBhbGwgc2VxIGVudHJpZXNcbiAgICAgICAgICAvLyBhc3NvY2lhdGVkIHdpdGggdGhpcyBkb2NJZFxuICAgICAgICAgIHZhciBzdGFydCA9IGRvY0lkICsgXCI6OlwiO1xuICAgICAgICAgIHZhciBlbmQgPSBkb2NJZCArIFwiOjp+XCI7XG4gICAgICAgICAgdmFyIGluZGV4ID0gc2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICAgICAgdmFyIHJhbmdlID0gSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgICB2YXIgc2VxQ3Vyc29yID0gaW5kZXgub3BlbkN1cnNvcihyYW5nZSk7XG4gICAgICAgICAgc2VxQ3Vyc29yLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgICAgICBzZXFDdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAoIXNlcUN1cnNvcikge1xuICAgICAgICAgICAgICAvLyBkb25lXG4gICAgICAgICAgICAgIGRvY1N0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdmFyIGRhdGEgPSBzZXFDdXJzb3IudmFsdWU7XG4gICAgICAgICAgICAgIGlmIChkYXRhLl9kb2NfaWRfcmV2ID09PSBkb2NJZFJldikge1xuICAgICAgICAgICAgICAgIGxvY2FsU3RvcmUucHV0KGRhdGEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHNlcVN0b3JlLmRlbGV0ZShzZXFDdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgICAgIHNlcUN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoY2IpIHtcbiAgICAgICAgY2IoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNCAocGFydCAxKVxuICBmdW5jdGlvbiBhZGRBdHRhY2hBbmRTZXFTdG9yZShkYikge1xuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IGRiLmNyZWF0ZU9iamVjdFN0b3JlKEFUVEFDSF9BTkRfU0VRX1NUT1JFLFxuICAgICAge2F1dG9JbmNyZW1lbnQ6IHRydWV9KTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnc2VxJywgJ3NlcScpO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdkaWdlc3RTZXEnLCAnZGlnZXN0U2VxJywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNCAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlQXR0c0FuZFNlcXModHhuLCBjYWxsYmFjaykge1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICAgIHZhciBhdHRBbmRTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSk7XG5cbiAgICAvLyBuZWVkIHRvIGFjdHVhbGx5IHBvcHVsYXRlIHRoZSB0YWJsZS4gdGhpcyBpcyB0aGUgZXhwZW5zaXZlIHBhcnQsXG4gICAgLy8gc28gYXMgYW4gb3B0aW1pemF0aW9uLCBjaGVjayBmaXJzdCB0aGF0IHRoaXMgZGF0YWJhc2UgZXZlblxuICAgIC8vIGNvbnRhaW5zIGF0dGFjaG1lbnRzXG4gICAgdmFyIHJlcSA9IGF0dFN0b3JlLmNvdW50KCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWNvdW50KSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBkb25lXG4gICAgICB9XG5cbiAgICAgIHNlcVN0b3JlLm9wZW5DdXJzb3IoKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjaygpOyAvLyBkb25lXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRvYyA9IGN1cnNvci52YWx1ZTtcbiAgICAgICAgdmFyIHNlcSA9IGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICB2YXIgYXR0cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMgfHwge30pO1xuICAgICAgICB2YXIgZGlnZXN0TWFwID0ge307XG4gICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2MuX2F0dGFjaG1lbnRzW2F0dHNbal1dO1xuICAgICAgICAgIGRpZ2VzdE1hcFthdHQuZGlnZXN0XSA9IHRydWU7IC8vIHVuaXEgZGlnZXN0cywganVzdCBpbiBjYXNlXG4gICAgICAgIH1cbiAgICAgICAgdmFyIGRpZ2VzdHMgPSBPYmplY3Qua2V5cyhkaWdlc3RNYXApO1xuICAgICAgICBmb3IgKGogPSAwOyBqIDwgZGlnZXN0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgIHZhciBkaWdlc3QgPSBkaWdlc3RzW2pdO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgICAgICBzZXE6IHNlcSxcbiAgICAgICAgICAgIGRpZ2VzdFNlcTogZGlnZXN0ICsgJzo6JyArIHNlcVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfTtcbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gNVxuICAvLyBJbnN0ZWFkIG9mIHJlbHlpbmcgb24gb24tdGhlLWZseSBtaWdyYXRpb24gb2YgbWV0YWRhdGEsXG4gIC8vIHRoaXMgYnJpbmdzIHRoZSBkb2Mtc3RvcmUgdG8gaXRzIG1vZGVybiBmb3JtOlxuICAvLyAtIG1ldGFkYXRhLndpbm5pbmdyZXZcbiAgLy8gLSBtZXRhZGF0YS5zZXFcbiAgLy8gLSBzdHJpbmdpZnkgdGhlIG1ldGFkYXRhIHdoZW4gc3RvcmluZyBpdFxuICBmdW5jdGlvbiBtaWdyYXRlTWV0YWRhdGEodHhuKSB7XG5cbiAgICBmdW5jdGlvbiBkZWNvZGVNZXRhZGF0YUNvbXBhdChzdG9yZWRPYmplY3QpIHtcbiAgICAgIGlmICghc3RvcmVkT2JqZWN0LmRhdGEpIHtcbiAgICAgICAgLy8gb2xkIGZvcm1hdCwgd2hlbiB3ZSBkaWRuJ3Qgc3RvcmUgaXQgc3RyaW5naWZpZWRcbiAgICAgICAgc3RvcmVkT2JqZWN0LmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgICAgICAgcmV0dXJuIHN0b3JlZE9iamVjdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkZWNvZGVNZXRhZGF0YShzdG9yZWRPYmplY3QpO1xuICAgIH1cblxuICAgIC8vIGVuc3VyZSB0aGF0IGV2ZXJ5IG1ldGFkYXRhIGhhcyBhIHdpbm5pbmdSZXYgYW5kIHNlcSxcbiAgICAvLyB3aGljaCB3YXMgcHJldmlvdXNseSBjcmVhdGVkIG9uLXRoZS1mbHkgYnV0IGJldHRlciB0byBtaWdyYXRlXG4gICAgdmFyIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgICB2YXIgY3Vyc29yID0gZG9jU3RvcmUub3BlbkN1cnNvcigpO1xuICAgIGN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgIHJldHVybjsgLy8gZG9uZVxuICAgICAgfVxuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGFDb21wYXQoY3Vyc29yLnZhbHVlKTtcblxuICAgICAgbWV0YWRhdGEud2lubmluZ1JldiA9IG1ldGFkYXRhLndpbm5pbmdSZXYgfHxcbiAgICAgICAgd2lubmluZ1JldihtZXRhZGF0YSk7XG5cbiAgICAgIGZ1bmN0aW9uIGZldGNoTWV0YWRhdGFTZXEoKSB7XG4gICAgICAgIC8vIG1ldGFkYXRhLnNlcSB3YXMgYWRkZWQgcG9zdC0zLjIuMCwgc28gaWYgaXQncyBtaXNzaW5nLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIGZldGNoIGl0IG1hbnVhbGx5XG4gICAgICAgIHZhciBzdGFydCA9IG1ldGFkYXRhLmlkICsgJzo6JztcbiAgICAgICAgdmFyIGVuZCA9IG1ldGFkYXRhLmlkICsgJzo6XFx1ZmZmZic7XG4gICAgICAgIHZhciByZXEgPSBieVNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpLm9wZW5DdXJzb3IoXG4gICAgICAgICAgSURCS2V5UmFuZ2UuYm91bmQoc3RhcnQsIGVuZCkpO1xuXG4gICAgICAgIHZhciBtZXRhZGF0YVNlcSA9IDA7XG4gICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLnNlcSA9IG1ldGFkYXRhU2VxO1xuICAgICAgICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGFTZXEoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIHNlcSA9IGN1cnNvci5wcmltYXJ5S2V5O1xuICAgICAgICAgIGlmIChzZXEgPiBtZXRhZGF0YVNlcSkge1xuICAgICAgICAgICAgbWV0YWRhdGFTZXEgPSBzZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhU2VxKCkge1xuICAgICAgICB2YXIgbWV0YWRhdGFUb1N0b3JlID0gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsXG4gICAgICAgICAgbWV0YWRhdGEud2lubmluZ1JldiwgbWV0YWRhdGEuZGVsZXRlZCk7XG5cbiAgICAgICAgdmFyIHJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBpZiAobWV0YWRhdGEuc2VxKSB7XG4gICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICB9XG5cbiAgICAgIGZldGNoTWV0YWRhdGFTZXEoKTtcbiAgICB9O1xuXG4gIH1cblxuICBhcGkuX3JlbW90ZSA9IGZhbHNlO1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2lkYic7XG4gIH07XG5cbiAgYXBpLl9pZCA9IHRvUHJvbWlzZShmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjayhudWxsLCBhcGkuX21ldGEuaW5zdGFuY2VJZCk7XG4gIH0pO1xuXG4gIGFwaS5fYnVsa0RvY3MgPSBmdW5jdGlvbiBpZGJfYnVsa0RvY3MocmVxLCByZXFPcHRzLCBjYWxsYmFjaykge1xuICAgIGlkYkJ1bGtEb2NzKG9wdHMsIHJlcSwgcmVxT3B0cywgYXBpLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICAvLyBGaXJzdCB3ZSBsb29rIHVwIHRoZSBtZXRhZGF0YSBpbiB0aGUgaWRzIGRhdGFiYXNlLCB0aGVuIHdlIGZldGNoIHRoZVxuICAvLyBjdXJyZW50IHJldmlzaW9uKHMpIGZyb20gdGhlIGJ5IHNlcXVlbmNlIHN0b3JlXG4gIGFwaS5fZ2V0ID0gZnVuY3Rpb24gaWRiX2dldChpZCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgZG9jO1xuICAgIHZhciBtZXRhZGF0YTtcbiAgICB2YXIgZXJyO1xuICAgIHZhciB0eG4gPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4bikge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsXG4gICAgICAgIFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgQVRUQUNIX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmaW5pc2goKSB7XG4gICAgICBjYWxsYmFjayhlcnIsIHtkb2M6IGRvYywgbWV0YWRhdGE6IG1ldGFkYXRhLCBjdHg6IHR4bn0pO1xuICAgIH1cblxuICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChpZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIC8vIHdlIGNhbiBkZXRlcm1pbmUgdGhlIHJlc3VsdCBoZXJlIGlmOlxuICAgICAgLy8gMS4gdGhlcmUgaXMgbm8gc3VjaCBkb2N1bWVudFxuICAgICAgLy8gMi4gdGhlIGRvY3VtZW50IGlzIGRlbGV0ZWQgYW5kIHdlIGRvbid0IGFzayBhYm91dCBzcGVjaWZpYyByZXZcbiAgICAgIC8vIFdoZW4gd2UgYXNrIHdpdGggb3B0cy5yZXYgd2UgZXhwZWN0IHRoZSBhbnN3ZXIgdG8gYmUgZWl0aGVyXG4gICAgICAvLyBkb2MgKHBvc3NpYmx5IHdpdGggX2RlbGV0ZWQ9dHJ1ZSkgb3IgbWlzc2luZyBlcnJvclxuICAgICAgaWYgKCFtZXRhZGF0YSkge1xuICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmV2O1xuICAgICAgaWYgKCFvcHRzLnJldikge1xuICAgICAgICByZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIGlmIChkZWxldGVkKSB7XG4gICAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsIFwiZGVsZXRlZFwiKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldiA9IG9wdHMubGF0ZXN0ID8gbGF0ZXN0KG9wdHMucmV2LCBtZXRhZGF0YSkgOiBvcHRzLnJldjtcbiAgICAgIH1cblxuICAgICAgdmFyIG9iamVjdFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyAnOjonICsgcmV2O1xuXG4gICAgICBvYmplY3RTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5nZXQoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICBkb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICBkb2MgPSBkZWNvZGVEb2MoZG9jKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRvYykge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCAnbWlzc2luZycpO1xuICAgICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgICAgfVxuICAgICAgICBmaW5pc2goKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2dldEF0dGFjaG1lbnQgPSBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaElkLCBhdHRhY2htZW50LCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG47XG4gICAgaWYgKG9wdHMuY3R4KSB7XG4gICAgICB0eG4gPSBvcHRzLmN0eDtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsXG4gICAgICAgIFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRSwgQVRUQUNIX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB9XG4gICAgdmFyIGRpZ2VzdCA9IGF0dGFjaG1lbnQuZGlnZXN0O1xuICAgIHZhciB0eXBlID0gYXR0YWNobWVudC5jb250ZW50X3R5cGU7XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGJvZHkgPSBlLnRhcmdldC5yZXN1bHQuYm9keTtcbiAgICAgIHJlYWRCbG9iRGF0YShib2R5LCB0eXBlLCBvcHRzLmJpbmFyeSwgZnVuY3Rpb24gKGJsb2JEYXRhKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGJsb2JEYXRhKTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9pbmZvID0gZnVuY3Rpb24gaWRiX2luZm8oY2FsbGJhY2spIHtcbiAgICB2YXIgdXBkYXRlU2VxO1xuICAgIHZhciBkb2NDb3VudDtcblxuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTUVUQV9TVE9SRSwgQllfU0VRX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICAgIH07XG4gICAgdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSkub3BlbkN1cnNvcihudWxsLCAncHJldicpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdXBkYXRlU2VxID0gY3Vyc29yID8gY3Vyc29yLmtleSA6IDA7XG4gICAgfTtcblxuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge1xuICAgICAgICBkb2NfY291bnQ6IGRvY0NvdW50LFxuICAgICAgICB1cGRhdGVfc2VxOiB1cGRhdGVTZXEsXG4gICAgICAgIC8vIGZvciBkZWJ1Z2dpbmdcbiAgICAgICAgaWRiX2F0dGFjaG1lbnRfZm9ybWF0OiAoYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2JpbmFyeScgOiAnYmFzZTY0JylcbiAgICAgIH0pO1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9hbGxEb2NzID0gZnVuY3Rpb24gaWRiX2FsbERvY3Mob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgZW5yaWNoQ2FsbGJhY2tFcnJvcihjYWxsYmFjaykpO1xuICB9O1xuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIGlkYkNoYW5nZXMob3B0cykge1xuICAgIHJldHVybiBjaGFuZ2VzKG9wdHMsIGFwaSwgZGJOYW1lLCBpZGIpO1xuICB9O1xuXG4gIGFwaS5fY2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICAvLyBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0luZGV4ZWREQi9JREJEYXRhYmFzZSNjbG9zZVxuICAgIC8vIFwiUmV0dXJucyBpbW1lZGlhdGVseSBhbmQgY2xvc2VzIHRoZSBjb25uZWN0aW9uIGluIGEgc2VwYXJhdGUgdGhyZWFkLi4uXCJcbiAgICBpZGIuY2xvc2UoKTtcbiAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2dldFJldmlzaW9uVHJlZSA9IGZ1bmN0aW9uIChkb2NJZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0RPQ19TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB2YXIgcmVxID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkuZ2V0KGRvY0lkKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgZG9jID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZG9jLnJldl90cmVlKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyByZXZpc2lvbnMgb2YgZG9jdW1lbnQgZG9jSWRcbiAgLy8gd2hpY2ggYXJlIGxpc3RlZCBpbiByZXZzIGFuZCBzZXRzIHRoaXMgZG9jdW1lbnRcbiAgLy8gcmV2aXNpb24gdG8gdG8gcmV2X3RyZWVcbiAgYXBpLl9kb0NvbXBhY3Rpb24gPSBmdW5jdGlvbiAoZG9jSWQsIHJldnMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHN0b3JlcyA9IFtcbiAgICAgIERPQ19TVE9SRSxcbiAgICAgIEJZX1NFUV9TVE9SRSxcbiAgICAgIEFUVEFDSF9TVE9SRSxcbiAgICAgIEFUVEFDSF9BTkRfU0VRX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eG4gPSB0eG5SZXN1bHQudHhuO1xuXG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG5cbiAgICBkb2NTdG9yZS5nZXQoZG9jSWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICB0cmF2ZXJzZVJldlRyZWUobWV0YWRhdGEucmV2X3RyZWUsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgICAgICB2YXIgcmV2ID0gcG9zICsgJy0nICsgcmV2SGFzaDtcbiAgICAgICAgaWYgKHJldnMuaW5kZXhPZihyZXYpICE9PSAtMSkge1xuICAgICAgICAgIG9wdHMuc3RhdHVzID0gJ21pc3NpbmcnO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pO1xuICAgICAgdmFyIHdpbm5pbmdSZXYkJDEgPSBtZXRhZGF0YS53aW5uaW5nUmV2O1xuICAgICAgdmFyIGRlbGV0ZWQgPSBtZXRhZGF0YS5kZWxldGVkO1xuICAgICAgdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSkucHV0KFxuICAgICAgICBlbmNvZGVNZXRhZGF0YShtZXRhZGF0YSwgd2lubmluZ1JldiQkMSwgZGVsZXRlZCkpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH07XG4gIH07XG5cblxuICBhcGkuX2dldExvY2FsID0gZnVuY3Rpb24gKGlkLCBjYWxsYmFjaykge1xuICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICB2YXIgcmVxID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBkb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWRvYykge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZGVsZXRlIGRvY1snX2RvY19pZF9yZXYnXTsgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgZG9jKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fcHV0TG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBkZWxldGUgZG9jLl9yZXZpc2lvbnM7IC8vIGlnbm9yZSB0aGlzLCB0cnVzdCB0aGUgcmV2XG4gICAgdmFyIG9sZFJldiA9IGRvYy5fcmV2O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgaWYgKCFvbGRSZXYpIHtcbiAgICAgIGRvYy5fcmV2ID0gJzAtMSc7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fcmV2ID0gJzAtJyArIChwYXJzZUludChvbGRSZXYuc3BsaXQoJy0nKVsxXSwgMTApICsgMSk7XG4gICAgfVxuXG4gICAgdmFyIHR4ID0gb3B0cy5jdHg7XG4gICAgdmFyIHJldDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgICB0eC5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG5cbiAgICB2YXIgb1N0b3JlID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciByZXE7XG4gICAgaWYgKG9sZFJldikge1xuICAgICAgcmVxID0gb1N0b3JlLmdldChpZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIG9sZERvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFvbGREb2MgfHwgb2xkRG9jLl9yZXYgIT09IG9sZFJldikge1xuICAgICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICB9IGVsc2UgeyAvLyB1cGRhdGVcbiAgICAgICAgICB2YXIgcmVxID0gb1N0b3JlLnB1dChkb2MpO1xuICAgICAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH0gZWxzZSB7IC8vIG5ldyBkb2NcbiAgICAgIHJlcSA9IG9TdG9yZS5hZGQoZG9jKTtcbiAgICAgIHJlcS5vbmVycm9yID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgLy8gY29uc3RyYWludCBlcnJvciwgYWxyZWFkeSBleGlzdHNcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gb25lcnJvclxuICAgICAgfTtcbiAgICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmV0KTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gIH07XG5cbiAgYXBpLl9yZW1vdmVMb2NhbCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIGlmICghdHgpIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLCBbTE9DQUxfU1RPUkVdLCAncmVhZHdyaXRlJyk7XG4gICAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgICAgfVxuICAgICAgdHggPSB0eG5SZXN1bHQudHhuO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICAgIHZhciByZXQ7XG4gICAgdmFyIGlkID0gZG9jLl9pZDtcbiAgICB2YXIgb1N0b3JlID0gdHgub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciByZXEgPSBvU3RvcmUuZ2V0KGlkKTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIG9sZERvYyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBkb2MuX3Jldikge1xuICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0RPQykpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb1N0b3JlLmRlbGV0ZShpZCk7XG4gICAgICAgIHJldCA9IHtvazogdHJ1ZSwgaWQ6IGlkLCByZXY6ICcwLTAnfTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGNoYW5nZXNIYW5kbGVyLnJlbW92ZUFsbExpc3RlbmVycyhkYk5hbWUpO1xuXG4gICAgLy9DbG9zZSBvcGVuIHJlcXVlc3QgZm9yIFwiZGJOYW1lXCIgZGF0YWJhc2UgdG8gZml4IGllIGRlbGF5LlxuICAgIHZhciBvcGVuUmVxID0gb3BlblJlcUxpc3QuZ2V0KGRiTmFtZSk7XG4gICAgaWYgKG9wZW5SZXEgJiYgb3BlblJlcS5yZXN1bHQpIHtcbiAgICAgIG9wZW5SZXEucmVzdWx0LmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfVxuICAgIHZhciByZXEgPSBpbmRleGVkREIuZGVsZXRlRGF0YWJhc2UoZGJOYW1lKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAvL1JlbW92ZSBvcGVuIHJlcXVlc3QgZnJvbSB0aGUgbGlzdC5cbiAgICAgIG9wZW5SZXFMaXN0LmRlbGV0ZShkYk5hbWUpO1xuICAgICAgaWYgKGhhc0xvY2FsU3RvcmFnZSgpICYmIChkYk5hbWUgaW4gbG9jYWxTdG9yYWdlKSkge1xuICAgICAgICBkZWxldGUgbG9jYWxTdG9yYWdlW2RiTmFtZV07XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCB7ICdvayc6IHRydWUgfSk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICB9O1xuXG4gIHZhciBjYWNoZWQgPSBjYWNoZWREQnMuZ2V0KGRiTmFtZSk7XG5cbiAgaWYgKGNhY2hlZCkge1xuICAgIGlkYiA9IGNhY2hlZC5pZGI7XG4gICAgYXBpLl9tZXRhID0gY2FjaGVkLmdsb2JhbDtcbiAgICByZXR1cm4gaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfSk7XG4gIH1cblxuICB2YXIgcmVxID0gaW5kZXhlZERCLm9wZW4oZGJOYW1lLCBBREFQVEVSX1ZFUlNJT04pO1xuICBvcGVuUmVxTGlzdC5zZXQoZGJOYW1lLCByZXEpO1xuXG4gIHJlcS5vbnVwZ3JhZGVuZWVkZWQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBkYiA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgMSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVNjaGVtYShkYik7IC8vIG5ldyBkYiwgaW5pdGlhbCBzY2hlbWFcbiAgICB9XG4gICAgLy8gZG8gbWlncmF0aW9uc1xuXG4gICAgdmFyIHR4biA9IGUuY3VycmVudFRhcmdldC50cmFuc2FjdGlvbjtcbiAgICAvLyB0aGVzZSBtaWdyYXRpb25zIGhhdmUgdG8gYmUgZG9uZSBpbiB0aGlzIGZ1bmN0aW9uLCBiZWZvcmVcbiAgICAvLyBjb250cm9sIGlzIHJldHVybmVkIHRvIHRoZSBldmVudCBsb29wLCBiZWNhdXNlIEluZGV4ZWREQlxuXG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDMpIHtcbiAgICAgIGNyZWF0ZUxvY2FsU3RvcmVTY2hlbWEoZGIpOyAvLyB2MiAtPiB2M1xuICAgIH1cbiAgICBpZiAoZS5vbGRWZXJzaW9uIDwgNCkge1xuICAgICAgYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpOyAvLyB2MyAtPiB2NFxuICAgIH1cblxuICAgIHZhciBtaWdyYXRpb25zID0gW1xuICAgICAgYWRkRGVsZXRlZE9yTG9jYWxJbmRleCwgLy8gdjEgLT4gdjJcbiAgICAgIG1pZ3JhdGVMb2NhbFN0b3JlLCAgICAgIC8vIHYyIC0+IHYzXG4gICAgICBtaWdyYXRlQXR0c0FuZFNlcXMsICAgICAvLyB2MyAtPiB2NFxuICAgICAgbWlncmF0ZU1ldGFkYXRhICAgICAgICAgLy8gdjQgLT4gdjVcbiAgICBdO1xuXG4gICAgdmFyIGkgPSBlLm9sZFZlcnNpb247XG5cbiAgICBmdW5jdGlvbiBuZXh0KCkge1xuICAgICAgdmFyIG1pZ3JhdGlvbiA9IG1pZ3JhdGlvbnNbaSAtIDFdO1xuICAgICAgaSsrO1xuICAgICAgaWYgKG1pZ3JhdGlvbikge1xuICAgICAgICBtaWdyYXRpb24odHhuLCBuZXh0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBuZXh0KCk7XG4gIH07XG5cbiAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG5cbiAgICBpZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG5cbiAgICBpZGIub252ZXJzaW9uY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWRiLmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfTtcblxuICAgIGlkYi5vbmFib3J0ID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdEYXRhYmFzZSBoYXMgYSBnbG9iYWwgZmFpbHVyZScsIGUudGFyZ2V0LmVycm9yKTtcbiAgICAgIGlkYkdsb2JhbEZhaWx1cmVFcnJvciA9IGUudGFyZ2V0LmVycm9yO1xuICAgICAgaWRiLmNsb3NlKCk7XG4gICAgICBjYWNoZWREQnMuZGVsZXRlKGRiTmFtZSk7XG4gICAgfTtcblxuICAgIC8vIERvIGEgZmV3IHNldHVwIG9wZXJhdGlvbnMgKGluIHBhcmFsbGVsIGFzIG11Y2ggYXMgcG9zc2libGUpOlxuICAgIC8vIDEuIEZldGNoIG1ldGEgZG9jXG4gICAgLy8gMi4gQ2hlY2sgYmxvYiBzdXBwb3J0XG4gICAgLy8gMy4gQ2FsY3VsYXRlIGRvY0NvdW50XG4gICAgLy8gNC4gR2VuZXJhdGUgYW4gaW5zdGFuY2VJZCBpZiBuZWNlc3NhcnlcbiAgICAvLyA1LiBTdG9yZSBkb2NDb3VudCBhbmQgaW5zdGFuY2VJZCBvbiBtZXRhIGRvY1xuXG4gICAgdmFyIHR4biA9IGlkYi50cmFuc2FjdGlvbihbXG4gICAgICBNRVRBX1NUT1JFLFxuICAgICAgREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSxcbiAgICAgIERPQ19TVE9SRVxuICAgIF0sICdyZWFkd3JpdGUnKTtcblxuICAgIHZhciBzdG9yZWRNZXRhRG9jID0gZmFsc2U7XG4gICAgdmFyIG1ldGFEb2M7XG4gICAgdmFyIGRvY0NvdW50O1xuICAgIHZhciBibG9iU3VwcG9ydDtcbiAgICB2YXIgaW5zdGFuY2VJZDtcblxuICAgIGZ1bmN0aW9uIGNvbXBsZXRlU2V0dXAoKSB7XG4gICAgICBpZiAodHlwZW9mIGJsb2JTdXBwb3J0ID09PSAndW5kZWZpbmVkJyB8fCAhc3RvcmVkTWV0YURvYykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBhcGkuX21ldGEgPSB7XG4gICAgICAgIG5hbWU6IGRiTmFtZSxcbiAgICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2VJZCxcbiAgICAgICAgYmxvYlN1cHBvcnQ6IGJsb2JTdXBwb3J0XG4gICAgICB9O1xuXG4gICAgICBjYWNoZWREQnMuc2V0KGRiTmFtZSwge1xuICAgICAgICBpZGI6IGlkYixcbiAgICAgICAgZ2xvYmFsOiBhcGkuX21ldGFcbiAgICAgIH0pO1xuICAgICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBzdG9yZU1ldGFEb2NJZlJlYWR5KCkge1xuICAgICAgaWYgKHR5cGVvZiBkb2NDb3VudCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIG1ldGFEb2MgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBpbnN0YW5jZUtleSA9IGRiTmFtZSArICdfaWQnO1xuICAgICAgaWYgKGluc3RhbmNlS2V5IGluIG1ldGFEb2MpIHtcbiAgICAgICAgaW5zdGFuY2VJZCA9IG1ldGFEb2NbaW5zdGFuY2VLZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWV0YURvY1tpbnN0YW5jZUtleV0gPSBpbnN0YW5jZUlkID0gdXVpZCgpO1xuICAgICAgfVxuICAgICAgbWV0YURvYy5kb2NDb3VudCA9IGRvY0NvdW50O1xuICAgICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLnB1dChtZXRhRG9jKTtcbiAgICB9XG5cbiAgICAvL1xuICAgIC8vIGZldGNoIG9yIGdlbmVyYXRlIHRoZSBpbnN0YW5jZUlkXG4gICAgLy9cbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhRG9jID0gZS50YXJnZXQucmVzdWx0IHx8IHsgaWQ6IE1FVEFfU1RPUkUgfTtcbiAgICAgIHN0b3JlTWV0YURvY0lmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgLy9cbiAgICAvLyBjb3VudERvY3NcbiAgICAvL1xuICAgIGNvdW50RG9jcyh0eG4sIGZ1bmN0aW9uIChjb3VudCkge1xuICAgICAgZG9jQ291bnQgPSBjb3VudDtcbiAgICAgIHN0b3JlTWV0YURvY0lmUmVhZHkoKTtcbiAgICB9KTtcblxuICAgIC8vXG4gICAgLy8gY2hlY2sgYmxvYiBzdXBwb3J0XG4gICAgLy9cbiAgICBpZiAoIWJsb2JTdXBwb3J0UHJvbWlzZSkge1xuICAgICAgLy8gbWFrZSBzdXJlIGJsb2Igc3VwcG9ydCBpcyBvbmx5IGNoZWNrZWQgb25jZVxuICAgICAgYmxvYlN1cHBvcnRQcm9taXNlID0gY2hlY2tCbG9iU3VwcG9ydCh0eG4pO1xuICAgIH1cblxuICAgIGJsb2JTdXBwb3J0UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIGJsb2JTdXBwb3J0ID0gdmFsO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH0pO1xuXG4gICAgLy8gb25seSB3aGVuIHRoZSBtZXRhZGF0YSBwdXQgdHJhbnNhY3Rpb24gaGFzIGNvbXBsZXRlZCxcbiAgICAvLyBjb25zaWRlciB0aGUgc2V0dXAgZG9uZVxuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgc3RvcmVkTWV0YURvYyA9IHRydWU7XG4gICAgICBjb21wbGV0ZVNldHVwKCk7XG4gICAgfTtcbiAgICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIG1zZyA9IGUudGFyZ2V0LmVycm9yICYmIGUudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG5cbiAgICBpZiAoIW1zZykge1xuICAgICAgbXNnID0gJ0ZhaWxlZCB0byBvcGVuIGluZGV4ZWREQiwgYXJlIHlvdSBpbiBwcml2YXRlIGJyb3dzaW5nIG1vZGU/JztcbiAgICB9IGVsc2UgaWYgKG1zZy5pbmRleE9mKFwic3RvcmVkIGRhdGFiYXNlIGlzIGEgaGlnaGVyIHZlcnNpb25cIikgIT09IC0xKSB7XG4gICAgICBtc2cgPSBuZXcgRXJyb3IoJ1RoaXMgREIgd2FzIGNyZWF0ZWQgd2l0aCB0aGUgbmV3ZXIgXCJpbmRleGVkZGJcIiBhZGFwdGVyLCBidXQgeW91IGFyZSB0cnlpbmcgdG8gb3BlbiBpdCB3aXRoIHRoZSBvbGRlciBcImlkYlwiIGFkYXB0ZXInKTtcbiAgICB9XG5cbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBtc2cpO1xuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbXNnKSk7XG4gIH07XG59XG5cbklkYlBvdWNoLnZhbGlkID0gZnVuY3Rpb24gKCkge1xuICAvLyBGb2xsb3dpbmcgIzcwODUgYnVnZ3kgaWRiIHZlcnNpb25zICh0eXBpY2FsbHkgU2FmYXJpIDwgMTAuMSkgYXJlXG4gIC8vIGNvbnNpZGVyZWQgdmFsaWQuXG5cbiAgLy8gT24gRmlyZWZveCBTZWN1cml0eUVycm9yIGlzIHRocm93biB3aGlsZSByZWZlcmVuY2luZyBpbmRleGVkREIgaWYgY29va2llc1xuICAvLyBhcmUgbm90IGFsbG93ZWQuIGB0eXBlb2YgaW5kZXhlZERCYCBhbHNvIHRyaWdnZXJzIHRoZSBlcnJvci5cbiAgdHJ5IHtcbiAgICAvLyBzb21lIG91dGRhdGVkIGltcGxlbWVudGF0aW9ucyBvZiBJREIgdGhhdCBhcHBlYXIgb24gU2Ftc3VuZ1xuICAgIC8vIGFuZCBIVEMgQW5kcm9pZCBkZXZpY2VzIDw0LjQgYXJlIG1pc3NpbmcgSURCS2V5UmFuZ2VcbiAgICByZXR1cm4gdHlwZW9mIGluZGV4ZWREQiAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIElEQktleVJhbmdlICE9PSAndW5kZWZpbmVkJztcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufTtcblxuZnVuY3Rpb24gSURCUG91Y2ggKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdpZGInLCBJZGJQb3VjaCwgdHJ1ZSk7XG59XG5cbi8vIGRlYWQgc2ltcGxlIHByb21pc2UgcG9vbCwgaW5zcGlyZWQgYnkgaHR0cHM6Ly9naXRodWIuY29tL3RpbWRwL2VzNi1wcm9taXNlLXBvb2xcbi8vIGJ1dCBtdWNoIHNtYWxsZXIgaW4gY29kZSBzaXplLiBsaW1pdHMgdGhlIG51bWJlciBvZiBjb25jdXJyZW50IHByb21pc2VzIHRoYXQgYXJlIGV4ZWN1dGVkXG5cblxuZnVuY3Rpb24gcG9vbChwcm9taXNlRmFjdG9yaWVzLCBsaW1pdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciBydW5uaW5nID0gMDtcbiAgICB2YXIgY3VycmVudCA9IDA7XG4gICAgdmFyIGRvbmUgPSAwO1xuICAgIHZhciBsZW4gPSBwcm9taXNlRmFjdG9yaWVzLmxlbmd0aDtcbiAgICB2YXIgZXJyO1xuXG4gICAgZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgIHJ1bm5pbmcrKztcbiAgICAgIHByb21pc2VGYWN0b3JpZXNbY3VycmVudCsrXSgpLnRoZW4ob25TdWNjZXNzLCBvbkVycm9yKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkb05leHQoKSB7XG4gICAgICBpZiAoKytkb25lID09PSBsZW4pIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJ1bk5leHRCYXRjaCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uU3VjY2VzcygpIHtcbiAgICAgIHJ1bm5pbmctLTtcbiAgICAgIGRvTmV4dCgpO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZnVuY3Rpb24gb25FcnJvcih0aGlzRXJyKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBlcnIgPSBlcnIgfHwgdGhpc0VycjtcbiAgICAgIGRvTmV4dCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJ1bk5leHRCYXRjaCgpIHtcbiAgICAgIHdoaWxlIChydW5uaW5nIDwgbGltaXQgJiYgY3VycmVudCA8IGxlbikge1xuICAgICAgICBydW5OZXh0KCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgcnVuTmV4dEJhdGNoKCk7XG4gIH0pO1xufVxuXG52YXIgQ0hBTkdFU19CQVRDSF9TSVpFID0gMjU7XG52YXIgTUFYX1NJTVVMVEFORU9VU19SRVZTID0gNTA7XG52YXIgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiA9IDUwMDA7XG52YXIgREVGQVVMVF9IRUFSVEJFQVQgPSAxMDAwMDtcblxudmFyIHN1cHBvcnRzQnVsa0dldE1hcCA9IHt9O1xuXG5mdW5jdGlvbiByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyb3cpIHtcbiAgdmFyIGRvYyA9IHJvdy5kb2MgfHwgcm93Lm9rO1xuICB2YXIgYXR0cyA9IGRvYyAmJiBkb2MuX2F0dGFjaG1lbnRzO1xuICBpZiAoIWF0dHMpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgYXR0LmRhdGEgPSBiNjRUb0JsdWZmZXIoYXR0LmRhdGEsIGF0dC5jb250ZW50X3R5cGUpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gZW5jb2RlRG9jSWQoaWQpIHtcbiAgaWYgKC9eX2Rlc2lnbi8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19kZXNpZ24vJyArIGVuY29kZVVSSUNvbXBvbmVudChpZC5zbGljZSg4KSk7XG4gIH1cbiAgaWYgKC9eX2xvY2FsLy50ZXN0KGlkKSkge1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoNykpO1xuICB9XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoaWQpO1xufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzQXR0YWNobWVudHMkMShkb2MpIHtcbiAgaWYgKCFkb2MuX2F0dGFjaG1lbnRzIHx8ICFPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKSkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgIHZhciBhdHRhY2htZW50ID0gZG9jLl9hdHRhY2htZW50c1trZXldO1xuICAgIGlmIChhdHRhY2htZW50LmRhdGEgJiYgdHlwZW9mIGF0dGFjaG1lbnQuZGF0YSAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICBibG9iVG9CYXNlNjQoYXR0YWNobWVudC5kYXRhLCByZXNvbHZlKTtcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHRhY2htZW50LmRhdGEgPSBiNjQ7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pKTtcbn1cblxuZnVuY3Rpb24gaGFzVXJsUHJlZml4KG9wdHMpIHtcbiAgaWYgKCFvcHRzLnByZWZpeCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICB2YXIgcHJvdG9jb2wgPSBwYXJzZVVyaShvcHRzLnByZWZpeCkucHJvdG9jb2w7XG4gIHJldHVybiBwcm90b2NvbCA9PT0gJ2h0dHAnIHx8IHByb3RvY29sID09PSAnaHR0cHMnO1xufVxuXG4vLyBHZXQgYWxsIHRoZSBpbmZvcm1hdGlvbiB5b3UgcG9zc2libHkgY2FuIGFib3V0IHRoZSBVUkkgZ2l2ZW4gYnkgbmFtZSBhbmRcbi8vIHJldHVybiBpdCBhcyBhIHN1aXRhYmxlIG9iamVjdC5cbmZ1bmN0aW9uIGdldEhvc3QobmFtZSwgb3B0cykge1xuICAvLyBlbmNvZGUgZGIgbmFtZSBpZiBvcHRzLnByZWZpeCBpcyBhIHVybCAoIzU1NzQpXG4gIGlmIChoYXNVcmxQcmVmaXgob3B0cykpIHtcbiAgICB2YXIgZGJOYW1lID0gb3B0cy5uYW1lLnN1YnN0cihvcHRzLnByZWZpeC5sZW5ndGgpO1xuICAgIC8vIEVuc3VyZSBwcmVmaXggaGFzIGEgdHJhaWxpbmcgc2xhc2hcbiAgICB2YXIgcHJlZml4ID0gb3B0cy5wcmVmaXgucmVwbGFjZSgvXFwvPyQvLCAnLycpO1xuICAgIG5hbWUgPSBwcmVmaXggKyBlbmNvZGVVUklDb21wb25lbnQoZGJOYW1lKTtcbiAgfVxuXG4gIHZhciB1cmkgPSBwYXJzZVVyaShuYW1lKTtcbiAgaWYgKHVyaS51c2VyIHx8IHVyaS5wYXNzd29yZCkge1xuICAgIHVyaS5hdXRoID0ge3VzZXJuYW1lOiB1cmkudXNlciwgcGFzc3dvcmQ6IHVyaS5wYXNzd29yZH07XG4gIH1cblxuICAvLyBTcGxpdCB0aGUgcGF0aCBwYXJ0IG9mIHRoZSBVUkkgaW50byBwYXJ0cyB1c2luZyAnLycgYXMgdGhlIGRlbGltaXRlclxuICAvLyBhZnRlciByZW1vdmluZyBhbnkgbGVhZGluZyAnLycgYW5kIGFueSB0cmFpbGluZyAnLydcbiAgdmFyIHBhcnRzID0gdXJpLnBhdGgucmVwbGFjZSgvKF5cXC98XFwvJCkvZywgJycpLnNwbGl0KCcvJyk7XG5cbiAgdXJpLmRiID0gcGFydHMucG9wKCk7XG4gIC8vIFByZXZlbnQgZG91YmxlIGVuY29kaW5nIG9mIFVSSSBjb21wb25lbnRcbiAgaWYgKHVyaS5kYi5pbmRleE9mKCclJykgPT09IC0xKSB7XG4gICAgdXJpLmRiID0gZW5jb2RlVVJJQ29tcG9uZW50KHVyaS5kYik7XG4gIH1cblxuICB1cmkucGF0aCA9IHBhcnRzLmpvaW4oJy8nKTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlbkRCVXJsKG9wdHMsIHBhdGgpIHtcbiAgcmV0dXJuIGdlblVybChvcHRzLCBvcHRzLmRiICsgJy8nICsgcGF0aCk7XG59XG5cbi8vIEdlbmVyYXRlIGEgVVJMIHdpdGggdGhlIGhvc3QgZGF0YSBnaXZlbiBieSBvcHRzIGFuZCB0aGUgZ2l2ZW4gcGF0aFxuZnVuY3Rpb24gZ2VuVXJsKG9wdHMsIHBhdGgpIHtcbiAgLy8gSWYgdGhlIGhvc3QgYWxyZWFkeSBoYXMgYSBwYXRoLCB0aGVuIHdlIG5lZWQgdG8gaGF2ZSBhIHBhdGggZGVsaW1pdGVyXG4gIC8vIE90aGVyd2lzZSwgdGhlIHBhdGggZGVsaW1pdGVyIGlzIHRoZSBlbXB0eSBzdHJpbmdcbiAgdmFyIHBhdGhEZWwgPSAhb3B0cy5wYXRoID8gJycgOiAnLyc7XG5cbiAgLy8gSWYgdGhlIGhvc3QgYWxyZWFkeSBoYXMgYSBwYXRoLCB0aGVuIHdlIG5lZWQgdG8gaGF2ZSBhIHBhdGggZGVsaW1pdGVyXG4gIC8vIE90aGVyd2lzZSwgdGhlIHBhdGggZGVsaW1pdGVyIGlzIHRoZSBlbXB0eSBzdHJpbmdcbiAgcmV0dXJuIG9wdHMucHJvdG9jb2wgKyAnOi8vJyArIG9wdHMuaG9zdCArXG4gICAgICAgICAob3B0cy5wb3J0ID8gKCc6JyArIG9wdHMucG9ydCkgOiAnJykgK1xuICAgICAgICAgJy8nICsgb3B0cy5wYXRoICsgcGF0aERlbCArIHBhdGg7XG59XG5cbmZ1bmN0aW9uIHBhcmFtc1RvU3RyKHBhcmFtcykge1xuICByZXR1cm4gJz8nICsgT2JqZWN0LmtleXMocGFyYW1zKS5tYXAoZnVuY3Rpb24gKGspIHtcbiAgICByZXR1cm4gayArICc9JyArIGVuY29kZVVSSUNvbXBvbmVudChwYXJhbXNba10pO1xuICB9KS5qb2luKCcmJyk7XG59XG5cbmZ1bmN0aW9uIHNob3VsZENhY2hlQnVzdChvcHRzKSB7XG4gIHZhciB1YSA9ICh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50KSA/XG4gICAgICBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkgOiAnJztcbiAgdmFyIGlzSUUgPSB1YS5pbmRleE9mKCdtc2llJykgIT09IC0xO1xuICB2YXIgaXNUcmlkZW50ID0gdWEuaW5kZXhPZigndHJpZGVudCcpICE9PSAtMTtcbiAgdmFyIGlzRWRnZSA9IHVhLmluZGV4T2YoJ2VkZ2UnKSAhPT0gLTE7XG4gIHZhciBpc0dFVCA9ICEoJ21ldGhvZCcgaW4gb3B0cykgfHwgb3B0cy5tZXRob2QgPT09ICdHRVQnO1xuICByZXR1cm4gKGlzSUUgfHwgaXNUcmlkZW50IHx8IGlzRWRnZSkgJiYgaXNHRVQ7XG59XG5cbi8vIEltcGxlbWVudHMgdGhlIFBvdWNoREIgQVBJIGZvciBkZWFsaW5nIHdpdGggQ291Y2hEQiBpbnN0YW5jZXMgb3ZlciBIVFRQXG5mdW5jdGlvbiBIdHRwUG91Y2gob3B0cywgY2FsbGJhY2spIHtcblxuICAvLyBUaGUgZnVuY3Rpb25zIHRoYXQgd2lsbCBiZSBwdWJsaWNseSBhdmFpbGFibGUgZm9yIEh0dHBQb3VjaFxuICB2YXIgYXBpID0gdGhpcztcblxuICB2YXIgaG9zdCA9IGdldEhvc3Qob3B0cy5uYW1lLCBvcHRzKTtcbiAgdmFyIGRiVXJsID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuXG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICB2YXIgb3VyRmV0Y2ggPSBmdW5jdGlvbiAodXJsLCBvcHRpb25zKSB7XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIG9wdGlvbnMuY3JlZGVudGlhbHMgPSAnaW5jbHVkZSc7XG5cbiAgICBpZiAob3B0cy5hdXRoIHx8IGhvc3QuYXV0aCkge1xuICAgICAgdmFyIG5BdXRoID0gb3B0cy5hdXRoIHx8IGhvc3QuYXV0aDtcbiAgICAgIHZhciBzdHIgPSBuQXV0aC51c2VybmFtZSArICc6JyArIG5BdXRoLnBhc3N3b3JkO1xuICAgICAgdmFyIHRva2VuID0gdGhpc0J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KHN0cikpKTtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCAnQmFzaWMgJyArIHRva2VuKTtcbiAgICB9XG5cbiAgICB2YXIgaGVhZGVycyA9IG9wdHMuaGVhZGVycyB8fCB7fTtcbiAgICBPYmplY3Qua2V5cyhoZWFkZXJzKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5hcHBlbmQoa2V5LCBoZWFkZXJzW2tleV0pO1xuICAgIH0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNob3VsZENhY2hlQnVzdChvcHRpb25zKSkge1xuICAgICAgdXJsICs9ICh1cmwuaW5kZXhPZignPycpID09PSAtMSA/ICc/JyA6ICcmJykgKyAnX25vbmNlPScgKyBEYXRlLm5vdygpO1xuICAgIH1cblxuICAgIHZhciBmZXRjaEZ1biA9IG9wdHMuZmV0Y2ggfHwgZiQxO1xuICAgIHJldHVybiBmZXRjaEZ1bih1cmwsIG9wdGlvbnMpO1xuICB9O1xuXG4gIGZ1bmN0aW9uIGFkYXB0ZXJGdW4kJDEobmFtZSwgZnVuKSB7XG4gICAgcmV0dXJuIGFkYXB0ZXJGdW4obmFtZSwgZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGNhbGxiYWNrID0gYXJncy5wb3AoKTtcbiAgICAgICAgY2FsbGJhY2soZSk7XG4gICAgICB9KTtcbiAgICB9KSkuYmluZChhcGkpO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hKU09OKHVybCwgb3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgIHZhciByZXN1bHQgPSB7fTtcblxuICAgIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgIG9wdGlvbnMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycyB8fCBuZXcgaCgpO1xuXG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMuZ2V0KCdDb250ZW50LVR5cGUnKSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB9XG4gICAgaWYgKCFvcHRpb25zLmhlYWRlcnMuZ2V0KCdBY2NlcHQnKSkge1xuICAgICAgb3B0aW9ucy5oZWFkZXJzLnNldCgnQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcbiAgICB9XG5cbiAgICByZXR1cm4gb3VyRmV0Y2godXJsLCBvcHRpb25zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmVzdWx0Lm9rID0gcmVzcG9uc2Uub2s7XG4gICAgICByZXN1bHQuc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChqc29uKSB7XG4gICAgICByZXN1bHQuZGF0YSA9IGpzb247XG4gICAgICBpZiAoIXJlc3VsdC5vaykge1xuICAgICAgICByZXN1bHQuZGF0YS5zdGF0dXMgPSByZXN1bHQuc3RhdHVzO1xuICAgICAgICB2YXIgZXJyID0gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQuZGF0YSk7XG4gICAgICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShyZXN1bHQuZGF0YSkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGEgPSByZXN1bHQuZGF0YS5tYXAoZnVuY3Rpb24gKHYpIHtcbiAgICAgICAgICBpZiAodi5lcnJvciB8fCB2Lm1pc3NpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHYpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHZhciBzZXR1cFByb21pc2U7XG5cbiAgZnVuY3Rpb24gc2V0dXAoKSB7XG4gICAgaWYgKG9wdHMuc2tpcF9zZXR1cCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cblxuICAgIC8vIElmIHRoZXJlIGlzIGEgc2V0dXAgaW4gcHJvY2VzcyBvciBwcmV2aW91cyBzdWNjZXNzZnVsIHNldHVwXG4gICAgLy8gZG9uZSB0aGVuIHdlIHdpbGwgdXNlIHRoYXRcbiAgICAvLyBJZiBwcmV2aW91cyBzZXR1cHMgaGF2ZSBiZWVuIHJlamVjdGVkIHdlIHdpbGwgdHJ5IGFnYWluXG4gICAgaWYgKHNldHVwUHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHNldHVwUHJvbWlzZTtcbiAgICB9XG5cbiAgICBzZXR1cFByb21pc2UgPSBmZXRjaEpTT04oZGJVcmwpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyAmJiBlcnIuc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgLy8gRG9lc250IGV4aXN0LCBjcmVhdGUgaXRcbiAgICAgICAgZXhwbGFpbkVycm9yKDQwNCwgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSBleGlzdHMuJyk7XG4gICAgICAgIHJldHVybiBmZXRjaEpTT04oZGJVcmwsIHttZXRob2Q6ICdQVVQnfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICAgIH1cbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvLyBJZiB3ZSB0cnkgdG8gY3JlYXRlIGEgZGF0YWJhc2UgdGhhdCBhbHJlYWR5IGV4aXN0cywgc2tpcHBlZCBpblxuICAgICAgLy8gaXN0YW5idWwgc2luY2UgaXRzIGNhdGNoaW5nIGEgcmFjZSBjb25kaXRpb24uXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIgJiYgZXJyLnN0YXR1cyAmJiBlcnIuc3RhdHVzID09PSA0MTIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoZXJyKTtcbiAgICB9KTtcblxuICAgIHNldHVwUHJvbWlzZS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICBzZXR1cFByb21pc2UgPSBudWxsO1xuICAgIH0pO1xuXG4gICAgcmV0dXJuIHNldHVwUHJvbWlzZTtcbiAgfVxuXG4gIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpKTtcbiAgfSk7XG5cbiAgYXBpLl9yZW1vdGUgPSB0cnVlO1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGFwaS50eXBlID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAnaHR0cCc7XG4gIH07XG5cbiAgYXBpLmlkID0gYWRhcHRlckZ1biQkMSgnaWQnLCBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBvdXJGZXRjaChnZW5VcmwoaG9zdCwgJycpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAvLyBCYWQgcmVzcG9uc2Ugb3IgbWlzc2luZyBgdXVpZGAgc2hvdWxkIG5vdCBwcmV2ZW50IElEIGdlbmVyYXRpb24uXG4gICAgICB2YXIgdXVpZCQkMSA9IChyZXN1bHQgJiYgcmVzdWx0LnV1aWQpID9cbiAgICAgICAgICAocmVzdWx0LnV1aWQgKyBob3N0LmRiKSA6IGdlbkRCVXJsKGhvc3QsICcnKTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHV1aWQkJDEpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBTZW5kcyBhIFBPU1QgcmVxdWVzdCB0byB0aGUgaG9zdCBjYWxsaW5nIHRoZSBjb3VjaGRiIF9jb21wYWN0IGZ1bmN0aW9uXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuY29tcGFjdCA9IGFkYXB0ZXJGdW4kJDEoJ2NvbXBhY3QnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfY29tcGFjdCcpLCB7bWV0aG9kOiAnUE9TVCd9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGZ1bmN0aW9uIHBpbmcoKSB7XG4gICAgICAgIGFwaS5pbmZvKGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIC8vIENvdWNoREIgbWF5IHNlbmQgYSBcImNvbXBhY3RfcnVubmluZzp0cnVlXCIgaWYgaXQnc1xuICAgICAgICAgIC8vIGFscmVhZHkgY29tcGFjdGluZy4gUG91Y2hEQiBTZXJ2ZXIgZG9lc24ndC5cbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICAgIGlmIChyZXMgJiYgIXJlcy5jb21wYWN0X3J1bm5pbmcpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KHBpbmcsIG9wdHMuaW50ZXJ2YWwgfHwgMjAwKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgLy8gUGluZyB0aGUgaHR0cCBpZiBpdCdzIGZpbmlzaGVkIGNvbXBhY3Rpb25cbiAgICAgIHBpbmcoKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgYXBpLmJ1bGtHZXQgPSBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gZG9CdWxrR2V0KGNiKSB7XG4gICAgICB2YXIgcGFyYW1zID0ge307XG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5sYXRlc3QpIHtcbiAgICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgICB9XG4gICAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2dldCcgKyBwYXJhbXNUb1N0cihwYXJhbXMpKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyBkb2NzOiBvcHRzLmRvY3N9KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgcmVzdWx0LmRhdGEucmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgIHJlcy5kb2NzLmZvckVhY2gocmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNiKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0pLmNhdGNoKGNiKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIGRvQnVsa0dldFNoaW0oKSB7XG4gICAgICAvLyBhdm9pZCBcInVybCB0b28gbG9uZyBlcnJvclwiIGJ5IHNwbGl0dGluZyB1cCBpbnRvIG11bHRpcGxlIHJlcXVlc3RzXG4gICAgICB2YXIgYmF0Y2hTaXplID0gTUFYX1NJTVVMVEFORU9VU19SRVZTO1xuICAgICAgdmFyIG51bUJhdGNoZXMgPSBNYXRoLmNlaWwob3B0cy5kb2NzLmxlbmd0aCAvIGJhdGNoU2l6ZSk7XG4gICAgICB2YXIgbnVtRG9uZSA9IDA7XG4gICAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShudW1CYXRjaGVzKTtcblxuICAgICAgZnVuY3Rpb24gb25SZXN1bHQoYmF0Y2hOdW0pIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICAgIC8vIGVyciBpcyBpbXBvc3NpYmxlIGJlY2F1c2Ugc2hpbSByZXR1cm5zIGEgbGlzdCBvZiBlcnJzIGluIHRoYXQgY2FzZVxuICAgICAgICAgIHJlc3VsdHNbYmF0Y2hOdW1dID0gcmVzLnJlc3VsdHM7XG4gICAgICAgICAgaWYgKCsrbnVtRG9uZSA9PT0gbnVtQmF0Y2hlcykge1xuICAgICAgICAgICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IGZsYXR0ZW4ocmVzdWx0cyl9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9XG5cbiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbnVtQmF0Y2hlczsgaSsrKSB7XG4gICAgICAgIHZhciBzdWJPcHRzID0gcGljayhvcHRzLCBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2xhdGVzdCddKTtcbiAgICAgICAgc3ViT3B0cy5kb2NzID0gb3B0cy5kb2NzLnNsaWNlKGkgKiBiYXRjaFNpemUsXG4gICAgICAgICAgTWF0aC5taW4ob3B0cy5kb2NzLmxlbmd0aCwgKGkgKyAxKSAqIGJhdGNoU2l6ZSkpO1xuICAgICAgICBidWxrR2V0KHNlbGYsIHN1Yk9wdHMsIG9uUmVzdWx0KGkpKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBtYXJrIHRoZSB3aG9sZSBkYXRhYmFzZSBhcyBlaXRoZXIgc3VwcG9ydGluZyBvciBub3Qgc3VwcG9ydGluZyBfYnVsa19nZXRcbiAgICB2YXIgZGJVcmwgPSBnZW5VcmwoaG9zdCwgJycpO1xuICAgIHZhciBzdXBwb3J0c0J1bGtHZXQgPSBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAodHlwZW9mIHN1cHBvcnRzQnVsa0dldCAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAvLyBjaGVjayBpZiB0aGlzIGRhdGFiYXNlIHN1cHBvcnRzIF9idWxrX2dldFxuICAgICAgZG9CdWxrR2V0KGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IGZhbHNlO1xuICAgICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICAgIGVyci5zdGF0dXMsXG4gICAgICAgICAgICAnUG91Y2hEQiBpcyBqdXN0IGRldGVjdGluZyBpZiB0aGUgcmVtb3RlICcgK1xuICAgICAgICAgICAgJ3N1cHBvcnRzIHRoZSBfYnVsa19nZXQgQVBJLidcbiAgICAgICAgICApO1xuICAgICAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdXBwb3J0c0J1bGtHZXRNYXBbZGJVcmxdID0gdHJ1ZTtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnRzQnVsa0dldCkge1xuICAgICAgZG9CdWxrR2V0KGNhbGxiYWNrKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZG9CdWxrR2V0U2hpbSgpO1xuICAgIH1cbiAgfSk7XG5cbiAgLy8gQ2FsbHMgR0VUIG9uIHRoZSBob3N0LCB3aGljaCBnZXRzIGJhY2sgYSBKU09OIHN0cmluZyBjb250YWluaW5nXG4gIC8vICAgIGNvdWNoZGI6IEEgd2VsY29tZSBzdHJpbmdcbiAgLy8gICAgdmVyc2lvbjogVGhlIHZlcnNpb24gb2YgQ291Y2hEQiBpdCBpcyBydW5uaW5nXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gb3VyRmV0Y2goZ2VuREJVcmwoaG9zdCwgJycpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgcmV0dXJuIHJlc3BvbnNlLmpzb24oKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICBpbmZvLmhvc3QgPSBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCBpbmZvKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH07XG5cbiAgYXBpLmZldGNoID0gZnVuY3Rpb24gKHBhdGgsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciB1cmwgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nID9cbiAgICAgICAgZ2VuVXJsKGhvc3QsIHBhdGguc3Vic3RyaW5nKDEpKSA6XG4gICAgICAgIGdlbkRCVXJsKGhvc3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucyk7XG4gICAgfSk7XG4gIH07XG5cbiAgLy8gR2V0IHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBpZCBmcm9tIHRoZSBkYXRhYmFzZSBnaXZlbiBieSBob3N0LlxuICAvLyBUaGUgaWQgY291bGQgYmUgc29sZWx5IHRoZSBfaWQgaW4gdGhlIGRhdGFiYXNlLCBvciBpdCBtYXkgYmUgYVxuICAvLyBfZGVzaWduL0lEIG9yIF9sb2NhbC9JRCBwYXRoXG4gIGFwaS5nZXQgPSBhZGFwdGVyRnVuJCQxKCdnZXQnLCBmdW5jdGlvbiAoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIEdFVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IHt9O1xuXG4gICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgcGFyYW1zLnJldnMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnJldnNfaW5mbykge1xuICAgICAgcGFyYW1zLnJldnNfaW5mbyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICBwYXJhbXMubGF0ZXN0ID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5vcGVuX3JldnMpIHtcbiAgICAgIGlmIChvcHRzLm9wZW5fcmV2cyAhPT0gXCJhbGxcIikge1xuICAgICAgICBvcHRzLm9wZW5fcmV2cyA9IEpTT04uc3RyaW5naWZ5KG9wdHMub3Blbl9yZXZzKTtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5vcGVuX3JldnMgPSBvcHRzLm9wZW5fcmV2cztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXYpIHtcbiAgICAgIHBhcmFtcy5yZXYgPSBvcHRzLnJldjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSBvcHRzLmNvbmZsaWN0cztcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IG9wdHMudXBkYXRlX3NlcTtcbiAgICB9XG5cbiAgICBpZCA9IGVuY29kZURvY0lkKGlkKTtcblxuICAgIGZ1bmN0aW9uIGZldGNoQXR0YWNobWVudHMoZG9jKSB7XG4gICAgICB2YXIgYXR0cyA9IGRvYy5fYXR0YWNobWVudHM7XG4gICAgICB2YXIgZmlsZW5hbWVzID0gYXR0cyAmJiBPYmplY3Qua2V5cyhhdHRzKTtcbiAgICAgIGlmICghYXR0cyB8fCAhZmlsZW5hbWVzLmxlbmd0aCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICAvLyB3ZSBmZXRjaCB0aGVzZSBtYW51YWxseSBpbiBzZXBhcmF0ZSBYSFJzLCBiZWNhdXNlXG4gICAgICAvLyBTeW5jIEdhdGV3YXkgd291bGQgbm9ybWFsbHkgc2VuZCBpdCBiYWNrIGFzIG11bHRpcGFydC9taXhlZCxcbiAgICAgIC8vIHdoaWNoIHdlIGNhbm5vdCBwYXJzZS4gQWxzbywgdGhpcyBpcyBtb3JlIGVmZmljaWVudCB0aGFuXG4gICAgICAvLyByZWNlaXZpbmcgYXR0YWNobWVudHMgYXMgYmFzZTY0LWVuY29kZWQgc3RyaW5ncy5cbiAgICAgIGZ1bmN0aW9uIGZldGNoRGF0YShmaWxlbmFtZSkge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgICAgIHZhciBwYXRoID0gZW5jb2RlRG9jSWQoZG9jLl9pZCkgKyAnLycgKyBlbmNvZGVBdHRhY2htZW50SWQoZmlsZW5hbWUpICtcbiAgICAgICAgICAgICc/cmV2PScgKyBkb2MuX3JldjtcbiAgICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsIHBhdGgpKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICAgIGlmICgnYnVmZmVyJyBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJ1ZmZlcigpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgICAgICBpZiAob3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgIHZhciB0eXBlRmllbGREZXNjcmlwdG9yID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihibG9iLl9fcHJvdG9fXywgJ3R5cGUnKTtcbiAgICAgICAgICAgIGlmICghdHlwZUZpZWxkRGVzY3JpcHRvciB8fCB0eXBlRmllbGREZXNjcmlwdG9yLnNldCkge1xuICAgICAgICAgICAgICBibG9iLnR5cGUgPSBhdHQuY29udGVudF90eXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGJsb2I7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgICAgYmxvYlRvQmFzZTY0KGJsb2IsIHJlc29sdmUpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGF0dC5kYXRhID0gZGF0YTtcbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICAgIHZhciBwcm9taXNlRmFjdG9yaWVzID0gZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hEYXRhKGZpbGVuYW1lKTtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBUaGlzIGxpbWl0cyB0aGUgbnVtYmVyIG9mIHBhcmFsbGVsIHhociByZXF1ZXN0cyB0byA1IGFueSB0aW1lXG4gICAgICAvLyB0byBhdm9pZCBpc3N1ZXMgd2l0aCBtYXhpbXVtIGJyb3dzZXIgcmVxdWVzdCBsaW1pdHNcbiAgICAgIHJldHVybiBwb29sKHByb21pc2VGYWN0b3JpZXMsIDUpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGZldGNoQWxsQXR0YWNobWVudHMoZG9jT3JEb2NzKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShkb2NPckRvY3MpKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb2NPckRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLm9rKSB7XG4gICAgICAgICAgICByZXR1cm4gZmV0Y2hBdHRhY2htZW50cyhkb2Mub2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jT3JEb2NzKTtcbiAgICB9XG5cbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgaWQgKyBwYXJhbXNUb1N0cihwYXJhbXMpKTtcbiAgICBmZXRjaEpTT04odXJsKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgICAgICByZXR1cm4gZmV0Y2hBbGxBdHRhY2htZW50cyhyZXMuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMuZGF0YSk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZSkge1xuICAgICAgZS5kb2NJZCA9IGlkO1xuICAgICAgY2FsbGJhY2soZSk7XG4gICAgfSk7XG4gIH0pO1xuXG5cbiAgLy8gRGVsZXRlIHRoZSBkb2N1bWVudCBnaXZlbiBieSBkb2MgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLnJlbW92ZSA9IGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNiKSB7XG4gICAgdmFyIGRvYztcbiAgICBpZiAodHlwZW9mIG9wdHNPclJldiA9PT0gJ3N0cmluZycpIHtcbiAgICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgICBkb2MgPSB7XG4gICAgICAgIF9pZDogZG9jT3JJZCxcbiAgICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgICB9O1xuICAgICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0cztcbiAgICAgICAgb3B0cyA9IHt9O1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBkb2MsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgICBkb2MgPSBkb2NPcklkO1xuICAgICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgY2IgPSBvcHRzT3JSZXY7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNiID0gb3B0cztcbiAgICAgICAgb3B0cyA9IG9wdHNPclJldjtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB2YXIgcmV2ID0gKGRvYy5fcmV2IHx8IG9wdHMucmV2KTtcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpICsgJz9yZXY9JyArIHJldjtcblxuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2IpLmNhdGNoKGNiKTtcbiAgfSk7XG5cbiAgZnVuY3Rpb24gZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCkge1xuICAgIHJldHVybiBhdHRhY2htZW50SWQuc3BsaXQoXCIvXCIpLm1hcChlbmNvZGVVUklDb21wb25lbnQpLmpvaW4oXCIvXCIpO1xuICB9XG5cbiAgLy8gR2V0IHRoZSBhdHRhY2htZW50XG4gIGFwaS5nZXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgnZ2V0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgdmFyIHBhcmFtcyA9IG9wdHMucmV2ID8gKCc/cmV2PScgKyBvcHRzLnJldikgOiAnJztcbiAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jSWQpKSArICcvJyArXG4gICAgICAgIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpICsgcGFyYW1zO1xuICAgIHZhciBjb250ZW50VHlwZTtcbiAgICBvdXJGZXRjaCh1cmwsIHttZXRob2Q6ICdHRVQnfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpO1xuICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICB0aHJvdyByZXNwb25zZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0eXBlb2YgcHJvY2VzcyAhPT0gJ3VuZGVmaW5lZCcgJiYgIXByb2Nlc3MuYnJvd3NlciAmJiB0eXBlb2YgcmVzcG9uc2UuYnVmZmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJ1ZmZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIHJlc3BvbnNlLmJsb2IoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKGJsb2IpIHtcbiAgICAgIC8vIFRPRE86IGFsc28gcmVtb3ZlXG4gICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIpIHtcbiAgICAgICAgYmxvYi50eXBlID0gY29udGVudFR5cGU7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCBibG9iKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBSZW1vdmUgdGhlIGF0dGFjaG1lbnQgZ2l2ZW4gYnkgdGhlIGlkIGFuZCByZXZcbiAgYXBpLnJlbW92ZUF0dGFjaG1lbnQgPSAgYWRhcHRlckZ1biQkMSgncmVtb3ZlQXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKSB7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArXG4gICAgICAgICAgICAgICAgICAgICAgIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpKSArICc/cmV2PScgKyByZXY7XG4gICAgZmV0Y2hKU09OKHVybCwge21ldGhvZDogJ0RFTEVURSd9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBBZGQgdGhlIGF0dGFjaG1lbnQgZ2l2ZW4gYnkgYmxvYiBhbmQgaXRzIGNvbnRlbnRUeXBlIHByb3BlcnR5XG4gIC8vIHRvIHRoZSBkb2N1bWVudCB3aXRoIHRoZSBnaXZlbiBpZCwgdGhlIHJldmlzaW9uIGdpdmVuIGJ5IHJldiwgYW5kXG4gIC8vIGFkZCBpdCB0byB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgYXBpLnB1dEF0dGFjaG1lbnQgPSBhZGFwdGVyRnVuJCQxKCdwdXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXYsIGJsb2IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSB0eXBlO1xuICAgICAgdHlwZSA9IGJsb2I7XG4gICAgICBibG9iID0gcmV2O1xuICAgICAgcmV2ID0gbnVsbDtcbiAgICB9XG4gICAgdmFyIGlkID0gZW5jb2RlRG9jSWQoZG9jSWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGF0dGFjaG1lbnRJZCk7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkKTtcbiAgICBpZiAocmV2KSB7XG4gICAgICB1cmwgKz0gJz9yZXY9JyArIHJldjtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGJsb2IgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpbnB1dCBpcyBhc3N1bWVkIHRvIGJlIGEgYmFzZTY0IHN0cmluZ1xuICAgICAgdmFyIGJpbmFyeTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGJpbmFyeSA9IHRoaXNBdG9iKGJsb2IpO1xuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihCQURfQVJHLFxuICAgICAgICAgICAgICAgICAgICAgICAgJ0F0dGFjaG1lbnQgaXMgbm90IGEgdmFsaWQgYmFzZTY0IHN0cmluZycpKTtcbiAgICAgIH1cbiAgICAgIGJsb2IgPSBiaW5hcnkgPyBiaW5TdHJpbmdUb0JsdWZmZXIoYmluYXJ5LCB0eXBlKSA6ICcnO1xuICAgIH1cblxuICAgIC8vIEFkZCB0aGUgYXR0YWNobWVudFxuICAgIGZldGNoSlNPTih1cmwsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogdHlwZX0pLFxuICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgIGJvZHk6IGJsb2JcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBVcGRhdGUvY3JlYXRlIG11bHRpcGxlIGRvY3VtZW50cyBnaXZlbiBieSByZXEgaW4gdGhlIGRhdGFiYXNlXG4gIC8vIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5fYnVsa0RvY3MgPSBmdW5jdGlvbiAocmVxLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5ld19lZGl0cz1mYWxzZSB0aGVuIGl0IHByZXZlbnRzIHRoZSBkYXRhYmFzZSBmcm9tIGNyZWF0aW5nXG4gICAgLy8gbmV3IHJldmlzaW9uIG51bWJlcnMgZm9yIHRoZSBkb2N1bWVudHMuIEluc3RlYWQgaXQganVzdCB1c2VzXG4gICAgLy8gdGhlIG9sZCBvbmVzLiBUaGlzIGlzIHVzZWQgaW4gZGF0YWJhc2UgcmVwbGljYXRpb24uXG4gICAgcmVxLm5ld19lZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuXG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChyZXEuZG9jcy5tYXAocHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEpKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIC8vIFVwZGF0ZS9jcmVhdGUgdGhlIGRvY3VtZW50c1xuICAgICAgcmV0dXJuIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2J1bGtfZG9jcycpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShyZXEpXG4gICAgICB9LCBjYWxsYmFjayk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBkb2N1bWVudFxuICBhcGkuX3B1dCA9IGZ1bmN0aW9uIChkb2MsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcmVwcm9jZXNzQXR0YWNobWVudHMkMShkb2MpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIGZldGNoSlNPTihnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2MuX2lkKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZG9jKVxuICAgICAgfSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gZG9jICYmIGRvYy5faWQ7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgIH0pO1xuICB9O1xuXG5cbiAgLy8gR2V0IGEgbGlzdGluZyBvZiB0aGUgZG9jdW1lbnRzIGluIHRoZSBkYXRhYmFzZSBnaXZlblxuICAvLyBieSBob3N0IGFuZCBvcmRlcmVkIGJ5IGluY3JlYXNpbmcgaWQuXG4gIGFwaS5hbGxEb2NzID0gYWRhcHRlckZ1biQkMSgnYWxsRG9jcycsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgIHBhcmFtcy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvLyBhZGRlZCBpbiBDb3VjaERCIDEuNi4wXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIHBhcmFtcy5hdHRhY2htZW50cyA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMua2V5KSB7XG4gICAgICBwYXJhbXMua2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5rZXkpO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgICAgb3B0cy5zdGFydGtleSA9IG9wdHMuc3RhcnRfa2V5O1xuICAgIH1cblxuICAgIGlmIChvcHRzLnN0YXJ0a2V5KSB7XG4gICAgICBwYXJhbXMuc3RhcnRrZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLnN0YXJ0a2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgICBvcHRzLmVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5lbmRrZXkpIHtcbiAgICAgIHBhcmFtcy5lbmRrZXkgPSBKU09OLnN0cmluZ2lmeShvcHRzLmVuZGtleSk7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmluY2x1c2l2ZV9lbmQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMuaW5jbHVzaXZlX2VuZCA9ICEhb3B0cy5pbmNsdXNpdmVfZW5kO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5saW1pdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHBhcmFtcy5saW1pdCA9IG9wdHMubGltaXQ7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLnNraXAgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMuc2tpcCA9IG9wdHMuc2tpcDtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1TdHIgPSBwYXJhbXNUb1N0cihwYXJhbXMpO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICBib2R5ID0ge2tleXM6IG9wdHMua2V5c307XG4gICAgfVxuXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYWxsX2RvY3MnICsgcGFyYW1TdHIpLCB7XG4gICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgcmVzdWx0LmRhdGEucm93cy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgIH1cbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIC8vIEdldCBhIGxpc3Qgb2YgY2hhbmdlcyBtYWRlIHRvIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVE9ETyBBY2NvcmRpbmcgdG8gdGhlIFJFQURNRSwgdGhlcmUgc2hvdWxkIGJlIHR3byBvdGhlciBtZXRob2RzIGhlcmUsXG4gIC8vIGFwaS5jaGFuZ2VzLmFkZExpc3RlbmVyIGFuZCBhcGkuY2hhbmdlcy5yZW1vdmVMaXN0ZW5lci5cbiAgYXBpLl9jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMpIHtcblxuICAgIC8vIFdlIGludGVybmFsbHkgcGFnZSB0aGUgcmVzdWx0cyBvZiBhIGNoYW5nZXMgcmVxdWVzdCwgdGhpcyBtZWFuc1xuICAgIC8vIGlmIHRoZXJlIGlzIGEgbGFyZ2Ugc2V0IG9mIGNoYW5nZXMgdG8gYmUgcmV0dXJuZWQgd2UgY2FuIHN0YXJ0XG4gICAgLy8gcHJvY2Vzc2luZyB0aGVtIHF1aWNrZXIgaW5zdGVhZCBvZiB3YWl0aW5nIG9uIHRoZSBlbnRpcmVcbiAgICAvLyBzZXQgb2YgY2hhbmdlcyB0byByZXR1cm4gYW5kIGF0dGVtcHRpbmcgdG8gcHJvY2VzcyB0aGVtIGF0IG9uY2VcbiAgICB2YXIgYmF0Y2hTaXplID0gJ2JhdGNoX3NpemUnIGluIG9wdHMgPyBvcHRzLmJhdGNoX3NpemUgOiBDSEFOR0VTX0JBVENIX1NJWkU7XG5cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzICYmICEoJ2hlYXJ0YmVhdCcgaW4gb3B0cykpIHtcbiAgICAgIG9wdHMuaGVhcnRiZWF0ID0gREVGQVVMVF9IRUFSVEJFQVQ7XG4gICAgfVxuXG4gICAgdmFyIHJlcXVlc3RUaW1lb3V0ID0gKCd0aW1lb3V0JyBpbiBvcHRzKSA/IG9wdHMudGltZW91dCA6IDMwICogMTAwMDtcblxuICAgIC8vIGVuc3VyZSBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSIGFwcGxpZXNcbiAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMgJiYgb3B0cy50aW1lb3V0ICYmXG4gICAgICAocmVxdWVzdFRpbWVvdXQgLSBvcHRzLnRpbWVvdXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMudGltZW91dCArIENIQU5HRVNfVElNRU9VVF9CVUZGRVI7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMgJiYgb3B0cy5oZWFydGJlYXQgJiZcbiAgICAgICAocmVxdWVzdFRpbWVvdXQgLSBvcHRzLmhlYXJ0YmVhdCkgPCBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSKSB7XG4gICAgICAgIHJlcXVlc3RUaW1lb3V0ID0gb3B0cy5oZWFydGJlYXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIHZhciBwYXJhbXMgPSB7fTtcbiAgICBpZiAoJ3RpbWVvdXQnIGluIG9wdHMgJiYgb3B0cy50aW1lb3V0KSB7XG4gICAgICBwYXJhbXMudGltZW91dCA9IG9wdHMudGltZW91dDtcbiAgICB9XG5cbiAgICB2YXIgbGltaXQgPSAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSA/IG9wdHMubGltaXQgOiBmYWxzZTtcbiAgICB2YXIgbGVmdFRvRmV0Y2ggPSBsaW1pdDtcblxuICAgIGlmIChvcHRzLnN0eWxlKSB7XG4gICAgICBwYXJhbXMuc3R5bGUgPSBvcHRzLnN0eWxlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyB8fCBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHBhcmFtcy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmNvbnRpbnVvdXMpIHtcbiAgICAgIHBhcmFtcy5mZWVkID0gJ2xvbmdwb2xsJztcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zZXFfaW50ZXJ2YWwpIHtcbiAgICAgIHBhcmFtcy5zZXFfaW50ZXJ2YWwgPSBvcHRzLnNlcV9pbnRlcnZhbDtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHBhcmFtcy5jb25mbGljdHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgIHBhcmFtcy5kZXNjZW5kaW5nID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKCdoZWFydGJlYXQnIGluIG9wdHMpIHtcbiAgICAgIC8vIElmIHRoZSBoZWFydGJlYXQgdmFsdWUgaXMgZmFsc2UsIGl0IGRpc2FibGVzIHRoZSBkZWZhdWx0IGhlYXJ0YmVhdFxuICAgICAgaWYgKG9wdHMuaGVhcnRiZWF0KSB7XG4gICAgICAgIHBhcmFtcy5oZWFydGJlYXQgPSBvcHRzLmhlYXJ0YmVhdDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgICAgcGFyYW1zLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgIH1cblxuICAgIGlmIChvcHRzLnZpZXcgJiYgdHlwZW9mIG9wdHMudmlldyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3ZpZXcnO1xuICAgICAgcGFyYW1zLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgfVxuXG4gICAgLy8gSWYgb3B0cy5xdWVyeV9wYXJhbXMgZXhpc3RzLCBwYXNzIGl0IHRocm91Z2ggdG8gdGhlIGNoYW5nZXMgcmVxdWVzdC5cbiAgICAvLyBUaGVzZSBwYXJhbWV0ZXJzIG1heSBiZSB1c2VkIGJ5IHRoZSBmaWx0ZXIgb24gdGhlIHNvdXJjZSBkYXRhYmFzZS5cbiAgICBpZiAob3B0cy5xdWVyeV9wYXJhbXMgJiYgdHlwZW9mIG9wdHMucXVlcnlfcGFyYW1zID09PSAnb2JqZWN0Jykge1xuICAgICAgZm9yICh2YXIgcGFyYW1fbmFtZSBpbiBvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdHMucXVlcnlfcGFyYW1zLCBwYXJhbV9uYW1lKSkge1xuICAgICAgICAgIHBhcmFtc1twYXJhbV9uYW1lXSA9IG9wdHMucXVlcnlfcGFyYW1zW3BhcmFtX25hbWVdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuICAgIHZhciBib2R5O1xuXG4gICAgaWYgKG9wdHMuZG9jX2lkcykge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXI7IGl0J3MgYW5ub3lpbmcgdGhhdCBjb3VjaGRiXG4gICAgICAvLyByZXF1aXJlcyBib3RoIGEgXCJmaWx0ZXJcIiBhbmQgYSBcImRvY19pZHNcIiBwYXJhbS5cbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX2RvY19pZHMnO1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtkb2NfaWRzOiBvcHRzLmRvY19pZHMgfTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBlbHNlIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgICAvLyBzZXQgdGhpcyBhdXRvbWFnaWNhbGx5IGZvciB0aGUgdXNlciwgc2ltaWxhciB0byBhYm92ZVxuICAgICAgcGFyYW1zLmZpbHRlciA9ICdfc2VsZWN0b3InO1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtzZWxlY3Rvcjogb3B0cy5zZWxlY3RvciB9O1xuICAgIH1cblxuICAgIHZhciBjb250cm9sbGVyID0gbmV3IGEoKTtcbiAgICB2YXIgbGFzdEZldGNoZWRTZXE7XG5cbiAgICAvLyBHZXQgYWxsIHRoZSBjaGFuZ2VzIHN0YXJ0aW5nIHd0aWggdGhlIG9uZSBpbW1lZGlhdGVseSBhZnRlciB0aGVcbiAgICAvLyBzZXF1ZW5jZSBudW1iZXIgZ2l2ZW4gYnkgc2luY2UuXG4gICAgdmFyIGZldGNoRGF0YSA9IGZ1bmN0aW9uIChzaW5jZSwgY2FsbGJhY2spIHtcbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnNpbmNlID0gc2luY2U7XG4gICAgICAvLyBcInNpbmNlXCIgY2FuIGJlIGFueSBraW5kIG9mIGpzb24gb2JqZWN0IGluIENsb3VkYW50L0NvdWNoREIgMi54XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKHR5cGVvZiBwYXJhbXMuc2luY2UgPT09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgcGFyYW1zLnNpbmNlID0gSlNPTi5zdHJpbmdpZnkocGFyYW1zLnNpbmNlKTtcbiAgICAgIH1cblxuICAgICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgICBpZiAobGltaXQpIHtcbiAgICAgICAgICBwYXJhbXMubGltaXQgPSBsZWZ0VG9GZXRjaDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFyYW1zLmxpbWl0ID0gKCFsaW1pdCB8fCBsZWZ0VG9GZXRjaCA+IGJhdGNoU2l6ZSkgP1xuICAgICAgICAgIGJhdGNoU2l6ZSA6IGxlZnRUb0ZldGNoO1xuICAgICAgfVxuXG4gICAgICAvLyBTZXQgdGhlIG9wdGlvbnMgZm9yIHRoZSBhamF4IGNhbGxcbiAgICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCAnX2NoYW5nZXMnICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgICB2YXIgZmV0Y2hPcHRzID0ge1xuICAgICAgICBzaWduYWw6IGNvbnRyb2xsZXIuc2lnbmFsLFxuICAgICAgICBtZXRob2Q6IG1ldGhvZCxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICAgIH07XG4gICAgICBsYXN0RmV0Y2hlZFNlcSA9IHNpbmNlO1xuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgdGhlIGNoYW5nZXNcbiAgICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBmZXRjaEpTT04odXJsLCBmZXRjaE9wdHMsIGNhbGxiYWNrKTtcbiAgICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgICB9O1xuXG4gICAgLy8gSWYgb3B0cy5zaW5jZSBleGlzdHMsIGdldCBhbGwgdGhlIGNoYW5nZXMgZnJvbSB0aGUgc2VxdWVuY2VcbiAgICAvLyBudW1iZXIgZ2l2ZW4gYnkgb3B0cy5zaW5jZS4gT3RoZXJ3aXNlLCBnZXQgYWxsIHRoZSBjaGFuZ2VzXG4gICAgLy8gZnJvbSB0aGUgc2VxdWVuY2UgbnVtYmVyIDAuXG4gICAgdmFyIHJlc3VsdHMgPSB7cmVzdWx0czogW119O1xuXG4gICAgdmFyIGZldGNoZWQgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChvcHRzLmFib3J0ZWQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIHJhd19yZXN1bHRzX2xlbmd0aCA9IDA7XG4gICAgICAvLyBJZiB0aGUgcmVzdWx0IG9mIHRoZSBhamF4IGNhbGwgKHJlcykgY29udGFpbnMgY2hhbmdlcyAocmVzLnJlc3VsdHMpXG4gICAgICBpZiAocmVzICYmIHJlcy5yZXN1bHRzKSB7XG4gICAgICAgIHJhd19yZXN1bHRzX2xlbmd0aCA9IHJlcy5yZXN1bHRzLmxlbmd0aDtcbiAgICAgICAgcmVzdWx0cy5sYXN0X3NlcSA9IHJlcy5sYXN0X3NlcTtcbiAgICAgICAgdmFyIHBlbmRpbmcgPSBudWxsO1xuICAgICAgICB2YXIgbGFzdFNlcSA9IG51bGw7XG4gICAgICAgIC8vIEF0dGFjaCAncGVuZGluZycgcHJvcGVydHkgaWYgc2VydmVyIHN1cHBvcnRzIGl0IChDb3VjaERCIDIuMCspXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAodHlwZW9mIHJlcy5wZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHBlbmRpbmcgPSByZXMucGVuZGluZztcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHJlc3VsdHMubGFzdF9zZXEgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIGxhc3RTZXEgPSByZXN1bHRzLmxhc3Rfc2VxO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvciBlYWNoIGNoYW5nZVxuICAgICAgICB2YXIgcmVxID0ge307XG4gICAgICAgIHJlcS5xdWVyeSA9IG9wdHMucXVlcnlfcGFyYW1zO1xuICAgICAgICByZXMucmVzdWx0cyA9IHJlcy5yZXN1bHRzLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgICAgIGxlZnRUb0ZldGNoLS07XG4gICAgICAgICAgdmFyIHJldCA9IGZpbHRlckNoYW5nZShvcHRzKShjKTtcbiAgICAgICAgICBpZiAocmV0KSB7XG4gICAgICAgICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgJiYgb3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgICAgICByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvcHRzLnJldHVybl9kb2NzKSB7XG4gICAgICAgICAgICAgIHJlc3VsdHMucmVzdWx0cy5wdXNoKGMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJldDtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKGVycikge1xuICAgICAgICAvLyBJbiBjYXNlIG9mIGFuIGVycm9yLCBzdG9wIGxpc3RlbmluZyBmb3IgY2hhbmdlcyBhbmQgY2FsbFxuICAgICAgICAvLyBvcHRzLmNvbXBsZXRlXG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIG9wdHMuY29tcGxldGUoZXJyKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICAvLyBUaGUgY2hhbmdlcyBmZWVkIG1heSBoYXZlIHRpbWVkIG91dCB3aXRoIG5vIHJlc3VsdHNcbiAgICAgIC8vIGlmIHNvIHJldXNlIGxhc3QgdXBkYXRlIHNlcXVlbmNlXG4gICAgICBpZiAocmVzICYmIHJlcy5sYXN0X3NlcSkge1xuICAgICAgICBsYXN0RmV0Y2hlZFNlcSA9IHJlcy5sYXN0X3NlcTtcbiAgICAgIH1cblxuICAgICAgdmFyIGZpbmlzaGVkID0gKGxpbWl0ICYmIGxlZnRUb0ZldGNoIDw9IDApIHx8XG4gICAgICAgIChyZXMgJiYgcmF3X3Jlc3VsdHNfbGVuZ3RoIDwgYmF0Y2hTaXplKSB8fFxuICAgICAgICAob3B0cy5kZXNjZW5kaW5nKTtcblxuICAgICAgaWYgKChvcHRzLmNvbnRpbnVvdXMgJiYgIShsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSkgfHwgIWZpbmlzaGVkKSB7XG4gICAgICAgIC8vIFF1ZXVlIGEgY2FsbCB0byBmZXRjaCBhZ2FpbiB3aXRoIHRoZSBuZXdlc3Qgc2VxdWVuY2UgbnVtYmVyXG4gICAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7IGZldGNoRGF0YShsYXN0RmV0Y2hlZFNlcSwgZmV0Y2hlZCk7IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gV2UncmUgZG9uZSwgY2FsbCB0aGUgY2FsbGJhY2tcbiAgICAgICAgb3B0cy5jb21wbGV0ZShudWxsLCByZXN1bHRzKTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgZmV0Y2hEYXRhKG9wdHMuc2luY2UgfHwgMCwgZmV0Y2hlZCk7XG5cbiAgICAvLyBSZXR1cm4gYSBtZXRob2QgdG8gY2FuY2VsIHRoaXMgbWV0aG9kIGZyb20gcHJvY2Vzc2luZyBhbnkgbW9yZVxuICAgIHJldHVybiB7XG4gICAgICBjYW5jZWw6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgb3B0cy5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gR2l2ZW4gYSBzZXQgb2YgZG9jdW1lbnQvcmV2aXNpb24gSURzIChnaXZlbiBieSByZXEpLCB0ZXRzIHRoZSBzdWJzZXQgb2ZcbiAgLy8gdGhvc2UgdGhhdCBkbyBOT1QgY29ycmVzcG9uZCB0byByZXZpc2lvbnMgc3RvcmVkIGluIHRoZSBkYXRhYmFzZS5cbiAgLy8gU2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IdHRwUG9zdFJldnNEaWZmXG4gIGFwaS5yZXZzRGlmZiA9IGFkYXB0ZXJGdW4kJDEoJ3JldnNEaWZmJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBubyBvcHRpb25zIHdlcmUgZ2l2ZW4sIHNldCB0aGUgY2FsbGJhY2sgdG8gYmUgdGhlIHNlY29uZCBwYXJhbWV0ZXJcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG5cbiAgICAvLyBHZXQgdGhlIG1pc3NpbmcgZG9jdW1lbnQvcmV2aXNpb24gSURzXG4gICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfcmV2c19kaWZmJyksIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgIH0sIGNhbGxiYWNrKS5jYXRjaChjYWxsYmFjayk7XG4gIH0pO1xuXG4gIGFwaS5fY2xvc2UgPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBjYWxsYmFjaygpO1xuICB9O1xuXG4gIGFwaS5fZGVzdHJveSA9IGZ1bmN0aW9uIChvcHRpb25zLCBjYWxsYmFjaykge1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnJyksIHttZXRob2Q6ICdERUxFVEUnfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgY2FsbGJhY2sobnVsbCwganNvbik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtvazogdHJ1ZX0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gSHR0cFBvdWNoIGlzIGEgdmFsaWQgYWRhcHRlci5cbkh0dHBQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBIdHRwUG91Y2gkMSAoUG91Y2hEQikge1xuICBQb3VjaERCLmFkYXB0ZXIoJ2h0dHAnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwcycsIEh0dHBQb3VjaCwgZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBRdWVyeVBhcnNlRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDQwMDtcbiAgdGhpcy5uYW1lID0gJ3F1ZXJ5X3BhcnNlX2Vycm9yJztcbiAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgdGhpcy5lcnJvciA9IHRydWU7XG4gIHRyeSB7XG4gICAgRXJyb3IuY2FwdHVyZVN0YWNrVHJhY2UodGhpcywgUXVlcnlQYXJzZUVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoUXVlcnlQYXJzZUVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIE5vdEZvdW5kRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDQwNDtcbiAgdGhpcy5uYW1lID0gJ25vdF9mb3VuZCc7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIE5vdEZvdW5kRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhOb3RGb3VuZEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIEJ1aWx0SW5FcnJvcihtZXNzYWdlKSB7XG4gIHRoaXMuc3RhdHVzID0gNTAwO1xuICB0aGlzLm5hbWUgPSAnaW52YWxpZF92YWx1ZSc7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIEJ1aWx0SW5FcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKEJ1aWx0SW5FcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBwcm9taXNlZENhbGxiYWNrKHByb21pc2UsIGNhbGxiYWNrKSB7XG4gIGlmIChjYWxsYmFjaykge1xuICAgIHByb21pc2UudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCByZXMpO1xuICAgICAgfSk7XG4gICAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2socmVhc29uKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIHJldHVybiBwcm9taXNlO1xufVxuXG5mdW5jdGlvbiBjYWxsYmFja2lmeShmdW4pIHtcbiAgcmV0dXJuIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgIHZhciBjYiA9IGFyZ3MucG9wKCk7XG4gICAgdmFyIHByb21pc2UgPSBmdW4uYXBwbHkodGhpcywgYXJncyk7XG4gICAgaWYgKHR5cGVvZiBjYiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYik7XG4gICAgfVxuICAgIHJldHVybiBwcm9taXNlO1xuICB9KTtcbn1cblxuLy8gUHJvbWlzZSBmaW5hbGx5IHV0aWwgc2ltaWxhciB0byBRLmZpbmFsbHlcbmZ1bmN0aW9uIGZpbihwcm9taXNlLCBmaW5hbFByb21pc2VGYWN0b3J5KSB7XG4gIHJldHVybiBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH0pO1xuICB9LCBmdW5jdGlvbiAocmVhc29uKSB7XG4gICAgcmV0dXJuIGZpbmFsUHJvbWlzZUZhY3RvcnkoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHRocm93IHJlYXNvbjtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHNlcXVlbnRpYWxpemUocXVldWUsIHByb21pc2VGYWN0b3J5KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgdmFyIHRoYXQgPSB0aGlzO1xuICAgIHJldHVybiBxdWV1ZS5hZGQoZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHByb21pc2VGYWN0b3J5LmFwcGx5KHRoYXQsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xufVxuXG4vLyB1bmlxIGFuIGFycmF5IG9mIHN0cmluZ3MsIG9yZGVyIG5vdCBndWFyYW50ZWVkXG4vLyBzaW1pbGFyIHRvIHVuZGVyc2NvcmUvbG9kYXNoIF8udW5pcVxuZnVuY3Rpb24gdW5pcShhcnIpIHtcbiAgdmFyIHRoZVNldCA9IG5ldyBFeHBvcnRlZFNldChhcnIpO1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KHRoZVNldC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIHRoZVNldC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgIHJlc3VsdFsrK2luZGV4XSA9IHZhbHVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gbWFwVG9LZXlzQXJyYXkobWFwKSB7XG4gIHZhciByZXN1bHQgPSBuZXcgQXJyYXkobWFwLnNpemUpO1xuICB2YXIgaW5kZXggPSAtMTtcbiAgbWFwLmZvckVhY2goZnVuY3Rpb24gKHZhbHVlLCBrZXkpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSBrZXk7XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBjcmVhdGVCdWlsdEluRXJyb3IobmFtZSkge1xuICB2YXIgbWVzc2FnZSA9ICdidWlsdGluICcgKyBuYW1lICtcbiAgICAnIGZ1bmN0aW9uIHJlcXVpcmVzIG1hcCB2YWx1ZXMgdG8gYmUgbnVtYmVycycgK1xuICAgICcgb3IgbnVtYmVyIGFycmF5cyc7XG4gIHJldHVybiBuZXcgQnVpbHRJbkVycm9yKG1lc3NhZ2UpO1xufVxuXG5mdW5jdGlvbiBzdW0odmFsdWVzKSB7XG4gIHZhciByZXN1bHQgPSAwO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgdmFyIG51bSA9IHZhbHVlc1tpXTtcbiAgICBpZiAodHlwZW9mIG51bSAhPT0gJ251bWJlcicpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KG51bSkpIHtcbiAgICAgICAgLy8gbGlzdHMgb2YgbnVtYmVycyBhcmUgYWxzbyBhbGxvd2VkLCBzdW0gdGhlbSBzZXBhcmF0ZWx5XG4gICAgICAgIHJlc3VsdCA9IHR5cGVvZiByZXN1bHQgPT09ICdudW1iZXInID8gW3Jlc3VsdF0gOiByZXN1bHQ7XG4gICAgICAgIGZvciAodmFyIGogPSAwLCBqTGVuID0gbnVtLmxlbmd0aDsgaiA8IGpMZW47IGorKykge1xuICAgICAgICAgIHZhciBqTnVtID0gbnVtW2pdO1xuICAgICAgICAgIGlmICh0eXBlb2Ygak51bSAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdFtqXSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKGpOdW0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRbal0gKz0gak51bTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7IC8vIG5vdCBhcnJheS9udW1iZXJcbiAgICAgICAgdGhyb3cgY3JlYXRlQnVpbHRJbkVycm9yKCdfc3VtJyk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJykge1xuICAgICAgcmVzdWx0ICs9IG51bTtcbiAgICB9IGVsc2UgeyAvLyBhZGQgbnVtYmVyIHRvIGFycmF5XG4gICAgICByZXN1bHRbMF0gKz0gbnVtO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG52YXIgbG9nID0gZ3VhcmRlZENvbnNvbGUuYmluZChudWxsLCAnbG9nJyk7XG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXk7XG52YXIgdG9KU09OID0gSlNPTi5wYXJzZTtcblxuZnVuY3Rpb24gZXZhbEZ1bmN0aW9uV2l0aEV2YWwoZnVuYywgZW1pdCkge1xuICByZXR1cm4gc2NvcGVFdmFsKFxuICAgIFwicmV0dXJuIChcIiArIGZ1bmMucmVwbGFjZSgvO1xccyokLywgXCJcIikgKyBcIik7XCIsXG4gICAge1xuICAgICAgZW1pdDogZW1pdCxcbiAgICAgIHN1bTogc3VtLFxuICAgICAgbG9nOiBsb2csXG4gICAgICBpc0FycmF5OiBpc0FycmF5LFxuICAgICAgdG9KU09OOiB0b0pTT05cbiAgICB9XG4gICk7XG59XG5cbi8qXG4gKiBTaW1wbGUgdGFzayBxdWV1ZSB0byBzZXF1ZW50aWFsaXplIGFjdGlvbnMuIEFzc3VtZXNcbiAqIGNhbGxiYWNrcyB3aWxsIGV2ZW50dWFsbHkgZmlyZSAob25jZSkuXG4gKi9cblxuXG5mdW5jdGlvbiBUYXNrUXVldWUkMSgpIHtcbiAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwpIHtmdWxmaWxsKCk7IH0pO1xufVxuVGFza1F1ZXVlJDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChwcm9taXNlRmFjdG9yeSkge1xuICB0aGlzLnByb21pc2UgPSB0aGlzLnByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgIC8vIGp1c3QgcmVjb3ZlclxuICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gcHJvbWlzZUZhY3RvcnkoKTtcbiAgfSk7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuVGFza1F1ZXVlJDEucHJvdG90eXBlLmZpbmlzaCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbn07XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShpbnB1dCkge1xuICBpZiAoIWlucHV0KSB7XG4gICAgcmV0dXJuICd1bmRlZmluZWQnOyAvLyBiYWNrd2FyZHMgY29tcGF0IGZvciBlbXB0eSByZWR1Y2VcbiAgfVxuICAvLyBmb3IgYmFja3dhcmRzIGNvbXBhdCB3aXRoIG1hcHJlZHVjZSwgZnVuY3Rpb25zL3N0cmluZ3MgYXJlIHN0cmluZ2lmaWVkXG4gIC8vIGFzLWlzLiBldmVyeXRoaW5nIGVsc2UgaXMgSlNPTi1zdHJpbmdpZmllZC5cbiAgc3dpdGNoICh0eXBlb2YgaW5wdXQpIHtcbiAgICBjYXNlICdmdW5jdGlvbic6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIG1hcFxuICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCk7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIC8vIGUuZy4gYSBtYXByZWR1Y2UgYnVpbHQtaW4gX3JlZHVjZSBmdW5jdGlvblxuICAgICAgcmV0dXJuIGlucHV0LnRvU3RyaW5nKCk7XG4gICAgZGVmYXVsdDpcbiAgICAgIC8vIGUuZy4gYSBKU09OIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBtYW5nbyBxdWVyaWVzXG4gICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoaW5wdXQpO1xuICB9XG59XG5cbi8qIGNyZWF0ZSBhIHN0cmluZyBzaWduYXR1cmUgZm9yIGEgdmlldyBzbyB3ZSBjYW4gY2FjaGUgaXQgYW5kIHVuaXEgaXQgKi9cbmZ1bmN0aW9uIGNyZWF0ZVZpZXdTaWduYXR1cmUobWFwRnVuLCByZWR1Y2VGdW4pIHtcbiAgLy8gdGhlIFwidW5kZWZpbmVkXCIgcGFydCBpcyBmb3IgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgcmV0dXJuIHN0cmluZ2lmeShtYXBGdW4pICsgc3RyaW5naWZ5KHJlZHVjZUZ1bikgKyAndW5kZWZpbmVkJztcbn1cblxuZnVuY3Rpb24gY3JlYXRlVmlldyhzb3VyY2VEQiwgdmlld05hbWUsIG1hcEZ1biwgcmVkdWNlRnVuLCB0ZW1wb3JhcnksIGxvY2FsRG9jTmFtZSkge1xuICB2YXIgdmlld1NpZ25hdHVyZSA9IGNyZWF0ZVZpZXdTaWduYXR1cmUobWFwRnVuLCByZWR1Y2VGdW4pO1xuXG4gIHZhciBjYWNoZWRWaWV3cztcbiAgaWYgKCF0ZW1wb3JhcnkpIHtcbiAgICAvLyBjYWNoZSB0aGlzIHRvIGVuc3VyZSB3ZSBkb24ndCB0cnkgdG8gdXBkYXRlIHRoZSBzYW1lIHZpZXcgdHdpY2VcbiAgICBjYWNoZWRWaWV3cyA9IHNvdXJjZURCLl9jYWNoZWRWaWV3cyA9IHNvdXJjZURCLl9jYWNoZWRWaWV3cyB8fCB7fTtcbiAgICBpZiAoY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0pIHtcbiAgICAgIHJldHVybiBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICB9XG4gIH1cblxuICB2YXIgcHJvbWlzZUZvclZpZXcgPSBzb3VyY2VEQi5pbmZvKCkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuXG4gICAgdmFyIGRlcERiTmFtZSA9IGluZm8uZGJfbmFtZSArICctbXJ2aWV3LScgK1xuICAgICAgKHRlbXBvcmFyeSA/ICd0ZW1wJyA6IHN0cmluZ01kNSh2aWV3U2lnbmF0dXJlKSk7XG5cbiAgICAvLyBzYXZlIHRoZSB2aWV3IG5hbWUgaW4gdGhlIHNvdXJjZSBkYiBzbyBpdCBjYW4gYmUgY2xlYW5lZCB1cCBpZiBuZWNlc3NhcnlcbiAgICAvLyAoZS5nLiB3aGVuIHRoZSBfZGVzaWduIGRvYyBpcyBkZWxldGVkLCByZW1vdmUgYWxsIGFzc29jaWF0ZWQgdmlldyBkYXRhKVxuICAgIGZ1bmN0aW9uIGRpZmZGdW5jdGlvbihkb2MpIHtcbiAgICAgIGRvYy52aWV3cyA9IGRvYy52aWV3cyB8fCB7fTtcbiAgICAgIHZhciBmdWxsVmlld05hbWUgPSB2aWV3TmFtZTtcbiAgICAgIGlmIChmdWxsVmlld05hbWUuaW5kZXhPZignLycpID09PSAtMSkge1xuICAgICAgICBmdWxsVmlld05hbWUgPSB2aWV3TmFtZSArICcvJyArIHZpZXdOYW1lO1xuICAgICAgfVxuICAgICAgdmFyIGRlcERicyA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdID0gZG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0gfHwge307XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChkZXBEYnNbZGVwRGJOYW1lXSkge1xuICAgICAgICByZXR1cm47IC8vIG5vIHVwZGF0ZSBuZWNlc3NhcnlcbiAgICAgIH1cbiAgICAgIGRlcERic1tkZXBEYk5hbWVdID0gdHJ1ZTtcbiAgICAgIHJldHVybiBkb2M7XG4gICAgfVxuICAgIHJldHVybiB1cHNlcnQoc291cmNlREIsICdfbG9jYWwvJyArIGxvY2FsRG9jTmFtZSwgZGlmZkZ1bmN0aW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEQi5yZWdpc3RlckRlcGVuZGVudERhdGFiYXNlKGRlcERiTmFtZSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciBkYiA9IHJlcy5kYjtcbiAgICAgICAgZGIuYXV0b19jb21wYWN0aW9uID0gdHJ1ZTtcbiAgICAgICAgdmFyIHZpZXcgPSB7XG4gICAgICAgICAgbmFtZTogZGVwRGJOYW1lLFxuICAgICAgICAgIGRiOiBkYixcbiAgICAgICAgICBzb3VyY2VEQjogc291cmNlREIsXG4gICAgICAgICAgYWRhcHRlcjogc291cmNlREIuYWRhcHRlcixcbiAgICAgICAgICBtYXBGdW46IG1hcEZ1bixcbiAgICAgICAgICByZWR1Y2VGdW46IHJlZHVjZUZ1blxuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gdmlldy5kYi5nZXQoJ19sb2NhbC9sYXN0U2VxJykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGxhc3RTZXFEb2MpIHtcbiAgICAgICAgICB2aWV3LnNlcSA9IGxhc3RTZXFEb2MgPyBsYXN0U2VxRG9jLnNlcSA6IDA7XG4gICAgICAgICAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgICAgICAgICB2aWV3LmRiLm9uY2UoJ2Rlc3Ryb3llZCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgZGVsZXRlIGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICBpZiAoY2FjaGVkVmlld3MpIHtcbiAgICBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXSA9IHByb21pc2VGb3JWaWV3O1xuICB9XG4gIHJldHVybiBwcm9taXNlRm9yVmlldztcbn1cblxudmFyIHBlcnNpc3RlbnRRdWV1ZXMgPSB7fTtcbnZhciB0ZW1wVmlld1F1ZXVlID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG52YXIgQ0hBTkdFU19CQVRDSF9TSVpFJDEgPSA1MDtcblxuZnVuY3Rpb24gcGFyc2VWaWV3TmFtZShuYW1lKSB7XG4gIC8vIGNhbiBiZSBlaXRoZXIgJ2Rkb2NuYW1lL3ZpZXduYW1lJyBvciBqdXN0ICd2aWV3bmFtZSdcbiAgLy8gKHdoZXJlIHRoZSBkZG9jIG5hbWUgaXMgdGhlIHNhbWUpXG4gIHJldHVybiBuYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEgPyBbbmFtZSwgbmFtZV0gOiBuYW1lLnNwbGl0KCcvJyk7XG59XG5cbmZ1bmN0aW9uIGlzR2VuT25lKGNoYW5nZXMpIHtcbiAgLy8gb25seSByZXR1cm4gdHJ1ZSBpZiB0aGUgY3VycmVudCBjaGFuZ2UgaXMgMS1cbiAgLy8gYW5kIHRoZXJlIGFyZSBubyBvdGhlciBsZWFmc1xuICByZXR1cm4gY2hhbmdlcy5sZW5ndGggPT09IDEgJiYgL14xLS8udGVzdChjaGFuZ2VzWzBdLnJldik7XG59XG5cbmZ1bmN0aW9uIGVtaXRFcnJvcihkYiwgZSkge1xuICB0cnkge1xuICAgIGRiLmVtaXQoJ2Vycm9yJywgZSk7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsXG4gICAgICAnVGhlIHVzZXJcXCdzIG1hcC9yZWR1Y2UgZnVuY3Rpb24gdGhyZXcgYW4gdW5jYXVnaHQgZXJyb3IuXFxuJyArXG4gICAgICAnWW91IGNhbiBkZWJ1ZyB0aGlzIGVycm9yIGJ5IGRvaW5nOlxcbicgK1xuICAgICAgJ215RGF0YWJhc2Uub24oXFwnZXJyb3JcXCcsIGZ1bmN0aW9uIChlcnIpIHsgZGVidWdnZXI7IH0pO1xcbicgK1xuICAgICAgJ1BsZWFzZSBkb3VibGUtY2hlY2sgeW91ciBtYXAvcmVkdWNlIGZ1bmN0aW9uLicpO1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsIGUpO1xuICB9XG59XG5cbi8qKlxuICogUmV0dXJucyBhbiBcImFic3RyYWN0XCIgbWFwcmVkdWNlIG9iamVjdCBvZiB0aGUgZm9ybTpcbiAqXG4gKiAgIHtcbiAqICAgICBxdWVyeTogcXVlcnlGdW4sXG4gKiAgICAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwRnVuXG4gKiAgIH1cbiAqXG4gKiBBcmd1bWVudHMgYXJlOlxuICpcbiAqIGxvY2FsRG9jOiBzdHJpbmdcbiAqICAgVGhpcyBpcyBmb3IgdGhlIGxvY2FsIGRvYyB0aGF0IGdldHMgc2F2ZWQgaW4gb3JkZXIgdG8gdHJhY2sgdGhlXG4gKiAgIFwiZGVwZW5kZW50XCIgREJzIGFuZCBjbGVhbiB0aGVtIHVwIGZvciB2aWV3Q2xlYW51cC4gSXQgc2hvdWxkIGJlXG4gKiAgIHVuaXF1ZSwgc28gdGhhdCBpbmRleGVyIHBsdWdpbnMgZG9uJ3QgY29sbGlkZSB3aXRoIGVhY2ggb3RoZXIuXG4gKiBtYXBwZXI6IGZ1bmN0aW9uIChtYXBGdW5EZWYsIGVtaXQpXG4gKiAgIFJldHVybnMgYSBtYXAgZnVuY3Rpb24gYmFzZWQgb24gdGhlIG1hcEZ1bkRlZiwgd2hpY2ggaW4gdGhlIGNhc2Ugb2ZcbiAqICAgbm9ybWFsIG1hcC9yZWR1Y2UgaXMganVzdCB0aGUgZGUtc3RyaW5naWZpZWQgZnVuY3Rpb24sIGJ1dCBtYXkgYmVcbiAqICAgc29tZXRoaW5nIGVsc2UsIHN1Y2ggYXMgYW4gb2JqZWN0IGluIHRoZSBjYXNlIG9mIHBvdWNoZGItZmluZC5cbiAqIHJlZHVjZXI6IGZ1bmN0aW9uIChyZWR1Y2VGdW5EZWYpXG4gKiAgIERpdHRvLCBidXQgZm9yIHJlZHVjaW5nLiBNb2R1bGVzIGRvbid0IGhhdmUgdG8gc3VwcG9ydCByZWR1Y2luZ1xuICogICAoZS5nLiBwb3VjaGRiLWZpbmQpLlxuICogZGRvY1ZhbGlkYXRvcjogZnVuY3Rpb24gKGRkb2MsIHZpZXdOYW1lKVxuICogICBUaHJvd3MgYW4gZXJyb3IgaWYgdGhlIGRkb2Mgb3Igdmlld05hbWUgaXMgbm90IHZhbGlkLlxuICogICBUaGlzIGNvdWxkIGJlIGEgd2F5IHRvIGNvbW11bmljYXRlIHRvIHRoZSB1c2VyIHRoYXQgdGhlIGNvbmZpZ3VyYXRpb24gZm9yIHRoZVxuICogICBpbmRleGVyIGlzIGludmFsaWQuXG4gKi9cbmZ1bmN0aW9uIGNyZWF0ZUFic3RyYWN0TWFwUmVkdWNlKGxvY2FsRG9jTmFtZSwgbWFwcGVyLCByZWR1Y2VyLCBkZG9jVmFsaWRhdG9yKSB7XG5cbiAgZnVuY3Rpb24gdHJ5TWFwKGRiLCBmdW4sIGRvYykge1xuICAgIC8vIGVtaXQgYW4gZXZlbnQgaWYgdGhlcmUgd2FzIGFuIGVycm9yIHRocm93biBieSBhIG1hcCBmdW5jdGlvbi5cbiAgICAvLyBwdXR0aW5nIHRyeS9jYXRjaGVzIGluIGEgc2luZ2xlIGZ1bmN0aW9uIGFsc28gYXZvaWRzIGRlb3B0aW1pemF0aW9ucy5cbiAgICB0cnkge1xuICAgICAgZnVuKGRvYyk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZW1pdEVycm9yKGRiLCBlKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiB0cnlSZWR1Y2UoZGIsIGZ1biwga2V5cywgdmFsdWVzLCByZXJlZHVjZSkge1xuICAgIC8vIHNhbWUgYXMgYWJvdmUsIGJ1dCByZXR1cm5pbmcgdGhlIHJlc3VsdCBvciBhbiBlcnJvci4gdGhlcmUgYXJlIHR3byBzZXBhcmF0ZVxuICAgIC8vIGZ1bmN0aW9ucyB0byBhdm9pZCBleHRyYSBtZW1vcnkgYWxsb2NhdGlvbnMgc2luY2UgdGhlIHRyeUNvZGUoKSBjYXNlIGlzIHVzZWRcbiAgICAvLyBmb3IgY3VzdG9tIG1hcCBmdW5jdGlvbnMgKGNvbW1vbikgdnMgdGhpcyBmdW5jdGlvbiwgd2hpY2ggaXMgb25seSB1c2VkIGZvclxuICAgIC8vIGN1c3RvbSByZWR1Y2UgZnVuY3Rpb25zIChyYXJlKVxuICAgIHRyeSB7XG4gICAgICByZXR1cm4ge291dHB1dCA6IGZ1bihrZXlzLCB2YWx1ZXMsIHJlcmVkdWNlKX07XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZW1pdEVycm9yKGRiLCBlKTtcbiAgICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNvcnRCeUtleVRoZW5WYWx1ZSh4LCB5KSB7XG4gICAgdmFyIGtleUNvbXBhcmUgPSBjb2xsYXRlKHgua2V5LCB5LmtleSk7XG4gICAgcmV0dXJuIGtleUNvbXBhcmUgIT09IDAgPyBrZXlDb21wYXJlIDogY29sbGF0ZSh4LnZhbHVlLCB5LnZhbHVlKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHNsaWNlUmVzdWx0cyhyZXN1bHRzLCBsaW1pdCwgc2tpcCkge1xuICAgIHNraXAgPSBza2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBsaW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXAsIGxpbWl0ICsgc2tpcCk7XG4gICAgfSBlbHNlIGlmIChza2lwID4gMCkge1xuICAgICAgcmV0dXJuIHJlc3VsdHMuc2xpY2Uoc2tpcCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gcm93VG9Eb2NJZChyb3cpIHtcbiAgICB2YXIgdmFsID0gcm93LnZhbHVlO1xuICAgIC8vIFVzZXJzIGNhbiBleHBsaWNpdGx5IHNwZWNpZnkgYSBqb2luZWQgZG9jIF9pZCwgb3IgaXRcbiAgICAvLyBkZWZhdWx0cyB0byB0aGUgZG9jIF9pZCB0aGF0IGVtaXR0ZWQgdGhlIGtleS92YWx1ZS5cbiAgICB2YXIgZG9jSWQgPSAodmFsICYmIHR5cGVvZiB2YWwgPT09ICdvYmplY3QnICYmIHZhbC5faWQpIHx8IHJvdy5pZDtcbiAgICByZXR1cm4gZG9jSWQ7XG4gIH1cblxuICBmdW5jdGlvbiByZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcihyZXMpIHtcbiAgICByZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgIHZhciBhdHRzID0gcm93LmRvYyAmJiByb3cuZG9jLl9hdHRhY2htZW50cztcbiAgICAgIGlmICghYXR0cykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tmaWxlbmFtZV07XG4gICAgICAgIGF0dHNbZmlsZW5hbWVdLmRhdGEgPSBiNjRUb0JsdWZmZXIoYXR0LmRhdGEsIGF0dC5jb250ZW50X3R5cGUpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlcykge1xuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXM7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZEh0dHBQYXJhbShwYXJhbU5hbWUsIG9wdHMsIHBhcmFtcywgYXNKc29uKSB7XG4gICAgLy8gYWRkIGFuIGh0dHAgcGFyYW0gZnJvbSBvcHRzIHRvIHBhcmFtcywgb3B0aW9uYWxseSBqc29uLWVuY29kZWRcbiAgICB2YXIgdmFsID0gb3B0c1twYXJhbU5hbWVdO1xuICAgIGlmICh0eXBlb2YgdmFsICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgaWYgKGFzSnNvbikge1xuICAgICAgICB2YWwgPSBlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodmFsKSk7XG4gICAgICB9XG4gICAgICBwYXJhbXMucHVzaChwYXJhbU5hbWUgKyAnPScgKyB2YWwpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvZXJjZUludGVnZXIoaW50ZWdlckNhbmRpZGF0ZSkge1xuICAgIGlmICh0eXBlb2YgaW50ZWdlckNhbmRpZGF0ZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBhc051bWJlciA9IE51bWJlcihpbnRlZ2VyQ2FuZGlkYXRlKTtcbiAgICAgIC8vIHByZXZlbnRzIGUuZy4gJzFmb28nIG9yICcxLjEnIGJlaW5nIGNvZXJjZWQgdG8gMVxuICAgICAgaWYgKCFpc05hTihhc051bWJlcikgJiYgYXNOdW1iZXIgPT09IHBhcnNlSW50KGludGVnZXJDYW5kaWRhdGUsIDEwKSkge1xuICAgICAgICByZXR1cm4gYXNOdW1iZXI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW50ZWdlckNhbmRpZGF0ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VPcHRpb25zKG9wdHMpIHtcbiAgICBvcHRzLmdyb3VwX2xldmVsID0gY29lcmNlSW50ZWdlcihvcHRzLmdyb3VwX2xldmVsKTtcbiAgICBvcHRzLmxpbWl0ID0gY29lcmNlSW50ZWdlcihvcHRzLmxpbWl0KTtcbiAgICBvcHRzLnNraXAgPSBjb2VyY2VJbnRlZ2VyKG9wdHMuc2tpcCk7XG4gICAgcmV0dXJuIG9wdHM7XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1Bvc2l0aXZlSW50ZWdlcihudW1iZXIpIHtcbiAgICBpZiAobnVtYmVyKSB7XG4gICAgICBpZiAodHlwZW9mIG51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICAgICAgcmV0dXJuICBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBpbnRlZ2VyOiBcIicgK1xuICAgICAgICAgIG51bWJlciArICdcIicpO1xuICAgICAgfVxuICAgICAgaWYgKG51bWJlciA8IDApIHtcbiAgICAgICAgcmV0dXJuIG5ldyBRdWVyeVBhcnNlRXJyb3IoJ0ludmFsaWQgdmFsdWUgZm9yIHBvc2l0aXZlIGludGVnZXI6ICcgK1xuICAgICAgICAgICdcIicgKyBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRpb25zLCBmdW4pIHtcbiAgICB2YXIgc3RhcnRrZXlOYW1lID0gb3B0aW9ucy5kZXNjZW5kaW5nID8gJ2VuZGtleScgOiAnc3RhcnRrZXknO1xuICAgIHZhciBlbmRrZXlOYW1lID0gb3B0aW9ucy5kZXNjZW5kaW5nID8gJ3N0YXJ0a2V5JyA6ICdlbmRrZXknO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRpb25zW3N0YXJ0a2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICB0eXBlb2Ygb3B0aW9uc1tlbmRrZXlOYW1lXSAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgIGNvbGxhdGUob3B0aW9uc1tzdGFydGtleU5hbWVdLCBvcHRpb25zW2VuZGtleU5hbWVdKSA+IDApIHtcbiAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ05vIHJvd3MgY2FuIG1hdGNoIHlvdXIga2V5IHJhbmdlLCAnICtcbiAgICAgICAgJ3JldmVyc2UgeW91ciBzdGFydF9rZXkgYW5kIGVuZF9rZXkgb3Igc2V0IHtkZXNjZW5kaW5nIDogdHJ1ZX0nKTtcbiAgICB9IGVsc2UgaWYgKGZ1bi5yZWR1Y2UgJiYgb3B0aW9ucy5yZWR1Y2UgIT09IGZhbHNlKSB7XG4gICAgICBpZiAob3B0aW9ucy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IFF1ZXJ5UGFyc2VFcnJvcigne2luY2x1ZGVfZG9jczp0cnVlfSBpcyBpbnZhbGlkIGZvciByZWR1Y2UnKTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5rZXlzICYmIG9wdGlvbnMua2V5cy5sZW5ndGggPiAxICYmXG4gICAgICAgICFvcHRpb25zLmdyb3VwICYmICFvcHRpb25zLmdyb3VwX2xldmVsKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ011bHRpLWtleSBmZXRjaGVzIGZvciByZWR1Y2Ugdmlld3MgbXVzdCB1c2UgJyArXG4gICAgICAgICAgJ3tncm91cDogdHJ1ZX0nKTtcbiAgICAgIH1cbiAgICB9XG4gICAgWydncm91cF9sZXZlbCcsICdsaW1pdCcsICdza2lwJ10uZm9yRWFjaChmdW5jdGlvbiAob3B0aW9uTmFtZSkge1xuICAgICAgdmFyIGVycm9yID0gY2hlY2tQb3NpdGl2ZUludGVnZXIob3B0aW9uc1tvcHRpb25OYW1lXSk7XG4gICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIC8vIExpc3Qgb2YgcGFyYW1ldGVycyB0byBhZGQgdG8gdGhlIFBVVCByZXF1ZXN0XG4gICAgdmFyIHBhcmFtcyA9IFtdO1xuICAgIHZhciBib2R5O1xuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgb2ssIHN0YXR1cztcblxuICAgIC8vIElmIG9wdHMucmVkdWNlIGV4aXN0cyBhbmQgaXMgZGVmaW5lZCwgdGhlbiBhZGQgaXQgdG8gdGhlIGxpc3RcbiAgICAvLyBvZiBwYXJhbWV0ZXJzLlxuICAgIC8vIElmIHJlZHVjZT1mYWxzZSB0aGVuIHRoZSByZXN1bHRzIGFyZSB0aGF0IG9mIG9ubHkgdGhlIG1hcCBmdW5jdGlvblxuICAgIC8vIG5vdCB0aGUgZmluYWwgcmVzdWx0IG9mIG1hcCBhbmQgcmVkdWNlLlxuICAgIGFkZEh0dHBQYXJhbSgncmVkdWNlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2luY2x1ZGVfZG9jcycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdhdHRhY2htZW50cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdsaW1pdCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdkZXNjZW5kaW5nJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2dyb3VwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2dyb3VwX2xldmVsJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3NraXAnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnc3RhbGUnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnY29uZmxpY3RzJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YXJ0a2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YXJ0X2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdlbmRrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5kX2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdXNpdmVfZW5kJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2tleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCd1cGRhdGVfc2VxJywgb3B0cywgcGFyYW1zKTtcblxuICAgIC8vIEZvcm1hdCB0aGUgbGlzdCBvZiBwYXJhbWV0ZXJzIGludG8gYSB2YWxpZCBVUkkgcXVlcnkgc3RyaW5nXG4gICAgcGFyYW1zID0gcGFyYW1zLmpvaW4oJyYnKTtcbiAgICBwYXJhbXMgPSBwYXJhbXMgPT09ICcnID8gJycgOiAnPycgKyBwYXJhbXM7XG5cbiAgICAvLyBJZiBrZXlzIGFyZSBzdXBwbGllZCwgaXNzdWUgYSBQT1NUIHRvIGNpcmN1bXZlbnQgR0VUIHF1ZXJ5IHN0cmluZyBsaW1pdHNcbiAgICAvLyBzZWUgaHR0cDovL3dpa2kuYXBhY2hlLm9yZy9jb3VjaGRiL0hUVFBfdmlld19BUEkjUXVlcnlpbmdfT3B0aW9uc1xuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgdmFyIE1BWF9VUkxfTEVOR1RIID0gMjAwMDtcbiAgICAgIC8vIGFjY29yZGluZyB0byBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80MTcxODQvNjgwNzQyLFxuICAgICAgLy8gdGhlIGRlIGZhY3RvIFVSTCBsZW5ndGggbGltaXQgaXMgMjAwMCBjaGFyYWN0ZXJzXG5cbiAgICAgIHZhciBrZXlzQXNTdHJpbmcgPVxuICAgICAgICAna2V5cz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KG9wdHMua2V5cykpO1xuICAgICAgaWYgKGtleXNBc1N0cmluZy5sZW5ndGggKyBwYXJhbXMubGVuZ3RoICsgMSA8PSBNQVhfVVJMX0xFTkdUSCkge1xuICAgICAgICAvLyBJZiB0aGUga2V5cyBhcmUgc2hvcnQgZW5vdWdoLCBkbyBhIEdFVC4gd2UgZG8gdGhpcyB0byB3b3JrIGFyb3VuZFxuICAgICAgICAvLyBTYWZhcmkgbm90IHVuZGVyc3RhbmRpbmcgMzA0cyBvbiBQT1NUcyAoc2VlIHBvdWNoZGIvcG91Y2hkYiMxMjM5KVxuICAgICAgICBwYXJhbXMgKz0gKHBhcmFtc1swXSA9PT0gJz8nID8gJyYnIDogJz8nKSArIGtleXNBc1N0cmluZztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgICAgaWYgKHR5cGVvZiBmdW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgICAgICB9IGVsc2UgeyAvLyBmdW4gaXMge21hcCA6IG1hcGZ1bn0sIHNvIGFwcGVuZCB0byB0aGlzXG4gICAgICAgICAgZnVuLmtleXMgPSBvcHRzLmtleXM7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgcmVmZXJlbmNpbmcgYSBxdWVyeSBkZWZpbmVkIGluIHRoZSBkZXNpZ24gZG9jXG4gICAgaWYgKHR5cGVvZiBmdW4gPT09ICdzdHJpbmcnKSB7XG4gICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bik7XG4gICAgICByZXR1cm4gZGIuZmV0Y2goJ19kZXNpZ24vJyArIHBhcnRzWzBdICsgJy9fdmlldy8nICsgcGFydHNbMV0gKyBwYXJhbXMsIHtcbiAgICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgaWYgKCFvaykge1xuICAgICAgICAgIHJlc3VsdC5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgICAgdGhyb3cgZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShyZXN1bHQpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZhaWwgdGhlIGVudGlyZSByZXF1ZXN0IGlmIHRoZSByZXN1bHQgY29udGFpbnMgYW4gZXJyb3JcbiAgICAgICAgcmVzdWx0LnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgaWYgKHJvdy52YWx1ZSAmJiByb3cudmFsdWUuZXJyb3IgJiYgcm93LnZhbHVlLmVycm9yID09PSBcImJ1aWx0aW5fcmVkdWNlX2Vycm9yXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihyb3cucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfSkudGhlbihwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpKTtcbiAgICB9XG5cbiAgICAvLyBXZSBhcmUgdXNpbmcgYSB0ZW1wb3JhcnkgdmlldywgdGVycmlibGUgZm9yIHBlcmZvcm1hbmNlLCBnb29kIGZvciB0ZXN0aW5nXG4gICAgYm9keSA9IGJvZHkgfHwge307XG4gICAgT2JqZWN0LmtleXMoZnVuKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGZ1bltrZXldKSkge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJvZHlba2V5XSA9IGZ1bltrZXldLnRvU3RyaW5nKCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gZGIuZmV0Y2goJ190ZW1wX3ZpZXcnICsgcGFyYW1zLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ30pLFxuICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICAgIG9rID0gcmVzcG9uc2Uub2s7XG4gICAgICAgIHN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICBpZiAoIW9rKSB7XG4gICAgICAgIHJlc3VsdC5zdGF0dXMgPSBzdGF0dXM7XG4gICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSkudGhlbihwb3N0cHJvY2Vzc0F0dGFjaG1lbnRzKG9wdHMpKTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3F1ZXJ5XG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21RdWVyeShkYiwgZnVuLCBvcHRzKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGRiLl9xdWVyeShmdW4sIG9wdHMsIGZ1bmN0aW9uIChlcnIsIHJlcykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICB9XG4gICAgICAgIHJlc29sdmUocmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gY3VzdG9tIGFkYXB0ZXJzIGNhbiBkZWZpbmUgdGhlaXIgb3duIGFwaS5fdmlld0NsZWFudXBcbiAgLy8gYW5kIG92ZXJyaWRlIHRoZSBkZWZhdWx0IGJlaGF2aW9yXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIGN1c3RvbVZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgIGRiLl92aWV3Q2xlYW51cChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGRlZmF1bHRzVG8odmFsdWUpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKHJlYXNvbikge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgIGlmIChyZWFzb24uc3RhdHVzID09PSA0MDQpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgcmVhc29uO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvLyByZXR1cm5zIGEgcHJvbWlzZSBmb3IgYSBsaXN0IG9mIGRvY3MgdG8gdXBkYXRlLCBiYXNlZCBvbiB0aGUgaW5wdXQgZG9jSWQuXG4gIC8vIHRoZSBvcmRlciBkb2Vzbid0IG1hdHRlciwgYmVjYXVzZSBwb3N0LTMuMi4wLCBidWxrRG9jc1xuICAvLyBpcyBhbiBhdG9taWMgb3BlcmF0aW9uIGluIGFsbCB0aHJlZSBhZGFwdGVycy5cbiAgZnVuY3Rpb24gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpIHtcbiAgICB2YXIgbWV0YURvY0lkID0gJ19sb2NhbC9kb2NfJyArIGRvY0lkO1xuICAgIHZhciBkZWZhdWx0TWV0YURvYyA9IHtfaWQ6IG1ldGFEb2NJZCwga2V5czogW119O1xuICAgIHZhciBkb2NEYXRhID0gZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMuZ2V0KGRvY0lkKTtcbiAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gZG9jRGF0YVswXTtcbiAgICB2YXIgY2hhbmdlcyA9IGRvY0RhdGFbMV07XG5cbiAgICBmdW5jdGlvbiBnZXRNZXRhRG9jKCkge1xuICAgICAgaWYgKGlzR2VuT25lKGNoYW5nZXMpKSB7XG4gICAgICAgIC8vIGdlbmVyYXRpb24gMSwgc28gd2UgY2FuIHNhZmVseSBhc3N1bWUgaW5pdGlhbCBzdGF0ZVxuICAgICAgICAvLyBmb3IgcGVyZm9ybWFuY2UgcmVhc29ucyAoYXZvaWRzIHVubmVjZXNzYXJ5IEdFVHMpXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZGVmYXVsdE1ldGFEb2MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KG1ldGFEb2NJZCkuY2F0Y2goZGVmYXVsdHNUbyhkZWZhdWx0TWV0YURvYykpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKSB7XG4gICAgICBpZiAoIW1ldGFEb2Mua2V5cy5sZW5ndGgpIHtcbiAgICAgICAgLy8gbm8ga2V5cywgbm8gbmVlZCBmb3IgYSBsb29rdXBcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh7cm93czogW119KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Moe1xuICAgICAgICBrZXlzOiBtZXRhRG9jLmtleXMsXG4gICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0tleVZhbHVlRG9jcyhtZXRhRG9jLCBrdkRvY3NSZXMpIHtcbiAgICAgIHZhciBrdkRvY3MgPSBbXTtcbiAgICAgIHZhciBvbGRLZXlzID0gbmV3IEV4cG9ydGVkU2V0KCk7XG5cbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBrdkRvY3NSZXMucm93cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgcm93ID0ga3ZEb2NzUmVzLnJvd3NbaV07XG4gICAgICAgIHZhciBkb2MgPSByb3cuZG9jO1xuICAgICAgICBpZiAoIWRvYykgeyAvLyBkZWxldGVkXG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAga3ZEb2NzLnB1c2goZG9jKTtcbiAgICAgICAgb2xkS2V5cy5hZGQoZG9jLl9pZCk7XG4gICAgICAgIGRvYy5fZGVsZXRlZCA9ICFpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuaGFzKGRvYy5faWQpO1xuICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgIHZhciBrZXlWYWx1ZSA9IGluZGV4YWJsZUtleXNUb0tleVZhbHVlcy5nZXQoZG9jLl9pZCk7XG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4ga2V5VmFsdWUpIHtcbiAgICAgICAgICAgIGRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgdmFyIG5ld0tleXMgPSBtYXBUb0tleXNBcnJheShpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMpO1xuICAgICAgbmV3S2V5cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgaWYgKCFvbGRLZXlzLmhhcyhrZXkpKSB7XG4gICAgICAgICAgLy8gbmV3IGRvY1xuICAgICAgICAgIHZhciBrdkRvYyA9IHtcbiAgICAgICAgICAgIF9pZDoga2V5XG4gICAgICAgICAgfTtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGtleSk7XG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4ga2V5VmFsdWUpIHtcbiAgICAgICAgICAgIGt2RG9jLnZhbHVlID0ga2V5VmFsdWUudmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIGt2RG9jcy5wdXNoKGt2RG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBtZXRhRG9jLmtleXMgPSB1bmlxKG5ld0tleXMuY29uY2F0KG1ldGFEb2Mua2V5cykpO1xuICAgICAga3ZEb2NzLnB1c2gobWV0YURvYyk7XG5cbiAgICAgIHJldHVybiBrdkRvY3M7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldE1ldGFEb2MoKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICByZXR1cm4gZ2V0S2V5VmFsdWVEb2NzKG1ldGFEb2MpLnRoZW4oZnVuY3Rpb24gKGt2RG9jc1Jlcykge1xuICAgICAgICByZXR1cm4gcHJvY2Vzc0tleVZhbHVlRG9jcyhtZXRhRG9jLCBrdkRvY3NSZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvLyB1cGRhdGVzIGFsbCBlbWl0dGVkIGtleS92YWx1ZSBkb2NzIGFuZCBtZXRhRG9jcyBpbiB0aGUgbXJ2aWV3IGRhdGFiYXNlXG4gIC8vIGZvciB0aGUgZ2l2ZW4gYmF0Y2ggb2YgZG9jdW1lbnRzIGZyb20gdGhlIHNvdXJjZSBkYXRhYmFzZVxuICBmdW5jdGlvbiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICB2YXIgc2VxRG9jSWQgPSAnX2xvY2FsL2xhc3RTZXEnO1xuICAgIHJldHVybiB2aWV3LmRiLmdldChzZXFEb2NJZClcbiAgICAgIC5jYXRjaChkZWZhdWx0c1RvKHtfaWQ6IHNlcURvY0lkLCBzZXE6IDB9KSlcbiAgICAgIC50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgIHZhciBkb2NJZHMgPSBtYXBUb0tleXNBcnJheShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyk7XG4gICAgICAgIHJldHVybiBQcm9taXNlLmFsbChkb2NJZHMubWFwKGZ1bmN0aW9uIChkb2NJZCkge1xuICAgICAgICAgIHJldHVybiBnZXREb2NzVG9QZXJzaXN0KGRvY0lkLCB2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyk7XG4gICAgICAgIH0pKS50aGVuKGZ1bmN0aW9uIChsaXN0T2ZEb2NzVG9QZXJzaXN0KSB7XG4gICAgICAgICAgdmFyIGRvY3NUb1BlcnNpc3QgPSBmbGF0dGVuKGxpc3RPZkRvY3NUb1BlcnNpc3QpO1xuICAgICAgICAgIGxhc3RTZXFEb2Muc2VxID0gc2VxO1xuICAgICAgICAgIGRvY3NUb1BlcnNpc3QucHVzaChsYXN0U2VxRG9jKTtcbiAgICAgICAgICAvLyB3cml0ZSBhbGwgZG9jcyBpbiBhIHNpbmdsZSBvcGVyYXRpb24sIHVwZGF0ZSB0aGUgc2VxIG9uY2VcbiAgICAgICAgICByZXR1cm4gdmlldy5kYi5idWxrRG9jcyh7ZG9jcyA6IGRvY3NUb1BlcnNpc3R9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFF1ZXVlKHZpZXcpIHtcbiAgICB2YXIgdmlld05hbWUgPSB0eXBlb2YgdmlldyA9PT0gJ3N0cmluZycgPyB2aWV3IDogdmlldy5uYW1lO1xuICAgIHZhciBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdO1xuICAgIGlmICghcXVldWUpIHtcbiAgICAgIHF1ZXVlID0gcGVyc2lzdGVudFF1ZXVlc1t2aWV3TmFtZV0gPSBuZXcgVGFza1F1ZXVlJDEoKTtcbiAgICB9XG4gICAgcmV0dXJuIHF1ZXVlO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlldyh2aWV3LCBvcHRzKSB7XG4gICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlldyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiB1cGRhdGVWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cykge1xuICAgIC8vIGJpbmQgdGhlIGVtaXQgZnVuY3Rpb24gb25jZVxuICAgIHZhciBtYXBSZXN1bHRzO1xuICAgIHZhciBkb2M7XG5cbiAgICBmdW5jdGlvbiBlbWl0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBvdXRwdXQgPSB7aWQ6IGRvYy5faWQsIGtleTogbm9ybWFsaXplS2V5KGtleSl9O1xuICAgICAgLy8gRG9uJ3QgZXhwbGljaXRseSBzdG9yZSB0aGUgdmFsdWUgdW5sZXNzIGl0J3MgZGVmaW5lZCBhbmQgbm9uLW51bGwuXG4gICAgICAvLyBUaGlzIHNhdmVzIG9uIHN0b3JhZ2Ugc3BhY2UsIGJlY2F1c2Ugb2Z0ZW4gcGVvcGxlIGRvbid0IHVzZSBpdC5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnICYmIHZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgIG91dHB1dC52YWx1ZSA9IG5vcm1hbGl6ZUtleSh2YWx1ZSk7XG4gICAgICB9XG4gICAgICBtYXBSZXN1bHRzLnB1c2gob3V0cHV0KTtcbiAgICB9XG5cbiAgICB2YXIgbWFwRnVuID0gbWFwcGVyKHZpZXcubWFwRnVuLCBlbWl0KTtcblxuICAgIHZhciBjdXJyZW50U2VxID0gdmlldy5zZXEgfHwgMDtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIHNhdmVLZXlWYWx1ZXModmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIHNlcSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIGxldCBpbmRleGVkX2RvY3MgPSAwO1xuICAgIGxldCBwcm9ncmVzcyA9IHtcbiAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgIGluZGV4ZWRfZG9jczogaW5kZXhlZF9kb2NzXG4gICAgfTtcbiAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuXG4gICAgdmFyIHF1ZXVlID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzTmV4dEJhdGNoKCkge1xuICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuY2hhbmdlcyh7XG4gICAgICAgIHJldHVybl9kb2NzOiB0cnVlLFxuICAgICAgICBjb25mbGljdHM6IHRydWUsXG4gICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgc3R5bGU6ICdhbGxfZG9jcycsXG4gICAgICAgIHNpbmNlOiBjdXJyZW50U2VxLFxuICAgICAgICBsaW1pdDogb3B0cy5jaGFuZ2VzX2JhdGNoX3NpemVcbiAgICAgIH0pLnRoZW4ocHJvY2Vzc0JhdGNoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2gocmVzcG9uc2UpIHtcbiAgICAgIHZhciByZXN1bHRzID0gcmVzcG9uc2UucmVzdWx0cztcbiAgICAgIGlmICghcmVzdWx0cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdmFyIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzID0gY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMocmVzdWx0cyk7XG4gICAgICBxdWV1ZS5hZGQocHJvY2Vzc0NoYW5nZShkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgY3VycmVudFNlcSkpO1xuXG4gICAgICBpbmRleGVkX2RvY3MgPSBpbmRleGVkX2RvY3MgKyByZXN1bHRzLmxlbmd0aDtcbiAgICAgIGxldCBwcm9ncmVzcyA9IHtcbiAgICAgICAgdmlldzogdmlldy5uYW1lLFxuICAgICAgICBsYXN0X3NlcTogcmVzcG9uc2UubGFzdF9zZXEsXG4gICAgICAgIHJlc3VsdHNfY291bnQ6IHJlc3VsdHMubGVuZ3RoLFxuICAgICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgICAgfTtcbiAgICAgIHZpZXcuc291cmNlREIuZW1pdCgnaW5kZXhpbmcnLCBwcm9ncmVzcyk7XG4gICAgICBcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMocmVzdWx0cykge1xuICAgICAgdmFyIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gcmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgY2hhbmdlID0gcmVzdWx0c1tpXTtcbiAgICAgICAgaWYgKGNoYW5nZS5kb2MuX2lkWzBdICE9PSAnXycpIHtcbiAgICAgICAgICBtYXBSZXN1bHRzID0gW107XG4gICAgICAgICAgZG9jID0gY2hhbmdlLmRvYztcblxuICAgICAgICAgIGlmICghZG9jLl9kZWxldGVkKSB7XG4gICAgICAgICAgICB0cnlNYXAodmlldy5zb3VyY2VEQiwgbWFwRnVuLCBkb2MpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtYXBSZXN1bHRzLnNvcnQoc29ydEJ5S2V5VGhlblZhbHVlKTtcblxuICAgICAgICAgIHZhciBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMgPSBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cyk7XG4gICAgICAgICAgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMuc2V0KGNoYW5nZS5kb2MuX2lkLCBbXG4gICAgICAgICAgICBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMsXG4gICAgICAgICAgICBjaGFuZ2UuY2hhbmdlc1xuICAgICAgICAgIF0pO1xuICAgICAgICB9XG4gICAgICAgIGN1cnJlbnRTZXEgPSBjaGFuZ2Uuc2VxO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZUluZGV4YWJsZUtleXNUb0tleVZhbHVlcyhtYXBSZXN1bHRzKSB7XG4gICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG4gICAgICB2YXIgbGFzdEtleTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBtYXBSZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBlbWl0dGVkS2V5VmFsdWUgPSBtYXBSZXN1bHRzW2ldO1xuICAgICAgICB2YXIgY29tcGxleEtleSA9IFtlbWl0dGVkS2V5VmFsdWUua2V5LCBlbWl0dGVkS2V5VmFsdWUuaWRdO1xuICAgICAgICBpZiAoaSA+IDAgJiYgY29sbGF0ZShlbWl0dGVkS2V5VmFsdWUua2V5LCBsYXN0S2V5KSA9PT0gMCkge1xuICAgICAgICAgIGNvbXBsZXhLZXkucHVzaChpKTsgLy8gZHVwIGtleStpZCwgc28gbWFrZSBpdCB1bmlxdWVcbiAgICAgICAgfVxuICAgICAgICBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuc2V0KHRvSW5kZXhhYmxlU3RyaW5nKGNvbXBsZXhLZXkpLCBlbWl0dGVkS2V5VmFsdWUpO1xuICAgICAgICBsYXN0S2V5ID0gZW1pdHRlZEtleVZhbHVlLmtleTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXM7XG4gICAgfVxuXG4gICAgcmV0dXJuIHByb2Nlc3NOZXh0QmF0Y2goKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWV1ZS5maW5pc2goKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHZpZXcuc2VxID0gY3VycmVudFNlcTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHJlZHVjZVZpZXcodmlldywgcmVzdWx0cywgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zLmdyb3VwX2xldmVsID09PSAwKSB7XG4gICAgICBkZWxldGUgb3B0aW9ucy5ncm91cF9sZXZlbDtcbiAgICB9XG5cbiAgICB2YXIgc2hvdWxkR3JvdXAgPSBvcHRpb25zLmdyb3VwIHx8IG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG5cbiAgICB2YXIgcmVkdWNlRnVuID0gcmVkdWNlcih2aWV3LnJlZHVjZUZ1bik7XG5cbiAgICB2YXIgZ3JvdXBzID0gW107XG4gICAgdmFyIGx2bCA9IGlzTmFOKG9wdGlvbnMuZ3JvdXBfbGV2ZWwpID8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZIDpcbiAgICAgIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgcmVzdWx0cy5mb3JFYWNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgbGFzdCA9IGdyb3Vwc1tncm91cHMubGVuZ3RoIC0gMV07XG4gICAgICB2YXIgZ3JvdXBLZXkgPSBzaG91bGRHcm91cCA/IGUua2V5IDogbnVsbDtcblxuICAgICAgLy8gb25seSBzZXQgZ3JvdXBfbGV2ZWwgZm9yIGFycmF5IGtleXNcbiAgICAgIGlmIChzaG91bGRHcm91cCAmJiBBcnJheS5pc0FycmF5KGdyb3VwS2V5KSkge1xuICAgICAgICBncm91cEtleSA9IGdyb3VwS2V5LnNsaWNlKDAsIGx2bCk7XG4gICAgICB9XG5cbiAgICAgIGlmIChsYXN0ICYmIGNvbGxhdGUobGFzdC5ncm91cEtleSwgZ3JvdXBLZXkpID09PSAwKSB7XG4gICAgICAgIGxhc3Qua2V5cy5wdXNoKFtlLmtleSwgZS5pZF0pO1xuICAgICAgICBsYXN0LnZhbHVlcy5wdXNoKGUudmFsdWUpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBncm91cHMucHVzaCh7XG4gICAgICAgIGtleXM6IFtbZS5rZXksIGUuaWRdXSxcbiAgICAgICAgdmFsdWVzOiBbZS52YWx1ZV0sXG4gICAgICAgIGdyb3VwS2V5OiBncm91cEtleVxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmVzdWx0cyA9IFtdO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBncm91cHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHZhciBlID0gZ3JvdXBzW2ldO1xuICAgICAgdmFyIHJlZHVjZVRyeSA9IHRyeVJlZHVjZSh2aWV3LnNvdXJjZURCLCByZWR1Y2VGdW4sIGUua2V5cywgZS52YWx1ZXMsIGZhbHNlKTtcbiAgICAgIGlmIChyZWR1Y2VUcnkuZXJyb3IgJiYgcmVkdWNlVHJ5LmVycm9yIGluc3RhbmNlb2YgQnVpbHRJbkVycm9yKSB7XG4gICAgICAgIC8vIENvdWNoREIgcmV0dXJucyBhbiBlcnJvciBpZiBhIGJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdGhyb3cgcmVkdWNlVHJ5LmVycm9yO1xuICAgICAgfVxuICAgICAgcmVzdWx0cy5wdXNoKHtcbiAgICAgICAgLy8gQ291Y2hEQiBqdXN0IHNldHMgdGhlIHZhbHVlIHRvIG51bGwgaWYgYSBub24tYnVpbHQtaW4gZXJyb3JzIG91dFxuICAgICAgICB2YWx1ZTogcmVkdWNlVHJ5LmVycm9yID8gbnVsbCA6IHJlZHVjZVRyeS5vdXRwdXQsXG4gICAgICAgIGtleTogZS5ncm91cEtleVxuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG5vIHRvdGFsX3Jvd3Mvb2Zmc2V0IHdoZW4gcmVkdWNpbmdcbiAgICByZXR1cm4ge3Jvd3M6IHNsaWNlUmVzdWx0cyhyZXN1bHRzLCBvcHRpb25zLmxpbWl0LCBvcHRpb25zLnNraXApfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKSB7XG4gICAgcmV0dXJuIHNlcXVlbnRpYWxpemUoZ2V0UXVldWUodmlldyksIGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpO1xuICAgIH0pKCk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICB2YXIgdG90YWxSb3dzO1xuICAgIHZhciBzaG91bGRSZWR1Y2UgPSB2aWV3LnJlZHVjZUZ1biAmJiBvcHRzLnJlZHVjZSAhPT0gZmFsc2U7XG4gICAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcgJiYgIW9wdHMua2V5cy5sZW5ndGgpIHtcbiAgICAgIC8vIGVxdWl2YWxlbnQgcXVlcnlcbiAgICAgIG9wdHMubGltaXQgPSAwO1xuICAgICAgZGVsZXRlIG9wdHMua2V5cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEZyb21WaWV3KHZpZXdPcHRzKSB7XG4gICAgICB2aWV3T3B0cy5pbmNsdWRlX2RvY3MgPSB0cnVlO1xuICAgICAgcmV0dXJuIHZpZXcuZGIuYWxsRG9jcyh2aWV3T3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHRvdGFsUm93cyA9IHJlcy50b3RhbF9yb3dzO1xuICAgICAgICByZXR1cm4gcmVzLnJvd3MubWFwKGZ1bmN0aW9uIChyZXN1bHQpIHtcblxuICAgICAgICAgIC8vIGltcGxpY2l0IG1pZ3JhdGlvbiAtIGluIG9sZGVyIHZlcnNpb25zIG9mIFBvdWNoREIsXG4gICAgICAgICAgLy8gd2UgZXhwbGljaXRseSBzdG9yZWQgdGhlIGRvYyBhcyB7aWQ6IC4uLiwga2V5OiAuLi4sIHZhbHVlOiAuLi59XG4gICAgICAgICAgLy8gdGhpcyBpcyB0ZXN0ZWQgaW4gYSBtaWdyYXRpb24gdGVzdFxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgaWYgKCd2YWx1ZScgaW4gcmVzdWx0LmRvYyAmJiB0eXBlb2YgcmVzdWx0LmRvYy52YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIHJlc3VsdC5kb2MudmFsdWUgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVzdWx0LmRvYy52YWx1ZSkuc29ydCgpO1xuICAgICAgICAgICAgLy8gdGhpcyBkZXRlY3Rpb24gbWV0aG9kIGlzIG5vdCBwZXJmZWN0LCBidXQgaXQncyB1bmxpa2VseSB0aGUgdXNlclxuICAgICAgICAgICAgLy8gZW1pdHRlZCBhIHZhbHVlIHdoaWNoIHdhcyBhbiBvYmplY3Qgd2l0aCB0aGVzZSAzIGV4YWN0IGtleXNcbiAgICAgICAgICAgIHZhciBleHBlY3RlZEtleXMgPSBbJ2lkJywgJ2tleScsICd2YWx1ZSddO1xuICAgICAgICAgICAgaWYgKCEoa2V5cyA8IGV4cGVjdGVkS2V5cyB8fCBrZXlzID4gZXhwZWN0ZWRLZXlzKSkge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LmRvYy52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG5cbiAgICAgICAgICB2YXIgcGFyc2VkS2V5QW5kRG9jSWQgPSBwYXJzZUluZGV4YWJsZVN0cmluZyhyZXN1bHQuZG9jLl9pZCk7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGtleTogcGFyc2VkS2V5QW5kRG9jSWRbMF0sXG4gICAgICAgICAgICBpZDogcGFyc2VkS2V5QW5kRG9jSWRbMV0sXG4gICAgICAgICAgICB2YWx1ZTogKCd2YWx1ZScgaW4gcmVzdWx0LmRvYyA/IHJlc3VsdC5kb2MudmFsdWUgOiBudWxsKVxuICAgICAgICAgIH07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gb25NYXBSZXN1bHRzUmVhZHkocm93cykge1xuICAgICAgdmFyIGZpbmFsUmVzdWx0cztcbiAgICAgIGlmIChzaG91bGRSZWR1Y2UpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzID0gcmVkdWNlVmlldyh2aWV3LCByb3dzLCBvcHRzKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdHMua2V5cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogcm93c1xuICAgICAgICB9O1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gc3VwcG9ydCBsaW1pdCwgc2tpcCBmb3Iga2V5cyBxdWVyeVxuICAgICAgICBmaW5hbFJlc3VsdHMgPSB7XG4gICAgICAgICAgdG90YWxfcm93czogdG90YWxSb3dzLFxuICAgICAgICAgIG9mZnNldDogc2tpcCxcbiAgICAgICAgICByb3dzOiBzbGljZVJlc3VsdHMocm93cyxvcHRzLmxpbWl0LG9wdHMuc2tpcClcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgICBmaW5hbFJlc3VsdHMudXBkYXRlX3NlcSA9IHZpZXcuc2VxO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHZhciBkb2NJZHMgPSB1bmlxKHJvd3MubWFwKHJvd1RvRG9jSWQpKTtcblxuICAgICAgICByZXR1cm4gdmlldy5zb3VyY2VEQi5hbGxEb2NzKHtcbiAgICAgICAgICBrZXlzOiBkb2NJZHMsXG4gICAgICAgICAgaW5jbHVkZV9kb2NzOiB0cnVlLFxuICAgICAgICAgIGNvbmZsaWN0czogb3B0cy5jb25mbGljdHMsXG4gICAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChhbGxEb2NzUmVzKSB7XG4gICAgICAgICAgdmFyIGRvY0lkc1RvRG9jcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgICAgIGFsbERvY3NSZXMucm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIGRvY0lkc1RvRG9jcy5zZXQocm93LmlkLCByb3cuZG9jKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgICAgdmFyIGRvY0lkID0gcm93VG9Eb2NJZChyb3cpO1xuICAgICAgICAgICAgdmFyIGRvYyA9IGRvY0lkc1RvRG9jcy5nZXQoZG9jSWQpO1xuICAgICAgICAgICAgaWYgKGRvYykge1xuICAgICAgICAgICAgICByb3cuZG9jID0gZG9jO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZpbmFsUmVzdWx0cztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBrZXlzID0gb3B0cy5rZXlzO1xuICAgICAgdmFyIGZldGNoUHJvbWlzZXMgPSBrZXlzLm1hcChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHZhciB2aWV3T3B0cyA9IHtcbiAgICAgICAgICBzdGFydGtleSA6IHRvSW5kZXhhYmxlU3RyaW5nKFtrZXldKSxcbiAgICAgICAgICBlbmRrZXkgICA6IHRvSW5kZXhhYmxlU3RyaW5nKFtrZXksIHt9XSlcbiAgICAgICAgfTtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgICB2aWV3T3B0cy51cGRhdGVfc2VxID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cyk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBQcm9taXNlLmFsbChmZXRjaFByb21pc2VzKS50aGVuKGZsYXR0ZW4pLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH0gZWxzZSB7IC8vIG5vcm1hbCBxdWVyeSwgbm8gJ2tleXMnXG4gICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgIGRlc2NlbmRpbmcgOiBvcHRzLmRlc2NlbmRpbmdcbiAgICAgIH07XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgc3RhcnRrZXk7XG4gICAgICB2YXIgZW5ka2V5O1xuICAgICAgaWYgKCdzdGFydF9rZXknIGluIG9wdHMpIHtcbiAgICAgICAgc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICAgIH1cbiAgICAgIGlmICgnc3RhcnRrZXknIGluIG9wdHMpIHtcbiAgICAgICAgc3RhcnRrZXkgPSBvcHRzLnN0YXJ0a2V5O1xuICAgICAgfVxuICAgICAgaWYgKCdlbmRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIGVuZGtleSA9IG9wdHMuZW5kX2tleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5ka2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIGVuZGtleSA9IG9wdHMuZW5ka2V5O1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBzdGFydGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBvcHRzLmRlc2NlbmRpbmcgP1xuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleSwge31dKSA6XG4gICAgICAgICAgdG9JbmRleGFibGVTdHJpbmcoW3N0YXJ0a2V5XSk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIGVuZGtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGluY2x1c2l2ZUVuZCA9IG9wdHMuaW5jbHVzaXZlX2VuZCAhPT0gZmFsc2U7XG4gICAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgICBpbmNsdXNpdmVFbmQgPSAhaW5jbHVzaXZlRW5kO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlld09wdHMuZW5ka2V5ID0gdG9JbmRleGFibGVTdHJpbmcoXG4gICAgICAgICAgaW5jbHVzaXZlRW5kID8gW2VuZGtleSwge31dIDogW2VuZGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBvcHRzLmtleSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdmFyIGtleVN0YXJ0ID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5XSk7XG4gICAgICAgIHZhciBrZXlFbmQgPSB0b0luZGV4YWJsZVN0cmluZyhbb3B0cy5rZXksIHt9XSk7XG4gICAgICAgIGlmICh2aWV3T3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBrZXlFbmQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmlld09wdHMuc3RhcnRrZXkgPSBrZXlTdGFydDtcbiAgICAgICAgICB2aWV3T3B0cy5lbmRrZXkgPSBrZXlFbmQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGlmICh0eXBlb2Ygb3B0cy5saW1pdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB2aWV3T3B0cy5saW1pdCA9IG9wdHMubGltaXQ7XG4gICAgICAgIH1cbiAgICAgICAgdmlld09wdHMuc2tpcCA9IHNraXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykudGhlbihvbk1hcFJlc3VsdHNSZWFkeSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdmlld19jbGVhbnVwJywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnXG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBsb2NhbFZpZXdDbGVhbnVwKGRiKSB7XG4gICAgcmV0dXJuIGRiLmdldCgnX2xvY2FsLycgKyBsb2NhbERvY05hbWUpLnRoZW4oZnVuY3Rpb24gKG1ldGFEb2MpIHtcbiAgICAgIHZhciBkb2NzVG9WaWV3cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgT2JqZWN0LmtleXMobWV0YURvYy52aWV3cykuZm9yRWFjaChmdW5jdGlvbiAoZnVsbFZpZXdOYW1lKSB7XG4gICAgICAgIHZhciBwYXJ0cyA9IHBhcnNlVmlld05hbWUoZnVsbFZpZXdOYW1lKTtcbiAgICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSAnX2Rlc2lnbi8nICsgcGFydHNbMF07XG4gICAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgICB2YXIgdmlld3MgPSBkb2NzVG9WaWV3cy5nZXQoZGVzaWduRG9jTmFtZSk7XG4gICAgICAgIGlmICghdmlld3MpIHtcbiAgICAgICAgICB2aWV3cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuICAgICAgICAgIGRvY3NUb1ZpZXdzLnNldChkZXNpZ25Eb2NOYW1lLCB2aWV3cyk7XG4gICAgICAgIH1cbiAgICAgICAgdmlld3MuYWRkKHZpZXdOYW1lKTtcbiAgICAgIH0pO1xuICAgICAgdmFyIG9wdHMgPSB7XG4gICAgICAgIGtleXMgOiBtYXBUb0tleXNBcnJheShkb2NzVG9WaWV3cyksXG4gICAgICAgIGluY2x1ZGVfZG9jcyA6IHRydWVcbiAgICAgIH07XG4gICAgICByZXR1cm4gZGIuYWxsRG9jcyhvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgdmFyIHZpZXdzVG9TdGF0dXMgPSB7fTtcbiAgICAgICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgdmFyIGRkb2NOYW1lID0gcm93LmtleS5zdWJzdHJpbmcoOCk7IC8vIGN1dHMgb2ZmICdfZGVzaWduLydcbiAgICAgICAgICBkb2NzVG9WaWV3cy5nZXQocm93LmtleSkuZm9yRWFjaChmdW5jdGlvbiAodmlld05hbWUpIHtcbiAgICAgICAgICAgIHZhciBmdWxsVmlld05hbWUgPSBkZG9jTmFtZSArICcvJyArIHZpZXdOYW1lO1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoIW1ldGFEb2Mudmlld3NbZnVsbFZpZXdOYW1lXSkge1xuICAgICAgICAgICAgICAvLyBuZXcgZm9ybWF0LCB3aXRob3V0IHNsYXNoZXMsIHRvIHN1cHBvcnQgUG91Y2hEQiAyLjIuMFxuICAgICAgICAgICAgICAvLyBtaWdyYXRpb24gdGVzdCBpbiBwb3VjaGRiJ3MgYnJvd3Nlci5taWdyYXRpb24uanMgdmVyaWZpZXMgdGhpc1xuICAgICAgICAgICAgICBmdWxsVmlld05hbWUgPSB2aWV3TmFtZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciB2aWV3REJOYW1lcyA9IE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3NbZnVsbFZpZXdOYW1lXSk7XG4gICAgICAgICAgICAvLyBkZXNpZ24gZG9jIGRlbGV0ZWQsIG9yIHZpZXcgZnVuY3Rpb24gbm9uZXhpc3RlbnRcbiAgICAgICAgICAgIHZhciBzdGF0dXNJc0dvb2QgPSByb3cuZG9jICYmIHJvdy5kb2Mudmlld3MgJiZcbiAgICAgICAgICAgICAgcm93LmRvYy52aWV3c1t2aWV3TmFtZV07XG4gICAgICAgICAgICB2aWV3REJOYW1lcy5mb3JFYWNoKGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7XG4gICAgICAgICAgICAgIHZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV0gPVxuICAgICAgICAgICAgICAgIHZpZXdzVG9TdGF0dXNbdmlld0RCTmFtZV0gfHwgc3RhdHVzSXNHb29kO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICB2YXIgZGJzVG9EZWxldGUgPSBPYmplY3Qua2V5cyh2aWV3c1RvU3RhdHVzKS5maWx0ZXIoXG4gICAgICAgICAgZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHsgcmV0dXJuICF2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdOyB9KTtcbiAgICAgICAgdmFyIGRlc3Ryb3lQcm9taXNlcyA9IGRic1RvRGVsZXRlLm1hcChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXdEQk5hbWUpLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IGRiLmNvbnN0cnVjdG9yKHZpZXdEQk5hbWUsIGRiLl9fb3B0cykuZGVzdHJveSgpO1xuICAgICAgICAgIH0pKCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZGVzdHJveVByb21pc2VzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4ge29rOiB0cnVlfTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9LCBkZWZhdWx0c1RvKHtvazogdHJ1ZX0pKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHF1ZXJ5UHJvbWlzZWQoZGIsIGZ1biwgb3B0cykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBkYi5fcXVlcnkgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjdXN0b21RdWVyeShkYiwgZnVuLCBvcHRzKTtcbiAgICB9XG4gICAgaWYgKGlzUmVtb3RlKGRiKSkge1xuICAgICAgcmV0dXJuIGh0dHBRdWVyeShkYiwgZnVuLCBvcHRzKTtcbiAgICB9XG5cbiAgICB2YXIgdXBkYXRlVmlld09wdHMgPSB7XG4gICAgICBjaGFuZ2VzX2JhdGNoX3NpemU6IGRiLl9fb3B0cy52aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUgfHwgQ0hBTkdFU19CQVRDSF9TSVpFJDFcbiAgICB9O1xuXG4gICAgaWYgKHR5cGVvZiBmdW4gIT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyB0ZW1wX3ZpZXdcbiAgICAgIGNoZWNrUXVlcnlQYXJzZUVycm9yKG9wdHMsIGZ1bik7XG5cbiAgICAgIHRlbXBWaWV3UXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIGNyZWF0ZVZpZXdQcm9taXNlID0gY3JlYXRlVmlldyhcbiAgICAgICAgICAvKiBzb3VyY2VEQiAqLyBkYixcbiAgICAgICAgICAvKiB2aWV3TmFtZSAqLyAndGVtcF92aWV3L3RlbXBfdmlldycsXG4gICAgICAgICAgLyogbWFwRnVuICovIGZ1bi5tYXAsXG4gICAgICAgICAgLyogcmVkdWNlRnVuICovIGZ1bi5yZWR1Y2UsXG4gICAgICAgICAgLyogdGVtcG9yYXJ5ICovIHRydWUsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgcmV0dXJuIGZpbih1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSksIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHJldHVybiB2aWV3LmRiLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiB0ZW1wVmlld1F1ZXVlLmZpbmlzaCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBwZXJzaXN0ZW50IHZpZXdcbiAgICAgIHZhciBmdWxsVmlld05hbWUgPSBmdW47XG4gICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICB2YXIgZGVzaWduRG9jTmFtZSA9IHBhcnRzWzBdO1xuICAgICAgdmFyIHZpZXdOYW1lID0gcGFydHNbMV07XG4gICAgICByZXR1cm4gZGIuZ2V0KCdfZGVzaWduLycgKyBkZXNpZ25Eb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgdmFyIGZ1biA9IGRvYy52aWV3cyAmJiBkb2Mudmlld3Nbdmlld05hbWVdO1xuXG4gICAgICAgIGlmICghZnVuKSB7XG4gICAgICAgICAgLy8gYmFzaWMgdmFsaWRhdG9yOyBpdCdzIGFzc3VtZWQgdGhhdCBldmVyeSBzdWJjbGFzcyB3b3VsZCB3YW50IHRoaXNcbiAgICAgICAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZG9jLl9pZCArICcgaGFzIG5vIHZpZXcgbmFtZWQgJyArXG4gICAgICAgICAgICB2aWV3TmFtZSk7XG4gICAgICAgIH1cblxuICAgICAgICBkZG9jVmFsaWRhdG9yKGRvYywgdmlld05hbWUpO1xuICAgICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gZnVsbFZpZXdOYW1lLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyBmYWxzZSxcbiAgICAgICAgICAvKiBsb2NhbERvY05hbWUgKi8gbG9jYWxEb2NOYW1lKTtcbiAgICAgICAgcmV0dXJuIGNyZWF0ZVZpZXdQcm9taXNlLnRoZW4oZnVuY3Rpb24gKHZpZXcpIHtcbiAgICAgICAgICBpZiAob3B0cy5zdGFsZSA9PT0gJ29rJyB8fCBvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICd1cGRhdGVfYWZ0ZXInKSB7XG4gICAgICAgICAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBzdGFsZSBub3Qgb2tcbiAgICAgICAgICAgIHJldHVybiB1cGRhdGVWaWV3KHZpZXcsIHVwZGF0ZVZpZXdPcHRzKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHF1ZXJ5Vmlldyh2aWV3LCBvcHRzKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBhYnN0cmFjdFF1ZXJ5KGZ1biwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgZGIgPSB0aGlzO1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gb3B0cyA/IGNvZXJjZU9wdGlvbnMob3B0cykgOiB7fTtcblxuICAgIGlmICh0eXBlb2YgZnVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBmdW4gPSB7bWFwIDogZnVufTtcbiAgICB9XG5cbiAgICB2YXIgcHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHF1ZXJ5UHJvbWlzZWQoZGIsIGZ1biwgb3B0cyk7XG4gICAgfSk7XG4gICAgcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjayk7XG4gICAgcmV0dXJuIHByb21pc2U7XG4gIH1cblxuICB2YXIgYWJzdHJhY3RWaWV3Q2xlYW51cCA9IGNhbGxiYWNraWZ5KGZ1bmN0aW9uICgpIHtcbiAgICB2YXIgZGIgPSB0aGlzO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBkYi5fdmlld0NsZWFudXAgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHJldHVybiBjdXN0b21WaWV3Q2xlYW51cChkYik7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICByZXR1cm4gbG9jYWxWaWV3Q2xlYW51cChkYik7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgcXVlcnk6IGFic3RyYWN0UXVlcnksXG4gICAgdmlld0NsZWFudXA6IGFic3RyYWN0Vmlld0NsZWFudXBcbiAgfTtcbn1cblxudmFyIGJ1aWx0SW5SZWR1Y2UgPSB7XG4gIF9zdW06IGZ1bmN0aW9uIChrZXlzLCB2YWx1ZXMpIHtcbiAgICByZXR1cm4gc3VtKHZhbHVlcyk7XG4gIH0sXG5cbiAgX2NvdW50OiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHZhbHVlcy5sZW5ndGg7XG4gIH0sXG5cbiAgX3N0YXRzOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgLy8gbm8gbmVlZCB0byBpbXBsZW1lbnQgcmVyZWR1Y2U9dHJ1ZSwgYmVjYXVzZSBQb3VjaFxuICAgIC8vIHdpbGwgbmV2ZXIgY2FsbCBpdFxuICAgIGZ1bmN0aW9uIHN1bXNxcih2YWx1ZXMpIHtcbiAgICAgIHZhciBfc3Vtc3FyID0gMDtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSB2YWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIG51bSA9IHZhbHVlc1tpXTtcbiAgICAgICAgX3N1bXNxciArPSAobnVtICogbnVtKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfc3Vtc3FyO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgc3VtICAgICA6IHN1bSh2YWx1ZXMpLFxuICAgICAgbWluICAgICA6IE1hdGgubWluLmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBtYXggICAgIDogTWF0aC5tYXguYXBwbHkobnVsbCwgdmFsdWVzKSxcbiAgICAgIGNvdW50ICAgOiB2YWx1ZXMubGVuZ3RoLFxuICAgICAgc3Vtc3FyIDogc3Vtc3FyKHZhbHVlcylcbiAgICB9O1xuICB9XG59O1xuXG5mdW5jdGlvbiBnZXRCdWlsdEluKHJlZHVjZUZ1blN0cmluZykge1xuICBpZiAoL15fc3VtLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3VtO1xuICB9IGVsc2UgaWYgKC9eX2NvdW50Ly50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fY291bnQ7XG4gIH0gZWxzZSBpZiAoL15fc3RhdHMvLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHJldHVybiBidWlsdEluUmVkdWNlLl9zdGF0cztcbiAgfSBlbHNlIGlmICgvXl8vLnRlc3QocmVkdWNlRnVuU3RyaW5nKSkge1xuICAgIHRocm93IG5ldyBFcnJvcihyZWR1Y2VGdW5TdHJpbmcgKyAnIGlzIG5vdCBhIHN1cHBvcnRlZCByZWR1Y2UgZnVuY3Rpb24uJyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gbWFwcGVyKG1hcEZ1biwgZW1pdCkge1xuICAvLyBmb3IgdGVtcF92aWV3cyBvbmUgY2FuIHVzZSBlbWl0KGRvYywgZW1pdCksIHNlZSAjMzhcbiAgaWYgKHR5cGVvZiBtYXBGdW4gPT09IFwiZnVuY3Rpb25cIiAmJiBtYXBGdW4ubGVuZ3RoID09PSAyKSB7XG4gICAgdmFyIG9yaWdNYXAgPSBtYXBGdW47XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBvcmlnTWFwKGRvYywgZW1pdCk7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gZXZhbEZ1bmN0aW9uV2l0aEV2YWwobWFwRnVuLnRvU3RyaW5nKCksIGVtaXQpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlZHVjZXIocmVkdWNlRnVuKSB7XG4gIHZhciByZWR1Y2VGdW5TdHJpbmcgPSByZWR1Y2VGdW4udG9TdHJpbmcoKTtcbiAgdmFyIGJ1aWx0SW4gPSBnZXRCdWlsdEluKHJlZHVjZUZ1blN0cmluZyk7XG4gIGlmIChidWlsdEluKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW47XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKHJlZHVjZUZ1blN0cmluZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZGRvY1ZhbGlkYXRvcihkZG9jLCB2aWV3TmFtZSkge1xuICB2YXIgZnVuID0gZGRvYy52aWV3cyAmJiBkZG9jLnZpZXdzW3ZpZXdOYW1lXTtcbiAgaWYgKHR5cGVvZiBmdW4ubWFwICE9PSAnc3RyaW5nJykge1xuICAgIHRocm93IG5ldyBOb3RGb3VuZEVycm9yKCdkZG9jICcgKyBkZG9jLl9pZCArICcgaGFzIG5vIHN0cmluZyB2aWV3IG5hbWVkICcgK1xuICAgICAgdmlld05hbWUgKyAnLCBpbnN0ZWFkIGZvdW5kIG9iamVjdCBvZiB0eXBlOiAnICsgdHlwZW9mIGZ1bi5tYXApO1xuICB9XG59XG5cbnZhciBsb2NhbERvY05hbWUgPSAnbXJ2aWV3cyc7XG52YXIgYWJzdHJhY3QgPSBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcik7XG5cbmZ1bmN0aW9uIHF1ZXJ5KGZ1biwgb3B0cywgY2FsbGJhY2spIHtcbiAgcmV0dXJuIGFic3RyYWN0LnF1ZXJ5LmNhbGwodGhpcywgZnVuLCBvcHRzLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIHZpZXdDbGVhbnVwKGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC52aWV3Q2xlYW51cC5jYWxsKHRoaXMsIGNhbGxiYWNrKTtcbn1cblxudmFyIG1hcHJlZHVjZSA9IHtcbiAgcXVlcnk6IHF1ZXJ5LFxuICB2aWV3Q2xlYW51cDogdmlld0NsZWFudXBcbn07XG5cbmZ1bmN0aW9uIGlzR2VuT25lJDEocmV2KSB7XG4gIHJldHVybiAvXjEtLy50ZXN0KHJldik7XG59XG5cbmZ1bmN0aW9uIGZpbGVIYXNDaGFuZ2VkKGxvY2FsRG9jLCByZW1vdGVEb2MsIGZpbGVuYW1lKSB7XG4gIHJldHVybiAhbG9jYWxEb2MuX2F0dGFjaG1lbnRzIHx8XG4gICAgICAgICAhbG9jYWxEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXSB8fFxuICAgICAgICAgbG9jYWxEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3QgIT09IHJlbW90ZURvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVdLmRpZ2VzdDtcbn1cblxuZnVuY3Rpb24gZ2V0RG9jQXR0YWNobWVudHMoZGIsIGRvYykge1xuICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cyk7XG4gIHJldHVybiBQcm9taXNlLmFsbChmaWxlbmFtZXMubWFwKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgIHJldHVybiBkYi5nZXRBdHRhY2htZW50KGRvYy5faWQsIGZpbGVuYW1lLCB7cmV2OiBkb2MuX3Jldn0pO1xuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCBkb2MpIHtcbiAgdmFyIGRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzID0gaXNSZW1vdGUoc3JjKSAmJiAhaXNSZW1vdGUodGFyZ2V0KTtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gIGlmICghZG9DaGVja0ZvckxvY2FsQXR0YWNobWVudHMpIHtcbiAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHMoc3JjLCBkb2MpO1xuICB9XG5cbiAgcmV0dXJuIHRhcmdldC5nZXQoZG9jLl9pZCkudGhlbihmdW5jdGlvbiAobG9jYWxEb2MpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgIGlmIChmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgZG9jLCBmaWxlbmFtZSkpIHtcbiAgICAgICAgcmV0dXJuIHNyYy5nZXRBdHRhY2htZW50KGRvYy5faWQsIGZpbGVuYW1lKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHRhcmdldC5nZXRBdHRhY2htZW50KGxvY2FsRG9jLl9pZCwgZmlsZW5hbWUpO1xuICAgIH0pKTtcbiAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycm9yLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG5cbiAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHMoc3JjLCBkb2MpO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVsa0dldE9wdHMoZGlmZnMpIHtcbiAgdmFyIHJlcXVlc3RzID0gW107XG4gIE9iamVjdC5rZXlzKGRpZmZzKS5mb3JFYWNoKGZ1bmN0aW9uIChpZCkge1xuICAgIHZhciBtaXNzaW5nUmV2cyA9IGRpZmZzW2lkXS5taXNzaW5nO1xuICAgIG1pc3NpbmdSZXZzLmZvckVhY2goZnVuY3Rpb24gKG1pc3NpbmdSZXYpIHtcbiAgICAgIHJlcXVlc3RzLnB1c2goe1xuICAgICAgICBpZDogaWQsXG4gICAgICAgIHJldjogbWlzc2luZ1JldlxuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIHJldHVybiB7XG4gICAgZG9jczogcmVxdWVzdHMsXG4gICAgcmV2czogdHJ1ZSxcbiAgICBsYXRlc3Q6IHRydWVcbiAgfTtcbn1cblxuLy9cbi8vIEZldGNoIGFsbCB0aGUgZG9jdW1lbnRzIGZyb20gdGhlIHNyYyBhcyBkZXNjcmliZWQgaW4gdGhlIFwiZGlmZnNcIixcbi8vIHdoaWNoIGlzIGEgbWFwcGluZyBvZiBkb2NzIElEcyB0byByZXZpc2lvbnMuIElmIHRoZSBzdGF0ZSBldmVyXG4vLyBjaGFuZ2VzIHRvIFwiY2FuY2VsbGVkXCIsIHRoZW4gdGhlIHJldHVybmVkIHByb21pc2Ugd2lsbCBiZSByZWplY3RlZC5cbi8vIEVsc2UgaXQgd2lsbCBiZSByZXNvbHZlZCB3aXRoIGEgbGlzdCBvZiBmZXRjaGVkIGRvY3VtZW50cy5cbi8vXG5mdW5jdGlvbiBnZXREb2NzKHNyYywgdGFyZ2V0LCBkaWZmcywgc3RhdGUpIHtcbiAgZGlmZnMgPSBjbG9uZShkaWZmcyk7IC8vIHdlIGRvIG5vdCBuZWVkIHRvIG1vZGlmeSB0aGlzXG5cbiAgdmFyIHJlc3VsdERvY3MgPSBbXSxcbiAgICAgIG9rID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBnZXRBbGxEb2NzKCkge1xuXG4gICAgdmFyIGJ1bGtHZXRPcHRzID0gY3JlYXRlQnVsa0dldE9wdHMoZGlmZnMpO1xuXG4gICAgaWYgKCFidWxrR2V0T3B0cy5kb2NzLmxlbmd0aCkgeyAvLyBvcHRpbWl6YXRpb246IHNraXAgZW1wdHkgcmVxdWVzdHNcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICByZXR1cm4gc3JjLmJ1bGtHZXQoYnVsa0dldE9wdHMpLnRoZW4oZnVuY3Rpb24gKGJ1bGtHZXRSZXNwb25zZSkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoc3RhdGUuY2FuY2VsbGVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYnVsa0dldFJlc3BvbnNlLnJlc3VsdHMubWFwKGZ1bmN0aW9uIChidWxrR2V0SW5mbykge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYnVsa0dldEluZm8uZG9jcy5tYXAoZnVuY3Rpb24gKGRvYykge1xuICAgICAgICAgIHZhciByZW1vdGVEb2MgPSBkb2Mub2s7XG5cbiAgICAgICAgICBpZiAoZG9jLmVycm9yKSB7XG4gICAgICAgICAgICAvLyB3aGVuIEFVVE9fQ09NUEFDVElPTiBpcyBzZXQsIGRvY3MgY2FuIGJlIHJldHVybmVkIHdoaWNoIGxvb2tcbiAgICAgICAgICAgIC8vIGxpa2UgdGhpczoge1wibWlzc2luZ1wiOlwiMS03YzNhYzI1NmI2OTNjNDYyYWY4NDQyZjk5MmI4MzY5NlwifVxuICAgICAgICAgICAgb2sgPSBmYWxzZTtcbiAgICAgICAgICB9XG5cbiAgICAgICAgICBpZiAoIXJlbW90ZURvYyB8fCAhcmVtb3RlRG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICB9XG5cbiAgICAgICAgICByZXR1cm4gZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UodGFyZ2V0LCBzcmMsIHJlbW90ZURvYylcbiAgICAgICAgICAgICAgICAgICAudGhlbihmdW5jdGlvbiAoYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhyZW1vdGVEb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dGFjaG1lbnRzXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgIC5mb3JFYWNoKGZ1bmN0aW9uIChhdHRhY2htZW50LCBpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGF0dCA9IHJlbW90ZURvYy5fYXR0YWNobWVudHNbZmlsZW5hbWVzW2ldXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgYXR0LnN0dWI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0LmRhdGEgPSBhdHRhY2htZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVtb3RlRG9jO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pKTtcbiAgICAgIH0pKVxuXG4gICAgICAudGhlbihmdW5jdGlvbiAocmVzdWx0cykge1xuICAgICAgICByZXN1bHREb2NzID0gcmVzdWx0RG9jcy5jb25jYXQoZmxhdHRlbihyZXN1bHRzKS5maWx0ZXIoQm9vbGVhbikpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBoYXNBdHRhY2htZW50cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9hdHRhY2htZW50cyAmJiBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQ29uZmxpY3RzKGRvYykge1xuICAgIHJldHVybiBkb2MuX2NvbmZsaWN0cyAmJiBkb2MuX2NvbmZsaWN0cy5sZW5ndGggPiAwO1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hSZXZpc2lvbk9uZURvY3MoaWRzKSB7XG4gICAgLy8gT3B0aW1pemF0aW9uOiBmZXRjaCBnZW4tMSBkb2NzIGFuZCBhdHRhY2htZW50cyBpblxuICAgIC8vIGEgc2luZ2xlIHJlcXVlc3QgdXNpbmcgX2FsbF9kb2NzXG4gICAgcmV0dXJuIHNyYy5hbGxEb2NzKHtcbiAgICAgIGtleXM6IGlkcyxcbiAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgIGNvbmZsaWN0czogdHJ1ZVxuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgIGlmIChyb3cuZGVsZXRlZCB8fCAhcm93LmRvYyB8fCAhaXNHZW5PbmUkMShyb3cudmFsdWUucmV2KSB8fFxuICAgICAgICAgICAgaGFzQXR0YWNobWVudHMocm93LmRvYykgfHwgaGFzQ29uZmxpY3RzKHJvdy5kb2MpKSB7XG4gICAgICAgICAgLy8gaWYgYW55IG9mIHRoZXNlIGNvbmRpdGlvbnMgYXBwbHksIHdlIG5lZWQgdG8gZmV0Y2ggdXNpbmcgZ2V0KClcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdHJpcCBfY29uZmxpY3RzIGFycmF5IHRvIGFwcGVhc2UgQ1NHICgjNTc5MylcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgIGlmIChyb3cuZG9jLl9jb25mbGljdHMpIHtcbiAgICAgICAgICBkZWxldGUgcm93LmRvYy5fY29uZmxpY3RzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdGhlIGRvYyB3ZSBnb3QgYmFjayBmcm9tIGFsbERvY3MoKSBpcyBzdWZmaWNpZW50XG4gICAgICAgIHJlc3VsdERvY3MucHVzaChyb3cuZG9jKTtcbiAgICAgICAgZGVsZXRlIGRpZmZzW3Jvdy5pZF07XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldFJldmlzaW9uT25lRG9jcygpIHtcbiAgICAvLyBmaWx0ZXIgb3V0IHRoZSBnZW5lcmF0aW9uIDEgZG9jcyBhbmQgZ2V0IHRoZW1cbiAgICAvLyBsZWF2aW5nIHRoZSBub24tZ2VuZXJhdGlvbiBvbmUgZG9jcyB0byBiZSBnb3Qgb3RoZXJ3aXNlXG4gICAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKGRpZmZzKS5maWx0ZXIoZnVuY3Rpb24gKGlkKSB7XG4gICAgICB2YXIgbWlzc2luZyA9IGRpZmZzW2lkXS5taXNzaW5nO1xuICAgICAgcmV0dXJuIG1pc3NpbmcubGVuZ3RoID09PSAxICYmIGlzR2VuT25lJDEobWlzc2luZ1swXSk7XG4gICAgfSk7XG4gICAgaWYgKGlkcy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gZmV0Y2hSZXZpc2lvbk9uZURvY3MoaWRzKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiByZXR1cm5SZXN1bHQoKSB7XG4gICAgcmV0dXJuIHsgb2s6b2ssIGRvY3M6cmVzdWx0RG9jcyB9O1xuICB9XG5cbiAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgLnRoZW4oZ2V0UmV2aXNpb25PbmVEb2NzKVxuICAgIC50aGVuKGdldEFsbERvY3MpXG4gICAgLnRoZW4ocmV0dXJuUmVzdWx0KTtcbn1cblxudmFyIENIRUNLUE9JTlRfVkVSU0lPTiA9IDE7XG52YXIgUkVQTElDQVRPUiA9IFwicG91Y2hkYlwiO1xuLy8gVGhpcyBpcyBhbiBhcmJpdHJhcnkgbnVtYmVyIHRvIGxpbWl0IHRoZVxuLy8gYW1vdW50IG9mIHJlcGxpY2F0aW9uIGhpc3Rvcnkgd2Ugc2F2ZSBpbiB0aGUgY2hlY2twb2ludC5cbi8vIElmIHdlIHNhdmUgdG9vIG11Y2gsIHRoZSBjaGVja3BvaW5nIGRvY3Mgd2lsbCBiZWNvbWUgdmVyeSBiaWcsXG4vLyBpZiB3ZSBzYXZlIGZld2VyLCB3ZSdsbCBydW4gYSBncmVhdGVyIHJpc2sgb2YgaGF2aW5nIHRvXG4vLyByZWFkIGFsbCB0aGUgY2hhbmdlcyBmcm9tIDAgd2hlbiBjaGVja3BvaW50IFBVVHMgZmFpbFxuLy8gQ291Y2hEQiAyLjAgaGFzIGEgbW9yZSBpbnZvbHZlZCBoaXN0b3J5IHBydW5pbmcsXG4vLyBidXQgbGV0J3MgZ28gZm9yIHRoZSBzaW1wbGUgdmVyc2lvbiBmb3Igbm93LlxudmFyIENIRUNLUE9JTlRfSElTVE9SWV9TSVpFID0gNTtcbnZhciBMT1dFU1RfU0VRID0gMDtcblxuZnVuY3Rpb24gdXBkYXRlQ2hlY2twb2ludChkYiwgaWQsIGNoZWNrcG9pbnQsIHNlc3Npb24sIHJldHVyblZhbHVlKSB7XG4gIHJldHVybiBkYi5nZXQoaWQpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICBpZiAoZGIuYWRhcHRlciA9PT0gJ2h0dHAnIHx8IGRiLmFkYXB0ZXIgPT09ICdodHRwcycpIHtcbiAgICAgICAgZXhwbGFpbkVycm9yKFxuICAgICAgICAgIDQwNCwgJ1BvdWNoREIgaXMganVzdCBjaGVja2luZyBpZiBhIHJlbW90ZSBjaGVja3BvaW50IGV4aXN0cy4nXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uLFxuICAgICAgICBfaWQ6IGlkLFxuICAgICAgICBoaXN0b3J5OiBbXSxcbiAgICAgICAgcmVwbGljYXRvcjogUkVQTElDQVRPUixcbiAgICAgICAgdmVyc2lvbjogQ0hFQ0tQT0lOVF9WRVJTSU9OXG4gICAgICB9O1xuICAgIH1cbiAgICB0aHJvdyBlcnI7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICAvLyBpZiB0aGUgY2hlY2twb2ludCBoYXMgbm90IGNoYW5nZWQsIGRvIG5vdCB1cGRhdGVcbiAgICBpZiAoZG9jLmxhc3Rfc2VxID09PSBjaGVja3BvaW50KSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIG91dCBjdXJyZW50IGVudHJ5IGZvciB0aGlzIHJlcGxpY2F0aW9uXG4gICAgZG9jLmhpc3RvcnkgPSAoZG9jLmhpc3RvcnkgfHwgW10pLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgcmV0dXJuIGl0ZW0uc2Vzc2lvbl9pZCAhPT0gc2Vzc2lvbjtcbiAgICB9KTtcblxuICAgIC8vIEFkZCB0aGUgbGF0ZXN0IGNoZWNrcG9pbnQgdG8gaGlzdG9yeVxuICAgIGRvYy5oaXN0b3J5LnVuc2hpZnQoe1xuICAgICAgbGFzdF9zZXE6IGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uX2lkOiBzZXNzaW9uXG4gICAgfSk7XG5cbiAgICAvLyBKdXN0IHRha2UgdGhlIGxhc3QgcGllY2VzIGluIGhpc3RvcnksIHRvXG4gICAgLy8gYXZvaWQgcmVhbGx5IGJpZyBjaGVja3BvaW50IGRvY3MuXG4gICAgLy8gc2VlIGNvbW1lbnQgb24gaGlzdG9yeSBzaXplIGFib3ZlXG4gICAgZG9jLmhpc3RvcnkgPSBkb2MuaGlzdG9yeS5zbGljZSgwLCBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSk7XG5cbiAgICBkb2MudmVyc2lvbiA9IENIRUNLUE9JTlRfVkVSU0lPTjtcbiAgICBkb2MucmVwbGljYXRvciA9IFJFUExJQ0FUT1I7XG5cbiAgICBkb2Muc2Vzc2lvbl9pZCA9IHNlc3Npb247XG4gICAgZG9jLmxhc3Rfc2VxID0gY2hlY2twb2ludDtcblxuICAgIHJldHVybiBkYi5wdXQoZG9jKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyLnN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgIC8vIHJldHJ5OyBzb21lb25lIGlzIHRyeWluZyB0byB3cml0ZSBhIGNoZWNrcG9pbnQgc2ltdWx0YW5lb3VzbHlcbiAgICAgICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBDaGVja3BvaW50ZXIoc3JjLCB0YXJnZXQsIGlkLCByZXR1cm5WYWx1ZSwgb3B0cykge1xuICB0aGlzLnNyYyA9IHNyYztcbiAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gIHRoaXMuaWQgPSBpZDtcbiAgdGhpcy5yZXR1cm5WYWx1ZSA9IHJldHVyblZhbHVlO1xuICB0aGlzLm9wdHMgPSBvcHRzIHx8IHt9O1xufVxuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLndyaXRlQ2hlY2twb2ludCA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgcmV0dXJuIHRoaXMudXBkYXRlVGFyZ2V0KGNoZWNrcG9pbnQsIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiBzZWxmLnVwZGF0ZVNvdXJjZShjaGVja3BvaW50LCBzZXNzaW9uKTtcbiAgfSk7XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLnVwZGF0ZVRhcmdldCA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIGlmICh0aGlzLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHVwZGF0ZUNoZWNrcG9pbnQodGhpcy50YXJnZXQsIHRoaXMuaWQsIGNoZWNrcG9pbnQsXG4gICAgICBzZXNzaW9uLCB0aGlzLnJldHVyblZhbHVlKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRydWUpO1xuICB9XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLnVwZGF0ZVNvdXJjZSA9IGZ1bmN0aW9uIChjaGVja3BvaW50LCBzZXNzaW9uKSB7XG4gIGlmICh0aGlzLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50KSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMuc3JjLCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSlcbiAgICAgIC5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxudmFyIGNvbXBhcmlzb25zID0ge1xuICBcInVuZGVmaW5lZFwiOiBmdW5jdGlvbiAodGFyZ2V0RG9jLCBzb3VyY2VEb2MpIHtcbiAgICAvLyBUaGlzIGlzIHRoZSBwcmV2aW91cyBjb21wYXJpc29uIGZ1bmN0aW9uXG4gICAgaWYgKGNvbGxhdGUodGFyZ2V0RG9jLmxhc3Rfc2VxLCBzb3VyY2VEb2MubGFzdF9zZXEpID09PSAwKSB7XG4gICAgICByZXR1cm4gc291cmNlRG9jLmxhc3Rfc2VxO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIHJldHVybiAwO1xuICB9LFxuICBcIjFcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgY29tcGFyaXNvbiBmdW5jdGlvbiBwb3J0ZWQgZnJvbSBDb3VjaERCXG4gICAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkxvZ3Moc291cmNlRG9jLCB0YXJnZXREb2MpLmxhc3Rfc2VxO1xuICB9XG59O1xuXG5DaGVja3BvaW50ZXIucHJvdG90eXBlLmdldENoZWNrcG9pbnQgPSBmdW5jdGlvbiAoKSB7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICBpZiAoc2VsZi5vcHRzICYmIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgJiYgIXNlbGYub3B0cy53cml0ZVRhcmdldENoZWNrcG9pbnQpIHtcbiAgICByZXR1cm4gc2VsZi5zcmMuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHNvdXJjZURvYykge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBzZWxmLnRhcmdldC5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAodGFyZ2V0RG9jKSB7XG4gICAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50KSB7XG4gICAgICByZXR1cm4gdGFyZ2V0RG9jLmxhc3Rfc2VxIHx8IExPV0VTVF9TRVE7XG4gICAgfVxuXG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIC8vIFNpbmNlIHdlIGNhbid0IG1pZ3JhdGUgYW4gb2xkIHZlcnNpb24gZG9jIHRvIGEgbmV3IG9uZVxuICAgICAgLy8gKG5vIHNlc3Npb24gaWQpLCB3ZSBqdXN0IGdvIHdpdGggdGhlIGxvd2VzdCBzZXEgaW4gdGhpcyBjYXNlXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbiAhPT0gc291cmNlRG9jLnZlcnNpb24pIHtcbiAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICB9XG5cbiAgICAgIHZhciB2ZXJzaW9uO1xuICAgICAgaWYgKHRhcmdldERvYy52ZXJzaW9uKSB7XG4gICAgICAgIHZlcnNpb24gPSB0YXJnZXREb2MudmVyc2lvbi50b1N0cmluZygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmVyc2lvbiA9IFwidW5kZWZpbmVkXCI7XG4gICAgICB9XG5cbiAgICAgIGlmICh2ZXJzaW9uIGluIGNvbXBhcmlzb25zKSB7XG4gICAgICAgIHJldHVybiBjb21wYXJpc29uc1t2ZXJzaW9uXSh0YXJnZXREb2MsIHNvdXJjZURvYyk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCAmJiB0YXJnZXREb2MubGFzdF9zZXEpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuc3JjLnB1dCh7XG4gICAgICAgICAgX2lkOiBzZWxmLmlkLFxuICAgICAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRXG4gICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAgICAgaWYgKGlzRm9yYmlkZGVuRXJyb3IoZXJyKSkge1xuICAgICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICB9KTtcbn07XG4vLyBUaGlzIGNoZWNrcG9pbnQgY29tcGFyaXNvbiBpcyBwb3J0ZWQgZnJvbSBDb3VjaERCcyBzb3VyY2Vcbi8vIHRoZXkgY29tZSBmcm9tIGhlcmU6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY291Y2gtcmVwbGljYXRvci9ibG9iL21hc3Rlci9zcmMvY291Y2hfcmVwbGljYXRvci5lcmwjTDg2My1MOTA2XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkxvZ3Moc3JjRG9jLCB0Z3REb2MpIHtcbiAgaWYgKHNyY0RvYy5zZXNzaW9uX2lkID09PSB0Z3REb2Muc2Vzc2lvbl9pZCkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogc3JjRG9jLmxhc3Rfc2VxLFxuICAgICAgaGlzdG9yeTogc3JjRG9jLmhpc3RvcnlcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc3JjRG9jLmhpc3RvcnksIHRndERvYy5oaXN0b3J5KTtcbn1cblxuZnVuY3Rpb24gY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeShzb3VyY2VIaXN0b3J5LCB0YXJnZXRIaXN0b3J5KSB7XG4gIC8vIHRoZSBlcmxhbmcgbG9vcCB2aWEgZnVuY3Rpb24gYXJndW1lbnRzIGlzIG5vdCBzbyBlYXN5IHRvIHJlcGVhdCBpbiBKU1xuICAvLyB0aGVyZWZvcmUsIGRvaW5nIHRoaXMgYXMgcmVjdXJzaW9uXG4gIHZhciBTID0gc291cmNlSGlzdG9yeVswXTtcbiAgdmFyIHNvdXJjZVJlc3QgPSBzb3VyY2VIaXN0b3J5LnNsaWNlKDEpO1xuICB2YXIgVCA9IHRhcmdldEhpc3RvcnlbMF07XG4gIHZhciB0YXJnZXRSZXN0ID0gdGFyZ2V0SGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIVMgfHwgdGFyZ2V0SGlzdG9yeS5sZW5ndGggPT09IDApIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IExPV0VTVF9TRVEsXG4gICAgICBoaXN0b3J5OiBbXVxuICAgIH07XG4gIH1cblxuICB2YXIgc291cmNlSWQgPSBTLnNlc3Npb25faWQ7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoaGFzU2Vzc2lvbklkKHNvdXJjZUlkLCB0YXJnZXRIaXN0b3J5KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogUy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNvdXJjZUhpc3RvcnlcbiAgICB9O1xuICB9XG5cbiAgdmFyIHRhcmdldElkID0gVC5zZXNzaW9uX2lkO1xuICBpZiAoaGFzU2Vzc2lvbklkKHRhcmdldElkLCBzb3VyY2VSZXN0KSkge1xuICAgIHJldHVybiB7XG4gICAgICBsYXN0X3NlcTogVC5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHRhcmdldFJlc3RcbiAgICB9O1xuICB9XG5cbiAgcmV0dXJuIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlUmVzdCwgdGFyZ2V0UmVzdCk7XG59XG5cbmZ1bmN0aW9uIGhhc1Nlc3Npb25JZChzZXNzaW9uSWQsIGhpc3RvcnkpIHtcbiAgdmFyIHByb3BzID0gaGlzdG9yeVswXTtcbiAgdmFyIHJlc3QgPSBoaXN0b3J5LnNsaWNlKDEpO1xuXG4gIGlmICghc2Vzc2lvbklkIHx8IGhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgaWYgKHNlc3Npb25JZCA9PT0gcHJvcHMuc2Vzc2lvbl9pZCkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgcmV0dXJuIGhhc1Nlc3Npb25JZChzZXNzaW9uSWQsIHJlc3QpO1xufVxuXG5mdW5jdGlvbiBpc0ZvcmJpZGRlbkVycm9yKGVycikge1xuICByZXR1cm4gdHlwZW9mIGVyci5zdGF0dXMgPT09ICdudW1iZXInICYmIE1hdGguZmxvb3IoZXJyLnN0YXR1cyAvIDEwMCkgPT09IDQ7XG59XG5cbnZhciBTVEFSVElOR19CQUNLX09GRiA9IDA7XG5cbmZ1bmN0aW9uIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGVycm9yLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5yZXRyeSA9PT0gZmFsc2UpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGVycm9yKTtcbiAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm47XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygb3B0cy5iYWNrX29mZl9mdW5jdGlvbiAhPT0gJ2Z1bmN0aW9uJykge1xuICAgIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gPSBkZWZhdWx0QmFja09mZjtcbiAgfVxuICByZXR1cm5WYWx1ZS5lbWl0KCdyZXF1ZXN0RXJyb3InLCBlcnJvcik7XG4gIGlmIChyZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ2FjdGl2ZScgfHwgcmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ3BhdXNlZCcsIGVycm9yKTtcbiAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdzdG9wcGVkJztcbiAgICB2YXIgYmFja09mZlNldCA9IGZ1bmN0aW9uIGJhY2tvZmZUaW1lU2V0KCkge1xuICAgICAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gU1RBUlRJTkdfQkFDS19PRkY7XG4gICAgfTtcbiAgICB2YXIgcmVtb3ZlQmFja09mZlNldHRlciA9IGZ1bmN0aW9uIHJlbW92ZUJhY2tPZmZUaW1lU2V0KCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICAgIH07XG4gICAgcmV0dXJuVmFsdWUub25jZSgncGF1c2VkJywgcmVtb3ZlQmFja09mZlNldHRlcik7XG4gICAgcmV0dXJuVmFsdWUub25jZSgnYWN0aXZlJywgYmFja09mZlNldCk7XG4gIH1cblxuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmN1cnJlbnRfYmFja19vZmYgfHwgU1RBUlRJTkdfQkFDS19PRkY7XG4gIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IG9wdHMuYmFja19vZmZfZnVuY3Rpb24ob3B0cy5jdXJyZW50X2JhY2tfb2ZmKTtcbiAgc2V0VGltZW91dChjYWxsYmFjaywgb3B0cy5jdXJyZW50X2JhY2tfb2ZmKTtcbn1cblxuZnVuY3Rpb24gc29ydE9iamVjdFByb3BlcnRpZXNCeUtleShxdWVyeVBhcmFtcykge1xuICByZXR1cm4gT2JqZWN0LmtleXMocXVlcnlQYXJhbXMpLnNvcnQoY29sbGF0ZSkucmVkdWNlKGZ1bmN0aW9uIChyZXN1bHQsIGtleSkge1xuICAgIHJlc3VsdFtrZXldID0gcXVlcnlQYXJhbXNba2V5XTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9LCB7fSk7XG59XG5cbi8vIEdlbmVyYXRlIGEgdW5pcXVlIGlkIHBhcnRpY3VsYXIgdG8gdGhpcyByZXBsaWNhdGlvbi5cbi8vIE5vdCBndWFyYW50ZWVkIHRvIGFsaWduIHBlcmZlY3RseSB3aXRoIENvdWNoREIncyByZXAgaWRzLlxuZnVuY3Rpb24gZ2VuZXJhdGVSZXBsaWNhdGlvbklkKHNyYywgdGFyZ2V0LCBvcHRzKSB7XG4gIHZhciBkb2NJZHMgPSBvcHRzLmRvY19pZHMgPyBvcHRzLmRvY19pZHMuc29ydChjb2xsYXRlKSA6ICcnO1xuICB2YXIgZmlsdGVyRnVuID0gb3B0cy5maWx0ZXIgPyBvcHRzLmZpbHRlci50b1N0cmluZygpIDogJyc7XG4gIHZhciBxdWVyeVBhcmFtcyA9ICcnO1xuICB2YXIgZmlsdGVyVmlld05hbWUgPSAgJyc7XG4gIHZhciBzZWxlY3RvciA9ICcnO1xuXG4gIC8vIHBvc3NpYmlsaXR5IGZvciBjaGVja3BvaW50cyB0byBiZSBsb3N0IGhlcmUgYXMgYmVoYXZpb3VyIG9mXG4gIC8vIEpTT04uc3RyaW5naWZ5IGlzIG5vdCBzdGFibGUgKHNlZSAjNjIyNilcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmIChvcHRzLnNlbGVjdG9yKSB7XG4gICAgc2VsZWN0b3IgPSBKU09OLnN0cmluZ2lmeShvcHRzLnNlbGVjdG9yKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLnF1ZXJ5X3BhcmFtcykge1xuICAgIHF1ZXJ5UGFyYW1zID0gSlNPTi5zdHJpbmdpZnkoc29ydE9iamVjdFByb3BlcnRpZXNCeUtleShvcHRzLnF1ZXJ5X3BhcmFtcykpO1xuICB9XG5cbiAgaWYgKG9wdHMuZmlsdGVyICYmIG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgZmlsdGVyVmlld05hbWUgPSBvcHRzLnZpZXcudG9TdHJpbmcoKTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLmFsbChbc3JjLmlkKCksIHRhcmdldC5pZCgpXSkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgdmFyIHF1ZXJ5RGF0YSA9IHJlc1swXSArIHJlc1sxXSArIGZpbHRlckZ1biArIGZpbHRlclZpZXdOYW1lICtcbiAgICAgIHF1ZXJ5UGFyYW1zICsgZG9jSWRzICsgc2VsZWN0b3I7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICBiaW5hcnlNZDUocXVlcnlEYXRhLCByZXNvbHZlKTtcbiAgICB9KTtcbiAgfSkudGhlbihmdW5jdGlvbiAobWQ1c3VtKSB7XG4gICAgLy8gY2FuJ3QgdXNlIHN0cmFpZ2h0LXVwIG1kNSBhbHBoYWJldCwgYmVjYXVzZVxuICAgIC8vIHRoZSBjaGFyICcvJyBpcyBpbnRlcnByZXRlZCBhcyBiZWluZyBmb3IgYXR0YWNobWVudHMsXG4gICAgLy8gYW5kICsgaXMgYWxzbyBub3QgdXJsLXNhZmVcbiAgICBtZDVzdW0gPSBtZDVzdW0ucmVwbGFjZSgvXFwvL2csICcuJykucmVwbGFjZSgvXFwrL2csICdfJyk7XG4gICAgcmV0dXJuICdfbG9jYWwvJyArIG1kNXN1bTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHJlcGxpY2F0ZShzcmMsIHRhcmdldCwgb3B0cywgcmV0dXJuVmFsdWUsIHJlc3VsdCkge1xuICB2YXIgYmF0Y2hlcyA9IFtdOyAgICAgICAgICAgICAgIC8vIGxpc3Qgb2YgYmF0Y2hlcyB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIGN1cnJlbnRCYXRjaDsgICAgICAgICAgICAgICAvLyB0aGUgYmF0Y2ggY3VycmVudGx5IGJlaW5nIHByb2Nlc3NlZFxuICB2YXIgcGVuZGluZ0JhdGNoID0ge1xuICAgIHNlcTogMCxcbiAgICBjaGFuZ2VzOiBbXSxcbiAgICBkb2NzOiBbXVxuICB9OyAvLyBuZXh0IGJhdGNoLCBub3QgeWV0IHJlYWR5IHRvIGJlIHByb2Nlc3NlZFxuICB2YXIgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTsgIC8vIHRydWUgd2hpbGUgY2hlY2twb2ludCBpcyBiZWluZyB3cml0dGVuXG4gIHZhciBjaGFuZ2VzQ29tcGxldGVkID0gZmFsc2U7ICAgLy8gdHJ1ZSB3aGVuIGFsbCBjaGFuZ2VzIHJlY2VpdmVkXG4gIHZhciByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IGZhbHNlOyAvLyB0cnVlIHdoZW4gcmVwbGljYXRpb24gaGFzIGNvbXBsZXRlZFxuICB2YXIgbGFzdF9zZXEgPSAwO1xuICB2YXIgY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmUgfHwgZmFsc2U7XG4gIHZhciBiYXRjaF9zaXplID0gb3B0cy5iYXRjaF9zaXplIHx8IDEwMDtcbiAgdmFyIGJhdGNoZXNfbGltaXQgPSBvcHRzLmJhdGNoZXNfbGltaXQgfHwgMTA7XG4gIHZhciBzdHlsZSA9IG9wdHMuc3R5bGUgfHwgJ2FsbF9kb2NzJztcbiAgdmFyIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7ICAgICAvLyB0cnVlIHdoaWxlIHNyYy5jaGFuZ2VzIGlzIHJ1bm5pbmdcbiAgdmFyIGRvY19pZHMgPSBvcHRzLmRvY19pZHM7XG4gIHZhciBzZWxlY3RvciA9IG9wdHMuc2VsZWN0b3I7XG4gIHZhciByZXBJZDtcbiAgdmFyIGNoZWNrcG9pbnRlcjtcbiAgdmFyIGNoYW5nZWREb2NzID0gW107XG4gIC8vIExpa2UgY291Y2hkYiwgZXZlcnkgcmVwbGljYXRpb24gZ2V0cyBhIHVuaXF1ZSBzZXNzaW9uIGlkXG4gIHZhciBzZXNzaW9uID0gdXVpZCgpO1xuXG4gIHJlc3VsdCA9IHJlc3VsdCB8fCB7XG4gICAgb2s6IHRydWUsXG4gICAgc3RhcnRfdGltZTogbmV3IERhdGUoKS50b0lTT1N0cmluZygpLFxuICAgIGRvY3NfcmVhZDogMCxcbiAgICBkb2NzX3dyaXR0ZW46IDAsXG4gICAgZG9jX3dyaXRlX2ZhaWx1cmVzOiAwLFxuICAgIGVycm9yczogW11cbiAgfTtcblxuICB2YXIgY2hhbmdlc09wdHMgPSB7fTtcbiAgcmV0dXJuVmFsdWUucmVhZHkoc3JjLCB0YXJnZXQpO1xuXG4gIGZ1bmN0aW9uIGluaXRDaGVja3BvaW50ZXIoKSB7XG4gICAgaWYgKGNoZWNrcG9pbnRlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICByZXR1cm4gZ2VuZXJhdGVSZXBsaWNhdGlvbklkKHNyYywgdGFyZ2V0LCBvcHRzKS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIHJlcElkID0gcmVzO1xuXG4gICAgICB2YXIgY2hlY2twb2ludE9wdHMgPSB7fTtcbiAgICAgIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09IGZhbHNlKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IGZhbHNlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IGZhbHNlIH07XG4gICAgICB9IGVsc2UgaWYgKG9wdHMuY2hlY2twb2ludCA9PT0gJ3NvdXJjZScpIHtcbiAgICAgICAgY2hlY2twb2ludE9wdHMgPSB7IHdyaXRlU291cmNlQ2hlY2twb2ludDogdHJ1ZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICd0YXJnZXQnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IGZhbHNlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogdHJ1ZSB9O1xuICAgICAgfVxuXG4gICAgICBjaGVja3BvaW50ZXIgPSBuZXcgQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCByZXBJZCwgcmV0dXJuVmFsdWUsIGNoZWNrcG9pbnRPcHRzKTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHdyaXRlRG9jcygpIHtcbiAgICBjaGFuZ2VkRG9jcyA9IFtdO1xuXG4gICAgaWYgKGN1cnJlbnRCYXRjaC5kb2NzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZG9jcyA9IGN1cnJlbnRCYXRjaC5kb2NzO1xuICAgIHZhciBidWxrT3B0cyA9IHt0aW1lb3V0OiBvcHRzLnRpbWVvdXR9O1xuICAgIHJldHVybiB0YXJnZXQuYnVsa0RvY3Moe2RvY3M6IGRvY3MsIG5ld19lZGl0czogZmFsc2V9LCBidWxrT3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuXG4gICAgICAvLyBgcmVzYCBkb2Vzbid0IGluY2x1ZGUgZnVsbCBkb2N1bWVudHMgKHdoaWNoIGxpdmUgaW4gYGRvY3NgKSwgc28gd2UgY3JlYXRlIGEgbWFwIG9mXG4gICAgICAvLyAoaWQgLT4gZXJyb3IpLCBhbmQgY2hlY2sgZm9yIGVycm9ycyB3aGlsZSBpdGVyYXRpbmcgb3ZlciBgZG9jc2BcbiAgICAgIHZhciBlcnJvcnNCeUlkID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgIHJlcy5mb3JFYWNoKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgaWYgKHJlcy5lcnJvcikge1xuICAgICAgICAgIGVycm9yc0J5SWRbcmVzLmlkXSA9IHJlcztcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHZhciBlcnJvcnNObyA9IE9iamVjdC5rZXlzKGVycm9yc0J5SWQpLmxlbmd0aDtcbiAgICAgIHJlc3VsdC5kb2Nfd3JpdGVfZmFpbHVyZXMgKz0gZXJyb3JzTm87XG4gICAgICByZXN1bHQuZG9jc193cml0dGVuICs9IGRvY3MubGVuZ3RoIC0gZXJyb3JzTm87XG5cbiAgICAgIGRvY3MuZm9yRWFjaChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGVycm9yc0J5SWRbZG9jLl9pZF07XG4gICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgIHJlc3VsdC5lcnJvcnMucHVzaChlcnJvcik7XG4gICAgICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgICAgICB2YXIgZXJyb3JOYW1lID0gKGVycm9yLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnZGVuaWVkJywgY2xvbmUoZXJyb3IpKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZWREb2NzLnB1c2goZG9jKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGRvY3MubGVuZ3RoO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZmluaXNoQmF0Y2goKSB7XG4gICAgaWYgKGN1cnJlbnRCYXRjaC5lcnJvcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSB3YXMgYSBwcm9ibGVtIGdldHRpbmcgZG9jcy4nKTtcbiAgICB9XG4gICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXEgPSBjdXJyZW50QmF0Y2guc2VxO1xuICAgIHZhciBvdXRSZXN1bHQgPSBjbG9uZShyZXN1bHQpO1xuICAgIGlmIChjaGFuZ2VkRG9jcy5sZW5ndGgpIHtcbiAgICAgIG91dFJlc3VsdC5kb2NzID0gY2hhbmdlZERvY3M7XG4gICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodHlwZW9mIGN1cnJlbnRCYXRjaC5wZW5kaW5nID09PSAnbnVtYmVyJykge1xuICAgICAgICBvdXRSZXN1bHQucGVuZGluZyA9IGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgICBkZWxldGUgY3VycmVudEJhdGNoLnBlbmRpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGFuZ2UnLCBvdXRSZXN1bHQpO1xuICAgIH1cbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgcmV0dXJuIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQoY3VycmVudEJhdGNoLnNlcSxcbiAgICAgICAgc2Vzc2lvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAnY2hlY2twb2ludCc6IGN1cnJlbnRCYXRjaC5zZXEgfSk7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRCYXRjaCA9IHVuZGVmaW5lZDtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBvbkNoZWNrcG9pbnRFcnJvcihlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0RGlmZnMoKSB7XG4gICAgdmFyIGRpZmYgPSB7fTtcbiAgICBjdXJyZW50QmF0Y2guY2hhbmdlcy5mb3JFYWNoKGZ1bmN0aW9uIChjaGFuZ2UpIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdyZXZzX2RpZmYnOiBjaGFuZ2UgfSk7XG4gICAgICAvLyBDb3VjaGJhc2UgU3luYyBHYXRld2F5IGVtaXRzIHRoZXNlLCBidXQgd2UgY2FuIGlnbm9yZSB0aGVtXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChjaGFuZ2UuaWQgPT09IFwiX3VzZXIvXCIpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZGlmZltjaGFuZ2UuaWRdID0gY2hhbmdlLmNoYW5nZXMubWFwKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LnJldjtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiB0YXJnZXQucmV2c0RpZmYoZGlmZikudGhlbihmdW5jdGlvbiAoZGlmZnMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICAvLyBjdXJyZW50QmF0Y2guZGlmZnMgZWxlbWVudHMgYXJlIGRlbGV0ZWQgYXMgdGhlIGRvY3VtZW50cyBhcmUgd3JpdHRlblxuICAgICAgY3VycmVudEJhdGNoLmRpZmZzID0gZGlmZnM7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRCYXRjaERvY3MoKSB7XG4gICAgcmV0dXJuIGdldERvY3Moc3JjLCB0YXJnZXQsIGN1cnJlbnRCYXRjaC5kaWZmcywgcmV0dXJuVmFsdWUpLnRoZW4oZnVuY3Rpb24gKGdvdCkge1xuICAgICAgY3VycmVudEJhdGNoLmVycm9yID0gIWdvdC5vaztcbiAgICAgIGdvdC5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICBkZWxldGUgY3VycmVudEJhdGNoLmRpZmZzW2RvYy5faWRdO1xuICAgICAgICByZXN1bHQuZG9jc19yZWFkKys7XG4gICAgICAgIGN1cnJlbnRCYXRjaC5kb2NzLnB1c2goZG9jKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gc3RhcnROZXh0QmF0Y2goKSB7XG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCB8fCBjdXJyZW50QmF0Y2gpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50QmF0Y2ggPSBiYXRjaGVzLnNoaWZ0KCk7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3N0YXJ0X25leHRfYmF0Y2gnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgIGdldERpZmZzKClcbiAgICAgIC50aGVuKGdldEJhdGNoRG9jcylcbiAgICAgIC50aGVuKHdyaXRlRG9jcylcbiAgICAgIC50aGVuKGZpbmlzaEJhdGNoKVxuICAgICAgLnRoZW4oc3RhcnROZXh0QmF0Y2gpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBhYm9ydFJlcGxpY2F0aW9uKCdiYXRjaCBwcm9jZXNzaW5nIHRlcm1pbmF0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gICAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gcHJvY2Vzc1BlbmRpbmdCYXRjaChpbW1lZGlhdGUkJDEpIHtcbiAgICBpZiAocGVuZGluZ0JhdGNoLmNoYW5nZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICBpZiAoYmF0Y2hlcy5sZW5ndGggPT09IDAgJiYgIWN1cnJlbnRCYXRjaCkge1xuICAgICAgICBpZiAoKGNvbnRpbnVvdXMgJiYgY2hhbmdlc09wdHMubGl2ZSkgfHwgY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ3BlbmRpbmcnO1xuICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ3BhdXNlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaGFuZ2VzQ29tcGxldGVkKSB7XG4gICAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChcbiAgICAgIGltbWVkaWF0ZSQkMSB8fFxuICAgICAgY2hhbmdlc0NvbXBsZXRlZCB8fFxuICAgICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMubGVuZ3RoID49IGJhdGNoX3NpemVcbiAgICApIHtcbiAgICAgIGJhdGNoZXMucHVzaChwZW5kaW5nQmF0Y2gpO1xuICAgICAgcGVuZGluZ0JhdGNoID0ge1xuICAgICAgICBzZXE6IDAsXG4gICAgICAgIGNoYW5nZXM6IFtdLFxuICAgICAgICBkb2NzOiBbXVxuICAgICAgfTtcbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3BlbmRpbmcnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAnc3RvcHBlZCcpIHtcbiAgICAgICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnYWN0aXZlJztcbiAgICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnYWN0aXZlJyk7XG4gICAgICB9XG4gICAgICBzdGFydE5leHRCYXRjaCgpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gYWJvcnRSZXBsaWNhdGlvbihyZWFzb24sIGVycikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIWVyci5tZXNzYWdlKSB7XG4gICAgICBlcnIubWVzc2FnZSA9IHJlYXNvbjtcbiAgICB9XG4gICAgcmVzdWx0Lm9rID0gZmFsc2U7XG4gICAgcmVzdWx0LnN0YXR1cyA9ICdhYm9ydGluZyc7XG4gICAgYmF0Y2hlcyA9IFtdO1xuICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgIHNlcTogMCxcbiAgICAgIGNoYW5nZXM6IFtdLFxuICAgICAgZG9jczogW11cbiAgICB9O1xuICAgIGNvbXBsZXRlUmVwbGljYXRpb24oZXJyKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gY29tcGxldGVSZXBsaWNhdGlvbihmYXRhbEVycm9yKSB7XG4gICAgaWYgKHJlcGxpY2F0aW9uQ29tcGxldGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgIHJlc3VsdC5zdGF0dXMgPSAnY2FuY2VsbGVkJztcbiAgICAgIGlmICh3cml0aW5nQ2hlY2twb2ludCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIHJlc3VsdC5zdGF0dXMgPSByZXN1bHQuc3RhdHVzIHx8ICdjb21wbGV0ZSc7XG4gICAgcmVzdWx0LmVuZF90aW1lID0gbmV3IERhdGUoKS50b0lTT1N0cmluZygpO1xuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxO1xuICAgIHJlcGxpY2F0aW9uQ29tcGxldGVkID0gdHJ1ZTtcblxuICAgIGlmIChmYXRhbEVycm9yKSB7XG4gICAgICAvLyBuZWVkIHRvIGV4dGVuZCB0aGUgZXJyb3IgYmVjYXVzZSBGaXJlZm94IGNvbnNpZGVycyBcIi5yZXN1bHRcIiByZWFkLW9ubHlcbiAgICAgIGZhdGFsRXJyb3IgPSBjcmVhdGVFcnJvcihmYXRhbEVycm9yKTtcbiAgICAgIGZhdGFsRXJyb3IucmVzdWx0ID0gcmVzdWx0O1xuXG4gICAgICAvLyBOb3JtYWxpemUgZXJyb3IgbmFtZS4gaS5lLiAnVW5hdXRob3JpemVkJyAtPiAndW5hdXRob3JpemVkJyAoZWcgU3luYyBHYXRld2F5KVxuICAgICAgdmFyIGVycm9yTmFtZSA9IChmYXRhbEVycm9yLm5hbWUgfHwgJycpLnRvTG93ZXJDYXNlKCk7XG4gICAgICBpZiAoZXJyb3JOYW1lID09PSAndW5hdXRob3JpemVkJyB8fCBlcnJvck5hbWUgPT09ICdmb3JiaWRkZW4nKSB7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2Vycm9yJywgZmF0YWxFcnJvcik7XG4gICAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFja09mZihvcHRzLCByZXR1cm5WYWx1ZSwgZmF0YWxFcnJvciwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHJlcGxpY2F0ZShzcmMsIHRhcmdldCwgb3B0cywgcmV0dXJuVmFsdWUpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY29tcGxldGUnLCByZXN1bHQpO1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZShjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cbiAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICh0eXBlb2YgcGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgIHBlbmRpbmdCYXRjaC5wZW5kaW5nID0gcGVuZGluZztcbiAgICB9XG5cbiAgICB2YXIgZmlsdGVyID0gZmlsdGVyQ2hhbmdlKG9wdHMpKGNoYW5nZSk7XG4gICAgaWYgKCFmaWx0ZXIpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcGVuZGluZ0JhdGNoLnNlcSA9IGNoYW5nZS5zZXEgfHwgbGFzdFNlcTtcbiAgICBwZW5kaW5nQmF0Y2guY2hhbmdlcy5wdXNoKGNoYW5nZSk7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ3BlbmRpbmdfYmF0Y2gnOiBwZW5kaW5nQmF0Y2guc2VxIH0pO1xuICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKGJhdGNoZXMubGVuZ3RoID09PSAwICYmIGNoYW5nZXNPcHRzLmxpdmUpO1xuICAgIH0pO1xuICB9XG5cblxuICBmdW5jdGlvbiBvbkNoYW5nZXNDb21wbGV0ZShjaGFuZ2VzKSB7XG4gICAgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cblxuICAgIC8vIGlmIG5vIHJlc3VsdHMgd2VyZSByZXR1cm5lZCB0aGVuIHdlJ3JlIGRvbmUsXG4gICAgLy8gZWxzZSBmZXRjaCBtb3JlXG4gICAgaWYgKGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPiAwKSB7XG4gICAgICBjaGFuZ2VzT3B0cy5zaW5jZSA9IGNoYW5nZXMucmVzdWx0c1tjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoIC0gMV0uc2VxO1xuICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICB9IGVsc2Uge1xuXG4gICAgICB2YXIgY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChjb250aW51b3VzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMubGl2ZSA9IHRydWU7XG4gICAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNoYW5nZXNDb21wbGV0ZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgICB9O1xuXG4gICAgICAvLyB1cGRhdGUgdGhlIGNoZWNrcG9pbnQgc28gd2Ugc3RhcnQgZnJvbSB0aGUgcmlnaHQgc2VxIG5leHQgdGltZVxuICAgICAgaWYgKCFjdXJyZW50QmF0Y2ggJiYgY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICAgIGNoZWNrcG9pbnRlci53cml0ZUNoZWNrcG9pbnQoY2hhbmdlcy5sYXN0X3NlcSxcbiAgICAgICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAgICAgcmVzdWx0Lmxhc3Rfc2VxID0gbGFzdF9zZXEgPSBjaGFuZ2VzLmxhc3Rfc2VxO1xuICAgICAgICAgIGNvbXBsZXRlKCk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzRXJyb3IoZXJyKSB7XG4gICAgY2hhbmdlc1BlbmRpbmcgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm4gY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgIH1cbiAgICBhYm9ydFJlcGxpY2F0aW9uKCdjaGFuZ2VzIHJlamVjdGVkJywgZXJyKTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gZ2V0Q2hhbmdlcygpIHtcbiAgICBpZiAoIShcbiAgICAgICFjaGFuZ2VzUGVuZGluZyAmJlxuICAgICAgIWNoYW5nZXNDb21wbGV0ZWQgJiZcbiAgICAgIGJhdGNoZXMubGVuZ3RoIDwgYmF0Y2hlc19saW1pdFxuICAgICAgKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGFuZ2VzUGVuZGluZyA9IHRydWU7XG4gICAgZnVuY3Rpb24gYWJvcnRDaGFuZ2VzKCkge1xuICAgICAgY2hhbmdlcy5jYW5jZWwoKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gcmVtb3ZlTGlzdGVuZXIoKSB7XG4gICAgICByZXR1cm5WYWx1ZS5yZW1vdmVMaXN0ZW5lcignY2FuY2VsJywgYWJvcnRDaGFuZ2VzKTtcbiAgICB9XG5cbiAgICBpZiAocmV0dXJuVmFsdWUuX2NoYW5nZXMpIHsgLy8gcmVtb3ZlIG9sZCBjaGFuZ2VzKCkgYW5kIGxpc3RlbmVyc1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMpO1xuICAgICAgcmV0dXJuVmFsdWUuX2NoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIHJldHVyblZhbHVlLm9uY2UoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG5cbiAgICB2YXIgY2hhbmdlcyA9IHNyYy5jaGFuZ2VzKGNoYW5nZXNPcHRzKVxuICAgICAgLm9uKCdjaGFuZ2UnLCBvbkNoYW5nZSk7XG4gICAgY2hhbmdlcy50aGVuKHJlbW92ZUxpc3RlbmVyLCByZW1vdmVMaXN0ZW5lcik7XG4gICAgY2hhbmdlcy50aGVuKG9uQ2hhbmdlc0NvbXBsZXRlKVxuICAgICAgLmNhdGNoKG9uQ2hhbmdlc0Vycm9yKTtcblxuICAgIGlmIChvcHRzLnJldHJ5KSB7XG4gICAgICAvLyBzYXZlIGZvciBsYXRlciBzbyB3ZSBjYW4gY2FuY2VsIGlmIG5lY2Vzc2FyeVxuICAgICAgcmV0dXJuVmFsdWUuX2NoYW5nZXMgPSBjaGFuZ2VzO1xuICAgICAgcmV0dXJuVmFsdWUuX2Fib3J0Q2hhbmdlcyA9IGFib3J0Q2hhbmdlcztcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHN0YXJ0Q2hhbmdlcygpIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLmdldENoZWNrcG9pbnQoKS50aGVuKGZ1bmN0aW9uIChjaGVja3BvaW50KSB7XG4gICAgICAgIGxhc3Rfc2VxID0gY2hlY2twb2ludDtcbiAgICAgICAgY2hhbmdlc09wdHMgPSB7XG4gICAgICAgICAgc2luY2U6IGxhc3Rfc2VxLFxuICAgICAgICAgIGxpbWl0OiBiYXRjaF9zaXplLFxuICAgICAgICAgIGJhdGNoX3NpemU6IGJhdGNoX3NpemUsXG4gICAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICAgIGRvY19pZHM6IGRvY19pZHMsXG4gICAgICAgICAgc2VsZWN0b3I6IHNlbGVjdG9yLFxuICAgICAgICAgIHJldHVybl9kb2NzOiB0cnVlIC8vIHJlcXVpcmVkIHNvIHdlIGtub3cgd2hlbiB3ZSdyZSBkb25lXG4gICAgICAgIH07XG4gICAgICAgIGlmIChvcHRzLmZpbHRlcikge1xuICAgICAgICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAvLyByZXF1aXJlZCBmb3IgdGhlIGNsaWVudC1zaWRlIGZpbHRlciBpbiBvbkNoYW5nZVxuICAgICAgICAgICAgY2hhbmdlc09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgICAgICB9IGVsc2UgeyAvLyBkZG9jIGZpbHRlclxuICAgICAgICAgICAgY2hhbmdlc09wdHMuZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMudGltZW91dCA9IG9wdHMudGltZW91dDtcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgICBjaGFuZ2VzT3B0cy5xdWVyeV9wYXJhbXMgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgfVxuICAgICAgICBpZiAob3B0cy52aWV3KSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMudmlldyA9IG9wdHMudmlldztcbiAgICAgICAgfVxuICAgICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgICB9KTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBhYm9ydFJlcGxpY2F0aW9uKCdnZXRDaGVja3BvaW50IHJlamVjdGVkIHdpdGggJywgZXJyKTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGZ1bmN0aW9uIG9uQ2hlY2twb2ludEVycm9yKGVycikge1xuICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgYWJvcnRSZXBsaWNhdGlvbignd3JpdGVDaGVja3BvaW50IGNvbXBsZXRlZCB3aXRoIGVycm9yJywgZXJyKTtcbiAgfVxuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7IC8vIGNhbmNlbGxlZCBpbW1lZGlhdGVseVxuICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICByZXR1cm47XG4gIH1cblxuICBpZiAoIXJldHVyblZhbHVlLl9hZGRlZExpc3RlbmVycykge1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2NhbmNlbCcsIGNvbXBsZXRlUmVwbGljYXRpb24pO1xuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmNvbXBsZXRlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm5WYWx1ZS5vbmNlKCdlcnJvcicsIG9wdHMuY29tcGxldGUpO1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnY29tcGxldGUnLCBmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMgPSB0cnVlO1xuICB9XG5cbiAgaWYgKHR5cGVvZiBvcHRzLnNpbmNlID09PSAndW5kZWZpbmVkJykge1xuICAgIHN0YXJ0Q2hhbmdlcygpO1xuICB9IGVsc2Uge1xuICAgIGluaXRDaGVja3BvaW50ZXIoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gdHJ1ZTtcbiAgICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KG9wdHMuc2luY2UsIHNlc3Npb24pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxhc3Rfc2VxID0gb3B0cy5zaW5jZTtcbiAgICAgIHN0YXJ0Q2hhbmdlcygpO1xuICAgIH0pLmNhdGNoKG9uQ2hlY2twb2ludEVycm9yKTtcbiAgfVxufVxuXG4vLyBXZSBjcmVhdGUgYSBiYXNpYyBwcm9taXNlIHNvIHRoZSBjYWxsZXIgY2FuIGNhbmNlbCB0aGUgcmVwbGljYXRpb24gcG9zc2libHlcbi8vIGJlZm9yZSB3ZSBoYXZlIGFjdHVhbGx5IHN0YXJ0ZWQgbGlzdGVuaW5nIHRvIGNoYW5nZXMgZXRjXG5pbmhlcml0cyhSZXBsaWNhdGlvbiwgRUUpO1xuZnVuY3Rpb24gUmVwbGljYXRpb24oKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuY2FuY2VsbGVkID0gZmFsc2U7XG4gIHRoaXMuc3RhdGUgPSAncGVuZGluZyc7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIHByb21pc2UgPSBuZXcgUHJvbWlzZShmdW5jdGlvbiAoZnVsZmlsbCwgcmVqZWN0KSB7XG4gICAgc2VsZi5vbmNlKCdjb21wbGV0ZScsIGZ1bGZpbGwpO1xuICAgIHNlbGYub25jZSgnZXJyb3InLCByZWplY3QpO1xuICB9KTtcbiAgc2VsZi50aGVuID0gZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJldHVybiBwcm9taXNlLnRoZW4ocmVzb2x2ZSwgcmVqZWN0KTtcbiAgfTtcbiAgc2VsZi5jYXRjaCA9IGZ1bmN0aW9uIChyZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChyZWplY3QpO1xuICB9O1xuICAvLyBBcyB3ZSBhbGxvdyBlcnJvciBoYW5kbGluZyB2aWEgXCJlcnJvclwiIGV2ZW50IGFzIHdlbGwsXG4gIC8vIHB1dCBhIHN0dWIgaW4gaGVyZSBzbyB0aGF0IHJlamVjdGluZyBuZXZlciB0aHJvd3MgVW5oYW5kbGVkRXJyb3IuXG4gIHNlbGYuY2F0Y2goZnVuY3Rpb24gKCkge30pO1xufVxuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICB0aGlzLmNhbmNlbGxlZCA9IHRydWU7XG4gIHRoaXMuc3RhdGUgPSAnY2FuY2VsbGVkJztcbiAgdGhpcy5lbWl0KCdjYW5jZWwnKTtcbn07XG5cblJlcGxpY2F0aW9uLnByb3RvdHlwZS5yZWFkeSA9IGZ1bmN0aW9uIChzcmMsIHRhcmdldCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmIChzZWxmLl9yZWFkeUNhbGxlZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBzZWxmLl9yZWFkeUNhbGxlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgc3JjLm9uY2UoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIHRhcmdldC5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICBmdW5jdGlvbiBjbGVhbnVwKCkge1xuICAgIHNyYy5yZW1vdmVMaXN0ZW5lcignZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgICB0YXJnZXQucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gIH1cbiAgc2VsZi5vbmNlKCdjb21wbGV0ZScsIGNsZWFudXApO1xuICBzZWxmLm9uY2UoJ2Vycm9yJywgY2xlYW51cCk7XG59O1xuXG5mdW5jdGlvbiB0b1BvdWNoKGRiLCBvcHRzKSB7XG4gIHZhciBQb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yO1xuICBpZiAodHlwZW9mIGRiID09PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBuZXcgUG91Y2hDb25zdHJ1Y3RvcihkYiwgb3B0cyk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGRiO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIG9wdHMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgaWYgKG9wdHMuZG9jX2lkcyAmJiAhQXJyYXkuaXNBcnJheShvcHRzLmRvY19pZHMpKSB7XG4gICAgdGhyb3cgY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsXG4gICAgICAgICAgICAgICAgICAgICAgIFwiYGRvY19pZHNgIGZpbHRlciBwYXJhbWV0ZXIgaXMgbm90IGEgbGlzdC5cIik7XG4gIH1cblxuICBvcHRzLmNvbXBsZXRlID0gY2FsbGJhY2s7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcbiAgb3B0cy5jb250aW51b3VzID0gb3B0cy5jb250aW51b3VzIHx8IG9wdHMubGl2ZTtcbiAgb3B0cy5yZXRyeSA9ICgncmV0cnknIGluIG9wdHMpID8gb3B0cy5yZXRyeSA6IGZhbHNlO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgdmFyIHJlcGxpY2F0ZVJldCA9IG5ldyBSZXBsaWNhdGlvbihvcHRzKTtcbiAgdmFyIHNyY1BvdWNoID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB2YXIgdGFyZ2V0UG91Y2ggPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJlcGxpY2F0ZShzcmNQb3VjaCwgdGFyZ2V0UG91Y2gsIG9wdHMsIHJlcGxpY2F0ZVJldCk7XG4gIHJldHVybiByZXBsaWNhdGVSZXQ7XG59XG5cbmluaGVyaXRzKFN5bmMsIEVFKTtcbmZ1bmN0aW9uIHN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIC8qanNoaW50IHZhbGlkdGhpczp0cnVlICovXG4gIG9wdHMuUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvciB8fCB0aGlzO1xuICBzcmMgPSB0b1BvdWNoKHNyYywgb3B0cyk7XG4gIHRhcmdldCA9IHRvUG91Y2godGFyZ2V0LCBvcHRzKTtcbiAgcmV0dXJuIG5ldyBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjayk7XG59XG5cbmZ1bmN0aW9uIFN5bmMoc3JjLCB0YXJnZXQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdGhpcy5jYW5jZWxlZCA9IGZhbHNlO1xuXG4gIHZhciBvcHRzUHVzaCA9IG9wdHMucHVzaCA/ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgb3B0cywgb3B0cy5wdXNoKSA6IG9wdHM7XG4gIHZhciBvcHRzUHVsbCA9IG9wdHMucHVsbCA/ICRpbmplY3RfT2JqZWN0X2Fzc2lnbih7fSwgb3B0cywgb3B0cy5wdWxsKSA6IG9wdHM7XG5cbiAgdGhpcy5wdXNoID0gcmVwbGljYXRlV3JhcHBlcihzcmMsIHRhcmdldCwgb3B0c1B1c2gpO1xuICB0aGlzLnB1bGwgPSByZXBsaWNhdGVXcmFwcGVyKHRhcmdldCwgc3JjLCBvcHRzUHVsbCk7XG5cbiAgdGhpcy5wdXNoUGF1c2VkID0gdHJ1ZTtcbiAgdGhpcy5wdWxsUGF1c2VkID0gdHJ1ZTtcblxuICBmdW5jdGlvbiBwdWxsQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVsbCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hDaGFuZ2UoY2hhbmdlKSB7XG4gICAgc2VsZi5lbWl0KCdjaGFuZ2UnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGNoYW5nZTogY2hhbmdlXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVzaERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1c2gnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdWxsRGVuaWVkKGRvYykge1xuICAgIHNlbGYuZW1pdCgnZGVuaWVkJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVsbCcsXG4gICAgICBkb2M6IGRvY1xuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hQYXVzZWQoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gdHJ1ZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdWxsUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ3BhdXNlZCcpO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdWxsUGF1c2VkKCkge1xuICAgIHNlbGYucHVsbFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVzaFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVzaEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1c2hQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdWxsUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVzaCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwdWxsQWN0aXZlKCkge1xuICAgIHNlbGYucHVsbFBhdXNlZCA9IGZhbHNlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgnYWN0aXZlJywge1xuICAgICAgICBkaXJlY3Rpb246ICdwdWxsJ1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIHJlbW92ZWQgPSB7fTtcblxuICBmdW5jdGlvbiByZW1vdmVBbGwodHlwZSkgeyAvLyB0eXBlIGlzICdwdXNoJyBvciAncHVsbCdcbiAgICByZXR1cm4gZnVuY3Rpb24gKGV2ZW50LCBmdW5jKSB7XG4gICAgICB2YXIgaXNDaGFuZ2UgPSBldmVudCA9PT0gJ2NoYW5nZScgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxDaGFuZ2UgfHwgZnVuYyA9PT0gcHVzaENoYW5nZSk7XG4gICAgICB2YXIgaXNEZW5pZWQgPSBldmVudCA9PT0gJ2RlbmllZCcgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxEZW5pZWQgfHwgZnVuYyA9PT0gcHVzaERlbmllZCk7XG4gICAgICB2YXIgaXNQYXVzZWQgPSBldmVudCA9PT0gJ3BhdXNlZCcgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxQYXVzZWQgfHwgZnVuYyA9PT0gcHVzaFBhdXNlZCk7XG4gICAgICB2YXIgaXNBY3RpdmUgPSBldmVudCA9PT0gJ2FjdGl2ZScgJiZcbiAgICAgICAgKGZ1bmMgPT09IHB1bGxBY3RpdmUgfHwgZnVuYyA9PT0gcHVzaEFjdGl2ZSk7XG5cbiAgICAgIGlmIChpc0NoYW5nZSB8fCBpc0RlbmllZCB8fCBpc1BhdXNlZCB8fCBpc0FjdGl2ZSkge1xuICAgICAgICBpZiAoIShldmVudCBpbiByZW1vdmVkKSkge1xuICAgICAgICAgIHJlbW92ZWRbZXZlbnRdID0ge307XG4gICAgICAgIH1cbiAgICAgICAgcmVtb3ZlZFtldmVudF1bdHlwZV0gPSB0cnVlO1xuICAgICAgICBpZiAoT2JqZWN0LmtleXMocmVtb3ZlZFtldmVudF0pLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgIC8vIGJvdGggcHVzaCBhbmQgcHVsbCBoYXZlIGFza2VkIHRvIGJlIHJlbW92ZWRcbiAgICAgICAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycyhldmVudCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgaWYgKG9wdHMubGl2ZSkge1xuICAgIHRoaXMucHVzaC5vbignY29tcGxldGUnLCBzZWxmLnB1bGwuY2FuY2VsLmJpbmQoc2VsZi5wdWxsKSk7XG4gICAgdGhpcy5wdWxsLm9uKCdjb21wbGV0ZScsIHNlbGYucHVzaC5jYW5jZWwuYmluZChzZWxmLnB1c2gpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGFkZE9uZUxpc3RlbmVyKGVlLCBldmVudCwgbGlzdGVuZXIpIHtcbiAgICBpZiAoZWUubGlzdGVuZXJzKGV2ZW50KS5pbmRleE9mKGxpc3RlbmVyKSA9PSAtMSkge1xuICAgICAgZWUub24oZXZlbnQsIGxpc3RlbmVyKTtcbiAgICB9XG4gIH1cblxuICB0aGlzLm9uKCduZXdMaXN0ZW5lcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnY2hhbmdlJywgcHVzaENoYW5nZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2RlbmllZCcpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2RlbmllZCcsIHB1bGxEZW5pZWQpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ2FjdGl2ZScsIHB1bGxBY3RpdmUpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAnYWN0aXZlJywgcHVzaEFjdGl2ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVsbCwgJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgYWRkT25lTGlzdGVuZXIoc2VsZi5wdXNoLCAncGF1c2VkJywgcHVzaFBhdXNlZCk7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLm9uKCdyZW1vdmVMaXN0ZW5lcicsIGZ1bmN0aW9uIChldmVudCkge1xuICAgIGlmIChldmVudCA9PT0gJ2NoYW5nZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignY2hhbmdlJywgcHVsbENoYW5nZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2RlbmllZCcsIHB1bGxEZW5pZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdXNoRGVuaWVkKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnYWN0aXZlJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVzaEFjdGl2ZSk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ3BhdXNlZCcpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcigncGF1c2VkJywgcHVsbFBhdXNlZCk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5wdWxsLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHJlbW92ZUFsbCgncHVsbCcpKTtcbiAgdGhpcy5wdXNoLm9uKCdyZW1vdmVMaXN0ZW5lcicsIHJlbW92ZUFsbCgncHVzaCcpKTtcblxuICB2YXIgcHJvbWlzZSA9IFByb21pc2UuYWxsKFtcbiAgICB0aGlzLnB1c2gsXG4gICAgdGhpcy5wdWxsXG4gIF0pLnRoZW4oZnVuY3Rpb24gKHJlc3ApIHtcbiAgICB2YXIgb3V0ID0ge1xuICAgICAgcHVzaDogcmVzcFswXSxcbiAgICAgIHB1bGw6IHJlc3BbMV1cbiAgICB9O1xuICAgIHNlbGYuZW1pdCgnY29tcGxldGUnLCBvdXQpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgY2FsbGJhY2sobnVsbCwgb3V0KTtcbiAgICB9XG4gICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICByZXR1cm4gb3V0O1xuICB9LCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgc2VsZi5jYW5jZWwoKTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3MgYSBjYWxsYmFjaywgdGhlbiB0aGUgY2FsbGJhY2sgY2FuIHJlY2VpdmVcbiAgICAgIC8vIHRoZSBlcnJvciBldmVudFxuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaWYgdGhlcmUncyBubyBjYWxsYmFjaywgdGhlbiB3ZSdyZSBzYWZlIHRvIGVtaXQgYW4gZXJyb3JcbiAgICAgIC8vIGV2ZW50LCB3aGljaCB3b3VsZCBvdGhlcndpc2UgdGhyb3cgYW4gdW5oYW5kbGVkIGVycm9yXG4gICAgICAvLyBkdWUgdG8gJ2Vycm9yJyBiZWluZyBhIHNwZWNpYWwgZXZlbnQgaW4gRXZlbnRFbWl0dGVyc1xuICAgICAgc2VsZi5lbWl0KCdlcnJvcicsIGVycik7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBubyBzZW5zZSB0aHJvd2luZyBpZiB3ZSdyZSBhbHJlYWR5IGVtaXR0aW5nIGFuICdlcnJvcicgZXZlbnRcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMudGhlbiA9IGZ1bmN0aW9uIChzdWNjZXNzLCBlcnIpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHN1Y2Nlc3MsIGVycik7XG4gIH07XG5cbiAgdGhpcy5jYXRjaCA9IGZ1bmN0aW9uIChlcnIpIHtcbiAgICByZXR1cm4gcHJvbWlzZS5jYXRjaChlcnIpO1xuICB9O1xufVxuXG5TeW5jLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIGlmICghdGhpcy5jYW5jZWxlZCkge1xuICAgIHRoaXMuY2FuY2VsZWQgPSB0cnVlO1xuICAgIHRoaXMucHVzaC5jYW5jZWwoKTtcbiAgICB0aGlzLnB1bGwuY2FuY2VsKCk7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIHJlcGxpY2F0aW9uKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5yZXBsaWNhdGUgPSByZXBsaWNhdGVXcmFwcGVyO1xuICBQb3VjaERCLnN5bmMgPSBzeW5jO1xuXG4gIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQb3VjaERCLnByb3RvdHlwZSwgJ3JlcGxpY2F0ZScsIHtcbiAgICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgIGlmICh0eXBlb2YgdGhpcy5yZXBsaWNhdGVNZXRob2RzID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aGlzLnJlcGxpY2F0ZU1ldGhvZHMgPSB7XG4gICAgICAgICAgZnJvbTogZnVuY3Rpb24gKG90aGVyLCBvcHRzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uc3RydWN0b3IucmVwbGljYXRlKG90aGVyLCBzZWxmLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICB0bzogZnVuY3Rpb24gKG90aGVyLCBvcHRzLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgcmV0dXJuIHNlbGYuY29uc3RydWN0b3IucmVwbGljYXRlKHNlbGYsIG90aGVyLCBvcHRzLCBjYWxsYmFjayk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMucmVwbGljYXRlTWV0aG9kcztcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoREIucHJvdG90eXBlLnN5bmMgPSBmdW5jdGlvbiAoZGJOYW1lLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHJldHVybiB0aGlzLmNvbnN0cnVjdG9yLnN5bmModGhpcywgZGJOYW1lLCBvcHRzLCBjYWxsYmFjayk7XG4gIH07XG59XG5cblBvdWNoREIucGx1Z2luKElEQlBvdWNoKVxuICAucGx1Z2luKEh0dHBQb3VjaCQxKVxuICAucGx1Z2luKG1hcHJlZHVjZSlcbiAgLnBsdWdpbihyZXBsaWNhdGlvbik7XG5cbi8vIFB1bGwgZnJvbSBzcmMgYmVjYXVzZSBwb3VjaGRiLW5vZGUvcG91Y2hkYi1icm93c2VyIHRoZW1zZWx2ZXNcblxuZXhwb3J0IGRlZmF1bHQgUG91Y2hEQjtcbiIsImltcG9ydCBybmcgZnJvbSAnLi9ybmcuanMnO1xuaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7IC8vICoqYHYxKClgIC0gR2VuZXJhdGUgdGltZS1iYXNlZCBVVUlEKipcbi8vXG4vLyBJbnNwaXJlZCBieSBodHRwczovL2dpdGh1Yi5jb20vTGlvc0svVVVJRC5qc1xuLy8gYW5kIGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS91dWlkLmh0bWxcblxudmFyIF9ub2RlSWQ7XG5cbnZhciBfY2xvY2tzZXE7IC8vIFByZXZpb3VzIHV1aWQgY3JlYXRpb24gdGltZVxuXG5cbnZhciBfbGFzdE1TZWNzID0gMDtcbnZhciBfbGFzdE5TZWNzID0gMDsgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS91dWlkanMvdXVpZCBmb3IgQVBJIGRldGFpbHNcblxuZnVuY3Rpb24gdjEob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgdmFyIGkgPSBidWYgJiYgb2Zmc2V0IHx8IDA7XG4gIHZhciBiID0gYnVmIHx8IG5ldyBBcnJheSgxNik7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICB2YXIgbm9kZSA9IG9wdGlvbnMubm9kZSB8fCBfbm9kZUlkO1xuICB2YXIgY2xvY2tzZXEgPSBvcHRpb25zLmNsb2Nrc2VxICE9PSB1bmRlZmluZWQgPyBvcHRpb25zLmNsb2Nrc2VxIDogX2Nsb2Nrc2VxOyAvLyBub2RlIGFuZCBjbG9ja3NlcSBuZWVkIHRvIGJlIGluaXRpYWxpemVkIHRvIHJhbmRvbSB2YWx1ZXMgaWYgdGhleSdyZSBub3RcbiAgLy8gc3BlY2lmaWVkLiAgV2UgZG8gdGhpcyBsYXppbHkgdG8gbWluaW1pemUgaXNzdWVzIHJlbGF0ZWQgdG8gaW5zdWZmaWNpZW50XG4gIC8vIHN5c3RlbSBlbnRyb3B5LiAgU2VlICMxODlcblxuICBpZiAobm9kZSA9PSBudWxsIHx8IGNsb2Nrc2VxID09IG51bGwpIHtcbiAgICB2YXIgc2VlZEJ5dGVzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTtcblxuICAgIGlmIChub2RlID09IG51bGwpIHtcbiAgICAgIC8vIFBlciA0LjUsIGNyZWF0ZSBhbmQgNDgtYml0IG5vZGUgaWQsICg0NyByYW5kb20gYml0cyArIG11bHRpY2FzdCBiaXQgPSAxKVxuICAgICAgbm9kZSA9IF9ub2RlSWQgPSBbc2VlZEJ5dGVzWzBdIHwgMHgwMSwgc2VlZEJ5dGVzWzFdLCBzZWVkQnl0ZXNbMl0sIHNlZWRCeXRlc1szXSwgc2VlZEJ5dGVzWzRdLCBzZWVkQnl0ZXNbNV1dO1xuICAgIH1cblxuICAgIGlmIChjbG9ja3NlcSA9PSBudWxsKSB7XG4gICAgICAvLyBQZXIgNC4yLjIsIHJhbmRvbWl6ZSAoMTQgYml0KSBjbG9ja3NlcVxuICAgICAgY2xvY2tzZXEgPSBfY2xvY2tzZXEgPSAoc2VlZEJ5dGVzWzZdIDw8IDggfCBzZWVkQnl0ZXNbN10pICYgMHgzZmZmO1xuICAgIH1cbiAgfSAvLyBVVUlEIHRpbWVzdGFtcHMgYXJlIDEwMCBuYW5vLXNlY29uZCB1bml0cyBzaW5jZSB0aGUgR3JlZ29yaWFuIGVwb2NoLFxuICAvLyAoMTU4Mi0xMC0xNSAwMDowMCkuICBKU051bWJlcnMgYXJlbid0IHByZWNpc2UgZW5vdWdoIGZvciB0aGlzLCBzb1xuICAvLyB0aW1lIGlzIGhhbmRsZWQgaW50ZXJuYWxseSBhcyAnbXNlY3MnIChpbnRlZ2VyIG1pbGxpc2Vjb25kcykgYW5kICduc2VjcydcbiAgLy8gKDEwMC1uYW5vc2Vjb25kcyBvZmZzZXQgZnJvbSBtc2Vjcykgc2luY2UgdW5peCBlcG9jaCwgMTk3MC0wMS0wMSAwMDowMC5cblxuXG4gIHZhciBtc2VjcyA9IG9wdGlvbnMubXNlY3MgIT09IHVuZGVmaW5lZCA/IG9wdGlvbnMubXNlY3MgOiBEYXRlLm5vdygpOyAvLyBQZXIgNC4yLjEuMiwgdXNlIGNvdW50IG9mIHV1aWQncyBnZW5lcmF0ZWQgZHVyaW5nIHRoZSBjdXJyZW50IGNsb2NrXG4gIC8vIGN5Y2xlIHRvIHNpbXVsYXRlIGhpZ2hlciByZXNvbHV0aW9uIGNsb2NrXG5cbiAgdmFyIG5zZWNzID0gb3B0aW9ucy5uc2VjcyAhPT0gdW5kZWZpbmVkID8gb3B0aW9ucy5uc2VjcyA6IF9sYXN0TlNlY3MgKyAxOyAvLyBUaW1lIHNpbmNlIGxhc3QgdXVpZCBjcmVhdGlvbiAoaW4gbXNlY3MpXG5cbiAgdmFyIGR0ID0gbXNlY3MgLSBfbGFzdE1TZWNzICsgKG5zZWNzIC0gX2xhc3ROU2VjcykgLyAxMDAwMDsgLy8gUGVyIDQuMi4xLjIsIEJ1bXAgY2xvY2tzZXEgb24gY2xvY2sgcmVncmVzc2lvblxuXG4gIGlmIChkdCA8IDAgJiYgb3B0aW9ucy5jbG9ja3NlcSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY2xvY2tzZXEgPSBjbG9ja3NlcSArIDEgJiAweDNmZmY7XG4gIH0gLy8gUmVzZXQgbnNlY3MgaWYgY2xvY2sgcmVncmVzc2VzIChuZXcgY2xvY2tzZXEpIG9yIHdlJ3ZlIG1vdmVkIG9udG8gYSBuZXdcbiAgLy8gdGltZSBpbnRlcnZhbFxuXG5cbiAgaWYgKChkdCA8IDAgfHwgbXNlY3MgPiBfbGFzdE1TZWNzKSAmJiBvcHRpb25zLm5zZWNzID09PSB1bmRlZmluZWQpIHtcbiAgICBuc2VjcyA9IDA7XG4gIH0gLy8gUGVyIDQuMi4xLjIgVGhyb3cgZXJyb3IgaWYgdG9vIG1hbnkgdXVpZHMgYXJlIHJlcXVlc3RlZFxuXG5cbiAgaWYgKG5zZWNzID49IDEwMDAwKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwidXVpZC52MSgpOiBDYW4ndCBjcmVhdGUgbW9yZSB0aGFuIDEwTSB1dWlkcy9zZWNcIik7XG4gIH1cblxuICBfbGFzdE1TZWNzID0gbXNlY3M7XG4gIF9sYXN0TlNlY3MgPSBuc2VjcztcbiAgX2Nsb2Nrc2VxID0gY2xvY2tzZXE7IC8vIFBlciA0LjEuNCAtIENvbnZlcnQgZnJvbSB1bml4IGVwb2NoIHRvIEdyZWdvcmlhbiBlcG9jaFxuXG4gIG1zZWNzICs9IDEyMjE5MjkyODAwMDAwOyAvLyBgdGltZV9sb3dgXG5cbiAgdmFyIHRsID0gKChtc2VjcyAmIDB4ZmZmZmZmZikgKiAxMDAwMCArIG5zZWNzKSAlIDB4MTAwMDAwMDAwO1xuICBiW2krK10gPSB0bCA+Pj4gMjQgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gMTYgJiAweGZmO1xuICBiW2krK10gPSB0bCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRsICYgMHhmZjsgLy8gYHRpbWVfbWlkYFxuXG4gIHZhciB0bWggPSBtc2VjcyAvIDB4MTAwMDAwMDAwICogMTAwMDAgJiAweGZmZmZmZmY7XG4gIGJbaSsrXSA9IHRtaCA+Pj4gOCAmIDB4ZmY7XG4gIGJbaSsrXSA9IHRtaCAmIDB4ZmY7IC8vIGB0aW1lX2hpZ2hfYW5kX3ZlcnNpb25gXG5cbiAgYltpKytdID0gdG1oID4+PiAyNCAmIDB4ZiB8IDB4MTA7IC8vIGluY2x1ZGUgdmVyc2lvblxuXG4gIGJbaSsrXSA9IHRtaCA+Pj4gMTYgJiAweGZmOyAvLyBgY2xvY2tfc2VxX2hpX2FuZF9yZXNlcnZlZGAgKFBlciA0LjIuMiAtIGluY2x1ZGUgdmFyaWFudClcblxuICBiW2krK10gPSBjbG9ja3NlcSA+Pj4gOCB8IDB4ODA7IC8vIGBjbG9ja19zZXFfbG93YFxuXG4gIGJbaSsrXSA9IGNsb2Nrc2VxICYgMHhmZjsgLy8gYG5vZGVgXG5cbiAgZm9yICh2YXIgbiA9IDA7IG4gPCA2OyArK24pIHtcbiAgICBiW2kgKyBuXSA9IG5vZGVbbl07XG4gIH1cblxuICByZXR1cm4gYnVmIHx8IHN0cmluZ2lmeShiKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjE7IiwiaW1wb3J0IHZhbGlkYXRlIGZyb20gJy4vdmFsaWRhdGUuanMnO1xuXG5mdW5jdGlvbiBwYXJzZSh1dWlkKSB7XG4gIGlmICghdmFsaWRhdGUodXVpZCkpIHtcbiAgICB0aHJvdyBUeXBlRXJyb3IoJ0ludmFsaWQgVVVJRCcpO1xuICB9XG5cbiAgdmFyIHY7XG4gIHZhciBhcnIgPSBuZXcgVWludDhBcnJheSgxNik7IC8vIFBhcnNlICMjIyMjIyMjLS4uLi4tLi4uLi0uLi4uLS4uLi4uLi4uLi4uLlxuXG4gIGFyclswXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgwLCA4KSwgMTYpKSA+Pj4gMjQ7XG4gIGFyclsxXSA9IHYgPj4+IDE2ICYgMHhmZjtcbiAgYXJyWzJdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclszXSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0jIyMjLS4uLi4tLi4uLi0uLi4uLi4uLi4uLi5cblxuICBhcnJbNF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoOSwgMTMpLCAxNikpID4+PiA4O1xuICBhcnJbNV0gPSB2ICYgMHhmZjsgLy8gUGFyc2UgLi4uLi4uLi4tLi4uLi0jIyMjLS4uLi4tLi4uLi4uLi4uLi4uXG5cbiAgYXJyWzZdID0gKHYgPSBwYXJzZUludCh1dWlkLnNsaWNlKDE0LCAxOCksIDE2KSkgPj4+IDg7XG4gIGFycls3XSA9IHYgJiAweGZmOyAvLyBQYXJzZSAuLi4uLi4uLi0uLi4uLS4uLi4tIyMjIy0uLi4uLi4uLi4uLi5cblxuICBhcnJbOF0gPSAodiA9IHBhcnNlSW50KHV1aWQuc2xpY2UoMTksIDIzKSwgMTYpKSA+Pj4gODtcbiAgYXJyWzldID0gdiAmIDB4ZmY7IC8vIFBhcnNlIC4uLi4uLi4uLS4uLi4tLi4uLi0uLi4uLSMjIyMjIyMjIyMjI1xuICAvLyAoVXNlIFwiL1wiIHRvIGF2b2lkIDMyLWJpdCB0cnVuY2F0aW9uIHdoZW4gYml0LXNoaWZ0aW5nIGhpZ2gtb3JkZXIgYnl0ZXMpXG5cbiAgYXJyWzEwXSA9ICh2ID0gcGFyc2VJbnQodXVpZC5zbGljZSgyNCwgMzYpLCAxNikpIC8gMHgxMDAwMDAwMDAwMCAmIDB4ZmY7XG4gIGFyclsxMV0gPSB2IC8gMHgxMDAwMDAwMDAgJiAweGZmO1xuICBhcnJbMTJdID0gdiA+Pj4gMjQgJiAweGZmO1xuICBhcnJbMTNdID0gdiA+Pj4gMTYgJiAweGZmO1xuICBhcnJbMTRdID0gdiA+Pj4gOCAmIDB4ZmY7XG4gIGFyclsxNV0gPSB2ICYgMHhmZjtcbiAgcmV0dXJuIGFycjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgcGFyc2U7IiwiaW1wb3J0IHN0cmluZ2lmeSBmcm9tICcuL3N0cmluZ2lmeS5qcyc7XG5pbXBvcnQgcGFyc2UgZnJvbSAnLi9wYXJzZS5qcyc7XG5cbmZ1bmN0aW9uIHN0cmluZ1RvQnl0ZXMoc3RyKSB7XG4gIHN0ciA9IHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKTsgLy8gVVRGOCBlc2NhcGVcblxuICB2YXIgYnl0ZXMgPSBbXTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IHN0ci5sZW5ndGg7ICsraSkge1xuICAgIGJ5dGVzLnB1c2goc3RyLmNoYXJDb2RlQXQoaSkpO1xuICB9XG5cbiAgcmV0dXJuIGJ5dGVzO1xufVxuXG5leHBvcnQgdmFyIEROUyA9ICc2YmE3YjgxMC05ZGFkLTExZDEtODBiNC0wMGMwNGZkNDMwYzgnO1xuZXhwb3J0IHZhciBVUkwgPSAnNmJhN2I4MTEtOWRhZC0xMWQxLTgwYjQtMDBjMDRmZDQzMGM4JztcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIChuYW1lLCB2ZXJzaW9uLCBoYXNoZnVuYykge1xuICBmdW5jdGlvbiBnZW5lcmF0ZVVVSUQodmFsdWUsIG5hbWVzcGFjZSwgYnVmLCBvZmZzZXQpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJykge1xuICAgICAgdmFsdWUgPSBzdHJpbmdUb0J5dGVzKHZhbHVlKTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG5hbWVzcGFjZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG5hbWVzcGFjZSA9IHBhcnNlKG5hbWVzcGFjZSk7XG4gICAgfVxuXG4gICAgaWYgKG5hbWVzcGFjZS5sZW5ndGggIT09IDE2KSB7XG4gICAgICB0aHJvdyBUeXBlRXJyb3IoJ05hbWVzcGFjZSBtdXN0IGJlIGFycmF5LWxpa2UgKDE2IGl0ZXJhYmxlIGludGVnZXIgdmFsdWVzLCAwLTI1NSknKTtcbiAgICB9IC8vIENvbXB1dGUgaGFzaCBvZiBuYW1lc3BhY2UgYW5kIHZhbHVlLCBQZXIgNC4zXG4gICAgLy8gRnV0dXJlOiBVc2Ugc3ByZWFkIHN5bnRheCB3aGVuIHN1cHBvcnRlZCBvbiBhbGwgcGxhdGZvcm1zLCBlLmcuIGBieXRlcyA9XG4gICAgLy8gaGFzaGZ1bmMoWy4uLm5hbWVzcGFjZSwgLi4uIHZhbHVlXSlgXG5cblxuICAgIHZhciBieXRlcyA9IG5ldyBVaW50OEFycmF5KDE2ICsgdmFsdWUubGVuZ3RoKTtcbiAgICBieXRlcy5zZXQobmFtZXNwYWNlKTtcbiAgICBieXRlcy5zZXQodmFsdWUsIG5hbWVzcGFjZS5sZW5ndGgpO1xuICAgIGJ5dGVzID0gaGFzaGZ1bmMoYnl0ZXMpO1xuICAgIGJ5dGVzWzZdID0gYnl0ZXNbNl0gJiAweDBmIHwgdmVyc2lvbjtcbiAgICBieXRlc1s4XSA9IGJ5dGVzWzhdICYgMHgzZiB8IDB4ODA7XG5cbiAgICBpZiAoYnVmKSB7XG4gICAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCAxNjsgKytpKSB7XG4gICAgICAgIGJ1ZltvZmZzZXQgKyBpXSA9IGJ5dGVzW2ldO1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gYnVmO1xuICAgIH1cblxuICAgIHJldHVybiBzdHJpbmdpZnkoYnl0ZXMpO1xuICB9IC8vIEZ1bmN0aW9uI25hbWUgaXMgbm90IHNldHRhYmxlIG9uIHNvbWUgcGxhdGZvcm1zICgjMjcwKVxuXG5cbiAgdHJ5IHtcbiAgICBnZW5lcmF0ZVVVSUQubmFtZSA9IG5hbWU7IC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1lbXB0eVxuICB9IGNhdGNoIChlcnIpIHt9IC8vIEZvciBDb21tb25KUyBkZWZhdWx0IGV4cG9ydCBzdXBwb3J0XG5cblxuICBnZW5lcmF0ZVVVSUQuRE5TID0gRE5TO1xuICBnZW5lcmF0ZVVVSUQuVVJMID0gVVJMO1xuICByZXR1cm4gZ2VuZXJhdGVVVUlEO1xufSIsIi8qXG4gKiBCcm93c2VyLWNvbXBhdGlibGUgSmF2YVNjcmlwdCBNRDVcbiAqXG4gKiBNb2RpZmljYXRpb24gb2YgSmF2YVNjcmlwdCBNRDVcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9ibHVlaW1wL0phdmFTY3JpcHQtTUQ1XG4gKlxuICogQ29weXJpZ2h0IDIwMTEsIFNlYmFzdGlhbiBUc2NoYW5cbiAqIGh0dHBzOi8vYmx1ZWltcC5uZXRcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2U6XG4gKiBodHRwczovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL01JVFxuICpcbiAqIEJhc2VkIG9uXG4gKiBBIEphdmFTY3JpcHQgaW1wbGVtZW50YXRpb24gb2YgdGhlIFJTQSBEYXRhIFNlY3VyaXR5LCBJbmMuIE1ENSBNZXNzYWdlXG4gKiBEaWdlc3QgQWxnb3JpdGhtLCBhcyBkZWZpbmVkIGluIFJGQyAxMzIxLlxuICogVmVyc2lvbiAyLjIgQ29weXJpZ2h0IChDKSBQYXVsIEpvaG5zdG9uIDE5OTkgLSAyMDA5XG4gKiBPdGhlciBjb250cmlidXRvcnM6IEdyZWcgSG9sdCwgQW5kcmV3IEtlcGVydCwgWWRuYXIsIExvc3RpbmV0XG4gKiBEaXN0cmlidXRlZCB1bmRlciB0aGUgQlNEIExpY2Vuc2VcbiAqIFNlZSBodHRwOi8vcGFqaG9tZS5vcmcudWsvY3J5cHQvbWQ1IGZvciBtb3JlIGluZm8uXG4gKi9cbmZ1bmN0aW9uIG1kNShieXRlcykge1xuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkobXNnLmxlbmd0aCk7XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXNbaV0gPSBtc2cuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gbWQ1VG9IZXhFbmNvZGVkQXJyYXkod29yZHNUb01kNShieXRlc1RvV29yZHMoYnl0ZXMpLCBieXRlcy5sZW5ndGggKiA4KSk7XG59XG4vKlxuICogQ29udmVydCBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzIHRvIGFuIGFycmF5IG9mIGJ5dGVzXG4gKi9cblxuXG5mdW5jdGlvbiBtZDVUb0hleEVuY29kZWRBcnJheShpbnB1dCkge1xuICB2YXIgb3V0cHV0ID0gW107XG4gIHZhciBsZW5ndGgzMiA9IGlucHV0Lmxlbmd0aCAqIDMyO1xuICB2YXIgaGV4VGFiID0gJzAxMjM0NTY3ODlhYmNkZWYnO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoMzI7IGkgKz0gOCkge1xuICAgIHZhciB4ID0gaW5wdXRbaSA+PiA1XSA+Pj4gaSAlIDMyICYgMHhmZjtcbiAgICB2YXIgaGV4ID0gcGFyc2VJbnQoaGV4VGFiLmNoYXJBdCh4ID4+PiA0ICYgMHgwZikgKyBoZXhUYWIuY2hhckF0KHggJiAweDBmKSwgMTYpO1xuICAgIG91dHB1dC5wdXNoKGhleCk7XG4gIH1cblxuICByZXR1cm4gb3V0cHV0O1xufVxuLyoqXG4gKiBDYWxjdWxhdGUgb3V0cHV0IGxlbmd0aCB3aXRoIHBhZGRpbmcgYW5kIGJpdCBsZW5ndGhcbiAqL1xuXG5cbmZ1bmN0aW9uIGdldE91dHB1dExlbmd0aChpbnB1dExlbmd0aDgpIHtcbiAgcmV0dXJuIChpbnB1dExlbmd0aDggKyA2NCA+Pj4gOSA8PCA0KSArIDE0ICsgMTtcbn1cbi8qXG4gKiBDYWxjdWxhdGUgdGhlIE1ENSBvZiBhbiBhcnJheSBvZiBsaXR0bGUtZW5kaWFuIHdvcmRzLCBhbmQgYSBiaXQgbGVuZ3RoLlxuICovXG5cblxuZnVuY3Rpb24gd29yZHNUb01kNSh4LCBsZW4pIHtcbiAgLyogYXBwZW5kIHBhZGRpbmcgKi9cbiAgeFtsZW4gPj4gNV0gfD0gMHg4MCA8PCBsZW4gJSAzMjtcbiAgeFtnZXRPdXRwdXRMZW5ndGgobGVuKSAtIDFdID0gbGVuO1xuICB2YXIgYSA9IDE3MzI1ODQxOTM7XG4gIHZhciBiID0gLTI3MTczMzg3OTtcbiAgdmFyIGMgPSAtMTczMjU4NDE5NDtcbiAgdmFyIGQgPSAyNzE3MzM4Nzg7XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSArPSAxNikge1xuICAgIHZhciBvbGRhID0gYTtcbiAgICB2YXIgb2xkYiA9IGI7XG4gICAgdmFyIG9sZGMgPSBjO1xuICAgIHZhciBvbGRkID0gZDtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpXSwgNywgLTY4MDg3NjkzNik7XG4gICAgZCA9IG1kNWZmKGQsIGEsIGIsIGMsIHhbaSArIDFdLCAxMiwgLTM4OTU2NDU4Nik7XG4gICAgYyA9IG1kNWZmKGMsIGQsIGEsIGIsIHhbaSArIDJdLCAxNywgNjA2MTA1ODE5KTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgM10sIDIyLCAtMTA0NDUyNTMzMCk7XG4gICAgYSA9IG1kNWZmKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA3LCAtMTc2NDE4ODk3KTtcbiAgICBkID0gbWQ1ZmYoZCwgYSwgYiwgYywgeFtpICsgNV0sIDEyLCAxMjAwMDgwNDI2KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgNl0sIDE3LCAtMTQ3MzIzMTM0MSk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDddLCAyMiwgLTQ1NzA1OTgzKTtcbiAgICBhID0gbWQ1ZmYoYSwgYiwgYywgZCwgeFtpICsgOF0sIDcsIDE3NzAwMzU0MTYpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyA5XSwgMTIsIC0xOTU4NDE0NDE3KTtcbiAgICBjID0gbWQ1ZmYoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNywgLTQyMDYzKTtcbiAgICBiID0gbWQ1ZmYoYiwgYywgZCwgYSwgeFtpICsgMTFdLCAyMiwgLTE5OTA0MDQxNjIpO1xuICAgIGEgPSBtZDVmZihhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDcsIDE4MDQ2MDM2ODIpO1xuICAgIGQgPSBtZDVmZihkLCBhLCBiLCBjLCB4W2kgKyAxM10sIDEyLCAtNDAzNDExMDEpO1xuICAgIGMgPSBtZDVmZihjLCBkLCBhLCBiLCB4W2kgKyAxNF0sIDE3LCAtMTUwMjAwMjI5MCk7XG4gICAgYiA9IG1kNWZmKGIsIGMsIGQsIGEsIHhbaSArIDE1XSwgMjIsIDEyMzY1MzUzMjkpO1xuICAgIGEgPSBtZDVnZyhhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNSwgLTE2NTc5NjUxMCk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDZdLCA5LCAtMTA2OTUwMTYzMik7XG4gICAgYyA9IG1kNWdnKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTQsIDY0MzcxNzcxMyk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaV0sIDIwLCAtMzczODk3MzAyKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgNV0sIDUsIC03MDE1NTg2OTEpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxMF0sIDksIDM4MDE2MDgzKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNCwgLTY2MDQ3ODMzNSk7XG4gICAgYiA9IG1kNWdnKGIsIGMsIGQsIGEsIHhbaSArIDRdLCAyMCwgLTQwNTUzNzg0OCk7XG4gICAgYSA9IG1kNWdnKGEsIGIsIGMsIGQsIHhbaSArIDldLCA1LCA1Njg0NDY0MzgpO1xuICAgIGQgPSBtZDVnZyhkLCBhLCBiLCBjLCB4W2kgKyAxNF0sIDksIC0xMDE5ODAzNjkwKTtcbiAgICBjID0gbWQ1Z2coYywgZCwgYSwgYiwgeFtpICsgM10sIDE0LCAtMTg3MzYzOTYxKTtcbiAgICBiID0gbWQ1Z2coYiwgYywgZCwgYSwgeFtpICsgOF0sIDIwLCAxMTYzNTMxNTAxKTtcbiAgICBhID0gbWQ1Z2coYSwgYiwgYywgZCwgeFtpICsgMTNdLCA1LCAtMTQ0NDY4MTQ2Nyk7XG4gICAgZCA9IG1kNWdnKGQsIGEsIGIsIGMsIHhbaSArIDJdLCA5LCAtNTE0MDM3ODQpO1xuICAgIGMgPSBtZDVnZyhjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTQsIDE3MzUzMjg0NzMpO1xuICAgIGIgPSBtZDVnZyhiLCBjLCBkLCBhLCB4W2kgKyAxMl0sIDIwLCAtMTkyNjYwNzczNCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDVdLCA0LCAtMzc4NTU4KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpICsgOF0sIDExLCAtMjAyMjU3NDQ2Myk7XG4gICAgYyA9IG1kNWhoKGMsIGQsIGEsIGIsIHhbaSArIDExXSwgMTYsIDE4MzkwMzA1NjIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxNF0sIDIzLCAtMzUzMDk1NTYpO1xuICAgIGEgPSBtZDVoaChhLCBiLCBjLCBkLCB4W2kgKyAxXSwgNCwgLTE1MzA5OTIwNjApO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyA0XSwgMTEsIDEyNzI4OTMzNTMpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyA3XSwgMTYsIC0xNTU0OTc2MzIpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyAxMF0sIDIzLCAtMTA5NDczMDY0MCk7XG4gICAgYSA9IG1kNWhoKGEsIGIsIGMsIGQsIHhbaSArIDEzXSwgNCwgNjgxMjc5MTc0KTtcbiAgICBkID0gbWQ1aGgoZCwgYSwgYiwgYywgeFtpXSwgMTEsIC0zNTg1MzcyMjIpO1xuICAgIGMgPSBtZDVoaChjLCBkLCBhLCBiLCB4W2kgKyAzXSwgMTYsIC03MjI1MjE5NzkpO1xuICAgIGIgPSBtZDVoaChiLCBjLCBkLCBhLCB4W2kgKyA2XSwgMjMsIDc2MDI5MTg5KTtcbiAgICBhID0gbWQ1aGgoYSwgYiwgYywgZCwgeFtpICsgOV0sIDQsIC02NDAzNjQ0ODcpO1xuICAgIGQgPSBtZDVoaChkLCBhLCBiLCBjLCB4W2kgKyAxMl0sIDExLCAtNDIxODE1ODM1KTtcbiAgICBjID0gbWQ1aGgoYywgZCwgYSwgYiwgeFtpICsgMTVdLCAxNiwgNTMwNzQyNTIwKTtcbiAgICBiID0gbWQ1aGgoYiwgYywgZCwgYSwgeFtpICsgMl0sIDIzLCAtOTk1MzM4NjUxKTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpXSwgNiwgLTE5ODYzMDg0NCk7XG4gICAgZCA9IG1kNWlpKGQsIGEsIGIsIGMsIHhbaSArIDddLCAxMCwgMTEyNjg5MTQxNSk7XG4gICAgYyA9IG1kNWlpKGMsIGQsIGEsIGIsIHhbaSArIDE0XSwgMTUsIC0xNDE2MzU0OTA1KTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgNV0sIDIxLCAtNTc0MzQwNTUpO1xuICAgIGEgPSBtZDVpaShhLCBiLCBjLCBkLCB4W2kgKyAxMl0sIDYsIDE3MDA0ODU1NzEpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAzXSwgMTAsIC0xODk0OTg2NjA2KTtcbiAgICBjID0gbWQ1aWkoYywgZCwgYSwgYiwgeFtpICsgMTBdLCAxNSwgLTEwNTE1MjMpO1xuICAgIGIgPSBtZDVpaShiLCBjLCBkLCBhLCB4W2kgKyAxXSwgMjEsIC0yMDU0OTIyNzk5KTtcbiAgICBhID0gbWQ1aWkoYSwgYiwgYywgZCwgeFtpICsgOF0sIDYsIDE4NzMzMTMzNTkpO1xuICAgIGQgPSBtZDVpaShkLCBhLCBiLCBjLCB4W2kgKyAxNV0sIDEwLCAtMzA2MTE3NDQpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyA2XSwgMTUsIC0xNTYwMTk4MzgwKTtcbiAgICBiID0gbWQ1aWkoYiwgYywgZCwgYSwgeFtpICsgMTNdLCAyMSwgMTMwOTE1MTY0OSk7XG4gICAgYSA9IG1kNWlpKGEsIGIsIGMsIGQsIHhbaSArIDRdLCA2LCAtMTQ1NTIzMDcwKTtcbiAgICBkID0gbWQ1aWkoZCwgYSwgYiwgYywgeFtpICsgMTFdLCAxMCwgLTExMjAyMTAzNzkpO1xuICAgIGMgPSBtZDVpaShjLCBkLCBhLCBiLCB4W2kgKyAyXSwgMTUsIDcxODc4NzI1OSk7XG4gICAgYiA9IG1kNWlpKGIsIGMsIGQsIGEsIHhbaSArIDldLCAyMSwgLTM0MzQ4NTU1MSk7XG4gICAgYSA9IHNhZmVBZGQoYSwgb2xkYSk7XG4gICAgYiA9IHNhZmVBZGQoYiwgb2xkYik7XG4gICAgYyA9IHNhZmVBZGQoYywgb2xkYyk7XG4gICAgZCA9IHNhZmVBZGQoZCwgb2xkZCk7XG4gIH1cblxuICByZXR1cm4gW2EsIGIsIGMsIGRdO1xufVxuLypcbiAqIENvbnZlcnQgYW4gYXJyYXkgYnl0ZXMgdG8gYW4gYXJyYXkgb2YgbGl0dGxlLWVuZGlhbiB3b3Jkc1xuICogQ2hhcmFjdGVycyA+MjU1IGhhdmUgdGhlaXIgaGlnaC1ieXRlIHNpbGVudGx5IGlnbm9yZWQuXG4gKi9cblxuXG5mdW5jdGlvbiBieXRlc1RvV29yZHMoaW5wdXQpIHtcbiAgaWYgKGlucHV0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuXG4gIHZhciBsZW5ndGg4ID0gaW5wdXQubGVuZ3RoICogODtcbiAgdmFyIG91dHB1dCA9IG5ldyBVaW50MzJBcnJheShnZXRPdXRwdXRMZW5ndGgobGVuZ3RoOCkpO1xuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoODsgaSArPSA4KSB7XG4gICAgb3V0cHV0W2kgPj4gNV0gfD0gKGlucHV0W2kgLyA4XSAmIDB4ZmYpIDw8IGkgJSAzMjtcbiAgfVxuXG4gIHJldHVybiBvdXRwdXQ7XG59XG4vKlxuICogQWRkIGludGVnZXJzLCB3cmFwcGluZyBhdCAyXjMyLiBUaGlzIHVzZXMgMTYtYml0IG9wZXJhdGlvbnMgaW50ZXJuYWxseVxuICogdG8gd29yayBhcm91bmQgYnVncyBpbiBzb21lIEpTIGludGVycHJldGVycy5cbiAqL1xuXG5cbmZ1bmN0aW9uIHNhZmVBZGQoeCwgeSkge1xuICB2YXIgbHN3ID0gKHggJiAweGZmZmYpICsgKHkgJiAweGZmZmYpO1xuICB2YXIgbXN3ID0gKHggPj4gMTYpICsgKHkgPj4gMTYpICsgKGxzdyA+PiAxNik7XG4gIHJldHVybiBtc3cgPDwgMTYgfCBsc3cgJiAweGZmZmY7XG59XG4vKlxuICogQml0d2lzZSByb3RhdGUgYSAzMi1iaXQgbnVtYmVyIHRvIHRoZSBsZWZ0LlxuICovXG5cblxuZnVuY3Rpb24gYml0Um90YXRlTGVmdChudW0sIGNudCkge1xuICByZXR1cm4gbnVtIDw8IGNudCB8IG51bSA+Pj4gMzIgLSBjbnQ7XG59XG4vKlxuICogVGhlc2UgZnVuY3Rpb25zIGltcGxlbWVudCB0aGUgZm91ciBiYXNpYyBvcGVyYXRpb25zIHRoZSBhbGdvcml0aG0gdXNlcy5cbiAqL1xuXG5cbmZ1bmN0aW9uIG1kNWNtbihxLCBhLCBiLCB4LCBzLCB0KSB7XG4gIHJldHVybiBzYWZlQWRkKGJpdFJvdGF0ZUxlZnQoc2FmZUFkZChzYWZlQWRkKGEsIHEpLCBzYWZlQWRkKHgsIHQpKSwgcyksIGIpO1xufVxuXG5mdW5jdGlvbiBtZDVmZihhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGMgfCB+YiAmIGQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVnZyhhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiAmIGQgfCBjICYgfmQsIGEsIGIsIHgsIHMsIHQpO1xufVxuXG5mdW5jdGlvbiBtZDVoaChhLCBiLCBjLCBkLCB4LCBzLCB0KSB7XG4gIHJldHVybiBtZDVjbW4oYiBeIGMgXiBkLCBhLCBiLCB4LCBzLCB0KTtcbn1cblxuZnVuY3Rpb24gbWQ1aWkoYSwgYiwgYywgZCwgeCwgcywgdCkge1xuICByZXR1cm4gbWQ1Y21uKGMgXiAoYiB8IH5kKSwgYSwgYiwgeCwgcywgdCk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IG1kNTsiLCJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBtZDUgZnJvbSAnLi9tZDUuanMnO1xudmFyIHYzID0gdjM1KCd2MycsIDB4MzAsIG1kNSk7XG5leHBvcnQgZGVmYXVsdCB2MzsiLCIvLyBBZGFwdGVkIGZyb20gQ2hyaXMgVmVuZXNzJyBTSEExIGNvZGUgYXRcbi8vIGh0dHA6Ly93d3cubW92YWJsZS10eXBlLmNvLnVrL3NjcmlwdHMvc2hhMS5odG1sXG5mdW5jdGlvbiBmKHMsIHgsIHksIHopIHtcbiAgc3dpdGNoIChzKSB7XG4gICAgY2FzZSAwOlxuICAgICAgcmV0dXJuIHggJiB5IF4gfnggJiB6O1xuXG4gICAgY2FzZSAxOlxuICAgICAgcmV0dXJuIHggXiB5IF4gejtcblxuICAgIGNhc2UgMjpcbiAgICAgIHJldHVybiB4ICYgeSBeIHggJiB6IF4geSAmIHo7XG5cbiAgICBjYXNlIDM6XG4gICAgICByZXR1cm4geCBeIHkgXiB6O1xuICB9XG59XG5cbmZ1bmN0aW9uIFJPVEwoeCwgbikge1xuICByZXR1cm4geCA8PCBuIHwgeCA+Pj4gMzIgLSBuO1xufVxuXG5mdW5jdGlvbiBzaGExKGJ5dGVzKSB7XG4gIHZhciBLID0gWzB4NWE4Mjc5OTksIDB4NmVkOWViYTEsIDB4OGYxYmJjZGMsIDB4Y2E2MmMxZDZdO1xuICB2YXIgSCA9IFsweDY3NDUyMzAxLCAweGVmY2RhYjg5LCAweDk4YmFkY2ZlLCAweDEwMzI1NDc2LCAweGMzZDJlMWYwXTtcblxuICBpZiAodHlwZW9mIGJ5dGVzID09PSAnc3RyaW5nJykge1xuICAgIHZhciBtc2cgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoYnl0ZXMpKTsgLy8gVVRGOCBlc2NhcGVcblxuICAgIGJ5dGVzID0gW107XG5cbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IG1zZy5sZW5ndGg7ICsraSkge1xuICAgICAgYnl0ZXMucHVzaChtc2cuY2hhckNvZGVBdChpKSk7XG4gICAgfVxuICB9IGVsc2UgaWYgKCFBcnJheS5pc0FycmF5KGJ5dGVzKSkge1xuICAgIC8vIENvbnZlcnQgQXJyYXktbGlrZSB0byBBcnJheVxuICAgIGJ5dGVzID0gQXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwoYnl0ZXMpO1xuICB9XG5cbiAgYnl0ZXMucHVzaCgweDgwKTtcbiAgdmFyIGwgPSBieXRlcy5sZW5ndGggLyA0ICsgMjtcbiAgdmFyIE4gPSBNYXRoLmNlaWwobCAvIDE2KTtcbiAgdmFyIE0gPSBuZXcgQXJyYXkoTik7XG5cbiAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IE47ICsrX2kpIHtcbiAgICB2YXIgYXJyID0gbmV3IFVpbnQzMkFycmF5KDE2KTtcblxuICAgIGZvciAodmFyIGogPSAwOyBqIDwgMTY7ICsraikge1xuICAgICAgYXJyW2pdID0gYnl0ZXNbX2kgKiA2NCArIGogKiA0XSA8PCAyNCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDFdIDw8IDE2IHwgYnl0ZXNbX2kgKiA2NCArIGogKiA0ICsgMl0gPDwgOCB8IGJ5dGVzW19pICogNjQgKyBqICogNCArIDNdO1xuICAgIH1cblxuICAgIE1bX2ldID0gYXJyO1xuICB9XG5cbiAgTVtOIC0gMV1bMTRdID0gKGJ5dGVzLmxlbmd0aCAtIDEpICogOCAvIE1hdGgucG93KDIsIDMyKTtcbiAgTVtOIC0gMV1bMTRdID0gTWF0aC5mbG9vcihNW04gLSAxXVsxNF0pO1xuICBNW04gLSAxXVsxNV0gPSAoYnl0ZXMubGVuZ3RoIC0gMSkgKiA4ICYgMHhmZmZmZmZmZjtcblxuICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBOOyArK19pMikge1xuICAgIHZhciBXID0gbmV3IFVpbnQzMkFycmF5KDgwKTtcblxuICAgIGZvciAodmFyIHQgPSAwOyB0IDwgMTY7ICsrdCkge1xuICAgICAgV1t0XSA9IE1bX2kyXVt0XTtcbiAgICB9XG5cbiAgICBmb3IgKHZhciBfdCA9IDE2OyBfdCA8IDgwOyArK190KSB7XG4gICAgICBXW190XSA9IFJPVEwoV1tfdCAtIDNdIF4gV1tfdCAtIDhdIF4gV1tfdCAtIDE0XSBeIFdbX3QgLSAxNl0sIDEpO1xuICAgIH1cblxuICAgIHZhciBhID0gSFswXTtcbiAgICB2YXIgYiA9IEhbMV07XG4gICAgdmFyIGMgPSBIWzJdO1xuICAgIHZhciBkID0gSFszXTtcbiAgICB2YXIgZSA9IEhbNF07XG5cbiAgICBmb3IgKHZhciBfdDIgPSAwOyBfdDIgPCA4MDsgKytfdDIpIHtcbiAgICAgIHZhciBzID0gTWF0aC5mbG9vcihfdDIgLyAyMCk7XG4gICAgICB2YXIgVCA9IFJPVEwoYSwgNSkgKyBmKHMsIGIsIGMsIGQpICsgZSArIEtbc10gKyBXW190Ml0gPj4+IDA7XG4gICAgICBlID0gZDtcbiAgICAgIGQgPSBjO1xuICAgICAgYyA9IFJPVEwoYiwgMzApID4+PiAwO1xuICAgICAgYiA9IGE7XG4gICAgICBhID0gVDtcbiAgICB9XG5cbiAgICBIWzBdID0gSFswXSArIGEgPj4+IDA7XG4gICAgSFsxXSA9IEhbMV0gKyBiID4+PiAwO1xuICAgIEhbMl0gPSBIWzJdICsgYyA+Pj4gMDtcbiAgICBIWzNdID0gSFszXSArIGQgPj4+IDA7XG4gICAgSFs0XSA9IEhbNF0gKyBlID4+PiAwO1xuICB9XG5cbiAgcmV0dXJuIFtIWzBdID4+IDI0ICYgMHhmZiwgSFswXSA+PiAxNiAmIDB4ZmYsIEhbMF0gPj4gOCAmIDB4ZmYsIEhbMF0gJiAweGZmLCBIWzFdID4+IDI0ICYgMHhmZiwgSFsxXSA+PiAxNiAmIDB4ZmYsIEhbMV0gPj4gOCAmIDB4ZmYsIEhbMV0gJiAweGZmLCBIWzJdID4+IDI0ICYgMHhmZiwgSFsyXSA+PiAxNiAmIDB4ZmYsIEhbMl0gPj4gOCAmIDB4ZmYsIEhbMl0gJiAweGZmLCBIWzNdID4+IDI0ICYgMHhmZiwgSFszXSA+PiAxNiAmIDB4ZmYsIEhbM10gPj4gOCAmIDB4ZmYsIEhbM10gJiAweGZmLCBIWzRdID4+IDI0ICYgMHhmZiwgSFs0XSA+PiAxNiAmIDB4ZmYsIEhbNF0gPj4gOCAmIDB4ZmYsIEhbNF0gJiAweGZmXTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc2hhMTsiLCJpbXBvcnQgdjM1IGZyb20gJy4vdjM1LmpzJztcbmltcG9ydCBzaGExIGZyb20gJy4vc2hhMS5qcyc7XG52YXIgdjUgPSB2MzUoJ3Y1JywgMHg1MCwgc2hhMSk7XG5leHBvcnQgZGVmYXVsdCB2NTsiLCJleHBvcnQgZGVmYXVsdCAnMDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwJzsiLCJpbXBvcnQgdmFsaWRhdGUgZnJvbSAnLi92YWxpZGF0ZS5qcyc7XG5cbmZ1bmN0aW9uIHZlcnNpb24odXVpZCkge1xuICBpZiAoIXZhbGlkYXRlKHV1aWQpKSB7XG4gICAgdGhyb3cgVHlwZUVycm9yKCdJbnZhbGlkIFVVSUQnKTtcbiAgfVxuXG4gIHJldHVybiBwYXJzZUludCh1dWlkLnN1YnN0cigxNCwgMSksIDE2KTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdmVyc2lvbjsiLCJcblxuZXhwb3J0IGNvbnN0IHVwbG9hZEFyZWFIVE1MID0gXG4gIGA8ZGl2IGlkPVwiZG9jdW1lbnQtdXBsb2FkLWNvbnRhaW5lclwiPlxuXG4gICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX2FyZWFcIj5cbiAgICAgICAgPGRpdiBpZD1cImluaXRpYWxfdXBsb2FkX21lc3NhZ2VcIj5VcGxvYWQgRmlsZXM8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICAgIFxuICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInVucGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlVucGFpcmVkIERvY3VtZW50czwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJmaWxlc19jb250YWluZXJcIj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJtZWlfY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TUVJPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9saXN0XCIgaWQ9XCJtZWlfbGlzdFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBpZD1cImltYWdlX2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPkltYWdlczwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwiaW1hZ2VfbGlzdFwiPjwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJnZW5lcmF0ZS1wYWlyLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uX2J1dHRvblwiIGlkPVwibWFrZV9wYWlyXCI+TWFrZSBQYWlyPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwicGFpcmVkX2NvbnRhaW5lclwiPlxuXG4gICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLWNvbnRhaW5lci10aXRsZVwiPlBhaXJlZCBGb2xpb3M8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0aWxlX2xpc3RcIiBpZD1cInBhaXJlZF9saXN0XCI+PC9kaXY+XG5cbiAgICAgICAgPGRpdiBpZD1cInVwbG9hZF9idXR0b25fY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cInVwbG9hZF9idXR0b25cIj5cbiAgICAgICAgICAgIFVwbG9hZFxuICAgICAgICAgICAgPGRpdiBpZD1cInVwbG9hZGluZ19zcGlubmVyXCI+4oa7PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLVxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJtYW51c2NyaXB0c19jb250YWluZXJcIj5cbiAgICAgICAgPGgyIGNsYXNzPVwiZmlsZV9oZWFkaW5nXCI+TWFudXNjcmlwdHM8L2gyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGlsZV9saXN0XCIgaWQ9XCJtYW51c2NyaXB0X2xpc3RcIj48L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgLS0+XG5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+YDsiLCIvKiogQG1vZHVsZSBXYXJuaW5ncyAqL1xuXG4vKipcbiAqIFdhcm4gd2hlbiBncm91cGVkIG5ldW1lIGNvbXBvbmVudHMgZm9ybSBhbiB1bnJlY29nbml6ZWQgbmV1bWUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBncm91cGluZ05vdFJlY29nbml6ZWQgKCk6IHZvaWQge1xuICBpZiAoISh3aW5kb3cuY29uZmlybSgnTmVvbiBkb2VzIG5vdCByZWNvZ25pemUgdGhpcyBuZXVtZSBncm91cGluZy4gV291bGQgeW91IGxpa2UgdG8gY3JlYXRlIGEgY29tcG91bmQgbmV1bWU/JykpKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbGljaygpO1xuICB9XG59XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHNlbGVjdEFsbCB9IGZyb20gJy4uL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBnZXRTVkdSZWxDb29yZHMgfSBmcm9tICcuLi91dGlscy9Db29yZGluYXRlcyc7XG5cbi8qKiBIYW5kbGUgc3BsaXR0aW5nIGEgc3RhZmYgaW50byB0d28gc3RhdmVzIHRocm91Z2ggVmVyb3Zpby4gKi9cbmV4cG9ydCBjbGFzcyBTcGxpdFN0YWZmSGFuZGxlciB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcmVhZG9ubHkgc3RhZmY6IFNWR0dFbGVtZW50O1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgdGhhdCB3aWxsIGJlIG1vZGlmaWVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgc3RhZmY6IFNWR0dFbGVtZW50KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc3RhZmYgPSBzdGFmZjtcbiAgfVxuXG4gIC8qKlxuICAgKiBGaXJzdCBwYXJ0IG9mIHRoZSBzcGxpdCBhY3Rpb24uXG4gICAqL1xuICBzdGFydFNwbGl0ICgpOiB2b2lkIHtcbiAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuXG4gICAgLy8gSGFuZGxlIGtleXByZXNzZXNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcblxuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignQ2xpY2sgV2hlcmUgdG8gU3BsaXQnKTtcbiAgfVxuXG4gIHNwbGl0RGlzYWJsZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqIEhhbmRsZSBpbnB1dCB0byBzcGxpdCBhIHN0YWZmLiAqL1xuICBoYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICAvLyBGaW5kIHN0YWZmIHBvaW50IGNvcnJlc3BvbmRzIHRvIGlmIG9uZSBleGlzdHNcbiAgICAvLyBUT0RPXG4gICAgY29uc3QgaWQgPSB0aGlzLnN0YWZmLmlkO1xuICAgIGNvbnN0IGN1cnNvciA9IGdldFNWR1JlbENvb3JkcyhldnQuY2xpZW50WCwgZXZ0LmNsaWVudFkpO1xuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogU3BsaXRBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICB4OiBjdXJzb3IueFxuICAgICAgfVxuICAgIH07XG5cbiAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTcGxpdCBhY3Rpb24gc3VjY2Vzc2Z1bCcsICdzdWNjZXNzJyk7XG4gICAgICB9XG4gICAgICBjb25zdCBkcmFnSGFuZGxlciA9IG5ldyBEcmFnSGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLnN0YWZmJyk7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgc2VsZWN0QWxsKFtkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtpZH1gKV0sIHRoaXMubmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcblxuICAgICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgICAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdHMgc3BsaXQgb24gRXNjYXBlIHByZXNzLCBkaXNhYmxlcyBvbiBTaGlmdC4gKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0IHNwbGl0IGlmIHVzZXIgY2xpY2tzIG9mZiBvZiBhY3RpdmUgcGFnZS4gKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5hY3RpdmUtcGFnZScpID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogQ2FsbGVkIHRvIHJlYXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIG5lY2Vzc2FyeS4gKi9cbiAgcmVzZXRIYW5kbGVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcbn1cbiIsImltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgU3BsaXROZXVtZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqIEhhbmRsZSBzcGxpdHRpbmcgYSBuZXVtZSBpbnRvIHR3byBuZXVtZXMgdGhyb3VnaCBWZXJvdmlvLiAqL1xuZXhwb3J0IGNsYXNzIFNwbGl0TmV1bWVIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICByZWFkb25seSBuZXVtZTogU1ZHR0VsZW1lbnQ7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuZXVtZSAtIFRoZSBuZXVtZSB0aGF0IHdpbGwgYmUgbW9kaWZpZWQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBuZXVtZTogU1ZHR0VsZW1lbnQpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5uZXVtZSA9IG5ldW1lO1xuICB9XG5cbiAgLyoqXG4gICAqIEZpcnN0IHBhcnQgb2YgdGhlIHNwbGl0IGFjdGlvbi5cbiAgICovXG4gIHN0YXJ0U3BsaXQgKCk6IHZvaWQge1xuICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG5cbiAgICAvLyBIYW5kbGUga2V5cHJlc3Nlc1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGljayBUaGUgQmVnaW5uaW5nIG9mIFRoZSBTZWNvbmQgTmV1bWUnKTtcbiAgfVxuXG4gIHNwbGl0RGlzYWJsZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICB9XG5cbiAgLyoqIEhhbmRsZSBpbnB1dCB0byBzcGxpdCBhIG5ldW1lLiAqL1xuICBoYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCBpZCA9IHRoaXMubmV1bWUuaWQ7XG5cbiAgICAvLyB1bnNlbGVjdCgpO1xuICAgIFxuICAgIGNvbnN0IG5jID0gKGV2dC50YXJnZXQgYXMgU1ZHR0VsZW1lbnQpLnBhcmVudEVsZW1lbnQ7XG4gICAgY29uc3QgbmNJZCA9IG5jLmlkO1xuXG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBTcGxpdE5ldW1lQWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXROZXVtZScsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgICBuY0lkOiBuY0lkXG4gICAgICB9XG4gICAgfTtcblxuICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBzdWNjZXNzZnVsJywgJ3N1Y2Nlc3MnKTtcbiAgICAgIH0gXG4gICAgICBlbHNlIHtcbiAgICAgICAgYXdhaXQgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NwbGl0IGFjdGlvbiBmYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICAgIC8vIHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIC8vIGNvbnN0IGRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcubmV1bWUnKTtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICAvLyBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyMnICsgaWQpIGFzIFNWR0dFbGVtZW50XSwgdGhpcy5uZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgLy8gdHJ5IHtcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICAvLyAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmNsYXNzTGlzdC5hZGQoJ2lzLWhpZGRlbicpO1xuICAgICAgLy8gfSBjYXRjaCAoZSkge31cbiAgICB9KTtcbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdHMgc3BsaXQgb24gRXNjYXBlIHByZXNzLCBkaXNhYmxlcyBvbiBTaGlmdC4gKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0IHNwbGl0IGlmIHVzZXIgY2xpY2tzIG9mZiBvZiBhY3RpdmUgcGFnZS4gKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgY29uc3QgdGFyZ2V0ID0gZXZ0LnRhcmdldCBhcyBIVE1MRWxlbWVudDtcbiAgICBpZiAodGFyZ2V0LmNsb3Nlc3QoJy5hY3RpdmUtcGFnZScpID09PSBudWxsKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogQ2FsbGVkIHRvIHJlYXBwbHkgdGhlIGV2ZW50IGxpc3RlbmVyIGlmIG5lY2Vzc2FyeS4gKi9cbiAgcmVzZXRIYW5kbGVyID0gKChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcbn1cbiIsIi8vIHNoaW0gZm9yIHVzaW5nIHByb2Nlc3MgaW4gYnJvd3NlclxudmFyIHByb2Nlc3MgPSBtb2R1bGUuZXhwb3J0cyA9IHt9O1xuXG4vLyBjYWNoZWQgZnJvbSB3aGF0ZXZlciBnbG9iYWwgaXMgcHJlc2VudCBzbyB0aGF0IHRlc3QgcnVubmVycyB0aGF0IHN0dWIgaXRcbi8vIGRvbid0IGJyZWFrIHRoaW5ncy4gIEJ1dCB3ZSBuZWVkIHRvIHdyYXAgaXQgaW4gYSB0cnkgY2F0Y2ggaW4gY2FzZSBpdCBpc1xuLy8gd3JhcHBlZCBpbiBzdHJpY3QgbW9kZSBjb2RlIHdoaWNoIGRvZXNuJ3QgZGVmaW5lIGFueSBnbG9iYWxzLiAgSXQncyBpbnNpZGUgYVxuLy8gZnVuY3Rpb24gYmVjYXVzZSB0cnkvY2F0Y2hlcyBkZW9wdGltaXplIGluIGNlcnRhaW4gZW5naW5lcy5cblxudmFyIGNhY2hlZFNldFRpbWVvdXQ7XG52YXIgY2FjaGVkQ2xlYXJUaW1lb3V0O1xuXG5mdW5jdGlvbiBkZWZhdWx0U2V0VGltb3V0KCkge1xuICAgIHRocm93IG5ldyBFcnJvcignc2V0VGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZCcpO1xufVxuZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCAoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdjbGVhclRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbihmdW5jdGlvbiAoKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZXRUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBkZWZhdWx0U2V0VGltb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgaWYgKHR5cGVvZiBjbGVhclRpbWVvdXQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGRlZmF1bHRDbGVhclRpbWVvdXQ7XG4gICAgfVxufSAoKSlcbmZ1bmN0aW9uIHJ1blRpbWVvdXQoZnVuKSB7XG4gICAgaWYgKGNhY2hlZFNldFRpbWVvdXQgPT09IHNldFRpbWVvdXQpIHtcbiAgICAgICAgLy9ub3JtYWwgZW52aXJvbWVudHMgaW4gc2FuZSBzaXR1YXRpb25zXG4gICAgICAgIHJldHVybiBzZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfVxuICAgIC8vIGlmIHNldFRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRTZXRUaW1lb3V0ID09PSBkZWZhdWx0U2V0VGltb3V0IHx8ICFjYWNoZWRTZXRUaW1lb3V0KSAmJiBzZXRUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZFNldFRpbWVvdXQgPSBzZXRUaW1lb3V0O1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwgMCk7XG4gICAgfSBjYXRjaChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLCBmdW4sIDApO1xuICAgICAgICB9IGNhdGNoKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3JcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwodGhpcywgZnVuLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG59XG5mdW5jdGlvbiBydW5DbGVhclRpbWVvdXQobWFya2VyKSB7XG4gICAgaWYgKGNhY2hlZENsZWFyVGltZW91dCA9PT0gY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIC8vIGlmIGNsZWFyVGltZW91dCB3YXNuJ3QgYXZhaWxhYmxlIGJ1dCB3YXMgbGF0dGVyIGRlZmluZWRcbiAgICBpZiAoKGNhY2hlZENsZWFyVGltZW91dCA9PT0gZGVmYXVsdENsZWFyVGltZW91dCB8fCAhY2FjaGVkQ2xlYXJUaW1lb3V0KSAmJiBjbGVhclRpbWVvdXQpIHtcbiAgICAgICAgY2FjaGVkQ2xlYXJUaW1lb3V0ID0gY2xlYXJUaW1lb3V0O1xuICAgICAgICByZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHdoZW4gd2hlbiBzb21lYm9keSBoYXMgc2NyZXdlZCB3aXRoIHNldFRpbWVvdXQgYnV0IG5vIEkuRS4gbWFkZG5lc3NcbiAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gV2hlbiB3ZSBhcmUgaW4gSS5FLiBidXQgdGhlIHNjcmlwdCBoYXMgYmVlbiBldmFsZWQgc28gSS5FLiBkb2Vzbid0ICB0cnVzdCB0aGUgZ2xvYmFsIG9iamVjdCB3aGVuIGNhbGxlZCBub3JtYWxseVxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKG51bGwsIG1hcmtlcik7XG4gICAgICAgIH0gY2F0Y2ggKGUpe1xuICAgICAgICAgICAgLy8gc2FtZSBhcyBhYm92ZSBidXQgd2hlbiBpdCdzIGEgdmVyc2lvbiBvZiBJLkUuIHRoYXQgbXVzdCBoYXZlIHRoZSBnbG9iYWwgb2JqZWN0IGZvciAndGhpcycsIGhvcGZ1bGx5IG91ciBjb250ZXh0IGNvcnJlY3Qgb3RoZXJ3aXNlIGl0IHdpbGwgdGhyb3cgYSBnbG9iYWwgZXJyb3IuXG4gICAgICAgICAgICAvLyBTb21lIHZlcnNpb25zIG9mIEkuRS4gaGF2ZSBkaWZmZXJlbnQgcnVsZXMgZm9yIGNsZWFyVGltZW91dCB2cyBzZXRUaW1lb3V0XG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwodGhpcywgbWFya2VyKTtcbiAgICAgICAgfVxuICAgIH1cblxuXG5cbn1cbnZhciBxdWV1ZSA9IFtdO1xudmFyIGRyYWluaW5nID0gZmFsc2U7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcblxuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICAgIGlmICghZHJhaW5pbmcgfHwgIWN1cnJlbnRRdWV1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGRyYWluaW5nID0gZmFsc2U7XG4gICAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgcXVldWUgPSBjdXJyZW50UXVldWUuY29uY2F0KHF1ZXVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgfVxuICAgIGlmIChxdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgZHJhaW5RdWV1ZSgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZHJhaW5RdWV1ZSgpIHtcbiAgICBpZiAoZHJhaW5pbmcpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgdGltZW91dCA9IHJ1blRpbWVvdXQoY2xlYW5VcE5leHRUaWNrKTtcbiAgICBkcmFpbmluZyA9IHRydWU7XG5cbiAgICB2YXIgbGVuID0gcXVldWUubGVuZ3RoO1xuICAgIHdoaWxlKGxlbikge1xuICAgICAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICAgICAgcXVldWUgPSBbXTtcbiAgICAgICAgd2hpbGUgKCsrcXVldWVJbmRleCA8IGxlbikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGN1cnJlbnRRdWV1ZVtxdWV1ZUluZGV4XS5ydW4oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBxdWV1ZUluZGV4ID0gLTE7XG4gICAgICAgIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB9XG4gICAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIHJ1bkNsZWFyVGltZW91dCh0aW1lb3V0KTtcbn1cblxucHJvY2Vzcy5uZXh0VGljayA9IGZ1bmN0aW9uIChmdW4pIHtcbiAgICB2YXIgYXJncyA9IG5ldyBBcnJheShhcmd1bWVudHMubGVuZ3RoIC0gMSk7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBhcmdzW2kgLSAxXSA9IGFyZ3VtZW50c1tpXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBxdWV1ZS5wdXNoKG5ldyBJdGVtKGZ1biwgYXJncykpO1xuICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDEgJiYgIWRyYWluaW5nKSB7XG4gICAgICAgIHJ1blRpbWVvdXQoZHJhaW5RdWV1ZSk7XG4gICAgfVxufTtcblxuLy8gdjggbGlrZXMgcHJlZGljdGlibGUgb2JqZWN0c1xuZnVuY3Rpb24gSXRlbShmdW4sIGFycmF5KSB7XG4gICAgdGhpcy5mdW4gPSBmdW47XG4gICAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICAgIHRoaXMuZnVuLmFwcGx5KG51bGwsIHRoaXMuYXJyYXkpO1xufTtcbnByb2Nlc3MudGl0bGUgPSAnYnJvd3Nlcic7XG5wcm9jZXNzLmJyb3dzZXIgPSB0cnVlO1xucHJvY2Vzcy5lbnYgPSB7fTtcbnByb2Nlc3MuYXJndiA9IFtdO1xucHJvY2Vzcy52ZXJzaW9uID0gJyc7IC8vIGVtcHR5IHN0cmluZyB0byBhdm9pZCByZWdleHAgaXNzdWVzXG5wcm9jZXNzLnZlcnNpb25zID0ge307XG5cbmZ1bmN0aW9uIG5vb3AoKSB7fVxuXG5wcm9jZXNzLm9uID0gbm9vcDtcbnByb2Nlc3MuYWRkTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5vbmNlID0gbm9vcDtcbnByb2Nlc3Mub2ZmID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlTGlzdGVuZXIgPSBub29wO1xucHJvY2Vzcy5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBub29wO1xucHJvY2Vzcy5lbWl0ID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucHJlcGVuZE9uY2VMaXN0ZW5lciA9IG5vb3A7XG5cbnByb2Nlc3MubGlzdGVuZXJzID0gZnVuY3Rpb24gKG5hbWUpIHsgcmV0dXJuIFtdIH1cblxucHJvY2Vzcy5iaW5kaW5nID0gZnVuY3Rpb24gKG5hbWUpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuYmluZGluZyBpcyBub3Qgc3VwcG9ydGVkJyk7XG59O1xuXG5wcm9jZXNzLmN3ZCA9IGZ1bmN0aW9uICgpIHsgcmV0dXJuICcvJyB9O1xucHJvY2Vzcy5jaGRpciA9IGZ1bmN0aW9uIChkaXIpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3Byb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcbnByb2Nlc3MudW1hc2sgPSBmdW5jdGlvbigpIHsgcmV0dXJuIDA7IH07XG4iLCIndXNlIHN0cmljdCc7XG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0eXBlb2YgZ2xvYmFsLnF1ZXVlTWljcm90YXNrID09PSAnZnVuY3Rpb24nO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBnbG9iYWwucXVldWVNaWNyb3Rhc2soZnVuYyk7XG4gIH07XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuLy9iYXNlZCBvZmYgcnN2cCBodHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzXG4vL2xpY2Vuc2UgaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qcy9ibG9iL21hc3Rlci9MSUNFTlNFXG4vL2h0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvYmxvYi9tYXN0ZXIvbGliL3JzdnAvYXNhcC5qc1xuXG52YXIgTXV0YXRpb24gPSBnbG9iYWwuTXV0YXRpb25PYnNlcnZlciB8fCBnbG9iYWwuV2ViS2l0TXV0YXRpb25PYnNlcnZlcjtcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gTXV0YXRpb247XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoaGFuZGxlKSB7XG4gIHZhciBjYWxsZWQgPSAwO1xuICB2YXIgb2JzZXJ2ZXIgPSBuZXcgTXV0YXRpb24oaGFuZGxlKTtcbiAgdmFyIGVsZW1lbnQgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoJycpO1xuICBvYnNlcnZlci5vYnNlcnZlKGVsZW1lbnQsIHtcbiAgICBjaGFyYWN0ZXJEYXRhOiB0cnVlXG4gIH0pO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGVsZW1lbnQuZGF0YSA9IChjYWxsZWQgPSArK2NhbGxlZCAlIDIpO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgaWYgKGdsb2JhbC5zZXRJbW1lZGlhdGUpIHtcbiAgICAvLyB3ZSBjYW4gb25seSBnZXQgaGVyZSBpbiBJRTEwXG4gICAgLy8gd2hpY2ggZG9lc24ndCBoYW5kZWwgcG9zdE1lc3NhZ2Ugd2VsbFxuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICByZXR1cm4gdHlwZW9mIGdsb2JhbC5NZXNzYWdlQ2hhbm5lbCAhPT0gJ3VuZGVmaW5lZCc7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAoZnVuYykge1xuICB2YXIgY2hhbm5lbCA9IG5ldyBnbG9iYWwuTWVzc2FnZUNoYW5uZWwoKTtcbiAgY2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2UgPSBmdW5jO1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIGNoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCk7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gJ2RvY3VtZW50JyBpbiBnbG9iYWwgJiYgJ29ucmVhZHlzdGF0ZWNoYW5nZScgaW4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGhhbmRsZSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuXG4gICAgLy8gQ3JlYXRlIGEgPHNjcmlwdD4gZWxlbWVudDsgaXRzIHJlYWR5c3RhdGVjaGFuZ2UgZXZlbnQgd2lsbCBiZSBmaXJlZCBhc3luY2hyb25vdXNseSBvbmNlIGl0IGlzIGluc2VydGVkXG4gICAgLy8gaW50byB0aGUgZG9jdW1lbnQuIERvIHNvLCB0aHVzIHF1ZXVpbmcgdXAgdGhlIHRhc2suIFJlbWVtYmVyIHRvIGNsZWFuIHVwIG9uY2UgaXQncyBiZWVuIGNhbGxlZC5cbiAgICB2YXIgc2NyaXB0RWwgPSBnbG9iYWwuZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc2NyaXB0Jyk7XG4gICAgc2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgaGFuZGxlKCk7XG5cbiAgICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG51bGw7XG4gICAgICBzY3JpcHRFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdEVsKTtcbiAgICAgIHNjcmlwdEVsID0gbnVsbDtcbiAgICB9O1xuICAgIGdsb2JhbC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoc2NyaXB0RWwpO1xuXG4gICAgcmV0dXJuIGhhbmRsZTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHJ1ZTtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uICh0KSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgc2V0VGltZW91dCh0LCAwKTtcbiAgfTtcbn07IiwiaW1wb3J0IHsgZmV0Y2hVcGxvYWRlZERvY3VtZW50cywgZmV0Y2hTYW1wbGVEb2N1bWVudHMsIGRlbGV0ZUVudHJ5IH0gZnJvbSAnLi9TdG9yYWdlJztcbmltcG9ydCB7IGZvcm1hdEZpbGVuYW1lIH0gZnJvbSAnLi9mdW5jdGlvbnMnO1xuaW1wb3J0IHsgc2FtcGxlcyB9IGZyb20gJy4vc2FtcGxlc19maWxlbmFtZXMnO1xuXG5jb25zdCB1cGxvYWRlZERvY3NDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkZWQtZG9jcy1jb250ZW50Jyk7XG5jb25zdCBzYW1wbGVEb2NzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3NhbXBsZS1kb2NzLWNvbnRlbnQnKTtcbmNvbnN0IG9wZW5CdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI29wZW4tZG9jJyk7XG5jb25zdCBkZWxldGVCdXR0b246IEhUTUxCdXR0b25FbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3JlbW92ZS1kb2MnKTtcblxubGV0IG1ldGFLZXlJc1ByZXNzZWQgPSBmYWxzZTtcbmxldCBzaGlmdEtleUlzUHJlc3NlZCA9IGZhbHNlO1xuXG4vLyBMaXN0cyB0aGUgZG9jdW1lbnRzIGluIG9yZGVyIGFzIHJlcHJlc2VudGVkIG9uIGRhc2hib2FyZFxubGV0IG9yZGVyZWREb2N1bWVudHM6IHN0cmluZ1tdO1xubGV0IG9yZGVyZWRTZWxlY3Rpb246IGJvb2xlYW5bXTtcblxuLy8gU2hpZnQgc2VsZWN0aW9uIG1pbWljcyBNYWNPUyBiZWhhdmlvdXJcbmNsYXNzIHNoaWZ0U2VsZWN0aW9uIHsgXG4gIHByaXZhdGUgc3RhcnQ7XG4gIHByaXZhdGUgZW5kO1xuICBwcml2YXRlIHByZXZTZWxlY3Rpb24gPSBbXTtcblxuICBwdWJsaWMgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5yZXNldCgpO1xuICB9XG5cbiAgcHVibGljIHNldFN0YXJ0KHN0YXJ0OiBudW1iZXIpIHtcbiAgICB0aGlzLnJlc2V0KCk7XG4gICAgdGhpcy5zdGFydCA9IE1hdGgubWF4KHN0YXJ0LCAwKTtcbiAgfVxuXG4gIHB1YmxpYyBzZXRFbmQoZW5kOiBudW1iZXIpIHtcbiAgICB0aGlzLmVuZCA9IGVuZDtcbiAgfVxuXG4gIHB1YmxpYyByZXNldCgpIHtcbiAgICB0aGlzLnN0YXJ0ID0gMDtcbiAgICB0aGlzLmVuZCA9IC0xO1xuICAgIHRoaXMucHJldlNlbGVjdGlvbi5zcGxpY2UoMCk7XG4gIH1cblxuICBwdWJsaWMgZ2V0UHJldlNlbGVjdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5wcmV2U2VsZWN0aW9uO1xuICB9XG5cbiAgcHVibGljIGdldFNlbGVjdGlvbigpIHtcbiAgICBsZXQgc3RhcnQ6IG51bWJlcjtcbiAgICBsZXQgZW5kOiBudW1iZXI7XG5cbiAgICBpZiAodGhpcy5lbmQgPT09IC0xKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICh0aGlzLmVuZCA8IHRoaXMuc3RhcnQpIHtcbiAgICAgIHN0YXJ0ID0gdGhpcy5lbmQ7XG4gICAgICBlbmQgPSB0aGlzLnN0YXJ0ICsgMTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzdGFydCA9IHRoaXMuc3RhcnQ7XG4gICAgICBlbmQgPSB0aGlzLmVuZCArIDE7XG4gICAgfVxuICAgIGNvbnN0IHJhbmdlID0gQXJyYXkuZnJvbSh7IGxlbmd0aDogKGVuZCAtIHN0YXJ0KSB9LCAodiwgaykgPT4gayArIHN0YXJ0KTtcbiAgICAvLyBGb3IgZWFjaCBzaGlmdCBzZWxlY3Rpb24gYWN0aW9uOiBpZiB0aGUgU2hpZnQga2V5IGlzIHN0aWxsIGhlbGQsIHRoZSBlbmQgc2hpZnQgcG9zIGNhbiBjaGFuZ2UgXG4gICAgLy8gd2l0aCB0aGUgcHJldmlvdXNseSAoYmVmb3JlLXNoaWZ0KSBzZWxlY3RlZCBlbGVtZW50cyBzdGlsbCBzZWxlY3RlZCB3aGlsZSB0aGUgY3VycmVudCBzaGlmdCBzZWxlY3Rpb25zIHVuc2VsZWN0LlxuICAgIGNvbnN0IHNwZWNpZmljU2VsZWN0aW9uID0gcmFuZ2UuZmlsdGVyKGlkeCA9PiAhKG9yZGVyZWRTZWxlY3Rpb25baWR4XSkpO1xuICAgIHRoaXMucHJldlNlbGVjdGlvbiA9IHNwZWNpZmljU2VsZWN0aW9uO1xuICAgIHJldHVybiBzcGVjaWZpY1NlbGVjdGlvbjtcbiAgfVxufSBcblxuY29uc3Qgc2hpZnQgPSBuZXcgc2hpZnRTZWxlY3Rpb24oKTtcblxuLy8gR2V0cyB1c2VyIHNlbGVjdGVkIGRvY3VtZW50IHRpbGUgZWxlbWVudHNcbmZ1bmN0aW9uIGdldFNlbGVjdGlvblRpbGVzKCkge1xuICByZXR1cm4gZ2V0U2VsZWN0aW9uRmlsZW5hbWVzKCkubWFwKGZpbGVuYW1lID0+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGZpbGVuYW1lKSk7XG59XG5cbi8vIGdldHMgdXNlciBzZWxlY3RlZCBmaWxlbmFtZXMgXG5mdW5jdGlvbiBnZXRTZWxlY3Rpb25GaWxlbmFtZXMoKSB7XG4gIHJldHVybiBvcmRlcmVkRG9jdW1lbnRzLmZpbHRlcigoXywgaWR4KSA9PiBvcmRlcmVkU2VsZWN0aW9uW2lkeF0pO1xufVxuXG4vLyBPcGVuIGVkaXRvciB0YWJcbmZ1bmN0aW9uIG9wZW5FZGl0b3JUYWIoZmlsZW5hbWU6IHN0cmluZywgaXNVcGxvYWRlZDogYm9vbGVhbikge1xuICBjb25zdCBwYXJhbXMgPSAoaXNVcGxvYWRlZClcbiAgICA/IHsgc3RvcmFnZTogZmlsZW5hbWUgfVxuICAgIDogeyBtYW5pZmVzdDogZmlsZW5hbWUgfTtcbiAgY29uc3QgcXVlcnkgPSBtYWtlUXVlcnkocGFyYW1zKTtcbiAgd2luZG93Lm9wZW4oYC4vZWRpdG9yLmh0bWw/JHtxdWVyeX1gLCAnX2JsYW5rJyk7XG59XG5cbi8vIE9wZW5zIGVkaXRvciB0YWIgZ2l2ZW4gYSBkb2N1bWVudCB0aWxlIGVsZW1lbnRcbmZ1bmN0aW9uIG9wZW5UaWxlKHRpbGU6IEVsZW1lbnQpIHtcbiAgY29uc3QgaXNVcGxvYWRlZCA9ICh0aWxlLmNsYXNzTGlzdC5jb250YWlucygndXBsb2FkZWQtZG9jJykpID8gdHJ1ZSA6IGZhbHNlO1xuICBjb25zdCBmaWxlbmFtZSA9IHRpbGUuaWQ7XG4gIG9wZW5FZGl0b3JUYWIoZmlsZW5hbWUsIGlzVXBsb2FkZWQpO1xufVxuXG5mdW5jdGlvbiBtYWtlUXVlcnkob2JqKTogc3RyaW5nIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKG9iaikubWFwKGtleSA9PiB7XG4gICAgcmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChrZXkpICsgJz0nICsgZW5jb2RlVVJJQ29tcG9uZW50KG9ialtrZXldKTtcbiAgfSkuam9pbignJicpO1xufVxuXG5mdW5jdGlvbiB1bnNlbGVjdCh0aWxlOiBFbGVtZW50LCBpZHg/OiBudW1iZXIpIHtcbiAgaWYgKHRpbGUgIT0gbnVsbCkge1xuICAgIGlkeCA9IChpZHggIT0gdW5kZWZpbmVkKSA/IGlkeCA6IG9yZGVyZWREb2N1bWVudHMuaW5kZXhPZih0aWxlLmlkKTtcbiAgfVxuICBlbHNlIGlmIChpZHggIT0gdW5kZWZpbmVkKSB7XG4gICAgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKG9yZGVyZWREb2N1bWVudHNbaWR4XSk7XG4gIH1cbiAgZWxzZSByZXR1cm47XG4gIHRpbGUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgb3JkZXJlZFNlbGVjdGlvbltpZHhdID0gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHVuc2VsZWN0QWxsKCkge1xuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kb2N1bWVudC1lbnRyeS5zZWxlY3RlZCcpKVxuICAgIC5mb3JFYWNoKCh0aWxlKSA9PiB0aWxlLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJykpO1xuICBvcmRlcmVkU2VsZWN0aW9uLmZpbGwoZmFsc2UpO1xufVxuXG5mdW5jdGlvbiBzZWxlY3QodGlsZTogRWxlbWVudCwgaWR4PzogbnVtYmVyKSB7XG4gIGlmICh0aWxlICE9IG51bGwpIHtcbiAgICBpZHggPSAoaWR4ICE9IHVuZGVmaW5lZCkgPyBpZHggOiBvcmRlcmVkRG9jdW1lbnRzLmluZGV4T2YodGlsZS5pZCk7XG4gIH1cbiAgZWxzZSBpZiAoaWR4ICE9IHVuZGVmaW5lZCkge1xuICAgIHRpbGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChvcmRlcmVkRG9jdW1lbnRzW2lkeF0pO1xuICB9XG4gIGVsc2UgcmV0dXJuO1xuICB0aWxlLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gIG9yZGVyZWRTZWxlY3Rpb25baWR4XSA9IHRydWU7ICBcbn1cblxuLy8gRGV0ZXJtaW5lcyB3aGV0aGVyIHRvIHNldCBkZWxldGUgZG9jIG9yIG9wZW4gZG9jIHRvIGFjdGl2ZVxuZnVuY3Rpb24gc2V0U2lkZWJhckFjdGlvbnMoKSB7XG4gIC8vIC0xIGlmIG5vIHNlbGVjdGlvbiwgc29tZSB2YWx1ZSBpIGlmIHNlbGVjdGVkLlxuICAvLyBpZiAoaWR4PWkpID4gb3JkZXJlZERvY3VtZW50cy5sZW5ndGggLSBzYW1wbGVzLmxlbmd0aCwgdGhlbiBubyB1c2VyIHVwbG9hZHMgYXJlIHNlbGVjdGVkLlxuICBjb25zdCBsYXN0SWR4ID0gb3JkZXJlZFNlbGVjdGlvbi5sYXN0SW5kZXhPZih0cnVlKTtcbiAgaWYgKGxhc3RJZHggPT09IC0xKSB7XG4gICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICBkZWxldGVCdXR0b24uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlJyk7XG4gIH1cbiAgZWxzZSB7XG4gICAgb3BlbkJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICBpZiAobGFzdElkeCA8IChvcmRlcmVkRG9jdW1lbnRzLmxlbmd0aCAtIHNhbXBsZXMubGVuZ3RoKSkge1xuICAgICAgZGVsZXRlQnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZScpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGRlbGV0ZUJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZURvY3VtZW50U2VsZWN0b3IoKTogUHJvbWlzZTx2b2lkPiB7XG4gIHNoaWZ0LnJlc2V0KCk7XG4gIC8vIGxvYWQgdXNlci11cGxvYWRlZCBkb2NzXG4gIHVwbG9hZGVkRG9jc0NvbnRhaW5lci5pbm5lckhUTUwgPSAnJztcbiAgY29uc3QgdXBsb2FkZWREb2NzID0gYXdhaXQgZmV0Y2hVcGxvYWRlZERvY3VtZW50cygpO1xuICB1cGxvYWRlZERvY3Muc29ydCgpO1xuXG4gIGlmICh1cGxvYWRlZERvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jLmlkID0gJ25vLWRvY3MtbXNnJztcbiAgICBkb2MuaW5uZXJIVE1MID0gJ05vIERvY3VtZW50cyBVcGxvYWRlZCc7XG4gICAgdXBsb2FkZWREb2NzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvYyk7XG4gIH0gXG4gIGVsc2UgdXBsb2FkZWREb2NzLmZvckVhY2goZmlsZW5hbWUgPT4ge1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvYy5pZCA9IGZpbGVuYW1lOyAvLyB1bmlxdWUgaWRcbiAgICBkb2MuY2xhc3NMaXN0LmFkZCgnZG9jdW1lbnQtZW50cnknKTtcbiAgICBkb2MuY2xhc3NMaXN0LmFkZCgndXBsb2FkZWQtZG9jJyk7XG5cbiAgICBjb25zdCBuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgbmFtZS5jbGFzc0xpc3QuYWRkKCdmaWxlbmFtZS10ZXh0Jyk7XG4gICAgbmFtZS5pbm5lckhUTUwgPSBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZSwgMjUpO1xuICAgIGRvYy5hcHBlbmRDaGlsZChuYW1lKTtcblxuICAgIHVwbG9hZGVkRG9jc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkb2MpO1xuICB9KTtcblxuICAvLyBsb2FkIHNhbXBsZSBkb2NzXG4gIHNhbXBsZURvY3NDb250YWluZXIuaW5uZXJIVE1MID0gJyc7XG5cbiAgY29uc3Qgc2FtcGxlRG9jcyA9IGZldGNoU2FtcGxlRG9jdW1lbnRzKCk7XG4gIHNhbXBsZURvY3Muc29ydCgpO1xuICBcbiAgaWYgKHNhbXBsZURvY3MubGVuZ3RoID09PSAwKSB7XG4gICAgY29uc3QgZG9jID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgZG9jLmlubmVySFRNTCA9ICdObyBEb2N1bWVudHMgVXBsb2FkZWQnO1xuICAgIHNhbXBsZURvY3NDb250YWluZXIuYXBwZW5kQ2hpbGQoZG9jKTtcbiAgfSBcbiAgZWxzZSBzYW1wbGVEb2NzLmZvckVhY2goZmlsZW5hbWUgPT4ge1xuICAgIGNvbnN0IGRvYyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIGRvYy5pZCA9IGZpbGVuYW1lO1xuICAgIGRvYy5jbGFzc0xpc3QuYWRkKCdkb2N1bWVudC1lbnRyeScpO1xuXG4gICAgY29uc3QgbmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgIG5hbWUuY2xhc3NMaXN0LmFkZCgnZmlsZW5hbWUtdGV4dCcpO1xuICAgIG5hbWUuaW5uZXJIVE1MID0gZm9ybWF0RmlsZW5hbWUoZmlsZW5hbWUsIDI1KTtcbiAgICBkb2MuYXBwZW5kQ2hpbGQobmFtZSk7XG5cbiAgICBzYW1wbGVEb2NzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRvYyk7XG4gIH0pO1xuICAvLyBDbGVhciBsaXN0IG9mIGRvY3VtZW50cy9zZWxlY3Rpb25zIGFuZCB1cGRhdGVcbiAgb3JkZXJlZERvY3VtZW50cyA9IHVwbG9hZGVkRG9jcy5jb25jYXQoc2FtcGxlcyk7XG4gIG9yZGVyZWRTZWxlY3Rpb24gPSBuZXcgQXJyYXk8Ym9vbGVhbj4ob3JkZXJlZERvY3VtZW50cy5sZW5ndGgpLmZpbGwoZmFsc2UpO1xuXG4gIC8vIGFkZCBvbmNsaWNrIGV2ZW50IGxpc3RlbmVyIHRvIGRvY3NcbiAgb3JkZXJlZERvY3VtZW50cy5mb3JFYWNoKChmaWxlbmFtZSwgaWR4KSA9PiB7XG4gICAgY29uc3QgdGlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGAke2ZpbGVuYW1lfWApO1xuXG4gICAgLy8gZG91YmxlIGNsaWNrIGV2ZW50IGltbWVkaWF0ZWx5IG9wZW5zIGRvY3VtZW50XG4gICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKCdkYmxjbGljaycsIGhhbmRsZU9wZW5Eb2N1bWVudHMsIGZhbHNlKTtcblxuICAgIC8vIFNpbmdsZSBjbGljayBzZWxlY3RzIGRvY3VtZW50IG9yIGFkZHMgZG9jdW1lbnQgdG8gZXhpc3Rpbmcgc2VsZWN0aW9uXG4gICAgdGlsZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICAgIC8vIE5vIFNoaWZ0IG9yIE1ldGEgcHJlc3NlZCBcbiAgICAgIGlmICghbWV0YUtleUlzUHJlc3NlZCAmJiAhc2hpZnRLZXlJc1ByZXNzZWQpIHtcbiAgICAgICAgLy8gU2VsZWN0ZWQgb3Igbm90IHNlbGVjdGVkIC0+IGNsZWFyIHNlbGVjdGlvbiBhbmQgc2VsZWN0IGN1ciB0aWxlXG4gICAgICAgIHVuc2VsZWN0QWxsKCk7XG4gICAgICAgIHNlbGVjdCh0aWxlLCBpZHgpO1xuICAgICAgICBzaGlmdC5zZXRTdGFydChpZHgpOyAvLyBUcmFjayBzdGFydCBvZiBzaGlmdCBzZWxlY3Rpb25cbiAgICAgICAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbiAgICAgIH1cbiAgICAgIC8vIE1ldGEga2V5IHByZXNzZWQgKGRlZmF1bHQgYmVoYXZpb3VyIGlmIGJvdGggbWV0YSBhbmQgc2hpZnQgYXJlIHByZXNzZWQpXG4gICAgICBlbHNlIGlmIChtZXRhS2V5SXNQcmVzc2VkKSB7XG4gICAgICAgIGlmIChvcmRlcmVkU2VsZWN0aW9uW2lkeF0pIHtcbiAgICAgICAgICB1bnNlbGVjdCh0aWxlLCBpZHgpO1xuICAgICAgICAgIHNoaWZ0LnNldFN0YXJ0KG9yZGVyZWRTZWxlY3Rpb24ubGFzdEluZGV4T2YodHJ1ZSkpOyAvLyBNYWNPUyBiZWhhdmlvdXI6IHNoaWZ0IHN0YXJ0IGdvZXMgdG8gbGFyZ2VzdCBpZHggc2VsZWN0ZWQgaXRlbVxuICAgICAgICB9XG4gICAgICAgIC8vIFRpbGUgaXMgbm90IHNlbGVjdGVkIC0+IEFkZCB0byBzZWxlY3Rpb25cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc2VsZWN0KHRpbGUsIGlkeCk7XG4gICAgICAgICAgc2hpZnQuc2V0U3RhcnQoaWR4KTsgLy8gVHJhY2sgc3RhcnQgb2Ygc2hpZnQgc2VsZWN0aW9uXG4gICAgICAgIH1cbiAgICAgICAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbiAgICAgIH1cbiAgICAgIC8vIE1hcmtzIHRoZSBlbmQgb2Ygc2hpZnQgc2VsZWN0aW9uXG4gICAgICBlbHNlIGlmIChzaGlmdEtleUlzUHJlc3NlZCkge1xuICAgICAgICAvLyBVbnNlbGVjdCBwcmV2aW91cyBzaGlmdCBzZWxlY3Rpb24gaWYgYXBwbGljYWJsZVxuICAgICAgICBzaGlmdC5nZXRQcmV2U2VsZWN0aW9uKCkuZm9yRWFjaCgoaW5kZXgpID0+IHtcbiAgICAgICAgICB1bnNlbGVjdChudWxsLCBpbmRleCk7XG4gICAgICAgIH0pXG4gICAgICAgIC8vIFNlbGVjdCBuZXcgc2hpZnQgc2VsZWN0XG4gICAgICAgIHNoaWZ0LnNldEVuZChpZHgpO1xuICAgICAgICBzaGlmdC5nZXRTZWxlY3Rpb24oKS5mb3JFYWNoKChpbmRleCkgPT4geyAgIFxuICAgICAgICAgIHNlbGVjdChudWxsLCBpbmRleCk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRTaWRlYmFyQWN0aW9ucygpO1xuICAgICAgfVxuICAgIH0sIGZhbHNlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZU9wZW5Eb2N1bWVudHMoKSB7XG4gIGlmICghb3BlbkJ1dHRvbi5jbGFzc0xpc3QuY29udGFpbnMoJ2FjdGl2ZScpKSByZXR1cm47XG4gIGdldFNlbGVjdGlvblRpbGVzKCkuZm9yRWFjaCh0aWxlID0+IHtcbiAgICBvcGVuVGlsZSh0aWxlKTtcbiAgfSk7XG4gIHNoaWZ0LnJlc2V0KCk7XG4gIHVuc2VsZWN0QWxsKCk7XG4gIHNldFNpZGViYXJBY3Rpb25zKCk7XG59XG5cbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZURvY3VtZW50cygpIHtcbiAgaWYgKCFkZWxldGVCdXR0b24uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY3RpdmUnKSkgcmV0dXJuO1xuXG4gIGNvbnN0IGZpbGVuYW1lcyA9IGdldFNlbGVjdGlvbkZpbGVuYW1lcygpO1xuICBjb25zdCBmaWxlbmFtZUZvcm1hdHRlZCA9IGZpbGVuYW1lcy5qb2luKCdcXG4nKTtcbiAgY29uc3QgYWxlcnRNZXNzYWdlID0gJ0FyZSB5b3Ugc3VyZSB5b3Ugd2FudCB0byBkZWxldGU6XFxuJyArIGZpbGVuYW1lRm9ybWF0dGVkICsgJ1xcblxcblRoaXMgYWN0aW9uIGlzIGlycmV2ZXJzaWJsZS4nO1xuICBjb25zdCBpc0NvbmZpcm1lZCA9IHdpbmRvdy5jb25maXJtKGFsZXJ0TWVzc2FnZSk7XG4gIFxuICBpZiAoaXNDb25maXJtZWQpIHtcbiAgICBjb25zdCBwcm9taXNlcyA9IGZpbGVuYW1lcy5tYXAoZmlsZW5hbWUgPT4gZGVsZXRlRW50cnkoZmlsZW5hbWUpKTtcbiAgICBQcm9taXNlLmFsbChwcm9taXNlcylcbiAgICAgIC50aGVuKCAoKSA9PiB7XG4gICAgICAgIHVwZGF0ZURvY3VtZW50U2VsZWN0b3IoKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goIGVyciA9PiBjb25zb2xlLmRlYnVnKCdmYWlsZWQgdG8gZGVsZXRlIGZpbGVzOiAnLCBlcnIpKTtcbiAgICBcbiAgICB1bnNlbGVjdEFsbCgpO1xuICAgIHNoaWZ0LnJlc2V0KCk7XG4gIH1cbiAgc2V0U2lkZWJhckFjdGlvbnMoKTtcbn1cblxuZXhwb3J0IGNvbnN0IEluaXREb2N1bWVudFNlbGVjdG9yID0gKCk6IHZvaWQgPT4ge1xuICBvcGVuQnV0dG9uIS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGhhbmRsZU9wZW5Eb2N1bWVudHMpO1xuICBkZWxldGVCdXR0b24hLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlRGVsZXRlRG9jdW1lbnRzKTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChlKSA9PiB7XG4gICAgaWYgKGUubWV0YUtleSkgbWV0YUtleUlzUHJlc3NlZCA9IHRydWU7XG4gICAgaWYgKGUuc2hpZnRLZXkpIHNoaWZ0S2V5SXNQcmVzc2VkID0gdHJ1ZTtcbiAgICAvLyBMb3NlIGZvY3VzIG9uIGVzYyBrZXlcbiAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB1bnNlbGVjdEFsbCgpO1xuICAgICAgc2hpZnQucmVzZXQoKTtcbiAgICAgIHNldFNpZGViYXJBY3Rpb25zKCk7XG4gICAgfVxuICB9KTtcblxuICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCAoZSkgPT4ge1xuICAgIGlmICghZS5tZXRhS2V5KSBtZXRhS2V5SXNQcmVzc2VkID0gZmFsc2U7XG4gICAgaWYgKCFlLnNoaWZ0S2V5KSBzaGlmdEtleUlzUHJlc3NlZCA9IGZhbHNlO1xuICB9KTtcblxuICAvLyBMb3NlIGZvY3VzIGlmIGNsaWNrIGV2ZW50IGluIG1haW4gc2VjdGlvbiBpcyBub3QgYSBidXR0b25cbiAgY29uc3QgYmFja2dyb3VuZDogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubWFpbi1zZWN0aW9uLWNvbnRlbnQnKTtcbiAgYmFja2dyb3VuZC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKGUpIHtcbiAgICBjb25zdCBjbGFzc0xpc3QgPSAoPEVsZW1lbnQ+ZS50YXJnZXQpLmNsYXNzTGlzdDtcbiAgICBpZiAoICFbJ2RvY3VtZW50LWVudHJ5JywgJ2ZpbGVuYW1lLXRleHQnXS5zb21lKGNsYXNzTmFtZSA9PiBjbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkgKSB7XG4gICAgICB1bnNlbGVjdEFsbCgpO1xuICAgICAgc2hpZnQucmVzZXQoKTtcbiAgICAgIHNldFNpZGViYXJBY3Rpb25zKCk7XG4gICAgfVxuICB9KTtcbiAgXG4gIHVwZGF0ZURvY3VtZW50U2VsZWN0b3IoKTtcbn0iLCJpbXBvcnQgeyB2NCBhcyB1dWlkdjQgfSBmcm9tICd1dWlkJztcbmltcG9ydCBQb3VjaERCIGZyb20gJ3BvdWNoZGInO1xuaW1wb3J0IHsgTmVvbk1hbmlmZXN0LCBhbGxEb2NzIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0ICogYXMgbG9jYWxNYW5pZmVzdCBmcm9tICcuLi8uLi9hc3NldHMvbWFuaWZlc3QuanNvbic7XG5pbXBvcnQgeyBzYW1wbGVzIH0gZnJvbSAnLi9zYW1wbGVzX2ZpbGVuYW1lcyc7XG5cbmNvbnN0IGRiID0gbmV3IFBvdWNoREIoJ05lb24tVXNlci1TdG9yYWdlJyk7XG5cbmZ1bmN0aW9uIGdldEFsbERvY3VtZW50cygpOiBQcm9taXNlPGFsbERvY3M+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkYi5hbGxEb2NzKHsgaW5jbHVkZV9kb2NzOiB0cnVlIH0pXG4gICAgICAudGhlbihyZXN1bHQgPT4gcmVzb2x2ZShyZXN1bHQpKVxuICAgICAgLmNhdGNoKGVyciA9PiByZWplY3QoZXJyKSk7XG4gIH0pO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZmV0Y2hVcGxvYWRlZERvY3VtZW50cygpOiBQcm9taXNlPHN0cmluZ1tdPiB7XG4gIHJldHVybiBhd2FpdCBnZXRBbGxEb2N1bWVudHMoKVxuICAgIC50aGVuKCAocmVzOiBhbGxEb2NzKSA9PiB7XG4gICAgICByZXR1cm4gcmVzLnJvd3MubWFwKCByb3cgPT4gcm93LmtleSk7XG4gICAgfSlcbiAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdDb3VsZFxcJ250IGZldGNoIHVwbG9hZGVkIGRvY3VtZW50cycsIGVyci5tZXNzYWdlKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZldGNoU2FtcGxlRG9jdW1lbnRzKCk6IHN0cmluZ1tdIHtcbiAgcmV0dXJuIHNhbXBsZXM7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVNYW5pZmVzdChuYW1lOiBzdHJpbmcsIG1laTogRmlsZSwgYmc6IEZpbGUpOiBQcm9taXNlPGFueT4ge1xuICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICBjb25zdCBtYW5pZmVzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobG9jYWxNYW5pZmVzdCkpO1xuICAgIG1hbmlmZXN0WydAaWQnXSA9IHV1aWR2NCgpO1xuICAgIG1hbmlmZXN0Wyd0aXRsZSddID0gbmFtZTtcbiAgICBtYW5pZmVzdFsndGltZXN0YW1wJ10gPSAobmV3IERhdGUoKSkudG9JU09TdHJpbmcoKTtcblxuICAgIGNvbnN0IG1laVByb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IG1laVJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICBtZWlSZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgcmVzb2x2ZShtZWlSZWFkZXIucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgbWVpUmVhZGVyLnJlYWRBc0RhdGFVUkwobWVpKTtcbiAgICB9KTtcbiAgICBjb25zdCBiZ1Byb21pc2UgPSBuZXcgUHJvbWlzZShyZXNvbHZlID0+IHtcbiAgICAgIGNvbnN0IGJnUmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgIGJnUmVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgIHJlc29sdmUoYmdSZWFkZXIucmVzdWx0KTtcbiAgICAgIH0pO1xuICAgICAgYmdSZWFkZXIucmVhZEFzRGF0YVVSTChiZyk7XG4gICAgfSk7XG5cbiAgICBjb25zdCBtZWlVcmkgPSBhd2FpdCBtZWlQcm9taXNlO1xuICAgIGNvbnN0IGJnVXJpID0gYXdhaXQgYmdQcm9taXNlO1xuICAgIG1hbmlmZXN0WydpbWFnZSddID0gYmdVcmk7XG4gICAgbWFuaWZlc3RbJ21laV9hbm5vdGF0aW9ucyddID0gW1xuICAgICAge1xuICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgIHR5cGU6ICdBbm5vdGF0aW9uJyxcbiAgICAgICAgYm9keTogbWVpVXJpLFxuICAgICAgICB0YXJnZXQ6IGJnVXJpXG4gICAgICB9XG4gICAgXTtcbiAgICByZXNvbHZlKG1hbmlmZXN0KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRFbnRyeSh0aXRsZTogc3RyaW5nLCBjb250ZW50OiBCbG9iLCBzaW5nbGU6IGJvb2xlYW4pOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICBkYi5wdXQoe1xuICAgICAgX2lkOiB0aXRsZSxcbiAgICAgIGtpbmQ6IHNpbmdsZSA/ICdwYWdlJyA6ICdtYW51c2NyaXB0JyxcbiAgICAgIF9hdHRhY2htZW50czoge1xuICAgICAgICBtYW5pZmVzdDoge1xuICAgICAgICAgIGNvbnRlbnRfdHlwZTogJ2FwcGxpY2F0aW9uL2xkK2pzb24nLFxuICAgICAgICAgIGRhdGE6IGNvbnRlbnRcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLnRoZW4oXyA9PiB7XG4gICAgICByZXNvbHZlKHRydWUpO1xuICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICB3aW5kb3cuYWxlcnQoYEVycm9yIFVwbG9hZGluZyBEb2N1bWVudDogJHtlcnIubWVzc2FnZX0sICR7dGl0bGV9LmApO1xuICAgICAgcmVqZWN0KGZhbHNlKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVFbnRyeShpZDogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgZGIuZ2V0KGlkKVxuICAgICAgLnRoZW4oZG9jID0+IHtcbiAgICAgICAgZGIucmVtb3ZlKGRvYylcbiAgICAgICAgICAudGhlbihfID0+IHtcbiAgICAgICAgICAgIHJlc29sdmUodHJ1ZSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9KTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgfSk7XG59XG4iLCJleHBvcnQgY29uc3Qgc2FtcGxlcyA9IFtcbiAgJ0NGLTAwNScsXG4gICdDRi0wMDknLFxuICAnQ0YtMDEwJyxcbiAgJ0NGLTAxMScsXG4gICdDRi0wMTInLFxuICAnQ0YtMDEzJyxcbiAgJ0NGLTAxNCcsXG4gICdDRi0wMTUnLFxuICAnQ0YtMDE2JyxcbiAgJ0NGLTAxNycsXG4gICdDRi0wMTgnLFxuICAnQ0YtMDE5JyxcbiAgJ0NGLTAyMCcsXG4gICdDRi0wMjQnLFxuICAnQ0YtMDI1JyxcbiAgJ0NGLTAyNicsXG4gICdDRi0wMjcnLFxuICAnQ0YtMDI4JyxcbiAgJ0NGLTAyOScsXG4gICdDRi0wMzAnLFxuICAnQ0YtMDMxJyxcbiAgJ0NGLTAzMicsXG4gICdDRi0wMzMnLFxuICAnQ0YtMDM0JyxcbiAgJ0NGLTAzNScsXG4gICdDRi0wMzYnLFxuICAnQ0YtMDM3JyxcbiAgJ0NGLTAzOCcsXG4gICdDRi0wMzknLFxuICAnQ0YtMDQwJyxcbiAgJ0NGLTA0MScsXG4gICdDRi0wNDInLFxuICAnQ0YtMDQ0JyxcbiAgJ0NGLTA0NScsXG4gICdDRi0wNDYnLFxuICAnQ0YtMDQ3JyxcbiAgJ0NGLTA0OCcsXG4gICdDRi0wNDknLFxuICAnQ0YtMDUwJyxcbiAgJ0NGLTA1MScsXG4gICdDRi0wNTInLFxuICAnQ0YtMDUzJyxcbiAgJ0NGLTA1NCcsXG4gICdDRi0wNTUnLFxuICAnQ0YtMDU2JyxcbiAgJ1NhbHppbm5lcydcbl07XG4iLCJleHBvcnQgZnVuY3Rpb24gZm9ybWF0RmlsZW5hbWUoZmlsZW5hbWU6IHN0cmluZywgbWF4TGVuOiBudW1iZXIpOiBzdHJpbmcge1xuICBjb25zdCBjaHVua0xlbiA9IE1hdGguZmxvb3IobWF4TGVuLzIpO1xuICBjb25zdCBsZW4gPSBmaWxlbmFtZS5sZW5ndGg7XG4gIGlmIChsZW4gPD0gbWF4TGVuKSByZXR1cm4gZmlsZW5hbWU7XG4gIGVsc2UgcmV0dXJuIGAke2ZpbGVuYW1lLnN1YnN0cmluZygwLGNodW5rTGVuLTEpfS4uLiR7ZmlsZW5hbWUuc3Vic3RyaW5nKGxlbi1jaHVua0xlbisyLCBsZW4pfWA7XG59XG5cbi8vIFJlbmFtZXMgZmlsZSBpZiB0aGVyZSBhcmUgbmFtaW5nIGNvbmZsaWN0cywgaW4gdGhlIGZvcm0gb2YgJ2Zvb2JhciAoMSknXG5leHBvcnQgZnVuY3Rpb24gcmVuYW1lRmlsZShmaWxlbmFtZTogc3RyaW5nLCBjb21wYXJpc29uczogc3RyaW5nW10pOiBzdHJpbmcge1xuICBjb25zdCByZWcgPSBuZXcgUmVnRXhwKGZpbGVuYW1lKTtcbiAgY29uc3QgcmVzdWx0cyA9IGNvbXBhcmlzb25zLmZpbHRlcigoY29tcGFyaXNvbjogc3RyaW5nKSA9PiByZWcudGVzdChjb21wYXJpc29uKSk7XG5cbiAgaWYgKHJlc3VsdHMubGVuZ3RoICE9PSAwKSB7XG4gICAgLy8gRmluZCBsb3dlc3QgZGlnaXQgdG8gbmFtZVxuICAgIGNvbnN0IGRpZ2l0c1JlZyA9IC9cXChcXGQrXFwpLC9nO1xuICAgIGNvbnN0IHNvdXAgPSByZXN1bHRzLmpvaW4oKS5jb25jYXQoJywnKTtcbiAgICBjb25zdCBkaWdpdHNSZXN1bHRzID0gc291cC5tYXRjaChkaWdpdHNSZWcpO1xuICAgIFxuICAgIC8vIElmIG5vIGRpZ2l0IG1hdGNoZXMgdGhlbiBnbyB0byBlbHNlIHN0YXRlbWVudFxuICAgIGlmIChkaWdpdHNSZXN1bHRzICE9PSBudWxsKSB7XG4gICAgICBjb25zdCBkaWdpdHM6IG51bWJlcltdID0gZGlnaXRzUmVzdWx0cy5tYXAoc3RyID0+IHtcbiAgICAgICAgY29uc3Qgc3RyaXBwZWQgPSBzdHIuc3Vic3RyaW5nKDEsIHN0ci5sZW5ndGgtMik7XG4gICAgICAgIHJldHVybiBOdW1iZXIoc3RyaXBwZWQpO1xuICAgICAgfSk7XG4gICAgICBkaWdpdHMuc29ydCgpO1xuXG4gICAgICBjb25zdCBpZHggPSBkaWdpdHMuaW5kZXhPZigxKTtcbiAgICAgIGlmIChpZHggPT09IC0xKSByZXR1cm4gYCR7ZmlsZW5hbWV9KDEpYDtcbiAgICAgIGVsc2Uge1xuICAgICAgICBsZXQgcHJldiA9IDE7XG4gICAgICAgIGZvciAobGV0IGkgPSBpZHgrMSA7IGkgPCBkaWdpdHMubGVuZ3RoIDsgaSsrKSB7XG4gICAgICAgICAgY29uc3QgY3VyID0gZGlnaXRzW2ldO1xuICAgICAgICAgIGlmIChjdXIgIT09IHByZXYgKyAxKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJldiArPSAxO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBgJHtmaWxlbmFtZX0oJHtwcmV2KzF9KWA7XG4gICAgICB9XG4gICAgfVxuICAgIGVsc2UgcmV0dXJuIGAke2ZpbGVuYW1lfSgxKWA7XG4gIH0gXG4gIGVsc2UgcmV0dXJuIGZpbGVuYW1lO1xufSIsImltcG9ydCB7IHY0IGFzIHV1aWR2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IEZpbGVNYW5hZ2VyIGZyb20gJy4vRmlsZU1hbmFnZXInO1xuaW1wb3J0IHsgZm9ybWF0RmlsZW5hbWUsIHJlbmFtZUZpbGUgfSBmcm9tICcuL2Z1bmN0aW9ucyc7XG5pbXBvcnQgeyBjcmVhdGVNYW5pZmVzdCwgYWRkRW50cnksIGZldGNoU2FtcGxlRG9jdW1lbnRzLCBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzIH0gZnJvbSAnLi9TdG9yYWdlJztcblxuY29uc3QgZm0gPSBGaWxlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5leHBvcnQgZnVuY3Rpb24gYWRkTmV3RmlsZXMoIGZpbGVzOiBGaWxlW10gKTogRmlsZVtdIHtcbiAgY29uc3QgbWVpX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWVpX2xpc3QnKTtcbiAgY29uc3QgaW1hZ2VfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNpbWFnZV9saXN0Jyk7XG5cbiAgY29uc3QgcmVqZWN0RmlsZXM6IEZpbGVbXSA9IFtdO1xuICBmaWxlcy5mb3JFYWNoKCBmaWxlID0+IHtcbiAgICBjb25zdCBleHQgPSBmaWxlLm5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcblxuICAgIGlmICggZXh0ID09PSAnbWVpJyApIHtcbiAgICAgIGNvbnN0IHVucGFpcmVkSXRlbSA9IGNyZWF0ZVVucGFpcmVkSXRlbShmaWxlLm5hbWUsICdtZWknKTtcbiAgICAgIG1laV9jb250YWluZXIuYXBwZW5kQ2hpbGQodW5wYWlyZWRJdGVtKTtcbiAgICAgIGZtLmFkZEZpbGUoZmlsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCBbJ3BuZycsJ2pwZycsJ2pwZWcnXS5pbmNsdWRlcyhleHQpICkge1xuICAgICAgY29uc3QgdW5wYWlyZWRJdGVtID0gY3JlYXRlVW5wYWlyZWRJdGVtKGZpbGUubmFtZSwgJ2ltYWdlJyk7XG4gICAgICBpbWFnZV9jb250YWluZXIuYXBwZW5kQ2hpbGQodW5wYWlyZWRJdGVtKTtcbiAgICAgIGZtLmFkZEZpbGUoZmlsZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKCBleHQgPT09ICdqc29ubGQnICkge1xuICAgICAgLy8gLy8gcmVtb3ZlIG1hbnVzY3JpcHQgc3VwcG9ydCBmb3IgdGhlIGltbWVkaWF0ZSBmdXR1cmUhXG4gICAgICAvLyBjb25zdCBtYW51c2NyaXB0VGlsZSA9IGNyZWF0ZU1hbnVzY3JpcHRUaWxlKGZpbGUubmFtZSk7XG4gICAgICAvLyBtYW51c2NyaXB0X2NvbnRhaW5lci5hcHBlbmRDaGlsZChtYW51c2NyaXB0VGlsZSk7XG4gICAgICAvLyBmbS5hZGRGaWxlKGZpbGUpO1xuICAgICAgLy8gZm0uYWRkTWFudXNjcmlwdChmaWxlLm5hbWUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlamVjdEZpbGVzLnB1c2goZmlsZSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlamVjdEZpbGVzO1xufSBcblxuZnVuY3Rpb24gY3JlYXRlVW5wYWlyZWRJdGVtKGZpbGVuYW1lOiBzdHJpbmcsIGdyb3VwOiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XG4gIGlmIChncm91cCAhPT0gJ21laScgJiYgZ3JvdXAgIT09ICdpbWFnZScpIHJldHVybjtcbiAgY29uc3QgcmFkaW9OYW1lID0gJ21laScgPT09IGdyb3VwID8gJ21laV9yYWRpb19ncm91cCcgOiAnaW1hZ2VfcmFkaW9fZ3JvdXAnO1xuICBjb25zdCBpZCA9IHV1aWR2NCgpO1xuXG4gIGNvbnN0IG5vZGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbm9kZS5jbGFzc05hbWUgPSAndW5wYWlyZWRfaXRlbV9jb250YWluZXInO1xuXG4gIGNvbnN0IHJhZGlvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgcmFkaW8udHlwZSA9ICdyYWRpbyc7XG4gIHJhZGlvLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9pdGVtX3JhZGlvJztcbiAgcmFkaW8ubmFtZSA9IHJhZGlvTmFtZTtcbiAgcmFkaW8udmFsdWUgPSBmaWxlbmFtZTtcbiAgcmFkaW8uaWQgPSBpZDtcblxuICBjb25zdCBsYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gIGxhYmVsLmNsYXNzTmFtZSA9ICd1bnBhaXJlZF9pdGVtX2xhYmVsJztcbiAgbGFiZWwuc2V0QXR0cmlidXRlKCdmb3InLCBpZCk7XG5cbiAgY29uc3QgdGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgdGV4dC5pbm5lclRleHQgPSBmb3JtYXRGaWxlbmFtZShmaWxlbmFtZSwgMjgpO1xuXG4gIGxhYmVsLmFwcGVuZENoaWxkKHJhZGlvKTtcbiAgbGFiZWwuYXBwZW5kQ2hpbGQodGV4dCk7XG4gIG5vZGUuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICByZXR1cm4gbm9kZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGhhbmRsZU1ha2VQYWlyKCk6IHZvaWQge1xuICBjb25zdCBwYWlyZWRfY29udGFpbmVyOiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNwYWlyZWRfbGlzdCcpO1xuXG4gIC8vIGdldCBhbmQgY2hlY2sgaWYgc2VsZWN0ZWQgcmFkaW8gZXhpc3RzXG4gIGNvbnN0IHNlbGVjdGVkTWVpRWxlbWVudDogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJtZWlfcmFkaW9fZ3JvdXBcIl06Y2hlY2tlZCcpO1xuICBjb25zdCBzZWxlY3RlZEltYWdlRWxlbWVudDogSFRNTElucHV0RWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2lucHV0W25hbWU9XCJpbWFnZV9yYWRpb19ncm91cFwiXTpjaGVja2VkJyk7XG4gIGlmIChzZWxlY3RlZE1laUVsZW1lbnQgPT09IG51bGwgfHwgc2VsZWN0ZWRJbWFnZUVsZW1lbnQgPT09IG51bGwpIHJldHVybjtcbiAgXG4gIGNvbnN0IG1laV9maWxlbmFtZSA9IHNlbGVjdGVkTWVpRWxlbWVudC52YWx1ZTtcbiAgY29uc3QgaW1hZ2VfZmlsZW5hbWUgPSBzZWxlY3RlZEltYWdlRWxlbWVudC52YWx1ZTtcbiAgY29uc3QgZmlsZW5hbWUgPSBtZWlfZmlsZW5hbWUuc3Vic3RyaW5nKDAsIG1laV9maWxlbmFtZS5sZW5ndGgtNCk7XG4gIC8vIG1ha2UgYW5kIGFwcGVuZCBVSSBlbGVtZW50XG4gIGNvbnN0IHBhaXJlZF9lbCA9IGNyZWF0ZVBhaXJlZFRpbGUoZmlsZW5hbWUsIG1laV9maWxlbmFtZSwgaW1hZ2VfZmlsZW5hbWUpO1xuICBwYWlyZWRfY29udGFpbmVyLmFwcGVuZENoaWxkKHBhaXJlZF9lbCk7XG4gIC8vIHJlZmxlY3QgaW4gZmlsZSBtYW5hZ2VyXG4gIGZtLmFkZEZvbGlvKGZpbGVuYW1lLCBtZWlfZmlsZW5hbWUsIGltYWdlX2ZpbGVuYW1lKTtcbiAgLy8gcmVtb3ZlIGZyb20gdW5wYWlyZWQgbWVpIGFuZCBpbWFnZSBsaXN0c1xuICBzZWxlY3RlZE1laUVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50LnJlbW92ZSgpO1xuICBzZWxlY3RlZEltYWdlRWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQucmVtb3ZlKCk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVBhaXJlZFRpbGUoZmlsZW5hbWU6IHN0cmluZywgbWVpX2ZpbGVuYW1lOiBzdHJpbmcsIGltYWdlX2ZpbGVuYW1lOiBzdHJpbmcpOiBIVE1MRGl2RWxlbWVudCB7XG4gIGNvbnN0IG1laV9jb250YWluZXI6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI21laV9saXN0Jyk7XG4gIGNvbnN0IGltYWdlX2NvbnRhaW5lcjogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW1hZ2VfbGlzdCcpO1xuXG4gIGNvbnN0IHRpbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgdGlsZS5jbGFzc05hbWUgPSAndGlsZV9pdGVtJztcbiAgdGlsZS5zZXRBdHRyaWJ1dGUoJ21laScsIG1laV9maWxlbmFtZSk7XG4gIHRpbGUuc2V0QXR0cmlidXRlKCdpbWFnZScsIGltYWdlX2ZpbGVuYW1lKTtcblxuICBjb25zdCB0aWxlX2ZpbGVuYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gIHRpbGVfZmlsZW5hbWUuY2xhc3NMaXN0LmFkZCgndGlsZS1maWxlbmFtZScpO1xuICB0aWxlX2ZpbGVuYW1lLmlubmVySFRNTCA9IGZvcm1hdEZpbGVuYW1lKGZpbGVuYW1lLCAyNSk7XG4gIHRpbGUuYXBwZW5kQ2hpbGQodGlsZV9maWxlbmFtZSk7IFxuXG4gIGZ1bmN0aW9uIGhhbmRsZVVucGFpcigpIHtcbiAgICAvLyByZW1vdmUgdGlsZSBmcm9tIFVJXG4gICAgdGlsZS5yZW1vdmUoKTtcbiAgICAvLyByZW1vdmUgZm9saW8gZnJvbSBmaWxlIG1hbmFnZXJcbiAgICBmbS5yZW1vdmVGb2xpbyhmaWxlbmFtZSk7XG4gICAgLy8gYWRkIGl0ZW1zIGJhY2sgdG8gdW5wYWlyZWQgY29udGFpbmVyc1xuICAgIGNvbnN0IG1laUl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0obWVpX2ZpbGVuYW1lLCAnbWVpJyk7XG4gICAgbWVpX2NvbnRhaW5lci5hcHBlbmRDaGlsZChtZWlJdGVtKTtcbiAgICBjb25zdCBpbWFnZUl0ZW0gPSBjcmVhdGVVbnBhaXJlZEl0ZW0oaW1hZ2VfZmlsZW5hbWUsICdpbWFnZScpO1xuICAgIGltYWdlX2NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWFnZUl0ZW0pO1xuICB9XG5cbiAgY29uc3QgZGVsZXRlQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gIGRlbGV0ZUJ1dHRvbi5pbm5lclRleHQgPSAn4oyrJztcbiAgZGVsZXRlQnV0dG9uLmNsYXNzTmFtZSA9ICdkZWxldGVfYnV0dG9uJztcbiAgZGVsZXRlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlVW5wYWlyKTtcbiAgdGlsZS5hcHBlbmRDaGlsZChkZWxldGVCdXR0b24pO1xuXG4gIHJldHVybiB0aWxlO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaGFuZGxlVXBsb2FkQWxsRG9jdW1lbnRzKCk6IFByb21pc2U8YW55PiB7XG4gIGNvbnN0IHVwbG9hZHMgPSBhd2FpdCBmZXRjaFVwbG9hZGVkRG9jdW1lbnRzKCk7XG4gIGNvbnN0IHNhbXBsZXMgPSBmZXRjaFNhbXBsZURvY3VtZW50cygpO1xuICBjb25zdCBleGlzdGluZ05hbWVzID0gdXBsb2Fkcy5jb25jYXQoc2FtcGxlcyk7XG5cbiAgY29uc3QgZm9saW9Qcm9taXNlcyA9IGZtLmdldEZvbGlvcygpXG4gICAgLm1hcCggYXN5bmMgKFtuYW1lLCBtZWksIGltYWdlXTogW3N0cmluZywgRmlsZSwgRmlsZV0pID0+IHtcbiAgICAgIGNvbnN0IG5ld05hbWUgPSByZW5hbWVGaWxlKG5hbWUsIGV4aXN0aW5nTmFtZXMpO1xuICAgICAgZXhpc3RpbmdOYW1lcy5wdXNoKG5ld05hbWUpO1xuICAgICAgcmV0dXJuIGF3YWl0IHVwbG9hZEZvbGlvKG5ld05hbWUsIG1laSwgaW1hZ2UpXG4gICAgfSk7XG4gIFxuICBmbS5jbGVhcigpO1xuXG4gIGNvbnN0IHByb21pc2VzID0gXG4gICAgZm9saW9Qcm9taXNlc1xuICAgICAgLm1hcChwID0+IFxuICAgICAgICBQcm9taXNlLnJlc29sdmUocClcbiAgICAgICAgICAudGhlbih2YWx1ZSA9PiAoeyBzdGF0dXM6ICdmdWxmaWxsZWQnLCB2YWx1ZSB9KSxcbiAgICAgICAgICAgICAgICByZWFzb24gPT4gKHsgc3RhdHVzOiAncmVqZWN0ZWQnLCByZWFzb24gfSlcbiAgICAgICAgICApXG4gICAgICApO1xuICBcbiAgcmV0dXJuIFByb21pc2UuYWxsKHByb21pc2VzKTtcbn1cblxuYXN5bmMgZnVuY3Rpb24gdXBsb2FkRm9saW8obmFtZTogc3RyaW5nLCBtZWk6IEZpbGUsIGltYWdlOiBGaWxlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gIHJldHVybiBjcmVhdGVNYW5pZmVzdChuYW1lLCBtZWksIGltYWdlKVxuICAgIC50aGVuKG1hbmlmZXN0ID0+IHtcbiAgICAgIGNvbnN0IG1hbmlmZXN0QmxvYiA9IG5ldyBCbG9iKFtKU09OLnN0cmluZ2lmeShtYW5pZmVzdCwgbnVsbCwgMildLCB7IHR5cGU6ICdhcHBsaWNhdGlvbi9sZCtqc29uJyB9KTtcbiAgICAgIHJldHVybiBhZGRFbnRyeShuYW1lLCBtYW5pZmVzdEJsb2IsIHRydWUpO1xuICAgIH0pO1xufVxuXG4vLyBhc3luYyBmdW5jdGlvbiB1cGxvYWRNYW51c2NyaXB0KG1hbnVzY3JpcHQ6IEZpbGUpOiBQcm9taXNlPGJvb2xlYW4+IHtcbi8vICAgcmV0dXJuIGFkZEVudHJ5KG1hbnVzY3JpcHQubmFtZSwgbWFudXNjcmlwdCwgZmFsc2UpO1xuLy8gfSIsIi8qKlxuICogU2luZ2xldG9uIG1hbmFnZW1lbnQgc3lzdGVtLCB1c2UgZ2V0SW5zdGFuY2UoKSB0byByZXRyaWV2ZSBpbnN0YW5jZS5cbiAqL1xuY2xhc3MgRmlsZU1hbmFnZXIge1xuICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogRmlsZU1hbmFnZXI7XG5cbiAgcHJpdmF0ZSBhbGxGaWxlcyA9IG5ldyBNYXA8c3RyaW5nLCB7ZmlsZTogRmlsZSwgY291bnQ6IG51bWJlcn0+KCk7XG4gIHByaXZhdGUgZm9saW9zID0gbmV3IEFycmF5PGZvbGlvPigpOyAvLyBmaWxlbmFtZSwgbWVpX2ZpbGVuYW1lLCBpbWFnZV9maWxlbmFtZVxuICAvLyBwcml2YXRlIG1hbnVzY3JpcHRzID0gbmV3IEFycmF5PHN0cmluZz4oKTtcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWVtcHR5LWZ1bmN0aW9uXG4gIHByaXZhdGUgY29uc3RydWN0b3IoKSB7fVxuXG4gIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogRmlsZU1hbmFnZXIge1xuICAgIGlmICghRmlsZU1hbmFnZXIuaW5zdGFuY2UpIHtcbiAgICAgIEZpbGVNYW5hZ2VyLmluc3RhbmNlID0gbmV3IEZpbGVNYW5hZ2VyKCk7XG4gICAgfVxuICAgIHJldHVybiBGaWxlTWFuYWdlci5pbnN0YW5jZTtcbiAgfVxuXG4gIHB1YmxpYyBhZGRGaWxlKGZpbGU6IEZpbGUpOiB2b2lkIHtcbiAgICBpZiAoIXRoaXMuYWxsRmlsZXMuaGFzKGZpbGUubmFtZSkpIHtcbiAgICAgIGNvbnN0IG5ld0VudHJ5ID0geyBmaWxlOiBmaWxlLCBjb3VudDogMSB9O1xuICAgICAgdGhpcy5hbGxGaWxlcy5zZXQoZmlsZS5uYW1lLCBuZXdFbnRyeSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgY29uc3QgZXhpc3RpbmdDb3VudCA9IHRoaXMuZ2V0RmlsZUNvdW50KGZpbGUubmFtZSk7XG4gICAgICBjb25zdCB1cGRhdGVkRW50cnkgPSB7IGZpbGU6IGZpbGUsIGNvdW50OiBleGlzdGluZ0NvdW50KzEgfTtcbiAgICAgIHRoaXMuYWxsRmlsZXMuc2V0KGZpbGUubmFtZSwgdXBkYXRlZEVudHJ5KTtcbiAgICB9XG4gIH1cblxuICBwdWJsaWMgZ2V0RmlsZShrZXk6IHN0cmluZyk6IEZpbGUge1xuICAgIGlmICh0aGlzLmFsbEZpbGVzLmhhcyhrZXkpKSB7XG4gICAgICByZXR1cm4gdGhpcy5hbGxGaWxlcy5nZXQoa2V5KS5maWxlO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyByZW1vdmVGaWxlKGtleTogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY291bnQgPSB0aGlzLmdldEZpbGVDb3VudChrZXkpO1xuICAgIGlmIChjb3VudCA9PT0gMCkgcmV0dXJuO1xuICAgIGVsc2UgaWYgKGNvdW50ID09PSAxKSB7XG4gICAgICB0aGlzLmFsbEZpbGVzLmRlbGV0ZShrZXkpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIGNvbnN0IHVwZGF0ZWRFbnRyeSA9IHsgZmlsZTogdGhpcy5hbGxGaWxlcy5nZXQoa2V5KS5maWxlLCBjb3VudDogY291bnQtMSB9O1xuICAgICAgdGhpcy5hbGxGaWxlcy5zZXQoa2V5LCB1cGRhdGVkRW50cnkpO1xuICAgIH1cbiAgfVxuXG4gIHB1YmxpYyBnZXRGaWxlQ291bnQoa2V5OiBzdHJpbmcpOiBudW1iZXIge1xuICAgIGlmICggdGhpcy5hbGxGaWxlcy5oYXMoa2V5KSApIHtcbiAgICAgIHJldHVybiB0aGlzLmFsbEZpbGVzLmdldChrZXkpLmNvdW50O1xuICAgIH1cbiAgICBlbHNlIHJldHVybiAwO1xuICB9XG5cbiAgcHVibGljIGFkZEZvbGlvKG5hbWU6IHN0cmluZywgbWVpOiBzdHJpbmcsIGltYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBuZXdGb2xpbzogZm9saW8gPSB7XG4gICAgICBmaWxlbmFtZTogbmFtZSxcbiAgICAgIG1laV9maWxlbmFtZTogbWVpLFxuICAgICAgaW1hZ2VfZmlsZW5hbWU6IGltYWdlXG4gICAgfVxuICAgIHRoaXMuZm9saW9zLnB1c2gobmV3Rm9saW8pO1xuICB9XG5cbiAgLy8gcHVibGljIGFkZE1hbnVzY3JpcHQoZmlsZW5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAvLyAgIHRoaXMubWFudXNjcmlwdHMucHVzaChmaWxlbmFtZSk7XG4gIC8vIH1cblxuICBwdWJsaWMgcmVtb3ZlRm9saW8oZmlsZW5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgIGNvbnN0IGlkeCA9IHRoaXMuZm9saW9zLmZpbmRJbmRleCggZm9saW8gPT4gZm9saW8uZmlsZW5hbWUgPT09IGZpbGVuYW1lKTtcbiAgICB0aGlzLmZvbGlvcy5zcGxpY2UoaWR4LCAxKTtcbiAgfVxuXG4gIC8vIHB1YmxpYyByZW1vdmVNYW51c2NyaXB0KGZpbGVuYW1lOiBzdHJpbmcpOiB2b2lkIHtcbiAgLy8gICBjb25zdCBpZHggPSB0aGlzLm1hbnVzY3JpcHRzLmZpbmRJbmRleChtYW51c2NyaXB0ID0+IG1hbnVzY3JpcHQgPT09IGZpbGVuYW1lKTtcbiAgLy8gICB0aGlzLm1hbnVzY3JpcHRzLnNwbGljZShpZHgpO1xuICAvLyAgIHRoaXMucmVtb3ZlRmlsZShmaWxlbmFtZSk7XG4gIC8vIH1cblxuICBwdWJsaWMgZ2V0Rm9saW9zKCk6IFtzdHJpbmcsIEZpbGUsIEZpbGVdW10ge1xuICAgIHJldHVybiB0aGlzLmZvbGlvcy5tYXAoIGZvbGlvID0+IHtcbiAgICAgIGNvbnN0IGZpbGVuYW1lID0gZm9saW8uZmlsZW5hbWU7XG4gICAgICBjb25zdCBtZWlfZmlsZW5hbWUgPSBmb2xpby5tZWlfZmlsZW5hbWU7XG4gICAgICBjb25zdCBpbWFnZV9maWxlbmFtZSA9IGZvbGlvLmltYWdlX2ZpbGVuYW1lO1xuICAgICAgcmV0dXJuIFtmaWxlbmFtZSwgdGhpcy5nZXRGaWxlKG1laV9maWxlbmFtZSksIHRoaXMuZ2V0RmlsZShpbWFnZV9maWxlbmFtZSldO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gcHVibGljIGdldE1hbnVzY3JpcHRzKCk6IEZpbGVbXSB7XG4gIC8vICAgcmV0dXJuIHRoaXMubWFudXNjcmlwdHMubWFwKCBtYW51c2NyaXB0ID0+IHRoaXMuZ2V0RmlsZShtYW51c2NyaXB0KSk7XG4gIC8vIH1cblxuICAvLyBwdWJsaWMgY2xlYXJNYW51c2NyaXB0cygpOiB2b2lkIHtcbiAgLy8gICB0aGlzLm1hbnVzY3JpcHRzLmZvckVhY2goIGZpbGVuYW1lID0+IHtcbiAgLy8gICAgIHRoaXMucmVtb3ZlRmlsZShmaWxlbmFtZSk7XG4gIC8vICAgfSk7XG4gIC8vICAgdGhpcy5tYW51c2NyaXB0cyA9IFtdO1xuICAvLyB9XG4gIFxuICBwdWJsaWMgY2xlYXIoKTogdm9pZCB7XG4gICAgdGhpcy5hbGxGaWxlcy5jbGVhcigpO1xuICAgIHRoaXMuZm9saW9zLnNwbGljZSgwKTtcbiAgfVxuXG4gIHB1YmxpYyBwcmludCgpOiB2b2lkIHtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmFsbEZpbGVzKTtcbiAgICBjb25zb2xlLmxvZyh0aGlzLmZvbGlvcyk7XG4gICAgLy8gY29uc29sZS5sb2codGhpcy5tYW51c2NyaXB0cyk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgRmlsZU1hbmFnZXI7XG5cbnR5cGUgZm9saW8gPSB7XG4gICAgZmlsZW5hbWU6IHN0cmluZyxcbiAgICBtZWlfZmlsZW5hbWU6IHN0cmluZyxcbiAgICBpbWFnZV9maWxlbmFtZTogc3RyaW5nXG59IiwiaW1wb3J0IHsgSW5pdERvY3VtZW50U2VsZWN0b3IgfSBmcm9tICcuLi8uLi9zcmMvRGFzaGJvYXJkL0RvY3VtZW50U2VsZWN0b3InO1xuaW1wb3J0IHsgSW5pdFVwbG9hZEFyZWEgfSBmcm9tICcuLi8uLi9zcmMvRGFzaGJvYXJkL1VwbG9hZEFyZWEnO1xuaW1wb3J0IEZpbGVNYW5hZ2VyIGZyb20gJy4uLy4uL3NyYy9EYXNoYm9hcmQvRmlsZU1hbmFnZXInO1xuXG5leHBvcnQgY29uc3QgZm0gPSBGaWxlTWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuXG5Jbml0RG9jdW1lbnRTZWxlY3RvcigpO1xuXG5kb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkLW5ldy1kb2MtYnV0dG9uJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gIEluaXRVcGxvYWRBcmVhKCk7XG59KTtcblxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2hvbWUtbGluaycpPy5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBfX0xJTktfTE9DQVRJT05fXyk7XG5cbiIsImltcG9ydCB7IGFkZE5ld0ZpbGVzIH0gZnJvbSAnLi9VcGxvYWRNYW5hZ2VyJztcbmltcG9ydCB7IE1vZGFsV2luZG93LCBNb2RhbFdpbmRvd1ZpZXcgfSBmcm9tICcuLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5pbXBvcnQgeyBoYW5kbGVVcGxvYWRBbGxEb2N1bWVudHMsIGhhbmRsZU1ha2VQYWlyIH0gZnJvbSAnLi9VcGxvYWRNYW5hZ2VyJztcbmltcG9ydCB7IHVwZGF0ZURvY3VtZW50U2VsZWN0b3IgfSBmcm9tICcuL0RvY3VtZW50U2VsZWN0b3InO1xuaW1wb3J0IHsgZm0gfSBmcm9tICcuLi8uLi9kZXBsb3ltZW50L3NjcmlwdHMvZGFzaGJvYXJkJztcblxuXG5cbmV4cG9ydCBmdW5jdGlvbiBJbml0VXBsb2FkQXJlYSgpOiB2b2lkIHtcblxuICAvLyBnZW5lcmF0ZSBtb2RhbCB3aW5kb3dcbiAgY29uc3QgbW9kYWxXaW5kb3cgPSBuZXcgTW9kYWxXaW5kb3coKTtcbiAgbW9kYWxXaW5kb3cuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQpO1xuICBtb2RhbFdpbmRvdy5vcGVuTW9kYWxXaW5kb3coKTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFrZV9wYWlyJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlTWFrZVBhaXIpO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN1cGxvYWRfYnV0dG9uJykhLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYXN5bmMgZnVuY3Rpb24gdXBsb2FkQW5kVXBkYXRlKCkge1xuICAgIGNvbnN0IHNwaW5uZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjdXBsb2FkaW5nX3NwaW5uZXInKTtcbiAgICBzcGlubmVyLmNsYXNzTGlzdC5hZGQoJ3Zpc2libGUnKTtcblxuICAgIGhhbmRsZVVwbG9hZEFsbERvY3VtZW50cygpXG4gICAgICAudGhlbiggKHJlc3VsdCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpO1xuICAgICAgICAgIHNwaW5uZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH0pXG4gICAgICAuY2F0Y2goIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmxvZygnT25lIG9yIG1vcmUgdXBsb2FkcyByZWplY3RlZDogJywgZXJyb3IpO1xuICAgICAgICBzZXRUaW1lb3V0KCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgYXdhaXQgdXBkYXRlRG9jdW1lbnRTZWxlY3RvcigpO1xuICAgICAgICAgIHNwaW5uZXIuY2xhc3NMaXN0LnJlbW92ZSgndmlzaWJsZScpO1xuICAgICAgICAgIG1vZGFsV2luZG93LmhpZGVNb2RhbFdpbmRvdygpO1xuICAgICAgICB9LCAyMDAwKTtcbiAgICAgIH0pXG4gIH0pO1xuXG4gIC8vIEZpbGUgU3lzdGVtIHNlbGVjdG9yIHdoZW4gY2xpY2tpbmcgb24gdXBsb2FkIGFyZWFcbiAgY29uc3QgZmlsZVNlbGVjdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgZmlsZVNlbGVjdG9yLnR5cGUgPSAnZmlsZSc7XG4gIGZpbGVTZWxlY3Rvci5tdWx0aXBsZSA9IHRydWU7XG4gIGZpbGVTZWxlY3Rvci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbiBoYW5kbGVGaWxlU2VsZWN0b3JDaGFuZ2UoKSB7IFxuICAgIGNvbnN0IGZpbGVMaXN0OiBGaWxlTGlzdCA9IGZpbGVTZWxlY3Rvci5maWxlczsgXG4gICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGZpbGVMaXN0KTtcbiAgICBjb25zdCByZWplY3RGaWxlcyA9IGFkZE5ld0ZpbGVzKGZpbGVzKTtcbiAgICBpZiAocmVqZWN0RmlsZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb25zdCBmaWxlbmFtZXMgPSByZWplY3RGaWxlcy5tYXAoZmlsZSA9PiBmaWxlLm5hbWUpO1xuICAgICAgd2luZG93LmFsZXJ0KGBUaGUgZm9sbG93aW5nIGZpbGVzIGFyZSBub3QgLm1laSwgLnBuZywgLmpwZWcsIG9yIC5qc29ubGQgZmlsZXM6IFxcblxcbiR7ZmlsZW5hbWVzLmpvaW4oJ1xcbicpfWApO1xuICAgIH1cbiAgICAvLyByZW1vdmUgc2VsZWN0aW9uXG4gICAgZmlsZVNlbGVjdG9yLnZhbHVlID0gbnVsbDtcbiAgfSk7XG5cbiAgLy8gQWRkIGV2ZW50IGxpc3RlbmVycyBmb3IgY2xpY2sgYW5kIGRyYWcgYW5kIGRyb3BcbiAgY29uc3QgdXBsb2FkX2FyZWE6IEhUTUxEaXZFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luaXRpYWxfdXBsb2FkX2FyZWEnKTtcbiAgdXBsb2FkX2FyZWEub25jbGljayA9ICgpID0+IGZpbGVTZWxlY3Rvci5jbGljaygpO1xuICAvLyBhZGQgdmlzdWFsIGN1ZXMgZm9yIGRyYWdnaW5nIGZpbGVzIG92ZXIgdXBsb2FkIGFyZWFcbiAgdXBsb2FkX2FyZWEub25kcmFnbGVhdmUgPSAoKSA9PiB1cGxvYWRfYXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyJyk7IFxuICB1cGxvYWRfYXJlYS5vbmRyYWdvdmVyID0gKGV2ZW50KSA9PiB7IFxuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgdXBsb2FkX2FyZWEuY2xhc3NMaXN0LmFkZCgnb3ZlcicpO1xuICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5kcm9wRWZmZWN0ID0gJ2NvcHknO1xuICB9O1xuICAvLyByZWNlaXZlIGZpbGVzIG9uY2UgZmlsZXMgYXJlIGRyb3BwZWRcbiAgdXBsb2FkX2FyZWEub25kcm9wID0gKGV2ZW50KSA9PiB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB1cGxvYWRfYXJlYS5jbGFzc0xpc3QucmVtb3ZlKCdvdmVyJyk7XG4gICAgY29uc3QgZmlsZUxpc3QgPSBldmVudC5kYXRhVHJhbnNmZXIuZmlsZXM7XG4gICAgY29uc3QgZmlsZXMgPSBBcnJheS5mcm9tKGZpbGVMaXN0KTtcbiAgICBjb25zdCByZWplY3RGaWxlcyA9IGFkZE5ld0ZpbGVzKGZpbGVzKTtcbiAgICBpZiAocmVqZWN0RmlsZXMubGVuZ3RoICE9PSAwKSB7XG4gICAgICBjb25zdCBmaWxlbmFtZXMgPSByZWplY3RGaWxlcy5tYXAoZmlsZSA9PiBmaWxlLm5hbWUpO1xuICAgICAgd2luZG93LmFsZXJ0KGBUaGUgZm9sbG93aW5nIGZpbGVzIGFyZSBub3QgLm1laSwgLnBuZywgLmpwZWcsIG9yIC5qc29ubGQgZmlsZXM6IFxcblxcbiR7ZmlsZW5hbWVzLmpvaW4oJ1xcbicpfWApO1xuICAgIH1cbiAgfTtcbn0iXSwic291cmNlUm9vdCI6IiJ9