!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(i,r,function(t){return e[t]}.bind(null,r));return i},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=61)}([function(e,t,n){"use strict";var i,r="object"==typeof Reflect?Reflect:null,s=r&&"function"==typeof r.apply?r.apply:function(e,t,n){return Function.prototype.apply.call(e,t,n)};i=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var o=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(n,i){function r(n){e.removeListener(t,s),i(n)}function s(){"function"==typeof e.removeListener&&e.removeListener("error",r),n([].slice.call(arguments))}m(e,t,s,{once:!0}),"error"!==t&&function(e,t,n){"function"==typeof e.on&&m(e,"error",t,n)}(e,r,{once:!0})}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var c=10;function l(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function u(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function d(e,t,n,i){var r,s,o,a;if(l(n),void 0===(s=e._events)?(s=e._events=Object.create(null),e._eventsCount=0):(void 0!==s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]),void 0===o)o=s[t]=n,++e._eventsCount;else if("function"==typeof o?o=s[t]=i?[n,o]:[o,n]:i?o.unshift(n):o.push(n),(r=u(e))>0&&o.length>r&&!o.warned){o.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+o.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");c.name="MaxListenersExceededWarning",c.emitter=e,c.type=t,c.count=o.length,a=c,console&&console.warn&&console.warn(a)}return e}function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(e,t,n){var i={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},r=h.bind(i);return r.listener=n,i.wrapFn=r,r}function p(e,t,n){var i=e._events;if(void 0===i)return[];var r=i[t];return void 0===r?[]:"function"==typeof r?n?[r.listener||r]:[r]:n?function(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}(r):v(r,r.length)}function g(e){var t=this._events;if(void 0!==t){var n=t[e];if("function"==typeof n)return 1;if(void 0!==n)return n.length}return 0}function v(e,t){for(var n=new Array(t),i=0;i<t;++i)n[i]=e[i];return n}function m(e,t,n,i){if("function"==typeof e.on)i.once?e.once(t,n):e.on(t,n);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function r(s){i.once&&e.removeEventListener(t,r),n(s)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");c=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||o(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return u(this)},a.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t.push(arguments[n]);var i="error"===e,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var o;if(t.length>0&&(o=t[0]),o instanceof Error)throw o;var a=new Error("Unhandled error."+(o?" ("+o.message+")":""));throw a.context=o,a}var c=r[e];if(void 0===c)return!1;if("function"==typeof c)s(c,this,t);else{var l=c.length,u=v(c,l);for(n=0;n<l;++n)s(u[n],this,t)}return!0},a.prototype.addListener=function(e,t){return d(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return d(this,e,t,!0)},a.prototype.once=function(e,t){return l(t),this.on(e,f(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return l(t),this.prependListener(e,f(this,e,t)),this},a.prototype.removeListener=function(e,t){var n,i,r,s,o;if(l(t),void 0===(i=this._events))return this;if(void 0===(n=i[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete i[e],i.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(r=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,r=s;break}if(r<0)return this;0===r?n.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(n,r),1===n.length&&(i[e]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",e,o||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,n,i;if(void 0===(n=this._events))return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete n[e]),this;if(0===arguments.length){var r,s=Object.keys(n);for(i=0;i<s.length;++i)"removeListener"!==(r=s[i])&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(void 0!==t)for(i=t.length-1;i>=0;i--)this.removeListener(e,t[i]);return this},a.prototype.listeners=function(e){return p(this,e,!0)},a.prototype.rawListeners=function(e){return p(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):g.call(e,t)},a.prototype.listenerCount=g,a.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e}}},function(e,t,n){"use strict";var i,r,s,o=[n(37),n(38),n(39),n(40),n(41),n(42)],a=-1,c=[],l=!1;function u(){i&&r&&(i=!1,r.length?c=r.concat(c):a=-1,c.length&&d())}function d(){if(!i){l=!1,i=!0;for(var e=c.length,t=setTimeout(u);e;){for(r=c,c=[];r&&++a<e;)r[a].run();a=-1,e=c.length}r=null,a=-1,i=!1,clearTimeout(t)}}for(var h=-1,f=o.length;++h<f;)if(o[h]&&o[h].test&&o[h].test()){s=o[h].install(d);break}function p(e,t){this.fun=e,this.array=t}p.prototype.run=function(){var e=this.fun,t=this.array;switch(t.length){case 0:return e();case 1:return e(t[0]);case 2:return e(t[0],t[1]);case 3:return e(t[0],t[1],t[2]);default:return e.apply(null,t)}},e.exports=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];c.push(new p(e,t)),l||i||(l=!0,s())}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.selectAll=t.selectNn=t.selectBBox=t.getStaffBBox=t.isMultiStaveSelection=t.sharedSecondLevelParent=t.elementsHaveCorrectType=t.sharedLogicalParent=t.areAdjacent=t.isLigature=t.selectNcs=t.select=t.selectLayerElement=t.selectStaff=t.unselect=t.getSelectionType=void 0;const i=n(15),r=n(16),s=n(24),o=n(25),a=n(13),c=n(8);function l(){const e=document.getElementsByClassName("sel-by is-active");return 0!==e.length?e[0].id:null}function u(){document.querySelectorAll(".no-moving").forEach(e=>e.classList.remove("no-moving")),document.querySelectorAll(".selected").forEach(e=>{e.classList.remove("selected"),e.classList.contains("staff")?(e.removeAttribute("style"),i.unhighlight(e)):(e.removeAttribute("style"),e.style.fill=""),Array.from(e.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""}),Array.from(e.querySelectorAll(".sylTextRect-display")).forEach(e=>{e.style.fill="blue"}),e.parentElement.classList.contains("syllable-highlighted")&&(e.parentElement.style.fill="",e.parentElement.classList.add("syllable"),e.parentElement.classList.remove("syllable-highlighted"),Array.from(e.parentElement.querySelectorAll(".divLine")).forEach(e=>{e.style.stroke="",e.setAttribute("stroke-width","30px")}),Array.from(e.parentElement.querySelectorAll(".neume")).forEach(e=>{e.style.fill=""})),c.selectAll("#resizeRect").remove(),c.selectAll(".resizePoint").remove(),c.selectAll(".rotatePoint").remove()}),Array.from(document.querySelectorAll(".text-select")).forEach(e=>{e.style.color="",e.style.fontWeight="",e.classList.remove("text-select")}),document.getElementById("selByStaff").classList.contains("is-active")?a.endOptionsSelection():s.endGroupingSelection(),document.getElementById("extraEdit").innerHTML="",document.getElementById("extraEdit").parentElement.classList.add("hidden"),(0,r.updateHighlight)()}function d(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),a.triggerSplitActions(),s.initGroupingListeners(),t.dragInit())}function h(e,t){e.classList.contains("selected")||(e.classList.add("selected"),i.unhighlight(e),i.highlight(e,"#d00"),t.dragInit())}function f(e,t,n=!0){if(e){if(e.classList.contains("staff"))return d(e,t);if(e.classList.contains("layer"))return h(e,t);if(!e.classList.contains("selected")&&!e.classList.contains("sylTextRect")&&!e.classList.contains("sylTextRect-display")){let t;if(e.classList.add("selected"),e.style.fill="#d00",e.style.stroke=e.classList.contains("divLine")?"#d00":"black",e.querySelectorAll(".sylTextRect-display").length&&e.querySelectorAll(".sylTextRect-display").forEach(e=>{e.style.fill="#d00"}),e.querySelectorAll(".divLine").length&&e.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"}),e.classList.contains("syllable")&&e.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),e.classList.contains("syllable")?t=e.id:null!==e.closest(".syllable")&&(t=e.closest(".syllable").id),void 0!==t){document.querySelectorAll("span."+t).forEach(e=>{e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select")})}}n&&(0,r.updateHighlight)()}}async function p(e,t){const n=await t.getElementAttr(e.id,t.view.getCurrentPageURI());return Boolean(n.ligated)}function g(e,t){if(t.length<2)return!1;switch(e){case"selBySyllable":t.forEach(e=>{if(!e.classList.contains("syllable"))return!1});break;case"selByNeume":t.forEach(e=>{if(!e.classList.contains("neume"))return!1});break;case"selByStaff":t.forEach(e=>{if(!e.classList.contains("staff"))return!1});break;default:return!1}return!0}function v(e){const t=Array.from(e),n=t.pop().parentElement.parentElement;for(const e of t){if(e.parentElement.parentElement.id!==n.id)return!1}return!0}function m(e,t,n){const i=e,r=i.closest(".syl");if(!r.classList.contains("selected")){r.classList.add("selected"),i.style.fill="#d00";const s=e.closest(".syllable");s.style.fill="#d00",s.classList.add("syllable-highlighted"),s.querySelectorAll(".divLine").length&&(s.querySelectorAll(".neume").forEach(e=>{e.style.fill="#d00"}),s.querySelectorAll(".divLine").forEach(e=>{e.style.stroke="#d00"})),void 0!==n&&(0,o.resize)(r,n,t),void 0!==t&&t.dragInit();const a=e.closest(".syllable").id;if(void 0!==a){const e=document.querySelector("span."+a);e&&(e.style.color="#d00",e.style.fontWeight="bold",e.classList.add("text-select"))}}}t.getSelectionType=l,t.unselect=u,t.selectStaff=d,t.selectLayerElement=h,t.select=f,t.selectNcs=async function(e,t,n){if(!e.parentElement.classList.contains("selected")){const i=e.parentElement;if(u(),f(i),await p(i,t)){const e=i.previousSibling;if(await p(e,t))f(e);else{const e=i.nextSibling;await p(e,t)?f(e):console.warn("Error: Neither prev or next nc are ligatures")}s.triggerGrouping("ligature")}else i.classList.contains("nc")?a.triggerNcActions(i):console.warn("No action triggered!");n.dragInit()}},t.isLigature=p,t.areAdjacent=function(e,t){if(t.length<2)return!1;let n;switch(e){case"selBySyllable":n=Array.from(document.querySelectorAll(".syllable"));break;case"selByNeume":return!0;case"selByNc":n=Array.from(document.querySelectorAll(".nc"));break;case"selByStaff":n=Array.from(document.querySelectorAll(".staff"));break;default:return!1}const i=[];for(let e=0;e<n.length;e++)for(let r=0;r<t.length;r++)n[e].isSameNode(t[r])&&i.push(t[r]);for(let e=0;e<i.length-1;e++){const t=i[e],r=i[e+1],s=n.indexOf(t),o=n.indexOf(r);if(1!==Math.abs(s-o))return!1}return!0},t.sharedLogicalParent=function(e,t){if(!g(e,t=t.filter(e=>!(e.classList.contains("divLine")||e.classList.contains("accid")||e.classList.contains("clef")))))return!1;switch(e){case"selBySyllable":const e=t[0].closest(".staff");for(let n=0;n<t.length;n++){if(!t[n].closest(".staff").isSameNode(e))return!1}return!0;case"selByNeume":const n=t[0].closest(".syllable");for(let e=0;e<t.length;e++){if(!t[e].closest(".syllable").isSameNode(n))return!1}return!0;case"selByStaff":return!0;default:return!1}},t.elementsHaveCorrectType=g,t.sharedSecondLevelParent=v,t.isMultiStaveSelection=function(e){const t=Array.from(e);for(let e=0;e<t.length;e++){const n=t[e].closest(".staff");for(let i=e;i<t.length;i++){const e=t[i].closest(".staff");if(!n.isSameNode(e))return!0}}return!1},t.getStaffBBox=function(e){let t,n,i,r,s;return e.querySelectorAll("path").forEach(e=>{const o=e.getAttribute("d").match(/\d+/g).map(e=>Number(e));void 0===s&&(s=Math.atan((o[3]-o[1])/(o[2]-o[0]))),(void 0===n||Math.min(o[1],o[3])<n)&&(n=Math.min(o[1],o[3])),(void 0===t||o[0]<t)&&(t=o[0]),(void 0===r||Math.max(o[1],o[3])>r)&&(r=Math.max(o[1],o[3])),(void 0===i||o[2]>i)&&(i=o[2])}),{id:e.id,ulx:t,uly:n,lrx:i,lry:r,rotate:s}},t.selectBBox=m,t.selectNn=function(e){return!(e.length>0)||(e.forEach(e=>{f(e)}),!1)},t.selectAll=async function(e,t,n){const i=l();if(u(),0===e.length)return;let r,c=!1,d=!1;switch(i){case"selBySyllable":r=".syllable";break;case"selByNeume":r=".neume";break;case"selByNc":r=".nc";break;case"selByStaff":r=".staff";break;case"selByBBox":r=".sylTextRect-display";break;case"selByLayerElement":r=".clef, .custos, .accid, .divLine";break;default:return void console.error("Unknown selection type "+i)}const h=new Set;for(const t of e){let e=t.closest(r);if(null===e){if(e=t.closest(".clef, .custos, .accid, .divLine"),null===e){console.warn("Element "+t.id+" is not part of specified group and is not a clef or custos or accid or divLine.");continue}c=c||!0}else d=d||!0;h.add(e);const n=e.getAttribute("mei:follows");n&&(document.querySelector("#"+n.slice(1)).classList.add("no-moving"),h.add(document.querySelector("#"+n.slice(1))));const i=e.getAttribute("mei:precedes");i&&(document.querySelector("#"+i.slice(1)).classList.add("no-moving"),h.add(document.querySelector("#"+i.slice(1))))}h.forEach(e=>f(e,n,!1));const p=Array.from(h.values());if(!c||d)switch(i){case"selByStaff":switch(p.length){case 1:a.triggerSplitActions(),s.initGroupingListeners(),(0,o.resize)(p[0],t,n);break;default:a.triggerStaffActions(),s.initGroupingListeners()}break;case"selByLayerElement":1===h.size?a.triggerLayerElementActions(p[0]):a.triggerDefaultActions();break;case"selBySyllable":switch(p.length){case 1:a.triggerSyllableActions("singleSelect");break;case 2:s.isLinkable("selBySyllable",p)?a.triggerSyllableActions("linkableSelect"):s.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default");break;default:s.isGroupable("selBySyllable",p)?a.triggerSyllableActions("multiSelect"):a.triggerSyllableActions("default")}break;case"selByNeume":switch(p.length){case 1:a.triggerNeumeActions(),s.initGroupingListeners();break;default:s.isGroupable("selByNeume",p)?s.triggerGrouping("neume"):a.triggerDefaultActions()}break;case"selByNc":switch(p.length){case 1:a.triggerNcActions(p[0]);break;case 2:if(v(p)){if(p[0].parentElement===p[1].parentElement){const e=Array.from(p[0].parentElement.children);if(1===Math.abs(e.indexOf(p[0])-e.indexOf(p[1]))){let e=p[0].children[0],t=p[1].children[0],n=e.x.baseVal.value,i=t.x.baseVal.value,r=e.y.baseVal.value,o=t.y.baseVal.value;if((n>i||n===i&&r<o)&&([e,t]=[t,e],[n,r,i,o]=[i,o,n,r]),n===i||r<o){s.triggerGrouping("ligature");break}}}s.triggerGrouping("nc")}else a.triggerDefaultActions();break;default:v(p)?s.triggerGrouping("nc"):a.triggerDefaultActions()}break;case"selByBBox":switch(p.length){case 1:m(p[0],n,t),a.triggerDefaultActions();break;default:p.forEach(e=>m(e,n,void 0))}break;default:console.error("Unknown selection type. This should not have occurred.")}else 1===h.size?a.triggerLayerElementActions(p[0]):"selBySyllable"==i?a.triggerDefaultSylActions():a.triggerDefaultActions()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.queueNotification=t.Notification=void 0;const i=n(27),r=n(23),s=new Array(0);let o=null,a=!1;const c={default:"",warning:"⚠️ ",error:"🔴 ",success:"✅ "};class l{constructor(e,t){this.message=c[t]+e,this.displayed=!1,this.id=(0,r.uuidv4)(),this.isModeMessage=-1!==e.search("Mode"),this.timeoutID=-1,this.type=t}setTimeoutId(e){this.timeoutID=Math.max(e,-1)}display(){this.displayed=!0}getId(){return this.id}}function u(e){document.getElementById(e).remove(),null!==o&&o.getId()===e&&(o=null),s.length>0?d():0===document.querySelectorAll(".neon-notification").length&&(document.getElementById("notification-content").style.display="none",a=!1)}function d(){if(s.length>0){a=!0;const e=s.pop();!function(e){if(e.isModeMessage){if(null!==o)return window.clearTimeout(o.timeoutID),s.push(e),void u(o.getId());o=e}const t=document.getElementById("notification-content"),n=document.createElement("div");n.classList.add("neon-notification"),n.classList.add("neon-notification-"+e.type),n.id=e.getId(),n.innerHTML=e.message,t.append(n),t.style.display="",e.display()}(e),e.setTimeoutId(window.setTimeout(u,5e3,e.getId())),document.getElementById(e.getId()).addEventListener("click",()=>{window.clearTimeout(e.timeoutID),u(e.getId())})}}function h(e,t="default"){const n=new l(e,t);s.push(n),"error"!=n.type&&"warning"!=n.type||(0,i.recordNotification)(n),(!a||document.getElementById("notification-content").querySelectorAll(".neon-notification").length<3)&&d()}t.Notification=l,t.queueNotification=h,t.default={queueNotification:h}},function(e,t,n){"use strict";e.exports=function(e){return function(){var t=arguments.length;if(t){for(var n=[],i=-1;++i<t;)n[i]=arguments[i];return e.call(this,n)}return e.call(this,[])}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setSettings=t.getSettings=void 0;let i=null;const r={zoom:100,glyphOpacity:100,imageOpacity:100,highlightMode:"none",selectionMode:"selBySyllable",displayBBox:!1,displayText:!1,displayInfo:!1,displayErrLog:!1,viewBox:null};t.getSettings=function(){return i.settings},t.setSettings=function(e){i.set(e)},t.default=class{constructor(e){i=this,this.id=e,this.load()}load(){try{const e=JSON.parse(window.localStorage.getItem(this.id));this.sync(e)}catch(e){this.sync({})}}set(e){this.settings=Object.assign(Object.assign({},this.settings),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}sync(e){this.settings=Object.assign(Object.assign({},r),e),window.localStorage.setItem(this.id,JSON.stringify(this.settings))}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.errorLogsPanelContents=t.syllableActionsContent=t.hotkeysModal=t.editTextModal=t.groupingMenu=t.divLineActionContents=t.clefActionContents=t.splitActionContents=t.accidActionContents=t.layerElementInActionContents=t.layerElementOutActionContents=t.custosActionContents=t.defaultSylActionContents=t.defaultActionContents=t.staffActionContents=t.neumeActionContents=t.defaultNeumeActionContents=t.ncActionContents=t.editControlsPanel=t.insertControlsPanel=t.insertTabHtml=void 0,t.insertTabHtml={primitiveTab:'<p class="insert-element-container">\n            <button id="punctum" class="side-panel-btn insertel smallel" aria-label="punctum" title="punctum"><img src="/Neon/Neon-gh/assets/img/punctum.png" class="image"/></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virga" class="side-panel-btn insertel smallel" aria-label="virga" title="virga"><img src="/Neon/Neon-gh/assets/img/virga.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="virgaReversed" class="side-panel-btn insertel smallel" aria-label="Reversed Virga" title="Reversed Virga"><img src="/Neon/Neon-gh/assets/img/virga_reversed.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="diamond" class="side-panel-btn insertel smallel" aria-label="inclinatum" title="inclinatum"><img src="/Neon/Neon-gh/assets/img/diamond.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="custos" class="side-panel-btn insertel smallel" aria-label="custos" title="custos"><img src="/Neon/Neon-gh/assets/img/custos.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="cClef" class="side-panel-btn insertel smallel" aria-label="C Clef" title=" C Clef"><img src="/Neon/Neon-gh/assets/img/cClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="fClef" class="side-panel-btn insertel smallel" aria-label="F Clef" title="F Clef"><img src="/Neon/Neon-gh/assets/img/fClef.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentA" class="side-panel-btn insertel smallel" aria-label="Liquescent A" title="Liquescent A"><img src="/Neon/Neon-gh/assets/img/liquescentA.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="liquescentC" class="side-panel-btn insertel smallel" aria-label="Liquescent C" title="Liquescent C"><img src="/Neon/Neon-gh/assets/img/liquescentC.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="flat" class="side-panel-btn insertel smallel" aria-label="Flat" title="Flat"><img src="/Neon/Neon-gh/assets/img/accidFlat.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="natural" class="side-panel-btn insertel smallel" aria-label="Natural" title="Natural"><img src="/Neon/Neon-gh/assets/img/accidNatural.png" class="image"></button>\n        </p> \n        <p class="insert-element-container">\n            <button id="divLineMaxima" class="side-panel-btn insertel smallel" aria-label="DivLine Maxima" title="DivLine Maxima"><img src="/Neon/Neon-gh/assets/img/divisio.png" class="image"></button>\n        </p>',groupingTab:'<p class="insert-element-container">\n            <button id="pes" class="side-panel-btn insertel smallel" aria-label="pes" title="pes"><img src="/Neon/Neon-gh/assets/img/pes.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="clivis" class="side-panel-btn insertel smallel" aria-label="clivis" title="clivis"><img src="/Neon/Neon-gh/assets/img/clivis.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="scandicus" class="side-panel-btn insertel smallel" aria-label="scandicus" title="scandicus"><img src="/Neon/Neon-gh/assets/img/scandicus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="climacus" class="side-panel-btn insertel smallel" aria-label="climacus" title="climacus"><img src="/Neon/Neon-gh/assets/img/climacus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="torculus" class="side-panel-btn insertel smallel" aria-label="toculus" title="toculus"><img src="/Neon/Neon-gh/assets/img/torculus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="porrectus" class="side-panel-btn insertel smallel" aria-label="porrectus" title="porrectus"><img src="/Neon/Neon-gh/assets/img/porrectus.png" class="image"></button>\n        </p>\n        <p class="insert-element-container">\n            <button id="pressus" class="side-panel-btn insertel smallel" aria-label="pressus" title="pressus"><img src="/Neon/Neon-gh/assets/img/pressus.png" class="image"></button>\n        </p>',systemTab:'<p class="insert-element-container">\n            <button id="staff" class="side-panel-btn insertel longel" aria-label="system" title="system"><img src="/Neon/Neon-gh/assets/img/staff.png" class="image"></button>\n        </p>\n        <p>Click upper left and lower right corners of new staff.</p>'},t.insertControlsPanel='<div class="panel-heading" id="insertMenu">\n        <div class="panel-heading-title">INSERT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleInsert" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n\t<div class="panel-content-subsection first-subsection">\n        <div id="insertContents" class="panel-contents" style="overflow-y: hidden;">\n            <p class="panel-tabs">\n                <a id="primitiveTab" class="insertTab">Primitive Elements</a>\n                <a id="groupingTab" class="insertTab">Grouping</a>\n                <a id="systemTab" class="insertTab">System</a>\n            </p>\n            <div id="insert_data"></div>\n        </div>\n    </div>',t.editControlsPanel='<div class="panel-heading" id="editMenu">\n        <div class="panel-heading-title focused">EDIT</div>\n        <svg class="icon is-pulled-right">\n            <use id="toggleEdit" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div id="editContents" class="panel-contents">\n        <div class="panel-content-subsection first-subsection">\n            <div id="selection-mode-container">\n                <div class="panel-sub-title">Selection Mode:</div>\n                <div id="selection-mode-btns-container"  class="right-side-panel-btns-container" style="overflow-x: auto;">\n                    \n                        <button class="side-panel-btn sel-by is-active" id="selBySyllable">Syllable</button>\n                        <button class="side-panel-btn sel-by" id="selByNeume">Neume</button>\n                        <button class="side-panel-btn sel-by" id="selByNc">Neume Component</button>\n                        <button class="side-panel-btn sel-by" id="selByStaff">Staff</button>\n                        <button class="side-panel-btn sel-by" id="selByLayerElement">Layer Element</button>\n                    \n                </div>\n            </div>\n        </div>\n\n        <div id="display-slider-actions-container">\n                <div class="panel-content-subsection hidden">\n                    <div id="moreEdit"></div>\n                </div>\n                <div class="panel-content-subsection hidden">\n                    <div id="extraEdit"></div>\n                </div>\n                    \x3c!--\n                    * The extraEdit panel is added for edit options that have dropdown menus\n                    * Like the Neume and Clef menus\n                    * This is done because the moreEdit menu needs to have overflow for cases where it has lots of buttons\n                    * But overflow ruins dropdown menus\n                    --\x3e\n                <div class="panel-content-subsection hidden">\n                    <div id="neumeEdit"></div>\n                </div>\n                <div class="panel-content-subsection">\n                    <div id="undoRedo_controls"></div>\n                </div>\n        </div>\n    </div>',t.ncActionContents='<label>Change Head Shape:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Head Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="Punctum" class="dropdown-item">Punctum</a>\n                <a id="Virga" class="dropdown-item">Virga</a> \n                <a id="VirgaReversed" class="dropdown-item">Reversed Virga</a>\n                <a id="LiquescentClockwise" class="dropdown-item">Liquescent C</a>\n                <a id="LiquescentAnticlockwise" class="dropdown-item">Liquescent A</a>\n                <a id="Inclinatum" class="dropdown-item">Inclinatum</a>\n            </div>\n        </div>\n    </div>',t.defaultNeumeActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="split-neume">Split Neumes</button>\n    </div>',t.neumeActionContents='<label>Grouping Options:</label>\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Groupings</span>\n                    <svg class="icon">\n                        <use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n                    </svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content scrollable-dropdown">\n                <a id="Pes" class="dropdown-item grouping">Pes</a>\n                <a id="PesSubpunctis" class="dropdown-item grouping">Pes Subpunctis</a>\n                <a id="Clivis" class="dropdown-item grouping">Clivis</a>\n                <a id="Scandicus" class="dropdown-item grouping">Scandicus</a>\n                <a id="ScandicusFlexus" class="dropdown-item grouping">Scandicus Flexus</a>\n                <a id="ScandicusSubpunctis" class="dropdown-item grouping">Scandicus Subpunctis</a>\n                <a id="Climacus" class="dropdown-item grouping">Climacus</a>\n                <a id="ClimacusResupinus" class="dropdown-item grouping">Climacus Resupinus</a>\n                <a id="Torculus" class="dropdown-item grouping">Torculus</a>\n                <a id="TorculusResupinus" class="dropdown-item grouping">Torculus Resupinus</a>\n                <a id="Porrectus" class="dropdown-item grouping">Porrectus</a>\n                <a id="PorrectusFlexus" class="dropdown-item grouping">Porrectus Flexus</a>\n                <a id="PorrectusSubpunctis" class="dropdown-item grouping">Porrectus Subpunctis</a>\n                <a id="Pressus" class="dropdown-item grouping">Pressus</a>\n            </div>\n        </div>\n    </div>\n    <button class="side-panel-btn" id="ungroupNcs">Ungroup</button>',t.staffActionContents='<label>Merge Systems:</label>\n    <button id="merge-systems" class="side-panel-btn">Merge</button>\n    <button class="side-panel-btn" id="delete">Delete</button>',t.defaultActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.defaultSylActionContents='<button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>',t.custosActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementOutActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="insertToSyllable">Insert to nearest syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.layerElementInActionContents='<div class="right-side-panel-btns-container">\n        <button class="side-panel-btn" id="delete">Delete</button>\n        <button class="side-panel-btn" id="moveOutsideSyllable">Move outside syllable</button>\n        <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n    </div>',t.accidActionContents='<label>Change Accidental:</label>\n    <div class="drop_select dropdown">\n        <div class="dropdown-trigger"overflow="auto">\n            <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                <span>Shapes</span>\n                <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n            </button>\n        </div>\n        <div class="dropdown-menu" id="dropdown-menu" role="menu">\n            <div class="dropdown-content">\n                <a id="ChangeToFlat" class="dropdown-item">Flat</a>\n                <a id="ChangeToNatural" class="dropdown-item">Natural</a>\n            </div>\n        </div>\n    </div>',t.splitActionContents='<div>Split System:</div>\n    <div id="split-system-btns-container" class="right-side-panel-btns-container">\n        <button id="split-system" class="side-panel-btn">Split</button>\n        <button id="reset-rotate" class="side-panel-btn">Reset Rotate</button>\n        <button class="side-panel-btn" id="delete">Delete</button>\n    </div>',t.clefActionContents='\n    <div class="right-side-panel-btns-container">\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Displace Octave</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="increment-octave" class="dropdown-item">+1 Octave</a>\n                    <a id="decrement-octave" class="dropdown-item">-1 Octave</a>\n                </div>\n            </div>\n        </div>\n        <div class="drop_select dropdown">\n            <div class="dropdown-trigger" overflow="auto">\n                <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n                    <span>Change Clef Shape</span>\n                    <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n                </button>\n            </div>\n            <div class="dropdown-menu" id="dropdown-menu" role="menu">\n                <div class="dropdown-content">\n                    <a id="CClef" class="dropdown-item">C Clef</a>\n                    <a id="FClef" class="dropdown-item">F Clef</a>\n                </div>\n            </div>\n        </div>\n    </div>\n    ',t.divLineActionContents='<label>Change DivLine:</label>\n<div class="drop_select dropdown">\n    <div class="dropdown-trigger"overflow="auto">\n        <button id="select-options" class="side-panel-btn" aria-haspopup="true" aria-controls="dropdown-menu">\n            <span>Shapes</span>\n            <svg class="icon"><use xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use></svg>\n        </button>\n    </div>\n    <div class="dropdown-menu" id="dropdown-menu" role="menu">\n        <div class="dropdown-content">\n            <a id="ChangeToMinima" class="dropdown-item">Minima</a>\n            <a id="ChangeToMaior" class="dropdown-item">Maior</a>\n            <a id="ChangeToMaxima" class="dropdown-item">Maxima</a>\n            <a id="ChangeToFinalis" class="dropdown-item">Finalis</a>\n            <a id="ChangeToCaesura" class="dropdown-item">Caesura</a>\n        </div>\n    </div>\n</div>',t.groupingMenu={nc:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn more-edit-btn" id="groupNcs">Group Neume Components</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',neume:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="groupNeumes">Group Neumes</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n            </div>\n        </div>',syl:'<div class="more-edit-btn panel-btn">\n            <div class="right-side-panel-btns-container">\n                <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n                <button class="side-panel-btn" id="delete">Delete</button>\n                <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n            </div>\n\t\t</div>',ligatureNc:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="groupNcs">Group Neume Components</button>\n                        <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>',ligature:'<div class="more-edit-btn panel-btn">\n                <div class="right-side-panel-btns-container">\n                    <button class="side-panel-btn" id="toggle-ligature">Toggle Ligature</button>\n                    <button class="side-panel-btn" id="delete">Delete</button>\n                </div>\n            </div>',splitSyllable:'<div class="more-edit-btn panel-btn">\n                    <div class="right-side-panel-btns-container">\n                        <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n                        <button class="side-panel-btn" id="delete">Delete</button>\n                    </div>\n                </div>'},t.editTextModal='<div class="neon-modal-window-content" id="neon-modal-window-content-edit-text">\n        <label for="neon-modal-window-edit-text-input" id="neon-modal-window-edit-text-label">Enter Syllable Text:</label>\n        <input id="neon-modal-window-edit-text-input" type="text">\n        <div id="neon-modal-window-edit-text-btns">\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-cancel">Cancel</div>\n        <div class="neon-modal-window-btn" id="neon-modal-window-edit-text-save">Save</div>        \n        </div>\n    </div>',t.hotkeysModal='\n    <div class="neon-modal-window-content" id="neon-modal-window-content-hotkeys">\n        \x3c!-- "Display" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Display</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">+</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom In</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">-</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Out</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">0</div>\n                </div>\n                <div class="hotkey-entry-description">Zoom Reset</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">h</div>\n                </div>\n                <div class="hotkey-entry-description">Hide Glyph</div>\n            </div>\n        </div>\n\n        \x3c!-- "Edit" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Edit</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Undo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Ctrl</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                    <div>or</div>\n                    <div class="hotkey-entry">⌘</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">z</div>\n                </div>\n                <div class="hotkey-entry-description">Redo</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">q/w/e/r/t/y</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Highlight by Staff/Syllable/Neume/LayerElement/Selection/Off\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">1/2/3/4</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Select by Syllable/Neume/Neume Component/Staff\n                </div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Shift</div>\n                    <div>+</div>\n                    <div class="hotkey-entry">Number</div>\n                </div>\n                <div class="hotkey-entry-description">\n                    Begin Insert for the <i>nth</i> option in the selected tab\n                </div>\n            </div>\n        </div>\n\n        \x3c!-- "Other" hotkeys --\x3e\n        <div class="hotkey-subcategory-container">\n            <div class="hotkey-subcategory-title">Other</div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">s</div>\n                </div>\n                <div class="hotkey-entry-description">Save File</div>\n            </div>\n            <div class="hotkey-entry-container">\n                <div class="hotkey-container">\n                    <div class="hotkey-entry">Esc</div>\n                </div>\n                <div class="hotkey-entry-description">Return to Edit Mode</div>\n            </div>\n        </div>\n    </div>',t.syllableActionsContent='\n  <div class="right-side-panel-btns-container">\n    <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n    <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n    <button class="side-panel-btn" id="delete">Delete</button>\n    <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n  </div>\n',t.errorLogsPanelContents='<div class="panel-heading" id="errorLogHeading">\n        <div class="panel-heading-title">Error Log</div>\n        <svg class="icon">\n            <use id="toggleErrorLog" xlink:href="/Neon/Neon-gh//assets/img/icons.svg#dropdown-down"></use>\n        </svg>\n    </div>\n    <div class="panel-contents" id="errorLogContents" style="overflow: visible; padding: 0.5em 0.75em;"><div>'},function(e,t){e.exports=d3},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";for(var i=n(11),r=[],s=0;s<256;++s)r.push((s+256).toString(16).substr(1));t.a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(r[e[t+0]]+r[e[t+1]]+r[e[t+2]]+r[e[t+3]]+"-"+r[e[t+4]]+r[e[t+5]]+"-"+r[e[t+6]]+r[e[t+7]]+"-"+r[e[t+8]]+r[e[t+9]]+"-"+r[e[t+10]]+r[e[t+11]]+r[e[t+12]]+r[e[t+13]]+r[e[t+14]]+r[e[t+15]]).toLowerCase();if(!Object(i.a)(n))throw TypeError("Stringified UUID is invalid");return n}},function(e,t,n){"use strict";var i=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;t.a=function(e){return"string"==typeof e&&i.test(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getGlyphBBox=t.isOutOfSVGBounds=t.getStaffByCoords=t.getStaffIdByCoords=t.getSVGRelCoords=void 0;const i=n(3);function r(e,t){const n=new DOMPoint(e,t),i=document.querySelector(".active-page > .definition-scale").querySelector(".system"),{x:r,y:s}=n.matrixTransform(i.getScreenCTM().inverse());return{x:r,y:s}}function s(e,t){const n=Array.from(document.querySelectorAll(".staff")).map(e=>(0,i.getStaffBBox)(e)),{x:s,y:o}=r(e,t),a=n.find(e=>s<=e.lrx&&s>=e.ulx&&o<=e.lry&&o>=e.uly);return a?a.id:null}t.getSVGRelCoords=r,t.getStaffIdByCoords=s,t.getStaffByCoords=function(e,t){const n=s(e,t);return document.querySelector("#"+n)},t.isOutOfSVGBounds=function(e,t){const n=document.querySelector("#bgimg");return e<=0||e>=Number(n.getAttribute("width"))||t<=0||t>=Number(n.getAttribute("height"))},t.getGlyphBBox=function(e){const t="rect"==e.tagName?e.getBBox():e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.triggerDefaultActions=t.triggerDefaultSylActions=t.triggerSplitActions=t.triggerStaffSplitMode=t.triggerStaffActions=t.triggerLayerElementActions=t.triggerSyllableActions=t.triggerNeumeActions=t.triggerNcActions=t.addChangeStaffListener=t.moveOutsideSyllableHandler=t.insertToSyllableHandler=t.changeStaffHandler=t.removeHandler=t.endOptionsSelection=t.deleteButtonHandler=t.unsetLiquescentAnticlockwiseAction=t.unsetLiquescentClockwiseAction=t.unsetVirgaReversedAction=t.unsetVirgaAction=t.unsetInclinatumAction=t.initNeonView=void 0;const i=n(7),r=n(24),s=n(4),o=n(35),a=n(36),c=n(3);let l;function u(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function d(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function h(e){return{action:"set",param:{elementId:e,attrType:"tilt",attrValue:""}}}function f(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function p(e){return{action:"set",param:{elementId:e,attrType:"curve",attrValue:""}}}function g(e){"d"!==e.key&&"Backspace"!==e.key||(m(),e.preventDefault())}function v(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden")),document.body.removeEventListener("keydown",g)}function m(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{t.classList.contains("syl")&&(t=t.closest(".syllable")),t.classList.contains("accid")&&(t=t.closest(".accid")),t.classList.contains("divLine")&&(t=t.closest(".divLine")),e.push({action:"remove",param:{elementId:t.id}})});const t={action:"chain",param:e};v(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function y(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"changeStaff",param:{elementId:t.id}})});const t={action:"chain",param:e};v(),l.edit(t,l.view.getCurrentPageURI()).then(()=>{l.updateForCurrentPage()})}function b(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"insertToSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Insert Success","success"):s.default.queueNotification("Insert Failed XoX","error"),v(),l.updateForCurrentPage()})}function w(){const e=[];Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push({action:"moveOutsideSyllable",param:{elementId:t.id}})});const t={action:"chain",param:e};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Move Success","success"):s.default.queueNotification("Move Failed XoX","error"),v(),l.updateForCurrentPage()})}function _(){const e=document.getElementById("delete");e&&(e.removeEventListener("click",m),e.addEventListener("click",m),document.body.addEventListener("keydown",g))}function E(){const e=document.getElementById("changeStaff");null==e||e.removeEventListener("click",y),null==e||e.addEventListener("click",y)}function S(e,t,n=!0){const i=document.getElementById(e);i&&(i.parentElement.classList.remove("hidden"),n?i.innerHTML=t:i.innerHTML+=t)}function x(){const e=document.querySelector(".staff.selected");if(null!==e){new o.SplitStaffHandler(l,e).startSplit(),v()}else console.error("No staff was selected!"),v()}function L(){document.querySelectorAll(".drop_select").forEach(e=>{const t=()=>{document.body.removeEventListener("click",t),e.classList.remove("is-active")};e.addEventListener("click",n=>{e.classList.toggle("is-active"),Array.from(document.querySelectorAll(".drop_select")).filter(t=>t!==e).forEach(e=>e.classList.remove("is-active")),n.stopPropagation(),e.classList.contains("is-active")?document.body.addEventListener("click",t):document.body.removeEventListener("click",t)})})}t.initNeonView=function(e){l=e,r.initNeonView(e)},t.unsetInclinatumAction=u,t.unsetVirgaAction=d,t.unsetVirgaReversedAction=h,t.unsetLiquescentClockwiseAction=f,t.unsetLiquescentAnticlockwiseAction=p,t.deleteButtonHandler=g,t.endOptionsSelection=v,t.removeHandler=m,t.changeStaffHandler=y,t.insertToSyllableHandler=b,t.moveOutsideSyllableHandler=w,t.addChangeStaffListener=E,t.triggerNcActions=function(e){v(),S("moreEdit",i.defaultActionContents),S("extraEdit",i.ncActionContents),_(),document.querySelector("#Punctum.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o=p(e.id);l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#Inclinatum.dropdown-item").addEventListener("click",()=>{const t=d(e.id),n=h(e.id),i=f(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"se"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#Virga.dropdown-item").addEventListener("click",()=>{const t=h(e.id),n=u(e.id),i=f(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"s"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#VirgaReversed.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=f(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"tilt",attrValue:"n"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentClockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=p(e.id),o={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"c"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#LiquescentAnticlockwise.dropdown-item").addEventListener("click",()=>{const t=u(e.id),n=d(e.id),i=h(e.id),r=f(e.id),o={action:"set",param:{elementId:e.id,attrType:"curve",attrValue:"a"}};l.edit({action:"chain",param:[t,n,i,r,o]},l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),L()},t.triggerNeumeActions=function(){v(),S("moreEdit",i.defaultNeumeActionContents),S("extraEdit",i.neumeActionContents),_();const e=document.querySelectorAll(".selected");function t(t){const n={action:"changeGroup",param:{elementId:e[0].id,contour:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Grouping Changed","success"):s.default.queueNotification("Grouping Failed","error"),v(),l.updateForCurrentPage()})}1===e.length?(document.getElementById("split-neume").addEventListener("click",()=>{const e=document.querySelector(".neume.selected");if(null!==e){new a.SplitNeumeHandler(l,e).startSplit(),v()}else console.error("No staff was selected!"),v()}),document.querySelector("#Pes.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PesSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Clivis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Scandicus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ScandicusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Climacus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#ClimacusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Torculus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#TorculusResupinus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Porrectus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusFlexus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#PorrectusSubpunctis.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),document.querySelector("#Pressus.dropdown-item").addEventListener("click",e=>{t(l.info.getContourByValue(e.target.id))}),L()):console.warn("More than one neume selected! Cannot trigger Neume ClickSelect actions.")},t.triggerSyllableActions=function(e){v(),S("moreEdit",i.syllableActionsContent);let t="";switch(e){case"singleSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="ungroupNeumes">Ungroup</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"linkableSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="toggle-link">Toggle Linked Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"multiSelect":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="mergeSyls">Merge Syllables</button>\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>';break;case"default":t+='<div class="right-side-panel-btns-container">\n          <button class="side-panel-btn" id="changeStaff">Re-associate to nearest staff</button>\n          <button class="side-panel-btn" id="delete">Delete</button>\n        </div>'}S("moreEdit",t,!0),E(),_(),r.initGroupingListeners()},t.triggerLayerElementActions=function(e){var t,n,r,o;if(v(),e.classList.contains("custos"))return S("moreEdit",i.custosActionContents),E(),void _();S("moreEdit",e.parentElement.classList.contains("syllable")?i.layerElementInActionContents:i.layerElementOutActionContents,!1),e.classList.contains("accid")?(S("extraEdit",i.accidActionContents),function(e){document.querySelector("#ChangeToFlat.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"f"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#ChangeToNatural.dropdown-item").addEventListener("click",()=>{const t={action:"set",param:{elementId:e.id,attrType:"accid",attrValue:"n"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),L()}(e)):e.classList.contains("clef")?(S("extraEdit",i.clefActionContents),function(e){document.querySelector("#increment-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"above"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave incremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#decrement-octave").addEventListener("click",()=>{const t={action:"displaceClefOctave",param:{elementId:e.id,direction:"below"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Clef octave decremented.","success"):s.default.queueNotification("Maximum octave displacement reached. Clef can only be displaced up to 3 octaves.","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#CClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"C"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),document.querySelector("#FClef.dropdown-item").addEventListener("click",()=>{const t={action:"setClef",param:{elementId:e.id,shape:"F"}};l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.default.queueNotification("Shape Changed","success"):s.default.queueNotification("Shape Change Failed","error"),v(),l.updateForCurrentPage()})}),L()}(e)):e.classList.contains("divLine")&&(S("extraEdit",i.divLineActionContents),L()),E(),null===(t=document.getElementById("insertToSyllable"))||void 0===t||t.addEventListener("click",b),null===(n=document.getElementById("moveOutsideSyllable"))||void 0===n||n.addEventListener("click",w),_(),E(),null===(r=document.getElementById("insertToSyllable"))||void 0===r||r.addEventListener("click",b),null===(o=document.getElementById("moveOutsideSyllable"))||void 0===o||o.addEventListener("click",w)},t.triggerStaffActions=function(){v(),S("moreEdit",i.staffActionContents),_(),document.getElementById("merge-systems").addEventListener("click",()=>{r.mergeStaves()})},t.triggerStaffSplitMode=x,t.triggerSplitActions=function(){v(),S("moreEdit",i.splitActionContents),_(),document.getElementById("split-system").addEventListener("click",()=>{x()}),document.getElementById("reset-rotate").addEventListener("click",()=>{const e=document.querySelector(".staff.selected"),t=(0,c.getStaffBBox)(e),n=Math.tan(t.rotate)*(t.lrx-t.ulx);if(null!==e){const i={action:"resizeRotate",param:{elementId:e.id,ulx:t.ulx,uly:t.rotate>0?t.uly+n/2:t.uly-n/2,lrx:t.lrx,lry:t.rotate>0?t.lry-n/2:t.lry+n/2,rotate:0}};l.edit(i,l.view.getCurrentPageURI()).then(async e=>{e&&await l.updateForCurrentPage()}),v()}else console.error("No staff was selected"),v()})},t.triggerDefaultSylActions=function(){v(),S("moreEdit",i.defaultSylActionContents),_(),E()},t.triggerDefaultActions=function(){v(),S("moreEdit",i.defaultActionContents),_()}},function(e,t,n){e.exports=function(e){"use strict";var t=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(e,t){var n=e[0],i=e[1],r=e[2],s=e[3];i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[0]-680876936|0)<<7|n>>>25)+i|0)&i|~n&r)+t[1]-389564586|0)<<12|s>>>20)+n|0)&n|~s&i)+t[2]+606105819|0)<<17|r>>>15)+s|0)&s|~r&n)+t[3]-1044525330|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[4]-176418897|0)<<7|n>>>25)+i|0)&i|~n&r)+t[5]+1200080426|0)<<12|s>>>20)+n|0)&n|~s&i)+t[6]-1473231341|0)<<17|r>>>15)+s|0)&s|~r&n)+t[7]-45705983|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[8]+1770035416|0)<<7|n>>>25)+i|0)&i|~n&r)+t[9]-1958414417|0)<<12|s>>>20)+n|0)&n|~s&i)+t[10]-42063|0)<<17|r>>>15)+s|0)&s|~r&n)+t[11]-1990404162|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&r|~i&s)+t[12]+1804603682|0)<<7|n>>>25)+i|0)&i|~n&r)+t[13]-40341101|0)<<12|s>>>20)+n|0)&n|~s&i)+t[14]-1502002290|0)<<17|r>>>15)+s|0)&s|~r&n)+t[15]+1236535329|0)<<22|i>>>10)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[1]-165796510|0)<<5|n>>>27)+i|0)&r|i&~r)+t[6]-1069501632|0)<<9|s>>>23)+n|0)&i|n&~i)+t[11]+643717713|0)<<14|r>>>18)+s|0)&n|s&~n)+t[0]-373897302|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[5]-701558691|0)<<5|n>>>27)+i|0)&r|i&~r)+t[10]+38016083|0)<<9|s>>>23)+n|0)&i|n&~i)+t[15]-660478335|0)<<14|r>>>18)+s|0)&n|s&~n)+t[4]-405537848|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[9]+568446438|0)<<5|n>>>27)+i|0)&r|i&~r)+t[14]-1019803690|0)<<9|s>>>23)+n|0)&i|n&~i)+t[3]-187363961|0)<<14|r>>>18)+s|0)&n|s&~n)+t[8]+1163531501|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i&s|r&~s)+t[13]-1444681467|0)<<5|n>>>27)+i|0)&r|i&~r)+t[2]-51403784|0)<<9|s>>>23)+n|0)&i|n&~i)+t[7]+1735328473|0)<<14|r>>>18)+s|0)&n|s&~n)+t[12]-1926607734|0)<<20|i>>>12)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[5]-378558|0)<<4|n>>>28)+i|0)^i^r)+t[8]-2022574463|0)<<11|s>>>21)+n|0)^n^i)+t[11]+1839030562|0)<<16|r>>>16)+s|0)^s^n)+t[14]-35309556|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[1]-1530992060|0)<<4|n>>>28)+i|0)^i^r)+t[4]+1272893353|0)<<11|s>>>21)+n|0)^n^i)+t[7]-155497632|0)<<16|r>>>16)+s|0)^s^n)+t[10]-1094730640|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[13]+681279174|0)<<4|n>>>28)+i|0)^i^r)+t[0]-358537222|0)<<11|s>>>21)+n|0)^n^i)+t[3]-722521979|0)<<16|r>>>16)+s|0)^s^n)+t[6]+76029189|0)<<23|i>>>9)+r|0,i=((i+=((r=((r+=((s=((s+=((n=((n+=(i^r^s)+t[9]-640364487|0)<<4|n>>>28)+i|0)^i^r)+t[12]-421815835|0)<<11|s>>>21)+n|0)^n^i)+t[15]+530742520|0)<<16|r>>>16)+s|0)^s^n)+t[2]-995338651|0)<<23|i>>>9)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[0]-198630844|0)<<6|n>>>26)+i|0)|~r))+t[7]+1126891415|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[14]-1416354905|0)<<15|r>>>17)+s|0)|~n))+t[5]-57434055|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[12]+1700485571|0)<<6|n>>>26)+i|0)|~r))+t[3]-1894986606|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[10]-1051523|0)<<15|r>>>17)+s|0)|~n))+t[1]-2054922799|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[8]+1873313359|0)<<6|n>>>26)+i|0)|~r))+t[15]-30611744|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[6]-1560198380|0)<<15|r>>>17)+s|0)|~n))+t[13]+1309151649|0)<<21|i>>>11)+r|0,i=((i+=((s=((s+=(i^((n=((n+=(r^(i|~s))+t[4]-145523070|0)<<6|n>>>26)+i|0)|~r))+t[11]-1120210379|0)<<10|s>>>22)+n|0)^((r=((r+=(n^(s|~i))+t[2]+718787259|0)<<15|r>>>17)+s|0)|~n))+t[9]-343485551|0)<<21|i>>>11)+r|0,e[0]=n+e[0]|0,e[1]=i+e[1]|0,e[2]=r+e[2]|0,e[3]=s+e[3]|0}function i(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}function r(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e[t]+(e[t+1]<<8)+(e[t+2]<<16)+(e[t+3]<<24);return n}function s(e){var t,r,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,i(e.substring(t-64,t)));for(r=(e=e.substring(t-64)).length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<r;t+=1)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}function o(e){var n,i="";for(n=0;n<4;n+=1)i+=t[e>>8*n+4&15]+t[e>>8*n&15];return i}function a(e){var t;for(t=0;t<e.length;t+=1)e[t]=o(e[t]);return e.join("")}function c(e){return/[\u0080-\uFFFF]/.test(e)&&(e=unescape(encodeURIComponent(e))),e}function l(e){var t,n=[],i=e.length;for(t=0;t<i-1;t+=2)n.push(parseInt(e.substr(t,2),16));return String.fromCharCode.apply(String,n)}function u(){this.reset()}return a(s("hello")),"undefined"==typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function t(e,t){return(e=0|e||0)<0?Math.max(e+t,0):Math.min(e,t)}ArrayBuffer.prototype.slice=function(n,i){var r,s,o,a,c=this.byteLength,l=t(n,c),u=c;return i!==e&&(u=t(i,c)),l>u?new ArrayBuffer(0):(r=u-l,s=new ArrayBuffer(r),o=new Uint8Array(s),a=new Uint8Array(this,l,r),o.set(a),s)}}(),u.prototype.append=function(e){return this.appendBinary(c(e)),this},u.prototype.appendBinary=function(e){this._buff+=e,this._length+=e.length;var t,r=this._buff.length;for(t=64;t<=r;t+=64)n(this._hash,i(this._buff.substring(t-64,t)));return this._buff=this._buff.substring(t-64),this},u.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i.charCodeAt(t)<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash.slice()}},u.prototype.setState=function(e){return this._buff=e.buff,this._length=e.length,this._hash=e.hash,this},u.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},u.prototype._finish=function(e,t){var i,r,s,o=t;if(e[o>>2]|=128<<(o%4<<3),o>55)for(n(this._hash,e),o=0;o<16;o+=1)e[o]=0;i=(i=8*this._length).toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),s=parseInt(i[1],16)||0,e[14]=r,e[15]=s,n(this._hash,e)},u.hash=function(e,t){return u.hashBinary(c(e),t)},u.hashBinary=function(e,t){var n=a(s(e));return t?l(n):n},u.ArrayBuffer=function(){this.reset()},u.ArrayBuffer.prototype.append=function(e){var t,i,s,o,a,c=(i=this._buff.buffer,s=e,o=!0,(a=new Uint8Array(i.byteLength+s.byteLength)).set(new Uint8Array(i)),a.set(new Uint8Array(s),i.byteLength),o?a:a.buffer),l=c.length;for(this._length+=e.byteLength,t=64;t<=l;t+=64)n(this._hash,r(c.subarray(t-64,t)));return this._buff=t-64<l?new Uint8Array(c.buffer.slice(t-64)):new Uint8Array(0),this},u.ArrayBuffer.prototype.end=function(e){var t,n,i=this._buff,r=i.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<r;t+=1)s[t>>2]|=i[t]<<(t%4<<3);return this._finish(s,r),n=a(this._hash),e&&(n=l(n)),this.reset(),n},u.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},u.ArrayBuffer.prototype.getState=function(){var e,t=u.prototype.getState.call(this);return t.buff=(e=t.buff,String.fromCharCode.apply(null,new Uint8Array(e))),t},u.ArrayBuffer.prototype.setState=function(e){return e.buff=function(e,t){var n,i=e.length,r=new ArrayBuffer(i),s=new Uint8Array(r);for(n=0;n<i;n+=1)s[n]=e.charCodeAt(n);return t?s:r}(e.buff,!0),u.prototype.setState.call(this,e)},u.ArrayBuffer.prototype.destroy=u.prototype.destroy,u.ArrayBuffer.prototype._finish=u.prototype._finish,u.ArrayBuffer.hash=function(e,t){var i=a(function(e){var t,i,s,o,a,c,l=e.length,u=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=l;t+=64)n(u,r(e.subarray(t-64,t)));for(e=t-64<l?e.subarray(t-64):new Uint8Array(0),i=e.length,s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],t=0;t<i;t+=1)s[t>>2]|=e[t]<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(n(u,s),t=0;t<16;t+=1)s[t]=0;return o=(o=8*l).toString(16).match(/(.*?)(.{0,8})$/),a=parseInt(o[2],16),c=parseInt(o[1],16)||0,s[14]=a,s[15]=c,n(u,s),u}(new Uint8Array(e)));return t?l(i):i},u}()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setGroupingHighlight=t.setStaffHighlight=t.highlight=t.unsetGroupingHighlight=t.unsetStaffHighlight=t.unhighlight=void 0;const i=["rgb(230, 159, 0)","rgb(86, 180, 233)","rgb(0, 158, 115)","rgb(240, 228, 66)","rgb(0, 114, 178)","rgb(213, 94, 0)","rgb(204, 121, 167)"];function r(e){let t;t=e?e.querySelectorAll(":not(.selected) .highlighted"):document.querySelectorAll(":not(.selected) .highlighted"),t.forEach(e=>{if("path"!==e.tagName||e.closest(".staff").classList.contains("selected"))if(e.classList.contains("divLine")&&!e.closest(".staff").classList.contains("selected"))e.setAttribute("stroke","#000000");else{e.removeAttribute("fill");let t=e.querySelectorAll(".sylTextRect-display");if(!t.length)try{t=e.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(e){t=[]}t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")}))}else e.setAttribute("stroke","#000000");e.classList.remove("highlighted")})}function s(){r()}function o(){s();Array.from(document.getElementsByClassName("highlighted")).filter(e=>!e.parentElement.classList.contains("selected")).forEach(e=>{e.setAttribute("#d00",null);let t=e.querySelectorAll(".sylTextRect-display");t.length||null!==e.closest(".syllable")&&(t=e.closest(".syllable").querySelectorAll("sylTextRect-display")),t.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")?e.style.fill="#d00":e.style.fill="blue",e.classList.remove("highlighted")})),e.classList.remove("highlighted"),e.querySelectorAll("sylTextRect-display").forEach(e=>{e.classList.remove("highlighted")})}),Array.from(document.getElementsByClassName("selected")).forEach(e=>{e.setAttribute("fill","")})}function a(e,t){const n=Array.from(e.children);for(let e=0;e<n.length;e++){const i=n[e];if("path"===i.tagName)i.setAttribute("stroke",t);else if(i.classList.contains("divLine"))i.setAttribute("stroke",t),i.setAttribute("stroke-width","30px");else if(i.querySelectorAll(".divLine").length&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.querySelectorAll(".divLine")).forEach(e=>{n.push(e)});else{if(i.classList.contains("resizePoint")||"resizeRect"===i.id||i.classList.contains("rotatePoint"))return;if(i.classList.contains("layer"))Array.from(i.children).forEach(e=>{n.push(e)});else if(document.getElementsByClassName("highlight-selected").length&&"highlight-neume"===document.getElementsByClassName("highlight-selected")[0].id&&i.classList.contains("syllable"))Array.from(i.children).filter(e=>e.classList.contains("neume")).forEach(e=>{n.push(e)});else{i.setAttribute("fill",t);let e=i.querySelectorAll(".sylTextRect-display");if(!e.length)try{e=i.closest(".syllable").querySelectorAll(".sylTextRect-display")}catch(t){e=[]}e.forEach((function(e){e.closest(".syllable").classList.contains("selected")||e.closest(".syl").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t,e.classList.add("highlighted"))}))}}i.classList.add("highlighted")}let i;i="30px",e.querySelectorAll(".nc, .custos, .clef, .accid").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width",i)})}function c(){const e=Array.from(document.getElementsByClassName("staff"));for(let t=0;t<e.length;t++){const n=i[t%i.length];a(e[t],n)}}t.unhighlight=r,t.unsetStaffHighlight=s,t.unsetGroupingHighlight=o,t.highlight=a,t.setStaffHighlight=c,t.setGroupingHighlight=function e(t){if(o(),"staff"===t)return void c();if("selection"===t){switch(document.querySelector(".sel-by.is-active").id){case"selBySyllable":case"selByBBox":t="syllable";break;case"selByStaff":t="staff";break;case"selByLayerElement":t="layerElement";break;case"selByNeume":default:t="neume"}return void e(t)}let n;n="layerElement"==t?document.querySelectorAll(".accid, .clef, .custos, .divLine"):document.getElementsByClassName(t),document.querySelectorAll(".nc, .custos, .clef, .accid, .divLine").forEach(e=>{e.setAttribute("stroke","black"),e.setAttribute("stroke-width","30px")});for(let e=0;e<n.length;e++){const t=i[e%i.length];if(null!==n[e].closest(".selected")||n[e].classList.contains("selected"))n[e].classList.contains("selected")?n[e].setAttribute("fill","#d00"):n[e].setAttribute("fill",null),n[e].classList.remove("highlighted");else{n[e].setAttribute("fill",t);n[e].querySelectorAll(".sylTextRect-display").forEach((function(e){e.closest(".syl").classList.contains("selected")||e.closest(".syllable").classList.contains("selected")||e.closest(".staff").classList.contains("selected")||(e.style.fill=t)})),n[e].classList.add("highlighted"),n[e].querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("highlighted")})}const r=n[e].querySelectorAll(".divLine");if(r)for(let e=0;e<r.length;e++)r[e].setAttribute("stroke",t),r[e].setAttribute("stroke-width","30px")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayControls=t.loadHighlightSettings=t.updateHighlight=t.setHighlightSelectionControls=t.setHighlightControls=t.setHighlightOption=t.getHighlightType=t.setBgOpacityFromSlider=t.setGlyphOpacityFromSlider=t.setZoomControls=void 0;const i=n(15),r=n(6);let s,o;function a(e){const t=document.getElementById("opacityOutput");document.getElementById("opacitySlider").value=t.value,(0,r.setSettings)({glyphOpacity:Number(t.value)});const n=document.querySelector("#toggle-glyph-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show glyph")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide glyph"));try{document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=(Number(t.value)/100).toString()})}catch(e){console.warn("Unable to properly set opacity to pages")}}function c(e){const t=document.querySelector("#bgOpacityOutput");(0,r.setSettings)({imageOpacity:Number(t.value)});const n=document.querySelector("#toggle-bg-opacity > img");0===Number(t.value)?(n.setAttribute("src","/Neon/Neon-gh/assets/img/show-icon.svg"),n.parentElement.setAttribute("title","Show background image")):(n.setAttribute("src","/Neon/Neon-gh/assets/img/hide-icon.svg"),n.parentElement.setAttribute("title","Hide background image"));const i=document.querySelector("."+e);i&&(i.style.opacity=String(Number(t.value)/100))}function l(e){const t=document.getElementById("highlight-"+e),n=document.getElementById("highlight-dropdown"),s=document.getElementById("highlight-type");if((0,r.setSettings)({highlightMode:e}),n.classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),"none"===e)return s.textContent=" - Off",void i.unsetGroupingHighlight();t.classList.add("highlight-selected"),s.textContent=" - "+(e[0].toUpperCase()+e.slice(1)),i.setGroupingHighlight(e)}function u(e){document.getElementById("highlight-"+e).addEventListener("click",()=>{l(e)})}function d(){document.body.removeEventListener("click",d),document.getElementById("highlight-dropdown").classList.remove("is-active")}function h(){const e=document.getElementById("highlight-dropdown");document.getElementById("highlight-button").addEventListener("click",t=>{t.stopPropagation(),e.classList.toggle("is-active"),e.classList.contains("is-active")?(document.body.addEventListener("click",d),u("staff"),u("syllable"),u("neume"),u("layerElement"),u("none")):document.body.removeEventListener("click",d)})}function f(){const{highlightMode:e}=(0,r.getSettings)();l(e)}t.setZoomControls=function(e){if(void 0===e)return;const t=document.getElementById("zoomSlider"),n=document.getElementById("zoomOutput"),{zoom:i}=(0,r.getSettings)();t.value=String(i),n.value=String(i),e.zoomTo(i/100),document.getElementById("reset-zoom").addEventListener("click",()=>{n.value="100",t.value="100",e.resetZoomAndPan()}),document.querySelector("#set-zoom-easy-edit").addEventListener("click",()=>{n.value="180",t.value="180",e.zoomTo(1.8)}),t.addEventListener("mouseup",(function(){n.value=t.value,e.zoomTo(Number(n.value)/100)})),t.disabled=!1,document.body.addEventListener("keydown",i=>{const r=parseInt(n.value);if("ArrowUp"===i.key||"ArrowDown"===i.key||"ArrowRight"===i.key||"ArrowLeft"===i.key)i.preventDefault();else if("+"===i.key){const i=Math.min(r+20,parseInt(t.getAttribute("max")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else if("_"===i.key){const i=Math.max(r-20,parseInt(t.getAttribute("min")));e.zoomTo(i/100),n.value=String(i),t.value=String(i)}else"0"===i.key&&(n.value="100",t.value="100",e.resetZoomAndPan())})},t.setGlyphOpacityFromSlider=a,t.setBgOpacityFromSlider=c,t.getHighlightType=function(){return document.getElementById("highlight-type").textContent.slice(3).toLowerCase()},t.setHighlightOption=u,t.setHighlightControls=h,t.setHighlightSelectionControls=function(){const e=document.getElementById("highlight-selection");e.addEventListener("click",()=>{document.getElementById("highlight-dropdown").classList.remove("is-active"),document.querySelectorAll(".highlight-selected").forEach(e=>{e.classList.remove("highlight-selected")}),e.classList.add("highlight-selected"),document.getElementById("highlight-type").textContent=" - Selection",i.setGroupingHighlight("selection")})},t.updateHighlight=function(){let e;try{e=document.querySelector(".highlight-selected").id}catch(t){e=""}switch(e){case"highlight-staff":i.setGroupingHighlight("staff");break;case"highlight-syllable":i.setGroupingHighlight("syllable");break;case"highlight-neume":i.setGroupingHighlight("neume");break;case"highlight-layerElement":i.setGroupingHighlight("layerElement");break;case"highlight-selection":i.setGroupingHighlight("selection");break;default:i.unsetGroupingHighlight()}},t.loadHighlightSettings=f,t.initDisplayControls=function(e,t){!function(e){const t=document.getElementById("opacitySlider"),n=document.getElementById("opacityOutput"),{glyphOpacity:i}=(0,r.getSettings)();function o(){n.value=t.value,s=Number(t.value),a(e)}s=i,t.value=String(i),n.value=String(i);const c=document.getElementById("toggle-glyph-opacity");100==i&&c.classList.add("hide-icon"),null==c||c.addEventListener("click",()=>{let i;c.classList.contains("hide-icon")?(c.classList.remove("hide-icon"),i=0):(c.classList.add("hide-icon"),i=1),document.querySelectorAll("."+e).forEach(e=>{e.style.opacity=i.toString()}),s=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({glyphOpacity:100*i}),o()}),t.addEventListener("input",o),t.addEventListener("change",o),t.disabled=!1}(e),function(e){const t=document.getElementById("bgOpacitySlider"),n=document.getElementById("bgOpacityOutput"),{imageOpacity:i}=(0,r.getSettings)();function s(){n.value=t.value,o=Number(t.value),c(e)}o=i,t.value=String(i),n.value=String(i);const a=document.getElementById("toggle-bg-opacity");100==i&&a.classList.add("hide-icon"),a.addEventListener("click",()=>{let i;a.classList.contains("hide-icon")?(a.classList.remove("hide-icon"),i=0):(a.classList.add("hide-icon"),i=1),document.getElementsByClassName(e)[0].style.opacity=i.toString(),o=Number(t.value),t.value=String(100*i),n.value=String(Math.round(100*i)),(0,r.setSettings)({imageOpacity:100*i}),s()}),t.addEventListener("input",s),t.addEventListener("change",s),t.disabled=!1}(t),h(),document.getElementById("burgerMenu").addEventListener("click",()=>{document.getElementById("burgerMenu").classList.toggle("is-active"),document.getElementById("navMenu").classList.toggle("is-active")}),document.body.addEventListener("keydown",e=>{if(!e.metaKey)switch(e.key){case"q":l("staff");break;case"w":l("syllable");break;case"e":l("neume");break;case"r":l("layerElement");break;case"t":l("selection");break;case"y":l("none")}}),function(){const e=document.querySelector("#display-all-btn");e.addEventListener("click",()=>{if(e.classList.contains("selected")){e.classList.remove("selected"),e.innerHTML="Display All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked&&e.click()})}else{e.classList.add("selected"),e.innerHTML="Hide All";const t=document.querySelectorAll(".checkbox-container > .checkbox");Array.from(t).forEach(e=>{e.checked||e.click()})}})}(),f();const n=document.getElementById("displayContents"),i=document.getElementById("toggleDisplay");document.getElementById("displayHeader").addEventListener("click",e=>{e.stopPropagation(),n.classList.contains("closed")?(n.classList.remove("closed"),n.style.padding="0.5em 0.75em",setTimeout(()=>{n.style.overflow="visible"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(n.classList.add("closed"),n.style.overflow="hidden",setTimeout(()=>{n.style.padding="0px"},200),i.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ModalWindow=t.ModalWindowView=void 0;const i=n(7),r=n(33),s=n(28);var o,a;!function(e){e[e.EDIT_TEXT=0]="EDIT_TEXT",e[e.HOTKEYS=1]="HOTKEYS",e[e.VALIDATION_STATUS=2]="VALIDATION_STATUS",e[e.DOCUMENT_UPLOAD=3]="DOCUMENT_UPLOAD"}(o=t.ModalWindowView||(t.ModalWindowView={})),function(e){e[e.OPEN=0]="OPEN",e[e.CLOSED=1]="CLOSED"}(a||(a={}));t.ModalWindow=class{constructor(e){this.openEditSylTextModalWindow=function(){Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),document.getElementById("neon-modal-window-content-edit-text").classList.add("visible"),document.getElementById("neon-modal-window-edit-text-cancel").removeEventListener("click",this.hideModalWindow),document.getElementById("neon-modal-window-edit-text-cancel").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window-edit-text-save").removeEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-edit-text-save").addEventListener("click",this.updateSylText.bind(this)),document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()},this.updateSylText=function(){const e=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0],t=e.textContent.replace(/\u{25CA}/u,"").trim(),n=document.getElementById("neon-modal-window-edit-text-input").value;if(null!==n&&n!==t){const t={action:"setText",param:{elementId:[...e.classList.entries()].filter(e=>"text-select"!==e[1]&&"selected-to-edit"!==e[1])[0][1],text:n}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(t=>{t&&this.neonView.updateForCurrentPage().then(()=>{(0,s.updateSelectedBBox)(e,this.dragHandler,this.neonView)})})}this.hideModalWindow()},this.keydownListener=function(e){switch(e.stopImmediatePropagation(),this.modalWindowView){case o.EDIT_TEXT:"Enter"===e.key&&this.updateSylText();default:"Escape"===e.key&&this.hideModalWindow()}},this.focusModalWindow=function(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("neon-modal-window-edit-text-input").select();break;default:document.getElementById("neon-modal-window").focus()}},this.neonView=e,this.modalWindowState=a.CLOSED,document.getElementById("neon-modal-window-header-close").addEventListener("click",this.hideModalWindow.bind(this)),document.getElementById("neon-modal-window").addEventListener("keydown",this.keydownListener.bind(this)),document.getElementById("neon-modal-window-container").addEventListener("click",this.focusModalWindow.bind(this))}setModalWindowView(e,t){this.modalWindowView=e,this.setModalWindowContent(t)}getModalWindowView(){return this.modalWindowView.toString()}openModalWindow(){switch(Array.from(document.getElementsByClassName("neon-modal-window-content")).forEach(e=>{e.classList.remove("visible")}),this.modalWindowView){case o.EDIT_TEXT:this.openEditSylTextModalWindow();break;case o.HOTKEYS:document.getElementById("neon-modal-window-content-hotkeys").classList.add("visible");case o.DOCUMENT_UPLOAD:default:document.getElementById("neon-modal-window-container").style.display="flex",this.focusModalWindow()}document.body.style.overflowX="hidden",document.body.style.overflowY="hidden",this.modalWindowState=a.OPEN}hideModalWindow(){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].classList.remove("selected-to-edit");default:document.getElementById("neon-modal-window-container").style.display="none",this.modalWindowView!==o.DOCUMENT_UPLOAD&&document.getElementById("container").focus()}document.body.style.overflowX="hidden",document.body.style.overflowY="scroll",this.modalWindowState=a.CLOSED}setModalWindowContent(e){switch(this.modalWindowView){case o.EDIT_TEXT:document.getElementById("neon-modal-window-content-container").innerHTML=i.editTextModal,document.getElementById("neon-modal-window-header-title").innerText="EDIT SYLLABLE TEXT";const t=/\u{25CA}/u,n=document.getElementById("syl_text").querySelectorAll("span.selected-to-edit")[0].textContent.replace(t,"").trim();document.getElementById("neon-modal-window-edit-text-input").value=n;break;case o.HOTKEYS:document.getElementById("neon-modal-window-content-container").innerHTML=i.hotkeysModal,document.getElementById("neon-modal-window-header-title").innerText="HOTKEYS";break;case o.VALIDATION_STATUS:document.getElementById("neon-modal-window-content-container").innerHTML=`<div style="margin-bottom: 30px;white-space: pre-line;">${e}</div>\n          <div class="neon-modal-window-btn">\n            <a href="data:text/plain;charset=utf-8,${encodeURIComponent(e)}" download="validation.log">\n              Export\n            </a>\n            </div>`,document.getElementById("neon-modal-window-header-title").innerText="ERROR LOG";break;case o.DOCUMENT_UPLOAD:document.getElementById("neon-modal-window-header-title").innerText="DOCUMENT UPLOAD",document.getElementById("neon-modal-window-content-container").innerHTML=r.uploadAreaHTML;break;default:console.error("Unknown selection type. This should not have occurred.")}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(8),r=n(12),s=n(4),o=n(3);t.default=class{constructor(e,t){this.dragStartCoords=[-1,-1],this.neonView=e,this.selector=t}dragInit(){const e=i.drag().on("start",function(){this.dragStartCoords=[i.event.x,i.event.y],this.dx=0,this.dy=0,i.event.sourceEvent.target.classList.contains("staff")&&i.select(this.selector).call(e)}.bind(this)).on("drag",this.dragging.bind(this)).on("end",this.dragEnded.bind(this));i.selectAll(".selected").call(e);let t=Array.from(document.querySelectorAll(".selected"));this.noMovePrecedes=t.filter(e=>e.classList.contains("no-moving")&&e.hasAttribute("mei:precedes")),t=t.filter(e=>!e.classList.contains("no-moving")),this.selection=t.concat(Array.from(document.querySelectorAll(".resizePoint")))}dragging(){this.dx=i.event.x-this.dragStartCoords[0],this.dy=i.event.y-this.dragStartCoords[1],this.moveElements(this.selection,this.dx,this.dy);if(0===this.selection.filter(e=>e.classList.contains("syl")).length&&0===this.noMovePrecedes.length){const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));this.moveElements(e,-this.dx,-this.dy)}}dragEnded(){const e=Math.abs(this.dx),t=Math.abs(this.dy);if(e<=5&&t<=5)return this.reset(),void this.dragInit();const n=this.selection.filter(e=>!e.classList.contains("resizePoint"));if(this.isCursorOutOfBounds()||this.isDragOutOfBounds(n)){this.returnElements(this.selection);const e=Array.from(document.querySelectorAll(".syllable.selected")).map(e=>e.querySelector(".sylTextRect-display"));return this.returnElements(e),this.reset(),this.dragInit(),(0,s.queueNotification)("[FAIL] Glyphs were placed out of bounds! Drag action failed.","error")}const i=[];n.forEach(e=>{const t={action:"drag",param:{elementId:"rect"===e.tagName?e.closest(".syl").id:e.id,x:this.dx,y:-this.dy}};i.push(t)});const r={action:"chain",param:i};this.neonView.edit(r,this.neonView.view.getCurrentPageURI()).then(async()=>{const e=Array.from(document.querySelectorAll(".selected")).filter(e=>!e.classList.contains("no-moving")).map(e=>e.id);await this.neonView.updateForCurrentPage(),this.endOptionsSelection(),this.reset(),await this.reselect(e),this.dragInit()})}async reselect(e){const t=e.map(e=>document.querySelector("#"+e));t.filter(e=>!e.classList.contains("syl")).forEach(async()=>await(0,o.selectAll)(t,this.neonView,this)),t.filter(e=>e.classList.contains("syl")).forEach(e=>(0,o.selectBBox)(e.querySelector(".sylTextRect-display"),this,this.neonView)),t.filter(e=>e.classList.contains("staff")).forEach(e=>(0,o.selectStaff)(e,this))}resetTo(e){this.resetToAction=e}reset(){void 0!==this.resetToAction&&i.select(this.selector).call(this.resetToAction)}endOptionsSelection(){const e=document.getElementById("moreEdit"),t=document.getElementById("extraEdit");e&&(e.innerHTML="",e.parentElement.classList.add("hidden")),t&&(t.innerHTML="",t.parentElement.classList.add("hidden"))}moveElements(e,t,n){e.filter(e=>null!==e).forEach(e=>{e.setAttribute("transform",`translate(${t},${n})`)})}returnElements(e){e.filter(e=>null!==e).forEach(e=>{e.removeAttribute("transform")})}isCursorOutOfBounds(){const e=this.dragStartCoords[0]+this.dx,t=this.dragStartCoords[1]+this.dy;return(0,r.isOutOfSVGBounds)(e,t)}isDragOutOfBounds(e){let t=document.querySelector("#displayBBox").checked?"use, rect":"use";e[0].classList.contains("staff")&&(t="path");const n=e.reduce((e,n)=>e.concat(...n.querySelectorAll(t)),[]).map(r.getGlyphBBox).reduce((e,t)=>({ulx:Math.min(e.ulx,t.ulx),uly:Math.min(e.uly,t.uly),lrx:Math.max(e.lrx,t.lrx),lry:Math.max(e.lry,t.lry)}),{ulx:Number.MAX_VALUE,uly:Number.MAX_VALUE,lrx:Number.MIN_VALUE,lry:Number.MIN_VALUE}),{ulx:i,uly:s,lrx:o,lry:a}=n;return(0,r.isOutOfSVGBounds)(i+this.dx,s+this.dy)||(0,r.isOutOfSVGBounds)(o+this.dx,a+this.dy)}}},function(e,t,n){"use strict";var i=n(43),r=t.ValidationError=function(e,t,n,i,r,s){if(Array.isArray(i)?(this.path=i,this.property=i.reduce((function(e,t){return e+d(t)}),"instance")):void 0!==i&&(this.property=i),e&&(this.message=e),n){var o=n.$id||n.id;this.schema=o||n}void 0!==t&&(this.instance=t),this.name=r,this.argument=s,this.stack=this.toString()};r.prototype.toString=function(){return this.property+" "+this.message};var s=t.ValidatorResult=function(e,t,n,i){this.instance=e,this.schema=t,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function o(e,t){return t+": "+e.toString()+"\n"}function a(e){Error.captureStackTrace&&Error.captureStackTrace(this,a),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}s.prototype.addError=function(e){var t;if("string"==typeof e)t=new r(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new r(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new a(this);if(this.throwError)throw t;return t},s.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},s.prototype.toString=function(e){return this.errors.map(o).join("")},Object.defineProperty(s.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=a,a.prototype=new Error,a.prototype.constructor=a,a.prototype.name="Validation Error";var c=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),Error.captureStackTrace(this,e)};c.prototype=Object.create(Error.prototype,{constructor:{value:c,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var l=t.SchemaContext=function(e,t,n,i,r){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce((function(e,t){return e+d(t)}),"instance")):this.propertyPath=n,this.base=i,this.schemas=r};l.prototype.resolve=function(e){return i.resolve(this.base,e)},l.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),r=e.$id||e.id,s=i.resolve(this.base,r||""),o=new l(e,this.options,n,s,Object.create(this.schemas));return r&&!o.schemas[s]&&(o.schemas[s]=e),o};var u=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};u.regexp=u.regex,u.pattern=u.regex,u.ipv4=u["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==u[t]){if(u[t]instanceof RegExp)return u[t].test(e);if("function"==typeof u[t])return u[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var d=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function h(e,t,n,i){"object"==typeof n?t[i]=g(e[i],n):-1===e.indexOf(n)&&t.push(n)}function f(e,t,n){t[n]=e[n]}function p(e,t,n,i){"object"==typeof t[i]&&t[i]&&e[i]?n[i]=g(e[i],t[i]):n[i]=t[i]}function g(e,t){var n=Array.isArray(t),i=n&&[]||{};return n?(e=e||[],i=i.concat(e),t.forEach(h.bind(null,e,i))):(e&&"object"==typeof e&&Object.keys(e).forEach(f.bind(null,e,i)),Object.keys(t).forEach(p.bind(null,e,t,i))),i}function v(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&(t.length===n.length&&t.every((function(i,r){return e(t[r],n[r])})));if("object"==typeof t){if(!t||!n)return t===n;var i=Object.keys(t),r=Object.keys(n);return i.length===r.length&&i.every((function(i){return e(t[i],n[i])}))}return t===n},e.exports.deepMerge=g,t.objectGetPath=function(e,t){for(var n,i=t.split("/").slice(1);"string"==typeof(n=i.shift());){var r=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(r in e))return;e=e[r]}return e},t.encodePath=function(e){return e.map(v).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var i=n[0].split(".");return 2===i.length&&(t+=i[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e}},function(e,t,n){"use strict";var i;n.d(t,"a",(function(){return s}));var r=new Uint8Array(16);function s(){if(!i&&!(i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return i(r)}},function(e,t,n){"use strict";function i(e,t,n){var i=n[n.length-1];e===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(e);else if(s===t.length-2){r[t.pop()]=e}else t.push(e)}t.stringify=function(e){var t=[];t.push({obj:e});for(var n,i,r,s,o,a,c,l,u,d,h="";n=t.pop();)if(i=n.obj,h+=n.prefix||"",r=n.val||"")h+=r;else if("object"!=typeof i)h+=void 0===i?null:JSON.stringify(i);else if(null===i)h+="null";else if(Array.isArray(i)){for(t.push({val:"]"}),s=i.length-1;s>=0;s--)o=0===s?"":",",t.push({obj:i[s],prefix:o});t.push({val:"["})}else{for(c in a=[],i)i.hasOwnProperty(c)&&a.push(c);for(t.push({val:"}"}),s=a.length-1;s>=0;s--)u=i[l=a[s]],d=s>0?",":"",d+=JSON.stringify(l)+":",t.push({obj:u,prefix:d});t.push({val:"{"})}return h},t.parse=function(e){for(var t,n,r,s,o,a,c,l,u,d=[],h=[],f=0;;)if("}"!==(t=e[f++])&&"]"!==t&&void 0!==t)switch(t){case" ":case"\t":case"\n":case":":case",":break;case"n":f+=3,i(null,d,h);break;case"t":f+=3,i(!0,d,h);break;case"f":f+=4,i(!1,d,h);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":for(n="",f--;;){if(r=e[f++],!/[\d\.\-e\+]/.test(r)){f--;break}n+=r}i(parseFloat(n),d,h);break;case'"':for(s="",o=void 0,a=0;'"'!==(c=e[f++])||"\\"===o&&a%2==1;)s+=c,"\\"===(o=c)?a++:a=0;i(JSON.parse('"'+s+'"'),d,h);break;case"[":l={element:[],index:d.length},d.push(l.element),h.push(l);break;case"{":u={element:{},index:d.length},d.push(u.element),h.push(u);break;default:throw new Error("unexpectedly reached end of input: "+t)}else{if(1===d.length)return d.pop();i(d.pop(),d,h)}}},function(e,t,n){"use strict";var i=n(20),r=n(10);t.a=function(e,t,n){var s=(e=e||{}).random||(e.rng||i.a)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=s[o];return t}return Object(r.a)(s)}},function(e,t,n){"use strict";function i(e){if(16!==e.length)return"";function t(e,t){return e+t.toString(16).padStart(2,"0")}return e.slice(0,4).reduce(t,"")+"-"+e.slice(4,6).reduce(t,"")+"-"+e.slice(6,8).reduce(t,"")+"-"+e.slice(8,10).reduce(t,"")+"-"+e.slice(10).reduce(t,"")}Object.defineProperty(t,"__esModule",{value:!0}),t.uuidv4=void 0,t.uuidv4=function(){if(void 0===window.crypto)return i(new Uint8Array(16));const e=new Uint8Array(16),t=Uint8Array.from([parseInt("01000000",2),parseInt("10000000",2),parseInt("00001111",2),parseInt("00111111",2)]);return window.crypto.getRandomValues(e),e[6]=e[6]&t[2]|t[0],e[8]=e[8]&t[3]|t[1],i(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initGroupingListeners=t.endGroupingSelection=t.triggerGrouping=t.mergeStaves=t.isLinkable=t.isLinked=t.isGroupable=t.initNeonView=void 0;const i=n(7),r=n(34),s=n(4),o=n(3),a=n(13),c=n(13);let l;function u(e,t){if(Array.from(t.values()).length<2)return!1;switch(e){case"selByNeume":if(o.sharedLogicalParent(e,t))return!1;default:return!!o.areAdjacent(e,t)}}function d(e){return 2===e.length&&(e[0].getAttribute("mei:follows")==="#"+e[1].id&&e[1].getAttribute("mei:precedes")==="#"+e[0].id||e[0].getAttribute("mei:precedes")==="#"+e[1].id&&e[1].getAttribute("mei:follows")==="#"+e[0].id)}function h(e,t){switch(t.length){case 2:if("selBySyllable"!==e)return!1;if(d([t[0],t[1]]))return!0;if(o.isMultiStaveSelection(t)){const e=t[0].closest(".staff"),n=t[1].closest(".staff"),i=Array.from(e.parentElement.children),r=i.indexOf(e)<i.indexOf(n)?e:n,s=r.id===e.id?n:e,o=r.querySelector(".layer"),a=s.querySelector(".layer"),c=Array.from(o.children).filter(e=>e.classList.contains("syllable")),l=Array.from(a.children).filter(e=>e.classList.contains("syllable")),u=c[c.length-1],d=l[0];if(u.id===t[0].id&&d.id===t[1].id)return!0;if(u.id===t[1].id&&d.id===t[0].id)return!0}default:return!1}return!1}function f(){const e=document.querySelectorAll(".staff.selected"),t=[];e.forEach(e=>{t.push(e.id)});const n={action:"merge",param:{elementIds:t}};l.edit(n,l.view.getCurrentPageURI()).then(e=>{e?(s.queueNotification("Staff Merged","success"),a.endOptionsSelection(),l.updateForCurrentPage()):s.queueNotification("Merge Failed","error")})}function p(){const e=document.getElementById("moreEdit");e.innerHTML="",e.parentElement.classList.add("hidden"),document.body.removeEventListener("keydown",c.deleteButtonHandler),document.body.removeEventListener("keydown",v)}function g(){const e=document.getElementById("delete");e.removeEventListener("click",c.removeHandler),e.addEventListener("click",c.removeHandler),document.body.addEventListener("keydown",c.deleteButtonHandler),document.body.addEventListener("keydown",v);try{document.getElementById("mergeSyls").addEventListener("click",()=>{m("group","neume",w().filter(e=>document.getElementById(e).classList.contains("neume")))})}catch(e){}try{document.getElementById("groupNeumes").addEventListener("click",()=>{m("group","neume",b())})}catch(e){}try{document.getElementById("groupNcs").addEventListener("click",()=>{m("group","nc",b())})}catch(e){}try{document.getElementById("ungroupNeumes").addEventListener("click",()=>{m("ungroup","neume",w())})}catch(e){}try{document.getElementById("ungroupNcs").addEventListener("click",()=>{m("ungroup","nc",w())})}catch(e){}try{document.getElementById("toggle-ligature").addEventListener("click",async()=>{const e={action:"toggleLigature",param:{elementIds:b()}};l.edit(e,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Ligature Toggled","success"):s.queueNotification("Ligature Toggle Failed","error"),p(),l.updateForCurrentPage()})})}catch(e){}try{document.getElementById("toggle-link").addEventListener("click",()=>{y()})}catch(e){}}t.initNeonView=function(e){l=e},t.isGroupable=u,t.isLinked=d,t.isLinkable=h,t.mergeStaves=f,t.triggerGrouping=function(e){const t=document.getElementById("moreEdit");t.parentElement.classList.remove("hidden"),t.innerHTML+=i.groupingMenu[e],g()},t.endGroupingSelection=p,t.initGroupingListeners=g;const v=function(e){if("g"===e.key){const e=Array.from(document.querySelectorAll(".selected"));if(0==e.length)return;const t=o.getSelectionType();switch(t){case"selBySyllable":if(h(t,e))y();else if(u(t,e)){m("group","neume",w().filter(e=>document.getElementById(e).classList.contains("neume")))}else if(1===e.length){m("ungroup","neume",w())}break;case"selByNeume":if(u(t,e)){m("group","neume",b())}else{m("ungroup","nc",w())}break;case"selByNc":if(u(t,e)){m("group","nc",b())}else{m("ungroup","nc",w())}break;case"selByStaff":u(t,e)?f():a.triggerStaffSplitMode();break;default:return void console.error(`Can't perform grouping/ungrouping action on selection type ${t}.`)}}};function m(e,t,n){const i={action:e,param:{groupType:t,elementIds:n}};l.edit(i,l.view.getCurrentPageURI()).then(i=>{if(i?"group"===e?s.queueNotification("Grouping Success","success"):s.queueNotification("Ungrouping Success","success"):"group"===e?s.queueNotification("Grouping Failed","error"):s.queueNotification("Ungrouping Failed","error"),l.updateForCurrentPage(),"nc"===t){const e=document.getElementById(n[0]).parentElement,t=Array.from(e.children);void 0===l.info.getContour(t)&&r.groupingNotRecognized()}p()})}function y(){const e=b(),t={action:"chain",param:[]},n=new Array;if(document.getElementById(e[0]).getAttribute("mei:precedes"))n.push({action:"set",param:{elementId:e[0],attrType:"precedes",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"follows",attrValue:""}}),n.push({action:"setText",param:{elementId:e[1],text:""}});else if(document.getElementById(e[0]).getAttribute("mei:follows"))n.push({action:"set",param:{elementId:e[0],attrType:"follows",attrValue:""}}),n.push({action:"set",param:{elementId:e[1],attrType:"precedes",attrValue:""}}),n.push({action:"setText",param:{elementId:e[0],text:""}});else{const t=document.getElementById(e[0]),i=document.getElementById(e[1]),r=t.closest(".staff"),s=i.closest(".staff"),o=Array.from(r.parentElement.children).filter(e=>e.classList.contains("staff"));let a,c;o.indexOf(r)<o.indexOf(s)?(a=t,c=i):(a=i,c=t),n.push({action:"set",param:{elementId:a.id,attrType:"precedes",attrValue:"#"+c.id}}),n.push({action:"set",param:{elementId:c.id,attrType:"follows",attrValue:"#"+a.id}});const l=c.querySelector(".syl");null!==l&&n.push({action:"remove",param:{elementId:l.id}})}t.param=n,l.edit(t,l.view.getCurrentPageURI()).then(e=>{e?s.queueNotification("Toggled Syllable Link"):s.queueNotification("Failed to Toggle Syllable Link"),p(),l.updateForCurrentPage()})}function b(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{e.push(t.id)}),e}function w(){const e=[];return Array.from(document.getElementsByClassName("selected")).forEach(t=>{if(t.classList.contains("divLine")||t.classList.contains("accid")||t.classList.contains("clef"))return;Array.from(t.children).forEach(t=>{e.push(t.id)})}),e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.resize=void 0;const i=n(3),r=n(8),s=n(12),o=n(4),a={TopLeft:0,Top:1,TopRight:2,Right:3,BottomRight:4,Bottom:5,BottomLeft:6,Left:7};function c(e,t,n,i,r){let s;if(r>=0)s=[{x:e,y:t,name:a.TopLeft},{x:(e+n)/2,y:t+(n-e)/2*Math.sin(r),name:a.Top},{x:n,y:t+(n-e)*Math.sin(r),name:a.TopRight},{x:n,y:(t+i+(n-e)*Math.sin(r))/2,name:a.Right},{x:n,y:i,name:a.BottomRight},{x:(e+n)/2,y:i-(n-e)/2*Math.sin(r),name:a.Bottom},{x:e,y:i-(n-e)*Math.sin(r),name:a.BottomLeft},{x:e,y:(t+i-(n-e)*Math.sin(r))/2,name:a.Left}];else{const o=(n-e)*Math.tan(Math.abs(r)),c=i-t-o;s=[{x:e,y:t+o,name:a.TopLeft},{x:(e+n)/2,y:t+o/2,name:a.Top},{x:n,y:t,name:a.TopRight},{x:n,y:t+c/2,name:a.Right},{x:n,y:t+c,name:a.BottomRight},{x:(e+n)/2,y:i-o/2,name:a.Bottom},{x:e,y:i,name:a.BottomLeft},{x:e,y:i-c/2,name:a.Left}]}return s}t.resize=function(e,t,n){let l,u,d,h,f,p,g,v,m,y,b,w,_,E,S;function x(){const e=c(l,u,d,h,f),t=e.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");document.querySelector("#resizeRect").setAttribute("points",t);const n=document.querySelector(".syl.selected > .sylTextRect-display");n&&(n.setAttribute("x",String(Math.min(l,d))),n.setAttribute("y",String(Math.min(u,h))),n.setAttribute("width",String(Math.abs(d-l))),n.setAttribute("height",String(Math.abs(h-u))));for(const t in a){const n=e[a[t]];r.select("#p-"+t).filter(".resizePoint").attr("cx",n.x).attr("cy",n.y)}let i=e[3].x,s=e[3].y;const o=i+100+","+(s+85)+" "+(i+70)+","+(s+50)+" "+(i+100)+","+(s+15)+" "+(i+130)+","+(s+50);i=e[7].x,s=e[7].y;const p=i-100+","+(s-15)+" "+(i-130)+","+(s-50)+" "+(i-100)+","+(s-85)+" "+(i-70)+","+(s-50);r.select("#rotateLeft").attr("points",p),r.select("#rotateRight").attr("points",o)}!function L(){if(null===e)return;if(e.classList.contains("syl")){const t=e.querySelector(".sylTextRect-display");if(null===t)return void console.warn("Tried to draw resize rect for a sylTextRect that doesn't exist (or isn't displaying)");l=Number(t.getAttribute("x")),u=Number(t.getAttribute("y")),d=+l+ +t.getAttribute("width"),h=+u+ +t.getAttribute("height"),f=0}if(e.classList.contains("staff")){const t=(0,i.getStaffBBox)(e);l=t.ulx,u=t.uly,d=t.lrx,h=t.lry;const n=e.querySelector("path").getAttribute("d").match(/\d+/g).map(e=>Number(e));f=Math.atan((n[3]-n[1])/(n[2]-n[0]))}let k;p=l,m=u,g=d,y=h;const A=c(l,u,d,h,f);_=A[2].x-A[0].x;const C=A.filter((e,t)=>t%2==0).map(e=>e.x+","+e.y).join(" ");r.select("#"+e.id).append("polygon").attr("points",C).attr("id","resizeRect").attr("stroke","black").attr("stroke-width",10).attr("fill","none").style("cursor","move").style("stroke-dasharray","20 10");for(const t in a){const n=A[a[t]];r.select(e.viewportElement).append("circle").attr("cx",n.x).attr("cy",n.y).attr("r",25).attr("stroke","black").attr("stroke-width",4).attr("fill","#0099ff").attr("class","resizePoint").attr("id","p-"+t)}for(const e in a)r.select("#p-"+e).filter(".resizePoint").call(r.drag().on("start",()=>{I(e)}).on("drag",P).on("end",O.bind(this)));if(e.classList.contains("staff")){let t=A[3].x,n=A[3].y;const i=t+100+","+(n+85)+" "+(t+70)+","+(n+50)+" "+(t+100)+","+(n+15)+" "+(t+130)+","+(n+50);t=A[7].x,n=A[7].y;const s=t-100+","+(n-15)+" "+(t-130)+","+(n-50)+" "+(t-100)+","+(n-85)+" "+(t-70)+","+(n-50);r.select("#"+e.id).append("polygon").attr("points",i).attr("id","rotateRight").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#"+e.id).append("polygon").attr("points",s).attr("id","rotateLeft").attr("stroke","black").attr("stroke-width",7).attr("fill","#0099ff").attr("class","rotatePoint"),r.select("#rotateLeft").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-b,t=S-Math.atan(e/_);t>-.2&&t<.2&&(E=e,u=w+E,f=t,f>=0?(u=E+A.filter(e=>e.name===a.TopLeft)[0].y,h=A.filter(e=>e.name===a.BottomRight)[0].y):(u=A.filter(e=>e.name===a.TopRight)[0].y,h=E+A.filter(e=>e.name===a.BottomLeft)[0].y));x()})).on("end",T)),r.select("#rotateRight").call(r.drag().on("start",B).on("drag",(function(){const e=r.mouse(this)[1]-b,t=S+Math.atan(e/_);t>-.2&&t<.2&&(E=e,f=t,f>=0?(h=E+A.filter(e=>e.name===a.BottomRight)[0].y,u=A.filter(e=>e.name===a.TopLeft)[0].y):(u=E+A.filter(e=>e.name===a.TopRight)[0].y,h=A.filter(e=>e.name===a.BottomLeft)[0].y));x()})).on("end",T))}function I(e){k=e;const t=A.find(t=>t.name===a[e]);v=[t.x,t.y],m=u,y=h}function P(){const e=r.mouse(this);switch(a[k]){case a.TopLeft:l=e[0],u=e[1];break;case a.Top:u=e[1]-(d-l)*Math.tan(f)/2;break;case a.TopRight:d=e[0],u=e[1]-(d-l)*Math.tan(f);break;case a.Right:d=e[0],h=y+(e[0]-v[0])*Math.tan(f);break;case a.BottomRight:d=e[0],h=e[1];break;case a.Bottom:h=e[1]+(d-l)*Math.tan(f)/2;break;case a.BottomLeft:l=e[0],h=e[1]+(d-l)*Math.tan(f);break;case a.Left:l=e[0],u=m+(e[0]-v[0])*Math.tan(f);break;default:console.error("Something that wasn't a side of the rectangle was dragged. This shouldn't happen.")}x()}function O(){if((0,s.isOutOfSVGBounds)(l,u)||(0,s.isOutOfSVGBounds)(d,h))return l=p,u=m,d=g,h=y,x(),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Resize action failed.","error");const a={action:"resize",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:h}};t.edit(a,t.view.getCurrentPageURI()).then(async s=>{if(s&&await t.updateForCurrentPage(),e=document.querySelector("#"+e.id),l=void 0,u=void 0,d=void 0,h=void 0,r.selectAll(".resizePoint").remove(),r.selectAll("#resizeRect").remove(),r.selectAll(".rotatePoint").remove(),L(),e.classList.contains("syl"))(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this);else{(0,i.selectAll)([document.querySelector("#"+e.id)],t,n);const r=document.querySelector("moreEdit");r&&(r.innerHTML="",r.parentElement.classList.add("hidden"))}})}function B(){const e=r.event.sourceEvent.target.id;b=r.mouse(this)[1],y=h,m=u,w="rotateRight"===e?h:u,S=f}function T(){if(void 0===E&&(E=0),(0,s.isOutOfSVGBounds)(l,u)||(0,s.isOutOfSVGBounds)(d,h))return document.querySelectorAll(".resizePoint").forEach(e=>e.remove()),document.querySelectorAll("#resizeRect").forEach(e=>e.remove()),document.querySelectorAll(".rotatePoint").forEach(e=>e.remove()),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,h=void 0,E=void 0,L(),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n),(0,o.queueNotification)("[FAIL] Glyphs were placed out of bounds! Rotate action failed.","error");const r={action:"resizeRotate",param:{elementId:e.id,ulx:l,uly:u,lrx:d,lry:h,rotate:180*f/Math.PI}};t.edit(r,t.view.getCurrentPageURI()).then(async r=>{r&&await t.updateForCurrentPage(),e=document.getElementById(e.id),l=void 0,u=void 0,d=void 0,h=void 0,E=void 0,L(),(0,i.selectAll)([e],t,n),e.classList.contains("syl")?(0,i.selectBBox)(e.querySelector(".sylTextRect-display"),n,this):(0,i.selectStaff)(e,n)})}}()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dragSelect=t.clickSelect=t.setSelectHelperObjects=t.setSelectStrokeWidth=void 0;const i=n(3),r=n(25),s=n(8),o=n(12);let a,c,l,u,d=7;function h(e){"Escape"===e.key&&(document.getElementsByClassName("selected").length>0&&l.infoListeners(),(0,i.unselect)())}function f(e){if("selByBBox"!==(0,i.getSelectionType)()||!document.getElementById("displayText").checked||"Enter"!==e.key)return;const t=document.querySelector(".syllable-highlighted");if(t){document.querySelector("span."+t.id).click()}}function p(e){if("selByBBox"!==(0,i.getSelectionType)()||"ArrowLeft"!==e.key&&"ArrowRight"!==e.key)return;const t=document.querySelector(".syllable-highlighted"),n=Array.from(document.querySelectorAll(".syllable")).filter(e=>null!==e.querySelector(".sylTextRect-display")),r=n.indexOf(t);if("ArrowLeft"===e.key&&r>0){(0,i.unselect)();const e=n[r-1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}else if("ArrowRight"===e.key&&r<n.length-1){(0,i.unselect)();const e=n[r+1].querySelector(".sylTextRect-display");(0,i.selectAll)([e],c,a)}}function g(){const e=document.getElementById("selByBBox");return!!e&&e.classList.contains("is-active")}function v(e){e.stopPropagation()}function m(e,t,n){if(g()||"use"===e.tagName){const r=function(e){if(g()){const t=Number(e.getAttribute("x")),n=Number(e.getAttribute("y"));return{ulx:t,uly:n,lrx:t+Number(e.getAttribute("width").slice(0,-2)),lry:n+Number(e.getAttribute("height").slice(0,-2))}}if("use"===e.tagName){const t=e.parentNode.getBBox();return{ulx:t.x,uly:t.y,lrx:t.x+t.width,lry:t.y+t.height}}return(0,i.getStaffBBox)(e)}(e);return!(n.x<r.ulx||t.x>r.lrx||n.y<r.uly||t.y>r.lry)}const r=(0,i.getStaffBBox)(e);return!(t.x<r.ulx&&n.x<r.ulx||t.x>r.lrx&&n.x>r.lrx||t.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)&&n.y<r.uly+Math.abs(r.ulx-t.x)*Math.tan(r.rotate)||t.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate)&&n.y>r.lry+Math.abs(r.lry-n.y)*Math.tan(r.rotate))}function y(e){if(c&&"insert"!==c.getUserMode()&&!e.shiftKey)if("use"===this.tagName&&"selByBBox"!==(0,i.getSelectionType)()){if(null===this.closest(".selected")){let e=[this];const n=/E9B[45678]/,r=/E9B[9ABC]/;if(this.getAttribute("xlink:href").match(r)){const t=this.closest(".nc"),i=this.closest(".neume"),r=Array.from(i.children).indexOf(t),s=i.children[r-1].children[0];console.assert(s.getAttribute("xlink:href").match(n),"First glyph of ligature unexpected!"),null===s.closest(".selected")&&e.unshift(s)}else if(this.getAttribute("xlink:href").match(n)){const t=this.closest(".nc"),n=this.closest(".neume"),i=Array.from(n.children).indexOf(t),s=n.children[i+1].children[0];console.assert(s.getAttribute("xlink:href").match(r),"Second glyph of ligature unexpected!"),null===s.closest(".selected")&&e.push(s)}t()&&(e=e.concat(Array.from(document.querySelectorAll(".selected")))),(0,i.selectAll)(e,c,a),a&&a.dragInit()}else if(t()){const e={selByStaff:".staff",selByNeume:".neume",selByNc:".nc",selByLayerElement:".accid"}[document.querySelector(".sel-by .is-active").id]||".syllable",t=[this.closest(e)];let n=[];n=Array.from(document.getElementsByClassName("selected")),n=n.filter(e=>!t.includes(e)),(0,i.selectAll)(n,c,a),a&&a.dragInit()}}else if("rect"===e.target.tagName&&"selByBBox"===(0,i.getSelectionType)())if(null===this.closest(".selected")){let n=[e.target];t()&&(n=n.concat(Array.from(document.getElementsByClassName("selected"))),n=n.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display"))),(0,i.selectAll)(n,c,a),a&&a.dragInit()}else{let e=[];if(t()){const t=[this];e=Array.from(document.getElementsByClassName("selected")),e=e.map(e=>"rect"==e.tagName?e:e.querySelector(".sylTextRect-Display")),e=e.filter(e=>!t.includes(e)),(0,i.selectAll)(e,c,a),a&&a.dragInit()}}else{if("selByStaff"!==(0,i.getSelectionType)())return void l.infoListeners();t()||(0,i.unselect)();const n=(0,o.getStaffByCoords)(e.clientX,e.clientY);if(!n)return;n.classList.contains("selected")||((0,i.selectStaff)(n,a),(0,r.resize)(n,c,a),a&&a.dragInit()),n.dispatchEvent(new MouseEvent("mousedown",{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,altKey:e.altKey,metaKey:e.metaKey,view:e.view}))}function t(){return window.navigator.userAgent.match(/Mac/)?e.metaKey:e.ctrlKey}}t.setSelectStrokeWidth=function(e){d=e},t.setSelectHelperObjects=function(e,t){a=t,c=e,l=c.info,u=c.view.zoomHandler},t.clickSelect=function(e){document.querySelectorAll(e).forEach(e=>{e.removeEventListener("mousedown",y),e.addEventListener("mousedown",y)}),document.body.removeEventListener("keydown",h),document.body.addEventListener("keydown",h),document.body.removeEventListener("keydown",f),document.body.addEventListener("keydown",f),document.body.removeEventListener("keydown",p),document.body.addEventListener("keydown",p),document.getElementById("container").addEventListener("contextmenu",e=>{e.preventDefault()}),document.querySelectorAll("use,rect,#moreEdit").forEach(e=>{e.removeEventListener("click",v),e.addEventListener("click",v)})},t.dragSelect=function(e){let t=0,n=0,r=!1,o=!1;const l=s.select(e);s.selectAll(e.replace(".active-page","").trim()).on(".drag",null);const h=s.drag().on("start",(function(){if(!c)return;const e=c.getUserMode();if("use"!==s.event.sourceEvent.target.nodeName&&"insert"!==e&&"rect"!==s.event.sourceEvent.target.nodeName){if(s.event.sourceEvent.shiftKey)r=!0,void 0!==u&&u.startDrag();else if(!document.getElementById("selByStaff").classList.contains("is-active")||(f=s.mouse(this),0===Array.from(document.getElementsByClassName("staff")).filter(e=>{const t=(0,i.getStaffBBox)(e),n=t.ulx,r=t.uly,s=t.lrx,o=t.lry,a=t.rotate;return f[0]>n&&f[0]<s&&f[1]>r+(f[0]-n)*Math.tan(a)&&f[1]<o-(s-f[0])*Math.tan(a)}).length)){(0,i.unselect)(),o=!0;const e=s.mouse(this);t=e[0],n=e[1],a=t,h=n,l.append("rect").attr("x",a).attr("y",h).attr("width",0).attr("height",0).attr("id","selectRect").attr("stroke","black").attr("stroke-width",d).attr("fill","none")}}else s.event.sourceEvent.shiftKey&&(r=!0,void 0!==u&&u.startDrag());var a,h,f})).on("drag",(function(){if(!r&&o){const e=s.mouse(this),i=e[0],r=e[1];!function(e,t,n,i){s.select("#selectRect").attr("x",e).attr("y",t).attr("width",n).attr("height",i)}(i<t?i:t,r<n?r:n,i<t?t-i:i-t,r<n?n-r:r-n)}else r&&void 0!==u&&u.dragging()})).on("end",(function(){if(!r&&o){const t=document.getElementById("selectRect"),n=parseInt(t.getAttribute("x")),r=parseInt(t.getAttribute("y")),u=n+parseInt(t.getAttribute("width")),d=r+parseInt(t.getAttribute("height")),h=l.node();let f=new DOMPoint(n,r),p=new DOMPoint(u,d);const v=h.getScreenCTM().inverse().multiply(l.select(".system").node().getScreenCTM()).inverse();f=f.matrixTransform(v),p=p.matrixTransform(v);const y=function(e){return document.getElementById("selByStaff").classList.contains("is-active")?Array.from(document.querySelectorAll(e+" use, "+e+" .staff")):g()?Array.from(document.querySelectorAll(e+" .sylTextRect-display")):Array.from(document.querySelectorAll(e+" use"))}(e).filter(e=>m(e,f,p));y.forEach(e=>{if("use"===e.tagName&&e.getAttribute("xlink:href").match(/E9B[456789ABC]/)){const t=e.closest(".neume"),n=Array.from(t.children).indexOf(e.closest(".nc"));if(e.getAttribute("xlink:href").match(/E9B[45678]/)){const e=t.children[n+1].querySelector("use");y.indexOf(e)<0&&y.push(e)}else{const e=t.children[n-1].querySelector("use");y.indexOf(e)<0&&y.push(e)}}}),(0,i.selectAll)(y,c,a),a&&a.dragInit(),s.selectAll("#selectRect").remove(),o=!1}r=!1}));l.call(h),a&&a.resetTo(h)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initDisplayListener=t.initErrorLogControls=t.initErrorLog=t.recordNotification=void 0;const i=n(7),r=n(6);function s(){const e=document.querySelector("#error_log"),t=document.querySelector("#errorLogHeading"),n=t.querySelector("svg > use"),i=document.querySelector("#errorLogContents"),{displayErrLog:s}=(0,r.getSettings)();s&&e.classList.add("visible"),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),n.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),o()}function o(){const e=document.querySelector("#error_log"),t=document.querySelector("#display-single-container"),n=document.createElement("label"),i=document.createElement("input");i.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Errors",i.id="display-errors",i.type="checkbox",i.checked=!1,n.appendChild(i),t.append(n);const{displayErrLog:s}=(0,r.getSettings)();s&&(i.checked=!0),i.addEventListener("click",()=>{const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),s=document.getElementById("displayBBox"),o=document.getElementById("displayText"),a=document.getElementById("display-errors");i.checked?(e.classList.add("visible"),(0,r.setSettings)({displayErrLog:!0}),(null==n?void 0:n.checked)&&(null==s?void 0:s.checked)&&(null==o?void 0:o.checked)&&(null==a?void 0:a.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.classList.remove("visible"),(0,r.setSettings)({displayErrLog:!1}),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))})}t.recordNotification=function(e){document.querySelector("#errorLogContents").prepend(function(e){const t=document.createElement("div");t.classList.add("notification-container"),t.innerHTML=`\n    <div class="notification-wrapper">\n\n      <div>\n        <div class="log-main">${e.message}</div>\n        <div class="log-extra"></div>\n      </div>\n\n    </div>\n\n    <div class="remove-notif-icon-wrapper">\n      <img class="log-remove remove-notif-icon" src="/Neon/Neon-gh//assets/img/garbage-closed.svg">\n    </div>\n  `;const n=t.querySelector(".log-remove");return n.onclick=()=>t.remove(),n.addEventListener("mouseover",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-open.svg")}),n.addEventListener("mouseout",()=>{n.setAttribute("src","/Neon/Neon-gh//assets/img/garbage-closed.svg")}),t}(e))},t.initErrorLog=function(){document.querySelector("#error_log").innerHTML=i.errorLogsPanelContents,s()},t.initErrorLogControls=s,t.initDisplayListener=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateSelectedBBox=void 0;const i=n(3),r=n(18),s=n(26),o=n(15),a=n(17);function c(){if(!document.getElementById("selByBBox").classList.contains("is-active")){(0,i.unselect)();try{document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden")}catch(e){}document.getElementById("selByBBox").classList.add("is-active");try{document.getElementById("selByNc").classList.remove("is-active"),document.getElementById("selByNeume").classList.remove("is-active"),document.getElementById("selByStaff").classList.remove("is-active"),document.getElementById("selBySyllable").classList.remove("is-active"),document.getElementById("selByLayerElement").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,o.setGroupingHighlight)("syllable")}catch(e){}}this.addBBoxListeners()}function l(e,t,n){(0,i.unselect)();const r=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(r)){const e=document.getElementById(r).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,t,n)}}t.updateSelectedBBox=l;t.default=class{constructor(e){this.neonView=e,this.initTextEdit()}updateSelectedBBox(e){(0,i.unselect)();const t=Array.from(e.classList).find(e=>"text-select"!==e&&"selected-to-edit"!==e);if(document.getElementById("displayBBox").checked&&document.getElementById(t)){const e=document.getElementById(t).querySelector(".sylTextRect-display");(0,i.selectBBox)(e,this.dragHandler,this.neonView)}}initTextEdit(){const e=document.getElementById("syl_text").querySelectorAll("span"),t=this.neonView.modal;e.forEach(e=>{function n(){e.classList.add("selected-to-edit"),t.setModalWindowView(a.ModalWindowView.EDIT_TEXT),t.openModalWindow(),l(e,this.dragHandler,this.neonView)}e.removeEventListener("click",n),e.addEventListener("click",n)})}initSelectByBBoxButton(){if(void 0!==this.neonView.NeumeEdit){const e=document.getElementById("selByBBox");if(e)return void(e.style.display="");const t=document.getElementById("selection-mode-btns-container"),n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),n.addEventListener("click",c.bind(this)),document.body.addEventListener("keydown",e=>{"6"===e.key&&""===document.getElementById("selByBBox").style.display&&c.bind(this)()}),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}else{const e=document.getElementById("undo").closest(".control"),t=document.createElement("p");t.classList.add("control");const n=document.createElement("button");n.classList.add("side-panel-btn","sel-by"),n.id="selByBBox",n.textContent="BBox",t.appendChild(n),e.appendChild(t),n.classList.add("is-active"),n.style.display="none",this.addBBoxListeners(),this.neonView.view.addUpdateCallback(this.addBBoxListeners.bind(this))}}addBBoxListeners(){document.getElementById("selByBBox").classList.contains("is-active")&&((0,i.unselect)(),void 0===this.neonView.NeumeEdit&&(this.dragHandler=new r.default(this.neonView,".sylTextRect-display"),(0,s.setSelectHelperObjects)(this.neonView,this.dragHandler),"SingleView"===this.neonView.view.constructor.name?((0,s.clickSelect)("#mei_output, #mei_output rect"),(0,s.dragSelect)("#svg_group")):((0,s.clickSelect)(".active-page > svg > svg, .active-page > svg > svg rect"),(0,s.dragSelect)(".active-page svg"))))}}},function(e,t,n){"use strict";n.r(t),function(e){var i,r,s=n(2),o=n.n(s),a=n(22),c=n(14),l=n.n(c),u=n(21),d=n.n(u),h=n(5),f=n.n(h),p=n(1),g=n.n(p),v=n(0),m=n.n(v);function y(e){return"$"+e}function b(e){return e.substring(1)}function w(){this._store={}}function _(e){if(this._store=new w,e&&Array.isArray(e))for(var t=0,n=e.length;t<n;t++)this.add(e[t])}function E(e){if(e instanceof ArrayBuffer)return function(e){if("function"==typeof e.slice)return e.slice(0);var t=new ArrayBuffer(e.byteLength),n=new Uint8Array(t),i=new Uint8Array(e);return n.set(i),t}(e);var t=e.size,n=e.type;return"function"==typeof e.slice?e.slice(0,t,n):e.webkitSlice(0,t,n)}w.prototype.get=function(e){var t=y(e);return this._store[t]},w.prototype.set=function(e,t){var n=y(e);return this._store[n]=t,!0},w.prototype.has=function(e){return y(e)in this._store},w.prototype.keys=function(){return Object.keys(this._store).map(e=>b(e))},w.prototype.delete=function(e){var t=y(e),n=t in this._store;return delete this._store[t],n},w.prototype.forEach=function(e){for(var t=Object.keys(this._store),n=0,i=t.length;n<i;n++){var r=t[n];e(this._store[r],r=b(r))}},Object.defineProperty(w.prototype,"size",{get:function(){return Object.keys(this._store).length}}),_.prototype.add=function(e){return this._store.set(e,!0)},_.prototype.has=function(e){return this._store.has(e)},_.prototype.forEach=function(e){this._store.forEach((function(t,n){e(n)}))},Object.defineProperty(_.prototype,"size",{get:function(){return this._store.size}}),!function(){if("undefined"==typeof Symbol||"undefined"==typeof Map||"undefined"==typeof Set)return!1;var e=Object.getOwnPropertyDescriptor(Map,Symbol.species);return e&&"get"in e&&Map[Symbol.species]===Map}()?(i=_,r=w):(i=Set,r=Map);var S=Function.prototype.toString,x=S.call(Object);function L(e){var t,n,i;if(!e||"object"!=typeof e)return e;if(Array.isArray(e)){for(t=[],n=0,i=e.length;n<i;n++)t[n]=L(e[n]);return t}if(e instanceof Date&&isFinite(e))return e.toISOString();if(function(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer||"undefined"!=typeof Blob&&e instanceof Blob}(e))return E(e);if(!function(e){var t=Object.getPrototypeOf(e);if(null===t)return!0;var n=t.constructor;return"function"==typeof n&&n instanceof n&&S.call(n)==x}(e))return e;for(n in t={},e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=L(e[n]);void 0!==r&&(t[n]=r)}return t}function k(e){var t=!1;return f()((function(n){if(t)throw new Error("once called more than once");t=!0,e.apply(this,n)}))}function A(e){return f()((function(t){t=L(t);var n=this,i="function"==typeof t[t.length-1]&&t.pop(),r=new Promise((function(i,r){var s;try{var o=k((function(e,t){e?r(e):i(t)}));t.push(o),(s=e.apply(n,t))&&"function"==typeof s.then&&i(s)}catch(e){r(e)}}));return i&&r.then((function(e){i(null,e)}),i),r}))}function C(e,t){return A(f()((function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return function(e,t,n){if(e.constructor.listeners("debug").length){for(var i=["api",e.name,t],r=0;r<n.length-1;r++)i.push(n[r]);e.constructor.emit("debug",i);var s=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",e.name,t];r=r.concat(n?["error",n]:["success",i]),e.constructor.emit("debug",r),s(n,i)}}}(i,e,n),this.taskqueue.isReady?t.apply(this,n):new Promise((function(t,r){i.taskqueue.addTask((function(s){s?r(s):t(i[e].apply(i,n))}))}))})))}function I(e,t){for(var n={},i=0,r=t.length;i<r;i++){var s=t[i];s in e&&(n[s]=e[s])}return n}var P;function O(e){return e}function B(e){return[{ok:e}]}function T(e,t,n){var i=t.docs,s=new r;i.forEach((function(e){s.has(e.id)?s.get(e.id).push(e):s.set(e.id,[e])}));var o=s.size,a=0,c=new Array(o);function l(){var e;++a===o&&(e=[],c.forEach((function(t){t.docs.forEach((function(n){e.push({id:t.id,docs:[n]})}))})),n(null,{results:e}))}var u=[];s.forEach((function(e,t){u.push(t)}));var d=0;function h(){if(!(d>=u.length)){var n=Math.min(d+6,u.length),i=u.slice(d,n);!function(n,i){n.forEach((function(n,r){var o=i+r,a=s.get(n),u=I(a[0],["atts_since","attachments"]);u.open_revs=a.map((function(e){return e.rev})),u.open_revs=u.open_revs.filter(O);var d=O;0===u.open_revs.length&&(delete u.open_revs,d=B),["revs","attachments","binary","ajax","latest"].forEach((function(e){e in t&&(u[e]=t[e])})),e.get(n,u,(function(e,t){var i,r,s;i=e?[{error:e}]:d(t),r=n,s=i,c[o]={id:r,docs:s},l(),h()}))}))}(i,d),d+=i.length}}h()}try{localStorage.setItem("_pouch_check_localstorage",1),P=!!localStorage.getItem("_pouch_check_localstorage")}catch(e){P=!1}function N(){return P}function M(){m.a.call(this),this._listeners={},function(e){N()&&addEventListener("storage",(function(t){e.emit(t.key)}))}(this)}function q(e){if("undefined"!=typeof console&&"function"==typeof console[e]){var t=Array.prototype.slice.call(arguments,1);console[e].apply(console,t)}}function j(e){var t=0;return e||(t=2e3),function(e,t){return e=parseInt(e,10)||0,(t=parseInt(t,10))!=t||t<=e?t=(e||1)<<1:t+=1,t>6e5&&(e=3e5,t=6e5),~~((t-e)*Math.random()+e)}(e,t)}function D(e,t){q("info","The above "+e+" is totally normal. "+t)}g()(M,m.a),M.prototype.addListener=function(e,t,n,i){if(!this._listeners[t]){var r=this,s=!1;this._listeners[t]=a,this.on(e,a)}function a(){if(r._listeners[t])if(s)s="waiting";else{s=!0;var e=I(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(e).on("change",(function(e){e.seq>i.since&&!i.cancelled&&(i.since=e.seq,i.onChange(e))})).on("complete",(function(){"waiting"===s&&o()(a),s=!1})).on("error",(function(){s=!1}))}}},M.prototype.removeListener=function(e,t){t in this._listeners&&(m.a.prototype.removeListener.call(this,e,this._listeners[t]),delete this._listeners[t])},M.prototype.notifyLocalWindows=function(e){N()&&(localStorage[e]="a"===localStorage[e]?"b":"a")},M.prototype.notify=function(e){this.emit(e),this.notifyLocalWindows(e)};var F="function"==typeof Object.assign?Object.assign:function(e){for(var t=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(t[r]=i[r])}return t};function R(e,t,n){Error.call(this,n),this.status=e,this.name=t,this.message=n,this.error=!0}g()(R,Error),R.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new R(401,"unauthorized","Name or password is incorrect.");var V=new R(400,"bad_request","Missing JSON list of 'docs'"),z=new R(404,"not_found","missing"),H=new R(409,"conflict","Document update conflict"),U=new R(400,"bad_request","_id field must contain a string"),$=new R(412,"missing_id","_id is required for puts"),Z=new R(400,"bad_request","Only reserved document ids may start with underscore."),G=(new R(412,"precondition_failed","Database not open"),new R(500,"unknown_error","Database encountered an unknown error")),W=new R(500,"badarg","Some query argument is invalid"),K=(new R(400,"invalid_request","Request was invalid"),new R(400,"query_parse_error","Some query parameter is invalid")),Y=new R(500,"doc_validation","Bad special document member"),X=new R(400,"bad_request","Something wrong with the request"),J=new R(400,"bad_request","Document must be a JSON object"),Q=(new R(404,"not_found","Database not found"),new R(500,"indexed_db_went_bad","unknown")),ee=(new R(500,"web_sql_went_bad","unknown"),new R(500,"levelDB_went_went_bad","unknown"),new R(403,"forbidden","Forbidden by design doc validate_doc_update function"),new R(400,"bad_request","Invalid rev format")),te=(new R(412,"file_exists","The database could not be created, the file already exists."),new R(412,"missing_stub","A pre-existing attachment stub wasn't found"));new R(413,"invalid_url","Provided URL is invalid");function ne(e,t){function n(t){for(var n=Object.getOwnPropertyNames(e),i=0,r=n.length;i<r;i++)"function"!=typeof e[n[i]]&&(this[n[i]]=e[n[i]]);void 0===this.stack&&(this.stack=(new Error).stack),void 0!==t&&(this.reason=t)}return n.prototype=R.prototype,new n(t)}function ie(e){if("object"!=typeof e){var t=e;(e=G).data=t}return"error"in e&&"conflict"===e.error&&(e.name="conflict",e.status=409),"name"in e||(e.name=e.error||"unknown"),"status"in e||(e.status=500),"message"in e||(e.message=e.message||e.reason),"stack"in e||(e.stack=(new Error).stack),e}function re(e){var t={},n=e.filter&&"function"==typeof e.filter;return t.query=e.query_params,function(i){i.doc||(i.doc={});var r=n&&function(e,t,n){try{return!e(t,n)}catch(e){var i="Filter function threw: "+e.toString();return ne(X,i)}}(e.filter,i.doc,t);if("object"==typeof r)return r;if(r)return!1;if(e.include_docs){if(!e.attachments)for(var s in i.doc._attachments)Object.prototype.hasOwnProperty.call(i.doc._attachments,s)&&(i.doc._attachments[s].stub=!0)}else delete i.doc;return!0}}function se(e){for(var t=[],n=0,i=e.length;n<i;n++)t=t.concat(e[n]);return t}function oe(e){var t;if(e?"string"!=typeof e?t=ne(U):/^_/.test(e)&&!/^_(design|local)/.test(e)&&(t=ne(Z)):t=ne($),t)throw t}function ae(e){return"boolean"==typeof e._remote?e._remote:"function"==typeof e.type&&(q("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===e.type())}function ce(e){if(!e)return null;var t=e.split("/");return 2===t.length?t:1===t.length?[e,e]:null}function le(e){var t=ce(e);return t?t.join("/"):null}var ue=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],de=/(?:^|&)([^&=]*)=?([^&]*)/g,he=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function fe(e){for(var t=he.exec(e),n={},i=14;i--;){var r=ue[i],s=t[i]||"",o=-1!==["user","password"].indexOf(r);n[r]=o?decodeURIComponent(s):s}return n.queryKey={},n[ue[12]].replace(de,(function(e,t,i){t&&(n.queryKey[t]=i)})),n}function pe(e,t){var n=[],i=[];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n.push(r),i.push(t[r]));return n.push(e),Function.apply(null,n).apply(null,i)}function ge(e,t,n){return e.get(t).catch((function(e){if(404!==e.status)throw e;return{}})).then((function(i){var r=i._rev,s=n(i);return s?(s._id=t,s._rev=r,function(e,t,n){return e.put(t).then((function(e){return{updated:!0,rev:e.rev}}),(function(i){if(409!==i.status)throw i;return ge(e,t._id,n)}))}(e,s,n)):{updated:!1,rev:r}}))}var ve=function(e){return atob(e)},me=function(e){return btoa(e)};function ye(e,t){e=e||[],t=t||{};try{return new Blob(e,t)}catch(r){if("TypeError"!==r.name)throw r;for(var n=new("undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof MSBlobBuilder?MSBlobBuilder:"undefined"!=typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder),i=0;i<e.length;i+=1)n.append(e[i]);return n.getBlob(t.type)}}function be(e){for(var t=e.length,n=new ArrayBuffer(t),i=new Uint8Array(n),r=0;r<t;r++)i[r]=e.charCodeAt(r);return n}function we(e,t){return ye([be(e)],{type:t})}function _e(e,t){return we(ve(e),t)}function Ee(e,t){var n=new FileReader,i="function"==typeof n.readAsBinaryString;n.onloadend=function(e){var n=e.target.result||"";if(i)return t(n);t(function(e){for(var t="",n=new Uint8Array(e),i=n.byteLength,r=0;r<i;r++)t+=String.fromCharCode(n[r]);return t}(n))},i?n.readAsBinaryString(e):n.readAsArrayBuffer(e)}function Se(e,t){Ee(e,(function(e){t(e)}))}function xe(e,t){Se(e,(function(e){t(me(e))}))}var Le=self.setImmediate||self.setTimeout;function ke(e,t,n,i,r){(n>0||i<t.size)&&(t=function(e,t,n){return e.webkitSlice?e.webkitSlice(t,n):e.slice(t,n)}(t,n,i)),function(e,t){var n=new FileReader;n.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},n.readAsArrayBuffer(e)}(t,(function(t){e.append(t),r()}))}function Ae(e,t,n,i,r){(n>0||i<t.length)&&(t=t.substring(n,i)),e.appendBinary(t),r()}function Ce(e,t){var n="string"==typeof e,i=n?e.length:e.size,r=Math.min(32768,i),s=Math.ceil(i/r),o=0,a=n?new l.a:new l.a.ArrayBuffer,c=n?Ae:ke;function u(){Le(h)}function d(){var e=function(e){return me(e)}(a.end(!0));t(e),a.destroy()}function h(){var t=o*r,n=t+r;o++,c(a,e,t,n,o<s?u:d)}h()}function Ie(e){return l.a.hash(e)}function Pe(e,t){if(!t)return Object(a.a)().replace(/-/g,"").toLowerCase();var n=F({},e);return delete n._rev_tree,Ie(JSON.stringify(n))}var Oe=a.a;function Be(e){for(var t,n,i,r,s=e.rev_tree.slice();r=s.pop();){var o=r.ids,a=o[2],c=r.pos;if(a.length)for(var l=0,u=a.length;l<u;l++)s.push({pos:c+1,ids:a[l]});else{var d=!!o[1].deleted,h=o[0];t&&!(i!==d?i:n!==c?n<c:t<h)||(t=h,n=c,i=d)}}return n+"-"+t}function Te(e,t){for(var n,i=e.slice();n=i.pop();)for(var r=n.pos,s=n.ids,o=s[2],a=t(0===o.length,r,s[0],n.ctx,s[1]),c=0,l=o.length;c<l;c++)i.push({pos:r+1,ids:o[c],ctx:a})}function Ne(e,t){return e.pos-t.pos}function Me(e){var t=[];Te(e,(function(e,n,i,r,s){e&&t.push({rev:n+"-"+i,pos:n,opts:s})})),t.sort(Ne).reverse();for(var n=0,i=t.length;n<i;n++)delete t[n].pos;return t}function qe(e){for(var t=Be(e),n=Me(e.rev_tree),i=[],r=0,s=n.length;r<s;r++){var o=n[r];o.rev===t||o.opts.deleted||i.push(o.rev)}return i}function je(e){for(var t,n=[],i=e.slice();t=i.pop();){var r=t.pos,s=t.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=t.history?t.history.slice():[];u.push({id:o,opts:a}),l&&n.push({pos:r+1-u.length,ids:u});for(var d=0,h=c.length;d<h;d++)i.push({pos:r+1,ids:c[d],history:u})}return n.reverse()}function De(e,t){return e.pos-t.pos}function Fe(e,t,n){var i=function(e,t,n){for(var i,r=0,s=e.length;r<s;)n(e[i=r+s>>>1],t)<0?r=i+1:s=i;return r}(e,t,n);e.splice(i,0,t)}function Re(e,t){for(var n,i,r=t,s=e.length;r<s;r++){var o=e[r],a=[o.id,o.opts,[]];i?(i[2].push(a),i=a):n=i=a}return n}function Ve(e,t){return e[0]<t[0]?-1:1}function ze(e,t){for(var n=[{tree1:e,tree2:t}],i=!1;n.length>0;){var r=n.pop(),s=r.tree1,o=r.tree2;(s[1].status||o[1].status)&&(s[1].status="available"===s[1].status||"available"===o[1].status?"available":"missing");for(var a=0;a<o[2].length;a++)if(s[2][0]){for(var c=!1,l=0;l<s[2].length;l++)s[2][l][0]===o[2][a][0]&&(n.push({tree1:s[2][l],tree2:o[2][a]}),c=!0);c||(i="new_branch",Fe(s[2],o[2][a],Ve))}else i="new_leaf",s[2][0]=o[2][a]}return{conflicts:i,tree:e}}function He(e,t,n){var i,r=[],s=!1,o=!1;if(!e.length)return{tree:[t],conflicts:"new_leaf"};for(var a=0,c=e.length;a<c;a++){var l=e[a];if(l.pos===t.pos&&l.ids[0]===t.ids[0])i=ze(l.ids,t.ids),r.push({pos:l.pos,ids:i.tree}),s=s||i.conflicts,o=!0;else if(!0!==n){var u=l.pos<t.pos?l:t,d=l.pos<t.pos?t:l,h=d.pos-u.pos,f=[],p=[];for(p.push({ids:u.ids,diff:h,parent:null,parentIdx:null});p.length>0;){var g=p.pop();if(0!==g.diff)for(var v=g.ids[2],m=0,y=v.length;m<y;m++)p.push({ids:v[m],diff:g.diff-1,parent:g.ids,parentIdx:m});else g.ids[0]===d.ids[0]&&f.push(g)}var b=f[0];b?(i=ze(b.ids,d.ids),b.parent[2][b.parentIdx]=i.tree,r.push({pos:u.pos,ids:u.ids}),s=s||i.conflicts,o=!0):r.push(l)}else r.push(l)}return o||r.push(t),r.sort(De),{tree:r,conflicts:s||"internal_node"}}function Ue(e,t,n){var i=He(e,t),r=function(e,t){for(var n,i,r=je(e),s=0,o=r.length;s<o;s++){var a,c=r[s],l=c.ids;if(l.length>t){n||(n={});var u=l.length-t;a={pos:c.pos+u,ids:Re(l,u)};for(var d=0;d<u;d++){var h=c.pos+d+"-"+l[d].id;n[h]=!0}}else a={pos:c.pos,ids:Re(l,0)};i=i?He(i,a,!0).tree:[a]}return n&&Te(i,(function(e,t,i){delete n[t+"-"+i]})),{tree:i,revs:n?Object.keys(n):[]}}(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function $e(e){return e.ids}function Ze(e,t){t||(t=Be(e));for(var n,i=t.substring(t.indexOf("-")+1),r=e.rev_tree.map($e);n=r.pop();){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function Ge(e){return/^_local/.test(e)}function We(e,t,n){m.a.call(this);var i=this;this.db=e;var r=(t=t?L(t):{}).complete=k((function(t,n){var r,o;t?(o="error",("listenerCount"in(r=i)?r.listenerCount(o):m.a.listenerCount(r,o))>0&&i.emit("error",t)):i.emit("complete",n),i.removeAllListeners(),e.removeListener("destroyed",s)}));function s(){i.cancel()}n&&(i.on("complete",(function(e){n(null,e)})),i.on("error",n)),e.once("destroyed",s),t.onChange=function(e,t,n){i.isCancelled||function(e,t,n,i){try{e.emit("change",t,n,i)}catch(e){q("error",'Error in .on("change", function):',e)}}(i,e,t,n)};var o=new Promise((function(e,n){t.complete=function(t,i){t?n(t):e(i)}}));i.once("cancel",(function(){e.removeListener("destroyed",s),t.complete(null,{status:"cancelled"})})),this.then=o.then.bind(o),this.catch=o.catch.bind(o),this.then((function(e){r(null,e)}),r),e.taskqueue.isReady?i.validateChanges(t):e.taskqueue.addTask((function(e){e?t.complete(e):i.isCancelled?i.emit("cancel"):i.validateChanges(t)}))}function Ke(e,t,n){var i=[{rev:e._rev}];"all_docs"===n.style&&(i=Me(t.rev_tree).map((function(e){return{rev:e.rev}})));var r={id:t.id,changes:i,doc:e};return Ze(t,e._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=qe(t),r.doc._conflicts.length||delete r.doc._conflicts),r}function Ye(e,t){return e<t?-1:e>t?1:0}function Xe(e,t){return function(n,i){n||i[0]&&i[0].error?((n=n||i[0]).docId=t,e(n)):e(null,i.length?i[0]:i)}}function Je(e,t){var n=Ye(e._id,t._id);return 0!==n?n:Ye(e._revisions?e._revisions.start:0,t._revisions?t._revisions.start:0)}function Qe(){for(var e in m.a.call(this),Qe.prototype)"function"==typeof this[e]&&(this[e]=this[e].bind(this))}function et(){this.isReady=!1,this.failed=!1,this.queue=[]}function tt(e,t){if(!(this instanceof tt))return new tt(e,t);var n=this;if(t=t||{},e&&"object"==typeof e&&(e=(t=e).name,delete t.name),void 0===t.deterministic_revs&&(t.deterministic_revs=!0),this.__opts=t=L(t),n.auto_compaction=t.auto_compaction,n.prefix=tt.prefix,"string"!=typeof e)throw new Error("Missing/invalid DB name");var i=function(e,t){var n=e.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=tt.adapters,r=tt.preferredAdapters,s=tt.prefix,o=t.adapter;if(!o)for(var a=0;a<r.length&&("idb"===(o=r[a])&&"websql"in i&&N()&&localStorage["_pouch__websqldb_"+s+e]);++a)q("log",'PouchDB is downgrading "'+e+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.');var c=i[o];return{name:!c||!("use_prefix"in c)||c.use_prefix?s+e:e,adapter:o}}((t.prefix||"")+e,t);if(t.name=i.name,t.adapter=t.adapter||i.adapter,n.name=e,n._adapter=t.adapter,tt.emit("debug",["adapter","Picked adapter: ",t.adapter]),!tt.adapters[t.adapter]||!tt.adapters[t.adapter].valid())throw new Error("Invalid Adapter: "+t.adapter);if(t.view_adapter&&(!tt.adapters[t.view_adapter]||!tt.adapters[t.view_adapter].valid()))throw new Error("Invalid View Adapter: "+t.view_adapter);Qe.call(n),n.taskqueue=new et,n.adapter=t.adapter,tt.adapters[t.adapter].call(n,t,(function(e){if(e)return n.taskqueue.fail(e);!function(e){function t(t){e.removeListener("closed",n),t||e.constructor.emit("destroyed",e.name)}function n(){e.removeListener("destroyed",t),e.constructor.emit("unref",e)}e.once("destroyed",t),e.once("closed",n),e.constructor.emit("ref",e)}(n),n.emit("created",n),tt.emit("created",n.name),n.taskqueue.ready(n)}))}g()(We,m.a),We.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},We.prototype.validateChanges=function(e){var t=e.complete,n=this;tt._changesFilterPlugin?tt._changesFilterPlugin.validate(e,(function(i){if(i)return t(i);n.doChanges(e)})):n.doChanges(e)},We.prototype.doChanges=function(e){var t=this,n=e.complete;if("live"in(e=L(e))&&!("continuous"in e)&&(e.continuous=e.live),e.processChange=Ke,"latest"===e.since&&(e.since="now"),e.since||(e.since=0),"now"!==e.since){if(tt._changesFilterPlugin){if(tt._changesFilterPlugin.normalize(e),tt._changesFilterPlugin.shouldFilter(this,e))return tt._changesFilterPlugin.filter(this,e)}else["doc_ids","filter","selector","view"].forEach((function(t){t in e&&q("warn",'The "'+t+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')}));"descending"in e||(e.descending=!1),e.limit=0===e.limit?1:e.limit,e.complete=n;var i=this.db._changes(e);if(i&&"function"==typeof i.cancel){var r=t.cancel;t.cancel=f()((function(e){i.cancel(),r.apply(this,e)}))}}else this.db.info().then((function(i){t.isCancelled?n(null,{status:"cancelled"}):(e.since=i.update_seq,t.doChanges(e))}),n)},g()(Qe,m.a),Qe.prototype.post=C("post",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));this.bulkDocs({docs:[e]},t,Xe(n,e._id))})),Qe.prototype.put=C("put",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"object"!=typeof e||Array.isArray(e))return n(ne(J));if(oe(e._id),Ge(e._id)&&"function"==typeof this._putLocal)return e._deleted?this._removeLocal(e,n):this._putLocal(e,n);var i,r,s,o,a=this;function c(n){"function"==typeof a._put&&!1!==t.new_edits?a._put(e,t,n):a.bulkDocs({docs:[e]},t,Xe(n,e._id))}t.force&&e._rev?(i=e._rev.split("-"),r=i[1],s=parseInt(i[0],10)+1,o=Pe(),e._revisions={start:s,ids:[o,r]},e._rev=s+"-"+o,t.new_edits=!1,c((function(t){var i=t?null:{ok:!0,id:e._id,rev:e._rev};n(t,i)}))):c(n)})),Qe.prototype.putAttachment=C("putAttachment",(function(e,t,n,i,r){var s=this;function o(e){var n="_rev"in e?parseInt(e._rev,10):0;return e._attachments=e._attachments||{},e._attachments[t]={content_type:r,data:i,revpos:++n},s.put(e)}return"function"==typeof r&&(r=i,i=n,n=null),void 0===r&&(r=i,i=n,n=null),r||q("warn","Attachment",t,"on document",e,"is missing content_type"),s.get(e).then((function(e){if(e._rev!==n)throw ne(H);return o(e)}),(function(t){if(t.reason===z.message)return o({_id:e});throw t}))})),Qe.prototype.removeAttachment=C("removeAttachment",(function(e,t,n,i){var r=this;r.get(e,(function(e,s){if(e)i(e);else if(s._rev===n){if(!s._attachments)return i();delete s._attachments[t],0===Object.keys(s._attachments).length&&delete s._attachments,r.put(s,i)}else i(ne(H))}))})),Qe.prototype.remove=C("remove",(function(e,t,n,i){var r;"string"==typeof t?(r={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(r=e,"function"==typeof t?(i=t,n={}):(i=n,n=t)),(n=n||{}).was_delete=!0;var s={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(Ge(s._id)&&"function"==typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[s]},n,Xe(i,s._id))})),Qe.prototype.revsDiff=C("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i=Object.keys(e);if(!i.length)return n(null,{});var s=0,o=new r;function a(e,t){o.has(e)||o.set(e,{missing:[]}),o.get(e).missing.push(t)}i.map((function(t){this._getRevisionTree(t,(function(r,c){if(r&&404===r.status&&"missing"===r.message)o.set(t,{missing:e[t]});else{if(r)return n(r);!function(t,n){var i=e[t].slice(0);Te(n,(function(e,n,r,s,o){var c=n+"-"+r,l=i.indexOf(c);-1!==l&&(i.splice(l,1),"available"!==o.status&&a(t,c))})),i.forEach((function(e){a(t,e)}))}(t,c)}if(++s===i.length){var l={};return o.forEach((function(e,t){l[t]=e})),n(null,l)}}))}),this)})),Qe.prototype.bulkGet=C("bulkGet",(function(e,t){T(this,e,t)})),Qe.prototype.compactDocument=C("compactDocument",(function(e,t,n){var i=this;this._getRevisionTree(e,(function(r,s){if(r)return n(r);var o=function(e){var t={},n=[];return Te(e,(function(e,i,r,s){var o=i+"-"+r;return e&&(t[o]=0),void 0!==s&&n.push({from:s,to:o}),o})),n.reverse(),n.forEach((function(e){void 0===t[e.from]?t[e.from]=1+t[e.to]:t[e.from]=Math.min(t[e.from],1+t[e.to])})),t}(s),a=[],c=[];Object.keys(o).forEach((function(e){o[e]>t&&a.push(e)})),Te(s,(function(e,t,n,i,r){var s=t+"-"+n;"available"===r.status&&-1!==a.indexOf(s)&&c.push(s)})),i._doCompaction(e,c,n)}))})),Qe.prototype.compact=C("compact",(function(e,t){"function"==typeof e&&(t=e,e={});e=e||{},this._compactionQueue=this._compactionQueue||[],this._compactionQueue.push({opts:e,callback:t}),1===this._compactionQueue.length&&function e(t){var n=t._compactionQueue[0],i=n.opts,r=n.callback;t.get("_local/compaction").catch((function(){return!1})).then((function(n){n&&n.last_seq&&(i.last_seq=n.last_seq),t._compact(i,(function(n,i){n?r(n):r(null,i),o()((function(){t._compactionQueue.shift(),t._compactionQueue.length&&e(t)}))}))}))}(this)})),Qe.prototype._compact=function(e,t){var n=this,i={return_docs:!1,last_seq:e.last_seq||0},r=[];n.changes(i).on("change",(function(e){r.push(n.compactDocument(e.id,0))})).on("complete",(function(e){var i=e.last_seq;Promise.all(r).then((function(){return ge(n,"_local/compaction",(function(e){return(!e.last_seq||e.last_seq<i)&&(e.last_seq=i,e)}))})).then((function(){t(null,{ok:!0})})).catch(t)})).on("error",t)},Qe.prototype.get=C("get",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),"string"!=typeof e)return n(ne(U));if(Ge(e)&&"function"==typeof this._getLocal)return this._getLocal(e,n);var i=[],r=this;function s(){var s=[],o=i.length;if(!o)return n(null,s);i.forEach((function(i){r.get(e,{rev:i,revs:t.revs,latest:t.latest,attachments:t.attachments,binary:t.binary},(function(e,t){if(e)s.push({missing:i});else{for(var r,a=0,c=s.length;a<c;a++)if(s[a].ok&&s[a].ok._rev===t._rev){r=!0;break}r||s.push({ok:t})}--o||n(null,s)}))}))}if(!t.open_revs)return this._get(e,t,(function(i,s){if(i)return i.docId=e,n(i);var o=s.doc,a=s.metadata,c=s.ctx;if(t.conflicts){var l=qe(a);l.length&&(o._conflicts=l)}if(Ze(a,o._rev)&&(o._deleted=!0),t.revs||t.revs_info){for(var u=o._rev.split("-"),d=parseInt(u[0],10),h=u[1],f=je(a.rev_tree),p=null,g=0;g<f.length;g++){var v=f[g],m=v.ids.map((function(e){return e.id})).indexOf(h);(m===d-1||!p&&-1!==m)&&(p=v)}if(!p)return(i=new Error("invalid rev tree")).docId=e,n(i);var y=p.ids.map((function(e){return e.id})).indexOf(o._rev.split("-")[1])+1,b=p.ids.length-y;if(p.ids.splice(y,b),p.ids.reverse(),t.revs&&(o._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map((function(e){return e.id}))}),t.revs_info){var w=p.pos+p.ids.length;o._revs_info=p.ids.map((function(e){return{rev:--w+"-"+e.id,status:e.opts.status}}))}}if(t.attachments&&o._attachments){var _=o._attachments,E=Object.keys(_).length;if(0===E)return n(null,o);Object.keys(_).forEach((function(e){this._getAttachment(o._id,e,_[e],{rev:o._rev,binary:t.binary,ctx:c},(function(t,i){var r=o._attachments[e];r.data=i,delete r.stub,delete r.length,--E||n(null,o)}))}),r)}else{if(o._attachments)for(var S in o._attachments)Object.prototype.hasOwnProperty.call(o._attachments,S)&&(o._attachments[S].stub=!0);n(null,o)}}));if("all"===t.open_revs)this._getRevisionTree(e,(function(e,t){if(e)return n(e);i=Me(t).map((function(e){return e.rev})),s()}));else{if(!Array.isArray(t.open_revs))return n(ne(G,"function_clause"));i=t.open_revs;for(var o=0;o<i.length;o++){var a=i[o];if("string"!=typeof a||!/^\d+-/.test(a))return n(ne(ee))}s()}})),Qe.prototype.getAttachment=C("getAttachment",(function(e,t,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(e,n,(function(s,o){return s?i(s):o.doc._attachments&&o.doc._attachments[t]?(n.ctx=o.ctx,n.binary=!0,void r._getAttachment(e,t,o.doc._attachments[t],n,i)):i(ne(z))}))})),Qe.prototype.allDocs=C("allDocs",(function(e,t){if("function"==typeof e&&(t=e,e={}),e.skip=void 0!==e.skip?e.skip:0,e.start_key&&(e.startkey=e.start_key),e.end_key&&(e.endkey=e.end_key),"keys"in e){if(!Array.isArray(e.keys))return t(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter((function(t){return t in e}))[0];if(n)return void t(ne(K,"Query parameter `"+n+"` is not compatible with multi-get"));if(!ae(this)&&(function(e){var t="limit"in e?e.keys.slice(e.skip,e.limit+e.skip):e.skip>0?e.keys.slice(e.skip):e.keys;e.keys=t,e.skip=0,delete e.limit,e.descending&&(t.reverse(),e.descending=!1)}(e),0===e.keys.length))return this._allDocs({limit:0},t)}return this._allDocs(e,t)})),Qe.prototype.changes=function(e,t){return"function"==typeof e&&(t=e,e={}),(e=e||{}).return_docs="return_docs"in e?e.return_docs:!e.live,new We(this,e,t)},Qe.prototype.close=C("close",(function(e){return this._closed=!0,this.emit("closed"),this._close(e)})),Qe.prototype.info=C("info",(function(e){var t=this;this._info((function(n,i){if(n)return e(n);i.db_name=i.db_name||t.name,i.auto_compaction=!(!t.auto_compaction||ae(t)),i.adapter=t.adapter,e(null,i)}))})),Qe.prototype.id=C("id",(function(e){return this._id(e)})),Qe.prototype.type=function(){return"function"==typeof this._type?this._type():this.adapter},Qe.prototype.bulkDocs=C("bulkDocs",(function(e,t,n){if("function"==typeof t&&(n=t,t={}),t=t||{},Array.isArray(e)&&(e={docs:e}),!e||!e.docs||!Array.isArray(e.docs))return n(ne(V));for(var i=0;i<e.docs.length;++i)if("object"!=typeof e.docs[i]||Array.isArray(e.docs[i]))return n(ne(J));var r;if(e.docs.forEach((function(e){e._attachments&&Object.keys(e._attachments).forEach((function(t){r=r||function(e){return"_"===e.charAt(0)&&e+" is not a valid attachment name, attachment names cannot start with '_'"}(t),e._attachments[t].content_type||q("warn","Attachment",t,"on document",e._id,"is missing content_type")}))})),r)return n(ne(X,r));"new_edits"in t||(t.new_edits=!("new_edits"in e)||e.new_edits);var s=this;t.new_edits||ae(s)||e.docs.sort(Je),function(e){for(var t=0;t<e.length;t++){var n=e[t];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var s=i[r];n._attachments[s]=I(n._attachments[s],["data","digest","content_type","length","revpos","stub"])}}}(e.docs);var o=e.docs.map((function(e){return e._id}));return this._bulkDocs(e,t,(function(e,i){if(e)return n(e);if(t.new_edits||(i=i.filter((function(e){return e.error}))),!ae(s))for(var r=0,a=i.length;r<a;r++)i[r].id=i[r].id||o[r];n(null,i)}))})),Qe.prototype.registerDependentDatabase=C("registerDependentDatabase",(function(e,t){var n=L(this.__opts);this.__opts.view_adapter&&(n.adapter=this.__opts.view_adapter);var i=new this.constructor(e,n);ge(this,"_local/_pouch_dependentDbs",(function(t){return t.dependentDbs=t.dependentDbs||{},!t.dependentDbs[e]&&(t.dependentDbs[e]=!0,t)})).then((function(){t(null,{db:i})})).catch(t)})),Qe.prototype.destroy=C("destroy",(function(e,t){"function"==typeof e&&(t=e,e={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(e,(function(e,i){if(e)return t(e);n._destroyed=!0,n.emit("destroyed"),t(null,i||{ok:!0})}))}if(ae(n))return r();n.get("_local/_pouch_dependentDbs",(function(e,s){if(e)return 404!==e.status?t(e):r();var o=s.dependentDbs,a=n.constructor,c=Object.keys(o).map((function(e){var t=i?e.replace(new RegExp("^"+a.prefix),""):e;return new a(t,n.__opts).destroy()}));Promise.all(c).then(r,t)}))})),et.prototype.execute=function(){var e;if(this.failed)for(;e=this.queue.shift();)e(this.failed);else for(;e=this.queue.shift();)e()},et.prototype.fail=function(e){this.failed=e,this.execute()},et.prototype.ready=function(e){this.isReady=!0,this.db=e,this.execute()},et.prototype.addTask=function(e){this.queue.push(e),this.failed&&this.execute()},g()(tt,Qe);var nt="undefined"!=typeof AbortController?AbortController:function(){return{abort:function(){}}},it=fetch,rt=Headers;tt.adapters={},tt.preferredAdapters=[],tt.prefix="_pouch_";var st=new m.a;!function(e){Object.keys(m.a.prototype).forEach((function(t){"function"==typeof m.a.prototype[t]&&(e[t]=st[t].bind(st))}));var t=e._destructionListeners=new r;e.on("ref",(function(e){t.has(e.name)||t.set(e.name,[]),t.get(e.name).push(e)})),e.on("unref",(function(e){if(t.has(e.name)){var n=t.get(e.name),i=n.indexOf(e);i<0||(n.splice(i,1),n.length>1?t.set(e.name,n):t.delete(e.name))}})),e.on("destroyed",(function(e){if(t.has(e)){var n=t.get(e);t.delete(e),n.forEach((function(e){e.emit("destroyed",!0)}))}}))}(tt),tt.adapter=function(e,t,n){t.valid()&&(tt.adapters[e]=t,n&&tt.preferredAdapters.push(e))},tt.plugin=function(e){if("function"==typeof e)e(tt);else{if("object"!=typeof e||0===Object.keys(e).length)throw new Error('Invalid plugin: got "'+e+'", expected an object or a function');Object.keys(e).forEach((function(t){tt.prototype[t]=e[t]}))}return this.__defaults&&(tt.__defaults=F({},this.__defaults)),tt},tt.defaults=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);n=n||{},e&&"object"==typeof e&&(e=(n=e).name,delete n.name),n=F({},t.__defaults,n),tt.call(this,e,n)}return g()(t,tt),t.preferredAdapters=tt.preferredAdapters.slice(),Object.keys(tt).forEach((function(e){e in t||(t[e]=tt[e])})),t.__defaults=F({},this.__defaults,e),t},tt.fetch=function(e,t){return it(e,t)};function ot(e,t){for(var n=e,i=0,r=t.length;i<r;i++){if(!(n=n[t[i]]))break}return n}function at(e){for(var t=[],n="",i=0,r=e.length;i<r;i++){var s=e[i];i>0&&"\\"===e[i-1]&&("$"===s||"."===s)?n=n.substring(0,n.length-1)+s:"."===s?(t.push(n),n=""):n+=s}return t.push(n),t}var ct=["$or","$nor","$not"];function lt(e){return ct.indexOf(e)>-1}function ut(e){return Object.keys(e)[0]}function dt(e){var t={},n={$or:!0,$nor:!0};return e.forEach((function(e){Object.keys(e).forEach((function(i){var r=e[i];if("object"!=typeof r&&(r={$eq:r}),lt(i))if(r instanceof Array){if(n[i])return n[i]=!1,void(t[i]=r);var s=[];t[i].forEach((function(e){Object.keys(r).forEach((function(t){var n=r[t],i=Math.max(Object.keys(e).length,Object.keys(n).length),o=dt([e,n]);Object.keys(o).length<=i||s.push(o)}))})),t[i]=s}else t[i]=dt([r]);else{var o=t[i]=t[i]||{};Object.keys(r).forEach((function(e){var t=r[e];return"$gt"===e||"$gte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$gte?"$gte"===e?t>n.$gte&&(n.$gte=t):t>=n.$gte&&(delete n.$gte,n.$gt=t):void 0!==n.$gt?"$gte"===e?t>n.$gt&&(delete n.$gt,n.$gte=t):t>n.$gt&&(n.$gt=t):n[e]=t}(e,t,o):"$lt"===e||"$lte"===e?function(e,t,n){if(void 0!==n.$eq)return;void 0!==n.$lte?"$lte"===e?t<n.$lte&&(n.$lte=t):t<=n.$lte&&(delete n.$lte,n.$lt=t):void 0!==n.$lt?"$lte"===e?t<n.$lt&&(delete n.$lt,n.$lte=t):t<n.$lt&&(n.$lt=t):n[e]=t}(e,t,o):"$ne"===e?function(e,t){"$ne"in t?t.$ne.push(e):t.$ne=[e]}(t,o):"$eq"===e?function(e,t){delete t.$gt,delete t.$gte,delete t.$lt,delete t.$lte,delete t.$ne,t.$eq=e}(t,o):"$regex"===e?function(e,t){"$regex"in t?t.$regex.push(e):t.$regex=[e]}(t,o):void(o[e]=t)}))}}))})),t}function ht(e){var t=L(e),n=!1;(function e(t,n){for(var i in t){"$and"===i&&(n=!0);var r=t[i];"object"==typeof r&&(n=e(r,n))}return n})(t,!1)&&("$and"in(t=function e(t){for(var n in t){if(Array.isArray(t))for(var i in t)t[i].$and&&(t[i]=dt(t[i].$and));var r=t[n];"object"==typeof r&&e(r)}return t}(t))&&(t=dt(t.$and)),n=!0),["$or","$nor"].forEach((function(e){e in t&&t[e].forEach((function(e){for(var t=Object.keys(e),n=0;n<t.length;n++){var i=t[n],r=e[i];"object"==typeof r&&null!==r||(e[i]={$eq:r})}}))})),"$not"in t&&(t.$not=dt([t.$not]));for(var i=Object.keys(t),r=0;r<i.length;r++){var s=i[r],o=t[s];"object"!=typeof o||null===o?o={$eq:o}:n||("$ne"in o&&(o.$ne=[o.$ne]),"$regex"in o&&(o.$regex=[o.$regex])),t[s]=o}return t}function ft(e,t){if(e===t)return 0;e=pt(e),t=pt(t);var n=bt(e),i=bt(t);if(n-i!=0)return n-i;switch(typeof e){case"number":return e-t;case"boolean":return e<t?-1:1;case"string":return function(e,t){return e===t?0:e>t?1:-1}(e,t)}return Array.isArray(e)?function(e,t){for(var n=Math.min(e.length,t.length),i=0;i<n;i++){var r=ft(e[i],t[i]);if(0!==r)return r}return e.length===t.length?0:e.length>t.length?1:-1}(e,t):function(e,t){for(var n=Object.keys(e),i=Object.keys(t),r=Math.min(n.length,i.length),s=0;s<r;s++){var o=ft(n[s],i[s]);if(0!==o)return o;if(0!==(o=ft(e[n[s]],t[i[s]])))return o}return n.length===i.length?0:n.length>i.length?1:-1}(e,t)}function pt(e){switch(typeof e){case"undefined":return null;case"number":return e===1/0||e===-1/0||isNaN(e)?null:e;case"object":var t=e;if(Array.isArray(e)){var n=e.length;e=new Array(n);for(var i=0;i<n;i++)e[i]=pt(t[i])}else{if(e instanceof Date)return e.toJSON();if(null!==e)for(var r in e={},t)if(Object.prototype.hasOwnProperty.call(t,r)){var s=t[r];void 0!==s&&(e[r]=pt(s))}}}return e}function gt(e){if(null!==e)switch(typeof e){case"boolean":return e?1:0;case"number":return function(e){if(0===e)return"1";var t=e.toExponential().split(/e\+?/),n=parseInt(t[1],10),i=e<0,r=i?"0":"2",s=(o=((i?-n:n)- -324).toString(),a="0",c=3,function(e,t,n){for(var i="",r=n-e.length;i.length<r;)i+=t;return i}(o,a,c)+o);var o,a,c;r+=""+s;var l=Math.abs(parseFloat(t[0]));i&&(l=10-l);var u=l.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=""+u}(e);case"string":return e.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var t=Array.isArray(e),n=t?e:Object.keys(e),i=-1,r=n.length,s="";if(t)for(;++i<r;)s+=vt(n[i]);else for(;++i<r;){var o=n[i];s+=vt(o)+vt(e[o])}return s}return""}function vt(e){return bt(e=pt(e))+""+gt(e)+"\0"}function mt(e,t){var n,i=t;if("1"===e[t])n=0,t++;else{var r="0"===e[t];t++;var s="",o=e.substring(t,t+3),a=parseInt(o,10)+-324;for(r&&(a=-a),t+=3;;){var c=e[t];if("\0"===c)break;s+=c,t++}n=1===(s=s.split(".")).length?parseInt(s,10):parseFloat(s[0]+"."+s[1]),r&&(n-=10),0!==a&&(n=parseFloat(n+"e"+a))}return{num:n,length:t-i}}function yt(e,t){var n=e.pop();if(t.length){var i=t[t.length-1];n===i.element&&(t.pop(),i=t[t.length-1]);var r=i.element,s=i.index;if(Array.isArray(r))r.push(n);else if(s===e.length-2){r[e.pop()]=n}else e.push(n)}}function bt(e){var t=["boolean","number","string","object"].indexOf(typeof e);return~t?null===e?1:Array.isArray(e)?5:t<3?t+2:t+3:Array.isArray(e)?5:void 0}function wt(e,t,n){if(e=e.filter((function(e){return _t(e.doc,t.selector,n)})),t.sort){var i=function(e){function t(t){return e.map((function(e){var n=at(ut(e));return ot(t,n)}))}return function(e,n){var i,r,s=ft(t(e.doc),t(n.doc));return 0!==s?s:(i=e.doc._id,r=n.doc._id,i<r?-1:i>r?1:0)}}(t.sort);e=e.sort(i),"string"!=typeof t.sort[0]&&"desc"===(r=t.sort[0])[ut(r)]&&(e=e.reverse())}var r;if("limit"in t||"skip"in t){var s=t.skip||0,o=("limit"in t?t.limit:e.length)+s;e=e.slice(s,o)}return e}function _t(e,t,n){return n.every((function(n){var i=t[n],r=at(n),s=ot(e,r);return lt(n)?function(e,t,n){if("$or"===e)return t.some((function(e){return _t(n,e,Object.keys(e))}));if("$not"===e)return!_t(n,t,Object.keys(t));return!t.find((function(e){return _t(n,e,Object.keys(e))}))}(n,i,e):Et(i,e,r,s)}))}function Et(e,t,n,i){return!e||("object"==typeof e?Object.keys(e).every((function(r){var s=e[r];if(0===r.indexOf("$"))return St(r,t,s,n,i);var o=at(r);if(void 0===i&&"object"!=typeof s&&o.length>0)return!1;var a=ot(i,o);return"object"==typeof s?Et(s,t,n,a):St("$eq",t,s,o,a)})):e===i)}function St(e,t,n,i,r){if(!At[e])throw new Error('unknown operator "'+e+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return At[e](t,n,i,r)}function xt(e){return null!=e}function Lt(e){return void 0!==e}function kt(e,t){return t.some((function(t){return e instanceof Array?e.some((function(e){return 0===ft(t,e)})):0===ft(t,e)}))}var At={$elemMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.some((function(e){return _t(e,t,Object.keys(t))})):i.some((function(i){return Et(t,e,n,i)}))))},$allMatch:function(e,t,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"==typeof i[0]?i.every((function(e){return _t(e,t,Object.keys(t))})):i.every((function(i){return Et(t,e,n,i)}))))},$eq:function(e,t,n,i){return Lt(i)&&0===ft(i,t)},$gte:function(e,t,n,i){return Lt(i)&&ft(i,t)>=0},$gt:function(e,t,n,i){return Lt(i)&&ft(i,t)>0},$lte:function(e,t,n,i){return Lt(i)&&ft(i,t)<=0},$lt:function(e,t,n,i){return Lt(i)&&ft(i,t)<0},$exists:function(e,t,n,i){return t?Lt(i):!Lt(i)},$mod:function(e,t,n,i){return xt(i)&&function(e,t){return"number"==typeof e&&parseInt(e,10)===e&&e%t[0]===t[1]}(i,t)},$ne:function(e,t,n,i){return t.every((function(e){return 0!==ft(i,e)}))},$in:function(e,t,n,i){return xt(i)&&kt(i,t)},$nin:function(e,t,n,i){return xt(i)&&!kt(i,t)},$size:function(e,t,n,i){return xt(i)&&Array.isArray(i)&&function(e,t){return e.length===t}(i,t)},$all:function(e,t,n,i){return Array.isArray(i)&&function(e,t){return t.every((function(t){return e.some((function(e){return 0===ft(t,e)}))}))}(i,t)},$regex:function(e,t,n,i){return xt(i)&&"string"==typeof i&&t.every((function(e){return function(e,t){return new RegExp(t).test(e)}(i,e)}))},$type:function(e,t,n,i){return function(e,t){switch(t){case"null":return null===e;case"boolean":return"boolean"==typeof e;case"number":return"number"==typeof e;case"string":return"string"==typeof e;case"array":return e instanceof Array;case"object":return"[object Object]"==={}.toString.call(e)}}(i,t)}};function Ct(e,t){if(e.selector&&e.filter&&"_selector"!==e.filter){var n="string"==typeof e.filter?e.filter:"function";return t(new Error('selector invalid for filter "'+n+'"'))}t()}function It(e){e.view&&!e.filter&&(e.filter="_view"),e.selector&&!e.filter&&(e.filter="_selector"),e.filter&&"string"==typeof e.filter&&("_view"===e.filter?e.view=le(e.view):e.filter=le(e.filter))}function Pt(e,t){return t.filter&&"string"==typeof t.filter&&!t.doc_ids&&!ae(e.db)}function Ot(e,t){var n=t.complete;if("_view"===t.filter){if(!t.view||"string"!=typeof t.view){var i=ne(X,"`view` filter parameter not found or invalid.");return n(i)}var r=ce(t.view);e.db.get("_design/"+r[0],(function(i,s){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=s&&s.views&&s.views[r[1]]&&s.views[r[1]].map;if(!o)return n(ne(z,s.views?"missing json key: "+r[1]:"missing json key: views"));t.filter=pe(["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+o+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n"),{}),e.doChanges(t)}))}else if(t.selector)t.filter=function(e){return function(e,t){if("object"!=typeof t)throw new Error("Selector error: expected a JSON object");var n=wt([{doc:e}],{selector:t=ht(t)},Object.keys(t));return n&&1===n.length}(e,t.selector)},e.doChanges(t);else{var s=ce(t.filter);e.db.get("_design/"+s[0],(function(i,r){if(e.isCancelled)return n(null,{status:"cancelled"});if(i)return n(ie(i));var o=r&&r.filters&&r.filters[s[1]];if(!o)return n(ne(z,r&&r.filters?"missing json key: "+s[1]:"missing json key: filters"));t.filter=pe('"use strict";\nreturn '+o+";",{}),e.doChanges(t)}))}}function Bt(e){return e.reduce((function(e,t){return e[t]=!0,e}),{})}tt.plugin((function(e){e._changesFilterPlugin={validate:Ct,normalize:It,shouldFilter:Pt,filter:Ot}})),tt.version="7.3.0";var Tt=Bt(["_id","_rev","_access","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),Nt=Bt(["_access","_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Mt(e){if(!/^\d+-/.test(e))return ne(ee);var t=e.indexOf("-"),n=e.substring(0,t),i=e.substring(t+1);return{prefix:parseInt(n,10),id:i}}function qt(e,t,n){var i,r,s;n||(n={deterministic_revs:!0});var o={status:"available"};if(e._deleted&&(o.deleted=!0),t)if(e._id||(e._id=Oe()),r=Pe(e,n.deterministic_revs),e._rev){if((s=Mt(e._rev)).error)return s;e._rev_tree=[{pos:s.prefix,ids:[s.id,{status:"missing"},[[r,o,[]]]]}],i=s.prefix+1}else e._rev_tree=[{pos:1,ids:[r,o,[]]}],i=1;else if(e._revisions&&(e._rev_tree=function(e,t){for(var n=e.start-e.ids.length+1,i=e.ids,r=[i[0],t,[]],s=1,o=i.length;s<o;s++)r=[i[s],{status:"missing"},[r]];return[{pos:n,ids:r}]}(e._revisions,o),i=e._revisions.start,r=e._revisions.ids[0]),!e._rev_tree){if((s=Mt(e._rev)).error)return s;i=s.prefix,r=s.id,e._rev_tree=[{pos:i,ids:[r,o,[]]}]}oe(e._id),e._rev=i+"-"+r;var a={metadata:{},data:{}};for(var c in e)if(Object.prototype.hasOwnProperty.call(e,c)){var l="_"===c[0];if(l&&!Tt[c]){var u=ne(Y,c);throw u.message=Y.message+": "+c,u}l&&!Nt[c]?a.metadata[c.slice(1)]=e[c]:a.data[c]=e[c]}return a}function jt(e,t,n){var i=function(e){try{return ve(e)}catch(e){return{error:ne(W,"Attachment is not a valid base64 string")}}}(e.data);if(i.error)return n(i.error);e.length=i.length,e.data="blob"===t?we(i,e.content_type):"base64"===t?me(i):i,Ce(i,(function(t){e.digest="md5-"+t,n()}))}function Dt(e,t,n){if(e.stub)return n();"string"==typeof e.data?jt(e,t,n):function(e,t,n){Ce(e.data,(function(i){e.digest="md5-"+i,e.length=e.data.size||e.data.length||0,"binary"===t?Se(e.data,(function(t){e.data=t,n()})):"base64"===t?xe(e.data,(function(t){e.data=t,n()})):n()}))}(e,t,n)}function Ft(e,t,n,i,r,s,o,a){if(function(e,t){for(var n,i=e.slice(),r=t.split("-"),s=parseInt(r[0],10),o=r[1];n=i.pop();){if(n.pos===s&&n.ids[0]===o)return!0;for(var a=n.ids[2],c=0,l=a.length;c<l;c++)i.push({pos:n.pos+1,ids:a[c]})}return!1}(t.rev_tree,n.metadata.rev)&&!a)return i[r]=n,s();var c=t.winningRev||Be(t),l="deleted"in t?t.deleted:Ze(t,c),u="deleted"in n.metadata?n.metadata.deleted:Ze(n.metadata),d=/^1-/.test(n.metadata.rev);if(l&&!u&&a&&d){var h=n.data;h._rev=c,h._id=n.metadata.id,n=qt(h,a)}var f=Ue(t.rev_tree,n.metadata.rev_tree[0],e);if(a&&(l&&u&&"new_leaf"!==f.conflicts||!l&&"new_leaf"!==f.conflicts||l&&!u&&"new_branch"===f.conflicts)){var p=ne(H);return i[r]=p,s()}var g=n.metadata.rev;n.metadata.rev_tree=f.tree,n.stemmedRevs=f.stemmedRevs||[],t.rev_map&&(n.metadata.rev_map=t.rev_map);var v=Be(n.metadata),m=Ze(n.metadata,v),y=l===m?0:l<m?-1:1;o(n,v,m,g===v?m:Ze(n.metadata,g),!0,y,r,s)}function Rt(e,t,n,i,s,o,a,c,l){e=e||1e3;var u=c.new_edits,d=new r,h=0,f=t.length;function p(){++h===f&&l&&l()}t.forEach((function(e,t){if(e._id&&Ge(e._id)){var i=e._deleted?"_removeLocal":"_putLocal";n[i](e,{ctx:s},(function(e,n){o[t]=e||n,p()}))}else{var r=e.metadata.id;d.has(r)?(f--,d.get(r).push([e,t])):d.set(r,[[e,t]])}})),d.forEach((function(t,n){var r=0;function s(){++r<t.length?l():p()}function l(){var l=t[r],d=l[0],h=l[1];if(i.has(n))Ft(e,i.get(n),d,o,h,s,a,u);else{var f=Ue([],d.metadata.rev_tree[0],e);d.metadata.rev_tree=f.tree,d.stemmedRevs=f.stemmedRevs||[],function(e,t,n){var i=Be(e.metadata),r=Ze(e.metadata,i);if("was_delete"in c&&r)return o[t]=ne(z,"deleted"),n();if(u&&function(e){return"missing"===e.metadata.rev_tree[0].ids[1].status}(e)){var s=ne(H);return o[t]=s,n()}a(e,i,r,r,!1,r?0:1,t,n)}(d,h,s)}}l()}))}var Vt="document-store",zt="meta-store";function Ht(e){try{return JSON.stringify(e)}catch(t){return d.a.stringify(e)}}function Ut(e){return function(t){var n="unknown_error";t.target&&t.target.error&&(n=t.target.error.name||t.target.error.message),e(ne(Q,n,t.type))}}function $t(e,t,n){return{data:Ht(e),winningRev:t,deletedOrLocal:n?"1":"0",seq:e.seq,id:e.id}}function Zt(e){if(!e)return null;var t=function(e){try{return JSON.parse(e)}catch(t){return d.a.parse(e)}}(e.data);return t.winningRev=e.winningRev,t.deleted="1"===e.deletedOrLocal,t.seq=e.seq,t}function Gt(e){if(!e)return e;var t=e._doc_id_rev.lastIndexOf(":");return e._id=e._doc_id_rev.substring(0,t-1),e._rev=e._doc_id_rev.substring(t+1),delete e._doc_id_rev,e}function Wt(e,t,n,i){n?i(e?"string"!=typeof e?e:_e(e,t):ye([""],{type:t})):e?"string"!=typeof e?Ee(e,(function(e){i(me(e))})):i(e):i("")}function Kt(e,t,n,i){var r=Object.keys(e._attachments||{});if(!r.length)return i&&i();var s=0;function o(){++s===r.length&&i&&i()}r.forEach((function(i){t.attachments&&t.include_docs?function(e,t){var i=e._attachments[t],r=i.digest;n.objectStore("attach-store").get(r).onsuccess=function(e){i.body=e.target.result.body,o()}}(e,i):(e._attachments[i].stub=!0,o())}))}function Yt(e,t){return Promise.all(e.map((function(e){if(e.doc&&e.doc._attachments){var n=Object.keys(e.doc._attachments);return Promise.all(n.map((function(n){var i=e.doc._attachments[n];if("body"in i){var r=i.body,s=i.content_type;return new Promise((function(o){Wt(r,s,t,(function(t){e.doc._attachments[n]=F(I(i,["digest","content_type"]),{data:t}),o()}))}))}})))}})))}function Xt(e,t,n){var i=[],r=n.objectStore("by-sequence"),s=n.objectStore("attach-store"),o=n.objectStore("attach-seq-store"),a=e.length;function c(){--a||function(){if(!i.length)return;i.forEach((function(e){o.index("digestSeq").count(IDBKeyRange.bound(e+"::",e+"::￿",!1,!1)).onsuccess=function(t){t.target.result||s.delete(e)}}))}()}e.forEach((function(e){var n=r.index("_doc_id_rev"),s=t+"::"+e;n.getKey(s).onsuccess=function(e){var t=e.target.result;if("number"!=typeof t)return c();r.delete(t),o.index("seq").openCursor(IDBKeyRange.only(t)).onsuccess=function(e){var t=e.target.result;if(t){var n=t.value.digestSeq.split("::")[0];i.push(n),o.delete(t.primaryKey),t.continue()}else c()}}}))}function Jt(e,t,n){try{return{txn:e.transaction(t,n)}}catch(e){return{error:e}}}var Qt=new M;function en(e,t,n,i,s,o){for(var a,c,l,u,d,h,f,p,g=t.docs,v=0,m=g.length;v<m;v++){var y=g[v];y._id&&Ge(y._id)||(y=g[v]=qt(y,n.new_edits,e)).error&&!f&&(f=y)}if(f)return o(f);var b=!1,w=0,_=new Array(g.length),E=new r,S=!1,x=i._meta.blobSupport?"blob":"base64";function L(){b=!0,k()}function k(){p&&b&&(p.docCount+=w,h.put(p))}function A(){S||(Qt.notify(i._meta.name),o(null,_))}function C(e,t,n,i,r,s,o,a){e.metadata.winningRev=t,e.metadata.deleted=n;var c=e.data;if(c._id=e.metadata.id,c._rev=e.metadata.rev,i&&(c._deleted=!0),c._attachments&&Object.keys(c._attachments).length)return function(e,t,n,i,r,s){var o=e.data,a=0,c=Object.keys(o._attachments);function l(){a===c.length&&I(e,t,n,i,r,s)}function d(){a++,l()}c.forEach((function(n){var i=e.data._attachments[n];if(i.stub)a++,l();else{var r=i.data;delete i.data,i.revpos=parseInt(t,10),function(e,t,n){u.count(e).onsuccess=function(i){if(i.target.result)return n();var r={digest:e,body:t};u.put(r).onsuccess=n}}(i.digest,r,d)}}))}(e,t,n,r,o,a);w+=s,k(),I(e,t,n,r,o,a)}function I(e,t,n,r,s,o){var u=e.data,h=e.metadata;function f(s){var o=e.stemmedRevs||[];r&&i.auto_compaction&&(o=o.concat(function(e){var t=[];return Te(e.rev_tree,(function(e,n,i,r,s){"available"!==s.status||e||(t.push(n+"-"+i),s.status="missing")})),t}(e.metadata))),o&&o.length&&Xt(o,e.metadata.id,a),h.seq=s.target.result;var l=$t(h,t,n);c.put(l).onsuccess=p}function p(){_[s]={ok:!0,id:h.id,rev:h.rev},E.set(e.metadata.id,e.metadata),function(e,t,n){var i=0,r=Object.keys(e.data._attachments||{});if(!r.length)return n();function s(){++i===r.length&&n()}function o(n){var i=e.data._attachments[n].digest,r=d.put({seq:t,digestSeq:i+"::"+t});r.onsuccess=s,r.onerror=function(e){e.preventDefault(),e.stopPropagation(),s()}}for(var a=0;a<r.length;a++)o(r[a])}(e,h.seq,o)}u._doc_id_rev=h.id+"::"+h.rev,delete u._id,delete u._rev;var g=l.put(u);g.onsuccess=f,g.onerror=function(e){e.preventDefault(),e.stopPropagation(),l.index("_doc_id_rev").getKey(u._doc_id_rev).onsuccess=function(e){l.put(u,e.target.result).onsuccess=f}}}!function(e,t,n){if(!e.length)return n();var i,r=0;function s(){r++,e.length===r&&(i?n(i):n())}e.forEach((function(e){var n=e.data&&e.data._attachments?Object.keys(e.data._attachments):[],r=0;if(!n.length)return s();function o(e){i=e,++r===n.length&&s()}for(var a in e.data._attachments)Object.prototype.hasOwnProperty.call(e.data._attachments,a)&&Dt(e.data._attachments[a],t,o)}))}(g,x,(function(t){if(t)return o(t);!function(){var t=Jt(s,[Vt,"by-sequence","attach-store","local-store","attach-seq-store",zt],"readwrite");if(t.error)return o(t.error);(a=t.txn).onabort=Ut(o),a.ontimeout=Ut(o),a.oncomplete=A,c=a.objectStore(Vt),l=a.objectStore("by-sequence"),u=a.objectStore("attach-store"),d=a.objectStore("attach-seq-store"),(h=a.objectStore(zt)).get(zt).onsuccess=function(e){p=e.target.result,k()},function(e){var t=[];if(g.forEach((function(e){e.data&&e.data._attachments&&Object.keys(e.data._attachments).forEach((function(n){var i=e.data._attachments[n];i.stub&&t.push(i.digest)}))})),!t.length)return e();var n,i=0;t.forEach((function(r){!function(e,t){u.get(e).onsuccess=function(n){if(n.target.result)t();else{var i=ne(te,"unknown stub attachment with digest "+e);i.status=412,t(i)}}}(r,(function(r){r&&!n&&(n=r),++i===t.length&&e(n)}))}))}((function(t){if(t)return S=!0,o(t);!function(){if(!g.length)return;var t=0;function r(){++t===g.length&&Rt(e.revs_limit,g,i,E,a,_,C,n,L)}function s(e){var t=Zt(e.target.result);t&&E.set(t.id,t),r()}for(var o=0,l=g.length;o<l;o++){var u=g[o];if(u._id&&Ge(u._id))r();else c.get(u.metadata.id).onsuccess=s}}()}))}()}))}function tn(e,t,n,i,r){var s,o,a;function c(e){o=e.target.result,s&&r(s,o,a)}function l(e){s=e.target.result,o&&r(s,o,a)}function u(e){var t=e.target.result;if(!t)return r();r([t.key],[t.value],t)}-1===i&&(i=1e3),"function"==typeof e.getAll&&"function"==typeof e.getAllKeys&&i>1&&!n?(a={continue:function(){if(!s.length)return r();var n,a=s[s.length-1];if(t&&t.upper)try{n=IDBKeyRange.bound(a,t.upper,!0,t.upperOpen)}catch(e){if("DataError"===e.name&&0===e.code)return r()}else n=IDBKeyRange.lowerBound(a,!0);t=n,s=null,o=null,e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l}},e.getAll(t,i).onsuccess=c,e.getAllKeys(t,i).onsuccess=l):n?e.openCursor(t,"prev").onsuccess=u:e.openCursor(t).onsuccess=u}function nn(e,t,n){var i,r,s="startkey"in e&&e.startkey,o="endkey"in e&&e.endkey,a="key"in e&&e.key,c="keys"in e&&e.keys,l=e.skip||0,u="number"==typeof e.limit?e.limit:-1,d=!1!==e.inclusive_end;if(!c&&(r=(i=function(e,t,n,i,r){try{if(e&&t)return r?IDBKeyRange.bound(t,e,!n,!1):IDBKeyRange.bound(e,t,!1,!n);if(e)return r?IDBKeyRange.upperBound(e):IDBKeyRange.lowerBound(e);if(t)return r?IDBKeyRange.lowerBound(t,!n):IDBKeyRange.upperBound(t,!n);if(i)return IDBKeyRange.only(i)}catch(e){return{error:e}}return null}(s,o,d,a,e.descending))&&i.error)&&("DataError"!==r.name||0!==r.code))return n(ne(Q,r.name,r.message));var h=[Vt,"by-sequence",zt];e.attachments&&h.push("attach-store");var f=Jt(t,h,"readonly");if(f.error)return n(f.error);var p=f.txn;p.oncomplete=function(){e.attachments?Yt(E,e.binary).then(k):k()},p.onabort=Ut(n);var g,v,m,y=p.objectStore(Vt),b=p.objectStore("by-sequence"),w=p.objectStore(zt),_=b.index("_doc_id_rev"),E=[];function S(t,n){var i={id:n.id,key:n.id,value:{rev:t}};n.deleted?c&&(E.push(i),i.value.deleted=!0,i.doc=null):l--<=0&&(E.push(i),e.include_docs&&function(t,n,i){var r=t.id+"::"+i;_.get(r).onsuccess=function(i){if(n.doc=Gt(i.target.result)||{},e.conflicts){var r=qe(t);r.length&&(n.doc._conflicts=r)}Kt(n.doc,e,p)}}(n,i,t))}function x(e){for(var t=0,n=e.length;t<n&&E.length!==u;t++){var i=e[t];if(i.error&&c)E.push(i);else{var r=Zt(i);S(r.winningRev,r)}}}function L(e,t,n){n&&(x(t),E.length<u&&n.continue())}function k(){var t={total_rows:g,offset:e.skip,rows:E};e.update_seq&&void 0!==v&&(t.update_seq=v),n(null,t)}return w.get(zt).onsuccess=function(e){g=e.target.result.docCount},e.update_seq&&(m=function(e){e.target.result&&e.target.result.length>0&&(v=e.target.result[0])},b.openCursor(null,"prev").onsuccess=function(e){var t=e.target.result,n=void 0;return t&&t.key&&(n=t.key),m({target:{result:[n]}})}),r||0===u?void 0:c?function(e,t,n){var i=new Array(e.length),r=0;e.forEach((function(s,o){t.get(s).onsuccess=function(t){t.target.result?i[o]=t.target.result:i[o]={key:s,error:"not_found"},++r===e.length&&n(e,i,{})}}))}(e.keys,y,L):-1===u?function(e,t,n){if("function"!=typeof e.getAll){var i=[];e.openCursor(t).onsuccess=function(e){var t=e.target.result;t?(i.push(t.value),t.continue()):n({target:{result:i}})}}else e.getAll(t).onsuccess=n}(y,i,(function(t){var n=t.target.result;e.descending&&(n=n.reverse()),x(n)})):void tn(y,i,e.descending,u+l,L)}var rn=!1,sn=[];function on(){!rn&&sn.length&&(rn=!0,sn.shift()())}function an(e,t,n,s){if((e=L(e)).continuous){var o=n+":"+Oe();return Qt.addListener(n,o,t,e),Qt.notify(n),{cancel:function(){Qt.removeListener(n,o)}}}var a=e.doc_ids&&new i(e.doc_ids);e.since=e.since||0;var c=e.since,l="limit"in e?e.limit:-1;0===l&&(l=1);var u,d,h,f,p=[],g=0,v=re(e),m=new r;function y(e,t,n,i){if(n.seq!==t)return i();if(n.winningRev===e._rev)return i(n,e);var r=e._id+"::"+n.winningRev;f.get(r).onsuccess=function(e){i(n,Gt(e.target.result))}}function b(){e.complete(null,{results:p,last_seq:c})}var w=[Vt,"by-sequence"];e.attachments&&w.push("attach-store");var _=Jt(s,w,"readonly");if(_.error)return e.complete(_.error);(u=_.txn).onabort=Ut(e.complete),u.oncomplete=function(){!e.continuous&&e.attachments?Yt(p).then(b):b()},d=u.objectStore("by-sequence"),h=u.objectStore(Vt),f=d.index("_doc_id_rev"),tn(d,e.since&&!e.descending?IDBKeyRange.lowerBound(e.since,!0):null,e.descending,l,(function(t,n,i){if(i&&t.length){var r=new Array(t.length),s=new Array(t.length),o=0;n.forEach((function(n,c){!function(e,t,n){if(a&&!a.has(e._id))return n();var i=m.get(e._id);if(i)return y(e,t,i,n);h.get(e._id).onsuccess=function(r){i=Zt(r.target.result),m.set(e._id,i),y(e,t,i,n)}}(Gt(n),t[c],(function(n,a){s[c]=n,r[c]=a,++o===t.length&&function(){for(var t=[],n=0,o=r.length;n<o&&g!==l;n++){var a=r[n];if(a){var c=s[n];t.push(d(c,a))}}Promise.all(t).then((function(t){for(var n=0,i=t.length;n<i;n++)t[n]&&e.onChange(t[n])})).catch(e.complete),g!==l&&i.continue()}()}))}))}function d(t,n){var i=e.processChange(n,t,e);c=i.seq=t.seq;var r=v(i);return"object"==typeof r?Promise.reject(r):r?(g++,e.return_docs&&p.push(i),e.attachments&&e.include_docs?new Promise((function(t){Kt(n,e,u,(function(){Yt([i],e.binary).then((function(){t(i)}))}))})):Promise.resolve(i)):Promise.resolve()}}))}var cn,ln=new r,un=new r;function dn(e,t){var n=this;!function(e,t,n){sn.push((function(){e((function(e,i){!function(e,t,n,i){try{e(t,n)}catch(t){i.emit("error",t)}}(t,e,i,n),rn=!1,o()((function(){on()}))}))})),on()}((function(t){!function(e,t,n){var i=t.name,r=null,s=null;function a(e){return function(t,n){t&&t instanceof Error&&!t.reason&&s&&(t.reason=s),e(t,n)}}function c(e,t){var n=e.objectStore(Vt);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r=i.value,s=Ze(r);r.deletedOrLocal=s?"1":"0",n.put(r),i.continue()}else t()}}function l(e,t){var n=e.objectStore("local-store"),i=e.objectStore(Vt),r=e.objectStore("by-sequence");i.openCursor().onsuccess=function(e){var s=e.target.result;if(s){var o=s.value,a=o.id,c=Ge(a),l=Be(o);if(c){var u=a+"::"+l,d=a+"::",h=a+"::~",f=r.index("_doc_id_rev"),p=IDBKeyRange.bound(d,h,!1,!1),g=f.openCursor(p);g.onsuccess=function(e){if(g=e.target.result){var t=g.value;t._doc_id_rev===u&&n.put(t),r.delete(g.primaryKey),g.continue()}else i.delete(s.primaryKey),s.continue()}}else s.continue()}else t&&t()}}function u(e,t){var n=e.objectStore("by-sequence"),i=e.objectStore("attach-store"),r=e.objectStore("attach-seq-store");i.count().onsuccess=function(e){if(!e.target.result)return t();n.openCursor().onsuccess=function(e){var n=e.target.result;if(!n)return t();for(var i=n.value,s=n.primaryKey,o=Object.keys(i._attachments||{}),a={},c=0;c<o.length;c++){a[i._attachments[o[c]].digest]=!0}var l=Object.keys(a);for(c=0;c<l.length;c++){var u=l[c];r.put({seq:s,digestSeq:u+"::"+s})}n.continue()}}}function d(e){var t=e.objectStore("by-sequence"),n=e.objectStore(Vt);n.openCursor().onsuccess=function(e){var i=e.target.result;if(i){var r,s=(r=i.value).data?Zt(r):(r.deleted="1"===r.deletedOrLocal,r);if(s.winningRev=s.winningRev||Be(s),s.seq)return o();!function(){var e=s.id+"::",n=s.id+"::￿",i=t.index("_doc_id_rev").openCursor(IDBKeyRange.bound(e,n)),r=0;i.onsuccess=function(e){var t=e.target.result;if(!t)return s.seq=r,o();var n=t.primaryKey;n>r&&(r=n),t.continue()}}()}function o(){var e=$t(s,s.winningRev,s.deleted);n.put(e).onsuccess=function(){i.continue()}}}}e._meta=null,e._remote=!1,e.type=function(){return"idb"},e._id=A((function(t){t(null,e._meta.instanceId)})),e._bulkDocs=function(n,i,s){en(t,n,i,e,r,a(s))},e._get=function(e,t,n){var i,s,o,a=t.ctx;if(!a){var c=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(c.error)return n(c.error);a=c.txn}function l(){n(o,{doc:i,metadata:s,ctx:a})}a.objectStore(Vt).get(e).onsuccess=function(e){if(!(s=Zt(e.target.result)))return o=ne(z,"missing"),l();var n;if(t.rev)n=t.latest?function(e,t){for(var n,i=t.rev_tree.slice();n=i.pop();){var r=n.pos,s=n.ids,o=s[0],a=s[1],c=s[2],l=0===c.length,u=n.history?n.history.slice():[];if(u.push({id:o,pos:r,opts:a}),l)for(var d=0,h=u.length;d<h;d++){var f=u[d];if(f.pos+"-"+f.id===e)return r+"-"+o}for(var p=0,g=c.length;p<g;p++)i.push({pos:r+1,ids:c[p],history:u})}throw new Error("Unable to resolve latest revision for id "+t.id+", rev "+e)}(t.rev,s):t.rev;else if(n=s.winningRev,Ze(s))return o=ne(z,"deleted"),l();var r=a.objectStore("by-sequence"),c=s.id+"::"+n;r.index("_doc_id_rev").get(c).onsuccess=function(e){if((i=e.target.result)&&(i=Gt(i)),!i)return o=ne(z,"missing"),l();l()}}},e._getAttachment=function(e,t,n,i,s){var o;if(i.ctx)o=i.ctx;else{var a=Jt(r,[Vt,"by-sequence","attach-store"],"readonly");if(a.error)return s(a.error);o=a.txn}var c=n.digest,l=n.content_type;o.objectStore("attach-store").get(c).onsuccess=function(e){Wt(e.target.result.body,l,i.binary,(function(e){s(null,e)}))}},e._info=function(t){var n,i,s=Jt(r,[zt,"by-sequence"],"readonly");if(s.error)return t(s.error);var o=s.txn;o.objectStore(zt).get(zt).onsuccess=function(e){i=e.target.result.docCount},o.objectStore("by-sequence").openCursor(null,"prev").onsuccess=function(e){var t=e.target.result;n=t?t.key:0},o.oncomplete=function(){t(null,{doc_count:i,update_seq:n,idb_attachment_format:e._meta.blobSupport?"binary":"base64"})}},e._allDocs=function(e,t){nn(e,r,a(t))},e._changes=function(t){return an(t,e,i,r)},e._close=function(e){r.close(),ln.delete(i),e()},e._getRevisionTree=function(e,t){var n=Jt(r,[Vt],"readonly");if(n.error)return t(n.error);n.txn.objectStore(Vt).get(e).onsuccess=function(e){var n=Zt(e.target.result);n?t(null,n.rev_tree):t(ne(z))}},e._doCompaction=function(e,t,n){var i=Jt(r,[Vt,"by-sequence","attach-store","attach-seq-store"],"readwrite");if(i.error)return n(i.error);var s=i.txn;s.objectStore(Vt).get(e).onsuccess=function(n){var i=Zt(n.target.result);Te(i.rev_tree,(function(e,n,i,r,s){var o=n+"-"+i;-1!==t.indexOf(o)&&(s.status="missing")})),Xt(t,e,s);var r=i.winningRev,o=i.deleted;s.objectStore(Vt).put($t(i,r,o))},s.onabort=Ut(n),s.oncomplete=function(){n()}},e._getLocal=function(e,t){var n=Jt(r,["local-store"],"readonly");if(n.error)return t(n.error);var i=n.txn.objectStore("local-store").get(e);i.onerror=Ut(t),i.onsuccess=function(e){var n=e.target.result;n?(delete n._doc_id_rev,t(null,n)):t(ne(z))}},e._putLocal=function(e,t,n){"function"==typeof t&&(n=t,t={}),delete e._revisions;var i=e._rev,s=e._id;e._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var o,a=t.ctx;if(!a){var c=Jt(r,["local-store"],"readwrite");if(c.error)return n(c.error);(a=c.txn).onerror=Ut(n),a.oncomplete=function(){o&&n(null,o)}}var l,u=a.objectStore("local-store");i?(l=u.get(s)).onsuccess=function(r){var s=r.target.result;s&&s._rev===i?u.put(e).onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)}:n(ne(H))}:((l=u.add(e)).onerror=function(e){n(ne(H)),e.preventDefault(),e.stopPropagation()},l.onsuccess=function(){o={ok:!0,id:e._id,rev:e._rev},t.ctx&&n(null,o)})},e._removeLocal=function(e,t,n){"function"==typeof t&&(n=t,t={});var i,s=t.ctx;if(!s){var o=Jt(r,["local-store"],"readwrite");if(o.error)return n(o.error);(s=o.txn).oncomplete=function(){i&&n(null,i)}}var a=e._id,c=s.objectStore("local-store"),l=c.get(a);l.onerror=Ut(n),l.onsuccess=function(r){var s=r.target.result;s&&s._rev===e._rev?(c.delete(a),i={ok:!0,id:a,rev:"0-0"},t.ctx&&n(null,i)):n(ne(z))}},e._destroy=function(e,t){Qt.removeAllListeners(i);var n=un.get(i);n&&n.result&&(n.result.close(),ln.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){un.delete(i),N()&&i in localStorage&&delete localStorage[i],t(null,{ok:!0})},r.onerror=Ut(t)};var h=ln.get(i);if(h)return r=h.idb,e._meta=h.global,o()((function(){n(null,e)}));var f=indexedDB.open(i,5);un.set(i,f),f.onupgradeneeded=function(e){var t=e.target.result;if(e.oldVersion<1)return function(e){var t=e.createObjectStore(Vt,{keyPath:"id"});e.createObjectStore("by-sequence",{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),e.createObjectStore("attach-store",{keyPath:"digest"}),e.createObjectStore(zt,{keyPath:"id",autoIncrement:!1}),e.createObjectStore("detect-blob-support"),t.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),e.createObjectStore("local-store",{keyPath:"_id"});var n=e.createObjectStore("attach-seq-store",{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var n=e.currentTarget.transaction;e.oldVersion<3&&function(e){e.createObjectStore("local-store",{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}(t),e.oldVersion<4&&function(e){var t=e.createObjectStore("attach-seq-store",{autoIncrement:!0});t.createIndex("seq","seq"),t.createIndex("digestSeq","digestSeq",{unique:!0})}(t);var i=[c,l,u,d],r=e.oldVersion;!function e(){var t=i[r-1];r++,t&&t(n,e)}()},f.onsuccess=function(t){(r=t.target.result).onversionchange=function(){r.close(),ln.delete(i)},r.onabort=function(e){q("error","Database has a global failure",e.target.error),s=e.target.error,r.close(),ln.delete(i)};var o,a,c,l,u=r.transaction([zt,"detect-blob-support",Vt],"readwrite"),d=!1;function h(){void 0!==c&&d&&(e._meta={name:i,instanceId:l,blobSupport:c},ln.set(i,{idb:r,global:e._meta}),n(null,e))}function f(){if(void 0!==a&&void 0!==o){var e=i+"_id";e in o?l=o[e]:o[e]=l=Oe(),o.docCount=a,u.objectStore(zt).put(o)}}u.objectStore(zt).get(zt).onsuccess=function(e){o=e.target.result||{id:zt},f()},function(e,t){e.objectStore(Vt).index("deletedOrLocal").count(IDBKeyRange.only("0")).onsuccess=function(e){t(e.target.result)}}(u,(function(e){a=e,f()})),cn||(cn=function(e){return new Promise((function(t){var n=ye([""]),i=e.objectStore("detect-blob-support").put(n,"key");i.onsuccess=function(){var e=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!e||parseInt(e[1],10)>=43)},i.onerror=e.onabort=function(e){e.preventDefault(),e.stopPropagation(),t(!1)}})).catch((function(){return!1}))}(u)),cn.then((function(e){c=e,h()})),u.oncomplete=function(){d=!0,h()},u.onabort=Ut(n)},f.onerror=function(e){var t=e.target.error&&e.target.error.message;t?-1!==t.indexOf("stored database is a higher version")&&(t=new Error('This DB was created with the newer "indexeddb" adapter, but you are trying to open it with the older "idb" adapter')):t="Failed to open indexedDB, are you in private browsing mode?",q("error",t),n(ne(Q,t))}}(n,e,t)}),t,n.constructor)}dn.valid=function(){try{return"undefined"!=typeof indexedDB&&"undefined"!=typeof IDBKeyRange}catch(e){return!1}};var hn={};function fn(e){var t=e.doc||e.ok,n=t&&t._attachments;n&&Object.keys(n).forEach((function(e){var t=n[e];t.data=_e(t.data,t.content_type)}))}function pn(e){return/^_design/.test(e)?"_design/"+encodeURIComponent(e.slice(8)):/^_local/.test(e)?"_local/"+encodeURIComponent(e.slice(7)):encodeURIComponent(e)}function gn(e){return e._attachments&&Object.keys(e._attachments)?Promise.all(Object.keys(e._attachments).map((function(t){var n=e._attachments[t];if(n.data&&"string"!=typeof n.data)return new Promise((function(e){xe(n.data,e)})).then((function(e){n.data=e}))}))):Promise.resolve()}function vn(e,t){if(function(e){if(!e.prefix)return!1;var t=fe(e.prefix).protocol;return"http"===t||"https"===t}(t)){var n=t.name.substr(t.prefix.length);e=t.prefix.replace(/\/?$/,"/")+encodeURIComponent(n)}var i=fe(e);(i.user||i.password)&&(i.auth={username:i.user,password:i.password});var r=i.path.replace(/(^\/|\/$)/g,"").split("/");return i.db=r.pop(),-1===i.db.indexOf("%")&&(i.db=encodeURIComponent(i.db)),i.path=r.join("/"),i}function mn(e,t){return yn(e,e.db+"/"+t)}function yn(e,t){var n=e.path?"/":"";return e.protocol+"://"+e.host+(e.port?":"+e.port:"")+"/"+e.path+n+t}function bn(e){return"?"+Object.keys(e).map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")}function wn(t,n){var i=this,r=vn(t.name,t),s=mn(r,"");t=L(t);var a,c=function(e,n){if((n=n||{}).headers=n.headers||new rt,n.credentials="include",t.auth||r.auth){var i=t.auth||r.auth,s=i.username+":"+i.password,o=me(unescape(encodeURIComponent(s)));n.headers.set("Authorization","Basic "+o)}var a=t.headers||{};return Object.keys(a).forEach((function(e){n.headers.append(e,a[e])})),function(e){var t="undefined"!=typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==t.indexOf("msie"),i=-1!==t.indexOf("trident"),r=-1!==t.indexOf("edge"),s=!("method"in e)||"GET"===e.method;return(n||i||r)&&s}(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now()),(t.fetch||it)(e,n)};function l(e,t){return C(e,f()((function(e){d().then((function(){return t.apply(this,e)})).catch((function(t){e.pop()(t)}))}))).bind(i)}function u(e,t,n){var i={};return(t=t||{}).headers=t.headers||new rt,t.headers.get("Content-Type")||t.headers.set("Content-Type","application/json"),t.headers.get("Accept")||t.headers.set("Accept","application/json"),c(e,t).then((function(e){return i.ok=e.ok,i.status=e.status,e.json()})).then((function(e){if(i.data=e,!i.ok){i.data.status=i.status;var t=ie(i.data);if(n)return n(t);throw t}if(Array.isArray(i.data)&&(i.data=i.data.map((function(e){return e.error||e.missing?ie(e):e}))),!n)return i;n(null,i.data)}))}function d(){return t.skip_setup?Promise.resolve():a||((a=u(s).catch((function(e){return e&&e.status&&404===e.status?(D(404,"PouchDB is just detecting if the remote exists."),u(s,{method:"PUT"})):Promise.reject(e)})).catch((function(e){return!(!e||!e.status||412!==e.status)||Promise.reject(e)}))).catch((function(){a=null})),a)}function h(e){return e.split("/").map(encodeURIComponent).join("/")}o()((function(){n(null,i)})),i._remote=!0,i.type=function(){return"http"},i.id=l("id",(function(e){c(yn(r,"")).then((function(e){return e.json()})).catch((function(){return{}})).then((function(t){var n=t&&t.uuid?t.uuid+r.db:mn(r,"");e(null,n)}))})),i.compact=l("compact",(function(e,t){"function"==typeof e&&(t=e,e={}),e=L(e),u(mn(r,"_compact"),{method:"POST"}).then((function(){!function n(){i.info((function(i,r){r&&!r.compact_running?t(null,{ok:!0}):setTimeout(n,e.interval||200)}))}()}))})),i.bulkGet=C("bulkGet",(function(e,t){var n=this;function i(t){var n={};e.revs&&(n.revs=!0),e.attachments&&(n.attachments=!0),e.latest&&(n.latest=!0),u(mn(r,"_bulk_get"+bn(n)),{method:"POST",body:JSON.stringify({docs:e.docs})}).then((function(n){e.attachments&&e.binary&&n.data.results.forEach((function(e){e.docs.forEach(fn)})),t(null,n.data)})).catch(t)}function s(){var i=Math.ceil(e.docs.length/50),r=0,s=new Array(i);function o(e){return function(n,o){s[e]=o.results,++r===i&&t(null,{results:se(s)})}}for(var a=0;a<i;a++){var c=I(e,["revs","attachments","binary","latest"]);c.docs=e.docs.slice(50*a,Math.min(e.docs.length,50*(a+1))),T(n,c,o(a))}}var o=yn(r,""),a=hn[o];"boolean"!=typeof a?i((function(e,n){e?(hn[o]=!1,D(e.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),s()):(hn[o]=!0,t(null,n))})):a?i(t):s()})),i._info=function(e){d().then((function(){return c(mn(r,""))})).then((function(e){return e.json()})).then((function(t){t.host=mn(r,""),e(null,t)})).catch(e)},i.fetch=function(e,t){return d().then((function(){var n="/"===e.substring(0,1)?yn(r,e.substring(1)):mn(r,e);return c(n,t)}))},i.get=l("get",(function(e,t,n){"function"==typeof t&&(n=t,t={});var i={};function s(e){var n=e._attachments,i=n&&Object.keys(n);if(n&&i.length)return function(e,t){return new Promise((function(n,i){var r,s=0,o=0,a=0,c=e.length;function l(){++a===c?r?i(r):n():h()}function u(){s--,l()}function d(e){s--,r=r||e,l()}function h(){for(;s<t&&o<c;)s++,e[o++]().then(u,d)}h()}))}(i.map((function(i){return function(){return function(i){var s=n[i],o=pn(e._id)+"/"+h(i)+"?rev="+e._rev;return c(mn(r,o)).then((function(e){return"buffer"in e?e.buffer():e.blob()})).then((function(e){if(t.binary){var n=Object.getOwnPropertyDescriptor(e.__proto__,"type");return n&&!n.set||(e.type=s.content_type),e}return new Promise((function(t){xe(e,t)}))})).then((function(e){delete s.stub,delete s.length,s.data=e}))}(i)}})),5)}(t=L(t)).revs&&(i.revs=!0),t.revs_info&&(i.revs_info=!0),t.latest&&(i.latest=!0),t.open_revs&&("all"!==t.open_revs&&(t.open_revs=JSON.stringify(t.open_revs)),i.open_revs=t.open_revs),t.rev&&(i.rev=t.rev),t.conflicts&&(i.conflicts=t.conflicts),t.update_seq&&(i.update_seq=t.update_seq),e=pn(e),u(mn(r,e+bn(i))).then((function(e){return Promise.resolve().then((function(){if(t.attachments)return n=e.data,Array.isArray(n)?Promise.all(n.map((function(e){if(e.ok)return s(e.ok)}))):s(n);var n})).then((function(){n(null,e.data)}))})).catch((function(t){t.docId=e,n(t)}))})),i.remove=l("remove",(function(e,t,n,i){var s;"string"==typeof t?(s={_id:e,_rev:t},"function"==typeof n&&(i=n,n={})):(s=e,"function"==typeof t?(i=t,n={}):(i=n,n=t));var o=s._rev||n.rev;u(mn(r,pn(s._id))+"?rev="+o,{method:"DELETE"},i).catch(i)})),i.getAttachment=l("getAttachment",(function(t,n,i,s){"function"==typeof i&&(s=i,i={});var o,a=i.rev?"?rev="+i.rev:"",l=mn(r,pn(t))+"/"+h(n)+a;c(l,{method:"GET"}).then((function(t){if(o=t.headers.get("content-type"),t.ok)return void 0===e||e.browser||"function"!=typeof t.buffer?t.blob():t.buffer();throw t})).then((function(t){void 0===e||e.browser||(t.type=o),s(null,t)})).catch((function(e){s(e)}))})),i.removeAttachment=l("removeAttachment",(function(e,t,n,i){u(mn(r,pn(e)+"/"+h(t))+"?rev="+n,{method:"DELETE"},i).catch(i)})),i.putAttachment=l("putAttachment",(function(e,t,n,i,s,o){"function"==typeof s&&(o=s,s=i,i=n,n=null);var a=pn(e)+"/"+h(t),c=mn(r,a);if(n&&(c+="?rev="+n),"string"==typeof i){var l;try{l=ve(i)}catch(e){return o(ne(W,"Attachment is not a valid base64 string"))}i=l?we(l,s):""}u(c,{headers:new rt({"Content-Type":s}),method:"PUT",body:i},o).catch(o)})),i._bulkDocs=function(e,t,n){e.new_edits=t.new_edits,d().then((function(){return Promise.all(e.docs.map(gn))})).then((function(){return u(mn(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(e)},n)})).catch(n)},i._put=function(e,t,n){d().then((function(){return gn(e)})).then((function(){return u(mn(r,pn(e._id)),{method:"PUT",body:JSON.stringify(e)})})).then((function(e){n(null,e.data)})).catch((function(t){t.docId=e&&e._id,n(t)}))},i.allDocs=l("allDocs",(function(e,t){"function"==typeof e&&(t=e,e={});var n,i={},s="GET";(e=L(e)).conflicts&&(i.conflicts=!0),e.update_seq&&(i.update_seq=!0),e.descending&&(i.descending=!0),e.include_docs&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.key&&(i.key=JSON.stringify(e.key)),e.start_key&&(e.startkey=e.start_key),e.startkey&&(i.startkey=JSON.stringify(e.startkey)),e.end_key&&(e.endkey=e.end_key),e.endkey&&(i.endkey=JSON.stringify(e.endkey)),void 0!==e.inclusive_end&&(i.inclusive_end=!!e.inclusive_end),void 0!==e.limit&&(i.limit=e.limit),void 0!==e.skip&&(i.skip=e.skip);var o=bn(i);void 0!==e.keys&&(s="POST",n={keys:e.keys}),u(mn(r,"_all_docs"+o),{method:s,body:JSON.stringify(n)}).then((function(n){e.include_docs&&e.attachments&&e.binary&&n.data.rows.forEach(fn),t(null,n.data)})).catch(t)})),i._changes=function(e){var t="batch_size"in e?e.batch_size:25;(e=L(e)).continuous&&!("heartbeat"in e)&&(e.heartbeat=1e4);var n="timeout"in e?e.timeout:3e4;"timeout"in e&&e.timeout&&n-e.timeout<5e3&&(n=e.timeout+5e3),"heartbeat"in e&&e.heartbeat&&n-e.heartbeat<5e3&&(n=e.heartbeat+5e3);var i={};"timeout"in e&&e.timeout&&(i.timeout=e.timeout);var s=void 0!==e.limit&&e.limit,a=s;if(e.style&&(i.style=e.style),(e.include_docs||e.filter&&"function"==typeof e.filter)&&(i.include_docs=!0),e.attachments&&(i.attachments=!0),e.continuous&&(i.feed="longpoll"),e.seq_interval&&(i.seq_interval=e.seq_interval),e.conflicts&&(i.conflicts=!0),e.descending&&(i.descending=!0),e.update_seq&&(i.update_seq=!0),"heartbeat"in e&&e.heartbeat&&(i.heartbeat=e.heartbeat),e.filter&&"string"==typeof e.filter&&(i.filter=e.filter),e.view&&"string"==typeof e.view&&(i.filter="_view",i.view=e.view),e.query_params&&"object"==typeof e.query_params)for(var c in e.query_params)Object.prototype.hasOwnProperty.call(e.query_params,c)&&(i[c]=e.query_params[c]);var l,h="GET";e.doc_ids?(i.filter="_doc_ids",h="POST",l={doc_ids:e.doc_ids}):e.selector&&(i.filter="_selector",h="POST",l={selector:e.selector});var f,p=new nt,g=function(n,o){if(!e.aborted){i.since=n,"object"==typeof i.since&&(i.since=JSON.stringify(i.since)),e.descending?s&&(i.limit=a):i.limit=!s||a>t?t:a;var c=mn(r,"_changes"+bn(i)),g={signal:p.signal,method:h,body:JSON.stringify(l)};f=n,e.aborted||d().then((function(){return u(c,g,o)})).catch(o)}},v={results:[]},m=function(n,i){if(!e.aborted){var r=0;if(i&&i.results){r=i.results.length,v.last_seq=i.last_seq;var c=null,l=null;"number"==typeof i.pending&&(c=i.pending),"string"!=typeof v.last_seq&&"number"!=typeof v.last_seq||(l=v.last_seq);e.query_params,i.results=i.results.filter((function(t){a--;var n=re(e)(t);return n&&(e.include_docs&&e.attachments&&e.binary&&fn(t),e.return_docs&&v.results.push(t),e.onChange(t,c,l)),n}))}else if(n)return e.aborted=!0,void e.complete(n);i&&i.last_seq&&(f=i.last_seq);var u=s&&a<=0||i&&r<t||e.descending;(!e.continuous||s&&a<=0)&&u?e.complete(null,v):o()((function(){g(f,m)}))}};return g(e.since||0,m),{cancel:function(){e.aborted=!0,p.abort()}}},i.revsDiff=l("revsDiff",(function(e,t,n){"function"==typeof t&&(n=t,t={}),u(mn(r,"_revs_diff"),{method:"POST",body:JSON.stringify(e)},n).catch(n)})),i._close=function(e){e()},i._destroy=function(e,t){u(mn(r,""),{method:"DELETE"}).then((function(e){t(null,e)})).catch((function(e){404===e.status?t(null,{ok:!0}):t(e)}))}}function _n(e){this.status=400,this.name="query_parse_error",this.message=e,this.error=!0;try{Error.captureStackTrace(this,_n)}catch(e){}}function En(e){this.status=404,this.name="not_found",this.message=e,this.error=!0;try{Error.captureStackTrace(this,En)}catch(e){}}function Sn(e){this.status=500,this.name="invalid_value",this.message=e,this.error=!0;try{Error.captureStackTrace(this,Sn)}catch(e){}}function xn(e,t){return t&&e.then((function(e){o()((function(){t(null,e)}))}),(function(e){o()((function(){t(e)}))})),e}function Ln(e,t){return function(){var n=arguments,i=this;return e.add((function(){return t.apply(i,n)}))}}function kn(e){var t=new i(e),n=new Array(t.size),r=-1;return t.forEach((function(e){n[++r]=e})),n}function An(e){var t=new Array(e.size),n=-1;return e.forEach((function(e,i){t[++n]=i})),t}function Cn(e){return new Sn("builtin "+e+" function requires map values to be numbers or number arrays")}function In(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];if("number"!=typeof r){if(!Array.isArray(r))throw Cn("_sum");t="number"==typeof t?[t]:t;for(var s=0,o=r.length;s<o;s++){var a=r[s];if("number"!=typeof a)throw Cn("_sum");void 0===t[s]?t.push(a):t[s]+=a}}else"number"==typeof t?t+=r:t[0]+=r}return t}wn.valid=function(){return!0},g()(_n,Error),g()(En,Error),g()(Sn,Error);var Pn=q.bind(null,"log"),On=Array.isArray,Bn=JSON.parse;function Tn(e,t){return pe("return ("+e.replace(/;\s*$/,"")+");",{emit:t,sum:In,log:Pn,isArray:On,toJSON:Bn})}function Nn(){this.promise=new Promise((function(e){e()}))}function Mn(e){if(!e)return"undefined";switch(typeof e){case"function":case"string":return e.toString();default:return JSON.stringify(e)}}function qn(e,t,n,i,r,s){var o,a=function(e,t){return Mn(e)+Mn(t)+"undefined"}(n,i);if(!r&&(o=e._cachedViews=e._cachedViews||{})[a])return o[a];var c=e.info().then((function(c){var l=c.db_name+"-mrview-"+(r?"temp":Ie(a));return ge(e,"_local/"+s,(function(e){e.views=e.views||{};var n=t;-1===n.indexOf("/")&&(n=t+"/"+t);var i=e.views[n]=e.views[n]||{};if(!i[l])return i[l]=!0,e})).then((function(){return e.registerDependentDatabase(l).then((function(t){var r=t.db;r.auto_compaction=!0;var s={name:l,db:r,sourceDB:e,adapter:e.adapter,mapFun:n,reduceFun:i};return s.db.get("_local/lastSeq").catch((function(e){if(404!==e.status)throw e})).then((function(e){return s.seq=e?e.seq:0,o&&s.db.once("destroyed",(function(){delete o[a]})),s}))}))}))}));return o&&(o[a]=c),c}Nn.prototype.add=function(e){return this.promise=this.promise.catch((function(){})).then((function(){return e()})),this.promise},Nn.prototype.finish=function(){return this.promise};var jn={},Dn=new Nn;function Fn(e){return-1===e.indexOf("/")?[e,e]:e.split("/")}function Rn(e,t){try{e.emit("error",t)}catch(e){q("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),q("error",t)}}var Vn=function(e,t){return In(t)},zn=function(e,t){return t.length},Hn=function(e,t){return{sum:In(t),min:Math.min.apply(null,t),max:Math.max.apply(null,t),count:t.length,sumsqr:function(e){for(var t=0,n=0,i=e.length;n<i;n++){var r=e[n];t+=r*r}return t}(t)}};var Un=function(e,t,n,s){function a(e,t,n){try{t(n)}catch(t){Rn(e,t)}}function c(e,t,n,i,r){try{return{output:t(n,i,r)}}catch(t){return Rn(e,t),{error:t}}}function l(e,t){var n=ft(e.key,t.key);return 0!==n?n:ft(e.value,t.value)}function u(e,t,n){return n=n||0,"number"==typeof t?e.slice(n,t+n):n>0?e.slice(n):e}function d(e){var t=e.value;return t&&"object"==typeof t&&t._id||e.id}function h(e){return function(t){return e.include_docs&&e.attachments&&e.binary&&function(e){e.rows.forEach((function(e){var t=e.doc&&e.doc._attachments;t&&Object.keys(t).forEach((function(e){var n=t[e];t[e].data=_e(n.data,n.content_type)}))}))}(t),t}}function p(e,t,n,i){var r=t[e];void 0!==r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(e+"="+r))}function g(e){if(void 0!==e){var t=Number(e);return isNaN(t)||t!==parseInt(e,10)?e:t}}function v(e,t){var n=e.descending?"endkey":"startkey",i=e.descending?"startkey":"endkey";if(void 0!==e[n]&&void 0!==e[i]&&ft(e[n],e[i])>0)throw new _n("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(t.reduce&&!1!==e.reduce){if(e.include_docs)throw new _n("{include_docs:true} is invalid for reduce");if(e.keys&&e.keys.length>1&&!e.group&&!e.group_level)throw new _n("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach((function(t){var n=function(e){if(e){if("number"!=typeof e)return new _n('Invalid value for integer: "'+e+'"');if(e<0)return new _n('Invalid value for positive integer: "'+e+'"')}}(e[t]);if(n)throw n}))}function m(e){return function(t){if(404===t.status)return e;throw t}}function y(e,t,n){var r="_local/doc_"+e,s={_id:r,keys:[]},o=n.get(e),a=o[0];return(function(e){return 1===e.length&&/^1-/.test(e[0].rev)}(o[1])?Promise.resolve(s):t.db.get(r).catch(m(s))).then((function(e){return function(e){return e.keys.length?t.db.allDocs({keys:e.keys,include_docs:!0}):Promise.resolve({rows:[]})}(e).then((function(t){return function(e,t){for(var n=[],r=new i,s=0,o=t.rows.length;s<o;s++){var c=t.rows[s].doc;if(c&&(n.push(c),r.add(c._id),c._deleted=!a.has(c._id),!c._deleted)){var l=a.get(c._id);"value"in l&&(c.value=l.value)}}var u=An(a);return u.forEach((function(e){if(!r.has(e)){var t={_id:e},i=a.get(e);"value"in i&&(t.value=i.value),n.push(t)}})),e.keys=kn(u.concat(e.keys)),n.push(e),n}(e,t)}))}))}function b(e){var t="string"==typeof e?e:e.name,n=jn[t];return n||(n=jn[t]=new Nn),n}function w(e,n){return Ln(b(e),(function(){return function(e,n){var i,s;var o=t(e.mapFun,(function(e,t){var n={id:s._id,key:pt(e)};null!=t&&(n.value=pt(t)),i.push(n)})),c=e.seq||0;function u(t,n){return function(){return function(e,t,n){return e.db.get("_local/lastSeq").catch(m({_id:"_local/lastSeq",seq:0})).then((function(i){var r=An(t);return Promise.all(r.map((function(n){return y(n,e,t)}))).then((function(t){var r=se(t);return i.seq=n,r.push(i),e.db.bulkDocs({docs:r})}))}))}(e,t,n)}}let d=0,h={view:e.name,indexed_docs:d};e.sourceDB.emit("indexing",h);var f=new Nn;function p(){return e.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:c,limit:n.changes_batch_size}).then(g)}function g(t){var h=t.results;if(!h.length)return;var g=function(t){for(var n=new r,u=0,d=t.length;u<d;u++){var h=t[u];if("_"!==h.doc._id[0]){i=[],(s=h.doc)._deleted||a(e.sourceDB,o,s),i.sort(l);var f=v(i);n.set(h.doc._id,[f,h.changes])}c=h.seq}return n}(h);f.add(u(g,c)),d+=h.length;let m={view:e.name,last_seq:t.last_seq,results_count:h.length,indexed_docs:d};return e.sourceDB.emit("indexing",m),h.length<n.changes_batch_size?void 0:p()}function v(e){for(var t,n=new r,i=0,s=e.length;i<s;i++){var o=e[i],a=[o.key,o.id];i>0&&0===ft(o.key,t)&&a.push(i),n.set(vt(a),o),t=o.key}return n}return p().then((function(){return f.finish()})).then((function(){e.seq=c}))}(e,n)}))()}function _(e,t){return Ln(b(e),(function(){return function(e,t){var i,s=e.reduceFun&&!1!==t.reduce,o=t.skip||0;void 0===t.keys||t.keys.length||(t.limit=0,delete t.keys);function a(t){return t.include_docs=!0,e.db.allDocs(t).then((function(e){return i=e.total_rows,e.rows.map((function(e){if("value"in e.doc&&"object"==typeof e.doc.value&&null!==e.doc.value){var t=Object.keys(e.doc.value).sort(),n=["id","key","value"];if(!(t<n||t>n))return e.doc.value}var i=function(e){for(var t=[],n=[],i=0;;){var r=e[i++];if("\0"!==r)switch(r){case"1":t.push(null);break;case"2":t.push("1"===e[i]),i++;break;case"3":var s=mt(e,i);t.push(s.num),i+=s.length;break;case"4":for(var o="";;){var a=e[i];if("\0"===a)break;o+=a,i++}o=o.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),t.push(o);break;case"5":var c={element:[],index:t.length};t.push(c.element),n.push(c);break;case"6":var l={element:{},index:t.length};t.push(l.element),n.push(l);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===t.length)return t.pop();yt(t,n)}}}(e.doc._id);return{key:i[0],id:i[1],value:"value"in e.doc?e.doc.value:null}}))}))}function l(a){var l;if(l=s?function(e,t,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,s=n(e.reduceFun),o=[],a=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;t.forEach((function(e){var t=o[o.length-1],n=r?e.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,a)),t&&0===ft(t.groupKey,n))return t.keys.push([e.key,e.id]),void t.values.push(e.value);o.push({keys:[[e.key,e.id]],values:[e.value],groupKey:n})})),t=[];for(var l=0,d=o.length;l<d;l++){var h=o[l],f=c(e.sourceDB,s,h.keys,h.values,!1);if(f.error&&f.error instanceof Sn)throw f.error;t.push({value:f.error?null:f.output,key:h.groupKey})}return{rows:u(t,i.limit,i.skip)}}(e,a,t):void 0===t.keys?{total_rows:i,offset:o,rows:a}:{total_rows:i,offset:o,rows:u(a,t.limit,t.skip)},t.update_seq&&(l.update_seq=e.seq),t.include_docs){var h=kn(a.map(d));return e.sourceDB.allDocs({keys:h,include_docs:!0,conflicts:t.conflicts,attachments:t.attachments,binary:t.binary}).then((function(e){var t=new r;return e.rows.forEach((function(e){t.set(e.id,e.doc)})),a.forEach((function(e){var n=d(e),i=t.get(n);i&&(e.doc=i)})),l}))}return l}if(void 0!==t.keys){var h=t.keys.map((function(e){var n={startkey:vt([e]),endkey:vt([e,{}])};return t.update_seq&&(n.update_seq=!0),a(n)}));return Promise.all(h).then(se).then(l)}var f,p,g={descending:t.descending};if(t.update_seq&&(g.update_seq=!0),"start_key"in t&&(f=t.start_key),"startkey"in t&&(f=t.startkey),"end_key"in t&&(p=t.end_key),"endkey"in t&&(p=t.endkey),void 0!==f&&(g.startkey=t.descending?vt([f,{}]):vt([f])),void 0!==p){var v=!1!==t.inclusive_end;t.descending&&(v=!v),g.endkey=vt(v?[p,{}]:[p])}if(void 0!==t.key){var m=vt([t.key]),y=vt([t.key,{}]);g.descending?(g.endkey=m,g.startkey=y):(g.startkey=m,g.endkey=y)}return s||("number"==typeof t.limit&&(g.limit=t.limit),g.skip=o),a(g).then(l)}(e,t)}))()}function E(t,n,i){if("function"==typeof t._query)return function(e,t,n){return new Promise((function(i,r){e._query(t,n,(function(e,t){if(e)return r(e);i(t)}))}))}(t,n,i);if(ae(t))return function(e,t,n){var i,r,s,o=[],a="GET";if(p("reduce",n,o),p("include_docs",n,o),p("attachments",n,o),p("limit",n,o),p("descending",n,o),p("group",n,o),p("group_level",n,o),p("skip",n,o),p("stale",n,o),p("conflicts",n,o),p("startkey",n,o,!0),p("start_key",n,o,!0),p("endkey",n,o,!0),p("end_key",n,o,!0),p("inclusive_end",n,o),p("key",n,o,!0),p("update_seq",n,o),o=""===(o=o.join("&"))?"":"?"+o,void 0!==n.keys){var c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+o.length+1<=2e3?o+=("?"===o[0]?"&":"?")+c:(a="POST","string"==typeof t?i={keys:n.keys}:t.keys=n.keys)}if("string"==typeof t){var l=Fn(t);return e.fetch("_design/"+l[0]+"/_view/"+l[1]+o,{headers:new rt({"Content-Type":"application/json"}),method:a,body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e.rows.forEach((function(e){if(e.value&&e.value.error&&"builtin_reduce_error"===e.value.error)throw new Error(e.reason)})),e})).then(h(n))}return i=i||{},Object.keys(t).forEach((function(e){Array.isArray(t[e])?i[e]=t[e]:i[e]=t[e].toString()})),e.fetch("_temp_view"+o,{headers:new rt({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then((function(e){return r=e.ok,s=e.status,e.json()})).then((function(e){if(!r)throw e.status=s,ie(e);return e})).then(h(n))}(t,n,i);var r={changes_batch_size:t.__opts.view_update_changes_batch_size||50};if("string"!=typeof n)return v(i,n),Dn.add((function(){return qn(t,"temp_view/temp_view",n.map,n.reduce,!0,e).then((function(e){return t=w(e,r).then((function(){return _(e,i)})),n=function(){return e.db.destroy()},t.then((function(e){return n().then((function(){return e}))}),(function(e){return n().then((function(){throw e}))}));var t,n}))})),Dn.finish();var a=n,c=Fn(a),l=c[0],u=c[1];return t.get("_design/"+l).then((function(n){var c=n.views&&n.views[u];if(!c)throw new En("ddoc "+n._id+" has no view named "+u);return s(n,u),v(i,c),qn(t,a,c.map,c.reduce,!1,e).then((function(e){return"ok"===i.stale||"update_after"===i.stale?("update_after"===i.stale&&o()((function(){w(e,r)})),_(e,i)):w(e,r).then((function(){return _(e,i)}))}))}))}var S;return{query:function(e,t,n){var i=this;"function"==typeof t&&(n=t,t={}),t=t?function(e){return e.group_level=g(e.group_level),e.limit=g(e.limit),e.skip=g(e.skip),e}(t):{},"function"==typeof e&&(e={map:e});var r=Promise.resolve().then((function(){return E(i,e,t)}));return xn(r,n),r},viewCleanup:(S=function(){var t=this;return"function"==typeof t._viewCleanup?function(e){return new Promise((function(t,n){e._viewCleanup((function(e,i){if(e)return n(e);t(i)}))}))}(t):ae(t)?function(e){return e.fetch("_view_cleanup",{headers:new rt({"Content-Type":"application/json"}),method:"POST"}).then((function(e){return e.json()}))}(t):function(t){return t.get("_local/"+e).then((function(e){var n=new r;Object.keys(e.views).forEach((function(e){var t=Fn(e),r="_design/"+t[0],s=t[1],o=n.get(r);o||(o=new i,n.set(r,o)),o.add(s)}));var s={keys:An(n),include_docs:!0};return t.allDocs(s).then((function(i){var r={};i.rows.forEach((function(t){var i=t.key.substring(8);n.get(t.key).forEach((function(n){var s=i+"/"+n;e.views[s]||(s=n);var o=Object.keys(e.views[s]),a=t.doc&&t.doc.views&&t.doc.views[n];o.forEach((function(e){r[e]=r[e]||a}))}))}));var s=Object.keys(r).filter((function(e){return!r[e]})).map((function(e){return Ln(b(e),(function(){return new t.constructor(e,t.__opts).destroy()}))()}));return Promise.all(s).then((function(){return{ok:!0}}))}))}),m({ok:!0}))}(t)},f()((function(e){var t=e.pop(),n=S.apply(this,e);return"function"==typeof t&&xn(n,t),n})))}}("mrviews",(function(e,t){if("function"==typeof e&&2===e.length){var n=e;return function(e){return n(e,t)}}return Tn(e.toString(),t)}),(function(e){var t=e.toString(),n=function(e){if(/^_sum/.test(e))return Vn;if(/^_count/.test(e))return zn;if(/^_stats/.test(e))return Hn;if(/^_/.test(e))throw new Error(e+" is not a supported reduce function.")}(t);return n||Tn(t)}),(function(e,t){var n=e.views&&e.views[t];if("string"!=typeof n.map)throw new En("ddoc "+e._id+" has no string view named "+t+", instead found object of type: "+typeof n.map)}));var $n={query:function(e,t,n){return Un.query.call(this,e,t,n)},viewCleanup:function(e){return Un.viewCleanup.call(this,e)}};function Zn(e){return/^1-/.test(e)}function Gn(e,t){var n=Object.keys(t._attachments);return Promise.all(n.map((function(n){return e.getAttachment(t._id,n,{rev:t._rev})})))}function Wn(e,t,n,i){n=L(n);var r=[],s=!0;function o(t){return e.allDocs({keys:t,include_docs:!0,conflicts:!0}).then((function(e){if(i.cancelled)throw new Error("cancelled");e.rows.forEach((function(e){var t;e.deleted||!e.doc||!Zn(e.value.rev)||(t=e.doc,t._attachments&&Object.keys(t._attachments).length>0)||function(e){return e._conflicts&&e._conflicts.length>0}(e.doc)||(e.doc._conflicts&&delete e.doc._conflicts,r.push(e.doc),delete n[e.id])}))}))}return Promise.resolve().then((function(){var e=Object.keys(n).filter((function(e){var t=n[e].missing;return 1===t.length&&Zn(t[0])}));if(e.length>0)return o(e)})).then((function(){var o=function(e){var t=[];return Object.keys(e).forEach((function(n){e[n].missing.forEach((function(e){t.push({id:n,rev:e})}))})),{docs:t,revs:!0,latest:!0}}(n);if(o.docs.length)return e.bulkGet(o).then((function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map((function(n){return Promise.all(n.docs.map((function(n){var i=n.ok;return n.error&&(s=!1),i&&i._attachments?function(e,t,n){var i=ae(t)&&!ae(e),r=Object.keys(n._attachments);return i?e.get(n._id).then((function(i){return Promise.all(r.map((function(r){return function(e,t,n){return!e._attachments||!e._attachments[n]||e._attachments[n].digest!==t._attachments[n].digest}(i,n,r)?t.getAttachment(n._id,r):e.getAttachment(i._id,r)})))})).catch((function(e){if(404!==e.status)throw e;return Gn(t,n)})):Gn(t,n)}(t,e,i).then((function(e){var t=Object.keys(i._attachments);return e.forEach((function(e,n){var r=i._attachments[t[n]];delete r.stub,delete r.length,r.data=e})),i})):i})))}))).then((function(e){r=r.concat(se(e).filter(Boolean))}))}))})).then((function(){return{ok:s,docs:r}}))}function Kn(e,t,n,i,r){return e.get(t).catch((function(n){if(404===n.status)return"http"!==e.adapter&&"https"!==e.adapter||D(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:t,history:[],replicator:"pouchdb",version:1};throw n})).then((function(s){if(!r.cancelled&&s.last_seq!==n)return s.history=(s.history||[]).filter((function(e){return e.session_id!==i})),s.history.unshift({last_seq:n,session_id:i}),s.history=s.history.slice(0,5),s.version=1,s.replicator="pouchdb",s.session_id=i,s.last_seq=n,e.put(s).catch((function(s){if(409===s.status)return Kn(e,t,n,i,r);throw s}))}))}function Yn(e,t,n,i,r){this.src=e,this.target=t,this.id=n,this.returnValue=i,this.opts=r||{}}Yn.prototype.writeCheckpoint=function(e,t){var n=this;return this.updateTarget(e,t).then((function(){return n.updateSource(e,t)}))},Yn.prototype.updateTarget=function(e,t){return this.opts.writeTargetCheckpoint?Kn(this.target,this.id,e,t,this.returnValue):Promise.resolve(!0)},Yn.prototype.updateSource=function(e,t){if(this.opts.writeSourceCheckpoint){var n=this;return Kn(this.src,this.id,e,t,this.returnValue).catch((function(e){if(Qn(e))return n.opts.writeSourceCheckpoint=!1,!0;throw e}))}return Promise.resolve(!0)};var Xn={undefined:function(e,t){return 0===ft(e.last_seq,t.last_seq)?t.last_seq:0},1:function(e,t){return function(e,t){if(e.session_id===t.session_id)return{last_seq:e.last_seq,history:e.history};return function e(t,n){var i=t[0],r=t.slice(1),s=n[0],o=n.slice(1);if(!i||0===n.length)return{last_seq:0,history:[]};if(Jn(i.session_id,n))return{last_seq:i.last_seq,history:t};if(Jn(s.session_id,r))return{last_seq:s.last_seq,history:o};return e(r,o)}(e.history,t.history)}(t,e).last_seq}};function Jn(e,t){var n=t[0],i=t.slice(1);return!(!e||0===t.length)&&(e===n.session_id||Jn(e,i))}function Qn(e){return"number"==typeof e.status&&4===Math.floor(e.status/100)}Yn.prototype.getCheckpoint=function(){var e=this;return e.opts&&e.opts.writeSourceCheckpoint&&!e.opts.writeTargetCheckpoint?e.src.get(e.id).then((function(e){return e.last_seq||0})).catch((function(e){if(404!==e.status)throw e;return 0})):e.target.get(e.id).then((function(t){return e.opts&&e.opts.writeTargetCheckpoint&&!e.opts.writeSourceCheckpoint?t.last_seq||0:e.src.get(e.id).then((function(e){return t.version!==e.version?0:(n=t.version?t.version.toString():"undefined")in Xn?Xn[n](t,e):0;var n}),(function(n){if(404===n.status&&t.last_seq)return e.src.put({_id:e.id,last_seq:0}).then((function(){return 0}),(function(n){return Qn(n)?(e.opts.writeSourceCheckpoint=!1,t.last_seq):0}));throw n}))})).catch((function(e){if(404!==e.status)throw e;return 0}))};function ei(e,t,n){var i=n.doc_ids?n.doc_ids.sort(ft):"",r=n.filter?n.filter.toString():"",s="",o="",a="";return n.selector&&(a=JSON.stringify(n.selector)),n.filter&&n.query_params&&(s=JSON.stringify(function(e){return Object.keys(e).sort(ft).reduce((function(t,n){return t[n]=e[n],t}),{})}(n.query_params))),n.filter&&"_view"===n.filter&&(o=n.view.toString()),Promise.all([e.id(),t.id()]).then((function(e){var t=e[0]+e[1]+r+o+s+i+a;return new Promise((function(e){Ce(t,e)}))})).then((function(e){return"_local/"+(e=e.replace(/\//g,".").replace(/\+/g,"_"))}))}function ti(e,t,n,i,r){var s,a,c,l=[],u={seq:0,changes:[],docs:[]},d=!1,h=!1,f=!1,p=0,g=n.continuous||n.live||!1,v=n.batch_size||100,m=n.batches_limit||10,y=n.style||"all_docs",b=!1,w=n.doc_ids,_=n.selector,E=[],S=Oe();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var x={};function k(){return c?Promise.resolve():ei(e,t,n).then((function(r){a=r;var s={};s=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},c=new Yn(e,t,a,i,s)}))}function A(){if(E=[],0!==s.docs.length){var e=s.docs,o={timeout:n.timeout};return t.bulkDocs({docs:e,new_edits:!1},o).then((function(t){if(i.cancelled)throw T(),new Error("cancelled");var n=Object.create(null);t.forEach((function(e){e.error&&(n[e.id]=e)}));var s=Object.keys(n).length;r.doc_write_failures+=s,r.docs_written+=e.length-s,e.forEach((function(e){var t=n[e._id];if(t){r.errors.push(t);var s=(t.name||"").toLowerCase();if("unauthorized"!==s&&"forbidden"!==s)throw t;i.emit("denied",L(t))}else E.push(e)}))}),(function(t){throw r.doc_write_failures+=e.length,t}))}}function C(){if(s.error)throw new Error("There was a problem getting docs.");r.last_seq=p=s.seq;var e=L(r);return E.length&&(e.docs=E,"number"==typeof s.pending&&(e.pending=s.pending,delete s.pending),i.emit("change",e)),d=!0,c.writeCheckpoint(s.seq,S).then((function(){if(i.emit("checkpoint",{checkpoint:s.seq}),d=!1,i.cancelled)throw T(),new Error("cancelled");s=void 0,D()})).catch((function(e){throw R(e),e}))}function I(){return Wn(e,t,s.diffs,i).then((function(e){s.error=!e.ok,e.docs.forEach((function(e){delete s.diffs[e._id],r.docs_read++,s.docs.push(e)}))}))}function P(){var e;i.cancelled||s||(0!==l.length?(s=l.shift(),i.emit("checkpoint",{start_next_batch:s.seq}),(e={},s.changes.forEach((function(t){i.emit("checkpoint",{revs_diff:t}),"_user/"!==t.id&&(e[t.id]=t.changes.map((function(e){return e.rev})))})),t.revsDiff(e).then((function(e){if(i.cancelled)throw T(),new Error("cancelled");s.diffs=e}))).then(I).then(A).then(C).then(P).catch((function(e){B("batch processing terminated with error",e)}))):O(!0))}function O(e){0!==u.changes.length?(e||h||u.changes.length>=v)&&(l.push(u),u={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),P()):0!==l.length||s||((g&&x.live||h)&&(i.state="pending",i.emit("paused")),h&&T())}function B(e,t){f||(t.message||(t.message=e),r.ok=!1,r.status="aborting",l=[],u={seq:0,changes:[],docs:[]},T(t))}function T(s){if(!(f||i.cancelled&&(r.status="cancelled",d)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=p,f=!0,s){(s=ne(s)).result=r;var o=(s.name||"").toLowerCase();"unauthorized"===o||"forbidden"===o?(i.emit("error",s),i.removeAllListeners()):function(e,t,n,i){if(!1===e.retry)return t.emit("error",n),void t.removeAllListeners();if("function"!=typeof e.back_off_function&&(e.back_off_function=j),t.emit("requestError",n),"active"===t.state||"pending"===t.state){t.emit("paused",n),t.state="stopped";var r=function(){e.current_back_off=0};t.once("paused",(function(){t.removeListener("active",r)})),t.once("active",r)}e.current_back_off=e.current_back_off||0,e.current_back_off=e.back_off_function(e.current_back_off),setTimeout(i,e.current_back_off)}(n,i,s,(function(){ti(e,t,n,i)}))}else i.emit("complete",r),i.removeAllListeners()}function N(e,t,r){if(i.cancelled)return T();"number"==typeof t&&(u.pending=t),re(n)(e)&&(u.seq=e.seq||r,u.changes.push(e),i.emit("checkpoint",{pending_batch:u.seq}),o()((function(){O(0===l.length&&x.live)})))}function M(e){if(b=!1,i.cancelled)return T();if(e.results.length>0)x.since=e.results[e.results.length-1].seq,D(),O(!0);else{var t=function(){g?(x.live=!0,D()):h=!0,O(!0)};s||0!==e.results.length?t():(d=!0,c.writeCheckpoint(e.last_seq,S).then((function(){d=!1,r.last_seq=p=e.last_seq,t()})).catch(R))}}function q(e){if(b=!1,i.cancelled)return T();B("changes rejected",e)}function D(){if(!b&&!h&&l.length<m){b=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var t=e.changes(x).on("change",N);t.then(s,s),t.then(M).catch(q),n.retry&&(i._changes=t,i._abortChanges=r)}function r(){t.cancel()}function s(){i.removeListener("cancel",r)}}function F(){k().then((function(){if(!i.cancelled)return c.getCheckpoint().then((function(e){x={since:p=e,limit:v,batch_size:v,style:y,doc_ids:w,selector:_,return_docs:!0},n.filter&&("string"!=typeof n.filter?x.include_docs=!0:x.filter=n.filter),"heartbeat"in n&&(x.heartbeat=n.heartbeat),"timeout"in n&&(x.timeout=n.timeout),n.query_params&&(x.query_params=n.query_params),n.view&&(x.view=n.view),D()}));T()})).catch((function(e){B("getCheckpoint rejected with ",e)}))}function R(e){d=!1,B("writeCheckpoint completed with error",e)}i.ready(e,t),i.cancelled?T():(i._addedListeners||(i.once("cancel",T),"function"==typeof n.complete&&(i.once("error",n.complete),i.once("complete",(function(e){n.complete(null,e)}))),i._addedListeners=!0),void 0===n.since?F():k().then((function(){return d=!0,c.writeCheckpoint(n.since,S)})).then((function(){d=!1,i.cancelled?T():(p=n.since,F())})).catch(R))}function ni(){m.a.call(this),this.cancelled=!1,this.state="pending";var e=this,t=new Promise((function(t,n){e.once("complete",t),e.once("error",n)}));e.then=function(e,n){return t.then(e,n)},e.catch=function(e){return t.catch(e)},e.catch((function(){}))}function ii(e,t){var n=t.PouchConstructor;return"string"==typeof e?new n(e,t):e}function ri(e,t,n,i){if("function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ne(X,"`doc_ids` filter parameter is not a list.");n.complete=i,(n=L(n)).continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new ni(n);return ti(ii(e,n),ii(t,n),n,r),r}function si(e,t,n,i){return"function"==typeof n&&(i=n,n={}),void 0===n&&(n={}),(n=L(n)).PouchConstructor=n.PouchConstructor||this,new oi(e=ii(e,n),t=ii(t,n),n,i)}function oi(e,t,n,i){var r=this;this.canceled=!1;var s=n.push?F({},n,n.push):n,o=n.pull?F({},n,n.pull):n;function a(e){r.emit("change",{direction:"pull",change:e})}function c(e){r.emit("change",{direction:"push",change:e})}function l(e){r.emit("denied",{direction:"push",doc:e})}function u(e){r.emit("denied",{direction:"pull",doc:e})}function d(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function h(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function f(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=ri(e,t,s),this.pull=ri(t,e,o),this.pushPaused=!0,this.pullPaused=!0;var g={};function v(e){return function(t,n){("change"===t&&(n===a||n===c)||"denied"===t&&(n===u||n===l)||"paused"===t&&(n===h||n===d)||"active"===t&&(n===p||n===f))&&(t in g||(g[t]={}),g[t][e]=!0,2===Object.keys(g[t]).length&&r.removeAllListeners(t))}}function m(e,t,n){-1==e.listeners(t).indexOf(n)&&e.on(t,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",(function(e){"change"===e?(m(r.pull,"change",a),m(r.push,"change",c)):"denied"===e?(m(r.pull,"denied",u),m(r.push,"denied",l)):"active"===e?(m(r.pull,"active",p),m(r.push,"active",f)):"paused"===e&&(m(r.pull,"paused",h),m(r.push,"paused",d))})),this.on("removeListener",(function(e){"change"===e?(r.pull.removeListener("change",a),r.push.removeListener("change",c)):"denied"===e?(r.pull.removeListener("denied",u),r.push.removeListener("denied",l)):"active"===e?(r.pull.removeListener("active",p),r.push.removeListener("active",f)):"paused"===e&&(r.pull.removeListener("paused",h),r.push.removeListener("paused",d))})),this.pull.on("removeListener",v("pull")),this.push.on("removeListener",v("push"));var y=Promise.all([this.push,this.pull]).then((function(e){var t={push:e[0],pull:e[1]};return r.emit("complete",t),i&&i(null,t),r.removeAllListeners(),t}),(function(e){if(r.cancel(),i?i(e):r.emit("error",e),r.removeAllListeners(),i)throw e}));this.then=function(e,t){return y.then(e,t)},this.catch=function(e){return y.catch(e)}}g()(ni,m.a),ni.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},ni.prototype.ready=function(e,t){var n=this;function i(){n.cancel()}function r(){e.removeListener("destroyed",i),t.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,e.once("destroyed",i),t.once("destroyed",i),n.once("complete",r),n.once("error",r))},g()(oi,m.a),oi.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},tt.plugin((function(e){e.adapter("idb",dn,!0)})).plugin((function(e){e.adapter("http",wn,!1),e.adapter("https",wn,!1)})).plugin($n).plugin((function(e){e.replicate=ri,e.sync=si,Object.defineProperty(e.prototype,"replicate",{get:function(){var e=this;return void 0===this.replicateMethods&&(this.replicateMethods={from:function(t,n,i){return e.constructor.replicate(t,e,n,i)},to:function(t,n,i){return e.constructor.replicate(e,t,n,i)}}),this.replicateMethods}}),e.prototype.sync=function(e,t,n){return this.constructor.sync(this,e,t,n)}})),t.default=tt}.call(this,n(30))},function(e,t){var n,i,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function o(){throw new Error("clearTimeout has not been defined")}function a(e){if(n===setTimeout)return setTimeout(e,0);if((n===s||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:s}catch(e){n=s}try{i="function"==typeof clearTimeout?clearTimeout:o}catch(e){i=o}}();var c,l=[],u=!1,d=-1;function h(){u&&c&&(u=!1,c.length?l=c.concat(l):d=-1,l.length&&f())}function f(){if(!u){var e=a(h);u=!0;for(var t=l.length;t;){for(c=l,l=[];++d<t;)c&&c[d].run();d=-1,t=l.length}c=null,u=!1,function(e){if(i===clearTimeout)return clearTimeout(e);if((i===o||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(e);try{i(e)}catch(t){try{return i.call(null,e)}catch(t){return i.call(this,e)}}}(e)}}function p(e,t){this.fun=e,this.array=t}function g(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new p(e,t)),1!==l.length||u||a(f)},p.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=g,r.addListener=g,r.once=g,r.off=g,r.removeListener=g,r.removeAllListeners=g,r.emit=g,r.prependListener=g,r.prependOnceListener=g,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},,function(e,t,n){(function(e,i){var r;
/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */(function(){var s="Expected a function",o="__lodash_placeholder__",a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]],c="[object Arguments]",l="[object Array]",u="[object Boolean]",d="[object Date]",h="[object Error]",f="[object Function]",p="[object GeneratorFunction]",g="[object Map]",v="[object Number]",m="[object Object]",y="[object RegExp]",b="[object Set]",w="[object String]",_="[object Symbol]",E="[object WeakMap]",S="[object ArrayBuffer]",x="[object DataView]",L="[object Float32Array]",k="[object Float64Array]",A="[object Int8Array]",C="[object Int16Array]",I="[object Int32Array]",P="[object Uint8Array]",O="[object Uint16Array]",B="[object Uint32Array]",T=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,M=/(__e\(.*?\)|\b__t\)) \+\n'';/g,q=/&(?:amp|lt|gt|quot|#39);/g,j=/[&<>"']/g,D=RegExp(q.source),F=RegExp(j.source),R=/<%-([\s\S]+?)%>/g,V=/<%([\s\S]+?)%>/g,z=/<%=([\s\S]+?)%>/g,H=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,U=/^\w*$/,$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Z=/[\\^$.*+?()[\]{}|]/g,G=RegExp(Z.source),W=/^\s+/,K=/\s/,Y=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,X=/\{\n\/\* \[wrapped with (.+)\] \*/,J=/,? & /,Q=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ee=/[()=,{}\[\]\/\s]/,te=/\\(\\)?/g,ne=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ie=/\w*$/,re=/^[-+]0x[0-9a-f]+$/i,se=/^0b[01]+$/i,oe=/^\[object .+?Constructor\]$/,ae=/^0o[0-7]+$/i,ce=/^(?:0|[1-9]\d*)$/,le=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ue=/($^)/,de=/['\n\r\u2028\u2029\\]/g,he="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",fe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",pe="[\\ud800-\\udfff]",ge="["+fe+"]",ve="["+he+"]",me="\\d+",ye="[\\u2700-\\u27bf]",be="[a-z\\xdf-\\xf6\\xf8-\\xff]",we="[^\\ud800-\\udfff"+fe+me+"\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",_e="\\ud83c[\\udffb-\\udfff]",Ee="[^\\ud800-\\udfff]",Se="(?:\\ud83c[\\udde6-\\uddff]){2}",xe="[\\ud800-\\udbff][\\udc00-\\udfff]",Le="[A-Z\\xc0-\\xd6\\xd8-\\xde]",ke="(?:"+be+"|"+we+")",Ae="(?:"+Le+"|"+we+")",Ce="(?:"+ve+"|"+_e+")"+"?",Ie="[\\ufe0e\\ufe0f]?"+Ce+("(?:\\u200d(?:"+[Ee,Se,xe].join("|")+")[\\ufe0e\\ufe0f]?"+Ce+")*"),Pe="(?:"+[ye,Se,xe].join("|")+")"+Ie,Oe="(?:"+[Ee+ve+"?",ve,Se,xe,pe].join("|")+")",Be=RegExp("['’]","g"),Te=RegExp(ve,"g"),Ne=RegExp(_e+"(?="+_e+")|"+Oe+Ie,"g"),Me=RegExp([Le+"?"+be+"+(?:['’](?:d|ll|m|re|s|t|ve))?(?="+[ge,Le,"$"].join("|")+")",Ae+"+(?:['’](?:D|LL|M|RE|S|T|VE))?(?="+[ge,Le+ke,"$"].join("|")+")",Le+"?"+ke+"+(?:['’](?:d|ll|m|re|s|t|ve))?",Le+"+(?:['’](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",me,Pe].join("|"),"g"),qe=RegExp("[\\u200d\\ud800-\\udfff"+he+"\\ufe0e\\ufe0f]"),je=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,De=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Fe=-1,Re={};Re[L]=Re[k]=Re[A]=Re[C]=Re[I]=Re[P]=Re["[object Uint8ClampedArray]"]=Re[O]=Re[B]=!0,Re[c]=Re[l]=Re[S]=Re[u]=Re[x]=Re[d]=Re[h]=Re[f]=Re[g]=Re[v]=Re[m]=Re[y]=Re[b]=Re[w]=Re[E]=!1;var Ve={};Ve[c]=Ve[l]=Ve[S]=Ve[x]=Ve[u]=Ve[d]=Ve[L]=Ve[k]=Ve[A]=Ve[C]=Ve[I]=Ve[g]=Ve[v]=Ve[m]=Ve[y]=Ve[b]=Ve[w]=Ve[_]=Ve[P]=Ve["[object Uint8ClampedArray]"]=Ve[O]=Ve[B]=!0,Ve[h]=Ve[f]=Ve[E]=!1;var ze={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},He=parseFloat,Ue=parseInt,$e="object"==typeof e&&e&&e.Object===Object&&e,Ze="object"==typeof self&&self&&self.Object===Object&&self,Ge=$e||Ze||Function("return this")(),We=t&&!t.nodeType&&t,Ke=We&&"object"==typeof i&&i&&!i.nodeType&&i,Ye=Ke&&Ke.exports===We,Xe=Ye&&$e.process,Je=function(){try{var e=Ke&&Ke.require&&Ke.require("util").types;return e||Xe&&Xe.binding&&Xe.binding("util")}catch(e){}}(),Qe=Je&&Je.isArrayBuffer,et=Je&&Je.isDate,tt=Je&&Je.isMap,nt=Je&&Je.isRegExp,it=Je&&Je.isSet,rt=Je&&Je.isTypedArray;function st(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}function ot(e,t,n,i){for(var r=-1,s=null==e?0:e.length;++r<s;){var o=e[r];t(i,o,n(o),e)}return i}function at(e,t){for(var n=-1,i=null==e?0:e.length;++n<i&&!1!==t(e[n],n,e););return e}function ct(e,t){for(var n=null==e?0:e.length;n--&&!1!==t(e[n],n,e););return e}function lt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(!t(e[n],n,e))return!1;return!0}function ut(e,t){for(var n=-1,i=null==e?0:e.length,r=0,s=[];++n<i;){var o=e[n];t(o,n,e)&&(s[r++]=o)}return s}function dt(e,t){return!!(null==e?0:e.length)&&_t(e,t,0)>-1}function ht(e,t,n){for(var i=-1,r=null==e?0:e.length;++i<r;)if(n(t,e[i]))return!0;return!1}function ft(e,t){for(var n=-1,i=null==e?0:e.length,r=Array(i);++n<i;)r[n]=t(e[n],n,e);return r}function pt(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}function gt(e,t,n,i){var r=-1,s=null==e?0:e.length;for(i&&s&&(n=e[++r]);++r<s;)n=t(n,e[r],r,e);return n}function vt(e,t,n,i){var r=null==e?0:e.length;for(i&&r&&(n=e[--r]);r--;)n=t(n,e[r],r,e);return n}function mt(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}var yt=Lt("length");function bt(e,t,n){var i;return n(e,(function(e,n,r){if(t(e,n,r))return i=n,!1})),i}function wt(e,t,n,i){for(var r=e.length,s=n+(i?1:-1);i?s--:++s<r;)if(t(e[s],s,e))return s;return-1}function _t(e,t,n){return t==t?function(e,t,n){var i=n-1,r=e.length;for(;++i<r;)if(e[i]===t)return i;return-1}(e,t,n):wt(e,St,n)}function Et(e,t,n,i){for(var r=n-1,s=e.length;++r<s;)if(i(e[r],t))return r;return-1}function St(e){return e!=e}function xt(e,t){var n=null==e?0:e.length;return n?Ct(e,t)/n:NaN}function Lt(e){return function(t){return null==t?void 0:t[e]}}function kt(e){return function(t){return null==e?void 0:e[t]}}function At(e,t,n,i,r){return r(e,(function(e,r,s){n=i?(i=!1,e):t(n,e,r,s)})),n}function Ct(e,t){for(var n,i=-1,r=e.length;++i<r;){var s=t(e[i]);void 0!==s&&(n=void 0===n?s:n+s)}return n}function It(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}function Pt(e){return e?e.slice(0,Wt(e)+1).replace(W,""):e}function Ot(e){return function(t){return e(t)}}function Bt(e,t){return ft(t,(function(t){return e[t]}))}function Tt(e,t){return e.has(t)}function Nt(e,t){for(var n=-1,i=e.length;++n<i&&_t(t,e[n],0)>-1;);return n}function Mt(e,t){for(var n=e.length;n--&&_t(t,e[n],0)>-1;);return n}function qt(e,t){for(var n=e.length,i=0;n--;)e[n]===t&&++i;return i}var jt=kt({"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"}),Dt=kt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Ft(e){return"\\"+ze[e]}function Rt(e){return qe.test(e)}function Vt(e){var t=-1,n=Array(e.size);return e.forEach((function(e,i){n[++t]=[i,e]})),n}function zt(e,t){return function(n){return e(t(n))}}function Ht(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var a=e[n];a!==t&&a!==o||(e[n]=o,s[r++]=n)}return s}function Ut(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=e})),n}function $t(e){var t=-1,n=Array(e.size);return e.forEach((function(e){n[++t]=[e,e]})),n}function Zt(e){return Rt(e)?function(e){var t=Ne.lastIndex=0;for(;Ne.test(e);)++t;return t}(e):yt(e)}function Gt(e){return Rt(e)?function(e){return e.match(Ne)||[]}(e):function(e){return e.split("")}(e)}function Wt(e){for(var t=e.length;t--&&K.test(e.charAt(t)););return t}var Kt=kt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"});var Yt=function e(t){var n,i=(t=null==t?Ge:Yt.defaults(Ge.Object(),t,Yt.pick(Ge,De))).Array,r=t.Date,K=t.Error,he=t.Function,fe=t.Math,pe=t.Object,ge=t.RegExp,ve=t.String,me=t.TypeError,ye=i.prototype,be=he.prototype,we=pe.prototype,_e=t["__core-js_shared__"],Ee=be.toString,Se=we.hasOwnProperty,xe=0,Le=(n=/[^.]+$/.exec(_e&&_e.keys&&_e.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"",ke=we.toString,Ae=Ee.call(pe),Ce=Ge._,Ie=ge("^"+Ee.call(Se).replace(Z,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pe=Ye?t.Buffer:void 0,Oe=t.Symbol,Ne=t.Uint8Array,qe=Pe?Pe.allocUnsafe:void 0,ze=zt(pe.getPrototypeOf,pe),$e=pe.create,Ze=we.propertyIsEnumerable,We=ye.splice,Ke=Oe?Oe.isConcatSpreadable:void 0,Xe=Oe?Oe.iterator:void 0,Je=Oe?Oe.toStringTag:void 0,yt=function(){try{var e=es(pe,"defineProperty");return e({},"",{}),e}catch(e){}}(),kt=t.clearTimeout!==Ge.clearTimeout&&t.clearTimeout,Xt=r&&r.now!==Ge.Date.now&&r.now,Jt=t.setTimeout!==Ge.setTimeout&&t.setTimeout,Qt=fe.ceil,en=fe.floor,tn=pe.getOwnPropertySymbols,nn=Pe?Pe.isBuffer:void 0,rn=t.isFinite,sn=ye.join,on=zt(pe.keys,pe),an=fe.max,cn=fe.min,ln=r.now,un=t.parseInt,dn=fe.random,hn=ye.reverse,fn=es(t,"DataView"),pn=es(t,"Map"),gn=es(t,"Promise"),vn=es(t,"Set"),mn=es(t,"WeakMap"),yn=es(pe,"create"),bn=mn&&new mn,wn={},_n=As(fn),En=As(pn),Sn=As(gn),xn=As(vn),Ln=As(mn),kn=Oe?Oe.prototype:void 0,An=kn?kn.valueOf:void 0,Cn=kn?kn.toString:void 0;function In(e){if($o(e)&&!No(e)&&!(e instanceof Tn)){if(e instanceof Bn)return e;if(Se.call(e,"__wrapped__"))return Cs(e)}return new Bn(e)}var Pn=function(){function e(){}return function(t){if(!Uo(t))return{};if($e)return $e(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();function On(){}function Bn(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}function Tn(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=4294967295,this.__views__=[]}function Nn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function Mn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function qn(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function jn(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new qn;++t<n;)this.add(e[t])}function Dn(e){var t=this.__data__=new Mn(e);this.size=t.size}function Fn(e,t){var n=No(e),i=!n&&To(e),r=!n&&!i&&Do(e),s=!n&&!i&&!r&&Qo(e),o=n||i||r||s,a=o?It(e.length,ve):[],c=a.length;for(var l in e)!t&&!Se.call(e,l)||o&&("length"==l||r&&("offset"==l||"parent"==l)||s&&("buffer"==l||"byteLength"==l||"byteOffset"==l)||as(l,c))||a.push(l);return a}function Rn(e){var t=e.length;return t?e[ji(0,t-1)]:void 0}function Vn(e,t){return xs(yr(e),Yn(t,0,e.length))}function zn(e){return xs(yr(e))}function Hn(e,t,n){(void 0!==n&&!Po(e[t],n)||void 0===n&&!(t in e))&&Wn(e,t,n)}function Un(e,t,n){var i=e[t];Se.call(e,t)&&Po(i,n)&&(void 0!==n||t in e)||Wn(e,t,n)}function $n(e,t){for(var n=e.length;n--;)if(Po(e[n][0],t))return n;return-1}function Zn(e,t,n,i){return ti(e,(function(e,r,s){t(i,e,n(e),s)})),i}function Gn(e,t){return e&&br(t,_a(t),e)}function Wn(e,t,n){"__proto__"==t&&yt?yt(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Kn(e,t){for(var n=-1,r=t.length,s=i(r),o=null==e;++n<r;)s[n]=o?void 0:va(e,t[n]);return s}function Yn(e,t,n){return e==e&&(void 0!==n&&(e=e<=n?e:n),void 0!==t&&(e=e>=t?e:t)),e}function Xn(e,t,n,i,r,s){var o,a=1&t,l=2&t,h=4&t;if(n&&(o=r?n(e,i,r,s):n(e)),void 0!==o)return o;if(!Uo(e))return e;var E=No(e);if(E){if(o=function(e){var t=e.length,n=new e.constructor(t);t&&"string"==typeof e[0]&&Se.call(e,"index")&&(n.index=e.index,n.input=e.input);return n}(e),!a)return yr(e,o)}else{var T=is(e),N=T==f||T==p;if(Do(e))return hr(e,a);if(T==m||T==c||N&&!r){if(o=l||N?{}:ss(e),!a)return l?function(e,t){return br(e,ns(e),t)}(e,function(e,t){return e&&br(t,Ea(t),e)}(o,e)):function(e,t){return br(e,ts(e),t)}(e,Gn(o,e))}else{if(!Ve[T])return r?e:{};o=function(e,t,n){var i=e.constructor;switch(t){case S:return fr(e);case u:case d:return new i(+e);case x:return function(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}(e,n);case L:case k:case A:case C:case I:case P:case"[object Uint8ClampedArray]":case O:case B:return pr(e,n);case g:return new i;case v:case w:return new i(e);case y:return function(e){var t=new e.constructor(e.source,ie.exec(e));return t.lastIndex=e.lastIndex,t}(e);case b:return new i;case _:return r=e,An?pe(An.call(r)):{}}var r}(e,T,a)}}s||(s=new Dn);var M=s.get(e);if(M)return M;s.set(e,o),Yo(e)?e.forEach((function(i){o.add(Xn(i,t,n,i,e,s))})):Zo(e)&&e.forEach((function(i,r){o.set(r,Xn(i,t,n,r,e,s))}));var q=E?void 0:(h?l?Gr:Zr:l?Ea:_a)(e);return at(q||e,(function(i,r){q&&(i=e[r=i]),Un(o,r,Xn(i,t,n,r,e,s))})),o}function Jn(e,t,n){var i=n.length;if(null==e)return!i;for(e=pe(e);i--;){var r=n[i],s=t[r],o=e[r];if(void 0===o&&!(r in e)||!s(o))return!1}return!0}function Qn(e,t,n){if("function"!=typeof e)throw new me(s);return ws((function(){e.apply(void 0,n)}),t)}function ei(e,t,n,i){var r=-1,s=dt,o=!0,a=e.length,c=[],l=t.length;if(!a)return c;n&&(t=ft(t,Ot(n))),i?(s=ht,o=!1):t.length>=200&&(s=Tt,o=!1,t=new jn(t));e:for(;++r<a;){var u=e[r],d=null==n?u:n(u);if(u=i||0!==u?u:0,o&&d==d){for(var h=l;h--;)if(t[h]===d)continue e;c.push(u)}else s(t,d,i)||c.push(u)}return c}In.templateSettings={escape:R,evaluate:V,interpolate:z,variable:"",imports:{_:In}},In.prototype=On.prototype,In.prototype.constructor=In,Bn.prototype=Pn(On.prototype),Bn.prototype.constructor=Bn,Tn.prototype=Pn(On.prototype),Tn.prototype.constructor=Tn,Nn.prototype.clear=function(){this.__data__=yn?yn(null):{},this.size=0},Nn.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nn.prototype.get=function(e){var t=this.__data__;if(yn){var n=t[e];return"__lodash_hash_undefined__"===n?void 0:n}return Se.call(t,e)?t[e]:void 0},Nn.prototype.has=function(e){var t=this.__data__;return yn?void 0!==t[e]:Se.call(t,e)},Nn.prototype.set=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=yn&&void 0===t?"__lodash_hash_undefined__":t,this},Mn.prototype.clear=function(){this.__data__=[],this.size=0},Mn.prototype.delete=function(e){var t=this.__data__,n=$n(t,e);return!(n<0)&&(n==t.length-1?t.pop():We.call(t,n,1),--this.size,!0)},Mn.prototype.get=function(e){var t=this.__data__,n=$n(t,e);return n<0?void 0:t[n][1]},Mn.prototype.has=function(e){return $n(this.__data__,e)>-1},Mn.prototype.set=function(e,t){var n=this.__data__,i=$n(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this},qn.prototype.clear=function(){this.size=0,this.__data__={hash:new Nn,map:new(pn||Mn),string:new Nn}},qn.prototype.delete=function(e){var t=Jr(this,e).delete(e);return this.size-=t?1:0,t},qn.prototype.get=function(e){return Jr(this,e).get(e)},qn.prototype.has=function(e){return Jr(this,e).has(e)},qn.prototype.set=function(e,t){var n=Jr(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this},jn.prototype.add=jn.prototype.push=function(e){return this.__data__.set(e,"__lodash_hash_undefined__"),this},jn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.clear=function(){this.__data__=new Mn,this.size=0},Dn.prototype.delete=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n},Dn.prototype.get=function(e){return this.__data__.get(e)},Dn.prototype.has=function(e){return this.__data__.has(e)},Dn.prototype.set=function(e,t){var n=this.__data__;if(n instanceof Mn){var i=n.__data__;if(!pn||i.length<199)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new qn(i)}return n.set(e,t),this.size=n.size,this};var ti=Er(li),ni=Er(ui,!0);function ii(e,t){var n=!0;return ti(e,(function(e,i,r){return n=!!t(e,i,r)})),n}function ri(e,t,n){for(var i=-1,r=e.length;++i<r;){var s=e[i],o=t(s);if(null!=o&&(void 0===a?o==o&&!Jo(o):n(o,a)))var a=o,c=s}return c}function si(e,t){var n=[];return ti(e,(function(e,i,r){t(e,i,r)&&n.push(e)})),n}function oi(e,t,n,i,r){var s=-1,o=e.length;for(n||(n=os),r||(r=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?oi(a,t-1,n,i,r):pt(r,a):i||(r[r.length]=a)}return r}var ai=Sr(),ci=Sr(!0);function li(e,t){return e&&ai(e,t,_a)}function ui(e,t){return e&&ci(e,t,_a)}function di(e,t){return ut(t,(function(t){return Vo(e[t])}))}function hi(e,t){for(var n=0,i=(t=cr(t,e)).length;null!=e&&n<i;)e=e[ks(t[n++])];return n&&n==i?e:void 0}function fi(e,t,n){var i=t(e);return No(e)?i:pt(i,n(e))}function pi(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Je&&Je in pe(e)?function(e){var t=Se.call(e,Je),n=e[Je];try{e[Je]=void 0;var i=!0}catch(e){}var r=ke.call(e);i&&(t?e[Je]=n:delete e[Je]);return r}(e):function(e){return ke.call(e)}(e)}function gi(e,t){return e>t}function vi(e,t){return null!=e&&Se.call(e,t)}function mi(e,t){return null!=e&&t in pe(e)}function yi(e,t,n){for(var r=n?ht:dt,s=e[0].length,o=e.length,a=o,c=i(o),l=1/0,u=[];a--;){var d=e[a];a&&t&&(d=ft(d,Ot(t))),l=cn(d.length,l),c[a]=!n&&(t||s>=120&&d.length>=120)?new jn(a&&d):void 0}d=e[0];var h=-1,f=c[0];e:for(;++h<s&&u.length<l;){var p=d[h],g=t?t(p):p;if(p=n||0!==p?p:0,!(f?Tt(f,g):r(u,g,n))){for(a=o;--a;){var v=c[a];if(!(v?Tt(v,g):r(e[a],g,n)))continue e}f&&f.push(g),u.push(p)}}return u}function bi(e,t,n){var i=null==(e=vs(e,t=cr(t,e)))?e:e[ks(Fs(t))];return null==i?void 0:st(i,e,n)}function wi(e){return $o(e)&&pi(e)==c}function _i(e,t,n,i,r){return e===t||(null==e||null==t||!$o(e)&&!$o(t)?e!=e&&t!=t:function(e,t,n,i,r,s){var o=No(e),a=No(t),f=o?l:is(e),p=a?l:is(t),E=(f=f==c?m:f)==m,L=(p=p==c?m:p)==m,k=f==p;if(k&&Do(e)){if(!Do(t))return!1;o=!0,E=!1}if(k&&!E)return s||(s=new Dn),o||Qo(e)?Ur(e,t,n,i,r,s):function(e,t,n,i,r,s,o){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case S:return!(e.byteLength!=t.byteLength||!s(new Ne(e),new Ne(t)));case u:case d:case v:return Po(+e,+t);case h:return e.name==t.name&&e.message==t.message;case y:case w:return e==t+"";case g:var a=Vt;case b:var c=1&i;if(a||(a=Ut),e.size!=t.size&&!c)return!1;var l=o.get(e);if(l)return l==t;i|=2,o.set(e,t);var f=Ur(a(e),a(t),i,r,s,o);return o.delete(e),f;case _:if(An)return An.call(e)==An.call(t)}return!1}(e,t,f,n,i,r,s);if(!(1&n)){var A=E&&Se.call(e,"__wrapped__"),C=L&&Se.call(t,"__wrapped__");if(A||C){var I=A?e.value():e,P=C?t.value():t;return s||(s=new Dn),r(I,P,n,i,s)}}if(!k)return!1;return s||(s=new Dn),function(e,t,n,i,r,s){var o=1&n,a=Zr(e),c=a.length,l=Zr(t).length;if(c!=l&&!o)return!1;var u=c;for(;u--;){var d=a[u];if(!(o?d in t:Se.call(t,d)))return!1}var h=s.get(e),f=s.get(t);if(h&&f)return h==t&&f==e;var p=!0;s.set(e,t),s.set(t,e);var g=o;for(;++u<c;){d=a[u];var v=e[d],m=t[d];if(i)var y=o?i(m,v,d,t,e,s):i(v,m,d,e,t,s);if(!(void 0===y?v===m||r(v,m,n,i,s):y)){p=!1;break}g||(g="constructor"==d)}if(p&&!g){var b=e.constructor,w=t.constructor;b==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,n,i,r,s)}(e,t,n,i,_i,r))}function Ei(e,t,n,i){var r=n.length,s=r,o=!i;if(null==e)return!s;for(e=pe(e);r--;){var a=n[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<s;){var c=(a=n[r])[0],l=e[c],u=a[1];if(o&&a[2]){if(void 0===l&&!(c in e))return!1}else{var d=new Dn;if(i)var h=i(l,u,c,e,t,d);if(!(void 0===h?_i(u,l,3,i,d):h))return!1}}return!0}function Si(e){return!(!Uo(e)||(t=e,Le&&Le in t))&&(Vo(e)?Ie:oe).test(As(e));var t}function xi(e){return"function"==typeof e?e:null==e?Ga:"object"==typeof e?No(e)?Pi(e[0],e[1]):Ii(e):nc(e)}function Li(e){if(!hs(e))return on(e);var t=[];for(var n in pe(e))Se.call(e,n)&&"constructor"!=n&&t.push(n);return t}function ki(e){if(!Uo(e))return function(e){var t=[];if(null!=e)for(var n in pe(e))t.push(n);return t}(e);var t=hs(e),n=[];for(var i in e)("constructor"!=i||!t&&Se.call(e,i))&&n.push(i);return n}function Ai(e,t){return e<t}function Ci(e,t){var n=-1,r=qo(e)?i(e.length):[];return ti(e,(function(e,i,s){r[++n]=t(e,i,s)})),r}function Ii(e){var t=Qr(e);return 1==t.length&&t[0][2]?ps(t[0][0],t[0][1]):function(n){return n===e||Ei(n,e,t)}}function Pi(e,t){return ls(e)&&fs(t)?ps(ks(e),t):function(n){var i=va(n,e);return void 0===i&&i===t?ma(n,e):_i(t,i,3)}}function Oi(e,t,n,i,r){e!==t&&ai(t,(function(s,o){if(r||(r=new Dn),Uo(s))!function(e,t,n,i,r,s,o){var a=ys(e,n),c=ys(t,n),l=o.get(c);if(l)return void Hn(e,n,l);var u=s?s(a,c,n+"",e,t,o):void 0,d=void 0===u;if(d){var h=No(c),f=!h&&Do(c),p=!h&&!f&&Qo(c);u=c,h||f||p?No(a)?u=a:jo(a)?u=yr(a):f?(d=!1,u=hr(c,!0)):p?(d=!1,u=pr(c,!0)):u=[]:Wo(c)||To(c)?(u=a,To(a)?u=aa(a):Uo(a)&&!Vo(a)||(u=ss(c))):d=!1}d&&(o.set(c,u),r(u,c,i,s,o),o.delete(c));Hn(e,n,u)}(e,t,o,n,Oi,i,r);else{var a=i?i(ys(e,o),s,o+"",e,t,r):void 0;void 0===a&&(a=s),Hn(e,o,a)}}),Ea)}function Bi(e,t){var n=e.length;if(n)return as(t+=t<0?n:0,n)?e[t]:void 0}function Ti(e,t,n){t=t.length?ft(t,(function(e){return No(e)?function(t){return hi(t,1===e.length?e[0]:e)}:e})):[Ga];var i=-1;return t=ft(t,Ot(Xr())),function(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}(Ci(e,(function(e,n,r){return{criteria:ft(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return function(e,t,n){var i=-1,r=e.criteria,s=t.criteria,o=r.length,a=n.length;for(;++i<o;){var c=gr(r[i],s[i]);if(c){if(i>=a)return c;var l=n[i];return c*("desc"==l?-1:1)}}return e.index-t.index}(e,t,n)}))}function Ni(e,t,n){for(var i=-1,r=t.length,s={};++i<r;){var o=t[i],a=hi(e,o);n(a,o)&&zi(s,cr(o,e),a)}return s}function Mi(e,t,n,i){var r=i?Et:_t,s=-1,o=t.length,a=e;for(e===t&&(t=yr(t)),n&&(a=ft(e,Ot(n)));++s<o;)for(var c=0,l=t[s],u=n?n(l):l;(c=r(a,u,c,i))>-1;)a!==e&&We.call(a,c,1),We.call(e,c,1);return e}function qi(e,t){for(var n=e?t.length:0,i=n-1;n--;){var r=t[n];if(n==i||r!==s){var s=r;as(r)?We.call(e,r,1):er(e,r)}}return e}function ji(e,t){return e+en(dn()*(t-e+1))}function Di(e,t){var n="";if(!e||t<1||t>9007199254740991)return n;do{t%2&&(n+=e),(t=en(t/2))&&(e+=e)}while(t);return n}function Fi(e,t){return _s(gs(e,t,Ga),e+"")}function Ri(e){return Rn(Pa(e))}function Vi(e,t){var n=Pa(e);return xs(n,Yn(t,0,n.length))}function zi(e,t,n,i){if(!Uo(e))return e;for(var r=-1,s=(t=cr(t,e)).length,o=s-1,a=e;null!=a&&++r<s;){var c=ks(t[r]),l=n;if("__proto__"===c||"constructor"===c||"prototype"===c)return e;if(r!=o){var u=a[c];void 0===(l=i?i(u,c,a):void 0)&&(l=Uo(u)?u:as(t[r+1])?[]:{})}Un(a,c,l),a=a[c]}return e}var Hi=bn?function(e,t){return bn.set(e,t),e}:Ga,Ui=yt?function(e,t){return yt(e,"toString",{configurable:!0,enumerable:!1,value:Ua(t),writable:!0})}:Ga;function $i(e){return xs(Pa(e))}function Zi(e,t,n){var r=-1,s=e.length;t<0&&(t=-t>s?0:s+t),(n=n>s?s:n)<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var o=i(s);++r<s;)o[r]=e[r+t];return o}function Gi(e,t){var n;return ti(e,(function(e,i,r){return!(n=t(e,i,r))})),!!n}function Wi(e,t,n){var i=0,r=null==e?i:e.length;if("number"==typeof t&&t==t&&r<=2147483647){for(;i<r;){var s=i+r>>>1,o=e[s];null!==o&&!Jo(o)&&(n?o<=t:o<t)?i=s+1:r=s}return r}return Ki(e,t,Ga,n)}function Ki(e,t,n,i){var r=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=n(t))!=t,a=null===t,c=Jo(t),l=void 0===t;r<s;){var u=en((r+s)/2),d=n(e[u]),h=void 0!==d,f=null===d,p=d==d,g=Jo(d);if(o)var v=i||p;else v=l?p&&(i||h):a?p&&h&&(i||!f):c?p&&h&&!f&&(i||!g):!f&&!g&&(i?d<=t:d<t);v?r=u+1:s=u}return cn(s,4294967294)}function Yi(e,t){for(var n=-1,i=e.length,r=0,s=[];++n<i;){var o=e[n],a=t?t(o):o;if(!n||!Po(a,c)){var c=a;s[r++]=0===o?0:o}}return s}function Xi(e){return"number"==typeof e?e:Jo(e)?NaN:+e}function Ji(e){if("string"==typeof e)return e;if(No(e))return ft(e,Ji)+"";if(Jo(e))return Cn?Cn.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function Qi(e,t,n){var i=-1,r=dt,s=e.length,o=!0,a=[],c=a;if(n)o=!1,r=ht;else if(s>=200){var l=t?null:Dr(e);if(l)return Ut(l);o=!1,r=Tt,c=new jn}else c=t?[]:a;e:for(;++i<s;){var u=e[i],d=t?t(u):u;if(u=n||0!==u?u:0,o&&d==d){for(var h=c.length;h--;)if(c[h]===d)continue e;t&&c.push(d),a.push(u)}else r(c,d,n)||(c!==a&&c.push(d),a.push(u))}return a}function er(e,t){return null==(e=vs(e,t=cr(t,e)))||delete e[ks(Fs(t))]}function tr(e,t,n,i){return zi(e,t,n(hi(e,t)),i)}function nr(e,t,n,i){for(var r=e.length,s=i?r:-1;(i?s--:++s<r)&&t(e[s],s,e););return n?Zi(e,i?0:s,i?s+1:r):Zi(e,i?s+1:0,i?r:s)}function ir(e,t){var n=e;return n instanceof Tn&&(n=n.value()),gt(t,(function(e,t){return t.func.apply(t.thisArg,pt([e],t.args))}),n)}function rr(e,t,n){var r=e.length;if(r<2)return r?Qi(e[0]):[];for(var s=-1,o=i(r);++s<r;)for(var a=e[s],c=-1;++c<r;)c!=s&&(o[s]=ei(o[s]||a,e[c],t,n));return Qi(oi(o,1),t,n)}function sr(e,t,n){for(var i=-1,r=e.length,s=t.length,o={};++i<r;){var a=i<s?t[i]:void 0;n(o,e[i],a)}return o}function or(e){return jo(e)?e:[]}function ar(e){return"function"==typeof e?e:Ga}function cr(e,t){return No(e)?e:ls(e,t)?[e]:Ls(ca(e))}var lr=Fi;function ur(e,t,n){var i=e.length;return n=void 0===n?i:n,!t&&n>=i?e:Zi(e,t,n)}var dr=kt||function(e){return Ge.clearTimeout(e)};function hr(e,t){if(t)return e.slice();var n=e.length,i=qe?qe(n):new e.constructor(n);return e.copy(i),i}function fr(e){var t=new e.constructor(e.byteLength);return new Ne(t).set(new Ne(e)),t}function pr(e,t){var n=t?fr(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function gr(e,t){if(e!==t){var n=void 0!==e,i=null===e,r=e==e,s=Jo(e),o=void 0!==t,a=null===t,c=t==t,l=Jo(t);if(!a&&!l&&!s&&e>t||s&&o&&c&&!a&&!l||i&&o&&c||!n&&c||!r)return 1;if(!i&&!s&&!l&&e<t||l&&n&&r&&!i&&!s||a&&n&&r||!o&&r||!c)return-1}return 0}function vr(e,t,n,r){for(var s=-1,o=e.length,a=n.length,c=-1,l=t.length,u=an(o-a,0),d=i(l+u),h=!r;++c<l;)d[c]=t[c];for(;++s<a;)(h||s<o)&&(d[n[s]]=e[s]);for(;u--;)d[c++]=e[s++];return d}function mr(e,t,n,r){for(var s=-1,o=e.length,a=-1,c=n.length,l=-1,u=t.length,d=an(o-c,0),h=i(d+u),f=!r;++s<d;)h[s]=e[s];for(var p=s;++l<u;)h[p+l]=t[l];for(;++a<c;)(f||s<o)&&(h[p+n[a]]=e[s++]);return h}function yr(e,t){var n=-1,r=e.length;for(t||(t=i(r));++n<r;)t[n]=e[n];return t}function br(e,t,n,i){var r=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],c=i?i(n[a],e[a],a,n,e):void 0;void 0===c&&(c=e[a]),r?Wn(n,a,c):Un(n,a,c)}return n}function wr(e,t){return function(n,i){var r=No(n)?ot:Zn,s=t?t():{};return r(n,e,Xr(i,2),s)}}function _r(e){return Fi((function(t,n){var i=-1,r=n.length,s=r>1?n[r-1]:void 0,o=r>2?n[2]:void 0;for(s=e.length>3&&"function"==typeof s?(r--,s):void 0,o&&cs(n[0],n[1],o)&&(s=r<3?void 0:s,r=1),t=pe(t);++i<r;){var a=n[i];a&&e(t,a,i,s)}return t}))}function Er(e,t){return function(n,i){if(null==n)return n;if(!qo(n))return e(n,i);for(var r=n.length,s=t?r:-1,o=pe(n);(t?s--:++s<r)&&!1!==i(o[s],s,o););return n}}function Sr(e){return function(t,n,i){for(var r=-1,s=pe(t),o=i(t),a=o.length;a--;){var c=o[e?a:++r];if(!1===n(s[c],c,s))break}return t}}function xr(e){return function(t){var n=Rt(t=ca(t))?Gt(t):void 0,i=n?n[0]:t.charAt(0),r=n?ur(n,1).join(""):t.slice(1);return i[e]()+r}}function Lr(e){return function(t){return gt(Va(Ta(t).replace(Be,"")),e,"")}}function kr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=Pn(e.prototype),i=e.apply(n,t);return Uo(i)?i:n}}function Ar(e){return function(t,n,i){var r=pe(t);if(!qo(t)){var s=Xr(n,3);t=_a(t),n=function(e){return s(r[e],e,r)}}var o=e(t,n,i);return o>-1?r[s?t[o]:o]:void 0}}function Cr(e){return $r((function(t){var n=t.length,i=n,r=Bn.prototype.thru;for(e&&t.reverse();i--;){var o=t[i];if("function"!=typeof o)throw new me(s);if(r&&!a&&"wrapper"==Kr(o))var a=new Bn([],!0)}for(i=a?i:n;++i<n;){var c=Kr(o=t[i]),l="wrapper"==c?Wr(o):void 0;a=l&&us(l[0])&&424==l[1]&&!l[4].length&&1==l[9]?a[Kr(l[0])].apply(a,l[3]):1==o.length&&us(o)?a[c]():a.thru(o)}return function(){var e=arguments,i=e[0];if(a&&1==e.length&&No(i))return a.plant(i).value();for(var r=0,s=n?t[r].apply(this,e):i;++r<n;)s=t[r].call(this,s);return s}}))}function Ir(e,t,n,r,s,o,a,c,l,u){var d=128&t,h=1&t,f=2&t,p=24&t,g=512&t,v=f?void 0:kr(e);return function m(){for(var y=arguments.length,b=i(y),w=y;w--;)b[w]=arguments[w];if(p)var _=Yr(m),E=qt(b,_);if(r&&(b=vr(b,r,s,p)),o&&(b=mr(b,o,a,p)),y-=E,p&&y<u){var S=Ht(b,_);return qr(e,t,Ir,m.placeholder,n,b,S,c,l,u-y)}var x=h?n:this,L=f?x[e]:e;return y=b.length,c?b=ms(b,c):g&&y>1&&b.reverse(),d&&l<y&&(b.length=l),this&&this!==Ge&&this instanceof m&&(L=v||kr(L)),L.apply(x,b)}}function Pr(e,t){return function(n,i){return function(e,t,n,i){return li(e,(function(e,r,s){t(i,n(e),r,s)})),i}(n,e,t(i),{})}}function Or(e,t){return function(n,i){var r;if(void 0===n&&void 0===i)return t;if(void 0!==n&&(r=n),void 0!==i){if(void 0===r)return i;"string"==typeof n||"string"==typeof i?(n=Ji(n),i=Ji(i)):(n=Xi(n),i=Xi(i)),r=e(n,i)}return r}}function Br(e){return $r((function(t){return t=ft(t,Ot(Xr())),Fi((function(n){var i=this;return e(t,(function(e){return st(e,i,n)}))}))}))}function Tr(e,t){var n=(t=void 0===t?" ":Ji(t)).length;if(n<2)return n?Di(t,e):t;var i=Di(t,Qt(e/Zt(t)));return Rt(t)?ur(Gt(i),0,e).join(""):i.slice(0,e)}function Nr(e){return function(t,n,r){return r&&"number"!=typeof r&&cs(t,n,r)&&(n=r=void 0),t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n,r){for(var s=-1,o=an(Qt((t-e)/(n||1)),0),a=i(o);o--;)a[r?o:++s]=e,e+=n;return a}(t,n,r=void 0===r?t<n?1:-1:ia(r),e)}}function Mr(e){return function(t,n){return"string"==typeof t&&"string"==typeof n||(t=oa(t),n=oa(n)),e(t,n)}}function qr(e,t,n,i,r,s,o,a,c,l){var u=8&t;t|=u?32:64,4&(t&=~(u?64:32))||(t&=-4);var d=[e,t,r,u?s:void 0,u?o:void 0,u?void 0:s,u?void 0:o,a,c,l],h=n.apply(void 0,d);return us(e)&&bs(h,d),h.placeholder=i,Es(h,e,t)}function jr(e){var t=fe[e];return function(e,n){if(e=oa(e),(n=null==n?0:cn(ra(n),292))&&rn(e)){var i=(ca(e)+"e").split("e");return+((i=(ca(t(i[0]+"e"+(+i[1]+n)))+"e").split("e"))[0]+"e"+(+i[1]-n))}return t(e)}}var Dr=vn&&1/Ut(new vn([,-0]))[1]==1/0?function(e){return new vn(e)}:Ja;function Fr(e){return function(t){var n=is(t);return n==g?Vt(t):n==b?$t(t):function(e,t){return ft(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Rr(e,t,n,r,a,c,l,u){var d=2&t;if(!d&&"function"!=typeof e)throw new me(s);var h=r?r.length:0;if(h||(t&=-97,r=a=void 0),l=void 0===l?l:an(ra(l),0),u=void 0===u?u:ra(u),h-=a?a.length:0,64&t){var f=r,p=a;r=a=void 0}var g=d?void 0:Wr(e),v=[e,t,n,r,a,f,p,c,l,u];if(g&&function(e,t){var n=e[1],i=t[1],r=n|i,s=r<131,a=128==i&&8==n||128==i&&256==n&&e[7].length<=t[8]||384==i&&t[7].length<=t[8]&&8==n;if(!s&&!a)return e;1&i&&(e[2]=t[2],r|=1&n?0:4);var c=t[3];if(c){var l=e[3];e[3]=l?vr(l,c,t[4]):c,e[4]=l?Ht(e[3],o):t[4]}(c=t[5])&&(l=e[5],e[5]=l?mr(l,c,t[6]):c,e[6]=l?Ht(e[5],o):t[6]);(c=t[7])&&(e[7]=c);128&i&&(e[8]=null==e[8]?t[8]:cn(e[8],t[8]));null==e[9]&&(e[9]=t[9]);e[0]=t[0],e[1]=r}(v,g),e=v[0],t=v[1],n=v[2],r=v[3],a=v[4],!(u=v[9]=void 0===v[9]?d?0:e.length:an(v[9]-h,0))&&24&t&&(t&=-25),t&&1!=t)m=8==t||16==t?function(e,t,n){var r=kr(e);return function s(){for(var o=arguments.length,a=i(o),c=o,l=Yr(s);c--;)a[c]=arguments[c];var u=o<3&&a[0]!==l&&a[o-1]!==l?[]:Ht(a,l);if((o-=u.length)<n)return qr(e,t,Ir,s.placeholder,void 0,a,u,void 0,void 0,n-o);var d=this&&this!==Ge&&this instanceof s?r:e;return st(d,this,a)}}(e,t,u):32!=t&&33!=t||a.length?Ir.apply(void 0,v):function(e,t,n,r){var s=1&t,o=kr(e);return function t(){for(var a=-1,c=arguments.length,l=-1,u=r.length,d=i(u+c),h=this&&this!==Ge&&this instanceof t?o:e;++l<u;)d[l]=r[l];for(;c--;)d[l++]=arguments[++a];return st(h,s?n:this,d)}}(e,t,n,r);else var m=function(e,t,n){var i=1&t,r=kr(e);return function t(){var s=this&&this!==Ge&&this instanceof t?r:e;return s.apply(i?n:this,arguments)}}(e,t,n);return Es((g?Hi:bs)(m,v),e,t)}function Vr(e,t,n,i){return void 0===e||Po(e,we[n])&&!Se.call(i,n)?t:e}function zr(e,t,n,i,r,s){return Uo(e)&&Uo(t)&&(s.set(t,e),Oi(e,t,void 0,zr,s),s.delete(t)),e}function Hr(e){return Wo(e)?void 0:e}function Ur(e,t,n,i,r,s){var o=1&n,a=e.length,c=t.length;if(a!=c&&!(o&&c>a))return!1;var l=s.get(e),u=s.get(t);if(l&&u)return l==t&&u==e;var d=-1,h=!0,f=2&n?new jn:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var p=e[d],g=t[d];if(i)var v=o?i(g,p,d,t,e,s):i(p,g,d,e,t,s);if(void 0!==v){if(v)continue;h=!1;break}if(f){if(!mt(t,(function(e,t){if(!Tt(f,t)&&(p===e||r(p,e,n,i,s)))return f.push(t)}))){h=!1;break}}else if(p!==g&&!r(p,g,n,i,s)){h=!1;break}}return s.delete(e),s.delete(t),h}function $r(e){return _s(gs(e,void 0,Ns),e+"")}function Zr(e){return fi(e,_a,ts)}function Gr(e){return fi(e,Ea,ns)}var Wr=bn?function(e){return bn.get(e)}:Ja;function Kr(e){for(var t=e.name+"",n=wn[t],i=Se.call(wn,t)?n.length:0;i--;){var r=n[i],s=r.func;if(null==s||s==e)return r.name}return t}function Yr(e){return(Se.call(In,"placeholder")?In:e).placeholder}function Xr(){var e=In.iteratee||Wa;return e=e===Wa?xi:e,arguments.length?e(arguments[0],arguments[1]):e}function Jr(e,t){var n,i,r=e.__data__;return("string"==(i=typeof(n=t))||"number"==i||"symbol"==i||"boolean"==i?"__proto__"!==n:null===n)?r["string"==typeof t?"string":"hash"]:r.map}function Qr(e){for(var t=_a(e),n=t.length;n--;){var i=t[n],r=e[i];t[n]=[i,r,fs(r)]}return t}function es(e,t){var n=function(e,t){return null==e?void 0:e[t]}(e,t);return Si(n)?n:void 0}var ts=tn?function(e){return null==e?[]:(e=pe(e),ut(tn(e),(function(t){return Ze.call(e,t)})))}:sc,ns=tn?function(e){for(var t=[];e;)pt(t,ts(e)),e=ze(e);return t}:sc,is=pi;function rs(e,t,n){for(var i=-1,r=(t=cr(t,e)).length,s=!1;++i<r;){var o=ks(t[i]);if(!(s=null!=e&&n(e,o)))break;e=e[o]}return s||++i!=r?s:!!(r=null==e?0:e.length)&&Ho(r)&&as(o,r)&&(No(e)||To(e))}function ss(e){return"function"!=typeof e.constructor||hs(e)?{}:Pn(ze(e))}function os(e){return No(e)||To(e)||!!(Ke&&e&&e[Ke])}function as(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&ce.test(e))&&e>-1&&e%1==0&&e<t}function cs(e,t,n){if(!Uo(n))return!1;var i=typeof t;return!!("number"==i?qo(n)&&as(t,n.length):"string"==i&&t in n)&&Po(n[t],e)}function ls(e,t){if(No(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!Jo(e))||(U.test(e)||!H.test(e)||null!=t&&e in pe(t))}function us(e){var t=Kr(e),n=In[t];if("function"!=typeof n||!(t in Tn.prototype))return!1;if(e===n)return!0;var i=Wr(n);return!!i&&e===i[0]}(fn&&is(new fn(new ArrayBuffer(1)))!=x||pn&&is(new pn)!=g||gn&&"[object Promise]"!=is(gn.resolve())||vn&&is(new vn)!=b||mn&&is(new mn)!=E)&&(is=function(e){var t=pi(e),n=t==m?e.constructor:void 0,i=n?As(n):"";if(i)switch(i){case _n:return x;case En:return g;case Sn:return"[object Promise]";case xn:return b;case Ln:return E}return t});var ds=_e?Vo:oc;function hs(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||we)}function fs(e){return e==e&&!Uo(e)}function ps(e,t){return function(n){return null!=n&&(n[e]===t&&(void 0!==t||e in pe(n)))}}function gs(e,t,n){return t=an(void 0===t?e.length-1:t,0),function(){for(var r=arguments,s=-1,o=an(r.length-t,0),a=i(o);++s<o;)a[s]=r[t+s];s=-1;for(var c=i(t+1);++s<t;)c[s]=r[s];return c[t]=n(a),st(e,this,c)}}function vs(e,t){return t.length<2?e:hi(e,Zi(t,0,-1))}function ms(e,t){for(var n=e.length,i=cn(t.length,n),r=yr(e);i--;){var s=t[i];e[i]=as(s,n)?r[s]:void 0}return e}function ys(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var bs=Ss(Hi),ws=Jt||function(e,t){return Ge.setTimeout(e,t)},_s=Ss(Ui);function Es(e,t,n){var i=t+"";return _s(e,function(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Y,"{\n/* [wrapped with "+t+"] */\n")}(i,function(e,t){return at(a,(function(n){var i="_."+n[0];t&n[1]&&!dt(e,i)&&e.push(i)})),e.sort()}(function(e){var t=e.match(X);return t?t[1].split(J):[]}(i),n)))}function Ss(e){var t=0,n=0;return function(){var i=ln(),r=16-(i-n);if(n=i,r>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function xs(e,t){var n=-1,i=e.length,r=i-1;for(t=void 0===t?i:t;++n<t;){var s=ji(n,r),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}var Ls=function(e){var t=xo(e,(function(e){return 500===n.size&&n.clear(),e})),n=t.cache;return t}((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace($,(function(e,n,i,r){t.push(i?r.replace(te,"$1"):n||e)})),t}));function ks(e){if("string"==typeof e||Jo(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function As(e){if(null!=e){try{return Ee.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function Cs(e){if(e instanceof Tn)return e.clone();var t=new Bn(e.__wrapped__,e.__chain__);return t.__actions__=yr(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Is=Fi((function(e,t){return jo(e)?ei(e,oi(t,1,jo,!0)):[]})),Ps=Fi((function(e,t){var n=Fs(t);return jo(n)&&(n=void 0),jo(e)?ei(e,oi(t,1,jo,!0),Xr(n,2)):[]})),Os=Fi((function(e,t){var n=Fs(t);return jo(n)&&(n=void 0),jo(e)?ei(e,oi(t,1,jo,!0),void 0,n):[]}));function Bs(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),wt(e,Xr(t,3),r)}function Ts(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i-1;return void 0!==n&&(r=ra(n),r=n<0?an(i+r,0):cn(r,i-1)),wt(e,Xr(t,3),r,!0)}function Ns(e){return(null==e?0:e.length)?oi(e,1):[]}function Ms(e){return e&&e.length?e[0]:void 0}var qs=Fi((function(e){var t=ft(e,or);return t.length&&t[0]===e[0]?yi(t):[]})),js=Fi((function(e){var t=Fs(e),n=ft(e,or);return t===Fs(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?yi(n,Xr(t,2)):[]})),Ds=Fi((function(e){var t=Fs(e),n=ft(e,or);return(t="function"==typeof t?t:void 0)&&n.pop(),n.length&&n[0]===e[0]?yi(n,void 0,t):[]}));function Fs(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}var Rs=Fi(Vs);function Vs(e,t){return e&&e.length&&t&&t.length?Mi(e,t):e}var zs=$r((function(e,t){var n=null==e?0:e.length,i=Kn(e,t);return qi(e,ft(t,(function(e){return as(e,n)?+e:e})).sort(gr)),i}));function Hs(e){return null==e?e:hn.call(e)}var Us=Fi((function(e){return Qi(oi(e,1,jo,!0))})),$s=Fi((function(e){var t=Fs(e);return jo(t)&&(t=void 0),Qi(oi(e,1,jo,!0),Xr(t,2))})),Zs=Fi((function(e){var t=Fs(e);return t="function"==typeof t?t:void 0,Qi(oi(e,1,jo,!0),void 0,t)}));function Gs(e){if(!e||!e.length)return[];var t=0;return e=ut(e,(function(e){if(jo(e))return t=an(e.length,t),!0})),It(t,(function(t){return ft(e,Lt(t))}))}function Ws(e,t){if(!e||!e.length)return[];var n=Gs(e);return null==t?n:ft(n,(function(e){return st(t,void 0,e)}))}var Ks=Fi((function(e,t){return jo(e)?ei(e,t):[]})),Ys=Fi((function(e){return rr(ut(e,jo))})),Xs=Fi((function(e){var t=Fs(e);return jo(t)&&(t=void 0),rr(ut(e,jo),Xr(t,2))})),Js=Fi((function(e){var t=Fs(e);return t="function"==typeof t?t:void 0,rr(ut(e,jo),void 0,t)})),Qs=Fi(Gs);var eo=Fi((function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n="function"==typeof n?(e.pop(),n):void 0,Ws(e,n)}));function to(e){var t=In(e);return t.__chain__=!0,t}function no(e,t){return t(e)}var io=$r((function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,r=function(t){return Kn(t,e)};return!(t>1||this.__actions__.length)&&i instanceof Tn&&as(n)?((i=i.slice(n,+n+(t?1:0))).__actions__.push({func:no,args:[r],thisArg:void 0}),new Bn(i,this.__chain__).thru((function(e){return t&&!e.length&&e.push(void 0),e}))):this.thru(r)}));var ro=wr((function(e,t,n){Se.call(e,n)?++e[n]:Wn(e,n,1)}));var so=Ar(Bs),oo=Ar(Ts);function ao(e,t){return(No(e)?at:ti)(e,Xr(t,3))}function co(e,t){return(No(e)?ct:ni)(e,Xr(t,3))}var lo=wr((function(e,t,n){Se.call(e,n)?e[n].push(t):Wn(e,n,[t])}));var uo=Fi((function(e,t,n){var r=-1,s="function"==typeof t,o=qo(e)?i(e.length):[];return ti(e,(function(e){o[++r]=s?st(t,e,n):bi(e,t,n)})),o})),ho=wr((function(e,t,n){Wn(e,n,t)}));function fo(e,t){return(No(e)?ft:Ci)(e,Xr(t,3))}var po=wr((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]}));var go=Fi((function(e,t){if(null==e)return[];var n=t.length;return n>1&&cs(e,t[0],t[1])?t=[]:n>2&&cs(t[0],t[1],t[2])&&(t=[t[0]]),Ti(e,oi(t,1),[])})),vo=Xt||function(){return Ge.Date.now()};function mo(e,t,n){return t=n?void 0:t,Rr(e,128,void 0,void 0,void 0,void 0,t=e&&null==t?e.length:t)}function yo(e,t){var n;if("function"!=typeof t)throw new me(s);return e=ra(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var bo=Fi((function(e,t,n){var i=1;if(n.length){var r=Ht(n,Yr(bo));i|=32}return Rr(e,i,t,n,r)})),wo=Fi((function(e,t,n){var i=3;if(n.length){var r=Ht(n,Yr(wo));i|=32}return Rr(t,i,e,n,r)}));function _o(e,t,n){var i,r,o,a,c,l,u=0,d=!1,h=!1,f=!0;if("function"!=typeof e)throw new me(s);function p(t){var n=i,s=r;return i=r=void 0,u=t,a=e.apply(s,n)}function g(e){return u=e,c=ws(m,t),d?p(e):a}function v(e){var n=e-l;return void 0===l||n>=t||n<0||h&&e-u>=o}function m(){var e=vo();if(v(e))return y(e);c=ws(m,function(e){var n=t-(e-l);return h?cn(n,o-(e-u)):n}(e))}function y(e){return c=void 0,f&&i?p(e):(i=r=void 0,a)}function b(){var e=vo(),n=v(e);if(i=arguments,r=this,l=e,n){if(void 0===c)return g(l);if(h)return dr(c),c=ws(m,t),p(l)}return void 0===c&&(c=ws(m,t)),a}return t=oa(t)||0,Uo(n)&&(d=!!n.leading,o=(h="maxWait"in n)?an(oa(n.maxWait)||0,t):o,f="trailing"in n?!!n.trailing:f),b.cancel=function(){void 0!==c&&dr(c),u=0,i=l=r=c=void 0},b.flush=function(){return void 0===c?a:y(vo())},b}var Eo=Fi((function(e,t){return Qn(e,1,t)})),So=Fi((function(e,t,n){return Qn(e,oa(t)||0,n)}));function xo(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new me(s);var n=function(){var i=arguments,r=t?t.apply(this,i):i[0],s=n.cache;if(s.has(r))return s.get(r);var o=e.apply(this,i);return n.cache=s.set(r,o)||s,o};return n.cache=new(xo.Cache||qn),n}function Lo(e){if("function"!=typeof e)throw new me(s);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}xo.Cache=qn;var ko=lr((function(e,t){var n=(t=1==t.length&&No(t[0])?ft(t[0],Ot(Xr())):ft(oi(t,1),Ot(Xr()))).length;return Fi((function(i){for(var r=-1,s=cn(i.length,n);++r<s;)i[r]=t[r].call(this,i[r]);return st(e,this,i)}))})),Ao=Fi((function(e,t){return Rr(e,32,void 0,t,Ht(t,Yr(Ao)))})),Co=Fi((function(e,t){return Rr(e,64,void 0,t,Ht(t,Yr(Co)))})),Io=$r((function(e,t){return Rr(e,256,void 0,void 0,void 0,t)}));function Po(e,t){return e===t||e!=e&&t!=t}var Oo=Mr(gi),Bo=Mr((function(e,t){return e>=t})),To=wi(function(){return arguments}())?wi:function(e){return $o(e)&&Se.call(e,"callee")&&!Ze.call(e,"callee")},No=i.isArray,Mo=Qe?Ot(Qe):function(e){return $o(e)&&pi(e)==S};function qo(e){return null!=e&&Ho(e.length)&&!Vo(e)}function jo(e){return $o(e)&&qo(e)}var Do=nn||oc,Fo=et?Ot(et):function(e){return $o(e)&&pi(e)==d};function Ro(e){if(!$o(e))return!1;var t=pi(e);return t==h||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!Wo(e)}function Vo(e){if(!Uo(e))return!1;var t=pi(e);return t==f||t==p||"[object AsyncFunction]"==t||"[object Proxy]"==t}function zo(e){return"number"==typeof e&&e==ra(e)}function Ho(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}function Uo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function $o(e){return null!=e&&"object"==typeof e}var Zo=tt?Ot(tt):function(e){return $o(e)&&is(e)==g};function Go(e){return"number"==typeof e||$o(e)&&pi(e)==v}function Wo(e){if(!$o(e)||pi(e)!=m)return!1;var t=ze(e);if(null===t)return!0;var n=Se.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&Ee.call(n)==Ae}var Ko=nt?Ot(nt):function(e){return $o(e)&&pi(e)==y};var Yo=it?Ot(it):function(e){return $o(e)&&is(e)==b};function Xo(e){return"string"==typeof e||!No(e)&&$o(e)&&pi(e)==w}function Jo(e){return"symbol"==typeof e||$o(e)&&pi(e)==_}var Qo=rt?Ot(rt):function(e){return $o(e)&&Ho(e.length)&&!!Re[pi(e)]};var ea=Mr(Ai),ta=Mr((function(e,t){return e<=t}));function na(e){if(!e)return[];if(qo(e))return Xo(e)?Gt(e):yr(e);if(Xe&&e[Xe])return function(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}(e[Xe]());var t=is(e);return(t==g?Vt:t==b?Ut:Pa)(e)}function ia(e){return e?(e=oa(e))===1/0||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function ra(e){var t=ia(e),n=t%1;return t==t?n?t-n:t:0}function sa(e){return e?Yn(ra(e),0,4294967295):0}function oa(e){if("number"==typeof e)return e;if(Jo(e))return NaN;if(Uo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=Uo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=Pt(e);var n=se.test(e);return n||ae.test(e)?Ue(e.slice(2),n?2:8):re.test(e)?NaN:+e}function aa(e){return br(e,Ea(e))}function ca(e){return null==e?"":Ji(e)}var la=_r((function(e,t){if(hs(t)||qo(t))br(t,_a(t),e);else for(var n in t)Se.call(t,n)&&Un(e,n,t[n])})),ua=_r((function(e,t){br(t,Ea(t),e)})),da=_r((function(e,t,n,i){br(t,Ea(t),e,i)})),ha=_r((function(e,t,n,i){br(t,_a(t),e,i)})),fa=$r(Kn);var pa=Fi((function(e,t){e=pe(e);var n=-1,i=t.length,r=i>2?t[2]:void 0;for(r&&cs(t[0],t[1],r)&&(i=1);++n<i;)for(var s=t[n],o=Ea(s),a=-1,c=o.length;++a<c;){var l=o[a],u=e[l];(void 0===u||Po(u,we[l])&&!Se.call(e,l))&&(e[l]=s[l])}return e})),ga=Fi((function(e){return e.push(void 0,zr),st(xa,void 0,e)}));function va(e,t,n){var i=null==e?void 0:hi(e,t);return void 0===i?n:i}function ma(e,t){return null!=e&&rs(e,t,mi)}var ya=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),e[t]=n}),Ua(Ga)),ba=Pr((function(e,t,n){null!=t&&"function"!=typeof t.toString&&(t=ke.call(t)),Se.call(e,t)?e[t].push(n):e[t]=[n]}),Xr),wa=Fi(bi);function _a(e){return qo(e)?Fn(e):Li(e)}function Ea(e){return qo(e)?Fn(e,!0):ki(e)}var Sa=_r((function(e,t,n){Oi(e,t,n)})),xa=_r((function(e,t,n,i){Oi(e,t,n,i)})),La=$r((function(e,t){var n={};if(null==e)return n;var i=!1;t=ft(t,(function(t){return t=cr(t,e),i||(i=t.length>1),t})),br(e,Gr(e),n),i&&(n=Xn(n,7,Hr));for(var r=t.length;r--;)er(n,t[r]);return n}));var ka=$r((function(e,t){return null==e?{}:function(e,t){return Ni(e,t,(function(t,n){return ma(e,n)}))}(e,t)}));function Aa(e,t){if(null==e)return{};var n=ft(Gr(e),(function(e){return[e]}));return t=Xr(t),Ni(e,n,(function(e,n){return t(e,n[0])}))}var Ca=Fr(_a),Ia=Fr(Ea);function Pa(e){return null==e?[]:Bt(e,_a(e))}var Oa=Lr((function(e,t,n){return t=t.toLowerCase(),e+(n?Ba(t):t)}));function Ba(e){return Ra(ca(e).toLowerCase())}function Ta(e){return(e=ca(e))&&e.replace(le,jt).replace(Te,"")}var Na=Lr((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Ma=Lr((function(e,t,n){return e+(n?" ":"")+t.toLowerCase()})),qa=xr("toLowerCase");var ja=Lr((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()}));var Da=Lr((function(e,t,n){return e+(n?" ":"")+Ra(t)}));var Fa=Lr((function(e,t,n){return e+(n?" ":"")+t.toUpperCase()})),Ra=xr("toUpperCase");function Va(e,t,n){return e=ca(e),void 0===(t=n?void 0:t)?function(e){return je.test(e)}(e)?function(e){return e.match(Me)||[]}(e):function(e){return e.match(Q)||[]}(e):e.match(t)||[]}var za=Fi((function(e,t){try{return st(e,void 0,t)}catch(e){return Ro(e)?e:new K(e)}})),Ha=$r((function(e,t){return at(t,(function(t){t=ks(t),Wn(e,t,bo(e[t],e))})),e}));function Ua(e){return function(){return e}}var $a=Cr(),Za=Cr(!0);function Ga(e){return e}function Wa(e){return xi("function"==typeof e?e:Xn(e,1))}var Ka=Fi((function(e,t){return function(n){return bi(n,e,t)}})),Ya=Fi((function(e,t){return function(n){return bi(e,n,t)}}));function Xa(e,t,n){var i=_a(t),r=di(t,i);null!=n||Uo(t)&&(r.length||!i.length)||(n=t,t=e,e=this,r=di(t,_a(t)));var s=!(Uo(n)&&"chain"in n&&!n.chain),o=Vo(e);return at(r,(function(n){var i=t[n];e[n]=i,o&&(e.prototype[n]=function(){var t=this.__chain__;if(s||t){var n=e(this.__wrapped__),r=n.__actions__=yr(this.__actions__);return r.push({func:i,args:arguments,thisArg:e}),n.__chain__=t,n}return i.apply(e,pt([this.value()],arguments))})})),e}function Ja(){}var Qa=Br(ft),ec=Br(lt),tc=Br(mt);function nc(e){return ls(e)?Lt(ks(e)):function(e){return function(t){return hi(t,e)}}(e)}var ic=Nr(),rc=Nr(!0);function sc(){return[]}function oc(){return!1}var ac=Or((function(e,t){return e+t}),0),cc=jr("ceil"),lc=Or((function(e,t){return e/t}),1),uc=jr("floor");var dc,hc=Or((function(e,t){return e*t}),1),fc=jr("round"),pc=Or((function(e,t){return e-t}),0);return In.after=function(e,t){if("function"!=typeof t)throw new me(s);return e=ra(e),function(){if(--e<1)return t.apply(this,arguments)}},In.ary=mo,In.assign=la,In.assignIn=ua,In.assignInWith=da,In.assignWith=ha,In.at=fa,In.before=yo,In.bind=bo,In.bindAll=Ha,In.bindKey=wo,In.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return No(e)?e:[e]},In.chain=to,In.chunk=function(e,t,n){t=(n?cs(e,t,n):void 0===t)?1:an(ra(t),0);var r=null==e?0:e.length;if(!r||t<1)return[];for(var s=0,o=0,a=i(Qt(r/t));s<r;)a[o++]=Zi(e,s,s+=t);return a},In.compact=function(e){for(var t=-1,n=null==e?0:e.length,i=0,r=[];++t<n;){var s=e[t];s&&(r[i++]=s)}return r},In.concat=function(){var e=arguments.length;if(!e)return[];for(var t=i(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return pt(No(n)?yr(n):[n],oi(t,1))},In.cond=function(e){var t=null==e?0:e.length,n=Xr();return e=t?ft(e,(function(e){if("function"!=typeof e[1])throw new me(s);return[n(e[0]),e[1]]})):[],Fi((function(n){for(var i=-1;++i<t;){var r=e[i];if(st(r[0],this,n))return st(r[1],this,n)}}))},In.conforms=function(e){return function(e){var t=_a(e);return function(n){return Jn(n,e,t)}}(Xn(e,1))},In.constant=Ua,In.countBy=ro,In.create=function(e,t){var n=Pn(e);return null==t?n:Gn(n,t)},In.curry=function e(t,n,i){var r=Rr(t,8,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.curryRight=function e(t,n,i){var r=Rr(t,16,void 0,void 0,void 0,void 0,void 0,n=i?void 0:n);return r.placeholder=e.placeholder,r},In.debounce=_o,In.defaults=pa,In.defaultsDeep=ga,In.defer=Eo,In.delay=So,In.difference=Is,In.differenceBy=Ps,In.differenceWith=Os,In.drop=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=n||void 0===t?1:ra(t))<0?0:t,i):[]},In.dropRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,0,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t):[]},In.dropRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0,!0):[]},In.dropWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!0):[]},In.fill=function(e,t,n,i){var r=null==e?0:e.length;return r?(n&&"number"!=typeof n&&cs(e,t,n)&&(n=0,i=r),function(e,t,n,i){var r=e.length;for((n=ra(n))<0&&(n=-n>r?0:r+n),(i=void 0===i||i>r?r:ra(i))<0&&(i+=r),i=n>i?0:sa(i);n<i;)e[n++]=t;return e}(e,t,n,i)):[]},In.filter=function(e,t){return(No(e)?ut:si)(e,Xr(t,3))},In.flatMap=function(e,t){return oi(fo(e,t),1)},In.flatMapDeep=function(e,t){return oi(fo(e,t),1/0)},In.flatMapDepth=function(e,t,n){return n=void 0===n?1:ra(n),oi(fo(e,t),n)},In.flatten=Ns,In.flattenDeep=function(e){return(null==e?0:e.length)?oi(e,1/0):[]},In.flattenDepth=function(e,t){return(null==e?0:e.length)?oi(e,t=void 0===t?1:ra(t)):[]},In.flip=function(e){return Rr(e,512)},In.flow=$a,In.flowRight=Za,In.fromPairs=function(e){for(var t=-1,n=null==e?0:e.length,i={};++t<n;){var r=e[t];i[r[0]]=r[1]}return i},In.functions=function(e){return null==e?[]:di(e,_a(e))},In.functionsIn=function(e){return null==e?[]:di(e,Ea(e))},In.groupBy=lo,In.initial=function(e){return(null==e?0:e.length)?Zi(e,0,-1):[]},In.intersection=qs,In.intersectionBy=js,In.intersectionWith=Ds,In.invert=ya,In.invertBy=ba,In.invokeMap=uo,In.iteratee=Wa,In.keyBy=ho,In.keys=_a,In.keysIn=Ea,In.map=fo,In.mapKeys=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,t(e,i,r),e)})),n},In.mapValues=function(e,t){var n={};return t=Xr(t,3),li(e,(function(e,i,r){Wn(n,i,t(e,i,r))})),n},In.matches=function(e){return Ii(Xn(e,1))},In.matchesProperty=function(e,t){return Pi(e,Xn(t,1))},In.memoize=xo,In.merge=Sa,In.mergeWith=xa,In.method=Ka,In.methodOf=Ya,In.mixin=Xa,In.negate=Lo,In.nthArg=function(e){return e=ra(e),Fi((function(t){return Bi(t,e)}))},In.omit=La,In.omitBy=function(e,t){return Aa(e,Lo(Xr(t)))},In.once=function(e){return yo(2,e)},In.orderBy=function(e,t,n,i){return null==e?[]:(No(t)||(t=null==t?[]:[t]),No(n=i?void 0:n)||(n=null==n?[]:[n]),Ti(e,t,n))},In.over=Qa,In.overArgs=ko,In.overEvery=ec,In.overSome=tc,In.partial=Ao,In.partialRight=Co,In.partition=po,In.pick=ka,In.pickBy=Aa,In.property=nc,In.propertyOf=function(e){return function(t){return null==e?void 0:hi(e,t)}},In.pull=Rs,In.pullAll=Vs,In.pullAllBy=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,Xr(n,2)):e},In.pullAllWith=function(e,t,n){return e&&e.length&&t&&t.length?Mi(e,t,void 0,n):e},In.pullAt=zs,In.range=ic,In.rangeRight=rc,In.rearg=Io,In.reject=function(e,t){return(No(e)?ut:si)(e,Lo(Xr(t,3)))},In.remove=function(e,t){var n=[];if(!e||!e.length)return n;var i=-1,r=[],s=e.length;for(t=Xr(t,3);++i<s;){var o=e[i];t(o,i,e)&&(n.push(o),r.push(i))}return qi(e,r),n},In.rest=function(e,t){if("function"!=typeof e)throw new me(s);return Fi(e,t=void 0===t?t:ra(t))},In.reverse=Hs,In.sampleSize=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),(No(e)?Vn:Vi)(e,t)},In.set=function(e,t,n){return null==e?e:zi(e,t,n)},In.setWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:zi(e,t,n,i)},In.shuffle=function(e){return(No(e)?zn:$i)(e)},In.slice=function(e,t,n){var i=null==e?0:e.length;return i?(n&&"number"!=typeof n&&cs(e,t,n)?(t=0,n=i):(t=null==t?0:ra(t),n=void 0===n?i:ra(n)),Zi(e,t,n)):[]},In.sortBy=go,In.sortedUniq=function(e){return e&&e.length?Yi(e):[]},In.sortedUniqBy=function(e,t){return e&&e.length?Yi(e,Xr(t,2)):[]},In.split=function(e,t,n){return n&&"number"!=typeof n&&cs(e,t,n)&&(t=n=void 0),(n=void 0===n?4294967295:n>>>0)?(e=ca(e))&&("string"==typeof t||null!=t&&!Ko(t))&&!(t=Ji(t))&&Rt(e)?ur(Gt(e),0,n):e.split(t,n):[]},In.spread=function(e,t){if("function"!=typeof e)throw new me(s);return t=null==t?0:an(ra(t),0),Fi((function(n){var i=n[t],r=ur(n,0,t);return i&&pt(r,i),st(e,this,r)}))},In.tail=function(e){var t=null==e?0:e.length;return t?Zi(e,1,t):[]},In.take=function(e,t,n){return e&&e.length?Zi(e,0,(t=n||void 0===t?1:ra(t))<0?0:t):[]},In.takeRight=function(e,t,n){var i=null==e?0:e.length;return i?Zi(e,(t=i-(t=n||void 0===t?1:ra(t)))<0?0:t,i):[]},In.takeRightWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3),!1,!0):[]},In.takeWhile=function(e,t){return e&&e.length?nr(e,Xr(t,3)):[]},In.tap=function(e,t){return t(e),e},In.throttle=function(e,t,n){var i=!0,r=!0;if("function"!=typeof e)throw new me(s);return Uo(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),_o(e,t,{leading:i,maxWait:t,trailing:r})},In.thru=no,In.toArray=na,In.toPairs=Ca,In.toPairsIn=Ia,In.toPath=function(e){return No(e)?ft(e,ks):Jo(e)?[e]:yr(Ls(ca(e)))},In.toPlainObject=aa,In.transform=function(e,t,n){var i=No(e),r=i||Do(e)||Qo(e);if(t=Xr(t,4),null==n){var s=e&&e.constructor;n=r?i?new s:[]:Uo(e)&&Vo(s)?Pn(ze(e)):{}}return(r?at:li)(e,(function(e,i,r){return t(n,e,i,r)})),n},In.unary=function(e){return mo(e,1)},In.union=Us,In.unionBy=$s,In.unionWith=Zs,In.uniq=function(e){return e&&e.length?Qi(e):[]},In.uniqBy=function(e,t){return e&&e.length?Qi(e,Xr(t,2)):[]},In.uniqWith=function(e,t){return t="function"==typeof t?t:void 0,e&&e.length?Qi(e,void 0,t):[]},In.unset=function(e,t){return null==e||er(e,t)},In.unzip=Gs,In.unzipWith=Ws,In.update=function(e,t,n){return null==e?e:tr(e,t,ar(n))},In.updateWith=function(e,t,n,i){return i="function"==typeof i?i:void 0,null==e?e:tr(e,t,ar(n),i)},In.values=Pa,In.valuesIn=function(e){return null==e?[]:Bt(e,Ea(e))},In.without=Ks,In.words=Va,In.wrap=function(e,t){return Ao(ar(t),e)},In.xor=Ys,In.xorBy=Xs,In.xorWith=Js,In.zip=Qs,In.zipObject=function(e,t){return sr(e||[],t||[],Un)},In.zipObjectDeep=function(e,t){return sr(e||[],t||[],zi)},In.zipWith=eo,In.entries=Ca,In.entriesIn=Ia,In.extend=ua,In.extendWith=da,Xa(In,In),In.add=ac,In.attempt=za,In.camelCase=Oa,In.capitalize=Ba,In.ceil=cc,In.clamp=function(e,t,n){return void 0===n&&(n=t,t=void 0),void 0!==n&&(n=(n=oa(n))==n?n:0),void 0!==t&&(t=(t=oa(t))==t?t:0),Yn(oa(e),t,n)},In.clone=function(e){return Xn(e,4)},In.cloneDeep=function(e){return Xn(e,5)},In.cloneDeepWith=function(e,t){return Xn(e,5,t="function"==typeof t?t:void 0)},In.cloneWith=function(e,t){return Xn(e,4,t="function"==typeof t?t:void 0)},In.conformsTo=function(e,t){return null==t||Jn(e,t,_a(t))},In.deburr=Ta,In.defaultTo=function(e,t){return null==e||e!=e?t:e},In.divide=lc,In.endsWith=function(e,t,n){e=ca(e),t=Ji(t);var i=e.length,r=n=void 0===n?i:Yn(ra(n),0,i);return(n-=t.length)>=0&&e.slice(n,r)==t},In.eq=Po,In.escape=function(e){return(e=ca(e))&&F.test(e)?e.replace(j,Dt):e},In.escapeRegExp=function(e){return(e=ca(e))&&G.test(e)?e.replace(Z,"\\$&"):e},In.every=function(e,t,n){var i=No(e)?lt:ii;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.find=so,In.findIndex=Bs,In.findKey=function(e,t){return bt(e,Xr(t,3),li)},In.findLast=oo,In.findLastIndex=Ts,In.findLastKey=function(e,t){return bt(e,Xr(t,3),ui)},In.floor=uc,In.forEach=ao,In.forEachRight=co,In.forIn=function(e,t){return null==e?e:ai(e,Xr(t,3),Ea)},In.forInRight=function(e,t){return null==e?e:ci(e,Xr(t,3),Ea)},In.forOwn=function(e,t){return e&&li(e,Xr(t,3))},In.forOwnRight=function(e,t){return e&&ui(e,Xr(t,3))},In.get=va,In.gt=Oo,In.gte=Bo,In.has=function(e,t){return null!=e&&rs(e,t,vi)},In.hasIn=ma,In.head=Ms,In.identity=Ga,In.includes=function(e,t,n,i){e=qo(e)?e:Pa(e),n=n&&!i?ra(n):0;var r=e.length;return n<0&&(n=an(r+n,0)),Xo(e)?n<=r&&e.indexOf(t,n)>-1:!!r&&_t(e,t,n)>-1},In.indexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=null==n?0:ra(n);return r<0&&(r=an(i+r,0)),_t(e,t,r)},In.inRange=function(e,t,n){return t=ia(t),void 0===n?(n=t,t=0):n=ia(n),function(e,t,n){return e>=cn(t,n)&&e<an(t,n)}(e=oa(e),t,n)},In.invoke=wa,In.isArguments=To,In.isArray=No,In.isArrayBuffer=Mo,In.isArrayLike=qo,In.isArrayLikeObject=jo,In.isBoolean=function(e){return!0===e||!1===e||$o(e)&&pi(e)==u},In.isBuffer=Do,In.isDate=Fo,In.isElement=function(e){return $o(e)&&1===e.nodeType&&!Wo(e)},In.isEmpty=function(e){if(null==e)return!0;if(qo(e)&&(No(e)||"string"==typeof e||"function"==typeof e.splice||Do(e)||Qo(e)||To(e)))return!e.length;var t=is(e);if(t==g||t==b)return!e.size;if(hs(e))return!Li(e).length;for(var n in e)if(Se.call(e,n))return!1;return!0},In.isEqual=function(e,t){return _i(e,t)},In.isEqualWith=function(e,t,n){var i=(n="function"==typeof n?n:void 0)?n(e,t):void 0;return void 0===i?_i(e,t,void 0,n):!!i},In.isError=Ro,In.isFinite=function(e){return"number"==typeof e&&rn(e)},In.isFunction=Vo,In.isInteger=zo,In.isLength=Ho,In.isMap=Zo,In.isMatch=function(e,t){return e===t||Ei(e,t,Qr(t))},In.isMatchWith=function(e,t,n){return n="function"==typeof n?n:void 0,Ei(e,t,Qr(t),n)},In.isNaN=function(e){return Go(e)&&e!=+e},In.isNative=function(e){if(ds(e))throw new K("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return Si(e)},In.isNil=function(e){return null==e},In.isNull=function(e){return null===e},In.isNumber=Go,In.isObject=Uo,In.isObjectLike=$o,In.isPlainObject=Wo,In.isRegExp=Ko,In.isSafeInteger=function(e){return zo(e)&&e>=-9007199254740991&&e<=9007199254740991},In.isSet=Yo,In.isString=Xo,In.isSymbol=Jo,In.isTypedArray=Qo,In.isUndefined=function(e){return void 0===e},In.isWeakMap=function(e){return $o(e)&&is(e)==E},In.isWeakSet=function(e){return $o(e)&&"[object WeakSet]"==pi(e)},In.join=function(e,t){return null==e?"":sn.call(e,t)},In.kebabCase=Na,In.last=Fs,In.lastIndexOf=function(e,t,n){var i=null==e?0:e.length;if(!i)return-1;var r=i;return void 0!==n&&(r=(r=ra(n))<0?an(i+r,0):cn(r,i-1)),t==t?function(e,t,n){for(var i=n+1;i--;)if(e[i]===t)return i;return i}(e,t,r):wt(e,St,r,!0)},In.lowerCase=Ma,In.lowerFirst=qa,In.lt=ea,In.lte=ta,In.max=function(e){return e&&e.length?ri(e,Ga,gi):void 0},In.maxBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),gi):void 0},In.mean=function(e){return xt(e,Ga)},In.meanBy=function(e,t){return xt(e,Xr(t,2))},In.min=function(e){return e&&e.length?ri(e,Ga,Ai):void 0},In.minBy=function(e,t){return e&&e.length?ri(e,Xr(t,2),Ai):void 0},In.stubArray=sc,In.stubFalse=oc,In.stubObject=function(){return{}},In.stubString=function(){return""},In.stubTrue=function(){return!0},In.multiply=hc,In.nth=function(e,t){return e&&e.length?Bi(e,ra(t)):void 0},In.noConflict=function(){return Ge._===this&&(Ge._=Ce),this},In.noop=Ja,In.now=vo,In.pad=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;if(!t||i>=t)return e;var r=(t-i)/2;return Tr(en(r),n)+e+Tr(Qt(r),n)},In.padEnd=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?e+Tr(t-i,n):e},In.padStart=function(e,t,n){e=ca(e);var i=(t=ra(t))?Zt(e):0;return t&&i<t?Tr(t-i,n)+e:e},In.parseInt=function(e,t,n){return n||null==t?t=0:t&&(t=+t),un(ca(e).replace(W,""),t||0)},In.random=function(e,t,n){if(n&&"boolean"!=typeof n&&cs(e,t,n)&&(t=n=void 0),void 0===n&&("boolean"==typeof t?(n=t,t=void 0):"boolean"==typeof e&&(n=e,e=void 0)),void 0===e&&void 0===t?(e=0,t=1):(e=ia(e),void 0===t?(t=e,e=0):t=ia(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var r=dn();return cn(e+r*(t-e+He("1e-"+((r+"").length-1))),t)}return ji(e,t)},In.reduce=function(e,t,n){var i=No(e)?gt:At,r=arguments.length<3;return i(e,Xr(t,4),n,r,ti)},In.reduceRight=function(e,t,n){var i=No(e)?vt:At,r=arguments.length<3;return i(e,Xr(t,4),n,r,ni)},In.repeat=function(e,t,n){return t=(n?cs(e,t,n):void 0===t)?1:ra(t),Di(ca(e),t)},In.replace=function(){var e=arguments,t=ca(e[0]);return e.length<3?t:t.replace(e[1],e[2])},In.result=function(e,t,n){var i=-1,r=(t=cr(t,e)).length;for(r||(r=1,e=void 0);++i<r;){var s=null==e?void 0:e[ks(t[i])];void 0===s&&(i=r,s=n),e=Vo(s)?s.call(e):s}return e},In.round=fc,In.runInContext=e,In.sample=function(e){return(No(e)?Rn:Ri)(e)},In.size=function(e){if(null==e)return 0;if(qo(e))return Xo(e)?Zt(e):e.length;var t=is(e);return t==g||t==b?e.size:Li(e).length},In.snakeCase=ja,In.some=function(e,t,n){var i=No(e)?mt:Gi;return n&&cs(e,t,n)&&(t=void 0),i(e,Xr(t,3))},In.sortedIndex=function(e,t){return Wi(e,t)},In.sortedIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2))},In.sortedIndexOf=function(e,t){var n=null==e?0:e.length;if(n){var i=Wi(e,t);if(i<n&&Po(e[i],t))return i}return-1},In.sortedLastIndex=function(e,t){return Wi(e,t,!0)},In.sortedLastIndexBy=function(e,t,n){return Ki(e,t,Xr(n,2),!0)},In.sortedLastIndexOf=function(e,t){if(null==e?0:e.length){var n=Wi(e,t,!0)-1;if(Po(e[n],t))return n}return-1},In.startCase=Da,In.startsWith=function(e,t,n){return e=ca(e),n=null==n?0:Yn(ra(n),0,e.length),t=Ji(t),e.slice(n,n+t.length)==t},In.subtract=pc,In.sum=function(e){return e&&e.length?Ct(e,Ga):0},In.sumBy=function(e,t){return e&&e.length?Ct(e,Xr(t,2)):0},In.template=function(e,t,n){var i=In.templateSettings;n&&cs(e,t,n)&&(t=void 0),e=ca(e),t=da({},t,i,Vr);var r,s,o=da({},t.imports,i.imports,Vr),a=_a(o),c=Bt(o,a),l=0,u=t.interpolate||ue,d="__p += '",h=ge((t.escape||ue).source+"|"+u.source+"|"+(u===z?ne:ue).source+"|"+(t.evaluate||ue).source+"|$","g"),f="//# sourceURL="+(Se.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Fe+"]")+"\n";e.replace(h,(function(t,n,i,o,a,c){return i||(i=o),d+=e.slice(l,c).replace(de,Ft),n&&(r=!0,d+="' +\n__e("+n+") +\n'"),a&&(s=!0,d+="';\n"+a+";\n__p += '"),i&&(d+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),l=c+t.length,t})),d+="';\n";var p=Se.call(t,"variable")&&t.variable;if(p){if(ee.test(p))throw new K("Invalid `variable` option passed into `_.template`")}else d="with (obj) {\n"+d+"\n}\n";d=(s?d.replace(T,""):d).replace(N,"$1").replace(M,"$1;"),d="function("+(p||"obj")+") {\n"+(p?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(r?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+d+"return __p\n}";var g=za((function(){return he(a,f+"return "+d).apply(void 0,c)}));if(g.source=d,Ro(g))throw g;return g},In.times=function(e,t){if((e=ra(e))<1||e>9007199254740991)return[];var n=4294967295,i=cn(e,4294967295);e-=4294967295;for(var r=It(i,t=Xr(t));++n<e;)t(n);return r},In.toFinite=ia,In.toInteger=ra,In.toLength=sa,In.toLower=function(e){return ca(e).toLowerCase()},In.toNumber=oa,In.toSafeInteger=function(e){return e?Yn(ra(e),-9007199254740991,9007199254740991):0===e?e:0},In.toString=ca,In.toUpper=function(e){return ca(e).toUpperCase()},In.trim=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return Pt(e);if(!e||!(t=Ji(t)))return e;var i=Gt(e),r=Gt(t);return ur(i,Nt(i,r),Mt(i,r)+1).join("")},In.trimEnd=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.slice(0,Wt(e)+1);if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,0,Mt(i,Gt(t))+1).join("")},In.trimStart=function(e,t,n){if((e=ca(e))&&(n||void 0===t))return e.replace(W,"");if(!e||!(t=Ji(t)))return e;var i=Gt(e);return ur(i,Nt(i,Gt(t))).join("")},In.truncate=function(e,t){var n=30,i="...";if(Uo(t)){var r="separator"in t?t.separator:r;n="length"in t?ra(t.length):n,i="omission"in t?Ji(t.omission):i}var s=(e=ca(e)).length;if(Rt(e)){var o=Gt(e);s=o.length}if(n>=s)return e;var a=n-Zt(i);if(a<1)return i;var c=o?ur(o,0,a).join(""):e.slice(0,a);if(void 0===r)return c+i;if(o&&(a+=c.length-a),Ko(r)){if(e.slice(a).search(r)){var l,u=c;for(r.global||(r=ge(r.source,ca(ie.exec(r))+"g")),r.lastIndex=0;l=r.exec(u);)var d=l.index;c=c.slice(0,void 0===d?a:d)}}else if(e.indexOf(Ji(r),a)!=a){var h=c.lastIndexOf(r);h>-1&&(c=c.slice(0,h))}return c+i},In.unescape=function(e){return(e=ca(e))&&D.test(e)?e.replace(q,Kt):e},In.uniqueId=function(e){var t=++xe;return ca(e)+t},In.upperCase=Fa,In.upperFirst=Ra,In.each=ao,In.eachRight=co,In.first=Ms,Xa(In,(dc={},li(In,(function(e,t){Se.call(In.prototype,t)||(dc[t]=e)})),dc),{chain:!1}),In.VERSION="4.17.21",at(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){In[e].placeholder=In})),at(["drop","take"],(function(e,t){Tn.prototype[e]=function(n){n=void 0===n?1:an(ra(n),0);var i=this.__filtered__&&!t?new Tn(this):this.clone();return i.__filtered__?i.__takeCount__=cn(n,i.__takeCount__):i.__views__.push({size:cn(n,4294967295),type:e+(i.__dir__<0?"Right":"")}),i},Tn.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),at(["filter","map","takeWhile"],(function(e,t){var n=t+1,i=1==n||3==n;Tn.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:Xr(e,3),type:n}),t.__filtered__=t.__filtered__||i,t}})),at(["head","last"],(function(e,t){var n="take"+(t?"Right":"");Tn.prototype[e]=function(){return this[n](1).value()[0]}})),at(["initial","tail"],(function(e,t){var n="drop"+(t?"":"Right");Tn.prototype[e]=function(){return this.__filtered__?new Tn(this):this[n](1)}})),Tn.prototype.compact=function(){return this.filter(Ga)},Tn.prototype.find=function(e){return this.filter(e).head()},Tn.prototype.findLast=function(e){return this.reverse().find(e)},Tn.prototype.invokeMap=Fi((function(e,t){return"function"==typeof e?new Tn(this):this.map((function(n){return bi(n,e,t)}))})),Tn.prototype.reject=function(e){return this.filter(Lo(Xr(e)))},Tn.prototype.slice=function(e,t){e=ra(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Tn(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),void 0!==t&&(n=(t=ra(t))<0?n.dropRight(-t):n.take(t-e)),n)},Tn.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Tn.prototype.toArray=function(){return this.take(4294967295)},li(Tn.prototype,(function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),r=In[i?"take"+("last"==t?"Right":""):t],s=i||/^find/.test(t);r&&(In.prototype[t]=function(){var t=this.__wrapped__,o=i?[1]:arguments,a=t instanceof Tn,c=o[0],l=a||No(t),u=function(e){var t=r.apply(In,pt([e],o));return i&&d?t[0]:t};l&&n&&"function"==typeof c&&1!=c.length&&(a=l=!1);var d=this.__chain__,h=!!this.__actions__.length,f=s&&!d,p=a&&!h;if(!s&&l){t=p?t:new Tn(this);var g=e.apply(t,o);return g.__actions__.push({func:no,args:[u],thisArg:void 0}),new Bn(g,d)}return f&&p?e.apply(this,o):(g=this.thru(u),f?i?g.value()[0]:g.value():g)})})),at(["pop","push","shift","sort","splice","unshift"],(function(e){var t=ye[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);In.prototype[e]=function(){var e=arguments;if(i&&!this.__chain__){var r=this.value();return t.apply(No(r)?r:[],e)}return this[n]((function(n){return t.apply(No(n)?n:[],e)}))}})),li(Tn.prototype,(function(e,t){var n=In[t];if(n){var i=n.name+"";Se.call(wn,i)||(wn[i]=[]),wn[i].push({name:t,func:n})}})),wn[Ir(void 0,2).name]=[{name:"wrapper",func:void 0}],Tn.prototype.clone=function(){var e=new Tn(this.__wrapped__);return e.__actions__=yr(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=yr(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=yr(this.__views__),e},Tn.prototype.reverse=function(){if(this.__filtered__){var e=new Tn(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},Tn.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,n=No(e),i=t<0,r=n?e.length:0,s=function(e,t,n){var i=-1,r=n.length;for(;++i<r;){var s=n[i],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=cn(t,e+o);break;case"takeRight":e=an(e,t-o)}}return{start:e,end:t}}(0,r,this.__views__),o=s.start,a=s.end,c=a-o,l=i?a:o-1,u=this.__iteratees__,d=u.length,h=0,f=cn(c,this.__takeCount__);if(!n||!i&&r==c&&f==c)return ir(e,this.__actions__);var p=[];e:for(;c--&&h<f;){for(var g=-1,v=e[l+=t];++g<d;){var m=u[g],y=m.iteratee,b=m.type,w=y(v);if(2==b)v=w;else if(!w){if(1==b)continue e;break e}}p[h++]=v}return p},In.prototype.at=io,In.prototype.chain=function(){return to(this)},In.prototype.commit=function(){return new Bn(this.value(),this.__chain__)},In.prototype.next=function(){void 0===this.__values__&&(this.__values__=na(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?void 0:this.__values__[this.__index__++]}},In.prototype.plant=function(e){for(var t,n=this;n instanceof On;){var i=Cs(n);i.__index__=0,i.__values__=void 0,t?r.__wrapped__=i:t=i;var r=i;n=n.__wrapped__}return r.__wrapped__=e,t},In.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof Tn){var t=e;return this.__actions__.length&&(t=new Tn(this)),(t=t.reverse()).__actions__.push({func:no,args:[Hs],thisArg:void 0}),new Bn(t,this.__chain__)}return this.thru(Hs)},In.prototype.toJSON=In.prototype.valueOf=In.prototype.value=function(){return ir(this.__wrapped__,this.__actions__)},In.prototype.first=In.prototype.head,Xe&&(In.prototype[Xe]=function(){return this}),In}();Ge._=Yt,void 0===(r=function(){return Yt}.call(t,n,t,i))||(i.exports=r)}).call(this)}).call(this,n(9),n(48)(e))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uploadAreaHTML=void 0,t.uploadAreaHTML='<div id="document-upload-container">\n\n    <div id="initial_upload_container">\n      <div id="initial_upload_area">\n        <div id="initial_upload_message">Upload Files</div>\n      </div>\n    </div>\n    \n    <div id="uploading_container">\n      <div class="file_container" id="unpaired_container">\n\n        <div class="file-container-title">Unpaired Documents</div>\n\n        <div id="files_container">\n\n          <div id="mei_container">\n            <div class="file_heading">MEI</div>\n            <div class="file_list" id="mei_list"></div>\n          </div>\n\n          <div id="image_container">\n            <div class="file_heading">Images</div>\n            <div class="file_list" id="image_list"></div>\n          </div>\n\n        </div>\n\n        <div id="generate-pair-button-container">\n          <div class="action_button" id="make_pair">Make Pair</div>\n        </div>\n      </div>\n\n      <div class="file_container" id="paired_container">\n\n        <div class="file-container-title">Paired Folios</div>\n        \n        <div class="tile_list" id="paired_list"></div>\n\n        <div id="upload_button_container">\n          <div class="action_button" id="upload_button">\n            Upload\n            <div id="uploading_spinner">↻</div>\n          </div>\n        </div>\n\n      </div>\n\n      \x3c!--\n      <div class="file_container" id="manuscripts_container">\n        <h2 class="file_heading">Manuscripts</h2>\n        <div class="tile_list" id="manuscript_list"></div>\n      </div>\n      --\x3e\n\n    </div>\n  </div>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.groupingNotRecognized=void 0,t.groupingNotRecognized=function(){window.confirm("Neon does not recognize this neume grouping. Would you like to create a compound neume?")||document.getElementById("undo").click()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitStaffHandler=void 0;const i=n(4),r=n(3),s=n(18),o=n(12);t.SplitStaffHandler=class{constructor(e,t){this.handler=(e=>{const t=this.staff.id,n=(0,o.getSVGRelCoords)(e.clientX,e.clientY),a={action:"split",param:{elementId:t,x:n.x}};this.neonView.edit(a,this.neonView.view.getCurrentPageURI()).then(async e=>{e&&(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success"));const n=new s.default(this.neonView,".staff");this.splitDisable(),(0,r.selectAll)([document.querySelector("#"+t)],this.neonView,n);const o=document.getElementById("moreEdit");o&&(o.innerHTML="",o.parentElement.classList.add("hidden"))})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.staff=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click Where to Split")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SplitNeumeHandler=void 0;const i=n(4);t.SplitNeumeHandler=class{constructor(e,t){this.handler=(e=>{const t={action:"splitNeume",param:{elementId:this.neume.id,ncId:e.target.parentElement.id}};this.neonView.edit(t,this.neonView.view.getCurrentPageURI()).then(async e=>{e?(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action successful","success")):(await this.neonView.updateForCurrentPage(),i.queueNotification("Split action failed","error")),this.splitDisable()})}).bind(this),this.keydownListener=(e=>{"Escape"===e.key?this.splitDisable():"Shift"===e.key&&document.body.removeEventListener("click",this.handler,{capture:!0})}).bind(this),this.clickawayHandler=(e=>{null===e.target.closest(".active-page")&&(this.splitDisable(),document.body.removeEventListener("click",this.handler,{capture:!0}))}).bind(this),this.resetHandler=(e=>{"Shift"===e.key&&document.body.addEventListener("click",this.handler,{capture:!0})}).bind(this),this.neonView=e,this.neume=t}startSplit(){this.splitDisable(),document.body.addEventListener("click",this.handler,{capture:!0}),document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetHandler),document.body.addEventListener("click",this.clickawayHandler),i.queueNotification("Click The Beginning of The Second Neume")}splitDisable(){document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetHandler),document.body.removeEventListener("click",this.clickawayHandler),document.body.removeEventListener("click",this.handler,{capture:!0})}}},function(e,t){},function(e,t,n){"use strict";(function(e){t.test=function(){return"function"==typeof e.queueMicrotask},t.install=function(t){return function(){e.queueMicrotask(t)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){var n=e.MutationObserver||e.WebKitMutationObserver;t.test=function(){return n},t.install=function(t){var i=0,r=new n(t),s=e.document.createTextNode("");return r.observe(s,{characterData:!0}),function(){s.data=i=++i%2}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return!e.setImmediate&&void 0!==e.MessageChannel},t.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,n(9))},function(e,t,n){"use strict";(function(e){t.test=function(){return"document"in e&&"onreadystatechange"in e.document.createElement("script")},t.install=function(t){return function(){var n=e.document.createElement("script");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,n(9))},function(e,t,n){"use strict";t.test=function(){return!0},t.install=function(e){return function(){setTimeout(e,0)}}},function(e,t,n){"use strict";var i=n(71),r=n(72);function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){r.isString(e)&&(e=b(e));return e instanceof s?e.format():s.prototype.format.call(e)},t.Url=s;var o=/^([a-z0-9.+-]+:)/i,a=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(l),d=["%","/","?",";","#"].concat(u),h=["/","?","#"],f=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,g={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},m={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(73);function b(e,t,n){if(e&&r.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,n),i}s.prototype.parse=function(e,t,n){if(!r.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s=e.indexOf("?"),a=-1!==s&&s<e.indexOf("#")?"?":"#",l=e.split(a);l[0]=l[0].replace(/\\/g,"/");var b=e=l.join(a);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var _=o.exec(b);if(_){var E=(_=_[0]).toLowerCase();this.protocol=E,b=b.substr(_.length)}if(n||_||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var S="//"===b.substr(0,2);!S||_&&v[_]||(b=b.substr(2),this.slashes=!0)}if(!v[_]&&(S||_&&!m[_])){for(var x,L,k=-1,A=0;A<h.length;A++){-1!==(C=b.indexOf(h[A]))&&(-1===k||C<k)&&(k=C)}-1!==(L=-1===k?b.lastIndexOf("@"):b.lastIndexOf("@",k))&&(x=b.slice(0,L),b=b.slice(L+1),this.auth=decodeURIComponent(x)),k=-1;for(A=0;A<d.length;A++){var C;-1!==(C=b.indexOf(d[A]))&&(-1===k||C<k)&&(k=C)}-1===k&&(k=b.length),this.host=b.slice(0,k),b=b.slice(k),this.parseHost(),this.hostname=this.hostname||"";var I="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!I)for(var P=this.hostname.split(/\./),O=(A=0,P.length);A<O;A++){var B=P[A];if(B&&!B.match(f)){for(var T="",N=0,M=B.length;N<M;N++)B.charCodeAt(N)>127?T+="x":T+=B[N];if(!T.match(f)){var q=P.slice(0,A),j=P.slice(A+1),D=B.match(p);D&&(q.push(D[1]),j.unshift(D[2])),j.length&&(b="/"+j.join(".")+b),this.hostname=q.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),I||(this.hostname=i.toASCII(this.hostname));var F=this.port?":"+this.port:"",R=this.hostname||"";this.host=R+F,this.href+=this.host,I&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!g[E])for(A=0,O=u.length;A<O;A++){var V=u[A];if(-1!==b.indexOf(V)){var z=encodeURIComponent(V);z===V&&(z=escape(V)),b=b.split(V).join(z)}}var H=b.indexOf("#");-1!==H&&(this.hash=b.substr(H),b=b.slice(0,H));var U=b.indexOf("?");if(-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),m[E]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){F=this.pathname||"";var $=this.search||"";this.path=F+$}return this.href=this.format(),this},s.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",i=this.hash||"",s=!1,o="";this.host?s=e+this.host:this.hostname&&(s=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(s+=":"+this.port)),this.query&&r.isObject(this.query)&&Object.keys(this.query).length&&(o=y.stringify(this.query));var a=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||m[t])&&!1!==s?(s="//"+(s||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):s||(s=""),i&&"#"!==i.charAt(0)&&(i="#"+i),a&&"?"!==a.charAt(0)&&(a="?"+a),t+s+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(a=a.replace("#","%23"))+i},s.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},s.prototype.resolveObject=function(e){if(r.isString(e)){var t=new s;t.parse(e,!1,!0),e=t}for(var n=new s,i=Object.keys(this),o=0;o<i.length;o++){var a=i[o];n[a]=this[a]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),l=0;l<c.length;l++){var u=c[l];"protocol"!==u&&(n[u]=e[u])}return m[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!m[e.protocol]){for(var d=Object.keys(e),h=0;h<d.length;h++){var f=d[h];n[f]=e[f]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var g=n.pathname||"",y=n.search||"";n.path=g+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),_=w||b||n.host&&e.pathname,E=_,S=n.pathname&&n.pathname.split("/")||[],x=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!m[n.protocol]);if(x&&(n.hostname="",n.port=null,n.host&&(""===S[0]?S[0]=n.host:S.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),_=_&&(""===p[0]||""===S[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,S=p;else if(p.length)S||(S=[]),S.pop(),S=S.concat(p),n.search=e.search,n.query=e.query;else if(!r.isNullOrUndefined(e.search)){if(x)n.hostname=n.host=S.shift(),(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift());return n.search=e.search,n.query=e.query,r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n}if(!S.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var L=S.slice(-1)[0],k=(n.host||e.host||S.length>1)&&("."===L||".."===L)||""===L,A=0,C=S.length;C>=0;C--)"."===(L=S[C])?S.splice(C,1):".."===L?(S.splice(C,1),A++):A&&(S.splice(C,1),A--);if(!_&&!E)for(;A--;A)S.unshift("..");!_||""===S[0]||S[0]&&"/"===S[0].charAt(0)||S.unshift(""),k&&"/"!==S.join("/").substr(-1)&&S.push("");var I,P=""===S[0]||S[0]&&"/"===S[0].charAt(0);x&&(n.hostname=n.host=P?"":S.length?S.shift():"",(I=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=I.shift(),n.host=n.hostname=I.shift()));return(_=_||n.host&&S.length)&&!P&&S.unshift(""),S.length?n.pathname=S.join("/"):(n.pathname=null,n.path=null),r.isNull(n.pathname)&&r.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},s.prototype.parseHost=function(){var e=this.host,t=a.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},function(e,t,n){"use strict";var i=n(43),r=n(19);function s(e,t){this.id=e,this.ref=t}e.exports.SchemaScanResult=s,e.exports.scan=function(e,t){function n(e,t){if(t&&"object"==typeof t)if(t.$ref){var s=i.resolve(e,t.$ref);l[s]=l[s]?l[s]+1:0}else{var u=t.$id||t.id,d=u?i.resolve(e,u):e;if(d){if(d.indexOf("#")<0&&(d+="#"),c[d]){if(!r.deepCompareStrict(c[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return c[d]}c[d]=t,"#"==d[d.length-1]&&(c[d.substring(0,d.length-1)]=t)}o(d+"/items",Array.isArray(t.items)?t.items:[t.items]),o(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),a(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),a(d+"/definitions",t.definitions),a(d+"/patternProperties",t.patternProperties),a(d+"/dependencies",t.dependencies),o(d+"/disallow",t.disallow),o(d+"/allOf",t.allOf),o(d+"/anyOf",t.anyOf),o(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}}function o(e,t){if(Array.isArray(t))for(var i=0;i<t.length;i++)n(e+"/"+i,t[i])}function a(e,t){if(t&&"object"==typeof t)for(var i in t)n(e+"/"+i,t[i])}var c={},l={};return n(e,t),new s(c,l)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkOutOfBoundsGlyphs=t.convertSbToStaff=t.getSyllableText=t.convertStaffToSb=t.zip=void 0;const i=n(23),r=n(64),s=n(4);function o(e,t){for(const n of e.attributes)t.setAttribute(n.name,n.value)}function a(e){const t=e.getElementsByTagName("syl")[0].childNodes[0];let n;return n=t?t.nodeValue:"◊",n}t.zip=function(e,t){const n=[];for(let i=0;i<(e.length>t.length?t.length:e.length);i++)n.push([e[i],t[i]]);return n},t.convertStaffToSb=function(e){const t=new DOMParser,n=new XMLSerializer,i=t.parseFromString(e,"text/xml"),s=i.documentElement;for(const e of s.getElementsByTagName("section")){const t=i.createElementNS("http://www.music-encoding.org/ns/mei","staff"),n=i.createElementNS("http://www.music-encoding.org/ns/mei","layer");t.setAttribute("n","1"),n.setAttribute("n","1"),t.appendChild(n);const r=Array.from(e.getElementsByTagName("staff"));for(const e of r){const t=e.getElementsByTagName("layer")[0],r=i.createElementNS("http://www.music-encoding.org/ns/mei","sb");r.setAttribute("n",e.getAttribute("n")),r.setAttribute("facs",e.getAttribute("facs")),r.setAttribute("xml:id",e.getAttribute("xml:id"));let s=void 0;for(null!==n.lastElementChild&&"custos"===n.lastElementChild.tagName&&(s=n.removeChild(n.lastElementChild)),void 0!==s&&n.appendChild(s),n.appendChild(r);null!==t.firstElementChild;)n.appendChild(t.firstElementChild);e.remove()}e.appendChild(t)}return r.xml(n.serializeToString(i))},t.getSyllableText=a,t.convertSbToStaff=function(e){const t=(new DOMParser).parseFromString(e,"text/xml"),n=t.documentElement,c=Array.from(n.getElementsByTagName("neume"));for(const e of c)if(0===e.getElementsByTagName("nc").length){const t=e.getAttribute("xml:id");s.queueNotification("This file contains a neume without neume component!<br/>ID: "+t,"warning")}const l=Array.from(n.getElementsByTagName("syllable"));for(const e of l)if(0===e.getElementsByTagName("neume").length){const t=e.getAttribute("xml:id");s.queueNotification("This file contains a syllable without neume!<br/>ID: "+t,"warning")}for(const e of n.getElementsByTagName("section")){const n=Array.from(e.getElementsByTagName("staff"));for(const r of n){const n=r.getElementsByTagName("layer")[0],s=Array.from(n.getElementsByTagName("sb"));for(const e of s)if("layer"!==e.parentElement.tagName){const n=e.parentElement;let r=!1,s=!1;const o=Array.from(n.children),a=o.indexOf(e);for(const e of n.getElementsByTagName("neume")){const t=o.indexOf(e);t<a?r=!0:t>a&&(s=!0)}if(!r&&s)n.insertAdjacentElement("beforebegin",e);else if(r&&!s)n.insertAdjacentElement("afterend",e);else if(r&&s){const r=t.createElementNS("http://www.music-encoding.org/ns/mei","syllable");r.setAttribute("xml:id","m-"+(0,i.uuidv4)()),r.setAttribute("follows","#"+n.getAttribute("xml:id")),n.setAttribute("precedes","#"+r.getAttribute("xml:id"));const s=o.indexOf(e);for(const e of o){o.indexOf(e)>s&&r.appendChild(e)}n.insertAdjacentElement("afterend",e),e.insertAdjacentElement("afterend",r);for(const e of n.getElementsByTagName("custos"))n.insertAdjacentElement("afterend",e);for(const e of r.getElementsByTagName("clef"))r.insertAdjacentElement("beforebegin",e)}else console.warn("NONE BEHIND NONE AHEAD"),console.debug(n)}const a=Array.from(n.getElementsByTagName("sb"));for(let s=0;s<a.length;s++){const c=a[s],l=a.length>s+1?a[s+1]:void 0,u=t.createElementNS("http://www.music-encoding.org/ns/mei","staff");o(c,u);const d=t.createElementNS("http://www.music-encoding.org/ns/mei","layer");d.setAttribute("n","1"),d.setAttribute("xml:id","m-"+(0,i.uuidv4)()),u.appendChild(d);const h=Array.from(n.children),f=h.slice(h.indexOf(c)+1,h.indexOf(l));for(const e of f)d.appendChild(e);e.insertBefore(u,r)}r.remove()}}const u=Array.from(n.getElementsByTagName("syllable"));for(const e of n.querySelectorAll("syllable")){for(const t of e.querySelectorAll("clef"))e.insertAdjacentElement("beforebegin",t);for(const t of e.querySelectorAll("custos"))e.insertAdjacentElement("afterend",t);const t=u.indexOf(e);if(e.hasAttribute("precedes")&&e.hasAttribute("follows")){const t=e.getAttribute("xml:id");s.queueNotification("This file contains a syllable that has both @precedes and @follows!<br/>ID: "+t,"error")}else if(e.hasAttribute("precedes")){const n=e.getAttribute("precedes").replace("#","");let i;const r=u.find((e,t)=>e.getAttribute("xml:id")===n&&(i=t,!0));if(!r){const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`Missing the 2nd part of the toggle-linked syllable (${t})<br/>ID: ${n}`,"error");continue}if(!r.hasAttribute("follows")){const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`The 2nd part of the toggle-linked syllable (${t}) does not link to any syllable<br/>ID: ${n}`,"error");continue}if(r.getAttribute("follows")!="#"+e.getAttribute("xml:id")){const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`The 2nd part of the toggle-linked syllable (${t}) links to the wrong syllable<br/>ID: ${n}`,"error");continue}if(i!==t+1){const n=[a(e),...u.slice(t+1,i).map(e=>a(e))].join(" - "),r=e.getAttribute("xml:id");s.queueNotification(`Unexpected syllable(s) inside toggle-linked syllable: ${n}<br/>ID: ${r}`,"error")}}else if(e.hasAttribute("follows")){const t=e.getAttribute("follows").replace("#",""),n=u.find(e=>e.getAttribute("xml:id")===t);if(!n){const t=a(e),n=e.getAttribute("xml:id");s.queueNotification(`Missing the 1st part of the toggle-linked syllable (${t})<br/>ID: ${n}`,"error");continue}if(!n.hasAttribute("precedes")){const t=a(n),i=e.getAttribute("xml:id");s.queueNotification(`The 1st part of the toggle-linked syllable (${t}) does not link to any syllable<br/>ID: ${i}`,"error");continue}if(n.getAttribute("precedes")!="#"+e.getAttribute("xml:id")){const t=a(n),i=e.getAttribute("xml:id");s.queueNotification(`The 1st part of the toggle-linked syllable (${t}) links to the wrong syllable<br/>ID: ${i}`,"error")}}}const d=new XMLSerializer;return r.xml(d.serializeToString(t))},t.checkOutOfBoundsGlyphs=function(e){const t=(new DOMParser).parseFromString(e,"text/xml").documentElement,n=Array.from(t.querySelectorAll("zone")),i=t.querySelector("surface"),r=Number(i.getAttribute("lrx")),o=Number(i.getAttribute("lry"));n.some(e=>["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?r:o)}(e,t)))&&s.queueNotification("This folio contains glyph(s) placed out-of-bounds!","warning")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.blankPage=t.sendForValidation=t.init=void 0;const i=n(17),r=fetch("/Neon/Neon-gh/assets/mei-all.rng");let s,o,a;function c(e){const t=e.data;if(null===t){a.textContent="VALID",a.style.color="#4bc14b";for(const e of a.children)e.remove()}else{let e="";t.forEach(t=>{e+=t+"\n"}),a.textContent="",a.style.color="red";const n=document.createElement("div");n.textContent="INVALID",n.style.cursor="pointer",a.appendChild(n),n.addEventListener("click",l.bind(this,e))}}function l(e){this.modal.setModalWindowView(i.ModalWindowView.VALIDATION_STATUS,e),this.modal.openModalWindow()}t.init=async function(e){const t=document.getElementById("file-status");if(null!==t){const n=document.createElement("div");n.textContent="MEI Status:",n.id="validation_status_title";const i=document.createElement("span");i.id="validation_status",i.textContent="unknown",t.appendChild(n),t.appendChild(i),a=document.getElementById("validation_status"),s=new Worker("/Neon/Neon-gh/workers/Worker.js"),s.onmessage=c.bind(e)}},t.sendForValidation=async function(e){if(void 0!==a){if(void 0===o){const e=await r;o=await e.text()}a.textContent="checking...",a.style.color="gray",s.postMessage({mei:e,schema:o})}},t.blankPage=function(){for(const e of a.children)e.remove();a.textContent="No MEI",a.style.color="color:gray"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.listenUnsavedChanges=t.setSavedStatus=void 0;let i=!0;t.setSavedStatus=function(e=!1){i=e,function(){const e=document.querySelector("#file-saved"),t=i?"/Neon/Neon-gh/assets/img/saved-icon.svg":"/Neon/Neon-gh/assets/img/unsaved-icon.svg";e.setAttribute("src",t)}()},t.listenUnsavedChanges=function(){window.onbeforeunload=e=>{if(!i)return e.preventDefault(),"You have unsaved changes!"}}},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){(function(i){t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let i=0,r=0;t[0].replace(/%[a-zA-Z%]/g,e=>{"%%"!==e&&(i++,"%c"===e&&(r=i))}),t.splice(r,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}!e&&void 0!==i&&"env"in i&&(e=i.env.DEBUG);return e},t.useColors=function(){if("undefined"!=typeof window&&window.process&&("renderer"===window.process.type||window.process.__nwjs))return!0;if("undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))return!1;return"undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(82)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}}).call(this,n(30))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initSelectionButtons=t.initInsertEditControls=t.bindInsertTabs=void 0;const i=n(7),r=n(15),s=n(3),o=n(6);function a(e,t){document.getElementById(e).classList.add("is-active"),document.getElementById(e).classList.contains("insertel")&&t.insertActive(e)}function c(e){document.querySelectorAll(e).forEach(e=>{e.classList.remove("is-active"),e.classList.remove("unfocused")})}t.bindInsertTabs=function(e){const t=Array.from(document.getElementsByClassName("insertTab")).map(e=>e.id);document.body.addEventListener("keydown",e=>{if(e.code.match(/^Digit\d$/)&&e.shiftKey)try{const t=Number(e.code[e.code.length-1])-1,n=document.getElementsByClassName("insertel");n[t].click()}catch(e){console.debug(e)}}),t.forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertTab"),a(t,e),document.getElementById("insert_data").innerHTML=i.insertTabHtml[t],function(e){const t=Array.from(document.getElementsByClassName("insertel"));t.map(e=>e.id).forEach(t=>{document.getElementById(t).addEventListener("click",()=>{c(".insertel"),a(t,e)})})}(e),c(".insertel");a(document.getElementsByClassName("insertel")[0].id,e)})})},t.initInsertEditControls=function(){const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu"),n=t.querySelector(".panel-heading-title"),i=document.getElementById("insertContents"),r=t.querySelector("svg > use"),s=document.getElementById("edit_controls"),o=document.getElementById("editMenu"),a=o.querySelector(".panel-heading-title"),c=document.getElementById("editContents"),l=o.querySelector("svg > use");e.addEventListener("click",()=>{a.classList.remove("focused"),n.classList.add("focused"),document.querySelector(".insertel.is-active").click(),s.querySelector(".side-panel-btn.sel-by.is-active").classList.add("unfocused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.remove("unfocused")}),s.addEventListener("click",()=>{n.classList.remove("focused"),a.classList.add("focused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),s.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused")}),t.addEventListener("click",e=>{e.stopPropagation(),i.classList.contains("closed")?(i.classList.remove("closed"),i.style.padding="0.5em 0.75em",setTimeout(()=>{i.style.overflow="visible"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(i.classList.add("closed"),i.style.overflow="hidden",setTimeout(()=>{i.style.padding="0px"},200),r.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))}),o.addEventListener("click",e=>{e.stopPropagation(),c.classList.contains("closed")?(c.classList.remove("closed"),c.style.padding="0.5em 0.75em",setTimeout(()=>{c.style.overflow="visible"},200),l.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-down")):(c.classList.add("closed"),c.style.overflow="hidden",setTimeout(()=>{c.style.padding="0px"},200),l.setAttribute("xlink:href","/Neon/Neon-gh/assets/img/icons.svg#dropdown-side"))})},t.initSelectionButtons=function(){const e=document.getElementById("selBySyllable"),t=document.getElementById("selByNeume"),n=document.getElementById("selByNc"),i=document.getElementById("selByStaff"),a=document.getElementById("selByLayerElement");e.addEventListener("click",(function(){if(!e.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selBySyllable"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),e.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("syllable")}catch(e){}}})),t.addEventListener("click",(function(){if(!t.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNeume"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),t.classList.add("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),n.addEventListener("click",(function(){if(!n.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByNc"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),n.classList.add("is-active"),t.classList.remove("is-active"),e.classList.remove("is-active"),i.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("neume")}catch(e){}}})),i.addEventListener("click",(function(){if(!i.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByStaff"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),i.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),e.classList.remove("is-active"),a.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("staff")}catch(e){}}})),a.addEventListener("click",(function(){if(!a.classList.contains("is-active")){(0,o.setSettings)({selectionMode:"selByLayerElement"}),(0,s.unselect)(),document.getElementById("moreEdit").innerHTML="",document.getElementById("extraEdit").innerHTML="",document.getElementById("moreEdit").parentElement.classList.add("hidden"),document.getElementById("extraEdit").parentElement.classList.add("hidden"),a.classList.add("is-active"),t.classList.remove("is-active"),n.classList.remove("is-active"),i.classList.remove("is-active"),e.classList.remove("is-active");try{document.getElementById("selByBBox").classList.remove("is-active")}catch(e){}try{"highlight-selection"===document.querySelector(".highlight-selected").id&&(0,r.setGroupingHighlight)("layerElement")}catch(e){}}})),document.body.addEventListener("keydown",r=>{"1"===r.key&&e.click(),"2"===r.key&&t.click(),"3"===r.key&&n.click(),"4"===r.key&&i.click(),"5"===r.key&&a.click()})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(8),r=n(12),s=n(4);t.default=class{constructor(e,t){this.firstClick=!0,this.insertDisabled=function(){this.type="",this.removeInsertClickHandlers(),document.body.removeEventListener("keydown",this.keydownListener),document.body.removeEventListener("keyup",this.resetInsertHandler),document.body.removeEventListener("click",this.clickawayHandler),this.firstClick=!0;try{document.getElementById("returnToEditMode").remove()}catch(e){}const e=document.getElementById("insert_controls"),t=document.getElementById("insertMenu").querySelector(".panel-heading-title"),n=document.getElementById("edit_controls"),i=document.getElementById("editMenu").querySelector(".panel-heading-title");t.classList.remove("focused"),i.classList.add("focused"),e.querySelector(".side-panel-btn.insertel.is-active").classList.add("unfocused"),n.querySelector(".side-panel-btn.sel-by.is-active").classList.remove("unfocused")}.bind(this),this.clickawayHandler=function(e){const t=e.target;null===t.closest(".active-page")&&null===t.closest("#insert_controls")&&null===t.closest("#svg_group")&&(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler))}.bind(this),this.resetInsertHandler=function(e){"Shift"===e.key&&document.querySelector(this.selector).addEventListener("click","staff"===this.type?this.staffHandler:this.handler)}.bind(this),this.keydownListener=function(e){"Escape"===e.key?(this.insertDisabled(),document.body.removeEventListener("keydown",this.staffHandler),document.body.removeEventListener("keydown",this.handler)):"Shift"===e.key&&this.removeInsertClickHandlers()}.bind(this),this.handler=function(e){e.stopPropagation();const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("[FAIL] Glyph was placed out of bounds! Insertion failed.","error");const n={action:"insert",param:{elementType:this.type,staffId:"auto",ulx:t.x,uly:t.y}};null!==this.attributes&&(n.param.attributes=this.attributes,"F"===this.attributes.shape&&(n.param.ulx-=50)),this.neonView.edit(n,this.neonView.view.getCurrentPageURI()).then(()=>this.neonView.updateForCurrentPage()).then(()=>{document.querySelector(this.selector).addEventListener("click",this.handler)})}.bind(this),this.staffHandler=function(e){const t=(0,r.getSVGRelCoords)(e.clientX,e.clientY);if((0,r.isOutOfSVGBounds)(t.x,t.y))return(0,s.queueNotification)("Staff cannot be placed out of bounds!","error");const n=document.querySelector(".active-page > .definition-scale");if(this.firstClick)this.coord=t,i.select(n).append("circle").attr("cx",t.x).attr("cy",t.y).attr("r",10).attr("id","staff-circle").attr("fill","green"),this.firstClick=!1;else{let e,n;t.x<this.coord.x||t.y<this.coord.y?(e=t,n=this.coord):(e=this.coord,n=t),document.getElementById("staff-circle").remove();const i={action:"insert",param:{elementType:"staff",staffId:"auto",ulx:e.x,uly:e.y,lrx:n.x,lry:n.y}};this.neonView.edit(i,this.neonView.view.getCurrentPageURI()).then(()=>{this.neonView.updateForCurrentPage(),this.firstClick=!0})}}.bind(this),this.removeInsertClickHandlers=function(){try{document.querySelector(this.selector).removeEventListener("click",this.staffHandler),document.querySelector(this.selector).removeEventListener("click",this.handler)}catch(e){}}.bind(this),this.neonView=e,this.selector=t}insertActive(e){const t=this.isInsertMode();switch(e){case"punctum":this.type="nc",this.attributes=null;break;case"diamond":this.type="nc",this.attributes={tilt:"se"};break;case"virga":this.type="nc",this.attributes={tilt:"s"};break;case"liquescentA":this.type="nc",this.attributes={curve:"a"};break;case"liquescentC":this.type="nc",this.attributes={curve:"c"};break;case"virgaReversed":this.type="nc",this.attributes={tilt:"n"};break;case"pes":case"clivis":case"scandicus":case"climacus":case"torculus":case"porrectus":case"pressus":const t=this.neonView.info.getContourByValue(e.charAt(0).toUpperCase()+e.slice(1));this.type="grouping",this.attributes={contour:t};break;case"cClef":case"fClef":this.type="clef",this.attributes={shape:e.charAt(0).toUpperCase()};break;case"custos":this.type="custos",this.attributes=null;break;case"divLineMaxima":this.type="divLine",this.attributes={form:"maxima"};break;case"staff":this.type="staff",this.attributes=null;break;case"flat":this.type="accid",this.attributes={accid:"f"};break;case"natural":this.type="accid",this.attributes={accid:"n"};break;default:return this.type="",this.attributes=null,void console.error("Invalid button for insertion: "+e+".")}this.removeInsertClickHandlers();try{"staff"===this.type?document.querySelector(this.selector).addEventListener("click",this.staffHandler):document.querySelector(this.selector).addEventListener("click",this.handler)}catch(e){}if(document.body.addEventListener("keydown",this.keydownListener),document.body.addEventListener("keyup",this.resetInsertHandler),!t){const e=document.createElement("button");e.id="returnToEditMode",e.classList.add("side-panel-btn"),e.innerHTML="Return to Edit Mode",document.getElementById("redo").parentNode.appendChild(e),e.addEventListener("click",this.insertDisabled)}document.getElementById("editContents").addEventListener("click",this.clickawayHandler)}isInsertMode(){return""!==this.type}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.undoRedoPanel=t.navbarFinalize=t.navbarDropdownMEIActionsMenu=t.navbarDropdownFileMenu=void 0,t.navbarDropdownFileMenu=document.createElement("div"),t.navbarDropdownFileMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const i=document.createElement("div");i.classList.add("navbar-btn"),i.innerHTML="<div>File</div>";const r=document.createElement("div");r.classList.add("navbar-dropdown"),r.id="navbar-dropdown-options";[["save","Save"],["export","Save and Export to File"],["getmei","Download MEI"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],r.appendChild(t)}),t.navbarDropdownFileMenu.appendChild(i),t.navbarDropdownFileMenu.appendChild(r),t.navbarDropdownMEIActionsMenu=document.createElement("div"),t.navbarDropdownMEIActionsMenu.classList.add("navbar-item","has-dropdown","is-hoverable");const s=document.createElement("div");s.classList.add("navbar-btn"),s.innerHTML="<div>MEI Actions</div>";const o=document.createElement("div");o.classList.add("navbar-dropdown"),o.id="navbar-dropdown-options";[["remove-empty-syls","Remove Empty Syllables"],["remove-empty-neumes","Remove Empty Neumes"],["revert","Revert"]].forEach(e=>{const t=document.createElement("div");t.id=e[0],t.classList.add("navbar-dropdown-item"),t.textContent=e[1],o.appendChild(t)}),t.navbarDropdownMEIActionsMenu.appendChild(s),t.navbarDropdownMEIActionsMenu.appendChild(o),t.navbarFinalize='<a id="finalize" class="navbar-item"> Finalize MEI </a>',t.undoRedoPanel='<button class="side-panel-btn" id="undo">Undo</button>\n  <button class="side-panel-btn" id="redo">Redo</button>'},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initUndoRedoPanel=t.initNavbar=void 0;const i=n(4),r=n(45);t.initNavbar=function(e){const t=document.querySelectorAll(".navbar-item.has-dropdown.is-hoverable");Array.from(t).forEach(e=>{e.addEventListener("mouseover",()=>{})}),document.getElementById("save").addEventListener("click",()=>{e.save().then(()=>{i.queueNotification("Saved","success")})}),document.body.addEventListener("keydown",t=>{"s"===t.key&&e.save().then(()=>{i.queueNotification("Saved","success")})}),document.getElementById("export").addEventListener("click",()=>{e.export().then(t=>{const n=document.createElement("a");n.href=t,n.download=e.name+".jsonld",document.body.appendChild(n),n.click(),n.remove(),i.queueNotification("Saved","success")})}),document.getElementById("getmei").addEventListener("click",()=>{const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(t=>{const n="data:application/mei+xml;base64,"+window.btoa((0,r.convertStaffToSb)(t));document.getElementById("getmei").setAttribute("href",n),document.getElementById("getmei").setAttribute("download",e.view.getPageName()+".mei")})}),document.getElementById("remove-empty-syls").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("syllable"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("neume").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Syllables","success")):i.queueNotification("Failed to remove empty Syllables","error")})}else i.queueNotification("No empty syllables found","warning")})})),document.getElementById("remove-empty-neumes").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=Array.from(r.getElementsByTagName("neume"));let o=!1;const a=[];for(const e of s)if(0===e.getElementsByTagName("nc").length){const t={action:"remove",param:{elementId:e.getAttribute("xml:id")}};a.push(t),o=!0}if(o){const n={action:"chain",param:a};e.edit(n,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Removed empty Neumes","success")):i.queueNotification("Failed to remove empty Neumes","error")})}else i.queueNotification("No empty Neumes found","warning")})})),document.getElementById("remove-out-of-bounds-glyphs").addEventListener("click",(function(){const t=e.view.getCurrentPageURI();e.getPageMEI(t).then(n=>{const r=(new DOMParser).parseFromString(n,"text/xml").documentElement,s=r.querySelector("surface"),o=Number(s.getAttribute("lrx")),a=Number(s.getAttribute("lry"));const c=Array.from(r.querySelectorAll("zone")).filter(e=>["ulx","uly","lrx","lry"].some(t=>function(e,t){const n=Number(e.getAttribute(t));return n<0||n>("lrx"==t||"ulx"==t?o:a)}(e,t))),l=new Map(c.map(e=>[e.getAttribute("xml:id"),e])),u=Array.from(r.querySelectorAll("nc, divLine, clef, accid")).filter(e=>{if(e.hasAttribute("facs")){const t=e.getAttribute("facs").slice(1);return l.has(t)}return!1});if(0===u.length)return i.queueNotification("There are no out-of-bound glyphs to remove.","warning");const d={action:"chain",param:u.map(e=>({action:"remove",param:{elementId:e.getAttribute("xml:id")}}))};e.edit(d,t).then(t=>{t?(e.updateForCurrentPage(),i.queueNotification("Successfully removed out-of-bounds syllables.","success")):i.queueNotification("Failed to remove out-of-bound syllables.","error")})})})),document.getElementById("revert").addEventListener("click",(function(){window.confirm("Reverting will cause all changes to be lost. Press OK to continue.")&&e.deleteDb().then(()=>{window.location.reload()})}))},t.initUndoRedoPanel=function(e){function t(){e.undo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to undo."),console.warn("Failed to undo action"))})}function n(){e.redo().then(t=>{t?e.updateForCurrentPage():(i.queueNotification("There is nothing left to redo."),console.warn("Failed to redo action"))})}document.getElementById("undo").addEventListener("click",t),document.body.addEventListener("keydown",e=>{"z"===e.key&&(e.ctrlKey||e.metaKey)&&t()}),document.getElementById("redo").addEventListener("click",n),document.body.addEventListener("keydown",e=>{("Z"===e.key||"z"===e.key&&e.shiftKey)&&(e.ctrlKey||e.metaKey)&&n()})}},,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(62),r=n(78),s=n(79),o=n(84),a=n(86),c=n(87),l=n(88),u=n(89),d=n(28),h=n(29),f=g("manifest"),p=g("storage");if(f){const e=`./samples/manifests/${f}.jsonld`;window.fetch(e).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(async e=>{let t;try{t=JSON.parse(e)}catch(t){return console.error(t),void console.debug(e)}let n;n=(await new Promise((e,n)=>{window.fetch(t.image).then(t=>{e(t.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:t,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(n).start()})}else{new h.default("Neon-User-Storage").getAttachment(p,"manifest").then(e=>new window.Response(e).json()).then(async e=>{let t;t=(await new Promise((t,n)=>{window.fetch(e.image).then(e=>{t(e.headers.get("Content-Type"))}).catch(e=>{n(e)})})).match(/image\/*/)?{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:o.default,NeumeEdit:c.default}:{manifest:e,Display:r.default,Info:l.default,TextView:u.default,TextEdit:d.default,View:s.default,NeumeEdit:a.default};new i.default(t).start()})}function g(e){let t;return window.location.search.substr(1).split("&").forEach(n=>{const i=n.split("=");i[0]===e&&(t=decodeURIComponent(i[1]))}),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(63),r=n(46),s=n(66),o=n(77),a=n(17),c=n(27),l=n(47),u=n(6);t.default=class{constructor(e){(0,s.parseManifest)(e.manifest)||console.error("Unable to parse the manifest"),this.params=e,this.manifest=e.manifest}setupEdit(e){void 0!==e.NeumeEdit&&(this.NeumeEdit=new e.NeumeEdit(this)),void 0!==e.TextView&&(this.textView=new e.TextView(this),void 0!==e.TextEdit&&(this.TextEdit=new e.TextEdit(this)))}start(){(0,o.default)(this).then(()=>(this.localSettings=new u.default(this.manifest["@id"]),this.view=new this.params.View(this,this.params.Display,this.manifest.image),this.name=this.manifest.title,this.core=new i.default(this.manifest),this.info=new this.params.Info(this),this.modal=new a.ModalWindow(this),r.init(this),(0,c.initErrorLog)(),(0,l.listenUnsavedChanges)(),this.setupEdit(this.params),this.core.initDb())).then(()=>this.updateForCurrentPage(!0)).then(()=>{this.view.onSVGLoad()})}updateForCurrentPage(e=!1){const t=this.view.getCurrentPage();return this.view.changePage(t,e)}redo(){return(0,l.setSavedStatus)(!1),this.core.redo(this.view.getCurrentPageURI())}undo(){return(0,l.setSavedStatus)(!1),this.core.undo(this.view.getCurrentPageURI())}getUserMode(){return void 0!==this.NeumeEdit?this.NeumeEdit.getUserMode():void 0!==this.TextEdit?"edit":"viewer"}edit(e,t){return this.core.edit(e,t)}getElementAttr(e,t){return this.core.getElementAttr(e,t)}export(){return new Promise((e,t)=>{this.core.updateDatabase().then(()=>{this.manifest.mei_annotations=this.core.getAnnotations(),this.manifest.timestamp=(new Date).toISOString();const t=new window.Blob([JSON.stringify(this.manifest,null,2)],{type:"application/ld+json"}),n=new FileReader;n.addEventListener("load",()=>{e(n.result)}),n.readAsDataURL(t)}).catch(e=>{t(e)})})}save(){return(0,l.setSavedStatus)(!0),this.core.updateDatabase()}deleteDb(){return this.core.deleteDb()}getPageURI(e){return void 0===e&&(e=this.view.getCurrentPageURI()),new Promise(t=>{this.core.getMEI(e).then(e=>{t("data:application/mei+xml;charset=utf-8,"+encodeURIComponent(e))})})}getPageMEI(e){return this.core.getMEI(e)}getPageSVG(e){return this.core.getSVG(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(45),r=n(46),s=n(65),o=n(23),a=n(29),c=n(47);t.default=class{constructor(e){this.verovioWrapper=new s.default,this.undoStacks=new Map,this.redoStacks=new Map,this.neonCache=new Map,this.parser=new DOMParser,this.db=new a.default("Neon"),this.blankPages=[],this.manifest=e,this.annotations=e.mei_annotations,this.lastPageLoaded=""}getAnnotations(){return this.annotations}async initDb(e=!1){return await new Promise((t,n)=>{this.db.get(this.manifest["@id"]).catch(e=>{if("not_found"===e.name){const e={_id:this.manifest["@id"],timestamp:this.manifest.timestamp,image:this.manifest.image,title:this.manifest.title,annotations:[]};return this.annotations.forEach(t=>{e.annotations.push(t.id)}),e}return console.error(e),n(e)}).then(async i=>{const r=/(.+[-+\u2212]\d\d)(\d\d)$/;if(new Date(i.timestamp).getTime()>(r.test(this.manifest.timestamp)?new Date(this.manifest.timestamp.replace(r,"$1:$2")).getTime():new Date(this.manifest.timestamp).getTime())&&!e){this.annotations=[];const e=i.annotations.map(e=>new Promise(t=>{this.db.get(e).then(e=>{this.annotations.push({id:e._id,type:"Annotation",body:e.body,target:e.target}),t("")}).catch(e=>{console.error(e),t("")})}));return await Promise.all(e),t(!1)}for(const e of this.annotations)await this.db.get(e.id).catch(t=>"not_found"===t.name?{_id:e.id}:(console.error(t),n(t))).then(t=>(t.body=e.body,t.target=e.target,this.db.put(t))).catch(e=>{n(e),console.error(e)});return this.db.put(i)}).then(()=>t(!0)).catch(e=>{n(e),console.error(e)})})}loadPage(e){return new Promise((t,n)=>{if(this.lastPageLoaded===e&&this.neonCache.has(e))t(this.neonCache.get(e));else if(this.neonCache.has(e))this.loadData(e,this.neonCache.get(e).mei).then(()=>{t(this.neonCache.get(e))});else if(this.blankPages.includes(e)){r.blankPage();const t=new Error("No MEI file for page "+e);t.name="missing_mei",n(t)}else{const s=this.annotations.find(t=>t.target===e);s?window.fetch(s.body).then(e=>{if(e.ok)return e.text();throw new Error(e.statusText)}).then(n=>{n.match(/<sb .+>/)&&(n=(0,i.convertSbToStaff)(n)),(0,i.checkOutOfBoundsGlyphs)(n),this.loadData(e,n).then(()=>{t(this.neonCache.get(e))})}).catch(e=>{n(e)}):(r.blankPage(),this.blankPages.push(e))}})}loadData(e,t,n=!1){return r.sendForValidation(t),this.lastPageLoaded=e,new Promise(i=>{const r={id:(0,o.uuidv4)(),action:"renderData",mei:t};this.verovioWrapper.addEventListener("message",function s(o){if(o.data.id===r.id){const r=this.parser.parseFromString(o.data.svg,"image/svg+xml").documentElement;this.neonCache.set(e,{svg:r,mei:t,dirty:n}),o.target.removeEventListener("message",s),i()}}.bind(this)),this.verovioWrapper.postMessage(r)})}getSVG(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.svg)}).catch(e=>{n(e)})})}getMEI(e){return new Promise((t,n)=>{this.loadPage(e).then(e=>{t(e.mei)}).catch(e=>{n(e)})})}getElementAttr(e,t){return new Promise(n=>{this.loadPage(t).then(()=>{const t={id:(0,o.uuidv4)(),action:"getElementAttr",elementId:e};this.verovioWrapper.addEventListener("message",(function e(i){i.data.id===t.id&&(i.target.removeEventListener("message",e),n(i.data.attributes))})),this.verovioWrapper.postMessage(t)})})}edit(e,t){let n;return n=this.lastPageLoaded===t?Promise.resolve(this.neonCache.get(t)):this.loadPage(t),new Promise(i=>{n.then(n=>{n.svg=null;const r=n.mei,s={id:(0,o.uuidv4)(),action:"edit",editorAction:e};this.verovioWrapper.addEventListener("message",function e(n){if(n.data.id===s.id){if(n.data.result){this.undoStacks.has(t)||this.undoStacks.set(t,[]);const e=this.undoStacks.get(t);e.push(r)>10&&this.undoStacks.set(t,e.slice(1)),this.redoStacks.set(t,[])}n.target.removeEventListener("message",e),this.updateCache(t,!0).then(()=>{i(n.data.result)}),(0,c.setSavedStatus)(!1)}}.bind(this)),this.verovioWrapper.postMessage(s)})})}updateCache(e,t){return new Promise(n=>{let i,s;const a=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"getMEI"};this.verovioWrapper.addEventListener("message",(function n(s){s.data.id===t.id&&(i=s.data.mei,s.target.removeEventListener("message",n),r.sendForValidation(i),e(""))})),this.verovioWrapper.postMessage(t)}),c=new Promise(e=>{const t={id:(0,o.uuidv4)(),action:"renderToSVG"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(s=i.data.svg,i.target.removeEventListener("message",n),e(""))})),this.verovioWrapper.postMessage(t)});a.then(()=>c).then(()=>{const r=this.parser.parseFromString(s,"image/svg+xml").documentElement;this.neonCache.set(e,{mei:i,svg:r,dirty:t}),n()})})}info(e){let t;return t=this.lastPageLoaded===e?Promise.resolve():this.loadPage(e),new Promise(e=>{t.then(()=>{const t={id:(0,o.uuidv4)(),action:"editInfo"};this.verovioWrapper.addEventListener("message",(function n(i){i.data.id===t.id&&(i.target.removeEventListener("message",n),e(i.data.info))})),this.verovioWrapper.postMessage(t)})})}undo(e){return new Promise(async t=>{if(!this.undoStacks.has(e))return t(!1);const n=this.undoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.redoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}redo(e){return new Promise(async t=>{if(!this.redoStacks.has(e))return t(!1);const n=this.redoStacks.get(e).pop();if(!n)return t(!1);const i=await this.getMEI(e);return this.undoStacks.get(e).push(i),await this.loadData(e,n,!0),t(!0)})}async updateDatabase(){let e=!1;for(const t of this.neonCache){const n=t[0],i=t[1];if(i.dirty){e=!0;const t=this.annotations.findIndex(e=>e.target===n);let r;this.annotations[t].body.match(/^data:/)?r="data:application/mei+xml;base64,"+window.btoa(i.mei):await window.fetch(this.annotations[t].body,{method:"PUT",headers:{"Content-Type":"application/mei+xml"},body:i.mei}).then(e=>{r=e.ok?this.annotations[t].body:"data:application/mei+xml;base64,"+window.btoa(i.mei)}).catch(e=>{console.error(e),console.warn("Falling back to data URI"),r="data:application/mei+xml;base64,"+window.btoa(i.mei)}),this.annotations[t].body=r,await this.db.get(this.annotations[t].id).then(e=>(e.body=r,this.db.put(e))).then(()=>{i.dirty=!1}).catch(e=>{console.error(e)})}}e&&await this.db.get(this.manifest["@id"]).then(e=>(e.timestamp=(new Date).toISOString(),this.db.put(e))).catch(e=>{console.error(e)})}async deleteDb(){const e=await this.db.get(this.manifest["@id"]).then(e=>e.annotations);e.push(this.manifest["@id"]);const t=e.map(e=>new Promise(t=>{this.db.get(e).then(e=>this.db.remove(e)).then(()=>t())}));return Promise.all(t)}}},function(e,t){
/**
* vkBeautify - javascript plugin to pretty-print or minify text in XML, JSON, CSS and SQL formats.
*
* Copyright (c) 2012 Vadim Kiryukhin
* vkiryukhin @ gmail.com
* http://www.eslinstructor.net/vkbeautify/
*
* Dual licensed under the MIT and GPL licenses:
*   http://www.opensource.org/licenses/mit-license.php
*   http://www.gnu.org/licenses/gpl.html
*
*   Pretty print
*
*        vkbeautify.xml(text [,indent_pattern]);
*        vkbeautify.json(text [,indent_pattern]);
*        vkbeautify.css(text [,indent_pattern]);
*        vkbeautify.sql(text [,indent_pattern]);
*
*        @text - String; text to beatufy;
*        @indent_pattern - Integer | String;
*                Integer:  number of white spaces;
*                String:   character string to visualize indentation ( can also be a set of white spaces )
*   Minify
*
*        vkbeautify.xmlmin(text [,preserve_comments]);
*        vkbeautify.jsonmin(text);
*        vkbeautify.cssmin(text [,preserve_comments]);
*        vkbeautify.sqlmin(text);
*
*        @text - String; text to minify;
*        @preserve_comments - Bool; [optional];
*                Set this flag to true to prevent removing comments from @text ( minxml and mincss functions only. )
*
*   Examples:
*        vkbeautify.xml(text); // pretty print XML
*        vkbeautify.json(text, 4 ); // pretty print JSON
*        vkbeautify.css(text, '. . . .'); // pretty print CSS
*        vkbeautify.sql(text, '----'); // pretty print SQL
*
*        vkbeautify.xmlmin(text, true);// minify XML, preserve comments
*        vkbeautify.jsonmin(text);// minify JSON
*        vkbeautify.cssmin(text);// minify CSS, remove comments ( default )
*        vkbeautify.sqlmin(text);// minify SQL
*
*/
function n(e){var t="    ";if(isNaN(parseInt(e)))t=e;else switch(e){case 1:t=" ";break;case 2:t="  ";break;case 3:t="   ";break;case 4:t="    ";break;case 5:t="     ";break;case 6:t="      ";break;case 7:t="       ";break;case 8:t="        ";break;case 9:t="         ";break;case 10:t="          ";break;case 11:t="           ";break;case 12:t="            "}for(var n=["\n"],i=0;i<100;i++)n.push(n[i]+t);return n}function i(){this.step="    ",this.shift=n(this.step)}function r(e,t){return t-(e.replace(/\(/g,"").length-e.replace(/\)/g,"").length)}function s(e,t){return e.replace(/\s{1,}/g," ").replace(/ AND /gi,"~::~"+t+t+"AND ").replace(/ BETWEEN /gi,"~::~"+t+"BETWEEN ").replace(/ CASE /gi,"~::~"+t+"CASE ").replace(/ ELSE /gi,"~::~"+t+"ELSE ").replace(/ END /gi,"~::~"+t+"END ").replace(/ FROM /gi,"~::~FROM ").replace(/ GROUP\s{1,}BY/gi,"~::~GROUP BY ").replace(/ HAVING /gi,"~::~HAVING ").replace(/ IN /gi," IN ").replace(/ JOIN /gi,"~::~JOIN ").replace(/ CROSS~::~{1,}JOIN /gi,"~::~CROSS JOIN ").replace(/ INNER~::~{1,}JOIN /gi,"~::~INNER JOIN ").replace(/ LEFT~::~{1,}JOIN /gi,"~::~LEFT JOIN ").replace(/ RIGHT~::~{1,}JOIN /gi,"~::~RIGHT JOIN ").replace(/ ON /gi,"~::~"+t+"ON ").replace(/ OR /gi,"~::~"+t+t+"OR ").replace(/ ORDER\s{1,}BY/gi,"~::~ORDER BY ").replace(/ OVER /gi,"~::~"+t+"OVER ").replace(/\(\s{0,}SELECT /gi,"~::~(SELECT ").replace(/\)\s{0,}SELECT /gi,")~::~SELECT ").replace(/ THEN /gi," THEN~::~"+t).replace(/ UNION /gi,"~::~UNION~::~").replace(/ USING /gi,"~::~USING ").replace(/ WHEN /gi,"~::~"+t+"WHEN ").replace(/ WHERE /gi,"~::~WHERE ").replace(/ WITH /gi,"~::~WITH ").replace(/ ALL /gi," ALL ").replace(/ AS /gi," AS ").replace(/ ASC /gi," ASC ").replace(/ DESC /gi," DESC ").replace(/ DISTINCT /gi," DISTINCT ").replace(/ EXISTS /gi," EXISTS ").replace(/ NOT /gi," NOT ").replace(/ NULL /gi," NULL ").replace(/ LIKE /gi," LIKE ").replace(/\s{0,}SELECT /gi,"SELECT ").replace(/\s{0,}UPDATE /gi,"UPDATE ").replace(/ SET /gi," SET ").replace(/~::~{1,}/g,"~::~").split("~::~")}i.prototype.xml=function(e,t){var i=e.replace(/>\s{0,}</g,"><").replace(/</g,"~::~<").replace(/\s*xmlns\:/g,"~::~xmlns:").replace(/\s*xmlns\=/g,"~::~xmlns=").split("~::~"),r=i.length,s=!1,o=0,a="",c=0,l=t?n(t):this.shift;for(c=0;c<r;c++)i[c].search(/<!/)>-1?(a+=l[o]+i[c],s=!0,(i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1||i[c].search(/!DOCTYPE/)>-1)&&(s=!1)):i[c].search(/-->/)>-1||i[c].search(/\]>/)>-1?(a+=i[c],s=!1):/^<\w/.exec(i[c-1])&&/^<\/\w/.exec(i[c])&&/^<[\w:\-\.\,]+/.exec(i[c-1])==/^<\/[\w:\-\.\,]+/.exec(i[c])[0].replace("/","")?(a+=i[c],s||o--):i[c].search(/<\w/)>-1&&-1==i[c].search(/<\//)&&-1==i[c].search(/\/>/)?a=a+=s?i[c]:l[o++]+i[c]:i[c].search(/<\w/)>-1&&i[c].search(/<\//)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\//)>-1?a=a+=s?i[c]:l[--o]+i[c]:i[c].search(/\/>/)>-1?a=a+=s?i[c]:l[o]+i[c]:i[c].search(/<\?/)>-1||i[c].search(/xmlns\:/)>-1||i[c].search(/xmlns\=/)>-1?a+=l[o]+i[c]:a+=i[c];return"\n"==a[0]?a.slice(1):a},i.prototype.json=function(e,t){t=t||this.step;return"undefined"==typeof JSON?e:"string"==typeof e?JSON.stringify(JSON.parse(e),null,t):"object"==typeof e?JSON.stringify(e,null,t):e},i.prototype.css=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\{/g,"{~::~").replace(/\}/g,"~::~}~::~").replace(/\;/g,";~::~").replace(/\/\*/g,"~::~/*").replace(/\*\//g,"*/~::~").replace(/~::~\s{0,}~::~/g,"~::~").split("~::~"),r=i.length,s=0,o="",a=0,c=t?n(t):this.shift;for(a=0;a<r;a++)/\{/.exec(i[a])?o+=c[s++]+i[a]:/\}/.exec(i[a])?o+=c[--s]+i[a]:(/\*\\/.exec(i[a]),o+=c[s]+i[a]);return o.replace(/^\n{1,}/,"")},i.prototype.sql=function(e,t){var i=e.replace(/\s{1,}/g," ").replace(/\'/gi,"~::~'").split("~::~"),o=i.length,a=[],c=0,l=this.step,u=0,d="",h=0,f=t?n(t):this.shift;for(h=0;h<o;h++)a=h%2?a.concat(i[h]):a.concat(s(i[h],l));for(o=a.length,h=0;h<o;h++){u=r(a[h],u),/\s{0,}\s{0,}SELECT\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\s{0,}SET\s{0,}/.exec(a[h])&&(a[h]=a[h].replace(/\,/g,",\n"+l+l)),/\s{0,}\(\s{0,}SELECT\s{0,}/.exec(a[h])?d+=f[++c]+a[h]:/\'/.exec(a[h])?(u<1&&c&&c--,d+=a[h]):(d+=f[c]+a[h],u<1&&c&&c--)}return d=d.replace(/^\n{1,}/,"").replace(/\n{1,}/g,"\n")},i.prototype.xmlmin=function(e,t){return(t?e:e.replace(/\<![ \r\n\t]*(--([^\-]|[\r\n]|-[^\-])*--[ \r\n\t]*)\>/g,"").replace(/[ \r\n\t]{1,}xmlns/g," xmlns")).replace(/>\s{0,}</g,"><")},i.prototype.jsonmin=function(e){return"undefined"==typeof JSON?e:JSON.stringify(JSON.parse(e),null,0)},i.prototype.cssmin=function(e,t){return(t?e:e.replace(/\/\*([^*]|[\r\n]|(\*+([^*/]|[\r\n])))*\*+\//g,"")).replace(/\s{1,}/g," ").replace(/\{\s{1,}/g,"{").replace(/\}\s{1,}/g,"}").replace(/\;\s{1,}/g,";").replace(/\/\*\s{1,}/g,"/*").replace(/\*\/\s{1,}/g,"*/")},i.prototype.sqlmin=function(e){return e.replace(/\s{1,}/g," ").replace(/\s{1,}\(/,"(").replace(/\s{1,}\)/,")")},e.exports=new i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(){this.verovioWorker=new Worker("/Neon/Neon-gh/workers/VerovioWorker.js")}addEventListener(e,t){return this.verovioWorker.addEventListener(e,t)}postMessage(e){return this.verovioWorker.postMessage(e)}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parseManifest=void 0;const i=n(67),r=n(68),s=n(69);t.parseManifest=function(e){const t=(0,s.validate)(e,i),n=t.instance;if(t.errors.length>0)return console.error(t.errors),!1;const o=n["@context"];return"https://ddmal.music.mcgill.ca/Neon/contexts/1/manifest.jsonld"===o||(o[0]===r[0]&&o[1].schema===r[1].schema&&o[1].title===r[1].title&&o[1].timestamp===r[1].timestamp&&o[1].image["@id"]===r[1].image["@id"]&&o[1].image["@type"]===r[1].image["@type"]&&o[1].mei_annotations["@id"]===r[1].mei_annotations["@id"]&&o[1].mei_annotations["@type"]===r[1].mei_annotations["@type"]&&o[1].mei_annotations["@container"]===r[1].mei_annotations["@container"]||(console.error("Context mismatch"),console.error(o),console.error(r),!1))}},function(e){e.exports=JSON.parse('{"type":"object","required":["@context","title","timestamp","image","mei_annotations"],"properties":{"@context":{"type":["array","string"]},"title":{"type":"string"},"timestamp":{"type":"string"},"image":{"type":"string"},"mei_annotations":{"type":"array","items":{"type":"object","required":["id","type","body","target"],"properties":{"id":{"type":"string"},"type":{"type":"string"},"body":{"type":"string"},"target":{"type":"string"}}}}}}')},function(e){e.exports=JSON.parse('["http://www.w3.org/ns/anno.jsonld",{"schema":"http://schema.org/","title":"schema:name","timestamp":"schema:dateModified","image":{"@id":"schema:image","@type":"@id"},"mei_annotations":{"@id":"Annotation","@type":"@id","@container":"@list"}}]')},function(e,t,n){"use strict";var i=e.exports.Validator=n(70);e.exports.ValidatorResult=n(19).ValidatorResult,e.exports.ValidatorResultError=n(19).ValidatorResultError,e.exports.ValidationError=n(19).ValidationError,e.exports.SchemaError=n(19).SchemaError,e.exports.SchemaScanResult=n(44).SchemaScanResult,e.exports.scan=n(44).scan,e.exports.validate=function(e,t,n){return(new i).validate(e,t,n)}},function(e,t,n){"use strict";var i=n(43),r=n(76),s=n(19),o=n(44).scan,a=s.ValidatorResult,c=s.ValidatorResultError,l=s.SchemaError,u=s.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(f),this.attributes=Object.create(r.validators)};function h(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var i=o(t||"/",e),r=t||e.$id||e.id;for(var s in i.id)this.schemas[s]=i.id[s];for(var s in i.ref)this.unresolvedRefs.push(s);return this.unresolvedRefs=this.unresolvedRefs.filter((function(e){return void 0===n.schemas[e]})),this.schemas[r]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,r){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new l("Expected `schema` to be an object or boolean");n||(n={});var s,d=t.$id||t.id,h=i.resolve(n.base||"/",d||"");if(!r){(r=new u(t,n,[],h,Object.create(this.schemas))).schemas[h]||(r.schemas[h]=t);var f=o(h,t);for(var p in f.id){var g=f.id[p];r.schemas[p]=g}}if(n.required&&void 0===e)return(s=new a(e,t,n,r)).addError("is required, but is undefined"),s;if(!(s=this.validateSchema(e,t,n,r)))throw new Error("Result undefined");if(n.throwAll&&s.errors.length)throw new c(s);return s},d.prototype.validateSchema=function(e,t,n,i){var o=new a(e,t,n,i);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var c={schema:t,ctx:i};t.extends.forEach(this.schemaTraverser.bind(this,c)),t=c.schema,c.schema=null,c.ctx=null,c=null}else t=s.deepMerge(t,this.superResolve(t.extends,i));var d=h(t);if(d){var f=this.resolve(t,d,i),p=new u(f.subschema,n,i.path,f.switchSchema,i.schemas);return this.validateSchema(e,f.subschema,n,p)}var g=n&&n.skipAttributes||[];for(var v in t)if(!r.ignoreProperties[v]&&g.indexOf(v)<0){var m=null,y=this.attributes[v];if(y)m=y.call(this,e,t,n,i);else if(!1===n.allowUnknownAttributes)throw new l("Unsupported attribute: "+v,t);m&&o.importErrors(m)}if("function"==typeof n.rewrite){var b=n.rewrite.call(this,e,t,n,i);o.instance=b}return o},d.prototype.schemaTraverser=function(e,t){e.schema=s.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=h(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};var r=i.parse(t),o=r&&r.hash,a=o&&o.length&&t.substr(0,t.length-o.length);if(!a||!n.schemas[a])throw new l("no such schema <"+t+">",e);var c=s.objectGetPath(n.schemas[a],o.substr(1));if(void 0===c)throw new l("no such schema "+o+" located in <"+a+">",e);return{subschema:c,switchSchema:t}},d.prototype.testType=function(e,t,n,i,r){if(void 0!==r){if(null===r)throw new l('Unexpected null in "type" keyword');if("function"==typeof this.types[r])return this.types[r].call(this,e);if(r&&"object"==typeof r){var s=this.validateSchema(e,r,n,i);return void 0===s||!(s&&s.errors.length)}return!0}};var f=d.prototype.types={};f.string=function(e){return"string"==typeof e},f.number=function(e){return"number"==typeof e&&isFinite(e)},f.integer=function(e){return"number"==typeof e&&e%1==0},f.boolean=function(e){return"boolean"==typeof e},f.array=function(e){return Array.isArray(e)},f.null=function(e){return null===e},f.date=function(e){return e instanceof Date},f.any=function(e){return!0},f.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},function(e,t,n){(function(e,i){var r;/*! https://mths.be/punycode v1.4.1 by @mathias */!function(s){t&&t.nodeType,e&&e.nodeType;var o="object"==typeof i&&i;o.global!==o&&o.window!==o&&o.self;var a,c=2147483647,l=/^xn--/,u=/[^\x20-\x7E]/,d=/[\x2E\u3002\uFF0E\uFF61]/g,h={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,p=String.fromCharCode;function g(e){throw new RangeError(h[e])}function v(e,t){for(var n=e.length,i=[];n--;)i[n]=t(e[n]);return i}function m(e,t){var n=e.split("@"),i="";return n.length>1&&(i=n[0]+"@",e=n[1]),i+v((e=e.replace(d,".")).split("."),t).join(".")}function y(e){for(var t,n,i=[],r=0,s=e.length;r<s;)(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<s?56320==(64512&(n=e.charCodeAt(r++)))?i.push(((1023&t)<<10)+(1023&n)+65536):(i.push(t),r--):i.push(t);return i}function b(e){return v(e,(function(e){var t="";return e>65535&&(t+=p((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+=p(e)})).join("")}function w(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function _(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=36)e=f(e/35);return f(i+36*e/(e+38))}function E(e){var t,n,i,r,s,o,a,l,u,d,h,p=[],v=e.length,m=0,y=128,w=72;for((n=e.lastIndexOf("-"))<0&&(n=0),i=0;i<n;++i)e.charCodeAt(i)>=128&&g("not-basic"),p.push(e.charCodeAt(i));for(r=n>0?n+1:0;r<v;){for(s=m,o=1,a=36;r>=v&&g("invalid-input"),((l=(h=e.charCodeAt(r++))-48<10?h-22:h-65<26?h-65:h-97<26?h-97:36)>=36||l>f((c-m)/o))&&g("overflow"),m+=l*o,!(l<(u=a<=w?1:a>=w+26?26:a-w));a+=36)o>f(c/(d=36-u))&&g("overflow"),o*=d;w=_(m-s,t=p.length+1,0==s),f(m/t)>c-y&&g("overflow"),y+=f(m/t),m%=t,p.splice(m++,0,y)}return b(p)}function S(e){var t,n,i,r,s,o,a,l,u,d,h,v,m,b,E,S=[];for(v=(e=y(e)).length,t=128,n=0,s=72,o=0;o<v;++o)(h=e[o])<128&&S.push(p(h));for(i=r=S.length,r&&S.push("-");i<v;){for(a=c,o=0;o<v;++o)(h=e[o])>=t&&h<a&&(a=h);for(a-t>f((c-n)/(m=i+1))&&g("overflow"),n+=(a-t)*m,t=a,o=0;o<v;++o)if((h=e[o])<t&&++n>c&&g("overflow"),h==t){for(l=n,u=36;!(l<(d=u<=s?1:u>=s+26?26:u-s));u+=36)E=l-d,b=36-d,S.push(p(w(d+E%b,0))),l=f(E/b);S.push(p(w(l,0))),s=_(n,m,i==r),n=0,++i}++n,++t}return S.join("")}a={version:"1.4.1",ucs2:{decode:y,encode:b},decode:E,encode:S,toASCII:function(e){return m(e,(function(e){return u.test(e)?"xn--"+S(e):e}))},toUnicode:function(e){return m(e,(function(e){return l.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return a}.call(t,n,t,e))||(e.exports=r)}()}).call(this,n(48)(e),n(9))},function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},function(e,t,n){"use strict";t.decode=t.parse=n(74),t.encode=t.stringify=n(75)},function(e,t,n){"use strict";function i(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,s){t=t||"&",n=n||"=";var o={};if("string"!=typeof e||0===e.length)return o;var a=/\+/g;e=e.split(t);var c=1e3;s&&"number"==typeof s.maxKeys&&(c=s.maxKeys);var l=e.length;c>0&&l>c&&(l=c);for(var u=0;u<l;++u){var d,h,f,p,g=e[u].replace(a,"%20"),v=g.indexOf(n);v>=0?(d=g.substr(0,v),h=g.substr(v+1)):(d=g,h=""),f=decodeURIComponent(d),p=decodeURIComponent(h),i(o,f)?r(o[f])?o[f].push(p):o[f]=[o[f],p]:o[f]=p}return o};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,n){"use strict";var i=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,a){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?s(o(e),(function(o){var a=encodeURIComponent(i(o))+n;return r(e[o])?s(e[o],(function(e){return a+encodeURIComponent(i(e))})).join(t):a+encodeURIComponent(i(e[o]))})).join(t):a?encodeURIComponent(i(a))+n+encodeURIComponent(i(e)):""};var r=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function s(e,t){if(e.map)return e.map(t);for(var n=[],i=0;i<e.length;i++)n.push(t(e[i],i));return n}var o=Object.keys||function(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},function(e,t,n){"use strict";var i=n(19),r=i.ValidatorResult,s=i.SchemaError,o={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},a=o.validators={};function c(e,t,n,i,r){var s=t.throwError,o=t.throwAll;t.throwError=!1,t.throwAll=!1;var a=this.validateSchema(e,r,t,n);return t.throwError=s,t.throwAll=o,!a.valid&&i instanceof Function&&i(a),a.valid}function l(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function u(e,t,n,i,r,s){if(this.types.object(e)&&(!t.properties||void 0===t.properties[r]))if(!1===t.additionalProperties)s.addError({name:"additionalProperties",argument:r,message:"is not allowed to have the additional property "+JSON.stringify(r)});else{var o=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,r,o,n,i);var a=this.validateSchema(e[r],o,n,i.makeChild(o,r));a.instance!==s.instance[r]&&(s.instance[r]=a.instance),s.importErrors(a)}}a.type=function(e,t,n,i){if(void 0===e)return null;var s=new r(e,t,n,i),o=Array.isArray(t.type)?t.type:[t.type];if(!o.some(this.testType.bind(this,e,t,n,i))){var a=o.map((function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}}));s.addError({name:"type",argument:a,message:"is not of a type(s) "+a})}return s},a.anyOf=function(e,t,n,i){if(void 0===e)return null;var o=new r(e,t,n,i),a=new r(e,t,n,i);if(!Array.isArray(t.anyOf))throw new s("anyOf must be an array");if(!t.anyOf.some(c.bind(this,e,n,i,(function(e){a.importErrors(e)})))){var l=t.anyOf.map((function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));n.nestedErrors&&o.importErrors(a),o.addError({name:"anyOf",argument:l,message:"is not any of "+l.join(",")})}return o},a.allOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new s("allOf must be an array");var o=new r(e,t,n,i),a=this;return t.allOf.forEach((function(t,r){var s=a.validateSchema(e,t,n,i);if(!s.valid){var c=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+r+"]";o.addError({name:"allOf",argument:{id:c,length:s.errors.length,valid:s},message:"does not match allOf schema "+c+" with "+s.errors.length+" error[s]:"}),o.importErrors(s)}})),o},a.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new s("oneOf must be an array");var o=new r(e,t,n,i),a=new r(e,t,n,i),l=t.oneOf.filter(c.bind(this,e,n,i,(function(e){a.importErrors(e)}))).length,u=t.oneOf.map((function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"}));return 1!==l&&(n.nestedErrors&&o.importErrors(a),o.addError({name:"oneOf",argument:u,message:"is not exactly one from "+u.join(",")})),o},a.if=function(e,t,n,s){if(void 0===e)return null;if(!i.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var o,a=c.call(this,e,n,s,null,t.if),l=new r(e,t,n,s);if(a){if(void 0===t.then)return;if(!i.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');o=this.validateSchema(e,t.then,n,s.makeChild(t.then)),l.importErrors(o)}else{if(void 0===t.else)return;if(!i.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');o=this.validateSchema(e,t.else,n,s.makeChild(t.else)),l.importErrors(o)}return l},a.propertyNames=function(e,t,n,o){if(this.types.object(e)){var a=new r(e,t,n,o),c=void 0!==t.propertyNames?t.propertyNames:{};if(!i.isSchema(c))throw new s('Expected "propertyNames" to be a schema (object or boolean)');for(var u in e)if(void 0!==l(e,u)){var d=this.validateSchema(u,c,n,o.makeChild(c));a.importErrors(d)}return a}},a.properties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.properties||{};for(var c in a){var u=a[c];if(void 0!==u){if(null===u)throw new s('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,u,n,i);var d=l(e,c),h=this.validateSchema(d,u,n,i.makeChild(u,c));h.instance!==o.instance[c]&&(o.instance[c]=h.instance),o.importErrors(h)}}return o}},a.patternProperties=function(e,t,n,i){if(this.types.object(e)){var o=new r(e,t,n,i),a=t.patternProperties||{};for(var c in e){var l=!0;for(var d in a){var h=a[d];if(void 0!==h){if(null===h)throw new s('Unexpected null, expected schema in "patternProperties"');try{var f=new RegExp(d,"u")}catch(e){f=new RegExp(d)}if(f.test(c)){l=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,c,h,n,i);var p=this.validateSchema(e[c],h,n,i.makeChild(h,c));p.instance!==o.instance[c]&&(o.instance[c]=p.instance),o.importErrors(p)}}}l&&u.call(this,e,t,n,i,c,o)}return o}},a.additionalProperties=function(e,t,n,i){if(this.types.object(e)){if(t.patternProperties)return null;var s=new r(e,t,n,i);for(var o in e)u.call(this,e,t,n,i,o,s);return s}},a.minProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length>=t.minProperties||s.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),s}},a.maxProperties=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);return Object.keys(e).length<=t.maxProperties||s.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),s}},a.items=function(e,t,n,i){var s=this;if(this.types.array(e)&&void 0!==t.items){var o=new r(e,t,n,i);return e.every((function(e,r){if(Array.isArray(t.items))var a=void 0===t.items[r]?t.additionalItems:t.items[r];else a=t.items;if(void 0===a)return!0;if(!1===a)return o.addError({name:"items",message:"additionalItems not permitted"}),!1;var c=s.validateSchema(e,a,n,i.makeChild(a,r));return c.instance!==o.instance[r]&&(o.instance[r]=c.instance),o.importErrors(c),!0})),o}},a.contains=function(e,t,n,s){var o=this;if(this.types.array(e)&&void 0!==t.contains){if(!i.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var a=new r(e,t,n,s);return!1===e.some((function(e,i){return 0===o.validateSchema(e,t.contains,n,s.makeChild(t.contains,i)).errors.length}))&&a.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),a}},a.minimum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||s.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),s}},a.maximum=function(e,t,n,i){if(this.types.number(e)){var s=new r(e,t,n,i);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||s.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),s}},a.exclusiveMinimum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var s=new r(e,t,n,i);return e>t.exclusiveMinimum||s.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),s}},a.exclusiveMaximum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var s=new r(e,t,n,i);return e<t.exclusiveMaximum||s.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),s}};var d=function(e,t,n,o,a,c){if(this.types.number(e)){var l=t[a];if(0==l)throw new s(a+" cannot be zero");var u=new r(e,t,n,o),d=i.getDecimalPlaces(e),h=i.getDecimalPlaces(l),f=Math.max(d,h),p=Math.pow(10,f);return Math.round(e*p)%Math.round(l*p)!=0&&u.addError({name:a,argument:l,message:c+JSON.stringify(l)}),u}};function h(e,t,n){var r,s=n.length;for(r=t+1;r<s;r++)if(i.deepCompareStrict(e,n[r]))return!1;return!0}a.multipleOf=function(e,t,n,i){return d.call(this,e,t,n,i,"multipleOf","is not a multiple of (divisible by) ")},a.divisibleBy=function(e,t,n,i){return d.call(this,e,t,n,i,"divisibleBy","is not divisible by (multiple of) ")},a.required=function(e,t,n,i){var s=new r(e,t,n,i);return void 0===e&&!0===t.required?s.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach((function(t){void 0===l(e,t)&&s.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})})),s},a.pattern=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=t.pattern;try{var a=new RegExp(o,"u")}catch(e){a=new RegExp(o)}return e.match(a)||s.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),s}},a.format=function(e,t,n,s){if(void 0!==e){var o=new r(e,t,n,s);return o.disableFormat||i.isFormat(e,t.format,this)||o.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),o}},a.minLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)>=t.minLength||s.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),s}},a.maxLength=function(e,t,n,i){if(this.types.string(e)){var s=new r(e,t,n,i),o=e.match(/[\uDC00-\uDFFF]/g);return e.length-(o?o.length:0)<=t.maxLength||s.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),s}},a.minItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length>=t.minItems||s.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),s}},a.maxItems=function(e,t,n,i){if(this.types.array(e)){var s=new r(e,t,n,i);return e.length<=t.maxItems||s.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),s}},a.uniqueItems=function(e,t,n,i){if(!0===t.uniqueItems&&this.types.array(e)){var s=new r(e,t,n,i);return e.every(h)||s.addError({name:"uniqueItems",message:"contains duplicate item"}),s}},a.dependencies=function(e,t,n,i){if(this.types.object(e)){var s=new r(e,t,n,i);for(var o in t.dependencies)if(void 0!==e[o]){var a=t.dependencies[o],c=i.makeChild(a,o);if("string"==typeof a&&(a=[a]),Array.isArray(a))a.forEach((function(t){void 0===e[t]&&s.addError({name:"dependencies",argument:c.propertyPath,message:"property "+t+" not found, required by "+c.propertyPath})}));else{var l=this.validateSchema(e,a,n,c);s.instance!==l.instance&&(s.instance=l.instance),l&&l.errors.length&&(s.addError({name:"dependencies",argument:c.propertyPath,message:"does not meet dependency required by "+c.propertyPath}),s.importErrors(l))}}return s}},a.enum=function(e,t,n,o){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new s("enum expects an array",t);var a=new r(e,t,n,o);return t.enum.some(i.deepCompareStrict.bind(null,e))||a.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),a},a.const=function(e,t,n,s){if(void 0===e)return null;var o=new r(e,t,n,s);return i.deepCompareStrict(t.const,e)||o.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),o},a.not=a.disallow=function(e,t,n,i){var s=this;if(void 0===e)return null;var o=new r(e,t,n,i),a=t.not||t.disallow;return a?(Array.isArray(a)||(a=[a]),a.forEach((function(r){if(s.testType(e,t,n,i,r)){var a=r&&(r.$id||r.id)||r;o.addError({name:"not",argument:a,message:"is of prohibited type "+a})}})),o):null},e.exports=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(17);t.default=async function(e){const t=await fetch("/Neon/Neon-gh/assets/template.html");document.body.innerHTML=await t.text(),document.getElementById("home-link").href="https://ddmal.music.mcgill.ca/Neon",document.getElementById("neon-version").textContent="2ea883a1\n",document.getElementById("neon-main-icon").src="/Neon/Neon-gh/assets/img/Neon_Icon_3.svg",Array.from(document.getElementsByClassName("external-link-icon")).forEach(e=>{e.src="/Neon/Neon-gh/assets/img/external-link.svg"}),document.getElementById("filename").innerText=e.manifest.title,document.title=e.manifest.title,document.getElementById("navbar-item-hotkeys").addEventListener("click",(function(){e.modal.setModalWindowView(i.ModalWindowView.HOTKEYS),e.modal.openModalWindow()})),document.querySelector("#file-saved").setAttribute("src","/Neon/Neon-gh/assets/img/saved-icon.svg")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(16),r=n(6);t.default=class{constructor(e,t,n,i){this.view=e,this.meiClass=t,this.background=n,this.zoomHandler=i;document.getElementById("display_controls").innerHTML=function(e){let t='\n    <div class="panel-heading" id="displayHeader">\n      <div class="panel-heading-title">DISPLAY</div>\n      <svg class="icon is-pulled-right">\n        <use id="toggleDisplay" class="panel-dropdown-icon" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n      </svg>\n    </div>\n    <div id="displayContents" class="panel-contents">\n      <div class="panel-content-subsection first-subsection">\n  ';return void 0!==e&&(t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n            <div class="display-slider-title">Zoom</div>\n            <button class="side-panel-btn slider-btn" id="reset-zoom" title="Reset zoom setting">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/arrow-rotate-left-solid.svg">\n            </button>\n            <button class="side-panel-btn slider-btn" id="set-zoom-easy-edit" title="Fit to page">\n              <img class="slider-btn-img" src="/Neon/Neon-gh/assets/img/expand-icon.svg">\n            </button>\n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="25" max="400" value="100"\n              aria-labelledby="reset-zoom"\n              class="slider is-fullwidth is-large"\n              id="zoomSlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n              disabled="disabled"\n            />\n            <output id="zoomOutput" for="zoomSlider">100</output>\n          </div>\n        </div>'),t+='\n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Glyph Opacity</div>\n            <button class="side-panel-btn slider-btn" id="toggle-glyph-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-glyph-opacity"\n              class="slider is-fullwidth is-large"\n              id="opacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="opacityOutput" for="opacitySlider">100</output>\n          </div>\n        </div>\n        \n        <div class="slider-and-slider-actions-container display-panel" style="cursor: default">\n          <div class="slider-actions-container">\n          <div class="display-slider-title">Image Opacity</div> \n            <button class="side-panel-btn slider-btn" id="toggle-bg-opacity">\n              <img class="slider-btn-img" src="/Neon/Neon-gh//assets/img/hide-icon.svg">\n            </button>   \n          </div>\n          <div class="slider-container">\n            <input type="range"\n              step="5" min="0" max="100" value="100"\n              aria-labelledby="toggle-bg-opacity"\n              class="slider is-fullwidth is-large"\n              id="bgOpacitySlider"\n              style="padding-left: 1rem; padding-right: 1rem;"\n            />\n            <output id="bgOpacityOutput" for="bgOpacitySlider">100</output>\n          </div>\n        </div>\n      </div>\n      \n      <div class="panel-content-subsection">\n\n        <div id="highlight-options-title" class="panel-sub-title">Highlight Options:</div>\n        <div class="dropdown" id="highlight-dropdown">\n          <div class="dropdown-trigger">\n            <button class="side-panel-btn" id="highlight-button" aria-haspopup="true" aria-controls="highlight-menu" style="width: auto">\n              <span>Highlight</span>\n              <span id="highlight-type">&nbsp;- Off</span>\n              <svg class="icon">\n                <use id="toggleDisplay" xlink:href="/Neon/Neon-gh/assets/img/icons.svg#dropdown-down"></use>\n              </svg>\n            </button>\n          </div>\n          <div class="dropdown-menu" id="highlight-menu" role="menu">\n            <div class="dropdown-content">\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-selection">By Selection Mode</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-staff">Staff</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-syllable">Syllable</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-neume">Neume</a>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-layerElement">LayerElement</a>\n              <hr class="dropdown-divider"/>\n              <a aria-role="menuitem" class="dropdown-item" id="highlight-none">None</a>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      <div class="panel-content-subsection">\n        <div id="display-options-container">\n          <div id="display-options-title" class="panel-sub-title">Display Options:</div>\n\n          <div id="display-options-items">\n\n            <div id="checkbox-display-options">\n\n              <div id="display-all-container">\n                <div id="display-options-separator">\n                <div class="side-panel-btn" id="display-all-btn">Display All</div>\n              </div>\n              <div id="display-single-container"></div>\n\n              \n            </div>\n\n          </div>\n\n        </div>\n      </div>\n      \n    </div>',t}(this.zoomHandler),this.loadSettings(),this.view.addUpdateCallback(this.updateVisualization.bind(this))}setDisplayListeners(){this.zoomHandler&&i.setZoomControls(this.zoomHandler),i.initDisplayControls(this.meiClass,this.background)}loadSettings(){const{zoom:e,glyphOpacity:t,imageOpacity:n,highlightMode:i}=(0,r.getSettings)();document.querySelector("#zoomOutput")&&(document.querySelector("#zoomOutput").value=String(e),document.querySelector("#zoomSlider").value=String(e)),document.querySelector("#bgOpacityOutput").value=String(n),document.querySelector("#bgOpacitySlider").value=String(n),document.querySelector("#opacityOutput").value=String(t),document.querySelector("#opacitySlider").value=String(t);const s="none"===i?"Off":i[0].toUpperCase()+i.slice(1);document.querySelector("#highlight-type").textContent=" - "+s}updateVisualization(){i.setGlyphOpacityFromSlider(this.meiClass),i.setBgOpacityFromSlider(this.background),i.updateHighlight()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(93);t.default=class{constructor(e,t,n){this.neonView=e,this.updateCallbacks=[],this.divaReady=!1,this.diva=new i.default("container",{objectData:n}),document.getElementById("container").style.minHeight="100%",this.indexMap=new Map,this.diva.disableDragScrollable(),this.displayPanel=new t(this,"neon-container","diva-viewer-canvas"),this.loadDelay=500,this.initDivaEvents(),window.onresize=()=>{const e=window.innerHeight,t=window.innerWidth;window.setTimeout(()=>{e===window.innerHeight&&t===window.innerWidth&&this.changePage(this.getCurrentPage(),!1)},this.loadDelay)}}initDivaEvents(){i.default.Events.subscribe("ManifestDidLoad",this.parseManifest.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ObjectDidLoad",this.didLoad.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ActivePageDidChange",this.changePage.bind(this),this.diva.settings.ID),i.default.Events.subscribe("ZoomLevelDidChange",this.adjustZoom.bind(this),this.diva.settings.ID)}async changePage(e,t=!0){function n(e){if(e===this.getCurrentPage()){const t=this.indexMap.get(e);this.neonView.getPageSVG(t).then(t=>{this.updateSVG(t,e);const n="neon-container-"+e,i=document.getElementById(n);null!==i&&i.classList.add("active-page"),this.updateCallbacks.forEach(e=>e())}).catch(e=>{"not_found"!==e.name&&"missing_mei"!==e.name&&console.error(e)})}}const i=[e];Array.from(document.getElementsByClassName("active-page")).forEach(e=>{e.classList.remove("active-page")});for(const e of i)t?window.setTimeout(n.bind(this),this.loadDelay,e):n.bind(this)(e)}getCurrentPage(){return this.diva.getActivePageIndex()}getCurrentPageURI(){return this.indexMap.get(this.getCurrentPage())}adjustZoom(){new Promise(e=>{Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{e.style.display="none"}),setTimeout(e,this.diva.settings.zoomDuration+100)}).then(()=>{this.changePage(this.diva.getActivePageIndex(),!0),Array.from(document.getElementsByClassName("neon-container")).forEach(e=>{const t=e.firstChild,n=parseInt(e.id.match(/\d+/)[0]);this.updateSVG(t,n),e.style.display=""})})}onSVGLoad(){this.setViewEventHandlers()}updateSVG(e,t){const n=document.getElementById("diva-1-inner"),i=this.diva.getPageDimensionsAtCurrentZoomLevel(t),r=this.diva.settings.viewHandler._viewerCore.getPageRegion(t,{includePadding:!0,incorporateViewport:!0}),s=window.getComputedStyle(n,null).getPropertyValue("margin-left"),o="neon-container-"+t.toString();let a=document.getElementById(o);for(null===a&&(a=document.createElement("div"),a.id=o,a.classList.add("neon-container"),n.appendChild(a));a.firstChild;)a.removeChild(a.firstChild);e.setAttribute("width",i.width.toString()),e.setAttribute("height",i.height.toString()),a.style.position="absolute",a.style.top=r.top+"px",a.style.left=r.left-parseInt(s)+"px",a.appendChild(e)}didLoad(){this.divaReady=!0,this.displayPanel.setDisplayListeners(),document.getElementById("loading").style.display="none"}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility="hidden"}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"h":for(const e of document.getElementsByClassName("neon-container"))e.style.visibility=""}})}parseManifest(e){this.indexMap.clear();for(const t of e.sequences)for(const e of t.canvases)this.indexMap.set(t.canvases.indexOf(e),e["@id"])}getPageName(){return this.diva.settings.manifest.itemTitle+" — "+this.diva.settings.manifest.pages[this.getCurrentPage()].l}}},function(e,t){var n,i,r,s;n=window.requestAnimationFrame,i="ontouchend"in document,r=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},(s=function(e,t){return this.settings=r({},s.DEFAULTS,t),this.el=e,this.ACTIVE_CLASS="kinetic-active",this._initElements(),this.el._VanillaKinetic=this,this}).DEFAULTS={cursor:"move",decelerate:!0,triggerHardware:!1,threshold:0,y:!0,x:!0,slowdown:.9,maxvelocity:40,throttleFPS:60,invert:!1,movingClass:{up:"kinetic-moving-up",down:"kinetic-moving-down",left:"kinetic-moving-left",right:"kinetic-moving-right"},deceleratingClass:{up:"kinetic-decelerating-up",down:"kinetic-decelerating-down",left:"kinetic-decelerating-left",right:"kinetic-decelerating-right"}},s.prototype.start=function(e){this.settings=r(this.settings,e),this.velocity=e.velocity||this.velocity,this.velocityY=e.velocityY||this.velocityY,this.settings.decelerate=!1,this._move()},s.prototype.end=function(){this.settings.decelerate=!0},s.prototype.stop=function(){this.velocity=0,this.velocityY=0,this.settings.decelerate=!0,"function"==typeof this.settings.stopped&&this.settings.stopped.call(this)},s.prototype.detach=function(){this._detachListeners(),this.el.classList.remove(this.ACTIVE_CLASS),this.el.style.cursor=""},s.prototype.attach=function(){this.el.classList.contains(this.ACTIVE_CLASS)||(this._attachListeners(),this.el.classList.add(this.ACTIVE_CLASS),this.el.style.cursor=this.settings.cursor)},s.prototype._initElements=function(){this.el.classList.add(this.ACTIVE_CLASS),r(this,{xpos:null,prevXPos:!1,ypos:null,prevYPos:!1,mouseDown:!1,throttleTimeout:1e3/this.settings.throttleFPS,lastMove:null,elementFocused:null}),this.velocity=0,this.velocityY=0;var e=this;this.documentResetHandler=function(){e._resetMouse.apply(e)};var t=document.documentElement;if(t.addEventListener("mouseup",this.documentResetHandler,!1),t.addEventListener("click",this.documentResetHandler,!1),this._initEvents(),this.el.style.cursor=this.settings.cursor,this.settings.triggerHardware)for(var n=["","-ms-","-webkit-","-moz-"],i={transform:"translate3d(0,0,0)",perspective:"1000","backface-visibility":"hidden"},s=0;s<n.length;s++){var o=n[s];for(var a in i)i.hasOwnProperty(a)&&(this.el.style[o+a]=i[a])}},s.prototype._initEvents=function(){var e=this;this.settings.events={touchStart:function(t){var n;e._useTarget(t.target,t)&&(n=t.originalEvent.touches[0],e.threshold=e._threshold(t.target,t),e._start(n.clientX,n.clientY),t.stopPropagation())},touchMove:function(t){var n;e.mouseDown&&(n=t.originalEvent.touches[0],e._inputmove(n.clientX,n.clientY),t.preventDefault&&t.preventDefault())},inputDown:function(t){e._useTarget(t.target,t)&&(e.threshold=e._threshold(t.target,t),e._start(t.clientX,t.clientY),e.elementFocused=t.target,"IMG"===t.target.nodeName&&t.preventDefault(),t.stopPropagation())},inputEnd:function(t){e._useTarget(t.target,t)&&(e._end(),e.elementFocused=null,t.preventDefault&&t.preventDefault())},inputMove:function(t){e.mouseDown&&(e._inputmove(t.clientX,t.clientY),t.preventDefault&&t.preventDefault())},scroll:function(t){"function"==typeof e.settings.moved&&e.settings.moved.call(e,e.settings),t.preventDefault&&t.preventDefault()},inputClick:function(t){if(Math.abs(e.velocity)>0||Math.abs(e.velocityY)>0)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},dragStart:function(t){if(e._useTarget(t.target,t)&&e.elementFocused)return t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1},selectStart:function(t){return"function"==typeof e.settings.selectStart?e.settings.selectStart.apply(e,arguments):e._useTarget(t.target,t)?(t.preventDefault&&t.preventDefault(),t.stopPropagation&&t.stopPropagation(),!1):void 0}},this._attachListeners()},s.prototype._inputmove=function(e,t){if((!this.lastMove||new Date>new Date(this.lastMove.getTime()+this.throttleTimeout))&&(this.lastMove=new Date,this.mouseDown&&(this.xpos||this.ypos))){var n=e-this.xpos,i=t-this.ypos;if(this.settings.invert&&(n*=-1,i*=-1),this.threshold>0){var r=Math.sqrt(n*n+i*i);if(this.threshold>r)return;this.threshold=0}this.elementFocused&&(this.elementFocused.blur(),this.elementFocused=null,this.el.focus()),this.settings.decelerate=!1,this.velocity=this.velocityY=0;var s=this.scrollLeft(),o=this.scrollTop();this.scrollLeft(this.settings.x?s-n:s),this.scrollTop(this.settings.y?o-i:o),this.prevXPos=this.xpos,this.prevYPos=this.ypos,this.xpos=e,this.ypos=t,this._calculateVelocities(),this._setMoveClasses(this.settings.movingClass),"function"==typeof this.settings.moved&&this.settings.moved.call(this,this.settings)}},s.prototype._calculateVelocities=function(){this.velocity=this._capVelocity(this.prevXPos-this.xpos,this.settings.maxvelocity),this.velocityY=this._capVelocity(this.prevYPos-this.ypos,this.settings.maxvelocity),this.settings.invert&&(this.velocity*=-1,this.velocityY*=-1)},s.prototype._end=function(){this.xpos&&this.prevXPos&&!1===this.settings.decelerate&&(this.settings.decelerate=!0,this._calculateVelocities(),this.xpos=this.prevXPos=this.mouseDown=!1,this._move())},s.prototype._useTarget=function(e,t){return"function"!=typeof this.settings.filterTarget||!1!==this.settings.filterTarget.call(this,e,t)},s.prototype._threshold=function(e,t){return"function"==typeof this.settings.threshold?this.settings.threshold.call(this,e,t):this.settings.threshold},s.prototype._start=function(e,t){this.mouseDown=!0,this.velocity=this.prevXPos=0,this.velocityY=this.prevYPos=0,this.xpos=e,this.ypos=t},s.prototype._resetMouse=function(){this.xpos=!1,this.ypos=!1,this.mouseDown=!1},s.prototype._decelerateVelocity=function(e,t){return 0===Math.floor(Math.abs(e))?0:e*t},s.prototype._capVelocity=function(e,t){var n=e;return e>0?e>t&&(n=t):e<0-t&&(n=0-t),n},s.prototype._setMoveClasses=function(e){var t=this.settings,n=this.el;n.classList.remove(t.movingClass.up),n.classList.remove(t.movingClass.down),n.classList.remove(t.movingClass.left),n.classList.remove(t.movingClass.right),n.classList.remove(t.deceleratingClass.up),n.classList.remove(t.deceleratingClass.down),n.classList.remove(t.deceleratingClass.left),n.classList.remove(t.deceleratingClass.right),this.velocity>0&&n.classList.add(e.right),this.velocity<0&&n.classList.add(e.left),this.velocityY>0&&n.classList.add(e.down),this.velocityY<0&&n.classList.add(e.up)},s.prototype._move=function(){var e=this._getScroller(),t=this,i=this.settings;i.x&&e.scrollWidth>0?(this.scrollLeft(this.scrollLeft()+this.velocity),Math.abs(this.velocity)>0&&(this.velocity=i.decelerate?t._decelerateVelocity(this.velocity,i.slowdown):this.velocity)):this.velocity=0,i.y&&e.scrollHeight>0?(this.scrollTop(this.scrollTop()+this.velocityY),Math.abs(this.velocityY)>0&&(this.velocityY=i.decelerate?t._decelerateVelocity(this.velocityY,i.slowdown):this.velocityY)):this.velocityY=0,t._setMoveClasses(i.deceleratingClass),"function"==typeof i.moved&&i.moved.call(this,i),Math.abs(this.velocity)>0||Math.abs(this.velocityY)>0?this.moving||(this.moving=!0,n((function(){t.moving=!1,t._move()}))):t.stop()},s.prototype._getScroller=function(){return this.el},s.prototype.scrollLeft=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollLeft;t.scrollLeft=e,this.settings.scrollLeft=e},s.prototype.scrollTop=function(e){var t=this._getScroller();if("number"!=typeof e)return t.scrollTop;t.scrollTop=e,this.settings.scrollTop=e},s.prototype._attachListeners=function(){var e=this.el,t=this.settings;i&&(e.addEventListener("touchstart",t.events.touchStart,!1),e.addEventListener("touchend",t.events.inputEnd,!1),e.addEventListener("touchmove",t.events.touchMove,!1)),e.addEventListener("mousedown",t.events.inputDown,!1),e.addEventListener("mouseup",t.events.inputEnd,!1),e.addEventListener("mousemove",t.events.inputMove,!1),e.addEventListener("click",t.events.inputClick,!1),e.addEventListener("scroll",t.events.scroll,!1),e.addEventListener("selectstart",t.events.selectStart,!1),e.addEventListener("dragstart",t.events.dragStart,!1)},s.prototype._detachListeners=function(){var e=this.el,t=this.settings;i&&(e.removeEventListener("touchstart",t.events.touchStart,!1),e.removeEventListener("touchend",t.events.inputEnd,!1),e.removeEventListener("touchmove",t.events.touchMove,!1)),e.removeEventListener("mousedown",t.events.inputDown,!1),e.removeEventListener("mouseup",t.events.inputEnd,!1),e.removeEventListener("mousemove",t.events.inputMove,!1),e.removeEventListener("click",t.events.inputClick,!1),e.removeEventListener("scroll",t.events.scroll,!1),e.removeEventListener("selectstart",t.events.selectStart,!1),e.removeEventListener("dragstart",t.events.dragStart,!1)},window.VanillaKinetic=s},function(e,t,n){var i,r,s;
/**
 * @fileoverview dragscroll - scroll area by dragging
 * @version 0.0.8
 *
 * @license MIT, see http://github.com/asvd/dragscroll
 * @copyright 2015 asvd <heliosframework@gmail.com>
 */r=[t],void 0===(s="function"==typeof(i=function(e){var t,n,i=window,r=document,s=[],o=function(e,o){for(e=0;e<s.length;)(o=(o=s[e++]).container||o).removeEventListener("mousedown",o.md,0),i.removeEventListener("mouseup",o.mu,0),i.removeEventListener("mousemove",o.mm,0);for(s=[].slice.call(r.getElementsByClassName("dragscroll")),e=0;e<s.length;)!function(e,s,o,a,c,l){(l=e.container||e).addEventListener("mousedown",l.md=function(t){e.hasAttribute("nochilddrag")&&r.elementFromPoint(t.pageX,t.pageY)!==l||(a=1,s=t.clientX,o=t.clientY,t.preventDefault())},0),i.addEventListener("mouseup",l.mu=function(){a=0},0),i.addEventListener("mousemove",l.mm=function(i){a&&((c=e.scroller||e).scrollLeft-=t=-s+(s=i.clientX),c.scrollTop-=n=-o+(o=i.clientY),e===r.body&&((c=r.documentElement).scrollLeft-=t,c.scrollTop-=n))},0)}(s[e++])};"complete"===r.readyState?o():i.addEventListener("load",o,0),e.reset=o,window.resetDragscroll=o})?i.apply(t,r):i)||(e.exports=s)},function(e,t,n){e.exports=function(e){function t(e){let n,r,s,o=null;function a(...e){if(!a.enabled)return;const i=a,r=Number(new Date),s=r-(n||r);i.diff=s,i.prev=n,i.curr=r,n=r,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let o=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,(n,r)=>{if("%%"===n)return"%";o++;const s=t.formatters[r];if("function"==typeof s){const t=e[o];n=s.call(i,t),e.splice(o,1),o--}return n}),t.formatArgs.call(i,e);(i.log||t.log).apply(i,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=i,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==o?o:(r!==t.namespaces&&(r=t.namespaces,s=t.enabled(e)),s),set:e=>{o=e}}),"function"==typeof t.init&&t.init(a),a}function i(e,n){const i=t(this.namespace+(void 0===n?":":n)+e);return i.log=this.log,i}function r(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){if(e instanceof Error)return e.stack||e.message;return e},t.disable=function(){const e=[...t.names.map(r),...t.skips.map(r).map(e=>"-"+e)].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const i=("string"==typeof e?e:"").split(/[\s,]+/),r=i.length;for(n=0;n<r;n++)i[n]&&("-"===(e=i[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,i;for(n=0,i=t.skips.length;n<i;n++)if(t.skips[n].test(e))return!1;for(n=0,i=t.names.length;n<i;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(83),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach(n=>{t[n]=e[n]}),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},function(e,t){var n=1e3,i=6e4,r=60*i,s=24*r;function o(e,t,n,i){var r=t>=1.5*n;return Math.round(e/n)+" "+i+(r?"s":"")}e.exports=function(e,t){t=t||{};var a=typeof e;if("string"===a&&e.length>0)return function(e){if((e=String(e)).length>100)return;var t=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!t)return;var o=parseFloat(t[1]);switch((t[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*o;case"weeks":case"week":case"w":return 6048e5*o;case"days":case"day":case"d":return o*s;case"hours":case"hour":case"hrs":case"hr":case"h":return o*r;case"minutes":case"minute":case"mins":case"min":case"m":return o*i;case"seconds":case"second":case"secs":case"sec":case"s":return o*n;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return o;default:return}}(e);if("number"===a&&isFinite(e))return t.long?function(e){var t=Math.abs(e);if(t>=s)return o(e,t,s,"day");if(t>=r)return o(e,t,r,"hour");if(t>=i)return o(e,t,i,"minute");if(t>=n)return o(e,t,n,"second");return e+" ms"}(e):function(e){var t=Math.abs(e);if(t>=s)return Math.round(e/s)+"d";if(t>=r)return Math.round(e/r)+"h";if(t>=i)return Math.round(e/i)+"m";if(t>=n)return Math.round(e/n)+"s";return e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(16),r=n(85),s=n(8),o=n(6);t.default=class{constructor(e,t,n){this.neonView=e,this.container=document.getElementById("container"),this.updateCallbacks=new Array(0),this.group=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.group.id="svg_group",this.group.setAttribute("height",window.innerHeight.toString()),this.group.setAttribute("width","100%"),this.bg=document.createElementNS("http://www.w3.org/2000/svg","image"),this.bg.id="bgimg",this.bg.classList.add("background"),this.bg.setAttribute("x","0"),this.bg.setAttribute("y","0");const i=new FileReader;fetch(n).then(e=>{if(e.ok)return i.addEventListener("load",()=>{this.bg.setAttributeNS("http://www.w3.org/1999/xlink","href",i.result.toString());const e=this.bg.getBBox();if(!this.group.hasAttribute("viewBox")){let{viewBox:t}=(0,o.getSettings)();t||(t="0 0 "+e.width.toString()+" "+e.height.toString()),this.group.setAttribute("viewBox",t)}}),e.blob()}).then(e=>{i.readAsDataURL(e)}),this.svg=document.createElementNS("http://www.w3.org/svg","svg"),this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page"),this.group.appendChild(this.bg),this.group.appendChild(this.svg),this.container.appendChild(this.group),this.zoomHandler=new r.default,this.displayPanel=new t(this,"neon-container","background",this.zoomHandler),this.pageURI=n,document.getElementById("loading").style.display="none"}onSVGLoad(){this.setViewEventHandlers(),this.displayPanel.setDisplayListeners()}updateSVG(e){this.group.replaceChild(e,this.svg),this.svg=e,this.svg.id="mei_output",this.svg.classList.add("neon-container","active-page");const t=parseInt(this.svg.getAttribute("height")),n=parseInt(this.svg.getAttribute("width"));this.bg.setAttribute("height",t.toString()),this.bg.setAttribute("width",n.toString());const{viewBox:r}=(0,o.getSettings)();r?this.group.setAttribute("viewBox",r):this.group.setAttribute("viewBox","0 0 "+n+" "+t),(0,i.updateHighlight)(),this.resetTransformations(),this.updateCallbacks.forEach(e=>e())}async changePage(e,t){const n=await this.neonView.getPageSVG(this.getCurrentPageURI());this.updateSVG(n)}addUpdateCallback(e){this.updateCallbacks.push(e)}removeUpdateCallback(e){const t=this.updateCallbacks.findIndex(t=>t===e);-1!==t&&this.updateCallbacks.splice(t,1)}resetTransformations(){this.displayPanel.zoomHandler.restoreTransformation(),(0,i.setGlyphOpacityFromSlider)(),(0,i.setBgOpacityFromSlider)()}getCurrentPage(){return 0}getCurrentPageURI(){return this.pageURI}setViewEventHandlers(){document.body.addEventListener("keydown",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),s.select("#svg_group").call(s.drag().on("start",this.displayPanel.zoomHandler.startDrag.bind(this.displayPanel.zoomHandler)).on("drag",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)));break;case"h":document.getElementById("mei_output").setAttribute("visibility","hidden")}}),document.body.addEventListener("keyup",e=>{switch(e.key){case"Shift":s.select("#svg_group").on(".drag",null),"viewer"!==this.neonView.getUserMode()&&this.neonView.NeumeEdit.setSelectListeners();break;case"h":document.getElementById("mei_output").setAttribute("visibility","visible")}}),s.select("#container").on("touchstart",()=>{2===s.event.touches.length&&(this.displayPanel.zoomHandler.startDrag(),s.select("#container").on("touchmove",this.displayPanel.zoomHandler.dragging.bind(this.displayPanel.zoomHandler)),s.select("#container").on("touchend",()=>{s.select("#container").on("touchmove",null)}))}),s.select("#container").on("wheel",this.displayPanel.zoomHandler.scrollZoom.bind(this.displayPanel.zoomHandler),!1),window.onresize=()=>{const e=window.innerHeight,t=document.getElementById("container");e>Number(t.getAttribute("height"))&&t.setAttribute("height",e.toString())}}getPageName(){return this.neonView.name}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.ZoomHandler=t.ViewBox=void 0;const i=n(8),r=n(6);class s{constructor(e,t){this.minX=0,this.minY=0,this.width=e,this.height=t,this.imageWidth=e,this.imageHeight=t}set(e,t,n,i){this.minX=e,this.minY=t,this.width=n,this.height=i}get(){return this.minX.toString()+" "+this.minY.toString()+" "+this.width+" "+this.height}zoomTo(e){const t=this.imageHeight/e,n=this.imageWidth/e;this.width=n,this.height=t}getZoom(){return this.imageWidth/this.width}translate(e,t){this.minX+=e,this.minY+=t}}t.ViewBox=s;class o{resetZoomAndPan(e=!0){const t=document.getElementById("bgimg");this.viewBox=new s(parseInt(t.getAttribute("width")),parseInt(t.getAttribute("height"))),e&&(this.updateSVGViewBox(),(0,r.setSettings)({zoom:100}))}zoomTo(e){this.setViewBox(),this.viewBox.zoomTo(e),this.updateSVGViewBox(),(0,r.setSettings)({zoom:Math.floor(100*e)})}translate(e,t){this.setViewBox(),this.viewBox.translate(e,t),this.updateSVGViewBox()}restoreTransformation(){void 0===this.viewBox?this.resetZoomAndPan(!1):this.updateSVGViewBox()}setViewBox(){if(void 0===this.viewBox){const e=document.getElementById("bgimg");this.viewBox=new s(parseInt(e.getAttribute("width")),parseInt(e.getAttribute("height")))}const e=document.getElementById("svg_group").getAttribute("viewBox").split(" ");this.viewBox.set(parseInt(e[0]),parseInt(e[1]),parseInt(e[2]),parseInt(e[3]))}updateSVGViewBox(){const e=this.viewBox.get();document.getElementById("svg_group").setAttribute("viewBox",e),(0,r.setSettings)({viewBox:e})}startDrag(){const e=document.getElementById("svg_group");this.dragCoordinates=e.createSVGPoint(),"touchstart"===i.event.type?(this.dragCoordinates.x=i.event.touches[0].screenX,this.dragCoordinates.y=i.event.touches[0].screenY):(this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y),this.matrix=e.getScreenCTM().inverse()}dragging(){const e=document.getElementById("svg_group"),t=e.createSVGPoint();"touchmove"===i.event.type?(t.x=i.event.touches[0].screenX,t.y=i.event.touches[0].screenY):"wheel"===i.event.type&&!1===i.event.shiftKey?(void 0===this.matrix&&(this.matrix=e.getScreenCTM().inverse()),void 0===this.dragCoordinates&&(this.dragCoordinates=e.createSVGPoint()),this.dragCoordinates.x=i.event.x,this.dragCoordinates.y=i.event.y,t.x=this.dragCoordinates.x-i.event.deltaX,t.y=this.dragCoordinates.y-i.event.deltaY,i.event.preventDefault()):(t.x=i.event.x,t.y=i.event.y);const n=t.matrixTransform(this.matrix),r=this.dragCoordinates.matrixTransform(this.matrix);this.translate(-n.x+r.x,-n.y+r.y),this.dragCoordinates=t}scrollZoom(){if("wheel"!==i.event.type)return;if(!i.event.shiftKey)return void this.dragging();const e=document.getElementById("zoomSlider");this.setViewBox();let t=this.viewBox.getZoom()-i.event.deltaX/100;t<parseInt(e.getAttribute("min"))/100&&(t=.25),t>parseInt(e.getAttribute("max"))/100&&(t=4),this.zoomTo(t),e.value=(100*t).toString(),document.getElementById("zoomOutput").value=String(Math.round(100*t))}}t.ZoomHandler=o,t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(50),r=n(26),s=n(51),o=n(13),a=n(16),c=n(18),l=n(7),u=n(52);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){document.getElementById("insert_controls").innerHTML+=l.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=l.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=u.undoRedoPanel,this.dragHandler=new c.default(this.neonView,".active-page > svg"),this.insertHandler=new s.default(this.neonView,".active-page > svg"),(0,i.bindInsertTabs)(this.insertHandler),document.getElementById("primitiveTab").click(),r.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),o.initNeonView(this.neonView),(0,i.initInsertEditControls)(),r.setSelectStrokeWidth(1),(0,i.initSelectionButtons)(),(0,a.setHighlightSelectionControls)(),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this)),document.getElementById("edit_controls").click()}getUserMode(){return void 0!==this.insertHandler?this.insertHandler.isInsertMode()?"insert":"edit":"viewer"}setSelectListeners(){r.clickSelect(".active-page > svg > svg, .active-page > svg > svg use, .active-page > svg > svg rect"),r.dragSelect(".active-page svg")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(50),r=n(16),s=n(53),o=n(26),a=n(51),c=n(13),l=n(18),u=n(7),d=n(52),h=n(53),f=n(6);t.default=class{constructor(e){this.neonView=e,this.initEditMode()}initEditMode(){(0,h.initNavbar)(this.neonView),document.getElementById("insert_controls").innerHTML+=u.insertControlsPanel,document.getElementById("edit_controls").innerHTML+=u.editControlsPanel,document.getElementById("undoRedo_controls").innerHTML=d.undoRedoPanel,this.dragHandler=new l.default(this.neonView,"#svg_group"),this.insertHandler=new a.default(this.neonView,"#svg_group"),(0,i.bindInsertTabs)(this.insertHandler),document.getElementById("primitiveTab").click(),o.setSelectHelperObjects(this.neonView,this.dragHandler),this.setSelectListeners(),c.initNeonView(this.neonView),(0,i.initInsertEditControls)(),(0,i.initSelectionButtons)(),(0,s.initUndoRedoPanel)(this.neonView),(0,r.setHighlightOption)("selection"),this.neonView.view.addUpdateCallback(this.setSelectListeners.bind(this));const{selectionMode:e}=(0,f.getSettings)();document.getElementById(e).click()}getUserMode(){return void 0!==this.insertHandler?this.insertHandler.isInsertMode()?"insert":"edit":"viewer"}setSelectListeners(){o.clickSelect("#svg_group, #svg_group use, #svg_group rect"),o.dragSelect("#svg_group")}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(6),r=new Map([["","Punctum"],["u","Pes"],["d","Clivis"],["uu","Scandicus"],["ud","Torculus"],["du","Porrectus"],["s","Distropha"],["ss","Tristopha"],["sd","Pressus"],["dd","Climacus"],["ddu","ClimacusResupinus"],["udu","TorculusResupinus"],["dud","PorrectusFlexus"],["udd","PesSubpunctis"],["uud","ScandicusFlexus"],["uudd","ScandicusSubpunctis"],["dudd","PorrectusSubpunctis"]]);function s(){const e=document.getElementById("neume_info"),t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),r=document.getElementById("displayBBox"),s=document.getElementById("displayText"),o=document.getElementById("display-errors");(0,i.setSettings)({displayInfo:n.checked}),n.checked?(e.setAttribute("style",""),(null==n?void 0:n.checked)&&(null==r?void 0:r.checked)&&(null==s?void 0:s.checked)&&(null==o?void 0:o.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All")):(e.setAttribute("style","display: none"),t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All"))}function o(){document.getElementById("neume_info").innerHTML='<div class="info-bubble-container">\n      <div class="info-bubble-header">Element Info</div>\n      <div class="info-bubble-body"><i>Hover over any element to see its metadata</i></div>\n    </div>',document.getElementById("neume_info").setAttribute("style","display: none"),function(){const{displayInfo:e}=(0,i.getSettings)();document.querySelector("#displayInfo").checked=e}(),s(),document.getElementById("displayInfo").addEventListener("click",s)}t.default=class{constructor(e){this.neonView=e;const t=document.getElementById("display-single-container"),n=document.createElement("label");n.classList.add("checkbox-container","side-panel-btn"),n.textContent="Info";const i=document.createElement("input");i.id="displayInfo",i.classList.add("checkbox"),i.type="checkbox",i.checked=!1,n.appendChild(i),t.prepend(n),this.neonView.view.addUpdateCallback(this.resetInfoListeners.bind(this)),o(),this.resetInfoListeners()}infoListeners(){try{document.getElementsByClassName("active-page")[0].querySelectorAll(".neume,.custos,.clef,.accid,.divLine").forEach(e=>{e.addEventListener("mouseover",this.updateInfo.bind(this))})}catch(e){}}stopListeners(){document.querySelectorAll(".neume,.custos,.clef,.accid,.divLine").forEach(e=>{e.removeEventListener("mouseover",this.updateInfo.bind(this))})}resetInfoListeners(){this.stopListeners(),this.infoListeners()}async updateInfo(e){const t=e.currentTarget.id;if(""===t)return Array.from(document.getElementById("neume_info").children).forEach(e=>{e.remove()}),void console.log("No id!");const n=document.getElementById(t),i=n.getAttribute("class").match(/neume|nc|clef|custos|staff|liquescent|accid|divLine/)[0];let r,s="";switch(i){case"neume":{const e=n.querySelectorAll(".nc");if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("a"===t.curve||"c"===t.curve){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Liquescent\r\nPitch(es): "+t;break}}let t=await this.getContour(e);if(1===e.length){const t=await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI());if("s"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Virga \r\nPitch(es): "+t;break}if("n"===t.tilt){let t=await this.getPitches(e);t=t.trim().toUpperCase(),s="Shape: Reversed Virga \r\nPitch(es): "+t;break}}if("Clivis"===t){(await this.neonView.getElementAttr(e[0].id,this.neonView.view.getCurrentPageURI())).ligated&&(t="Ligature")}let i=await this.getPitches(e);i=i.trim().toUpperCase(),s="Shape: "+(void 0===t?"Compound":t)+"\r\nPitch(es): "+i;break}case"custos":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="Pitch: "+r.pname.toUpperCase()+r.oct;break;case"accid":{r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());let e="";"F"==r.accid.toUpperCase()?e="Flat":"N"==r.accid.toUpperCase()&&(e="Natural"),s+="Accid Type: "+e;break}case"clef":{const e=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI());if(e["dis.place"]&&void 0!==e.dis){s+="Octave Displacement: "+((e,t)=>("above"===e?"+":"-")+String(Math.floor(Number(t)/7)))(e["dis.place"],e.dis)+"\r\n"}else s+="Octave Displacement: None\r\n";s+="Shape: "+e.shape+"\r\nLine: "+e.line;break}case"divLine":r=await this.neonView.getElementAttr(t,this.neonView.view.getCurrentPageURI()),s+="DivLine Type: "+r.form;break;default:s+="nothing"}s=`Type: ${i}\n${s}`,this.updateInfoModule(s)}async getPitches(e){let t="";for(const n of e){const e=await this.neonView.getElementAttr(n.id,this.neonView.view.getCurrentPageURI());t+=e.pname+e.oct+" "}return t}async getContour(e){let t="",n=null;for(const i of e){const e=await this.neonView.getElementAttr(i.id,this.neonView.view.getCurrentPageURI());null!==n&&(n.oct>e.oct?t+="d":n.oct<e.oct||this.pitchNameToNum(n.pname)<this.pitchNameToNum(e.pname)?t+="u":this.pitchNameToNum(n.pname)>this.pitchNameToNum(e.pname)?t+="d":t+="s"),n=e}return void 0===r.get(t)&&console.warn("Unknown contour: "+t),r.get(t)}updateInfoModule(e){document.getElementsByClassName("info-bubble-body")[0].innerText=e,document.getElementById("displayInfo").checked&&(document.getElementsByClassName("info-bubble-container")[0].style.display="")}pitchNameToNum(e){switch(e){case"c":return 1;case"d":return 2;case"e":return 3;case"f":return 4;case"g":return 5;case"a":return 6;case"b":return 7;default:console.log("Unknown pitch name")}}getContourByValue(e){for(const[t,n]of r.entries())if(n===e)return t}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;const i=n(4),r=n(3),s=n(16),o=n(6);t.default=class{constructor(e){this.neonView=e,this.notificationSent=!1;const t=document.getElementById("display-single-container"),n=document.createElement("label"),i=document.createElement("label"),r=document.createElement("input"),s=document.createElement("input");r.classList.add("checkbox"),s.classList.add("checkbox"),n.classList.add("checkbox-container","side-panel-btn"),i.classList.add("checkbox-container","side-panel-btn"),n.textContent="Text",i.textContent="BBoxes",r.id="displayText",r.type="checkbox",s.id="displayBBox",s.type="checkbox",r.checked=!1,s.checked=!1,n.appendChild(r),i.appendChild(s),t.prepend(i),t.prepend(n),this.loadSettings(),this.setTextViewControls(),this.neonView.view.addUpdateCallback(this.updateTextViewVisibility.bind(this)),this.neonView.view.addUpdateCallback(this.updateBBoxViewVisibility.bind(this))}setTextViewControls(){this.updateTextViewVisibility(),this.updateBBoxViewVisibility(),document.getElementById("displayText").addEventListener("click",function(){this.updateTextViewVisibility()}.bind(this)),document.getElementById("displayBBox").addEventListener("click",function(){this.updateBBoxViewVisibility()}.bind(this))}loadSettings(){const{displayText:e,displayBBox:t}=(0,o.getSettings)();document.querySelector("#displayText").checked=e,document.querySelector("#displayBBox").checked=t}updateBBoxViewVisibility(){var e;const t=document.getElementById("display-all-btn"),n=document.getElementById("displayInfo"),i=document.getElementById("displayBBox"),a=document.getElementById("displayText"),c=document.getElementById("display-errors");if((0,o.setSettings)({displayBBox:i.checked}),i.checked)document.querySelectorAll(".sylTextRect").forEach(e=>{e.classList.add("sylTextRect-display"),e.classList.remove("sylTextRect")}),document.querySelectorAll(".syl.selected .sylTextRect-display").forEach(e=>{e.style.fill="red"}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit&&this.neonView.TextEdit.initSelectByBBoxButton(),(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==a?void 0:a.checked)&&(null==c?void 0:c.checked)&&(t.classList.add("selected"),t.innerHTML="Hide All");else{(null===(e=document.getElementById("selByBBox"))||void 0===e?void 0:e.classList.contains("is-active"))&&((0,r.unselect)(),document.getElementById("selByBBox").classList.remove("is-active"),document.getElementById("selBySyllable").classList.add("is-active")),document.querySelectorAll(".sylTextRect-display").forEach(e=>{e.classList.add("sylTextRect"),e.classList.remove("sylTextRect-display")}),document.querySelectorAll(".syl.selected .sylTextRect").forEach(e=>{e.style.fill="none"});try{document.getElementById("selByBBox").style.display="none"}catch(e){}t.classList.contains("selected")&&(t.classList.remove("selected"),t.innerHTML="Display All")}(0,s.updateHighlight)()}updateTextViewVisibility(){const e=document.getElementById("display-all-btn"),t=document.getElementById("displayInfo"),n=document.getElementById("displayBBox"),i=document.getElementById("displayText"),r=document.getElementById("display-errors");if((0,o.setSettings)({displayText:i.checked}),i.checked){const s=document.getElementById("syl_text");s.style.display="",s.innerHTML=`<div class="info-bubble-container">\n          <div class="info-bubble-header">Syllables on this page</div>\n          <div class="info-bubble-body">${this.getSylText()}</div>\n        </div>`;s.querySelectorAll("span").forEach(e=>{const t=document.getElementById(e.classList[0]),n=t.querySelector(".syl"),i=n.querySelector("text"),r=n.querySelector("rect");0===i.classList.length&&i.classList.add("text"),e.addEventListener("mouseover",()=>{t.classList.contains("syllable-highlighted")||(t.classList.add("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.add("selected")}),null!==r&&(r.style.fill="#d00"))}),e.addEventListener("mouseleave",()=>{t.classList.contains("syllable-highlighted")||(t.classList.remove("selected"),t.querySelectorAll(".neume").forEach(e=>{e.classList.remove("selected")}),null!==r&&("rgb(0, 0, 0)"!==t.style.fill?r.style.fill=t.getAttribute("fill"):r.style.fill="blue"))})}),"viewer"!==this.neonView.getUserMode()&&void 0!==this.neonView.TextEdit&&this.neonView.TextEdit.initTextEdit(),(null==t?void 0:t.checked)&&(null==n?void 0:n.checked)&&(null==i?void 0:i.checked)&&(null==r?void 0:r.checked)&&(e.classList.add("selected"),e.innerHTML="Hide All")}else document.getElementById("syl_text").style.display="none",e.classList.contains("selected")&&(e.classList.remove("selected"),e.innerHTML="Display All")}getSylText(){let e="";return document.querySelectorAll(".active-page .syllable").forEach(t=>{if(null!==t.querySelector(".syl")){const n=t.querySelector(".syl");e+=`<span class="${t.id} syl-text-side-panel">`,""===n.textContent.trim()?e+="&#x25CA; ":Array.from(n.children[0].children[0].children).forEach(t=>{e+=""!==t.textContent?t.textContent:"&#x25CA; "}),e+=" </span>"}}),this.notificationSent||(i.queueNotification("Blank syllables are represented by ◊!"),this.notificationSent=!0),e.replace(/\ue551/g,"-")}}},,,,function(e,t,n){"use strict";n.r(t);n(80),n(81);function i(e){const t=document.createElement(e),n=Array.prototype.slice.call(arguments,1);for(;n.length;){r(t,n.shift())}return t}function r(e,t){if(null!=t)if("object"!=typeof t&&"function"!=typeof t)e.appendChild(document.createTextNode(t));else if(t instanceof window.Node)e.appendChild(t);else if(t instanceof Array){const n=t.length;for(let i=0;i<n;i++)r(e,t[i])}else s(e,t)}function s(e,t){for(const n in t)t.hasOwnProperty(n)&&("style"===n?o(e,t.style):e.setAttribute(n,t[n]))}function o(e,t){if(t)if("object"==typeof t)for(const n in t)t.hasOwnProperty(n)&&(e.style[n]=t[n]);else e.style.cssText=t}function a(e){this.name="DivaParentElementNotFoundException",this.message=e,this.stack=(new Error).stack}function c(e){this.name="NotAnIIIFManifestException",this.message=e,this.stack=(new Error).stack}function l(e){this.name="ObjectDataNotSuppliedException",this.message=e,this.stack=(new Error).stack}a.prototype=new Error,c.prototype=new Error,l.prototype=new Error;var u={Events:new class{constructor(){this._cache={}}publish(e,t,n){if(this._cache[e]){const i=this._cache[e];if(void 0!==i.global){const e=i.global,r=e.length;for(let i=0;i<r;i++)e[i].apply(n||null,t||[])}if(n&&void 0!==n.getInstanceId){const i=n.getInstanceId();if(this._cache[e][i]){const r=this._cache[e][i],s=r.length;for(let e=0;e<s;e++)r[e].apply(n,t||[])}}}}subscribe(e,t,n){return this._cache[e]||(this._cache[e]={}),"string"==typeof n?(this._cache[e][n]||(this._cache[e][n]=[]),this._cache[e][n].push(t)):(this._cache[e].global||(this._cache[e].global=[]),this._cache[e].global.push(t)),n?[e,t,n]:[e,t]}unsubscribe(e,t){const n=e[0];if(this._cache[n]){let i;const r=3===e.length?e[2]:"global";if(i=this._cache[n][r],!i)return!1;if(t)return delete this._cache[n][r],i.length>0;let s=i.length;for(;s--;)if(i[s]===e[1])return this._cache[n][r].splice(s,1),!0}return!1}unsubscribeAll(e){if(e){const t=Object.keys(this._cache);let n,i=t.length;for(;i--;)n=t[i],void 0!==this._cache[n][e]&&delete this._cache[n][e]}else this._cache={}}}};var d={onDoubleClick:function(e,t){e.addEventListener("dblclick",(function(e){e.ctrlKey||t(e,p(e.currentTarget,e))}));const n=f(500);e.addEventListener("contextmenu",(function(e){e.preventDefault(),e.ctrlKey&&(n.isTriggered()?(n.reset(),t(e,p(e.currentTarget,e))):n.trigger())}))},onPinch:function(e,t){let n=0;e.addEventListener("touchstart",(function(e){e.preventDefault(),2===e.originalEvent.touches.length&&(n=h(e.originalEvent.touches[0].clientX,e.originalEvent.touches[0].clientY,e.originalEvent.touches[1].clientX,e.originalEvent.touches[1].clientY))})),e.addEventListener("touchmove",(function(e){if(e.preventDefault(),2===e.originalEvent.touches.length){const i=e.originalEvent.touches,r=h(i[0].clientX,i[0].clientY,i[1].clientX,i[1].clientY),s=r-n;if(Math.abs(s)>0){const s={pageX:(i[0].clientX+i[1].clientX)/2,pageY:(i[0].clientY+i[1].clientY)/2};t(e,p(e.currentTarget,s),n,r)}}}))},onDoubleTap:function(e,t){const n=f(250);let i=null;e.addEventListener("touchend",e=>{if(e.preventDefault(),n.isTriggered()){n.reset();const r={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY};h(i.pageX,i.pageY,r.pageX,r.pageY)<50&&t(e,p(e.currentTarget,r)),i=null}else i={pageX:e.originalEvent.changedTouches[0].clientX,pageY:e.originalEvent.changedTouches[0].clientY},n.trigger()})}};function h(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))}function f(e){let t=!1,n=null;return{trigger(){t=!0,i(),n=setTimeout((function(){t=!1,n=null}),e)},isTriggered:()=>t,reset(){t=!1,i()}};function i(){null!==n&&(clearTimeout(n),n=null)}}function p(e,t){const n=e.getBoundingClientRect();return{left:t.pageX-n.left,top:t.pageY-n.top}}var g=n(32);class v{constructor(e,t){this.page=e,this._viewerCore=t,this._innerElement=this._viewerCore.getSettings().innerElement,this._pageToolsElem=null,this.labelWidth=0}mount(){null===this._pageToolsElem&&(this._buttons=this._initializePageToolButtons(),this._pageToolsElem=i("div",{class:"diva-page-tools-wrapper"},i("div",{class:"diva-page-tools"},this._buttons)),this._pageLabelsElem=i("div",{class:"diva-page-labels-wrapper"},i("div",{class:"diva-page-labels"},this._viewerCore.settings.manifest.pages[this.page].l))),this.refresh(),this._innerElement.appendChild(this._pageToolsElem),this._innerElement.appendChild(this._pageLabelsElem)}_initializePageToolButtons(){const e=this._viewerCore.getSettings(),t=this._viewerCore.getPublicInstance(),n=this.page;return this._viewerCore.getPageTools().map(i=>{const r=i.pageToolsIcon.cloneNode(!0);return r.addEventListener("click",r=>{i.handleClick.call(i,r,e,t,n)},!1),r.addEventListener("touchend",r=>{r.preventDefault(),i.handleClick.call(i,r,e,t,n)},!1),r})}unmount(){this._innerElement.removeChild(this._pageToolsElem),this._innerElement.removeChild(this._pageLabelsElem)}refresh(){const e=this._viewerCore.getPageRegion(this.page,{includePadding:!0,incorporateViewport:!0});let t=window.getComputedStyle(this._innerElement,null).getPropertyValue("margin-left");this._pageToolsElem.style.top=e.top+"px",this._pageToolsElem.style.left=e.left-parseInt(t)+"px",this._pageLabelsElem.style.top=e.top+"px",this._pageLabelsElem.style.left=e.right-parseInt(t)-this.labelWidth-5+"px"}}class m{constructor(e){if(this._viewerCore=e,this._viewerState=e.getInternalState(),this._overlays=[],this._viewerCore.getPageTools().length){const t=e.getSettings().numPages;for(let n=0;n<t;n++){const t=new v(n,e);this._overlays.push(t),this._viewerCore.addPageOverlay(t);let i=document.createElement("span");i.innerHTML=e.settings.manifest.pages[n].l,i.classList.add("diva-page-labels"),i.setAttribute("style","display: inline-block;"),document.body.appendChild(i);let r=i.clientWidth;document.body.removeChild(i),t.labelWidth=r}}}onDoubleClick(e,t){const n=this._viewerCore.getSettings(),i=e.ctrlKey?n.zoomLevel-1:n.zoomLevel+1,r=this._viewerCore.getPagePositionAtViewportOffset(t);this._viewerCore.zoom(i,r)}onPinch(e,t,n,i){const r=this._viewerCore.getInternalState(),s=this._viewerCore.getSettings();let o=Math.log(Math.pow(2,s.zoomLevel)*i/(n*Math.log(2)))/Math.log(2);if(o=Math.max(s.minZoomLevel,o),o=Math.min(s.maxZoomLevel,o),o===s.zoomLevel)return;const a=this._viewerCore.getPagePositionAtViewportOffset(t),c=this._viewerCore.getCurrentLayout().getPageToViewportCenterOffset(a.anchorPage,r.viewport),l=1/Math.pow(2,s.zoomLevel-o);this._viewerCore.reload({zoomLevel:o,goDirectlyTo:a.anchorPage,horizontalOffset:c.x-a.offset.left+a.offset.left*l,verticalOffset:c.y-a.offset.top+a.offset.top*l})}onViewWillLoad(){this._viewerCore.publish("DocumentWillLoad",this._viewerCore.getSettings())}onViewDidLoad(){this._handleZoomLevelChange();const e=this._viewerCore.getSettings().activePageIndex,t=this._viewerCore.getPageName(e);this._viewerCore.publish("DocumentDidLoad",e,t)}onViewDidUpdate(e,t){const n=null!==t?t:function(e,t,n){const i=n.top+n.height/2,r=n.left+n.width/2,s=Object(g.maxBy)(e,e=>{const n=t.getPageDimensions(e),s=t.getPageOffset(e,{includePadding:!0}),o=s.left+n.width/2,a=s.top+n.height/2,c=Math.max(Math.abs(r-o)-n.width/2,0),l=Math.max(Math.abs(i-a)-n.height/2,0);return-(c*c+l*l)});return null!=s?s:null}(e,this._viewerCore.getCurrentLayout(),this._viewerCore.getViewport());let i=this._viewerState.viewport.intersectionTolerance;this._viewerState.viewport.intersectionTolerance=0;let r=e.filter(e=>this._viewerState.renderer.isPageVisible(e));this._viewerState.viewport.intersectionTolerance=i,null!==n&&this._viewerCore.setCurrentPages(n,r),null!==t&&this._viewerCore.publish("ViewerDidJump",t),this._handleZoomLevelChange()}_handleZoomLevelChange(){const e=this._viewerState,t=e.options.zoomLevel;e.oldZoomLevel!==t&&e.oldZoomLevel>=0&&(e.oldZoomLevel<t?this._viewerCore.publish("ViewerDidZoomIn",t):this._viewerCore.publish("ViewerDidZoomOut",t),this._viewerCore.publish("ViewerDidZoom",t)),e.oldZoomLevel=t}destroy(){this._overlays.forEach(e=>{this._viewerCore.removePageOverlay(e)},this)}}class y{constructor(e){this._viewerCore=e}onDoubleClick(e,t){const n=this._viewerCore.getPagePositionAtViewportOffset(t),i=this._viewerCore.getCurrentLayout(),r=this._viewerCore.getViewport(),s=i.getPageToViewportCenterOffset(n.anchorPage,r);this._viewerCore.reload({inGrid:!1,goDirectlyTo:n.anchorPage,horizontalOffset:s.x+n.offset.left,verticalOffset:s.y+n.offset.top})}onPinch(){this._viewerCore.reload({inGrid:!1})}onViewWillLoad(){}onViewDidLoad(){}onViewDidUpdate(e,t){if(0===e.length)return;let n=this._viewerCore.viewerState.viewport.intersectionTolerance;this._viewerCore.viewerState.viewport.intersectionTolerance=0;let i=e.filter(e=>this._viewerCore.viewerState.renderer.isPageVisible(e));if(this._viewerCore.viewerState.viewport.intersectionTolerance=n,null!==t)return void this._viewerCore.setCurrentPages(t,i);const r=this._viewerCore.getCurrentLayout(),s=[];e.forEach(e=>{const t=r.getPageInfo(e).group;0!==s.length&&t===s[s.length-1]||s.push(t)});const o=this._viewerCore.getViewport();let a;a=1===s.length||s[0].region.top>=o.top?s[0]:s[1].region.bottom<=o.bottom?s[1]:function(e,t){const n=t.top+t.height/2;return Object(g.maxBy)(e,e=>{const t=e.region.top+e.dimensions.height/2;return-Math.abs(n-t)})}(s,o);const c=this._viewerCore.getSettings().activePageIndex;a.pages.some(e=>e.index===c)||this._viewerCore.setCurrentPages(a.pages[0].index,i)}destroy(){}}class b{constructor(){this._pages={},this._renderedPages=[],this._renderedPageMap={}}addOverlay(e){(this._pages[e.page]||(this._pages[e.page]=[])).push(e),this._renderedPageMap[e.page]&&e.mount()}removeOverlay(e){const t=e.page,n=this._pages[t];if(!n)return;const i=n.indexOf(e);-1!==i&&(this._renderedPageMap[t]&&n[i].unmount(),n.splice(i,1),0===n.length&&delete this._pages[t])}updateOverlays(e){const t=this._renderedPages,n={};e.map(e=>{n[e]=!0,this._renderedPageMap[e]||(this._renderedPageMap[e]=!0,this._invokeOnOverlays(e,e=>{e.mount()}))}),t.map(e=>{n[e]?this._invokeOnOverlays(e,e=>{e.refresh()}):(delete this._renderedPageMap[e],this._invokeOnOverlays(e,e=>{e.unmount()}))}),this._renderedPages=e}_invokeOnOverlays(e,t){const n=this._pages[e];n&&n.map(e=>t(e))}}class w{constructor(e,t){this._rows=e,this._cols=t,this._map=new Array(e).fill(null).map(()=>new Array(t).fill(!1))}isLoaded(e,t){return e>=this._rows||t>=this._cols||this._map[e][t]}set(e,t,n){this._map[e][t]=n}}class _{constructor(e){this._levels=e;const t=this._urlsToTiles={};e.forEach(e=>{e.tiles.forEach(n=>{t[n.url]={zoomLevel:e.zoomLevel,row:n.row,col:n.col}})}),this.clear()}clear(){const e=this._loadedByLevel={};this._levels.forEach(t=>{e[t.zoomLevel]=new w(t.rows,t.cols)})}getTiles(e){const t=[],n=this._levels[0].zoomLevel,i=new w(this._levels[0].rows,this._levels[0].cols);let r;if(null===e)r=0;else{const t=Math.ceil(e);r=function(e,t){const n=e.length;for(let i=0;i<n;i++)if(t(e[i],i))return i;return-1}(this._levels,e=>e.zoomLevel<=t)}this._levels.slice(0,r+1).reverse().concat(this._levels.slice(r+1)).forEach(e=>{const r=this._loadedByLevel[e.zoomLevel];let s=e.tiles.filter(e=>r.isLoaded(e.row,e.col));const o=Math.pow(2,n-e.zoomLevel);s=s.filter(e=>{let t=!1;const n=e.row*o,r=e.col*o;for(let e=0;e<o;e++)for(let s=0;s<o;s++)i.isLoaded(n+e,r+s)||(t=!0,i.set(n+e,r+s,!0));return t}),t.push(s)},this),t.reverse();const s=[];return t.forEach(e=>{s.push.apply(s,e)}),s}updateFromCache(e){this.clear(),this._levels.forEach(t=>{const n=this._loadedByLevel[t.zoomLevel];t.tiles.forEach(t=>{e.has(t.url)&&n.set(t.row,t.col,!0)})},this)}updateWithLoadedUrls(e){e.forEach(e=>{const t=this._urlsToTiles[e];this._loadedByLevel[t.zoomLevel].set(t.row,t.col,!0)},this)}}class E{constructor(e,t){const n=function(e,t){const n=null===t?e.pageLayouts:function(e,t){const n=Math.pow(2,t-e.maxZoomLevel);return e.pageLayouts.map(e=>({dimensions:x(e.dimensions,n),pages:e.pages.map(e=>({index:e.index,groupOffset:{top:Math.floor(e.groupOffset.top*n),left:Math.floor(e.groupOffset.left*n)},dimensions:x(e.dimensions,n)}))}))}(e,t),i=function(e,t){let n,i;const r=e.padding.document;e.verticallyOriented?(n="width",i=r.left+r.right):(n="height",i=r.top+r.bottom);return i+t.reduce((e,t)=>Math.max(t.dimensions[n],e),0)}(e,n);let r=e.verticallyOriented?e.padding.document.top:e.padding.document.left;const s=[],o={top:e.padding.page.top,left:e.padding.page.left};let a,c;n.forEach((t,n)=>{let a,c;e.verticallyOriented?(a=r,c=(i-t.dimensions.width)/2):(a=(i-t.dimensions.height)/2,c=r);const l={top:a,bottom:a+o.top+t.dimensions.height,left:c,right:c+o.left+t.dimensions.width};s.push({index:n,dimensions:t.dimensions,pages:t.pages,region:l,padding:o}),r=e.verticallyOriented?l.bottom:l.right}),e.verticallyOriented?(a=r+o.top,c=i):(a=i,c=r+o.left);return{dimensions:{height:a,width:c},pageGroups:s}}(e,t);this.dimensions=n.dimensions,this.pageGroups=n.pageGroups,this._pageLookup=function(e){const t={};return e.forEach(e=>{e.pages.forEach(n=>{t[n.index]={index:n.index,group:e,dimensions:n.dimensions,groupOffset:n.groupOffset}})}),t}(n.pageGroups)}getPageInfo(e){return this._pageLookup[e]||null}getPageDimensions(e){if(!this._pageLookup||!this._pageLookup[e])return null;const t=S(this._pageLookup[e]);return{height:t.bottom-t.top,width:t.right-t.left}}getPageOffset(e,t){const n=this.getPageRegion(e,t);return n?{top:n.top,left:n.left}:null}getPageRegion(e,t){const n=this._pageLookup[e];if(!n)return null;const i=S(n),r=n.group.padding;return t&&t.includePadding?{top:i.top+r.top,left:i.left+r.left,bottom:i.bottom,right:i.right}:{top:i.top,left:i.left,bottom:i.bottom+r.top,right:i.right}}getPageToViewportCenterOffset(e,t){const n=t.left,i=t.right-t.left,r=this.getPageOffset(e),s=n-r.left+parseInt(i/2,10),o=t.top,a=t.bottom-t.top;return{x:s,y:o-r.top+parseInt(a/2,10)}}}function S(e){const t=e.groupOffset.top+e.group.region.top,n=t+e.dimensions.height,i=e.groupOffset.left+e.group.region.left;return{top:t,bottom:n,left:i,right:i+e.dimensions.width}}function x(e,t){return{height:Math.floor(e.height*t),width:Math.floor(e.width*t)}}const L=n(49)("diva:ImageCache");class k{constructor(e){e=e||{maxKeys:100},this.maxKeys=e.maxKeys||100,this._held={},this._urls={},this._lru=[]}get(e){const t=this._urls[e];return t?t.img:null}has(e){return!!this._urls[e]}put(e,t){let n=this._urls[e];n?(n.img=t,this._promote(n)):(n={img:t,url:e},this._urls[e]=n,this._tryEvict(1),this._lru.unshift(n))}_promote(e){const t=this._lru.indexOf(e);this._lru.splice(t,1),this._lru.unshift(e)}_tryEvict(e){const t=this.maxKeys-e;if(this._lru.length<=t)return;let n=this._lru.length-1;for(;;){const e=this._lru[n];if(!this._held[e.url]&&(L("Evicting image %s",e.url),this._lru.splice(n,1),delete this._urls[e.url],this._lru.length<=t))break;if(0===n){L.enabled&&L("Cache overfull by %s (all entries are being held)",this._lru.length-t);break}n--}}acquire(e){this._held[e]=(this._held[e]||0)+1,this._promote(this._urls[e])}release(e){this._held[e]>1?this._held[e]--:delete this._held[e],this._tryEvict(0)}}class A{constructor(e){this._url=e.url,this._callback=e.load,this._errorCallback=e.error,this.timeoutTime=e.timeoutTime||0,this._aborted=this._complete=!1,this._crossOrigin=e.settings.imageCrossOrigin,this.timeout=setTimeout(()=>{this._image=new Image,this._image.crossOrigin=this._crossOrigin,this._image.onload=this._handleLoad.bind(this),this._image.onerror=this._handleError.bind(this),this._image.src=e.url},this.timeoutTime)}abort(){clearTimeout(this.timeout),this._image&&(this._image.onload=this._image.onerror=null,this._image.src=""),this._aborted=!0}_handleLoad(){this._aborted?console.error("ImageRequestHandler invoked on cancelled request for "+this._url):this._complete?console.error("ImageRequestHandler invoked on completed request for "+this._url):(this._complete=!0,this._callback(this._image))}_handleError(){this._errorCallback(this._image)}}var C={animate:function(e){const t=e.duration,n=e.parameters,i=e.onUpdate,r=e.onEnd,s=I(),o=s+t,a={},c={},l=Object.keys(n);l.forEach(e=>{const t=n[e];a[e]=function(e,t,n){return i=>e+(t-e)*n(i)}(t.from,t.to,t.easing||P)});let u=requestAnimationFrame((function e(){const n=I();(function(e){l.forEach(t=>{c[t]=a[t](e)})})(Math.min((n-s)/t,1)),i(c),n<o?u=requestAnimationFrame(e):d({interrupted:!1})}));return{cancel(){null!==u&&(cancelAnimationFrame(u),d({interrupted:!0}))}};function d(e){u=null,r&&r(e)}},easing:{linear:function(e){return e},cubic:P}};let I;function P(e){return e<.5?4*e*e*e:(e-1)*(2*e-2)*(2*e-2)+1}I="undefined"!=typeof performance&&performance.now?()=>performance.now():()=>Date.now();class O{constructor(e,t){this._viewport=e.viewport,this._outerElement=e.outerElement,this._documentElement=e.innerElement,this._settings=e.settings,this._hooks=t||{},this._canvas=i("canvas",{class:"diva-viewer-canvas"}),this._ctx=this._canvas.getContext("2d"),this.layout=null,this._sourceResolver=null,this._renderedPages=null,this._config=null,this._zoomLevel=null,this._compositeImages=null,this._renderedTiles=null,this._animation=null,this._cache=new k,this._pendingRequests={}}static getCompatibilityErrors(){return"undefined"!=typeof HTMLCanvasElement?null:["Your browser lacks support for the ",i("pre","canvas")," element. Please upgrade your browser."]}load(e,t,n){if(this._clearAnimation(),this._hooks.onViewWillLoad&&this._hooks.onViewWillLoad(),this._sourceResolver=n,this._config=e,this._compositeImages={},this._setLayoutToZoomLevel(t.zoomLevel),!this.layout.getPageInfo(t.anchorPage))throw new Error("invalid page: "+t.anchorPage);this._canvas.width===this._viewport.width&&this._canvas.height===this._viewport.height||(this._canvas.width=this._viewport.width,this._canvas.height=this._viewport.height),this.goto(t.anchorPage,t.verticalOffset,t.horizontalOffset),this._canvas.parentNode!==this._outerElement&&this._outerElement.insertBefore(this._canvas,this._outerElement.firstChild),this._hooks.onViewDidLoad&&this._hooks.onViewDidLoad()}_setViewportPosition(e){if(e.zoomLevel!==this._zoomLevel){if(null===this._zoomLevel)throw new TypeError("The current view is not zoomable");if(null===e.zoomLevel)throw new TypeError("The current view requires a zoom level");this._setLayoutToZoomLevel(e.zoomLevel)}this._goto(e.anchorPage,e.verticalOffset,e.horizontalOffset)}_setLayoutToZoomLevel(e){this.layout=new E(this._config,e),this._zoomLevel=e,s(this._documentElement,{style:{height:this.layout.dimensions.height+"px",width:this.layout.dimensions.width+"px"}}),this._viewport.setInnerDimensions(this.layout.dimensions)}adjust(){this._clearAnimation(),this._render(),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}_render(){const e=[];this.layout.pageGroups.forEach(t=>{if(!this._viewport.intersectsRegion(t.region))return;const n=t.pages.filter((function(e){return this.isPageVisible(e.index)}),this).map(e=>e.index);e.push.apply(e,n)},this),this._ctx.clearRect(0,0,this._canvas.width,this._canvas.height),this._paintOutline(e),e.forEach(e=>{if(!this._compositeImages[e]){const t=this.layout.getPageInfo(e),n=this._sourceResolver.getAllZoomLevelsForPage(t),i=new _(n);i.updateFromCache(this._cache),this._compositeImages[e]=i}},this),this._initiateTileRequests(e);const t=T(this._renderedPages||[],e);t.removed.forEach(e=>{delete this._compositeImages[e]},this),this._renderedPages=e,this._paint(),this._hooks.onPageWillLoad&&t.added.forEach(e=>{this._hooks.onPageWillLoad(e)},this)}_paint(){const e=[];this._renderedPages.forEach(t=>{this._compositeImages[t].getTiles(this._zoomLevel).forEach(n=>{const i=B(n,this._zoomLevel);this._isTileVisible(t,i)&&(e.push(n.url),this._drawTile(t,i,this._cache.get(n.url)))})});const t=this._cache,n=T(this._renderedTiles||[],e);n.added.forEach(e=>{t.acquire(e)}),n.removed.forEach(e=>{t.release(e)}),n.removed&&this._renderedPages.forEach(e=>{this._compositeImages[e].updateFromCache(this._cache)},this),this._renderedTiles=e}_paintOutline(e){e.forEach(e=>{let t=this.layout.getPageInfo(e),n=this._getImageOffset(e),i=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),r=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),s=n.left-this._viewport.left+i,o=n.top-this._viewport.top+r,a=s<0?-s:0,c=o<0?-o:0,l=Math.max(0,s),u=Math.max(0,o),d=t.dimensions.width-a,h=t.dimensions.height-c;this._ctx.strokeStyle="#AAA",this._ctx.strokeRect(l+.5,u+.5,d,h)})}_initiateTileRequests(e){const t={},n=(e,n)=>{const i=this._compositeImages[n];t[e.url]=new A({url:e.url,timeoutTime:250,settings:this._settings,load:t=>{delete this._pendingRequests[e.url],this._cache.put(e.url,t),i===this._compositeImages[n]?(i.updateWithLoadedUrls([e.url]),this._isTileForSourceVisible(n,e)&&this._paint()):this._isTileForSourceVisible(n,e)&&this._paint()},error:()=>{delete this._pendingRequests[e.url]}})};for(let i=0;i<e.length;i++){const r=e[i],s=this._sourceResolver.getBestZoomLevelForPage(this.layout.getPageInfo(r)).tiles;for(let e=0;e<s.length;e++){const i=s[e];!this._cache.has(i.url)&&this._isTileForSourceVisible(r,i)&&(this._pendingRequests[i.url]?(t[i.url]=this._pendingRequests[i.url],delete this._pendingRequests[i.url]):n(i,r))}}for(const e in this._pendingRequests)this._pendingRequests[e].abort();this._pendingRequests=t}_drawTile(e,t,n){let i=this._getTileToDocumentOffset(e,t),r=Math.max(0,(this._viewport.width-this.layout.dimensions.width)/2),s=Math.max(0,(this._viewport.height-this.layout.dimensions.height)/2),o=i.left-this._viewport.left+r,a=i.top-this._viewport.top+s,c=o<0?-o:0,l=a<0?-a:0,u=Math.max(0,o),d=Math.max(0,a),h=c/t.scaleRatio,f=l/t.scaleRatio,p=Math.min(t.dimensions.width,n.width*t.scaleRatio)-c,g=Math.min(t.dimensions.height,n.height*t.scaleRatio)-l,v=Math.max(1,Math.round(p)),m=Math.max(1,Math.round(g)),y=v/t.scaleRatio,b=m/t.scaleRatio;this._ctx.drawImage(n,h,f,y,b,u,d,v,m)}_isTileForSourceVisible(e,t){return this._isTileVisible(e,B(t,this._zoomLevel))}_isTileVisible(e,t){const n=this._getTileToDocumentOffset(e,t);return this._viewport.intersectsRegion({top:n.top,bottom:n.top+t.dimensions.height,left:n.left,right:n.left+t.dimensions.width})}_getTileToDocumentOffset(e,t){const n=this._getImageOffset(e);return{top:n.top+t.offset.top,left:n.left+t.offset.left}}_getImageOffset(e){return this.layout.getPageOffset(e,{includePadding:!0})}goto(e,t,n){this._clearAnimation(),this._goto(e,t,n),this._hooks.onViewDidUpdate&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),e)}_goto(e,t,n){const i=this.layout.getPageOffset(e),r=i.top+t-Math.round(this._viewport.height/2),s=i.left+n-Math.round(this._viewport.width/2);this._viewport.top=r,this._viewport.left=s,this._render()}transitionViewportPosition(e){this._clearAnimation();const t=e.getPosition,n=this._hooks.onViewDidTransition;this._animation=C.animate({duration:e.duration,parameters:e.parameters,onUpdate:e=>{this._setViewportPosition(t(e)),this._hooks.onZoomLevelWillChange(e.zoomLevel),n&&n()},onEnd:t=>{e.onEnd&&e.onEnd(t),this._hooks.onViewDidUpdate&&!t.interrupted&&this._hooks.onViewDidUpdate(this._renderedPages.slice(),null)}})}_clearAnimation(){this._animation&&(this._animation.cancel(),this._animation=null)}isPageVisible(e){if(!this.layout)return!1;return!!this.layout.getPageInfo(e)&&this._viewport.intersectsRegion(this.layout.getPageRegion(e))}getRenderedPages(){return this._renderedPages.slice()}destroy(){this._clearAnimation(),Object.keys(this._pendingRequests).forEach(e=>{const t=this._pendingRequests[e];delete this._pendingRequests[e],t.abort()},this),this._canvas.parentNode.removeChild(this._canvas)}}function B(e,t){let n;return n=null===t?1:Math.pow(2,t-e.zoomLevel),{sourceZoomLevel:e.zoomLevel,scaleRatio:n,row:e.row,col:e.col,dimensions:{width:e.dimensions.width*n,height:e.dimensions.height*n},offset:{left:e.offset.left*n,top:e.offset.top*n},url:e.url}}function T(e,t){if(e===t)return{added:[],removed:[]};const n=e.filter(e=>-1===t.indexOf(e));return{added:t.filter(t=>-1===e.indexOf(t)),removed:n}}function N(e,t){const n=t.getMaxPageDimensions(e);return{width:Math.floor(n.width),height:Math.floor(n.height)}}function M(e){return function(e){const t=e.manifest,n=[];let i=null,r=[];const s=()=>{for(let e=0,t=r.length;e<t;e++)n.push([r[e]]);r=[]};t.pages.forEach((o,a)=>{const c={index:a,dimensions:N(a,t),paged:!t.paged||o.paged};(e.showNonPagedPages||c.paged)&&(c.paged?0===a||o.facingPages?(n.push([c]),s()):null===i?i=c:(n.push([i,c]),i=null,s()):r.push(c))}),null!==i&&(n.push([i]),s());return n}(e).map(t=>function(e,t){const n=e.verticallyOriented;if(2===t.length)return function(e,t,n){const i=e.dimensions,r=t.dimensions,s=Math.max(i.height,r.height);let o,a,c;if(n){const e=Math.max(i.width,r.width);o=2*e,a=e-i.width,c=e}else o=i.width+r.width,a=0,c=i.width;return{dimensions:{height:s,width:o},pages:[{index:e.index,dimensions:i,groupOffset:{top:0,left:a}},{index:t.index,dimensions:r,groupOffset:{top:0,left:c}}]}}(t[0],t[1],n);const i=t[0],r=i.dimensions;let s;s=i.paged?0===i.index&&n?r.width:0:n?r.width/2:0;const o=n&&!e.manifest.pages[i.index].facingPages;return{dimensions:{height:r.height,width:o?2*r.width:r.width},pages:[{index:i.index,groupOffset:{top:0,left:s},dimensions:r}]}}(e,t))}function q(e){const t=e.viewport.width,n=e.manifest,i=e.pagesPerRow,r=e.fixedHeightGrid,s=e.fixedPadding,o=e.showNonPagedPages,a=(t-s*(i+1))/i,c=a,l=r?s+n.minRatio*a:s+n.maxRatio*a,u=[];let d=[];const h={height:l,width:t};return n.pages.forEach((e,t)=>{if(!o&&n.paged&&!e.paged)return;const a=(e=>{const t=e.d[e.d.length-1],n=t.h/t.w;let i,o;return r?(i=(l-s)/n,o=l-s):(i=c,o=i*n),{width:Math.round(i),height:Math.round(o)}})(e);let f=Math.floor(d.length*(s+c)+s);r&&(f+=(c-a.width)/2),d.push({index:t,dimensions:a,groupOffset:{top:0,left:f}}),d.length===i&&(u.push({dimensions:h,pages:d}),d=[])}),d.length>0&&u.push({dimensions:h,pages:d}),u}function j(e){if(e.inGrid)return q(D(e,["manifest","viewport","pagesPerRow","fixedHeightGrid","fixedPadding","showNonPagedPages"]));{const t=D(e,["manifest","verticallyOriented","showNonPagedPages"]);return e.inBookLayout?M(t):function(e){const t=e.manifest,n=[];return t.pages.forEach((i,r)=>{if(!e.showNonPagedPages&&t.paged&&!i.paged)return;const s=N(r,t);n.push({dimensions:s,pages:[{index:r,groupOffset:{top:0,left:0},dimensions:s}]})}),n}(t)}}function D(e,t){const n={};return t.forEach((function(t){n[t]=e[t]})),n}function F(e){const t={};return e.forEach(e=>{!function(e,t){Object.keys(t).forEach(n=>{Object.defineProperty(e,n,{get:()=>t[n],set:()=>{throw new TypeError("Cannot set settings."+n)}})})}(t,e)}),t}class R{constructor(e){this.whitelistedKeys=e.whitelistedKeys||[],this.additionalProperties=e.additionalProperties||[],this.validations=e.validations}isValid(e,t,n){let i=null;if(this.validations.some((t,n)=>t.key===e&&(i=n,!0)),null===i)return!0;const r={};r[e]=t;const s=V(n,r,this);return!this._runValidation(i,t,s)}validate(e){this._validateOptions({},e)}getValidatedOptions(e,t){const n=Object.assign({},t);return this._validateOptions(e,n),n}_validateOptions(e,t){const n=V(e,t,this);this._applyValidations(t,n)}_applyValidations(e,t){this.validations.forEach((n,i)=>{if(!e.hasOwnProperty(n.key))return;const r=e[n.key],s=this._runValidation(i,r,t);s&&(s.warningSuppressed||function(e,t,n){console.warn("Invalid value for "+e+": "+t+". Using "+n+" instead.")}(n.key,r,s.value),e[n.key]=s.value)},this)}_runValidation(e,t,n){const i=this.validations[e];n.index=e;let r=!1;const s={suppressWarning:()=>{r=!0}},o=i.validate(t,n.proxy,s);return void 0===o||o===t?null:{value:o,warningSuppressed:r}}}function V(e,t,n){const i={proxy:{},index:null},r=z.bind(null,e,t),s={};return n.whitelistedKeys.forEach(e=>{s[e]={get:r.bind(null,e)}}),n.additionalProperties.forEach(e=>{s[e.key]={get:e.get}}),n.validations.forEach((e,t)=>{s[e.key]={get:()=>{if(t<i.index)return r(e.key);const s=n.validations[i.index].key;throw new TypeError("Cannot access setting "+e.key+" while validating "+s)}}}),Object.defineProperties(i.proxy,s),i}function z(e,t,n){return n in t?t[n]:e[n]}class H{constructor(e,t){t=t||{},this.intersectionTolerance=t.intersectionTolerance||0,this.outer=e,this._top=this._left=this._width=this._height=this._innerDimensions=null,this.invalidate()}intersectsRegion(e){return this.hasHorizontalOverlap(e)&&this.hasVerticalOverlap(e)}hasVerticalOverlap(e){const t=this.top-this.intersectionTolerance,n=this.bottom+this.intersectionTolerance;return Z(e.top,t,n)||Z(e.bottom,t,n)||e.top<=t&&e.bottom>=n}hasHorizontalOverlap(e){const t=this.left-this.intersectionTolerance,n=this.right+this.intersectionTolerance;return Z(e.left,t,n)||Z(e.right,t,n)||e.left<=t&&e.right>=n}invalidate(){this._width=this.outer.clientWidth,this._height=this.outer.clientHeight,this._top=this.outer.scrollTop,this._left=this.outer.scrollLeft}setInnerDimensions(e){this._innerDimensions=e,e&&(this._top=G(this._top,0,e.height-this._height),this._left=G(this._left,0,e.width-this._width))}}function U(e,t){const n="_"+e,i="scroll"+e.charAt(0).toUpperCase()+e.slice(1);return{get:function(){return this[n]},set:function(e){let r;if(this._innerDimensions){r=G(e,0,this._innerDimensions[t]-this[t])}else r=W(e,0);this[n]=this.outer[i]=r}}}function $(e){return{get:function(){return this["_"+e]}}}function Z(e,t,n){return e>=t&&e<=n}function G(e,t,n){return W(function(e,t){return Math.min(e,t)}(e,n),t)}function W(e,t){return Math.max(e,t)}Object.defineProperties(H.prototype,{top:U("top","height"),left:U("left","width"),width:$("width"),height:$("height"),bottom:{get:function(){return this._top+this._height}},right:{get:function(){return this._left+this._width}}});const K=n(49)("diva:ViewerCore");function Y(){return Y.counter++}Y.counter=1;const X=[{key:"goDirectlyTo",validate:(e,t)=>{if(e<0||e>=t.manifest.pages.length)return 0}},{key:"minPagesPerRow",validate:e=>Math.max(2,e)},{key:"maxPagesPerRow",validate:(e,t)=>Math.max(e,t.minPagesPerRow)},{key:"pagesPerRow",validate:(e,t)=>{if(e<t.minPagesPerRow||e>t.maxPagesPerRow)return t.maxPagesPerRow}},{key:"maxZoomLevel",validate:(e,t,n)=>{if(n.suppressWarning(),e<0||e>t.manifest.maxZoom)return t.manifest.maxZoom}},{key:"minZoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<0||e>t.maxZoomLevel?0:void 0},{key:"zoomLevel",validate:(e,t,n)=>e>t.manifest.maxZoom?(n.suppressWarning(),0):e<t.minZoomLevel||e>t.maxZoomLevel?t.minZoomLevel:void 0}];class J{constructor(e,t,n){this.parentObject=e,this.publicInstance=n,this.viewerState={currentPageIndices:[0],activePageIndex:0,horizontalOffset:0,horizontalPadding:0,ID:null,initialKeyScroll:!1,initialSpaceScroll:!1,innerElement:null,innerObject:{},isActiveDiva:!0,isScrollable:!0,isZooming:!1,loaded:!1,manifest:null,mobileWebkit:!1,numPages:0,oldZoomLevel:-1,options:t,outerElement:null,outerObject:{},pageOverlays:new b,pageTools:[],parentObject:this.parentObject,pendingManifestRequest:null,pluginInstances:[],renderer:null,resizeTimer:-1,scrollbarWidth:0,selector:"",throbberTimeoutID:-1,toolbar:null,verticalOffset:0,verticalPadding:0,viewHandler:null,viewport:null,viewportElement:null,viewportObject:null,zoomDuration:400},this.settings=F([t,this.viewerState]);const r=Y();this.viewerState.ID="diva-"+r+"-",this.viewerState.selector=this.settings.ID,Object.defineProperties(this.settings,{panelHeight:{get:()=>this.viewerState.viewport.height},panelWidth:{get:()=>this.viewerState.viewport.width}}),this.optionsValidator=new R({additionalProperties:[{key:"manifest",get:()=>this.viewerState.manifest}],validations:X}),this.viewerState.scrollbarWidth=function(){let e=document.createElement("p");e.style.width="100%",e.style.height="200px";let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.style.visibility="hidden",t.style.width="200px",t.style.height="150px",t.style.overflow="hidden",t.appendChild(e),document.body.appendChild(t);let n=e.offsetWidth;t.style.overflow="scroll";let i=e.offsetWidth;return n===i&&(i=t.clientWidth),document.body.removeChild(t),n-i}(),this.viewerState.mobileWebkit=void 0!==window.orientation,null===t.hashParamSuffix&&(t.hashParamSuffix=1===r?"":r+"");const s=i("div",this.elemAttrs("inner",{class:"diva-inner"})),o=i("div",this.elemAttrs("viewport"),s),a=i("div",this.elemAttrs("outer"),o,i("div",this.elemAttrs("throbber"),[i("div",{class:"cube cube1"}),i("div",{class:"cube cube2"}),i("div",{class:"cube cube3"}),i("div",{class:"cube cube4"}),i("div",{class:"cube cube5"}),i("div",{class:"cube cube6"}),i("div",{class:"cube cube7"}),i("div",{class:"cube cube8"}),i("div",{class:"cube cube9"})]));this.viewerState.innerElement=s,this.viewerState.viewportElement=o,this.viewerState.outerElement=a,this.viewerState.innerObject=s,this.viewerState.viewportObject=o,this.viewerState.outerObject=a,this.settings.parentObject.append(a),this.viewerState.viewport=new H(this.viewerState.viewportElement,{intersectionTolerance:this.settings.viewportMargin}),this.boundScrollFunction=this.scrollFunction.bind(this),this.boundEscapeListener=this.escapeListener.bind(this),this.initPlugins(),this.handleEvents(),this.showThrobber()}isValidOption(e,t){return this.optionsValidator.isValid(e,t,this.viewerState.options)}elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}getPageData(e,t){return this.settings.manifest.pages[e].d[this.settings.zoomLevel][t]}clearViewer(){this.viewerState.viewport.top=0,clearTimeout(this.viewerState.resizeTimer)}hasChangedOption(e,t){return t in e&&e[t]!==this.settings[t]}escapeListener(e){27===e.keyCode&&this.publicInstance.leaveFullscreenMode()}reloadViewer(e){const t=[];if(e=this.optionsValidator.getValidatedOptions(this.settings,e),this.hasChangedOption(e,"zoomLevel")&&(this.viewerState.oldZoomLevel=this.settings.zoomLevel,this.viewerState.options.zoomLevel=e.zoomLevel,t.push(["ZoomLevelDidChange",e.zoomLevel])),this.hasChangedOption(e,"pagesPerRow")&&(this.viewerState.options.pagesPerRow=e.pagesPerRow,t.push(["GridRowNumberDidChange",e.pagesPerRow])),this.hasChangedOption(e,"verticallyOriented")&&(this.viewerState.options.verticallyOriented=e.verticallyOriented),this.hasChangedOption(e,"showNonPagedPages")&&(this.viewerState.options.showNonPagedPages=e.showNonPagedPages),"goDirectlyTo"in e?(this.viewerState.options.goDirectlyTo=e.goDirectlyTo,"verticalOffset"in e&&(this.viewerState.verticalOffset=e.verticalOffset),"horizontalOffset"in e&&(this.viewerState.horizontalOffset=e.horizontalOffset)):this.viewerState.options.goDirectlyTo=this.settings.activePageIndex,(this.hasChangedOption(e,"inGrid")||this.hasChangedOption(e,"inBookLayout"))&&("inGrid"in e&&(this.viewerState.options.inGrid=e.inGrid),"inBookLayout"in e&&(this.viewerState.options.inBookLayout=e.inBookLayout),t.push(["ViewDidSwitch",this.settings.inGrid])),this.hasChangedOption(e,"inFullscreen")&&(this.viewerState.options.inFullscreen=e.inFullscreen,this.prepareModeChange(e),t.push(["ModeDidSwitch",this.settings.inFullscreen])),this.clearViewer(),this.updateViewHandlerAndRendering(),this.viewerState.renderer){const e={pageLayouts:j(this.settings),padding:this.getPadding(),maxZoomLevel:this.settings.inGrid?null:this.viewerState.manifest.maxZoom,verticallyOriented:this.settings.verticallyOriented||this.settings.inGrid},t={zoomLevel:this.settings.inGrid?null:this.settings.zoomLevel,anchorPage:this.settings.goDirectlyTo,verticalOffset:this.viewerState.verticalOffset,horizontalOffset:this.viewerState.horizontalOffset},n=this.getCurrentSourceProvider();if(K.enabled){const t=Object.keys(e).filter((function(e){return"pageLayouts"!==e&&"padding"!==e})).map((function(t){const n=e[t];return t+": "+JSON.stringify(n)})).join(", ");K("reload with %s",t)}this.viewerState.renderer.load(e,t,n)}return t.forEach(e=>{this.publish.apply(this,e)}),!0}prepareModeChange(e){const t=e.inFullscreen?"add":"remove";this.viewerState.outerObject.classList[t]("diva-fullscreen"),document.body.classList[t]("diva-hide-scrollbar"),this.settings.parentObject.classList[t]("diva-full-width");const n=this.settings.panelHeight,i=this.settings.panelWidth;if(this.viewerState.viewport.invalidate(),!this.viewerState.loaded&&!this.settings.inGrid&&!("verticalOffset"in e)){const e=this.settings.panelHeight,t=this.settings.panelWidth;this.viewerState.verticalOffset+=(n-e)/2,this.viewerState.horizontalOffset+=(i-t)/2}e.inFullscreen?document.addEventListener("keyup",this.boundEscapeListener):document.removeEventListener("keyup",this.boundEscapeListener)}updateViewHandlerAndRendering(){const e=this.settings.inGrid?y:m;!this.viewerState.viewHandler||this.viewerState.viewHandler instanceof e||(this.viewerState.viewHandler.destroy(),this.viewerState.viewHandler=null),this.viewerState.viewHandler||(this.viewerState.viewHandler=new e(this)),this.viewerState.renderer||this.initializeRenderer()}initializeRenderer(){const e=O.getCompatibilityErrors();if(e)this.showError(e);else{const e={viewport:this.viewerState.viewport,outerElement:this.viewerState.outerElement,innerElement:this.viewerState.innerElement,settings:this.settings},t={onViewWillLoad:()=>{this.viewerState.viewHandler.onViewWillLoad()},onViewDidLoad:()=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidLoad()},onViewDidUpdate:(e,t)=>{this.updatePageOverlays(),this.viewerState.viewHandler.onViewDidUpdate(e,t)},onViewDidTransition:()=>{this.updatePageOverlays()},onPageWillLoad:e=>{this.publish("PageWillLoad",e)},onZoomLevelWillChange:e=>{this.publish("ZoomLevelWillChange",e)}};this.viewerState.renderer=new O(e,t)}}getCurrentSourceProvider(){if(this.settings.inGrid){const e={getAllZoomLevelsForPage:t=>[e.getBestZoomLevelForPage(t)],getBestZoomLevelForPage:e=>({zoomLevel:1,rows:1,cols:1,tiles:[{url:this.settings.manifest.getPageImageURL(e.index,{width:e.dimensions.width}),zoomLevel:1,row:0,col:0,dimensions:e.dimensions,offset:{top:0,left:0}}]})};return e}const e={width:this.settings.tileWidth,height:this.settings.tileHeight};return{getBestZoomLevelForPage:t=>this.settings.manifest.getPageImageTiles(t.index,Math.ceil(this.settings.zoomLevel),e),getAllZoomLevelsForPage:t=>{const n=[],i=this.viewerState.manifest.maxZoom;for(let r=0;r<=i;r++)n.push(this.settings.manifest.getPageImageTiles(t.index,r,e));return n.reverse(),n}}}getPadding(){let e,t,n,i;return this.settings.inGrid?(n=this.settings.fixedPadding,e=t=i=0):(e=this.settings.verticallyOriented?this.viewerState.verticalPadding:0,t=this.settings.verticallyOriented?0:this.viewerState.horizontalPadding,n=this.settings.verticallyOriented?0:this.viewerState.verticalPadding,i=this.settings.verticallyOriented?this.viewerState.horizontalPadding:0),{document:{top:n,bottom:n,left:i,right:i},page:{top:e,bottom:0,left:t,right:0}}}updatePageOverlays(){this.viewerState.pageOverlays.updateOverlays(this.viewerState.renderer.getRenderedPages())}handleZoom(e,t){if(!this.isValidOption("zoomLevel",e))return!1;if(this.viewerState.viewportObject.removeEventListener("scroll",this.boundScrollFunction),!t){const e=this.viewerState.viewport,n=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);t={anchorPage:this.settings.activePageIndex,offset:{left:e.width/2-(n.left-e.left),top:e.height/2-(n.top-e.top)}}}const n=this.viewerState.renderer.layout.getPageRegion(t.anchorPage),i=n.left+t.offset.left-(this.settings.viewport.left+this.settings.viewport.width/2),r=n.top+t.offset.top-(this.settings.viewport.top+this.settings.viewport.height/2),s=(e,n)=>{const s=Math.pow(2,e-n),o=t.offset.left*s-i,a=t.offset.top*s-r;return{zoomLevel:e,anchorPage:t.anchorPage,verticalOffset:a,horizontalOffset:o}};this.viewerState.options.zoomLevel=e;let o=this.viewerState.oldZoomLevel;this.viewerState.oldZoomLevel=this.settings.zoomLevel;const a=s(e,o);this.viewerState.options.goDirectlyTo=a.anchorPage,this.viewerState.verticalOffset=a.verticalOffset,this.viewerState.horizontalOffset=a.horizontalOffset,this.viewerState.renderer.transitionViewportPosition({duration:this.settings.zoomDuration,parameters:{zoomLevel:{from:o,to:e}},getPosition:e=>s(e.zoomLevel,o),onEnd:t=>{this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction),t.interrupted&&(this.viewerState.oldZoomLevel=e)}});let c=document.getElementById(this.settings.selector+"zoom-in-button"),l=document.getElementById(this.settings.selector+"zoom-out-button");return c.disabled=!0,l.disabled=!0,setTimeout(()=>{c.disabled=!1,l.disabled=!1},this.settings.zoomDuration),this.publish("ZoomLevelDidChange",e),!0}getYOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"center"===t||"centre"===t?parseInt(this.getPageData(n,"h")/2,10):"bottom"===t?parseInt(this.getPageData(n,"h")-this.settings.panelHeight/2,10):parseInt(this.settings.panelHeight/2,10)}getXOffset(e,t){let n=void 0===e?this.settings.activePageIndex:e;return"left"===t?parseInt(this.settings.panelWidth/2,10):"right"===t?parseInt(this.getPageData(n,"w")-this.settings.panelWidth/2,10):parseInt(this.getPageData(n,"w")/2,10)}updatePanelSize(){return this.viewerState.viewport.invalidate(),this.viewerState.renderer&&(this.updateOffsets(),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),!0}updateOffsets(){const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e&&(this.viewerState.horizontalOffset=e.x,this.viewerState.verticalOffset=e.y)}bindMouseEvents(){this.viewerState.viewportObject.classList.add("dragscroll"),d.onDoubleClick(this.viewerState.viewportObject,(e,t)=>{K("Double click at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)})}onResize(){this.updatePanelSize(),clearTimeout(this.viewerState.resizeTimer),this.viewerState.resizeTimer=setTimeout(()=>{const e=this.viewerState.renderer.layout.getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);e?this.reloadViewer({goDirectlyTo:this.settings.activePageIndex,verticalOffset:e.y,horizontalOffset:e.x}):this.reloadViewer({goDirectlyTo:this.settings.activePageIndex})},200)}bindTouchEvents(){this.settings.blockMobileMove&&document.body.addEventListener("touchmove",e=>(e.originalEvent.preventDefault(),!1)),d.onPinch(this.viewerState.viewportObject,(function(e,t,n,i){K("Pinch %s at %s, %s",i-n,t.left,t.top),this.viewerState.viewHandler.onPinch(e,t,n,i)})),d.onDoubleTap(this.viewerState.viewportObject,(function(e,t){K("Double tap at %s, %s",t.left,t.top),this.viewerState.viewHandler.onDoubleClick(e,t)}))}scrollFunction(){const e=this.viewerState.viewport.top,t=this.viewerState.viewport.left;let n;this.viewerState.viewport.invalidate();const i=this.viewerState.viewport.top,r=this.viewerState.viewport.left;n=this.settings.verticallyOriented||this.settings.inGrid?i-e:r-t,this.viewerState.renderer.adjust();const s=this.settings.verticallyOriented||this.settings.inGrid?i:r;this.publish("ViewerDidScroll",s),n>0?this.publish("ViewerDidScrollDown",s):n<0&&this.publish("ViewerDidScrollUp",s),this.updateOffsets()}handleEvents(){this.viewerState.innerObject.addEventListener("mousedown",()=>{this.viewerState.innerObject.classList.add("diva-grabbing")}),this.viewerState.innerObject.addEventListener("mouseup",()=>{this.viewerState.innerObject.classList.remove("diva-grabbing")}),this.bindMouseEvents(),this.viewerState.viewportObject.addEventListener("scroll",this.boundScrollFunction);document.addEventListener("keydown.diva",e=>{if(!this.viewerState.isActiveDiva)return!0;if(this.settings.enableSpaceScroll&&!e.shiftKey&&32===e.keyCode||this.settings.enableKeyScroll&&34===e.keyCode)return this.viewerState.viewport.top+=this.settings.panelHeight,!1;if(this.settings.enableSpaceScroll||32!==e.keyCode||e.preventDefault(),this.settings.enableKeyScroll){if(e.shiftKey||e.ctrlKey||e.metaKey)return!0;switch(e.keyCode){case 33:return this.viewerState.viewport.top-=this.settings.panelHeight,!1;case 38:return this.viewerState.viewport.top-=this.settings.arrowScrollAmount,!1;case 40:return this.viewerState.viewport.top+=this.settings.arrowScrollAmount,!1;case 37:return this.viewerState.viewport.left-=this.settings.arrowScrollAmount,!1;case 39:return this.viewerState.viewport.left+=this.settings.arrowScrollAmount,!1;case 36:return this.viewerState.viewport.top=0,!1;case 35:return this.settings.verticallyOriented?this.viewerState.viewport.top=1/0:this.viewerState.viewport.left=1/0,!1;default:return!0}}return!0}),u.Events.subscribe("ViewerDidTerminate",(function(){document.removeEventListener("keydown.diva")}),this.settings.ID),window.addEventListener("resize",this.onResize.bind(this),!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("resize",this.onResize,!1)}),this.settings.ID),"onorientationchange"in window&&(window.addEventListener("orientationchange",this.onResize,!1),u.Events.subscribe("ViewerDidTerminate",(function(){window.removeEventListener("orientationchange",this.onResize,!1)}),this.settings.ID)),u.Events.subscribe("PanelSizeDidChange",this.updatePanelSize,this.settings.ID),u.Events.subscribe("ViewerDidTerminate",()=>{this.viewerState.renderer&&this.viewerState.renderer.destroy(),clearTimeout(this.viewerState.resizeTimer)},this.settings.ID)}initPlugins(){if(!this.settings.hasOwnProperty("plugins"))return null;this.viewerState.pluginInstances=this.settings.plugins.map(e=>{const t=new e(this);return t.isPageTool&&this.viewerState.pageTools.push(t),t})}showThrobber(){this.hideThrobber(),this.viewerState.throbberTimeoutID=setTimeout(()=>{let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="block")},this.settings.throbberTimeout)}hideThrobber(){clearTimeout(this.viewerState.throbberTimeoutID);let e=document.getElementById(this.settings.selector+"throbber");e&&(e.style.display="none")}showError(e){const t=i("div",this.elemAttrs("error"),[i("button",this.elemAttrs("error-close",{"aria-label":"Close dialog"})),i("p",i("strong","Error")),i("div",e)]);this.viewerState.outerObject.appendChild(t),document.getElementById(this.settings.selector+"error-close").addEventListener("click",()=>{t.parentNode.removeChild(t)})}setManifest(e,t){if(this.viewerState.manifest=e,this.hideThrobber(),this.viewerState.numPages=this.settings.manifest.pages.length,this.optionsValidator.validate(this.viewerState.options),this.publish("NumberOfPagesDidChange",this.settings.numPages),this.settings.adaptivePadding>0){const e=Math.floor((this.settings.minZoomLevel+this.settings.maxZoomLevel)/2);this.viewerState.horizontalPadding=parseInt(this.settings.manifest.getAverageWidth(e)*this.settings.adaptivePadding,10),this.viewerState.verticalPadding=parseInt(this.settings.manifest.getAverageHeight(e)*this.settings.adaptivePadding,10)}else this.viewerState.horizontalPadding=this.settings.fixedPadding,this.viewerState.verticalPadding=this.settings.fixedPadding;let n,r;this.viewerState.pageTools.length&&(this.viewerState.verticalPadding=Math.max(40,this.viewerState.verticalPadding)),this.settings.manifest.paged&&(this.viewerState.options.inBookLayout=!0),this.publish("ObjectDidLoad",this.settings),this.updatePanelSize();let s=!1,o=!1;if(null==t.goDirectlyTo?(t.goDirectlyTo=this.settings.goDirectlyTo,n=r=!0):(n=null==t.horizontalOffset||isNaN(t.horizontalOffset),r=null==t.verticalOffset||isNaN(t.verticalOffset)),n&&(0===t.goDirectlyTo&&this.settings.inBookLayout&&this.settings.verticallyOriented?t.horizontalOffset=this.viewerState.horizontalPadding:(o=!0,t.horizontalOffset=this.getXOffset(t.goDirectlyTo,"center"))),r&&(s=!0,t.verticalOffset=this.getYOffset(t.goDirectlyTo,"top")),this.reloadViewer(t),this.updatePanelSize(),this.settings.enableAutoTitle){let e=document.getElementById(this.settings.selector+"title");e?e.innerHTML=this.settings.manifest.itemTitle:this.settings.parentObject.insertBefore(i("div",this.elemAttrs("title"),[this.settings.manifest.itemTitle]),this.settings.parentObject.firstChild)}this.settings.verticallyOriented?this.viewerState.innerElement.style.minWidth=this.settings.panelWidth+"px":this.viewerState.innerElement.style.minHeight=this.settings.panelHeight+"px",(s||o)&&(s&&(this.viewerState.verticalOffset=this.getYOffset(this.settings.activePageIndex,"top")),o&&(this.viewerState.horizontalOffset=this.getXOffset(this.settings.activePageIndex,"center")),this.viewerState.renderer.goto(this.settings.activePageIndex,this.viewerState.verticalOffset,this.viewerState.horizontalOffset)),this.viewerState.loaded=!0,this.publish("ViewerDidLoad",this.settings)}publish(e){const t=Array.prototype.slice.call(arguments,1);u.Events.publish(e,t,this.publicInstance)}getSettings(){return this.settings}getInternalState(){return this.viewerState}getPublicInstance(){return this.publicInstance}getPageTools(){return this.viewerState.pageTools}getCurrentLayout(){return this.viewerState.renderer?this.viewerState.renderer.layout:null}getViewport(){const e=this.viewerState.viewport;return{top:e.top,left:e.left,bottom:e.bottom,right:e.right,width:e.width,height:e.height}}addPageOverlay(e){this.viewerState.pageOverlays.addOverlay(e)}removePageOverlay(e){this.viewerState.pageOverlays.removeOverlay(e)}getPageRegion(e,t){const n=this.viewerState.renderer.layout,i=n.getPageRegion(e,t);if(t&&t.incorporateViewport){const e=this.settings.verticallyOriented?"width":"height";if(this.viewerState.viewport[e]>n.dimensions[e]){const t=(this.viewerState.viewport[e]-n.dimensions[e])/2;return this.settings.verticallyOriented?{top:i.top,bottom:i.bottom,left:i.left+t,right:i.right+t}:{top:i.top+t,bottom:i.bottom+t,left:i.left,right:i.right}}}return i}getPagePositionAtViewportOffset(e){const t=e.left+this.viewerState.viewport.left,n=e.top+this.viewerState.viewport.top,i=this.viewerState.renderer.getRenderedPages(),r=i.length;for(let e=0;e<r;e++){const r=i[e],s=this.viewerState.renderer.layout.getPageRegion(r);if(s.left<=t&&s.right>=t&&s.top<=n&&s.bottom>=n)return{anchorPage:r,offset:{left:t-s.left,top:n-s.top}}}const s=this.viewerState.renderer.layout.getPageRegion(this.settings.activePageIndex);return{anchorPage:this.settings.activePageIndex,offset:{left:t-s.left,top:n-s.top}}}setCurrentPages(e,t){!function(e,t){if(e.length!==t.length)return!1;for(let n=0,i=e.length;n<i;n++)if(e[n]!==t[n])return!1;return!0}(this.viewerState.currentPageIndices,t)?(this.viewerState.currentPageIndices=t,this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e)),this.publish("VisiblePageDidChange",t),this.viewerState.manifest.pages[e].otherImages.length>0&&this.publish("VisiblePageHasAlternateViews",e)):this.viewerState.activePageIndex!==e&&(this.viewerState.activePageIndex=e,this.publish("ActivePageDidChange",e))}getPageName(e){return this.viewerState.manifest.pages[e].f}reload(e){this.reloadViewer(e)}zoom(e,t){return this.handleZoom(e,t)}enableScrollable(){this.viewerState.isScrollable||(this.bindMouseEvents(),this.enableDragScrollable(),this.viewerState.options.enableKeyScroll=this.viewerState.initialKeyScroll,this.viewerState.options.enableSpaceScroll=this.viewerState.initialSpaceScroll,this.viewerState.viewportElement.style.overflow="auto",this.viewerState.isScrollable=!0)}enableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")&&this.viewerState.viewportObject.removeAttribute("nochilddrag")}disableScrollable(){this.viewerState.isScrollable&&(this.disableDragScrollable(),this.viewerState.outerObject.dblclick=null,this.viewerState.outerObject.contextmenu=null,this.viewerState.viewportElement.style.overflow="hidden",this.viewerState.initialKeyScroll=this.settings.enableKeyScroll,this.viewerState.initialSpaceScroll=this.settings.enableSpaceScroll,this.viewerState.options.enableKeyScroll=!1,this.viewerState.options.enableSpaceScroll=!1,this.viewerState.isScrollable=!1)}disableDragScrollable(){this.viewerState.viewportObject.hasAttribute("nochilddrag")||this.viewerState.viewportObject.setAttribute("nochilddrag","")}clear(){this.clearViewer()}setPendingManifestRequest(e){this.viewerState.pendingManifestRequest=e}destroy(){this.publish("ViewerWillTerminate",this.settings),this.settings.pendingManifestRequest&&this.settings.pendingManifestRequest.abort(),document.body.removeClass("diva-hide-scrollbar"),this.settings.parentObject.parent().empty().removeData("diva"),this.settings.parentObject.parent().removeAttr("style").removeAttr("class"),this.publish("ViewerDidTerminate",this.settings),u.Events.unsubscribeAll(this.settings.ID)}}function Q(e){let t,n=e.label,i="object"==typeof n?n[Object.keys(n)[0]][0]:n,r=e.value;return t=Array.isArray(r)?r.map(e=>e[Object.keys(e)[0]]):"object"==typeof r?r[Object.keys(r)[0]]:r,Array.isArray(t)&&(t=t.join(", ")),{label:i,value:t}}const ee=(e,t)=>{const n=Math.max(e,t);return n<128?0:Math.ceil(Math.log((n+1)/257)/Math.log(2))},te=(e,t)=>e/Math.pow(2,t),ne=(e,t)=>e.map(e=>{const n=e.width,i=e.height,r=re(e),s="/"!==r.url.slice(-1)?r.url+"/":r.url,o=new Array(t+1);for(let e=0;e<t+1;e++)o[e]={h:Math.floor(te(i,t-e)),w:Math.floor(te(n,t-e))};return{f:r.url,url:s,il:e.label||"",d:o}});function ie(e){let t=e["@context"];if(!t)return console.error("Invalid IIIF Manifest; No @context found."),null;const n=(e=>"http://iiif.io/api/presentation/2/context.json"===e||Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/2/context.json")?2:Array.isArray(e)&&e.includes("http://iiif.io/api/presentation/3/context.json")?3:2)(t),i=e.sequences?e.sequences[0]:null,r=i?i.canvases:e.items,s=r.length,o=new Array(r.length);let a,c,l,u,d,h,f,p,g,v,m,y,b,w,_,E,S,x=[],L=100,k=0,A=100;for(let e=0;e<s;e++){const t=r[e],n=t.width,i=t.height,s=ee(n,i),o=i/n;k=Math.max(o,k),A=Math.min(o,A),L=Math.min(L,s)}const C=new Array(L+1).fill(0),I=new Array(L+1).fill(0),P=new Array(L+1).fill(0),O=new Array(L+1).fill(0);for(let e=0;e<s;e++){if(a=r[e],y=a["@id"]||a.id,b=a.label,c=a.images?a.images[0].resource:a.items[0].items[0].body,x=[],"oa:Choice"===c["@type"]||"Choice"===c.type?(l=c.default||c.items[0],u=c.item||c.items.slice(1),x=ne(u,L)):l=c,g=a.width||l.width,v=a.height||l.height,g<=0||v<=0){console.warn("Invalid width or height for canvas "+b+". Skipping");continue}m=ee(g,v),w=l.label||null,f=re(l),h="/"!==f.url.slice(-1)?f.url+"/":f.url,d=l.service["@context"]||l.service.type,p="http://iiif.io/api/image/2/context.json"===d||"ImageService2"===d?2:"http://library.stanford.edu/iiif/image-api/1.1/context.json"===d?1.1:1,_=new Array(L+1);for(let e=0;e<L+1;e++)E=Math.floor(te(g,L-e)),S=Math.floor(te(v,L-e)),_[e]={h:S,w:E},C[e]+=E,I[e]+=S,P[e]=Math.max(E,P[e]),O[e]=Math.max(S,O[e]);let t="non-paged"!==a.viewingHint||!!a.behavior&&"non-paged"!==a.behavior[0],n="facing-pages"===a.viewingHint||!!a.behavior&&"facing-pages"===a.behavior[0];o[e]={d:_,m:m,l:b,il:w,f:f.url,url:h,api:p,paged:t,facingPages:n,canvas:y,otherImages:x,xoffset:f.x||null,yoffset:f.y||null}}const B=new Array(L+1),T=new Array(L+1);for(let e=0;e<L+1;e++)B[e]=C[e]/s,T[e]=I[e]/s;const N={a_wid:B,a_hei:T,max_w:P,max_h:O,max_ratio:k,min_ratio:A,t_hei:I,t_wid:C};return{version:n,item_title:Q(e).label,metadata:e.metadata||null,dims:N,max_zoom:L,pgs:o,paged:"paged"===e.viewingHint||!!e.behaviour&&"paged"===e.behaviour[0]||!!i&&"paged"===i.viewingHint}}function re(e){let t=e["@id"]||e.id;const n=/#xywh=([0-9]+,[0-9]+,[0-9]+,[0-9]+)/;let i="",r=!0;if(/\/([0-9]+,[0-9]+,[0-9]+,[0-9]+)\//.test(t)){const e=t.split("/");i=e[e.length-4]}else if(n.test(t)){i=n.exec(t)[1]}else e.service&&(e.service["@id"]||e.service.id)&&(t=e.service["@id"]||e.service.id,r=!1);r&&(t=t.split("/").slice(0,-4).join("/"));const s={url:t};if(i.length){const e=i.split(",");s.x=parseInt(e[0],10),s.y=parseInt(e[1],10),s.w=parseInt(e[2],10),s.h=parseInt(e[3],10)}return s}class se{getPageImageURL(e,t,n){let i;i=!n||null==n.width&&null==n.height?"full":(null==n.width?"":n.width)+","+(null==n.height?"":n.height);const r=e.pages[t],s=r.api>1.1?"default":"native";return encodeURI(r.url+"full/"+i+"/0/"+s+".jpg")}getTileImageURL(e,t,n){const i=e.pages[t];let r,s;r=n.row===n.rowCount-1?i.d[n.zoomLevel].h-(n.rowCount-1)*n.tileDimensions.height:n.tileDimensions.height,s=n.col===n.colCount-1?i.d[n.zoomLevel].w-(n.colCount-1)*n.tileDimensions.width:n.tileDimensions.width;const o=Math.pow(2,e.maxZoom-n.zoomLevel);let a=n.col*n.tileDimensions.width*o,c=n.row*n.tileDimensions.height*o;i.hasOwnProperty("xoffset")&&(a+=i.xoffset,c+=i.yoffset);const l=[a,c,s*o,r*o].join(","),u=i.api>1.1?"default":"native";return encodeURI(i.url+l+"/"+s+","+r+"/0/"+u+".jpg")}}class oe{constructor(e,t){this.pages=e.pgs,this.maxZoom=e.max_zoom,this.maxRatio=e.dims.max_ratio,this.minRatio=e.dims.min_ratio,this.itemTitle=e.item_title,this.metadata=e.metadata,this.paged=!!e.paged,this._maxWidths=e.dims.max_w,this._maxHeights=e.dims.max_h,this._averageWidths=e.dims.a_wid,this._averageHeights=e.dims.a_hei,this._totalHeights=e.dims.t_hei,this._totalWidths=e.dims.t_wid,this._urlAdapter=t}static fromIIIF(e){const t=ie(e);return new oe(t,new se)}isPageValid(e,t){return!(!t&&this.paged&&!this.pages[e].paged)&&(e>=0&&e<this.pages.length)}getMaxPageDimensions(e){const t=this.pages[e].d[this.maxZoom];return{height:t.h,width:t.w}}getPageDimensionsAtZoomLevel(e,t){const n=this.pages[e].d[this.maxZoom],i=(r=this.maxZoom,s=t,1/Math.pow(2,r-s));var r,s;return{height:n.h*i,width:n.w*i}}getPageImageURL(e,t){return this._urlAdapter.getPageImageURL(this,e,t)}getPageImageTiles(e,t,n){const i=this.pages[e];if(!isFinite(t)||t%1!=0)throw new TypeError("Zoom level must be an integer: "+t);const r=Math.ceil(i.d[t].h/n.height),s=Math.ceil(i.d[t].w/n.width),o=[];let a,c,l;for(a=0;a<r;a++)for(c=0;c<s;c++)l=this._urlAdapter.getTileImageURL(this,e,{row:a,col:c,rowCount:r,colCount:s,zoomLevel:t,tileDimensions:n}),o.push({row:a,col:c,zoomLevel:t,dimensions:{height:n.height,width:n.width},offset:{top:a*n.height,left:c*n.width},url:l});return{zoomLevel:t,rows:r,cols:s,tiles:o}}}function ae(e){return function(t){return this[e][t]}}oe.prototype.getMaxWidth=ae("_maxWidths"),oe.prototype.getMaxHeight=ae("_maxHeights"),oe.prototype.getAverageWidth=ae("_averageWidths"),oe.prototype.getAverageHeight=ae("_averageHeights"),oe.prototype.getTotalWidth=ae("_totalWidths"),oe.prototype.getTotalHeight=ae("_totalHeights");class ce{constructor(e){this.viewer=e,this.settings=e.settings}_elemAttrs(e,t){const n={id:this.settings.ID+e,class:"diva-"+e};return t?Object.assign(n,t):n}_subscribe(e,t){u.Events.subscribe(e,t,this.settings.ID)}createButton(e,t,n,r){const s=i("button",{type:"button",id:this.settings.ID+e,class:"diva-"+e+" diva-button",title:t,"aria-label":t});return r&&s.appendChild(r),n&&s.addEventListener("click",n),s}createLabel(e,t,n,r,s){return i("div",{id:this.settings.ID+t,class:e+" diva-label"},[n,i("span",{id:this.settings.ID+r},s)])}createZoomButtons(){let e=this._createZoomOutIcon(),t=this._createZoomInIcon(),n=[this.createButton("zoom-out-button","Zoom Out",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel-1)},e),this.createButton("zoom-in-button","Zoom In",()=>{this.viewer.setZoomLevel(this.settings.zoomLevel+1)},t),this.createLabel("diva-zoom-label","zoom-label","Zoom level: ","zoom-level",this.settings.zoomLevel+1)],r=function(){document.getElementById(this.settings.ID+"zoom-level").textContent=this.settings.zoomLevel+1};return this._subscribe("ZoomLevelDidChange",r),this._subscribe("ViewerDidLoad",r),i("div",{id:this.settings.ID+"zoom-controls",style:"display: none"},n)}createGridControls(){let e=this._createGridMoreIcon(),t=this._createGridFewerIcon(),n=[this.createButton("grid-out-button","Fewer",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow-1)},t),this.createButton("grid-in-button","More",()=>{this.viewer.setGridPagesPerRow(this.settings.pagesPerRow+1)},e),this.createLabel("diva-grid-label","grid-label","Pages per row: ","pages-per-row",this.settings.pagesPerRow)];return this._subscribe("GridRowNumberDidChange",(function(){document.getElementById(this.settings.ID+"pages-per-row").textContent=this.settings.pagesPerRow})),i("div",{id:this.settings.ID+"grid-controls",style:"display:none"},n)}createPageLabel(){const e=i("span",{id:this.settings.ID+"current-page"}),t=()=>{let t=this.viewer.getCurrentPageIndices(),n=t[0],i=t[t.length-1],r=this.settings.manifest.pages[n].l,s=this.settings.manifest.pages[i].l;n!==i?this.settings.enableIndexAsLabel?e.textContent=n+" - "+i:e.textContent=r+" - "+s:this.settings.enableIndexAsLabel?e.textContent=n:e.textContent=r};return this._subscribe("VisiblePageDidChange",t),this._subscribe("ViewerDidLoad",t),this._subscribe("ViewDidSwitch",t),i("span",{class:"diva-page-label diva-label"},e)}createGotoPageForm(){const e=i("input",{id:this.settings.ID+"goto-page-input",class:"diva-input diva-goto-page-input",autocomplete:"off",type:"text","aria-label":"Page Input"}),t=i("input",{id:this.settings.ID+"goto-page-submit",class:"diva-button diva-button-text",type:"submit",value:"Go"}),n=i("div",{id:this.settings.ID+"input-suggestions",class:"diva-input-suggestions"}),r=i("form",{id:this.settings.ID+"goto-page",class:"diva-goto-form"},e,t,n);var s,o,a;return r.addEventListener("submit",t=>{t.preventDefault();const i=e.value;if(this.settings.onGotoSubmit&&"function"==typeof this.settings.onGotoSubmit){const e=this.settings.onGotoSubmit(i);this.viewer.gotoPageByIndex(e)||window.alert("No page could be found with that label or page number")}else this.viewer.gotoPageByLabel(i)||window.alert("No page could be found with that label or page number");return n.style.display="none",!1}),["input","focus"].forEach(t=>{e.addEventListener(t,()=>{n.innerHTML="";const t=e.value;let r=0;if(this.settings.enableGotoSuggestions&&t){const e=this.settings.manifest.pages;for(let s=0,o=e.length;s<o&&r<10;s++)if(e[s].l.toLowerCase().indexOf(t.toLowerCase())>-1){const t=i("div",{class:"diva-input-suggestion"},e[s].l);n.appendChild(t),r++}r>0&&(n.style.display="block")}else n.style.display="none"})}),e.addEventListener("keydown",t=>{let n;if(13===t.keyCode){const t=document.getElementsByClassName("active")[0];void 0!==t&&(e.value=t.innerText)}if(38===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.previousSibling:void 0;if(void 0!==e)n.classList.remove("active"),null!==e&&e.classList.add("active");else{let e=document.getElementsByClassName("diva-input-suggestion").length-1;document.getElementsByClassName("diva-input-suggestion")[e].classList.add("active")}}else if(40===t.keyCode){n=document.getElementsByClassName("active")[0];const e=n?n.nextSibling:void 0;void 0!==e?(n.classList.remove("active"),null!==e&&e.classList.add("active")):document.getElementsByClassName("diva-input-suggestion")[0].classList.add("active")}}),s="mousedown",o=".diva-input-suggestion",a=function(){e.value=this.textContent,n.style.display="none";let t=new Event("submit",{cancelable:!0});r.dispatchEvent(t)},n.addEventListener(s,(function(e){for(var t=e.target;t&&t!==this;)t.matches(o)&&a.call(t,e),t=t.parentNode})),e.addEventListener("blur",()=>{n.style.display="none"}),r}createViewMenu(){const e=i("div",this._elemAttrs("view-options")),t=this._createGridViewIcon(),n=this._createBookViewIcon(),r=this._createPageViewIcon(),s=this.createButton("view-icon","Change view",()=>{e.style.display="none"===e.style.display?"block":"none"}),o=t=>{this.viewer.changeView(t),e.style.display="none"},a=()=>{this.settings.inGrid?(s.appendChild(t),s.className="diva-grid-icon diva-view-icon diva-button"):this.settings.inBookLayout?(s.appendChild(n),s.className="diva-book-icon diva-view-icon diva-button"):(s.appendChild(r),s.className="diva-document-icon diva-view-icon diva-button");const i=document.createDocumentFragment();for((this.settings.inGrid||this.settings.inBookLayout)&&i.appendChild(this.createButton("document-icon","Document View",o.bind(null,"document"),r)),!this.settings.inGrid&&this.settings.inBookLayout||i.appendChild(this.createButton("book-icon","Book View",o.bind(null,"book"),n)),this.settings.inGrid||i.appendChild(this.createButton("grid-icon","Grid View",o.bind(null,"grid"),t));e.firstChild;)e.removeChild(e.firstChild);e.appendChild(i)};return document.addEventListener("mouseup",t=>{e!==t.target&&(e.style.display="none")}),this._subscribe("ViewDidSwitch",a),this._subscribe("ObjectDidLoad",a),i("div",this._elemAttrs("view-menu"),s,e)}createFullscreenButton(){let e=this._createFullscreenIcon();return this.createButton("fullscreen-icon","Toggle fullscreen mode",()=>{this.viewer.toggleFullscreenMode()},e)}toggleZoomGridControls(){this.settings.inGrid?(document.getElementById(this.settings.ID+"zoom-controls").style.display="none",document.getElementById(this.settings.ID+"grid-controls").style.display="block"):(document.getElementById(this.settings.ID+"zoom-controls").style.display="block",document.getElementById(this.settings.ID+"grid-controls").style.display="none")}render(){this._subscribe("ViewDidSwitch",this.toggleZoomGridControls),this._subscribe("ObjectDidLoad",this.toggleZoomGridControls);let e=[this.createZoomButtons(),this.createGridControls()],t=[this.createPageLabel(),this.createViewMenu()];this.settings.enableFullscreen&&t.push(this.createFullscreenButton()),this.settings.enableGotoPage&&t.splice(1,0,this.createGotoPageForm());let n=this.viewer.viewerState.pluginInstances;for(let i=0,s=n.length;i<s;i++){let s=n[i];s.toolbarSide&&(s.toolbarIcon=s.createIcon(),s.toolbarIcon&&("right"===s.toolbarSide?t.splice(2,0,s.toolbarIcon):"left"===s.toolbarSide&&e.splice(2,0,s.toolbarIcon),s.toolbarIcon.addEventListener("click",r.bind(this,s))))}function r(e){e.handleClick(this.viewer)}const s=i("div",this._elemAttrs("tools"),i("div",this._elemAttrs("tools-left"),e),i("div",this._elemAttrs("tools-right"),t));this.settings.toolbarParentObject.insertBefore(s,this.settings.toolbarParentObject.firstChild)}_createToolbarIcon(e){let t=document.createElementNS("http://www.w3.org/2000/svg","svg");t.setAttributeNS(null,"viewBox","0 0 25 25"),t.setAttributeNS(null,"x","0px"),t.setAttributeNS(null,"y","0px"),t.setAttributeNS(null,"style","enable-background:new 0 0 48 48;");let n=document.createElementNS("http://www.w3.org/2000/svg","g");return n.setAttributeNS(null,"transform","matrix(1, 0, 0, 1, -12, -12)"),e.forEach(e=>{let t=document.createElementNS("http://www.w3.org/2000/svg","path");t.setAttributeNS(null,"d",e),n.appendChild(t)}),t.appendChild(n),t}_createZoomOutIcon(){return this._createToolbarIcon(["M19.5,23c-0.275,0-0.5-0.225-0.5-0.5v-1c0-0.275,0.225-0.5,0.5-0.5h7c0.275,0,0.5,0.225,0.5,0.5v1c0,0.275-0.225,0.5-0.5,0.5H19.5z","M37.219,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.422,33.722,37.422,34.054,37.219,34.257z M29.568,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.555,28.818,29.568,25.805,29.568,22.099z"])}_createZoomInIcon(){return this._createToolbarIcon(["M37.469,34.257l-2.213,2.212c-0.202,0.202-0.534,0.202-0.736,0l-6.098-6.099c-1.537,0.993-3.362,1.577-5.323,1.577c-5.431,0-9.849-4.418-9.849-9.849c0-5.431,4.418-9.849,9.849-9.849c5.431,0,9.849,4.418,9.849,9.849c0,1.961-0.584,3.786-1.576,5.323l6.098,6.098C37.672,33.722,37.672,34.054,37.469,34.257z M29.818,22.099c0-3.706-3.014-6.72-6.72-6.72c-3.706,0-6.72,3.014-6.72,6.72c0,3.706,3.014,6.72,6.72,6.72C26.805,28.818,29.818,25.805,29.818,22.099z M26.5,21H24v-2.5c0-0.275-0.225-0.5-0.5-0.5h-1c-0.275,0-0.5,0.225-0.5,0.5V21h-2.5c-0.275,0-0.5,0.225-0.5,0.5v1c0,0.275,0.225,0.5,0.5,0.5H22v2.5c0,0.275,0.225,0.5,0.5,0.5h1c0.275,0,0.5-0.225,0.5-0.5V23h2.5c0.275,0,0.5-0.225,0.5-0.5v-1C27,21.225,26.775,21,26.5,21z"])}_createGridMoreIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createGridFewerIcon(){return this._createToolbarIcon(["M25.5,35c-0.275,0-0.5-0.225-0.5-0.5v-9c0-0.275,0.225-0.5,0.5-0.5h9c0.275,0,0.5,0.225,0.5,0.5v9c0,0.275-0.225,0.5-0.5,0.5H25.5z M22.5,35c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z M34.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H34.5z M22.5,23c0.275,0,0.5-0.225,0.5-0.5v-9c0-0.275-0.225-0.5-0.5-0.5h-9c-0.275,0-0.5,0.225-0.5,0.5v9c0,0.275,0.225,0.5,0.5,0.5H22.5z"])}_createGridViewIcon(){return this._createToolbarIcon(["M29.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,35c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,27c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z M29.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H29.5z M21.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H21.5z M13.5,19c-0.275,0-0.5-0.225-0.5-0.5v-5c0-0.275,0.225-0.5,0.5-0.5h5c0.275,0,0.5,0.225,0.5,0.5v5c0,0.275-0.225,0.5-0.5,0.5H13.5z"])}_createBookViewIcon(){return this._createToolbarIcon(["M35,16.8v-1.323c0,0-2.292-1.328-5.74-1.328c-3.448,0-5.26,1.25-5.26,1.25s-1.813-1.25-5.26-1.25c-3.448,0-5.74,1.328-5.74,1.328V16.8l-1,0.531v0.021v15.687c0,0,4.531-1.578,6.999-1.578c2.468,0,5.001,0.885,5.001,0.885s2.532-0.885,5-0.885c0.306,0,0.643,0.024,1,0.066v4.325l1.531-2.016L33,35.852v-3.72c2,0.43,3,0.906,3,0.906V17.352v-0.021L35,16.8z M23,29.03c-1-0.292-2.584-0.679-3.981-0.679c-2.246,0-3.019,0.404-4.019,0.699V16.634c0,0,1.125-0.699,4.019-0.699c1.694,0,2.981,0.417,3.981,1.126V29.03z M33,29.051c-1-0.295-1.773-0.699-4.02-0.699c-1.396,0-2.981,0.387-3.98,0.679V17.06c1-0.709,2.286-1.126,3.98-1.126c2.895,0,4.02,0.699,4.02,0.699V29.051z"])}_createPageViewIcon(){return this._createToolbarIcon(["M29.425,29h4.47L29,33.934v-4.47C29,29.19,29.151,29,29.425,29z M34,14.563V28h-5.569C28.157,28,28,28.196,28,28.47V34H14.497C14.223,34,14,33.71,14,33.437V14.563C14,14.29,14.223,14,14.497,14h18.9C33.672,14,34,14.29,34,14.563z M25.497,26.497C25.497,26.223,25.275,26,25,26h-7c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,27.777,17.725,28,18,28h7c0.275,0,0.497-0.223,0.497-0.497V26.497z M30.497,22.497C30.497,22.223,30.275,22,30,22H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,23.777,17.725,24,18,24h12c0.275,0,0.497-0.223,0.497-0.497V22.497z M30.497,18.497C30.497,18.223,30.275,18,30,18H18c-0.275,0-0.497,0.223-0.497,0.497v1.006C17.503,19.777,17.725,20,18,20h12c0.275,0,0.497-0.223,0.497-0.497V18.497z"])}_createFullscreenIcon(){return this._createToolbarIcon(["M35,12H13c-0.55,0-1,0.45-1,1v22c0,0.55,0.45,1,1,1h22c0.55,0,1-0.45,1-1V13C36,12.45,35.55,12,35,12z M34,34H14V14h20V34z","M17,21.75v-4.5c0-0.138,0.112-0.25,0.25-0.25h4.5c0.138,0,0.17,0.08,0.073,0.177l-1.616,1.616l1.823,1.823c0.097,0.097,0.097,0.256,0,0.354l-1.061,1.06c-0.097,0.097-0.256,0.097-0.354,0l-1.823-1.823l-1.616,1.616C17.08,21.92,17,21.888,17,21.75z M20.97,25.97c-0.097-0.097-0.256-0.097-0.354,0l-1.823,1.823l-1.616-1.616C17.08,26.08,17,26.112,17,26.25v4.5c0,0.138,0.112,0.25,0.25,0.25h4.5c0.138,0,0.17-0.08,0.073-0.177l-1.616-1.616l1.823-1.823c0.097-0.097,0.097-0.256,0-0.354L20.97,25.97z M30.75,17h-4.5c-0.138,0-0.17,0.08-0.073,0.177l1.616,1.616l-1.823,1.823c-0.097,0.097-0.097,0.256,0,0.354l1.061,1.06c0.097,0.097,0.256,0.097,0.354,0l1.823-1.823l1.616,1.616C30.92,21.92,31,21.888,31,21.75v-4.5C31,17.112,30.888,17,30.75,17z M30.823,26.177l-1.616,1.616l-1.823-1.823c-0.097-0.097-0.256-0.097-0.354,0l-1.061,1.06c-0.097,0.097-0.097,0.256,0,0.354l1.823,1.823l-1.616,1.616C26.08,30.92,26.112,31,26.25,31h4.5c0.138,0,0.25-0.112,0.25-0.25v-4.5C31,26.112,30.92,26.08,30.823,26.177z M26,22.5c0-0.275-0.225-0.5-0.5-0.5h-3c-0.275,0-0.5,0.225-0.5,0.5v3c0,0.275,0.225,0.5,0.5,0.5h3c0.275,0,0.5-0.225,0.5-0.5V22.5z"])}}var le={get:ue,update:function(e,t){const n=ue(e),i=window.location.hash;if(n!==t)if("string"==typeof n){const r=i.indexOf("&"+e+"=")>0?i.indexOf("&"+e+"="):i.indexOf("#"+e+"="),s=r+e.length+2+n.length,o=0===r?"#":"&";window.location.replace(i.substring(0,r)+o+e+"="+t+i.substring(s))}else 0===i.length?window.location.replace("#"+e+"="+t):window.location.replace(i+"&"+e+"="+t)}};function ue(e){const t=window.location.hash;if(""!==t){let n=t.indexOf("&"+e+"=")>0?t.indexOf("&"+e+"="):t.indexOf("#"+e+"=");if(n>=0){n+=e.length+2;const i=t.indexOf("&",n);return i>n?decodeURIComponent(t.substring(n,i)):i<0?decodeURIComponent(t.substring(n)):""}return!1}return!1}class de{constructor(e,t){if(!(e instanceof HTMLElement)&&(this.element=document.getElementById(e),null===this.element))throw new a;if(!t.objectData)throw new l("You must supply either a URL or a literal object to the `objectData` key.");this.options=Object.assign({adaptivePadding:.05,arrowScrollAmount:40,blockMobileMove:!1,objectData:"",enableAutoTitle:!0,enableFilename:!0,enableFullscreen:!0,enableGotoPage:!0,enableGotoSuggestions:!0,enableGridIcon:!0,enableGridControls:"buttons",enableImageTitles:!0,enableIndexAsLabel:!1,enableKeyScroll:!0,enableLinkIcon:!0,enableNonPagedVisibilityIcon:!0,enableSpaceScroll:!1,enableToolbar:!0,enableZoomControls:"buttons",fillParentHeight:!0,fixedPadding:10,fixedHeightGrid:!0,goDirectlyTo:0,hashParamSuffix:null,imageCrossOrigin:"anonymous",inFullscreen:!1,inBookLayout:!1,inGrid:!1,maxPagesPerRow:8,maxZoomLevel:-1,minPagesPerRow:2,minZoomLevel:0,onGotoSubmit:null,pageAliases:{},pageAliasFunction:function(){return!1},pageLoadTimeout:200,pagesPerRow:5,requestHeaders:{Accept:"application/json"},showNonPagedPages:!1,throbberTimeout:100,tileHeight:256,tileWidth:256,toolbarParentObject:null,verticallyOriented:!0,viewportMargin:200,zoomLevel:2},t);const n=i("div",{class:"diva-wrapper"+(this.options.fillParentHeight?" diva-wrapper-flexbox":"")});this.element.appendChild(n),this.options.toolbarParentObject=this.options.toolbarParentObject||n;const r=new J(n,this.options,this);this.viewerState=r.getInternalState(),this.settings=r.getSettings(),this.toolbar=this.settings.enableToolbar?new ce(this):null,n.id=this.settings.ID+"wrapper",this.divaState={viewerCore:r,toolbar:this.toolbar};let s=u.Events.subscribe("ObjectDidLoad",()=>{null!==this.toolbar&&this.toolbar.render(),u.Events.unsubscribe(s)});this.hashState=this._getHashParamState(),this._loadOrFetchObjectData()}_loadOrFetchObjectData(){if("object"==typeof this.settings.objectData)setTimeout(()=>{this._loadObjectData(this.settings.objectData,this.hashState)},0);else{const e=fetch(this.settings.objectData,{headers:this.settings.requestHeaders}).then(e=>{if(!e.ok){u.Events.publish("ManifestFetchError",[e],this),this._ajaxError(e);let t=new Error(e.statusText);throw t.response=e,t}return e.json()}).then(e=>{this._loadObjectData(e,this.hashState)});this.divaState.viewerCore.setPendingManifestRequest(e)}}_showError(e){this.divaState.viewerCore.showError(e)}_ajaxError(e){const t=["Invalid objectData setting. Error code: "+e.status+" "+e.statusText];if(0===this.settings.objectData.lastIndexOf("http",0)){const e=this.settings.objectData.replace(/https?:\/\//i,"").split(/[/?#]/)[0];window.location.hostname!==e&&t.push(i("p","Attempted to access cross-origin data without CORS."),i("p","You may need to update your server configuration to support CORS. For help, see the ",i("a",{href:"https://github.com/DDMAL/diva.js/wiki/Installation#a-note-about-cross-site-requests",target:"_blank"},"cross-site request documentation.")))}this._showError(t)}_loadObjectData(e,t){let n;if(!e.hasOwnProperty("@context")&&(-1===e["@context"].indexOf("iiif")||-1===e["@context"].indexOf("shared-canvas")))throw new c("This does not appear to be a IIIF Manifest.");u.Events.publish("ManifestDidLoad",[e],this),n=oe.fromIIIF(e);const i=t?this._getLoadOptionsForState(t,n):{};this.divaState.viewerCore.setManifest(n,i)}_getHashParamState(){const e={};return["f","v","z","n","i","p","y","x"].forEach(t=>{const n=le.get(t+this.settings.hashParamSuffix);!1!==n&&(e[t]=n)}),"true"===e.f?e.f=!0:"false"===e.f&&(e.f=!1),["z","n","p","x","y"].forEach(t=>{t in e&&(e[t]=parseInt(e[t],10))}),e}_getLoadOptionsForState(e,t){t=t||this.settings.manifest;const n="v"in e?this._getViewState(e.v):{};"f"in e&&(n.inFullscreen=e.f),"z"in e&&(n.zoomLevel=e.z),"n"in e&&(n.pagesPerRow=e.n);let i=this._getPageIndexForManifest(t,e.i);if(i>=0&&i<t.pages.length||(i=e.p-1,i>=0&&i<t.pages.length||(i=null)),null!==i){const t=parseInt(e.x,10),r=parseInt(e.y,10);n.goDirectlyTo=i,n.horizontalOffset=t,n.verticalOffset=r}return n}_getViewState(e){switch(e){case"d":return{inGrid:!1,inBookLayout:!1};case"b":return{inGrid:!1,inBookLayout:!0};case"g":return{inGrid:!0,inBookLayout:!1};default:return{}}}_getPageIndexForManifest(e,t){let n;const i=e.pages.length;for(n=0;n<i;n++)if(e.pages[n].f===t)return n;return-1}_getState(){let e;e=this.settings.inGrid?"g":this.settings.inBookLayout?"b":"d";const t=this.divaState.viewerCore.getCurrentLayout().getPageToViewportCenterOffset(this.settings.activePageIndex,this.viewerState.viewport);return{f:this.settings.inFullscreen,v:e,z:this.settings.zoomLevel,n:this.settings.pagesPerRow,i:!!this.settings.enableFilename&&this.settings.manifest.pages[this.settings.activePageIndex].f,p:!this.settings.enableFilename&&this.settings.activePageIndex+1,y:!!t&&t.y,x:!!t&&t.x}}_getURLHash(){const e=this._getState(),t=[];let n;for(n in e)!1!==e[n]&&t.push(n+this.settings.hashParamSuffix+"="+encodeURIComponent(e[n]));return t.join("&")}_getPageIndex(e){return this._getPageIndexForManifest(this.settings.manifest,e)}_checkLoaded(){return!!this.viewerState.loaded||(console.warn("The viewer is not completely initialized. This is likely because it is still downloading data. To fix this, only call this function if the isReady() method returns true."),!1)}_toggleFullscreen(){let e;this._reloadViewer({inFullscreen:!this.settings.inFullscreen});let t=!1,n=document.getElementById(this.settings.selector+"tools");function i(){n.style.opacity=1,clearTimeout(e),!t&&this.settings.inFullscreen&&(e=setTimeout((function(){n.style.opacity=0}),2e3))}this.settings.inFullscreen?(n.classList.add("diva-fullscreen-tools"),document.addEventListener("mousemove",i.bind(this)),document.getElementsByClassName("diva-viewport")[0].addEventListener("scroll",i.bind(this)),n.addEventListener("mouseenter",(function(){t=!0})),n.addEventListener("mouseleave",(function(){t=!1}))):n.classList.remove("diva-fullscreen-tools")}_togglePageLayoutOrientation(){const e=!this.settings.verticallyOriented;return this._reloadViewer({inGrid:!1,verticallyOriented:e,goDirectlyTo:this.settings.activePageIndex,verticalOffset:this.divaState.viewerCore.getYOffset(),horizontalOffset:this.divaState.viewerCore.getXOffset()}),e}_changeView(e){switch(e){case"document":return this._reloadViewer({inGrid:!1,inBookLayout:!1});case"book":return this._reloadViewer({inGrid:!1,inBookLayout:!0});case"grid":return this._reloadViewer({inGrid:!0});default:return!1}}_gotoPageByIndex(e,t,n){let i=parseInt(e,10);if(this._isPageIndexValid(i)){const e=this.divaState.viewerCore.getXOffset(i,t),r=this.divaState.viewerCore.getYOffset(i,n);return this.viewerState.renderer.goto(i,r,e),!0}return!1}_isPageIndexValid(e){return this.settings.manifest.isPageValid(e,this.settings.showNonPagedPages)}_getPageIndexForPageXYValues(e,t){const n=this.viewerState.outerElement.getBoundingClientRect(),i=n.top,r=n.left,s=n.bottom,o=n.right;if(e<r||e>o)return-1;if(t<i||t>s)return-1;const a=document.getElementsByClassName("diva-page");let c=a.length;for(;c--;){const n=a[c],i=n.getBoundingClientRect();if(!(e<i.left||e>i.right)&&!(t<i.top||t>i.bottom))return n.getAttribute("data-index")}return-1}_reloadViewer(e){return this.divaState.viewerCore.reload(e)}_getCurrentURL(){return location.protocol+"//"+location.host+location.pathname+location.search+"#"+this._getURLHash()}activate(){this.viewerState.isActiveDiva=!0}changeObject(e){this.viewerState.loaded=!1,this.divaState.viewerCore.clear(),this.viewerState.renderer&&this.viewerState.renderer.destroy(),this.viewerState.options.objectData=e,this._loadOrFetchObjectData()}changeView(e){this._changeView(e)}deactivate(){this.viewerState.isActiveDiva=!1}destroy(){this.divaState.viewerCore.destroy()}disableScrollable(){this.divaState.viewerCore.disableScrollable()}enableScrollable(){this.divaState.viewerCore.enableScrollable()}disableDragScrollable(){this.divaState.viewerCore.disableDragScrollable()}enableDragScrollable(){this.divaState.viewerCore.enableDragScrollable()}enterFullscreenMode(){return!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}enterGridView(){return!this.settings.inGrid&&(this._changeView("grid"),!0)}getAllPageURIs(){return this.settings.manifest.pages.map(e=>e.f)}getCurrentCanvas(){return this.settings.manifest.pages[this.settings.activePageIndex].canvas}getCurrentPageDimensionsAtCurrentZoomLevel(){return this.getPageDimensionsAtCurrentZoomLevel(this.settings.activePageIndex)}getCurrentPageFilename(){return console.warn("This method will be deprecated in the next version of Diva. Please use getCurrentPageURI instead."),this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentPageIndices(){return this.settings.currentPageIndices}getActivePageIndex(){return this.settings.activePageIndex}getCurrentPageOffset(){return this.getPageOffset(this.settings.activePageIndex)}getCurrentPageURI(){return this.settings.manifest.pages[this.settings.activePageIndex].f}getCurrentURL(){return this._getCurrentURL()}getFilenames(){return console.warn("This will be removed in the next version of Diva. Use getAllPageURIs instead."),this.settings.manifest.pages.map(e=>e.f)}getGridPagesPerRow(){return this.settings.pagesPerRow}getInstanceId(){return this.settings.ID}getInstanceSelector(){return this.divaState.viewerCore.selector}getItemTitle(){return this.settings.manifest.itemTitle}getMaxZoomLevel(){return this.settings.maxZoomLevel}getMaxZoomLevelForPage(e){return!!this._checkLoaded()&&this.settings.manifest.pages[e].m}getMinZoomLevel(){return this.settings.minZoomLevel}getNumberOfPages(){return!!this._checkLoaded()&&this.settings.numPages}getOtherImages(e){return this.settings.manifest.pages[e].otherImages}getPageDimensions(e){return this._checkLoaded()?this.divaState.viewerCore.getCurrentLayout().getPageDimensions(e):null}getPageDimensionsAtCurrentZoomLevel(e){let t=parseInt(e,10);if(!this._isPageIndexValid(t))throw new Error("Invalid Page Index");return this.divaState.viewerCore.getCurrentLayout().getPageDimensions(t)}getPageDimensionsAtZoomLevel(e,t){if(!this._checkLoaded())return!1;t>this.settings.maxZoomLevel&&(t=this.settings.maxZoomLevel);const n=this.settings.manifest.pages[parseInt(e,10)].d[parseInt(t,10)];return{width:n.w,height:n.h}}getPageImageURL(e,t){return this.settings.manifest.getPageImageURL(e,t)}getPageIndexForPageXYValues(e,t){return this._getPageIndexForPageXYValues(e,t)}getPageOffset(e,t){const n=this.divaState.viewerCore.getPageRegion(e,t);return{top:n.top,left:n.left}}getSettings(){return this.settings}getState(){return this._getState()}getZoomLevel(){return this.settings.zoomLevel}gotoPageByIndex(e,t,n){return this._gotoPageByIndex(e,t,n)}gotoPageByLabel(e,t,n){const i=this.settings.manifest.pages;let r=e.toLowerCase();for(let e=0,s=i.length;e<s;e++)if(i[e].l.toLowerCase().indexOf(r)>-1)return this._gotoPageByIndex(e,t,n);const s=parseInt(e,10)-1;return this._gotoPageByIndex(s,t,n)}gotoPageByName(e,t,n){console.warn("This method will be removed in the next version of Diva.js. Use gotoPageByURI instead.");const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}gotoPageByURI(e,t,n){const i=this._getPageIndex(e);return this._gotoPageByIndex(i,t,n)}hasOtherImages(e){return!0===this.settings.manifest.pages[e].otherImages}hideNonPagedPages(){this._reloadViewer({showNonPagedPages:!1})}isInFullscreen(){return this.settings.inFullscreen}isPageIndexValid(e){return this._isPageIndexValid(e)}isPageInViewport(e){return this.viewerState.renderer.isPageVisible(e)}isReady(){return this.viewerState.loaded}isRegionInViewport(e,t,n,i,r){const s=this.divaState.viewerCore.getCurrentLayout();if(!s)return!1;const o=s.getPageOffset(e),a=o.top+n,c=o.left+t;return this.viewerState.viewport.intersectsRegion({top:a,bottom:a+r,left:c,right:c+i})}isVerticallyOriented(){return this.settings.verticallyOriented}leaveFullscreenMode(){return!!this.settings.inFullscreen&&(this._toggleFullscreen(),!0)}leaveGridView(){return!!this.settings.inGrid&&(this._reloadViewer({inGrid:!1}),!0)}setGridPagesPerRow(e){return!!this.divaState.viewerCore.isValidOption("pagesPerRow",e)&&this._reloadViewer({inGrid:!0,pagesPerRow:e})}setState(e){this._reloadViewer(this._getLoadOptionsForState(e))}setZoomLevel(e){return this.settings.inGrid&&this._reloadViewer({inGrid:!1}),this.divaState.viewerCore.zoom(e)}showNonPagedPages(){this._reloadViewer({showNonPagedPages:!0})}toggleFullscreenMode(){this._toggleFullscreen()}toggleNonPagedPagesVisibility(){this._reloadViewer({showNonPagedPages:!this.settings.showNonPagedPages})}toggleOrientation(){return this._togglePageLayoutOrientation()}translateFromMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return e/Math.pow(2,t)}translateToMaxZoomLevel(e){const t=this.settings.maxZoomLevel-this.settings.zoomLevel;return 0===t?e:e*Math.pow(2,t)}zoomIn(){return this.setZoomLevel(this.settings.zoomLevel+1)}zoomOut(){return this.setZoomLevel(this.settings.zoomLevel-1)}}de.Events=u.Events;var he;t.default=de;"undefined"!=typeof window&&((he=window).Diva=he.Diva||de)}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2V2ZW50cy9ldmVudHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2luaGVyaXRzL2luaGVyaXRzX2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2ltbWVkaWF0ZS9saWIvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1NlbGVjdFRvb2xzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Ob3RpZmljYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2FyZ3NhcnJheS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTG9jYWxTZXR0aW5ncy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9Db250ZW50cy50cyIsIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJkM1wiIiwid2VicGFjazovLy8od2VicGFjaykvYnVpbGRpbi9nbG9iYWwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9zdHJpbmdpZnkuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3V1aWQvZGlzdC9lc20tYnJvd3Nlci9yZWdleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3ZhbGlkYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db29yZGluYXRlcy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9TZWxlY3RPcHRpb25zLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9zcGFyay1tZDUvc3BhcmstbWQ1LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9Db2xvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTW9kYWxXaW5kb3cudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0RyYWdIYW5kbGVyLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9oZWxwZXJzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy91dWlkL2Rpc3QvZXNtLWJyb3dzZXIvcm5nLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92dXZ1emVsYS9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvdXVpZC9kaXN0L2VzbS1icm93c2VyL3Y0LmpzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9yYW5kb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvR3JvdXBpbmcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Jlc2l6ZS50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvU2VsZWN0LnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FcnJvckxvZy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvVGV4dEVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wb3VjaGRiL2xpYi9pbmRleC1icm93c2VyLmVzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9wcm9jZXNzL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2xvZGFzaC9sb2Rhc2guanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rhc2hib2FyZC9kYXNoYm9hcmRfY29tcG9uZW50cy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvV2FybmluZ3MudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvU3RhZmZUb29scy50cyIsIndlYnBhY2s6Ly8vLi9zcmMvU3F1YXJlRWRpdC9OZXVtZVRvb2xzLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3F1ZXVlTWljcm90YXNrLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL211dGF0aW9uLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL21lc3NhZ2VDaGFubmVsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3N0YXRlQ2hhbmdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9pbW1lZGlhdGUvbGliL3RpbWVvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91cmwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb25zY2hlbWEvbGliL3NjYW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL0NvbnZlcnRNZWkudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1ZhbGlkYXRpb24udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3V0aWxzL1Vuc2F2ZWQudHMiLCJ3ZWJwYWNrOi8vLyh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGVidWcvc3JjL2Jyb3dzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvQ29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvSW5zZXJ0SGFuZGxlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvRWRpdENvbnRlbnRzLnRzIiwid2VicGFjazovLy8uL3NyYy91dGlscy9FZGl0Q29udHJvbHMudHMiLCJ3ZWJwYWNrOi8vLy4vZGVwbG95bWVudC9zY3JpcHRzL2VkaXRvci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvTmVvblZpZXcudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL05lb25Db3JlLnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy92a2JlYXV0aWZ5L2luZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9WZXJvdmlvV3JhcHBlci50cyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvTmVvbk1hbmlmZXN0LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9qc29uc2NoZW1hL2xpYi9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvanNvbnNjaGVtYS9saWIvdmFsaWRhdG9yLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9ub2RlLWxpYnMtYnJvd3Nlci9ub2RlX21vZHVsZXMvcHVueWNvZGUvcHVueWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3VybC91dGlsLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9xdWVyeXN0cmluZy1lczMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9kZWNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3F1ZXJ5c3RyaW5nLWVzMy9lbmNvZGUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2pzb25zY2hlbWEvbGliL2F0dHJpYnV0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvdXRpbHMvdGVtcGxhdGUvVGVtcGxhdGUudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwudHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL0RpdmFWaWV3LnRzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy91dGlscy92YW5pbGxhLmtpbmV0aWMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3V0aWxzL2RyYWdzY3JvbGwuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnL3NyYy9jb21tb24uanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RlYnVnL25vZGVfbW9kdWxlcy9tcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvU2luZ2xlVmlldy9TaW5nbGVWaWV3LnRzIiwid2VicGFjazovLy8uL3NyYy9TaW5nbGVWaWV3L1pvb20udHMiLCJ3ZWJwYWNrOi8vLy4vc3JjL1NxdWFyZUVkaXQvRGl2YUVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9TcXVhcmVFZGl0L1NpbmdsZUVkaXRNb2RlLnRzIiwid2VicGFjazovLy8uL3NyYy9JbmZvTW9kdWxlLnRzIiwid2VicGFjazovLy8uL3NyYy9UZXh0Vmlldy50cyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvZWx0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9leGNlcHRpb25zLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9kaXZhLWdsb2JhbC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvZXZlbnRzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9nZXN0dXJlLWV2ZW50cy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS10b29scy1vdmVybGF5LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9kb2N1bWVudC1oYW5kbGVyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9ncmlkLWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2Utb3ZlcmxheS1tYW5hZ2VyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy90aWxlLWNvdmVyYWdlLW1hcC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvY29tcG9zaXRlLWltYWdlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9kb2N1bWVudC1sYXlvdXQuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2ltYWdlLWNhY2hlLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9pbWFnZS1yZXF1ZXN0LWhhbmRsZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2ludGVycG9sYXRlLWFuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcmVuZGVyZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtbGF5b3V0cy9wYWdlLWRpbWVuc2lvbnMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtbGF5b3V0cy9ib29rLWxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvcGFnZS1sYXlvdXRzL2dyaWQtbGF5b3V0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy9wYWdlLWxheW91dHMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhZ2UtbGF5b3V0cy9zaW5nbGVzLWxheW91dC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvc2V0dGluZ3Mtdmlldy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdmFsaWRhdGlvbi1ydW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3ZpZXdwb3J0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy92aWV3ZXItY29yZS5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvZ2V0LXNjcm9sbGJhci13aWR0aC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvdXRpbHMvcGFyc2UtbGFiZWwtdmFsdWUuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL3BhcnNlLWlpaWYtbWFuaWZlc3QuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2lpaWYtc291cmNlLWFkYXB0ZXIuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL2RpdmEuanMvc291cmNlL2pzL2ltYWdlLW1hbmlmZXN0LmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy90b29sYmFyLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9kaXZhLmpzL3NvdXJjZS9qcy91dGlscy9oYXNoLXBhcmFtcy5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvZGl2YS5qcy9zb3VyY2UvanMvZGl2YS5qcyJdLCJuYW1lcyI6WyJpbnN0YWxsZWRNb2R1bGVzIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiZXhwb3J0cyIsIm1vZHVsZSIsImkiLCJsIiwibW9kdWxlcyIsImNhbGwiLCJtIiwiYyIsImQiLCJuYW1lIiwiZ2V0dGVyIiwibyIsIk9iamVjdCIsImRlZmluZVByb3BlcnR5IiwiZW51bWVyYWJsZSIsImdldCIsInIiLCJTeW1ib2wiLCJ0b1N0cmluZ1RhZyIsInZhbHVlIiwidCIsIm1vZGUiLCJfX2VzTW9kdWxlIiwibnMiLCJjcmVhdGUiLCJrZXkiLCJiaW5kIiwibiIsIm9iamVjdCIsInByb3BlcnR5IiwicHJvdG90eXBlIiwiaGFzT3duUHJvcGVydHkiLCJwIiwicyIsIlJlZmxlY3RPd25LZXlzIiwiUiIsIlJlZmxlY3QiLCJSZWZsZWN0QXBwbHkiLCJhcHBseSIsInRhcmdldCIsInJlY2VpdmVyIiwiYXJncyIsIkZ1bmN0aW9uIiwib3duS2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsImdldE93blByb3BlcnR5TmFtZXMiLCJjb25jYXQiLCJOdW1iZXJJc05hTiIsIk51bWJlciIsImlzTmFOIiwiRXZlbnRFbWl0dGVyIiwiaW5pdCIsInRoaXMiLCJvbmNlIiwiZW1pdHRlciIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiZXJyb3JMaXN0ZW5lciIsImVyciIsInJlbW92ZUxpc3RlbmVyIiwicmVzb2x2ZXIiLCJzbGljZSIsImFyZ3VtZW50cyIsImV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lciIsImhhbmRsZXIiLCJmbGFncyIsIm9uIiwiYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIiLCJfZXZlbnRzIiwidW5kZWZpbmVkIiwiX2V2ZW50c0NvdW50IiwiX21heExpc3RlbmVycyIsImRlZmF1bHRNYXhMaXN0ZW5lcnMiLCJjaGVja0xpc3RlbmVyIiwibGlzdGVuZXIiLCJUeXBlRXJyb3IiLCJfZ2V0TWF4TGlzdGVuZXJzIiwidGhhdCIsIl9hZGRMaXN0ZW5lciIsInR5cGUiLCJwcmVwZW5kIiwiZXZlbnRzIiwiZXhpc3RpbmciLCJ3YXJuaW5nIiwibmV3TGlzdGVuZXIiLCJlbWl0IiwidW5zaGlmdCIsInB1c2giLCJsZW5ndGgiLCJ3YXJuZWQiLCJ3IiwiRXJyb3IiLCJTdHJpbmciLCJjb3VudCIsImNvbnNvbGUiLCJ3YXJuIiwib25jZVdyYXBwZXIiLCJmaXJlZCIsIndyYXBGbiIsIl9vbmNlV3JhcCIsInN0YXRlIiwid3JhcHBlZCIsIl9saXN0ZW5lcnMiLCJ1bndyYXAiLCJldmxpc3RlbmVyIiwiYXJyIiwicmV0IiwiQXJyYXkiLCJ1bndyYXBMaXN0ZW5lcnMiLCJhcnJheUNsb25lIiwibGlzdGVuZXJDb3VudCIsImNvcHkiLCJhZGRFdmVudExpc3RlbmVyIiwid3JhcExpc3RlbmVyIiwiYXJnIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsInNldCIsIlJhbmdlRXJyb3IiLCJnZXRQcm90b3R5cGVPZiIsInNldE1heExpc3RlbmVycyIsImdldE1heExpc3RlbmVycyIsImRvRXJyb3IiLCJlcnJvciIsImVyIiwibWVzc2FnZSIsImNvbnRleHQiLCJsZW4iLCJsaXN0ZW5lcnMiLCJhZGRMaXN0ZW5lciIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJsaXN0IiwicG9zaXRpb24iLCJvcmlnaW5hbExpc3RlbmVyIiwic2hpZnQiLCJpbmRleCIsInBvcCIsInNwbGljZU9uZSIsIm9mZiIsInJlbW92ZUFsbExpc3RlbmVycyIsImtleXMiLCJyYXdMaXN0ZW5lcnMiLCJldmVudE5hbWVzIiwiY3RvciIsInN1cGVyQ3RvciIsInN1cGVyXyIsImNvbnN0cnVjdG9yIiwid3JpdGFibGUiLCJjb25maWd1cmFibGUiLCJUZW1wQ3RvciIsImRyYWluaW5nIiwiY3VycmVudFF1ZXVlIiwic2NoZWR1bGVEcmFpbiIsInR5cGVzIiwicXVldWVJbmRleCIsInF1ZXVlIiwic2NoZWR1bGVkIiwiY2xlYW5VcE5leHRUaWNrIiwibmV4dFRpY2siLCJ0aW1lb3V0Iiwic2V0VGltZW91dCIsInJ1biIsImNsZWFyVGltZW91dCIsInRlc3QiLCJpbnN0YWxsIiwiSXRlbSIsImZ1biIsImFycmF5IiwidGFzayIsImdldFNlbGVjdGlvblR5cGUiLCJlbGVtZW50IiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50c0J5Q2xhc3NOYW1lIiwiaWQiLCJ1bnNlbGVjdCIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJmb3JFYWNoIiwic2VsZWN0ZWQiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJjb250YWlucyIsInJlbW92ZUF0dHJpYnV0ZSIsIkNvbG9yIiwidW5oaWdobGlnaHQiLCJzdHlsZSIsImZpbGwiLCJmcm9tIiwiZGl2TGluZSIsInN0cm9rZSIsInNldEF0dHJpYnV0ZSIsIm5ldW1lIiwic3lsUmVjdCIsInBhcmVudEVsZW1lbnQiLCJhZGQiLCJkMyIsInNlbGVjdEFsbCIsImVsIiwiY29sb3IiLCJmb250V2VpZ2h0IiwiZ2V0RWxlbWVudEJ5SWQiLCJTZWxlY3RPcHRpb25zIiwiZW5kT3B0aW9uc1NlbGVjdGlvbiIsIkdyb3VwaW5nIiwiZW5kR3JvdXBpbmdTZWxlY3Rpb24iLCJpbm5lckhUTUwiLCJ1cGRhdGVIaWdobGlnaHQiLCJzZWxlY3RTdGFmZiIsInN0YWZmIiwiZHJhZ0hhbmRsZXIiLCJoaWdobGlnaHQiLCJ0cmlnZ2VyU3BsaXRBY3Rpb25zIiwiaW5pdEdyb3VwaW5nTGlzdGVuZXJzIiwiZHJhZ0luaXQiLCJzZWxlY3RMYXllckVsZW1lbnQiLCJsYXllckVsZW1lbnQiLCJzZWxlY3QiLCJuZWVkc0hpZ2hsaWdodFVwZGF0ZSIsInN5bElkIiwiZWxlbSIsImNsb3Nlc3QiLCJzcGFuIiwiYXN5bmMiLCJpc0xpZ2F0dXJlIiwibmMiLCJuZW9uVmlldyIsImF0dHJpYnV0ZXMiLCJnZXRFbGVtZW50QXR0ciIsInZpZXciLCJnZXRDdXJyZW50UGFnZVVSSSIsIkJvb2xlYW4iLCJsaWdhdGVkIiwiZWxlbWVudHNIYXZlQ29ycmVjdFR5cGUiLCJzZWxlY3Rpb25UeXBlIiwiZWxlbWVudHMiLCJzaGFyZWRTZWNvbmRMZXZlbFBhcmVudCIsInRlbXBFbGVtZW50cyIsInNlY29uZFBhcmVudCIsInNlbGVjdEJCb3giLCJiYm94Iiwic3lsIiwicmVzaXplIiwicXVlcnlTZWxlY3RvciIsInBhcmVudCIsInByZXZOYyIsInByZXZpb3VzU2libGluZyIsIm5leHROYyIsIm5leHRTaWJsaW5nIiwidHJpZ2dlckdyb3VwaW5nIiwidHJpZ2dlck5jQWN0aW9ucyIsImFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlIiwic29ydGVkRWxlbWVudHMiLCJqIiwiaXNTYW1lTm9kZSIsImZpcnN0RWxlbSIsInNlY29uZEVsZW0iLCJpbmRleDEiLCJpbmRleE9mIiwiaW5kZXgyIiwiTWF0aCIsImFicyIsImZpbHRlciIsInJlZmVyZW5jZVBhcmVudFN0YWZmIiwicmVmZXJlbmNlUGFyZW50U3lsbGFibGUiLCJlbGVtZW50c0FycmF5IiwiYW5vdGhlclN0YWZmIiwidWx4IiwidWx5IiwibHJ4IiwibHJ5Iiwicm90YXRlIiwicGF0aCIsImNvb3JkaW5hdGVzIiwiZ2V0QXR0cmlidXRlIiwibWF0Y2giLCJtYXAiLCJhdGFuIiwibWluIiwibWF4Iiwibm90TmV1bWVzIiwibm4iLCJzZWxlY3Rpb25DbGFzcyIsImNvbnRhaW5zTGF5ZXJFbGVtZW50cyIsImNvbnRhaW5zTmMiLCJncm91cHNUb1NlbGVjdCIsIlNldCIsImdyb3VwaW5nIiwiZm9sbG93cyIsInByZWNlZGVzIiwiZ3JvdXAiLCJncm91cHMiLCJ2YWx1ZXMiLCJ0cmlnZ2VyU3RhZmZBY3Rpb25zIiwic2l6ZSIsInRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zIiwidHJpZ2dlckRlZmF1bHRBY3Rpb25zIiwidHJpZ2dlclN5bGxhYmxlQWN0aW9ucyIsImlzTGlua2FibGUiLCJpc0dyb3VwYWJsZSIsInRyaWdnZXJOZXVtZUFjdGlvbnMiLCJjaGlsZHJlbiIsImZpcnN0TkMiLCJzZWNvbmROQyIsImZpcnN0TkNYIiwieCIsImJhc2VWYWwiLCJzZWNvbmROQ1giLCJmaXJzdE5DWSIsInkiLCJzZWNvbmROQ1kiLCJnIiwidHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zIiwibm90aWZpY2F0aW9ucyIsImN1cnJlbnRNb2RlTWVzc2FnZSIsIm5vdGlmeWluZyIsIm5vdGlmaWNhdGlvbkljb24iLCJkZWZhdWx0Iiwic3VjY2VzcyIsIk5vdGlmaWNhdGlvbiIsImRpc3BsYXllZCIsInV1aWR2NCIsImlzTW9kZU1lc3NhZ2UiLCJzZWFyY2giLCJ0aW1lb3V0SUQiLCJjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24iLCJjdXJyZW50SWQiLCJnZXRJZCIsInN0YXJ0Tm90aWZpY2F0aW9uIiwiZGlzcGxheSIsImN1cnJlbnROb3RpZmljYXRpb24iLCJub3RpZmljYXRpb24iLCJ3aW5kb3ciLCJub3RpZmljYXRpb25Db250ZW50IiwibmV3Tm90aWZpY2F0aW9uIiwiY3JlYXRlRWxlbWVudCIsImFwcGVuZCIsImRpc3BsYXlOb3RpZmljYXRpb24iLCJzZXRUaW1lb3V0SWQiLCJxdWV1ZU5vdGlmaWNhdGlvbiIsIm5vdGlmIiwicmVjb3JkTm90aWZpY2F0aW9uIiwibG9jYWxTZXR0aW5ncyIsIkRFRkFVTFRfU0VUVElOR1MiLCJ6b29tIiwiZ2x5cGhPcGFjaXR5IiwiaW1hZ2VPcGFjaXR5IiwiaGlnaGxpZ2h0TW9kZSIsInNlbGVjdGlvbk1vZGUiLCJkaXNwbGF5QkJveCIsImRpc3BsYXlUZXh0IiwiZGlzcGxheUluZm8iLCJkaXNwbGF5RXJyTG9nIiwidmlld0JveCIsInNldHRpbmdzIiwicGFyYW1zIiwiZm9saW9JZCIsImxvYWQiLCJzdG9yZWQiLCJKU09OIiwicGFyc2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3luYyIsInNldEl0ZW0iLCJzdHJpbmdpZnkiLCJpbnNlcnRUYWJIdG1sIiwicHJpbWl0aXZlVGFiIiwiZ3JvdXBpbmdUYWIiLCJzeXN0ZW1UYWIiLCJpbnNlcnRDb250cm9sc1BhbmVsIiwiZWRpdENvbnRyb2xzUGFuZWwiLCJuY0FjdGlvbkNvbnRlbnRzIiwiZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMiLCJuZXVtZUFjdGlvbkNvbnRlbnRzIiwic3RhZmZBY3Rpb25Db250ZW50cyIsImRlZmF1bHRBY3Rpb25Db250ZW50cyIsImRlZmF1bHRTeWxBY3Rpb25Db250ZW50cyIsImN1c3Rvc0FjdGlvbkNvbnRlbnRzIiwibGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHMiLCJsYXllckVsZW1lbnRJbkFjdGlvbkNvbnRlbnRzIiwiYWNjaWRBY3Rpb25Db250ZW50cyIsInNwbGl0QWN0aW9uQ29udGVudHMiLCJjbGVmQWN0aW9uQ29udGVudHMiLCJkaXZMaW5lQWN0aW9uQ29udGVudHMiLCJncm91cGluZ01lbnUiLCJsaWdhdHVyZU5jIiwibGlnYXR1cmUiLCJzcGxpdFN5bGxhYmxlIiwiZWRpdFRleHRNb2RhbCIsImhvdGtleXNNb2RhbCIsInN5bGxhYmxlQWN0aW9uc0NvbnRlbnQiLCJlcnJvckxvZ3NQYW5lbENvbnRlbnRzIiwiZSIsImJ5dGVUb0hleCIsInRvU3RyaW5nIiwic3Vic3RyIiwib2Zmc2V0IiwidXVpZCIsInRvTG93ZXJDYXNlIiwiZ2V0U1ZHUmVsQ29vcmRzIiwiY2xpZW50WCIsImNsaWVudFkiLCJwdCIsIkRPTVBvaW50Iiwic3lzdGVtIiwibWF0cml4VHJhbnNmb3JtIiwiZ2V0U2NyZWVuQ1RNIiwiaW52ZXJzZSIsImdldFN0YWZmSWRCeUNvb3JkcyIsInN0YWZmQkJveGVzIiwiZ2V0U3RhZmZCQm94IiwiZmluZCIsInN0YWZmSWQiLCJiZ0ltZyIsInJlY3QiLCJ0YWdOYW1lIiwiZ2V0QkJveCIsInBhcmVudE5vZGUiLCJ3aWR0aCIsImhlaWdodCIsInVuc2V0SW5jbGluYXR1bUFjdGlvbiIsImFjdGlvbiIsInBhcmFtIiwiZWxlbWVudElkIiwiYXR0clR5cGUiLCJhdHRyVmFsdWUiLCJ1bnNldFZpcmdhQWN0aW9uIiwidW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uIiwidW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbiIsImRlbGV0ZUJ1dHRvbkhhbmRsZXIiLCJldnQiLCJyZW1vdmVIYW5kbGVyIiwicHJldmVudERlZmF1bHQiLCJtb3JlRWRpdCIsImV4dHJhRWRpdCIsImJvZHkiLCJ0b1JlbW92ZSIsImNoYWluQWN0aW9uIiwiZWRpdCIsInRoZW4iLCJ1cGRhdGVGb3JDdXJyZW50UGFnZSIsImNoYW5nZVN0YWZmSGFuZGxlciIsInRvQ2hhbmdlIiwiaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIiLCJ0b0luc2VydCIsInJlc3VsdCIsIm1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyIiwidG9Nb3ZlIiwiYWRkRGVsZXRlTGlzdGVuZXIiLCJkZWwiLCJhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyIiwic2V0RWRpdENvbnRyb2xzIiwiZWRpdFR5cGUiLCJjb250ZW50cyIsInJlcGxhY2UiLCJ0cmlnZ2VyU3RhZmZTcGxpdE1vZGUiLCJTcGxpdFN0YWZmSGFuZGxlciIsInN0YXJ0U3BsaXQiLCJpbml0T3B0aW9uc0xpc3RlbmVycyIsImRyb3AiLCJvcHRpb25zQ2xpY2thd2F5IiwidG9nZ2xlIiwib3RoZXIiLCJzdG9wUHJvcGFnYXRpb24iLCJpbml0TmVvblZpZXciLCJDb250ZW50cyIsInVuc2V0SW5jbGluYXR1bSIsInVuc2V0VmlyZ2EiLCJ1bnNldFZpcmdhUmV2ZXJzZWQiLCJ1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJ1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIiwic2V0SW5jbGluYXR1bSIsInNldFZpcmdhIiwic2V0VmlyZ2FSZXZlcnNlZCIsInNldExpcXVlc2NlbnRDbG9ja3dpc2UiLCJzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSIsInRyaWdnZXJDaGFuZ2VHcm91cCIsImNvbnRvdXIiLCJjaGFuZ2VHcm91cGluZ0FjdGlvbiIsIlNwbGl0TmV1bWVIYW5kbGVyIiwiaW5mbyIsImdldENvbnRvdXJCeVZhbHVlIiwiZXh0cmFBY3Rpb25zSFRNTCIsImNoYW5nZVRvRmxhdCIsImNoYW5nZVRvTmF0dXJhbCIsImFjY2lkT3B0aW9uc0xpc3RlbmVyIiwiaW5jcmVtZW50T2N0YXZlIiwiZGlyZWN0aW9uIiwic2V0Q0NsZWYiLCJzaGFwZSIsInNldEZDbGVmIiwiY2xlZk9wdGlvbnNMaXN0ZW5lciIsIm1lcmdlU3RhdmVzIiwicG9pbnRzIiwieV9jaGFuZ2UiLCJ0YW4iLCJlZGl0b3JBY3Rpb24iLCJoZXhfY2hyIiwibWQ1Y3ljbGUiLCJrIiwiYSIsImIiLCJtZDVibGsiLCJtZDVibGtzIiwiY2hhckNvZGVBdCIsIm1kNWJsa19hcnJheSIsIm1kNTEiLCJ0YWlsIiwidG1wIiwibG8iLCJoaSIsInN1YnN0cmluZyIsInBhcnNlSW50IiwicmhleCIsImhleCIsImpvaW4iLCJ0b1V0ZjgiLCJzdHIiLCJ1bmVzY2FwZSIsImVuY29kZVVSSUNvbXBvbmVudCIsImhleFRvQmluYXJ5U3RyaW5nIiwiYnl0ZXMiLCJmcm9tQ2hhckNvZGUiLCJTcGFya01ENSIsInJlc2V0IiwiQXJyYXlCdWZmZXIiLCJjbGFtcCIsInZhbCIsInRvIiwibnVtIiwidGFyZ2V0QXJyYXkiLCJzb3VyY2VBcnJheSIsImJ5dGVMZW5ndGgiLCJiZWdpbiIsImVuZCIsIlVpbnQ4QXJyYXkiLCJhcHBlbmRCaW5hcnkiLCJfYnVmZiIsIl9sZW5ndGgiLCJfaGFzaCIsInJhdyIsImJ1ZmYiLCJfZmluaXNoIiwiZ2V0U3RhdGUiLCJoYXNoIiwic2V0U3RhdGUiLCJkZXN0cm95IiwiaGFzaEJpbmFyeSIsImNvbnRlbnQiLCJmaXJzdCIsInNlY29uZCIsInJldHVyblVJbnQ4QXJyYXkiLCJidWZmZXIiLCJzdWJhcnJheSIsInV0ZjhTdHIyQXJyYXlCdWZmZXIiLCJtZDUxX2FycmF5IiwiZmFjdG9yeSIsIkNvbG9yUGFsZXR0ZSIsInJlY3RzIiwidW5zZXRTdGFmZkhpZ2hsaWdodCIsInVuc2V0R3JvdXBpbmdIaWdobGlnaHQiLCJjaGlsZCIsImNjaGlsZCIsInNldFN0YWZmSGlnaGxpZ2h0Iiwic3RhdmVzIiwic3RhZmZDb2xvciIsInNldEdyb3VwaW5nSGlnaGxpZ2h0IiwiZ3JvdXBDb2xvciIsImRpdkxpbmVDaGlsZHJlbiIsImxhc3RHbHlwaE9wYWNpdHkiLCJsYXN0SW1hZ2VPcGFjaXR5Iiwic2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlciIsIm1laUNsYXNzTmFtZSIsIm9wYWNpdHlPdXRwdXQiLCJzZXRTZXR0aW5ncyIsImhpZGVHbHlwaEltZyIsIm9wYWNpdHkiLCJzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIiwiYmFja2dyb3VuZCIsImJnT3BhY2l0eU91dHB1dCIsImhpZGVCZ0ltZyIsImJnIiwidXBkYXRlSGlnaGxpZ2h0T3B0aW9uIiwib3B0aW9uIiwiZHJvcGRvd24iLCJoaWdobGlnaHRUeXBlIiwidGV4dENvbnRlbnQiLCJ0b1VwcGVyQ2FzZSIsInNldEhpZ2hsaWdodE9wdGlvbiIsImhpZ2hsaWdodENsaWNrYXdheSIsInNldEhpZ2hsaWdodENvbnRyb2xzIiwibG9hZEhpZ2hsaWdodFNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJ6b29tSGFuZGxlciIsInpvb21TbGlkZXIiLCJ6b29tT3V0cHV0Iiwiem9vbVRvIiwicmVzZXRab29tQW5kUGFuIiwiZGlzYWJsZWQiLCJjdXJyZW50Wm9vbSIsIm5ld1pvb20iLCJoaWdobGlnaHRTZWxlY3Rpb24iLCJoaWdobGlnaHRJZCIsIm9wYWNpdHlTbGlkZXIiLCJpbnB1dENoYW5nZU9wYWNpdHkiLCJ0b2dnbGVPcGFjaXR5QnRuIiwibmV3T3BhY2l0eSIsInJvdW5kIiwic2V0T3BhY2l0eUNvbnRyb2xzIiwiYmdPcGFjaXR5U2xpZGVyIiwiYmdJbnB1dENoYW5nZUhhbmRsZXIiLCJ0b2dnbGVCZ09wYWNpdHlCdG4iLCJzZXRCYWNrZ3JvdW5kT3BhY2l0eUNvbnRyb2xzIiwibWV0YUtleSIsInNlbGVjdEFsbEJ0biIsIm9wdGlvbnMiLCJjaGVja2VkIiwiY2xpY2siLCJzZXREaXNwbGF5QWxsTGlzdGVuZXIiLCJkaXNwbGF5Q29udGVudHMiLCJ0b2dnbGVEaXNwbGF5IiwicGFkZGluZyIsIm92ZXJmbG93IiwiTW9kYWxXaW5kb3dWaWV3IiwiTW9kYWxXaW5kb3dTdGF0ZSIsIm9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93IiwiaGlkZU1vZGFsV2luZG93IiwidXBkYXRlU3lsVGV4dCIsImZvY3VzTW9kYWxXaW5kb3ciLCJvcmlnIiwidHJpbSIsInVwZGF0ZWRTeWxUZXh0IiwiZW50cmllcyIsImNsYXNzTmFtZSIsInRleHQiLCJyZXNwb25zZSIsInVwZGF0ZVNlbGVjdGVkQkJveCIsImtleWRvd25MaXN0ZW5lciIsInN0b3BJbW1lZGlhdGVQcm9wYWdhdGlvbiIsIm1vZGFsV2luZG93VmlldyIsIkVESVRfVEVYVCIsImZvY3VzIiwibW9kYWxXaW5kb3dTdGF0ZSIsIkNMT1NFRCIsInNldE1vZGFsV2luZG93Q29udGVudCIsIkhPVEtFWVMiLCJET0NVTUVOVF9VUExPQUQiLCJvdmVyZmxvd1giLCJvdmVyZmxvd1kiLCJPUEVOIiwiaW5uZXJUZXh0IiwicmVtb3ZlU3ltYm9sIiwiVkFMSURBVElPTl9TVEFUVVMiLCJ1cGxvYWRBcmVhSFRNTCIsInNlbGVjdG9yIiwiZHJhZ1N0YXJ0Q29vcmRzIiwiZHJhZ0JlaGF2aW91ciIsImRyYWciLCJldmVudCIsImR4IiwiZHkiLCJzb3VyY2VFdmVudCIsImRyYWdnaW5nIiwiZHJhZ0VuZGVkIiwic2VsZWN0aW9uIiwibm9Nb3ZlUHJlY2VkZXMiLCJoYXNBdHRyaWJ1dGUiLCJtb3ZlRWxlbWVudHMiLCJiYm94ZXMiLCJ4RGlmZiIsInlEaWZmIiwiaXNDdXJzb3JPdXRPZkJvdW5kcyIsImlzRHJhZ091dE9mQm91bmRzIiwicmV0dXJuRWxlbWVudHMiLCJwYXJhbUFycmF5IiwiZHJhZ0FjdGlvbiIsInRvUmVzZWxlY3QiLCJyZXNlbGVjdCIsInJlc2VsZWN0ZWQiLCJyZXNldFRvQWN0aW9uIiwiZW5kWCIsImVuZFkiLCJpc091dE9mU1ZHQm91bmRzIiwiZ2x5cGhTZWxlY3RvciIsInNlbGVjdGlvbkJCb3giLCJyZWR1Y2UiLCJhY2MiLCJnZXRHbHlwaEJCb3giLCJjdXJyIiwiTUFYX1ZBTFVFIiwiTUlOX1ZBTFVFIiwidXJpIiwiVmFsaWRhdGlvbkVycm9yIiwiaW5zdGFuY2UiLCJzY2hlbWEiLCJhcmd1bWVudCIsImlzQXJyYXkiLCJzdW0iLCJpdGVtIiwibWFrZVN1ZmZpeCIsIiRpZCIsInN0YWNrIiwiVmFsaWRhdG9yUmVzdWx0IiwiY3R4IiwicHJvcGVydHlQYXRoIiwiZXJyb3JzIiwidGhyb3dFcnJvciIsInRocm93Rmlyc3QiLCJ0aHJvd0FsbCIsImRpc2FibGVGb3JtYXQiLCJzdHJpbmdpemVyIiwidiIsIlZhbGlkYXRvclJlc3VsdEVycm9yIiwiY2FwdHVyZVN0YWNrVHJhY2UiLCJhZGRFcnJvciIsImRldGFpbCIsImltcG9ydEVycm9ycyIsInJlcyIsInZhbGlkYXRvclR5cGUiLCJTY2hlbWFFcnJvciIsIm1zZyIsIlNjaGVtYUNvbnRleHQiLCJiYXNlIiwic2NoZW1hcyIsIm1ha2VDaGlsZCIsInByb3BlcnR5TmFtZSIsIkZPUk1BVF9SRUdFWFBTIiwiaW5wdXQiLCJwYXJzZUZsb2F0IiwiUmVnRXhwIiwicmVnZXhwIiwicmVnZXgiLCJwYXR0ZXJuIiwiaXB2NCIsImlzRm9ybWF0IiwiZm9ybWF0IiwidmFsaWRhdG9yIiwiY3VzdG9tRm9ybWF0cyIsImRlZXBNZXJnZXIiLCJkc3QiLCJkZWVwTWVyZ2UiLCJjb3B5aXN0Iiwic3JjIiwiY29weWlzdFdpdGhEZWVwTWVyZ2UiLCJwYXRoRW5jb2RlciIsImRlZXBDb21wYXJlU3RyaWN0IiwiZXZlcnkiLCJhS2V5cyIsImJLZXlzIiwib2JqZWN0R2V0UGF0aCIsInBhcnRzIiwic3BsaXQiLCJkZWNvZGVVUklDb21wb25lbnQiLCJlbmNvZGVQYXRoIiwiZ2V0RGVjaW1hbFBsYWNlcyIsIm51bWJlciIsImRlY2ltYWxQbGFjZXMiLCJkZWNpbWFsUGFydHMiLCJpc1NjaGVtYSIsImdldFJhbmRvbVZhbHVlcyIsInJuZHM4Iiwicm5nIiwiY3J5cHRvIiwibXNDcnlwdG8iLCJvYmoiLCJtZXRhU3RhY2siLCJsYXN0TWV0YUVsZW1lbnQiLCJsYXN0RWxlbWVudEluZGV4IiwibmV4dCIsImFycmF5UHJlZml4Iiwib2JqUHJlZml4IiwicHJlZml4IiwiY29sbGF0aW9uSW5kZXgiLCJwYXJzZWROdW0iLCJudW1DaGFyIiwicGFyc2VkU3RyaW5nIiwibGFzdENoIiwibnVtQ29uc2VjdXRpdmVTbGFzaGVzIiwiY2giLCJhcnJheUVsZW1lbnQiLCJvYmpFbGVtZW50IiwiYnVmIiwicm5kcyIsInJhbmRvbSIsInVpbnQ4VG9VdWlkIiwiZGF0YSIsImNiIiwicHJldmlvdXMiLCJjdXJyZW50IiwicGFkU3RhcnQiLCJvY3RldHMiLCJtb2RpZmllcnMiLCJTZWxlY3RUb29scyIsInNoYXJlZExvZ2ljYWxQYXJlbnQiLCJhcmVBZGphY2VudCIsImlzTGlua2VkIiwiaXNNdWx0aVN0YXZlU2VsZWN0aW9uIiwic3RhZmYwIiwic3RhZmYxIiwic3RhZmZDaGlsZHJlbiIsImZpcnN0U3RhZmYiLCJzZWNvbmRTdGFmZiIsImZpcnN0TGF5ZXIiLCJzZWNvbmRMYXllciIsImZpcnN0U3lsbGFibGVDaGlsZHJlbiIsInNlY29uZFN5bGxhYmxlQ2hpbGRyZW4iLCJsYXN0U3lsbGFibGUiLCJmaXJzdFN5bGxhYmxlIiwic3lzdGVtcyIsImVsZW1lbnRJZHMiLCJncm91cGluZ0FjdGlvbiIsImdldENoaWxkcmVuSWRzIiwiZ2V0SWRzIiwidG9nZ2xlTGlua2VkU3lsbGFibGVzIiwiZ3JvdXBUeXBlIiwibmV1bWVQYXJlbnQiLCJuY3MiLCJnZXRDb250b3VyIiwiV2FybmluZ3MiLCJncm91cGluZ05vdFJlY29nbml6ZWQiLCJzeWxsYWJsZTAiLCJzeWxsYWJsZTEiLCJzZWNvbmRTeWxsYWJsZSIsImlkcyIsImNoaWxkcmVuSWRzIiwiUG9pbnROYW1lcyIsIlRvcExlZnQiLCJUb3AiLCJUb3BSaWdodCIsIlJpZ2h0IiwiQm90dG9tUmlnaHQiLCJCb3R0b20iLCJCb3R0b21MZWZ0IiwiTGVmdCIsImdldFBvaW50cyIsInNpbiIsImluaXRpYWxVbHgiLCJpbml0aWFsTHJ4IiwiaW5pdGlhbFBvaW50IiwiaW5pdGlhbFVseSIsImluaXRpYWxMcnkiLCJpbml0aWFsWSIsImluaXRpYWxSZWN0WSIsInBvbHlMZW4iLCJpbml0aWFsUm90YXRlIiwicmVkcmF3IiwicG9pbnRTdHJpbmciLCJfZWxlbSIsInRleHRSZWN0IiwicG9pbnROYW1lIiwicG9pbnQiLCJhdHRyIiwicG9pbnRTdHJpbmdSaWdodCIsInBvaW50U3RyaW5nTGVmdCIsImRyYXdJbml0aWFsUmVjdCIsIndoaWNoUG9pbnQiLCJfIiwidmlld3BvcnRFbGVtZW50IiwicmVzaXplU3RhcnQiLCJyZXNpemVEcmFnIiwicmVzaXplRW5kIiwicm90YXRlU3RhcnQiLCJ0ZW1wIiwibW91c2UiLCJ0ZW1wUm90YXRlIiwicm90YXRlRW5kIiwiY3VycmVudFBvaW50Iiwid2hpY2giLCJQSSIsInN0cm9rZVdpZHRoIiwiZXNjYXBlS2V5TGlzdGVuZXIiLCJpbmZvTGlzdGVuZXJzIiwiZW50ZXJLZXlMaXN0ZW5lciIsImFycm93S2V5TGlzdGVuZXIiLCJiYm94U3lsbGFibGVzIiwiaW5kIiwiaXNTZWxCeUJCb3giLCJzZWxCeUJCb3giLCJzdG9wUHJvcEhhbmRsZXIiLCJpc0VsZW1lbnRJblJlY3QiLCJ1bCIsImxyIiwiZ2V0QkJveENvb3JkcyIsImJveCIsImNsaWNrSGFuZGxlciIsImdldFVzZXJNb2RlIiwic2hpZnRLZXkiLCJmaXJzdExpZ2F0dXJlSGFsZiIsInNlY29uZExpZ2F0dXJlSGFsZiIsIm5jSW5kZXgiLCJmaXJzdFVzZSIsImFzc2VydCIsInNlY29uZFVzZSIsImlzTXVsdGlTZWxlY3QiLCJzZWxlY3RlZENsYXNzIiwic2VsQnlTdGFmZiIsInNlbEJ5TmV1bWUiLCJzZWxCeU5jIiwic2VsQnlMYXllckVsZW1lbnQiLCJpbmNsdWRlcyIsImdldFN0YWZmQnlDb29yZHMiLCJkaXNwYXRjaEV2ZW50IiwiTW91c2VFdmVudCIsInNjcmVlblgiLCJzY3JlZW5ZIiwiY3RybEtleSIsImFsdEtleSIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsIm52IiwiZGgiLCJzZWwiLCJpbml0aWFsWCIsInBhbm5pbmciLCJkcmFnU2VsZWN0aW5nIiwiY2FudmFzIiwiZHJhZ1NlbGVjdEFjdGlvbiIsInVzZXJNb2RlIiwibm9kZU5hbWUiLCJzdGFydERyYWciLCJpbml0aWFsUCIsImN1cnJlbnRQdCIsImN1clgiLCJjdXJZIiwibmV3WCIsIm5ld1kiLCJjdXJyZW50V2lkdGgiLCJjdXJyZW50SGVpZ2h0IiwidXBkYXRlUmVjdCIsInNlbGVjdFJlY3QiLCJyeCIsInJ5IiwibHgiLCJseSIsIm5vZGUiLCJ0cmFuc2Zvcm0iLCJtdWx0aXBseSIsInNlbGVjdGVkRWxlbWVudHMiLCJnZXRFbGVtZW50c0J5U2VsZWN0b3IiLCJyZXNldFRvIiwiaW5pdEVycm9yTG9nQ29udHJvbHMiLCJlcnJvclBhbmVsIiwiaGVhZGluZyIsImRyb3Bkb3duSWNvbiIsImluaXREaXNwbGF5TGlzdGVuZXIiLCJub3RpZlBhbmVsIiwiY2hlY2tib3hlc0NvbnRhaW5lciIsImVycm9yc0xhYmVsIiwiZXJvcnJzQnRuIiwiYXBwZW5kQ2hpbGQiLCJkaXNwbGF5QWxsQnRuIiwiZGlzcGxheUJCb3hlcyIsIm5vdGlmRGl2Iiwib25jbGljayIsImNyZWF0ZUxvZ01lc3NhZ2UiLCJzZWxCeVN5bGxhYmxlTGlzdGVuZXIiLCJhZGRCQm94TGlzdGVuZXJzIiwiYmJveElkIiwiZGlzcGxheVJlY3QiLCJpbml0VGV4dEVkaXQiLCJzcGFucyIsIm1vZGFsIiwic2VsZWN0U3lsVGV4dCIsInNldE1vZGFsV2luZG93VmlldyIsIm9wZW5Nb2RhbFdpbmRvdyIsIk5ldW1lRWRpdCIsImJsb2NrIiwiYnV0dG9uIiwiYWRkVXBkYXRlQ2FsbGJhY2siLCJzZXRTZWxlY3RIZWxwZXJPYmplY3RzIiwiY2xpY2tTZWxlY3QiLCJkcmFnU2VsZWN0IiwiRXhwb3J0ZWRTZXQiLCJFeHBvcnRlZE1hcCIsIm1hbmdsZSIsInVubWFuZ2xlIiwiTWFwJDEiLCJfc3RvcmUiLCJTZXQkMSIsImNsb25lQmluYXJ5T2JqZWN0IiwiY2xvbmVBcnJheUJ1ZmZlciIsIndlYmtpdFNsaWNlIiwibWFuZ2xlZCIsImhhcyIsImRlbGV0ZSIsIk1hcCIsInByb3AiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJzcGVjaWVzIiwic3VwcG9ydHNNYXBBbmRTZXQiLCJmdW5jVG9TdHJpbmciLCJvYmplY3RDdG9yU3RyaW5nIiwiY2xvbmUiLCJuZXdPYmplY3QiLCJEYXRlIiwiaXNGaW5pdGUiLCJ0b0lTT1N0cmluZyIsIkJsb2IiLCJpc0JpbmFyeU9iamVjdCIsInByb3RvIiwiQ3RvciIsImlzUGxhaW5PYmplY3QiLCJjYWxsZWQiLCJ0b1Byb21pc2UiLCJmdW5jIiwic2VsZiIsInVzZWRDQiIsInByb21pc2UiLCJmdWxmaWxsIiwicmVzcCIsImNhbGxiYWNrIiwibWVzZyIsImFkYXB0ZXJGdW4iLCJfY2xvc2VkIiwiX2Rlc3Ryb3llZCIsImxvZ0FyZ3MiLCJvcmlnQ2FsbGJhY2siLCJyZXNwb25zZUFyZ3MiLCJsb2dBcGlDYWxsIiwidGFza3F1ZXVlIiwiaXNSZWFkeSIsImFkZFRhc2siLCJmYWlsZWQiLCJwaWNrIiwiaGFzTG9jYWwiLCJpZGVudGl0eUZ1bmN0aW9uIiwiZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQiLCJvayIsImJ1bGtHZXQiLCJkYiIsIm9wdHMiLCJyZXF1ZXN0cyIsImRvY3MiLCJyZXF1ZXN0c0J5SWQiLCJyZXF1ZXN0IiwibnVtRG9jcyIsIm51bURvbmUiLCJwZXJEb2NSZXN1bHRzIiwiY2hlY2tEb25lIiwicmVzdWx0cyIsImFsbFJlcXVlc3RzIiwibmV4dEJhdGNoIiwidXBUbyIsImJhdGNoIiwiZG9jSWQiLCJkb2NJZHgiLCJkb2NSZXF1ZXN0cyIsImRvY09wdHMiLCJvcGVuX3JldnMiLCJyZXYiLCJmb3JtYXRSZXN1bHQiLCJwcm9jZXNzQmF0Y2giLCJoYXNMb2NhbFN0b3JhZ2UiLCJDaGFuZ2VzIiwiYXR0YWNoQnJvd3NlckV2ZW50cyIsImd1YXJkZWRDb25zb2xlIiwibWV0aG9kIiwiZGVmYXVsdEJhY2tPZmYiLCJtYXhUaW1lb3V0IiwicmFuZG9tTnVtYmVyIiwiZXhwbGFpbkVycm9yIiwic3RhdHVzIiwiZGJOYW1lIiwiaW5wcm9ncmVzcyIsImV2ZW50RnVuY3Rpb24iLCJjaGFuZ2VzT3B0cyIsImNoYW5nZXMiLCJzZXEiLCJzaW5jZSIsImNhbmNlbGxlZCIsIm9uQ2hhbmdlIiwibm90aWZ5TG9jYWxXaW5kb3dzIiwibm90aWZ5IiwiJGluamVjdF9PYmplY3RfYXNzaWduIiwiYXNzaWduIiwibmV4dFNvdXJjZSIsIm5leHRLZXkiLCJQb3VjaEVycm9yIiwicmVhc29uIiwiTUlTU0lOR19CVUxLX0RPQ1MiLCJNSVNTSU5HX0RPQyIsIlJFVl9DT05GTElDVCIsIklOVkFMSURfSUQiLCJNSVNTSU5HX0lEIiwiUkVTRVJWRURfSUQiLCJVTktOT1dOX0VSUk9SIiwiQkFEX0FSRyIsIlFVRVJZX1BBUlNFX0VSUk9SIiwiRE9DX1ZBTElEQVRJT04iLCJCQURfUkVRVUVTVCIsIk5PVF9BTl9PQkpFQ1QiLCJJREJfRVJST1IiLCJJTlZBTElEX1JFViIsIk1JU1NJTkdfU1RVQiIsImNyZWF0ZUVycm9yIiwiQ3VzdG9tUG91Y2hFcnJvciIsIm5hbWVzIiwiZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSIsImZpbHRlckNoYW5nZSIsInJlcSIsImhhc0ZpbHRlciIsInF1ZXJ5IiwicXVlcnlfcGFyYW1zIiwiY2hhbmdlIiwiZG9jIiwiZmlsdGVyUmV0dXJuIiwidHJ5RmlsdGVyIiwiaW5jbHVkZV9kb2NzIiwiYXR0YWNobWVudHMiLCJhdHQiLCJfYXR0YWNobWVudHMiLCJzdHViIiwiZmxhdHRlbiIsImFycnMiLCJpbnZhbGlkSWRFcnJvciIsImlzUmVtb3RlIiwiX3JlbW90ZSIsInBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwibm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lIiwibm9ybWFsaXplZCIsInFQYXJzZXIiLCJwYXJzZXIiLCJwYXJzZVVyaSIsImV4ZWMiLCJlbmNvZGVkIiwiJDAiLCIkMSIsIiQyIiwic2NvcGVFdmFsIiwic291cmNlIiwic2NvcGUiLCJ1cHNlcnQiLCJkaWZmRnVuIiwiY2F0Y2giLCJkb2NSZXYiLCJfcmV2IiwibmV3RG9jIiwiX2lkIiwicHV0IiwidXBkYXRlZCIsInRyeUFuZFB1dCIsInRoaXNBdG9iIiwiYXRvYiIsInRoaXNCdG9hIiwiYnRvYSIsImNyZWF0ZUJsb2IiLCJwcm9wZXJ0aWVzIiwiYnVpbGRlciIsIkJsb2JCdWlsZGVyIiwiTVNCbG9iQnVpbGRlciIsIk1vekJsb2JCdWlsZGVyIiwiV2ViS2l0QmxvYkJ1aWxkZXIiLCJnZXRCbG9iIiwiYmluYXJ5U3RyaW5nVG9BcnJheUJ1ZmZlciIsImJpbiIsImJpblN0cmluZ1RvQmx1ZmZlciIsImJpblN0cmluZyIsImI2NFRvQmx1ZmZlciIsImI2NCIsInJlYWRBc0JpbmFyeVN0cmluZyIsImJsb2IiLCJyZWFkZXIiLCJGaWxlUmVhZGVyIiwiaGFzQmluYXJ5U3RyaW5nIiwib25sb2FkZW5kIiwiYmluYXJ5IiwiYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyIsInJlYWRBc0FycmF5QnVmZmVyIiwiYmxvYlRvQmluYXJ5U3RyaW5nIiwiYmxvYk9yQnVmZmVyIiwiYmxvYlRvQmFzZTY0IiwiYmFzZTY0Iiwic2V0SW1tZWRpYXRlU2hpbSIsInNldEltbWVkaWF0ZSIsImFwcGVuZEJsb2IiLCJzdGFydCIsInNsaWNlQmxvYiIsImFycmF5QnVmZmVyIiwiYXBwZW5kU3RyaW5nIiwic3RyaW5nIiwiYmluYXJ5TWQ1IiwiaW5wdXRJc1N0cmluZyIsImNodW5rU2l6ZSIsImNodW5rcyIsImNlaWwiLCJjdXJyZW50Q2h1bmsiLCJsb2FkTmV4dENodW5rIiwiZG9uZSIsInJhd1RvQmFzZTY0Iiwic3RyaW5nTWQ1IiwicmV2JCQxIiwiZGV0ZXJtaW5pc3RpY19yZXZzIiwibXV0YXRlYWJsZURvYyIsIl9yZXZfdHJlZSIsIndpbm5pbmdSZXYiLCJtZXRhZGF0YSIsIndpbm5pbmdJZCIsIndpbm5pbmdQb3MiLCJ3aW5uaW5nRGVsZXRlZCIsInRvVmlzaXQiLCJyZXZfdHJlZSIsInRyZWUiLCJicmFuY2hlcyIsInBvcyIsImRlbGV0ZWQiLCJ0cmF2ZXJzZVJldlRyZWUiLCJyZXZzIiwibmV3Q3R4Iiwic29ydEJ5UG9zIiwiY29sbGVjdExlYXZlcyIsImxlYXZlcyIsImlzTGVhZiIsInNvcnQiLCJyZXZlcnNlIiwiY29sbGVjdENvbmZsaWN0cyIsIndpbiIsImNvbmZsaWN0cyIsImxlYWYiLCJyb290VG9MZWFmIiwicGF0aHMiLCJoaXN0b3J5Iiwic29ydEJ5UG9zJDEiLCJpbnNlcnRTb3J0ZWQiLCJjb21wYXJhdG9yIiwiaWR4IiwibWlkIiwibG93IiwiaGlnaCIsImJpbmFyeVNlYXJjaCIsInNwbGljZSIsInBhdGhUb1RyZWUiLCJudW1TdGVtbWVkIiwicm9vdCIsImN1cnJlbnRMZWFmIiwiY29tcGFyZVRyZWUiLCJtZXJnZVRyZWUiLCJpbl90cmVlMSIsImluX3RyZWUyIiwidHJlZTEiLCJ0cmVlMiIsIm1lcmdlZCIsImRvTWVyZ2UiLCJkb250RXhwYW5kIiwicmVzdHJlZSIsImJyYW5jaCIsInQxIiwidDIiLCJkaWZmIiwiY2FuZGlkYXRlUGFyZW50cyIsInRyZWVzIiwicGFyZW50SWR4IiwiZWxlbWVudHNMZW4iLCJtZXJnZSIsImRlcHRoIiwibmV3VHJlZSIsInN0ZW1tZWQiLCJzdGVtbWVkUmV2cyIsInJldkhhc2giLCJzdGVtIiwiZ2V0VHJlZXMiLCJpc0RlbGV0ZWQiLCJpc0xvY2FsSWQiLCJDaGFuZ2VzJDEiLCJjb21wbGV0ZSIsImVlIiwib25EZXN0cm95IiwiY2FuY2VsIiwicGVuZGluZyIsImxhc3RTZXEiLCJpc0NhbmNlbGxlZCIsInRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lciIsInZhbGlkYXRlQ2hhbmdlcyIsInByb2Nlc3NDaGFuZ2UiLCJjaGFuZ2VMaXN0IiwiX2NvbmZsaWN0cyIsImNvbXBhcmUiLCJsZWZ0IiwicmlnaHQiLCJ5YW5rRXJyb3IiLCJjb21wYXJlQnlJZFRoZW5SZXYiLCJpZENvbXBhcmUiLCJfcmV2aXNpb25zIiwiQWJzdHJhY3RQb3VjaERCIiwiVGFza1F1ZXVlIiwiUG91Y2hEQiIsIl9fb3B0cyIsImF1dG9fY29tcGFjdGlvbiIsImJhY2tlbmQiLCJhZGFwdGVyIiwiYWRhcHRlcnMiLCJwcmVmZXJyZWRBZGFwdGVycyIsImFkYXB0ZXJOYW1lIiwidXNlX3ByZWZpeCIsInBhcnNlQWRhcHRlciIsIl9hZGFwdGVyIiwidmFsaWQiLCJ2aWV3X2FkYXB0ZXIiLCJmYWlsIiwib25EZXN0cm95ZWQiLCJmcm9tX2NvbnN0cnVjdG9yIiwib25DbG9zZWQiLCJwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24iLCJyZWFkeSIsIl9jaGFuZ2VzRmlsdGVyUGx1Z2luIiwidmFsaWRhdGUiLCJkb0NoYW5nZXMiLCJjb250aW51b3VzIiwibGl2ZSIsIm5vcm1hbGl6ZSIsInNob3VsZEZpbHRlciIsImRlc2NlbmRpbmciLCJsaW1pdCIsIm5ld1Byb21pc2UiLCJfY2hhbmdlcyIsInVwZGF0ZV9zZXEiLCJwb3N0IiwiYnVsa0RvY3MiLCJfcHV0TG9jYWwiLCJfZGVsZXRlZCIsIl9yZW1vdmVMb2NhbCIsIm9sZFJldklkIiwibmV3UmV2TnVtIiwibmV3UmV2SWQiLCJwdXREb2MiLCJfcHV0IiwibmV3X2VkaXRzIiwiZm9yY2UiLCJwdXRBdHRhY2htZW50IiwiYXR0YWNobWVudElkIiwiYXBpIiwiY3JlYXRlQXR0YWNobWVudCIsInByZXZyZXZwb3MiLCJjb250ZW50X3R5cGUiLCJyZXZwb3MiLCJyZW1vdmVBdHRhY2htZW50IiwiZG9jT3JJZCIsIm9wdHNPclJldiIsIndhc19kZWxldGUiLCJyZXZzRGlmZiIsIm1pc3NpbmciLCJhZGRUb01pc3NpbmciLCJyZXZJZCIsIl9nZXRSZXZpc2lvblRyZWUiLCJtaXNzaW5nRm9ySWQiLCJwcm9jZXNzRG9jIiwibWlzc2luZ09iaiIsImNvbXBhY3REb2N1bWVudCIsIm1heEhlaWdodCIsInJldlRyZWUiLCJlZGdlcyIsInBybnQiLCJlZGdlIiwiY29tcHV0ZUhlaWdodCIsImNhbmRpZGF0ZXMiLCJfZG9Db21wYWN0aW9uIiwiY29tcGFjdCIsIl9jb21wYWN0aW9uUXVldWUiLCJkb05leHRDb21wYWN0aW9uIiwibGFzdF9zZXEiLCJfY29tcGFjdCIsInJldHVybl9kb2NzIiwicHJvbWlzZXMiLCJyb3ciLCJhbGwiLCJfZ2V0TG9jYWwiLCJmaW5pc2hPcGVuUmV2cyIsImxhdGVzdCIsIl9nZXQiLCJyZXZzX2luZm8iLCJzcGxpdHRlZFJldiIsInJldk5vIiwiY3VycmVudFBhdGgiLCJoYXNoSW5kZXgiLCJpbmRleE9mUmV2IiwiaG93TWFueSIsIl9yZXZzX2luZm8iLCJfZ2V0QXR0YWNobWVudCIsImdldEF0dGFjaG1lbnQiLCJhbGxEb2NzIiwic2tpcCIsInN0YXJ0X2tleSIsInN0YXJ0a2V5IiwiZW5kX2tleSIsImVuZGtleSIsImluY29tcGF0aWJsZU9wdCIsImFsbERvY3NLZXlzUGFyc2UiLCJfYWxsRG9jcyIsImNsb3NlIiwiX2Nsb3NlIiwiX2luZm8iLCJkYl9uYW1lIiwiX3R5cGUiLCJhdHRhY2htZW50RXJyb3IiLCJjaGFyQXQiLCJhdHRhY2htZW50TmFtZUVycm9yIiwiYXR0cyIsImNsZWFuRG9jcyIsIl9idWxrRG9jcyIsInJlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UiLCJkZXBlbmRlbnREYiIsImRiT3B0aW9ucyIsImRlcERCIiwiZGVwZW5kZW50RGJzIiwidXNlUHJlZml4IiwiZGVzdHJveURiIiwiX2Rlc3Ryb3kiLCJsb2NhbERvYyIsImRlbGV0ZWRNYXAiLCJ0cnVlTmFtZSIsImV4ZWN1dGUiLCJBYm9ydENvbnRyb2xsZXIiLCJhYm9ydCIsImYkMSIsImZldGNoIiwiaCIsIkhlYWRlcnMiLCJldmVudEVtaXR0ZXIiLCJQb3VjaCIsImRlc3RydWN0TGlzdGVuZXJzIiwiX2Rlc3RydWN0aW9uTGlzdGVuZXJzIiwiZGJMaXN0Iiwic2V0VXBFdmVudEVtaXR0ZXIiLCJhZGRUb1ByZWZlcnJlZEFkYXB0ZXJzIiwicGx1Z2luIiwiX19kZWZhdWx0cyIsImRlZmF1bHRzIiwiZGVmYXVsdE9wdHMiLCJQb3VjaEFsdCIsInVybCIsImdldEZpZWxkRnJvbURvYyIsInBhcnNlZEZpZWxkIiwicGFyc2VGaWVsZCIsImZpZWxkTmFtZSIsImZpZWxkcyIsImNvbWJpbmF0aW9uRmllbGRzIiwiaXNDb21iaW5hdGlvbmFsRmllbGQiLCJmaWVsZCIsImdldEtleSIsIm1lcmdlQW5kZWRTZWxlY3RvcnMiLCJzZWxlY3RvcnMiLCIkb3IiLCIkbm9yIiwibWF0Y2hlciIsIiRlcSIsImxvbmdlc3QiLCJmaWVsZE1hdGNoZXJzIiwib3BlcmF0b3IiLCIkZ3RlIiwiJGd0IiwibWVyZ2VHdEd0ZSIsIiRsdGUiLCIkbHQiLCJtZXJnZUx0THRlIiwiJG5lIiwibWVyZ2VOZSIsIm1lcmdlRXEiLCIkcmVnZXgiLCJtZXJnZVJlZ2V4IiwibWFzc2FnZVNlbGVjdG9yIiwid2FzQW5kZWQiLCJpc0FuZEluU2VsZWN0b3IiLCJpc0FuZCIsIm1lcmdlQW5kZWRTZWxlY3RvcnNOZXN0ZWQiLCJvck9yTm9yIiwic3ViU2VsZWN0b3IiLCJjb2xsYXRlIiwibm9ybWFsaXplS2V5IiwiYWkiLCJiaSIsInN0cmluZ0NvbGxhdGUiLCJhcnJheUNvbGxhdGUiLCJhayIsImJrIiwib2JqZWN0Q29sbGF0ZSIsIkluZmluaXR5Iiwib3JpZ0tleSIsInRvSlNPTiIsImluZGV4aWZ5IiwiZXhwRm9ybWF0IiwidG9FeHBvbmVudGlhbCIsIm1hZ25pdHVkZSIsIm5lZyIsIm1hZ1N0cmluZyIsInBhZFdpdGgiLCJ1cFRvTGVuZ3RoIiwidGFyZ2V0TGVuZ3RoIiwicGFkIiwiZmFjdG9yIiwiZmFjdG9yU3RyIiwidG9GaXhlZCIsIm51bVRvSW5kZXhhYmxlU3RyaW5nIiwidG9JbmRleGFibGVTdHJpbmciLCJvYmpLZXkiLCJwYXJzZU51bWJlciIsIm9yaWdpbmFsSWR4IiwibnVtQXNTdHJpbmciLCJtYWdBc1N0cmluZyIsImZpbHRlckluTWVtb3J5RmllbGRzIiwicm93cyIsInJlcXVlc3REZWYiLCJpbk1lbW9yeUZpZWxkcyIsInJvd0ZpbHRlciIsImZpZWxkU29ydGVyIiwiZ2V0RmllbGRWYWx1ZXNBc0FycmF5Iiwic29ydGluZyIsImFSb3ciLCJiUm93IiwiY29sbGF0aW9uIiwiY3JlYXRlRmllbGRTb3J0ZXIiLCJkb2NGaWVsZFZhbHVlIiwic29tZSIsIm9yTWF0Y2hlcnMiLCJtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yIiwibWF0Y2hTZWxlY3RvciIsIm1heWJlVXNlck9wZXJhdG9yIiwidXNlclZhbHVlIiwic3ViUGFyc2VkRmllbGQiLCJzdWJEb2NGaWVsZFZhbHVlIiwidXNlck9wZXJhdG9yIiwibWF0Y2hlcnMiLCJmaWVsZEV4aXN0cyIsImZpZWxkSXNOb3RVbmRlZmluZWQiLCJhcnJheUNvbnRhaW5zVmFsdWUiLCJkb2NGaWVsZFZhbHVlSXRlbSIsIm1vZEZpZWxkIiwibmVWYWx1ZSIsImFycmF5U2l6ZSIsImFycmF5Q29udGFpbnNBbGxWYWx1ZXMiLCJyZWdleFZhbHVlIiwicmVnZXhNYXRjaCIsInR5cGVNYXRjaCIsImZpbHRlck5hbWUiLCJjaGFuZ2VzSGFuZGxlciIsImRvY19pZHMiLCJ2aWV3TmFtZSIsImRkb2MiLCJtYXBGdW4iLCJ2aWV3cyIsInJvd3NNYXRjaGVkIiwibWF0Y2hlc1NlbGVjdG9yIiwiZmlsdGVyRnVuIiwiZmlsdGVycyIsInRvT2JqZWN0IiwidmVyc2lvbiIsInJlc2VydmVkV29yZHMiLCJkYXRhV29yZHMiLCJwYXJzZVJldmlzaW9uSW5mbyIsInBhcnNlRG9jIiwibmV3RWRpdHMiLCJkYk9wdHMiLCJuUmV2TnVtIiwicmV2SW5mbyIsInJldmlzaW9ucyIsInJldmlzaW9uSWRzIiwibWFrZVJldlRyZWVGcm9tUmV2aXNpb25zIiwic3BlY2lhbEtleSIsInByZXByb2Nlc3NTdHJpbmciLCJibG9iVHlwZSIsImFzQmluYXJ5IiwicGFyc2VCYXNlNjQiLCJkaWdlc3QiLCJwcmVwcm9jZXNzQXR0YWNobWVudCIsIm1kNSIsInByZXByb2Nlc3NCbG9iIiwidXBkYXRlRG9jIiwicmV2TGltaXQiLCJwcmV2IiwiZG9jSW5mbyIsIndyaXRlRG9jIiwic3BsaXRSZXYiLCJ0YXJnZXRQb3MiLCJ0YXJnZXRJZCIsInJldkV4aXN0cyIsInByZXZpb3VzV2lubmluZ1JldiIsInByZXZpb3VzbHlEZWxldGVkIiwiaXNSb290IiwibmV3UmV2IiwicmV2X21hcCIsIndpbm5pbmdSZXYkJDEiLCJ3aW5uaW5nUmV2SXNEZWxldGVkIiwiZGVsdGEiLCJwcm9jZXNzRG9jcyIsImRvY0luZm9zIiwiZmV0Y2hlZERvY3MiLCJ0eCIsIm92ZXJhbGxDYWxsYmFjayIsImlkc1RvRG9jcyIsImRvY3NEb25lIiwiZG9jc1RvRG8iLCJjaGVja0FsbERvY3NEb25lIiwiY3VycmVudERvYyIsInJlc3VsdHNJZHgiLCJkb2NXcml0dGVuIiwibmV4dERvYyIsInJvb3RJc01pc3NpbmciLCJpbnNlcnREb2MiLCJET0NfU1RPUkUiLCJNRVRBX1NUT1JFIiwic2FmZUpzb25TdHJpbmdpZnkiLCJqc29uIiwiaWRiRXJyb3IiLCJlbmNvZGVNZXRhZGF0YSIsImRlbGV0ZWRPckxvY2FsIiwiZGVjb2RlTWV0YWRhdGEiLCJzdG9yZWRPYmplY3QiLCJzYWZlSnNvblBhcnNlIiwiZGVjb2RlRG9jIiwiX2RvY19pZF9yZXYiLCJsYXN0SW5kZXhPZiIsInJlYWRCbG9iRGF0YSIsImFzQmxvYiIsImZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSIsInR4biIsImF0dE9iaiIsIm9iamVjdFN0b3JlIiwib25zdWNjZXNzIiwiZmV0Y2hBdHRhY2htZW50IiwicG9zdFByb2Nlc3NBdHRhY2htZW50cyIsImF0dE5hbWVzIiwiY29tcGFjdFJldnMiLCJwb3NzaWJseU9ycGhhbmVkRGlnZXN0cyIsInNlcVN0b3JlIiwiYXR0U3RvcmUiLCJhdHRBbmRTZXFTdG9yZSIsIklEQktleVJhbmdlIiwiYm91bmQiLCJkZWxldGVPcnBoYW5lZEF0dGFjaG1lbnRzIiwib3BlbkN1cnNvciIsIm9ubHkiLCJjdXJzb3IiLCJkaWdlc3RTZXEiLCJwcmltYXJ5S2V5IiwiY29udGludWUiLCJvcGVuVHJhbnNhY3Rpb25TYWZlbHkiLCJpZGIiLCJzdG9yZXMiLCJ0cmFuc2FjdGlvbiIsImlkYkJ1bGtEb2NzIiwiZG9jU3RvcmUiLCJieVNlcVN0b3JlIiwiYXR0YWNoU3RvcmUiLCJhdHRhY2hBbmRTZXFTdG9yZSIsIm1ldGFTdG9yZSIsImRvY0luZm9FcnJvciIsIm1ldGFEb2MiLCJhbGxEb2NzUHJvY2Vzc2VkIiwiZG9jQ291bnREZWx0YSIsInByZWNvbmRpdGlvbkVycm9yZWQiLCJfbWV0YSIsImJsb2JTdXBwb3J0Iiwib25BbGxEb2NzUHJvY2Vzc2VkIiwidXBkYXRlRG9jQ291bnRJZlJlYWR5IiwiZG9jQ291bnQiLCJuZXdSZXZJc0RlbGV0ZWQiLCJpc1VwZGF0ZSIsImNvbGxlY3RSZXN1bHRzIiwiZmluaXNoRG9jIiwiYXR0YWNobWVudFNhdmVkIiwibmV3QXR0Iiwic2F2ZUF0dGFjaG1lbnQiLCJ3cml0ZUF0dGFjaG1lbnRzIiwiYWZ0ZXJQdXREb2MiLCJyZXZzVG9EZWxldGUiLCJjb21wYWN0VHJlZSIsIm1ldGFkYXRhVG9TdG9yZSIsImFmdGVyUHV0TWV0YWRhdGEiLCJhdHRzQWRkZWQiLCJhdHRzVG9BZGQiLCJvbmVycm9yIiwiaW5zZXJ0QXR0YWNobWVudE1hcHBpbmdzIiwicHV0UmVxIiwib3ZlcmFsbEVyciIsImRvY3YiLCJyZWN2IiwicHJvY2Vzc2VkQXR0YWNobWVudCIsInByZXByb2Nlc3NBdHRhY2htZW50cyIsInR4blJlc3VsdCIsIm9uYWJvcnQiLCJvbnRpbWVvdXQiLCJvbmNvbXBsZXRlIiwiZmluaXNoIiwiZGlnZXN0cyIsImZpbGVuYW1lIiwidmVyaWZ5QXR0YWNobWVudCIsImF0dEVyciIsInZlcmlmeUF0dGFjaG1lbnRzIiwibnVtRmV0Y2hlZCIsInJldnNfbGltaXQiLCJyZWFkTWV0YWRhdGEiLCJmZXRjaEV4aXN0aW5nRG9jcyIsInN0YXJ0VHJhbnNhY3Rpb24iLCJydW5CYXRjaGVkQ3Vyc29yIiwia2V5UmFuZ2UiLCJiYXRjaFNpemUiLCJvbkJhdGNoIiwia2V5c0JhdGNoIiwidmFsdWVzQmF0Y2giLCJwc2V1ZG9DdXJzb3IiLCJvbkdldEFsbCIsIm9uR2V0QWxsS2V5cyIsIm9uQ3Vyc29yIiwiZ2V0QWxsIiwiZ2V0QWxsS2V5cyIsIm5ld0tleVJhbmdlIiwibGFzdEtleSIsInVwcGVyIiwidXBwZXJPcGVuIiwiY29kZSIsImxvd2VyQm91bmQiLCJpZGJBbGxEb2NzIiwia2V5UmFuZ2VFcnJvciIsImluY2x1c2l2ZUVuZCIsImluY2x1c2l2ZV9lbmQiLCJ1cHBlckJvdW5kIiwiY3JlYXRlS2V5UmFuZ2UiLCJvblJlc3VsdHNSZWFkeSIsInVwZGF0ZVNlcSIsIm9uU3VjY2VzcyIsImRvY0lkUmV2SW5kZXgiLCJhbGxEb2NzSW5uZXIiLCJmZXRjaERvY0FzeW5jaHJvbm91c2x5IiwiYmF0Y2hWYWx1ZXMiLCJiYXRjaFZhbHVlIiwiYmF0Y2hLZXlzIiwicmV0dXJuVmFsIiwidG90YWxfcm93cyIsIm1heEtleSIsImFsbERvY3NLZXlzIiwicnVubmluZyIsImFwcGx5TmV4dCIsImRvY0lkcyIsIm51bVJlc3VsdHMiLCJkb2NJZHNUb01ldGFkYXRhIiwib25HZXRNZXRhZGF0YSIsImRvY0lkUmV2Iiwib2JqZWN0U3RvcmVzIiwid2lubmluZ0RvY3MiLCJtZXRhZGF0YXMiLCJmZXRjaFdpbm5pbmdEb2NBbmRNZXRhZGF0YSIsIndpbm5pbmdEb2MiLCJwcm9jZXNzTWV0YWRhdGFBbmRXaW5uaW5nRG9jIiwib25CYXRjaERvbmUiLCJmaWx0ZXJlZCIsImJsb2JTdXBwb3J0UHJvbWlzZSIsImNhY2hlZERCcyIsIm9wZW5SZXFMaXN0IiwiSWRiUG91Y2giLCJ0cnlDb2RlIiwiZW5xdWV1ZVRhc2siLCJ0aGlzQ2FsbGJhY2siLCJpZGJHbG9iYWxGYWlsdXJlRXJyb3IiLCJlbnJpY2hDYWxsYmFja0Vycm9yIiwiYWRkRGVsZXRlZE9yTG9jYWxJbmRleCIsImNyZWF0ZUluZGV4IiwidW5pcXVlIiwibWlncmF0ZUxvY2FsU3RvcmUiLCJsb2NhbFN0b3JlIiwibG9jYWwiLCJyYW5nZSIsInNlcUN1cnNvciIsIm1pZ3JhdGVBdHRzQW5kU2VxcyIsImRpZ2VzdE1hcCIsIm1pZ3JhdGVNZXRhZGF0YSIsIm9uR2V0TWV0YWRhdGFTZXEiLCJtZXRhZGF0YVNlcSIsImZldGNoTWV0YWRhdGFTZXEiLCJpbnN0YW5jZUlkIiwicmVxT3B0cyIsImhpc3RvcnlOb2RlIiwiYXR0YWNoSWQiLCJhdHRhY2htZW50IiwiYmxvYkRhdGEiLCJkb2NfY291bnQiLCJpZGJfYXR0YWNobWVudF9mb3JtYXQiLCJvbGRSZXYiLCJvU3RvcmUiLCJvbGREb2MiLCJvcGVuUmVxIiwiaW5kZXhlZERCIiwiZGVsZXRlRGF0YWJhc2UiLCJjYWNoZWQiLCJnbG9iYWwiLCJvcGVuIiwib251cGdyYWRlbmVlZGVkIiwib2xkVmVyc2lvbiIsImNyZWF0ZU9iamVjdFN0b3JlIiwia2V5UGF0aCIsImF1dG9JbmNyZW1lbnQiLCJjcmVhdGVTY2hlbWEiLCJjdXJyZW50VGFyZ2V0IiwiY3JlYXRlTG9jYWxTdG9yZVNjaGVtYSIsImFkZEF0dGFjaEFuZFNlcVN0b3JlIiwibWlncmF0aW9ucyIsIm1pZ3JhdGlvbiIsIm9udmVyc2lvbmNoYW5nZSIsInN0b3JlZE1ldGFEb2MiLCJjb21wbGV0ZVNldHVwIiwic3RvcmVNZXRhRG9jSWZSZWFkeSIsImluc3RhbmNlS2V5IiwiY291bnREb2NzIiwiYmxvYiQkMSIsIm1hdGNoZWRDaHJvbWUiLCJtYXRjaGVkRWRnZSIsImNoZWNrQmxvYlN1cHBvcnQiLCJzdXBwb3J0c0J1bGtHZXRNYXAiLCJyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlciIsImVuY29kZURvY0lkIiwicHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEiLCJnZXRIb3N0IiwicHJvdG9jb2wiLCJoYXNVcmxQcmVmaXgiLCJ1c2VyIiwicGFzc3dvcmQiLCJhdXRoIiwidXNlcm5hbWUiLCJnZW5EQlVybCIsImdlblVybCIsInBhdGhEZWwiLCJob3N0IiwicG9ydCIsInBhcmFtc1RvU3RyIiwiSHR0cFBvdWNoIiwiZGJVcmwiLCJzZXR1cFByb21pc2UiLCJvdXJGZXRjaCIsImhlYWRlcnMiLCJjcmVkZW50aWFscyIsIm5BdXRoIiwidG9rZW4iLCJ1YSIsImlzSUUiLCJpc1RyaWRlbnQiLCJpc0VkZ2UiLCJpc0dFVCIsInNob3VsZENhY2hlQnVzdCIsIm5vdyIsImFkYXB0ZXJGdW4kJDEiLCJzZXR1cCIsImZldGNoSlNPTiIsInNraXBfc2V0dXAiLCJlbmNvZGVBdHRhY2htZW50SWQiLCJ1dWlkJCQxIiwicGluZyIsImNvbXBhY3RfcnVubmluZyIsImludGVydmFsIiwiZG9CdWxrR2V0IiwiZG9CdWxrR2V0U2hpbSIsIm51bUJhdGNoZXMiLCJvblJlc3VsdCIsImJhdGNoTnVtIiwic3ViT3B0cyIsInN1cHBvcnRzQnVsa0dldCIsImZldGNoQXR0YWNobWVudHMiLCJmaWxlbmFtZXMiLCJwcm9taXNlRmFjdG9yaWVzIiwiZG9OZXh0IiwicnVuTmV4dEJhdGNoIiwib25FcnJvciIsInRoaXNFcnIiLCJwb29sIiwidHlwZUZpZWxkRGVzY3JpcHRvciIsIl9fcHJvdG9fXyIsImZldGNoRGF0YSIsImRvY09yRG9jcyIsImNvbnRlbnRUeXBlIiwicHJvY2VzcyIsImJyb3dzZXIiLCJwYXJhbVN0ciIsImJhdGNoX3NpemUiLCJoZWFydGJlYXQiLCJyZXF1ZXN0VGltZW91dCIsImxlZnRUb0ZldGNoIiwiZmVlZCIsInNlcV9pbnRlcnZhbCIsInBhcmFtX25hbWUiLCJsYXN0RmV0Y2hlZFNlcSIsImNvbnRyb2xsZXIiLCJhYm9ydGVkIiwiZmV0Y2hPcHRzIiwic2lnbmFsIiwiZmV0Y2hlZCIsInJhd19yZXN1bHRzX2xlbmd0aCIsImZpbmlzaGVkIiwiUXVlcnlQYXJzZUVycm9yIiwiTm90Rm91bmRFcnJvciIsIkJ1aWx0SW5FcnJvciIsInByb21pc2VkQ2FsbGJhY2siLCJzZXF1ZW50aWFsaXplIiwicHJvbWlzZUZhY3RvcnkiLCJ1bmlxIiwidGhlU2V0IiwibWFwVG9LZXlzQXJyYXkiLCJjcmVhdGVCdWlsdEluRXJyb3IiLCJqTGVuIiwiak51bSIsImxvZyIsImV2YWxGdW5jdGlvbldpdGhFdmFsIiwiVGFza1F1ZXVlJDEiLCJjcmVhdGVWaWV3Iiwic291cmNlREIiLCJyZWR1Y2VGdW4iLCJ0ZW1wb3JhcnkiLCJsb2NhbERvY05hbWUiLCJjYWNoZWRWaWV3cyIsInZpZXdTaWduYXR1cmUiLCJjcmVhdGVWaWV3U2lnbmF0dXJlIiwiX2NhY2hlZFZpZXdzIiwicHJvbWlzZUZvclZpZXciLCJkZXBEYk5hbWUiLCJmdWxsVmlld05hbWUiLCJkZXBEYnMiLCJsYXN0U2VxRG9jIiwicGVyc2lzdGVudFF1ZXVlcyIsInRlbXBWaWV3UXVldWUiLCJwYXJzZVZpZXdOYW1lIiwiZW1pdEVycm9yIiwiYnVpbHRJblJlZHVjZSIsInN1bXNxciIsIl9zdW1zcXIiLCJhYnN0cmFjdCIsIm1hcHBlciIsInJlZHVjZXIiLCJkZG9jVmFsaWRhdG9yIiwidHJ5TWFwIiwidHJ5UmVkdWNlIiwicmVyZWR1Y2UiLCJvdXRwdXQiLCJzb3J0QnlLZXlUaGVuVmFsdWUiLCJrZXlDb21wYXJlIiwic2xpY2VSZXN1bHRzIiwicm93VG9Eb2NJZCIsInBvc3Rwcm9jZXNzQXR0YWNobWVudHMiLCJhZGRIdHRwUGFyYW0iLCJwYXJhbU5hbWUiLCJhc0pzb24iLCJjb2VyY2VJbnRlZ2VyIiwiaW50ZWdlckNhbmRpZGF0ZSIsImFzTnVtYmVyIiwiY2hlY2tRdWVyeVBhcnNlRXJyb3IiLCJzdGFydGtleU5hbWUiLCJlbmRrZXlOYW1lIiwiZ3JvdXBfbGV2ZWwiLCJvcHRpb25OYW1lIiwiY2hlY2tQb3NpdGl2ZUludGVnZXIiLCJkZWZhdWx0c1RvIiwiZ2V0RG9jc1RvUGVyc2lzdCIsImRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzIiwibWV0YURvY0lkIiwiZGVmYXVsdE1ldGFEb2MiLCJkb2NEYXRhIiwiaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzIiwiaXNHZW5PbmUiLCJnZXRLZXlWYWx1ZURvY3MiLCJrdkRvY3NSZXMiLCJrdkRvY3MiLCJvbGRLZXlzIiwia2V5VmFsdWUiLCJuZXdLZXlzIiwia3ZEb2MiLCJwcm9jZXNzS2V5VmFsdWVEb2NzIiwiZ2V0UXVldWUiLCJ1cGRhdGVWaWV3IiwibWFwUmVzdWx0cyIsImN1cnJlbnRTZXEiLCJsaXN0T2ZEb2NzVG9QZXJzaXN0IiwiZG9jc1RvUGVyc2lzdCIsInNhdmVLZXlWYWx1ZXMiLCJpbmRleGVkX2RvY3MiLCJwcm9ncmVzcyIsInByb2Nlc3NOZXh0QmF0Y2giLCJjaGFuZ2VzX2JhdGNoX3NpemUiLCJjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMiLCJjcmVhdGVEb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyIsInJlc3VsdHNfY291bnQiLCJlbWl0dGVkS2V5VmFsdWUiLCJjb21wbGV4S2V5IiwidXBkYXRlVmlld0luUXVldWUiLCJxdWVyeVZpZXciLCJ0b3RhbFJvd3MiLCJzaG91bGRSZWR1Y2UiLCJmZXRjaEZyb21WaWV3Iiwidmlld09wdHMiLCJleHBlY3RlZEtleXMiLCJwYXJzZWRLZXlBbmREb2NJZCIsInBhcnNlZFN0ciIsInBhcnNlSW5kZXhhYmxlU3RyaW5nIiwib25NYXBSZXN1bHRzUmVhZHkiLCJmaW5hbFJlc3VsdHMiLCJzaG91bGRHcm91cCIsImx2bCIsIlBPU0lUSVZFX0lORklOSVRZIiwibGFzdCIsImdyb3VwS2V5IiwicmVkdWNlVHJ5IiwicmVkdWNlVmlldyIsImFsbERvY3NSZXMiLCJkb2NJZHNUb0RvY3MiLCJmZXRjaFByb21pc2VzIiwia2V5U3RhcnQiLCJrZXlFbmQiLCJxdWVyeVZpZXdJblF1ZXVlIiwicXVlcnlQcm9taXNlZCIsIl9xdWVyeSIsImN1c3RvbVF1ZXJ5Iiwia2V5c0FzU3RyaW5nIiwiaHR0cFF1ZXJ5IiwidXBkYXRlVmlld09wdHMiLCJ2aWV3X3VwZGF0ZV9jaGFuZ2VzX2JhdGNoX3NpemUiLCJmaW5hbFByb21pc2VGYWN0b3J5IiwiZGVzaWduRG9jTmFtZSIsInN0YWxlIiwiY29lcmNlT3B0aW9ucyIsInZpZXdDbGVhbnVwIiwiX3ZpZXdDbGVhbnVwIiwiY3VzdG9tVmlld0NsZWFudXAiLCJodHRwVmlld0NsZWFudXAiLCJkb2NzVG9WaWV3cyIsInZpZXdzVG9TdGF0dXMiLCJkZG9jTmFtZSIsInZpZXdEQk5hbWVzIiwic3RhdHVzSXNHb29kIiwidmlld0RCTmFtZSIsImRlc3Ryb3lQcm9taXNlcyIsImxvY2FsVmlld0NsZWFudXAiLCJjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZSIsIm9yaWdNYXAiLCJyZWR1Y2VGdW5TdHJpbmciLCJidWlsdEluIiwiZ2V0QnVpbHRJbiIsIm1hcHJlZHVjZSIsImlzR2VuT25lJDEiLCJnZXREb2NBdHRhY2htZW50cyIsImdldERvY3MiLCJkaWZmcyIsInJlc3VsdERvY3MiLCJmZXRjaFJldmlzaW9uT25lRG9jcyIsImhhc0NvbmZsaWN0cyIsImJ1bGtHZXRPcHRzIiwibWlzc2luZ1JldiIsImNyZWF0ZUJ1bGtHZXRPcHRzIiwiYnVsa0dldFJlc3BvbnNlIiwiYnVsa0dldEluZm8iLCJyZW1vdGVEb2MiLCJkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyIsImZpbGVIYXNDaGFuZ2VkIiwiZ2V0RG9jQXR0YWNobWVudHNGcm9tVGFyZ2V0T3JTb3VyY2UiLCJ1cGRhdGVDaGVja3BvaW50IiwiY2hlY2twb2ludCIsInNlc3Npb24iLCJyZXR1cm5WYWx1ZSIsInNlc3Npb25faWQiLCJyZXBsaWNhdG9yIiwiQ2hlY2twb2ludGVyIiwid3JpdGVDaGVja3BvaW50IiwidXBkYXRlVGFyZ2V0IiwidXBkYXRlU291cmNlIiwid3JpdGVUYXJnZXRDaGVja3BvaW50Iiwid3JpdGVTb3VyY2VDaGVja3BvaW50IiwiaXNGb3JiaWRkZW5FcnJvciIsImNvbXBhcmlzb25zIiwidGFyZ2V0RG9jIiwic291cmNlRG9jIiwic3JjRG9jIiwidGd0RG9jIiwiY29tcGFyZVJlcGxpY2F0aW9uSGlzdG9yeSIsInNvdXJjZUhpc3RvcnkiLCJ0YXJnZXRIaXN0b3J5IiwiUyIsInNvdXJjZVJlc3QiLCJUIiwidGFyZ2V0UmVzdCIsImhhc1Nlc3Npb25JZCIsImNvbXBhcmVSZXBsaWNhdGlvbkxvZ3MiLCJzZXNzaW9uSWQiLCJwcm9wcyIsInJlc3QiLCJmbG9vciIsImdldENoZWNrcG9pbnQiLCJnZW5lcmF0ZVJlcGxpY2F0aW9uSWQiLCJxdWVyeVBhcmFtcyIsImZpbHRlclZpZXdOYW1lIiwic29ydE9iamVjdFByb3BlcnRpZXNCeUtleSIsInF1ZXJ5RGF0YSIsIm1kNXN1bSIsInJlcGxpY2F0ZSIsImN1cnJlbnRCYXRjaCIsInJlcElkIiwiY2hlY2twb2ludGVyIiwiYmF0Y2hlcyIsInBlbmRpbmdCYXRjaCIsIndyaXRpbmdDaGVja3BvaW50IiwiY2hhbmdlc0NvbXBsZXRlZCIsInJlcGxpY2F0aW9uQ29tcGxldGVkIiwiYmF0Y2hlc19saW1pdCIsImNoYW5nZXNQZW5kaW5nIiwiY2hhbmdlZERvY3MiLCJzdGFydF90aW1lIiwiZG9jc19yZWFkIiwiZG9jc193cml0dGVuIiwiZG9jX3dyaXRlX2ZhaWx1cmVzIiwiaW5pdENoZWNrcG9pbnRlciIsImNoZWNrcG9pbnRPcHRzIiwid3JpdGVEb2NzIiwiYnVsa09wdHMiLCJjb21wbGV0ZVJlcGxpY2F0aW9uIiwiZXJyb3JzQnlJZCIsImVycm9yc05vIiwiZXJyb3JOYW1lIiwiZmluaXNoQmF0Y2giLCJvdXRSZXN1bHQiLCJnZXRDaGFuZ2VzIiwib25DaGVja3BvaW50RXJyb3IiLCJnZXRCYXRjaERvY3MiLCJnb3QiLCJzdGFydE5leHRCYXRjaCIsImFib3J0UmVwbGljYXRpb24iLCJwcm9jZXNzUGVuZGluZ0JhdGNoIiwiaW1tZWRpYXRlJCQxIiwiZmF0YWxFcnJvciIsImVuZF90aW1lIiwicmV0cnkiLCJiYWNrX29mZl9mdW5jdGlvbiIsImJhY2tPZmZTZXQiLCJjdXJyZW50X2JhY2tfb2ZmIiwiYmFja09mZiIsIm9uQ2hhbmdlc0NvbXBsZXRlIiwib25DaGFuZ2VzRXJyb3IiLCJfYWJvcnRDaGFuZ2VzIiwiYWJvcnRDaGFuZ2VzIiwic3RhcnRDaGFuZ2VzIiwiX2FkZGVkTGlzdGVuZXJzIiwiUmVwbGljYXRpb24iLCJ0b1BvdWNoIiwiUG91Y2hDb25zdHJ1Y3RvciIsInJlcGxpY2F0ZVdyYXBwZXIiLCJyZXBsaWNhdGVSZXQiLCJTeW5jIiwiY2FuY2VsZWQiLCJvcHRzUHVzaCIsIm9wdHNQdWxsIiwicHVsbCIsInB1bGxDaGFuZ2UiLCJwdXNoQ2hhbmdlIiwicHVzaERlbmllZCIsInB1bGxEZW5pZWQiLCJwdXNoUGF1c2VkIiwicHVsbFBhdXNlZCIsInB1c2hBY3RpdmUiLCJwdWxsQWN0aXZlIiwicmVtb3ZlZCIsInJlbW92ZUFsbCIsImFkZE9uZUxpc3RlbmVyIiwib3V0IiwiY2xlYW51cCIsIl9yZWFkeUNhbGxlZCIsInJlcGxpY2F0ZU1ldGhvZHMiLCJjYWNoZWRTZXRUaW1lb3V0IiwiY2FjaGVkQ2xlYXJUaW1lb3V0IiwiZGVmYXVsdFNldFRpbW91dCIsImRlZmF1bHRDbGVhclRpbWVvdXQiLCJydW5UaW1lb3V0IiwiZHJhaW5RdWV1ZSIsIm1hcmtlciIsInJ1bkNsZWFyVGltZW91dCIsIm5vb3AiLCJ0aXRsZSIsImVudiIsImFyZ3YiLCJ2ZXJzaW9ucyIsImJpbmRpbmciLCJjd2QiLCJjaGRpciIsImRpciIsInVtYXNrIiwiRlVOQ19FUlJPUl9URVhUIiwiUExBQ0VIT0xERVIiLCJ3cmFwRmxhZ3MiLCJhcmdzVGFnIiwiYXJyYXlUYWciLCJib29sVGFnIiwiZGF0ZVRhZyIsImVycm9yVGFnIiwiZnVuY1RhZyIsImdlblRhZyIsIm1hcFRhZyIsIm51bWJlclRhZyIsIm9iamVjdFRhZyIsInJlZ2V4cFRhZyIsInNldFRhZyIsInN0cmluZ1RhZyIsInN5bWJvbFRhZyIsIndlYWtNYXBUYWciLCJhcnJheUJ1ZmZlclRhZyIsImRhdGFWaWV3VGFnIiwiZmxvYXQzMlRhZyIsImZsb2F0NjRUYWciLCJpbnQ4VGFnIiwiaW50MTZUYWciLCJpbnQzMlRhZyIsInVpbnQ4VGFnIiwidWludDE2VGFnIiwidWludDMyVGFnIiwicmVFbXB0eVN0cmluZ0xlYWRpbmciLCJyZUVtcHR5U3RyaW5nTWlkZGxlIiwicmVFbXB0eVN0cmluZ1RyYWlsaW5nIiwicmVFc2NhcGVkSHRtbCIsInJlVW5lc2NhcGVkSHRtbCIsInJlSGFzRXNjYXBlZEh0bWwiLCJyZUhhc1VuZXNjYXBlZEh0bWwiLCJyZUVzY2FwZSIsInJlRXZhbHVhdGUiLCJyZUludGVycG9sYXRlIiwicmVJc0RlZXBQcm9wIiwicmVJc1BsYWluUHJvcCIsInJlUHJvcE5hbWUiLCJyZVJlZ0V4cENoYXIiLCJyZUhhc1JlZ0V4cENoYXIiLCJyZVRyaW1TdGFydCIsInJlV2hpdGVzcGFjZSIsInJlV3JhcENvbW1lbnQiLCJyZVdyYXBEZXRhaWxzIiwicmVTcGxpdERldGFpbHMiLCJyZUFzY2lpV29yZCIsInJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzIiwicmVFc2NhcGVDaGFyIiwicmVFc1RlbXBsYXRlIiwicmVGbGFncyIsInJlSXNCYWRIZXgiLCJyZUlzQmluYXJ5IiwicmVJc0hvc3RDdG9yIiwicmVJc09jdGFsIiwicmVJc1VpbnQiLCJyZUxhdGluIiwicmVOb01hdGNoIiwicmVVbmVzY2FwZWRTdHJpbmciLCJyc0NvbWJvUmFuZ2UiLCJyc0NvbWJvTWFya3NSYW5nZSIsInJzQnJlYWtSYW5nZSIsInJzTWF0aE9wUmFuZ2UiLCJyc0FzdHJhbCIsInJzQnJlYWsiLCJyc0NvbWJvIiwicnNEaWdpdHMiLCJyc0RpbmdiYXQiLCJyc0xvd2VyIiwicnNNaXNjIiwicnNGaXR6IiwicnNOb25Bc3RyYWwiLCJyc1JlZ2lvbmFsIiwicnNTdXJyUGFpciIsInJzVXBwZXIiLCJyc01pc2NMb3dlciIsInJzTWlzY1VwcGVyIiwicmVPcHRNb2QiLCJyc1NlcSIsInJzRW1vamkiLCJyc1N5bWJvbCIsInJlQXBvcyIsInJlQ29tYm9NYXJrIiwicmVVbmljb2RlIiwicmVVbmljb2RlV29yZCIsInJlSGFzVW5pY29kZSIsInJlSGFzVW5pY29kZVdvcmQiLCJjb250ZXh0UHJvcHMiLCJ0ZW1wbGF0ZUNvdW50ZXIiLCJ0eXBlZEFycmF5VGFncyIsImNsb25lYWJsZVRhZ3MiLCJzdHJpbmdFc2NhcGVzIiwiZnJlZVBhcnNlRmxvYXQiLCJmcmVlUGFyc2VJbnQiLCJmcmVlR2xvYmFsIiwiZnJlZVNlbGYiLCJmcmVlRXhwb3J0cyIsIm5vZGVUeXBlIiwiZnJlZU1vZHVsZSIsIm1vZHVsZUV4cG9ydHMiLCJmcmVlUHJvY2VzcyIsIm5vZGVVdGlsIiwicmVxdWlyZSIsIm5vZGVJc0FycmF5QnVmZmVyIiwiaXNBcnJheUJ1ZmZlciIsIm5vZGVJc0RhdGUiLCJpc0RhdGUiLCJub2RlSXNNYXAiLCJpc01hcCIsIm5vZGVJc1JlZ0V4cCIsImlzUmVnRXhwIiwibm9kZUlzU2V0IiwiaXNTZXQiLCJub2RlSXNUeXBlZEFycmF5IiwiaXNUeXBlZEFycmF5IiwidGhpc0FyZyIsImFycmF5QWdncmVnYXRvciIsInNldHRlciIsIml0ZXJhdGVlIiwiYWNjdW11bGF0b3IiLCJhcnJheUVhY2giLCJhcnJheUVhY2hSaWdodCIsImFycmF5RXZlcnkiLCJwcmVkaWNhdGUiLCJhcnJheUZpbHRlciIsInJlc0luZGV4IiwiYXJyYXlJbmNsdWRlcyIsImJhc2VJbmRleE9mIiwiYXJyYXlJbmNsdWRlc1dpdGgiLCJhcnJheU1hcCIsImFycmF5UHVzaCIsImFycmF5UmVkdWNlIiwiaW5pdEFjY3VtIiwiYXJyYXlSZWR1Y2VSaWdodCIsImFycmF5U29tZSIsImFzY2lpU2l6ZSIsImJhc2VQcm9wZXJ0eSIsImJhc2VGaW5kS2V5IiwiY29sbGVjdGlvbiIsImVhY2hGdW5jIiwiYmFzZUZpbmRJbmRleCIsImZyb21JbmRleCIsImZyb21SaWdodCIsInN0cmljdEluZGV4T2YiLCJiYXNlSXNOYU4iLCJiYXNlSW5kZXhPZldpdGgiLCJiYXNlTWVhbiIsImJhc2VTdW0iLCJiYXNlUHJvcGVydHlPZiIsImJhc2VSZWR1Y2UiLCJiYXNlVGltZXMiLCJiYXNlVHJpbSIsInRyaW1tZWRFbmRJbmRleCIsImJhc2VVbmFyeSIsImJhc2VWYWx1ZXMiLCJjYWNoZUhhcyIsImNhY2hlIiwiY2hhcnNTdGFydEluZGV4Iiwic3RyU3ltYm9scyIsImNoclN5bWJvbHMiLCJjaGFyc0VuZEluZGV4IiwiY291bnRIb2xkZXJzIiwicGxhY2Vob2xkZXIiLCJkZWJ1cnJMZXR0ZXIiLCJlc2NhcGVIdG1sQ2hhciIsImVzY2FwZVN0cmluZ0NoYXIiLCJjaHIiLCJoYXNVbmljb2RlIiwibWFwVG9BcnJheSIsIm92ZXJBcmciLCJyZXBsYWNlSG9sZGVycyIsInNldFRvQXJyYXkiLCJzZXRUb1BhaXJzIiwic3RyaW5nU2l6ZSIsImxhc3RJbmRleCIsInVuaWNvZGVTaXplIiwic3RyaW5nVG9BcnJheSIsInVuaWNvZGVUb0FycmF5IiwiYXNjaWlUb0FycmF5IiwidW5lc2NhcGVIdG1sQ2hhciIsInJ1bkluQ29udGV4dCIsInVpZCIsImFycmF5UHJvdG8iLCJmdW5jUHJvdG8iLCJvYmplY3RQcm90byIsImNvcmVKc0RhdGEiLCJpZENvdW50ZXIiLCJtYXNrU3JjS2V5IiwiSUVfUFJPVE8iLCJuYXRpdmVPYmplY3RUb1N0cmluZyIsIm9sZERhc2giLCJyZUlzTmF0aXZlIiwiQnVmZmVyIiwiYWxsb2NVbnNhZmUiLCJnZXRQcm90b3R5cGUiLCJvYmplY3RDcmVhdGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInNwcmVhZGFibGVTeW1ib2wiLCJpc0NvbmNhdFNwcmVhZGFibGUiLCJzeW1JdGVyYXRvciIsIml0ZXJhdG9yIiwic3ltVG9TdHJpbmdUYWciLCJnZXROYXRpdmUiLCJjdHhDbGVhclRpbWVvdXQiLCJjdHhOb3ciLCJjdHhTZXRUaW1lb3V0IiwibmF0aXZlQ2VpbCIsIm5hdGl2ZUZsb29yIiwibmF0aXZlR2V0U3ltYm9scyIsIm5hdGl2ZUlzQnVmZmVyIiwiaXNCdWZmZXIiLCJuYXRpdmVJc0Zpbml0ZSIsIm5hdGl2ZUpvaW4iLCJuYXRpdmVLZXlzIiwibmF0aXZlTWF4IiwibmF0aXZlTWluIiwibmF0aXZlTm93IiwibmF0aXZlUGFyc2VJbnQiLCJuYXRpdmVSYW5kb20iLCJuYXRpdmVSZXZlcnNlIiwiRGF0YVZpZXciLCJXZWFrTWFwIiwibmF0aXZlQ3JlYXRlIiwibWV0YU1hcCIsInJlYWxOYW1lcyIsImRhdGFWaWV3Q3RvclN0cmluZyIsInRvU291cmNlIiwibWFwQ3RvclN0cmluZyIsInByb21pc2VDdG9yU3RyaW5nIiwic2V0Q3RvclN0cmluZyIsIndlYWtNYXBDdG9yU3RyaW5nIiwic3ltYm9sUHJvdG8iLCJzeW1ib2xWYWx1ZU9mIiwidmFsdWVPZiIsInN5bWJvbFRvU3RyaW5nIiwibG9kYXNoIiwiaXNPYmplY3RMaWtlIiwiTGF6eVdyYXBwZXIiLCJMb2Rhc2hXcmFwcGVyIiwid3JhcHBlckNsb25lIiwiYmFzZUNyZWF0ZSIsImlzT2JqZWN0IiwiYmFzZUxvZGFzaCIsImNoYWluQWxsIiwiX193cmFwcGVkX18iLCJfX2FjdGlvbnNfXyIsIl9fY2hhaW5fXyIsIl9faW5kZXhfXyIsIl9fdmFsdWVzX18iLCJfX2Rpcl9fIiwiX19maWx0ZXJlZF9fIiwiX19pdGVyYXRlZXNfXyIsIl9fdGFrZUNvdW50X18iLCJfX3ZpZXdzX18iLCJIYXNoIiwiY2xlYXIiLCJlbnRyeSIsIkxpc3RDYWNoZSIsIk1hcENhY2hlIiwiU2V0Q2FjaGUiLCJfX2RhdGFfXyIsIlN0YWNrIiwiYXJyYXlMaWtlS2V5cyIsImluaGVyaXRlZCIsImlzQXJyIiwiaXNBcmciLCJpc0FyZ3VtZW50cyIsImlzQnVmZiIsImlzVHlwZSIsInNraXBJbmRleGVzIiwiaXNJbmRleCIsImFycmF5U2FtcGxlIiwiYmFzZVJhbmRvbSIsImFycmF5U2FtcGxlU2l6ZSIsInNodWZmbGVTZWxmIiwiY29weUFycmF5IiwiYmFzZUNsYW1wIiwiYXJyYXlTaHVmZmxlIiwiYXNzaWduTWVyZ2VWYWx1ZSIsImVxIiwiYmFzZUFzc2lnblZhbHVlIiwiYXNzaWduVmFsdWUiLCJvYmpWYWx1ZSIsImFzc29jSW5kZXhPZiIsImJhc2VBZ2dyZWdhdG9yIiwiYmFzZUVhY2giLCJiYXNlQXNzaWduIiwiY29weU9iamVjdCIsImJhc2VBdCIsImxvd2VyIiwiYmFzZUNsb25lIiwiYml0bWFzayIsImN1c3RvbWl6ZXIiLCJpc0RlZXAiLCJpc0ZsYXQiLCJpc0Z1bGwiLCJpbml0Q2xvbmVBcnJheSIsInRhZyIsImdldFRhZyIsImlzRnVuYyIsImNsb25lQnVmZmVyIiwiaW5pdENsb25lT2JqZWN0IiwiZ2V0U3ltYm9sc0luIiwiY29weVN5bWJvbHNJbiIsImtleXNJbiIsImJhc2VBc3NpZ25JbiIsImdldFN5bWJvbHMiLCJjb3B5U3ltYm9scyIsImRhdGFWaWV3IiwiYnl0ZU9mZnNldCIsImNsb25lRGF0YVZpZXciLCJjbG9uZVR5cGVkQXJyYXkiLCJjbG9uZVJlZ0V4cCIsInN5bWJvbCIsImluaXRDbG9uZUJ5VGFnIiwic3RhY2tlZCIsInN1YlZhbHVlIiwiZ2V0QWxsS2V5c0luIiwiYmFzZUNvbmZvcm1zVG8iLCJiYXNlRGVsYXkiLCJ3YWl0IiwiYmFzZURpZmZlcmVuY2UiLCJpc0NvbW1vbiIsInZhbHVlc0xlbmd0aCIsIm91dGVyIiwiY29tcHV0ZWQiLCJ2YWx1ZXNJbmRleCIsInRlbXBsYXRlU2V0dGluZ3MiLCJnZXRNYXBEYXRhIiwicGFpcnMiLCJMQVJHRV9BUlJBWV9TSVpFIiwiY3JlYXRlQmFzZUVhY2giLCJiYXNlRm9yT3duIiwiYmFzZUVhY2hSaWdodCIsImJhc2VGb3JPd25SaWdodCIsImJhc2VFdmVyeSIsImJhc2VFeHRyZW11bSIsImlzU3ltYm9sIiwiYmFzZUZpbHRlciIsImJhc2VGbGF0dGVuIiwiaXNTdHJpY3QiLCJpc0ZsYXR0ZW5hYmxlIiwiYmFzZUZvciIsImNyZWF0ZUJhc2VGb3IiLCJiYXNlRm9yUmlnaHQiLCJiYXNlRnVuY3Rpb25zIiwiaXNGdW5jdGlvbiIsImJhc2VHZXQiLCJjYXN0UGF0aCIsInRvS2V5IiwiYmFzZUdldEFsbEtleXMiLCJrZXlzRnVuYyIsInN5bWJvbHNGdW5jIiwiYmFzZUdldFRhZyIsImlzT3duIiwidW5tYXNrZWQiLCJnZXRSYXdUYWciLCJvYmplY3RUb1N0cmluZyIsImJhc2VHdCIsImJhc2VIYXMiLCJiYXNlSGFzSW4iLCJiYXNlSW50ZXJzZWN0aW9uIiwiYXJyYXlzIiwib3RoTGVuZ3RoIiwib3RoSW5kZXgiLCJjYWNoZXMiLCJtYXhMZW5ndGgiLCJzZWVuIiwiYmFzZUludm9rZSIsImJhc2VJc0FyZ3VtZW50cyIsImJhc2VJc0VxdWFsIiwiZXF1YWxGdW5jIiwib2JqSXNBcnIiLCJvdGhJc0FyciIsIm9ialRhZyIsIm90aFRhZyIsIm9iaklzT2JqIiwib3RoSXNPYmoiLCJpc1NhbWVUYWciLCJlcXVhbEFycmF5cyIsImNvbnZlcnQiLCJpc1BhcnRpYWwiLCJlcXVhbEJ5VGFnIiwib2JqSXNXcmFwcGVkIiwib3RoSXNXcmFwcGVkIiwib2JqVW53cmFwcGVkIiwib3RoVW53cmFwcGVkIiwib2JqUHJvcHMiLCJvYmpMZW5ndGgiLCJvYmpTdGFja2VkIiwib3RoU3RhY2tlZCIsInNraXBDdG9yIiwib3RoVmFsdWUiLCJjb21wYXJlZCIsIm9iakN0b3IiLCJvdGhDdG9yIiwiZXF1YWxPYmplY3RzIiwiYmFzZUlzRXF1YWxEZWVwIiwiYmFzZUlzTWF0Y2giLCJtYXRjaERhdGEiLCJub0N1c3RvbWl6ZXIiLCJzcmNWYWx1ZSIsIkNPTVBBUkVfUEFSVElBTF9GTEFHIiwiYmFzZUlzTmF0aXZlIiwiYmFzZUl0ZXJhdGVlIiwiaWRlbnRpdHkiLCJiYXNlTWF0Y2hlc1Byb3BlcnR5IiwiYmFzZU1hdGNoZXMiLCJiYXNlS2V5cyIsImlzUHJvdG90eXBlIiwiYmFzZUtleXNJbiIsIm5hdGl2ZUtleXNJbiIsImlzUHJvdG8iLCJiYXNlTHQiLCJiYXNlTWFwIiwiaXNBcnJheUxpa2UiLCJnZXRNYXRjaERhdGEiLCJtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZSIsImlzS2V5IiwiaXNTdHJpY3RDb21wYXJhYmxlIiwiaGFzSW4iLCJiYXNlTWVyZ2UiLCJzcmNJbmRleCIsIm1lcmdlRnVuYyIsInNhZmVHZXQiLCJuZXdWYWx1ZSIsImlzVHlwZWQiLCJpc0FycmF5TGlrZU9iamVjdCIsInRvUGxhaW5PYmplY3QiLCJiYXNlTWVyZ2VEZWVwIiwiYmFzZU50aCIsImJhc2VPcmRlckJ5IiwiaXRlcmF0ZWVzIiwib3JkZXJzIiwiZ2V0SXRlcmF0ZWUiLCJjb21wYXJlciIsImJhc2VTb3J0QnkiLCJvYmpDcml0ZXJpYSIsImNyaXRlcmlhIiwib3RoQ3JpdGVyaWEiLCJvcmRlcnNMZW5ndGgiLCJjb21wYXJlQXNjZW5kaW5nIiwib3JkZXIiLCJjb21wYXJlTXVsdGlwbGUiLCJiYXNlUGlja0J5IiwiYmFzZVNldCIsImJhc2VQdWxsQWxsIiwiYmFzZVB1bGxBdCIsImluZGV4ZXMiLCJiYXNlVW5zZXQiLCJiYXNlUmVwZWF0IiwiYmFzZVJlc3QiLCJzZXRUb1N0cmluZyIsIm92ZXJSZXN0IiwiYmFzZVNhbXBsZSIsImJhc2VTYW1wbGVTaXplIiwibmVzdGVkIiwiYmFzZVNldERhdGEiLCJiYXNlU2V0VG9TdHJpbmciLCJjb25zdGFudCIsImJhc2VTaHVmZmxlIiwiYmFzZVNsaWNlIiwiYmFzZVNvbWUiLCJiYXNlU29ydGVkSW5kZXgiLCJyZXRIaWdoZXN0IiwiTUFYX0FSUkFZX0xFTkdUSCIsImJhc2VTb3J0ZWRJbmRleEJ5IiwidmFsSXNOYU4iLCJ2YWxJc051bGwiLCJ2YWxJc1N5bWJvbCIsInZhbElzVW5kZWZpbmVkIiwib3RoSXNEZWZpbmVkIiwib3RoSXNOdWxsIiwib3RoSXNSZWZsZXhpdmUiLCJvdGhJc1N5bWJvbCIsInNldExvdyIsImJhc2VTb3J0ZWRVbmlxIiwiYmFzZVRvTnVtYmVyIiwiYmFzZVRvU3RyaW5nIiwiYmFzZVVuaXEiLCJjcmVhdGVTZXQiLCJzZWVuSW5kZXgiLCJiYXNlVXBkYXRlIiwidXBkYXRlciIsImJhc2VXaGlsZSIsImlzRHJvcCIsImJhc2VXcmFwcGVyVmFsdWUiLCJhY3Rpb25zIiwiYmFzZVhvciIsImJhc2VaaXBPYmplY3QiLCJhc3NpZ25GdW5jIiwidmFsc0xlbmd0aCIsImNhc3RBcnJheUxpa2VPYmplY3QiLCJjYXN0RnVuY3Rpb24iLCJzdHJpbmdUb1BhdGgiLCJjYXN0UmVzdCIsImNhc3RTbGljZSIsInR5cGVkQXJyYXkiLCJ2YWxJc0RlZmluZWQiLCJ2YWxJc1JlZmxleGl2ZSIsImNvbXBvc2VBcmdzIiwicGFydGlhbHMiLCJob2xkZXJzIiwiaXNDdXJyaWVkIiwiYXJnc0luZGV4IiwiYXJnc0xlbmd0aCIsImhvbGRlcnNMZW5ndGgiLCJsZWZ0SW5kZXgiLCJsZWZ0TGVuZ3RoIiwicmFuZ2VMZW5ndGgiLCJpc1VuY3VycmllZCIsImNvbXBvc2VBcmdzUmlnaHQiLCJob2xkZXJzSW5kZXgiLCJyaWdodEluZGV4IiwicmlnaHRMZW5ndGgiLCJpc05ldyIsImNyZWF0ZUFnZ3JlZ2F0b3IiLCJpbml0aWFsaXplciIsImNyZWF0ZUFzc2lnbmVyIiwiYXNzaWduZXIiLCJzb3VyY2VzIiwiZ3VhcmQiLCJpc0l0ZXJhdGVlQ2FsbCIsIml0ZXJhYmxlIiwiY3JlYXRlQ2FzZUZpcnN0IiwibWV0aG9kTmFtZSIsInRyYWlsaW5nIiwiY3JlYXRlQ29tcG91bmRlciIsIndvcmRzIiwiZGVidXJyIiwiY3JlYXRlQ3RvciIsInRoaXNCaW5kaW5nIiwiY3JlYXRlRmluZCIsImZpbmRJbmRleEZ1bmMiLCJjcmVhdGVGbG93IiwiZmxhdFJlc3QiLCJmdW5jcyIsInByZXJlcSIsInRocnUiLCJ3cmFwcGVyIiwiZ2V0RnVuY05hbWUiLCJmdW5jTmFtZSIsImdldERhdGEiLCJpc0xhemlhYmxlIiwicGxhbnQiLCJjcmVhdGVIeWJyaWQiLCJwYXJ0aWFsc1JpZ2h0IiwiaG9sZGVyc1JpZ2h0IiwiYXJnUG9zIiwiYXJ5IiwiYXJpdHkiLCJpc0FyeSIsImlzQmluZCIsImlzQmluZEtleSIsImlzRmxpcCIsImdldEhvbGRlciIsImhvbGRlcnNDb3VudCIsIm5ld0hvbGRlcnMiLCJjcmVhdGVSZWN1cnJ5IiwiZm4iLCJyZW9yZGVyIiwiY3JlYXRlSW52ZXJ0ZXIiLCJ0b0l0ZXJhdGVlIiwiYmFzZUludmVydGVyIiwiY3JlYXRlTWF0aE9wZXJhdGlvbiIsImRlZmF1bHRWYWx1ZSIsImNyZWF0ZU92ZXIiLCJhcnJheUZ1bmMiLCJjcmVhdGVQYWRkaW5nIiwiY2hhcnMiLCJjaGFyc0xlbmd0aCIsImNyZWF0ZVJhbmdlIiwic3RlcCIsInRvRmluaXRlIiwiYmFzZVJhbmdlIiwiY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbiIsInRvTnVtYmVyIiwid3JhcEZ1bmMiLCJpc0N1cnJ5IiwibmV3RGF0YSIsInNldERhdGEiLCJzZXRXcmFwVG9TdHJpbmciLCJjcmVhdGVSb3VuZCIsInByZWNpc2lvbiIsInRvSW50ZWdlciIsInBhaXIiLCJjcmVhdGVUb1BhaXJzIiwiYmFzZVRvUGFpcnMiLCJjcmVhdGVXcmFwIiwic3JjQml0bWFzayIsIm5ld0JpdG1hc2siLCJpc0NvbWJvIiwibWVyZ2VEYXRhIiwiY3JlYXRlQ3VycnkiLCJjcmVhdGVQYXJ0aWFsIiwiY3JlYXRlQmluZCIsImN1c3RvbURlZmF1bHRzQXNzaWduSW4iLCJjdXN0b21EZWZhdWx0c01lcmdlIiwiY3VzdG9tT21pdENsb25lIiwiYXJyTGVuZ3RoIiwiYXJyU3RhY2tlZCIsImFyclZhbHVlIiwib3RoZXJGdW5jIiwiZ2V0VmFsdWUiLCJzdHViQXJyYXkiLCJoYXNQYXRoIiwiaGFzRnVuYyIsImlzTGVuZ3RoIiwiY3RvclN0cmluZyIsImlzTWFza2FibGUiLCJzdHViRmFsc2UiLCJvdGhlckFyZ3MiLCJvbGRBcnJheSIsInNob3J0T3V0IiwicmVmZXJlbmNlIiwiZGV0YWlscyIsImluc2VydFdyYXBEZXRhaWxzIiwidXBkYXRlV3JhcERldGFpbHMiLCJnZXRXcmFwRGV0YWlscyIsImxhc3RDYWxsZWQiLCJzdGFtcCIsInJlbWFpbmluZyIsInJhbmQiLCJtZW1vaXplIiwibWVtb2l6ZUNhcHBlZCIsInF1b3RlIiwic3ViU3RyaW5nIiwiZGlmZmVyZW5jZSIsImRpZmZlcmVuY2VCeSIsImRpZmZlcmVuY2VXaXRoIiwiZmluZEluZGV4IiwiZmluZExhc3RJbmRleCIsImhlYWQiLCJpbnRlcnNlY3Rpb24iLCJtYXBwZWQiLCJpbnRlcnNlY3Rpb25CeSIsImludGVyc2VjdGlvbldpdGgiLCJwdWxsQWxsIiwicHVsbEF0IiwidW5pb24iLCJ1bmlvbkJ5IiwidW5pb25XaXRoIiwidW56aXAiLCJ1bnppcFdpdGgiLCJ3aXRob3V0IiwieG9yIiwieG9yQnkiLCJ4b3JXaXRoIiwiemlwIiwiemlwV2l0aCIsImNoYWluIiwiaW50ZXJjZXB0b3IiLCJ3cmFwcGVyQXQiLCJjb3VudEJ5IiwiZmluZExhc3QiLCJmb3JFYWNoUmlnaHQiLCJncm91cEJ5IiwiaW52b2tlTWFwIiwia2V5QnkiLCJwYXJ0aXRpb24iLCJzb3J0QnkiLCJiZWZvcmUiLCJiaW5kS2V5IiwiV1JBUF9CSU5EX0ZMQUciLCJkZWJvdW5jZSIsImxhc3RBcmdzIiwibGFzdFRoaXMiLCJtYXhXYWl0IiwidGltZXJJZCIsImxhc3RDYWxsVGltZSIsImxhc3RJbnZva2VUaW1lIiwibGVhZGluZyIsIm1heGluZyIsImludm9rZUZ1bmMiLCJ0aW1lIiwibGVhZGluZ0VkZ2UiLCJ0aW1lckV4cGlyZWQiLCJzaG91bGRJbnZva2UiLCJ0aW1lU2luY2VMYXN0Q2FsbCIsInRyYWlsaW5nRWRnZSIsInRpbWVXYWl0aW5nIiwicmVtYWluaW5nV2FpdCIsImRlYm91bmNlZCIsImlzSW52b2tpbmciLCJmbHVzaCIsImRlZmVyIiwiZGVsYXkiLCJtZW1vaXplZCIsIkNhY2hlIiwibmVnYXRlIiwib3ZlckFyZ3MiLCJ0cmFuc2Zvcm1zIiwiZnVuY3NMZW5ndGgiLCJwYXJ0aWFsIiwicGFydGlhbFJpZ2h0IiwicmVhcmciLCJndCIsImd0ZSIsImlzRXJyb3IiLCJpc0ludGVnZXIiLCJpc051bWJlciIsImlzU3RyaW5nIiwibHQiLCJsdGUiLCJ0b0FycmF5IiwiaXRlcmF0b3JUb0FycmF5IiwicmVtYWluZGVyIiwidG9MZW5ndGgiLCJpc0JpbmFyeSIsImFzc2lnbkluIiwiYXNzaWduSW5XaXRoIiwiYXNzaWduV2l0aCIsImF0IiwicHJvcHNJbmRleCIsInByb3BzTGVuZ3RoIiwiZGVmYXVsdHNEZWVwIiwibWVyZ2VXaXRoIiwiaW52ZXJ0IiwiaW52ZXJ0QnkiLCJpbnZva2UiLCJvbWl0IiwiQ0xPTkVfREVFUF9GTEFHIiwiYmFzZVBpY2siLCJwaWNrQnkiLCJ0b1BhaXJzIiwidG9QYWlyc0luIiwiY2FtZWxDYXNlIiwid29yZCIsImNhcGl0YWxpemUiLCJ1cHBlckZpcnN0Iiwia2ViYWJDYXNlIiwibG93ZXJDYXNlIiwibG93ZXJGaXJzdCIsInNuYWtlQ2FzZSIsInN0YXJ0Q2FzZSIsInVwcGVyQ2FzZSIsImhhc1VuaWNvZGVXb3JkIiwidW5pY29kZVdvcmRzIiwiYXNjaWlXb3JkcyIsImF0dGVtcHQiLCJiaW5kQWxsIiwibWV0aG9kTmFtZXMiLCJmbG93IiwiZmxvd1JpZ2h0IiwibWV0aG9kT2YiLCJtaXhpbiIsIm92ZXIiLCJvdmVyRXZlcnkiLCJvdmVyU29tZSIsImJhc2VQcm9wZXJ0eURlZXAiLCJyYW5nZVJpZ2h0IiwiYXVnZW5kIiwiYWRkZW5kIiwiZGl2aWRlIiwiZGl2aWRlbmQiLCJkaXZpc29yIiwibXVsdGlwbGllciIsIm11bHRpcGxpY2FuZCIsInN1YnRyYWN0IiwibWludWVuZCIsInN1YnRyYWhlbmQiLCJhZnRlciIsImNhc3RBcnJheSIsImNodW5rIiwiY29uZCIsImNvbmZvcm1zIiwiYmFzZUNvbmZvcm1zIiwiY3VycnkiLCJjdXJyeVJpZ2h0IiwiZHJvcFJpZ2h0IiwiZHJvcFJpZ2h0V2hpbGUiLCJkcm9wV2hpbGUiLCJiYXNlRmlsbCIsImZsYXRNYXAiLCJmbGF0TWFwRGVlcCIsImZsYXRNYXBEZXB0aCIsImZsYXR0ZW5EZWVwIiwiZmxhdHRlbkRlcHRoIiwiZmxpcCIsImZyb21QYWlycyIsImZ1bmN0aW9ucyIsImZ1bmN0aW9uc0luIiwiaW5pdGlhbCIsIm1hcEtleXMiLCJtYXBWYWx1ZXMiLCJtYXRjaGVzIiwibWF0Y2hlc1Byb3BlcnR5IiwibnRoQXJnIiwib21pdEJ5Iiwib3JkZXJCeSIsInByb3BlcnR5T2YiLCJwdWxsQWxsQnkiLCJwdWxsQWxsV2l0aCIsInNhbXBsZVNpemUiLCJzZXRXaXRoIiwic2h1ZmZsZSIsInNvcnRlZFVuaXEiLCJzb3J0ZWRVbmlxQnkiLCJzZXBhcmF0b3IiLCJzcHJlYWQiLCJ0YWtlIiwidGFrZVJpZ2h0IiwidGFrZVJpZ2h0V2hpbGUiLCJ0YWtlV2hpbGUiLCJ0YXAiLCJ0aHJvdHRsZSIsInRvUGF0aCIsImlzQXJyTGlrZSIsInVuYXJ5IiwidW5pcUJ5IiwidW5pcVdpdGgiLCJ1bnNldCIsInVwZGF0ZSIsInVwZGF0ZVdpdGgiLCJ2YWx1ZXNJbiIsIndyYXAiLCJ6aXBPYmplY3QiLCJ6aXBPYmplY3REZWVwIiwiZW50cmllc0luIiwiZXh0ZW5kIiwiZXh0ZW5kV2l0aCIsImNsb25lRGVlcCIsImNsb25lRGVlcFdpdGgiLCJjbG9uZVdpdGgiLCJjb25mb3Jtc1RvIiwiZGVmYXVsdFRvIiwiZW5kc1dpdGgiLCJlc2NhcGUiLCJlc2NhcGVSZWdFeHAiLCJmaW5kS2V5IiwiZmluZExhc3RLZXkiLCJmb3JJbiIsImZvckluUmlnaHQiLCJmb3JPd24iLCJmb3JPd25SaWdodCIsImluUmFuZ2UiLCJiYXNlSW5SYW5nZSIsImlzQm9vbGVhbiIsImlzRWxlbWVudCIsImlzRW1wdHkiLCJpc0VxdWFsIiwiaXNFcXVhbFdpdGgiLCJpc01hdGNoIiwiaXNNYXRjaFdpdGgiLCJpc05hdGl2ZSIsImlzTmlsIiwiaXNOdWxsIiwiaXNTYWZlSW50ZWdlciIsImlzVW5kZWZpbmVkIiwiaXNXZWFrTWFwIiwiaXNXZWFrU2V0Iiwic3RyaWN0TGFzdEluZGV4T2YiLCJtYXhCeSIsIm1lYW4iLCJtZWFuQnkiLCJtaW5CeSIsInN0dWJPYmplY3QiLCJzdHViU3RyaW5nIiwic3R1YlRydWUiLCJudGgiLCJub0NvbmZsaWN0Iiwic3RyTGVuZ3RoIiwicGFkRW5kIiwicmFkaXgiLCJmbG9hdGluZyIsInJlZHVjZVJpZ2h0IiwicmVwZWF0Iiwic2FtcGxlIiwic29ydGVkSW5kZXgiLCJzb3J0ZWRJbmRleEJ5Iiwic29ydGVkSW5kZXhPZiIsInNvcnRlZExhc3RJbmRleCIsInNvcnRlZExhc3RJbmRleEJ5Iiwic29ydGVkTGFzdEluZGV4T2YiLCJzdGFydHNXaXRoIiwic3VtQnkiLCJ0ZW1wbGF0ZSIsImlzRXNjYXBpbmciLCJpc0V2YWx1YXRpbmciLCJpbXBvcnRzIiwiaW1wb3J0c0tleXMiLCJpbXBvcnRzVmFsdWVzIiwiaW50ZXJwb2xhdGUiLCJyZURlbGltaXRlcnMiLCJldmFsdWF0ZSIsInNvdXJjZVVSTCIsImVzY2FwZVZhbHVlIiwiaW50ZXJwb2xhdGVWYWx1ZSIsImVzVGVtcGxhdGVWYWx1ZSIsImV2YWx1YXRlVmFsdWUiLCJ2YXJpYWJsZSIsInRpbWVzIiwidG9Mb3dlciIsInRvU2FmZUludGVnZXIiLCJ0b1VwcGVyIiwidHJpbUVuZCIsInRyaW1TdGFydCIsInRydW5jYXRlIiwib21pc3Npb24iLCJuZXdFbmQiLCJ1bmlxdWVJZCIsImVhY2giLCJlYWNoUmlnaHQiLCJWRVJTSU9OIiwiaXNGaWx0ZXIiLCJ0YWtlTmFtZSIsImRyb3BOYW1lIiwiY2hlY2tJdGVyYXRlZSIsImlzVGFrZXIiLCJsb2Rhc2hGdW5jIiwicmV0VW53cmFwcGVkIiwiaXNMYXp5IiwidXNlTGF6eSIsImlzSHlicmlkIiwiaXNVbndyYXBwZWQiLCJvbmx5TGF6eSIsImNoYWluTmFtZSIsImlzUmlnaHQiLCJnZXRWaWV3IiwiaXRlckxlbmd0aCIsInRha2VDb3VudCIsIml0ZXJJbmRleCIsImNvbW1pdCIsImNvbmZpcm0iLCJzcGxpdERpc2FibGUiLCJjYXB0dXJlIiwiY2xpY2thd2F5SGFuZGxlciIsInJlc2V0SGFuZGxlciIsIm5jSWQiLCJxdWV1ZU1pY3JvdGFzayIsIk11dGF0aW9uIiwiTXV0YXRpb25PYnNlcnZlciIsIldlYktpdE11dGF0aW9uT2JzZXJ2ZXIiLCJoYW5kbGUiLCJvYnNlcnZlciIsImNyZWF0ZVRleHROb2RlIiwib2JzZXJ2ZSIsImNoYXJhY3RlckRhdGEiLCJNZXNzYWdlQ2hhbm5lbCIsImNoYW5uZWwiLCJwb3J0MSIsIm9ubWVzc2FnZSIsInBvcnQyIiwicG9zdE1lc3NhZ2UiLCJzY3JpcHRFbCIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlbW92ZUNoaWxkIiwiZG9jdW1lbnRFbGVtZW50IiwicHVueWNvZGUiLCJ1dGlsIiwiVXJsIiwic2xhc2hlcyIsImhvc3RuYW1lIiwicGF0aG5hbWUiLCJocmVmIiwidXJsUGFyc2UiLCJyZWxhdGl2ZSIsInJlc29sdmVPYmplY3QiLCJwcm90b2NvbFBhdHRlcm4iLCJwb3J0UGF0dGVybiIsInNpbXBsZVBhdGhQYXR0ZXJuIiwidW53aXNlIiwiYXV0b0VzY2FwZSIsIm5vbkhvc3RDaGFycyIsImhvc3RFbmRpbmdDaGFycyIsImhvc3RuYW1lUGFydFBhdHRlcm4iLCJob3N0bmFtZVBhcnRTdGFydCIsInVuc2FmZVByb3RvY29sIiwiaG9zdGxlc3NQcm90b2NvbCIsInNsYXNoZWRQcm90b2NvbCIsInF1ZXJ5c3RyaW5nIiwicGFyc2VRdWVyeVN0cmluZyIsInNsYXNoZXNEZW5vdGVIb3N0IiwidSIsInF1ZXJ5SW5kZXgiLCJzcGxpdHRlciIsInVTcGxpdCIsInNpbXBsZVBhdGgiLCJsb3dlclByb3RvIiwiYXRTaWduIiwiaG9zdEVuZCIsImhlYyIsInBhcnNlSG9zdCIsImlwdjZIb3N0bmFtZSIsImhvc3RwYXJ0cyIsInBhcnQiLCJuZXdwYXJ0IiwidmFsaWRQYXJ0cyIsIm5vdEhvc3QiLCJiaXQiLCJ0b0FTQ0lJIiwiYWUiLCJlc2MiLCJxbSIsInJlbCIsInRrZXlzIiwidGsiLCJ0a2V5IiwicmtleXMiLCJyayIsInJrZXkiLCJyZWxQYXRoIiwiaXNTb3VyY2VBYnMiLCJpc1JlbEFicyIsIm11c3RFbmRBYnMiLCJyZW1vdmVBbGxEb3RzIiwic3JjUGF0aCIsInBzeWNob3RpYyIsImlzTnVsbE9yVW5kZWZpbmVkIiwiYXV0aEluSG9zdCIsImhhc1RyYWlsaW5nU2xhc2giLCJ1cCIsImlzQWJzb2x1dGUiLCJ1cmlsaWIiLCJoZWxwZXJzIiwiU2NoZW1hU2NhblJlc3VsdCIsImZvdW5kIiwicmVmIiwic2NhbiIsInNjYW5TY2hlbWEiLCJiYXNldXJpIiwiJHJlZiIsInJlc29sdmVkVXJpIiwib3VyQmFzZSIsInNjYW5BcnJheSIsIml0ZW1zIiwiZXh0ZW5kcyIsImFkZGl0aW9uYWxJdGVtcyIsInNjYW5PYmplY3QiLCJhZGRpdGlvbmFsUHJvcGVydGllcyIsImRlZmluaXRpb25zIiwicGF0dGVyblByb3BlcnRpZXMiLCJkZXBlbmRlbmNpZXMiLCJkaXNhbGxvdyIsImFsbE9mIiwiYW55T2YiLCJvbmVPZiIsIm5vdCIsImNvcHlBdHRyaWJ1dGVzIiwiZ2V0U3lsbGFibGVUZXh0Iiwic3lsbGFibGUiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImNoaWxkTm9kZXMiLCJzeWxUZXh0Iiwibm9kZVZhbHVlIiwiYXJyYXkxIiwiYXJyYXkyIiwic3RhZmZCYXNlZE1laSIsIkRPTVBhcnNlciIsInNlcmlhbGl6ZXIiLCJYTUxTZXJpYWxpemVyIiwibWVpRG9jIiwicGFyc2VGcm9tU3RyaW5nIiwibWVpIiwic2VjdGlvbiIsIm5ld1N0YWZmIiwiY3JlYXRlRWxlbWVudE5TIiwibmV3TGF5ZXIiLCJsYXllciIsInNiIiwiY3VzdG9zIiwibGFzdEVsZW1lbnRDaGlsZCIsImZpcnN0RWxlbWVudENoaWxkIiwidmtiZWF1dGlmeSIsInhtbCIsInNlcmlhbGl6ZVRvU3RyaW5nIiwic2JCYXNlZE1laSIsIm5ldW1lcyIsInN5bGxhYmxlcyIsIm9yaWdpbmFsU3RhdmVzIiwic2JBcnJheSIsIm9yaWdTeWxsYWJsZSIsIm5ldW1lQmVoaW5kIiwibmV1bWVBaGVhZCIsImNoaWxkQXJyYXkiLCJzYkluZGV4IiwiaW5zZXJ0QWRqYWNlbnRFbGVtZW50IiwibmV3U3lsbGFibGUiLCJjbGVmIiwiZGVidWciLCJzYnMiLCJjdXJyZW50U2IiLCJuZXh0U2IiLCJjaGlsZHJlbkFycmF5IiwiaW5zZXJ0QmVmb3JlIiwibmV3U3lsbGFibGVzIiwic3lsbGFibGVJZHgiLCJuZXh0U3lsbGFibGVJZCIsIm5leHRTeWxsYWJsZUlkeCIsIm5leHRTeWxsYWJsZSIsInN5bHNUZXh0IiwicHJldlN5bGxhYmxlSWQiLCJwcmV2U3lsbGFibGUiLCJtZWlTdHJpbmciLCJ6b25lcyIsImRpbWVuc2lvbnMiLCJtZWlMcngiLCJtZWlMcnkiLCJ6b25lIiwiY29vcmQiLCJpc0F0dHJPdXRPZkJvdW5kcyIsInNjaGVtYVJlc3BvbnNlIiwid29ya2VyIiwic3RhdHVzRmllbGQiLCJ1cGRhdGVVSSIsImxpbmUiLCJzdGF0dXNPbkNsaWNrIiwiZmlsZVN0YXR1c0RpdiIsInN0YXR1c1RpdGxlIiwiV29ya2VyIiwibWVpRGF0YSIsInNhdmVkIiwiaW5kaWNhdG9yIiwidXBkYXRlSW5kaWNhdG9yIiwib25iZWZvcmV1bmxvYWQiLCJ3ZWJwYWNrUG9seWZpbGwiLCJkZXByZWNhdGUiLCJmb3JtYXRBcmdzIiwidXNlQ29sb3JzIiwibmFtZXNwYWNlIiwiaHVtYW5pemUiLCJsYXN0QyIsInNhdmUiLCJuYW1lc3BhY2VzIiwic3RvcmFnZSIsInJlbW92ZUl0ZW0iLCJERUJVRyIsIl9fbndqcyIsIldlYmtpdEFwcGVhcmFuY2UiLCJmaXJlYnVnIiwiZXhjZXB0aW9uIiwidGFibGUiLCJsb2NhbHN0b3JhZ2UiLCJjb2xvcnMiLCJmb3JtYXR0ZXJzIiwiYWN0aXZhdGUiLCJpbnNlcnRIYW5kbGVyIiwiaW5zZXJ0QWN0aXZlIiwiZGVhY3RpdmF0ZSIsInRhYklkcyIsInRhYiIsImluc2VydE9wdGlvbnMiLCJpbnNlcnRFbGVtZW50cyIsImJpbmRFbGVtZW50cyIsImluc2VydFBhbmVsIiwiaW5zZXJ0SGVhZGluZyIsImluc2VydEhlYWRpbmdUaXRsZSIsImluc2VydENvbnRlbnRzIiwiaW5zZXJ0RHJvcGRvd25JY29uIiwiZWRpdFBhbmVsIiwiZWRpdEhlYWRpbmciLCJkaXNwbGF5SGVhZGluZ1RpdGxlIiwiZWRpdENvbnRlbnRzIiwiZWRpdERyb3Bkb3duSWNvbiIsInNlbEJ5U3lsbGFibGUiLCJmaXJzdENsaWNrIiwiaW5zZXJ0RGlzYWJsZWQiLCJyZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzIiwicmVzZXRJbnNlcnRIYW5kbGVyIiwic3RhZmZIYW5kbGVyIiwiZWxlbWVudFR5cGUiLCJjb250YWluZXIiLCJidXR0b25JZCIsImFscmVhZHlJbkluc2VydE1vZGUiLCJpc0luc2VydE1vZGUiLCJ0aWx0IiwiY3VydmUiLCJmb3JtIiwiYWNjaWQiLCJlZGl0TW9kZUJ1dHRvbiIsIm5hdmJhckRyb3Bkb3duRmlsZU1lbnUiLCJmaWxlRHJvcGRvd25CdG4iLCJmaWxlTmF2YmFyQ29udGVudHMiLCJuYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51IiwibWVpQWN0aW9uc0Ryb3Bkb3duQnRuIiwibWVpQWN0aW9uc05hdmJhckNvbnRlbnRzIiwibmF2YmFyRmluYWxpemUiLCJ1bmRvUmVkb1BhbmVsIiwibmF2YmFyRHJvcGRvd25zIiwiZHJvcERvd24iLCJleHBvcnQiLCJtYW5pZmVzdCIsImxpbmsiLCJkb3dubG9hZCIsImdldFBhZ2VNRUkiLCJjb252ZXJ0U3RhZmZUb1NiIiwiZ2V0UGFnZU5hbWUiLCJoYXNFbXB0eVN5bGxhYmxlcyIsInJlbW92ZVN5bGxhYmxlQWN0aW9ucyIsImNoYWluUmVtb3ZlQWN0aW9uIiwiaGFzRW1wdHlOZXVtZXMiLCJyZW1vdmVOZXVtZUFjdGlvbnMiLCJvdXRPZkJvdW5kWm9uZXMiLCJ6b25lTWFwIiwib3V0T2ZCb3VuZEdseXBocyIsImdseXBoIiwiZmFjc0lkIiwiZGVsZXRlRGIiLCJsb2NhdGlvbiIsInJlbG9hZCIsInVuZG9IYW5kbGVyIiwidW5kbyIsInJlZG9IYW5kbGVyIiwicmVkbyIsImdldEdldFBhcmFtIiwibWFuaWZlc3RMb2NhdGlvbiIsInN0YXR1c1RleHQiLCJpbWFnZSIsIkRpc3BsYXkiLCJJbmZvIiwiVGV4dFZpZXciLCJUZXh0RWRpdCIsIlZpZXciLCJSZXNwb25zZSIsInBhcnNlTWFuaWZlc3QiLCJ0ZXh0VmlldyIsImNvcmUiLCJNb2RhbFdpbmRvdyIsIlZhbGlkYXRpb24iLCJpbml0RXJyb3JMb2ciLCJsaXN0ZW5VbnNhdmVkQ2hhbmdlcyIsInNldHVwRWRpdCIsImluaXREYiIsIm9uU1ZHTG9hZCIsInBhZ2VObyIsImdldEN1cnJlbnRQYWdlIiwiY2hhbmdlUGFnZSIsInNldFNhdmVkU3RhdHVzIiwicGFnZVVSSSIsImVsZW1lbnRJRCIsInVwZGF0ZURhdGFiYXNlIiwiZ2V0QW5ub3RhdGlvbnMiLCJ0aW1lc3RhbXAiLCJyZWFkQXNEYXRhVVJMIiwiZ2V0TUVJIiwiZ2V0U1ZHIiwidmVyb3Zpb1dyYXBwZXIiLCJ1bmRvU3RhY2tzIiwicmVkb1N0YWNrcyIsIm5lb25DYWNoZSIsImJsYW5rUGFnZXMiLCJhbm5vdGF0aW9ucyIsIm1laV9hbm5vdGF0aW9ucyIsImxhc3RQYWdlTG9hZGVkIiwiYW5ub3RhdGlvbiIsInRpbWVab25lUmVnZXhwIiwiZ2V0VGltZSIsIm5ld0Fubm90YXRpb24iLCJsb2FkRGF0YSIsImJsYW5rUGFnZSIsImNvbnZlcnRTYlRvU3RhZmYiLCJjaGVja091dE9mQm91bmRzR2x5cGhzIiwiZGlydHkiLCJzZW5kRm9yVmFsaWRhdGlvbiIsInN2ZyIsImxvYWRQYWdlIiwiY3VycmVudE1FSSIsInVuZG9TdGFjayIsInVwZGF0ZUNhY2hlIiwic3ZnVGV4dCIsIm1laVByb21pc2UiLCJzdmdQcm9taXNlIiwidXBkYXRlVGltZXN0YW1wIiwiY3JlYXRlU2hpZnRBcnIiLCJzcGFjZSIsIml4IiwiaXNTdWJxdWVyeSIsInBhcmVudGhlc2lzTGV2ZWwiLCJzcGxpdF9zcWwiLCJhciIsImluQ29tbWVudCIsImRlZXAiLCJjc3MiLCJzcWwiLCJhcl9ieV9xdW90ZSIsInhtbG1pbiIsInByZXNlcnZlQ29tbWVudHMiLCJqc29ubWluIiwiY3NzbWluIiwic3FsbWluIiwidmVyb3Zpb1dvcmtlciIsIk5lb25TY2hlbWEiLCJOZW9uQ29udGV4dCIsIm1hbmlmZXN0U3RyaW5nIiwiVmFsaWRhdG9yIiwiYXR0cmlidXRlIiwidW5yZXNvbHZlZFJlZnMiLCJ2YWxpZGF0b3JzIiwic2hvdWxkUmVzb2x2ZSIsImFkZFNjaGVtYSIsIm91clVyaSIsImFkZFN1YlNjaGVtYUFycmF5IiwiYWRkU3ViU2NoZW1hIiwiYWRkU3ViU2NoZW1hT2JqZWN0Iiwic2V0U2NoZW1hcyIsImdldFNjaGVtYSIsInVybiIsInNjaCIsInJlcXVpcmVkIiwidmFsaWRhdGVTY2hlbWEiLCJzY2hlbWFvYmoiLCJzY2hlbWFUcmF2ZXJzZXIiLCJzdXBlclJlc29sdmUiLCJzd2l0Y2hTY2hlbWEiLCJyZXNvbHZlZCIsInN1YmN0eCIsInN1YnNjaGVtYSIsInNraXBBdHRyaWJ1dGVzIiwiaWdub3JlUHJvcGVydGllcyIsInZhbGlkYXRvckVyciIsImFsbG93VW5rbm93bkF0dHJpYnV0ZXMiLCJyZXdyaXRlIiwicGFyc2VkIiwiZnJhZ21lbnQiLCJ0ZXN0VHlwZSIsImludGVnZXIiLCJib29sZWFuIiwiZGF0ZSIsImFueSIsIm1heEludCIsInJlZ2V4UHVueWNvZGUiLCJyZWdleE5vbkFTQ0lJIiwicmVnZXhTZXBhcmF0b3JzIiwic3RyaW5nRnJvbUNoYXJDb2RlIiwibWFwRG9tYWluIiwidWNzMmRlY29kZSIsImV4dHJhIiwiY291bnRlciIsInVjczJlbmNvZGUiLCJkaWdpdFRvQmFzaWMiLCJkaWdpdCIsImZsYWciLCJhZGFwdCIsIm51bVBvaW50cyIsImZpcnN0VGltZSIsImJhc2VNaW51c1RNaW4iLCJkZWNvZGUiLCJiYXNpYyIsIm9sZGkiLCJiYXNlTWludXNUIiwiY29kZVBvaW50IiwiaW5wdXRMZW5ndGgiLCJiaWFzIiwiZW5jb2RlIiwiaGFuZGxlZENQQ291bnQiLCJiYXNpY0xlbmd0aCIsInEiLCJjdXJyZW50VmFsdWUiLCJoYW5kbGVkQ1BDb3VudFBsdXNPbmUiLCJxTWludXNUIiwicXMiLCJzZXAiLCJtYXhLZXlzIiwia3N0ciIsInZzdHIiLCJ4cyIsInN0cmluZ2lmeVByaW1pdGl2ZSIsIm9iamVjdEtleXMiLCJrcyIsImYiLCJ0ZXN0U2NoZW1hTm9UaHJvdyIsImdldEVudW1lcmFibGVQcm9wZXJ0eSIsInRlc3RBZGRpdGlvbmFsUHJvcGVydHkiLCJwcmVWYWxpZGF0ZVByb3BlcnR5IiwiaW5uZXIiLCJuZXN0ZWRFcnJvcnMiLCJpZiIsImlmVmFsaWQiLCJlbHNlIiwicHJvcGVydHlOYW1lcyIsIl9lIiwibWluUHJvcGVydGllcyIsIm1heFByb3BlcnRpZXMiLCJtaW5pbXVtIiwiZXhjbHVzaXZlTWluaW11bSIsIm1heGltdW0iLCJleGNsdXNpdmVNYXhpbXVtIiwidmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5IiwidmFsaWRhdGlvblR5cGUiLCJlcnJvck1lc3NhZ2UiLCJ2YWxpZGF0aW9uQXJndW1lbnQiLCJpbnN0YW5jZURlY2ltYWxzIiwiZGl2aXNvckRlY2ltYWxzIiwibWF4RGVjaW1hbHMiLCJwb3ciLCJ0ZXN0QXJyYXlzIiwibXVsdGlwbGVPZiIsImRpdmlzaWJsZUJ5IiwibWluTGVuZ3RoIiwiaHNwIiwibWluSXRlbXMiLCJtYXhJdGVtcyIsInVuaXF1ZUl0ZW1zIiwiZGVwIiwiY2hpbGRDb250ZXh0Iiwibm90VHlwZXMiLCJzY2hlbWFJZCIsIm1laUNsYXNzIiwiaGFuZGxlWm9vbSIsImRpc3BsYXlDb250cm9sc1BhbmVsIiwibG9hZFNldHRpbmdzIiwidXBkYXRlVmlzdWFsaXphdGlvbiIsIkRpc3BsYXlDb250cm9scyIsInNldFpvb21Db250cm9scyIsImluaXREaXNwbGF5Q29udHJvbHMiLCJ1cGRhdGVDYWxsYmFja3MiLCJkaXZhUmVhZHkiLCJkaXZhIiwib2JqZWN0RGF0YSIsIm1pbkhlaWdodCIsImluZGV4TWFwIiwiZGlzYWJsZURyYWdTY3JvbGxhYmxlIiwiZGlzcGxheVBhbmVsIiwibG9hZERlbGF5IiwiaW5pdERpdmFFdmVudHMiLCJvbnJlc2l6ZSIsImlubmVySGVpZ2h0IiwiaW5uZXJXaWR0aCIsIkV2ZW50cyIsInN1YnNjcmliZSIsIklEIiwiZGlkTG9hZCIsImFkanVzdFpvb20iLCJwYWdlSW5kZXgiLCJjaGVja0FuZExvYWQiLCJwYWdlIiwiZ2V0UGFnZVNWRyIsInVwZGF0ZVNWRyIsImNvbnRhaW5lcklkIiwicGFnZUluZGV4ZXMiLCJnZXRBY3RpdmVQYWdlSW5kZXgiLCJ6b29tRHVyYXRpb24iLCJmaXJzdENoaWxkIiwic2V0Vmlld0V2ZW50SGFuZGxlcnMiLCJnZXRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbCIsInZpZXdIYW5kbGVyIiwiX3ZpZXdlckNvcmUiLCJnZXRQYWdlUmVnaW9uIiwiaW5jbHVkZVBhZGRpbmciLCJpbmNvcnBvcmF0ZVZpZXdwb3J0IiwibWFyZ2luTGVmdCIsImdldENvbXB1dGVkU3R5bGUiLCJnZXRQcm9wZXJ0eVZhbHVlIiwidG9wIiwic2V0RGlzcGxheUxpc3RlbmVycyIsInZpc2liaWxpdHkiLCJzZXF1ZW5jZSIsInNlcXVlbmNlcyIsImNhbnZhc2VzIiwiaXRlbVRpdGxlIiwicGFnZXMiLCJfcmFmIiwiX2lzVG91Y2giLCJfZXh0ZW5kIiwiVmFuaWxsYUtpbmV0aWMiLCJyZXF1ZXN0QW5pbWF0aW9uRnJhbWUiLCJERUZBVUxUUyIsIkFDVElWRV9DTEFTUyIsIl9pbml0RWxlbWVudHMiLCJfVmFuaWxsYUtpbmV0aWMiLCJkZWNlbGVyYXRlIiwidHJpZ2dlckhhcmR3YXJlIiwidGhyZXNob2xkIiwic2xvd2Rvd24iLCJtYXh2ZWxvY2l0eSIsInRocm90dGxlRlBTIiwibW92aW5nQ2xhc3MiLCJkb3duIiwiZGVjZWxlcmF0aW5nQ2xhc3MiLCJ2ZWxvY2l0eSIsInZlbG9jaXR5WSIsIl9tb3ZlIiwic3RvcCIsInN0b3BwZWQiLCJkZXRhY2giLCJfZGV0YWNoTGlzdGVuZXJzIiwiYXR0YWNoIiwiX2F0dGFjaExpc3RlbmVycyIsInhwb3MiLCJwcmV2WFBvcyIsInlwb3MiLCJwcmV2WVBvcyIsIm1vdXNlRG93biIsInRocm90dGxlVGltZW91dCIsImxhc3RNb3ZlIiwiZWxlbWVudEZvY3VzZWQiLCJkb2N1bWVudFJlc2V0SGFuZGxlciIsIl9yZXNldE1vdXNlIiwiaHRtbCIsIl9pbml0RXZlbnRzIiwicHJlZml4ZXMiLCJzdHlsZXMiLCJ0b3VjaFN0YXJ0IiwidG91Y2giLCJfdXNlVGFyZ2V0Iiwib3JpZ2luYWxFdmVudCIsInRvdWNoZXMiLCJfdGhyZXNob2xkIiwiX3N0YXJ0IiwidG91Y2hNb3ZlIiwiX2lucHV0bW92ZSIsImlucHV0RG93biIsImlucHV0RW5kIiwiX2VuZCIsImlucHV0TW92ZSIsInNjcm9sbCIsIm1vdmVkIiwiaW5wdXRDbGljayIsImRyYWdTdGFydCIsInNlbGVjdFN0YXJ0IiwibW92ZWRYIiwibW92ZWRZIiwic3FydCIsImJsdXIiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsVG9wIiwiX2NhbGN1bGF0ZVZlbG9jaXRpZXMiLCJfc2V0TW92ZUNsYXNzZXMiLCJfY2FwVmVsb2NpdHkiLCJmaWx0ZXJUYXJnZXQiLCJfZGVjZWxlcmF0ZVZlbG9jaXR5IiwibmV3VmVsb2NpdHkiLCJjbGFzc2VzIiwic2Nyb2xsZXIiLCJfZ2V0U2Nyb2xsZXIiLCJzY3JvbGxXaWR0aCIsInNjcm9sbEhlaWdodCIsIm1vdmluZyIsIm5ld1Njcm9sbFgiLCJuZXdTY3JvbGxZIiwiX3dpbmRvdyIsIl9kb2N1bWVudCIsImRyYWdnZWQiLCJtZCIsIm11IiwibW0iLCJsYXN0Q2xpZW50WCIsImxhc3RDbGllbnRZIiwicHVzaGVkIiwiY29udCIsImVsZW1lbnRGcm9tUG9pbnQiLCJwYWdlWCIsInBhZ2VZIiwicmVhZHlTdGF0ZSIsInJlc2V0RHJhZ3Njcm9sbCIsImNyZWF0ZURlYnVnIiwicHJldlRpbWUiLCJuYW1lc3BhY2VzQ2FjaGUiLCJlbmFibGVkQ2FjaGUiLCJlbmFibGVPdmVycmlkZSIsImVuYWJsZWQiLCJtcyIsImNvZXJjZSIsImZvcm1hdHRlciIsInNlbGVjdENvbG9yIiwiZGVsaW1pdGVyIiwibmV3RGVidWciLCJ0b05hbWVzcGFjZSIsImRpc2FibGUiLCJza2lwcyIsImVuYWJsZSIsInBsdXJhbCIsIm1zQWJzIiwiaXNQbHVyYWwiLCJsb25nIiwiZm10TG9uZyIsImZtdFNob3J0IiwicGFuZWwiLCJzZXRBdHRyaWJ1dGVOUyIsInJlcGxhY2VDaGlsZCIsInJlc2V0VHJhbnNmb3JtYXRpb25zIiwiX3BhZ2UiLCJfZGVsYXkiLCJyZXN0b3JlVHJhbnNmb3JtYXRpb24iLCJzZXRTZWxlY3RMaXN0ZW5lcnMiLCJzY3JvbGxab29tIiwibmV3SGVpZ2h0IiwiVmlld0JveCIsImltYWdlV2lkdGgiLCJpbWFnZUhlaWdodCIsIm1pblgiLCJtaW5ZIiwiem9vbUhlaWdodCIsInpvb21XaWR0aCIsIlpvb21IYW5kbGVyIiwicmVzZXRTZXR0aW5ncyIsImJnaW1nIiwidXBkYXRlU1ZHVmlld0JveCIsInNldFZpZXdCb3giLCJ0cmFuc2xhdGUiLCJyYXdWaWV3Qm94Iiwidmlld0JveFN0cmluZyIsImRyYWdDb29yZGluYXRlcyIsImNyZWF0ZVNWR1BvaW50IiwibWF0cml4IiwibmV3Q29vcmRpbmF0ZXMiLCJkZWx0YVgiLCJkZWx0YVkiLCJuZXdUcmFuc2Zvcm0iLCJkcmFnVHJhbnNmb3JtIiwic2xpZGVyIiwibmV3SyIsImdldFpvb20iLCJpbml0RWRpdE1vZGUiLCJiaW5kSW5zZXJ0VGFicyIsIlNlbGVjdCIsImluaXRJbnNlcnRFZGl0Q29udHJvbHMiLCJzZXRTZWxlY3RTdHJva2VXaWR0aCIsImluaXRTZWxlY3Rpb25CdXR0b25zIiwic2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMiLCJpbml0TmF2YmFyIiwiaW5pdFVuZG9SZWRvUGFuZWwiLCJuZXVtZUdyb3VwcyIsInVwZGF0ZUluZm9WaXNpYmlsaXR5IiwibmV1bWVJbmZvIiwic2V0SW5mb0NvbnRyb2xzIiwibGFiZWwiLCJyZXNldEluZm9MaXN0ZW5lcnMiLCJ1cGRhdGVJbmZvIiwic3RvcExpc3RlbmVycyIsImVsZW1lbnRDbGFzcyIsInBpdGNoZXMiLCJnZXRQaXRjaGVzIiwiZGlzIiwiZGlzcGxhY2UiLCJ1cGRhdGVJbmZvTW9kdWxlIiwicGl0Y2hOYW1lVG9OdW0iLCJwbmFtZSIsIm5vdGlmaWNhdGlvblNlbnQiLCJ0ZXh0TGFiZWwiLCJiYm94TGFiZWwiLCJ0ZXh0QnV0dG9uIiwiYmJveEJ1dHRvbiIsInNldFRleHRWaWV3Q29udHJvbHMiLCJ1cGRhdGVUZXh0Vmlld1Zpc2liaWxpdHkiLCJ1cGRhdGVCQm94Vmlld1Zpc2liaWxpdHkiLCJpbml0U2VsZWN0QnlCQm94QnV0dG9uIiwiZ2V0U3lsVGV4dCIsImx5cmljcyIsImVsdCIsImhhbmRsZUVsdENvbnN0cnVjdG9yQXJnIiwiTm9kZSIsImNoaWxkQ291bnQiLCJzZXRET01BdHRyaWJ1dGVzIiwic2V0U3R5bGUiLCJjc3NQcm9wIiwiY3NzVGV4dCIsIkRpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24iLCJOb3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbiIsIk9iamVjdERhdGFOb3RTdXBwbGllZEV4Y2VwdGlvbiIsIl9jYWNoZSIsInRvcGljIiwidGhpc1RvcGljIiwidGhpc1RvcGljR2xvYmFsIiwiZ2xvYmFsQ291bnQiLCJnZXRJbnN0YW5jZUlkIiwiaW5zdGFuY2VJRCIsInRoaXNUb3BpY0luc3RhbmNlIiwic2NvcGVkQ291bnQiLCJjb21wbGV0ZWx5IiwidG9waWNBcnJheSIsInRvcGljcyIsIm9uRG91YmxlQ2xpY2siLCJnZXRSZWxhdGl2ZU9mZnNldCIsInRyYWNrZXIiLCJjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIiLCJpc1RyaWdnZXJlZCIsInRyaWdnZXIiLCJvblBpbmNoIiwic3RhcnREaXN0YW5jZSIsImRpc3RhbmNlIiwibW92ZURpc3RhbmNlIiwiem9vbURlbHRhIiwidG91Y2hDZW50ZXIiLCJvbkRvdWJsZVRhcCIsImZpcnN0VGFwIiwic2Vjb25kVGFwIiwiY2hhbmdlZFRvdWNoZXMiLCJ4MSIsInkxIiwieDIiLCJ5MiIsInRpbWVvdXREdXJhdGlvbiIsInRyaWdnZXJlZCIsInRpbWVvdXRJZCIsInJlc2V0VGltZW91dCIsInBhZ2VDb29yZHMiLCJib3VuZHMiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ2aWV3ZXJDb3JlIiwiX2lubmVyRWxlbWVudCIsImlubmVyRWxlbWVudCIsIl9wYWdlVG9vbHNFbGVtIiwibGFiZWxXaWR0aCIsIl9idXR0b25zIiwiX2luaXRpYWxpemVQYWdlVG9vbEJ1dHRvbnMiLCJjbGFzcyIsIl9wYWdlTGFiZWxzRWxlbSIsInJlZnJlc2giLCJwdWJsaWNJbnN0YW5jZSIsImdldFB1YmxpY0luc3RhbmNlIiwiZ2V0UGFnZVRvb2xzIiwicGFnZVRvb2xzSWNvbiIsImNsb25lTm9kZSIsImhhbmRsZUNsaWNrIiwiX3ZpZXdlclN0YXRlIiwiZ2V0SW50ZXJuYWxTdGF0ZSIsIl9vdmVybGF5cyIsIm51bVBhZ2VzIiwib3ZlcmxheSIsImFkZFBhZ2VPdmVybGF5IiwiZHVtbXlMYWJlbCIsImNsaWVudFdpZHRoIiwiY29vcmRzIiwibmV3Wm9vbUxldmVsIiwiem9vbUxldmVsIiwiZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldCIsImVuZERpc3RhbmNlIiwidmlld2VyU3RhdGUiLCJtaW5ab29tTGV2ZWwiLCJtYXhab29tTGV2ZWwiLCJjZW50ZXJPZmZzZXQiLCJnZXRDdXJyZW50TGF5b3V0IiwiZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQiLCJhbmNob3JQYWdlIiwidmlld3BvcnQiLCJzY2FsZVJhdGlvIiwiZ29EaXJlY3RseVRvIiwiaG9yaXpvbnRhbE9mZnNldCIsInZlcnRpY2FsT2Zmc2V0IiwicHVibGlzaCIsIl9oYW5kbGVab29tTGV2ZWxDaGFuZ2UiLCJjdXJyZW50UGFnZUluZGV4IiwiYWN0aXZlUGFnZUluZGV4IiwiZmlsZU5hbWUiLCJyZW5kZXJlZFBhZ2VzIiwidGFyZ2V0UGFnZSIsImN1cnJlbnRQYWdlIiwibGF5b3V0IiwiY2VudGVyWSIsImNlbnRlclgiLCJjZW50ZXJQYWdlIiwiZGltcyIsImdldFBhZ2VEaW1lbnNpb25zIiwiaW1hZ2VPZmZzZXQiLCJnZXRQYWdlT2Zmc2V0IiwibWlkWCIsIm1pZFkiLCJnZXRDZW50ZXJtb3N0UGFnZSIsImdldFZpZXdwb3J0IiwiaW50ZXJzZWN0aW9uVG9sZXJhbmNlIiwidmlzaWJsZVBhZ2VzIiwicmVuZGVyZXIiLCJpc1BhZ2VWaXNpYmxlIiwic2V0Q3VycmVudFBhZ2VzIiwib2xkWm9vbUxldmVsIiwicmVtb3ZlUGFnZU92ZXJsYXkiLCJHcmlkSGFuZGxlciIsInBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0IiwiaW5HcmlkIiwiZ2V0UGFnZUluZm8iLCJjaG9zZW5Hcm91cCIsInJlZ2lvbiIsImJvdHRvbSIsInZpZXdwb3J0TWlkZGxlIiwiZ3JvdXBNaWRkbGUiLCJnZXRDZW50ZXJtb3N0R3JvdXAiLCJQYWdlT3ZlcmxheU1hbmFnZXIiLCJfcGFnZXMiLCJfcmVuZGVyZWRQYWdlcyIsIl9yZW5kZXJlZFBhZ2VNYXAiLCJtb3VudCIsIm92ZXJsYXlzQnlQYWdlIiwib3ZlcmxheUluZGV4IiwidW5tb3VudCIsInByZXZpb3VzbHlSZW5kZXJlZCIsIm5ld1JlbmRlcmVkTWFwIiwiX2ludm9rZU9uT3ZlcmxheXMiLCJvdmVybGF5cyIsIlRpbGVDb3ZlcmFnZU1hcCIsImNvbHMiLCJfcm93cyIsIl9jb2xzIiwiX21hcCIsImNvbCIsImxldmVscyIsIl9sZXZlbHMiLCJ1cmxzVG9UaWxlcyIsIl91cmxzVG9UaWxlcyIsImxldmVsIiwidGlsZXMiLCJ0aWxlIiwibG9hZGVkQnlMZXZlbCIsIl9sb2FkZWRCeUxldmVsIiwiYmFzZVpvb21MZXZlbCIsInRvUmVuZGVyQnlMZXZlbCIsImhpZ2hlc3Rab29tTGV2ZWwiLCJjb3ZlcmVkIiwiYmVzdExldmVsSW5kZXgiLCJjZWlsTGV2ZWwiLCJsb2FkZWQiLCJhZGRpdGlvbmFsVGlsZXMiLCJpc0xvYWRlZCIsImlzTmVlZGVkIiwiaGlnaFJlc1JvdyIsImhpZ2hSZXNDb2wiLCJieUxldmVsIiwidXJscyIsIkRvY3VtZW50TGF5b3V0IiwiY29uZmlnIiwiY29tcHV0ZWRMYXlvdXQiLCJzY2FsZWRMYXlvdXRzIiwicGFnZUxheW91dHMiLCJzY2FsZURpbWVuc2lvbnMiLCJncm91cE9mZnNldCIsImdldFNjYWxlZFBhZ2VMYXlvdXRzIiwiZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQiLCJzZWNvbmRhcnlEaW0iLCJzZWNvbmRhcnlQYWRkaW5nIiwiZG9jUGFkZGluZyIsInZlcnRpY2FsbHlPcmllbnRlZCIsIm1heERpbSIsImdldEV4dGVudEFsb25nU2Vjb25kYXJ5QXhpcyIsInByaW1hcnlEb2NQb3NpdGlvbiIsInBhZ2VHcm91cHMiLCJwYWdlUGFkZGluZyIsImdldENvbXB1dGVkTGF5b3V0IiwiX3BhZ2VMb29rdXAiLCJwYWdlTG9va3VwIiwiZ2V0UGFnZUxvb2t1cCIsImdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8iLCJwYWdlSW5mbyIsImVsZW1lbnRXaWR0aCIsImVsZW1lbnRIZWlnaHQiLCJJbWFnZUNhY2hlIiwiX2hlbGQiLCJfdXJscyIsIl9scnUiLCJyZWNvcmQiLCJpbWciLCJfcHJvbW90ZSIsIl90cnlFdmljdCIsImV4dHJhQ2FwYWNpdHkiLCJhbGxvd2VkRW50cnlDb3VudCIsImV2aWN0aW9uSW5kZXgiLCJJbWFnZVJlcXVlc3RIYW5kbGVyIiwiX3VybCIsIl9jYWxsYmFjayIsIl9lcnJvckNhbGxiYWNrIiwidGltZW91dFRpbWUiLCJfYWJvcnRlZCIsIl9jb21wbGV0ZSIsIl9jcm9zc09yaWdpbiIsImltYWdlQ3Jvc3NPcmlnaW4iLCJfaW1hZ2UiLCJJbWFnZSIsImNyb3NzT3JpZ2luIiwib25sb2FkIiwiX2hhbmRsZUxvYWQiLCJfaGFuZGxlRXJyb3IiLCJhbmltYXRlIiwiZHVyYXRpb25NcyIsImR1cmF0aW9uIiwicGFyYW1ldGVycyIsIm9uVXBkYXRlIiwib25FbmQiLCJ0d2VlbkZucyIsInBhcmFtS2V5cyIsImVhc2luZyIsImVsYXBzZWQiLCJpbk91dEN1YmljRWFzaW5nIiwicmVxdWVzdElkIiwidXBkYXRlVmFsdWVzIiwiaGFuZGxlQW5pbWF0aW9uQ29tcGxldGlvbiIsImludGVycnVwdGVkIiwiY2FuY2VsQW5pbWF0aW9uRnJhbWUiLCJsaW5lYXIiLCJjdWJpYyIsInBlcmZvcm1hbmNlIiwiaG9va3MiLCJfdmlld3BvcnQiLCJfb3V0ZXJFbGVtZW50Iiwib3V0ZXJFbGVtZW50IiwiX2RvY3VtZW50RWxlbWVudCIsIl9zZXR0aW5ncyIsIl9ob29rcyIsIl9jYW52YXMiLCJfY3R4IiwiZ2V0Q29udGV4dCIsIl9zb3VyY2VSZXNvbHZlciIsIl9jb25maWciLCJfem9vbUxldmVsIiwiX2NvbXBvc2l0ZUltYWdlcyIsIl9yZW5kZXJlZFRpbGVzIiwiX2FuaW1hdGlvbiIsIl9wZW5kaW5nUmVxdWVzdHMiLCJIVE1MQ2FudmFzRWxlbWVudCIsInZpZXdwb3J0UG9zaXRpb24iLCJzb3VyY2VSZXNvbHZlciIsIl9jbGVhckFuaW1hdGlvbiIsIm9uVmlld1dpbGxMb2FkIiwiX3NldExheW91dFRvWm9vbUxldmVsIiwiZ290byIsIm9uVmlld0RpZExvYWQiLCJfZ290byIsInNldElubmVyRGltZW5zaW9ucyIsIl9yZW5kZXIiLCJvblZpZXdEaWRVcGRhdGUiLCJuZXdSZW5kZXJlZFBhZ2VzIiwiaW50ZXJzZWN0c1JlZ2lvbiIsImNsZWFyUmVjdCIsIl9wYWludE91dGxpbmUiLCJ6b29tTGV2ZWxzIiwiZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2UiLCJjb21wb3NpdGUiLCJ1cGRhdGVGcm9tQ2FjaGUiLCJfaW5pdGlhdGVUaWxlUmVxdWVzdHMiLCJmaW5kQ2hhbmdlcyIsIl9wYWludCIsIm9uUGFnZVdpbGxMb2FkIiwiYWRkZWQiLCJyZW5kZXJlZFRpbGVzIiwiZ2V0VGlsZXMiLCJzY2FsZWQiLCJnZXRTY2FsZWRUaWxlUmVjb3JkIiwiX2lzVGlsZVZpc2libGUiLCJfZHJhd1RpbGUiLCJhY3F1aXJlIiwicmVsZWFzZSIsInBhZ2VPZmZzZXQiLCJfZ2V0SW1hZ2VPZmZzZXQiLCJ2aWV3cG9ydFBhZGRpbmdYIiwidmlld3BvcnRQYWRkaW5nWSIsInZpZXdwb3J0T2Zmc2V0WCIsInZpZXdwb3J0T2Zmc2V0WSIsImRlc3RYT2Zmc2V0IiwiZGVzdFlPZmZzZXQiLCJjYW52YXNYIiwiY2FudmFzWSIsImRlc3RXaWR0aCIsImRlc3RIZWlnaHQiLCJzdHJva2VTdHlsZSIsInN0cm9rZVJlY3QiLCJuZXdQZW5kaW5nUmVxdWVzdHMiLCJpbml0aWF0ZVJlcXVlc3QiLCJ1cGRhdGVXaXRoTG9hZGVkVXJscyIsIl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlIiwiZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2UiLCJzY2FsZWRUaWxlIiwidGlsZU9mZnNldCIsIl9nZXRUaWxlVG9Eb2N1bWVudE9mZnNldCIsInNvdXJjZVhPZmZzZXQiLCJzb3VyY2VZT2Zmc2V0IiwiZGVzdEltZ1dpZHRoIiwiZGVzdEltZ0hlaWdodCIsInNvdXJjZVdpZHRoIiwic291cmNlSGVpZ2h0IiwiZHJhd0ltYWdlIiwidGlsZVNvdXJjZSIsImdldFBvc2l0aW9uIiwib25WaWV3RGlkVHJhbnNpdGlvbiIsIl9zZXRWaWV3cG9ydFBvc2l0aW9uIiwib25ab29tTGV2ZWxXaWxsQ2hhbmdlIiwic2NhbGVGYWN0b3IiLCJzb3VyY2Vab29tTGV2ZWwiLCJuZXdBcnJheSIsIm9sZEVudHJ5IiwibmV3RW50cnkiLCJnZXRNYXhQYWdlRGltZW5zaW9ucyIsImdldEJvb2tMYXlvdXRHcm91cHMiLCJ2aWV3ZXJDb25maWciLCJwYWdlc0J5R3JvdXAiLCJsZWZ0UGFnZSIsIm5vblBhZ2VkUGFnZXMiLCJfYWRkTm9uUGFnZWRQYWdlcyIsIm5sZW4iLCJwYWdlUmVjb3JkIiwicGFnZWQiLCJzaG93Tm9uUGFnZWRQYWdlcyIsImZhY2luZ1BhZ2VzIiwiZ2V0R3JvdXBpbmdzIiwicmlnaHRQYWdlIiwibGVmdERpbXMiLCJyaWdodERpbXMiLCJmaXJzdExlZnRPZmZzZXQiLCJzZWNvbmRMZWZ0T2Zmc2V0IiwibWlkV2lkdGgiLCJnZXRGYWNpbmdQYWdlR3JvdXAiLCJwYWdlRGltcyIsImxlZnRPZmZzZXQiLCJzaG91bGRCZUhvcml6b250YWxseUFkanVzdGVkIiwiZ2V0R3JvdXBMYXlvdXRzRnJvbVBhZ2VHcm91cGluZyIsImdldEdyaWRMYXlvdXRHcm91cHMiLCJ2aWV3cG9ydFdpZHRoIiwicGFnZXNQZXJSb3ciLCJmaXhlZEhlaWdodEdyaWQiLCJmaXhlZFBhZGRpbmciLCJwYWdlV2lkdGgiLCJncmlkUGFnZVdpZHRoIiwicm93SGVpZ2h0IiwibWluUmF0aW8iLCJtYXhSYXRpbyIsImN1cnJlbnRQYWdlcyIsInJvd0RpbWVuc2lvbnMiLCJwYWdlRGltZW5zIiwicGFnZURhdGEiLCJwYWdlRGltZW5EYXRhIiwiaGVpZ2h0VG9XaWR0aFJhdGlvIiwicGFnZUhlaWdodCIsImdldEdyaWRQYWdlRGltZW5zaW9ucyIsImdldFBhZ2VMYXlvdXRzIiwicGx1Y2siLCJpbkJvb2tMYXlvdXQiLCJnZXRTaW5nbGVzTGF5b3V0R3JvdXBzIiwiY3JlYXRlU2V0dGluZ3NWaWV3IiwicmVnaXN0ZXJNaXhpbiIsIlZhbGlkYXRpb25SdW5uZXIiLCJ3aGl0ZWxpc3RlZEtleXMiLCJ2YWxpZGF0aW9ucyIsInZhbGlkYXRpb25JbmRleCIsInZhbGlkYXRpb24iLCJkdW1teUNoYW5nZXMiLCJwcm94aWVyIiwiY3JlYXRlU2V0dGluZ3NQcm94aWVyIiwiX3J1blZhbGlkYXRpb24iLCJfdmFsaWRhdGVPcHRpb25zIiwiY2xvbmVkIiwic2V0dGluZ3NQcm94aWVyIiwiX2FwcGx5VmFsaWRhdGlvbnMiLCJjb3JyZWN0ZWQiLCJ3YXJuaW5nU3VwcHJlc3NlZCIsIm9yaWdpbmFsIiwiZW1pdFdhcm5pbmciLCJzdXBwcmVzc1dhcm5pbmciLCJvdXRwdXRWYWx1ZSIsInByb3h5IiwicnVubmVyIiwibG9va3VwIiwibG9va3VwVmFsdWUiLCJ3aGl0ZWxpc3RlZCIsImFkZGl0aW9uYWwiLCJjdXJyZW50S2V5IiwiZGVmaW5lUHJvcGVydGllcyIsImV4dGVuc2lvbiIsIlZpZXdwb3J0IiwiX3RvcCIsIl9sZWZ0IiwiX3dpZHRoIiwiX2hlaWdodCIsIl9pbm5lckRpbWVuc2lvbnMiLCJpbnZhbGlkYXRlIiwiaGFzSG9yaXpvbnRhbE92ZXJsYXAiLCJoYXNWZXJ0aWNhbE92ZXJsYXAiLCJmYWxsc0JldHdlZW4iLCJjbGllbnRIZWlnaHQiLCJnZXRDb29yZGluYXRlRGVzY3JpcHRvciIsImFzc29jaWF0ZWREaW1lbnNpb24iLCJwcml2YXRlUHJvcCIsImNsYW1wTWluIiwiZ2V0RGltZW5zaW9uRGVzY3JpcHRvciIsImRpbWVuIiwiY2xhbXBNYXgiLCJnZW5lcmF0ZUlkIiwib3B0aW9uc1ZhbGlkYXRpb25zIiwibWluUGFnZXNQZXJSb3ciLCJtYXhQYWdlc1BlclJvdyIsIm1heFpvb20iLCJwYXJlbnRPYmplY3QiLCJjdXJyZW50UGFnZUluZGljZXMiLCJob3Jpem9udGFsUGFkZGluZyIsImluaXRpYWxLZXlTY3JvbGwiLCJpbml0aWFsU3BhY2VTY3JvbGwiLCJpbm5lck9iamVjdCIsImlzQWN0aXZlRGl2YSIsImlzU2Nyb2xsYWJsZSIsImlzWm9vbWluZyIsIm1vYmlsZVdlYmtpdCIsIm91dGVyT2JqZWN0IiwicGFnZU92ZXJsYXlzIiwicGFnZVRvb2xzIiwicGVuZGluZ01hbmlmZXN0UmVxdWVzdCIsInBsdWdpbkluc3RhbmNlcyIsInJlc2l6ZVRpbWVyIiwic2Nyb2xsYmFyV2lkdGgiLCJ0aHJvYmJlclRpbWVvdXRJRCIsInRvb2xiYXIiLCJ2ZXJ0aWNhbFBhZGRpbmciLCJ2aWV3cG9ydE9iamVjdCIsImlkTnVtYmVyIiwicGFuZWxIZWlnaHQiLCJwYW5lbFdpZHRoIiwib3B0aW9uc1ZhbGlkYXRvciIsIncxIiwib2Zmc2V0V2lkdGgiLCJ3MiIsImdldFNjcm9sbGJhcldpZHRoIiwib3JpZW50YXRpb24iLCJoYXNoUGFyYW1TdWZmaXgiLCJpbm5lckVsZW0iLCJlbGVtQXR0cnMiLCJ2aWV3cG9ydEVsZW0iLCJvdXRlckVsZW0iLCJ2aWV3cG9ydE1hcmdpbiIsImJvdW5kU2Nyb2xsRnVuY3Rpb24iLCJzY3JvbGxGdW5jdGlvbiIsImJvdW5kRXNjYXBlTGlzdGVuZXIiLCJlc2NhcGVMaXN0ZW5lciIsImluaXRQbHVnaW5zIiwiaGFuZGxlRXZlbnRzIiwic2hvd1Rocm9iYmVyIiwiaXNWYWxpZCIsImlkZW50IiwiYXR0cnMiLCJrZXlDb2RlIiwibGVhdmVGdWxsc2NyZWVuTW9kZSIsIm5ld09wdGlvbnMiLCJxdWV1ZWRFdmVudHMiLCJnZXRWYWxpZGF0ZWRPcHRpb25zIiwiaGFzQ2hhbmdlZE9wdGlvbiIsImluRnVsbHNjcmVlbiIsInByZXBhcmVNb2RlQ2hhbmdlIiwiY2xlYXJWaWV3ZXIiLCJ1cGRhdGVWaWV3SGFuZGxlckFuZFJlbmRlcmluZyIsInJlbmRlcmVyQ29uZmlnIiwiZ2V0UGFkZGluZyIsInNvdXJjZVByb3ZpZGVyIiwiZ2V0Q3VycmVudFNvdXJjZVByb3ZpZGVyIiwic2VyaWFsaXplZCIsImNoYW5nZUNsYXNzIiwic3RvcmVkSGVpZ2h0Iiwic3RvcmVkV2lkdGgiLCJuZXdXaWR0aCIsIkhhbmRsZXIiLCJpbml0aWFsaXplUmVuZGVyZXIiLCJjb21wYXRFcnJvcnMiLCJnZXRDb21wYXRpYmlsaXR5RXJyb3JzIiwic2hvd0Vycm9yIiwidXBkYXRlUGFnZU92ZXJsYXlzIiwiZ3JpZFNvdXJjZVByb3ZpZGVyIiwiZ2V0UGFnZUltYWdlVVJMIiwidGlsZURpbWVuc2lvbnMiLCJ0aWxlV2lkdGgiLCJ0aWxlSGVpZ2h0IiwiZ2V0UGFnZUltYWdlVGlsZXMiLCJsZXZlbENvdW50IiwidG9wUGFkZGluZyIsImxlZnRQYWRkaW5nIiwiZG9jVlBhZGRpbmciLCJkb2NIUGFkZGluZyIsInVwZGF0ZU92ZXJsYXlzIiwiZ2V0UmVuZGVyZWRQYWdlcyIsImZvY2FsUG9pbnQiLCJpc1ZhbGlkT3B0aW9uIiwiY3VycmVudFJlZ2lvbiIsInBhZ2VSZWdpb24iLCJmb2NhbFhUb0NlbnRlciIsImZvY2FsWVRvQ2VudGVyIiwiZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwiLCJpbml0Wm9vbSIsInpvb21SYXRpbyIsImluaXRpYWxab29tTGV2ZWwiLCJlbmRQb3NpdGlvbiIsInRyYW5zaXRpb25WaWV3cG9ydFBvc2l0aW9uIiwiem9vbUluQnV0dG9uIiwiem9vbU91dEJ1dHRvbiIsImFuY2hvciIsInBpZHgiLCJnZXRQYWdlRGF0YSIsInVwZGF0ZU9mZnNldHMiLCJ1cGRhdGVQYW5lbFNpemUiLCJyZWxvYWRWaWV3ZXIiLCJibG9ja01vYmlsZU1vdmUiLCJwcmV2aW91c1RvcFNjcm9sbCIsInByZXZpb3VzTGVmdFNjcm9sbCIsIm5ld1Njcm9sbFRvcCIsIm5ld1Njcm9sbExlZnQiLCJhZGp1c3QiLCJwcmltYXJ5U2Nyb2xsIiwiYmluZE1vdXNlRXZlbnRzIiwiZW5hYmxlU3BhY2VTY3JvbGwiLCJlbmFibGVLZXlTY3JvbGwiLCJhcnJvd1Njcm9sbEFtb3VudCIsIm9uUmVzaXplIiwicGx1Z2lucyIsImlzUGFnZVRvb2wiLCJoaWRlVGhyb2JiZXIiLCJ0aGIiLCJ0aHJvYmJlclRpbWVvdXQiLCJlcnJvckVsZW1lbnQiLCJsb2FkT3B0aW9ucyIsImFkYXB0aXZlUGFkZGluZyIsInoiLCJnZXRBdmVyYWdlV2lkdGgiLCJnZXRBdmVyYWdlSGVpZ2h0IiwibmVlZHNYQ29vcmQiLCJuZWVkc1lDb29yZCIsImFuY2hvcmVkVmVydGljYWxseSIsImFuY2hvcmVkSG9yaXpvbnRhbGx5IiwiZ2V0WE9mZnNldCIsImdldFlPZmZzZXQiLCJlbmFibGVBdXRvVGl0bGUiLCJtaW5XaWR0aCIsImFkZE92ZXJsYXkiLCJyZW1vdmVPdmVybGF5IiwiZG9jT2Zmc2V0IiwiZG9jQ29vcmRzIiwicGFnZUNvdW50IiwiYWN0aXZlUGFnZSIsImFycmF5c0VxdWFsIiwib3RoZXJJbWFnZXMiLCJlbmFibGVEcmFnU2Nyb2xsYWJsZSIsImRibGNsaWNrIiwiY29udGV4dG1lbnUiLCJyZW1vdmVDbGFzcyIsImVtcHR5IiwicmVtb3ZlRGF0YSIsInJlbW92ZUF0dHIiLCJ1bnN1YnNjcmliZUFsbCIsInBhcnNlTGFiZWxWYWx1ZSIsImdldE1heFpvb21MZXZlbCIsImxhcmdlc3REaW1lbnNpb24iLCJpbmNvcnBvcmF0ZVpvb20iLCJpbWFnZURpbWVuc2lvbiIsInpvb21EaWZmZXJlbmNlIiwiZ2V0T3RoZXJJbWFnZURhdGEiLCJsb3dlc3RNYXhab29tIiwiaXRtIiwicGFyc2VJbWFnZUluZm8iLCJpbCIsInBhcnNlSUlJRk1hbmlmZXN0IiwiZ2V0SUlJRlByZXNlbnRhdGlvblZlcnNpb24iLCJudW1DYW52YXNlcyIsInRoaXNDYW52YXMiLCJ0aGlzUmVzb3VyY2UiLCJ0aGlzSW1hZ2UiLCJzZWNvbmRhcnlJbWFnZXMiLCJpbWFnZUFQSVZlcnNpb24iLCJpbWFnZUxhYmVsIiwiem9vbURpbWVuc2lvbnMiLCJ3aWR0aEF0Q3VycmVudFpvb21MZXZlbCIsImhlaWdodEF0Q3VycmVudFpvb21MZXZlbCIsIm16IiwicmF0aW8iLCJ0b3RhbFdpZHRocyIsInRvdGFsSGVpZ2h0cyIsIm1heFdpZHRocyIsIm1heEhlaWdodHMiLCJpbWFnZXMiLCJyZXNvdXJjZSIsInNlcnZpY2UiLCJpc1BhZ2VkIiwidmlld2luZ0hpbnQiLCJiZWhhdmlvciIsImlzRmFjaW5nIiwieG9mZnNldCIsInlvZmZzZXQiLCJhdmVyYWdlV2lkdGhzIiwiYXZlcmFnZUhlaWdodHMiLCJhX3dpZCIsImFfaGVpIiwibWF4X3ciLCJtYXhfaCIsIm1heF9yYXRpbyIsIm1pbl9yYXRpbyIsInRfaGVpIiwidF93aWQiLCJpdGVtX3RpdGxlIiwibWF4X3pvb20iLCJwZ3MiLCJiZWhhdmlvdXIiLCJmcmFnbWVudFJlZ2V4IiwieHl3aCIsInN0cmlwVVJMIiwidXJsQXJyYXkiLCJpbWFnZUluZm8iLCJJSUlGU291cmNlQWRhcHRlciIsImRpbWVucyIsInF1YWxpdHkiLCJlbmNvZGVVUkkiLCJyb3dDb3VudCIsImNvbENvdW50IiwidXJsQWRhcHRlciIsIl9tYXhXaWR0aHMiLCJfbWF4SGVpZ2h0cyIsIl9hdmVyYWdlV2lkdGhzIiwiX2F2ZXJhZ2VIZWlnaHRzIiwiX3RvdGFsSGVpZ2h0cyIsIl90b3RhbFdpZHRocyIsIl91cmxBZGFwdGVyIiwiaWlpZk1hbmlmZXN0IiwibWF4RGltcyIsInRhcmdldFpvb21MZXZlbCIsImdldFRpbGVJbWFnZVVSTCIsInpvb21lZFByb3BlcnR5R2V0dGVyIiwicHJpdmF0ZU5hbWUiLCJnZXRNYXhXaWR0aCIsImdldE1heEhlaWdodCIsImdldFRvdGFsV2lkdGgiLCJnZXRUb3RhbEhlaWdodCIsInZpZXdlciIsImljb24iLCJpbm5lck5hbWUiLCJpbm5lclZhbHVlIiwiem9vbU91dEljb24iLCJfY3JlYXRlWm9vbU91dEljb24iLCJ6b29tSW5JY29uIiwiX2NyZWF0ZVpvb21Jbkljb24iLCJ6b29tQnV0dG9ucyIsImNyZWF0ZUJ1dHRvbiIsInNldFpvb21MZXZlbCIsImNyZWF0ZUxhYmVsIiwiX3N1YnNjcmliZSIsImdyaWRNb3JlSWNvbiIsIl9jcmVhdGVHcmlkTW9yZUljb24iLCJncmlkRmV3ZXJJY29uIiwiX2NyZWF0ZUdyaWRGZXdlckljb24iLCJncmlkQnV0dG9ucyIsInNldEdyaWRQYWdlc1BlclJvdyIsInVwZGF0ZUN1cnJlbnRQYWdlIiwiaW5kaWNlcyIsImdldEN1cnJlbnRQYWdlSW5kaWNlcyIsInN0YXJ0SW5kZXgiLCJlbmRJbmRleCIsInN0YXJ0TGFiZWwiLCJlbmRMYWJlbCIsImVuYWJsZUluZGV4QXNMYWJlbCIsImdvdG9QYWdlSW5wdXQiLCJhdXRvY29tcGxldGUiLCJnb3RvUGFnZVN1Ym1pdCIsImlucHV0U3VnZ2VzdGlvbnMiLCJnb3RvRm9ybSIsImRlc2lyZWRQYWdlTGFiZWwiLCJvbkdvdG9TdWJtaXQiLCJnb3RvUGFnZUJ5SW5kZXgiLCJhbGVydCIsImdvdG9QYWdlQnlMYWJlbCIsIm51bVN1Z2dlc3Rpb25zIiwiZW5hYmxlR290b1N1Z2dlc3Rpb25zIiwibmV3SW5wdXRTdWdnZXN0aW9uIiwiYWN0aXZlIiwicHJldkVsIiwibmV4dEVsIiwic3VibWl0RXZlbnQiLCJFdmVudCIsImNhbmNlbGFibGUiLCJ2aWV3T3B0aW9uc0xpc3QiLCJfZWxlbUF0dHJzIiwiZ3JpZFZpZXdJY29uIiwiX2NyZWF0ZUdyaWRWaWV3SWNvbiIsImJvb2tWaWV3SWNvbiIsIl9jcmVhdGVCb29rVmlld0ljb24iLCJwYWdlVmlld0ljb24iLCJfY3JlYXRlUGFnZVZpZXdJY29uIiwiY2hhbmdlVmlld0J1dHRvbiIsInNlbGVjdFZpZXciLCJjaGFuZ2VWaWV3IiwidXBkYXRlVmlld01lbnUiLCJ2aWV3T3B0aW9ucyIsImNyZWF0ZURvY3VtZW50RnJhZ21lbnQiLCJmdWxsc2NyZWVuSWNvbiIsIl9jcmVhdGVGdWxsc2NyZWVuSWNvbiIsInRvZ2dsZUZ1bGxzY3JlZW5Nb2RlIiwidG9nZ2xlWm9vbUdyaWRDb250cm9scyIsImxlZnRUb29scyIsImNyZWF0ZVpvb21CdXR0b25zIiwiY3JlYXRlR3JpZENvbnRyb2xzIiwicmlnaHRUb29scyIsImNyZWF0ZVBhZ2VMYWJlbCIsImNyZWF0ZVZpZXdNZW51IiwiZW5hYmxlRnVsbHNjcmVlbiIsImNyZWF0ZUZ1bGxzY3JlZW5CdXR0b24iLCJlbmFibGVHb3RvUGFnZSIsImNyZWF0ZUdvdG9QYWdlRm9ybSIsInRvb2xiYXJTaWRlIiwidG9vbGJhckljb24iLCJjcmVhdGVJY29uIiwiaGFuZGxlUGx1Z2luQ2xpY2siLCJ0b29scyIsInRvb2xiYXJQYXJlbnRPYmplY3QiLCJwRWwiLCJfY3JlYXRlVG9vbGJhckljb24iLCJnZXRIYXNoUGFyYW0iLCJvcmlnaW5hbFZhbHVlIiwic3RhcnRUaGluZyIsIkhUTUxFbGVtZW50IiwiZW5hYmxlRmlsZW5hbWUiLCJlbmFibGVHcmlkSWNvbiIsImVuYWJsZUdyaWRDb250cm9scyIsImVuYWJsZUltYWdlVGl0bGVzIiwiZW5hYmxlTGlua0ljb24iLCJlbmFibGVOb25QYWdlZFZpc2liaWxpdHlJY29uIiwiZW5hYmxlVG9vbGJhciIsImVuYWJsZVpvb21Db250cm9scyIsImZpbGxQYXJlbnRIZWlnaHQiLCJwYWdlQWxpYXNlcyIsInBhZ2VBbGlhc0Z1bmN0aW9uIiwicGFnZUxvYWRUaW1lb3V0IiwicmVxdWVzdEhlYWRlcnMiLCJ3cmFwcGVyRWxlbWVudCIsImRpdmFTdGF0ZSIsInJlbmRlciIsInVuc3Vic2NyaWJlIiwiaGFzaFN0YXRlIiwiX2dldEhhc2hQYXJhbVN0YXRlIiwiX2xvYWRPckZldGNoT2JqZWN0RGF0YSIsIl9sb2FkT2JqZWN0RGF0YSIsIl9hamF4RXJyb3IiLCJzZXRQZW5kaW5nTWFuaWZlc3RSZXF1ZXN0IiwianNvbkhvc3QiLCJfc2hvd0Vycm9yIiwicmVzcG9uc2VEYXRhIiwiZnJvbUlJSUYiLCJfZ2V0TG9hZE9wdGlvbnNGb3JTdGF0ZSIsInNldE1hbmlmZXN0IiwiX2dldFZpZXdTdGF0ZSIsIl9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdCIsIm5wIiwiaGFzaFBhcmFtcyIsIl9nZXRTdGF0ZSIsImhhc2hTdHJpbmdCdWlsZGVyIiwiX3JlbG9hZFZpZXdlciIsImhvdmVyIiwidG9nZ2xlT3BhY2l0eSIsImRlc3RpbmF0aW9uVmlldyIsInhBbmNob3IiLCJ5QW5jaG9yIiwiX2lzUGFnZUluZGV4VmFsaWQiLCJ4T2Zmc2V0IiwieU9mZnNldCIsImlzUGFnZVZhbGlkIiwib3V0ZXJPZmZzZXQiLCJvdXRlclRvcCIsIm91dGVyTGVmdCIsIm91dGVyQm90dG9tIiwib3V0ZXJSaWdodCIsImN1clBhZ2VJZHgiLCJjdXJQYWdlIiwiY3VyT2Zmc2V0IiwiX2dldFVSTEhhc2giLCJfY2hhbmdlVmlldyIsImRpc2FibGVTY3JvbGxhYmxlIiwiZW5hYmxlU2Nyb2xsYWJsZSIsIl90b2dnbGVGdWxsc2NyZWVuIiwicGciLCJfZ2V0Q3VycmVudFVSTCIsInBhZ2VJZHgiLCJfY2hlY2tMb2FkZWQiLCJwZ0F0Wm9vbSIsIl9nZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMiLCJfZ290b1BhZ2VCeUluZGV4IiwibGxjIiwiX2dldFBhZ2VJbmRleCIsInRvcE9mZnNldCIsIl90b2dnbGVQYWdlTGF5b3V0T3JpZW50YXRpb24iLCJEaXZhIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJQSxFQUFtQixHQUd2QixTQUFTQyxFQUFvQkMsR0FHNUIsR0FBR0YsRUFBaUJFLEdBQ25CLE9BQU9GLEVBQWlCRSxHQUFVQyxRQUduQyxJQUFJQyxFQUFTSixFQUFpQkUsR0FBWSxDQUN6Q0csRUFBR0gsRUFDSEksR0FBRyxFQUNISCxRQUFTLElBVVYsT0FOQUksRUFBUUwsR0FBVU0sS0FBS0osRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0YsR0FHL0RHLEVBQU9FLEdBQUksRUFHSkYsRUFBT0QsUUFLZkYsRUFBb0JRLEVBQUlGLEVBR3hCTixFQUFvQlMsRUFBSVYsRUFHeEJDLEVBQW9CVSxFQUFJLFNBQVNSLEVBQVNTLEVBQU1DLEdBQzNDWixFQUFvQmEsRUFBRVgsRUFBU1MsSUFDbENHLE9BQU9DLGVBQWViLEVBQVNTLEVBQU0sQ0FBRUssWUFBWSxFQUFNQyxJQUFLTCxLQUtoRVosRUFBb0JrQixFQUFJLFNBQVNoQixHQUNYLG9CQUFYaUIsUUFBMEJBLE9BQU9DLGFBQzFDTixPQUFPQyxlQUFlYixFQUFTaUIsT0FBT0MsWUFBYSxDQUFFQyxNQUFPLFdBRTdEUCxPQUFPQyxlQUFlYixFQUFTLGFBQWMsQ0FBRW1CLE9BQU8sS0FRdkRyQixFQUFvQnNCLEVBQUksU0FBU0QsRUFBT0UsR0FFdkMsR0FEVSxFQUFQQSxJQUFVRixFQUFR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SUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN2RSxJQUFVLElBQU0sSUFBVSxJQUMxQixJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDdkUsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQUssSUFBVSxJQUN4RCxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFDekMsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQ3hELElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUFLLElBQVUsSUFDeEQsSUFBVSxJQUFNLElBQVUsSUFBSyxJQUFVLElBQ3pDLElBQVUsSUFBTSxJQUFVLElBQUssSUFBVSxJQUN6QyxJQUFVLElBQU0sSUFBVSxJQUFLLElBQVUsSUFBSyxJQUFVLElBQUssSUFB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akQsS0FBS2k4SSxjQUFjajhJLEtBQUt5N0ksd0JBQXdCeDRJLElBU3BELGFBQWMrc0gsR0FTVixPQVBJaHdILEtBQUs2UyxTQUFTKy9HLFFBRWQ1eUgsS0FBS2k4SSxjQUFjLENBQ2ZycEIsUUFBUSxJQUlUNXlILEtBQUs0NkksVUFBVXRzQixXQUFXbjhHLEtBQUs2OUcsR0FTMUMsb0JBRUlod0gsS0FBS2k4SSxjQUFjLENBQUUxYixtQkFBbUIsSUFTNUMsdUJBRUl2Z0ksS0FBS3U5SSxvQkFTVCxnQ0FFSXY5SSxLQUFLaThJLGNBQWMsQ0FDZjFiLG1CQUFvQnZnSSxLQUFLNlMsU0FBUzB0SCxvQkFLMUMsb0JBRUksT0FBT3ZnSSxLQUFLaytJLCtCQWtCaEIsMEJBQTJCajVJLEdBRXZCLE1BQU0ycUksRUFBaUI1dkksS0FBSzZTLFNBQVN3OUcsYUFBZXJ3SCxLQUFLNlMsU0FBU205RyxVQUNsRSxPQUFPL3FILEVBQVc4SCxLQUFLc3VHLElBQUksRUFBR3UwQixHQWVsQyx3QkFBeUIzcUksR0FFckIsTUFBTTJxSSxFQUFpQjV2SSxLQUFLNlMsU0FBU3c5RyxhQUFlcndILEtBQUs2UyxTQUFTbTlHLFVBSWxFLE9BQXVCLElBQW5CNGYsRUFDTzNxSSxFQUVKQSxFQUFXOEgsS0FBS3N1RyxJQUFJLEVBQUd1MEIsR0FTbEMsU0FFSSxPQUFPNXZJLEtBQUtrMUksYUFBYWwxSSxLQUFLNlMsU0FBU205RyxVQUFZLEdBT3ZELFVBRUksT0FBT2h3SCxLQUFLazFJLGFBQWFsMUksS0FBSzZTLFNBQVNtOUcsVUFBWSxJQUkzRCxHQUFLelMsT0FBUyxFQUFLQSxPQUVKLElBTUFyeEQsR0FOQSxhQUtPLG9CQUFYMzZDLFVBQ0kyNkMsR0FHUjM2QyxRQURRNHNJLEtBQU9qeUYsR0FBT2l5RixNQUFRIiwiZmlsZSI6ImVkaXRvci5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGdldHRlciB9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZGVmaW5lIF9fZXNNb2R1bGUgb24gZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yID0gZnVuY3Rpb24oZXhwb3J0cykge1xuIFx0XHRpZih0eXBlb2YgU3ltYm9sICE9PSAndW5kZWZpbmVkJyAmJiBTeW1ib2wudG9TdHJpbmdUYWcpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgU3ltYm9sLnRvU3RyaW5nVGFnLCB7IHZhbHVlOiAnTW9kdWxlJyB9KTtcbiBcdFx0fVxuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgJ19fZXNNb2R1bGUnLCB7IHZhbHVlOiB0cnVlIH0pO1xuIFx0fTtcblxuIFx0Ly8gY3JlYXRlIGEgZmFrZSBuYW1lc3BhY2Ugb2JqZWN0XG4gXHQvLyBtb2RlICYgMTogdmFsdWUgaXMgYSBtb2R1bGUgaWQsIHJlcXVpcmUgaXRcbiBcdC8vIG1vZGUgJiAyOiBtZXJnZSBhbGwgcHJvcGVydGllcyBvZiB2YWx1ZSBpbnRvIHRoZSBuc1xuIFx0Ly8gbW9kZSAmIDQ6IHJldHVybiB2YWx1ZSB3aGVuIGFscmVhZHkgbnMgb2JqZWN0XG4gXHQvLyBtb2RlICYgOHwxOiBiZWhhdmUgbGlrZSByZXF1aXJlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnQgPSBmdW5jdGlvbih2YWx1ZSwgbW9kZSkge1xuIFx0XHRpZihtb2RlICYgMSkgdmFsdWUgPSBfX3dlYnBhY2tfcmVxdWlyZV9fKHZhbHVlKTtcbiBcdFx0aWYobW9kZSAmIDgpIHJldHVybiB2YWx1ZTtcbiBcdFx0aWYoKG1vZGUgJiA0KSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHZhbHVlICYmIHZhbHVlLl9fZXNNb2R1bGUpIHJldHVybiB2YWx1ZTtcbiBcdFx0dmFyIG5zID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5yKG5zKTtcbiBcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG5zLCAnZGVmYXVsdCcsIHsgZW51bWVyYWJsZTogdHJ1ZSwgdmFsdWU6IHZhbHVlIH0pO1xuIFx0XHRpZihtb2RlICYgMiAmJiB0eXBlb2YgdmFsdWUgIT0gJ3N0cmluZycpIGZvcih2YXIga2V5IGluIHZhbHVlKSBfX3dlYnBhY2tfcmVxdWlyZV9fLmQobnMsIGtleSwgZnVuY3Rpb24oa2V5KSB7IHJldHVybiB2YWx1ZVtrZXldOyB9LmJpbmQobnVsbCwga2V5KSk7XG4gXHRcdHJldHVybiBucztcbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA2MSk7XG4iLCIvLyBDb3B5cmlnaHQgSm95ZW50LCBJbmMuIGFuZCBvdGhlciBOb2RlIGNvbnRyaWJ1dG9ycy5cbi8vXG4vLyBQZXJtaXNzaW9uIGlzIGhlcmVieSBncmFudGVkLCBmcmVlIG9mIGNoYXJnZSwgdG8gYW55IHBlcnNvbiBvYnRhaW5pbmcgYVxuLy8gY29weSBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZVxuLy8gXCJTb2Z0d2FyZVwiKSwgdG8gZGVhbCBpbiB0aGUgU29mdHdhcmUgd2l0aG91dCByZXN0cmljdGlvbiwgaW5jbHVkaW5nXG4vLyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0cyB0byB1c2UsIGNvcHksIG1vZGlmeSwgbWVyZ2UsIHB1Ymxpc2gsXG4vLyBkaXN0cmlidXRlLCBzdWJsaWNlbnNlLCBhbmQvb3Igc2VsbCBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0XG4vLyBwZXJzb25zIHRvIHdob20gdGhlIFNvZnR3YXJlIGlzIGZ1cm5pc2hlZCB0byBkbyBzbywgc3ViamVjdCB0byB0aGVcbi8vIGZvbGxvd2luZyBjb25kaXRpb25zOlxuLy9cbi8vIFRoZSBhYm92ZSBjb3B5cmlnaHQgbm90aWNlIGFuZCB0aGlzIHBlcm1pc3Npb24gbm90aWNlIHNoYWxsIGJlIGluY2x1ZGVkXG4vLyBpbiBhbGwgY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cbi8vXG4vLyBUSEUgU09GVFdBUkUgSVMgUFJPVklERUQgXCJBUyBJU1wiLCBXSVRIT1VUIFdBUlJBTlRZIE9GIEFOWSBLSU5ELCBFWFBSRVNTXG4vLyBPUiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GXG4vLyBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORCBOT05JTkZSSU5HRU1FTlQuIElOXG4vLyBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUiBDT1BZUklHSFQgSE9MREVSUyBCRSBMSUFCTEUgRk9SIEFOWSBDTEFJTSxcbi8vIERBTUFHRVMgT1IgT1RIRVIgTElBQklMSVRZLCBXSEVUSEVSIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUlxuLy8gT1RIRVJXSVNFLCBBUklTSU5HIEZST00sIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRVxuLy8gVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuJ3VzZSBzdHJpY3QnO1xuXG52YXIgUiA9IHR5cGVvZiBSZWZsZWN0ID09PSAnb2JqZWN0JyA/IFJlZmxlY3QgOiBudWxsXG52YXIgUmVmbGVjdEFwcGx5ID0gUiAmJiB0eXBlb2YgUi5hcHBseSA9PT0gJ2Z1bmN0aW9uJ1xuICA/IFIuYXBwbHlcbiAgOiBmdW5jdGlvbiBSZWZsZWN0QXBwbHkodGFyZ2V0LCByZWNlaXZlciwgYXJncykge1xuICAgIHJldHVybiBGdW5jdGlvbi5wcm90b3R5cGUuYXBwbHkuY2FsbCh0YXJnZXQsIHJlY2VpdmVyLCBhcmdzKTtcbiAgfVxuXG52YXIgUmVmbGVjdE93bktleXNcbmlmIChSICYmIHR5cGVvZiBSLm93bktleXMgPT09ICdmdW5jdGlvbicpIHtcbiAgUmVmbGVjdE93bktleXMgPSBSLm93bktleXNcbn0gZWxzZSBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpXG4gICAgICAuY29uY2F0KE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHModGFyZ2V0KSk7XG4gIH07XG59IGVsc2Uge1xuICBSZWZsZWN0T3duS2V5cyA9IGZ1bmN0aW9uIFJlZmxlY3RPd25LZXlzKHRhcmdldCkge1xuICAgIHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh0YXJnZXQpO1xuICB9O1xufVxuXG5mdW5jdGlvbiBQcm9jZXNzRW1pdFdhcm5pbmcod2FybmluZykge1xuICBpZiAoY29uc29sZSAmJiBjb25zb2xlLndhcm4pIGNvbnNvbGUud2Fybih3YXJuaW5nKTtcbn1cblxudmFyIE51bWJlcklzTmFOID0gTnVtYmVyLmlzTmFOIHx8IGZ1bmN0aW9uIE51bWJlcklzTmFOKHZhbHVlKSB7XG4gIHJldHVybiB2YWx1ZSAhPT0gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIEV2ZW50RW1pdHRlcigpIHtcbiAgRXZlbnRFbWl0dGVyLmluaXQuY2FsbCh0aGlzKTtcbn1cbm1vZHVsZS5leHBvcnRzID0gRXZlbnRFbWl0dGVyO1xubW9kdWxlLmV4cG9ydHMub25jZSA9IG9uY2U7XG5cbi8vIEJhY2t3YXJkcy1jb21wYXQgd2l0aCBub2RlIDAuMTAueFxuRXZlbnRFbWl0dGVyLkV2ZW50RW1pdHRlciA9IEV2ZW50RW1pdHRlcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzID0gdW5kZWZpbmVkO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQgPSAwO1xuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fbWF4TGlzdGVuZXJzID0gdW5kZWZpbmVkO1xuXG4vLyBCeSBkZWZhdWx0IEV2ZW50RW1pdHRlcnMgd2lsbCBwcmludCBhIHdhcm5pbmcgaWYgbW9yZSB0aGFuIDEwIGxpc3RlbmVycyBhcmVcbi8vIGFkZGVkIHRvIGl0LiBUaGlzIGlzIGEgdXNlZnVsIGRlZmF1bHQgd2hpY2ggaGVscHMgZmluZGluZyBtZW1vcnkgbGVha3MuXG52YXIgZGVmYXVsdE1heExpc3RlbmVycyA9IDEwO1xuXG5mdW5jdGlvbiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gIGlmICh0eXBlb2YgbGlzdGVuZXIgIT09ICdmdW5jdGlvbicpIHtcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgXCJsaXN0ZW5lclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBGdW5jdGlvbi4gUmVjZWl2ZWQgdHlwZSAnICsgdHlwZW9mIGxpc3RlbmVyKTtcbiAgfVxufVxuXG5PYmplY3QuZGVmaW5lUHJvcGVydHkoRXZlbnRFbWl0dGVyLCAnZGVmYXVsdE1heExpc3RlbmVycycsIHtcbiAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgZ2V0OiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gZGVmYXVsdE1heExpc3RlbmVycztcbiAgfSxcbiAgc2V0OiBmdW5jdGlvbihhcmcpIHtcbiAgICBpZiAodHlwZW9mIGFyZyAhPT0gJ251bWJlcicgfHwgYXJnIDwgMCB8fCBOdW1iZXJJc05hTihhcmcpKSB7XG4gICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignVGhlIHZhbHVlIG9mIFwiZGVmYXVsdE1heExpc3RlbmVyc1wiIGlzIG91dCBvZiByYW5nZS4gSXQgbXVzdCBiZSBhIG5vbi1uZWdhdGl2ZSBudW1iZXIuIFJlY2VpdmVkICcgKyBhcmcgKyAnLicpO1xuICAgIH1cbiAgICBkZWZhdWx0TWF4TGlzdGVuZXJzID0gYXJnO1xuICB9XG59KTtcblxuRXZlbnRFbWl0dGVyLmluaXQgPSBmdW5jdGlvbigpIHtcblxuICBpZiAodGhpcy5fZXZlbnRzID09PSB1bmRlZmluZWQgfHxcbiAgICAgIHRoaXMuX2V2ZW50cyA9PT0gT2JqZWN0LmdldFByb3RvdHlwZU9mKHRoaXMpLl9ldmVudHMpIHtcbiAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgIHRoaXMuX2V2ZW50c0NvdW50ID0gMDtcbiAgfVxuXG4gIHRoaXMuX21heExpc3RlbmVycyA9IHRoaXMuX21heExpc3RlbmVycyB8fCB1bmRlZmluZWQ7XG59O1xuXG4vLyBPYnZpb3VzbHkgbm90IGFsbCBFbWl0dGVycyBzaG91bGQgYmUgbGltaXRlZCB0byAxMC4gVGhpcyBmdW5jdGlvbiBhbGxvd3Ncbi8vIHRoYXQgdG8gYmUgaW5jcmVhc2VkLiBTZXQgdG8gemVybyBmb3IgdW5saW1pdGVkLlxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBzZXRNYXhMaXN0ZW5lcnMobikge1xuICBpZiAodHlwZW9mIG4gIT09ICdudW1iZXInIHx8IG4gPCAwIHx8IE51bWJlcklzTmFOKG4pKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnICsgbiArICcuJyk7XG4gIH1cbiAgdGhpcy5fbWF4TGlzdGVuZXJzID0gbjtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG5mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpIHtcbiAgaWYgKHRoYXQuX21heExpc3RlbmVycyA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBFdmVudEVtaXR0ZXIuZGVmYXVsdE1heExpc3RlbmVycztcbiAgcmV0dXJuIHRoYXQuX21heExpc3RlbmVycztcbn1cblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5nZXRNYXhMaXN0ZW5lcnMgPSBmdW5jdGlvbiBnZXRNYXhMaXN0ZW5lcnMoKSB7XG4gIHJldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5lbWl0ID0gZnVuY3Rpb24gZW1pdCh0eXBlKSB7XG4gIHZhciBhcmdzID0gW107XG4gIGZvciAodmFyIGkgPSAxOyBpIDwgYXJndW1lbnRzLmxlbmd0aDsgaSsrKSBhcmdzLnB1c2goYXJndW1lbnRzW2ldKTtcbiAgdmFyIGRvRXJyb3IgPSAodHlwZSA9PT0gJ2Vycm9yJyk7XG5cbiAgdmFyIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgaWYgKGV2ZW50cyAhPT0gdW5kZWZpbmVkKVxuICAgIGRvRXJyb3IgPSAoZG9FcnJvciAmJiBldmVudHMuZXJyb3IgPT09IHVuZGVmaW5lZCk7XG4gIGVsc2UgaWYgKCFkb0Vycm9yKVxuICAgIHJldHVybiBmYWxzZTtcblxuICAvLyBJZiB0aGVyZSBpcyBubyAnZXJyb3InIGV2ZW50IGxpc3RlbmVyIHRoZW4gdGhyb3cuXG4gIGlmIChkb0Vycm9yKSB7XG4gICAgdmFyIGVyO1xuICAgIGlmIChhcmdzLmxlbmd0aCA+IDApXG4gICAgICBlciA9IGFyZ3NbMF07XG4gICAgaWYgKGVyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIC8vIE5vdGU6IFRoZSBjb21tZW50cyBvbiB0aGUgYHRocm93YCBsaW5lcyBhcmUgaW50ZW50aW9uYWwsIHRoZXkgc2hvd1xuICAgICAgLy8gdXAgaW4gTm9kZSdzIG91dHB1dCBpZiB0aGlzIHJlc3VsdHMgaW4gYW4gdW5oYW5kbGVkIGV4Y2VwdGlvbi5cbiAgICAgIHRocm93IGVyOyAvLyBVbmhhbmRsZWQgJ2Vycm9yJyBldmVudFxuICAgIH1cbiAgICAvLyBBdCBsZWFzdCBnaXZlIHNvbWUga2luZCBvZiBjb250ZXh0IHRvIHRoZSB1c2VyXG4gICAgdmFyIGVyciA9IG5ldyBFcnJvcignVW5oYW5kbGVkIGVycm9yLicgKyAoZXIgPyAnICgnICsgZXIubWVzc2FnZSArICcpJyA6ICcnKSk7XG4gICAgZXJyLmNvbnRleHQgPSBlcjtcbiAgICB0aHJvdyBlcnI7IC8vIFVuaGFuZGxlZCAnZXJyb3InIGV2ZW50XG4gIH1cblxuICB2YXIgaGFuZGxlciA9IGV2ZW50c1t0eXBlXTtcblxuICBpZiAoaGFuZGxlciA9PT0gdW5kZWZpbmVkKVxuICAgIHJldHVybiBmYWxzZTtcblxuICBpZiAodHlwZW9mIGhhbmRsZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICBSZWZsZWN0QXBwbHkoaGFuZGxlciwgdGhpcywgYXJncyk7XG4gIH0gZWxzZSB7XG4gICAgdmFyIGxlbiA9IGhhbmRsZXIubGVuZ3RoO1xuICAgIHZhciBsaXN0ZW5lcnMgPSBhcnJheUNsb25lKGhhbmRsZXIsIGxlbik7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSlcbiAgICAgIFJlZmxlY3RBcHBseShsaXN0ZW5lcnNbaV0sIHRoaXMsIGFyZ3MpO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59O1xuXG5mdW5jdGlvbiBfYWRkTGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgcHJlcGVuZCkge1xuICB2YXIgbTtcbiAgdmFyIGV2ZW50cztcbiAgdmFyIGV4aXN0aW5nO1xuXG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpIHtcbiAgICBldmVudHMgPSB0YXJnZXQuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgdGFyZ2V0Ll9ldmVudHNDb3VudCA9IDA7XG4gIH0gZWxzZSB7XG4gICAgLy8gVG8gYXZvaWQgcmVjdXJzaW9uIGluIHRoZSBjYXNlIHRoYXQgdHlwZSA9PT0gXCJuZXdMaXN0ZW5lclwiISBCZWZvcmVcbiAgICAvLyBhZGRpbmcgaXQgdG8gdGhlIGxpc3RlbmVycywgZmlyc3QgZW1pdCBcIm5ld0xpc3RlbmVyXCIuXG4gICAgaWYgKGV2ZW50cy5uZXdMaXN0ZW5lciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0YXJnZXQuZW1pdCgnbmV3TGlzdGVuZXInLCB0eXBlLFxuICAgICAgICAgICAgICAgICAgbGlzdGVuZXIubGlzdGVuZXIgPyBsaXN0ZW5lci5saXN0ZW5lciA6IGxpc3RlbmVyKTtcblxuICAgICAgLy8gUmUtYXNzaWduIGBldmVudHNgIGJlY2F1c2UgYSBuZXdMaXN0ZW5lciBoYW5kbGVyIGNvdWxkIGhhdmUgY2F1c2VkIHRoZVxuICAgICAgLy8gdGhpcy5fZXZlbnRzIHRvIGJlIGFzc2lnbmVkIHRvIGEgbmV3IG9iamVjdFxuICAgICAgZXZlbnRzID0gdGFyZ2V0Ll9ldmVudHM7XG4gICAgfVxuICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdO1xuICB9XG5cbiAgaWYgKGV4aXN0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAvLyBPcHRpbWl6ZSB0aGUgY2FzZSBvZiBvbmUgbGlzdGVuZXIuIERvbid0IG5lZWQgdGhlIGV4dHJhIGFycmF5IG9iamVjdC5cbiAgICBleGlzdGluZyA9IGV2ZW50c1t0eXBlXSA9IGxpc3RlbmVyO1xuICAgICsrdGFyZ2V0Ll9ldmVudHNDb3VudDtcbiAgfSBlbHNlIHtcbiAgICBpZiAodHlwZW9mIGV4aXN0aW5nID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAvLyBBZGRpbmcgdGhlIHNlY29uZCBlbGVtZW50LCBuZWVkIHRvIGNoYW5nZSB0byBhcnJheS5cbiAgICAgIGV4aXN0aW5nID0gZXZlbnRzW3R5cGVdID1cbiAgICAgICAgcHJlcGVuZCA/IFtsaXN0ZW5lciwgZXhpc3RpbmddIDogW2V4aXN0aW5nLCBsaXN0ZW5lcl07XG4gICAgICAvLyBJZiB3ZSd2ZSBhbHJlYWR5IGdvdCBhbiBhcnJheSwganVzdCBhcHBlbmQuXG4gICAgfSBlbHNlIGlmIChwcmVwZW5kKSB7XG4gICAgICBleGlzdGluZy51bnNoaWZ0KGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZXhpc3RpbmcucHVzaChsaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gQ2hlY2sgZm9yIGxpc3RlbmVyIGxlYWtcbiAgICBtID0gX2dldE1heExpc3RlbmVycyh0YXJnZXQpO1xuICAgIGlmIChtID4gMCAmJiBleGlzdGluZy5sZW5ndGggPiBtICYmICFleGlzdGluZy53YXJuZWQpIHtcbiAgICAgIGV4aXN0aW5nLndhcm5lZCA9IHRydWU7XG4gICAgICAvLyBObyBlcnJvciBjb2RlIGZvciB0aGlzIHNpbmNlIGl0IGlzIGEgV2FybmluZ1xuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXJlc3RyaWN0ZWQtc3ludGF4XG4gICAgICB2YXIgdyA9IG5ldyBFcnJvcignUG9zc2libGUgRXZlbnRFbWl0dGVyIG1lbW9yeSBsZWFrIGRldGVjdGVkLiAnICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZXhpc3RpbmcubGVuZ3RoICsgJyAnICsgU3RyaW5nKHR5cGUpICsgJyBsaXN0ZW5lcnMgJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdhZGRlZC4gVXNlIGVtaXR0ZXIuc2V0TWF4TGlzdGVuZXJzKCkgdG8gJyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICdpbmNyZWFzZSBsaW1pdCcpO1xuICAgICAgdy5uYW1lID0gJ01heExpc3RlbmVyc0V4Y2VlZGVkV2FybmluZyc7XG4gICAgICB3LmVtaXR0ZXIgPSB0YXJnZXQ7XG4gICAgICB3LnR5cGUgPSB0eXBlO1xuICAgICAgdy5jb3VudCA9IGV4aXN0aW5nLmxlbmd0aDtcbiAgICAgIFByb2Nlc3NFbWl0V2FybmluZyh3KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGFyZ2V0O1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyID0gZnVuY3Rpb24gYWRkTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgcmV0dXJuIF9hZGRMaXN0ZW5lcih0aGlzLCB0eXBlLCBsaXN0ZW5lciwgZmFsc2UpO1xufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbiA9IEV2ZW50RW1pdHRlci5wcm90b3R5cGUuYWRkTGlzdGVuZXI7XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyID1cbiAgICBmdW5jdGlvbiBwcmVwZW5kTGlzdGVuZXIodHlwZSwgbGlzdGVuZXIpIHtcbiAgICAgIHJldHVybiBfYWRkTGlzdGVuZXIodGhpcywgdHlwZSwgbGlzdGVuZXIsIHRydWUpO1xuICAgIH07XG5cbmZ1bmN0aW9uIG9uY2VXcmFwcGVyKCkge1xuICBpZiAoIXRoaXMuZmlyZWQpIHtcbiAgICB0aGlzLnRhcmdldC5yZW1vdmVMaXN0ZW5lcih0aGlzLnR5cGUsIHRoaXMud3JhcEZuKTtcbiAgICB0aGlzLmZpcmVkID0gdHJ1ZTtcbiAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMClcbiAgICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpO1xuICAgIHJldHVybiB0aGlzLmxpc3RlbmVyLmFwcGx5KHRoaXMudGFyZ2V0LCBhcmd1bWVudHMpO1xuICB9XG59XG5cbmZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyKSB7XG4gIHZhciBzdGF0ZSA9IHsgZmlyZWQ6IGZhbHNlLCB3cmFwRm46IHVuZGVmaW5lZCwgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9O1xuICB2YXIgd3JhcHBlZCA9IG9uY2VXcmFwcGVyLmJpbmQoc3RhdGUpO1xuICB3cmFwcGVkLmxpc3RlbmVyID0gbGlzdGVuZXI7XG4gIHN0YXRlLndyYXBGbiA9IHdyYXBwZWQ7XG4gIHJldHVybiB3cmFwcGVkO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLm9uY2UgPSBmdW5jdGlvbiBvbmNlKHR5cGUsIGxpc3RlbmVyKSB7XG4gIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuICB0aGlzLm9uKHR5cGUsIF9vbmNlV3JhcCh0aGlzLCB0eXBlLCBsaXN0ZW5lcikpO1xuICByZXR1cm4gdGhpcztcbn07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lciA9XG4gICAgZnVuY3Rpb24gcHJlcGVuZE9uY2VMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgY2hlY2tMaXN0ZW5lcihsaXN0ZW5lcik7XG4gICAgICB0aGlzLnByZXBlbmRMaXN0ZW5lcih0eXBlLCBfb25jZVdyYXAodGhpcywgdHlwZSwgbGlzdGVuZXIpKTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbi8vIEVtaXRzIGEgJ3JlbW92ZUxpc3RlbmVyJyBldmVudCBpZiBhbmQgb25seSBpZiB0aGUgbGlzdGVuZXIgd2FzIHJlbW92ZWQuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbiAgICBmdW5jdGlvbiByZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcikge1xuICAgICAgdmFyIGxpc3QsIGV2ZW50cywgcG9zaXRpb24sIGksIG9yaWdpbmFsTGlzdGVuZXI7XG5cbiAgICAgIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpO1xuXG4gICAgICBldmVudHMgPSB0aGlzLl9ldmVudHM7XG4gICAgICBpZiAoZXZlbnRzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB0aGlzO1xuXG4gICAgICBsaXN0ID0gZXZlbnRzW3R5cGVdO1xuICAgICAgaWYgKGxpc3QgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIGlmIChsaXN0ID09PSBsaXN0ZW5lciB8fCBsaXN0Lmxpc3RlbmVyID09PSBsaXN0ZW5lcikge1xuICAgICAgICBpZiAoLS10aGlzLl9ldmVudHNDb3VudCA9PT0gMClcbiAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBkZWxldGUgZXZlbnRzW3R5cGVdO1xuICAgICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIpXG4gICAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgbGlzdC5saXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAodHlwZW9mIGxpc3QgIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcG9zaXRpb24gPSAtMTtcblxuICAgICAgICBmb3IgKGkgPSBsaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgaWYgKGxpc3RbaV0gPT09IGxpc3RlbmVyIHx8IGxpc3RbaV0ubGlzdGVuZXIgPT09IGxpc3RlbmVyKSB7XG4gICAgICAgICAgICBvcmlnaW5hbExpc3RlbmVyID0gbGlzdFtpXS5saXN0ZW5lcjtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChwb3NpdGlvbiA8IDApXG4gICAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgICAgaWYgKHBvc2l0aW9uID09PSAwKVxuICAgICAgICAgIGxpc3Quc2hpZnQoKTtcbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgc3BsaWNlT25lKGxpc3QsIHBvc2l0aW9uKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChsaXN0Lmxlbmd0aCA9PT0gMSlcbiAgICAgICAgICBldmVudHNbdHlwZV0gPSBsaXN0WzBdO1xuXG4gICAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICB0aGlzLmVtaXQoJ3JlbW92ZUxpc3RlbmVyJywgdHlwZSwgb3JpZ2luYWxMaXN0ZW5lciB8fCBsaXN0ZW5lcik7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmID0gRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcjtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnMgPVxuICAgIGZ1bmN0aW9uIHJlbW92ZUFsbExpc3RlbmVycyh0eXBlKSB7XG4gICAgICB2YXIgbGlzdGVuZXJzLCBldmVudHMsIGk7XG5cbiAgICAgIGV2ZW50cyA9IHRoaXMuX2V2ZW50cztcbiAgICAgIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRoaXM7XG5cbiAgICAgIC8vIG5vdCBsaXN0ZW5pbmcgZm9yIHJlbW92ZUxpc3RlbmVyLCBubyBuZWVkIHRvIGVtaXRcbiAgICAgIGlmIChldmVudHMucmVtb3ZlTGlzdGVuZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIHRoaXMuX2V2ZW50cyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICB9IGVsc2UgaWYgKGV2ZW50c1t0eXBlXSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKC0tdGhpcy5fZXZlbnRzQ291bnQgPT09IDApXG4gICAgICAgICAgICB0aGlzLl9ldmVudHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSBldmVudHNbdHlwZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9XG5cbiAgICAgIC8vIGVtaXQgcmVtb3ZlTGlzdGVuZXIgZm9yIGFsbCBsaXN0ZW5lcnMgb24gYWxsIGV2ZW50c1xuICAgICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhldmVudHMpO1xuICAgICAgICB2YXIga2V5O1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwga2V5cy5sZW5ndGg7ICsraSkge1xuICAgICAgICAgIGtleSA9IGtleXNbaV07XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ3JlbW92ZUxpc3RlbmVyJykgY29udGludWU7XG4gICAgICAgICAgdGhpcy5yZW1vdmVBbGxMaXN0ZW5lcnMoa2V5KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlbW92ZUFsbExpc3RlbmVycygncmVtb3ZlTGlzdGVuZXInKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzID0gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgdGhpcy5fZXZlbnRzQ291bnQgPSAwO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgIH1cblxuICAgICAgbGlzdGVuZXJzID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgICBpZiAodHlwZW9mIGxpc3RlbmVycyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsIGxpc3RlbmVycyk7XG4gICAgICB9IGVsc2UgaWYgKGxpc3RlbmVycyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIC8vIExJRk8gb3JkZXJcbiAgICAgICAgZm9yIChpID0gbGlzdGVuZXJzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgICAgdGhpcy5yZW1vdmVMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lcnNbaV0pO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbmZ1bmN0aW9uIF9saXN0ZW5lcnModGFyZ2V0LCB0eXBlLCB1bndyYXApIHtcbiAgdmFyIGV2ZW50cyA9IHRhcmdldC5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgPT09IHVuZGVmaW5lZClcbiAgICByZXR1cm4gW107XG5cbiAgdmFyIGV2bGlzdGVuZXIgPSBldmVudHNbdHlwZV07XG4gIGlmIChldmxpc3RlbmVyID09PSB1bmRlZmluZWQpXG4gICAgcmV0dXJuIFtdO1xuXG4gIGlmICh0eXBlb2YgZXZsaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJylcbiAgICByZXR1cm4gdW53cmFwID8gW2V2bGlzdGVuZXIubGlzdGVuZXIgfHwgZXZsaXN0ZW5lcl0gOiBbZXZsaXN0ZW5lcl07XG5cbiAgcmV0dXJuIHVud3JhcCA/XG4gICAgdW53cmFwTGlzdGVuZXJzKGV2bGlzdGVuZXIpIDogYXJyYXlDbG9uZShldmxpc3RlbmVyLCBldmxpc3RlbmVyLmxlbmd0aCk7XG59XG5cbkV2ZW50RW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24gbGlzdGVuZXJzKHR5cGUpIHtcbiAgcmV0dXJuIF9saXN0ZW5lcnModGhpcywgdHlwZSwgdHJ1ZSk7XG59O1xuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLnJhd0xpc3RlbmVycyA9IGZ1bmN0aW9uIHJhd0xpc3RlbmVycyh0eXBlKSB7XG4gIHJldHVybiBfbGlzdGVuZXJzKHRoaXMsIHR5cGUsIGZhbHNlKTtcbn07XG5cbkV2ZW50RW1pdHRlci5saXN0ZW5lckNvdW50ID0gZnVuY3Rpb24oZW1pdHRlciwgdHlwZSkge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIubGlzdGVuZXJDb3VudCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBlbWl0dGVyLmxpc3RlbmVyQ291bnQodHlwZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLCB0eXBlKTtcbiAgfVxufTtcblxuRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lckNvdW50ID0gbGlzdGVuZXJDb3VudDtcbmZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSkge1xuICB2YXIgZXZlbnRzID0gdGhpcy5fZXZlbnRzO1xuXG4gIGlmIChldmVudHMgIT09IHVuZGVmaW5lZCkge1xuICAgIHZhciBldmxpc3RlbmVyID0gZXZlbnRzW3R5cGVdO1xuXG4gICAgaWYgKHR5cGVvZiBldmxpc3RlbmVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gMTtcbiAgICB9IGVsc2UgaWYgKGV2bGlzdGVuZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIGV2bGlzdGVuZXIubGVuZ3RoO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiAwO1xufVxuXG5FdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXMgPSBmdW5jdGlvbiBldmVudE5hbWVzKCkge1xuICByZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQgPiAwID8gUmVmbGVjdE93bktleXModGhpcy5fZXZlbnRzKSA6IFtdO1xufTtcblxuZnVuY3Rpb24gYXJyYXlDbG9uZShhcnIsIG4pIHtcbiAgdmFyIGNvcHkgPSBuZXcgQXJyYXkobik7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgKytpKVxuICAgIGNvcHlbaV0gPSBhcnJbaV07XG4gIHJldHVybiBjb3B5O1xufVxuXG5mdW5jdGlvbiBzcGxpY2VPbmUobGlzdCwgaW5kZXgpIHtcbiAgZm9yICg7IGluZGV4ICsgMSA8IGxpc3QubGVuZ3RoOyBpbmRleCsrKVxuICAgIGxpc3RbaW5kZXhdID0gbGlzdFtpbmRleCArIDFdO1xuICBsaXN0LnBvcCgpO1xufVxuXG5mdW5jdGlvbiB1bndyYXBMaXN0ZW5lcnMoYXJyKSB7XG4gIHZhciByZXQgPSBuZXcgQXJyYXkoYXJyLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgcmV0Lmxlbmd0aDsgKytpKSB7XG4gICAgcmV0W2ldID0gYXJyW2ldLmxpc3RlbmVyIHx8IGFycltpXTtcbiAgfVxuICByZXR1cm4gcmV0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGVtaXR0ZXIsIG5hbWUpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICBmdW5jdGlvbiBlcnJvckxpc3RlbmVyKGVycikge1xuICAgICAgZW1pdHRlci5yZW1vdmVMaXN0ZW5lcihuYW1lLCByZXNvbHZlcik7XG4gICAgICByZWplY3QoZXJyKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByZXNvbHZlcigpIHtcbiAgICAgIGlmICh0eXBlb2YgZW1pdHRlci5yZW1vdmVMaXN0ZW5lciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKCdlcnJvcicsIGVycm9yTGlzdGVuZXIpO1xuICAgICAgfVxuICAgICAgcmVzb2x2ZShbXS5zbGljZS5jYWxsKGFyZ3VtZW50cykpO1xuICAgIH07XG5cbiAgICBldmVudFRhcmdldEFnbm9zdGljQWRkTGlzdGVuZXIoZW1pdHRlciwgbmFtZSwgcmVzb2x2ZXIsIHsgb25jZTogdHJ1ZSB9KTtcbiAgICBpZiAobmFtZSAhPT0gJ2Vycm9yJykge1xuICAgICAgYWRkRXJyb3JIYW5kbGVySWZFdmVudEVtaXR0ZXIoZW1pdHRlciwgZXJyb3JMaXN0ZW5lciwgeyBvbmNlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFkZEVycm9ySGFuZGxlcklmRXZlbnRFbWl0dGVyKGVtaXR0ZXIsIGhhbmRsZXIsIGZsYWdzKSB7XG4gIGlmICh0eXBlb2YgZW1pdHRlci5vbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGV2ZW50VGFyZ2V0QWdub3N0aWNBZGRMaXN0ZW5lcihlbWl0dGVyLCAnZXJyb3InLCBoYW5kbGVyLCBmbGFncyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZXZlbnRUYXJnZXRBZ25vc3RpY0FkZExpc3RlbmVyKGVtaXR0ZXIsIG5hbWUsIGxpc3RlbmVyLCBmbGFncykge1xuICBpZiAodHlwZW9mIGVtaXR0ZXIub24gPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgZW1pdHRlci5vbmNlKG5hbWUsIGxpc3RlbmVyKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZW1pdHRlci5vbihuYW1lLCBsaXN0ZW5lcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBlbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAvLyBFdmVudFRhcmdldCBkb2VzIG5vdCBoYXZlIGBlcnJvcmAgZXZlbnQgc2VtYW50aWNzIGxpa2UgTm9kZVxuICAgIC8vIEV2ZW50RW1pdHRlcnMsIHdlIGRvIG5vdCBsaXN0ZW4gZm9yIGBlcnJvcmAgZXZlbnRzIGhlcmUuXG4gICAgZW1pdHRlci5hZGRFdmVudExpc3RlbmVyKG5hbWUsIGZ1bmN0aW9uIHdyYXBMaXN0ZW5lcihhcmcpIHtcbiAgICAgIC8vIElFIGRvZXMgbm90IGhhdmUgYnVpbHRpbiBgeyBvbmNlOiB0cnVlIH1gIHN1cHBvcnQgc28gd2VcbiAgICAgIC8vIGhhdmUgdG8gZG8gaXQgbWFudWFsbHkuXG4gICAgICBpZiAoZmxhZ3Mub25jZSkge1xuICAgICAgICBlbWl0dGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIobmFtZSwgd3JhcExpc3RlbmVyKTtcbiAgICAgIH1cbiAgICAgIGxpc3RlbmVyKGFyZyk7XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIFwiZW1pdHRlclwiIGFyZ3VtZW50IG11c3QgYmUgb2YgdHlwZSBFdmVudEVtaXR0ZXIuIFJlY2VpdmVkIHR5cGUgJyArIHR5cGVvZiBlbWl0dGVyKTtcbiAgfVxufVxuIiwiaWYgKHR5cGVvZiBPYmplY3QuY3JlYXRlID09PSAnZnVuY3Rpb24nKSB7XG4gIC8vIGltcGxlbWVudGF0aW9uIGZyb20gc3RhbmRhcmQgbm9kZS5qcyAndXRpbCcgbW9kdWxlXG4gIG1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24gaW5oZXJpdHMoY3Rvciwgc3VwZXJDdG9yKSB7XG4gICAgaWYgKHN1cGVyQ3Rvcikge1xuICAgICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3JcbiAgICAgIGN0b3IucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckN0b3IucHJvdG90eXBlLCB7XG4gICAgICAgIGNvbnN0cnVjdG9yOiB7XG4gICAgICAgICAgdmFsdWU6IGN0b3IsXG4gICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgd3JpdGFibGU6IHRydWUsXG4gICAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgfVxuICB9O1xufSBlbHNlIHtcbiAgLy8gb2xkIHNjaG9vbCBzaGltIGZvciBvbGQgYnJvd3NlcnNcbiAgbW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiBpbmhlcml0cyhjdG9yLCBzdXBlckN0b3IpIHtcbiAgICBpZiAoc3VwZXJDdG9yKSB7XG4gICAgICBjdG9yLnN1cGVyXyA9IHN1cGVyQ3RvclxuICAgICAgdmFyIFRlbXBDdG9yID0gZnVuY3Rpb24gKCkge31cbiAgICAgIFRlbXBDdG9yLnByb3RvdHlwZSA9IHN1cGVyQ3Rvci5wcm90b3R5cGVcbiAgICAgIGN0b3IucHJvdG90eXBlID0gbmV3IFRlbXBDdG9yKClcbiAgICAgIGN0b3IucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gY3RvclxuICAgIH1cbiAgfVxufVxuIiwiJ3VzZSBzdHJpY3QnO1xudmFyIHR5cGVzID0gW1xuICByZXF1aXJlKCcuL25leHRUaWNrJyksXG4gIHJlcXVpcmUoJy4vcXVldWVNaWNyb3Rhc2snKSxcbiAgcmVxdWlyZSgnLi9tdXRhdGlvbi5qcycpLFxuICByZXF1aXJlKCcuL21lc3NhZ2VDaGFubmVsJyksXG4gIHJlcXVpcmUoJy4vc3RhdGVDaGFuZ2UnKSxcbiAgcmVxdWlyZSgnLi90aW1lb3V0Jylcbl07XG52YXIgZHJhaW5pbmc7XG52YXIgY3VycmVudFF1ZXVlO1xudmFyIHF1ZXVlSW5kZXggPSAtMTtcbnZhciBxdWV1ZSA9IFtdO1xudmFyIHNjaGVkdWxlZCA9IGZhbHNlO1xuZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCkge1xuICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgaWYgKGN1cnJlbnRRdWV1ZS5sZW5ndGgpIHtcbiAgICBxdWV1ZSA9IGN1cnJlbnRRdWV1ZS5jb25jYXQocXVldWUpO1xuICB9IGVsc2Uge1xuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgfVxuICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgbmV4dFRpY2soKTtcbiAgfVxufVxuXG4vL25hbWVkIG5leHRUaWNrIGZvciBsZXNzIGNvbmZ1c2luZyBzdGFjayB0cmFjZXNcbmZ1bmN0aW9uIG5leHRUaWNrKCkge1xuICBpZiAoZHJhaW5pbmcpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2NoZWR1bGVkID0gZmFsc2U7XG4gIGRyYWluaW5nID0gdHJ1ZTtcbiAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgdmFyIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gIHdoaWxlIChsZW4pIHtcbiAgICBjdXJyZW50UXVldWUgPSBxdWV1ZTtcbiAgICBxdWV1ZSA9IFtdO1xuICAgIHdoaWxlIChjdXJyZW50UXVldWUgJiYgKytxdWV1ZUluZGV4IDwgbGVuKSB7XG4gICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgfVxuICAgIHF1ZXVlSW5kZXggPSAtMTtcbiAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gIH1cbiAgY3VycmVudFF1ZXVlID0gbnVsbDtcbiAgcXVldWVJbmRleCA9IC0xO1xuICBkcmFpbmluZyA9IGZhbHNlO1xuICBjbGVhclRpbWVvdXQodGltZW91dCk7XG59XG52YXIgc2NoZWR1bGVEcmFpbjtcbnZhciBpID0gLTE7XG52YXIgbGVuID0gdHlwZXMubGVuZ3RoO1xud2hpbGUgKCsraSA8IGxlbikge1xuICBpZiAodHlwZXNbaV0gJiYgdHlwZXNbaV0udGVzdCAmJiB0eXBlc1tpXS50ZXN0KCkpIHtcbiAgICBzY2hlZHVsZURyYWluID0gdHlwZXNbaV0uaW5zdGFsbChuZXh0VGljayk7XG4gICAgYnJlYWs7XG4gIH1cbn1cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICB0aGlzLmZ1biA9IGZ1bjtcbiAgdGhpcy5hcnJheSA9IGFycmF5O1xufVxuSXRlbS5wcm90b3R5cGUucnVuID0gZnVuY3Rpb24gKCkge1xuICB2YXIgZnVuID0gdGhpcy5mdW47XG4gIHZhciBhcnJheSA9IHRoaXMuYXJyYXk7XG4gIHN3aXRjaCAoYXJyYXkubGVuZ3RoKSB7XG4gIGNhc2UgMDpcbiAgICByZXR1cm4gZnVuKCk7XG4gIGNhc2UgMTpcbiAgICByZXR1cm4gZnVuKGFycmF5WzBdKTtcbiAgY2FzZSAyOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdKTtcbiAgY2FzZSAzOlxuICAgIHJldHVybiBmdW4oYXJyYXlbMF0sIGFycmF5WzFdLCBhcnJheVsyXSk7XG4gIGRlZmF1bHQ6XG4gICAgcmV0dXJuIGZ1bi5hcHBseShudWxsLCBhcnJheSk7XG4gIH1cblxufTtcbm1vZHVsZS5leHBvcnRzID0gaW1tZWRpYXRlO1xuZnVuY3Rpb24gaW1tZWRpYXRlKHRhc2spIHtcbiAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICBpZiAoYXJndW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgfVxuICB9XG4gIHF1ZXVlLnB1c2gobmV3IEl0ZW0odGFzaywgYXJncykpO1xuICBpZiAoIXNjaGVkdWxlZCAmJiAhZHJhaW5pbmcpIHtcbiAgICBzY2hlZHVsZWQgPSB0cnVlO1xuICAgIHNjaGVkdWxlRHJhaW4oKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgQ29sb3IgZnJvbSAnLi9Db2xvcic7XG5pbXBvcnQgeyB1cGRhdGVIaWdobGlnaHQsIGdldEhpZ2hsaWdodFR5cGUgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCAqIGFzIEdyb3VwaW5nIGZyb20gJy4uL1NxdWFyZUVkaXQvR3JvdXBpbmcnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IHsgQXR0cmlidXRlcywgU2VsZWN0aW9uVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cbi8qKlxuICogQHJldHVybnMgVGhlIHNlbGVjdGlvbiBtb2RlIGNob3NlbiBieSB0aGUgdXNlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNlbGVjdGlvblR5cGUgKCk6IFNlbGVjdGlvblR5cGUge1xuICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsLWJ5IGlzLWFjdGl2ZScpO1xuICBpZiAoZWxlbWVudC5sZW5ndGggIT09IDApIHtcbiAgICByZXR1cm4gZWxlbWVudFswXS5pZCBhcyBTZWxlY3Rpb25UeXBlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG5cbi8qKlxuICogVW5zZWxlY3QgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFuZCBydW4gdW5kbyBhbnkgZXh0cmFcbiAqIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNlbGVjdCAoKTogdm9pZCB7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uby1tb3ZpbmcnKS5mb3JFYWNoKChzZWxlY3RlZDogU1ZHR0VsZW1lbnQpID0+IFxuICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoJ25vLW1vdmluZycpKTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykuZm9yRWFjaCgoc2VsZWN0ZWQ6IFNWR0dFbGVtZW50KSA9PiB7XG4gICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBpZiAoc2VsZWN0ZWQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBzZWxlY3RlZC5yZW1vdmVBdHRyaWJ1dGUoJ3N0eWxlJyk7XG4gICAgICBDb2xvci51bmhpZ2hsaWdodChzZWxlY3RlZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNlbGVjdGVkLnJlbW92ZUF0dHJpYnV0ZSgnc3R5bGUnKTtcbiAgICAgIHNlbGVjdGVkLnN0eWxlLmZpbGwgPSAnJztcbiAgICB9XG5cbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goKGRpdkxpbmU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBkaXZMaW5lLnN0eWxlLnN0cm9rZSA9ICcnO1xuICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgfSk7XG4gIFxuICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucXVlcnlTZWxlY3RvckFsbCgnLm5ldW1lJykpLmZvckVhY2goKG5ldW1lOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgbmV1bWUuc3R5bGUuZmlsbCA9ICcnO1xuICAgIH0pO1xuICBcbiAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykpLmZvckVhY2goKHN5bFJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICBzeWxSZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgfSk7XG5cbiAgICBpZiAoc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJykpIHtcbiAgICAgIHNlbGVjdGVkLnBhcmVudEVsZW1lbnQuc3R5bGUuZmlsbCA9ICcnO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdzeWxsYWJsZScpO1xuICAgICAgc2VsZWN0ZWQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICAgICAgXG4gICAgICBBcnJheS5mcm9tKHNlbGVjdGVkLnBhcmVudEVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKSkuZm9yRWFjaCgoZGl2TGluZTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZGl2TGluZS5zdHlsZS5zdHJva2UgPSAnJztcbiAgICAgICAgZGl2TGluZS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsICczMHB4Jyk7XG4gICAgICB9KTtcbiAgICBcbiAgICAgIEFycmF5LmZyb20oc2VsZWN0ZWQucGFyZW50RWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKSkuZm9yRWFjaCgobmV1bWU6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIG5ldW1lLnN0eWxlLmZpbGwgPSAnJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICBkMy5zZWxlY3RBbGwoJy5yZXNpemVQb2ludCcpLnJlbW92ZSgpO1xuICAgIGQzLnNlbGVjdEFsbCgnLnJvdGF0ZVBvaW50JykucmVtb3ZlKCk7XG4gIFxuICB9KTtcblxuICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy50ZXh0LXNlbGVjdCcpKS5mb3JFYWNoKChlbDogU1ZHRWxlbWVudCkgPT4ge1xuICAgIGVsLnN0eWxlLmNvbG9yID0gJyc7XG4gICAgZWwuc3R5bGUuZm9udFdlaWdodCA9ICcnO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3RleHQtc2VsZWN0Jyk7XG4gIH0pO1xuICBcbiAgaWYgKCFkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlTdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICBHcm91cGluZy5lbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIFNlbGVjdE9wdGlvbnMuZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIHVwZGF0ZUhpZ2hsaWdodCgpO1xufVxuXG4vKipcbiAqIFNlbGVjdCBhIHN0YWZmIGVsZW1lbnQuXG4gKiBAcGFyYW0gc3RhZmYgLSBUaGUgc3RhZmYgZWxlbWVudCBpbiB0aGUgRE9NLlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gVGhlIGRyYWcgaGFuZGxlciBpbiB1c2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RTdGFmZiAoc3RhZmY6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzdGFmZi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuICAgIENvbG9yLnVuaGlnaGxpZ2h0KHN0YWZmKTtcbiAgICBDb2xvci5oaWdobGlnaHQoc3RhZmYsICcjZDAwJyk7XG4gICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3BsaXRBY3Rpb25zKCk7XG4gICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBhIGxheWVyIGVsZW1lbnQuXG4gKiBAcGFyYW0gbGF5ZXJFbGVtZW50IC0gVGhlIGxheWVyIGVsZW1lbnQgaW4gdGhlIERPTS5cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIFRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2VsZWN0TGF5ZXJFbGVtZW50IChsYXllckVsZW1lbnQ6IFNWR0dFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKCFsYXllckVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgbGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgQ29sb3IudW5oaWdobGlnaHQobGF5ZXJFbGVtZW50KTtcbiAgICBDb2xvci5oaWdobGlnaHQobGF5ZXJFbGVtZW50LCAnI2QwMCcpO1xuICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZW5lcmljIHNlbGVjdCBmdW5jdGlvbi5cbiAqIEBwYXJhbSBlbCAtIEVsZW1lbnQgdG8gc2VsZWN0LlxuICogQHBhcmFtIGRyYWdIYW5kbGVyIC0gT25seSB1c2VkIGZvciBzdGF2ZXMuXG4gKiBAcGFyYW0gbmVlZHNIaWdobGlnaHRVcGRhdGUgLSBXaGV0aGVyIGFsbCB0aGUgZ3JvdXAncyBoaWdobGlnaHRzIHNob3VsZCBiZSB1cGRhdGVkXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3QgKGVsOiBTVkdHcmFwaGljc0VsZW1lbnQsIGRyYWdIYW5kbGVyPzogRHJhZ0hhbmRsZXIsIG5lZWRzSGlnaGxpZ2h0VXBkYXRlID0gdHJ1ZSk6IHZvaWQge1xuICAvLyBJZiBlbGVtZW50IGRvZXMgbm90IGV4aXN0LCBleGl0XG4gIGlmICghZWwpIHJldHVybjtcblxuICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgcmV0dXJuIHNlbGVjdFN0YWZmKGVsLCBkcmFnSGFuZGxlcik7XG4gIH1cbiAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnbGF5ZXInKSkge1xuICAgIHJldHVybiBzZWxlY3RMYXllckVsZW1lbnQoZWwsIGRyYWdIYW5kbGVyKTtcbiAgfVxuXG4gIGlmICghZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0JykgJiZcbiAgICAgICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bFRleHRSZWN0LWRpc3BsYXknKSkge1xuICAgIGVsLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgLy8gc2V0IGZpbGwgdG8gcmVkXG4gICAgLy8gc2V0IHN0cm9rZSB0byByZWQgb25seSBpZiBzZWxlY3RlZCBlbGVtIGlzIGEgZGl2TGluZVxuICAgIGVsLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgZWwuc3R5bGUuc3Ryb2tlID0gKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKT8gJyNkMDAnIDogJ2JsYWNrJztcblxuICAgIGlmIChlbC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmxlbmd0aCkge1xuICAgICAgZWwucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZiAoZWwucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5sZW5ndGgpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgZWxlbS5zdHlsZS5zdHJva2UgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICBpZihlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5uZXVtZScpLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIGVsZW0uc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFNldCBjb2xvciBvZiB0aGUgY29ycmVzcG9uZGluZyB0ZXh0IGluIHRoZSB0ZXh0IHBhbmVsIHRvIHJlZFxuICAgIGxldCBzeWxJZDtcbiAgICBpZiAoZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSB7XG4gICAgICBzeWxJZCA9IGVsLmlkO1xuICAgIH0gZWxzZSBpZiAoZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykgIT09IG51bGwpIHtcbiAgICAgIHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgfVxuICAgIGlmIChzeWxJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIHNwYW5zLmZvckVhY2goKHNwYW46IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChuZWVkc0hpZ2hsaWdodFVwZGF0ZSkge1xuICAgIHVwZGF0ZUhpZ2hsaWdodCgpO1xuICB9XG59XG4gICAgXG5cbi8qKlxuICogU2VsZWN0IGFuIG5jLlxuICogQHBhcmFtIGVsIC0gVGhlIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbGVjdE5jcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXc6IE5lb25WaWV3LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKCFlbC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgIGNvbnN0IHBhcmVudCA9IGVsLnBhcmVudEVsZW1lbnQgYXMgdW5rbm93biBhcyBTVkdHcmFwaGljc0VsZW1lbnQ7XG4gICAgdW5zZWxlY3QoKTtcbiAgICBzZWxlY3QocGFyZW50KTtcbiAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShwYXJlbnQsIG5lb25WaWV3KSkge1xuICAgICAgY29uc3QgcHJldk5jID0gcGFyZW50LnByZXZpb3VzU2libGluZyBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIGlmIChhd2FpdCBpc0xpZ2F0dXJlKHByZXZOYywgbmVvblZpZXcpKSB7XG4gICAgICAgIHNlbGVjdChwcmV2TmMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc3QgbmV4dE5jID0gcGFyZW50Lm5leHRTaWJsaW5nIGFzIHVua25vd24gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBpZiAoYXdhaXQgaXNMaWdhdHVyZShuZXh0TmMsIG5lb25WaWV3KSkge1xuICAgICAgICAgIHNlbGVjdChuZXh0TmMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3I6IE5laXRoZXIgcHJldiBvciBuZXh0IG5jIGFyZSBsaWdhdHVyZXMnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgR3JvdXBpbmcudHJpZ2dlckdyb3VwaW5nKCdsaWdhdHVyZScpO1xuICAgIH0gZWxzZSBpZiAocGFyZW50LmNsYXNzTGlzdC5jb250YWlucygnbmMnKSkge1xuICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKHBhcmVudCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnNvbGUud2FybignTm8gYWN0aW9uIHRyaWdnZXJlZCEnKTtcbiAgICB9XG4gICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSBuYyAtIFRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcGFyYW0gbmVvblZpZXcgLSBUaGUgW1tOZW9uVmlld11dIGZvciB0aGlzIGluc3RhbmNlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgbmV1bWUgY29tcG9uZW50IGlzIHBhcnQgb2YgYSBsaWdhdHVyZS5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGlzTGlnYXR1cmUgKG5jOiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICBjb25zdCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzID0gYXdhaXQgbmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gIHJldHVybiBCb29sZWFuKGF0dHJpYnV0ZXMubGlnYXRlZCk7XG59XG5cblxuLyoqXG4gKiBDaGVjayBpZiBsaXN0IG9mIGVsZW1lbnRzIG9mIGEgY2VydGFpbiB0eXBlIGFyZSBsb2dpY2FsbHkgYWRqYWNlbnQgdG8gZWFjaCBvdGhlci5cbiAqIEluY2x1ZGVzIGVsZW1lbnRzIHRoYXQgYXJlIG9uIHNlcGFyYXRlIHN0YXZlcyBidXQgd291bGQgb3RoZXJ3aXNlIGJlIG5leHQgdG8gZWFjaCBvdGhlci5cbiAqIENhbiBub3QgYXBwbHkgdG8gZWxlbWVudHMgb2YgdHlwZSBuZXVtZSBjb21wb25lbnQuXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHVzZXIgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgb2YgaW50ZXJlc3RcbiAqIEByZXR1cm5zIHRydWUgaWYgZWxlbWVudHMgYXJlIGFkamFjZW50LCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFyZUFkamFjZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIC8vIDIgZWxlbWVudHMgY2Fubm90IGJlIGFkamFjZW50IGlmIHRoZXJlIGlzIG9ubHkgMSBlbGVtZW50XG4gIGlmIChlbGVtZW50cy5sZW5ndGggPCAyKSByZXR1cm4gZmFsc2U7XG5cbiAgLy8gZ2V0IGFsbCBlbGVtZW50cyB0aGF0IGFyZSBvZiB0aGUgc2FtZSB0eXBlIGFzIHNlbGVjdGlvblR5cGVcbiAgbGV0IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlOiBIVE1MRWxlbWVudFtdO1xuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAvLyBXZSBhdXRvbWF0aWNhbGx5IHJldHVybiAndHJ1ZScgZm9yIG5ldW1lcyBiZWNhdXNlIHdlIHdhbnQgdGhlIHVzZXIgdG8gYmUgXG4gICAgICAvLyBhbGxvd2VkIHRvIGdyb3VwIHR3byBuZXVtZXMgaW4gc2VwYXJhdGUgc3lsbGFiZXMgd2l0aG91dCBoYXZpbmcgdG8gcGFyZm9ybSBvdGhlclxuICAgICAgLy8gc3RlcHMgZmlyc3QuIFllcywgdGhlcmUgaXMgYSB0cmFkZS1vZmYgLSB0aGlzIGFsbG93cyB1c2VycyB0byB0cnkgYW5kIGdyb3VwIGFueSBcbiAgICAgIC8vIHR3byBub24tYWRqYWNlbnQgbmV1bWVzLCBidXQgaXQgd2FzIGRlY2lkZWQgdGhhdCB0aGUgYmVuZWZpdHMgKHNwZWVkIGFuZCBlZmZpY2llbmN5KVxuICAgICAgLy8gb3V0d2VpZ2ggdGhlIGNvc3RzICh1c2VyIHRyeWluZyBhbiBpbGxlZ2FsIGVkaXQpLlxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlID0gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSk7XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZicpKTtcbiAgICAgIGJyZWFrO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBcbiAgLy8gU29ydCBTRUxFQ1RFRCBlbGVtZW50cyBpbiBvcmRlciBvZiBhcHBlYXJhbmNlIGJ5IFxuICAvLyBtYXRjaGluZyB0byBvcmRlciBvZiBBTEwgZWxlbWVudHMgb2Ygc2VsZWN0aW9uIHR5cGVcbiAgY29uc3Qgc29ydGVkRWxlbWVudHMgPSBbXTtcbiAgZm9yIChsZXQgaT0wOyBpPGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmxlbmd0aDsgaSsrKSB7XG4gICAgZm9yIChsZXQgaj0wOyBqPGVsZW1lbnRzLmxlbmd0aDsgaisrKSB7XG4gICAgICBpZiAoYWxsRWxlbXNPZlNlbGVjdGlvblR5cGVbaV0uaXNTYW1lTm9kZShlbGVtZW50c1tqXSkpIHtcbiAgICAgICAgc29ydGVkRWxlbWVudHMucHVzaChlbGVtZW50c1tqXSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gTm93IGNoZWNrIGlmIFNFTEVDVEVEIGVsZW1lbnRzIGFyZSBhbGwgYWRqYWNlbnQgKGluIGEgcm93KSBieSBcbiAgLy8gZmluZGluZyBhbmQgY29tcGFyaW5nIHRoZWlyIGluZGVjZXMgaW4gdGhlIGFycmF5IG9mIEFMTCBlbGVtZW50cyBvZiBzZWxlY3Rpb24gdHlwZVxuICBmb3IgKGxldCBpPTA7IGk8c29ydGVkRWxlbWVudHMubGVuZ3RoLTE7IGkrKykge1xuICAgIGNvbnN0IGZpcnN0RWxlbSA9IHNvcnRlZEVsZW1lbnRzW2ldO1xuICAgIGNvbnN0IHNlY29uZEVsZW0gPSBzb3J0ZWRFbGVtZW50c1tpKzFdO1xuXG4gICAgY29uc3QgaW5kZXgxID0gYWxsRWxlbXNPZlNlbGVjdGlvblR5cGUuaW5kZXhPZihmaXJzdEVsZW0pO1xuICAgIGNvbnN0IGluZGV4MiA9IGFsbEVsZW1zT2ZTZWxlY3Rpb25UeXBlLmluZGV4T2Yoc2Vjb25kRWxlbSk7XG5cbiAgICBpZiAoTWF0aC5hYnMoaW5kZXgxIC0gaW5kZXgyKSAhPT0gMSkgcmV0dXJuIGZhbHNlO1xuICB9XG5cbiAgcmV0dXJuIHRydWU7XG59XG5cblxuLyoqXG4gKiBDaGVjayB0byBzZWUgaWYgdGhlIGFycmF5IG9mIGVsZW1lbnRzIGFsbCBzaGFyZSB0aGUgc2FtZSBsb2dpY2FsIHBhcmVudC5cbiAqIEZvciBleGFtcGxlOiBJZiBhbGwgbmV1bWVzIGFyZSBpbiB0aGUgc2FtZSBzeWxsYWJsZS5cbiAqIFxuICogTm90ZSEhIFRoZXJlIGlzIGN1cnJlbnRseSBubyBsb2dpYyBmb3IgdHJlYXRpbmcgbGF5ZXIgZWxlbWVudHMgYW5kIGJib3hlcyFcbiAqIE5vdGUhISBGdW5jdGlvbiB3aWxsIGFsd2F5cyByZXR1cm4gdHJ1ZSBmb3Igc3RhdmUgZWxlbWVudHMuIChTaG91bGQgaXQ/Pz8pXG4gKiBcbiAqIEBwYXJhbSBzZWxlY3Rpb25UeXBlIHRoZSBjdXJyZW50IE5lb24gc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgaW4gcXVlc3Rpb25cbiAqIEByZXR1cm5zIHRydWUgaWYgYWxsIGVsZW1lbnRzIHNoYXJlIHRoZSBzYW1lIGxvZ2ljYWwgcGFyZW50LCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzaGFyZWRMb2dpY2FsUGFyZW50KHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsZW0gPT4gIShlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpIHx8IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdjbGVmJykpKTtcblxuICBpZiAoIWVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGUsIGVsZW1lbnRzKSkgcmV0dXJuIGZhbHNlO1xuXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjb25zdCByZWZlcmVuY2VQYXJlbnRTdGFmZiA9IGVsZW1lbnRzWzBdLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgICAgZm9yIChsZXQgaT0wOyBpPGVsZW1lbnRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGVsZW0gPSBlbGVtZW50c1tpXTtcbiAgICAgICAgaWYgKCFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmlzU2FtZU5vZGUocmVmZXJlbmNlUGFyZW50U3RhZmYpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgY29uc3QgcmVmZXJlbmNlUGFyZW50U3lsbGFibGUgPSBlbGVtZW50c1swXS5jbG9zZXN0KCcuc3lsbGFibGUnKTtcbiAgICAgIGZvciAobGV0IGk9MDsgaTxlbGVtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtID0gZWxlbWVudHNbaV07XG4gICAgICAgIGlmICghZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKS5pc1NhbWVOb2RlKHJlZmVyZW5jZVBhcmVudFN5bGxhYmxlKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHJldHVybiB0cnVlO1xuXG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGhhdmUgdGhlIHNhbWUgdHlwZSBhcyBjdXJyZW50IHNlbGVjdGlvbiBtb2RlLiBcbiAqIEZvciBleGFtcGxlLCBjaGVjayBpZiBhbGwgc2VsZWN0ZWQgZWxlbWVudHMgYXJlIG9mIHR5cGUgbmV1bWUsIG9yIHN5bGxhYmxlLCBldGMuXG4gKiBcbiAqIE5vdGUhISBUaGVyZSBpcyBubyBsb2dpYyBjdXJyZW50bHkgaW1wbGVtZW50ZWQgZm9yIGxheWVyIGVsZW1lbnRzIG9yIGJib3hlcy5cbiAqIFxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgdGhlIGN1cnJlbnQgc2VsZWN0aW9uIG1vZGVcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgZWxlbWVudHMgdGhhdCBhcmUgYmVpbmcgY2hlY2tlZFxuICogQHJldHVybnMgdHJ1ZSBpZiBhbGwgZWxlbWVudHMgbWF0Y2ggc2VsZWN0aW9uIG1vZGUsIGZhbHNlIG90aGVyd2lzZS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGVsZW1lbnRzSGF2ZUNvcnJlY3RUeXBlKHNlbGVjdGlvblR5cGU6IHN0cmluZywgZWxlbWVudHM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG5cbiAgaWYgKGVsZW1lbnRzLmxlbmd0aCA8IDIpIHJldHVybiBmYWxzZTtcblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgZWxlbWVudHMuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgICBpZiAoIWVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKSByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBlbGVtZW50cy5mb3JFYWNoKChlbGVtKSA9PiB7XG4gICAgICAgIGlmICghZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIGVsZW1lbnRzLmZvckVhY2goKGVsZW0pID0+IHtcbiAgICAgICAgaWYgKCFlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSkgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG4gICAgICBicmVhaztcblxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gdHJ1ZTtcbn1cblxuXG4vKipcbiAqIEBwYXJhbSBlbGVtZW50cyAtIFRoZSBlbGVtZW50cyB0byBjb21wYXJlLlxuICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgZWxlbWVudHMgaGF2ZSB0aGUgc2FtZSBwYXJlbnQgdXAgdHdvIGxldmVscywgb3RoZXJ3aXNlIGZhbHNlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQgKGVsZW1lbnRzOiBTVkdHcmFwaGljc0VsZW1lbnRbXSk6IGJvb2xlYW4ge1xuICBjb25zdCB0ZW1wRWxlbWVudHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzKTtcbiAgY29uc3QgZmlyc3RFbGVtZW50ID0gdGVtcEVsZW1lbnRzLnBvcCgpO1xuICBjb25zdCBzZWNvbmRQYXJlbnQgPSBmaXJzdEVsZW1lbnQucGFyZW50RWxlbWVudC5wYXJlbnRFbGVtZW50O1xuICBmb3IgKGNvbnN0IGVsZW1lbnQgb2YgdGVtcEVsZW1lbnRzKSB7XG4gICAgY29uc3Qgc2VjUGFyID0gZWxlbWVudC5wYXJlbnRFbGVtZW50LnBhcmVudEVsZW1lbnQ7XG4gICAgaWYgKHNlY1Bhci5pZCAhPT0gc2Vjb25kUGFyZW50LmlkKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIENoZWNrIGlmIHVzZXIgc2VsZWN0ZWQgZWxlbWVudHMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXNcbiAqIEBwYXJhbSBlbGVtZW50cyB0aGUgdXNlci1zZWxlY3RlZCBlbGVtZW50c1xuICogQHJldHVybnMgdHJ1ZSBpZiBzZWxlY3Rpb24gaXMgYWNjcm9zcyBtdWx0aXBsZSBzdGF2ZXMsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNNdWx0aVN0YXZlU2VsZWN0aW9uKGVsZW1lbnRzOiBTVkdFbGVtZW50W10pOiBib29sZWFuIHtcbiAgY29uc3QgZWxlbWVudHNBcnJheSA9IEFycmF5LmZyb20oZWxlbWVudHMpO1xuXG4gIGZvciAobGV0IGk9MDsgaTxlbGVtZW50c0FycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3RhZmYgPSBlbGVtZW50c0FycmF5W2ldLmNsb3Nlc3QoJy5zdGFmZicpO1xuXG4gICAgZm9yIChsZXQgaj1pOyBqPGVsZW1lbnRzQXJyYXkubGVuZ3RoOyBqKyspIHtcbiAgICAgIGNvbnN0IGFub3RoZXJTdGFmZiA9IGVsZW1lbnRzQXJyYXlbal0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAvLyBjb21wYXJlIHdpdGggb3RoZXIgc3RhdmVzXG4gICAgICBpZiAoIXN0YWZmLmlzU2FtZU5vZGUoYW5vdGhlclN0YWZmKSkgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5cbi8qKlxuICogQm91bmRpbmcgYm94IG9iamVjdCBpbnRlcmZhY2UgZm9yIGdldFN0YWZmQkJveCgpXG4gKi9cbmV4cG9ydCBpbnRlcmZhY2UgU3RhZmZCQm94IHtcbiAgaWQ6IHN0cmluZztcbiAgdWx4OiBudW1iZXI7XG4gIHVseTogbnVtYmVyO1xuICBscng6IG51bWJlcjtcbiAgbHJ5OiBudW1iZXI7XG4gIHJvdGF0ZTogbnVtYmVyO1xufVxuXG4vKipcbiAqIEdldCB0aGUgYm91bmRpbmcgYm94IG9mIGEgc3RhZmYgYmFzZWQgb24gaXRzIHN0YWZmIGxpbmVzLlxuICogUm90YXRlIGlzIGluY2x1ZGVkIGluIHJhZGlhbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTdGFmZkJCb3ggKHN0YWZmOiBTVkdHRWxlbWVudCk6IFN0YWZmQkJveCB7XG4gIGxldCB1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZTtcbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgncGF0aCcpLmZvckVhY2gocGF0aCA9PiB7XG4gICAgY29uc3QgY29vcmRpbmF0ZXM6IG51bWJlcltdID0gcGF0aC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgLm1hdGNoKC9cXGQrL2cpXG4gICAgICAubWFwKGVsZW1lbnQgPT4gTnVtYmVyKGVsZW1lbnQpKTtcbiAgICBpZiAocm90YXRlID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHJvdGF0ZSA9IE1hdGguYXRhbigoY29vcmRpbmF0ZXNbM10gLSBjb29yZGluYXRlc1sxXSkgL1xuICAgICAgICAoY29vcmRpbmF0ZXNbMl0gLSBjb29yZGluYXRlc1swXSkpO1xuICAgIH1cblxuICAgIGlmICh1bHkgPT09IHVuZGVmaW5lZCB8fCBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pIDwgdWx5KSB7XG4gICAgICB1bHkgPSBNYXRoLm1pbihjb29yZGluYXRlc1sxXSwgY29vcmRpbmF0ZXNbM10pO1xuICAgIH1cbiAgICBpZiAodWx4ID09PSB1bmRlZmluZWQgfHwgY29vcmRpbmF0ZXNbMF0gPCB1bHgpIHtcbiAgICAgIHVseCA9IGNvb3JkaW5hdGVzWzBdO1xuICAgIH1cbiAgICBpZiAobHJ5ID09PSB1bmRlZmluZWQgfHwgTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKSA+IGxyeSkge1xuICAgICAgbHJ5ID0gTWF0aC5tYXgoY29vcmRpbmF0ZXNbMV0sIGNvb3JkaW5hdGVzWzNdKTtcbiAgICB9XG4gICAgaWYgKGxyeCA9PT0gdW5kZWZpbmVkIHx8IGNvb3JkaW5hdGVzWzJdID4gbHJ4KSB7XG4gICAgICBscnggPSBjb29yZGluYXRlc1syXTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiB7IGlkOiBzdGFmZi5pZCwgdWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUsIH07XG59XG5cbi8qKlxuICogc2VsZWN0IGEgYm91bmRpbmdib3ggZWxlbWVudFxuICogQHBhcmFtIGVsIC0gdGhlIGJib3ggKHN5bFRleHRSZWN0KSBlbGVtZW50IGluIHRoZSBET01cbiAqIEBwYXJhbSBkcmFnSGFuZGxlciAtIHRoZSBkcmFnIGhhbmRsZXIgaW4gdXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZWxlY3RCQm94IChlbDogU1ZHR3JhcGhpY3NFbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICBjb25zdCBiYm94ID0gZWw7XG4gIGNvbnN0IHN5bCA9IGJib3guY2xvc2VzdCgnLnN5bCcpO1xuICBpZiAoIXN5bC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICBzeWwuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICBiYm94LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgY29uc3QgY2xvc2VzdCA9IGVsLmNsb3Nlc3QoJy5zeWxsYWJsZScpIGFzIEhUTUxFbGVtZW50O1xuICAgIGNsb3Nlc3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICBjbG9zZXN0LmNsYXNzTGlzdC5hZGQoJ3N5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG4gICAgaWYoY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcuZGl2TGluZScpLmxlbmd0aCkge1xuICAgICAgY2xvc2VzdC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9KTtcbiAgICAgIGNsb3Nlc3QucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKS5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgICAgICBlbGVtLnN0eWxlLnN0cm9rZSA9ICcjZDAwJztcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGlmIChuZW9uVmlldyAhPT0gdW5kZWZpbmVkICl7XG4gICAgICByZXNpemUoc3lsIGFzIFNWR0dyYXBoaWNzRWxlbWVudCwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICB9XG4gICAgaWYgKGRyYWdIYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgfVxuICAgIGNvbnN0IHN5bElkID0gZWwuY2xvc2VzdCgnLnN5bGxhYmxlJykuaWQ7XG4gICAgaWYgKHN5bElkICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnN0IHNwYW46IEhUTUxTcGFuRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NwYW4uJyArIHN5bElkKTtcbiAgICAgIGlmIChzcGFuKSB7XG4gICAgICAgIHNwYW4uc3R5bGUuY29sb3IgPSAnI2QwMCc7XG4gICAgICAgIHNwYW4uc3R5bGUuZm9udFdlaWdodCA9ICdib2xkJztcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCd0ZXh0LXNlbGVjdCcpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vKipcbiAqIFNlbGVjdCBub3QgbmV1bWUgZWxlbWVudHMuXG4gKiBAcGFyYW0gbm90TmV1bWVzIC0gQW4gYXJyYXkgb2Ygbm90IG5ldW1lcyBlbGVtZW50cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdE5uIChub3ROZXVtZXM6IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gIGlmIChub3ROZXVtZXMubGVuZ3RoID4gMCkge1xuICAgIG5vdE5ldW1lcy5mb3JFYWNoKG5uID0+IHsgc2VsZWN0KG5uKTsgfSk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59XG5cbi8qKlxuICogSGFuZGxlIHNlbGVjdGluZyBhbiBhcnJheSBvZiBlbGVtZW50cyBiYXNlZCBvbiB0aGUgc2VsZWN0aW9uIHR5cGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzZWxlY3RBbGwgKGVsZW1lbnRzOiBBcnJheTxTVkdHcmFwaGljc0VsZW1lbnQ+LCBuZW9uVmlldzogTmVvblZpZXcsIGRyYWdIYW5kbGVyOiBEcmFnSGFuZGxlcik6IFByb21pc2U8dm9pZD4ge1xuICBjb25zdCBzZWxlY3Rpb25UeXBlID0gZ2V0U2VsZWN0aW9uVHlwZSgpO1xuICB1bnNlbGVjdCgpO1xuICBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBzZWxlY3Rpb25DbGFzcztcbiAgbGV0IGNvbnRhaW5zTGF5ZXJFbGVtZW50cyA9IGZhbHNlO1xuICBsZXQgY29udGFpbnNOYyA9IGZhbHNlO1xuXG4gIHN3aXRjaCAoc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5U3lsbGFibGUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN5bGxhYmxlJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5ldW1lJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5TmMnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLm5jJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5U3RhZmYnOlxuICAgICAgc2VsZWN0aW9uQ2xhc3MgPSAnLnN0YWZmJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3NlbEJ5QkJveCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuc3lsVGV4dFJlY3QtZGlzcGxheSc7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICBzZWxlY3Rpb25DbGFzcyA9ICcuY2xlZiwgLmN1c3RvcywgLmFjY2lkLCAuZGl2TGluZSc7XG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgY29uc29sZS5lcnJvcignVW5rbm93biBzZWxlY3Rpb24gdHlwZSAnICsgc2VsZWN0aW9uVHlwZSk7XG4gICAgICByZXR1cm47XG4gIH1cblxuICAvLyBHZXQgdGhlIGdyb3VwaW5ncyBzcGVjaWZpZWQgYnkgc2VsZWN0aW9uQ2xhc3NcbiAgLy8gdGhhdCBjb250YWluIHRoZSBwcm92aWRlZCBlbGVtZW50cyB0byBzZWxlY3QuXG4gIGNvbnN0IGdyb3Vwc1RvU2VsZWN0ID0gbmV3IFNldDxTVkdHRWxlbWVudD4oKTtcbiAgZm9yIChjb25zdCBlbGVtZW50IG9mIGVsZW1lbnRzKSB7XG4gICAgbGV0IGdyb3VwaW5nID0gZWxlbWVudC5jbG9zZXN0PFNWR0dFbGVtZW50PihzZWxlY3Rpb25DbGFzcyk7XG4gICAgaWYgKGdyb3VwaW5nID09PSBudWxsKSB7XG4gICAgICAvLyBDaGVjayBpZiB3ZSBjbGljay1zZWxlY3RlZCBhIGNsZWYgb3IgYSBjdXN0b3Mgb3IgYW4gYWNjaWQgb3IgYSBkaXZMaW5lXG4gICAgICBncm91cGluZyA9IGVsZW1lbnQuY2xvc2VzdCgnLmNsZWYsIC5jdXN0b3MsIC5hY2NpZCwgLmRpdkxpbmUnKTtcbiAgICAgIGlmIChncm91cGluZyA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ0VsZW1lbnQgJyArIGVsZW1lbnQuaWQgKyAnIGlzIG5vdCBwYXJ0IG9mIHNwZWNpZmllZCBncm91cCBhbmQgaXMgbm90IGEgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZS4nKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjb250YWluc0xheWVyRWxlbWVudHMgPSBjb250YWluc0xheWVyRWxlbWVudHMgfHwgdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29udGFpbnNOYyA9IGNvbnRhaW5zTmMgfHwgdHJ1ZTtcbiAgICB9XG4gICAgZ3JvdXBzVG9TZWxlY3QuYWRkKGdyb3VwaW5nKTtcblxuICAgIC8vIENoZWNrIGZvciBwcmVjZWRlcy9mb2xsb3dzXG4gICAgY29uc3QgZm9sbG93cyA9IGdyb3VwaW5nLmdldEF0dHJpYnV0ZSgnbWVpOmZvbGxvd3MnKTtcbiAgICBpZiAoZm9sbG93cykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBmb2xsb3dzLnNsaWNlKDEpKS5jbGFzc0xpc3QuYWRkKCduby1tb3ZpbmcnKTtcbiAgICAgIGdyb3Vwc1RvU2VsZWN0LmFkZChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjJyArIGZvbGxvd3Muc2xpY2UoMSkpKTtcbiAgICB9XG4gICAgY29uc3QgcHJlY2VkZXMgPSBncm91cGluZy5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpO1xuICAgIGlmIChwcmVjZWRlcykge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkuY2xhc3NMaXN0LmFkZCgnbm8tbW92aW5nJyk7XG4gICAgICBncm91cHNUb1NlbGVjdC5hZGQoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBwcmVjZWRlcy5zbGljZSgxKSkpO1xuICAgIH1cbiAgfVxuICAvLyBTZWxlY3QgdGhlIGVsZW1lbnRzXG4gIGdyb3Vwc1RvU2VsZWN0LmZvckVhY2goKGdyb3VwOiBTVkdHcmFwaGljc0VsZW1lbnQpID0+IHNlbGVjdChncm91cCwgZHJhZ0hhbmRsZXIsIGZhbHNlKSk7XG5cbiAgLyogRGV0ZXJtaW5lIHRoZSBjb250ZXh0IG1lbnUgdG8gZGlzcGxheSAoaWYgYW55KSAqL1xuXG4gIGNvbnN0IGdyb3VwcyA9IEFycmF5LmZyb20oZ3JvdXBzVG9TZWxlY3QudmFsdWVzKCkpIGFzIFNWR0dyYXBoaWNzRWxlbWVudFtdO1xuXG4gIC8vIEhhbmRsZSBvY2N1cmFuY2Ugb2YgY2xlZiBvciBjdXN0b3Mgb3IgYWNjaWQgb3IgZGl2TGluZVxuICBpZiAoY29udGFpbnNMYXllckVsZW1lbnRzICYmICFjb250YWluc05jKSB7XG4gICAgLy8gQSBjb250ZXh0IG1lbnUgd2lsbCBvbmx5IGJlIGRpc3BsYXllZCBpZiB0aGVyZSBpcyBhIHNpbmdsZSBjbGVmXG4gICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEgKSB7XG4gICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJMYXllckVsZW1lbnRBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgfWVsc2Uge1xuICAgICAgaWYgKHNlbGVjdGlvblR5cGUgPT0gJ3NlbEJ5U3lsbGFibGUnKSB7XG4gICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG4gIH1cblxuICBzd2l0Y2ggKHNlbGVjdGlvblR5cGUpIHtcbiAgICBjYXNlICdzZWxCeVN0YWZmJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3BsaXRBY3Rpb25zKCk7XG4gICAgICAgICAgR3JvdXBpbmcuaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG4gICAgICAgICAgcmVzaXplKGdyb3Vwc1swXSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTdGFmZkFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuXG4gICAgY2FzZSAnc2VsQnlMYXllckVsZW1lbnQnOlxuICAgICAgaWYgKGdyb3Vwc1RvU2VsZWN0LnNpemUgPT09IDEpIHtcbiAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTGF5ZXJFbGVtZW50QWN0aW9ucyhncm91cHNbMF0pO1xuICAgICAgfWVsc2Uge1xuICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJEZWZhdWx0QWN0aW9ucygpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcblxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyBUT0RPIGNoYW5nZSBjb250ZXh0IGlmIGl0IGlzIG9ubHkgYSBuZXVtZS9uYy5cbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ3NpbmdsZVNlbGVjdCcpO1xuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAvLyBDaGVjayBpZiB0aGlzIGlzIGEgbGlua2VkIHN5bGxhYmxlIHNwbGl0IGJ5IGEgc3RhZmYgYnJlYWtcbiAgICAgICAgICAvLyBpZiB0aGV5IGFyZSBsaW5rYWJsZSwgdXNlciBjYW4gdG9nZ2xlIGxpbmtlZC1zeWxsc1xuICAgICAgICAgIGlmIChHcm91cGluZy5pc0xpbmthYmxlKCdzZWxCeVN5bGxhYmxlJywgZ3JvdXBzKSkgeyBcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbGlua2FibGVTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoR3JvdXBpbmcuaXNHcm91cGFibGUoJ3NlbEJ5U3lsbGFibGUnLCBncm91cHMpKSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ211bHRpU2VsZWN0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyU3lsbGFibGVBY3Rpb25zKCdkZWZhdWx0Jyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBhbGwgbG9jYXRlZCBvbiBvbmUgc3RhdmUsIHRoZXkgc2hvdWxkIGJlIGdyb3VwYWJsZVxuICAgICAgICAgIGlmIChHcm91cGluZy5pc0dyb3VwYWJsZSgnc2VsQnlTeWxsYWJsZScsIGdyb3VwcykpIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN5bGxhYmxlQWN0aW9ucygnbXVsdGlTZWxlY3QnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gaWYgc3lsbHMgYXJlIGFjY3Jvc3MgbXVsdGlwbGUgc3RhdmVzXG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJTeWxsYWJsZUFjdGlvbnMoJ2RlZmF1bHQnKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICBicmVhaztcblxuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgc3dpdGNoIChncm91cHMubGVuZ3RoKSB7XG4gICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAvLyBUT0RPIGNoYW5nZSBjb250ZXh0IGlmIGl0IGlzIG9ubHkgYSBuYy5cbiAgICAgICAgICBTZWxlY3RPcHRpb25zLnRyaWdnZXJOZXVtZUFjdGlvbnMoKTtcbiAgICAgICAgICBHcm91cGluZy5pbml0R3JvdXBpbmdMaXN0ZW5lcnMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBpZiAoR3JvdXBpbmcuaXNHcm91cGFibGUoJ3NlbEJ5TmV1bWUnLCBncm91cHMpKSB7XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25ldW1lJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG5cbiAgICBjYXNlICdzZWxCeU5jJzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyTmNBY3Rpb25zKGdyb3Vwc1swXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgMjpcbiAgICAgICAgICBpZiAoc2hhcmVkU2Vjb25kTGV2ZWxQYXJlbnQoZ3JvdXBzKSkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhpcyBzZWxlY3Rpb24gaXMgYSBsaWdhdHVyZSBvciBjYW4gYmUgYSBsaWdhdHVyZVxuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgdGhlc2UgbmV1bWUgY29tcG9uZW50cyBhcmUgcGFydCBvZiB0aGUgc2FtZSBuZXVtZVxuICAgICAgICAgICAgaWYgKGdyb3Vwc1swXS5wYXJlbnRFbGVtZW50ID09PSBncm91cHNbMV0ucGFyZW50RWxlbWVudCkge1xuICAgICAgICAgICAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZ3JvdXBzWzBdLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgLy8gQ2hlY2sgdGhhdCBuZXVtZSBjb21wb25lbnRzIGFyZSBhZGphY2VudFxuICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoY2hpbGRyZW4uaW5kZXhPZihncm91cHNbMF0pIC0gY2hpbGRyZW4uaW5kZXhPZihncm91cHNbMV0pKSA9PT0gMSkge1xuICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIC8vIENoZWNrIHRoYXQgc2Vjb25kIG5ldW1lIGNvbXBvbmVudCBpcyBsb3dlciB0aGFuIGZpcnN0LlxuICAgICAgICAgICAgICAgIC8vIE5vdGUgdGhhdCB0aGUgb3JkZXIgaW4gdGhlIGxpc3QgbWF5IG5vdCBiZSB0aGUgc2FtZSBhcyB0aGVcbiAgICAgICAgICAgICAgICAvLyBvcmRlciBieSB4LXBvc2l0aW9uLlxuICAgICAgICAgICAgICAgIGxldCBmaXJzdE5DID0gKGdyb3Vwc1swXS5jaGlsZHJlblswXSBhcyBTVkdVc2VFbGVtZW50KTtcbiAgICAgICAgICAgICAgICBsZXQgc2Vjb25kTkMgPSAoZ3JvdXBzWzFdLmNoaWxkcmVuWzBdIGFzIFNWR1VzZUVsZW1lbnQpO1xuXG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNYICA9IGZpcnN0TkMueC5iYXNlVmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQ1ggPSBzZWNvbmROQy54LmJhc2VWYWwudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IGZpcnN0TkNZICA9IGZpcnN0TkMueS5iYXNlVmFsLnZhbHVlO1xuICAgICAgICAgICAgICAgIGxldCBzZWNvbmROQ1kgPSBzZWNvbmROQy55LmJhc2VWYWwudmFsdWU7XG5cbiAgICAgICAgICAgICAgICAvLyBvcmRlciBuYydzIGJ5IHggY29vcmQgKGxlZnQgdG8gcmlnaHQpXG4gICAgICAgICAgICAgICAgaWYgKCAoZmlyc3ROQ1ggPiBzZWNvbmROQ1gpIFxuICAgICAgICAgICAgICAgICAgfHwgKGZpcnN0TkNYID09PSBzZWNvbmROQ1ggJiYgZmlyc3ROQ1kgPCBzZWNvbmROQ1kpKSB7XG4gICAgICAgICAgICAgICAgICBbZmlyc3ROQywgc2Vjb25kTkNdID0gW3NlY29uZE5DLCBmaXJzdE5DXTtcbiAgICAgICAgICAgICAgICAgIFtmaXJzdE5DWCwgZmlyc3ROQ1ksIHNlY29uZE5DWCwgc2Vjb25kTkNZXSA9IFtzZWNvbmROQ1gsIHNlY29uZE5DWSwgZmlyc3ROQ1gsIGZpcnN0TkNZXTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAvLyBpZiBzdGFja2VkIG5jJ3MvbGlnYXR1cmUgKGlkZW50aWNhbCB4KSwgb3IgZGVzY2VuZGluZyBuYydzICh5IGRlc2NlbmRzKVxuICAgICAgICAgICAgICAgIGlmIChmaXJzdE5DWCA9PT0gc2Vjb25kTkNYIHx8IGZpcnN0TkNZIDwgc2Vjb25kTkNZKSB7XG4gICAgICAgICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ2xpZ2F0dXJlJyk7IFxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25jJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGlmIChzaGFyZWRTZWNvbmRMZXZlbFBhcmVudChncm91cHMpKSB7XG4gICAgICAgICAgICBHcm91cGluZy50cmlnZ2VyR3JvdXBpbmcoJ25jJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlckRlZmF1bHRBY3Rpb25zKCk7XG4gICAgICAgICAgfVxuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnc2VsQnlCQm94JzpcbiAgICAgIHN3aXRjaCAoZ3JvdXBzLmxlbmd0aCkge1xuICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgc2VsZWN0QkJveChncm91cHNbMF0sIGRyYWdIYW5kbGVyLCBuZW9uVmlldyk7XG4gICAgICAgICAgU2VsZWN0T3B0aW9ucy50cmlnZ2VyRGVmYXVsdEFjdGlvbnMoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICBncm91cHMuZm9yRWFjaChnID0+IHNlbGVjdEJCb3goZywgZHJhZ0hhbmRsZXIsIHVuZGVmaW5lZCkpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1Vua25vd24gc2VsZWN0aW9uIHR5cGUuIFRoaXMgc2hvdWxkIG5vdCBoYXZlIG9jY3VycmVkLicpO1xuICB9XG4gIFxuICAvLyBmdW5jdGlvbiBjaGFuZ2VTdGFmZkxpc3RlbmVyKCk6IHZvaWQge1xuICAvLyB0cnkge1xuICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKVxuICAvLyAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBTZWxlY3RPcHRpb25zLmNoYW5nZVN0YWZmSGFuZGxlcik7XG4gIC8vIH0gY2F0Y2ggKGUpIHtjb25zb2xlLmRlYnVnKGUpO31cbiAgLy8gfVxufVxuIiwiaW1wb3J0IHsgcmVjb3JkTm90aWZpY2F0aW9uIH0gZnJvbSAnLi9FcnJvckxvZyc7XG5pbXBvcnQgeyB1dWlkdjQgfSBmcm9tICcuL3JhbmRvbSc7XG5cbnR5cGUgTm90aWZpY2F0aW9uVHlwZSA9ICdkZWZhdWx0JyB8ICdlcnJvcicgfCAnd2FybmluZycgfCAnc3VjY2Vzcyc7XG5cbmNvbnN0IG5vdGlmaWNhdGlvbnM6IE5vdGlmaWNhdGlvbltdID0gbmV3IEFycmF5KDApO1xubGV0IGN1cnJlbnRNb2RlTWVzc2FnZTogTm90aWZpY2F0aW9uID0gbnVsbDtcbmxldCBub3RpZnlpbmcgPSBmYWxzZTtcblxuLyoqXG4gKiBOdW1iZXIgb2Ygbm90aWZpY2F0aW9ucyB0byBkaXNwbGF5IGF0IGEgdGltZS5cbiAqL1xuY29uc3QgTlVNQkVSX1RPX0RJU1BMQVkgPSAzO1xuXG5jb25zdCBub3RpZmljYXRpb25JY29uOiBSZWNvcmQ8Tm90aWZpY2F0aW9uVHlwZSwgc3RyaW5nPiA9IHtcbiAgZGVmYXVsdDogJycsXG4gIHdhcm5pbmc6ICfimqDvuI8gJyxcbiAgZXJyb3I6ICfwn5S0ICcsXG4gIHN1Y2Nlc3M6ICfinIUgJyxcbn07XG5cbi8qKlxuICogQSBjbGFzcyB0byBtYW5hZ2UgTmVvbiBub3RpZmljYXRpb25zLlxuICovXG5leHBvcnQgY2xhc3MgTm90aWZpY2F0aW9uIHtcbiAgbWVzc2FnZTogc3RyaW5nO1xuICBkaXNwbGF5ZWQ6IGJvb2xlYW47XG4gIGlkOiBzdHJpbmc7XG4gIGlzTW9kZU1lc3NhZ2U6IGJvb2xlYW47XG4gIHRpbWVvdXRJRDogbnVtYmVyO1xuICB0eXBlOiBOb3RpZmljYXRpb25UeXBlO1xuICAvKipcbiAgICogQ3JlYXRlIGEgbmV3IG5vdGlmaWNhdGlvbi5cbiAgICogQHBhcmFtIG1lc3NhZ2UgLSBOb3RpZmljYXRpb24gY29udGVudC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChtZXNzYWdlOiBzdHJpbmcsIHR5cGU6IE5vdGlmaWNhdGlvblR5cGUpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBub3RpZmljYXRpb25JY29uW3R5cGVdICsgbWVzc2FnZTtcbiAgICB0aGlzLmRpc3BsYXllZCA9IGZhbHNlO1xuICAgIHRoaXMuaWQgPSB1dWlkdjQoKTtcbiAgICB0aGlzLmlzTW9kZU1lc3NhZ2UgPSBtZXNzYWdlLnNlYXJjaCgnTW9kZScpICE9PSAtMTtcbiAgICB0aGlzLnRpbWVvdXRJRCA9IC0xO1xuICAgIHRoaXMudHlwZSA9IHR5cGU7XG4gIH1cblxuICAvKiogU2V0IHRoZSBJRCBmcm9tIHNldFRpbWVvdXQuICovXG4gIHNldFRpbWVvdXRJZCAoaWQ6IG51bWJlcik6IHZvaWQge1xuICAgIHRoaXMudGltZW91dElEID0gTWF0aC5tYXgoaWQsIC0xKTtcbiAgfVxuXG4gIC8qKiBEaXNwbGF5IHRoZSBOb3RpZmljYXRpb24uICovXG4gIGRpc3BsYXkgKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzcGxheWVkID0gdHJ1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBAcmV0dXJucyBUaGUgVVVJRCBmb3IgdGhpcyBub3RpZmljYXRpb24uXG4gICAqL1xuICBnZXRJZCAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pZDtcbiAgfVxufVxuXG4vKipcbiAqIENsZWFyIHRoZSBub3RpZmljYXRpb25zIGlmIG5vIG1vcmUgZXhpc3Qgb3IgZGlzcGxheSBhbm90aGVyIGZyb20gdGhlIHF1ZXVlLlxuICogQHBhcmFtIGN1cnJlbnRJZCAtIFRoZSBJRCBvZiB0aGUgbm90aWZpY2F0aW9uIHRvIGJlIGNsZWFyZWQuXG4gKi9cbmZ1bmN0aW9uIGNsZWFyT3JTaG93TmV4dE5vdGlmaWNhdGlvbiAoY3VycmVudElkOiBzdHJpbmcpOiB2b2lkIHtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoY3VycmVudElkKS5yZW1vdmUoKTtcbiAgaWYgKGN1cnJlbnRNb2RlTWVzc2FnZSAhPT0gbnVsbCAmJiBjdXJyZW50TW9kZU1lc3NhZ2UuZ2V0SWQoKSA9PT0gY3VycmVudElkKSB7XG4gICAgY3VycmVudE1vZGVNZXNzYWdlID0gbnVsbDtcbiAgfVxuICBpZiAobm90aWZpY2F0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby11c2UtYmVmb3JlLWRlZmluZVxuICAgIHN0YXJ0Tm90aWZpY2F0aW9uKCk7XG4gIH0gZWxzZSBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLm5lb24tbm90aWZpY2F0aW9uJykubGVuZ3RoID09PSAwKSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25vdGlmaWNhdGlvbi1jb250ZW50Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICBub3RpZnlpbmcgPSBmYWxzZTtcbiAgfVxufVxuXG4vKipcbiAqIERpc3BsYXkgYSBub3RpZmljYXRpb24uXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIHRvIGRpc3BsYXkuXG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlOb3RpZmljYXRpb24gKG5vdGlmaWNhdGlvbjogTm90aWZpY2F0aW9uKTogdm9pZCB7XG4gIGlmIChub3RpZmljYXRpb24uaXNNb2RlTWVzc2FnZSkge1xuICAgIGlmIChjdXJyZW50TW9kZU1lc3NhZ2UgPT09IG51bGwpIHtcbiAgICAgIGN1cnJlbnRNb2RlTWVzc2FnZSA9IG5vdGlmaWNhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgd2luZG93LmNsZWFyVGltZW91dChjdXJyZW50TW9kZU1lc3NhZ2UudGltZW91dElEKTtcbiAgICAgIG5vdGlmaWNhdGlvbnMucHVzaChub3RpZmljYXRpb24pO1xuICAgICAgY2xlYXJPclNob3dOZXh0Tm90aWZpY2F0aW9uKGN1cnJlbnRNb2RlTWVzc2FnZS5nZXRJZCgpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgY29uc3Qgbm90aWZpY2F0aW9uQ29udGVudCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdub3RpZmljYXRpb24tY29udGVudCcpO1xuICBjb25zdCBuZXdOb3RpZmljYXRpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmNsYXNzTGlzdC5hZGQoJ25lb24tbm90aWZpY2F0aW9uJyk7XG4gIG5ld05vdGlmaWNhdGlvbi5jbGFzc0xpc3QuYWRkKGBuZW9uLW5vdGlmaWNhdGlvbi0ke25vdGlmaWNhdGlvbi50eXBlfWApO1xuICBuZXdOb3RpZmljYXRpb24uaWQgPSBub3RpZmljYXRpb24uZ2V0SWQoKTtcbiAgbmV3Tm90aWZpY2F0aW9uLmlubmVySFRNTCA9IG5vdGlmaWNhdGlvbi5tZXNzYWdlO1xuICBub3RpZmljYXRpb25Db250ZW50LmFwcGVuZChuZXdOb3RpZmljYXRpb24pO1xuICBub3RpZmljYXRpb25Db250ZW50LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgbm90aWZpY2F0aW9uLmRpc3BsYXkoKTtcbn1cblxuLyoqXG4gKiBTdGFydCBkaXNwbGF5aW5nIG5vdGlmaWNhdGlvbnMuIENhbGxlZCBhdXRvbWF0aWNhbGx5LlxuICovXG5mdW5jdGlvbiBzdGFydE5vdGlmaWNhdGlvbiAoKTogdm9pZCB7XG4gIGlmIChub3RpZmljYXRpb25zLmxlbmd0aCA+IDApIHtcbiAgICBub3RpZnlpbmcgPSB0cnVlO1xuICAgIGNvbnN0IGN1cnJlbnROb3RpZmljYXRpb24gPSBub3RpZmljYXRpb25zLnBvcCgpO1xuICAgIGRpc3BsYXlOb3RpZmljYXRpb24oY3VycmVudE5vdGlmaWNhdGlvbik7XG4gICAgY3VycmVudE5vdGlmaWNhdGlvbi5zZXRUaW1lb3V0SWQoXG4gICAgICB3aW5kb3cuc2V0VGltZW91dChjbGVhck9yU2hvd05leHROb3RpZmljYXRpb24sIDUwMDAsIGN1cnJlbnROb3RpZmljYXRpb24uZ2V0SWQoKSlcbiAgICApO1xuICAgIGRvY3VtZW50XG4gICAgICAuZ2V0RWxlbWVudEJ5SWQoY3VycmVudE5vdGlmaWNhdGlvbi5nZXRJZCgpKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KGN1cnJlbnROb3RpZmljYXRpb24udGltZW91dElEKTtcbiAgICAgICAgY2xlYXJPclNob3dOZXh0Tm90aWZpY2F0aW9uKGN1cnJlbnROb3RpZmljYXRpb24uZ2V0SWQoKSk7XG4gICAgICB9KTtcbiAgfVxufVxuXG4vKipcbiAqIEFkZCBhIG5vdGlmaWNhdGlvbiB0byB0aGUgcXVldWUuXG4gKiBAcGFyYW0gbm90aWZpY2F0aW9uIC0gTm90aWZpY2F0aW9uIGNvbnRlbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBxdWV1ZU5vdGlmaWNhdGlvbiAobm90aWZpY2F0aW9uOiBzdHJpbmcsIHR5cGU6IE5vdGlmaWNhdGlvblR5cGUgPSAnZGVmYXVsdCcpOiB2b2lkIHtcbiAgY29uc3Qgbm90aWYgPSBuZXcgTm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgdHlwZSk7XG4gIG5vdGlmaWNhdGlvbnMucHVzaChub3RpZik7XG5cbiAgaWYgKG5vdGlmLnR5cGUgPT0gJ2Vycm9yJyB8fCBub3RpZi50eXBlID09ICd3YXJuaW5nJykge1xuICAgIHJlY29yZE5vdGlmaWNhdGlvbihub3RpZik7XG4gIH1cblxuICBpZiAoIW5vdGlmeWluZyB8fCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbm90aWZpY2F0aW9uLWNvbnRlbnQnKS5xdWVyeVNlbGVjdG9yQWxsKCcubmVvbi1ub3RpZmljYXRpb24nKS5sZW5ndGggPCBOVU1CRVJfVE9fRElTUExBWSkge1xuICAgIHN0YXJ0Tm90aWZpY2F0aW9uKCk7XG4gIH1cbn1cblxuZXhwb3J0IGRlZmF1bHQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5tb2R1bGUuZXhwb3J0cyA9IGFyZ3NBcnJheTtcblxuZnVuY3Rpb24gYXJnc0FycmF5KGZ1bikge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBsZW4gPSBhcmd1bWVudHMubGVuZ3RoO1xuICAgIGlmIChsZW4pIHtcbiAgICAgIHZhciBhcmdzID0gW107XG4gICAgICB2YXIgaSA9IC0xO1xuICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICBhcmdzW2ldID0gYXJndW1lbnRzW2ldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bi5jYWxsKHRoaXMsIGFyZ3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZnVuLmNhbGwodGhpcywgW10pO1xuICAgIH1cbiAgfTtcbn0iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUsIFNlbGVjdGlvblR5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogVGhlIG9uZSBpbnN0YW5jZSBvZiBMb2NhbFNldHRpbmdzIHRoYXQgd2lsbCBiZSBjcmVhdGVkIGFuZFxuICogdXNlZCBieSB0aGUgZWRpdG9yLlxuICogXG4gKiBVc2UgdGhlIGZ1bmN0aW9ucyBgZ2V0U2V0dGluZ3MoKWAgYW5kIGBzZXRTZXR0aW5ncygpYFxuICogdG8gYWNjZXNzIHRoaXMgaW5zdGFuY2UuXG4gKi9cbmxldCBsb2NhbFNldHRpbmdzOiBMb2NhbFNldHRpbmdzID0gbnVsbDtcblxuLyoqXG4gKiBJbnRlcmZhY2UgZm9yIHRoZSBzZXR0aW5ncyBmb3IgZWFjaCBmb2xpb1xuICogc3RvcmVkIGluIGxvY2FsU3RvcmFnZS5cbiAqXG4gKiBFdmVyeSBrZXkgaXMgb3B0aW9uYWwgc28gdGhhdCB0aGlzIHNhbWUgdHlwaW5nXG4gKiBjYW4gYmUgdXNlZCBmb3IgYHNldFNldHRpbmdzKClgIC8gYExvY2FsU2V0dGluZ3Muc2V0KClgLlxuICovXG5leHBvcnQgaW50ZXJmYWNlIFNldHRpbmdzIHtcbiAgem9vbTogbnVtYmVyO1xuICBnbHlwaE9wYWNpdHk6IG51bWJlcjtcbiAgaW1hZ2VPcGFjaXR5OiBudW1iZXI7XG4gIGhpZ2hsaWdodE1vZGU6IEdyb3VwaW5nVHlwZTtcbiAgc2VsZWN0aW9uTW9kZTogU2VsZWN0aW9uVHlwZTtcbiAgZGlzcGxheUJCb3g6IGJvb2xlYW47XG4gIGRpc3BsYXlUZXh0OiBib29sZWFuO1xuICBkaXNwbGF5SW5mbzogYm9vbGVhbjtcbiAgZGlzcGxheUVyckxvZzogYm9vbGVhbjtcbiAgdmlld0JveDogc3RyaW5nO1xufVxuXG4vKipcbiAqIERlZmF1bHQgc2V0dGluZ3MsIHdoaWNoIHNob3VsZCBiZSBzZXQgZm9yIGEgZm9saW8gd2l0aCBub1xuICogbG9jYWxTdG9yYWdlIHZhbHVlLlxuICpcbiAqIFRoaXMgc2hvdWxkIGJlIHVwZGF0ZWQgYWxvbmdzaWRlIHRoZSBpbnRlcmZhY2UgYFNldHRpbmdzYFxuICogYW55IHRpbWUgd2Ugd2FudCB0byBhZGQgYSBuZXcgc2V0dGluZyB0byBzdG9yZSBpbiBsb2NhbFN0b3JhZ2UuXG4gKi9cbmNvbnN0IERFRkFVTFRfU0VUVElOR1M6IFNldHRpbmdzID0ge1xuICB6b29tOiAxMDAsXG4gIGdseXBoT3BhY2l0eTogMTAwLFxuICBpbWFnZU9wYWNpdHk6IDEwMCxcbiAgaGlnaGxpZ2h0TW9kZTogJ25vbmUnLFxuICBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlTeWxsYWJsZScsXG4gIGRpc3BsYXlCQm94OiBmYWxzZSxcbiAgZGlzcGxheVRleHQ6IGZhbHNlLFxuICBkaXNwbGF5SW5mbzogZmFsc2UsXG4gIGRpc3BsYXlFcnJMb2c6IGZhbHNlLFxuICB2aWV3Qm94OiBudWxsXG59O1xuXG5jbGFzcyBMb2NhbFNldHRpbmdzIHtcbiAgaWQ6IHN0cmluZztcbiAgc2V0dGluZ3M6IFNldHRpbmdzO1xuXG4gIGNvbnN0cnVjdG9yIChmb2xpb0lkOiBzdHJpbmcpIHtcbiAgICBsb2NhbFNldHRpbmdzID0gdGhpcztcbiAgICB0aGlzLmlkID0gZm9saW9JZDtcbiAgICB0aGlzLmxvYWQoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIHNldHRpbmdzIGZyb20gbG9jYWxTdG9yYWdlLCBhbmQgc3luYyBsb2FkZWQgc2V0dGluZ3Mgd2l0aFxuICAgKiBuZXcgZmllbGRzIHRoYXQgbWF5IG5vdCBiZSBpbiBsb2NhbFN0b3JhZ2UuXG4gICAqL1xuICBsb2FkICgpOiB2b2lkIHtcbiAgICB0cnkge1xuICAgICAgY29uc3Qgc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPiA9IEpTT04ucGFyc2Uod2luZG93LmxvY2FsU3RvcmFnZS5nZXRJdGVtKHRoaXMuaWQpKTtcbiAgICAgIHRoaXMuc3luYyhzdG9yZWQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAvLyBJZiBsb2NhbFN0b3JhZ2UgdmFsdWUgaXMgbm90IGEgSlNPTiBvYmplY3QgKGZvciBpbnN0YW5jZSwgYW4gZW1wdHkgc3RyaW5nKSxcbiAgICAgIC8vIGEgU3ludGF4RXJyb3Igd2lsbCBiZSB0aHJvd24uIFdlIG11c3QgaGFuZGxlIGl0IGJ5IGNhbGxpbmcgc3luYygpXG4gICAgICAvLyB3aXRoIGFuIGVtcHR5IEpTT04gb2JqZWN0LlxuICAgICAgdGhpcy5zeW5jKHt9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IG5ldyBmaWVsZHMgaW4gbG9jYWxTdG9yYWdlLCBhcyBhIFwidW5pb25cIiBvZiBvbGQgYW5kIG5ldyBzZXR0aW5ncy5cbiAgICovXG4gIHNldCAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLnRoaXMuc2V0dGluZ3MsIC4uLnBhcmFtcyB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cblxuICAvKipcbiAgICogU3luYyBzZXR0aW5ncyB0aGF0IG1heSBub3QgYmUgaW5jbHVkZWQgaW4gdXNlcidzIGxvY2FsU3RvcmFnZSxcbiAgICogc3VjaCBhcyBmaWVsZHMgdGhhdCBoYXZlIGJlZW4gYWRkZWQgdG8gbG9jYWxTdG9yYWdlIGluIGEgbmV3XG4gICAqIHVwZGF0ZSBvZiBOZW9uLlxuICAgKi9cbiAgc3luYyAoc3RvcmVkOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICAgIHRoaXMuc2V0dGluZ3MgPSB7IC4uLkRFRkFVTFRfU0VUVElOR1MsIC4uLnN0b3JlZCB9O1xuICAgIHdpbmRvdy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbSh0aGlzLmlkLCBKU09OLnN0cmluZ2lmeSh0aGlzLnNldHRpbmdzKSk7XG4gIH1cbn1cblxuLyoqXG4gKiBHZXQgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRTZXR0aW5ncyAoKTogU2V0dGluZ3Mge1xuICByZXR1cm4gbG9jYWxTZXR0aW5ncy5zZXR0aW5ncztcbn1cblxuLyoqXG4gKiBTZXQgc3BlY2lmaWMgbG9jYWxTdG9yYWdlIHNldHRpbmdzIGZvciB0aGUgZm9saW8uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRTZXR0aW5ncyAocGFyYW1zOiBQYXJ0aWFsPFNldHRpbmdzPik6IHZvaWQge1xuICBsb2NhbFNldHRpbmdzLnNldChwYXJhbXMpO1xufVxuXG5leHBvcnQgZGVmYXVsdCBMb2NhbFNldHRpbmdzO1xuIiwiLyoqXG4gKiBIVE1MIGZvciBlYWNoIGluc2VydCB0YWIgKG5ldW1lLCBncm91cGluZywgY2xlZiwgc3lzdGVtLCBhbmQgZGl2aXNpb24pLlxuICovXG5leHBvcnQgY29uc3QgaW5zZXJ0VGFiSHRtbDogUmVjb3JkPHN0cmluZywgc3RyaW5nPiA9IHtcbiAgcHJpbWl0aXZlVGFiOiBcbiAgICAgICAgYDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwicHVuY3R1bVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwdW5jdHVtXCIgdGl0bGU9XCJwdW5jdHVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9wdW5jdHVtLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIi8+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJ2aXJnYVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJ2aXJnYVwiIHRpdGxlPVwidmlyZ2FcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3ZpcmdhLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInZpcmdhUmV2ZXJzZWRcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiUmV2ZXJzZWQgVmlyZ2FcIiB0aXRsZT1cIlJldmVyc2VkIFZpcmdhXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy92aXJnYV9yZXZlcnNlZC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJkaWFtb25kXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImluY2xpbmF0dW1cIiB0aXRsZT1cImluY2xpbmF0dW1cIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2RpYW1vbmQucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY3VzdG9zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cImN1c3Rvc1wiIHRpdGxlPVwiY3VzdG9zXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jdXN0b3MucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiY0NsZWZcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiQyBDbGVmXCIgdGl0bGU9XCIgQyBDbGVmXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9jQ2xlZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJmQ2xlZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJGIENsZWZcIiB0aXRsZT1cIkYgQ2xlZlwiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZkNsZWYucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+XG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwibGlxdWVzY2VudEFcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiTGlxdWVzY2VudCBBXCIgdGl0bGU9XCJMaXF1ZXNjZW50IEFcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2xpcXVlc2NlbnRBLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImxpcXVlc2NlbnRDXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkxpcXVlc2NlbnQgQ1wiIHRpdGxlPVwiTGlxdWVzY2VudCBDXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9saXF1ZXNjZW50Qy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJmbGF0XCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIkZsYXRcIiB0aXRsZT1cIkZsYXRcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2FjY2lkRmxhdC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJuYXR1cmFsXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cIk5hdHVyYWxcIiB0aXRsZT1cIk5hdHVyYWxcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2FjY2lkTmF0dXJhbC5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD4gXG4gICAgICAgIDxwIGNsYXNzPVwiaW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwiZGl2TGluZU1heGltYVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJEaXZMaW5lIE1heGltYVwiIHRpdGxlPVwiRGl2TGluZSBNYXhpbWFcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2RpdmlzaW8ucG5nXCIgY2xhc3M9XCJpbWFnZVwiPjwvYnV0dG9uPlxuICAgICAgICA8L3A+YCxcbiAgZ3JvdXBpbmdUYWI6IFxuICAgICAgICBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJwZXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicGVzXCIgdGl0bGU9XCJwZXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3Blcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGl2aXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwiY2xpdmlzXCIgdGl0bGU9XCJjbGl2aXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaXZpcy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzY2FuZGljdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwic2NhbmRpY3VzXCIgdGl0bGU9XCJzY2FuZGljdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NjYW5kaWN1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJjbGltYWN1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJjbGltYWN1c1wiIHRpdGxlPVwiY2xpbWFjdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2NsaW1hY3VzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInRvcmN1bHVzXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCBzbWFsbGVsXCIgYXJpYS1sYWJlbD1cInRvY3VsdXNcIiB0aXRsZT1cInRvY3VsdXNcIj48aW1nIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3RvcmN1bHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInBvcnJlY3R1c1wiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgc21hbGxlbFwiIGFyaWEtbGFiZWw9XCJwb3JyZWN0dXNcIiB0aXRsZT1cInBvcnJlY3R1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcG9ycmVjdHVzLnBuZ1wiIGNsYXNzPVwiaW1hZ2VcIj48L2J1dHRvbj5cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cImluc2VydC1lbGVtZW50LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInByZXNzdXNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIGluc2VydGVsIHNtYWxsZWxcIiBhcmlhLWxhYmVsPVwicHJlc3N1c1wiIHRpdGxlPVwicHJlc3N1c1wiPjxpbWcgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvcHJlc3N1cy5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5gLFxuICBzeXN0ZW1UYWI6IFxuICAgICAgICBgPHAgY2xhc3M9XCJpbnNlcnQtZWxlbWVudC1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gaWQ9XCJzdGFmZlwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgbG9uZ2VsXCIgYXJpYS1sYWJlbD1cInN5c3RlbVwiIHRpdGxlPVwic3lzdGVtXCI+PGltZyBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zdGFmZi5wbmdcIiBjbGFzcz1cImltYWdlXCI+PC9idXR0b24+XG4gICAgICAgIDwvcD5cbiAgICAgICAgPHA+Q2xpY2sgdXBwZXIgbGVmdCBhbmQgbG93ZXIgcmlnaHQgY29ybmVycyBvZiBuZXcgc3RhZmYuPC9wPmBcbiAgLy8gZGl2aXNpb25UYWI6IFwiPHAgY2xhc3M9J2luc2VydC1lbGVtZW50LWNvbnRhaW5lcic+XCIgKyAgICBcbiAgLy8gXCI8YnV0dG9uIGlkPSdzbWFsbERpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL3NtYWxsZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vICAgICBcIjxidXR0b24gaWQ9J21pbm9yRGl2JyBjbGFzcz0nc2lkZS1wYW5lbC1idG4gaW5zZXJ0ZWwgdGFsbGVsJz48aW1nIHNyYz0nXCIgKyBfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9pbWcvbWlub3JkaXYucG5nXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIiArXG4gIC8vICAgICBcIjxwIGNsYXNzPSdpbnNlcnQtZWxlbWVudC1jb250YWluZXInPlwiICtcbiAgLy8gXCI8YnV0dG9uIGlkPSdtYWpvckRpdicgY2xhc3M9J3NpZGUtcGFuZWwtYnRuIGluc2VydGVsIHRhbGxlbCc+PGltZyBzcmM9J1wiICsgX19BU1NFVF9QUkVGSVhfXyArICdhc3NldHMvaW1nL21ham9yZGl2LnBuZyBcIicgY2xhc3M9J2ltYWdlJy8+PC9idXR0b24+PC9wPlwiICtcbiAgLy8gXCI8cCBjbGFzcz0naW5zZXJ0LWVsZW1lbnQtY29udGFpbmVyJz5cIiArXG4gIC8vIFwiPGJ1dHRvbiBpZD0nZmluYWxEaXYnIGNsYXNzPSdzaWRlLXBhbmVsLWJ0biBpbnNlcnRlbCB0YWxsZWwnPjxpbWcgc3JjPSdcIiArIF9fQVNTRVRfUFJFRklYX18gKyAnYXNzZXRzL2ltZy9maW5hbGRpdi5wbmcgXCInIGNsYXNzPSdpbWFnZScvPjwvYnV0dG9uPjwvcD5cIlxufTtcblxuLyoqXG4gKiBTdHJ1Y3R1cmUgb2YgaW5zZXJ0IHBhbmVsIHdpdGggYmFzaWMgZ3JvdXBpbmcgdGFicy5cbiAqL1xuZXhwb3J0IGNvbnN0IGluc2VydENvbnRyb2xzUGFuZWwgPVxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiaW5zZXJ0TWVudVwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZy10aXRsZVwiPklOU0VSVDwvZGl2PlxuICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgICAgIDx1c2UgaWQ9XCJ0b2dnbGVJbnNlcnRcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG5cdDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gZmlyc3Qtc3Vic2VjdGlvblwiPlxuICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCIgc3R5bGU9XCJvdmVyZmxvdy15OiBoaWRkZW47XCI+XG4gICAgICAgICAgICA8cCBjbGFzcz1cInBhbmVsLXRhYnNcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cInByaW1pdGl2ZVRhYlwiIGNsYXNzPVwiaW5zZXJ0VGFiXCI+UHJpbWl0aXZlIEVsZW1lbnRzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiZ3JvdXBpbmdUYWJcIiBjbGFzcz1cImluc2VydFRhYlwiPkdyb3VwaW5nPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwic3lzdGVtVGFiXCIgY2xhc3M9XCJpbnNlcnRUYWJcIj5TeXN0ZW08L2E+XG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICA8ZGl2IGlkPVwiaW5zZXJ0X2RhdGFcIj48L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBlZGl0IHBhbmVsIHdpdGggYnV0dG9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IGVkaXRDb250cm9sc1BhbmVsID1cbiAgICBgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiBpZD1cImVkaXRNZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlIGZvY3VzZWRcIj5FRElUPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uIGlzLXB1bGxlZC1yaWdodFwiPlxuICAgICAgICAgICAgPHVzZSBpZD1cInRvZ2dsZUVkaXRcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgICAgPC9zdmc+XG4gICAgPC9kaXY+XG4gICAgPGRpdiBpZD1cImVkaXRDb250ZW50c1wiIGNsYXNzPVwicGFuZWwtY29udGVudHNcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvbiBmaXJzdC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICA8ZGl2IGlkPVwic2VsZWN0aW9uLW1vZGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLXN1Yi10aXRsZVwiPlNlbGVjdGlvbiBNb2RlOjwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJzZWxlY3Rpb24tbW9kZS1idG5zLWNvbnRhaW5lclwiICBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIiBzdHlsZT1cIm92ZXJmbG93LXg6IGF1dG87XCI+XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieSBpcy1hY3RpdmVcIiBpZD1cInNlbEJ5U3lsbGFibGVcIj5TeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNlbC1ieVwiIGlkPVwic2VsQnlOZXVtZVwiPk5ldW1lPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeU5jXCI+TmV1bWUgQ29tcG9uZW50PC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG4gc2VsLWJ5XCIgaWQ9XCJzZWxCeVN0YWZmXCI+U3RhZmY8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzZWwtYnlcIiBpZD1cInNlbEJ5TGF5ZXJFbGVtZW50XCI+TGF5ZXIgRWxlbWVudDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZGlzcGxheS1zbGlkZXItYWN0aW9ucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwibW9yZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGhpZGRlblwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGlkPVwiZXh0cmFFZGl0XCI+PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwhLS1cbiAgICAgICAgICAgICAgICAgICAgKiBUaGUgZXh0cmFFZGl0IHBhbmVsIGlzIGFkZGVkIGZvciBlZGl0IG9wdGlvbnMgdGhhdCBoYXZlIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgICogTGlrZSB0aGUgTmV1bWUgYW5kIENsZWYgbWVudXNcbiAgICAgICAgICAgICAgICAgICAgKiBUaGlzIGlzIGRvbmUgYmVjYXVzZSB0aGUgbW9yZUVkaXQgbWVudSBuZWVkcyB0byBoYXZlIG92ZXJmbG93IGZvciBjYXNlcyB3aGVyZSBpdCBoYXMgbG90cyBvZiBidXR0b25zXG4gICAgICAgICAgICAgICAgICAgICogQnV0IG92ZXJmbG93IHJ1aW5zIGRyb3Bkb3duIG1lbnVzXG4gICAgICAgICAgICAgICAgICAgIC0tPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50LXN1YnNlY3Rpb24gaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJuZXVtZUVkaXRcIj48L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJ1bmRvUmVkb19jb250cm9sc1wiPjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgbmMgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBuY0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGxhYmVsPkNoYW5nZSBIZWFkIFNoYXBlOjwvbGFiZWw+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPkhlYWQgU2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlB1bmN0dW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5QdW5jdHVtPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiVmlyZ2FcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5WaXJnYTwvYT4gXG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJWaXJnYVJldmVyc2VkXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+UmV2ZXJzZWQgVmlyZ2E8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJMaXF1ZXNjZW50Q2xvY2t3aXNlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TGlxdWVzY2VudCBDPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiTGlxdWVzY2VudEFudGljbG9ja3dpc2VcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5MaXF1ZXNjZW50IEE8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJJbmNsaW5hdHVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+SW5jbGluYXR1bTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGJhc2ljIG5ldW1lIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgZGVmYXVsdE5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInNwbGl0LW5ldW1lXCI+U3BsaXQgTmV1bWVzPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBuZXVtZSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IG5ldW1lQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+R3JvdXBpbmcgT3B0aW9uczo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Hcm91cGluZ3M8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLWNvbnRlbnQgc2Nyb2xsYWJsZS1kcm9wZG93blwiPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UGVzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiUGVzU3VicHVuY3Rpc1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBlcyBTdWJwdW5jdGlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2xpdmlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpdmlzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzPC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiU2NhbmRpY3VzRmxleHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+U2NhbmRpY3VzIEZsZXh1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlNjYW5kaWN1c1N1YnB1bmN0aXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW0gZ3JvdXBpbmdcIj5TY2FuZGljdXMgU3VicHVuY3RpczwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIkNsaW1hY3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+Q2xpbWFjdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDbGltYWN1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPkNsaW1hY3VzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlRvcmN1bHVzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+VG9yY3VsdXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJUb3JjdWx1c1Jlc3VwaW51c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlRvcmN1bHVzIFJlc3VwaW51czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1czwvYT5cbiAgICAgICAgICAgICAgICA8YSBpZD1cIlBvcnJlY3R1c0ZsZXh1c1wiIGNsYXNzPVwiZHJvcGRvd24taXRlbSBncm91cGluZ1wiPlBvcnJlY3R1cyBGbGV4dXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQb3JyZWN0dXNTdWJwdW5jdGlzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UG9ycmVjdHVzIFN1YnB1bmN0aXM8L2E+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJQcmVzc3VzXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtIGdyb3VwaW5nXCI+UHJlc3N1czwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOY3NcIj5Vbmdyb3VwPC9idXR0b24+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBleHRyYSBzdGFmZiBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IHN0YWZmQWN0aW9uQ29udGVudHMgPVxuICAgIGA8bGFiZWw+TWVyZ2UgU3lzdGVtczo8L2xhYmVsPlxuICAgIDxidXR0b24gaWQ9XCJtZXJnZS1zeXN0ZW1zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPk1lcmdlPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0QWN0aW9uQ29udGVudHMgPSBcbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGRlZmF1bHQgYWN0aW9uIG1lbnUgd2hlbiBzZWxlY3RpbmcgYnkgc3lsbGFibGVcbiAqIFNhbWUgYXMgYWJvdmUgZXhjZXB0IGluY2x1ZGVzIHJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmXG4gKi9cbmV4cG9ydCBjb25zdCBkZWZhdWx0U3lsQWN0aW9uQ29udGVudHMgPVxuICAgIGA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPmA7XG4gICAgXG4vKipcbiAqIENvbnRlbnRzIG9mIGN1c3RvcyBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGN1c3Rvc0FjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBsYXllciBlbGVtZW50IChvdXRzaWRlIHN5bGxhYmxlKSBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGxheWVyRWxlbWVudE91dEFjdGlvbkNvbnRlbnRzID1cbiAgICBgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJpbnNlcnRUb1N5bGxhYmxlXCI+SW5zZXJ0IHRvIG5lYXJlc3Qgc3lsbGFibGU8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgPC9kaXY+YDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBsYXllciBlbGVtZW50IChpbnNpZGUgc3lsbGFibGUpIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgbGF5ZXJFbGVtZW50SW5BY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibW92ZU91dHNpZGVTeWxsYWJsZVwiPk1vdmUgb3V0c2lkZSBzeWxsYWJsZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIGFjY2lkIGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3QgYWNjaWRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxsYWJlbD5DaGFuZ2UgQWNjaWRlbnRhbDo8L2xhYmVsPlxuICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tdHJpZ2dlclwib3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgIDxzcGFuPlNoYXBlczwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8c3ZnIGNsYXNzPVwiaWNvblwiPjx1c2UgeGxpbms6aHJlZj1cIiR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+PC9zdmc+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJkcm9wZG93bi1tZW51XCIgcm9sZT1cIm1lbnVcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb0ZsYXRcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5GbGF0PC9hPlxuICAgICAgICAgICAgICAgIDxhIGlkPVwiQ2hhbmdlVG9OYXR1cmFsXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TmF0dXJhbDwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5gO1xuXG4vKipcbiAqIENvbnRlbnRzIG9mIHNwbGl0IGFjdGlvbiBtZW51LlxuICovXG5leHBvcnQgY29uc3Qgc3BsaXRBY3Rpb25Db250ZW50cyA9XG4gICAgYDxkaXY+U3BsaXQgU3lzdGVtOjwvZGl2PlxuICAgIDxkaXYgaWQ9XCJzcGxpdC1zeXN0ZW0tYnRucy1jb250YWluZXJcIiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgPGJ1dHRvbiBpZD1cInNwbGl0LXN5c3RlbVwiIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIj5TcGxpdDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGlkPVwicmVzZXQtcm90YXRlXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiPlJlc2V0IFJvdGF0ZTwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgIDwvZGl2PmA7XG5cbi8qKlxuICogQ29udGVudHMgb2YgZXh0cmEgY2xlZiBhY3Rpb24gbWVudS5cbiAqL1xuZXhwb3J0IGNvbnN0IGNsZWZBY3Rpb25Db250ZW50cyA9XG4gICAgYFxuICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wX3NlbGVjdCBkcm9wZG93blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIiBvdmVyZmxvdz1cImF1dG9cIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgICAgICAgICA8c3Bhbj5EaXNwbGFjZSBPY3RhdmU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiaW5jcmVtZW50LW9jdGF2ZVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiPisxIE9jdGF2ZTwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaWQ9XCJkZWNyZW1lbnQtb2N0YXZlXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+LTEgT2N0YXZlPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcF9zZWxlY3QgZHJvcGRvd25cIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi10cmlnZ2VyXCIgb3ZlcmZsb3c9XCJhdXRvXCI+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cInNlbGVjdC1vcHRpb25zXCIgY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImRyb3Bkb3duLW1lbnVcIj5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2hhbmdlIENsZWYgU2hhcGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+PHVzZSB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT48L3N2Zz5cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLW1lbnVcIiBpZD1cImRyb3Bkb3duLW1lbnVcIiByb2xlPVwibWVudVwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiQ0NsZWZcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5DIENsZWY8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIGlkPVwiRkNsZWZcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5GIENsZWY8L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gICAgYDtcblxuLyoqXG4gKiBDb250ZW50cyBvZiBkaXZMaW5lIHR5cGUgYWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBkaXZMaW5lQWN0aW9uQ29udGVudHMgPVxuYDxsYWJlbD5DaGFuZ2UgRGl2TGluZTo8L2xhYmVsPlxuPGRpdiBjbGFzcz1cImRyb3Bfc2VsZWN0IGRyb3Bkb3duXCI+XG4gICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIm92ZXJmbG93PVwiYXV0b1wiPlxuICAgICAgICA8YnV0dG9uIGlkPVwic2VsZWN0LW9wdGlvbnNcIiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgYXJpYS1oYXNwb3B1cD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiZHJvcGRvd24tbWVudVwiPlxuICAgICAgICAgICAgPHNwYW4+U2hhcGVzPC9zcGFuPlxuICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj48dXNlIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPjwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tbWVudVwiIGlkPVwiZHJvcGRvd24tbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1jb250ZW50XCI+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWluaW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWluaW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb01haW9yXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWFpb3I8L2E+XG4gICAgICAgICAgICA8YSBpZD1cIkNoYW5nZVRvTWF4aW1hXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCI+TWF4aW1hPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb0ZpbmFsaXNcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5GaW5hbGlzPC9hPlxuICAgICAgICAgICAgPGEgaWQ9XCJDaGFuZ2VUb0NhZXN1cmFcIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIj5DYWVzdXJhPC9hPlxuICAgICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbjwvZGl2PmA7XG5cbi8qKlxuICogSFRNTCBmb3IgZ3JvdXBpbmcgc2VsZWN0aW9uIG1lbnUuXG4gKi9cbmV4cG9ydCBjb25zdCBncm91cGluZ01lbnUgPSB7XG4gIG5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBtb3JlLWVkaXQtYnRuXCIgaWQ9XCJncm91cE5jc1wiPkdyb3VwIE5ldW1lIENvbXBvbmVudHM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIG5ldW1lOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZ3JvdXBOZXVtZXNcIj5Hcm91cCBOZXVtZXM8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImRlbGV0ZVwiPkRlbGV0ZTwvYnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PmAsXG4gIHN5bDogYDxkaXYgY2xhc3M9XCJtb3JlLWVkaXQtYnRuIHBhbmVsLWJ0blwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cIm1lcmdlU3lsc1wiPk1lcmdlIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cblx0XHQ8L2Rpdj5gLFxuICBsaWdhdHVyZU5jOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImdyb3VwTmNzXCI+R3JvdXAgTmV1bWUgQ29tcG9uZW50czwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PmAsXG4gIGxpZ2F0dXJlOiBgPGRpdiBjbGFzcz1cIm1vcmUtZWRpdC1idG4gcGFuZWwtYnRuXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlnYXR1cmVcIj5Ub2dnbGUgTGlnYXR1cmU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PmAsXG4gIHNwbGl0U3lsbGFibGU6IGA8ZGl2IGNsYXNzPVwibW9yZS1lZGl0LWJ0biBwYW5lbC1idG5cIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJpZ2h0LXNpZGUtcGFuZWwtYnRucy1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwidG9nZ2xlLWxpbmtcIj5Ub2dnbGUgTGlua2VkIFN5bGxhYmxlczwvYnV0dG9uPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+YFxufTtcblxuXG5cbi8qIEJHSU5OSU5HIE9GIE1PREFMIFdJTkRPVyBDT05URU5UIFNFQ1RJT04gKi9cblxuLyoqXG4gKiBIVE1MIGZvciBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gKi9cbmV4cG9ydCBjb25zdCBlZGl0VGV4dE1vZGFsID0gXG4gICAgYDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWVkaXQtdGV4dFwiPlxuICAgICAgICA8bGFiZWwgZm9yPVwibmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtbGFiZWxcIj5FbnRlciBTeWxsYWJsZSBUZXh0OjwvbGFiZWw+XG4gICAgICAgIDxpbnB1dCBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1pbnB1dFwiIHR5cGU9XCJ0ZXh0XCI+XG4gICAgICAgIDxkaXYgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtYnRuc1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwibmVvbi1tb2RhbC13aW5kb3ctYnRuXCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtY2FuY2VsXCI+Q2FuY2VsPC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1idG5cIiBpZD1cIm5lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1zYXZlXCI+U2F2ZTwvZGl2PiAgICAgICAgXG4gICAgICAgIDwvZGl2PlxuICAgIDwvZGl2PmA7XG5cblxuLyoqXG4gKiBIVE1MIGZvciBIb3RrZXlzIG1vZGFsIHdpbmRvd1xuICovXG5leHBvcnQgY29uc3QgaG90a2V5c01vZGFsID0gYFxuICAgIDxkaXYgY2xhc3M9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50XCIgaWQ9XCJuZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXNcIj5cbiAgICAgICAgPCEtLSBcIkRpc3BsYXlcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkRpc3BsYXk8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+KzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIEluPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+LTwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5ab29tIE91dDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj4wPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlpvb20gUmVzZXQ8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+aDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5IaWRlIEdseXBoPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPCEtLSBcIkVkaXRcIiBob3RrZXlzIC0tPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1zdWJjYXRlZ29yeS10aXRsZVwiPkVkaXQ8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkN0cmw8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+b3I8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPuKMmDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPno8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+VW5kbzwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5DdHJsPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+U2hpZnQ8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj4rPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj56PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+b3I8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPuKMmDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPlNoaWZ0PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXY+KzwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+ejwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZWRvPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnEvdy9lL3IvdC95PC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1kZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAgICAgICAgICBIaWdobGlnaHQgYnkgU3RhZmYvU3lsbGFibGUvTmV1bWUvTGF5ZXJFbGVtZW50L1NlbGVjdGlvbi9PZmZcbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5XCI+MS8yLzMvNDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgU2VsZWN0IGJ5IFN5bGxhYmxlL05ldW1lL05ldW1lIENvbXBvbmVudC9TdGFmZlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnlcIj5TaGlmdDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2Pis8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPk51bWJlcjwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAgICAgICAgQmVnaW4gSW5zZXJ0IGZvciB0aGUgPGk+bnRoPC9pPiBvcHRpb24gaW4gdGhlIHNlbGVjdGVkIHRhYlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDwhLS0gXCJPdGhlclwiIGhvdGtleXMgLS0+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktc3ViY2F0ZWdvcnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LXN1YmNhdGVnb3J5LXRpdGxlXCI+T3RoZXI8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPnM8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaG90a2V5LWVudHJ5LWRlc2NyaXB0aW9uXCI+U2F2ZSBGaWxlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktY29udGFpbmVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1jb250YWluZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImhvdGtleS1lbnRyeVwiPkVzYzwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJob3RrZXktZW50cnktZGVzY3JpcHRpb25cIj5SZXR1cm4gdG8gRWRpdCBNb2RlPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgPC9kaXY+YDtcblxuZXhwb3J0IGNvbnN0IHN5bGxhYmxlQWN0aW9uc0NvbnRlbnQgPSBgXG4gIDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJtZXJnZVN5bHNcIj5NZXJnZSBTeWxsYWJsZXM8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZ3JvdXBOZXVtZXNcIj5Vbmdyb3VwPC9idXR0b24+XG4gICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cImNoYW5nZVN0YWZmXCI+UmUtYXNzb2NpYXRlIHRvIG5lYXJlc3Qgc3RhZmY8L2J1dHRvbj5cbiAgPC9kaXY+XG5gO1xuXG5leHBvcnQgY29uc3QgZXJyb3JMb2dzUGFuZWxDb250ZW50cyA9IFxuICAgIGA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZXJyb3JMb2dIZWFkaW5nXCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nLXRpdGxlXCI+RXJyb3IgTG9nPC9kaXY+XG4gICAgICAgIDxzdmcgY2xhc3M9XCJpY29uXCI+XG4gICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRXJyb3JMb2dcIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1kb3duXCI+PC91c2U+XG4gICAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50c1wiIGlkPVwiZXJyb3JMb2dDb250ZW50c1wiIHN0eWxlPVwib3ZlcmZsb3c6IHZpc2libGU7IHBhZGRpbmc6IDAuNWVtIDAuNzVlbTtcIj48ZGl2PmA7XG4iLCJtb2R1bGUuZXhwb3J0cyA9IGQzOyIsInZhciBnO1xuXG4vLyBUaGlzIHdvcmtzIGluIG5vbi1zdHJpY3QgbW9kZVxuZyA9IChmdW5jdGlvbigpIHtcblx0cmV0dXJuIHRoaXM7XG59KSgpO1xuXG50cnkge1xuXHQvLyBUaGlzIHdvcmtzIGlmIGV2YWwgaXMgYWxsb3dlZCAoc2VlIENTUClcblx0ZyA9IGcgfHwgbmV3IEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKTtcbn0gY2F0Y2ggKGUpIHtcblx0Ly8gVGhpcyB3b3JrcyBpZiB0aGUgd2luZG93IHJlZmVyZW5jZSBpcyBhdmFpbGFibGVcblx0aWYgKHR5cGVvZiB3aW5kb3cgPT09IFwib2JqZWN0XCIpIGcgPSB3aW5kb3c7XG59XG5cbi8vIGcgY2FuIHN0aWxsIGJlIHVuZGVmaW5lZCwgYnV0IG5vdGhpbmcgdG8gZG8gYWJvdXQgaXQuLi5cbi8vIFdlIHJldHVybiB1bmRlZmluZWQsIGluc3RlYWQgb2Ygbm90aGluZyBoZXJlLCBzbyBpdCdzXG4vLyBlYXNpZXIgdG8gaGFuZGxlIHRoaXMgY2FzZS4gaWYoIWdsb2JhbCkgeyAuLi59XG5cbm1vZHVsZS5leHBvcnRzID0gZztcbiIsImltcG9ydCB2YWxpZGF0ZSBmcm9tICcuL3ZhbGlkYXRlLmpzJztcbi8qKlxuICogQ29udmVydCBhcnJheSBvZiAxNiBieXRlIHZhbHVlcyB0byBVVUlEIHN0cmluZyBmb3JtYXQgb2YgdGhlIGZvcm06XG4gKiBYWFhYWFhYWC1YWFhYLVhYWFgtWFhYWC1YWFhYWFhYWFhYWFhcbiAqL1xuXG52YXIgYnl0ZVRvSGV4ID0gW107XG5cbmZvciAodmFyIGkgPSAwOyBpIDwgMjU2OyArK2kpIHtcbiAgYnl0ZVRvSGV4LnB1c2goKGkgKyAweDEwMCkudG9TdHJpbmcoMTYpLnN1YnN0cigxKSk7XG59XG5cbmZ1bmN0aW9uIHN0cmluZ2lmeShhcnIpIHtcbiAgdmFyIG9mZnNldCA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogMDtcbiAgLy8gTm90ZTogQmUgY2FyZWZ1bCBlZGl0aW5nIHRoaXMgY29kZSEgIEl0J3MgYmVlbiB0dW5lZCBmb3IgcGVyZm9ybWFuY2VcbiAgLy8gYW5kIHdvcmtzIGluIHdheXMgeW91IG1heSBub3QgZXhwZWN0LiBTZWUgaHR0cHM6Ly9naXRodWIuY29tL3V1aWRqcy91dWlkL3B1bGwvNDM0XG4gIHZhciB1dWlkID0gKGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxXV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDJdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgM11dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA0XV0gKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDVdXSArICctJyArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgNl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyA3XV0gKyAnLScgKyBieXRlVG9IZXhbYXJyW29mZnNldCArIDhdXSArIGJ5dGVUb0hleFthcnJbb2Zmc2V0ICsgOV1dICsgJy0nICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMV1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxMl1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxM11dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNF1dICsgYnl0ZVRvSGV4W2FycltvZmZzZXQgKyAxNV1dKS50b0xvd2VyQ2FzZSgpOyAvLyBDb25zaXN0ZW5jeSBjaGVjayBmb3IgdmFsaWQgVVVJRC4gIElmIHRoaXMgdGhyb3dzLCBpdCdzIGxpa2VseSBkdWUgdG8gb25lXG4gIC8vIG9mIHRoZSBmb2xsb3dpbmc6XG4gIC8vIC0gT25lIG9yIG1vcmUgaW5wdXQgYXJyYXkgdmFsdWVzIGRvbid0IG1hcCB0byBhIGhleCBvY3RldCAobGVhZGluZyB0b1xuICAvLyBcInVuZGVmaW5lZFwiIGluIHRoZSB1dWlkKVxuICAvLyAtIEludmFsaWQgaW5wdXQgdmFsdWVzIGZvciB0aGUgUkZDIGB2ZXJzaW9uYCBvciBgdmFyaWFudGAgZmllbGRzXG5cbiAgaWYgKCF2YWxpZGF0ZSh1dWlkKSkge1xuICAgIHRocm93IFR5cGVFcnJvcignU3RyaW5naWZpZWQgVVVJRCBpcyBpbnZhbGlkJyk7XG4gIH1cblxuICByZXR1cm4gdXVpZDtcbn1cblxuZXhwb3J0IGRlZmF1bHQgc3RyaW5naWZ5OyIsImV4cG9ydCBkZWZhdWx0IC9eKD86WzAtOWEtZl17OH0tWzAtOWEtZl17NH0tWzEtNV1bMC05YS1mXXszfS1bODlhYl1bMC05YS1mXXszfS1bMC05YS1mXXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTsiLCJpbXBvcnQgUkVHRVggZnJvbSAnLi9yZWdleC5qcyc7XG5cbmZ1bmN0aW9uIHZhbGlkYXRlKHV1aWQpIHtcbiAgcmV0dXJuIHR5cGVvZiB1dWlkID09PSAnc3RyaW5nJyAmJiBSRUdFWC50ZXN0KHV1aWQpO1xufVxuXG5leHBvcnQgZGVmYXVsdCB2YWxpZGF0ZTsiLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcblxuZXhwb3J0IGludGVyZmFjZSBQb2ludCB7XG4gIHg6IG51bWJlcjtcbiAgeTogbnVtYmVyO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEJCb3gge1xuICB1bHg6IG51bWJlcjtcbiAgdWx5OiBudW1iZXI7XG4gIGxyeDogbnVtYmVyO1xuICBscnk6IG51bWJlcjtcbn1cblxuLyoqXG4gKiBHZXQgU1ZHIHJlbGF0aXZlIGNvb3JkaW5hdGVzIGdpdmVuIGNsaWVudFggYW5kIGNsaWVudFlcbiAqIFNvdXJjZTogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjkyNjEzMDRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNWR1JlbENvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBQb2ludCB7XG4gIGNvbnN0IHB0ID0gbmV3IERPTVBvaW50KGNsaWVudFgsIGNsaWVudFkpO1xuICBjb25zdCBzdmcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPFNWR1NWR0VsZW1lbnQ+KCcuYWN0aXZlLXBhZ2UgPiAuZGVmaW5pdGlvbi1zY2FsZScpO1xuICBjb25zdCBzeXN0ZW0gPSBzdmcucXVlcnlTZWxlY3RvcjxTVkdHRWxlbWVudD4oJy5zeXN0ZW0nKTtcblxuICBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShzeXN0ZW0uZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtcbiAgcmV0dXJuIHsgeCwgeSB9O1xuXG4gIC8vIElmIHRoZXJlIGlzIHNvbWUgaXNzdWUgd2l0aCBjb29yZGluYXRlcywgdGhpcyBtYXkgZml4IHRoZSBpc3N1ZTpcbiAgLy8gY29uc3Qgc3ZnID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdTVkdFbGVtZW50PignI3N2Z19ncm91cCcpO1xuICAvLyBjb25zdCB7IHgsIHkgfSA9IHB0Lm1hdHJpeFRyYW5zZm9ybShzdmcuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpKTtcbn1cblxuLyoqXG4gKiBHZXQgSUQgb2Ygc3RhZmYgYnkgY2xpZW50J3MgeC15IGNvb3JkaW5hdGVzLlxuICogVGhpcyBmdW5jdGlvbiBjb25zaWRlcnMgdGhlICp2aXN1YWwqIGJvdW5kaW5nIGJveCBvZiB0aGUgc3RhZmZcbiAqIGJhc2VkIG9uIGl0cyBzdGFmZiBsaW5lcywgaW5zdGVhZCBvZiB0aGUgU1ZHIGVsZW1lbnQgaXRzZWxmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZJZEJ5Q29vcmRzIChjbGllbnRYOiBudW1iZXIsIGNsaWVudFk6IG51bWJlcik6IHN0cmluZyB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbDxTVkdHRWxlbWVudD4oJy5zdGFmZicpKTtcbiAgY29uc3Qgc3RhZmZCQm94ZXMgPSBzdGF2ZXMubWFwKHN0YWZmID0+IGdldFN0YWZmQkJveChzdGFmZikpO1xuXG4gIC8vIGZpbmQgdGhlIHN0YWZmIHRoYXQgdGhlIGN1cnNvciBpcyBpbnNpZGVcbiAgY29uc3QgeyB4LCB5IH0gPSBnZXRTVkdSZWxDb29yZHMoY2xpZW50WCwgY2xpZW50WSk7XG4gIGNvbnN0IHN0YWZmID0gc3RhZmZCQm94ZXMuZmluZChcbiAgICAoYmJveCkgPT4geCA8PSBiYm94LmxyeCAmJiB4ID49IGJib3gudWx4ICYmIHkgPD0gYmJveC5scnkgJiYgeSA+PSBiYm94LnVseVxuICApOyBcblxuICAvLyBJZiB0aGVyZSBpcyBpc3N1ZXMgd2l0aCBmaW5kaW5nIHRoZSBzdGFmZiwgdGhpcyBtYXkgYmUgbW9yZSBhY2N1cmF0ZTpcbiAgLy8gcmV0dXJuIChwdC54ID4gdWx4ICYmIHB0LnggPCBscngpICYmXG4gIC8vICAgKHB0LnkgPiAodWx5ICsgKHB0LnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSkpICYmXG4gIC8vICAgKHB0LnkgPCAobHJ5IC0gKGxyeCAtIHB0LngpICogTWF0aC50YW4ocm90YXRlKSkpO1xuXG4gIC8vIGlmIHRoZSBjdXJzb3IgaXMgbm90IGluc2lkZSBhbnkgc3RhZmYsIHRoZW4gZXhwbGljaXRseSByZXR1cm4gbnVsbFxuICByZXR1cm4gc3RhZmYgPyBzdGFmZi5pZCA6IG51bGw7XG59XG5cbi8qKlxuICogR2V0IHN0YWZmIGJ5IGNsaWVudCdzIHgteSBjb29yZGluYXRlczsgd3JhcHBlciBmb3IgZ2V0U3RhZmZJZEJ5Q29vcmRzLCBidXRcbiAqICAgcmV0dXJucyB0aGUgZWxlbWVudCwgbm90IHRoZSBJRFxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0U3RhZmZCeUNvb3JkcyAoY2xpZW50WDogbnVtYmVyLCBjbGllbnRZOiBudW1iZXIpOiBTVkdHRWxlbWVudCB8IG51bGwge1xuICBjb25zdCBzdGFmZklkID0gZ2V0U3RhZmZJZEJ5Q29vcmRzKGNsaWVudFgsIGNsaWVudFkpO1xuICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7c3RhZmZJZH1gKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGlzT3V0T2ZTVkdCb3VuZHMgKHg6IG51bWJlciwgeTogbnVtYmVyKTogYm9vbGVhbiB7XG4gIGNvbnN0IGJnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxTVkdJbWFnZUVsZW1lbnQ+KCcjYmdpbWcnKTtcbiAgXG4gIHJldHVybiAoXG4gICAgeCA8PSAwIHx8IHggPj0gTnVtYmVyKGJnSW1nLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSkgfHxcbiAgICB5IDw9IDAgfHwgeSA+PSBOdW1iZXIoYmdJbWcuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSlcbiAgKTtcbn1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgYm94IChscngsIGxyeSwgdWx4LCB1bHkpIG9mIGEgZ2x5cGgsIHdoaWNoXG4gKiBpcyBhIDx1c2U+IGVsZW1lbnQgaW4gdGhlIFNWR1xuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0R2x5cGhCQm94IChnOiBTVkdSZWN0RWxlbWVudCB8IFNWR1VzZUVsZW1lbnQpOiBCQm94IHtcbiAgY29uc3QgcmVjdCA9IChnLnRhZ05hbWUgPT0gJ3JlY3QnKSA/IGcuZ2V0QkJveCgpIDogKGcucGFyZW50Tm9kZSBhcyBTVkdHRWxlbWVudCkuZ2V0QkJveCgpO1xuXG4gIHJldHVybiB7XG4gICAgdWx4OiByZWN0LngsXG4gICAgdWx5OiByZWN0LnksXG4gICAgbHJ4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgIGxyeTogcmVjdC55ICsgcmVjdC5oZWlnaHRcbiAgfTtcbn1cblxuIiwiaW1wb3J0ICogYXMgQ29udGVudHMgZnJvbSAnLi9Db250ZW50cyc7XG5pbXBvcnQgKiBhcyBHcm91cGluZyBmcm9tICcuL0dyb3VwaW5nJztcbmltcG9ydCBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdFN0YWZmSGFuZGxlciB9IGZyb20gJy4vU3RhZmZUb29scyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lSGFuZGxlciB9IGZyb20gJy4vTmV1bWVUb29scyc7XG5pbXBvcnQge1xuICBDaGFpbkFjdGlvbixcbiAgQ2hhbmdlU3RhZmZBY3Rpb24sXG4gIERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbixcbiAgRWRpdG9yQWN0aW9uLFxuICBSZW1vdmVBY3Rpb24sXG4gIFNldEFjdGlvbixcbiAgU2V0Q2xlZkFjdGlvblxufSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBnZXRTdGFmZkJCb3ggfSBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBjYWxsIGVkaXRvciBhY3Rpb25zLlxuICovXG5sZXQgbmVvblZpZXc6IE5lb25WaWV3O1xuXG4vKipcbiAqIEluaXRpYWxpemUgTmVvblZpZXcuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmVvblZpZXcgKHZpZXc6IE5lb25WaWV3KTogdm9pZCB7XG4gIG5lb25WaWV3ID0gdmlldztcbiAgR3JvdXBpbmcuaW5pdE5lb25WaWV3KHZpZXcpO1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBpbmNsaW5hdHVtIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0SW5jbGluYXR1bUFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSB2aXJnYSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldFZpcmdhQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIHJldmVyc2VkIHZpcmdhIHBhcmFtZXRlciBvZiBhIG5ldW1lIGNvbXBvbmVudC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbiAoaWQ6IHN0cmluZyk6IFNldEFjdGlvbiB7XG4gIHJldHVybiB7XG4gICAgYWN0aW9uOiAnc2V0JyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKipcbiAqIEBwYXJhbSBpZCAtIFRoZSBpZCBvZiB0aGUgbmV1bWUgY29tcG9uZW50LlxuICogQHJldHVybnMgQW4gYWN0aW9uIHRoYXQgdW5zZXRzIHRoZSBsaXF1ZXNjZW50X2Nsb2Nrd2lzZSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24gKGlkOiBzdHJpbmcpOiBTZXRBY3Rpb24ge1xuICByZXR1cm4ge1xuICAgIGFjdGlvbjogJ3NldCcsXG4gICAgcGFyYW06IHtcbiAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICBhdHRyVHlwZTogJ2N1cnZlJyxcbiAgICAgIGF0dHJWYWx1ZTogJydcbiAgICB9XG4gIH07XG59XG5cbi8qKlxuICogQHBhcmFtIGlkIC0gVGhlIGlkIG9mIHRoZSBuZXVtZSBjb21wb25lbnQuXG4gKiBAcmV0dXJucyBBbiBhY3Rpb24gdGhhdCB1bnNldHMgdGhlIGxpcXVlc2NlbnRfYW50aWNsb2Nrd2lzZSBwYXJhbWV0ZXIgb2YgYSBuZXVtZSBjb21wb25lbnQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uIChpZDogc3RyaW5nKTogU2V0QWN0aW9uIHtcbiAgcmV0dXJuIHtcbiAgICBhY3Rpb246ICdzZXQnLFxuICAgIHBhcmFtOiB7XG4gICAgICBlbGVtZW50SWQ6IGlkLFxuICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICBhdHRyVmFsdWU6ICcnXG4gICAgfVxuICB9O1xufVxuXG4vKiogRXZlbnQgaGFuZGxlciBmb3IgZGVsZXRlIGJ1dHRvbiBwcmVzcy4gKi9cbmV4cG9ydCBmdW5jdGlvbiBkZWxldGVCdXR0b25IYW5kbGVyIChldnQ6IEtleWJvYXJkRXZlbnQpOiB2b2lkIHtcbiAgaWYgKGV2dC5rZXkgPT09ICdkJyB8fCBldnQua2V5ID09PSAnQmFja3NwYWNlJykgeyByZW1vdmVIYW5kbGVyKCk7IGV2dC5wcmV2ZW50RGVmYXVsdCgpOyB9XG59XG5cbi8qKlxuICogRW5kIHRoZSBleHRyYSBvcHRpb25zIG1lbnUuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmRPcHRpb25zU2VsZWN0aW9uICgpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgY29uc3QgZXh0cmFFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpO1xuICBpZiAobW9yZUVkaXQpIHtcbiAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICB9XG4gIGlmIChleHRyYUVkaXQpIHtcbiAgICBleHRyYUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgZXh0cmFFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gIH1cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG59XG5cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgcmVtb3ZpbmcgZWxlbWVudHNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlbW92ZUhhbmRsZXIgKCk6IHZvaWQge1xuICBjb25zdCB0b1JlbW92ZTogUmVtb3ZlQWN0aW9uW10gPSBbXTtcbiAgY29uc3Qgc2VsZWN0ZWQgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpO1xuICBzZWxlY3RlZC5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2FjY2lkJykpIHtcbiAgICAgIGVsZW0gPSBlbGVtLmNsb3Nlc3QoJy5hY2NpZCcpO1xuICAgIH1cbiAgICBpZiAoZWxlbS5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgICAgZWxlbSA9IGVsZW0uY2xvc2VzdCgnLmRpdkxpbmUnKTtcbiAgICB9XG4gICAgdG9SZW1vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW0uaWRcbiAgICAgICAgfVxuICAgICAgfVxuICAgICk7XG4gIH0pO1xuICBjb25zdCBjaGFpbkFjdGlvbjogQ2hhaW5BY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b1JlbW92ZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSByZS1hc3NvY2lhdGluZyBlbGVtZW50cyB0byB0aGUgbmVhcmVzdCBzdGFmZlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hhbmdlU3RhZmZIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b0NoYW5nZTogQ2hhbmdlU3RhZmZBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9DaGFuZ2UucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnY2hhbmdlU3RhZmYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbS5pZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfSk7XG4gIGNvbnN0IGNoYWluQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgIHBhcmFtOiB0b0NoYW5nZVxuICB9O1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7IG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xufVxuXG4vKipcbiAqIEZ1bmN0aW9uIHRvIGhhbmRsZSBpbnNlcnRpbmcgZGl2aXNpbyBvciBhY2NpZGVudGFsIGludG8gbmVhcmVzdCBzeWxsYWJsZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5zZXJ0VG9TeWxsYWJsZUhhbmRsZXIoKTogdm9pZCB7XG4gIGNvbnN0IHRvSW5zZXJ0OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICBjb25zdCBzZWxlY3RlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIHNlbGVjdGVkLmZvckVhY2goZWxlbSA9PiB7XG4gICAgdG9JbnNlcnQucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnaW5zZXJ0VG9TeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9JbnNlcnRcbiAgfTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHsgXG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdJbnNlcnQgU3VjY2VzcycsICdzdWNjZXNzJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignSW5zZXJ0IEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBoYW5kbGUgbW92aW5nIGRpdmlzaW8gb3IgYWNjaWRlbnRhbCBvdXQgb2Ygc3lsbGFibGVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1vdmVPdXRzaWRlU3lsbGFibGVIYW5kbGVyKCk6IHZvaWQge1xuICBjb25zdCB0b01vdmU6IEVkaXRvckFjdGlvbltdID0gW107XG4gIGNvbnN0IHNlbGVjdGVkID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgc2VsZWN0ZWQuZm9yRWFjaChlbGVtID0+IHtcbiAgICB0b01vdmUucHVzaChcbiAgICAgIHtcbiAgICAgICAgYWN0aW9uOiAnbW92ZU91dHNpZGVTeWxsYWJsZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtLmlkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICApO1xuICB9KTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IENoYWluQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ2NoYWluJyxcbiAgICBwYXJhbTogdG9Nb3ZlXG4gIH07XG4gIG5lb25WaWV3LmVkaXQoY2hhaW5BY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7IFxuICAgIGlmIChyZXN1bHQpIHtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTW92ZSBTdWNjZXNzJywgJ3N1Y2Nlc3MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNb3ZlIEZhaWxlZCBYb1gnLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IFxuICB9KTtcbn1cblxuXG5mdW5jdGlvbiBhZGREZWxldGVMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3QgZGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZScpO1xuXG4gIGlmIChkZWwpIHtcbiAgICBkZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcblxuICAgIC8vIFRPRE86IHNob3VsZCB0aGlzIGJlIG91dHNpZGUgdGhlIGlmIGNvbmRpdGlvbj9cbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBkZWxldGVCdXR0b25IYW5kbGVyKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hhbmdlU3RhZmYnKTtcbiAgc3RhZmY/LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbiAgc3RhZmY/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2hhbmdlU3RhZmZIYW5kbGVyKTtcbn1cblxuLyoqXG4gKiBGdW5jdGlvbiB0byBzZXQgdGhlIEhUTUwgY29udGVudCBvZiBlZGl0IGNvbnRyb2xzOiBlaXRoZXIgI21vcmVFZGl0IG9yICNleHRyYUVkaXRcbiAqXG4gKiBAcGFyYW0geydtb3JlRWRpdCcgfCAnZXh0cmFFZGl0J30gZWRpdFR5cGUgLSBUaGUgdHlwZSBvZiBlZGl0IGNvbnRyb2xzXG4gKiBAcGFyYW0ge3N0cmluZ30gY29udGVudHMgLSBUaGUgaW5uZXJIVE1MIGNvbnRlbnRzXG4gKiBAcGFyYW0ge2Jvb2xlYW59IHJlcGxhY2UgLSBJcyB0aGUgaW5uZXJIVE1MIGJlaW5nIHJlcGxhY2VkLCBvciBiZWluZyBhZGRlZCB0bz9cbiAqL1xuZnVuY3Rpb24gc2V0RWRpdENvbnRyb2xzKGVkaXRUeXBlOiAnbW9yZUVkaXQnIHwgJ2V4dHJhRWRpdCcsIGNvbnRlbnRzOiBzdHJpbmcsIHJlcGxhY2UgPSB0cnVlKTogdm9pZCB7XG4gIGNvbnN0IGVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlZGl0VHlwZSk7XG4gIFxuICBpZiAoZWRpdCkge1xuICAgIGVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgICBpZiAocmVwbGFjZSkgZWRpdC5pbm5lckhUTUwgPSBjb250ZW50cztcbiAgICBlbHNlIGVkaXQuaW5uZXJIVE1MICs9IGNvbnRlbnRzO1xuICB9XG59XG5cbi8qKlxuICogVHJpZ2dlciB0aGUgZXh0cmEgbmMgYWN0aW9uIG1lbnUgZm9yIGEgc2VsZWN0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlck5jQWN0aW9ucyAobmM6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHRBY3Rpb25Db250ZW50cyk7XG4gIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMubmNBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1B1bmN0dW0uZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSBdIH0sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNJbmNsaW5hdHVtLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2VBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3Qgc2V0SW5jbGluYXR1bTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzZSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0VmlyZ2EsIHVuc2V0VmlyZ2FSZXZlcnNlZCwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRJbmNsaW5hdHVtIF0gfSAsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNWaXJnYS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldFZpcmdhUmV2ZXJzZWQgPSB1bnNldFZpcmdhUmV2ZXJzZWRBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRWaXJnYTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICd0aWx0JyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdzJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldEluY2xpbmF0dW0sIHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSwgdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZSwgc2V0VmlyZ2EgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVmlyZ2FSZXZlcnNlZC5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UgPSB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHNldFZpcmdhUmV2ZXJzZWQ6IFNldEFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IG5jLmlkLFxuICAgICAgICAgIGF0dHJUeXBlOiAndGlsdCcsXG4gICAgICAgICAgYXR0clZhbHVlOiAnbidcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRMaXF1ZXNjZW50Q2xvY2t3aXNlLCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlLCBzZXRWaXJnYVJldmVyc2VkIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0xpcXVlc2NlbnRDbG9ja3dpc2UuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgdW5zZXRJbmNsaW5hdHVtID0gdW5zZXRJbmNsaW5hdHVtQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2EgPSB1bnNldFZpcmdhQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0VmlyZ2FSZXZlcnNlZCA9IHVuc2V0VmlyZ2FSZXZlcnNlZEFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCB1bnNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlID0gdW5zZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50Q2xvY2t3aXNlOiBTZXRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBuYy5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2N1cnZlJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdjJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdCh7IGFjdGlvbjogJ2NoYWluJywgcGFyYW06IFsgdW5zZXRJbmNsaW5hdHVtLCB1bnNldFZpcmdhLCB1bnNldFZpcmdhUmV2ZXJzZWQsIHVuc2V0TGlxdWVzY2VudEFudGljbG9ja3dpc2UsIHNldExpcXVlc2NlbnRDbG9ja3dpc2UgXSB9LCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTsgIFxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZS5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCB1bnNldEluY2xpbmF0dW0gPSB1bnNldEluY2xpbmF0dW1BY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYSA9IHVuc2V0VmlyZ2FBY3Rpb24obmMuaWQpO1xuICAgICAgY29uc3QgdW5zZXRWaXJnYVJldmVyc2VkID0gdW5zZXRWaXJnYVJldmVyc2VkQWN0aW9uKG5jLmlkKTtcbiAgICAgIGNvbnN0IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZSA9IHVuc2V0TGlxdWVzY2VudENsb2Nrd2lzZUFjdGlvbihuYy5pZCk7XG4gICAgICBjb25zdCBzZXRMaXF1ZXNjZW50QW50aWNsb2Nrd2lzZTogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogbmMuaWQsXG4gICAgICAgICAgYXR0clR5cGU6ICdjdXJ2ZScsXG4gICAgICAgICAgYXR0clZhbHVlOiAnYSdcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICAgIG5lb25WaWV3LmVkaXQoeyBhY3Rpb246ICdjaGFpbicsIHBhcmFtOiBbIHVuc2V0SW5jbGluYXR1bSwgdW5zZXRWaXJnYSwgdW5zZXRWaXJnYVJldmVyc2VkLCB1bnNldExpcXVlc2NlbnRDbG9ja3dpc2UsIHNldExpcXVlc2NlbnRBbnRpY2xvY2t3aXNlIF0gfSwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7ICBcblxuICBpbml0T3B0aW9uc0xpc3RlbmVycygpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZXh0cmEgbmV1bWUgYWN0aW9ucy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRyaWdnZXJOZXVtZUFjdGlvbnMgKCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLmRlZmF1bHROZXVtZUFjdGlvbkNvbnRlbnRzKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5uZXVtZUFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcblxuICBjb25zdCBuZXVtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpO1xuICBpZiAobmV1bWUubGVuZ3RoICE9PSAxKSB7XG4gICAgY29uc29sZS53YXJuKCdNb3JlIHRoYW4gb25lIG5ldW1lIHNlbGVjdGVkISBDYW5ub3QgdHJpZ2dlciBOZXVtZSBDbGlja1NlbGVjdCBhY3Rpb25zLicpO1xuICAgIHJldHVybjtcbiAgfVxuXG4gIC8vIFRPRE8gYWRkIHRyaWdnZXIgZm9yIHNwbGl0IGFjdGlvblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BsaXQtbmV1bWUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IG5ldW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm5ldW1lLnNlbGVjdGVkJykgYXMgU1ZHR0VsZW1lbnQ7XG4gICAgICBpZiAobmV1bWUgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc3BsaXQgPSBuZXcgU3BsaXROZXVtZUhhbmRsZXIobmVvblZpZXcsIG5ldW1lKTtcbiAgICAgICAgc3BsaXQuc3RhcnRTcGxpdCgpO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQhJyk7XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUGVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjUGVzU3VicHVuY3Rpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaXZpcy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1NjYW5kaWN1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1NjYW5kaWN1c0ZsZXh1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1NjYW5kaWN1c1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNDbGltYWN1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0NsaW1hY3VzUmVzdXBpbnVzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjVG9yY3VsdXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNUb3JjdWx1c1Jlc3VwaW51cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BvcnJlY3R1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BvcnJlY3R1c0ZsZXh1cy5kcm9wZG93bi1pdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgICAgY29uc3QgY29udG91ciA9IG5lb25WaWV3LmluZm8uZ2V0Q29udG91ckJ5VmFsdWUoKGUudGFyZ2V0IGFzIEhUTUxFbGVtZW50KS5pZCk7XG4gICAgICB0cmlnZ2VyQ2hhbmdlR3JvdXAoY29udG91cik7IFxuICAgIH0pOyBcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI1BvcnJlY3R1c1N1YnB1bmN0aXMuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICAgIGNvbnN0IGNvbnRvdXIgPSBuZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKChlLnRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQpO1xuICAgICAgdHJpZ2dlckNoYW5nZUdyb3VwKGNvbnRvdXIpOyBcbiAgICB9KTsgXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNQcmVzc3VzLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyQnlWYWx1ZSgoZS50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLmlkKTtcbiAgICAgIHRyaWdnZXJDaGFuZ2VHcm91cChjb250b3VyKTsgXG4gICAgfSk7IFxuXG4gIGZ1bmN0aW9uIHRyaWdnZXJDaGFuZ2VHcm91cCAoY29udG91cjogc3RyaW5nKTogdm9pZCB7XG4gICAgY29uc3QgY2hhbmdlR3JvdXBpbmdBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgIGFjdGlvbjogJ2NoYW5nZUdyb3VwJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogbmV1bWVbMF0uaWQsXG4gICAgICAgIGNvbnRvdXI6IGNvbnRvdXJcbiAgICAgIH1cbiAgICB9O1xuICAgIG5lb25WaWV3LmVkaXQoY2hhbmdlR3JvdXBpbmdBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICB9KTtcbiAgfVxuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG59XG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBzeWxsYWJsZSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN5bGxhYmxlQWN0aW9ucyAoc2VsZWN0aW9uVHlwZTogc3RyaW5nKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcblxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3lsbGFibGVBY3Rpb25zQ29udGVudCk7XG4gIC8vIGluaXRpYWxpemUgdmFyaWFibGUgdGhhdCB3aWxsIGhvbGQgaHRtbCB0byBiZSBhZGRlZCB0byBEaXNwbGF5IHBhbmVsXG4gIGxldCBleHRyYUFjdGlvbnNIVE1MID0gJyc7XG5cbiAgLy8gZGV0ZXJtaW5lIHRoZSB0eXBlIG9mIHNlbGVjdGlvbiB0aGF0IHdhcyBtYWRlIGJ5IHRoZSB1c2VyXG4gIHN3aXRjaChzZWxlY3Rpb25UeXBlKSB7XG4gICAgLy8gb25seSBvbmUgc3lsbGFibGVcbiAgICBjYXNlICdzaW5nbGVTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ1bmdyb3VwTmV1bWVzXCI+VW5ncm91cDwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICAgIC8vIHR3byBzeWxsYWJsZXMgb24gc2VwYXJhdGUgc3RhdmVzXG4gICAgY2FzZSAnbGlua2FibGVTZWxlY3QnOlxuICAgICAgZXh0cmFBY3Rpb25zSFRNTCArPSBcbiAgICAgICAgYDxkaXYgY2xhc3M9XCJyaWdodC1zaWRlLXBhbmVsLWJ0bnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJ0b2dnbGUtbGlua1wiPlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy8gdG93IG9yIG1vcmUgc3lsbGFibGVzIG9uIG9uZSBzdGFmZlxuICAgIGNhc2UgJ211bHRpU2VsZWN0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwibWVyZ2VTeWxzXCI+TWVyZ2UgU3lsbGFibGVzPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJjaGFuZ2VTdGFmZlwiPlJlLWFzc29jaWF0ZSB0byBuZWFyZXN0IHN0YWZmPC9idXR0b24+XG4gICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkZWxldGVcIj5EZWxldGU8L2J1dHRvbj5cbiAgICAgICAgPC9kaXY+YDtcbiAgICAgIGJyZWFrO1xuXG4gICAgLy9kZWZhdWx0IG9wdGlvbnNcbiAgICBjYXNlICdkZWZhdWx0JzpcbiAgICAgIGV4dHJhQWN0aW9uc0hUTUwgKz0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwicmlnaHQtc2lkZS1wYW5lbC1idG5zLWNvbnRhaW5lclwiPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiY2hhbmdlU3RhZmZcIj5SZS1hc3NvY2lhdGUgdG8gbmVhcmVzdCBzdGFmZjwvYnV0dG9uPlxuICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiZGVsZXRlXCI+RGVsZXRlPC9idXR0b24+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBicmVhaztcblxuICB9XG5cbiAgLy8gc2V0IGNvbnRlbnQgb2YgYWRkaXRpb25hbCBhY3Rpb25zIGluIERpc3BsYXkgcGFuZWwgXG4gIC8vIGFuZCBpbml0aWFsaXplIG5lY2Vzc2FyeSBsaXN0ZW5lcnNcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIGV4dHJhQWN0aW9uc0hUTUwsIHRydWUpO1xuICBhZGRDaGFuZ2VTdGFmZkxpc3RlbmVyKCk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG4gIEdyb3VwaW5nLmluaXRHcm91cGluZ0xpc3RlbmVycygpO1xufVxuXG5cbi8qKlxuICogVHJpZ2dlciBleHRyYSBsYXllciBlbGVtZW50IChhY2NpZCwgZGl2TGluZSwgY3VzdG9zLCBjbGVmKSBhY3Rpb25zLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckxheWVyRWxlbWVudEFjdGlvbnMgKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG5cbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjdXN0b3MnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnbW9yZUVkaXQnLCBDb250ZW50cy5jdXN0b3NBY3Rpb25Db250ZW50cyk7XG4gICAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICAgIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgICByZXR1cm47XG4gIH1cbiAgXG4gIGNvbnN0IHBhcmVudElzU3lsbGFibGUgPSBlbGVtZW50LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpO1xuICBjb25zdCBsYXllckVsZW1lbnRBY3Rpb25zID0gcGFyZW50SXNTeWxsYWJsZVxuICAgID8gQ29udGVudHMubGF5ZXJFbGVtZW50SW5BY3Rpb25Db250ZW50c1xuICAgIDogQ29udGVudHMubGF5ZXJFbGVtZW50T3V0QWN0aW9uQ29udGVudHM7XG4gIFxuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgbGF5ZXJFbGVtZW50QWN0aW9ucywgZmFsc2UpO1xuICBcbiAgLy8gZXh0cmEgYWN0aW9ucyBmb3IgYWNjaWQgYW5kIGRpdkxpbmVcbiAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdhY2NpZCcpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5hY2NpZEFjdGlvbkNvbnRlbnRzKTtcbiAgICBhY2NpZE9wdGlvbnNMaXN0ZW5lcihlbGVtZW50KTtcbiAgfVxuICBlbHNlIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnY2xlZicpKSB7XG4gICAgc2V0RWRpdENvbnRyb2xzKCdleHRyYUVkaXQnLCBDb250ZW50cy5jbGVmQWN0aW9uQ29udGVudHMpO1xuICAgIGNsZWZPcHRpb25zTGlzdGVuZXIoZWxlbWVudCk7XG4gIH1cbiAgZWxzZSBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ2RpdkxpbmUnKSkge1xuICAgIHNldEVkaXRDb250cm9scygnZXh0cmFFZGl0JywgQ29udGVudHMuZGl2TGluZUFjdGlvbkNvbnRlbnRzKTtcbiAgICBkaXZMaW5lT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQpO1xuICB9XG4gIGFkZENoYW5nZVN0YWZmTGlzdGVuZXIoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydFRvU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBpbnNlcnRUb1N5bGxhYmxlSGFuZGxlcik7XG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3ZlT3V0c2lkZVN5bGxhYmxlJyk/LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgbW92ZU91dHNpZGVTeWxsYWJsZUhhbmRsZXIpO1xuXG4gXG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0VG9TeWxsYWJsZScpPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGluc2VydFRvU3lsbGFibGVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vdmVPdXRzaWRlU3lsbGFibGUnKT8uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBtb3ZlT3V0c2lkZVN5bGxhYmxlSGFuZGxlcik7XG59XG5cbmZ1bmN0aW9uIGFjY2lkT3B0aW9uc0xpc3RlbmVyKGVsZW1lbnQ6IFNWR0dyYXBoaWNzRWxlbWVudCk6IHZvaWQge1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9GbGF0LmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoYW5nZVRvRmxhdDogU2V0QWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2FjY2lkJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICdmJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChjaGFuZ2VUb0ZsYXQsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ2hhbmdlVG9OYXR1cmFsLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGNoYW5nZVRvTmF0dXJhbDogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBhdHRyVHlwZTogJ2FjY2lkJyxcbiAgICAgICAgICBhdHRyVmFsdWU6ICduJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChjaGFuZ2VUb05hdHVyYWwsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZWQnLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGluaXRPcHRpb25zTGlzdGVuZXJzKCk7XG5cbn1cblxuZnVuY3Rpb24gY2xlZk9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luY3JlbWVudC1vY3RhdmUnKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGluY3JlbWVudE9jdGF2ZTogRGlzcGxhY2VDbGVmT2N0YXZlQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdkaXNwbGFjZUNsZWZPY3RhdmUnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBkaXJlY3Rpb246ICdhYm92ZSdcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChpbmNyZW1lbnRPY3RhdmUsIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsZWYgb2N0YXZlIGluY3JlbWVudGVkLicsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdNYXhpbXVtIG9jdGF2ZSBkaXNwbGFjZW1lbnQgcmVhY2hlZC4gQ2xlZiBjYW4gb25seSBiZSBkaXNwbGFjZWQgdXAgdG8gMyBvY3RhdmVzLicsICdlcnJvcicpO1xuICAgICAgICB9XG4gICAgICAgIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkZWNyZW1lbnQtb2N0YXZlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBpbmNyZW1lbnRPY3RhdmU6IERpc3BsYWNlQ2xlZk9jdGF2ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZGlzcGxhY2VDbGVmT2N0YXZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgZGlyZWN0aW9uOiAnYmVsb3cnXG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIG5lb25WaWV3LmVkaXQoaW5jcmVtZW50T2N0YXZlLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdDbGVmIG9jdGF2ZSBkZWNyZW1lbnRlZC4nLCAnc3VjY2VzcycpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTWF4aW11bSBvY3RhdmUgZGlzcGxhY2VtZW50IHJlYWNoZWQuIENsZWYgY2FuIG9ubHkgYmUgZGlzcGxhY2VkIHVwIHRvIDMgb2N0YXZlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjQ0NsZWYuZHJvcGRvd24taXRlbScpXG4gICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3Qgc2V0Q0NsZWY6IFNldENsZWZBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldENsZWYnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudC5pZCxcbiAgICAgICAgICBzaGFwZTogJ0MnXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KHNldENDbGVmLCBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2VkJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NoYXBlIENoYW5nZSBGYWlsZWQnLCAnZXJyb3InKTtcbiAgICAgICAgfVxuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI0ZDbGVmLmRyb3Bkb3duLWl0ZW0nKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IHNldEZDbGVmOiBTZXRDbGVmQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdzZXRDbGVmJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgc2hhcGU6ICdGJ1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChzZXRGQ2xlZiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2hhcGUgQ2hhbmdlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTaGFwZSBDaGFuZ2UgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuZnVuY3Rpb24gZGl2TGluZU9wdGlvbnNMaXN0ZW5lcihlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQpOiB2b2lkIHtcbiAgLy8gVE9ETzogd2FpdCBvbiB2ZXJvdmlvIGFjdGlvbnNcbiAgaW5pdE9wdGlvbnNMaXN0ZW5lcnMoKTtcbn1cblxuLyoqXG4gKiBUcmlnZ2VyIGV4dHJhIHN0YWZmIGFjdGlvbnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiB0cmlnZ2VyU3RhZmZBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuc3RhZmZBY3Rpb25Db250ZW50cyk7XG4gIGFkZERlbGV0ZUxpc3RlbmVyKCk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21lcmdlLXN5c3RlbXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBHcm91cGluZy5tZXJnZVN0YXZlcygpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBFbnRlciBzdGFmZiBzcGxpdHRpbmcgbW9kZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclN0YWZmU3BsaXRNb2RlICgpOiB2b2lkIHtcbiAgY29uc3Qgc3RhZmYgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3RhZmYuc2VsZWN0ZWQnKSBhcyBTVkdHRWxlbWVudDtcbiAgaWYgKHN0YWZmICE9PSBudWxsKSB7XG4gICAgY29uc3Qgc3BsaXQgPSBuZXcgU3BsaXRTdGFmZkhhbmRsZXIobmVvblZpZXcsIHN0YWZmKTtcbiAgICBzcGxpdC5zdGFydFNwbGl0KCk7XG4gICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICB9IGVsc2Uge1xuICAgIGNvbnNvbGUuZXJyb3IoJ05vIHN0YWZmIHdhcyBzZWxlY3RlZCEnKTtcbiAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gIH1cbn1cblxuLyoqXG4gKiBUcmlnZ2VyIHNwbGl0IHN0YWZmIG9wdGlvblxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlclNwbGl0QWN0aW9ucyAoKTogdm9pZCB7XG4gIGVuZE9wdGlvbnNTZWxlY3Rpb24oKTtcbiAgc2V0RWRpdENvbnRyb2xzKCdtb3JlRWRpdCcsIENvbnRlbnRzLnNwbGl0QWN0aW9uQ29udGVudHMpO1xuICBhZGREZWxldGVMaXN0ZW5lcigpO1xuXG4gIC8vIFRPRE8gYWRkIHRyaWdnZXIgZm9yIHNwbGl0IGFjdGlvblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3BsaXQtc3lzdGVtJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0cmlnZ2VyU3RhZmZTcGxpdE1vZGUoKTtcbiAgICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVzZXQtcm90YXRlJylcbiAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBzdGFmZiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zdGFmZi5zZWxlY3RlZCcpIGFzIFNWR0VsZW1lbnQ7XG4gICAgICAvLyBVbnVzZWQgdmFyaWFibGVzOlxuICAgICAgLy8gY29uc3QgcmVjdCA9IHN0YWZmLnF1ZXJ5U2VsZWN0b3IoJyNyZXNpemVSZWN0Jyk7XG4gICAgICAvLyBjb25zdCBjbyA9IHJlY3QuZ2V0QXR0cmlidXRlKCdwb2ludHMnKS5zcGxpdCgnICcpO1xuICAgICAgLy8gY29uc3QgZHkgPSBwYXJzZUludChjb1swXS5zcGxpdCgnLCcpWzFdKSAtIHBhcnNlSW50KGNvWzFdLnNwbGl0KCcsJylbMV0pO1xuICAgICAgY29uc3QgcG9pbnRzID0gZ2V0U3RhZmZCQm94KHN0YWZmIGFzIFNWR0dFbGVtZW50KTtcbiAgICAgIGNvbnN0IHlfY2hhbmdlID0gTWF0aC50YW4ocG9pbnRzLnJvdGF0ZSkqKHBvaW50cy5scnggLSBwb2ludHMudWx4KTtcbiAgICAgIGlmIChzdGFmZiAhPT0gbnVsbCkge1xuICAgICAgICBjb25zdCBlZGl0b3JBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246ICdyZXNpemVSb3RhdGUnLFxuICAgICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgICBlbGVtZW50SWQ6IHN0YWZmLmlkLFxuICAgICAgICAgICAgdWx4OiBwb2ludHMudWx4LFxuICAgICAgICAgICAgdWx5OiBwb2ludHMucm90YXRlID4gMCA/IHBvaW50cy51bHkgKyB5X2NoYW5nZS8yIDogcG9pbnRzLnVseSAtIHlfY2hhbmdlLzIsXG4gICAgICAgICAgICBscng6IHBvaW50cy5scngsXG4gICAgICAgICAgICBscnk6IHBvaW50cy5yb3RhdGUgPiAwID8gcG9pbnRzLmxyeSAtIHlfY2hhbmdlLzIgOiBwb2ludHMubHJ5ICsgeV9jaGFuZ2UvMixcbiAgICAgICAgICAgIHJvdGF0ZTogMFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgYXdhaXQgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBlbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdObyBzdGFmZiB3YXMgc2VsZWN0ZWQnKTtcbiAgICAgICAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICAgICAgfVxuICAgIH0pO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBhY3Rpb25zIHdoZW4gc2VsZWN0aW5nIGJ5IHN5bFxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRTeWxBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdFN5bEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbiAgYWRkQ2hhbmdlU3RhZmZMaXN0ZW5lcigpO1xufVxuXG4vKipcbiAqIFRyaWdnZXIgZGVmYXVsdCBzZWxlY3Rpb24gb3B0aW9uLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckRlZmF1bHRBY3Rpb25zICgpOiB2b2lkIHtcbiAgZW5kT3B0aW9uc1NlbGVjdGlvbigpO1xuICBzZXRFZGl0Q29udHJvbHMoJ21vcmVFZGl0JywgQ29udGVudHMuZGVmYXVsdEFjdGlvbkNvbnRlbnRzKTtcbiAgYWRkRGVsZXRlTGlzdGVuZXIoKTtcbn1cblxuLyoqXG4gKiBJbml0aWFsaXplIGV4dHJhIGRyb3Bkb3duIG9wdGlvbnM6XG4gKiBMaXN0ZW4gdG8gY2xpY2tzIG9uIGRyb3Bkb3duc1xuICovXG5mdW5jdGlvbiBpbml0T3B0aW9uc0xpc3RlbmVycyAoKTogdm9pZCB7XG4gIGRvY3VtZW50XG4gICAgLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpXG4gICAgLmZvckVhY2goXG4gICAgICBkcm9wID0+IHtcbiAgICAgICAgLy8gV2hlbiBhbnl0aGluZyB0aGF0IGlzIG5vdCB0aGUgZHJvcGRvd24gaXMgY2xpY2tlZCBhd2F5LCB0aGUgZHJvcGRvd25cbiAgICAgICAgLy8gc2hvdWxkIGxvc2UgaXRzIHZpc2liaWxpdHlcbiAgICAgICAgY29uc3Qgb3B0aW9uc0NsaWNrYXdheSA9ICgpID0+IHtcbiAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgICAgfTtcblxuICAgICAgICBkcm9wLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2dCkgPT4ge1xuICAgICAgICAgIC8vIFRvZ2dsZSB2aXNpYmlsaXR5IG9mIGRyb3Bkb3duXG4gICAgICAgICAgZHJvcC5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcblxuICAgICAgICAgIC8vIFJlbW92ZSB2aXNpYmlsaXR5IG9mIG90aGVyIGRyb3Bkb3ducyB3aGVuIHRoaXMgb25lIGlzIGNsaWNrZWRcbiAgICAgICAgICBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5kcm9wX3NlbGVjdCcpKVxuICAgICAgICAgICAgLmZpbHRlcihvdGhlciA9PiBvdGhlciAhPT0gZHJvcClcbiAgICAgICAgICAgIC5mb3JFYWNoKG90aGVyID0+IG90aGVyLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpKTtcblxuICAgICAgICAgIC8vIERvbid0IGFsbG93IG90aGVyIGV2ZW50IGxpc3RlbmVycyBvbiB0aGUgYm9keSB0byBpbnRlcmZlcmUgd2l0aCB0aGlzIGxpc3RlbmVyXG4gICAgICAgICAgZXZ0LnN0b3BQcm9wYWdhdGlvbigpO1xuXG4gICAgICAgICAgaWYgKGRyb3AuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSlcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvcHRpb25zQ2xpY2thd2F5KTtcbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb3B0aW9uc0NsaWNrYXdheSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG59XG4iLCIoZnVuY3Rpb24gKGZhY3RvcnkpIHtcbiAgICBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIC8vIE5vZGUvQ29tbW9uSlNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBmYWN0b3J5KCk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpIHtcbiAgICAgICAgLy8gQU1EXG4gICAgICAgIGRlZmluZShmYWN0b3J5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAvLyBCcm93c2VyIGdsb2JhbHMgKHdpdGggc3VwcG9ydCBmb3Igd2ViIHdvcmtlcnMpXG4gICAgICAgIHZhciBnbG9iO1xuXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBnbG9iID0gd2luZG93O1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICBnbG9iID0gc2VsZjtcbiAgICAgICAgfVxuXG4gICAgICAgIGdsb2IuU3BhcmtNRDUgPSBmYWN0b3J5KCk7XG4gICAgfVxufShmdW5jdGlvbiAodW5kZWZpbmVkKSB7XG5cbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICAvKlxuICAgICAqIEZhc3Rlc3QgbWQ1IGltcGxlbWVudGF0aW9uIGFyb3VuZCAoSktNIG1kNSkuXG4gICAgICogQ3JlZGl0czogSm9zZXBoIE15ZXJzXG4gICAgICpcbiAgICAgKiBAc2VlIGh0dHA6Ly93d3cubXllcnNkYWlseS5vcmcvam9zZXBoL2phdmFzY3JpcHQvbWQ1LXRleHQuaHRtbFxuICAgICAqIEBzZWUgaHR0cDovL2pzcGVyZi5jb20vbWQ1LXNob290b3V0LzdcbiAgICAgKi9cblxuICAgIC8qIHRoaXMgZnVuY3Rpb24gaXMgbXVjaCBmYXN0ZXIsXG4gICAgICBzbyBpZiBwb3NzaWJsZSB3ZSB1c2UgaXQuIFNvbWUgSUVzXG4gICAgICBhcmUgdGhlIG9ubHkgb25lcyBJIGtub3cgb2YgdGhhdFxuICAgICAgbmVlZCB0aGUgaWRpb3RpYyBzZWNvbmQgZnVuY3Rpb24sXG4gICAgICBnZW5lcmF0ZWQgYnkgYW4gaWYgY2xhdXNlLiAgKi9cbiAgICB2YXIgYWRkMzIgPSBmdW5jdGlvbiAoYSwgYikge1xuICAgICAgICByZXR1cm4gKGEgKyBiKSAmIDB4RkZGRkZGRkY7XG4gICAgfSxcbiAgICAgICAgaGV4X2NociA9IFsnMCcsICcxJywgJzInLCAnMycsICc0JywgJzUnLCAnNicsICc3JywgJzgnLCAnOScsICdhJywgJ2InLCAnYycsICdkJywgJ2UnLCAnZiddO1xuXG5cbiAgICBmdW5jdGlvbiBjbW4ocSwgYSwgYiwgeCwgcywgdCkge1xuICAgICAgICBhID0gYWRkMzIoYWRkMzIoYSwgcSksIGFkZDMyKHgsIHQpKTtcbiAgICAgICAgcmV0dXJuIGFkZDMyKChhIDw8IHMpIHwgKGEgPj4+ICgzMiAtIHMpKSwgYik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1Y3ljbGUoeCwgaykge1xuICAgICAgICB2YXIgYSA9IHhbMF0sXG4gICAgICAgICAgICBiID0geFsxXSxcbiAgICAgICAgICAgIGMgPSB4WzJdLFxuICAgICAgICAgICAgZCA9IHhbM107XG5cbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1swXSAtIDY4MDg3NjkzNiB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzFdIC0gMzg5NTY0NTg2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMiB8IGQgPj4+IDIwKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYSB8IH5kICYgYikgKyBrWzJdICsgNjA2MTA1ODE5IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNyB8IGMgPj4+IDE1KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjICYgZCB8IH5jICYgYSkgKyBrWzNdIC0gMTA0NDUyNTMzMCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s0XSAtIDE3NjQxODg5NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNyB8IGEgPj4+IDI1KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYiB8IH5hICYgYykgKyBrWzVdICsgMTIwMDA4MDQyNiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTIgfCBkID4+PiAyMCkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGEgfCB+ZCAmIGIpICsga1s2XSAtIDE0NzMyMzEzNDEgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbN10gLSA0NTcwNTk4MyB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1s4XSArIDE3NzAwMzU0MTYgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDcgfCBhID4+PiAyNSkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGIgfCB+YSAmIGMpICsga1s5XSAtIDE5NTg0MTQ0MTcgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTBdIC0gNDIwNjMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE3IHwgYyA+Pj4gMTUpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBkIHwgfmMgJiBhKSArIGtbMTFdIC0gMTk5MDQwNDE2MiB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjIgfCBiID4+PiAxMCkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGMgfCB+YiAmIGQpICsga1sxMl0gKyAxODA0NjAzNjgyIHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA3IHwgYSA+Pj4gMjUpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGEgJiBiIHwgfmEgJiBjKSArIGtbMTNdIC0gNDAzNDExMDEgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDEyIHwgZCA+Pj4gMjApICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgJiBhIHwgfmQgJiBiKSArIGtbMTRdIC0gMTUwMjAwMjI5MCB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTcgfCBjID4+PiAxNSkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGQgfCB+YyAmIGEpICsga1sxNV0gKyAxMjM2NTM1MzI5IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMiB8IGIgPj4+IDEwKSArIGMgfCAwO1xuXG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbMV0gLSAxNjU3OTY1MTAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1s2XSAtIDEwNjk1MDE2MzIgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1sxMV0gKyA2NDM3MTc3MTMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbMF0gLSAzNzM4OTczMDIgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbNV0gLSA3MDE1NTg2OTEgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDUgfCBhID4+PiAyNykgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSAmIGMgfCBiICYgfmMpICsga1sxMF0gKyAzODAxNjA4MyB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgOSB8IGQgPj4+IDIzKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkICYgYiB8IGEgJiB+YikgKyBrWzE1XSAtIDY2MDQ3ODMzNSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s0XSAtIDQwNTUzNzg0OCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiAmIGQgfCBjICYgfmQpICsga1s5XSArIDU2ODQ0NjQzOCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzE0XSAtIDEwMTk4MDM2OTAgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1szXSAtIDE4NzM2Mzk2MSB8IDA7XG4gICAgICAgIGMgID0gKGMgPDwgMTQgfCBjID4+PiAxOCkgKyBkIHwgMDtcbiAgICAgICAgYiArPSAoYyAmIGEgfCBkICYgfmEpICsga1s4XSArIDExNjM1MzE1MDEgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIwIHwgYiA+Pj4gMTIpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgJiBkIHwgYyAmIH5kKSArIGtbMTNdIC0gMTQ0NDY4MTQ2NyB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNSB8IGEgPj4+IDI3KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhICYgYyB8IGIgJiB+YykgKyBrWzJdIC0gNTE0MDM3ODQgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDkgfCBkID4+PiAyMykgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCAmIGIgfCBhICYgfmIpICsga1s3XSArIDE3MzUzMjg0NzMgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE0IHwgYyA+Pj4gMTgpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgJiBhIHwgZCAmIH5hKSArIGtbMTJdIC0gMTkyNjYwNzczNCB8IDA7XG4gICAgICAgIGIgID0gKGIgPDwgMjAgfCBiID4+PiAxMikgKyBjIHwgMDtcblxuICAgICAgICBhICs9IChiIF4gYyBeIGQpICsga1s1XSAtIDM3ODU1OCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1s4XSAtIDIwMjI1NzQ0NjMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzExXSArIDE4MzkwMzA1NjIgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzE0XSAtIDM1MzA5NTU2IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzFdIC0gMTUzMDk5MjA2MCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1s0XSArIDEyNzI4OTMzNTMgfCAwO1xuICAgICAgICBkICA9IChkIDw8IDExIHwgZCA+Pj4gMjEpICsgYSB8IDA7XG4gICAgICAgIGMgKz0gKGQgXiBhIF4gYikgKyBrWzddIC0gMTU1NDk3NjMyIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNiB8IGMgPj4+IDE2KSArIGQgfCAwO1xuICAgICAgICBiICs9IChjIF4gZCBeIGEpICsga1sxMF0gLSAxMDk0NzMwNjQwIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGIgXiBjIF4gZCkgKyBrWzEzXSArIDY4MTI3OTE3NCB8IDA7XG4gICAgICAgIGEgID0gKGEgPDwgNCB8IGEgPj4+IDI4KSArIGIgfCAwO1xuICAgICAgICBkICs9IChhIF4gYiBeIGMpICsga1swXSAtIDM1ODUzNzIyMiB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTEgfCBkID4+PiAyMSkgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoZCBeIGEgXiBiKSArIGtbM10gLSA3MjI1MjE5NzkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzZdICsgNzYwMjkxODkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIzIHwgYiA+Pj4gOSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYiBeIGMgXiBkKSArIGtbOV0gLSA2NDAzNjQ0ODcgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDQgfCBhID4+PiAyOCkgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYSBeIGIgXiBjKSArIGtbMTJdIC0gNDIxODE1ODM1IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMSB8IGQgPj4+IDIxKSArIGEgfCAwO1xuICAgICAgICBjICs9IChkIF4gYSBeIGIpICsga1sxNV0gKyA1MzA3NDI1MjAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE2IHwgYyA+Pj4gMTYpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGMgXiBkIF4gYSkgKyBrWzJdIC0gOTk1MzM4NjUxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMyB8IGIgPj4+IDkpICsgYyB8IDA7XG5cbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbMF0gLSAxOTg2MzA4NDQgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbN10gKyAxMTI2ODkxNDE1IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxNF0gLSAxNDE2MzU0OTA1IHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1s1XSAtIDU3NDM0MDU1IHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8YiA+Pj4gMTEpICsgYyB8IDA7XG4gICAgICAgIGEgKz0gKGMgXiAoYiB8IH5kKSkgKyBrWzEyXSArIDE3MDA0ODU1NzEgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbM10gLSAxODk0OTg2NjA2IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1sxMF0gLSAxMDUxNTIzIHwgMDtcbiAgICAgICAgYyAgPSAoYyA8PCAxNSB8IGMgPj4+IDE3KSArIGQgfCAwO1xuICAgICAgICBiICs9IChkIF4gKGMgfCB+YSkpICsga1sxXSAtIDIwNTQ5MjI3OTkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbOF0gKyAxODczMzEzMzU5IHwgMDtcbiAgICAgICAgYSAgPSAoYSA8PCA2IHwgYSA+Pj4gMjYpICsgYiB8IDA7XG4gICAgICAgIGQgKz0gKGIgXiAoYSB8IH5jKSkgKyBrWzE1XSAtIDMwNjExNzQ0IHwgMDtcbiAgICAgICAgZCAgPSAoZCA8PCAxMCB8IGQgPj4+IDIyKSArIGEgfCAwO1xuICAgICAgICBjICs9IChhIF4gKGQgfCB+YikpICsga1s2XSAtIDE1NjAxOTgzODAgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzEzXSArIDEzMDkxNTE2NDkgfCAwO1xuICAgICAgICBiICA9IChiIDw8IDIxIHxiID4+PiAxMSkgKyBjIHwgMDtcbiAgICAgICAgYSArPSAoYyBeIChiIHwgfmQpKSArIGtbNF0gLSAxNDU1MjMwNzAgfCAwO1xuICAgICAgICBhICA9IChhIDw8IDYgfCBhID4+PiAyNikgKyBiIHwgMDtcbiAgICAgICAgZCArPSAoYiBeIChhIHwgfmMpKSArIGtbMTFdIC0gMTEyMDIxMDM3OSB8IDA7XG4gICAgICAgIGQgID0gKGQgPDwgMTAgfCBkID4+PiAyMikgKyBhIHwgMDtcbiAgICAgICAgYyArPSAoYSBeIChkIHwgfmIpKSArIGtbMl0gKyA3MTg3ODcyNTkgfCAwO1xuICAgICAgICBjICA9IChjIDw8IDE1IHwgYyA+Pj4gMTcpICsgZCB8IDA7XG4gICAgICAgIGIgKz0gKGQgXiAoYyB8IH5hKSkgKyBrWzldIC0gMzQzNDg1NTUxIHwgMDtcbiAgICAgICAgYiAgPSAoYiA8PCAyMSB8IGIgPj4+IDExKSArIGMgfCAwO1xuXG4gICAgICAgIHhbMF0gPSBhICsgeFswXSB8IDA7XG4gICAgICAgIHhbMV0gPSBiICsgeFsxXSB8IDA7XG4gICAgICAgIHhbMl0gPSBjICsgeFsyXSB8IDA7XG4gICAgICAgIHhbM10gPSBkICsgeFszXSB8IDA7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWQ1YmxrKHMpIHtcbiAgICAgICAgdmFyIG1kNWJsa3MgPSBbXSxcbiAgICAgICAgICAgIGk7IC8qIEFuZHkgS2luZyBzYWlkIGRvIGl0IHRoaXMgd2F5LiAqL1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCA2NDsgaSArPSA0KSB7XG4gICAgICAgICAgICBtZDVibGtzW2kgPj4gMl0gPSBzLmNoYXJDb2RlQXQoaSkgKyAocy5jaGFyQ29kZUF0KGkgKyAxKSA8PCA4KSArIChzLmNoYXJDb2RlQXQoaSArIDIpIDw8IDE2KSArIChzLmNoYXJDb2RlQXQoaSArIDMpIDw8IDI0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWQ1YmxrcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDVibGtfYXJyYXkoYSkge1xuICAgICAgICB2YXIgbWQ1YmxrcyA9IFtdLFxuICAgICAgICAgICAgaTsgLyogQW5keSBLaW5nIHNhaWQgZG8gaXQgdGhpcyB3YXkuICovXG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IDY0OyBpICs9IDQpIHtcbiAgICAgICAgICAgIG1kNWJsa3NbaSA+PiAyXSA9IGFbaV0gKyAoYVtpICsgMV0gPDwgOCkgKyAoYVtpICsgMl0gPDwgMTYpICsgKGFbaSArIDNdIDw8IDI0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWQ1YmxrcztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZDUxKHMpIHtcbiAgICAgICAgdmFyIG4gPSBzLmxlbmd0aCxcbiAgICAgICAgICAgIHN0YXRlID0gWzE3MzI1ODQxOTMsIC0yNzE3MzM4NzksIC0xNzMyNTg0MTk0LCAyNzE3MzM4NzhdLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIGxlbmd0aCxcbiAgICAgICAgICAgIHRhaWwsXG4gICAgICAgICAgICB0bXAsXG4gICAgICAgICAgICBsbyxcbiAgICAgICAgICAgIGhpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IG47IGkgKz0gNjQpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHN0YXRlLCBtZDVibGsocy5zdWJzdHJpbmcoaSAtIDY0LCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIHMgPSBzLnN1YnN0cmluZyhpIC0gNjQpO1xuICAgICAgICBsZW5ndGggPSBzLmxlbmd0aDtcbiAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gcy5jaGFyQ29kZUF0KGkpIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG4gICAgICAgIHRhaWxbaSA+PiAyXSB8PSAweDgwIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICBpZiAoaSA+IDU1KSB7XG4gICAgICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG4gICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgMTY7IGkgKz0gMSkge1xuICAgICAgICAgICAgICAgIHRhaWxbaV0gPSAwO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gQmV3YXJlIHRoYXQgdGhlIGZpbmFsIGxlbmd0aCBtaWdodCBub3QgZml0IGluIDMyIGJpdHMgc28gd2UgdGFrZSBjYXJlIG9mIHRoYXRcbiAgICAgICAgdG1wID0gbiAqIDg7XG4gICAgICAgIHRtcCA9IHRtcC50b1N0cmluZygxNikubWF0Y2goLyguKj8pKC57MCw4fSkkLyk7XG4gICAgICAgIGxvID0gcGFyc2VJbnQodG1wWzJdLCAxNik7XG4gICAgICAgIGhpID0gcGFyc2VJbnQodG1wWzFdLCAxNikgfHwgMDtcblxuICAgICAgICB0YWlsWzE0XSA9IGxvO1xuICAgICAgICB0YWlsWzE1XSA9IGhpO1xuXG4gICAgICAgIG1kNWN5Y2xlKHN0YXRlLCB0YWlsKTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1kNTFfYXJyYXkoYSkge1xuICAgICAgICB2YXIgbiA9IGEubGVuZ3RoLFxuICAgICAgICAgICAgc3RhdGUgPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF0sXG4gICAgICAgICAgICBpLFxuICAgICAgICAgICAgbGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbjsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIG1kNWJsa19hcnJheShhLnN1YmFycmF5KGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIE5vdCBzdXJlIGlmIGl0IGlzIGEgYnVnLCBob3dldmVyIElFMTAgd2lsbCBhbHdheXMgcHJvZHVjZSBhIHN1YiBhcnJheSBvZiBsZW5ndGggMVxuICAgICAgICAvLyBjb250YWluaW5nIHRoZSBsYXN0IGVsZW1lbnQgb2YgdGhlIHBhcmVudCBhcnJheSBpZiB0aGUgc3ViIGFycmF5IHNwZWNpZmllZCBzdGFydHNcbiAgICAgICAgLy8gYmV5b25kIHRoZSBsZW5ndGggb2YgdGhlIHBhcmVudCBhcnJheSAtIHdlaXJkLlxuICAgICAgICAvLyBodHRwczovL2Nvbm5lY3QubWljcm9zb2Z0LmNvbS9JRS9mZWVkYmFjay9kZXRhaWxzLzc3MTQ1Mi90eXBlZC1hcnJheS1zdWJhcnJheS1pc3N1ZVxuICAgICAgICBhID0gKGkgLSA2NCkgPCBuID8gYS5zdWJhcnJheShpIC0gNjQpIDogbmV3IFVpbnQ4QXJyYXkoMCk7XG5cbiAgICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF07XG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgdGFpbFtpID4+IDJdIHw9IGFbaV0gPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIH1cblxuICAgICAgICB0YWlsW2kgPj4gMl0gfD0gMHg4MCA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgaWYgKGkgPiA1NSkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUoc3RhdGUsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWlnaHQgbm90IGZpdCBpbiAzMiBiaXRzIHNvIHdlIHRha2UgY2FyZSBvZiB0aGF0XG4gICAgICAgIHRtcCA9IG4gKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcblxuICAgICAgICBtZDVjeWNsZShzdGF0ZSwgdGFpbCk7XG5cbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJoZXgobikge1xuICAgICAgICB2YXIgcyA9ICcnLFxuICAgICAgICAgICAgajtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IDQ7IGogKz0gMSkge1xuICAgICAgICAgICAgcyArPSBoZXhfY2hyWyhuID4+IChqICogOCArIDQpKSAmIDB4MEZdICsgaGV4X2NoclsobiA+PiAoaiAqIDgpKSAmIDB4MEZdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhleCh4KSB7XG4gICAgICAgIHZhciBpO1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgeFtpXSA9IHJoZXgoeFtpXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHguam9pbignJyk7XG4gICAgfVxuXG4gICAgLy8gSW4gc29tZSBjYXNlcyB0aGUgZmFzdCBhZGQzMiBmdW5jdGlvbiBjYW5ub3QgYmUgdXNlZC4uXG4gICAgaWYgKGhleChtZDUxKCdoZWxsbycpKSAhPT0gJzVkNDE0MDJhYmM0YjJhNzZiOTcxOWQ5MTEwMTdjNTkyJykge1xuICAgICAgICBhZGQzMiA9IGZ1bmN0aW9uICh4LCB5KSB7XG4gICAgICAgICAgICB2YXIgbHN3ID0gKHggJiAweEZGRkYpICsgKHkgJiAweEZGRkYpLFxuICAgICAgICAgICAgICAgIG1zdyA9ICh4ID4+IDE2KSArICh5ID4+IDE2KSArIChsc3cgPj4gMTYpO1xuICAgICAgICAgICAgcmV0dXJuIChtc3cgPDwgMTYpIHwgKGxzdyAmIDB4RkZGRik7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBBcnJheUJ1ZmZlciBzbGljZSBwb2x5ZmlsbC5cbiAgICAgKlxuICAgICAqIEBzZWUgaHR0cHM6Ly9naXRodWIuY29tL3R0YXViZXJ0L25vZGUtYXJyYXlidWZmZXItc2xpY2VcbiAgICAgKi9cblxuICAgIGlmICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmICFBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UpIHtcbiAgICAgICAgKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGZ1bmN0aW9uIGNsYW1wKHZhbCwgbGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgdmFsID0gKHZhbCB8IDApIHx8IDA7XG5cbiAgICAgICAgICAgICAgICBpZiAodmFsIDwgMCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5tYXgodmFsICsgbGVuZ3RoLCAwKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gTWF0aC5taW4odmFsLCBsZW5ndGgpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBBcnJheUJ1ZmZlci5wcm90b3R5cGUuc2xpY2UgPSBmdW5jdGlvbiAoZnJvbSwgdG8pIHtcbiAgICAgICAgICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5ieXRlTGVuZ3RoLFxuICAgICAgICAgICAgICAgICAgICBiZWdpbiA9IGNsYW1wKGZyb20sIGxlbmd0aCksXG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGxlbmd0aCxcbiAgICAgICAgICAgICAgICAgICAgbnVtLFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQsXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEFycmF5LFxuICAgICAgICAgICAgICAgICAgICBzb3VyY2VBcnJheTtcblxuICAgICAgICAgICAgICAgIGlmICh0byAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIGVuZCA9IGNsYW1wKHRvLCBsZW5ndGgpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChiZWdpbiA+IGVuZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IEFycmF5QnVmZmVyKDApO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIG51bSA9IGVuZCAtIGJlZ2luO1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihudW0pO1xuICAgICAgICAgICAgICAgIHRhcmdldEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGFyZ2V0KTtcblxuICAgICAgICAgICAgICAgIHNvdXJjZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcywgYmVnaW4sIG51bSk7XG4gICAgICAgICAgICAgICAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcblxuICAgICAgICAgICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSgpO1xuICAgIH1cblxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLyoqXG4gICAgICogSGVscGVycy5cbiAgICAgKi9cblxuICAgIGZ1bmN0aW9uIHRvVXRmOChzdHIpIHtcbiAgICAgICAgaWYgKC9bXFx1MDA4MC1cXHVGRkZGXS8udGVzdChzdHIpKSB7XG4gICAgICAgICAgICBzdHIgPSB1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoc3RyKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHV0ZjhTdHIyQXJyYXlCdWZmZXIoc3RyLCByZXR1cm5VSW50OEFycmF5KSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBzdHIubGVuZ3RoLFxuICAgICAgICAgICBidWZmID0gbmV3IEFycmF5QnVmZmVyKGxlbmd0aCksXG4gICAgICAgICAgIGFyciA9IG5ldyBVaW50OEFycmF5KGJ1ZmYpLFxuICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkgKz0gMSkge1xuICAgICAgICAgICAgYXJyW2ldID0gc3RyLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmV0dXJuVUludDhBcnJheSA/IGFyciA6IGJ1ZmY7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXJyYXlCdWZmZXIyVXRmOFN0cihidWZmKSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsIG5ldyBVaW50OEFycmF5KGJ1ZmYpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyhmaXJzdCwgc2Vjb25kLCByZXR1cm5VSW50OEFycmF5KSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgVWludDhBcnJheShmaXJzdC5ieXRlTGVuZ3RoICsgc2Vjb25kLmJ5dGVMZW5ndGgpO1xuXG4gICAgICAgIHJlc3VsdC5zZXQobmV3IFVpbnQ4QXJyYXkoZmlyc3QpKTtcbiAgICAgICAgcmVzdWx0LnNldChuZXcgVWludDhBcnJheShzZWNvbmQpLCBmaXJzdC5ieXRlTGVuZ3RoKTtcblxuICAgICAgICByZXR1cm4gcmV0dXJuVUludDhBcnJheSA/IHJlc3VsdCA6IHJlc3VsdC5idWZmZXI7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gaGV4VG9CaW5hcnlTdHJpbmcoaGV4KSB7XG4gICAgICAgIHZhciBieXRlcyA9IFtdLFxuICAgICAgICAgICAgbGVuZ3RoID0gaGV4Lmxlbmd0aCxcbiAgICAgICAgICAgIHg7XG5cbiAgICAgICAgZm9yICh4ID0gMDsgeCA8IGxlbmd0aCAtIDE7IHggKz0gMikge1xuICAgICAgICAgICAgYnl0ZXMucHVzaChwYXJzZUludChoZXguc3Vic3RyKHgsIDIpLCAxNikpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLCBieXRlcyk7XG4gICAgfVxuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgICAvKipcbiAgICAgKiBTcGFya01ENSBPT1AgaW1wbGVtZW50YXRpb24uXG4gICAgICpcbiAgICAgKiBVc2UgdGhpcyBjbGFzcyB0byBwZXJmb3JtIGFuIGluY3JlbWVudGFsIG1kNSwgb3RoZXJ3aXNlIHVzZSB0aGVcbiAgICAgKiBzdGF0aWMgbWV0aG9kcyBpbnN0ZWFkLlxuICAgICAqL1xuXG4gICAgZnVuY3Rpb24gU3BhcmtNRDUoKSB7XG4gICAgICAgIC8vIGNhbGwgcmVzZXQgdG8gaW5pdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBzdHJpbmcuXG4gICAgICogQSBjb252ZXJzaW9uIHdpbGwgYmUgYXBwbGllZCBpZiBhbiB1dGY4IHN0cmluZyBpcyBkZXRlY3RlZC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7U3RyaW5nfSBzdHIgVGhlIHN0cmluZyB0byBiZSBhcHBlbmRlZFxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICAvLyBDb252ZXJ0cyB0aGUgc3RyaW5nIHRvIHV0ZjggYnl0ZXMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIC8vIFRoZW4gYXBwZW5kIGFzIGJpbmFyeVxuICAgICAgICB0aGlzLmFwcGVuZEJpbmFyeSh0b1V0Zjgoc3RyKSk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEFwcGVuZHMgYSBiaW5hcnkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9IGNvbnRlbnRzIFRoZSBiaW5hcnkgc3RyaW5nIHRvIGJlIGFwcGVuZGVkXG4gICAgICpcbiAgICAgKiBAcmV0dXJuIHtTcGFya01ENX0gVGhlIGluc3RhbmNlIGl0c2VsZlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5hcHBlbmRCaW5hcnkgPSBmdW5jdGlvbiAoY29udGVudHMpIHtcbiAgICAgICAgdGhpcy5fYnVmZiArPSBjb250ZW50cztcbiAgICAgICAgdGhpcy5fbGVuZ3RoICs9IGNvbnRlbnRzLmxlbmd0aDtcblxuICAgICAgICB2YXIgbGVuZ3RoID0gdGhpcy5fYnVmZi5sZW5ndGgsXG4gICAgICAgICAgICBpO1xuXG4gICAgICAgIGZvciAoaSA9IDY0OyBpIDw9IGxlbmd0aDsgaSArPSA2NCkge1xuICAgICAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgbWQ1YmxrKHRoaXMuX2J1ZmYuc3Vic3RyaW5nKGkgLSA2NCwgaSkpKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2J1ZmYgPSB0aGlzLl9idWZmLnN1YnN0cmluZyhpIC0gNjQpO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyB0aGUgaW5jcmVtZW50YWwgY29tcHV0YXRpb24sIHJlc2V0aW5nIHRoZSBpbnRlcm5hbCBzdGF0ZSBhbmRcbiAgICAgKiByZXR1cm5pbmcgdGhlIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmF3IFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIHZhciBidWZmID0gdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaSxcbiAgICAgICAgICAgIHRhaWwgPSBbMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMCwgMF0sXG4gICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYnVmZi5jaGFyQ29kZUF0KGkpIDw8ICgoaSAlIDQpIDw8IDMpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fZmluaXNoKHRhaWwsIGxlbmd0aCk7XG4gICAgICAgIHJldCA9IGhleCh0aGlzLl9oYXNoKTtcblxuICAgICAgICBpZiAocmF3KSB7XG4gICAgICAgICAgICByZXQgPSBoZXhUb0JpbmFyeVN0cmluZyhyZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5yZXNldCgpO1xuXG4gICAgICAgIHJldHVybiByZXQ7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlc2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUucmVzZXQgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuX2J1ZmYgPSAnJztcbiAgICAgICAgdGhpcy5fbGVuZ3RoID0gMDtcbiAgICAgICAgdGhpcy5faGFzaCA9IFsxNzMyNTg0MTkzLCAtMjcxNzMzODc5LCAtMTczMjU4NDE5NCwgMjcxNzMzODc4XTtcblxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHJldHVybiB7T2JqZWN0fSBUaGUgc3RhdGVcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuZ2V0U3RhdGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBidWZmOiB0aGlzLl9idWZmLFxuICAgICAgICAgICAgbGVuZ3RoOiB0aGlzLl9sZW5ndGgsXG4gICAgICAgICAgICBoYXNoOiB0aGlzLl9oYXNoLnNsaWNlKClcbiAgICAgICAgfTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgaW50ZXJuYWwgc3RhdGUgb2YgdGhlIGNvbXB1dGF0aW9uLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YXRlIFRoZSBzdGF0ZVxuICAgICAqXG4gICAgICogQHJldHVybiB7U3BhcmtNRDV9IFRoZSBpbnN0YW5jZSBpdHNlbGZcbiAgICAgKi9cbiAgICBTcGFya01ENS5wcm90b3R5cGUuc2V0U3RhdGUgPSBmdW5jdGlvbiAoc3RhdGUpIHtcbiAgICAgICAgdGhpcy5fYnVmZiA9IHN0YXRlLmJ1ZmY7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IHN0YXRlLmxlbmd0aDtcbiAgICAgICAgdGhpcy5faGFzaCA9IHN0YXRlLmhhc2g7XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbGVhc2VzIG1lbW9yeSB1c2VkIGJ5IHRoZSBpbmNyZW1lbnRhbCBidWZmZXIgYW5kIG90aGVyIGFkZGl0aW9uYWxcbiAgICAgKiByZXNvdXJjZXMuIElmIHlvdSBwbGFuIHRvIHVzZSB0aGUgaW5zdGFuY2UgYWdhaW4sIHVzZSByZXNldCBpbnN0ZWFkLlxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5kZXN0cm95ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBkZWxldGUgdGhpcy5faGFzaDtcbiAgICAgICAgZGVsZXRlIHRoaXMuX2J1ZmY7XG4gICAgICAgIGRlbGV0ZSB0aGlzLl9sZW5ndGg7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEZpbmlzaCB0aGUgZmluYWwgY2FsY3VsYXRpb24gYmFzZWQgb24gdGhlIHRhaWwuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5fSAgdGFpbCAgIFRoZSB0YWlsICh3aWxsIGJlIG1vZGlmaWVkKVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBsZW5ndGggVGhlIGxlbmd0aCBvZiB0aGUgcmVtYWluaW5nIGJ1ZmZlclxuICAgICAqL1xuICAgIFNwYXJrTUQ1LnByb3RvdHlwZS5fZmluaXNoID0gZnVuY3Rpb24gKHRhaWwsIGxlbmd0aCkge1xuICAgICAgICB2YXIgaSA9IGxlbmd0aCxcbiAgICAgICAgICAgIHRtcCxcbiAgICAgICAgICAgIGxvLFxuICAgICAgICAgICAgaGk7XG5cbiAgICAgICAgdGFpbFtpID4+IDJdIHw9IDB4ODAgPDwgKChpICUgNCkgPDwgMyk7XG4gICAgICAgIGlmIChpID4gNTUpIHtcbiAgICAgICAgICAgIG1kNWN5Y2xlKHRoaXMuX2hhc2gsIHRhaWwpO1xuICAgICAgICAgICAgZm9yIChpID0gMDsgaSA8IDE2OyBpICs9IDEpIHtcbiAgICAgICAgICAgICAgICB0YWlsW2ldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIERvIHRoZSBmaW5hbCBjb21wdXRhdGlvbiBiYXNlZCBvbiB0aGUgdGFpbCBhbmQgbGVuZ3RoXG4gICAgICAgIC8vIEJld2FyZSB0aGF0IHRoZSBmaW5hbCBsZW5ndGggbWF5IG5vdCBmaXQgaW4gMzIgYml0cyBzbyB3ZSB0YWtlIGNhcmUgb2YgdGhhdFxuICAgICAgICB0bXAgPSB0aGlzLl9sZW5ndGggKiA4O1xuICAgICAgICB0bXAgPSB0bXAudG9TdHJpbmcoMTYpLm1hdGNoKC8oLio/KSguezAsOH0pJC8pO1xuICAgICAgICBsbyA9IHBhcnNlSW50KHRtcFsyXSwgMTYpO1xuICAgICAgICBoaSA9IHBhcnNlSW50KHRtcFsxXSwgMTYpIHx8IDA7XG5cbiAgICAgICAgdGFpbFsxNF0gPSBsbztcbiAgICAgICAgdGFpbFsxNV0gPSBoaTtcbiAgICAgICAgbWQ1Y3ljbGUodGhpcy5faGFzaCwgdGFpbCk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhIHN0cmluZy5cbiAgICAgKiBBIGNvbnZlcnNpb24gd2lsbCBiZSBhcHBsaWVkIGlmIHV0Zjggc3RyaW5nIGlzIGRldGVjdGVkLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICBzdHIgVGhlIHN0cmluZ1xuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gW3Jhd10gVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuaGFzaCA9IGZ1bmN0aW9uIChzdHIsIHJhdykge1xuICAgICAgICAvLyBDb252ZXJ0cyB0aGUgc3RyaW5nIHRvIHV0ZjggYnl0ZXMgaWYgbmVjZXNzYXJ5XG4gICAgICAgIC8vIFRoZW4gY29tcHV0ZSBpdCB1c2luZyB0aGUgYmluYXJ5IGZ1bmN0aW9uXG4gICAgICAgIHJldHVybiBTcGFya01ENS5oYXNoQmluYXJ5KHRvVXRmOChzdHIpLCByYXcpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyB0aGUgbWQ1IGhhc2ggb24gYSBiaW5hcnkgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtTdHJpbmd9ICBjb250ZW50IFRoZSBiaW5hcnkgc3RyaW5nXG4gICAgICogQHBhcmFtIHtCb29sZWFufSBbcmF3XSAgICAgVHJ1ZSB0byBnZXQgdGhlIHJhdyBzdHJpbmcsIGZhbHNlIHRvIGdldCB0aGUgaGV4IHN0cmluZ1xuICAgICAqXG4gICAgICogQHJldHVybiB7U3RyaW5nfSBUaGUgcmVzdWx0XG4gICAgICovXG4gICAgU3BhcmtNRDUuaGFzaEJpbmFyeSA9IGZ1bmN0aW9uIChjb250ZW50LCByYXcpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBtZDUxKGNvbnRlbnQpLFxuICAgICAgICAgICAgcmV0ID0gaGV4KGhhc2gpO1xuXG4gICAgICAgIHJldHVybiByYXcgPyBoZXhUb0JpbmFyeVN0cmluZyhyZXQpIDogcmV0O1xuICAgIH07XG5cbiAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAgIC8qKlxuICAgICAqIFNwYXJrTUQ1IE9PUCBpbXBsZW1lbnRhdGlvbiBmb3IgYXJyYXkgYnVmZmVycy5cbiAgICAgKlxuICAgICAqIFVzZSB0aGlzIGNsYXNzIHRvIHBlcmZvcm0gYW4gaW5jcmVtZW50YWwgbWQ1IE9OTFkgZm9yIGFycmF5IGJ1ZmZlcnMuXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIC8vIGNhbGwgcmVzZXQgdG8gaW5pdCB0aGUgaW5zdGFuY2VcbiAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBBcHBlbmRzIGFuIGFycmF5IGJ1ZmZlci5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7QXJyYXlCdWZmZXJ9IGFyciBUaGUgYXJyYXkgdG8gYmUgYXBwZW5kZWRcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uIChhcnIpIHtcbiAgICAgICAgdmFyIGJ1ZmYgPSBjb25jYXRlbmF0ZUFycmF5QnVmZmVycyh0aGlzLl9idWZmLmJ1ZmZlciwgYXJyLCB0cnVlKSxcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgaTtcblxuICAgICAgICB0aGlzLl9sZW5ndGggKz0gYXJyLmJ5dGVMZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gNjQ7IGkgPD0gbGVuZ3RoOyBpICs9IDY0KSB7XG4gICAgICAgICAgICBtZDVjeWNsZSh0aGlzLl9oYXNoLCBtZDVibGtfYXJyYXkoYnVmZi5zdWJhcnJheShpIC0gNjQsIGkpKSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9idWZmID0gKGkgLSA2NCkgPCBsZW5ndGggPyBuZXcgVWludDhBcnJheShidWZmLmJ1ZmZlci5zbGljZShpIC0gNjQpKSA6IG5ldyBVaW50OEFycmF5KDApO1xuXG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBGaW5pc2hlcyB0aGUgaW5jcmVtZW50YWwgY29tcHV0YXRpb24sIHJlc2V0aW5nIHRoZSBpbnRlcm5hbCBzdGF0ZSBhbmRcbiAgICAgKiByZXR1cm5pbmcgdGhlIHJlc3VsdC5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gcmF3IFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBzdHJpbmdcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbiAocmF3KSB7XG4gICAgICAgIHZhciBidWZmID0gdGhpcy5fYnVmZixcbiAgICAgICAgICAgIGxlbmd0aCA9IGJ1ZmYubGVuZ3RoLFxuICAgICAgICAgICAgdGFpbCA9IFswLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwLCAwXSxcbiAgICAgICAgICAgIGksXG4gICAgICAgICAgICByZXQ7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGxlbmd0aDsgaSArPSAxKSB7XG4gICAgICAgICAgICB0YWlsW2kgPj4gMl0gfD0gYnVmZltpXSA8PCAoKGkgJSA0KSA8PCAzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2ZpbmlzaCh0YWlsLCBsZW5ndGgpO1xuICAgICAgICByZXQgPSBoZXgodGhpcy5faGFzaCk7XG5cbiAgICAgICAgaWYgKHJhdykge1xuICAgICAgICAgICAgcmV0ID0gaGV4VG9CaW5hcnlTdHJpbmcocmV0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICByZXR1cm4gcmV0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZXNldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLnJlc2V0ID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLl9idWZmID0gbmV3IFVpbnQ4QXJyYXkoMCk7XG4gICAgICAgIHRoaXMuX2xlbmd0aCA9IDA7XG4gICAgICAgIHRoaXMuX2hhc2ggPSBbMTczMjU4NDE5MywgLTI3MTczMzg3OSwgLTE3MzI1ODQxOTQsIDI3MTczMzg3OF07XG5cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEByZXR1cm4ge09iamVjdH0gVGhlIHN0YXRlXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLmdldFN0YXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc3RhdGUgPSBTcGFya01ENS5wcm90b3R5cGUuZ2V0U3RhdGUuY2FsbCh0aGlzKTtcblxuICAgICAgICAvLyBDb252ZXJ0IGJ1ZmZlciB0byBhIHN0cmluZ1xuICAgICAgICBzdGF0ZS5idWZmID0gYXJyYXlCdWZmZXIyVXRmOFN0cihzdGF0ZS5idWZmKTtcblxuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGludGVybmFsIHN0YXRlIG9mIHRoZSBjb21wdXRhdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzdGF0ZSBUaGUgc3RhdGVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1NwYXJrTUQ1LkFycmF5QnVmZmVyfSBUaGUgaW5zdGFuY2UgaXRzZWxmXG4gICAgICovXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLnNldFN0YXRlID0gZnVuY3Rpb24gKHN0YXRlKSB7XG4gICAgICAgIC8vIENvbnZlcnQgc3RyaW5nIHRvIGJ1ZmZlclxuICAgICAgICBzdGF0ZS5idWZmID0gdXRmOFN0cjJBcnJheUJ1ZmZlcihzdGF0ZS5idWZmLCB0cnVlKTtcblxuICAgICAgICByZXR1cm4gU3BhcmtNRDUucHJvdG90eXBlLnNldFN0YXRlLmNhbGwodGhpcywgc3RhdGUpO1xuICAgIH07XG5cbiAgICBTcGFya01ENS5BcnJheUJ1ZmZlci5wcm90b3R5cGUuZGVzdHJveSA9IFNwYXJrTUQ1LnByb3RvdHlwZS5kZXN0cm95O1xuXG4gICAgU3BhcmtNRDUuQXJyYXlCdWZmZXIucHJvdG90eXBlLl9maW5pc2ggPSBTcGFya01ENS5wcm90b3R5cGUuX2ZpbmlzaDtcblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIHRoZSBtZDUgaGFzaCBvbiBhbiBhcnJheSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnIgVGhlIGFycmF5IGJ1ZmZlclxuICAgICAqIEBwYXJhbSB7Qm9vbGVhbn0gICAgIFtyYXddIFRydWUgdG8gZ2V0IHRoZSByYXcgc3RyaW5nLCBmYWxzZSB0byBnZXQgdGhlIGhleCBvbmVcbiAgICAgKlxuICAgICAqIEByZXR1cm4ge1N0cmluZ30gVGhlIHJlc3VsdFxuICAgICAqL1xuICAgIFNwYXJrTUQ1LkFycmF5QnVmZmVyLmhhc2ggPSBmdW5jdGlvbiAoYXJyLCByYXcpIHtcbiAgICAgICAgdmFyIGhhc2ggPSBtZDUxX2FycmF5KG5ldyBVaW50OEFycmF5KGFycikpLFxuICAgICAgICAgICAgcmV0ID0gaGV4KGhhc2gpO1xuXG4gICAgICAgIHJldHVybiByYXcgPyBoZXhUb0JpbmFyeVN0cmluZyhyZXQpIDogcmV0O1xuICAgIH07XG5cbiAgICByZXR1cm4gU3BhcmtNRDU7XG59KSk7XG4iLCJpbXBvcnQgeyBHcm91cGluZ1R5cGUgfSBmcm9tICcuLi9UeXBlcyc7XG5cbi8qKlxuICogQWRhcHRlZCBmcm9tIGNvbG9yIHBhbGV0dGUgZnJvbSBGaWd1cmUgMiAoQ29sb3JzIG9wdGltaXplZCBmb3IgY29sb3ItYmxpbmRcbiAqIGluZGl2aWR1YWxzKSBmcm9tXG4gKiBbXCJQb2ludHMgb2YgdmlldzogQ29sb3IgYmxpbmRuZXNzXCIgYnkgQmFuZyBXb25nIHB1Ymxpc2hlZCBpbiBOYXR1cmUgTWV0aG9kcyB2b2x1bWUgOCBvbiAyNyBNYXkgMjAxMV0oaHR0cHM6Ly93d3cubmF0dXJlLmNvbS9hcnRpY2xlcy9ubWV0aC4xNjE4P1dULmVjX2lkPU5NRVRILTIwMTEwNilcbiAqL1xuY29uc3QgQ29sb3JQYWxldHRlOiBzdHJpbmdbXSA9IFtcbiAgJ3JnYigyMzAsIDE1OSwgMCknLFxuICAncmdiKDg2LCAxODAsIDIzMyknLFxuICAncmdiKDAsIDE1OCwgMTE1KScsXG4gICdyZ2IoMjQwLCAyMjgsIDY2KScsXG4gICdyZ2IoMCwgMTE0LCAxNzgpJyxcbiAgJ3JnYigyMTMsIDk0LCAwKScsXG4gICdyZ2IoMjA0LCAxMjEsIDE2NyknXG5dO1xuXG4vKipcbiAqIFJlbW92ZSB0aGUgaGlnaGxpZ2h0IGZyb20gYSBzdGFmZi5cbiAqIEBwYXJhbSBzdGFmZiBJZiB1bmRlZmluZWQsIHRoZSBhbGwgc3RhdmVzIGFyZSB1bmhpZ2hsaWdodGVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5oaWdobGlnaHQoc3RhZmY/OiBTVkdHRWxlbWVudCk6IHZvaWQge1xuICBsZXQgY2hpbGRyZW46IE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gIGlmIChzdGFmZikge1xuICAgIGNoaWxkcmVuID0gc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9IGVsc2Uge1xuICAgIGNoaWxkcmVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnOm5vdCguc2VsZWN0ZWQpIC5oaWdobGlnaHRlZCcpO1xuICB9XG4gIGNoaWxkcmVuLmZvckVhY2goZWxlbSA9PiB7XG4gICAgaWYgKGVsZW0udGFnTmFtZSA9PT0gJ3BhdGgnICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfSBlbHNlIGlmIChlbGVtLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpICYmICFlbGVtLmNsb3Nlc3QoJy5zdGFmZicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgZWxlbS5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICcjMDAwMDAwJyk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgZWxlbS5yZW1vdmVBdHRyaWJ1dGUoJ2ZpbGwnKTtcbiAgICAgIGxldCByZWN0cyA9IGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBlbGVtLmNsb3Nlc3QoJy5zeWxsYWJsZScpLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICByZWN0cyA9IFtdIGFzIHVua25vd24gYXMgTm9kZUxpc3RPZjxFbGVtZW50PjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVjdHMuZm9yRWFjaChmdW5jdGlvbiAocmVjdDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApe1xuICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICAgIH1cbiAgICAgICAgcmVjdC5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgfSk7XG59XG5cbi8qKlxuICogUmVtb3ZlIHRoZSBoaWdobGlnaHQgZnJvbSBlYWNoIHN0YWZmLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRTdGFmZkhpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5oaWdobGlnaHQoKTtcbn1cblxuLyoqXG4gKiBVbnNldCBoaWdobGlnaHQgZm9yIGFsbCBncm91cGluZyB0eXBlc1xuICovXG5leHBvcnQgZnVuY3Rpb24gdW5zZXRHcm91cGluZ0hpZ2hsaWdodCgpOiB2b2lkIHtcbiAgdW5zZXRTdGFmZkhpZ2hsaWdodCgpO1xuICBjb25zdCBoaWdobGlnaHRlZCA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0ZWQnKSlcbiAgICAuZmlsdGVyKChlbGVtOiBIVE1MRWxlbWVudCkgPT4gIWVsZW0ucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpO1xuICBoaWdobGlnaHRlZC5mb3JFYWNoKChlbGVtOiBIVE1MRWxlbWVudCkgPT4ge1xuICAgIGVsZW0uc2V0QXR0cmlidXRlKCcjZDAwJywgbnVsbCk7XG4gICAgbGV0IHJlY3RzID0gZWxlbS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICBpZiAoZWxlbS5jbG9zZXN0KCcuc3lsbGFibGUnKSAhPT0gbnVsbCkge1xuICAgICAgICByZWN0cyA9IGVsZW0uY2xvc2VzdCgnLnN5bGxhYmxlJykucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgfVxuICAgIH1cbiAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0OiBIVE1MRWxlbWVudCkge1xuICAgICAgaWYgKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8IFxuICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICApe1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnI2QwMCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSAnYmx1ZSc7XG4gICAgICB9XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHRlZCcpO1xuICAgIGVsZW0ucXVlcnlTZWxlY3RvckFsbCgnc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ2hpZ2hsaWdodGVkJyk7XG4gICAgfSk7XG4gIH0pO1xuICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpLmZvckVhY2goKGVsKSA9PiB7IGVsLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcnKTsgfSk7XG59XG5cbi8qKlxuICogSGlnaGxpZ2h0IGEgc3RhZmYgYSBjZXJ0YWluIGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaGlnaGxpZ2h0KHN0YWZmOiBTVkdHRWxlbWVudCwgY29sb3I6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oc3RhZmYuY2hpbGRyZW4pO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3QgY2hpbGQgPSBjaGlsZHJlbltpXTtcbiAgICBpZiAoY2hpbGQudGFnTmFtZSA9PT0gJ3BhdGgnKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpKSB7XG4gICAgICBjaGlsZC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsIGNvbG9yKTtcbiAgICAgIGNoaWxkLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICB9IGVsc2UgaWYgKGNoaWxkLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykubGVuZ3RoICYmIGNoaWxkLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSkge1xuICAgICAgQXJyYXkuZnJvbShjaGlsZC5jaGlsZHJlbikuZmlsdGVyKGVsID0+IGVsLnF1ZXJ5U2VsZWN0b3JBbGwoJy5kaXZMaW5lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9XG4gICAgZWxzZSBpZiAoY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyZXNpemVQb2ludCcpIHx8IGNoaWxkLmlkID09PSAncmVzaXplUmVjdCcgfHwgY2hpbGQuY2xhc3NMaXN0LmNvbnRhaW5zKCdyb3RhdGVQb2ludCcpKSB7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIGlmIChjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ2xheWVyJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2hpZ2hsaWdodC1zZWxlY3RlZCcpLmxlbmd0aCAmJlxuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJylbMF0uaWQgPT09ICdoaWdobGlnaHQtbmV1bWUnXG4gICAgICAmJiBjaGlsZC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bGxhYmxlJykpIHtcbiAgICAgIEFycmF5LmZyb20oY2hpbGQuY2hpbGRyZW4pLmZpbHRlcihlbCA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJykpLmZvckVhY2goY2NoaWxkID0+IHsgY2hpbGRyZW4ucHVzaChjY2hpbGQpOyB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY2hpbGQuc2V0QXR0cmlidXRlKCdmaWxsJywgY29sb3IpO1xuICAgICAgbGV0IHJlY3RzID0gY2hpbGQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIGlmICghcmVjdHMubGVuZ3RoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmVjdHMgPSBjaGlsZC5jbG9zZXN0KCcuc3lsbGFibGUnKS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgcmVjdHMgPSBbXSBhcyB1bmtub3duIGFzIE5vZGVMaXN0T2Y8RWxlbWVudD47XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJlY3RzLmZvckVhY2goZnVuY3Rpb24gKHJlY3Q6IEhUTUxFbGVtZW50KSB7XG4gICAgICAgIGlmICghKHJlY3QuY2xvc2VzdCgnLnN5bGxhYmxlJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3lsJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpIHx8XG4gICAgICAgICAgcmVjdC5jbG9zZXN0KCcuc3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJylcbiAgICAgICAgICAvLyByZWN0LmNsb3Nlc3QoJy5sYXllcicpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKVxuICAgICAgICApKSB7XG4gICAgICAgICAgcmVjdC5zdHlsZS5maWxsID0gY29sb3I7XG4gICAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdoaWdobGlnaHRlZCcpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgY2hpbGQuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgfVxuICBsZXQgd2lkdGgsIGhlaWdodDtcbiAgLyp0cnkge1xuICAgIHdpZHRoID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnd2lkdGgnKS5zcGxpdCgncHgnKVswXSk7XG4gICAgaGVpZ2h0ID0gTnVtYmVyKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZScpLnF1ZXJ5U2VsZWN0b3IoJ3N2ZycpLmdldEF0dHJpYnV0ZSgnaGVpZ2h0Jykuc3BsaXQoJ3B4JylbMF0pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhlKTtcbiAgfSovXG4gIGxldCBzdHJva2U6IHN0cmluZztcbiAgaWYgKHdpZHRoICE9PSB1bmRlZmluZWQgJiYgaGVpZ2h0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAvLyBpZGsgbG9va3MgZ29vZCA6JylcbiAgICAvLyBUT0RPIGZpbmQgYSBiZXR0ZXIgd2F5IG9mIGNhbGN1bGF0aW5nIHRoaXMgYXMgdGhpcyBhY3R1YWxseSBkb2Vzbid0IHdvcmsgYXMgd2VsbCBhcyAzMHB4XG4gICAgc3Ryb2tlID0gKHdpZHRoICogaGVpZ2h0IC8gMTAwMDAwMCkudG9TdHJpbmcoKTtcbiAgfVxuICBlbHNlIHtcbiAgICBzdHJva2UgPSAnMzBweCc7XG4gIH1cbiAgc3RhZmYucXVlcnlTZWxlY3RvckFsbCgnLm5jLCAuY3VzdG9zLCAuY2xlZiwgLmFjY2lkJykuZm9yRWFjaChlbCA9PiB7XG4gICAgZWwuc2V0QXR0cmlidXRlKCdzdHJva2UnLCAnYmxhY2snKTtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZS13aWR0aCcsIHN0cm9rZSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhpZ2hsaWdodCBlYWNoIHN0YWZmIGEgZGlmZmVyZW50IGNvbG9yLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U3RhZmZIaWdobGlnaHQoKTogdm9pZCB7XG4gIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSkgYXMgU1ZHR0VsZW1lbnRbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBzdGF2ZXMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBzdGFmZkNvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBoaWdobGlnaHQoc3RhdmVzW2ldLCBzdGFmZkNvbG9yKTtcbiAgfVxufVxuXG4vKipcbiAqIFNldCBhIGhpZ2hsaWdodCBieSBhIGRpZmZlcmVudCBncm91cGluZy5cbiAqIEBwYXJhbSBncm91cGluZyAtIEVpdGhlciBcInN0YWZmXCIsIFwic3lsbGFibGVcIiwgXCJuZXVtZVwiLCBcInNlbGVjdGlvblwiLCBvciBcImxheWVyRWxlbWVudFwiLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0R3JvdXBpbmdIaWdobGlnaHQoZ3JvdXBpbmc6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICB1bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIGlmIChncm91cGluZyA9PT0gJ3N0YWZmJykge1xuICAgIHNldFN0YWZmSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9IGVsc2UgaWYgKGdyb3VwaW5nID09PSAnc2VsZWN0aW9uJykge1xuICAgIGNvbnN0IHRlbXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5LmlzLWFjdGl2ZScpLmlkO1xuICAgIHN3aXRjaCAodGVtcCkge1xuICAgICAgY2FzZSAnc2VsQnlTeWxsYWJsZSc6XG4gICAgICBjYXNlICdzZWxCeUJCb3gnOlxuICAgICAgICBncm91cGluZyA9ICdzeWxsYWJsZSc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGdyb3VwaW5nID0gJ3N0YWZmJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdzZWxCeUxheWVyRWxlbWVudCc6XG4gICAgICAgIGdyb3VwaW5nID0gJ2xheWVyRWxlbWVudCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBncm91cGluZyA9ICduZXVtZSc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBzZXRHcm91cGluZ0hpZ2hsaWdodChncm91cGluZyk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGxldCBncm91cHM7XG5cbiAgaWYgKGdyb3VwaW5nID09ICdsYXllckVsZW1lbnQnKSB7XG4gICAgZ3JvdXBzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjY2lkLCAuY2xlZiwgLmN1c3RvcywgLmRpdkxpbmUnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBncm91cHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGdyb3VwaW5nKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50PjtcbiAgfVxuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYywgLmN1c3RvcywgLmNsZWYsIC5hY2NpZCwgLmRpdkxpbmUnKS5mb3JFYWNoKGVsID0+IHtcbiAgICBlbC5zZXRBdHRyaWJ1dGUoJ3N0cm9rZScsICdibGFjaycpO1xuICAgIGVsLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgfSk7XG5cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBncm91cHMubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBncm91cENvbG9yID0gQ29sb3JQYWxldHRlW2kgJSBDb2xvclBhbGV0dGUubGVuZ3RoXTtcbiAgICBpZiAoKGdyb3Vwc1tpXS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkgJiYgIWdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIGdyb3Vwc1tpXS5zZXRBdHRyaWJ1dGUoJ2ZpbGwnLCBncm91cENvbG9yKTtcbiAgICAgIGNvbnN0IHJlY3RzID0gZ3JvdXBzW2ldLnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykgYXMgTm9kZUxpc3RPZjxIVE1MRWxlbWVudD47XG4gICAgICByZWN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZWN0KSB7XG4gICAgICAgIGlmIChyZWN0LmNsb3Nlc3QoJy5zeWwnKS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykgfHxcbiAgICAgICAgICByZWN0LmNsb3Nlc3QoJy5zeWxsYWJsZScpLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSB8fFxuICAgICAgICAgIHJlY3QuY2xvc2VzdCgnLnN0YWZmJykuY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpXG4gICAgICAgICkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBncm91cENvbG9yO1xuICAgICAgfSk7XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIGdyb3Vwc1tpXS5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLmZvckVhY2gocmVjdCA9PiB7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIWdyb3Vwc1tpXS5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsIG51bGwpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgZ3JvdXBzW2ldLnNldEF0dHJpYnV0ZSgnZmlsbCcsICcjZDAwJyk7XG4gICAgICB9XG4gICAgICBncm91cHNbaV0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0ZWQnKTtcbiAgICB9XG5cbiAgICBjb25zdCBkaXZMaW5lQ2hpbGRyZW4gPSBncm91cHNbaV0ucXVlcnlTZWxlY3RvckFsbCgnLmRpdkxpbmUnKTtcbiAgICBpZiAoZGl2TGluZUNoaWxkcmVuKSB7XG4gICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGRpdkxpbmVDaGlsZHJlbi5sZW5ndGg7IGorKykge1xuICAgICAgICBkaXZMaW5lQ2hpbGRyZW5bal0uc2V0QXR0cmlidXRlKCdzdHJva2UnLCBncm91cENvbG9yKTtcbiAgICAgICAgZGl2TGluZUNoaWxkcmVuW2pdLnNldEF0dHJpYnV0ZSgnc3Ryb2tlLXdpZHRoJywgJzMwcHgnKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgXG59XG4iLCIvKiogQG1vZHVsZSBEaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzICovXG5cbmltcG9ydCAqIGFzIENvbG9yIGZyb20gJy4uL3V0aWxzL0NvbG9yJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgR3JvdXBpbmdUeXBlIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MsIHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbmxldCBsYXN0R2x5cGhPcGFjaXR5OiBudW1iZXIsIGxhc3RJbWFnZU9wYWNpdHk6IG51bWJlcjtcblxuLyoqXG4gKiBTZXQgem9vbSBjb250cm9sIGxpc3RlbmVyIGZvciBidXR0b24gYW5kIHNsaWRlclxuICogQHBhcmFtIHpvb21IYW5kbGVyIC0gQSBbW1pvb21IYW5kbGVyXV0gaXMgb25seSBuZWNlc3NhcnkgaW4gU2luZ2xlIFBhZ2UgbW9kZSBhcyBkaXZhLmpzIGhhbmRsZXMgem9vbWluZyBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRab29tQ29udHJvbHMgKHpvb21IYW5kbGVyPzogWm9vbUhhbmRsZXIpOiB2b2lkIHtcbiAgaWYgKHpvb21IYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgY29uc3Qgem9vbVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tU2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgY29uc3Qgem9vbU91dHB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd6b29tT3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyB6b29tIH0gPSBnZXRTZXR0aW5ncygpO1xuICB6b29tU2xpZGVyLnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKHpvb20pO1xuICB6b29tSGFuZGxlci56b29tVG8oem9vbSAvIDEwMC4wKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Jlc2V0LXpvb20nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB6b29tT3V0cHV0LnZhbHVlID0gJzEwMCc7XG4gICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgIHpvb21IYW5kbGVyLnJlc2V0Wm9vbUFuZFBhbigpO1xuICB9KTtcblxuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjc2V0LXpvb20tZWFzeS1lZGl0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9ICcxODAnO1xuICAgIHpvb21TbGlkZXIudmFsdWUgPSAnMTgwJztcbiAgICB6b29tSGFuZGxlci56b29tVG8oMTgwLzEwMCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGlucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgem9vbU91dHB1dC52YWx1ZSA9IHpvb21TbGlkZXIudmFsdWU7XG4gICAgem9vbUhhbmRsZXIuem9vbVRvKE51bWJlcih6b29tT3V0cHV0LnZhbHVlKSAvIDEwMC4wKTtcbiAgfVxuXG4gIC8vIHpvb21TbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBpbnB1dENoYW5nZUhhbmRsZXIpO1xuICB6b29tU2xpZGVyLmRpc2FibGVkID0gZmFsc2U7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGNvbnN0IGN1cnJlbnRab29tID0gcGFyc2VJbnQoem9vbU91dHB1dC52YWx1ZSk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdBcnJvd1VwJyB8fCBldnQua2V5ID09PSAnQXJyb3dEb3duJyB8fCBcbiAgICBldnQua2V5ID09PSAnQXJyb3dSaWdodCcgfHwgZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcpIHtcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJysnKSB7IC8vIGluY3JlYXNlIHpvb20gYnkgMjBcbiAgICAgIGNvbnN0IG5ld1pvb20gPSBNYXRoLm1pbihjdXJyZW50Wm9vbSArIDIwLCBwYXJzZUludCh6b29tU2xpZGVyLmdldEF0dHJpYnV0ZSgnbWF4JykpKTtcbiAgICAgIHpvb21IYW5kbGVyLnpvb21UbyhuZXdab29tIC8gMTAwLjApO1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICAgIHpvb21TbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3Wm9vbSk7XG4gICAgfSBlbHNlIGlmIChldnQua2V5ID09PSAnXycpIHsgLy8gZGVjcmVhc2Ugem9vbSBieSAyMFxuICAgICAgY29uc3QgbmV3Wm9vbSA9IE1hdGgubWF4KGN1cnJlbnRab29tIC0gMjAsIHBhcnNlSW50KHpvb21TbGlkZXIuZ2V0QXR0cmlidXRlKCdtaW4nKSkpO1xuICAgICAgem9vbUhhbmRsZXIuem9vbVRvKG5ld1pvb20gLyAxMDAuMCk7XG4gICAgICB6b29tT3V0cHV0LnZhbHVlID0gU3RyaW5nKG5ld1pvb20pO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9IFN0cmluZyhuZXdab29tKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICcwJykge1xuICAgICAgem9vbU91dHB1dC52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbVNsaWRlci52YWx1ZSA9ICcxMDAnO1xuICAgICAgem9vbUhhbmRsZXIucmVzZXRab29tQW5kUGFuKCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBVcGRhdGUgTUVJIG9wYWNpdHkgdG8gdmFsdWUgZnJvbSB0aGUgc2xpZGVyLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIgKG1laUNsYXNzTmFtZT86IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcbiAgY29uc3Qgb3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdvcGFjaXR5U2xpZGVyJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gb3BhY2l0eU91dHB1dC52YWx1ZTtcbiAgLy8gdGhpcyBpcyB3aGVyZSB3ZSBsb2FkIGdseXBoIG9wYWNpdHkgZnJvbSBsb2NhbFN0b3JhZ2Ugb24gcGFnZS1sb2FkXG4gIHNldFNldHRpbmdzKHsgZ2x5cGhPcGFjaXR5OiBOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRvZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUdseXBoSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1nbHlwaC1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgPT09IDApIHtcbiAgICBoaWRlR2x5cGhJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvc2hvdy1pY29uLnN2Z2ApO1xuICAgIGhpZGVHbHlwaEltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnU2hvdyBnbHlwaCcpO1xuICB9XG4gIGVsc2Uge1xuICAgIGhpZGVHbHlwaEltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnYCk7XG4gICAgaGlkZUdseXBoSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdIaWRlIGdseXBoJyk7XG4gIH1cblxuICB0cnkge1xuICAgICgoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpKSBhcyBOb2RlTGlzdE9mPEhUTUxFbGVtZW50PikuZm9yRWFjaChnID0+IHtcbiAgICAgIGcuc3R5bGUub3BhY2l0eSA9IChOdW1iZXIob3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDAuMCkudG9TdHJpbmcoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGNvbnNvbGUud2FybignVW5hYmxlIHRvIHByb3Blcmx5IHNldCBvcGFjaXR5IHRvIHBhZ2VzJyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgcmVuZGVyZWQgTUVJIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIG1laUNsYXNzTmFtZSAtIENsYXNzIHRoYXQgY29udGFpbnMgdGhlIHJlbmRlcmVkIE1FSS5cbiAqL1xuZnVuY3Rpb24gc2V0T3BhY2l0eUNvbnRyb2xzIChtZWlDbGFzc05hbWU6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBvcGFjaXR5U2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBvcGFjaXR5T3V0cHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ29wYWNpdHlPdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudDtcblxuICBjb25zdCB7IGdseXBoT3BhY2l0eSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgbGFzdEdseXBoT3BhY2l0eSA9IGdseXBoT3BhY2l0eTtcbiAgb3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG5cbiAgZnVuY3Rpb24gaW5wdXRDaGFuZ2VPcGFjaXR5ICgpOiB2b2lkIHtcbiAgICBvcGFjaXR5T3V0cHV0LnZhbHVlID0gb3BhY2l0eVNsaWRlci52YWx1ZTtcbiAgICBsYXN0R2x5cGhPcGFjaXR5ID0gTnVtYmVyKG9wYWNpdHlTbGlkZXIudmFsdWUpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIobWVpQ2xhc3NOYW1lKTtcbiAgfVxuXG4gIGNvbnN0IHRvZ2dsZU9wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWdseXBoLW9wYWNpdHknKTtcblxuICBpZiAoZ2x5cGhPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gIH1cblxuICB0b2dnbGVPcGFjaXR5QnRuPy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuICAgIGlmICh0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5jb250YWlucygnaGlkZS1pY29uJykpIHtcbiAgICAgIHRvZ2dsZU9wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVPcGFjaXR5QnRuLmNsYXNzTGlzdC5hZGQoJ2hpZGUtaWNvbicpO1xuICAgICAgbmV3T3BhY2l0eSA9IDE7XG4gICAgfVxuXG4gICAgLy8gRGVmaW5pdGlvbiBzY2FsZSBpcyB0aGUgcm9vdCBlbGVtZW50IG9mIHdoYXQgaXMgZ2VuZXJhdGVkIGJ5IHZlcm92aW9cbiAgICBcbiAgICAoZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLicgKyBtZWlDbGFzc05hbWUpIGFzIE5vZGVMaXN0T2Y8SFRNTEVsZW1lbnQ+KS5mb3JFYWNoKGcgPT4ge1xuICAgICAgZy5zdHlsZS5vcGFjaXR5ID0gbmV3T3BhY2l0eS50b1N0cmluZygpO1xuICAgIH0pO1xuXG4gICAgbGFzdEdseXBoT3BhY2l0eSA9IE51bWJlcihvcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBvcGFjaXR5U2xpZGVyLnZhbHVlID0gU3RyaW5nKG5ld09wYWNpdHkgKiAxMDApO1xuICAgIG9wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdPcGFjaXR5ICogMTAwKSk7XG5cbiAgICBzZXRTZXR0aW5ncyh7IGdseXBoT3BhY2l0eTogbmV3T3BhY2l0eSAqIDEwMCB9KTtcblxuICAgIGlucHV0Q2hhbmdlT3BhY2l0eSgpO1xuICB9KTtcblxuICBvcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgaW5wdXRDaGFuZ2VPcGFjaXR5KTtcbiAgb3BhY2l0eVNsaWRlci5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBpbnB1dENoYW5nZU9wYWNpdHkpO1xuXG4gIG9wYWNpdHlTbGlkZXIuZGlzYWJsZWQgPSBmYWxzZTtcbn1cblxuXG4vKipcbiAqIFNldCBiYWNrZ3JvdW5kIGltYWdlIG9wYWNpdHkgYnV0dG9uIGFuZCBzbGlkZXIgbGlzdGVuZXJzLlxuICogQHBhcmFtIGJhY2tncm91bmQgLSBUaGUgYmFja2dyb3VuZCBpbWFnZSBzZWxlY3Rvci5cbiAqL1xuZnVuY3Rpb24gc2V0QmFja2dyb3VuZE9wYWNpdHlDb250cm9scyAoYmFja2dyb3VuZDogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eVNsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ09wYWNpdHlTbGlkZXInKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBiZ09wYWNpdHlPdXRwdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYmdPcGFjaXR5T3V0cHV0JykgYXMgSFRNTE91dHB1dEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBpbWFnZU9wYWNpdHkgfSA9IGdldFNldHRpbmdzKCk7XG4gIGxhc3RJbWFnZU9wYWNpdHkgPSBpbWFnZU9wYWNpdHk7XG4gIGJnT3BhY2l0eVNsaWRlci52YWx1ZSA9IFN0cmluZyhpbWFnZU9wYWNpdHkpO1xuICBiZ09wYWNpdHlPdXRwdXQudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcblxuICBmdW5jdGlvbiBiZ0lucHV0Q2hhbmdlSGFuZGxlciAoKTogdm9pZCB7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gYmdPcGFjaXR5U2xpZGVyLnZhbHVlO1xuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyKGJhY2tncm91bmQpO1xuICB9XG5cblxuICBjb25zdCB0b2dnbGVCZ09wYWNpdHlCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWJnLW9wYWNpdHknKTtcblxuICBpZiAoaW1hZ2VPcGFjaXR5ID09IDEwMCkge1xuICAgIHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuYWRkKCdoaWRlLWljb24nKTtcbiAgfVxuXG4gIHRvZ2dsZUJnT3BhY2l0eUJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcblxuICAgIGxldCBuZXdPcGFjaXR5O1xuXG4gICAgaWYgKHRvZ2dsZUJnT3BhY2l0eUJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ2hpZGUtaWNvbicpKSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LnJlbW92ZSgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICB0b2dnbGVCZ09wYWNpdHlCdG4uY2xhc3NMaXN0LmFkZCgnaGlkZS1pY29uJyk7XG4gICAgICBuZXdPcGFjaXR5ID0gMTtcbiAgICB9XG4gICAgKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoYmFja2dyb3VuZClbMF0gYXMgSFRNTEVsZW1lbnQpXG4gICAgICAuc3R5bGUub3BhY2l0eSA9IG5ld09wYWNpdHkudG9TdHJpbmcoKTtcblxuICAgIGxhc3RJbWFnZU9wYWNpdHkgPSBOdW1iZXIoYmdPcGFjaXR5U2xpZGVyLnZhbHVlKTtcbiAgICBiZ09wYWNpdHlTbGlkZXIudmFsdWUgPSBTdHJpbmcobmV3T3BhY2l0eSAqIDEwMCk7XG4gICAgYmdPcGFjaXR5T3V0cHV0LnZhbHVlID0gU3RyaW5nKE1hdGgucm91bmQobmV3T3BhY2l0eSAqIDEwMCkpO1xuXG4gICAgc2V0U2V0dGluZ3MoeyBpbWFnZU9wYWNpdHk6IG5ld09wYWNpdHkgKiAxMDAgfSk7XG4gICAgYmdJbnB1dENoYW5nZUhhbmRsZXIoKTtcbiAgfSk7XG5cbiAgYmdPcGFjaXR5U2xpZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuICBiZ09wYWNpdHlTbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgYmdJbnB1dENoYW5nZUhhbmRsZXIpO1xuXG4gIGJnT3BhY2l0eVNsaWRlci5kaXNhYmxlZCA9IGZhbHNlO1xufVxuXG5cbmV4cG9ydCBmdW5jdGlvbiBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIChiYWNrZ3JvdW5kPzogc3RyaW5nKTogdm9pZCB7XG4gIGNvbnN0IGJnT3BhY2l0eU91dHB1dDogSFRNTE91dHB1dEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjYmdPcGFjaXR5T3V0cHV0Jyk7XG4gIFxuICBzZXRTZXR0aW5ncyh7IGltYWdlT3BhY2l0eTogTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgfSk7XG5cbiAgLy8gZGlzcGF5IGNvcnJlY3Qgc2xpZGVyIHRpZ2dsZSBkaXNwbGF5IGljb25cbiAgY29uc3QgaGlkZUJnSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3RvZ2dsZS1iZy1vcGFjaXR5ID4gaW1nJyk7XG4gIGlmIChOdW1iZXIoYmdPcGFjaXR5T3V0cHV0LnZhbHVlKSA9PT0gMCkge1xuICAgIGhpZGVCZ0ltZy5zZXRBdHRyaWJ1dGUoJ3NyYycsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9zaG93LWljb24uc3ZnYCk7XG4gICAgaGlkZUJnSW1nLnBhcmVudEVsZW1lbnQuc2V0QXR0cmlidXRlKCd0aXRsZScsICdTaG93IGJhY2tncm91bmQgaW1hZ2UnKTtcbiAgfVxuICBlbHNlIHtcbiAgICBoaWRlQmdJbWcuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z2ApO1xuICAgIGhpZGVCZ0ltZy5wYXJlbnRFbGVtZW50LnNldEF0dHJpYnV0ZSgndGl0bGUnLCAnSGlkZSBiYWNrZ3JvdW5kIGltYWdlJyk7XG4gIH1cblxuICBjb25zdCBiZzogSFRNTEVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAuJHtiYWNrZ3JvdW5kfWApO1xuICBpZiAoYmcpIGJnLnN0eWxlLm9wYWNpdHkgPSBTdHJpbmcoTnVtYmVyKGJnT3BhY2l0eU91dHB1dC52YWx1ZSkgLyAxMDApO1xufVxuXG4vKipcbiAqIFVwZGF0ZSBoaWdobGlnaHQgZHJvcGRvd24gb3B0aW9uICsgZGlzcGxheVxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSGlnaGxpZ2h0T3B0aW9uIChncm91cDogR3JvdXBpbmdUeXBlKTogdm9pZCB7XG4gIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGBoaWdobGlnaHQtJHtncm91cH1gKTtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG4gIGNvbnN0IGhpZ2hsaWdodFR5cGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXR5cGUnKTtcblxuICAvLyBzYXZlIGhpZ2hsaWdodCBvcHRpb24gdG8gbG9jYWxTdG9yYWdlXG4gIHNldFNldHRpbmdzKHsgaGlnaGxpZ2h0TW9kZTogZ3JvdXAgfSk7XG5cbiAgZHJvcGRvd24uY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gIH0pO1xuXG4gIGlmIChncm91cCA9PT0gJ25vbmUnKSB7XG4gICAgaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudCA9ICdcXHhBMC0gT2ZmJztcbiAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIFxuICBvcHRpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG5cbiAgLy8gVGV4dCBjb250ZW50IGlzIHRoZSBncm91cGluZyB0eXBlIGNhcGl0YWxpemVkXG4gIGhpZ2hsaWdodFR5cGUudGV4dENvbnRlbnQgPSBgXFx4QTAtICR7Z3JvdXBbMF0udG9VcHBlckNhc2UoKSArIGdyb3VwLnNsaWNlKDEpfWA7XG4gIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KGdyb3VwKTtcbn1cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgaGlnaGxpZ2h0IG1vZGUgY2hvc2VuIGJ5IHRoZSB1c2VyLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0SGlnaGxpZ2h0VHlwZSAoKTogR3JvdXBpbmdUeXBlIHtcbiAgY29uc3QgaGlnaGxpZ2h0VHlwZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdoaWdobGlnaHQtdHlwZScpO1xuICByZXR1cm4gaGlnaGxpZ2h0VHlwZS50ZXh0Q29udGVudC5zbGljZSgzKS50b0xvd2VyQ2FzZSgpIGFzIEdyb3VwaW5nVHlwZTtcbn1cblxuLyoqXG4gKiBTZXQgY2xpY2sgbGlzdGVuZXIgZm9yIGVhY2ggaGlnaGxpZ2h0IGRyb3Bkb3duIG9wdGlvblxuICogQHBhcmFtIGdyb3VwIC0gR3JvdXBpbmdUeXBlIC8gVGhlIERPTSBlbGVtZW50J3MgaWQgYXMgYGhpZ2hsaWdodC0ke2lkfWBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodE9wdGlvbiAoZ3JvdXA6IEdyb3VwaW5nVHlwZSk6IHZvaWQge1xuICBjb25zdCBvcHRpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChgaGlnaGxpZ2h0LSR7Z3JvdXB9YCk7XG4gIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oZ3JvdXApO1xuICB9KTtcbn1cblxuLyoqXG4gKiBDbGlja2F3YXkgbGlzdGVuZXIgZm9yIHRoZSBoaWdobGlnaHQgZHJvcGRvd24uXG4gKi9cbmZ1bmN0aW9uIGhpZ2hsaWdodENsaWNrYXdheSAoKTogdm9pZCB7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIHN0YWZmIGhpZ2hsaWdodGluZyBjaGVja2JveC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldEhpZ2hsaWdodENvbnRyb2xzICgpOiB2b2lkIHtcbiAgY29uc3QgZHJvcGRvd24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LWRyb3Bkb3duJyk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1idXR0b24nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChldnQpID0+IHtcbiAgICBldnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZHJvcGRvd24uY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgaWYgKGRyb3Bkb3duLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuXG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N0YWZmJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3N5bGxhYmxlJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICBzZXRIaWdobGlnaHRPcHRpb24oJ2xheWVyRWxlbWVudCcpO1xuICAgICAgc2V0SGlnaGxpZ2h0T3B0aW9uKCdub25lJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoaWdobGlnaHRDbGlja2F3YXkpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8qKlxuICAqIFNldCBsaXN0ZW5lciBvbiBrZXkgc2hvcnRjdXRzIGZvciBzd2l0Y2hpbmcgYmV0d2VlbiBoaWdobGlnaHRzXG4gICogXG4gICogVGhlIGN1cnJlbnQgcGxhbiBpcyB0byB1c2UgdGhlIGtleXMgcSwgdywgZSwgciwgdCwgYW5kIHlcbiAgKi9cbmZ1bmN0aW9uIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzICgpOiB2b2lkIHtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIC8vIFByZXZlbnQgY21kL2N0cmwrciBmcm9tIGNoYW5naW5nIGhpZ2hsaWdodCBvcHRpb25cbiAgICBpZiAoZXZ0Lm1ldGFLZXkpIHJldHVybjtcblxuICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgY2FzZSAncSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc3RhZmYnKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3JzpcbiAgICAgICAgdXBkYXRlSGlnaGxpZ2h0T3B0aW9uKCdzeWxsYWJsZScpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICB1cGRhdGVIaWdobGlnaHRPcHRpb24oJ25ldW1lJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncic6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbGF5ZXJFbGVtZW50Jyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignc2VsZWN0aW9uJyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneSc6XG4gICAgICAgIHVwZGF0ZUhpZ2hsaWdodE9wdGlvbignbm9uZScpO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gIH0pO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgKCk6IHZvaWQge1xuICBjb25zdCBoaWdobGlnaHRTZWxlY3Rpb24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaGlnaGxpZ2h0LXNlbGVjdGlvbicpO1xuICBoaWdobGlnaHRTZWxlY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC1kcm9wZG93bicpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5mb3JFYWNoKGVsZW0gPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdoaWdobGlnaHQtc2VsZWN0ZWQnKTtcbiAgICB9KTtcbiAgICBoaWdobGlnaHRTZWxlY3Rpb24uY2xhc3NMaXN0LmFkZCgnaGlnaGxpZ2h0LXNlbGVjdGVkJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2hpZ2hsaWdodC10eXBlJykudGV4dENvbnRlbnQgPSAnIC0gU2VsZWN0aW9uJztcbiAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnc2VsZWN0aW9uJyk7XG4gIH0pO1xufVxuXG4vKipcbiAqIFJlc2V0IHRoZSBoaWdobGlnaHQgZm9yIGRpZmZlcmVudCB0eXBlcyBiYXNlZCBvbiB0aGUgJ2hpZ2hsaWdodC1zZWxlY3RlZCcgY2xhc3MgaW4gdGhlIERPTS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZUhpZ2hsaWdodCAoKTogdm9pZCB7XG4gIGxldCBoaWdobGlnaHRJZDogc3RyaW5nO1xuICB0cnkge1xuICAgIGhpZ2hsaWdodElkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkO1xuICB9IGNhdGNoIChlKSB7XG4gICAgaGlnaGxpZ2h0SWQgPSAnJztcbiAgfVxuICBzd2l0Y2ggKGhpZ2hsaWdodElkKSB7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN0YWZmJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzdGFmZicpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LXN5bGxhYmxlJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzeWxsYWJsZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LW5ldW1lJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnaGlnaGxpZ2h0LWxheWVyRWxlbWVudCc6XG4gICAgICBDb2xvci5zZXRHcm91cGluZ0hpZ2hsaWdodCgnbGF5ZXJFbGVtZW50Jyk7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdoaWdobGlnaHQtc2VsZWN0aW9uJzpcbiAgICAgIENvbG9yLnNldEdyb3VwaW5nSGlnaGxpZ2h0KCdzZWxlY3Rpb24nKTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICBDb2xvci51bnNldEdyb3VwaW5nSGlnaGxpZ2h0KCk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZXQgbGlzdGVuZXIgb24gYnVyZ2VyIG1lbnUgZm9yIHNtYWxsZXIgc2NyZWVucy5cbiAqL1xuZnVuY3Rpb24gc2V0QnVyZ2VyQ29udHJvbHMgKCk6IHZvaWQge1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYnVyZ2VyTWVudScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidXJnZXJNZW51JykuY2xhc3NMaXN0LnRvZ2dsZSgnaXMtYWN0aXZlJyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdk1lbnUnKS5jbGFzc0xpc3QudG9nZ2xlKCdpcy1hY3RpdmUnKTtcbiAgfSk7XG59XG5cbi8qKiBcbiAqIFNldCBsaXN0ZW5lciBmb3IgXCJEaXNwbGF5IEFsbFwiIGJ1dHRvbiBpbiBEaXNwbGF5IHBhbmVsLlxuKi9cbmZ1bmN0aW9uIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgc2VsZWN0QWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Rpc3BsYXktYWxsLWJ0bicpO1xuICBzZWxlY3RBbGxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gYXQgdGhlIG1vbWVudCwgY2xhc3NuYW1lICdzZWxlY3RlZCcgaXMgb25seSB1c2VkIGZvciB0cmFja2luZyBwdXJwb3Nlc1xuICAgIGlmIChzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnRGlzcGxheSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyID4gLmNoZWNrYm94Jyk7XG5cbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmIChvcHRpb24uY2hlY2tlZCkgb3B0aW9uLmNsaWNrKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBzZWxlY3RBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIHNlbGVjdEFsbEJ0bi5pbm5lckhUTUwgPSAnSGlkZSBBbGwnO1xuICAgICAgY29uc3Qgb3B0aW9ucyA9ICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2hlY2tib3gtY29udGFpbmVyID4gLmNoZWNrYm94Jyk7XG4gICAgICBcbiAgICAgIEFycmF5LmZyb20ob3B0aW9ucykuZm9yRWFjaCgob3B0aW9uOiBIVE1MSW5wdXRFbGVtZW50KSA9PiB7XG4gICAgICAgIGlmICghb3B0aW9uLmNoZWNrZWQpIG9wdGlvbi5jbGljaygpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBMb2FkIGhpZ2hsaWdodCBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9hZEhpZ2hsaWdodFNldHRpbmdzICgpOiB2b2lkIHtcbiAgY29uc3QgeyBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICB1cGRhdGVIaWdobGlnaHRPcHRpb24oaGlnaGxpZ2h0TW9kZSk7XG59XG5cbi8qKlxuICogSW5pdGlhbGl6ZSBsaXN0ZW5lcnMgYW5kIGNvbnRyb2xzIGZvciBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laUNsYXNzTmFtZSAtIFRoZSBjbGFzcyB1c2VkIHRvIHNpZ25pZml5IHRoZSBNRUkgZWxlbWVudChzKS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBiYWNrZ3JvdW5kIC0gVGhlIGNsYXNzIHVzZWQgdG8gc2lnbmlmeSB0aGUgYmFja2dyb3VuZC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXREaXNwbGF5Q29udHJvbHMgKG1laUNsYXNzTmFtZTogc3RyaW5nLCBiYWNrZ3JvdW5kOiBzdHJpbmcpOiB2b2lkIHtcbiAgc2V0T3BhY2l0eUNvbnRyb2xzKG1laUNsYXNzTmFtZSk7XG4gIHNldEJhY2tncm91bmRPcGFjaXR5Q29udHJvbHMoYmFja2dyb3VuZCk7XG4gIHNldEhpZ2hsaWdodENvbnRyb2xzKCk7XG4gIHNldEJ1cmdlckNvbnRyb2xzKCk7XG4gIHNldEhpZ2hsaWdodEtleUNvbnRyb2xzKCk7XG4gIHNldERpc3BsYXlBbGxMaXN0ZW5lcigpO1xuICBsb2FkSGlnaGxpZ2h0U2V0dGluZ3MoKTtcblxuICBjb25zdCBkaXNwbGF5Q29udGVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUNvbnRlbnRzJyk7XG4gIGNvbnN0IHRvZ2dsZURpc3BsYXkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlRGlzcGxheScpO1xuICBjb25zdCBkaXNwbGF5SGVhZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlIZWFkZXInKTtcblxuICBkaXNwbGF5SGVhZGVyLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIC8vIGlmIGRpc3BsYXkgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGRpc3BsYXlDb250ZW50cy5jbGFzc0xpc3QuY29udGFpbnMoJ2Nsb3NlZCcpKSB7XG4gICAgICBkaXNwbGF5Q29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBkaXNwbGF5Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGRpc3BsYXlDb250ZW50cy5zdHlsZS5vdmVyZmxvdyA9ICd2aXNpYmxlJztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZGlzcGxheSBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgZGlzcGxheUNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgZGlzcGxheUNvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMHB4JztcbiAgICAgIH0sIDIwMCk7XG4gICAgICB0b2dnbGVEaXNwbGF5LnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG59XG5cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTZXRUZXh0QWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGhvdGtleXNNb2RhbCwgZWRpdFRleHRNb2RhbCB9IGZyb20gJy4uL1NxdWFyZUVkaXQvQ29udGVudHMnO1xuaW1wb3J0IHsgdXBsb2FkQXJlYUhUTUwgfSBmcm9tICcuLi9EYXNoYm9hcmQvZGFzaGJvYXJkX2NvbXBvbmVudHMnO1xuaW1wb3J0IHsgdXBkYXRlU2VsZWN0ZWRCQm94IH0gZnJvbSAnLi4vVGV4dEVkaXRNb2RlJztcblxuXG4vKipcbiAqIERlZmluZXMgbW9kYWwgdHlwZXMuXG4gKiBUbyBjcmVhdGUgbmV3IG1vZGFsIHdpbmRvdyB0eXBlcywgYWRkIGVudW0gb3B0aW9uIGFuZCBpbXBsZW1lbnQgbG9naWMgaW5zaWRlIE1vZGFsIGNsYXNzLlxuICovXG5leHBvcnQgZW51bSBNb2RhbFdpbmRvd1ZpZXcge1xuICBFRElUX1RFWFQsXG4gIEhPVEtFWVMsXG4gIFZBTElEQVRJT05fU1RBVFVTLFxuICBET0NVTUVOVF9VUExPQURcbn1cblxuZW51bSBNb2RhbFdpbmRvd1N0YXRlIHtcbiAgT1BFTixcbiAgQ0xPU0VEXG59XG5cblxuXG4vKipcbiAqIE1vZGFsIGNsYXNzIGlzIHVzZWQgdG8gY3JlYXRlIGFuZCBjb250cm9sIHN0YXRlL2NvbnRlbnQgXG4gKiBvZiBtb2RhbCB3aW5kb3dzIGluIE5lb24uXG4gKi9cbmV4cG9ydCBjbGFzcyBNb2RhbFdpbmRvdyBpbXBsZW1lbnRzIE1vZGFsV2luZG93SW50ZXJmYWNlIHtcbiAgcHJpdmF0ZSBtb2RhbFdpbmRvd1ZpZXc6IE1vZGFsV2luZG93VmlldzsgLy8gY3VycmVudCBtb2RhbCB0eXBlXG4gIHByaXZhdGUgbW9kYWxXaW5kb3dTdGF0ZTogTW9kYWxXaW5kb3dTdGF0ZTsgLy8gb3BlbiBvciBjbG9zZWQ/XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3OyAvLyBuZW9uVmlldyBpbnN0YW5jZSBjb250ZXh0XG5cblxuICAvKipcbiAgICogU2V0IG5lb25WaWV3IGluc3RhbmNlIGNvbnRleHQgZm9yIHRoaXMgbW9kYWwgd2luZG93IGluc3RhbmNlLlxuICAgKiBAcGFyYW0gbmVvblZpZXcgbmVvblZpZXcgY29udGV4dCBmb3IgTW9kYWwgaW5zdGFuY2VcbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldz86IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuXG4gICAgLy8gc2V0IGV2ZW50IGxpc3RlbmVycyB0aGF0IGFwcGx5IHRvIGFsbCBtb2RhbCB3aW5kb3dzXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWhlYWRlci1jbG9zZScpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93JykuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyLmJpbmQodGhpcykpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuZm9jdXNNb2RhbFdpbmRvdy5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIFxuXG5cbiAgLyoqXG4gICAqIFNldCB0aGUgbW9kYWwgdmlldyBvZiB0aGlzIE1vZGFsIGluc3RhbmNlLlxuICAgKiBVcGRhdGUgdGhlIGNvbnRlbnQgYmFzZWQgb24gcGFzc2VkIHZpZXcuXG4gICAqIEBwYXJhbSB2aWV3IFR5cGUgb2YgbW9kYWwgdG8gb3BlbiAoTW9kYWxWaWV3IGVudW0pXG4gICAqL1xuICBzZXRNb2RhbFdpbmRvd1ZpZXcodmlldzogTW9kYWxXaW5kb3dWaWV3LCBjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1ZpZXcgPSB2aWV3O1xuICAgIHRoaXMuc2V0TW9kYWxXaW5kb3dDb250ZW50KGNvbnRlbnQpO1xuICB9XG5cblxuICAvKipcbiAgICogUmV0dXJuIHRoZSBjdXJyZW50IG1vZGFsIHZpZXcgYXMgYSBzdHJpbmdcbiAgICovXG4gIGdldE1vZGFsV2luZG93VmlldygpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLm1vZGFsV2luZG93Vmlldy50b1N0cmluZygpO1xuICB9XG5cblxuICAvKipcbiAgICogT3BlbiBhIG1vZGVsIHdpbmRvdyB3aXRoIGNvbnRlbnQgcmVwcmVzZW50aW5nIHRoZSBjdXJyZW50IE1vZGFsVmlldy5cbiAgICovXG4gIG9wZW5Nb2RhbFdpbmRvdygpOiB2b2lkIHtcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG4gICAgc3dpdGNoKHRoaXMubW9kYWxXaW5kb3dWaWV3KSB7XG4gICAgICBcbiAgICAgIGNhc2UgTW9kYWxXaW5kb3dWaWV3LkVESVRfVEVYVDpcbiAgICAgICAgdGhpcy5vcGVuRWRpdFN5bFRleHRNb2RhbFdpbmRvdygpO1xuICAgICAgICBicmVhaztcbiAgICAgICAgXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1ob3RrZXlzJykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAgIC8vIGFkZCBmdW5jdGlvbiB0byBwYWlyaW5nIGJ1dHRvblxuICAgICAgICBcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ2ZsZXgnO1xuICAgICAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIC8vIG1ha2Ugc3VyZSB1c2VyIGNhbid0IHNjcm9sbCB3aGVuIG1vZGFsIGlzIG9wZW5cbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WCA9ICdoaWRkZW4nO1xuICAgIGRvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3dZID0gJ2hpZGRlbic7XG4gICAgdGhpcy5tb2RhbFdpbmRvd1N0YXRlID0gTW9kYWxXaW5kb3dTdGF0ZS5PUEVOO1xuICB9XG5cblxuXG4gIC8qKlxuICAgKiBIaWRlIHRoZSBOZW9uIG1vZGFsIHdpbmRvd1xuICAgKi9cbiAgaGlkZU1vZGFsV2luZG93KCk6IHZvaWQge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBjb25zdCBzcGFuID0gKDxIVE1MU3BhbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4uc2VsZWN0ZWQtdG8tZWRpdCcpWzBdKTtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250YWluZXInKS5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgXG4gICAgICAgIC8vIGFmdGVyIHRoZSBtb2RhbCBpcyBjbG9zZWQsIG5vIGtleWJvYXJkIHNob3J0Y3V0cyB3b3JrIGJlY2F1c2VcbiAgICAgICAgLy8gdGhlIGRvY3VtZW50IGhhc24ndCBiZWVuIGZvY3VzZWQ7IHRoaXMgZm9yY2VmdWxseSBmb2N1c2VzIHRoZSBjb250YWluZXJcbiAgICAgICAgaWYgKHRoaXMubW9kYWxXaW5kb3dWaWV3ICE9PSBNb2RhbFdpbmRvd1ZpZXcuRE9DVU1FTlRfVVBMT0FEKSB7XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpLmZvY3VzKCk7XG4gICAgICAgIH1cbiAgICB9IFxuICAgIC8vIHJlc2V0IHNjcm9sbCBiZWhhdmlvciBvZiBib2R5XG4gICAgZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvd1ggPSAnaGlkZGVuJztcbiAgICBkb2N1bWVudC5ib2R5LnN0eWxlLm92ZXJmbG93WSA9ICdzY3JvbGwnO1xuICAgIHRoaXMubW9kYWxXaW5kb3dTdGF0ZSA9IE1vZGFsV2luZG93U3RhdGUuQ0xPU0VEO1xuICB9XG5cblxuICAvKipcbiAgICogU2V0IGNvbnRlbnQgb2YgbW9kYWwgd2luZG93XG4gICAqL1xuICBwcml2YXRlIHNldE1vZGFsV2luZG93Q29udGVudChjb250ZW50Pzogc3RyaW5nKTogdm9pZCB7XG4gICAgc3dpdGNoICh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSBlZGl0VGV4dE1vZGFsO1xuICAgICAgICAvLyBzZXQgbW9kYWwgd2luZG93IHRpdGxlXG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnRURJVCBTWUxMQUJMRSBURVhUJztcblxuICAgICAgICAvLyBzcGFuIGFuZCBjdXJyZW50IHRleHQgb2Ygc2VsZWN0ZWQtdG8tZWRpdCBzeWxsYWJsZSBhbmQgZmlsdGVyIG91dCB1bndhbnRlZCBjaGFyc1xuICAgICAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF07XG4gICAgICAgIGNvbnN0IHJlbW92ZVN5bWJvbCA9IC9cXHV7MjVDQX0vdTtcbiAgICAgICAgY29uc3Qgb3JpZyA9IHNwYW4udGV4dENvbnRlbnQucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG5cbiAgICAgICAgLy8gc2V0IHZhbHVlIG9mIGlucHV0IGZpZWxkIHRvIGN1cnJlbnQgc3lsbGFibGUgdGV4dFxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpKS52YWx1ZSA9IG9yaWc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5IT1RLRVlTOlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGVudC1jb250YWluZXInKS5pbm5lckhUTUwgPSBob3RrZXlzTW9kYWw7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnSE9US0VZUyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5WQUxJREFUSU9OX1NUQVRVUzpcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gXG4gICAgICAgICAgYDxkaXYgc3R5bGU9XCJtYXJnaW4tYm90dG9tOiAzMHB4O3doaXRlLXNwYWNlOiBwcmUtbGluZTtcIj4ke2NvbnRlbnR9PC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cIm5lb24tbW9kYWwtd2luZG93LWJ0blwiPlxuICAgICAgICAgICAgPGEgaHJlZj1cImRhdGE6dGV4dC9wbGFpbjtjaGFyc2V0PXV0Zi04LCR7ZW5jb2RlVVJJQ29tcG9uZW50KGNvbnRlbnQpfVwiIGRvd25sb2FkPVwidmFsaWRhdGlvbi5sb2dcIj5cbiAgICAgICAgICAgICAgRXhwb3J0XG4gICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctaGVhZGVyLXRpdGxlJykuaW5uZXJUZXh0ID0gJ0VSUk9SIExPRyc7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBjYXNlIE1vZGFsV2luZG93Vmlldy5ET0NVTUVOVF9VUExPQUQ6XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1oZWFkZXItdGl0bGUnKS5pbm5lclRleHQgPSAnRE9DVU1FTlQgVVBMT0FEJztcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtY29udGFpbmVyJykuaW5uZXJIVE1MID0gdXBsb2FkQXJlYUhUTUw7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBjb25zb2xlLmVycm9yKCdVbmtub3duIHNlbGVjdGlvbiB0eXBlLiBUaGlzIHNob3VsZCBub3QgaGF2ZSBvY2N1cnJlZC4nKTtcbiAgICB9IFxuICB9XG5cblxuICAvKipcbiAgICogRmlsbCBtb2RhbCB3aW5kb3cgd2l0aCBjb250ZW50IGZvciB1cGRhdGluZyBzeWxsYWJsZSB0ZXh0XG4gICAqL1xuICBwcml2YXRlIG9wZW5FZGl0U3lsVGV4dE1vZGFsV2luZG93ID0gZnVuY3Rpb24oKTogdm9pZCB7XG4gICAgLy8gbWFrZSBzdXJlIG5vIG90aGVyIG1vZGFsIGNvbnRlbnQgaXMgYmVpbmcgZGlzcGxheWVkXG4gICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50JykpLmZvckVhY2goIChlbGVtKSA9PiB7XG4gICAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICB9KTtcblxuICAgIC8vIHNldCB1cCBFZGl0IFN5bGxhYmxlIFRleHQgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQtZWRpdC10ZXh0JykuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgIFxuICAgIC8vIFJlc2V0IFwiQ2FuY2VsXCIgYnV0dG9uIGV2ZW50IGxpc3RlbmVyXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWVkaXQtdGV4dC1jYW5jZWwnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGlkZU1vZGFsV2luZG93KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWNhbmNlbCcpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oaWRlTW9kYWxXaW5kb3cuYmluZCh0aGlzKSk7XG5cbiAgICAvLyBSZXNldCBcIlNhdmVcIiBidXR0b24gZXZlbnQgbGlzdGVuZXJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmUnKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlU3lsVGV4dC5iaW5kKHRoaXMpKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LXNhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMudXBkYXRlU3lsVGV4dC5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGRpc3BsYXkgbW9kYWwgd2luZG93XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tbW9kYWwtd2luZG93LWNvbnRhaW5lcicpLnN0eWxlLmRpc3BsYXkgPSAnZmxleCc7XG4gICAgdGhpcy5mb2N1c01vZGFsV2luZG93KCk7XG4gIH07XG5cbiAgLyoqXG4gICAqIFVwZGF0ZSB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGVzIHdpdGggdXNlci1wcm92aWRlZCB0ZXh0XG4gICAqL1xuICBwcml2YXRlIHVwZGF0ZVN5bFRleHQgPSBmdW5jdGlvbiAoKSB7XG4gICAgLy8gc3BhbiBhbmQgY3VycmVudCB0ZXh0IG9mIHNlbGVjdGVkLXRvLWVkaXQgc3lsbGFibGUgYW5kIGZpbHRlciBvdXQgdW53YW50ZWQgY2hhcnNcbiAgICBjb25zdCBzcGFuID0gPEhUTUxTcGFuRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0JykucXVlcnlTZWxlY3RvckFsbCgnc3Bhbi5zZWxlY3RlZC10by1lZGl0JylbMF07XG4gICAgY29uc3QgcmVtb3ZlU3ltYm9sID0gL1xcdXsyNUNBfS91O1xuICAgIGNvbnN0IG9yaWcgPSBzcGFuLnRleHRDb250ZW50LnJlcGxhY2UocmVtb3ZlU3ltYm9sLCAnJykudHJpbSgpO1xuICAgIGNvbnN0IHVwZGF0ZWRTeWxUZXh0ID0gKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctZWRpdC10ZXh0LWlucHV0JykpLnZhbHVlO1xuXG4gICAgaWYgKHVwZGF0ZWRTeWxUZXh0ICE9PSBudWxsICYmIHVwZGF0ZWRTeWxUZXh0ICE9PSBvcmlnKSB7XG4gICAgICAvLyBjcmVhdGUgXCJzZXQgdGV4dFwiIGFjdGlvblxuICAgICAgY29uc3QgZWxlbWVudElkID0gWy4uLnNwYW4uY2xhc3NMaXN0LmVudHJpZXMoKV0uZmlsdGVyKChjbGFzc05hbWUpID0+IGNsYXNzTmFtZVsxXSAhPT0gJ3RleHQtc2VsZWN0JyAmJiBjbGFzc05hbWVbMV0gIT09ICdzZWxlY3RlZC10by1lZGl0JylbMF1bMV07XG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNldFRleHRBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3NldFRleHQnLFxuICAgICAgICBwYXJhbToge1xuICAgICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkLFxuICAgICAgICAgIHRleHQ6IHVwZGF0ZWRTeWxUZXh0LFxuICAgICAgICB9LFxuICAgICAgfTtcbiAgICAgIC8vIHNlbmQgYWN0aW9uIHRvIHZlcm92aW8gZm9yIHByb2Nlc3NpbmdcbiAgICAgIHRoaXMubmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXNwb25zZTogYm9vbGVhbikgPT4ge1xuICAgICAgICBpZiAocmVzcG9uc2UpIHtcbiAgICAgICAgICAvLyB1cGRhdGUgdGhlIFNWR1xuICAgICAgICAgIHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgIC8vIEFuIHVwZGF0ZSB0byB0aGUgcGFnZSB3aWxsIHJlbG9hZCB0aGUgZW50aXJlIHN2ZztcbiAgICAgICAgICAgIC8vIFdlIHdvdWxkIGxpa2UgdG8gdGhlbiByZXNlbGVjdCB0aGUgc2FtZSBzZWxlY3RlZCBzeWxsYWJsZVxuICAgICAgICAgICAgLy8gaWYgYmJveGVzIGFyZSBlbmFibGVkXG4gICAgICAgICAgICB1cGRhdGVTZWxlY3RlZEJCb3goc3BhbiwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBjbG9zZSBtb2RhbCB3aW5kb3dcbiAgICB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICB9O1xuXG5cbiAgLyoqXG4gICAqIEZpbGwgbW9kYWwgd2luZG93IHdpdGggaG90a2V5IGluZm8gY29udGVudFxuICAgKi9cbiAgLypcbiAgcHJpdmF0ZSBvcGVuSG90a2V5TW9kYWxXaW5kb3cgPSBmdW5jdGlvbigpIHsgICBcbiAgICAvLyBtYWtlIHN1cmUgbm8gb3RoZXIgbW9kYWwgY29udGVudCBpcyBiZWluZyBkaXNwbGF5ZWRcbiAgICBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ25lb24tbW9kYWwtd2luZG93LWNvbnRlbnQnKSkuZm9yRWFjaCgoZWxlbSkgPT4ge1xuICAgICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCd2aXNpYmxlJyk7XG4gICAgfSk7XG5cbiAgICAvLyBzZXQgdXAgYW5kIGRpcGxheSBob3RrZXkgbW9kYWwgY29udGVudFxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1jb250ZW50LWhvdGtleXMnKS5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3ctY29udGFpbmVyJykuc3R5bGUuZGlzcGxheSA9ICdmbGV4JztcbiAgICB0aGlzLmZvY3VzTW9kYWxXaW5kb3coKTtcbiAgfTtcbiAgKi9cblxuXG4gIC8qKlxuICAgKiBEZWZpbmUgZXZlbnQgbGlzdGVuZXJzIGZvciBtb2RhbCB3aW5kb3cgYmFzZWQgb24gbW9kYWxWaWV3IHR5cGVcbiAgICovXG4gIHByaXZhdGUga2V5ZG93bkxpc3RlbmVyID0gZnVuY3Rpb24oZSkge1xuICAgIGUuc3RvcEltbWVkaWF0ZVByb3BhZ2F0aW9uKCk7IC8vIHByZXZlbnQgTmVvbiBob3RrZXkgZXZlbnRzIGZyb20gZmlyaW5nIHdoZW4gdXNlciBpcyB0eXBpbmdcblxuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFbnRlcicpIHRoaXMudXBkYXRlU3lsVGV4dCgpO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBpZiAoZS5rZXkgPT09ICdFc2NhcGUnKSB0aGlzLmhpZGVNb2RhbFdpbmRvdygpO1xuICAgIH0gIFxuICB9O1xuXG5cbiAgLyoqXG4gICAqIEV2ZW50IGxpc3RlbmVyIHRoYXQgZm9jdXNlcyB0aGUgbW9kYWwgd2luZG93IGlmIHVzZXIgY2xpY2tzIGFueXdoZXJlIG91dHNpZGUgb2YgaXRcbiAgICovXG4gIHByaXZhdGUgZm9jdXNNb2RhbFdpbmRvdyA9IGZ1bmN0aW9uKCkge1xuICAgIHN3aXRjaCh0aGlzLm1vZGFsV2luZG93Vmlldykge1xuICAgICAgY2FzZSBNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUOlxuICAgICAgICAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZW9uLW1vZGFsLXdpbmRvdy1lZGl0LXRleHQtaW5wdXQnKSkuc2VsZWN0KCk7XG4gICAgICAgIGJyZWFrO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tb2RhbC13aW5kb3cnKS5mb2N1cygpO1xuICAgIH1cbiAgfTtcblxufVxuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCB7IERyYWdBY3Rpb24sIEVkaXRvckFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEJCb3gsIGlzT3V0T2ZTVkdCb3VuZHMsIGdldEdseXBoQkJveCB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBzZWxlY3RBbGwsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmIH0gZnJvbSAnLi9TZWxlY3RUb29scyc7XG5cbmNsYXNzIERyYWdIYW5kbGVyIHtcbiAgcmVhZG9ubHkgbmVvblZpZXc6IE5lb25WaWV3O1xuICBwcml2YXRlIHNlbGVjdG9yOiBzdHJpbmc7XG4gIHByaXZhdGUgc2VsZWN0aW9uOiBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgcHJpdmF0ZSBub01vdmVQcmVjZWRlczogU1ZHR3JhcGhpY3NFbGVtZW50W107XG5cbiAgcHJpdmF0ZSBkcmFnU3RhcnRDb29yZHM6IFtudW1iZXIsIG51bWJlcl0gPSBbLTEsIC0xXTtcbiAgcHJpdmF0ZSByZXNldFRvQWN0aW9uOiAoc2VsZWN0aW9uOiBkMy5TZWxlY3Rpb248ZDMuQmFzZVR5cGUsIHVua25vd24sIEhUTUxFbGVtZW50LCB1bmtub3duPiwgYXJnczogdW5rbm93bltdKSA9PiB2b2lkO1xuXG4gIHByaXZhdGUgZHg6IG51bWJlcjtcbiAgcHJpdmF0ZSBkeTogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gc2VsZWN0b3IgLSBDU1Mgc2VsZWN0b3Igb2YgZWxlbWVudCB0byBhcHBseSBkcmFnIGhhbmRsZXIgdG8uXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3LCBzZWxlY3Rvcjogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWxlY3RvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbml0aWFsaXplIHRoZSBkcmFnZ2luZyBhY3Rpb24gYW5kIGhhbmRsZXIgZm9yIHNlbGVjdGVkIGVsZW1lbnRzLlxuICAgKi9cbiAgZHJhZ0luaXQgKCk6IHZvaWQge1xuICAgIC8vIERyYWcgZWZmZWN0c1xuICAgIGZ1bmN0aW9uIGRyYWdTdGFydGVkICgpOiB2b2lkIHtcbiAgICAgIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzID0gW2QzLmV2ZW50LngsIGQzLmV2ZW50LnldO1xuICAgICAgdGhpcy5keCA9IDA7XG4gICAgICB0aGlzLmR5ID0gMDtcbiAgICAgIGNvbnN0IHRhcmdldCA9IGQzLmV2ZW50LnNvdXJjZUV2ZW50LnRhcmdldDtcbiAgICAgIGlmICh0YXJnZXQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKGRyYWdCZWhhdmlvdXIpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8vIEFkZGluZyBsaXN0ZW5lcnNcbiAgICBjb25zdCBkcmFnQmVoYXZpb3VyID0gZDMuZHJhZygpXG4gICAgICAub24oJ3N0YXJ0JywgZHJhZ1N0YXJ0ZWQuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZHJhZycsIHRoaXMuZHJhZ2dpbmcuYmluZCh0aGlzKSlcbiAgICAgIC5vbignZW5kJywgdGhpcy5kcmFnRW5kZWQuYmluZCh0aGlzKSk7XG5cbiAgICBjb25zdCBhY3RpdmVOYyA9IGQzLnNlbGVjdEFsbCgnLnNlbGVjdGVkJyk7XG4gICAgYWN0aXZlTmMuY2FsbChkcmFnQmVoYXZpb3VyKTtcblxuICAgIGxldCBzZWxlY3Rpb24gPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnNlbGVjdGVkJykpO1xuXG4gICAgLy8gaWYgdGhlIHVzZXIgZHJhZ3MgdGhlIGZvbGxvd3Mgc3lsbGFibGUgaW4gYSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLCBcbiAgICAvLyBjYW5jZWwgdGhlIGNvbXBlbnNhdGlvbiBmb3Igc3lsIG1vdmVtZW50IGluIGRyYWdnaW5nLlxuICAgIHRoaXMubm9Nb3ZlUHJlY2VkZXMgPSBzZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSAmJiBlbC5oYXNBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpKTtcbiAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24uZmlsdGVyKGVsID0+ICFlbC5jbGFzc0xpc3QuY29udGFpbnMoJ25vLW1vdmluZycpKTtcblxuICAgIHRoaXMuc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGw8U1ZHR3JhcGhpY3NFbGVtZW50PignLnJlc2l6ZVBvaW50JykpKTtcbiAgfVxuXG4gIGRyYWdnaW5nICgpOiB2b2lkIHtcbiAgICB0aGlzLmR4ID0gZDMuZXZlbnQueCAtIHRoaXMuZHJhZ1N0YXJ0Q29vcmRzWzBdO1xuICAgIHRoaXMuZHkgPSBkMy5ldmVudC55IC0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMV07XG5cbiAgICB0aGlzLm1vdmVFbGVtZW50cyh0aGlzLnNlbGVjdGlvbiwgdGhpcy5keCwgdGhpcy5keSk7XG5cbiAgICAvKlxuICAgICAqIGlmIHdlJ3JlIGRyYWdnaW5nIGEgc3lsbGFibGUgKG9yIG5ldW1lIGV0YykgdGhlbiB0aGVyZSB3b24ndCBiZSBhIHN5bCBzZWxlY3RlZFxuICAgICAqIHRoZW4gd2UgZG9uJ3Qgd2FudCB0aGUgYm91bmRpbmcgYm94IChpZiBpdCBpcyBkaXNwbGF5ZWQpIHRvIG1vdmUgd2hlbiBkcmFnZ2luZyB0aGUgbmV1bWVzXG4gICAgICogaXQgd2lsbCBiZSBhIGNoaWxkIG9mIHRoZSBlbGVtZW50IGluIHNlbGVjdGlvbiwgc28gaXQgd2lsbCBnZXQgbW92ZWQgaW4gdGhlIGFib3ZlIGxvb3BcbiAgICAgKiBzbyB3ZSBjYW5jZWwgdGhhdCBtb3ZlbWVudCBvdXQgaGVyZVxuICAgICAqL1xuICAgIGNvbnN0IHN5bHMgPSB0aGlzLnNlbGVjdGlvbi5maWx0ZXIoKGVsKSA9PiBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKTtcbiAgICBpZiAoc3lscy5sZW5ndGggPT09IDAgJiYgdGhpcy5ub01vdmVQcmVjZWRlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLm1vdmVFbGVtZW50cyhiYm94ZXMsIC10aGlzLmR4LCAtdGhpcy5keSk7XG4gICAgfVxuICB9XG5cblxuICBkcmFnRW5kZWQgKCk6IHZvaWQge1xuICAgIC8vIElmIHRoZSBzZWxlY3Rpb24gaGFzIG5vdCBiZWVuIG1vdmVkIG1vcmUgdGhhbiA1IHBpeGVscyBpbiBhbnkgZGlyZWN0aW9uLFxuICAgIC8vIGRvIG5vdCBkbyBhbnkgYWN0aW9uXG4gICAgY29uc3QgeERpZmYgPSBNYXRoLmFicyh0aGlzLmR4KSwgeURpZmYgPSBNYXRoLmFicyh0aGlzLmR5KTtcbiAgICBpZiAoeERpZmYgPD0gNSAmJiB5RGlmZiA8PSA1KSB7XG4gICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICB0aGlzLmRyYWdJbml0KCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gRmlsdGVyIHNlbGVjdGlvbiBmb3IgZHJhZ2dhYmxlIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uID0gdGhpcy5zZWxlY3Rpb24uZmlsdGVyKChlbCkgPT4gIWVsLmNsYXNzTGlzdC5jb250YWlucygncmVzaXplUG9pbnQnKSk7XG5cbiAgICAvLyBJZiB0aGUgY3Vyc29yIGlzIG91dCBvZiBib3VuZHMgb3IgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyBvdXQgb2YgYm91bmRzLFxuICAgIC8vIGRyYWcgYWN0aW9ucyBzaG91bGQgbm90IGhhcHBlbi4gUmV0dXJuIGFuIGVycm9yIG5vdGlmaWNhdGlvbiBhbmQgcmVzZXRcbiAgICAvLyB0aGUgZHJhZyBoYW5kbGVyXG4gICAgaWYgKHRoaXMuaXNDdXJzb3JPdXRPZkJvdW5kcygpIHx8IHRoaXMuaXNEcmFnT3V0T2ZCb3VuZHMoc2VsZWN0aW9uKSkge1xuICAgICAgLy8gUmV0dXJuIHRoZSBzZWxlY3Rpb24gYmFjayB0byBub3JtYWwgc3RhdGVcbiAgICAgIHRoaXMucmV0dXJuRWxlbWVudHModGhpcy5zZWxlY3Rpb24pO1xuXG4gICAgICAvLyBSZXR1cm4gdGhlIGJvdW5kaW5nIGJveGVzIGFzIHdlbGxcbiAgICAgIGNvbnN0IGJib3hlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bGxhYmxlLnNlbGVjdGVkJykpXG4gICAgICAgIC5tYXAoZWwgPT4gZWwucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG4gICAgICB0aGlzLnJldHVybkVsZW1lbnRzKGJib3hlcyk7XG5cbiAgICAgIHRoaXMucmVzZXQoKTtcbiAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBEcmFnIGFjdGlvbiBmYWlsZWQuJywgJ2Vycm9yJyk7XG4gICAgfVxuXG4gICAgLy8gQ3JlYXRlIHRoZSBjaGFpbiBlZGl0b3IgYWN0aW9uIGZvciBzZWxlY3Rpb25cbiAgICBjb25zdCBwYXJhbUFycmF5OiBFZGl0b3JBY3Rpb25bXSA9IFtdO1xuICAgIHNlbGVjdGlvbi5mb3JFYWNoKChlbCkgPT4ge1xuICAgICAgY29uc3QgaWQgPSBlbC50YWdOYW1lID09PSAncmVjdCcgPyBlbC5jbG9zZXN0KCcuc3lsJykuaWQgOiBlbC5pZDtcblxuICAgICAgY29uc3QgZHJhZ0FjdGlvbjogRHJhZ0FjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnZHJhZycsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgICB4OiB0aGlzLmR4LFxuICAgICAgICAgIHk6IC10aGlzLmR5LFxuICAgICAgICB9XG4gICAgICB9O1xuXG4gICAgICBwYXJhbUFycmF5LnB1c2goZHJhZ0FjdGlvbik7XG4gICAgfSk7XG4gICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICBwYXJhbTogcGFyYW1BcnJheVxuICAgIH07XG5cbiAgICAvLyBTZW5kIGVkaXRvciBhY3Rpb25cbiAgICB0aGlzLm5lb25WaWV3XG4gICAgICAuZWRpdChlZGl0b3JBY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKVxuICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAvLyBOZW9uIHJlLXJlbmRlcnMgdGhlIGVudGlyZSBTVkcsIGFuZCBoZW5jZSwgYmVmb3JlIHdlIGRvIHNvLFxuICAgICAgICAvLyB3ZSBuZWVkIHRvIHN0b3JlIGFsbCB0aGUgZWxlbWVudHMgKElEcykgd2UgbmVlZCB0byBzZWxlY3QgYWdhaW5cbiAgICAgICAgLy8gVGhlbiwgd2UgbmVlZCB0byByZXNlbGVjdCB0aGVtIGJ5IGNhbGxpbmcgYHRoaXMucmVzZWxlY3QoKWBcbiAgICAgICAgY29uc3QgdG9SZXNlbGVjdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlbGVjdGVkJykpXG4gICAgICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCduby1tb3ZpbmcnKSlcbiAgICAgICAgICAubWFwKGVsID0+IGVsLmlkKTtcblxuICAgICAgICAvLyBDQVVUSU9OOiBgdXBkYXRlRm9yQ3VycmVudFBhZ2UoKWAgaXMgYW4gYXN5bmNocm9ub3VzIGZ1bmN0aW9uIVxuICAgICAgICAvLyBJdCByZXF1aXJlcyBhbiBgYXdhaXRgIGtleXdvcmQuXG4gICAgICAgIGF3YWl0IHRoaXMubmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgdGhpcy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICAgIHRoaXMucmVzZXQoKTtcblxuICAgICAgICAvLyBSZXNlbGVjdCB0aGUgZWxlbWVudHMgYW5kIHJlaW5pdGlhbGl6ZSBkcmFnXG4gICAgICAgIGF3YWl0IHRoaXMucmVzZWxlY3QodG9SZXNlbGVjdCk7XG4gICAgICAgIHRoaXMuZHJhZ0luaXQoKTtcbiAgICAgIH0pO1xuICB9XG5cbiAgYXN5bmMgcmVzZWxlY3QgKHRvUmVzZWxlY3Q6IHN0cmluZ1tdKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcmVzZWxlY3RlZCA9IHRvUmVzZWxlY3QubWFwKGlkID0+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8U1ZHR3JhcGhpY3NFbGVtZW50PihgIyR7aWR9YCkpO1xuXG4gICAgLy8gQWxsIGdseXBocyBleGNlcHQgYm91ZGluZyBib3hlcyAoJ3N5bCdzKSBtdXN0IGJlIHNlbGVjdGVkIHdpdGhcbiAgICAvLyBgc2VsZWN0QWxsKClgXG4gICAgcmVzZWxlY3RlZFxuICAgICAgLmZpbHRlcihlbCA9PiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWwnKSlcbiAgICAgIC5mb3JFYWNoKGFzeW5jICgpID0+IGF3YWl0IHNlbGVjdEFsbChyZXNlbGVjdGVkLCB0aGlzLm5lb25WaWV3LCB0aGlzKSk7XG5cbiAgICAvLyBCb3VuZGluZyBib3hlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdEJCb3goKWBcbiAgICByZXNlbGVjdGVkXG4gICAgICAuZmlsdGVyKGVsID0+IGVsLmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpXG4gICAgICAuZm9yRWFjaChcbiAgICAgICAgZWwgPT4gc2VsZWN0QkJveChlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpLCB0aGlzLCB0aGlzLm5lb25WaWV3KVxuICAgICAgKTtcblxuICAgIC8vIFN0YXZlcyBtdXN0IGJlIGV4cGxpY2l0bHkgc2VsZWN0ZWQgdXNpbmcgYHNlbGVjdFN0YWZmKClgXG4gICAgLy8gQU5EIG11c3QgYmUgc2VsZWN0ZWQgd2l0aCBgc2VsZWN0QWxsKClgIGZvciBjb3JyZWN0IGJlaGF2aW9yIChmb3Igc29tZSByZWFzb24pLlxuICAgIHJlc2VsZWN0ZWRcbiAgICAgIC5maWx0ZXIoZWwgPT4gZWwuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKVxuICAgICAgLmZvckVhY2goZWwgPT4gc2VsZWN0U3RhZmYoZWwsIHRoaXMpKTtcbiAgfVxuXG4gIC8qKiBTZXQgdGhlIGQzIGFjdGlvbiB0byB1c2UgZm9yIFtbcmVzZXRdXS4gKi9cbiAgcmVzZXRUbyAocmVzZXQ6IChzZWxlY3Rpb246IGQzLlNlbGVjdGlvbjxkMy5CYXNlVHlwZSwgdW5rbm93biwgSFRNTEVsZW1lbnQsIHVua25vd24+LCBhcmdzOiB1bmtub3duW10pID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnJlc2V0VG9BY3Rpb24gPSByZXNldDtcbiAgfVxuXG4gIC8qKiBSZXNldCB0byBhIHByZXZpb3VzIGQzIGFjdGlvbiBmb3IgW1t0aGlzLnNlbGVjdG9yXV0uICovXG4gIHJlc2V0ICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5yZXNldFRvQWN0aW9uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGQzLnNlbGVjdCh0aGlzLnNlbGVjdG9yKS5jYWxsKHRoaXMucmVzZXRUb0FjdGlvbik7XG4gICAgfVxuICB9XG5cbiAgZW5kT3B0aW9uc1NlbGVjdGlvbiAoKTogdm9pZCB7XG4gICAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgICBjb25zdCBleHRyYUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0Jyk7XG4gICAgaWYgKG1vcmVFZGl0KSB7XG4gICAgICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfVxuICAgIGlmIChleHRyYUVkaXQpIHtcbiAgICAgIGV4dHJhRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgICAgIGV4dHJhRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBWaXN1YWxseSBtb3ZlIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBieSBgZHhgIGFuZCBgZHlgOyAobm90IHVzaW5nIGQzKVxuICAgKi9cbiAgbW92ZUVsZW1lbnRzIChzZWxlY3Rpb246IEVsZW1lbnRbXSwgZHg6IG51bWJlciwgZHk6IG51bWJlcik6IHZvaWQge1xuICAgIHNlbGVjdGlvbi5maWx0ZXIoZWwgPT4gZWwgIT09IG51bGwpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgICBlbC5zZXRBdHRyaWJ1dGUoJ3RyYW5zZm9ybScsIGB0cmFuc2xhdGUoJHtkeH0sJHtkeX0pYCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVmlzdWFsbHkgcmV0dXJuIHNlbGVjdGVkIGVsZW1lbnRzIHRvIHRoZWlyIG9yaWdpbmFsIHBvc2l0aW9uc1xuICAgKiBieSByZW1vdmluZyB0aGUgdHJhbnNmb3JtIGF0dHJpYnV0ZVxuICAgKi9cbiAgcmV0dXJuRWxlbWVudHMgKHNlbGVjdGlvbjogRWxlbWVudFtdKTogdm9pZCB7XG4gICAgc2VsZWN0aW9uLmZpbHRlcihlbCA9PiBlbCAhPT0gbnVsbCkuZm9yRWFjaCgoZWwpID0+IHtcbiAgICAgIGVsLnJlbW92ZUF0dHJpYnV0ZSgndHJhbnNmb3JtJyk7XG4gICAgfSk7XG4gIH1cblxuICBpc0N1cnNvck91dE9mQm91bmRzICgpOiBib29sZWFuIHtcbiAgICBjb25zdCBlbmRYID0gdGhpcy5kcmFnU3RhcnRDb29yZHNbMF0gKyB0aGlzLmR4O1xuICAgIGNvbnN0IGVuZFkgPSB0aGlzLmRyYWdTdGFydENvb3Jkc1sxXSArIHRoaXMuZHk7XG5cbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyhlbmRYLCBlbmRZKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZXR1cm5zIHdoZXRoZXIgdGhlIHNlbGVjdGlvbiBhcnJheSBpcyB3aXRoaW4gdGhlIGJvdW5kcyBvZiB0aGUgU1ZHXG4gICAqIEBwYXJhbSB7U1ZHR3JhcGhpY3NFbGVtZW50W119IHNlbGVjdGlvblxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gSXMgc2VsZWN0aW9uIG91dCBvZiBib3VuZHNcbiAgICovXG4gIGlzRHJhZ091dE9mQm91bmRzIChzZWxlY3Rpb246IFNWR0dyYXBoaWNzRWxlbWVudFtdKTogYm9vbGVhbiB7XG4gICAgLy8gR2V0IHRoZSBib3VuZGluZyBib3hlcyBvZiBhbGwgZ2x5cGhzICg8dXNlPiBlbGVtZW50cykgd2l0aGluIHRoZSBzZWxlY3Rpb24gYXJyYXlcbiAgICBjb25zdCBpc0JCb3hEaXNwbGF5ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkO1xuICAgIGxldCBnbHlwaFNlbGVjdG9yID0gaXNCQm94RGlzcGxheWVkID8gJ3VzZSwgcmVjdCcgOiAndXNlJztcblxuICAgIGlmIChzZWxlY3Rpb25bMF0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSBnbHlwaFNlbGVjdG9yID0gJ3BhdGgnO1xuXG4gICAgY29uc3QgZ2x5cGhzOiBTVkdVc2VFbGVtZW50W10gPSBzZWxlY3Rpb24ucmVkdWNlKFxuICAgICAgKGFjYywgZWwpID0+IGFjYy5jb25jYXQoLi4uZWwucXVlcnlTZWxlY3RvckFsbChnbHlwaFNlbGVjdG9yKSksIFtdXG4gICAgKTtcbiAgICBjb25zdCBnbHlwaEJCb3hlczogQkJveFtdID0gZ2x5cGhzLm1hcChnZXRHbHlwaEJCb3gpO1xuXG4gICAgLy8gR2V0IHRoZSBzdXJyb3VuZGluZyBib3VuZGluZyBib3ggb2YgdGhlIHNlbGVjdGVkIGVsZW1lbnRzXG4gICAgY29uc3Qgc2VsZWN0aW9uQkJveDogQkJveCA9IGdseXBoQkJveGVzLnJlZHVjZShcbiAgICAgIChiYm94LCBjdXJyKSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgdWx4OiBNYXRoLm1pbihiYm94LnVseCwgY3Vyci51bHgpLFxuICAgICAgICAgIHVseTogTWF0aC5taW4oYmJveC51bHksIGN1cnIudWx5KSxcbiAgICAgICAgICBscng6IE1hdGgubWF4KGJib3gubHJ4LCBjdXJyLmxyeCksXG4gICAgICAgICAgbHJ5OiBNYXRoLm1heChiYm94LmxyeSwgY3Vyci5scnkpLFxuICAgICAgICB9O1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdWx4OiBOdW1iZXIuTUFYX1ZBTFVFLFxuICAgICAgICB1bHk6IE51bWJlci5NQVhfVkFMVUUsXG4gICAgICAgIGxyeDogTnVtYmVyLk1JTl9WQUxVRSxcbiAgICAgICAgbHJ5OiBOdW1iZXIuTUlOX1ZBTFVFLFxuICAgICAgfVxuICAgICk7XG5cbiAgICBjb25zdCB7IHVseCwgdWx5LCBscngsIGxyeSB9ID0gc2VsZWN0aW9uQkJveDtcbiAgICByZXR1cm4gaXNPdXRPZlNWR0JvdW5kcyh1bHggKyB0aGlzLmR4LCB1bHkgKyB0aGlzLmR5KSB8fCBpc091dE9mU1ZHQm91bmRzKGxyeCArIHRoaXMuZHgsIGxyeSArIHRoaXMuZHkpO1xuICB9XG59XG5cbmV4cG9ydCB7IERyYWdIYW5kbGVyIGFzIGRlZmF1bHQgfTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHVyaSA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgVmFsaWRhdGlvbkVycm9yID0gZXhwb3J0cy5WYWxpZGF0aW9uRXJyb3IgPSBmdW5jdGlvbiBWYWxpZGF0aW9uRXJyb3IgKG1lc3NhZ2UsIGluc3RhbmNlLCBzY2hlbWEsIHBhdGgsIG5hbWUsIGFyZ3VtZW50KSB7XG4gIGlmKEFycmF5LmlzQXJyYXkocGF0aCkpe1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy5wcm9wZXJ0eSA9IHBhdGgucmVkdWNlKGZ1bmN0aW9uKHN1bSwgaXRlbSl7XG4gICAgICByZXR1cm4gc3VtICsgbWFrZVN1ZmZpeChpdGVtKTtcbiAgICB9LCAnaW5zdGFuY2UnKTtcbiAgfWVsc2UgaWYocGF0aCAhPT0gdW5kZWZpbmVkKXtcbiAgICB0aGlzLnByb3BlcnR5ID0gcGF0aDtcbiAgfVxuICBpZiAobWVzc2FnZSkge1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIH1cbiAgaWYgKHNjaGVtYSkge1xuICAgIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICAgIHRoaXMuc2NoZW1hID0gaWQgfHwgc2NoZW1hO1xuICB9XG4gIGlmIChpbnN0YW5jZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICB9XG4gIHRoaXMubmFtZSA9IG5hbWU7XG4gIHRoaXMuYXJndW1lbnQgPSBhcmd1bWVudDtcbiAgdGhpcy5zdGFjayA9IHRoaXMudG9TdHJpbmcoKTtcbn07XG5cblZhbGlkYXRpb25FcnJvci5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZygpIHtcbiAgcmV0dXJuIHRoaXMucHJvcGVydHkgKyAnICcgKyB0aGlzLm1lc3NhZ2U7XG59O1xuXG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHQgPSBmdW5jdGlvbiBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHRoaXMuaW5zdGFuY2UgPSBpbnN0YW5jZTtcbiAgdGhpcy5zY2hlbWEgPSBzY2hlbWE7XG4gIHRoaXMub3B0aW9ucyA9IG9wdGlvbnM7XG4gIHRoaXMucGF0aCA9IGN0eC5wYXRoO1xuICB0aGlzLnByb3BlcnR5UGF0aCA9IGN0eC5wcm9wZXJ0eVBhdGg7XG4gIHRoaXMuZXJyb3JzID0gW107XG4gIHRoaXMudGhyb3dFcnJvciA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aHJvd0Vycm9yO1xuICB0aGlzLnRocm93Rmlyc3QgPSBvcHRpb25zICYmIG9wdGlvbnMudGhyb3dGaXJzdDtcbiAgdGhpcy50aHJvd0FsbCA9IG9wdGlvbnMgJiYgb3B0aW9ucy50aHJvd0FsbDtcbiAgdGhpcy5kaXNhYmxlRm9ybWF0ID0gb3B0aW9ucyAmJiBvcHRpb25zLmRpc2FibGVGb3JtYXQgPT09IHRydWU7XG59O1xuXG5WYWxpZGF0b3JSZXN1bHQucHJvdG90eXBlLmFkZEVycm9yID0gZnVuY3Rpb24gYWRkRXJyb3IoZGV0YWlsKSB7XG4gIHZhciBlcnI7XG4gIGlmICh0eXBlb2YgZGV0YWlsID09ICdzdHJpbmcnKSB7XG4gICAgZXJyID0gbmV3IFZhbGlkYXRpb25FcnJvcihkZXRhaWwsIHRoaXMuaW5zdGFuY2UsIHRoaXMuc2NoZW1hLCB0aGlzLnBhdGgpO1xuICB9IGVsc2Uge1xuICAgIGlmICghZGV0YWlsKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgZXJyb3IgZGV0YWlsJyk7XG4gICAgaWYgKCFkZXRhaWwubWVzc2FnZSkgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nIGVycm9yIG1lc3NhZ2UnKTtcbiAgICBpZiAoIWRldGFpbC5uYW1lKSB0aHJvdyBuZXcgRXJyb3IoJ01pc3NpbmcgdmFsaWRhdG9yIHR5cGUnKTtcbiAgICBlcnIgPSBuZXcgVmFsaWRhdGlvbkVycm9yKGRldGFpbC5tZXNzYWdlLCB0aGlzLmluc3RhbmNlLCB0aGlzLnNjaGVtYSwgdGhpcy5wYXRoLCBkZXRhaWwubmFtZSwgZGV0YWlsLmFyZ3VtZW50KTtcbiAgfVxuXG4gIHRoaXMuZXJyb3JzLnB1c2goZXJyKTtcbiAgaWYgKHRoaXMudGhyb3dGaXJzdCkge1xuICAgIHRocm93IG5ldyBWYWxpZGF0b3JSZXN1bHRFcnJvcih0aGlzKTtcbiAgfWVsc2UgaWYodGhpcy50aHJvd0Vycm9yKXtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgcmV0dXJuIGVycjtcbn07XG5cblZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUuaW1wb3J0RXJyb3JzID0gZnVuY3Rpb24gaW1wb3J0RXJyb3JzKHJlcykge1xuICBpZiAodHlwZW9mIHJlcyA9PSAnc3RyaW5nJyB8fCAocmVzICYmIHJlcy52YWxpZGF0b3JUeXBlKSkge1xuICAgIHRoaXMuYWRkRXJyb3IocmVzKTtcbiAgfSBlbHNlIGlmIChyZXMgJiYgcmVzLmVycm9ycykge1xuICAgIHRoaXMuZXJyb3JzID0gdGhpcy5lcnJvcnMuY29uY2F0KHJlcy5lcnJvcnMpO1xuICB9XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdpemVyICh2LGkpe1xuICByZXR1cm4gaSsnOiAnK3YudG9TdHJpbmcoKSsnXFxuJztcbn1cblZhbGlkYXRvclJlc3VsdC5wcm90b3R5cGUudG9TdHJpbmcgPSBmdW5jdGlvbiB0b1N0cmluZyhyZXMpIHtcbiAgcmV0dXJuIHRoaXMuZXJyb3JzLm1hcChzdHJpbmdpemVyKS5qb2luKCcnKTtcbn07XG5cbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShWYWxpZGF0b3JSZXN1bHQucHJvdG90eXBlLCBcInZhbGlkXCIsIHsgZ2V0OiBmdW5jdGlvbigpIHtcbiAgcmV0dXJuICF0aGlzLmVycm9ycy5sZW5ndGg7XG59IH0pO1xuXG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHRFcnJvciA9IFZhbGlkYXRvclJlc3VsdEVycm9yO1xuZnVuY3Rpb24gVmFsaWRhdG9yUmVzdWx0RXJyb3IocmVzdWx0KSB7XG4gIGlmKEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKXtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBWYWxpZGF0b3JSZXN1bHRFcnJvcik7XG4gIH1cbiAgdGhpcy5pbnN0YW5jZSA9IHJlc3VsdC5pbnN0YW5jZTtcbiAgdGhpcy5zY2hlbWEgPSByZXN1bHQuc2NoZW1hO1xuICB0aGlzLm9wdGlvbnMgPSByZXN1bHQub3B0aW9ucztcbiAgdGhpcy5lcnJvcnMgPSByZXN1bHQuZXJyb3JzO1xufVxuVmFsaWRhdG9yUmVzdWx0RXJyb3IucHJvdG90eXBlID0gbmV3IEVycm9yKCk7XG5WYWxpZGF0b3JSZXN1bHRFcnJvci5wcm90b3R5cGUuY29uc3RydWN0b3IgPSBWYWxpZGF0b3JSZXN1bHRFcnJvcjtcblZhbGlkYXRvclJlc3VsdEVycm9yLnByb3RvdHlwZS5uYW1lID0gXCJWYWxpZGF0aW9uIEVycm9yXCI7XG5cbi8qKlxuICogRGVzY3JpYmVzIGEgcHJvYmxlbSB3aXRoIGEgU2NoZW1hIHdoaWNoIHByZXZlbnRzIHZhbGlkYXRpb24gb2YgYW4gaW5zdGFuY2VcbiAqIEBuYW1lIFNjaGVtYUVycm9yXG4gKiBAY29uc3RydWN0b3JcbiAqL1xudmFyIFNjaGVtYUVycm9yID0gZXhwb3J0cy5TY2hlbWFFcnJvciA9IGZ1bmN0aW9uIFNjaGVtYUVycm9yIChtc2csIHNjaGVtYSkge1xuICB0aGlzLm1lc3NhZ2UgPSBtc2c7XG4gIHRoaXMuc2NoZW1hID0gc2NoZW1hO1xuICBFcnJvci5jYWxsKHRoaXMsIG1zZyk7XG4gIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFNjaGVtYUVycm9yKTtcbn07XG5TY2hlbWFFcnJvci5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSxcbiAge1xuICAgIGNvbnN0cnVjdG9yOiB7dmFsdWU6IFNjaGVtYUVycm9yLCBlbnVtZXJhYmxlOiBmYWxzZX0sXG4gICAgbmFtZToge3ZhbHVlOiAnU2NoZW1hRXJyb3InLCBlbnVtZXJhYmxlOiBmYWxzZX0sXG4gIH0pO1xuXG52YXIgU2NoZW1hQ29udGV4dCA9IGV4cG9ydHMuU2NoZW1hQ29udGV4dCA9IGZ1bmN0aW9uIFNjaGVtYUNvbnRleHQgKHNjaGVtYSwgb3B0aW9ucywgcGF0aCwgYmFzZSwgc2NoZW1hcykge1xuICB0aGlzLnNjaGVtYSA9IHNjaGVtYTtcbiAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgaWYoQXJyYXkuaXNBcnJheShwYXRoKSl7XG4gICAgdGhpcy5wYXRoID0gcGF0aDtcbiAgICB0aGlzLnByb3BlcnR5UGF0aCA9IHBhdGgucmVkdWNlKGZ1bmN0aW9uKHN1bSwgaXRlbSl7XG4gICAgICByZXR1cm4gc3VtICsgbWFrZVN1ZmZpeChpdGVtKTtcbiAgICB9LCAnaW5zdGFuY2UnKTtcbiAgfWVsc2V7XG4gICAgdGhpcy5wcm9wZXJ0eVBhdGggPSBwYXRoO1xuICB9XG4gIHRoaXMuYmFzZSA9IGJhc2U7XG4gIHRoaXMuc2NoZW1hcyA9IHNjaGVtYXM7XG59O1xuXG5TY2hlbWFDb250ZXh0LnByb3RvdHlwZS5yZXNvbHZlID0gZnVuY3Rpb24gcmVzb2x2ZSAodGFyZ2V0KSB7XG4gIHJldHVybiB1cmkucmVzb2x2ZSh0aGlzLmJhc2UsIHRhcmdldCk7XG59O1xuXG5TY2hlbWFDb250ZXh0LnByb3RvdHlwZS5tYWtlQ2hpbGQgPSBmdW5jdGlvbiBtYWtlQ2hpbGQoc2NoZW1hLCBwcm9wZXJ0eU5hbWUpe1xuICB2YXIgcGF0aCA9IChwcm9wZXJ0eU5hbWU9PT11bmRlZmluZWQpID8gdGhpcy5wYXRoIDogdGhpcy5wYXRoLmNvbmNhdChbcHJvcGVydHlOYW1lXSk7XG4gIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICB2YXIgYmFzZSA9IHVyaS5yZXNvbHZlKHRoaXMuYmFzZSwgaWR8fCcnKTtcbiAgdmFyIGN0eCA9IG5ldyBTY2hlbWFDb250ZXh0KHNjaGVtYSwgdGhpcy5vcHRpb25zLCBwYXRoLCBiYXNlLCBPYmplY3QuY3JlYXRlKHRoaXMuc2NoZW1hcykpO1xuICBpZihpZCAmJiAhY3R4LnNjaGVtYXNbYmFzZV0pe1xuICAgIGN0eC5zY2hlbWFzW2Jhc2VdID0gc2NoZW1hO1xuICB9XG4gIHJldHVybiBjdHg7XG59O1xuXG52YXIgRk9STUFUX1JFR0VYUFMgPSBleHBvcnRzLkZPUk1BVF9SRUdFWFBTID0ge1xuICAvLyA3LjMuMS4gRGF0ZXMsIFRpbWVzLCBhbmQgRHVyYXRpb25cbiAgJ2RhdGUtdGltZSc6IC9eXFxkezR9LSg/OjBbMC05XXsxfXwxWzAtMl17MX0pLSgzWzAxXXwwWzEtOV18WzEyXVswLTldKVt0VCBdKDJbMC00XXxbMDFdWzAtOV0pOihbMC01XVswLTldKTooNjB8WzAtNV1bMC05XSkoXFwuXFxkKyk/KFt6Wl18WystXShbMC01XVswLTldKTooNjB8WzAtNV1bMC05XSkpJC8sXG4gICdkYXRlJzogL15cXGR7NH0tKD86MFswLTldezF9fDFbMC0yXXsxfSktKDNbMDFdfDBbMS05XXxbMTJdWzAtOV0pJC8sXG4gICd0aW1lJzogL14oMlswLTRdfFswMV1bMC05XSk6KFswLTVdWzAtOV0pOig2MHxbMC01XVswLTldKSQvLFxuICAnZHVyYXRpb24nOiAvUChUXFxkKyhIKFxcZCtNKFxcZCtTKT8pP3xNKFxcZCtTKT98Uyl8XFxkKyhEfE0oXFxkK0QpP3xZKFxcZCtNKFxcZCtEKT8pPykoVFxcZCsoSChcXGQrTShcXGQrUyk/KT98TShcXGQrUyk/fFMpKT98XFxkK1cpL2ksXG5cbiAgLy8gNy4zLjIuIEVtYWlsIEFkZHJlc3Nlc1xuICAvLyBUT0RPOiBmaXggdGhlIGVtYWlsIHByb2R1Y3Rpb25cbiAgJ2VtYWlsJzogL14oPzpbXFx3XFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwtXFwvXFw9XFw/XFxeXFxgXFx7XFx8XFx9XFx+XStcXC4pKltcXHdcXCFcXCNcXCRcXCVcXCZcXCdcXCpcXCtcXC1cXC9cXD1cXD9cXF5cXGBcXHtcXHxcXH1cXH5dK0AoPzooPzooPzpbYS16QS1aMC05XSg/OlthLXpBLVowLTlcXC1dKD8hXFwuKSl7MCw2MX1bYS16QS1aMC05XT9cXC4pK1thLXpBLVowLTldKD86W2EtekEtWjAtOVxcLV0oPyEkKSl7MCw2MX1bYS16QS1aMC05XT8pfCg/OlxcWyg/Oig/OlswMV0/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pXFwuKXszfSg/OlswMV0/XFxkezEsMn18MlswLTRdXFxkfDI1WzAtNV0pXFxdKSkkLyxcbiAgJ2lkbi1lbWFpbCc6IC9eKFwiKD86WyEjLVxcW1xcXS1cXHV7MTBGRkZGfV18XFxcXFtcXHQgLVxcdXsxMEZGRkZ9XSkqXCJ8WyEjLScqK1xcLS8tOT0/QS1aXFxeLVxcdXsxMEZGRkZ9XSg/OlxcLj9bISMtJyorXFwtLy05PT9BLVpcXF4tXFx1ezEwRkZGRn1dKSopQChbISMtJyorXFwtLy05PT9BLVpcXF4tXFx1ezEwRkZGRn1dKD86XFwuP1shIy0nKitcXC0vLTk9P0EtWlxcXi1cXHV7MTBGRkZGfV0pKnxcXFtbIS1aXFxeLVxcdXsxMEZGRkZ9XSpcXF0pJC91LFxuXG4gIC8vIDcuMy4zLiBIb3N0bmFtZXNcblxuICAvLyA3LjMuNC4gSVAgQWRkcmVzc2VzXG4gICdpcC1hZGRyZXNzJzogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldPykkLyxcbiAgLy8gRklYTUUgd2hpdGVzcGFjZSBpcyBpbnZhbGlkXG4gICdpcHY2JzogL15cXHMqKCgoWzAtOUEtRmEtZl17MSw0fTopezd9KFswLTlBLUZhLWZdezEsNH18OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezZ9KDpbMC05QS1GYS1mXXsxLDR9fCgoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NX0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwyfSl8OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7NH0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSwzfSl8KCg6WzAtOUEtRmEtZl17MSw0fSk/OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezN9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNH0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsMn06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Mn0oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw1fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwzfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsxfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDZ9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDR9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCg6KCgoOlswLTlBLUZhLWZdezEsNH0pezEsN30pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNX06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSkpKCUuKyk/XFxzKiQvLFxuXG4gIC8vIDcuMy41LiBSZXNvdXJjZSBJZGVudGlmaWVyc1xuICAvLyBUT0RPOiBBIG1vcmUgYWNjdXJhdGUgcmVndWxhciBleHByZXNzaW9uIGZvciBcInVyaVwiIGdvZXM6XG4gIC8vIFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KCgvKC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT8pPyk/IyglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfCgvKC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fl0pfC8/JVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOz0/LVpfYS16fl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSooIyglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqKT98LygvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pKyg6XFxkKik/fChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT86XFxkKnxcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pPyk/XG4gICd1cmknOiAvXlthLXpBLVpdW2EtekEtWjAtOSsuLV0qOlteXFxzXSokLyxcbiAgJ3VyaS1yZWZlcmVuY2UnOiAvXigoKChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKDolWzAtOUEtRmEtZl17Mn18OlshJCYtLjAtOz0/LVpfYS16fl18Wy8/XSl8XFw/KSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyl8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten5dKSt8KFxcWygoW1Z2XVswLTlBLUZhLWZdK1xcLlshJCYtLjAtOz1BLVpfYS16fl0rKT98Wy4wLTpBLUZhLWZdKylcXF0pPykoOlxcZCopPyk/KSkjKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKT8lWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1AX35dfFtBLVphLXpdWytcXC0uMC05QS1aYS16XSpbISQmLSosOz1AX35dKSglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1ALVpfYS16fl0pKigoKFsvP10oJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fl0pKik/I3xbLz9dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+XSkqKT98KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSooOiVbMC05QS1GYS1mXXsyfXw6WyEkJi0uMC07PT8tWl9hLXp+XXxbLz9dKXxcXD8pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8KFtBLVphLXpdWytcXC0uMC05QS1aYS16XSo6KT9cXC8oKCVbMC05QS1GYS1mXXsyfXxcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT9bLz9dfFshJCYtLjAtOz0/LVpfYS16fl0pKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten5dKSp8XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fl0pKyg6XFxkKik/fChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT86XFxkKnxcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten5dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pP3xbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOj8pPyQvLFxuICAnaXJpJzogL15bYS16QS1aXVthLXpBLVowLTkrLi1dKjpbXlxcc10qJC8sXG4gICdpcmktcmVmZXJlbmNlJzogL14oKCgoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKig6JVswLTlBLUZhLWZdezJ9fDpbISQmLS4wLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dfFsvP10pfFxcPykoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKnwoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjo/KT8pfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOik/XFwvKCglWzAtOUEtRmEtZl17Mn18XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fi1cXHV7MTBGRkZGfV0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/Wy8/XXxbISQmLS4wLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfChcXC8oKCVbMC05QS1GYS1mXXsyfXxbISQmLS4wLTk7PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSkrfChcXFsoKFtWdl1bMC05QS1GYS1mXStcXC5bISQmLS4wLTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKyk/fFsuMC06QS1GYS1mXSspXFxdKT8pKDpcXGQqKT8pPykpIyglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfCgoW0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKik/JVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QF9+LVxcdXsxMEZGRkZ9XXxbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qWyEkJi0qLDs9QF9+LVxcdXsxMEZGRkZ9XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QC1aX2Eten4tXFx1ezEwRkZGRn1dKSooKChbLz9dKCVbMC05QS1GYS1mXXsyfXxbISQmLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSopPyN8Wy8/XSkoJVswLTlBLUZhLWZdezJ9fFshJCYtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV0pKik/fChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qKDolWzAtOUEtRmEtZl17Mn18OlshJCYtLjAtOz0/LVpfYS16fi1cXHV7MTBGRkZGfV18Wy8/XSl8XFw/KSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfChbQS1aYS16XVsrXFwtLjAtOUEtWmEtel0qOik/XFwvKCglWzAtOUEtRmEtZl17Mn18XFwvKCglWzAtOUEtRmEtZl17Mn18WyEkJi0uMC05Oz1BLVpfYS16fi1cXHV7MTBGRkZGfV0pK3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KSg6XFxkKik/Wy8/XXxbISQmLS4wLTs9Py1aX2Eten4tXFx1ezEwRkZGRn1dKSglWzAtOUEtRmEtZl17Mn18WyEkJi07PT8tWl9hLXp+LVxcdXsxMEZGRkZ9XSkqfFxcLygoJVswLTlBLUZhLWZdezJ9fFshJCYtLjAtOTs9QS1aX2Eten4tXFx1ezEwRkZGRn1dKSsoOlxcZCopP3woXFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/OlxcZCp8XFxbKChbVnZdWzAtOUEtRmEtZl0rXFwuWyEkJi0uMC07PUEtWl9hLXp+LVxcdXsxMEZGRkZ9XSspP3xbLjAtOkEtRmEtZl0rKVxcXSk/KT98W0EtWmEtel1bK1xcLS4wLTlBLVphLXpdKjo/KT8kL3UsXG4gICd1dWlkJzogL15bMC05QS1GXXs4fS1bMC05QS1GXXs0fS1bMC05QS1GXXs0fS1bMC05QS1GXXs0fS1bMC05QS1GXXsxMn0kL2ksXG5cbiAgLy8gNy4zLjYuIHVyaS10ZW1wbGF0ZVxuICAndXJpLXRlbXBsYXRlJzogLyglWzAtOWEtZl17Mn18WyEjJCYoLTs9P0BcXFtcXF1fYS16fl18XFx7WyEjJissLi87PT9AfF0/KCVbMC05YS1mXXsyfXxbMC05X2Etel0pKFxcLj8oJVswLTlhLWZdezJ9fFswLTlfYS16XSkpKig6WzEtOV1cXGR7MCwzfXxcXCopPygsKCVbMC05YS1mXXsyfXxbMC05X2Etel0pKFxcLj8oJVswLTlhLWZdezJ9fFswLTlfYS16XSkpKig6WzEtOV1cXGR7MCwzfXxcXCopPykqXFx9KSovaXUsXG5cbiAgLy8gNy4zLjcuIEpTT04gUG9pbnRlcnNcbiAgJ2pzb24tcG9pbnRlcic6IC9eKFxcLyhbXFx4MDAtXFx4MmUwLUBcXFstfVxceDdmXXx+WzAxXSkqKSokL2l1LFxuICAncmVsYXRpdmUtanNvbi1wb2ludGVyJzogL15cXGQrKCN8KFxcLyhbXFx4MDAtXFx4MmUwLUBcXFstfVxceDdmXXx+WzAxXSkqKSopJC9pdSxcblxuICAvLyBob3N0bmFtZSByZWdleCBmcm9tOiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDIwMjI1LzU2MjhcbiAgJ2hvc3RuYW1lJzogL14oPz0uezEsMjU1fSQpWzAtOUEtWmEtel0oPzooPzpbMC05QS1aYS16XXwtKXswLDYxfVswLTlBLVphLXpdKT8oPzpcXC5bMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPykqXFwuPyQvLFxuICAnaG9zdC1uYW1lJzogL14oPz0uezEsMjU1fSQpWzAtOUEtWmEtel0oPzooPzpbMC05QS1aYS16XXwtKXswLDYxfVswLTlBLVphLXpdKT8oPzpcXC5bMC05QS1aYS16XSg/Oig/OlswLTlBLVphLXpdfC0pezAsNjF9WzAtOUEtWmEtel0pPykqXFwuPyQvLFxuXG4gICd1dGMtbWlsbGlzZWMnOiBmdW5jdGlvbiAoaW5wdXQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBpbnB1dCA9PT0gJ3N0cmluZycpICYmIHBhcnNlRmxvYXQoaW5wdXQpID09PSBwYXJzZUludChpbnB1dCwgMTApICYmICFpc05hTihpbnB1dCk7XG4gIH0sXG5cbiAgLy8gNy4zLjguIHJlZ2V4XG4gICdyZWdleCc6IGZ1bmN0aW9uIChpbnB1dCkge1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgIHRyeSB7XG4gICAgICBuZXcgUmVnRXhwKGlucHV0KTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICByZXN1bHQgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSxcblxuICAvLyBPdGhlciBkZWZpbml0aW9uc1xuICAvLyBcInN0eWxlXCIgd2FzIHJlbW92ZWQgZnJvbSBKU09OIFNjaGVtYSBpbiBkcmFmdC00IGFuZCBpcyBkZXByZWNhdGVkXG4gICdzdHlsZSc6IC9bXFxyXFxuXFx0IF0qW15cXHJcXG5cXHQgXVteOl0qOltcXHJcXG5cXHQgXSpbXlxcclxcblxcdCA7XSpbXFxyXFxuXFx0IF0qOz8vLFxuICAvLyBcImNvbG9yXCIgd2FzIHJlbW92ZWQgZnJvbSBKU09OIFNjaGVtYSBpbiBkcmFmdC00IGFuZCBpcyBkZXByZWNhdGVkXG4gICdjb2xvcic6IC9eKCM/KFswLTlBLUZhLWZdezN9KXsxLDJ9XFxifGFxdWF8YmxhY2t8Ymx1ZXxmdWNoc2lhfGdyYXl8Z3JlZW58bGltZXxtYXJvb258bmF2eXxvbGl2ZXxvcmFuZ2V8cHVycGxlfHJlZHxzaWx2ZXJ8dGVhbHx3aGl0ZXx5ZWxsb3d8KHJnYlxcKFxccypcXGIoWzAtOV18WzEtOV1bMC05XXwxWzAtOV1bMC05XXwyWzAtNF1bMC05XXwyNVswLTVdKVxcYlxccyosXFxzKlxcYihbMC05XXxbMS05XVswLTldfDFbMC05XVswLTldfDJbMC00XVswLTldfDI1WzAtNV0pXFxiXFxzKixcXHMqXFxiKFswLTldfFsxLTldWzAtOV18MVswLTldWzAtOV18MlswLTRdWzAtOV18MjVbMC01XSlcXGJcXHMqXFwpKXwocmdiXFwoXFxzKihcXGQ/XFxkJXwxMDAlKStcXHMqLFxccyooXFxkP1xcZCV8MTAwJSkrXFxzKixcXHMqKFxcZD9cXGQlfDEwMCUpK1xccypcXCkpKSQvLFxuICAncGhvbmUnOiAvXlxcKyg/OlswLTldID8pezYsMTR9WzAtOV0kLyxcbiAgJ2FscGhhJzogL15bYS16QS1aXSskLyxcbiAgJ2FscGhhbnVtZXJpYyc6IC9eW2EtekEtWjAtOV0rJC8sXG59O1xuXG5GT1JNQVRfUkVHRVhQUy5yZWdleHAgPSBGT1JNQVRfUkVHRVhQUy5yZWdleDtcbkZPUk1BVF9SRUdFWFBTLnBhdHRlcm4gPSBGT1JNQVRfUkVHRVhQUy5yZWdleDtcbkZPUk1BVF9SRUdFWFBTLmlwdjQgPSBGT1JNQVRfUkVHRVhQU1snaXAtYWRkcmVzcyddO1xuXG5leHBvcnRzLmlzRm9ybWF0ID0gZnVuY3Rpb24gaXNGb3JtYXQgKGlucHV0LCBmb3JtYXQsIHZhbGlkYXRvcikge1xuICBpZiAodHlwZW9mIGlucHV0ID09PSAnc3RyaW5nJyAmJiBGT1JNQVRfUkVHRVhQU1tmb3JtYXRdICE9PSB1bmRlZmluZWQpIHtcbiAgICBpZiAoRk9STUFUX1JFR0VYUFNbZm9ybWF0XSBpbnN0YW5jZW9mIFJlZ0V4cCkge1xuICAgICAgcmV0dXJuIEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0udGVzdChpbnB1dCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgRk9STUFUX1JFR0VYUFNbZm9ybWF0XSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuIEZPUk1BVF9SRUdFWFBTW2Zvcm1hdF0oaW5wdXQpO1xuICAgIH1cbiAgfSBlbHNlIGlmICh2YWxpZGF0b3IgJiYgdmFsaWRhdG9yLmN1c3RvbUZvcm1hdHMgJiZcbiAgICAgIHR5cGVvZiB2YWxpZGF0b3IuY3VzdG9tRm9ybWF0c1tmb3JtYXRdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHZhbGlkYXRvci5jdXN0b21Gb3JtYXRzW2Zvcm1hdF0oaW5wdXQpO1xuICB9XG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIG1ha2VTdWZmaXggPSBleHBvcnRzLm1ha2VTdWZmaXggPSBmdW5jdGlvbiBtYWtlU3VmZml4IChrZXkpIHtcbiAga2V5ID0ga2V5LnRvU3RyaW5nKCk7XG4gIC8vIFRoaXMgZnVuY3Rpb24gY291bGQgYmUgY2FwYWJsZSBvZiBvdXRwdXR0aW5nIHZhbGlkIGEgRUNNQVNjcmlwdCBzdHJpbmcsIGJ1dCB0aGVcbiAgLy8gcmVzdWx0aW5nIGNvZGUgZm9yIHRlc3Rpbmcgd2hpY2ggZm9ybSB0byB1c2Ugd291bGQgYmUgdGVucyBvZiB0aG91c2FuZHMgb2YgY2hhcmFjdGVycyBsb25nXG4gIC8vIFRoYXQgbWVhbnMgdGhpcyB3aWxsIHVzZSB0aGUgbmFtZSBmb3JtIGZvciBzb21lIGlsbGVnYWwgZm9ybXNcbiAgaWYgKCFrZXkubWF0Y2goL1suXFxzXFxbXFxdXS8pICYmICFrZXkubWF0Y2goL15bXFxkXS8pKSB7XG4gICAgcmV0dXJuICcuJyArIGtleTtcbiAgfVxuICBpZiAoa2V5Lm1hdGNoKC9eXFxkKyQvKSkge1xuICAgIHJldHVybiAnWycgKyBrZXkgKyAnXSc7XG4gIH1cbiAgcmV0dXJuICdbJyArIEpTT04uc3RyaW5naWZ5KGtleSkgKyAnXSc7XG59O1xuXG5leHBvcnRzLmRlZXBDb21wYXJlU3RyaWN0ID0gZnVuY3Rpb24gZGVlcENvbXBhcmVTdHJpY3QgKGEsIGIpIHtcbiAgaWYgKHR5cGVvZiBhICE9PSB0eXBlb2YgYikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShiKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYS5sZW5ndGggIT09IGIubGVuZ3RoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBhLmV2ZXJ5KGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICByZXR1cm4gZGVlcENvbXBhcmVTdHJpY3QoYVtpXSwgYltpXSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBhID09PSAnb2JqZWN0Jykge1xuICAgIGlmICghYSB8fCAhYikge1xuICAgICAgcmV0dXJuIGEgPT09IGI7XG4gICAgfVxuICAgIHZhciBhS2V5cyA9IE9iamVjdC5rZXlzKGEpO1xuICAgIHZhciBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICAgIGlmIChhS2V5cy5sZW5ndGggIT09IGJLZXlzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYUtleXMuZXZlcnkoZnVuY3Rpb24gKHYpIHtcbiAgICAgIHJldHVybiBkZWVwQ29tcGFyZVN0cmljdChhW3ZdLCBiW3ZdKTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gYSA9PT0gYjtcbn07XG5cbmZ1bmN0aW9uIGRlZXBNZXJnZXIgKHRhcmdldCwgZHN0LCBlLCBpKSB7XG4gIGlmICh0eXBlb2YgZSA9PT0gJ29iamVjdCcpIHtcbiAgICBkc3RbaV0gPSBkZWVwTWVyZ2UodGFyZ2V0W2ldLCBlKTtcbiAgfSBlbHNlIHtcbiAgICBpZiAodGFyZ2V0LmluZGV4T2YoZSkgPT09IC0xKSB7XG4gICAgICBkc3QucHVzaChlKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gY29weWlzdCAoc3JjLCBkc3QsIGtleSkge1xuICBkc3Rba2V5XSA9IHNyY1trZXldO1xufVxuXG5mdW5jdGlvbiBjb3B5aXN0V2l0aERlZXBNZXJnZSAodGFyZ2V0LCBzcmMsIGRzdCwga2V5KSB7XG4gIGlmICh0eXBlb2Ygc3JjW2tleV0gIT09ICdvYmplY3QnIHx8ICFzcmNba2V5XSkge1xuICAgIGRzdFtrZXldID0gc3JjW2tleV07XG4gIH1cbiAgZWxzZSB7XG4gICAgaWYgKCF0YXJnZXRba2V5XSkge1xuICAgICAgZHN0W2tleV0gPSBzcmNba2V5XTtcbiAgICB9IGVsc2Uge1xuICAgICAgZHN0W2tleV0gPSBkZWVwTWVyZ2UodGFyZ2V0W2tleV0sIHNyY1trZXldKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZGVlcE1lcmdlICh0YXJnZXQsIHNyYykge1xuICB2YXIgYXJyYXkgPSBBcnJheS5pc0FycmF5KHNyYyk7XG4gIHZhciBkc3QgPSBhcnJheSAmJiBbXSB8fCB7fTtcblxuICBpZiAoYXJyYXkpIHtcbiAgICB0YXJnZXQgPSB0YXJnZXQgfHwgW107XG4gICAgZHN0ID0gZHN0LmNvbmNhdCh0YXJnZXQpO1xuICAgIHNyYy5mb3JFYWNoKGRlZXBNZXJnZXIuYmluZChudWxsLCB0YXJnZXQsIGRzdCkpO1xuICB9IGVsc2Uge1xuICAgIGlmICh0YXJnZXQgJiYgdHlwZW9mIHRhcmdldCA9PT0gJ29iamVjdCcpIHtcbiAgICAgIE9iamVjdC5rZXlzKHRhcmdldCkuZm9yRWFjaChjb3B5aXN0LmJpbmQobnVsbCwgdGFyZ2V0LCBkc3QpKTtcbiAgICB9XG4gICAgT2JqZWN0LmtleXMoc3JjKS5mb3JFYWNoKGNvcHlpc3RXaXRoRGVlcE1lcmdlLmJpbmQobnVsbCwgdGFyZ2V0LCBzcmMsIGRzdCkpO1xuICB9XG5cbiAgcmV0dXJuIGRzdDtcbn1cblxubW9kdWxlLmV4cG9ydHMuZGVlcE1lcmdlID0gZGVlcE1lcmdlO1xuXG4vKipcbiAqIFZhbGlkYXRlcyBpbnN0YW5jZSBhZ2FpbnN0IHRoZSBwcm92aWRlZCBzY2hlbWFcbiAqIEltcGxlbWVudHMgVVJJK0pTT04gUG9pbnRlciBlbmNvZGluZywgZS5nLiBcIiU3ZVwiPVwifjBcIj0+XCJ+XCIsIFwifjFcIj1cIiUyZlwiPT5cIi9cIlxuICogQHBhcmFtIG9cbiAqIEBwYXJhbSBzIFRoZSBwYXRoIHRvIHdhbGsgbyBhbG9uZ1xuICogQHJldHVybiBhbnlcbiAqL1xuZXhwb3J0cy5vYmplY3RHZXRQYXRoID0gZnVuY3Rpb24gb2JqZWN0R2V0UGF0aChvLCBzKSB7XG4gIHZhciBwYXJ0cyA9IHMuc3BsaXQoJy8nKS5zbGljZSgxKTtcbiAgdmFyIGs7XG4gIHdoaWxlICh0eXBlb2YgKGs9cGFydHMuc2hpZnQoKSkgPT0gJ3N0cmluZycpIHtcbiAgICB2YXIgbiA9IGRlY29kZVVSSUNvbXBvbmVudChrLnJlcGxhY2UoL34wLywnficpLnJlcGxhY2UoL34xL2csJy8nKSk7XG4gICAgaWYgKCEobiBpbiBvKSkgcmV0dXJuO1xuICAgIG8gPSBvW25dO1xuICB9XG4gIHJldHVybiBvO1xufTtcblxuZnVuY3Rpb24gcGF0aEVuY29kZXIgKHYpIHtcbiAgcmV0dXJuICcvJytlbmNvZGVVUklDb21wb25lbnQodikucmVwbGFjZSgvfi9nLCclN0UnKTtcbn1cbi8qKlxuICogQWNjZXB0IGFuIEFycmF5IG9mIHByb3BlcnR5IG5hbWVzIGFuZCByZXR1cm4gYSBKU09OIFBvaW50ZXIgVVJJIGZyYWdtZW50XG4gKiBAcGFyYW0gQXJyYXkgYVxuICogQHJldHVybiB7U3RyaW5nfVxuICovXG5leHBvcnRzLmVuY29kZVBhdGggPSBmdW5jdGlvbiBlbmNvZGVQb2ludGVyKGEpe1xuICAvLyB+IG11c3QgYmUgZW5jb2RlZCBleHBsaWNpdGx5IGJlY2F1c2UgaGFja3NcbiAgLy8gdGhlIHNsYXNoIGlzIGVuY29kZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50XG4gIHJldHVybiBhLm1hcChwYXRoRW5jb2Rlcikuam9pbignJyk7XG59O1xuXG5cbi8qKlxuICogQ2FsY3VsYXRlIHRoZSBudW1iZXIgb2YgZGVjaW1hbCBwbGFjZXMgYSBudW1iZXIgdXNlc1xuICogV2UgbmVlZCB0aGlzIHRvIGdldCBjb3JyZWN0IHJlc3VsdHMgb3V0IG9mIG11bHRpcGxlT2YgYW5kIGRpdmlzaWJsZUJ5XG4gKiB3aGVuIGVpdGhlciBmaWd1cmUgaXMgaGFzIGRlY2ltYWwgcGxhY2VzLCBkdWUgdG8gSUVFRS03NTQgZmxvYXQgaXNzdWVzLlxuICogQHBhcmFtIG51bWJlclxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZXhwb3J0cy5nZXREZWNpbWFsUGxhY2VzID0gZnVuY3Rpb24gZ2V0RGVjaW1hbFBsYWNlcyhudW1iZXIpIHtcblxuICB2YXIgZGVjaW1hbFBsYWNlcyA9IDA7XG4gIGlmIChpc05hTihudW1iZXIpKSByZXR1cm4gZGVjaW1hbFBsYWNlcztcblxuICBpZiAodHlwZW9mIG51bWJlciAhPT0gJ251bWJlcicpIHtcbiAgICBudW1iZXIgPSBOdW1iZXIobnVtYmVyKTtcbiAgfVxuXG4gIHZhciBwYXJ0cyA9IG51bWJlci50b1N0cmluZygpLnNwbGl0KCdlJyk7XG4gIGlmIChwYXJ0cy5sZW5ndGggPT09IDIpIHtcbiAgICBpZiAocGFydHNbMV1bMF0gIT09ICctJykge1xuICAgICAgcmV0dXJuIGRlY2ltYWxQbGFjZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlY2ltYWxQbGFjZXMgPSBOdW1iZXIocGFydHNbMV0uc2xpY2UoMSkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBkZWNpbWFsUGFydHMgPSBwYXJ0c1swXS5zcGxpdCgnLicpO1xuICBpZiAoZGVjaW1hbFBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIGRlY2ltYWxQbGFjZXMgKz0gZGVjaW1hbFBhcnRzWzFdLmxlbmd0aDtcbiAgfVxuXG4gIHJldHVybiBkZWNpbWFsUGxhY2VzO1xufTtcblxuZXhwb3J0cy5pc1NjaGVtYSA9IGZ1bmN0aW9uIGlzU2NoZW1hKHZhbCl7XG4gIHJldHVybiAodHlwZW9mIHZhbCA9PT0gJ29iamVjdCcgJiYgdmFsKSB8fCAodHlwZW9mIHZhbCA9PT0gJ2Jvb2xlYW4nKTtcbn07XG5cbiIsIi8vIFVuaXF1ZSBJRCBjcmVhdGlvbiByZXF1aXJlcyBhIGhpZ2ggcXVhbGl0eSByYW5kb20gIyBnZW5lcmF0b3IuIEluIHRoZSBicm93c2VyIHdlIHRoZXJlZm9yZVxuLy8gcmVxdWlyZSB0aGUgY3J5cHRvIEFQSSBhbmQgZG8gbm90IHN1cHBvcnQgYnVpbHQtaW4gZmFsbGJhY2sgdG8gbG93ZXIgcXVhbGl0eSByYW5kb20gbnVtYmVyXG4vLyBnZW5lcmF0b3JzIChsaWtlIE1hdGgucmFuZG9tKCkpLlxudmFyIGdldFJhbmRvbVZhbHVlcztcbnZhciBybmRzOCA9IG5ldyBVaW50OEFycmF5KDE2KTtcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIHJuZygpIHtcbiAgLy8gbGF6eSBsb2FkIHNvIHRoYXQgZW52aXJvbm1lbnRzIHRoYXQgbmVlZCB0byBwb2x5ZmlsbCBoYXZlIGEgY2hhbmNlIHRvIGRvIHNvXG4gIGlmICghZ2V0UmFuZG9tVmFsdWVzKSB7XG4gICAgLy8gZ2V0UmFuZG9tVmFsdWVzIG5lZWRzIHRvIGJlIGludm9rZWQgaW4gYSBjb250ZXh0IHdoZXJlIFwidGhpc1wiIGlzIGEgQ3J5cHRvIGltcGxlbWVudGF0aW9uLiBBbHNvLFxuICAgIC8vIGZpbmQgdGhlIGNvbXBsZXRlIGltcGxlbWVudGF0aW9uIG9mIGNyeXB0byAobXNDcnlwdG8pIG9uIElFMTEuXG4gICAgZ2V0UmFuZG9tVmFsdWVzID0gdHlwZW9mIGNyeXB0byAhPT0gJ3VuZGVmaW5lZCcgJiYgY3J5cHRvLmdldFJhbmRvbVZhbHVlcyAmJiBjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKSB8fCB0eXBlb2YgbXNDcnlwdG8gIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMgPT09ICdmdW5jdGlvbicgJiYgbXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQobXNDcnlwdG8pO1xuXG4gICAgaWYgKCFnZXRSYW5kb21WYWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignY3J5cHRvLmdldFJhbmRvbVZhbHVlcygpIG5vdCBzdXBwb3J0ZWQuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vdXVpZGpzL3V1aWQjZ2V0cmFuZG9tdmFsdWVzLW5vdC1zdXBwb3J0ZWQnKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gZ2V0UmFuZG9tVmFsdWVzKHJuZHM4KTtcbn0iLCIndXNlIHN0cmljdCc7XG5cbi8qKlxuICogU3RyaW5naWZ5L3BhcnNlIGZ1bmN0aW9ucyB0aGF0IGRvbid0IG9wZXJhdGVcbiAqIHJlY3Vyc2l2ZWx5LCBzbyB0aGV5IGF2b2lkIGNhbGwgc3RhY2sgZXhjZWVkZWRcbiAqIGVycm9ycy5cbiAqL1xuZXhwb3J0cy5zdHJpbmdpZnkgPSBmdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgdmFyIHF1ZXVlID0gW107XG4gIHF1ZXVlLnB1c2goe29iajogaW5wdXR9KTtcblxuICB2YXIgcmVzID0gJyc7XG4gIHZhciBuZXh0LCBvYmosIHByZWZpeCwgdmFsLCBpLCBhcnJheVByZWZpeCwga2V5cywgaywga2V5LCB2YWx1ZSwgb2JqUHJlZml4O1xuICB3aGlsZSAoKG5leHQgPSBxdWV1ZS5wb3AoKSkpIHtcbiAgICBvYmogPSBuZXh0Lm9iajtcbiAgICBwcmVmaXggPSBuZXh0LnByZWZpeCB8fCAnJztcbiAgICB2YWwgPSBuZXh0LnZhbCB8fCAnJztcbiAgICByZXMgKz0gcHJlZml4O1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJlcyArPSB2YWw7XG4gICAgfSBlbHNlIGlmICh0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgcmVzICs9IHR5cGVvZiBvYmogPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IEpTT04uc3RyaW5naWZ5KG9iaik7XG4gICAgfSBlbHNlIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgIHJlcyArPSAnbnVsbCc7XG4gICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHtcbiAgICAgIHF1ZXVlLnB1c2goe3ZhbDogJ10nfSk7XG4gICAgICBmb3IgKGkgPSBvYmoubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgYXJyYXlQcmVmaXggPSBpID09PSAwID8gJycgOiAnLCc7XG4gICAgICAgIHF1ZXVlLnB1c2goe29iajogb2JqW2ldLCBwcmVmaXg6IGFycmF5UHJlZml4fSk7XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICdbJ30pO1xuICAgIH0gZWxzZSB7IC8vIG9iamVjdFxuICAgICAga2V5cyA9IFtdO1xuICAgICAgZm9yIChrIGluIG9iaikge1xuICAgICAgICBpZiAob2JqLmhhc093blByb3BlcnR5KGspKSB7XG4gICAgICAgICAga2V5cy5wdXNoKGspO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBxdWV1ZS5wdXNoKHt2YWw6ICd9J30pO1xuICAgICAgZm9yIChpID0ga2V5cy5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgICAgICBrZXkgPSBrZXlzW2ldO1xuICAgICAgICB2YWx1ZSA9IG9ialtrZXldO1xuICAgICAgICBvYmpQcmVmaXggPSAoaSA+IDAgPyAnLCcgOiAnJyk7XG4gICAgICAgIG9ialByZWZpeCArPSBKU09OLnN0cmluZ2lmeShrZXkpICsgJzonO1xuICAgICAgICBxdWV1ZS5wdXNoKHtvYmo6IHZhbHVlLCBwcmVmaXg6IG9ialByZWZpeH0pO1xuICAgICAgfVxuICAgICAgcXVldWUucHVzaCh7dmFsOiAneyd9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn07XG5cbi8vIENvbnZlbmllbmNlIGZ1bmN0aW9uIGZvciB0aGUgcGFyc2UgZnVuY3Rpb24uXG4vLyBUaGlzIHBvcCBmdW5jdGlvbiBpcyBiYXNpY2FsbHkgY29waWVkIGZyb21cbi8vIHBvdWNoQ29sbGF0ZS5wYXJzZUluZGV4YWJsZVN0cmluZ1xuZnVuY3Rpb24gcG9wKG9iaiwgc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgaWYgKG9iaiA9PT0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQpIHtcbiAgICAvLyBwb3BwaW5nIGEgbWV0YS1lbGVtZW50LCBlLmcuIGFuIG9iamVjdCB3aG9zZSB2YWx1ZSBpcyBhbm90aGVyIG9iamVjdFxuICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICBsYXN0TWV0YUVsZW1lbnQgPSBtZXRhU3RhY2tbbWV0YVN0YWNrLmxlbmd0aCAtIDFdO1xuICB9XG4gIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gIHZhciBsYXN0RWxlbWVudEluZGV4ID0gbGFzdE1ldGFFbGVtZW50LmluZGV4O1xuICBpZiAoQXJyYXkuaXNBcnJheShlbGVtZW50KSkge1xuICAgIGVsZW1lbnQucHVzaChvYmopO1xuICB9IGVsc2UgaWYgKGxhc3RFbGVtZW50SW5kZXggPT09IHN0YWNrLmxlbmd0aCAtIDIpIHsgLy8gb2JqIHdpdGgga2V5K3ZhbHVlXG4gICAgdmFyIGtleSA9IHN0YWNrLnBvcCgpO1xuICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgfSBlbHNlIHtcbiAgICBzdGFjay5wdXNoKG9iaik7IC8vIG9iaiB3aXRoIGtleSBvbmx5XG4gIH1cbn1cblxuZXhwb3J0cy5wYXJzZSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG4gIHZhciBjb2xsYXRpb25JbmRleCxwYXJzZWROdW0sbnVtQ2hhcjtcbiAgdmFyIHBhcnNlZFN0cmluZyxsYXN0Q2gsbnVtQ29uc2VjdXRpdmVTbGFzaGVzLGNoO1xuICB2YXIgYXJyYXlFbGVtZW50LCBvYmpFbGVtZW50O1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnfScgfHxcbiAgICAgICAgY29sbGF0aW9uSW5kZXggPT09ICddJyB8fFxuICAgICAgICB0eXBlb2YgY29sbGF0aW9uSW5kZXggPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBpZiAoc3RhY2subGVuZ3RoID09PSAxKSB7XG4gICAgICAgIHJldHVybiBzdGFjay5wb3AoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBvcChzdGFjay5wb3AoKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBzd2l0Y2ggKGNvbGxhdGlvbkluZGV4KSB7XG4gICAgICBjYXNlICcgJzpcbiAgICAgIGNhc2UgJ1xcdCc6XG4gICAgICBjYXNlICdcXG4nOlxuICAgICAgY2FzZSAnOic6XG4gICAgICBjYXNlICcsJzpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICduJzpcbiAgICAgICAgaSArPSAzOyAvLyAndWxsJ1xuICAgICAgICBwb3AobnVsbCwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndCc6XG4gICAgICAgIGkgKz0gMzsgLy8gJ3J1ZSdcbiAgICAgICAgcG9wKHRydWUsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgICBpICs9IDQ7IC8vICdhbHNlJ1xuICAgICAgICBwb3AoZmFsc2UsIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJzAnOlxuICAgICAgY2FzZSAnMSc6XG4gICAgICBjYXNlICcyJzpcbiAgICAgIGNhc2UgJzMnOlxuICAgICAgY2FzZSAnNCc6XG4gICAgICBjYXNlICc1JzpcbiAgICAgIGNhc2UgJzYnOlxuICAgICAgY2FzZSAnNyc6XG4gICAgICBjYXNlICc4JzpcbiAgICAgIGNhc2UgJzknOlxuICAgICAgY2FzZSAnLSc6XG4gICAgICAgIHBhcnNlZE51bSA9ICcnO1xuICAgICAgICBpLS07XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgbnVtQ2hhciA9IHN0cltpKytdO1xuICAgICAgICAgIGlmICgvW1xcZFxcLlxcLWVcXCtdLy50ZXN0KG51bUNoYXIpKSB7XG4gICAgICAgICAgICBwYXJzZWROdW0gKz0gbnVtQ2hhcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaS0tO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChwYXJzZUZsb2F0KHBhcnNlZE51bSksIHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ1wiJzpcbiAgICAgICAgcGFyc2VkU3RyaW5nID0gJyc7XG4gICAgICAgIGxhc3RDaCA9IHZvaWQgMDtcbiAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICBjaCA9IHN0cltpKytdO1xuICAgICAgICAgIGlmIChjaCAhPT0gJ1wiJyB8fCAobGFzdENoID09PSAnXFxcXCcgJiZcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzICUgMiA9PT0gMSkpIHtcbiAgICAgICAgICAgIHBhcnNlZFN0cmluZyArPSBjaDtcbiAgICAgICAgICAgIGxhc3RDaCA9IGNoO1xuICAgICAgICAgICAgaWYgKGxhc3RDaCA9PT0gJ1xcXFwnKSB7XG4gICAgICAgICAgICAgIG51bUNvbnNlY3V0aXZlU2xhc2hlcysrO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbnVtQ29uc2VjdXRpdmVTbGFzaGVzID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHBvcChKU09OLnBhcnNlKCdcIicgKyBwYXJzZWRTdHJpbmcgKyAnXCInKSwgc3RhY2ssIG1ldGFTdGFjayk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnWyc6XG4gICAgICAgIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAneyc6XG4gICAgICAgIG9iakVsZW1lbnQgPSB7IGVsZW1lbnQ6IHt9LCBpbmRleDogc3RhY2subGVuZ3RoIH07XG4gICAgICAgIHN0YWNrLnB1c2gob2JqRWxlbWVudC5lbGVtZW50KTtcbiAgICAgICAgbWV0YVN0YWNrLnB1c2gob2JqRWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICd1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgKyBjb2xsYXRpb25JbmRleCk7XG4gICAgfVxuICB9XG59O1xuIiwiaW1wb3J0IHJuZyBmcm9tICcuL3JuZy5qcyc7XG5pbXBvcnQgc3RyaW5naWZ5IGZyb20gJy4vc3RyaW5naWZ5LmpzJztcblxuZnVuY3Rpb24gdjQob3B0aW9ucywgYnVmLCBvZmZzZXQpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gIHZhciBybmRzID0gb3B0aW9ucy5yYW5kb20gfHwgKG9wdGlvbnMucm5nIHx8IHJuZykoKTsgLy8gUGVyIDQuNCwgc2V0IGJpdHMgZm9yIHZlcnNpb24gYW5kIGBjbG9ja19zZXFfaGlfYW5kX3Jlc2VydmVkYFxuXG4gIHJuZHNbNl0gPSBybmRzWzZdICYgMHgwZiB8IDB4NDA7XG4gIHJuZHNbOF0gPSBybmRzWzhdICYgMHgzZiB8IDB4ODA7IC8vIENvcHkgYnl0ZXMgdG8gYnVmZmVyLCBpZiBwcm92aWRlZFxuXG4gIGlmIChidWYpIHtcbiAgICBvZmZzZXQgPSBvZmZzZXQgfHwgMDtcblxuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgMTY7ICsraSkge1xuICAgICAgYnVmW29mZnNldCArIGldID0gcm5kc1tpXTtcbiAgICB9XG5cbiAgICByZXR1cm4gYnVmO1xuICB9XG5cbiAgcmV0dXJuIHN0cmluZ2lmeShybmRzKTtcbn1cblxuZXhwb3J0IGRlZmF1bHQgdjQ7IiwiLyoqXG4gKiBGb3JtYXRzIHJhdyBVVUlEIGRhdGEgaW50byB0aGUgcHJvcGVyIHN0cmluZyBmb3JtYXQuXG4gKiBAcGFyYW0gZGF0YSAtIFJhdyBVVUlEIGRhdGEuXG4gKiBAcmV0dXJucyBGb3JtYXR0ZWQgVVVJRCBzdHJpbmcuXG4gKi9cbmZ1bmN0aW9uIHVpbnQ4VG9VdWlkIChkYXRhOiBVaW50OEFycmF5KTogc3RyaW5nIHtcbiAgaWYgKGRhdGEubGVuZ3RoICE9PSAxNikge1xuICAgIHJldHVybiAnJztcbiAgfVxuXG4gIGZ1bmN0aW9uIGNiIChwcmV2aW91czogc3RyaW5nLCBjdXJyZW50OiBudW1iZXIpOiBzdHJpbmcge1xuICAgIHJldHVybiBwcmV2aW91cyArIGN1cnJlbnQudG9TdHJpbmcoMTYpLnBhZFN0YXJ0KDIsICcwJyk7XG4gIH1cblxuICByZXR1cm4gZGF0YS5zbGljZSgwLCA0KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg0LCA2KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg2LCA4KS5yZWR1Y2UoY2IsICcnKSArXG4gICAgJy0nICsgZGF0YS5zbGljZSg4LCAxMCkucmVkdWNlKGNiLCAnJykgK1xuICAgICctJyArIGRhdGEuc2xpY2UoMTApLnJlZHVjZShjYiwgJycpO1xufVxuXG4vKipcbiAqIEByZXR1cm5zIEEgW3ZlcnNpb24gNCBVVUlEXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Vbml2ZXJzYWxseV91bmlxdWVfaWRlbnRpZmllciNWZXJzaW9uXzRfKHJhbmRvbSkpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gdXVpZHY0ICgpOiBzdHJpbmcge1xuICAvLyBDaGVjayBmb3IgY3J5cHRvIEFQSVxuICBpZiAod2luZG93LmNyeXB0byA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIHVpbnQ4VG9VdWlkKG5ldyBVaW50OEFycmF5KDE2KSk7XG4gIH1cblxuICAvLyBHZXQgMTYgb2N0ZXRzIGZvciBVVUlEXG4gIGNvbnN0IG9jdGV0cyA9IG5ldyBVaW50OEFycmF5KDE2KTtcbiAgY29uc3QgbW9kaWZpZXJzID0gVWludDhBcnJheS5mcm9tKFtcbiAgICBwYXJzZUludCgnMDEwMDAwMDAnLCAyKSwgIC8vIFZlcnNpb24gYml0cyAoNCA9PiAwMTAwKVxuICAgIHBhcnNlSW50KCcxMDAwMDAwMCcsIDIpLCAgLy8gVmFyaWFudCBiaXRzICgxMHgpXG4gICAgcGFyc2VJbnQoJzAwMDAxMTExJywgMiksICAvLyBNYXNrIHRvIHplcm8gaGlnaGVyIGJpdHMsIHZlcnNpb25cbiAgICBwYXJzZUludCgnMDAxMTExMTEnLCAyKSAgIC8vIE1hc2sgdG8gemVybyBoaWdoZXIgYml0cywgdmFyaWFudFxuICBdKTtcbiAgd2luZG93LmNyeXB0by5nZXRSYW5kb21WYWx1ZXMob2N0ZXRzKTtcbiAgLy8gU2V0IHZlcnNpb24gYml0cyBhbmQgdmFyaWFudCBiaXRzXG4gIG9jdGV0c1s2XSA9IChvY3RldHNbNl0gJiBtb2RpZmllcnNbMl0pIHwgbW9kaWZpZXJzWzBdO1xuICBvY3RldHNbOF0gPSAob2N0ZXRzWzhdICYgbW9kaWZpZXJzWzNdKSB8IG1vZGlmaWVyc1sxXTtcblxuICByZXR1cm4gdWludDhUb1V1aWQob2N0ZXRzKTtcbn1cbiIsImltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0ICogYXMgV2FybmluZ3MgZnJvbSAnLi4vV2FybmluZ3MnO1xuaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgKiBhcyBTZWxlY3RUb29scyBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3RPcHRpb25zIGZyb20gJy4uL1NxdWFyZUVkaXQvU2VsZWN0T3B0aW9ucyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgRWRpdG9yQWN0aW9uLCBUb2dnbGVMaWdhdHVyZUFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCB7IHJlbW92ZUhhbmRsZXIsIGRlbGV0ZUJ1dHRvbkhhbmRsZXIgfSBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuXG5cbi8qKlxuICogVGhlIE5lb25WaWV3IHBhcmVudCB0byBhY2Nlc3MgZWRpdG9yIGFjdGlvbnMuXG4gKi9cbmxldCBuZW9uVmlldzogTmVvblZpZXc7XG5cblxuLyoqXG4gKiBTZXQgdGhlIG5lb25WaWV3IG1lbWJlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXROZW9uVmlldyAodmlldzogTmVvblZpZXcpOiB2b2lkIHtcbiAgbmVvblZpZXcgPSB2aWV3O1xufVxuXG5cbi8qKlxuICogQ2hlY2sgaWYgc2VsZWN0ZWQgZWxlbWVudHMgY2FuIGJlIGdyb3VwZWQgb3Igbm90XG4gKiBAcmV0dXJucyB0cnVlIGlmIGdyb3VwZWQsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNHcm91cGFibGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuICBjb25zdCBncm91cHMgPSBBcnJheS5mcm9tKGVsZW1lbnRzLnZhbHVlcygpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcblxuICBpZiAoZ3JvdXBzLmxlbmd0aCA8IDIpIHtcbiAgICAvLyBjYW5ub3QgZ3JvdXAgaWYgb25seSAxIGVsZW1lbnQgaXMgc2VsZWN0ZWRcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBzd2l0Y2goc2VsZWN0aW9uVHlwZSkge1xuICAgIGNhc2UgJ3NlbEJ5TmV1bWUnOlxuICAgICAgLy8gaWYgbmV1bWVzIGFyZSBpbiBzYW1lIHN5bGxhYmxlLCBkb24ndCBkaXNwbGF5IGdyb3VwaW5nIG9wdGlvblxuICAgICAgaWYgKFNlbGVjdFRvb2xzLnNoYXJlZExvZ2ljYWxQYXJlbnQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSByZXR1cm4gZmFsc2U7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgLy8gY2hlY2sgaWYgYWxsIHNlbGVjdGVkIGVsZW1lbnRzIGFyZSBhZGphY2VudCB0byBlYWNoIG90aGVyXG4gICAgICBpZiAoU2VsZWN0VG9vbHMuYXJlQWRqYWNlbnQoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICB9XG5cbn1cblxuXG4vKipcbiAqIENoZWNrcyB0byBzZWUgaXMgYSBzZWxlY3Rpb24gb2YgZWxlbWVudHMgaXMgYWxyZWFkeSBsaW5rZWRcbiAqIEBwYXJhbSBlbGVtZW50cyBlbGVtZW50cyB0byBiZSBjb25zaWRlcmVkXG4gKiBAcmV0dXJucyB0cnVlIGlzIGxpbmtlZCwgZmFsc2Ugb3RoZXJ3aXNlXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc0xpbmtlZChlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuXG4gIC8vIGlmIG51bWJlciBvZiBlbGVtZW50cyBpcyBub3QgMiwgZWxlbWVudHMgY2Fubm90IGJlIGxpbmtlZCBieSBkZWZpbml0aW9uXG4gIGlmIChlbGVtZW50cy5sZW5ndGggIT09IDIpIHJldHVybiBmYWxzZTtcblxuICAvLyBpZiBwcmVjZWRlcyBhbmQgZm9sbG93cyBhdHRyaWJ1dGVzIGV4aXN0IGFuZCB0aGVpciBJRHMgbWF0Y2hcbiAgaWYgKCgoZWxlbWVudHNbMF0uZ2V0QXR0cmlidXRlKCdtZWk6Zm9sbG93cycpID09PSBgIyR7ZWxlbWVudHNbMV0uaWR9YCkgJiYgXG4gICAgICAoZWxlbWVudHNbMV0uZ2V0QXR0cmlidXRlKCdtZWk6cHJlY2VkZXMnKSA9PT0gYCMke2VsZW1lbnRzWzBdLmlkfWApKSB8fFxuICAgICAgKChlbGVtZW50c1swXS5nZXRBdHRyaWJ1dGUoJ21laTpwcmVjZWRlcycpID09PSAnIycgKyBlbGVtZW50c1sxXS5pZCkgJiZcbiAgICAgIChlbGVtZW50c1sxXS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykgPT09ICcjJyArIGVsZW1lbnRzWzBdLmlkKSkpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBzZWxlY3RlZCBlbGVtZW50cyBjYW4gYmUgbGlua2VkIG9yIHVubGlrbmVkLlxuICogQHBhcmFtIHNlbGVjdGlvblR5cGUgQ3VycmVudCBzZWxlY3Rpb24gbW9kZS4gT25seSBjZXJ0YWluIGVsZW1lbnRzIGNhbiBiZSBsaW5rZWRcbiAqIEBwYXJhbSBlbGVtZW50cyBUaGUgZWxlbWVudHMgdW5kZXIgcXVlc3Rpb24gXG4gKiBAcmV0dXJucyB0cnVlIGlmIHVzZXIgc2hvdWxkIGJlIGFibGUgdG8gbGluayBvciB1bi1saW5rIGVsZW1lbnRzLCBmYWxzZSBvdGhlcndpc2VcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZTogc3RyaW5nLCBlbGVtZW50czogQXJyYXk8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IGJvb2xlYW4ge1xuXG4gIHN3aXRjaChlbGVtZW50cy5sZW5ndGgpIHtcbiAgICAvLyBvbmx5IGEgc2VsZWN0aW9uIG9mIGxlbmd0aCAyIGNhbiBsZWFkIHRvIG9wdGlvbiB0byB0b2dnbGUgc3lsbGFibGUgbGlua1xuICAgIGNhc2UgMjpcbiAgICAgIC8vIG9ubHkgU3lsbGFibGVzIGNhbiBiZSBsaW5rZWQgb3IgdW5saW5rZWQgKD8pXG4gICAgICBpZiAoc2VsZWN0aW9uVHlwZSAhPT0gJ3NlbEJ5U3lsbGFibGUnKSByZXR1cm4gZmFsc2U7XG4gICAgXG4gICAgICAvLyBpZiBBTFJFQURZIGxpbmtlZFxuICAgICAgaWYgKGlzTGlua2VkKFtlbGVtZW50c1swXSwgZWxlbWVudHNbMV1dKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIC8vIGlmIENBTiBiZSBsaW5rZWRcbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiB0aGlzICpjb3VsZCogYmUgYSBzZWxlY3Rpb24gd2l0aCBhIHNpbmdsZSBsb2dpY2FsIHN5bGxhYmxlIHNwbGl0IGJ5IGEgc3RhZmYgYnJlYWsuIFxuICAgICAgICAvLyBDaGVjayBpZiB0aGVzZSBhcmUgYWRqYWNlbnQgc3RhdmVzIChsb2dpY2FsbHkpXG4gICAgICAgIGlmIChTZWxlY3RUb29scy5pc011bHRpU3RhdmVTZWxlY3Rpb24oZWxlbWVudHMpKSB7XG4gICAgICAgICAgY29uc3Qgc3RhZmYwID0gZWxlbWVudHNbMF0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAgICAgY29uc3Qgc3RhZmYxID0gZWxlbWVudHNbMV0uY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgICAgICAgY29uc3Qgc3RhZmZDaGlsZHJlbiA9IEFycmF5LmZyb20oc3RhZmYwLnBhcmVudEVsZW1lbnQuY2hpbGRyZW4pO1xuXG4gICAgICAgICAgLy8gQ2hlY2sgaWYgb25lIHN5bGxhYmxlIGlzIHRoZSBsYXN0IGluIHRoZSBmaXJzdCBzdGFmZiBhbmQgdGhlIG90aGVyIGlzIHRoZSBmaXJzdCBpbiB0aGUgc2Vjb25kLlxuICAgICAgICAgIC8vIERldGVybWluZSB3aGljaCBzdGFmZiBpcyBmaXJzdC5cbiAgICAgICAgICBjb25zdCBmaXJzdFN0YWZmID0gKHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjApIDwgc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMSkpID8gc3RhZmYwIDogc3RhZmYxO1xuICAgICAgICAgIGNvbnN0IHNlY29uZFN0YWZmID0gKGZpcnN0U3RhZmYuaWQgPT09IHN0YWZmMC5pZCkgPyBzdGFmZjEgOiBzdGFmZjA7XG4gICAgICAgICAgY29uc3QgZmlyc3RMYXllciA9IGZpcnN0U3RhZmYucXVlcnlTZWxlY3RvcignLmxheWVyJyk7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kTGF5ZXIgPSBzZWNvbmRTdGFmZi5xdWVyeVNlbGVjdG9yKCcubGF5ZXInKTtcbiAgICBcbiAgICAgICAgICAvLyBDaGVjayB0aGF0IHRoZSBmaXJzdCBzdGFmZiBoYXMgZWl0aGVyIHN5bGxhYmxlIGFzIHRoZSBsYXN0IHN5bGxhYmxlXG4gICAgICAgICAgY29uc3QgZmlyc3RTeWxsYWJsZUNoaWxkcmVuID0gQXJyYXkuZnJvbShmaXJzdExheWVyLmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3lsbGFibGUnKSk7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kU3lsbGFibGVDaGlsZHJlbiA9IEFycmF5LmZyb20oc2Vjb25kTGF5ZXIuY2hpbGRyZW4pLmZpbHRlcigoZWxlbTogSFRNTEVsZW1lbnQpID0+IGVsZW0uY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZScpKTsgICAgXG4gICAgICAgICAgY29uc3QgbGFzdFN5bGxhYmxlID0gZmlyc3RTeWxsYWJsZUNoaWxkcmVuW2ZpcnN0U3lsbGFibGVDaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgICBjb25zdCBmaXJzdFN5bGxhYmxlID0gc2Vjb25kU3lsbGFibGVDaGlsZHJlblswXTtcbiAgICBcbiAgICAgICAgICBpZiAobGFzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1swXS5pZCAmJiBmaXJzdFN5bGxhYmxlLmlkID09PSBlbGVtZW50c1sxXS5pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfSBcbiAgICAgICAgICBlbHNlIGlmIChsYXN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzFdLmlkICYmIGZpcnN0U3lsbGFibGUuaWQgPT09IGVsZW1lbnRzWzBdLmlkKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIFxuICAgIC8vIGNhbm5vdCB0b2dnbGUgbGluayBmb3Igc3lsbGFibGUgc2VsZWN0aW9uIGlmIG51bWJlciBvZiBzZWxlY3RlZFxuICAgIC8vIHN5bGxhYmxlcyBpcyBub3QgZXF1YWwgdG8gMlxuICAgIGRlZmF1bHQ6XG4gICAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICByZXR1cm4gZmFsc2U7XG59XG5cblxuLyoqXG4gKiBNZXJnZSBzZWxlY3RlZCBzdGF2ZXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlU3RhdmVzICgpOiB2b2lkIHtcbiAgY29uc3Qgc3lzdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zdGFmZi5zZWxlY3RlZCcpO1xuICBjb25zdCBlbGVtZW50SWRzID0gW107XG4gIHN5c3RlbXMuZm9yRWFjaChzdGFmZiA9PiB7XG4gICAgZWxlbWVudElkcy5wdXNoKHN0YWZmLmlkKTtcbiAgfSk7XG4gIGNvbnN0IGVkaXRvckFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgIGFjdGlvbjogJ21lcmdlJyxcbiAgICBwYXJhbToge1xuICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgIH1cbiAgfTtcbiAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdTdGFmZiBNZXJnZWQnLCAnc3VjY2VzcycpO1xuICAgICAgU2VsZWN0T3B0aW9ucy5lbmRPcHRpb25zU2VsZWN0aW9uKCk7XG4gICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ01lcmdlIEZhaWxlZCcsICdlcnJvcicpO1xuICAgIH1cbiAgfSk7XG59XG5cblxuLyoqXG4gKiBUcmlnZ2VyIHRoZSBncm91cGluZyBzZWxlY3Rpb24gbWVudS5cbiAqIEBwYXJhbSB0eXBlIC0gVGhlIGdyb3VwaW5nIHR5cGU6IG5jLCBuZXVtZSwgc3lsLCBsaWdhdHVyZU5jLCBvciBsaWdhdHVyZVxuICovXG5leHBvcnQgZnVuY3Rpb24gdHJpZ2dlckdyb3VwaW5nICh0eXBlOiBzdHJpbmcpOiB2b2lkIHtcbiAgY29uc3QgbW9yZUVkaXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKTtcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdoaWRkZW4nKTtcbiAgbW9yZUVkaXQuaW5uZXJIVE1MICs9IENvbnRlbnRzLmdyb3VwaW5nTWVudVt0eXBlXTtcbiAgaW5pdEdyb3VwaW5nTGlzdGVuZXJzKCk7XG59XG5cblxuLyoqXG4gKiBSZW1vdmUgdGhlIGdyb3VwaW5nIHNlbGVjdGlvbiBtZW51LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZW5kR3JvdXBpbmdTZWxlY3Rpb24gKCk6IHZvaWQge1xuICBjb25zdCBtb3JlRWRpdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpO1xuICBtb3JlRWRpdC5pbm5lckhUTUwgPSAnJztcbiAgbW9yZUVkaXQucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG59XG5cblxuLyoqXG4gKiBUaGUgZ3JvdXBpbmcgZHJvcGRvd24gbGlzdGVuZXIuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0R3JvdXBpbmdMaXN0ZW5lcnMgKCk6IHZvaWQge1xuICBjb25zdCBkZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlJyk7XG4gIGRlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHJlbW92ZUhhbmRsZXIpO1xuICBkZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZW1vdmVIYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZGVsZXRlQnV0dG9uSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGtleWRvd25MaXN0ZW5lcik7XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVyZ2VTeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlKS5jbGFzc0xpc3QuY29udGFpbnMoJ25ldW1lJylcbiAgICAgICk7XG4gICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdncm91cE5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldElkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZ3JvdXBOY3MnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCdncm91cCcsICduYycsIGVsZW1lbnRJZHMpO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZ3JvdXBOZXVtZXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICAgIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRDaGlsZHJlbklkcygpO1xuICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cblxuICB0cnkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmdyb3VwTmNzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKTtcbiAgICAgIGdyb3VwaW5nQWN0aW9uKCd1bmdyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGUpIHt9XG5cbiAgdHJ5IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndG9nZ2xlLWxpZ2F0dXJlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICBcbiAgICAgIGNvbnN0IGVkaXRvckFjdGlvbjogVG9nZ2xlTGlnYXR1cmVBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3RvZ2dsZUxpZ2F0dXJlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWRzOiBlbGVtZW50SWRzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBuZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTGlnYXR1cmUgVG9nZ2xlZCcsICdzdWNjZXNzJyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdMaWdhdHVyZSBUb2dnbGUgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICAgIH1cbiAgICAgICAgZW5kR3JvdXBpbmdTZWxlY3Rpb24oKTtcbiAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9IGNhdGNoIChlKSB7fVxuXG4gIHRyeSB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3RvZ2dsZS1saW5rJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKTtcbiAgICB9KTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuXG4vKipcbiAqIEdyb3VwaW5nL1VuZ3JvdXBpbmcga2V5YmluZGluZyBldmVudCBsaXN0ZW5lclxuICovXG5jb25zdCBrZXlkb3duTGlzdGVuZXIgPSBmdW5jdGlvbihlKSB7XG4gIGlmIChlLmtleSA9PT0gJ2cnKSB7XG4gICAgLy8gZ2V0IHNlbGVjdGVkIGVsZW1lbnRzIHRvIGNoZWNrIGlmIHRoZXkgY2FuIGJlIGdyb3VwZWRzXG4gICAgY29uc3QgZWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zZWxlY3RlZCcpKSBhcyBTVkdHcmFwaGljc0VsZW1lbnRbXTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoID09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHNlbGVjdGlvblR5cGUgPSBTZWxlY3RUb29scy5nZXRTZWxlY3Rpb25UeXBlKCk7XG5cbiAgICAvLyBHcm91cC9tZXJnZSBvciB1bmdyb3VwL3NwbGl0IGJhc2VkIG9uIHNlbGVjdGlvbiB0eXBlXG4gICAgc3dpdGNoIChzZWxlY3Rpb25UeXBlKSB7XG4gICAgICBjYXNlICdzZWxCeVN5bGxhYmxlJzpcbiAgICAgICAgLy8gaWYgc3lsbGFibGVzIGFyZSBsaW5ua2FibGUsIHRvZ2dsZSBsaW5rZWQgc3lsbGFibGVcbiAgICAgICAgLy8gbGlua2VkIHN5bGxhYmxlcyBjYW5ub3QgYmUgZ3JvdXBlZC91bmdyb3VwZWRcbiAgICAgICAgaWYgKGlzTGlua2FibGUoc2VsZWN0aW9uVHlwZSwgZWxlbWVudHMpKSB7XG4gICAgICAgICAgdG9nZ2xlTGlua2VkU3lsbGFibGVzKCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gY2hlY2sgaWYgZ3JvdXBhYmxlIGJlZm9yZSBncm91cGluZ1xuICAgICAgICBlbHNlIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0Q2hpbGRyZW5JZHMoKS5maWx0ZXIoZSA9PlxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZSkuY2xhc3NMaXN0LmNvbnRhaW5zKCduZXVtZScpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBncm91cGluZ0FjdGlvbignZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcblxuICAgICAgICB9IFxuICAgICAgICAvLyBjYW4gb25seSB1bmdyb3VwIGlmIGxlbmd0aCBpcyAxIChvbmUgc3lsbGFibGUgc2VsZWN0ZWQpXG4gICAgICAgIC8vIGNhbm5vdCB1bmdyb3VwIGlmIG11bHRpcGxlIHN5bGxhYmxlcyBhcmUgc2VsZWN0ZWRcbiAgICAgICAgZWxzZSBpZiAoZWxlbWVudHMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmV1bWUnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOZXVtZSc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25ldW1lJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlOYyc6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBjb25zdCBlbGVtZW50SWRzID0gZ2V0SWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ2dyb3VwJywgJ25jJywgZWxlbWVudElkcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc3QgZWxlbWVudElkcyA9IGdldENoaWxkcmVuSWRzKCk7XG4gICAgICAgICAgZ3JvdXBpbmdBY3Rpb24oJ3VuZ3JvdXAnLCAnbmMnLCBlbGVtZW50SWRzKTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcblxuICAgICAgY2FzZSAnc2VsQnlTdGFmZic6XG4gICAgICAgIGlmIChpc0dyb3VwYWJsZShzZWxlY3Rpb25UeXBlLCBlbGVtZW50cykpIHtcbiAgICAgICAgICBtZXJnZVN0YXZlcygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIFNlbGVjdE9wdGlvbnMudHJpZ2dlclN0YWZmU3BsaXRNb2RlKCk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG5cbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYENhbid0IHBlcmZvcm0gZ3JvdXBpbmcvdW5ncm91cGluZyBhY3Rpb24gb24gc2VsZWN0aW9uIHR5cGUgJHtzZWxlY3Rpb25UeXBlfS5gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxufTtcblxuXG4vKipcbiAqIEZvcm0gYW5kIGV4ZWN1dGUgYSBncm91cC91bmdyb3VwIGFjdGlvbi5cbiAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgYWN0aW9uIHRvIGV4ZWN1dGUuIEVpdGhlciBcImdyb3VwXCIgb3IgXCJ1bmdyb3VwXCIuXG4gKiBAcGFyYW0gZ3JvdXBUeXBlIC0gVGhlIHR5cGUgb2YgZWxlbWVudHMgdG8gZ3JvdXAuIEVpdGhlciBcIm5ldW1lXCIgb3IgXCJuY1wiLlxuICogQHBhcmFtIGVsZW1lbnRJZHMgLSBUaGUgSURzIG9mIHRoZSBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ3JvdXBpbmdBY3Rpb24gKGFjdGlvbjogJ2dyb3VwJyB8ICd1bmdyb3VwJywgZ3JvdXBUeXBlOiAnbmV1bWUnIHwgJ25jJywgZWxlbWVudElkczogc3RyaW5nW10pOiB2b2lkIHtcbiAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgYWN0aW9uOiBhY3Rpb24sXG4gICAgcGFyYW06IHtcbiAgICAgIGdyb3VwVHlwZTogZ3JvdXBUeXBlLFxuICAgICAgZWxlbWVudElkczogZWxlbWVudElkc1xuICAgIH1cbiAgfTtcbiAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigocmVzdWx0KSA9PiB7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gJ2dyb3VwJykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0dyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdVbmdyb3VwaW5nIFN1Y2Nlc3MnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoYWN0aW9uID09PSAnZ3JvdXAnKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignR3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1VuZ3JvdXBpbmcgRmFpbGVkJywgJ2Vycm9yJyk7XG4gICAgICB9XG4gICAgfVxuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG5cbiAgICAvLyBQcm9tcHQgdXNlciB0byBjb25maXJtIGlmIE5lb24gZG9lcyBub3QgcmUgY29nbml6ZSBjb250b3VyXG4gICAgaWYgKGdyb3VwVHlwZSA9PT0gJ25jJykge1xuICAgICAgY29uc3QgbmV1bWVQYXJlbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5wYXJlbnRFbGVtZW50O1xuICAgICAgY29uc3QgbmNzID0gQXJyYXkuZnJvbShuZXVtZVBhcmVudC5jaGlsZHJlbikgYXMgU1ZHR3JhcGhpY3NFbGVtZW50W107XG4gICAgICBjb25zdCBjb250b3VyID0gbmVvblZpZXcuaW5mby5nZXRDb250b3VyKG5jcyk7XG4gICAgICBpZiAoY29udG91ciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIFdhcm5pbmdzLmdyb3VwaW5nTm90UmVjb2duaXplZCgpO1xuICAgICAgfVxuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICB9KTtcbn1cblxuXG4vKipcbiAqIERldGVybWluZSB3aGF0IGFjdGlvbiAobGluay91bmxpbmspIHRvIHBlcmZvcm0gd2hlbiB1c2VyIGNsaWNrcyBvbiBcIlRvZ2dsZSBMaW5rZWQgU3lsbGFibGVcIlxuICogQWxzbyBjYWxsZWQgd2hlbiBjb3JyZXNwaW5kaW5nIGhvdGtleSBpcyBwcmVzc2VkLlxuICovXG5mdW5jdGlvbiB0b2dnbGVMaW5rZWRTeWxsYWJsZXMoKSB7XG4gIGNvbnN0IGVsZW1lbnRJZHMgPSBnZXRJZHMoKTtcbiAgY29uc3QgY2hhaW5BY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgcGFyYW06IFtdXG4gIH07XG4gIGNvbnN0IHBhcmFtID0gbmV3IEFycmF5PEVkaXRvckFjdGlvbj4oKTtcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsZW1lbnRJZHNbMF0pLmdldEF0dHJpYnV0ZSgnbWVpOnByZWNlZGVzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRzWzFdLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1sxXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKS5nZXRBdHRyaWJ1dGUoJ21laTpmb2xsb3dzJykpIHtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMF0sXG4gICAgICAgIGF0dHJUeXBlOiAnZm9sbG93cycsXG4gICAgICAgIGF0dHJWYWx1ZTogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnRJZHNbMV0sXG4gICAgICAgIGF0dHJUeXBlOiAncHJlY2VkZXMnLFxuICAgICAgICBhdHRyVmFsdWU6ICcnXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGFyYW0ucHVzaCh7XG4gICAgICBhY3Rpb246ICdzZXRUZXh0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZWxlbWVudElkc1swXSxcbiAgICAgICAgdGV4dDogJydcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICAvLyBBc3NvY2lhdGUgc3lsbGFibGVzLiBXaWxsIG5lZWQgdG8gZmluZCB3aGljaCBpcyBmaXJzdC4gVXNlIHN0YXZlcy5cbiAgICBjb25zdCBzeWxsYWJsZTAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzBdKTtcbiAgICBjb25zdCBzeWxsYWJsZTEgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50SWRzWzFdKTtcbiAgICBjb25zdCBzdGFmZjAgPSBzeWxsYWJsZTAuY2xvc2VzdCgnLnN0YWZmJyk7XG4gICAgY29uc3Qgc3RhZmYxID0gc3lsbGFibGUxLmNsb3Nlc3QoJy5zdGFmZicpO1xuICAgIGNvbnN0IHN0YWZmQ2hpbGRyZW4gPSBBcnJheS5mcm9tKHN0YWZmMC5wYXJlbnRFbGVtZW50LmNoaWxkcmVuKS5maWx0ZXIoKGVsZW06IEhUTUxFbGVtZW50KSA9PiBlbGVtLmNsYXNzTGlzdC5jb250YWlucygnc3RhZmYnKSk7XG5cbiAgICBsZXQgZmlyc3RTeWxsYWJsZSwgc2Vjb25kU3lsbGFibGU7XG4gICAgLy8gRGV0ZXJtaW5lIGZpcnN0IHN5bGxhYmxlIGNvbWVzIGZpcnN0IGJ5IHN0YWZmXG4gICAgaWYgKHN0YWZmQ2hpbGRyZW4uaW5kZXhPZihzdGFmZjApIDwgc3RhZmZDaGlsZHJlbi5pbmRleE9mKHN0YWZmMSkpIHtcbiAgICAgIGZpcnN0U3lsbGFibGUgPSBzeWxsYWJsZTA7XG4gICAgICBzZWNvbmRTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmlyc3RTeWxsYWJsZSA9IHN5bGxhYmxlMTtcbiAgICAgIHNlY29uZFN5bGxhYmxlID0gc3lsbGFibGUwO1xuICAgIH1cblxuICAgIHBhcmFtLnB1c2goe1xuICAgICAgYWN0aW9uOiAnc2V0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogZmlyc3RTeWxsYWJsZS5pZCxcbiAgICAgICAgYXR0clR5cGU6ICdwcmVjZWRlcycsXG4gICAgICAgIGF0dHJWYWx1ZTogJyMnICsgc2Vjb25kU3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICBwYXJhbS5wdXNoKHtcbiAgICAgIGFjdGlvbjogJ3NldCcsXG4gICAgICBwYXJhbToge1xuICAgICAgICBlbGVtZW50SWQ6IHNlY29uZFN5bGxhYmxlLmlkLFxuICAgICAgICBhdHRyVHlwZTogJ2ZvbGxvd3MnLFxuICAgICAgICBhdHRyVmFsdWU6ICcjJyArIGZpcnN0U3lsbGFibGUuaWRcbiAgICAgIH1cbiAgICB9KTtcbiAgICAvLyBEZWxldGUgc3lsIG9uIHNlY29uZCBzeWxsYWJsZVxuICAgIGNvbnN0IHN5bCA9IHNlY29uZFN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICBpZiAoc3lsICE9PSBudWxsKSB7XG4gICAgICBwYXJhbS5wdXNoKHtcbiAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IHN5bC5pZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgY2hhaW5BY3Rpb24ucGFyYW0gPSBwYXJhbTtcbiAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICBpZiAocmVzdWx0KSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RvZ2dsZWQgU3lsbGFibGUgTGluaycpO1xuICAgIH0gZWxzZSB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byBUb2dnbGUgU3lsbGFibGUgTGluaycpO1xuICAgIH1cbiAgICBlbmRHcm91cGluZ1NlbGVjdGlvbigpO1xuICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gIH0pO1xufVxuXG5cbi8qKlxuICogQHJldHVybnMgVGhlIElEcyBvZiBzZWxlY3RlZCBlbGVtZW50cy5cbiAqL1xuZnVuY3Rpb24gZ2V0SWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGlkcyA9IFtdO1xuICBjb25zdCBlbGVtZW50cyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKSk7XG4gIGVsZW1lbnRzLmZvckVhY2goZWwgPT4ge1xuICAgIGlkcy5wdXNoKGVsLmlkKTtcbiAgfSk7XG4gIHJldHVybiBpZHM7XG59XG5cblxuLyoqXG4gKiBAcmV0dXJucyBUaGUgSURzIG9mIHRoZSBzZWxlY3RlZCBlbGVtZW50cycgY2hpbGRyZW4uXG4gKi9cbmZ1bmN0aW9uIGdldENoaWxkcmVuSWRzICgpOiBzdHJpbmdbXSB7XG4gIGNvbnN0IGNoaWxkcmVuSWRzID0gW107XG4gIGNvbnN0IGVsZW1lbnRzID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgZWxlbWVudHMuZm9yRWFjaChlbCA9PiB7XG4gICAgaWYgKGVsLmNsYXNzTGlzdC5jb250YWlucygnZGl2TGluZScpIHx8IGVsLmNsYXNzTGlzdC5jb250YWlucygnYWNjaWQnKSB8fCBlbC5jbGFzc0xpc3QuY29udGFpbnMoJ2NsZWYnKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjaGlsZHJlbiA9IEFycmF5LmZyb20oZWwuY2hpbGRyZW4pO1xuICAgIGNoaWxkcmVuLmZvckVhY2goY2ggPT4ge1xuICAgICAgY2hpbGRyZW5JZHMucHVzaChjaC5pZCk7XG4gICAgfSk7XG4gIH0pO1xuICByZXR1cm4gY2hpbGRyZW5JZHM7XG59XG4iLCJpbXBvcnQgeyBnZXRTdGFmZkJCb3gsIHNlbGVjdEJCb3gsIHNlbGVjdFN0YWZmLCBzZWxlY3RBbGwgfSBmcm9tICcuL1NlbGVjdFRvb2xzJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi9EcmFnSGFuZGxlcic7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiwgUmVzaXplQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuaW1wb3J0IHsgaXNPdXRPZlNWR0JvdW5kcyB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuaW1wb3J0IHsgcXVldWVOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5cbi8qKlxuICogUmVzaXplIGEgc3RhZmYgb3IgYSBzeWxsYWJsZSB0ZXh0IGJvdW5kaW5nIGJveC5cbiAqIEZvciBzdGF2ZXMsIHRoaXMgYWxzbyBzdXBwb3J0cyBhZGp1c3RpbmcgdGhlIHJvdGF0ZS5cbiAqL1xudHlwZSBQb2ludCA9IHsgeDogbnVtYmVyOyB5OiBudW1iZXI7IG5hbWU6IG51bWJlciB9O1xuXG4vKipcbiAqIFRoZSBwb2ludHMgeW91IGNhbiBjbGljayBhbmQgZHJhZyB0byByZXNpemVcbiAqL1xuY29uc3QgUG9pbnROYW1lcyA9IHtcbiAgVG9wTGVmdDogMCxcbiAgVG9wOiAxLFxuICBUb3BSaWdodDogMixcbiAgUmlnaHQ6IDMsXG4gIEJvdHRvbVJpZ2h0OiA0LFxuICBCb3R0b206IDUsXG4gIEJvdHRvbUxlZnQ6IDYsXG4gIExlZnQ6IDdcbn07XG5cbmZ1bmN0aW9uIGdldFBvaW50cyh1bHg6IG51bWJlciwgdWx5OiBudW1iZXIsIGxyeDogbnVtYmVyLCBscnk6IG51bWJlciwgcm90YXRlOiBudW1iZXIpOiBQb2ludFtdIHtcbiAgLy8gTm90ZSB0aGF0IGFyYyBmdW5jdGlvbnMgcmV0dXJuIGFuIGFuZ2xlIHggaW4gWy1waS8yLCBwaS8yXS5cbiAgbGV0IHBvaW50czogQXJyYXk8UG9pbnQ+O1xuICAvLyB1bCBpcyB1bHgsIHVseSwgbHIgaXMgbHJ4LCBscnlcbiAgaWYgKHJvdGF0ZSA+PSAwKSB7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BMZWZ0IH0sXG4gICAgICB7IHg6ICh1bHggKyBscngpIC8gMiwgeTogdWx5ICsgKGxyeCAtIHVseCkgLyAyICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Ub3AgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiB1bHkgKyAobHJ4IC0gdWx4KSAqIE1hdGguc2luKHJvdGF0ZSksIG5hbWU6IFBvaW50TmFtZXMuVG9wUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiAodWx5ICsgbHJ5ICsgKGxyeCAtIHVseCkgKiBNYXRoLnNpbihyb3RhdGUpKSAvIDIsIG5hbWU6IFBvaW50TmFtZXMuUmlnaHQgfSxcbiAgICAgIHsgeDogbHJ4LCB5OiBscnksIG5hbWU6IFBvaW50TmFtZXMuQm90dG9tUmlnaHQgfSxcbiAgICAgIHsgeDogKHVseCArIGxyeCkgLyAyLCB5OiBscnkgLSAobHJ4IC0gdWx4KSAvIDIgKiBNYXRoLnNpbihyb3RhdGUpLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogKHVseSArIGxyeSAtIChscnggLSB1bHgpICogTWF0aC5zaW4ocm90YXRlKSkgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkxlZnQgfVxuICAgIF07XG4gIH1cbiAgLy8gTm90IHRoYXRcbiAgZWxzZSB7XG4gICAgY29uc3QgYSA9IChscnggLSB1bHgpICogTWF0aC50YW4oTWF0aC5hYnMocm90YXRlKSk7XG4gICAgY29uc3QgYiA9IGxyeSAtIHVseSAtIGE7XG4gICAgcG9pbnRzID0gW1xuICAgICAgeyB4OiB1bHgsIHk6IHVseSArIGEsIG5hbWU6IFBvaW50TmFtZXMuVG9wTGVmdCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IHVseSArIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlRvcCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSwgbmFtZTogUG9pbnROYW1lcy5Ub3BSaWdodCB9LFxuICAgICAgeyB4OiBscngsIHk6IHVseSArIGIgLyAyLCBuYW1lOiBQb2ludE5hbWVzLlJpZ2h0IH0sXG4gICAgICB7IHg6IGxyeCwgeTogdWx5ICsgYiwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21SaWdodCB9LFxuICAgICAgeyB4OiAodWx4ICsgbHJ4KSAvIDIsIHk6IGxyeSAtIGEgLyAyLCBuYW1lOiBQb2ludE5hbWVzLkJvdHRvbSB9LFxuICAgICAgeyB4OiB1bHgsIHk6IGxyeSwgbmFtZTogUG9pbnROYW1lcy5Cb3R0b21MZWZ0IH0sXG4gICAgICB7IHg6IHVseCwgeTogbHJ5IC0gYiAvIDIsIG5hbWU6IFBvaW50TmFtZXMuTGVmdCB9XG4gICAgXTtcbiAgfVxuICByZXR1cm4gcG9pbnRzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gcmVzaXplIChlbGVtZW50OiBTVkdHcmFwaGljc0VsZW1lbnQsIG5lb25WaWV3OiBOZW9uVmlldywgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyKTogdm9pZCB7XG4gIGxldCB1bHg6IG51bWJlcjtcbiAgbGV0IHVseTogbnVtYmVyO1xuICBsZXQgbHJ4OiBudW1iZXI7XG4gIGxldCBscnk6IG51bWJlcjtcbiAgbGV0IHJvdGF0ZTogbnVtYmVyO1xuXG4gIGxldCBpbml0aWFsVWx4OiBudW1iZXIsIGluaXRpYWxMcng6IG51bWJlcjtcbiAgbGV0IGluaXRpYWxQb2ludDogbnVtYmVyW10sIGluaXRpYWxVbHk6IG51bWJlciwgaW5pdGlhbExyeTogbnVtYmVyLFxuICAgIGluaXRpYWxZOiBudW1iZXIsIGluaXRpYWxSZWN0WTogbnVtYmVyLCBwb2x5TGVuOiBudW1iZXIsIGR5OiBudW1iZXIsIGluaXRpYWxSb3RhdGU6IG51bWJlcjtcblxuICBkcmF3SW5pdGlhbFJlY3QoKTtcblxuICAvKipcbiAgICogUmVkcmF3IHRoZSByZWN0YW5nbGUgd2l0aCB0aGUgbmV3IGJvdW5kc1xuICAgKi9cbiAgZnVuY3Rpb24gcmVkcmF3ICgpOiB2b2lkIHtcbiAgICBjb25zdCBwb2ludHM6IFBvaW50W10gPSBnZXRQb2ludHModWx4LCB1bHksIGxyeCwgbHJ5LCByb3RhdGUpO1xuXG4gICAgY29uc3QgcG9pbnRTdHJpbmc6IHN0cmluZyA9IHBvaW50cy5maWx0ZXIoKF9lbGVtLCBpbmRleCkgPT4geyByZXR1cm4gaW5kZXggJSAyID09PSAwOyB9KVxuICAgICAgLm1hcChlbGVtID0+IGVsZW0ueCArICcsJyArIGVsZW0ueSlcbiAgICAgIC5qb2luKCcgJyk7XG5cbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcmVzaXplUmVjdCcpLnNldEF0dHJpYnV0ZSgncG9pbnRzJywgcG9pbnRTdHJpbmcpO1xuXG4gICAgY29uc3QgdGV4dFJlY3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc3lsLnNlbGVjdGVkID4gLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBpZiAodGV4dFJlY3QpIHtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneCcsIFN0cmluZyhNYXRoLm1pbih1bHgsIGxyeCkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgneScsIFN0cmluZyhNYXRoLm1pbih1bHksIGxyeSkpKTtcbiAgICAgIHRleHRSZWN0LnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBTdHJpbmcoTWF0aC5hYnMobHJ4IC0gdWx4KSkpO1xuICAgICAgdGV4dFJlY3Quc2V0QXR0cmlidXRlKCdoZWlnaHQnLCBTdHJpbmcoTWF0aC5hYnMobHJ5IC0gdWx5KSkpO1xuICAgIH1cblxuXG4gICAgZm9yIChjb25zdCBwb2ludE5hbWUgaW4gUG9pbnROYW1lcykge1xuICAgICAgY29uc3QgcG9pbnQ6IFBvaW50ID0gcG9pbnRzW1BvaW50TmFtZXNbcG9pbnROYW1lXV07XG4gICAgICBkMy5zZWxlY3QoJyNwLScgKyBwb2ludE5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JylcbiAgICAgICAgLmF0dHIoJ2N4JywgcG9pbnQueClcbiAgICAgICAgLmF0dHIoJ2N5JywgcG9pbnQueSk7XG4gICAgfVxuXG4gICAgbGV0IHggPSBwb2ludHNbM10ueDtcbiAgICBsZXQgeSA9IHBvaW50c1szXS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAoeCArIDcwKSArICcsJyArICh5ICsgNTApICsgJyAnICsgKHggKyAxMDApICsgJywnICsgKHkgKyAxNSkgKyAnICcgKyAoeCArIDEzMCkgKyAnLCcgKyAoeSArIDUwKTtcbiAgICB4ID0gcG9pbnRzWzddLng7XG4gICAgeSA9IHBvaW50c1s3XS55O1xuICAgIGNvbnN0IHBvaW50U3RyaW5nTGVmdCA9ICh4IC0gMTAwKSArICcsJyArICh5IC0gMTUpICsgJyAnICtcbiAgICAgICh4IC0gMTMwKSArICcsJyArICh5IC0gNTApICsgJyAnICsgKHggLSAxMDApICsgJywnICsgKHkgLSA4NSkgKyAnICcgKyAoeCAtIDcwKSArICcsJyArICh5IC0gNTApO1xuXG4gICAgZDMuc2VsZWN0KCcjcm90YXRlTGVmdCcpLmF0dHIoJ3BvaW50cycsIHBvaW50U3RyaW5nTGVmdCk7XG4gICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3IHRoZSBpbml0aWFsIHJlY3RhbmdsZSBhcm91bmQgdGhlIGVsZW1lbnRcbiAgICogYW5kIGFkZCB0aGUgbGlzdGVuZXJzIHRvIHN1cHBvcnQgZHJhZ2dpbmcgdG8gcmVzaXplLlxuICAgKi9cbiAgZnVuY3Rpb24gZHJhd0luaXRpYWxSZWN0ICgpOiB2b2lkIHtcbiAgICBpZiAoZWxlbWVudCA9PT0gbnVsbCkgcmV0dXJuO1xuXG4gICAgLy8gaWYgaXQncyBhIGJvdW5kaW5nYm94IGp1c3QgZ2V0IHRoZSBjb29yZGluYXRlc1xuICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgIGNvbnN0IHJlY3QgPSBlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICBpZiAocmVjdCA9PT0gbnVsbCkge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RyaWVkIHRvIGRyYXcgcmVzaXplIHJlY3QgZm9yIGEgc3lsVGV4dFJlY3QgdGhhdCBkb2VzblxcJ3QgZXhpc3QgKG9yIGlzblxcJ3QgZGlzcGxheWluZyknKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdWx4ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd4JykpO1xuICAgICAgdWx5ID0gTnVtYmVyKHJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgbHJ4ID0gK3VseCArICtyZWN0LmdldEF0dHJpYnV0ZSgnd2lkdGgnKTtcbiAgICAgIGxyeSA9ICt1bHkgKyArcmVjdC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpO1xuXG4gICAgICByb3RhdGUgPSAwO1xuICAgIH1cblxuICAgIC8vIGlmIGl0J3MgYSBzdGFmZiB1c2UgdGhlIHBhdGhzIHRvIGdldCBpdCdzIGJvdW5kaW5nYm94XG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBjb25zdCBiYm94ID0gZ2V0U3RhZmZCQm94KGVsZW1lbnQpO1xuICAgICAgdWx4ID0gYmJveC51bHg7XG4gICAgICB1bHkgPSBiYm94LnVseTtcbiAgICAgIGxyeCA9IGJib3gubHJ4O1xuICAgICAgbHJ5ID0gYmJveC5scnk7XG5cbiAgICAgIGNvbnN0IGNvb3JkaW5hdGVzOiBudW1iZXJbXSA9IGVsZW1lbnQucXVlcnlTZWxlY3RvcigncGF0aCcpXG4gICAgICAgIC5nZXRBdHRyaWJ1dGUoJ2QnKVxuICAgICAgICAubWF0Y2goL1xcZCsvZylcbiAgICAgICAgLm1hcChlbGVtZW50ID0+IE51bWJlcihlbGVtZW50KSk7XG4gICAgICByb3RhdGUgPSBNYXRoLmF0YW4oKGNvb3JkaW5hdGVzWzNdIC0gY29vcmRpbmF0ZXNbMV0pIC9cbiAgICAgICAgKGNvb3JkaW5hdGVzWzJdIC0gY29vcmRpbmF0ZXNbMF0pKTtcbiAgICB9XG5cbiAgICBpbml0aWFsVWx4ID0gdWx4LCBpbml0aWFsVWx5ID0gdWx5LCBpbml0aWFsTHJ4ID0gbHJ4LCBpbml0aWFsTHJ5ID0gbHJ5O1xuXG4gICAgbGV0IHdoaWNoUG9pbnQ6IHN0cmluZztcblxuICAgIGNvbnN0IHBvaW50cyA9IGdldFBvaW50cyh1bHgsIHVseSwgbHJ4LCBscnksIHJvdGF0ZSk7XG5cbiAgICBwb2x5TGVuID0gcG9pbnRzWzJdLnggLSBwb2ludHNbMF0ueDtcblxuICAgIGNvbnN0IHBvaW50U3RyaW5nID0gcG9pbnRzLmZpbHRlcigoXywgaW5kZXgpID0+IGluZGV4ICUgMiA9PT0gMClcbiAgICAgIC5tYXAoZWxlbSA9PiBlbGVtLnggKyAnLCcgKyBlbGVtLnkpXG4gICAgICAuam9pbignICcpO1xuXG4gICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAuYXR0cigncG9pbnRzJywgcG9pbnRTdHJpbmcpXG4gICAgICAuYXR0cignaWQnLCAncmVzaXplUmVjdCcpXG4gICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCAxMClcbiAgICAgIC5hdHRyKCdmaWxsJywgJ25vbmUnKVxuICAgICAgLnN0eWxlKCdjdXJzb3InLCAnbW92ZScpXG4gICAgICAuc3R5bGUoJ3N0cm9rZS1kYXNoYXJyYXknLCAnMjAgMTAnKTtcblxuICAgIGZvciAoY29uc3QgcG9pbnROYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGNvbnN0IHBvaW50OiBQb2ludCA9IHBvaW50c1tQb2ludE5hbWVzW3BvaW50TmFtZV1dO1xuICAgICAgZDMuc2VsZWN0KGVsZW1lbnQudmlld3BvcnRFbGVtZW50KS5hcHBlbmQoJ2NpcmNsZScpXG4gICAgICAgIC5hdHRyKCdjeCcsIHBvaW50LngpXG4gICAgICAgIC5hdHRyKCdjeScsIHBvaW50LnkpXG4gICAgICAgIC5hdHRyKCdyJywgMjUpXG4gICAgICAgIC5hdHRyKCdzdHJva2UnLCAnYmxhY2snKVxuICAgICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgNClcbiAgICAgICAgLmF0dHIoJ2ZpbGwnLCAnIzAwOTlmZicpXG4gICAgICAgIC5hdHRyKCdjbGFzcycsICdyZXNpemVQb2ludCcpXG4gICAgICAgIC5hdHRyKCdpZCcsICdwLScgKyBwb2ludE5hbWUpO1xuICAgIH1cblxuICAgIC8vIGRvIGl0IGFzIGEgbG9vcCBpbnN0ZWFkIG9mIHNlbGVjdEFsbCBzbyB0aGF0IHlvdSBjYW4gZWFzaWx5IGtub3cgd2hpY2ggcG9pbnQgd2FzXG4gICAgZm9yIChjb25zdCBuYW1lIGluIFBvaW50TmFtZXMpIHtcbiAgICAgIGQzLnNlbGVjdCgnI3AtJyArIG5hbWUpLmZpbHRlcignLnJlc2l6ZVBvaW50JykuY2FsbChcbiAgICAgICAgZDMuZHJhZygpXG4gICAgICAgICAgLm9uKCdzdGFydCcsICgpID0+IHsgcmVzaXplU3RhcnQobmFtZSk7IH0pXG4gICAgICAgICAgLm9uKCdkcmFnJywgcmVzaXplRHJhZylcbiAgICAgICAgICAub24oJ2VuZCcsIHJlc2l6ZUVuZC5iaW5kKHRoaXMpKSk7XG4gICAgfVxuXG4gICAgaWYgKGVsZW1lbnQuY2xhc3NMaXN0LmNvbnRhaW5zKCdzdGFmZicpKSB7XG4gICAgICBsZXQgeCA9IHBvaW50c1szXS54O1xuICAgICAgbGV0IHkgPSBwb2ludHNbM10ueTtcbiAgICAgIGNvbnN0IHBvaW50U3RyaW5nUmlnaHQgPSAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDg1KSArICcgJyArXG4gICAgICAgICh4ICsgNzApICsgJywnICsgKHkgKyA1MCkgKyAnICcgKyAoeCArIDEwMCkgKyAnLCcgKyAoeSArIDE1KSArICcgJyArICh4ICsgMTMwKSArICcsJyArICh5ICsgNTApO1xuICAgICAgeCA9IHBvaW50c1s3XS54O1xuICAgICAgeSA9IHBvaW50c1s3XS55O1xuICAgICAgY29uc3QgcG9pbnRTdHJpbmdMZWZ0ID0gKHggLSAxMDApICsgJywnICsgKHkgLSAxNSkgKyAnICcgK1xuICAgICAgICAoeCAtIDEzMCkgKyAnLCcgKyAoeSAtIDUwKSArICcgJyArICh4IC0gMTAwKSArICcsJyArICh5IC0gODUpICsgJyAnICsgKHggLSA3MCkgKyAnLCcgKyAoeSAtIDUwKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ1JpZ2h0KVxuICAgICAgICAuYXR0cignaWQnLCAncm90YXRlUmlnaHQnKVxuICAgICAgICAuYXR0cignc3Ryb2tlJywgJ2JsYWNrJylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZS13aWR0aCcsIDcpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJyMwMDk5ZmYnKVxuICAgICAgICAuYXR0cignY2xhc3MnLCAncm90YXRlUG9pbnQnKTtcblxuICAgICAgZDMuc2VsZWN0KCcjJyArIGVsZW1lbnQuaWQpLmFwcGVuZCgncG9seWdvbicpXG4gICAgICAgIC5hdHRyKCdwb2ludHMnLCBwb2ludFN0cmluZ0xlZnQpXG4gICAgICAgIC5hdHRyKCdpZCcsICdyb3RhdGVMZWZ0JylcbiAgICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAgIC5hdHRyKCdzdHJva2Utd2lkdGgnLCA3KVxuICAgICAgICAuYXR0cignZmlsbCcsICcjMDA5OWZmJylcbiAgICAgICAgLmF0dHIoJ2NsYXNzJywgJ3JvdGF0ZVBvaW50Jyk7XG5cbiAgICAgIGQzLnNlbGVjdCgnI3JvdGF0ZUxlZnQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ0xlZnQpXG4gICAgICAgICAgLm9uKCdlbmQnLCByb3RhdGVFbmQpKTtcblxuICAgICAgZDMuc2VsZWN0KCcjcm90YXRlUmlnaHQnKS5jYWxsKFxuICAgICAgICBkMy5kcmFnKClcbiAgICAgICAgICAub24oJ3N0YXJ0Jywgcm90YXRlU3RhcnQpXG4gICAgICAgICAgLm9uKCdkcmFnJywgcm90YXRlRHJhZ1JpZ2h0KVxuICAgICAgICAgIC5vbignZW5kJywgcm90YXRlRW5kKSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplU3RhcnQgKG5hbWU6IHN0cmluZyk6IHZvaWQge1xuICAgICAgd2hpY2hQb2ludCA9IG5hbWU7XG4gICAgICBjb25zdCBwb2ludCA9IHBvaW50cy5maW5kKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXNbbmFtZV0pO1xuICAgICAgaW5pdGlhbFBvaW50ID0gW3BvaW50LngsIHBvaW50LnldO1xuICAgICAgaW5pdGlhbFVseSA9IHVseTtcbiAgICAgIGluaXRpYWxMcnkgPSBscnk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVzaXplRHJhZyAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50UG9pbnQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIHN3aXRjaCAoUG9pbnROYW1lc1t3aGljaFBvaW50XSkge1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wTGVmdDpcbiAgICAgICAgICB1bHggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuVG9wOlxuICAgICAgICAgIHVseSA9IGN1cnJlbnRQb2ludFsxXSAtIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Ub3BSaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgdWx5ID0gY3VycmVudFBvaW50WzFdIC0gKGxyeCAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuUmlnaHQ6XG4gICAgICAgICAgbHJ4ID0gY3VycmVudFBvaW50WzBdO1xuICAgICAgICAgIGxyeSA9IGluaXRpYWxMcnkgKyAoY3VycmVudFBvaW50WzBdIC0gaW5pdGlhbFBvaW50WzBdKSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21SaWdodDpcbiAgICAgICAgICBscnggPSBjdXJyZW50UG9pbnRbMF07XG4gICAgICAgICAgbHJ5ID0gY3VycmVudFBvaW50WzFdO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFBvaW50TmFtZXMuQm90dG9tOlxuICAgICAgICAgIGxyeSA9IGN1cnJlbnRQb2ludFsxXSArIChscnggLSB1bHgpICogTWF0aC50YW4ocm90YXRlKSAvIDI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5Cb3R0b21MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICBscnkgPSBjdXJyZW50UG9pbnRbMV0gKyAobHJ4IC0gdWx4KSAqIE1hdGgudGFuKHJvdGF0ZSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgUG9pbnROYW1lcy5MZWZ0OlxuICAgICAgICAgIHVseCA9IGN1cnJlbnRQb2ludFswXTtcbiAgICAgICAgICB1bHkgPSBpbml0aWFsVWx5ICsgKGN1cnJlbnRQb2ludFswXSAtIGluaXRpYWxQb2ludFswXSkgKiBNYXRoLnRhbihyb3RhdGUpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1NvbWV0aGluZyB0aGF0IHdhc25cXCd0IGEgc2lkZSBvZiB0aGUgcmVjdGFuZ2xlIHdhcyBkcmFnZ2VkLiBUaGlzIHNob3VsZG5cXCd0IGhhcHBlbi4nKTtcbiAgICAgIH1cbiAgICAgIHJlZHJhdygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHJlc2l6ZUVuZCAoKTogdm9pZCB7XG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgdWx4ID0gaW5pdGlhbFVseCwgdWx5ID0gaW5pdGlhbFVseSwgbHJ4ID0gaW5pdGlhbExyeCwgbHJ5ID0gaW5pdGlhbExyeTtcbiAgICAgICAgcmVkcmF3KCk7XG5cbiAgICAgICAgcmV0dXJuIHF1ZXVlTm90aWZpY2F0aW9uKCdbRkFJTF0gR2x5cGhzIHdlcmUgcGxhY2VkIG91dCBvZiBib3VuZHMhIFJlc2l6ZSBhY3Rpb24gZmFpbGVkLicsICdlcnJvcicpO1xuICAgICAgfVxuXG4gICAgICBjb25zdCBlZGl0b3JBY3Rpb246IFJlc2l6ZUFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAncmVzaXplJyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50SWQ6IGVsZW1lbnQuaWQsXG4gICAgICAgICAgdWx4OiB1bHgsXG4gICAgICAgICAgdWx5OiB1bHksXG4gICAgICAgICAgbHJ4OiBscngsXG4gICAgICAgICAgbHJ5OiBscnlcbiAgICAgICAgfVxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGAjJHtlbGVtZW50LmlkfWApO1xuICAgICAgICB1bHggPSB1bmRlZmluZWQsIHVseSA9IHVuZGVmaW5lZCwgbHJ4ID0gdW5kZWZpbmVkLCBscnkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnLnJlc2l6ZVBvaW50JykucmVtb3ZlKCk7XG4gICAgICAgIGQzLnNlbGVjdEFsbCgnI3Jlc2l6ZVJlY3QnKS5yZW1vdmUoKTtcbiAgICAgICAgZDMuc2VsZWN0QWxsKCcucm90YXRlUG9pbnQnKS5yZW1vdmUoKTtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoJ3N5bCcpKSB7XG4gICAgICAgICAgc2VsZWN0QkJveChlbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JyksIGRyYWdIYW5kbGVyLCB0aGlzKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZWxlY3RBbGwoW2RvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoYCMke2VsZW1lbnQuaWR9YCldLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICAgICAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbW9yZUVkaXQnKTtcblxuICAgICAgICAgIGlmIChtb3JlRWRpdCkge1xuICAgICAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgICAgICBtb3JlRWRpdC5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gUk9UQVRFXG4gICAgZnVuY3Rpb24gcm90YXRlU3RhcnQgKCk6IHZvaWQge1xuICAgICAgY29uc3Qgd2hpY2ggPSBkMy5ldmVudC5zb3VyY2VFdmVudC50YXJnZXQuaWQ7XG4gICAgICBpbml0aWFsWSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgaW5pdGlhbExyeSA9IGxyeTtcbiAgICAgIGluaXRpYWxVbHkgPSB1bHk7XG4gICAgICBpbml0aWFsUmVjdFkgPSAod2hpY2ggPT09ICdyb3RhdGVSaWdodCcgPyBscnkgOiB1bHkpO1xuICAgICAgaW5pdGlhbFJvdGF0ZSA9IHJvdGF0ZTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVEcmFnTGVmdCAoKTogdm9pZCB7XG4gICAgICBjb25zdCBjdXJyZW50WSA9IGQzLm1vdXNlKHRoaXMpWzFdO1xuICAgICAgY29uc3QgdGVtcCA9IGN1cnJlbnRZIC0gaW5pdGlhbFk7XG4gICAgICBjb25zdCB0ZW1wUm90YXRlID0gaW5pdGlhbFJvdGF0ZSAtIE1hdGguYXRhbih0ZW1wIC8gcG9seUxlbik7XG4gICAgICBpZiAodGVtcFJvdGF0ZSA+IC0wLjIgJiYgdGVtcFJvdGF0ZSA8IDAuMikge1xuICAgICAgICBkeSA9IHRlbXA7XG4gICAgICAgIHVseSA9IGluaXRpYWxSZWN0WSArIGR5O1xuICAgICAgICByb3RhdGUgPSB0ZW1wUm90YXRlO1xuICAgICAgICBpZiAocm90YXRlID49IDApIHtcbiAgICAgICAgICB1bHkgPSBkeSArIHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21SaWdodClbMF0ueTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB1bHkgPSBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuVG9wUmlnaHQpWzBdLnk7XG4gICAgICAgICAgbHJ5ID0gZHkgKyBwb2ludHMuZmlsdGVyKHBvaW50ID0+IHBvaW50Lm5hbWUgPT09IFBvaW50TmFtZXMuQm90dG9tTGVmdClbMF0ueTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmVkcmF3KCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcm90YXRlRHJhZ1JpZ2h0ICgpOiB2b2lkIHtcbiAgICAgIGNvbnN0IGN1cnJlbnRZID0gZDMubW91c2UodGhpcylbMV07XG4gICAgICBjb25zdCB0ZW1wID0gY3VycmVudFkgLSBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHRlbXBSb3RhdGUgPSBpbml0aWFsUm90YXRlICsgTWF0aC5hdGFuKHRlbXAgLyBwb2x5TGVuKTtcbiAgICAgIGlmICh0ZW1wUm90YXRlID4gLTAuMiAmJiB0ZW1wUm90YXRlIDwgMC4yKSB7XG4gICAgICAgIGR5ID0gdGVtcDtcbiAgICAgICAgcm90YXRlID0gdGVtcFJvdGF0ZTtcbiAgICAgICAgaWYgKHJvdGF0ZSA+PSAwICkge1xuICAgICAgICAgIGxyeSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLkJvdHRvbVJpZ2h0KVswXS55O1xuICAgICAgICAgIHVseSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Ub3BMZWZ0KVswXS55O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVseSA9IGR5ICsgcG9pbnRzLmZpbHRlcihwb2ludCA9PiBwb2ludC5uYW1lID09PSBQb2ludE5hbWVzLlRvcFJpZ2h0KVswXS55O1xuICAgICAgICAgIGxyeSA9IHBvaW50cy5maWx0ZXIocG9pbnQgPT4gcG9pbnQubmFtZSA9PT0gUG9pbnROYW1lcy5Cb3R0b21MZWZ0KVswXS55O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZWRyYXcoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiByb3RhdGVFbmQgKCk6IHZvaWQge1xuICAgICAgaWYgKGR5ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZHkgPSAwO1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNPdXRPZlNWR0JvdW5kcyh1bHgsIHVseSkgfHwgaXNPdXRPZlNWR0JvdW5kcyhscngsIGxyeSkpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnJlc2l6ZVBvaW50JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJyNyZXNpemVSZWN0JykuZm9yRWFjaChlbCA9PiBlbC5yZW1vdmUoKSk7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5yb3RhdGVQb2ludCcpLmZvckVhY2goZWwgPT4gZWwucmVtb3ZlKCkpO1xuXG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkO1xuICAgICAgICB1bHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBocyB3ZXJlIHBsYWNlZCBvdXQgb2YgYm91bmRzISBSb3RhdGUgYWN0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcbiAgICAgIH1cblxuICAgICAgY29uc3QgZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgIGFjdGlvbjogJ3Jlc2l6ZVJvdGF0ZScsXG4gICAgICAgIHBhcmFtOiB7XG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50LmlkLFxuICAgICAgICAgIHVseDogdWx4LFxuICAgICAgICAgIHVseTogdWx5LFxuICAgICAgICAgIGxyeDogbHJ4LFxuICAgICAgICAgIGxyeTogbHJ5LFxuICAgICAgICAgIHJvdGF0ZTogcm90YXRlICogMTgwIC8gTWF0aC5QSVxuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgbmVvblZpZXcuZWRpdChlZGl0b3JBY3Rpb24sIG5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbihhc3luYyAocmVzdWx0KSA9PiB7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBhd2FpdCBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB9XG4gICAgICAgIGVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtZW50LmlkKSBhcyB1bmtub3duIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgdWx4ID0gdW5kZWZpbmVkO1xuICAgICAgICB1bHkgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxyeCA9IHVuZGVmaW5lZDtcbiAgICAgICAgbHJ5ID0gdW5kZWZpbmVkO1xuICAgICAgICBkeSA9IHVuZGVmaW5lZDtcbiAgICAgICAgZHJhd0luaXRpYWxSZWN0KCk7XG4gICAgICAgIHNlbGVjdEFsbChbZWxlbWVudF0sIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAgIGlmIChlbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnc3lsJykpIHtcbiAgICAgICAgICBzZWxlY3RCQm94KGVsZW1lbnQucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKSwgZHJhZ0hhbmRsZXIsIHRoaXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHNlbGVjdFN0YWZmKGVsZW1lbnQsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59XG4iLCIvKiogQG1vZHVsZSB1dGlscy9TZWxlY3QgKi9cblxuaW1wb3J0IHsgdW5zZWxlY3QsIGdldFN0YWZmQkJveCwgc2VsZWN0U3RhZmYsIHNlbGVjdEFsbCwgZ2V0U2VsZWN0aW9uVHlwZSB9IGZyb20gJy4vU2VsZWN0VG9vbHMnO1xuaW1wb3J0IHsgcmVzaXplIH0gZnJvbSAnLi9SZXNpemUnO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuL0RyYWdIYW5kbGVyJztcbmltcG9ydCB7IEluZm9JbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBCQm94LCBnZXRTdGFmZkJ5Q29vcmRzLCBQb2ludCB9IGZyb20gJy4vQ29vcmRpbmF0ZXMnO1xuXG5sZXQgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyLCBuZW9uVmlldzogTmVvblZpZXcsIGluZm86IEluZm9JbnRlcmZhY2UsIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcbmxldCBzdHJva2VXaWR0aCA9IDc7XG5cbi8qKlxuICogU2V0IHN0cm9rZSB3aWR0aCBvbiBkcmFnIHNlbGVjdCBib3guXG4gKiBAcGFyYW0gd2lkdGggLSBTdHJva2Ugd2lkdGggaW4gcGl4ZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0U3Ryb2tlV2lkdGggKHdpZHRoOiBudW1iZXIpOiB2b2lkIHtcbiAgc3Ryb2tlV2lkdGggPSB3aWR0aDtcbn1cblxuLyoqXG4gKiBTZXQgdGhlIG9iamVjdHMgZm9yIHRoaXMgbW9kdWxlLlxuICovXG5leHBvcnQgZnVuY3Rpb24gc2V0U2VsZWN0SGVscGVyT2JqZWN0cyAobnY6IE5lb25WaWV3LCBkaDogRHJhZ0hhbmRsZXIpOiB2b2lkIHtcbiAgZHJhZ0hhbmRsZXIgPSBkaDtcbiAgbmVvblZpZXcgPSBudjtcbiAgaW5mbyA9IG5lb25WaWV3LmluZm87XG4gIHpvb21IYW5kbGVyID0gbmVvblZpZXcudmlldy56b29tSGFuZGxlcjtcbn1cblxuZnVuY3Rpb24gZXNjYXBlS2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc2VsZWN0ZWQnKS5sZW5ndGggPiAwKSB7XG4gICAgICBpbmZvLmluZm9MaXN0ZW5lcnMoKTtcbiAgICB9XG4gICAgdW5zZWxlY3QoKTtcbiAgfVxufVxuXG4vLyBFTlRFUiBLRVk6IHdoZW4gYSBCQm94IGlzIHNlbGVjdGVkLCBwcmVzc2luZyBlbnRlciB3aWxsXG4vLyAgIHRyaWdnZXIgdGhlIGVkaXQgc3lsbGFibGUgdGV4dCBmdW5jdGlvbi5cbmZ1bmN0aW9uIGVudGVyS2V5TGlzdGVuZXIgKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQge1xuICAvLyBjaGVjayBpZiAnZW50ZXInIGlzIHByZXNzZWQgd2l0aCB0aGUgY29ycmVjdCBjb25kaXRpb25zXG4gIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnXG4gICAgfHwgIShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheVRleHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkXG4gICAgfHwgZXZ0LmtleSAhPT0gJ0VudGVyJ1xuICApXG4gICAgcmV0dXJuO1xuXG4gIGNvbnN0IHNlbGVjdGVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnN5bGxhYmxlLWhpZ2hsaWdodGVkJyk7XG5cbiAgLy8gY2hlY2sgaWYgdGhlcmUgaXMgYSBzeWxsYWJsZSBzZWxlY3RlZFxuICBpZiAoc2VsZWN0ZWQpIHtcbiAgICBjb25zdCBzcGFuID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc3Bhbi4nICsgc2VsZWN0ZWQuaWQpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgLy8gd2Ugc2ltdWxhdGUgYSBjbGljayBiZWNhdXNlIHRoZSBtZXRob2QgYHVwZGF0ZVN5bFRleHQoKWAgaXMgb25seVxuICAgIC8vIGFjY2Vzc2libGUgaW5zaWRlIFRleHRFZGl0TW9kZTsgdGhlIHNwYW4gaGFzIGFuIGV2ZW50IGxpc3RlbmVyIGZvclxuICAgIC8vIGNsaWNrcy5cbiAgICBzcGFuLmNsaWNrKCk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXJyb3dLZXlMaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gIGlmIChnZXRTZWxlY3Rpb25UeXBlKCkgIT09ICdzZWxCeUJCb3gnIHx8IChldnQua2V5ICE9PSAnQXJyb3dMZWZ0JyAmJiBldnQua2V5ICE9PSAnQXJyb3dSaWdodCcpKVxuICAgIHJldHVybjtcblxuICBjb25zdCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5zeWxsYWJsZS1oaWdobGlnaHRlZCcpO1xuICBjb25zdCBzeWxsYWJsZXMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxsYWJsZScpKTtcblxuICAvLyBub3QgYWxsIHN5bGxhYmxlcyBoYXZlIEJCb3hlczsgd2UgbXVzdCBmaWx0ZXIgdGhlbSBvdXRcbiAgY29uc3QgYmJveFN5bGxhYmxlcyA9IHN5bGxhYmxlcy5maWx0ZXIoc3lsID0+IHN5bC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpICE9PSBudWxsKTtcbiAgY29uc3QgaW5kID0gYmJveFN5bGxhYmxlcy5pbmRleE9mKHNlbGVjdGVkKTtcblxuICBpZiAoZXZ0LmtleSA9PT0gJ0Fycm93TGVmdCcgJiYgaW5kID4gMCkge1xuICAgIHVuc2VsZWN0KCk7XG5cbiAgICBjb25zdCBiYm94ID0gYmJveFN5bGxhYmxlc1tpbmQgLSAxXS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpO1xuICAgIHNlbGVjdEFsbChbYmJveCBhcyBTVkdHcmFwaGljc0VsZW1lbnRdLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdBcnJvd1JpZ2h0JyAmJiBpbmQgPCBiYm94U3lsbGFibGVzLmxlbmd0aCAtIDEpIHtcbiAgICB1bnNlbGVjdCgpO1xuXG4gICAgY29uc3QgYmJveCA9IGJib3hTeWxsYWJsZXNbaW5kICsgMV0ucXVlcnlTZWxlY3RvcignLnN5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICBzZWxlY3RBbGwoW2Jib3ggYXMgU1ZHR3JhcGhpY3NFbGVtZW50XSwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc1NlbEJ5QkJveCAoKTogYm9vbGVhbiB7XG4gIGNvbnN0IHNlbEJ5QkJveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKTtcbiAgaWYgKHNlbEJ5QkJveCkge1xuICAgIHJldHVybiBzZWxCeUJCb3guY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmZ1bmN0aW9uIHN0b3BQcm9wSGFuZGxlciAoZXZ0OiBFdmVudCk6IHZvaWQgeyBldnQuc3RvcFByb3BhZ2F0aW9uKCk7IH1cblxuLyoqXG4gKiBHZXQgYm91bmRpbmcgYm94IG9mIGFuIGVsZW1lbnRcbiAqL1xuZnVuY3Rpb24gZ2V0QkJveENvb3JkcyAoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCk6IEJCb3gge1xuICBpZiAoaXNTZWxCeUJCb3goKSkge1xuICAgIGNvbnN0IHVseCA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3gnKSksIHVseSA9IE51bWJlcihlbC5nZXRBdHRyaWJ1dGUoJ3knKSk7XG4gICAgLy8gV2hhdCBpcyB0aGUgbWF0aCBoZXJlPz8/XG4gICAgY29uc3QgbHJ4ID0gdWx4ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykuc2xpY2UoMCwgLTIpKSk7XG4gICAgY29uc3QgbHJ5ID0gdWx5ICsgTnVtYmVyKChlbC5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpLnNsaWNlKDAsIC0yKSkpO1xuXG4gICAgcmV0dXJuIHsgdWx4LCB1bHksIGxyeCwgbHJ5IH07XG4gIH1cblxuICBpZiAoZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCByZWN0ID0gKGVsLnBhcmVudE5vZGUgYXMgU1ZHR0VsZW1lbnQpLmdldEJCb3goKTtcblxuICAgIHJldHVybiB7XG4gICAgICB1bHg6IHJlY3QueCxcbiAgICAgIHVseTogcmVjdC55LFxuICAgICAgbHJ4OiByZWN0LnggKyByZWN0LndpZHRoLFxuICAgICAgbHJ5OiByZWN0LnkgKyByZWN0LmhlaWdodFxuICAgIH07XG4gIH1cblxuICByZXR1cm4gZ2V0U3RhZmZCQm94KGVsKTtcbn1cblxuXG4vKipcbiAqIENoZWNrcyB3aGV0aGVyIGFuIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBkcmFnIHNlbGVjdGlvbiByZWN0YW5nbGUuXG4gKiBSZXR1cm5zIHRydWUgaWYgdGhlIGVsZW1lbnQgaXMgd2l0aGluIHRoZSBib3VuZHMgb2YgYHVsYCAodXBwZXIgbGVmdCkgYW5kIGBscmAgKGxvd2VyIHJpZ2h0KVxuICovXG5mdW5jdGlvbiBpc0VsZW1lbnRJblJlY3QoZWw6IFNWR0dyYXBoaWNzRWxlbWVudCwgdWw6IFBvaW50LCBscjogUG9pbnQpOiBib29sZWFuIHtcbiAgaWYgKGlzU2VsQnlCQm94KCkgfHwgZWwudGFnTmFtZSA9PT0gJ3VzZScpIHtcbiAgICBjb25zdCBiYm94ID0gZ2V0QkJveENvb3JkcyhlbCk7XG4gICAgXG4gICAgLy8gV2Ugd2FudCB0byBmaW5kIHdoZXRoZXIgdGhlIGJvdW5kaW5nIGJveCBvdmVybGFwcyB3aXRoIHRoZSByZWN0YW5nbGVcbiAgICAvLyBkZWZpbmVkIGJ5IGB1bGAgYW5kIGBscmAuIFRoZSBlYXNpZXN0IHNvbHV0aW9uIGlzIHRvIG5lZ2F0ZSBhIHN1bS1vZi1wcm9kdWN0cyBlcXVhdGlvbjpcbiAgICAvLyBpLmUuLCB0aGVyZSBhcmUgNCBwb3NzaWJpbGl0aWVzIGluIHdoaWNoIHRoZSB0d28gKmRvbid0KiBvdmVybGFwXG4gICAgcmV0dXJuICEobHIueCA8IGJib3gudWx4IHx8IHVsLnggPiBiYm94LmxyeCB8fCBsci55IDwgYmJveC51bHkgfHwgdWwueSA+IGJib3gubHJ5KTtcbiAgfVxuXG4gIC8vIFRPRE86IFNpbXBsaWZ5XG4gIGNvbnN0IGJveCA9IGdldFN0YWZmQkJveChlbCk7XG4gIHJldHVybiAhKCh1bC54IDwgYm94LnVseCAmJiBsci54IDwgYm94LnVseCkgfHwgKHVsLnggPiBib3gubHJ4ICYmIGxyLnggPiBib3gubHJ4KSB8fFxuICAgICAgICAgICh1bC55IDwgKGJveC51bHkgKyBNYXRoLmFicyhib3gudWx4IC0gdWwueCkgKiBNYXRoLnRhbihib3gucm90YXRlKSkgJiZcbiAgICAgICAgICAgIGxyLnkgPCAoYm94LnVseSArIE1hdGguYWJzKGJveC51bHggLSB1bC54KSAqIE1hdGgudGFuKGJveC5yb3RhdGUpKSkgfHxcbiAgICAgICAgICAodWwueSA+IChib3gubHJ5ICsgTWF0aC5hYnMoYm94LmxyeSAtIGxyLnkpICogTWF0aC50YW4oYm94LnJvdGF0ZSkpICYmXG4gICAgICAgICAgICBsci55ID4gKGJveC5scnkgKyBNYXRoLmFicyhib3gubHJ5IC0gbHIueSkgKiBNYXRoLnRhbihib3gucm90YXRlKSkpKTtcbn1cblxuLyoqXG4gKiBBcHBseSBsaXN0ZW5lcnMgZm9yIGNsaWNrIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gY2xpY2tTZWxlY3QgKHNlbGVjdG9yOiBzdHJpbmcpOiB2b2lkIHtcbiAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvcikuZm9yRWFjaChzZWwgPT4ge1xuICAgIHNlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWRvd24nLCBjbGlja0hhbmRsZXIpO1xuICB9KTtcblxuICAvLyBDbGljayBhd2F5IGxpc3RlbmVyc1xuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlc2NhcGVLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY2FwZUtleUxpc3RlbmVyKTtcblxuICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlbnRlcktleUxpc3RlbmVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZW50ZXJLZXlMaXN0ZW5lcik7XG5cbiAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgYXJyb3dLZXlMaXN0ZW5lcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGFycm93S2V5TGlzdGVuZXIpO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjb250YWluZXInKVxuICAgIC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChldnQpID0+IHsgZXZ0LnByZXZlbnREZWZhdWx0KCk7IH0pO1xuXG4gIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJ3VzZSxyZWN0LCNtb3JlRWRpdCcpLmZvckVhY2goc2VsID0+IHtcbiAgICBzZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzdG9wUHJvcEhhbmRsZXIpO1xuICAgIHNlbC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0b3BQcm9wSGFuZGxlcik7XG4gIH0pO1xufVxuXG4vKipcbiAqIEhhbmRsZSBjbGljayBldmVudHMgcmVsYXRlZCB0byBlbGVtZW50IHNlbGVjdGlvbi5cbiAqL1xuXG4vLyBUaGUgYHRoaXNgIGtleXdvcmQgY2FuIGJlIFwicGFzc2VkXCIgYXMgYSBmYWtlIHBhcmFtZXRlciBzbyB0aGF0IHdlIGNhbiB0eXBlIGl0IGNvcnJlY3RseVxuLy8gaHR0cHM6Ly93d3cudHlwZXNjcmlwdGxhbmcub3JnL2RvY3MvaGFuZGJvb2svMi9mdW5jdGlvbnMuaHRtbCNkZWNsYXJpbmctdGhpcy1pbi1hLWZ1bmN0aW9uXG5mdW5jdGlvbiBjbGlja0hhbmRsZXIgKHRoaXM6IFNWR0dyYXBoaWNzRWxlbWVudCwgZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCB7XG4gIC8vIFJldHVybiBpZiB1c2VyIGlzIGluIGluc2VydCBtb2RlIG9yIHBhbm5pbmcgaXMgYWN0aXZlIGZyb20gc2hpZnQga2V5XG4gIGlmICghbmVvblZpZXcgfHwgbmVvblZpZXcuZ2V0VXNlck1vZGUoKSA9PT0gJ2luc2VydCcgfHwgZXZ0LnNoaWZ0S2V5KVxuICAgIHJldHVybjtcblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY2hlY2sgaWYgdGhlIGN0cmwvY21kIGtleSBoYXMgYmVlbiBzZWxlY3RlZFxuICBmdW5jdGlvbiBpc011bHRpU2VsZWN0ICgpOiBib29sZWFuIHtcbiAgICByZXR1cm4gd2luZG93Lm5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL01hYy8pID8gZXZ0Lm1ldGFLZXkgOiBldnQuY3RybEtleTtcbiAgfVxuXG4gIC8vIElmIHVzZXIgaGFzIGNsaWNrZWQgYSBsYXllciBlbGVtZW50XG4gIGlmICh0aGlzLnRhZ05hbWUgPT09ICd1c2UnICYmIGdldFNlbGVjdGlvblR5cGUoKSAhPT0gJ3NlbEJ5QkJveCcpIHtcbiAgICBpZiAodGhpcy5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgbGV0IHNlbGVjdGlvbjogU1ZHR3JhcGhpY3NFbGVtZW50W10gPSBbdGhpc107XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgcGFydCBvZiBhIGxpZ2F0dXJlIGFuZCwgaWYgc28sIGFkZCBhbGwgb2YgaXQgdG8gdGhlIHNlbGVjdGlvbi5cbiAgICAgIGNvbnN0IGZpcnN0TGlnYXR1cmVIYWxmID0gL0U5Qls0NTY3OF0vO1xuICAgICAgY29uc3Qgc2Vjb25kTGlnYXR1cmVIYWxmID0gL0U5Qls5QUJDXS87XG4gICAgICBpZiAodGhpcy5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChzZWNvbmRMaWdhdHVyZUhhbGYpKSB7XG4gICAgICAgIC8vIFRoaXMgaXMgdGhlIHNlY29uZCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBuZXVtZS5jaGlsZHJlbltuY0luZGV4IC0gMV0uY2hpbGRyZW5bMF0gYXMgU1ZHR3JhcGhpY3NFbGVtZW50O1xuICAgICAgICBjb25zb2xlLmFzc2VydChmaXJzdFVzZS5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaChmaXJzdExpZ2F0dXJlSGFsZiksICdGaXJzdCBnbHlwaCBvZiBsaWdhdHVyZSB1bmV4cGVjdGVkIScpO1xuXG4gICAgICAgIGlmIChmaXJzdFVzZS5jbG9zZXN0KCcuc2VsZWN0ZWQnKSA9PT0gbnVsbCkge1xuICAgICAgICAgIHNlbGVjdGlvbi51bnNoaWZ0KGZpcnN0VXNlKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmICh0aGlzLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKGZpcnN0TGlnYXR1cmVIYWxmKSkge1xuICAgICAgICAvLyBUaGlzIGlzIHRoZSBmaXJzdCBwYXJ0IG9mIGEgbGlnYXR1cmVcbiAgICAgICAgY29uc3QgbmMgPSB0aGlzLmNsb3Nlc3QoJy5uYycpO1xuICAgICAgICBjb25zdCBuZXVtZSA9IHRoaXMuY2xvc2VzdCgnLm5ldW1lJyk7XG4gICAgICAgIGNvbnN0IG5jSW5kZXggPSBBcnJheS5mcm9tKG5ldW1lLmNoaWxkcmVuKS5pbmRleE9mKG5jKTtcbiAgICAgICAgY29uc3Qgc2Vjb25kVXNlID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCArIDFdLmNoaWxkcmVuWzBdIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgY29uc29sZS5hc3NlcnQoc2Vjb25kVXNlLmdldEF0dHJpYnV0ZSgneGxpbms6aHJlZicpLm1hdGNoKHNlY29uZExpZ2F0dXJlSGFsZiksICdTZWNvbmQgZ2x5cGggb2YgbGlnYXR1cmUgdW5leHBlY3RlZCEnKTtcblxuICAgICAgICBpZiAoc2Vjb25kVXNlLmNsb3Nlc3QoJy5zZWxlY3RlZCcpID09PSBudWxsKSB7XG4gICAgICAgICAgc2VsZWN0aW9uLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIHNlbGVjdGlvbiA9IHNlbGVjdGlvbi5jb25jYXQoQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc2VsZWN0ZWQnKSkpO1xuICAgICAgfVxuXG4gICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHNlbGVjdGlvbk1vZGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuc2VsLWJ5IC5pcy1hY3RpdmUnKS5pZDtcbiAgICAgICAgY29uc3QgbW9kZVRvQ2xhc3MgPSB7XG4gICAgICAgICAgc2VsQnlTdGFmZjogJy5zdGFmZicsXG4gICAgICAgICAgc2VsQnlOZXVtZTogJy5uZXVtZScsXG4gICAgICAgICAgc2VsQnlOYzogJy5uYycsXG4gICAgICAgICAgc2VsQnlMYXllckVsZW1lbnQ6ICcuYWNjaWQnLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzZWxlY3RlZENsYXNzID0gbW9kZVRvQ2xhc3Nbc2VsZWN0aW9uTW9kZV0gfHwgJy5zeWxsYWJsZSc7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzLmNsb3Nlc3Qoc2VsZWN0ZWRDbGFzcyldO1xuXG4gICAgICAgIGxldCBzZWxlY3Rpb24gPSBbXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlcigoZWwpID0+ICFyZW1vdmUuaW5jbHVkZXMoZWwpKTtcblxuICAgICAgICBzZWxlY3RBbGwoc2VsZWN0aW9uLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICAgIGRyYWdIYW5kbGVyLmRyYWdJbml0KCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0gZWxzZSBpZiAoKGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQpLnRhZ05hbWUgPT09ICdyZWN0JyAmJiBnZXRTZWxlY3Rpb25UeXBlKCkgPT09ICdzZWxCeUJCb3gnKSB7XG4gICAgaWYgKHRoaXMuY2xvc2VzdCgnLnNlbGVjdGVkJykgPT09IG51bGwpIHtcbiAgICAgIGxldCBzZWxlY3Rpb24gPSBbZXZ0LnRhcmdldF0gYXMgU1ZHR0VsZW1lbnRbXTtcbiAgICAgIGlmIChpc011bHRpU2VsZWN0KCkpIHtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmNvbmNhdChBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ3NlbGVjdGVkJykpIGFzIFNWR0dFbGVtZW50W10pO1xuICAgICAgICBzZWxlY3Rpb24gPSBzZWxlY3Rpb24ubWFwKCAoZWwpID0+IHtcbiAgICAgICAgICBpZiAoZWwudGFnTmFtZSA9PSAncmVjdCcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIGVsLnF1ZXJ5U2VsZWN0b3IoJy5zeWxUZXh0UmVjdC1EaXNwbGF5Jyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgIGlmIChkcmFnSGFuZGxlcikge1xuICAgICAgICBkcmFnSGFuZGxlci5kcmFnSW5pdCgpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsZXQgc2VsZWN0aW9uID0gW107XG4gICAgICBpZiAoaXNNdWx0aVNlbGVjdCgpKSB7XG4gICAgICAgIGNvbnN0IHJlbW92ZSA9IFt0aGlzXTtcbiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzZWxlY3RlZCcpKTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLm1hcCggKGVsKSA9PiB7XG4gICAgICAgICAgaWYgKGVsLnRhZ05hbWUgPT0gJ3JlY3QnKSB7XG4gICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBlbC5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtRGlzcGxheScpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0aW9uID0gc2VsZWN0aW9uLmZpbHRlciggKGVsKSA9PiB7XG4gICAgICAgICAgcmV0dXJuICFyZW1vdmUuaW5jbHVkZXMoZWwpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2VsZWN0QWxsKHNlbGVjdGlvbiwgbmVvblZpZXcsIGRyYWdIYW5kbGVyKTtcbiAgICAgICAgaWYgKGRyYWdIYW5kbGVyKSB7XG4gICAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoZ2V0U2VsZWN0aW9uVHlwZSgpICE9PSAnc2VsQnlTdGFmZicpIHtcbiAgICAgIGluZm8uaW5mb0xpc3RlbmVycygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIENoZWNrIGlmIHRoZSBwb2ludCBpcyBpbiBhIHN0YWZmLlxuICAgIGlmICghaXNNdWx0aVNlbGVjdCgpKVxuICAgICAgdW5zZWxlY3QoKTtcblxuICAgIC8vIFNlbGVjdCBhIHN0YWZmXG4gICAgY29uc3Qgc3RhZmYgPSBnZXRTdGFmZkJ5Q29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgXG4gICAgaWYgKCFzdGFmZikgcmV0dXJuO1xuXG4gICAgaWYgKCFzdGFmZi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgIC8vIFNlbGVjdCBwcmV2aW91c2x5IHVuc2VsZWN0ZWQgc3RhZmZcbiAgICAgIHNlbGVjdFN0YWZmKHN0YWZmLCBkcmFnSGFuZGxlcik7XG4gICAgICByZXNpemUoc3RhZmYsIG5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVHJpZ2dlciBtb3VzZWRvd24gZXZlbnQgb24gdGhlIHN0YWZmXG4gICAgc3RhZmYuZGlzcGF0Y2hFdmVudChuZXcgTW91c2VFdmVudCgnbW91c2Vkb3duJywge1xuICAgICAgc2NyZWVuWDogZXZ0LnNjcmVlblgsXG4gICAgICBzY3JlZW5ZOiBldnQuc2NyZWVuWSxcbiAgICAgIGNsaWVudFg6IGV2dC5jbGllbnRYLFxuICAgICAgY2xpZW50WTogZXZ0LmNsaWVudFksXG4gICAgICBjdHJsS2V5OiBldnQuY3RybEtleSxcbiAgICAgIHNoaWZ0S2V5OiBldnQuc2hpZnRLZXksXG4gICAgICBhbHRLZXk6IGV2dC5hbHRLZXksXG4gICAgICBtZXRhS2V5OiBldnQubWV0YUtleSxcbiAgICAgIHZpZXc6IGV2dC52aWV3XG4gICAgfSkpO1xuICB9XG59XG5cbi8qKlxuICogQXBwbHkgbGlzdGVuZXJzIGZvciBkcmFnIHNlbGVjdGlvbi5cbiAqIEBwYXJhbSBzZWxlY3RvciAtIFRoZSBDU1Mgc2VsZWN0b3IgdXNlZCB0byBjaG9vc2Ugd2hlcmUgbGlzdGVuZXJzIGFyZSBhcHBsaWVkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZHJhZ1NlbGVjdCAoc2VsZWN0b3I6IHN0cmluZyk6IHZvaWQge1xuICBsZXQgaW5pdGlhbFggPSAwO1xuICBsZXQgaW5pdGlhbFkgPSAwO1xuICBsZXQgcGFubmluZyA9IGZhbHNlO1xuICBsZXQgZHJhZ1NlbGVjdGluZyA9IGZhbHNlO1xuICAvLyB2YXIgY2FudmFzID0gZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJyk7XG5cbiAgY29uc3QgY2FudmFzID0gZDMuc2VsZWN0KHNlbGVjdG9yKTtcblxuICAvKipcbiAgICogQ2hlY2sgaWYgYSBwb2ludCBpcyBpbiB0aGUgYm91bmRzIG9mIGEgc3RhZmYgZWxlbWVudC5cbiAgICogUm90YXRlIGlzIG5vdCB0YWtlbiBpbnRvIGFjY291bnQuXG4gICAqL1xuICBmdW5jdGlvbiBwb2ludE5vdEluU3RhZmYgKHB0OiBudW1iZXJbXSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IHN0YXZlcyA9IEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnc3RhZmYnKSk7XG4gICAgY29uc3QgZmlsdGVyZWQgPSBzdGF2ZXMuZmlsdGVyKChzdGFmZjogU1ZHR0VsZW1lbnQpID0+IHtcbiAgICAgIGNvbnN0IGJib3ggPSBnZXRTdGFmZkJCb3goc3RhZmYpO1xuICAgICAgY29uc3QgdWx4ID0gYmJveC51bHg7XG4gICAgICBjb25zdCB1bHkgPSBiYm94LnVseTtcbiAgICAgIGNvbnN0IGxyeCA9IGJib3gubHJ4O1xuICAgICAgY29uc3QgbHJ5ID0gYmJveC5scnk7XG4gICAgICBjb25zdCByb3RhdGUgPSBiYm94LnJvdGF0ZTtcblxuICAgICAgcmV0dXJuIChwdFswXSA+IHVseCAmJiBwdFswXSA8IGxyeCkgJiZcbiAgICAgICAgKHB0WzFdID4gKHVseSArIChwdFswXSAtIHVseCkgKiBNYXRoLnRhbihyb3RhdGUpKSkgJiZcbiAgICAgICAgKHB0WzFdIDwgKGxyeSAtIChscnggLSBwdFswXSkgKiBNYXRoLnRhbihyb3RhdGUpKSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIChmaWx0ZXJlZC5sZW5ndGggPT09IDApO1xuICB9XG5cbiAgLyoqXG4gICAgICogQ3JlYXRlIGFuIGluaXRpYWwgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHggLSBUaGUgdXBwZXIgbGVmdCB4LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSB1bHkgLSBUaGUgdXBwZXIgbGVmdCB5LXBvc2l0aW9uIG9mIHRoZSBuZXcgcmVjdGFuZ2xlLlxuICAgICAqL1xuICBmdW5jdGlvbiBpbml0UmVjdCAodWx4OiBudW1iZXIsIHVseTogbnVtYmVyKTogdm9pZCB7XG4gICAgY2FudmFzLmFwcGVuZCgncmVjdCcpXG4gICAgICAuYXR0cigneCcsIHVseClcbiAgICAgIC5hdHRyKCd5JywgdWx5KVxuICAgICAgLmF0dHIoJ3dpZHRoJywgMClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCAwKVxuICAgICAgLmF0dHIoJ2lkJywgJ3NlbGVjdFJlY3QnKVxuICAgICAgLmF0dHIoJ3N0cm9rZScsICdibGFjaycpXG4gICAgICAuYXR0cignc3Ryb2tlLXdpZHRoJywgc3Ryb2tlV2lkdGgpXG4gICAgICAuYXR0cignZmlsbCcsICdub25lJyk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxTdGFydCAoKTogdm9pZCB7XG4gICAgaWYgKCFuZW9uVmlldykgcmV0dXJuO1xuICAgIGNvbnN0IHVzZXJNb2RlID0gbmVvblZpZXcuZ2V0VXNlck1vZGUoKTtcbiAgICBpZiAoZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAndXNlJyAmJiB1c2VyTW9kZSAhPT0gJ2luc2VydCcgJiYgZDMuZXZlbnQuc291cmNlRXZlbnQudGFyZ2V0Lm5vZGVOYW1lICE9PSAncmVjdCcpIHtcbiAgICAgIGlmICghZDMuZXZlbnQuc291cmNlRXZlbnQuc2hpZnRLZXkpIHsgLy8gSWYgbm90IGhvbGRpbmcgZG93biBzaGlmdCBrZXkgdG8gcGFuXG4gICAgICAgIGlmICghZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpIHx8XG4gICAgICAgICAgcG9pbnROb3RJblN0YWZmKGQzLm1vdXNlKHRoaXMpKSkge1xuICAgICAgICAgIHVuc2VsZWN0KCk7XG4gICAgICAgICAgZHJhZ1NlbGVjdGluZyA9IHRydWU7XG4gICAgICAgICAgY29uc3QgaW5pdGlhbFAgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgICAgICBpbml0aWFsWCA9IGluaXRpYWxQWzBdO1xuICAgICAgICAgIGluaXRpYWxZID0gaW5pdGlhbFBbMV07XG4gICAgICAgICAgaW5pdFJlY3QoaW5pdGlhbFgsIGluaXRpYWxZKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcGFubmluZyA9IHRydWU7XG4gICAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgem9vbUhhbmRsZXIuc3RhcnREcmFnKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGQzLmV2ZW50LnNvdXJjZUV2ZW50LnNoaWZ0S2V5KSB7XG4gICAgICBwYW5uaW5nID0gdHJ1ZTtcbiAgICAgIGlmICh6b29tSGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgICAqIFVwZGF0ZSB0aGUgZHJhZ2dpbmcgcmVjdGFuZ2xlLlxuICAgICAqIEBwYXJhbSBuZXdYIC0gVGhlIG5ldyB1bHguXG4gICAgICogQHBhcmFtIG5ld1kgLSBUaGUgbmV3IHVseS5cbiAgICAgKiBAcGFyYW0gY3VycmVudFdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWN0YW5nbGUgaW4gcGl4ZWxzLlxuICAgICAqIEBwYXJhbSBjdXJyZW50SGVpZ2h0IC0gVGhlIGhlaWdodCBvZiB0aGUgcmVjdGFuZ2xlIGluIHBpeGVscy5cbiAgICAgKi9cbiAgZnVuY3Rpb24gdXBkYXRlUmVjdCAobmV3WDogbnVtYmVyLCBuZXdZOiBudW1iZXIsIGN1cnJlbnRXaWR0aDogbnVtYmVyLCBjdXJyZW50SGVpZ2h0OiBudW1iZXIpOiB2b2lkIHtcbiAgICBkMy5zZWxlY3QoJyNzZWxlY3RSZWN0JylcbiAgICAgIC5hdHRyKCd4JywgbmV3WClcbiAgICAgIC5hdHRyKCd5JywgbmV3WSlcbiAgICAgIC5hdHRyKCd3aWR0aCcsIGN1cnJlbnRXaWR0aClcbiAgICAgIC5hdHRyKCdoZWlnaHQnLCBjdXJyZW50SGVpZ2h0KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldEVsZW1lbnRzQnlTZWxlY3RvciAoc2VsZWN0b3I6IHN0cmluZyk6IFNWR0dyYXBoaWNzRWxlbWVudFtdIHtcbiAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgdXNlLCAnICsgc2VsZWN0b3IgKyAnIC5zdGFmZicpKTtcblxuICAgIGlmIChpc1NlbEJ5QkJveCgpKVxuICAgICAgcmV0dXJuIEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3RvciArICcgLnN5bFRleHRSZWN0LWRpc3BsYXknKSk7XG5cbiAgICByZXR1cm4gQXJyYXkuZnJvbShkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKHNlbGVjdG9yICsgJyB1c2UnKSk7XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RpbmcgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBjdXJyZW50UHQgPSBkMy5tb3VzZSh0aGlzKTtcbiAgICAgIGNvbnN0IGN1clggPSBjdXJyZW50UHRbMF07XG4gICAgICBjb25zdCBjdXJZID0gY3VycmVudFB0WzFdO1xuXG4gICAgICBjb25zdCBuZXdYID0gY3VyWCA8IGluaXRpYWxYID8gY3VyWCA6IGluaXRpYWxYO1xuICAgICAgY29uc3QgbmV3WSA9IGN1clkgPCBpbml0aWFsWSA/IGN1clkgOiBpbml0aWFsWTtcbiAgICAgIGNvbnN0IHdpZHRoID0gY3VyWCA8IGluaXRpYWxYID8gaW5pdGlhbFggLSBjdXJYIDogY3VyWCAtIGluaXRpYWxYO1xuICAgICAgY29uc3QgaGVpZ2h0ID0gY3VyWSA8IGluaXRpYWxZID8gaW5pdGlhbFkgLSBjdXJZIDogY3VyWSAtIGluaXRpYWxZO1xuXG4gICAgICB1cGRhdGVSZWN0KG5ld1gsIG5ld1ksIHdpZHRoLCBoZWlnaHQpO1xuICAgIH0gZWxzZSBpZiAocGFubmluZykge1xuICAgICAgaWYgKHpvb21IYW5kbGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgem9vbUhhbmRsZXIuZHJhZ2dpbmcoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxFbmQgKCk6IHZvaWQge1xuICAgIGlmICghcGFubmluZyAmJiBkcmFnU2VsZWN0aW5nKSB7XG4gICAgICBjb25zdCBzZWxlY3RSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdFJlY3QnKTtcbiAgICAgIGNvbnN0IHJ4ID0gcGFyc2VJbnQoc2VsZWN0UmVjdC5nZXRBdHRyaWJ1dGUoJ3gnKSk7XG4gICAgICBjb25zdCByeSA9IHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd5JykpO1xuICAgICAgY29uc3QgbHggPSByeCArIHBhcnNlSW50KHNlbGVjdFJlY3QuZ2V0QXR0cmlidXRlKCd3aWR0aCcpKTtcbiAgICAgIGNvbnN0IGx5ID0gcnkgKyBwYXJzZUludChzZWxlY3RSZWN0LmdldEF0dHJpYnV0ZSgnaGVpZ2h0JykpO1xuXG4gICAgICAvLyBUcmFuc2Zvcm0gdG8gdGhlIGNvcnJlY3QgY29vcmRpbmF0ZSBzeXN0ZW1cbiAgICAgIGNvbnN0IG5vZGUgPSBjYW52YXMubm9kZSgpIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgICBsZXQgdWwgPSBuZXcgRE9NUG9pbnQocngsIHJ5KSwgbHIgPSBuZXcgRE9NUG9pbnQobHgsIGx5KTtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybSA9IG5vZGUuZ2V0U2NyZWVuQ1RNKCkuaW52ZXJzZSgpXG4gICAgICAgIC5tdWx0aXBseSgoY2FudmFzLnNlbGVjdCgnLnN5c3RlbScpLm5vZGUoKSBhcyBTVkdHcmFwaGljc0VsZW1lbnQpLmdldFNjcmVlbkNUTSgpKVxuICAgICAgICAuaW52ZXJzZSgpO1xuICAgICAgdWwgPSB1bC5tYXRyaXhUcmFuc2Zvcm0odHJhbnNmb3JtKTtcbiAgICAgIGxyID0gbHIubWF0cml4VHJhbnNmb3JtKHRyYW5zZm9ybSk7XG5cbiAgICAgIC8vIEdldCBhbGwgZWxlbWVudHMgY29ycmVzcG9uZGluZyB0byB0aGUgc2VsZWN0b3JcbiAgICAgIGNvbnN0IGVsZW1lbnRzID0gZ2V0RWxlbWVudHNCeVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgICAgIC8vIEdldCB0aGUgZWxlbWVudHMgd2l0aGluIHRoZSBzZWxlY3Rpb24gcmVjdGFuZ2xlXG4gICAgICBjb25zdCBzZWxlY3RlZEVsZW1lbnRzID0gZWxlbWVudHMuZmlsdGVyKGVsID0+IGlzRWxlbWVudEluUmVjdChlbCwgdWwsIGxyKSk7XG5cbiAgICAgIC8vIEdldCBvdGhlciBoYWx2ZXMgb2YgbGlnYXR1cmVzIGlmIG9ubHkgb25lIGlzIHNlbGVjdGVkXG4gICAgICBzZWxlY3RlZEVsZW1lbnRzLmZvckVhY2goKGVsZW1lbnQ6IFNWR0VsZW1lbnQpID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnQudGFnTmFtZSA9PT0gJ3VzZScgJiYgZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4OUFCQ10vKSkge1xuICAgICAgICAgIGNvbnN0IG5ldW1lID0gZWxlbWVudC5jbG9zZXN0KCcubmV1bWUnKTtcbiAgICAgICAgICBjb25zdCBuY0luZGV4ID0gQXJyYXkuZnJvbShuZXVtZS5jaGlsZHJlbikuaW5kZXhPZihlbGVtZW50LmNsb3Nlc3QoJy5uYycpKTtcbiAgICAgICAgICBpZiAoZWxlbWVudC5nZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnKS5tYXRjaCgvRTlCWzQ1Njc4XS8pKSB7XG4gICAgICAgICAgICAvLyBBZGQgc2Vjb25kIGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBzZWNvbmROYyA9IG5ldW1lLmNoaWxkcmVuW25jSW5kZXggKyAxXTtcbiAgICAgICAgICAgIGNvbnN0IHNlY29uZFVzZSA9IHNlY29uZE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihzZWNvbmRVc2UpIDwgMCkge1xuICAgICAgICAgICAgICBzZWxlY3RlZEVsZW1lbnRzLnB1c2goc2Vjb25kVXNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQWRkIGZpcnN0IGhhbGYgb2YgbGlnYXR1cmUgdG8gc2VsZWN0ZWQgbGlzdCBpZiBub3QgYWxyZWFkeSBwcmVzZW50XG4gICAgICAgICAgICBjb25zdCBmaXJzdE5jID0gbmV1bWUuY2hpbGRyZW5bbmNJbmRleCAtIDFdO1xuICAgICAgICAgICAgY29uc3QgZmlyc3RVc2UgPSBmaXJzdE5jLnF1ZXJ5U2VsZWN0b3IoJ3VzZScpO1xuICAgICAgICAgICAgaWYgKHNlbGVjdGVkRWxlbWVudHMuaW5kZXhPZihmaXJzdFVzZSkgPCAwKSB7XG4gICAgICAgICAgICAgIHNlbGVjdGVkRWxlbWVudHMucHVzaChmaXJzdFVzZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNlbGVjdEFsbChzZWxlY3RlZEVsZW1lbnRzLCBuZW9uVmlldywgZHJhZ0hhbmRsZXIpO1xuXG4gICAgICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICAgICAgZHJhZ0hhbmRsZXIuZHJhZ0luaXQoKTtcbiAgICAgIH1cbiAgICAgIGQzLnNlbGVjdEFsbCgnI3NlbGVjdFJlY3QnKS5yZW1vdmUoKTtcbiAgICAgIGRyYWdTZWxlY3RpbmcgPSBmYWxzZTtcbiAgICB9XG4gICAgcGFubmluZyA9IGZhbHNlO1xuICB9XG5cbiAgZDMuc2VsZWN0QWxsKHNlbGVjdG9yLnJlcGxhY2UoJy5hY3RpdmUtcGFnZScsICcnKS50cmltKCkpXG4gICAgLm9uKCcuZHJhZycsIG51bGwpO1xuICBjb25zdCBkcmFnU2VsZWN0QWN0aW9uID0gZDMuZHJhZygpXG4gICAgLm9uKCdzdGFydCcsIHNlbFN0YXJ0KVxuICAgIC5vbignZHJhZycsIHNlbGVjdGluZylcbiAgICAub24oJ2VuZCcsIHNlbEVuZCk7XG4gIGNhbnZhcy5jYWxsKGRyYWdTZWxlY3RBY3Rpb24pO1xuICBpZiAoZHJhZ0hhbmRsZXIpIHtcbiAgICBkcmFnSGFuZGxlci5yZXNldFRvKGRyYWdTZWxlY3RBY3Rpb24pO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOb3RpZmljYXRpb24gfSBmcm9tICcuL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgeyBlcnJvckxvZ3NQYW5lbENvbnRlbnRzIH0gZnJvbSAnLi4vU3F1YXJlRWRpdC9Db250ZW50cyc7XG5pbXBvcnQgeyBzZXRTZXR0aW5ncywgZ2V0U2V0dGluZ3MgfSBmcm9tICcuL0xvY2FsU2V0dGluZ3MnO1xuXG5cbi8vIFRPRE86IHN0eWxpbmdcbmZ1bmN0aW9uIGNyZWF0ZUxvZ01lc3NhZ2UgKG5vdGlmOiBOb3RpZmljYXRpb24pOiBFbGVtZW50IHtcbiAgY29uc3Qgbm90aWZEaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgbm90aWZEaXYuY2xhc3NMaXN0LmFkZCgnbm90aWZpY2F0aW9uLWNvbnRhaW5lcicpO1xuICBub3RpZkRpdi5pbm5lckhUTUwgPSBgXG4gICAgPGRpdiBjbGFzcz1cIm5vdGlmaWNhdGlvbi13cmFwcGVyXCI+XG5cbiAgICAgIDxkaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJsb2ctbWFpblwiPiR7bm90aWYubWVzc2FnZX08L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImxvZy1leHRyYVwiPjwvZGl2PlxuICAgICAgPC9kaXY+XG5cbiAgICA8L2Rpdj5cblxuICAgIDxkaXYgY2xhc3M9XCJyZW1vdmUtbm90aWYtaWNvbi13cmFwcGVyXCI+XG4gICAgICA8aW1nIGNsYXNzPVwibG9nLXJlbW92ZSByZW1vdmUtbm90aWYtaWNvblwiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9nYXJiYWdlLWNsb3NlZC5zdmdcIj5cbiAgICA8L2Rpdj5cbiAgYDtcblxuICBjb25zdCByZW1vdmUgPSBub3RpZkRpdi5xdWVyeVNlbGVjdG9yPEhUTUxCdXR0b25FbGVtZW50PignLmxvZy1yZW1vdmUnKTtcbiAgcmVtb3ZlLm9uY2xpY2sgPSAoKSA9PiBub3RpZkRpdi5yZW1vdmUoKTtcbiAgcmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICByZW1vdmUuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2Utb3Blbi5zdmdgKTtcbiAgfSk7XG4gIHJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsICgpID0+IHtcbiAgICByZW1vdmUuc2V0QXR0cmlidXRlKCdzcmMnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffS9hc3NldHMvaW1nL2dhcmJhZ2UtY2xvc2VkLnN2Z2ApO1xuICB9KTtcblxuICByZXR1cm4gbm90aWZEaXY7XG59XG5cblxuLyoqXG4gKiBBZGQgbm90aWZpY2F0aW9uIHRvIHRoZSBwZXJzaXN0ZW50IGVycm9yIGxvZyBvbiB0aGUgc2lkZWJhclxuICogQHBhcmFtIG5vdGlmIHtOb3RpZmljYXRpb259IE5vdGlmaWNhdGlvbiB0byBhZGQgdG8gdGhlIGVycm9yIGxvZ1xuICovXG5leHBvcnQgZnVuY3Rpb24gcmVjb3JkTm90aWZpY2F0aW9uIChub3RpZjogTm90aWZpY2F0aW9uKTogdm9pZCB7XG4gIGNvbnN0IGxvZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0NvbnRlbnRzJyk7XG4gIGxvZy5wcmVwZW5kKGNyZWF0ZUxvZ01lc3NhZ2Uobm90aWYpKTtcbn1cblxuXG4vKipcbiAqIEluaXRpYWxpemUgZXJyb3IgbG9nLlxuICogQWRkcyBuZWNlc3NhcnkgSFRNTCB0byBET00uXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0RXJyb3JMb2coKTogdm9pZCB7XG4gIC8vIEVycm9yIGxvZyBwYW5lbFxuICBjb25zdCBsb2cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjZXJyb3JfbG9nJyk7XG4gIGxvZy5pbm5lckhUTUwgPSBlcnJvckxvZ3NQYW5lbENvbnRlbnRzO1xuXG4gIGluaXRFcnJvckxvZ0NvbnRyb2xzKCk7XG59XG5cblxuLyoqXG4gKiBTZXQgdXAgZXZlbnQgbGlzdGVuZXJzIGZvciBlcnJvciBMb2cgcGFuZWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRFcnJvckxvZ0NvbnRyb2xzKCk6IHZvaWQge1xuICBjb25zdCBlcnJvclBhbmVsID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yX2xvZycpO1xuICBjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2Vycm9yTG9nSGVhZGluZycpO1xuICBjb25zdCBkcm9wZG93bkljb24gPSBoZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJ3N2ZyA+IHVzZScpO1xuICBjb25zdCBjb250ZW50cyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvckxvZ0NvbnRlbnRzJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgY29uc3QgeyBkaXNwbGF5RXJyTG9nIH0gPSBnZXRTZXR0aW5ncygpO1xuICBpZiAoZGlzcGxheUVyckxvZykgZXJyb3JQYW5lbC5jbGFzc0xpc3QuYWRkKCd2aXNpYmxlJyk7XG5cbiAgaGVhZGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBlcnJvciBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBpZiAoY29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYW4gb3BlbiBwYW5lbFxuICAgICAgY29udGVudHMuY2xhc3NMaXN0LnJlbW92ZSgnY2xvc2VkJyk7XG4gICAgICBjb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzAuNWVtIDAuNzVlbSc7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93bmApO1xuICAgIH0gXG4gICAgLy8gaWYgZXJyb3IgcGFuZWwgaXMgb3BlbiwgY2xvc2UgaXRcbiAgICBlbHNlIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGEgY2xvc2VkIHBhbmVsXG4gICAgICBjb250ZW50cy5jbGFzc0xpc3QuYWRkKCdjbG9zZWQnKTtcbiAgICAgIGNvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ2hpZGRlbic7XG4gICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgY29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwcHgnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGRyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLXNpZGVgKTtcbiAgICB9XG4gIH0pO1xuXG4gIGluaXREaXNwbGF5TGlzdGVuZXIoKTtcbn1cblxuXG4vKipcbiAqIEluaXRpYWxpemVzIGNsaWNrIGxpc3RlbmVyIG9uIFwiU2hvdyBlcnJvciBsb2dzXCIgYnV0dG9uIGluIFwiVmlld1wiIGRyb3Bkb3duLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdERpc3BsYXlMaXN0ZW5lcigpOiB2b2lkIHtcbiAgY29uc3Qgbm90aWZQYW5lbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNlcnJvcl9sb2cnKTtcbiAgY29uc3QgY2hlY2tib3hlc0NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNkaXNwbGF5LXNpbmdsZS1jb250YWluZXInKTtcbiAgY29uc3QgZXJyb3JzTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICBjb25zdCBlcm9ycnNCdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuXG4gIGVyb3Jyc0J0bi5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICBlcnJvcnNMYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC1jb250YWluZXInLCAnc2lkZS1wYW5lbC1idG4nKTtcbiAgZXJyb3JzTGFiZWwudGV4dENvbnRlbnQgPSAnRXJyb3JzJztcbiAgZXJvcnJzQnRuLmlkID0gJ2Rpc3BsYXktZXJyb3JzJztcbiAgZXJvcnJzQnRuLnR5cGUgPSAnY2hlY2tib3gnO1xuICBlcm9ycnNCdG4uY2hlY2tlZCA9IGZhbHNlO1xuICBlcnJvcnNMYWJlbC5hcHBlbmRDaGlsZChlcm9ycnNCdG4pO1xuICBjaGVja2JveGVzQ29udGFpbmVyLmFwcGVuZChlcnJvcnNMYWJlbCk7XG5cblxuICBjb25zdCB7IGRpc3BsYXlFcnJMb2cgfSA9IGdldFNldHRpbmdzKCk7XG4gIGlmIChkaXNwbGF5RXJyTG9nKSBlcm9ycnNCdG4uY2hlY2tlZCA9IHRydWU7XG5cbiAgZXJvcnJzQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuXG4gICAgLy8gc2V0U2V0dGluZ3MoeyBkaXNwbGF5QkJveDogZGlzcGxheUJCb3hlcy5jaGVja2VkIH0pO1xuXG4gICAgY29uc3QgZGlzcGxheUFsbEJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LWFsbC1idG4nKTtcbiAgICBjb25zdCBkaXNwbGF5SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SW5mbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgZGlzcGxheUJCb3hlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgY29uc3QgZGlzcGxheVRleHQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheVRleHQnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlFcnJMb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1lcnJvcnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG5cbiAgICBpZiAoZXJvcnJzQnRuLmNoZWNrZWQpIHtcbiAgICAgIG5vdGlmUGFuZWwuY2xhc3NMaXN0LmFkZCgndmlzaWJsZScpO1xuICAgICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5RXJyTG9nOiB0cnVlIH0pO1xuXG4gICAgICBpZiAoZGlzcGxheUluZm8/LmNoZWNrZWQgJiYgZGlzcGxheUJCb3hlcz8uY2hlY2tlZCAmJiBcbiAgICAgICAgZGlzcGxheVRleHQ/LmNoZWNrZWQgJiYgZGlzcGxheUVyckxvZz8uY2hlY2tlZCkge1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICBub3RpZlBhbmVsLmNsYXNzTGlzdC5yZW1vdmUoJ3Zpc2libGUnKTtcbiAgICAgIHNldFNldHRpbmdzKHsgZGlzcGxheUVyckxvZzogZmFsc2UgfSk7XG4gICAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICB9XG4gICAgfVxuICAgIFxuICB9KTtcbn1cbiIsImltcG9ydCB7IHNlbGVjdEJCb3gsIHVuc2VsZWN0IH0gZnJvbSAnLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBzZXRTZWxlY3RIZWxwZXJPYmplY3RzLCBkcmFnU2VsZWN0LCBjbGlja1NlbGVjdCB9IGZyb20gJy4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCB7IHNldEdyb3VwaW5nSGlnaGxpZ2h0IH0gZnJvbSAnLi91dGlscy9Db2xvcic7XG5pbXBvcnQgeyBUZXh0RWRpdEludGVyZmFjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgIHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi91dGlscy9Nb2RhbFdpbmRvdyc7XG5cbi8qKlxuICogRm9ybWF0IGEgc3RyaW5nIGZvciBwcm9tcHRpbmcgdGhlIHVzZXIuXG4gKiBAcGFyYW0gcmF3U3RyaW5nIC0gVGhlIHVuZm9ybWF0dGVkIHN0cmluZy5cbiAqL1xuLypcbmZ1bmN0aW9uIGZvcm1hdFJhdyAocmF3U3RyaW5nOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCByZW1vdmVTeW1ib2wgPSAvXFx1ezI1Q0F9L3U7XG4gIHJldHVybiByYXdTdHJpbmcucmVwbGFjZShyZW1vdmVTeW1ib2wsICcnKS50cmltKCk7XG59XG4qL1xuXG5mdW5jdGlvbiBzZWxCeVN5bGxhYmxlTGlzdGVuZXIgKCk6IHZvaWQge1xuICBpZiAoIWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgdW5zZWxlY3QoKTtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgdHJ5IHtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5jJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOZXVtZScpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlMYXllckVsZW1lbnQnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICB9IGNhdGNoIChlKSB7fVxuICAgIHRyeSB7XG4gICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNlbGVjdGVkQkJveCAoc3BhbjogSFRNTFNwYW5FbGVtZW50LCBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXIsIG5lb25WaWV3OiBOZW9uVmlldykge1xuICB1bnNlbGVjdCgpO1xuXG4gIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoZSA9PiBlICE9PSAndGV4dC1zZWxlY3QnICYmIGUgIT09ICdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgaWYgKChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKSB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGJib3hJZCkpIHtcbiAgICAgIGNvbnN0IGRpc3BsYXlSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgIHNlbGVjdEJCb3goZGlzcGxheVJlY3QsIGRyYWdIYW5kbGVyLCBuZW9uVmlldyk7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogQSBUZXh0IGVkaXRpbmcgbW9kdWxlIHRoYXQgd29ya3Mgd2l0aCB0aGUgU2luZ2xlVmlldyBhbmQgRGl2YVZpZXcgbW9kdWxlc1xuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUZXh0RWRpdE1vZGUgaW1wbGVtZW50cyBUZXh0RWRpdEludGVyZmFjZSB7XG4gIHByaXZhdGUgZHJhZ0hhbmRsZXI6IERyYWdIYW5kbGVyO1xuICBwcml2YXRlIG5lb25WaWV3OiBOZW9uVmlldztcblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIGEgVGV4dEVkaXRcbiAgICogQHBhcmFtIG5lb25WaWV3IC0gVGhlIGNhbGxpbmcgW1tOZW9uVmlld11dIGZvciB0aGUgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdFRleHRFZGl0KCk7XG4gIH1cblxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIGJvdW5kaW5nIGJveCBzZWxlY3RlZCB3aGVuIHRoZSBlZGl0IHRleHQgbW9kYWwgaGFzIGJlZW4gY2xpY2tlZCBcbiAgICovXG4gIHVwZGF0ZVNlbGVjdGVkQkJveCAoc3BhbjogSFRNTFNwYW5FbGVtZW50KTogdm9pZCB7XG4gICAgdW5zZWxlY3QoKTtcblxuICAgIGNvbnN0IGJib3hJZCA9IEFycmF5LmZyb20oc3Bhbi5jbGFzc0xpc3QpLmZpbmQoZSA9PiBlICE9PSAndGV4dC1zZWxlY3QnICYmIGUgIT09ICdzZWxlY3RlZC10by1lZGl0Jyk7XG5cbiAgICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5QkJveCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChiYm94SWQpKSB7XG4gICAgICAgIGNvbnN0IGRpc3BsYXlSZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoYmJveElkKS5xdWVyeVNlbGVjdG9yKCcuc3lsVGV4dFJlY3QtZGlzcGxheScpIGFzIFNWR0dyYXBoaWNzRWxlbWVudDtcbiAgICAgICAgc2VsZWN0QkJveChkaXNwbGF5UmVjdCwgdGhpcy5kcmFnSGFuZGxlciwgdGhpcy5uZW9uVmlldyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cblxuICAvKipcbiAgKiBTZXQgdGV4dCB0byBlZGl0IG1vZGVcbiAgKi9cbiAgaW5pdFRleHRFZGl0ICgpOiB2b2lkIHtcbiAgICBjb25zdCBzcGFucyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzeWxfdGV4dCcpLnF1ZXJ5U2VsZWN0b3JBbGwoJ3NwYW4nKTtcbiAgICBjb25zdCBtb2RhbCA9IHRoaXMubmVvblZpZXcubW9kYWw7XG4gICAgc3BhbnMuZm9yRWFjaCgoc3BhbjogSFRNTFNwYW5FbGVtZW50KSA9PiB7XG4gICAgICBmdW5jdGlvbiBzZWxlY3RTeWxUZXh0ICgpOiB2b2lkIHtcbiAgICAgICAgc3Bhbi5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZC10by1lZGl0Jyk7XG4gICAgICAgIG1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuRURJVF9URVhUKTtcbiAgICAgICAgbW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gICAgICAgIHVwZGF0ZVNlbGVjdGVkQkJveChzcGFuLCB0aGlzLmRyYWdIYW5kbGVyLCB0aGlzLm5lb25WaWV3KTtcbiAgICAgIH1cblxuICAgICAgc3Bhbi5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdFN5bFRleHQpO1xuICAgICAgc3Bhbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdFN5bFRleHQpO1xuICAgIH0pO1xuICB9XG5cblxuICAvKipcbiAgKiBBZGQgdGhlIHNlbGVjdEJ5QkJveCBidXR0b24uXG4gICogSWYgbmV1bWUgZWRpdCBtb2RlIGlzIHRoZXJlLCBhZGQgaXQgdG8gdGhlIGJhciB3aXRoIHRoZSBvdGhlciBzZWxlY3QgYnkgYnV0dG9ucy5cbiAgKiBPdGhlcndpc2UgYWRkIGFuIGludmlzaWJsZSBidXR0b25cbiAgKiBzaW5jZSB0aGUgb25seSBlZGl0IG1vZGUgaXMgc2VsZWN0QnlSZWN0IGluIHRoYXQgY2FzZVxuICAqL1xuICBpbml0U2VsZWN0QnlCQm94QnV0dG9uICgpOiB2b2lkIHtcbiAgICBpZiAodGhpcy5uZW9uVmlldy5OZXVtZUVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgY29uc3Qgc2VsQnlCQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpO1xuICAgICAgaWYgKHNlbEJ5QkJveCkge1xuICAgICAgICBzZWxCeUJCb3guc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG5cbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbGVjdGlvbi1tb2RlLWJ0bnMtY29udGFpbmVyJyk7XG4gICAgICBjb25zdCBidXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgIGJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzaWRlLXBhbmVsLWJ0bicsICdzZWwtYnknKTtcbiAgICAgIGJ1dHRvbi5pZCA9ICdzZWxCeUJCb3gnO1xuICAgICAgYnV0dG9uLnRleHRDb250ZW50ID0gJ0JCb3gnO1xuICAgICAgYmxvY2suYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbEJ5U3lsbGFibGVMaXN0ZW5lci5iaW5kKHRoaXMpKTtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICAgICAgaWYgKGV2dC5rZXkgPT09ICc2Jykge1xuICAgICAgICAgIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jykuc3R5bGUuZGlzcGxheSA9PT0gJycpIHtcbiAgICAgICAgICAgIHNlbEJ5U3lsbGFibGVMaXN0ZW5lci5iaW5kKHRoaXMpKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNvbnN0IGJsb2NrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5jbG9zZXN0KCcuY29udHJvbCcpO1xuICAgICAgY29uc3QgcCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICAgIHAuY2xhc3NMaXN0LmFkZCgnY29udHJvbCcpO1xuICAgICAgY29uc3QgYnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICBidXR0b24uY2xhc3NMaXN0LmFkZCgnc2lkZS1wYW5lbC1idG4nLCAnc2VsLWJ5Jyk7XG4gICAgICBidXR0b24uaWQgPSAnc2VsQnlCQm94JztcbiAgICAgIGJ1dHRvbi50ZXh0Q29udGVudCA9ICdCQm94JztcbiAgICAgIHAuYXBwZW5kQ2hpbGQoYnV0dG9uKTtcbiAgICAgIGJsb2NrLmFwcGVuZENoaWxkKHApO1xuICAgICAgYnV0dG9uLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgYnV0dG9uLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgICB0aGlzLmFkZEJCb3hMaXN0ZW5lcnMoKTtcbiAgICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLmFkZEJCb3hMaXN0ZW5lcnMuYmluZCh0aGlzKSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEluaXRpYWxpemUgc2VsZWN0IGJ5IGJib3ggbW9kZVxuICAgKi9cbiAgYWRkQkJveExpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgaWYgKHRoaXMubmVvblZpZXcuTmV1bWVFZGl0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgLy8ganVzdCBpbiBjYXNlXG4gICAgICAgIHRoaXMuZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5zeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIHNldFNlbGVjdEhlbHBlck9iamVjdHModGhpcy5uZW9uVmlldywgdGhpcy5kcmFnSGFuZGxlcik7XG4gICAgICAgIGlmICh0aGlzLm5lb25WaWV3LnZpZXcuY29uc3RydWN0b3IubmFtZSA9PT0gJ1NpbmdsZVZpZXcnKSB7XG4gICAgICAgICAgY2xpY2tTZWxlY3QoJyNtZWlfb3V0cHV0LCAjbWVpX291dHB1dCByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnI3N2Z19ncm91cCcpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsaWNrU2VsZWN0KCcuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcsIC5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZyByZWN0Jyk7XG4gICAgICAgICAgZHJhZ1NlbGVjdCgnLmFjdGl2ZS1wYWdlIHN2ZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgaW1tZWRpYXRlIGZyb20gJ2ltbWVkaWF0ZSc7XG5pbXBvcnQgeyB2NCB9IGZyb20gJ3V1aWQnO1xuaW1wb3J0IE1kNSBmcm9tICdzcGFyay1tZDUnO1xuaW1wb3J0IHZ1dnV6ZWxhIGZyb20gJ3Z1dnV6ZWxhJztcbmltcG9ydCBnZXRBcmd1bWVudHMgZnJvbSAnYXJnc2FycmF5JztcbmltcG9ydCBpbmhlcml0cyBmcm9tICdpbmhlcml0cyc7XG5pbXBvcnQgRUUgZnJvbSAnZXZlbnRzJztcblxuZnVuY3Rpb24gbWFuZ2xlKGtleSkge1xuICByZXR1cm4gJyQnICsga2V5O1xufVxuZnVuY3Rpb24gdW5tYW5nbGUoa2V5KSB7XG4gIHJldHVybiBrZXkuc3Vic3RyaW5nKDEpO1xufVxuZnVuY3Rpb24gTWFwJDEoKSB7XG4gIHRoaXMuX3N0b3JlID0ge307XG59XG5NYXAkMS5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICByZXR1cm4gdGhpcy5fc3RvcmVbbWFuZ2xlZF07XG59O1xuTWFwJDEucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uIChrZXksIHZhbHVlKSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHRoaXMuX3N0b3JlW21hbmdsZWRdID0gdmFsdWU7XG4gIHJldHVybiB0cnVlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHZhciBtYW5nbGVkID0gbWFuZ2xlKGtleSk7XG4gIHJldHVybiBtYW5nbGVkIGluIHRoaXMuX3N0b3JlO1xufTtcbk1hcCQxLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLm1hcChrID0+IHVubWFuZ2xlKGspKTtcbn07XG5NYXAkMS5wcm90b3R5cGUuZGVsZXRlID0gZnVuY3Rpb24gKGtleSkge1xuICB2YXIgbWFuZ2xlZCA9IG1hbmdsZShrZXkpO1xuICB2YXIgcmVzID0gbWFuZ2xlZCBpbiB0aGlzLl9zdG9yZTtcbiAgZGVsZXRlIHRoaXMuX3N0b3JlW21hbmdsZWRdO1xuICByZXR1cm4gcmVzO1xufTtcbk1hcCQxLnByb3RvdHlwZS5mb3JFYWNoID0gZnVuY3Rpb24gKGNiKSB7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0ga2V5cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IHRoaXMuX3N0b3JlW2tleV07XG4gICAga2V5ID0gdW5tYW5nbGUoa2V5KTtcbiAgICBjYih2YWx1ZSwga2V5KTtcbiAgfVxufTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShNYXAkMS5wcm90b3R5cGUsICdzaXplJywge1xuICBnZXQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXModGhpcy5fc3RvcmUpLmxlbmd0aDtcbiAgfVxufSk7XG5cbmZ1bmN0aW9uIFNldCQxKGFycmF5KSB7XG4gIHRoaXMuX3N0b3JlID0gbmV3IE1hcCQxKCk7XG5cbiAgLy8gaW5pdCB3aXRoIGFuIGFycmF5XG4gIGlmIChhcnJheSAmJiBBcnJheS5pc0FycmF5KGFycmF5KSkge1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnJheS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgdGhpcy5hZGQoYXJyYXlbaV0pO1xuICAgIH1cbiAgfVxufVxuU2V0JDEucHJvdG90eXBlLmFkZCA9IGZ1bmN0aW9uIChrZXkpIHtcbiAgcmV0dXJuIHRoaXMuX3N0b3JlLnNldChrZXksIHRydWUpO1xufTtcblNldCQxLnByb3RvdHlwZS5oYXMgPSBmdW5jdGlvbiAoa2V5KSB7XG4gIHJldHVybiB0aGlzLl9zdG9yZS5oYXMoa2V5KTtcbn07XG5TZXQkMS5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uIChjYikge1xuICB0aGlzLl9zdG9yZS5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgY2Ioa2V5KTtcbiAgfSk7XG59O1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KFNldCQxLnByb3RvdHlwZSwgJ3NpemUnLCB7XG4gIGdldDogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9zdG9yZS5zaXplO1xuICB9XG59KTtcblxuLy8gQmFzZWQgb24gaHR0cHM6Ly9rYW5nYXguZ2l0aHViLmlvL2NvbXBhdC10YWJsZS9lczYvIHdlIGNhbiBzbmlmZiBvdXRcbi8vIGluY29tcGxldGUgTWFwL1NldCBpbXBsZW1lbnRhdGlvbnMgd2hpY2ggd291bGQgb3RoZXJ3aXNlIGNhdXNlIG91ciB0ZXN0cyB0byBmYWlsLlxuLy8gTm90YWJseSB0aGV5IGZhaWwgaW4gSUUxMSBhbmQgaU9TIDguNCwgd2hpY2ggdGhpcyBwcmV2ZW50cy5cbmZ1bmN0aW9uIHN1cHBvcnRzTWFwQW5kU2V0KCkge1xuICBpZiAodHlwZW9mIFN5bWJvbCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIE1hcCA9PT0gJ3VuZGVmaW5lZCcgfHwgdHlwZW9mIFNldCA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3AgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKE1hcCwgU3ltYm9sLnNwZWNpZXMpO1xuICByZXR1cm4gcHJvcCAmJiAnZ2V0JyBpbiBwcm9wICYmIE1hcFtTeW1ib2wuc3BlY2llc10gPT09IE1hcDtcbn1cblxuLy8gYmFzZWQgb24gaHR0cHM6Ly9naXRodWIuY29tL21vbnRhZ2Vqcy9jb2xsZWN0aW9uc1xuXG52YXIgRXhwb3J0ZWRTZXQ7XG52YXIgRXhwb3J0ZWRNYXA7XG5cbntcbiAgaWYgKHN1cHBvcnRzTWFwQW5kU2V0KCkpIHsgLy8gcHJlZmVyIGJ1aWx0LWluIE1hcC9TZXRcbiAgICBFeHBvcnRlZFNldCA9IFNldDtcbiAgICBFeHBvcnRlZE1hcCA9IE1hcDtcbiAgfSBlbHNlIHsgLy8gZmFsbCBiYWNrIHRvIG91ciBwb2x5ZmlsbFxuICAgIEV4cG9ydGVkU2V0ID0gU2V0JDE7XG4gICAgRXhwb3J0ZWRNYXAgPSBNYXAkMTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0JpbmFyeU9iamVjdChvYmplY3QpIHtcbiAgcmV0dXJuICh0eXBlb2YgQXJyYXlCdWZmZXIgIT09ICd1bmRlZmluZWQnICYmIG9iamVjdCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB8fFxuICAgICh0eXBlb2YgQmxvYiAhPT0gJ3VuZGVmaW5lZCcgJiYgb2JqZWN0IGluc3RhbmNlb2YgQmxvYik7XG59XG5cbmZ1bmN0aW9uIGNsb25lQXJyYXlCdWZmZXIoYnVmZikge1xuICBpZiAodHlwZW9mIGJ1ZmYuc2xpY2UgPT09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gYnVmZi5zbGljZSgwKTtcbiAgfVxuICAvLyBJRTEwLTExIHNsaWNlKCkgcG9seWZpbGxcbiAgdmFyIHRhcmdldCA9IG5ldyBBcnJheUJ1ZmZlcihidWZmLmJ5dGVMZW5ndGgpO1xuICB2YXIgdGFyZ2V0QXJyYXkgPSBuZXcgVWludDhBcnJheSh0YXJnZXQpO1xuICB2YXIgc291cmNlQXJyYXkgPSBuZXcgVWludDhBcnJheShidWZmKTtcbiAgdGFyZ2V0QXJyYXkuc2V0KHNvdXJjZUFycmF5KTtcbiAgcmV0dXJuIHRhcmdldDtcbn1cblxuZnVuY3Rpb24gY2xvbmVCaW5hcnlPYmplY3Qob2JqZWN0KSB7XG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBjbG9uZUFycmF5QnVmZmVyKG9iamVjdCk7XG4gIH1cbiAgdmFyIHNpemUgPSBvYmplY3Quc2l6ZTtcbiAgdmFyIHR5cGUgPSBvYmplY3QudHlwZTtcbiAgLy8gQmxvYlxuICBpZiAodHlwZW9mIG9iamVjdC5zbGljZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiBvYmplY3Quc2xpY2UoMCwgc2l6ZSwgdHlwZSk7XG4gIH1cbiAgLy8gUGhhbnRvbUpTIHNsaWNlKCkgcmVwbGFjZW1lbnRcbiAgcmV0dXJuIG9iamVjdC53ZWJraXRTbGljZSgwLCBzaXplLCB0eXBlKTtcbn1cblxuLy8gbW9zdCBvZiB0aGlzIGlzIGJvcnJvd2VkIGZyb20gbG9kYXNoLmlzUGxhaW5PYmplY3Q6XG4vLyBodHRwczovL2dpdGh1Yi5jb20vZmlzLWNvbXBvbmVudHMvbG9kYXNoLmlzcGxhaW5vYmplY3QvXG4vLyBibG9iLzI5YzM1ODE0MGE3NGYyNTJhZWIwOGM5ZWIyOGJlZjg2ZjIyMTdkNGEvaW5kZXguanNcblxudmFyIGZ1bmNUb1N0cmluZyA9IEZ1bmN0aW9uLnByb3RvdHlwZS50b1N0cmluZztcbnZhciBvYmplY3RDdG9yU3RyaW5nID0gZnVuY1RvU3RyaW5nLmNhbGwoT2JqZWN0KTtcblxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICB2YXIgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUpO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHByb3RvID09PSBudWxsKSB7IC8vIG5vdCBzdXJlIHdoZW4gdGhpcyBoYXBwZW5zLCBidXQgSSBndWVzcyBpdCBjYW5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICB2YXIgQ3RvciA9IHByb3RvLmNvbnN0cnVjdG9yO1xuICByZXR1cm4gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiZcbiAgICBDdG9yIGluc3RhbmNlb2YgQ3RvciAmJiBmdW5jVG9TdHJpbmcuY2FsbChDdG9yKSA9PSBvYmplY3RDdG9yU3RyaW5nKTtcbn1cblxuZnVuY3Rpb24gY2xvbmUob2JqZWN0KSB7XG4gIHZhciBuZXdPYmplY3Q7XG4gIHZhciBpO1xuICB2YXIgbGVuO1xuXG4gIGlmICghb2JqZWN0IHx8IHR5cGVvZiBvYmplY3QgIT09ICdvYmplY3QnKSB7XG4gICAgcmV0dXJuIG9iamVjdDtcbiAgfVxuXG4gIGlmIChBcnJheS5pc0FycmF5KG9iamVjdCkpIHtcbiAgICBuZXdPYmplY3QgPSBbXTtcbiAgICBmb3IgKGkgPSAwLCBsZW4gPSBvYmplY3QubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIG5ld09iamVjdFtpXSA9IGNsb25lKG9iamVjdFtpXSk7XG4gICAgfVxuICAgIHJldHVybiBuZXdPYmplY3Q7XG4gIH1cblxuICAvLyBzcGVjaWFsIGNhc2U6IHRvIGF2b2lkIGluY29uc2lzdGVuY2llcyBiZXR3ZWVuIEluZGV4ZWREQlxuICAvLyBhbmQgb3RoZXIgYmFja2VuZHMsIHdlIGF1dG9tYXRpY2FsbHkgc3RyaW5naWZ5IERhdGVzXG4gIGlmIChvYmplY3QgaW5zdGFuY2VvZiBEYXRlICYmIGlzRmluaXRlKG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0LnRvSVNPU3RyaW5nKCk7XG4gIH1cblxuICBpZiAoaXNCaW5hcnlPYmplY3Qob2JqZWN0KSkge1xuICAgIHJldHVybiBjbG9uZUJpbmFyeU9iamVjdChvYmplY3QpO1xuICB9XG5cbiAgaWYgKCFpc1BsYWluT2JqZWN0KG9iamVjdCkpIHtcbiAgICByZXR1cm4gb2JqZWN0OyAvLyBkb24ndCBjbG9uZSBvYmplY3RzIGxpa2UgV29ya2Vyc1xuICB9XG5cbiAgbmV3T2JqZWN0ID0ge307XG4gIGZvciAoaSBpbiBvYmplY3QpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBpKSkge1xuICAgICAgdmFyIHZhbHVlID0gY2xvbmUob2JqZWN0W2ldKTtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIG5ld09iamVjdFtpXSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gbmV3T2JqZWN0O1xufVxuXG5mdW5jdGlvbiBvbmNlKGZ1bikge1xuICB2YXIgY2FsbGVkID0gZmFsc2U7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoY2FsbGVkKSB7XG4gICAgICAvLyB0aGlzIGlzIGEgc21va2UgdGVzdCBhbmQgc2hvdWxkIG5ldmVyIGFjdHVhbGx5IGhhcHBlblxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdvbmNlIGNhbGxlZCBtb3JlIHRoYW4gb25jZScpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsZWQgPSB0cnVlO1xuICAgICAgZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHRvUHJvbWlzZShmdW5jKSB7XG4gIC8vY3JlYXRlIHRoZSBmdW5jdGlvbiB3ZSB3aWxsIGJlIHJldHVybmluZ1xuICByZXR1cm4gZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgLy8gQ2xvbmUgYXJndW1lbnRzXG4gICAgYXJncyA9IGNsb25lKGFyZ3MpO1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAvLyBpZiB0aGUgbGFzdCBhcmd1bWVudCBpcyBhIGZ1bmN0aW9uLCBhc3N1bWUgaXRzIGEgY2FsbGJhY2tcbiAgICB2YXIgdXNlZENCID0gKHR5cGVvZiBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPT09ICdmdW5jdGlvbicpID8gYXJncy5wb3AoKSA6IGZhbHNlO1xuICAgIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgICAgdmFyIHJlc3A7XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgY2FsbGJhY2sgPSBvbmNlKGZ1bmN0aW9uIChlcnIsIG1lc2cpIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZnVsZmlsbChtZXNnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICAvLyBjcmVhdGUgYSBjYWxsYmFjayBmb3IgdGhpcyBpbnZvY2F0aW9uXG4gICAgICAgIC8vIGFwcGx5IHRoZSBmdW5jdGlvbiBpbiB0aGUgb3JpZyBjb250ZXh0XG4gICAgICAgIGFyZ3MucHVzaChjYWxsYmFjayk7XG4gICAgICAgIHJlc3AgPSBmdW5jLmFwcGx5KHNlbGYsIGFyZ3MpO1xuICAgICAgICBpZiAocmVzcCAmJiB0eXBlb2YgcmVzcC50aGVuID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgZnVsZmlsbChyZXNwKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgLy8gaWYgdGhlcmUgaXMgYSBjYWxsYmFjaywgY2FsbCBpdCBiYWNrXG4gICAgaWYgKHVzZWRDQikge1xuICAgICAgcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgICAgdXNlZENCKG51bGwsIHJlc3VsdCk7XG4gICAgICB9LCB1c2VkQ0IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGxvZ0FwaUNhbGwoc2VsZiwgbmFtZSwgYXJncykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHNlbGYuY29uc3RydWN0b3IubGlzdGVuZXJzKCdkZWJ1ZycpLmxlbmd0aCkge1xuICAgIHZhciBsb2dBcmdzID0gWydhcGknLCBzZWxmLm5hbWUsIG5hbWVdO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJncy5sZW5ndGggLSAxOyBpKyspIHtcbiAgICAgIGxvZ0FyZ3MucHVzaChhcmdzW2ldKTtcbiAgICB9XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCdkZWJ1ZycsIGxvZ0FyZ3MpO1xuXG4gICAgLy8gb3ZlcnJpZGUgdGhlIGNhbGxiYWNrIGl0c2VsZiB0byBsb2cgdGhlIHJlc3BvbnNlXG4gICAgdmFyIG9yaWdDYWxsYmFjayA9IGFyZ3NbYXJncy5sZW5ndGggLSAxXTtcbiAgICBhcmdzW2FyZ3MubGVuZ3RoIC0gMV0gPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIHZhciByZXNwb25zZUFyZ3MgPSBbJ2FwaScsIHNlbGYubmFtZSwgbmFtZV07XG4gICAgICByZXNwb25zZUFyZ3MgPSByZXNwb25zZUFyZ3MuY29uY2F0KFxuICAgICAgICBlcnIgPyBbJ2Vycm9yJywgZXJyXSA6IFsnc3VjY2VzcycsIHJlc11cbiAgICAgICk7XG4gICAgICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ2RlYnVnJywgcmVzcG9uc2VBcmdzKTtcbiAgICAgIG9yaWdDYWxsYmFjayhlcnIsIHJlcyk7XG4gICAgfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBhZGFwdGVyRnVuKG5hbWUsIGNhbGxiYWNrKSB7XG4gIHJldHVybiB0b1Byb21pc2UoZ2V0QXJndW1lbnRzKGZ1bmN0aW9uIChhcmdzKSB7XG4gICAgaWYgKHRoaXMuX2Nsb3NlZCkge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcignZGF0YWJhc2UgaXMgY2xvc2VkJykpO1xuICAgIH1cbiAgICBpZiAodGhpcy5fZGVzdHJveWVkKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCdkYXRhYmFzZSBpcyBkZXN0cm95ZWQnKSk7XG4gICAgfVxuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICBsb2dBcGlDYWxsKHNlbGYsIG5hbWUsIGFyZ3MpO1xuICAgIGlmICghdGhpcy50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsLCByZWplY3QpIHtcbiAgICAgICAgc2VsZi50YXNrcXVldWUuYWRkVGFzayhmdW5jdGlvbiAoZmFpbGVkKSB7XG4gICAgICAgICAgaWYgKGZhaWxlZCkge1xuICAgICAgICAgICAgcmVqZWN0KGZhaWxlZCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZ1bGZpbGwoc2VsZltuYW1lXS5hcHBseShzZWxmLCBhcmdzKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2FsbGJhY2suYXBwbHkodGhpcywgYXJncyk7XG4gIH0pKTtcbn1cblxuLy8gbGlrZSB1bmRlcnNjb3JlL2xvZGFzaCBfLnBpY2soKVxuZnVuY3Rpb24gcGljayhvYmosIGFycikge1xuICB2YXIgcmVzID0ge307XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBhcnIubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgcHJvcCA9IGFycltpXTtcbiAgICBpZiAocHJvcCBpbiBvYmopIHtcbiAgICAgIHJlc1twcm9wXSA9IG9ialtwcm9wXTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxuLy8gTW9zdCBicm93c2VycyB0aHJvdHRsZSBjb25jdXJyZW50IHJlcXVlc3RzIGF0IDYsIHNvIGl0J3Mgc2lsbHlcbi8vIHRvIHNoaW0gX2J1bGtfZ2V0IGJ5IHRyeWluZyB0byBsYXVuY2ggcG90ZW50aWFsbHkgaHVuZHJlZHMgb2YgcmVxdWVzdHNcbi8vIGFuZCB0aGVuIGxldHRpbmcgdGhlIG1ham9yaXR5IHRpbWUgb3V0LiBXZSBjYW4gaGFuZGxlIHRoaXMgb3Vyc2VsdmVzLlxudmFyIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUyA9IDY7XG5cbmZ1bmN0aW9uIGlkZW50aXR5RnVuY3Rpb24oeCkge1xuICByZXR1cm4geDtcbn1cblxuZnVuY3Rpb24gZm9ybWF0UmVzdWx0Rm9yT3BlblJldnNHZXQocmVzdWx0KSB7XG4gIHJldHVybiBbe1xuICAgIG9rOiByZXN1bHRcbiAgfV07XG59XG5cbi8vIHNoaW0gZm9yIFAvQ291Y2hEQiBhZGFwdGVycyB0aGF0IGRvbid0IGRpcmVjdGx5IGltcGxlbWVudCBfYnVsa19nZXRcbmZ1bmN0aW9uIGJ1bGtHZXQoZGIsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciByZXF1ZXN0cyA9IG9wdHMuZG9jcztcblxuICAvLyBjb25zb2xpZGF0ZSBpbnRvIG9uZSByZXF1ZXN0IHBlciBkb2MgaWYgcG9zc2libGVcbiAgdmFyIHJlcXVlc3RzQnlJZCA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICByZXF1ZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3RzQnlJZC5oYXMocmVxdWVzdC5pZCkpIHtcbiAgICAgIHJlcXVlc3RzQnlJZC5nZXQocmVxdWVzdC5pZCkucHVzaChyZXF1ZXN0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVxdWVzdHNCeUlkLnNldChyZXF1ZXN0LmlkLCBbcmVxdWVzdF0pO1xuICAgIH1cbiAgfSk7XG5cbiAgdmFyIG51bURvY3MgPSByZXF1ZXN0c0J5SWQuc2l6ZTtcbiAgdmFyIG51bURvbmUgPSAwO1xuICB2YXIgcGVyRG9jUmVzdWx0cyA9IG5ldyBBcnJheShudW1Eb2NzKTtcblxuICBmdW5jdGlvbiBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBwZXJEb2NSZXN1bHRzLmZvckVhY2goZnVuY3Rpb24gKHJlcykge1xuICAgICAgcmVzLmRvY3MuZm9yRWFjaChmdW5jdGlvbiAoaW5mbykge1xuICAgICAgICByZXN1bHRzLnB1c2goe1xuICAgICAgICAgIGlkOiByZXMuaWQsXG4gICAgICAgICAgZG9jczogW2luZm9dXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSk7XG4gICAgY2FsbGJhY2sobnVsbCwge3Jlc3VsdHM6IHJlc3VsdHN9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICBpZiAoKytudW1Eb25lID09PSBudW1Eb2NzKSB7XG4gICAgICBjb2xsYXBzZVJlc3VsdHNBbmRGaW5pc2goKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBnb3RSZXN1bHQoZG9jSW5kZXgsIGlkLCBkb2NzKSB7XG4gICAgcGVyRG9jUmVzdWx0c1tkb2NJbmRleF0gPSB7aWQ6IGlkLCBkb2NzOiBkb2NzfTtcbiAgICBjaGVja0RvbmUoKTtcbiAgfVxuXG4gIHZhciBhbGxSZXF1ZXN0cyA9IFtdO1xuICByZXF1ZXN0c0J5SWQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUsIGtleSkge1xuICAgIGFsbFJlcXVlc3RzLnB1c2goa2V5KTtcbiAgfSk7XG5cbiAgdmFyIGkgPSAwO1xuXG4gIGZ1bmN0aW9uIG5leHRCYXRjaCgpIHtcblxuICAgIGlmIChpID49IGFsbFJlcXVlc3RzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIHZhciB1cFRvID0gTWF0aC5taW4oaSArIE1BWF9OVU1fQ09OQ1VSUkVOVF9SRVFVRVNUUywgYWxsUmVxdWVzdHMubGVuZ3RoKTtcbiAgICB2YXIgYmF0Y2ggPSBhbGxSZXF1ZXN0cy5zbGljZShpLCB1cFRvKTtcbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2gsIGkpO1xuICAgIGkgKz0gYmF0Y2gubGVuZ3RoO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKGJhdGNoLCBvZmZzZXQpIHtcbiAgICBiYXRjaC5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJZCwgaikge1xuICAgICAgdmFyIGRvY0lkeCA9IG9mZnNldCArIGo7XG4gICAgICB2YXIgZG9jUmVxdWVzdHMgPSByZXF1ZXN0c0J5SWQuZ2V0KGRvY0lkKTtcblxuICAgICAgLy8ganVzdCB1c2UgdGhlIGZpcnN0IHJlcXVlc3QgYXMgdGhlIFwidGVtcGxhdGVcIlxuICAgICAgLy8gVE9ETzogVGhlIF9idWxrX2dldCBBUEkgYWxsb3dzIGZvciBtb3JlIHN1YnRsZSB1c2UgY2FzZXMgdGhhbiB0aGlzLFxuICAgICAgLy8gYnV0IGZvciBub3cgaXQgaXMgdW5saWtlbHkgdGhhdCB0aGVyZSB3aWxsIGJlIGEgbWl4IG9mIGRpZmZlcmVudFxuICAgICAgLy8gXCJhdHRzX3NpbmNlXCIgb3IgXCJhdHRhY2htZW50c1wiIGluIHRoZSBzYW1lIHJlcXVlc3QsIHNpbmNlIGl0J3MganVzdFxuICAgICAgLy8gcmVwbGljYXRlLmpzIHRoYXQgaXMgdXNpbmcgdGhpcyBmb3IgdGhlIG1vbWVudC5cbiAgICAgIC8vIEFsc28sIGF0dHNfc2luY2UgaXMgYXNwaXJhdGlvbmFsLCBzaW5jZSB3ZSBkb24ndCBzdXBwb3J0IGl0IHlldC5cbiAgICAgIHZhciBkb2NPcHRzID0gcGljayhkb2NSZXF1ZXN0c1swXSwgWydhdHRzX3NpbmNlJywgJ2F0dGFjaG1lbnRzJ10pO1xuICAgICAgZG9jT3B0cy5vcGVuX3JldnMgPSBkb2NSZXF1ZXN0cy5tYXAoZnVuY3Rpb24gKHJlcXVlc3QpIHtcbiAgICAgICAgLy8gcmV2IGlzIG9wdGlvbmFsLCBvcGVuX3JldnMgZGlzYWxsb3dlZFxuICAgICAgICByZXR1cm4gcmVxdWVzdC5yZXY7XG4gICAgICB9KTtcblxuICAgICAgLy8gcmVtb3ZlIGZhbHNleSAvIHVuZGVmaW5lZCByZXZpc2lvbnNcbiAgICAgIGRvY09wdHMub3Blbl9yZXZzID0gZG9jT3B0cy5vcGVuX3JldnMuZmlsdGVyKGlkZW50aXR5RnVuY3Rpb24pO1xuXG4gICAgICB2YXIgZm9ybWF0UmVzdWx0ID0gaWRlbnRpdHlGdW5jdGlvbjtcblxuICAgICAgaWYgKGRvY09wdHMub3Blbl9yZXZzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBkZWxldGUgZG9jT3B0cy5vcGVuX3JldnM7XG5cbiAgICAgICAgLy8gd2hlbiBmZXRjaGluZyBvbmx5IHRoZSBcIndpbm5pbmdcIiBsZWFmLFxuICAgICAgICAvLyB0cmFuc2Zvcm0gdGhlIHJlc3VsdCBzbyBpdCBsb29rcyBsaWtlIGFuIG9wZW5fcmV2c1xuICAgICAgICAvLyByZXF1ZXN0XG4gICAgICAgIGZvcm1hdFJlc3VsdCA9IGZvcm1hdFJlc3VsdEZvck9wZW5SZXZzR2V0O1xuICAgICAgfVxuXG4gICAgICAvLyBnbG9iYWxseS1zdXBwbGllZCBvcHRpb25zXG4gICAgICBbJ3JldnMnLCAnYXR0YWNobWVudHMnLCAnYmluYXJ5JywgJ2FqYXgnLCAnbGF0ZXN0J10uZm9yRWFjaChmdW5jdGlvbiAocGFyYW0pIHtcbiAgICAgICAgaWYgKHBhcmFtIGluIG9wdHMpIHtcbiAgICAgICAgICBkb2NPcHRzW3BhcmFtXSA9IG9wdHNbcGFyYW1dO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGRiLmdldChkb2NJZCwgZG9jT3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHZhciByZXN1bHQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVzdWx0ID0gW3tlcnJvcjogZXJyfV07XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzdWx0ID0gZm9ybWF0UmVzdWx0KHJlcyk7XG4gICAgICAgIH1cbiAgICAgICAgZ290UmVzdWx0KGRvY0lkeCwgZG9jSWQsIHJlc3VsdCk7XG4gICAgICAgIG5leHRCYXRjaCgpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBuZXh0QmF0Y2goKTtcblxufVxuXG52YXIgaGFzTG9jYWw7XG5cbnRyeSB7XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdfcG91Y2hfY2hlY2tfbG9jYWxzdG9yYWdlJywgMSk7XG4gIGhhc0xvY2FsID0gISFsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnX3BvdWNoX2NoZWNrX2xvY2Fsc3RvcmFnZScpO1xufSBjYXRjaCAoZSkge1xuICBoYXNMb2NhbCA9IGZhbHNlO1xufVxuXG5mdW5jdGlvbiBoYXNMb2NhbFN0b3JhZ2UoKSB7XG4gIHJldHVybiBoYXNMb2NhbDtcbn1cblxuLy8gQ3VzdG9tIG5leHRUaWNrKCkgc2hpbSBmb3IgYnJvd3NlcnMuIEluIG5vZGUsIHRoaXMgd2lsbCBqdXN0IGJlIHByb2Nlc3MubmV4dFRpY2soKS4gV2VcblxuaW5oZXJpdHMoQ2hhbmdlcywgRUUpO1xuXG4vKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuZnVuY3Rpb24gYXR0YWNoQnJvd3NlckV2ZW50cyhzZWxmKSB7XG4gIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSkge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJzdG9yYWdlXCIsIGZ1bmN0aW9uIChlKSB7XG4gICAgICBzZWxmLmVtaXQoZS5rZXkpO1xuICAgIH0pO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG4gIHRoaXMuX2xpc3RlbmVycyA9IHt9O1xuXG4gIGF0dGFjaEJyb3dzZXJFdmVudHModGhpcyk7XG59XG5DaGFuZ2VzLnByb3RvdHlwZS5hZGRMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkLCBkYiwgb3B0cykge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHRoaXMuX2xpc3RlbmVyc1tpZF0pIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICBmdW5jdGlvbiBldmVudEZ1bmN0aW9uKCkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghc2VsZi5fbGlzdGVuZXJzW2lkXSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoaW5wcm9ncmVzcykge1xuICAgICAgaW5wcm9ncmVzcyA9ICd3YWl0aW5nJztcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5wcm9ncmVzcyA9IHRydWU7XG4gICAgdmFyIGNoYW5nZXNPcHRzID0gcGljayhvcHRzLCBbXG4gICAgICAnc3R5bGUnLCAnaW5jbHVkZV9kb2NzJywgJ2F0dGFjaG1lbnRzJywgJ2NvbmZsaWN0cycsICdmaWx0ZXInLFxuICAgICAgJ2RvY19pZHMnLCAndmlldycsICdzaW5jZScsICdxdWVyeV9wYXJhbXMnLCAnYmluYXJ5JywgJ3JldHVybl9kb2NzJ1xuICAgIF0pO1xuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBvbkVycm9yKCkge1xuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH1cblxuICAgIGRiLmNoYW5nZXMoY2hhbmdlc09wdHMpLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoYykge1xuICAgICAgaWYgKGMuc2VxID4gb3B0cy5zaW5jZSAmJiAhb3B0cy5jYW5jZWxsZWQpIHtcbiAgICAgICAgb3B0cy5zaW5jZSA9IGMuc2VxO1xuICAgICAgICBvcHRzLm9uQ2hhbmdlKGMpO1xuICAgICAgfVxuICAgIH0pLm9uKCdjb21wbGV0ZScsIGZ1bmN0aW9uICgpIHtcbiAgICAgIGlmIChpbnByb2dyZXNzID09PSAnd2FpdGluZycpIHtcbiAgICAgICAgaW1tZWRpYXRlKGV2ZW50RnVuY3Rpb24pO1xuICAgICAgfVxuICAgICAgaW5wcm9ncmVzcyA9IGZhbHNlO1xuICAgIH0pLm9uKCdlcnJvcicsIG9uRXJyb3IpO1xuICB9XG4gIHRoaXMuX2xpc3RlbmVyc1tpZF0gPSBldmVudEZ1bmN0aW9uO1xuICB0aGlzLm9uKGRiTmFtZSwgZXZlbnRGdW5jdGlvbik7XG59O1xuXG5DaGFuZ2VzLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lciA9IGZ1bmN0aW9uIChkYk5hbWUsIGlkKSB7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoIShpZCBpbiB0aGlzLl9saXN0ZW5lcnMpKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIEVFLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lci5jYWxsKHRoaXMsIGRiTmFtZSxcbiAgICB0aGlzLl9saXN0ZW5lcnNbaWRdKTtcbiAgZGVsZXRlIHRoaXMuX2xpc3RlbmVyc1tpZF07XG59O1xuXG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5DaGFuZ2VzLnByb3RvdHlwZS5ub3RpZnlMb2NhbFdpbmRvd3MgPSBmdW5jdGlvbiAoZGJOYW1lKSB7XG4gIC8vZG8gYSB1c2VsZXNzIGNoYW5nZSBvbiBhIHN0b3JhZ2UgdGhpbmdcbiAgLy9pbiBvcmRlciB0byBnZXQgb3RoZXIgd2luZG93cydzIGxpc3RlbmVycyB0byBhY3RpdmF0ZVxuICBpZiAoaGFzTG9jYWxTdG9yYWdlKCkpIHtcbiAgICBsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9IChsb2NhbFN0b3JhZ2VbZGJOYW1lXSA9PT0gXCJhXCIpID8gXCJiXCIgOiBcImFcIjtcbiAgfVxufTtcblxuQ2hhbmdlcy5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24gKGRiTmFtZSkge1xuICB0aGlzLmVtaXQoZGJOYW1lKTtcbiAgdGhpcy5ub3RpZnlMb2NhbFdpbmRvd3MoZGJOYW1lKTtcbn07XG5cbmZ1bmN0aW9uIGd1YXJkZWRDb25zb2xlKG1ldGhvZCkge1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAodHlwZW9mIGNvbnNvbGUgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb25zb2xlW21ldGhvZF0gPT09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgY29uc29sZVttZXRob2RdLmFwcGx5KGNvbnNvbGUsIGFyZ3MpO1xuICB9XG59XG5cbmZ1bmN0aW9uIHJhbmRvbU51bWJlcihtaW4sIG1heCkge1xuICB2YXIgbWF4VGltZW91dCA9IDYwMDAwMDsgLy8gSGFyZC1jb2RlZCBkZWZhdWx0IG9mIDEwIG1pbnV0ZXNcbiAgbWluID0gcGFyc2VJbnQobWluLCAxMCkgfHwgMDtcbiAgbWF4ID0gcGFyc2VJbnQobWF4LCAxMCk7XG4gIGlmIChtYXggIT09IG1heCB8fCBtYXggPD0gbWluKSB7XG4gICAgbWF4ID0gKG1pbiB8fCAxKSA8PCAxOyAvL2RvdWJsaW5nXG4gIH0gZWxzZSB7XG4gICAgbWF4ID0gbWF4ICsgMTtcbiAgfVxuICAvLyBJbiBvcmRlciB0byBub3QgZXhjZWVkIG1heFRpbWVvdXQsIHBpY2sgYSByYW5kb20gdmFsdWUgYmV0d2VlbiBoYWxmIG9mIG1heFRpbWVvdXQgYW5kIG1heFRpbWVvdXRcbiAgaWYgKG1heCA+IG1heFRpbWVvdXQpIHtcbiAgICBtaW4gPSBtYXhUaW1lb3V0ID4+IDE7IC8vIGRpdmlkZSBieSB0d29cbiAgICBtYXggPSBtYXhUaW1lb3V0O1xuICB9XG4gIHZhciByYXRpbyA9IE1hdGgucmFuZG9tKCk7XG4gIHZhciByYW5nZSA9IG1heCAtIG1pbjtcblxuICByZXR1cm4gfn4ocmFuZ2UgKiByYXRpbyArIG1pbik7IC8vIH5+IGNvZXJjZXMgdG8gYW4gaW50LCBidXQgZmFzdC5cbn1cblxuZnVuY3Rpb24gZGVmYXVsdEJhY2tPZmYobWluKSB7XG4gIHZhciBtYXggPSAwO1xuICBpZiAoIW1pbikge1xuICAgIG1heCA9IDIwMDA7XG4gIH1cbiAgcmV0dXJuIHJhbmRvbU51bWJlcihtaW4sIG1heCk7XG59XG5cbi8vIGRlc2lnbmVkIHRvIGdpdmUgaW5mbyB0byBicm93c2VyIHVzZXJzLCB3aG8gYXJlIGRpc3R1cmJlZFxuLy8gd2hlbiB0aGV5IHNlZSBodHRwIGVycm9ycyBpbiB0aGUgY29uc29sZVxuZnVuY3Rpb24gZXhwbGFpbkVycm9yKHN0YXR1cywgc3RyKSB7XG4gIGd1YXJkZWRDb25zb2xlKCdpbmZvJywgJ1RoZSBhYm92ZSAnICsgc3RhdHVzICsgJyBpcyB0b3RhbGx5IG5vcm1hbC4gJyArIHN0cik7XG59XG5cbnZhciBhc3NpZ247XG57XG4gIGlmICh0eXBlb2YgT2JqZWN0LmFzc2lnbiA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGFzc2lnbiA9IE9iamVjdC5hc3NpZ247XG4gIH0gZWxzZSB7XG4gICAgLy8gbGl0ZSBPYmplY3QuYXNzaWduIHBvbHlmaWxsIGJhc2VkIG9uXG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9XZWIvSmF2YVNjcmlwdC9SZWZlcmVuY2UvR2xvYmFsX09iamVjdHMvT2JqZWN0L2Fzc2lnblxuICAgIGFzc2lnbiA9IGZ1bmN0aW9uICh0YXJnZXQpIHtcbiAgICAgIHZhciB0byA9IE9iamVjdCh0YXJnZXQpO1xuXG4gICAgICBmb3IgKHZhciBpbmRleCA9IDE7IGluZGV4IDwgYXJndW1lbnRzLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICB2YXIgbmV4dFNvdXJjZSA9IGFyZ3VtZW50c1tpbmRleF07XG5cbiAgICAgICAgaWYgKG5leHRTb3VyY2UgIT0gbnVsbCkgeyAvLyBTa2lwIG92ZXIgaWYgdW5kZWZpbmVkIG9yIG51bGxcbiAgICAgICAgICBmb3IgKHZhciBuZXh0S2V5IGluIG5leHRTb3VyY2UpIHtcbiAgICAgICAgICAgIC8vIEF2b2lkIGJ1Z3Mgd2hlbiBoYXNPd25Qcm9wZXJ0eSBpcyBzaGFkb3dlZFxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChuZXh0U291cmNlLCBuZXh0S2V5KSkge1xuICAgICAgICAgICAgICB0b1tuZXh0S2V5XSA9IG5leHRTb3VyY2VbbmV4dEtleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdG87XG4gICAgfTtcbiAgfVxufVxuXG52YXIgJGluamVjdF9PYmplY3RfYXNzaWduID0gYXNzaWduO1xuXG5pbmhlcml0cyhQb3VjaEVycm9yLCBFcnJvcik7XG5cbmZ1bmN0aW9uIFBvdWNoRXJyb3Ioc3RhdHVzLCBlcnJvciwgcmVhc29uKSB7XG4gIEVycm9yLmNhbGwodGhpcywgcmVhc29uKTtcbiAgdGhpcy5zdGF0dXMgPSBzdGF0dXM7XG4gIHRoaXMubmFtZSA9IGVycm9yO1xuICB0aGlzLm1lc3NhZ2UgPSByZWFzb247XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xufVxuXG5Qb3VjaEVycm9yLnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHtcbiAgICBzdGF0dXM6IHRoaXMuc3RhdHVzLFxuICAgIG5hbWU6IHRoaXMubmFtZSxcbiAgICBtZXNzYWdlOiB0aGlzLm1lc3NhZ2UsXG4gICAgcmVhc29uOiB0aGlzLnJlYXNvblxuICB9KTtcbn07XG5cbnZhciBVTkFVVEhPUklaRUQgPSBuZXcgUG91Y2hFcnJvcig0MDEsICd1bmF1dGhvcml6ZWQnLCBcIk5hbWUgb3IgcGFzc3dvcmQgaXMgaW5jb3JyZWN0LlwiKTtcbnZhciBNSVNTSU5HX0JVTEtfRE9DUyA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgXCJNaXNzaW5nIEpTT04gbGlzdCBvZiAnZG9jcydcIik7XG52YXIgTUlTU0lOR19ET0MgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnbWlzc2luZycpO1xudmFyIFJFVl9DT05GTElDVCA9IG5ldyBQb3VjaEVycm9yKDQwOSwgJ2NvbmZsaWN0JywgJ0RvY3VtZW50IHVwZGF0ZSBjb25mbGljdCcpO1xudmFyIElOVkFMSURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdfaWQgZmllbGQgbXVzdCBjb250YWluIGEgc3RyaW5nJyk7XG52YXIgTUlTU0lOR19JRCA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3NpbmdfaWQnLCAnX2lkIGlzIHJlcXVpcmVkIGZvciBwdXRzJyk7XG52YXIgUkVTRVJWRURfSUQgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdiYWRfcmVxdWVzdCcsICdPbmx5IHJlc2VydmVkIGRvY3VtZW50IGlkcyBtYXkgc3RhcnQgd2l0aCB1bmRlcnNjb3JlLicpO1xudmFyIE5PVF9PUEVOID0gbmV3IFBvdWNoRXJyb3IoNDEyLCAncHJlY29uZGl0aW9uX2ZhaWxlZCcsICdEYXRhYmFzZSBub3Qgb3BlbicpO1xudmFyIFVOS05PV05fRVJST1IgPSBuZXcgUG91Y2hFcnJvcig1MDAsICd1bmtub3duX2Vycm9yJywgJ0RhdGFiYXNlIGVuY291bnRlcmVkIGFuIHVua25vd24gZXJyb3InKTtcbnZhciBCQURfQVJHID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnYmFkYXJnJywgJ1NvbWUgcXVlcnkgYXJndW1lbnQgaXMgaW52YWxpZCcpO1xudmFyIElOVkFMSURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2ludmFsaWRfcmVxdWVzdCcsICdSZXF1ZXN0IHdhcyBpbnZhbGlkJyk7XG52YXIgUVVFUllfUEFSU0VfRVJST1IgPSBuZXcgUG91Y2hFcnJvcig0MDAsICdxdWVyeV9wYXJzZV9lcnJvcicsICdTb21lIHF1ZXJ5IHBhcmFtZXRlciBpcyBpbnZhbGlkJyk7XG52YXIgRE9DX1ZBTElEQVRJT04gPSBuZXcgUG91Y2hFcnJvcig1MDAsICdkb2NfdmFsaWRhdGlvbicsICdCYWQgc3BlY2lhbCBkb2N1bWVudCBtZW1iZXInKTtcbnZhciBCQURfUkVRVUVTVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ1NvbWV0aGluZyB3cm9uZyB3aXRoIHRoZSByZXF1ZXN0Jyk7XG52YXIgTk9UX0FOX09CSkVDVCA9IG5ldyBQb3VjaEVycm9yKDQwMCwgJ2JhZF9yZXF1ZXN0JywgJ0RvY3VtZW50IG11c3QgYmUgYSBKU09OIG9iamVjdCcpO1xudmFyIERCX01JU1NJTkcgPSBuZXcgUG91Y2hFcnJvcig0MDQsICdub3RfZm91bmQnLCAnRGF0YWJhc2Ugbm90IGZvdW5kJyk7XG52YXIgSURCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnaW5kZXhlZF9kYl93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgV1NRX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnd2ViX3NxbF93ZW50X2JhZCcsICd1bmtub3duJyk7XG52YXIgTERCX0VSUk9SID0gbmV3IFBvdWNoRXJyb3IoNTAwLCAnbGV2ZWxEQl93ZW50X3dlbnRfYmFkJywgJ3Vua25vd24nKTtcbnZhciBGT1JCSURERU4gPSBuZXcgUG91Y2hFcnJvcig0MDMsICdmb3JiaWRkZW4nLCAnRm9yYmlkZGVuIGJ5IGRlc2lnbiBkb2MgdmFsaWRhdGVfZG9jX3VwZGF0ZSBmdW5jdGlvbicpO1xudmFyIElOVkFMSURfUkVWID0gbmV3IFBvdWNoRXJyb3IoNDAwLCAnYmFkX3JlcXVlc3QnLCAnSW52YWxpZCByZXYgZm9ybWF0Jyk7XG52YXIgRklMRV9FWElTVFMgPSBuZXcgUG91Y2hFcnJvcig0MTIsICdmaWxlX2V4aXN0cycsICdUaGUgZGF0YWJhc2UgY291bGQgbm90IGJlIGNyZWF0ZWQsIHRoZSBmaWxlIGFscmVhZHkgZXhpc3RzLicpO1xudmFyIE1JU1NJTkdfU1RVQiA9IG5ldyBQb3VjaEVycm9yKDQxMiwgJ21pc3Npbmdfc3R1YicsICdBIHByZS1leGlzdGluZyBhdHRhY2htZW50IHN0dWIgd2FzblxcJ3QgZm91bmQnKTtcbnZhciBJTlZBTElEX1VSTCA9IG5ldyBQb3VjaEVycm9yKDQxMywgJ2ludmFsaWRfdXJsJywgJ1Byb3ZpZGVkIFVSTCBpcyBpbnZhbGlkJyk7XG5cbmZ1bmN0aW9uIGNyZWF0ZUVycm9yKGVycm9yLCByZWFzb24pIHtcbiAgZnVuY3Rpb24gQ3VzdG9tUG91Y2hFcnJvcihyZWFzb24pIHtcbiAgICAvLyBpbmhlcml0IGVycm9yIHByb3BlcnRpZXMgZnJvbSBvdXIgcGFyZW50IGVycm9yIG1hbnVhbGx5XG4gICAgLy8gc28gYXMgdG8gYWxsb3cgcHJvcGVyIEpTT04gcGFyc2luZy5cbiAgICAvKiBqc2hpbnQgaWdub3JlOnN0YXJ0ICovXG4gICAgdmFyIG5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoZXJyb3IpO1xuICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBuYW1lcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgaWYgKHR5cGVvZiBlcnJvcltuYW1lc1tpXV0gIT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhpc1tuYW1lc1tpXV0gPSBlcnJvcltuYW1lc1tpXV07XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc3RhY2sgPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gICAgfVxuXG4gICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICBpZiAocmVhc29uICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIH1cbiAgfVxuICBDdXN0b21Qb3VjaEVycm9yLnByb3RvdHlwZSA9IFBvdWNoRXJyb3IucHJvdG90eXBlO1xuICByZXR1cm4gbmV3IEN1c3RvbVBvdWNoRXJyb3IocmVhc29uKTtcbn1cblxuZnVuY3Rpb24gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpIHtcblxuICBpZiAodHlwZW9mIGVyciAhPT0gJ29iamVjdCcpIHtcbiAgICB2YXIgZGF0YSA9IGVycjtcbiAgICBlcnIgPSBVTktOT1dOX0VSUk9SO1xuICAgIGVyci5kYXRhID0gZGF0YTtcbiAgfVxuXG4gIGlmICgnZXJyb3InIGluIGVyciAmJiBlcnIuZXJyb3IgPT09ICdjb25mbGljdCcpIHtcbiAgICBlcnIubmFtZSA9ICdjb25mbGljdCc7XG4gICAgZXJyLnN0YXR1cyA9IDQwOTtcbiAgfVxuXG4gIGlmICghKCduYW1lJyBpbiBlcnIpKSB7XG4gICAgZXJyLm5hbWUgPSBlcnIuZXJyb3IgfHwgJ3Vua25vd24nO1xuICB9XG5cbiAgaWYgKCEoJ3N0YXR1cycgaW4gZXJyKSkge1xuICAgIGVyci5zdGF0dXMgPSA1MDA7XG4gIH1cblxuICBpZiAoISgnbWVzc2FnZScgaW4gZXJyKSkge1xuICAgIGVyci5tZXNzYWdlID0gZXJyLm1lc3NhZ2UgfHwgZXJyLnJlYXNvbjtcbiAgfVxuXG4gIGlmICghKCdzdGFjaycgaW4gZXJyKSkge1xuICAgIGVyci5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG4gIH1cblxuICByZXR1cm4gZXJyO1xufVxuXG5mdW5jdGlvbiB0cnlGaWx0ZXIoZmlsdGVyLCBkb2MsIHJlcSkge1xuICB0cnkge1xuICAgIHJldHVybiAhZmlsdGVyKGRvYywgcmVxKTtcbiAgfSBjYXRjaCAoZXJyKSB7XG4gICAgdmFyIG1zZyA9ICdGaWx0ZXIgZnVuY3Rpb24gdGhyZXc6ICcgKyBlcnIudG9TdHJpbmcoKTtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIG1zZyk7XG4gIH1cbn1cblxuZnVuY3Rpb24gZmlsdGVyQ2hhbmdlKG9wdHMpIHtcbiAgdmFyIHJlcSA9IHt9O1xuICB2YXIgaGFzRmlsdGVyID0gb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nO1xuICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcblxuICByZXR1cm4gZnVuY3Rpb24gZmlsdGVyKGNoYW5nZSkge1xuICAgIGlmICghY2hhbmdlLmRvYykge1xuICAgICAgLy8gQ1NHIHNlbmRzIGV2ZW50cyBvbiB0aGUgY2hhbmdlcyBmZWVkIHRoYXQgZG9uJ3QgaGF2ZSBkb2N1bWVudHMsXG4gICAgICAvLyB0aGlzIGhhY2sgbWFrZXMgYSB3aG9sZSBsb3Qgb2YgZXhpc3RpbmcgY29kZSByb2J1c3QuXG4gICAgICBjaGFuZ2UuZG9jID0ge307XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlclJldHVybiA9IGhhc0ZpbHRlciAmJiB0cnlGaWx0ZXIob3B0cy5maWx0ZXIsIGNoYW5nZS5kb2MsIHJlcSk7XG5cbiAgICBpZiAodHlwZW9mIGZpbHRlclJldHVybiA9PT0gJ29iamVjdCcpIHtcbiAgICAgIHJldHVybiBmaWx0ZXJSZXR1cm47XG4gICAgfVxuXG4gICAgaWYgKGZpbHRlclJldHVybikge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIGlmICghb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGRlbGV0ZSBjaGFuZ2UuZG9jO1xuICAgIH0gZWxzZSBpZiAoIW9wdHMuYXR0YWNobWVudHMpIHtcbiAgICAgIGZvciAodmFyIGF0dCBpbiBjaGFuZ2UuZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGNoYW5nZS5kb2MuX2F0dGFjaG1lbnRzLCBhdHQpKSB7XG4gICAgICAgICAgY2hhbmdlLmRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmxhdHRlbihhcnJzKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGFycnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICByZXMgPSByZXMuY29uY2F0KGFycnNbaV0pO1xuICB9XG4gIHJldHVybiByZXM7XG59XG5cbi8vIHNoaW0gZm9yIEZ1bmN0aW9uLnByb3RvdHlwZS5uYW1lLFxuXG4vLyBEZXRlcm1pbmUgaWQgYW4gSUQgaXMgdmFsaWRcbi8vICAgLSBpbnZhbGlkIElEcyBiZWdpbiB3aXRoIGFuIHVuZGVyZXNjb3JlIHRoYXQgZG9lcyBub3QgYmVnaW4gJ19kZXNpZ24nIG9yXG4vLyAgICAgJ19sb2NhbCdcbi8vICAgLSBhbnkgb3RoZXIgc3RyaW5nIHZhbHVlIGlzIGEgdmFsaWQgaWRcbi8vIFJldHVybnMgdGhlIHNwZWNpZmljIGVycm9yIG9iamVjdCBmb3IgZWFjaCBjYXNlXG5mdW5jdGlvbiBpbnZhbGlkSWRFcnJvcihpZCkge1xuICB2YXIgZXJyO1xuICBpZiAoIWlkKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19JRCk7XG4gIH0gZWxzZSBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIGVyciA9IGNyZWF0ZUVycm9yKElOVkFMSURfSUQpO1xuICB9IGVsc2UgaWYgKC9eXy8udGVzdChpZCkgJiYgISgvXl8oZGVzaWdufGxvY2FsKS8pLnRlc3QoaWQpKSB7XG4gICAgZXJyID0gY3JlYXRlRXJyb3IoUkVTRVJWRURfSUQpO1xuICB9XG4gIGlmIChlcnIpIHtcbiAgICB0aHJvdyBlcnI7XG4gIH1cbn1cblxuLy8gQ2hlY2tzIGlmIGEgUG91Y2hEQiBvYmplY3QgaXMgXCJyZW1vdGVcIiBvciBub3QuIFRoaXMgaXNcblxuZnVuY3Rpb24gaXNSZW1vdGUoZGIpIHtcbiAgaWYgKHR5cGVvZiBkYi5fcmVtb3RlID09PSAnYm9vbGVhbicpIHtcbiAgICByZXR1cm4gZGIuX3JlbW90ZTtcbiAgfVxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBpZiAodHlwZW9mIGRiLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnd2FybicsXG4gICAgICAnZGIudHlwZSgpIGlzIGRlcHJlY2F0ZWQgYW5kIHdpbGwgYmUgcmVtb3ZlZCBpbiAnICtcbiAgICAgICdhIGZ1dHVyZSB2ZXJzaW9uIG9mIFBvdWNoREInKTtcbiAgICByZXR1cm4gZGIudHlwZSgpID09PSAnaHR0cCc7XG4gIH1cbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgcmV0dXJuIGZhbHNlO1xufVxuXG5mdW5jdGlvbiBsaXN0ZW5lckNvdW50KGVlLCB0eXBlKSB7XG4gIHJldHVybiAnbGlzdGVuZXJDb3VudCcgaW4gZWUgPyBlZS5saXN0ZW5lckNvdW50KHR5cGUpIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIEVFLmxpc3RlbmVyQ291bnQoZWUsIHR5cGUpO1xufVxuXG5mdW5jdGlvbiBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKSB7XG4gIGlmICghcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBwYXJ0cyA9IHMuc3BsaXQoJy8nKTtcbiAgaWYgKHBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgIHJldHVybiBwYXJ0cztcbiAgfVxuICBpZiAocGFydHMubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIFtzLCBzXTtcbiAgfVxuICByZXR1cm4gbnVsbDtcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKHMpIHtcbiAgdmFyIG5vcm1hbGl6ZWQgPSBwYXJzZURlc2lnbkRvY0Z1bmN0aW9uTmFtZShzKTtcbiAgcmV0dXJuIG5vcm1hbGl6ZWQgPyBub3JtYWxpemVkLmpvaW4oJy8nKSA6IG51bGw7XG59XG5cbi8vIG9yaWdpbmFsbHkgcGFyc2VVcmkgMS4yLjIsIG5vdyBwYXRjaGVkIGJ5IHVzXG4vLyAoYykgU3RldmVuIExldml0aGFuIDxzdGV2ZW5sZXZpdGhhbi5jb20+XG4vLyBNSVQgTGljZW5zZVxudmFyIGtleXMgPSBbXCJzb3VyY2VcIiwgXCJwcm90b2NvbFwiLCBcImF1dGhvcml0eVwiLCBcInVzZXJJbmZvXCIsIFwidXNlclwiLCBcInBhc3N3b3JkXCIsXG4gICAgXCJob3N0XCIsIFwicG9ydFwiLCBcInJlbGF0aXZlXCIsIFwicGF0aFwiLCBcImRpcmVjdG9yeVwiLCBcImZpbGVcIiwgXCJxdWVyeVwiLCBcImFuY2hvclwiXTtcbnZhciBxTmFtZSA9XCJxdWVyeUtleVwiO1xudmFyIHFQYXJzZXIgPSAvKD86XnwmKShbXiY9XSopPT8oW14mXSopL2c7XG5cbi8vIHVzZSB0aGUgXCJsb29zZVwiIHBhcnNlclxuLyogZXNsaW50IG5vLXVzZWxlc3MtZXNjYXBlOiAwICovXG52YXIgcGFyc2VyID0gL14oPzooPyFbXjpAXSs6W146QFxcL10qQCkoW146XFwvPyMuXSspOik/KD86XFwvXFwvKT8oKD86KChbXjpAXSopKD86OihbXjpAXSopKT8pP0ApPyhbXjpcXC8/I10qKSg/OjooXFxkKikpPykoKChcXC8oPzpbXj8jXSg/IVtePyNcXC9dKlxcLltePyNcXC8uXSsoPzpbPyNdfCQpKSkqXFwvPyk/KFtePyNcXC9dKikpKD86XFw/KFteI10qKSk/KD86IyguKikpPykvO1xuXG5mdW5jdGlvbiBwYXJzZVVyaShzdHIpIHtcbiAgdmFyIG0gPSBwYXJzZXIuZXhlYyhzdHIpO1xuICB2YXIgdXJpID0ge307XG4gIHZhciBpID0gMTQ7XG5cbiAgd2hpbGUgKGktLSkge1xuICAgIHZhciBrZXkgPSBrZXlzW2ldO1xuICAgIHZhciB2YWx1ZSA9IG1baV0gfHwgXCJcIjtcbiAgICB2YXIgZW5jb2RlZCA9IFsndXNlcicsICdwYXNzd29yZCddLmluZGV4T2Yoa2V5KSAhPT0gLTE7XG4gICAgdXJpW2tleV0gPSBlbmNvZGVkID8gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xuICB9XG5cbiAgdXJpW3FOYW1lXSA9IHt9O1xuICB1cmlba2V5c1sxMl1dLnJlcGxhY2UocVBhcnNlciwgZnVuY3Rpb24gKCQwLCAkMSwgJDIpIHtcbiAgICBpZiAoJDEpIHtcbiAgICAgIHVyaVtxTmFtZV1bJDFdID0gJDI7XG4gICAgfVxuICB9KTtcblxuICByZXR1cm4gdXJpO1xufVxuXG4vLyBCYXNlZCBvbiBodHRwczovL2dpdGh1Yi5jb20vYWxleGRhdmlkL3Njb3BlLWV2YWwgdjAuMC4zXG4vLyAoc291cmNlOiBodHRwczovL3VucGtnLmNvbS9zY29wZS1ldmFsQDAuMC4zL3Njb3BlX2V2YWwuanMpXG4vLyBUaGlzIGlzIGJhc2ljYWxseSBqdXN0IGEgd3JhcHBlciBhcm91bmQgbmV3IEZ1bmN0aW9uKClcblxuZnVuY3Rpb24gc2NvcGVFdmFsKHNvdXJjZSwgc2NvcGUpIHtcbiAgdmFyIGtleXMgPSBbXTtcbiAgdmFyIHZhbHVlcyA9IFtdO1xuICBmb3IgKHZhciBrZXkgaW4gc2NvcGUpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNjb3BlLCBrZXkpKSB7XG4gICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgIHZhbHVlcy5wdXNoKHNjb3BlW2tleV0pO1xuICAgIH1cbiAgfVxuICBrZXlzLnB1c2goc291cmNlKTtcbiAgcmV0dXJuIEZ1bmN0aW9uLmFwcGx5KG51bGwsIGtleXMpLmFwcGx5KG51bGwsIHZhbHVlcyk7XG59XG5cbi8vIHRoaXMgaXMgZXNzZW50aWFsbHkgdGhlIFwidXBkYXRlIHN1Z2FyXCIgZnVuY3Rpb24gZnJvbSBkYWxlaGFydmV5L3BvdWNoZGIjMTM4OFxuLy8gdGhlIGRpZmZGdW4gdGVsbHMgdXMgd2hhdCBkZWx0YSB0byBhcHBseSB0byB0aGUgZG9jLiAgaXQgZWl0aGVyIHJldHVybnNcbi8vIHRoZSBkb2MsIG9yIGZhbHNlIGlmIGl0IGRvZXNuJ3QgbmVlZCB0byBkbyBhbiB1cGRhdGUgYWZ0ZXIgYWxsXG5mdW5jdGlvbiB1cHNlcnQoZGIsIGRvY0lkLCBkaWZmRnVuKSB7XG4gIHJldHVybiBkYi5nZXQoZG9jSWQpXG4gICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7fTtcbiAgICB9KVxuICAgIC50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIC8vIHRoZSB1c2VyIG1pZ2h0IGNoYW5nZSB0aGUgX3Jldiwgc28gc2F2ZSBpdCBmb3IgcG9zdGVyaXR5XG4gICAgICB2YXIgZG9jUmV2ID0gZG9jLl9yZXY7XG4gICAgICB2YXIgbmV3RG9jID0gZGlmZkZ1bihkb2MpO1xuXG4gICAgICBpZiAoIW5ld0RvYykge1xuICAgICAgICAvLyBpZiB0aGUgZGlmZkZ1biByZXR1cm5zIGZhbHN5LCB3ZSBzaG9ydC1jaXJjdWl0IGFzXG4gICAgICAgIC8vIGFuIG9wdGltaXphdGlvblxuICAgICAgICByZXR1cm4ge3VwZGF0ZWQ6IGZhbHNlLCByZXY6IGRvY1Jldn07XG4gICAgICB9XG5cbiAgICAgIC8vIHVzZXJzIGFyZW4ndCBhbGxvd2VkIHRvIG1vZGlmeSB0aGVzZSB2YWx1ZXMsXG4gICAgICAvLyBzbyByZXNldCB0aGVtIGhlcmVcbiAgICAgIG5ld0RvYy5faWQgPSBkb2NJZDtcbiAgICAgIG5ld0RvYy5fcmV2ID0gZG9jUmV2O1xuICAgICAgcmV0dXJuIHRyeUFuZFB1dChkYiwgbmV3RG9jLCBkaWZmRnVuKTtcbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gdHJ5QW5kUHV0KGRiLCBkb2MsIGRpZmZGdW4pIHtcbiAgcmV0dXJuIGRiLnB1dChkb2MpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHJldHVybiB7XG4gICAgICB1cGRhdGVkOiB0cnVlLFxuICAgICAgcmV2OiByZXMucmV2XG4gICAgfTtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwOSkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KGRiLCBkb2MuX2lkLCBkaWZmRnVuKTtcbiAgfSk7XG59XG5cbnZhciB0aGlzQXRvYiA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGF0b2Ioc3RyKTtcbn07XG5cbnZhciB0aGlzQnRvYSA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgcmV0dXJuIGJ0b2Eoc3RyKTtcbn07XG5cbi8vIEFic3RyYWN0cyBjb25zdHJ1Y3RpbmcgYSBCbG9iIG9iamVjdCwgc28gaXQgYWxzbyB3b3JrcyBpbiBvbGRlclxuLy8gYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IHRoZSBuYXRpdmUgQmxvYiBjb25zdHJ1Y3RvciAoZS5nLlxuLy8gb2xkIFF0V2ViS2l0IHZlcnNpb25zLCBBbmRyb2lkIDwgNC40KS5cbmZ1bmN0aW9uIGNyZWF0ZUJsb2IocGFydHMsIHByb3BlcnRpZXMpIHtcbiAgLyogZ2xvYmFsIEJsb2JCdWlsZGVyLE1TQmxvYkJ1aWxkZXIsTW96QmxvYkJ1aWxkZXIsV2ViS2l0QmxvYkJ1aWxkZXIgKi9cbiAgcGFydHMgPSBwYXJ0cyB8fCBbXTtcbiAgcHJvcGVydGllcyA9IHByb3BlcnRpZXMgfHwge307XG4gIHRyeSB7XG4gICAgcmV0dXJuIG5ldyBCbG9iKHBhcnRzLCBwcm9wZXJ0aWVzKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGlmIChlLm5hbWUgIT09IFwiVHlwZUVycm9yXCIpIHtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHZhciBCdWlsZGVyID0gdHlwZW9mIEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IEJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIHR5cGVvZiBNU0Jsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1TQmxvYkJ1aWxkZXIgOlxuICAgICAgICAgICAgICAgICAgdHlwZW9mIE1vekJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJyA/IE1vekJsb2JCdWlsZGVyIDpcbiAgICAgICAgICAgICAgICAgIFdlYktpdEJsb2JCdWlsZGVyO1xuICAgIHZhciBidWlsZGVyID0gbmV3IEJ1aWxkZXIoKTtcbiAgICBmb3IgKHZhciBpID0gMDsgaSA8IHBhcnRzLmxlbmd0aDsgaSArPSAxKSB7XG4gICAgICBidWlsZGVyLmFwcGVuZChwYXJ0c1tpXSk7XG4gICAgfVxuICAgIHJldHVybiBidWlsZGVyLmdldEJsb2IocHJvcGVydGllcy50eXBlKTtcbiAgfVxufVxuXG4vLyBGcm9tIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMTQ5Njc2NDcvIChjb250aW51ZXMgb24gbmV4dCBsaW5lKVxuLy8gZW5jb2RlLWRlY29kZS1pbWFnZS13aXRoLWJhc2U2NC1icmVha3MtaW1hZ2UgKDIwMTMtMDQtMjEpXG5mdW5jdGlvbiBiaW5hcnlTdHJpbmdUb0FycmF5QnVmZmVyKGJpbikge1xuICB2YXIgbGVuZ3RoID0gYmluLmxlbmd0aDtcbiAgdmFyIGJ1ZiA9IG5ldyBBcnJheUJ1ZmZlcihsZW5ndGgpO1xuICB2YXIgYXJyID0gbmV3IFVpbnQ4QXJyYXkoYnVmKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgIGFycltpXSA9IGJpbi5jaGFyQ29kZUF0KGkpO1xuICB9XG4gIHJldHVybiBidWY7XG59XG5cbmZ1bmN0aW9uIGJpblN0cmluZ1RvQmx1ZmZlcihiaW5TdHJpbmcsIHR5cGUpIHtcbiAgcmV0dXJuIGNyZWF0ZUJsb2IoW2JpbmFyeVN0cmluZ1RvQXJyYXlCdWZmZXIoYmluU3RyaW5nKV0sIHt0eXBlOiB0eXBlfSk7XG59XG5cbmZ1bmN0aW9uIGI2NFRvQmx1ZmZlcihiNjQsIHR5cGUpIHtcbiAgcmV0dXJuIGJpblN0cmluZ1RvQmx1ZmZlcih0aGlzQXRvYihiNjQpLCB0eXBlKTtcbn1cblxuLy9DYW4ndCBmaW5kIG9yaWdpbmFsIHBvc3QsIGJ1dCB0aGlzIGlzIGNsb3NlXG4vL2h0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvNjk2NTEwNy8gKGNvbnRpbnVlcyBvbiBuZXh0IGxpbmUpXG4vL2NvbnZlcnRpbmctYmV0d2Vlbi1zdHJpbmdzLWFuZC1hcnJheWJ1ZmZlcnNcbmZ1bmN0aW9uIGFycmF5QnVmZmVyVG9CaW5hcnlTdHJpbmcoYnVmZmVyKSB7XG4gIHZhciBiaW5hcnkgPSAnJztcbiAgdmFyIGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKTtcbiAgdmFyIGxlbmd0aCA9IGJ5dGVzLmJ5dGVMZW5ndGg7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICBiaW5hcnkgKz0gU3RyaW5nLmZyb21DaGFyQ29kZShieXRlc1tpXSk7XG4gIH1cbiAgcmV0dXJuIGJpbmFyeTtcbn1cblxuLy8gc2hpbSBmb3IgYnJvd3NlcnMgdGhhdCBkb24ndCBzdXBwb3J0IGl0XG5mdW5jdGlvbiByZWFkQXNCaW5hcnlTdHJpbmcoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHZhciBoYXNCaW5hcnlTdHJpbmcgPSB0eXBlb2YgcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyA9PT0gJ2Z1bmN0aW9uJztcbiAgcmVhZGVyLm9ubG9hZGVuZCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgdmFyIHJlc3VsdCA9IGUudGFyZ2V0LnJlc3VsdCB8fCAnJztcbiAgICBpZiAoaGFzQmluYXJ5U3RyaW5nKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2socmVzdWx0KTtcbiAgICB9XG4gICAgY2FsbGJhY2soYXJyYXlCdWZmZXJUb0JpbmFyeVN0cmluZyhyZXN1bHQpKTtcbiAgfTtcbiAgaWYgKGhhc0JpbmFyeVN0cmluZykge1xuICAgIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoYmxvYik7XG4gIH0gZWxzZSB7XG4gICAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGJsb2JUb0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGNhbGxiYWNrKSB7XG4gIHJlYWRBc0JpbmFyeVN0cmluZyhibG9iT3JCdWZmZXIsIGZ1bmN0aW9uIChiaW4pIHtcbiAgICBjYWxsYmFjayhiaW4pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYmxvYlRvQmFzZTY0KGJsb2JPckJ1ZmZlciwgY2FsbGJhY2spIHtcbiAgYmxvYlRvQmluYXJ5U3RyaW5nKGJsb2JPckJ1ZmZlciwgZnVuY3Rpb24gKGJhc2U2NCkge1xuICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJhc2U2NCkpO1xuICB9KTtcbn1cblxuLy8gc2ltcGxpZmllZCBBUEkuIHVuaXZlcnNhbCBicm93c2VyIHN1cHBvcnQgaXMgYXNzdW1lZFxuZnVuY3Rpb24gcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgY2FsbGJhY2spIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gIHJlYWRlci5vbmxvYWRlbmQgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciByZXN1bHQgPSBlLnRhcmdldC5yZXN1bHQgfHwgbmV3IEFycmF5QnVmZmVyKDApO1xuICAgIGNhbGxiYWNrKHJlc3VsdCk7XG4gIH07XG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcbn1cblxuLy8gdGhpcyBpcyBub3QgdXNlZCBpbiB0aGUgYnJvd3NlclxuXG52YXIgc2V0SW1tZWRpYXRlU2hpbSA9IHNlbGYuc2V0SW1tZWRpYXRlIHx8IHNlbGYuc2V0VGltZW91dDtcbnZhciBNRDVfQ0hVTktfU0laRSA9IDMyNzY4O1xuXG5mdW5jdGlvbiByYXdUb0Jhc2U2NChyYXcpIHtcbiAgcmV0dXJuIHRoaXNCdG9hKHJhdyk7XG59XG5cbmZ1bmN0aW9uIHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKSB7XG4gIGlmIChibG9iLndlYmtpdFNsaWNlKSB7XG4gICAgcmV0dXJuIGJsb2Iud2Via2l0U2xpY2Uoc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmV0dXJuIGJsb2Iuc2xpY2Uoc3RhcnQsIGVuZCk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZEJsb2IoYnVmZmVyLCBibG9iLCBzdGFydCwgZW5kLCBjYWxsYmFjaykge1xuICBpZiAoc3RhcnQgPiAwIHx8IGVuZCA8IGJsb2Iuc2l6ZSkge1xuICAgIC8vIG9ubHkgc2xpY2UgYmxvYiBpZiB3ZSByZWFsbHkgbmVlZCB0b1xuICAgIGJsb2IgPSBzbGljZUJsb2IoYmxvYiwgc3RhcnQsIGVuZCk7XG4gIH1cbiAgcmVhZEFzQXJyYXlCdWZmZXIoYmxvYiwgZnVuY3Rpb24gKGFycmF5QnVmZmVyKSB7XG4gICAgYnVmZmVyLmFwcGVuZChhcnJheUJ1ZmZlcik7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFwcGVuZFN0cmluZyhidWZmZXIsIHN0cmluZywgc3RhcnQsIGVuZCwgY2FsbGJhY2spIHtcbiAgaWYgKHN0YXJ0ID4gMCB8fCBlbmQgPCBzdHJpbmcubGVuZ3RoKSB7XG4gICAgLy8gb25seSBjcmVhdGUgYSBzdWJzdHJpbmcgaWYgd2UgcmVhbGx5IG5lZWQgdG9cbiAgICBzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBlbmQpO1xuICB9XG4gIGJ1ZmZlci5hcHBlbmRCaW5hcnkoc3RyaW5nKTtcbiAgY2FsbGJhY2soKTtcbn1cblxuZnVuY3Rpb24gYmluYXJ5TWQ1KGRhdGEsIGNhbGxiYWNrKSB7XG4gIHZhciBpbnB1dElzU3RyaW5nID0gdHlwZW9mIGRhdGEgPT09ICdzdHJpbmcnO1xuICB2YXIgbGVuID0gaW5wdXRJc1N0cmluZyA/IGRhdGEubGVuZ3RoIDogZGF0YS5zaXplO1xuICB2YXIgY2h1bmtTaXplID0gTWF0aC5taW4oTUQ1X0NIVU5LX1NJWkUsIGxlbik7XG4gIHZhciBjaHVua3MgPSBNYXRoLmNlaWwobGVuIC8gY2h1bmtTaXplKTtcbiAgdmFyIGN1cnJlbnRDaHVuayA9IDA7XG4gIHZhciBidWZmZXIgPSBpbnB1dElzU3RyaW5nID8gbmV3IE1kNSgpIDogbmV3IE1kNS5BcnJheUJ1ZmZlcigpO1xuXG4gIHZhciBhcHBlbmQgPSBpbnB1dElzU3RyaW5nID8gYXBwZW5kU3RyaW5nIDogYXBwZW5kQmxvYjtcblxuICBmdW5jdGlvbiBuZXh0KCkge1xuICAgIHNldEltbWVkaWF0ZVNoaW0obG9hZE5leHRDaHVuayk7XG4gIH1cblxuICBmdW5jdGlvbiBkb25lKCkge1xuICAgIHZhciByYXcgPSBidWZmZXIuZW5kKHRydWUpO1xuICAgIHZhciBiYXNlNjQgPSByYXdUb0Jhc2U2NChyYXcpO1xuICAgIGNhbGxiYWNrKGJhc2U2NCk7XG4gICAgYnVmZmVyLmRlc3Ryb3koKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGxvYWROZXh0Q2h1bmsoKSB7XG4gICAgdmFyIHN0YXJ0ID0gY3VycmVudENodW5rICogY2h1bmtTaXplO1xuICAgIHZhciBlbmQgPSBzdGFydCArIGNodW5rU2l6ZTtcbiAgICBjdXJyZW50Q2h1bmsrKztcbiAgICBpZiAoY3VycmVudENodW5rIDwgY2h1bmtzKSB7XG4gICAgICBhcHBlbmQoYnVmZmVyLCBkYXRhLCBzdGFydCwgZW5kLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgYXBwZW5kKGJ1ZmZlciwgZGF0YSwgc3RhcnQsIGVuZCwgZG9uZSk7XG4gICAgfVxuICB9XG4gIGxvYWROZXh0Q2h1bmsoKTtcbn1cblxuZnVuY3Rpb24gc3RyaW5nTWQ1KHN0cmluZykge1xuICByZXR1cm4gTWQ1Lmhhc2goc3RyaW5nKTtcbn1cblxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHJldmlzaW9uIHN0cmluZyB0aGF0IGRvZXMgTk9UIGluY2x1ZGUgdGhlIHJldmlzaW9uIGhlaWdodFxuICogRm9yIGV4YW1wbGUgJzU2NjQ5ZjFiMDUwNmM2Y2E5ZmRhMDc0NmViMGNhY2RmJ1xuICovXG5mdW5jdGlvbiByZXYkJDEoZG9jLCBkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgaWYgKCFkZXRlcm1pbmlzdGljX3JldnMpIHtcbiAgICByZXR1cm4gdjQoKS5yZXBsYWNlKC8tL2csICcnKS50b0xvd2VyQ2FzZSgpO1xuICB9XG5cbiAgdmFyIG11dGF0ZWFibGVEb2MgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIGRvYyk7XG4gIGRlbGV0ZSBtdXRhdGVhYmxlRG9jLl9yZXZfdHJlZTtcbiAgcmV0dXJuIHN0cmluZ01kNShKU09OLnN0cmluZ2lmeShtdXRhdGVhYmxlRG9jKSk7XG59XG5cbnZhciB1dWlkID0gdjQ7IC8vIG1pbWljIG9sZCBpbXBvcnQsIG9ubHkgdjQgaXMgZXZlciB1c2VkIGVsc2V3aGVyZVxuXG4vLyBXZSBmZXRjaCBhbGwgbGVhZnMgb2YgdGhlIHJldmlzaW9uIHRyZWUsIGFuZCBzb3J0IHRoZW0gYmFzZWQgb24gdHJlZSBsZW5ndGhcbi8vIGFuZCB3aGV0aGVyIHRoZXkgd2VyZSBkZWxldGVkLCB1bmRlbGV0ZWQgZG9jdW1lbnRzIHdpdGggdGhlIGxvbmdlc3QgcmV2aXNpb25cbi8vIHRyZWUgKG1vc3QgZWRpdHMpIHdpblxuLy8gVGhlIGZpbmFsIHNvcnQgYWxnb3JpdGhtIGlzIHNsaWdodGx5IGRvY3VtZW50ZWQgaW4gYSBzaWRlYmFyIGhlcmU6XG4vLyBodHRwOi8vZ3VpZGUuY291Y2hkYi5vcmcvZHJhZnQvY29uZmxpY3RzLmh0bWxcbmZ1bmN0aW9uIHdpbm5pbmdSZXYobWV0YWRhdGEpIHtcbiAgdmFyIHdpbm5pbmdJZDtcbiAgdmFyIHdpbm5pbmdQb3M7XG4gIHZhciB3aW5uaW5nRGVsZXRlZDtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIHBvcyA9IG5vZGUucG9zO1xuICAgIGlmIChicmFuY2hlcy5sZW5ndGgpIHsgLy8gbm9uLWxlYWZcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW4gPSBicmFuY2hlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB0b1Zpc2l0LnB1c2goe3BvczogcG9zICsgMSwgaWRzOiBicmFuY2hlc1tpXX0pO1xuICAgICAgfVxuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIHZhciBkZWxldGVkID0gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgdmFyIGlkID0gdHJlZVswXTtcbiAgICAvLyBzb3J0IGJ5IGRlbGV0ZWQsIHRoZW4gcG9zLCB0aGVuIGlkXG4gICAgaWYgKCF3aW5uaW5nSWQgfHwgKHdpbm5pbmdEZWxldGVkICE9PSBkZWxldGVkID8gd2lubmluZ0RlbGV0ZWQgOlxuICAgICAgICB3aW5uaW5nUG9zICE9PSBwb3MgPyB3aW5uaW5nUG9zIDwgcG9zIDogd2lubmluZ0lkIDwgaWQpKSB7XG4gICAgICB3aW5uaW5nSWQgPSBpZDtcbiAgICAgIHdpbm5pbmdQb3MgPSBwb3M7XG4gICAgICB3aW5uaW5nRGVsZXRlZCA9IGRlbGV0ZWQ7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHdpbm5pbmdQb3MgKyAnLScgKyB3aW5uaW5nSWQ7XG59XG5cbi8vIFByZXR0eSBtdWNoIGFsbCBiZWxvdyBjYW4gYmUgY29tYmluZWQgaW50byBhIGhpZ2hlciBvcmRlciBmdW5jdGlvbiB0b1xuLy8gdHJhdmVyc2UgcmV2aXNpb25zXG4vLyBUaGUgcmV0dXJuIHZhbHVlIGZyb20gdGhlIGNhbGxiYWNrIHdpbGwgYmUgcGFzc2VkIGFzIGNvbnRleHQgdG8gYWxsXG4vLyBjaGlsZHJlbiBvZiB0aGF0IG5vZGVcbmZ1bmN0aW9uIHRyYXZlcnNlUmV2VHJlZShyZXZzLCBjYWxsYmFjaykge1xuICB2YXIgdG9WaXNpdCA9IHJldnMuc2xpY2UoKTtcblxuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBuZXdDdHggPVxuICAgICAgY2FsbGJhY2soYnJhbmNoZXMubGVuZ3RoID09PSAwLCBwb3MsIHRyZWVbMF0sIG5vZGUuY3R4LCB0cmVlWzFdKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBjdHg6IG5ld0N0eH0pO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBzb3J0QnlQb3MoYSwgYikge1xuICByZXR1cm4gYS5wb3MgLSBiLnBvcztcbn1cblxuZnVuY3Rpb24gY29sbGVjdExlYXZlcyhyZXZzKSB7XG4gIHZhciBsZWF2ZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIGFjYywgb3B0cykge1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIGxlYXZlcy5wdXNoKHtyZXY6IHBvcyArIFwiLVwiICsgaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG4gICAgfVxuICB9KTtcbiAgbGVhdmVzLnNvcnQoc29ydEJ5UG9zKS5yZXZlcnNlKCk7XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBkZWxldGUgbGVhdmVzW2ldLnBvcztcbiAgfVxuICByZXR1cm4gbGVhdmVzO1xufVxuXG4vLyByZXR1cm5zIHJldnMgb2YgYWxsIGNvbmZsaWN0cyB0aGF0IGlzIGxlYXZlcyBzdWNoIHRoYXRcbi8vIDEuIGFyZSBub3QgZGVsZXRlZCBhbmRcbi8vIDIuIGFyZSBkaWZmZXJlbnQgdGhhbiB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKSB7XG4gIHZhciB3aW4gPSB3aW5uaW5nUmV2KG1ldGFkYXRhKTtcbiAgdmFyIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMobWV0YWRhdGEucmV2X3RyZWUpO1xuICB2YXIgY29uZmxpY3RzID0gW107XG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBsZWF2ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgbGVhZiA9IGxlYXZlc1tpXTtcbiAgICBpZiAobGVhZi5yZXYgIT09IHdpbiAmJiAhbGVhZi5vcHRzLmRlbGV0ZWQpIHtcbiAgICAgIGNvbmZsaWN0cy5wdXNoKGxlYWYucmV2KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvbmZsaWN0cztcbn1cblxuLy8gY29tcGFjdCBhIHRyZWUgYnkgbWFya2luZyBpdHMgbm9uLWxlYWZzIGFzIG1pc3NpbmcsXG4vLyBhbmQgcmV0dXJuIGEgbGlzdCBvZiByZXZzIHRvIGRlbGV0ZVxuZnVuY3Rpb24gY29tcGFjdFRyZWUobWV0YWRhdGEpIHtcbiAgdmFyIHJldnMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldkhhc2gsIGN0eCwgb3B0cykge1xuICAgIGlmIChvcHRzLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScgJiYgIWlzTGVhZikge1xuICAgICAgcmV2cy5wdXNoKHBvcyArICctJyArIHJldkhhc2gpO1xuICAgICAgb3B0cy5zdGF0dXMgPSAnbWlzc2luZyc7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJldnM7XG59XG5cbi8vIGJ1aWxkIHVwIGEgbGlzdCBvZiBhbGwgdGhlIHBhdGhzIHRvIHRoZSBsZWFmcyBpbiB0aGlzIHJldmlzaW9uIHRyZWVcbmZ1bmN0aW9uIHJvb3RUb0xlYWYocmV2cykge1xuICB2YXIgcGF0aHMgPSBbXTtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBub2RlO1xuICB3aGlsZSAoKG5vZGUgPSB0b1Zpc2l0LnBvcCgpKSkge1xuICAgIHZhciBwb3MgPSBub2RlLnBvcztcbiAgICB2YXIgdHJlZSA9IG5vZGUuaWRzO1xuICAgIHZhciBpZCA9IHRyZWVbMF07XG4gICAgdmFyIG9wdHMgPSB0cmVlWzFdO1xuICAgIHZhciBicmFuY2hlcyA9IHRyZWVbMl07XG4gICAgdmFyIGlzTGVhZiA9IGJyYW5jaGVzLmxlbmd0aCA9PT0gMDtcblxuICAgIHZhciBoaXN0b3J5ID0gbm9kZS5oaXN0b3J5ID8gbm9kZS5oaXN0b3J5LnNsaWNlKCkgOiBbXTtcbiAgICBoaXN0b3J5LnB1c2goe2lkOiBpZCwgb3B0czogb3B0c30pO1xuICAgIGlmIChpc0xlYWYpIHtcbiAgICAgIHBhdGhzLnB1c2goe3BvczogKHBvcyArIDEgLSBoaXN0b3J5Lmxlbmd0aCksIGlkczogaGlzdG9yeX0pO1xuICAgIH1cbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYnJhbmNoZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIHRvVmlzaXQucHVzaCh7cG9zOiBwb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldLCBoaXN0b3J5OiBoaXN0b3J5fSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBwYXRocy5yZXZlcnNlKCk7XG59XG5cbi8vIGZvciBhIGJldHRlciBvdmVydmlldyBvZiB3aGF0IHRoaXMgaXMgZG9pbmcsIHJlYWQ6XG5cbmZ1bmN0aW9uIHNvcnRCeVBvcyQxKGEsIGIpIHtcbiAgcmV0dXJuIGEucG9zIC0gYi5wb3M7XG59XG5cbi8vIGNsYXNzaWMgYmluYXJ5IHNlYXJjaFxuZnVuY3Rpb24gYmluYXJ5U2VhcmNoKGFyciwgaXRlbSwgY29tcGFyYXRvcikge1xuICB2YXIgbG93ID0gMDtcbiAgdmFyIGhpZ2ggPSBhcnIubGVuZ3RoO1xuICB2YXIgbWlkO1xuICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICBpZiAoY29tcGFyYXRvcihhcnJbbWlkXSwgaXRlbSkgPCAwKSB7XG4gICAgICBsb3cgPSBtaWQgKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBoaWdoID0gbWlkO1xuICAgIH1cbiAgfVxuICByZXR1cm4gbG93O1xufVxuXG4vLyBhc3N1bWluZyB0aGUgYXJyIGlzIHNvcnRlZCwgaW5zZXJ0IHRoZSBpdGVtIGluIHRoZSBwcm9wZXIgcGxhY2VcbmZ1bmN0aW9uIGluc2VydFNvcnRlZChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpIHtcbiAgdmFyIGlkeCA9IGJpbmFyeVNlYXJjaChhcnIsIGl0ZW0sIGNvbXBhcmF0b3IpO1xuICBhcnIuc3BsaWNlKGlkeCwgMCwgaXRlbSk7XG59XG5cbi8vIFR1cm4gYSBwYXRoIGFzIGEgZmxhdCBhcnJheSBpbnRvIGEgdHJlZSB3aXRoIGEgc2luZ2xlIGJyYW5jaC5cbi8vIElmIGFueSBzaG91bGQgYmUgc3RlbW1lZCBmcm9tIHRoZSBiZWdpbm5pbmcgb2YgdGhlIGFycmF5LCB0aGF0J3MgcGFzc2VkXG4vLyBpbiBhcyB0aGUgc2Vjb25kIGFyZ3VtZW50XG5mdW5jdGlvbiBwYXRoVG9UcmVlKHBhdGgsIG51bVN0ZW1tZWQpIHtcbiAgdmFyIHJvb3Q7XG4gIHZhciBsZWFmO1xuICBmb3IgKHZhciBpID0gbnVtU3RlbW1lZCwgbGVuID0gcGF0aC5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBub2RlID0gcGF0aFtpXTtcbiAgICB2YXIgY3VycmVudExlYWYgPSBbbm9kZS5pZCwgbm9kZS5vcHRzLCBbXV07XG4gICAgaWYgKGxlYWYpIHtcbiAgICAgIGxlYWZbMl0ucHVzaChjdXJyZW50TGVhZik7XG4gICAgICBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJvb3QgPSBsZWFmID0gY3VycmVudExlYWY7XG4gICAgfVxuICB9XG4gIHJldHVybiByb290O1xufVxuXG4vLyBjb21wYXJlIHRoZSBJRHMgb2YgdHdvIHRyZWVzXG5mdW5jdGlvbiBjb21wYXJlVHJlZShhLCBiKSB7XG4gIHJldHVybiBhWzBdIDwgYlswXSA/IC0xIDogMTtcbn1cblxuLy8gTWVyZ2UgdHdvIHRyZWVzIHRvZ2V0aGVyXG4vLyBUaGUgcm9vdHMgb2YgdHJlZTEgYW5kIHRyZWUyIG11c3QgYmUgdGhlIHNhbWUgcmV2aXNpb25cbmZ1bmN0aW9uIG1lcmdlVHJlZShpbl90cmVlMSwgaW5fdHJlZTIpIHtcbiAgdmFyIHF1ZXVlID0gW3t0cmVlMTogaW5fdHJlZTEsIHRyZWUyOiBpbl90cmVlMn1dO1xuICB2YXIgY29uZmxpY3RzID0gZmFsc2U7XG4gIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgdmFyIGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICB2YXIgdHJlZTEgPSBpdGVtLnRyZWUxO1xuICAgIHZhciB0cmVlMiA9IGl0ZW0udHJlZTI7XG5cbiAgICBpZiAodHJlZTFbMV0uc3RhdHVzIHx8IHRyZWUyWzFdLnN0YXR1cykge1xuICAgICAgdHJlZTFbMV0uc3RhdHVzID1cbiAgICAgICAgKHRyZWUxWzFdLnN0YXR1cyA9PT0gICdhdmFpbGFibGUnIHx8XG4gICAgICAgIHRyZWUyWzFdLnN0YXR1cyA9PT0gJ2F2YWlsYWJsZScpID8gJ2F2YWlsYWJsZScgOiAnbWlzc2luZyc7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0cmVlMlsyXS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCF0cmVlMVsyXVswXSkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2xlYWYnO1xuICAgICAgICB0cmVlMVsyXVswXSA9IHRyZWUyWzJdW2ldO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgdmFyIG1lcmdlZCA9IGZhbHNlO1xuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0cmVlMVsyXS5sZW5ndGg7IGorKykge1xuICAgICAgICBpZiAodHJlZTFbMl1bal1bMF0gPT09IHRyZWUyWzJdW2ldWzBdKSB7XG4gICAgICAgICAgcXVldWUucHVzaCh7dHJlZTE6IHRyZWUxWzJdW2pdLCB0cmVlMjogdHJlZTJbMl1baV19KTtcbiAgICAgICAgICBtZXJnZWQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIW1lcmdlZCkge1xuICAgICAgICBjb25mbGljdHMgPSAnbmV3X2JyYW5jaCc7XG4gICAgICAgIGluc2VydFNvcnRlZCh0cmVlMVsyXSwgdHJlZTJbMl1baV0sIGNvbXBhcmVUcmVlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHtjb25mbGljdHM6IGNvbmZsaWN0cywgdHJlZTogaW5fdHJlZTF9O1xufVxuXG5mdW5jdGlvbiBkb01lcmdlKHRyZWUsIHBhdGgsIGRvbnRFeHBhbmQpIHtcbiAgdmFyIHJlc3RyZWUgPSBbXTtcbiAgdmFyIGNvbmZsaWN0cyA9IGZhbHNlO1xuICB2YXIgbWVyZ2VkID0gZmFsc2U7XG4gIHZhciByZXM7XG5cbiAgaWYgKCF0cmVlLmxlbmd0aCkge1xuICAgIHJldHVybiB7dHJlZTogW3BhdGhdLCBjb25mbGljdHM6ICduZXdfbGVhZid9O1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHRyZWUubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIgYnJhbmNoID0gdHJlZVtpXTtcbiAgICBpZiAoYnJhbmNoLnBvcyA9PT0gcGF0aC5wb3MgJiYgYnJhbmNoLmlkc1swXSA9PT0gcGF0aC5pZHNbMF0pIHtcbiAgICAgIC8vIFBhdGhzIHN0YXJ0IGF0IHRoZSBzYW1lIHBvc2l0aW9uIGFuZCBoYXZlIHRoZSBzYW1lIHJvb3QsIHNvIHRoZXkgbmVlZFxuICAgICAgLy8gbWVyZ2VkXG4gICAgICByZXMgPSBtZXJnZVRyZWUoYnJhbmNoLmlkcywgcGF0aC5pZHMpO1xuICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IGJyYW5jaC5wb3MsIGlkczogcmVzLnRyZWV9KTtcbiAgICAgIGNvbmZsaWN0cyA9IGNvbmZsaWN0cyB8fCByZXMuY29uZmxpY3RzO1xuICAgICAgbWVyZ2VkID0gdHJ1ZTtcbiAgICB9IGVsc2UgaWYgKGRvbnRFeHBhbmQgIT09IHRydWUpIHtcbiAgICAgIC8vIFRoZSBwYXRocyBzdGFydCBhdCBhIGRpZmZlcmVudCBwb3NpdGlvbiwgdGFrZSB0aGUgZWFybGllc3QgcGF0aCBhbmRcbiAgICAgIC8vIHRyYXZlcnNlIHVwIHVudGlsIGl0IGFzIGF0IHRoZSBzYW1lIHBvaW50IGZyb20gcm9vdCBhcyB0aGUgcGF0aCB3ZVxuICAgICAgLy8gd2FudCB0byBtZXJnZS4gIElmIHRoZSBrZXlzIG1hdGNoIHdlIHJldHVybiB0aGUgbG9uZ2VyIHBhdGggd2l0aCB0aGVcbiAgICAgIC8vIG90aGVyIG1lcmdlZCBBZnRlciBzdGVtbWluZyB3ZSBkb250IHdhbnQgdG8gZXhwYW5kIHRoZSB0cmVlc1xuXG4gICAgICB2YXIgdDEgPSBicmFuY2gucG9zIDwgcGF0aC5wb3MgPyBicmFuY2ggOiBwYXRoO1xuICAgICAgdmFyIHQyID0gYnJhbmNoLnBvcyA8IHBhdGgucG9zID8gcGF0aCA6IGJyYW5jaDtcbiAgICAgIHZhciBkaWZmID0gdDIucG9zIC0gdDEucG9zO1xuXG4gICAgICB2YXIgY2FuZGlkYXRlUGFyZW50cyA9IFtdO1xuXG4gICAgICB2YXIgdHJlZXMgPSBbXTtcbiAgICAgIHRyZWVzLnB1c2goe2lkczogdDEuaWRzLCBkaWZmOiBkaWZmLCBwYXJlbnQ6IG51bGwsIHBhcmVudElkeDogbnVsbH0pO1xuICAgICAgd2hpbGUgKHRyZWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgdmFyIGl0ZW0gPSB0cmVlcy5wb3AoKTtcbiAgICAgICAgaWYgKGl0ZW0uZGlmZiA9PT0gMCkge1xuICAgICAgICAgIGlmIChpdGVtLmlkc1swXSA9PT0gdDIuaWRzWzBdKSB7XG4gICAgICAgICAgICBjYW5kaWRhdGVQYXJlbnRzLnB1c2goaXRlbSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBlbGVtZW50cyA9IGl0ZW0uaWRzWzJdO1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgZWxlbWVudHNMZW4gPSBlbGVtZW50cy5sZW5ndGg7IGogPCBlbGVtZW50c0xlbjsgaisrKSB7XG4gICAgICAgICAgdHJlZXMucHVzaCh7XG4gICAgICAgICAgICBpZHM6IGVsZW1lbnRzW2pdLFxuICAgICAgICAgICAgZGlmZjogaXRlbS5kaWZmIC0gMSxcbiAgICAgICAgICAgIHBhcmVudDogaXRlbS5pZHMsXG4gICAgICAgICAgICBwYXJlbnRJZHg6IGpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB2YXIgZWwgPSBjYW5kaWRhdGVQYXJlbnRzWzBdO1xuXG4gICAgICBpZiAoIWVsKSB7XG4gICAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzID0gbWVyZ2VUcmVlKGVsLmlkcywgdDIuaWRzKTtcbiAgICAgICAgZWwucGFyZW50WzJdW2VsLnBhcmVudElkeF0gPSByZXMudHJlZTtcbiAgICAgICAgcmVzdHJlZS5wdXNoKHtwb3M6IHQxLnBvcywgaWRzOiB0MS5pZHN9KTtcbiAgICAgICAgY29uZmxpY3RzID0gY29uZmxpY3RzIHx8IHJlcy5jb25mbGljdHM7XG4gICAgICAgIG1lcmdlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3RyZWUucHVzaChicmFuY2gpO1xuICAgIH1cbiAgfVxuXG4gIC8vIFdlIGRpZG50IGZpbmRcbiAgaWYgKCFtZXJnZWQpIHtcbiAgICByZXN0cmVlLnB1c2gocGF0aCk7XG4gIH1cblxuICByZXN0cmVlLnNvcnQoc29ydEJ5UG9zJDEpO1xuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdHJlZSxcbiAgICBjb25mbGljdHM6IGNvbmZsaWN0cyB8fCAnaW50ZXJuYWxfbm9kZSdcbiAgfTtcbn1cblxuLy8gVG8gZW5zdXJlIHdlIGRvbnQgZ3JvdyB0aGUgcmV2aXNpb24gdHJlZSBpbmZpbml0ZWx5LCB3ZSBzdGVtIG9sZCByZXZpc2lvbnNcbmZ1bmN0aW9uIHN0ZW0odHJlZSwgZGVwdGgpIHtcbiAgLy8gRmlyc3Qgd2UgYnJlYWsgb3V0IHRoZSB0cmVlIGludG8gYSBjb21wbGV0ZSBsaXN0IG9mIHJvb3QgdG8gbGVhZiBwYXRoc1xuICB2YXIgcGF0aHMgPSByb290VG9MZWFmKHRyZWUpO1xuICB2YXIgc3RlbW1lZFJldnM7XG5cbiAgdmFyIHJlc3VsdDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgLy8gVGhlbiBmb3IgZWFjaCBwYXRoLCB3ZSBjdXQgb2ZmIHRoZSBzdGFydCBvZiB0aGUgcGF0aCBiYXNlZCBvbiB0aGVcbiAgICAvLyBgZGVwdGhgIHRvIHN0ZW0gdG8sIGFuZCBnZW5lcmF0ZSBhIG5ldyBzZXQgb2YgZmxhdCB0cmVlc1xuICAgIHZhciBwYXRoID0gcGF0aHNbaV07XG4gICAgdmFyIHN0ZW1tZWQgPSBwYXRoLmlkcztcbiAgICB2YXIgbm9kZTtcbiAgICBpZiAoc3RlbW1lZC5sZW5ndGggPiBkZXB0aCkge1xuICAgICAgLy8gb25seSBkbyB0aGUgc3RlbW1pbmcgd29yayBpZiB3ZSBhY3R1YWxseSBuZWVkIHRvIHN0ZW1cbiAgICAgIGlmICghc3RlbW1lZFJldnMpIHtcbiAgICAgICAgc3RlbW1lZFJldnMgPSB7fTsgLy8gYXZvaWQgYWxsb2NhdGluZyB0aGlzIG9iamVjdCB1bm5lY2Vzc2FyaWx5XG4gICAgICB9XG4gICAgICB2YXIgbnVtU3RlbW1lZCA9IHN0ZW1tZWQubGVuZ3RoIC0gZGVwdGg7XG4gICAgICBub2RlID0ge1xuICAgICAgICBwb3M6IHBhdGgucG9zICsgbnVtU3RlbW1lZCxcbiAgICAgICAgaWRzOiBwYXRoVG9UcmVlKHN0ZW1tZWQsIG51bVN0ZW1tZWQpXG4gICAgICB9O1xuXG4gICAgICBmb3IgKHZhciBzID0gMDsgcyA8IG51bVN0ZW1tZWQ7IHMrKykge1xuICAgICAgICB2YXIgcmV2ID0gKHBhdGgucG9zICsgcykgKyAnLScgKyBzdGVtbWVkW3NdLmlkO1xuICAgICAgICBzdGVtbWVkUmV2c1tyZXZdID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9IGVsc2UgeyAvLyBubyBuZWVkIHRvIGFjdHVhbGx5IHN0ZW1cbiAgICAgIG5vZGUgPSB7XG4gICAgICAgIHBvczogcGF0aC5wb3MsXG4gICAgICAgIGlkczogcGF0aFRvVHJlZShzdGVtbWVkLCAwKVxuICAgICAgfTtcbiAgICB9XG5cbiAgICAvLyBUaGVuIHdlIHJlbWVyZ2UgYWxsIHRob3NlIGZsYXQgdHJlZXMgdG9nZXRoZXIsIGVuc3VyaW5nIHRoYXQgd2UgZG9udFxuICAgIC8vIGNvbm5lY3QgdHJlZXMgdGhhdCB3b3VsZCBnbyBiZXlvbmQgdGhlIGRlcHRoIGxpbWl0XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgcmVzdWx0ID0gZG9NZXJnZShyZXN1bHQsIG5vZGUsIHRydWUpLnRyZWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IFtub2RlXTtcbiAgICB9XG4gIH1cblxuICAvLyB0aGlzIGlzIG1lbW9yeS1oZWF2eSBwZXIgQ2hyb21lIHByb2ZpbGVyLCBhdm9pZCB1bmxlc3Mgd2UgYWN0dWFsbHkgc3RlbW1lZFxuICBpZiAoc3RlbW1lZFJldnMpIHtcbiAgICB0cmF2ZXJzZVJldlRyZWUocmVzdWx0LCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsIHJldkhhc2gpIHtcbiAgICAgIC8vIHNvbWUgcmV2aXNpb25zIG1heSBoYXZlIGJlZW4gcmVtb3ZlZCBpbiBhIGJyYW5jaCBidXQgbm90IGluIGFub3RoZXJcbiAgICAgIGRlbGV0ZSBzdGVtbWVkUmV2c1twb3MgKyAnLScgKyByZXZIYXNoXTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiB7XG4gICAgdHJlZTogcmVzdWx0LFxuICAgIHJldnM6IHN0ZW1tZWRSZXZzID8gT2JqZWN0LmtleXMoc3RlbW1lZFJldnMpIDogW11cbiAgfTtcbn1cblxuZnVuY3Rpb24gbWVyZ2UodHJlZSwgcGF0aCwgZGVwdGgpIHtcbiAgdmFyIG5ld1RyZWUgPSBkb01lcmdlKHRyZWUsIHBhdGgpO1xuICB2YXIgc3RlbW1lZCA9IHN0ZW0obmV3VHJlZS50cmVlLCBkZXB0aCk7XG4gIHJldHVybiB7XG4gICAgdHJlZTogc3RlbW1lZC50cmVlLFxuICAgIHN0ZW1tZWRSZXZzOiBzdGVtbWVkLnJldnMsXG4gICAgY29uZmxpY3RzOiBuZXdUcmVlLmNvbmZsaWN0c1xuICB9O1xufVxuXG4vLyByZXR1cm4gdHJ1ZSBpZiBhIHJldiBleGlzdHMgaW4gdGhlIHJldiB0cmVlLCBmYWxzZSBvdGhlcndpc2VcbmZ1bmN0aW9uIHJldkV4aXN0cyhyZXZzLCByZXYpIHtcbiAgdmFyIHRvVmlzaXQgPSByZXZzLnNsaWNlKCk7XG4gIHZhciBzcGxpdFJldiA9IHJldi5zcGxpdCgnLScpO1xuICB2YXIgdGFyZ2V0UG9zID0gcGFyc2VJbnQoc3BsaXRSZXZbMF0sIDEwKTtcbiAgdmFyIHRhcmdldElkID0gc3BsaXRSZXZbMV07XG5cbiAgdmFyIG5vZGU7XG4gIHdoaWxlICgobm9kZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKG5vZGUucG9zID09PSB0YXJnZXRQb3MgJiYgbm9kZS5pZHNbMF0gPT09IHRhcmdldElkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgdmFyIGJyYW5jaGVzID0gbm9kZS5pZHNbMl07XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGJyYW5jaGVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB0b1Zpc2l0LnB1c2goe3Bvczogbm9kZS5wb3MgKyAxLCBpZHM6IGJyYW5jaGVzW2ldfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiBmYWxzZTtcbn1cblxuZnVuY3Rpb24gZ2V0VHJlZXMobm9kZSkge1xuICByZXR1cm4gbm9kZS5pZHM7XG59XG5cbi8vIGNoZWNrIGlmIGEgc3BlY2lmaWMgcmV2aXNpb24gb2YgYSBkb2MgaGFzIGJlZW4gZGVsZXRlZFxuLy8gIC0gbWV0YWRhdGE6IHRoZSBtZXRhZGF0YSBvYmplY3QgZnJvbSB0aGUgZG9jIHN0b3JlXG4vLyAgLSByZXY6IChvcHRpb25hbCkgdGhlIHJldmlzaW9uIHRvIGNoZWNrLiBkZWZhdWx0cyB0byB3aW5uaW5nIHJldmlzaW9uXG5mdW5jdGlvbiBpc0RlbGV0ZWQobWV0YWRhdGEsIHJldikge1xuICBpZiAoIXJldikge1xuICAgIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICB9XG4gIHZhciBpZCA9IHJldi5zdWJzdHJpbmcocmV2LmluZGV4T2YoJy0nKSArIDEpO1xuICB2YXIgdG9WaXNpdCA9IG1ldGFkYXRhLnJldl90cmVlLm1hcChnZXRUcmVlcyk7XG5cbiAgdmFyIHRyZWU7XG4gIHdoaWxlICgodHJlZSA9IHRvVmlzaXQucG9wKCkpKSB7XG4gICAgaWYgKHRyZWVbMF0gPT09IGlkKSB7XG4gICAgICByZXR1cm4gISF0cmVlWzFdLmRlbGV0ZWQ7XG4gICAgfVxuICAgIHRvVmlzaXQgPSB0b1Zpc2l0LmNvbmNhdCh0cmVlWzJdKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBpc0xvY2FsSWQoaWQpIHtcbiAgcmV0dXJuICgvXl9sb2NhbC8pLnRlc3QoaWQpO1xufVxuXG4vLyByZXR1cm5zIHRoZSBjdXJyZW50IGxlYWYgbm9kZSBmb3IgYSBnaXZlbiByZXZpc2lvblxuZnVuY3Rpb24gbGF0ZXN0KHJldiwgbWV0YWRhdGEpIHtcbiAgdmFyIHRvVmlzaXQgPSBtZXRhZGF0YS5yZXZfdHJlZS5zbGljZSgpO1xuICB2YXIgbm9kZTtcbiAgd2hpbGUgKChub2RlID0gdG9WaXNpdC5wb3AoKSkpIHtcbiAgICB2YXIgcG9zID0gbm9kZS5wb3M7XG4gICAgdmFyIHRyZWUgPSBub2RlLmlkcztcbiAgICB2YXIgaWQgPSB0cmVlWzBdO1xuICAgIHZhciBvcHRzID0gdHJlZVsxXTtcbiAgICB2YXIgYnJhbmNoZXMgPSB0cmVlWzJdO1xuICAgIHZhciBpc0xlYWYgPSBicmFuY2hlcy5sZW5ndGggPT09IDA7XG5cbiAgICB2YXIgaGlzdG9yeSA9IG5vZGUuaGlzdG9yeSA/IG5vZGUuaGlzdG9yeS5zbGljZSgpIDogW107XG4gICAgaGlzdG9yeS5wdXNoKHtpZDogaWQsIHBvczogcG9zLCBvcHRzOiBvcHRzfSk7XG5cbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gaGlzdG9yeS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgaGlzdG9yeU5vZGUgPSBoaXN0b3J5W2ldO1xuICAgICAgICB2YXIgaGlzdG9yeVJldiA9IGhpc3RvcnlOb2RlLnBvcyArICctJyArIGhpc3RvcnlOb2RlLmlkO1xuXG4gICAgICAgIGlmIChoaXN0b3J5UmV2ID09PSByZXYpIHtcbiAgICAgICAgICAvLyByZXR1cm4gdGhlIHJldiBvZiB0aGlzIGxlYWZcbiAgICAgICAgICByZXR1cm4gcG9zICsgJy0nICsgaWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICBmb3IgKHZhciBqID0gMCwgbCA9IGJyYW5jaGVzLmxlbmd0aDsgaiA8IGw7IGorKykge1xuICAgICAgdG9WaXNpdC5wdXNoKHtwb3M6IHBvcyArIDEsIGlkczogYnJhbmNoZXNbal0sIGhpc3Rvcnk6IGhpc3Rvcnl9KTtcbiAgICB9XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB0aHJvdyBuZXcgRXJyb3IoJ1VuYWJsZSB0byByZXNvbHZlIGxhdGVzdCByZXZpc2lvbiBmb3IgaWQgJyArIG1ldGFkYXRhLmlkICsgJywgcmV2ICcgKyByZXYpO1xufVxuXG5pbmhlcml0cyhDaGFuZ2VzJDEsIEVFKTtcblxuZnVuY3Rpb24gdHJ5Q2F0Y2hJbkNoYW5nZUxpc3RlbmVyKHNlbGYsIGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAvLyBpc29sYXRlIHRyeS9jYXRjaGVzIHRvIGF2b2lkIFY4IGRlb3B0aW1pemF0aW9uc1xuICB0cnkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywgY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCdlcnJvcicsICdFcnJvciBpbiAub24oXCJjaGFuZ2VcIiwgZnVuY3Rpb24pOicsIGUpO1xuICB9XG59XG5cbmZ1bmN0aW9uIENoYW5nZXMkMShkYiwgb3B0cywgY2FsbGJhY2spIHtcbiAgRUUuY2FsbCh0aGlzKTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLmRiID0gZGI7XG4gIG9wdHMgPSBvcHRzID8gY2xvbmUob3B0cykgOiB7fTtcbiAgdmFyIGNvbXBsZXRlID0gb3B0cy5jb21wbGV0ZSA9IG9uY2UoZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGlmIChsaXN0ZW5lckNvdW50KHNlbGYsICdlcnJvcicpID4gMCkge1xuICAgICAgICBzZWxmLmVtaXQoJ2Vycm9yJywgZXJyKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5lbWl0KCdjb21wbGV0ZScsIHJlc3ApO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9KTtcbiAgaWYgKGNhbGxiYWNrKSB7XG4gICAgc2VsZi5vbignY29tcGxldGUnLCBmdW5jdGlvbiAocmVzcCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCk7XG4gICAgfSk7XG4gICAgc2VsZi5vbignZXJyb3InLCBjYWxsYmFjayk7XG4gIH1cbiAgZnVuY3Rpb24gb25EZXN0cm95KCkge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gIH1cbiAgZGIub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcblxuICBvcHRzLm9uQ2hhbmdlID0gZnVuY3Rpb24gKGNoYW5nZSwgcGVuZGluZywgbGFzdFNlcSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRyeUNhdGNoSW5DaGFuZ2VMaXN0ZW5lcihzZWxmLCBjaGFuZ2UsIHBlbmRpbmcsIGxhc3RTZXEpO1xuICB9O1xuXG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIG9wdHMuY29tcGxldGUgPSBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBmdWxmaWxsKHJlcyk7XG4gICAgICB9XG4gICAgfTtcbiAgfSk7XG4gIHNlbGYub25jZSgnY2FuY2VsJywgZnVuY3Rpb24gKCkge1xuICAgIGRiLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICAgIG9wdHMuY29tcGxldGUobnVsbCwge3N0YXR1czogJ2NhbmNlbGxlZCd9KTtcbiAgfSk7XG4gIHRoaXMudGhlbiA9IHByb21pc2UudGhlbi5iaW5kKHByb21pc2UpO1xuICB0aGlzWydjYXRjaCddID0gcHJvbWlzZVsnY2F0Y2gnXS5iaW5kKHByb21pc2UpO1xuICB0aGlzLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gIH0sIGNvbXBsZXRlKTtcblxuXG5cbiAgaWYgKCFkYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIGRiLnRhc2txdWV1ZS5hZGRUYXNrKGZ1bmN0aW9uIChmYWlsZWQpIHtcbiAgICAgIGlmIChmYWlsZWQpIHtcbiAgICAgICAgb3B0cy5jb21wbGV0ZShmYWlsZWQpO1xuICAgICAgfSBlbHNlIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIHNlbGYuZW1pdCgnY2FuY2VsJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBzZWxmLnZhbGlkYXRlQ2hhbmdlcyhvcHRzKTtcbiAgfVxufVxuQ2hhbmdlcyQxLnByb3RvdHlwZS5jYW5jZWwgPSBmdW5jdGlvbiAoKSB7XG4gIHRoaXMuaXNDYW5jZWxsZWQgPSB0cnVlO1xuICBpZiAodGhpcy5kYi50YXNrcXVldWUuaXNSZWFkeSkge1xuICAgIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG4gIH1cbn07XG5mdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvYywgbWV0YWRhdGEsIG9wdHMpIHtcbiAgdmFyIGNoYW5nZUxpc3QgPSBbe3JldjogZG9jLl9yZXZ9XTtcbiAgaWYgKG9wdHMuc3R5bGUgPT09ICdhbGxfZG9jcycpIHtcbiAgICBjaGFuZ2VMaXN0ID0gY29sbGVjdExlYXZlcyhtZXRhZGF0YS5yZXZfdHJlZSlcbiAgICAubWFwKGZ1bmN0aW9uICh4KSB7IHJldHVybiB7cmV2OiB4LnJldn07IH0pO1xuICB9XG4gIHZhciBjaGFuZ2UgPSB7XG4gICAgaWQ6IG1ldGFkYXRhLmlkLFxuICAgIGNoYW5nZXM6IGNoYW5nZUxpc3QsXG4gICAgZG9jOiBkb2NcbiAgfTtcblxuICBpZiAoaXNEZWxldGVkKG1ldGFkYXRhLCBkb2MuX3JldikpIHtcbiAgICBjaGFuZ2UuZGVsZXRlZCA9IHRydWU7XG4gIH1cbiAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgY2hhbmdlLmRvYy5fY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgaWYgKCFjaGFuZ2UuZG9jLl9jb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICBkZWxldGUgY2hhbmdlLmRvYy5fY29uZmxpY3RzO1xuICAgIH1cbiAgfVxuICByZXR1cm4gY2hhbmdlO1xufVxuXG5DaGFuZ2VzJDEucHJvdG90eXBlLnZhbGlkYXRlQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBjYWxsYmFjayA9IG9wdHMuY29tcGxldGU7XG4gIHZhciBzZWxmID0gdGhpcztcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbikge1xuICAgIFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4udmFsaWRhdGUob3B0cywgZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHNlbGYuZG9DaGFuZ2VzKG9wdHMpO1xuICB9XG59O1xuXG5DaGFuZ2VzJDEucHJvdG90eXBlLmRvQ2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIGlmICgnbGl2ZScgaW4gb3B0cyAmJiAhKCdjb250aW51b3VzJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuY29udGludW91cyA9IG9wdHMubGl2ZTtcbiAgfVxuICBvcHRzLnByb2Nlc3NDaGFuZ2UgPSBwcm9jZXNzQ2hhbmdlO1xuXG4gIGlmIChvcHRzLnNpbmNlID09PSAnbGF0ZXN0Jykge1xuICAgIG9wdHMuc2luY2UgPSAnbm93JztcbiAgfVxuICBpZiAoIW9wdHMuc2luY2UpIHtcbiAgICBvcHRzLnNpbmNlID0gMDtcbiAgfVxuICBpZiAob3B0cy5zaW5jZSA9PT0gJ25vdycpIHtcbiAgICB0aGlzLmRiLmluZm8oKS50aGVuKGZ1bmN0aW9uIChpbmZvKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChzZWxmLmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIG9wdHMuc2luY2UgPSBpbmZvLnVwZGF0ZV9zZXE7XG4gICAgICBzZWxmLmRvQ2hhbmdlcyhvcHRzKTtcbiAgICB9LCBjYWxsYmFjayk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKFBvdWNoREIuX2NoYW5nZXNGaWx0ZXJQbHVnaW4pIHtcbiAgICBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLm5vcm1hbGl6ZShvcHRzKTtcbiAgICBpZiAoUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbi5zaG91bGRGaWx0ZXIodGhpcywgb3B0cykpIHtcbiAgICAgIHJldHVybiBQb3VjaERCLl9jaGFuZ2VzRmlsdGVyUGx1Z2luLmZpbHRlcih0aGlzLCBvcHRzKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgWydkb2NfaWRzJywgJ2ZpbHRlcicsICdzZWxlY3RvcicsICd2aWV3J10uZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoa2V5IGluIG9wdHMpIHtcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLFxuICAgICAgICAgICdUaGUgXCInICsga2V5ICsgJ1wiIG9wdGlvbiB3YXMgcGFzc2VkIGluIHRvIGNoYW5nZXMvcmVwbGljYXRlLCAnICtcbiAgICAgICAgICAnYnV0IHBvdWNoZGItY2hhbmdlcy1maWx0ZXIgcGx1Z2luIGlzIG5vdCBpbnN0YWxsZWQsIHNvIGl0ICcgK1xuICAgICAgICAgICd3YXMgaWdub3JlZC4gUGxlYXNlIGluc3RhbGwgdGhlIHBsdWdpbiB0byBlbmFibGUgZmlsdGVyaW5nLidcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIGlmICghKCdkZXNjZW5kaW5nJyBpbiBvcHRzKSkge1xuICAgIG9wdHMuZGVzY2VuZGluZyA9IGZhbHNlO1xuICB9XG5cbiAgLy8gMCBhbmQgMSBzaG91bGQgcmV0dXJuIDEgZG9jdW1lbnRcbiAgb3B0cy5saW1pdCA9IG9wdHMubGltaXQgPT09IDAgPyAxIDogb3B0cy5saW1pdDtcbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICB2YXIgbmV3UHJvbWlzZSA9IHRoaXMuZGIuX2NoYW5nZXMob3B0cyk7XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gIGlmIChuZXdQcm9taXNlICYmIHR5cGVvZiBuZXdQcm9taXNlLmNhbmNlbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHZhciBjYW5jZWwgPSBzZWxmLmNhbmNlbDtcbiAgICBzZWxmLmNhbmNlbCA9IGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgbmV3UHJvbWlzZS5jYW5jZWwoKTtcbiAgICAgIGNhbmNlbC5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICB9KTtcbiAgfVxufTtcblxuLypcbiAqIEEgZ2VuZXJpYyBwb3VjaCBhZGFwdGVyXG4gKi9cblxuZnVuY3Rpb24gY29tcGFyZShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gV3JhcHBlciBmb3IgZnVuY3Rpb25zIHRoYXQgY2FsbCB0aGUgYnVsa2RvY3MgYXBpIHdpdGggYSBzaW5nbGUgZG9jLFxuLy8gaWYgdGhlIGZpcnN0IHJlc3VsdCBpcyBhbiBlcnJvciwgcmV0dXJuIGFuIGVycm9yXG5mdW5jdGlvbiB5YW5rRXJyb3IoY2FsbGJhY2ssIGRvY0lkKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXN1bHRzKSB7XG4gICAgaWYgKGVyciB8fCAocmVzdWx0c1swXSAmJiByZXN1bHRzWzBdLmVycm9yKSkge1xuICAgICAgZXJyID0gZXJyIHx8IHJlc3VsdHNbMF07XG4gICAgICBlcnIuZG9jSWQgPSBkb2NJZDtcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdHMubGVuZ3RoID8gcmVzdWx0c1swXSAgOiByZXN1bHRzKTtcbiAgICB9XG4gIH07XG59XG5cbi8vIGNsZWFuIGRvY3MgZ2l2ZW4gdG8gdXMgYnkgdGhlIHVzZXJcbmZ1bmN0aW9uIGNsZWFuRG9jcyhkb2NzKSB7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgZG9jcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NzW2ldO1xuICAgIGlmIChkb2MuX2RlbGV0ZWQpIHtcbiAgICAgIGRlbGV0ZSBkb2MuX2F0dGFjaG1lbnRzOyAvLyBpZ25vcmUgYXR0cyBmb3IgZGVsZXRlZCBkb2NzXG4gICAgfSBlbHNlIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBmaWx0ZXIgb3V0IGV4dHJhbmVvdXMga2V5cyBmcm9tIF9hdHRhY2htZW50c1xuICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcbiAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgYXR0cy5sZW5ndGg7IGorKykge1xuICAgICAgICB2YXIgYXR0ID0gYXR0c1tqXTtcbiAgICAgICAgZG9jLl9hdHRhY2htZW50c1thdHRdID0gcGljayhkb2MuX2F0dGFjaG1lbnRzW2F0dF0sXG4gICAgICAgICAgWydkYXRhJywgJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnLCAnbGVuZ3RoJywgJ3JldnBvcycsICdzdHViJ10pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBjb21wYXJlIHR3byBkb2NzLCBmaXJzdCBieSBfaWQgdGhlbiBieSBfcmV2XG5mdW5jdGlvbiBjb21wYXJlQnlJZFRoZW5SZXYoYSwgYikge1xuICB2YXIgaWRDb21wYXJlID0gY29tcGFyZShhLl9pZCwgYi5faWQpO1xuICBpZiAoaWRDb21wYXJlICE9PSAwKSB7XG4gICAgcmV0dXJuIGlkQ29tcGFyZTtcbiAgfVxuICB2YXIgYVN0YXJ0ID0gYS5fcmV2aXNpb25zID8gYS5fcmV2aXNpb25zLnN0YXJ0IDogMDtcbiAgdmFyIGJTdGFydCA9IGIuX3JldmlzaW9ucyA/IGIuX3JldmlzaW9ucy5zdGFydCA6IDA7XG4gIHJldHVybiBjb21wYXJlKGFTdGFydCwgYlN0YXJ0KTtcbn1cblxuLy8gZm9yIGV2ZXJ5IG5vZGUgaW4gYSByZXZpc2lvbiB0cmVlIGNvbXB1dGVzIGl0cyBkaXN0YW5jZSBmcm9tIHRoZSBjbG9zZXN0XG4vLyBsZWFmXG5mdW5jdGlvbiBjb21wdXRlSGVpZ2h0KHJldnMpIHtcbiAgdmFyIGhlaWdodCA9IHt9O1xuICB2YXIgZWRnZXMgPSBbXTtcbiAgdHJhdmVyc2VSZXZUcmVlKHJldnMsIGZ1bmN0aW9uIChpc0xlYWYsIHBvcywgaWQsIHBybnQpIHtcbiAgICB2YXIgcmV2ID0gcG9zICsgXCItXCIgKyBpZDtcbiAgICBpZiAoaXNMZWFmKSB7XG4gICAgICBoZWlnaHRbcmV2XSA9IDA7XG4gICAgfVxuICAgIGlmIChwcm50ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIGVkZ2VzLnB1c2goe2Zyb206IHBybnQsIHRvOiByZXZ9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJldjtcbiAgfSk7XG5cbiAgZWRnZXMucmV2ZXJzZSgpO1xuICBlZGdlcy5mb3JFYWNoKGZ1bmN0aW9uIChlZGdlKSB7XG4gICAgaWYgKGhlaWdodFtlZGdlLmZyb21dID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGhlaWdodFtlZGdlLmZyb21dID0gMSArIGhlaWdodFtlZGdlLnRvXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaGVpZ2h0W2VkZ2UuZnJvbV0gPSBNYXRoLm1pbihoZWlnaHRbZWRnZS5mcm9tXSwgMSArIGhlaWdodFtlZGdlLnRvXSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGhlaWdodDtcbn1cblxuZnVuY3Rpb24gYWxsRG9jc0tleXNQYXJzZShvcHRzKSB7XG4gIHZhciBrZXlzID0gICgnbGltaXQnIGluIG9wdHMpID9cbiAgICBvcHRzLmtleXMuc2xpY2Uob3B0cy5za2lwLCBvcHRzLmxpbWl0ICsgb3B0cy5za2lwKSA6XG4gICAgKG9wdHMuc2tpcCA+IDApID8gb3B0cy5rZXlzLnNsaWNlKG9wdHMuc2tpcCkgOiBvcHRzLmtleXM7XG4gIG9wdHMua2V5cyA9IGtleXM7XG4gIG9wdHMuc2tpcCA9IDA7XG4gIGRlbGV0ZSBvcHRzLmxpbWl0O1xuICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAga2V5cy5yZXZlcnNlKCk7XG4gICAgb3B0cy5kZXNjZW5kaW5nID0gZmFsc2U7XG4gIH1cbn1cblxuLy8gYWxsIGNvbXBhY3Rpb24gaXMgZG9uZSBpbiBhIHF1ZXVlLCB0byBhdm9pZCBhdHRhY2hpbmdcbi8vIHRvbyBtYW55IGxpc3RlbmVycyBhdCBvbmNlXG5mdW5jdGlvbiBkb05leHRDb21wYWN0aW9uKHNlbGYpIHtcbiAgdmFyIHRhc2sgPSBzZWxmLl9jb21wYWN0aW9uUXVldWVbMF07XG4gIHZhciBvcHRzID0gdGFzay5vcHRzO1xuICB2YXIgY2FsbGJhY2sgPSB0YXNrLmNhbGxiYWNrO1xuICBzZWxmLmdldCgnX2xvY2FsL2NvbXBhY3Rpb24nKS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAoZG9jICYmIGRvYy5sYXN0X3NlcSkge1xuICAgICAgb3B0cy5sYXN0X3NlcSA9IGRvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgc2VsZi5fY29tcGFjdChvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH1cbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5zaGlmdCgpO1xuICAgICAgICBpZiAoc2VsZi5fY29tcGFjdGlvblF1ZXVlLmxlbmd0aCkge1xuICAgICAgICAgIGRvTmV4dENvbXBhY3Rpb24oc2VsZik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gYXR0YWNobWVudE5hbWVFcnJvcihuYW1lKSB7XG4gIGlmIChuYW1lLmNoYXJBdCgwKSA9PT0gJ18nKSB7XG4gICAgcmV0dXJuIG5hbWUgKyAnIGlzIG5vdCBhIHZhbGlkIGF0dGFjaG1lbnQgbmFtZSwgYXR0YWNobWVudCAnICtcbiAgICAgICduYW1lcyBjYW5ub3Qgc3RhcnQgd2l0aCBcXCdfXFwnJztcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59XG5cbmluaGVyaXRzKEFic3RyYWN0UG91Y2hEQiwgRUUpO1xuXG5mdW5jdGlvbiBBYnN0cmFjdFBvdWNoREIoKSB7XG4gIEVFLmNhbGwodGhpcyk7XG5cbiAgLy8gcmUtYmluZCBwcm90b3R5cGVkIG1ldGhvZHNcbiAgZm9yICh2YXIgcCBpbiBBYnN0cmFjdFBvdWNoREIucHJvdG90eXBlKSB7XG4gICAgaWYgKHR5cGVvZiB0aGlzW3BdID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICB0aGlzW3BdID0gdGhpc1twXS5iaW5kKHRoaXMpO1xuICAgIH1cbiAgfVxufVxuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnBvc3QgPVxuICBhZGFwdGVyRnVuKCdwb3N0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbZG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgZG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0ID0gYWRhcHRlckZ1bigncHV0JywgZnVuY3Rpb24gKGRvYywgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGRvYyAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheShkb2MpKSB7XG4gICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKE5PVF9BTl9PQkpFQ1QpKTtcbiAgfVxuICBpbnZhbGlkSWRFcnJvcihkb2MuX2lkKTtcbiAgaWYgKGlzTG9jYWxJZChkb2MuX2lkKSAmJiB0eXBlb2YgdGhpcy5fcHV0TG9jYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fcmVtb3ZlTG9jYWwoZG9jLCBjYik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0aGlzLl9wdXRMb2NhbChkb2MsIGNiKTtcbiAgICB9XG4gIH1cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAob3B0cy5mb3JjZSAmJiBkb2MuX3Jldikge1xuICAgIHRyYW5zZm9ybUZvcmNlT3B0aW9uVG9OZXdFZGl0c09wdGlvbigpO1xuICAgIHB1dERvYyhmdW5jdGlvbiAoZXJyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gZXJyID8gbnVsbCA6IHtvazogdHJ1ZSwgaWQ6IGRvYy5faWQsIHJldjogZG9jLl9yZXZ9O1xuICAgICAgY2IoZXJyLCByZXN1bHQpO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHB1dERvYyhjYik7XG4gIH1cblxuICBmdW5jdGlvbiB0cmFuc2Zvcm1Gb3JjZU9wdGlvblRvTmV3RWRpdHNPcHRpb24oKSB7XG4gICAgdmFyIHBhcnRzID0gZG9jLl9yZXYuc3BsaXQoJy0nKTtcbiAgICB2YXIgb2xkUmV2SWQgPSBwYXJ0c1sxXTtcbiAgICB2YXIgb2xkUmV2TnVtID0gcGFyc2VJbnQocGFydHNbMF0sIDEwKTtcblxuICAgIHZhciBuZXdSZXZOdW0gPSBvbGRSZXZOdW0gKyAxO1xuICAgIHZhciBuZXdSZXZJZCA9IHJldiQkMSgpO1xuXG4gICAgZG9jLl9yZXZpc2lvbnMgPSB7XG4gICAgICBzdGFydDogbmV3UmV2TnVtLFxuICAgICAgaWRzOiBbbmV3UmV2SWQsIG9sZFJldklkXVxuICAgIH07XG4gICAgZG9jLl9yZXYgPSBuZXdSZXZOdW0gKyAnLScgKyBuZXdSZXZJZDtcbiAgICBvcHRzLm5ld19lZGl0cyA9IGZhbHNlO1xuICB9XG4gIGZ1bmN0aW9uIHB1dERvYyhuZXh0KSB7XG4gICAgaWYgKHR5cGVvZiBzZWxmLl9wdXQgPT09ICdmdW5jdGlvbicgJiYgb3B0cy5uZXdfZWRpdHMgIT09IGZhbHNlKSB7XG4gICAgICBzZWxmLl9wdXQoZG9jLCBvcHRzLCBuZXh0KTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2VsZi5idWxrRG9jcyh7ZG9jczogW2RvY119LCBvcHRzLCB5YW5rRXJyb3IobmV4dCwgZG9jLl9pZCkpO1xuICAgIH1cbiAgfVxufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucHV0QXR0YWNobWVudCA9XG4gIGFkYXB0ZXJGdW4oJ3B1dEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCwgcmV2LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJsb2IsIHR5cGUpIHtcbiAgdmFyIGFwaSA9IHRoaXM7XG4gIGlmICh0eXBlb2YgdHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHR5cGUgPSBibG9iO1xuICAgIGJsb2IgPSByZXY7XG4gICAgcmV2ID0gbnVsbDtcbiAgfVxuICAvLyBMZXRzIGZpeCBpbiBodHRwczovL2dpdGh1Yi5jb20vcG91Y2hkYi9wb3VjaGRiL2lzc3Vlcy8zMjY3XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIHR5cGUgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgdHlwZSA9IGJsb2I7XG4gICAgYmxvYiA9IHJldjtcbiAgICByZXYgPSBudWxsO1xuICB9XG4gIGlmICghdHlwZSkge1xuICAgIGd1YXJkZWRDb25zb2xlKCd3YXJuJywgJ0F0dGFjaG1lbnQnLCBhdHRhY2htZW50SWQsICdvbiBkb2N1bWVudCcsIGRvY0lkLCAnaXMgbWlzc2luZyBjb250ZW50X3R5cGUnKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGNyZWF0ZUF0dGFjaG1lbnQoZG9jKSB7XG4gICAgdmFyIHByZXZyZXZwb3MgPSAnX3JldicgaW4gZG9jID8gcGFyc2VJbnQoZG9jLl9yZXYsIDEwKSA6IDA7XG4gICAgZG9jLl9hdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgfHwge307XG4gICAgZG9jLl9hdHRhY2htZW50c1thdHRhY2htZW50SWRdID0ge1xuICAgICAgY29udGVudF90eXBlOiB0eXBlLFxuICAgICAgZGF0YTogYmxvYixcbiAgICAgIHJldnBvczogKytwcmV2cmV2cG9zXG4gICAgfTtcbiAgICByZXR1cm4gYXBpLnB1dChkb2MpO1xuICB9XG5cbiAgcmV0dXJuIGFwaS5nZXQoZG9jSWQpLnRoZW4oZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX3JldiAhPT0gcmV2KSB7XG4gICAgICB0aHJvdyBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIH1cblxuICAgIHJldHVybiBjcmVhdGVBdHRhY2htZW50KGRvYyk7XG4gIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgLy8gY3JlYXRlIG5ldyBkb2NcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgZWxzZSAqL1xuICAgIGlmIChlcnIucmVhc29uID09PSBNSVNTSU5HX0RPQy5tZXNzYWdlKSB7XG4gICAgICByZXR1cm4gY3JlYXRlQXR0YWNobWVudCh7X2lkOiBkb2NJZH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZUF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdyZW1vdmVBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHNlbGYuZ2V0KGRvY0lkLCBmdW5jdGlvbiAoZXJyLCBvYmopIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICBjYWxsYmFjayhlcnIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAob2JqLl9yZXYgIT09IHJldikge1xuICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoUkVWX0NPTkZMSUNUKSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICghb2JqLl9hdHRhY2htZW50cykge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7XG4gICAgfVxuICAgIGRlbGV0ZSBvYmouX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF07XG4gICAgaWYgKE9iamVjdC5rZXlzKG9iai5fYXR0YWNobWVudHMpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9iai5fYXR0YWNobWVudHM7XG4gICAgfVxuICAgIHNlbGYucHV0KG9iaiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnJlbW92ZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlbW92ZScsIGZ1bmN0aW9uIChkb2NPcklkLCBvcHRzT3JSZXYsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBkb2M7XG4gIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnc3RyaW5nJykge1xuICAgIC8vIGlkLCByZXYsIG9wdHMsIGNhbGxiYWNrIHN0eWxlXG4gICAgZG9jID0ge1xuICAgICAgX2lkOiBkb2NPcklkLFxuICAgICAgX3Jldjogb3B0c09yUmV2XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgIGRvYyA9IGRvY09ySWQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0c09yUmV2O1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0gb3B0c09yUmV2O1xuICAgIH1cbiAgfVxuICBvcHRzID0gb3B0cyB8fCB7fTtcbiAgb3B0cy53YXNfZGVsZXRlID0gdHJ1ZTtcbiAgdmFyIG5ld0RvYyA9IHtfaWQ6IGRvYy5faWQsIF9yZXY6IChkb2MuX3JldiB8fCBvcHRzLnJldil9O1xuICBuZXdEb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICBpZiAoaXNMb2NhbElkKG5ld0RvYy5faWQpICYmIHR5cGVvZiB0aGlzLl9yZW1vdmVMb2NhbCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIHJldHVybiB0aGlzLl9yZW1vdmVMb2NhbChkb2MsIGNhbGxiYWNrKTtcbiAgfVxuICB0aGlzLmJ1bGtEb2NzKHtkb2NzOiBbbmV3RG9jXX0sIG9wdHMsIHlhbmtFcnJvcihjYWxsYmFjaywgbmV3RG9jLl9pZCkpO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmV2c0RpZmYgPVxuICBhZGFwdGVyRnVuKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdmFyIGlkcyA9IE9iamVjdC5rZXlzKHJlcSk7XG5cbiAgaWYgKCFpZHMubGVuZ3RoKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHt9KTtcbiAgfVxuXG4gIHZhciBjb3VudCA9IDA7XG4gIHZhciBtaXNzaW5nID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgZnVuY3Rpb24gYWRkVG9NaXNzaW5nKGlkLCByZXZJZCkge1xuICAgIGlmICghbWlzc2luZy5oYXMoaWQpKSB7XG4gICAgICBtaXNzaW5nLnNldChpZCwge21pc3Npbmc6IFtdfSk7XG4gICAgfVxuICAgIG1pc3NpbmcuZ2V0KGlkKS5taXNzaW5nLnB1c2gocmV2SWQpO1xuICB9XG5cbiAgZnVuY3Rpb24gcHJvY2Vzc0RvYyhpZCwgcmV2X3RyZWUpIHtcbiAgICAvLyBJcyB0aGlzIGZhc3QgZW5vdWdoPyBNYXliZSB3ZSBzaG91bGQgc3dpdGNoIHRvIGEgc2V0IHNpbXVsYXRlZCBieSBhIG1hcFxuICAgIHZhciBtaXNzaW5nRm9ySWQgPSByZXFbaWRdLnNsaWNlKDApO1xuICAgIHRyYXZlcnNlUmV2VHJlZShyZXZfdHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsXG4gICAgICBvcHRzKSB7XG4gICAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgICB2YXIgaWR4ID0gbWlzc2luZ0ZvcklkLmluZGV4T2YocmV2KTtcbiAgICAgICAgaWYgKGlkeCA9PT0gLTEpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBtaXNzaW5nRm9ySWQuc3BsaWNlKGlkeCwgMSk7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy5zdGF0dXMgIT09ICdhdmFpbGFibGUnKSB7XG4gICAgICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgICAgICB9XG4gICAgICB9KTtcblxuICAgIC8vIFRyYXZlcnNpbmcgdGhlIHRyZWUgaXMgc3luY2hyb25vdXMsIHNvIG5vdyBgbWlzc2luZ0ZvcklkYCBjb250YWluc1xuICAgIC8vIHJldmlzaW9ucyB0aGF0IHdlcmUgbm90IGZvdW5kIGluIHRoZSB0cmVlXG4gICAgbWlzc2luZ0ZvcklkLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgICAgYWRkVG9NaXNzaW5nKGlkLCByZXYpO1xuICAgIH0pO1xuICB9XG5cbiAgaWRzLm1hcChmdW5jdGlvbiAoaWQpIHtcbiAgICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoaWQsIGZ1bmN0aW9uIChlcnIsIHJldl90cmVlKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgPT09IDQwNCAmJiBlcnIubWVzc2FnZSA9PT0gJ21pc3NpbmcnKSB7XG4gICAgICAgIG1pc3Npbmcuc2V0KGlkLCB7bWlzc2luZzogcmVxW2lkXX0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwcm9jZXNzRG9jKGlkLCByZXZfdHJlZSk7XG4gICAgICB9XG5cbiAgICAgIGlmICgrK2NvdW50ID09PSBpZHMubGVuZ3RoKSB7XG4gICAgICAgIC8vIGNvbnZlcnQgTGF6eU1hcCB0byBvYmplY3RcbiAgICAgICAgdmFyIG1pc3NpbmdPYmogPSB7fTtcbiAgICAgICAgbWlzc2luZy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgICAgICAgbWlzc2luZ09ialtrZXldID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sobnVsbCwgbWlzc2luZ09iaik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIHRoaXMpO1xufSk7XG5cbi8vIF9idWxrX2dldCBBUEkgZm9yIGZhc3RlciByZXBsaWNhdGlvbiwgYXMgZGVzY3JpYmVkIGluXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYXBhY2hlL2NvdWNoZGItY2h0dHBkL3B1bGwvMzNcbi8vIEF0IHRoZSBcImFic3RyYWN0XCIgbGV2ZWwsIGl0IHdpbGwganVzdCBydW4gbXVsdGlwbGUgZ2V0KClzIGluXG4vLyBwYXJhbGxlbCwgYmVjYXVzZSB0aGlzIGlzbid0IG11Y2ggb2YgYSBwZXJmb3JtYW5jZSBjb3N0XG4vLyBmb3IgbG9jYWwgZGF0YWJhc2VzIChleGNlcHQgdGhlIGNvc3Qgb2YgbXVsdGlwbGUgdHJhbnNhY3Rpb25zLCB3aGljaCBpc1xuLy8gc21hbGwpLiBUaGUgaHR0cCBhZGFwdGVyIG92ZXJyaWRlcyB0aGlzIGluIG9yZGVyXG4vLyB0byBkbyBhIG1vcmUgZWZmaWNpZW50IHNpbmdsZSBIVFRQIHJlcXVlc3QuXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmJ1bGtHZXQgPVxuICBhZGFwdGVyRnVuKCdidWxrR2V0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGJ1bGtHZXQodGhpcywgb3B0cywgY2FsbGJhY2spO1xufSk7XG5cbi8vIGNvbXBhY3Qgb25lIGRvY3VtZW50IGFuZCBmaXJlIGNhbGxiYWNrXG4vLyBieSBjb21wYWN0aW5nIHdlIG1lYW4gcmVtb3ZpbmcgYWxsIHJldmlzaW9ucyB3aGljaFxuLy8gYXJlIGZ1cnRoZXIgZnJvbSB0aGUgbGVhZiBpbiByZXZpc2lvbiB0cmVlIHRoYW4gbWF4X2hlaWdodFxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0RG9jdW1lbnQgPVxuICBhZGFwdGVyRnVuKCdjb21wYWN0RG9jdW1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIG1heEhlaWdodCwgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB0aGlzLl9nZXRSZXZpc2lvblRyZWUoZG9jSWQsIGZ1bmN0aW9uIChlcnIsIHJldlRyZWUpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgdmFyIGhlaWdodCA9IGNvbXB1dGVIZWlnaHQocmV2VHJlZSk7XG4gICAgdmFyIGNhbmRpZGF0ZXMgPSBbXTtcbiAgICB2YXIgcmV2cyA9IFtdO1xuICAgIE9iamVjdC5rZXlzKGhlaWdodCkuZm9yRWFjaChmdW5jdGlvbiAocmV2KSB7XG4gICAgICBpZiAoaGVpZ2h0W3Jldl0gPiBtYXhIZWlnaHQpIHtcbiAgICAgICAgY2FuZGlkYXRlcy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0cmF2ZXJzZVJldlRyZWUocmV2VHJlZSwgZnVuY3Rpb24gKGlzTGVhZiwgcG9zLCByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgIHZhciByZXYgPSBwb3MgKyAnLScgKyByZXZIYXNoO1xuICAgICAgaWYgKG9wdHMuc3RhdHVzID09PSAnYXZhaWxhYmxlJyAmJiBjYW5kaWRhdGVzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgcmV2cy5wdXNoKHJldik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2VsZi5fZG9Db21wYWN0aW9uKGRvY0lkLCByZXZzLCBjYWxsYmFjayk7XG4gIH0pO1xufSk7XG5cbi8vIGNvbXBhY3QgdGhlIHdob2xlIGRhdGFiYXNlIHVzaW5nIHNpbmdsZSBkb2N1bWVudFxuLy8gY29tcGFjdGlvblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jb21wYWN0ID1cbiAgYWRhcHRlckZ1bignY29tcGFjdCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG5cbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICBzZWxmLl9jb21wYWN0aW9uUXVldWUgPSBzZWxmLl9jb21wYWN0aW9uUXVldWUgfHwgW107XG4gIHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5wdXNoKHtvcHRzOiBvcHRzLCBjYWxsYmFjazogY2FsbGJhY2t9KTtcbiAgaWYgKHNlbGYuX2NvbXBhY3Rpb25RdWV1ZS5sZW5ndGggPT09IDEpIHtcbiAgICBkb05leHRDb21wYWN0aW9uKHNlbGYpO1xuICB9XG59KTtcbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuX2NvbXBhY3QgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICB2YXIgY2hhbmdlc09wdHMgPSB7XG4gICAgcmV0dXJuX2RvY3M6IGZhbHNlLFxuICAgIGxhc3Rfc2VxOiBvcHRzLmxhc3Rfc2VxIHx8IDBcbiAgfTtcbiAgdmFyIHByb21pc2VzID0gW107XG5cbiAgZnVuY3Rpb24gb25DaGFuZ2Uocm93KSB7XG4gICAgcHJvbWlzZXMucHVzaChzZWxmLmNvbXBhY3REb2N1bWVudChyb3cuaWQsIDApKTtcbiAgfVxuICBmdW5jdGlvbiBvbkNvbXBsZXRlKHJlc3ApIHtcbiAgICB2YXIgbGFzdFNlcSA9IHJlc3AubGFzdF9zZXE7XG4gICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHVwc2VydChzZWxmLCAnX2xvY2FsL2NvbXBhY3Rpb24nLCBmdW5jdGlvbiBkZWx0YUZ1bmMoZG9jKSB7XG4gICAgICAgIGlmICghZG9jLmxhc3Rfc2VxIHx8IGRvYy5sYXN0X3NlcSA8IGxhc3RTZXEpIHtcbiAgICAgICAgICBkb2MubGFzdF9zZXEgPSBsYXN0U2VxO1xuICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBzb21lYm9keSBlbHNlIGdvdCBoZXJlIGZpcnN0LCBkb24ndCB1cGRhdGVcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwge29rOiB0cnVlfSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9XG4gIHNlbGYuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAub24oJ2NoYW5nZScsIG9uQ2hhbmdlKVxuICAgIC5vbignY29tcGxldGUnLCBvbkNvbXBsZXRlKVxuICAgIC5vbignZXJyb3InLCBjYWxsYmFjayk7XG59O1xuXG4vKiBCZWdpbiBhcGkgd3JhcHBlcnMuIFNwZWNpZmljIGZ1bmN0aW9uYWxpdHkgdG8gc3RvcmFnZSBiZWxvbmdzIGluIHRoZVxuICAgX1ttZXRob2RdICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldCA9IGFkYXB0ZXJGdW4oJ2dldCcsIGZ1bmN0aW9uIChpZCwgb3B0cywgY2IpIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBpZiAodHlwZW9mIGlkICE9PSAnc3RyaW5nJykge1xuICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX0lEKSk7XG4gIH1cbiAgaWYgKGlzTG9jYWxJZChpZCkgJiYgdHlwZW9mIHRoaXMuX2dldExvY2FsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgcmV0dXJuIHRoaXMuX2dldExvY2FsKGlkLCBjYik7XG4gIH1cbiAgdmFyIGxlYXZlcyA9IFtdLCBzZWxmID0gdGhpcztcblxuICBmdW5jdGlvbiBmaW5pc2hPcGVuUmV2cygpIHtcbiAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgdmFyIGNvdW50ID0gbGVhdmVzLmxlbmd0aDtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoIWNvdW50KSB7XG4gICAgICByZXR1cm4gY2IobnVsbCwgcmVzdWx0KTtcbiAgICB9XG5cbiAgICAvLyBvcmRlciB3aXRoIG9wZW5fcmV2cyBpcyB1bnNwZWNpZmllZFxuICAgIGxlYXZlcy5mb3JFYWNoKGZ1bmN0aW9uIChsZWFmKSB7XG4gICAgICBzZWxmLmdldChpZCwge1xuICAgICAgICByZXY6IGxlYWYsXG4gICAgICAgIHJldnM6IG9wdHMucmV2cyxcbiAgICAgICAgbGF0ZXN0OiBvcHRzLmxhdGVzdCxcbiAgICAgICAgYXR0YWNobWVudHM6IG9wdHMuYXR0YWNobWVudHMsXG4gICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgIH0sIGZ1bmN0aW9uIChlcnIsIGRvYykge1xuICAgICAgICBpZiAoIWVycikge1xuICAgICAgICAgIC8vIHVzaW5nIGxhdGVzdD10cnVlIGNhbiBwcm9kdWNlIGR1cGxpY2F0ZXNcbiAgICAgICAgICB2YXIgZXhpc3Rpbmc7XG4gICAgICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSByZXN1bHQubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAocmVzdWx0W2ldLm9rICYmIHJlc3VsdFtpXS5vay5fcmV2ID09PSBkb2MuX3Jldikge1xuICAgICAgICAgICAgICBleGlzdGluZyA9IHRydWU7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIWV4aXN0aW5nKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaCh7b2s6IGRvY30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh7bWlzc2luZzogbGVhZn0pO1xuICAgICAgICB9XG4gICAgICAgIGNvdW50LS07XG4gICAgICAgIGlmICghY291bnQpIHtcbiAgICAgICAgICBjYihudWxsLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChvcHRzLm9wZW5fcmV2cykge1xuICAgIGlmIChvcHRzLm9wZW5fcmV2cyA9PT0gXCJhbGxcIikge1xuICAgICAgdGhpcy5fZ2V0UmV2aXNpb25UcmVlKGlkLCBmdW5jdGlvbiAoZXJyLCByZXZfdHJlZSkge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgICB9XG4gICAgICAgIGxlYXZlcyA9IGNvbGxlY3RMZWF2ZXMocmV2X3RyZWUpLm1hcChmdW5jdGlvbiAobGVhZikge1xuICAgICAgICAgIHJldHVybiBsZWFmLnJldjtcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbmlzaE9wZW5SZXZzKCk7XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkob3B0cy5vcGVuX3JldnMpKSB7XG4gICAgICAgIGxlYXZlcyA9IG9wdHMub3Blbl9yZXZzO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlYXZlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgIHZhciBsID0gbGVhdmVzW2ldO1xuICAgICAgICAgIC8vIGxvb2tzIGxpa2UgaXQncyB0aGUgb25seSB0aGluZyBjb3VjaGRiIGNoZWNrc1xuICAgICAgICAgIGlmICghKHR5cGVvZiAobCkgPT09IFwic3RyaW5nXCIgJiYgL15cXGQrLS8udGVzdChsKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBjYihjcmVhdGVFcnJvcihJTlZBTElEX1JFVikpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmaW5pc2hPcGVuUmV2cygpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGNiKGNyZWF0ZUVycm9yKFVOS05PV05fRVJST1IsICdmdW5jdGlvbl9jbGF1c2UnKSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybjsgLy8gb3Blbl9yZXZzIGRvZXMgbm90IGxpa2Ugb3RoZXIgb3B0aW9uc1xuICB9XG5cbiAgcmV0dXJuIHRoaXMuX2dldChpZCwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzdWx0KSB7XG4gICAgaWYgKGVycikge1xuICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICByZXR1cm4gY2IoZXJyKTtcbiAgICB9XG5cbiAgICB2YXIgZG9jID0gcmVzdWx0LmRvYztcbiAgICB2YXIgbWV0YWRhdGEgPSByZXN1bHQubWV0YWRhdGE7XG4gICAgdmFyIGN0eCA9IHJlc3VsdC5jdHg7XG5cbiAgICBpZiAob3B0cy5jb25mbGljdHMpIHtcbiAgICAgIHZhciBjb25mbGljdHMgPSBjb2xsZWN0Q29uZmxpY3RzKG1ldGFkYXRhKTtcbiAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgIGRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgfVxuICAgIH1cblxuICAgIGlmIChpc0RlbGV0ZWQobWV0YWRhdGEsIGRvYy5fcmV2KSkge1xuICAgICAgZG9jLl9kZWxldGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzIHx8IG9wdHMucmV2c19pbmZvKSB7XG4gICAgICB2YXIgc3BsaXR0ZWRSZXYgPSBkb2MuX3Jldi5zcGxpdCgnLScpO1xuICAgICAgdmFyIHJldk5vICAgICAgID0gcGFyc2VJbnQoc3BsaXR0ZWRSZXZbMF0sIDEwKTtcbiAgICAgIHZhciByZXZIYXNoICAgICA9IHNwbGl0dGVkUmV2WzFdO1xuXG4gICAgICB2YXIgcGF0aHMgPSByb290VG9MZWFmKG1ldGFkYXRhLnJldl90cmVlKTtcbiAgICAgIHZhciBwYXRoID0gbnVsbDtcblxuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwYXRocy5sZW5ndGg7IGkrKykge1xuICAgICAgICB2YXIgY3VycmVudFBhdGggPSBwYXRoc1tpXTtcbiAgICAgICAgdmFyIGhhc2hJbmRleCA9IGN1cnJlbnRQYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHgpIHsgcmV0dXJuIHguaWQ7IH0pXG4gICAgICAgICAgLmluZGV4T2YocmV2SGFzaCk7XG4gICAgICAgIHZhciBoYXNoRm91bmRBdFJldlBvcyA9IGhhc2hJbmRleCA9PT0gKHJldk5vIC0gMSk7XG5cbiAgICAgICAgaWYgKGhhc2hGb3VuZEF0UmV2UG9zIHx8ICghcGF0aCAmJiBoYXNoSW5kZXggIT09IC0xKSkge1xuICAgICAgICAgIHBhdGggPSBjdXJyZW50UGF0aDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmICghcGF0aCkge1xuICAgICAgICBlcnIgPSBuZXcgRXJyb3IoJ2ludmFsaWQgcmV2IHRyZWUnKTtcbiAgICAgICAgZXJyLmRvY0lkID0gaWQ7XG4gICAgICAgIHJldHVybiBjYihlcnIpO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXhPZlJldiA9IHBhdGguaWRzLm1hcChmdW5jdGlvbiAoeCkgeyByZXR1cm4geC5pZDsgfSlcbiAgICAgICAgLmluZGV4T2YoZG9jLl9yZXYuc3BsaXQoJy0nKVsxXSkgKyAxO1xuICAgICAgdmFyIGhvd01hbnkgPSBwYXRoLmlkcy5sZW5ndGggLSBpbmRleE9mUmV2O1xuICAgICAgcGF0aC5pZHMuc3BsaWNlKGluZGV4T2ZSZXYsIGhvd01hbnkpO1xuICAgICAgcGF0aC5pZHMucmV2ZXJzZSgpO1xuXG4gICAgICBpZiAob3B0cy5yZXZzKSB7XG4gICAgICAgIGRvYy5fcmV2aXNpb25zID0ge1xuICAgICAgICAgIHN0YXJ0OiAocGF0aC5wb3MgKyBwYXRoLmlkcy5sZW5ndGgpIC0gMSxcbiAgICAgICAgICBpZHM6IHBhdGguaWRzLm1hcChmdW5jdGlvbiAocmV2KSB7XG4gICAgICAgICAgICByZXR1cm4gcmV2LmlkO1xuICAgICAgICAgIH0pXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgICAgdmFyIHBvcyA9ICBwYXRoLnBvcyArIHBhdGguaWRzLmxlbmd0aDtcbiAgICAgICAgZG9jLl9yZXZzX2luZm8gPSBwYXRoLmlkcy5tYXAoZnVuY3Rpb24gKHJldikge1xuICAgICAgICAgIHBvcy0tO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICByZXY6IHBvcyArICctJyArIHJldi5pZCxcbiAgICAgICAgICAgIHN0YXR1czogcmV2Lm9wdHMuc3RhdHVzXG4gICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgZG9jLl9hdHRhY2htZW50cykge1xuICAgICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jLl9hdHRhY2htZW50cztcbiAgICAgIHZhciBjb3VudCA9IE9iamVjdC5rZXlzKGF0dGFjaG1lbnRzKS5sZW5ndGg7XG4gICAgICBpZiAoY291bnQgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGNiKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgICBPYmplY3Qua2V5cyhhdHRhY2htZW50cykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIHRoaXMuX2dldEF0dGFjaG1lbnQoZG9jLl9pZCwga2V5LCBhdHRhY2htZW50c1trZXldLCB7XG4gICAgICAgICAgLy8gUHJldmlvdXNseSB0aGUgcmV2aXNpb24gaGFuZGxpbmcgd2FzIGRvbmUgaW4gYWRhcHRlci5qc1xuICAgICAgICAgIC8vIGdldEF0dGFjaG1lbnQsIGhvd2V2ZXIgc2luY2UgaWRiLW5leHQgZG9lc250IHdlIG5lZWQgdG9cbiAgICAgICAgICAvLyBwYXNzIHRoZSByZXYgdGhyb3VnaFxuICAgICAgICAgIHJldjogZG9jLl9yZXYsXG4gICAgICAgICAgYmluYXJ5OiBvcHRzLmJpbmFyeSxcbiAgICAgICAgICBjdHg6IGN0eFxuICAgICAgICB9LCBmdW5jdGlvbiAoZXJyLCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGF0dCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgIGlmICghLS1jb3VudCkge1xuICAgICAgICAgICAgY2IobnVsbCwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSwgc2VsZik7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgIGZvciAodmFyIGtleSBpbiBkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvYy5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgICAgIGRvYy5fYXR0YWNobWVudHNba2V5XS5zdHViID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGNiKG51bGwsIGRvYyk7XG4gICAgfVxuICB9KTtcbn0pO1xuXG4vLyBUT0RPOiBJIGRvbnQgbGlrZSB0aGlzLCBpdCBmb3JjZXMgYW4gZXh0cmEgcmVhZCBmb3IgZXZlcnlcbi8vIGF0dGFjaG1lbnQgcmVhZCBhbmQgZW5mb3JjZXMgYSBjb25mdXNpbmcgYXBpIGJldHdlZW5cbi8vIGFkYXB0ZXIuanMgYW5kIHRoZSBhZGFwdGVyIGltcGxlbWVudGF0aW9uXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLmdldEF0dGFjaG1lbnQgPVxuICBhZGFwdGVyRnVuKCdnZXRBdHRhY2htZW50JywgZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2htZW50SWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKG9wdHMgaW5zdGFuY2VvZiBGdW5jdGlvbikge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgdGhpcy5fZ2V0KGRvY0lkLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICB9XG4gICAgaWYgKHJlcy5kb2MuX2F0dGFjaG1lbnRzICYmIHJlcy5kb2MuX2F0dGFjaG1lbnRzW2F0dGFjaG1lbnRJZF0pIHtcbiAgICAgIG9wdHMuY3R4ID0gcmVzLmN0eDtcbiAgICAgIG9wdHMuYmluYXJ5ID0gdHJ1ZTtcbiAgICAgIHNlbGYuX2dldEF0dGFjaG1lbnQoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmRvYy5fYXR0YWNobWVudHNbYXR0YWNobWVudElkXSwgb3B0cywgY2FsbGJhY2spO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICB9XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuYWxsRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuICBvcHRzLnNraXAgPSB0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJyA/IG9wdHMuc2tpcCA6IDA7XG4gIGlmIChvcHRzLnN0YXJ0X2tleSkge1xuICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgfVxuICBpZiAob3B0cy5lbmRfa2V5KSB7XG4gICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gIH1cbiAgaWYgKCdrZXlzJyBpbiBvcHRzKSB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KG9wdHMua2V5cykpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgVHlwZUVycm9yKCdvcHRpb25zLmtleXMgbXVzdCBiZSBhbiBhcnJheScpKTtcbiAgICB9XG4gICAgdmFyIGluY29tcGF0aWJsZU9wdCA9XG4gICAgICBbJ3N0YXJ0a2V5JywgJ2VuZGtleScsICdrZXknXS5maWx0ZXIoZnVuY3Rpb24gKGluY29tcGF0aWJsZU9wdCkge1xuICAgICAgcmV0dXJuIGluY29tcGF0aWJsZU9wdCBpbiBvcHRzO1xuICAgIH0pWzBdO1xuICAgIGlmIChpbmNvbXBhdGlibGVPcHQpIHtcbiAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFFVRVJZX1BBUlNFX0VSUk9SLFxuICAgICAgICAnUXVlcnkgcGFyYW1ldGVyIGAnICsgaW5jb21wYXRpYmxlT3B0ICtcbiAgICAgICAgJ2AgaXMgbm90IGNvbXBhdGlibGUgd2l0aCBtdWx0aS1nZXQnXG4gICAgICApKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpc1JlbW90ZSh0aGlzKSkge1xuICAgICAgYWxsRG9jc0tleXNQYXJzZShvcHRzKTtcbiAgICAgIGlmIChvcHRzLmtleXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hbGxEb2NzKHtsaW1pdDogMH0sIGNhbGxiYWNrKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICByZXR1cm4gdGhpcy5fYWxsRG9jcyhvcHRzLCBjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jaGFuZ2VzID0gZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICBvcHRzID0gb3B0cyB8fCB7fTtcblxuICAvLyBCeSBkZWZhdWx0IHNldCByZXR1cm5fZG9jcyB0byBmYWxzZSBpZiB0aGUgY2FsbGVyIGhhcyBvcHRzLmxpdmUgPSB0cnVlLFxuICAvLyB0aGlzIHdpbGwgcHJldmVudCB1cyBmcm9tIGNvbGxlY3RpbmcgdGhlIHNldCBvZiBjaGFuZ2VzIGluZGVmaW5pdGVseVxuICAvLyByZXN1bHRpbmcgaW4gZ3Jvd2luZyBtZW1vcnlcbiAgb3B0cy5yZXR1cm5fZG9jcyA9ICgncmV0dXJuX2RvY3MnIGluIG9wdHMpID8gb3B0cy5yZXR1cm5fZG9jcyA6ICFvcHRzLmxpdmU7XG5cbiAgcmV0dXJuIG5ldyBDaGFuZ2VzJDEodGhpcywgb3B0cywgY2FsbGJhY2spO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5jbG9zZSA9IGFkYXB0ZXJGdW4oJ2Nsb3NlJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gIHRoaXMuX2Nsb3NlZCA9IHRydWU7XG4gIHRoaXMuZW1pdCgnY2xvc2VkJyk7XG4gIHJldHVybiB0aGlzLl9jbG9zZShjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5pbmZvID0gYWRhcHRlckZ1bignaW5mbycsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2luZm8oZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICAvLyBhc3N1bWUgd2Uga25vdyBiZXR0ZXIgdGhhbiB0aGUgYWRhcHRlciwgdW5sZXNzIGl0IGluZm9ybXMgdXNcbiAgICBpbmZvLmRiX25hbWUgPSBpbmZvLmRiX25hbWUgfHwgc2VsZi5uYW1lO1xuICAgIGluZm8uYXV0b19jb21wYWN0aW9uID0gISEoc2VsZi5hdXRvX2NvbXBhY3Rpb24gJiYgIWlzUmVtb3RlKHNlbGYpKTtcbiAgICBpbmZvLmFkYXB0ZXIgPSBzZWxmLmFkYXB0ZXI7XG4gICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUuaWQgPSBhZGFwdGVyRnVuKCdpZCcsIGZ1bmN0aW9uIChjYWxsYmFjaykge1xuICByZXR1cm4gdGhpcy5faWQoY2FsbGJhY2spO1xufSk7XG5cbi8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG5BYnN0cmFjdFBvdWNoREIucHJvdG90eXBlLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiAodHlwZW9mIHRoaXMuX3R5cGUgPT09ICdmdW5jdGlvbicpID8gdGhpcy5fdHlwZSgpIDogdGhpcy5hZGFwdGVyO1xufTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5idWxrRG9jcyA9XG4gIGFkYXB0ZXJGdW4oJ2J1bGtEb2NzJywgZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChBcnJheS5pc0FycmF5KHJlcSkpIHtcbiAgICByZXEgPSB7XG4gICAgICBkb2NzOiByZXFcbiAgICB9O1xuICB9XG5cbiAgaWYgKCFyZXEgfHwgIXJlcS5kb2NzIHx8ICFBcnJheS5pc0FycmF5KHJlcS5kb2NzKSkge1xuICAgIHJldHVybiBjYWxsYmFjayhjcmVhdGVFcnJvcihNSVNTSU5HX0JVTEtfRE9DUykpO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCByZXEuZG9jcy5sZW5ndGg7ICsraSkge1xuICAgIGlmICh0eXBlb2YgcmVxLmRvY3NbaV0gIT09ICdvYmplY3QnIHx8IEFycmF5LmlzQXJyYXkocmVxLmRvY3NbaV0pKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTk9UX0FOX09CSkVDVCkpO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhdHRhY2htZW50RXJyb3I7XG4gIHJlcS5kb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgIGlmIChkb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgICAgIGF0dGFjaG1lbnRFcnJvciA9IGF0dGFjaG1lbnRFcnJvciB8fCBhdHRhY2htZW50TmFtZUVycm9yKG5hbWUpO1xuICAgICAgICBpZiAoIWRvYy5fYXR0YWNobWVudHNbbmFtZV0uY29udGVudF90eXBlKSB7XG4gICAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ3dhcm4nLCAnQXR0YWNobWVudCcsIG5hbWUsICdvbiBkb2N1bWVudCcsIGRvYy5faWQsICdpcyBtaXNzaW5nIGNvbnRlbnRfdHlwZScpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmIChhdHRhY2htZW50RXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX1JFUVVFU1QsIGF0dGFjaG1lbnRFcnJvcikpO1xuICB9XG5cbiAgaWYgKCEoJ25ld19lZGl0cycgaW4gb3B0cykpIHtcbiAgICBpZiAoJ25ld19lZGl0cycgaW4gcmVxKSB7XG4gICAgICBvcHRzLm5ld19lZGl0cyA9IHJlcS5uZXdfZWRpdHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMubmV3X2VkaXRzID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICB2YXIgYWRhcHRlciA9IHRoaXM7XG4gIGlmICghb3B0cy5uZXdfZWRpdHMgJiYgIWlzUmVtb3RlKGFkYXB0ZXIpKSB7XG4gICAgLy8gZW5zdXJlIHJldmlzaW9ucyBvZiB0aGUgc2FtZSBkb2MgYXJlIHNvcnRlZCwgc28gdGhhdFxuICAgIC8vIHRoZSBsb2NhbCBhZGFwdGVyIHByb2Nlc3NlcyB0aGVtIGNvcnJlY3RseSAoIzI5MzUpXG4gICAgcmVxLmRvY3Muc29ydChjb21wYXJlQnlJZFRoZW5SZXYpO1xuICB9XG5cbiAgY2xlYW5Eb2NzKHJlcS5kb2NzKTtcblxuICAvLyBpbiB0aGUgY2FzZSBvZiBjb25mbGljdHMsIHdlIHdhbnQgdG8gcmV0dXJuIHRoZSBfaWRzIHRvIHRoZSB1c2VyXG4gIC8vIGhvd2V2ZXIsIHRoZSB1bmRlcmx5aW5nIGFkYXB0ZXIgbWF5IGRlc3Ryb3kgdGhlIGRvY3MgYXJyYXksIHNvXG4gIC8vIGNyZWF0ZSBhIGNvcHkgaGVyZVxuICB2YXIgaWRzID0gcmVxLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9pZDtcbiAgfSk7XG5cbiAgcmV0dXJuIHRoaXMuX2J1bGtEb2NzKHJlcSwgb3B0cywgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIGlmICghb3B0cy5uZXdfZWRpdHMpIHtcbiAgICAgIC8vIHRoaXMgaXMgd2hhdCBjb3VjaCBkb2VzIHdoZW4gbmV3X2VkaXRzIGlzIGZhbHNlXG4gICAgICByZXMgPSByZXMuZmlsdGVyKGZ1bmN0aW9uICh4KSB7XG4gICAgICAgIHJldHVybiB4LmVycm9yO1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIGFkZCBpZHMgZm9yIGVycm9yL2NvbmZsaWN0IHJlc3BvbnNlcyAobm90IHJlcXVpcmVkIGZvciBDb3VjaERCKVxuICAgIGlmICghaXNSZW1vdGUoYWRhcHRlcikpIHtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsID0gcmVzLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgICByZXNbaV0uaWQgPSByZXNbaV0uaWQgfHwgaWRzW2ldO1xuICAgICAgfVxuICAgIH1cblxuICAgIGNhbGxiYWNrKG51bGwsIHJlcyk7XG4gIH0pO1xufSk7XG5cbkFic3RyYWN0UG91Y2hEQi5wcm90b3R5cGUucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZSA9XG4gIGFkYXB0ZXJGdW4oJ3JlZ2lzdGVyRGVwZW5kZW50RGF0YWJhc2UnLCBmdW5jdGlvbiAoZGVwZW5kZW50RGIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2spIHtcbiAgdmFyIGRiT3B0aW9ucyA9IGNsb25lKHRoaXMuX19vcHRzKTtcbiAgaWYgKHRoaXMuX19vcHRzLnZpZXdfYWRhcHRlcikge1xuICAgIGRiT3B0aW9ucy5hZGFwdGVyID0gdGhpcy5fX29wdHMudmlld19hZGFwdGVyO1xuICB9XG5cbiAgdmFyIGRlcERCID0gbmV3IHRoaXMuY29uc3RydWN0b3IoZGVwZW5kZW50RGIsIGRiT3B0aW9ucyk7XG5cbiAgZnVuY3Rpb24gZGlmZkZ1bihkb2MpIHtcbiAgICBkb2MuZGVwZW5kZW50RGJzID0gZG9jLmRlcGVuZGVudERicyB8fCB7fTtcbiAgICBpZiAoZG9jLmRlcGVuZGVudERic1tkZXBlbmRlbnREYl0pIHtcbiAgICAgIHJldHVybiBmYWxzZTsgLy8gbm8gdXBkYXRlIHJlcXVpcmVkXG4gICAgfVxuICAgIGRvYy5kZXBlbmRlbnREYnNbZGVwZW5kZW50RGJdID0gdHJ1ZTtcbiAgICByZXR1cm4gZG9jO1xuICB9XG4gIHVwc2VydCh0aGlzLCAnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBkaWZmRnVuKVxuICAgIC50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtkYjogZGVwREJ9KTtcbiAgICB9KS5jYXRjaChjYWxsYmFjayk7XG59KTtcblxuQWJzdHJhY3RQb3VjaERCLnByb3RvdHlwZS5kZXN0cm95ID1cbiAgYWRhcHRlckZ1bignZGVzdHJveScsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciB1c2VQcmVmaXggPSAndXNlX3ByZWZpeCcgaW4gc2VsZiA/IHNlbGYudXNlX3ByZWZpeCA6IHRydWU7XG5cbiAgZnVuY3Rpb24gZGVzdHJveURiKCkge1xuICAgIC8vIGNhbGwgZGVzdHJveSBtZXRob2Qgb2YgdGhlIHBhcnRpY3VsYXIgYWRhcHRvclxuICAgIHNlbGYuX2Rlc3Ryb3kob3B0cywgZnVuY3Rpb24gKGVyciwgcmVzcCkge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH1cbiAgICAgIHNlbGYuX2Rlc3Ryb3llZCA9IHRydWU7XG4gICAgICBzZWxmLmVtaXQoJ2Rlc3Ryb3llZCcpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzcCB8fCB7ICdvayc6IHRydWUgfSk7XG4gICAgfSk7XG4gIH1cblxuICBpZiAoaXNSZW1vdGUoc2VsZikpIHtcbiAgICAvLyBubyBuZWVkIHRvIGNoZWNrIGZvciBkZXBlbmRlbnQgREJzIGlmIGl0J3MgYSByZW1vdGUgREJcbiAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gIH1cblxuICBzZWxmLmdldCgnX2xvY2FsL19wb3VjaF9kZXBlbmRlbnREYnMnLCBmdW5jdGlvbiAoZXJyLCBsb2NhbERvYykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7IC8vIG5vIGRlcGVuZGVuY2llc1xuICAgICAgICByZXR1cm4gZGVzdHJveURiKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHZhciBkZXBlbmRlbnREYnMgPSBsb2NhbERvYy5kZXBlbmRlbnREYnM7XG4gICAgdmFyIFBvdWNoREIgPSBzZWxmLmNvbnN0cnVjdG9yO1xuICAgIHZhciBkZWxldGVkTWFwID0gT2JqZWN0LmtleXMoZGVwZW5kZW50RGJzKS5tYXAoZnVuY3Rpb24gKG5hbWUpIHtcbiAgICAgIC8vIHVzZV9wcmVmaXggaXMgb25seSBmYWxzZSBpbiB0aGUgYnJvd3NlclxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHZhciB0cnVlTmFtZSA9IHVzZVByZWZpeCA/XG4gICAgICAgIG5hbWUucmVwbGFjZShuZXcgUmVnRXhwKCdeJyArIFBvdWNoREIucHJlZml4KSwgJycpIDogbmFtZTtcbiAgICAgIHJldHVybiBuZXcgUG91Y2hEQih0cnVlTmFtZSwgc2VsZi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICB9KTtcbiAgICBQcm9taXNlLmFsbChkZWxldGVkTWFwKS50aGVuKGRlc3Ryb3lEYiwgY2FsbGJhY2spO1xuICB9KTtcbn0pO1xuXG5mdW5jdGlvbiBUYXNrUXVldWUoKSB7XG4gIHRoaXMuaXNSZWFkeSA9IGZhbHNlO1xuICB0aGlzLmZhaWxlZCA9IGZhbHNlO1xuICB0aGlzLnF1ZXVlID0gW107XG59XG5cblRhc2tRdWV1ZS5wcm90b3R5cGUuZXhlY3V0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgdmFyIGZ1bjtcbiAgaWYgKHRoaXMuZmFpbGVkKSB7XG4gICAgd2hpbGUgKChmdW4gPSB0aGlzLnF1ZXVlLnNoaWZ0KCkpKSB7XG4gICAgICBmdW4odGhpcy5mYWlsZWQpO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB3aGlsZSAoKGZ1biA9IHRoaXMucXVldWUuc2hpZnQoKSkpIHtcbiAgICAgIGZ1bigpO1xuICAgIH1cbiAgfVxufTtcblxuVGFza1F1ZXVlLnByb3RvdHlwZS5mYWlsID0gZnVuY3Rpb24gKGVycikge1xuICB0aGlzLmZhaWxlZCA9IGVycjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLnJlYWR5ID0gZnVuY3Rpb24gKGRiKSB7XG4gIHRoaXMuaXNSZWFkeSA9IHRydWU7XG4gIHRoaXMuZGIgPSBkYjtcbiAgdGhpcy5leGVjdXRlKCk7XG59O1xuXG5UYXNrUXVldWUucHJvdG90eXBlLmFkZFRhc2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gIHRoaXMucXVldWUucHVzaChmdW4pO1xuICBpZiAodGhpcy5mYWlsZWQpIHtcbiAgICB0aGlzLmV4ZWN1dGUoKTtcbiAgfVxufTtcblxuZnVuY3Rpb24gcGFyc2VBZGFwdGVyKG5hbWUsIG9wdHMpIHtcbiAgdmFyIG1hdGNoID0gbmFtZS5tYXRjaCgvKFthLXotXSopOlxcL1xcLyguKikvKTtcbiAgaWYgKG1hdGNoKSB7XG4gICAgLy8gdGhlIGh0dHAgYWRhcHRlciBleHBlY3RzIHRoZSBmdWxseSBxdWFsaWZpZWQgbmFtZVxuICAgIHJldHVybiB7XG4gICAgICBuYW1lOiAvaHR0cHM/Ly50ZXN0KG1hdGNoWzFdKSA/IG1hdGNoWzFdICsgJzovLycgKyBtYXRjaFsyXSA6IG1hdGNoWzJdLFxuICAgICAgYWRhcHRlcjogbWF0Y2hbMV1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGFkYXB0ZXJzID0gUG91Y2hEQi5hZGFwdGVycztcbiAgdmFyIHByZWZlcnJlZEFkYXB0ZXJzID0gUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycztcbiAgdmFyIHByZWZpeCA9IFBvdWNoREIucHJlZml4O1xuICB2YXIgYWRhcHRlck5hbWUgPSBvcHRzLmFkYXB0ZXI7XG5cbiAgaWYgKCFhZGFwdGVyTmFtZSkgeyAvLyBhdXRvbWF0aWNhbGx5IGRldGVybWluZSBhZGFwdGVyXG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBwcmVmZXJyZWRBZGFwdGVycy5sZW5ndGg7ICsraSkge1xuICAgICAgYWRhcHRlck5hbWUgPSBwcmVmZXJyZWRBZGFwdGVyc1tpXTtcbiAgICAgIC8vIGNoZWNrIGZvciBicm93c2VycyB0aGF0IGhhdmUgYmVlbiB1cGdyYWRlZCBmcm9tIHdlYnNxbC1vbmx5IHRvIHdlYnNxbCtpZGJcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGFkYXB0ZXJOYW1lID09PSAnaWRiJyAmJiAnd2Vic3FsJyBpbiBhZGFwdGVycyAmJlxuICAgICAgICAgIGhhc0xvY2FsU3RvcmFnZSgpICYmIGxvY2FsU3RvcmFnZVsnX3BvdWNoX193ZWJzcWxkYl8nICsgcHJlZml4ICsgbmFtZV0pIHtcbiAgICAgICAgLy8gbG9nIGl0LCBiZWNhdXNlIHRoaXMgY2FuIGJlIGNvbmZ1c2luZyBkdXJpbmcgZGV2ZWxvcG1lbnRcbiAgICAgICAgZ3VhcmRlZENvbnNvbGUoJ2xvZycsICdQb3VjaERCIGlzIGRvd25ncmFkaW5nIFwiJyArIG5hbWUgKyAnXCIgdG8gV2ViU1FMIHRvJyArXG4gICAgICAgICAgJyBhdm9pZCBkYXRhIGxvc3MsIGJlY2F1c2UgaXQgd2FzIGFscmVhZHkgb3BlbmVkIHdpdGggV2ViU1FMLicpO1xuICAgICAgICBjb250aW51ZTsgLy8ga2VlcCB1c2luZyB3ZWJzcWwgdG8gYXZvaWQgdXNlciBkYXRhIGxvc3NcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuXG4gIHZhciBhZGFwdGVyID0gYWRhcHRlcnNbYWRhcHRlck5hbWVdO1xuXG4gIC8vIGlmIGFkYXB0ZXIgaXMgaW52YWxpZCwgdGhlbiBhbiBlcnJvciB3aWxsIGJlIHRocm93biBsYXRlclxuICB2YXIgdXNlUHJlZml4ID0gKGFkYXB0ZXIgJiYgJ3VzZV9wcmVmaXgnIGluIGFkYXB0ZXIpID9cbiAgICBhZGFwdGVyLnVzZV9wcmVmaXggOiB0cnVlO1xuXG4gIHJldHVybiB7XG4gICAgbmFtZTogdXNlUHJlZml4ID8gKHByZWZpeCArIG5hbWUpIDogbmFtZSxcbiAgICBhZGFwdGVyOiBhZGFwdGVyTmFtZVxuICB9O1xufVxuXG4vLyBPSywgc28gaGVyZSdzIHRoZSBkZWFsLiBDb25zaWRlciB0aGlzIGNvZGU6XG4vLyAgICAgdmFyIGRiMSA9IG5ldyBQb3VjaERCKCdmb28nKTtcbi8vICAgICB2YXIgZGIyID0gbmV3IFBvdWNoREIoJ2ZvbycpO1xuLy8gICAgIGRiMS5kZXN0cm95KCk7XG4vLyBeIHRoZXNlIHR3byBib3RoIG5lZWQgdG8gZW1pdCAnZGVzdHJveWVkJyBldmVudHMsXG4vLyBhcyB3ZWxsIGFzIHRoZSBQb3VjaERCIGNvbnN0cnVjdG9yIGl0c2VsZi5cbi8vIFNvIHdlIGhhdmUgb25lIGRiIG9iamVjdCAod2hpY2hldmVyIG9uZSBnb3QgZGVzdHJveSgpIGNhbGxlZCBvbiBpdClcbi8vIHJlc3BvbnNpYmxlIGZvciBlbWl0dGluZyB0aGUgaW5pdGlhbCBldmVudCwgd2hpY2ggdGhlbiBnZXRzIGVtaXR0ZWRcbi8vIGJ5IHRoZSBjb25zdHJ1Y3Rvciwgd2hpY2ggdGhlbiBicm9hZGNhc3RzIGl0IHRvIGFueSBvdGhlciBkYnNcbi8vIHRoYXQgbWF5IGhhdmUgYmVlbiBjcmVhdGVkIHdpdGggdGhlIHNhbWUgbmFtZS5cbmZ1bmN0aW9uIHByZXBhcmVGb3JEZXN0cnVjdGlvbihzZWxmKSB7XG5cbiAgZnVuY3Rpb24gb25EZXN0cm95ZWQoZnJvbV9jb25zdHJ1Y3Rvcikge1xuICAgIHNlbGYucmVtb3ZlTGlzdGVuZXIoJ2Nsb3NlZCcsIG9uQ2xvc2VkKTtcbiAgICBpZiAoIWZyb21fY29uc3RydWN0b3IpIHtcbiAgICAgIHNlbGYuY29uc3RydWN0b3IuZW1pdCgnZGVzdHJveWVkJywgc2VsZi5uYW1lKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkNsb3NlZCgpIHtcbiAgICBzZWxmLnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gICAgc2VsZi5jb25zdHJ1Y3Rvci5lbWl0KCd1bnJlZicsIHNlbGYpO1xuICB9XG5cbiAgc2VsZi5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3llZCk7XG4gIHNlbGYub25jZSgnY2xvc2VkJywgb25DbG9zZWQpO1xuICBzZWxmLmNvbnN0cnVjdG9yLmVtaXQoJ3JlZicsIHNlbGYpO1xufVxuXG5pbmhlcml0cyhQb3VjaERCLCBBYnN0cmFjdFBvdWNoREIpO1xuZnVuY3Rpb24gUG91Y2hEQihuYW1lLCBvcHRzKSB7XG4gIC8vIEluIE5vZGUgb3VyIHRlc3Qgc3VpdGUgb25seSB0ZXN0cyB0aGlzIGZvciBQb3VjaEFsdCB1bmZvcnR1bmF0ZWx5XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hEQikpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoREIobmFtZSwgb3B0cyk7XG4gIH1cblxuICB2YXIgc2VsZiA9IHRoaXM7XG4gIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gIGlmIChuYW1lICYmIHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xuICAgIG9wdHMgPSBuYW1lO1xuICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgZGVsZXRlIG9wdHMubmFtZTtcbiAgfVxuXG4gIGlmIChvcHRzLmRldGVybWluaXN0aWNfcmV2cyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgb3B0cy5kZXRlcm1pbmlzdGljX3JldnMgPSB0cnVlO1xuICB9XG5cbiAgdGhpcy5fX29wdHMgPSBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgc2VsZi5hdXRvX2NvbXBhY3Rpb24gPSBvcHRzLmF1dG9fY29tcGFjdGlvbjtcbiAgc2VsZi5wcmVmaXggPSBQb3VjaERCLnByZWZpeDtcblxuICBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdNaXNzaW5nL2ludmFsaWQgREIgbmFtZScpO1xuICB9XG5cbiAgdmFyIHByZWZpeGVkTmFtZSA9IChvcHRzLnByZWZpeCB8fCAnJykgKyBuYW1lO1xuICB2YXIgYmFja2VuZCA9IHBhcnNlQWRhcHRlcihwcmVmaXhlZE5hbWUsIG9wdHMpO1xuXG4gIG9wdHMubmFtZSA9IGJhY2tlbmQubmFtZTtcbiAgb3B0cy5hZGFwdGVyID0gb3B0cy5hZGFwdGVyIHx8IGJhY2tlbmQuYWRhcHRlcjtcblxuICBzZWxmLm5hbWUgPSBuYW1lO1xuICBzZWxmLl9hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuICBQb3VjaERCLmVtaXQoJ2RlYnVnJywgWydhZGFwdGVyJywgJ1BpY2tlZCBhZGFwdGVyOiAnLCBvcHRzLmFkYXB0ZXJdKTtcblxuICBpZiAoIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXSB8fFxuICAgICAgIVBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS52YWxpZCgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIEFkYXB0ZXI6ICcgKyBvcHRzLmFkYXB0ZXIpO1xuICB9XG5cbiAgaWYgKG9wdHMudmlld19hZGFwdGVyKSB7XG4gICAgaWYgKCFQb3VjaERCLmFkYXB0ZXJzW29wdHMudmlld19hZGFwdGVyXSB8fFxuICAgICAgICAhUG91Y2hEQi5hZGFwdGVyc1tvcHRzLnZpZXdfYWRhcHRlcl0udmFsaWQoKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFZpZXcgQWRhcHRlcjogJyArIG9wdHMudmlld19hZGFwdGVyKTtcbiAgICB9XG4gIH1cblxuICBBYnN0cmFjdFBvdWNoREIuY2FsbChzZWxmKTtcbiAgc2VsZi50YXNrcXVldWUgPSBuZXcgVGFza1F1ZXVlKCk7XG5cbiAgc2VsZi5hZGFwdGVyID0gb3B0cy5hZGFwdGVyO1xuXG4gIFBvdWNoREIuYWRhcHRlcnNbb3B0cy5hZGFwdGVyXS5jYWxsKHNlbGYsIG9wdHMsIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gc2VsZi50YXNrcXVldWUuZmFpbChlcnIpO1xuICAgIH1cbiAgICBwcmVwYXJlRm9yRGVzdHJ1Y3Rpb24oc2VsZik7XG5cbiAgICBzZWxmLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmKTtcbiAgICBQb3VjaERCLmVtaXQoJ2NyZWF0ZWQnLCBzZWxmLm5hbWUpO1xuICAgIHNlbGYudGFza3F1ZXVlLnJlYWR5KHNlbGYpO1xuICB9KTtcblxufVxuXG4vLyBBYm9ydENvbnRyb2xsZXIgd2FzIGludHJvZHVjZWQgcXVpdGUgYSB3aGlsZSBhZnRlciBmZXRjaCBhbmRcbi8vIGlzbnQgcmVxdWlyZWQgZm9yIFBvdWNoREIgdG8gZnVuY3Rpb24gc28gcG9seWZpbGwgaWYgbmVlZGVkXG52YXIgYSA9ICh0eXBlb2YgQWJvcnRDb250cm9sbGVyICE9PSAndW5kZWZpbmVkJylcbiAgICA/IEFib3J0Q29udHJvbGxlclxuICAgIDogZnVuY3Rpb24gKCkgeyByZXR1cm4ge2Fib3J0OiBmdW5jdGlvbiAoKSB7fX07IH07XG5cbnZhciBmJDEgPSBmZXRjaDtcbnZhciBoID0gSGVhZGVycztcblxuUG91Y2hEQi5hZGFwdGVycyA9IHt9O1xuUG91Y2hEQi5wcmVmZXJyZWRBZGFwdGVycyA9IFtdO1xuXG5Qb3VjaERCLnByZWZpeCA9ICdfcG91Y2hfJztcblxudmFyIGV2ZW50RW1pdHRlciA9IG5ldyBFRSgpO1xuXG5mdW5jdGlvbiBzZXRVcEV2ZW50RW1pdHRlcihQb3VjaCkge1xuICBPYmplY3Qua2V5cyhFRS5wcm90b3R5cGUpLmZvckVhY2goZnVuY3Rpb24gKGtleSkge1xuICAgIGlmICh0eXBlb2YgRUUucHJvdG90eXBlW2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIFBvdWNoW2tleV0gPSBldmVudEVtaXR0ZXJba2V5XS5iaW5kKGV2ZW50RW1pdHRlcik7XG4gICAgfVxuICB9KTtcblxuICAvLyB0aGVzZSBhcmUgY3JlYXRlZCBpbiBjb25zdHJ1Y3Rvci5qcywgYW5kIGFsbG93IHVzIHRvIG5vdGlmeSBlYWNoIERCIHdpdGhcbiAgLy8gdGhlIHNhbWUgbmFtZSB0aGF0IGl0IHdhcyBkZXN0cm95ZWQsIHZpYSB0aGUgY29uc3RydWN0b3Igb2JqZWN0XG4gIHZhciBkZXN0cnVjdExpc3RlbmVycyA9IFBvdWNoLl9kZXN0cnVjdGlvbkxpc3RlbmVycyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuXG4gIFBvdWNoLm9uKCdyZWYnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yUmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLnNldChkYi5uYW1lLCBbXSk7XG4gICAgfVxuICAgIGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKS5wdXNoKGRiKTtcbiAgfSk7XG5cbiAgUG91Y2gub24oJ3VucmVmJywgZnVuY3Rpb24gb25Db25zdHJ1Y3RvclVucmVmKGRiKSB7XG4gICAgaWYgKCFkZXN0cnVjdExpc3RlbmVycy5oYXMoZGIubmFtZSkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRiTGlzdCA9IGRlc3RydWN0TGlzdGVuZXJzLmdldChkYi5uYW1lKTtcbiAgICB2YXIgcG9zID0gZGJMaXN0LmluZGV4T2YoZGIpO1xuICAgIGlmIChwb3MgPCAwKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkYkxpc3Quc3BsaWNlKHBvcywgMSk7XG4gICAgaWYgKGRiTGlzdC5sZW5ndGggPiAxKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgZGVzdHJ1Y3RMaXN0ZW5lcnMuc2V0KGRiLm5hbWUsIGRiTGlzdCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShkYi5uYW1lKTtcbiAgICB9XG4gIH0pO1xuXG4gIFBvdWNoLm9uKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiBvbkNvbnN0cnVjdG9yRGVzdHJveWVkKG5hbWUpIHtcbiAgICBpZiAoIWRlc3RydWN0TGlzdGVuZXJzLmhhcyhuYW1lKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB2YXIgZGJMaXN0ID0gZGVzdHJ1Y3RMaXN0ZW5lcnMuZ2V0KG5hbWUpO1xuICAgIGRlc3RydWN0TGlzdGVuZXJzLmRlbGV0ZShuYW1lKTtcbiAgICBkYkxpc3QuZm9yRWFjaChmdW5jdGlvbiAoZGIpIHtcbiAgICAgIGRiLmVtaXQoJ2Rlc3Ryb3llZCcsdHJ1ZSk7XG4gICAgfSk7XG4gIH0pO1xufVxuXG5zZXRVcEV2ZW50RW1pdHRlcihQb3VjaERCKTtcblxuUG91Y2hEQi5hZGFwdGVyID0gZnVuY3Rpb24gKGlkLCBvYmosIGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKG9iai52YWxpZCgpKSB7XG4gICAgUG91Y2hEQi5hZGFwdGVyc1tpZF0gPSBvYmo7XG4gICAgaWYgKGFkZFRvUHJlZmVycmVkQWRhcHRlcnMpIHtcbiAgICAgIFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMucHVzaChpZCk7XG4gICAgfVxuICB9XG59O1xuXG5Qb3VjaERCLnBsdWdpbiA9IGZ1bmN0aW9uIChvYmopIHtcbiAgaWYgKHR5cGVvZiBvYmogPT09ICdmdW5jdGlvbicpIHsgLy8gZnVuY3Rpb24gc3R5bGUgZm9yIHBsdWdpbnNcbiAgICBvYmooUG91Y2hEQik7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ0ludmFsaWQgcGx1Z2luOiBnb3QgXCInICsgb2JqICsgJ1wiLCBleHBlY3RlZCBhbiBvYmplY3Qgb3IgYSBmdW5jdGlvbicpO1xuICB9IGVsc2Uge1xuICAgIE9iamVjdC5rZXlzKG9iaikuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHsgLy8gb2JqZWN0IHN0eWxlIGZvciBwbHVnaW5zXG4gICAgICBQb3VjaERCLnByb3RvdHlwZVtpZF0gPSBvYmpbaWRdO1xuICAgIH0pO1xuICB9XG4gIGlmICh0aGlzLl9fZGVmYXVsdHMpIHtcbiAgICBQb3VjaERCLl9fZGVmYXVsdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIHRoaXMuX19kZWZhdWx0cyk7XG4gIH1cbiAgcmV0dXJuIFBvdWNoREI7XG59O1xuXG5Qb3VjaERCLmRlZmF1bHRzID0gZnVuY3Rpb24gKGRlZmF1bHRPcHRzKSB7XG4gIGZ1bmN0aW9uIFBvdWNoQWx0KG5hbWUsIG9wdHMpIHtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgUG91Y2hBbHQpKSB7XG4gICAgICByZXR1cm4gbmV3IFBvdWNoQWx0KG5hbWUsIG9wdHMpO1xuICAgIH1cblxuICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuXG4gICAgaWYgKG5hbWUgJiYgdHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XG4gICAgICBvcHRzID0gbmFtZTtcbiAgICAgIG5hbWUgPSBvcHRzLm5hbWU7XG4gICAgICBkZWxldGUgb3B0cy5uYW1lO1xuICAgIH1cblxuICAgIG9wdHMgPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIFBvdWNoQWx0Ll9fZGVmYXVsdHMsIG9wdHMpO1xuICAgIFBvdWNoREIuY2FsbCh0aGlzLCBuYW1lLCBvcHRzKTtcbiAgfVxuXG4gIGluaGVyaXRzKFBvdWNoQWx0LCBQb3VjaERCKTtcblxuICBQb3VjaEFsdC5wcmVmZXJyZWRBZGFwdGVycyA9IFBvdWNoREIucHJlZmVycmVkQWRhcHRlcnMuc2xpY2UoKTtcbiAgT2JqZWN0LmtleXMoUG91Y2hEQikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgaWYgKCEoa2V5IGluIFBvdWNoQWx0KSkge1xuICAgICAgUG91Y2hBbHRba2V5XSA9IFBvdWNoREJba2V5XTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIG1ha2UgZGVmYXVsdCBvcHRpb25zIHRyYW5zaXRpdmVcbiAgLy8gaHR0cHM6Ly9naXRodWIuY29tL3BvdWNoZGIvcG91Y2hkYi9pc3N1ZXMvNTkyMlxuICBQb3VjaEFsdC5fX2RlZmF1bHRzID0gJGluamVjdF9PYmplY3RfYXNzaWduKHt9LCB0aGlzLl9fZGVmYXVsdHMsIGRlZmF1bHRPcHRzKTtcblxuICByZXR1cm4gUG91Y2hBbHQ7XG59O1xuXG5Qb3VjaERCLmZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0cykge1xuICByZXR1cm4gZiQxKHVybCwgb3B0cyk7XG59O1xuXG4vLyBtYW5hZ2VkIGF1dG9tYXRpY2FsbHkgYnkgc2V0LXZlcnNpb24uanNcbnZhciB2ZXJzaW9uID0gXCI3LjMuMFwiO1xuXG4vLyB0aGlzIHdvdWxkIGp1c3QgYmUgXCJyZXR1cm4gZG9jW2ZpZWxkXVwiLCBidXQgZmllbGRzXG4vLyBjYW4gYmUgXCJkZWVwXCIgZHVlIHRvIGRvdCBub3RhdGlvblxuZnVuY3Rpb24gZ2V0RmllbGRGcm9tRG9jKGRvYywgcGFyc2VkRmllbGQpIHtcbiAgdmFyIHZhbHVlID0gZG9jO1xuICBmb3IgKHZhciBpID0gMCwgbGVuID0gcGFyc2VkRmllbGQubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICB2YXIga2V5ID0gcGFyc2VkRmllbGRbaV07XG4gICAgdmFsdWUgPSB2YWx1ZVtrZXldO1xuICAgIGlmICghdmFsdWUpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmUkMShsZWZ0LCByaWdodCkge1xuICByZXR1cm4gbGVmdCA8IHJpZ2h0ID8gLTEgOiBsZWZ0ID4gcmlnaHQgPyAxIDogMDtcbn1cblxuLy8gQ29udmVydHMgYSBzdHJpbmcgaW4gZG90IG5vdGF0aW9uIHRvIGFuIGFycmF5IG9mIGl0cyBjb21wb25lbnRzLCB3aXRoIGJhY2tzbGFzaCBlc2NhcGluZ1xuZnVuY3Rpb24gcGFyc2VGaWVsZChmaWVsZE5hbWUpIHtcbiAgLy8gZmllbGRzIG1heSBiZSBkZWVwIChlLmcuIFwiZm9vLmJhci5iYXpcIiksIHNvIHBhcnNlXG4gIHZhciBmaWVsZHMgPSBbXTtcbiAgdmFyIGN1cnJlbnQgPSAnJztcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGZpZWxkTmFtZS5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBjaCA9IGZpZWxkTmFtZVtpXTtcbiAgICBpZiAoaSA+IDAgJiYgZmllbGROYW1lW2kgLSAxXSA9PT0gJ1xcXFwnICYmIChjaCA9PT0gJyQnIHx8IGNoID09PSAnLicpKSB7XG4gICAgICAvLyBlc2NhcGVkIGRlbGltaXRlclxuICAgICAgY3VycmVudCA9IGN1cnJlbnQuc3Vic3RyaW5nKDAsIGN1cnJlbnQubGVuZ3RoIC0gMSkgKyBjaDtcbiAgICB9IGVsc2UgaWYgKGNoID09PSAnLicpIHtcbiAgICAgIC8vIFdoZW4gYC5gIGlzIG5vdCBlc2NhcGVkIChhYm92ZSksIGl0IGlzIGEgZmllbGQgZGVsaW1pdGVyXG4gICAgICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgICAgIGN1cnJlbnQgPSAnJztcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgY2hhcmFjdGVyXG4gICAgICBjdXJyZW50ICs9IGNoO1xuICAgIH1cbiAgfVxuICBmaWVsZHMucHVzaChjdXJyZW50KTtcbiAgcmV0dXJuIGZpZWxkcztcbn1cblxudmFyIGNvbWJpbmF0aW9uRmllbGRzID0gWyckb3InLCAnJG5vcicsICckbm90J107XG5mdW5jdGlvbiBpc0NvbWJpbmF0aW9uYWxGaWVsZChmaWVsZCkge1xuICByZXR1cm4gY29tYmluYXRpb25GaWVsZHMuaW5kZXhPZihmaWVsZCkgPiAtMTtcbn1cblxuZnVuY3Rpb24gZ2V0S2V5KG9iaikge1xuICByZXR1cm4gT2JqZWN0LmtleXMob2JqKVswXTtcbn1cblxuZnVuY3Rpb24gZ2V0VmFsdWUob2JqKSB7XG4gIHJldHVybiBvYmpbZ2V0S2V5KG9iaildO1xufVxuXG5cbi8vIGZsYXR0ZW4gYW4gYXJyYXkgb2Ygc2VsZWN0b3JzIGpvaW5lZCBieSBhbiAkYW5kIG9wZXJhdG9yXG5mdW5jdGlvbiBtZXJnZUFuZGVkU2VsZWN0b3JzKHNlbGVjdG9ycykge1xuXG4gIC8vIHNvcnQgdG8gZW5zdXJlIHRoYXQgZS5nLiBpZiB0aGUgdXNlciBzcGVjaWZpZWRcbiAgLy8gJGFuZDogW3skZ3Q6ICdhJ30sIHskZ3Q6ICdiJ31dLCB0aGVuIGl0J3MgY29sbGFwc2VkIGludG9cbiAgLy8ganVzdCB7JGd0OiAnYid9XG4gIHZhciByZXMgPSB7fTtcbiAgdmFyIGZpcnN0ID0geyRvcjogdHJ1ZSwgJG5vcjogdHJ1ZX07XG5cbiAgc2VsZWN0b3JzLmZvckVhY2goZnVuY3Rpb24gKHNlbGVjdG9yKSB7XG4gICAgT2JqZWN0LmtleXMoc2VsZWN0b3IpLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XG4gICAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgbWF0Y2hlciA9IHskZXE6IG1hdGNoZXJ9O1xuICAgICAgfVxuXG4gICAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICAgIC8vIG9yLCBub3JcbiAgICAgICAgaWYgKG1hdGNoZXIgaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICAgIGlmIChmaXJzdFtmaWVsZF0pIHtcbiAgICAgICAgICAgIGZpcnN0W2ZpZWxkXSA9IGZhbHNlO1xuICAgICAgICAgICAgcmVzW2ZpZWxkXSA9IG1hdGNoZXI7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIGVudHJpZXMgPSBbXTtcbiAgICAgICAgICByZXNbZmllbGRdLmZvckVhY2goZnVuY3Rpb24gKGV4aXN0aW5nKSB7XG4gICAgICAgICAgICBPYmplY3Qua2V5cyhtYXRjaGVyKS5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgICAgICAgICAgdmFyIG0gPSBtYXRjaGVyW2tleV07XG4gICAgICAgICAgICAgIHZhciBsb25nZXN0ID0gTWF0aC5tYXgoT2JqZWN0LmtleXMoZXhpc3RpbmcpLmxlbmd0aCwgT2JqZWN0LmtleXMobSkubGVuZ3RoKTtcbiAgICAgICAgICAgICAgdmFyIG1lcmdlZCA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW2V4aXN0aW5nLCBtXSk7XG4gICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhtZXJnZWQpLmxlbmd0aCA8PSBsb25nZXN0KSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgaGF2ZSBhIHNpdHVhdGlvbiBsaWtlOiAoYSA6eyRlcSA6MX0gfHwgLi4uKSAmJiAoYSB7JGVxOiAyfSB8fCAuLi4pXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2luZyB3b3VsZCBwcm9kdWNlIGEgJGVxIDIgd2hlbiBhY3R1YWxseSB3ZSBzaG91bGRuJ3QgZXZlciBtYXRjaCBhZ2FpbnN0IHRoZXNlIG1lcmdlZCBjb25kaXRpb25zXG4gICAgICAgICAgICAgICAgLy8gbWVyZ2VkIHNob3VsZCBhbHdheXMgY29udGFpbiBtb3JlIHZhbHVlcyB0byBiZSB2YWxpZFxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBlbnRyaWVzLnB1c2gobWVyZ2VkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJlc1tmaWVsZF0gPSBlbnRyaWVzO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIG5vdFxuICAgICAgICAgIHJlc1tmaWVsZF0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKFttYXRjaGVyXSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhciBmaWVsZE1hdGNoZXJzID0gcmVzW2ZpZWxkXSA9IHJlc1tmaWVsZF0gfHwge307XG4gICAgICAgIE9iamVjdC5rZXlzKG1hdGNoZXIpLmZvckVhY2goZnVuY3Rpb24gKG9wZXJhdG9yKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gbWF0Y2hlcltvcGVyYXRvcl07XG5cbiAgICAgICAgICBpZiAob3BlcmF0b3IgPT09ICckZ3QnIHx8IG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXJnZUd0R3RlKG9wZXJhdG9yLCB2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gJyRsdCcgfHwgb3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKG9wZXJhdG9yID09PSAnJG5lJykge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlTmUodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH0gZWxzZSBpZiAob3BlcmF0b3IgPT09ICckZXEnKSB7XG4gICAgICAgICAgICByZXR1cm4gbWVyZ2VFcSh2YWx1ZSwgZmllbGRNYXRjaGVycyk7XG4gICAgICAgICAgfSBlbHNlIGlmIChvcGVyYXRvciA9PT0gXCIkcmVnZXhcIikge1xuICAgICAgICAgICAgcmV0dXJuIG1lcmdlUmVnZXgodmFsdWUsIGZpZWxkTWF0Y2hlcnMpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG5cbiAgcmV0dXJuIHJlcztcbn1cblxuXG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGd0L2d0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlR3RHdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGd0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA+IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID49IGZpZWxkTWF0Y2hlcnMuJGd0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRndGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRndCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckZ3RlJykge1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3Q7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGd0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlID4gZmllbGRNYXRjaGVycy4kZ3QpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRndCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbGxhcHNlIGxvZ2ljYWxseSBlcXVpdmFsZW50IGx0L2x0ZSB2YWx1ZXNcbmZ1bmN0aW9uIG1lcmdlTHRMdGUob3BlcmF0b3IsIHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICh0eXBlb2YgZmllbGRNYXRjaGVycy4kZXEgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgcmV0dXJuOyAvLyBkbyBub3RoaW5nXG4gIH1cbiAgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKG9wZXJhdG9yID09PSAnJGx0ZScpIHtcbiAgICAgIGlmICh2YWx1ZSA8IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDw9IGZpZWxkTWF0Y2hlcnMuJGx0ZSkgeyAvLyBtb3JlIHNwZWNpZmljaXR5XG4gICAgICAgIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2UgaWYgKHR5cGVvZiBmaWVsZE1hdGNoZXJzLiRsdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBpZiAob3BlcmF0b3IgPT09ICckbHRlJykge1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gICAgICAgIGZpZWxkTWF0Y2hlcnMuJGx0ZSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7IC8vIG9wZXJhdG9yID09PSAnJGd0J1xuICAgICAgaWYgKHZhbHVlIDwgZmllbGRNYXRjaGVycy4kbHQpIHsgLy8gbW9yZSBzcGVjaWZpY2l0eVxuICAgICAgICBmaWVsZE1hdGNoZXJzLiRsdCA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBmaWVsZE1hdGNoZXJzW29wZXJhdG9yXSA9IHZhbHVlO1xuICB9XG59XG5cbi8vIGNvbWJpbmUgJG5lIHZhbHVlcyBpbnRvIG9uZSBhcnJheVxuZnVuY3Rpb24gbWVyZ2VOZSh2YWx1ZSwgZmllbGRNYXRjaGVycykge1xuICBpZiAoJyRuZScgaW4gZmllbGRNYXRjaGVycykge1xuICAgIC8vIHRoZXJlIGFyZSBtYW55IHRoaW5ncyB0aGlzIGNvdWxkIFwibm90XCIgYmVcbiAgICBmaWVsZE1hdGNoZXJzLiRuZS5wdXNoKHZhbHVlKTtcbiAgfSBlbHNlIHsgLy8gZG9lc24ndCBleGlzdCB5ZXRcbiAgICBmaWVsZE1hdGNoZXJzLiRuZSA9IFt2YWx1ZV07XG4gIH1cbn1cblxuLy8gYWRkICRlcSBpbnRvIHRoZSBtaXhcbmZ1bmN0aW9uIG1lcmdlRXEodmFsdWUsIGZpZWxkTWF0Y2hlcnMpIHtcbiAgLy8gdGhlc2UgYWxsIGhhdmUgbGVzcyBzcGVjaWZpY2l0eSB0aGFuIHRoZSAkZXFcbiAgLy8gVE9ETzogY2hlY2sgZm9yIHVzZXIgZXJyb3JzIGhlcmVcbiAgZGVsZXRlIGZpZWxkTWF0Y2hlcnMuJGd0O1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kZ3RlO1xuICBkZWxldGUgZmllbGRNYXRjaGVycy4kbHQ7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRsdGU7XG4gIGRlbGV0ZSBmaWVsZE1hdGNoZXJzLiRuZTtcbiAgZmllbGRNYXRjaGVycy4kZXEgPSB2YWx1ZTtcbn1cblxuLy8gY29tYmluZSAkcmVnZXggdmFsdWVzIGludG8gb25lIGFycmF5XG5mdW5jdGlvbiBtZXJnZVJlZ2V4KHZhbHVlLCBmaWVsZE1hdGNoZXJzKSB7XG4gIGlmICgnJHJlZ2V4JyBpbiBmaWVsZE1hdGNoZXJzKSB7XG4gICAgLy8gYSB2YWx1ZSBjb3VsZCBtYXRjaCBtdWx0aXBsZSByZWdleGVzXG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXgucHVzaCh2YWx1ZSk7XG4gIH0gZWxzZSB7IC8vIGRvZXNuJ3QgZXhpc3QgeWV0XG4gICAgZmllbGRNYXRjaGVycy4kcmVnZXggPSBbdmFsdWVdO1xuICB9XG59XG5cbi8vIzc0NTg6IGV4ZWN1dGUgZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9ycyBvbiBuZXN0ZWQgJGFuZFxuZnVuY3Rpb24gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChvYmopIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShvYmopKSB7XG4gICAgICAgICAgICBmb3IgKHZhciBpIGluIG9iaikge1xuICAgICAgICAgICAgICAgIGlmIChvYmpbaV1bJyRhbmQnXSkge1xuICAgICAgICAgICAgICAgICAgICBvYmpbaV0gPSBtZXJnZUFuZGVkU2VsZWN0b3JzKG9ialtpXVsnJGFuZCddKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZCh2YWx1ZSk7IC8vIDwtIHJlY3Vyc2l2ZSBjYWxsXG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cblxuLy8jNzQ1ODogZGV0ZXJtaW5lIGlkICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKVxuZnVuY3Rpb24gaXNBbmRJblNlbGVjdG9yKG9iaiwgaXNBbmQpIHtcbiAgICBmb3IgKHZhciBwcm9wIGluIG9iaikge1xuICAgICAgICBpZiAocHJvcCA9PT0gJyRhbmQnKSB7XG4gICAgICAgICAgICBpc0FuZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHZhbHVlID0gb2JqW3Byb3BdO1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgaXNBbmQgPSBpc0FuZEluU2VsZWN0b3IodmFsdWUsIGlzQW5kKTsgLy8gPC0gcmVjdXJzaXZlIGNhbGxcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gaXNBbmQ7XG59XG5cbi8vXG4vLyBub3JtYWxpemUgdGhlIHNlbGVjdG9yXG4vL1xuZnVuY3Rpb24gbWFzc2FnZVNlbGVjdG9yKGlucHV0KSB7XG4gIHZhciByZXN1bHQgPSBjbG9uZShpbnB1dCk7XG4gIHZhciB3YXNBbmRlZCA9IGZhbHNlO1xuICAgIC8vIzc0NTg6IGlmICRhbmQgaXMgcHJlc2VudCBpbiBzZWxlY3RvciAoYXQgYW55IGxldmVsKSBtZXJnZSBuZXN0ZWQgJGFuZFxuICAgIGlmIChpc0FuZEluU2VsZWN0b3IocmVzdWx0LCBmYWxzZSkpIHtcbiAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9yc05lc3RlZChyZXN1bHQpO1xuICAgICAgICBpZiAoJyRhbmQnIGluIHJlc3VsdCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gbWVyZ2VBbmRlZFNlbGVjdG9ycyhyZXN1bHRbJyRhbmQnXSk7XG4gICAgICAgIH1cbiAgICAgICAgd2FzQW5kZWQgPSB0cnVlO1xuICAgIH1cblxuICBbJyRvcicsICckbm9yJ10uZm9yRWFjaChmdW5jdGlvbiAob3JPck5vcikge1xuICAgIGlmIChvck9yTm9yIGluIHJlc3VsdCkge1xuICAgICAgLy8gbWVzc2FnZSBlYWNoIGluZGl2aWR1YWwgc2VsZWN0b3JcbiAgICAgIC8vIGUuZy4ge2ZvbzogJ2Jhcid9IGJlY29tZXMge2ZvbzogeyRlcTogJ2Jhcid9fVxuICAgICAgcmVzdWx0W29yT3JOb3JdLmZvckVhY2goZnVuY3Rpb24gKHN1YlNlbGVjdG9yKSB7XG4gICAgICAgIHZhciBmaWVsZHMgPSBPYmplY3Qua2V5cyhzdWJTZWxlY3Rvcik7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZmllbGRzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgdmFyIGZpZWxkID0gZmllbGRzW2ldO1xuICAgICAgICAgIHZhciBtYXRjaGVyID0gc3ViU2VsZWN0b3JbZmllbGRdO1xuICAgICAgICAgIGlmICh0eXBlb2YgbWF0Y2hlciAhPT0gJ29iamVjdCcgfHwgbWF0Y2hlciA9PT0gbnVsbCkge1xuICAgICAgICAgICAgc3ViU2VsZWN0b3JbZmllbGRdID0geyRlcTogbWF0Y2hlcn07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuXG4gIGlmICgnJG5vdCcgaW4gcmVzdWx0KSB7XG4gICAgLy9UaGlzIGZlZWxzIGEgbGl0dGxlIGxpa2UgZm9yY2luZywgYnV0IGl0IHdpbGwgd29yayBmb3Igbm93LFxuICAgIC8vSSB3b3VsZCBsaWtlIHRvIGNvbWUgYmFjayB0byB0aGlzIGFuZCBtYWtlIHRoZSBtZXJnaW5nIG9mIHNlbGVjdG9ycyBhIGxpdHRsZSBtb3JlIGdlbmVyaWNcbiAgICByZXN1bHRbJyRub3QnXSA9IG1lcmdlQW5kZWRTZWxlY3RvcnMoW3Jlc3VsdFsnJG5vdCddXSk7XG4gIH1cblxuICB2YXIgZmllbGRzID0gT2JqZWN0LmtleXMocmVzdWx0KTtcblxuICBmb3IgKHZhciBpID0gMDsgaSA8IGZpZWxkcy5sZW5ndGg7IGkrKykge1xuICAgIHZhciBmaWVsZCA9IGZpZWxkc1tpXTtcbiAgICB2YXIgbWF0Y2hlciA9IHJlc3VsdFtmaWVsZF07XG5cbiAgICBpZiAodHlwZW9mIG1hdGNoZXIgIT09ICdvYmplY3QnIHx8IG1hdGNoZXIgPT09IG51bGwpIHtcbiAgICAgIG1hdGNoZXIgPSB7JGVxOiBtYXRjaGVyfTtcbiAgICB9IGVsc2UgaWYgKCF3YXNBbmRlZCkge1xuICAgICAgLy8gVGhlc2UgdmFsdWVzIG11c3QgYmUgcGxhY2VkIGluIGFuIGFycmF5IGJlY2F1c2UgdGhlc2Ugb3BlcmF0b3JzIGNhbiBiZSB1c2VkIG11bHRpcGxlIHRpbWVzIG9uIHRoZSBzYW1lIGZpZWxkXG4gICAgICAvLyB3aGVuICRhbmQgaXMgdXNlZCwgbWVyZ2VBbmRlZFNlbGVjdG9ycyB0YWtlcyBjYXJlIG9mIHB1dHRpbmcgdGhlbSBpbnRvIGFycmF5cywgb3RoZXJ3aXNlIGl0J3MgZG9uZSBoZXJlOlxuICAgICAgaWYgKCckbmUnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kbmUgPSBbbWF0Y2hlci4kbmVdO1xuICAgICAgfVxuICAgICAgaWYgKCckcmVnZXgnIGluIG1hdGNoZXIpIHtcbiAgICAgICAgbWF0Y2hlci4kcmVnZXggPSBbbWF0Y2hlci4kcmVnZXhdO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRbZmllbGRdID0gbWF0Y2hlcjtcbiAgfVxuXG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIHBhZChzdHIsIHBhZFdpdGgsIHVwVG9MZW5ndGgpIHtcbiAgdmFyIHBhZGRpbmcgPSAnJztcbiAgdmFyIHRhcmdldExlbmd0aCA9IHVwVG9MZW5ndGggLSBzdHIubGVuZ3RoO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICB3aGlsZSAocGFkZGluZy5sZW5ndGggPCB0YXJnZXRMZW5ndGgpIHtcbiAgICBwYWRkaW5nICs9IHBhZFdpdGg7XG4gIH1cbiAgcmV0dXJuIHBhZGRpbmc7XG59XG5cbmZ1bmN0aW9uIHBhZExlZnQoc3RyLCBwYWRXaXRoLCB1cFRvTGVuZ3RoKSB7XG4gIHZhciBwYWRkaW5nID0gcGFkKHN0ciwgcGFkV2l0aCwgdXBUb0xlbmd0aCk7XG4gIHJldHVybiBwYWRkaW5nICsgc3RyO1xufVxuXG52YXIgTUlOX01BR05JVFVERSA9IC0zMjQ7IC8vIHZlcmlmaWVkIGJ5IC1OdW1iZXIuTUlOX1ZBTFVFXG52YXIgTUFHTklUVURFX0RJR0lUUyA9IDM7IC8vIGRpdHRvXG52YXIgU0VQID0gJyc7IC8vIHNldCB0byAnXycgZm9yIGVhc2llciBkZWJ1Z2dpbmdcblxuZnVuY3Rpb24gY29sbGF0ZShhLCBiKSB7XG5cbiAgaWYgKGEgPT09IGIpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuXG4gIGEgPSBub3JtYWxpemVLZXkoYSk7XG4gIGIgPSBub3JtYWxpemVLZXkoYik7XG5cbiAgdmFyIGFpID0gY29sbGF0aW9uSW5kZXgoYSk7XG4gIHZhciBiaSA9IGNvbGxhdGlvbkluZGV4KGIpO1xuICBpZiAoKGFpIC0gYmkpICE9PSAwKSB7XG4gICAgcmV0dXJuIGFpIC0gYmk7XG4gIH1cbiAgc3dpdGNoICh0eXBlb2YgYSkge1xuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gYSAtIGI7XG4gICAgY2FzZSAnYm9vbGVhbic6XG4gICAgICByZXR1cm4gYSA8IGIgPyAtMSA6IDE7XG4gICAgY2FzZSAnc3RyaW5nJzpcbiAgICAgIHJldHVybiBzdHJpbmdDb2xsYXRlKGEsIGIpO1xuICB9XG4gIHJldHVybiBBcnJheS5pc0FycmF5KGEpID8gYXJyYXlDb2xsYXRlKGEsIGIpIDogb2JqZWN0Q29sbGF0ZShhLCBiKTtcbn1cblxuLy8gY291Y2ggY29uc2lkZXJzIG51bGwvTmFOL0luZmluaXR5Ly1JbmZpbml0eSA9PT0gdW5kZWZpbmVkLFxuLy8gZm9yIHRoZSBwdXJwb3NlcyBvZiBtYXByZWR1Y2UgaW5kZXhlcy4gYWxzbywgZGF0ZXMgZ2V0IHN0cmluZ2lmaWVkLlxuZnVuY3Rpb24gbm9ybWFsaXplS2V5KGtleSkge1xuICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICBjYXNlICd1bmRlZmluZWQnOlxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIGlmIChrZXkgPT09IEluZmluaXR5IHx8IGtleSA9PT0gLUluZmluaXR5IHx8IGlzTmFOKGtleSkpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9XG4gICAgICByZXR1cm4ga2V5O1xuICAgIGNhc2UgJ29iamVjdCc6XG4gICAgICB2YXIgb3JpZ0tleSA9IGtleTtcbiAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleSkpIHtcbiAgICAgICAgdmFyIGxlbiA9IGtleS5sZW5ndGg7XG4gICAgICAgIGtleSA9IG5ldyBBcnJheShsZW4pO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAga2V5W2ldID0gbm9ybWFsaXplS2V5KG9yaWdLZXlbaV0pO1xuICAgICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgfSBlbHNlIGlmIChrZXkgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgIHJldHVybiBrZXkudG9KU09OKCk7XG4gICAgICB9IGVsc2UgaWYgKGtleSAhPT0gbnVsbCkgeyAvLyBnZW5lcmljIG9iamVjdFxuICAgICAgICBrZXkgPSB7fTtcbiAgICAgICAgZm9yICh2YXIgayBpbiBvcmlnS2V5KSB7XG4gICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcmlnS2V5LCBrKSkge1xuICAgICAgICAgICAgdmFyIHZhbCA9IG9yaWdLZXlba107XG4gICAgICAgICAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAga2V5W2tdID0gbm9ybWFsaXplS2V5KHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gIH1cbiAgcmV0dXJuIGtleTtcbn1cblxuZnVuY3Rpb24gaW5kZXhpZnkoa2V5KSB7XG4gIGlmIChrZXkgIT09IG51bGwpIHtcbiAgICBzd2l0Y2ggKHR5cGVvZiBrZXkpIHtcbiAgICAgIGNhc2UgJ2Jvb2xlYW4nOlxuICAgICAgICByZXR1cm4ga2V5ID8gMSA6IDA7XG4gICAgICBjYXNlICdudW1iZXInOlxuICAgICAgICByZXR1cm4gbnVtVG9JbmRleGFibGVTdHJpbmcoa2V5KTtcbiAgICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAgIC8vIFdlJ3ZlIHRvIGJlIHN1cmUgdGhhdCBrZXkgZG9lcyBub3QgY29udGFpbiBcXHUwMDAwXG4gICAgICAgIC8vIERvIG9yZGVyLXByZXNlcnZpbmcgcmVwbGFjZW1lbnRzOlxuICAgICAgICAvLyAwIC0+IDEsIDFcbiAgICAgICAgLy8gMSAtPiAxLCAyXG4gICAgICAgIC8vIDIgLT4gMiwgMlxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHJldHVybiBrZXlcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMi9nLCAnXFx1MDAwMlxcdTAwMDInKVxuICAgICAgICAgIC5yZXBsYWNlKC9cXHUwMDAxL2csICdcXHUwMDAxXFx1MDAwMicpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDAvZywgJ1xcdTAwMDFcXHUwMDAxJyk7XG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgbm8tY29udHJvbC1yZWdleCAqL1xuICAgICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgICAgdmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5KGtleSk7XG4gICAgICAgIHZhciBhcnIgPSBpc0FycmF5ID8ga2V5IDogT2JqZWN0LmtleXMoa2V5KTtcbiAgICAgICAgdmFyIGkgPSAtMTtcbiAgICAgICAgdmFyIGxlbiA9IGFyci5sZW5ndGg7XG4gICAgICAgIHZhciByZXN1bHQgPSAnJztcbiAgICAgICAgaWYgKGlzQXJyYXkpIHtcbiAgICAgICAgICB3aGlsZSAoKytpIDwgbGVuKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdG9JbmRleGFibGVTdHJpbmcoYXJyW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgd2hpbGUgKCsraSA8IGxlbikge1xuICAgICAgICAgICAgdmFyIG9iaktleSA9IGFycltpXTtcbiAgICAgICAgICAgIHJlc3VsdCArPSB0b0luZGV4YWJsZVN0cmluZyhvYmpLZXkpICtcbiAgICAgICAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhrZXlbb2JqS2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAnJztcbn1cblxuLy8gY29udmVydCB0aGUgZ2l2ZW4ga2V5IHRvIGEgc3RyaW5nIHRoYXQgd291bGQgYmUgYXBwcm9wcmlhdGVcbi8vIGZvciBsZXhpY2FsIHNvcnRpbmcsIGUuZy4gd2l0aGluIGEgZGF0YWJhc2UsIHdoZXJlIHRoZVxuLy8gc29ydGluZyBpcyB0aGUgc2FtZSBnaXZlbiBieSB0aGUgY29sbGF0ZSgpIGZ1bmN0aW9uLlxuZnVuY3Rpb24gdG9JbmRleGFibGVTdHJpbmcoa2V5KSB7XG4gIHZhciB6ZXJvID0gJ1xcdTAwMDAnO1xuICBrZXkgPSBub3JtYWxpemVLZXkoa2V5KTtcbiAgcmV0dXJuIGNvbGxhdGlvbkluZGV4KGtleSkgKyBTRVAgKyBpbmRleGlmeShrZXkpICsgemVybztcbn1cblxuZnVuY3Rpb24gcGFyc2VOdW1iZXIoc3RyLCBpKSB7XG4gIHZhciBvcmlnaW5hbElkeCA9IGk7XG4gIHZhciBudW07XG4gIHZhciB6ZXJvID0gc3RyW2ldID09PSAnMSc7XG4gIGlmICh6ZXJvKSB7XG4gICAgbnVtID0gMDtcbiAgICBpKys7XG4gIH0gZWxzZSB7XG4gICAgdmFyIG5lZyA9IHN0cltpXSA9PT0gJzAnO1xuICAgIGkrKztcbiAgICB2YXIgbnVtQXNTdHJpbmcgPSAnJztcbiAgICB2YXIgbWFnQXNTdHJpbmcgPSBzdHIuc3Vic3RyaW5nKGksIGkgKyBNQUdOSVRVREVfRElHSVRTKTtcbiAgICB2YXIgbWFnbml0dWRlID0gcGFyc2VJbnQobWFnQXNTdHJpbmcsIDEwKSArIE1JTl9NQUdOSVRVREU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBtYWduaXR1ZGUgPSAtbWFnbml0dWRlO1xuICAgIH1cbiAgICBpICs9IE1BR05JVFVERV9ESUdJVFM7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIHZhciBjaCA9IHN0cltpXTtcbiAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbnVtQXNTdHJpbmcgKz0gY2g7XG4gICAgICB9XG4gICAgICBpKys7XG4gICAgfVxuICAgIG51bUFzU3RyaW5nID0gbnVtQXNTdHJpbmcuc3BsaXQoJy4nKTtcbiAgICBpZiAobnVtQXNTdHJpbmcubGVuZ3RoID09PSAxKSB7XG4gICAgICBudW0gPSBwYXJzZUludChudW1Bc1N0cmluZywgMTApO1xuICAgIH0gZWxzZSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW1Bc1N0cmluZ1swXSArICcuJyArIG51bUFzU3RyaW5nWzFdKTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobmVnKSB7XG4gICAgICBudW0gPSBudW0gLSAxMDtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBpZiAobWFnbml0dWRlICE9PSAwKSB7XG4gICAgICAvLyBwYXJzZUZsb2F0IGlzIG1vcmUgcmVsaWFibGUgdGhhbiBwb3cgZHVlIHRvIHJvdW5kaW5nIGVycm9yc1xuICAgICAgLy8gZS5nLiBOdW1iZXIuTUFYX1ZBTFVFIHdvdWxkIHJldHVybiBJbmZpbml0eSBpZiB3ZSBkaWRcbiAgICAgIC8vIG51bSAqIE1hdGgucG93KDEwLCBtYWduaXR1ZGUpO1xuICAgICAgbnVtID0gcGFyc2VGbG9hdChudW0gKyAnZScgKyBtYWduaXR1ZGUpO1xuICAgIH1cbiAgfVxuICByZXR1cm4ge251bTogbnVtLCBsZW5ndGggOiBpIC0gb3JpZ2luYWxJZHh9O1xufVxuXG4vLyBtb3ZlIHVwIHRoZSBzdGFjayB3aGlsZSBwYXJzaW5nXG4vLyB0aGlzIGZ1bmN0aW9uIG1vdmVkIG91dHNpZGUgb2YgcGFyc2VJbmRleGFibGVTdHJpbmcgZm9yIHBlcmZvcm1hbmNlXG5mdW5jdGlvbiBwb3Aoc3RhY2ssIG1ldGFTdGFjaykge1xuICB2YXIgb2JqID0gc3RhY2sucG9wKCk7XG5cbiAgaWYgKG1ldGFTdGFjay5sZW5ndGgpIHtcbiAgICB2YXIgbGFzdE1ldGFFbGVtZW50ID0gbWV0YVN0YWNrW21ldGFTdGFjay5sZW5ndGggLSAxXTtcbiAgICBpZiAob2JqID09PSBsYXN0TWV0YUVsZW1lbnQuZWxlbWVudCkge1xuICAgICAgLy8gcG9wcGluZyBhIG1ldGEtZWxlbWVudCwgZS5nLiBhbiBvYmplY3Qgd2hvc2UgdmFsdWUgaXMgYW5vdGhlciBvYmplY3RcbiAgICAgIG1ldGFTdGFjay5wb3AoKTtcbiAgICAgIGxhc3RNZXRhRWxlbWVudCA9IG1ldGFTdGFja1ttZXRhU3RhY2subGVuZ3RoIC0gMV07XG4gICAgfVxuICAgIHZhciBlbGVtZW50ID0gbGFzdE1ldGFFbGVtZW50LmVsZW1lbnQ7XG4gICAgdmFyIGxhc3RFbGVtZW50SW5kZXggPSBsYXN0TWV0YUVsZW1lbnQuaW5kZXg7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoZWxlbWVudCkpIHtcbiAgICAgIGVsZW1lbnQucHVzaChvYmopO1xuICAgIH0gZWxzZSBpZiAobGFzdEVsZW1lbnRJbmRleCA9PT0gc3RhY2subGVuZ3RoIC0gMikgeyAvLyBvYmogd2l0aCBrZXkrdmFsdWVcbiAgICAgIHZhciBrZXkgPSBzdGFjay5wb3AoKTtcbiAgICAgIGVsZW1lbnRba2V5XSA9IG9iajtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RhY2sucHVzaChvYmopOyAvLyBvYmogd2l0aCBrZXkgb25seVxuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBwYXJzZUluZGV4YWJsZVN0cmluZyhzdHIpIHtcbiAgdmFyIHN0YWNrID0gW107XG4gIHZhciBtZXRhU3RhY2sgPSBbXTsgLy8gc3RhY2sgZm9yIGFycmF5cyBhbmQgb2JqZWN0c1xuICB2YXIgaSA9IDA7XG5cbiAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gIHdoaWxlICh0cnVlKSB7XG4gICAgdmFyIGNvbGxhdGlvbkluZGV4ID0gc3RyW2krK107XG4gICAgaWYgKGNvbGxhdGlvbkluZGV4ID09PSAnXFx1MDAwMCcpIHtcbiAgICAgIGlmIChzdGFjay5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIHN0YWNrLnBvcCgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcG9wKHN0YWNrLCBtZXRhU3RhY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChjb2xsYXRpb25JbmRleCkge1xuICAgICAgY2FzZSAnMSc6XG4gICAgICAgIHN0YWNrLnB1c2gobnVsbCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMic6XG4gICAgICAgIHN0YWNrLnB1c2goc3RyW2ldID09PSAnMScpO1xuICAgICAgICBpKys7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnMyc6XG4gICAgICAgIHZhciBwYXJzZWROdW0gPSBwYXJzZU51bWJlcihzdHIsIGkpO1xuICAgICAgICBzdGFjay5wdXNoKHBhcnNlZE51bS5udW0pO1xuICAgICAgICBpICs9IHBhcnNlZE51bS5sZW5ndGg7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNCc6XG4gICAgICAgIHZhciBwYXJzZWRTdHIgPSAnJztcbiAgICAgICAgLyplc2xpbnQgbm8tY29uc3RhbnQtY29uZGl0aW9uOiBbXCJlcnJvclwiLCB7IFwiY2hlY2tMb29wc1wiOiBmYWxzZSB9XSovXG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgdmFyIGNoID0gc3RyW2ldO1xuICAgICAgICAgIGlmIChjaCA9PT0gJ1xcdTAwMDAnKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFyc2VkU3RyICs9IGNoO1xuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBwZXJmb3JtIHRoZSByZXZlcnNlIG9mIHRoZSBvcmRlci1wcmVzZXJ2aW5nIHJlcGxhY2VtZW50XG4gICAgICAgIC8vIGFsZ29yaXRobSAoc2VlIGFib3ZlKVxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHBhcnNlZFN0ciA9IHBhcnNlZFN0ci5yZXBsYWNlKC9cXHUwMDAxXFx1MDAwMS9nLCAnXFx1MDAwMCcpXG4gICAgICAgICAgLnJlcGxhY2UoL1xcdTAwMDFcXHUwMDAyL2csICdcXHUwMDAxJylcbiAgICAgICAgICAucmVwbGFjZSgvXFx1MDAwMlxcdTAwMDIvZywgJ1xcdTAwMDInKTtcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSBuby1jb250cm9sLXJlZ2V4ICovXG4gICAgICAgIHN0YWNrLnB1c2gocGFyc2VkU3RyKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICc1JzpcbiAgICAgICAgdmFyIGFycmF5RWxlbWVudCA9IHsgZWxlbWVudDogW10sIGluZGV4OiBzdGFjay5sZW5ndGggfTtcbiAgICAgICAgc3RhY2sucHVzaChhcnJheUVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKGFycmF5RWxlbWVudCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnNic6XG4gICAgICAgIHZhciBvYmpFbGVtZW50ID0geyBlbGVtZW50OiB7fSwgaW5kZXg6IHN0YWNrLmxlbmd0aCB9O1xuICAgICAgICBzdGFjay5wdXNoKG9iakVsZW1lbnQuZWxlbWVudCk7XG4gICAgICAgIG1ldGFTdGFjay5wdXNoKG9iakVsZW1lbnQpO1xuICAgICAgICBicmVhaztcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgJ2JhZCBjb2xsYXRpb25JbmRleCBvciB1bmV4cGVjdGVkbHkgcmVhY2hlZCBlbmQgb2YgaW5wdXQ6ICcgK1xuICAgICAgICAgICAgY29sbGF0aW9uSW5kZXgpO1xuICAgIH1cbiAgfVxufVxuXG5mdW5jdGlvbiBhcnJheUNvbGxhdGUoYSwgYikge1xuICB2YXIgbGVuID0gTWF0aC5taW4oYS5sZW5ndGgsIGIubGVuZ3RoKTtcbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBzb3J0ID0gY29sbGF0ZShhW2ldLCBiW2ldKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuICB9XG4gIHJldHVybiAoYS5sZW5ndGggPT09IGIubGVuZ3RoKSA/IDAgOlxuICAgIChhLmxlbmd0aCA+IGIubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbmZ1bmN0aW9uIHN0cmluZ0NvbGxhdGUoYSwgYikge1xuICAvLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9kYWxlaGFydmV5L3BvdWNoZGIvaXNzdWVzLzQwXG4gIC8vIFRoaXMgaXMgaW5jb21wYXRpYmxlIHdpdGggdGhlIENvdWNoREIgaW1wbGVtZW50YXRpb24sIGJ1dCBpdHMgdGhlXG4gIC8vIGJlc3Qgd2UgY2FuIGRvIGZvciBub3dcbiAgcmV0dXJuIChhID09PSBiKSA/IDAgOiAoKGEgPiBiKSA/IDEgOiAtMSk7XG59XG5mdW5jdGlvbiBvYmplY3RDb2xsYXRlKGEsIGIpIHtcbiAgdmFyIGFrID0gT2JqZWN0LmtleXMoYSksIGJrID0gT2JqZWN0LmtleXMoYik7XG4gIHZhciBsZW4gPSBNYXRoLm1pbihhay5sZW5ndGgsIGJrLmxlbmd0aCk7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAvLyBGaXJzdCBzb3J0IHRoZSBrZXlzXG4gICAgdmFyIHNvcnQgPSBjb2xsYXRlKGFrW2ldLCBia1tpXSk7XG4gICAgaWYgKHNvcnQgIT09IDApIHtcbiAgICAgIHJldHVybiBzb3J0O1xuICAgIH1cbiAgICAvLyBpZiB0aGUga2V5cyBhcmUgZXF1YWwgc29ydCB0aGUgdmFsdWVzXG4gICAgc29ydCA9IGNvbGxhdGUoYVtha1tpXV0sIGJbYmtbaV1dKTtcbiAgICBpZiAoc29ydCAhPT0gMCkge1xuICAgICAgcmV0dXJuIHNvcnQ7XG4gICAgfVxuXG4gIH1cbiAgcmV0dXJuIChhay5sZW5ndGggPT09IGJrLmxlbmd0aCkgPyAwIDpcbiAgICAoYWsubGVuZ3RoID4gYmsubGVuZ3RoKSA/IDEgOiAtMTtcbn1cbi8vIFRoZSBjb2xsYXRpb24gaXMgZGVmaW5lZCBieSBlcmxhbmdzIG9yZGVyZWQgdGVybXNcbi8vIHRoZSBhdG9tcyBudWxsLCB0cnVlLCBmYWxzZSBjb21lIGZpcnN0LCB0aGVuIG51bWJlcnMsIHN0cmluZ3MsXG4vLyBhcnJheXMsIHRoZW4gb2JqZWN0c1xuLy8gbnVsbC91bmRlZmluZWQvTmFOL0luZmluaXR5Ly1JbmZpbml0eSBhcmUgYWxsIGNvbnNpZGVyZWQgbnVsbFxuZnVuY3Rpb24gY29sbGF0aW9uSW5kZXgoeCkge1xuICB2YXIgaWQgPSBbJ2Jvb2xlYW4nLCAnbnVtYmVyJywgJ3N0cmluZycsICdvYmplY3QnXTtcbiAgdmFyIGlkeCA9IGlkLmluZGV4T2YodHlwZW9mIHgpO1xuICAvL2ZhbHNlIGlmIC0xIG90aGVyd2lzZSB0cnVlLCBidXQgZmFzdCEhISExXG4gIGlmICh+aWR4KSB7XG4gICAgaWYgKHggPT09IG51bGwpIHtcbiAgICAgIHJldHVybiAxO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh4KSkge1xuICAgICAgcmV0dXJuIDU7XG4gICAgfVxuICAgIHJldHVybiBpZHggPCAzID8gKGlkeCArIDIpIDogKGlkeCArIDMpO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChBcnJheS5pc0FycmF5KHgpKSB7XG4gICAgcmV0dXJuIDU7XG4gIH1cbn1cblxuLy8gY29udmVyc2lvbjpcbi8vIHggeXl5IHp6Li4uenpcbi8vIHggPSAwIGZvciBuZWdhdGl2ZSwgMSBmb3IgMCwgMiBmb3IgcG9zaXRpdmVcbi8vIHkgPSBleHBvbmVudCAoZm9yIG5lZ2F0aXZlIG51bWJlcnMgbmVnYXRlZCkgbW92ZWQgc28gdGhhdCBpdCdzID49IDBcbi8vIHogPSBtYW50aXNzZVxuZnVuY3Rpb24gbnVtVG9JbmRleGFibGVTdHJpbmcobnVtKSB7XG5cbiAgaWYgKG51bSA9PT0gMCkge1xuICAgIHJldHVybiAnMSc7XG4gIH1cblxuICAvLyBjb252ZXJ0IG51bWJlciB0byBleHBvbmVudGlhbCBmb3JtYXQgZm9yIGVhc2llciBhbmRcbiAgLy8gbW9yZSBzdWNjaW5jdCBzdHJpbmcgc29ydGluZ1xuICB2YXIgZXhwRm9ybWF0ID0gbnVtLnRvRXhwb25lbnRpYWwoKS5zcGxpdCgvZVxcKz8vKTtcbiAgdmFyIG1hZ25pdHVkZSA9IHBhcnNlSW50KGV4cEZvcm1hdFsxXSwgMTApO1xuXG4gIHZhciBuZWcgPSBudW0gPCAwO1xuXG4gIHZhciByZXN1bHQgPSBuZWcgPyAnMCcgOiAnMic7XG5cbiAgLy8gZmlyc3Qgc29ydCBieSBtYWduaXR1ZGVcbiAgLy8gaXQncyBlYXNpZXIgaWYgYWxsIG1hZ25pdHVkZXMgYXJlIHBvc2l0aXZlXG4gIHZhciBtYWdGb3JDb21wYXJpc29uID0gKChuZWcgPyAtbWFnbml0dWRlIDogbWFnbml0dWRlKSAtIE1JTl9NQUdOSVRVREUpO1xuICB2YXIgbWFnU3RyaW5nID0gcGFkTGVmdCgobWFnRm9yQ29tcGFyaXNvbikudG9TdHJpbmcoKSwgJzAnLCBNQUdOSVRVREVfRElHSVRTKTtcblxuICByZXN1bHQgKz0gU0VQICsgbWFnU3RyaW5nO1xuXG4gIC8vIHRoZW4gc29ydCBieSB0aGUgZmFjdG9yXG4gIHZhciBmYWN0b3IgPSBNYXRoLmFicyhwYXJzZUZsb2F0KGV4cEZvcm1hdFswXSkpOyAvLyBbMS4uMTApXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gIGlmIChuZWcpIHsgLy8gZm9yIG5lZ2F0aXZlIHJldmVyc2Ugb3JkZXJpbmdcbiAgICBmYWN0b3IgPSAxMCAtIGZhY3RvcjtcbiAgfVxuXG4gIHZhciBmYWN0b3JTdHIgPSBmYWN0b3IudG9GaXhlZCgyMCk7XG5cbiAgLy8gc3RyaXAgemVyb3MgZnJvbSB0aGUgZW5kXG4gIGZhY3RvclN0ciA9IGZhY3RvclN0ci5yZXBsYWNlKC9cXC4/MCskLywgJycpO1xuXG4gIHJlc3VsdCArPSBTRVAgKyBmYWN0b3JTdHI7XG5cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gY3JlYXRlIGEgY29tcGFyYXRvciBiYXNlZCBvbiB0aGUgc29ydCBvYmplY3RcbmZ1bmN0aW9uIGNyZWF0ZUZpZWxkU29ydGVyKHNvcnQpIHtcblxuICBmdW5jdGlvbiBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoZG9jKSB7XG4gICAgcmV0dXJuIHNvcnQubWFwKGZ1bmN0aW9uIChzb3J0aW5nKSB7XG4gICAgICB2YXIgZmllbGROYW1lID0gZ2V0S2V5KHNvcnRpbmcpO1xuICAgICAgdmFyIHBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChmaWVsZE5hbWUpO1xuICAgICAgdmFyIGRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jLCBwYXJzZWRGaWVsZCk7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZTtcbiAgICB9KTtcbiAgfVxuXG4gIHJldHVybiBmdW5jdGlvbiAoYVJvdywgYlJvdykge1xuICAgIHZhciBhRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYVJvdy5kb2MpO1xuICAgIHZhciBiRmllbGRWYWx1ZXMgPSBnZXRGaWVsZFZhbHVlc0FzQXJyYXkoYlJvdy5kb2MpO1xuICAgIHZhciBjb2xsYXRpb24gPSBjb2xsYXRlKGFGaWVsZFZhbHVlcywgYkZpZWxkVmFsdWVzKTtcbiAgICBpZiAoY29sbGF0aW9uICE9PSAwKSB7XG4gICAgICByZXR1cm4gY29sbGF0aW9uO1xuICAgIH1cbiAgICAvLyB0aGlzIGlzIHdoYXQgbWFuZ28gc2VlbXMgdG8gZG9cbiAgICByZXR1cm4gY29tcGFyZSQxKGFSb3cuZG9jLl9pZCwgYlJvdy5kb2MuX2lkKTtcbiAgfTtcbn1cblxuZnVuY3Rpb24gZmlsdGVySW5NZW1vcnlGaWVsZHMocm93cywgcmVxdWVzdERlZiwgaW5NZW1vcnlGaWVsZHMpIHtcbiAgcm93cyA9IHJvd3MuZmlsdGVyKGZ1bmN0aW9uIChyb3cpIHtcbiAgICByZXR1cm4gcm93RmlsdGVyKHJvdy5kb2MsIHJlcXVlc3REZWYuc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKTtcbiAgfSk7XG5cbiAgaWYgKHJlcXVlc3REZWYuc29ydCkge1xuICAgIC8vIGluLW1lbW9yeSBzb3J0XG4gICAgdmFyIGZpZWxkU29ydGVyID0gY3JlYXRlRmllbGRTb3J0ZXIocmVxdWVzdERlZi5zb3J0KTtcbiAgICByb3dzID0gcm93cy5zb3J0KGZpZWxkU29ydGVyKTtcbiAgICBpZiAodHlwZW9mIHJlcXVlc3REZWYuc29ydFswXSAhPT0gJ3N0cmluZycgJiZcbiAgICAgICAgZ2V0VmFsdWUocmVxdWVzdERlZi5zb3J0WzBdKSA9PT0gJ2Rlc2MnKSB7XG4gICAgICByb3dzID0gcm93cy5yZXZlcnNlKCk7XG4gICAgfVxuICB9XG5cbiAgaWYgKCdsaW1pdCcgaW4gcmVxdWVzdERlZiB8fCAnc2tpcCcgaW4gcmVxdWVzdERlZikge1xuICAgIC8vIGhhdmUgdG8gZG8gdGhlIGxpbWl0IGluLW1lbW9yeVxuICAgIHZhciBza2lwID0gcmVxdWVzdERlZi5za2lwIHx8IDA7XG4gICAgdmFyIGxpbWl0ID0gKCdsaW1pdCcgaW4gcmVxdWVzdERlZiA/IHJlcXVlc3REZWYubGltaXQgOiByb3dzLmxlbmd0aCkgKyBza2lwO1xuICAgIHJvd3MgPSByb3dzLnNsaWNlKHNraXAsIGxpbWl0KTtcbiAgfVxuICByZXR1cm4gcm93cztcbn1cblxuZnVuY3Rpb24gcm93RmlsdGVyKGRvYywgc2VsZWN0b3IsIGluTWVtb3J5RmllbGRzKSB7XG4gIHJldHVybiBpbk1lbW9yeUZpZWxkcy5ldmVyeShmdW5jdGlvbiAoZmllbGQpIHtcbiAgICB2YXIgbWF0Y2hlciA9IHNlbGVjdG9yW2ZpZWxkXTtcbiAgICB2YXIgcGFyc2VkRmllbGQgPSBwYXJzZUZpZWxkKGZpZWxkKTtcbiAgICB2YXIgZG9jRmllbGRWYWx1ZSA9IGdldEZpZWxkRnJvbURvYyhkb2MsIHBhcnNlZEZpZWxkKTtcbiAgICBpZiAoaXNDb21iaW5hdGlvbmFsRmllbGQoZmllbGQpKSB7XG4gICAgICByZXR1cm4gbWF0Y2hDb21pbmF0aW9uYWxTZWxlY3RvcihmaWVsZCwgbWF0Y2hlciwgZG9jKTtcbiAgICB9XG5cbiAgICByZXR1cm4gbWF0Y2hTZWxlY3RvcihtYXRjaGVyLCBkb2MsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIG1hdGNoU2VsZWN0b3IobWF0Y2hlciwgZG9jLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICBpZiAoIW1hdGNoZXIpIHtcbiAgICAvLyBubyBmaWx0ZXJpbmcgbmVjZXNzYXJ5OyB0aGlzIGZpZWxkIGlzIGp1c3QgbmVlZGVkIGZvciBzb3J0aW5nXG4gICAgcmV0dXJuIHRydWU7XG4gIH1cblxuICAvLyBpcyBtYXRjaGVyIGFuIG9iamVjdCwgaWYgc28gY29udGludWUgcmVjdXJzaW9uXG4gIGlmICh0eXBlb2YgbWF0Y2hlciA9PT0gJ29iamVjdCcpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMobWF0Y2hlcikuZXZlcnkoZnVuY3Rpb24gKG1heWJlVXNlck9wZXJhdG9yKSB7XG4gICAgICB2YXIgdXNlclZhbHVlID0gbWF0Y2hlclsgbWF5YmVVc2VyT3BlcmF0b3IgXTtcbiAgICAgIC8vIGV4cGxpY2l0IG9wZXJhdG9yXG4gICAgICBpZiAobWF5YmVVc2VyT3BlcmF0b3IuaW5kZXhPZihcIiRcIikgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG1hdGNoKG1heWJlVXNlck9wZXJhdG9yLCBkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFyIHN1YlBhcnNlZEZpZWxkID0gcGFyc2VGaWVsZChtYXliZVVzZXJPcGVyYXRvcik7XG5cbiAgICAgICAgaWYgKFxuICAgICAgICAgIGRvY0ZpZWxkVmFsdWUgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgICAgIHR5cGVvZiB1c2VyVmFsdWUgIT09IFwib2JqZWN0XCIgJiZcbiAgICAgICAgICBzdWJQYXJzZWRGaWVsZC5sZW5ndGggPiAwXG4gICAgICAgICkge1xuICAgICAgICAgIC8vIHRoZSBmaWVsZCBkb2VzIG5vdCBleGlzdCwgcmV0dXJuIG9yIGdldEZpZWxkRnJvbURvYyB3aWxsIHRocm93XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIHN1YkRvY0ZpZWxkVmFsdWUgPSBnZXRGaWVsZEZyb21Eb2MoZG9jRmllbGRWYWx1ZSwgc3ViUGFyc2VkRmllbGQpO1xuXG4gICAgICAgIGlmICh0eXBlb2YgdXNlclZhbHVlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgLy8gZmllbGQgdmFsdWUgaXMgYW4gb2JqZWN0IHRoYXQgbWlnaHQgY29udGFpbiBtb3JlIG9wZXJhdG9yc1xuICAgICAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgc3ViRG9jRmllbGRWYWx1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBpbXBsaWNpdCBvcGVyYXRvclxuICAgICAgICByZXR1cm4gbWF0Y2goXCIkZXFcIiwgZG9jLCB1c2VyVmFsdWUsIHN1YlBhcnNlZEZpZWxkLCBzdWJEb2NGaWVsZFZhbHVlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG5vIG1vcmUgZGVwdGgsIE5vIG5lZWQgdG8gcmVjdXJzZSBmdXJ0aGVyXG4gIHJldHVybiBtYXRjaGVyID09PSBkb2NGaWVsZFZhbHVlO1xufVxuXG5mdW5jdGlvbiBtYXRjaENvbWluYXRpb25hbFNlbGVjdG9yKGZpZWxkLCBtYXRjaGVyLCBkb2MpIHtcblxuICBpZiAoZmllbGQgPT09ICckb3InKSB7XG4gICAgcmV0dXJuIG1hdGNoZXIuc29tZShmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgICAgcmV0dXJuIHJvd0ZpbHRlcihkb2MsIG9yTWF0Y2hlcnMsIE9iamVjdC5rZXlzKG9yTWF0Y2hlcnMpKTtcbiAgICB9KTtcbiAgfVxuXG4gIGlmIChmaWVsZCA9PT0gJyRub3QnKSB7XG4gICAgcmV0dXJuICFyb3dGaWx0ZXIoZG9jLCBtYXRjaGVyLCBPYmplY3Qua2V5cyhtYXRjaGVyKSk7XG4gIH1cblxuICAvL2Akbm9yYFxuICByZXR1cm4gIW1hdGNoZXIuZmluZChmdW5jdGlvbiAob3JNYXRjaGVycykge1xuICAgIHJldHVybiByb3dGaWx0ZXIoZG9jLCBvck1hdGNoZXJzLCBPYmplY3Qua2V5cyhvck1hdGNoZXJzKSk7XG4gIH0pO1xuXG59XG5cbmZ1bmN0aW9uIG1hdGNoKHVzZXJPcGVyYXRvciwgZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gIGlmICghbWF0Y2hlcnNbdXNlck9wZXJhdG9yXSkge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgdGhyb3cgbmV3IEVycm9yKCd1bmtub3duIG9wZXJhdG9yIFwiJyArIHVzZXJPcGVyYXRvciArXG4gICAgICAnXCIgLSBzaG91bGQgYmUgb25lIG9mICRlcSwgJGx0ZSwgJGx0LCAkZ3QsICRndGUsICRleGlzdHMsICRuZSwgJGluLCAnICtcbiAgICAgICckbmluLCAkc2l6ZSwgJG1vZCwgJHJlZ2V4LCAkZWxlbU1hdGNoLCAkdHlwZSwgJGFsbE1hdGNoIG9yICRhbGwnKTtcbiAgfVxuICByZXR1cm4gbWF0Y2hlcnNbdXNlck9wZXJhdG9yXShkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpO1xufVxuXG5mdW5jdGlvbiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCcgJiYgZG9jRmllbGRWYWx1ZSAhPT0gbnVsbDtcbn1cblxuZnVuY3Rpb24gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSB7XG4gIHJldHVybiB0eXBlb2YgZG9jRmllbGRWYWx1ZSAhPT0gJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIG1vZEZpZWxkKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWUgIT09IFwibnVtYmVyXCIgfHxcbiAgICBwYXJzZUludChkb2NGaWVsZFZhbHVlLCAxMCkgIT09IGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICB2YXIgZGl2aXNvciA9IHVzZXJWYWx1ZVswXTtcbiAgdmFyIG1vZCA9IHVzZXJWYWx1ZVsxXTtcblxuICByZXR1cm4gZG9jRmllbGRWYWx1ZSAlIGRpdmlzb3IgPT09IG1vZDtcbn1cblxuZnVuY3Rpb24gYXJyYXlDb250YWluc1ZhbHVlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuICByZXR1cm4gdXNlclZhbHVlLnNvbWUoZnVuY3Rpb24gKHZhbCkge1xuICAgIGlmIChkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICAgIHJldHVybiBjb2xsYXRlKHZhbCwgZG9jRmllbGRWYWx1ZUl0ZW0pID09PSAwO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGNvbGxhdGUodmFsLCBkb2NGaWVsZFZhbHVlKSA9PT0gMDtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLnNvbWUoZnVuY3Rpb24gKGRvY0ZpZWxkVmFsdWVJdGVtKSB7XG4gICAgICByZXR1cm4gY29sbGF0ZSh2YWwsIGRvY0ZpZWxkVmFsdWVJdGVtKSA9PT0gMDtcbiAgICB9KTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIHtcbiAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSB1c2VyVmFsdWU7XG59XG5cbmZ1bmN0aW9uIHJlZ2V4TWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSB7XG4gIHZhciByZSA9IG5ldyBSZWdFeHAodXNlclZhbHVlKTtcblxuICByZXR1cm4gcmUudGVzdChkb2NGaWVsZFZhbHVlKTtcbn1cblxuZnVuY3Rpb24gdHlwZU1hdGNoKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkge1xuXG4gIHN3aXRjaCAodXNlclZhbHVlKSB7XG4gICAgY2FzZSAnbnVsbCc6XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZSA9PT0gbnVsbDtcbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnYm9vbGVhbic7XG4gICAgY2FzZSAnbnVtYmVyJzpcbiAgICAgIHJldHVybiB0eXBlb2YgKGRvY0ZpZWxkVmFsdWUpID09PSAnbnVtYmVyJztcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHR5cGVvZiAoZG9jRmllbGRWYWx1ZSkgPT09ICdzdHJpbmcnO1xuICAgIGNhc2UgJ2FycmF5JzpcbiAgICAgIHJldHVybiBkb2NGaWVsZFZhbHVlIGluc3RhbmNlb2YgQXJyYXk7XG4gICAgY2FzZSAnb2JqZWN0JzpcbiAgICAgIHJldHVybiAoe30pLnRvU3RyaW5nLmNhbGwoZG9jRmllbGRWYWx1ZSkgPT09ICdbb2JqZWN0IE9iamVjdF0nO1xuICB9XG59XG5cbnZhciBtYXRjaGVycyA9IHtcblxuICAnJGVsZW1NYXRjaCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoZG9jRmllbGRWYWx1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIGRvY0ZpZWxkVmFsdWVbMF0gPT09ICdvYmplY3QnKSB7XG4gICAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgICAgcmV0dXJuIHJvd0ZpbHRlcih2YWwsIHVzZXJWYWx1ZSwgT2JqZWN0LmtleXModXNlclZhbHVlKSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZG9jRmllbGRWYWx1ZS5zb21lKGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGFsbE1hdGNoJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShkb2NGaWVsZFZhbHVlKSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKGRvY0ZpZWxkVmFsdWUubGVuZ3RoID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBkb2NGaWVsZFZhbHVlWzBdID09PSAnb2JqZWN0Jykge1xuICAgICAgcmV0dXJuIGRvY0ZpZWxkVmFsdWUuZXZlcnkoZnVuY3Rpb24gKHZhbCkge1xuICAgICAgICByZXR1cm4gcm93RmlsdGVyKHZhbCwgdXNlclZhbHVlLCBPYmplY3Qua2V5cyh1c2VyVmFsdWUpKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIHJldHVybiBkb2NGaWVsZFZhbHVlLmV2ZXJ5KGZ1bmN0aW9uICh2YWwpIHtcbiAgICAgIHJldHVybiBtYXRjaFNlbGVjdG9yKHVzZXJWYWx1ZSwgZG9jLCBwYXJzZWRGaWVsZCwgdmFsKTtcbiAgICB9KTtcbiAgfSxcblxuICAnJGVxJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA9PT0gMDtcbiAgfSxcblxuICAnJGd0ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPj0gMDtcbiAgfSxcblxuICAnJGd0JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpICYmIGNvbGxhdGUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKSA+IDA7XG4gIH0sXG5cbiAgJyRsdGUnOiBmdW5jdGlvbiAoZG9jLCB1c2VyVmFsdWUsIHBhcnNlZEZpZWxkLCBkb2NGaWVsZFZhbHVlKSB7XG4gICAgcmV0dXJuIGZpZWxkSXNOb3RVbmRlZmluZWQoZG9jRmllbGRWYWx1ZSkgJiYgY29sbGF0ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpIDw9IDA7XG4gIH0sXG5cbiAgJyRsdCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKSAmJiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIHVzZXJWYWx1ZSkgPCAwO1xuICB9LFxuXG4gICckZXhpc3RzJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIC8vYSBmaWVsZCB0aGF0IGlzIG51bGwgaXMgc3RpbGwgY29uc2lkZXJlZCB0byBleGlzdFxuICAgIGlmICh1c2VyVmFsdWUpIHtcbiAgICAgIHJldHVybiBmaWVsZElzTm90VW5kZWZpbmVkKGRvY0ZpZWxkVmFsdWUpO1xuICAgIH1cblxuICAgIHJldHVybiAhZmllbGRJc05vdFVuZGVmaW5lZChkb2NGaWVsZFZhbHVlKTtcbiAgfSxcblxuICAnJG1vZCc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgbW9kRmllbGQoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5lJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB1c2VyVmFsdWUuZXZlcnkoZnVuY3Rpb24gKG5lVmFsdWUpIHtcbiAgICAgIHJldHVybiBjb2xsYXRlKGRvY0ZpZWxkVmFsdWUsIG5lVmFsdWUpICE9PSAwO1xuICAgIH0pO1xuICB9LFxuICAnJGluJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJiBhcnJheUNvbnRhaW5zVmFsdWUoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJG5pbic6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiYgIWFycmF5Q29udGFpbnNWYWx1ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckc2l6ZSc6IGZ1bmN0aW9uIChkb2MsIHVzZXJWYWx1ZSwgcGFyc2VkRmllbGQsIGRvY0ZpZWxkVmFsdWUpIHtcbiAgICByZXR1cm4gZmllbGRFeGlzdHMoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIEFycmF5LmlzQXJyYXkoZG9jRmllbGRWYWx1ZSkgJiZcbiAgICAgIGFycmF5U2l6ZShkb2NGaWVsZFZhbHVlLCB1c2VyVmFsdWUpO1xuICB9LFxuXG4gICckYWxsJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBBcnJheS5pc0FycmF5KGRvY0ZpZWxkVmFsdWUpICYmIGFycmF5Q29udGFpbnNBbGxWYWx1ZXMoZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfSxcblxuICAnJHJlZ2V4JzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiBmaWVsZEV4aXN0cyhkb2NGaWVsZFZhbHVlKSAmJlxuICAgICAgdHlwZW9mIGRvY0ZpZWxkVmFsdWUgPT0gXCJzdHJpbmdcIiAmJlxuICAgICAgdXNlclZhbHVlLmV2ZXJ5KGZ1bmN0aW9uIChyZWdleFZhbHVlKSB7XG4gICAgICAgIHJldHVybiByZWdleE1hdGNoKGRvY0ZpZWxkVmFsdWUsIHJlZ2V4VmFsdWUpO1xuICAgICAgfSk7XG4gIH0sXG5cbiAgJyR0eXBlJzogZnVuY3Rpb24gKGRvYywgdXNlclZhbHVlLCBwYXJzZWRGaWVsZCwgZG9jRmllbGRWYWx1ZSkge1xuICAgIHJldHVybiB0eXBlTWF0Y2goZG9jRmllbGRWYWx1ZSwgdXNlclZhbHVlKTtcbiAgfVxufTtcblxuLy8gcmV0dXJuIHRydWUgaWYgdGhlIGdpdmVuIGRvYyBtYXRjaGVzIHRoZSBzdXBwbGllZCBzZWxlY3RvclxuZnVuY3Rpb24gbWF0Y2hlc1NlbGVjdG9yKGRvYywgc2VsZWN0b3IpIHtcbiAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gIGlmICh0eXBlb2Ygc2VsZWN0b3IgIT09ICdvYmplY3QnKSB7XG4gICAgLy8gbWF0Y2ggdGhlIENvdWNoREIgZXJyb3IgbWVzc2FnZVxuICAgIHRocm93IG5ldyBFcnJvcignU2VsZWN0b3IgZXJyb3I6IGV4cGVjdGVkIGEgSlNPTiBvYmplY3QnKTtcbiAgfVxuXG4gIHNlbGVjdG9yID0gbWFzc2FnZVNlbGVjdG9yKHNlbGVjdG9yKTtcbiAgdmFyIHJvdyA9IHtcbiAgICAnZG9jJzogZG9jXG4gIH07XG5cbiAgdmFyIHJvd3NNYXRjaGVkID0gZmlsdGVySW5NZW1vcnlGaWVsZHMoW3Jvd10sIHsgJ3NlbGVjdG9yJzogc2VsZWN0b3IgfSwgT2JqZWN0LmtleXMoc2VsZWN0b3IpKTtcbiAgcmV0dXJuIHJvd3NNYXRjaGVkICYmIHJvd3NNYXRjaGVkLmxlbmd0aCA9PT0gMTtcbn1cblxuZnVuY3Rpb24gZXZhbEZpbHRlcihpbnB1dCkge1xuICByZXR1cm4gc2NvcGVFdmFsKCdcInVzZSBzdHJpY3RcIjtcXG5yZXR1cm4gJyArIGlucHV0ICsgJzsnLCB7fSk7XG59XG5cbmZ1bmN0aW9uIGV2YWxWaWV3KGlucHV0KSB7XG4gIHZhciBjb2RlID0gW1xuICAgICdyZXR1cm4gZnVuY3Rpb24oZG9jKSB7JyxcbiAgICAnICBcInVzZSBzdHJpY3RcIjsnLFxuICAgICcgIHZhciBlbWl0dGVkID0gZmFsc2U7JyxcbiAgICAnICB2YXIgZW1pdCA9IGZ1bmN0aW9uIChhLCBiKSB7JyxcbiAgICAnICAgIGVtaXR0ZWQgPSB0cnVlOycsXG4gICAgJyAgfTsnLFxuICAgICcgIHZhciB2aWV3ID0gJyArIGlucHV0ICsgJzsnLFxuICAgICcgIHZpZXcoZG9jKTsnLFxuICAgICcgIGlmIChlbWl0dGVkKSB7JyxcbiAgICAnICAgIHJldHVybiB0cnVlOycsXG4gICAgJyAgfScsXG4gICAgJ307J1xuICBdLmpvaW4oJ1xcbicpO1xuXG4gIHJldHVybiBzY29wZUV2YWwoY29kZSwge30pO1xufVxuXG5mdW5jdGlvbiB2YWxpZGF0ZShvcHRzLCBjYWxsYmFjaykge1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciAhPT0gJ19zZWxlY3RvcicpIHtcbiAgICAgIHZhciBmaWx0ZXJOYW1lID0gdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJyA/XG4gICAgICAgIG9wdHMuZmlsdGVyIDogJ2Z1bmN0aW9uJztcbiAgICAgIHJldHVybiBjYWxsYmFjayhuZXcgRXJyb3IoJ3NlbGVjdG9yIGludmFsaWQgZm9yIGZpbHRlciBcIicgKyBmaWx0ZXJOYW1lICsgJ1wiJykpO1xuICAgIH1cbiAgfVxuICBjYWxsYmFjaygpO1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemUob3B0cykge1xuICBpZiAob3B0cy52aWV3ICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ192aWV3JztcbiAgfVxuXG4gIGlmIChvcHRzLnNlbGVjdG9yICYmICFvcHRzLmZpbHRlcikge1xuICAgIG9wdHMuZmlsdGVyID0gJ19zZWxlY3Rvcic7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnc3RyaW5nJykge1xuICAgIGlmIChvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgICAgb3B0cy52aWV3ID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdHMuZmlsdGVyID0gbm9ybWFsaXplRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMuZmlsdGVyKTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gc2hvdWxkRmlsdGVyKGNoYW5nZXNIYW5kbGVyLCBvcHRzKSB7XG4gIHJldHVybiBvcHRzLmZpbHRlciAmJiB0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdzdHJpbmcnICYmXG4gICAgIW9wdHMuZG9jX2lkcyAmJiAhaXNSZW1vdGUoY2hhbmdlc0hhbmRsZXIuZGIpO1xufVxuXG5mdW5jdGlvbiBmaWx0ZXIoY2hhbmdlc0hhbmRsZXIsIG9wdHMpIHtcbiAgdmFyIGNhbGxiYWNrID0gb3B0cy5jb21wbGV0ZTtcbiAgaWYgKG9wdHMuZmlsdGVyID09PSAnX3ZpZXcnKSB7XG4gICAgaWYgKCFvcHRzLnZpZXcgfHwgdHlwZW9mIG9wdHMudmlldyAhPT0gJ3N0cmluZycpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihCQURfUkVRVUVTVCxcbiAgICAgICAgJ2B2aWV3YCBmaWx0ZXIgcGFyYW1ldGVyIG5vdCBmb3VuZCBvciBpbnZhbGlkLicpO1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgfVxuICAgIC8vIGZldGNoIGEgdmlldyBmcm9tIGEgZGVzaWduIGRvYywgbWFrZSBpdCBiZWhhdmUgbGlrZSBhIGZpbHRlclxuICAgIHZhciB2aWV3TmFtZSA9IHBhcnNlRGVzaWduRG9jRnVuY3Rpb25OYW1lKG9wdHMudmlldyk7XG4gICAgY2hhbmdlc0hhbmRsZXIuZGIuZ2V0KCdfZGVzaWduLycgKyB2aWV3TmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBtYXBGdW4gPSBkZG9jICYmIGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0gJiZcbiAgICAgICAgZGRvYy52aWV3c1t2aWV3TmFtZVsxXV0ubWFwO1xuICAgICAgaWYgKCFtYXBGdW4pIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLFxuICAgICAgICAgIChkZG9jLnZpZXdzID8gJ21pc3NpbmcganNvbiBrZXk6ICcgKyB2aWV3TmFtZVsxXSA6XG4gICAgICAgICAgICAnbWlzc2luZyBqc29uIGtleTogdmlld3MnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsVmlldyhtYXBGdW4pO1xuICAgICAgY2hhbmdlc0hhbmRsZXIuZG9DaGFuZ2VzKG9wdHMpO1xuICAgIH0pO1xuICB9IGVsc2UgaWYgKG9wdHMuc2VsZWN0b3IpIHtcbiAgICBvcHRzLmZpbHRlciA9IGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgIHJldHVybiBtYXRjaGVzU2VsZWN0b3IoZG9jLCBvcHRzLnNlbGVjdG9yKTtcbiAgICB9O1xuICAgIGNoYW5nZXNIYW5kbGVyLmRvQ2hhbmdlcyhvcHRzKTtcbiAgfSBlbHNlIHtcbiAgICAvLyBmZXRjaCBhIGZpbHRlciBmcm9tIGEgZGVzaWduIGRvY1xuICAgIHZhciBmaWx0ZXJOYW1lID0gcGFyc2VEZXNpZ25Eb2NGdW5jdGlvbk5hbWUob3B0cy5maWx0ZXIpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmRiLmdldCgnX2Rlc2lnbi8nICsgZmlsdGVyTmFtZVswXSwgZnVuY3Rpb24gKGVyciwgZGRvYykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlc0hhbmRsZXIuaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKG51bGwsIHtzdGF0dXM6ICdjYW5jZWxsZWQnfSk7XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZShlcnIpKTtcbiAgICAgIH1cbiAgICAgIHZhciBmaWx0ZXJGdW4gPSBkZG9jICYmIGRkb2MuZmlsdGVycyAmJiBkZG9jLmZpbHRlcnNbZmlsdGVyTmFtZVsxXV07XG4gICAgICBpZiAoIWZpbHRlckZ1bikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsXG4gICAgICAgICAgKChkZG9jICYmIGRkb2MuZmlsdGVycykgPyAnbWlzc2luZyBqc29uIGtleTogJyArIGZpbHRlck5hbWVbMV1cbiAgICAgICAgICAgIDogJ21pc3NpbmcganNvbiBrZXk6IGZpbHRlcnMnKSkpO1xuICAgICAgfVxuICAgICAgb3B0cy5maWx0ZXIgPSBldmFsRmlsdGVyKGZpbHRlckZ1bik7XG4gICAgICBjaGFuZ2VzSGFuZGxlci5kb0NoYW5nZXMob3B0cyk7XG4gICAgfSk7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlDaGFuZ2VzRmlsdGVyUGx1Z2luKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5fY2hhbmdlc0ZpbHRlclBsdWdpbiA9IHtcbiAgICB2YWxpZGF0ZTogdmFsaWRhdGUsXG4gICAgbm9ybWFsaXplOiBub3JtYWxpemUsXG4gICAgc2hvdWxkRmlsdGVyOiBzaG91bGRGaWx0ZXIsXG4gICAgZmlsdGVyOiBmaWx0ZXJcbiAgfTtcbn1cblxuLy8gVE9ETzogcmVtb3ZlIGZyb20gcG91Y2hkYi1jb3JlIChicmVha2luZylcblBvdWNoREIucGx1Z2luKGFwcGx5Q2hhbmdlc0ZpbHRlclBsdWdpbik7XG5cblBvdWNoREIudmVyc2lvbiA9IHZlcnNpb247XG5cbmZ1bmN0aW9uIHRvT2JqZWN0KGFycmF5KSB7XG4gIHJldHVybiBhcnJheS5yZWR1Y2UoZnVuY3Rpb24gKG9iaiwgaXRlbSkge1xuICAgIG9ialtpdGVtXSA9IHRydWU7XG4gICAgcmV0dXJuIG9iajtcbiAgfSwge30pO1xufVxuLy8gTGlzdCBvZiB0b3AgbGV2ZWwgcmVzZXJ2ZWQgd29yZHMgZm9yIGRvY1xudmFyIHJlc2VydmVkV29yZHMgPSB0b09iamVjdChbXG4gICdfaWQnLFxuICAnX3JldicsXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gICdfZGVsZXRlZCcsXG4gICdfcmV2aXNpb25zJyxcbiAgJ19yZXZzX2luZm8nLFxuICAnX2NvbmZsaWN0cycsXG4gICdfZGVsZXRlZF9jb25mbGljdHMnLFxuICAnX2xvY2FsX3NlcScsXG4gICdfcmV2X3RyZWUnLFxuICAvLyByZXBsaWNhdGlvbiBkb2N1bWVudHNcbiAgJ19yZXBsaWNhdGlvbl9pZCcsXG4gICdfcmVwbGljYXRpb25fc3RhdGUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3RpbWUnLFxuICAnX3JlcGxpY2F0aW9uX3N0YXRlX3JlYXNvbicsXG4gICdfcmVwbGljYXRpb25fc3RhdHMnLFxuICAvLyBTcGVjaWZpYyB0byBDb3VjaGJhc2UgU3luYyBHYXRld2F5XG4gICdfcmVtb3ZlZCdcbl0pO1xuXG4vLyBMaXN0IG9mIHJlc2VydmVkIHdvcmRzIHRoYXQgc2hvdWxkIGVuZCB1cCBpbiB0aGUgZG9jdW1lbnRcbnZhciBkYXRhV29yZHMgPSB0b09iamVjdChbXG4gICdfYWNjZXNzJyxcbiAgJ19hdHRhY2htZW50cycsXG4gIC8vIHJlcGxpY2F0aW9uIGRvY3VtZW50c1xuICAnX3JlcGxpY2F0aW9uX2lkJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0ZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfdGltZScsXG4gICdfcmVwbGljYXRpb25fc3RhdGVfcmVhc29uJyxcbiAgJ19yZXBsaWNhdGlvbl9zdGF0cydcbl0pO1xuXG5mdW5jdGlvbiBwYXJzZVJldmlzaW9uSW5mbyhyZXYpIHtcbiAgaWYgKCEvXlxcZCstLy50ZXN0KHJldikpIHtcbiAgICByZXR1cm4gY3JlYXRlRXJyb3IoSU5WQUxJRF9SRVYpO1xuICB9XG4gIHZhciBpZHggPSByZXYuaW5kZXhPZignLScpO1xuICB2YXIgbGVmdCA9IHJldi5zdWJzdHJpbmcoMCwgaWR4KTtcbiAgdmFyIHJpZ2h0ID0gcmV2LnN1YnN0cmluZyhpZHggKyAxKTtcbiAgcmV0dXJuIHtcbiAgICBwcmVmaXg6IHBhcnNlSW50KGxlZnQsIDEwKSxcbiAgICBpZDogcmlnaHRcbiAgfTtcbn1cblxuZnVuY3Rpb24gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKHJldmlzaW9ucywgb3B0cykge1xuICB2YXIgcG9zID0gcmV2aXNpb25zLnN0YXJ0IC0gcmV2aXNpb25zLmlkcy5sZW5ndGggKyAxO1xuXG4gIHZhciByZXZpc2lvbklkcyA9IHJldmlzaW9ucy5pZHM7XG4gIHZhciBpZHMgPSBbcmV2aXNpb25JZHNbMF0sIG9wdHMsIFtdXTtcblxuICBmb3IgKHZhciBpID0gMSwgbGVuID0gcmV2aXNpb25JZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBpZHMgPSBbcmV2aXNpb25JZHNbaV0sIHtzdGF0dXM6ICdtaXNzaW5nJ30sIFtpZHNdXTtcbiAgfVxuXG4gIHJldHVybiBbe1xuICAgIHBvczogcG9zLFxuICAgIGlkczogaWRzXG4gIH1dO1xufVxuXG4vLyBQcmVwcm9jZXNzIGRvY3VtZW50cywgcGFyc2UgdGhlaXIgcmV2aXNpb25zLCBhc3NpZ24gYW4gaWQgYW5kIGFcbi8vIHJldmlzaW9uIGZvciBuZXcgd3JpdGVzIHRoYXQgYXJlIG1pc3NpbmcgdGhlbSwgZXRjXG5mdW5jdGlvbiBwYXJzZURvYyhkb2MsIG5ld0VkaXRzLCBkYk9wdHMpIHtcbiAgaWYgKCFkYk9wdHMpIHtcbiAgICBkYk9wdHMgPSB7XG4gICAgICBkZXRlcm1pbmlzdGljX3JldnM6IHRydWVcbiAgICB9O1xuICB9XG5cbiAgdmFyIG5SZXZOdW07XG4gIHZhciBuZXdSZXZJZDtcbiAgdmFyIHJldkluZm87XG4gIHZhciBvcHRzID0ge3N0YXR1czogJ2F2YWlsYWJsZSd9O1xuICBpZiAoZG9jLl9kZWxldGVkKSB7XG4gICAgb3B0cy5kZWxldGVkID0gdHJ1ZTtcbiAgfVxuXG4gIGlmIChuZXdFZGl0cykge1xuICAgIGlmICghZG9jLl9pZCkge1xuICAgICAgZG9jLl9pZCA9IHV1aWQoKTtcbiAgICB9XG4gICAgbmV3UmV2SWQgPSByZXYkJDEoZG9jLCBkYk9wdHMuZGV0ZXJtaW5pc3RpY19yZXZzKTtcbiAgICBpZiAoZG9jLl9yZXYpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IHJldkluZm8ucHJlZml4LFxuICAgICAgICBpZHM6IFtyZXZJbmZvLmlkLCB7c3RhdHVzOiAnbWlzc2luZyd9LCBbW25ld1JldklkLCBvcHRzLCBbXV1dXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gcmV2SW5mby5wcmVmaXggKyAxO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gW3tcbiAgICAgICAgcG9zOiAxLFxuICAgICAgICBpZHMgOiBbbmV3UmV2SWQsIG9wdHMsIFtdXVxuICAgICAgfV07XG4gICAgICBuUmV2TnVtID0gMTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgaWYgKGRvYy5fcmV2aXNpb25zKSB7XG4gICAgICBkb2MuX3Jldl90cmVlID0gbWFrZVJldlRyZWVGcm9tUmV2aXNpb25zKGRvYy5fcmV2aXNpb25zLCBvcHRzKTtcbiAgICAgIG5SZXZOdW0gPSBkb2MuX3JldmlzaW9ucy5zdGFydDtcbiAgICAgIG5ld1JldklkID0gZG9jLl9yZXZpc2lvbnMuaWRzWzBdO1xuICAgIH1cbiAgICBpZiAoIWRvYy5fcmV2X3RyZWUpIHtcbiAgICAgIHJldkluZm8gPSBwYXJzZVJldmlzaW9uSW5mbyhkb2MuX3Jldik7XG4gICAgICBpZiAocmV2SW5mby5lcnJvcikge1xuICAgICAgICByZXR1cm4gcmV2SW5mbztcbiAgICAgIH1cbiAgICAgIG5SZXZOdW0gPSByZXZJbmZvLnByZWZpeDtcbiAgICAgIG5ld1JldklkID0gcmV2SW5mby5pZDtcbiAgICAgIGRvYy5fcmV2X3RyZWUgPSBbe1xuICAgICAgICBwb3M6IG5SZXZOdW0sXG4gICAgICAgIGlkczogW25ld1JldklkLCBvcHRzLCBbXV1cbiAgICAgIH1dO1xuICAgIH1cbiAgfVxuXG4gIGludmFsaWRJZEVycm9yKGRvYy5faWQpO1xuXG4gIGRvYy5fcmV2ID0gblJldk51bSArICctJyArIG5ld1JldklkO1xuXG4gIHZhciByZXN1bHQgPSB7bWV0YWRhdGEgOiB7fSwgZGF0YSA6IHt9fTtcbiAgZm9yICh2YXIga2V5IGluIGRvYykge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkb2MsIGtleSkpIHtcbiAgICAgIHZhciBzcGVjaWFsS2V5ID0ga2V5WzBdID09PSAnXyc7XG4gICAgICBpZiAoc3BlY2lhbEtleSAmJiAhcmVzZXJ2ZWRXb3Jkc1trZXldKSB7XG4gICAgICAgIHZhciBlcnJvciA9IGNyZWF0ZUVycm9yKERPQ19WQUxJREFUSU9OLCBrZXkpO1xuICAgICAgICBlcnJvci5tZXNzYWdlID0gRE9DX1ZBTElEQVRJT04ubWVzc2FnZSArICc6ICcgKyBrZXk7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfSBlbHNlIGlmIChzcGVjaWFsS2V5ICYmICFkYXRhV29yZHNba2V5XSkge1xuICAgICAgICByZXN1bHQubWV0YWRhdGFba2V5LnNsaWNlKDEpXSA9IGRvY1trZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0LmRhdGFba2V5XSA9IGRvY1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG5mdW5jdGlvbiBwYXJzZUJhc2U2NChkYXRhKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHRoaXNBdG9iKGRhdGEpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKEJBRF9BUkcsXG4gICAgICAnQXR0YWNobWVudCBpcyBub3QgYSB2YWxpZCBiYXNlNjQgc3RyaW5nJyk7XG4gICAgcmV0dXJuIHtlcnJvcjogZXJyfTtcbiAgfVxufVxuXG5mdW5jdGlvbiBwcmVwcm9jZXNzU3RyaW5nKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIHZhciBhc0JpbmFyeSA9IHBhcnNlQmFzZTY0KGF0dC5kYXRhKTtcbiAgaWYgKGFzQmluYXJ5LmVycm9yKSB7XG4gICAgcmV0dXJuIGNhbGxiYWNrKGFzQmluYXJ5LmVycm9yKTtcbiAgfVxuXG4gIGF0dC5sZW5ndGggPSBhc0JpbmFyeS5sZW5ndGg7XG4gIGlmIChibG9iVHlwZSA9PT0gJ2Jsb2InKSB7XG4gICAgYXR0LmRhdGEgPSBiaW5TdHJpbmdUb0JsdWZmZXIoYXNCaW5hcnksIGF0dC5jb250ZW50X3R5cGUpO1xuICB9IGVsc2UgaWYgKGJsb2JUeXBlID09PSAnYmFzZTY0Jykge1xuICAgIGF0dC5kYXRhID0gdGhpc0J0b2EoYXNCaW5hcnkpO1xuICB9IGVsc2UgeyAvLyBiaW5hcnlcbiAgICBhdHQuZGF0YSA9IGFzQmluYXJ5O1xuICB9XG4gIGJpbmFyeU1kNShhc0JpbmFyeSwgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyByZXN1bHQ7XG4gICAgY2FsbGJhY2soKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NCbG9iKGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGJpbmFyeU1kNShhdHQuZGF0YSwgZnVuY3Rpb24gKG1kNSkge1xuICAgIGF0dC5kaWdlc3QgPSAnbWQ1LScgKyBtZDU7XG4gICAgLy8gc2l6ZSBpcyBmb3IgYmxvYnMgKGJyb3dzZXIpLCBsZW5ndGggaXMgZm9yIGJ1ZmZlcnMgKG5vZGUpXG4gICAgYXR0Lmxlbmd0aCA9IGF0dC5kYXRhLnNpemUgfHwgYXR0LmRhdGEubGVuZ3RoIHx8IDA7XG4gICAgaWYgKGJsb2JUeXBlID09PSAnYmluYXJ5Jykge1xuICAgICAgYmxvYlRvQmluYXJ5U3RyaW5nKGF0dC5kYXRhLCBmdW5jdGlvbiAoYmluU3RyaW5nKSB7XG4gICAgICAgIGF0dC5kYXRhID0gYmluU3RyaW5nO1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChibG9iVHlwZSA9PT0gJ2Jhc2U2NCcpIHtcbiAgICAgIGJsb2JUb0Jhc2U2NChhdHQuZGF0YSwgZnVuY3Rpb24gKGI2NCkge1xuICAgICAgICBhdHQuZGF0YSA9IGI2NDtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59XG5cbmZ1bmN0aW9uIHByZXByb2Nlc3NBdHRhY2htZW50KGF0dCwgYmxvYlR5cGUsIGNhbGxiYWNrKSB7XG4gIGlmIChhdHQuc3R1Yikge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG4gIGlmICh0eXBlb2YgYXR0LmRhdGEgPT09ICdzdHJpbmcnKSB7IC8vIGlucHV0IGlzIGEgYmFzZTY0IHN0cmluZ1xuICAgIHByZXByb2Nlc3NTdHJpbmcoYXR0LCBibG9iVHlwZSwgY2FsbGJhY2spO1xuICB9IGVsc2UgeyAvLyBpbnB1dCBpcyBhIGJsb2JcbiAgICBwcmVwcm9jZXNzQmxvYihhdHQsIGJsb2JUeXBlLCBjYWxsYmFjayk7XG4gIH1cbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgY2FsbGJhY2spIHtcblxuICBpZiAoIWRvY0luZm9zLmxlbmd0aCkge1xuICAgIHJldHVybiBjYWxsYmFjaygpO1xuICB9XG5cbiAgdmFyIGRvY3YgPSAwO1xuICB2YXIgb3ZlcmFsbEVycjtcblxuICBkb2NJbmZvcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2NJbmZvKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzID0gZG9jSW5mby5kYXRhICYmIGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMgP1xuICAgICAgT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykgOiBbXTtcbiAgICB2YXIgcmVjdiA9IDA7XG5cbiAgICBpZiAoIWF0dGFjaG1lbnRzLmxlbmd0aCkge1xuICAgICAgcmV0dXJuIGRvbmUoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzZWRBdHRhY2htZW50KGVycikge1xuICAgICAgb3ZlcmFsbEVyciA9IGVycjtcbiAgICAgIHJlY3YrKztcbiAgICAgIGlmIChyZWN2ID09PSBhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICAgICAgZG9uZSgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZvciAodmFyIGtleSBpbiBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKSB7XG4gICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKGRvY0luZm8uZGF0YS5fYXR0YWNobWVudHMsIGtleSkpIHtcbiAgICAgICAgcHJlcHJvY2Vzc0F0dGFjaG1lbnQoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50c1trZXldLFxuICAgICAgICAgIGJsb2JUeXBlLCBwcm9jZXNzZWRBdHRhY2htZW50KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGRvbmUoKSB7XG4gICAgZG9jdisrO1xuICAgIGlmIChkb2NJbmZvcy5sZW5ndGggPT09IGRvY3YpIHtcbiAgICAgIGlmIChvdmVyYWxsRXJyKSB7XG4gICAgICAgIGNhbGxiYWNrKG92ZXJhbGxFcnIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gdXBkYXRlRG9jKHJldkxpbWl0LCBwcmV2LCBkb2NJbmZvLCByZXN1bHRzLFxuICAgICAgICAgICAgICAgICAgIGksIGNiLCB3cml0ZURvYywgbmV3RWRpdHMpIHtcblxuICBpZiAocmV2RXhpc3RzKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2KSAmJiAhbmV3RWRpdHMpIHtcbiAgICByZXN1bHRzW2ldID0gZG9jSW5mbztcbiAgICByZXR1cm4gY2IoKTtcbiAgfVxuXG4gIC8vIHNvbWV0aW1lcyB0aGlzIGlzIHByZS1jYWxjdWxhdGVkLiBoaXN0b3JpY2FsbHkgbm90IGFsd2F5c1xuICB2YXIgcHJldmlvdXNXaW5uaW5nUmV2ID0gcHJldi53aW5uaW5nUmV2IHx8IHdpbm5pbmdSZXYocHJldik7XG4gIHZhciBwcmV2aW91c2x5RGVsZXRlZCA9ICdkZWxldGVkJyBpbiBwcmV2ID8gcHJldi5kZWxldGVkIDpcbiAgICBpc0RlbGV0ZWQocHJldiwgcHJldmlvdXNXaW5uaW5nUmV2KTtcbiAgdmFyIGRlbGV0ZWQgPSAnZGVsZXRlZCcgaW4gZG9jSW5mby5tZXRhZGF0YSA/IGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA6XG4gICAgaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEpO1xuICB2YXIgaXNSb290ID0gL14xLS8udGVzdChkb2NJbmZvLm1ldGFkYXRhLnJldik7XG5cbiAgaWYgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG5ld0VkaXRzICYmIGlzUm9vdCkge1xuICAgIHZhciBuZXdEb2MgPSBkb2NJbmZvLmRhdGE7XG4gICAgbmV3RG9jLl9yZXYgPSBwcmV2aW91c1dpbm5pbmdSZXY7XG4gICAgbmV3RG9jLl9pZCA9IGRvY0luZm8ubWV0YWRhdGEuaWQ7XG4gICAgZG9jSW5mbyA9IHBhcnNlRG9jKG5ld0RvYywgbmV3RWRpdHMpO1xuICB9XG5cbiAgdmFyIG1lcmdlZCA9IG1lcmdlKHByZXYucmV2X3RyZWUsIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWVbMF0sIHJldkxpbWl0KTtcblxuICB2YXIgaW5Db25mbGljdCA9IG5ld0VkaXRzICYmICgoXG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmIGRlbGV0ZWQgJiYgbWVyZ2VkLmNvbmZsaWN0cyAhPT0gJ25ld19sZWFmJykgfHxcbiAgICAoIXByZXZpb3VzbHlEZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgIT09ICduZXdfbGVhZicpIHx8XG4gICAgKHByZXZpb3VzbHlEZWxldGVkICYmICFkZWxldGVkICYmIG1lcmdlZC5jb25mbGljdHMgPT09ICduZXdfYnJhbmNoJykpKTtcblxuICBpZiAoaW5Db25mbGljdCkge1xuICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgIHJlc3VsdHNbaV0gPSBlcnI7XG4gICAgcmV0dXJuIGNiKCk7XG4gIH1cblxuICB2YXIgbmV3UmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG4gIGRvY0luZm8ubWV0YWRhdGEucmV2X3RyZWUgPSBtZXJnZWQudHJlZTtcbiAgZG9jSW5mby5zdGVtbWVkUmV2cyA9IG1lcmdlZC5zdGVtbWVkUmV2cyB8fCBbXTtcbiAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgaWYgKHByZXYucmV2X21hcCkge1xuICAgIGRvY0luZm8ubWV0YWRhdGEucmV2X21hcCA9IHByZXYucmV2X21hcDsgLy8gdXNlZCBvbmx5IGJ5IGxldmVsZGJcbiAgfVxuXG4gIC8vIHJlY2FsY3VsYXRlXG4gIHZhciB3aW5uaW5nUmV2JCQxID0gd2lubmluZ1Jldihkb2NJbmZvLm1ldGFkYXRhKTtcbiAgdmFyIHdpbm5pbmdSZXZJc0RlbGV0ZWQgPSBpc0RlbGV0ZWQoZG9jSW5mby5tZXRhZGF0YSwgd2lubmluZ1JldiQkMSk7XG5cbiAgLy8gY2FsY3VsYXRlIHRoZSB0b3RhbCBudW1iZXIgb2YgZG9jdW1lbnRzIHRoYXQgd2VyZSBhZGRlZC9yZW1vdmVkLFxuICAvLyBmcm9tIHRoZSBwZXJzcGVjdGl2ZSBvZiB0b3RhbF9yb3dzL2RvY19jb3VudFxuICB2YXIgZGVsdGEgPSAocHJldmlvdXNseURlbGV0ZWQgPT09IHdpbm5pbmdSZXZJc0RlbGV0ZWQpID8gMCA6XG4gICAgcHJldmlvdXNseURlbGV0ZWQgPCB3aW5uaW5nUmV2SXNEZWxldGVkID8gLTEgOiAxO1xuXG4gIHZhciBuZXdSZXZJc0RlbGV0ZWQ7XG4gIGlmIChuZXdSZXYgPT09IHdpbm5pbmdSZXYkJDEpIHtcbiAgICAvLyBpZiB0aGUgbmV3IHJldiBpcyB0aGUgc2FtZSBhcyB0aGUgd2lubmluZyByZXYsIHdlIGNhbiByZXVzZSB0aGF0IHZhbHVlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gd2lubmluZ1JldklzRGVsZXRlZDtcbiAgfSBlbHNlIHtcbiAgICAvLyBpZiB0aGV5J3JlIG5vdCB0aGUgc2FtZSwgdGhlbiB3ZSBuZWVkIHRvIHJlY2FsY3VsYXRlXG4gICAgbmV3UmV2SXNEZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIG5ld1Jldik7XG4gIH1cblxuICB3cml0ZURvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLCBuZXdSZXZJc0RlbGV0ZWQsXG4gICAgdHJ1ZSwgZGVsdGEsIGksIGNiKTtcbn1cblxuZnVuY3Rpb24gcm9vdElzTWlzc2luZyhkb2NJbmZvKSB7XG4gIHJldHVybiBkb2NJbmZvLm1ldGFkYXRhLnJldl90cmVlWzBdLmlkc1sxXS5zdGF0dXMgPT09ICdtaXNzaW5nJztcbn1cblxuZnVuY3Rpb24gcHJvY2Vzc0RvY3MocmV2TGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLCB0eCwgcmVzdWx0cyxcbiAgICAgICAgICAgICAgICAgICAgIHdyaXRlRG9jLCBvcHRzLCBvdmVyYWxsQ2FsbGJhY2spIHtcblxuICAvLyBEZWZhdWx0IHRvIDEwMDAgbG9jYWxseVxuICByZXZMaW1pdCA9IHJldkxpbWl0IHx8IDEwMDA7XG5cbiAgZnVuY3Rpb24gaW5zZXJ0RG9jKGRvY0luZm8sIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG4gICAgLy8gQ2FudCBpbnNlcnQgbmV3IGRlbGV0ZWQgZG9jdW1lbnRzXG4gICAgdmFyIHdpbm5pbmdSZXYkJDEgPSB3aW5uaW5nUmV2KGRvY0luZm8ubWV0YWRhdGEpO1xuICAgIHZhciBkZWxldGVkID0gaXNEZWxldGVkKGRvY0luZm8ubWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEpO1xuICAgIGlmICgnd2FzX2RlbGV0ZScgaW4gb3B0cyAmJiBkZWxldGVkKSB7XG4gICAgICByZXN1bHRzW3Jlc3VsdHNJZHhdID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdkZWxldGVkJyk7XG4gICAgICByZXR1cm4gY2FsbGJhY2soKTtcbiAgICB9XG5cbiAgICAvLyA0NzEyIC0gZGV0ZWN0IHdoZXRoZXIgYSBuZXcgZG9jdW1lbnQgd2FzIGluc2VydGVkIHdpdGggYSBfcmV2XG4gICAgdmFyIGluQ29uZmxpY3QgPSBuZXdFZGl0cyAmJiByb290SXNNaXNzaW5nKGRvY0luZm8pO1xuXG4gICAgaWYgKGluQ29uZmxpY3QpIHtcbiAgICAgIHZhciBlcnIgPSBjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpO1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IGVycjtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIHZhciBkZWx0YSA9IGRlbGV0ZWQgPyAwIDogMTtcblxuICAgIHdyaXRlRG9jKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQsIGRlbGV0ZWQsIGZhbHNlLFxuICAgICAgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIHZhciBuZXdFZGl0cyA9IG9wdHMubmV3X2VkaXRzO1xuICB2YXIgaWRzVG9Eb2NzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbiAgdmFyIGRvY3NEb25lID0gMDtcbiAgdmFyIGRvY3NUb0RvID0gZG9jSW5mb3MubGVuZ3RoO1xuXG4gIGZ1bmN0aW9uIGNoZWNrQWxsRG9jc0RvbmUoKSB7XG4gICAgaWYgKCsrZG9jc0RvbmUgPT09IGRvY3NUb0RvICYmIG92ZXJhbGxDYWxsYmFjaykge1xuICAgICAgb3ZlcmFsbENhbGxiYWNrKCk7XG4gICAgfVxuICB9XG5cbiAgZG9jSW5mb3MuZm9yRWFjaChmdW5jdGlvbiAoY3VycmVudERvYywgcmVzdWx0c0lkeCkge1xuXG4gICAgaWYgKGN1cnJlbnREb2MuX2lkICYmIGlzTG9jYWxJZChjdXJyZW50RG9jLl9pZCkpIHtcbiAgICAgIHZhciBmdW4gPSBjdXJyZW50RG9jLl9kZWxldGVkID8gJ19yZW1vdmVMb2NhbCcgOiAnX3B1dExvY2FsJztcbiAgICAgIGFwaVtmdW5dKGN1cnJlbnREb2MsIHtjdHg6IHR4fSwgZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIHJlc3VsdHNbcmVzdWx0c0lkeF0gPSBlcnIgfHwgcmVzO1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgaWQgPSBjdXJyZW50RG9jLm1ldGFkYXRhLmlkO1xuICAgIGlmIChpZHNUb0RvY3MuaGFzKGlkKSkge1xuICAgICAgZG9jc1RvRG8tLTsgLy8gZHVwbGljYXRlXG4gICAgICBpZHNUb0RvY3MuZ2V0KGlkKS5wdXNoKFtjdXJyZW50RG9jLCByZXN1bHRzSWR4XSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlkc1RvRG9jcy5zZXQoaWQsIFtbY3VycmVudERvYywgcmVzdWx0c0lkeF1dKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIGluIHRoZSBjYXNlIG9mIG5ld19lZGl0cywgdGhlIHVzZXIgY2FuIHByb3ZpZGUgbXVsdGlwbGUgZG9jc1xuICAvLyB3aXRoIHRoZSBzYW1lIGlkLiB0aGVzZSBuZWVkIHRvIGJlIHByb2Nlc3NlZCBzZXF1ZW50aWFsbHlcbiAgaWRzVG9Eb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvY3MsIGlkKSB7XG4gICAgdmFyIG51bURvbmUgPSAwO1xuXG4gICAgZnVuY3Rpb24gZG9jV3JpdHRlbigpIHtcbiAgICAgIGlmICgrK251bURvbmUgPCBkb2NzLmxlbmd0aCkge1xuICAgICAgICBuZXh0RG9jKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FsbERvY3NEb25lKCk7XG4gICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIG5leHREb2MoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBkb2NzW251bURvbmVdO1xuICAgICAgdmFyIGN1cnJlbnREb2MgPSB2YWx1ZVswXTtcbiAgICAgIHZhciByZXN1bHRzSWR4ID0gdmFsdWVbMV07XG5cbiAgICAgIGlmIChmZXRjaGVkRG9jcy5oYXMoaWQpKSB7XG4gICAgICAgIHVwZGF0ZURvYyhyZXZMaW1pdCwgZmV0Y2hlZERvY3MuZ2V0KGlkKSwgY3VycmVudERvYywgcmVzdWx0cyxcbiAgICAgICAgICByZXN1bHRzSWR4LCBkb2NXcml0dGVuLCB3cml0ZURvYywgbmV3RWRpdHMpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgLy8gRW5zdXJlIHN0ZW1taW5nIGFwcGxpZXMgdG8gbmV3IHdyaXRlcyBhcyB3ZWxsXG4gICAgICAgIHZhciBtZXJnZWQgPSBtZXJnZShbXSwgY3VycmVudERvYy5tZXRhZGF0YS5yZXZfdHJlZVswXSwgcmV2TGltaXQpO1xuICAgICAgICBjdXJyZW50RG9jLm1ldGFkYXRhLnJldl90cmVlID0gbWVyZ2VkLnRyZWU7XG4gICAgICAgIGN1cnJlbnREb2Muc3RlbW1lZFJldnMgPSBtZXJnZWQuc3RlbW1lZFJldnMgfHwgW107XG4gICAgICAgIGluc2VydERvYyhjdXJyZW50RG9jLCByZXN1bHRzSWR4LCBkb2NXcml0dGVuKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbmV4dERvYygpO1xuICB9KTtcbn1cblxuLy8gSW5kZXhlZERCIHJlcXVpcmVzIGEgdmVyc2lvbmVkIGRhdGFiYXNlIHN0cnVjdHVyZSwgc28gd2UgdXNlIHRoZVxuLy8gdmVyc2lvbiBoZXJlIHRvIG1hbmFnZSBtaWdyYXRpb25zLlxudmFyIEFEQVBURVJfVkVSU0lPTiA9IDU7XG5cbi8vIFRoZSBvYmplY3Qgc3RvcmVzIGNyZWF0ZWQgZm9yIGVhY2ggZGF0YWJhc2Vcbi8vIERPQ19TVE9SRSBzdG9yZXMgdGhlIGRvY3VtZW50IG1ldGEgZGF0YSwgaXRzIHJldmlzaW9uIGhpc3RvcnkgYW5kIHN0YXRlXG4vLyBLZXllZCBieSBkb2N1bWVudCBpZFxudmFyIERPQ19TVE9SRSA9ICdkb2N1bWVudC1zdG9yZSc7XG4vLyBCWV9TRVFfU1RPUkUgc3RvcmVzIGEgcGFydGljdWxhciB2ZXJzaW9uIG9mIGEgZG9jdW1lbnQsIGtleWVkIGJ5IGl0c1xuLy8gc2VxdWVuY2UgaWRcbnZhciBCWV9TRVFfU1RPUkUgPSAnYnktc2VxdWVuY2UnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgYXR0YWNobWVudHNcbnZhciBBVFRBQ0hfU1RPUkUgPSAnYXR0YWNoLXN0b3JlJztcbi8vIFdoZXJlIHdlIHN0b3JlIG1hbnktdG8tbWFueSByZWxhdGlvbnNcbi8vIGJldHdlZW4gYXR0YWNobWVudCBkaWdlc3RzIGFuZCBzZXFzXG52YXIgQVRUQUNIX0FORF9TRVFfU1RPUkUgPSAnYXR0YWNoLXNlcS1zdG9yZSc7XG5cbi8vIFdoZXJlIHdlIHN0b3JlIGRhdGFiYXNlLXdpZGUgbWV0YSBkYXRhIGluIGEgc2luZ2xlIHJlY29yZFxuLy8ga2V5ZWQgYnkgaWQ6IE1FVEFfU1RPUkVcbnZhciBNRVRBX1NUT1JFID0gJ21ldGEtc3RvcmUnO1xuLy8gV2hlcmUgd2Ugc3RvcmUgbG9jYWwgZG9jdW1lbnRzXG52YXIgTE9DQUxfU1RPUkUgPSAnbG9jYWwtc3RvcmUnO1xuLy8gV2hlcmUgd2UgZGV0ZWN0IGJsb2Igc3VwcG9ydFxudmFyIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUgPSAnZGV0ZWN0LWJsb2Itc3VwcG9ydCc7XG5cbmZ1bmN0aW9uIHNhZmVKc29uUGFyc2Uoc3RyKSB7XG4gIC8vIFRoaXMgdHJ5L2NhdGNoIGd1YXJkcyBhZ2FpbnN0IHN0YWNrIG92ZXJmbG93IGVycm9ycy5cbiAgLy8gSlNPTi5wYXJzZSgpIGlzIGZhc3RlciB0aGFuIHZ1dnV6ZWxhLnBhcnNlKCkgYnV0IHZ1dnV6ZWxhXG4gIC8vIGNhbm5vdCBvdmVyZmxvdy5cbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShzdHIpO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEucGFyc2Uoc3RyKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlSnNvblN0cmluZ2lmeShqc29uKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGpzb24pO1xuICB9IGNhdGNoIChlKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gdnV2dXplbGEuc3RyaW5naWZ5KGpzb24pO1xuICB9XG59XG5cbmZ1bmN0aW9uIGlkYkVycm9yKGNhbGxiYWNrKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoZXZ0KSB7XG4gICAgdmFyIG1lc3NhZ2UgPSAndW5rbm93bl9lcnJvcic7XG4gICAgaWYgKGV2dC50YXJnZXQgJiYgZXZ0LnRhcmdldC5lcnJvcikge1xuICAgICAgbWVzc2FnZSA9IGV2dC50YXJnZXQuZXJyb3IubmFtZSB8fCBldnQudGFyZ2V0LmVycm9yLm1lc3NhZ2U7XG4gICAgfVxuICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUiwgbWVzc2FnZSwgZXZ0LnR5cGUpKTtcbiAgfTtcbn1cblxuLy8gVW5mb3J0dW5hdGVseSwgdGhlIG1ldGFkYXRhIGhhcyB0byBiZSBzdHJpbmdpZmllZFxuLy8gd2hlbiBpdCBpcyBwdXQgaW50byB0aGUgZGF0YWJhc2UsIGJlY2F1c2Ugb3RoZXJ3aXNlXG4vLyBJbmRleGVkREIgY2FuIHRocm93IGVycm9ycyBmb3IgZGVlcGx5LW5lc3RlZCBvYmplY3RzLlxuLy8gT3JpZ2luYWxseSB3ZSBqdXN0IHVzZWQgSlNPTi5wYXJzZS9KU09OLnN0cmluZ2lmeTsgbm93XG4vLyB3ZSB1c2UgdGhpcyBjdXN0b20gdnV2dXplbGEgbGlicmFyeSB0aGF0IGF2b2lkcyByZWN1cnNpb24uXG4vLyBJZiB3ZSBjb3VsZCBkbyBpdCBhbGwgb3ZlciBhZ2Fpbiwgd2UnZCBwcm9iYWJseSB1c2UgYVxuLy8gZm9ybWF0IGZvciB0aGUgcmV2aXNpb24gdHJlZXMgb3RoZXIgdGhhbiBKU09OLlxuZnVuY3Rpb24gZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYsIGRlbGV0ZWQpIHtcbiAgcmV0dXJuIHtcbiAgICBkYXRhOiBzYWZlSnNvblN0cmluZ2lmeShtZXRhZGF0YSksXG4gICAgd2lubmluZ1Jldjogd2lubmluZ1JldixcbiAgICBkZWxldGVkT3JMb2NhbDogZGVsZXRlZCA/ICcxJyA6ICcwJyxcbiAgICBzZXE6IG1ldGFkYXRhLnNlcSwgLy8gaGlnaGVzdCBzZXEgZm9yIHRoaXMgZG9jXG4gICAgaWQ6IG1ldGFkYXRhLmlkXG4gIH07XG59XG5cbmZ1bmN0aW9uIGRlY29kZU1ldGFkYXRhKHN0b3JlZE9iamVjdCkge1xuICBpZiAoIXN0b3JlZE9iamVjdCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciBtZXRhZGF0YSA9IHNhZmVKc29uUGFyc2Uoc3RvcmVkT2JqZWN0LmRhdGEpO1xuICBtZXRhZGF0YS53aW5uaW5nUmV2ID0gc3RvcmVkT2JqZWN0Lndpbm5pbmdSZXY7XG4gIG1ldGFkYXRhLmRlbGV0ZWQgPSBzdG9yZWRPYmplY3QuZGVsZXRlZE9yTG9jYWwgPT09ICcxJztcbiAgbWV0YWRhdGEuc2VxID0gc3RvcmVkT2JqZWN0LnNlcTtcbiAgcmV0dXJuIG1ldGFkYXRhO1xufVxuXG4vLyByZWFkIHRoZSBkb2MgYmFjayBvdXQgZnJvbSB0aGUgZGF0YWJhc2UuIHdlIGRvbid0IHN0b3JlIHRoZVxuLy8gX2lkIG9yIF9yZXYgYmVjYXVzZSB3ZSBhbHJlYWR5IGhhdmUgX2RvY19pZF9yZXYuXG5mdW5jdGlvbiBkZWNvZGVEb2MoZG9jKSB7XG4gIGlmICghZG9jKSB7XG4gICAgcmV0dXJuIGRvYztcbiAgfVxuICB2YXIgaWR4ID0gZG9jLl9kb2NfaWRfcmV2Lmxhc3RJbmRleE9mKCc6Jyk7XG4gIGRvYy5faWQgPSBkb2MuX2RvY19pZF9yZXYuc3Vic3RyaW5nKDAsIGlkeCAtIDEpO1xuICBkb2MuX3JldiA9IGRvYy5fZG9jX2lkX3Jldi5zdWJzdHJpbmcoaWR4ICsgMSk7XG4gIGRlbGV0ZSBkb2MuX2RvY19pZF9yZXY7XG4gIHJldHVybiBkb2M7XG59XG5cbi8vIFJlYWQgYSBibG9iIGZyb20gdGhlIGRhdGFiYXNlLCBlbmNvZGluZyBhcyBuZWNlc3Nhcnlcbi8vIGFuZCB0cmFuc2xhdGluZyBmcm9tIGJhc2U2NCBpZiB0aGUgSURCIGRvZXNuJ3Qgc3VwcG9ydFxuLy8gbmF0aXZlIEJsb2JzXG5mdW5jdGlvbiByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgYXNCbG9iLCBjYWxsYmFjaykge1xuICBpZiAoYXNCbG9iKSB7XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjayhjcmVhdGVCbG9iKFsnJ10sIHt0eXBlOiB0eXBlfSkpO1xuICAgIH0gZWxzZSBpZiAodHlwZW9mIGJvZHkgIT09ICdzdHJpbmcnKSB7IC8vIHdlIGhhdmUgYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9IGVsc2UgeyAvLyBubyBibG9iIHN1cHBvcnRcbiAgICAgIGNhbGxiYWNrKGI2NFRvQmx1ZmZlcihib2R5LCB0eXBlKSk7XG4gICAgfVxuICB9IGVsc2UgeyAvLyBhcyBiYXNlNjQgc3RyaW5nXG4gICAgaWYgKCFib2R5KSB7XG4gICAgICBjYWxsYmFjaygnJyk7XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSAhPT0gJ3N0cmluZycpIHsgLy8gd2UgaGF2ZSBibG9iIHN1cHBvcnRcbiAgICAgIHJlYWRBc0JpbmFyeVN0cmluZyhib2R5LCBmdW5jdGlvbiAoYmluYXJ5KSB7XG4gICAgICAgIGNhbGxiYWNrKHRoaXNCdG9hKGJpbmFyeSkpO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHsgLy8gbm8gYmxvYiBzdXBwb3J0XG4gICAgICBjYWxsYmFjayhib2R5KTtcbiAgICB9XG4gIH1cbn1cblxuZnVuY3Rpb24gZmV0Y2hBdHRhY2htZW50c0lmTmVjZXNzYXJ5KGRvYywgb3B0cywgdHhuLCBjYikge1xuICB2YXIgYXR0YWNobWVudHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgaWYgKCFhdHRhY2htZW50cy5sZW5ndGgpIHtcbiAgICByZXR1cm4gY2IgJiYgY2IoKTtcbiAgfVxuICB2YXIgbnVtRG9uZSA9IDA7XG5cbiAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgIGlmICgrK251bURvbmUgPT09IGF0dGFjaG1lbnRzLmxlbmd0aCAmJiBjYikge1xuICAgICAgY2IoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnQoZG9jLCBhdHQpIHtcbiAgICB2YXIgYXR0T2JqID0gZG9jLl9hdHRhY2htZW50c1thdHRdO1xuICAgIHZhciBkaWdlc3QgPSBhdHRPYmouZGlnZXN0O1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKS5nZXQoZGlnZXN0KTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIGF0dE9iai5ib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICBjaGVja0RvbmUoKTtcbiAgICB9O1xuICB9XG5cbiAgYXR0YWNobWVudHMuZm9yRWFjaChmdW5jdGlvbiAoYXR0KSB7XG4gICAgaWYgKG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgIGZldGNoQXR0YWNobWVudChkb2MsIGF0dCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvYy5fYXR0YWNobWVudHNbYXR0XS5zdHViID0gdHJ1ZTtcbiAgICAgIGNoZWNrRG9uZSgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIElEQi1zcGVjaWZpYyBwb3N0cHJvY2Vzc2luZyBuZWNlc3NhcnkgYmVjYXVzZVxuLy8gd2UgZG9uJ3Qga25vdyB3aGV0aGVyIHdlIHN0b3JlZCBhIHRydWUgQmxvYiBvclxuLy8gYSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcsIGFuZCBpZiBpdCdzIGEgQmxvYiBpdFxuLy8gbmVlZHMgdG8gYmUgcmVhZCBvdXRzaWRlIG9mIHRoZSB0cmFuc2FjdGlvbiBjb250ZXh0XG5mdW5jdGlvbiBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIGFzQmxvYikge1xuICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cy5tYXAoZnVuY3Rpb24gKHJvdykge1xuICAgIGlmIChyb3cuZG9jICYmIHJvdy5kb2MuX2F0dGFjaG1lbnRzKSB7XG4gICAgICB2YXIgYXR0TmFtZXMgPSBPYmplY3Qua2V5cyhyb3cuZG9jLl9hdHRhY2htZW50cyk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoYXR0TmFtZXMubWFwKGZ1bmN0aW9uIChhdHQpIHtcbiAgICAgICAgdmFyIGF0dE9iaiA9IHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF07XG4gICAgICAgIGlmICghKCdib2R5JyBpbiBhdHRPYmopKSB7IC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBib2R5ID0gYXR0T2JqLmJvZHk7XG4gICAgICAgIHZhciB0eXBlID0gYXR0T2JqLmNvbnRlbnRfdHlwZTtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgICAgICAgcmVhZEJsb2JEYXRhKGJvZHksIHR5cGUsIGFzQmxvYiwgZnVuY3Rpb24gKGRhdGEpIHtcbiAgICAgICAgICAgIHJvdy5kb2MuX2F0dGFjaG1lbnRzW2F0dF0gPSAkaW5qZWN0X09iamVjdF9hc3NpZ24oXG4gICAgICAgICAgICAgIHBpY2soYXR0T2JqLCBbJ2RpZ2VzdCcsICdjb250ZW50X3R5cGUnXSksXG4gICAgICAgICAgICAgIHtkYXRhOiBkYXRhfVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9KSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhY3RSZXZzKHJldnMsIGRvY0lkLCB0eG4pIHtcblxuICB2YXIgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMgPSBbXTtcbiAgdmFyIHNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gIHZhciBhdHRTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShBVFRBQ0hfU1RPUkUpO1xuICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICB2YXIgY291bnQgPSByZXZzLmxlbmd0aDtcblxuICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgY291bnQtLTtcbiAgICBpZiAoIWNvdW50KSB7IC8vIGRvbmUgcHJvY2Vzc2luZyBhbGwgcmV2c1xuICAgICAgZGVsZXRlT3JwaGFuZWRBdHRhY2htZW50cygpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGRlbGV0ZU9ycGhhbmVkQXR0YWNobWVudHMoKSB7XG4gICAgaWYgKCFwb3NzaWJseU9ycGhhbmVkRGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMuZm9yRWFjaChmdW5jdGlvbiAoZGlnZXN0KSB7XG4gICAgICB2YXIgY291bnRSZXEgPSBhdHRBbmRTZXFTdG9yZS5pbmRleCgnZGlnZXN0U2VxJykuY291bnQoXG4gICAgICAgIElEQktleVJhbmdlLmJvdW5kKFxuICAgICAgICAgIGRpZ2VzdCArICc6OicsIGRpZ2VzdCArICc6OlxcdWZmZmYnLCBmYWxzZSwgZmFsc2UpKTtcbiAgICAgIGNvdW50UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjb3VudCA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICAgIC8vIG9ycGhhbmVkXG4gICAgICAgICAgYXR0U3RvcmUuZGVsZXRlKGRpZ2VzdCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfSk7XG4gIH1cblxuICByZXZzLmZvckVhY2goZnVuY3Rpb24gKHJldikge1xuICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgIHZhciBrZXkgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICBpbmRleC5nZXRLZXkoa2V5KS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIHNlcSA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2Ygc2VxICE9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gY2hlY2tEb25lKCk7XG4gICAgICB9XG4gICAgICBzZXFTdG9yZS5kZWxldGUoc2VxKTtcblxuICAgICAgdmFyIGN1cnNvciA9IGF0dEFuZFNlcVN0b3JlLmluZGV4KCdzZXEnKVxuICAgICAgICAub3BlbkN1cnNvcihJREJLZXlSYW5nZS5vbmx5KHNlcSkpO1xuXG4gICAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICAgIHZhciBjdXJzb3IgPSBldmVudC50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoY3Vyc29yKSB7XG4gICAgICAgICAgdmFyIGRpZ2VzdCA9IGN1cnNvci52YWx1ZS5kaWdlc3RTZXEuc3BsaXQoJzo6JylbMF07XG4gICAgICAgICAgcG9zc2libHlPcnBoYW5lZERpZ2VzdHMucHVzaChkaWdlc3QpO1xuICAgICAgICAgIGF0dEFuZFNlcVN0b3JlLmRlbGV0ZShjdXJzb3IucHJpbWFyeUtleSk7XG4gICAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICAgIH0gZWxzZSB7IC8vIGRvbmVcbiAgICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCBtb2RlKSB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHR4bjogaWRiLnRyYW5zYWN0aW9uKHN0b3JlcywgbW9kZSlcbiAgICB9O1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZXJyb3I6IGVyclxuICAgIH07XG4gIH1cbn1cblxudmFyIGNoYW5nZXNIYW5kbGVyID0gbmV3IENoYW5nZXMoKTtcblxuZnVuY3Rpb24gaWRiQnVsa0RvY3MoZGJPcHRzLCByZXEsIG9wdHMsIGFwaSwgaWRiLCBjYWxsYmFjaykge1xuICB2YXIgZG9jSW5mb3MgPSByZXEuZG9jcztcbiAgdmFyIHR4bjtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGF0dGFjaFN0b3JlO1xuICB2YXIgYXR0YWNoQW5kU2VxU3RvcmU7XG4gIHZhciBtZXRhU3RvcmU7XG4gIHZhciBkb2NJbmZvRXJyb3I7XG4gIHZhciBtZXRhRG9jO1xuXG4gIGZvciAodmFyIGkgPSAwLCBsZW4gPSBkb2NJbmZvcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBkb2MgPSBkb2NJbmZvc1tpXTtcbiAgICBpZiAoZG9jLl9pZCAmJiBpc0xvY2FsSWQoZG9jLl9pZCkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBkb2MgPSBkb2NJbmZvc1tpXSA9IHBhcnNlRG9jKGRvYywgb3B0cy5uZXdfZWRpdHMsIGRiT3B0cyk7XG4gICAgaWYgKGRvYy5lcnJvciAmJiAhZG9jSW5mb0Vycm9yKSB7XG4gICAgICBkb2NJbmZvRXJyb3IgPSBkb2M7XG4gICAgfVxuICB9XG5cbiAgaWYgKGRvY0luZm9FcnJvcikge1xuICAgIHJldHVybiBjYWxsYmFjayhkb2NJbmZvRXJyb3IpO1xuICB9XG5cbiAgdmFyIGFsbERvY3NQcm9jZXNzZWQgPSBmYWxzZTtcbiAgdmFyIGRvY0NvdW50RGVsdGEgPSAwO1xuICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShkb2NJbmZvcy5sZW5ndGgpO1xuICB2YXIgZmV0Y2hlZERvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgdmFyIHByZWNvbmRpdGlvbkVycm9yZWQgPSBmYWxzZTtcbiAgdmFyIGJsb2JUeXBlID0gYXBpLl9tZXRhLmJsb2JTdXBwb3J0ID8gJ2Jsb2InIDogJ2Jhc2U2NCc7XG5cbiAgcHJlcHJvY2Vzc0F0dGFjaG1lbnRzKGRvY0luZm9zLCBibG9iVHlwZSwgZnVuY3Rpb24gKGVycikge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayhlcnIpO1xuICAgIH1cbiAgICBzdGFydFRyYW5zYWN0aW9uKCk7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIHN0YXJ0VHJhbnNhY3Rpb24oKSB7XG5cbiAgICB2YXIgc3RvcmVzID0gW1xuICAgICAgRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBMT0NBTF9TVE9SRSwgQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICBNRVRBX1NUT1JFXG4gICAgXTtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgc3RvcmVzLCAncmVhZHdyaXRlJyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgdHhuLm9udGltZW91dCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICB0eG4ub25jb21wbGV0ZSA9IGNvbXBsZXRlO1xuICAgIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgYnlTZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgIGF0dGFjaFN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSk7XG4gICAgYXR0YWNoQW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuICAgIG1ldGFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKTtcblxuICAgIG1ldGFTdG9yZS5nZXQoTUVUQV9TVE9SRSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFEb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcbiAgICB9O1xuXG4gICAgdmVyaWZ5QXR0YWNobWVudHMoZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICBwcmVjb25kaXRpb25FcnJvcmVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgICBmZXRjaEV4aXN0aW5nRG9jcygpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25BbGxEb2NzUHJvY2Vzc2VkKCkge1xuICAgIGFsbERvY3NQcm9jZXNzZWQgPSB0cnVlO1xuICAgIHVwZGF0ZURvY0NvdW50SWZSZWFkeSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gaWRiUHJvY2Vzc0RvY3MoKSB7XG4gICAgcHJvY2Vzc0RvY3MoZGJPcHRzLnJldnNfbGltaXQsIGRvY0luZm9zLCBhcGksIGZldGNoZWREb2NzLFxuICAgICAgICAgICAgICAgIHR4biwgcmVzdWx0cywgd3JpdGVEb2MsIG9wdHMsIG9uQWxsRG9jc1Byb2Nlc3NlZCk7XG4gIH1cblxuICBmdW5jdGlvbiB1cGRhdGVEb2NDb3VudElmUmVhZHkoKSB7XG4gICAgaWYgKCFtZXRhRG9jIHx8ICFhbGxEb2NzUHJvY2Vzc2VkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIGNhY2hpbmcgdGhlIGRvY0NvdW50IHNhdmVzIGEgbG90IG9mIHRpbWUgaW4gYWxsRG9jcygpIGFuZFxuICAgIC8vIGluZm8oKSwgd2hpY2ggaXMgd2h5IHdlIGdvIHRvIGFsbCB0aGUgdHJvdWJsZSBvZiBkb2luZyB0aGlzXG4gICAgbWV0YURvYy5kb2NDb3VudCArPSBkb2NDb3VudERlbHRhO1xuICAgIG1ldGFTdG9yZS5wdXQobWV0YURvYyk7XG4gIH1cblxuICBmdW5jdGlvbiBmZXRjaEV4aXN0aW5nRG9jcygpIHtcblxuICAgIGlmICghZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdmFyIG51bUZldGNoZWQgPSAwO1xuXG4gICAgZnVuY3Rpb24gY2hlY2tEb25lKCkge1xuICAgICAgaWYgKCsrbnVtRmV0Y2hlZCA9PT0gZG9jSW5mb3MubGVuZ3RoKSB7XG4gICAgICAgIGlkYlByb2Nlc3NEb2NzKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcmVhZE1ldGFkYXRhKGV2ZW50KSB7XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShldmVudC50YXJnZXQucmVzdWx0KTtcblxuICAgICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgIGZldGNoZWREb2NzLnNldChtZXRhZGF0YS5pZCwgbWV0YWRhdGEpO1xuICAgICAgfVxuICAgICAgY2hlY2tEb25lKCk7XG4gICAgfVxuXG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGRvY0luZm9zLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZG9jSW5mbyA9IGRvY0luZm9zW2ldO1xuICAgICAgaWYgKGRvY0luZm8uX2lkICYmIGlzTG9jYWxJZChkb2NJbmZvLl9pZCkpIHtcbiAgICAgICAgY2hlY2tEb25lKCk7IC8vIHNraXAgbG9jYWwgZG9jc1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5nZXQoZG9jSW5mby5tZXRhZGF0YS5pZCk7XG4gICAgICByZXEub25zdWNjZXNzID0gcmVhZE1ldGFkYXRhO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlKCkge1xuICAgIGlmIChwcmVjb25kaXRpb25FcnJvcmVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGFwaS5fbWV0YS5uYW1lKTtcbiAgICBjYWxsYmFjayhudWxsLCByZXN1bHRzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBjYWxsYmFjaykge1xuXG4gICAgdmFyIHJlcSA9IGF0dGFjaFN0b3JlLmdldChkaWdlc3QpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgaWYgKCFlLnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFyIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfU1RVQixcbiAgICAgICAgICAndW5rbm93biBzdHViIGF0dGFjaG1lbnQgd2l0aCBkaWdlc3QgJyArXG4gICAgICAgICAgZGlnZXN0KTtcbiAgICAgICAgZXJyLnN0YXR1cyA9IDQxMjtcbiAgICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHZlcmlmeUF0dGFjaG1lbnRzKGZpbmlzaCkge1xuXG5cbiAgICB2YXIgZGlnZXN0cyA9IFtdO1xuICAgIGRvY0luZm9zLmZvckVhY2goZnVuY3Rpb24gKGRvY0luZm8pIHtcbiAgICAgIGlmIChkb2NJbmZvLmRhdGEgJiYgZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cykge1xuICAgICAgICBPYmplY3Qua2V5cyhkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzKS5mb3JFYWNoKGZ1bmN0aW9uIChmaWxlbmFtZSkge1xuICAgICAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXTtcbiAgICAgICAgICBpZiAoYXR0LnN0dWIpIHtcbiAgICAgICAgICAgIGRpZ2VzdHMucHVzaChhdHQuZGlnZXN0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZGlnZXN0cy5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICB9XG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBlcnI7XG5cbiAgICBmdW5jdGlvbiBjaGVja0RvbmUoKSB7XG4gICAgICBpZiAoKytudW1Eb25lID09PSBkaWdlc3RzLmxlbmd0aCkge1xuICAgICAgICBmaW5pc2goZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZGlnZXN0cy5mb3JFYWNoKGZ1bmN0aW9uIChkaWdlc3QpIHtcbiAgICAgIHZlcmlmeUF0dGFjaG1lbnQoZGlnZXN0LCBmdW5jdGlvbiAoYXR0RXJyKSB7XG4gICAgICAgIGlmIChhdHRFcnIgJiYgIWVycikge1xuICAgICAgICAgIGVyciA9IGF0dEVycjtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0RvbmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVEb2MoZG9jSW5mbywgd2lubmluZ1JldiQkMSwgd2lubmluZ1JldklzRGVsZXRlZCwgbmV3UmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICBpc1VwZGF0ZSwgZGVsdGEsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICBkb2NJbmZvLm1ldGFkYXRhLndpbm5pbmdSZXYgPSB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0luZm8ubWV0YWRhdGEuZGVsZXRlZCA9IHdpbm5pbmdSZXZJc0RlbGV0ZWQ7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIGRvYy5faWQgPSBkb2NJbmZvLm1ldGFkYXRhLmlkO1xuICAgIGRvYy5fcmV2ID0gZG9jSW5mby5tZXRhZGF0YS5yZXY7XG5cbiAgICBpZiAobmV3UmV2SXNEZWxldGVkKSB7XG4gICAgICBkb2MuX2RlbGV0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIHZhciBoYXNBdHRhY2htZW50cyA9IGRvYy5fYXR0YWNobWVudHMgJiZcbiAgICAgIE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpLmxlbmd0aDtcbiAgICBpZiAoaGFzQXR0YWNobWVudHMpIHtcbiAgICAgIHJldHVybiB3cml0ZUF0dGFjaG1lbnRzKGRvY0luZm8sIHdpbm5pbmdSZXYkJDEsIHdpbm5pbmdSZXZJc0RlbGV0ZWQsXG4gICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgZG9jQ291bnREZWx0YSArPSBkZWx0YTtcbiAgICB1cGRhdGVEb2NDb3VudElmUmVhZHkoKTtcblxuICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgaXNVcGRhdGUsIHJlc3VsdHNJZHgsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuICAgIHZhciBtZXRhZGF0YSA9IGRvY0luZm8ubWV0YWRhdGE7XG5cbiAgICBkb2MuX2RvY19pZF9yZXYgPSBtZXRhZGF0YS5pZCArICc6OicgKyBtZXRhZGF0YS5yZXY7XG4gICAgZGVsZXRlIGRvYy5faWQ7XG4gICAgZGVsZXRlIGRvYy5fcmV2O1xuXG4gICAgZnVuY3Rpb24gYWZ0ZXJQdXREb2MoZSkge1xuICAgICAgdmFyIHJldnNUb0RlbGV0ZSA9IGRvY0luZm8uc3RlbW1lZFJldnMgfHwgW107XG5cbiAgICAgIGlmIChpc1VwZGF0ZSAmJiBhcGkuYXV0b19jb21wYWN0aW9uKSB7XG4gICAgICAgIHJldnNUb0RlbGV0ZSA9IHJldnNUb0RlbGV0ZS5jb25jYXQoY29tcGFjdFRyZWUoZG9jSW5mby5tZXRhZGF0YSkpO1xuICAgICAgfVxuXG4gICAgICBpZiAocmV2c1RvRGVsZXRlICYmIHJldnNUb0RlbGV0ZS5sZW5ndGgpIHtcbiAgICAgICAgY29tcGFjdFJldnMocmV2c1RvRGVsZXRlLCBkb2NJbmZvLm1ldGFkYXRhLmlkLCB0eG4pO1xuICAgICAgfVxuXG4gICAgICBtZXRhZGF0YS5zZXEgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAvLyBDdXJyZW50IF9yZXYgaXMgY2FsY3VsYXRlZCBmcm9tIF9yZXZfdHJlZSBvbiByZWFkXG4gICAgICAvLyBkZWxldGUgbWV0YWRhdGEucmV2O1xuICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLCB3aW5uaW5nUmV2JCQxLFxuICAgICAgICB3aW5uaW5nUmV2SXNEZWxldGVkKTtcbiAgICAgIHZhciBtZXRhRGF0YVJlcSA9IGRvY1N0b3JlLnB1dChtZXRhZGF0YVRvU3RvcmUpO1xuICAgICAgbWV0YURhdGFSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXRNZXRhZGF0YTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dERvY0Vycm9yKGUpIHtcbiAgICAgIC8vIENvbnN0cmFpbnRFcnJvciwgbmVlZCB0byB1cGRhdGUsIG5vdCBwdXQgKHNlZSAjMTYzOCBmb3IgZGV0YWlscylcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTsgLy8gYXZvaWQgdHJhbnNhY3Rpb24gYWJvcnRcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIHZhciBpbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG4gICAgICB2YXIgZ2V0S2V5UmVxID0gaW5kZXguZ2V0S2V5KGRvYy5fZG9jX2lkX3Jldik7XG4gICAgICBnZXRLZXlSZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYywgZS50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgcHV0UmVxLm9uc3VjY2VzcyA9IGFmdGVyUHV0RG9jO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBhZnRlclB1dE1ldGFkYXRhKCkge1xuICAgICAgcmVzdWx0c1tyZXN1bHRzSWR4XSA9IHtcbiAgICAgICAgb2s6IHRydWUsXG4gICAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgICAgcmV2OiBtZXRhZGF0YS5yZXZcbiAgICAgIH07XG4gICAgICBmZXRjaGVkRG9jcy5zZXQoZG9jSW5mby5tZXRhZGF0YS5pZCwgZG9jSW5mby5tZXRhZGF0YSk7XG4gICAgICBpbnNlcnRBdHRhY2htZW50TWFwcGluZ3MoZG9jSW5mbywgbWV0YWRhdGEuc2VxLCBjYWxsYmFjayk7XG4gICAgfVxuXG4gICAgdmFyIHB1dFJlcSA9IGJ5U2VxU3RvcmUucHV0KGRvYyk7XG5cbiAgICBwdXRSZXEub25zdWNjZXNzID0gYWZ0ZXJQdXREb2M7XG4gICAgcHV0UmVxLm9uZXJyb3IgPSBhZnRlclB1dERvY0Vycm9yO1xuICB9XG5cbiAgZnVuY3Rpb24gd3JpdGVBdHRhY2htZW50cyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjaykge1xuXG5cbiAgICB2YXIgZG9jID0gZG9jSW5mby5kYXRhO1xuXG4gICAgdmFyIG51bURvbmUgPSAwO1xuICAgIHZhciBhdHRhY2htZW50cyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuXG4gICAgZnVuY3Rpb24gY29sbGVjdFJlc3VsdHMoKSB7XG4gICAgICBpZiAobnVtRG9uZSA9PT0gYXR0YWNobWVudHMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmlzaERvYyhkb2NJbmZvLCB3aW5uaW5nUmV2JCQxLCB3aW5uaW5nUmV2SXNEZWxldGVkLFxuICAgICAgICAgIGlzVXBkYXRlLCByZXN1bHRzSWR4LCBjYWxsYmFjayk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYXR0YWNobWVudFNhdmVkKCkge1xuICAgICAgbnVtRG9uZSsrO1xuICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICB9XG5cbiAgICBhdHRhY2htZW50cy5mb3JFYWNoKGZ1bmN0aW9uIChrZXkpIHtcbiAgICAgIHZhciBhdHQgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2tleV07XG4gICAgICBpZiAoIWF0dC5zdHViKSB7XG4gICAgICAgIHZhciBkYXRhID0gYXR0LmRhdGE7XG4gICAgICAgIGRlbGV0ZSBhdHQuZGF0YTtcbiAgICAgICAgYXR0LnJldnBvcyA9IHBhcnNlSW50KHdpbm5pbmdSZXYkJDEsIDEwKTtcbiAgICAgICAgdmFyIGRpZ2VzdCA9IGF0dC5kaWdlc3Q7XG4gICAgICAgIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgYXR0YWNobWVudFNhdmVkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG51bURvbmUrKztcbiAgICAgICAgY29sbGVjdFJlc3VsdHMoKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIC8vIG1hcCBzZXFzIHRvIGF0dGFjaG1lbnQgZGlnZXN0cywgd2hpY2hcbiAgLy8gd2Ugd2lsbCBuZWVkIGxhdGVyIGR1cmluZyBjb21wYWN0aW9uXG4gIGZ1bmN0aW9uIGluc2VydEF0dGFjaG1lbnRNYXBwaW5ncyhkb2NJbmZvLCBzZXEsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgYXR0c0FkZGVkID0gMDtcbiAgICB2YXIgYXR0c1RvQWRkID0gT2JqZWN0LmtleXMoZG9jSW5mby5kYXRhLl9hdHRhY2htZW50cyB8fCB7fSk7XG5cbiAgICBpZiAoIWF0dHNUb0FkZC5sZW5ndGgpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjaygpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNoZWNrRG9uZSgpIHtcbiAgICAgIGlmICgrK2F0dHNBZGRlZCA9PT0gYXR0c1RvQWRkLmxlbmd0aCkge1xuICAgICAgICBjYWxsYmFjaygpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGFkZChhdHQpIHtcbiAgICAgIHZhciBkaWdlc3QgPSBkb2NJbmZvLmRhdGEuX2F0dGFjaG1lbnRzW2F0dF0uZGlnZXN0O1xuICAgICAgdmFyIHJlcSA9IGF0dGFjaEFuZFNlcVN0b3JlLnB1dCh7XG4gICAgICAgIHNlcTogc2VxLFxuICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgIH0pO1xuXG4gICAgICByZXEub25zdWNjZXNzID0gY2hlY2tEb25lO1xuICAgICAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAvLyB0aGlzIGNhbGxiYWNrIGlzIGZvciBhIGNvbnN0YWludCBlcnJvciwgd2hpY2ggd2UgaWdub3JlXG4gICAgICAgIC8vIGJlY2F1c2UgdGhpcyBkb2NpZC9yZXYgaGFzIGFscmVhZHkgYmVlbiBhc3NvY2lhdGVkIHdpdGhcbiAgICAgICAgLy8gdGhlIGRpZ2VzdCAoZS5nLiB3aGVuIG5ld19lZGl0cyA9PSBmYWxzZSlcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBhYm9ydFxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpOyAvLyBhdm9pZCB0cmFuc2FjdGlvbiBvbmVycm9yXG4gICAgICAgIGNoZWNrRG9uZSgpO1xuICAgICAgfTtcbiAgICB9XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhdHRzVG9BZGQubGVuZ3RoOyBpKyspIHtcbiAgICAgIGFkZChhdHRzVG9BZGRbaV0pOyAvLyBkbyBpbiBwYXJhbGxlbFxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNhdmVBdHRhY2htZW50KGRpZ2VzdCwgZGF0YSwgY2FsbGJhY2spIHtcblxuXG4gICAgdmFyIGdldEtleVJlcSA9IGF0dGFjaFN0b3JlLmNvdW50KGRpZ2VzdCk7XG4gICAgZ2V0S2V5UmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgY291bnQgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoY291bnQpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKCk7IC8vIGFscmVhZHkgZXhpc3RzXG4gICAgICB9XG4gICAgICB2YXIgbmV3QXR0ID0ge1xuICAgICAgICBkaWdlc3Q6IGRpZ2VzdCxcbiAgICAgICAgYm9keTogZGF0YVxuICAgICAgfTtcbiAgICAgIHZhciBwdXRSZXEgPSBhdHRhY2hTdG9yZS5wdXQobmV3QXR0KTtcbiAgICAgIHB1dFJlcS5vbnN1Y2Nlc3MgPSBjYWxsYmFjaztcbiAgICB9O1xuICB9XG59XG5cbi8vIEFic3RyYWN0aW9uIG92ZXIgSURCQ3Vyc29yIGFuZCBnZXRBbGwoKS9nZXRBbGxLZXlzKCkgdGhhdCBhbGxvd3MgdXMgdG8gYmF0Y2ggb3VyIG9wZXJhdGlvbnNcbi8vIHdoaWxlIGZhbGxpbmcgYmFjayB0byBhIG5vcm1hbCBJREJDdXJzb3Igb3BlcmF0aW9uIG9uIGJyb3dzZXJzIHRoYXQgZG9uJ3Qgc3VwcG9ydCBnZXRBbGwoKSBvclxuLy8gZ2V0QWxsS2V5cygpLiBUaGlzIGFsbG93cyBmb3IgYSBtdWNoIGZhc3RlciBpbXBsZW1lbnRhdGlvbiB0aGFuIGp1c3Qgc3RyYWlnaHQtdXAgY3Vyc29ycywgYmVjYXVzZVxuLy8gd2UncmUgbm90IHByb2Nlc3NpbmcgZWFjaCBkb2N1bWVudCBvbmUtYXQtYS10aW1lLlxuZnVuY3Rpb24gcnVuQmF0Y2hlZEN1cnNvcihvYmplY3RTdG9yZSwga2V5UmFuZ2UsIGRlc2NlbmRpbmcsIGJhdGNoU2l6ZSwgb25CYXRjaCkge1xuXG4gIGlmIChiYXRjaFNpemUgPT09IC0xKSB7XG4gICAgYmF0Y2hTaXplID0gMTAwMDtcbiAgfVxuXG4gIC8vIEJhaWwgb3V0IG9mIGdldEFsbCgpL2dldEFsbEtleXMoKSBpbiB0aGUgZm9sbG93aW5nIGNhc2VzOlxuICAvLyAxKSBlaXRoZXIgbWV0aG9kIGlzIHVuc3VwcG9ydGVkIC0gd2UgbmVlZCBib3RoXG4gIC8vIDIpIGJhdGNoU2l6ZSBpcyAxIChtaWdodCBhcyB3ZWxsIHVzZSBJREJDdXJzb3IpXG4gIC8vIDMpIGRlc2NlbmRpbmcg4oCTIG5vIHJlYWwgd2F5IHRvIGRvIHRoaXMgdmlhIGdldEFsbCgpL2dldEFsbEtleXMoKVxuXG4gIHZhciB1c2VHZXRBbGwgPSB0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nICYmXG4gICAgdHlwZW9mIG9iamVjdFN0b3JlLmdldEFsbEtleXMgPT09ICdmdW5jdGlvbicgJiZcbiAgICBiYXRjaFNpemUgPiAxICYmICFkZXNjZW5kaW5nO1xuXG4gIHZhciBrZXlzQmF0Y2g7XG4gIHZhciB2YWx1ZXNCYXRjaDtcbiAgdmFyIHBzZXVkb0N1cnNvcjtcblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFsdWVzQmF0Y2ggPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGtleXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIG9uR2V0QWxsS2V5cyhlKSB7XG4gICAga2V5c0JhdGNoID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmICh2YWx1ZXNCYXRjaCkge1xuICAgICAgb25CYXRjaChrZXlzQmF0Y2gsIHZhbHVlc0JhdGNoLCBwc2V1ZG9DdXJzb3IpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGNvbnRpbnVlUHNldWRvQ3Vyc29yKCkge1xuICAgIGlmICgha2V5c0JhdGNoLmxlbmd0aCkgeyAvLyBubyBtb3JlIHJlc3VsdHNcbiAgICAgIHJldHVybiBvbkJhdGNoKCk7XG4gICAgfVxuICAgIC8vIGZldGNoIG5leHQgYmF0Y2gsIGV4Y2x1c2l2ZSBzdGFydFxuICAgIHZhciBsYXN0S2V5ID0ga2V5c0JhdGNoW2tleXNCYXRjaC5sZW5ndGggLSAxXTtcbiAgICB2YXIgbmV3S2V5UmFuZ2U7XG4gICAgaWYgKGtleVJhbmdlICYmIGtleVJhbmdlLnVwcGVyKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKGxhc3RLZXksIGtleVJhbmdlLnVwcGVyLFxuICAgICAgICAgIHRydWUsIGtleVJhbmdlLnVwcGVyT3Blbik7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIGlmIChlLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYgZS5jb2RlID09PSAwKSB7XG4gICAgICAgICAgcmV0dXJuIG9uQmF0Y2goKTsgLy8gd2UncmUgZG9uZSwgc3RhcnRrZXkgYW5kIGVuZGtleSBhcmUgZXF1YWxcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBuZXdLZXlSYW5nZSA9IElEQktleVJhbmdlLmxvd2VyQm91bmQobGFzdEtleSwgdHJ1ZSk7XG4gICAgfVxuICAgIGtleVJhbmdlID0gbmV3S2V5UmFuZ2U7XG4gICAga2V5c0JhdGNoID0gbnVsbDtcbiAgICB2YWx1ZXNCYXRjaCA9IG51bGw7XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9XG5cbiAgZnVuY3Rpb24gb25DdXJzb3IoZSkge1xuICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKCFjdXJzb3IpIHsgLy8gZG9uZVxuICAgICAgcmV0dXJuIG9uQmF0Y2goKTtcbiAgICB9XG4gICAgLy8gcmVndWxhciBJREJDdXJzb3IgYWN0cyBsaWtlIGEgYmF0Y2ggd2hlcmUgYmF0Y2ggc2l6ZSBpcyBhbHdheXMgMVxuICAgIG9uQmF0Y2goW2N1cnNvci5rZXldLCBbY3Vyc29yLnZhbHVlXSwgY3Vyc29yKTtcbiAgfVxuXG4gIGlmICh1c2VHZXRBbGwpIHtcbiAgICBwc2V1ZG9DdXJzb3IgPSB7XCJjb250aW51ZVwiOiBjb250aW51ZVBzZXVkb0N1cnNvcn07XG4gICAgb2JqZWN0U3RvcmUuZ2V0QWxsKGtleVJhbmdlLCBiYXRjaFNpemUpLm9uc3VjY2VzcyA9IG9uR2V0QWxsO1xuICAgIG9iamVjdFN0b3JlLmdldEFsbEtleXMoa2V5UmFuZ2UsIGJhdGNoU2l6ZSkub25zdWNjZXNzID0gb25HZXRBbGxLZXlzO1xuICB9IGVsc2UgaWYgKGRlc2NlbmRpbmcpIHtcbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKGtleVJhbmdlLCAncHJldicpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9IGVsc2Uge1xuICAgIG9iamVjdFN0b3JlLm9wZW5DdXJzb3Ioa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uQ3Vyc29yO1xuICB9XG59XG5cbi8vIHNpbXBsZSBzaGltIGZvciBvYmplY3RTdG9yZS5nZXRBbGwoKSwgZmFsbGluZyBiYWNrIHRvIElEQkN1cnNvclxuZnVuY3Rpb24gZ2V0QWxsKG9iamVjdFN0b3JlLCBrZXlSYW5nZSwgb25TdWNjZXNzKSB7XG4gIGlmICh0eXBlb2Ygb2JqZWN0U3RvcmUuZ2V0QWxsID09PSAnZnVuY3Rpb24nKSB7XG4gICAgLy8gdXNlIG5hdGl2ZSBnZXRBbGxcbiAgICBvYmplY3RTdG9yZS5nZXRBbGwoa2V5UmFuZ2UpLm9uc3VjY2VzcyA9IG9uU3VjY2VzcztcbiAgICByZXR1cm47XG4gIH1cbiAgLy8gZmFsbCBiYWNrIHRvIGN1cnNvcnNcbiAgdmFyIHZhbHVlcyA9IFtdO1xuXG4gIGZ1bmN0aW9uIG9uQ3Vyc29yKGUpIHtcbiAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgIGlmIChjdXJzb3IpIHtcbiAgICAgIHZhbHVlcy5wdXNoKGN1cnNvci52YWx1ZSk7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25TdWNjZXNzKHtcbiAgICAgICAgdGFyZ2V0OiB7XG4gICAgICAgICAgcmVzdWx0OiB2YWx1ZXNcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgb2JqZWN0U3RvcmUub3BlbkN1cnNvcihrZXlSYW5nZSkub25zdWNjZXNzID0gb25DdXJzb3I7XG59XG5cbmZ1bmN0aW9uIGFsbERvY3NLZXlzKGtleXMsIGRvY1N0b3JlLCBvbkJhdGNoKSB7XG4gIC8vIEl0J3Mgbm90IGd1YXJhbnRlZCB0byBiZSByZXR1cm5lZCBpbiByaWdodCBvcmRlciAgXG4gIHZhciB2YWx1ZXNCYXRjaCA9IG5ldyBBcnJheShrZXlzLmxlbmd0aCk7XG4gIHZhciBjb3VudCA9IDA7XG4gIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5LCBpbmRleCkge1xuICAgIGRvY1N0b3JlLmdldChrZXkpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgaWYgKGV2ZW50LnRhcmdldC5yZXN1bHQpIHtcbiAgICAgICAgdmFsdWVzQmF0Y2hbaW5kZXhdID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlc0JhdGNoW2luZGV4XSA9IHtrZXk6IGtleSwgZXJyb3I6ICdub3RfZm91bmQnfTtcbiAgICAgIH1cbiAgICAgIGNvdW50Kys7XG4gICAgICBpZiAoY291bnQgPT09IGtleXMubGVuZ3RoKSB7XG4gICAgICAgIG9uQmF0Y2goa2V5cywgdmFsdWVzQmF0Y2gsIHt9KTtcbiAgICAgIH1cbiAgICB9O1xuICB9KTtcbn1cblxuZnVuY3Rpb24gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIGRlc2NlbmRpbmcpIHtcbiAgdHJ5IHtcbiAgICBpZiAoc3RhcnQgJiYgZW5kKSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UuYm91bmQoZW5kLCBzdGFydCwgIWluY2x1c2l2ZUVuZCwgZmFsc2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCAhaW5jbHVzaXZlRW5kKTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICBpZiAoZGVzY2VuZGluZykge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChzdGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UubG93ZXJCb3VuZChzdGFydCk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChlbmQpIHtcbiAgICAgIGlmIChkZXNjZW5kaW5nKSB7XG4gICAgICAgIHJldHVybiBJREJLZXlSYW5nZS5sb3dlckJvdW5kKGVuZCwgIWluY2x1c2l2ZUVuZCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSURCS2V5UmFuZ2UudXBwZXJCb3VuZChlbmQsICFpbmNsdXNpdmVFbmQpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoa2V5KSB7XG4gICAgICByZXR1cm4gSURCS2V5UmFuZ2Uub25seShrZXkpO1xuICAgIH1cbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiB7ZXJyb3I6IGV9O1xuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG5mdW5jdGlvbiBpZGJBbGxEb2NzKG9wdHMsIGlkYiwgY2FsbGJhY2spIHtcbiAgdmFyIHN0YXJ0ID0gJ3N0YXJ0a2V5JyBpbiBvcHRzID8gb3B0cy5zdGFydGtleSA6IGZhbHNlO1xuICB2YXIgZW5kID0gJ2VuZGtleScgaW4gb3B0cyA/IG9wdHMuZW5ka2V5IDogZmFsc2U7XG4gIHZhciBrZXkgPSAna2V5JyBpbiBvcHRzID8gb3B0cy5rZXkgOiBmYWxzZTtcbiAgdmFyIGtleXMgPSAna2V5cycgaW4gb3B0cyA/IG9wdHMua2V5cyA6IGZhbHNlOyBcbiAgdmFyIHNraXAgPSBvcHRzLnNraXAgfHwgMDtcbiAgdmFyIGxpbWl0ID0gdHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInID8gb3B0cy5saW1pdCA6IC0xO1xuICB2YXIgaW5jbHVzaXZlRW5kID0gb3B0cy5pbmNsdXNpdmVfZW5kICE9PSBmYWxzZTtcblxuICB2YXIga2V5UmFuZ2UgOyBcbiAgdmFyIGtleVJhbmdlRXJyb3I7XG4gIGlmICgha2V5cykge1xuICAgIGtleVJhbmdlID0gY3JlYXRlS2V5UmFuZ2Uoc3RhcnQsIGVuZCwgaW5jbHVzaXZlRW5kLCBrZXksIG9wdHMuZGVzY2VuZGluZyk7XG4gICAga2V5UmFuZ2VFcnJvciA9IGtleVJhbmdlICYmIGtleVJhbmdlLmVycm9yO1xuICAgIGlmIChrZXlSYW5nZUVycm9yICYmIFxuICAgICAgIShrZXlSYW5nZUVycm9yLm5hbWUgPT09IFwiRGF0YUVycm9yXCIgJiYga2V5UmFuZ2VFcnJvci5jb2RlID09PSAwKSkge1xuICAgICAgLy8gRGF0YUVycm9yIHdpdGggZXJyb3IgY29kZSAwIGluZGljYXRlcyBzdGFydCBpcyBsZXNzIHRoYW4gZW5kLCBzb1xuICAgICAgLy8gY2FuIGp1c3QgZG8gYW4gZW1wdHkgcXVlcnkuIEVsc2UgbmVlZCB0byB0aHJvd1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKGNyZWF0ZUVycm9yKElEQl9FUlJPUixcbiAgICAgICAga2V5UmFuZ2VFcnJvci5uYW1lLCBrZXlSYW5nZUVycm9yLm1lc3NhZ2UpKTtcbiAgICB9XG4gIH1cblxuICB2YXIgc3RvcmVzID0gW0RPQ19TVE9SRSwgQllfU0VRX1NUT1JFLCBNRVRBX1NUT1JFXTtcblxuICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgIHN0b3Jlcy5wdXNoKEFUVEFDSF9TVE9SRSk7XG4gIH1cbiAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWRvbmx5Jyk7XG4gIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgfVxuICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuICB0eG4ub25hYm9ydCA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICB2YXIgbWV0YVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpO1xuICB2YXIgZG9jSWRSZXZJbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICB2YXIgcmVzdWx0cyA9IFtdO1xuICB2YXIgZG9jQ291bnQ7XG4gIHZhciB1cGRhdGVTZXE7XG5cbiAgbWV0YVN0b3JlLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGRvY0NvdW50ID0gZS50YXJnZXQucmVzdWx0LmRvY0NvdW50O1xuICB9O1xuXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgZ2V0TWF4VXBkYXRlU2VxKHNlcVN0b3JlLCBmdW5jdGlvbiAoZSkgeyBcbiAgICAgIGlmIChlLnRhcmdldC5yZXN1bHQgJiYgZS50YXJnZXQucmVzdWx0Lmxlbmd0aCA+IDApIHtcbiAgICAgICAgdXBkYXRlU2VxID0gZS50YXJnZXQucmVzdWx0WzBdO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0TWF4VXBkYXRlU2VxKG9iamVjdFN0b3JlLCBvblN1Y2Nlc3MpIHtcbiAgICBmdW5jdGlvbiBvbkN1cnNvcihlKSB7XG4gICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgdmFyIG1heEtleSA9IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjdXJzb3IgJiYgY3Vyc29yLmtleSkge1xuICAgICAgICBtYXhLZXkgPSBjdXJzb3Iua2V5O1xuICAgICAgfSBcbiAgICAgIHJldHVybiBvblN1Y2Nlc3Moe1xuICAgICAgICB0YXJnZXQ6IHtcbiAgICAgICAgICByZXN1bHQ6IFttYXhLZXldXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBvYmplY3RTdG9yZS5vcGVuQ3Vyc29yKG51bGwsICdwcmV2Jykub25zdWNjZXNzID0gb25DdXJzb3I7XG4gIH1cblxuICAvLyBpZiB0aGUgdXNlciBzcGVjaWZpZXMgaW5jbHVkZV9kb2NzPXRydWUsIHRoZW4gd2UgZG9uJ3RcbiAgLy8gd2FudCB0byBibG9jayB0aGUgbWFpbiBjdXJzb3Igd2hpbGUgd2UncmUgZmV0Y2hpbmcgdGhlIGRvY1xuICBmdW5jdGlvbiBmZXRjaERvY0FzeW5jaHJvbm91c2x5KG1ldGFkYXRhLCByb3csIHdpbm5pbmdSZXYkJDEpIHtcbiAgICB2YXIga2V5ID0gbWV0YWRhdGEuaWQgKyBcIjo6XCIgKyB3aW5uaW5nUmV2JCQxO1xuICAgIGRvY0lkUmV2SW5kZXguZ2V0KGtleSkub25zdWNjZXNzID0gIGZ1bmN0aW9uIG9uR2V0RG9jKGUpIHtcbiAgICAgIHJvdy5kb2MgPSBkZWNvZGVEb2MoZS50YXJnZXQucmVzdWx0KSB8fCB7fTtcbiAgICAgIGlmIChvcHRzLmNvbmZsaWN0cykge1xuICAgICAgICB2YXIgY29uZmxpY3RzID0gY29sbGVjdENvbmZsaWN0cyhtZXRhZGF0YSk7XG4gICAgICAgIGlmIChjb25mbGljdHMubGVuZ3RoKSB7XG4gICAgICAgICAgcm93LmRvYy5fY29uZmxpY3RzID0gY29uZmxpY3RzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBmZXRjaEF0dGFjaG1lbnRzSWZOZWNlc3Nhcnkocm93LmRvYywgb3B0cywgdHhuKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gYWxsRG9jc0lubmVyKHdpbm5pbmdSZXYkJDEsIG1ldGFkYXRhKSB7XG4gICAgdmFyIHJvdyA9IHtcbiAgICAgIGlkOiBtZXRhZGF0YS5pZCxcbiAgICAgIGtleTogbWV0YWRhdGEuaWQsXG4gICAgICB2YWx1ZToge1xuICAgICAgICByZXY6IHdpbm5pbmdSZXYkJDFcbiAgICAgIH1cbiAgICB9O1xuICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgaWYgKGtleXMpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICAgIC8vIGRlbGV0ZWQgZG9jcyBhcmUgb2theSB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJvdy52YWx1ZS5kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgcm93LmRvYyA9IG51bGw7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChza2lwLS0gPD0gMCkge1xuICAgICAgcmVzdWx0cy5wdXNoKHJvdyk7XG4gICAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MpIHtcbiAgICAgICAgZmV0Y2hEb2NBc3luY2hyb25vdXNseShtZXRhZGF0YSwgcm93LCB3aW5uaW5nUmV2JCQxKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpIHtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gYmF0Y2hWYWx1ZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGlmIChyZXN1bHRzLmxlbmd0aCA9PT0gbGltaXQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICB2YXIgYmF0Y2hWYWx1ZSA9IGJhdGNoVmFsdWVzW2ldO1xuICAgICAgaWYgKGJhdGNoVmFsdWUuZXJyb3IgJiYga2V5cykge1xuICAgICAgICAvLyBrZXkgd2FzIG5vdCBmb3VuZCB3aXRoIFwia2V5c1wiIHJlcXVlc3RzXG4gICAgICAgIHJlc3VsdHMucHVzaChiYXRjaFZhbHVlKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB2YXIgbWV0YWRhdGEgPSBkZWNvZGVNZXRhZGF0YShiYXRjaFZhbHVlKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIGFsbERvY3NJbm5lcih3aW5uaW5nUmV2JCQxLCBtZXRhZGF0YSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gb25CYXRjaChiYXRjaEtleXMsIGJhdGNoVmFsdWVzLCBjdXJzb3IpIHtcbiAgICBpZiAoIWN1cnNvcikge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2goYmF0Y2hWYWx1ZXMpO1xuICAgIGlmIChyZXN1bHRzLmxlbmd0aCA8IGxpbWl0KSB7XG4gICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldEFsbChlKSB7XG4gICAgdmFyIHZhbHVlcyA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICB2YWx1ZXMgPSB2YWx1ZXMucmV2ZXJzZSgpO1xuICAgIH1cbiAgICBwcm9jZXNzQmF0Y2godmFsdWVzKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIG9uUmVzdWx0c1JlYWR5KCkge1xuICAgIHZhciByZXR1cm5WYWwgPSB7XG4gICAgICB0b3RhbF9yb3dzOiBkb2NDb3VudCxcbiAgICAgIG9mZnNldDogb3B0cy5za2lwLFxuICAgICAgcm93czogcmVzdWx0c1xuICAgIH07XG4gICAgXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSAmJiB1cGRhdGVTZXEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuVmFsLnVwZGF0ZV9zZXEgPSB1cGRhdGVTZXE7XG4gICAgfVxuICAgIGNhbGxiYWNrKG51bGwsIHJldHVyblZhbCk7XG4gIH1cblxuICBmdW5jdGlvbiBvblR4bkNvbXBsZXRlKCkge1xuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMsIG9wdHMuYmluYXJ5KS50aGVuKG9uUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgb25SZXN1bHRzUmVhZHkoKTtcbiAgICB9XG4gIH1cblxuICAvLyBkb24ndCBib3RoZXIgZG9pbmcgYW55IHJlcXVlc3RzIGlmIHN0YXJ0ID4gZW5kIG9yIGxpbWl0ID09PSAwXG4gIGlmIChrZXlSYW5nZUVycm9yIHx8IGxpbWl0ID09PSAwKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChrZXlzKSB7XG4gICAgcmV0dXJuIGFsbERvY3NLZXlzKG9wdHMua2V5cywgZG9jU3RvcmUsIG9uQmF0Y2gpO1xuICB9XG4gIGlmIChsaW1pdCA9PT0gLTEpIHsgLy8ganVzdCBmZXRjaCBldmVyeXRoaW5nXG4gICAgcmV0dXJuIGdldEFsbChkb2NTdG9yZSwga2V5UmFuZ2UsIG9uR2V0QWxsKTtcbiAgfVxuICAvLyBlbHNlIGRvIGEgY3Vyc29yXG4gIC8vIGNob29zZSBhIGJhdGNoIHNpemUgYmFzZWQgb24gdGhlIHNraXAsIHNpbmNlIHdlJ2xsIG5lZWQgdG8gc2tpcCB0aGF0IG1hbnlcbiAgcnVuQmF0Y2hlZEN1cnNvcihkb2NTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQgKyBza2lwLCBvbkJhdGNoKTtcbn1cblxuLy9cbi8vIEJsb2JzIGFyZSBub3Qgc3VwcG9ydGVkIGluIGFsbCB2ZXJzaW9ucyBvZiBJbmRleGVkREIsIG5vdGFibHlcbi8vIENocm9tZSA8MzcgYW5kIEFuZHJvaWQgPDUuIEluIHRob3NlIHZlcnNpb25zLCBzdG9yaW5nIGEgYmxvYiB3aWxsIHRocm93LlxuLy9cbi8vIFZhcmlvdXMgb3RoZXIgYmxvYiBidWdzIGV4aXN0IGluIENocm9tZSB2MzctNDIgKGluY2x1c2l2ZSkuXG4vLyBEZXRlY3RpbmcgdGhlbSBpcyBleHBlbnNpdmUgYW5kIGNvbmZ1c2luZyB0byB1c2VycywgYW5kIENocm9tZSAzNy00MlxuLy8gaXMgYXQgdmVyeSBsb3cgdXNhZ2Ugd29ybGR3aWRlLCBzbyB3ZSBkbyBhIGhhY2t5IHVzZXJBZ2VudCBjaGVjayBpbnN0ZWFkLlxuLy9cbi8vIGNvbnRlbnQtdHlwZSBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00MDgxMjBcbi8vIDQwNCBidWc6IGh0dHBzOi8vY29kZS5nb29nbGUuY29tL3AvY2hyb21pdW0vaXNzdWVzL2RldGFpbD9pZD00NDc5MTZcbi8vIEZpbGVSZWFkZXIgYnVnOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9NDQ3ODM2XG4vL1xuZnVuY3Rpb24gY2hlY2tCbG9iU3VwcG9ydCh0eG4pIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlKSB7XG4gICAgdmFyIGJsb2IkJDEgPSBjcmVhdGVCbG9iKFsnJ10pO1xuICAgIHZhciByZXEgPSB0eG4ub2JqZWN0U3RvcmUoREVURUNUX0JMT0JfU1VQUE9SVF9TVE9SRSkucHV0KGJsb2IkJDEsICdrZXknKTtcblxuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgbWF0Y2hlZENocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0Nocm9tZVxcLyhcXGQrKS8pO1xuICAgICAgdmFyIG1hdGNoZWRFZGdlID0gbmF2aWdhdG9yLnVzZXJBZ2VudC5tYXRjaCgvRWRnZVxcLy8pO1xuICAgICAgLy8gTVMgRWRnZSBwcmV0ZW5kcyB0byBiZSBDaHJvbWUgNDI6XG4gICAgICAvLyBodHRwczovL21zZG4ubWljcm9zb2Z0LmNvbS9lbi11cy9saWJyYXJ5L2hoODY5MzAxJTI4dj12cy44NSUyOS5hc3B4XG4gICAgICByZXNvbHZlKG1hdGNoZWRFZGdlIHx8ICFtYXRjaGVkQ2hyb21lIHx8XG4gICAgICAgIHBhcnNlSW50KG1hdGNoZWRDaHJvbWVbMV0sIDEwKSA+PSA0Myk7XG4gICAgfTtcblxuICAgIHJlcS5vbmVycm9yID0gdHhuLm9uYWJvcnQgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgLy8gSWYgdGhlIHRyYW5zYWN0aW9uIGFib3J0cyBub3cgaXRzIGR1ZSB0byBub3QgYmVpbmcgYWJsZSB0b1xuICAgICAgLy8gd3JpdGUgdG8gdGhlIGRhdGFiYXNlLCBsaWtlbHkgZHVlIHRvIHRoZSBkaXNrIGJlaW5nIGZ1bGxcbiAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICByZXNvbHZlKGZhbHNlKTtcbiAgICB9O1xuICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIGZhbHNlOyAvLyBlcnJvciwgc28gYXNzdW1lIHVuc3VwcG9ydGVkXG4gIH0pO1xufVxuXG5mdW5jdGlvbiBjb3VudERvY3ModHhuLCBjYikge1xuICB2YXIgaW5kZXggPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5pbmRleCgnZGVsZXRlZE9yTG9jYWwnKTtcbiAgaW5kZXguY291bnQoSURCS2V5UmFuZ2Uub25seSgnMCcpKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNiKGUudGFyZ2V0LnJlc3VsdCk7XG4gIH07XG59XG5cbi8vIFRoaXMgdGFzayBxdWV1ZSBlbnN1cmVzIHRoYXQgSURCIG9wZW4gY2FsbHMgYXJlIGRvbmUgaW4gdGhlaXIgb3duIHRpY2tcblxudmFyIHJ1bm5pbmcgPSBmYWxzZTtcbnZhciBxdWV1ZSA9IFtdO1xuXG5mdW5jdGlvbiB0cnlDb2RlKGZ1biwgZXJyLCByZXMsIFBvdWNoREIpIHtcbiAgdHJ5IHtcbiAgICBmdW4oZXJyLCByZXMpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICAvLyBTaG91bGRuJ3QgaGFwcGVuLCBidXQgaW4gc29tZSBvZGQgY2FzZXNcbiAgICAvLyBJbmRleGVkREIgaW1wbGVtZW50YXRpb25zIG1pZ2h0IHRocm93IGEgc3luY1xuICAgIC8vIGVycm9yLCBpbiB3aGljaCBjYXNlIHRoaXMgd2lsbCBhdCBsZWFzdCBsb2cgaXQuXG4gICAgUG91Y2hEQi5lbWl0KCdlcnJvcicsIGVycik7XG4gIH1cbn1cblxuZnVuY3Rpb24gYXBwbHlOZXh0KCkge1xuICBpZiAocnVubmluZyB8fCAhcXVldWUubGVuZ3RoKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJ1bm5pbmcgPSB0cnVlO1xuICBxdWV1ZS5zaGlmdCgpKCk7XG59XG5cbmZ1bmN0aW9uIGVucXVldWVUYXNrKGFjdGlvbiwgY2FsbGJhY2ssIFBvdWNoREIpIHtcbiAgcXVldWUucHVzaChmdW5jdGlvbiBydW5BY3Rpb24oKSB7XG4gICAgYWN0aW9uKGZ1bmN0aW9uIHJ1bkNhbGxiYWNrKGVyciwgcmVzKSB7XG4gICAgICB0cnlDb2RlKGNhbGxiYWNrLCBlcnIsIHJlcywgUG91Y2hEQik7XG4gICAgICBydW5uaW5nID0gZmFsc2U7XG4gICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gcnVuTmV4dCgpIHtcbiAgICAgICAgYXBwbHlOZXh0KFBvdWNoREIpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH0pO1xuICBhcHBseU5leHQoKTtcbn1cblxuZnVuY3Rpb24gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKSB7XG4gIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgdmFyIGlkID0gZGJOYW1lICsgJzonICsgdXVpZCgpO1xuICAgIGNoYW5nZXNIYW5kbGVyLmFkZExpc3RlbmVyKGRiTmFtZSwgaWQsIGFwaSwgb3B0cyk7XG4gICAgY2hhbmdlc0hhbmRsZXIubm90aWZ5KGRiTmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNhbmNlbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVMaXN0ZW5lcihkYk5hbWUsIGlkKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgdmFyIGRvY0lkcyA9IG9wdHMuZG9jX2lkcyAmJiBuZXcgRXhwb3J0ZWRTZXQob3B0cy5kb2NfaWRzKTtcblxuICBvcHRzLnNpbmNlID0gb3B0cy5zaW5jZSB8fCAwO1xuICB2YXIgbGFzdFNlcSA9IG9wdHMuc2luY2U7XG5cbiAgdmFyIGxpbWl0ID0gJ2xpbWl0JyBpbiBvcHRzID8gb3B0cy5saW1pdCA6IC0xO1xuICBpZiAobGltaXQgPT09IDApIHtcbiAgICBsaW1pdCA9IDE7IC8vIHBlciBDb3VjaERCIF9jaGFuZ2VzIHNwZWNcbiAgfVxuXG4gIHZhciByZXN1bHRzID0gW107XG4gIHZhciBudW1SZXN1bHRzID0gMDtcbiAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKTtcbiAgdmFyIGRvY0lkc1RvTWV0YWRhdGEgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcblxuICB2YXIgdHhuO1xuICB2YXIgYnlTZXFTdG9yZTtcbiAgdmFyIGRvY1N0b3JlO1xuICB2YXIgZG9jSWRSZXZJbmRleDtcblxuICBmdW5jdGlvbiBvbkJhdGNoKGJhdGNoS2V5cywgYmF0Y2hWYWx1ZXMsIGN1cnNvcikge1xuICAgIGlmICghY3Vyc29yIHx8ICFiYXRjaEtleXMubGVuZ3RoKSB7IC8vIGRvbmVcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICB2YXIgd2lubmluZ0RvY3MgPSBuZXcgQXJyYXkoYmF0Y2hLZXlzLmxlbmd0aCk7XG4gICAgdmFyIG1ldGFkYXRhcyA9IG5ldyBBcnJheShiYXRjaEtleXMubGVuZ3RoKTtcblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpIHtcbiAgICAgIHZhciBjaGFuZ2UgPSBvcHRzLnByb2Nlc3NDaGFuZ2Uod2lubmluZ0RvYywgbWV0YWRhdGEsIG9wdHMpO1xuICAgICAgbGFzdFNlcSA9IGNoYW5nZS5zZXEgPSBtZXRhZGF0YS5zZXE7XG5cbiAgICAgIHZhciBmaWx0ZXJlZCA9IGZpbHRlcihjaGFuZ2UpO1xuICAgICAgaWYgKHR5cGVvZiBmaWx0ZXJlZCA9PT0gJ29iamVjdCcpIHsgLy8gYW55dGhpbmcgYnV0IHRydWUvZmFsc2UgaW5kaWNhdGVzIGVycm9yXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChmaWx0ZXJlZCk7XG4gICAgICB9XG5cbiAgICAgIGlmICghZmlsdGVyZWQpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgbnVtUmVzdWx0cysrO1xuICAgICAgaWYgKG9wdHMucmV0dXJuX2RvY3MpIHtcbiAgICAgICAgcmVzdWx0cy5wdXNoKGNoYW5nZSk7XG4gICAgICB9XG4gICAgICAvLyBwcm9jZXNzIHRoZSBhdHRhY2htZW50IGltbWVkaWF0ZWx5XG4gICAgICAvLyBmb3IgdGhlIGJlbmVmaXQgb2YgbGl2ZSBsaXN0ZW5lcnNcbiAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgICAgIGZldGNoQXR0YWNobWVudHNJZk5lY2Vzc2FyeSh3aW5uaW5nRG9jLCBvcHRzLCB0eG4sIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHBvc3RQcm9jZXNzQXR0YWNobWVudHMoW2NoYW5nZV0sIG9wdHMuYmluYXJ5KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgcmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShjaGFuZ2UpO1xuICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uQmF0Y2hEb25lKCkge1xuICAgICAgdmFyIHByb21pc2VzID0gW107XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gd2lubmluZ0RvY3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgaWYgKG51bVJlc3VsdHMgPT09IGxpbWl0KSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHdpbm5pbmdEb2MgPSB3aW5uaW5nRG9jc1tpXTtcbiAgICAgICAgaWYgKCF3aW5uaW5nRG9jKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIG1ldGFkYXRhID0gbWV0YWRhdGFzW2ldO1xuICAgICAgICBwcm9taXNlcy5wdXNoKHByb2Nlc3NNZXRhZGF0YUFuZFdpbm5pbmdEb2MobWV0YWRhdGEsIHdpbm5pbmdEb2MpKTtcbiAgICAgIH1cblxuICAgICAgUHJvbWlzZS5hbGwocHJvbWlzZXMpLnRoZW4oZnVuY3Rpb24gKGNoYW5nZXMpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IGNoYW5nZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICBpZiAoY2hhbmdlc1tpXSkge1xuICAgICAgICAgICAgb3B0cy5vbkNoYW5nZShjaGFuZ2VzW2ldKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pLmNhdGNoKG9wdHMuY29tcGxldGUpO1xuXG4gICAgICBpZiAobnVtUmVzdWx0cyAhPT0gbGltaXQpIHtcbiAgICAgICAgY3Vyc29yLmNvbnRpbnVlKCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gRmV0Y2ggYWxsIG1ldGFkYXRhcy93aW5uaW5nZG9jcyBmcm9tIHRoaXMgYmF0Y2ggaW4gcGFyYWxsZWwsIHRoZW4gcHJvY2Vzc1xuICAgIC8vIHRoZW0gYWxsIG9ubHkgb25jZSBhbGwgZGF0YSBoYXMgYmVlbiBjb2xsZWN0ZWQuIFRoaXMgaXMgZG9uZSBpbiBwYXJhbGxlbFxuICAgIC8vIGJlY2F1c2UgaXQncyBmYXN0ZXIgdGhhbiBkb2luZyBpdCBvbmUtYXQtYS10aW1lLlxuICAgIHZhciBudW1Eb25lID0gMDtcbiAgICBiYXRjaFZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwgaSkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZURvYyh2YWx1ZSk7XG4gICAgICB2YXIgc2VxID0gYmF0Y2hLZXlzW2ldO1xuICAgICAgZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGZ1bmN0aW9uIChtZXRhZGF0YSwgd2lubmluZ0RvYykge1xuICAgICAgICBtZXRhZGF0YXNbaV0gPSBtZXRhZGF0YTtcbiAgICAgICAgd2lubmluZ0RvY3NbaV0gPSB3aW5uaW5nRG9jO1xuICAgICAgICBpZiAoKytudW1Eb25lID09PSBiYXRjaEtleXMubGVuZ3RoKSB7XG4gICAgICAgICAgb25CYXRjaERvbmUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBvbkdldE1ldGFkYXRhKGRvYywgc2VxLCBtZXRhZGF0YSwgY2IpIHtcbiAgICBpZiAobWV0YWRhdGEuc2VxICE9PSBzZXEpIHtcbiAgICAgIC8vIHNvbWUgb3RoZXIgc2VxIGlzIGxhdGVyXG4gICAgICByZXR1cm4gY2IoKTtcbiAgICB9XG5cbiAgICBpZiAobWV0YWRhdGEud2lubmluZ1JldiA9PT0gZG9jLl9yZXYpIHtcbiAgICAgIC8vIHRoaXMgaXMgdGhlIHdpbm5pbmcgZG9jXG4gICAgICByZXR1cm4gY2IobWV0YWRhdGEsIGRvYyk7XG4gICAgfVxuXG4gICAgLy8gZmV0Y2ggd2lubmluZyBkb2MgaW4gc2VwYXJhdGUgcmVxdWVzdFxuICAgIHZhciBkb2NJZFJldiA9IGRvYy5faWQgKyAnOjonICsgbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICB2YXIgcmVxID0gZG9jSWRSZXZJbmRleC5nZXQoZG9jSWRSZXYpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgY2IobWV0YWRhdGEsIGRlY29kZURvYyhlLnRhcmdldC5yZXN1bHQpKTtcbiAgICB9O1xuICB9XG5cbiAgZnVuY3Rpb24gZmV0Y2hXaW5uaW5nRG9jQW5kTWV0YWRhdGEoZG9jLCBzZXEsIGNiKSB7XG4gICAgaWYgKGRvY0lkcyAmJiAhZG9jSWRzLmhhcyhkb2MuX2lkKSkge1xuICAgICAgcmV0dXJuIGNiKCk7XG4gICAgfVxuXG4gICAgdmFyIG1ldGFkYXRhID0gZG9jSWRzVG9NZXRhZGF0YS5nZXQoZG9jLl9pZCk7XG4gICAgaWYgKG1ldGFkYXRhKSB7IC8vIGNhY2hlZFxuICAgICAgcmV0dXJuIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfVxuICAgIC8vIG1ldGFkYXRhIG5vdCBjYWNoZWQsIGhhdmUgdG8gZ28gZmV0Y2ggaXRcbiAgICBkb2NTdG9yZS5nZXQoZG9jLl9pZCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIG1ldGFkYXRhID0gZGVjb2RlTWV0YWRhdGEoZS50YXJnZXQucmVzdWx0KTtcbiAgICAgIGRvY0lkc1RvTWV0YWRhdGEuc2V0KGRvYy5faWQsIG1ldGFkYXRhKTtcbiAgICAgIG9uR2V0TWV0YWRhdGEoZG9jLCBzZXEsIG1ldGFkYXRhLCBjYik7XG4gICAgfTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaCgpIHtcbiAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHtcbiAgICAgIHJlc3VsdHM6IHJlc3VsdHMsXG4gICAgICBsYXN0X3NlcTogbGFzdFNlcVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gb25UeG5Db21wbGV0ZSgpIHtcbiAgICBpZiAoIW9wdHMuY29udGludW91cyAmJiBvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAvLyBjYW5ub3QgZ3VhcmFudGVlIHRoYXQgcG9zdFByb2Nlc3Npbmcgd2FzIGFscmVhZHkgZG9uZSxcbiAgICAgIC8vIHNvIGRvIGl0IGFnYWluXG4gICAgICBwb3N0UHJvY2Vzc0F0dGFjaG1lbnRzKHJlc3VsdHMpLnRoZW4oZmluaXNoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZmluaXNoKCk7XG4gICAgfVxuICB9XG5cbiAgdmFyIG9iamVjdFN0b3JlcyA9IFtET0NfU1RPUkUsIEJZX1NFUV9TVE9SRV07XG4gIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgb2JqZWN0U3RvcmVzLnB1c2goQVRUQUNIX1NUT1JFKTtcbiAgfVxuICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgb2JqZWN0U3RvcmVzLCAncmVhZG9ubHknKTtcbiAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgIHJldHVybiBvcHRzLmNvbXBsZXRlKHR4blJlc3VsdC5lcnJvcik7XG4gIH1cbiAgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihvcHRzLmNvbXBsZXRlKTtcbiAgdHhuLm9uY29tcGxldGUgPSBvblR4bkNvbXBsZXRlO1xuXG4gIGJ5U2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgZG9jU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKTtcbiAgZG9jSWRSZXZJbmRleCA9IGJ5U2VxU3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2Jyk7XG5cbiAgdmFyIGtleVJhbmdlID0gKG9wdHMuc2luY2UgJiYgIW9wdHMuZGVzY2VuZGluZykgP1xuICAgIElEQktleVJhbmdlLmxvd2VyQm91bmQob3B0cy5zaW5jZSwgdHJ1ZSkgOiBudWxsO1xuXG4gIHJ1bkJhdGNoZWRDdXJzb3IoYnlTZXFTdG9yZSwga2V5UmFuZ2UsIG9wdHMuZGVzY2VuZGluZywgbGltaXQsIG9uQmF0Y2gpO1xufVxuXG52YXIgY2FjaGVkREJzID0gbmV3IEV4cG9ydGVkTWFwKCk7XG52YXIgYmxvYlN1cHBvcnRQcm9taXNlO1xudmFyIG9wZW5SZXFMaXN0ID0gbmV3IEV4cG9ydGVkTWFwKCk7XG5cbmZ1bmN0aW9uIElkYlBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG4gIHZhciBhcGkgPSB0aGlzO1xuXG4gIGVucXVldWVUYXNrKGZ1bmN0aW9uICh0aGlzQ2FsbGJhY2spIHtcbiAgICBpbml0KGFwaSwgb3B0cywgdGhpc0NhbGxiYWNrKTtcbiAgfSwgY2FsbGJhY2ssIGFwaS5jb25zdHJ1Y3Rvcik7XG59XG5cbmZ1bmN0aW9uIGluaXQoYXBpLCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIHZhciBkYk5hbWUgPSBvcHRzLm5hbWU7XG5cbiAgdmFyIGlkYiA9IG51bGw7XG4gIHZhciBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBudWxsO1xuICBhcGkuX21ldGEgPSBudWxsO1xuXG4gIGZ1bmN0aW9uIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spIHtcbiAgICByZXR1cm4gZnVuY3Rpb24gKGVycm9yLCByZXN1bHQpIHtcbiAgICAgIGlmIChlcnJvciAmJiBlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmICFlcnJvci5yZWFzb24pIHtcbiAgICAgICAgaWYgKGlkYkdsb2JhbEZhaWx1cmVFcnJvcikge1xuICAgICAgICAgIGVycm9yLnJlYXNvbiA9IGlkYkdsb2JhbEZhaWx1cmVFcnJvcjtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjYWxsYmFjayhlcnJvciwgcmVzdWx0KTtcbiAgICB9O1xuICB9XG5cbiAgLy8gY2FsbGVkIHdoZW4gY3JlYXRpbmcgYSBmcmVzaCBuZXcgZGF0YWJhc2VcbiAgZnVuY3Rpb24gY3JlYXRlU2NoZW1hKGRiKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoRE9DX1NUT1JFLCB7a2V5UGF0aCA6ICdpZCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShCWV9TRVFfU1RPUkUsIHthdXRvSW5jcmVtZW50OiB0cnVlfSlcbiAgICAgIC5jcmVhdGVJbmRleCgnX2RvY19pZF9yZXYnLCAnX2RvY19pZF9yZXYnLCB7dW5pcXVlOiB0cnVlfSk7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFLCB7a2V5UGF0aDogJ2RpZ2VzdCd9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShNRVRBX1NUT1JFLCB7a2V5UGF0aDogJ2lkJywgYXV0b0luY3JlbWVudDogZmFsc2V9KTtcbiAgICBkYi5jcmVhdGVPYmplY3RTdG9yZShERVRFQ1RfQkxPQl9TVVBQT1JUX1NUT1JFKTtcblxuICAgIC8vIGFkZGVkIGluIHYyXG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICAvLyBhZGRlZCBpbiB2M1xuICAgIGRiLmNyZWF0ZU9iamVjdFN0b3JlKExPQ0FMX1NUT1JFLCB7a2V5UGF0aDogJ19pZCd9KTtcblxuICAgIC8vIGFkZGVkIGluIHY0XG4gICAgdmFyIGF0dEFuZFNlcVN0b3JlID0gZGIuY3JlYXRlT2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUsXG4gICAgICB7YXV0b0luY3JlbWVudDogdHJ1ZX0pO1xuICAgIGF0dEFuZFNlcVN0b3JlLmNyZWF0ZUluZGV4KCdzZXEnLCAnc2VxJyk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ2RpZ2VzdFNlcScsICdkaWdlc3RTZXEnLCB7dW5pcXVlOiB0cnVlfSk7XG4gIH1cblxuICAvLyBtaWdyYXRpb24gdG8gdmVyc2lvbiAyXG4gIC8vIHVuZm9ydHVuYXRlbHkgXCJkZWxldGVkT3JMb2NhbFwiIGlzIGEgbWlzbm9tZXIgbm93IHRoYXQgd2Ugbm8gbG9uZ2VyXG4gIC8vIHN0b3JlIGxvY2FsIGRvY3MgaW4gdGhlIG1haW4gZG9jLXN0b3JlLCBidXQgd2hhZGR5YWdvbm5hZG9cbiAgZnVuY3Rpb24gYWRkRGVsZXRlZE9yTG9jYWxJbmRleCh0eG4sIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgZG9jU3RvcmUuY3JlYXRlSW5kZXgoJ2RlbGV0ZWRPckxvY2FsJywgJ2RlbGV0ZWRPckxvY2FsJywge3VuaXF1ZSA6IGZhbHNlfSk7XG5cbiAgICBkb2NTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZGVsZXRlZCA9IGlzRGVsZXRlZChtZXRhZGF0YSk7XG4gICAgICAgIG1ldGFkYXRhLmRlbGV0ZWRPckxvY2FsID0gZGVsZXRlZCA/IFwiMVwiIDogXCIwXCI7XG4gICAgICAgIGRvY1N0b3JlLnB1dChtZXRhZGF0YSk7XG4gICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAxKVxuICBmdW5jdGlvbiBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKSB7XG4gICAgZGIuY3JlYXRlT2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUsIHtrZXlQYXRoOiAnX2lkJ30pXG4gICAgICAuY3JlYXRlSW5kZXgoJ19kb2NfaWRfcmV2JywgJ19kb2NfaWRfcmV2Jywge3VuaXF1ZTogdHJ1ZX0pO1xuICB9XG5cbiAgLy8gbWlncmF0aW9uIHRvIHZlcnNpb24gMyAocGFydCAyKVxuICBmdW5jdGlvbiBtaWdyYXRlTG9jYWxTdG9yZSh0eG4sIGNiKSB7XG4gICAgdmFyIGxvY2FsU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoTE9DQUxfU1RPUkUpO1xuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuICAgIHZhciBzZXFTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuXG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGV2ZW50KSB7XG4gICAgICB2YXIgY3Vyc29yID0gZXZlbnQudGFyZ2V0LnJlc3VsdDtcbiAgICAgIGlmIChjdXJzb3IpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhID0gY3Vyc29yLnZhbHVlO1xuICAgICAgICB2YXIgZG9jSWQgPSBtZXRhZGF0YS5pZDtcbiAgICAgICAgdmFyIGxvY2FsID0gaXNMb2NhbElkKGRvY0lkKTtcbiAgICAgICAgdmFyIHJldiA9IHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuICAgICAgICBpZiAobG9jYWwpIHtcbiAgICAgICAgICB2YXIgZG9jSWRSZXYgPSBkb2NJZCArIFwiOjpcIiArIHJldjtcbiAgICAgICAgICAvLyByZW1vdmUgYWxsIHNlcSBlbnRyaWVzXG4gICAgICAgICAgLy8gYXNzb2NpYXRlZCB3aXRoIHRoaXMgZG9jSWRcbiAgICAgICAgICB2YXIgc3RhcnQgPSBkb2NJZCArIFwiOjpcIjtcbiAgICAgICAgICB2YXIgZW5kID0gZG9jSWQgKyBcIjo6flwiO1xuICAgICAgICAgIHZhciBpbmRleCA9IHNlcVN0b3JlLmluZGV4KCdfZG9jX2lkX3JldicpO1xuICAgICAgICAgIHZhciByYW5nZSA9IElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgICAgdmFyIHNlcUN1cnNvciA9IGluZGV4Lm9wZW5DdXJzb3IocmFuZ2UpO1xuICAgICAgICAgIHNlcUN1cnNvci5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgICAgICAgc2VxQ3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgICAgaWYgKCFzZXFDdXJzb3IpIHtcbiAgICAgICAgICAgICAgLy8gZG9uZVxuICAgICAgICAgICAgICBkb2NTdG9yZS5kZWxldGUoY3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHZhciBkYXRhID0gc2VxQ3Vyc29yLnZhbHVlO1xuICAgICAgICAgICAgICBpZiAoZGF0YS5fZG9jX2lkX3JldiA9PT0gZG9jSWRSZXYpIHtcbiAgICAgICAgICAgICAgICBsb2NhbFN0b3JlLnB1dChkYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzZXFTdG9yZS5kZWxldGUoc2VxQ3Vyc29yLnByaW1hcnlLZXkpO1xuICAgICAgICAgICAgICBzZXFDdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGN1cnNvci5jb250aW51ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGNiKSB7XG4gICAgICAgIGNiKCk7XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMSlcbiAgZnVuY3Rpb24gYWRkQXR0YWNoQW5kU2VxU3RvcmUoZGIpIHtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSBkYi5jcmVhdGVPYmplY3RTdG9yZShBVFRBQ0hfQU5EX1NFUV9TVE9SRSxcbiAgICAgIHthdXRvSW5jcmVtZW50OiB0cnVlfSk7XG4gICAgYXR0QW5kU2VxU3RvcmUuY3JlYXRlSW5kZXgoJ3NlcScsICdzZXEnKTtcbiAgICBhdHRBbmRTZXFTdG9yZS5jcmVhdGVJbmRleCgnZGlnZXN0U2VxJywgJ2RpZ2VzdFNlcScsIHt1bmlxdWU6IHRydWV9KTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDQgKHBhcnQgMilcbiAgZnVuY3Rpb24gbWlncmF0ZUF0dHNBbmRTZXFzKHR4biwgY2FsbGJhY2spIHtcbiAgICB2YXIgc2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQllfU0VRX1NUT1JFKTtcbiAgICB2YXIgYXR0U3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX1NUT1JFKTtcbiAgICB2YXIgYXR0QW5kU2VxU3RvcmUgPSB0eG4ub2JqZWN0U3RvcmUoQVRUQUNIX0FORF9TRVFfU1RPUkUpO1xuXG4gICAgLy8gbmVlZCB0byBhY3R1YWxseSBwb3B1bGF0ZSB0aGUgdGFibGUuIHRoaXMgaXMgdGhlIGV4cGVuc2l2ZSBwYXJ0LFxuICAgIC8vIHNvIGFzIGFuIG9wdGltaXphdGlvbiwgY2hlY2sgZmlyc3QgdGhhdCB0aGlzIGRhdGFiYXNlIGV2ZW5cbiAgICAvLyBjb250YWlucyBhdHRhY2htZW50c1xuICAgIHZhciByZXEgPSBhdHRTdG9yZS5jb3VudCgpO1xuICAgIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGNvdW50ID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFjb3VudCkge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgfVxuXG4gICAgICBzZXFTdG9yZS5vcGVuQ3Vyc29yKCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgICAgaWYgKCFjdXJzb3IpIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soKTsgLy8gZG9uZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkb2MgPSBjdXJzb3IudmFsdWU7XG4gICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgdmFyIGF0dHMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzIHx8IHt9KTtcbiAgICAgICAgdmFyIGRpZ2VzdE1hcCA9IHt9O1xuICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGF0dHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgYXR0ID0gZG9jLl9hdHRhY2htZW50c1thdHRzW2pdXTtcbiAgICAgICAgICBkaWdlc3RNYXBbYXR0LmRpZ2VzdF0gPSB0cnVlOyAvLyB1bmlxIGRpZ2VzdHMsIGp1c3QgaW4gY2FzZVxuICAgICAgICB9XG4gICAgICAgIHZhciBkaWdlc3RzID0gT2JqZWN0LmtleXMoZGlnZXN0TWFwKTtcbiAgICAgICAgZm9yIChqID0gMDsgaiA8IGRpZ2VzdHMubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICB2YXIgZGlnZXN0ID0gZGlnZXN0c1tqXTtcbiAgICAgICAgICBhdHRBbmRTZXFTdG9yZS5wdXQoe1xuICAgICAgICAgICAgc2VxOiBzZXEsXG4gICAgICAgICAgICBkaWdlc3RTZXE6IGRpZ2VzdCArICc6OicgKyBzZXFcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgIH07XG4gICAgfTtcbiAgfVxuXG4gIC8vIG1pZ3JhdGlvbiB0byB2ZXJzaW9uIDVcbiAgLy8gSW5zdGVhZCBvZiByZWx5aW5nIG9uIG9uLXRoZS1mbHkgbWlncmF0aW9uIG9mIG1ldGFkYXRhLFxuICAvLyB0aGlzIGJyaW5ncyB0aGUgZG9jLXN0b3JlIHRvIGl0cyBtb2Rlcm4gZm9ybTpcbiAgLy8gLSBtZXRhZGF0YS53aW5uaW5ncmV2XG4gIC8vIC0gbWV0YWRhdGEuc2VxXG4gIC8vIC0gc3RyaW5naWZ5IHRoZSBtZXRhZGF0YSB3aGVuIHN0b3JpbmcgaXRcbiAgZnVuY3Rpb24gbWlncmF0ZU1ldGFkYXRhKHR4bikge1xuXG4gICAgZnVuY3Rpb24gZGVjb2RlTWV0YWRhdGFDb21wYXQoc3RvcmVkT2JqZWN0KSB7XG4gICAgICBpZiAoIXN0b3JlZE9iamVjdC5kYXRhKSB7XG4gICAgICAgIC8vIG9sZCBmb3JtYXQsIHdoZW4gd2UgZGlkbid0IHN0b3JlIGl0IHN0cmluZ2lmaWVkXG4gICAgICAgIHN0b3JlZE9iamVjdC5kZWxldGVkID0gc3RvcmVkT2JqZWN0LmRlbGV0ZWRPckxvY2FsID09PSAnMSc7XG4gICAgICAgIHJldHVybiBzdG9yZWRPYmplY3Q7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVjb2RlTWV0YWRhdGEoc3RvcmVkT2JqZWN0KTtcbiAgICB9XG5cbiAgICAvLyBlbnN1cmUgdGhhdCBldmVyeSBtZXRhZGF0YSBoYXMgYSB3aW5uaW5nUmV2IGFuZCBzZXEsXG4gICAgLy8gd2hpY2ggd2FzIHByZXZpb3VzbHkgY3JlYXRlZCBvbi10aGUtZmx5IGJ1dCBiZXR0ZXIgdG8gbWlncmF0ZVxuICAgIHZhciBieVNlcVN0b3JlID0gdHhuLm9iamVjdFN0b3JlKEJZX1NFUV9TVE9SRSk7XG4gICAgdmFyIGRvY1N0b3JlID0gdHhuLm9iamVjdFN0b3JlKERPQ19TVE9SRSk7XG4gICAgdmFyIGN1cnNvciA9IGRvY1N0b3JlLm9wZW5DdXJzb3IoKTtcbiAgICBjdXJzb3Iub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBjdXJzb3IgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICByZXR1cm47IC8vIGRvbmVcbiAgICAgIH1cbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhQ29tcGF0KGN1cnNvci52YWx1ZSk7XG5cbiAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYgPSBtZXRhZGF0YS53aW5uaW5nUmV2IHx8XG4gICAgICAgIHdpbm5pbmdSZXYobWV0YWRhdGEpO1xuXG4gICAgICBmdW5jdGlvbiBmZXRjaE1ldGFkYXRhU2VxKCkge1xuICAgICAgICAvLyBtZXRhZGF0YS5zZXEgd2FzIGFkZGVkIHBvc3QtMy4yLjAsIHNvIGlmIGl0J3MgbWlzc2luZyxcbiAgICAgICAgLy8gd2UgbmVlZCB0byBmZXRjaCBpdCBtYW51YWxseVxuICAgICAgICB2YXIgc3RhcnQgPSBtZXRhZGF0YS5pZCArICc6Oic7XG4gICAgICAgIHZhciBlbmQgPSBtZXRhZGF0YS5pZCArICc6OlxcdWZmZmYnO1xuICAgICAgICB2YXIgcmVxID0gYnlTZXFTdG9yZS5pbmRleCgnX2RvY19pZF9yZXYnKS5vcGVuQ3Vyc29yKFxuICAgICAgICAgIElEQktleVJhbmdlLmJvdW5kKHN0YXJ0LCBlbmQpKTtcblxuICAgICAgICB2YXIgbWV0YWRhdGFTZXEgPSAwO1xuICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICB2YXIgY3Vyc29yID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICAgIGlmICghY3Vyc29yKSB7XG4gICAgICAgICAgICBtZXRhZGF0YS5zZXEgPSBtZXRhZGF0YVNlcTtcbiAgICAgICAgICAgIHJldHVybiBvbkdldE1ldGFkYXRhU2VxKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBzZXEgPSBjdXJzb3IucHJpbWFyeUtleTtcbiAgICAgICAgICBpZiAoc2VxID4gbWV0YWRhdGFTZXEpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhU2VxID0gc2VxO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gb25HZXRNZXRhZGF0YVNlcSgpIHtcbiAgICAgICAgdmFyIG1ldGFkYXRhVG9TdG9yZSA9IGVuY29kZU1ldGFkYXRhKG1ldGFkYXRhLFxuICAgICAgICAgIG1ldGFkYXRhLndpbm5pbmdSZXYsIG1ldGFkYXRhLmRlbGV0ZWQpO1xuXG4gICAgICAgIHZhciByZXEgPSBkb2NTdG9yZS5wdXQobWV0YWRhdGFUb1N0b3JlKTtcbiAgICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBjdXJzb3IuY29udGludWUoKTtcbiAgICAgICAgfTtcbiAgICAgIH1cblxuICAgICAgaWYgKG1ldGFkYXRhLnNlcSkge1xuICAgICAgICByZXR1cm4gb25HZXRNZXRhZGF0YVNlcSgpO1xuICAgICAgfVxuXG4gICAgICBmZXRjaE1ldGFkYXRhU2VxKCk7XG4gICAgfTtcblxuICB9XG5cbiAgYXBpLl9yZW1vdGUgPSBmYWxzZTtcbiAgYXBpLnR5cGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuICdpZGInO1xuICB9O1xuXG4gIGFwaS5faWQgPSB0b1Byb21pc2UoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2sobnVsbCwgYXBpLl9tZXRhLmluc3RhbmNlSWQpO1xuICB9KTtcblxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gaWRiX2J1bGtEb2NzKHJlcSwgcmVxT3B0cywgY2FsbGJhY2spIHtcbiAgICBpZGJCdWxrRG9jcyhvcHRzLCByZXEsIHJlcU9wdHMsIGFwaSwgaWRiLCBlbnJpY2hDYWxsYmFja0Vycm9yKGNhbGxiYWNrKSk7XG4gIH07XG5cbiAgLy8gRmlyc3Qgd2UgbG9vayB1cCB0aGUgbWV0YWRhdGEgaW4gdGhlIGlkcyBkYXRhYmFzZSwgdGhlbiB3ZSBmZXRjaCB0aGVcbiAgLy8gY3VycmVudCByZXZpc2lvbihzKSBmcm9tIHRoZSBieSBzZXF1ZW5jZSBzdG9yZVxuICBhcGkuX2dldCA9IGZ1bmN0aW9uIGlkYl9nZXQoaWQsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRvYztcbiAgICB2YXIgbWV0YWRhdGE7XG4gICAgdmFyIGVycjtcbiAgICB2YXIgdHhuID0gb3B0cy5jdHg7XG4gICAgaWYgKCF0eG4pIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmluaXNoKCkge1xuICAgICAgY2FsbGJhY2soZXJyLCB7ZG9jOiBkb2MsIG1ldGFkYXRhOiBtZXRhZGF0YSwgY3R4OiB0eG59KTtcbiAgICB9XG5cbiAgICB0eG4ub2JqZWN0U3RvcmUoRE9DX1NUT1JFKS5nZXQoaWQpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGUudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAvLyB3ZSBjYW4gZGV0ZXJtaW5lIHRoZSByZXN1bHQgaGVyZSBpZjpcbiAgICAgIC8vIDEuIHRoZXJlIGlzIG5vIHN1Y2ggZG9jdW1lbnRcbiAgICAgIC8vIDIuIHRoZSBkb2N1bWVudCBpcyBkZWxldGVkIGFuZCB3ZSBkb24ndCBhc2sgYWJvdXQgc3BlY2lmaWMgcmV2XG4gICAgICAvLyBXaGVuIHdlIGFzayB3aXRoIG9wdHMucmV2IHdlIGV4cGVjdCB0aGUgYW5zd2VyIHRvIGJlIGVpdGhlclxuICAgICAgLy8gZG9jIChwb3NzaWJseSB3aXRoIF9kZWxldGVkPXRydWUpIG9yIG1pc3NpbmcgZXJyb3JcbiAgICAgIGlmICghbWV0YWRhdGEpIHtcbiAgICAgICAgZXJyID0gY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MsICdtaXNzaW5nJyk7XG4gICAgICAgIHJldHVybiBmaW5pc2goKTtcbiAgICAgIH1cblxuICAgICAgdmFyIHJldjtcbiAgICAgIGlmICghb3B0cy5yZXYpIHtcbiAgICAgICAgcmV2ID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgICAgdmFyIGRlbGV0ZWQgPSBpc0RlbGV0ZWQobWV0YWRhdGEpO1xuICAgICAgICBpZiAoZGVsZXRlZCkge1xuICAgICAgICAgIGVyciA9IGNyZWF0ZUVycm9yKE1JU1NJTkdfRE9DLCBcImRlbGV0ZWRcIik7XG4gICAgICAgICAgcmV0dXJuIGZpbmlzaCgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXYgPSBvcHRzLmxhdGVzdCA/IGxhdGVzdChvcHRzLnJldiwgbWV0YWRhdGEpIDogb3B0cy5yZXY7XG4gICAgICB9XG5cbiAgICAgIHZhciBvYmplY3RTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpO1xuICAgICAgdmFyIGtleSA9IG1ldGFkYXRhLmlkICsgJzo6JyArIHJldjtcblxuICAgICAgb2JqZWN0U3RvcmUuaW5kZXgoJ19kb2NfaWRfcmV2JykuZ2V0KGtleSkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgICBpZiAoZG9jKSB7XG4gICAgICAgICAgZG9jID0gZGVjb2RlRG9jKGRvYyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgICBlcnIgPSBjcmVhdGVFcnJvcihNSVNTSU5HX0RPQywgJ21pc3NpbmcnKTtcbiAgICAgICAgICByZXR1cm4gZmluaXNoKCk7XG4gICAgICAgIH1cbiAgICAgICAgZmluaXNoKCk7XG4gICAgICB9O1xuICAgIH07XG4gIH07XG5cbiAgYXBpLl9nZXRBdHRhY2htZW50ID0gZnVuY3Rpb24gKGRvY0lkLCBhdHRhY2hJZCwgYXR0YWNobWVudCwgb3B0cywgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuO1xuICAgIGlmIChvcHRzLmN0eCkge1xuICAgICAgdHhuID0gb3B0cy5jdHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciB0eG5SZXN1bHQgPSBvcGVuVHJhbnNhY3Rpb25TYWZlbHkoaWRiLFxuICAgICAgICBbRE9DX1NUT1JFLCBCWV9TRVFfU1RPUkUsIEFUVEFDSF9TVE9SRV0sICdyZWFkb25seScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgfVxuICAgIHZhciBkaWdlc3QgPSBhdHRhY2htZW50LmRpZ2VzdDtcbiAgICB2YXIgdHlwZSA9IGF0dGFjaG1lbnQuY29udGVudF90eXBlO1xuXG4gICAgdHhuLm9iamVjdFN0b3JlKEFUVEFDSF9TVE9SRSkuZ2V0KGRpZ2VzdCkub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBib2R5ID0gZS50YXJnZXQucmVzdWx0LmJvZHk7XG4gICAgICByZWFkQmxvYkRhdGEoYm9keSwgdHlwZSwgb3B0cy5iaW5hcnksIGZ1bmN0aW9uIChibG9iRGF0YSkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCBibG9iRGF0YSk7XG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5faW5mbyA9IGZ1bmN0aW9uIGlkYl9pbmZvKGNhbGxiYWNrKSB7XG4gICAgdmFyIHVwZGF0ZVNlcTtcbiAgICB2YXIgZG9jQ291bnQ7XG5cbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW01FVEFfU1RPUkUsIEJZX1NFUV9TVE9SRV0sICdyZWFkb25seScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcbiAgICB0eG4ub2JqZWN0U3RvcmUoTUVUQV9TVE9SRSkuZ2V0KE1FVEFfU1RPUkUpLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBkb2NDb3VudCA9IGUudGFyZ2V0LnJlc3VsdC5kb2NDb3VudDtcbiAgICB9O1xuICAgIHR4bi5vYmplY3RTdG9yZShCWV9TRVFfU1RPUkUpLm9wZW5DdXJzb3IobnVsbCwgJ3ByZXYnKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGN1cnNvciA9IGUudGFyZ2V0LnJlc3VsdDtcbiAgICAgIHVwZGF0ZVNlcSA9IGN1cnNvciA/IGN1cnNvci5rZXkgOiAwO1xuICAgIH07XG5cbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIHtcbiAgICAgICAgZG9jX2NvdW50OiBkb2NDb3VudCxcbiAgICAgICAgdXBkYXRlX3NlcTogdXBkYXRlU2VxLFxuICAgICAgICAvLyBmb3IgZGVidWdnaW5nXG4gICAgICAgIGlkYl9hdHRhY2htZW50X2Zvcm1hdDogKGFwaS5fbWV0YS5ibG9iU3VwcG9ydCA/ICdiaW5hcnknIDogJ2Jhc2U2NCcpXG4gICAgICB9KTtcbiAgICB9O1xuICB9O1xuXG4gIGFwaS5fYWxsRG9jcyA9IGZ1bmN0aW9uIGlkYl9hbGxEb2NzKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWRiQWxsRG9jcyhvcHRzLCBpZGIsIGVucmljaENhbGxiYWNrRXJyb3IoY2FsbGJhY2spKTtcbiAgfTtcblxuICBhcGkuX2NoYW5nZXMgPSBmdW5jdGlvbiBpZGJDaGFuZ2VzKG9wdHMpIHtcbiAgICByZXR1cm4gY2hhbmdlcyhvcHRzLCBhcGksIGRiTmFtZSwgaWRiKTtcbiAgfTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgLy8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9JbmRleGVkREIvSURCRGF0YWJhc2UjY2xvc2VcbiAgICAvLyBcIlJldHVybnMgaW1tZWRpYXRlbHkgYW5kIGNsb3NlcyB0aGUgY29ubmVjdGlvbiBpbiBhIHNlcGFyYXRlIHRocmVhZC4uLlwiXG4gICAgaWRiLmNsb3NlKCk7XG4gICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIGNhbGxiYWNrKCk7XG4gIH07XG5cbiAgYXBpLl9nZXRSZXZpc2lvblRyZWUgPSBmdW5jdGlvbiAoZG9jSWQsIGNhbGxiYWNrKSB7XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtET0NfU1RPUkVdLCAncmVhZG9ubHknKTtcbiAgICBpZiAodHhuUmVzdWx0LmVycm9yKSB7XG4gICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICB9XG4gICAgdmFyIHR4biA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLmdldChkb2NJZCk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChldmVudCkge1xuICAgICAgdmFyIGRvYyA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYy5yZXZfdHJlZSk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgcmV2aXNpb25zIG9mIGRvY3VtZW50IGRvY0lkXG4gIC8vIHdoaWNoIGFyZSBsaXN0ZWQgaW4gcmV2cyBhbmQgc2V0cyB0aGlzIGRvY3VtZW50XG4gIC8vIHJldmlzaW9uIHRvIHRvIHJldl90cmVlXG4gIGFwaS5fZG9Db21wYWN0aW9uID0gZnVuY3Rpb24gKGRvY0lkLCByZXZzLCBjYWxsYmFjaykge1xuICAgIHZhciBzdG9yZXMgPSBbXG4gICAgICBET0NfU1RPUkUsXG4gICAgICBCWV9TRVFfU1RPUkUsXG4gICAgICBBVFRBQ0hfU1RPUkUsXG4gICAgICBBVFRBQ0hfQU5EX1NFUV9TVE9SRVxuICAgIF07XG4gICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIHN0b3JlcywgJ3JlYWR3cml0ZScpO1xuICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgIHJldHVybiBjYWxsYmFjayh0eG5SZXN1bHQuZXJyb3IpO1xuICAgIH1cbiAgICB2YXIgdHhuID0gdHhuUmVzdWx0LnR4bjtcblxuICAgIHZhciBkb2NTdG9yZSA9IHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpO1xuXG4gICAgZG9jU3RvcmUuZ2V0KGRvY0lkKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgIHZhciBtZXRhZGF0YSA9IGRlY29kZU1ldGFkYXRhKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgdHJhdmVyc2VSZXZUcmVlKG1ldGFkYXRhLnJldl90cmVlLCBmdW5jdGlvbiAoaXNMZWFmLCBwb3MsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZIYXNoLCBjdHgsIG9wdHMpIHtcbiAgICAgICAgdmFyIHJldiA9IHBvcyArICctJyArIHJldkhhc2g7XG4gICAgICAgIGlmIChyZXZzLmluZGV4T2YocmV2KSAhPT0gLTEpIHtcbiAgICAgICAgICBvcHRzLnN0YXR1cyA9ICdtaXNzaW5nJztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb21wYWN0UmV2cyhyZXZzLCBkb2NJZCwgdHhuKTtcbiAgICAgIHZhciB3aW5uaW5nUmV2JCQxID0gbWV0YWRhdGEud2lubmluZ1JldjtcbiAgICAgIHZhciBkZWxldGVkID0gbWV0YWRhdGEuZGVsZXRlZDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShET0NfU1RPUkUpLnB1dChcbiAgICAgICAgZW5jb2RlTWV0YWRhdGEobWV0YWRhdGEsIHdpbm5pbmdSZXYkJDEsIGRlbGV0ZWQpKTtcbiAgICB9O1xuICAgIHR4bi5vbmFib3J0ID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgIHR4bi5vbmNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9O1xuICB9O1xuXG5cbiAgYXBpLl9nZXRMb2NhbCA9IGZ1bmN0aW9uIChpZCwgY2FsbGJhY2spIHtcbiAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWRvbmx5Jyk7XG4gICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgfVxuICAgIHZhciB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgdmFyIHJlcSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKS5nZXQoaWQpO1xuXG4gICAgcmVxLm9uZXJyb3IgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICB2YXIgZG9jID0gZS50YXJnZXQucmVzdWx0O1xuICAgICAgaWYgKCFkb2MpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRlbGV0ZSBkb2NbJ19kb2NfaWRfcmV2J107IC8vIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIGRvYyk7XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX3B1dExvY2FsID0gZnVuY3Rpb24gKGRvYywgb3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgZGVsZXRlIGRvYy5fcmV2aXNpb25zOyAvLyBpZ25vcmUgdGhpcywgdHJ1c3QgdGhlIHJldlxuICAgIHZhciBvbGRSZXYgPSBkb2MuX3JldjtcbiAgICB2YXIgaWQgPSBkb2MuX2lkO1xuICAgIGlmICghb2xkUmV2KSB7XG4gICAgICBkb2MuX3JldiA9ICcwLTEnO1xuICAgIH0gZWxzZSB7XG4gICAgICBkb2MuX3JldiA9ICcwLScgKyAocGFyc2VJbnQob2xkUmV2LnNwbGl0KCctJylbMV0sIDEwKSArIDEpO1xuICAgIH1cblxuICAgIHZhciB0eCA9IG9wdHMuY3R4O1xuICAgIHZhciByZXQ7XG4gICAgaWYgKCF0eCkge1xuICAgICAgdmFyIHR4blJlc3VsdCA9IG9wZW5UcmFuc2FjdGlvblNhZmVseShpZGIsIFtMT0NBTF9TVE9SRV0sICdyZWFkd3JpdGUnKTtcbiAgICAgIGlmICh0eG5SZXN1bHQuZXJyb3IpIHtcbiAgICAgICAgcmV0dXJuIGNhbGxiYWNrKHR4blJlc3VsdC5lcnJvcik7XG4gICAgICB9XG4gICAgICB0eCA9IHR4blJlc3VsdC50eG47XG4gICAgICB0eC5vbmVycm9yID0gaWRiRXJyb3IoY2FsbGJhY2spO1xuICAgICAgdHgub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxO1xuICAgIGlmIChvbGRSZXYpIHtcbiAgICAgIHJlcSA9IG9TdG9yZS5nZXQoaWQpO1xuICAgICAgcmVxLm9uc3VjY2VzcyA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICAgIGlmICghb2xkRG9jIHx8IG9sZERvYy5fcmV2ICE9PSBvbGRSZXYpIHtcbiAgICAgICAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihSRVZfQ09ORkxJQ1QpKTtcbiAgICAgICAgfSBlbHNlIHsgLy8gdXBkYXRlXG4gICAgICAgICAgdmFyIHJlcSA9IG9TdG9yZS5wdXQoZG9jKTtcbiAgICAgICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0ID0ge29rOiB0cnVlLCBpZDogZG9jLl9pZCwgcmV2OiBkb2MuX3Jldn07XG4gICAgICAgICAgICBpZiAob3B0cy5jdHgpIHsgLy8gcmV0dXJuIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9IGVsc2UgeyAvLyBuZXcgZG9jXG4gICAgICByZXEgPSBvU3RvcmUuYWRkKGRvYyk7XG4gICAgICByZXEub25lcnJvciA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIC8vIGNvbnN0cmFpbnQgZXJyb3IsIGFscmVhZHkgZXhpc3RzXG4gICAgICAgIGNhbGxiYWNrKGNyZWF0ZUVycm9yKFJFVl9DT05GTElDVCkpO1xuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIGFib3J0XG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7IC8vIGF2b2lkIHRyYW5zYWN0aW9uIG9uZXJyb3JcbiAgICAgIH07XG4gICAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBkb2MuX2lkLCByZXY6IGRvYy5fcmV2fTtcbiAgICAgICAgaWYgKG9wdHMuY3R4KSB7IC8vIHJldHVybiBpbW1lZGlhdGVseVxuICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHJldCk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuICB9O1xuXG4gIGFwaS5fcmVtb3ZlTG9jYWwgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICB2YXIgdHggPSBvcHRzLmN0eDtcbiAgICBpZiAoIXR4KSB7XG4gICAgICB2YXIgdHhuUmVzdWx0ID0gb3BlblRyYW5zYWN0aW9uU2FmZWx5KGlkYiwgW0xPQ0FMX1NUT1JFXSwgJ3JlYWR3cml0ZScpO1xuICAgICAgaWYgKHR4blJlc3VsdC5lcnJvcikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2sodHhuUmVzdWx0LmVycm9yKTtcbiAgICAgIH1cbiAgICAgIHR4ID0gdHhuUmVzdWx0LnR4bjtcbiAgICAgIHR4Lm9uY29tcGxldGUgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChyZXQpIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9O1xuICAgIH1cbiAgICB2YXIgcmV0O1xuICAgIHZhciBpZCA9IGRvYy5faWQ7XG4gICAgdmFyIG9TdG9yZSA9IHR4Lm9iamVjdFN0b3JlKExPQ0FMX1NUT1JFKTtcbiAgICB2YXIgcmVxID0gb1N0b3JlLmdldChpZCk7XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKGUpIHtcbiAgICAgIHZhciBvbGREb2MgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgICBpZiAoIW9sZERvYyB8fCBvbGREb2MuX3JldiAhPT0gZG9jLl9yZXYpIHtcbiAgICAgICAgY2FsbGJhY2soY3JlYXRlRXJyb3IoTUlTU0lOR19ET0MpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG9TdG9yZS5kZWxldGUoaWQpO1xuICAgICAgICByZXQgPSB7b2s6IHRydWUsIGlkOiBpZCwgcmV2OiAnMC0wJ307XG4gICAgICAgIGlmIChvcHRzLmN0eCkgeyAvLyByZXR1cm4gaW1tZWRpYXRlbHlcbiAgICAgICAgICBjYWxsYmFjayhudWxsLCByZXQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBjaGFuZ2VzSGFuZGxlci5yZW1vdmVBbGxMaXN0ZW5lcnMoZGJOYW1lKTtcblxuICAgIC8vQ2xvc2Ugb3BlbiByZXF1ZXN0IGZvciBcImRiTmFtZVwiIGRhdGFiYXNlIHRvIGZpeCBpZSBkZWxheS5cbiAgICB2YXIgb3BlblJlcSA9IG9wZW5SZXFMaXN0LmdldChkYk5hbWUpO1xuICAgIGlmIChvcGVuUmVxICYmIG9wZW5SZXEucmVzdWx0KSB7XG4gICAgICBvcGVuUmVxLnJlc3VsdC5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH1cbiAgICB2YXIgcmVxID0gaW5kZXhlZERCLmRlbGV0ZURhdGFiYXNlKGRiTmFtZSk7XG5cbiAgICByZXEub25zdWNjZXNzID0gZnVuY3Rpb24gKCkge1xuICAgICAgLy9SZW1vdmUgb3BlbiByZXF1ZXN0IGZyb20gdGhlIGxpc3QuXG4gICAgICBvcGVuUmVxTGlzdC5kZWxldGUoZGJOYW1lKTtcbiAgICAgIGlmIChoYXNMb2NhbFN0b3JhZ2UoKSAmJiAoZGJOYW1lIGluIGxvY2FsU3RvcmFnZSkpIHtcbiAgICAgICAgZGVsZXRlIGxvY2FsU3RvcmFnZVtkYk5hbWVdO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgeyAnb2snOiB0cnVlIH0pO1xuICAgIH07XG5cbiAgICByZXEub25lcnJvciA9IGlkYkVycm9yKGNhbGxiYWNrKTtcbiAgfTtcblxuICB2YXIgY2FjaGVkID0gY2FjaGVkREJzLmdldChkYk5hbWUpO1xuXG4gIGlmIChjYWNoZWQpIHtcbiAgICBpZGIgPSBjYWNoZWQuaWRiO1xuICAgIGFwaS5fbWV0YSA9IGNhY2hlZC5nbG9iYWw7XG4gICAgcmV0dXJuIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICBjYWxsYmFjayhudWxsLCBhcGkpO1xuICAgIH0pO1xuICB9XG5cbiAgdmFyIHJlcSA9IGluZGV4ZWREQi5vcGVuKGRiTmFtZSwgQURBUFRFUl9WRVJTSU9OKTtcbiAgb3BlblJlcUxpc3Quc2V0KGRiTmFtZSwgcmVxKTtcblxuICByZXEub251cGdyYWRlbmVlZGVkID0gZnVuY3Rpb24gKGUpIHtcbiAgICB2YXIgZGIgPSBlLnRhcmdldC5yZXN1bHQ7XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDEpIHtcbiAgICAgIHJldHVybiBjcmVhdGVTY2hlbWEoZGIpOyAvLyBuZXcgZGIsIGluaXRpYWwgc2NoZW1hXG4gICAgfVxuICAgIC8vIGRvIG1pZ3JhdGlvbnNcblxuICAgIHZhciB0eG4gPSBlLmN1cnJlbnRUYXJnZXQudHJhbnNhY3Rpb247XG4gICAgLy8gdGhlc2UgbWlncmF0aW9ucyBoYXZlIHRvIGJlIGRvbmUgaW4gdGhpcyBmdW5jdGlvbiwgYmVmb3JlXG4gICAgLy8gY29udHJvbCBpcyByZXR1cm5lZCB0byB0aGUgZXZlbnQgbG9vcCwgYmVjYXVzZSBJbmRleGVkREJcblxuICAgIGlmIChlLm9sZFZlcnNpb24gPCAzKSB7XG4gICAgICBjcmVhdGVMb2NhbFN0b3JlU2NoZW1hKGRiKTsgLy8gdjIgLT4gdjNcbiAgICB9XG4gICAgaWYgKGUub2xkVmVyc2lvbiA8IDQpIHtcbiAgICAgIGFkZEF0dGFjaEFuZFNlcVN0b3JlKGRiKTsgLy8gdjMgLT4gdjRcbiAgICB9XG5cbiAgICB2YXIgbWlncmF0aW9ucyA9IFtcbiAgICAgIGFkZERlbGV0ZWRPckxvY2FsSW5kZXgsIC8vIHYxIC0+IHYyXG4gICAgICBtaWdyYXRlTG9jYWxTdG9yZSwgICAgICAvLyB2MiAtPiB2M1xuICAgICAgbWlncmF0ZUF0dHNBbmRTZXFzLCAgICAgLy8gdjMgLT4gdjRcbiAgICAgIG1pZ3JhdGVNZXRhZGF0YSAgICAgICAgIC8vIHY0IC0+IHY1XG4gICAgXTtcblxuICAgIHZhciBpID0gZS5vbGRWZXJzaW9uO1xuXG4gICAgZnVuY3Rpb24gbmV4dCgpIHtcbiAgICAgIHZhciBtaWdyYXRpb24gPSBtaWdyYXRpb25zW2kgLSAxXTtcbiAgICAgIGkrKztcbiAgICAgIGlmIChtaWdyYXRpb24pIHtcbiAgICAgICAgbWlncmF0aW9uKHR4biwgbmV4dCk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgbmV4dCgpO1xuICB9O1xuXG4gIHJlcS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuXG4gICAgaWRiID0gZS50YXJnZXQucmVzdWx0O1xuXG4gICAgaWRiLm9udmVyc2lvbmNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICBpZGIub25hYm9ydCA9IGZ1bmN0aW9uIChlKSB7XG4gICAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCAnRGF0YWJhc2UgaGFzIGEgZ2xvYmFsIGZhaWx1cmUnLCBlLnRhcmdldC5lcnJvcik7XG4gICAgICBpZGJHbG9iYWxGYWlsdXJlRXJyb3IgPSBlLnRhcmdldC5lcnJvcjtcbiAgICAgIGlkYi5jbG9zZSgpO1xuICAgICAgY2FjaGVkREJzLmRlbGV0ZShkYk5hbWUpO1xuICAgIH07XG5cbiAgICAvLyBEbyBhIGZldyBzZXR1cCBvcGVyYXRpb25zIChpbiBwYXJhbGxlbCBhcyBtdWNoIGFzIHBvc3NpYmxlKTpcbiAgICAvLyAxLiBGZXRjaCBtZXRhIGRvY1xuICAgIC8vIDIuIENoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vIDMuIENhbGN1bGF0ZSBkb2NDb3VudFxuICAgIC8vIDQuIEdlbmVyYXRlIGFuIGluc3RhbmNlSWQgaWYgbmVjZXNzYXJ5XG4gICAgLy8gNS4gU3RvcmUgZG9jQ291bnQgYW5kIGluc3RhbmNlSWQgb24gbWV0YSBkb2NcblxuICAgIHZhciB0eG4gPSBpZGIudHJhbnNhY3Rpb24oW1xuICAgICAgTUVUQV9TVE9SRSxcbiAgICAgIERFVEVDVF9CTE9CX1NVUFBPUlRfU1RPUkUsXG4gICAgICBET0NfU1RPUkVcbiAgICBdLCAncmVhZHdyaXRlJyk7XG5cbiAgICB2YXIgc3RvcmVkTWV0YURvYyA9IGZhbHNlO1xuICAgIHZhciBtZXRhRG9jO1xuICAgIHZhciBkb2NDb3VudDtcbiAgICB2YXIgYmxvYlN1cHBvcnQ7XG4gICAgdmFyIGluc3RhbmNlSWQ7XG5cbiAgICBmdW5jdGlvbiBjb21wbGV0ZVNldHVwKCkge1xuICAgICAgaWYgKHR5cGVvZiBibG9iU3VwcG9ydCA9PT0gJ3VuZGVmaW5lZCcgfHwgIXN0b3JlZE1ldGFEb2MpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgYXBpLl9tZXRhID0ge1xuICAgICAgICBuYW1lOiBkYk5hbWUsXG4gICAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIGJsb2JTdXBwb3J0OiBibG9iU3VwcG9ydFxuICAgICAgfTtcblxuICAgICAgY2FjaGVkREJzLnNldChkYk5hbWUsIHtcbiAgICAgICAgaWRiOiBpZGIsXG4gICAgICAgIGdsb2JhbDogYXBpLl9tZXRhXG4gICAgICB9KTtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gc3RvcmVNZXRhRG9jSWZSZWFkeSgpIHtcbiAgICAgIGlmICh0eXBlb2YgZG9jQ291bnQgPT09ICd1bmRlZmluZWQnIHx8IHR5cGVvZiBtZXRhRG9jID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB2YXIgaW5zdGFuY2VLZXkgPSBkYk5hbWUgKyAnX2lkJztcbiAgICAgIGlmIChpbnN0YW5jZUtleSBpbiBtZXRhRG9jKSB7XG4gICAgICAgIGluc3RhbmNlSWQgPSBtZXRhRG9jW2luc3RhbmNlS2V5XTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1ldGFEb2NbaW5zdGFuY2VLZXldID0gaW5zdGFuY2VJZCA9IHV1aWQoKTtcbiAgICAgIH1cbiAgICAgIG1ldGFEb2MuZG9jQ291bnQgPSBkb2NDb3VudDtcbiAgICAgIHR4bi5vYmplY3RTdG9yZShNRVRBX1NUT1JFKS5wdXQobWV0YURvYyk7XG4gICAgfVxuXG4gICAgLy9cbiAgICAvLyBmZXRjaCBvciBnZW5lcmF0ZSB0aGUgaW5zdGFuY2VJZFxuICAgIC8vXG4gICAgdHhuLm9iamVjdFN0b3JlKE1FVEFfU1RPUkUpLmdldChNRVRBX1NUT1JFKS5vbnN1Y2Nlc3MgPSBmdW5jdGlvbiAoZSkge1xuICAgICAgbWV0YURvYyA9IGUudGFyZ2V0LnJlc3VsdCB8fCB7IGlkOiBNRVRBX1NUT1JFIH07XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfTtcblxuICAgIC8vXG4gICAgLy8gY291bnREb2NzXG4gICAgLy9cbiAgICBjb3VudERvY3ModHhuLCBmdW5jdGlvbiAoY291bnQpIHtcbiAgICAgIGRvY0NvdW50ID0gY291bnQ7XG4gICAgICBzdG9yZU1ldGFEb2NJZlJlYWR5KCk7XG4gICAgfSk7XG5cbiAgICAvL1xuICAgIC8vIGNoZWNrIGJsb2Igc3VwcG9ydFxuICAgIC8vXG4gICAgaWYgKCFibG9iU3VwcG9ydFByb21pc2UpIHtcbiAgICAgIC8vIG1ha2Ugc3VyZSBibG9iIHN1cHBvcnQgaXMgb25seSBjaGVja2VkIG9uY2VcbiAgICAgIGJsb2JTdXBwb3J0UHJvbWlzZSA9IGNoZWNrQmxvYlN1cHBvcnQodHhuKTtcbiAgICB9XG5cbiAgICBibG9iU3VwcG9ydFByb21pc2UudGhlbihmdW5jdGlvbiAodmFsKSB7XG4gICAgICBibG9iU3VwcG9ydCA9IHZhbDtcbiAgICAgIGNvbXBsZXRlU2V0dXAoKTtcbiAgICB9KTtcblxuICAgIC8vIG9ubHkgd2hlbiB0aGUgbWV0YWRhdGEgcHV0IHRyYW5zYWN0aW9uIGhhcyBjb21wbGV0ZWQsXG4gICAgLy8gY29uc2lkZXIgdGhlIHNldHVwIGRvbmVcbiAgICB0eG4ub25jb21wbGV0ZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIHN0b3JlZE1ldGFEb2MgPSB0cnVlO1xuICAgICAgY29tcGxldGVTZXR1cCgpO1xuICAgIH07XG4gICAgdHhuLm9uYWJvcnQgPSBpZGJFcnJvcihjYWxsYmFjayk7XG4gIH07XG5cbiAgcmVxLm9uZXJyb3IgPSBmdW5jdGlvbiAoZSkge1xuICAgIHZhciBtc2cgPSBlLnRhcmdldC5lcnJvciAmJiBlLnRhcmdldC5lcnJvci5tZXNzYWdlO1xuXG4gICAgaWYgKCFtc2cpIHtcbiAgICAgIG1zZyA9ICdGYWlsZWQgdG8gb3BlbiBpbmRleGVkREIsIGFyZSB5b3UgaW4gcHJpdmF0ZSBicm93c2luZyBtb2RlPyc7XG4gICAgfSBlbHNlIGlmIChtc2cuaW5kZXhPZihcInN0b3JlZCBkYXRhYmFzZSBpcyBhIGhpZ2hlciB2ZXJzaW9uXCIpICE9PSAtMSkge1xuICAgICAgbXNnID0gbmV3IEVycm9yKCdUaGlzIERCIHdhcyBjcmVhdGVkIHdpdGggdGhlIG5ld2VyIFwiaW5kZXhlZGRiXCIgYWRhcHRlciwgYnV0IHlvdSBhcmUgdHJ5aW5nIHRvIG9wZW4gaXQgd2l0aCB0aGUgb2xkZXIgXCJpZGJcIiBhZGFwdGVyJyk7XG4gICAgfVxuXG4gICAgZ3VhcmRlZENvbnNvbGUoJ2Vycm9yJywgbXNnKTtcbiAgICBjYWxsYmFjayhjcmVhdGVFcnJvcihJREJfRVJST1IsIG1zZykpO1xuICB9O1xufVxuXG5JZGJQb3VjaC52YWxpZCA9IGZ1bmN0aW9uICgpIHtcbiAgLy8gRm9sbG93aW5nICM3MDg1IGJ1Z2d5IGlkYiB2ZXJzaW9ucyAodHlwaWNhbGx5IFNhZmFyaSA8IDEwLjEpIGFyZVxuICAvLyBjb25zaWRlcmVkIHZhbGlkLlxuXG4gIC8vIE9uIEZpcmVmb3ggU2VjdXJpdHlFcnJvciBpcyB0aHJvd24gd2hpbGUgcmVmZXJlbmNpbmcgaW5kZXhlZERCIGlmIGNvb2tpZXNcbiAgLy8gYXJlIG5vdCBhbGxvd2VkLiBgdHlwZW9mIGluZGV4ZWREQmAgYWxzbyB0cmlnZ2VycyB0aGUgZXJyb3IuXG4gIHRyeSB7XG4gICAgLy8gc29tZSBvdXRkYXRlZCBpbXBsZW1lbnRhdGlvbnMgb2YgSURCIHRoYXQgYXBwZWFyIG9uIFNhbXN1bmdcbiAgICAvLyBhbmQgSFRDIEFuZHJvaWQgZGV2aWNlcyA8NC40IGFyZSBtaXNzaW5nIElEQktleVJhbmdlXG4gICAgcmV0dXJuIHR5cGVvZiBpbmRleGVkREIgIT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBJREJLZXlSYW5nZSAhPT0gJ3VuZGVmaW5lZCc7XG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn07XG5cbmZ1bmN0aW9uIElEQlBvdWNoIChQb3VjaERCKSB7XG4gIFBvdWNoREIuYWRhcHRlcignaWRiJywgSWRiUG91Y2gsIHRydWUpO1xufVxuXG4vLyBkZWFkIHNpbXBsZSBwcm9taXNlIHBvb2wsIGluc3BpcmVkIGJ5IGh0dHBzOi8vZ2l0aHViLmNvbS90aW1kcC9lczYtcHJvbWlzZS1wb29sXG4vLyBidXQgbXVjaCBzbWFsbGVyIGluIGNvZGUgc2l6ZS4gbGltaXRzIHRoZSBudW1iZXIgb2YgY29uY3VycmVudCBwcm9taXNlcyB0aGF0IGFyZSBleGVjdXRlZFxuXG5cbmZ1bmN0aW9uIHBvb2wocHJvbWlzZUZhY3RvcmllcywgbGltaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICB2YXIgcnVubmluZyA9IDA7XG4gICAgdmFyIGN1cnJlbnQgPSAwO1xuICAgIHZhciBkb25lID0gMDtcbiAgICB2YXIgbGVuID0gcHJvbWlzZUZhY3Rvcmllcy5sZW5ndGg7XG4gICAgdmFyIGVycjtcblxuICAgIGZ1bmN0aW9uIHJ1bk5leHQoKSB7XG4gICAgICBydW5uaW5nKys7XG4gICAgICBwcm9taXNlRmFjdG9yaWVzW2N1cnJlbnQrK10oKS50aGVuKG9uU3VjY2Vzcywgb25FcnJvcik7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZG9OZXh0KCkge1xuICAgICAgaWYgKCsrZG9uZSA9PT0gbGVuKSB7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBydW5OZXh0QmF0Y2goKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBvblN1Y2Nlc3MoKSB7XG4gICAgICBydW5uaW5nLS07XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGZ1bmN0aW9uIG9uRXJyb3IodGhpc0Vycikge1xuICAgICAgcnVubmluZy0tO1xuICAgICAgZXJyID0gZXJyIHx8IHRoaXNFcnI7XG4gICAgICBkb05leHQoKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBydW5OZXh0QmF0Y2goKSB7XG4gICAgICB3aGlsZSAocnVubmluZyA8IGxpbWl0ICYmIGN1cnJlbnQgPCBsZW4pIHtcbiAgICAgICAgcnVuTmV4dCgpO1xuICAgICAgfVxuICAgIH1cblxuICAgIHJ1bk5leHRCYXRjaCgpO1xuICB9KTtcbn1cblxudmFyIENIQU5HRVNfQkFUQ0hfU0laRSA9IDI1O1xudmFyIE1BWF9TSU1VTFRBTkVPVVNfUkVWUyA9IDUwO1xudmFyIENIQU5HRVNfVElNRU9VVF9CVUZGRVIgPSA1MDAwO1xudmFyIERFRkFVTFRfSEVBUlRCRUFUID0gMTAwMDA7XG5cbnZhciBzdXBwb3J0c0J1bGtHZXRNYXAgPSB7fTtcblxuZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocm93KSB7XG4gIHZhciBkb2MgPSByb3cuZG9jIHx8IHJvdy5vaztcbiAgdmFyIGF0dHMgPSBkb2MgJiYgZG9jLl9hdHRhY2htZW50cztcbiAgaWYgKCFhdHRzKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIE9iamVjdC5rZXlzKGF0dHMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgIGF0dC5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGVuY29kZURvY0lkKGlkKSB7XG4gIGlmICgvXl9kZXNpZ24vLnRlc3QoaWQpKSB7XG4gICAgcmV0dXJuICdfZGVzaWduLycgKyBlbmNvZGVVUklDb21wb25lbnQoaWQuc2xpY2UoOCkpO1xuICB9XG4gIGlmICgvXl9sb2NhbC8udGVzdChpZCkpIHtcbiAgICByZXR1cm4gJ19sb2NhbC8nICsgZW5jb2RlVVJJQ29tcG9uZW50KGlkLnNsaWNlKDcpKTtcbiAgfVxuICByZXR1cm4gZW5jb2RlVVJJQ29tcG9uZW50KGlkKTtcbn1cblxuZnVuY3Rpb24gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKSB7XG4gIGlmICghZG9jLl9hdHRhY2htZW50cyB8fCAhT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubWFwKGZ1bmN0aW9uIChrZXkpIHtcbiAgICB2YXIgYXR0YWNobWVudCA9IGRvYy5fYXR0YWNobWVudHNba2V5XTtcbiAgICBpZiAoYXR0YWNobWVudC5kYXRhICYmIHR5cGVvZiBhdHRhY2htZW50LmRhdGEgIT09ICdzdHJpbmcnKSB7XG4gICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgYmxvYlRvQmFzZTY0KGF0dGFjaG1lbnQuZGF0YSwgcmVzb2x2ZSk7XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uIChiNjQpIHtcbiAgICAgICAgYXR0YWNobWVudC5kYXRhID0gYjY0O1xuICAgICAgfSk7XG4gICAgfVxuICB9KSk7XG59XG5cbmZ1bmN0aW9uIGhhc1VybFByZWZpeChvcHRzKSB7XG4gIGlmICghb3B0cy5wcmVmaXgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgdmFyIHByb3RvY29sID0gcGFyc2VVcmkob3B0cy5wcmVmaXgpLnByb3RvY29sO1xuICByZXR1cm4gcHJvdG9jb2wgPT09ICdodHRwJyB8fCBwcm90b2NvbCA9PT0gJ2h0dHBzJztcbn1cblxuLy8gR2V0IGFsbCB0aGUgaW5mb3JtYXRpb24geW91IHBvc3NpYmx5IGNhbiBhYm91dCB0aGUgVVJJIGdpdmVuIGJ5IG5hbWUgYW5kXG4vLyByZXR1cm4gaXQgYXMgYSBzdWl0YWJsZSBvYmplY3QuXG5mdW5jdGlvbiBnZXRIb3N0KG5hbWUsIG9wdHMpIHtcbiAgLy8gZW5jb2RlIGRiIG5hbWUgaWYgb3B0cy5wcmVmaXggaXMgYSB1cmwgKCM1NTc0KVxuICBpZiAoaGFzVXJsUHJlZml4KG9wdHMpKSB7XG4gICAgdmFyIGRiTmFtZSA9IG9wdHMubmFtZS5zdWJzdHIob3B0cy5wcmVmaXgubGVuZ3RoKTtcbiAgICAvLyBFbnN1cmUgcHJlZml4IGhhcyBhIHRyYWlsaW5nIHNsYXNoXG4gICAgdmFyIHByZWZpeCA9IG9wdHMucHJlZml4LnJlcGxhY2UoL1xcLz8kLywgJy8nKTtcbiAgICBuYW1lID0gcHJlZml4ICsgZW5jb2RlVVJJQ29tcG9uZW50KGRiTmFtZSk7XG4gIH1cblxuICB2YXIgdXJpID0gcGFyc2VVcmkobmFtZSk7XG4gIGlmICh1cmkudXNlciB8fCB1cmkucGFzc3dvcmQpIHtcbiAgICB1cmkuYXV0aCA9IHt1c2VybmFtZTogdXJpLnVzZXIsIHBhc3N3b3JkOiB1cmkucGFzc3dvcmR9O1xuICB9XG5cbiAgLy8gU3BsaXQgdGhlIHBhdGggcGFydCBvZiB0aGUgVVJJIGludG8gcGFydHMgdXNpbmcgJy8nIGFzIHRoZSBkZWxpbWl0ZXJcbiAgLy8gYWZ0ZXIgcmVtb3ZpbmcgYW55IGxlYWRpbmcgJy8nIGFuZCBhbnkgdHJhaWxpbmcgJy8nXG4gIHZhciBwYXJ0cyA9IHVyaS5wYXRoLnJlcGxhY2UoLyheXFwvfFxcLyQpL2csICcnKS5zcGxpdCgnLycpO1xuXG4gIHVyaS5kYiA9IHBhcnRzLnBvcCgpO1xuICAvLyBQcmV2ZW50IGRvdWJsZSBlbmNvZGluZyBvZiBVUkkgY29tcG9uZW50XG4gIGlmICh1cmkuZGIuaW5kZXhPZignJScpID09PSAtMSkge1xuICAgIHVyaS5kYiA9IGVuY29kZVVSSUNvbXBvbmVudCh1cmkuZGIpO1xuICB9XG5cbiAgdXJpLnBhdGggPSBwYXJ0cy5qb2luKCcvJyk7XG5cbiAgcmV0dXJuIHVyaTtcbn1cblxuLy8gR2VuZXJhdGUgYSBVUkwgd2l0aCB0aGUgaG9zdCBkYXRhIGdpdmVuIGJ5IG9wdHMgYW5kIHRoZSBnaXZlbiBwYXRoXG5mdW5jdGlvbiBnZW5EQlVybChvcHRzLCBwYXRoKSB7XG4gIHJldHVybiBnZW5Vcmwob3B0cywgb3B0cy5kYiArICcvJyArIHBhdGgpO1xufVxuXG4vLyBHZW5lcmF0ZSBhIFVSTCB3aXRoIHRoZSBob3N0IGRhdGEgZ2l2ZW4gYnkgb3B0cyBhbmQgdGhlIGdpdmVuIHBhdGhcbmZ1bmN0aW9uIGdlblVybChvcHRzLCBwYXRoKSB7XG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHZhciBwYXRoRGVsID0gIW9wdHMucGF0aCA/ICcnIDogJy8nO1xuXG4gIC8vIElmIHRoZSBob3N0IGFscmVhZHkgaGFzIGEgcGF0aCwgdGhlbiB3ZSBuZWVkIHRvIGhhdmUgYSBwYXRoIGRlbGltaXRlclxuICAvLyBPdGhlcndpc2UsIHRoZSBwYXRoIGRlbGltaXRlciBpcyB0aGUgZW1wdHkgc3RyaW5nXG4gIHJldHVybiBvcHRzLnByb3RvY29sICsgJzovLycgKyBvcHRzLmhvc3QgK1xuICAgICAgICAgKG9wdHMucG9ydCA/ICgnOicgKyBvcHRzLnBvcnQpIDogJycpICtcbiAgICAgICAgICcvJyArIG9wdHMucGF0aCArIHBhdGhEZWwgKyBwYXRoO1xufVxuXG5mdW5jdGlvbiBwYXJhbXNUb1N0cihwYXJhbXMpIHtcbiAgcmV0dXJuICc/JyArIE9iamVjdC5rZXlzKHBhcmFtcykubWFwKGZ1bmN0aW9uIChrKSB7XG4gICAgcmV0dXJuIGsgKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zW2tdKTtcbiAgfSkuam9pbignJicpO1xufVxuXG5mdW5jdGlvbiBzaG91bGRDYWNoZUJ1c3Qob3B0cykge1xuICB2YXIgdWEgPSAodHlwZW9mIG5hdmlnYXRvciAhPT0gJ3VuZGVmaW5lZCcgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudCkgP1xuICAgICAgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpIDogJyc7XG4gIHZhciBpc0lFID0gdWEuaW5kZXhPZignbXNpZScpICE9PSAtMTtcbiAgdmFyIGlzVHJpZGVudCA9IHVhLmluZGV4T2YoJ3RyaWRlbnQnKSAhPT0gLTE7XG4gIHZhciBpc0VkZ2UgPSB1YS5pbmRleE9mKCdlZGdlJykgIT09IC0xO1xuICB2YXIgaXNHRVQgPSAhKCdtZXRob2QnIGluIG9wdHMpIHx8IG9wdHMubWV0aG9kID09PSAnR0VUJztcbiAgcmV0dXJuIChpc0lFIHx8IGlzVHJpZGVudCB8fCBpc0VkZ2UpICYmIGlzR0VUO1xufVxuXG4vLyBJbXBsZW1lbnRzIHRoZSBQb3VjaERCIEFQSSBmb3IgZGVhbGluZyB3aXRoIENvdWNoREIgaW5zdGFuY2VzIG92ZXIgSFRUUFxuZnVuY3Rpb24gSHR0cFBvdWNoKG9wdHMsIGNhbGxiYWNrKSB7XG5cbiAgLy8gVGhlIGZ1bmN0aW9ucyB0aGF0IHdpbGwgYmUgcHVibGljbHkgYXZhaWxhYmxlIGZvciBIdHRwUG91Y2hcbiAgdmFyIGFwaSA9IHRoaXM7XG5cbiAgdmFyIGhvc3QgPSBnZXRIb3N0KG9wdHMubmFtZSwgb3B0cyk7XG4gIHZhciBkYlVybCA9IGdlbkRCVXJsKGhvc3QsICcnKTtcblxuICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgdmFyIG91ckZldGNoID0gZnVuY3Rpb24gKHVybCwgb3B0aW9ucykge1xuXG4gICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG4gICAgb3B0aW9ucy5oZWFkZXJzID0gb3B0aW9ucy5oZWFkZXJzIHx8IG5ldyBoKCk7XG5cbiAgICBvcHRpb25zLmNyZWRlbnRpYWxzID0gJ2luY2x1ZGUnO1xuXG4gICAgaWYgKG9wdHMuYXV0aCB8fCBob3N0LmF1dGgpIHtcbiAgICAgIHZhciBuQXV0aCA9IG9wdHMuYXV0aCB8fCBob3N0LmF1dGg7XG4gICAgICB2YXIgc3RyID0gbkF1dGgudXNlcm5hbWUgKyAnOicgKyBuQXV0aC5wYXNzd29yZDtcbiAgICAgIHZhciB0b2tlbiA9IHRoaXNCdG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChzdHIpKSk7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuc2V0KCdBdXRob3JpemF0aW9uJywgJ0Jhc2ljICcgKyB0b2tlbik7XG4gICAgfVxuXG4gICAgdmFyIGhlYWRlcnMgPSBvcHRzLmhlYWRlcnMgfHwge307XG4gICAgT2JqZWN0LmtleXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBvcHRpb25zLmhlYWRlcnMuYXBwZW5kKGtleSwgaGVhZGVyc1trZXldKTtcbiAgICB9KTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzaG91bGRDYWNoZUJ1c3Qob3B0aW9ucykpIHtcbiAgICAgIHVybCArPSAodXJsLmluZGV4T2YoJz8nKSA9PT0gLTEgPyAnPycgOiAnJicpICsgJ19ub25jZT0nICsgRGF0ZS5ub3coKTtcbiAgICB9XG5cbiAgICB2YXIgZmV0Y2hGdW4gPSBvcHRzLmZldGNoIHx8IGYkMTtcbiAgICByZXR1cm4gZmV0Y2hGdW4odXJsLCBvcHRpb25zKTtcbiAgfTtcblxuICBmdW5jdGlvbiBhZGFwdGVyRnVuJCQxKG5hbWUsIGZ1bikge1xuICAgIHJldHVybiBhZGFwdGVyRnVuKG5hbWUsIGdldEFyZ3VtZW50cyhmdW5jdGlvbiAoYXJncykge1xuICAgICAgc2V0dXAoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgcmV0dXJuIGZ1bi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlKSB7XG4gICAgICAgIHZhciBjYWxsYmFjayA9IGFyZ3MucG9wKCk7XG4gICAgICAgIGNhbGxiYWNrKGUpO1xuICAgICAgfSk7XG4gICAgfSkpLmJpbmQoYXBpKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoSlNPTih1cmwsIG9wdGlvbnMsIGNhbGxiYWNrKSB7XG5cbiAgICB2YXIgcmVzdWx0ID0ge307XG5cbiAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgICBvcHRpb25zLmhlYWRlcnMgPSBvcHRpb25zLmhlYWRlcnMgfHwgbmV3IGgoKTtcblxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzLmdldCgnQWNjZXB0JykpIHtcbiAgICAgIG9wdGlvbnMuaGVhZGVycy5zZXQoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIG91ckZldGNoKHVybCwgb3B0aW9ucykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJlc3VsdC5vayA9IHJlc3BvbnNlLm9rO1xuICAgICAgcmVzdWx0LnN0YXR1cyA9IHJlc3BvbnNlLnN0YXR1cztcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoanNvbikge1xuICAgICAgcmVzdWx0LmRhdGEgPSBqc29uO1xuICAgICAgaWYgKCFyZXN1bHQub2spIHtcbiAgICAgICAgcmVzdWx0LmRhdGEuc3RhdHVzID0gcmVzdWx0LnN0YXR1cztcbiAgICAgICAgdmFyIGVyciA9IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0LmRhdGEpO1xuICAgICAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgICAgICByZXR1cm4gY2FsbGJhY2soZXJyKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgIH1cbiAgICAgIH1cblxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmRhdGEpKSB7XG4gICAgICAgIHJlc3VsdC5kYXRhID0gcmVzdWx0LmRhdGEubWFwKGZ1bmN0aW9uICh2KSB7XG4gICAgICAgICAgaWYgKHYuZXJyb3IgfHwgdi5taXNzaW5nKSB7XG4gICAgICAgICAgICByZXR1cm4gZ2VuZXJhdGVFcnJvckZyb21SZXNwb25zZSh2KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHY7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAgIGNhbGxiYWNrKG51bGwsIHJlc3VsdC5kYXRhKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICB2YXIgc2V0dXBQcm9taXNlO1xuXG4gIGZ1bmN0aW9uIHNldHVwKCkge1xuICAgIGlmIChvcHRzLnNraXBfc2V0dXApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG5cbiAgICAvLyBJZiB0aGVyZSBpcyBhIHNldHVwIGluIHByb2Nlc3Mgb3IgcHJldmlvdXMgc3VjY2Vzc2Z1bCBzZXR1cFxuICAgIC8vIGRvbmUgdGhlbiB3ZSB3aWxsIHVzZSB0aGF0XG4gICAgLy8gSWYgcHJldmlvdXMgc2V0dXBzIGhhdmUgYmVlbiByZWplY3RlZCB3ZSB3aWxsIHRyeSBhZ2FpblxuICAgIGlmIChzZXR1cFByb21pc2UpIHtcbiAgICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gICAgfVxuXG4gICAgc2V0dXBQcm9taXNlID0gZmV0Y2hKU09OKGRiVXJsKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIC8vIERvZXNudCBleGlzdCwgY3JlYXRlIGl0XG4gICAgICAgIGV4cGxhaW5FcnJvcig0MDQsICdQb3VjaERCIGlzIGp1c3QgZGV0ZWN0aW5nIGlmIHRoZSByZW1vdGUgZXhpc3RzLicpO1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKGRiVXJsLCB7bWV0aG9kOiAnUFVUJ30pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgLy8gSWYgd2UgdHJ5IHRvIGNyZWF0ZSBhIGRhdGFiYXNlIHRoYXQgYWxyZWFkeSBleGlzdHMsIHNraXBwZWQgaW5cbiAgICAgIC8vIGlzdGFuYnVsIHNpbmNlIGl0cyBjYXRjaGluZyBhIHJhY2UgY29uZGl0aW9uLlxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZXJyICYmIGVyci5zdGF0dXMgJiYgZXJyLnN0YXR1cyA9PT0gNDEyKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGVycik7XG4gICAgfSk7XG5cbiAgICBzZXR1cFByb21pc2UuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgc2V0dXBQcm9taXNlID0gbnVsbDtcbiAgICB9KTtcblxuICAgIHJldHVybiBzZXR1cFByb21pc2U7XG4gIH1cblxuICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgIGNhbGxiYWNrKG51bGwsIGFwaSk7XG4gIH0pO1xuXG4gIGFwaS5fcmVtb3RlID0gdHJ1ZTtcblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBhcGkudHlwZSA9IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gJ2h0dHAnO1xuICB9O1xuXG4gIGFwaS5pZCA9IGFkYXB0ZXJGdW4kJDEoJ2lkJywgZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgb3VyRmV0Y2goZ2VuVXJsKGhvc3QsICcnKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHt9O1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgLy8gQmFkIHJlc3BvbnNlIG9yIG1pc3NpbmcgYHV1aWRgIHNob3VsZCBub3QgcHJldmVudCBJRCBnZW5lcmF0aW9uLlxuICAgICAgdmFyIHV1aWQkJDEgPSAocmVzdWx0ICYmIHJlc3VsdC51dWlkKSA/XG4gICAgICAgICAgKHJlc3VsdC51dWlkICsgaG9zdC5kYikgOiBnZW5EQlVybChob3N0LCAnJyk7XG4gICAgICBjYWxsYmFjayhudWxsLCB1dWlkJCQxKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gU2VuZHMgYSBQT1NUIHJlcXVlc3QgdG8gdGhlIGhvc3QgY2FsbGluZyB0aGUgY291Y2hkYiBfY29tcGFjdCBmdW5jdGlvblxuICAvLyAgICB2ZXJzaW9uOiBUaGUgdmVyc2lvbiBvZiBDb3VjaERCIGl0IGlzIHJ1bm5pbmdcbiAgYXBpLmNvbXBhY3QgPSBhZGFwdGVyRnVuJCQxKCdjb21wYWN0JywgZnVuY3Rpb24gKG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIG9wdHMgPSBjbG9uZShvcHRzKTtcblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2NvbXBhY3QnKSwge21ldGhvZDogJ1BPU1QnfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICBmdW5jdGlvbiBwaW5nKCkge1xuICAgICAgICBhcGkuaW5mbyhmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBDb3VjaERCIG1heSBzZW5kIGEgXCJjb21wYWN0X3J1bm5pbmc6dHJ1ZVwiIGlmIGl0J3NcbiAgICAgICAgICAvLyBhbHJlYWR5IGNvbXBhY3RpbmcuIFBvdWNoREIgU2VydmVyIGRvZXNuJ3QuXG4gICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgICBpZiAocmVzICYmICFyZXMuY29tcGFjdF9ydW5uaW5nKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dChwaW5nLCBvcHRzLmludGVydmFsIHx8IDIwMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIC8vIFBpbmcgdGhlIGh0dHAgaWYgaXQncyBmaW5pc2hlZCBjb21wYWN0aW9uXG4gICAgICBwaW5nKCk7XG4gICAgfSk7XG4gIH0pO1xuXG4gIGFwaS5idWxrR2V0ID0gYWRhcHRlckZ1bignYnVsa0dldCcsIGZ1bmN0aW9uIChvcHRzLCBjYWxsYmFjaykge1xuICAgIHZhciBzZWxmID0gdGhpcztcblxuICAgIGZ1bmN0aW9uIGRvQnVsa0dldChjYikge1xuICAgICAgdmFyIHBhcmFtcyA9IHt9O1xuICAgICAgaWYgKG9wdHMucmV2cykge1xuICAgICAgICBwYXJhbXMucmV2cyA9IHRydWU7XG4gICAgICB9XG4gICAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG9wdHMubGF0ZXN0KSB7XG4gICAgICAgIHBhcmFtcy5sYXRlc3QgPSB0cnVlO1xuICAgICAgfVxuICAgICAgZmV0Y2hKU09OKGdlbkRCVXJsKGhvc3QsICdfYnVsa19nZXQnICsgcGFyYW1zVG9TdHIocGFyYW1zKSksIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgZG9jczogb3B0cy5kb2NzfSlcbiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBpZiAob3B0cy5hdHRhY2htZW50cyAmJiBvcHRzLmJpbmFyeSkge1xuICAgICAgICAgIHJlc3VsdC5kYXRhLnJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICByZXMuZG9jcy5mb3JFYWNoKHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjYihudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgICB9KS5jYXRjaChjYik7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICBmdW5jdGlvbiBkb0J1bGtHZXRTaGltKCkge1xuICAgICAgLy8gYXZvaWQgXCJ1cmwgdG9vIGxvbmcgZXJyb3JcIiBieSBzcGxpdHRpbmcgdXAgaW50byBtdWx0aXBsZSByZXF1ZXN0c1xuICAgICAgdmFyIGJhdGNoU2l6ZSA9IE1BWF9TSU1VTFRBTkVPVVNfUkVWUztcbiAgICAgIHZhciBudW1CYXRjaGVzID0gTWF0aC5jZWlsKG9wdHMuZG9jcy5sZW5ndGggLyBiYXRjaFNpemUpO1xuICAgICAgdmFyIG51bURvbmUgPSAwO1xuICAgICAgdmFyIHJlc3VsdHMgPSBuZXcgQXJyYXkobnVtQmF0Y2hlcyk7XG5cbiAgICAgIGZ1bmN0aW9uIG9uUmVzdWx0KGJhdGNoTnVtKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgICAvLyBlcnIgaXMgaW1wb3NzaWJsZSBiZWNhdXNlIHNoaW0gcmV0dXJucyBhIGxpc3Qgb2YgZXJycyBpbiB0aGF0IGNhc2VcbiAgICAgICAgICByZXN1bHRzW2JhdGNoTnVtXSA9IHJlcy5yZXN1bHRzO1xuICAgICAgICAgIGlmICgrK251bURvbmUgPT09IG51bUJhdGNoZXMpIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKG51bGwsIHtyZXN1bHRzOiBmbGF0dGVuKHJlc3VsdHMpfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfVxuXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG51bUJhdGNoZXM7IGkrKykge1xuICAgICAgICB2YXIgc3ViT3B0cyA9IHBpY2sob3B0cywgWydyZXZzJywgJ2F0dGFjaG1lbnRzJywgJ2JpbmFyeScsICdsYXRlc3QnXSk7XG4gICAgICAgIHN1Yk9wdHMuZG9jcyA9IG9wdHMuZG9jcy5zbGljZShpICogYmF0Y2hTaXplLFxuICAgICAgICAgIE1hdGgubWluKG9wdHMuZG9jcy5sZW5ndGgsIChpICsgMSkgKiBiYXRjaFNpemUpKTtcbiAgICAgICAgYnVsa0dldChzZWxmLCBzdWJPcHRzLCBvblJlc3VsdChpKSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gbWFyayB0aGUgd2hvbGUgZGF0YWJhc2UgYXMgZWl0aGVyIHN1cHBvcnRpbmcgb3Igbm90IHN1cHBvcnRpbmcgX2J1bGtfZ2V0XG4gICAgdmFyIGRiVXJsID0gZ2VuVXJsKGhvc3QsICcnKTtcbiAgICB2YXIgc3VwcG9ydHNCdWxrR2V0ID0gc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXTtcblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgaWYgKHR5cGVvZiBzdXBwb3J0c0J1bGtHZXQgIT09ICdib29sZWFuJykge1xuICAgICAgLy8gY2hlY2sgaWYgdGhpcyBkYXRhYmFzZSBzdXBwb3J0cyBfYnVsa19nZXRcbiAgICAgIGRvQnVsa0dldChmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHN1cHBvcnRzQnVsa0dldE1hcFtkYlVybF0gPSBmYWxzZTtcbiAgICAgICAgICBleHBsYWluRXJyb3IoXG4gICAgICAgICAgICBlcnIuc3RhdHVzLFxuICAgICAgICAgICAgJ1BvdWNoREIgaXMganVzdCBkZXRlY3RpbmcgaWYgdGhlIHJlbW90ZSAnICtcbiAgICAgICAgICAgICdzdXBwb3J0cyB0aGUgX2J1bGtfZ2V0IEFQSS4nXG4gICAgICAgICAgKTtcbiAgICAgICAgICBkb0J1bGtHZXRTaGltKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgc3VwcG9ydHNCdWxrR2V0TWFwW2RiVXJsXSA9IHRydWU7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0c0J1bGtHZXQpIHtcbiAgICAgIGRvQnVsa0dldChjYWxsYmFjayk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGRvQnVsa0dldFNoaW0oKTtcbiAgICB9XG4gIH0pO1xuXG4gIC8vIENhbGxzIEdFVCBvbiB0aGUgaG9zdCwgd2hpY2ggZ2V0cyBiYWNrIGEgSlNPTiBzdHJpbmcgY29udGFpbmluZ1xuICAvLyAgICBjb3VjaGRiOiBBIHdlbGNvbWUgc3RyaW5nXG4gIC8vICAgIHZlcnNpb246IFRoZSB2ZXJzaW9uIG9mIENvdWNoREIgaXQgaXMgcnVubmluZ1xuICBhcGkuX2luZm8gPSBmdW5jdGlvbiAoY2FsbGJhY2spIHtcbiAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIG91ckZldGNoKGdlbkRCVXJsKGhvc3QsICcnKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoaW5mbykge1xuICAgICAgaW5mby5ob3N0ID0gZ2VuREJVcmwoaG9zdCwgJycpO1xuICAgICAgY2FsbGJhY2sobnVsbCwgaW5mbyk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9O1xuXG4gIGFwaS5mZXRjaCA9IGZ1bmN0aW9uIChwYXRoLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgdXJsID0gcGF0aC5zdWJzdHJpbmcoMCwgMSkgPT09ICcvJyA/XG4gICAgICAgIGdlblVybChob3N0LCBwYXRoLnN1YnN0cmluZygxKSkgOlxuICAgICAgICBnZW5EQlVybChob3N0LCBwYXRoKTtcbiAgICAgIHJldHVybiBvdXJGZXRjaCh1cmwsIG9wdGlvbnMpO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQgZnJvbSB0aGUgZGF0YWJhc2UgZ2l2ZW4gYnkgaG9zdC5cbiAgLy8gVGhlIGlkIGNvdWxkIGJlIHNvbGVseSB0aGUgX2lkIGluIHRoZSBkYXRhYmFzZSwgb3IgaXQgbWF5IGJlIGFcbiAgLy8gX2Rlc2lnbi9JRCBvciBfbG9jYWwvSUQgcGF0aFxuICBhcGkuZ2V0ID0gYWRhcHRlckZ1biQkMSgnZ2V0JywgZnVuY3Rpb24gKGlkLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIC8vIElmIG5vIG9wdGlvbnMgd2VyZSBnaXZlbiwgc2V0IHRoZSBjYWxsYmFjayB0byB0aGUgc2Vjb25kIHBhcmFtZXRlclxuICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgY2FsbGJhY2sgPSBvcHRzO1xuICAgICAgb3B0cyA9IHt9O1xuICAgIH1cbiAgICBvcHRzID0gY2xvbmUob3B0cyk7XG5cbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBHRVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSB7fTtcblxuICAgIGlmIChvcHRzLnJldnMpIHtcbiAgICAgIHBhcmFtcy5yZXZzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5yZXZzX2luZm8pIHtcbiAgICAgIHBhcmFtcy5yZXZzX2luZm8gPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmxhdGVzdCkge1xuICAgICAgcGFyYW1zLmxhdGVzdCA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMub3Blbl9yZXZzKSB7XG4gICAgICBpZiAob3B0cy5vcGVuX3JldnMgIT09IFwiYWxsXCIpIHtcbiAgICAgICAgb3B0cy5vcGVuX3JldnMgPSBKU09OLnN0cmluZ2lmeShvcHRzLm9wZW5fcmV2cyk7XG4gICAgICB9XG4gICAgICBwYXJhbXMub3Blbl9yZXZzID0gb3B0cy5vcGVuX3JldnM7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMucmV2KSB7XG4gICAgICBwYXJhbXMucmV2ID0gb3B0cy5yZXY7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gb3B0cy5jb25mbGljdHM7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSBvcHRzLnVwZGF0ZV9zZXE7XG4gICAgfVxuXG4gICAgaWQgPSBlbmNvZGVEb2NJZChpZCk7XG5cbiAgICBmdW5jdGlvbiBmZXRjaEF0dGFjaG1lbnRzKGRvYykge1xuICAgICAgdmFyIGF0dHMgPSBkb2MuX2F0dGFjaG1lbnRzO1xuICAgICAgdmFyIGZpbGVuYW1lcyA9IGF0dHMgJiYgT2JqZWN0LmtleXMoYXR0cyk7XG4gICAgICBpZiAoIWF0dHMgfHwgIWZpbGVuYW1lcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gd2UgZmV0Y2ggdGhlc2UgbWFudWFsbHkgaW4gc2VwYXJhdGUgWEhScywgYmVjYXVzZVxuICAgICAgLy8gU3luYyBHYXRld2F5IHdvdWxkIG5vcm1hbGx5IHNlbmQgaXQgYmFjayBhcyBtdWx0aXBhcnQvbWl4ZWQsXG4gICAgICAvLyB3aGljaCB3ZSBjYW5ub3QgcGFyc2UuIEFsc28sIHRoaXMgaXMgbW9yZSBlZmZpY2llbnQgdGhhblxuICAgICAgLy8gcmVjZWl2aW5nIGF0dGFjaG1lbnRzIGFzIGJhc2U2NC1lbmNvZGVkIHN0cmluZ3MuXG4gICAgICBmdW5jdGlvbiBmZXRjaERhdGEoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICB2YXIgcGF0aCA9IGVuY29kZURvY0lkKGRvYy5faWQpICsgJy8nICsgZW5jb2RlQXR0YWNobWVudElkKGZpbGVuYW1lKSArXG4gICAgICAgICAgICAnP3Jldj0nICsgZG9jLl9yZXY7XG4gICAgICAgIHJldHVybiBvdXJGZXRjaChnZW5EQlVybChob3N0LCBwYXRoKSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgICBpZiAoJ2J1ZmZlcicgaW4gcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAgICAgaWYgKG9wdHMuYmluYXJ5KSB7XG4gICAgICAgICAgICB2YXIgdHlwZUZpZWxkRGVzY3JpcHRvciA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoYmxvYi5fX3Byb3RvX18sICd0eXBlJyk7XG4gICAgICAgICAgICBpZiAoIXR5cGVGaWVsZERlc2NyaXB0b3IgfHwgdHlwZUZpZWxkRGVzY3JpcHRvci5zZXQpIHtcbiAgICAgICAgICAgICAgYmxvYi50eXBlID0gYXR0LmNvbnRlbnRfdHlwZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBibG9iO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUpIHtcbiAgICAgICAgICAgIGJsb2JUb0Jhc2U2NChibG9iLCByZXNvbHZlKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgIGRlbGV0ZSBhdHQuc3R1YjtcbiAgICAgICAgICBkZWxldGUgYXR0Lmxlbmd0aDtcbiAgICAgICAgICBhdHQuZGF0YSA9IGRhdGE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIgcHJvbWlzZUZhY3RvcmllcyA9IGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoRGF0YShmaWxlbmFtZSk7XG4gICAgICAgIH07XG4gICAgICB9KTtcblxuICAgICAgLy8gVGhpcyBsaW1pdHMgdGhlIG51bWJlciBvZiBwYXJhbGxlbCB4aHIgcmVxdWVzdHMgdG8gNSBhbnkgdGltZVxuICAgICAgLy8gdG8gYXZvaWQgaXNzdWVzIHdpdGggbWF4aW11bSBicm93c2VyIHJlcXVlc3QgbGltaXRzXG4gICAgICByZXR1cm4gcG9vbChwcm9taXNlRmFjdG9yaWVzLCA1KTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBmZXRjaEFsbEF0dGFjaG1lbnRzKGRvY09yRG9jcykge1xuICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZG9jT3JEb2NzKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jT3JEb2NzLm1hcChmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5vaykge1xuICAgICAgICAgICAgcmV0dXJuIGZldGNoQXR0YWNobWVudHMoZG9jLm9rKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmZXRjaEF0dGFjaG1lbnRzKGRvY09yRG9jcyk7XG4gICAgfVxuXG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGlkICsgcGFyYW1zVG9TdHIocGFyYW1zKSk7XG4gICAgZmV0Y2hKU09OKHVybCkudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGZldGNoQWxsQXR0YWNobWVudHMocmVzLmRhdGEpO1xuICAgICAgICB9XG4gICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzLmRhdGEpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGUpIHtcbiAgICAgIGUuZG9jSWQgPSBpZDtcbiAgICAgIGNhbGxiYWNrKGUpO1xuICAgIH0pO1xuICB9KTtcblxuXG4gIC8vIERlbGV0ZSB0aGUgZG9jdW1lbnQgZ2l2ZW4gYnkgZG9jIGZyb20gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5yZW1vdmUgPSBhZGFwdGVyRnVuJCQxKCdyZW1vdmUnLCBmdW5jdGlvbiAoZG9jT3JJZCwgb3B0c09yUmV2LCBvcHRzLCBjYikge1xuICAgIHZhciBkb2M7XG4gICAgaWYgKHR5cGVvZiBvcHRzT3JSZXYgPT09ICdzdHJpbmcnKSB7XG4gICAgICAvLyBpZCwgcmV2LCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0ge1xuICAgICAgICBfaWQ6IGRvY09ySWQsXG4gICAgICAgIF9yZXY6IG9wdHNPclJldlxuICAgICAgfTtcbiAgICAgIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSB7fTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgLy8gZG9jLCBvcHRzLCBjYWxsYmFjayBzdHlsZVxuICAgICAgZG9jID0gZG9jT3JJZDtcbiAgICAgIGlmICh0eXBlb2Ygb3B0c09yUmV2ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGNiID0gb3B0c09yUmV2O1xuICAgICAgICBvcHRzID0ge307XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjYiA9IG9wdHM7XG4gICAgICAgIG9wdHMgPSBvcHRzT3JSZXY7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdmFyIHJldiA9IChkb2MuX3JldiB8fCBvcHRzLnJldik7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvYy5faWQpKSArICc/cmV2PScgKyByZXY7XG5cbiAgICBmZXRjaEpTT04odXJsLCB7bWV0aG9kOiAnREVMRVRFJ30sIGNiKS5jYXRjaChjYik7XG4gIH0pO1xuXG4gIGZ1bmN0aW9uIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpIHtcbiAgICByZXR1cm4gYXR0YWNobWVudElkLnNwbGl0KFwiL1wiKS5tYXAoZW5jb2RlVVJJQ29tcG9uZW50KS5qb2luKFwiL1wiKTtcbiAgfVxuXG4gIC8vIEdldCB0aGUgYXR0YWNobWVudFxuICBhcGkuZ2V0QXR0YWNobWVudCA9IGFkYXB0ZXJGdW4kJDEoJ2dldEF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsIGF0dGFjaG1lbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuICAgIHZhciBwYXJhbXMgPSBvcHRzLnJldiA/ICgnP3Jldj0nICsgb3B0cy5yZXYpIDogJyc7XG4gICAgdmFyIHVybCA9IGdlbkRCVXJsKGhvc3QsIGVuY29kZURvY0lkKGRvY0lkKSkgKyAnLycgK1xuICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSArIHBhcmFtcztcbiAgICB2YXIgY29udGVudFR5cGU7XG4gICAgb3VyRmV0Y2godXJsLCB7bWV0aG9kOiAnR0VUJ30pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgcmVzcG9uc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAodHlwZW9mIHByb2Nlc3MgIT09ICd1bmRlZmluZWQnICYmICFwcm9jZXNzLmJyb3dzZXIgJiYgdHlwZW9mIHJlc3BvbnNlLmJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5idWZmZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIHJldHVybiByZXNwb25zZS5ibG9iKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KS50aGVuKGZ1bmN0aW9uIChibG9iKSB7XG4gICAgICAvLyBUT0RPOiBhbHNvIHJlbW92ZVxuICAgICAgaWYgKHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAhcHJvY2Vzcy5icm93c2VyKSB7XG4gICAgICAgIGJsb2IudHlwZSA9IGNvbnRlbnRUeXBlO1xuICAgICAgfVxuICAgICAgY2FsbGJhY2sobnVsbCwgYmxvYik7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gUmVtb3ZlIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IHRoZSBpZCBhbmQgcmV2XG4gIGFwaS5yZW1vdmVBdHRhY2htZW50ID0gIGFkYXB0ZXJGdW4kJDEoJ3JlbW92ZUF0dGFjaG1lbnQnLCBmdW5jdGlvbiAoZG9jSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaykge1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBlbmNvZGVEb2NJZChkb2NJZCkgKyAnLycgK1xuICAgICAgICAgICAgICAgICAgICAgICBlbmNvZGVBdHRhY2htZW50SWQoYXR0YWNobWVudElkKSkgKyAnP3Jldj0nICsgcmV2O1xuICAgIGZldGNoSlNPTih1cmwsIHttZXRob2Q6ICdERUxFVEUnfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gQWRkIHRoZSBhdHRhY2htZW50IGdpdmVuIGJ5IGJsb2IgYW5kIGl0cyBjb250ZW50VHlwZSBwcm9wZXJ0eVxuICAvLyB0byB0aGUgZG9jdW1lbnQgd2l0aCB0aGUgZ2l2ZW4gaWQsIHRoZSByZXZpc2lvbiBnaXZlbiBieSByZXYsIGFuZFxuICAvLyBhZGQgaXQgdG8gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIGFwaS5wdXRBdHRhY2htZW50ID0gYWRhcHRlckZ1biQkMSgncHV0QXR0YWNobWVudCcsIGZ1bmN0aW9uIChkb2NJZCwgYXR0YWNobWVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2LCBibG9iLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZSwgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gdHlwZTtcbiAgICAgIHR5cGUgPSBibG9iO1xuICAgICAgYmxvYiA9IHJldjtcbiAgICAgIHJldiA9IG51bGw7XG4gICAgfVxuICAgIHZhciBpZCA9IGVuY29kZURvY0lkKGRvY0lkKSArICcvJyArIGVuY29kZUF0dGFjaG1lbnRJZChhdHRhY2htZW50SWQpO1xuICAgIHZhciB1cmwgPSBnZW5EQlVybChob3N0LCBpZCk7XG4gICAgaWYgKHJldikge1xuICAgICAgdXJsICs9ICc/cmV2PScgKyByZXY7XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBibG9iID09PSAnc3RyaW5nJykge1xuICAgICAgLy8gaW5wdXQgaXMgYXNzdW1lZCB0byBiZSBhIGJhc2U2NCBzdHJpbmdcbiAgICAgIHZhciBiaW5hcnk7XG4gICAgICB0cnkge1xuICAgICAgICBiaW5hcnkgPSB0aGlzQXRvYihibG9iKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICByZXR1cm4gY2FsbGJhY2soY3JlYXRlRXJyb3IoQkFEX0FSRyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdBdHRhY2htZW50IGlzIG5vdCBhIHZhbGlkIGJhc2U2NCBzdHJpbmcnKSk7XG4gICAgICB9XG4gICAgICBibG9iID0gYmluYXJ5ID8gYmluU3RyaW5nVG9CbHVmZmVyKGJpbmFyeSwgdHlwZSkgOiAnJztcbiAgICB9XG5cbiAgICAvLyBBZGQgdGhlIGF0dGFjaG1lbnRcbiAgICBmZXRjaEpTT04odXJsLCB7XG4gICAgICBoZWFkZXJzOiBuZXcgaCh7J0NvbnRlbnQtVHlwZSc6IHR5cGV9KSxcbiAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICBib2R5OiBibG9iXG4gICAgfSwgY2FsbGJhY2spLmNhdGNoKGNhbGxiYWNrKTtcbiAgfSk7XG5cbiAgLy8gVXBkYXRlL2NyZWF0ZSBtdWx0aXBsZSBkb2N1bWVudHMgZ2l2ZW4gYnkgcmVxIGluIHRoZSBkYXRhYmFzZVxuICAvLyBnaXZlbiBieSBob3N0LlxuICBhcGkuX2J1bGtEb2NzID0gZnVuY3Rpb24gKHJlcSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAvLyBJZiBuZXdfZWRpdHM9ZmFsc2UgdGhlbiBpdCBwcmV2ZW50cyB0aGUgZGF0YWJhc2UgZnJvbSBjcmVhdGluZ1xuICAgIC8vIG5ldyByZXZpc2lvbiBudW1iZXJzIGZvciB0aGUgZG9jdW1lbnRzLiBJbnN0ZWFkIGl0IGp1c3QgdXNlc1xuICAgIC8vIHRoZSBvbGQgb25lcy4gVGhpcyBpcyB1c2VkIGluIGRhdGFiYXNlIHJlcGxpY2F0aW9uLlxuICAgIHJlcS5uZXdfZWRpdHMgPSBvcHRzLm5ld19lZGl0cztcblxuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVxLmRvY3MubWFwKHByZXByb2Nlc3NBdHRhY2htZW50cyQxKSk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBVcGRhdGUvY3JlYXRlIHRoZSBkb2N1bWVudHNcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJ19idWxrX2RvY3MnKSwge1xuICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkocmVxKVxuICAgICAgfSwgY2FsbGJhY2spO1xuICAgIH0pLmNhdGNoKGNhbGxiYWNrKTtcbiAgfTtcblxuXG4gIC8vIFVwZGF0ZS9jcmVhdGUgZG9jdW1lbnRcbiAgYXBpLl9wdXQgPSBmdW5jdGlvbiAoZG9jLCBvcHRzLCBjYWxsYmFjaykge1xuICAgIHNldHVwKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcHJlcHJvY2Vzc0F0dGFjaG1lbnRzJDEoZG9jKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgZW5jb2RlRG9jSWQoZG9jLl9pZCkpLCB7XG4gICAgICAgIG1ldGhvZDogJ1BVVCcsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGRvYylcbiAgICAgIH0pO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgY2FsbGJhY2sobnVsbCwgcmVzdWx0LmRhdGEpO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGVyci5kb2NJZCA9IGRvYyAmJiBkb2MuX2lkO1xuICAgICAgY2FsbGJhY2soZXJyKTtcbiAgICB9KTtcbiAgfTtcblxuXG4gIC8vIEdldCBhIGxpc3Rpbmcgb2YgdGhlIGRvY3VtZW50cyBpbiB0aGUgZGF0YWJhc2UgZ2l2ZW5cbiAgLy8gYnkgaG9zdCBhbmQgb3JkZXJlZCBieSBpbmNyZWFzaW5nIGlkLlxuICBhcGkuYWxsRG9jcyA9IGFkYXB0ZXJGdW4kJDEoJ2FsbERvY3MnLCBmdW5jdGlvbiAob3B0cywgY2FsbGJhY2spIHtcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgLy8gTGlzdCBvZiBwYXJhbWV0ZXJzIHRvIGFkZCB0byB0aGUgR0VUIHJlcXVlc3RcbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgdmFyIGJvZHk7XG4gICAgdmFyIG1ldGhvZCA9ICdHRVQnO1xuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICBwYXJhbXMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZGVzY2VuZGluZykge1xuICAgICAgcGFyYW1zLmRlc2NlbmRpbmcgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgcGFyYW1zLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgfVxuXG4gICAgLy8gYWRkZWQgaW4gQ291Y2hEQiAxLjYuMFxuICAgIGlmIChvcHRzLmF0dGFjaG1lbnRzKSB7XG4gICAgICBwYXJhbXMuYXR0YWNobWVudHMgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmIChvcHRzLmtleSkge1xuICAgICAgcGFyYW1zLmtleSA9IEpTT04uc3RyaW5naWZ5KG9wdHMua2V5KTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydF9rZXkpIHtcbiAgICAgIG9wdHMuc3RhcnRrZXkgPSBvcHRzLnN0YXJ0X2tleTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5zdGFydGtleSkge1xuICAgICAgcGFyYW1zLnN0YXJ0a2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zdGFydGtleSk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5kX2tleSkge1xuICAgICAgb3B0cy5lbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZW5ka2V5KSB7XG4gICAgICBwYXJhbXMuZW5ka2V5ID0gSlNPTi5zdHJpbmdpZnkob3B0cy5lbmRrZXkpO1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5pbmNsdXNpdmVfZW5kICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLmluY2x1c2l2ZV9lbmQgPSAhIW9wdHMuaW5jbHVzaXZlX2VuZDtcbiAgICB9XG5cbiAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICBwYXJhbXMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgIH1cblxuICAgIGlmICh0eXBlb2Ygb3B0cy5za2lwICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgcGFyYW1zLnNraXAgPSBvcHRzLnNraXA7XG4gICAgfVxuXG4gICAgdmFyIHBhcmFtU3RyID0gcGFyYW1zVG9TdHIocGFyYW1zKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5rZXlzICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgbWV0aG9kID0gJ1BPU1QnO1xuICAgICAgYm9keSA9IHtrZXlzOiBvcHRzLmtleXN9O1xuICAgIH1cblxuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX2FsbF9kb2NzJyArIHBhcmFtU3RyKSwge1xuICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXN1bHQpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlc3VsdC5kYXRhLnJvd3MuZm9yRWFjaChyZWFkQXR0YWNobWVudHNBc0Jsb2JPckJ1ZmZlcik7XG4gICAgICB9XG4gICAgICBjYWxsYmFjayhudWxsLCByZXN1bHQuZGF0YSk7XG4gICAgfSkuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICAvLyBHZXQgYSBsaXN0IG9mIGNoYW5nZXMgbWFkZSB0byBkb2N1bWVudHMgaW4gdGhlIGRhdGFiYXNlIGdpdmVuIGJ5IGhvc3QuXG4gIC8vIFRPRE8gQWNjb3JkaW5nIHRvIHRoZSBSRUFETUUsIHRoZXJlIHNob3VsZCBiZSB0d28gb3RoZXIgbWV0aG9kcyBoZXJlLFxuICAvLyBhcGkuY2hhbmdlcy5hZGRMaXN0ZW5lciBhbmQgYXBpLmNoYW5nZXMucmVtb3ZlTGlzdGVuZXIuXG4gIGFwaS5fY2hhbmdlcyA9IGZ1bmN0aW9uIChvcHRzKSB7XG5cbiAgICAvLyBXZSBpbnRlcm5hbGx5IHBhZ2UgdGhlIHJlc3VsdHMgb2YgYSBjaGFuZ2VzIHJlcXVlc3QsIHRoaXMgbWVhbnNcbiAgICAvLyBpZiB0aGVyZSBpcyBhIGxhcmdlIHNldCBvZiBjaGFuZ2VzIHRvIGJlIHJldHVybmVkIHdlIGNhbiBzdGFydFxuICAgIC8vIHByb2Nlc3NpbmcgdGhlbSBxdWlja2VyIGluc3RlYWQgb2Ygd2FpdGluZyBvbiB0aGUgZW50aXJlXG4gICAgLy8gc2V0IG9mIGNoYW5nZXMgdG8gcmV0dXJuIGFuZCBhdHRlbXB0aW5nIHRvIHByb2Nlc3MgdGhlbSBhdCBvbmNlXG4gICAgdmFyIGJhdGNoU2l6ZSA9ICdiYXRjaF9zaXplJyBpbiBvcHRzID8gb3B0cy5iYXRjaF9zaXplIDogQ0hBTkdFU19CQVRDSF9TSVpFO1xuXG4gICAgb3B0cyA9IGNsb25lKG9wdHMpO1xuXG4gICAgaWYgKG9wdHMuY29udGludW91cyAmJiAhKCdoZWFydGJlYXQnIGluIG9wdHMpKSB7XG4gICAgICBvcHRzLmhlYXJ0YmVhdCA9IERFRkFVTFRfSEVBUlRCRUFUO1xuICAgIH1cblxuICAgIHZhciByZXF1ZXN0VGltZW91dCA9ICgndGltZW91dCcgaW4gb3B0cykgPyBvcHRzLnRpbWVvdXQgOiAzMCAqIDEwMDA7XG5cbiAgICAvLyBlbnN1cmUgQ0hBTkdFU19USU1FT1VUX0JVRkZFUiBhcHBsaWVzXG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCAmJlxuICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy50aW1lb3V0KSA8IENIQU5HRVNfVElNRU9VVF9CVUZGRVIpIHtcbiAgICAgICAgcmVxdWVzdFRpbWVvdXQgPSBvcHRzLnRpbWVvdXQgKyBDSEFOR0VTX1RJTUVPVVRfQlVGRkVSO1xuICAgIH1cblxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzICYmIG9wdHMuaGVhcnRiZWF0ICYmXG4gICAgICAgKHJlcXVlc3RUaW1lb3V0IC0gb3B0cy5oZWFydGJlYXQpIDwgQ0hBTkdFU19USU1FT1VUX0JVRkZFUikge1xuICAgICAgICByZXF1ZXN0VGltZW91dCA9IG9wdHMuaGVhcnRiZWF0ICsgQ0hBTkdFU19USU1FT1VUX0JVRkZFUjtcbiAgICB9XG5cbiAgICB2YXIgcGFyYW1zID0ge307XG4gICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRzICYmIG9wdHMudGltZW91dCkge1xuICAgICAgcGFyYW1zLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgfVxuXG4gICAgdmFyIGxpbWl0ID0gKHR5cGVvZiBvcHRzLmxpbWl0ICE9PSAndW5kZWZpbmVkJykgPyBvcHRzLmxpbWl0IDogZmFsc2U7XG4gICAgdmFyIGxlZnRUb0ZldGNoID0gbGltaXQ7XG5cbiAgICBpZiAob3B0cy5zdHlsZSkge1xuICAgICAgcGFyYW1zLnN0eWxlID0gb3B0cy5zdHlsZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5pbmNsdWRlX2RvY3MgfHwgb3B0cy5maWx0ZXIgJiYgdHlwZW9mIG9wdHMuZmlsdGVyID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBwYXJhbXMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5hdHRhY2htZW50cykge1xuICAgICAgcGFyYW1zLmF0dGFjaG1lbnRzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5jb250aW51b3VzKSB7XG4gICAgICBwYXJhbXMuZmVlZCA9ICdsb25ncG9sbCc7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuc2VxX2ludGVydmFsKSB7XG4gICAgICBwYXJhbXMuc2VxX2ludGVydmFsID0gb3B0cy5zZXFfaW50ZXJ2YWw7XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuY29uZmxpY3RzKSB7XG4gICAgICBwYXJhbXMuY29uZmxpY3RzID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICBwYXJhbXMuZGVzY2VuZGluZyA9IHRydWU7XG4gICAgfVxuXG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKG9wdHMudXBkYXRlX3NlcSkge1xuICAgICAgcGFyYW1zLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgIH1cblxuICAgIGlmICgnaGVhcnRiZWF0JyBpbiBvcHRzKSB7XG4gICAgICAvLyBJZiB0aGUgaGVhcnRiZWF0IHZhbHVlIGlzIGZhbHNlLCBpdCBkaXNhYmxlcyB0aGUgZGVmYXVsdCBoZWFydGJlYXRcbiAgICAgIGlmIChvcHRzLmhlYXJ0YmVhdCkge1xuICAgICAgICBwYXJhbXMuaGVhcnRiZWF0ID0gb3B0cy5oZWFydGJlYXQ7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKG9wdHMuZmlsdGVyICYmIHR5cGVvZiBvcHRzLmZpbHRlciA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSBvcHRzLmZpbHRlcjtcbiAgICB9XG5cbiAgICBpZiAob3B0cy52aWV3ICYmIHR5cGVvZiBvcHRzLnZpZXcgPT09ICdzdHJpbmcnKSB7XG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ192aWV3JztcbiAgICAgIHBhcmFtcy52aWV3ID0gb3B0cy52aWV3O1xuICAgIH1cblxuICAgIC8vIElmIG9wdHMucXVlcnlfcGFyYW1zIGV4aXN0cywgcGFzcyBpdCB0aHJvdWdoIHRvIHRoZSBjaGFuZ2VzIHJlcXVlc3QuXG4gICAgLy8gVGhlc2UgcGFyYW1ldGVycyBtYXkgYmUgdXNlZCBieSB0aGUgZmlsdGVyIG9uIHRoZSBzb3VyY2UgZGF0YWJhc2UuXG4gICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zICYmIHR5cGVvZiBvcHRzLnF1ZXJ5X3BhcmFtcyA9PT0gJ29iamVjdCcpIHtcbiAgICAgIGZvciAodmFyIHBhcmFtX25hbWUgaW4gb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGVsc2UgKi9cbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvcHRzLnF1ZXJ5X3BhcmFtcywgcGFyYW1fbmFtZSkpIHtcbiAgICAgICAgICBwYXJhbXNbcGFyYW1fbmFtZV0gPSBvcHRzLnF1ZXJ5X3BhcmFtc1twYXJhbV9uYW1lXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHZhciBtZXRob2QgPSAnR0VUJztcbiAgICB2YXIgYm9keTtcblxuICAgIGlmIChvcHRzLmRvY19pZHMpIHtcbiAgICAgIC8vIHNldCB0aGlzIGF1dG9tYWdpY2FsbHkgZm9yIHRoZSB1c2VyOyBpdCdzIGFubm95aW5nIHRoYXQgY291Y2hkYlxuICAgICAgLy8gcmVxdWlyZXMgYm90aCBhIFwiZmlsdGVyXCIgYW5kIGEgXCJkb2NfaWRzXCIgcGFyYW0uXG4gICAgICBwYXJhbXMuZmlsdGVyID0gJ19kb2NfaWRzJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7ZG9jX2lkczogb3B0cy5kb2NfaWRzIH07XG4gICAgfVxuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgZWxzZSBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgICAgLy8gc2V0IHRoaXMgYXV0b21hZ2ljYWxseSBmb3IgdGhlIHVzZXIsIHNpbWlsYXIgdG8gYWJvdmVcbiAgICAgIHBhcmFtcy5maWx0ZXIgPSAnX3NlbGVjdG9yJztcbiAgICAgIG1ldGhvZCA9ICdQT1NUJztcbiAgICAgIGJvZHkgPSB7c2VsZWN0b3I6IG9wdHMuc2VsZWN0b3IgfTtcbiAgICB9XG5cbiAgICB2YXIgY29udHJvbGxlciA9IG5ldyBhKCk7XG4gICAgdmFyIGxhc3RGZXRjaGVkU2VxO1xuXG4gICAgLy8gR2V0IGFsbCB0aGUgY2hhbmdlcyBzdGFydGluZyB3dGloIHRoZSBvbmUgaW1tZWRpYXRlbHkgYWZ0ZXIgdGhlXG4gICAgLy8gc2VxdWVuY2UgbnVtYmVyIGdpdmVuIGJ5IHNpbmNlLlxuICAgIHZhciBmZXRjaERhdGEgPSBmdW5jdGlvbiAoc2luY2UsIGNhbGxiYWNrKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHBhcmFtcy5zaW5jZSA9IHNpbmNlO1xuICAgICAgLy8gXCJzaW5jZVwiIGNhbiBiZSBhbnkga2luZCBvZiBqc29uIG9iamVjdCBpbiBDbG91ZGFudC9Db3VjaERCIDIueFxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIGlmICh0eXBlb2YgcGFyYW1zLnNpbmNlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIHBhcmFtcy5zaW5jZSA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcy5zaW5jZSk7XG4gICAgICB9XG5cbiAgICAgIGlmIChvcHRzLmRlc2NlbmRpbmcpIHtcbiAgICAgICAgaWYgKGxpbWl0KSB7XG4gICAgICAgICAgcGFyYW1zLmxpbWl0ID0gbGVmdFRvRmV0Y2g7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHBhcmFtcy5saW1pdCA9ICghbGltaXQgfHwgbGVmdFRvRmV0Y2ggPiBiYXRjaFNpemUpID9cbiAgICAgICAgICBiYXRjaFNpemUgOiBsZWZ0VG9GZXRjaDtcbiAgICAgIH1cblxuICAgICAgLy8gU2V0IHRoZSBvcHRpb25zIGZvciB0aGUgYWpheCBjYWxsXG4gICAgICB2YXIgdXJsID0gZ2VuREJVcmwoaG9zdCwgJ19jaGFuZ2VzJyArIHBhcmFtc1RvU3RyKHBhcmFtcykpO1xuICAgICAgdmFyIGZldGNoT3B0cyA9IHtcbiAgICAgICAgc2lnbmFsOiBjb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgbWV0aG9kOiBtZXRob2QsXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGJvZHkpXG4gICAgICB9O1xuICAgICAgbGFzdEZldGNoZWRTZXEgPSBzaW5jZTtcblxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gR2V0IHRoZSBjaGFuZ2VzXG4gICAgICBzZXR1cCgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgICByZXR1cm4gZmV0Y2hKU09OKHVybCwgZmV0Y2hPcHRzLCBjYWxsYmFjayk7XG4gICAgICB9KS5jYXRjaChjYWxsYmFjayk7XG4gICAgfTtcblxuICAgIC8vIElmIG9wdHMuc2luY2UgZXhpc3RzLCBnZXQgYWxsIHRoZSBjaGFuZ2VzIGZyb20gdGhlIHNlcXVlbmNlXG4gICAgLy8gbnVtYmVyIGdpdmVuIGJ5IG9wdHMuc2luY2UuIE90aGVyd2lzZSwgZ2V0IGFsbCB0aGUgY2hhbmdlc1xuICAgIC8vIGZyb20gdGhlIHNlcXVlbmNlIG51bWJlciAwLlxuICAgIHZhciByZXN1bHRzID0ge3Jlc3VsdHM6IFtdfTtcblxuICAgIHZhciBmZXRjaGVkID0gZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICBpZiAob3B0cy5hYm9ydGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciByYXdfcmVzdWx0c19sZW5ndGggPSAwO1xuICAgICAgLy8gSWYgdGhlIHJlc3VsdCBvZiB0aGUgYWpheCBjYWxsIChyZXMpIGNvbnRhaW5zIGNoYW5nZXMgKHJlcy5yZXN1bHRzKVxuICAgICAgaWYgKHJlcyAmJiByZXMucmVzdWx0cykge1xuICAgICAgICByYXdfcmVzdWx0c19sZW5ndGggPSByZXMucmVzdWx0cy5sZW5ndGg7XG4gICAgICAgIHJlc3VsdHMubGFzdF9zZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICAgIHZhciBwZW5kaW5nID0gbnVsbDtcbiAgICAgICAgdmFyIGxhc3RTZXEgPSBudWxsO1xuICAgICAgICAvLyBBdHRhY2ggJ3BlbmRpbmcnIHByb3BlcnR5IGlmIHNlcnZlciBzdXBwb3J0cyBpdCAoQ291Y2hEQiAyLjArKVxuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKHR5cGVvZiByZXMucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBwZW5kaW5nID0gcmVzLnBlbmRpbmc7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiByZXN1bHRzLmxhc3Rfc2VxID09PSAnc3RyaW5nJyB8fCB0eXBlb2YgcmVzdWx0cy5sYXN0X3NlcSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICBsYXN0U2VxID0gcmVzdWx0cy5sYXN0X3NlcTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3IgZWFjaCBjaGFuZ2VcbiAgICAgICAgdmFyIHJlcSA9IHt9O1xuICAgICAgICByZXEucXVlcnkgPSBvcHRzLnF1ZXJ5X3BhcmFtcztcbiAgICAgICAgcmVzLnJlc3VsdHMgPSByZXMucmVzdWx0cy5maWx0ZXIoZnVuY3Rpb24gKGMpIHtcbiAgICAgICAgICBsZWZ0VG9GZXRjaC0tO1xuICAgICAgICAgIHZhciByZXQgPSBmaWx0ZXJDaGFuZ2Uob3B0cykoYyk7XG4gICAgICAgICAgaWYgKHJldCkge1xuICAgICAgICAgICAgaWYgKG9wdHMuaW5jbHVkZV9kb2NzICYmIG9wdHMuYXR0YWNobWVudHMgJiYgb3B0cy5iaW5hcnkpIHtcbiAgICAgICAgICAgICAgcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIoYyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob3B0cy5yZXR1cm5fZG9jcykge1xuICAgICAgICAgICAgICByZXN1bHRzLnJlc3VsdHMucHVzaChjKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdHMub25DaGFuZ2UoYywgcGVuZGluZywgbGFzdFNlcSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChlcnIpIHtcbiAgICAgICAgLy8gSW4gY2FzZSBvZiBhbiBlcnJvciwgc3RvcCBsaXN0ZW5pbmcgZm9yIGNoYW5nZXMgYW5kIGNhbGxcbiAgICAgICAgLy8gb3B0cy5jb21wbGV0ZVxuICAgICAgICBvcHRzLmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICBvcHRzLmNvbXBsZXRlKGVycik7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gVGhlIGNoYW5nZXMgZmVlZCBtYXkgaGF2ZSB0aW1lZCBvdXQgd2l0aCBubyByZXN1bHRzXG4gICAgICAvLyBpZiBzbyByZXVzZSBsYXN0IHVwZGF0ZSBzZXF1ZW5jZVxuICAgICAgaWYgKHJlcyAmJiByZXMubGFzdF9zZXEpIHtcbiAgICAgICAgbGFzdEZldGNoZWRTZXEgPSByZXMubGFzdF9zZXE7XG4gICAgICB9XG5cbiAgICAgIHZhciBmaW5pc2hlZCA9IChsaW1pdCAmJiBsZWZ0VG9GZXRjaCA8PSAwKSB8fFxuICAgICAgICAocmVzICYmIHJhd19yZXN1bHRzX2xlbmd0aCA8IGJhdGNoU2l6ZSkgfHxcbiAgICAgICAgKG9wdHMuZGVzY2VuZGluZyk7XG5cbiAgICAgIGlmICgob3B0cy5jb250aW51b3VzICYmICEobGltaXQgJiYgbGVmdFRvRmV0Y2ggPD0gMCkpIHx8ICFmaW5pc2hlZCkge1xuICAgICAgICAvLyBRdWV1ZSBhIGNhbGwgdG8gZmV0Y2ggYWdhaW4gd2l0aCB0aGUgbmV3ZXN0IHNlcXVlbmNlIG51bWJlclxuICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkgeyBmZXRjaERhdGEobGFzdEZldGNoZWRTZXEsIGZldGNoZWQpOyB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIFdlJ3JlIGRvbmUsIGNhbGwgdGhlIGNhbGxiYWNrXG4gICAgICAgIG9wdHMuY29tcGxldGUobnVsbCwgcmVzdWx0cyk7XG4gICAgICB9XG4gICAgfTtcblxuICAgIGZldGNoRGF0YShvcHRzLnNpbmNlIHx8IDAsIGZldGNoZWQpO1xuXG4gICAgLy8gUmV0dXJuIGEgbWV0aG9kIHRvIGNhbmNlbCB0aGlzIG1ldGhvZCBmcm9tIHByb2Nlc3NpbmcgYW55IG1vcmVcbiAgICByZXR1cm4ge1xuICAgICAgY2FuY2VsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIG9wdHMuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIGNvbnRyb2xsZXIuYWJvcnQoKTtcbiAgICAgIH1cbiAgICB9O1xuICB9O1xuXG4gIC8vIEdpdmVuIGEgc2V0IG9mIGRvY3VtZW50L3JldmlzaW9uIElEcyAoZ2l2ZW4gYnkgcmVxKSwgdGV0cyB0aGUgc3Vic2V0IG9mXG4gIC8vIHRob3NlIHRoYXQgZG8gTk9UIGNvcnJlc3BvbmQgdG8gcmV2aXNpb25zIHN0b3JlZCBpbiB0aGUgZGF0YWJhc2UuXG4gIC8vIFNlZSBodHRwOi8vd2lraS5hcGFjaGUub3JnL2NvdWNoZGIvSHR0cFBvc3RSZXZzRGlmZlxuICBhcGkucmV2c0RpZmYgPSBhZGFwdGVyRnVuJCQxKCdyZXZzRGlmZicsIGZ1bmN0aW9uIChyZXEsIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgLy8gSWYgbm8gb3B0aW9ucyB3ZXJlIGdpdmVuLCBzZXQgdGhlIGNhbGxiYWNrIHRvIGJlIHRoZSBzZWNvbmQgcGFyYW1ldGVyXG4gICAgaWYgKHR5cGVvZiBvcHRzID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgICBvcHRzID0ge307XG4gICAgfVxuXG4gICAgLy8gR2V0IHRoZSBtaXNzaW5nIGRvY3VtZW50L3JldmlzaW9uIElEc1xuICAgIGZldGNoSlNPTihnZW5EQlVybChob3N0LCAnX3JldnNfZGlmZicpLCB7XG4gICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHJlcSlcbiAgICB9LCBjYWxsYmFjaykuY2F0Y2goY2FsbGJhY2spO1xuICB9KTtcblxuICBhcGkuX2Nsb3NlID0gZnVuY3Rpb24gKGNhbGxiYWNrKSB7XG4gICAgY2FsbGJhY2soKTtcbiAgfTtcblxuICBhcGkuX2Rlc3Ryb3kgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcbiAgICBmZXRjaEpTT04oZ2VuREJVcmwoaG9zdCwgJycpLCB7bWV0aG9kOiAnREVMRVRFJ30pLnRoZW4oZnVuY3Rpb24gKGpzb24pIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIGpzb24pO1xuICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBjYWxsYmFjayhudWxsLCB7b2s6IHRydWV9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIEh0dHBQb3VjaCBpcyBhIHZhbGlkIGFkYXB0ZXIuXG5IdHRwUG91Y2gudmFsaWQgPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0cnVlO1xufTtcblxuZnVuY3Rpb24gSHR0cFBvdWNoJDEgKFBvdWNoREIpIHtcbiAgUG91Y2hEQi5hZGFwdGVyKCdodHRwJywgSHR0cFBvdWNoLCBmYWxzZSk7XG4gIFBvdWNoREIuYWRhcHRlcignaHR0cHMnLCBIdHRwUG91Y2gsIGZhbHNlKTtcbn1cblxuZnVuY3Rpb24gUXVlcnlQYXJzZUVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDA7XG4gIHRoaXMubmFtZSA9ICdxdWVyeV9wYXJzZV9lcnJvcic7XG4gIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gIHRoaXMuZXJyb3IgPSB0cnVlO1xuICB0cnkge1xuICAgIEVycm9yLmNhcHR1cmVTdGFja1RyYWNlKHRoaXMsIFF1ZXJ5UGFyc2VFcnJvcik7XG4gIH0gY2F0Y2ggKGUpIHt9XG59XG5cbmluaGVyaXRzKFF1ZXJ5UGFyc2VFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBOb3RGb3VuZEVycm9yKG1lc3NhZ2UpIHtcbiAgdGhpcy5zdGF0dXMgPSA0MDQ7XG4gIHRoaXMubmFtZSA9ICdub3RfZm91bmQnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBOb3RGb3VuZEVycm9yKTtcbiAgfSBjYXRjaCAoZSkge31cbn1cblxuaW5oZXJpdHMoTm90Rm91bmRFcnJvciwgRXJyb3IpO1xuXG5mdW5jdGlvbiBCdWlsdEluRXJyb3IobWVzc2FnZSkge1xuICB0aGlzLnN0YXR1cyA9IDUwMDtcbiAgdGhpcy5uYW1lID0gJ2ludmFsaWRfdmFsdWUnO1xuICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICB0aGlzLmVycm9yID0gdHJ1ZTtcbiAgdHJ5IHtcbiAgICBFcnJvci5jYXB0dXJlU3RhY2tUcmFjZSh0aGlzLCBCdWlsdEluRXJyb3IpO1xuICB9IGNhdGNoIChlKSB7fVxufVxuXG5pbmhlcml0cyhCdWlsdEluRXJyb3IsIEVycm9yKTtcblxuZnVuY3Rpb24gcHJvbWlzZWRDYWxsYmFjayhwcm9taXNlLCBjYWxsYmFjaykge1xuICBpZiAoY2FsbGJhY2spIHtcbiAgICBwcm9taXNlLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgaW1tZWRpYXRlKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2FsbGJhY2sobnVsbCwgcmVzKTtcbiAgICAgIH0pO1xuICAgIH0sIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIGltbWVkaWF0ZShmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNhbGxiYWNrKHJlYXNvbik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcHJvbWlzZTtcbn1cblxuZnVuY3Rpb24gY2FsbGJhY2tpZnkoZnVuKSB7XG4gIHJldHVybiBnZXRBcmd1bWVudHMoZnVuY3Rpb24gKGFyZ3MpIHtcbiAgICB2YXIgY2IgPSBhcmdzLnBvcCgpO1xuICAgIHZhciBwcm9taXNlID0gZnVuLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIGlmICh0eXBlb2YgY2IgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2IpO1xuICAgIH1cbiAgICByZXR1cm4gcHJvbWlzZTtcbiAgfSk7XG59XG5cbi8vIFByb21pc2UgZmluYWxseSB1dGlsIHNpbWlsYXIgdG8gUS5maW5hbGx5XG5mdW5jdGlvbiBmaW4ocHJvbWlzZSwgZmluYWxQcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gcHJvbWlzZS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICByZXR1cm4gZmluYWxQcm9taXNlRmFjdG9yeSgpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuIHJlcztcbiAgICB9KTtcbiAgfSwgZnVuY3Rpb24gKHJlYXNvbikge1xuICAgIHJldHVybiBmaW5hbFByb21pc2VGYWN0b3J5KCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB0aHJvdyByZWFzb247XG4gICAgfSk7XG4gIH0pO1xufVxuXG5mdW5jdGlvbiBzZXF1ZW50aWFsaXplKHF1ZXVlLCBwcm9taXNlRmFjdG9yeSkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICByZXR1cm4gcXVldWUuYWRkKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBwcm9taXNlRmFjdG9yeS5hcHBseSh0aGF0LCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcbn1cblxuLy8gdW5pcSBhbiBhcnJheSBvZiBzdHJpbmdzLCBvcmRlciBub3QgZ3VhcmFudGVlZFxuLy8gc2ltaWxhciB0byB1bmRlcnNjb3JlL2xvZGFzaCBfLnVuaXFcbmZ1bmN0aW9uIHVuaXEoYXJyKSB7XG4gIHZhciB0aGVTZXQgPSBuZXcgRXhwb3J0ZWRTZXQoYXJyKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBBcnJheSh0aGVTZXQuc2l6ZSk7XG4gIHZhciBpbmRleCA9IC0xO1xuICB0aGVTZXQuZm9yRWFjaChmdW5jdGlvbiAodmFsdWUpIHtcbiAgICByZXN1bHRbKytpbmRleF0gPSB2YWx1ZTtcbiAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIG1hcFRvS2V5c0FycmF5KG1hcCkge1xuICB2YXIgcmVzdWx0ID0gbmV3IEFycmF5KG1hcC5zaXplKTtcbiAgdmFyIGluZGV4ID0gLTE7XG4gIG1hcC5mb3JFYWNoKGZ1bmN0aW9uICh2YWx1ZSwga2V5KSB7XG4gICAgcmVzdWx0WysraW5kZXhdID0ga2V5O1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuZnVuY3Rpb24gY3JlYXRlQnVpbHRJbkVycm9yKG5hbWUpIHtcbiAgdmFyIG1lc3NhZ2UgPSAnYnVpbHRpbiAnICsgbmFtZSArXG4gICAgJyBmdW5jdGlvbiByZXF1aXJlcyBtYXAgdmFsdWVzIHRvIGJlIG51bWJlcnMnICtcbiAgICAnIG9yIG51bWJlciBhcnJheXMnO1xuICByZXR1cm4gbmV3IEJ1aWx0SW5FcnJvcihtZXNzYWdlKTtcbn1cblxuZnVuY3Rpb24gc3VtKHZhbHVlcykge1xuICB2YXIgcmVzdWx0ID0gMDtcbiAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHZhbHVlcy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgaWYgKHR5cGVvZiBudW0gIT09ICdudW1iZXInKSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShudW0pKSB7XG4gICAgICAgIC8vIGxpc3RzIG9mIG51bWJlcnMgYXJlIGFsc28gYWxsb3dlZCwgc3VtIHRoZW0gc2VwYXJhdGVseVxuICAgICAgICByZXN1bHQgPSB0eXBlb2YgcmVzdWx0ID09PSAnbnVtYmVyJyA/IFtyZXN1bHRdIDogcmVzdWx0O1xuICAgICAgICBmb3IgKHZhciBqID0gMCwgakxlbiA9IG51bS5sZW5ndGg7IGogPCBqTGVuOyBqKyspIHtcbiAgICAgICAgICB2YXIgak51bSA9IG51bVtqXTtcbiAgICAgICAgICBpZiAodHlwZW9mIGpOdW0gIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB0aHJvdyBjcmVhdGVCdWlsdEluRXJyb3IoJ19zdW0nKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKHR5cGVvZiByZXN1bHRbal0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICByZXN1bHQucHVzaChqTnVtKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0W2pdICs9IGpOdW07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGVsc2UgeyAvLyBub3QgYXJyYXkvbnVtYmVyXG4gICAgICAgIHRocm93IGNyZWF0ZUJ1aWx0SW5FcnJvcignX3N1bScpO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIHJlc3VsdCA9PT0gJ251bWJlcicpIHtcbiAgICAgIHJlc3VsdCArPSBudW07XG4gICAgfSBlbHNlIHsgLy8gYWRkIG51bWJlciB0byBhcnJheVxuICAgICAgcmVzdWx0WzBdICs9IG51bTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxudmFyIGxvZyA9IGd1YXJkZWRDb25zb2xlLmJpbmQobnVsbCwgJ2xvZycpO1xudmFyIGlzQXJyYXkgPSBBcnJheS5pc0FycmF5O1xudmFyIHRvSlNPTiA9IEpTT04ucGFyc2U7XG5cbmZ1bmN0aW9uIGV2YWxGdW5jdGlvbldpdGhFdmFsKGZ1bmMsIGVtaXQpIHtcbiAgcmV0dXJuIHNjb3BlRXZhbChcbiAgICBcInJldHVybiAoXCIgKyBmdW5jLnJlcGxhY2UoLztcXHMqJC8sIFwiXCIpICsgXCIpO1wiLFxuICAgIHtcbiAgICAgIGVtaXQ6IGVtaXQsXG4gICAgICBzdW06IHN1bSxcbiAgICAgIGxvZzogbG9nLFxuICAgICAgaXNBcnJheTogaXNBcnJheSxcbiAgICAgIHRvSlNPTjogdG9KU09OXG4gICAgfVxuICApO1xufVxuXG4vKlxuICogU2ltcGxlIHRhc2sgcXVldWUgdG8gc2VxdWVudGlhbGl6ZSBhY3Rpb25zLiBBc3N1bWVzXG4gKiBjYWxsYmFja3Mgd2lsbCBldmVudHVhbGx5IGZpcmUgKG9uY2UpLlxuICovXG5cblxuZnVuY3Rpb24gVGFza1F1ZXVlJDEoKSB7XG4gIHRoaXMucHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uIChmdWxmaWxsKSB7ZnVsZmlsbCgpOyB9KTtcbn1cblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5hZGQgPSBmdW5jdGlvbiAocHJvbWlzZUZhY3RvcnkpIHtcbiAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmNhdGNoKGZ1bmN0aW9uICgpIHtcbiAgICAvLyBqdXN0IHJlY292ZXJcbiAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHByb21pc2VGYWN0b3J5KCk7XG4gIH0pO1xuICByZXR1cm4gdGhpcy5wcm9taXNlO1xufTtcblRhc2tRdWV1ZSQxLnByb3RvdHlwZS5maW5pc2ggPSBmdW5jdGlvbiAoKSB7XG4gIHJldHVybiB0aGlzLnByb21pc2U7XG59O1xuXG5mdW5jdGlvbiBzdHJpbmdpZnkoaW5wdXQpIHtcbiAgaWYgKCFpbnB1dCkge1xuICAgIHJldHVybiAndW5kZWZpbmVkJzsgLy8gYmFja3dhcmRzIGNvbXBhdCBmb3IgZW1wdHkgcmVkdWNlXG4gIH1cbiAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXQgd2l0aCBtYXByZWR1Y2UsIGZ1bmN0aW9ucy9zdHJpbmdzIGFyZSBzdHJpbmdpZmllZFxuICAvLyBhcy1pcy4gZXZlcnl0aGluZyBlbHNlIGlzIEpTT04tc3RyaW5naWZpZWQuXG4gIHN3aXRjaCAodHlwZW9mIGlucHV0KSB7XG4gICAgY2FzZSAnZnVuY3Rpb24nOlxuICAgICAgLy8gZS5nLiBhIG1hcHJlZHVjZSBtYXBcbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGNhc2UgJ3N0cmluZyc6XG4gICAgICAvLyBlLmcuIGEgbWFwcmVkdWNlIGJ1aWx0LWluIF9yZWR1Y2UgZnVuY3Rpb25cbiAgICAgIHJldHVybiBpbnB1dC50b1N0cmluZygpO1xuICAgIGRlZmF1bHQ6XG4gICAgICAvLyBlLmcuIGEgSlNPTiBvYmplY3QgaW4gdGhlIGNhc2Ugb2YgbWFuZ28gcXVlcmllc1xuICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGlucHV0KTtcbiAgfVxufVxuXG4vKiBjcmVhdGUgYSBzdHJpbmcgc2lnbmF0dXJlIGZvciBhIHZpZXcgc28gd2UgY2FuIGNhY2hlIGl0IGFuZCB1bmlxIGl0ICovXG5mdW5jdGlvbiBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKSB7XG4gIC8vIHRoZSBcInVuZGVmaW5lZFwiIHBhcnQgaXMgZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gIHJldHVybiBzdHJpbmdpZnkobWFwRnVuKSArIHN0cmluZ2lmeShyZWR1Y2VGdW4pICsgJ3VuZGVmaW5lZCc7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZVZpZXcoc291cmNlREIsIHZpZXdOYW1lLCBtYXBGdW4sIHJlZHVjZUZ1biwgdGVtcG9yYXJ5LCBsb2NhbERvY05hbWUpIHtcbiAgdmFyIHZpZXdTaWduYXR1cmUgPSBjcmVhdGVWaWV3U2lnbmF0dXJlKG1hcEZ1biwgcmVkdWNlRnVuKTtcblxuICB2YXIgY2FjaGVkVmlld3M7XG4gIGlmICghdGVtcG9yYXJ5KSB7XG4gICAgLy8gY2FjaGUgdGhpcyB0byBlbnN1cmUgd2UgZG9uJ3QgdHJ5IHRvIHVwZGF0ZSB0aGUgc2FtZSB2aWV3IHR3aWNlXG4gICAgY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgPSBzb3VyY2VEQi5fY2FjaGVkVmlld3MgfHwge307XG4gICAgaWYgKGNhY2hlZFZpZXdzW3ZpZXdTaWduYXR1cmVdKSB7XG4gICAgICByZXR1cm4gY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV07XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb21pc2VGb3JWaWV3ID0gc291cmNlREIuaW5mbygpLnRoZW4oZnVuY3Rpb24gKGluZm8pIHtcblxuICAgIHZhciBkZXBEYk5hbWUgPSBpbmZvLmRiX25hbWUgKyAnLW1ydmlldy0nICtcbiAgICAgICh0ZW1wb3JhcnkgPyAndGVtcCcgOiBzdHJpbmdNZDUodmlld1NpZ25hdHVyZSkpO1xuXG4gICAgLy8gc2F2ZSB0aGUgdmlldyBuYW1lIGluIHRoZSBzb3VyY2UgZGIgc28gaXQgY2FuIGJlIGNsZWFuZWQgdXAgaWYgbmVjZXNzYXJ5XG4gICAgLy8gKGUuZy4gd2hlbiB0aGUgX2Rlc2lnbiBkb2MgaXMgZGVsZXRlZCwgcmVtb3ZlIGFsbCBhc3NvY2lhdGVkIHZpZXcgZGF0YSlcbiAgICBmdW5jdGlvbiBkaWZmRnVuY3Rpb24oZG9jKSB7XG4gICAgICBkb2Mudmlld3MgPSBkb2Mudmlld3MgfHwge307XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICBpZiAoZnVsbFZpZXdOYW1lLmluZGV4T2YoJy8nKSA9PT0gLTEpIHtcbiAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgIH1cbiAgICAgIHZhciBkZXBEYnMgPSBkb2Mudmlld3NbZnVsbFZpZXdOYW1lXSA9IGRvYy52aWV3c1tmdWxsVmlld05hbWVdIHx8IHt9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoZGVwRGJzW2RlcERiTmFtZV0pIHtcbiAgICAgICAgcmV0dXJuOyAvLyBubyB1cGRhdGUgbmVjZXNzYXJ5XG4gICAgICB9XG4gICAgICBkZXBEYnNbZGVwRGJOYW1lXSA9IHRydWU7XG4gICAgICByZXR1cm4gZG9jO1xuICAgIH1cbiAgICByZXR1cm4gdXBzZXJ0KHNvdXJjZURCLCAnX2xvY2FsLycgKyBsb2NhbERvY05hbWUsIGRpZmZGdW5jdGlvbikudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gc291cmNlREIucmVnaXN0ZXJEZXBlbmRlbnREYXRhYmFzZShkZXBEYk5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB2YXIgZGIgPSByZXMuZGI7XG4gICAgICAgIGRiLmF1dG9fY29tcGFjdGlvbiA9IHRydWU7XG4gICAgICAgIHZhciB2aWV3ID0ge1xuICAgICAgICAgIG5hbWU6IGRlcERiTmFtZSxcbiAgICAgICAgICBkYjogZGIsXG4gICAgICAgICAgc291cmNlREI6IHNvdXJjZURCLFxuICAgICAgICAgIGFkYXB0ZXI6IHNvdXJjZURCLmFkYXB0ZXIsXG4gICAgICAgICAgbWFwRnVuOiBtYXBGdW4sXG4gICAgICAgICAgcmVkdWNlRnVuOiByZWR1Y2VGdW5cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHZpZXcuZGIuZ2V0KCdfbG9jYWwvbGFzdFNlcScpLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgICBpZiAoZXJyLnN0YXR1cyAhPT0gNDA0KSB7XG4gICAgICAgICAgICB0aHJvdyBlcnI7XG4gICAgICAgICAgfVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChsYXN0U2VxRG9jKSB7XG4gICAgICAgICAgdmlldy5zZXEgPSBsYXN0U2VxRG9jID8gbGFzdFNlcURvYy5zZXEgOiAwO1xuICAgICAgICAgIGlmIChjYWNoZWRWaWV3cykge1xuICAgICAgICAgICAgdmlldy5kYi5vbmNlKCdkZXN0cm95ZWQnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIGRlbGV0ZSBjYWNoZWRWaWV3c1t2aWV3U2lnbmF0dXJlXTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdmlldztcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgaWYgKGNhY2hlZFZpZXdzKSB7XG4gICAgY2FjaGVkVmlld3Nbdmlld1NpZ25hdHVyZV0gPSBwcm9taXNlRm9yVmlldztcbiAgfVxuICByZXR1cm4gcHJvbWlzZUZvclZpZXc7XG59XG5cbnZhciBwZXJzaXN0ZW50UXVldWVzID0ge307XG52YXIgdGVtcFZpZXdRdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xudmFyIENIQU5HRVNfQkFUQ0hfU0laRSQxID0gNTA7XG5cbmZ1bmN0aW9uIHBhcnNlVmlld05hbWUobmFtZSkge1xuICAvLyBjYW4gYmUgZWl0aGVyICdkZG9jbmFtZS92aWV3bmFtZScgb3IganVzdCAndmlld25hbWUnXG4gIC8vICh3aGVyZSB0aGUgZGRvYyBuYW1lIGlzIHRoZSBzYW1lKVxuICByZXR1cm4gbmFtZS5pbmRleE9mKCcvJykgPT09IC0xID8gW25hbWUsIG5hbWVdIDogbmFtZS5zcGxpdCgnLycpO1xufVxuXG5mdW5jdGlvbiBpc0dlbk9uZShjaGFuZ2VzKSB7XG4gIC8vIG9ubHkgcmV0dXJuIHRydWUgaWYgdGhlIGN1cnJlbnQgY2hhbmdlIGlzIDEtXG4gIC8vIGFuZCB0aGVyZSBhcmUgbm8gb3RoZXIgbGVhZnNcbiAgcmV0dXJuIGNoYW5nZXMubGVuZ3RoID09PSAxICYmIC9eMS0vLnRlc3QoY2hhbmdlc1swXS5yZXYpO1xufVxuXG5mdW5jdGlvbiBlbWl0RXJyb3IoZGIsIGUpIHtcbiAgdHJ5IHtcbiAgICBkYi5lbWl0KCdlcnJvcicsIGUpO1xuICB9IGNhdGNoIChlcnIpIHtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLFxuICAgICAgJ1RoZSB1c2VyXFwncyBtYXAvcmVkdWNlIGZ1bmN0aW9uIHRocmV3IGFuIHVuY2F1Z2h0IGVycm9yLlxcbicgK1xuICAgICAgJ1lvdSBjYW4gZGVidWcgdGhpcyBlcnJvciBieSBkb2luZzpcXG4nICtcbiAgICAgICdteURhdGFiYXNlLm9uKFxcJ2Vycm9yXFwnLCBmdW5jdGlvbiAoZXJyKSB7IGRlYnVnZ2VyOyB9KTtcXG4nICtcbiAgICAgICdQbGVhc2UgZG91YmxlLWNoZWNrIHlvdXIgbWFwL3JlZHVjZSBmdW5jdGlvbi4nKTtcbiAgICBndWFyZGVkQ29uc29sZSgnZXJyb3InLCBlKTtcbiAgfVxufVxuXG4vKipcbiAqIFJldHVybnMgYW4gXCJhYnN0cmFjdFwiIG1hcHJlZHVjZSBvYmplY3Qgb2YgdGhlIGZvcm06XG4gKlxuICogICB7XG4gKiAgICAgcXVlcnk6IHF1ZXJ5RnVuLFxuICogICAgIHZpZXdDbGVhbnVwOiB2aWV3Q2xlYW51cEZ1blxuICogICB9XG4gKlxuICogQXJndW1lbnRzIGFyZTpcbiAqXG4gKiBsb2NhbERvYzogc3RyaW5nXG4gKiAgIFRoaXMgaXMgZm9yIHRoZSBsb2NhbCBkb2MgdGhhdCBnZXRzIHNhdmVkIGluIG9yZGVyIHRvIHRyYWNrIHRoZVxuICogICBcImRlcGVuZGVudFwiIERCcyBhbmQgY2xlYW4gdGhlbSB1cCBmb3Igdmlld0NsZWFudXAuIEl0IHNob3VsZCBiZVxuICogICB1bmlxdWUsIHNvIHRoYXQgaW5kZXhlciBwbHVnaW5zIGRvbid0IGNvbGxpZGUgd2l0aCBlYWNoIG90aGVyLlxuICogbWFwcGVyOiBmdW5jdGlvbiAobWFwRnVuRGVmLCBlbWl0KVxuICogICBSZXR1cm5zIGEgbWFwIGZ1bmN0aW9uIGJhc2VkIG9uIHRoZSBtYXBGdW5EZWYsIHdoaWNoIGluIHRoZSBjYXNlIG9mXG4gKiAgIG5vcm1hbCBtYXAvcmVkdWNlIGlzIGp1c3QgdGhlIGRlLXN0cmluZ2lmaWVkIGZ1bmN0aW9uLCBidXQgbWF5IGJlXG4gKiAgIHNvbWV0aGluZyBlbHNlLCBzdWNoIGFzIGFuIG9iamVjdCBpbiB0aGUgY2FzZSBvZiBwb3VjaGRiLWZpbmQuXG4gKiByZWR1Y2VyOiBmdW5jdGlvbiAocmVkdWNlRnVuRGVmKVxuICogICBEaXR0bywgYnV0IGZvciByZWR1Y2luZy4gTW9kdWxlcyBkb24ndCBoYXZlIHRvIHN1cHBvcnQgcmVkdWNpbmdcbiAqICAgKGUuZy4gcG91Y2hkYi1maW5kKS5cbiAqIGRkb2NWYWxpZGF0b3I6IGZ1bmN0aW9uIChkZG9jLCB2aWV3TmFtZSlcbiAqICAgVGhyb3dzIGFuIGVycm9yIGlmIHRoZSBkZG9jIG9yIHZpZXdOYW1lIGlzIG5vdCB2YWxpZC5cbiAqICAgVGhpcyBjb3VsZCBiZSBhIHdheSB0byBjb21tdW5pY2F0ZSB0byB0aGUgdXNlciB0aGF0IHRoZSBjb25maWd1cmF0aW9uIGZvciB0aGVcbiAqICAgaW5kZXhlciBpcyBpbnZhbGlkLlxuICovXG5mdW5jdGlvbiBjcmVhdGVBYnN0cmFjdE1hcFJlZHVjZShsb2NhbERvY05hbWUsIG1hcHBlciwgcmVkdWNlciwgZGRvY1ZhbGlkYXRvcikge1xuXG4gIGZ1bmN0aW9uIHRyeU1hcChkYiwgZnVuLCBkb2MpIHtcbiAgICAvLyBlbWl0IGFuIGV2ZW50IGlmIHRoZXJlIHdhcyBhbiBlcnJvciB0aHJvd24gYnkgYSBtYXAgZnVuY3Rpb24uXG4gICAgLy8gcHV0dGluZyB0cnkvY2F0Y2hlcyBpbiBhIHNpbmdsZSBmdW5jdGlvbiBhbHNvIGF2b2lkcyBkZW9wdGltaXphdGlvbnMuXG4gICAgdHJ5IHtcbiAgICAgIGZ1bihkb2MpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gdHJ5UmVkdWNlKGRiLCBmdW4sIGtleXMsIHZhbHVlcywgcmVyZWR1Y2UpIHtcbiAgICAvLyBzYW1lIGFzIGFib3ZlLCBidXQgcmV0dXJuaW5nIHRoZSByZXN1bHQgb3IgYW4gZXJyb3IuIHRoZXJlIGFyZSB0d28gc2VwYXJhdGVcbiAgICAvLyBmdW5jdGlvbnMgdG8gYXZvaWQgZXh0cmEgbWVtb3J5IGFsbG9jYXRpb25zIHNpbmNlIHRoZSB0cnlDb2RlKCkgY2FzZSBpcyB1c2VkXG4gICAgLy8gZm9yIGN1c3RvbSBtYXAgZnVuY3Rpb25zIChjb21tb24pIHZzIHRoaXMgZnVuY3Rpb24sIHdoaWNoIGlzIG9ubHkgdXNlZCBmb3JcbiAgICAvLyBjdXN0b20gcmVkdWNlIGZ1bmN0aW9ucyAocmFyZSlcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIHtvdXRwdXQgOiBmdW4oa2V5cywgdmFsdWVzLCByZXJlZHVjZSl9O1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGVtaXRFcnJvcihkYiwgZSk7XG4gICAgICByZXR1cm4ge2Vycm9yOiBlfTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzb3J0QnlLZXlUaGVuVmFsdWUoeCwgeSkge1xuICAgIHZhciBrZXlDb21wYXJlID0gY29sbGF0ZSh4LmtleSwgeS5rZXkpO1xuICAgIHJldHVybiBrZXlDb21wYXJlICE9PSAwID8ga2V5Q29tcGFyZSA6IGNvbGxhdGUoeC52YWx1ZSwgeS52YWx1ZSk7XG4gIH1cblxuICBmdW5jdGlvbiBzbGljZVJlc3VsdHMocmVzdWx0cywgbGltaXQsIHNraXApIHtcbiAgICBza2lwID0gc2tpcCB8fCAwO1xuICAgIGlmICh0eXBlb2YgbGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICByZXR1cm4gcmVzdWx0cy5zbGljZShza2lwLCBsaW1pdCArIHNraXApO1xuICAgIH0gZWxzZSBpZiAoc2tpcCA+IDApIHtcbiAgICAgIHJldHVybiByZXN1bHRzLnNsaWNlKHNraXApO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGZ1bmN0aW9uIHJvd1RvRG9jSWQocm93KSB7XG4gICAgdmFyIHZhbCA9IHJvdy52YWx1ZTtcbiAgICAvLyBVc2VycyBjYW4gZXhwbGljaXRseSBzcGVjaWZ5IGEgam9pbmVkIGRvYyBfaWQsIG9yIGl0XG4gICAgLy8gZGVmYXVsdHMgdG8gdGhlIGRvYyBfaWQgdGhhdCBlbWl0dGVkIHRoZSBrZXkvdmFsdWUuXG4gICAgdmFyIGRvY0lkID0gKHZhbCAmJiB0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwuX2lkKSB8fCByb3cuaWQ7XG4gICAgcmV0dXJuIGRvY0lkO1xuICB9XG5cbiAgZnVuY3Rpb24gcmVhZEF0dGFjaG1lbnRzQXNCbG9iT3JCdWZmZXIocmVzKSB7XG4gICAgcmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICB2YXIgYXR0cyA9IHJvdy5kb2MgJiYgcm93LmRvYy5fYXR0YWNobWVudHM7XG4gICAgICBpZiAoIWF0dHMpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgT2JqZWN0LmtleXMoYXR0cykuZm9yRWFjaChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICAgICAgdmFyIGF0dCA9IGF0dHNbZmlsZW5hbWVdO1xuICAgICAgICBhdHRzW2ZpbGVuYW1lXS5kYXRhID0gYjY0VG9CbHVmZmVyKGF0dC5kYXRhLCBhdHQuY29udGVudF90eXBlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gcG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcyAmJiBvcHRzLmF0dGFjaG1lbnRzICYmIG9wdHMuYmluYXJ5KSB7XG4gICAgICAgIHJlYWRBdHRhY2htZW50c0FzQmxvYk9yQnVmZmVyKHJlcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzO1xuICAgIH07XG4gIH1cblxuICBmdW5jdGlvbiBhZGRIdHRwUGFyYW0ocGFyYW1OYW1lLCBvcHRzLCBwYXJhbXMsIGFzSnNvbikge1xuICAgIC8vIGFkZCBhbiBodHRwIHBhcmFtIGZyb20gb3B0cyB0byBwYXJhbXMsIG9wdGlvbmFsbHkganNvbi1lbmNvZGVkXG4gICAgdmFyIHZhbCA9IG9wdHNbcGFyYW1OYW1lXTtcbiAgICBpZiAodHlwZW9mIHZhbCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIGlmIChhc0pzb24pIHtcbiAgICAgICAgdmFsID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHZhbCkpO1xuICAgICAgfVxuICAgICAgcGFyYW1zLnB1c2gocGFyYW1OYW1lICsgJz0nICsgdmFsKTtcbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBjb2VyY2VJbnRlZ2VyKGludGVnZXJDYW5kaWRhdGUpIHtcbiAgICBpZiAodHlwZW9mIGludGVnZXJDYW5kaWRhdGUgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIgYXNOdW1iZXIgPSBOdW1iZXIoaW50ZWdlckNhbmRpZGF0ZSk7XG4gICAgICAvLyBwcmV2ZW50cyBlLmcuICcxZm9vJyBvciAnMS4xJyBiZWluZyBjb2VyY2VkIHRvIDFcbiAgICAgIGlmICghaXNOYU4oYXNOdW1iZXIpICYmIGFzTnVtYmVyID09PSBwYXJzZUludChpbnRlZ2VyQ2FuZGlkYXRlLCAxMCkpIHtcbiAgICAgICAgcmV0dXJuIGFzTnVtYmVyO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGludGVnZXJDYW5kaWRhdGU7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY29lcmNlT3B0aW9ucyhvcHRzKSB7XG4gICAgb3B0cy5ncm91cF9sZXZlbCA9IGNvZXJjZUludGVnZXIob3B0cy5ncm91cF9sZXZlbCk7XG4gICAgb3B0cy5saW1pdCA9IGNvZXJjZUludGVnZXIob3B0cy5saW1pdCk7XG4gICAgb3B0cy5za2lwID0gY29lcmNlSW50ZWdlcihvcHRzLnNraXApO1xuICAgIHJldHVybiBvcHRzO1xuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tQb3NpdGl2ZUludGVnZXIobnVtYmVyKSB7XG4gICAgaWYgKG51bWJlcikge1xuICAgICAgaWYgKHR5cGVvZiBudW1iZXIgIT09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiAgbmV3IFF1ZXJ5UGFyc2VFcnJvcignSW52YWxpZCB2YWx1ZSBmb3IgaW50ZWdlcjogXCInICtcbiAgICAgICAgICBudW1iZXIgKyAnXCInKTtcbiAgICAgIH1cbiAgICAgIGlmIChudW1iZXIgPCAwKSB7XG4gICAgICAgIHJldHVybiBuZXcgUXVlcnlQYXJzZUVycm9yKCdJbnZhbGlkIHZhbHVlIGZvciBwb3NpdGl2ZSBpbnRlZ2VyOiAnICtcbiAgICAgICAgICAnXCInICsgbnVtYmVyICsgJ1wiJyk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0aW9ucywgZnVuKSB7XG4gICAgdmFyIHN0YXJ0a2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdlbmRrZXknIDogJ3N0YXJ0a2V5JztcbiAgICB2YXIgZW5ka2V5TmFtZSA9IG9wdGlvbnMuZGVzY2VuZGluZyA/ICdzdGFydGtleScgOiAnZW5ka2V5JztcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9uc1tzdGFydGtleU5hbWVdICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgdHlwZW9mIG9wdGlvbnNbZW5ka2V5TmFtZV0gIT09ICd1bmRlZmluZWQnICYmXG4gICAgICBjb2xsYXRlKG9wdGlvbnNbc3RhcnRrZXlOYW1lXSwgb3B0aW9uc1tlbmRrZXlOYW1lXSkgPiAwKSB7XG4gICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdObyByb3dzIGNhbiBtYXRjaCB5b3VyIGtleSByYW5nZSwgJyArXG4gICAgICAgICdyZXZlcnNlIHlvdXIgc3RhcnRfa2V5IGFuZCBlbmRfa2V5IG9yIHNldCB7ZGVzY2VuZGluZyA6IHRydWV9Jyk7XG4gICAgfSBlbHNlIGlmIChmdW4ucmVkdWNlICYmIG9wdGlvbnMucmVkdWNlICE9PSBmYWxzZSkge1xuICAgICAgaWYgKG9wdGlvbnMuaW5jbHVkZV9kb2NzKSB7XG4gICAgICAgIHRocm93IG5ldyBRdWVyeVBhcnNlRXJyb3IoJ3tpbmNsdWRlX2RvY3M6dHJ1ZX0gaXMgaW52YWxpZCBmb3IgcmVkdWNlJyk7XG4gICAgICB9IGVsc2UgaWYgKG9wdGlvbnMua2V5cyAmJiBvcHRpb25zLmtleXMubGVuZ3RoID4gMSAmJlxuICAgICAgICAhb3B0aW9ucy5ncm91cCAmJiAhb3B0aW9ucy5ncm91cF9sZXZlbCkge1xuICAgICAgICB0aHJvdyBuZXcgUXVlcnlQYXJzZUVycm9yKCdNdWx0aS1rZXkgZmV0Y2hlcyBmb3IgcmVkdWNlIHZpZXdzIG11c3QgdXNlICcgK1xuICAgICAgICAgICd7Z3JvdXA6IHRydWV9Jyk7XG4gICAgICB9XG4gICAgfVxuICAgIFsnZ3JvdXBfbGV2ZWwnLCAnbGltaXQnLCAnc2tpcCddLmZvckVhY2goZnVuY3Rpb24gKG9wdGlvbk5hbWUpIHtcbiAgICAgIHZhciBlcnJvciA9IGNoZWNrUG9zaXRpdmVJbnRlZ2VyKG9wdGlvbnNbb3B0aW9uTmFtZV0pO1xuICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaHR0cFF1ZXJ5KGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvLyBMaXN0IG9mIHBhcmFtZXRlcnMgdG8gYWRkIHRvIHRoZSBQVVQgcmVxdWVzdFxuICAgIHZhciBwYXJhbXMgPSBbXTtcbiAgICB2YXIgYm9keTtcbiAgICB2YXIgbWV0aG9kID0gJ0dFVCc7XG4gICAgdmFyIG9rLCBzdGF0dXM7XG5cbiAgICAvLyBJZiBvcHRzLnJlZHVjZSBleGlzdHMgYW5kIGlzIGRlZmluZWQsIHRoZW4gYWRkIGl0IHRvIHRoZSBsaXN0XG4gICAgLy8gb2YgcGFyYW1ldGVycy5cbiAgICAvLyBJZiByZWR1Y2U9ZmFsc2UgdGhlbiB0aGUgcmVzdWx0cyBhcmUgdGhhdCBvZiBvbmx5IHRoZSBtYXAgZnVuY3Rpb25cbiAgICAvLyBub3QgdGhlIGZpbmFsIHJlc3VsdCBvZiBtYXAgYW5kIHJlZHVjZS5cbiAgICBhZGRIdHRwUGFyYW0oJ3JlZHVjZScsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdpbmNsdWRlX2RvY3MnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnYXR0YWNobWVudHMnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnbGltaXQnLCBvcHRzLCBwYXJhbXMpO1xuICAgIGFkZEh0dHBQYXJhbSgnZGVzY2VuZGluZycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdncm91cF9sZXZlbCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdza2lwJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ3N0YWxlJywgb3B0cywgcGFyYW1zKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2NvbmZsaWN0cycsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydGtleScsIG9wdHMsIHBhcmFtcywgdHJ1ZSk7XG4gICAgYWRkSHR0cFBhcmFtKCdzdGFydF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnZW5ka2V5Jywgb3B0cywgcGFyYW1zLCB0cnVlKTtcbiAgICBhZGRIdHRwUGFyYW0oJ2VuZF9rZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgnaW5jbHVzaXZlX2VuZCcsIG9wdHMsIHBhcmFtcyk7XG4gICAgYWRkSHR0cFBhcmFtKCdrZXknLCBvcHRzLCBwYXJhbXMsIHRydWUpO1xuICAgIGFkZEh0dHBQYXJhbSgndXBkYXRlX3NlcScsIG9wdHMsIHBhcmFtcyk7XG5cbiAgICAvLyBGb3JtYXQgdGhlIGxpc3Qgb2YgcGFyYW1ldGVycyBpbnRvIGEgdmFsaWQgVVJJIHF1ZXJ5IHN0cmluZ1xuICAgIHBhcmFtcyA9IHBhcmFtcy5qb2luKCcmJyk7XG4gICAgcGFyYW1zID0gcGFyYW1zID09PSAnJyA/ICcnIDogJz8nICsgcGFyYW1zO1xuXG4gICAgLy8gSWYga2V5cyBhcmUgc3VwcGxpZWQsIGlzc3VlIGEgUE9TVCB0byBjaXJjdW12ZW50IEdFVCBxdWVyeSBzdHJpbmcgbGltaXRzXG4gICAgLy8gc2VlIGh0dHA6Ly93aWtpLmFwYWNoZS5vcmcvY291Y2hkYi9IVFRQX3ZpZXdfQVBJI1F1ZXJ5aW5nX09wdGlvbnNcbiAgICBpZiAodHlwZW9mIG9wdHMua2V5cyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgIHZhciBNQVhfVVJMX0xFTkdUSCA9IDIwMDA7XG4gICAgICAvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvNDE3MTg0LzY4MDc0MixcbiAgICAgIC8vIHRoZSBkZSBmYWN0byBVUkwgbGVuZ3RoIGxpbWl0IGlzIDIwMDAgY2hhcmFjdGVyc1xuXG4gICAgICB2YXIga2V5c0FzU3RyaW5nID1cbiAgICAgICAgJ2tleXM9JyArIGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShvcHRzLmtleXMpKTtcbiAgICAgIGlmIChrZXlzQXNTdHJpbmcubGVuZ3RoICsgcGFyYW1zLmxlbmd0aCArIDEgPD0gTUFYX1VSTF9MRU5HVEgpIHtcbiAgICAgICAgLy8gSWYgdGhlIGtleXMgYXJlIHNob3J0IGVub3VnaCwgZG8gYSBHRVQuIHdlIGRvIHRoaXMgdG8gd29yayBhcm91bmRcbiAgICAgICAgLy8gU2FmYXJpIG5vdCB1bmRlcnN0YW5kaW5nIDMwNHMgb24gUE9TVHMgKHNlZSBwb3VjaGRiL3BvdWNoZGIjMTIzOSlcbiAgICAgICAgcGFyYW1zICs9IChwYXJhbXNbMF0gPT09ICc/JyA/ICcmJyA6ICc/JykgKyBrZXlzQXNTdHJpbmc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZXRob2QgPSAnUE9TVCc7XG4gICAgICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIGJvZHkgPSB7a2V5czogb3B0cy5rZXlzfTtcbiAgICAgICAgfSBlbHNlIHsgLy8gZnVuIGlzIHttYXAgOiBtYXBmdW59LCBzbyBhcHBlbmQgdG8gdGhpc1xuICAgICAgICAgIGZ1bi5rZXlzID0gb3B0cy5rZXlzO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHJlZmVyZW5jaW5nIGEgcXVlcnkgZGVmaW5lZCBpbiB0aGUgZGVzaWduIGRvY1xuICAgIGlmICh0eXBlb2YgZnVuID09PSAnc3RyaW5nJykge1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdW4pO1xuICAgICAgcmV0dXJuIGRiLmZldGNoKCdfZGVzaWduLycgKyBwYXJ0c1swXSArICcvX3ZpZXcvJyArIHBhcnRzWzFdICsgcGFyYW1zLCB7XG4gICAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICAgIG1ldGhvZDogbWV0aG9kLFxuICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KVxuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHtcbiAgICAgICAgb2sgPSByZXNwb25zZS5vaztcbiAgICAgICAgc3RhdHVzID0gcmVzcG9uc2Uuc3RhdHVzO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzdWx0KSB7XG4gICAgICAgIGlmICghb2spIHtcbiAgICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIHRocm93IGdlbmVyYXRlRXJyb3JGcm9tUmVzcG9uc2UocmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmYWlsIHRoZSBlbnRpcmUgcmVxdWVzdCBpZiB0aGUgcmVzdWx0IGNvbnRhaW5zIGFuIGVycm9yXG4gICAgICAgIHJlc3VsdC5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgIGlmIChyb3cudmFsdWUgJiYgcm93LnZhbHVlLmVycm9yICYmIHJvdy52YWx1ZS5lcnJvciA9PT0gXCJidWlsdGluX3JlZHVjZV9lcnJvclwiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3Iocm93LnJlYXNvbik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gICAgfVxuXG4gICAgLy8gV2UgYXJlIHVzaW5nIGEgdGVtcG9yYXJ5IHZpZXcsIHRlcnJpYmxlIGZvciBwZXJmb3JtYW5jZSwgZ29vZCBmb3IgdGVzdGluZ1xuICAgIGJvZHkgPSBib2R5IHx8IHt9O1xuICAgIE9iamVjdC5rZXlzKGZ1bikuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShmdW5ba2V5XSkpIHtcbiAgICAgICAgYm9keVtrZXldID0gZnVuW2tleV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBib2R5W2tleV0gPSBmdW5ba2V5XS50b1N0cmluZygpO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgcmV0dXJuIGRiLmZldGNoKCdfdGVtcF92aWV3JyArIHBhcmFtcywge1xuICAgICAgaGVhZGVyczogbmV3IGgoeydDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbid9KSxcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSlcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgICBvayA9IHJlc3BvbnNlLm9rO1xuICAgICAgICBzdGF0dXMgPSByZXNwb25zZS5zdGF0dXM7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgaWYgKCFvaykge1xuICAgICAgICByZXN1bHQuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aHJvdyBnZW5lcmF0ZUVycm9yRnJvbVJlc3BvbnNlKHJlc3VsdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pLnRoZW4ocG9zdHByb2Nlc3NBdHRhY2htZW50cyhvcHRzKSk7XG4gIH1cblxuICAvLyBjdXN0b20gYWRhcHRlcnMgY2FuIGRlZmluZSB0aGVpciBvd24gYXBpLl9xdWVyeVxuICAvLyBhbmQgb3ZlcnJpZGUgdGhlIGRlZmF1bHQgYmVoYXZpb3JcbiAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgZnVuY3Rpb24gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cykge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fcXVlcnkoZnVuLCBvcHRzLCBmdW5jdGlvbiAoZXJyLCByZXMpIHtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgICByZXNvbHZlKHJlcyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8vIGN1c3RvbSBhZGFwdGVycyBjYW4gZGVmaW5lIHRoZWlyIG93biBhcGkuX3ZpZXdDbGVhbnVwXG4gIC8vIGFuZCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvclxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBjdXN0b21WaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICBkYi5fdmlld0NsZWFudXAoZnVuY3Rpb24gKGVyciwgcmVzKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KGVycik7XG4gICAgICAgIH1cbiAgICAgICAgcmVzb2x2ZShyZXMpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBkZWZhdWx0c1RvKHZhbHVlKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uIChyZWFzb24pIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBlbHNlICovXG4gICAgICBpZiAocmVhc29uLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IHJlYXNvbjtcbiAgICAgIH1cbiAgICB9O1xuICB9XG5cbiAgLy8gcmV0dXJucyBhIHByb21pc2UgZm9yIGEgbGlzdCBvZiBkb2NzIHRvIHVwZGF0ZSwgYmFzZWQgb24gdGhlIGlucHV0IGRvY0lkLlxuICAvLyB0aGUgb3JkZXIgZG9lc24ndCBtYXR0ZXIsIGJlY2F1c2UgcG9zdC0zLjIuMCwgYnVsa0RvY3NcbiAgLy8gaXMgYW4gYXRvbWljIG9wZXJhdGlvbiBpbiBhbGwgdGhyZWUgYWRhcHRlcnMuXG4gIGZ1bmN0aW9uIGdldERvY3NUb1BlcnNpc3QoZG9jSWQsIHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKSB7XG4gICAgdmFyIG1ldGFEb2NJZCA9ICdfbG9jYWwvZG9jXycgKyBkb2NJZDtcbiAgICB2YXIgZGVmYXVsdE1ldGFEb2MgPSB7X2lkOiBtZXRhRG9jSWQsIGtleXM6IFtdfTtcbiAgICB2YXIgZG9jRGF0YSA9IGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLmdldChkb2NJZCk7XG4gICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IGRvY0RhdGFbMF07XG4gICAgdmFyIGNoYW5nZXMgPSBkb2NEYXRhWzFdO1xuXG4gICAgZnVuY3Rpb24gZ2V0TWV0YURvYygpIHtcbiAgICAgIGlmIChpc0dlbk9uZShjaGFuZ2VzKSkge1xuICAgICAgICAvLyBnZW5lcmF0aW9uIDEsIHNvIHdlIGNhbiBzYWZlbHkgYXNzdW1lIGluaXRpYWwgc3RhdGVcbiAgICAgICAgLy8gZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnMgKGF2b2lkcyB1bm5lY2Vzc2FyeSBHRVRzKVxuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGRlZmF1bHRNZXRhRG9jKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2aWV3LmRiLmdldChtZXRhRG9jSWQpLmNhdGNoKGRlZmF1bHRzVG8oZGVmYXVsdE1ldGFEb2MpKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBnZXRLZXlWYWx1ZURvY3MobWV0YURvYykge1xuICAgICAgaWYgKCFtZXRhRG9jLmtleXMubGVuZ3RoKSB7XG4gICAgICAgIC8vIG5vIGtleXMsIG5vIG5lZWQgZm9yIGEgbG9va3VwXG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoe3Jvd3M6IFtdfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmlldy5kYi5hbGxEb2NzKHtcbiAgICAgICAga2V5czogbWV0YURvYy5rZXlzLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWVcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKSB7XG4gICAgICB2YXIga3ZEb2NzID0gW107XG4gICAgICB2YXIgb2xkS2V5cyA9IG5ldyBFeHBvcnRlZFNldCgpO1xuXG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0ga3ZEb2NzUmVzLnJvd3MubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIHJvdyA9IGt2RG9jc1Jlcy5yb3dzW2ldO1xuICAgICAgICB2YXIgZG9jID0gcm93LmRvYztcbiAgICAgICAgaWYgKCFkb2MpIHsgLy8gZGVsZXRlZFxuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGt2RG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIG9sZEtleXMuYWRkKGRvYy5faWQpO1xuICAgICAgICBkb2MuX2RlbGV0ZWQgPSAhaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmhhcyhkb2MuX2lkKTtcbiAgICAgICAgaWYgKCFkb2MuX2RlbGV0ZWQpIHtcbiAgICAgICAgICB2YXIga2V5VmFsdWUgPSBpbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMuZ2V0KGRvYy5faWQpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBkb2MudmFsdWUgPSBrZXlWYWx1ZS52YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHZhciBuZXdLZXlzID0gbWFwVG9LZXlzQXJyYXkoaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKTtcbiAgICAgIG5ld0tleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KSB7XG4gICAgICAgIGlmICghb2xkS2V5cy5oYXMoa2V5KSkge1xuICAgICAgICAgIC8vIG5ldyBkb2NcbiAgICAgICAgICB2YXIga3ZEb2MgPSB7XG4gICAgICAgICAgICBfaWQ6IGtleVxuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIGtleVZhbHVlID0gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLmdldChrZXkpO1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIGtleVZhbHVlKSB7XG4gICAgICAgICAgICBrdkRvYy52YWx1ZSA9IGtleVZhbHVlLnZhbHVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBrdkRvY3MucHVzaChrdkRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbWV0YURvYy5rZXlzID0gdW5pcShuZXdLZXlzLmNvbmNhdChtZXRhRG9jLmtleXMpKTtcbiAgICAgIGt2RG9jcy5wdXNoKG1ldGFEb2MpO1xuXG4gICAgICByZXR1cm4ga3ZEb2NzO1xuICAgIH1cblxuICAgIHJldHVybiBnZXRNZXRhRG9jKCkudGhlbihmdW5jdGlvbiAobWV0YURvYykge1xuICAgICAgcmV0dXJuIGdldEtleVZhbHVlRG9jcyhtZXRhRG9jKS50aGVuKGZ1bmN0aW9uIChrdkRvY3NSZXMpIHtcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NLZXlWYWx1ZURvY3MobWV0YURvYywga3ZEb2NzUmVzKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLy8gdXBkYXRlcyBhbGwgZW1pdHRlZCBrZXkvdmFsdWUgZG9jcyBhbmQgbWV0YURvY3MgaW4gdGhlIG1ydmlldyBkYXRhYmFzZVxuICAvLyBmb3IgdGhlIGdpdmVuIGJhdGNoIG9mIGRvY3VtZW50cyBmcm9tIHRoZSBzb3VyY2UgZGF0YWJhc2VcbiAgZnVuY3Rpb24gc2F2ZUtleVZhbHVlcyh2aWV3LCBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cywgc2VxKSB7XG4gICAgdmFyIHNlcURvY0lkID0gJ19sb2NhbC9sYXN0U2VxJztcbiAgICByZXR1cm4gdmlldy5kYi5nZXQoc2VxRG9jSWQpXG4gICAgICAuY2F0Y2goZGVmYXVsdHNUbyh7X2lkOiBzZXFEb2NJZCwgc2VxOiAwfSkpXG4gICAgICAudGhlbihmdW5jdGlvbiAobGFzdFNlcURvYykge1xuICAgICAgICB2YXIgZG9jSWRzID0gbWFwVG9LZXlzQXJyYXkoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZG9jSWRzLm1hcChmdW5jdGlvbiAoZG9jSWQpIHtcbiAgICAgICAgICByZXR1cm4gZ2V0RG9jc1RvUGVyc2lzdChkb2NJZCwgdmlldywgZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMpO1xuICAgICAgICB9KSkudGhlbihmdW5jdGlvbiAobGlzdE9mRG9jc1RvUGVyc2lzdCkge1xuICAgICAgICAgIHZhciBkb2NzVG9QZXJzaXN0ID0gZmxhdHRlbihsaXN0T2ZEb2NzVG9QZXJzaXN0KTtcbiAgICAgICAgICBsYXN0U2VxRG9jLnNlcSA9IHNlcTtcbiAgICAgICAgICBkb2NzVG9QZXJzaXN0LnB1c2gobGFzdFNlcURvYyk7XG4gICAgICAgICAgLy8gd3JpdGUgYWxsIGRvY3MgaW4gYSBzaW5nbGUgb3BlcmF0aW9uLCB1cGRhdGUgdGhlIHNlcSBvbmNlXG4gICAgICAgICAgcmV0dXJuIHZpZXcuZGIuYnVsa0RvY3Moe2RvY3MgOiBkb2NzVG9QZXJzaXN0fSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRRdWV1ZSh2aWV3KSB7XG4gICAgdmFyIHZpZXdOYW1lID0gdHlwZW9mIHZpZXcgPT09ICdzdHJpbmcnID8gdmlldyA6IHZpZXcubmFtZTtcbiAgICB2YXIgcXVldWUgPSBwZXJzaXN0ZW50UXVldWVzW3ZpZXdOYW1lXTtcbiAgICBpZiAoIXF1ZXVlKSB7XG4gICAgICBxdWV1ZSA9IHBlcnNpc3RlbnRRdWV1ZXNbdmlld05hbWVdID0gbmV3IFRhc2tRdWV1ZSQxKCk7XG4gICAgfVxuICAgIHJldHVybiBxdWV1ZTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gdXBkYXRlVmlld0luUXVldWUodmlldywgb3B0cyk7XG4gICAgfSkoKTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHVwZGF0ZVZpZXdJblF1ZXVlKHZpZXcsIG9wdHMpIHtcbiAgICAvLyBiaW5kIHRoZSBlbWl0IGZ1bmN0aW9uIG9uY2VcbiAgICB2YXIgbWFwUmVzdWx0cztcbiAgICB2YXIgZG9jO1xuXG4gICAgZnVuY3Rpb24gZW1pdChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgb3V0cHV0ID0ge2lkOiBkb2MuX2lkLCBrZXk6IG5vcm1hbGl6ZUtleShrZXkpfTtcbiAgICAgIC8vIERvbid0IGV4cGxpY2l0bHkgc3RvcmUgdGhlIHZhbHVlIHVubGVzcyBpdCdzIGRlZmluZWQgYW5kIG5vbi1udWxsLlxuICAgICAgLy8gVGhpcyBzYXZlcyBvbiBzdG9yYWdlIHNwYWNlLCBiZWNhdXNlIG9mdGVuIHBlb3BsZSBkb24ndCB1c2UgaXQuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlICE9PSAndW5kZWZpbmVkJyAmJiB2YWx1ZSAhPT0gbnVsbCkge1xuICAgICAgICBvdXRwdXQudmFsdWUgPSBub3JtYWxpemVLZXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgbWFwUmVzdWx0cy5wdXNoKG91dHB1dCk7XG4gICAgfVxuXG4gICAgdmFyIG1hcEZ1biA9IG1hcHBlcih2aWV3Lm1hcEZ1biwgZW1pdCk7XG5cbiAgICB2YXIgY3VycmVudFNlcSA9IHZpZXcuc2VxIHx8IDA7XG5cbiAgICBmdW5jdGlvbiBwcm9jZXNzQ2hhbmdlKGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHJldHVybiBzYXZlS2V5VmFsdWVzKHZpZXcsIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLCBzZXEpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICBsZXQgaW5kZXhlZF9kb2NzID0gMDtcbiAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICB2aWV3OiB2aWV3Lm5hbWUsXG4gICAgICBpbmRleGVkX2RvY3M6IGluZGV4ZWRfZG9jc1xuICAgIH07XG4gICAgdmlldy5zb3VyY2VEQi5lbWl0KCdpbmRleGluZycsIHByb2dyZXNzKTtcblxuICAgIHZhciBxdWV1ZSA9IG5ldyBUYXNrUXVldWUkMSgpO1xuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc05leHRCYXRjaCgpIHtcbiAgICAgIHJldHVybiB2aWV3LnNvdXJjZURCLmNoYW5nZXMoe1xuICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSxcbiAgICAgICAgY29uZmxpY3RzOiB0cnVlLFxuICAgICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICAgIHN0eWxlOiAnYWxsX2RvY3MnLFxuICAgICAgICBzaW5jZTogY3VycmVudFNlcSxcbiAgICAgICAgbGltaXQ6IG9wdHMuY2hhbmdlc19iYXRjaF9zaXplXG4gICAgICB9KS50aGVuKHByb2Nlc3NCYXRjaCk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHJvY2Vzc0JhdGNoKHJlc3BvbnNlKSB7XG4gICAgICB2YXIgcmVzdWx0cyA9IHJlc3BvbnNlLnJlc3VsdHM7XG4gICAgICBpZiAoIXJlc3VsdHMubGVuZ3RoKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpO1xuICAgICAgcXVldWUuYWRkKHByb2Nlc3NDaGFuZ2UoZG9jSWRzVG9DaGFuZ2VzQW5kRW1pdHMsIGN1cnJlbnRTZXEpKTtcblxuICAgICAgaW5kZXhlZF9kb2NzID0gaW5kZXhlZF9kb2NzICsgcmVzdWx0cy5sZW5ndGg7XG4gICAgICBsZXQgcHJvZ3Jlc3MgPSB7XG4gICAgICAgIHZpZXc6IHZpZXcubmFtZSxcbiAgICAgICAgbGFzdF9zZXE6IHJlc3BvbnNlLmxhc3Rfc2VxLFxuICAgICAgICByZXN1bHRzX2NvdW50OiByZXN1bHRzLmxlbmd0aCxcbiAgICAgICAgaW5kZXhlZF9kb2NzOiBpbmRleGVkX2RvY3NcbiAgICAgIH07XG4gICAgICB2aWV3LnNvdXJjZURCLmVtaXQoJ2luZGV4aW5nJywgcHJvZ3Jlc3MpO1xuICAgICAgXG4gICAgICBpZiAocmVzdWx0cy5sZW5ndGggPCBvcHRzLmNoYW5nZXNfYmF0Y2hfc2l6ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvY2Vzc05leHRCYXRjaCgpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzKHJlc3VsdHMpIHtcbiAgICAgIHZhciBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbiA9IHJlc3VsdHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgdmFyIGNoYW5nZSA9IHJlc3VsdHNbaV07XG4gICAgICAgIGlmIChjaGFuZ2UuZG9jLl9pZFswXSAhPT0gJ18nKSB7XG4gICAgICAgICAgbWFwUmVzdWx0cyA9IFtdO1xuICAgICAgICAgIGRvYyA9IGNoYW5nZS5kb2M7XG5cbiAgICAgICAgICBpZiAoIWRvYy5fZGVsZXRlZCkge1xuICAgICAgICAgICAgdHJ5TWFwKHZpZXcuc291cmNlREIsIG1hcEZ1biwgZG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbWFwUmVzdWx0cy5zb3J0KHNvcnRCeUtleVRoZW5WYWx1ZSk7XG5cbiAgICAgICAgICB2YXIgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzID0gY3JlYXRlSW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzKG1hcFJlc3VsdHMpO1xuICAgICAgICAgIGRvY0lkc1RvQ2hhbmdlc0FuZEVtaXRzLnNldChjaGFuZ2UuZG9jLl9pZCwgW1xuICAgICAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLFxuICAgICAgICAgICAgY2hhbmdlLmNoYW5nZXNcbiAgICAgICAgICBdKTtcbiAgICAgICAgfVxuICAgICAgICBjdXJyZW50U2VxID0gY2hhbmdlLnNlcTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBkb2NJZHNUb0NoYW5nZXNBbmRFbWl0cztcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVJbmRleGFibGVLZXlzVG9LZXlWYWx1ZXMobWFwUmVzdWx0cykge1xuICAgICAgdmFyIGluZGV4YWJsZUtleXNUb0tleVZhbHVlcyA9IG5ldyBFeHBvcnRlZE1hcCgpO1xuICAgICAgdmFyIGxhc3RLZXk7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gbWFwUmVzdWx0cy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgICAgICB2YXIgZW1pdHRlZEtleVZhbHVlID0gbWFwUmVzdWx0c1tpXTtcbiAgICAgICAgdmFyIGNvbXBsZXhLZXkgPSBbZW1pdHRlZEtleVZhbHVlLmtleSwgZW1pdHRlZEtleVZhbHVlLmlkXTtcbiAgICAgICAgaWYgKGkgPiAwICYmIGNvbGxhdGUoZW1pdHRlZEtleVZhbHVlLmtleSwgbGFzdEtleSkgPT09IDApIHtcbiAgICAgICAgICBjb21wbGV4S2V5LnB1c2goaSk7IC8vIGR1cCBrZXkraWQsIHNvIG1ha2UgaXQgdW5pcXVlXG4gICAgICAgIH1cbiAgICAgICAgaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzLnNldCh0b0luZGV4YWJsZVN0cmluZyhjb21wbGV4S2V5KSwgZW1pdHRlZEtleVZhbHVlKTtcbiAgICAgICAgbGFzdEtleSA9IGVtaXR0ZWRLZXlWYWx1ZS5rZXk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaW5kZXhhYmxlS2V5c1RvS2V5VmFsdWVzO1xuICAgIH1cblxuICAgIHJldHVybiBwcm9jZXNzTmV4dEJhdGNoKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVldWUuZmluaXNoKCk7XG4gICAgfSkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB2aWV3LnNlcSA9IGN1cnJlbnRTZXE7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiByZWR1Y2VWaWV3KHZpZXcsIHJlc3VsdHMsIG9wdGlvbnMpIHtcbiAgICBpZiAob3B0aW9ucy5ncm91cF9sZXZlbCA9PT0gMCkge1xuICAgICAgZGVsZXRlIG9wdGlvbnMuZ3JvdXBfbGV2ZWw7XG4gICAgfVxuXG4gICAgdmFyIHNob3VsZEdyb3VwID0gb3B0aW9ucy5ncm91cCB8fCBvcHRpb25zLmdyb3VwX2xldmVsO1xuXG4gICAgdmFyIHJlZHVjZUZ1biA9IHJlZHVjZXIodmlldy5yZWR1Y2VGdW4pO1xuXG4gICAgdmFyIGdyb3VwcyA9IFtdO1xuICAgIHZhciBsdmwgPSBpc05hTihvcHRpb25zLmdyb3VwX2xldmVsKSA/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSA6XG4gICAgICBvcHRpb25zLmdyb3VwX2xldmVsO1xuICAgIHJlc3VsdHMuZm9yRWFjaChmdW5jdGlvbiAoZSkge1xuICAgICAgdmFyIGxhc3QgPSBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdO1xuICAgICAgdmFyIGdyb3VwS2V5ID0gc2hvdWxkR3JvdXAgPyBlLmtleSA6IG51bGw7XG5cbiAgICAgIC8vIG9ubHkgc2V0IGdyb3VwX2xldmVsIGZvciBhcnJheSBrZXlzXG4gICAgICBpZiAoc2hvdWxkR3JvdXAgJiYgQXJyYXkuaXNBcnJheShncm91cEtleSkpIHtcbiAgICAgICAgZ3JvdXBLZXkgPSBncm91cEtleS5zbGljZSgwLCBsdmwpO1xuICAgICAgfVxuXG4gICAgICBpZiAobGFzdCAmJiBjb2xsYXRlKGxhc3QuZ3JvdXBLZXksIGdyb3VwS2V5KSA9PT0gMCkge1xuICAgICAgICBsYXN0LmtleXMucHVzaChbZS5rZXksIGUuaWRdKTtcbiAgICAgICAgbGFzdC52YWx1ZXMucHVzaChlLnZhbHVlKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICBrZXlzOiBbW2Uua2V5LCBlLmlkXV0sXG4gICAgICAgIHZhbHVlczogW2UudmFsdWVdLFxuICAgICAgICBncm91cEtleTogZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJlc3VsdHMgPSBbXTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gZ3JvdXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICB2YXIgZSA9IGdyb3Vwc1tpXTtcbiAgICAgIHZhciByZWR1Y2VUcnkgPSB0cnlSZWR1Y2Uodmlldy5zb3VyY2VEQiwgcmVkdWNlRnVuLCBlLmtleXMsIGUudmFsdWVzLCBmYWxzZSk7XG4gICAgICBpZiAocmVkdWNlVHJ5LmVycm9yICYmIHJlZHVjZVRyeS5lcnJvciBpbnN0YW5jZW9mIEJ1aWx0SW5FcnJvcikge1xuICAgICAgICAvLyBDb3VjaERCIHJldHVybnMgYW4gZXJyb3IgaWYgYSBidWlsdC1pbiBlcnJvcnMgb3V0XG4gICAgICAgIHRocm93IHJlZHVjZVRyeS5lcnJvcjtcbiAgICAgIH1cbiAgICAgIHJlc3VsdHMucHVzaCh7XG4gICAgICAgIC8vIENvdWNoREIganVzdCBzZXRzIHRoZSB2YWx1ZSB0byBudWxsIGlmIGEgbm9uLWJ1aWx0LWluIGVycm9ycyBvdXRcbiAgICAgICAgdmFsdWU6IHJlZHVjZVRyeS5lcnJvciA/IG51bGwgOiByZWR1Y2VUcnkub3V0cHV0LFxuICAgICAgICBrZXk6IGUuZ3JvdXBLZXlcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyBubyB0b3RhbF9yb3dzL29mZnNldCB3aGVuIHJlZHVjaW5nXG4gICAgcmV0dXJuIHtyb3dzOiBzbGljZVJlc3VsdHMocmVzdWx0cywgb3B0aW9ucy5saW1pdCwgb3B0aW9ucy5za2lwKX07XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVZpZXcodmlldywgb3B0cykge1xuICAgIHJldHVybiBzZXF1ZW50aWFsaXplKGdldFF1ZXVlKHZpZXcpLCBmdW5jdGlvbiAoKSB7XG4gICAgICByZXR1cm4gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKTtcbiAgICB9KSgpO1xuICB9XG5cbiAgZnVuY3Rpb24gcXVlcnlWaWV3SW5RdWV1ZSh2aWV3LCBvcHRzKSB7XG4gICAgdmFyIHRvdGFsUm93cztcbiAgICB2YXIgc2hvdWxkUmVkdWNlID0gdmlldy5yZWR1Y2VGdW4gJiYgb3B0cy5yZWR1Y2UgIT09IGZhbHNlO1xuICAgIHZhciBza2lwID0gb3B0cy5za2lwIHx8IDA7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnICYmICFvcHRzLmtleXMubGVuZ3RoKSB7XG4gICAgICAvLyBlcXVpdmFsZW50IHF1ZXJ5XG4gICAgICBvcHRzLmxpbWl0ID0gMDtcbiAgICAgIGRlbGV0ZSBvcHRzLmtleXM7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZmV0Y2hGcm9tVmlldyh2aWV3T3B0cykge1xuICAgICAgdmlld09wdHMuaW5jbHVkZV9kb2NzID0gdHJ1ZTtcbiAgICAgIHJldHVybiB2aWV3LmRiLmFsbERvY3Modmlld09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgICB0b3RhbFJvd3MgPSByZXMudG90YWxfcm93cztcbiAgICAgICAgcmV0dXJuIHJlcy5yb3dzLm1hcChmdW5jdGlvbiAocmVzdWx0KSB7XG5cbiAgICAgICAgICAvLyBpbXBsaWNpdCBtaWdyYXRpb24gLSBpbiBvbGRlciB2ZXJzaW9ucyBvZiBQb3VjaERCLFxuICAgICAgICAgIC8vIHdlIGV4cGxpY2l0bHkgc3RvcmVkIHRoZSBkb2MgYXMge2lkOiAuLi4sIGtleTogLi4uLCB2YWx1ZTogLi4ufVxuICAgICAgICAgIC8vIHRoaXMgaXMgdGVzdGVkIGluIGEgbWlncmF0aW9uIHRlc3RcbiAgICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgICAgICAgIGlmICgndmFsdWUnIGluIHJlc3VsdC5kb2MgJiYgdHlwZW9mIHJlc3VsdC5kb2MudmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgICAgICAgICByZXN1bHQuZG9jLnZhbHVlICE9PSBudWxsKSB7XG4gICAgICAgICAgICB2YXIga2V5cyA9IE9iamVjdC5rZXlzKHJlc3VsdC5kb2MudmFsdWUpLnNvcnQoKTtcbiAgICAgICAgICAgIC8vIHRoaXMgZGV0ZWN0aW9uIG1ldGhvZCBpcyBub3QgcGVyZmVjdCwgYnV0IGl0J3MgdW5saWtlbHkgdGhlIHVzZXJcbiAgICAgICAgICAgIC8vIGVtaXR0ZWQgYSB2YWx1ZSB3aGljaCB3YXMgYW4gb2JqZWN0IHdpdGggdGhlc2UgMyBleGFjdCBrZXlzXG4gICAgICAgICAgICB2YXIgZXhwZWN0ZWRLZXlzID0gWydpZCcsICdrZXknLCAndmFsdWUnXTtcbiAgICAgICAgICAgIGlmICghKGtleXMgPCBleHBlY3RlZEtleXMgfHwga2V5cyA+IGV4cGVjdGVkS2V5cykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kb2MudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgdmFyIHBhcnNlZEtleUFuZERvY0lkID0gcGFyc2VJbmRleGFibGVTdHJpbmcocmVzdWx0LmRvYy5faWQpO1xuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBrZXk6IHBhcnNlZEtleUFuZERvY0lkWzBdLFxuICAgICAgICAgICAgaWQ6IHBhcnNlZEtleUFuZERvY0lkWzFdLFxuICAgICAgICAgICAgdmFsdWU6ICgndmFsdWUnIGluIHJlc3VsdC5kb2MgPyByZXN1bHQuZG9jLnZhbHVlIDogbnVsbClcbiAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG9uTWFwUmVzdWx0c1JlYWR5KHJvd3MpIHtcbiAgICAgIHZhciBmaW5hbFJlc3VsdHM7XG4gICAgICBpZiAoc2hvdWxkUmVkdWNlKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHJlZHVjZVZpZXcodmlldywgcm93cywgb3B0cyk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGVvZiBvcHRzLmtleXMgPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIGZpbmFsUmVzdWx0cyA9IHtcbiAgICAgICAgICB0b3RhbF9yb3dzOiB0b3RhbFJvd3MsXG4gICAgICAgICAgb2Zmc2V0OiBza2lwLFxuICAgICAgICAgIHJvd3M6IHJvd3NcbiAgICAgICAgfTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIC8vIHN1cHBvcnQgbGltaXQsIHNraXAgZm9yIGtleXMgcXVlcnlcbiAgICAgICAgZmluYWxSZXN1bHRzID0ge1xuICAgICAgICAgIHRvdGFsX3Jvd3M6IHRvdGFsUm93cyxcbiAgICAgICAgICBvZmZzZXQ6IHNraXAsXG4gICAgICAgICAgcm93czogc2xpY2VSZXN1bHRzKHJvd3Msb3B0cy5saW1pdCxvcHRzLnNraXApXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChvcHRzLnVwZGF0ZV9zZXEpIHtcbiAgICAgICAgZmluYWxSZXN1bHRzLnVwZGF0ZV9zZXEgPSB2aWV3LnNlcTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLmluY2x1ZGVfZG9jcykge1xuICAgICAgICB2YXIgZG9jSWRzID0gdW5pcShyb3dzLm1hcChyb3dUb0RvY0lkKSk7XG5cbiAgICAgICAgcmV0dXJuIHZpZXcuc291cmNlREIuYWxsRG9jcyh7XG4gICAgICAgICAga2V5czogZG9jSWRzLFxuICAgICAgICAgIGluY2x1ZGVfZG9jczogdHJ1ZSxcbiAgICAgICAgICBjb25mbGljdHM6IG9wdHMuY29uZmxpY3RzLFxuICAgICAgICAgIGF0dGFjaG1lbnRzOiBvcHRzLmF0dGFjaG1lbnRzLFxuICAgICAgICAgIGJpbmFyeTogb3B0cy5iaW5hcnlcbiAgICAgICAgfSkudGhlbihmdW5jdGlvbiAoYWxsRG9jc1Jlcykge1xuICAgICAgICAgIHZhciBkb2NJZHNUb0RvY3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgICAgICBhbGxEb2NzUmVzLnJvd3MuZm9yRWFjaChmdW5jdGlvbiAocm93KSB7XG4gICAgICAgICAgICBkb2NJZHNUb0RvY3Muc2V0KHJvdy5pZCwgcm93LmRvYyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcm93cy5mb3JFYWNoKGZ1bmN0aW9uIChyb3cpIHtcbiAgICAgICAgICAgIHZhciBkb2NJZCA9IHJvd1RvRG9jSWQocm93KTtcbiAgICAgICAgICAgIHZhciBkb2MgPSBkb2NJZHNUb0RvY3MuZ2V0KGRvY0lkKTtcbiAgICAgICAgICAgIGlmIChkb2MpIHtcbiAgICAgICAgICAgICAgcm93LmRvYyA9IGRvYztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZmluYWxSZXN1bHRzO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaW5hbFJlc3VsdHM7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHR5cGVvZiBvcHRzLmtleXMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICB2YXIga2V5cyA9IG9wdHMua2V5cztcbiAgICAgIHZhciBmZXRjaFByb21pc2VzID0ga2V5cy5tYXAoZnVuY3Rpb24gKGtleSkge1xuICAgICAgICB2YXIgdmlld09wdHMgPSB7XG4gICAgICAgICAgc3RhcnRrZXkgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5XSksXG4gICAgICAgICAgZW5ka2V5ICAgOiB0b0luZGV4YWJsZVN0cmluZyhba2V5LCB7fV0pXG4gICAgICAgIH07XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgICAgdmlld09wdHMudXBkYXRlX3NlcSA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoZmV0Y2hQcm9taXNlcykudGhlbihmbGF0dGVuKS50aGVuKG9uTWFwUmVzdWx0c1JlYWR5KTtcbiAgICB9IGVsc2UgeyAvLyBub3JtYWwgcXVlcnksIG5vICdrZXlzJ1xuICAgICAgdmFyIHZpZXdPcHRzID0ge1xuICAgICAgICBkZXNjZW5kaW5nIDogb3B0cy5kZXNjZW5kaW5nXG4gICAgICB9O1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAob3B0cy51cGRhdGVfc2VxKSB7XG4gICAgICAgIHZpZXdPcHRzLnVwZGF0ZV9zZXEgPSB0cnVlO1xuICAgICAgfVxuICAgICAgdmFyIHN0YXJ0a2V5O1xuICAgICAgdmFyIGVuZGtleTtcbiAgICAgIGlmICgnc3RhcnRfa2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ3N0YXJ0a2V5JyBpbiBvcHRzKSB7XG4gICAgICAgIHN0YXJ0a2V5ID0gb3B0cy5zdGFydGtleTtcbiAgICAgIH1cbiAgICAgIGlmICgnZW5kX2tleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZF9rZXk7XG4gICAgICB9XG4gICAgICBpZiAoJ2VuZGtleScgaW4gb3B0cykge1xuICAgICAgICBlbmRrZXkgPSBvcHRzLmVuZGtleTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygc3RhcnRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0gb3B0cy5kZXNjZW5kaW5nID9cbiAgICAgICAgICB0b0luZGV4YWJsZVN0cmluZyhbc3RhcnRrZXksIHt9XSkgOlxuICAgICAgICAgIHRvSW5kZXhhYmxlU3RyaW5nKFtzdGFydGtleV0pO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiBlbmRrZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBpbmNsdXNpdmVFbmQgPSBvcHRzLmluY2x1c2l2ZV9lbmQgIT09IGZhbHNlO1xuICAgICAgICBpZiAob3B0cy5kZXNjZW5kaW5nKSB7XG4gICAgICAgICAgaW5jbHVzaXZlRW5kID0gIWluY2x1c2l2ZUVuZDtcbiAgICAgICAgfVxuXG4gICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IHRvSW5kZXhhYmxlU3RyaW5nKFxuICAgICAgICAgIGluY2x1c2l2ZUVuZCA/IFtlbmRrZXksIHt9XSA6IFtlbmRrZXldKTtcbiAgICAgIH1cbiAgICAgIGlmICh0eXBlb2Ygb3B0cy5rZXkgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHZhciBrZXlTdGFydCA9IHRvSW5kZXhhYmxlU3RyaW5nKFtvcHRzLmtleV0pO1xuICAgICAgICB2YXIga2V5RW5kID0gdG9JbmRleGFibGVTdHJpbmcoW29wdHMua2V5LCB7fV0pO1xuICAgICAgICBpZiAodmlld09wdHMuZGVzY2VuZGluZykge1xuICAgICAgICAgIHZpZXdPcHRzLmVuZGtleSA9IGtleVN0YXJ0O1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5RW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZpZXdPcHRzLnN0YXJ0a2V5ID0ga2V5U3RhcnQ7XG4gICAgICAgICAgdmlld09wdHMuZW5ka2V5ID0ga2V5RW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNob3VsZFJlZHVjZSkge1xuICAgICAgICBpZiAodHlwZW9mIG9wdHMubGltaXQgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgdmlld09wdHMubGltaXQgPSBvcHRzLmxpbWl0O1xuICAgICAgICB9XG4gICAgICAgIHZpZXdPcHRzLnNraXAgPSBza2lwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZldGNoRnJvbVZpZXcodmlld09wdHMpLnRoZW4ob25NYXBSZXN1bHRzUmVhZHkpO1xuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIGh0dHBWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5mZXRjaCgnX3ZpZXdfY2xlYW51cCcsIHtcbiAgICAgIGhlYWRlcnM6IG5ldyBoKHsnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nfSksXG4gICAgICBtZXRob2Q6ICdQT1NUJ1xuICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UuanNvbigpO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gbG9jYWxWaWV3Q2xlYW51cChkYikge1xuICAgIHJldHVybiBkYi5nZXQoJ19sb2NhbC8nICsgbG9jYWxEb2NOYW1lKS50aGVuKGZ1bmN0aW9uIChtZXRhRG9jKSB7XG4gICAgICB2YXIgZG9jc1RvVmlld3MgPSBuZXcgRXhwb3J0ZWRNYXAoKTtcbiAgICAgIE9iamVjdC5rZXlzKG1ldGFEb2Mudmlld3MpLmZvckVhY2goZnVuY3Rpb24gKGZ1bGxWaWV3TmFtZSkge1xuICAgICAgICB2YXIgcGFydHMgPSBwYXJzZVZpZXdOYW1lKGZ1bGxWaWV3TmFtZSk7XG4gICAgICAgIHZhciBkZXNpZ25Eb2NOYW1lID0gJ19kZXNpZ24vJyArIHBhcnRzWzBdO1xuICAgICAgICB2YXIgdmlld05hbWUgPSBwYXJ0c1sxXTtcbiAgICAgICAgdmFyIHZpZXdzID0gZG9jc1RvVmlld3MuZ2V0KGRlc2lnbkRvY05hbWUpO1xuICAgICAgICBpZiAoIXZpZXdzKSB7XG4gICAgICAgICAgdmlld3MgPSBuZXcgRXhwb3J0ZWRTZXQoKTtcbiAgICAgICAgICBkb2NzVG9WaWV3cy5zZXQoZGVzaWduRG9jTmFtZSwgdmlld3MpO1xuICAgICAgICB9XG4gICAgICAgIHZpZXdzLmFkZCh2aWV3TmFtZSk7XG4gICAgICB9KTtcbiAgICAgIHZhciBvcHRzID0ge1xuICAgICAgICBrZXlzIDogbWFwVG9LZXlzQXJyYXkoZG9jc1RvVmlld3MpLFxuICAgICAgICBpbmNsdWRlX2RvY3MgOiB0cnVlXG4gICAgICB9O1xuICAgICAgcmV0dXJuIGRiLmFsbERvY3Mob3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIHZhciB2aWV3c1RvU3RhdHVzID0ge307XG4gICAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICAgIHZhciBkZG9jTmFtZSA9IHJvdy5rZXkuc3Vic3RyaW5nKDgpOyAvLyBjdXRzIG9mZiAnX2Rlc2lnbi8nXG4gICAgICAgICAgZG9jc1RvVmlld3MuZ2V0KHJvdy5rZXkpLmZvckVhY2goZnVuY3Rpb24gKHZpZXdOYW1lKSB7XG4gICAgICAgICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZGRvY05hbWUgKyAnLycgKyB2aWV3TmFtZTtcbiAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgaWYgKCFtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pIHtcbiAgICAgICAgICAgICAgLy8gbmV3IGZvcm1hdCwgd2l0aG91dCBzbGFzaGVzLCB0byBzdXBwb3J0IFBvdWNoREIgMi4yLjBcbiAgICAgICAgICAgICAgLy8gbWlncmF0aW9uIHRlc3QgaW4gcG91Y2hkYidzIGJyb3dzZXIubWlncmF0aW9uLmpzIHZlcmlmaWVzIHRoaXNcbiAgICAgICAgICAgICAgZnVsbFZpZXdOYW1lID0gdmlld05hbWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgdmlld0RCTmFtZXMgPSBPYmplY3Qua2V5cyhtZXRhRG9jLnZpZXdzW2Z1bGxWaWV3TmFtZV0pO1xuICAgICAgICAgICAgLy8gZGVzaWduIGRvYyBkZWxldGVkLCBvciB2aWV3IGZ1bmN0aW9uIG5vbmV4aXN0ZW50XG4gICAgICAgICAgICB2YXIgc3RhdHVzSXNHb29kID0gcm93LmRvYyAmJiByb3cuZG9jLnZpZXdzICYmXG4gICAgICAgICAgICAgIHJvdy5kb2Mudmlld3Nbdmlld05hbWVdO1xuICAgICAgICAgICAgdmlld0RCTmFtZXMuZm9yRWFjaChmdW5jdGlvbiAodmlld0RCTmFtZSkge1xuICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdID1cbiAgICAgICAgICAgICAgICB2aWV3c1RvU3RhdHVzW3ZpZXdEQk5hbWVdIHx8IHN0YXR1c0lzR29vZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgdmFyIGRic1RvRGVsZXRlID0gT2JqZWN0LmtleXModmlld3NUb1N0YXR1cykuZmlsdGVyKFxuICAgICAgICAgIGZ1bmN0aW9uICh2aWV3REJOYW1lKSB7IHJldHVybiAhdmlld3NUb1N0YXR1c1t2aWV3REJOYW1lXTsgfSk7XG4gICAgICAgIHZhciBkZXN0cm95UHJvbWlzZXMgPSBkYnNUb0RlbGV0ZS5tYXAoZnVuY3Rpb24gKHZpZXdEQk5hbWUpIHtcbiAgICAgICAgICByZXR1cm4gc2VxdWVudGlhbGl6ZShnZXRRdWV1ZSh2aWV3REJOYW1lKSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBkYi5jb25zdHJ1Y3Rvcih2aWV3REJOYW1lLCBkYi5fX29wdHMpLmRlc3Ryb3koKTtcbiAgICAgICAgICB9KSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGRlc3Ryb3lQcm9taXNlcykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgcmV0dXJuIHtvazogdHJ1ZX07XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSwgZGVmYXVsdHNUbyh7b2s6IHRydWV9KSk7XG4gIH1cblxuICBmdW5jdGlvbiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3F1ZXJ5ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuICAgIGlmIChpc1JlbW90ZShkYikpIHtcbiAgICAgIHJldHVybiBodHRwUXVlcnkoZGIsIGZ1biwgb3B0cyk7XG4gICAgfVxuXG4gICAgdmFyIHVwZGF0ZVZpZXdPcHRzID0ge1xuICAgICAgY2hhbmdlc19iYXRjaF9zaXplOiBkYi5fX29wdHMudmlld191cGRhdGVfY2hhbmdlc19iYXRjaF9zaXplIHx8IENIQU5HRVNfQkFUQ0hfU0laRSQxXG4gICAgfTtcblxuICAgIGlmICh0eXBlb2YgZnVuICE9PSAnc3RyaW5nJykge1xuICAgICAgLy8gdGVtcF92aWV3XG4gICAgICBjaGVja1F1ZXJ5UGFyc2VFcnJvcihvcHRzLCBmdW4pO1xuXG4gICAgICB0ZW1wVmlld1F1ZXVlLmFkZChmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBjcmVhdGVWaWV3UHJvbWlzZSA9IGNyZWF0ZVZpZXcoXG4gICAgICAgICAgLyogc291cmNlREIgKi8gZGIsXG4gICAgICAgICAgLyogdmlld05hbWUgKi8gJ3RlbXBfdmlldy90ZW1wX3ZpZXcnLFxuICAgICAgICAgIC8qIG1hcEZ1biAqLyBmdW4ubWFwLFxuICAgICAgICAgIC8qIHJlZHVjZUZ1biAqLyBmdW4ucmVkdWNlLFxuICAgICAgICAgIC8qIHRlbXBvcmFyeSAqLyB0cnVlLFxuICAgICAgICAgIC8qIGxvY2FsRG9jTmFtZSAqLyBsb2NhbERvY05hbWUpO1xuICAgICAgICByZXR1cm4gY3JlYXRlVmlld1Byb21pc2UudGhlbihmdW5jdGlvbiAodmlldykge1xuICAgICAgICAgIHJldHVybiBmaW4odXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gcXVlcnlWaWV3KHZpZXcsIG9wdHMpO1xuICAgICAgICAgIH0pLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5kYi5kZXN0cm95KCk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gdGVtcFZpZXdRdWV1ZS5maW5pc2goKTtcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gcGVyc2lzdGVudCB2aWV3XG4gICAgICB2YXIgZnVsbFZpZXdOYW1lID0gZnVuO1xuICAgICAgdmFyIHBhcnRzID0gcGFyc2VWaWV3TmFtZShmdWxsVmlld05hbWUpO1xuICAgICAgdmFyIGRlc2lnbkRvY05hbWUgPSBwYXJ0c1swXTtcbiAgICAgIHZhciB2aWV3TmFtZSA9IHBhcnRzWzFdO1xuICAgICAgcmV0dXJuIGRiLmdldCgnX2Rlc2lnbi8nICsgZGVzaWduRG9jTmFtZSkudGhlbihmdW5jdGlvbiAoZG9jKSB7XG4gICAgICAgIHZhciBmdW4gPSBkb2Mudmlld3MgJiYgZG9jLnZpZXdzW3ZpZXdOYW1lXTtcblxuICAgICAgICBpZiAoIWZ1bikge1xuICAgICAgICAgIC8vIGJhc2ljIHZhbGlkYXRvcjsgaXQncyBhc3N1bWVkIHRoYXQgZXZlcnkgc3ViY2xhc3Mgd291bGQgd2FudCB0aGlzXG4gICAgICAgICAgdGhyb3cgbmV3IE5vdEZvdW5kRXJyb3IoJ2Rkb2MgJyArIGRvYy5faWQgKyAnIGhhcyBubyB2aWV3IG5hbWVkICcgK1xuICAgICAgICAgICAgdmlld05hbWUpO1xuICAgICAgICB9XG5cbiAgICAgICAgZGRvY1ZhbGlkYXRvcihkb2MsIHZpZXdOYW1lKTtcbiAgICAgICAgY2hlY2tRdWVyeVBhcnNlRXJyb3Iob3B0cywgZnVuKTtcblxuICAgICAgICB2YXIgY3JlYXRlVmlld1Byb21pc2UgPSBjcmVhdGVWaWV3KFxuICAgICAgICAgIC8qIHNvdXJjZURCICovIGRiLFxuICAgICAgICAgIC8qIHZpZXdOYW1lICovIGZ1bGxWaWV3TmFtZSxcbiAgICAgICAgICAvKiBtYXBGdW4gKi8gZnVuLm1hcCxcbiAgICAgICAgICAvKiByZWR1Y2VGdW4gKi8gZnVuLnJlZHVjZSxcbiAgICAgICAgICAvKiB0ZW1wb3JhcnkgKi8gZmFsc2UsXG4gICAgICAgICAgLyogbG9jYWxEb2NOYW1lICovIGxvY2FsRG9jTmFtZSk7XG4gICAgICAgIHJldHVybiBjcmVhdGVWaWV3UHJvbWlzZS50aGVuKGZ1bmN0aW9uICh2aWV3KSB7XG4gICAgICAgICAgaWYgKG9wdHMuc3RhbGUgPT09ICdvaycgfHwgb3B0cy5zdGFsZSA9PT0gJ3VwZGF0ZV9hZnRlcicpIHtcbiAgICAgICAgICAgIGlmIChvcHRzLnN0YWxlID09PSAndXBkYXRlX2FmdGVyJykge1xuICAgICAgICAgICAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIHVwZGF0ZVZpZXcodmlldywgdXBkYXRlVmlld09wdHMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gc3RhbGUgbm90IG9rXG4gICAgICAgICAgICByZXR1cm4gdXBkYXRlVmlldyh2aWV3LCB1cGRhdGVWaWV3T3B0cykudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgIHJldHVybiBxdWVyeVZpZXcodmlldywgb3B0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gYWJzdHJhY3RRdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICAgIG9wdHMgPSB7fTtcbiAgICB9XG4gICAgb3B0cyA9IG9wdHMgPyBjb2VyY2VPcHRpb25zKG9wdHMpIDoge307XG5cbiAgICBpZiAodHlwZW9mIGZ1biA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgZnVuID0ge21hcCA6IGZ1bn07XG4gICAgfVxuXG4gICAgdmFyIHByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHJldHVybiBxdWVyeVByb21pc2VkKGRiLCBmdW4sIG9wdHMpO1xuICAgIH0pO1xuICAgIHByb21pc2VkQ2FsbGJhY2socHJvbWlzZSwgY2FsbGJhY2spO1xuICAgIHJldHVybiBwcm9taXNlO1xuICB9XG5cbiAgdmFyIGFic3RyYWN0Vmlld0NsZWFudXAgPSBjYWxsYmFja2lmeShmdW5jdGlvbiAoKSB7XG4gICAgdmFyIGRiID0gdGhpcztcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICAgIGlmICh0eXBlb2YgZGIuX3ZpZXdDbGVhbnVwID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICByZXR1cm4gY3VzdG9tVmlld0NsZWFudXAoZGIpO1xuICAgIH1cbiAgICBpZiAoaXNSZW1vdGUoZGIpKSB7XG4gICAgICByZXR1cm4gaHR0cFZpZXdDbGVhbnVwKGRiKTtcbiAgICB9XG4gICAgcmV0dXJuIGxvY2FsVmlld0NsZWFudXAoZGIpO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIHF1ZXJ5OiBhYnN0cmFjdFF1ZXJ5LFxuICAgIHZpZXdDbGVhbnVwOiBhYnN0cmFjdFZpZXdDbGVhbnVwXG4gIH07XG59XG5cbnZhciBidWlsdEluUmVkdWNlID0ge1xuICBfc3VtOiBmdW5jdGlvbiAoa2V5cywgdmFsdWVzKSB7XG4gICAgcmV0dXJuIHN1bSh2YWx1ZXMpO1xuICB9LFxuXG4gIF9jb3VudDogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIHJldHVybiB2YWx1ZXMubGVuZ3RoO1xuICB9LFxuXG4gIF9zdGF0czogZnVuY3Rpb24gKGtleXMsIHZhbHVlcykge1xuICAgIC8vIG5vIG5lZWQgdG8gaW1wbGVtZW50IHJlcmVkdWNlPXRydWUsIGJlY2F1c2UgUG91Y2hcbiAgICAvLyB3aWxsIG5ldmVyIGNhbGwgaXRcbiAgICBmdW5jdGlvbiBzdW1zcXIodmFsdWVzKSB7XG4gICAgICB2YXIgX3N1bXNxciA9IDA7XG4gICAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gdmFsdWVzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHZhciBudW0gPSB2YWx1ZXNbaV07XG4gICAgICAgIF9zdW1zcXIgKz0gKG51bSAqIG51bSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gX3N1bXNxcjtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1bSAgICAgOiBzdW0odmFsdWVzKSxcbiAgICAgIG1pbiAgICAgOiBNYXRoLm1pbi5hcHBseShudWxsLCB2YWx1ZXMpLFxuICAgICAgbWF4ICAgICA6IE1hdGgubWF4LmFwcGx5KG51bGwsIHZhbHVlcyksXG4gICAgICBjb3VudCAgIDogdmFsdWVzLmxlbmd0aCxcbiAgICAgIHN1bXNxciA6IHN1bXNxcih2YWx1ZXMpXG4gICAgfTtcbiAgfVxufTtcblxuZnVuY3Rpb24gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpIHtcbiAgaWYgKC9eX3N1bS8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX3N1bTtcbiAgfSBlbHNlIGlmICgvXl9jb3VudC8udGVzdChyZWR1Y2VGdW5TdHJpbmcpKSB7XG4gICAgcmV0dXJuIGJ1aWx0SW5SZWR1Y2UuX2NvdW50O1xuICB9IGVsc2UgaWYgKC9eX3N0YXRzLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICByZXR1cm4gYnVpbHRJblJlZHVjZS5fc3RhdHM7XG4gIH0gZWxzZSBpZiAoL15fLy50ZXN0KHJlZHVjZUZ1blN0cmluZykpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IocmVkdWNlRnVuU3RyaW5nICsgJyBpcyBub3QgYSBzdXBwb3J0ZWQgcmVkdWNlIGZ1bmN0aW9uLicpO1xuICB9XG59XG5cbmZ1bmN0aW9uIG1hcHBlcihtYXBGdW4sIGVtaXQpIHtcbiAgLy8gZm9yIHRlbXBfdmlld3Mgb25lIGNhbiB1c2UgZW1pdChkb2MsIGVtaXQpLCBzZWUgIzM4XG4gIGlmICh0eXBlb2YgbWFwRnVuID09PSBcImZ1bmN0aW9uXCIgJiYgbWFwRnVuLmxlbmd0aCA9PT0gMikge1xuICAgIHZhciBvcmlnTWFwID0gbWFwRnVuO1xuICAgIHJldHVybiBmdW5jdGlvbiAoZG9jKSB7XG4gICAgICByZXR1cm4gb3JpZ01hcChkb2MsIGVtaXQpO1xuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGV2YWxGdW5jdGlvbldpdGhFdmFsKG1hcEZ1bi50b1N0cmluZygpLCBlbWl0KTtcbiAgfVxufVxuXG5mdW5jdGlvbiByZWR1Y2VyKHJlZHVjZUZ1bikge1xuICB2YXIgcmVkdWNlRnVuU3RyaW5nID0gcmVkdWNlRnVuLnRvU3RyaW5nKCk7XG4gIHZhciBidWlsdEluID0gZ2V0QnVpbHRJbihyZWR1Y2VGdW5TdHJpbmcpO1xuICBpZiAoYnVpbHRJbikge1xuICAgIHJldHVybiBidWlsdEluO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBldmFsRnVuY3Rpb25XaXRoRXZhbChyZWR1Y2VGdW5TdHJpbmcpO1xuICB9XG59XG5cbmZ1bmN0aW9uIGRkb2NWYWxpZGF0b3IoZGRvYywgdmlld05hbWUpIHtcbiAgdmFyIGZ1biA9IGRkb2Mudmlld3MgJiYgZGRvYy52aWV3c1t2aWV3TmFtZV07XG4gIGlmICh0eXBlb2YgZnVuLm1hcCAhPT0gJ3N0cmluZycpIHtcbiAgICB0aHJvdyBuZXcgTm90Rm91bmRFcnJvcignZGRvYyAnICsgZGRvYy5faWQgKyAnIGhhcyBubyBzdHJpbmcgdmlldyBuYW1lZCAnICtcbiAgICAgIHZpZXdOYW1lICsgJywgaW5zdGVhZCBmb3VuZCBvYmplY3Qgb2YgdHlwZTogJyArIHR5cGVvZiBmdW4ubWFwKTtcbiAgfVxufVxuXG52YXIgbG9jYWxEb2NOYW1lID0gJ21ydmlld3MnO1xudmFyIGFic3RyYWN0ID0gY3JlYXRlQWJzdHJhY3RNYXBSZWR1Y2UobG9jYWxEb2NOYW1lLCBtYXBwZXIsIHJlZHVjZXIsIGRkb2NWYWxpZGF0b3IpO1xuXG5mdW5jdGlvbiBxdWVyeShmdW4sIG9wdHMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBhYnN0cmFjdC5xdWVyeS5jYWxsKHRoaXMsIGZ1biwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiB2aWV3Q2xlYW51cChjYWxsYmFjaykge1xuICByZXR1cm4gYWJzdHJhY3Qudmlld0NsZWFudXAuY2FsbCh0aGlzLCBjYWxsYmFjayk7XG59XG5cbnZhciBtYXByZWR1Y2UgPSB7XG4gIHF1ZXJ5OiBxdWVyeSxcbiAgdmlld0NsZWFudXA6IHZpZXdDbGVhbnVwXG59O1xuXG5mdW5jdGlvbiBpc0dlbk9uZSQxKHJldikge1xuICByZXR1cm4gL14xLS8udGVzdChyZXYpO1xufVxuXG5mdW5jdGlvbiBmaWxlSGFzQ2hhbmdlZChsb2NhbERvYywgcmVtb3RlRG9jLCBmaWxlbmFtZSkge1xuICByZXR1cm4gIWxvY2FsRG9jLl9hdHRhY2htZW50cyB8fFxuICAgICAgICAgIWxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0gfHxcbiAgICAgICAgIGxvY2FsRG9jLl9hdHRhY2htZW50c1tmaWxlbmFtZV0uZGlnZXN0ICE9PSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lXS5kaWdlc3Q7XG59XG5cbmZ1bmN0aW9uIGdldERvY0F0dGFjaG1lbnRzKGRiLCBkb2MpIHtcbiAgdmFyIGZpbGVuYW1lcyA9IE9iamVjdC5rZXlzKGRvYy5fYXR0YWNobWVudHMpO1xuICByZXR1cm4gUHJvbWlzZS5hbGwoZmlsZW5hbWVzLm1hcChmdW5jdGlvbiAoZmlsZW5hbWUpIHtcbiAgICByZXR1cm4gZGIuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSwge3JldjogZG9jLl9yZXZ9KTtcbiAgfSkpO1xufVxuXG5mdW5jdGlvbiBnZXREb2NBdHRhY2htZW50c0Zyb21UYXJnZXRPclNvdXJjZSh0YXJnZXQsIHNyYywgZG9jKSB7XG4gIHZhciBkb0NoZWNrRm9yTG9jYWxBdHRhY2htZW50cyA9IGlzUmVtb3RlKHNyYykgJiYgIWlzUmVtb3RlKHRhcmdldCk7XG4gIHZhciBmaWxlbmFtZXMgPSBPYmplY3Qua2V5cyhkb2MuX2F0dGFjaG1lbnRzKTtcblxuICBpZiAoIWRvQ2hlY2tGb3JMb2NhbEF0dGFjaG1lbnRzKSB7XG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfVxuXG4gIHJldHVybiB0YXJnZXQuZ2V0KGRvYy5faWQpLnRoZW4oZnVuY3Rpb24gKGxvY2FsRG9jKSB7XG4gICAgcmV0dXJuIFByb21pc2UuYWxsKGZpbGVuYW1lcy5tYXAoZnVuY3Rpb24gKGZpbGVuYW1lKSB7XG4gICAgICBpZiAoZmlsZUhhc0NoYW5nZWQobG9jYWxEb2MsIGRvYywgZmlsZW5hbWUpKSB7XG4gICAgICAgIHJldHVybiBzcmMuZ2V0QXR0YWNobWVudChkb2MuX2lkLCBmaWxlbmFtZSk7XG4gICAgICB9XG5cbiAgICAgIHJldHVybiB0YXJnZXQuZ2V0QXR0YWNobWVudChsb2NhbERvYy5faWQsIGZpbGVuYW1lKTtcbiAgICB9KSk7XG4gIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikge1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChlcnJvci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuXG4gICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzKHNyYywgZG9jKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKSB7XG4gIHZhciByZXF1ZXN0cyA9IFtdO1xuICBPYmplY3Qua2V5cyhkaWZmcykuZm9yRWFjaChmdW5jdGlvbiAoaWQpIHtcbiAgICB2YXIgbWlzc2luZ1JldnMgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICBtaXNzaW5nUmV2cy5mb3JFYWNoKGZ1bmN0aW9uIChtaXNzaW5nUmV2KSB7XG4gICAgICByZXF1ZXN0cy5wdXNoKHtcbiAgICAgICAgaWQ6IGlkLFxuICAgICAgICByZXY6IG1pc3NpbmdSZXZcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICByZXR1cm4ge1xuICAgIGRvY3M6IHJlcXVlc3RzLFxuICAgIHJldnM6IHRydWUsXG4gICAgbGF0ZXN0OiB0cnVlXG4gIH07XG59XG5cbi8vXG4vLyBGZXRjaCBhbGwgdGhlIGRvY3VtZW50cyBmcm9tIHRoZSBzcmMgYXMgZGVzY3JpYmVkIGluIHRoZSBcImRpZmZzXCIsXG4vLyB3aGljaCBpcyBhIG1hcHBpbmcgb2YgZG9jcyBJRHMgdG8gcmV2aXNpb25zLiBJZiB0aGUgc3RhdGUgZXZlclxuLy8gY2hhbmdlcyB0byBcImNhbmNlbGxlZFwiLCB0aGVuIHRoZSByZXR1cm5lZCBwcm9taXNlIHdpbGwgYmUgcmVqZWN0ZWQuXG4vLyBFbHNlIGl0IHdpbGwgYmUgcmVzb2x2ZWQgd2l0aCBhIGxpc3Qgb2YgZmV0Y2hlZCBkb2N1bWVudHMuXG4vL1xuZnVuY3Rpb24gZ2V0RG9jcyhzcmMsIHRhcmdldCwgZGlmZnMsIHN0YXRlKSB7XG4gIGRpZmZzID0gY2xvbmUoZGlmZnMpOyAvLyB3ZSBkbyBub3QgbmVlZCB0byBtb2RpZnkgdGhpc1xuXG4gIHZhciByZXN1bHREb2NzID0gW10sXG4gICAgICBvayA9IHRydWU7XG5cbiAgZnVuY3Rpb24gZ2V0QWxsRG9jcygpIHtcblxuICAgIHZhciBidWxrR2V0T3B0cyA9IGNyZWF0ZUJ1bGtHZXRPcHRzKGRpZmZzKTtcblxuICAgIGlmICghYnVsa0dldE9wdHMuZG9jcy5sZW5ndGgpIHsgLy8gb3B0aW1pemF0aW9uOiBza2lwIGVtcHR5IHJlcXVlc3RzXG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgcmV0dXJuIHNyYy5idWxrR2V0KGJ1bGtHZXRPcHRzKS50aGVuKGZ1bmN0aW9uIChidWxrR2V0UmVzcG9uc2UpIHtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHN0YXRlLmNhbmNlbGxlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRSZXNwb25zZS5yZXN1bHRzLm1hcChmdW5jdGlvbiAoYnVsa0dldEluZm8pIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKGJ1bGtHZXRJbmZvLmRvY3MubWFwKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgICB2YXIgcmVtb3RlRG9jID0gZG9jLm9rO1xuXG4gICAgICAgICAgaWYgKGRvYy5lcnJvcikge1xuICAgICAgICAgICAgLy8gd2hlbiBBVVRPX0NPTVBBQ1RJT04gaXMgc2V0LCBkb2NzIGNhbiBiZSByZXR1cm5lZCB3aGljaCBsb29rXG4gICAgICAgICAgICAvLyBsaWtlIHRoaXM6IHtcIm1pc3NpbmdcIjpcIjEtN2MzYWMyNTZiNjkzYzQ2MmFmODQ0MmY5OTJiODM2OTZcIn1cbiAgICAgICAgICAgIG9rID0gZmFsc2U7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgaWYgKCFyZW1vdGVEb2MgfHwgIXJlbW90ZURvYy5fYXR0YWNobWVudHMpIHtcbiAgICAgICAgICAgIHJldHVybiByZW1vdGVEb2M7XG4gICAgICAgICAgfVxuXG4gICAgICAgICAgcmV0dXJuIGdldERvY0F0dGFjaG1lbnRzRnJvbVRhcmdldE9yU291cmNlKHRhcmdldCwgc3JjLCByZW1vdGVEb2MpXG4gICAgICAgICAgICAgICAgICAgLnRoZW4oZnVuY3Rpb24gKGF0dGFjaG1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICB2YXIgZmlsZW5hbWVzID0gT2JqZWN0LmtleXMocmVtb3RlRG9jLl9hdHRhY2htZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICBhdHRhY2htZW50c1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuZm9yRWFjaChmdW5jdGlvbiAoYXR0YWNobWVudCwgaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhdHQgPSByZW1vdGVEb2MuX2F0dGFjaG1lbnRzW2ZpbGVuYW1lc1tpXV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGF0dC5zdHViO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBhdHQubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF0dC5kYXRhID0gYXR0YWNobWVudDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlbW90ZURvYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICB9KSk7XG4gICAgICB9KSlcblxuICAgICAgLnRoZW4oZnVuY3Rpb24gKHJlc3VsdHMpIHtcbiAgICAgICAgcmVzdWx0RG9jcyA9IHJlc3VsdERvY3MuY29uY2F0KGZsYXR0ZW4ocmVzdWx0cykuZmlsdGVyKEJvb2xlYW4pKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gaGFzQXR0YWNobWVudHMoZG9jKSB7XG4gICAgcmV0dXJuIGRvYy5fYXR0YWNobWVudHMgJiYgT2JqZWN0LmtleXMoZG9jLl9hdHRhY2htZW50cykubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGhhc0NvbmZsaWN0cyhkb2MpIHtcbiAgICByZXR1cm4gZG9jLl9jb25mbGljdHMgJiYgZG9jLl9jb25mbGljdHMubGVuZ3RoID4gMDtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcykge1xuICAgIC8vIE9wdGltaXphdGlvbjogZmV0Y2ggZ2VuLTEgZG9jcyBhbmQgYXR0YWNobWVudHMgaW5cbiAgICAvLyBhIHNpbmdsZSByZXF1ZXN0IHVzaW5nIF9hbGxfZG9jc1xuICAgIHJldHVybiBzcmMuYWxsRG9jcyh7XG4gICAgICBrZXlzOiBpZHMsXG4gICAgICBpbmNsdWRlX2RvY3M6IHRydWUsXG4gICAgICBjb25mbGljdHM6IHRydWVcbiAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgIGlmIChzdGF0ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cbiAgICAgIHJlcy5yb3dzLmZvckVhY2goZnVuY3Rpb24gKHJvdykge1xuICAgICAgICBpZiAocm93LmRlbGV0ZWQgfHwgIXJvdy5kb2MgfHwgIWlzR2VuT25lJDEocm93LnZhbHVlLnJldikgfHxcbiAgICAgICAgICAgIGhhc0F0dGFjaG1lbnRzKHJvdy5kb2MpIHx8IGhhc0NvbmZsaWN0cyhyb3cuZG9jKSkge1xuICAgICAgICAgIC8vIGlmIGFueSBvZiB0aGVzZSBjb25kaXRpb25zIGFwcGx5LCB3ZSBuZWVkIHRvIGZldGNoIHVzaW5nIGdldCgpXG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gc3RyaXAgX2NvbmZsaWN0cyBhcnJheSB0byBhcHBlYXNlIENTRyAoIzU3OTMpXG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAocm93LmRvYy5fY29uZmxpY3RzKSB7XG4gICAgICAgICAgZGVsZXRlIHJvdy5kb2MuX2NvbmZsaWN0cztcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHRoZSBkb2Mgd2UgZ290IGJhY2sgZnJvbSBhbGxEb2NzKCkgaXMgc3VmZmljaWVudFxuICAgICAgICByZXN1bHREb2NzLnB1c2gocm93LmRvYyk7XG4gICAgICAgIGRlbGV0ZSBkaWZmc1tyb3cuaWRdO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiBnZXRSZXZpc2lvbk9uZURvY3MoKSB7XG4gICAgLy8gZmlsdGVyIG91dCB0aGUgZ2VuZXJhdGlvbiAxIGRvY3MgYW5kIGdldCB0aGVtXG4gICAgLy8gbGVhdmluZyB0aGUgbm9uLWdlbmVyYXRpb24gb25lIGRvY3MgdG8gYmUgZ290IG90aGVyd2lzZVxuICAgIHZhciBpZHMgPSBPYmplY3Qua2V5cyhkaWZmcykuZmlsdGVyKGZ1bmN0aW9uIChpZCkge1xuICAgICAgdmFyIG1pc3NpbmcgPSBkaWZmc1tpZF0ubWlzc2luZztcbiAgICAgIHJldHVybiBtaXNzaW5nLmxlbmd0aCA9PT0gMSAmJiBpc0dlbk9uZSQxKG1pc3NpbmdbMF0pO1xuICAgIH0pO1xuICAgIGlmIChpZHMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIGZldGNoUmV2aXNpb25PbmVEb2NzKGlkcyk7XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gcmV0dXJuUmVzdWx0KCkge1xuICAgIHJldHVybiB7IG9rOm9rLCBkb2NzOnJlc3VsdERvY3MgfTtcbiAgfVxuXG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUoKVxuICAgIC50aGVuKGdldFJldmlzaW9uT25lRG9jcylcbiAgICAudGhlbihnZXRBbGxEb2NzKVxuICAgIC50aGVuKHJldHVyblJlc3VsdCk7XG59XG5cbnZhciBDSEVDS1BPSU5UX1ZFUlNJT04gPSAxO1xudmFyIFJFUExJQ0FUT1IgPSBcInBvdWNoZGJcIjtcbi8vIFRoaXMgaXMgYW4gYXJiaXRyYXJ5IG51bWJlciB0byBsaW1pdCB0aGVcbi8vIGFtb3VudCBvZiByZXBsaWNhdGlvbiBoaXN0b3J5IHdlIHNhdmUgaW4gdGhlIGNoZWNrcG9pbnQuXG4vLyBJZiB3ZSBzYXZlIHRvbyBtdWNoLCB0aGUgY2hlY2twb2luZyBkb2NzIHdpbGwgYmVjb21lIHZlcnkgYmlnLFxuLy8gaWYgd2Ugc2F2ZSBmZXdlciwgd2UnbGwgcnVuIGEgZ3JlYXRlciByaXNrIG9mIGhhdmluZyB0b1xuLy8gcmVhZCBhbGwgdGhlIGNoYW5nZXMgZnJvbSAwIHdoZW4gY2hlY2twb2ludCBQVVRzIGZhaWxcbi8vIENvdWNoREIgMi4wIGhhcyBhIG1vcmUgaW52b2x2ZWQgaGlzdG9yeSBwcnVuaW5nLFxuLy8gYnV0IGxldCdzIGdvIGZvciB0aGUgc2ltcGxlIHZlcnNpb24gZm9yIG5vdy5cbnZhciBDSEVDS1BPSU5UX0hJU1RPUllfU0laRSA9IDU7XG52YXIgTE9XRVNUX1NFUSA9IDA7XG5cbmZ1bmN0aW9uIHVwZGF0ZUNoZWNrcG9pbnQoZGIsIGlkLCBjaGVja3BvaW50LCBzZXNzaW9uLCByZXR1cm5WYWx1ZSkge1xuICByZXR1cm4gZGIuZ2V0KGlkKS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgaWYgKGRiLmFkYXB0ZXIgPT09ICdodHRwJyB8fCBkYi5hZGFwdGVyID09PSAnaHR0cHMnKSB7XG4gICAgICAgIGV4cGxhaW5FcnJvcihcbiAgICAgICAgICA0MDQsICdQb3VjaERCIGlzIGp1c3QgY2hlY2tpbmcgaWYgYSByZW1vdGUgY2hlY2twb2ludCBleGlzdHMuJ1xuICAgICAgICApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvbixcbiAgICAgICAgX2lkOiBpZCxcbiAgICAgICAgaGlzdG9yeTogW10sXG4gICAgICAgIHJlcGxpY2F0b3I6IFJFUExJQ0FUT1IsXG4gICAgICAgIHZlcnNpb246IENIRUNLUE9JTlRfVkVSU0lPTlxuICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgZXJyO1xuICB9KS50aGVuKGZ1bmN0aW9uIChkb2MpIHtcbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgLy8gaWYgdGhlIGNoZWNrcG9pbnQgaGFzIG5vdCBjaGFuZ2VkLCBkbyBub3QgdXBkYXRlXG4gICAgaWYgKGRvYy5sYXN0X3NlcSA9PT0gY2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cblxuICAgIC8vIEZpbHRlciBvdXQgY3VycmVudCBlbnRyeSBmb3IgdGhpcyByZXBsaWNhdGlvblxuICAgIGRvYy5oaXN0b3J5ID0gKGRvYy5oaXN0b3J5IHx8IFtdKS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgIHJldHVybiBpdGVtLnNlc3Npb25faWQgIT09IHNlc3Npb247XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgdGhlIGxhdGVzdCBjaGVja3BvaW50IHRvIGhpc3RvcnlcbiAgICBkb2MuaGlzdG9yeS51bnNoaWZ0KHtcbiAgICAgIGxhc3Rfc2VxOiBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbl9pZDogc2Vzc2lvblxuICAgIH0pO1xuXG4gICAgLy8gSnVzdCB0YWtlIHRoZSBsYXN0IHBpZWNlcyBpbiBoaXN0b3J5LCB0b1xuICAgIC8vIGF2b2lkIHJlYWxseSBiaWcgY2hlY2twb2ludCBkb2NzLlxuICAgIC8vIHNlZSBjb21tZW50IG9uIGhpc3Rvcnkgc2l6ZSBhYm92ZVxuICAgIGRvYy5oaXN0b3J5ID0gZG9jLmhpc3Rvcnkuc2xpY2UoMCwgQ0hFQ0tQT0lOVF9ISVNUT1JZX1NJWkUpO1xuXG4gICAgZG9jLnZlcnNpb24gPSBDSEVDS1BPSU5UX1ZFUlNJT047XG4gICAgZG9jLnJlcGxpY2F0b3IgPSBSRVBMSUNBVE9SO1xuXG4gICAgZG9jLnNlc3Npb25faWQgPSBzZXNzaW9uO1xuICAgIGRvYy5sYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG5cbiAgICByZXR1cm4gZGIucHV0KGRvYykuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgaWYgKGVyci5zdGF0dXMgPT09IDQwOSkge1xuICAgICAgICAvLyByZXRyeTsgc29tZW9uZSBpcyB0cnlpbmcgdG8gd3JpdGUgYSBjaGVja3BvaW50IHNpbXVsdGFuZW91c2x5XG4gICAgICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KGRiLCBpZCwgY2hlY2twb2ludCwgc2Vzc2lvbiwgcmV0dXJuVmFsdWUpO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KTtcbn1cblxuZnVuY3Rpb24gQ2hlY2twb2ludGVyKHNyYywgdGFyZ2V0LCBpZCwgcmV0dXJuVmFsdWUsIG9wdHMpIHtcbiAgdGhpcy5zcmMgPSBzcmM7XG4gIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICB0aGlzLmlkID0gaWQ7XG4gIHRoaXMucmV0dXJuVmFsdWUgPSByZXR1cm5WYWx1ZTtcbiAgdGhpcy5vcHRzID0gb3B0cyB8fCB7fTtcbn1cblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS53cml0ZUNoZWNrcG9pbnQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHJldHVybiB0aGlzLnVwZGF0ZVRhcmdldChjaGVja3BvaW50LCBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gc2VsZi51cGRhdGVTb3VyY2UoY2hlY2twb2ludCwgc2Vzc2lvbik7XG4gIH0pO1xufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVUYXJnZXQgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCkge1xuICAgIHJldHVybiB1cGRhdGVDaGVja3BvaW50KHRoaXMudGFyZ2V0LCB0aGlzLmlkLCBjaGVja3BvaW50LFxuICAgICAgc2Vzc2lvbiwgdGhpcy5yZXR1cm5WYWx1ZSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0cnVlKTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS51cGRhdGVTb3VyY2UgPSBmdW5jdGlvbiAoY2hlY2twb2ludCwgc2Vzc2lvbikge1xuICBpZiAodGhpcy5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgIHZhciBzZWxmID0gdGhpcztcbiAgICByZXR1cm4gdXBkYXRlQ2hlY2twb2ludCh0aGlzLnNyYywgdGhpcy5pZCwgY2hlY2twb2ludCxcbiAgICAgIHNlc3Npb24sIHRoaXMucmV0dXJuVmFsdWUpXG4gICAgICAuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgICBpZiAoaXNGb3JiaWRkZW5FcnJvcihlcnIpKSB7XG4gICAgICAgICAgc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycjtcbiAgICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodHJ1ZSk7XG4gIH1cbn07XG5cbnZhciBjb21wYXJpc29ucyA9IHtcbiAgXCJ1bmRlZmluZWRcIjogZnVuY3Rpb24gKHRhcmdldERvYywgc291cmNlRG9jKSB7XG4gICAgLy8gVGhpcyBpcyB0aGUgcHJldmlvdXMgY29tcGFyaXNvbiBmdW5jdGlvblxuICAgIGlmIChjb2xsYXRlKHRhcmdldERvYy5sYXN0X3NlcSwgc291cmNlRG9jLmxhc3Rfc2VxKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIHNvdXJjZURvYy5sYXN0X3NlcTtcbiAgICB9XG4gICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICByZXR1cm4gMDtcbiAgfSxcbiAgXCIxXCI6IGZ1bmN0aW9uICh0YXJnZXREb2MsIHNvdXJjZURvYykge1xuICAgIC8vIFRoaXMgaXMgdGhlIGNvbXBhcmlzb24gZnVuY3Rpb24gcG9ydGVkIGZyb20gQ291Y2hEQlxuICAgIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNvdXJjZURvYywgdGFyZ2V0RG9jKS5sYXN0X3NlcTtcbiAgfVxufTtcblxuQ2hlY2twb2ludGVyLnByb3RvdHlwZS5nZXRDaGVja3BvaW50ID0gZnVuY3Rpb24gKCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG5cbiAgaWYgKHNlbGYub3B0cyAmJiBzZWxmLm9wdHMud3JpdGVTb3VyY2VDaGVja3BvaW50ICYmICFzZWxmLm9wdHMud3JpdGVUYXJnZXRDaGVja3BvaW50KSB7XG4gICAgcmV0dXJuIHNlbGYuc3JjLmdldChzZWxmLmlkKS50aGVuKGZ1bmN0aW9uIChzb3VyY2VEb2MpIHtcbiAgICAgIHJldHVybiBzb3VyY2VEb2MubGFzdF9zZXEgfHwgTE9XRVNUX1NFUTtcbiAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChlcnIuc3RhdHVzICE9PSA0MDQpIHtcbiAgICAgICAgdGhyb3cgZXJyO1xuICAgICAgfVxuICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gc2VsZi50YXJnZXQuZ2V0KHNlbGYuaWQpLnRoZW4oZnVuY3Rpb24gKHRhcmdldERvYykge1xuICAgIGlmIChzZWxmLm9wdHMgJiYgc2VsZi5vcHRzLndyaXRlVGFyZ2V0Q2hlY2twb2ludCAmJiAhc2VsZi5vcHRzLndyaXRlU291cmNlQ2hlY2twb2ludCkge1xuICAgICAgcmV0dXJuIHRhcmdldERvYy5sYXN0X3NlcSB8fCBMT1dFU1RfU0VRO1xuICAgIH1cblxuICAgIHJldHVybiBzZWxmLnNyYy5nZXQoc2VsZi5pZCkudGhlbihmdW5jdGlvbiAoc291cmNlRG9jKSB7XG4gICAgICAvLyBTaW5jZSB3ZSBjYW4ndCBtaWdyYXRlIGFuIG9sZCB2ZXJzaW9uIGRvYyB0byBhIG5ldyBvbmVcbiAgICAgIC8vIChubyBzZXNzaW9uIGlkKSwgd2UganVzdCBnbyB3aXRoIHRoZSBsb3dlc3Qgc2VxIGluIHRoaXMgY2FzZVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAodGFyZ2V0RG9jLnZlcnNpb24gIT09IHNvdXJjZURvYy52ZXJzaW9uKSB7XG4gICAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgICAgfVxuXG4gICAgICB2YXIgdmVyc2lvbjtcbiAgICAgIGlmICh0YXJnZXREb2MudmVyc2lvbikge1xuICAgICAgICB2ZXJzaW9uID0gdGFyZ2V0RG9jLnZlcnNpb24udG9TdHJpbmcoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZlcnNpb24gPSBcInVuZGVmaW5lZFwiO1xuICAgICAgfVxuXG4gICAgICBpZiAodmVyc2lvbiBpbiBjb21wYXJpc29ucykge1xuICAgICAgICByZXR1cm4gY29tcGFyaXNvbnNbdmVyc2lvbl0odGFyZ2V0RG9jLCBzb3VyY2VEb2MpO1xuICAgICAgfVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIG5leHQgKi9cbiAgICAgIHJldHVybiBMT1dFU1RfU0VRO1xuICAgIH0sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgIGlmIChlcnIuc3RhdHVzID09PSA0MDQgJiYgdGFyZ2V0RG9jLmxhc3Rfc2VxKSB7XG4gICAgICAgIHJldHVybiBzZWxmLnNyYy5wdXQoe1xuICAgICAgICAgIF9pZDogc2VsZi5pZCxcbiAgICAgICAgICBsYXN0X3NlcTogTE9XRVNUX1NFUVxuICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgICAgICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgICAgIGlmIChpc0ZvcmJpZGRlbkVycm9yKGVycikpIHtcbiAgICAgICAgICAgIHNlbGYub3B0cy53cml0ZVNvdXJjZUNoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHVybiB0YXJnZXREb2MubGFzdF9zZXE7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgcmV0dXJuIExPV0VTVF9TRVE7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVyci5zdGF0dXMgIT09IDQwNCkge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgICByZXR1cm4gTE9XRVNUX1NFUTtcbiAgfSk7XG59O1xuLy8gVGhpcyBjaGVja3BvaW50IGNvbXBhcmlzb24gaXMgcG9ydGVkIGZyb20gQ291Y2hEQnMgc291cmNlXG4vLyB0aGV5IGNvbWUgZnJvbSBoZXJlOlxuLy8gaHR0cHM6Ly9naXRodWIuY29tL2FwYWNoZS9jb3VjaGRiLWNvdWNoLXJlcGxpY2F0b3IvYmxvYi9tYXN0ZXIvc3JjL2NvdWNoX3JlcGxpY2F0b3IuZXJsI0w4NjMtTDkwNlxuXG5mdW5jdGlvbiBjb21wYXJlUmVwbGljYXRpb25Mb2dzKHNyY0RvYywgdGd0RG9jKSB7XG4gIGlmIChzcmNEb2Muc2Vzc2lvbl9pZCA9PT0gdGd0RG9jLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IHNyY0RvYy5sYXN0X3NlcSxcbiAgICAgIGhpc3Rvcnk6IHNyY0RvYy5oaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNyY0RvYy5oaXN0b3J5LCB0Z3REb2MuaGlzdG9yeSk7XG59XG5cbmZ1bmN0aW9uIGNvbXBhcmVSZXBsaWNhdGlvbkhpc3Rvcnkoc291cmNlSGlzdG9yeSwgdGFyZ2V0SGlzdG9yeSkge1xuICAvLyB0aGUgZXJsYW5nIGxvb3AgdmlhIGZ1bmN0aW9uIGFyZ3VtZW50cyBpcyBub3Qgc28gZWFzeSB0byByZXBlYXQgaW4gSlNcbiAgLy8gdGhlcmVmb3JlLCBkb2luZyB0aGlzIGFzIHJlY3Vyc2lvblxuICB2YXIgUyA9IHNvdXJjZUhpc3RvcnlbMF07XG4gIHZhciBzb3VyY2VSZXN0ID0gc291cmNlSGlzdG9yeS5zbGljZSgxKTtcbiAgdmFyIFQgPSB0YXJnZXRIaXN0b3J5WzBdO1xuICB2YXIgdGFyZ2V0UmVzdCA9IHRhcmdldEhpc3Rvcnkuc2xpY2UoMSk7XG5cbiAgaWYgKCFTIHx8IHRhcmdldEhpc3RvcnkubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGxhc3Rfc2VxOiBMT1dFU1RfU0VRLFxuICAgICAgaGlzdG9yeTogW11cbiAgICB9O1xuICB9XG5cbiAgdmFyIHNvdXJjZUlkID0gUy5zZXNzaW9uX2lkO1xuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKGhhc1Nlc3Npb25JZChzb3VyY2VJZCwgdGFyZ2V0SGlzdG9yeSkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFMubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiBzb3VyY2VIaXN0b3J5XG4gICAgfTtcbiAgfVxuXG4gIHZhciB0YXJnZXRJZCA9IFQuc2Vzc2lvbl9pZDtcbiAgaWYgKGhhc1Nlc3Npb25JZCh0YXJnZXRJZCwgc291cmNlUmVzdCkpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbGFzdF9zZXE6IFQubGFzdF9zZXEsXG4gICAgICBoaXN0b3J5OiB0YXJnZXRSZXN0XG4gICAgfTtcbiAgfVxuXG4gIHJldHVybiBjb21wYXJlUmVwbGljYXRpb25IaXN0b3J5KHNvdXJjZVJlc3QsIHRhcmdldFJlc3QpO1xufVxuXG5mdW5jdGlvbiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCBoaXN0b3J5KSB7XG4gIHZhciBwcm9wcyA9IGhpc3RvcnlbMF07XG4gIHZhciByZXN0ID0gaGlzdG9yeS5zbGljZSgxKTtcblxuICBpZiAoIXNlc3Npb25JZCB8fCBoaXN0b3J5Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGlmIChzZXNzaW9uSWQgPT09IHByb3BzLnNlc3Npb25faWQpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIHJldHVybiBoYXNTZXNzaW9uSWQoc2Vzc2lvbklkLCByZXN0KTtcbn1cblxuZnVuY3Rpb24gaXNGb3JiaWRkZW5FcnJvcihlcnIpIHtcbiAgcmV0dXJuIHR5cGVvZiBlcnIuc3RhdHVzID09PSAnbnVtYmVyJyAmJiBNYXRoLmZsb29yKGVyci5zdGF0dXMgLyAxMDApID09PSA0O1xufVxuXG52YXIgU1RBUlRJTkdfQkFDS19PRkYgPSAwO1xuXG5mdW5jdGlvbiBiYWNrT2ZmKG9wdHMsIHJldHVyblZhbHVlLCBlcnJvciwgY2FsbGJhY2spIHtcbiAgaWYgKG9wdHMucmV0cnkgPT09IGZhbHNlKSB7XG4gICAgcmV0dXJuVmFsdWUuZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuO1xuICB9XG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAodHlwZW9mIG9wdHMuYmFja19vZmZfZnVuY3Rpb24gIT09ICdmdW5jdGlvbicpIHtcbiAgICBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uID0gZGVmYXVsdEJhY2tPZmY7XG4gIH1cbiAgcmV0dXJuVmFsdWUuZW1pdCgncmVxdWVzdEVycm9yJywgZXJyb3IpO1xuICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdhY3RpdmUnIHx8IHJldHVyblZhbHVlLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnLCBlcnJvcik7XG4gICAgcmV0dXJuVmFsdWUuc3RhdGUgPSAnc3RvcHBlZCc7XG4gICAgdmFyIGJhY2tPZmZTZXQgPSBmdW5jdGlvbiBiYWNrb2ZmVGltZVNldCgpIHtcbiAgICAgIG9wdHMuY3VycmVudF9iYWNrX29mZiA9IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICAgIH07XG4gICAgdmFyIHJlbW92ZUJhY2tPZmZTZXR0ZXIgPSBmdW5jdGlvbiByZW1vdmVCYWNrT2ZmVGltZVNldCgpIHtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdhY3RpdmUnLCBiYWNrT2ZmU2V0KTtcbiAgICB9O1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ3BhdXNlZCcsIHJlbW92ZUJhY2tPZmZTZXR0ZXIpO1xuICAgIHJldHVyblZhbHVlLm9uY2UoJ2FjdGl2ZScsIGJhY2tPZmZTZXQpO1xuICB9XG5cbiAgb3B0cy5jdXJyZW50X2JhY2tfb2ZmID0gb3B0cy5jdXJyZW50X2JhY2tfb2ZmIHx8IFNUQVJUSU5HX0JBQ0tfT0ZGO1xuICBvcHRzLmN1cnJlbnRfYmFja19vZmYgPSBvcHRzLmJhY2tfb2ZmX2Z1bmN0aW9uKG9wdHMuY3VycmVudF9iYWNrX29mZik7XG4gIHNldFRpbWVvdXQoY2FsbGJhY2ssIG9wdHMuY3VycmVudF9iYWNrX29mZik7XG59XG5cbmZ1bmN0aW9uIHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkocXVlcnlQYXJhbXMpIHtcbiAgcmV0dXJuIE9iamVjdC5rZXlzKHF1ZXJ5UGFyYW1zKS5zb3J0KGNvbGxhdGUpLnJlZHVjZShmdW5jdGlvbiAocmVzdWx0LCBrZXkpIHtcbiAgICByZXN1bHRba2V5XSA9IHF1ZXJ5UGFyYW1zW2tleV07XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfSwge30pO1xufVxuXG4vLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpZCBwYXJ0aWN1bGFyIHRvIHRoaXMgcmVwbGljYXRpb24uXG4vLyBOb3QgZ3VhcmFudGVlZCB0byBhbGlnbiBwZXJmZWN0bHkgd2l0aCBDb3VjaERCJ3MgcmVwIGlkcy5cbmZ1bmN0aW9uIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykge1xuICB2YXIgZG9jSWRzID0gb3B0cy5kb2NfaWRzID8gb3B0cy5kb2NfaWRzLnNvcnQoY29sbGF0ZSkgOiAnJztcbiAgdmFyIGZpbHRlckZ1biA9IG9wdHMuZmlsdGVyID8gb3B0cy5maWx0ZXIudG9TdHJpbmcoKSA6ICcnO1xuICB2YXIgcXVlcnlQYXJhbXMgPSAnJztcbiAgdmFyIGZpbHRlclZpZXdOYW1lID0gICcnO1xuICB2YXIgc2VsZWN0b3IgPSAnJztcblxuICAvLyBwb3NzaWJpbGl0eSBmb3IgY2hlY2twb2ludHMgdG8gYmUgbG9zdCBoZXJlIGFzIGJlaGF2aW91ciBvZlxuICAvLyBKU09OLnN0cmluZ2lmeSBpcyBub3Qgc3RhYmxlIChzZWUgIzYyMjYpXG4gIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICBpZiAob3B0cy5zZWxlY3Rvcikge1xuICAgIHNlbGVjdG9yID0gSlNPTi5zdHJpbmdpZnkob3B0cy5zZWxlY3Rvcik7XG4gIH1cblxuICBpZiAob3B0cy5maWx0ZXIgJiYgb3B0cy5xdWVyeV9wYXJhbXMpIHtcbiAgICBxdWVyeVBhcmFtcyA9IEpTT04uc3RyaW5naWZ5KHNvcnRPYmplY3RQcm9wZXJ0aWVzQnlLZXkob3B0cy5xdWVyeV9wYXJhbXMpKTtcbiAgfVxuXG4gIGlmIChvcHRzLmZpbHRlciAmJiBvcHRzLmZpbHRlciA9PT0gJ192aWV3Jykge1xuICAgIGZpbHRlclZpZXdOYW1lID0gb3B0cy52aWV3LnRvU3RyaW5nKCk7XG4gIH1cblxuICByZXR1cm4gUHJvbWlzZS5hbGwoW3NyYy5pZCgpLCB0YXJnZXQuaWQoKV0pLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgIHZhciBxdWVyeURhdGEgPSByZXNbMF0gKyByZXNbMV0gKyBmaWx0ZXJGdW4gKyBmaWx0ZXJWaWV3TmFtZSArXG4gICAgICBxdWVyeVBhcmFtcyArIGRvY0lkcyArIHNlbGVjdG9yO1xuICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzb2x2ZSkge1xuICAgICAgYmluYXJ5TWQ1KHF1ZXJ5RGF0YSwgcmVzb2x2ZSk7XG4gICAgfSk7XG4gIH0pLnRoZW4oZnVuY3Rpb24gKG1kNXN1bSkge1xuICAgIC8vIGNhbid0IHVzZSBzdHJhaWdodC11cCBtZDUgYWxwaGFiZXQsIGJlY2F1c2VcbiAgICAvLyB0aGUgY2hhciAnLycgaXMgaW50ZXJwcmV0ZWQgYXMgYmVpbmcgZm9yIGF0dGFjaG1lbnRzLFxuICAgIC8vIGFuZCArIGlzIGFsc28gbm90IHVybC1zYWZlXG4gICAgbWQ1c3VtID0gbWQ1c3VtLnJlcGxhY2UoL1xcLy9nLCAnLicpLnJlcGxhY2UoL1xcKy9nLCAnXycpO1xuICAgIHJldHVybiAnX2xvY2FsLycgKyBtZDVzdW07XG4gIH0pO1xufVxuXG5mdW5jdGlvbiByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlLCByZXN1bHQpIHtcbiAgdmFyIGJhdGNoZXMgPSBbXTsgICAgICAgICAgICAgICAvLyBsaXN0IG9mIGJhdGNoZXMgdG8gYmUgcHJvY2Vzc2VkXG4gIHZhciBjdXJyZW50QmF0Y2g7ICAgICAgICAgICAgICAgLy8gdGhlIGJhdGNoIGN1cnJlbnRseSBiZWluZyBwcm9jZXNzZWRcbiAgdmFyIHBlbmRpbmdCYXRjaCA9IHtcbiAgICBzZXE6IDAsXG4gICAgY2hhbmdlczogW10sXG4gICAgZG9jczogW11cbiAgfTsgLy8gbmV4dCBiYXRjaCwgbm90IHlldCByZWFkeSB0byBiZSBwcm9jZXNzZWRcbiAgdmFyIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7ICAvLyB0cnVlIHdoaWxlIGNoZWNrcG9pbnQgaXMgYmVpbmcgd3JpdHRlblxuICB2YXIgY2hhbmdlc0NvbXBsZXRlZCA9IGZhbHNlOyAgIC8vIHRydWUgd2hlbiBhbGwgY2hhbmdlcyByZWNlaXZlZFxuICB2YXIgcmVwbGljYXRpb25Db21wbGV0ZWQgPSBmYWxzZTsgLy8gdHJ1ZSB3aGVuIHJlcGxpY2F0aW9uIGhhcyBjb21wbGV0ZWRcbiAgdmFyIGxhc3Rfc2VxID0gMDtcbiAgdmFyIGNvbnRpbnVvdXMgPSBvcHRzLmNvbnRpbnVvdXMgfHwgb3B0cy5saXZlIHx8IGZhbHNlO1xuICB2YXIgYmF0Y2hfc2l6ZSA9IG9wdHMuYmF0Y2hfc2l6ZSB8fCAxMDA7XG4gIHZhciBiYXRjaGVzX2xpbWl0ID0gb3B0cy5iYXRjaGVzX2xpbWl0IHx8IDEwO1xuICB2YXIgc3R5bGUgPSBvcHRzLnN0eWxlIHx8ICdhbGxfZG9jcyc7XG4gIHZhciBjaGFuZ2VzUGVuZGluZyA9IGZhbHNlOyAgICAgLy8gdHJ1ZSB3aGlsZSBzcmMuY2hhbmdlcyBpcyBydW5uaW5nXG4gIHZhciBkb2NfaWRzID0gb3B0cy5kb2NfaWRzO1xuICB2YXIgc2VsZWN0b3IgPSBvcHRzLnNlbGVjdG9yO1xuICB2YXIgcmVwSWQ7XG4gIHZhciBjaGVja3BvaW50ZXI7XG4gIHZhciBjaGFuZ2VkRG9jcyA9IFtdO1xuICAvLyBMaWtlIGNvdWNoZGIsIGV2ZXJ5IHJlcGxpY2F0aW9uIGdldHMgYSB1bmlxdWUgc2Vzc2lvbiBpZFxuICB2YXIgc2Vzc2lvbiA9IHV1aWQoKTtcblxuICByZXN1bHQgPSByZXN1bHQgfHwge1xuICAgIG9rOiB0cnVlLFxuICAgIHN0YXJ0X3RpbWU6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcbiAgICBkb2NzX3JlYWQ6IDAsXG4gICAgZG9jc193cml0dGVuOiAwLFxuICAgIGRvY193cml0ZV9mYWlsdXJlczogMCxcbiAgICBlcnJvcnM6IFtdXG4gIH07XG5cbiAgdmFyIGNoYW5nZXNPcHRzID0ge307XG4gIHJldHVyblZhbHVlLnJlYWR5KHNyYywgdGFyZ2V0KTtcblxuICBmdW5jdGlvbiBpbml0Q2hlY2twb2ludGVyKCkge1xuICAgIGlmIChjaGVja3BvaW50ZXIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gICAgcmV0dXJuIGdlbmVyYXRlUmVwbGljYXRpb25JZChzcmMsIHRhcmdldCwgb3B0cykudGhlbihmdW5jdGlvbiAocmVzKSB7XG4gICAgICByZXBJZCA9IHJlcztcblxuICAgICAgdmFyIGNoZWNrcG9pbnRPcHRzID0ge307XG4gICAgICBpZiAob3B0cy5jaGVja3BvaW50ID09PSBmYWxzZSkge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiBmYWxzZSB9O1xuICAgICAgfSBlbHNlIGlmIChvcHRzLmNoZWNrcG9pbnQgPT09ICdzb3VyY2UnKSB7XG4gICAgICAgIGNoZWNrcG9pbnRPcHRzID0geyB3cml0ZVNvdXJjZUNoZWNrcG9pbnQ6IHRydWUsIHdyaXRlVGFyZ2V0Q2hlY2twb2ludDogZmFsc2UgfTtcbiAgICAgIH0gZWxzZSBpZiAob3B0cy5jaGVja3BvaW50ID09PSAndGFyZ2V0Jykge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiBmYWxzZSwgd3JpdGVUYXJnZXRDaGVja3BvaW50OiB0cnVlIH07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja3BvaW50T3B0cyA9IHsgd3JpdGVTb3VyY2VDaGVja3BvaW50OiB0cnVlLCB3cml0ZVRhcmdldENoZWNrcG9pbnQ6IHRydWUgfTtcbiAgICAgIH1cblxuICAgICAgY2hlY2twb2ludGVyID0gbmV3IENoZWNrcG9pbnRlcihzcmMsIHRhcmdldCwgcmVwSWQsIHJldHVyblZhbHVlLCBjaGVja3BvaW50T3B0cyk7XG4gICAgfSk7XG4gIH1cblxuICBmdW5jdGlvbiB3cml0ZURvY3MoKSB7XG4gICAgY2hhbmdlZERvY3MgPSBbXTtcblxuICAgIGlmIChjdXJyZW50QmF0Y2guZG9jcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGRvY3MgPSBjdXJyZW50QmF0Y2guZG9jcztcbiAgICB2YXIgYnVsa09wdHMgPSB7dGltZW91dDogb3B0cy50aW1lb3V0fTtcbiAgICByZXR1cm4gdGFyZ2V0LmJ1bGtEb2NzKHtkb2NzOiBkb2NzLCBuZXdfZWRpdHM6IGZhbHNlfSwgYnVsa09wdHMpLnRoZW4oZnVuY3Rpb24gKHJlcykge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjYW5jZWxsZWQnKTtcbiAgICAgIH1cblxuICAgICAgLy8gYHJlc2AgZG9lc24ndCBpbmNsdWRlIGZ1bGwgZG9jdW1lbnRzICh3aGljaCBsaXZlIGluIGBkb2NzYCksIHNvIHdlIGNyZWF0ZSBhIG1hcCBvZlxuICAgICAgLy8gKGlkIC0+IGVycm9yKSwgYW5kIGNoZWNrIGZvciBlcnJvcnMgd2hpbGUgaXRlcmF0aW5nIG92ZXIgYGRvY3NgXG4gICAgICB2YXIgZXJyb3JzQnlJZCA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICByZXMuZm9yRWFjaChmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgIGlmIChyZXMuZXJyb3IpIHtcbiAgICAgICAgICBlcnJvcnNCeUlkW3Jlcy5pZF0gPSByZXM7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICB2YXIgZXJyb3JzTm8gPSBPYmplY3Qua2V5cyhlcnJvcnNCeUlkKS5sZW5ndGg7XG4gICAgICByZXN1bHQuZG9jX3dyaXRlX2ZhaWx1cmVzICs9IGVycm9yc05vO1xuICAgICAgcmVzdWx0LmRvY3Nfd3JpdHRlbiArPSBkb2NzLmxlbmd0aCAtIGVycm9yc05vO1xuXG4gICAgICBkb2NzLmZvckVhY2goZnVuY3Rpb24gKGRvYykge1xuICAgICAgICB2YXIgZXJyb3IgPSBlcnJvcnNCeUlkW2RvYy5faWRdO1xuICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICByZXN1bHQuZXJyb3JzLnB1c2goZXJyb3IpO1xuICAgICAgICAgIC8vIE5vcm1hbGl6ZSBlcnJvciBuYW1lLiBpLmUuICdVbmF1dGhvcml6ZWQnIC0+ICd1bmF1dGhvcml6ZWQnIChlZyBTeW5jIEdhdGV3YXkpXG4gICAgICAgICAgdmFyIGVycm9yTmFtZSA9IChlcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGlmIChlcnJvck5hbWUgPT09ICd1bmF1dGhvcml6ZWQnIHx8IGVycm9yTmFtZSA9PT0gJ2ZvcmJpZGRlbicpIHtcbiAgICAgICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2RlbmllZCcsIGNsb25lKGVycm9yKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VkRG9jcy5wdXNoKGRvYyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgICAgcmVzdWx0LmRvY193cml0ZV9mYWlsdXJlcyArPSBkb2NzLmxlbmd0aDtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGZpbmlzaEJhdGNoKCkge1xuICAgIGlmIChjdXJyZW50QmF0Y2guZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgd2FzIGEgcHJvYmxlbSBnZXR0aW5nIGRvY3MuJyk7XG4gICAgfVxuICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY3VycmVudEJhdGNoLnNlcTtcbiAgICB2YXIgb3V0UmVzdWx0ID0gY2xvbmUocmVzdWx0KTtcbiAgICBpZiAoY2hhbmdlZERvY3MubGVuZ3RoKSB7XG4gICAgICBvdXRSZXN1bHQuZG9jcyA9IGNoYW5nZWREb2NzO1xuICAgICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHR5cGVvZiBjdXJyZW50QmF0Y2gucGVuZGluZyA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgb3V0UmVzdWx0LnBlbmRpbmcgPSBjdXJyZW50QmF0Y2gucGVuZGluZztcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5wZW5kaW5nO1xuICAgICAgfVxuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hhbmdlJywgb3V0UmVzdWx0KTtcbiAgICB9XG4gICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgIHJldHVybiBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGN1cnJlbnRCYXRjaC5zZXEsXG4gICAgICAgIHNlc3Npb24pLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgcmV0dXJuVmFsdWUuZW1pdCgnY2hlY2twb2ludCcsIHsgJ2NoZWNrcG9pbnQnOiBjdXJyZW50QmF0Y2guc2VxIH0pO1xuICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSBmYWxzZTtcbiAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignY2FuY2VsbGVkJyk7XG4gICAgICB9XG4gICAgICBjdXJyZW50QmF0Y2ggPSB1bmRlZmluZWQ7XG4gICAgICBnZXRDaGFuZ2VzKCk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgb25DaGVja3BvaW50RXJyb3IoZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIGdldERpZmZzKCkge1xuICAgIHZhciBkaWZmID0ge307XG4gICAgY3VycmVudEJhdGNoLmNoYW5nZXMuZm9yRWFjaChmdW5jdGlvbiAoY2hhbmdlKSB7XG4gICAgICByZXR1cm5WYWx1ZS5lbWl0KCdjaGVja3BvaW50JywgeyAncmV2c19kaWZmJzogY2hhbmdlIH0pO1xuICAgICAgLy8gQ291Y2hiYXNlIFN5bmMgR2F0ZXdheSBlbWl0cyB0aGVzZSwgYnV0IHdlIGNhbiBpZ25vcmUgdGhlbVxuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAoY2hhbmdlLmlkID09PSBcIl91c2VyL1wiKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGRpZmZbY2hhbmdlLmlkXSA9IGNoYW5nZS5jaGFuZ2VzLm1hcChmdW5jdGlvbiAoeCkge1xuICAgICAgICByZXR1cm4geC5yZXY7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gdGFyZ2V0LnJldnNEaWZmKGRpZmYpLnRoZW4oZnVuY3Rpb24gKGRpZmZzKSB7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NhbmNlbGxlZCcpO1xuICAgICAgfVxuICAgICAgLy8gY3VycmVudEJhdGNoLmRpZmZzIGVsZW1lbnRzIGFyZSBkZWxldGVkIGFzIHRoZSBkb2N1bWVudHMgYXJlIHdyaXR0ZW5cbiAgICAgIGN1cnJlbnRCYXRjaC5kaWZmcyA9IGRpZmZzO1xuICAgIH0pO1xuICB9XG5cbiAgZnVuY3Rpb24gZ2V0QmF0Y2hEb2NzKCkge1xuICAgIHJldHVybiBnZXREb2NzKHNyYywgdGFyZ2V0LCBjdXJyZW50QmF0Y2guZGlmZnMsIHJldHVyblZhbHVlKS50aGVuKGZ1bmN0aW9uIChnb3QpIHtcbiAgICAgIGN1cnJlbnRCYXRjaC5lcnJvciA9ICFnb3Qub2s7XG4gICAgICBnb3QuZG9jcy5mb3JFYWNoKGZ1bmN0aW9uIChkb2MpIHtcbiAgICAgICAgZGVsZXRlIGN1cnJlbnRCYXRjaC5kaWZmc1tkb2MuX2lkXTtcbiAgICAgICAgcmVzdWx0LmRvY3NfcmVhZCsrO1xuICAgICAgICBjdXJyZW50QmF0Y2guZG9jcy5wdXNoKGRvYyk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIGZ1bmN0aW9uIHN0YXJ0TmV4dEJhdGNoKCkge1xuICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQgfHwgY3VycmVudEJhdGNoKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmIChiYXRjaGVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaCh0cnVlKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudEJhdGNoID0gYmF0Y2hlcy5zaGlmdCgpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdzdGFydF9uZXh0X2JhdGNoJzogY3VycmVudEJhdGNoLnNlcSB9KTtcbiAgICBnZXREaWZmcygpXG4gICAgICAudGhlbihnZXRCYXRjaERvY3MpXG4gICAgICAudGhlbih3cml0ZURvY3MpXG4gICAgICAudGhlbihmaW5pc2hCYXRjaClcbiAgICAgIC50aGVuKHN0YXJ0TmV4dEJhdGNoKVxuICAgICAgLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHtcbiAgICAgICAgYWJvcnRSZXBsaWNhdGlvbignYmF0Y2ggcHJvY2Vzc2luZyB0ZXJtaW5hdGVkIHdpdGggZXJyb3InLCBlcnIpO1xuICAgICAgfSk7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIHByb2Nlc3NQZW5kaW5nQmF0Y2goaW1tZWRpYXRlJCQxKSB7XG4gICAgaWYgKHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKGJhdGNoZXMubGVuZ3RoID09PSAwICYmICFjdXJyZW50QmF0Y2gpIHtcbiAgICAgICAgaWYgKChjb250aW51b3VzICYmIGNoYW5nZXNPcHRzLmxpdmUpIHx8IGNoYW5nZXNDb21wbGV0ZWQpIHtcbiAgICAgICAgICByZXR1cm5WYWx1ZS5zdGF0ZSA9ICdwZW5kaW5nJztcbiAgICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdwYXVzZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY2hhbmdlc0NvbXBsZXRlZCkge1xuICAgICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoXG4gICAgICBpbW1lZGlhdGUkJDEgfHxcbiAgICAgIGNoYW5nZXNDb21wbGV0ZWQgfHxcbiAgICAgIHBlbmRpbmdCYXRjaC5jaGFuZ2VzLmxlbmd0aCA+PSBiYXRjaF9zaXplXG4gICAgKSB7XG4gICAgICBiYXRjaGVzLnB1c2gocGVuZGluZ0JhdGNoKTtcbiAgICAgIHBlbmRpbmdCYXRjaCA9IHtcbiAgICAgICAgc2VxOiAwLFxuICAgICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgICAgZG9jczogW11cbiAgICAgIH07XG4gICAgICBpZiAocmV0dXJuVmFsdWUuc3RhdGUgPT09ICdwZW5kaW5nJyB8fCByZXR1cm5WYWx1ZS5zdGF0ZSA9PT0gJ3N0b3BwZWQnKSB7XG4gICAgICAgIHJldHVyblZhbHVlLnN0YXRlID0gJ2FjdGl2ZSc7XG4gICAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2FjdGl2ZScpO1xuICAgICAgfVxuICAgICAgc3RhcnROZXh0QmF0Y2goKTtcbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGFib3J0UmVwbGljYXRpb24ocmVhc29uLCBlcnIpIHtcbiAgICBpZiAocmVwbGljYXRpb25Db21wbGV0ZWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFlcnIubWVzc2FnZSkge1xuICAgICAgZXJyLm1lc3NhZ2UgPSByZWFzb247XG4gICAgfVxuICAgIHJlc3VsdC5vayA9IGZhbHNlO1xuICAgIHJlc3VsdC5zdGF0dXMgPSAnYWJvcnRpbmcnO1xuICAgIGJhdGNoZXMgPSBbXTtcbiAgICBwZW5kaW5nQmF0Y2ggPSB7XG4gICAgICBzZXE6IDAsXG4gICAgICBjaGFuZ2VzOiBbXSxcbiAgICAgIGRvY3M6IFtdXG4gICAgfTtcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGNvbXBsZXRlUmVwbGljYXRpb24oZmF0YWxFcnJvcikge1xuICAgIGlmIChyZXBsaWNhdGlvbkNvbXBsZXRlZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICByZXN1bHQuc3RhdHVzID0gJ2NhbmNlbGxlZCc7XG4gICAgICBpZiAod3JpdGluZ0NoZWNrcG9pbnQpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHQuc3RhdHVzID0gcmVzdWx0LnN0YXR1cyB8fCAnY29tcGxldGUnO1xuICAgIHJlc3VsdC5lbmRfdGltZSA9IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKTtcbiAgICByZXN1bHQubGFzdF9zZXEgPSBsYXN0X3NlcTtcbiAgICByZXBsaWNhdGlvbkNvbXBsZXRlZCA9IHRydWU7XG5cbiAgICBpZiAoZmF0YWxFcnJvcikge1xuICAgICAgLy8gbmVlZCB0byBleHRlbmQgdGhlIGVycm9yIGJlY2F1c2UgRmlyZWZveCBjb25zaWRlcnMgXCIucmVzdWx0XCIgcmVhZC1vbmx5XG4gICAgICBmYXRhbEVycm9yID0gY3JlYXRlRXJyb3IoZmF0YWxFcnJvcik7XG4gICAgICBmYXRhbEVycm9yLnJlc3VsdCA9IHJlc3VsdDtcblxuICAgICAgLy8gTm9ybWFsaXplIGVycm9yIG5hbWUuIGkuZS4gJ1VuYXV0aG9yaXplZCcgLT4gJ3VuYXV0aG9yaXplZCcgKGVnIFN5bmMgR2F0ZXdheSlcbiAgICAgIHZhciBlcnJvck5hbWUgPSAoZmF0YWxFcnJvci5uYW1lIHx8ICcnKS50b0xvd2VyQ2FzZSgpO1xuICAgICAgaWYgKGVycm9yTmFtZSA9PT0gJ3VuYXV0aG9yaXplZCcgfHwgZXJyb3JOYW1lID09PSAnZm9yYmlkZGVuJykge1xuICAgICAgICByZXR1cm5WYWx1ZS5lbWl0KCdlcnJvcicsIGZhdGFsRXJyb3IpO1xuICAgICAgICByZXR1cm5WYWx1ZS5yZW1vdmVBbGxMaXN0ZW5lcnMoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGJhY2tPZmYob3B0cywgcmV0dXJuVmFsdWUsIGZhdGFsRXJyb3IsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICByZXBsaWNhdGUoc3JjLCB0YXJnZXQsIG9wdHMsIHJldHVyblZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVyblZhbHVlLmVtaXQoJ2NvbXBsZXRlJywgcmVzdWx0KTtcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIH1cbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2UoY2hhbmdlLCBwZW5kaW5nLCBsYXN0U2VxKSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgLy8gQXR0YWNoICdwZW5kaW5nJyBwcm9wZXJ0eSBpZiBzZXJ2ZXIgc3VwcG9ydHMgaXQgKENvdWNoREIgMi4wKylcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAodHlwZW9mIHBlbmRpbmcgPT09ICdudW1iZXInKSB7XG4gICAgICBwZW5kaW5nQmF0Y2gucGVuZGluZyA9IHBlbmRpbmc7XG4gICAgfVxuXG4gICAgdmFyIGZpbHRlciA9IGZpbHRlckNoYW5nZShvcHRzKShjaGFuZ2UpO1xuICAgIGlmICghZmlsdGVyKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHBlbmRpbmdCYXRjaC5zZXEgPSBjaGFuZ2Uuc2VxIHx8IGxhc3RTZXE7XG4gICAgcGVuZGluZ0JhdGNoLmNoYW5nZXMucHVzaChjaGFuZ2UpO1xuICAgIHJldHVyblZhbHVlLmVtaXQoJ2NoZWNrcG9pbnQnLCB7ICdwZW5kaW5nX2JhdGNoJzogcGVuZGluZ0JhdGNoLnNlcSB9KTtcbiAgICBpbW1lZGlhdGUoZnVuY3Rpb24gKCkge1xuICAgICAgcHJvY2Vzc1BlbmRpbmdCYXRjaChiYXRjaGVzLmxlbmd0aCA9PT0gMCAmJiBjaGFuZ2VzT3B0cy5saXZlKTtcbiAgICB9KTtcbiAgfVxuXG5cbiAgZnVuY3Rpb24gb25DaGFuZ2VzQ29tcGxldGUoY2hhbmdlcykge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG5cbiAgICAvLyBpZiBubyByZXN1bHRzIHdlcmUgcmV0dXJuZWQgdGhlbiB3ZSdyZSBkb25lLFxuICAgIC8vIGVsc2UgZmV0Y2ggbW9yZVxuICAgIGlmIChjaGFuZ2VzLnJlc3VsdHMubGVuZ3RoID4gMCkge1xuICAgICAgY2hhbmdlc09wdHMuc2luY2UgPSBjaGFuZ2VzLnJlc3VsdHNbY2hhbmdlcy5yZXN1bHRzLmxlbmd0aCAtIDFdLnNlcTtcbiAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgIHByb2Nlc3NQZW5kaW5nQmF0Y2godHJ1ZSk7XG4gICAgfSBlbHNlIHtcblxuICAgICAgdmFyIGNvbXBsZXRlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICBpZiAoY29udGludW91cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmxpdmUgPSB0cnVlO1xuICAgICAgICAgIGdldENoYW5nZXMoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjaGFuZ2VzQ29tcGxldGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBwcm9jZXNzUGVuZGluZ0JhdGNoKHRydWUpO1xuICAgICAgfTtcblxuICAgICAgLy8gdXBkYXRlIHRoZSBjaGVja3BvaW50IHNvIHdlIHN0YXJ0IGZyb20gdGhlIHJpZ2h0IHNlcSBuZXh0IHRpbWVcbiAgICAgIGlmICghY3VycmVudEJhdGNoICYmIGNoYW5nZXMucmVzdWx0cy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgd3JpdGluZ0NoZWNrcG9pbnQgPSB0cnVlO1xuICAgICAgICBjaGVja3BvaW50ZXIud3JpdGVDaGVja3BvaW50KGNoYW5nZXMubGFzdF9zZXEsXG4gICAgICAgICAgICBzZXNzaW9uKS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgICAgICAgIHJlc3VsdC5sYXN0X3NlcSA9IGxhc3Rfc2VxID0gY2hhbmdlcy5sYXN0X3NlcTtcbiAgICAgICAgICBjb21wbGV0ZSgpO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2gob25DaGVja3BvaW50RXJyb3IpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29tcGxldGUoKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuXG4gIGZ1bmN0aW9uIG9uQ2hhbmdlc0Vycm9yKGVycikge1xuICAgIGNoYW5nZXNQZW5kaW5nID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkge1xuICAgICAgcmV0dXJuIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICB9XG4gICAgYWJvcnRSZXBsaWNhdGlvbignY2hhbmdlcyByZWplY3RlZCcsIGVycik7XG4gIH1cblxuXG4gIGZ1bmN0aW9uIGdldENoYW5nZXMoKSB7XG4gICAgaWYgKCEoXG4gICAgICAhY2hhbmdlc1BlbmRpbmcgJiZcbiAgICAgICFjaGFuZ2VzQ29tcGxldGVkICYmXG4gICAgICBiYXRjaGVzLmxlbmd0aCA8IGJhdGNoZXNfbGltaXRcbiAgICAgICkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hhbmdlc1BlbmRpbmcgPSB0cnVlO1xuICAgIGZ1bmN0aW9uIGFib3J0Q2hhbmdlcygpIHtcbiAgICAgIGNoYW5nZXMuY2FuY2VsKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHJlbW92ZUxpc3RlbmVyKCkge1xuICAgICAgcmV0dXJuVmFsdWUucmVtb3ZlTGlzdGVuZXIoJ2NhbmNlbCcsIGFib3J0Q2hhbmdlcyk7XG4gICAgfVxuXG4gICAgaWYgKHJldHVyblZhbHVlLl9jaGFuZ2VzKSB7IC8vIHJlbW92ZSBvbGQgY2hhbmdlcygpIGFuZCBsaXN0ZW5lcnNcbiAgICAgIHJldHVyblZhbHVlLnJlbW92ZUxpc3RlbmVyKCdjYW5jZWwnLCByZXR1cm5WYWx1ZS5fYWJvcnRDaGFuZ2VzKTtcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzLmNhbmNlbCgpO1xuICAgIH1cbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBhYm9ydENoYW5nZXMpO1xuXG4gICAgdmFyIGNoYW5nZXMgPSBzcmMuY2hhbmdlcyhjaGFuZ2VzT3B0cylcbiAgICAgIC5vbignY2hhbmdlJywgb25DaGFuZ2UpO1xuICAgIGNoYW5nZXMudGhlbihyZW1vdmVMaXN0ZW5lciwgcmVtb3ZlTGlzdGVuZXIpO1xuICAgIGNoYW5nZXMudGhlbihvbkNoYW5nZXNDb21wbGV0ZSlcbiAgICAgIC5jYXRjaChvbkNoYW5nZXNFcnJvcik7XG5cbiAgICBpZiAob3B0cy5yZXRyeSkge1xuICAgICAgLy8gc2F2ZSBmb3IgbGF0ZXIgc28gd2UgY2FuIGNhbmNlbCBpZiBuZWNlc3NhcnlcbiAgICAgIHJldHVyblZhbHVlLl9jaGFuZ2VzID0gY2hhbmdlcztcbiAgICAgIHJldHVyblZhbHVlLl9hYm9ydENoYW5nZXMgPSBhYm9ydENoYW5nZXM7XG4gICAgfVxuICB9XG5cblxuICBmdW5jdGlvbiBzdGFydENoYW5nZXMoKSB7XG4gICAgaW5pdENoZWNrcG9pbnRlcigpLnRoZW4oZnVuY3Rpb24gKCkge1xuICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICBpZiAocmV0dXJuVmFsdWUuY2FuY2VsbGVkKSB7XG4gICAgICAgIGNvbXBsZXRlUmVwbGljYXRpb24oKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNoZWNrcG9pbnRlci5nZXRDaGVja3BvaW50KCkudGhlbihmdW5jdGlvbiAoY2hlY2twb2ludCkge1xuICAgICAgICBsYXN0X3NlcSA9IGNoZWNrcG9pbnQ7XG4gICAgICAgIGNoYW5nZXNPcHRzID0ge1xuICAgICAgICAgIHNpbmNlOiBsYXN0X3NlcSxcbiAgICAgICAgICBsaW1pdDogYmF0Y2hfc2l6ZSxcbiAgICAgICAgICBiYXRjaF9zaXplOiBiYXRjaF9zaXplLFxuICAgICAgICAgIHN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBkb2NfaWRzOiBkb2NfaWRzLFxuICAgICAgICAgIHNlbGVjdG9yOiBzZWxlY3RvcixcbiAgICAgICAgICByZXR1cm5fZG9jczogdHJ1ZSAvLyByZXF1aXJlZCBzbyB3ZSBrbm93IHdoZW4gd2UncmUgZG9uZVxuICAgICAgICB9O1xuICAgICAgICBpZiAob3B0cy5maWx0ZXIpIHtcbiAgICAgICAgICBpZiAodHlwZW9mIG9wdHMuZmlsdGVyICE9PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgLy8gcmVxdWlyZWQgZm9yIHRoZSBjbGllbnQtc2lkZSBmaWx0ZXIgaW4gb25DaGFuZ2VcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmluY2x1ZGVfZG9jcyA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHsgLy8gZGRvYyBmaWx0ZXJcbiAgICAgICAgICAgIGNoYW5nZXNPcHRzLmZpbHRlciA9IG9wdHMuZmlsdGVyO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoJ2hlYXJ0YmVhdCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLmhlYXJ0YmVhdCA9IG9wdHMuaGVhcnRiZWF0O1xuICAgICAgICB9XG4gICAgICAgIGlmICgndGltZW91dCcgaW4gb3B0cykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnRpbWVvdXQgPSBvcHRzLnRpbWVvdXQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMucXVlcnlfcGFyYW1zKSB7XG4gICAgICAgICAgY2hhbmdlc09wdHMucXVlcnlfcGFyYW1zID0gb3B0cy5xdWVyeV9wYXJhbXM7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG9wdHMudmlldykge1xuICAgICAgICAgIGNoYW5nZXNPcHRzLnZpZXcgPSBvcHRzLnZpZXc7XG4gICAgICAgIH1cbiAgICAgICAgZ2V0Q2hhbmdlcygpO1xuICAgICAgfSk7XG4gICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikge1xuICAgICAgYWJvcnRSZXBsaWNhdGlvbignZ2V0Q2hlY2twb2ludCByZWplY3RlZCB3aXRoICcsIGVycik7XG4gICAgfSk7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgbmV4dCAqL1xuICBmdW5jdGlvbiBvbkNoZWNrcG9pbnRFcnJvcihlcnIpIHtcbiAgICB3cml0aW5nQ2hlY2twb2ludCA9IGZhbHNlO1xuICAgIGFib3J0UmVwbGljYXRpb24oJ3dyaXRlQ2hlY2twb2ludCBjb21wbGV0ZWQgd2l0aCBlcnJvcicsIGVycik7XG4gIH1cblxuICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgaWYgKHJldHVyblZhbHVlLmNhbmNlbGxlZCkgeyAvLyBjYW5jZWxsZWQgaW1tZWRpYXRlbHlcbiAgICBjb21wbGV0ZVJlcGxpY2F0aW9uKCk7XG4gICAgcmV0dXJuO1xuICB9XG5cbiAgaWYgKCFyZXR1cm5WYWx1ZS5fYWRkZWRMaXN0ZW5lcnMpIHtcbiAgICByZXR1cm5WYWx1ZS5vbmNlKCdjYW5jZWwnLCBjb21wbGV0ZVJlcGxpY2F0aW9uKTtcblxuICAgIGlmICh0eXBlb2Ygb3B0cy5jb21wbGV0ZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgcmV0dXJuVmFsdWUub25jZSgnZXJyb3InLCBvcHRzLmNvbXBsZXRlKTtcbiAgICAgIHJldHVyblZhbHVlLm9uY2UoJ2NvbXBsZXRlJywgZnVuY3Rpb24gKHJlc3VsdCkge1xuICAgICAgICBvcHRzLmNvbXBsZXRlKG51bGwsIHJlc3VsdCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuVmFsdWUuX2FkZGVkTGlzdGVuZXJzID0gdHJ1ZTtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0cy5zaW5jZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBzdGFydENoYW5nZXMoKTtcbiAgfSBlbHNlIHtcbiAgICBpbml0Q2hlY2twb2ludGVyKCkudGhlbihmdW5jdGlvbiAoKSB7XG4gICAgICB3cml0aW5nQ2hlY2twb2ludCA9IHRydWU7XG4gICAgICByZXR1cm4gY2hlY2twb2ludGVyLndyaXRlQ2hlY2twb2ludChvcHRzLnNpbmNlLCBzZXNzaW9uKTtcbiAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHtcbiAgICAgIHdyaXRpbmdDaGVja3BvaW50ID0gZmFsc2U7XG4gICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgIGlmIChyZXR1cm5WYWx1ZS5jYW5jZWxsZWQpIHtcbiAgICAgICAgY29tcGxldGVSZXBsaWNhdGlvbigpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBsYXN0X3NlcSA9IG9wdHMuc2luY2U7XG4gICAgICBzdGFydENoYW5nZXMoKTtcbiAgICB9KS5jYXRjaChvbkNoZWNrcG9pbnRFcnJvcik7XG4gIH1cbn1cblxuLy8gV2UgY3JlYXRlIGEgYmFzaWMgcHJvbWlzZSBzbyB0aGUgY2FsbGVyIGNhbiBjYW5jZWwgdGhlIHJlcGxpY2F0aW9uIHBvc3NpYmx5XG4vLyBiZWZvcmUgd2UgaGF2ZSBhY3R1YWxseSBzdGFydGVkIGxpc3RlbmluZyB0byBjaGFuZ2VzIGV0Y1xuaW5oZXJpdHMoUmVwbGljYXRpb24sIEVFKTtcbmZ1bmN0aW9uIFJlcGxpY2F0aW9uKCkge1xuICBFRS5jYWxsKHRoaXMpO1xuICB0aGlzLmNhbmNlbGxlZCA9IGZhbHNlO1xuICB0aGlzLnN0YXRlID0gJ3BlbmRpbmcnO1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHZhciBwcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24gKGZ1bGZpbGwsIHJlamVjdCkge1xuICAgIHNlbGYub25jZSgnY29tcGxldGUnLCBmdWxmaWxsKTtcbiAgICBzZWxmLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgfSk7XG4gIHNlbGYudGhlbiA9IGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHtcbiAgICByZXR1cm4gcHJvbWlzZS50aGVuKHJlc29sdmUsIHJlamVjdCk7XG4gIH07XG4gIHNlbGYuY2F0Y2ggPSBmdW5jdGlvbiAocmVqZWN0KSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2gocmVqZWN0KTtcbiAgfTtcbiAgLy8gQXMgd2UgYWxsb3cgZXJyb3IgaGFuZGxpbmcgdmlhIFwiZXJyb3JcIiBldmVudCBhcyB3ZWxsLFxuICAvLyBwdXQgYSBzdHViIGluIGhlcmUgc28gdGhhdCByZWplY3RpbmcgbmV2ZXIgdGhyb3dzIFVuaGFuZGxlZEVycm9yLlxuICBzZWxmLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTtcbn1cblxuUmVwbGljYXRpb24ucHJvdG90eXBlLmNhbmNlbCA9IGZ1bmN0aW9uICgpIHtcbiAgdGhpcy5jYW5jZWxsZWQgPSB0cnVlO1xuICB0aGlzLnN0YXRlID0gJ2NhbmNlbGxlZCc7XG4gIHRoaXMuZW1pdCgnY2FuY2VsJyk7XG59O1xuXG5SZXBsaWNhdGlvbi5wcm90b3R5cGUucmVhZHkgPSBmdW5jdGlvbiAoc3JjLCB0YXJnZXQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBpZiAoc2VsZi5fcmVhZHlDYWxsZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgc2VsZi5fcmVhZHlDYWxsZWQgPSB0cnVlO1xuXG4gIGZ1bmN0aW9uIG9uRGVzdHJveSgpIHtcbiAgICBzZWxmLmNhbmNlbCgpO1xuICB9XG4gIHNyYy5vbmNlKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB0YXJnZXQub25jZSgnZGVzdHJveWVkJywgb25EZXN0cm95KTtcbiAgZnVuY3Rpb24gY2xlYW51cCgpIHtcbiAgICBzcmMucmVtb3ZlTGlzdGVuZXIoJ2Rlc3Ryb3llZCcsIG9uRGVzdHJveSk7XG4gICAgdGFyZ2V0LnJlbW92ZUxpc3RlbmVyKCdkZXN0cm95ZWQnLCBvbkRlc3Ryb3kpO1xuICB9XG4gIHNlbGYub25jZSgnY29tcGxldGUnLCBjbGVhbnVwKTtcbiAgc2VsZi5vbmNlKCdlcnJvcicsIGNsZWFudXApO1xufTtcblxuZnVuY3Rpb24gdG9Qb3VjaChkYiwgb3B0cykge1xuICB2YXIgUG91Y2hDb25zdHJ1Y3RvciA9IG9wdHMuUG91Y2hDb25zdHJ1Y3RvcjtcbiAgaWYgKHR5cGVvZiBkYiA9PT0gJ3N0cmluZycpIHtcbiAgICByZXR1cm4gbmV3IFBvdWNoQ29uc3RydWN0b3IoZGIsIG9wdHMpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBkYjtcbiAgfVxufVxuXG5mdW5jdGlvbiByZXBsaWNhdGVXcmFwcGVyKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ2Z1bmN0aW9uJykge1xuICAgIGNhbGxiYWNrID0gb3B0cztcbiAgICBvcHRzID0ge307XG4gIH1cbiAgaWYgKHR5cGVvZiBvcHRzID09PSAndW5kZWZpbmVkJykge1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIGlmIChvcHRzLmRvY19pZHMgJiYgIUFycmF5LmlzQXJyYXkob3B0cy5kb2NfaWRzKSkge1xuICAgIHRocm93IGNyZWF0ZUVycm9yKEJBRF9SRVFVRVNULFxuICAgICAgICAgICAgICAgICAgICAgICBcImBkb2NfaWRzYCBmaWx0ZXIgcGFyYW1ldGVyIGlzIG5vdCBhIGxpc3QuXCIpO1xuICB9XG5cbiAgb3B0cy5jb21wbGV0ZSA9IGNhbGxiYWNrO1xuICBvcHRzID0gY2xvbmUob3B0cyk7XG4gIG9wdHMuY29udGludW91cyA9IG9wdHMuY29udGludW91cyB8fCBvcHRzLmxpdmU7XG4gIG9wdHMucmV0cnkgPSAoJ3JldHJ5JyBpbiBvcHRzKSA/IG9wdHMucmV0cnkgOiBmYWxzZTtcbiAgLypqc2hpbnQgdmFsaWR0aGlzOnRydWUgKi9cbiAgb3B0cy5Qb3VjaENvbnN0cnVjdG9yID0gb3B0cy5Qb3VjaENvbnN0cnVjdG9yIHx8IHRoaXM7XG4gIHZhciByZXBsaWNhdGVSZXQgPSBuZXcgUmVwbGljYXRpb24ob3B0cyk7XG4gIHZhciBzcmNQb3VjaCA9IHRvUG91Y2goc3JjLCBvcHRzKTtcbiAgdmFyIHRhcmdldFBvdWNoID0gdG9Qb3VjaCh0YXJnZXQsIG9wdHMpO1xuICByZXBsaWNhdGUoc3JjUG91Y2gsIHRhcmdldFBvdWNoLCBvcHRzLCByZXBsaWNhdGVSZXQpO1xuICByZXR1cm4gcmVwbGljYXRlUmV0O1xufVxuXG5pbmhlcml0cyhTeW5jLCBFRSk7XG5mdW5jdGlvbiBzeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICBpZiAodHlwZW9mIG9wdHMgPT09ICdmdW5jdGlvbicpIHtcbiAgICBjYWxsYmFjayA9IG9wdHM7XG4gICAgb3B0cyA9IHt9O1xuICB9XG4gIGlmICh0eXBlb2Ygb3B0cyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICBvcHRzID0ge307XG4gIH1cbiAgb3B0cyA9IGNsb25lKG9wdHMpO1xuICAvKmpzaGludCB2YWxpZHRoaXM6dHJ1ZSAqL1xuICBvcHRzLlBvdWNoQ29uc3RydWN0b3IgPSBvcHRzLlBvdWNoQ29uc3RydWN0b3IgfHwgdGhpcztcbiAgc3JjID0gdG9Qb3VjaChzcmMsIG9wdHMpO1xuICB0YXJnZXQgPSB0b1BvdWNoKHRhcmdldCwgb3B0cyk7XG4gIHJldHVybiBuZXcgU3luYyhzcmMsIHRhcmdldCwgb3B0cywgY2FsbGJhY2spO1xufVxuXG5mdW5jdGlvbiBTeW5jKHNyYywgdGFyZ2V0LCBvcHRzLCBjYWxsYmFjaykge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuY2FuY2VsZWQgPSBmYWxzZTtcblxuICB2YXIgb3B0c1B1c2ggPSBvcHRzLnB1c2ggPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVzaCkgOiBvcHRzO1xuICB2YXIgb3B0c1B1bGwgPSBvcHRzLnB1bGwgPyAkaW5qZWN0X09iamVjdF9hc3NpZ24oe30sIG9wdHMsIG9wdHMucHVsbCkgOiBvcHRzO1xuXG4gIHRoaXMucHVzaCA9IHJlcGxpY2F0ZVdyYXBwZXIoc3JjLCB0YXJnZXQsIG9wdHNQdXNoKTtcbiAgdGhpcy5wdWxsID0gcmVwbGljYXRlV3JhcHBlcih0YXJnZXQsIHNyYywgb3B0c1B1bGwpO1xuXG4gIHRoaXMucHVzaFBhdXNlZCA9IHRydWU7XG4gIHRoaXMucHVsbFBhdXNlZCA9IHRydWU7XG5cbiAgZnVuY3Rpb24gcHVsbENoYW5nZShjaGFuZ2UpIHtcbiAgICBzZWxmLmVtaXQoJ2NoYW5nZScsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgY2hhbmdlOiBjaGFuZ2VcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoQ2hhbmdlKGNoYW5nZSkge1xuICAgIHNlbGYuZW1pdCgnY2hhbmdlJywge1xuICAgICAgZGlyZWN0aW9uOiAncHVzaCcsXG4gICAgICBjaGFuZ2U6IGNoYW5nZVxuICAgIH0pO1xuICB9XG4gIGZ1bmN0aW9uIHB1c2hEZW5pZWQoZG9jKSB7XG4gICAgc2VsZi5lbWl0KCdkZW5pZWQnLCB7XG4gICAgICBkaXJlY3Rpb246ICdwdXNoJyxcbiAgICAgIGRvYzogZG9jXG4gICAgfSk7XG4gIH1cbiAgZnVuY3Rpb24gcHVsbERlbmllZChkb2MpIHtcbiAgICBzZWxmLmVtaXQoJ2RlbmllZCcsIHtcbiAgICAgIGRpcmVjdGlvbjogJ3B1bGwnLFxuICAgICAgZG9jOiBkb2NcbiAgICB9KTtcbiAgfVxuICBmdW5jdGlvbiBwdXNoUGF1c2VkKCkge1xuICAgIHNlbGYucHVzaFBhdXNlZCA9IHRydWU7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdwYXVzZWQnKTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbFBhdXNlZCgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSB0cnVlO1xuICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgIGlmIChzZWxmLnB1c2hQYXVzZWQpIHtcbiAgICAgIHNlbGYuZW1pdCgncGF1c2VkJyk7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIHB1c2hBY3RpdmUoKSB7XG4gICAgc2VsZi5wdXNoUGF1c2VkID0gZmFsc2U7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKHNlbGYucHVsbFBhdXNlZCkge1xuICAgICAgc2VsZi5lbWl0KCdhY3RpdmUnLCB7XG4gICAgICAgIGRpcmVjdGlvbjogJ3B1c2gnXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgZnVuY3Rpb24gcHVsbEFjdGl2ZSgpIHtcbiAgICBzZWxmLnB1bGxQYXVzZWQgPSBmYWxzZTtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoc2VsZi5wdXNoUGF1c2VkKSB7XG4gICAgICBzZWxmLmVtaXQoJ2FjdGl2ZScsIHtcbiAgICAgICAgZGlyZWN0aW9uOiAncHVsbCdcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIHZhciByZW1vdmVkID0ge307XG5cbiAgZnVuY3Rpb24gcmVtb3ZlQWxsKHR5cGUpIHsgLy8gdHlwZSBpcyAncHVzaCcgb3IgJ3B1bGwnXG4gICAgcmV0dXJuIGZ1bmN0aW9uIChldmVudCwgZnVuYykge1xuICAgICAgdmFyIGlzQ2hhbmdlID0gZXZlbnQgPT09ICdjaGFuZ2UnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQ2hhbmdlIHx8IGZ1bmMgPT09IHB1c2hDaGFuZ2UpO1xuICAgICAgdmFyIGlzRGVuaWVkID0gZXZlbnQgPT09ICdkZW5pZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsRGVuaWVkIHx8IGZ1bmMgPT09IHB1c2hEZW5pZWQpO1xuICAgICAgdmFyIGlzUGF1c2VkID0gZXZlbnQgPT09ICdwYXVzZWQnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsUGF1c2VkIHx8IGZ1bmMgPT09IHB1c2hQYXVzZWQpO1xuICAgICAgdmFyIGlzQWN0aXZlID0gZXZlbnQgPT09ICdhY3RpdmUnICYmXG4gICAgICAgIChmdW5jID09PSBwdWxsQWN0aXZlIHx8IGZ1bmMgPT09IHB1c2hBY3RpdmUpO1xuXG4gICAgICBpZiAoaXNDaGFuZ2UgfHwgaXNEZW5pZWQgfHwgaXNQYXVzZWQgfHwgaXNBY3RpdmUpIHtcbiAgICAgICAgaWYgKCEoZXZlbnQgaW4gcmVtb3ZlZCkpIHtcbiAgICAgICAgICByZW1vdmVkW2V2ZW50XSA9IHt9O1xuICAgICAgICB9XG4gICAgICAgIHJlbW92ZWRbZXZlbnRdW3R5cGVdID0gdHJ1ZTtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKHJlbW92ZWRbZXZlbnRdKS5sZW5ndGggPT09IDIpIHtcbiAgICAgICAgICAvLyBib3RoIHB1c2ggYW5kIHB1bGwgaGF2ZSBhc2tlZCB0byBiZSByZW1vdmVkXG4gICAgICAgICAgc2VsZi5yZW1vdmVBbGxMaXN0ZW5lcnMoZXZlbnQpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfTtcbiAgfVxuXG4gIGlmIChvcHRzLmxpdmUpIHtcbiAgICB0aGlzLnB1c2gub24oJ2NvbXBsZXRlJywgc2VsZi5wdWxsLmNhbmNlbC5iaW5kKHNlbGYucHVsbCkpO1xuICAgIHRoaXMucHVsbC5vbignY29tcGxldGUnLCBzZWxmLnB1c2guY2FuY2VsLmJpbmQoc2VsZi5wdXNoKSk7XG4gIH1cblxuICBmdW5jdGlvbiBhZGRPbmVMaXN0ZW5lcihlZSwgZXZlbnQsIGxpc3RlbmVyKSB7XG4gICAgaWYgKGVlLmxpc3RlbmVycyhldmVudCkuaW5kZXhPZihsaXN0ZW5lcikgPT0gLTEpIHtcbiAgICAgIGVlLm9uKGV2ZW50LCBsaXN0ZW5lcik7XG4gICAgfVxuICB9XG5cbiAgdGhpcy5vbignbmV3TGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdjaGFuZ2UnLCBwdWxsQ2hhbmdlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2NoYW5nZScsIHB1c2hDaGFuZ2UpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdkZW5pZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2RlbmllZCcsIHB1c2hEZW5pZWQpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdhY3RpdmUnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdhY3RpdmUnLCBwdWxsQWN0aXZlKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBhZGRPbmVMaXN0ZW5lcihzZWxmLnB1bGwsICdwYXVzZWQnLCBwdWxsUGF1c2VkKTtcbiAgICAgIGFkZE9uZUxpc3RlbmVyKHNlbGYucHVzaCwgJ3BhdXNlZCcsIHB1c2hQYXVzZWQpO1xuICAgIH1cbiAgfSk7XG5cbiAgdGhpcy5vbigncmVtb3ZlTGlzdGVuZXInLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICBpZiAoZXZlbnQgPT09ICdjaGFuZ2UnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ2NoYW5nZScsIHB1bGxDaGFuZ2UpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdjaGFuZ2UnLCBwdXNoQ2hhbmdlKTtcbiAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSAnZGVuaWVkJykge1xuICAgICAgc2VsZi5wdWxsLnJlbW92ZUxpc3RlbmVyKCdkZW5pZWQnLCBwdWxsRGVuaWVkKTtcbiAgICAgIHNlbGYucHVzaC5yZW1vdmVMaXN0ZW5lcignZGVuaWVkJywgcHVzaERlbmllZCk7XG4gICAgfSBlbHNlIGlmIChldmVudCA9PT0gJ2FjdGl2ZScpIHtcbiAgICAgIHNlbGYucHVsbC5yZW1vdmVMaXN0ZW5lcignYWN0aXZlJywgcHVsbEFjdGl2ZSk7XG4gICAgICBzZWxmLnB1c2gucmVtb3ZlTGlzdGVuZXIoJ2FjdGl2ZScsIHB1c2hBY3RpdmUpO1xuICAgIH0gZWxzZSBpZiAoZXZlbnQgPT09ICdwYXVzZWQnKSB7XG4gICAgICBzZWxmLnB1bGwucmVtb3ZlTGlzdGVuZXIoJ3BhdXNlZCcsIHB1bGxQYXVzZWQpO1xuICAgICAgc2VsZi5wdXNoLnJlbW92ZUxpc3RlbmVyKCdwYXVzZWQnLCBwdXNoUGF1c2VkKTtcbiAgICB9XG4gIH0pO1xuXG4gIHRoaXMucHVsbC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1bGwnKSk7XG4gIHRoaXMucHVzaC5vbigncmVtb3ZlTGlzdGVuZXInLCByZW1vdmVBbGwoJ3B1c2gnKSk7XG5cbiAgdmFyIHByb21pc2UgPSBQcm9taXNlLmFsbChbXG4gICAgdGhpcy5wdXNoLFxuICAgIHRoaXMucHVsbFxuICBdKS50aGVuKGZ1bmN0aW9uIChyZXNwKSB7XG4gICAgdmFyIG91dCA9IHtcbiAgICAgIHB1c2g6IHJlc3BbMF0sXG4gICAgICBwdWxsOiByZXNwWzFdXG4gICAgfTtcbiAgICBzZWxmLmVtaXQoJ2NvbXBsZXRlJywgb3V0KTtcbiAgICBpZiAoY2FsbGJhY2spIHtcbiAgICAgIGNhbGxiYWNrKG51bGwsIG91dCk7XG4gICAgfVxuICAgIHNlbGYucmVtb3ZlQWxsTGlzdGVuZXJzKCk7XG4gICAgcmV0dXJuIG91dDtcbiAgfSwgZnVuY3Rpb24gKGVycikge1xuICAgIHNlbGYuY2FuY2VsKCk7XG4gICAgaWYgKGNhbGxiYWNrKSB7XG4gICAgICAvLyBpZiB0aGVyZSdzIGEgY2FsbGJhY2ssIHRoZW4gdGhlIGNhbGxiYWNrIGNhbiByZWNlaXZlXG4gICAgICAvLyB0aGUgZXJyb3IgZXZlbnRcbiAgICAgIGNhbGxiYWNrKGVycik7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gY2FsbGJhY2ssIHRoZW4gd2UncmUgc2FmZSB0byBlbWl0IGFuIGVycm9yXG4gICAgICAvLyBldmVudCwgd2hpY2ggd291bGQgb3RoZXJ3aXNlIHRocm93IGFuIHVuaGFuZGxlZCBlcnJvclxuICAgICAgLy8gZHVlIHRvICdlcnJvcicgYmVpbmcgYSBzcGVjaWFsIGV2ZW50IGluIEV2ZW50RW1pdHRlcnNcbiAgICAgIHNlbGYuZW1pdCgnZXJyb3InLCBlcnIpO1xuICAgIH1cbiAgICBzZWxmLnJlbW92ZUFsbExpc3RlbmVycygpO1xuICAgIGlmIChjYWxsYmFjaykge1xuICAgICAgLy8gbm8gc2Vuc2UgdGhyb3dpbmcgaWYgd2UncmUgYWxyZWFkeSBlbWl0dGluZyBhbiAnZXJyb3InIGV2ZW50XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9KTtcblxuICB0aGlzLnRoZW4gPSBmdW5jdGlvbiAoc3VjY2VzcywgZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UudGhlbihzdWNjZXNzLCBlcnIpO1xuICB9O1xuXG4gIHRoaXMuY2F0Y2ggPSBmdW5jdGlvbiAoZXJyKSB7XG4gICAgcmV0dXJuIHByb21pc2UuY2F0Y2goZXJyKTtcbiAgfTtcbn1cblxuU3luYy5wcm90b3R5cGUuY2FuY2VsID0gZnVuY3Rpb24gKCkge1xuICBpZiAoIXRoaXMuY2FuY2VsZWQpIHtcbiAgICB0aGlzLmNhbmNlbGVkID0gdHJ1ZTtcbiAgICB0aGlzLnB1c2guY2FuY2VsKCk7XG4gICAgdGhpcy5wdWxsLmNhbmNlbCgpO1xuICB9XG59O1xuXG5mdW5jdGlvbiByZXBsaWNhdGlvbihQb3VjaERCKSB7XG4gIFBvdWNoREIucmVwbGljYXRlID0gcmVwbGljYXRlV3JhcHBlcjtcbiAgUG91Y2hEQi5zeW5jID0gc3luYztcblxuICBPYmplY3QuZGVmaW5lUHJvcGVydHkoUG91Y2hEQi5wcm90b3R5cGUsICdyZXBsaWNhdGUnLCB7XG4gICAgZ2V0OiBmdW5jdGlvbiAoKSB7XG4gICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICBpZiAodHlwZW9mIHRoaXMucmVwbGljYXRlTWV0aG9kcyA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgdGhpcy5yZXBsaWNhdGVNZXRob2RzID0ge1xuICAgICAgICAgIGZyb206IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShvdGhlciwgc2VsZiwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH0sXG4gICAgICAgICAgdG86IGZ1bmN0aW9uIChvdGhlciwgb3B0cywgY2FsbGJhY2spIHtcbiAgICAgICAgICAgIHJldHVybiBzZWxmLmNvbnN0cnVjdG9yLnJlcGxpY2F0ZShzZWxmLCBvdGhlciwgb3B0cywgY2FsbGJhY2spO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzLnJlcGxpY2F0ZU1ldGhvZHM7XG4gICAgfVxuICB9KTtcblxuICBQb3VjaERCLnByb3RvdHlwZS5zeW5jID0gZnVuY3Rpb24gKGRiTmFtZSwgb3B0cywgY2FsbGJhY2spIHtcbiAgICByZXR1cm4gdGhpcy5jb25zdHJ1Y3Rvci5zeW5jKHRoaXMsIGRiTmFtZSwgb3B0cywgY2FsbGJhY2spO1xuICB9O1xufVxuXG5Qb3VjaERCLnBsdWdpbihJREJQb3VjaClcbiAgLnBsdWdpbihIdHRwUG91Y2gkMSlcbiAgLnBsdWdpbihtYXByZWR1Y2UpXG4gIC5wbHVnaW4ocmVwbGljYXRpb24pO1xuXG4vLyBQdWxsIGZyb20gc3JjIGJlY2F1c2UgcG91Y2hkYi1ub2RlL3BvdWNoZGItYnJvd3NlciB0aGVtc2VsdmVzXG5cbmV4cG9ydCBkZWZhdWx0IFBvdWNoREI7XG4iLCIvLyBzaGltIGZvciB1c2luZyBwcm9jZXNzIGluIGJyb3dzZXJcbnZhciBwcm9jZXNzID0gbW9kdWxlLmV4cG9ydHMgPSB7fTtcblxuLy8gY2FjaGVkIGZyb20gd2hhdGV2ZXIgZ2xvYmFsIGlzIHByZXNlbnQgc28gdGhhdCB0ZXN0IHJ1bm5lcnMgdGhhdCBzdHViIGl0XG4vLyBkb24ndCBicmVhayB0aGluZ3MuICBCdXQgd2UgbmVlZCB0byB3cmFwIGl0IGluIGEgdHJ5IGNhdGNoIGluIGNhc2UgaXQgaXNcbi8vIHdyYXBwZWQgaW4gc3RyaWN0IG1vZGUgY29kZSB3aGljaCBkb2Vzbid0IGRlZmluZSBhbnkgZ2xvYmFscy4gIEl0J3MgaW5zaWRlIGFcbi8vIGZ1bmN0aW9uIGJlY2F1c2UgdHJ5L2NhdGNoZXMgZGVvcHRpbWl6ZSBpbiBjZXJ0YWluIGVuZ2luZXMuXG5cbnZhciBjYWNoZWRTZXRUaW1lb3V0O1xudmFyIGNhY2hlZENsZWFyVGltZW91dDtcblxuZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3NldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWQnKTtcbn1cbmZ1bmN0aW9uIGRlZmF1bHRDbGVhclRpbWVvdXQgKCkge1xuICAgIHRocm93IG5ldyBFcnJvcignY2xlYXJUaW1lb3V0IGhhcyBub3QgYmVlbiBkZWZpbmVkJyk7XG59XG4oZnVuY3Rpb24gKCkge1xuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2Ygc2V0VGltZW91dCA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IHNldFRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gZGVmYXVsdFNldFRpbW91dDtcbiAgICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgY2FjaGVkU2V0VGltZW91dCA9IGRlZmF1bHRTZXRUaW1vdXQ7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGlmICh0eXBlb2YgY2xlYXJUaW1lb3V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBjbGVhclRpbWVvdXQ7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgICAgICB9XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjYWNoZWRDbGVhclRpbWVvdXQgPSBkZWZhdWx0Q2xlYXJUaW1lb3V0O1xuICAgIH1cbn0gKCkpXG5mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bikge1xuICAgIGlmIChjYWNoZWRTZXRUaW1lb3V0ID09PSBzZXRUaW1lb3V0KSB7XG4gICAgICAgIC8vbm9ybWFsIGVudmlyb21lbnRzIGluIHNhbmUgc2l0dWF0aW9uc1xuICAgICAgICByZXR1cm4gc2V0VGltZW91dChmdW4sIDApO1xuICAgIH1cbiAgICAvLyBpZiBzZXRUaW1lb3V0IHdhc24ndCBhdmFpbGFibGUgYnV0IHdhcyBsYXR0ZXIgZGVmaW5lZFxuICAgIGlmICgoY2FjaGVkU2V0VGltZW91dCA9PT0gZGVmYXVsdFNldFRpbW91dCB8fCAhY2FjaGVkU2V0VGltZW91dCkgJiYgc2V0VGltZW91dCkge1xuICAgICAgICBjYWNoZWRTZXRUaW1lb3V0ID0gc2V0VGltZW91dDtcbiAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQoZnVuLCAwKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gd2hlbiB3aGVuIHNvbWVib2R5IGhhcyBzY3Jld2VkIHdpdGggc2V0VGltZW91dCBidXQgbm8gSS5FLiBtYWRkbmVzc1xuICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dChmdW4sIDApO1xuICAgIH0gY2F0Y2goZSl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBXaGVuIHdlIGFyZSBpbiBJLkUuIGJ1dCB0aGUgc2NyaXB0IGhhcyBiZWVuIGV2YWxlZCBzbyBJLkUuIGRvZXNuJ3QgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRTZXRUaW1lb3V0LmNhbGwobnVsbCwgZnVuLCAwKTtcbiAgICAgICAgfSBjYXRjaChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yXG4gICAgICAgICAgICByZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsIGZ1biwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cblxufVxuZnVuY3Rpb24gcnVuQ2xlYXJUaW1lb3V0KG1hcmtlcikge1xuICAgIGlmIChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGNsZWFyVGltZW91dCkge1xuICAgICAgICAvL25vcm1hbCBlbnZpcm9tZW50cyBpbiBzYW5lIHNpdHVhdGlvbnNcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICAvLyBpZiBjbGVhclRpbWVvdXQgd2Fzbid0IGF2YWlsYWJsZSBidXQgd2FzIGxhdHRlciBkZWZpbmVkXG4gICAgaWYgKChjYWNoZWRDbGVhclRpbWVvdXQgPT09IGRlZmF1bHRDbGVhclRpbWVvdXQgfHwgIWNhY2hlZENsZWFyVGltZW91dCkgJiYgY2xlYXJUaW1lb3V0KSB7XG4gICAgICAgIGNhY2hlZENsZWFyVGltZW91dCA9IGNsZWFyVGltZW91dDtcbiAgICAgICAgcmV0dXJuIGNsZWFyVGltZW91dChtYXJrZXIpO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICAvLyB3aGVuIHdoZW4gc29tZWJvZHkgaGFzIHNjcmV3ZWQgd2l0aCBzZXRUaW1lb3V0IGJ1dCBubyBJLkUuIG1hZGRuZXNzXG4gICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQobWFya2VyKTtcbiAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFdoZW4gd2UgYXJlIGluIEkuRS4gYnV0IHRoZSBzY3JpcHQgaGFzIGJlZW4gZXZhbGVkIHNvIEkuRS4gZG9lc24ndCAgdHJ1c3QgdGhlIGdsb2JhbCBvYmplY3Qgd2hlbiBjYWxsZWQgbm9ybWFsbHlcbiAgICAgICAgICAgIHJldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbChudWxsLCBtYXJrZXIpO1xuICAgICAgICB9IGNhdGNoIChlKXtcbiAgICAgICAgICAgIC8vIHNhbWUgYXMgYWJvdmUgYnV0IHdoZW4gaXQncyBhIHZlcnNpb24gb2YgSS5FLiB0aGF0IG11c3QgaGF2ZSB0aGUgZ2xvYmFsIG9iamVjdCBmb3IgJ3RoaXMnLCBob3BmdWxseSBvdXIgY29udGV4dCBjb3JyZWN0IG90aGVyd2lzZSBpdCB3aWxsIHRocm93IGEgZ2xvYmFsIGVycm9yLlxuICAgICAgICAgICAgLy8gU29tZSB2ZXJzaW9ucyBvZiBJLkUuIGhhdmUgZGlmZmVyZW50IHJ1bGVzIGZvciBjbGVhclRpbWVvdXQgdnMgc2V0VGltZW91dFxuICAgICAgICAgICAgcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dC5jYWxsKHRoaXMsIG1hcmtlcik7XG4gICAgICAgIH1cbiAgICB9XG5cblxuXG59XG52YXIgcXVldWUgPSBbXTtcbnZhciBkcmFpbmluZyA9IGZhbHNlO1xudmFyIGN1cnJlbnRRdWV1ZTtcbnZhciBxdWV1ZUluZGV4ID0gLTE7XG5cbmZ1bmN0aW9uIGNsZWFuVXBOZXh0VGljaygpIHtcbiAgICBpZiAoIWRyYWluaW5nIHx8ICFjdXJyZW50UXVldWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBkcmFpbmluZyA9IGZhbHNlO1xuICAgIGlmIChjdXJyZW50UXVldWUubGVuZ3RoKSB7XG4gICAgICAgIHF1ZXVlID0gY3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBpZiAocXVldWUubGVuZ3RoKSB7XG4gICAgICAgIGRyYWluUXVldWUoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGRyYWluUXVldWUoKSB7XG4gICAgaWYgKGRyYWluaW5nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIHRpbWVvdXQgPSBydW5UaW1lb3V0KGNsZWFuVXBOZXh0VGljayk7XG4gICAgZHJhaW5pbmcgPSB0cnVlO1xuXG4gICAgdmFyIGxlbiA9IHF1ZXVlLmxlbmd0aDtcbiAgICB3aGlsZShsZW4pIHtcbiAgICAgICAgY3VycmVudFF1ZXVlID0gcXVldWU7XG4gICAgICAgIHF1ZXVlID0gW107XG4gICAgICAgIHdoaWxlICgrK3F1ZXVlSW5kZXggPCBsZW4pIHtcbiAgICAgICAgICAgIGlmIChjdXJyZW50UXVldWUpIHtcbiAgICAgICAgICAgICAgICBjdXJyZW50UXVldWVbcXVldWVJbmRleF0ucnVuKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcXVldWVJbmRleCA9IC0xO1xuICAgICAgICBsZW4gPSBxdWV1ZS5sZW5ndGg7XG4gICAgfVxuICAgIGN1cnJlbnRRdWV1ZSA9IG51bGw7XG4gICAgZHJhaW5pbmcgPSBmYWxzZTtcbiAgICBydW5DbGVhclRpbWVvdXQodGltZW91dCk7XG59XG5cbnByb2Nlc3MubmV4dFRpY2sgPSBmdW5jdGlvbiAoZnVuKSB7XG4gICAgdmFyIGFyZ3MgPSBuZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aCAtIDEpO1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoID4gMSkge1xuICAgICAgICBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgYXJnc1tpIC0gMV0gPSBhcmd1bWVudHNbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcXVldWUucHVzaChuZXcgSXRlbShmdW4sIGFyZ3MpKTtcbiAgICBpZiAocXVldWUubGVuZ3RoID09PSAxICYmICFkcmFpbmluZykge1xuICAgICAgICBydW5UaW1lb3V0KGRyYWluUXVldWUpO1xuICAgIH1cbn07XG5cbi8vIHY4IGxpa2VzIHByZWRpY3RpYmxlIG9iamVjdHNcbmZ1bmN0aW9uIEl0ZW0oZnVuLCBhcnJheSkge1xuICAgIHRoaXMuZnVuID0gZnVuO1xuICAgIHRoaXMuYXJyYXkgPSBhcnJheTtcbn1cbkl0ZW0ucHJvdG90eXBlLnJ1biA9IGZ1bmN0aW9uICgpIHtcbiAgICB0aGlzLmZ1bi5hcHBseShudWxsLCB0aGlzLmFycmF5KTtcbn07XG5wcm9jZXNzLnRpdGxlID0gJ2Jyb3dzZXInO1xucHJvY2Vzcy5icm93c2VyID0gdHJ1ZTtcbnByb2Nlc3MuZW52ID0ge307XG5wcm9jZXNzLmFyZ3YgPSBbXTtcbnByb2Nlc3MudmVyc2lvbiA9ICcnOyAvLyBlbXB0eSBzdHJpbmcgdG8gYXZvaWQgcmVnZXhwIGlzc3Vlc1xucHJvY2Vzcy52ZXJzaW9ucyA9IHt9O1xuXG5mdW5jdGlvbiBub29wKCkge31cblxucHJvY2Vzcy5vbiA9IG5vb3A7XG5wcm9jZXNzLmFkZExpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3Mub25jZSA9IG5vb3A7XG5wcm9jZXNzLm9mZiA9IG5vb3A7XG5wcm9jZXNzLnJlbW92ZUxpc3RlbmVyID0gbm9vcDtcbnByb2Nlc3MucmVtb3ZlQWxsTGlzdGVuZXJzID0gbm9vcDtcbnByb2Nlc3MuZW1pdCA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRMaXN0ZW5lciA9IG5vb3A7XG5wcm9jZXNzLnByZXBlbmRPbmNlTGlzdGVuZXIgPSBub29wO1xuXG5wcm9jZXNzLmxpc3RlbmVycyA9IGZ1bmN0aW9uIChuYW1lKSB7IHJldHVybiBbXSB9XG5cbnByb2Nlc3MuYmluZGluZyA9IGZ1bmN0aW9uIChuYW1lKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZCcpO1xufTtcblxucHJvY2Vzcy5jd2QgPSBmdW5jdGlvbiAoKSB7IHJldHVybiAnLycgfTtcbnByb2Nlc3MuY2hkaXIgPSBmdW5jdGlvbiAoZGlyKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdwcm9jZXNzLmNoZGlyIGlzIG5vdCBzdXBwb3J0ZWQnKTtcbn07XG5wcm9jZXNzLnVtYXNrID0gZnVuY3Rpb24oKSB7IHJldHVybiAwOyB9O1xuIiwiLyoqXG4gKiBAbGljZW5zZVxuICogTG9kYXNoIDxodHRwczovL2xvZGFzaC5jb20vPlxuICogQ29weXJpZ2h0IE9wZW5KUyBGb3VuZGF0aW9uIGFuZCBvdGhlciBjb250cmlidXRvcnMgPGh0dHBzOi8vb3BlbmpzZi5vcmcvPlxuICogUmVsZWFzZWQgdW5kZXIgTUlUIGxpY2Vuc2UgPGh0dHBzOi8vbG9kYXNoLmNvbS9saWNlbnNlPlxuICogQmFzZWQgb24gVW5kZXJzY29yZS5qcyAxLjguMyA8aHR0cDovL3VuZGVyc2NvcmVqcy5vcmcvTElDRU5TRT5cbiAqIENvcHlyaWdodCBKZXJlbXkgQXNoa2VuYXMsIERvY3VtZW50Q2xvdWQgYW5kIEludmVzdGlnYXRpdmUgUmVwb3J0ZXJzICYgRWRpdG9yc1xuICovXG47KGZ1bmN0aW9uKCkge1xuXG4gIC8qKiBVc2VkIGFzIGEgc2FmZSByZWZlcmVuY2UgZm9yIGB1bmRlZmluZWRgIGluIHByZS1FUzUgZW52aXJvbm1lbnRzLiAqL1xuICB2YXIgdW5kZWZpbmVkO1xuXG4gIC8qKiBVc2VkIGFzIHRoZSBzZW1hbnRpYyB2ZXJzaW9uIG51bWJlci4gKi9cbiAgdmFyIFZFUlNJT04gPSAnNC4xNy4yMSc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIHNpemUgdG8gZW5hYmxlIGxhcmdlIGFycmF5IG9wdGltaXphdGlvbnMuICovXG4gIHZhciBMQVJHRV9BUlJBWV9TSVpFID0gMjAwO1xuXG4gIC8qKiBFcnJvciBtZXNzYWdlIGNvbnN0YW50cy4gKi9cbiAgdmFyIENPUkVfRVJST1JfVEVYVCA9ICdVbnN1cHBvcnRlZCBjb3JlLWpzIHVzZS4gVHJ5IGh0dHBzOi8vbnBtcy5pby9zZWFyY2g/cT1wb255ZmlsbC4nLFxuICAgICAgRlVOQ19FUlJPUl9URVhUID0gJ0V4cGVjdGVkIGEgZnVuY3Rpb24nLFxuICAgICAgSU5WQUxJRF9URU1QTF9WQVJfRVJST1JfVEVYVCA9ICdJbnZhbGlkIGB2YXJpYWJsZWAgb3B0aW9uIHBhc3NlZCBpbnRvIGBfLnRlbXBsYXRlYCc7XG5cbiAgLyoqIFVzZWQgdG8gc3RhbmQtaW4gZm9yIGB1bmRlZmluZWRgIGhhc2ggdmFsdWVzLiAqL1xuICB2YXIgSEFTSF9VTkRFRklORUQgPSAnX19sb2Rhc2hfaGFzaF91bmRlZmluZWRfXyc7XG5cbiAgLyoqIFVzZWQgYXMgdGhlIG1heGltdW0gbWVtb2l6ZSBjYWNoZSBzaXplLiAqL1xuICB2YXIgTUFYX01FTU9JWkVfU0laRSA9IDUwMDtcblxuICAvKiogVXNlZCBhcyB0aGUgaW50ZXJuYWwgYXJndW1lbnQgcGxhY2Vob2xkZXIuICovXG4gIHZhciBQTEFDRUhPTERFUiA9ICdfX2xvZGFzaF9wbGFjZWhvbGRlcl9fJztcblxuICAvKiogVXNlZCB0byBjb21wb3NlIGJpdG1hc2tzIGZvciBjbG9uaW5nLiAqL1xuICB2YXIgQ0xPTkVfREVFUF9GTEFHID0gMSxcbiAgICAgIENMT05FX0ZMQVRfRkxBRyA9IDIsXG4gICAgICBDTE9ORV9TWU1CT0xTX0ZMQUcgPSA0O1xuXG4gIC8qKiBVc2VkIHRvIGNvbXBvc2UgYml0bWFza3MgZm9yIHZhbHVlIGNvbXBhcmlzb25zLiAqL1xuICB2YXIgQ09NUEFSRV9QQVJUSUFMX0ZMQUcgPSAxLFxuICAgICAgQ09NUEFSRV9VTk9SREVSRURfRkxBRyA9IDI7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSBiaXRtYXNrcyBmb3IgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gIHZhciBXUkFQX0JJTkRfRkxBRyA9IDEsXG4gICAgICBXUkFQX0JJTkRfS0VZX0ZMQUcgPSAyLFxuICAgICAgV1JBUF9DVVJSWV9CT1VORF9GTEFHID0gNCxcbiAgICAgIFdSQVBfQ1VSUllfRkxBRyA9IDgsXG4gICAgICBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcgPSAxNixcbiAgICAgIFdSQVBfUEFSVElBTF9GTEFHID0gMzIsXG4gICAgICBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA9IDY0LFxuICAgICAgV1JBUF9BUllfRkxBRyA9IDEyOCxcbiAgICAgIFdSQVBfUkVBUkdfRkxBRyA9IDI1NixcbiAgICAgIFdSQVBfRkxJUF9GTEFHID0gNTEyO1xuXG4gIC8qKiBVc2VkIGFzIGRlZmF1bHQgb3B0aW9ucyBmb3IgYF8udHJ1bmNhdGVgLiAqL1xuICB2YXIgREVGQVVMVF9UUlVOQ19MRU5HVEggPSAzMCxcbiAgICAgIERFRkFVTFRfVFJVTkNfT01JU1NJT04gPSAnLi4uJztcblxuICAvKiogVXNlZCB0byBkZXRlY3QgaG90IGZ1bmN0aW9ucyBieSBudW1iZXIgb2YgY2FsbHMgd2l0aGluIGEgc3BhbiBvZiBtaWxsaXNlY29uZHMuICovXG4gIHZhciBIT1RfQ09VTlQgPSA4MDAsXG4gICAgICBIT1RfU1BBTiA9IDE2O1xuXG4gIC8qKiBVc2VkIHRvIGluZGljYXRlIHRoZSB0eXBlIG9mIGxhenkgaXRlcmF0ZWVzLiAqL1xuICB2YXIgTEFaWV9GSUxURVJfRkxBRyA9IDEsXG4gICAgICBMQVpZX01BUF9GTEFHID0gMixcbiAgICAgIExBWllfV0hJTEVfRkxBRyA9IDM7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdmFyaW91cyBgTnVtYmVyYCBjb25zdGFudHMuICovXG4gIHZhciBJTkZJTklUWSA9IDEgLyAwLFxuICAgICAgTUFYX1NBRkVfSU5URUdFUiA9IDkwMDcxOTkyNTQ3NDA5OTEsXG4gICAgICBNQVhfSU5URUdFUiA9IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4LFxuICAgICAgTkFOID0gMCAvIDA7XG5cbiAgLyoqIFVzZWQgYXMgcmVmZXJlbmNlcyBmb3IgdGhlIG1heGltdW0gbGVuZ3RoIGFuZCBpbmRleCBvZiBhbiBhcnJheS4gKi9cbiAgdmFyIE1BWF9BUlJBWV9MRU5HVEggPSA0Mjk0OTY3Mjk1LFxuICAgICAgTUFYX0FSUkFZX0lOREVYID0gTUFYX0FSUkFZX0xFTkdUSCAtIDEsXG4gICAgICBIQUxGX01BWF9BUlJBWV9MRU5HVEggPSBNQVhfQVJSQVlfTEVOR1RIID4+PiAxO1xuXG4gIC8qKiBVc2VkIHRvIGFzc29jaWF0ZSB3cmFwIG1ldGhvZHMgd2l0aCB0aGVpciBiaXQgZmxhZ3MuICovXG4gIHZhciB3cmFwRmxhZ3MgPSBbXG4gICAgWydhcnknLCBXUkFQX0FSWV9GTEFHXSxcbiAgICBbJ2JpbmQnLCBXUkFQX0JJTkRfRkxBR10sXG4gICAgWydiaW5kS2V5JywgV1JBUF9CSU5EX0tFWV9GTEFHXSxcbiAgICBbJ2N1cnJ5JywgV1JBUF9DVVJSWV9GTEFHXSxcbiAgICBbJ2N1cnJ5UmlnaHQnLCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUddLFxuICAgIFsnZmxpcCcsIFdSQVBfRkxJUF9GTEFHXSxcbiAgICBbJ3BhcnRpYWwnLCBXUkFQX1BBUlRJQUxfRkxBR10sXG4gICAgWydwYXJ0aWFsUmlnaHQnLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBR10sXG4gICAgWydyZWFyZycsIFdSQVBfUkVBUkdfRkxBR11cbiAgXTtcblxuICAvKiogYE9iamVjdCN0b1N0cmluZ2AgcmVzdWx0IHJlZmVyZW5jZXMuICovXG4gIHZhciBhcmdzVGFnID0gJ1tvYmplY3QgQXJndW1lbnRzXScsXG4gICAgICBhcnJheVRhZyA9ICdbb2JqZWN0IEFycmF5XScsXG4gICAgICBhc3luY1RhZyA9ICdbb2JqZWN0IEFzeW5jRnVuY3Rpb25dJyxcbiAgICAgIGJvb2xUYWcgPSAnW29iamVjdCBCb29sZWFuXScsXG4gICAgICBkYXRlVGFnID0gJ1tvYmplY3QgRGF0ZV0nLFxuICAgICAgZG9tRXhjVGFnID0gJ1tvYmplY3QgRE9NRXhjZXB0aW9uXScsXG4gICAgICBlcnJvclRhZyA9ICdbb2JqZWN0IEVycm9yXScsXG4gICAgICBmdW5jVGFnID0gJ1tvYmplY3QgRnVuY3Rpb25dJyxcbiAgICAgIGdlblRhZyA9ICdbb2JqZWN0IEdlbmVyYXRvckZ1bmN0aW9uXScsXG4gICAgICBtYXBUYWcgPSAnW29iamVjdCBNYXBdJyxcbiAgICAgIG51bWJlclRhZyA9ICdbb2JqZWN0IE51bWJlcl0nLFxuICAgICAgbnVsbFRhZyA9ICdbb2JqZWN0IE51bGxdJyxcbiAgICAgIG9iamVjdFRhZyA9ICdbb2JqZWN0IE9iamVjdF0nLFxuICAgICAgcHJvbWlzZVRhZyA9ICdbb2JqZWN0IFByb21pc2VdJyxcbiAgICAgIHByb3h5VGFnID0gJ1tvYmplY3QgUHJveHldJyxcbiAgICAgIHJlZ2V4cFRhZyA9ICdbb2JqZWN0IFJlZ0V4cF0nLFxuICAgICAgc2V0VGFnID0gJ1tvYmplY3QgU2V0XScsXG4gICAgICBzdHJpbmdUYWcgPSAnW29iamVjdCBTdHJpbmddJyxcbiAgICAgIHN5bWJvbFRhZyA9ICdbb2JqZWN0IFN5bWJvbF0nLFxuICAgICAgdW5kZWZpbmVkVGFnID0gJ1tvYmplY3QgVW5kZWZpbmVkXScsXG4gICAgICB3ZWFrTWFwVGFnID0gJ1tvYmplY3QgV2Vha01hcF0nLFxuICAgICAgd2Vha1NldFRhZyA9ICdbb2JqZWN0IFdlYWtTZXRdJztcblxuICB2YXIgYXJyYXlCdWZmZXJUYWcgPSAnW29iamVjdCBBcnJheUJ1ZmZlcl0nLFxuICAgICAgZGF0YVZpZXdUYWcgPSAnW29iamVjdCBEYXRhVmlld10nLFxuICAgICAgZmxvYXQzMlRhZyA9ICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICAgZmxvYXQ2NFRhZyA9ICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nLFxuICAgICAgaW50OFRhZyA9ICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICAgaW50MTZUYWcgPSAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgICBpbnQzMlRhZyA9ICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAgIHVpbnQ4VGFnID0gJ1tvYmplY3QgVWludDhBcnJheV0nLFxuICAgICAgdWludDhDbGFtcGVkVGFnID0gJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAgIHVpbnQxNlRhZyA9ICdbb2JqZWN0IFVpbnQxNkFycmF5XScsXG4gICAgICB1aW50MzJUYWcgPSAnW29iamVjdCBVaW50MzJBcnJheV0nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGVtcHR5IHN0cmluZyBsaXRlcmFscyBpbiBjb21waWxlZCB0ZW1wbGF0ZSBzb3VyY2UuICovXG4gIHZhciByZUVtcHR5U3RyaW5nTGVhZGluZyA9IC9cXGJfX3AgXFwrPSAnJzsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdNaWRkbGUgPSAvXFxiKF9fcCBcXCs9KSAnJyBcXCsvZyxcbiAgICAgIHJlRW1wdHlTdHJpbmdUcmFpbGluZyA9IC8oX19lXFwoLio/XFwpfFxcYl9fdFxcKSkgXFwrXFxuJyc7L2c7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggSFRNTCBlbnRpdGllcyBhbmQgSFRNTCBjaGFyYWN0ZXJzLiAqL1xuICB2YXIgcmVFc2NhcGVkSHRtbCA9IC8mKD86YW1wfGx0fGd0fHF1b3R8IzM5KTsvZyxcbiAgICAgIHJlVW5lc2NhcGVkSHRtbCA9IC9bJjw+XCInXS9nLFxuICAgICAgcmVIYXNFc2NhcGVkSHRtbCA9IFJlZ0V4cChyZUVzY2FwZWRIdG1sLnNvdXJjZSksXG4gICAgICByZUhhc1VuZXNjYXBlZEh0bWwgPSBSZWdFeHAocmVVbmVzY2FwZWRIdG1sLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdGVtcGxhdGUgZGVsaW1pdGVycy4gKi9cbiAgdmFyIHJlRXNjYXBlID0gLzwlLShbXFxzXFxTXSs/KSU+L2csXG4gICAgICByZUV2YWx1YXRlID0gLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICAgIHJlSW50ZXJwb2xhdGUgPSAvPCU9KFtcXHNcXFNdKz8pJT4vZztcblxuICAvKiogVXNlZCB0byBtYXRjaCBwcm9wZXJ0eSBuYW1lcyB3aXRoaW4gcHJvcGVydHkgcGF0aHMuICovXG4gIHZhciByZUlzRGVlcFByb3AgPSAvXFwufFxcWyg/OlteW1xcXV0qfChbXCInXSkoPzooPyFcXDEpW15cXFxcXXxcXFxcLikqP1xcMSlcXF0vLFxuICAgICAgcmVJc1BsYWluUHJvcCA9IC9eXFx3KiQvLFxuICAgICAgcmVQcm9wTmFtZSA9IC9bXi5bXFxdXSt8XFxbKD86KC0/XFxkKyg/OlxcLlxcZCspPyl8KFtcIiddKSgoPzooPyFcXDIpW15cXFxcXXxcXFxcLikqPylcXDIpXFxdfCg/PSg/OlxcLnxcXFtcXF0pKD86XFwufFxcW1xcXXwkKSkvZztcblxuICAvKipcbiAgICogVXNlZCB0byBtYXRjaCBgUmVnRXhwYFxuICAgKiBbc3ludGF4IGNoYXJhY3RlcnNdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXBhdHRlcm5zKS5cbiAgICovXG4gIHZhciByZVJlZ0V4cENoYXIgPSAvW1xcXFxeJC4qKz8oKVtcXF17fXxdL2csXG4gICAgICByZUhhc1JlZ0V4cENoYXIgPSBSZWdFeHAocmVSZWdFeHBDaGFyLnNvdXJjZSk7XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggbGVhZGluZyB3aGl0ZXNwYWNlLiAqL1xuICB2YXIgcmVUcmltU3RhcnQgPSAvXlxccysvO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGEgc2luZ2xlIHdoaXRlc3BhY2UgY2hhcmFjdGVyLiAqL1xuICB2YXIgcmVXaGl0ZXNwYWNlID0gL1xccy87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd3JhcCBkZXRhaWwgY29tbWVudHMuICovXG4gIHZhciByZVdyYXBDb21tZW50ID0gL1xceyg/OlxcblxcL1xcKiBcXFt3cmFwcGVkIHdpdGggLitcXF0gXFwqXFwvKT9cXG4/LyxcbiAgICAgIHJlV3JhcERldGFpbHMgPSAvXFx7XFxuXFwvXFwqIFxcW3dyYXBwZWQgd2l0aCAoLispXFxdIFxcKi8sXG4gICAgICByZVNwbGl0RGV0YWlscyA9IC8sPyAmIC87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggd29yZHMgY29tcG9zZWQgb2YgYWxwaGFudW1lcmljIGNoYXJhY3RlcnMuICovXG4gIHZhciByZUFzY2lpV29yZCA9IC9bXlxceDAwLVxceDJmXFx4M2EtXFx4NDBcXHg1Yi1cXHg2MFxceDdiLVxceDdmXSsvZztcblxuICAvKipcbiAgICogVXNlZCB0byB2YWxpZGF0ZSB0aGUgYHZhbGlkYXRlYCBvcHRpb24gaW4gYF8udGVtcGxhdGVgIHZhcmlhYmxlLlxuICAgKlxuICAgKiBGb3JiaWRzIGNoYXJhY3RlcnMgd2hpY2ggY291bGQgcG90ZW50aWFsbHkgY2hhbmdlIHRoZSBtZWFuaW5nIG9mIHRoZSBmdW5jdGlvbiBhcmd1bWVudCBkZWZpbml0aW9uOlxuICAgKiAtIFwiKCksXCIgKG1vZGlmaWNhdGlvbiBvZiBmdW5jdGlvbiBwYXJhbWV0ZXJzKVxuICAgKiAtIFwiPVwiIChkZWZhdWx0IHZhbHVlKVxuICAgKiAtIFwiW117fVwiIChkZXN0cnVjdHVyaW5nIG9mIGZ1bmN0aW9uIHBhcmFtZXRlcnMpXG4gICAqIC0gXCIvXCIgKGJlZ2lubmluZyBvZiBhIGNvbW1lbnQpXG4gICAqIC0gd2hpdGVzcGFjZVxuICAgKi9cbiAgdmFyIHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzID0gL1soKT0se31cXFtcXF1cXC9cXHNdLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBiYWNrc2xhc2hlcyBpbiBwcm9wZXJ0eSBwYXRocy4gKi9cbiAgdmFyIHJlRXNjYXBlQ2hhciA9IC9cXFxcKFxcXFwpPy9nO1xuXG4gIC8qKlxuICAgKiBVc2VkIHRvIG1hdGNoXG4gICAqIFtFUyB0ZW1wbGF0ZSBkZWxpbWl0ZXJzXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10ZW1wbGF0ZS1saXRlcmFsLWxleGljYWwtY29tcG9uZW50cykuXG4gICAqL1xuICB2YXIgcmVFc1RlbXBsYXRlID0gL1xcJFxceyhbXlxcXFx9XSooPzpcXFxcLlteXFxcXH1dKikqKVxcfS9nO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIGBSZWdFeHBgIGZsYWdzIGZyb20gdGhlaXIgY29lcmNlZCBzdHJpbmcgdmFsdWVzLiAqL1xuICB2YXIgcmVGbGFncyA9IC9cXHcqJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IGJhZCBzaWduZWQgaGV4YWRlY2ltYWwgc3RyaW5nIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNCYWRIZXggPSAvXlstK10weFswLTlhLWZdKyQvaTtcblxuICAvKiogVXNlZCB0byBkZXRlY3QgYmluYXJ5IHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzQmluYXJ5ID0gL14wYlswMV0rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBob3N0IGNvbnN0cnVjdG9ycyAoU2FmYXJpKS4gKi9cbiAgdmFyIHJlSXNIb3N0Q3RvciA9IC9eXFxbb2JqZWN0IC4rP0NvbnN0cnVjdG9yXFxdJC87XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IG9jdGFsIHN0cmluZyB2YWx1ZXMuICovXG4gIHZhciByZUlzT2N0YWwgPSAvXjBvWzAtN10rJC9pO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCB1bnNpZ25lZCBpbnRlZ2VyIHZhbHVlcy4gKi9cbiAgdmFyIHJlSXNVaW50ID0gL14oPzowfFsxLTldXFxkKikkLztcblxuICAvKiogVXNlZCB0byBtYXRjaCBMYXRpbiBVbmljb2RlIGxldHRlcnMgKGV4Y2x1ZGluZyBtYXRoZW1hdGljYWwgb3BlcmF0b3JzKS4gKi9cbiAgdmFyIHJlTGF0aW4gPSAvW1xceGMwLVxceGQ2XFx4ZDgtXFx4ZjZcXHhmOC1cXHhmZlxcdTAxMDAtXFx1MDE3Zl0vZztcblxuICAvKiogVXNlZCB0byBlbnN1cmUgY2FwdHVyaW5nIG9yZGVyIG9mIHRlbXBsYXRlIGRlbGltaXRlcnMuICovXG4gIHZhciByZU5vTWF0Y2ggPSAvKCReKS87XG5cbiAgLyoqIFVzZWQgdG8gbWF0Y2ggdW5lc2NhcGVkIGNoYXJhY3RlcnMgaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgcmVVbmVzY2FwZWRTdHJpbmcgPSAvWydcXG5cXHJcXHUyMDI4XFx1MjAyOVxcXFxdL2c7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIGNoYXJhY3RlciBjbGFzc2VzLiAqL1xuICB2YXIgcnNBc3RyYWxSYW5nZSA9ICdcXFxcdWQ4MDAtXFxcXHVkZmZmJyxcbiAgICAgIHJzQ29tYm9NYXJrc1JhbmdlID0gJ1xcXFx1MDMwMC1cXFxcdTAzNmYnLFxuICAgICAgcmVDb21ib0hhbGZNYXJrc1JhbmdlID0gJ1xcXFx1ZmUyMC1cXFxcdWZlMmYnLFxuICAgICAgcnNDb21ib1N5bWJvbHNSYW5nZSA9ICdcXFxcdTIwZDAtXFxcXHUyMGZmJyxcbiAgICAgIHJzQ29tYm9SYW5nZSA9IHJzQ29tYm9NYXJrc1JhbmdlICsgcmVDb21ib0hhbGZNYXJrc1JhbmdlICsgcnNDb21ib1N5bWJvbHNSYW5nZSxcbiAgICAgIHJzRGluZ2JhdFJhbmdlID0gJ1xcXFx1MjcwMC1cXFxcdTI3YmYnLFxuICAgICAgcnNMb3dlclJhbmdlID0gJ2EtelxcXFx4ZGYtXFxcXHhmNlxcXFx4ZjgtXFxcXHhmZicsXG4gICAgICByc01hdGhPcFJhbmdlID0gJ1xcXFx4YWNcXFxceGIxXFxcXHhkN1xcXFx4ZjcnLFxuICAgICAgcnNOb25DaGFyUmFuZ2UgPSAnXFxcXHgwMC1cXFxceDJmXFxcXHgzYS1cXFxceDQwXFxcXHg1Yi1cXFxceDYwXFxcXHg3Yi1cXFxceGJmJyxcbiAgICAgIHJzUHVuY3R1YXRpb25SYW5nZSA9ICdcXFxcdTIwMDAtXFxcXHUyMDZmJyxcbiAgICAgIHJzU3BhY2VSYW5nZSA9ICcgXFxcXHRcXFxceDBiXFxcXGZcXFxceGEwXFxcXHVmZWZmXFxcXG5cXFxcclxcXFx1MjAyOFxcXFx1MjAyOVxcXFx1MTY4MFxcXFx1MTgwZVxcXFx1MjAwMFxcXFx1MjAwMVxcXFx1MjAwMlxcXFx1MjAwM1xcXFx1MjAwNFxcXFx1MjAwNVxcXFx1MjAwNlxcXFx1MjAwN1xcXFx1MjAwOFxcXFx1MjAwOVxcXFx1MjAwYVxcXFx1MjAyZlxcXFx1MjA1ZlxcXFx1MzAwMCcsXG4gICAgICByc1VwcGVyUmFuZ2UgPSAnQS1aXFxcXHhjMC1cXFxceGQ2XFxcXHhkOC1cXFxceGRlJyxcbiAgICAgIHJzVmFyUmFuZ2UgPSAnXFxcXHVmZTBlXFxcXHVmZTBmJyxcbiAgICAgIHJzQnJlYWtSYW5nZSA9IHJzTWF0aE9wUmFuZ2UgKyByc05vbkNoYXJSYW5nZSArIHJzUHVuY3R1YXRpb25SYW5nZSArIHJzU3BhY2VSYW5nZTtcblxuICAvKiogVXNlZCB0byBjb21wb3NlIHVuaWNvZGUgY2FwdHVyZSBncm91cHMuICovXG4gIHZhciByc0Fwb3MgPSBcIlsnXFx1MjAxOV1cIixcbiAgICAgIHJzQXN0cmFsID0gJ1snICsgcnNBc3RyYWxSYW5nZSArICddJyxcbiAgICAgIHJzQnJlYWsgPSAnWycgKyByc0JyZWFrUmFuZ2UgKyAnXScsXG4gICAgICByc0NvbWJvID0gJ1snICsgcnNDb21ib1JhbmdlICsgJ10nLFxuICAgICAgcnNEaWdpdHMgPSAnXFxcXGQrJyxcbiAgICAgIHJzRGluZ2JhdCA9ICdbJyArIHJzRGluZ2JhdFJhbmdlICsgJ10nLFxuICAgICAgcnNMb3dlciA9ICdbJyArIHJzTG93ZXJSYW5nZSArICddJyxcbiAgICAgIHJzTWlzYyA9ICdbXicgKyByc0FzdHJhbFJhbmdlICsgcnNCcmVha1JhbmdlICsgcnNEaWdpdHMgKyByc0RpbmdiYXRSYW5nZSArIHJzTG93ZXJSYW5nZSArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzRml0eiA9ICdcXFxcdWQ4M2NbXFxcXHVkZmZiLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNNb2RpZmllciA9ICcoPzonICsgcnNDb21ibyArICd8JyArIHJzRml0eiArICcpJyxcbiAgICAgIHJzTm9uQXN0cmFsID0gJ1teJyArIHJzQXN0cmFsUmFuZ2UgKyAnXScsXG4gICAgICByc1JlZ2lvbmFsID0gJyg/OlxcXFx1ZDgzY1tcXFxcdWRkZTYtXFxcXHVkZGZmXSl7Mn0nLFxuICAgICAgcnNTdXJyUGFpciA9ICdbXFxcXHVkODAwLVxcXFx1ZGJmZl1bXFxcXHVkYzAwLVxcXFx1ZGZmZl0nLFxuICAgICAgcnNVcHBlciA9ICdbJyArIHJzVXBwZXJSYW5nZSArICddJyxcbiAgICAgIHJzWldKID0gJ1xcXFx1MjAwZCc7XG5cbiAgLyoqIFVzZWQgdG8gY29tcG9zZSB1bmljb2RlIHJlZ2V4ZXMuICovXG4gIHZhciByc01pc2NMb3dlciA9ICcoPzonICsgcnNMb3dlciArICd8JyArIHJzTWlzYyArICcpJyxcbiAgICAgIHJzTWlzY1VwcGVyID0gJyg/OicgKyByc1VwcGVyICsgJ3wnICsgcnNNaXNjICsgJyknLFxuICAgICAgcnNPcHRDb250ckxvd2VyID0gJyg/OicgKyByc0Fwb3MgKyAnKD86ZHxsbHxtfHJlfHN8dHx2ZSkpPycsXG4gICAgICByc09wdENvbnRyVXBwZXIgPSAnKD86JyArIHJzQXBvcyArICcoPzpEfExMfE18UkV8U3xUfFZFKSk/JyxcbiAgICAgIHJlT3B0TW9kID0gcnNNb2RpZmllciArICc/JyxcbiAgICAgIHJzT3B0VmFyID0gJ1snICsgcnNWYXJSYW5nZSArICddPycsXG4gICAgICByc09wdEpvaW4gPSAnKD86JyArIHJzWldKICsgJyg/OicgKyBbcnNOb25Bc3RyYWwsIHJzUmVnaW9uYWwsIHJzU3VyclBhaXJdLmpvaW4oJ3wnKSArICcpJyArIHJzT3B0VmFyICsgcmVPcHRNb2QgKyAnKSonLFxuICAgICAgcnNPcmRMb3dlciA9ICdcXFxcZCooPzoxc3R8Mm5kfDNyZHwoPyFbMTIzXSlcXFxcZHRoKSg/PVxcXFxifFtBLVpfXSknLFxuICAgICAgcnNPcmRVcHBlciA9ICdcXFxcZCooPzoxU1R8Mk5EfDNSRHwoPyFbMTIzXSlcXFxcZFRIKSg/PVxcXFxifFthLXpfXSknLFxuICAgICAgcnNTZXEgPSByc09wdFZhciArIHJlT3B0TW9kICsgcnNPcHRKb2luLFxuICAgICAgcnNFbW9qaSA9ICcoPzonICsgW3JzRGluZ2JhdCwgcnNSZWdpb25hbCwgcnNTdXJyUGFpcl0uam9pbignfCcpICsgJyknICsgcnNTZXEsXG4gICAgICByc1N5bWJvbCA9ICcoPzonICsgW3JzTm9uQXN0cmFsICsgcnNDb21ibyArICc/JywgcnNDb21ibywgcnNSZWdpb25hbCwgcnNTdXJyUGFpciwgcnNBc3RyYWxdLmpvaW4oJ3wnKSArICcpJztcblxuICAvKiogVXNlZCB0byBtYXRjaCBhcG9zdHJvcGhlcy4gKi9cbiAgdmFyIHJlQXBvcyA9IFJlZ0V4cChyc0Fwb3MsICdnJyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgdG8gbWF0Y2ggW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKSBhbmRcbiAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrcyBmb3Igc3ltYm9sc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzX2Zvcl9TeW1ib2xzKS5cbiAgICovXG4gIHZhciByZUNvbWJvTWFyayA9IFJlZ0V4cChyc0NvbWJvLCAnZycpO1xuXG4gIC8qKiBVc2VkIHRvIG1hdGNoIFtzdHJpbmcgc3ltYm9sc10oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtdW5pY29kZSkuICovXG4gIHZhciByZVVuaWNvZGUgPSBSZWdFeHAocnNGaXR6ICsgJyg/PScgKyByc0ZpdHogKyAnKXwnICsgcnNTeW1ib2wgKyByc1NlcSwgJ2cnKTtcblxuICAvKiogVXNlZCB0byBtYXRjaCBjb21wbGV4IG9yIGNvbXBvdW5kIHdvcmRzLiAqL1xuICB2YXIgcmVVbmljb2RlV29yZCA9IFJlZ0V4cChbXG4gICAgcnNVcHBlciArICc/JyArIHJzTG93ZXIgKyAnKycgKyByc09wdENvbnRyTG93ZXIgKyAnKD89JyArIFtyc0JyZWFrLCByc1VwcGVyLCAnJCddLmpvaW4oJ3wnKSArICcpJyxcbiAgICByc01pc2NVcHBlciArICcrJyArIHJzT3B0Q29udHJVcHBlciArICcoPz0nICsgW3JzQnJlYWssIHJzVXBwZXIgKyByc01pc2NMb3dlciwgJyQnXS5qb2luKCd8JykgKyAnKScsXG4gICAgcnNVcHBlciArICc/JyArIHJzTWlzY0xvd2VyICsgJysnICsgcnNPcHRDb250ckxvd2VyLFxuICAgIHJzVXBwZXIgKyAnKycgKyByc09wdENvbnRyVXBwZXIsXG4gICAgcnNPcmRVcHBlcixcbiAgICByc09yZExvd2VyLFxuICAgIHJzRGlnaXRzLFxuICAgIHJzRW1vamlcbiAgXS5qb2luKCd8JyksICdnJyk7XG5cbiAgLyoqIFVzZWQgdG8gZGV0ZWN0IHN0cmluZ3Mgd2l0aCBbemVyby13aWR0aCBqb2luZXJzIG9yIGNvZGUgcG9pbnRzIGZyb20gdGhlIGFzdHJhbCBwbGFuZXNdKGh0dHA6Ly9lZXYuZWUvYmxvZy8yMDE1LzA5LzEyL2RhcmstY29ybmVycy1vZi11bmljb2RlLykuICovXG4gIHZhciByZUhhc1VuaWNvZGUgPSBSZWdFeHAoJ1snICsgcnNaV0ogKyByc0FzdHJhbFJhbmdlICArIHJzQ29tYm9SYW5nZSArIHJzVmFyUmFuZ2UgKyAnXScpO1xuXG4gIC8qKiBVc2VkIHRvIGRldGVjdCBzdHJpbmdzIHRoYXQgbmVlZCBhIG1vcmUgcm9idXN0IHJlZ2V4cCB0byBtYXRjaCB3b3Jkcy4gKi9cbiAgdmFyIHJlSGFzVW5pY29kZVdvcmQgPSAvW2Etel1bQS1aXXxbQS1aXXsyfVthLXpdfFswLTldW2EtekEtWl18W2EtekEtWl1bMC05XXxbXmEtekEtWjAtOSBdLztcblxuICAvKiogVXNlZCB0byBhc3NpZ24gZGVmYXVsdCBgY29udGV4dGAgb2JqZWN0IHByb3BlcnRpZXMuICovXG4gIHZhciBjb250ZXh0UHJvcHMgPSBbXG4gICAgJ0FycmF5JywgJ0J1ZmZlcicsICdEYXRhVmlldycsICdEYXRlJywgJ0Vycm9yJywgJ0Zsb2F0MzJBcnJheScsICdGbG9hdDY0QXJyYXknLFxuICAgICdGdW5jdGlvbicsICdJbnQ4QXJyYXknLCAnSW50MTZBcnJheScsICdJbnQzMkFycmF5JywgJ01hcCcsICdNYXRoJywgJ09iamVjdCcsXG4gICAgJ1Byb21pc2UnLCAnUmVnRXhwJywgJ1NldCcsICdTdHJpbmcnLCAnU3ltYm9sJywgJ1R5cGVFcnJvcicsICdVaW50OEFycmF5JyxcbiAgICAnVWludDhDbGFtcGVkQXJyYXknLCAnVWludDE2QXJyYXknLCAnVWludDMyQXJyYXknLCAnV2Vha01hcCcsXG4gICAgJ18nLCAnY2xlYXJUaW1lb3V0JywgJ2lzRmluaXRlJywgJ3BhcnNlSW50JywgJ3NldFRpbWVvdXQnXG4gIF07XG5cbiAgLyoqIFVzZWQgdG8gbWFrZSB0ZW1wbGF0ZSBzb3VyY2VVUkxzIGVhc2llciB0byBpZGVudGlmeS4gKi9cbiAgdmFyIHRlbXBsYXRlQ291bnRlciA9IC0xO1xuXG4gIC8qKiBVc2VkIHRvIGlkZW50aWZ5IGB0b1N0cmluZ1RhZ2AgdmFsdWVzIG9mIHR5cGVkIGFycmF5cy4gKi9cbiAgdmFyIHR5cGVkQXJyYXlUYWdzID0ge307XG4gIHR5cGVkQXJyYXlUYWdzW2Zsb2F0MzJUYWddID0gdHlwZWRBcnJheVRhZ3NbZmxvYXQ2NFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tpbnQ4VGFnXSA9IHR5cGVkQXJyYXlUYWdzW2ludDE2VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2ludDMyVGFnXSA9IHR5cGVkQXJyYXlUYWdzW3VpbnQ4VGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPSB0eXBlZEFycmF5VGFnc1t1aW50MTZUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbdWludDMyVGFnXSA9IHRydWU7XG4gIHR5cGVkQXJyYXlUYWdzW2FyZ3NUYWddID0gdHlwZWRBcnJheVRhZ3NbYXJyYXlUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbYXJyYXlCdWZmZXJUYWddID0gdHlwZWRBcnJheVRhZ3NbYm9vbFRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tkYXRhVmlld1RhZ10gPSB0eXBlZEFycmF5VGFnc1tkYXRlVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW2Vycm9yVGFnXSA9IHR5cGVkQXJyYXlUYWdzW2Z1bmNUYWddID1cbiAgdHlwZWRBcnJheVRhZ3NbbWFwVGFnXSA9IHR5cGVkQXJyYXlUYWdzW251bWJlclRhZ10gPVxuICB0eXBlZEFycmF5VGFnc1tvYmplY3RUYWddID0gdHlwZWRBcnJheVRhZ3NbcmVnZXhwVGFnXSA9XG4gIHR5cGVkQXJyYXlUYWdzW3NldFRhZ10gPSB0eXBlZEFycmF5VGFnc1tzdHJpbmdUYWddID1cbiAgdHlwZWRBcnJheVRhZ3Nbd2Vha01hcFRhZ10gPSBmYWxzZTtcblxuICAvKiogVXNlZCB0byBpZGVudGlmeSBgdG9TdHJpbmdUYWdgIHZhbHVlcyBzdXBwb3J0ZWQgYnkgYF8uY2xvbmVgLiAqL1xuICB2YXIgY2xvbmVhYmxlVGFncyA9IHt9O1xuICBjbG9uZWFibGVUYWdzW2FyZ3NUYWddID0gY2xvbmVhYmxlVGFnc1thcnJheVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2FycmF5QnVmZmVyVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0YVZpZXdUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tib29sVGFnXSA9IGNsb25lYWJsZVRhZ3NbZGF0ZVRhZ10gPVxuICBjbG9uZWFibGVUYWdzW2Zsb2F0MzJUYWddID0gY2xvbmVhYmxlVGFnc1tmbG9hdDY0VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW2ludDE2VGFnXSA9XG4gIGNsb25lYWJsZVRhZ3NbaW50MzJUYWddID0gY2xvbmVhYmxlVGFnc1ttYXBUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tudW1iZXJUYWddID0gY2xvbmVhYmxlVGFnc1tvYmplY3RUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tyZWdleHBUYWddID0gY2xvbmVhYmxlVGFnc1tzZXRUYWddID1cbiAgY2xvbmVhYmxlVGFnc1tzdHJpbmdUYWddID0gY2xvbmVhYmxlVGFnc1tzeW1ib2xUYWddID1cbiAgY2xvbmVhYmxlVGFnc1t1aW50OFRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQ4Q2xhbXBlZFRhZ10gPVxuICBjbG9uZWFibGVUYWdzW3VpbnQxNlRhZ10gPSBjbG9uZWFibGVUYWdzW3VpbnQzMlRhZ10gPSB0cnVlO1xuICBjbG9uZWFibGVUYWdzW2Vycm9yVGFnXSA9IGNsb25lYWJsZVRhZ3NbZnVuY1RhZ10gPVxuICBjbG9uZWFibGVUYWdzW3dlYWtNYXBUYWddID0gZmFsc2U7XG5cbiAgLyoqIFVzZWQgdG8gbWFwIExhdGluIFVuaWNvZGUgbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLiAqL1xuICB2YXIgZGVidXJyZWRMZXR0ZXJzID0ge1xuICAgIC8vIExhdGluLTEgU3VwcGxlbWVudCBibG9jay5cbiAgICAnXFx4YzAnOiAnQScsICAnXFx4YzEnOiAnQScsICdcXHhjMic6ICdBJywgJ1xceGMzJzogJ0EnLCAnXFx4YzQnOiAnQScsICdcXHhjNSc6ICdBJyxcbiAgICAnXFx4ZTAnOiAnYScsICAnXFx4ZTEnOiAnYScsICdcXHhlMic6ICdhJywgJ1xceGUzJzogJ2EnLCAnXFx4ZTQnOiAnYScsICdcXHhlNSc6ICdhJyxcbiAgICAnXFx4YzcnOiAnQycsICAnXFx4ZTcnOiAnYycsXG4gICAgJ1xceGQwJzogJ0QnLCAgJ1xceGYwJzogJ2QnLFxuICAgICdcXHhjOCc6ICdFJywgICdcXHhjOSc6ICdFJywgJ1xceGNhJzogJ0UnLCAnXFx4Y2InOiAnRScsXG4gICAgJ1xceGU4JzogJ2UnLCAgJ1xceGU5JzogJ2UnLCAnXFx4ZWEnOiAnZScsICdcXHhlYic6ICdlJyxcbiAgICAnXFx4Y2MnOiAnSScsICAnXFx4Y2QnOiAnSScsICdcXHhjZSc6ICdJJywgJ1xceGNmJzogJ0knLFxuICAgICdcXHhlYyc6ICdpJywgICdcXHhlZCc6ICdpJywgJ1xceGVlJzogJ2knLCAnXFx4ZWYnOiAnaScsXG4gICAgJ1xceGQxJzogJ04nLCAgJ1xceGYxJzogJ24nLFxuICAgICdcXHhkMic6ICdPJywgICdcXHhkMyc6ICdPJywgJ1xceGQ0JzogJ08nLCAnXFx4ZDUnOiAnTycsICdcXHhkNic6ICdPJywgJ1xceGQ4JzogJ08nLFxuICAgICdcXHhmMic6ICdvJywgICdcXHhmMyc6ICdvJywgJ1xceGY0JzogJ28nLCAnXFx4ZjUnOiAnbycsICdcXHhmNic6ICdvJywgJ1xceGY4JzogJ28nLFxuICAgICdcXHhkOSc6ICdVJywgICdcXHhkYSc6ICdVJywgJ1xceGRiJzogJ1UnLCAnXFx4ZGMnOiAnVScsXG4gICAgJ1xceGY5JzogJ3UnLCAgJ1xceGZhJzogJ3UnLCAnXFx4ZmInOiAndScsICdcXHhmYyc6ICd1JyxcbiAgICAnXFx4ZGQnOiAnWScsICAnXFx4ZmQnOiAneScsICdcXHhmZic6ICd5JyxcbiAgICAnXFx4YzYnOiAnQWUnLCAnXFx4ZTYnOiAnYWUnLFxuICAgICdcXHhkZSc6ICdUaCcsICdcXHhmZSc6ICd0aCcsXG4gICAgJ1xceGRmJzogJ3NzJyxcbiAgICAvLyBMYXRpbiBFeHRlbmRlZC1BIGJsb2NrLlxuICAgICdcXHUwMTAwJzogJ0EnLCAgJ1xcdTAxMDInOiAnQScsICdcXHUwMTA0JzogJ0EnLFxuICAgICdcXHUwMTAxJzogJ2EnLCAgJ1xcdTAxMDMnOiAnYScsICdcXHUwMTA1JzogJ2EnLFxuICAgICdcXHUwMTA2JzogJ0MnLCAgJ1xcdTAxMDgnOiAnQycsICdcXHUwMTBhJzogJ0MnLCAnXFx1MDEwYyc6ICdDJyxcbiAgICAnXFx1MDEwNyc6ICdjJywgICdcXHUwMTA5JzogJ2MnLCAnXFx1MDEwYic6ICdjJywgJ1xcdTAxMGQnOiAnYycsXG4gICAgJ1xcdTAxMGUnOiAnRCcsICAnXFx1MDExMCc6ICdEJywgJ1xcdTAxMGYnOiAnZCcsICdcXHUwMTExJzogJ2QnLFxuICAgICdcXHUwMTEyJzogJ0UnLCAgJ1xcdTAxMTQnOiAnRScsICdcXHUwMTE2JzogJ0UnLCAnXFx1MDExOCc6ICdFJywgJ1xcdTAxMWEnOiAnRScsXG4gICAgJ1xcdTAxMTMnOiAnZScsICAnXFx1MDExNSc6ICdlJywgJ1xcdTAxMTcnOiAnZScsICdcXHUwMTE5JzogJ2UnLCAnXFx1MDExYic6ICdlJyxcbiAgICAnXFx1MDExYyc6ICdHJywgICdcXHUwMTFlJzogJ0cnLCAnXFx1MDEyMCc6ICdHJywgJ1xcdTAxMjInOiAnRycsXG4gICAgJ1xcdTAxMWQnOiAnZycsICAnXFx1MDExZic6ICdnJywgJ1xcdTAxMjEnOiAnZycsICdcXHUwMTIzJzogJ2cnLFxuICAgICdcXHUwMTI0JzogJ0gnLCAgJ1xcdTAxMjYnOiAnSCcsICdcXHUwMTI1JzogJ2gnLCAnXFx1MDEyNyc6ICdoJyxcbiAgICAnXFx1MDEyOCc6ICdJJywgICdcXHUwMTJhJzogJ0knLCAnXFx1MDEyYyc6ICdJJywgJ1xcdTAxMmUnOiAnSScsICdcXHUwMTMwJzogJ0knLFxuICAgICdcXHUwMTI5JzogJ2knLCAgJ1xcdTAxMmInOiAnaScsICdcXHUwMTJkJzogJ2knLCAnXFx1MDEyZic6ICdpJywgJ1xcdTAxMzEnOiAnaScsXG4gICAgJ1xcdTAxMzQnOiAnSicsICAnXFx1MDEzNSc6ICdqJyxcbiAgICAnXFx1MDEzNic6ICdLJywgICdcXHUwMTM3JzogJ2snLCAnXFx1MDEzOCc6ICdrJyxcbiAgICAnXFx1MDEzOSc6ICdMJywgICdcXHUwMTNiJzogJ0wnLCAnXFx1MDEzZCc6ICdMJywgJ1xcdTAxM2YnOiAnTCcsICdcXHUwMTQxJzogJ0wnLFxuICAgICdcXHUwMTNhJzogJ2wnLCAgJ1xcdTAxM2MnOiAnbCcsICdcXHUwMTNlJzogJ2wnLCAnXFx1MDE0MCc6ICdsJywgJ1xcdTAxNDInOiAnbCcsXG4gICAgJ1xcdTAxNDMnOiAnTicsICAnXFx1MDE0NSc6ICdOJywgJ1xcdTAxNDcnOiAnTicsICdcXHUwMTRhJzogJ04nLFxuICAgICdcXHUwMTQ0JzogJ24nLCAgJ1xcdTAxNDYnOiAnbicsICdcXHUwMTQ4JzogJ24nLCAnXFx1MDE0Yic6ICduJyxcbiAgICAnXFx1MDE0Yyc6ICdPJywgICdcXHUwMTRlJzogJ08nLCAnXFx1MDE1MCc6ICdPJyxcbiAgICAnXFx1MDE0ZCc6ICdvJywgICdcXHUwMTRmJzogJ28nLCAnXFx1MDE1MSc6ICdvJyxcbiAgICAnXFx1MDE1NCc6ICdSJywgICdcXHUwMTU2JzogJ1InLCAnXFx1MDE1OCc6ICdSJyxcbiAgICAnXFx1MDE1NSc6ICdyJywgICdcXHUwMTU3JzogJ3InLCAnXFx1MDE1OSc6ICdyJyxcbiAgICAnXFx1MDE1YSc6ICdTJywgICdcXHUwMTVjJzogJ1MnLCAnXFx1MDE1ZSc6ICdTJywgJ1xcdTAxNjAnOiAnUycsXG4gICAgJ1xcdTAxNWInOiAncycsICAnXFx1MDE1ZCc6ICdzJywgJ1xcdTAxNWYnOiAncycsICdcXHUwMTYxJzogJ3MnLFxuICAgICdcXHUwMTYyJzogJ1QnLCAgJ1xcdTAxNjQnOiAnVCcsICdcXHUwMTY2JzogJ1QnLFxuICAgICdcXHUwMTYzJzogJ3QnLCAgJ1xcdTAxNjUnOiAndCcsICdcXHUwMTY3JzogJ3QnLFxuICAgICdcXHUwMTY4JzogJ1UnLCAgJ1xcdTAxNmEnOiAnVScsICdcXHUwMTZjJzogJ1UnLCAnXFx1MDE2ZSc6ICdVJywgJ1xcdTAxNzAnOiAnVScsICdcXHUwMTcyJzogJ1UnLFxuICAgICdcXHUwMTY5JzogJ3UnLCAgJ1xcdTAxNmInOiAndScsICdcXHUwMTZkJzogJ3UnLCAnXFx1MDE2Zic6ICd1JywgJ1xcdTAxNzEnOiAndScsICdcXHUwMTczJzogJ3UnLFxuICAgICdcXHUwMTc0JzogJ1cnLCAgJ1xcdTAxNzUnOiAndycsXG4gICAgJ1xcdTAxNzYnOiAnWScsICAnXFx1MDE3Nyc6ICd5JywgJ1xcdTAxNzgnOiAnWScsXG4gICAgJ1xcdTAxNzknOiAnWicsICAnXFx1MDE3Yic6ICdaJywgJ1xcdTAxN2QnOiAnWicsXG4gICAgJ1xcdTAxN2EnOiAneicsICAnXFx1MDE3Yyc6ICd6JywgJ1xcdTAxN2UnOiAneicsXG4gICAgJ1xcdTAxMzInOiAnSUonLCAnXFx1MDEzMyc6ICdpaicsXG4gICAgJ1xcdTAxNTInOiAnT2UnLCAnXFx1MDE1Myc6ICdvZScsXG4gICAgJ1xcdTAxNDknOiBcIiduXCIsICdcXHUwMTdmJzogJ3MnXG4gIH07XG5cbiAgLyoqIFVzZWQgdG8gbWFwIGNoYXJhY3RlcnMgdG8gSFRNTCBlbnRpdGllcy4gKi9cbiAgdmFyIGh0bWxFc2NhcGVzID0ge1xuICAgICcmJzogJyZhbXA7JyxcbiAgICAnPCc6ICcmbHQ7JyxcbiAgICAnPic6ICcmZ3Q7JyxcbiAgICAnXCInOiAnJnF1b3Q7JyxcbiAgICBcIidcIjogJyYjMzk7J1xuICB9O1xuXG4gIC8qKiBVc2VkIHRvIG1hcCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuICovXG4gIHZhciBodG1sVW5lc2NhcGVzID0ge1xuICAgICcmYW1wOyc6ICcmJyxcbiAgICAnJmx0Oyc6ICc8JyxcbiAgICAnJmd0Oyc6ICc+JyxcbiAgICAnJnF1b3Q7JzogJ1wiJyxcbiAgICAnJiMzOTsnOiBcIidcIlxuICB9O1xuXG4gIC8qKiBVc2VkIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLiAqL1xuICB2YXIgc3RyaW5nRXNjYXBlcyA9IHtcbiAgICAnXFxcXCc6ICdcXFxcJyxcbiAgICBcIidcIjogXCInXCIsXG4gICAgJ1xcbic6ICduJyxcbiAgICAnXFxyJzogJ3InLFxuICAgICdcXHUyMDI4JzogJ3UyMDI4JyxcbiAgICAnXFx1MjAyOSc6ICd1MjAyOSdcbiAgfTtcblxuICAvKiogQnVpbHQtaW4gbWV0aG9kIHJlZmVyZW5jZXMgd2l0aG91dCBhIGRlcGVuZGVuY3kgb24gYHJvb3RgLiAqL1xuICB2YXIgZnJlZVBhcnNlRmxvYXQgPSBwYXJzZUZsb2F0LFxuICAgICAgZnJlZVBhcnNlSW50ID0gcGFyc2VJbnQ7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBnbG9iYWxgIGZyb20gTm9kZS5qcy4gKi9cbiAgdmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbCAmJiBnbG9iYWwuT2JqZWN0ID09PSBPYmplY3QgJiYgZ2xvYmFsO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgc2VsZmAuICovXG4gIHZhciBmcmVlU2VsZiA9IHR5cGVvZiBzZWxmID09ICdvYmplY3QnICYmIHNlbGYgJiYgc2VsZi5PYmplY3QgPT09IE9iamVjdCAmJiBzZWxmO1xuXG4gIC8qKiBVc2VkIGFzIGEgcmVmZXJlbmNlIHRvIHRoZSBnbG9iYWwgb2JqZWN0LiAqL1xuICB2YXIgcm9vdCA9IGZyZWVHbG9iYWwgfHwgZnJlZVNlbGYgfHwgRnVuY3Rpb24oJ3JldHVybiB0aGlzJykoKTtcblxuICAvKiogRGV0ZWN0IGZyZWUgdmFyaWFibGUgYGV4cG9ydHNgLiAqL1xuICB2YXIgZnJlZUV4cG9ydHMgPSB0eXBlb2YgZXhwb3J0cyA9PSAnb2JqZWN0JyAmJiBleHBvcnRzICYmICFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cbiAgLyoqIERldGVjdCBmcmVlIHZhcmlhYmxlIGBtb2R1bGVgLiAqL1xuICB2YXIgZnJlZU1vZHVsZSA9IGZyZWVFeHBvcnRzICYmIHR5cGVvZiBtb2R1bGUgPT0gJ29iamVjdCcgJiYgbW9kdWxlICYmICFtb2R1bGUubm9kZVR5cGUgJiYgbW9kdWxlO1xuXG4gIC8qKiBEZXRlY3QgdGhlIHBvcHVsYXIgQ29tbW9uSlMgZXh0ZW5zaW9uIGBtb2R1bGUuZXhwb3J0c2AuICovXG4gIHZhciBtb2R1bGVFeHBvcnRzID0gZnJlZU1vZHVsZSAmJiBmcmVlTW9kdWxlLmV4cG9ydHMgPT09IGZyZWVFeHBvcnRzO1xuXG4gIC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZSBgcHJvY2Vzc2AgZnJvbSBOb2RlLmpzLiAqL1xuICB2YXIgZnJlZVByb2Nlc3MgPSBtb2R1bGVFeHBvcnRzICYmIGZyZWVHbG9iYWwucHJvY2VzcztcblxuICAvKiogVXNlZCB0byBhY2Nlc3MgZmFzdGVyIE5vZGUuanMgaGVscGVycy4gKi9cbiAgdmFyIG5vZGVVdGlsID0gKGZ1bmN0aW9uKCkge1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2UgYHV0aWwudHlwZXNgIGZvciBOb2RlLmpzIDEwKy5cbiAgICAgIHZhciB0eXBlcyA9IGZyZWVNb2R1bGUgJiYgZnJlZU1vZHVsZS5yZXF1aXJlICYmIGZyZWVNb2R1bGUucmVxdWlyZSgndXRpbCcpLnR5cGVzO1xuXG4gICAgICBpZiAodHlwZXMpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgICAgfVxuXG4gICAgICAvLyBMZWdhY3kgYHByb2Nlc3MuYmluZGluZygndXRpbCcpYCBmb3IgTm9kZS5qcyA8IDEwLlxuICAgICAgcmV0dXJuIGZyZWVQcm9jZXNzICYmIGZyZWVQcm9jZXNzLmJpbmRpbmcgJiYgZnJlZVByb2Nlc3MuYmluZGluZygndXRpbCcpO1xuICAgIH0gY2F0Y2ggKGUpIHt9XG4gIH0oKSk7XG5cbiAgLyogTm9kZS5qcyBoZWxwZXIgcmVmZXJlbmNlcy4gKi9cbiAgdmFyIG5vZGVJc0FycmF5QnVmZmVyID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNBcnJheUJ1ZmZlcixcbiAgICAgIG5vZGVJc0RhdGUgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc0RhdGUsXG4gICAgICBub2RlSXNNYXAgPSBub2RlVXRpbCAmJiBub2RlVXRpbC5pc01hcCxcbiAgICAgIG5vZGVJc1JlZ0V4cCA9IG5vZGVVdGlsICYmIG5vZGVVdGlsLmlzUmVnRXhwLFxuICAgICAgbm9kZUlzU2V0ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNTZXQsXG4gICAgICBub2RlSXNUeXBlZEFycmF5ID0gbm9kZVV0aWwgJiYgbm9kZVV0aWwuaXNUeXBlZEFycmF5O1xuXG4gIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gIC8qKlxuICAgKiBBIGZhc3RlciBhbHRlcm5hdGl2ZSB0byBgRnVuY3Rpb24jYXBwbHlgLCB0aGlzIGZ1bmN0aW9uIGludm9rZXMgYGZ1bmNgXG4gICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYCBhbmQgdGhlIGFyZ3VtZW50cyBvZiBgYXJnc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGludm9rZS5cbiAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgYGZ1bmNgIHdpdGguXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXN1bHQgb2YgYGZ1bmNgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXBwbHkoZnVuYywgdGhpc0FyZywgYXJncykge1xuICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgIGNhc2UgMDogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnKTtcbiAgICAgIGNhc2UgMTogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdKTtcbiAgICAgIGNhc2UgMjogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgIGNhc2UgMzogcmV0dXJuIGZ1bmMuY2FsbCh0aGlzQXJnLCBhcmdzWzBdLCBhcmdzWzFdLCBhcmdzWzJdKTtcbiAgICB9XG4gICAgcmV0dXJuIGZ1bmMuYXBwbHkodGhpc0FyZywgYXJncyk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlQWdncmVnYXRvcmAgZm9yIGFycmF5cy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBgYWNjdW11bGF0b3JgIHZhbHVlcy5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgKiBAcGFyYW0ge09iamVjdH0gYWNjdW11bGF0b3IgVGhlIGluaXRpYWwgYWdncmVnYXRlZCBvYmplY3QuXG4gICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgYWNjdW11bGF0b3JgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlBZ2dyZWdhdG9yKGFycmF5LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGFycmF5KTtcbiAgICB9XG4gICAgcmV0dXJuIGFjY3VtdWxhdG9yO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5mb3JFYWNoYCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaChhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSA9PT0gZmFsc2UpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RWFjaFJpZ2h0KGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgaWYgKGl0ZXJhdGVlKGFycmF5W2xlbmd0aF0sIGxlbmd0aCwgYXJyYXkpID09PSBmYWxzZSkge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFycmF5O1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5ldmVyeWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbGwgZWxlbWVudHMgcGFzcyB0aGUgcHJlZGljYXRlIGNoZWNrLFxuICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlFdmVyeShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmICghcHJlZGljYXRlKGFycmF5W2luZGV4XSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG5cbiAgLyoqXG4gICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5maWx0ZXJgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmaWx0ZXJlZCBhcnJheS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5RmlsdGVyKGFycmF5LCBwcmVkaWNhdGUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc0luZGV4ID0gMCxcbiAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdO1xuICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uaW5jbHVkZXNgIGZvciBhcnJheXMgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBzcGVjaWZ5aW5nIGFuIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBbYXJyYXldIFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHRhcmdldCBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB0YXJnZXRgIGlzIGZvdW5kLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheUluY2x1ZGVzKGFycmF5LCB2YWx1ZSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICByZXR1cm4gISFsZW5ndGggJiYgYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCAwKSA+IC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZSBgYXJyYXlJbmNsdWRlc2AgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhIGNvbXBhcmF0b3IuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdGFyZ2V0IFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdGFyZ2V0YCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlJbmNsdWRlc1dpdGgoYXJyYXksIHZhbHVlLCBjb21wYXJhdG9yKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChjb21wYXJhdG9yKHZhbHVlLCBhcnJheVtpbmRleF0pKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLm1hcGAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gYXJyYXlNYXAoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShhcnJheVtpbmRleF0sIGluZGV4LCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQXBwZW5kcyB0aGUgZWxlbWVudHMgb2YgYHZhbHVlc2AgdG8gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYXBwZW5kLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UHVzaChhcnJheSwgdmFsdWVzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHZhbHVlcy5sZW5ndGgsXG4gICAgICAgIG9mZnNldCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICBhcnJheVtvZmZzZXQgKyBpbmRleF0gPSB2YWx1ZXNbaW5kZXhdO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpbml0QWNjdW1dIFNwZWNpZnkgdXNpbmcgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YCBhc1xuICAgKiAgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5UmVkdWNlKGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcblxuICAgIGlmIChpbml0QWNjdW0gJiYgbGVuZ3RoKSB7XG4gICAgICBhY2N1bXVsYXRvciA9IGFycmF5WysraW5kZXhdO1xuICAgIH1cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpO1xuICAgIH1cbiAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnJlZHVjZVJpZ2h0YCBmb3IgYXJyYXlzIHdpdGhvdXQgc3VwcG9ydCBmb3JcbiAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gW2FycmF5XSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2luaXRBY2N1bV0gU3BlY2lmeSB1c2luZyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAgYXNcbiAgICogIHRoZSBpbml0aWFsIHZhbHVlLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBhcnJheVJlZHVjZVJpZ2h0KGFycmF5LCBpdGVyYXRlZSwgYWNjdW11bGF0b3IsIGluaXRBY2N1bSkge1xuICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICBpZiAoaW5pdEFjY3VtICYmIGxlbmd0aCkge1xuICAgICAgYWNjdW11bGF0b3IgPSBhcnJheVstLWxlbmd0aF07XG4gICAgfVxuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYWNjdW11bGF0b3IgPSBpdGVyYXRlZShhY2N1bXVsYXRvciwgYXJyYXlbbGVuZ3RoXSwgbGVuZ3RoLCBhcnJheSk7XG4gICAgfVxuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYF8uc29tZWAgZm9yIGFycmF5cyB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAqIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheV0gVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICogIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGFycmF5U29tZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhbiBBU0NJSSBgc3RyaW5nYC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN0cmluZyBzaXplLlxuICAgKi9cbiAgdmFyIGFzY2lpU2l6ZSA9IGJhc2VQcm9wZXJ0eSgnbGVuZ3RoJyk7XG5cbiAgLyoqXG4gICAqIENvbnZlcnRzIGFuIEFTQ0lJIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiBhc2NpaVRvQXJyYXkoc3RyaW5nKSB7XG4gICAgcmV0dXJuIHN0cmluZy5zcGxpdCgnJyk7XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGFuIEFTQ0lJIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgKi9cbiAgZnVuY3Rpb24gYXNjaWlXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlQXNjaWlXb3JkKSB8fCBbXTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZmluZEtleWAgYW5kIGBfLmZpbmRMYXN0S2V5YCxcbiAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLCB3aGljaCBpdGVyYXRlcyBvdmVyIGBjb2xsZWN0aW9uYFxuICAgKiB1c2luZyBgZWFjaEZ1bmNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBgY29sbGVjdGlvbmAuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmb3VuZCBlbGVtZW50IG9yIGl0cyBrZXksIGVsc2UgYHVuZGVmaW5lZGAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlRmluZEtleShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGVhY2hGdW5jKSB7XG4gICAgdmFyIHJlc3VsdDtcbiAgICBlYWNoRnVuYyhjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pKSB7XG4gICAgICAgIHJlc3VsdCA9IGtleTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZmluZEluZGV4YCBhbmQgYF8uZmluZExhc3RJbmRleGAgd2l0aG91dFxuICAgKiBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VGaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4LCBmcm9tUmlnaHQpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICBpbmRleCA9IGZyb21JbmRleCArIChmcm9tUmlnaHQgPyAxIDogLTEpO1xuXG4gICAgd2hpbGUgKChmcm9tUmlnaHQgPyBpbmRleC0tIDogKytpbmRleCA8IGxlbmd0aCkpIHtcbiAgICAgIGlmIChwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluZGV4T2ZgIHdpdGhvdXQgYGZyb21JbmRleGAgYm91bmRzIGNoZWNrcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICA/IHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpXG4gICAgICA6IGJhc2VGaW5kSW5kZXgoYXJyYXksIGJhc2VJc05hTiwgZnJvbUluZGV4KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGJhc2VJbmRleE9mYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGEgY29tcGFyYXRvci5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBmcm9tSW5kZXggVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjb21wYXJhdG9yIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlSW5kZXhPZldpdGgoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgsIGNvbXBhcmF0b3IpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGNvbXBhcmF0b3IoYXJyYXlbaW5kZXhdLCB2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYU5gIHdpdGhvdXQgc3VwcG9ydCBmb3IgbnVtYmVyIG9iamVjdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBgTmFOYCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZUlzTmFOKHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlICE9PSB2YWx1ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5tZWFuYCBhbmQgYF8ubWVhbkJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAqIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlTWVhbihhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgcmV0dXJuIGxlbmd0aCA/IChiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkgLyBsZW5ndGgpIDogTkFOO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eShrZXkpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB1bmRlZmluZWQgOiBvYmplY3Rba2V5XTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnByb3BlcnR5T2ZgIHdpdGhvdXQgc3VwcG9ydCBmb3IgZGVlcCBwYXRocy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VQcm9wZXJ0eU9mKG9iamVjdCkge1xuICAgIHJldHVybiBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IG9iamVjdFtrZXldO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucmVkdWNlYCBhbmQgYF8ucmVkdWNlUmlnaHRgLCB3aXRob3V0IHN1cHBvcnRcbiAgICogZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMsIHdoaWNoIGl0ZXJhdGVzIG92ZXIgYGNvbGxlY3Rpb25gIHVzaW5nIGBlYWNoRnVuY2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICogQHBhcmFtIHsqfSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICogQHBhcmFtIHtib29sZWFufSBpbml0QWNjdW0gU3BlY2lmeSB1c2luZyB0aGUgZmlyc3Qgb3IgbGFzdCBlbGVtZW50IG9mXG4gICAqICBgY29sbGVjdGlvbmAgYXMgdGhlIGluaXRpYWwgdmFsdWUuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGVhY2hGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYGNvbGxlY3Rpb25gLlxuICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlUmVkdWNlKGNvbGxlY3Rpb24sIGl0ZXJhdGVlLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBlYWNoRnVuYykge1xuICAgIGVhY2hGdW5jKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgYWNjdW11bGF0b3IgPSBpbml0QWNjdW1cbiAgICAgICAgPyAoaW5pdEFjY3VtID0gZmFsc2UsIHZhbHVlKVxuICAgICAgICA6IGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgIH0pO1xuICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zb3J0QnlgIHdoaWNoIHVzZXMgYGNvbXBhcmVyYCB0byBkZWZpbmUgdGhlXG4gICAqIHNvcnQgb3JkZXIgb2YgYGFycmF5YCBhbmQgcmVwbGFjZXMgY3JpdGVyaWEgb2JqZWN0cyB3aXRoIHRoZWlyIGNvcnJlc3BvbmRpbmdcbiAgICogdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc29ydC5cbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY29tcGFyZXIgVGhlIGZ1bmN0aW9uIHRvIGRlZmluZSBzb3J0IG9yZGVyLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VTb3J0QnkoYXJyYXksIGNvbXBhcmVyKSB7XG4gICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIGFycmF5LnNvcnQoY29tcGFyZXIpO1xuICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgYXJyYXlbbGVuZ3RoXSA9IGFycmF5W2xlbmd0aF0udmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBhcnJheTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zdW1gIGFuZCBgXy5zdW1CeWAgd2l0aG91dCBzdXBwb3J0IGZvclxuICAgKiBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdW0uXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlU3VtKGFycmF5LCBpdGVyYXRlZSkge1xuICAgIHZhciByZXN1bHQsXG4gICAgICAgIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICB2YXIgY3VycmVudCA9IGl0ZXJhdGVlKGFycmF5W2luZGV4XSk7XG4gICAgICBpZiAoY3VycmVudCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gY3VycmVudCA6IChyZXN1bHQgKyBjdXJyZW50KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50aW1lc2Agd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzXG4gICAqIG9yIG1heCBhcnJheSBsZW5ndGggY2hlY2tzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIHRpbWVzIHRvIGludm9rZSBgaXRlcmF0ZWVgLlxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVGltZXMobiwgaXRlcmF0ZWUpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobik7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgIHJlc3VsdFtpbmRleF0gPSBpdGVyYXRlZShpbmRleCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udG9QYWlyc2AgYW5kIGBfLnRvUGFpcnNJbmAgd2hpY2ggY3JlYXRlcyBhbiBhcnJheVxuICAgKiBvZiBrZXktdmFsdWUgcGFpcnMgZm9yIGBvYmplY3RgIGNvcnJlc3BvbmRpbmcgdG8gdGhlIHByb3BlcnR5IG5hbWVzIG9mIGBwcm9wc2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGdldCB2YWx1ZXMgZm9yLlxuICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBrZXktdmFsdWUgcGFpcnMuXG4gICAqL1xuICBmdW5jdGlvbiBiYXNlVG9QYWlycyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBba2V5LCBvYmplY3Rba2V5XV07XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udHJpbWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byB0cmltLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICovXG4gIGZ1bmN0aW9uIGJhc2VUcmltKHN0cmluZykge1xuICAgIHJldHVybiBzdHJpbmdcbiAgICAgID8gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSkucmVwbGFjZShyZVRyaW1TdGFydCwgJycpXG4gICAgICA6IHN0cmluZztcbiAgfVxuXG4gIC8qKlxuICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy51bmFyeWAgd2l0aG91dCBzdXBwb3J0IGZvciBzdG9yaW5nIG1ldGFkYXRhLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY2FwcGVkIGZ1bmN0aW9uLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVVuYXJ5KGZ1bmMpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9O1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnZhbHVlc2AgYW5kIGBfLnZhbHVlc0luYCB3aGljaCBjcmVhdGVzIGFuXG4gICAqIGFycmF5IG9mIGBvYmplY3RgIHByb3BlcnR5IHZhbHVlcyBjb3JyZXNwb25kaW5nIHRvIHRoZSBwcm9wZXJ0eSBuYW1lc1xuICAgKiBvZiBgcHJvcHNgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7QXJyYXl9IHByb3BzIFRoZSBwcm9wZXJ0eSBuYW1lcyB0byBnZXQgdmFsdWVzIGZvci5cbiAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgdmFsdWVzLlxuICAgKi9cbiAgZnVuY3Rpb24gYmFzZVZhbHVlcyhvYmplY3QsIHByb3BzKSB7XG4gICAgcmV0dXJuIGFycmF5TWFwKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgIHJldHVybiBvYmplY3Rba2V5XTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYSBgY2FjaGVgIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBjYWNoZSBUaGUgY2FjaGUgdG8gcXVlcnkuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAqL1xuICBmdW5jdGlvbiBjYWNoZUhhcyhjYWNoZSwga2V5KSB7XG4gICAgcmV0dXJuIGNhY2hlLmhhcyhrZXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1TdGFydGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgZmlyc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmaXJzdCB1bm1hdGNoZWQgc3RyaW5nIHN5bWJvbC5cbiAgICovXG4gIGZ1bmN0aW9uIGNoYXJzU3RhcnRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgIGxlbmd0aCA9IHN0clN5bWJvbHMubGVuZ3RoO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGggJiYgYmFzZUluZGV4T2YoY2hyU3ltYm9scywgc3RyU3ltYm9sc1tpbmRleF0sIDApID4gLTEpIHt9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udHJpbWAgYW5kIGBfLnRyaW1FbmRgIHRvIGdldCB0aGUgaW5kZXggb2YgdGhlIGxhc3Qgc3RyaW5nIHN5bWJvbFxuICAgKiB0aGF0IGlzIG5vdCBmb3VuZCBpbiB0aGUgY2hhcmFjdGVyIHN5bWJvbHMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IHN0clN5bWJvbHMgVGhlIHN0cmluZyBzeW1ib2xzIHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7QXJyYXl9IGNoclN5bWJvbHMgVGhlIGNoYXJhY3RlciBzeW1ib2xzIHRvIGZpbmQuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBsYXN0IHVubWF0Y2hlZCBzdHJpbmcgc3ltYm9sLlxuICAgKi9cbiAgZnVuY3Rpb24gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyU3ltYm9scy5sZW5ndGg7XG5cbiAgICB3aGlsZSAoaW5kZXgtLSAmJiBiYXNlSW5kZXhPZihjaHJTeW1ib2xzLCBzdHJTeW1ib2xzW2luZGV4XSwgMCkgPiAtMSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogR2V0cyB0aGUgbnVtYmVyIG9mIGBwbGFjZWhvbGRlcmAgb2NjdXJyZW5jZXMgaW4gYGFycmF5YC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHNlYXJjaCBmb3IuXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHBsYWNlaG9sZGVyIGNvdW50LlxuICAgKi9cbiAgZnVuY3Rpb24gY291bnRIb2xkZXJzKGFycmF5LCBwbGFjZWhvbGRlcikge1xuICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgIHJlc3VsdCA9IDA7XG5cbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIGlmIChhcnJheVtsZW5ndGhdID09PSBwbGFjZWhvbGRlcikge1xuICAgICAgICArK3Jlc3VsdDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmRlYnVycmAgdG8gY29udmVydCBMYXRpbi0xIFN1cHBsZW1lbnQgYW5kIExhdGluIEV4dGVuZGVkLUFcbiAgICogbGV0dGVycyB0byBiYXNpYyBMYXRpbiBsZXR0ZXJzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gbGV0dGVyIFRoZSBtYXRjaGVkIGxldHRlciB0byBkZWJ1cnIuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGRlYnVycmVkIGxldHRlci5cbiAgICovXG4gIHZhciBkZWJ1cnJMZXR0ZXIgPSBiYXNlUHJvcGVydHlPZihkZWJ1cnJlZExldHRlcnMpO1xuXG4gIC8qKlxuICAgKiBVc2VkIGJ5IGBfLmVzY2FwZWAgdG8gY29udmVydCBjaGFyYWN0ZXJzIHRvIEhUTUwgZW50aXRpZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIGVzY2FwZS5cbiAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZXNjYXBlZCBjaGFyYWN0ZXIuXG4gICAqL1xuICB2YXIgZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sRXNjYXBlcyk7XG5cbiAgLyoqXG4gICAqIFVzZWQgYnkgYF8udGVtcGxhdGVgIHRvIGVzY2FwZSBjaGFyYWN0ZXJzIGZvciBpbmNsdXNpb24gaW4gY29tcGlsZWQgc3RyaW5nIGxpdGVyYWxzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gY2hyIFRoZSBtYXRjaGVkIGNoYXJhY3RlciB0byBlc2NhcGUuXG4gICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgZnVuY3Rpb24gZXNjYXBlU3RyaW5nQ2hhcihjaHIpIHtcbiAgICByZXR1cm4gJ1xcXFwnICsgc3RyaW5nRXNjYXBlc1tjaHJdO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBwcm9wZXJ0eSB2YWx1ZS5cbiAgICovXG4gIGZ1bmN0aW9uIGdldFZhbHVlKG9iamVjdCwga2V5KSB7XG4gICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W2tleV07XG4gIH1cblxuICAvKipcbiAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGNvbnRhaW5zIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHN5bWJvbCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgKi9cbiAgZnVuY3Rpb24gaGFzVW5pY29kZShzdHJpbmcpIHtcbiAgICByZXR1cm4gcmVIYXNVbmljb2RlLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGVja3MgaWYgYHN0cmluZ2AgY29udGFpbnMgYSB3b3JkIGNvbXBvc2VkIG9mIFVuaWNvZGUgc3ltYm9scy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhIHdvcmQgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICovXG4gIGZ1bmN0aW9uIGhhc1VuaWNvZGVXb3JkKHN0cmluZykge1xuICAgIHJldHVybiByZUhhc1VuaWNvZGVXb3JkLnRlc3Qoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgaXRlcmF0b3JgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gaXRlcmF0b3IgVGhlIGl0ZXJhdG9yIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gaXRlcmF0b3JUb0FycmF5KGl0ZXJhdG9yKSB7XG4gICAgdmFyIGRhdGEsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCEoZGF0YSA9IGl0ZXJhdG9yLm5leHQoKSkuZG9uZSkge1xuICAgICAgcmVzdWx0LnB1c2goZGF0YS52YWx1ZSk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYG1hcGAgdG8gaXRzIGtleS12YWx1ZSBwYWlycy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gbWFwVG9BcnJheShtYXApIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkobWFwLnNpemUpO1xuXG4gICAgbWFwLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gW2tleSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHVuYXJ5IGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnQgdHJhbnNmb3JtZWQuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IHRyYW5zZm9ybSBUaGUgYXJndW1lbnQgdHJhbnNmb3JtLlxuICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICovXG4gIGZ1bmN0aW9uIG92ZXJBcmcoZnVuYywgdHJhbnNmb3JtKSB7XG4gICAgcmV0dXJuIGZ1bmN0aW9uKGFyZykge1xuICAgICAgcmV0dXJuIGZ1bmModHJhbnNmb3JtKGFyZykpO1xuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogUmVwbGFjZXMgYWxsIGBwbGFjZWhvbGRlcmAgZWxlbWVudHMgaW4gYGFycmF5YCB3aXRoIGFuIGludGVybmFsIHBsYWNlaG9sZGVyXG4gICAqIGFuZCByZXR1cm5zIGFuIGFycmF5IG9mIHRoZWlyIGluZGV4ZXMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAqIEBwYXJhbSB7Kn0gcGxhY2Vob2xkZXIgVGhlIHBsYWNlaG9sZGVyIHRvIHJlcGxhY2UuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAqL1xuICBmdW5jdGlvbiByZXBsYWNlSG9sZGVycyhhcnJheSwgcGxhY2Vob2xkZXIpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gcGxhY2Vob2xkZXIgfHwgdmFsdWUgPT09IFBMQUNFSE9MREVSKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IFBMQUNFSE9MREVSO1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBhbiBhcnJheSBvZiBpdHMgdmFsdWVzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge09iamVjdH0gc2V0IFRoZSBzZXQgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB2YWx1ZXMuXG4gICAqL1xuICBmdW5jdGlvbiBzZXRUb0FycmF5KHNldCkge1xuICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICByZXN1bHQgPSBBcnJheShzZXQuc2l6ZSk7XG5cbiAgICBzZXQuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmVzdWx0WysraW5kZXhdID0gdmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc2V0YCB0byBpdHMgdmFsdWUtdmFsdWUgcGFpcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBzZXQgVGhlIHNldCB0byBjb252ZXJ0LlxuICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHZhbHVlLXZhbHVlIHBhaXJzLlxuICAgKi9cbiAgZnVuY3Rpb24gc2V0VG9QYWlycyhzZXQpIHtcbiAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgcmVzdWx0ID0gQXJyYXkoc2V0LnNpemUpO1xuXG4gICAgc2V0LmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJlc3VsdFsrK2luZGV4XSA9IFt2YWx1ZSwgdmFsdWVdO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmluZGV4T2ZgIHdoaWNoIHBlcmZvcm1zIHN0cmljdCBlcXVhbGl0eVxuICAgKiBjb21wYXJpc29ucyBvZiB2YWx1ZXMsIGkuZS4gYD09PWAuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgKiBAcGFyYW0ge251bWJlcn0gZnJvbUluZGV4IFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIG1hdGNoZWQgdmFsdWUsIGVsc2UgYC0xYC5cbiAgICovXG4gIGZ1bmN0aW9uIHN0cmljdEluZGV4T2YoYXJyYXksIHZhbHVlLCBmcm9tSW5kZXgpIHtcbiAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggLSAxLFxuICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgaWYgKGFycmF5W2luZGV4XSA9PT0gdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gLTE7XG4gIH1cblxuICAvKipcbiAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLmxhc3RJbmRleE9mYCB3aGljaCBwZXJmb3JtcyBzdHJpY3QgZXF1YWxpdHlcbiAgICogY29tcGFyaXNvbnMgb2YgdmFsdWVzLCBpLmUuIGA9PT1gLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICogQHBhcmFtIHtudW1iZXJ9IGZyb21JbmRleCBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpY3RMYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgIHZhciBpbmRleCA9IGZyb21JbmRleCArIDE7XG4gICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgIGlmIChhcnJheVtpbmRleF0gPT09IHZhbHVlKSB7XG4gICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluZGV4O1xuICB9XG5cbiAgLyoqXG4gICAqIEdldHMgdGhlIG51bWJlciBvZiBzeW1ib2xzIGluIGBzdHJpbmdgLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3RyaW5nIHNpemUuXG4gICAqL1xuICBmdW5jdGlvbiBzdHJpbmdTaXplKHN0cmluZykge1xuICAgIHJldHVybiBoYXNVbmljb2RlKHN0cmluZylcbiAgICAgID8gdW5pY29kZVNpemUoc3RyaW5nKVxuICAgICAgOiBhc2NpaVNpemUoc3RyaW5nKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBhcnJheS5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgKi9cbiAgZnVuY3Rpb24gc3RyaW5nVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gaGFzVW5pY29kZShzdHJpbmcpXG4gICAgICA/IHVuaWNvZGVUb0FycmF5KHN0cmluZylcbiAgICAgIDogYXNjaWlUb0FycmF5KHN0cmluZyk7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy50cmltYCBhbmQgYF8udHJpbUVuZGAgdG8gZ2V0IHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZVxuICAgKiBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbGFzdCBub24td2hpdGVzcGFjZSBjaGFyYWN0ZXIuXG4gICAqL1xuICBmdW5jdGlvbiB0cmltbWVkRW5kSW5kZXgoc3RyaW5nKSB7XG4gICAgdmFyIGluZGV4ID0gc3RyaW5nLmxlbmd0aDtcblxuICAgIHdoaWxlIChpbmRleC0tICYmIHJlV2hpdGVzcGFjZS50ZXN0KHN0cmluZy5jaGFyQXQoaW5kZXgpKSkge31cbiAgICByZXR1cm4gaW5kZXg7XG4gIH1cblxuICAvKipcbiAgICogVXNlZCBieSBgXy51bmVzY2FwZWAgdG8gY29udmVydCBIVE1MIGVudGl0aWVzIHRvIGNoYXJhY3RlcnMuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBjaHIgVGhlIG1hdGNoZWQgY2hhcmFjdGVyIHRvIHVuZXNjYXBlLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmVzY2FwZWQgY2hhcmFjdGVyLlxuICAgKi9cbiAgdmFyIHVuZXNjYXBlSHRtbENoYXIgPSBiYXNlUHJvcGVydHlPZihodG1sVW5lc2NhcGVzKTtcblxuICAvKipcbiAgICogR2V0cyB0aGUgc2l6ZSBvZiBhIFVuaWNvZGUgYHN0cmluZ2AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBzdHJpbmcgVGhlIHN0cmluZyBpbnNwZWN0LlxuICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBzdHJpbmcgc2l6ZS5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVTaXplKHN0cmluZykge1xuICAgIHZhciByZXN1bHQgPSByZVVuaWNvZGUubGFzdEluZGV4ID0gMDtcbiAgICB3aGlsZSAocmVVbmljb2RlLnRlc3Qoc3RyaW5nKSkge1xuICAgICAgKytyZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICAvKipcbiAgICogQ29udmVydHMgYSBVbmljb2RlIGBzdHJpbmdgIHRvIGFuIGFycmF5LlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgYXJyYXkuXG4gICAqL1xuICBmdW5jdGlvbiB1bmljb2RlVG9BcnJheShzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZSkgfHwgW107XG4gIH1cblxuICAvKipcbiAgICogU3BsaXRzIGEgVW5pY29kZSBgc3RyaW5nYCBpbnRvIGFuIGFycmF5IG9mIGl0cyB3b3Jkcy5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICogQHBhcmFtIHtzdHJpbmd9IFRoZSBzdHJpbmcgdG8gaW5zcGVjdC5cbiAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3b3JkcyBvZiBgc3RyaW5nYC5cbiAgICovXG4gIGZ1bmN0aW9uIHVuaWNvZGVXb3JkcyhzdHJpbmcpIHtcbiAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHJlVW5pY29kZVdvcmQpIHx8IFtdO1xuICB9XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLyoqXG4gICAqIENyZWF0ZSBhIG5ldyBwcmlzdGluZSBgbG9kYXNoYCBmdW5jdGlvbiB1c2luZyB0aGUgYGNvbnRleHRgIG9iamVjdC5cbiAgICpcbiAgICogQHN0YXRpY1xuICAgKiBAbWVtYmVyT2YgX1xuICAgKiBAc2luY2UgMS4xLjBcbiAgICogQGNhdGVnb3J5IFV0aWxcbiAgICogQHBhcmFtIHtPYmplY3R9IFtjb250ZXh0PXJvb3RdIFRoZSBjb250ZXh0IG9iamVjdC5cbiAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGEgbmV3IGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgKiBAZXhhbXBsZVxuICAgKlxuICAgKiBfLm1peGluKHsgJ2Zvbyc6IF8uY29uc3RhbnQoJ2ZvbycpIH0pO1xuICAgKlxuICAgKiB2YXIgbG9kYXNoID0gXy5ydW5JbkNvbnRleHQoKTtcbiAgICogbG9kYXNoLm1peGluKHsgJ2Jhcic6IGxvZGFzaC5jb25zdGFudCgnYmFyJykgfSk7XG4gICAqXG4gICAqIF8uaXNGdW5jdGlvbihfLmZvbyk7XG4gICAqIC8vID0+IHRydWVcbiAgICogXy5pc0Z1bmN0aW9uKF8uYmFyKTtcbiAgICogLy8gPT4gZmFsc2VcbiAgICpcbiAgICogbG9kYXNoLmlzRnVuY3Rpb24obG9kYXNoLmZvbyk7XG4gICAqIC8vID0+IGZhbHNlXG4gICAqIGxvZGFzaC5pc0Z1bmN0aW9uKGxvZGFzaC5iYXIpO1xuICAgKiAvLyA9PiB0cnVlXG4gICAqXG4gICAqIC8vIENyZWF0ZSBhIHN1cGVkLXVwIGBkZWZlcmAgaW4gTm9kZS5qcy5cbiAgICogdmFyIGRlZmVyID0gXy5ydW5JbkNvbnRleHQoeyAnc2V0VGltZW91dCc6IHNldEltbWVkaWF0ZSB9KS5kZWZlcjtcbiAgICovXG4gIHZhciBydW5JbkNvbnRleHQgPSAoZnVuY3Rpb24gcnVuSW5Db250ZXh0KGNvbnRleHQpIHtcbiAgICBjb250ZXh0ID0gY29udGV4dCA9PSBudWxsID8gcm9vdCA6IF8uZGVmYXVsdHMocm9vdC5PYmplY3QoKSwgY29udGV4dCwgXy5waWNrKHJvb3QsIGNvbnRleHRQcm9wcykpO1xuXG4gICAgLyoqIEJ1aWx0LWluIGNvbnN0cnVjdG9yIHJlZmVyZW5jZXMuICovXG4gICAgdmFyIEFycmF5ID0gY29udGV4dC5BcnJheSxcbiAgICAgICAgRGF0ZSA9IGNvbnRleHQuRGF0ZSxcbiAgICAgICAgRXJyb3IgPSBjb250ZXh0LkVycm9yLFxuICAgICAgICBGdW5jdGlvbiA9IGNvbnRleHQuRnVuY3Rpb24sXG4gICAgICAgIE1hdGggPSBjb250ZXh0Lk1hdGgsXG4gICAgICAgIE9iamVjdCA9IGNvbnRleHQuT2JqZWN0LFxuICAgICAgICBSZWdFeHAgPSBjb250ZXh0LlJlZ0V4cCxcbiAgICAgICAgU3RyaW5nID0gY29udGV4dC5TdHJpbmcsXG4gICAgICAgIFR5cGVFcnJvciA9IGNvbnRleHQuVHlwZUVycm9yO1xuXG4gICAgLyoqIFVzZWQgZm9yIGJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzLiAqL1xuICAgIHZhciBhcnJheVByb3RvID0gQXJyYXkucHJvdG90eXBlLFxuICAgICAgICBmdW5jUHJvdG8gPSBGdW5jdGlvbi5wcm90b3R5cGUsXG4gICAgICAgIG9iamVjdFByb3RvID0gT2JqZWN0LnByb3RvdHlwZTtcblxuICAgIC8qKiBVc2VkIHRvIGRldGVjdCBvdmVycmVhY2hpbmcgY29yZS1qcyBzaGltcy4gKi9cbiAgICB2YXIgY29yZUpzRGF0YSA9IGNvbnRleHRbJ19fY29yZS1qc19zaGFyZWRfXyddO1xuXG4gICAgLyoqIFVzZWQgdG8gcmVzb2x2ZSB0aGUgZGVjb21waWxlZCBzb3VyY2Ugb2YgZnVuY3Rpb25zLiAqL1xuICAgIHZhciBmdW5jVG9TdHJpbmcgPSBmdW5jUHJvdG8udG9TdHJpbmc7XG5cbiAgICAvKiogVXNlZCB0byBjaGVjayBvYmplY3RzIGZvciBvd24gcHJvcGVydGllcy4gKi9cbiAgICB2YXIgaGFzT3duUHJvcGVydHkgPSBvYmplY3RQcm90by5oYXNPd25Qcm9wZXJ0eTtcblxuICAgIC8qKiBVc2VkIHRvIGdlbmVyYXRlIHVuaXF1ZSBJRHMuICovXG4gICAgdmFyIGlkQ291bnRlciA9IDA7XG5cbiAgICAvKiogVXNlZCB0byBkZXRlY3QgbWV0aG9kcyBtYXNxdWVyYWRpbmcgYXMgbmF0aXZlLiAqL1xuICAgIHZhciBtYXNrU3JjS2V5ID0gKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHVpZCA9IC9bXi5dKyQvLmV4ZWMoY29yZUpzRGF0YSAmJiBjb3JlSnNEYXRhLmtleXMgJiYgY29yZUpzRGF0YS5rZXlzLklFX1BST1RPIHx8ICcnKTtcbiAgICAgIHJldHVybiB1aWQgPyAoJ1N5bWJvbChzcmMpXzEuJyArIHVpZCkgOiAnJztcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVXNlZCB0byByZXNvbHZlIHRoZVxuICAgICAqIFtgdG9TdHJpbmdUYWdgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3QucHJvdG90eXBlLnRvc3RyaW5nKVxuICAgICAqIG9mIHZhbHVlcy5cbiAgICAgKi9cbiAgICB2YXIgbmF0aXZlT2JqZWN0VG9TdHJpbmcgPSBvYmplY3RQcm90by50b1N0cmluZztcblxuICAgIC8qKiBVc2VkIHRvIGluZmVyIHRoZSBgT2JqZWN0YCBjb25zdHJ1Y3Rvci4gKi9cbiAgICB2YXIgb2JqZWN0Q3RvclN0cmluZyA9IGZ1bmNUb1N0cmluZy5jYWxsKE9iamVjdCk7XG5cbiAgICAvKiogVXNlZCB0byByZXN0b3JlIHRoZSBvcmlnaW5hbCBgX2AgcmVmZXJlbmNlIGluIGBfLm5vQ29uZmxpY3RgLiAqL1xuICAgIHZhciBvbGREYXNoID0gcm9vdC5fO1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IGlmIGEgbWV0aG9kIGlzIG5hdGl2ZS4gKi9cbiAgICB2YXIgcmVJc05hdGl2ZSA9IFJlZ0V4cCgnXicgK1xuICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoaGFzT3duUHJvcGVydHkpLnJlcGxhY2UocmVSZWdFeHBDaGFyLCAnXFxcXCQmJylcbiAgICAgIC5yZXBsYWNlKC9oYXNPd25Qcm9wZXJ0eXwoZnVuY3Rpb24pLio/KD89XFxcXFxcKCl8IGZvciAuKz8oPz1cXFxcXFxdKS9nLCAnJDEuKj8nKSArICckJ1xuICAgICk7XG5cbiAgICAvKiogQnVpbHQtaW4gdmFsdWUgcmVmZXJlbmNlcy4gKi9cbiAgICB2YXIgQnVmZmVyID0gbW9kdWxlRXhwb3J0cyA/IGNvbnRleHQuQnVmZmVyIDogdW5kZWZpbmVkLFxuICAgICAgICBTeW1ib2wgPSBjb250ZXh0LlN5bWJvbCxcbiAgICAgICAgVWludDhBcnJheSA9IGNvbnRleHQuVWludDhBcnJheSxcbiAgICAgICAgYWxsb2NVbnNhZmUgPSBCdWZmZXIgPyBCdWZmZXIuYWxsb2NVbnNhZmUgOiB1bmRlZmluZWQsXG4gICAgICAgIGdldFByb3RvdHlwZSA9IG92ZXJBcmcoT2JqZWN0LmdldFByb3RvdHlwZU9mLCBPYmplY3QpLFxuICAgICAgICBvYmplY3RDcmVhdGUgPSBPYmplY3QuY3JlYXRlLFxuICAgICAgICBwcm9wZXJ0eUlzRW51bWVyYWJsZSA9IG9iamVjdFByb3RvLnByb3BlcnR5SXNFbnVtZXJhYmxlLFxuICAgICAgICBzcGxpY2UgPSBhcnJheVByb3RvLnNwbGljZSxcbiAgICAgICAgc3ByZWFkYWJsZVN5bWJvbCA9IFN5bWJvbCA/IFN5bWJvbC5pc0NvbmNhdFNwcmVhZGFibGUgOiB1bmRlZmluZWQsXG4gICAgICAgIHN5bUl0ZXJhdG9yID0gU3ltYm9sID8gU3ltYm9sLml0ZXJhdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1Ub1N0cmluZ1RhZyA9IFN5bWJvbCA/IFN5bWJvbC50b1N0cmluZ1RhZyA6IHVuZGVmaW5lZDtcblxuICAgIHZhciBkZWZpbmVQcm9wZXJ0eSA9IChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHZhciBmdW5jID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2RlZmluZVByb3BlcnR5Jyk7XG4gICAgICAgIGZ1bmMoe30sICcnLCB7fSk7XG4gICAgICAgIHJldHVybiBmdW5jO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9KCkpO1xuXG4gICAgLyoqIE1vY2tlZCBidWlsdC1pbnMuICovXG4gICAgdmFyIGN0eENsZWFyVGltZW91dCA9IGNvbnRleHQuY2xlYXJUaW1lb3V0ICE9PSByb290LmNsZWFyVGltZW91dCAmJiBjb250ZXh0LmNsZWFyVGltZW91dCxcbiAgICAgICAgY3R4Tm93ID0gRGF0ZSAmJiBEYXRlLm5vdyAhPT0gcm9vdC5EYXRlLm5vdyAmJiBEYXRlLm5vdyxcbiAgICAgICAgY3R4U2V0VGltZW91dCA9IGNvbnRleHQuc2V0VGltZW91dCAhPT0gcm9vdC5zZXRUaW1lb3V0ICYmIGNvbnRleHQuc2V0VGltZW91dDtcblxuICAgIC8qIEJ1aWx0LWluIG1ldGhvZCByZWZlcmVuY2VzIGZvciB0aG9zZSB3aXRoIHRoZSBzYW1lIG5hbWUgYXMgb3RoZXIgYGxvZGFzaGAgbWV0aG9kcy4gKi9cbiAgICB2YXIgbmF0aXZlQ2VpbCA9IE1hdGguY2VpbCxcbiAgICAgICAgbmF0aXZlRmxvb3IgPSBNYXRoLmZsb29yLFxuICAgICAgICBuYXRpdmVHZXRTeW1ib2xzID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyxcbiAgICAgICAgbmF0aXZlSXNCdWZmZXIgPSBCdWZmZXIgPyBCdWZmZXIuaXNCdWZmZXIgOiB1bmRlZmluZWQsXG4gICAgICAgIG5hdGl2ZUlzRmluaXRlID0gY29udGV4dC5pc0Zpbml0ZSxcbiAgICAgICAgbmF0aXZlSm9pbiA9IGFycmF5UHJvdG8uam9pbixcbiAgICAgICAgbmF0aXZlS2V5cyA9IG92ZXJBcmcoT2JqZWN0LmtleXMsIE9iamVjdCksXG4gICAgICAgIG5hdGl2ZU1heCA9IE1hdGgubWF4LFxuICAgICAgICBuYXRpdmVNaW4gPSBNYXRoLm1pbixcbiAgICAgICAgbmF0aXZlTm93ID0gRGF0ZS5ub3csXG4gICAgICAgIG5hdGl2ZVBhcnNlSW50ID0gY29udGV4dC5wYXJzZUludCxcbiAgICAgICAgbmF0aXZlUmFuZG9tID0gTWF0aC5yYW5kb20sXG4gICAgICAgIG5hdGl2ZVJldmVyc2UgPSBhcnJheVByb3RvLnJldmVyc2U7XG5cbiAgICAvKiBCdWlsdC1pbiBtZXRob2QgcmVmZXJlbmNlcyB0aGF0IGFyZSB2ZXJpZmllZCB0byBiZSBuYXRpdmUuICovXG4gICAgdmFyIERhdGFWaWV3ID0gZ2V0TmF0aXZlKGNvbnRleHQsICdEYXRhVmlldycpLFxuICAgICAgICBNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ01hcCcpLFxuICAgICAgICBQcm9taXNlID0gZ2V0TmF0aXZlKGNvbnRleHQsICdQcm9taXNlJyksXG4gICAgICAgIFNldCA9IGdldE5hdGl2ZShjb250ZXh0LCAnU2V0JyksXG4gICAgICAgIFdlYWtNYXAgPSBnZXROYXRpdmUoY29udGV4dCwgJ1dlYWtNYXAnKSxcbiAgICAgICAgbmF0aXZlQ3JlYXRlID0gZ2V0TmF0aXZlKE9iamVjdCwgJ2NyZWF0ZScpO1xuXG4gICAgLyoqIFVzZWQgdG8gc3RvcmUgZnVuY3Rpb24gbWV0YWRhdGEuICovXG4gICAgdmFyIG1ldGFNYXAgPSBXZWFrTWFwICYmIG5ldyBXZWFrTWFwO1xuXG4gICAgLyoqIFVzZWQgdG8gbG9va3VwIHVubWluaWZpZWQgZnVuY3Rpb24gbmFtZXMuICovXG4gICAgdmFyIHJlYWxOYW1lcyA9IHt9O1xuXG4gICAgLyoqIFVzZWQgdG8gZGV0ZWN0IG1hcHMsIHNldHMsIGFuZCB3ZWFrbWFwcy4gKi9cbiAgICB2YXIgZGF0YVZpZXdDdG9yU3RyaW5nID0gdG9Tb3VyY2UoRGF0YVZpZXcpLFxuICAgICAgICBtYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoTWFwKSxcbiAgICAgICAgcHJvbWlzZUN0b3JTdHJpbmcgPSB0b1NvdXJjZShQcm9taXNlKSxcbiAgICAgICAgc2V0Q3RvclN0cmluZyA9IHRvU291cmNlKFNldCksXG4gICAgICAgIHdlYWtNYXBDdG9yU3RyaW5nID0gdG9Tb3VyY2UoV2Vha01hcCk7XG5cbiAgICAvKiogVXNlZCB0byBjb252ZXJ0IHN5bWJvbHMgdG8gcHJpbWl0aXZlcyBhbmQgc3RyaW5ncy4gKi9cbiAgICB2YXIgc3ltYm9sUHJvdG8gPSBTeW1ib2wgPyBTeW1ib2wucHJvdG90eXBlIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xWYWx1ZU9mID0gc3ltYm9sUHJvdG8gPyBzeW1ib2xQcm90by52YWx1ZU9mIDogdW5kZWZpbmVkLFxuICAgICAgICBzeW1ib2xUb1N0cmluZyA9IHN5bWJvbFByb3RvID8gc3ltYm9sUHJvdG8udG9TdHJpbmcgOiB1bmRlZmluZWQ7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYGxvZGFzaGAgb2JqZWN0IHdoaWNoIHdyYXBzIGB2YWx1ZWAgdG8gZW5hYmxlIGltcGxpY2l0IG1ldGhvZFxuICAgICAqIGNoYWluIHNlcXVlbmNlcy4gTWV0aG9kcyB0aGF0IG9wZXJhdGUgb24gYW5kIHJldHVybiBhcnJheXMsIGNvbGxlY3Rpb25zLFxuICAgICAqIGFuZCBmdW5jdGlvbnMgY2FuIGJlIGNoYWluZWQgdG9nZXRoZXIuIE1ldGhvZHMgdGhhdCByZXRyaWV2ZSBhIHNpbmdsZSB2YWx1ZVxuICAgICAqIG9yIG1heSByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUgd2lsbCBhdXRvbWF0aWNhbGx5IGVuZCB0aGUgY2hhaW4gc2VxdWVuY2VcbiAgICAgKiBhbmQgcmV0dXJuIHRoZSB1bndyYXBwZWQgdmFsdWUuIE90aGVyd2lzZSwgdGhlIHZhbHVlIG11c3QgYmUgdW53cmFwcGVkXG4gICAgICogd2l0aCBgXyN2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBFeHBsaWNpdCBjaGFpbiBzZXF1ZW5jZXMsIHdoaWNoIG11c3QgYmUgdW53cmFwcGVkIHdpdGggYF8jdmFsdWVgLCBtYXkgYmVcbiAgICAgKiBlbmFibGVkIHVzaW5nIGBfLmNoYWluYC5cbiAgICAgKlxuICAgICAqIFRoZSBleGVjdXRpb24gb2YgY2hhaW5lZCBtZXRob2RzIGlzIGxhenksIHRoYXQgaXMsIGl0J3MgZGVmZXJyZWQgdW50aWxcbiAgICAgKiBgXyN2YWx1ZWAgaXMgaW1wbGljaXRseSBvciBleHBsaWNpdGx5IGNhbGxlZC5cbiAgICAgKlxuICAgICAqIExhenkgZXZhbHVhdGlvbiBhbGxvd3Mgc2V2ZXJhbCBtZXRob2RzIHRvIHN1cHBvcnQgc2hvcnRjdXQgZnVzaW9uLlxuICAgICAqIFNob3J0Y3V0IGZ1c2lvbiBpcyBhbiBvcHRpbWl6YXRpb24gdG8gbWVyZ2UgaXRlcmF0ZWUgY2FsbHM7IHRoaXMgYXZvaWRzXG4gICAgICogdGhlIGNyZWF0aW9uIG9mIGludGVybWVkaWF0ZSBhcnJheXMgYW5kIGNhbiBncmVhdGx5IHJlZHVjZSB0aGUgbnVtYmVyIG9mXG4gICAgICogaXRlcmF0ZWUgZXhlY3V0aW9ucy4gU2VjdGlvbnMgb2YgYSBjaGFpbiBzZXF1ZW5jZSBxdWFsaWZ5IGZvciBzaG9ydGN1dFxuICAgICAqIGZ1c2lvbiBpZiB0aGUgc2VjdGlvbiBpcyBhcHBsaWVkIHRvIGFuIGFycmF5IGFuZCBpdGVyYXRlZXMgYWNjZXB0IG9ubHlcbiAgICAgKiBvbmUgYXJndW1lbnQuIFRoZSBoZXVyaXN0aWMgZm9yIHdoZXRoZXIgYSBzZWN0aW9uIHF1YWxpZmllcyBmb3Igc2hvcnRjdXRcbiAgICAgKiBmdXNpb24gaXMgc3ViamVjdCB0byBjaGFuZ2UuXG4gICAgICpcbiAgICAgKiBDaGFpbmluZyBpcyBzdXBwb3J0ZWQgaW4gY3VzdG9tIGJ1aWxkcyBhcyBsb25nIGFzIHRoZSBgXyN2YWx1ZWAgbWV0aG9kIGlzXG4gICAgICogZGlyZWN0bHkgb3IgaW5kaXJlY3RseSBpbmNsdWRlZCBpbiB0aGUgYnVpbGQuXG4gICAgICpcbiAgICAgKiBJbiBhZGRpdGlvbiB0byBsb2Rhc2ggbWV0aG9kcywgd3JhcHBlcnMgaGF2ZSBgQXJyYXlgIGFuZCBgU3RyaW5nYCBtZXRob2RzLlxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgYEFycmF5YCBtZXRob2RzIGFyZTpcbiAgICAgKiBgY29uY2F0YCwgYGpvaW5gLCBgcG9wYCwgYHB1c2hgLCBgc2hpZnRgLCBgc29ydGAsIGBzcGxpY2VgLCBhbmQgYHVuc2hpZnRgXG4gICAgICpcbiAgICAgKiBUaGUgd3JhcHBlciBgU3RyaW5nYCBtZXRob2RzIGFyZTpcbiAgICAgKiBgcmVwbGFjZWAgYW5kIGBzcGxpdGBcbiAgICAgKlxuICAgICAqIFRoZSB3cmFwcGVyIG1ldGhvZHMgdGhhdCBzdXBwb3J0IHNob3J0Y3V0IGZ1c2lvbiBhcmU6XG4gICAgICogYGF0YCwgYGNvbXBhY3RgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLCBgZHJvcFdoaWxlYCwgYGZpbHRlcmAsIGBmaW5kYCxcbiAgICAgKiBgZmluZExhc3RgLCBgaGVhZGAsIGBpbml0aWFsYCwgYGxhc3RgLCBgbWFwYCwgYHJlamVjdGAsIGByZXZlcnNlYCwgYHNsaWNlYCxcbiAgICAgKiBgdGFpbGAsIGB0YWtlYCwgYHRha2VSaWdodGAsIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBhbmQgYHRvQXJyYXlgXG4gICAgICpcbiAgICAgKiBUaGUgY2hhaW5hYmxlIHdyYXBwZXIgbWV0aG9kcyBhcmU6XG4gICAgICogYGFmdGVyYCwgYGFyeWAsIGBhc3NpZ25gLCBgYXNzaWduSW5gLCBgYXNzaWduSW5XaXRoYCwgYGFzc2lnbldpdGhgLCBgYXRgLFxuICAgICAqIGBiZWZvcmVgLCBgYmluZGAsIGBiaW5kQWxsYCwgYGJpbmRLZXlgLCBgY2FzdEFycmF5YCwgYGNoYWluYCwgYGNodW5rYCxcbiAgICAgKiBgY29tbWl0YCwgYGNvbXBhY3RgLCBgY29uY2F0YCwgYGNvbmZvcm1zYCwgYGNvbnN0YW50YCwgYGNvdW50QnlgLCBgY3JlYXRlYCxcbiAgICAgKiBgY3VycnlgLCBgZGVib3VuY2VgLCBgZGVmYXVsdHNgLCBgZGVmYXVsdHNEZWVwYCwgYGRlZmVyYCwgYGRlbGF5YCxcbiAgICAgKiBgZGlmZmVyZW5jZWAsIGBkaWZmZXJlbmNlQnlgLCBgZGlmZmVyZW5jZVdpdGhgLCBgZHJvcGAsIGBkcm9wUmlnaHRgLFxuICAgICAqIGBkcm9wUmlnaHRXaGlsZWAsIGBkcm9wV2hpbGVgLCBgZXh0ZW5kYCwgYGV4dGVuZFdpdGhgLCBgZmlsbGAsIGBmaWx0ZXJgLFxuICAgICAqIGBmbGF0TWFwYCwgYGZsYXRNYXBEZWVwYCwgYGZsYXRNYXBEZXB0aGAsIGBmbGF0dGVuYCwgYGZsYXR0ZW5EZWVwYCxcbiAgICAgKiBgZmxhdHRlbkRlcHRoYCwgYGZsaXBgLCBgZmxvd2AsIGBmbG93UmlnaHRgLCBgZnJvbVBhaXJzYCwgYGZ1bmN0aW9uc2AsXG4gICAgICogYGZ1bmN0aW9uc0luYCwgYGdyb3VwQnlgLCBgaW5pdGlhbGAsIGBpbnRlcnNlY3Rpb25gLCBgaW50ZXJzZWN0aW9uQnlgLFxuICAgICAqIGBpbnRlcnNlY3Rpb25XaXRoYCwgYGludmVydGAsIGBpbnZlcnRCeWAsIGBpbnZva2VNYXBgLCBgaXRlcmF0ZWVgLCBga2V5QnlgLFxuICAgICAqIGBrZXlzYCwgYGtleXNJbmAsIGBtYXBgLCBgbWFwS2V5c2AsIGBtYXBWYWx1ZXNgLCBgbWF0Y2hlc2AsIGBtYXRjaGVzUHJvcGVydHlgLFxuICAgICAqIGBtZW1vaXplYCwgYG1lcmdlYCwgYG1lcmdlV2l0aGAsIGBtZXRob2RgLCBgbWV0aG9kT2ZgLCBgbWl4aW5gLCBgbmVnYXRlYCxcbiAgICAgKiBgbnRoQXJnYCwgYG9taXRgLCBgb21pdEJ5YCwgYG9uY2VgLCBgb3JkZXJCeWAsIGBvdmVyYCwgYG92ZXJBcmdzYCxcbiAgICAgKiBgb3ZlckV2ZXJ5YCwgYG92ZXJTb21lYCwgYHBhcnRpYWxgLCBgcGFydGlhbFJpZ2h0YCwgYHBhcnRpdGlvbmAsIGBwaWNrYCxcbiAgICAgKiBgcGlja0J5YCwgYHBsYW50YCwgYHByb3BlcnR5YCwgYHByb3BlcnR5T2ZgLCBgcHVsbGAsIGBwdWxsQWxsYCwgYHB1bGxBbGxCeWAsXG4gICAgICogYHB1bGxBbGxXaXRoYCwgYHB1bGxBdGAsIGBwdXNoYCwgYHJhbmdlYCwgYHJhbmdlUmlnaHRgLCBgcmVhcmdgLCBgcmVqZWN0YCxcbiAgICAgKiBgcmVtb3ZlYCwgYHJlc3RgLCBgcmV2ZXJzZWAsIGBzYW1wbGVTaXplYCwgYHNldGAsIGBzZXRXaXRoYCwgYHNodWZmbGVgLFxuICAgICAqIGBzbGljZWAsIGBzb3J0YCwgYHNvcnRCeWAsIGBzcGxpY2VgLCBgc3ByZWFkYCwgYHRhaWxgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0YWtlUmlnaHRXaGlsZWAsIGB0YWtlV2hpbGVgLCBgdGFwYCwgYHRocm90dGxlYCwgYHRocnVgLCBgdG9BcnJheWAsXG4gICAgICogYHRvUGFpcnNgLCBgdG9QYWlyc0luYCwgYHRvUGF0aGAsIGB0b1BsYWluT2JqZWN0YCwgYHRyYW5zZm9ybWAsIGB1bmFyeWAsXG4gICAgICogYHVuaW9uYCwgYHVuaW9uQnlgLCBgdW5pb25XaXRoYCwgYHVuaXFgLCBgdW5pcUJ5YCwgYHVuaXFXaXRoYCwgYHVuc2V0YCxcbiAgICAgKiBgdW5zaGlmdGAsIGB1bnppcGAsIGB1bnppcFdpdGhgLCBgdXBkYXRlYCwgYHVwZGF0ZVdpdGhgLCBgdmFsdWVzYCxcbiAgICAgKiBgdmFsdWVzSW5gLCBgd2l0aG91dGAsIGB3cmFwYCwgYHhvcmAsIGB4b3JCeWAsIGB4b3JXaXRoYCwgYHppcGAsXG4gICAgICogYHppcE9iamVjdGAsIGB6aXBPYmplY3REZWVwYCwgYW5kIGB6aXBXaXRoYFxuICAgICAqXG4gICAgICogVGhlIHdyYXBwZXIgbWV0aG9kcyB0aGF0IGFyZSAqKm5vdCoqIGNoYWluYWJsZSBieSBkZWZhdWx0IGFyZTpcbiAgICAgKiBgYWRkYCwgYGF0dGVtcHRgLCBgY2FtZWxDYXNlYCwgYGNhcGl0YWxpemVgLCBgY2VpbGAsIGBjbGFtcGAsIGBjbG9uZWAsXG4gICAgICogYGNsb25lRGVlcGAsIGBjbG9uZURlZXBXaXRoYCwgYGNsb25lV2l0aGAsIGBjb25mb3Jtc1RvYCwgYGRlYnVycmAsXG4gICAgICogYGRlZmF1bHRUb2AsIGBkaXZpZGVgLCBgZWFjaGAsIGBlYWNoUmlnaHRgLCBgZW5kc1dpdGhgLCBgZXFgLCBgZXNjYXBlYCxcbiAgICAgKiBgZXNjYXBlUmVnRXhwYCwgYGV2ZXJ5YCwgYGZpbmRgLCBgZmluZEluZGV4YCwgYGZpbmRLZXlgLCBgZmluZExhc3RgLFxuICAgICAqIGBmaW5kTGFzdEluZGV4YCwgYGZpbmRMYXN0S2V5YCwgYGZpcnN0YCwgYGZsb29yYCwgYGZvckVhY2hgLCBgZm9yRWFjaFJpZ2h0YCxcbiAgICAgKiBgZm9ySW5gLCBgZm9ySW5SaWdodGAsIGBmb3JPd25gLCBgZm9yT3duUmlnaHRgLCBgZ2V0YCwgYGd0YCwgYGd0ZWAsIGBoYXNgLFxuICAgICAqIGBoYXNJbmAsIGBoZWFkYCwgYGlkZW50aXR5YCwgYGluY2x1ZGVzYCwgYGluZGV4T2ZgLCBgaW5SYW5nZWAsIGBpbnZva2VgLFxuICAgICAqIGBpc0FyZ3VtZW50c2AsIGBpc0FycmF5YCwgYGlzQXJyYXlCdWZmZXJgLCBgaXNBcnJheUxpa2VgLCBgaXNBcnJheUxpa2VPYmplY3RgLFxuICAgICAqIGBpc0Jvb2xlYW5gLCBgaXNCdWZmZXJgLCBgaXNEYXRlYCwgYGlzRWxlbWVudGAsIGBpc0VtcHR5YCwgYGlzRXF1YWxgLFxuICAgICAqIGBpc0VxdWFsV2l0aGAsIGBpc0Vycm9yYCwgYGlzRmluaXRlYCwgYGlzRnVuY3Rpb25gLCBgaXNJbnRlZ2VyYCwgYGlzTGVuZ3RoYCxcbiAgICAgKiBgaXNNYXBgLCBgaXNNYXRjaGAsIGBpc01hdGNoV2l0aGAsIGBpc05hTmAsIGBpc05hdGl2ZWAsIGBpc05pbGAsIGBpc051bGxgLFxuICAgICAqIGBpc051bWJlcmAsIGBpc09iamVjdGAsIGBpc09iamVjdExpa2VgLCBgaXNQbGFpbk9iamVjdGAsIGBpc1JlZ0V4cGAsXG4gICAgICogYGlzU2FmZUludGVnZXJgLCBgaXNTZXRgLCBgaXNTdHJpbmdgLCBgaXNVbmRlZmluZWRgLCBgaXNUeXBlZEFycmF5YCxcbiAgICAgKiBgaXNXZWFrTWFwYCwgYGlzV2Vha1NldGAsIGBqb2luYCwgYGtlYmFiQ2FzZWAsIGBsYXN0YCwgYGxhc3RJbmRleE9mYCxcbiAgICAgKiBgbG93ZXJDYXNlYCwgYGxvd2VyRmlyc3RgLCBgbHRgLCBgbHRlYCwgYG1heGAsIGBtYXhCeWAsIGBtZWFuYCwgYG1lYW5CeWAsXG4gICAgICogYG1pbmAsIGBtaW5CeWAsIGBtdWx0aXBseWAsIGBub0NvbmZsaWN0YCwgYG5vb3BgLCBgbm93YCwgYG50aGAsIGBwYWRgLFxuICAgICAqIGBwYWRFbmRgLCBgcGFkU3RhcnRgLCBgcGFyc2VJbnRgLCBgcG9wYCwgYHJhbmRvbWAsIGByZWR1Y2VgLCBgcmVkdWNlUmlnaHRgLFxuICAgICAqIGByZXBlYXRgLCBgcmVzdWx0YCwgYHJvdW5kYCwgYHJ1bkluQ29udGV4dGAsIGBzYW1wbGVgLCBgc2hpZnRgLCBgc2l6ZWAsXG4gICAgICogYHNuYWtlQ2FzZWAsIGBzb21lYCwgYHNvcnRlZEluZGV4YCwgYHNvcnRlZEluZGV4QnlgLCBgc29ydGVkTGFzdEluZGV4YCxcbiAgICAgKiBgc29ydGVkTGFzdEluZGV4QnlgLCBgc3RhcnRDYXNlYCwgYHN0YXJ0c1dpdGhgLCBgc3R1YkFycmF5YCwgYHN0dWJGYWxzZWAsXG4gICAgICogYHN0dWJPYmplY3RgLCBgc3R1YlN0cmluZ2AsIGBzdHViVHJ1ZWAsIGBzdWJ0cmFjdGAsIGBzdW1gLCBgc3VtQnlgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0aW1lc2AsIGB0b0Zpbml0ZWAsIGB0b0ludGVnZXJgLCBgdG9KU09OYCwgYHRvTGVuZ3RoYCxcbiAgICAgKiBgdG9Mb3dlcmAsIGB0b051bWJlcmAsIGB0b1NhZmVJbnRlZ2VyYCwgYHRvU3RyaW5nYCwgYHRvVXBwZXJgLCBgdHJpbWAsXG4gICAgICogYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYHRydW5jYXRlYCwgYHVuZXNjYXBlYCwgYHVuaXF1ZUlkYCwgYHVwcGVyQ2FzZWAsXG4gICAgICogYHVwcGVyRmlyc3RgLCBgdmFsdWVgLCBhbmQgYHdvcmRzYFxuICAgICAqXG4gICAgICogQG5hbWUgX1xuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwIGluIGEgYGxvZGFzaGAgaW5zdGFuY2UuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIHNxdWFyZShuKSB7XG4gICAgICogICByZXR1cm4gbiAqIG47XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyLCAzXSk7XG4gICAgICpcbiAgICAgKiAvLyBSZXR1cm5zIGFuIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiB3cmFwcGVkLnJlZHVjZShfLmFkZCk7XG4gICAgICogLy8gPT4gNlxuICAgICAqXG4gICAgICogLy8gUmV0dXJucyBhIHdyYXBwZWQgdmFsdWUuXG4gICAgICogdmFyIHNxdWFyZXMgPSB3cmFwcGVkLm1hcChzcXVhcmUpO1xuICAgICAqXG4gICAgICogXy5pc0FycmF5KHNxdWFyZXMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoc3F1YXJlcy52YWx1ZSgpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbG9kYXNoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiAhaXNBcnJheSh2YWx1ZSkgJiYgISh2YWx1ZSBpbnN0YW5jZW9mIExhenlXcmFwcGVyKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBMb2Rhc2hXcmFwcGVyKSB7XG4gICAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnX193cmFwcGVkX18nKSkge1xuICAgICAgICAgIHJldHVybiB3cmFwcGVyQ2xvbmUodmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNyZWF0ZWAgd2l0aG91dCBzdXBwb3J0IGZvciBhc3NpZ25pbmdcbiAgICAgKiBwcm9wZXJ0aWVzIHRvIHRoZSBjcmVhdGVkIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvIFRoZSBvYmplY3QgdG8gaW5oZXJpdCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICovXG4gICAgdmFyIGJhc2VDcmVhdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgICBmdW5jdGlvbiBvYmplY3QoKSB7fVxuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHByb3RvKSB7XG4gICAgICAgIGlmICghaXNPYmplY3QocHJvdG8pKSB7XG4gICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChvYmplY3RDcmVhdGUpIHtcbiAgICAgICAgICByZXR1cm4gb2JqZWN0Q3JlYXRlKHByb3RvKTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gcHJvdG87XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgb2JqZWN0O1xuICAgICAgICBvYmplY3QucHJvdG90eXBlID0gdW5kZWZpbmVkO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KCkpO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGZ1bmN0aW9uIHdob3NlIHByb3RvdHlwZSBjaGFpbiBzZXF1ZW5jZSB3cmFwcGVycyBpbmhlcml0IGZyb20uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VMb2Rhc2goKSB7XG4gICAgICAvLyBObyBvcGVyYXRpb24gcGVyZm9ybWVkLlxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGNvbnN0cnVjdG9yIGZvciBjcmVhdGluZyBgbG9kYXNoYCB3cmFwcGVyIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbY2hhaW5BbGxdIEVuYWJsZSBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIExvZGFzaFdyYXBwZXIodmFsdWUsIGNoYWluQWxsKSB7XG4gICAgICB0aGlzLl9fd3JhcHBlZF9fID0gdmFsdWU7XG4gICAgICB0aGlzLl9fYWN0aW9uc19fID0gW107XG4gICAgICB0aGlzLl9fY2hhaW5fXyA9ICEhY2hhaW5BbGw7XG4gICAgICB0aGlzLl9faW5kZXhfXyA9IDA7XG4gICAgICB0aGlzLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQnkgZGVmYXVsdCwgdGhlIHRlbXBsYXRlIGRlbGltaXRlcnMgdXNlZCBieSBsb2Rhc2ggYXJlIGxpa2UgdGhvc2UgaW5cbiAgICAgKiBlbWJlZGRlZCBSdWJ5IChFUkIpIGFzIHdlbGwgYXMgRVMyMDE1IHRlbXBsYXRlIHN0cmluZ3MuIENoYW5nZSB0aGVcbiAgICAgKiBmb2xsb3dpbmcgdGVtcGxhdGUgc2V0dGluZ3MgdG8gdXNlIGFsdGVybmF0aXZlIGRlbGltaXRlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAqL1xuICAgIGxvZGFzaC50ZW1wbGF0ZVNldHRpbmdzID0ge1xuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gYmUgSFRNTC1lc2NhcGVkLlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdlc2NhcGUnOiByZUVzY2FwZSxcblxuICAgICAgLyoqXG4gICAgICAgKiBVc2VkIHRvIGRldGVjdCBjb2RlIHRvIGJlIGV2YWx1YXRlZC5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7UmVnRXhwfVxuICAgICAgICovXG4gICAgICAnZXZhbHVhdGUnOiByZUV2YWx1YXRlLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gZGV0ZWN0IGBkYXRhYCBwcm9wZXJ0eSB2YWx1ZXMgdG8gaW5qZWN0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtSZWdFeHB9XG4gICAgICAgKi9cbiAgICAgICdpbnRlcnBvbGF0ZSc6IHJlSW50ZXJwb2xhdGUsXG5cbiAgICAgIC8qKlxuICAgICAgICogVXNlZCB0byByZWZlcmVuY2UgdGhlIGRhdGEgb2JqZWN0IGluIHRoZSB0ZW1wbGF0ZSB0ZXh0LlxuICAgICAgICpcbiAgICAgICAqIEBtZW1iZXJPZiBfLnRlbXBsYXRlU2V0dGluZ3NcbiAgICAgICAqIEB0eXBlIHtzdHJpbmd9XG4gICAgICAgKi9cbiAgICAgICd2YXJpYWJsZSc6ICcnLFxuXG4gICAgICAvKipcbiAgICAgICAqIFVzZWQgdG8gaW1wb3J0IHZhcmlhYmxlcyBpbnRvIHRoZSBjb21waWxlZCB0ZW1wbGF0ZS5cbiAgICAgICAqXG4gICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzXG4gICAgICAgKiBAdHlwZSB7T2JqZWN0fVxuICAgICAgICovXG4gICAgICAnaW1wb3J0cyc6IHtcblxuICAgICAgICAvKipcbiAgICAgICAgICogQSByZWZlcmVuY2UgdG8gdGhlIGBsb2Rhc2hgIGZ1bmN0aW9uLlxuICAgICAgICAgKlxuICAgICAgICAgKiBAbWVtYmVyT2YgXy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNcbiAgICAgICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAgICAgKi9cbiAgICAgICAgJ18nOiBsb2Rhc2hcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gRW5zdXJlIHdyYXBwZXJzIGFyZSBpbnN0YW5jZXMgb2YgYGJhc2VMb2Rhc2hgLlxuICAgIGxvZGFzaC5wcm90b3R5cGUgPSBiYXNlTG9kYXNoLnByb3RvdHlwZTtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gbG9kYXNoO1xuXG4gICAgTG9kYXNoV3JhcHBlci5wcm90b3R5cGUgPSBiYXNlQ3JlYXRlKGJhc2VMb2Rhc2gucHJvdG90eXBlKTtcbiAgICBMb2Rhc2hXcmFwcGVyLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IExvZGFzaFdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbGF6eSB3cmFwcGVyIG9iamVjdCB3aGljaCB3cmFwcyBgdmFsdWVgIHRvIGVuYWJsZSBsYXp5IGV2YWx1YXRpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGF6eVdyYXBwZXIodmFsdWUpIHtcbiAgICAgIHRoaXMuX193cmFwcGVkX18gPSB2YWx1ZTtcbiAgICAgIHRoaXMuX19hY3Rpb25zX18gPSBbXTtcbiAgICAgIHRoaXMuX19kaXJfXyA9IDE7XG4gICAgICB0aGlzLl9fZmlsdGVyZWRfXyA9IGZhbHNlO1xuICAgICAgdGhpcy5fX2l0ZXJhdGVlc19fID0gW107XG4gICAgICB0aGlzLl9fdGFrZUNvdW50X18gPSBNQVhfQVJSQVlfTEVOR1RIO1xuICAgICAgdGhpcy5fX3ZpZXdzX18gPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGxhenkgd3JhcHBlciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGNsb25lXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlDbG9uZSgpIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcy5fX3dyYXBwZWRfXyk7XG4gICAgICByZXN1bHQuX19hY3Rpb25zX18gPSBjb3B5QXJyYXkodGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgICByZXN1bHQuX19kaXJfXyA9IHRoaXMuX19kaXJfXztcbiAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0aGlzLl9fZmlsdGVyZWRfXztcbiAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fID0gY29weUFycmF5KHRoaXMuX19pdGVyYXRlZXNfXyk7XG4gICAgICByZXN1bHQuX190YWtlQ291bnRfXyA9IHRoaXMuX190YWtlQ291bnRfXztcbiAgICAgIHJlc3VsdC5fX3ZpZXdzX18gPSBjb3B5QXJyYXkodGhpcy5fX3ZpZXdzX18pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXZlcnNlcyB0aGUgZGlyZWN0aW9uIG9mIGxhenkgaXRlcmF0aW9uLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHJldmVyc2VkIGBMYXp5V3JhcHBlcmAgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxhenlSZXZlcnNlKCkge1xuICAgICAgaWYgKHRoaXMuX19maWx0ZXJlZF9fKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgIHJlc3VsdC5fX2Rpcl9fID0gLTE7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0ID0gdGhpcy5jbG9uZSgpO1xuICAgICAgICByZXN1bHQuX19kaXJfXyAqPSAtMTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgdGhlIHVud3JhcHBlZCB2YWx1ZSBmcm9tIGl0cyBsYXp5IHdyYXBwZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHZhbHVlXG4gICAgICogQG1lbWJlck9mIExhenlXcmFwcGVyXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXp5VmFsdWUoKSB7XG4gICAgICB2YXIgYXJyYXkgPSB0aGlzLl9fd3JhcHBlZF9fLnZhbHVlKCksXG4gICAgICAgICAgZGlyID0gdGhpcy5fX2Rpcl9fLFxuICAgICAgICAgIGlzQXJyID0gaXNBcnJheShhcnJheSksXG4gICAgICAgICAgaXNSaWdodCA9IGRpciA8IDAsXG4gICAgICAgICAgYXJyTGVuZ3RoID0gaXNBcnIgPyBhcnJheS5sZW5ndGggOiAwLFxuICAgICAgICAgIHZpZXcgPSBnZXRWaWV3KDAsIGFyckxlbmd0aCwgdGhpcy5fX3ZpZXdzX18pLFxuICAgICAgICAgIHN0YXJ0ID0gdmlldy5zdGFydCxcbiAgICAgICAgICBlbmQgPSB2aWV3LmVuZCxcbiAgICAgICAgICBsZW5ndGggPSBlbmQgLSBzdGFydCxcbiAgICAgICAgICBpbmRleCA9IGlzUmlnaHQgPyBlbmQgOiAoc3RhcnQgLSAxKSxcbiAgICAgICAgICBpdGVyYXRlZXMgPSB0aGlzLl9faXRlcmF0ZWVzX18sXG4gICAgICAgICAgaXRlckxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHRha2VDb3VudCA9IG5hdGl2ZU1pbihsZW5ndGgsIHRoaXMuX190YWtlQ291bnRfXyk7XG5cbiAgICAgIGlmICghaXNBcnIgfHwgKCFpc1JpZ2h0ICYmIGFyckxlbmd0aCA9PSBsZW5ndGggJiYgdGFrZUNvdW50ID09IGxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUoYXJyYXksIHRoaXMuX19hY3Rpb25zX18pO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuXG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlIChsZW5ndGgtLSAmJiByZXNJbmRleCA8IHRha2VDb3VudCkge1xuICAgICAgICBpbmRleCArPSBkaXI7XG5cbiAgICAgICAgdmFyIGl0ZXJJbmRleCA9IC0xLFxuICAgICAgICAgICAgdmFsdWUgPSBhcnJheVtpbmRleF07XG5cbiAgICAgICAgd2hpbGUgKCsraXRlckluZGV4IDwgaXRlckxlbmd0aCkge1xuICAgICAgICAgIHZhciBkYXRhID0gaXRlcmF0ZWVzW2l0ZXJJbmRleF0sXG4gICAgICAgICAgICAgIGl0ZXJhdGVlID0gZGF0YS5pdGVyYXRlZSxcbiAgICAgICAgICAgICAgdHlwZSA9IGRhdGEudHlwZSxcbiAgICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX01BUF9GTEFHKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGNvbXB1dGVkO1xuICAgICAgICAgIH0gZWxzZSBpZiAoIWNvbXB1dGVkKSB7XG4gICAgICAgICAgICBpZiAodHlwZSA9PSBMQVpZX0ZJTFRFUl9GTEFHKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgYnJlYWsgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtyZXNJbmRleCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvLyBFbnN1cmUgYExhenlXcmFwcGVyYCBpcyBhbiBpbnN0YW5jZSBvZiBgYmFzZUxvZGFzaGAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlID0gYmFzZUNyZWF0ZShiYXNlTG9kYXNoLnByb3RvdHlwZSk7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gTGF6eVdyYXBwZXI7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgaGFzaCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBjb25zdHJ1Y3RvclxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtlbnRyaWVzXSBUaGUga2V5LXZhbHVlIHBhaXJzIHRvIGNhY2hlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIEhhc2goZW50cmllcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gZW50cmllcyA9PSBudWxsID8gMCA6IGVudHJpZXMubGVuZ3RoO1xuXG4gICAgICB0aGlzLmNsZWFyKCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgZW50cnkgPSBlbnRyaWVzW2luZGV4XTtcbiAgICAgICAgdGhpcy5zZXQoZW50cnlbMF0sIGVudHJ5WzFdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGFsbCBrZXktdmFsdWUgZW50cmllcyBmcm9tIHRoZSBoYXNoLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBIYXNoXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaENsZWFyKCkge1xuICAgICAgdGhpcy5fX2RhdGFfXyA9IG5hdGl2ZUNyZWF0ZSA/IG5hdGl2ZUNyZWF0ZShudWxsKSA6IHt9O1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIGBrZXlgIGFuZCBpdHMgdmFsdWUgZnJvbSB0aGUgaGFzaC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gaGFzaCBUaGUgaGFzaCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhhc2hEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcy5oYXMoa2V5KSAmJiBkZWxldGUgdGhpcy5fX2RhdGFfX1trZXldO1xuICAgICAgdGhpcy5zaXplIC09IHJlc3VsdCA/IDEgOiAwO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBoYXNoIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZW50cnkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIGlmIChuYXRpdmVDcmVhdGUpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGRhdGFba2V5XTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gSEFTSF9VTkRFRklORUQgPyB1bmRlZmluZWQgOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpID8gZGF0YVtrZXldIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIGhhc2ggdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIGVudHJ5IHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbiBlbnRyeSBmb3IgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzaEhhcyhrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHJldHVybiBuYXRpdmVDcmVhdGUgPyAoZGF0YVtrZXldICE9PSB1bmRlZmluZWQpIDogaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGhhc2ggYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIEhhc2hcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaGFzaCBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNoU2V0KGtleSwgdmFsdWUpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXztcbiAgICAgIHRoaXMuc2l6ZSArPSB0aGlzLmhhcyhrZXkpID8gMCA6IDE7XG4gICAgICBkYXRhW2tleV0gPSAobmF0aXZlQ3JlYXRlICYmIHZhbHVlID09PSB1bmRlZmluZWQpID8gSEFTSF9VTkRFRklORUQgOiB2YWx1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBIYXNoYC5cbiAgICBIYXNoLnByb3RvdHlwZS5jbGVhciA9IGhhc2hDbGVhcjtcbiAgICBIYXNoLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBoYXNoRGVsZXRlO1xuICAgIEhhc2gucHJvdG90eXBlLmdldCA9IGhhc2hHZXQ7XG4gICAgSGFzaC5wcm90b3R5cGUuaGFzID0gaGFzaEhhcztcbiAgICBIYXNoLnByb3RvdHlwZS5zZXQgPSBoYXNoU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBsaXN0IGNhY2hlIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2VudHJpZXNdIFRoZSBrZXktdmFsdWUgcGFpcnMgdG8gY2FjaGUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gTGlzdENhY2hlKGVudHJpZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGVudHJpZXMgPT0gbnVsbCA/IDAgOiBlbnRyaWVzLmxlbmd0aDtcblxuICAgICAgdGhpcy5jbGVhcigpO1xuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGVudHJ5ID0gZW50cmllc1tpbmRleF07XG4gICAgICAgIHRoaXMuc2V0KGVudHJ5WzBdLCBlbnRyeVsxXSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwga2V5LXZhbHVlIGVudHJpZXMgZnJvbSB0aGUgbGlzdCBjYWNoZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGlzdENhY2hlQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gW107XG4gICAgICB0aGlzLnNpemUgPSAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYGtleWAgYW5kIGl0cyB2YWx1ZSBmcm9tIHRoZSBsaXN0IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZURlbGV0ZShrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBkYXRhLmxlbmd0aCAtIDE7XG4gICAgICBpZiAoaW5kZXggPT0gbGFzdEluZGV4KSB7XG4gICAgICAgIGRhdGEucG9wKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBzcGxpY2UuY2FsbChkYXRhLCBpbmRleCwgMSk7XG4gICAgICB9XG4gICAgICAtLXRoaXMuc2l6ZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGxpc3QgY2FjaGUgdmFsdWUgZm9yIGBrZXlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBnZXRcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUdldChrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gdGhpcy5fX2RhdGFfXyxcbiAgICAgICAgICBpbmRleCA9IGFzc29jSW5kZXhPZihkYXRhLCBrZXkpO1xuXG4gICAgICByZXR1cm4gaW5kZXggPCAwID8gdW5kZWZpbmVkIDogZGF0YVtpbmRleF1bMV07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGEgbGlzdCBjYWNoZSB2YWx1ZSBmb3IgYGtleWAgZXhpc3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgTGlzdENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZUhhcyhrZXkpIHtcbiAgICAgIHJldHVybiBhc3NvY0luZGV4T2YodGhpcy5fX2RhdGFfXywga2V5KSA+IC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIGxpc3QgY2FjaGUgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIExpc3RDYWNoZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBsaXN0IGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGxpc3RDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgaW5kZXggPSBhc3NvY0luZGV4T2YoZGF0YSwga2V5KTtcblxuICAgICAgaWYgKGluZGV4IDwgMCkge1xuICAgICAgICArK3RoaXMuc2l6ZTtcbiAgICAgICAgZGF0YS5wdXNoKFtrZXksIHZhbHVlXSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYXRhW2luZGV4XVsxXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYExpc3RDYWNoZWAuXG4gICAgTGlzdENhY2hlLnByb3RvdHlwZS5jbGVhciA9IGxpc3RDYWNoZUNsZWFyO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGVbJ2RlbGV0ZSddID0gbGlzdENhY2hlRGVsZXRlO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbGlzdENhY2hlR2V0O1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuaGFzID0gbGlzdENhY2hlSGFzO1xuICAgIExpc3RDYWNoZS5wcm90b3R5cGUuc2V0ID0gbGlzdENhY2hlU2V0O1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG1hcCBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBNYXBDYWNoZShlbnRyaWVzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBlbnRyaWVzID09IG51bGwgPyAwIDogZW50cmllcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuY2xlYXIoKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBlbnRyeSA9IGVudHJpZXNbaW5kZXhdO1xuICAgICAgICB0aGlzLnNldChlbnRyeVswXSwgZW50cnlbMV0pO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgY2xlYXJcbiAgICAgKiBAbWVtYmVyT2YgTWFwQ2FjaGVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZUNsZWFyKCkge1xuICAgICAgdGhpcy5zaXplID0gMDtcbiAgICAgIHRoaXMuX19kYXRhX18gPSB7XG4gICAgICAgICdoYXNoJzogbmV3IEhhc2gsXG4gICAgICAgICdtYXAnOiBuZXcgKE1hcCB8fCBMaXN0Q2FjaGUpLFxuICAgICAgICAnc3RyaW5nJzogbmV3IEhhc2hcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIG1hcC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZGVsZXRlXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBlbnRyeSB3YXMgcmVtb3ZlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlRGVsZXRlKGtleSkge1xuICAgICAgdmFyIHJlc3VsdCA9IGdldE1hcERhdGEodGhpcywga2V5KVsnZGVsZXRlJ10oa2V5KTtcbiAgICAgIHRoaXMuc2l6ZSAtPSByZXN1bHQgPyAxIDogMDtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWFwIHZhbHVlIGZvciBga2V5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgZ2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBnZXQuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGVudHJ5IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlR2V0KGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5nZXQoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYSBtYXAgdmFsdWUgZm9yIGBrZXlgIGV4aXN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgaGFzXG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBlbnRyeSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYW4gZW50cnkgZm9yIGBrZXlgIGV4aXN0cywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcENhY2hlSGFzKGtleSkge1xuICAgICAgcmV0dXJuIGdldE1hcERhdGEodGhpcywga2V5KS5oYXMoa2V5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSBtYXAgYGtleWAgdG8gYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQG5hbWUgc2V0XG4gICAgICogQG1lbWJlck9mIE1hcENhY2hlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG1hcCBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXBDYWNoZVNldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IGdldE1hcERhdGEodGhpcywga2V5KSxcbiAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICBkYXRhLnNldChrZXksIHZhbHVlKTtcbiAgICAgIHRoaXMuc2l6ZSArPSBkYXRhLnNpemUgPT0gc2l6ZSA/IDAgOiAxO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYE1hcENhY2hlYC5cbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuY2xlYXIgPSBtYXBDYWNoZUNsZWFyO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBtYXBDYWNoZURlbGV0ZTtcbiAgICBNYXBDYWNoZS5wcm90b3R5cGUuZ2V0ID0gbWFwQ2FjaGVHZXQ7XG4gICAgTWFwQ2FjaGUucHJvdG90eXBlLmhhcyA9IG1hcENhY2hlSGFzO1xuICAgIE1hcENhY2hlLnByb3RvdHlwZS5zZXQgPSBtYXBDYWNoZVNldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBjYWNoZSBvYmplY3QgdG8gc3RvcmUgdW5pcXVlIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQGNvbnN0cnVjdG9yXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTZXRDYWNoZSh2YWx1ZXMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHZhbHVlcyA9PSBudWxsID8gMCA6IHZhbHVlcy5sZW5ndGg7XG5cbiAgICAgIHRoaXMuX19kYXRhX18gPSBuZXcgTWFwQ2FjaGU7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB0aGlzLmFkZCh2YWx1ZXNbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGB2YWx1ZWAgdG8gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBhZGRcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAYWxpYXMgcHVzaFxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNhY2hlLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNhY2hlIGluc3RhbmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNldENhY2hlQWRkKHZhbHVlKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fLnNldCh2YWx1ZSwgSEFTSF9VTkRFRklORUQpO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgaW4gdGhlIGFycmF5IGNhY2hlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBoYXNcbiAgICAgKiBAbWVtYmVyT2YgU2V0Q2FjaGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZm91bmQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzZXRDYWNoZUhhcyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRoaXMuX19kYXRhX18uaGFzKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgU2V0Q2FjaGVgLlxuICAgIFNldENhY2hlLnByb3RvdHlwZS5hZGQgPSBTZXRDYWNoZS5wcm90b3R5cGUucHVzaCA9IHNldENhY2hlQWRkO1xuICAgIFNldENhY2hlLnByb3RvdHlwZS5oYXMgPSBzZXRDYWNoZUhhcztcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzdGFjayBjYWNoZSBvYmplY3QgdG8gc3RvcmUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAY29uc3RydWN0b3JcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbZW50cmllc10gVGhlIGtleS12YWx1ZSBwYWlycyB0byBjYWNoZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBTdGFjayhlbnRyaWVzKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18gPSBuZXcgTGlzdENhY2hlKGVudHJpZXMpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGtleS12YWx1ZSBlbnRyaWVzIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBjbGVhclxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0YWNrQ2xlYXIoKSB7XG4gICAgICB0aGlzLl9fZGF0YV9fID0gbmV3IExpc3RDYWNoZTtcbiAgICAgIHRoaXMuc2l6ZSA9IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBga2V5YCBhbmQgaXRzIHZhbHVlIGZyb20gdGhlIHN0YWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAbmFtZSBkZWxldGVcbiAgICAgKiBAbWVtYmVyT2YgU3RhY2tcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHZhbHVlIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIGVudHJ5IHdhcyByZW1vdmVkLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3RhY2tEZWxldGUoa2V5KSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX18sXG4gICAgICAgICAgcmVzdWx0ID0gZGF0YVsnZGVsZXRlJ10oa2V5KTtcblxuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBzdGFjayB2YWx1ZSBmb3IgYGtleWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGdldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBlbnRyeSB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0dldChrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmdldChrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBhIHN0YWNrIHZhbHVlIGZvciBga2V5YCBleGlzdHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIGhhc1xuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgZW50cnkgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGFuIGVudHJ5IGZvciBga2V5YCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja0hhcyhrZXkpIHtcbiAgICAgIHJldHVybiB0aGlzLl9fZGF0YV9fLmhhcyhrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgdGhlIHN0YWNrIGBrZXlgIHRvIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBuYW1lIHNldFxuICAgICAqIEBtZW1iZXJPZiBTdGFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNldC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBzdGFjayBjYWNoZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFja1NldChrZXksIHZhbHVlKSB7XG4gICAgICB2YXIgZGF0YSA9IHRoaXMuX19kYXRhX187XG4gICAgICBpZiAoZGF0YSBpbnN0YW5jZW9mIExpc3RDYWNoZSkge1xuICAgICAgICB2YXIgcGFpcnMgPSBkYXRhLl9fZGF0YV9fO1xuICAgICAgICBpZiAoIU1hcCB8fCAocGFpcnMubGVuZ3RoIDwgTEFSR0VfQVJSQVlfU0laRSAtIDEpKSB7XG4gICAgICAgICAgcGFpcnMucHVzaChba2V5LCB2YWx1ZV0pO1xuICAgICAgICAgIHRoaXMuc2l6ZSA9ICsrZGF0YS5zaXplO1xuICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICB9XG4gICAgICAgIGRhdGEgPSB0aGlzLl9fZGF0YV9fID0gbmV3IE1hcENhY2hlKHBhaXJzKTtcbiAgICAgIH1cbiAgICAgIGRhdGEuc2V0KGtleSwgdmFsdWUpO1xuICAgICAgdGhpcy5zaXplID0gZGF0YS5zaXplO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLy8gQWRkIG1ldGhvZHMgdG8gYFN0YWNrYC5cbiAgICBTdGFjay5wcm90b3R5cGUuY2xlYXIgPSBzdGFja0NsZWFyO1xuICAgIFN0YWNrLnByb3RvdHlwZVsnZGVsZXRlJ10gPSBzdGFja0RlbGV0ZTtcbiAgICBTdGFjay5wcm90b3R5cGUuZ2V0ID0gc3RhY2tHZXQ7XG4gICAgU3RhY2sucHJvdG90eXBlLmhhcyA9IHN0YWNrSGFzO1xuICAgIFN0YWNrLnByb3RvdHlwZS5zZXQgPSBzdGFja1NldDtcblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgdGhlIGFycmF5LWxpa2UgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBpbmhlcml0ZWQgU3BlY2lmeSByZXR1cm5pbmcgaW5oZXJpdGVkIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlMaWtlS2V5cyh2YWx1ZSwgaW5oZXJpdGVkKSB7XG4gICAgICB2YXIgaXNBcnIgPSBpc0FycmF5KHZhbHVlKSxcbiAgICAgICAgICBpc0FyZyA9ICFpc0FyciAmJiBpc0FyZ3VtZW50cyh2YWx1ZSksXG4gICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmICFpc0FyZyAmJiBpc0J1ZmZlcih2YWx1ZSksXG4gICAgICAgICAgaXNUeXBlID0gIWlzQXJyICYmICFpc0FyZyAmJiAhaXNCdWZmICYmIGlzVHlwZWRBcnJheSh2YWx1ZSksXG4gICAgICAgICAgc2tpcEluZGV4ZXMgPSBpc0FyciB8fCBpc0FyZyB8fCBpc0J1ZmYgfHwgaXNUeXBlLFxuICAgICAgICAgIHJlc3VsdCA9IHNraXBJbmRleGVzID8gYmFzZVRpbWVzKHZhbHVlLmxlbmd0aCwgU3RyaW5nKSA6IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IHJlc3VsdC5sZW5ndGg7XG5cbiAgICAgIGZvciAodmFyIGtleSBpbiB2YWx1ZSkge1xuICAgICAgICBpZiAoKGluaGVyaXRlZCB8fCBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSAmJlxuICAgICAgICAgICAgIShza2lwSW5kZXhlcyAmJiAoXG4gICAgICAgICAgICAgICAvLyBTYWZhcmkgOSBoYXMgZW51bWVyYWJsZSBgYXJndW1lbnRzLmxlbmd0aGAgaW4gc3RyaWN0IG1vZGUuXG4gICAgICAgICAgICAgICBrZXkgPT0gJ2xlbmd0aCcgfHxcbiAgICAgICAgICAgICAgIC8vIE5vZGUuanMgMC4xMCBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiBidWZmZXJzLlxuICAgICAgICAgICAgICAgKGlzQnVmZiAmJiAoa2V5ID09ICdvZmZzZXQnIHx8IGtleSA9PSAncGFyZW50JykpIHx8XG4gICAgICAgICAgICAgICAvLyBQaGFudG9tSlMgMiBoYXMgZW51bWVyYWJsZSBub24taW5kZXggcHJvcGVydGllcyBvbiB0eXBlZCBhcnJheXMuXG4gICAgICAgICAgICAgICAoaXNUeXBlICYmIChrZXkgPT0gJ2J1ZmZlcicgfHwga2V5ID09ICdieXRlTGVuZ3RoJyB8fCBrZXkgPT0gJ2J5dGVPZmZzZXQnKSkgfHxcbiAgICAgICAgICAgICAgIC8vIFNraXAgaW5kZXggcHJvcGVydGllcy5cbiAgICAgICAgICAgICAgIGlzSW5kZXgoa2V5LCBsZW5ndGgpXG4gICAgICAgICAgICApKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZWAgZm9yIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGUoYXJyYXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYXJyYXlbYmFzZVJhbmRvbSgwLCBsZW5ndGggLSAxKV0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBfLnNhbXBsZVNpemVgIGZvciBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzYW1wbGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXJyYXlTYW1wbGVTaXplKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoY29weUFycmF5KGFycmF5KSwgYmFzZUNsYW1wKG4sIDAsIGFycmF5Lmxlbmd0aCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCBmb3IgYXJyYXlzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhcnJheVNodWZmbGUoYXJyYXkpIHtcbiAgICAgIHJldHVybiBzaHVmZmxlU2VsZihjb3B5QXJyYXkoYXJyYXkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGFzc2lnblZhbHVlYCBleGNlcHQgdGhhdCBpdCBkb2Vzbid0IGFzc2lnblxuICAgICAqIGB1bmRlZmluZWRgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGFzc2lnbi5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpIHtcbiAgICAgIGlmICgodmFsdWUgIT09IHVuZGVmaW5lZCAmJiAhZXEob2JqZWN0W2tleV0sIHZhbHVlKSkgfHxcbiAgICAgICAgICAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBc3NpZ25zIGB2YWx1ZWAgdG8gYGtleWAgb2YgYG9iamVjdGAgaWYgdGhlIGV4aXN0aW5nIHZhbHVlIGlzIG5vdCBlcXVpdmFsZW50XG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBwcm9wZXJ0eSB0byBhc3NpZ24uXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFzc2lnblZhbHVlKG9iamVjdCwga2V5LCB2YWx1ZSkge1xuICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV07XG4gICAgICBpZiAoIShoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSAmJiBlcShvYmpWYWx1ZSwgdmFsdWUpKSB8fFxuICAgICAgICAgICh2YWx1ZSA9PT0gdW5kZWZpbmVkICYmICEoa2V5IGluIG9iamVjdCkpKSB7XG4gICAgICAgIGJhc2VBc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgdmFsdWUpO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBga2V5YCBpcyBmb3VuZCBpbiBgYXJyYXlgIG9mIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSBrZXkgVGhlIGtleSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYXNzb2NJbmRleE9mKGFycmF5LCBrZXkpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgaWYgKGVxKGFycmF5W2xlbmd0aF1bMF0sIGtleSkpIHtcbiAgICAgICAgICByZXR1cm4gbGVuZ3RoO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWdncmVnYXRlcyBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgb24gYGFjY3VtdWxhdG9yYCB3aXRoIGtleXMgdHJhbnNmb3JtZWRcbiAgICAgKiBieSBgaXRlcmF0ZWVgIGFuZCB2YWx1ZXMgc2V0IGJ5IGBzZXR0ZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSBrZXlzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBhY2N1bXVsYXRvciBUaGUgaW5pdGlhbCBhZ2dyZWdhdGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQWdncmVnYXRvcihjb2xsZWN0aW9uLCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIHZhbHVlLCBpdGVyYXRlZSh2YWx1ZSksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uYXNzaWduYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXNcbiAgICAgKiBvciBgY3VzdG9taXplcmAgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VBc3NpZ24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5hc3NpZ25JbmAgd2l0aG91dCBzdXBwb3J0IGZvciBtdWx0aXBsZSBzb3VyY2VzXG4gICAgICogb3IgYGN1c3RvbWl6ZXJgIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduSW4ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgY29weU9iamVjdChzb3VyY2UsIGtleXNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBhc3NpZ25WYWx1ZWAgYW5kIGBhc3NpZ25NZXJnZVZhbHVlYCB3aXRob3V0XG4gICAgICogdmFsdWUgY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGFzc2lnbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIHZhbHVlKSB7XG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nICYmIGRlZmluZVByb3BlcnR5KSB7XG4gICAgICAgIGRlZmluZVByb3BlcnR5KG9iamVjdCwga2V5LCB7XG4gICAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICAgJ2VudW1lcmFibGUnOiB0cnVlLFxuICAgICAgICAgICd2YWx1ZSc6IHZhbHVlLFxuICAgICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmF0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWwgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gcGF0aHMgVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBwaWNrZWQgZWxlbWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUF0KG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGhzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpLFxuICAgICAgICAgIHNraXAgPSBvYmplY3QgPT0gbnVsbDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2luZGV4XSA9IHNraXAgPyB1bmRlZmluZWQgOiBnZXQob2JqZWN0LCBwYXRoc1tpbmRleF0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5jbGFtcGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNsYW1wKG51bWJlciwgbG93ZXIsIHVwcGVyKSB7XG4gICAgICBpZiAobnVtYmVyID09PSBudW1iZXIpIHtcbiAgICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBudW1iZXIgPSBudW1iZXIgPD0gdXBwZXIgPyBudW1iZXIgOiB1cHBlcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobG93ZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG51bWJlciA9IG51bWJlciA+PSBsb3dlciA/IG51bWJlciA6IGxvd2VyO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVtYmVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNsb25lYCBhbmQgYF8uY2xvbmVEZWVwYCB3aGljaCB0cmFja3NcbiAgICAgKiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gRGVlcCBjbG9uZVxuICAgICAqICAyIC0gRmxhdHRlbiBpbmhlcml0ZWQgcHJvcGVydGllc1xuICAgICAqICA0IC0gQ2xvbmUgc3ltYm9sc1xuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNsb25pbmcuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtrZXldIFRoZSBrZXkgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIHBhcmVudCBvYmplY3Qgb2YgYHZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIG9iamVjdHMgYW5kIHRoZWlyIGNsb25lIGNvdW50ZXJwYXJ0cy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDbG9uZSh2YWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwga2V5LCBvYmplY3QsIHN0YWNrKSB7XG4gICAgICB2YXIgcmVzdWx0LFxuICAgICAgICAgIGlzRGVlcCA9IGJpdG1hc2sgJiBDTE9ORV9ERUVQX0ZMQUcsXG4gICAgICAgICAgaXNGbGF0ID0gYml0bWFzayAmIENMT05FX0ZMQVRfRkxBRyxcbiAgICAgICAgICBpc0Z1bGwgPSBiaXRtYXNrICYgQ0xPTkVfU1lNQk9MU19GTEFHO1xuXG4gICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICByZXN1bHQgPSBvYmplY3QgPyBjdXN0b21pemVyKHZhbHVlLCBrZXksIG9iamVjdCwgc3RhY2spIDogY3VzdG9taXplcih2YWx1ZSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmICghaXNPYmplY3QodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkodmFsdWUpO1xuICAgICAgaWYgKGlzQXJyKSB7XG4gICAgICAgIHJlc3VsdCA9IGluaXRDbG9uZUFycmF5KHZhbHVlKTtcbiAgICAgICAgaWYgKCFpc0RlZXApIHtcbiAgICAgICAgICByZXR1cm4gY29weUFycmF5KHZhbHVlLCByZXN1bHQpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKHZhbHVlKSxcbiAgICAgICAgICAgIGlzRnVuYyA9IHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWc7XG5cbiAgICAgICAgaWYgKGlzQnVmZmVyKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBjbG9uZUJ1ZmZlcih2YWx1ZSwgaXNEZWVwKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IG9iamVjdFRhZyB8fCB0YWcgPT0gYXJnc1RhZyB8fCAoaXNGdW5jICYmICFvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gKGlzRmxhdCB8fCBpc0Z1bmMpID8ge30gOiBpbml0Q2xvbmVPYmplY3QodmFsdWUpO1xuICAgICAgICAgIGlmICghaXNEZWVwKSB7XG4gICAgICAgICAgICByZXR1cm4gaXNGbGF0XG4gICAgICAgICAgICAgID8gY29weVN5bWJvbHNJbih2YWx1ZSwgYmFzZUFzc2lnbkluKHJlc3VsdCwgdmFsdWUpKVxuICAgICAgICAgICAgICA6IGNvcHlTeW1ib2xzKHZhbHVlLCBiYXNlQXNzaWduKHJlc3VsdCwgdmFsdWUpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFjbG9uZWFibGVUYWdzW3RhZ10pIHtcbiAgICAgICAgICAgIHJldHVybiBvYmplY3QgPyB2YWx1ZSA6IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBpbml0Q2xvbmVCeVRhZyh2YWx1ZSwgdGFnLCBpc0RlZXApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBDaGVjayBmb3IgY2lyY3VsYXIgcmVmZXJlbmNlcyBhbmQgcmV0dXJuIGl0cyBjb3JyZXNwb25kaW5nIGNsb25lLlxuICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgIHZhciBzdGFja2VkID0gc3RhY2suZ2V0KHZhbHVlKTtcbiAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBzdGFja2VkO1xuICAgICAgfVxuICAgICAgc3RhY2suc2V0KHZhbHVlLCByZXN1bHQpO1xuXG4gICAgICBpZiAoaXNTZXQodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUpIHtcbiAgICAgICAgICByZXN1bHQuYWRkKGJhc2VDbG9uZShzdWJWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3ViVmFsdWUsIHZhbHVlLCBzdGFjaykpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSBpZiAoaXNNYXAodmFsdWUpKSB7XG4gICAgICAgIHZhbHVlLmZvckVhY2goZnVuY3Rpb24oc3ViVmFsdWUsIGtleSkge1xuICAgICAgICAgIHJlc3VsdC5zZXQoa2V5LCBiYXNlQ2xvbmUoc3ViVmFsdWUsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGtleSwgdmFsdWUsIHN0YWNrKSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuXG4gICAgICB2YXIga2V5c0Z1bmMgPSBpc0Z1bGxcbiAgICAgICAgPyAoaXNGbGF0ID8gZ2V0QWxsS2V5c0luIDogZ2V0QWxsS2V5cylcbiAgICAgICAgOiAoaXNGbGF0ID8ga2V5c0luIDoga2V5cyk7XG5cbiAgICAgIHZhciBwcm9wcyA9IGlzQXJyID8gdW5kZWZpbmVkIDoga2V5c0Z1bmModmFsdWUpO1xuICAgICAgYXJyYXlFYWNoKHByb3BzIHx8IHZhbHVlLCBmdW5jdGlvbihzdWJWYWx1ZSwga2V5KSB7XG4gICAgICAgIGlmIChwcm9wcykge1xuICAgICAgICAgIGtleSA9IHN1YlZhbHVlO1xuICAgICAgICAgIHN1YlZhbHVlID0gdmFsdWVba2V5XTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBwb3B1bGF0ZSBjbG9uZSAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICBhc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgYmFzZUNsb25lKHN1YlZhbHVlLCBiaXRtYXNrLCBjdXN0b21pemVyLCBrZXksIHZhbHVlLCBzdGFjaykpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmNvbmZvcm1zYCB3aGljaCBkb2Vzbid0IGNsb25lIGBzb3VyY2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUNvbmZvcm1zKHNvdXJjZSkge1xuICAgICAgdmFyIHByb3BzID0ga2V5cyhzb3VyY2UpO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUNvbmZvcm1zVG8ob2JqZWN0LCBzb3VyY2UsIHByb3BzKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uY29uZm9ybXNUb2Agd2hpY2ggYWNjZXB0cyBgcHJvcHNgIHRvIGNoZWNrLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgcHJlZGljYXRlcyB0byBjb25mb3JtIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBjb25mb3JtcywgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBwcm9wcykge1xuICAgICAgdmFyIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gIWxlbmd0aDtcbiAgICAgIH1cbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuICAgICAgd2hpbGUgKGxlbmd0aC0tKSB7XG4gICAgICAgIHZhciBrZXkgPSBwcm9wc1tsZW5ndGhdLFxuICAgICAgICAgICAgcHJlZGljYXRlID0gc291cmNlW2tleV0sXG4gICAgICAgICAgICB2YWx1ZSA9IG9iamVjdFtrZXldO1xuXG4gICAgICAgIGlmICgodmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB8fCAhcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZGVsYXlgIGFuZCBgXy5kZWZlcmAgd2hpY2ggYWNjZXB0cyBgYXJnc2BcbiAgICAgKiB0byBwcm92aWRlIHRvIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHdhaXQgVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkgaW52b2NhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcmdzIFRoZSBhcmd1bWVudHMgdG8gcHJvdmlkZSB0byBgZnVuY2AuXG4gICAgICogQHJldHVybnMge251bWJlcnxPYmplY3R9IFJldHVybnMgdGhlIHRpbWVyIGlkIG9yIHRpbWVvdXQgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VEZWxheShmdW5jLCB3YWl0LCBhcmdzKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpIHsgZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3MpOyB9LCB3YWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8uZGlmZmVyZW5jZWAgd2l0aG91dCBzdXBwb3J0XG4gICAgICogZm9yIGV4Y2x1ZGluZyBtdWx0aXBsZSBhcnJheXMgb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gW10sXG4gICAgICAgICAgdmFsdWVzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aDtcblxuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGlmIChpdGVyYXRlZSkge1xuICAgICAgICB2YWx1ZXMgPSBhcnJheU1hcCh2YWx1ZXMsIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgfVxuICAgICAgaWYgKGNvbXBhcmF0b3IpIHtcbiAgICAgICAgaW5jbHVkZXMgPSBhcnJheUluY2x1ZGVzV2l0aDtcbiAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGVsc2UgaWYgKHZhbHVlcy5sZW5ndGggPj0gTEFSR0VfQVJSQVlfU0laRSkge1xuICAgICAgICBpbmNsdWRlcyA9IGNhY2hlSGFzO1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB2YWx1ZXMgPSBuZXcgU2V0Q2FjaGUodmFsdWVzKTtcbiAgICAgIH1cbiAgICAgIG91dGVyOlxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gYXJyYXlbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA9PSBudWxsID8gdmFsdWUgOiBpdGVyYXRlZSh2YWx1ZSk7XG5cbiAgICAgICAgdmFsdWUgPSAoY29tcGFyYXRvciB8fCB2YWx1ZSAhPT0gMCkgPyB2YWx1ZSA6IDA7XG4gICAgICAgIGlmIChpc0NvbW1vbiAmJiBjb21wdXRlZCA9PT0gY29tcHV0ZWQpIHtcbiAgICAgICAgICB2YXIgdmFsdWVzSW5kZXggPSB2YWx1ZXNMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKHZhbHVlc0luZGV4LS0pIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZXNbdmFsdWVzSW5kZXhdID09PSBjb21wdXRlZCkge1xuICAgICAgICAgICAgICBjb250aW51ZSBvdXRlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCFpbmNsdWRlcyh2YWx1ZXMsIGNvbXB1dGVkLCBjb21wYXJhdG9yKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JFYWNoYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaCA9IGNyZWF0ZUJhc2VFYWNoKGJhc2VGb3JPd24pO1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yRWFjaFJpZ2h0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqL1xuICAgIHZhciBiYXNlRWFjaFJpZ2h0ID0gY3JlYXRlQmFzZUVhY2goYmFzZUZvck93blJpZ2h0LCB0cnVlKTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmV2ZXJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBwcmVkaWNhdGUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV2ZXJ5KGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pIHtcbiAgICAgICAgcmVzdWx0ID0gISFwcmVkaWNhdGUodmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBtZXRob2RzIGxpa2UgYF8ubWF4YCBhbmQgYF8ubWluYCB3aGljaCBhY2NlcHRzIGFcbiAgICAgKiBgY29tcGFyYXRvcmAgdG8gZGV0ZXJtaW5lIHRoZSBleHRyZW11bSB2YWx1ZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNvbXBhcmF0b3IgVGhlIGNvbXBhcmF0b3IgdXNlZCB0byBjb21wYXJlIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZXh0cmVtdW0gdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUV4dHJlbXVtKGFycmF5LCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjdXJyZW50ID0gaXRlcmF0ZWUodmFsdWUpO1xuXG4gICAgICAgIGlmIChjdXJyZW50ICE9IG51bGwgJiYgKGNvbXB1dGVkID09PSB1bmRlZmluZWRcbiAgICAgICAgICAgICAgPyAoY3VycmVudCA9PT0gY3VycmVudCAmJiAhaXNTeW1ib2woY3VycmVudCkpXG4gICAgICAgICAgICAgIDogY29tcGFyYXRvcihjdXJyZW50LCBjb21wdXRlZClcbiAgICAgICAgICAgICkpIHtcbiAgICAgICAgICB2YXIgY29tcHV0ZWQgPSBjdXJyZW50LFxuICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5maWxsYCB3aXRob3V0IGFuIGl0ZXJhdGVlIGNhbGwgZ3VhcmQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmaWxsLlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGZpbGwgYGFycmF5YCB3aXRoLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IHBvc2l0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbZW5kPWFycmF5Lmxlbmd0aF0gVGhlIGVuZCBwb3NpdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG5cbiAgICAgIHN0YXJ0ID0gdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgIGlmIChzdGFydCA8IDApIHtcbiAgICAgICAgc3RhcnQgPSAtc3RhcnQgPiBsZW5ndGggPyAwIDogKGxlbmd0aCArIHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGVuZCA9IChlbmQgPT09IHVuZGVmaW5lZCB8fCBlbmQgPiBsZW5ndGgpID8gbGVuZ3RoIDogdG9JbnRlZ2VyKGVuZCk7XG4gICAgICBpZiAoZW5kIDwgMCkge1xuICAgICAgICBlbmQgKz0gbGVuZ3RoO1xuICAgICAgfVxuICAgICAgZW5kID0gc3RhcnQgPiBlbmQgPyAwIDogdG9MZW5ndGgoZW5kKTtcbiAgICAgIHdoaWxlIChzdGFydCA8IGVuZCkge1xuICAgICAgICBhcnJheVtzdGFydCsrXSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZpbHRlcmAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZpbHRlcihjb2xsZWN0aW9uLCBwcmVkaWNhdGUpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGJhc2VFYWNoKGNvbGxlY3Rpb24sIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikge1xuICAgICAgICBpZiAocHJlZGljYXRlKHZhbHVlLCBpbmRleCwgY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mbGF0dGVuYCB3aXRoIHN1cHBvcnQgZm9yIHJlc3RyaWN0aW5nIGZsYXR0ZW5pbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkZXB0aCBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcHJlZGljYXRlPWlzRmxhdHRlbmFibGVdIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdHJpY3RdIFJlc3RyaWN0IHRvIHZhbHVlcyB0aGF0IHBhc3MgYHByZWRpY2F0ZWAgY2hlY2tzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtyZXN1bHQ9W11dIFRoZSBpbml0aWFsIHJlc3VsdCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlIHx8IChwcmVkaWNhdGUgPSBpc0ZsYXR0ZW5hYmxlKTtcbiAgICAgIHJlc3VsdCB8fCAocmVzdWx0ID0gW10pO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF07XG4gICAgICAgIGlmIChkZXB0aCA+IDAgJiYgcHJlZGljYXRlKHZhbHVlKSkge1xuICAgICAgICAgIGlmIChkZXB0aCA+IDEpIHtcbiAgICAgICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgICBiYXNlRmxhdHRlbih2YWx1ZSwgZGVwdGggLSAxLCBwcmVkaWNhdGUsIGlzU3RyaWN0LCByZXN1bHQpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcnJheVB1c2gocmVzdWx0LCB2YWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKCFpc1N0cmljdCkge1xuICAgICAgICAgIHJlc3VsdFtyZXN1bHQubGVuZ3RoXSA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBiYXNlRm9yT3duYCB3aGljaCBpdGVyYXRlcyBvdmVyIGBvYmplY3RgXG4gICAgICogcHJvcGVydGllcyByZXR1cm5lZCBieSBga2V5c0Z1bmNgIGFuZCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGl0ZXJhdGVlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIHZhciBiYXNlRm9yID0gY3JlYXRlQmFzZUZvcigpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBmdW5jdGlvbiBpcyBsaWtlIGBiYXNlRm9yYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXNcbiAgICAgKiBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBrZXlzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBrZXlzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgdmFyIGJhc2VGb3JSaWdodCA9IGNyZWF0ZUJhc2VGb3IodHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5mb3JPd25gIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93bihvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICYmIGJhc2VGb3Iob2JqZWN0LCBpdGVyYXRlZSwga2V5cyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZm9yT3duUmlnaHRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUZvck93blJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvclJpZ2h0KG9iamVjdCwgaXRlcmF0ZWUsIGtleXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmZ1bmN0aW9uc2Agd2hpY2ggY3JlYXRlcyBhbiBhcnJheSBvZlxuICAgICAqIGBvYmplY3RgIGZ1bmN0aW9uIHByb3BlcnR5IG5hbWVzIGZpbHRlcmVkIGZyb20gYHByb3BzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IG5hbWVzIHRvIGZpbHRlci5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VGdW5jdGlvbnMob2JqZWN0LCBwcm9wcykge1xuICAgICAgcmV0dXJuIGFycmF5RmlsdGVyKHByb3BzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgcmV0dXJuIGlzRnVuY3Rpb24ob2JqZWN0W2tleV0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ2V0YCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZmF1bHQgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAwLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAob2JqZWN0ICE9IG51bGwgJiYgaW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgb2JqZWN0ID0gb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXgrK10pXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAoaW5kZXggJiYgaW5kZXggPT0gbGVuZ3RoKSA/IG9iamVjdCA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgZ2V0QWxsS2V5c2AgYW5kIGBnZXRBbGxLZXlzSW5gIHdoaWNoIHVzZXNcbiAgICAgKiBga2V5c0Z1bmNgIGFuZCBgc3ltYm9sc0Z1bmNgIHRvIGdldCB0aGUgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0ga2V5c0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGdldCB0aGUga2V5cyBvZiBgb2JqZWN0YC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzeW1ib2xzRnVuYyBUaGUgZnVuY3Rpb24gdG8gZ2V0IHRoZSBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzRnVuYywgc3ltYm9sc0Z1bmMpIHtcbiAgICAgIHZhciByZXN1bHQgPSBrZXlzRnVuYyhvYmplY3QpO1xuICAgICAgcmV0dXJuIGlzQXJyYXkob2JqZWN0KSA/IHJlc3VsdCA6IGFycmF5UHVzaChyZXN1bHQsIHN5bWJvbHNGdW5jKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBnZXRUYWdgIHdpdGhvdXQgZmFsbGJhY2tzIGZvciBidWdneSBlbnZpcm9ubWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUdldFRhZyh2YWx1ZSkge1xuICAgICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyB1bmRlZmluZWRUYWcgOiBudWxsVGFnO1xuICAgICAgfVxuICAgICAgcmV0dXJuIChzeW1Ub1N0cmluZ1RhZyAmJiBzeW1Ub1N0cmluZ1RhZyBpbiBPYmplY3QodmFsdWUpKVxuICAgICAgICA/IGdldFJhd1RhZyh2YWx1ZSlcbiAgICAgICAgOiBvYmplY3RUb1N0cmluZyh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uZ3RgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUd0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlID4gb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaGFzYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhcyhvYmplY3QsIGtleSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmhhc0luYCB3aXRob3V0IHN1cHBvcnQgZm9yIGRlZXAgcGF0aHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb2JqZWN0XSBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBrZXkgVGhlIGtleSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGtleWAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUhhc0luKG9iamVjdCwga2V5KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYga2V5IGluIE9iamVjdChvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmluUmFuZ2VgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBudW1iZXJgIGlzIGluIHRoZSByYW5nZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgcmV0dXJuIG51bWJlciA+PSBuYXRpdmVNaW4oc3RhcnQsIGVuZCkgJiYgbnVtYmVyIDwgbmF0aXZlTWF4KHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gLCB3aXRob3V0IHN1cHBvcnRcbiAgICAgKiBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2Ygc2hhcmVkIHZhbHVlcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW50ZXJzZWN0aW9uKGFycmF5cywgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpIHtcbiAgICAgIHZhciBpbmNsdWRlcyA9IGNvbXBhcmF0b3IgPyBhcnJheUluY2x1ZGVzV2l0aCA6IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXlzWzBdLmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBhcnJheXMubGVuZ3RoLFxuICAgICAgICAgIG90aEluZGV4ID0gb3RoTGVuZ3RoLFxuICAgICAgICAgIGNhY2hlcyA9IEFycmF5KG90aExlbmd0aCksXG4gICAgICAgICAgbWF4TGVuZ3RoID0gSW5maW5pdHksXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlIChvdGhJbmRleC0tKSB7XG4gICAgICAgIHZhciBhcnJheSA9IGFycmF5c1tvdGhJbmRleF07XG4gICAgICAgIGlmIChvdGhJbmRleCAmJiBpdGVyYXRlZSkge1xuICAgICAgICAgIGFycmF5ID0gYXJyYXlNYXAoYXJyYXksIGJhc2VVbmFyeShpdGVyYXRlZSkpO1xuICAgICAgICB9XG4gICAgICAgIG1heExlbmd0aCA9IG5hdGl2ZU1pbihhcnJheS5sZW5ndGgsIG1heExlbmd0aCk7XG4gICAgICAgIGNhY2hlc1tvdGhJbmRleF0gPSAhY29tcGFyYXRvciAmJiAoaXRlcmF0ZWUgfHwgKGxlbmd0aCA+PSAxMjAgJiYgYXJyYXkubGVuZ3RoID49IDEyMCkpXG4gICAgICAgICAgPyBuZXcgU2V0Q2FjaGUob3RoSW5kZXggJiYgYXJyYXkpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnJheSA9IGFycmF5c1swXTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgc2VlbiA9IGNhY2hlc1swXTtcblxuICAgICAgb3V0ZXI6XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCAmJiByZXN1bHQubGVuZ3RoIDwgbWF4TGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKCEoc2VlblxuICAgICAgICAgICAgICA/IGNhY2hlSGFzKHNlZW4sIGNvbXB1dGVkKVxuICAgICAgICAgICAgICA6IGluY2x1ZGVzKHJlc3VsdCwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgb3RoSW5kZXggPSBvdGhMZW5ndGg7XG4gICAgICAgICAgd2hpbGUgKC0tb3RoSW5kZXgpIHtcbiAgICAgICAgICAgIHZhciBjYWNoZSA9IGNhY2hlc1tvdGhJbmRleF07XG4gICAgICAgICAgICBpZiAoIShjYWNoZVxuICAgICAgICAgICAgICAgICAgPyBjYWNoZUhhcyhjYWNoZSwgY29tcHV0ZWQpXG4gICAgICAgICAgICAgICAgICA6IGluY2x1ZGVzKGFycmF5c1tvdGhJbmRleF0sIGNvbXB1dGVkLCBjb21wYXJhdG9yKSlcbiAgICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgY29udGludWUgb3V0ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgICBzZWVuLnB1c2goY29tcHV0ZWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52ZXJ0YCBhbmQgYF8uaW52ZXJ0QnlgIHdoaWNoIGludmVydHNcbiAgICAgKiBgb2JqZWN0YCB3aXRoIHZhbHVlcyB0cmFuc2Zvcm1lZCBieSBgaXRlcmF0ZWVgIGFuZCBzZXQgYnkgYHNldHRlcmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc2V0dGVyIFRoZSBmdW5jdGlvbiB0byBzZXQgYGFjY3VtdWxhdG9yYCB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIHRvIHRyYW5zZm9ybSB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IGFjY3VtdWxhdG9yIFRoZSBpbml0aWFsIGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGFjY3VtdWxhdG9yYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSW52ZXJ0ZXIob2JqZWN0LCBzZXR0ZXIsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBzZXR0ZXIoYWNjdW11bGF0b3IsIGl0ZXJhdGVlKHZhbHVlKSwga2V5LCBvYmplY3QpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gYWNjdW11bGF0b3I7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaW52b2tlYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBtZXRob2QgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJncyBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpIHtcbiAgICAgIHBhdGggPSBjYXN0UGF0aChwYXRoLCBvYmplY3QpO1xuICAgICAgb2JqZWN0ID0gcGFyZW50KG9iamVjdCwgcGF0aCk7XG4gICAgICB2YXIgZnVuYyA9IG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogb2JqZWN0W3RvS2V5KGxhc3QocGF0aCkpXTtcbiAgICAgIHJldHVybiBmdW5jID09IG51bGwgPyB1bmRlZmluZWQgOiBhcHBseShmdW5jLCBvYmplY3QsIGFyZ3MpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzQXJndW1lbnRzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYGFyZ3VtZW50c2Agb2JqZWN0LFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc0FyZ3VtZW50cyh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYXJnc1RhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc0FycmF5QnVmZmVyYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXkgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzQXJyYXlCdWZmZXIodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IGFycmF5QnVmZmVyVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRGF0ZWAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZGF0ZSBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNEYXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBkYXRlVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzRXF1YWxgIHdoaWNoIHN1cHBvcnRzIHBhcnRpYWwgY29tcGFyaXNvbnNcbiAgICAgKiBhbmQgdHJhY2tzIHRyYXZlcnNlZCBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLlxuICAgICAqICAxIC0gVW5vcmRlcmVkIGNvbXBhcmlzb25cbiAgICAgKiAgMiAtIFBhcnRpYWwgY29tcGFyaXNvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYHZhbHVlYCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgdmFsdWVzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzRXF1YWwodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgaWYgKHZhbHVlID09PSBvdGhlcikge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IG90aGVyID09IG51bGwgfHwgKCFpc09iamVjdExpa2UodmFsdWUpICYmICFpc09iamVjdExpa2Uob3RoZXIpKSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgIT09IHZhbHVlICYmIG90aGVyICE9PSBvdGhlcjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbERlZXAodmFsdWUsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBiYXNlSXNFcXVhbCwgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxgIGZvciBhcnJheXMgYW5kIG9iamVjdHMgd2hpY2ggcGVyZm9ybXNcbiAgICAgKiBkZWVwIGNvbXBhcmlzb25zIGFuZCB0cmFja3MgdHJhdmVyc2VkIG9iamVjdHMgZW5hYmxpbmcgb2JqZWN0cyB3aXRoIGNpcmN1bGFyXG4gICAgICogcmVmZXJlbmNlcyB0byBiZSBjb21wYXJlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBiYXNlSXNFcXVhbGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjdXN0b21pemVyIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29tcGFyaXNvbnMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZXF1YWxGdW5jIFRoZSBmdW5jdGlvbiB0byBkZXRlcm1pbmUgZXF1aXZhbGVudHMgb2YgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbc3RhY2tdIFRyYWNrcyB0cmF2ZXJzZWQgYG9iamVjdGAgYW5kIGBvdGhlcmAgb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIG9iamVjdHMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNFcXVhbERlZXAob2JqZWN0LCBvdGhlciwgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjaykge1xuICAgICAgdmFyIG9iaklzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIG90aElzQXJyID0gaXNBcnJheShvdGhlciksXG4gICAgICAgICAgb2JqVGFnID0gb2JqSXNBcnIgPyBhcnJheVRhZyA6IGdldFRhZyhvYmplY3QpLFxuICAgICAgICAgIG90aFRhZyA9IG90aElzQXJyID8gYXJyYXlUYWcgOiBnZXRUYWcob3RoZXIpO1xuXG4gICAgICBvYmpUYWcgPSBvYmpUYWcgPT0gYXJnc1RhZyA/IG9iamVjdFRhZyA6IG9ialRhZztcbiAgICAgIG90aFRhZyA9IG90aFRhZyA9PSBhcmdzVGFnID8gb2JqZWN0VGFnIDogb3RoVGFnO1xuXG4gICAgICB2YXIgb2JqSXNPYmogPSBvYmpUYWcgPT0gb2JqZWN0VGFnLFxuICAgICAgICAgIG90aElzT2JqID0gb3RoVGFnID09IG9iamVjdFRhZyxcbiAgICAgICAgICBpc1NhbWVUYWcgPSBvYmpUYWcgPT0gb3RoVGFnO1xuXG4gICAgICBpZiAoaXNTYW1lVGFnICYmIGlzQnVmZmVyKG9iamVjdCkpIHtcbiAgICAgICAgaWYgKCFpc0J1ZmZlcihvdGhlcikpIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgb2JqSXNBcnIgPSB0cnVlO1xuICAgICAgICBvYmpJc09iaiA9IGZhbHNlO1xuICAgICAgfVxuICAgICAgaWYgKGlzU2FtZVRhZyAmJiAhb2JqSXNPYmopIHtcbiAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgcmV0dXJuIChvYmpJc0FyciB8fCBpc1R5cGVkQXJyYXkob2JqZWN0KSlcbiAgICAgICAgICA/IGVxdWFsQXJyYXlzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spXG4gICAgICAgICAgOiBlcXVhbEJ5VGFnKG9iamVjdCwgb3RoZXIsIG9ialRhZywgYml0bWFzaywgY3VzdG9taXplciwgZXF1YWxGdW5jLCBzdGFjayk7XG4gICAgICB9XG4gICAgICBpZiAoIShiaXRtYXNrICYgQ09NUEFSRV9QQVJUSUFMX0ZMQUcpKSB7XG4gICAgICAgIHZhciBvYmpJc1dyYXBwZWQgPSBvYmpJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgJ19fd3JhcHBlZF9fJyksXG4gICAgICAgICAgICBvdGhJc1dyYXBwZWQgPSBvdGhJc09iaiAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCAnX193cmFwcGVkX18nKTtcblxuICAgICAgICBpZiAob2JqSXNXcmFwcGVkIHx8IG90aElzV3JhcHBlZCkge1xuICAgICAgICAgIHZhciBvYmpVbndyYXBwZWQgPSBvYmpJc1dyYXBwZWQgPyBvYmplY3QudmFsdWUoKSA6IG9iamVjdCxcbiAgICAgICAgICAgICAgb3RoVW53cmFwcGVkID0gb3RoSXNXcmFwcGVkID8gb3RoZXIudmFsdWUoKSA6IG90aGVyO1xuXG4gICAgICAgICAgc3RhY2sgfHwgKHN0YWNrID0gbmV3IFN0YWNrKTtcbiAgICAgICAgICByZXR1cm4gZXF1YWxGdW5jKG9ialVud3JhcHBlZCwgb3RoVW53cmFwcGVkLCBiaXRtYXNrLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghaXNTYW1lVGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHN0YWNrIHx8IChzdGFjayA9IG5ldyBTdGFjayk7XG4gICAgICByZXR1cm4gZXF1YWxPYmplY3RzKG9iamVjdCwgb3RoZXIsIGJpdG1hc2ssIGN1c3RvbWl6ZXIsIGVxdWFsRnVuYywgc3RhY2spO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWFwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNNYXAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGdldFRhZyh2YWx1ZSkgPT0gbWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzTWF0Y2hgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBtYXRjaERhdGEgVGhlIHByb3BlcnR5IG5hbWVzLCB2YWx1ZXMsIGFuZCBjb21wYXJlIGZsYWdzIHRvIG1hdGNoLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgb2JqZWN0YCBpcyBhIG1hdGNoLCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIG1hdGNoRGF0YSwgY3VzdG9taXplcikge1xuICAgICAgdmFyIGluZGV4ID0gbWF0Y2hEYXRhLmxlbmd0aCxcbiAgICAgICAgICBsZW5ndGggPSBpbmRleCxcbiAgICAgICAgICBub0N1c3RvbWl6ZXIgPSAhY3VzdG9taXplcjtcblxuICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAhbGVuZ3RoO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIGlmICgobm9DdXN0b21pemVyICYmIGRhdGFbMl0pXG4gICAgICAgICAgICAgID8gZGF0YVsxXSAhPT0gb2JqZWN0W2RhdGFbMF1dXG4gICAgICAgICAgICAgIDogIShkYXRhWzBdIGluIG9iamVjdClcbiAgICAgICAgICAgICkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgZGF0YSA9IG1hdGNoRGF0YVtpbmRleF07XG4gICAgICAgIHZhciBrZXkgPSBkYXRhWzBdLFxuICAgICAgICAgICAgb2JqVmFsdWUgPSBvYmplY3Rba2V5XSxcbiAgICAgICAgICAgIHNyY1ZhbHVlID0gZGF0YVsxXTtcblxuICAgICAgICBpZiAobm9DdXN0b21pemVyICYmIGRhdGFbMl0pIHtcbiAgICAgICAgICBpZiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiAhKGtleSBpbiBvYmplY3QpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHZhciBzdGFjayA9IG5ldyBTdGFjaztcbiAgICAgICAgICBpZiAoY3VzdG9taXplcikge1xuICAgICAgICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlLCBzdGFjayk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICghKHJlc3VsdCA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICAgICAgOiByZXN1bHRcbiAgICAgICAgICAgICAgKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uaXNOYXRpdmVgIHdpdGhvdXQgYmFkIHNoaW0gY2hlY2tzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VJc05hdGl2ZSh2YWx1ZSkge1xuICAgICAgaWYgKCFpc09iamVjdCh2YWx1ZSkgfHwgaXNNYXNrZWQodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwYXR0ZXJuID0gaXNGdW5jdGlvbih2YWx1ZSkgPyByZUlzTmF0aXZlIDogcmVJc0hvc3RDdG9yO1xuICAgICAgcmV0dXJuIHBhdHRlcm4udGVzdCh0b1NvdXJjZSh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmlzUmVnRXhwYCB3aXRob3V0IE5vZGUuanMgb3B0aW1pemF0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSByZWdleHAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlSXNSZWdFeHAodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIGJhc2VHZXRUYWcodmFsdWUpID09IHJlZ2V4cFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1NldGAgd2l0aG91dCBOb2RlLmpzIG9wdGltaXphdGlvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzU2V0KHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBnZXRUYWcodmFsdWUpID09IHNldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pc1R5cGVkQXJyYXlgIHdpdGhvdXQgTm9kZS5qcyBvcHRpbWl6YXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHR5cGVkIGFycmF5LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUlzVHlwZWRBcnJheSh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiZcbiAgICAgICAgaXNMZW5ndGgodmFsdWUubGVuZ3RoKSAmJiAhIXR5cGVkQXJyYXlUYWdzW2Jhc2VHZXRUYWcodmFsdWUpXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5pdGVyYXRlZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gW3ZhbHVlPV8uaWRlbnRpdHldIFRoZSB2YWx1ZSB0byBjb252ZXJ0IHRvIGFuIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgaXRlcmF0ZWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUl0ZXJhdGVlKHZhbHVlKSB7XG4gICAgICAvLyBEb24ndCBzdG9yZSB0aGUgYHR5cGVvZmAgcmVzdWx0IGluIGEgdmFyaWFibGUgdG8gYXZvaWQgYSBKSVQgYnVnIGluIFNhZmFyaSA5LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD0xNTYwMzQgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gaWRlbnRpdHk7XG4gICAgICB9XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdvYmplY3QnKSB7XG4gICAgICAgIHJldHVybiBpc0FycmF5KHZhbHVlKVxuICAgICAgICAgID8gYmFzZU1hdGNoZXNQcm9wZXJ0eSh2YWx1ZVswXSwgdmFsdWVbMV0pXG4gICAgICAgICAgOiBiYXNlTWF0Y2hlcyh2YWx1ZSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcHJvcGVydHkodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNgIHdoaWNoIGRvZXNuJ3QgdHJlYXQgc3BhcnNlIGFycmF5cyBhcyBkZW5zZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUtleXMob2JqZWN0KSB7XG4gICAgICBpZiAoIWlzUHJvdG90eXBlKG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIG5hdGl2ZUtleXMob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIGZvciAodmFyIGtleSBpbiBPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkgJiYga2V5ICE9ICdjb25zdHJ1Y3RvcicpIHtcbiAgICAgICAgICByZXN1bHQucHVzaChrZXkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLmtleXNJbmAgd2hpY2ggZG9lc24ndCB0cmVhdCBzcGFyc2UgYXJyYXlzIGFzIGRlbnNlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlS2V5c0luKG9iamVjdCkge1xuICAgICAgaWYgKCFpc09iamVjdChvYmplY3QpKSB7XG4gICAgICAgIHJldHVybiBuYXRpdmVLZXlzSW4ob2JqZWN0KTtcbiAgICAgIH1cbiAgICAgIHZhciBpc1Byb3RvID0gaXNQcm90b3R5cGUob2JqZWN0KSxcbiAgICAgICAgICByZXN1bHQgPSBbXTtcblxuICAgICAgZm9yICh2YXIga2V5IGluIG9iamVjdCkge1xuICAgICAgICBpZiAoIShrZXkgPT0gJ2NvbnN0cnVjdG9yJyAmJiAoaXNQcm90byB8fCAhaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIGtleSkpKSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKGtleSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubHRgIHdoaWNoIGRvZXNuJ3QgY29lcmNlIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZUx0KHZhbHVlLCBvdGhlcikge1xuICAgICAgcmV0dXJuIHZhbHVlIDwgb3RoZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWFwYCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpdGVyYXRlZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSwga2V5LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdFsrK2luZGV4XSA9IGl0ZXJhdGVlKHZhbHVlLCBrZXksIGNvbGxlY3Rpb24pO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1hdGNoZXNgIHdoaWNoIGRvZXNuJ3QgY2xvbmUgYHNvdXJjZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSB2YWx1ZXMgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlcyhzb3VyY2UpIHtcbiAgICAgIHZhciBtYXRjaERhdGEgPSBnZXRNYXRjaERhdGEoc291cmNlKTtcbiAgICAgIGlmIChtYXRjaERhdGEubGVuZ3RoID09IDEgJiYgbWF0Y2hEYXRhWzBdWzJdKSB7XG4gICAgICAgIHJldHVybiBtYXRjaGVzU3RyaWN0Q29tcGFyYWJsZShtYXRjaERhdGFbMF1bMF0sIG1hdGNoRGF0YVswXVsxXSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT09IHNvdXJjZSB8fCBiYXNlSXNNYXRjaChvYmplY3QsIHNvdXJjZSwgbWF0Y2hEYXRhKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ubWF0Y2hlc1Byb3BlcnR5YCB3aGljaCBkb2Vzbid0IGNsb25lIGBzcmNWYWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgdmFsdWUgdG8gbWF0Y2guXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIHNyY1ZhbHVlKSB7XG4gICAgICBpZiAoaXNLZXkocGF0aCkgJiYgaXNTdHJpY3RDb21wYXJhYmxlKHNyY1ZhbHVlKSkge1xuICAgICAgICByZXR1cm4gbWF0Y2hlc1N0cmljdENvbXBhcmFibGUodG9LZXkocGF0aCksIHNyY1ZhbHVlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gZ2V0KG9iamVjdCwgcGF0aCk7XG4gICAgICAgIHJldHVybiAob2JqVmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvYmpWYWx1ZSA9PT0gc3JjVmFsdWUpXG4gICAgICAgICAgPyBoYXNJbihvYmplY3QsIHBhdGgpXG4gICAgICAgICAgOiBiYXNlSXNFcXVhbChzcmNWYWx1ZSwgb2JqVmFsdWUsIENPTVBBUkVfUEFSVElBTF9GTEFHIHwgQ09NUEFSRV9VTk9SREVSRURfRkxBRyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm1lcmdlYCB3aXRob3V0IHN1cHBvcnQgZm9yIG11bHRpcGxlIHNvdXJjZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzcmNJbmRleCBUaGUgaW5kZXggb2YgYHNvdXJjZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgbWVyZ2VkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlKG9iamVjdCwgc291cmNlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spIHtcbiAgICAgIGlmIChvYmplY3QgPT09IHNvdXJjZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBiYXNlRm9yKHNvdXJjZSwgZnVuY3Rpb24oc3JjVmFsdWUsIGtleSkge1xuICAgICAgICBzdGFjayB8fCAoc3RhY2sgPSBuZXcgU3RhY2spO1xuICAgICAgICBpZiAoaXNPYmplY3Qoc3JjVmFsdWUpKSB7XG4gICAgICAgICAgYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgYmFzZU1lcmdlLCBjdXN0b21pemVyLCBzdGFjayk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgdmFyIG5ld1ZhbHVlID0gY3VzdG9taXplclxuICAgICAgICAgICAgPyBjdXN0b21pemVyKHNhZmVHZXQob2JqZWN0LCBrZXkpLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBzcmNWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9LCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZU1lcmdlYCBmb3IgYXJyYXlzIGFuZCBvYmplY3RzIHdoaWNoIHBlcmZvcm1zXG4gICAgICogZGVlcCBtZXJnZXMgYW5kIHRyYWNrcyB0cmF2ZXJzZWQgb2JqZWN0cyBlbmFibGluZyBvYmplY3RzIHdpdGggY2lyY3VsYXJcbiAgICAgKiByZWZlcmVuY2VzIHRvIGJlIG1lcmdlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIHNvdXJjZSBvYmplY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSB2YWx1ZSB0byBtZXJnZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3JjSW5kZXggVGhlIGluZGV4IG9mIGBzb3VyY2VgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG1lcmdlRnVuYyBUaGUgZnVuY3Rpb24gdG8gbWVyZ2UgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3N0YWNrXSBUcmFja3MgdHJhdmVyc2VkIHNvdXJjZSB2YWx1ZXMgYW5kIHRoZWlyIG1lcmdlZFxuICAgICAqICBjb3VudGVycGFydHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU1lcmdlRGVlcChvYmplY3QsIHNvdXJjZSwga2V5LCBzcmNJbmRleCwgbWVyZ2VGdW5jLCBjdXN0b21pemVyLCBzdGFjaykge1xuICAgICAgdmFyIG9ialZhbHVlID0gc2FmZUdldChvYmplY3QsIGtleSksXG4gICAgICAgICAgc3JjVmFsdWUgPSBzYWZlR2V0KHNvdXJjZSwga2V5KSxcbiAgICAgICAgICBzdGFja2VkID0gc3RhY2suZ2V0KHNyY1ZhbHVlKTtcblxuICAgICAgaWYgKHN0YWNrZWQpIHtcbiAgICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgc3RhY2tlZCk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdWYWx1ZSA9IGN1c3RvbWl6ZXJcbiAgICAgICAgPyBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSwgKGtleSArICcnKSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKVxuICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgdmFyIGlzQ29tbW9uID0gbmV3VmFsdWUgPT09IHVuZGVmaW5lZDtcblxuICAgICAgaWYgKGlzQ29tbW9uKSB7XG4gICAgICAgIHZhciBpc0FyciA9IGlzQXJyYXkoc3JjVmFsdWUpLFxuICAgICAgICAgICAgaXNCdWZmID0gIWlzQXJyICYmIGlzQnVmZmVyKHNyY1ZhbHVlKSxcbiAgICAgICAgICAgIGlzVHlwZWQgPSAhaXNBcnIgJiYgIWlzQnVmZiAmJiBpc1R5cGVkQXJyYXkoc3JjVmFsdWUpO1xuXG4gICAgICAgIG5ld1ZhbHVlID0gc3JjVmFsdWU7XG4gICAgICAgIGlmIChpc0FyciB8fCBpc0J1ZmYgfHwgaXNUeXBlZCkge1xuICAgICAgICAgIGlmIChpc0FycmF5KG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBvYmpWYWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaXNBcnJheUxpa2VPYmplY3Qob2JqVmFsdWUpKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGNvcHlBcnJheShvYmpWYWx1ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGlzQnVmZikge1xuICAgICAgICAgICAgaXNDb21tb24gPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gY2xvbmVCdWZmZXIoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIGlmIChpc1R5cGVkKSB7XG4gICAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBjbG9uZVR5cGVkQXJyYXkoc3JjVmFsdWUsIHRydWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIG5ld1ZhbHVlID0gW107XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGlzUGxhaW5PYmplY3Qoc3JjVmFsdWUpIHx8IGlzQXJndW1lbnRzKHNyY1ZhbHVlKSkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gb2JqVmFsdWU7XG4gICAgICAgICAgaWYgKGlzQXJndW1lbnRzKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSB0b1BsYWluT2JqZWN0KG9ialZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoIWlzT2JqZWN0KG9ialZhbHVlKSB8fCBpc0Z1bmN0aW9uKG9ialZhbHVlKSkge1xuICAgICAgICAgICAgbmV3VmFsdWUgPSBpbml0Q2xvbmVPYmplY3Qoc3JjVmFsdWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoaXNDb21tb24pIHtcbiAgICAgICAgLy8gUmVjdXJzaXZlbHkgbWVyZ2Ugb2JqZWN0cyBhbmQgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIHN0YWNrLnNldChzcmNWYWx1ZSwgbmV3VmFsdWUpO1xuICAgICAgICBtZXJnZUZ1bmMobmV3VmFsdWUsIHNyY1ZhbHVlLCBzcmNJbmRleCwgY3VzdG9taXplciwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgYXNzaWduTWVyZ2VWYWx1ZShvYmplY3QsIGtleSwgbmV3VmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLm50aGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIGluZGV4IG9mIHRoZSBlbGVtZW50IHRvIHJldHVybi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbnRoIGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlTnRoKGFycmF5LCBuKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbiArPSBuIDwgMCA/IGxlbmd0aCA6IDA7XG4gICAgICByZXR1cm4gaXNJbmRleChuLCBsZW5ndGgpID8gYXJyYXlbbl0gOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ub3JkZXJCeWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IGl0ZXJhdGVlcyBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gb3JkZXJzIFRoZSBzb3J0IG9yZGVycyBvZiBgaXRlcmF0ZWVzYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgaXRlcmF0ZWVzLCBvcmRlcnMpIHtcbiAgICAgIGlmIChpdGVyYXRlZXMubGVuZ3RoKSB7XG4gICAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICBpZiAoaXNBcnJheShpdGVyYXRlZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gYmFzZUdldCh2YWx1ZSwgaXRlcmF0ZWUubGVuZ3RoID09PSAxID8gaXRlcmF0ZWVbMF0gOiBpdGVyYXRlZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBpdGVyYXRlZTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpdGVyYXRlZXMgPSBbaWRlbnRpdHldO1xuICAgICAgfVxuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIGl0ZXJhdGVlcyA9IGFycmF5TWFwKGl0ZXJhdGVlcywgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VNYXAoY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGtleSwgY29sbGVjdGlvbikge1xuICAgICAgICB2YXIgY3JpdGVyaWEgPSBhcnJheU1hcChpdGVyYXRlZXMsIGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKHZhbHVlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7ICdjcml0ZXJpYSc6IGNyaXRlcmlhLCAnaW5kZXgnOiArK2luZGV4LCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBiYXNlU29ydEJ5KHJlc3VsdCwgZnVuY3Rpb24ob2JqZWN0LCBvdGhlcikge1xuICAgICAgICByZXR1cm4gY29tcGFyZU11bHRpcGxlKG9iamVjdCwgb3RoZXIsIG9yZGVycyk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5waWNrYCB3aXRob3V0IHN1cHBvcnQgZm9yIGluZGl2aWR1YWxcbiAgICAgKiBwcm9wZXJ0eSBpZGVudGlmaWVycy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ1tdfSBwYXRocyBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpIHtcbiAgICAgIHJldHVybiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIGZ1bmN0aW9uKHZhbHVlLCBwYXRoKSB7XG4gICAgICAgIHJldHVybiBoYXNJbihvYmplY3QsIHBhdGgpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgIGBfLnBpY2tCeWAgd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nW119IHBhdGhzIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUGlja0J5KG9iamVjdCwgcGF0aHMsIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IHt9O1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgcGF0aCA9IHBhdGhzW2luZGV4XSxcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZUdldChvYmplY3QsIHBhdGgpO1xuXG4gICAgICAgIGlmIChwcmVkaWNhdGUodmFsdWUsIHBhdGgpKSB7XG4gICAgICAgICAgYmFzZVNldChyZXN1bHQsIGNhc3RQYXRoKHBhdGgsIG9iamVjdCksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VQcm9wZXJ0eWAgd2hpY2ggc3VwcG9ydHMgZGVlcCBwYXRocy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBhY2Nlc3NvciBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHJvcGVydHlEZWVwKHBhdGgpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8ucHVsbEFsbEJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlXG4gICAgICogc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlXSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGluZGV4T2YgPSBjb21wYXJhdG9yID8gYmFzZUluZGV4T2ZXaXRoIDogYmFzZUluZGV4T2YsXG4gICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSB2YWx1ZXMubGVuZ3RoLFxuICAgICAgICAgIHNlZW4gPSBhcnJheTtcblxuICAgICAgaWYgKGFycmF5ID09PSB2YWx1ZXMpIHtcbiAgICAgICAgdmFsdWVzID0gY29weUFycmF5KHZhbHVlcyk7XG4gICAgICB9XG4gICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgc2VlbiA9IGFycmF5TWFwKGFycmF5LCBiYXNlVW5hcnkoaXRlcmF0ZWUpKTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBmcm9tSW5kZXggPSAwLFxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbaW5kZXhdLFxuICAgICAgICAgICAgY29tcHV0ZWQgPSBpdGVyYXRlZSA/IGl0ZXJhdGVlKHZhbHVlKSA6IHZhbHVlO1xuXG4gICAgICAgIHdoaWxlICgoZnJvbUluZGV4ID0gaW5kZXhPZihzZWVuLCBjb21wdXRlZCwgZnJvbUluZGV4LCBjb21wYXJhdG9yKSkgPiAtMSkge1xuICAgICAgICAgIGlmIChzZWVuICE9PSBhcnJheSkge1xuICAgICAgICAgICAgc3BsaWNlLmNhbGwoc2VlbiwgZnJvbUluZGV4LCAxKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3BsaWNlLmNhbGwoYXJyYXksIGZyb21JbmRleCwgMSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5wdWxsQXRgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaW5kaXZpZHVhbFxuICAgICAqIGluZGV4ZXMgb3IgY2FwdHVyaW5nIHRoZSByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyW119IGluZGV4ZXMgVGhlIGluZGV4ZXMgb2YgZWxlbWVudHMgdG8gcmVtb3ZlLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VQdWxsQXQoYXJyYXksIGluZGV4ZXMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA/IGluZGV4ZXMubGVuZ3RoIDogMCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGluZGV4ID0gaW5kZXhlc1tsZW5ndGhdO1xuICAgICAgICBpZiAobGVuZ3RoID09IGxhc3RJbmRleCB8fCBpbmRleCAhPT0gcHJldmlvdXMpIHtcbiAgICAgICAgICB2YXIgcHJldmlvdXMgPSBpbmRleDtcbiAgICAgICAgICBpZiAoaXNJbmRleChpbmRleCkpIHtcbiAgICAgICAgICAgIHNwbGljZS5jYWxsKGFycmF5LCBpbmRleCwgMSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJhc2VVbnNldChhcnJheSwgaW5kZXgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJhbmRvbWAgd2l0aG91dCBzdXBwb3J0IGZvciByZXR1cm5pbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbG93ZXIgVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcmFuZG9tIG51bWJlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZG9tKGxvd2VyLCB1cHBlcikge1xuICAgICAgcmV0dXJuIGxvd2VyICsgbmF0aXZlRmxvb3IobmF0aXZlUmFuZG9tKCkgKiAodXBwZXIgLSBsb3dlciArIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yYW5nZWAgYW5kIGBfLnJhbmdlUmlnaHRgIHdoaWNoIGRvZXNuJ3RcbiAgICAgKiBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGVwIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zyb21SaWdodF0gU3BlY2lmeSBpdGVyYXRpbmcgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlUmFuZ2Uoc3RhcnQsIGVuZCwgc3RlcCwgZnJvbVJpZ2h0KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgobmF0aXZlQ2VpbCgoZW5kIC0gc3RhcnQpIC8gKHN0ZXAgfHwgMSkpLCAwKSxcbiAgICAgICAgICByZXN1bHQgPSBBcnJheShsZW5ndGgpO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2Zyb21SaWdodCA/IGxlbmd0aCA6ICsraW5kZXhdID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnJlcGVhdGAgd2hpY2ggZG9lc24ndCBjb2VyY2UgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gcmVwZWF0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmVwZWF0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXBlYXQoc3RyaW5nLCBuKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gJyc7XG4gICAgICBpZiAoIXN0cmluZyB8fCBuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgLy8gTGV2ZXJhZ2UgdGhlIGV4cG9uZW50aWF0aW9uIGJ5IHNxdWFyaW5nIGFsZ29yaXRobSBmb3IgYSBmYXN0ZXIgcmVwZWF0LlxuICAgICAgLy8gU2VlIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0V4cG9uZW50aWF0aW9uX2J5X3NxdWFyaW5nIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICBkbyB7XG4gICAgICAgIGlmIChuICUgMikge1xuICAgICAgICAgIHJlc3VsdCArPSBzdHJpbmc7XG4gICAgICAgIH1cbiAgICAgICAgbiA9IG5hdGl2ZUZsb29yKG4gLyAyKTtcbiAgICAgICAgaWYgKG4pIHtcbiAgICAgICAgICBzdHJpbmcgKz0gc3RyaW5nO1xuICAgICAgICB9XG4gICAgICB9IHdoaWxlIChuKTtcblxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5yZXN0YCB3aGljaCBkb2Vzbid0IHZhbGlkYXRlIG9yIGNvZXJjZSBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KSB7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcob3ZlclJlc3QoZnVuYywgc3RhcnQsIGlkZW50aXR5KSwgZnVuYyArICcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zYW1wbGVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBzYW1wbGUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTYW1wbGUoY29sbGVjdGlvbikge1xuICAgICAgcmV0dXJuIGFycmF5U2FtcGxlKHZhbHVlcyhjb2xsZWN0aW9uKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc2FtcGxlU2l6ZWAgd2l0aG91dCBwYXJhbSBndWFyZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHJhbmRvbSBlbGVtZW50cy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2FtcGxlU2l6ZShjb2xsZWN0aW9uLCBuKSB7XG4gICAgICB2YXIgYXJyYXkgPSB2YWx1ZXMoY29sbGVjdGlvbik7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYoYXJyYXksIGJhc2VDbGFtcChuLCAwLCBhcnJheS5sZW5ndGgpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zZXRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGlmICghaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICByZXR1cm4gb2JqZWN0O1xuICAgICAgfVxuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIGxhc3RJbmRleCA9IGxlbmd0aCAtIDEsXG4gICAgICAgICAgbmVzdGVkID0gb2JqZWN0O1xuXG4gICAgICB3aGlsZSAobmVzdGVkICE9IG51bGwgJiYgKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pLFxuICAgICAgICAgICAgbmV3VmFsdWUgPSB2YWx1ZTtcblxuICAgICAgICBpZiAoa2V5ID09PSAnX19wcm90b19fJyB8fCBrZXkgPT09ICdjb25zdHJ1Y3RvcicgfHwga2V5ID09PSAncHJvdG90eXBlJykge1xuICAgICAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoaW5kZXggIT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgdmFyIG9ialZhbHVlID0gbmVzdGVkW2tleV07XG4gICAgICAgICAgbmV3VmFsdWUgPSBjdXN0b21pemVyID8gY3VzdG9taXplcihvYmpWYWx1ZSwga2V5LCBuZXN0ZWQpIDogdW5kZWZpbmVkO1xuICAgICAgICAgIGlmIChuZXdWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBuZXdWYWx1ZSA9IGlzT2JqZWN0KG9ialZhbHVlKVxuICAgICAgICAgICAgICA/IG9ialZhbHVlXG4gICAgICAgICAgICAgIDogKGlzSW5kZXgocGF0aFtpbmRleCArIDFdKSA/IFtdIDoge30pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3NpZ25WYWx1ZShuZXN0ZWQsIGtleSwgbmV3VmFsdWUpO1xuICAgICAgICBuZXN0ZWQgPSBuZXN0ZWRba2V5XTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldERhdGFgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaG90IGxvb3Agc2hvcnRpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc29jaWF0ZSBtZXRhZGF0YSB3aXRoLlxuICAgICAqIEBwYXJhbSB7Kn0gZGF0YSBUaGUgbWV0YWRhdGEuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgYmFzZVNldERhdGEgPSAhbWV0YU1hcCA/IGlkZW50aXR5IDogZnVuY3Rpb24oZnVuYywgZGF0YSkge1xuICAgICAgbWV0YU1hcC5zZXQoZnVuYywgZGF0YSk7XG4gICAgICByZXR1cm4gZnVuYztcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYHNldFRvU3RyaW5nYCB3aXRob3V0IHN1cHBvcnQgZm9yIGhvdCBsb29wIHNob3J0aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gc3RyaW5nIFRoZSBgdG9TdHJpbmdgIHJlc3VsdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgYGZ1bmNgLlxuICAgICAqL1xuICAgIHZhciBiYXNlU2V0VG9TdHJpbmcgPSAhZGVmaW5lUHJvcGVydHkgPyBpZGVudGl0eSA6IGZ1bmN0aW9uKGZ1bmMsIHN0cmluZykge1xuICAgICAgcmV0dXJuIGRlZmluZVByb3BlcnR5KGZ1bmMsICd0b1N0cmluZycsIHtcbiAgICAgICAgJ2NvbmZpZ3VyYWJsZSc6IHRydWUsXG4gICAgICAgICdlbnVtZXJhYmxlJzogZmFsc2UsXG4gICAgICAgICd2YWx1ZSc6IGNvbnN0YW50KHN0cmluZyksXG4gICAgICAgICd3cml0YWJsZSc6IHRydWVcbiAgICAgIH0pO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zaHVmZmxlYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICByZXR1cm4gc2h1ZmZsZVNlbGYodmFsdWVzKGNvbGxlY3Rpb24pKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy5zbGljZWAgd2l0aG91dCBhbiBpdGVyYXRlZSBjYWxsIGd1YXJkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICBzdGFydCA9IC1zdGFydCA+IGxlbmd0aCA/IDAgOiAobGVuZ3RoICsgc3RhcnQpO1xuICAgICAgfVxuICAgICAgZW5kID0gZW5kID4gbGVuZ3RoID8gbGVuZ3RoIDogZW5kO1xuICAgICAgaWYgKGVuZCA8IDApIHtcbiAgICAgICAgZW5kICs9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IHN0YXJ0ID4gZW5kID8gMCA6ICgoZW5kIC0gc3RhcnQpID4+PiAwKTtcbiAgICAgIHN0YXJ0ID4+Pj0gMDtcblxuICAgICAgdmFyIHJlc3VsdCA9IEFycmF5KGxlbmd0aCk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbaW5kZXhdID0gYXJyYXlbaW5kZXggKyBzdGFydF07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvbWVgIHdpdGhvdXQgc3VwcG9ydCBmb3IgaXRlcmF0ZWUgc2hvcnRoYW5kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb21lKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdDtcblxuICAgICAgYmFzZUVhY2goY29sbGVjdGlvbiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBjb2xsZWN0aW9uKSB7XG4gICAgICAgIHJlc3VsdCA9IHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGNvbGxlY3Rpb24pO1xuICAgICAgICByZXR1cm4gIXJlc3VsdDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuICEhcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4YCBhbmQgYF8uc29ydGVkTGFzdEluZGV4YCB3aGljaFxuICAgICAqIHBlcmZvcm1zIGEgYmluYXJ5IHNlYXJjaCBvZiBgYXJyYXlgIHRvIGRldGVybWluZSB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYFxuICAgICAqIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG8gbWFpbnRhaW4gaXRzIHNvcnQgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtyZXRIaWdoZXN0XSBTcGVjaWZ5IHJldHVybmluZyB0aGUgaGlnaGVzdCBxdWFsaWZpZWQgaW5kZXguXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHJldEhpZ2hlc3QpIHtcbiAgICAgIHZhciBsb3cgPSAwLFxuICAgICAgICAgIGhpZ2ggPSBhcnJheSA9PSBudWxsID8gbG93IDogYXJyYXkubGVuZ3RoO1xuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIHZhbHVlID09PSB2YWx1ZSAmJiBoaWdoIDw9IEhBTEZfTUFYX0FSUkFZX0xFTkdUSCkge1xuICAgICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICAgIHZhciBtaWQgPSAobG93ICsgaGlnaCkgPj4+IDEsXG4gICAgICAgICAgICAgIGNvbXB1dGVkID0gYXJyYXlbbWlkXTtcblxuICAgICAgICAgIGlmIChjb21wdXRlZCAhPT0gbnVsbCAmJiAhaXNTeW1ib2woY29tcHV0ZWQpICYmXG4gICAgICAgICAgICAgIChyZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKSkpIHtcbiAgICAgICAgICAgIGxvdyA9IG1pZCArIDE7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhpZ2ggPSBtaWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoaWdoO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VTb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaWRlbnRpdHksIHJldEhpZ2hlc3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnNvcnRlZEluZGV4QnlgIGFuZCBgXy5zb3J0ZWRMYXN0SW5kZXhCeWBcbiAgICAgKiB3aGljaCBpbnZva2VzIGBpdGVyYXRlZWAgZm9yIGB2YWx1ZWAgYW5kIGVhY2ggZWxlbWVudCBvZiBgYXJyYXlgIHRvIGNvbXB1dGVcbiAgICAgKiB0aGVpciBzb3J0IHJhbmtpbmcuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OyAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gaXRlcmF0ZWUgVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbcmV0SGlnaGVzdF0gU3BlY2lmeSByZXR1cm5pbmcgdGhlIGhpZ2hlc3QgcXVhbGlmaWVkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlLCByZXRIaWdoZXN0KSB7XG4gICAgICB2YXIgbG93ID0gMCxcbiAgICAgICAgICBoaWdoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoaGlnaCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cblxuICAgICAgdmFsdWUgPSBpdGVyYXRlZSh2YWx1ZSk7XG4gICAgICB2YXIgdmFsSXNOYU4gPSB2YWx1ZSAhPT0gdmFsdWUsXG4gICAgICAgICAgdmFsSXNOdWxsID0gdmFsdWUgPT09IG51bGwsXG4gICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSksXG4gICAgICAgICAgdmFsSXNVbmRlZmluZWQgPSB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuXG4gICAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgICB2YXIgbWlkID0gbmF0aXZlRmxvb3IoKGxvdyArIGhpZ2gpIC8gMiksXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlKGFycmF5W21pZF0pLFxuICAgICAgICAgICAgb3RoSXNEZWZpbmVkID0gY29tcHV0ZWQgIT09IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIG90aElzTnVsbCA9IGNvbXB1dGVkID09PSBudWxsLFxuICAgICAgICAgICAgb3RoSXNSZWZsZXhpdmUgPSBjb21wdXRlZCA9PT0gY29tcHV0ZWQsXG4gICAgICAgICAgICBvdGhJc1N5bWJvbCA9IGlzU3ltYm9sKGNvbXB1dGVkKTtcblxuICAgICAgICBpZiAodmFsSXNOYU4pIHtcbiAgICAgICAgICB2YXIgc2V0TG93ID0gcmV0SGlnaGVzdCB8fCBvdGhJc1JlZmxleGl2ZTtcbiAgICAgICAgfSBlbHNlIGlmICh2YWxJc1VuZGVmaW5lZCkge1xuICAgICAgICAgIHNldExvdyA9IG90aElzUmVmbGV4aXZlICYmIChyZXRIaWdoZXN0IHx8IG90aElzRGVmaW5lZCk7XG4gICAgICAgIH0gZWxzZSBpZiAodmFsSXNOdWxsKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmIChyZXRIaWdoZXN0IHx8ICFvdGhJc051bGwpO1xuICAgICAgICB9IGVsc2UgaWYgKHZhbElzU3ltYm9sKSB7XG4gICAgICAgICAgc2V0TG93ID0gb3RoSXNSZWZsZXhpdmUgJiYgb3RoSXNEZWZpbmVkICYmICFvdGhJc051bGwgJiYgKHJldEhpZ2hlc3QgfHwgIW90aElzU3ltYm9sKTtcbiAgICAgICAgfSBlbHNlIGlmIChvdGhJc051bGwgfHwgb3RoSXNTeW1ib2wpIHtcbiAgICAgICAgICBzZXRMb3cgPSBmYWxzZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzZXRMb3cgPSByZXRIaWdoZXN0ID8gKGNvbXB1dGVkIDw9IHZhbHVlKSA6IChjb21wdXRlZCA8IHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2V0TG93KSB7XG4gICAgICAgICAgbG93ID0gbWlkICsgMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBoaWdoID0gbWlkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gbmF0aXZlTWluKGhpZ2gsIE1BWF9BUlJBWV9JTkRFWCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8uc29ydGVkVW5pcWAgYW5kIGBfLnNvcnRlZFVuaXFCeWAgd2l0aG91dFxuICAgICAqIHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVNvcnRlZFVuaXEoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzSW5kZXggPSAwLFxuICAgICAgICAgIHJlc3VsdCA9IFtdO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIgdmFsdWUgPSBhcnJheVtpbmRleF0sXG4gICAgICAgICAgICBjb21wdXRlZCA9IGl0ZXJhdGVlID8gaXRlcmF0ZWUodmFsdWUpIDogdmFsdWU7XG5cbiAgICAgICAgaWYgKCFpbmRleCB8fCAhZXEoY29tcHV0ZWQsIHNlZW4pKSB7XG4gICAgICAgICAgdmFyIHNlZW4gPSBjb21wdXRlZDtcbiAgICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSB2YWx1ZSA9PT0gMCA/IDAgOiB2YWx1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy50b051bWJlcmAgd2hpY2ggZG9lc24ndCBlbnN1cmUgY29ycmVjdFxuICAgICAqIGNvbnZlcnNpb25zIG9mIGJpbmFyeSwgaGV4YWRlY2ltYWwsIG9yIG9jdGFsIHN0cmluZyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VUb051bWJlcih2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJykge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICBpZiAoaXNTeW1ib2wodmFsdWUpKSB7XG4gICAgICAgIHJldHVybiBOQU47XG4gICAgICB9XG4gICAgICByZXR1cm4gK3ZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnRvU3RyaW5nYCB3aGljaCBkb2Vzbid0IGNvbnZlcnQgbnVsbGlzaFxuICAgICAqIHZhbHVlcyB0byBlbXB0eSBzdHJpbmdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHN0cmluZy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIC8vIEV4aXQgZWFybHkgZm9yIHN0cmluZ3MgdG8gYXZvaWQgYSBwZXJmb3JtYW5jZSBoaXQgaW4gc29tZSBlbnZpcm9ubWVudHMuXG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb252ZXJ0IHZhbHVlcyAoc3VzY2VwdGlibGUgdG8gY2FsbCBzdGFjayBsaW1pdHMpLlxuICAgICAgICByZXR1cm4gYXJyYXlNYXAodmFsdWUsIGJhc2VUb1N0cmluZykgKyAnJztcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHN5bWJvbFRvU3RyaW5nID8gc3ltYm9sVG9TdHJpbmcuY2FsbCh2YWx1ZSkgOiAnJztcbiAgICAgIH1cbiAgICAgIHZhciByZXN1bHQgPSAodmFsdWUgKyAnJyk7XG4gICAgICByZXR1cm4gKHJlc3VsdCA9PSAnMCcgJiYgKDEgLyB2YWx1ZSkgPT0gLUlORklOSVRZKSA/ICctMCcgOiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2UgaW1wbGVtZW50YXRpb24gb2YgYF8udW5pcUJ5YCB3aXRob3V0IHN1cHBvcnQgZm9yIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gYmFzZVVuaXEoYXJyYXksIGl0ZXJhdGVlLCBjb21wYXJhdG9yKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXMsXG4gICAgICAgICAgbGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGlzQ29tbW9uID0gdHJ1ZSxcbiAgICAgICAgICByZXN1bHQgPSBbXSxcbiAgICAgICAgICBzZWVuID0gcmVzdWx0O1xuXG4gICAgICBpZiAoY29tcGFyYXRvcikge1xuICAgICAgICBpc0NvbW1vbiA9IGZhbHNlO1xuICAgICAgICBpbmNsdWRlcyA9IGFycmF5SW5jbHVkZXNXaXRoO1xuICAgICAgfVxuICAgICAgZWxzZSBpZiAobGVuZ3RoID49IExBUkdFX0FSUkFZX1NJWkUpIHtcbiAgICAgICAgdmFyIHNldCA9IGl0ZXJhdGVlID8gbnVsbCA6IGNyZWF0ZVNldChhcnJheSk7XG4gICAgICAgIGlmIChzZXQpIHtcbiAgICAgICAgICByZXR1cm4gc2V0VG9BcnJheShzZXQpO1xuICAgICAgICB9XG4gICAgICAgIGlzQ29tbW9uID0gZmFsc2U7XG4gICAgICAgIGluY2x1ZGVzID0gY2FjaGVIYXM7XG4gICAgICAgIHNlZW4gPSBuZXcgU2V0Q2FjaGU7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgc2VlbiA9IGl0ZXJhdGVlID8gW10gOiByZXN1bHQ7XG4gICAgICB9XG4gICAgICBvdXRlcjpcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIGNvbXB1dGVkID0gaXRlcmF0ZWUgPyBpdGVyYXRlZSh2YWx1ZSkgOiB2YWx1ZTtcblxuICAgICAgICB2YWx1ZSA9IChjb21wYXJhdG9yIHx8IHZhbHVlICE9PSAwKSA/IHZhbHVlIDogMDtcbiAgICAgICAgaWYgKGlzQ29tbW9uICYmIGNvbXB1dGVkID09PSBjb21wdXRlZCkge1xuICAgICAgICAgIHZhciBzZWVuSW5kZXggPSBzZWVuLmxlbmd0aDtcbiAgICAgICAgICB3aGlsZSAoc2VlbkluZGV4LS0pIHtcbiAgICAgICAgICAgIGlmIChzZWVuW3NlZW5JbmRleF0gPT09IGNvbXB1dGVkKSB7XG4gICAgICAgICAgICAgIGNvbnRpbnVlIG91dGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHNlZW4ucHVzaChjb21wdXRlZCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5jbHVkZXMoc2VlbiwgY29tcHV0ZWQsIGNvbXBhcmF0b3IpKSB7XG4gICAgICAgICAgaWYgKHNlZW4gIT09IHJlc3VsdCkge1xuICAgICAgICAgICAgc2Vlbi5wdXNoKGNvbXB1dGVkKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVuc2V0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcHJvcGVydHkgcGF0aCB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcbiAgICAgIG9iamVjdCA9IHBhcmVudChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsIHx8IGRlbGV0ZSBvYmplY3RbdG9LZXkobGFzdChwYXRoKSldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGBfLnVwZGF0ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHVwZGF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB1cGRhdGVyIFRoZSBmdW5jdGlvbiB0byBwcm9kdWNlIHRoZSB1cGRhdGVkIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIHBhdGggY3JlYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlVXBkYXRlKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgcmV0dXJuIGJhc2VTZXQob2JqZWN0LCBwYXRoLCB1cGRhdGVyKGJhc2VHZXQob2JqZWN0LCBwYXRoKSksIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy5kcm9wV2hpbGVgIGFuZCBgXy50YWtlV2hpbGVgXG4gICAgICogd2l0aG91dCBzdXBwb3J0IGZvciBpdGVyYXRlZSBzaG9ydGhhbmRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gcHJlZGljYXRlIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEcm9wXSBTcGVjaWZ5IGRyb3BwaW5nIGVsZW1lbnRzIGluc3RlYWQgb2YgdGFraW5nIHRoZW0uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VXaGlsZShhcnJheSwgcHJlZGljYXRlLCBpc0Ryb3AsIGZyb21SaWdodCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBpbmRleCA9IGZyb21SaWdodCA/IGxlbmd0aCA6IC0xO1xuXG4gICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSAmJlxuICAgICAgICBwcmVkaWNhdGUoYXJyYXlbaW5kZXhdLCBpbmRleCwgYXJyYXkpKSB7fVxuXG4gICAgICByZXR1cm4gaXNEcm9wXG4gICAgICAgID8gYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gMCA6IGluZGV4KSwgKGZyb21SaWdodCA/IGluZGV4ICsgMSA6IGxlbmd0aCkpXG4gICAgICAgIDogYmFzZVNsaWNlKGFycmF5LCAoZnJvbVJpZ2h0ID8gaW5kZXggKyAxIDogMCksIChmcm9tUmlnaHQgPyBsZW5ndGggOiBpbmRleCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIGB3cmFwcGVyVmFsdWVgIHdoaWNoIHJldHVybnMgdGhlIHJlc3VsdCBvZlxuICAgICAqIHBlcmZvcm1pbmcgYSBzZXF1ZW5jZSBvZiBhY3Rpb25zIG9uIHRoZSB1bndyYXBwZWQgYHZhbHVlYCwgd2hlcmUgZWFjaFxuICAgICAqIHN1Y2Nlc3NpdmUgYWN0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB1bndyYXBwZWQgdmFsdWUuXG4gICAgICogQHBhcmFtIHtBcnJheX0gYWN0aW9ucyBBY3Rpb25zIHRvIHBlcmZvcm0gdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlV3JhcHBlclZhbHVlKHZhbHVlLCBhY3Rpb25zKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gdmFsdWU7XG4gICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgcmVzdWx0ID0gcmVzdWx0LnZhbHVlKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlSZWR1Y2UoYWN0aW9ucywgZnVuY3Rpb24ocmVzdWx0LCBhY3Rpb24pIHtcbiAgICAgICAgcmV0dXJuIGFjdGlvbi5mdW5jLmFwcGx5KGFjdGlvbi50aGlzQXJnLCBhcnJheVB1c2goW3Jlc3VsdF0sIGFjdGlvbi5hcmdzKSk7XG4gICAgICB9LCByZXN1bHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoZSBiYXNlIGltcGxlbWVudGF0aW9uIG9mIG1ldGhvZHMgbGlrZSBgXy54b3JgLCB3aXRob3V0IHN1cHBvcnQgZm9yXG4gICAgICogaXRlcmF0ZWUgc2hvcnRoYW5kcywgdGhhdCBhY2NlcHRzIGFuIGFycmF5IG9mIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheXMgVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgdmFsdWVzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGJhc2VYb3IoYXJyYXlzLCBpdGVyYXRlZSwgY29tcGFyYXRvcikge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5cy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVVuaXEoYXJyYXlzWzBdKSA6IFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJyYXlzW2luZGV4XSxcbiAgICAgICAgICAgIG90aEluZGV4ID0gLTE7XG5cbiAgICAgICAgd2hpbGUgKCsrb3RoSW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICBpZiAob3RoSW5kZXggIT0gaW5kZXgpIHtcbiAgICAgICAgICAgIHJlc3VsdFtpbmRleF0gPSBiYXNlRGlmZmVyZW5jZShyZXN1bHRbaW5kZXhdIHx8IGFycmF5LCBhcnJheXNbb3RoSW5kZXhdLCBpdGVyYXRlZSwgY29tcGFyYXRvcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVVuaXEoYmFzZUZsYXR0ZW4ocmVzdWx0LCAxKSwgaXRlcmF0ZWUsIGNvbXBhcmF0b3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgYmFzZSBpbXBsZW1lbnRhdGlvbiBvZiBgXy56aXBPYmplY3RgIHdoaWNoIGFzc2lnbnMgdmFsdWVzIHVzaW5nIGBhc3NpZ25GdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gcHJvcHMgVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbkZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFzc2lnbiB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiYXNlWmlwT2JqZWN0KHByb3BzLCB2YWx1ZXMsIGFzc2lnbkZ1bmMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aCxcbiAgICAgICAgICB2YWxzTGVuZ3RoID0gdmFsdWVzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gaW5kZXggPCB2YWxzTGVuZ3RoID8gdmFsdWVzW2luZGV4XSA6IHVuZGVmaW5lZDtcbiAgICAgICAgYXNzaWduRnVuYyhyZXN1bHQsIHByb3BzW2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgdmFsdWVgIHRvIGFuIGVtcHR5IGFycmF5IGlmIGl0J3Mgbm90IGFuIGFycmF5IGxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgdGhlIGNhc3QgYXJyYXktbGlrZSBvYmplY3QuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEFycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KHZhbHVlKSA/IHZhbHVlIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCB0byBgaWRlbnRpdHlgIGlmIGl0J3Mgbm90IGEgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGNhc3QgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2FzdEZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdmdW5jdGlvbicgPyB2YWx1ZSA6IGlkZW50aXR5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhc3RzIGB2YWx1ZWAgdG8gYSBwYXRoIGFycmF5IGlmIGl0J3Mgbm90IG9uZS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdF0gVGhlIG9iamVjdCB0byBxdWVyeSBrZXlzIG9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhc3RQYXRoKHZhbHVlLCBvYmplY3QpIHtcbiAgICAgIGlmIChpc0FycmF5KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNLZXkodmFsdWUsIG9iamVjdCkgPyBbdmFsdWVdIDogc3RyaW5nVG9QYXRoKHRvU3RyaW5nKHZhbHVlKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBgYmFzZVJlc3RgIGFsaWFzIHdoaWNoIGNhbiBiZSByZXBsYWNlZCB3aXRoIGBpZGVudGl0eWAgYnkgbW9kdWxlXG4gICAgICogcmVwbGFjZW1lbnQgcGx1Z2lucy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHR5cGUge0Z1bmN0aW9ufVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgdmFyIGNhc3RSZXN0ID0gYmFzZVJlc3Q7XG5cbiAgICAvKipcbiAgICAgKiBDYXN0cyBgYXJyYXlgIHRvIGEgc2xpY2UgaWYgaXQncyBuZWVkZWQuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBzdGFydCBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY2FzdCBzbGljZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0U2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgICBlbmQgPSBlbmQgPT09IHVuZGVmaW5lZCA/IGxlbmd0aCA6IGVuZDtcbiAgICAgIHJldHVybiAoIXN0YXJ0ICYmIGVuZCA+PSBsZW5ndGgpID8gYXJyYXkgOiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc2ltcGxlIHdyYXBwZXIgYXJvdW5kIHRoZSBnbG9iYWwgW2BjbGVhclRpbWVvdXRgXShodHRwczovL21kbi5pby9jbGVhclRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcnxPYmplY3R9IGlkIFRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdCBvZiB0aGUgdGltZXIgdG8gY2xlYXIuXG4gICAgICovXG4gICAgdmFyIGNsZWFyVGltZW91dCA9IGN0eENsZWFyVGltZW91dCB8fCBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHJvb3QuY2xlYXJUaW1lb3V0KGlkKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mICBgYnVmZmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtCdWZmZXJ9IGJ1ZmZlciBUaGUgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge0J1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUJ1ZmZlcihidWZmZXIsIGlzRGVlcCkge1xuICAgICAgaWYgKGlzRGVlcCkge1xuICAgICAgICByZXR1cm4gYnVmZmVyLnNsaWNlKCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gYnVmZmVyLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBhbGxvY1Vuc2FmZSA/IGFsbG9jVW5zYWZlKGxlbmd0aCkgOiBuZXcgYnVmZmVyLmNvbnN0cnVjdG9yKGxlbmd0aCk7XG5cbiAgICAgIGJ1ZmZlci5jb3B5KHJlc3VsdCk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgYXJyYXlCdWZmZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5QnVmZmVyfSBhcnJheUJ1ZmZlciBUaGUgYXJyYXkgYnVmZmVyIHRvIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtBcnJheUJ1ZmZlcn0gUmV0dXJucyB0aGUgY2xvbmVkIGFycmF5IGJ1ZmZlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZUFycmF5QnVmZmVyKGFycmF5QnVmZmVyKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbmV3IGFycmF5QnVmZmVyLmNvbnN0cnVjdG9yKGFycmF5QnVmZmVyLmJ5dGVMZW5ndGgpO1xuICAgICAgbmV3IFVpbnQ4QXJyYXkocmVzdWx0KS5zZXQobmV3IFVpbnQ4QXJyYXkoYXJyYXlCdWZmZXIpKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGBkYXRhVmlld2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBkYXRhVmlldyBUaGUgZGF0YSB2aWV3IHRvIGNsb25lLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzRGVlcF0gU3BlY2lmeSBhIGRlZXAgY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIGRhdGEgdmlldy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZURhdGFWaWV3KGRhdGFWaWV3LCBpc0RlZXApIHtcbiAgICAgIHZhciBidWZmZXIgPSBpc0RlZXAgPyBjbG9uZUFycmF5QnVmZmVyKGRhdGFWaWV3LmJ1ZmZlcikgOiBkYXRhVmlldy5idWZmZXI7XG4gICAgICByZXR1cm4gbmV3IGRhdGFWaWV3LmNvbnN0cnVjdG9yKGJ1ZmZlciwgZGF0YVZpZXcuYnl0ZU9mZnNldCwgZGF0YVZpZXcuYnl0ZUxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIGByZWdleHBgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gcmVnZXhwIFRoZSByZWdleHAgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY2xvbmVkIHJlZ2V4cC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVJlZ0V4cChyZWdleHApIHtcbiAgICAgIHZhciByZXN1bHQgPSBuZXcgcmVnZXhwLmNvbnN0cnVjdG9yKHJlZ2V4cC5zb3VyY2UsIHJlRmxhZ3MuZXhlYyhyZWdleHApKTtcbiAgICAgIHJlc3VsdC5sYXN0SW5kZXggPSByZWdleHAubGFzdEluZGV4O1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgdGhlIGBzeW1ib2xgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN5bWJvbCBUaGUgc3ltYm9sIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgc3ltYm9sIG9iamVjdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVN5bWJvbChzeW1ib2wpIHtcbiAgICAgIHJldHVybiBzeW1ib2xWYWx1ZU9mID8gT2JqZWN0KHN5bWJvbFZhbHVlT2YuY2FsbChzeW1ib2wpKSA6IHt9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBjbG9uZSBvZiBgdHlwZWRBcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSB0eXBlZEFycmF5IFRoZSB0eXBlZCBhcnJheSB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc0RlZXBdIFNwZWNpZnkgYSBkZWVwIGNsb25lLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNsb25lZCB0eXBlZCBhcnJheS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVR5cGVkQXJyYXkodHlwZWRBcnJheSwgaXNEZWVwKSB7XG4gICAgICB2YXIgYnVmZmVyID0gaXNEZWVwID8gY2xvbmVBcnJheUJ1ZmZlcih0eXBlZEFycmF5LmJ1ZmZlcikgOiB0eXBlZEFycmF5LmJ1ZmZlcjtcbiAgICAgIHJldHVybiBuZXcgdHlwZWRBcnJheS5jb25zdHJ1Y3RvcihidWZmZXIsIHR5cGVkQXJyYXkuYnl0ZU9mZnNldCwgdHlwZWRBcnJheS5sZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIHZhbHVlcyB0byBzb3J0IHRoZW0gaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGB2YWx1ZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcGFyZUFzY2VuZGluZyh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIGlmICh2YWx1ZSAhPT0gb3RoZXIpIHtcbiAgICAgICAgdmFyIHZhbElzRGVmaW5lZCA9IHZhbHVlICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICB2YWxJc051bGwgPSB2YWx1ZSA9PT0gbnVsbCxcbiAgICAgICAgICAgIHZhbElzUmVmbGV4aXZlID0gdmFsdWUgPT09IHZhbHVlLFxuICAgICAgICAgICAgdmFsSXNTeW1ib2wgPSBpc1N5bWJvbCh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIG90aElzRGVmaW5lZCA9IG90aGVyICE9PSB1bmRlZmluZWQsXG4gICAgICAgICAgICBvdGhJc051bGwgPSBvdGhlciA9PT0gbnVsbCxcbiAgICAgICAgICAgIG90aElzUmVmbGV4aXZlID0gb3RoZXIgPT09IG90aGVyLFxuICAgICAgICAgICAgb3RoSXNTeW1ib2wgPSBpc1N5bWJvbChvdGhlcik7XG5cbiAgICAgICAgaWYgKCghb3RoSXNOdWxsICYmICFvdGhJc1N5bWJvbCAmJiAhdmFsSXNTeW1ib2wgJiYgdmFsdWUgPiBvdGhlcikgfHxcbiAgICAgICAgICAgICh2YWxJc1N5bWJvbCAmJiBvdGhJc0RlZmluZWQgJiYgb3RoSXNSZWZsZXhpdmUgJiYgIW90aElzTnVsbCAmJiAhb3RoSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAodmFsSXNOdWxsICYmIG90aElzRGVmaW5lZCAmJiBvdGhJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghdmFsSXNEZWZpbmVkICYmIG90aElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIXZhbElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIDE7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCghdmFsSXNOdWxsICYmICF2YWxJc1N5bWJvbCAmJiAhb3RoSXNTeW1ib2wgJiYgdmFsdWUgPCBvdGhlcikgfHxcbiAgICAgICAgICAgIChvdGhJc1N5bWJvbCAmJiB2YWxJc0RlZmluZWQgJiYgdmFsSXNSZWZsZXhpdmUgJiYgIXZhbElzTnVsbCAmJiAhdmFsSXNTeW1ib2wpIHx8XG4gICAgICAgICAgICAob3RoSXNOdWxsICYmIHZhbElzRGVmaW5lZCAmJiB2YWxJc1JlZmxleGl2ZSkgfHxcbiAgICAgICAgICAgICghb3RoSXNEZWZpbmVkICYmIHZhbElzUmVmbGV4aXZlKSB8fFxuICAgICAgICAgICAgIW90aElzUmVmbGV4aXZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLm9yZGVyQnlgIHRvIGNvbXBhcmUgbXVsdGlwbGUgcHJvcGVydGllcyBvZiBhIHZhbHVlIHRvIGFub3RoZXJcbiAgICAgKiBhbmQgc3RhYmxlIHNvcnQgdGhlbS5cbiAgICAgKlxuICAgICAqIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzIGFyZSBzb3J0ZWQgaW4gYXNjZW5kaW5nIG9yZGVyLiBPdGhlcndpc2UsXG4gICAgICogc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3IgZGVzY2VuZGluZyBvciBcImFzY1wiIGZvciBhc2NlbmRpbmcgc29ydCBvcmRlclxuICAgICAqIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb3RoZXIgVGhlIG90aGVyIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbltdfHN0cmluZ1tdfSBvcmRlcnMgVGhlIG9yZGVyIHRvIHNvcnQgYnkgZm9yIGVhY2ggcHJvcGVydHkuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc29ydCBvcmRlciBpbmRpY2F0b3IgZm9yIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBhcmVNdWx0aXBsZShvYmplY3QsIG90aGVyLCBvcmRlcnMpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIG9iakNyaXRlcmlhID0gb2JqZWN0LmNyaXRlcmlhLFxuICAgICAgICAgIG90aENyaXRlcmlhID0gb3RoZXIuY3JpdGVyaWEsXG4gICAgICAgICAgbGVuZ3RoID0gb2JqQ3JpdGVyaWEubGVuZ3RoLFxuICAgICAgICAgIG9yZGVyc0xlbmd0aCA9IG9yZGVycy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSBjb21wYXJlQXNjZW5kaW5nKG9iakNyaXRlcmlhW2luZGV4XSwgb3RoQ3JpdGVyaWFbaW5kZXhdKTtcbiAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgIGlmIChpbmRleCA+PSBvcmRlcnNMZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHZhciBvcmRlciA9IG9yZGVyc1tpbmRleF07XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdCAqIChvcmRlciA9PSAnZGVzYycgPyAtMSA6IDEpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICAvLyBGaXhlcyBhbiBgQXJyYXkjc29ydGAgYnVnIGluIHRoZSBKUyBlbmdpbmUgZW1iZWRkZWQgaW4gQWRvYmUgYXBwbGljYXRpb25zXG4gICAgICAvLyB0aGF0IGNhdXNlcyBpdCwgdW5kZXIgY2VydGFpbiBjaXJjdW1zdGFuY2VzLCB0byBwcm92aWRlIHRoZSBzYW1lIHZhbHVlIGZvclxuICAgICAgLy8gYG9iamVjdGAgYW5kIGBvdGhlcmAuIFNlZSBodHRwczovL2dpdGh1Yi5jb20vamFzaGtlbmFzL3VuZGVyc2NvcmUvcHVsbC8xMjQ3XG4gICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgLy9cbiAgICAgIC8vIFRoaXMgYWxzbyBlbnN1cmVzIGEgc3RhYmxlIHNvcnQgaW4gVjggYW5kIG90aGVyIGVuZ2luZXMuXG4gICAgICAvLyBTZWUgaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9OTAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgIHJldHVybiBvYmplY3QuaW5kZXggLSBvdGhlci5pbmRleDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cyxcbiAgICAgKiBwbGFjZWhvbGRlcnMsIGFuZCBwcm92aWRlZCBhcmd1bWVudHMgaW50byBhIHNpbmdsZSBhcnJheSBvZiBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaG9sZGVycyBUaGUgYHBhcnRpYWxzYCBwbGFjZWhvbGRlciBpbmRleGVzLlxuICAgICAqIEBwYXJhbXMge2Jvb2xlYW59IFtpc0N1cnJpZWRdIFNwZWNpZnkgY29tcG9zaW5nIGZvciBhIGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tcG9zZWQgYXJndW1lbnRzLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpIHtcbiAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICBhcmdzTGVuZ3RoID0gYXJncy5sZW5ndGgsXG4gICAgICAgICAgaG9sZGVyc0xlbmd0aCA9IGhvbGRlcnMubGVuZ3RoLFxuICAgICAgICAgIGxlZnRJbmRleCA9IC0xLFxuICAgICAgICAgIGxlZnRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KGxlZnRMZW5ndGggKyByYW5nZUxlbmd0aCksXG4gICAgICAgICAgaXNVbmN1cnJpZWQgPSAhaXNDdXJyaWVkO1xuXG4gICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2FyZ3NJbmRleCA8IGhvbGRlcnNMZW5ndGgpIHtcbiAgICAgICAgaWYgKGlzVW5jdXJyaWVkIHx8IGFyZ3NJbmRleCA8IGFyZ3NMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHRbaG9sZGVyc1thcmdzSW5kZXhdXSA9IGFyZ3NbYXJnc0luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgd2hpbGUgKHJhbmdlTGVuZ3RoLS0pIHtcbiAgICAgICAgcmVzdWx0W2xlZnRJbmRleCsrXSA9IGFyZ3NbYXJnc0luZGV4KytdO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIGZ1bmN0aW9uIGlzIGxpa2UgYGNvbXBvc2VBcmdzYCBleGNlcHQgdGhhdCB0aGUgYXJndW1lbnRzIGNvbXBvc2l0aW9uXG4gICAgICogaXMgdGFpbG9yZWQgZm9yIGBfLnBhcnRpYWxSaWdodGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFyZ3MgVGhlIHByb3ZpZGVkIGFyZ3VtZW50cy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIGFwcGVuZCB0byB0aG9zZSBwcm92aWRlZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBob2xkZXJzIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtcyB7Ym9vbGVhbn0gW2lzQ3VycmllZF0gU3BlY2lmeSBjb21wb3NpbmcgZm9yIGEgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBjb21wb3NlZCBhcmd1bWVudHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29tcG9zZUFyZ3NSaWdodChhcmdzLCBwYXJ0aWFscywgaG9sZGVycywgaXNDdXJyaWVkKSB7XG4gICAgICB2YXIgYXJnc0luZGV4ID0gLTEsXG4gICAgICAgICAgYXJnc0xlbmd0aCA9IGFyZ3MubGVuZ3RoLFxuICAgICAgICAgIGhvbGRlcnNJbmRleCA9IC0xLFxuICAgICAgICAgIGhvbGRlcnNMZW5ndGggPSBob2xkZXJzLmxlbmd0aCxcbiAgICAgICAgICByaWdodEluZGV4ID0gLTEsXG4gICAgICAgICAgcmlnaHRMZW5ndGggPSBwYXJ0aWFscy5sZW5ndGgsXG4gICAgICAgICAgcmFuZ2VMZW5ndGggPSBuYXRpdmVNYXgoYXJnc0xlbmd0aCAtIGhvbGRlcnNMZW5ndGgsIDApLFxuICAgICAgICAgIHJlc3VsdCA9IEFycmF5KHJhbmdlTGVuZ3RoICsgcmlnaHRMZW5ndGgpLFxuICAgICAgICAgIGlzVW5jdXJyaWVkID0gIWlzQ3VycmllZDtcblxuICAgICAgd2hpbGUgKCsrYXJnc0luZGV4IDwgcmFuZ2VMZW5ndGgpIHtcbiAgICAgICAgcmVzdWx0W2FyZ3NJbmRleF0gPSBhcmdzW2FyZ3NJbmRleF07XG4gICAgICB9XG4gICAgICB2YXIgb2Zmc2V0ID0gYXJnc0luZGV4O1xuICAgICAgd2hpbGUgKCsrcmlnaHRJbmRleCA8IHJpZ2h0TGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdFtvZmZzZXQgKyByaWdodEluZGV4XSA9IHBhcnRpYWxzW3JpZ2h0SW5kZXhdO1xuICAgICAgfVxuICAgICAgd2hpbGUgKCsraG9sZGVyc0luZGV4IDwgaG9sZGVyc0xlbmd0aCkge1xuICAgICAgICBpZiAoaXNVbmN1cnJpZWQgfHwgYXJnc0luZGV4IDwgYXJnc0xlbmd0aCkge1xuICAgICAgICAgIHJlc3VsdFtvZmZzZXQgKyBob2xkZXJzW2hvbGRlcnNJbmRleF1dID0gYXJnc1thcmdzSW5kZXgrK107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHRoZSB2YWx1ZXMgb2YgYHNvdXJjZWAgdG8gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gc291cmNlIFRoZSBhcnJheSB0byBjb3B5IHZhbHVlcyBmcm9tLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFthcnJheT1bXV0gVGhlIGFycmF5IHRvIGNvcHkgdmFsdWVzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyBgYXJyYXlgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlBcnJheShzb3VyY2UsIGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBzb3VyY2UubGVuZ3RoO1xuXG4gICAgICBhcnJheSB8fCAoYXJyYXkgPSBBcnJheShsZW5ndGgpKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIGFycmF5W2luZGV4XSA9IHNvdXJjZVtpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIHByb3BlcnRpZXMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwcm9wcyBUaGUgcHJvcGVydHkgaWRlbnRpZmllcnMgdG8gY29weS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHByb3BlcnRpZXMgdG8uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY29waWVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNvcHlPYmplY3Qoc291cmNlLCBwcm9wcywgb2JqZWN0LCBjdXN0b21pemVyKSB7XG4gICAgICB2YXIgaXNOZXcgPSAhb2JqZWN0O1xuICAgICAgb2JqZWN0IHx8IChvYmplY3QgPSB7fSk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIGtleSA9IHByb3BzW2luZGV4XTtcblxuICAgICAgICB2YXIgbmV3VmFsdWUgPSBjdXN0b21pemVyXG4gICAgICAgICAgPyBjdXN0b21pemVyKG9iamVjdFtrZXldLCBzb3VyY2Vba2V5XSwga2V5LCBvYmplY3QsIHNvdXJjZSlcbiAgICAgICAgICA6IHVuZGVmaW5lZDtcblxuICAgICAgICBpZiAobmV3VmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIG5ld1ZhbHVlID0gc291cmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzTmV3KSB7XG4gICAgICAgICAgYmFzZUFzc2lnblZhbHVlKG9iamVjdCwga2V5LCBuZXdWYWx1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgYXNzaWduVmFsdWUob2JqZWN0LCBrZXksIG5ld1ZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb3BpZXMgb3duIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9scyhzb3VyY2UsIG9iamVjdCkge1xuICAgICAgcmV0dXJuIGNvcHlPYmplY3Qoc291cmNlLCBnZXRTeW1ib2xzKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29waWVzIG93biBhbmQgaW5oZXJpdGVkIHN5bWJvbHMgb2YgYHNvdXJjZWAgdG8gYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW29iamVjdD17fV0gVGhlIG9iamVjdCB0byBjb3B5IHN5bWJvbHMgdG8uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb3B5U3ltYm9sc0luKHNvdXJjZSwgb2JqZWN0KSB7XG4gICAgICByZXR1cm4gY29weU9iamVjdChzb3VyY2UsIGdldFN5bWJvbHNJbihzb3VyY2UpLCBvYmplY3QpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmdyb3VwQnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2luaXRpYWxpemVyXSBUaGUgYWNjdW11bGF0b3Igb2JqZWN0IGluaXRpYWxpemVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFnZ3JlZ2F0b3IgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQWdncmVnYXRvcihzZXR0ZXIsIGluaXRpYWxpemVyKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlBZ2dyZWdhdG9yIDogYmFzZUFnZ3JlZ2F0b3IsXG4gICAgICAgICAgICBhY2N1bXVsYXRvciA9IGluaXRpYWxpemVyID8gaW5pdGlhbGl6ZXIoKSA6IHt9O1xuXG4gICAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIHNldHRlciwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBhY2N1bXVsYXRvcik7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmFzc2lnbmAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGFzc2lnbmVyIFRoZSBmdW5jdGlvbiB0byBhc3NpZ24gdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFzc2lnbmVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUFzc2lnbmVyKGFzc2lnbmVyKSB7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2VzKSB7XG4gICAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgICAgbGVuZ3RoID0gc291cmNlcy5sZW5ndGgsXG4gICAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoID4gMSA/IHNvdXJjZXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGN1c3RvbWl6ZXIgPSAoYXNzaWduZXIubGVuZ3RoID4gMyAmJiB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgID8gKGxlbmd0aC0tLCBjdXN0b21pemVyKVxuICAgICAgICAgIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChndWFyZCAmJiBpc0l0ZXJhdGVlQ2FsbChzb3VyY2VzWzBdLCBzb3VyY2VzWzFdLCBndWFyZCkpIHtcbiAgICAgICAgICBjdXN0b21pemVyID0gbGVuZ3RoIDwgMyA/IHVuZGVmaW5lZCA6IGN1c3RvbWl6ZXI7XG4gICAgICAgICAgbGVuZ3RoID0gMTtcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBPYmplY3Qob2JqZWN0KTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgc291cmNlID0gc291cmNlc1tpbmRleF07XG4gICAgICAgICAgaWYgKHNvdXJjZSkge1xuICAgICAgICAgICAgYXNzaWduZXIob2JqZWN0LCBzb3VyY2UsIGluZGV4LCBjdXN0b21pemVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBgYmFzZUVhY2hgIG9yIGBiYXNlRWFjaFJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZWFjaEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGl0ZXJhdGUgb3ZlciBhIGNvbGxlY3Rpb24uXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYmFzZSBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCYXNlRWFjaChlYWNoRnVuYywgZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICAgIHJldHVybiBjb2xsZWN0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGlmICghaXNBcnJheUxpa2UoY29sbGVjdGlvbikpIHtcbiAgICAgICAgICByZXR1cm4gZWFjaEZ1bmMoY29sbGVjdGlvbiwgaXRlcmF0ZWUpO1xuICAgICAgICB9XG4gICAgICAgIHZhciBsZW5ndGggPSBjb2xsZWN0aW9uLmxlbmd0aCxcbiAgICAgICAgICAgIGluZGV4ID0gZnJvbVJpZ2h0ID8gbGVuZ3RoIDogLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcblxuICAgICAgICB3aGlsZSAoKGZyb21SaWdodCA/IGluZGV4LS0gOiArK2luZGV4IDwgbGVuZ3RoKSkge1xuICAgICAgICAgIGlmIChpdGVyYXRlZShpdGVyYWJsZVtpbmRleF0sIGluZGV4LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNvbGxlY3Rpb247XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBiYXNlIGZ1bmN0aW9uIGZvciBtZXRob2RzIGxpa2UgYF8uZm9ySW5gIGFuZCBgXy5mb3JPd25gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtmcm9tUmlnaHRdIFNwZWNpZnkgaXRlcmF0aW5nIGZyb20gcmlnaHQgdG8gbGVmdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBiYXNlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUJhc2VGb3IoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSwga2V5c0Z1bmMpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgICBpdGVyYWJsZSA9IE9iamVjdChvYmplY3QpLFxuICAgICAgICAgICAgcHJvcHMgPSBrZXlzRnVuYyhvYmplY3QpLFxuICAgICAgICAgICAgbGVuZ3RoID0gcHJvcHMubGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICAgIHZhciBrZXkgPSBwcm9wc1tmcm9tUmlnaHQgPyBsZW5ndGggOiArK2luZGV4XTtcbiAgICAgICAgICBpZiAoaXRlcmF0ZWUoaXRlcmFibGVba2V5XSwga2V5LCBpdGVyYWJsZSkgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9iamVjdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGludm9rZSBpdCB3aXRoIHRoZSBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVCaW5kKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBmbiA9ICh0aGlzICYmIHRoaXMgIT09IHJvb3QgJiYgdGhpcyBpbnN0YW5jZW9mIHdyYXBwZXIpID8gQ3RvciA6IGZ1bmM7XG4gICAgICAgIHJldHVybiBmbi5hcHBseShpc0JpbmQgPyB0aGlzQXJnIDogdGhpcywgYXJndW1lbnRzKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3cmFwcGVyO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmxvd2VyRmlyc3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYFN0cmluZ2AgY2FzZSBtZXRob2QgdG8gdXNlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhc2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ2FzZUZpcnN0KG1ldGhvZE5hbWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcblxuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IGhhc1VuaWNvZGUoc3RyaW5nKVxuICAgICAgICAgID8gc3RyaW5nVG9BcnJheShzdHJpbmcpXG4gICAgICAgICAgOiB1bmRlZmluZWQ7XG5cbiAgICAgICAgdmFyIGNociA9IHN0clN5bWJvbHNcbiAgICAgICAgICA/IHN0clN5bWJvbHNbMF1cbiAgICAgICAgICA6IHN0cmluZy5jaGFyQXQoMCk7XG5cbiAgICAgICAgdmFyIHRyYWlsaW5nID0gc3RyU3ltYm9sc1xuICAgICAgICAgID8gY2FzdFNsaWNlKHN0clN5bWJvbHMsIDEpLmpvaW4oJycpXG4gICAgICAgICAgOiBzdHJpbmcuc2xpY2UoMSk7XG5cbiAgICAgICAgcmV0dXJuIGNoclttZXRob2ROYW1lXSgpICsgdHJhaWxpbmc7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiBsaWtlIGBfLmNhbWVsQ2FzZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lIGVhY2ggd29yZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3VuZGVyIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUNvbXBvdW5kZXIoY2FsbGJhY2spIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5UmVkdWNlKHdvcmRzKGRlYnVycihzdHJpbmcpLnJlcGxhY2UocmVBcG9zLCAnJykpLCBjYWxsYmFjaywgJycpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwcm9kdWNlcyBhbiBpbnN0YW5jZSBvZiBgQ3RvcmAgcmVnYXJkbGVzcyBvZlxuICAgICAqIHdoZXRoZXIgaXQgd2FzIGludm9rZWQgYXMgcGFydCBvZiBhIGBuZXdgIGV4cHJlc3Npb24gb3IgYnkgYGNhbGxgIG9yIGBhcHBseWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IEN0b3IgVGhlIGNvbnN0cnVjdG9yIHRvIHdyYXAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVDdG9yKEN0b3IpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgLy8gVXNlIGEgYHN3aXRjaGAgc3RhdGVtZW50IHRvIHdvcmsgd2l0aCBjbGFzcyBjb25zdHJ1Y3RvcnMuIFNlZVxuICAgICAgICAvLyBodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1lY21hc2NyaXB0LWZ1bmN0aW9uLW9iamVjdHMtY2FsbC10aGlzYXJndW1lbnQtYXJndW1lbnRzbGlzdFxuICAgICAgICAvLyBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgc3dpdGNoIChhcmdzLmxlbmd0aCkge1xuICAgICAgICAgIGNhc2UgMDogcmV0dXJuIG5ldyBDdG9yO1xuICAgICAgICAgIGNhc2UgMTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0pO1xuICAgICAgICAgIGNhc2UgMzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgICAgICAgIGNhc2UgNDogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10pO1xuICAgICAgICAgIGNhc2UgNTogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0pO1xuICAgICAgICAgIGNhc2UgNjogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0pO1xuICAgICAgICAgIGNhc2UgNzogcmV0dXJuIG5ldyBDdG9yKGFyZ3NbMF0sIGFyZ3NbMV0sIGFyZ3NbMl0sIGFyZ3NbM10sIGFyZ3NbNF0sIGFyZ3NbNV0sIGFyZ3NbNl0pO1xuICAgICAgICB9XG4gICAgICAgIHZhciB0aGlzQmluZGluZyA9IGJhc2VDcmVhdGUoQ3Rvci5wcm90b3R5cGUpLFxuICAgICAgICAgICAgcmVzdWx0ID0gQ3Rvci5hcHBseSh0aGlzQmluZGluZywgYXJncyk7XG5cbiAgICAgICAgLy8gTWltaWMgdGhlIGNvbnN0cnVjdG9yJ3MgYHJldHVybmAgYmVoYXZpb3IuXG4gICAgICAgIC8vIFNlZSBodHRwczovL2VzNS5naXRodWIuaW8vI3gxMy4yLjIgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgcmV0dXJuIGlzT2JqZWN0KHJlc3VsdCkgPyByZXN1bHQgOiB0aGlzQmluZGluZztcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgd3JhcHMgYGZ1bmNgIHRvIGVuYWJsZSBjdXJyeWluZy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhcml0eSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlQ3VycnkoZnVuYywgYml0bWFzaywgYXJpdHkpIHtcbiAgICAgIHZhciBDdG9yID0gY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoLFxuICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlcik7XG5cbiAgICAgICAgd2hpbGUgKGluZGV4LS0pIHtcbiAgICAgICAgICBhcmdzW2luZGV4XSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgdmFyIGhvbGRlcnMgPSAobGVuZ3RoIDwgMyAmJiBhcmdzWzBdICE9PSBwbGFjZWhvbGRlciAmJiBhcmdzW2xlbmd0aCAtIDFdICE9PSBwbGFjZWhvbGRlcilcbiAgICAgICAgICA/IFtdXG4gICAgICAgICAgOiByZXBsYWNlSG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG5cbiAgICAgICAgbGVuZ3RoIC09IGhvbGRlcnMubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdW5kZWZpbmVkLFxuICAgICAgICAgICAgYXJncywgaG9sZGVycywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5IC0gbGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgZm4gPSAodGhpcyAmJiB0aGlzICE9PSByb290ICYmIHRoaXMgaW5zdGFuY2VvZiB3cmFwcGVyKSA/IEN0b3IgOiBmdW5jO1xuICAgICAgICByZXR1cm4gYXBwbHkoZm4sIHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLmZpbmRgIG9yIGBfLmZpbmRMYXN0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZmluZEluZGV4RnVuYyBUaGUgZnVuY3Rpb24gdG8gZmluZCB0aGUgY29sbGVjdGlvbiBpbmRleC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmaW5kIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZUZpbmQoZmluZEluZGV4RnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICAgIHZhciBpdGVyYWJsZSA9IE9iamVjdChjb2xsZWN0aW9uKTtcbiAgICAgICAgaWYgKCFpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICAgIHZhciBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyk7XG4gICAgICAgICAgY29sbGVjdGlvbiA9IGtleXMoY29sbGVjdGlvbik7XG4gICAgICAgICAgcHJlZGljYXRlID0gZnVuY3Rpb24oa2V5KSB7IHJldHVybiBpdGVyYXRlZShpdGVyYWJsZVtrZXldLCBrZXksIGl0ZXJhYmxlKTsgfTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaW5kZXggPSBmaW5kSW5kZXhGdW5jKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZnJvbUluZGV4KTtcbiAgICAgICAgcmV0dXJuIGluZGV4ID4gLTEgPyBpdGVyYWJsZVtpdGVyYXRlZSA/IGNvbGxlY3Rpb25baW5kZXhdIDogaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgYF8uZmxvd2Agb3IgYF8uZmxvd1JpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZmxvdyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVGbG93KGZyb21SaWdodCkge1xuICAgICAgcmV0dXJuIGZsYXRSZXN0KGZ1bmN0aW9uKGZ1bmNzKSB7XG4gICAgICAgIHZhciBsZW5ndGggPSBmdW5jcy5sZW5ndGgsXG4gICAgICAgICAgICBpbmRleCA9IGxlbmd0aCxcbiAgICAgICAgICAgIHByZXJlcSA9IExvZGFzaFdyYXBwZXIucHJvdG90eXBlLnRocnU7XG5cbiAgICAgICAgaWYgKGZyb21SaWdodCkge1xuICAgICAgICAgIGZ1bmNzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICAgIHZhciBmdW5jID0gZnVuY3NbaW5kZXhdO1xuICAgICAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmVyZXEgJiYgIXdyYXBwZXIgJiYgZ2V0RnVuY05hbWUoZnVuYykgPT0gJ3dyYXBwZXInKSB7XG4gICAgICAgICAgICB2YXIgd3JhcHBlciA9IG5ldyBMb2Rhc2hXcmFwcGVyKFtdLCB0cnVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSB3cmFwcGVyID8gaW5kZXggOiBsZW5ndGg7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgZnVuYyA9IGZ1bmNzW2luZGV4XTtcblxuICAgICAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgICAgICBkYXRhID0gZnVuY05hbWUgPT0gJ3dyYXBwZXInID8gZ2V0RGF0YShmdW5jKSA6IHVuZGVmaW5lZDtcblxuICAgICAgICAgIGlmIChkYXRhICYmIGlzTGF6aWFibGUoZGF0YVswXSkgJiZcbiAgICAgICAgICAgICAgICBkYXRhWzFdID09IChXUkFQX0FSWV9GTEFHIHwgV1JBUF9DVVJSWV9GTEFHIHwgV1JBUF9QQVJUSUFMX0ZMQUcgfCBXUkFQX1JFQVJHX0ZMQUcpICYmXG4gICAgICAgICAgICAgICAgIWRhdGFbNF0ubGVuZ3RoICYmIGRhdGFbOV0gPT0gMVxuICAgICAgICAgICAgICApIHtcbiAgICAgICAgICAgIHdyYXBwZXIgPSB3cmFwcGVyW2dldEZ1bmNOYW1lKGRhdGFbMF0pXS5hcHBseSh3cmFwcGVyLCBkYXRhWzNdKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgd3JhcHBlciA9IChmdW5jLmxlbmd0aCA9PSAxICYmIGlzTGF6aWFibGUoZnVuYykpXG4gICAgICAgICAgICAgID8gd3JhcHBlcltmdW5jTmFtZV0oKVxuICAgICAgICAgICAgICA6IHdyYXBwZXIudGhydShmdW5jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgICB2YWx1ZSA9IGFyZ3NbMF07XG5cbiAgICAgICAgICBpZiAod3JhcHBlciAmJiBhcmdzLmxlbmd0aCA9PSAxICYmIGlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICByZXR1cm4gd3JhcHBlci5wbGFudCh2YWx1ZSkudmFsdWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICAgICAgcmVzdWx0ID0gbGVuZ3RoID8gZnVuY3NbaW5kZXhdLmFwcGx5KHRoaXMsIGFyZ3MpIDogdmFsdWU7XG5cbiAgICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZnVuY3NbaW5kZXhdLmNhbGwodGhpcywgcmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCBvcHRpb25hbCBgdGhpc2BcbiAgICAgKiBiaW5kaW5nIG9mIGB0aGlzQXJnYCwgcGFydGlhbCBhcHBsaWNhdGlvbiwgYW5kIGN1cnJ5aW5nLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7Kn0gW3RoaXNBcmddIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbcGFydGlhbHNSaWdodF0gVGhlIGFyZ3VtZW50cyB0byBhcHBlbmQgdG8gdGhvc2UgcHJvdmlkZWRcbiAgICAgKiAgdG8gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc1JpZ2h0XSBUaGUgYHBhcnRpYWxzUmlnaHRgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSHlicmlkKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBwYXJ0aWFsc1JpZ2h0LCBob2xkZXJzUmlnaHQsIGFyZ1BvcywgYXJ5LCBhcml0eSkge1xuICAgICAgdmFyIGlzQXJ5ID0gYml0bWFzayAmIFdSQVBfQVJZX0ZMQUcsXG4gICAgICAgICAgaXNCaW5kID0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHLFxuICAgICAgICAgIGlzQmluZEtleSA9IGJpdG1hc2sgJiBXUkFQX0JJTkRfS0VZX0ZMQUcsXG4gICAgICAgICAgaXNDdXJyaWVkID0gYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpLFxuICAgICAgICAgIGlzRmxpcCA9IGJpdG1hc2sgJiBXUkFQX0ZMSVBfRkxBRyxcbiAgICAgICAgICBDdG9yID0gaXNCaW5kS2V5ID8gdW5kZWZpbmVkIDogY3JlYXRlQ3RvcihmdW5jKTtcblxuICAgICAgZnVuY3Rpb24gd3JhcHBlcigpIHtcbiAgICAgICAgdmFyIGxlbmd0aCA9IGFyZ3VtZW50cy5sZW5ndGgsXG4gICAgICAgICAgICBhcmdzID0gQXJyYXkobGVuZ3RoKSxcbiAgICAgICAgICAgIGluZGV4ID0gbGVuZ3RoO1xuXG4gICAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSBhcmd1bWVudHNbaW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpc0N1cnJpZWQpIHtcbiAgICAgICAgICB2YXIgcGxhY2Vob2xkZXIgPSBnZXRIb2xkZXIod3JhcHBlciksXG4gICAgICAgICAgICAgIGhvbGRlcnNDb3VudCA9IGNvdW50SG9sZGVycyhhcmdzLCBwbGFjZWhvbGRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnRpYWxzKSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzKGFyZ3MsIHBhcnRpYWxzLCBob2xkZXJzLCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0aWFsc1JpZ2h0KSB7XG4gICAgICAgICAgYXJncyA9IGNvbXBvc2VBcmdzUmlnaHQoYXJncywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LCBpc0N1cnJpZWQpO1xuICAgICAgICB9XG4gICAgICAgIGxlbmd0aCAtPSBob2xkZXJzQ291bnQ7XG4gICAgICAgIGlmIChpc0N1cnJpZWQgJiYgbGVuZ3RoIDwgYXJpdHkpIHtcbiAgICAgICAgICB2YXIgbmV3SG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKGFyZ3MsIHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICByZXR1cm4gY3JlYXRlUmVjdXJyeShcbiAgICAgICAgICAgIGZ1bmMsIGJpdG1hc2ssIGNyZWF0ZUh5YnJpZCwgd3JhcHBlci5wbGFjZWhvbGRlciwgdGhpc0FyZyxcbiAgICAgICAgICAgIGFyZ3MsIG5ld0hvbGRlcnMsIGFyZ1BvcywgYXJ5LCBhcml0eSAtIGxlbmd0aFxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgdmFyIHRoaXNCaW5kaW5nID0gaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsXG4gICAgICAgICAgICBmbiA9IGlzQmluZEtleSA/IHRoaXNCaW5kaW5nW2Z1bmNdIDogZnVuYztcblxuICAgICAgICBsZW5ndGggPSBhcmdzLmxlbmd0aDtcbiAgICAgICAgaWYgKGFyZ1Bvcykge1xuICAgICAgICAgIGFyZ3MgPSByZW9yZGVyKGFyZ3MsIGFyZ1Bvcyk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNGbGlwICYmIGxlbmd0aCA+IDEpIHtcbiAgICAgICAgICBhcmdzLnJldmVyc2UoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNBcnkgJiYgYXJ5IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJncy5sZW5ndGggPSBhcnk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikge1xuICAgICAgICAgIGZuID0gQ3RvciB8fCBjcmVhdGVDdG9yKGZuKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZm4uYXBwbHkodGhpc0JpbmRpbmcsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8uaW52ZXJ0QnlgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBzZXR0ZXIgVGhlIGZ1bmN0aW9uIHRvIHNldCBhY2N1bXVsYXRvciB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdG9JdGVyYXRlZSBUaGUgZnVuY3Rpb24gdG8gcmVzb2x2ZSBpdGVyYXRlZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlSW52ZXJ0ZXIoc2V0dGVyLCB0b0l0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgICByZXR1cm4gYmFzZUludmVydGVyKG9iamVjdCwgc2V0dGVyLCB0b0l0ZXJhdGVlKGl0ZXJhdGVlKSwge30pO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIG1hdGhlbWF0aWNhbCBvcGVyYXRpb24gb24gdHdvIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gb3BlcmF0b3IgVGhlIGZ1bmN0aW9uIHRvIHBlcmZvcm0gdGhlIG9wZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2RlZmF1bHRWYWx1ZV0gVGhlIHZhbHVlIHVzZWQgZm9yIGB1bmRlZmluZWRgIGFyZ3VtZW50cy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtYXRoZW1hdGljYWwgb3BlcmF0aW9uIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZU1hdGhPcGVyYXRpb24ob3BlcmF0b3IsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICB2YXIgcmVzdWx0O1xuICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCAmJiBvdGhlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgcmV0dXJuIGRlZmF1bHRWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChvdGhlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaWYgKHJlc3VsdCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gb3RoZXI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YWx1ZSA9IGJhc2VUb1N0cmluZyh2YWx1ZSk7XG4gICAgICAgICAgICBvdGhlciA9IGJhc2VUb1N0cmluZyhvdGhlcik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHZhbHVlID0gYmFzZVRvTnVtYmVyKHZhbHVlKTtcbiAgICAgICAgICAgIG90aGVyID0gYmFzZVRvTnVtYmVyKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzdWx0ID0gb3BlcmF0b3IodmFsdWUsIG90aGVyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gbGlrZSBgXy5vdmVyYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXJyYXlGdW5jIFRoZSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgaXRlcmF0ZWVzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IG92ZXIgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlT3ZlcihhcnJheUZ1bmMpIHtcbiAgICAgIHJldHVybiBmbGF0UmVzdChmdW5jdGlvbihpdGVyYXRlZXMpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gYXJyYXlNYXAoaXRlcmF0ZWVzLCBiYXNlVW5hcnkoZ2V0SXRlcmF0ZWUoKSkpO1xuICAgICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICAgIHZhciB0aGlzQXJnID0gdGhpcztcbiAgICAgICAgICByZXR1cm4gYXJyYXlGdW5jKGl0ZXJhdGVlcywgZnVuY3Rpb24oaXRlcmF0ZWUpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdGhpc0FyZywgYXJncyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyB0aGUgcGFkZGluZyBmb3IgYHN0cmluZ2AgYmFzZWQgb24gYGxlbmd0aGAuIFRoZSBgY2hhcnNgIHN0cmluZ1xuICAgICAqIGlzIHRydW5jYXRlZCBpZiB0aGUgbnVtYmVyIG9mIGNoYXJhY3RlcnMgZXhjZWVkcyBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGxlbmd0aCBUaGUgcGFkZGluZyBsZW5ndGguXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz0nICddIFRoZSBzdHJpbmcgdXNlZCBhcyBwYWRkaW5nLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHBhZGRpbmcgZm9yIGBzdHJpbmdgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhZGRpbmcobGVuZ3RoLCBjaGFycykge1xuICAgICAgY2hhcnMgPSBjaGFycyA9PT0gdW5kZWZpbmVkID8gJyAnIDogYmFzZVRvU3RyaW5nKGNoYXJzKTtcblxuICAgICAgdmFyIGNoYXJzTGVuZ3RoID0gY2hhcnMubGVuZ3RoO1xuICAgICAgaWYgKGNoYXJzTGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gY2hhcnNMZW5ndGggPyBiYXNlUmVwZWF0KGNoYXJzLCBsZW5ndGgpIDogY2hhcnM7XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gYmFzZVJlcGVhdChjaGFycywgbmF0aXZlQ2VpbChsZW5ndGggLyBzdHJpbmdTaXplKGNoYXJzKSkpO1xuICAgICAgcmV0dXJuIGhhc1VuaWNvZGUoY2hhcnMpXG4gICAgICAgID8gY2FzdFNsaWNlKHN0cmluZ1RvQXJyYXkocmVzdWx0KSwgMCwgbGVuZ3RoKS5qb2luKCcnKVxuICAgICAgICA6IHJlc3VsdC5zbGljZSgwLCBsZW5ndGgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHdyYXBzIGBmdW5jYCB0byBpbnZva2UgaXQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmdcbiAgICAgKiBvZiBgdGhpc0FyZ2AgYW5kIGBwYXJ0aWFsc2AgcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0geyp9IHRoaXNBcmcgVGhlIGB0aGlzYCBiaW5kaW5nIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYXJ0aWFscyBUaGUgYXJndW1lbnRzIHRvIHByZXBlbmQgdG8gdGhvc2UgcHJvdmlkZWQgdG9cbiAgICAgKiAgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyB3cmFwcGVkIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNyZWF0ZVBhcnRpYWwoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMpIHtcbiAgICAgIHZhciBpc0JpbmQgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0ZMQUcsXG4gICAgICAgICAgQ3RvciA9IGNyZWF0ZUN0b3IoZnVuYyk7XG5cbiAgICAgIGZ1bmN0aW9uIHdyYXBwZXIoKSB7XG4gICAgICAgIHZhciBhcmdzSW5kZXggPSAtMSxcbiAgICAgICAgICAgIGFyZ3NMZW5ndGggPSBhcmd1bWVudHMubGVuZ3RoLFxuICAgICAgICAgICAgbGVmdEluZGV4ID0gLTEsXG4gICAgICAgICAgICBsZWZ0TGVuZ3RoID0gcGFydGlhbHMubGVuZ3RoLFxuICAgICAgICAgICAgYXJncyA9IEFycmF5KGxlZnRMZW5ndGggKyBhcmdzTGVuZ3RoKSxcbiAgICAgICAgICAgIGZuID0gKHRoaXMgJiYgdGhpcyAhPT0gcm9vdCAmJiB0aGlzIGluc3RhbmNlb2Ygd3JhcHBlcikgPyBDdG9yIDogZnVuYztcblxuICAgICAgICB3aGlsZSAoKytsZWZ0SW5kZXggPCBsZWZ0TGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXhdID0gcGFydGlhbHNbbGVmdEluZGV4XTtcbiAgICAgICAgfVxuICAgICAgICB3aGlsZSAoYXJnc0xlbmd0aC0tKSB7XG4gICAgICAgICAgYXJnc1tsZWZ0SW5kZXgrK10gPSBhcmd1bWVudHNbKythcmdzSW5kZXhdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcHBseShmbiwgaXNCaW5kID8gdGhpc0FyZyA6IHRoaXMsIGFyZ3MpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHdyYXBwZXI7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnJhbmdlYCBvciBgXy5yYW5nZVJpZ2h0YCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbZnJvbVJpZ2h0XSBTcGVjaWZ5IGl0ZXJhdGluZyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmFuZ2UgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmFuZ2UoZnJvbVJpZ2h0KSB7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oc3RhcnQsIGVuZCwgc3RlcCkge1xuICAgICAgICBpZiAoc3RlcCAmJiB0eXBlb2Ygc3RlcCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdGFydCwgZW5kLCBzdGVwKSkge1xuICAgICAgICAgIGVuZCA9IHN0ZXAgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRW5zdXJlIHRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAgICBzdGFydCA9IHRvRmluaXRlKHN0YXJ0KTtcbiAgICAgICAgaWYgKGVuZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgICAgc3RhcnQgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3RlcCA9IHN0ZXAgPT09IHVuZGVmaW5lZCA/IChzdGFydCA8IGVuZCA/IDEgOiAtMSkgOiB0b0Zpbml0ZShzdGVwKTtcbiAgICAgICAgcmV0dXJuIGJhc2VSYW5nZShzdGFydCwgZW5kLCBzdGVwLCBmcm9tUmlnaHQpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHJlbGF0aW9uYWwgb3BlcmF0aW9uIG9uIHR3byB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IG9wZXJhdG9yIFRoZSBmdW5jdGlvbiB0byBwZXJmb3JtIHRoZSBvcGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVsYXRpb25hbCBvcGVyYXRpb24gZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihvcGVyYXRvcikge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHZhbHVlLCBvdGhlcikge1xuICAgICAgICBpZiAoISh0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgJiYgdHlwZW9mIG90aGVyID09ICdzdHJpbmcnKSkge1xuICAgICAgICAgIHZhbHVlID0gdG9OdW1iZXIodmFsdWUpO1xuICAgICAgICAgIG90aGVyID0gdG9OdW1iZXIob3RoZXIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvcGVyYXRvcih2YWx1ZSwgb3RoZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCB3cmFwcyBgZnVuY2AgdG8gY29udGludWUgY3VycnlpbmcuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgY3JlYXRlV3JhcGAgZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSB3cmFwRnVuYyBUaGUgZnVuY3Rpb24gdG8gY3JlYXRlIHRoZSBgZnVuY2Agd3JhcHBlci5cbiAgICAgKiBAcGFyYW0geyp9IHBsYWNlaG9sZGVyIFRoZSBwbGFjZWhvbGRlciB2YWx1ZS5cbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBwcmVwZW5kIHRvIHRob3NlIHByb3ZpZGVkIHRvXG4gICAgICogIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2hvbGRlcnNdIFRoZSBgcGFydGlhbHNgIHBsYWNlaG9sZGVyIGluZGV4ZXMuXG4gICAgICogQHBhcmFtIHtBcnJheX0gW2FyZ1Bvc10gVGhlIGFyZ3VtZW50IHBvc2l0aW9ucyBvZiB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJ5XSBUaGUgYXJpdHkgY2FwIG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5XSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHdyYXBwZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlUmVjdXJyeShmdW5jLCBiaXRtYXNrLCB3cmFwRnVuYywgcGxhY2Vob2xkZXIsIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0N1cnJ5ID0gYml0bWFzayAmIFdSQVBfQ1VSUllfRkxBRyxcbiAgICAgICAgICBuZXdIb2xkZXJzID0gaXNDdXJyeSA/IGhvbGRlcnMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3SG9sZGVyc1JpZ2h0ID0gaXNDdXJyeSA/IHVuZGVmaW5lZCA6IGhvbGRlcnMsXG4gICAgICAgICAgbmV3UGFydGlhbHMgPSBpc0N1cnJ5ID8gcGFydGlhbHMgOiB1bmRlZmluZWQsXG4gICAgICAgICAgbmV3UGFydGlhbHNSaWdodCA9IGlzQ3VycnkgPyB1bmRlZmluZWQgOiBwYXJ0aWFscztcblxuICAgICAgYml0bWFzayB8PSAoaXNDdXJyeSA/IFdSQVBfUEFSVElBTF9GTEFHIDogV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgYml0bWFzayAmPSB+KGlzQ3VycnkgPyBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRyA6IFdSQVBfUEFSVElBTF9GTEFHKTtcblxuICAgICAgaWYgKCEoYml0bWFzayAmIFdSQVBfQ1VSUllfQk9VTkRfRkxBRykpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfQklORF9GTEFHIHwgV1JBUF9CSU5EX0tFWV9GTEFHKTtcbiAgICAgIH1cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBuZXdQYXJ0aWFscywgbmV3SG9sZGVycywgbmV3UGFydGlhbHNSaWdodCxcbiAgICAgICAgbmV3SG9sZGVyc1JpZ2h0LCBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIHZhciByZXN1bHQgPSB3cmFwRnVuYy5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgaWYgKGlzTGF6aWFibGUoZnVuYykpIHtcbiAgICAgICAgc2V0RGF0YShyZXN1bHQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgcmVzdWx0LnBsYWNlaG9sZGVyID0gcGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHJlc3VsdCwgZnVuYywgYml0bWFzayk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIGxpa2UgYF8ucm91bmRgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gbWV0aG9kTmFtZSBUaGUgbmFtZSBvZiB0aGUgYE1hdGhgIG1ldGhvZCB0byB1c2Ugd2hlbiByb3VuZGluZy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByb3VuZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVSb3VuZChtZXRob2ROYW1lKSB7XG4gICAgICB2YXIgZnVuYyA9IE1hdGhbbWV0aG9kTmFtZV07XG4gICAgICByZXR1cm4gZnVuY3Rpb24obnVtYmVyLCBwcmVjaXNpb24pIHtcbiAgICAgICAgbnVtYmVyID0gdG9OdW1iZXIobnVtYmVyKTtcbiAgICAgICAgcHJlY2lzaW9uID0gcHJlY2lzaW9uID09IG51bGwgPyAwIDogbmF0aXZlTWluKHRvSW50ZWdlcihwcmVjaXNpb24pLCAyOTIpO1xuICAgICAgICBpZiAocHJlY2lzaW9uICYmIG5hdGl2ZUlzRmluaXRlKG51bWJlcikpIHtcbiAgICAgICAgICAvLyBTaGlmdCB3aXRoIGV4cG9uZW50aWFsIG5vdGF0aW9uIHRvIGF2b2lkIGZsb2F0aW5nLXBvaW50IGlzc3Vlcy5cbiAgICAgICAgICAvLyBTZWUgW01ETl0oaHR0cHM6Ly9tZG4uaW8vcm91bmQjRXhhbXBsZXMpIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICAgICAgdmFyIHBhaXIgPSAodG9TdHJpbmcobnVtYmVyKSArICdlJykuc3BsaXQoJ2UnKSxcbiAgICAgICAgICAgICAgdmFsdWUgPSBmdW5jKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gKyBwcmVjaXNpb24pKTtcblxuICAgICAgICAgIHBhaXIgPSAodG9TdHJpbmcodmFsdWUpICsgJ2UnKS5zcGxpdCgnZScpO1xuICAgICAgICAgIHJldHVybiArKHBhaXJbMF0gKyAnZScgKyAoK3BhaXJbMV0gLSBwcmVjaXNpb24pKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYyhudW1iZXIpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2V0IG9iamVjdCBvZiBgdmFsdWVzYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gdmFsdWVzIFRoZSB2YWx1ZXMgdG8gYWRkIHRvIHRoZSBzZXQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IHNldC5cbiAgICAgKi9cbiAgICB2YXIgY3JlYXRlU2V0ID0gIShTZXQgJiYgKDEgLyBzZXRUb0FycmF5KG5ldyBTZXQoWywtMF0pKVsxXSkgPT0gSU5GSU5JVFkpID8gbm9vcCA6IGZ1bmN0aW9uKHZhbHVlcykge1xuICAgICAgcmV0dXJuIG5ldyBTZXQodmFsdWVzKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBfLnRvUGFpcnNgIG9yIGBfLnRvUGFpcnNJbmAgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGtleXNGdW5jIFRoZSBmdW5jdGlvbiB0byBnZXQgdGhlIGtleXMgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFpcnMgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlVG9QYWlycyhrZXlzRnVuYykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICB2YXIgdGFnID0gZ2V0VGFnKG9iamVjdCk7XG4gICAgICAgIGlmICh0YWcgPT0gbWFwVGFnKSB7XG4gICAgICAgICAgcmV0dXJuIG1hcFRvQXJyYXkob2JqZWN0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGFnID09IHNldFRhZykge1xuICAgICAgICAgIHJldHVybiBzZXRUb1BhaXJzKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGJhc2VUb1BhaXJzKG9iamVjdCwga2V5c0Z1bmMob2JqZWN0KSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGVpdGhlciBjdXJyaWVzIG9yIGludm9rZXMgYGZ1bmNgIHdpdGggb3B0aW9uYWxcbiAgICAgKiBgdGhpc2AgYmluZGluZyBhbmQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufHN0cmluZ30gZnVuYyBUaGUgZnVuY3Rpb24gb3IgbWV0aG9kIG5hbWUgdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy5cbiAgICAgKiAgICAxIC0gYF8uYmluZGBcbiAgICAgKiAgICAyIC0gYF8uYmluZEtleWBcbiAgICAgKiAgICA0IC0gYF8uY3VycnlgIG9yIGBfLmN1cnJ5UmlnaHRgIG9mIGEgYm91bmQgZnVuY3Rpb25cbiAgICAgKiAgICA4IC0gYF8uY3VycnlgXG4gICAgICogICAxNiAtIGBfLmN1cnJ5UmlnaHRgXG4gICAgICogICAzMiAtIGBfLnBhcnRpYWxgXG4gICAgICogICA2NCAtIGBfLnBhcnRpYWxSaWdodGBcbiAgICAgKiAgMTI4IC0gYF8ucmVhcmdgXG4gICAgICogIDI1NiAtIGBfLmFyeWBcbiAgICAgKiAgNTEyIC0gYF8uZmxpcGBcbiAgICAgKiBAcGFyYW0geyp9IFt0aGlzQXJnXSBUaGUgYHRoaXNgIGJpbmRpbmcgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbaG9sZGVyc10gVGhlIGBwYXJ0aWFsc2AgcGxhY2Vob2xkZXIgaW5kZXhlcy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBbYXJnUG9zXSBUaGUgYXJndW1lbnQgcG9zaXRpb25zIG9mIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcnldIFRoZSBhcml0eSBjYXAgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbYXJpdHldIFRoZSBhcml0eSBvZiBgZnVuY2AuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgd3JhcHBlZCBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjcmVhdGVXcmFwKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzLCBob2xkZXJzLCBhcmdQb3MsIGFyeSwgYXJpdHkpIHtcbiAgICAgIHZhciBpc0JpbmRLZXkgPSBiaXRtYXNrICYgV1JBUF9CSU5EX0tFWV9GTEFHO1xuICAgICAgaWYgKCFpc0JpbmRLZXkgJiYgdHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gcGFydGlhbHMgPyBwYXJ0aWFscy5sZW5ndGggOiAwO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgYml0bWFzayAmPSB+KFdSQVBfUEFSVElBTF9GTEFHIHwgV1JBUF9QQVJUSUFMX1JJR0hUX0ZMQUcpO1xuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBhcnkgPSBhcnkgPT09IHVuZGVmaW5lZCA/IGFyeSA6IG5hdGl2ZU1heCh0b0ludGVnZXIoYXJ5KSwgMCk7XG4gICAgICBhcml0eSA9IGFyaXR5ID09PSB1bmRlZmluZWQgPyBhcml0eSA6IHRvSW50ZWdlcihhcml0eSk7XG4gICAgICBsZW5ndGggLT0gaG9sZGVycyA/IGhvbGRlcnMubGVuZ3RoIDogMDtcblxuICAgICAgaWYgKGJpdG1hc2sgJiBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRykge1xuICAgICAgICB2YXIgcGFydGlhbHNSaWdodCA9IHBhcnRpYWxzLFxuICAgICAgICAgICAgaG9sZGVyc1JpZ2h0ID0gaG9sZGVycztcblxuICAgICAgICBwYXJ0aWFscyA9IGhvbGRlcnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGlzQmluZEtleSA/IHVuZGVmaW5lZCA6IGdldERhdGEoZnVuYyk7XG5cbiAgICAgIHZhciBuZXdEYXRhID0gW1xuICAgICAgICBmdW5jLCBiaXRtYXNrLCB0aGlzQXJnLCBwYXJ0aWFscywgaG9sZGVycywgcGFydGlhbHNSaWdodCwgaG9sZGVyc1JpZ2h0LFxuICAgICAgICBhcmdQb3MsIGFyeSwgYXJpdHlcbiAgICAgIF07XG5cbiAgICAgIGlmIChkYXRhKSB7XG4gICAgICAgIG1lcmdlRGF0YShuZXdEYXRhLCBkYXRhKTtcbiAgICAgIH1cbiAgICAgIGZ1bmMgPSBuZXdEYXRhWzBdO1xuICAgICAgYml0bWFzayA9IG5ld0RhdGFbMV07XG4gICAgICB0aGlzQXJnID0gbmV3RGF0YVsyXTtcbiAgICAgIHBhcnRpYWxzID0gbmV3RGF0YVszXTtcbiAgICAgIGhvbGRlcnMgPSBuZXdEYXRhWzRdO1xuICAgICAgYXJpdHkgPSBuZXdEYXRhWzldID0gbmV3RGF0YVs5XSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKGlzQmluZEtleSA/IDAgOiBmdW5jLmxlbmd0aClcbiAgICAgICAgOiBuYXRpdmVNYXgobmV3RGF0YVs5XSAtIGxlbmd0aCwgMCk7XG5cbiAgICAgIGlmICghYXJpdHkgJiYgYml0bWFzayAmIChXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpKSB7XG4gICAgICAgIGJpdG1hc2sgJj0gfihXUkFQX0NVUlJZX0ZMQUcgfCBXUkFQX0NVUlJZX1JJR0hUX0ZMQUcpO1xuICAgICAgfVxuICAgICAgaWYgKCFiaXRtYXNrIHx8IGJpdG1hc2sgPT0gV1JBUF9CSU5EX0ZMQUcpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IGNyZWF0ZUJpbmQoZnVuYywgYml0bWFzaywgdGhpc0FyZyk7XG4gICAgICB9IGVsc2UgaWYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHIHx8IGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9SSUdIVF9GTEFHKSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUN1cnJ5KGZ1bmMsIGJpdG1hc2ssIGFyaXR5KTtcbiAgICAgIH0gZWxzZSBpZiAoKGJpdG1hc2sgPT0gV1JBUF9QQVJUSUFMX0ZMQUcgfHwgYml0bWFzayA9PSAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX1BBUlRJQUxfRkxBRykpICYmICFob2xkZXJzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQgPSBjcmVhdGVQYXJ0aWFsKGZ1bmMsIGJpdG1hc2ssIHRoaXNBcmcsIHBhcnRpYWxzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdCA9IGNyZWF0ZUh5YnJpZC5hcHBseSh1bmRlZmluZWQsIG5ld0RhdGEpO1xuICAgICAgfVxuICAgICAgdmFyIHNldHRlciA9IGRhdGEgPyBiYXNlU2V0RGF0YSA6IHNldERhdGE7XG4gICAgICByZXR1cm4gc2V0V3JhcFRvU3RyaW5nKHNldHRlcihyZXN1bHQsIG5ld0RhdGEpLCBmdW5jLCBiaXRtYXNrKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVc2VkIGJ5IGBfLmRlZmF1bHRzYCB0byBjdXN0b21pemUgaXRzIGBfLmFzc2lnbkluYCB1c2UgdG8gYXNzaWduIHByb3BlcnRpZXNcbiAgICAgKiBvZiBzb3VyY2Ugb2JqZWN0cyB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0IGZvciBhbGwgZGVzdGluYXRpb24gcHJvcGVydGllc1xuICAgICAqIHRoYXQgcmVzb2x2ZSB0byBgdW5kZWZpbmVkYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSBvYmpWYWx1ZSBUaGUgZGVzdGluYXRpb24gdmFsdWUuXG4gICAgICogQHBhcmFtIHsqfSBzcmNWYWx1ZSBUaGUgc291cmNlIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIGtleSBvZiB0aGUgcHJvcGVydHkgdG8gYXNzaWduLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgdmFsdWUgdG8gYXNzaWduLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGN1c3RvbURlZmF1bHRzQXNzaWduSW4ob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgaWYgKG9ialZhbHVlID09PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAoZXEob2JqVmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgcmV0dXJuIHNyY1ZhbHVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8uZGVmYXVsdHNEZWVwYCB0byBjdXN0b21pemUgaXRzIGBfLm1lcmdlYCB1c2UgdG8gbWVyZ2Ugc291cmNlXG4gICAgICogb2JqZWN0cyBpbnRvIGRlc3RpbmF0aW9uIG9iamVjdHMgdGhhdCBhcmUgcGFzc2VkIHRocnUuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gb2JqVmFsdWUgVGhlIGRlc3RpbmF0aW9uIHZhbHVlLlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHNvdXJjZSB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIG1lcmdlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIHBhcmVudCBvYmplY3Qgb2YgYG9ialZhbHVlYC5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBwYXJlbnQgb2JqZWN0IG9mIGBzcmNWYWx1ZWAuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtzdGFja10gVHJhY2tzIHRyYXZlcnNlZCBzb3VyY2UgdmFsdWVzIGFuZCB0aGVpciBtZXJnZWRcbiAgICAgKiAgY291bnRlcnBhcnRzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSB2YWx1ZSB0byBhc3NpZ24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VzdG9tRGVmYXVsdHNNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKSB7XG4gICAgICBpZiAoaXNPYmplY3Qob2JqVmFsdWUpICYmIGlzT2JqZWN0KHNyY1ZhbHVlKSkge1xuICAgICAgICAvLyBSZWN1cnNpdmVseSBtZXJnZSBvYmplY3RzIGFuZCBhcnJheXMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgc3RhY2suc2V0KHNyY1ZhbHVlLCBvYmpWYWx1ZSk7XG4gICAgICAgIGJhc2VNZXJnZShvYmpWYWx1ZSwgc3JjVmFsdWUsIHVuZGVmaW5lZCwgY3VzdG9tRGVmYXVsdHNNZXJnZSwgc3RhY2spO1xuICAgICAgICBzdGFja1snZGVsZXRlJ10oc3JjVmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9ialZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZWQgYnkgYF8ub21pdGAgdG8gY3VzdG9taXplIGl0cyBgXy5jbG9uZURlZXBgIHVzZSB0byBvbmx5IGNsb25lIHBsYWluXG4gICAgICogb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHVuY2xvbmVkIHZhbHVlIG9yIGB1bmRlZmluZWRgIHRvIGRlZmVyIGNsb25pbmcgdG8gYF8uY2xvbmVEZWVwYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXN0b21PbWl0Q2xvbmUodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc1BsYWluT2JqZWN0KHZhbHVlKSA/IHVuZGVmaW5lZCA6IHZhbHVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgYmFzZUlzRXF1YWxEZWVwYCBmb3IgYXJyYXlzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IG90aGVyIFRoZSBvdGhlciBhcnJheSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGJhc2VJc0VxdWFsYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGN1c3RvbWl6ZXIgVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBlcXVhbEZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRldGVybWluZSBlcXVpdmFsZW50cyBvZiB2YWx1ZXMuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHN0YWNrIFRyYWNrcyB0cmF2ZXJzZWQgYGFycmF5YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgYXJyYXlzIGFyZSBlcXVpdmFsZW50LCBlbHNlIGBmYWxzZWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZXF1YWxBcnJheXMoYXJyYXksIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIGFyckxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBvdGhMZW5ndGggPSBvdGhlci5sZW5ndGg7XG5cbiAgICAgIGlmIChhcnJMZW5ndGggIT0gb3RoTGVuZ3RoICYmICEoaXNQYXJ0aWFsICYmIG90aExlbmd0aCA+IGFyckxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBhcnJTdGFja2VkID0gc3RhY2suZ2V0KGFycmF5KTtcbiAgICAgIHZhciBvdGhTdGFja2VkID0gc3RhY2suZ2V0KG90aGVyKTtcbiAgICAgIGlmIChhcnJTdGFja2VkICYmIG90aFN0YWNrZWQpIHtcbiAgICAgICAgcmV0dXJuIGFyclN0YWNrZWQgPT0gb3RoZXIgJiYgb3RoU3RhY2tlZCA9PSBhcnJheTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIHJlc3VsdCA9IHRydWUsXG4gICAgICAgICAgc2VlbiA9IChiaXRtYXNrICYgQ09NUEFSRV9VTk9SREVSRURfRkxBRykgPyBuZXcgU2V0Q2FjaGUgOiB1bmRlZmluZWQ7XG5cbiAgICAgIHN0YWNrLnNldChhcnJheSwgb3RoZXIpO1xuICAgICAgc3RhY2suc2V0KG90aGVyLCBhcnJheSk7XG5cbiAgICAgIC8vIElnbm9yZSBub24taW5kZXggcHJvcGVydGllcy5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgYXJyTGVuZ3RoKSB7XG4gICAgICAgIHZhciBhcnJWYWx1ZSA9IGFycmF5W2luZGV4XSxcbiAgICAgICAgICAgIG90aFZhbHVlID0gb3RoZXJbaW5kZXhdO1xuXG4gICAgICAgIGlmIChjdXN0b21pemVyKSB7XG4gICAgICAgICAgdmFyIGNvbXBhcmVkID0gaXNQYXJ0aWFsXG4gICAgICAgICAgICA/IGN1c3RvbWl6ZXIob3RoVmFsdWUsIGFyclZhbHVlLCBpbmRleCwgb3RoZXIsIGFycmF5LCBzdGFjaylcbiAgICAgICAgICAgIDogY3VzdG9taXplcihhcnJWYWx1ZSwgb3RoVmFsdWUsIGluZGV4LCBhcnJheSwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29tcGFyZWQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmIChjb21wYXJlZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIC8vIFJlY3Vyc2l2ZWx5IGNvbXBhcmUgYXJyYXlzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgIGlmIChzZWVuKSB7XG4gICAgICAgICAgaWYgKCFhcnJheVNvbWUob3RoZXIsIGZ1bmN0aW9uKG90aFZhbHVlLCBvdGhJbmRleCkge1xuICAgICAgICAgICAgICAgIGlmICghY2FjaGVIYXMoc2Vlbiwgb3RoSW5kZXgpICYmXG4gICAgICAgICAgICAgICAgICAgIChhcnJWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlZW4ucHVzaChvdGhJbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSkge1xuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoIShcbiAgICAgICAgICAgICAgYXJyVmFsdWUgPT09IG90aFZhbHVlIHx8XG4gICAgICAgICAgICAgICAgZXF1YWxGdW5jKGFyclZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShhcnJheSk7XG4gICAgICBzdGFja1snZGVsZXRlJ10ob3RoZXIpO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYGJhc2VJc0VxdWFsRGVlcGAgZm9yIGNvbXBhcmluZyBvYmplY3RzIG9mXG4gICAgICogdGhlIHNhbWUgYHRvU3RyaW5nVGFnYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIGZ1bmN0aW9uIG9ubHkgc3VwcG9ydHMgY29tcGFyaW5nIHZhbHVlcyB3aXRoIHRhZ3Mgb2ZcbiAgICAgKiBgQm9vbGVhbmAsIGBEYXRlYCwgYEVycm9yYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBvciBgU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG90aGVyIFRoZSBvdGhlciBvYmplY3QgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3RzIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsQnlUYWcob2JqZWN0LCBvdGhlciwgdGFnLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICBzd2l0Y2ggKHRhZykge1xuICAgICAgICBjYXNlIGRhdGFWaWV3VGFnOlxuICAgICAgICAgIGlmICgob2JqZWN0LmJ5dGVMZW5ndGggIT0gb3RoZXIuYnl0ZUxlbmd0aCkgfHxcbiAgICAgICAgICAgICAgKG9iamVjdC5ieXRlT2Zmc2V0ICE9IG90aGVyLmJ5dGVPZmZzZXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdCA9IG9iamVjdC5idWZmZXI7XG4gICAgICAgICAgb3RoZXIgPSBvdGhlci5idWZmZXI7XG5cbiAgICAgICAgY2FzZSBhcnJheUJ1ZmZlclRhZzpcbiAgICAgICAgICBpZiAoKG9iamVjdC5ieXRlTGVuZ3RoICE9IG90aGVyLmJ5dGVMZW5ndGgpIHx8XG4gICAgICAgICAgICAgICFlcXVhbEZ1bmMobmV3IFVpbnQ4QXJyYXkob2JqZWN0KSwgbmV3IFVpbnQ4QXJyYXkob3RoZXIpKSkge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIGJvb2xlYW5zIHRvIGAxYCBvciBgMGAgYW5kIGRhdGVzIHRvIG1pbGxpc2Vjb25kcy5cbiAgICAgICAgICAvLyBJbnZhbGlkIGRhdGVzIGFyZSBjb2VyY2VkIHRvIGBOYU5gLlxuICAgICAgICAgIHJldHVybiBlcSgrb2JqZWN0LCArb3RoZXIpO1xuXG4gICAgICAgIGNhc2UgZXJyb3JUYWc6XG4gICAgICAgICAgcmV0dXJuIG9iamVjdC5uYW1lID09IG90aGVyLm5hbWUgJiYgb2JqZWN0Lm1lc3NhZ2UgPT0gb3RoZXIubWVzc2FnZTtcblxuICAgICAgICBjYXNlIHJlZ2V4cFRhZzpcbiAgICAgICAgY2FzZSBzdHJpbmdUYWc6XG4gICAgICAgICAgLy8gQ29lcmNlIHJlZ2V4ZXMgdG8gc3RyaW5ncyBhbmQgdHJlYXQgc3RyaW5ncywgcHJpbWl0aXZlcyBhbmQgb2JqZWN0cyxcbiAgICAgICAgICAvLyBhcyBlcXVhbC4gU2VlIGh0dHA6Ly93d3cuZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1yZWdleHAucHJvdG90eXBlLnRvc3RyaW5nXG4gICAgICAgICAgLy8gZm9yIG1vcmUgZGV0YWlscy5cbiAgICAgICAgICByZXR1cm4gb2JqZWN0ID09IChvdGhlciArICcnKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICB2YXIgY29udmVydCA9IG1hcFRvQXJyYXk7XG5cbiAgICAgICAgY2FzZSBzZXRUYWc6XG4gICAgICAgICAgdmFyIGlzUGFydGlhbCA9IGJpdG1hc2sgJiBDT01QQVJFX1BBUlRJQUxfRkxBRztcbiAgICAgICAgICBjb252ZXJ0IHx8IChjb252ZXJ0ID0gc2V0VG9BcnJheSk7XG5cbiAgICAgICAgICBpZiAob2JqZWN0LnNpemUgIT0gb3RoZXIuc2l6ZSAmJiAhaXNQYXJ0aWFsKSB7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgfVxuICAgICAgICAgIC8vIEFzc3VtZSBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgICAgICB2YXIgc3RhY2tlZCA9IHN0YWNrLmdldChvYmplY3QpO1xuICAgICAgICAgIGlmIChzdGFja2VkKSB7XG4gICAgICAgICAgICByZXR1cm4gc3RhY2tlZCA9PSBvdGhlcjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYml0bWFzayB8PSBDT01QQVJFX1VOT1JERVJFRF9GTEFHO1xuXG4gICAgICAgICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIChzdXNjZXB0aWJsZSB0byBjYWxsIHN0YWNrIGxpbWl0cykuXG4gICAgICAgICAgc3RhY2suc2V0KG9iamVjdCwgb3RoZXIpO1xuICAgICAgICAgIHZhciByZXN1bHQgPSBlcXVhbEFycmF5cyhjb252ZXJ0KG9iamVjdCksIGNvbnZlcnQob3RoZXIpLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKTtcbiAgICAgICAgICBzdGFja1snZGVsZXRlJ10ob2JqZWN0KTtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuXG4gICAgICAgIGNhc2Ugc3ltYm9sVGFnOlxuICAgICAgICAgIGlmIChzeW1ib2xWYWx1ZU9mKSB7XG4gICAgICAgICAgICByZXR1cm4gc3ltYm9sVmFsdWVPZi5jYWxsKG9iamVjdCkgPT0gc3ltYm9sVmFsdWVPZi5jYWxsKG90aGVyKTtcbiAgICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlSXNFcXVhbERlZXBgIGZvciBvYmplY3RzIHdpdGggc3VwcG9ydCBmb3JcbiAgICAgKiBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvdGhlciBUaGUgb3RoZXIgb2JqZWN0IHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGJpdG1hc2sgVGhlIGJpdG1hc2sgZmxhZ3MuIFNlZSBgYmFzZUlzRXF1YWxgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGNvbXBhcmlzb25zLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGVxdWFsRnVuYyBUaGUgZnVuY3Rpb24gdG8gZGV0ZXJtaW5lIGVxdWl2YWxlbnRzIG9mIHZhbHVlcy5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc3RhY2sgVHJhY2tzIHRyYXZlcnNlZCBgb2JqZWN0YCBhbmQgYG90aGVyYCBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiB0aGUgb2JqZWN0cyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVxdWFsT2JqZWN0cyhvYmplY3QsIG90aGVyLCBiaXRtYXNrLCBjdXN0b21pemVyLCBlcXVhbEZ1bmMsIHN0YWNrKSB7XG4gICAgICB2YXIgaXNQYXJ0aWFsID0gYml0bWFzayAmIENPTVBBUkVfUEFSVElBTF9GTEFHLFxuICAgICAgICAgIG9ialByb3BzID0gZ2V0QWxsS2V5cyhvYmplY3QpLFxuICAgICAgICAgIG9iakxlbmd0aCA9IG9ialByb3BzLmxlbmd0aCxcbiAgICAgICAgICBvdGhQcm9wcyA9IGdldEFsbEtleXMob3RoZXIpLFxuICAgICAgICAgIG90aExlbmd0aCA9IG90aFByb3BzLmxlbmd0aDtcblxuICAgICAgaWYgKG9iakxlbmd0aCAhPSBvdGhMZW5ndGggJiYgIWlzUGFydGlhbCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBvYmpMZW5ndGg7XG4gICAgICB3aGlsZSAoaW5kZXgtLSkge1xuICAgICAgICB2YXIga2V5ID0gb2JqUHJvcHNbaW5kZXhdO1xuICAgICAgICBpZiAoIShpc1BhcnRpYWwgPyBrZXkgaW4gb3RoZXIgOiBoYXNPd25Qcm9wZXJ0eS5jYWxsKG90aGVyLCBrZXkpKSkge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgLy8gQ2hlY2sgdGhhdCBjeWNsaWMgdmFsdWVzIGFyZSBlcXVhbC5cbiAgICAgIHZhciBvYmpTdGFja2VkID0gc3RhY2suZ2V0KG9iamVjdCk7XG4gICAgICB2YXIgb3RoU3RhY2tlZCA9IHN0YWNrLmdldChvdGhlcik7XG4gICAgICBpZiAob2JqU3RhY2tlZCAmJiBvdGhTdGFja2VkKSB7XG4gICAgICAgIHJldHVybiBvYmpTdGFja2VkID09IG90aGVyICYmIG90aFN0YWNrZWQgPT0gb2JqZWN0O1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHRydWU7XG4gICAgICBzdGFjay5zZXQob2JqZWN0LCBvdGhlcik7XG4gICAgICBzdGFjay5zZXQob3RoZXIsIG9iamVjdCk7XG5cbiAgICAgIHZhciBza2lwQ3RvciA9IGlzUGFydGlhbDtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgb2JqTGVuZ3RoKSB7XG4gICAgICAgIGtleSA9IG9ialByb3BzW2luZGV4XTtcbiAgICAgICAgdmFyIG9ialZhbHVlID0gb2JqZWN0W2tleV0sXG4gICAgICAgICAgICBvdGhWYWx1ZSA9IG90aGVyW2tleV07XG5cbiAgICAgICAgaWYgKGN1c3RvbWl6ZXIpIHtcbiAgICAgICAgICB2YXIgY29tcGFyZWQgPSBpc1BhcnRpYWxcbiAgICAgICAgICAgID8gY3VzdG9taXplcihvdGhWYWx1ZSwgb2JqVmFsdWUsIGtleSwgb3RoZXIsIG9iamVjdCwgc3RhY2spXG4gICAgICAgICAgICA6IGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlLCBrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBSZWN1cnNpdmVseSBjb21wYXJlIG9iamVjdHMgKHN1c2NlcHRpYmxlIHRvIGNhbGwgc3RhY2sgbGltaXRzKS5cbiAgICAgICAgaWYgKCEoY29tcGFyZWQgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgICA/IChvYmpWYWx1ZSA9PT0gb3RoVmFsdWUgfHwgZXF1YWxGdW5jKG9ialZhbHVlLCBvdGhWYWx1ZSwgYml0bWFzaywgY3VzdG9taXplciwgc3RhY2spKVxuICAgICAgICAgICAgICA6IGNvbXBhcmVkXG4gICAgICAgICAgICApKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgc2tpcEN0b3IgfHwgKHNraXBDdG9yID0ga2V5ID09ICdjb25zdHJ1Y3RvcicpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCAmJiAhc2tpcEN0b3IpIHtcbiAgICAgICAgdmFyIG9iakN0b3IgPSBvYmplY3QuY29uc3RydWN0b3IsXG4gICAgICAgICAgICBvdGhDdG9yID0gb3RoZXIuY29uc3RydWN0b3I7XG5cbiAgICAgICAgLy8gTm9uIGBPYmplY3RgIG9iamVjdCBpbnN0YW5jZXMgd2l0aCBkaWZmZXJlbnQgY29uc3RydWN0b3JzIGFyZSBub3QgZXF1YWwuXG4gICAgICAgIGlmIChvYmpDdG9yICE9IG90aEN0b3IgJiZcbiAgICAgICAgICAgICgnY29uc3RydWN0b3InIGluIG9iamVjdCAmJiAnY29uc3RydWN0b3InIGluIG90aGVyKSAmJlxuICAgICAgICAgICAgISh0eXBlb2Ygb2JqQ3RvciA9PSAnZnVuY3Rpb24nICYmIG9iakN0b3IgaW5zdGFuY2VvZiBvYmpDdG9yICYmXG4gICAgICAgICAgICAgIHR5cGVvZiBvdGhDdG9yID09ICdmdW5jdGlvbicgJiYgb3RoQ3RvciBpbnN0YW5jZW9mIG90aEN0b3IpKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHN0YWNrWydkZWxldGUnXShvYmplY3QpO1xuICAgICAgc3RhY2tbJ2RlbGV0ZSddKG90aGVyKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggZmxhdHRlbnMgdGhlIHJlc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdFJlc3QoZnVuYykge1xuICAgICAgcmV0dXJuIHNldFRvU3RyaW5nKG92ZXJSZXN0KGZ1bmMsIHVuZGVmaW5lZCwgZmxhdHRlbiksIGZ1bmMgKyAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMgYW5kIHN5bWJvbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0QWxsS2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBiYXNlR2V0QWxsS2V5cyhvYmplY3QsIGtleXMsIGdldFN5bWJvbHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBuYW1lcyBhbmRcbiAgICAgKiBzeW1ib2xzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcyBhbmQgc3ltYm9scy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXRBbGxLZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gYmFzZUdldEFsbEtleXMob2JqZWN0LCBrZXlzSW4sIGdldFN5bWJvbHNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBtZXRhZGF0YSBmb3IgYGZ1bmNgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgZ2V0RGF0YSA9ICFtZXRhTWFwID8gbm9vcCA6IGZ1bmN0aW9uKGZ1bmMpIHtcbiAgICAgIHJldHVybiBtZXRhTWFwLmdldChmdW5jKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmFtZSBvZiBgZnVuY2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0RnVuY05hbWUoZnVuYykge1xuICAgICAgdmFyIHJlc3VsdCA9IChmdW5jLm5hbWUgKyAnJyksXG4gICAgICAgICAgYXJyYXkgPSByZWFsTmFtZXNbcmVzdWx0XSxcbiAgICAgICAgICBsZW5ndGggPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlYWxOYW1lcywgcmVzdWx0KSA/IGFycmF5Lmxlbmd0aCA6IDA7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgZGF0YSA9IGFycmF5W2xlbmd0aF0sXG4gICAgICAgICAgICBvdGhlckZ1bmMgPSBkYXRhLmZ1bmM7XG4gICAgICAgIGlmIChvdGhlckZ1bmMgPT0gbnVsbCB8fCBvdGhlckZ1bmMgPT0gZnVuYykge1xuICAgICAgICAgIHJldHVybiBkYXRhLm5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgYXJndW1lbnQgcGxhY2Vob2xkZXIgdmFsdWUgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGxhY2Vob2xkZXIgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SG9sZGVyKGZ1bmMpIHtcbiAgICAgIHZhciBvYmplY3QgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaCwgJ3BsYWNlaG9sZGVyJykgPyBsb2Rhc2ggOiBmdW5jO1xuICAgICAgcmV0dXJuIG9iamVjdC5wbGFjZWhvbGRlcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBhcHByb3ByaWF0ZSBcIml0ZXJhdGVlXCIgZnVuY3Rpb24uIElmIGBfLml0ZXJhdGVlYCBpcyBjdXN0b21pemVkLFxuICAgICAqIHRoaXMgZnVuY3Rpb24gcmV0dXJucyB0aGUgY3VzdG9tIG1ldGhvZCwgb3RoZXJ3aXNlIGl0IHJldHVybnMgYGJhc2VJdGVyYXRlZWAuXG4gICAgICogSWYgYXJndW1lbnRzIGFyZSBwcm92aWRlZCwgdGhlIGNob3NlbiBmdW5jdGlvbiBpcyBpbnZva2VkIHdpdGggdGhlbSBhbmRcbiAgICAgKiBpdHMgcmVzdWx0IGlzIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IFt2YWx1ZV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYW4gaXRlcmF0ZWUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eV0gVGhlIGFyaXR5IG9mIHRoZSBjcmVhdGVkIGl0ZXJhdGVlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgY2hvc2VuIGZ1bmN0aW9uIG9yIGl0cyByZXN1bHQuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0SXRlcmF0ZWUoKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoLml0ZXJhdGVlIHx8IGl0ZXJhdGVlO1xuICAgICAgcmVzdWx0ID0gcmVzdWx0ID09PSBpdGVyYXRlZSA/IGJhc2VJdGVyYXRlZSA6IHJlc3VsdDtcbiAgICAgIHJldHVybiBhcmd1bWVudHMubGVuZ3RoID8gcmVzdWx0KGFyZ3VtZW50c1swXSwgYXJndW1lbnRzWzFdKSA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBkYXRhIGZvciBgbWFwYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG1hcCBUaGUgbWFwIHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBrZXkgVGhlIHJlZmVyZW5jZSBrZXkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hcCBkYXRhLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldE1hcERhdGEobWFwLCBrZXkpIHtcbiAgICAgIHZhciBkYXRhID0gbWFwLl9fZGF0YV9fO1xuICAgICAgcmV0dXJuIGlzS2V5YWJsZShrZXkpXG4gICAgICAgID8gZGF0YVt0eXBlb2Yga2V5ID09ICdzdHJpbmcnID8gJ3N0cmluZycgOiAnaGFzaCddXG4gICAgICAgIDogZGF0YS5tYXA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcHJvcGVydHkgbmFtZXMsIHZhbHVlcywgYW5kIGNvbXBhcmUgZmxhZ3Mgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG1hdGNoIGRhdGEgb2YgYG9iamVjdGAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0TWF0Y2hEYXRhKG9iamVjdCkge1xuICAgICAgdmFyIHJlc3VsdCA9IGtleXMob2JqZWN0KSxcbiAgICAgICAgICBsZW5ndGggPSByZXN1bHQubGVuZ3RoO1xuXG4gICAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgICAgdmFyIGtleSA9IHJlc3VsdFtsZW5ndGhdLFxuICAgICAgICAgICAgdmFsdWUgPSBvYmplY3Rba2V5XTtcblxuICAgICAgICByZXN1bHRbbGVuZ3RoXSA9IFtrZXksIHZhbHVlLCBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbmF0aXZlIGZ1bmN0aW9uIGF0IGBrZXlgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IGtleSBUaGUga2V5IG9mIHRoZSBtZXRob2QgdG8gZ2V0LlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBpZiBpdCdzIG5hdGl2ZSwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBnZXROYXRpdmUob2JqZWN0LCBrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGdldFZhbHVlKG9iamVjdCwga2V5KTtcbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpID8gdmFsdWUgOiB1bmRlZmluZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlR2V0VGFnYCB3aGljaCBpZ25vcmVzIGBTeW1ib2wudG9TdHJpbmdUYWdgIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcmF3IGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0UmF3VGFnKHZhbHVlKSB7XG4gICAgICB2YXIgaXNPd24gPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBzeW1Ub1N0cmluZ1RhZyksXG4gICAgICAgICAgdGFnID0gdmFsdWVbc3ltVG9TdHJpbmdUYWddO1xuXG4gICAgICB0cnkge1xuICAgICAgICB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ10gPSB1bmRlZmluZWQ7XG4gICAgICAgIHZhciB1bm1hc2tlZCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuXG4gICAgICB2YXIgcmVzdWx0ID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICBpZiAodW5tYXNrZWQpIHtcbiAgICAgICAgaWYgKGlzT3duKSB7XG4gICAgICAgICAgdmFsdWVbc3ltVG9TdHJpbmdUYWddID0gdGFnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtzeW1Ub1N0cmluZ1RhZ107XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9scyA9ICFuYXRpdmVHZXRTeW1ib2xzID8gc3R1YkFycmF5IDogZnVuY3Rpb24ob2JqZWN0KSB7XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgb2JqZWN0ID0gT2JqZWN0KG9iamVjdCk7XG4gICAgICByZXR1cm4gYXJyYXlGaWx0ZXIobmF0aXZlR2V0U3ltYm9scyhvYmplY3QpLCBmdW5jdGlvbihzeW1ib2wpIHtcbiAgICAgICAgcmV0dXJuIHByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwob2JqZWN0LCBzeW1ib2wpO1xuICAgICAgfSk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgdGhlIG93biBhbmQgaW5oZXJpdGVkIGVudW1lcmFibGUgc3ltYm9scyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2Ygc3ltYm9scy5cbiAgICAgKi9cbiAgICB2YXIgZ2V0U3ltYm9sc0luID0gIW5hdGl2ZUdldFN5bWJvbHMgPyBzdHViQXJyYXkgOiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgIHZhciByZXN1bHQgPSBbXTtcbiAgICAgIHdoaWxlIChvYmplY3QpIHtcbiAgICAgICAgYXJyYXlQdXNoKHJlc3VsdCwgZ2V0U3ltYm9scyhvYmplY3QpKTtcbiAgICAgICAgb2JqZWN0ID0gZ2V0UHJvdG90eXBlKG9iamVjdCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBgdG9TdHJpbmdUYWdgIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGB0b1N0cmluZ1RhZ2AuXG4gICAgICovXG4gICAgdmFyIGdldFRhZyA9IGJhc2VHZXRUYWc7XG5cbiAgICAvLyBGYWxsYmFjayBmb3IgZGF0YSB2aWV3cywgbWFwcywgc2V0cywgYW5kIHdlYWsgbWFwcyBpbiBJRSAxMSBhbmQgcHJvbWlzZXMgaW4gTm9kZS5qcyA8IDYuXG4gICAgaWYgKChEYXRhVmlldyAmJiBnZXRUYWcobmV3IERhdGFWaWV3KG5ldyBBcnJheUJ1ZmZlcigxKSkpICE9IGRhdGFWaWV3VGFnKSB8fFxuICAgICAgICAoTWFwICYmIGdldFRhZyhuZXcgTWFwKSAhPSBtYXBUYWcpIHx8XG4gICAgICAgIChQcm9taXNlICYmIGdldFRhZyhQcm9taXNlLnJlc29sdmUoKSkgIT0gcHJvbWlzZVRhZykgfHxcbiAgICAgICAgKFNldCAmJiBnZXRUYWcobmV3IFNldCkgIT0gc2V0VGFnKSB8fFxuICAgICAgICAoV2Vha01hcCAmJiBnZXRUYWcobmV3IFdlYWtNYXApICE9IHdlYWtNYXBUYWcpKSB7XG4gICAgICBnZXRUYWcgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICB2YXIgcmVzdWx0ID0gYmFzZUdldFRhZyh2YWx1ZSksXG4gICAgICAgICAgICBDdG9yID0gcmVzdWx0ID09IG9iamVjdFRhZyA/IHZhbHVlLmNvbnN0cnVjdG9yIDogdW5kZWZpbmVkLFxuICAgICAgICAgICAgY3RvclN0cmluZyA9IEN0b3IgPyB0b1NvdXJjZShDdG9yKSA6ICcnO1xuXG4gICAgICAgIGlmIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgc3dpdGNoIChjdG9yU3RyaW5nKSB7XG4gICAgICAgICAgICBjYXNlIGRhdGFWaWV3Q3RvclN0cmluZzogcmV0dXJuIGRhdGFWaWV3VGFnO1xuICAgICAgICAgICAgY2FzZSBtYXBDdG9yU3RyaW5nOiByZXR1cm4gbWFwVGFnO1xuICAgICAgICAgICAgY2FzZSBwcm9taXNlQ3RvclN0cmluZzogcmV0dXJuIHByb21pc2VUYWc7XG4gICAgICAgICAgICBjYXNlIHNldEN0b3JTdHJpbmc6IHJldHVybiBzZXRUYWc7XG4gICAgICAgICAgICBjYXNlIHdlYWtNYXBDdG9yU3RyaW5nOiByZXR1cm4gd2Vha01hcFRhZztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmlldywgYXBwbHlpbmcgYW55IGB0cmFuc2Zvcm1zYCB0byB0aGUgYHN0YXJ0YCBhbmQgYGVuZGAgcG9zaXRpb25zLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RhcnQgVGhlIHN0YXJ0IG9mIHRoZSB2aWV3LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgdmlldy5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB0cmFuc2Zvcm1zIFRoZSB0cmFuc2Zvcm1hdGlvbnMgdG8gYXBwbHkgdG8gdGhlIHZpZXcuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBhbiBvYmplY3QgY29udGFpbmluZyB0aGUgYHN0YXJ0YCBhbmQgYGVuZGBcbiAgICAgKiAgcG9zaXRpb25zIG9mIHRoZSB2aWV3LlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldFZpZXcoc3RhcnQsIGVuZCwgdHJhbnNmb3Jtcykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBkYXRhID0gdHJhbnNmb3Jtc1tpbmRleF0sXG4gICAgICAgICAgICBzaXplID0gZGF0YS5zaXplO1xuXG4gICAgICAgIHN3aXRjaCAoZGF0YS50eXBlKSB7XG4gICAgICAgICAgY2FzZSAnZHJvcCc6ICAgICAgc3RhcnQgKz0gc2l6ZTsgYnJlYWs7XG4gICAgICAgICAgY2FzZSAnZHJvcFJpZ2h0JzogZW5kIC09IHNpemU7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2UnOiAgICAgIGVuZCA9IG5hdGl2ZU1pbihlbmQsIHN0YXJ0ICsgc2l6ZSk7IGJyZWFrO1xuICAgICAgICAgIGNhc2UgJ3Rha2VSaWdodCc6IHN0YXJ0ID0gbmF0aXZlTWF4KHN0YXJ0LCBlbmQgLSBzaXplKTsgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB7ICdzdGFydCc6IHN0YXJ0LCAnZW5kJzogZW5kIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRXh0cmFjdHMgd3JhcHBlciBkZXRhaWxzIGZyb20gdGhlIGBzb3VyY2VgIGJvZHkgY29tbWVudC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHNvdXJjZSBUaGUgc291cmNlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSB3cmFwcGVyIGRldGFpbHMuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZ2V0V3JhcERldGFpbHMoc291cmNlKSB7XG4gICAgICB2YXIgbWF0Y2ggPSBzb3VyY2UubWF0Y2gocmVXcmFwRGV0YWlscyk7XG4gICAgICByZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS5zcGxpdChyZVNwbGl0RGV0YWlscykgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGV4aXN0cyBvbiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGhhc0Z1bmMgVGhlIGZ1bmN0aW9uIHRvIGNoZWNrIHByb3BlcnRpZXMuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBoYXNQYXRoKG9iamVjdCwgcGF0aCwgaGFzRnVuYykge1xuICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG5cbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IHBhdGgubGVuZ3RoLFxuICAgICAgICAgIHJlc3VsdCA9IGZhbHNlO1xuXG4gICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICB2YXIga2V5ID0gdG9LZXkocGF0aFtpbmRleF0pO1xuICAgICAgICBpZiAoIShyZXN1bHQgPSBvYmplY3QgIT0gbnVsbCAmJiBoYXNGdW5jKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBvYmplY3QgPSBvYmplY3Rba2V5XTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgfHwgKytpbmRleCAhPSBsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGxlbmd0aCA9IG9iamVjdCA9PSBudWxsID8gMCA6IG9iamVjdC5sZW5ndGg7XG4gICAgICByZXR1cm4gISFsZW5ndGggJiYgaXNMZW5ndGgobGVuZ3RoKSAmJiBpc0luZGV4KGtleSwgbGVuZ3RoKSAmJlxuICAgICAgICAoaXNBcnJheShvYmplY3QpIHx8IGlzQXJndW1lbnRzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEluaXRpYWxpemVzIGFuIGFycmF5IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVBcnJheShhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSBuZXcgYXJyYXkuY29uc3RydWN0b3IobGVuZ3RoKTtcblxuICAgICAgLy8gQWRkIHByb3BlcnRpZXMgYXNzaWduZWQgYnkgYFJlZ0V4cCNleGVjYC5cbiAgICAgIGlmIChsZW5ndGggJiYgdHlwZW9mIGFycmF5WzBdID09ICdzdHJpbmcnICYmIGhhc093blByb3BlcnR5LmNhbGwoYXJyYXksICdpbmRleCcpKSB7XG4gICAgICAgIHJlc3VsdC5pbmRleCA9IGFycmF5LmluZGV4O1xuICAgICAgICByZXN1bHQuaW5wdXQgPSBhcnJheS5pbnB1dDtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW5pdGlhbGl6ZXMgYW4gb2JqZWN0IGNsb25lLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgaW5pdGlhbGl6ZWQgY2xvbmUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdENsb25lT2JqZWN0KG9iamVjdCkge1xuICAgICAgcmV0dXJuICh0eXBlb2Ygb2JqZWN0LmNvbnN0cnVjdG9yID09ICdmdW5jdGlvbicgJiYgIWlzUHJvdG90eXBlKG9iamVjdCkpXG4gICAgICAgID8gYmFzZUNyZWF0ZShnZXRQcm90b3R5cGUob2JqZWN0KSlcbiAgICAgICAgOiB7fTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyBhbiBvYmplY3QgY2xvbmUgYmFzZWQgb24gaXRzIGB0b1N0cmluZ1RhZ2AuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBmdW5jdGlvbiBvbmx5IHN1cHBvcnRzIGNsb25pbmcgdmFsdWVzIHdpdGggdGFncyBvZlxuICAgICAqIGBCb29sZWFuYCwgYERhdGVgLCBgRXJyb3JgLCBgTWFwYCwgYE51bWJlcmAsIGBSZWdFeHBgLCBgU2V0YCwgb3IgYFN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBjbG9uZS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdGFnIFRoZSBgdG9TdHJpbmdUYWdgIG9mIHRoZSBvYmplY3QgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbaXNEZWVwXSBTcGVjaWZ5IGEgZGVlcCBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBpbml0aWFsaXplZCBjbG9uZS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbml0Q2xvbmVCeVRhZyhvYmplY3QsIHRhZywgaXNEZWVwKSB7XG4gICAgICB2YXIgQ3RvciA9IG9iamVjdC5jb25zdHJ1Y3RvcjtcbiAgICAgIHN3aXRjaCAodGFnKSB7XG4gICAgICAgIGNhc2UgYXJyYXlCdWZmZXJUYWc6XG4gICAgICAgICAgcmV0dXJuIGNsb25lQXJyYXlCdWZmZXIob2JqZWN0KTtcblxuICAgICAgICBjYXNlIGJvb2xUYWc6XG4gICAgICAgIGNhc2UgZGF0ZVRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3IoK29iamVjdCk7XG5cbiAgICAgICAgY2FzZSBkYXRhVmlld1RhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVEYXRhVmlldyhvYmplY3QsIGlzRGVlcCk7XG5cbiAgICAgICAgY2FzZSBmbG9hdDMyVGFnOiBjYXNlIGZsb2F0NjRUYWc6XG4gICAgICAgIGNhc2UgaW50OFRhZzogY2FzZSBpbnQxNlRhZzogY2FzZSBpbnQzMlRhZzpcbiAgICAgICAgY2FzZSB1aW50OFRhZzogY2FzZSB1aW50OENsYW1wZWRUYWc6IGNhc2UgdWludDE2VGFnOiBjYXNlIHVpbnQzMlRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVUeXBlZEFycmF5KG9iamVjdCwgaXNEZWVwKTtcblxuICAgICAgICBjYXNlIG1hcFRhZzpcbiAgICAgICAgICByZXR1cm4gbmV3IEN0b3I7XG5cbiAgICAgICAgY2FzZSBudW1iZXJUYWc6XG4gICAgICAgIGNhc2Ugc3RyaW5nVGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcihvYmplY3QpO1xuXG4gICAgICAgIGNhc2UgcmVnZXhwVGFnOlxuICAgICAgICAgIHJldHVybiBjbG9uZVJlZ0V4cChvYmplY3QpO1xuXG4gICAgICAgIGNhc2Ugc2V0VGFnOlxuICAgICAgICAgIHJldHVybiBuZXcgQ3RvcjtcblxuICAgICAgICBjYXNlIHN5bWJvbFRhZzpcbiAgICAgICAgICByZXR1cm4gY2xvbmVTeW1ib2wob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnNlcnRzIHdyYXBwZXIgYGRldGFpbHNgIGluIGEgY29tbWVudCBhdCB0aGUgdG9wIG9mIHRoZSBgc291cmNlYCBib2R5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc291cmNlIFRoZSBzb3VyY2UgdG8gbW9kaWZ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gZGV0YWlscyBUaGUgZGV0YWlscyB0byBpbnNlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc291cmNlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGluc2VydFdyYXBEZXRhaWxzKHNvdXJjZSwgZGV0YWlscykge1xuICAgICAgdmFyIGxlbmd0aCA9IGRldGFpbHMubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHNvdXJjZTtcbiAgICAgIH1cbiAgICAgIHZhciBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuICAgICAgZGV0YWlsc1tsYXN0SW5kZXhdID0gKGxlbmd0aCA+IDEgPyAnJiAnIDogJycpICsgZGV0YWlsc1tsYXN0SW5kZXhdO1xuICAgICAgZGV0YWlscyA9IGRldGFpbHMuam9pbihsZW5ndGggPiAyID8gJywgJyA6ICcgJyk7XG4gICAgICByZXR1cm4gc291cmNlLnJlcGxhY2UocmVXcmFwQ29tbWVudCwgJ3tcXG4vKiBbd3JhcHBlZCB3aXRoICcgKyBkZXRhaWxzICsgJ10gKi9cXG4nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIGZsYXR0ZW5hYmxlIGBhcmd1bWVudHNgIG9iamVjdCBvciBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZmxhdHRlbmFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0ZsYXR0ZW5hYmxlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNBcnJheSh2YWx1ZSkgfHwgaXNBcmd1bWVudHModmFsdWUpIHx8XG4gICAgICAgICEhKHNwcmVhZGFibGVTeW1ib2wgJiYgdmFsdWUgJiYgdmFsdWVbc3ByZWFkYWJsZVN5bWJvbF0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9TUFYX1NBRkVfSU5URUdFUl0gVGhlIHVwcGVyIGJvdW5kcyBvZiBhIHZhbGlkIGluZGV4LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgaW5kZXgsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0luZGV4KHZhbHVlLCBsZW5ndGgpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgbGVuZ3RoID0gbGVuZ3RoID09IG51bGwgPyBNQVhfU0FGRV9JTlRFR0VSIDogbGVuZ3RoO1xuXG4gICAgICByZXR1cm4gISFsZW5ndGggJiZcbiAgICAgICAgKHR5cGUgPT0gJ251bWJlcicgfHxcbiAgICAgICAgICAodHlwZSAhPSAnc3ltYm9sJyAmJiByZUlzVWludC50ZXN0KHZhbHVlKSkpICYmXG4gICAgICAgICAgICAodmFsdWUgPiAtMSAmJiB2YWx1ZSAlIDEgPT0gMCAmJiB2YWx1ZSA8IGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIHRoZSBnaXZlbiBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgcG90ZW50aWFsIGl0ZXJhdGVlIHZhbHVlIGFyZ3VtZW50LlxuICAgICAqIEBwYXJhbSB7Kn0gaW5kZXggVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBpbmRleCBvciBrZXkgYXJndW1lbnQuXG4gICAgICogQHBhcmFtIHsqfSBvYmplY3QgVGhlIHBvdGVudGlhbCBpdGVyYXRlZSBvYmplY3QgYXJndW1lbnQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSBhcmd1bWVudHMgYXJlIGZyb20gYW4gaXRlcmF0ZWUgY2FsbCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSXRlcmF0ZWVDYWxsKHZhbHVlLCBpbmRleCwgb2JqZWN0KSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KG9iamVjdCkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgaW5kZXg7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJ1xuICAgICAgICAgICAgPyAoaXNBcnJheUxpa2Uob2JqZWN0KSAmJiBpc0luZGV4KGluZGV4LCBvYmplY3QubGVuZ3RoKSlcbiAgICAgICAgICAgIDogKHR5cGUgPT0gJ3N0cmluZycgJiYgaW5kZXggaW4gb2JqZWN0KVxuICAgICAgICAgICkge1xuICAgICAgICByZXR1cm4gZXEob2JqZWN0W2luZGV4XSwgdmFsdWUpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcHJvcGVydHkgbmFtZSBhbmQgbm90IGEgcHJvcGVydHkgcGF0aC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvYmplY3RdIFRoZSBvYmplY3QgdG8gcXVlcnkga2V5cyBvbi5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3BlcnR5IG5hbWUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleSh2YWx1ZSwgb2JqZWN0KSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsdWU7XG4gICAgICBpZiAodHlwZSA9PSAnbnVtYmVyJyB8fCB0eXBlID09ICdzeW1ib2wnIHx8IHR5cGUgPT0gJ2Jvb2xlYW4nIHx8XG4gICAgICAgICAgdmFsdWUgPT0gbnVsbCB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVJc1BsYWluUHJvcC50ZXN0KHZhbHVlKSB8fCAhcmVJc0RlZXBQcm9wLnRlc3QodmFsdWUpIHx8XG4gICAgICAgIChvYmplY3QgIT0gbnVsbCAmJiB2YWx1ZSBpbiBPYmplY3Qob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUgZm9yIHVzZSBhcyB1bmlxdWUgb2JqZWN0IGtleS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgc3VpdGFibGUsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0tleWFibGUodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuICh0eXBlID09ICdzdHJpbmcnIHx8IHR5cGUgPT0gJ251bWJlcicgfHwgdHlwZSA9PSAnc3ltYm9sJyB8fCB0eXBlID09ICdib29sZWFuJylcbiAgICAgICAgPyAodmFsdWUgIT09ICdfX3Byb3RvX18nKVxuICAgICAgICA6ICh2YWx1ZSA9PT0gbnVsbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBoYXMgYSBsYXp5IGNvdW50ZXJwYXJ0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGhhcyBhIGxhenkgY291bnRlcnBhcnQsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0xhemlhYmxlKGZ1bmMpIHtcbiAgICAgIHZhciBmdW5jTmFtZSA9IGdldEZ1bmNOYW1lKGZ1bmMpLFxuICAgICAgICAgIG90aGVyID0gbG9kYXNoW2Z1bmNOYW1lXTtcblxuICAgICAgaWYgKHR5cGVvZiBvdGhlciAhPSAnZnVuY3Rpb24nIHx8ICEoZnVuY05hbWUgaW4gTGF6eVdyYXBwZXIucHJvdG90eXBlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoZnVuYyA9PT0gb3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgZGF0YSA9IGdldERhdGEob3RoZXIpO1xuICAgICAgcmV0dXJuICEhZGF0YSAmJiBmdW5jID09PSBkYXRhWzBdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgZnVuY2AgaGFzIGl0cyBzb3VyY2UgbWFza2VkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYGZ1bmNgIGlzIG1hc2tlZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTWFza2VkKGZ1bmMpIHtcbiAgICAgIHJldHVybiAhIW1hc2tTcmNLZXkgJiYgKG1hc2tTcmNLZXkgaW4gZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBmdW5jYCBpcyBjYXBhYmxlIG9mIGJlaW5nIG1hc2tlZC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBmdW5jYCBpcyBtYXNrYWJsZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIHZhciBpc01hc2thYmxlID0gY29yZUpzRGF0YSA/IGlzRnVuY3Rpb24gOiBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBwcm90b3R5cGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHByb3RvdHlwZSwgZWxzZSBgZmFsc2VgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzUHJvdG90eXBlKHZhbHVlKSB7XG4gICAgICB2YXIgQ3RvciA9IHZhbHVlICYmIHZhbHVlLmNvbnN0cnVjdG9yLFxuICAgICAgICAgIHByb3RvID0gKHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3Rvci5wcm90b3R5cGUpIHx8IG9iamVjdFByb3RvO1xuXG4gICAgICByZXR1cm4gdmFsdWUgPT09IHByb3RvO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIHN1aXRhYmxlIGZvciBzdHJpY3QgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGkuZS4gYD09PWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlmIHN1aXRhYmxlIGZvciBzdHJpY3RcbiAgICAgKiAgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N0cmljdENvbXBhcmFibGUodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdmFsdWUgJiYgIWlzT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBBIHNwZWNpYWxpemVkIHZlcnNpb24gb2YgYG1hdGNoZXNQcm9wZXJ0eWAgZm9yIHNvdXJjZSB2YWx1ZXMgc3VpdGFibGVcbiAgICAgKiBmb3Igc3RyaWN0IGVxdWFsaXR5IGNvbXBhcmlzb25zLCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IHNyY1ZhbHVlIFRoZSB2YWx1ZSB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBzcGVjIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hdGNoZXNTdHJpY3RDb21wYXJhYmxlKGtleSwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihvYmplY3QpIHtcbiAgICAgICAgaWYgKG9iamVjdCA9PSBudWxsKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmplY3Rba2V5XSA9PT0gc3JjVmFsdWUgJiZcbiAgICAgICAgICAoc3JjVmFsdWUgIT09IHVuZGVmaW5lZCB8fCAoa2V5IGluIE9iamVjdChvYmplY3QpKSk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5tZW1vaXplYCB3aGljaCBjbGVhcnMgdGhlIG1lbW9pemVkIGZ1bmN0aW9uJ3NcbiAgICAgKiBjYWNoZSB3aGVuIGl0IGV4Y2VlZHMgYE1BWF9NRU1PSVpFX1NJWkVgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBoYXZlIGl0cyBvdXRwdXQgbWVtb2l6ZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVtb2l6ZUNhcHBlZChmdW5jKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbWVtb2l6ZShmdW5jLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGNhY2hlLnNpemUgPT09IE1BWF9NRU1PSVpFX1NJWkUpIHtcbiAgICAgICAgICBjYWNoZS5jbGVhcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBrZXk7XG4gICAgICB9KTtcblxuICAgICAgdmFyIGNhY2hlID0gcmVzdWx0LmNhY2hlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBNZXJnZXMgdGhlIGZ1bmN0aW9uIG1ldGFkYXRhIG9mIGBzb3VyY2VgIGludG8gYGRhdGFgLlxuICAgICAqXG4gICAgICogTWVyZ2luZyBtZXRhZGF0YSByZWR1Y2VzIHRoZSBudW1iZXIgb2Ygd3JhcHBlcnMgdXNlZCB0byBpbnZva2UgYSBmdW5jdGlvbi5cbiAgICAgKiBUaGlzIGlzIHBvc3NpYmxlIGJlY2F1c2UgbWV0aG9kcyBsaWtlIGBfLmJpbmRgLCBgXy5jdXJyeWAsIGFuZCBgXy5wYXJ0aWFsYFxuICAgICAqIG1heSBiZSBhcHBsaWVkIHJlZ2FyZGxlc3Mgb2YgZXhlY3V0aW9uIG9yZGVyLiBNZXRob2RzIGxpa2UgYF8uYXJ5YCBhbmRcbiAgICAgKiBgXy5yZWFyZ2AgbW9kaWZ5IGZ1bmN0aW9uIGFyZ3VtZW50cywgbWFraW5nIHRoZSBvcmRlciBpbiB3aGljaCB0aGV5IGFyZVxuICAgICAqIGV4ZWN1dGVkIGltcG9ydGFudCwgcHJldmVudGluZyB0aGUgbWVyZ2luZyBvZiBtZXRhZGF0YS4gSG93ZXZlciwgd2UgbWFrZVxuICAgICAqIGFuIGV4Y2VwdGlvbiBmb3IgYSBzYWZlIGNvbWJpbmVkIGNhc2Ugd2hlcmUgY3VycmllZCBmdW5jdGlvbnMgaGF2ZSBgXy5hcnlgXG4gICAgICogYW5kIG9yIGBfLnJlYXJnYCBhcHBsaWVkLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBkYXRhIFRoZSBkZXN0aW5hdGlvbiBtZXRhZGF0YS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSBzb3VyY2UgVGhlIHNvdXJjZSBtZXRhZGF0YS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGRhdGFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lcmdlRGF0YShkYXRhLCBzb3VyY2UpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gZGF0YVsxXSxcbiAgICAgICAgICBzcmNCaXRtYXNrID0gc291cmNlWzFdLFxuICAgICAgICAgIG5ld0JpdG1hc2sgPSBiaXRtYXNrIHwgc3JjQml0bWFzayxcbiAgICAgICAgICBpc0NvbW1vbiA9IG5ld0JpdG1hc2sgPCAoV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUcgfCBXUkFQX0FSWV9GTEFHKTtcblxuICAgICAgdmFyIGlzQ29tYm8gPVxuICAgICAgICAoKHNyY0JpdG1hc2sgPT0gV1JBUF9BUllfRkxBRykgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSkgfHxcbiAgICAgICAgKChzcmNCaXRtYXNrID09IFdSQVBfQVJZX0ZMQUcpICYmIChiaXRtYXNrID09IFdSQVBfUkVBUkdfRkxBRykgJiYgKGRhdGFbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkpIHx8XG4gICAgICAgICgoc3JjQml0bWFzayA9PSAoV1JBUF9BUllfRkxBRyB8IFdSQVBfUkVBUkdfRkxBRykpICYmIChzb3VyY2VbN10ubGVuZ3RoIDw9IHNvdXJjZVs4XSkgJiYgKGJpdG1hc2sgPT0gV1JBUF9DVVJSWV9GTEFHKSk7XG5cbiAgICAgIC8vIEV4aXQgZWFybHkgaWYgbWV0YWRhdGEgY2FuJ3QgYmUgbWVyZ2VkLlxuICAgICAgaWYgKCEoaXNDb21tb24gfHwgaXNDb21ibykpIHtcbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGB0aGlzQXJnYCBpZiBhdmFpbGFibGUuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQklORF9GTEFHKSB7XG4gICAgICAgIGRhdGFbMl0gPSBzb3VyY2VbMl07XG4gICAgICAgIC8vIFNldCB3aGVuIGN1cnJ5aW5nIGEgYm91bmQgZnVuY3Rpb24uXG4gICAgICAgIG5ld0JpdG1hc2sgfD0gYml0bWFzayAmIFdSQVBfQklORF9GTEFHID8gMCA6IFdSQVBfQ1VSUllfQk9VTkRfRkxBRztcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCBhcmd1bWVudHMuXG4gICAgICB2YXIgdmFsdWUgPSBzb3VyY2VbM107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgdmFyIHBhcnRpYWxzID0gZGF0YVszXTtcbiAgICAgICAgZGF0YVszXSA9IHBhcnRpYWxzID8gY29tcG9zZUFyZ3MocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNF0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNF0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbM10sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs0XTtcbiAgICAgIH1cbiAgICAgIC8vIENvbXBvc2UgcGFydGlhbCByaWdodCBhcmd1bWVudHMuXG4gICAgICB2YWx1ZSA9IHNvdXJjZVs1XTtcbiAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICBwYXJ0aWFscyA9IGRhdGFbNV07XG4gICAgICAgIGRhdGFbNV0gPSBwYXJ0aWFscyA/IGNvbXBvc2VBcmdzUmlnaHQocGFydGlhbHMsIHZhbHVlLCBzb3VyY2VbNl0pIDogdmFsdWU7XG4gICAgICAgIGRhdGFbNl0gPSBwYXJ0aWFscyA/IHJlcGxhY2VIb2xkZXJzKGRhdGFbNV0sIFBMQUNFSE9MREVSKSA6IHNvdXJjZVs2XTtcbiAgICAgIH1cbiAgICAgIC8vIFVzZSBzb3VyY2UgYGFyZ1Bvc2AgaWYgYXZhaWxhYmxlLlxuICAgICAgdmFsdWUgPSBzb3VyY2VbN107XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgZGF0YVs3XSA9IHZhbHVlO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJ5YCBpZiBpdCdzIHNtYWxsZXIuXG4gICAgICBpZiAoc3JjQml0bWFzayAmIFdSQVBfQVJZX0ZMQUcpIHtcbiAgICAgICAgZGF0YVs4XSA9IGRhdGFbOF0gPT0gbnVsbCA/IHNvdXJjZVs4XSA6IG5hdGl2ZU1pbihkYXRhWzhdLCBzb3VyY2VbOF0pO1xuICAgICAgfVxuICAgICAgLy8gVXNlIHNvdXJjZSBgYXJpdHlgIGlmIG9uZSBpcyBub3QgcHJvdmlkZWQuXG4gICAgICBpZiAoZGF0YVs5XSA9PSBudWxsKSB7XG4gICAgICAgIGRhdGFbOV0gPSBzb3VyY2VbOV07XG4gICAgICB9XG4gICAgICAvLyBVc2Ugc291cmNlIGBmdW5jYCBhbmQgbWVyZ2UgYml0bWFza3MuXG4gICAgICBkYXRhWzBdID0gc291cmNlWzBdO1xuICAgICAgZGF0YVsxXSA9IG5ld0JpdG1hc2s7XG5cbiAgICAgIHJldHVybiBkYXRhO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgZnVuY3Rpb24gaXMgbGlrZVxuICAgICAqIFtgT2JqZWN0LmtleXNgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBleGNlcHQgdGhhdCBpdCBpbmNsdWRlcyBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSBuYW1lcy5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuYXRpdmVLZXlzSW4ob2JqZWN0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAob2JqZWN0ICE9IG51bGwpIHtcbiAgICAgICAgZm9yICh2YXIga2V5IGluIE9iamVjdChvYmplY3QpKSB7XG4gICAgICAgICAgcmVzdWx0LnB1c2goa2V5KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIHVzaW5nIGBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG9iamVjdFRvU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQSBzcGVjaWFsaXplZCB2ZXJzaW9uIG9mIGBiYXNlUmVzdGAgd2hpY2ggdHJhbnNmb3JtcyB0aGUgcmVzdCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXBwbHkgYSByZXN0IHBhcmFtZXRlciB0by5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PWZ1bmMubGVuZ3RoLTFdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgcmVzdCBwYXJhbWV0ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdHJhbnNmb3JtIFRoZSByZXN0IGFycmF5IHRyYW5zZm9ybS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvdmVyUmVzdChmdW5jLCBzdGFydCwgdHJhbnNmb3JtKSB7XG4gICAgICBzdGFydCA9IG5hdGl2ZU1heChzdGFydCA9PT0gdW5kZWZpbmVkID8gKGZ1bmMubGVuZ3RoIC0gMSkgOiBzdGFydCwgMCk7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzLFxuICAgICAgICAgICAgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1heChhcmdzLmxlbmd0aCAtIHN0YXJ0LCAwKSxcbiAgICAgICAgICAgIGFycmF5ID0gQXJyYXkobGVuZ3RoKTtcblxuICAgICAgICB3aGlsZSAoKytpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICAgIGFycmF5W2luZGV4XSA9IGFyZ3Nbc3RhcnQgKyBpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSAtMTtcbiAgICAgICAgdmFyIG90aGVyQXJncyA9IEFycmF5KHN0YXJ0ICsgMSk7XG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgc3RhcnQpIHtcbiAgICAgICAgICBvdGhlckFyZ3NbaW5kZXhdID0gYXJnc1tpbmRleF07XG4gICAgICAgIH1cbiAgICAgICAgb3RoZXJBcmdzW3N0YXJ0XSA9IHRyYW5zZm9ybShhcnJheSk7XG4gICAgICAgIHJldHVybiBhcHBseShmdW5jLCB0aGlzLCBvdGhlckFyZ3MpO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJlbnQgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheX0gcGF0aCBUaGUgcGF0aCB0byBnZXQgdGhlIHBhcmVudCB2YWx1ZSBvZi5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcGFyZW50IHZhbHVlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhcmVudChvYmplY3QsIHBhdGgpIHtcbiAgICAgIHJldHVybiBwYXRoLmxlbmd0aCA8IDIgPyBvYmplY3QgOiBiYXNlR2V0KG9iamVjdCwgYmFzZVNsaWNlKHBhdGgsIDAsIC0xKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVvcmRlciBgYXJyYXlgIGFjY29yZGluZyB0byB0aGUgc3BlY2lmaWVkIGluZGV4ZXMgd2hlcmUgdGhlIGVsZW1lbnQgYXRcbiAgICAgKiB0aGUgZmlyc3QgaW5kZXggaXMgYXNzaWduZWQgYXMgdGhlIGZpcnN0IGVsZW1lbnQsIHRoZSBlbGVtZW50IGF0XG4gICAgICogdGhlIHNlY29uZCBpbmRleCBpcyBhc3NpZ25lZCBhcyB0aGUgc2Vjb25kIGVsZW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHJlb3JkZXIuXG4gICAgICogQHBhcmFtIHtBcnJheX0gaW5kZXhlcyBUaGUgYXJyYW5nZWQgYXJyYXkgaW5kZXhlcy5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW9yZGVyKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgYXJyTGVuZ3RoID0gYXJyYXkubGVuZ3RoLFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihpbmRleGVzLmxlbmd0aCwgYXJyTGVuZ3RoKSxcbiAgICAgICAgICBvbGRBcnJheSA9IGNvcHlBcnJheShhcnJheSk7XG5cbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICB2YXIgaW5kZXggPSBpbmRleGVzW2xlbmd0aF07XG4gICAgICAgIGFycmF5W2xlbmd0aF0gPSBpc0luZGV4KGluZGV4LCBhcnJMZW5ndGgpID8gb2xkQXJyYXlbaW5kZXhdIDogdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHZhbHVlIGF0IGBrZXlgLCB1bmxlc3MgYGtleWAgaXMgXCJfX3Byb3RvX19cIiBvciBcImNvbnN0cnVjdG9yXCIuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcHJvcGVydHkgdmFsdWUuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FmZUdldChvYmplY3QsIGtleSkge1xuICAgICAgaWYgKGtleSA9PT0gJ2NvbnN0cnVjdG9yJyAmJiB0eXBlb2Ygb2JqZWN0W2tleV0gPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuXG4gICAgICBpZiAoa2V5ID09ICdfX3Byb3RvX18nKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIG9iamVjdFtrZXldO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNldHMgbWV0YWRhdGEgZm9yIGBmdW5jYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiB0aGlzIGZ1bmN0aW9uIGJlY29tZXMgaG90LCBpLmUuIGlzIGludm9rZWQgYSBsb3QgaW4gYSBzaG9ydFxuICAgICAqIHBlcmlvZCBvZiB0aW1lLCBpdCB3aWxsIHRyaXAgaXRzIGJyZWFrZXIgYW5kIHRyYW5zaXRpb24gdG8gYW4gaWRlbnRpdHlcbiAgICAgKiBmdW5jdGlvbiB0byBhdm9pZCBnYXJiYWdlIGNvbGxlY3Rpb24gcGF1c2VzIGluIFY4LiBTZWVcbiAgICAgKiBbVjggaXNzdWUgMjA3MF0oaHR0cHM6Ly9idWdzLmNocm9taXVtLm9yZy9wL3Y4L2lzc3Vlcy9kZXRhaWw/aWQ9MjA3MClcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBhc3NvY2lhdGUgbWV0YWRhdGEgd2l0aC5cbiAgICAgKiBAcGFyYW0geyp9IGRhdGEgVGhlIG1ldGFkYXRhLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgZnVuY2AuXG4gICAgICovXG4gICAgdmFyIHNldERhdGEgPSBzaG9ydE91dChiYXNlU2V0RGF0YSk7XG5cbiAgICAvKipcbiAgICAgKiBBIHNpbXBsZSB3cmFwcGVyIGFyb3VuZCB0aGUgZ2xvYmFsIFtgc2V0VGltZW91dGBdKGh0dHBzOi8vbWRuLmlvL3NldFRpbWVvdXQpLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ8T2JqZWN0fSBSZXR1cm5zIHRoZSB0aW1lciBpZCBvciB0aW1lb3V0IG9iamVjdC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VGltZW91dCA9IGN0eFNldFRpbWVvdXQgfHwgZnVuY3Rpb24oZnVuYywgd2FpdCkge1xuICAgICAgcmV0dXJuIHJvb3Quc2V0VGltZW91dChmdW5jLCB3YWl0KTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYGZ1bmNgIHRvIHJldHVybiBgc3RyaW5nYC5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHN0cmluZyBUaGUgYHRvU3RyaW5nYCByZXN1bHQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIGBmdW5jYC5cbiAgICAgKi9cbiAgICB2YXIgc2V0VG9TdHJpbmcgPSBzaG9ydE91dChiYXNlU2V0VG9TdHJpbmcpO1xuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgYHRvU3RyaW5nYCBtZXRob2Qgb2YgYHdyYXBwZXJgIHRvIG1pbWljIHRoZSBzb3VyY2Ugb2YgYHJlZmVyZW5jZWBcbiAgICAgKiB3aXRoIHdyYXBwZXIgZGV0YWlscyBpbiBhIGNvbW1lbnQgYXQgdGhlIHRvcCBvZiB0aGUgc291cmNlIGJvZHkuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHdyYXBwZXIgVGhlIGZ1bmN0aW9uIHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSByZWZlcmVuY2UgVGhlIHJlZmVyZW5jZSBmdW5jdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gYml0bWFzayBUaGUgYml0bWFzayBmbGFncy4gU2VlIGBjcmVhdGVXcmFwYCBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyBgd3JhcHBlcmAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V3JhcFRvU3RyaW5nKHdyYXBwZXIsIHJlZmVyZW5jZSwgYml0bWFzaykge1xuICAgICAgdmFyIHNvdXJjZSA9IChyZWZlcmVuY2UgKyAnJyk7XG4gICAgICByZXR1cm4gc2V0VG9TdHJpbmcod3JhcHBlciwgaW5zZXJ0V3JhcERldGFpbHMoc291cmNlLCB1cGRhdGVXcmFwRGV0YWlscyhnZXRXcmFwRGV0YWlscyhzb3VyY2UpLCBiaXRtYXNrKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0J2xsIHNob3J0IG91dCBhbmQgaW52b2tlIGBpZGVudGl0eWAgaW5zdGVhZFxuICAgICAqIG9mIGBmdW5jYCB3aGVuIGl0J3MgY2FsbGVkIGBIT1RfQ09VTlRgIG9yIG1vcmUgdGltZXMgaW4gYEhPVF9TUEFOYFxuICAgICAqIG1pbGxpc2Vjb25kcy5cbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc2hvcnRhYmxlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNob3J0T3V0KGZ1bmMpIHtcbiAgICAgIHZhciBjb3VudCA9IDAsXG4gICAgICAgICAgbGFzdENhbGxlZCA9IDA7XG5cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHN0YW1wID0gbmF0aXZlTm93KCksXG4gICAgICAgICAgICByZW1haW5pbmcgPSBIT1RfU1BBTiAtIChzdGFtcCAtIGxhc3RDYWxsZWQpO1xuXG4gICAgICAgIGxhc3RDYWxsZWQgPSBzdGFtcDtcbiAgICAgICAgaWYgKHJlbWFpbmluZyA+IDApIHtcbiAgICAgICAgICBpZiAoKytjb3VudCA+PSBIT1RfQ09VTlQpIHtcbiAgICAgICAgICAgIHJldHVybiBhcmd1bWVudHNbMF07XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvdW50ID0gMDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh1bmRlZmluZWQsIGFyZ3VtZW50cyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEEgc3BlY2lhbGl6ZWQgdmVyc2lvbiBvZiBgXy5zaHVmZmxlYCB3aGljaCBtdXRhdGVzIGFuZCBzZXRzIHRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBzaHVmZmxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc2l6ZT1hcnJheS5sZW5ndGhdIFRoZSBzaXplIG9mIGBhcnJheWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZVNlbGYoYXJyYXksIHNpemUpIHtcbiAgICAgIHZhciBpbmRleCA9IC0xLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICBsYXN0SW5kZXggPSBsZW5ndGggLSAxO1xuXG4gICAgICBzaXplID0gc2l6ZSA9PT0gdW5kZWZpbmVkID8gbGVuZ3RoIDogc2l6ZTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgc2l6ZSkge1xuICAgICAgICB2YXIgcmFuZCA9IGJhc2VSYW5kb20oaW5kZXgsIGxhc3RJbmRleCksXG4gICAgICAgICAgICB2YWx1ZSA9IGFycmF5W3JhbmRdO1xuXG4gICAgICAgIGFycmF5W3JhbmRdID0gYXJyYXlbaW5kZXhdO1xuICAgICAgICBhcnJheVtpbmRleF0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGFycmF5Lmxlbmd0aCA9IHNpemU7XG4gICAgICByZXR1cm4gYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHN0cmluZ2AgdG8gYSBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gc3RyaW5nIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHByb3BlcnR5IHBhdGggYXJyYXkuXG4gICAgICovXG4gICAgdmFyIHN0cmluZ1RvUGF0aCA9IG1lbW9pemVDYXBwZWQoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gW107XG4gICAgICBpZiAoc3RyaW5nLmNoYXJDb2RlQXQoMCkgPT09IDQ2IC8qIC4gKi8pIHtcbiAgICAgICAgcmVzdWx0LnB1c2goJycpO1xuICAgICAgfVxuICAgICAgc3RyaW5nLnJlcGxhY2UocmVQcm9wTmFtZSwgZnVuY3Rpb24obWF0Y2gsIG51bWJlciwgcXVvdGUsIHN1YlN0cmluZykge1xuICAgICAgICByZXN1bHQucHVzaChxdW90ZSA/IHN1YlN0cmluZy5yZXBsYWNlKHJlRXNjYXBlQ2hhciwgJyQxJykgOiAobnVtYmVyIHx8IG1hdGNoKSk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nIGtleSBpZiBpdCdzIG5vdCBhIHN0cmluZyBvciBzeW1ib2wuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge3N0cmluZ3xzeW1ib2x9IFJldHVybnMgdGhlIGtleS5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0tleSh2YWx1ZSkge1xuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSA9PSAnc3RyaW5nJyB8fCBpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9ICh2YWx1ZSArICcnKTtcbiAgICAgIHJldHVybiAocmVzdWx0ID09ICcwJyAmJiAoMSAvIHZhbHVlKSA9PSAtSU5GSU5JVFkpID8gJy0wJyA6IHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgZnVuY2AgdG8gaXRzIHNvdXJjZSBjb2RlLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHNvdXJjZSBjb2RlLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvU291cmNlKGZ1bmMpIHtcbiAgICAgIGlmIChmdW5jICE9IG51bGwpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXR1cm4gZnVuY1RvU3RyaW5nLmNhbGwoZnVuYyk7XG4gICAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgcmV0dXJuIChmdW5jICsgJycpO1xuICAgICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgfVxuICAgICAgcmV0dXJuICcnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZXMgd3JhcHBlciBgZGV0YWlsc2AgYmFzZWQgb24gYGJpdG1hc2tgIGZsYWdzLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IGRldGFpbHMgVGhlIGRldGFpbHMgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBiaXRtYXNrIFRoZSBiaXRtYXNrIGZsYWdzLiBTZWUgYGNyZWF0ZVdyYXBgIGZvciBtb3JlIGRldGFpbHMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBkZXRhaWxzYC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXcmFwRGV0YWlscyhkZXRhaWxzLCBiaXRtYXNrKSB7XG4gICAgICBhcnJheUVhY2god3JhcEZsYWdzLCBmdW5jdGlvbihwYWlyKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9ICdfLicgKyBwYWlyWzBdO1xuICAgICAgICBpZiAoKGJpdG1hc2sgJiBwYWlyWzFdKSAmJiAhYXJyYXlJbmNsdWRlcyhkZXRhaWxzLCB2YWx1ZSkpIHtcbiAgICAgICAgICBkZXRhaWxzLnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBkZXRhaWxzLnNvcnQoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2xvbmUgb2YgYHdyYXBwZXJgLlxuICAgICAqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gd3JhcHBlciBUaGUgd3JhcHBlciB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjbG9uZWQgd3JhcHBlci5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ2xvbmUod3JhcHBlcikge1xuICAgICAgaWYgKHdyYXBwZXIgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikge1xuICAgICAgICByZXR1cm4gd3JhcHBlci5jbG9uZSgpO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IG5ldyBMb2Rhc2hXcmFwcGVyKHdyYXBwZXIuX193cmFwcGVkX18sIHdyYXBwZXIuX19jaGFpbl9fKTtcbiAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXyA9IGNvcHlBcnJheSh3cmFwcGVyLl9fYWN0aW9uc19fKTtcbiAgICAgIHJlc3VsdC5fX2luZGV4X18gID0gd3JhcHBlci5fX2luZGV4X187XG4gICAgICByZXN1bHQuX192YWx1ZXNfXyA9IHdyYXBwZXIuX192YWx1ZXNfXztcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIGdyb3VwcyB0aGUgbGVuZ3RoIG9mIGBzaXplYC5cbiAgICAgKiBJZiBgYXJyYXlgIGNhbid0IGJlIHNwbGl0IGV2ZW5seSwgdGhlIGZpbmFsIGNodW5rIHdpbGwgYmUgdGhlIHJlbWFpbmluZ1xuICAgICAqIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzaXplPTFdIFRoZSBsZW5ndGggb2YgZWFjaCBjaHVua1xuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY2h1bmtzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNodW5rKFsnYScsICdiJywgJ2MnLCAnZCddLCAyKTtcbiAgICAgKiAvLyA9PiBbWydhJywgJ2InXSwgWydjJywgJ2QnXV1cbiAgICAgKlxuICAgICAqIF8uY2h1bmsoWydhJywgJ2InLCAnYycsICdkJ10sIDMpO1xuICAgICAqIC8vID0+IFtbJ2EnLCAnYicsICdjJ10sIFsnZCddXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNodW5rKGFycmF5LCBzaXplLCBndWFyZCkge1xuICAgICAgaWYgKChndWFyZCA/IGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzaXplLCBndWFyZCkgOiBzaXplID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHNpemUgPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgc2l6ZSA9IG5hdGl2ZU1heCh0b0ludGVnZXIoc2l6ZSksIDApO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGggfHwgc2l6ZSA8IDEpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gMCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gQXJyYXkobmF0aXZlQ2VpbChsZW5ndGggLyBzaXplKSk7XG5cbiAgICAgIHdoaWxlIChpbmRleCA8IGxlbmd0aCkge1xuICAgICAgICByZXN1bHRbcmVzSW5kZXgrK10gPSBiYXNlU2xpY2UoYXJyYXksIGluZGV4LCAoaW5kZXggKz0gc2l6ZSkpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IHdpdGggYWxsIGZhbHNleSB2YWx1ZXMgcmVtb3ZlZC4gVGhlIHZhbHVlcyBgZmFsc2VgLCBgbnVsbGAsXG4gICAgICogYDBgLCBgXCJcImAsIGB1bmRlZmluZWRgLCBhbmQgYE5hTmAgYXJlIGZhbHNleS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBjb21wYWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5jb21wYWN0KFswLCAxLCBmYWxzZSwgMiwgJycsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb21wYWN0KGFycmF5KSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aCxcbiAgICAgICAgICByZXNJbmRleCA9IDAsXG4gICAgICAgICAgcmVzdWx0ID0gW107XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgcmVzdWx0W3Jlc0luZGV4KytdID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIG5ldyBhcnJheSBjb25jYXRlbmF0aW5nIGBhcnJheWAgd2l0aCBhbnkgYWRkaXRpb25hbCBhcnJheXNcbiAgICAgKiBhbmQvb3IgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGNvbmNhdGVuYXRlLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBjb25jYXRlbmF0ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBjb25jYXRlbmF0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxXTtcbiAgICAgKiB2YXIgb3RoZXIgPSBfLmNvbmNhdChhcnJheSwgMiwgWzNdLCBbWzRdXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvdGhlcik7XG4gICAgICogLy8gPT4gWzEsIDIsIDMsIFs0XV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25jYXQoKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJndW1lbnRzLmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIHZhciBhcmdzID0gQXJyYXkobGVuZ3RoIC0gMSksXG4gICAgICAgICAgYXJyYXkgPSBhcmd1bWVudHNbMF0sXG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG5cbiAgICAgIHdoaWxlIChpbmRleC0tKSB7XG4gICAgICAgIGFyZ3NbaW5kZXggLSAxXSA9IGFyZ3VtZW50c1tpbmRleF07XG4gICAgICB9XG4gICAgICByZXR1cm4gYXJyYXlQdXNoKGlzQXJyYXkoYXJyYXkpID8gY29weUFycmF5KGFycmF5KSA6IFthcnJheV0sIGJhc2VGbGF0dGVuKGFyZ3MsIDEpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGBhcnJheWAgdmFsdWVzIG5vdCBpbmNsdWRlZCBpbiB0aGUgb3RoZXIgZ2l2ZW4gYXJyYXlzXG4gICAgICogdXNpbmcgW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLndpdGhvdXQsIF8ueG9yXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZShbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICovXG4gICAgdmFyIGRpZmZlcmVuY2UgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2VPYmplY3QoYXJyYXkpXG4gICAgICAgID8gYmFzZURpZmZlcmVuY2UoYXJyYXksIGJhc2VGbGF0dGVuKHZhbHVlcywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5kaWZmZXJlbmNlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBvcmRlciBhbmQgcmVmZXJlbmNlcyBvZiByZXN1bHQgdmFsdWVzIGFyZVxuICAgICAqIGRldGVybWluZWQgYnkgdGhlIGZpcnN0IGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5wdWxsQWxsQnlgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byBleGNsdWRlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZUJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjJdXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRpZmZlcmVuY2VCeShbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sIFt7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZUJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXksIHZhbHVlcykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdCh2YWx1ZXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgYmFzZUZsYXR0ZW4odmFsdWVzLCAxLCBpc0FycmF5TGlrZU9iamVjdCwgdHJ1ZSksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSlcbiAgICAgICAgOiBbXTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZGlmZmVyZW5jZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIG9yZGVyIGFuZFxuICAgICAqIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmUgZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuIFRoZSBjb21wYXJhdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6IChhcnJWYWwsIG90aFZhbCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxBbGxXaXRoYCwgdGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFt2YWx1ZXNdIFRoZSB2YWx1ZXMgdG8gZXhjbHVkZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8uZGlmZmVyZW5jZVdpdGgob2JqZWN0cywgW3sgJ3gnOiAxLCAneSc6IDIgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgZGlmZmVyZW5jZVdpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheSwgdmFsdWVzKSB7XG4gICAgICB2YXIgY29tcGFyYXRvciA9IGxhc3QodmFsdWVzKTtcbiAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChjb21wYXJhdG9yKSkge1xuICAgICAgICBjb21wYXJhdG9yID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGlzQXJyYXlMaWtlT2JqZWN0KGFycmF5KVxuICAgICAgICA/IGJhc2VEaWZmZXJlbmNlKGFycmF5LCBiYXNlRmxhdHRlbih2YWx1ZXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBiZWdpbm5pbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKlxuICAgICAqIF8uZHJvcChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3AoWzEsIDIsIDNdLCAwKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wKGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIG4gPCAwID8gMCA6IG4sIGxlbmd0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgZHJvcHBlZCBmcm9tIHRoZSBlbmQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgZWxlbWVudHMgdG8gZHJvcC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kcm9wUmlnaHQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8uZHJvcFJpZ2h0KFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzFdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDUpO1xuICAgICAqIC8vID0+IFtdXG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BSaWdodChhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBbXTtcbiAgICAgIH1cbiAgICAgIG4gPSAoZ3VhcmQgfHwgbiA9PT0gdW5kZWZpbmVkKSA/IDEgOiB0b0ludGVnZXIobik7XG4gICAgICBuID0gbGVuZ3RoIC0gbjtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIGV4Y2x1ZGluZyBlbGVtZW50cyBkcm9wcGVkIGZyb20gdGhlIGVuZC5cbiAgICAgKiBFbGVtZW50cyBhcmUgZHJvcHBlZCB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wUmlnaHRXaGlsZSh1c2VycywgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmRyb3BSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydiYXJuZXknLCAnZnJlZCcsICdwZWJibGVzJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkcm9wUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUsIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgZXhjbHVkaW5nIGVsZW1lbnRzIGRyb3BwZWQgZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqIEVsZW1lbnRzIGFyZSBkcm9wcGVkIHVudGlsIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5LiBUaGUgcHJlZGljYXRlIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleCwgYXJyYXkpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiAhby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZHJvcFdoaWxlKHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5kcm9wV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGRyb3BXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIHRydWUpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRmlsbHMgZWxlbWVudHMgb2YgYGFycmF5YCB3aXRoIGB2YWx1ZWAgZnJvbSBgc3RhcnRgIHVwIHRvLCBidXQgbm90XG4gICAgICogaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmlsbC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBmaWxsIGBhcnJheWAgd2l0aC5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2VuZD1hcnJheS5sZW5ndGhdIFRoZSBlbmQgcG9zaXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8uZmlsbChhcnJheSwgJ2EnKTtcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2EnLCAnYSddXG4gICAgICpcbiAgICAgKiBfLmZpbGwoQXJyYXkoMyksIDIpO1xuICAgICAqIC8vID0+IFsyLCAyLCAyXVxuICAgICAqXG4gICAgICogXy5maWxsKFs0LCA2LCA4LCAxMF0sICcqJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzQsICcqJywgJyonLCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWxsKGFycmF5LCB2YWx1ZSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0ICYmIHR5cGVvZiBzdGFydCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChhcnJheSwgdmFsdWUsIHN0YXJ0KSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlRmlsbChhcnJheSwgdmFsdWUsIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZmluZGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgaW5kZXggb2YgdGhlIGZpcnN0XG4gICAgICogZWxlbWVudCBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgaW5zdGVhZCBvZiB0aGUgZWxlbWVudCBpdHNlbGYuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBmb3VuZCBlbGVtZW50LCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8uZmluZEluZGV4KHVzZXJzLCBmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXIgPT0gJ2Jhcm5leSc7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIHsgJ3VzZXInOiAnZnJlZCcsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kSW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRJbmRleCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaW5kSW5kZXgoYXJyYXksIHByZWRpY2F0ZSwgZnJvbUluZGV4KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAoIWxlbmd0aCkge1xuICAgICAgICByZXR1cm4gLTE7XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBmcm9tSW5kZXggPT0gbnVsbCA/IDAgOiB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgIGlmIChpbmRleCA8IDApIHtcbiAgICAgICAgaW5kZXggPSBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRJbmRleGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50c1xuICAgICAqIG9mIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9YXJyYXkubGVuZ3RoLTFdIFRoZSBpbmRleCB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgZm91bmQgZWxlbWVudCwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ3BlYmJsZXMnLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8udXNlciA9PSAncGViYmxlcyc7IH0pO1xuICAgICAqIC8vID0+IDJcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEluZGV4KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRMYXN0SW5kZXgodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiAwXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZExhc3RJbmRleChhcnJheSwgcHJlZGljYXRlLCBmcm9tSW5kZXgpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiAtMTtcbiAgICAgIH1cbiAgICAgIHZhciBpbmRleCA9IGxlbmd0aCAtIDE7XG4gICAgICBpZiAoZnJvbUluZGV4ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaW5kZXggPSB0b0ludGVnZXIoZnJvbUluZGV4KTtcbiAgICAgICAgaW5kZXggPSBmcm9tSW5kZXggPCAwXG4gICAgICAgICAgPyBuYXRpdmVNYXgobGVuZ3RoICsgaW5kZXgsIDApXG4gICAgICAgICAgOiBuYXRpdmVNaW4oaW5kZXgsIGxlbmd0aCAtIDEpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VGaW5kSW5kZXgoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBGbGF0dGVucyBgYXJyYXlgIGEgc2luZ2xlIGxldmVsIGRlZXAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gZmxhdHRlbi5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBmbGF0dGVuZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uZmxhdHRlbihbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCBbMywgWzRdXSwgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0dGVuKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIDEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVjdXJzaXZlbHkgZmxhdHRlbnMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBmbGF0dGVuLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZsYXR0ZW5lZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVlcChbMSwgWzIsIFszLCBbNF1dLCA1XV0pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCA0LCA1XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXR0ZW5EZWVwKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZUZsYXR0ZW4oYXJyYXksIElORklOSVRZKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlY3Vyc2l2ZWx5IGZsYXR0ZW4gYGFycmF5YCB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGZsYXR0ZW4uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMSwgWzIsIFszLCBbNF1dLCA1XV07XG4gICAgICpcbiAgICAgKiBfLmZsYXR0ZW5EZXB0aChhcnJheSwgMSk7XG4gICAgICogLy8gPT4gWzEsIDIsIFszLCBbNF1dLCA1XVxuICAgICAqXG4gICAgICogXy5mbGF0dGVuRGVwdGgoYXJyYXksIDIpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzLCBbNF0sIDVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdHRlbkRlcHRoKGFycmF5LCBkZXB0aCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgZGVwdGggPSBkZXB0aCA9PT0gdW5kZWZpbmVkID8gMSA6IHRvSW50ZWdlcihkZXB0aCk7XG4gICAgICByZXR1cm4gYmFzZUZsYXR0ZW4oYXJyYXksIGRlcHRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy50b1BhaXJzYDsgdGhpcyBtZXRob2QgcmV0dXJucyBhbiBvYmplY3QgY29tcG9zZWRcbiAgICAgKiBmcm9tIGtleS12YWx1ZSBgcGFpcnNgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gcGFpcnMgVGhlIGtleS12YWx1ZSBwYWlycy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmZyb21QYWlycyhbWydhJywgMV0sIFsnYicsIDJdXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gZnJvbVBhaXJzKHBhaXJzKSB7XG4gICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICBsZW5ndGggPSBwYWlycyA9PSBudWxsID8gMCA6IHBhaXJzLmxlbmd0aCxcbiAgICAgICAgICByZXN1bHQgPSB7fTtcblxuICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgdmFyIHBhaXIgPSBwYWlyc1tpbmRleF07XG4gICAgICAgIHJlc3VsdFtwYWlyWzBdXSA9IHBhaXJbMV07XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGZpcnN0IGVsZW1lbnQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyBmaXJzdFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZmlyc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmhlYWQoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICpcbiAgICAgKiBfLmhlYWQoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGhlYWQoYXJyYXkpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSA/IGFycmF5WzBdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIGluZGV4IGF0IHdoaWNoIHRoZSBmaXJzdCBvY2N1cnJlbmNlIG9mIGB2YWx1ZWAgaXMgZm91bmQgaW4gYGFycmF5YFxuICAgICAqIHVzaW5nIFtgU2FtZVZhbHVlWmVyb2BdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXNhbWV2YWx1ZXplcm8pXG4gICAgICogZm9yIGVxdWFsaXR5IGNvbXBhcmlzb25zLiBJZiBgZnJvbUluZGV4YCBpcyBuZWdhdGl2ZSwgaXQncyB1c2VkIGFzIHRoZVxuICAgICAqIG9mZnNldCBmcm9tIHRoZSBlbmQgb2YgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtmcm9tSW5kZXg9MF0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW5kZXhPZihbMSwgMiwgMSwgMl0sIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKlxuICAgICAqIC8vIFNlYXJjaCBmcm9tIHRoZSBgZnJvbUluZGV4YC5cbiAgICAgKiBfLmluZGV4T2YoWzEsIDIsIDEsIDJdLCAyLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gZnJvbUluZGV4ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICBpZiAoaW5kZXggPCAwKSB7XG4gICAgICAgIGluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSW5kZXhPZihhcnJheSwgdmFsdWUsIGluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIGFsbCBidXQgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbml0aWFsKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gaW5pdGlhbChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGJhc2VTbGljZShhcnJheSwgMCwgLTEpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgYXJlIGluY2x1ZGVkIGluIGFsbCBnaXZlbiBhcnJheXNcbiAgICAgKiB1c2luZyBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gVGhlIG9yZGVyIGFuZCByZWZlcmVuY2VzIG9mIHJlc3VsdCB2YWx1ZXMgYXJlXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgZmlyc3QgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb24oWzIsIDFdLCBbMiwgM10pO1xuICAgICAqIC8vID0+IFsyXVxuICAgICAqL1xuICAgIHZhciBpbnRlcnNlY3Rpb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuICAgICAgcmV0dXJuIChtYXBwZWQubGVuZ3RoICYmIG1hcHBlZFswXSA9PT0gYXJyYXlzWzBdKVxuICAgICAgICA/IGJhc2VJbnRlcnNlY3Rpb24obWFwcGVkKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb25cbiAgICAgKiBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXMgb2YgcmVzdWx0IHZhbHVlcyBhcmVcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgaW50ZXJzZWN0aW5nIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbMi4xLCAxLjJdLCBbMi4zLCAzLjRdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiBbMi4xXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5pbnRlcnNlY3Rpb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfV1cbiAgICAgKi9cbiAgICB2YXIgaW50ZXJzZWN0aW9uQnkgPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBpdGVyYXRlZSA9IGxhc3QoYXJyYXlzKSxcbiAgICAgICAgICBtYXBwZWQgPSBhcnJheU1hcChhcnJheXMsIGNhc3RBcnJheUxpa2VPYmplY3QpO1xuXG4gICAgICBpZiAoaXRlcmF0ZWUgPT09IGxhc3QobWFwcGVkKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbnRlcnNlY3Rpb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBUaGUgb3JkZXIgYW5kIHJlZmVyZW5jZXNcbiAgICAgKiBvZiByZXN1bHQgdmFsdWVzIGFyZSBkZXRlcm1pbmVkIGJ5IHRoZSBmaXJzdCBhcnJheS4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBpbnRlcnNlY3RpbmcgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV07XG4gICAgICogdmFyIG90aGVycyA9IFt7ICd4JzogMSwgJ3knOiAxIH0sIHsgJ3gnOiAxLCAneSc6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLmludGVyc2VjdGlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH1dXG4gICAgICovXG4gICAgdmFyIGludGVyc2VjdGlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpLFxuICAgICAgICAgIG1hcHBlZCA9IGFycmF5TWFwKGFycmF5cywgY2FzdEFycmF5TGlrZU9iamVjdCk7XG5cbiAgICAgIGNvbXBhcmF0b3IgPSB0eXBlb2YgY29tcGFyYXRvciA9PSAnZnVuY3Rpb24nID8gY29tcGFyYXRvciA6IHVuZGVmaW5lZDtcbiAgICAgIGlmIChjb21wYXJhdG9yKSB7XG4gICAgICAgIG1hcHBlZC5wb3AoKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiAobWFwcGVkLmxlbmd0aCAmJiBtYXBwZWRbMF0gPT09IGFycmF5c1swXSlcbiAgICAgICAgPyBiYXNlSW50ZXJzZWN0aW9uKG1hcHBlZCwgdW5kZWZpbmVkLCBjb21wYXJhdG9yKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYWxsIGVsZW1lbnRzIGluIGBhcnJheWAgaW50byBhIHN0cmluZyBzZXBhcmF0ZWQgYnkgYHNlcGFyYXRvcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gY29udmVydC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3NlcGFyYXRvcj0nLCddIFRoZSBlbGVtZW50IHNlcGFyYXRvci5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBqb2luZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmpvaW4oWydhJywgJ2InLCAnYyddLCAnficpO1xuICAgICAqIC8vID0+ICdhfmJ+YydcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBqb2luKGFycmF5LCBzZXBhcmF0b3IpIHtcbiAgICAgIHJldHVybiBhcnJheSA9PSBudWxsID8gJycgOiBuYXRpdmVKb2luLmNhbGwoYXJyYXksIHNlcGFyYXRvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbGFzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIGxhc3QgZWxlbWVudCBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxhc3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gbGFzdChhcnJheSkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgcmV0dXJuIGxlbmd0aCA/IGFycmF5W2xlbmd0aCAtIDFdIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW5kZXhPZmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBhcnJheWAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1hcnJheS5sZW5ndGgtMV0gVGhlIGluZGV4IHRvIHNlYXJjaCBmcm9tLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubGFzdEluZGV4T2YoWzEsIDIsIDEsIDJdLCAyKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiAvLyBTZWFyY2ggZnJvbSB0aGUgYGZyb21JbmRleGAuXG4gICAgICogXy5sYXN0SW5kZXhPZihbMSwgMiwgMSwgMl0sIDIsIDIpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBsYXN0SW5kZXhPZihhcnJheSwgdmFsdWUsIGZyb21JbmRleCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gbGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGluZGV4ID0gdG9JbnRlZ2VyKGZyb21JbmRleCk7XG4gICAgICAgIGluZGV4ID0gaW5kZXggPCAwID8gbmF0aXZlTWF4KGxlbmd0aCArIGluZGV4LCAwKSA6IG5hdGl2ZU1pbihpbmRleCwgbGVuZ3RoIC0gMSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdmFsdWUgPT09IHZhbHVlXG4gICAgICAgID8gc3RyaWN0TGFzdEluZGV4T2YoYXJyYXksIHZhbHVlLCBpbmRleClcbiAgICAgICAgOiBiYXNlRmluZEluZGV4KGFycmF5LCBiYXNlSXNOYU4sIGluZGV4LCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBlbGVtZW50IGF0IGluZGV4IGBuYCBvZiBgYXJyYXlgLiBJZiBgbmAgaXMgbmVnYXRpdmUsIHRoZSBudGhcbiAgICAgKiBlbGVtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjExLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgZWxlbWVudCB0byByZXR1cm4uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG50aCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnZCddO1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIDEpO1xuICAgICAqIC8vID0+ICdiJ1xuICAgICAqXG4gICAgICogXy5udGgoYXJyYXksIC0yKTtcbiAgICAgKiAvLyA9PiAnYyc7XG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoKGFycmF5LCBuKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlTnRoKGFycmF5LCB0b0ludGVnZXIobikpIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgYWxsIGdpdmVuIHZhbHVlcyBmcm9tIGBhcnJheWAgdXNpbmdcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8ud2l0aG91dGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnJlbW92ZWBcbiAgICAgKiB0byByZW1vdmUgZWxlbWVudHMgZnJvbSBhbiBhcnJheSBieSBwcmVkaWNhdGUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3ZhbHVlc10gVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbChhcnJheSwgJ2EnLCAnYycpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnYiddXG4gICAgICovXG4gICAgdmFyIHB1bGwgPSBiYXNlUmVzdChwdWxsQWxsKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiB2YWx1ZXMgdG8gcmVtb3ZlLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlYCwgdGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fSB2YWx1ZXMgVGhlIHZhbHVlcyB0byByZW1vdmUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsnYScsICdiJywgJ2MnLCAnYScsICdiJywgJ2MnXTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbChhcnJheSwgWydhJywgJ2MnXSk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFsnYicsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoICYmIHZhbHVlcyAmJiB2YWx1ZXMubGVuZ3RoKVxuICAgICAgICA/IGJhc2VQdWxsQWxsKGFycmF5LCB2YWx1ZXMpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5wdWxsQWxsYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCBhbmQgYHZhbHVlc2AgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvblxuICAgICAqIGJ5IHdoaWNoIHRoZXkncmUgY29tcGFyZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5kaWZmZXJlbmNlQnlgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMyB9LCB7ICd4JzogMSB9XTtcbiAgICAgKlxuICAgICAqIF8ucHVsbEFsbEJ5KGFycmF5LCBbeyAneCc6IDEgfSwgeyAneCc6IDMgfV0sICd4Jyk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMiB9XVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHB1bGxBbGxCeShhcnJheSwgdmFsdWVzLCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGggJiYgdmFsdWVzICYmIHZhbHVlcy5sZW5ndGgpXG4gICAgICAgID8gYmFzZVB1bGxBbGwoYXJyYXksIHZhbHVlcywgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKVxuICAgICAgICA6IGFycmF5O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucHVsbEFsbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YCB0byBgdmFsdWVzYC4gVGhlIGNvbXBhcmF0b3IgaXNcbiAgICAgKiBpbnZva2VkIHdpdGggdHdvIGFyZ3VtZW50czogKGFyclZhbCwgb3RoVmFsKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBVbmxpa2UgYF8uZGlmZmVyZW5jZVdpdGhgLCB0aGlzIG1ldGhvZCBtdXRhdGVzIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IHZhbHVlcyBUaGUgdmFsdWVzIHRvIHJlbW92ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY29tcGFyYXRvcl0gVGhlIGNvbXBhcmF0b3IgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDMsICd5JzogNCB9LCB7ICd4JzogNSwgJ3knOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5wdWxsQWxsV2l0aChhcnJheSwgW3sgJ3gnOiAzLCAneSc6IDQgfV0sIF8uaXNFcXVhbCk7XG4gICAgICogY29uc29sZS5sb2coYXJyYXkpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiA1LCAneSc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwdWxsQWxsV2l0aChhcnJheSwgdmFsdWVzLCBjb21wYXJhdG9yKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCAmJiB2YWx1ZXMgJiYgdmFsdWVzLmxlbmd0aClcbiAgICAgICAgPyBiYXNlUHVsbEFsbChhcnJheSwgdmFsdWVzLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpXG4gICAgICAgIDogYXJyYXk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBlbGVtZW50cyBmcm9tIGBhcnJheWAgY29ycmVzcG9uZGluZyB0byBgaW5kZXhlc2AgYW5kIHJldHVybnMgYW5cbiAgICAgKiBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5hdGAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHsuLi4obnVtYmVyfG51bWJlcltdKX0gW2luZGV4ZXNdIFRoZSBpbmRleGVzIG9mIGVsZW1lbnRzIHRvIHJlbW92ZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiByZW1vdmVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbJ2EnLCAnYicsICdjJywgJ2QnXTtcbiAgICAgKiB2YXIgcHVsbGVkID0gXy5wdWxsQXQoYXJyYXksIFsxLCAzXSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWydhJywgJ2MnXVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cocHVsbGVkKTtcbiAgICAgKiAvLyA9PiBbJ2InLCAnZCddXG4gICAgICovXG4gICAgdmFyIHB1bGxBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKGFycmF5LCBpbmRleGVzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGgsXG4gICAgICAgICAgcmVzdWx0ID0gYmFzZUF0KGFycmF5LCBpbmRleGVzKTtcblxuICAgICAgYmFzZVB1bGxBdChhcnJheSwgYXJyYXlNYXAoaW5kZXhlcywgZnVuY3Rpb24oaW5kZXgpIHtcbiAgICAgICAgcmV0dXJuIGlzSW5kZXgoaW5kZXgsIGxlbmd0aCkgPyAraW5kZXggOiBpbmRleDtcbiAgICAgIH0pLnNvcnQoY29tcGFyZUFzY2VuZGluZykpO1xuXG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBhbGwgZWxlbWVudHMgZnJvbSBgYXJyYXlgIHRoYXQgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yXG4gICAgICogYW5kIHJldHVybnMgYW4gYXJyYXkgb2YgdGhlIHJlbW92ZWQgZWxlbWVudHMuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLmZpbHRlcmAsIHRoaXMgbWV0aG9kIG11dGF0ZXMgYGFycmF5YC4gVXNlIGBfLnB1bGxgXG4gICAgICogdG8gcHVsbCBlbGVtZW50cyBmcm9tIGFuIGFycmF5IGJ5IHZhbHVlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVtb3ZlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDMsIDRdO1xuICAgICAqIHZhciBldmVucyA9IF8ucmVtb3ZlKGFycmF5LCBmdW5jdGlvbihuKSB7XG4gICAgICogICByZXR1cm4gbiAlIDIgPT0gMDtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgM11cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGV2ZW5zKTtcbiAgICAgKiAvLyA9PiBbMiwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZW1vdmUoYXJyYXksIHByZWRpY2F0ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IFtdO1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfVxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaW5kZXhlcyA9IFtdLFxuICAgICAgICAgIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblxuICAgICAgcHJlZGljYXRlID0gZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKTtcbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IGFycmF5W2luZGV4XTtcbiAgICAgICAgaWYgKHByZWRpY2F0ZSh2YWx1ZSwgaW5kZXgsIGFycmF5KSkge1xuICAgICAgICAgIHJlc3VsdC5wdXNoKHZhbHVlKTtcbiAgICAgICAgICBpbmRleGVzLnB1c2goaW5kZXgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBiYXNlUHVsbEF0KGFycmF5LCBpbmRleGVzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJzZXMgYGFycmF5YCBzbyB0aGF0IHRoZSBmaXJzdCBlbGVtZW50IGJlY29tZXMgdGhlIGxhc3QsIHRoZSBzZWNvbmRcbiAgICAgKiBlbGVtZW50IGJlY29tZXMgdGhlIHNlY29uZCB0byBsYXN0LCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgYXJyYXlgIGFuZCBpcyBiYXNlZCBvblxuICAgICAqIFtgQXJyYXkjcmV2ZXJzZWBdKGh0dHBzOi8vbWRuLmlvL0FycmF5L3JldmVyc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIG1vZGlmeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqXG4gICAgICogXy5yZXZlcnNlKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMywgMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZXZlcnNlKGFycmF5KSB7XG4gICAgICByZXR1cm4gYXJyYXkgPT0gbnVsbCA/IGFycmF5IDogbmF0aXZlUmV2ZXJzZS5jYWxsKGFycmF5KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCBmcm9tIGBzdGFydGAgdXAgdG8sIGJ1dCBub3QgaW5jbHVkaW5nLCBgZW5kYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyB1c2VkIGluc3RlYWQgb2ZcbiAgICAgKiBbYEFycmF5I3NsaWNlYF0oaHR0cHM6Ly9tZG4uaW8vQXJyYXkvc2xpY2UpIHRvIGVuc3VyZSBkZW5zZSBhcnJheXMgYXJlXG4gICAgICogcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gc2xpY2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgcG9zaXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtlbmQ9YXJyYXkubGVuZ3RoXSBUaGUgZW5kIHBvc2l0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzbGljZShhcnJheSwgc3RhcnQsIGVuZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGVuZCAmJiB0eXBlb2YgZW5kICE9ICdudW1iZXInICYmIGlzSXRlcmF0ZWVDYWxsKGFycmF5LCBzdGFydCwgZW5kKSkge1xuICAgICAgICBzdGFydCA9IDA7XG4gICAgICAgIGVuZCA9IGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogdG9JbnRlZ2VyKHN0YXJ0KTtcbiAgICAgICAgZW5kID0gZW5kID09PSB1bmRlZmluZWQgPyBsZW5ndGggOiB0b0ludGVnZXIoZW5kKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIHN0YXJ0LCBlbmQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVzZXMgYSBiaW5hcnkgc2VhcmNoIHRvIGRldGVybWluZSB0aGUgbG93ZXN0IGluZGV4IGF0IHdoaWNoIGB2YWx1ZWBcbiAgICAgKiBzaG91bGQgYmUgaW5zZXJ0ZWQgaW50byBgYXJyYXlgIGluIG9yZGVyIHRvIG1haW50YWluIGl0cyBzb3J0IG9yZGVyLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIHNvcnRlZCBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGV2YWx1YXRlLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zb3J0ZWRJbmRleChbMzAsIDUwXSwgNDApO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZEluZGV4YCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIGZvciBgdmFsdWVgIGFuZCBlYWNoIGVsZW1lbnQgb2YgYGFycmF5YCB0byBjb21wdXRlIHRoZWlyXG4gICAgICogc29ydCByYW5raW5nLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgaW5kZXggYXQgd2hpY2ggYHZhbHVlYCBzaG91bGQgYmUgaW5zZXJ0ZWRcbiAgICAgKiAgaW50byBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICd4JzogNCB9LCB7ICd4JzogNSB9XTtcbiAgICAgKlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCBmdW5jdGlvbihvKSB7IHJldHVybiBvLng7IH0pO1xuICAgICAqIC8vID0+IDBcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uc29ydGVkSW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRJbmRleEJ5KGFycmF5LCB2YWx1ZSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXhCeShhcnJheSwgdmFsdWUsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5pbmRleE9mYCBleGNlcHQgdGhhdCBpdCBwZXJmb3JtcyBhIGJpbmFyeVxuICAgICAqIHNlYXJjaCBvbiBhIHNvcnRlZCBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBvZiB0aGUgbWF0Y2hlZCB2YWx1ZSwgZWxzZSBgLTFgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAxXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkSW5kZXhPZihhcnJheSwgdmFsdWUpIHtcbiAgICAgIHZhciBsZW5ndGggPSBhcnJheSA9PSBudWxsID8gMCA6IGFycmF5Lmxlbmd0aDtcbiAgICAgIGlmIChsZW5ndGgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gYmFzZVNvcnRlZEluZGV4KGFycmF5LCB2YWx1ZSk7XG4gICAgICAgIGlmIChpbmRleCA8IGxlbmd0aCAmJiBlcShhcnJheVtpbmRleF0sIHZhbHVlKSkge1xuICAgICAgICAgIHJldHVybiBpbmRleDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydGVkSW5kZXhgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGhpZ2hlc3RcbiAgICAgKiBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZCBpbnRvIGBhcnJheWAgaW4gb3JkZXIgdG9cbiAgICAgKiBtYWludGFpbiBpdHMgc29ydCBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBzb3J0ZWQgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBldmFsdWF0ZS5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBpbmRleCBhdCB3aGljaCBgdmFsdWVgIHNob3VsZCBiZSBpbnNlcnRlZFxuICAgICAqICBpbnRvIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4KFs0LCA1LCA1LCA1LCA2XSwgNSk7XG4gICAgICogLy8gPT4gNFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZExhc3RJbmRleChhcnJheSwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlU29ydGVkSW5kZXgoYXJyYXksIHZhbHVlLCB0cnVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnNvcnRlZExhc3RJbmRleGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgXG4gICAgICogd2hpY2ggaXMgaW52b2tlZCBmb3IgYHZhbHVlYCBhbmQgZWFjaCBlbGVtZW50IG9mIGBhcnJheWAgdG8gY29tcHV0ZSB0aGVpclxuICAgICAqIHNvcnQgcmFua2luZy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgc29ydGVkIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gZXZhbHVhdGUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IGF0IHdoaWNoIGB2YWx1ZWAgc2hvdWxkIGJlIGluc2VydGVkXG4gICAgICogIGludG8gYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDQgfSwgeyAneCc6IDUgfV07XG4gICAgICpcbiAgICAgKiBfLnNvcnRlZExhc3RJbmRleEJ5KG9iamVjdHMsIHsgJ3gnOiA0IH0sIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ueDsgfSk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb3J0ZWRMYXN0SW5kZXhCeShvYmplY3RzLCB7ICd4JzogNCB9LCAneCcpO1xuICAgICAqIC8vID0+IDFcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRMYXN0SW5kZXhCeShhcnJheSwgdmFsdWUsIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZVNvcnRlZEluZGV4QnkoYXJyYXksIHZhbHVlLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMiksIHRydWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ubGFzdEluZGV4T2ZgIGV4Y2VwdCB0aGF0IGl0IHBlcmZvcm1zIGEgYmluYXJ5XG4gICAgICogc2VhcmNoIG9uIGEgc29ydGVkIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZWFyY2ggZm9yLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGluZGV4IG9mIHRoZSBtYXRjaGVkIHZhbHVlLCBlbHNlIGAtMWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uc29ydGVkTGFzdEluZGV4T2YoWzQsIDUsIDUsIDUsIDZdLCA1KTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICovXG4gICAgZnVuY3Rpb24gc29ydGVkTGFzdEluZGV4T2YoYXJyYXksIHZhbHVlKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoKSB7XG4gICAgICAgIHZhciBpbmRleCA9IGJhc2VTb3J0ZWRJbmRleChhcnJheSwgdmFsdWUsIHRydWUpIC0gMTtcbiAgICAgICAgaWYgKGVxKGFycmF5W2luZGV4XSwgdmFsdWUpKSB7XG4gICAgICAgICAgcmV0dXJuIGluZGV4O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bmlxYCBleGNlcHQgdGhhdCBpdCdzIGRlc2lnbmVkIGFuZCBvcHRpbWl6ZWRcbiAgICAgKiBmb3Igc29ydGVkIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXEoWzEsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzb3J0ZWRVbmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU29ydGVkVW5pcShhcnJheSlcbiAgICAgICAgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFCeWAgZXhjZXB0IHRoYXQgaXQncyBkZXNpZ25lZCBhbmQgb3B0aW1pemVkXG4gICAgICogZm9yIHNvcnRlZCBhcnJheXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWVdIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvcnRlZFVuaXFCeShbMS4xLCAxLjIsIDIuMywgMi40XSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4gWzEuMSwgMi4zXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvcnRlZFVuaXFCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VTb3J0ZWRVbmlxKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyBhbGwgYnV0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGBhcnJheWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRhaWwoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWlsKGFycmF5KSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXkgPT0gbnVsbCA/IDAgOiBhcnJheS5sZW5ndGg7XG4gICAgICByZXR1cm4gbGVuZ3RoID8gYmFzZVNsaWNlKGFycmF5LCAxLCBsZW5ndGgpIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIHNsaWNlIG9mIGBhcnJheWAgd2l0aCBgbmAgZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHRha2UuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHNsaWNlIG9mIGBhcnJheWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFsxXVxuICAgICAqXG4gICAgICogXy50YWtlKFsxLCAyLCAzXSwgMik7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiBfLnRha2UoWzEsIDIsIDNdLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZShbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZShhcnJheSwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICghKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIHJldHVybiBiYXNlU2xpY2UoYXJyYXksIDAsIG4gPCAwID8gMCA6IG4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggYG5gIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249MV0gVGhlIG51bWJlciBvZiBlbGVtZW50cyB0byB0YWtlLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IFszXVxuICAgICAqXG4gICAgICogXy50YWtlUmlnaHQoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMiwgM11cbiAgICAgKlxuICAgICAqIF8udGFrZVJpZ2h0KFsxLCAyLCAzXSwgNSk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBfLnRha2VSaWdodChbMSwgMiwgM10sIDApO1xuICAgICAqIC8vID0+IFtdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGFrZVJpZ2h0KGFycmF5LCBuLCBndWFyZCkge1xuICAgICAgdmFyIGxlbmd0aCA9IGFycmF5ID09IG51bGwgPyAwIDogYXJyYXkubGVuZ3RoO1xuICAgICAgaWYgKCFsZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgbiA9IChndWFyZCB8fCBuID09PSB1bmRlZmluZWQpID8gMSA6IHRvSW50ZWdlcihuKTtcbiAgICAgIG4gPSBsZW5ndGggLSBuO1xuICAgICAgcmV0dXJuIGJhc2VTbGljZShhcnJheSwgbiA8IDAgPyAwIDogbiwgbGVuZ3RoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgc2xpY2Ugb2YgYGFycmF5YCB3aXRoIGVsZW1lbnRzIHRha2VuIGZyb20gdGhlIGVuZC4gRWxlbWVudHMgYXJlXG4gICAgICogdGFrZW4gdW50aWwgYHByZWRpY2F0ZWAgcmV0dXJucyBmYWxzZXkuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4LCBhcnJheSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc2xpY2Ugb2YgYGFycmF5YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy50YWtlUmlnaHRXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIHsgJ3VzZXInOiAncGViYmxlcycsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ3BlYmJsZXMnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udGFrZVJpZ2h0V2hpbGUodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VSaWdodFdoaWxlKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0YWtlUmlnaHRXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMyksIGZhbHNlLCB0cnVlKVxuICAgICAgICA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzbGljZSBvZiBgYXJyYXlgIHdpdGggZWxlbWVudHMgdGFrZW4gZnJvbSB0aGUgYmVnaW5uaW5nLiBFbGVtZW50c1xuICAgICAqIGFyZSB0YWtlbiB1bnRpbCBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGhcbiAgICAgKiB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXgsIGFycmF5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBzbGljZSBvZiBgYXJyYXlgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leScsICdmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnRha2VXaGlsZSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5JywgJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy50YWtlV2hpbGUodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRha2VXaGlsZShhcnJheSwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlV2hpbGUoYXJyYXksIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpXG4gICAgICAgIDogW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzLCBpbiBvcmRlciwgZnJvbSBhbGwgZ2l2ZW4gYXJyYXlzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uKFsyXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb24gPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaW9uYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgb2YgZWFjaCBgYXJyYXlzYCB0byBnZW5lcmF0ZSB0aGUgY3JpdGVyaW9uIGJ5XG4gICAgICogd2hpY2ggdW5pcXVlbmVzcyBpcyBjb21wdXRlZC4gUmVzdWx0IHZhbHVlcyBhcmUgY2hvc2VuIGZyb20gdGhlIGZpcnN0XG4gICAgICogYXJyYXkgaW4gd2hpY2ggdGhlIHZhbHVlIG9jY3Vycy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6XG4gICAgICogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgY29tYmluZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaW9uQnkoWzIuMV0sIFsxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pb25CeShbeyAneCc6IDEgfV0sIFt7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICB2YXIgdW5pb25CeSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgdmFyIGl0ZXJhdGVlID0gbGFzdChhcnJheXMpO1xuICAgICAgaWYgKGlzQXJyYXlMaWtlT2JqZWN0KGl0ZXJhdGVlKSkge1xuICAgICAgICBpdGVyYXRlZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlVW5pcShiYXNlRmxhdHRlbihhcnJheXMsIDEsIGlzQXJyYXlMaWtlT2JqZWN0LCB0cnVlKSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pb25gIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGNvbXBhcmF0b3JgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIGVsZW1lbnRzIG9mIGBhcnJheXNgLiBSZXN1bHQgdmFsdWVzIGFyZSBjaG9zZW4gZnJvbVxuICAgICAqIHRoZSBmaXJzdCBhcnJheSBpbiB3aGljaCB0aGUgdmFsdWUgb2NjdXJzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGNvbWJpbmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlvbldpdGgob2JqZWN0cywgb3RoZXJzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfSwgeyAneCc6IDEsICd5JzogMSB9XVxuICAgICAqL1xuICAgIHZhciB1bmlvbldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VVbmlxKGJhc2VGbGF0dGVuKGFycmF5cywgMSwgaXNBcnJheUxpa2VPYmplY3QsIHRydWUpLCB1bmRlZmluZWQsIGNvbXBhcmF0b3IpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGR1cGxpY2F0ZS1mcmVlIHZlcnNpb24gb2YgYW4gYXJyYXksIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMsIGluIHdoaWNoIG9ubHkgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgZWFjaCBlbGVtZW50XG4gICAgICogaXMga2VwdC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1clxuICAgICAqIGluIHRoZSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXEoWzIsIDEsIDJdKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxKGFycmF5KSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSkgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnVuaXFgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBpbiBgYXJyYXlgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnkgd2hpY2hcbiAgICAgKiB1bmlxdWVuZXNzIGlzIGNvbXB1dGVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZVxuICAgICAqIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDpcbiAgICAgKiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGR1cGxpY2F0ZSBmcmVlIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVuaXFCeShbMi4xLCAxLjIsIDIuM10sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsyLjEsIDEuMl1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8udW5pcUJ5KFt7ICd4JzogMSB9LCB7ICd4JzogMiB9LCB7ICd4JzogMSB9XSwgJ3gnKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDEgfSwgeyAneCc6IDIgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aCkgPyBiYXNlVW5pcShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpKSA6IFtdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udW5pcWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5YC4gVGhlIG9yZGVyIG9mIHJlc3VsdCB2YWx1ZXMgaXNcbiAgICAgKiBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlciB0aGV5IG9jY3VyIGluIHRoZSBhcnJheS5UaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2NvbXBhcmF0b3JdIFRoZSBjb21wYXJhdG9yIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZHVwbGljYXRlIGZyZWUgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ3gnOiAxLCAneSc6IDIgfSwgeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy51bmlxV2l0aChvYmplY3RzLCBfLmlzRXF1YWwpO1xuICAgICAqIC8vID0+IFt7ICd4JzogMSwgJ3knOiAyIH0sIHsgJ3gnOiAyLCAneSc6IDEgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmlxV2l0aChhcnJheSwgY29tcGFyYXRvcikge1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpID8gYmFzZVVuaXEoYXJyYXksIHVuZGVmaW5lZCwgY29tcGFyYXRvcikgOiBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBhbiBhcnJheSBvZiBncm91cGVkXG4gICAgICogZWxlbWVudHMgYW5kIGNyZWF0ZXMgYW4gYXJyYXkgcmVncm91cGluZyB0aGUgZWxlbWVudHMgdG8gdGhlaXIgcHJlLXppcFxuICAgICAqIGNvbmZpZ3VyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cyB0byBwcm9jZXNzLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIHJlZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHppcHBlZCA9IF8uemlwKFsnYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gW1snYScsIDEsIHRydWVdLCBbJ2InLCAyLCBmYWxzZV1dXG4gICAgICpcbiAgICAgKiBfLnVuemlwKHppcHBlZCk7XG4gICAgICogLy8gPT4gW1snYScsICdiJ10sIFsxLCAyXSwgW3RydWUsIGZhbHNlXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bnppcChhcnJheSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgbGVuZ3RoID0gMDtcbiAgICAgIGFycmF5ID0gYXJyYXlGaWx0ZXIoYXJyYXksIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIGlmIChpc0FycmF5TGlrZU9iamVjdChncm91cCkpIHtcbiAgICAgICAgICBsZW5ndGggPSBuYXRpdmVNYXgoZ3JvdXAubGVuZ3RoLCBsZW5ndGgpO1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBiYXNlVGltZXMobGVuZ3RoLCBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICByZXR1cm4gYXJyYXlNYXAoYXJyYXksIGJhc2VQcm9wZXJ0eShpbmRleCkpO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy51bnppcGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHRvIHNwZWNpZnlcbiAgICAgKiBob3cgcmVncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzIHRvIHByb2Nlc3MuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiB0byBjb21iaW5lXG4gICAgICogIHJlZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgcmVncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgemlwcGVkID0gXy56aXAoWzEsIDJdLCBbMTAsIDIwXSwgWzEwMCwgMjAwXSk7XG4gICAgICogLy8gPT4gW1sxLCAxMCwgMTAwXSwgWzIsIDIwLCAyMDBdXVxuICAgICAqXG4gICAgICogXy51bnppcFdpdGgoemlwcGVkLCBfLmFkZCk7XG4gICAgICogLy8gPT4gWzMsIDMwLCAzMDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW56aXBXaXRoKGFycmF5LCBpdGVyYXRlZSkge1xuICAgICAgaWYgKCEoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKSkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgcmVzdWx0ID0gdW56aXAoYXJyYXkpO1xuICAgICAgaWYgKGl0ZXJhdGVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcnJheU1hcChyZXN1bHQsIGZ1bmN0aW9uKGdyb3VwKSB7XG4gICAgICAgIHJldHVybiBhcHBseShpdGVyYXRlZSwgdW5kZWZpbmVkLCBncm91cCk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IGV4Y2x1ZGluZyBhbGwgZ2l2ZW4gdmFsdWVzIHVzaW5nXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBmb3IgZXF1YWxpdHkgY29tcGFyaXNvbnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVW5saWtlIGBfLnB1bGxgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbdmFsdWVzXSBUaGUgdmFsdWVzIHRvIGV4Y2x1ZGUuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBzZWUgXy5kaWZmZXJlbmNlLCBfLnhvclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndpdGhvdXQoWzIsIDEsIDIsIDNdLCAxLCAyKTtcbiAgICAgKiAvLyA9PiBbM11cbiAgICAgKi9cbiAgICB2YXIgd2l0aG91dCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5LCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZU9iamVjdChhcnJheSlcbiAgICAgICAgPyBiYXNlRGlmZmVyZW5jZShhcnJheSwgdmFsdWVzKVxuICAgICAgICA6IFtdO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB1bmlxdWUgdmFsdWVzIHRoYXQgaXMgdGhlXG4gICAgICogW3N5bW1ldHJpYyBkaWZmZXJlbmNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9TeW1tZXRyaWNfZGlmZmVyZW5jZSlcbiAgICAgKiBvZiB0aGUgZ2l2ZW4gYXJyYXlzLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkIGJ5IHRoZSBvcmRlclxuICAgICAqIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBhcnJheSBvZiBmaWx0ZXJlZCB2YWx1ZXMuXG4gICAgICogQHNlZSBfLmRpZmZlcmVuY2UsIF8ud2l0aG91dFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvcihbMiwgMV0sIFsyLCAzXSk7XG4gICAgICogLy8gPT4gWzEsIDNdXG4gICAgICovXG4gICAgdmFyIHhvciA9IGJhc2VSZXN0KGZ1bmN0aW9uKGFycmF5cykge1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCkpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy54b3JgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGl0ZXJhdGVlYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgZm9yIGVhY2ggZWxlbWVudCBvZiBlYWNoIGBhcnJheXNgIHRvIGdlbmVyYXRlIHRoZSBjcml0ZXJpb24gYnlcbiAgICAgKiB3aGljaCBieSB3aGljaCB0aGV5J3JlIGNvbXBhcmVkLiBUaGUgb3JkZXIgb2YgcmVzdWx0IHZhbHVlcyBpcyBkZXRlcm1pbmVkXG4gICAgICogYnkgdGhlIG9yZGVyIHRoZXkgb2NjdXIgaW4gdGhlIGFycmF5cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmVcbiAgICAgKiBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZmlsdGVyZWQgdmFsdWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnhvckJ5KFsyLjEsIDEuMl0sIFsyLjMsIDMuNF0sIE1hdGguZmxvb3IpO1xuICAgICAqIC8vID0+IFsxLjIsIDMuNF1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ueG9yQnkoW3sgJ3gnOiAxIH1dLCBbeyAneCc6IDIgfSwgeyAneCc6IDEgfV0sICd4Jyk7XG4gICAgICogLy8gPT4gW3sgJ3gnOiAyIH1dXG4gICAgICovXG4gICAgdmFyIHhvckJ5ID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgaXRlcmF0ZWUgPSBsYXN0KGFycmF5cyk7XG4gICAgICBpZiAoaXNBcnJheUxpa2VPYmplY3QoaXRlcmF0ZWUpKSB7XG4gICAgICAgIGl0ZXJhdGVlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnhvcmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY29tcGFyYXRvcmAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIHRvIGNvbXBhcmUgZWxlbWVudHMgb2YgYGFycmF5c2AuIFRoZSBvcmRlciBvZiByZXN1bHQgdmFsdWVzIGlzXG4gICAgICogZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiB0aGUgYXJyYXlzLiBUaGUgY29tcGFyYXRvciBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0d28gYXJndW1lbnRzOiAoYXJyVmFsLCBvdGhWYWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IEFycmF5XG4gICAgICogQHBhcmFtIHsuLi5BcnJheX0gW2FycmF5c10gVGhlIGFycmF5cyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjb21wYXJhdG9yXSBUaGUgY29tcGFyYXRvciBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGFycmF5IG9mIGZpbHRlcmVkIHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAneCc6IDEsICd5JzogMiB9LCB7ICd4JzogMiwgJ3knOiAxIH1dO1xuICAgICAqIHZhciBvdGhlcnMgPSBbeyAneCc6IDEsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAyIH1dO1xuICAgICAqXG4gICAgICogXy54b3JXaXRoKG9iamVjdHMsIG90aGVycywgXy5pc0VxdWFsKTtcbiAgICAgKiAvLyA9PiBbeyAneCc6IDIsICd5JzogMSB9LCB7ICd4JzogMSwgJ3knOiAxIH1dXG4gICAgICovXG4gICAgdmFyIHhvcldpdGggPSBiYXNlUmVzdChmdW5jdGlvbihhcnJheXMpIHtcbiAgICAgIHZhciBjb21wYXJhdG9yID0gbGFzdChhcnJheXMpO1xuICAgICAgY29tcGFyYXRvciA9IHR5cGVvZiBjb21wYXJhdG9yID09ICdmdW5jdGlvbicgPyBjb21wYXJhdG9yIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VYb3IoYXJyYXlGaWx0ZXIoYXJyYXlzLCBpc0FycmF5TGlrZU9iamVjdCksIHVuZGVmaW5lZCwgY29tcGFyYXRvcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIGdyb3VwZWQgZWxlbWVudHMsIHRoZSBmaXJzdCBvZiB3aGljaCBjb250YWlucyB0aGVcbiAgICAgKiBmaXJzdCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCB0aGUgc2Vjb25kIG9mIHdoaWNoIGNvbnRhaW5zIHRoZVxuICAgICAqIHNlY29uZCBlbGVtZW50cyBvZiB0aGUgZ2l2ZW4gYXJyYXlzLCBhbmQgc28gb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQXJyYXlcbiAgICAgKiBAcGFyYW0gey4uLkFycmF5fSBbYXJyYXlzXSBUaGUgYXJyYXlzIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXAoWydhJywgJ2InXSwgWzEsIDJdLCBbdHJ1ZSwgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBbWydhJywgMSwgdHJ1ZV0sIFsnYicsIDIsIGZhbHNlXV1cbiAgICAgKi9cbiAgICB2YXIgemlwID0gYmFzZVJlc3QodW56aXApO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mcm9tUGFpcnNgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgdHdvIGFycmF5cyxcbiAgICAgKiBvbmUgb2YgcHJvcGVydHkgaWRlbnRpZmllcnMgYW5kIG9uZSBvZiBjb3JyZXNwb25kaW5nIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjQuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3QoWydhJywgJ2InXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3QocHJvcHMsIHZhbHVlcykge1xuICAgICAgcmV0dXJuIGJhc2VaaXBPYmplY3QocHJvcHMgfHwgW10sIHZhbHVlcyB8fCBbXSwgYXNzaWduVmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwT2JqZWN0YCBleGNlcHQgdGhhdCBpdCBzdXBwb3J0cyBwcm9wZXJ0eSBwYXRocy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEuMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFtwcm9wcz1bXV0gVGhlIHByb3BlcnR5IGlkZW50aWZpZXJzLlxuICAgICAqIEBwYXJhbSB7QXJyYXl9IFt2YWx1ZXM9W11dIFRoZSBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBPYmplY3REZWVwKFsnYS5iWzBdLmMnLCAnYS5iWzFdLmQnXSwgWzEsIDJdKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogeyAnYic6IFt7ICdjJzogMSB9LCB7ICdkJzogMiB9XSB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB6aXBPYmplY3REZWVwKHByb3BzLCB2YWx1ZXMpIHtcbiAgICAgIHJldHVybiBiYXNlWmlwT2JqZWN0KHByb3BzIHx8IFtdLCB2YWx1ZXMgfHwgW10sIGJhc2VTZXQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uemlwYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgdG8gc3BlY2lmeVxuICAgICAqIGhvdyBncm91cGVkIHZhbHVlcyBzaG91bGQgYmUgY29tYmluZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhlXG4gICAgICogZWxlbWVudHMgb2YgZWFjaCBncm91cDogKC4uLmdyb3VwKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjguMFxuICAgICAqIEBjYXRlZ29yeSBBcnJheVxuICAgICAqIEBwYXJhbSB7Li4uQXJyYXl9IFthcnJheXNdIFRoZSBhcnJheXMgdG8gcHJvY2Vzcy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIHRvIGNvbWJpbmVcbiAgICAgKiAgZ3JvdXBlZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgYXJyYXkgb2YgZ3JvdXBlZCBlbGVtZW50cy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy56aXBXaXRoKFsxLCAyXSwgWzEwLCAyMF0sIFsxMDAsIDIwMF0sIGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBhICsgYiArIGM7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gWzExMSwgMjIyXVxuICAgICAqL1xuICAgIHZhciB6aXBXaXRoID0gYmFzZVJlc3QoZnVuY3Rpb24oYXJyYXlzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gYXJyYXlzLmxlbmd0aCxcbiAgICAgICAgICBpdGVyYXRlZSA9IGxlbmd0aCA+IDEgPyBhcnJheXNbbGVuZ3RoIC0gMV0gOiB1bmRlZmluZWQ7XG5cbiAgICAgIGl0ZXJhdGVlID0gdHlwZW9mIGl0ZXJhdGVlID09ICdmdW5jdGlvbicgPyAoYXJyYXlzLnBvcCgpLCBpdGVyYXRlZSkgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gdW56aXBXaXRoKGFycmF5cywgaXRlcmF0ZWUpO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UgdGhhdCB3cmFwcyBgdmFsdWVgIHdpdGggZXhwbGljaXQgbWV0aG9kXG4gICAgICogY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuIFRoZSByZXN1bHQgb2Ygc3VjaCBzZXF1ZW5jZXMgbXVzdCBiZSB1bndyYXBwZWRcbiAgICAgKiB3aXRoIGBfI3ZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjMuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byB3cmFwLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgICdhZ2UnOiA0MCB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiB2YXIgeW91bmdlc3QgPSBfXG4gICAgICogICAuY2hhaW4odXNlcnMpXG4gICAgICogICAuc29ydEJ5KCdhZ2UnKVxuICAgICAqICAgLm1hcChmdW5jdGlvbihvKSB7XG4gICAgICogICAgIHJldHVybiBvLnVzZXIgKyAnIGlzICcgKyBvLmFnZTtcbiAgICAgKiAgIH0pXG4gICAgICogICAuaGVhZCgpXG4gICAgICogICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiAncGViYmxlcyBpcyAxJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNoYWluKHZhbHVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoKHZhbHVlKTtcbiAgICAgIHJlc3VsdC5fX2NoYWluX18gPSB0cnVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpbnZva2VzIGBpbnRlcmNlcHRvcmAgYW5kIHJldHVybnMgYHZhbHVlYC4gVGhlIGludGVyY2VwdG9yXG4gICAgICogaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDsgKHZhbHVlKS4gVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG9cbiAgICAgKiBcInRhcCBpbnRvXCIgYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UgaW4gb3JkZXIgdG8gbW9kaWZ5IGludGVybWVkaWF0ZSByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb3ZpZGUgdG8gYGludGVyY2VwdG9yYC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBpbnRlcmNlcHRvciBUaGUgZnVuY3Rpb24gdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIGB2YWx1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8oWzEsIDIsIDNdKVxuICAgICAqICAudGFwKGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgICogICAgLy8gTXV0YXRlIGlucHV0IGFycmF5LlxuICAgICAqICAgIGFycmF5LnBvcCgpO1xuICAgICAqICB9KVxuICAgICAqICAucmV2ZXJzZSgpXG4gICAgICogIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRhcCh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIGludGVyY2VwdG9yKHZhbHVlKTtcbiAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnRhcGAgZXhjZXB0IHRoYXQgaXQgcmV0dXJucyB0aGUgcmVzdWx0IG9mIGBpbnRlcmNlcHRvcmAuXG4gICAgICogVGhlIHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJwYXNzIHRocnVcIiB2YWx1ZXMgcmVwbGFjaW5nIGludGVybWVkaWF0ZVxuICAgICAqIHJlc3VsdHMgaW4gYSBtZXRob2QgY2hhaW4gc2VxdWVuY2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcHJvdmlkZSB0byBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGludGVyY2VwdG9yIFRoZSBmdW5jdGlvbiB0byBpbnZva2UuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiBgaW50ZXJjZXB0b3JgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfKCcgIGFiYyAgJylcbiAgICAgKiAgLmNoYWluKClcbiAgICAgKiAgLnRyaW0oKVxuICAgICAqICAudGhydShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgIHJldHVybiBbdmFsdWVdO1xuICAgICAqICB9KVxuICAgICAqICAudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbJ2FiYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhydSh2YWx1ZSwgaW50ZXJjZXB0b3IpIHtcbiAgICAgIHJldHVybiBpbnRlcmNlcHRvcih2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgdGhlIHdyYXBwZXIgdmVyc2lvbiBvZiBgXy5hdGAuXG4gICAgICpcbiAgICAgKiBAbmFtZSBhdFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IFtwYXRoc10gVGhlIHByb3BlcnR5IHBhdGhzIHRvIHBpY2suXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfKG9iamVjdCkuYXQoWydhWzBdLmIuYycsICdhWzFdJ10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICovXG4gICAgdmFyIHdyYXBwZXJBdCA9IGZsYXRSZXN0KGZ1bmN0aW9uKHBhdGhzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGF0aHMubGVuZ3RoLFxuICAgICAgICAgIHN0YXJ0ID0gbGVuZ3RoID8gcGF0aHNbMF0gOiAwLFxuICAgICAgICAgIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICBpbnRlcmNlcHRvciA9IGZ1bmN0aW9uKG9iamVjdCkgeyByZXR1cm4gYmFzZUF0KG9iamVjdCwgcGF0aHMpOyB9O1xuXG4gICAgICBpZiAobGVuZ3RoID4gMSB8fCB0aGlzLl9fYWN0aW9uc19fLmxlbmd0aCB8fFxuICAgICAgICAgICEodmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcikgfHwgIWlzSW5kZXgoc3RhcnQpKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSB2YWx1ZS5zbGljZShzdGFydCwgK3N0YXJ0ICsgKGxlbmd0aCA/IDEgOiAwKSk7XG4gICAgICB2YWx1ZS5fX2FjdGlvbnNfXy5wdXNoKHtcbiAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAnYXJncyc6IFtpbnRlcmNlcHRvcl0sXG4gICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICB9KTtcbiAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcih2YWx1ZSwgdGhpcy5fX2NoYWluX18pLnRocnUoZnVuY3Rpb24oYXJyYXkpIHtcbiAgICAgICAgaWYgKGxlbmd0aCAmJiAhYXJyYXkubGVuZ3RoKSB7XG4gICAgICAgICAgYXJyYXkucHVzaCh1bmRlZmluZWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhcnJheTtcbiAgICAgIH0pO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2Ugd2l0aCBleHBsaWNpdCBtZXRob2QgY2hhaW4gc2VxdWVuY2VzIGVuYWJsZWQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjaGFpblxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IFNlcVxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBgbG9kYXNoYCB3cmFwcGVyIGluc3RhbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogNDAgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBBIHNlcXVlbmNlIHdpdGhvdXQgZXhwbGljaXQgY2hhaW5pbmcuXG4gICAgICogXyh1c2VycykuaGVhZCgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM2IH1cbiAgICAgKlxuICAgICAqIC8vIEEgc2VxdWVuY2Ugd2l0aCBleHBsaWNpdCBjaGFpbmluZy5cbiAgICAgKiBfKHVzZXJzKVxuICAgICAqICAgLmNoYWluKClcbiAgICAgKiAgIC5oZWFkKClcbiAgICAgKiAgIC5waWNrKCd1c2VyJylcbiAgICAgKiAgIC52YWx1ZSgpO1xuICAgICAqIC8vID0+IHsgJ3VzZXInOiAnYmFybmV5JyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlckNoYWluKCkge1xuICAgICAgcmV0dXJuIGNoYWluKHRoaXMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGVzIHRoZSBjaGFpbiBzZXF1ZW5jZSBhbmQgcmV0dXJucyB0aGUgd3JhcHBlZCByZXN1bHQuXG4gICAgICpcbiAgICAgKiBAbmFtZSBjb21taXRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDJdO1xuICAgICAqIHZhciB3cmFwcGVkID0gXyhhcnJheSkucHVzaCgzKTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQgPSB3cmFwcGVkLmNvbW1pdCgpO1xuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIHdyYXBwZWQubGFzdCgpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKGFycmF5KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyQ29tbWl0KCkge1xuICAgICAgcmV0dXJuIG5ldyBMb2Rhc2hXcmFwcGVyKHRoaXMudmFsdWUoKSwgdGhpcy5fX2NoYWluX18pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG5leHQgdmFsdWUgb24gYSB3cmFwcGVkIG9iamVjdCBmb2xsb3dpbmcgdGhlXG4gICAgICogW2l0ZXJhdG9yIHByb3RvY29sXShodHRwczovL21kbi5pby9pdGVyYXRpb25fcHJvdG9jb2xzI2l0ZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBuYW1lIG5leHRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXh0IGl0ZXJhdG9yIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKTtcbiAgICAgKlxuICAgICAqIHdyYXBwZWQubmV4dCgpO1xuICAgICAqIC8vID0+IHsgJ2RvbmUnOiBmYWxzZSwgJ3ZhbHVlJzogMSB9XG4gICAgICpcbiAgICAgKiB3cmFwcGVkLm5leHQoKTtcbiAgICAgKiAvLyA9PiB7ICdkb25lJzogZmFsc2UsICd2YWx1ZSc6IDIgfVxuICAgICAqXG4gICAgICogd3JhcHBlZC5uZXh0KCk7XG4gICAgICogLy8gPT4geyAnZG9uZSc6IHRydWUsICd2YWx1ZSc6IHVuZGVmaW5lZCB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlck5leHQoKSB7XG4gICAgICBpZiAodGhpcy5fX3ZhbHVlc19fID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5fX3ZhbHVlc19fID0gdG9BcnJheSh0aGlzLnZhbHVlKCkpO1xuICAgICAgfVxuICAgICAgdmFyIGRvbmUgPSB0aGlzLl9faW5kZXhfXyA+PSB0aGlzLl9fdmFsdWVzX18ubGVuZ3RoLFxuICAgICAgICAgIHZhbHVlID0gZG9uZSA/IHVuZGVmaW5lZCA6IHRoaXMuX192YWx1ZXNfX1t0aGlzLl9faW5kZXhfXysrXTtcblxuICAgICAgcmV0dXJuIHsgJ2RvbmUnOiBkb25lLCAndmFsdWUnOiB2YWx1ZSB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVuYWJsZXMgdGhlIHdyYXBwZXIgdG8gYmUgaXRlcmFibGUuXG4gICAgICpcbiAgICAgKiBAbmFtZSBTeW1ib2wuaXRlcmF0b3JcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSB3cmFwcGVyIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHdyYXBwZWQgPSBfKFsxLCAyXSk7XG4gICAgICpcbiAgICAgKiB3cmFwcGVkW1N5bWJvbC5pdGVyYXRvcl0oKSA9PT0gd3JhcHBlZDtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBBcnJheS5mcm9tKHdyYXBwZWQpO1xuICAgICAqIC8vID0+IFsxLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdyYXBwZXJUb0l0ZXJhdG9yKCkge1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNsb25lIG9mIHRoZSBjaGFpbiBzZXF1ZW5jZSBwbGFudGluZyBgdmFsdWVgIGFzIHRoZSB3cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgcGxhbnRcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBTZXFcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBwbGFudC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgYGxvZGFzaGAgd3JhcHBlciBpbnN0YW5jZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgd3JhcHBlZCA9IF8oWzEsIDJdKS5tYXAoc3F1YXJlKTtcbiAgICAgKiB2YXIgb3RoZXIgPSB3cmFwcGVkLnBsYW50KFszLCA0XSk7XG4gICAgICpcbiAgICAgKiBvdGhlci52YWx1ZSgpO1xuICAgICAqIC8vID0+IFs5LCAxNl1cbiAgICAgKlxuICAgICAqIHdyYXBwZWQudmFsdWUoKTtcbiAgICAgKiAvLyA9PiBbMSwgNF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB3cmFwcGVyUGxhbnQodmFsdWUpIHtcbiAgICAgIHZhciByZXN1bHQsXG4gICAgICAgICAgcGFyZW50ID0gdGhpcztcblxuICAgICAgd2hpbGUgKHBhcmVudCBpbnN0YW5jZW9mIGJhc2VMb2Rhc2gpIHtcbiAgICAgICAgdmFyIGNsb25lID0gd3JhcHBlckNsb25lKHBhcmVudCk7XG4gICAgICAgIGNsb25lLl9faW5kZXhfXyA9IDA7XG4gICAgICAgIGNsb25lLl9fdmFsdWVzX18gPSB1bmRlZmluZWQ7XG4gICAgICAgIGlmIChyZXN1bHQpIHtcbiAgICAgICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IGNsb25lO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdCA9IGNsb25lO1xuICAgICAgICB9XG4gICAgICAgIHZhciBwcmV2aW91cyA9IGNsb25lO1xuICAgICAgICBwYXJlbnQgPSBwYXJlbnQuX193cmFwcGVkX187XG4gICAgICB9XG4gICAgICBwcmV2aW91cy5fX3dyYXBwZWRfXyA9IHZhbHVlO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyB0aGUgd3JhcHBlciB2ZXJzaW9uIG9mIGBfLnJldmVyc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgdGhlIHdyYXBwZWQgYXJyYXkuXG4gICAgICpcbiAgICAgKiBAbmFtZSByZXZlcnNlXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGBsb2Rhc2hgIHdyYXBwZXIgaW5zdGFuY2UuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFsxLCAyLCAzXTtcbiAgICAgKlxuICAgICAqIF8oYXJyYXkpLnJldmVyc2UoKS52YWx1ZSgpXG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheSk7XG4gICAgICogLy8gPT4gWzMsIDIsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclJldmVyc2UoKSB7XG4gICAgICB2YXIgdmFsdWUgPSB0aGlzLl9fd3JhcHBlZF9fO1xuICAgICAgaWYgKHZhbHVlIGluc3RhbmNlb2YgTGF6eVdyYXBwZXIpIHtcbiAgICAgICAgdmFyIHdyYXBwZWQgPSB2YWx1ZTtcbiAgICAgICAgaWYgKHRoaXMuX19hY3Rpb25zX18ubGVuZ3RoKSB7XG4gICAgICAgICAgd3JhcHBlZCA9IG5ldyBMYXp5V3JhcHBlcih0aGlzKTtcbiAgICAgICAgfVxuICAgICAgICB3cmFwcGVkID0gd3JhcHBlZC5yZXZlcnNlKCk7XG4gICAgICAgIHdyYXBwZWQuX19hY3Rpb25zX18ucHVzaCh7XG4gICAgICAgICAgJ2Z1bmMnOiB0aHJ1LFxuICAgICAgICAgICdhcmdzJzogW3JldmVyc2VdLFxuICAgICAgICAgICd0aGlzQXJnJzogdW5kZWZpbmVkXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbmV3IExvZGFzaFdyYXBwZXIod3JhcHBlZCwgdGhpcy5fX2NoYWluX18pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXMudGhydShyZXZlcnNlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFeGVjdXRlcyB0aGUgY2hhaW4gc2VxdWVuY2UgdG8gcmVzb2x2ZSB0aGUgdW53cmFwcGVkIHZhbHVlLlxuICAgICAqXG4gICAgICogQG5hbWUgdmFsdWVcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBhbGlhcyB0b0pTT04sIHZhbHVlT2ZcbiAgICAgKiBAY2F0ZWdvcnkgU2VxXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHVud3JhcHBlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXyhbMSwgMiwgM10pLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcHBlclZhbHVlKCkge1xuICAgICAgcmV0dXJuIGJhc2VXcmFwcGVyVmFsdWUodGhpcy5fX3dyYXBwZWRfXywgdGhpcy5fX2FjdGlvbnNfXyk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2Yga2V5cyBnZW5lcmF0ZWQgZnJvbSB0aGUgcmVzdWx0cyBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAuIFRoZSBjb3JyZXNwb25kaW5nIHZhbHVlIG9mXG4gICAgICogZWFjaCBrZXkgaXMgdGhlIG51bWJlciBvZiB0aW1lcyB0aGUga2V5IHdhcyByZXR1cm5lZCBieSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSB0byB0cmFuc2Zvcm0ga2V5cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBjb21wb3NlZCBhZ2dyZWdhdGUgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNvdW50QnkoWzYuMSwgNC4yLCA2LjNdLCBNYXRoLmZsb29yKTtcbiAgICAgKiAvLyA9PiB7ICc0JzogMSwgJzYnOiAyIH1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uY291bnRCeShbJ29uZScsICd0d28nLCAndGhyZWUnXSwgJ2xlbmd0aCcpO1xuICAgICAqIC8vID0+IHsgJzMnOiAyLCAnNSc6IDEgfVxuICAgICAqL1xuICAgIHZhciBjb3VudEJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHJlc3VsdCwga2V5KSkge1xuICAgICAgICArK3Jlc3VsdFtrZXldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCAxKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeSBmb3IgKiphbGwqKiBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIGZhbHNleS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB0cnVlYCBmb3JcbiAgICAgKiBbZW1wdHkgY29sbGVjdGlvbnNdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0VtcHR5X3NldCkgYmVjYXVzZVxuICAgICAqIFtldmVyeXRoaW5nIGlzIHRydWVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1ZhY3VvdXNfdHJ1dGgpIG9mXG4gICAgICogZWxlbWVudHMgb2YgZW1wdHkgY29sbGVjdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYWxsIGVsZW1lbnRzIHBhc3MgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmV2ZXJ5KFt0cnVlLCAxLCBudWxsLCAneWVzJ10sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCB7ICd1c2VyJzogJ2Jhcm5leScsICdhY3RpdmUnOiBmYWxzZSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZXZlcnkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmV2ZXJ5KHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBldmVyeShjb2xsZWN0aW9uLCBwcmVkaWNhdGUsIGd1YXJkKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUV2ZXJ5IDogYmFzZUV2ZXJ5O1xuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKGNvbGxlY3Rpb24sIHByZWRpY2F0ZSwgZ3VhcmQpKSB7XG4gICAgICAgIHByZWRpY2F0ZSA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24sIGdldEl0ZXJhdGVlKHByZWRpY2F0ZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gLCByZXR1cm5pbmcgYW4gYXJyYXkgb2YgYWxsIGVsZW1lbnRzXG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBgXy5yZW1vdmVgLCB0aGlzIG1ldGhvZCByZXR1cm5zIGEgbmV3IGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3ByZWRpY2F0ZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGZpbHRlcmVkIGFycmF5LlxuICAgICAqIEBzZWUgXy5yZWplY3RcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuICFvLmFjdGl2ZTsgfSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgWydmcmVkJ11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maWx0ZXIodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2Jhcm5leSddXG4gICAgICpcbiAgICAgKiAvLyBDb21iaW5pbmcgc2V2ZXJhbCBwcmVkaWNhdGVzIHVzaW5nIGBfLm92ZXJFdmVyeWAgb3IgYF8ub3ZlclNvbWVgLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLm92ZXJTb21lKFt7ICdhZ2UnOiAzNiB9LCBbJ2FnZScsIDQwXV0pKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnLCAnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmaWx0ZXIoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mIGBjb2xsZWN0aW9uYCwgcmV0dXJuaW5nIHRoZSBmaXJzdCBlbGVtZW50XG4gICAgICogYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yLiBUaGUgcHJlZGljYXRlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAncGViYmxlcycsICdhZ2UnOiAxLCAgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kKHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdwZWJibGVzJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdCBmb3IgJ2ZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmQodXNlcnMsICdhY3RpdmUnKTtcbiAgICAgKiAvLyA9PiBvYmplY3QgZm9yICdiYXJuZXknXG4gICAgICovXG4gICAgdmFyIGZpbmQgPSBjcmVhdGVGaW5kKGZpbmRJbmRleCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD1jb2xsZWN0aW9uLmxlbmd0aC0xXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1hdGNoZWQgZWxlbWVudCwgZWxzZSBgdW5kZWZpbmVkYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5maW5kTGFzdChbMSwgMiwgMywgNF0sIGZ1bmN0aW9uKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICUgMiA9PSAxO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICB2YXIgZmluZExhc3QgPSBjcmVhdGVGaW5kKGZpbmRMYXN0SW5kZXgpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZsYXR0ZW5lZCBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gXG4gICAgICogdGhydSBgaXRlcmF0ZWVgIGFuZCBmbGF0dGVuaW5nIHRoZSBtYXBwZWQgcmVzdWx0cy4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBpbmRleHxrZXksIGNvbGxlY3Rpb24pLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtuLCBuXTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLmZsYXRNYXAoWzEsIDJdLCBkdXBsaWNhdGUpO1xuICAgICAqIC8vID0+IFsxLCAxLCAyLCAyXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsYXRNYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCAxKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZsYXRNYXBgIGV4Y2VwdCB0aGF0IGl0IHJlY3Vyc2l2ZWx5IGZsYXR0ZW5zIHRoZVxuICAgICAqIG1hcHBlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVlcChbMSwgMl0sIGR1cGxpY2F0ZSk7XG4gICAgICogLy8gPT4gWzEsIDEsIDIsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmxhdE1hcERlZXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBJTkZJTklUWSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbGF0TWFwYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBmbGF0dGVucyB0aGVcbiAgICAgKiBtYXBwZWQgcmVzdWx0cyB1cCB0byBgZGVwdGhgIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtkZXB0aD0xXSBUaGUgbWF4aW11bSByZWN1cnNpb24gZGVwdGguXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmxhdHRlbmVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBkdXBsaWNhdGUobikge1xuICAgICAqICAgcmV0dXJuIFtbW24sIG5dXV07XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5mbGF0TWFwRGVwdGgoWzEsIDJdLCBkdXBsaWNhdGUsIDIpO1xuICAgICAqIC8vID0+IFtbMSwgMV0sIFsyLCAyXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmbGF0TWFwRGVwdGgoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGRlcHRoKSB7XG4gICAgICBkZXB0aCA9IGRlcHRoID09PSB1bmRlZmluZWQgPyAxIDogdG9JbnRlZ2VyKGRlcHRoKTtcbiAgICAgIHJldHVybiBiYXNlRmxhdHRlbihtYXAoY29sbGVjdGlvbiwgaXRlcmF0ZWUpLCBkZXB0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZiBgY29sbGVjdGlvbmAgYW5kIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBlbGVtZW50LlxuICAgICAqIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICogSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0IGl0ZXJhdGlvbiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIEFzIHdpdGggb3RoZXIgXCJDb2xsZWN0aW9uc1wiIG1ldGhvZHMsIG9iamVjdHMgd2l0aCBhIFwibGVuZ3RoXCJcbiAgICAgKiBwcm9wZXJ0eSBhcmUgaXRlcmF0ZWQgbGlrZSBhcnJheXMuIFRvIGF2b2lkIHRoaXMgYmVoYXZpb3IgdXNlIGBfLmZvckluYFxuICAgICAqIG9yIGBfLmZvck93bmAgZm9yIG9iamVjdCBpdGVyYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAYWxpYXMgZWFjaFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheXxPYmplY3R9IFJldHVybnMgYGNvbGxlY3Rpb25gLlxuICAgICAqIEBzZWUgXy5mb3JFYWNoUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoKFsxLCAyXSwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHZhbHVlKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiBMb2dzIGAxYCB0aGVuIGAyYC5cbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaCh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yRWFjaChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoIDogYmFzZUVhY2g7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uZm9yRWFjaGAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBlbGVtZW50cyBvZlxuICAgICAqIGBjb2xsZWN0aW9uYCBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAYWxpYXMgZWFjaFJpZ2h0XG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fE9iamVjdH0gUmV0dXJucyBgY29sbGVjdGlvbmAuXG4gICAgICogQHNlZSBfLmZvckVhY2hcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mb3JFYWNoUmlnaHQoWzEsIDJdLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgY29uc29sZS5sb2codmFsdWUpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgYDJgIHRoZW4gYDFgLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckVhY2hSaWdodChjb2xsZWN0aW9uLCBpdGVyYXRlZSkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlFYWNoUmlnaHQgOiBiYXNlRWFjaFJpZ2h0O1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiBrZXlzIGdlbmVyYXRlZCBmcm9tIHRoZSByZXN1bHRzIG9mIHJ1bm5pbmdcbiAgICAgKiBlYWNoIGVsZW1lbnQgb2YgYGNvbGxlY3Rpb25gIHRocnUgYGl0ZXJhdGVlYC4gVGhlIG9yZGVyIG9mIGdyb3VwZWQgdmFsdWVzXG4gICAgICogaXMgZGV0ZXJtaW5lZCBieSB0aGUgb3JkZXIgdGhleSBvY2N1ciBpbiBgY29sbGVjdGlvbmAuIFRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogdmFsdWUgb2YgZWFjaCBrZXkgaXMgYW4gYXJyYXkgb2YgZWxlbWVudHMgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlXG4gICAgICoga2V5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ncm91cEJ5KFs2LjEsIDQuMiwgNi4zXSwgTWF0aC5mbG9vcik7XG4gICAgICogLy8gPT4geyAnNCc6IFs0LjJdLCAnNic6IFs2LjEsIDYuM10gfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5ncm91cEJ5KFsnb25lJywgJ3R3bycsICd0aHJlZSddLCAnbGVuZ3RoJyk7XG4gICAgICogLy8gPT4geyAnMyc6IFsnb25lJywgJ3R3byddLCAnNSc6IFsndGhyZWUnXSB9XG4gICAgICovXG4gICAgdmFyIGdyb3VwQnkgPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKGhhc093blByb3BlcnR5LmNhbGwocmVzdWx0LCBrZXkpKSB7XG4gICAgICAgIHJlc3VsdFtrZXldLnB1c2godmFsdWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwga2V5LCBbdmFsdWVdKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGluIGBjb2xsZWN0aW9uYC4gSWYgYGNvbGxlY3Rpb25gIGlzIGEgc3RyaW5nLCBpdCdzXG4gICAgICogY2hlY2tlZCBmb3IgYSBzdWJzdHJpbmcgb2YgYHZhbHVlYCwgb3RoZXJ3aXNlXG4gICAgICogW2BTYW1lVmFsdWVaZXJvYF0oaHR0cDovL2VjbWEtaW50ZXJuYXRpb25hbC5vcmcvZWNtYS0yNjIvNy4wLyNzZWMtc2FtZXZhbHVlemVybylcbiAgICAgKiBpcyB1c2VkIGZvciBlcXVhbGl0eSBjb21wYXJpc29ucy4gSWYgYGZyb21JbmRleGAgaXMgbmVnYXRpdmUsIGl0J3MgdXNlZCBhc1xuICAgICAqIHRoZSBvZmZzZXQgZnJvbSB0aGUgZW5kIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R8c3RyaW5nfSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2Zyb21JbmRleD0wXSBUaGUgaW5kZXggdG8gc2VhcmNoIGZyb20uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ucmVkdWNlYC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBmb3VuZCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKFsxLCAyLCAzXSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcyhbMSwgMiwgM10sIDEsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluY2x1ZGVzKHsgJ2EnOiAxLCAnYic6IDIgfSwgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pbmNsdWRlcygnYWJjZCcsICdiYycpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpbmNsdWRlcyhjb2xsZWN0aW9uLCB2YWx1ZSwgZnJvbUluZGV4LCBndWFyZCkge1xuICAgICAgY29sbGVjdGlvbiA9IGlzQXJyYXlMaWtlKGNvbGxlY3Rpb24pID8gY29sbGVjdGlvbiA6IHZhbHVlcyhjb2xsZWN0aW9uKTtcbiAgICAgIGZyb21JbmRleCA9IChmcm9tSW5kZXggJiYgIWd1YXJkKSA/IHRvSW50ZWdlcihmcm9tSW5kZXgpIDogMDtcblxuICAgICAgdmFyIGxlbmd0aCA9IGNvbGxlY3Rpb24ubGVuZ3RoO1xuICAgICAgaWYgKGZyb21JbmRleCA8IDApIHtcbiAgICAgICAgZnJvbUluZGV4ID0gbmF0aXZlTWF4KGxlbmd0aCArIGZyb21JbmRleCwgMCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbilcbiAgICAgICAgPyAoZnJvbUluZGV4IDw9IGxlbmd0aCAmJiBjb2xsZWN0aW9uLmluZGV4T2YodmFsdWUsIGZyb21JbmRleCkgPiAtMSlcbiAgICAgICAgOiAoISFsZW5ndGggJiYgYmFzZUluZGV4T2YoY29sbGVjdGlvbiwgdmFsdWUsIGZyb21JbmRleCkgPiAtMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gLCByZXR1cm5pbmdcbiAgICAgKiBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZiBlYWNoIGludm9rZWQgbWV0aG9kLiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHNcbiAgICAgKiBhcmUgcHJvdmlkZWQgdG8gZWFjaCBpbnZva2VkIG1ldGhvZC4gSWYgYHBhdGhgIGlzIGEgZnVuY3Rpb24sIGl0J3MgaW52b2tlZFxuICAgICAqIGZvciwgYW5kIGB0aGlzYCBib3VuZCB0bywgZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7QXJyYXl8RnVuY3Rpb258c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBtZXRob2QgdG8gaW52b2tlIG9yXG4gICAgICogIHRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgZWFjaCBtZXRob2Qgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHJlc3VsdHMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaW52b2tlTWFwKFtbNSwgMSwgN10sIFszLCAyLCAxXV0sICdzb3J0Jyk7XG4gICAgICogLy8gPT4gW1sxLCA1LCA3XSwgWzEsIDIsIDNdXVxuICAgICAqXG4gICAgICogXy5pbnZva2VNYXAoWzEyMywgNDU2XSwgU3RyaW5nLnByb3RvdHlwZS5zcGxpdCwgJycpO1xuICAgICAqIC8vID0+IFtbJzEnLCAnMicsICczJ10sIFsnNCcsICc1JywgJzYnXV1cbiAgICAgKi9cbiAgICB2YXIgaW52b2tlTWFwID0gYmFzZVJlc3QoZnVuY3Rpb24oY29sbGVjdGlvbiwgcGF0aCwgYXJncykge1xuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgaXNGdW5jID0gdHlwZW9mIHBhdGggPT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICByZXN1bHQgPSBpc0FycmF5TGlrZShjb2xsZWN0aW9uKSA/IEFycmF5KGNvbGxlY3Rpb24ubGVuZ3RoKSA6IFtdO1xuXG4gICAgICBiYXNlRWFjaChjb2xsZWN0aW9uLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICByZXN1bHRbKytpbmRleF0gPSBpc0Z1bmMgPyBhcHBseShwYXRoLCB2YWx1ZSwgYXJncykgOiBiYXNlSW52b2tlKHZhbHVlLCBwYXRoLCBhcmdzKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IGNvbXBvc2VkIG9mIGtleXMgZ2VuZXJhdGVkIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZ1xuICAgICAqIGVhY2ggZWxlbWVudCBvZiBgY29sbGVjdGlvbmAgdGhydSBgaXRlcmF0ZWVgLiBUaGUgY29ycmVzcG9uZGluZyB2YWx1ZSBvZlxuICAgICAqIGVhY2gga2V5IGlzIHRoZSBsYXN0IGVsZW1lbnQgcmVzcG9uc2libGUgZm9yIGdlbmVyYXRpbmcgdGhlIGtleS4gVGhlXG4gICAgICogaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgdG8gdHJhbnNmb3JtIGtleXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgY29tcG9zZWQgYWdncmVnYXRlIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gW1xuICAgICAqICAgeyAnZGlyJzogJ2xlZnQnLCAnY29kZSc6IDk3IH0sXG4gICAgICogICB7ICdkaXInOiAncmlnaHQnLCAnY29kZSc6IDEwMCB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIF8ua2V5QnkoYXJyYXksIGZ1bmN0aW9uKG8pIHtcbiAgICAgKiAgIHJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlKG8uY29kZSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4geyAnYSc6IHsgJ2Rpcic6ICdsZWZ0JywgJ2NvZGUnOiA5NyB9LCAnZCc6IHsgJ2Rpcic6ICdyaWdodCcsICdjb2RlJzogMTAwIH0gfVxuICAgICAqXG4gICAgICogXy5rZXlCeShhcnJheSwgJ2RpcicpO1xuICAgICAqIC8vID0+IHsgJ2xlZnQnOiB7ICdkaXInOiAnbGVmdCcsICdjb2RlJzogOTcgfSwgJ3JpZ2h0JzogeyAnZGlyJzogJ3JpZ2h0JywgJ2NvZGUnOiAxMDAgfSB9XG4gICAgICovXG4gICAgdmFyIGtleUJ5ID0gY3JlYXRlQWdncmVnYXRvcihmdW5jdGlvbihyZXN1bHQsIHZhbHVlLCBrZXkpIHtcbiAgICAgIGJhc2VBc3NpZ25WYWx1ZShyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgYnkgcnVubmluZyBlYWNoIGVsZW1lbnQgaW4gYGNvbGxlY3Rpb25gIHRocnVcbiAgICAgKiBgaXRlcmF0ZWVgLiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIHRocmVlIGFyZ3VtZW50czpcbiAgICAgKiAodmFsdWUsIGluZGV4fGtleSwgY29sbGVjdGlvbikuXG4gICAgICpcbiAgICAgKiBNYW55IGxvZGFzaCBtZXRob2RzIGFyZSBndWFyZGVkIHRvIHdvcmsgYXMgaXRlcmF0ZWVzIGZvciBtZXRob2RzIGxpa2VcbiAgICAgKiBgXy5ldmVyeWAsIGBfLmZpbHRlcmAsIGBfLm1hcGAsIGBfLm1hcFZhbHVlc2AsIGBfLnJlamVjdGAsIGFuZCBgXy5zb21lYC5cbiAgICAgKlxuICAgICAqIFRoZSBndWFyZGVkIG1ldGhvZHMgYXJlOlxuICAgICAqIGBhcnlgLCBgY2h1bmtgLCBgY3VycnlgLCBgY3VycnlSaWdodGAsIGBkcm9wYCwgYGRyb3BSaWdodGAsIGBldmVyeWAsXG4gICAgICogYGZpbGxgLCBgaW52ZXJ0YCwgYHBhcnNlSW50YCwgYHJhbmRvbWAsIGByYW5nZWAsIGByYW5nZVJpZ2h0YCwgYHJlcGVhdGAsXG4gICAgICogYHNhbXBsZVNpemVgLCBgc2xpY2VgLCBgc29tZWAsIGBzb3J0QnlgLCBgc3BsaXRgLCBgdGFrZWAsIGB0YWtlUmlnaHRgLFxuICAgICAqIGB0ZW1wbGF0ZWAsIGB0cmltYCwgYHRyaW1FbmRgLCBgdHJpbVN0YXJ0YCwgYW5kIGB3b3Jkc2BcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBfLm1hcChbNCwgOF0sIHNxdWFyZSk7XG4gICAgICogLy8gPT4gWzE2LCA2NF1cbiAgICAgKlxuICAgICAqIF8ubWFwKHsgJ2EnOiA0LCAnYic6IDggfSwgc3F1YXJlKTtcbiAgICAgKiAvLyA9PiBbMTYsIDY0XSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0gW1xuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsICd1c2VyJyk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWFwKGNvbGxlY3Rpb24sIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheU1hcCA6IGJhc2VNYXA7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uc29ydEJ5YCBleGNlcHQgdGhhdCBpdCBhbGxvd3Mgc3BlY2lmeWluZyB0aGUgc29ydFxuICAgICAqIG9yZGVycyBvZiB0aGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuIElmIGBvcmRlcnNgIGlzIHVuc3BlY2lmaWVkLCBhbGwgdmFsdWVzXG4gICAgICogYXJlIHNvcnRlZCBpbiBhc2NlbmRpbmcgb3JkZXIuIE90aGVyd2lzZSwgc3BlY2lmeSBhbiBvcmRlciBvZiBcImRlc2NcIiBmb3JcbiAgICAgKiBkZXNjZW5kaW5nIG9yIFwiYXNjXCIgZm9yIGFzY2VuZGluZyBzb3J0IG9yZGVyIG9mIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtBcnJheVtdfEZ1bmN0aW9uW118T2JqZWN0W118c3RyaW5nW119IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIHNvcnQgYnkuXG4gICAgICogQHBhcmFtIHtzdHJpbmdbXX0gW29yZGVyc10gVGhlIHNvcnQgb3JkZXJzIG9mIGBpdGVyYXRlZXNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLnJlZHVjZWAuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgc29ydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0OCB9LFxuICAgICAqICAgeyAndXNlcic6ICdiYXJuZXknLCAnYWdlJzogMzQgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9XG4gICAgICogXTtcbiAgICAgKlxuICAgICAqIC8vIFNvcnQgYnkgYHVzZXJgIGluIGFzY2VuZGluZyBvcmRlciBhbmQgYnkgYGFnZWAgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKiBfLm9yZGVyQnkodXNlcnMsIFsndXNlcicsICdhZ2UnXSwgWydhc2MnLCAnZGVzYyddKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDQwXV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvcmRlckJ5KGNvbGxlY3Rpb24sIGl0ZXJhdGVlcywgb3JkZXJzLCBndWFyZCkge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBpZiAoIWlzQXJyYXkoaXRlcmF0ZWVzKSkge1xuICAgICAgICBpdGVyYXRlZXMgPSBpdGVyYXRlZXMgPT0gbnVsbCA/IFtdIDogW2l0ZXJhdGVlc107XG4gICAgICB9XG4gICAgICBvcmRlcnMgPSBndWFyZCA/IHVuZGVmaW5lZCA6IG9yZGVycztcbiAgICAgIGlmICghaXNBcnJheShvcmRlcnMpKSB7XG4gICAgICAgIG9yZGVycyA9IG9yZGVycyA9PSBudWxsID8gW10gOiBbb3JkZXJzXTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlT3JkZXJCeShjb2xsZWN0aW9uLCBpdGVyYXRlZXMsIG9yZGVycyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cyBzcGxpdCBpbnRvIHR3byBncm91cHMsIHRoZSBmaXJzdCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciwgdGhlIHNlY29uZCBvZiB3aGljaFxuICAgICAqIGNvbnRhaW5zIGVsZW1lbnRzIGBwcmVkaWNhdGVgIHJldHVybnMgZmFsc2V5IGZvci4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBncm91cGVkIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICAnYWdlJzogMzYsICdhY3RpdmUnOiBmYWxzZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEsICAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hY3RpdmU7IH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgeyAnYWdlJzogMSwgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ3BlYmJsZXMnXSwgWydiYXJuZXknLCAnZnJlZCddXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNQcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ucGFydGl0aW9uKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gb2JqZWN0cyBmb3IgW1snYmFybmV5JywgJ3BlYmJsZXMnXSwgWydmcmVkJ11dXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnBhcnRpdGlvbih1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2ZyZWQnXSwgWydiYXJuZXknLCAncGViYmxlcyddXVxuICAgICAqL1xuICAgIHZhciBwYXJ0aXRpb24gPSBjcmVhdGVBZ2dyZWdhdG9yKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgcmVzdWx0W2tleSA/IDAgOiAxXS5wdXNoKHZhbHVlKTtcbiAgICB9LCBmdW5jdGlvbigpIHsgcmV0dXJuIFtbXSwgW11dOyB9KTtcblxuICAgIC8qKlxuICAgICAqIFJlZHVjZXMgYGNvbGxlY3Rpb25gIHRvIGEgdmFsdWUgd2hpY2ggaXMgdGhlIGFjY3VtdWxhdGVkIHJlc3VsdCBvZiBydW5uaW5nXG4gICAgICogZWFjaCBlbGVtZW50IGluIGBjb2xsZWN0aW9uYCB0aHJ1IGBpdGVyYXRlZWAsIHdoZXJlIGVhY2ggc3VjY2Vzc2l2ZVxuICAgICAqIGludm9jYXRpb24gaXMgc3VwcGxpZWQgdGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgcHJldmlvdXMuIElmIGBhY2N1bXVsYXRvcmBcbiAgICAgKiBpcyBub3QgZ2l2ZW4sIHRoZSBmaXJzdCBlbGVtZW50IG9mIGBjb2xsZWN0aW9uYCBpcyB1c2VkIGFzIHRoZSBpbml0aWFsXG4gICAgICogdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6XG4gICAgICogKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIE1hbnkgbG9kYXNoIG1ldGhvZHMgYXJlIGd1YXJkZWQgdG8gd29yayBhcyBpdGVyYXRlZXMgZm9yIG1ldGhvZHMgbGlrZVxuICAgICAqIGBfLnJlZHVjZWAsIGBfLnJlZHVjZVJpZ2h0YCwgYW5kIGBfLnRyYW5zZm9ybWAuXG4gICAgICpcbiAgICAgKiBUaGUgZ3VhcmRlZCBtZXRob2RzIGFyZTpcbiAgICAgKiBgYXNzaWduYCwgYGRlZmF1bHRzYCwgYGRlZmF1bHRzRGVlcGAsIGBpbmNsdWRlc2AsIGBtZXJnZWAsIGBvcmRlckJ5YCxcbiAgICAgKiBhbmQgYHNvcnRCeWBcbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEBwYXJhbSB7Kn0gW2FjY3VtdWxhdG9yXSBUaGUgaW5pdGlhbCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLnJlZHVjZVJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlKFsxLCAyXSwgZnVuY3Rpb24oc3VtLCBuKSB7XG4gICAgICogICByZXR1cm4gc3VtICsgbjtcbiAgICAgKiB9LCAwKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnJlZHVjZSh7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDEgfSwgZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICogICAocmVzdWx0W3ZhbHVlXSB8fCAocmVzdWx0W3ZhbHVlXSA9IFtdKSkucHVzaChrZXkpO1xuICAgICAqICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlZHVjZShjb2xsZWN0aW9uLCBpdGVyYXRlZSwgYWNjdW11bGF0b3IpIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5UmVkdWNlIDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5yZWR1Y2VgIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgZWxlbWVudHMgb2ZcbiAgICAgKiBgY29sbGVjdGlvbmAgZnJvbSByaWdodCB0byBsZWZ0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IENvbGxlY3Rpb25cbiAgICAgKiBAcGFyYW0ge0FycmF5fE9iamVjdH0gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHBhcmFtIHsqfSBbYWNjdW11bGF0b3JdIFRoZSBpbml0aWFsIHZhbHVlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBhY2N1bXVsYXRlZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8ucmVkdWNlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhcnJheSA9IFtbMCwgMV0sIFsyLCAzXSwgWzQsIDVdXTtcbiAgICAgKlxuICAgICAqIF8ucmVkdWNlUmlnaHQoYXJyYXksIGZ1bmN0aW9uKGZsYXR0ZW5lZCwgb3RoZXIpIHtcbiAgICAgKiAgIHJldHVybiBmbGF0dGVuZWQuY29uY2F0KG90aGVyKTtcbiAgICAgKiB9LCBbXSk7XG4gICAgICogLy8gPT4gWzQsIDUsIDIsIDMsIDAsIDFdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVkdWNlUmlnaHQoY29sbGVjdGlvbiwgaXRlcmF0ZWUsIGFjY3VtdWxhdG9yKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVJlZHVjZVJpZ2h0IDogYmFzZVJlZHVjZSxcbiAgICAgICAgICBpbml0QWNjdW0gPSBhcmd1bWVudHMubGVuZ3RoIDwgMztcblxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpLCBhY2N1bXVsYXRvciwgaW5pdEFjY3VtLCBiYXNlRWFjaFJpZ2h0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uZmlsdGVyYDsgdGhpcyBtZXRob2QgcmV0dXJucyB0aGUgZWxlbWVudHMgb2YgYGNvbGxlY3Rpb25gXG4gICAgICogdGhhdCBgcHJlZGljYXRlYCBkb2VzICoqbm90KiogcmV0dXJuIHRydXRoeSBmb3IuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBuZXcgZmlsdGVyZWQgYXJyYXkuXG4gICAgICogQHNlZSBfLmZpbHRlclxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICB7ICd1c2VyJzogJ2ZyZWQnLCAgICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IHRydWUgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLnJlamVjdCh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gIW8uYWN0aXZlOyB9KTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbJ2ZyZWQnXVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgeyAnYWdlJzogNDAsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnJlamVjdCh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFsnYmFybmV5J11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiByZWplY3QoY29sbGVjdGlvbiwgcHJlZGljYXRlKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheUZpbHRlciA6IGJhc2VGaWx0ZXI7XG4gICAgICByZXR1cm4gZnVuYyhjb2xsZWN0aW9uLCBuZWdhdGUoZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYSByYW5kb20gZWxlbWVudCBmcm9tIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByYW5kb20gZWxlbWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zYW1wbGUoWzEsIDIsIDMsIDRdKTtcbiAgICAgKiAvLyA9PiAyXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2FtcGxlKGNvbGxlY3Rpb24pIHtcbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlIDogYmFzZVNhbXBsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgYG5gIHJhbmRvbSBlbGVtZW50cyBhdCB1bmlxdWUga2V5cyBmcm9tIGBjb2xsZWN0aW9uYCB1cCB0byB0aGVcbiAgICAgKiBzaXplIG9mIGBjb2xsZWN0aW9uYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2FtcGxlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbj0xXSBUaGUgbnVtYmVyIG9mIGVsZW1lbnRzIHRvIHNhbXBsZS5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZG9tIGVsZW1lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNhbXBsZVNpemUoWzEsIDIsIDNdLCAyKTtcbiAgICAgKiAvLyA9PiBbMywgMV1cbiAgICAgKlxuICAgICAqIF8uc2FtcGxlU2l6ZShbMSwgMiwgM10sIDQpO1xuICAgICAqIC8vID0+IFsyLCAzLCAxXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNhbXBsZVNpemUoY29sbGVjdGlvbiwgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBuLCBndWFyZCkgOiBuID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIG4gPSAxO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIH1cbiAgICAgIHZhciBmdW5jID0gaXNBcnJheShjb2xsZWN0aW9uKSA/IGFycmF5U2FtcGxlU2l6ZSA6IGJhc2VTYW1wbGVTaXplO1xuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBzaHVmZmxlZCB2YWx1ZXMsIHVzaW5nIGEgdmVyc2lvbiBvZiB0aGVcbiAgICAgKiBbRmlzaGVyLVlhdGVzIHNodWZmbGVdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlci1ZYXRlc19zaHVmZmxlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gc2h1ZmZsZS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzaHVmZmxlZCBhcnJheS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaHVmZmxlKFsxLCAyLCAzLCA0XSk7XG4gICAgICogLy8gPT4gWzQsIDEsIDMsIDJdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc2h1ZmZsZShjb2xsZWN0aW9uKSB7XG4gICAgICB2YXIgZnVuYyA9IGlzQXJyYXkoY29sbGVjdGlvbikgPyBhcnJheVNodWZmbGUgOiBiYXNlU2h1ZmZsZTtcbiAgICAgIHJldHVybiBmdW5jKGNvbGxlY3Rpb24pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIHNpemUgb2YgYGNvbGxlY3Rpb25gIGJ5IHJldHVybmluZyBpdHMgbGVuZ3RoIGZvciBhcnJheS1saWtlXG4gICAgICogdmFsdWVzIG9yIHRoZSBudW1iZXIgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgZm9yIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fHN0cmluZ30gY29sbGVjdGlvbiBUaGUgY29sbGVjdGlvbiB0byBpbnNwZWN0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbGxlY3Rpb24gc2l6ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zaXplKFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5zaXplKHsgJ2EnOiAxLCAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5zaXplKCdwZWJibGVzJyk7XG4gICAgICogLy8gPT4gN1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNpemUoY29sbGVjdGlvbikge1xuICAgICAgaWYgKGNvbGxlY3Rpb24gPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIGlmIChpc0FycmF5TGlrZShjb2xsZWN0aW9uKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcoY29sbGVjdGlvbikgPyBzdHJpbmdTaXplKGNvbGxlY3Rpb24pIDogY29sbGVjdGlvbi5sZW5ndGg7XG4gICAgICB9XG4gICAgICB2YXIgdGFnID0gZ2V0VGFnKGNvbGxlY3Rpb24pO1xuICAgICAgaWYgKHRhZyA9PSBtYXBUYWcgfHwgdGFnID09IHNldFRhZykge1xuICAgICAgICByZXR1cm4gY29sbGVjdGlvbi5zaXplO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VLZXlzKGNvbGxlY3Rpb24pLmxlbmd0aDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHByZWRpY2F0ZWAgcmV0dXJucyB0cnV0aHkgZm9yICoqYW55KiogZWxlbWVudCBvZiBgY29sbGVjdGlvbmAuXG4gICAgICogSXRlcmF0aW9uIGlzIHN0b3BwZWQgb25jZSBgcHJlZGljYXRlYCByZXR1cm5zIHRydXRoeS4gVGhlIHByZWRpY2F0ZSBpc1xuICAgICAqIGludm9rZWQgd2l0aCB0aHJlZSBhcmd1bWVudHM6ICh2YWx1ZSwgaW5kZXh8a2V5LCBjb2xsZWN0aW9uKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBDb2xsZWN0aW9uXG4gICAgICogQHBhcmFtIHtBcnJheXxPYmplY3R9IGNvbGxlY3Rpb24gVGhlIGNvbGxlY3Rpb24gdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBhbnkgZWxlbWVudCBwYXNzZXMgdGhlIHByZWRpY2F0ZSBjaGVjayxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNvbWUoW251bGwsIDAsICd5ZXMnLCBmYWxzZV0sIEJvb2xlYW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FjdGl2ZSc6IGZhbHNlIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLm1hdGNoZXNgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLnNvbWUodXNlcnMsIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IGZhbHNlIH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCBbJ2FjdGl2ZScsIGZhbHNlXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zb21lKHVzZXJzLCAnYWN0aXZlJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNvbWUoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkge1xuICAgICAgdmFyIGZ1bmMgPSBpc0FycmF5KGNvbGxlY3Rpb24pID8gYXJyYXlTb21lIDogYmFzZVNvbWU7XG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoY29sbGVjdGlvbiwgcHJlZGljYXRlLCBndWFyZCkpIHtcbiAgICAgICAgcHJlZGljYXRlID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZ1bmMoY29sbGVjdGlvbiwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBlbGVtZW50cywgc29ydGVkIGluIGFzY2VuZGluZyBvcmRlciBieSB0aGUgcmVzdWx0cyBvZlxuICAgICAqIHJ1bm5pbmcgZWFjaCBlbGVtZW50IGluIGEgY29sbGVjdGlvbiB0aHJ1IGVhY2ggaXRlcmF0ZWUuIFRoaXMgbWV0aG9kXG4gICAgICogcGVyZm9ybXMgYSBzdGFibGUgc29ydCwgdGhhdCBpcywgaXQgcHJlc2VydmVzIHRoZSBvcmlnaW5hbCBzb3J0IG9yZGVyIG9mXG4gICAgICogZXF1YWwgZWxlbWVudHMuIFRoZSBpdGVyYXRlZXMgYXJlIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgQ29sbGVjdGlvblxuICAgICAqIEBwYXJhbSB7QXJyYXl8T2JqZWN0fSBjb2xsZWN0aW9uIFRoZSBjb2xsZWN0aW9uIHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2l0ZXJhdGVlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBpdGVyYXRlZXMgdG8gc29ydCBieS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBzb3J0ZWQgYXJyYXkuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciB1c2VycyA9IFtcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQ4IH0sXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiB9LFxuICAgICAqICAgeyAndXNlcic6ICdmcmVkJywgICAnYWdlJzogMzAgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnYmFybmV5JywgJ2FnZSc6IDM0IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5zb3J0QnkodXNlcnMsIFtmdW5jdGlvbihvKSB7IHJldHVybiBvLnVzZXI7IH1dKTtcbiAgICAgKiAvLyA9PiBvYmplY3RzIGZvciBbWydiYXJuZXknLCAzNl0sIFsnYmFybmV5JywgMzRdLCBbJ2ZyZWQnLCA0OF0sIFsnZnJlZCcsIDMwXV1cbiAgICAgKlxuICAgICAqIF8uc29ydEJ5KHVzZXJzLCBbJ3VzZXInLCAnYWdlJ10pO1xuICAgICAqIC8vID0+IG9iamVjdHMgZm9yIFtbJ2Jhcm5leScsIDM0XSwgWydiYXJuZXknLCAzNl0sIFsnZnJlZCcsIDMwXSwgWydmcmVkJywgNDhdXVxuICAgICAqL1xuICAgIHZhciBzb3J0QnkgPSBiYXNlUmVzdChmdW5jdGlvbihjb2xsZWN0aW9uLCBpdGVyYXRlZXMpIHtcbiAgICAgIGlmIChjb2xsZWN0aW9uID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IGl0ZXJhdGVlcy5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoID4gMSAmJiBpc0l0ZXJhdGVlQ2FsbChjb2xsZWN0aW9uLCBpdGVyYXRlZXNbMF0sIGl0ZXJhdGVlc1sxXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW107XG4gICAgICB9IGVsc2UgaWYgKGxlbmd0aCA+IDIgJiYgaXNJdGVyYXRlZUNhbGwoaXRlcmF0ZWVzWzBdLCBpdGVyYXRlZXNbMV0sIGl0ZXJhdGVlc1syXSkpIHtcbiAgICAgICAgaXRlcmF0ZWVzID0gW2l0ZXJhdGVlc1swXV07XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZU9yZGVyQnkoY29sbGVjdGlvbiwgYmFzZUZsYXR0ZW4oaXRlcmF0ZWVzLCAxKSwgW10pO1xuICAgIH0pO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdGltZXN0YW1wIG9mIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRoYXQgaGF2ZSBlbGFwc2VkIHNpbmNlXG4gICAgICogdGhlIFVuaXggZXBvY2ggKDEgSmFudWFyeSAxOTcwIDAwOjAwOjAwIFVUQykuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgRGF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVzdGFtcC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZlcihmdW5jdGlvbihzdGFtcCkge1xuICAgICAqICAgY29uc29sZS5sb2coXy5ub3coKSAtIHN0YW1wKTtcbiAgICAgKiB9LCBfLm5vdygpKTtcbiAgICAgKiAvLyA9PiBMb2dzIHRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIGl0IHRvb2sgZm9yIHRoZSBkZWZlcnJlZCBpbnZvY2F0aW9uLlxuICAgICAqL1xuICAgIHZhciBub3cgPSBjdHhOb3cgfHwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gcm9vdC5EYXRlLm5vdygpO1xuICAgIH07XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8uYmVmb3JlYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlc1xuICAgICAqIGBmdW5jYCBvbmNlIGl0J3MgY2FsbGVkIGBuYCBvciBtb3JlIHRpbWVzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG4gVGhlIG51bWJlciBvZiBjYWxscyBiZWZvcmUgYGZ1bmNgIGlzIGludm9rZWQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHNhdmVzID0gWydwcm9maWxlJywgJ3NldHRpbmdzJ107XG4gICAgICpcbiAgICAgKiB2YXIgZG9uZSA9IF8uYWZ0ZXIoc2F2ZXMubGVuZ3RoLCBmdW5jdGlvbigpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKCdkb25lIHNhdmluZyEnKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZm9yRWFjaChzYXZlcywgZnVuY3Rpb24odHlwZSkge1xuICAgICAqICAgYXN5bmNTYXZlKHsgJ3R5cGUnOiB0eXBlLCAnY29tcGxldGUnOiBkb25lIH0pO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2RvbmUgc2F2aW5nIScgYWZ0ZXIgdGhlIHR3byBhc3luYyBzYXZlcyBoYXZlIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBhZnRlcihuLCBmdW5jKSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAoLS1uIDwgMSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2AsIHdpdGggdXAgdG8gYG5gIGFyZ3VtZW50cyxcbiAgICAgKiBpZ25vcmluZyBhbnkgYWRkaXRpb25hbCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW249ZnVuYy5sZW5ndGhdIFRoZSBhcml0eSBjYXAuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjYXBwZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwKFsnNicsICc4JywgJzEwJ10sIF8uYXJ5KHBhcnNlSW50LCAxKSk7XG4gICAgICogLy8gPT4gWzYsIDgsIDEwXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGFyeShmdW5jLCBuLCBndWFyZCkge1xuICAgICAgbiA9IGd1YXJkID8gdW5kZWZpbmVkIDogbjtcbiAgICAgIG4gPSAoZnVuYyAmJiBuID09IG51bGwpID8gZnVuYy5sZW5ndGggOiBuO1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9BUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBuKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCwgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50c1xuICAgICAqIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGlsZSBpdCdzIGNhbGxlZCBsZXNzIHRoYW4gYG5gIHRpbWVzLiBTdWJzZXF1ZW50XG4gICAgICogY2FsbHMgdG8gdGhlIGNyZWF0ZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbiBUaGUgbnVtYmVyIG9mIGNhbGxzIGF0IHdoaWNoIGBmdW5jYCBpcyBubyBsb25nZXIgaW52b2tlZC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byByZXN0cmljdC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyByZXN0cmljdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgXy5iZWZvcmUoNSwgYWRkQ29udGFjdFRvTGlzdCkpO1xuICAgICAqIC8vID0+IEFsbG93cyBhZGRpbmcgdXAgdG8gNCBjb250YWN0cyB0byB0aGUgbGlzdC5cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBiZWZvcmUobiwgZnVuYykge1xuICAgICAgdmFyIHJlc3VsdDtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgIGlmICgtLW4gPiAwKSB7XG4gICAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChuIDw9IDEpIHtcbiAgICAgICAgICBmdW5jID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIGB0aGlzQXJnYFxuICAgICAqIGFuZCBgcGFydGlhbHNgIHByZXBlbmRlZCB0byB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmQucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVubGlrZSBuYXRpdmUgYEZ1bmN0aW9uI2JpbmRgLCB0aGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIlxuICAgICAqIHByb3BlcnR5IG9mIGJvdW5kIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGJpbmQuXG4gICAgICogQHBhcmFtIHsqfSB0aGlzQXJnIFRoZSBgdGhpc2AgYmluZGluZyBvZiBgZnVuY2AuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYm91bmQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgdGhpcy51c2VyICsgcHVuY3R1YXRpb247XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ3VzZXInOiAnZnJlZCcgfTtcbiAgICAgKlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZChncmVldCwgb2JqZWN0LCBfLCAnIScpO1xuICAgICAqIGJvdW5kKCdoaScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKi9cbiAgICB2YXIgYmluZCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRoaXNBcmcsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgYml0bWFzayA9IFdSQVBfQklORF9GTEFHO1xuICAgICAgaWYgKHBhcnRpYWxzLmxlbmd0aCkge1xuICAgICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIoYmluZCkpO1xuICAgICAgICBiaXRtYXNrIHw9IFdSQVBfUEFSVElBTF9GTEFHO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgYml0bWFzaywgdGhpc0FyZywgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBvYmplY3Rba2V5XWAgd2l0aCBgcGFydGlhbHNgXG4gICAgICogcHJlcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBkaWZmZXJzIGZyb20gYF8uYmluZGAgYnkgYWxsb3dpbmcgYm91bmQgZnVuY3Rpb25zIHRvIHJlZmVyZW5jZVxuICAgICAqIG1ldGhvZHMgdGhhdCBtYXkgYmUgcmVkZWZpbmVkIG9yIGRvbid0IHlldCBleGlzdC4gU2VlXG4gICAgICogW1BldGVyIE1pY2hhdXgncyBhcnRpY2xlXShodHRwOi8vcGV0ZXIubWljaGF1eC5jYS9hcnRpY2xlcy9sYXp5LWZ1bmN0aW9uLWRlZmluaXRpb24tcGF0dGVybilcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIGBfLmJpbmRLZXkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpY1xuICAgICAqIGJ1aWxkcywgbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnZva2UgdGhlIG1ldGhvZCBvbi5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30ga2V5IFRoZSBrZXkgb2YgdGhlIG1ldGhvZC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFtwYXJ0aWFsc10gVGhlIGFyZ3VtZW50cyB0byBiZSBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBib3VuZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHtcbiAgICAgKiAgICd1c2VyJzogJ2ZyZWQnLFxuICAgICAqICAgJ2dyZWV0JzogZnVuY3Rpb24oZ3JlZXRpbmcsIHB1bmN0dWF0aW9uKSB7XG4gICAgICogICAgIHJldHVybiBncmVldGluZyArICcgJyArIHRoaXMudXNlciArIHB1bmN0dWF0aW9uO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgYm91bmQgPSBfLmJpbmRLZXkob2JqZWN0LCAnZ3JlZXQnLCAnaGknKTtcbiAgICAgKiBib3VuZCgnIScpO1xuICAgICAqIC8vID0+ICdoaSBmcmVkISdcbiAgICAgKlxuICAgICAqIG9iamVjdC5ncmVldCA9IGZ1bmN0aW9uKGdyZWV0aW5nLCBwdW5jdHVhdGlvbikge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJ3lhICcgKyB0aGlzLnVzZXIgKyBwdW5jdHVhdGlvbjtcbiAgICAgKiB9O1xuICAgICAqXG4gICAgICogYm91bmQoJyEnKTtcbiAgICAgKiAvLyA9PiAnaGl5YSBmcmVkISdcbiAgICAgKlxuICAgICAqIC8vIEJvdW5kIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIHZhciBib3VuZCA9IF8uYmluZEtleShvYmplY3QsICdncmVldCcsIF8sICchJyk7XG4gICAgICogYm91bmQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpeWEgZnJlZCEnXG4gICAgICovXG4gICAgdmFyIGJpbmRLZXkgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIGtleSwgcGFydGlhbHMpIHtcbiAgICAgIHZhciBiaXRtYXNrID0gV1JBUF9CSU5EX0ZMQUcgfCBXUkFQX0JJTkRfS0VZX0ZMQUc7XG4gICAgICBpZiAocGFydGlhbHMubGVuZ3RoKSB7XG4gICAgICAgIHZhciBob2xkZXJzID0gcmVwbGFjZUhvbGRlcnMocGFydGlhbHMsIGdldEhvbGRlcihiaW5kS2V5KSk7XG4gICAgICAgIGJpdG1hc2sgfD0gV1JBUF9QQVJUSUFMX0ZMQUc7XG4gICAgICB9XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChrZXksIGJpdG1hc2ssIG9iamVjdCwgcGFydGlhbHMsIGhvbGRlcnMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgYWNjZXB0cyBhcmd1bWVudHMgb2YgYGZ1bmNgIGFuZCBlaXRoZXIgaW52b2tlc1xuICAgICAqIGBmdW5jYCByZXR1cm5pbmcgaXRzIHJlc3VsdCwgaWYgYXQgbGVhc3QgYGFyaXR5YCBudW1iZXIgb2YgYXJndW1lbnRzIGhhdmVcbiAgICAgKiBiZWVuIHByb3ZpZGVkLCBvciByZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBhY2NlcHRzIHRoZSByZW1haW5pbmcgYGZ1bmNgXG4gICAgICogYXJndW1lbnRzLCBhbmQgc28gb24uIFRoZSBhcml0eSBvZiBgZnVuY2AgbWF5IGJlIHNwZWNpZmllZCBpZiBgZnVuYy5sZW5ndGhgXG4gICAgICogaXMgbm90IHN1ZmZpY2llbnQuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnkucGxhY2Vob2xkZXJgIHZhbHVlLCB3aGljaCBkZWZhdWx0cyB0byBgX2AgaW4gbW9ub2xpdGhpYyBidWlsZHMsXG4gICAgICogbWF5IGJlIHVzZWQgYXMgYSBwbGFjZWhvbGRlciBmb3IgcHJvdmlkZWQgYXJndW1lbnRzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGRvZXNuJ3Qgc2V0IHRoZSBcImxlbmd0aFwiIHByb3BlcnR5IG9mIGN1cnJpZWQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMC4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY3VycnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFthcml0eT1mdW5jLmxlbmd0aF0gVGhlIGFyaXR5IG9mIGBmdW5jYC5cbiAgICAgKiBAcGFyYW0tIHtPYmplY3R9IFtndWFyZF0gRW5hYmxlcyB1c2UgYXMgYW4gaXRlcmF0ZWUgZm9yIG1ldGhvZHMgbGlrZSBgXy5tYXBgLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGN1cnJpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBhYmMgPSBmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgY3VycmllZCA9IF8uY3VycnkoYWJjKTtcbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSkoMikoMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDEsIDIpKDMpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgxLCAyLCAzKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIC8vIEN1cnJpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogY3VycmllZCgxKShfLCAzKSgyKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjdXJyeShmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5LnBsYWNlaG9sZGVyO1xuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmN1cnJ5YCBleGNlcHQgdGhhdCBhcmd1bWVudHMgYXJlIGFwcGxpZWQgdG8gYGZ1bmNgXG4gICAgICogaW4gdGhlIG1hbm5lciBvZiBgXy5wYXJ0aWFsUmlnaHRgIGluc3RlYWQgb2YgYF8ucGFydGlhbGAuXG4gICAgICpcbiAgICAgKiBUaGUgYF8uY3VycnlSaWdodC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwcm92aWRlZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgY3VycmllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjdXJyeS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW2FyaXR5PWZ1bmMubGVuZ3RoXSBUaGUgYXJpdHkgb2YgYGZ1bmNgLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgY3VycmllZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFiYyA9IGZ1bmN0aW9uKGEsIGIsIGMpIHtcbiAgICAgKiAgIHJldHVybiBbYSwgYiwgY107XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIHZhciBjdXJyaWVkID0gXy5jdXJyeVJpZ2h0KGFiYyk7XG4gICAgICpcbiAgICAgKiBjdXJyaWVkKDMpKDIpKDEpO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXVxuICAgICAqXG4gICAgICogY3VycmllZCgyLCAzKSgxKTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgM11cbiAgICAgKlxuICAgICAqIGN1cnJpZWQoMSwgMiwgMyk7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICpcbiAgICAgKiAvLyBDdXJyaWVkIHdpdGggcGxhY2Vob2xkZXJzLlxuICAgICAqIGN1cnJpZWQoMykoMSwgXykoMik7XG4gICAgICogLy8gPT4gWzEsIDIsIDNdXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3VycnlSaWdodChmdW5jLCBhcml0eSwgZ3VhcmQpIHtcbiAgICAgIGFyaXR5ID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBhcml0eTtcbiAgICAgIHZhciByZXN1bHQgPSBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfQ1VSUllfUklHSFRfRkxBRywgdW5kZWZpbmVkLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCB1bmRlZmluZWQsIGFyaXR5KTtcbiAgICAgIHJlc3VsdC5wbGFjZWhvbGRlciA9IGN1cnJ5UmlnaHQucGxhY2Vob2xkZXI7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBkZWJvdW5jZWQgZnVuY3Rpb24gdGhhdCBkZWxheXMgaW52b2tpbmcgYGZ1bmNgIHVudGlsIGFmdGVyIGB3YWl0YFxuICAgICAqIG1pbGxpc2Vjb25kcyBoYXZlIGVsYXBzZWQgc2luY2UgdGhlIGxhc3QgdGltZSB0aGUgZGVib3VuY2VkIGZ1bmN0aW9uIHdhc1xuICAgICAqIGludm9rZWQuIFRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gY29tZXMgd2l0aCBhIGBjYW5jZWxgIG1ldGhvZCB0byBjYW5jZWxcbiAgICAgKiBkZWxheWVkIGBmdW5jYCBpbnZvY2F0aW9ucyBhbmQgYSBgZmx1c2hgIG1ldGhvZCB0byBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS5cbiAgICAgKiBQcm92aWRlIGBvcHRpb25zYCB0byBpbmRpY2F0ZSB3aGV0aGVyIGBmdW5jYCBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGVcbiAgICAgKiBsZWFkaW5nIGFuZC9vciB0cmFpbGluZyBlZGdlIG9mIHRoZSBgd2FpdGAgdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aGUgbGFzdCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGRlYm91bmNlZCBmdW5jdGlvbi4gU3Vic2VxdWVudFxuICAgICAqIGNhbGxzIHRvIHRoZSBkZWJvdW5jZWQgZnVuY3Rpb24gcmV0dXJuIHRoZSByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgXG4gICAgICogaW52b2NhdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBJZiBgbGVhZGluZ2AgYW5kIGB0cmFpbGluZ2Agb3B0aW9ucyBhcmUgYHRydWVgLCBgZnVuY2AgaXNcbiAgICAgKiBpbnZva2VkIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0IG9ubHkgaWYgdGhlIGRlYm91bmNlZCBmdW5jdGlvblxuICAgICAqIGlzIGludm9rZWQgbW9yZSB0aGFuIG9uY2UgZHVyaW5nIHRoZSBgd2FpdGAgdGltZW91dC5cbiAgICAgKlxuICAgICAqIElmIGB3YWl0YCBpcyBgMGAgYW5kIGBsZWFkaW5nYCBpcyBgZmFsc2VgLCBgZnVuY2AgaW52b2NhdGlvbiBpcyBkZWZlcnJlZFxuICAgICAqIHVudGlsIHRvIHRoZSBuZXh0IHRpY2ssIHNpbWlsYXIgdG8gYHNldFRpbWVvdXRgIHdpdGggYSB0aW1lb3V0IG9mIGAwYC5cbiAgICAgKlxuICAgICAqIFNlZSBbRGF2aWQgQ29yYmFjaG8ncyBhcnRpY2xlXShodHRwczovL2Nzcy10cmlja3MuY29tL2RlYm91bmNpbmctdGhyb3R0bGluZy1leHBsYWluZWQtZXhhbXBsZXMvKVxuICAgICAqIGZvciBkZXRhaWxzIG92ZXIgdGhlIGRpZmZlcmVuY2VzIGJldHdlZW4gYF8uZGVib3VuY2VgIGFuZCBgXy50aHJvdHRsZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWJvdW5jZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3dhaXQ9MF0gVGhlIG51bWJlciBvZiBtaWxsaXNlY29uZHMgdG8gZGVsYXkuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5sZWFkaW5nPWZhbHNlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLm1heFdhaXRdXG4gICAgICogIFRoZSBtYXhpbXVtIHRpbWUgYGZ1bmNgIGlzIGFsbG93ZWQgdG8gYmUgZGVsYXllZCBiZWZvcmUgaXQncyBpbnZva2VkLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMudHJhaWxpbmc9dHJ1ZV1cbiAgICAgKiAgU3BlY2lmeSBpbnZva2luZyBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBkZWJvdW5jZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIGNvc3RseSBjYWxjdWxhdGlvbnMgd2hpbGUgdGhlIHdpbmRvdyBzaXplIGlzIGluIGZsdXguXG4gICAgICogalF1ZXJ5KHdpbmRvdykub24oJ3Jlc2l6ZScsIF8uZGVib3VuY2UoY2FsY3VsYXRlTGF5b3V0LCAxNTApKTtcbiAgICAgKlxuICAgICAqIC8vIEludm9rZSBgc2VuZE1haWxgIHdoZW4gY2xpY2tlZCwgZGVib3VuY2luZyBzdWJzZXF1ZW50IGNhbGxzLlxuICAgICAqIGpRdWVyeShlbGVtZW50KS5vbignY2xpY2snLCBfLmRlYm91bmNlKHNlbmRNYWlsLCAzMDAsIHtcbiAgICAgKiAgICdsZWFkaW5nJzogdHJ1ZSxcbiAgICAgKiAgICd0cmFpbGluZyc6IGZhbHNlXG4gICAgICogfSkpO1xuICAgICAqXG4gICAgICogLy8gRW5zdXJlIGBiYXRjaExvZ2AgaXMgaW52b2tlZCBvbmNlIGFmdGVyIDEgc2Vjb25kIG9mIGRlYm91bmNlZCBjYWxscy5cbiAgICAgKiB2YXIgZGVib3VuY2VkID0gXy5kZWJvdW5jZShiYXRjaExvZywgMjUwLCB7ICdtYXhXYWl0JzogMTAwMCB9KTtcbiAgICAgKiB2YXIgc291cmNlID0gbmV3IEV2ZW50U291cmNlKCcvc3RyZWFtJyk7XG4gICAgICogalF1ZXJ5KHNvdXJjZSkub24oJ21lc3NhZ2UnLCBkZWJvdW5jZWQpO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0cmFpbGluZyBkZWJvdW5jZWQgaW52b2NhdGlvbi5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbigncG9wc3RhdGUnLCBkZWJvdW5jZWQuY2FuY2VsKTtcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWJvdW5jZShmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgICB2YXIgbGFzdEFyZ3MsXG4gICAgICAgICAgbGFzdFRoaXMsXG4gICAgICAgICAgbWF4V2FpdCxcbiAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgdGltZXJJZCxcbiAgICAgICAgICBsYXN0Q2FsbFRpbWUsXG4gICAgICAgICAgbGFzdEludm9rZVRpbWUgPSAwLFxuICAgICAgICAgIGxlYWRpbmcgPSBmYWxzZSxcbiAgICAgICAgICBtYXhpbmcgPSBmYWxzZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHdhaXQgPSB0b051bWJlcih3YWl0KSB8fCAwO1xuICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMpKSB7XG4gICAgICAgIGxlYWRpbmcgPSAhIW9wdGlvbnMubGVhZGluZztcbiAgICAgICAgbWF4aW5nID0gJ21heFdhaXQnIGluIG9wdGlvbnM7XG4gICAgICAgIG1heFdhaXQgPSBtYXhpbmcgPyBuYXRpdmVNYXgodG9OdW1iZXIob3B0aW9ucy5tYXhXYWl0KSB8fCAwLCB3YWl0KSA6IG1heFdhaXQ7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGludm9rZUZ1bmModGltZSkge1xuICAgICAgICB2YXIgYXJncyA9IGxhc3RBcmdzLFxuICAgICAgICAgICAgdGhpc0FyZyA9IGxhc3RUaGlzO1xuXG4gICAgICAgIGxhc3RBcmdzID0gbGFzdFRoaXMgPSB1bmRlZmluZWQ7XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gdGltZTtcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseSh0aGlzQXJnLCBhcmdzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gbGVhZGluZ0VkZ2UodGltZSkge1xuICAgICAgICAvLyBSZXNldCBhbnkgYG1heFdhaXRgIHRpbWVyLlxuICAgICAgICBsYXN0SW52b2tlVGltZSA9IHRpbWU7XG4gICAgICAgIC8vIFN0YXJ0IHRoZSB0aW1lciBmb3IgdGhlIHRyYWlsaW5nIGVkZ2UuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIC8vIEludm9rZSB0aGUgbGVhZGluZyBlZGdlLlxuICAgICAgICByZXR1cm4gbGVhZGluZyA/IGludm9rZUZ1bmModGltZSkgOiByZXN1bHQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHJlbWFpbmluZ1dhaXQodGltZSkge1xuICAgICAgICB2YXIgdGltZVNpbmNlTGFzdENhbGwgPSB0aW1lIC0gbGFzdENhbGxUaW1lLFxuICAgICAgICAgICAgdGltZVNpbmNlTGFzdEludm9rZSA9IHRpbWUgLSBsYXN0SW52b2tlVGltZSxcbiAgICAgICAgICAgIHRpbWVXYWl0aW5nID0gd2FpdCAtIHRpbWVTaW5jZUxhc3RDYWxsO1xuXG4gICAgICAgIHJldHVybiBtYXhpbmdcbiAgICAgICAgICA/IG5hdGl2ZU1pbih0aW1lV2FpdGluZywgbWF4V2FpdCAtIHRpbWVTaW5jZUxhc3RJbnZva2UpXG4gICAgICAgICAgOiB0aW1lV2FpdGluZztcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gc2hvdWxkSW52b2tlKHRpbWUpIHtcbiAgICAgICAgdmFyIHRpbWVTaW5jZUxhc3RDYWxsID0gdGltZSAtIGxhc3RDYWxsVGltZSxcbiAgICAgICAgICAgIHRpbWVTaW5jZUxhc3RJbnZva2UgPSB0aW1lIC0gbGFzdEludm9rZVRpbWU7XG5cbiAgICAgICAgLy8gRWl0aGVyIHRoaXMgaXMgdGhlIGZpcnN0IGNhbGwsIGFjdGl2aXR5IGhhcyBzdG9wcGVkIGFuZCB3ZSdyZSBhdCB0aGVcbiAgICAgICAgLy8gdHJhaWxpbmcgZWRnZSwgdGhlIHN5c3RlbSB0aW1lIGhhcyBnb25lIGJhY2t3YXJkcyBhbmQgd2UncmUgdHJlYXRpbmdcbiAgICAgICAgLy8gaXQgYXMgdGhlIHRyYWlsaW5nIGVkZ2UsIG9yIHdlJ3ZlIGhpdCB0aGUgYG1heFdhaXRgIGxpbWl0LlxuICAgICAgICByZXR1cm4gKGxhc3RDYWxsVGltZSA9PT0gdW5kZWZpbmVkIHx8ICh0aW1lU2luY2VMYXN0Q2FsbCA+PSB3YWl0KSB8fFxuICAgICAgICAgICh0aW1lU2luY2VMYXN0Q2FsbCA8IDApIHx8IChtYXhpbmcgJiYgdGltZVNpbmNlTGFzdEludm9rZSA+PSBtYXhXYWl0KSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRpbWVyRXhwaXJlZCgpIHtcbiAgICAgICAgdmFyIHRpbWUgPSBub3coKTtcbiAgICAgICAgaWYgKHNob3VsZEludm9rZSh0aW1lKSkge1xuICAgICAgICAgIHJldHVybiB0cmFpbGluZ0VkZ2UodGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gUmVzdGFydCB0aGUgdGltZXIuXG4gICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgcmVtYWluaW5nV2FpdCh0aW1lKSk7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIHRyYWlsaW5nRWRnZSh0aW1lKSB7XG4gICAgICAgIHRpbWVySWQgPSB1bmRlZmluZWQ7XG5cbiAgICAgICAgLy8gT25seSBpbnZva2UgaWYgd2UgaGF2ZSBgbGFzdEFyZ3NgIHdoaWNoIG1lYW5zIGBmdW5jYCBoYXMgYmVlblxuICAgICAgICAvLyBkZWJvdW5jZWQgYXQgbGVhc3Qgb25jZS5cbiAgICAgICAgaWYgKHRyYWlsaW5nICYmIGxhc3RBcmdzKSB7XG4gICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmModGltZSk7XG4gICAgICAgIH1cbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0VGhpcyA9IHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gY2FuY2VsKCkge1xuICAgICAgICBpZiAodGltZXJJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVySWQpO1xuICAgICAgICB9XG4gICAgICAgIGxhc3RJbnZva2VUaW1lID0gMDtcbiAgICAgICAgbGFzdEFyZ3MgPSBsYXN0Q2FsbFRpbWUgPSBsYXN0VGhpcyA9IHRpbWVySWQgPSB1bmRlZmluZWQ7XG4gICAgICB9XG5cbiAgICAgIGZ1bmN0aW9uIGZsdXNoKCkge1xuICAgICAgICByZXR1cm4gdGltZXJJZCA9PT0gdW5kZWZpbmVkID8gcmVzdWx0IDogdHJhaWxpbmdFZGdlKG5vdygpKTtcbiAgICAgIH1cblxuICAgICAgZnVuY3Rpb24gZGVib3VuY2VkKCkge1xuICAgICAgICB2YXIgdGltZSA9IG5vdygpLFxuICAgICAgICAgICAgaXNJbnZva2luZyA9IHNob3VsZEludm9rZSh0aW1lKTtcblxuICAgICAgICBsYXN0QXJncyA9IGFyZ3VtZW50cztcbiAgICAgICAgbGFzdFRoaXMgPSB0aGlzO1xuICAgICAgICBsYXN0Q2FsbFRpbWUgPSB0aW1lO1xuXG4gICAgICAgIGlmIChpc0ludm9raW5nKSB7XG4gICAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxlYWRpbmdFZGdlKGxhc3RDYWxsVGltZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChtYXhpbmcpIHtcbiAgICAgICAgICAgIC8vIEhhbmRsZSBpbnZvY2F0aW9ucyBpbiBhIHRpZ2h0IGxvb3AuXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZXJJZCk7XG4gICAgICAgICAgICB0aW1lcklkID0gc2V0VGltZW91dCh0aW1lckV4cGlyZWQsIHdhaXQpO1xuICAgICAgICAgICAgcmV0dXJuIGludm9rZUZ1bmMobGFzdENhbGxUaW1lKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVySWQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRpbWVySWQgPSBzZXRUaW1lb3V0KHRpbWVyRXhwaXJlZCwgd2FpdCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIGRlYm91bmNlZC5jYW5jZWwgPSBjYW5jZWw7XG4gICAgICBkZWJvdW5jZWQuZmx1c2ggPSBmbHVzaDtcbiAgICAgIHJldHVybiBkZWJvdW5jZWQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGVmZXJzIGludm9raW5nIHRoZSBgZnVuY2AgdW50aWwgdGhlIGN1cnJlbnQgY2FsbCBzdGFjayBoYXMgY2xlYXJlZC4gQW55XG4gICAgICogYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGRlZmVyLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmVyKGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sICdkZWZlcnJlZCcpO1xuICAgICAqIC8vID0+IExvZ3MgJ2RlZmVycmVkJyBhZnRlciBvbmUgbWlsbGlzZWNvbmQuXG4gICAgICovXG4gICAgdmFyIGRlZmVyID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgcmV0dXJuIGJhc2VEZWxheShmdW5jLCAxLCBhcmdzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEludm9rZXMgYGZ1bmNgIGFmdGVyIGB3YWl0YCBtaWxsaXNlY29uZHMuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byBgZnVuY2Agd2hlbiBpdCdzIGludm9rZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBkZWxheS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gd2FpdCBUaGUgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byBkZWxheSBpbnZvY2F0aW9uLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW2FyZ3NdIFRoZSBhcmd1bWVudHMgdG8gaW52b2tlIGBmdW5jYCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHRpbWVyIGlkLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlbGF5KGZ1bmN0aW9uKHRleHQpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKHRleHQpO1xuICAgICAqIH0sIDEwMDAsICdsYXRlcicpO1xuICAgICAqIC8vID0+IExvZ3MgJ2xhdGVyJyBhZnRlciBvbmUgc2Vjb25kLlxuICAgICAqL1xuICAgIHZhciBkZWxheSA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHdhaXQsIGFyZ3MpIHtcbiAgICAgIHJldHVybiBiYXNlRGVsYXkoZnVuYywgdG9OdW1iZXIod2FpdCkgfHwgMCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyByZXZlcnNlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGZsaXAgYXJndW1lbnRzIGZvci5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmbGlwcGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZmxpcHBlZCA9IF8uZmxpcChmdW5jdGlvbigpIHtcbiAgICAgKiAgIHJldHVybiBfLnRvQXJyYXkoYXJndW1lbnRzKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIGZsaXBwZWQoJ2EnLCAnYicsICdjJywgJ2QnKTtcbiAgICAgKiAvLyA9PiBbJ2QnLCAnYycsICdiJywgJ2EnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZsaXAoZnVuYykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9GTElQX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG1lbW9pemVzIHRoZSByZXN1bHQgb2YgYGZ1bmNgLiBJZiBgcmVzb2x2ZXJgIGlzXG4gICAgICogcHJvdmlkZWQsIGl0IGRldGVybWluZXMgdGhlIGNhY2hlIGtleSBmb3Igc3RvcmluZyB0aGUgcmVzdWx0IGJhc2VkIG9uIHRoZVxuICAgICAqIGFyZ3VtZW50cyBwcm92aWRlZCB0byB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uIEJ5IGRlZmF1bHQsIHRoZSBmaXJzdCBhcmd1bWVudFxuICAgICAqIHByb3ZpZGVkIHRvIHRoZSBtZW1vaXplZCBmdW5jdGlvbiBpcyB1c2VkIGFzIHRoZSBtYXAgY2FjaGUga2V5LiBUaGUgYGZ1bmNgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGUgbWVtb2l6ZWQgZnVuY3Rpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNhY2hlIGlzIGV4cG9zZWQgYXMgdGhlIGBjYWNoZWAgcHJvcGVydHkgb24gdGhlIG1lbW9pemVkXG4gICAgICogZnVuY3Rpb24uIEl0cyBjcmVhdGlvbiBtYXkgYmUgY3VzdG9taXplZCBieSByZXBsYWNpbmcgdGhlIGBfLm1lbW9pemUuQ2FjaGVgXG4gICAgICogY29uc3RydWN0b3Igd2l0aCBvbmUgd2hvc2UgaW5zdGFuY2VzIGltcGxlbWVudCB0aGVcbiAgICAgKiBbYE1hcGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXByb3BlcnRpZXMtb2YtdGhlLW1hcC1wcm90b3R5cGUtb2JqZWN0KVxuICAgICAqIG1ldGhvZCBpbnRlcmZhY2Ugb2YgYGNsZWFyYCwgYGRlbGV0ZWAsIGBnZXRgLCBgaGFzYCwgYW5kIGBzZXRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gaGF2ZSBpdHMgb3V0cHV0IG1lbW9pemVkLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtyZXNvbHZlcl0gVGhlIGZ1bmN0aW9uIHRvIHJlc29sdmUgdGhlIGNhY2hlIGtleS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBtZW1vaXplZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIgfTtcbiAgICAgKiB2YXIgb3RoZXIgPSB7ICdjJzogMywgJ2QnOiA0IH07XG4gICAgICpcbiAgICAgKiB2YXIgdmFsdWVzID0gXy5tZW1vaXplKF8udmFsdWVzKTtcbiAgICAgKiB2YWx1ZXMob2JqZWN0KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIHZhbHVlcyhvdGhlcik7XG4gICAgICogLy8gPT4gWzMsIDRdXG4gICAgICpcbiAgICAgKiBvYmplY3QuYSA9IDI7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWzEsIDJdXG4gICAgICpcbiAgICAgKiAvLyBNb2RpZnkgdGhlIHJlc3VsdCBjYWNoZS5cbiAgICAgKiB2YWx1ZXMuY2FjaGUuc2V0KG9iamVjdCwgWydhJywgJ2InXSk7XG4gICAgICogdmFsdWVzKG9iamVjdCk7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqXG4gICAgICogLy8gUmVwbGFjZSBgXy5tZW1vaXplLkNhY2hlYC5cbiAgICAgKiBfLm1lbW9pemUuQ2FjaGUgPSBXZWFrTWFwO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1lbW9pemUoZnVuYywgcmVzb2x2ZXIpIHtcbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nIHx8IChyZXNvbHZlciAhPSBudWxsICYmIHR5cGVvZiByZXNvbHZlciAhPSAnZnVuY3Rpb24nKSkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICB2YXIgbWVtb2l6ZWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHMsXG4gICAgICAgICAgICBrZXkgPSByZXNvbHZlciA/IHJlc29sdmVyLmFwcGx5KHRoaXMsIGFyZ3MpIDogYXJnc1swXSxcbiAgICAgICAgICAgIGNhY2hlID0gbWVtb2l6ZWQuY2FjaGU7XG5cbiAgICAgICAgaWYgKGNhY2hlLmhhcyhrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhY2hlLmdldChrZXkpO1xuICAgICAgICB9XG4gICAgICAgIHZhciByZXN1bHQgPSBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgICAgICBtZW1vaXplZC5jYWNoZSA9IGNhY2hlLnNldChrZXksIHJlc3VsdCkgfHwgY2FjaGU7XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuICAgICAgbWVtb2l6ZWQuY2FjaGUgPSBuZXcgKG1lbW9pemUuQ2FjaGUgfHwgTWFwQ2FjaGUpO1xuICAgICAgcmV0dXJuIG1lbW9pemVkO1xuICAgIH1cblxuICAgIC8vIEV4cG9zZSBgTWFwQ2FjaGVgLlxuICAgIG1lbW9pemUuQ2FjaGUgPSBNYXBDYWNoZTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IG5lZ2F0ZXMgdGhlIHJlc3VsdCBvZiB0aGUgcHJlZGljYXRlIGBmdW5jYC4gVGhlXG4gICAgICogYGZ1bmNgIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIGFuZCBhcmd1bWVudHMgb2YgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IHByZWRpY2F0ZSBUaGUgcHJlZGljYXRlIHRvIG5lZ2F0ZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBuZWdhdGVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0V2ZW4obikge1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5maWx0ZXIoWzEsIDIsIDMsIDQsIDUsIDZdLCBfLm5lZ2F0ZShpc0V2ZW4pKTtcbiAgICAgKiAvLyA9PiBbMSwgMywgNV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBuZWdhdGUocHJlZGljYXRlKSB7XG4gICAgICBpZiAodHlwZW9mIHByZWRpY2F0ZSAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIHN3aXRjaCAoYXJncy5sZW5ndGgpIHtcbiAgICAgICAgICBjYXNlIDA6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcyk7XG4gICAgICAgICAgY2FzZSAxOiByZXR1cm4gIXByZWRpY2F0ZS5jYWxsKHRoaXMsIGFyZ3NbMF0pO1xuICAgICAgICAgIGNhc2UgMjogcmV0dXJuICFwcmVkaWNhdGUuY2FsbCh0aGlzLCBhcmdzWzBdLCBhcmdzWzFdKTtcbiAgICAgICAgICBjYXNlIDM6IHJldHVybiAhcHJlZGljYXRlLmNhbGwodGhpcywgYXJnc1swXSwgYXJnc1sxXSwgYXJnc1syXSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICFwcmVkaWNhdGUuYXBwbHkodGhpcywgYXJncyk7XG4gICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGlzIHJlc3RyaWN0ZWQgdG8gaW52b2tpbmcgYGZ1bmNgIG9uY2UuIFJlcGVhdCBjYWxsc1xuICAgICAqIHRvIHRoZSBmdW5jdGlvbiByZXR1cm4gdGhlIHZhbHVlIG9mIHRoZSBmaXJzdCBpbnZvY2F0aW9uLiBUaGUgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBhbmQgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gcmVzdHJpY3QuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcmVzdHJpY3RlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGluaXRpYWxpemUgPSBfLm9uY2UoY3JlYXRlQXBwbGljYXRpb24pO1xuICAgICAqIGluaXRpYWxpemUoKTtcbiAgICAgKiBpbml0aWFsaXplKCk7XG4gICAgICogLy8gPT4gYGNyZWF0ZUFwcGxpY2F0aW9uYCBpcyBpbnZva2VkIG9uY2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBvbmNlKGZ1bmMpIHtcbiAgICAgIHJldHVybiBiZWZvcmUoMiwgZnVuYyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCBpdHMgYXJndW1lbnRzIHRyYW5zZm9ybWVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gd3JhcC5cbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW3RyYW5zZm9ybXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgYXJndW1lbnQgdHJhbnNmb3Jtcy5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gZG91YmxlZChuKSB7XG4gICAgICogICByZXR1cm4gbiAqIDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gc3F1YXJlKG4pIHtcbiAgICAgKiAgIHJldHVybiBuICogbjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckFyZ3MoZnVuY3Rpb24oeCwgeSkge1xuICAgICAqICAgcmV0dXJuIFt4LCB5XTtcbiAgICAgKiB9LCBbc3F1YXJlLCBkb3VibGVkXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKDksIDMpO1xuICAgICAqIC8vID0+IFs4MSwgNl1cbiAgICAgKlxuICAgICAqIGZ1bmMoMTAsIDUpO1xuICAgICAqIC8vID0+IFsxMDAsIDEwXVxuICAgICAqL1xuICAgIHZhciBvdmVyQXJncyA9IGNhc3RSZXN0KGZ1bmN0aW9uKGZ1bmMsIHRyYW5zZm9ybXMpIHtcbiAgICAgIHRyYW5zZm9ybXMgPSAodHJhbnNmb3Jtcy5sZW5ndGggPT0gMSAmJiBpc0FycmF5KHRyYW5zZm9ybXNbMF0pKVxuICAgICAgICA/IGFycmF5TWFwKHRyYW5zZm9ybXNbMF0sIGJhc2VVbmFyeShnZXRJdGVyYXRlZSgpKSlcbiAgICAgICAgOiBhcnJheU1hcChiYXNlRmxhdHRlbih0cmFuc2Zvcm1zLCAxKSwgYmFzZVVuYXJ5KGdldEl0ZXJhdGVlKCkpKTtcblxuICAgICAgdmFyIGZ1bmNzTGVuZ3RoID0gdHJhbnNmb3Jtcy5sZW5ndGg7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMSxcbiAgICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihhcmdzLmxlbmd0aCwgZnVuY3NMZW5ndGgpO1xuXG4gICAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgICAgYXJnc1tpbmRleF0gPSB0cmFuc2Zvcm1zW2luZGV4XS5jYWxsKHRoaXMsIGFyZ3NbaW5kZXhdKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgYXJncyk7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggYHBhcnRpYWxzYCBwcmVwZW5kZWQgdG8gdGhlXG4gICAgICogYXJndW1lbnRzIGl0IHJlY2VpdmVzLiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmJpbmRgIGV4Y2VwdCBpdCBkb2VzICoqbm90KipcbiAgICAgKiBhbHRlciB0aGUgYHRoaXNgIGJpbmRpbmcuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbC5wbGFjZWhvbGRlcmAgdmFsdWUsIHdoaWNoIGRlZmF1bHRzIHRvIGBfYCBpbiBtb25vbGl0aGljXG4gICAgICogYnVpbGRzLCBtYXkgYmUgdXNlZCBhcyBhIHBsYWNlaG9sZGVyIGZvciBwYXJ0aWFsbHkgYXBwbGllZCBhcmd1bWVudHMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgcGFydGlhbGx5XG4gICAgICogYXBwbGllZCBmdW5jdGlvbnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4yLjBcbiAgICAgKiBAY2F0ZWdvcnkgRnVuY3Rpb25cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBmdW5jIFRoZSBmdW5jdGlvbiB0byBwYXJ0aWFsbHkgYXBwbHkgYXJndW1lbnRzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKn0gW3BhcnRpYWxzXSBUaGUgYXJndW1lbnRzIHRvIGJlIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhcnRpYWxseSBhcHBsaWVkIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBncmVldChncmVldGluZywgbmFtZSkge1xuICAgICAqICAgcmV0dXJuIGdyZWV0aW5nICsgJyAnICsgbmFtZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbChncmVldCwgJ2hlbGxvJyk7XG4gICAgICogc2F5SGVsbG9UbygnZnJlZCcpO1xuICAgICAqIC8vID0+ICdoZWxsbyBmcmVkJ1xuICAgICAqXG4gICAgICogLy8gUGFydGlhbGx5IGFwcGxpZWQgd2l0aCBwbGFjZWhvbGRlcnMuXG4gICAgICogdmFyIGdyZWV0RnJlZCA9IF8ucGFydGlhbChncmVldCwgXywgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWwgPSBiYXNlUmVzdChmdW5jdGlvbihmdW5jLCBwYXJ0aWFscykge1xuICAgICAgdmFyIGhvbGRlcnMgPSByZXBsYWNlSG9sZGVycyhwYXJ0aWFscywgZ2V0SG9sZGVyKHBhcnRpYWwpKTtcbiAgICAgIHJldHVybiBjcmVhdGVXcmFwKGZ1bmMsIFdSQVBfUEFSVElBTF9GTEFHLCB1bmRlZmluZWQsIHBhcnRpYWxzLCBob2xkZXJzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8ucGFydGlhbGAgZXhjZXB0IHRoYXQgcGFydGlhbGx5IGFwcGxpZWQgYXJndW1lbnRzXG4gICAgICogYXJlIGFwcGVuZGVkIHRvIHRoZSBhcmd1bWVudHMgaXQgcmVjZWl2ZXMuXG4gICAgICpcbiAgICAgKiBUaGUgYF8ucGFydGlhbFJpZ2h0LnBsYWNlaG9sZGVyYCB2YWx1ZSwgd2hpY2ggZGVmYXVsdHMgdG8gYF9gIGluIG1vbm9saXRoaWNcbiAgICAgKiBidWlsZHMsIG1heSBiZSB1c2VkIGFzIGEgcGxhY2Vob2xkZXIgZm9yIHBhcnRpYWxseSBhcHBsaWVkIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBkb2Vzbid0IHNldCB0aGUgXCJsZW5ndGhcIiBwcm9wZXJ0eSBvZiBwYXJ0aWFsbHlcbiAgICAgKiBhcHBsaWVkIGZ1bmN0aW9ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHBhcnRpYWxseSBhcHBseSBhcmd1bWVudHMgdG8uXG4gICAgICogQHBhcmFtIHsuLi4qfSBbcGFydGlhbHNdIFRoZSBhcmd1bWVudHMgdG8gYmUgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgcGFydGlhbGx5IGFwcGxpZWQgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGdyZWV0KGdyZWV0aW5nLCBuYW1lKSB7XG4gICAgICogICByZXR1cm4gZ3JlZXRpbmcgKyAnICcgKyBuYW1lO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBncmVldEZyZWQgPSBfLnBhcnRpYWxSaWdodChncmVldCwgJ2ZyZWQnKTtcbiAgICAgKiBncmVldEZyZWQoJ2hpJyk7XG4gICAgICogLy8gPT4gJ2hpIGZyZWQnXG4gICAgICpcbiAgICAgKiAvLyBQYXJ0aWFsbHkgYXBwbGllZCB3aXRoIHBsYWNlaG9sZGVycy5cbiAgICAgKiB2YXIgc2F5SGVsbG9UbyA9IF8ucGFydGlhbFJpZ2h0KGdyZWV0LCAnaGVsbG8nLCBfKTtcbiAgICAgKiBzYXlIZWxsb1RvKCdmcmVkJyk7XG4gICAgICogLy8gPT4gJ2hlbGxvIGZyZWQnXG4gICAgICovXG4gICAgdmFyIHBhcnRpYWxSaWdodCA9IGJhc2VSZXN0KGZ1bmN0aW9uKGZ1bmMsIHBhcnRpYWxzKSB7XG4gICAgICB2YXIgaG9sZGVycyA9IHJlcGxhY2VIb2xkZXJzKHBhcnRpYWxzLCBnZXRIb2xkZXIocGFydGlhbFJpZ2h0KSk7XG4gICAgICByZXR1cm4gY3JlYXRlV3JhcChmdW5jLCBXUkFQX1BBUlRJQUxfUklHSFRfRkxBRywgdW5kZWZpbmVkLCBwYXJ0aWFscywgaG9sZGVycyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIGFyZ3VtZW50cyBhcnJhbmdlZCBhY2NvcmRpbmdcbiAgICAgKiB0byB0aGUgc3BlY2lmaWVkIGBpbmRleGVzYCB3aGVyZSB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIGZpcnN0IGluZGV4IGlzXG4gICAgICogcHJvdmlkZWQgYXMgdGhlIGZpcnN0IGFyZ3VtZW50LCB0aGUgYXJndW1lbnQgdmFsdWUgYXQgdGhlIHNlY29uZCBpbmRleCBpc1xuICAgICAqIHByb3ZpZGVkIGFzIHRoZSBzZWNvbmQgYXJndW1lbnQsIGFuZCBzbyBvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHJlYXJyYW5nZSBhcmd1bWVudHMgZm9yLlxuICAgICAqIEBwYXJhbSB7Li4uKG51bWJlcnxudW1iZXJbXSl9IGluZGV4ZXMgVGhlIGFycmFuZ2VkIGFyZ3VtZW50IGluZGV4ZXMuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciByZWFyZ2VkID0gXy5yZWFyZyhmdW5jdGlvbihhLCBiLCBjKSB7XG4gICAgICogICByZXR1cm4gW2EsIGIsIGNdO1xuICAgICAqIH0sIFsyLCAwLCAxXSk7XG4gICAgICpcbiAgICAgKiByZWFyZ2VkKCdiJywgJ2MnLCAnYScpXG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgdmFyIHJlYXJnID0gZmxhdFJlc3QoZnVuY3Rpb24oZnVuYywgaW5kZXhlcykge1xuICAgICAgcmV0dXJuIGNyZWF0ZVdyYXAoZnVuYywgV1JBUF9SRUFSR19GTEFHLCB1bmRlZmluZWQsIHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBpbmRleGVzKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGZ1bmNgIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZVxuICAgICAqIGNyZWF0ZWQgZnVuY3Rpb24gYW5kIGFyZ3VtZW50cyBmcm9tIGBzdGFydGAgYW5kIGJleW9uZCBwcm92aWRlZCBhc1xuICAgICAqIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uIHRoZVxuICAgICAqIFtyZXN0IHBhcmFtZXRlcl0oaHR0cHM6Ly9tZG4uaW8vcmVzdF9wYXJhbWV0ZXJzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGFwcGx5IGEgcmVzdCBwYXJhbWV0ZXIgdG8uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD1mdW5jLmxlbmd0aC0xXSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgdGhlIHJlc3QgcGFyYW1ldGVyLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5yZXN0KGZ1bmN0aW9uKHdoYXQsIG5hbWVzKSB7XG4gICAgICogICByZXR1cm4gd2hhdCArICcgJyArIF8uaW5pdGlhbChuYW1lcykuam9pbignLCAnKSArXG4gICAgICogICAgIChfLnNpemUobmFtZXMpID4gMSA/ICcsICYgJyA6ICcnKSArIF8ubGFzdChuYW1lcyk7XG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBzYXkoJ2hlbGxvJywgJ2ZyZWQnLCAnYmFybmV5JywgJ3BlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdChmdW5jLCBzdGFydCkge1xuICAgICAgaWYgKHR5cGVvZiBmdW5jICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihGVU5DX0VSUk9SX1RFWFQpO1xuICAgICAgfVxuICAgICAgc3RhcnQgPSBzdGFydCA9PT0gdW5kZWZpbmVkID8gc3RhcnQgOiB0b0ludGVnZXIoc3RhcnQpO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmMsIHN0YXJ0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGBmdW5jYCB3aXRoIHRoZSBgdGhpc2AgYmluZGluZyBvZiB0aGVcbiAgICAgKiBjcmVhdGUgZnVuY3Rpb24gYW5kIGFuIGFycmF5IG9mIGFyZ3VtZW50cyBtdWNoIGxpa2VcbiAgICAgKiBbYEZ1bmN0aW9uI2FwcGx5YF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWZ1bmN0aW9uLnByb3RvdHlwZS5hcHBseSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb24gdGhlXG4gICAgICogW3NwcmVhZCBvcGVyYXRvcl0oaHR0cHM6Ly9tZG4uaW8vc3ByZWFkX29wZXJhdG9yKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjIuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIHNwcmVhZCBhcmd1bWVudHMgb3Zlci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBwb3NpdGlvbiBvZiB0aGUgc3ByZWFkLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgc2F5ID0gXy5zcHJlYWQoZnVuY3Rpb24od2hvLCB3aGF0KSB7XG4gICAgICogICByZXR1cm4gd2hvICsgJyBzYXlzICcgKyB3aGF0O1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogc2F5KFsnZnJlZCcsICdoZWxsbyddKTtcbiAgICAgKiAvLyA9PiAnZnJlZCBzYXlzIGhlbGxvJ1xuICAgICAqXG4gICAgICogdmFyIG51bWJlcnMgPSBQcm9taXNlLmFsbChbXG4gICAgICogICBQcm9taXNlLnJlc29sdmUoNDApLFxuICAgICAqICAgUHJvbWlzZS5yZXNvbHZlKDM2KVxuICAgICAqIF0pO1xuICAgICAqXG4gICAgICogbnVtYmVycy50aGVuKF8uc3ByZWFkKGZ1bmN0aW9uKHgsIHkpIHtcbiAgICAgKiAgIHJldHVybiB4ICsgeTtcbiAgICAgKiB9KSk7XG4gICAgICogLy8gPT4gYSBQcm9taXNlIG9mIDc2XG4gICAgICovXG4gICAgZnVuY3Rpb24gc3ByZWFkKGZ1bmMsIHN0YXJ0KSB7XG4gICAgICBpZiAodHlwZW9mIGZ1bmMgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICB9XG4gICAgICBzdGFydCA9IHN0YXJ0ID09IG51bGwgPyAwIDogbmF0aXZlTWF4KHRvSW50ZWdlcihzdGFydCksIDApO1xuICAgICAgcmV0dXJuIGJhc2VSZXN0KGZ1bmN0aW9uKGFyZ3MpIHtcbiAgICAgICAgdmFyIGFycmF5ID0gYXJnc1tzdGFydF0sXG4gICAgICAgICAgICBvdGhlckFyZ3MgPSBjYXN0U2xpY2UoYXJncywgMCwgc3RhcnQpO1xuXG4gICAgICAgIGlmIChhcnJheSkge1xuICAgICAgICAgIGFycmF5UHVzaChvdGhlckFyZ3MsIGFycmF5KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYXBwbHkoZnVuYywgdGhpcywgb3RoZXJBcmdzKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB0aHJvdHRsZWQgZnVuY3Rpb24gdGhhdCBvbmx5IGludm9rZXMgYGZ1bmNgIGF0IG1vc3Qgb25jZSBwZXJcbiAgICAgKiBldmVyeSBgd2FpdGAgbWlsbGlzZWNvbmRzLiBUaGUgdGhyb3R0bGVkIGZ1bmN0aW9uIGNvbWVzIHdpdGggYSBgY2FuY2VsYFxuICAgICAqIG1ldGhvZCB0byBjYW5jZWwgZGVsYXllZCBgZnVuY2AgaW52b2NhdGlvbnMgYW5kIGEgYGZsdXNoYCBtZXRob2QgdG9cbiAgICAgKiBpbW1lZGlhdGVseSBpbnZva2UgdGhlbS4gUHJvdmlkZSBgb3B0aW9uc2AgdG8gaW5kaWNhdGUgd2hldGhlciBgZnVuY2BcbiAgICAgKiBzaG91bGQgYmUgaW52b2tlZCBvbiB0aGUgbGVhZGluZyBhbmQvb3IgdHJhaWxpbmcgZWRnZSBvZiB0aGUgYHdhaXRgXG4gICAgICogdGltZW91dC4gVGhlIGBmdW5jYCBpcyBpbnZva2VkIHdpdGggdGhlIGxhc3QgYXJndW1lbnRzIHByb3ZpZGVkIHRvIHRoZVxuICAgICAqIHRocm90dGxlZCBmdW5jdGlvbi4gU3Vic2VxdWVudCBjYWxscyB0byB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHJldHVybiB0aGVcbiAgICAgKiByZXN1bHQgb2YgdGhlIGxhc3QgYGZ1bmNgIGludm9jYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSWYgYGxlYWRpbmdgIGFuZCBgdHJhaWxpbmdgIG9wdGlvbnMgYXJlIGB0cnVlYCwgYGZ1bmNgIGlzXG4gICAgICogaW52b2tlZCBvbiB0aGUgdHJhaWxpbmcgZWRnZSBvZiB0aGUgdGltZW91dCBvbmx5IGlmIHRoZSB0aHJvdHRsZWQgZnVuY3Rpb25cbiAgICAgKiBpcyBpbnZva2VkIG1vcmUgdGhhbiBvbmNlIGR1cmluZyB0aGUgYHdhaXRgIHRpbWVvdXQuXG4gICAgICpcbiAgICAgKiBJZiBgd2FpdGAgaXMgYDBgIGFuZCBgbGVhZGluZ2AgaXMgYGZhbHNlYCwgYGZ1bmNgIGludm9jYXRpb24gaXMgZGVmZXJyZWRcbiAgICAgKiB1bnRpbCB0byB0aGUgbmV4dCB0aWNrLCBzaW1pbGFyIHRvIGBzZXRUaW1lb3V0YCB3aXRoIGEgdGltZW91dCBvZiBgMGAuXG4gICAgICpcbiAgICAgKiBTZWUgW0RhdmlkIENvcmJhY2hvJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9jc3MtdHJpY2tzLmNvbS9kZWJvdW5jaW5nLXRocm90dGxpbmctZXhwbGFpbmVkLWV4YW1wbGVzLylcbiAgICAgKiBmb3IgZGV0YWlscyBvdmVyIHRoZSBkaWZmZXJlbmNlcyBiZXR3ZWVuIGBfLnRocm90dGxlYCBhbmQgYF8uZGVib3VuY2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IEZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gdGhyb3R0bGUuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFt3YWl0PTBdIFRoZSBudW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHRocm90dGxlIGludm9jYXRpb25zIHRvLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW29wdGlvbnMubGVhZGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSBsZWFkaW5nIGVkZ2Ugb2YgdGhlIHRpbWVvdXQuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy50cmFpbGluZz10cnVlXVxuICAgICAqICBTcGVjaWZ5IGludm9raW5nIG9uIHRoZSB0cmFpbGluZyBlZGdlIG9mIHRoZSB0aW1lb3V0LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHRocm90dGxlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogLy8gQXZvaWQgZXhjZXNzaXZlbHkgdXBkYXRpbmcgdGhlIHBvc2l0aW9uIHdoaWxlIHNjcm9sbGluZy5cbiAgICAgKiBqUXVlcnkod2luZG93KS5vbignc2Nyb2xsJywgXy50aHJvdHRsZSh1cGRhdGVQb3NpdGlvbiwgMTAwKSk7XG4gICAgICpcbiAgICAgKiAvLyBJbnZva2UgYHJlbmV3VG9rZW5gIHdoZW4gdGhlIGNsaWNrIGV2ZW50IGlzIGZpcmVkLCBidXQgbm90IG1vcmUgdGhhbiBvbmNlIGV2ZXJ5IDUgbWludXRlcy5cbiAgICAgKiB2YXIgdGhyb3R0bGVkID0gXy50aHJvdHRsZShyZW5ld1Rva2VuLCAzMDAwMDAsIHsgJ3RyYWlsaW5nJzogZmFsc2UgfSk7XG4gICAgICogalF1ZXJ5KGVsZW1lbnQpLm9uKCdjbGljaycsIHRocm90dGxlZCk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRyYWlsaW5nIHRocm90dGxlZCBpbnZvY2F0aW9uLlxuICAgICAqIGpRdWVyeSh3aW5kb3cpLm9uKCdwb3BzdGF0ZScsIHRocm90dGxlZC5jYW5jZWwpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm90dGxlKGZ1bmMsIHdhaXQsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZWFkaW5nID0gdHJ1ZSxcbiAgICAgICAgICB0cmFpbGluZyA9IHRydWU7XG5cbiAgICAgIGlmICh0eXBlb2YgZnVuYyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoRlVOQ19FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICBsZWFkaW5nID0gJ2xlYWRpbmcnIGluIG9wdGlvbnMgPyAhIW9wdGlvbnMubGVhZGluZyA6IGxlYWRpbmc7XG4gICAgICAgIHRyYWlsaW5nID0gJ3RyYWlsaW5nJyBpbiBvcHRpb25zID8gISFvcHRpb25zLnRyYWlsaW5nIDogdHJhaWxpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gZGVib3VuY2UoZnVuYywgd2FpdCwge1xuICAgICAgICAnbGVhZGluZyc6IGxlYWRpbmcsXG4gICAgICAgICdtYXhXYWl0Jzogd2FpdCxcbiAgICAgICAgJ3RyYWlsaW5nJzogdHJhaWxpbmdcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGFjY2VwdHMgdXAgdG8gb25lIGFyZ3VtZW50LCBpZ25vcmluZyBhbnlcbiAgICAgKiBhZGRpdGlvbmFsIGFyZ3VtZW50cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhcCBhcmd1bWVudHMgZm9yLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNhcHBlZCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzgnLCAnMTAnXSwgXy51bmFyeShwYXJzZUludCkpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1bmFyeShmdW5jKSB7XG4gICAgICByZXR1cm4gYXJ5KGZ1bmMsIDEpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHByb3ZpZGVzIGB2YWx1ZWAgdG8gYHdyYXBwZXJgIGFzIGl0cyBmaXJzdFxuICAgICAqIGFyZ3VtZW50LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgcHJvdmlkZWQgdG8gdGhlIGZ1bmN0aW9uIGFyZSBhcHBlbmRlZFxuICAgICAqIHRvIHRob3NlIHByb3ZpZGVkIHRvIHRoZSBgd3JhcHBlcmAuIFRoZSB3cmFwcGVyIGlzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgXG4gICAgICogYmluZGluZyBvZiB0aGUgY3JlYXRlZCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBGdW5jdGlvblxuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHdyYXAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW3dyYXBwZXI9aWRlbnRpdHldIFRoZSB3cmFwcGVyIGZ1bmN0aW9uLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgcCA9IF8ud3JhcChfLmVzY2FwZSwgZnVuY3Rpb24oZnVuYywgdGV4dCkge1xuICAgICAqICAgcmV0dXJuICc8cD4nICsgZnVuYyh0ZXh0KSArICc8L3A+JztcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHAoJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJzxwPmZyZWQsIGJhcm5leSwgJmFtcDsgcGViYmxlczwvcD4nXG4gICAgICovXG4gICAgZnVuY3Rpb24gd3JhcCh2YWx1ZSwgd3JhcHBlcikge1xuICAgICAgcmV0dXJuIHBhcnRpYWwoY2FzdEZ1bmN0aW9uKHdyYXBwZXIpLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQ2FzdHMgYHZhbHVlYCBhcyBhbiBhcnJheSBpZiBpdCdzIG5vdCBvbmUuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC40LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBjYXN0IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhc3RBcnJheSgxKTtcbiAgICAgKiAvLyA9PiBbMV1cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KHsgJ2EnOiAxIH0pO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSB9XVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IFsnYWJjJ11cbiAgICAgKlxuICAgICAqIF8uY2FzdEFycmF5KG51bGwpO1xuICAgICAqIC8vID0+IFtudWxsXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkodW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBbdW5kZWZpbmVkXVxuICAgICAqXG4gICAgICogXy5jYXN0QXJyYXkoKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWzEsIDIsIDNdO1xuICAgICAqIGNvbnNvbGUubG9nKF8uY2FzdEFycmF5KGFycmF5KSA9PT0gYXJyYXkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjYXN0QXJyYXkoKSB7XG4gICAgICBpZiAoIWFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgdmFyIHZhbHVlID0gYXJndW1lbnRzWzBdO1xuICAgICAgcmV0dXJuIGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBzaGFsbG93IGNsb25lIG9mIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvbiB0aGVcbiAgICAgKiBbc3RydWN0dXJlZCBjbG9uZSBhbGdvcml0aG1dKGh0dHBzOi8vbWRuLmlvL1N0cnVjdHVyZWRfY2xvbmVfYWxnb3JpdGhtKVxuICAgICAqIGFuZCBzdXBwb3J0cyBjbG9uaW5nIGFycmF5cywgYXJyYXkgYnVmZmVycywgYm9vbGVhbnMsIGRhdGUgb2JqZWN0cywgbWFwcyxcbiAgICAgKiBudW1iZXJzLCBgT2JqZWN0YCBvYmplY3RzLCByZWdleGVzLCBzZXRzLCBzdHJpbmdzLCBzeW1ib2xzLCBhbmQgdHlwZWRcbiAgICAgKiBhcnJheXMuIFRoZSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzIG9mIGBhcmd1bWVudHNgIG9iamVjdHMgYXJlIGNsb25lZFxuICAgICAqIGFzIHBsYWluIG9iamVjdHMuIEFuIGVtcHR5IG9iamVjdCBpcyByZXR1cm5lZCBmb3IgdW5jbG9uZWFibGUgdmFsdWVzIHN1Y2hcbiAgICAgKiBhcyBlcnJvciBvYmplY3RzLCBmdW5jdGlvbnMsIERPTSBub2RlcywgYW5kIFdlYWtNYXBzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjbG9uZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgc2hhbGxvdyA9IF8uY2xvbmUob2JqZWN0cyk7XG4gICAgICogY29uc29sZS5sb2coc2hhbGxvd1swXSA9PT0gb2JqZWN0c1swXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBwcm9kdWNlIHRoZSBjbG9uZWQgdmFsdWUuIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgLFxuICAgICAqIGNsb25pbmcgaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoXG4gICAgICogdXAgdG8gZm91ciBhcmd1bWVudHM7ICh2YWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgc3RhY2tdKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgY2xvbmVkIHZhbHVlLlxuICAgICAqIEBzZWUgXy5jbG9uZURlZXBXaXRoXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIodmFsdWUpIHtcbiAgICAgKiAgIGlmIChfLmlzRWxlbWVudCh2YWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHZhbHVlLmNsb25lTm9kZShmYWxzZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZVdpdGgoZG9jdW1lbnQuYm9keSwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhlbCA9PT0gZG9jdW1lbnQuYm9keSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKiBjb25zb2xlLmxvZyhlbC5ub2RlTmFtZSk7XG4gICAgICogLy8gPT4gJ0JPRFknXG4gICAgICogY29uc29sZS5sb2coZWwuY2hpbGROb2Rlcy5sZW5ndGgpO1xuICAgICAqIC8vID0+IDBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjbG9uZVdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5jbG9uZWAgZXhjZXB0IHRoYXQgaXQgcmVjdXJzaXZlbHkgY2xvbmVzIGB2YWx1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHJlY3Vyc2l2ZWx5IGNsb25lLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSBkZWVwIGNsb25lZCB2YWx1ZS5cbiAgICAgKiBAc2VlIF8uY2xvbmVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnYSc6IDEgfSwgeyAnYic6IDIgfV07XG4gICAgICpcbiAgICAgKiB2YXIgZGVlcCA9IF8uY2xvbmVEZWVwKG9iamVjdHMpO1xuICAgICAqIGNvbnNvbGUubG9nKGRlZXBbMF0gPT09IG9iamVjdHNbMF0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xvbmVEZWVwKHZhbHVlKSB7XG4gICAgICByZXR1cm4gYmFzZUNsb25lKHZhbHVlLCBDTE9ORV9ERUVQX0ZMQUcgfCBDTE9ORV9TWU1CT0xTX0ZMQUcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uY2xvbmVXaXRoYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBjbG9uZXMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmVjdXJzaXZlbHkgY2xvbmUuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgY2xvbmluZy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgZGVlcCBjbG9uZWQgdmFsdWUuXG4gICAgICogQHNlZSBfLmNsb25lV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKHZhbHVlKSB7XG4gICAgICogICBpZiAoXy5pc0VsZW1lbnQodmFsdWUpKSB7XG4gICAgICogICAgIHJldHVybiB2YWx1ZS5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGVsID0gXy5jbG9uZURlZXBXaXRoKGRvY3VtZW50LmJvZHksIGN1c3RvbWl6ZXIpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2coZWwgPT09IGRvY3VtZW50LmJvZHkpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICogY29uc29sZS5sb2coZWwubm9kZU5hbWUpO1xuICAgICAqIC8vID0+ICdCT0RZJ1xuICAgICAqIGNvbnNvbGUubG9nKGVsLmNoaWxkTm9kZXMubGVuZ3RoKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNsb25lRGVlcFdpdGgodmFsdWUsIGN1c3RvbWl6ZXIpIHtcbiAgICAgIGN1c3RvbWl6ZXIgPSB0eXBlb2YgY3VzdG9taXplciA9PSAnZnVuY3Rpb24nID8gY3VzdG9taXplciA6IHVuZGVmaW5lZDtcbiAgICAgIHJldHVybiBiYXNlQ2xvbmUodmFsdWUsIENMT05FX0RFRVBfRkxBRyB8IENMT05FX1NZTUJPTFNfRkxBRywgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBvYmplY3RgIGNvbmZvcm1zIHRvIGBzb3VyY2VgIGJ5IGludm9raW5nIHRoZSBwcmVkaWNhdGVcbiAgICAgKiBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGggdGhlIGNvcnJlc3BvbmRpbmcgcHJvcGVydHkgdmFsdWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGVxdWl2YWxlbnQgdG8gYF8uY29uZm9ybXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjE0LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBvYmplY3RgIGNvbmZvcm1zLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAyIH07XG4gICAgICpcbiAgICAgKiBfLmNvbmZvcm1zVG8ob2JqZWN0LCB7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5jb25mb3Jtc1RvKG9iamVjdCwgeyAnYic6IGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPiAyOyB9IH0pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXNUbyhvYmplY3QsIHNvdXJjZSkge1xuICAgICAgcmV0dXJuIHNvdXJjZSA9PSBudWxsIHx8IGJhc2VDb25mb3Jtc1RvKG9iamVjdCwgc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBlcmZvcm1zIGFcbiAgICAgKiBbYFNhbWVWYWx1ZVplcm9gXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1zYW1ldmFsdWV6ZXJvKVxuICAgICAqIGNvbXBhcmlzb24gYmV0d2VlbiB0d28gdmFsdWVzIHRvIGRldGVybWluZSBpZiB0aGV5IGFyZSBlcXVpdmFsZW50LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvYmplY3QpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEob2JqZWN0LCBvdGhlcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uZXEoJ2EnLCBPYmplY3QoJ2EnKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uZXEoTmFOLCBOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlcSh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gb3RoZXIgfHwgKHZhbHVlICE9PSB2YWx1ZSAmJiBvdGhlciAhPT0gb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGdyZWF0ZXIgdGhhbiBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIGBvdGhlcmAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ubHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndCgzLCAxKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmd0KDMsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmd0KDEsIDMpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGd0ID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihiYXNlR3QpO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgZ3JlYXRlciB0aGFuIG9yIGVxdWFsIHRvIGBvdGhlcmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy45LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBncmVhdGVyIHRoYW4gb3IgZXF1YWwgdG9cbiAgICAgKiAgYG90aGVyYCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBzZWUgXy5sdGVcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMywgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5ndGUoMSwgMyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgZ3RlID0gY3JlYXRlUmVsYXRpb25hbE9wZXJhdGlvbihmdW5jdGlvbih2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA+PSBvdGhlcjtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxpa2VseSBhbiBgYXJndW1lbnRzYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGBhcmd1bWVudHNgIG9iamVjdCxcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJndW1lbnRzKGZ1bmN0aW9uKCkgeyByZXR1cm4gYXJndW1lbnRzOyB9KCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcmd1bWVudHMoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FyZ3VtZW50cyA9IGJhc2VJc0FyZ3VtZW50cyhmdW5jdGlvbigpIHsgcmV0dXJuIGFyZ3VtZW50czsgfSgpKSA/IGJhc2VJc0FyZ3VtZW50cyA6IGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCAnY2FsbGVlJykgJiZcbiAgICAgICAgIXByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwodmFsdWUsICdjYWxsZWUnKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhbiBgQXJyYXlgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gYXJyYXksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXkoXy5ub29wKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5ID0gQXJyYXkuaXNBcnJheTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYW4gYEFycmF5QnVmZmVyYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5IGJ1ZmZlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5QnVmZmVyKDIpKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlCdWZmZXIobmV3IEFycmF5KDIpKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc0FycmF5QnVmZmVyID0gbm9kZUlzQXJyYXlCdWZmZXIgPyBiYXNlVW5hcnkobm9kZUlzQXJyYXlCdWZmZXIpIDogYmFzZUlzQXJyYXlCdWZmZXI7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhcnJheS1saWtlLiBBIHZhbHVlIGlzIGNvbnNpZGVyZWQgYXJyYXktbGlrZSBpZiBpdCdzXG4gICAgICogbm90IGEgZnVuY3Rpb24gYW5kIGhhcyBhIGB2YWx1ZS5sZW5ndGhgIHRoYXQncyBhbiBpbnRlZ2VyIGdyZWF0ZXIgdGhhbiBvclxuICAgICAqIGVxdWFsIHRvIGAwYCBhbmQgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIGBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFycmF5LWxpa2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2UoZG9jdW1lbnQuYm9keS5jaGlsZHJlbik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZSgnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0FycmF5TGlrZShfLm5vb3ApO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNBcnJheUxpa2UodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSAhPSBudWxsICYmIGlzTGVuZ3RoKHZhbHVlLmxlbmd0aCkgJiYgIWlzRnVuY3Rpb24odmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNBcnJheUxpa2VgIGV4Y2VwdCB0aGF0IGl0IGFsc28gY2hlY2tzIGlmIGB2YWx1ZWBcbiAgICAgKiBpcyBhbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGFycmF5LWxpa2Ugb2JqZWN0LFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KGRvY3VtZW50LmJvZHkuY2hpbGRyZW4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNBcnJheUxpa2VPYmplY3QoJ2FiYycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzQXJyYXlMaWtlT2JqZWN0KF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0FycmF5TGlrZU9iamVjdCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgaXNBcnJheUxpa2UodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBib29sZWFuIHByaW1pdGl2ZSBvciBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYm9vbGVhbiwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzQm9vbGVhbihmYWxzZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Jvb2xlYW4obnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Jvb2xlYW4odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gZmFsc2UgfHxcbiAgICAgICAgKGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gYm9vbFRhZyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYSBidWZmZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgYnVmZmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNCdWZmZXIobmV3IEJ1ZmZlcigyKSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0J1ZmZlcihuZXcgVWludDhBcnJheSgyKSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNCdWZmZXIgPSBuYXRpdmVJc0J1ZmZlciB8fCBzdHViRmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYERhdGVgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBkYXRlIG9iamVjdCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRGF0ZShuZXcgRGF0ZSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0RhdGUoJ01vbiBBcHJpbCAyMyAyMDEyJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICB2YXIgaXNEYXRlID0gbm9kZUlzRGF0ZSA/IGJhc2VVbmFyeShub2RlSXNEYXRlKSA6IGJhc2VJc0RhdGU7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsaWtlbHkgYSBET00gZWxlbWVudC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBET00gZWxlbWVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudChkb2N1bWVudC5ib2R5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRWxlbWVudCgnPGJvZHk+Jyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0VsZW1lbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBpc09iamVjdExpa2UodmFsdWUpICYmIHZhbHVlLm5vZGVUeXBlID09PSAxICYmICFpc1BsYWluT2JqZWN0KHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBlbXB0eSBvYmplY3QsIGNvbGxlY3Rpb24sIG1hcCwgb3Igc2V0LlxuICAgICAqXG4gICAgICogT2JqZWN0cyBhcmUgY29uc2lkZXJlZCBlbXB0eSBpZiB0aGV5IGhhdmUgbm8gb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkXG4gICAgICogcHJvcGVydGllcy5cbiAgICAgKlxuICAgICAqIEFycmF5LWxpa2UgdmFsdWVzIHN1Y2ggYXMgYGFyZ3VtZW50c2Agb2JqZWN0cywgYXJyYXlzLCBidWZmZXJzLCBzdHJpbmdzLCBvclxuICAgICAqIGpRdWVyeS1saWtlIGNvbGxlY3Rpb25zIGFyZSBjb25zaWRlcmVkIGVtcHR5IGlmIHRoZXkgaGF2ZSBhIGBsZW5ndGhgIG9mIGAwYC5cbiAgICAgKiBTaW1pbGFybHksIG1hcHMgYW5kIHNldHMgYXJlIGNvbnNpZGVyZWQgZW1wdHkgaWYgdGhleSBoYXZlIGEgYHNpemVgIG9mIGAwYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgZW1wdHksIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh0cnVlKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzRW1wdHkoMSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0VtcHR5KFsxLCAyLCAzXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNFbXB0eSh7ICdhJzogMSB9KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRW1wdHkodmFsdWUpIHtcbiAgICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSAmJlxuICAgICAgICAgIChpc0FycmF5KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUgPT0gJ3N0cmluZycgfHwgdHlwZW9mIHZhbHVlLnNwbGljZSA9PSAnZnVuY3Rpb24nIHx8XG4gICAgICAgICAgICBpc0J1ZmZlcih2YWx1ZSkgfHwgaXNUeXBlZEFycmF5KHZhbHVlKSB8fCBpc0FyZ3VtZW50cyh2YWx1ZSkpKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUubGVuZ3RoO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGdldFRhZyh2YWx1ZSk7XG4gICAgICBpZiAodGFnID09IG1hcFRhZyB8fCB0YWcgPT0gc2V0VGFnKSB7XG4gICAgICAgIHJldHVybiAhdmFsdWUuc2l6ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1Byb3RvdHlwZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuICFiYXNlS2V5cyh2YWx1ZSkubGVuZ3RoO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHZhbHVlKSB7XG4gICAgICAgIGlmIChoYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrZXkpKSB7XG4gICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQZXJmb3JtcyBhIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIHR3byB2YWx1ZXMgdG8gZGV0ZXJtaW5lIGlmIHRoZXkgYXJlXG4gICAgICogZXF1aXZhbGVudC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBzdXBwb3J0cyBjb21wYXJpbmcgYXJyYXlzLCBhcnJheSBidWZmZXJzLCBib29sZWFucyxcbiAgICAgKiBkYXRlIG9iamVjdHMsIGVycm9yIG9iamVjdHMsIG1hcHMsIG51bWJlcnMsIGBPYmplY3RgIG9iamVjdHMsIHJlZ2V4ZXMsXG4gICAgICogc2V0cywgc3RyaW5ncywgc3ltYm9scywgYW5kIHR5cGVkIGFycmF5cy4gYE9iamVjdGAgb2JqZWN0cyBhcmUgY29tcGFyZWRcbiAgICAgKiBieSB0aGVpciBvd24sIG5vdCBpbmhlcml0ZWQsIGVudW1lcmFibGUgcHJvcGVydGllcy4gRnVuY3Rpb25zIGFuZCBET01cbiAgICAgKiBub2RlcyBhcmUgY29tcGFyZWQgYnkgc3RyaWN0IGVxdWFsaXR5LCBpLmUuIGA9PT1gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIHRoZSB2YWx1ZXMgYXJlIGVxdWl2YWxlbnQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IDEgfTtcbiAgICAgKlxuICAgICAqIF8uaXNFcXVhbChvYmplY3QsIG90aGVyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBvYmplY3QgPT09IG90aGVyO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNFcXVhbCh2YWx1ZSwgb3RoZXIpIHtcbiAgICAgIHJldHVybiBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaXNFcXVhbGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIGNvbXBhcmUgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgY29tcGFyaXNvbnNcbiAgICAgKiBhcmUgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZCB3aXRoIHVwIHRvXG4gICAgICogc2l4IGFyZ3VtZW50czogKG9ialZhbHVlLCBvdGhWYWx1ZSBbLCBpbmRleHxrZXksIG9iamVjdCwgb3RoZXIsIHN0YWNrXSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHBhcmFtIHsqfSBvdGhlciBUaGUgb3RoZXIgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHZhbHVlcyBhcmUgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIG90aFZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhvdGhWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gWydoZWxsbycsICdnb29kYnllJ107XG4gICAgICogdmFyIG90aGVyID0gWydoaScsICdnb29kYnllJ107XG4gICAgICpcbiAgICAgKiBfLmlzRXF1YWxXaXRoKGFycmF5LCBvdGhlciwgY3VzdG9taXplcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRXF1YWxXaXRoKHZhbHVlLCBvdGhlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgdmFyIHJlc3VsdCA9IGN1c3RvbWl6ZXIgPyBjdXN0b21pemVyKHZhbHVlLCBvdGhlcikgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gcmVzdWx0ID09PSB1bmRlZmluZWQgPyBiYXNlSXNFcXVhbCh2YWx1ZSwgb3RoZXIsIHVuZGVmaW5lZCwgY3VzdG9taXplcikgOiAhIXJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBgRXJyb3JgLCBgRXZhbEVycm9yYCwgYFJhbmdlRXJyb3JgLCBgUmVmZXJlbmNlRXJyb3JgLFxuICAgICAqIGBTeW50YXhFcnJvcmAsIGBUeXBlRXJyb3JgLCBvciBgVVJJRXJyb3JgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYW4gZXJyb3Igb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihuZXcgRXJyb3IpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNFcnJvcihFcnJvcik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Vycm9yKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBlcnJvclRhZyB8fCB0YWcgPT0gZG9tRXhjVGFnIHx8XG4gICAgICAgICh0eXBlb2YgdmFsdWUubWVzc2FnZSA9PSAnc3RyaW5nJyAmJiB0eXBlb2YgdmFsdWUubmFtZSA9PSAnc3RyaW5nJyAmJiAhaXNQbGFpbk9iamVjdCh2YWx1ZSkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIHByaW1pdGl2ZSBudW1iZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc0Zpbml0ZWBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc0Zpbml0ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZmluaXRlIG51bWJlciwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzRmluaXRlKDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0Zpbml0ZShJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNGaW5pdGUoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzRmluaXRlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmIG5hdGl2ZUlzRmluaXRlKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYEZ1bmN0aW9uYCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgZnVuY3Rpb24sIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0Z1bmN0aW9uKF8pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNGdW5jdGlvbigvYWJjLyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc0Z1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0KHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICAvLyBUaGUgdXNlIG9mIGBPYmplY3QjdG9TdHJpbmdgIGF2b2lkcyBpc3N1ZXMgd2l0aCB0aGUgYHR5cGVvZmAgb3BlcmF0b3JcbiAgICAgIC8vIGluIFNhZmFyaSA5IHdoaWNoIHJldHVybnMgJ29iamVjdCcgZm9yIHR5cGVkIGFycmF5cyBhbmQgb3RoZXIgY29uc3RydWN0b3JzLlxuICAgICAgdmFyIHRhZyA9IGJhc2VHZXRUYWcodmFsdWUpO1xuICAgICAgcmV0dXJuIHRhZyA9PSBmdW5jVGFnIHx8IHRhZyA9PSBnZW5UYWcgfHwgdGFnID09IGFzeW5jVGFnIHx8IHRhZyA9PSBwcm94eVRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhbiBpbnRlZ2VyLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BOdW1iZXIuaXNJbnRlZ2VyYF0oaHR0cHM6Ly9tZG4uaW8vTnVtYmVyL2lzSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGFuIGludGVnZXIsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0ludGVnZXIoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyAmJiB2YWx1ZSA9PSB0b0ludGVnZXIodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgYXJyYXktbGlrZSBsZW5ndGguXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9MZW5ndGhgXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy10b2xlbmd0aCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgdmFsaWQgbGVuZ3RoLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNMZW5ndGgoJzMnKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdudW1iZXInICYmXG4gICAgICAgIHZhbHVlID4gLTEgJiYgdmFsdWUgJSAxID09IDAgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyB0aGVcbiAgICAgKiBbbGFuZ3VhZ2UgdHlwZV0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLWVjbWFzY3JpcHQtbGFuZ3VhZ2UtdHlwZXMpXG4gICAgICogb2YgYE9iamVjdGAuIChlLmcuIGFycmF5cywgZnVuY3Rpb25zLCBvYmplY3RzLCByZWdleGVzLCBgbmV3IE51bWJlcigwKWAsIGFuZCBgbmV3IFN0cmluZygnJylgKVxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhbiBvYmplY3QsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdCh7fSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc09iamVjdChbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3QoXy5ub29wKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0KG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFsdWUpIHtcbiAgICAgIHZhciB0eXBlID0gdHlwZW9mIHZhbHVlO1xuICAgICAgcmV0dXJuIHZhbHVlICE9IG51bGwgJiYgKHR5cGUgPT0gJ29iamVjdCcgfHwgdHlwZSA9PSAnZnVuY3Rpb24nKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBvYmplY3QtbGlrZS4gQSB2YWx1ZSBpcyBvYmplY3QtbGlrZSBpZiBpdCdzIG5vdCBgbnVsbGBcbiAgICAgKiBhbmQgaGFzIGEgYHR5cGVvZmAgcmVzdWx0IG9mIFwib2JqZWN0XCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG9iamVjdC1saWtlLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKHt9KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzT2JqZWN0TGlrZShbMSwgMiwgM10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKF8ubm9vcCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNPYmplY3RMaWtlKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNPYmplY3RMaWtlKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT0gJ29iamVjdCc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgY2xhc3NpZmllZCBhcyBhIGBNYXBgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjMuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBtYXAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBpc01hcCA9IG5vZGVJc01hcCA/IGJhc2VVbmFyeShub2RlSXNNYXApIDogYmFzZUlzTWFwO1xuXG4gICAgLyoqXG4gICAgICogUGVyZm9ybXMgYSBwYXJ0aWFsIGRlZXAgY29tcGFyaXNvbiBiZXR3ZWVuIGBvYmplY3RgIGFuZCBgc291cmNlYCB0b1xuICAgICAqIGRldGVybWluZSBpZiBgb2JqZWN0YCBjb250YWlucyBlcXVpdmFsZW50IHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBlcXVpdmFsZW50IHRvIGBfLm1hdGNoZXNgIHdoZW4gYHNvdXJjZWAgaXNcbiAgICAgKiBwYXJ0aWFsbHkgYXBwbGllZC5cbiAgICAgKlxuICAgICAqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0IGBzb3VyY2VgXG4gICAgICogdmFsdWVzIGFnYWluc3QgYW55IGFycmF5IG9yIG9iamVjdCB2YWx1ZSwgcmVzcGVjdGl2ZWx5LiBTZWUgYF8uaXNFcXVhbGBcbiAgICAgKiBmb3IgYSBsaXN0IG9mIHN1cHBvcnRlZCB2YWx1ZSBjb21wYXJpc29ucy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiB9O1xuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDIgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc01hdGNoKG9iamVjdCwgeyAnYic6IDEgfSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoKG9iamVjdCwgc291cmNlKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09PSBzb3VyY2UgfHwgYmFzZUlzTWF0Y2gob2JqZWN0LCBzb3VyY2UsIGdldE1hdGNoRGF0YShzb3VyY2UpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmlzTWF0Y2hgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoXG4gICAgICogaXMgaW52b2tlZCB0byBjb21wYXJlIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnMgYHVuZGVmaW5lZGAsIGNvbXBhcmlzb25zXG4gICAgICogYXJlIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBmaXZlXG4gICAgICogYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBpbmRleHxrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIHByb3BlcnR5IHZhbHVlcyB0byBtYXRjaC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBjb21wYXJpc29ucy5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYG9iamVjdGAgaXMgYSBtYXRjaCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBpc0dyZWV0aW5nKHZhbHVlKSB7XG4gICAgICogICByZXR1cm4gL15oKD86aXxlbGxvKSQvLnRlc3QodmFsdWUpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIGN1c3RvbWl6ZXIob2JqVmFsdWUsIHNyY1ZhbHVlKSB7XG4gICAgICogICBpZiAoaXNHcmVldGluZyhvYmpWYWx1ZSkgJiYgaXNHcmVldGluZyhzcmNWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIHRydWU7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2dyZWV0aW5nJzogJ2hlbGxvJyB9O1xuICAgICAqIHZhciBzb3VyY2UgPSB7ICdncmVldGluZyc6ICdoaScgfTtcbiAgICAgKlxuICAgICAqIF8uaXNNYXRjaFdpdGgob2JqZWN0LCBzb3VyY2UsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc01hdGNoV2l0aChvYmplY3QsIHNvdXJjZSwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIGJhc2VJc01hdGNoKG9iamVjdCwgc291cmNlLCBnZXRNYXRjaERhdGEoc291cmNlKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYE5hTmAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgYmFzZWQgb25cbiAgICAgKiBbYE51bWJlci5pc05hTmBdKGh0dHBzOi8vbWRuLmlvL051bWJlci9pc05hTikgYW5kIGlzIG5vdCB0aGUgc2FtZSBhc1xuICAgICAqIGdsb2JhbCBbYGlzTmFOYF0oaHR0cHM6Ly9tZG4uaW8vaXNOYU4pIHdoaWNoIHJldHVybnMgYHRydWVgIGZvclxuICAgICAqIGB1bmRlZmluZWRgIGFuZCBvdGhlciBub24tbnVtYmVyIHZhbHVlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYE5hTmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05hTihOYU4pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4obmV3IE51bWJlcihOYU4pKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBpc05hTih1bmRlZmluZWQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOYU4odW5kZWZpbmVkKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzTmFOKHZhbHVlKSB7XG4gICAgICAvLyBBbiBgTmFOYCBwcmltaXRpdmUgaXMgdGhlIG9ubHkgdmFsdWUgdGhhdCBpcyBub3QgZXF1YWwgdG8gaXRzZWxmLlxuICAgICAgLy8gUGVyZm9ybSB0aGUgYHRvU3RyaW5nVGFnYCBjaGVjayBmaXJzdCB0byBhdm9pZCBlcnJvcnMgd2l0aCBzb21lXG4gICAgICAvLyBBY3RpdmVYIG9iamVjdHMgaW4gSUUuXG4gICAgICByZXR1cm4gaXNOdW1iZXIodmFsdWUpICYmIHZhbHVlICE9ICt2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHByaXN0aW5lIG5hdGl2ZSBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBjYW4ndCByZWxpYWJseSBkZXRlY3QgbmF0aXZlIGZ1bmN0aW9ucyBpbiB0aGUgcHJlc2VuY2VcbiAgICAgKiBvZiB0aGUgY29yZS1qcyBwYWNrYWdlIGJlY2F1c2UgY29yZS1qcyBjaXJjdW12ZW50cyB0aGlzIGtpbmQgb2YgZGV0ZWN0aW9uLlxuICAgICAqIERlc3BpdGUgbXVsdGlwbGUgcmVxdWVzdHMsIHRoZSBjb3JlLWpzIG1haW50YWluZXIgaGFzIG1hZGUgaXQgY2xlYXI6IGFueVxuICAgICAqIGF0dGVtcHQgdG8gZml4IHRoZSBkZXRlY3Rpb24gd2lsbCBiZSBvYnN0cnVjdGVkLiBBcyBhIHJlc3VsdCwgd2UncmUgbGVmdFxuICAgICAqIHdpdGggbGl0dGxlIGNob2ljZSBidXQgdG8gdGhyb3cgYW4gZXJyb3IuIFVuZm9ydHVuYXRlbHksIHRoaXMgYWxzbyBhZmZlY3RzXG4gICAgICogcGFja2FnZXMsIGxpa2UgW2JhYmVsLXBvbHlmaWxsXShodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9iYWJlbC1wb2x5ZmlsbCksXG4gICAgICogd2hpY2ggcmVseSBvbiBjb3JlLWpzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIG5hdGl2ZSBmdW5jdGlvbixcbiAgICAgKiAgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKEFycmF5LnByb3RvdHlwZS5wdXNoKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmF0aXZlKF8pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOYXRpdmUodmFsdWUpIHtcbiAgICAgIGlmIChpc01hc2thYmxlKHZhbHVlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoQ09SRV9FUlJPUl9URVhUKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBiYXNlSXNOYXRpdmUodmFsdWUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGBudWxsYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYG51bGxgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKG51bGwpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNOdWxsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bGwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gbnVsbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBgbnVsbGAgb3IgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIG51bGxpc2gsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc05pbChudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTmlsKHZvaWQgMCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc05pbChOYU4pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNOaWwodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgTnVtYmVyYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRvIGV4Y2x1ZGUgYEluZmluaXR5YCwgYC1JbmZpbml0eWAsIGFuZCBgTmFOYCwgd2hpY2ggYXJlXG4gICAgICogY2xhc3NpZmllZCBhcyBudW1iZXJzLCB1c2UgdGhlIGBfLmlzRmluaXRlYCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgbnVtYmVyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNOdW1iZXIoMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc051bWJlcihOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzTnVtYmVyKCczJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc051bWJlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnbnVtYmVyJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBudW1iZXJUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCB0aGF0IGlzLCBhbiBvYmplY3QgY3JlYXRlZCBieSB0aGVcbiAgICAgKiBgT2JqZWN0YCBjb25zdHJ1Y3RvciBvciBvbmUgd2l0aCBhIGBbW1Byb3RvdHlwZV1dYCBvZiBgbnVsbGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC44LjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgcGxhaW4gb2JqZWN0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KG5ldyBGb28pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmlzUGxhaW5PYmplY3QoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KHsgJ3gnOiAwLCAneSc6IDAgfSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1BsYWluT2JqZWN0KE9iamVjdC5jcmVhdGUobnVsbCkpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1BsYWluT2JqZWN0KHZhbHVlKSB7XG4gICAgICBpZiAoIWlzT2JqZWN0TGlrZSh2YWx1ZSkgfHwgYmFzZUdldFRhZyh2YWx1ZSkgIT0gb2JqZWN0VGFnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHZhciBwcm90byA9IGdldFByb3RvdHlwZSh2YWx1ZSk7XG4gICAgICBpZiAocHJvdG8gPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgICB2YXIgQ3RvciA9IGhhc093blByb3BlcnR5LmNhbGwocHJvdG8sICdjb25zdHJ1Y3RvcicpICYmIHByb3RvLmNvbnN0cnVjdG9yO1xuICAgICAgcmV0dXJuIHR5cGVvZiBDdG9yID09ICdmdW5jdGlvbicgJiYgQ3RvciBpbnN0YW5jZW9mIEN0b3IgJiZcbiAgICAgICAgZnVuY1RvU3RyaW5nLmNhbGwoQ3RvcikgPT0gb2JqZWN0Q3RvclN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFJlZ0V4cGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHJlZ2V4cCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKC9hYmMvKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzUmVnRXhwKCcvYWJjLycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzUmVnRXhwID0gbm9kZUlzUmVnRXhwID8gYmFzZVVuYXJ5KG5vZGVJc1JlZ0V4cCkgOiBiYXNlSXNSZWdFeHA7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBhIHNhZmUgaW50ZWdlci4gQW4gaW50ZWdlciBpcyBzYWZlIGlmIGl0J3MgYW4gSUVFRS03NTRcbiAgICAgKiBkb3VibGUgcHJlY2lzaW9uIG51bWJlciB3aGljaCBpc24ndCB0aGUgcmVzdWx0IG9mIGEgcm91bmRlZCB1bnNhZmUgaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgTnVtYmVyLmlzU2FmZUludGVnZXJgXShodHRwczovL21kbi5pby9OdW1iZXIvaXNTYWZlSW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGEgc2FmZSBpbnRlZ2VyLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcigzKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIF8uaXNTYWZlSW50ZWdlcignMycpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNTYWZlSW50ZWdlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzSW50ZWdlcih2YWx1ZSkgJiYgdmFsdWUgPj0gLU1BWF9TQUZFX0lOVEVHRVIgJiYgdmFsdWUgPD0gTUFYX1NBRkVfSU5URUdFUjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFNldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHNldCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU2V0KG5ldyBTZXQpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaXNTZXQobmV3IFdlYWtTZXQpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzU2V0ID0gbm9kZUlzU2V0ID8gYmFzZVVuYXJ5KG5vZGVJc1NldCkgOiBiYXNlSXNTZXQ7XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBjbGFzc2lmaWVkIGFzIGEgYFN0cmluZ2AgcHJpbWl0aXZlIG9yIG9iamVjdC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSBzdHJpbmcsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygnYWJjJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N0cmluZygxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzU3RyaW5nKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnIHx8XG4gICAgICAgICghaXNBcnJheSh2YWx1ZSkgJiYgaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzdHJpbmdUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgU3ltYm9sYCBwcmltaXRpdmUgb3Igb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHN5bWJvbCwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzU3ltYm9sKFN5bWJvbC5pdGVyYXRvcik7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1N5bWJvbCgnYWJjJyk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpc1N5bWJvbCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PSAnc3ltYm9sJyB8fFxuICAgICAgICAoaXNPYmplY3RMaWtlKHZhbHVlKSAmJiBiYXNlR2V0VGFnKHZhbHVlKSA9PSBzeW1ib2xUYWcpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSB0eXBlZCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgYSB0eXBlZCBhcnJheSwgZWxzZSBgZmFsc2VgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmlzVHlwZWRBcnJheShuZXcgVWludDhBcnJheSk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pc1R5cGVkQXJyYXkoW10pO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGlzVHlwZWRBcnJheSA9IG5vZGVJc1R5cGVkQXJyYXkgPyBiYXNlVW5hcnkobm9kZUlzVHlwZWRBcnJheSkgOiBiYXNlSXNUeXBlZEFycmF5O1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGB2YWx1ZWAgaXMgYHVuZGVmaW5lZGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGB1bmRlZmluZWRgLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNVbmRlZmluZWQodm9pZCAwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzVW5kZWZpbmVkKG51bGwpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXNVbmRlZmluZWQodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha01hcGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgbWFwLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrTWFwKG5ldyBXZWFrTWFwKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha01hcChuZXcgTWFwKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha01hcCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgZ2V0VGFnKHZhbHVlKSA9PSB3ZWFrTWFwVGFnO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGNsYXNzaWZpZWQgYXMgYSBgV2Vha1NldGAgb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMy4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHZhbHVlYCBpcyBhIHdlYWsgc2V0LCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uaXNXZWFrU2V0KG5ldyBXZWFrU2V0KTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmlzV2Vha1NldChuZXcgU2V0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlzV2Vha1NldCh2YWx1ZSkge1xuICAgICAgcmV0dXJuIGlzT2JqZWN0TGlrZSh2YWx1ZSkgJiYgYmFzZUdldFRhZyh2YWx1ZSkgPT0gd2Vha1NldFRhZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHZhbHVlYCBpcyBsZXNzIHRoYW4gYG90aGVyYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjkuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29tcGFyZS5cbiAgICAgKiBAcGFyYW0geyp9IG90aGVyIFRoZSBvdGhlciB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBgb3RoZXJgLFxuICAgICAqICBlbHNlIGBmYWxzZWAuXG4gICAgICogQHNlZSBfLmd0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHQoMSwgMyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAzKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5sdCgzLCAxKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBsdCA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oYmFzZUx0KTtcblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgdmFsdWVgIGlzIGxlc3MgdGhhbiBvciBlcXVhbCB0byBgb3RoZXJgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuOS4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb21wYXJlLlxuICAgICAqIEBwYXJhbSB7Kn0gb3RoZXIgVGhlIG90aGVyIHZhbHVlIHRvIGNvbXBhcmUuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGB2YWx1ZWAgaXMgbGVzcyB0aGFuIG9yIGVxdWFsIHRvXG4gICAgICogIGBvdGhlcmAsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8uZ3RlXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubHRlKDEsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDMpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8ubHRlKDMsIDEpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgdmFyIGx0ZSA9IGNyZWF0ZVJlbGF0aW9uYWxPcGVyYXRpb24oZnVuY3Rpb24odmFsdWUsIG90aGVyKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPD0gb3RoZXI7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGFycmF5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgY29udmVydGVkIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKlxuICAgICAqIF8udG9BcnJheSgnYWJjJyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICpcbiAgICAgKiBfLnRvQXJyYXkoMSk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKlxuICAgICAqIF8udG9BcnJheShudWxsKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvQXJyYXkodmFsdWUpIHtcbiAgICAgIGlmICghdmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgfVxuICAgICAgaWYgKGlzQXJyYXlMaWtlKHZhbHVlKSkge1xuICAgICAgICByZXR1cm4gaXNTdHJpbmcodmFsdWUpID8gc3RyaW5nVG9BcnJheSh2YWx1ZSkgOiBjb3B5QXJyYXkodmFsdWUpO1xuICAgICAgfVxuICAgICAgaWYgKHN5bUl0ZXJhdG9yICYmIHZhbHVlW3N5bUl0ZXJhdG9yXSkge1xuICAgICAgICByZXR1cm4gaXRlcmF0b3JUb0FycmF5KHZhbHVlW3N5bUl0ZXJhdG9yXSgpKTtcbiAgICAgIH1cbiAgICAgIHZhciB0YWcgPSBnZXRUYWcodmFsdWUpLFxuICAgICAgICAgIGZ1bmMgPSB0YWcgPT0gbWFwVGFnID8gbWFwVG9BcnJheSA6ICh0YWcgPT0gc2V0VGFnID8gc2V0VG9BcnJheSA6IHZhbHVlcyk7XG5cbiAgICAgIHJldHVybiBmdW5jKHZhbHVlKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgZmluaXRlIG51bWJlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEyLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZSgzLjIpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqXG4gICAgICogXy50b0Zpbml0ZShOdW1iZXIuTUlOX1ZBTFVFKTtcbiAgICAgKiAvLyA9PiA1ZS0zMjRcbiAgICAgKlxuICAgICAqIF8udG9GaW5pdGUoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvRmluaXRlKCczLjInKTtcbiAgICAgKiAvLyA9PiAzLjJcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b0Zpbml0ZSh2YWx1ZSkge1xuICAgICAgaWYgKCF2YWx1ZSkge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6IDA7XG4gICAgICB9XG4gICAgICB2YWx1ZSA9IHRvTnVtYmVyKHZhbHVlKTtcbiAgICAgIGlmICh2YWx1ZSA9PT0gSU5GSU5JVFkgfHwgdmFsdWUgPT09IC1JTkZJTklUWSkge1xuICAgICAgICB2YXIgc2lnbiA9ICh2YWx1ZSA8IDAgPyAtMSA6IDEpO1xuICAgICAgICByZXR1cm4gc2lnbiAqIE1BWF9JTlRFR0VSO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHZhbHVlID09PSB2YWx1ZSA/IHZhbHVlIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGFuIGludGVnZXIuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgaXMgbG9vc2VseSBiYXNlZCBvblxuICAgICAqIFtgVG9JbnRlZ2VyYF0oaHR0cDovL3d3dy5lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvaW50ZWdlcikuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9JbnRlZ2VyKDMuMik7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0ludGVnZXIoSW5maW5pdHkpO1xuICAgICAqIC8vID0+IDEuNzk3NjkzMTM0ODYyMzE1N2UrMzA4XG4gICAgICpcbiAgICAgKiBfLnRvSW50ZWdlcignMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvSW50ZWdlcih2YWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHRvRmluaXRlKHZhbHVlKSxcbiAgICAgICAgICByZW1haW5kZXIgPSByZXN1bHQgJSAxO1xuXG4gICAgICByZXR1cm4gcmVzdWx0ID09PSByZXN1bHQgPyAocmVtYWluZGVyID8gcmVzdWx0IC0gcmVtYWluZGVyIDogcmVzdWx0KSA6IDA7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhbiBpbnRlZ2VyIHN1aXRhYmxlIGZvciB1c2UgYXMgdGhlIGxlbmd0aCBvZiBhblxuICAgICAqIGFycmF5LWxpa2Ugb2JqZWN0LlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIGlzIGJhc2VkIG9uXG4gICAgICogW2BUb0xlbmd0aGBdKGh0dHA6Ly9lY21hLWludGVybmF0aW9uYWwub3JnL2VjbWEtMjYyLzcuMC8jc2VjLXRvbGVuZ3RoKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBMYW5nXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgaW50ZWdlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgzLjIpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKlxuICAgICAqIF8udG9MZW5ndGgoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b0xlbmd0aChJbmZpbml0eSk7XG4gICAgICogLy8gPT4gNDI5NDk2NzI5NVxuICAgICAqXG4gICAgICogXy50b0xlbmd0aCgnMy4yJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTGVuZ3RoKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWUgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgMCwgTUFYX0FSUkFZX0xFTkdUSCkgOiAwO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGB2YWx1ZWAgdG8gYSBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgTGFuZ1xuICAgICAqIEBwYXJhbSB7Kn0gdmFsdWUgVGhlIHZhbHVlIHRvIHByb2Nlc3MuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKDMuMik7XG4gICAgICogLy8gPT4gMy4yXG4gICAgICpcbiAgICAgKiBfLnRvTnVtYmVyKE51bWJlci5NSU5fVkFMVUUpO1xuICAgICAqIC8vID0+IDVlLTMyNFxuICAgICAqXG4gICAgICogXy50b051bWJlcihJbmZpbml0eSk7XG4gICAgICogLy8gPT4gSW5maW5pdHlcbiAgICAgKlxuICAgICAqIF8udG9OdW1iZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDMuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvTnVtYmVyKHZhbHVlKSB7XG4gICAgICBpZiAodHlwZW9mIHZhbHVlID09ICdudW1iZXInKSB7XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1N5bWJvbCh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIE5BTjtcbiAgICAgIH1cbiAgICAgIGlmIChpc09iamVjdCh2YWx1ZSkpIHtcbiAgICAgICAgdmFyIG90aGVyID0gdHlwZW9mIHZhbHVlLnZhbHVlT2YgPT0gJ2Z1bmN0aW9uJyA/IHZhbHVlLnZhbHVlT2YoKSA6IHZhbHVlO1xuICAgICAgICB2YWx1ZSA9IGlzT2JqZWN0KG90aGVyKSA/IChvdGhlciArICcnKSA6IG90aGVyO1xuICAgICAgfVxuICAgICAgaWYgKHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykge1xuICAgICAgICByZXR1cm4gdmFsdWUgPT09IDAgPyB2YWx1ZSA6ICt2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHZhbHVlID0gYmFzZVRyaW0odmFsdWUpO1xuICAgICAgdmFyIGlzQmluYXJ5ID0gcmVJc0JpbmFyeS50ZXN0KHZhbHVlKTtcbiAgICAgIHJldHVybiAoaXNCaW5hcnkgfHwgcmVJc09jdGFsLnRlc3QodmFsdWUpKVxuICAgICAgICA/IGZyZWVQYXJzZUludCh2YWx1ZS5zbGljZSgyKSwgaXNCaW5hcnkgPyAyIDogOClcbiAgICAgICAgOiAocmVJc0JhZEhleC50ZXN0KHZhbHVlKSA/IE5BTiA6ICt2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgYHZhbHVlYCB0byBhIHBsYWluIG9iamVjdCBmbGF0dGVuaW5nIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZ1xuICAgICAqIGtleWVkIHByb3BlcnRpZXMgb2YgYHZhbHVlYCB0byBvd24gcHJvcGVydGllcyBvZiB0aGUgcGxhaW4gb2JqZWN0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBwbGFpbiBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uYXNzaWduKHsgJ2EnOiAxIH0sIG5ldyBGb28pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqXG4gICAgICogXy5hc3NpZ24oeyAnYSc6IDEgfSwgXy50b1BsYWluT2JqZWN0KG5ldyBGb28pKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyLCAnYyc6IDMgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRvUGxhaW5PYmplY3QodmFsdWUpIHtcbiAgICAgIHJldHVybiBjb3B5T2JqZWN0KHZhbHVlLCBrZXlzSW4odmFsdWUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc2FmZSBpbnRlZ2VyLiBBIHNhZmUgaW50ZWdlciBjYW4gYmUgY29tcGFyZWQgYW5kXG4gICAgICogcmVwcmVzZW50ZWQgY29ycmVjdGx5LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBpbnRlZ2VyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoMy4yKTtcbiAgICAgKiAvLyA9PiAzXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoTnVtYmVyLk1JTl9WQUxVRSk7XG4gICAgICogLy8gPT4gMFxuICAgICAqXG4gICAgICogXy50b1NhZmVJbnRlZ2VyKEluZmluaXR5KTtcbiAgICAgKiAvLyA9PiA5MDA3MTk5MjU0NzQwOTkxXG4gICAgICpcbiAgICAgKiBfLnRvU2FmZUludGVnZXIoJzMuMicpO1xuICAgICAqIC8vID0+IDNcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0b1NhZmVJbnRlZ2VyKHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWVcbiAgICAgICAgPyBiYXNlQ2xhbXAodG9JbnRlZ2VyKHZhbHVlKSwgLU1BWF9TQUZFX0lOVEVHRVIsIE1BWF9TQUZFX0lOVEVHRVIpXG4gICAgICAgIDogKHZhbHVlID09PSAwID8gdmFsdWUgOiAwKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgc3RyaW5nLiBBbiBlbXB0eSBzdHJpbmcgaXMgcmV0dXJuZWQgZm9yIGBudWxsYFxuICAgICAqIGFuZCBgdW5kZWZpbmVkYCB2YWx1ZXMuIFRoZSBzaWduIG9mIGAtMGAgaXMgcHJlc2VydmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IExhbmdcbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGNvbnZlcnRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcobnVsbCk7XG4gICAgICogLy8gPT4gJydcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoLTApO1xuICAgICAqIC8vID0+ICctMCdcbiAgICAgKlxuICAgICAqIF8udG9TdHJpbmcoWzEsIDIsIDNdKTtcbiAgICAgKiAvLyA9PiAnMSwyLDMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9TdHJpbmcodmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PSBudWxsID8gJycgOiBiYXNlVG9TdHJpbmcodmFsdWUpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEFzc2lnbnMgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2Ygc291cmNlIG9iamVjdHMgdG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuXG4gICAgICogU3Vic2VxdWVudCBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAgYW5kIGlzIGxvb3NlbHkgYmFzZWQgb25cbiAgICAgKiBbYE9iamVjdC5hc3NpZ25gXShodHRwczovL21kbi5pby9PYmplY3QvYXNzaWduKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAwLjEwLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmFzc2lnbkluXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQmFyKCkge1xuICAgICAqICAgdGhpcy5jID0gMztcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmIgPSAyO1xuICAgICAqIEJhci5wcm90b3R5cGUuZCA9IDQ7XG4gICAgICpcbiAgICAgKiBfLmFzc2lnbih7ICdhJzogMCB9LCBuZXcgRm9vLCBuZXcgQmFyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UpIHtcbiAgICAgIGlmIChpc1Byb3RvdHlwZShzb3VyY2UpIHx8IGlzQXJyYXlMaWtlKHNvdXJjZSkpIHtcbiAgICAgICAgY29weU9iamVjdChzb3VyY2UsIGtleXMoc291cmNlKSwgb2JqZWN0KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgZm9yICh2YXIga2V5IGluIHNvdXJjZSkge1xuICAgICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChzb3VyY2UsIGtleSkpIHtcbiAgICAgICAgICBhc3NpZ25WYWx1ZShvYmplY3QsIGtleSwgc291cmNlW2tleV0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgaXRlcmF0ZXMgb3ZlciBvd24gYW5kXG4gICAgICogaW5oZXJpdGVkIHNvdXJjZSBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAYWxpYXMgZXh0ZW5kXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBCYXIoKSB7XG4gICAgICogICB0aGlzLmMgPSAzO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYiA9IDI7XG4gICAgICogQmFyLnByb3RvdHlwZS5kID0gNDtcbiAgICAgKlxuICAgICAqIF8uYXNzaWduSW4oeyAnYSc6IDAgfSwgbmV3IEZvbywgbmV3IEJhcik7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzLCAnZCc6IDQgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25JbiA9IGNyZWF0ZUFzc2lnbmVyKGZ1bmN0aW9uKG9iamVjdCwgc291cmNlKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbkluYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYFxuICAgICAqIHdoaWNoIGlzIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgYXNzaWduZWQgdmFsdWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJuc1xuICAgICAqIGB1bmRlZmluZWRgLCBhc3NpZ25tZW50IGlzIGhhbmRsZWQgYnkgdGhlIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgXG4gICAgICogaXMgaW52b2tlZCB3aXRoIGZpdmUgYXJndW1lbnRzOiAob2JqVmFsdWUsIHNyY1ZhbHVlLCBrZXksIG9iamVjdCwgc291cmNlKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGV4dGVuZFdpdGhcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBzb3VyY2VzIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uYXNzaWduV2l0aFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgcmV0dXJuIF8uaXNVbmRlZmluZWQob2JqVmFsdWUpID8gc3JjVmFsdWUgOiBvYmpWYWx1ZTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiB2YXIgZGVmYXVsdHMgPSBfLnBhcnRpYWxSaWdodChfLmFzc2lnbkluV2l0aCwgY3VzdG9taXplcik7XG4gICAgICpcbiAgICAgKiBkZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgYXNzaWduSW5XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5c0luKHNvdXJjZSksIG9iamVjdCwgY3VzdG9taXplcik7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmFzc2lnbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmBcbiAgICAgKiB3aGljaCBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIGFzc2lnbmVkIHZhbHVlcy4gSWYgYGN1c3RvbWl6ZXJgIHJldHVybnNcbiAgICAgKiBgdW5kZWZpbmVkYCwgYXNzaWdubWVudCBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBmaXZlIGFyZ3VtZW50czogKG9ialZhbHVlLCBzcmNWYWx1ZSwga2V5LCBvYmplY3QsIHNvdXJjZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHsuLi5PYmplY3R9IHNvdXJjZXMgVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtjdXN0b21pemVyXSBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5hc3NpZ25JbldpdGhcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gY3VzdG9taXplcihvYmpWYWx1ZSwgc3JjVmFsdWUpIHtcbiAgICAgKiAgIHJldHVybiBfLmlzVW5kZWZpbmVkKG9ialZhbHVlKSA/IHNyY1ZhbHVlIDogb2JqVmFsdWU7XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIGRlZmF1bHRzID0gXy5wYXJ0aWFsUmlnaHQoXy5hc3NpZ25XaXRoLCBjdXN0b21pemVyKTtcbiAgICAgKlxuICAgICAqIGRlZmF1bHRzKHsgJ2EnOiAxIH0sIHsgJ2InOiAyIH0sIHsgJ2EnOiAzIH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiAxLCAnYic6IDIgfVxuICAgICAqL1xuICAgIHZhciBhc3NpZ25XaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBjb3B5T2JqZWN0KHNvdXJjZSwga2V5cyhzb3VyY2UpLCBvYmplY3QsIGN1c3RvbWl6ZXIpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB2YWx1ZXMgY29ycmVzcG9uZGluZyB0byBgcGF0aHNgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDEuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHsuLi4oc3RyaW5nfHN0cmluZ1tdKX0gW3BhdGhzXSBUaGUgcHJvcGVydHkgcGF0aHMgdG8gcGljay5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHBpY2tlZCB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH0sIDRdIH07XG4gICAgICpcbiAgICAgKiBfLmF0KG9iamVjdCwgWydhWzBdLmIuYycsICdhWzFdJ10pO1xuICAgICAqIC8vID0+IFszLCA0XVxuICAgICAqL1xuICAgIHZhciBhdCA9IGZsYXRSZXN0KGJhc2VBdCk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCB0aGF0IGluaGVyaXRzIGZyb20gdGhlIGBwcm90b3R5cGVgIG9iamVjdC4gSWYgYVxuICAgICAqIGBwcm9wZXJ0aWVzYCBvYmplY3QgaXMgZ2l2ZW4sIGl0cyBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllc1xuICAgICAqIGFyZSBhc3NpZ25lZCB0byB0aGUgY3JlYXRlZCBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IHByb3RvdHlwZSBUaGUgb2JqZWN0IHRvIGluaGVyaXQgZnJvbS5cbiAgICAgKiBAcGFyYW0ge09iamVjdH0gW3Byb3BlcnRpZXNdIFRoZSBwcm9wZXJ0aWVzIHRvIGFzc2lnbiB0byB0aGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIFNoYXBlKCkge1xuICAgICAqICAgdGhpcy54ID0gMDtcbiAgICAgKiAgIHRoaXMueSA9IDA7XG4gICAgICogfVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gQ2lyY2xlKCkge1xuICAgICAqICAgU2hhcGUuY2FsbCh0aGlzKTtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBDaXJjbGUucHJvdG90eXBlID0gXy5jcmVhdGUoU2hhcGUucHJvdG90eXBlLCB7XG4gICAgICogICAnY29uc3RydWN0b3InOiBDaXJjbGVcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIHZhciBjaXJjbGUgPSBuZXcgQ2lyY2xlO1xuICAgICAqIGNpcmNsZSBpbnN0YW5jZW9mIENpcmNsZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjaXJjbGUgaW5zdGFuY2VvZiBTaGFwZTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY3JlYXRlKHByb3RvdHlwZSwgcHJvcGVydGllcykge1xuICAgICAgdmFyIHJlc3VsdCA9IGJhc2VDcmVhdGUocHJvdG90eXBlKTtcbiAgICAgIHJldHVybiBwcm9wZXJ0aWVzID09IG51bGwgPyByZXN1bHQgOiBiYXNlQXNzaWduKHJlc3VsdCwgcHJvcGVydGllcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQXNzaWducyBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZVxuICAgICAqIG9iamVjdHMgdG8gdGhlIGRlc3RpbmF0aW9uIG9iamVjdCBmb3IgYWxsIGRlc3RpbmF0aW9uIHByb3BlcnRpZXMgdGhhdFxuICAgICAqIHJlc29sdmUgdG8gYHVuZGVmaW5lZGAuIFNvdXJjZSBvYmplY3RzIGFyZSBhcHBsaWVkIGZyb20gbGVmdCB0byByaWdodC5cbiAgICAgKiBPbmNlIGEgcHJvcGVydHkgaXMgc2V0LCBhZGRpdGlvbmFsIHZhbHVlcyBvZiB0aGUgc2FtZSBwcm9wZXJ0eSBhcmUgaWdub3JlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c0RlZXBcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0cyh7ICdhJzogMSB9LCB7ICdiJzogMiB9LCB7ICdhJzogMyB9KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKi9cbiAgICB2YXIgZGVmYXVsdHMgPSBiYXNlUmVzdChmdW5jdGlvbihvYmplY3QsIHNvdXJjZXMpIHtcbiAgICAgIG9iamVjdCA9IE9iamVjdChvYmplY3QpO1xuXG4gICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgIHZhciBsZW5ndGggPSBzb3VyY2VzLmxlbmd0aDtcbiAgICAgIHZhciBndWFyZCA9IGxlbmd0aCA+IDIgPyBzb3VyY2VzWzJdIDogdW5kZWZpbmVkO1xuXG4gICAgICBpZiAoZ3VhcmQgJiYgaXNJdGVyYXRlZUNhbGwoc291cmNlc1swXSwgc291cmNlc1sxXSwgZ3VhcmQpKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICB9XG5cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciBzb3VyY2UgPSBzb3VyY2VzW2luZGV4XTtcbiAgICAgICAgdmFyIHByb3BzID0ga2V5c0luKHNvdXJjZSk7XG4gICAgICAgIHZhciBwcm9wc0luZGV4ID0gLTE7XG4gICAgICAgIHZhciBwcm9wc0xlbmd0aCA9IHByb3BzLmxlbmd0aDtcblxuICAgICAgICB3aGlsZSAoKytwcm9wc0luZGV4IDwgcHJvcHNMZW5ndGgpIHtcbiAgICAgICAgICB2YXIga2V5ID0gcHJvcHNbcHJvcHNJbmRleF07XG4gICAgICAgICAgdmFyIHZhbHVlID0gb2JqZWN0W2tleV07XG5cbiAgICAgICAgICBpZiAodmFsdWUgPT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAoZXEodmFsdWUsIG9iamVjdFByb3RvW2tleV0pICYmICFoYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkpIHtcbiAgICAgICAgICAgIG9iamVjdFtrZXldID0gc291cmNlW2tleV07XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmRlZmF1bHRzYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBhc3NpZ25zXG4gICAgICogZGVmYXVsdCBwcm9wZXJ0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gW3NvdXJjZXNdIFRoZSBzb3VyY2Ugb2JqZWN0cy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5kZWZhdWx0c1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRzRGVlcCh7ICdhJzogeyAnYic6IDIgfSB9LCB7ICdhJzogeyAnYic6IDEsICdjJzogMyB9IH0pO1xuICAgICAqIC8vID0+IHsgJ2EnOiB7ICdiJzogMiwgJ2MnOiAzIH0gfVxuICAgICAqL1xuICAgIHZhciBkZWZhdWx0c0RlZXAgPSBiYXNlUmVzdChmdW5jdGlvbihhcmdzKSB7XG4gICAgICBhcmdzLnB1c2godW5kZWZpbmVkLCBjdXN0b21EZWZhdWx0c01lcmdlKTtcbiAgICAgIHJldHVybiBhcHBseShtZXJnZVdpdGgsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZpbmRgIGV4Y2VwdCB0aGF0IGl0IHJldHVybnMgdGhlIGtleSBvZiB0aGUgZmlyc3RcbiAgICAgKiBlbGVtZW50IGBwcmVkaWNhdGVgIHJldHVybnMgdHJ1dGh5IGZvciBpbnN0ZWFkIG9mIHRoZSBlbGVtZW50IGl0c2VsZi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAxLjEuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZEtleSh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2UgPCA0MDsgfSk7XG4gICAgICogLy8gPT4gJ2Jhcm5leScgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kS2V5KHVzZXJzLCB7ICdhZ2UnOiAxLCAnYWN0aXZlJzogdHJ1ZSB9KTtcbiAgICAgKiAvLyA9PiAncGViYmxlcydcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbmRLZXkodXNlcnMsIFsnYWN0aXZlJywgZmFsc2VdKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmluZEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICovXG4gICAgZnVuY3Rpb24gZmluZEtleShvYmplY3QsIHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIGJhc2VGaW5kS2V5KG9iamVjdCwgZ2V0SXRlcmF0ZWUocHJlZGljYXRlLCAzKSwgYmFzZUZvck93bik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5maW5kS2V5YCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIGVsZW1lbnRzIG9mXG4gICAgICogYSBjb2xsZWN0aW9uIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge3N0cmluZ3x1bmRlZmluZWR9IFJldHVybnMgdGhlIGtleSBvZiB0aGUgbWF0Y2hlZCBlbGVtZW50LFxuICAgICAqICBlbHNlIGB1bmRlZmluZWRgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSB7XG4gICAgICogICAnYmFybmV5JzogIHsgJ2FnZSc6IDM2LCAnYWN0aXZlJzogdHJ1ZSB9LFxuICAgICAqICAgJ2ZyZWQnOiAgICB7ICdhZ2UnOiA0MCwgJ2FjdGl2ZSc6IGZhbHNlIH0sXG4gICAgICogICAncGViYmxlcyc6IHsgJ2FnZSc6IDEsICAnYWN0aXZlJzogdHJ1ZSB9XG4gICAgICogfTtcbiAgICAgKlxuICAgICAqIF8uZmluZExhc3RLZXkodXNlcnMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8uYWdlIDwgNDA7IH0pO1xuICAgICAqIC8vID0+IHJldHVybnMgJ3BlYmJsZXMnIGFzc3VtaW5nIGBfLmZpbmRLZXlgIHJldHVybnMgJ2Jhcm5leSdcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzYCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgeyAnYWdlJzogMzYsICdhY3RpdmUnOiB0cnVlIH0pO1xuICAgICAqIC8vID0+ICdiYXJuZXknXG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc1Byb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgWydhY3RpdmUnLCBmYWxzZV0pO1xuICAgICAqIC8vID0+ICdmcmVkJ1xuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5maW5kTGFzdEtleSh1c2VycywgJ2FjdGl2ZScpO1xuICAgICAqIC8vID0+ICdwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZpbmRMYXN0S2V5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gYmFzZUZpbmRLZXkob2JqZWN0LCBnZXRJdGVyYXRlZShwcmVkaWNhdGUsIDMpLCBiYXNlRm9yT3duUmlnaHQpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBhblxuICAgICAqIG9iamVjdCBhbmQgaW52b2tlcyBgaXRlcmF0ZWVgIGZvciBlYWNoIHByb3BlcnR5LiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAodmFsdWUsIGtleSwgb2JqZWN0KS4gSXRlcmF0ZWUgZnVuY3Rpb25zIG1heSBleGl0XG4gICAgICogaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblJpZ2h0XG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmZvckluKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScsICdiJywgdGhlbiAnYycgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9ySW4ob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvcihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSwga2V5c0luKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmZvckluYCBleGNlcHQgdGhhdCBpdCBpdGVyYXRlcyBvdmVyIHByb3BlcnRpZXMgb2ZcbiAgICAgKiBgb2JqZWN0YCBpbiB0aGUgb3Bwb3NpdGUgb3JkZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBzZWUgXy5mb3JJblxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JJblJpZ2h0KG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYycsICdiJywgdGhlbiAnYScgYXNzdW1pbmcgYF8uZm9ySW5gIGxvZ3MgJ2EnLCAnYicsIHRoZW4gJ2MnLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGZvckluUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsXG4gICAgICAgID8gb2JqZWN0XG4gICAgICAgIDogYmFzZUZvclJpZ2h0KG9iamVjdCwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDMpLCBrZXlzSW4pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEl0ZXJhdGVzIG92ZXIgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnRpZXMgb2YgYW4gb2JqZWN0IGFuZFxuICAgICAqIGludm9rZXMgYGl0ZXJhdGVlYCBmb3IgZWFjaCBwcm9wZXJ0eS4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCB0aHJlZVxuICAgICAqIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuIEl0ZXJhdGVlIGZ1bmN0aW9ucyBtYXkgZXhpdCBpdGVyYXRpb25cbiAgICAgKiBlYXJseSBieSBleHBsaWNpdGx5IHJldHVybmluZyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuMy4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAc2VlIF8uZm9yT3duUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8uZm9yT3duKG5ldyBGb28sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIGNvbnNvbGUubG9nKGtleSk7XG4gICAgICogfSk7XG4gICAgICogLy8gPT4gTG9ncyAnYScgdGhlbiAnYicgKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZCkuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duKG9iamVjdCwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgJiYgYmFzZUZvck93bihvYmplY3QsIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mb3JPd25gIGV4Y2VwdCB0aGF0IGl0IGl0ZXJhdGVzIG92ZXIgcHJvcGVydGllcyBvZlxuICAgICAqIGBvYmplY3RgIGluIHRoZSBvcHBvc2l0ZSBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgZnVuY3Rpb24gaW52b2tlZCBwZXIgaXRlcmF0aW9uLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQHNlZSBfLmZvck93blxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5mb3JPd25SaWdodChuZXcgRm9vLCBmdW5jdGlvbih2YWx1ZSwga2V5KSB7XG4gICAgICogICBjb25zb2xlLmxvZyhrZXkpO1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+IExvZ3MgJ2InIHRoZW4gJ2EnIGFzc3VtaW5nIGBfLmZvck93bmAgbG9ncyAnYScgdGhlbiAnYicuXG4gICAgICovXG4gICAgZnVuY3Rpb24gZm9yT3duUmlnaHQob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgcmV0dXJuIG9iamVjdCAmJiBiYXNlRm9yT3duUmlnaHQob2JqZWN0LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gZW51bWVyYWJsZSBwcm9wZXJ0aWVzXG4gICAgICogb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGluc3BlY3QuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBmdW5jdGlvbiBuYW1lcy5cbiAgICAgKiBAc2VlIF8uZnVuY3Rpb25zSW5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ11cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBmdW5jdGlvbnMob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2YgZnVuY3Rpb24gcHJvcGVydHkgbmFtZXMgZnJvbSBvd24gYW5kIGluaGVyaXRlZFxuICAgICAqIGVudW1lcmFibGUgcHJvcGVydGllcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gaW5zcGVjdC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGZ1bmN0aW9uIG5hbWVzLlxuICAgICAqIEBzZWUgXy5mdW5jdGlvbnNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gXy5jb25zdGFudCgnYScpO1xuICAgICAqICAgdGhpcy5iID0gXy5jb25zdGFudCgnYicpO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IF8uY29uc3RhbnQoJ2MnKTtcbiAgICAgKlxuICAgICAqIF8uZnVuY3Rpb25zSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gWydhJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gZnVuY3Rpb25zSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBbXSA6IGJhc2VGdW5jdGlvbnMob2JqZWN0LCBrZXlzSW4ob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiB0aGUgcmVzb2x2ZWQgdmFsdWUgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCwgdGhlIGBkZWZhdWx0VmFsdWVgIGlzIHJldHVybmVkIGluIGl0cyBwbGFjZS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIGdldC5cbiAgICAgKiBAcGFyYW0geyp9IFtkZWZhdWx0VmFsdWVdIFRoZSB2YWx1ZSByZXR1cm5lZCBmb3IgYHVuZGVmaW5lZGAgcmVzb2x2ZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHsqfSBSZXR1cm5zIHRoZSByZXNvbHZlZCB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiAzIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uZ2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCBbJ2EnLCAnMCcsICdiJywgJ2MnXSk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5nZXQob2JqZWN0LCAnYS5iLmMnLCAnZGVmYXVsdCcpO1xuICAgICAqIC8vID0+ICdkZWZhdWx0J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGdldChvYmplY3QsIHBhdGgsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogYmFzZUdldChvYmplY3QsIHBhdGgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdW5kZWZpbmVkID8gZGVmYXVsdFZhbHVlIDogcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgcGF0aGAgaXMgYSBkaXJlY3QgcHJvcGVydHkgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgcGF0aGAgZXhpc3RzLCBlbHNlIGBmYWxzZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogeyAnYic6IDIgfSB9O1xuICAgICAqIHZhciBvdGhlciA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzKG9iamVjdCwgJ2EnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsICdhLmInKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmhhcyhvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzKG90aGVyLCAnYScpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzKG9iamVjdCwgcGF0aCkge1xuICAgICAgcmV0dXJuIG9iamVjdCAhPSBudWxsICYmIGhhc1BhdGgob2JqZWN0LCBwYXRoLCBiYXNlSGFzKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgaWYgYHBhdGhgIGlzIGEgZGlyZWN0IG9yIGluaGVyaXRlZCBwcm9wZXJ0eSBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggdG8gY2hlY2suXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYHRydWVgIGlmIGBwYXRoYCBleGlzdHMsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IF8uY3JlYXRlKHsgJ2EnOiBfLmNyZWF0ZSh7ICdiJzogMiB9KSB9KTtcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYS5iJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5oYXNJbihvYmplY3QsIFsnYScsICdiJ10pO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaGFzSW4ob2JqZWN0LCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICovXG4gICAgZnVuY3Rpb24gaGFzSW4ob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ICE9IG51bGwgJiYgaGFzUGF0aChvYmplY3QsIHBhdGgsIGJhc2VIYXNJbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGludmVydGVkIGtleXMgYW5kIHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKiBJZiBgb2JqZWN0YCBjb250YWlucyBkdXBsaWNhdGUgdmFsdWVzLCBzdWJzZXF1ZW50IHZhbHVlcyBvdmVyd3JpdGVcbiAgICAgKiBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgaW52ZXJ0ZWQgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH07XG4gICAgICpcbiAgICAgKiBfLmludmVydChvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiAnYycsICcyJzogJ2InIH1cbiAgICAgKi9cbiAgICB2YXIgaW52ZXJ0ID0gY3JlYXRlSW52ZXJ0ZXIoZnVuY3Rpb24ocmVzdWx0LCB2YWx1ZSwga2V5KSB7XG4gICAgICBpZiAodmFsdWUgIT0gbnVsbCAmJlxuICAgICAgICAgIHR5cGVvZiB2YWx1ZS50b1N0cmluZyAhPSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHZhbHVlID0gbmF0aXZlT2JqZWN0VG9TdHJpbmcuY2FsbCh2YWx1ZSk7XG4gICAgICB9XG5cbiAgICAgIHJlc3VsdFt2YWx1ZV0gPSBrZXk7XG4gICAgfSwgY29uc3RhbnQoaWRlbnRpdHkpKTtcblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uaW52ZXJ0YCBleGNlcHQgdGhhdCB0aGUgaW52ZXJ0ZWQgb2JqZWN0IGlzIGdlbmVyYXRlZFxuICAgICAqIGZyb20gdGhlIHJlc3VsdHMgb2YgcnVubmluZyBlYWNoIGVsZW1lbnQgb2YgYG9iamVjdGAgdGhydSBgaXRlcmF0ZWVgLiBUaGVcbiAgICAgKiBjb3JyZXNwb25kaW5nIGludmVydGVkIHZhbHVlIG9mIGVhY2ggaW52ZXJ0ZWQga2V5IGlzIGFuIGFycmF5IG9mIGtleXNcbiAgICAgKiByZXNwb25zaWJsZSBmb3IgZ2VuZXJhdGluZyB0aGUgaW52ZXJ0ZWQgdmFsdWUuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkXG4gICAgICogd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGludmVydC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IGludmVydGVkIG9iamVjdC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxLCAnYic6IDIsICdjJzogMSB9O1xuICAgICAqXG4gICAgICogXy5pbnZlcnRCeShvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJzEnOiBbJ2EnLCAnYyddLCAnMic6IFsnYiddIH1cbiAgICAgKlxuICAgICAqIF8uaW52ZXJ0Qnkob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAqICAgcmV0dXJuICdncm91cCcgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdncm91cDEnOiBbJ2EnLCAnYyddLCAnZ3JvdXAyJzogWydiJ10gfVxuICAgICAqL1xuICAgIHZhciBpbnZlcnRCeSA9IGNyZWF0ZUludmVydGVyKGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAgaWYgKHZhbHVlICE9IG51bGwgJiZcbiAgICAgICAgICB0eXBlb2YgdmFsdWUudG9TdHJpbmcgIT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB2YWx1ZSA9IG5hdGl2ZU9iamVjdFRvU3RyaW5nLmNhbGwodmFsdWUpO1xuICAgICAgfVxuXG4gICAgICBpZiAoaGFzT3duUHJvcGVydHkuY2FsbChyZXN1bHQsIHZhbHVlKSkge1xuICAgICAgICByZXN1bHRbdmFsdWVdLnB1c2goa2V5KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFt2YWx1ZV0gPSBba2V5XTtcbiAgICAgIH1cbiAgICB9LCBnZXRJdGVyYXRlZSk7XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBtZXRob2QgYXQgYHBhdGhgIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgbWV0aG9kIHRvIGludm9rZS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc3VsdCBvZiB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogWzEsIDIsIDMsIDRdIH0gfV0gfTtcbiAgICAgKlxuICAgICAqIF8uaW52b2tlKG9iamVjdCwgJ2FbMF0uYi5jLnNsaWNlJywgMSwgMyk7XG4gICAgICogLy8gPT4gWzIsIDNdXG4gICAgICovXG4gICAgdmFyIGludm9rZSA9IGJhc2VSZXN0KGJhc2VJbnZva2UpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgcHJvcGVydHkgbmFtZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy4gU2VlIHRoZVxuICAgICAqIFtFUyBzcGVjXShodHRwOi8vZWNtYS1pbnRlcm5hdGlvbmFsLm9yZy9lY21hLTI2Mi83LjAvI3NlYy1vYmplY3Qua2V5cylcbiAgICAgKiBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IG5hbWVzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy5rZXlzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsnYScsICdiJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIF8ua2V5cygnaGknKTtcbiAgICAgKiAvLyA9PiBbJzAnLCAnMSddXG4gICAgICovXG4gICAgZnVuY3Rpb24ga2V5cyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBpc0FycmF5TGlrZShvYmplY3QpID8gYXJyYXlMaWtlS2V5cyhvYmplY3QpIDogYmFzZUtleXMob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGFycmF5IG9mIHRoZSBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHByb3BlcnR5IG5hbWVzIG9mIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vbi1vYmplY3QgdmFsdWVzIGFyZSBjb2VyY2VkIHRvIG9iamVjdHMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgYXJyYXkgb2YgcHJvcGVydHkgbmFtZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLmtleXNJbihuZXcgRm9vKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ10gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBrZXlzSW4ob2JqZWN0KSB7XG4gICAgICByZXR1cm4gaXNBcnJheUxpa2Uob2JqZWN0KSA/IGFycmF5TGlrZUtleXMob2JqZWN0LCB0cnVlKSA6IGJhc2VLZXlzSW4ob2JqZWN0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ubWFwVmFsdWVzYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3Qgd2l0aCB0aGVcbiAgICAgKiBzYW1lIHZhbHVlcyBhcyBgb2JqZWN0YCBhbmQga2V5cyBnZW5lcmF0ZWQgYnkgcnVubmluZyBlYWNoIG93biBlbnVtZXJhYmxlXG4gICAgICogc3RyaW5nIGtleWVkIHByb3BlcnR5IG9mIGBvYmplY3RgIHRocnUgYGl0ZXJhdGVlYC4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWRcbiAgICAgKiB3aXRoIHRocmVlIGFyZ3VtZW50czogKHZhbHVlLCBrZXksIG9iamVjdCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy44LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgbWFwcGVkIG9iamVjdC5cbiAgICAgKiBAc2VlIF8ubWFwVmFsdWVzXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWFwS2V5cyh7ICdhJzogMSwgJ2InOiAyIH0sIGZ1bmN0aW9uKHZhbHVlLCBrZXkpIHtcbiAgICAgKiAgIHJldHVybiBrZXkgKyB2YWx1ZTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiB7ICdhMSc6IDEsICdiMic6IDIgfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcEtleXMob2JqZWN0LCBpdGVyYXRlZSkge1xuICAgICAgdmFyIHJlc3VsdCA9IHt9O1xuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMyk7XG5cbiAgICAgIGJhc2VGb3JPd24ob2JqZWN0LCBmdW5jdGlvbih2YWx1ZSwga2V5LCBvYmplY3QpIHtcbiAgICAgICAgYmFzZUFzc2lnblZhbHVlKHJlc3VsdCwgaXRlcmF0ZWUodmFsdWUsIGtleSwgb2JqZWN0KSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gb2JqZWN0IHdpdGggdGhlIHNhbWUga2V5cyBhcyBgb2JqZWN0YCBhbmQgdmFsdWVzIGdlbmVyYXRlZFxuICAgICAqIGJ5IHJ1bm5pbmcgZWFjaCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHkgb2YgYG9iamVjdGAgdGhydVxuICAgICAqIGBpdGVyYXRlZWAuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggdGhyZWUgYXJndW1lbnRzOlxuICAgICAqICh2YWx1ZSwga2V5LCBvYmplY3QpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuNC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyB0aGUgbmV3IG1hcHBlZCBvYmplY3QuXG4gICAgICogQHNlZSBfLm1hcEtleXNcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHVzZXJzID0ge1xuICAgICAqICAgJ2ZyZWQnOiAgICB7ICd1c2VyJzogJ2ZyZWQnLCAgICAnYWdlJzogNDAgfSxcbiAgICAgKiAgICdwZWJibGVzJzogeyAndXNlcic6ICdwZWJibGVzJywgJ2FnZSc6IDEgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1hcFZhbHVlcyh1c2VycywgZnVuY3Rpb24obykgeyByZXR1cm4gby5hZ2U7IH0pO1xuICAgICAqIC8vID0+IHsgJ2ZyZWQnOiA0MCwgJ3BlYmJsZXMnOiAxIH0gKGl0ZXJhdGlvbiBvcmRlciBpcyBub3QgZ3VhcmFudGVlZClcbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5wcm9wZXJ0eWAgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8ubWFwVmFsdWVzKHVzZXJzLCAnYWdlJyk7XG4gICAgICogLy8gPT4geyAnZnJlZCc6IDQwLCAncGViYmxlcyc6IDEgfSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1hcFZhbHVlcyhvYmplY3QsIGl0ZXJhdGVlKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpdGVyYXRlZSA9IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKTtcblxuICAgICAgYmFzZUZvck93bihvYmplY3QsIGZ1bmN0aW9uKHZhbHVlLCBrZXksIG9iamVjdCkge1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUocmVzdWx0LCBrZXksIGl0ZXJhdGVlKHZhbHVlLCBrZXksIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8uYXNzaWduYCBleGNlcHQgdGhhdCBpdCByZWN1cnNpdmVseSBtZXJnZXMgb3duIGFuZFxuICAgICAqIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZCBwcm9wZXJ0aWVzIG9mIHNvdXJjZSBvYmplY3RzIGludG8gdGhlXG4gICAgICogZGVzdGluYXRpb24gb2JqZWN0LiBTb3VyY2UgcHJvcGVydGllcyB0aGF0IHJlc29sdmUgdG8gYHVuZGVmaW5lZGAgYXJlXG4gICAgICogc2tpcHBlZCBpZiBhIGRlc3RpbmF0aW9uIHZhbHVlIGV4aXN0cy4gQXJyYXkgYW5kIHBsYWluIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgICogYXJlIG1lcmdlZCByZWN1cnNpdmVseS4gT3RoZXIgb2JqZWN0cyBhbmQgdmFsdWUgdHlwZXMgYXJlIG92ZXJyaWRkZW4gYnlcbiAgICAgKiBhc3NpZ25tZW50LiBTb3VyY2Ugb2JqZWN0cyBhcmUgYXBwbGllZCBmcm9tIGxlZnQgdG8gcmlnaHQuIFN1YnNlcXVlbnRcbiAgICAgKiBzb3VyY2VzIG92ZXJ3cml0ZSBwcm9wZXJ0eSBhc3NpZ25tZW50cyBvZiBwcmV2aW91cyBzb3VyY2VzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoaXMgbWV0aG9kIG11dGF0ZXMgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC41LjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgZGVzdGluYXRpb24gb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7Li4uT2JqZWN0fSBbc291cmNlc10gVGhlIHNvdXJjZSBvYmplY3RzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7XG4gICAgICogICAnYSc6IFt7ICdiJzogMiB9LCB7ICdkJzogNCB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiB2YXIgb3RoZXIgPSB7XG4gICAgICogICAnYSc6IFt7ICdjJzogMyB9LCB7ICdlJzogNSB9XVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLm1lcmdlKG9iamVjdCwgb3RoZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IDIsICdjJzogMyB9LCB7ICdkJzogNCwgJ2UnOiA1IH1dIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2UgPSBjcmVhdGVBc3NpZ25lcihmdW5jdGlvbihvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpIHtcbiAgICAgIGJhc2VNZXJnZShvYmplY3QsIHNvdXJjZSwgc3JjSW5kZXgpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZXJnZWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgY3VzdG9taXplcmAgd2hpY2hcbiAgICAgKiBpcyBpbnZva2VkIHRvIHByb2R1Y2UgdGhlIG1lcmdlZCB2YWx1ZXMgb2YgdGhlIGRlc3RpbmF0aW9uIGFuZCBzb3VyY2VcbiAgICAgKiBwcm9wZXJ0aWVzLiBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYCwgbWVyZ2luZyBpcyBoYW5kbGVkIGJ5IHRoZVxuICAgICAqIG1ldGhvZCBpbnN0ZWFkLiBUaGUgYGN1c3RvbWl6ZXJgIGlzIGludm9rZWQgd2l0aCBzaXggYXJndW1lbnRzOlxuICAgICAqIChvYmpWYWx1ZSwgc3JjVmFsdWUsIGtleSwgb2JqZWN0LCBzb3VyY2UsIHN0YWNrKS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIGRlc3RpbmF0aW9uIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLk9iamVjdH0gc291cmNlcyBUaGUgc291cmNlIG9iamVjdHMuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gY3VzdG9taXplciBUaGUgZnVuY3Rpb24gdG8gY3VzdG9taXplIGFzc2lnbmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBjdXN0b21pemVyKG9ialZhbHVlLCBzcmNWYWx1ZSkge1xuICAgICAqICAgaWYgKF8uaXNBcnJheShvYmpWYWx1ZSkpIHtcbiAgICAgKiAgICAgcmV0dXJuIG9ialZhbHVlLmNvbmNhdChzcmNWYWx1ZSk7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbMV0sICdiJzogWzJdIH07XG4gICAgICogdmFyIG90aGVyID0geyAnYSc6IFszXSwgJ2InOiBbNF0gfTtcbiAgICAgKlxuICAgICAqIF8ubWVyZ2VXaXRoKG9iamVjdCwgb3RoZXIsIGN1c3RvbWl6ZXIpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbMSwgM10sICdiJzogWzIsIDRdIH1cbiAgICAgKi9cbiAgICB2YXIgbWVyZ2VXaXRoID0gY3JlYXRlQXNzaWduZXIoZnVuY3Rpb24ob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKSB7XG4gICAgICBiYXNlTWVyZ2Uob2JqZWN0LCBzb3VyY2UsIHNyY0luZGV4LCBjdXN0b21pemVyKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5waWNrYDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlXG4gICAgICogb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBwcm9wZXJ0eSBwYXRocyBvZiBgb2JqZWN0YCB0aGF0IGFyZSBub3Qgb21pdHRlZC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBjb25zaWRlcmFibHkgc2xvd2VyIHRoYW4gYF8ucGlja2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBvbWl0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5vbWl0KG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgdmFyIG9taXQgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICBpZiAob2JqZWN0ID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgIH1cbiAgICAgIHZhciBpc0RlZXAgPSBmYWxzZTtcbiAgICAgIHBhdGhzID0gYXJyYXlNYXAocGF0aHMsIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcGF0aCA9IGNhc3RQYXRoKHBhdGgsIG9iamVjdCk7XG4gICAgICAgIGlzRGVlcCB8fCAoaXNEZWVwID0gcGF0aC5sZW5ndGggPiAxKTtcbiAgICAgICAgcmV0dXJuIHBhdGg7XG4gICAgICB9KTtcbiAgICAgIGNvcHlPYmplY3Qob2JqZWN0LCBnZXRBbGxLZXlzSW4ob2JqZWN0KSwgcmVzdWx0KTtcbiAgICAgIGlmIChpc0RlZXApIHtcbiAgICAgICAgcmVzdWx0ID0gYmFzZUNsb25lKHJlc3VsdCwgQ0xPTkVfREVFUF9GTEFHIHwgQ0xPTkVfRkxBVF9GTEFHIHwgQ0xPTkVfU1lNQk9MU19GTEFHLCBjdXN0b21PbWl0Q2xvbmUpO1xuICAgICAgfVxuICAgICAgdmFyIGxlbmd0aCA9IHBhdGhzLmxlbmd0aDtcbiAgICAgIHdoaWxlIChsZW5ndGgtLSkge1xuICAgICAgICBiYXNlVW5zZXQocmVzdWx0LCBwYXRoc1tsZW5ndGhdKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucGlja0J5YDsgdGhpcyBtZXRob2QgY3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2ZcbiAgICAgKiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyBvZiBgb2JqZWN0YCB0aGF0XG4gICAgICogYHByZWRpY2F0ZWAgZG9lc24ndCByZXR1cm4gdHJ1dGh5IGZvci4gVGhlIHByZWRpY2F0ZSBpcyBpbnZva2VkIHdpdGggdHdvXG4gICAgICogYXJndW1lbnRzOiAodmFsdWUsIGtleSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbcHJlZGljYXRlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBwcm9wZXJ0eS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IDEsICdiJzogJzInLCAnYyc6IDMgfTtcbiAgICAgKlxuICAgICAqIF8ub21pdEJ5KG9iamVjdCwgXy5pc051bWJlcik7XG4gICAgICogLy8gPT4geyAnYic6ICcyJyB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gb21pdEJ5KG9iamVjdCwgcHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gcGlja0J5KG9iamVjdCwgbmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIG9iamVjdCBjb21wb3NlZCBvZiB0aGUgcGlja2VkIGBvYmplY3RgIHByb3BlcnRpZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgc291cmNlIG9iamVjdC5cbiAgICAgKiBAcGFyYW0gey4uLihzdHJpbmd8c3RyaW5nW10pfSBbcGF0aHNdIFRoZSBwcm9wZXJ0eSBwYXRocyB0byBwaWNrLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrKG9iamVjdCwgWydhJywgJ2MnXSk7XG4gICAgICogLy8gPT4geyAnYSc6IDEsICdjJzogMyB9XG4gICAgICovXG4gICAgdmFyIHBpY2sgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIHBhdGhzKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB7fSA6IGJhc2VQaWNrKG9iamVjdCwgcGF0aHMpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBvYmplY3QgY29tcG9zZWQgb2YgdGhlIGBvYmplY3RgIHByb3BlcnRpZXMgYHByZWRpY2F0ZWAgcmV0dXJuc1xuICAgICAqIHRydXRoeSBmb3IuIFRoZSBwcmVkaWNhdGUgaXMgaW52b2tlZCB3aXRoIHR3byBhcmd1bWVudHM6ICh2YWx1ZSwga2V5KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBzb3VyY2Ugb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtwcmVkaWNhdGU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIHByb3BlcnR5LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgdGhlIG5ldyBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogMSwgJ2InOiAnMicsICdjJzogMyB9O1xuICAgICAqXG4gICAgICogXy5waWNrQnkob2JqZWN0LCBfLmlzTnVtYmVyKTtcbiAgICAgKiAvLyA9PiB7ICdhJzogMSwgJ2MnOiAzIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwaWNrQnkob2JqZWN0LCBwcmVkaWNhdGUpIHtcbiAgICAgIGlmIChvYmplY3QgPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4ge307XG4gICAgICB9XG4gICAgICB2YXIgcHJvcHMgPSBhcnJheU1hcChnZXRBbGxLZXlzSW4ob2JqZWN0KSwgZnVuY3Rpb24ocHJvcCkge1xuICAgICAgICByZXR1cm4gW3Byb3BdO1xuICAgICAgfSk7XG4gICAgICBwcmVkaWNhdGUgPSBnZXRJdGVyYXRlZShwcmVkaWNhdGUpO1xuICAgICAgcmV0dXJuIGJhc2VQaWNrQnkob2JqZWN0LCBwcm9wcywgZnVuY3Rpb24odmFsdWUsIHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIHByZWRpY2F0ZSh2YWx1ZSwgcGF0aFswXSk7XG4gICAgICB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLmdldGAgZXhjZXB0IHRoYXQgaWYgdGhlIHJlc29sdmVkIHZhbHVlIGlzIGFcbiAgICAgKiBmdW5jdGlvbiBpdCdzIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgb2YgaXRzIHBhcmVudCBvYmplY3QgYW5kXG4gICAgICogaXRzIHJlc3VsdCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHJlc29sdmUuXG4gICAgICogQHBhcmFtIHsqfSBbZGVmYXVsdFZhbHVlXSBUaGUgdmFsdWUgcmV0dXJuZWQgZm9yIGB1bmRlZmluZWRgIHJlc29sdmVkIHZhbHVlcy5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgcmVzb2x2ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjMSc6IDMsICdjMic6IF8uY29uc3RhbnQoNCkgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMxJyk7XG4gICAgICogLy8gPT4gM1xuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMyJyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5yZXN1bHQob2JqZWN0LCAnYVswXS5iLmMzJywgJ2RlZmF1bHQnKTtcbiAgICAgKiAvLyA9PiAnZGVmYXVsdCdcbiAgICAgKlxuICAgICAqIF8ucmVzdWx0KG9iamVjdCwgJ2FbMF0uYi5jMycsIF8uY29uc3RhbnQoJ2RlZmF1bHQnKSk7XG4gICAgICogLy8gPT4gJ2RlZmF1bHQnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVzdWx0KG9iamVjdCwgcGF0aCwgZGVmYXVsdFZhbHVlKSB7XG4gICAgICBwYXRoID0gY2FzdFBhdGgocGF0aCwgb2JqZWN0KTtcblxuICAgICAgdmFyIGluZGV4ID0gLTEsXG4gICAgICAgICAgbGVuZ3RoID0gcGF0aC5sZW5ndGg7XG5cbiAgICAgIC8vIEVuc3VyZSB0aGUgbG9vcCBpcyBlbnRlcmVkIHdoZW4gcGF0aCBpcyBlbXB0eS5cbiAgICAgIGlmICghbGVuZ3RoKSB7XG4gICAgICAgIGxlbmd0aCA9IDE7XG4gICAgICAgIG9iamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgIH1cbiAgICAgIHdoaWxlICgrK2luZGV4IDwgbGVuZ3RoKSB7XG4gICAgICAgIHZhciB2YWx1ZSA9IG9iamVjdCA9PSBudWxsID8gdW5kZWZpbmVkIDogb2JqZWN0W3RvS2V5KHBhdGhbaW5kZXhdKV07XG4gICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgaW5kZXggPSBsZW5ndGg7XG4gICAgICAgICAgdmFsdWUgPSBkZWZhdWx0VmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgb2JqZWN0ID0gaXNGdW5jdGlvbih2YWx1ZSkgPyB2YWx1ZS5jYWxsKG9iamVjdCkgOiB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2V0cyB0aGUgdmFsdWUgYXQgYHBhdGhgIG9mIGBvYmplY3RgLiBJZiBhIHBvcnRpb24gb2YgYHBhdGhgIGRvZXNuJ3QgZXhpc3QsXG4gICAgICogaXQncyBjcmVhdGVkLiBBcnJheXMgYXJlIGNyZWF0ZWQgZm9yIG1pc3NpbmcgaW5kZXggcHJvcGVydGllcyB3aGlsZSBvYmplY3RzXG4gICAgICogYXJlIGNyZWF0ZWQgZm9yIGFsbCBvdGhlciBtaXNzaW5nIHByb3BlcnRpZXMuIFVzZSBgXy5zZXRXaXRoYCB0byBjdXN0b21pemVcbiAgICAgKiBgcGF0aGAgY3JlYXRpb24uXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gc2V0LlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7ICdhJzogW3sgJ2InOiB7ICdjJzogMyB9IH1dIH07XG4gICAgICpcbiAgICAgKiBfLnNldChvYmplY3QsICdhWzBdLmIuYycsIDQpO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC5hWzBdLmIuYyk7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5zZXQob2JqZWN0LCBbJ3gnLCAnMCcsICd5JywgJ3onXSwgNSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LnhbMF0ueS56KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0KG9iamVjdCwgcGF0aCwgdmFsdWUpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VTZXQob2JqZWN0LCBwYXRoLCB2YWx1ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGl0IGFjY2VwdHMgYGN1c3RvbWl6ZXJgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCB0byBwcm9kdWNlIHRoZSBvYmplY3RzIG9mIGBwYXRoYC4gIElmIGBjdXN0b21pemVyYCByZXR1cm5zIGB1bmRlZmluZWRgXG4gICAgICogcGF0aCBjcmVhdGlvbiBpcyBoYW5kbGVkIGJ5IHRoZSBtZXRob2QgaW5zdGVhZC4gVGhlIGBjdXN0b21pemVyYCBpcyBpbnZva2VkXG4gICAgICogd2l0aCB0aHJlZSBhcmd1bWVudHM6IChuc1ZhbHVlLCBrZXksIG5zT2JqZWN0KS5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBtdXRhdGVzIGBvYmplY3RgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBtb2RpZnkuXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIHByb3BlcnR5IHRvIHNldC5cbiAgICAgKiBAcGFyYW0geyp9IHZhbHVlIFRoZSB2YWx1ZSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2N1c3RvbWl6ZXJdIFRoZSBmdW5jdGlvbiB0byBjdXN0b21pemUgYXNzaWduZWQgdmFsdWVzLlxuICAgICAqIEByZXR1cm5zIHtPYmplY3R9IFJldHVybnMgYG9iamVjdGAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3QgPSB7fTtcbiAgICAgKlxuICAgICAqIF8uc2V0V2l0aChvYmplY3QsICdbMF1bMV0nLCAnYScsIE9iamVjdCk7XG4gICAgICogLy8gPT4geyAnMCc6IHsgJzEnOiAnYScgfSB9XG4gICAgICovXG4gICAgZnVuY3Rpb24gc2V0V2l0aChvYmplY3QsIHBhdGgsIHZhbHVlLCBjdXN0b21pemVyKSB7XG4gICAgICBjdXN0b21pemVyID0gdHlwZW9mIGN1c3RvbWl6ZXIgPT0gJ2Z1bmN0aW9uJyA/IGN1c3RvbWl6ZXIgOiB1bmRlZmluZWQ7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyBvYmplY3QgOiBiYXNlU2V0KG9iamVjdCwgcGF0aCwgdmFsdWUsIGN1c3RvbWl6ZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gYXJyYXkgb2Ygb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkLXZhbHVlIHBhaXJzIGZvciBgb2JqZWN0YFxuICAgICAqIHdoaWNoIGNhbiBiZSBjb25zdW1lZCBieSBgXy5mcm9tUGFpcnNgLiBJZiBgb2JqZWN0YCBpcyBhIG1hcCBvciBzZXQsIGl0c1xuICAgICAqIGVudHJpZXMgYXJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGFsaWFzIGVudHJpZXNcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFtbJ2EnLCAxXSwgWydiJywgMl1dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnMgPSBjcmVhdGVUb1BhaXJzKGtleXMpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBvd24gYW5kIGluaGVyaXRlZCBlbnVtZXJhYmxlIHN0cmluZyBrZXllZC12YWx1ZSBwYWlyc1xuICAgICAqIGZvciBgb2JqZWN0YCB3aGljaCBjYW4gYmUgY29uc3VtZWQgYnkgYF8uZnJvbVBhaXJzYC4gSWYgYG9iamVjdGAgaXMgYSBtYXBcbiAgICAgKiBvciBzZXQsIGl0cyBlbnRyaWVzIGFyZSByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBhbGlhcyBlbnRyaWVzSW5cbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUga2V5LXZhbHVlIHBhaXJzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBGb28oKSB7XG4gICAgICogICB0aGlzLmEgPSAxO1xuICAgICAqICAgdGhpcy5iID0gMjtcbiAgICAgKiB9XG4gICAgICpcbiAgICAgKiBGb28ucHJvdG90eXBlLmMgPSAzO1xuICAgICAqXG4gICAgICogXy50b1BhaXJzSW4obmV3IEZvbyk7XG4gICAgICogLy8gPT4gW1snYScsIDFdLCBbJ2InLCAyXSwgWydjJywgM11dIChpdGVyYXRpb24gb3JkZXIgaXMgbm90IGd1YXJhbnRlZWQpXG4gICAgICovXG4gICAgdmFyIHRvUGFpcnNJbiA9IGNyZWF0ZVRvUGFpcnMoa2V5c0luKTtcblxuICAgIC8qKlxuICAgICAqIEFuIGFsdGVybmF0aXZlIHRvIGBfLnJlZHVjZWA7IHRoaXMgbWV0aG9kIHRyYW5zZm9ybXMgYG9iamVjdGAgdG8gYSBuZXdcbiAgICAgKiBgYWNjdW11bGF0b3JgIG9iamVjdCB3aGljaCBpcyB0aGUgcmVzdWx0IG9mIHJ1bm5pbmcgZWFjaCBvZiBpdHMgb3duXG4gICAgICogZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydGllcyB0aHJ1IGBpdGVyYXRlZWAsIHdpdGggZWFjaCBpbnZvY2F0aW9uXG4gICAgICogcG90ZW50aWFsbHkgbXV0YXRpbmcgdGhlIGBhY2N1bXVsYXRvcmAgb2JqZWN0LiBJZiBgYWNjdW11bGF0b3JgIGlzIG5vdFxuICAgICAqIHByb3ZpZGVkLCBhIG5ldyBvYmplY3Qgd2l0aCB0aGUgc2FtZSBgW1tQcm90b3R5cGVdXWAgd2lsbCBiZSB1c2VkLiBUaGVcbiAgICAgKiBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggZm91ciBhcmd1bWVudHM6IChhY2N1bXVsYXRvciwgdmFsdWUsIGtleSwgb2JqZWN0KS5cbiAgICAgKiBJdGVyYXRlZSBmdW5jdGlvbnMgbWF5IGV4aXQgaXRlcmF0aW9uIGVhcmx5IGJ5IGV4cGxpY2l0bHkgcmV0dXJuaW5nIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgT2JqZWN0XG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGZ1bmN0aW9uIGludm9rZWQgcGVyIGl0ZXJhdGlvbi5cbiAgICAgKiBAcGFyYW0geyp9IFthY2N1bXVsYXRvcl0gVGhlIGN1c3RvbSBhY2N1bXVsYXRvciB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYWNjdW11bGF0ZWQgdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJhbnNmb3JtKFsyLCAzLCA0XSwgZnVuY3Rpb24ocmVzdWx0LCBuKSB7XG4gICAgICogICByZXN1bHQucHVzaChuICo9IG4pO1xuICAgICAqICAgcmV0dXJuIG4gJSAyID09IDA7XG4gICAgICogfSwgW10pO1xuICAgICAqIC8vID0+IFs0LCA5XVxuICAgICAqXG4gICAgICogXy50cmFuc2Zvcm0oeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAxIH0sIGZ1bmN0aW9uKHJlc3VsdCwgdmFsdWUsIGtleSkge1xuICAgICAqICAgKHJlc3VsdFt2YWx1ZV0gfHwgKHJlc3VsdFt2YWx1ZV0gPSBbXSkpLnB1c2goa2V5KTtcbiAgICAgKiB9LCB7fSk7XG4gICAgICogLy8gPT4geyAnMSc6IFsnYScsICdjJ10sICcyJzogWydiJ10gfVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyYW5zZm9ybShvYmplY3QsIGl0ZXJhdGVlLCBhY2N1bXVsYXRvcikge1xuICAgICAgdmFyIGlzQXJyID0gaXNBcnJheShvYmplY3QpLFxuICAgICAgICAgIGlzQXJyTGlrZSA9IGlzQXJyIHx8IGlzQnVmZmVyKG9iamVjdCkgfHwgaXNUeXBlZEFycmF5KG9iamVjdCk7XG5cbiAgICAgIGl0ZXJhdGVlID0gZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDQpO1xuICAgICAgaWYgKGFjY3VtdWxhdG9yID09IG51bGwpIHtcbiAgICAgICAgdmFyIEN0b3IgPSBvYmplY3QgJiYgb2JqZWN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoaXNBcnJMaWtlKSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSBpc0FyciA/IG5ldyBDdG9yIDogW107XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaXNPYmplY3Qob2JqZWN0KSkge1xuICAgICAgICAgIGFjY3VtdWxhdG9yID0gaXNGdW5jdGlvbihDdG9yKSA/IGJhc2VDcmVhdGUoZ2V0UHJvdG90eXBlKG9iamVjdCkpIDoge307XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgYWNjdW11bGF0b3IgPSB7fTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgKGlzQXJyTGlrZSA/IGFycmF5RWFjaCA6IGJhc2VGb3JPd24pKG9iamVjdCwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBvYmplY3QpIHtcbiAgICAgICAgcmV0dXJuIGl0ZXJhdGVlKGFjY3VtdWxhdG9yLCB2YWx1ZSwgaW5kZXgsIG9iamVjdCk7XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBhY2N1bXVsYXRvcjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBwcm9wZXJ0eSBhdCBgcGF0aGAgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byB1bnNldC5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgdGhlIHByb3BlcnR5IGlzIGRlbGV0ZWQsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiBbeyAnYic6IHsgJ2MnOiA3IH0gfV0gfTtcbiAgICAgKiBfLnVuc2V0KG9iamVjdCwgJ2FbMF0uYi5jJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICdhJzogW3sgJ2InOiB7fSB9XSB9O1xuICAgICAqXG4gICAgICogXy51bnNldChvYmplY3QsIFsnYScsICcwJywgJ2InLCAnYyddKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3QpO1xuICAgICAqIC8vID0+IHsgJ2EnOiBbeyAnYic6IHt9IH1dIH07XG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5zZXQob2JqZWN0LCBwYXRoKSB7XG4gICAgICByZXR1cm4gb2JqZWN0ID09IG51bGwgPyB0cnVlIDogYmFzZVVuc2V0KG9iamVjdCwgcGF0aCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5zZXRgIGV4Y2VwdCB0aGF0IGFjY2VwdHMgYHVwZGF0ZXJgIHRvIHByb2R1Y2UgdGhlXG4gICAgICogdmFsdWUgdG8gc2V0LiBVc2UgYF8udXBkYXRlV2l0aGAgdG8gY3VzdG9taXplIGBwYXRoYCBjcmVhdGlvbi4gVGhlIGB1cGRhdGVyYFxuICAgICAqIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIGBvYmplY3RgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0ID0geyAnYSc6IFt7ICdiJzogeyAnYyc6IDMgfSB9XSB9O1xuICAgICAqXG4gICAgICogXy51cGRhdGUob2JqZWN0LCAnYVswXS5iLmMnLCBmdW5jdGlvbihuKSB7IHJldHVybiBuICogbjsgfSk7XG4gICAgICogY29uc29sZS5sb2cob2JqZWN0LmFbMF0uYi5jKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICpcbiAgICAgKiBfLnVwZGF0ZShvYmplY3QsICd4WzBdLnkueicsIGZ1bmN0aW9uKG4pIHsgcmV0dXJuIG4gPyBuICsgMSA6IDA7IH0pO1xuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdC54WzBdLnkueik7XG4gICAgICogLy8gPT4gMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVwZGF0ZShvYmplY3QsIHBhdGgsIHVwZGF0ZXIpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IG9iamVjdCA6IGJhc2VVcGRhdGUob2JqZWN0LCBwYXRoLCBjYXN0RnVuY3Rpb24odXBkYXRlcikpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRoaXMgbWV0aG9kIGlzIGxpa2UgYF8udXBkYXRlYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBjdXN0b21pemVyYCB3aGljaCBpc1xuICAgICAqIGludm9rZWQgdG8gcHJvZHVjZSB0aGUgb2JqZWN0cyBvZiBgcGF0aGAuICBJZiBgY3VzdG9taXplcmAgcmV0dXJucyBgdW5kZWZpbmVkYFxuICAgICAqIHBhdGggY3JlYXRpb24gaXMgaGFuZGxlZCBieSB0aGUgbWV0aG9kIGluc3RlYWQuIFRoZSBgY3VzdG9taXplcmAgaXMgaW52b2tlZFxuICAgICAqIHdpdGggdGhyZWUgYXJndW1lbnRzOiAobnNWYWx1ZSwga2V5LCBuc09iamVjdCkuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgbXV0YXRlcyBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjYuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBzZXQuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gdXBkYXRlciBUaGUgZnVuY3Rpb24gdG8gcHJvZHVjZSB0aGUgdXBkYXRlZCB2YWx1ZS5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbY3VzdG9taXplcl0gVGhlIGZ1bmN0aW9uIHRvIGN1c3RvbWl6ZSBhc3NpZ25lZCB2YWx1ZXMuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHt9O1xuICAgICAqXG4gICAgICogXy51cGRhdGVXaXRoKG9iamVjdCwgJ1swXVsxXScsIF8uY29uc3RhbnQoJ2EnKSwgT2JqZWN0KTtcbiAgICAgKiAvLyA9PiB7ICcwJzogeyAnMSc6ICdhJyB9IH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB1cGRhdGVXaXRoKG9iamVjdCwgcGF0aCwgdXBkYXRlciwgY3VzdG9taXplcikge1xuICAgICAgY3VzdG9taXplciA9IHR5cGVvZiBjdXN0b21pemVyID09ICdmdW5jdGlvbicgPyBjdXN0b21pemVyIDogdW5kZWZpbmVkO1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gb2JqZWN0IDogYmFzZVVwZGF0ZShvYmplY3QsIHBhdGgsIGNhc3RGdW5jdGlvbih1cGRhdGVyKSwgY3VzdG9taXplcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGVudW1lcmFibGUgc3RyaW5nIGtleWVkIHByb3BlcnR5IHZhbHVlcyBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBOb24tb2JqZWN0IHZhbHVlcyBhcmUgY29lcmNlZCB0byBvYmplY3RzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IE9iamVjdFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIGFycmF5IG9mIHByb3BlcnR5IHZhbHVlcy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gRm9vKCkge1xuICAgICAqICAgdGhpcy5hID0gMTtcbiAgICAgKiAgIHRoaXMuYiA9IDI7XG4gICAgICogfVxuICAgICAqXG4gICAgICogRm9vLnByb3RvdHlwZS5jID0gMztcbiAgICAgKlxuICAgICAqIF8udmFsdWVzKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqXG4gICAgICogXy52YWx1ZXMoJ2hpJyk7XG4gICAgICogLy8gPT4gWydoJywgJ2knXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlcyhvYmplY3QpIHtcbiAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IFtdIDogYmFzZVZhbHVlcyhvYmplY3QsIGtleXMob2JqZWN0KSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiB0aGUgb3duIGFuZCBpbmhlcml0ZWQgZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgcHJvcGVydHlcbiAgICAgKiB2YWx1ZXMgb2YgYG9iamVjdGAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm9uLW9iamVjdCB2YWx1ZXMgYXJlIGNvZXJjZWQgdG8gb2JqZWN0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBPYmplY3RcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gcXVlcnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiBwcm9wZXJ0eSB2YWx1ZXMuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIGZ1bmN0aW9uIEZvbygpIHtcbiAgICAgKiAgIHRoaXMuYSA9IDE7XG4gICAgICogICB0aGlzLmIgPSAyO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIEZvby5wcm90b3R5cGUuYyA9IDM7XG4gICAgICpcbiAgICAgKiBfLnZhbHVlc0luKG5ldyBGb28pO1xuICAgICAqIC8vID0+IFsxLCAyLCAzXSAoaXRlcmF0aW9uIG9yZGVyIGlzIG5vdCBndWFyYW50ZWVkKVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHZhbHVlc0luKG9iamVjdCkge1xuICAgICAgcmV0dXJuIG9iamVjdCA9PSBudWxsID8gW10gOiBiYXNlVmFsdWVzKG9iamVjdCwga2V5c0luKG9iamVjdCkpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENsYW1wcyBgbnVtYmVyYCB3aXRoaW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBOdW1iZXJcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gY2xhbXAuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsb3dlcl0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSB1cHBlciBUaGUgdXBwZXIgYm91bmQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY2xhbXBlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoLTEwLCAtNSwgNSk7XG4gICAgICogLy8gPT4gLTVcbiAgICAgKlxuICAgICAqIF8uY2xhbXAoMTAsIC01LCA1KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gY2xhbXAobnVtYmVyLCBsb3dlciwgdXBwZXIpIHtcbiAgICAgIGlmICh1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKHVwcGVyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdXBwZXIgPSB0b051bWJlcih1cHBlcik7XG4gICAgICAgIHVwcGVyID0gdXBwZXIgPT09IHVwcGVyID8gdXBwZXIgOiAwO1xuICAgICAgfVxuICAgICAgaWYgKGxvd2VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgbG93ZXIgPSB0b051bWJlcihsb3dlcik7XG4gICAgICAgIGxvd2VyID0gbG93ZXIgPT09IGxvd2VyID8gbG93ZXIgOiAwO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VDbGFtcCh0b051bWJlcihudW1iZXIpLCBsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENoZWNrcyBpZiBgbmAgaXMgYmV0d2VlbiBgc3RhcnRgIGFuZCB1cCB0bywgYnV0IG5vdCBpbmNsdWRpbmcsIGBlbmRgLiBJZlxuICAgICAqIGBlbmRgIGlzIG5vdCBzcGVjaWZpZWQsIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKiBJZiBgc3RhcnRgIGlzIGdyZWF0ZXIgdGhhbiBgZW5kYCB0aGUgcGFyYW1zIGFyZSBzd2FwcGVkIHRvIHN1cHBvcnRcbiAgICAgKiBuZWdhdGl2ZSByYW5nZXMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4zLjBcbiAgICAgKiBAY2F0ZWdvcnkgTnVtYmVyXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIGNoZWNrLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnQ9MF0gVGhlIHN0YXJ0IG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gZW5kIFRoZSBlbmQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgbnVtYmVyYCBpcyBpbiB0aGUgcmFuZ2UsIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAc2VlIF8ucmFuZ2UsIF8ucmFuZ2VSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMywgMiwgNCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDQsIDgpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uaW5SYW5nZSg0LCAyKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKDIsIDIpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoMS4yLCAyKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmluUmFuZ2UoNS4yLCA0KTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5pblJhbmdlKC0zLCAtMiwgLTYpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBpblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0Zpbml0ZShzdGFydCk7XG4gICAgICBpZiAoZW5kID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgZW5kID0gc3RhcnQ7XG4gICAgICAgIHN0YXJ0ID0gMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGVuZCA9IHRvRmluaXRlKGVuZCk7XG4gICAgICB9XG4gICAgICBudW1iZXIgPSB0b051bWJlcihudW1iZXIpO1xuICAgICAgcmV0dXJuIGJhc2VJblJhbmdlKG51bWJlciwgc3RhcnQsIGVuZCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvZHVjZXMgYSByYW5kb20gbnVtYmVyIGJldHdlZW4gdGhlIGluY2x1c2l2ZSBgbG93ZXJgIGFuZCBgdXBwZXJgIGJvdW5kcy5cbiAgICAgKiBJZiBvbmx5IG9uZSBhcmd1bWVudCBpcyBwcm92aWRlZCBhIG51bWJlciBiZXR3ZWVuIGAwYCBhbmQgdGhlIGdpdmVuIG51bWJlclxuICAgICAqIGlzIHJldHVybmVkLiBJZiBgZmxvYXRpbmdgIGlzIGB0cnVlYCwgb3IgZWl0aGVyIGBsb3dlcmAgb3IgYHVwcGVyYCBhcmVcbiAgICAgKiBmbG9hdHMsIGEgZmxvYXRpbmctcG9pbnQgbnVtYmVyIGlzIHJldHVybmVkIGluc3RlYWQgb2YgYW4gaW50ZWdlci5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDAuNy4wXG4gICAgICogQGNhdGVnb3J5IE51bWJlclxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbG93ZXI9MF0gVGhlIGxvd2VyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbdXBwZXI9MV0gVGhlIHVwcGVyIGJvdW5kLlxuICAgICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2Zsb2F0aW5nXSBTcGVjaWZ5IHJldHVybmluZyBhIGZsb2F0aW5nLXBvaW50IG51bWJlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSByYW5kb20gbnVtYmVyLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgwLCA1KTtcbiAgICAgKiAvLyA9PiBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSk7XG4gICAgICogLy8gPT4gYWxzbyBhbiBpbnRlZ2VyIGJldHdlZW4gMCBhbmQgNVxuICAgICAqXG4gICAgICogXy5yYW5kb20oNSwgdHJ1ZSk7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAwIGFuZCA1XG4gICAgICpcbiAgICAgKiBfLnJhbmRvbSgxLjIsIDUuMik7XG4gICAgICogLy8gPT4gYSBmbG9hdGluZy1wb2ludCBudW1iZXIgYmV0d2VlbiAxLjIgYW5kIDUuMlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJhbmRvbShsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSB7XG4gICAgICBpZiAoZmxvYXRpbmcgJiYgdHlwZW9mIGZsb2F0aW5nICE9ICdib29sZWFuJyAmJiBpc0l0ZXJhdGVlQ2FsbChsb3dlciwgdXBwZXIsIGZsb2F0aW5nKSkge1xuICAgICAgICB1cHBlciA9IGZsb2F0aW5nID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgaWYgKGZsb2F0aW5nID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB1cHBlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IHVwcGVyO1xuICAgICAgICAgIHVwcGVyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBsb3dlciA9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgICBmbG9hdGluZyA9IGxvd2VyO1xuICAgICAgICAgIGxvd2VyID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPT09IHVuZGVmaW5lZCAmJiB1cHBlciA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGxvd2VyID0gMDtcbiAgICAgICAgdXBwZXIgPSAxO1xuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIGxvd2VyID0gdG9GaW5pdGUobG93ZXIpO1xuICAgICAgICBpZiAodXBwZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHVwcGVyID0gbG93ZXI7XG4gICAgICAgICAgbG93ZXIgPSAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHVwcGVyID0gdG9GaW5pdGUodXBwZXIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAobG93ZXIgPiB1cHBlcikge1xuICAgICAgICB2YXIgdGVtcCA9IGxvd2VyO1xuICAgICAgICBsb3dlciA9IHVwcGVyO1xuICAgICAgICB1cHBlciA9IHRlbXA7XG4gICAgICB9XG4gICAgICBpZiAoZmxvYXRpbmcgfHwgbG93ZXIgJSAxIHx8IHVwcGVyICUgMSkge1xuICAgICAgICB2YXIgcmFuZCA9IG5hdGl2ZVJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gbmF0aXZlTWluKGxvd2VyICsgKHJhbmQgKiAodXBwZXIgLSBsb3dlciArIGZyZWVQYXJzZUZsb2F0KCcxZS0nICsgKChyYW5kICsgJycpLmxlbmd0aCAtIDEpKSkpLCB1cHBlcik7XG4gICAgICB9XG4gICAgICByZXR1cm4gYmFzZVJhbmRvbShsb3dlciwgdXBwZXIpO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvIFtjYW1lbCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9DYW1lbENhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgY2FtZWwgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29CYXInXG4gICAgICpcbiAgICAgKiBfLmNhbWVsQ2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vQmFyJ1xuICAgICAqXG4gICAgICogXy5jYW1lbENhc2UoJ19fRk9PX0JBUl9fJyk7XG4gICAgICogLy8gPT4gJ2Zvb0JhcidcbiAgICAgKi9cbiAgICB2YXIgY2FtZWxDYXNlID0gY3JlYXRlQ29tcG91bmRlcihmdW5jdGlvbihyZXN1bHQsIHdvcmQsIGluZGV4KSB7XG4gICAgICB3b3JkID0gd29yZC50b0xvd2VyQ2FzZSgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/IGNhcGl0YWxpemUod29yZCkgOiB3b3JkKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIHRoZSBmaXJzdCBjaGFyYWN0ZXIgb2YgYHN0cmluZ2AgdG8gdXBwZXIgY2FzZSBhbmQgdGhlIHJlbWFpbmluZ1xuICAgICAqIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY2FwaXRhbGl6ZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjYXBpdGFsaXplZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2FwaXRhbGl6ZSgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGcmVkJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGNhcGl0YWxpemUoc3RyaW5nKSB7XG4gICAgICByZXR1cm4gdXBwZXJGaXJzdCh0b1N0cmluZyhzdHJpbmcpLnRvTG93ZXJDYXNlKCkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlYnVycnMgYHN0cmluZ2AgYnkgY29udmVydGluZ1xuICAgICAqIFtMYXRpbi0xIFN1cHBsZW1lbnRdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xhdGluLTFfU3VwcGxlbWVudF8oVW5pY29kZV9ibG9jaykjQ2hhcmFjdGVyX3RhYmxlKVxuICAgICAqIGFuZCBbTGF0aW4gRXh0ZW5kZWQtQV0oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvTGF0aW5fRXh0ZW5kZWQtQSlcbiAgICAgKiBsZXR0ZXJzIHRvIGJhc2ljIExhdGluIGxldHRlcnMgYW5kIHJlbW92aW5nXG4gICAgICogW2NvbWJpbmluZyBkaWFjcml0aWNhbCBtYXJrc10oaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvQ29tYmluaW5nX0RpYWNyaXRpY2FsX01hcmtzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBkZWJ1cnIuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgZGVidXJyZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlYnVycignZMOpasOgIHZ1Jyk7XG4gICAgICogLy8gPT4gJ2RlamEgdnUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gZGVidXJyKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiBzdHJpbmcgJiYgc3RyaW5nLnJlcGxhY2UocmVMYXRpbiwgZGVidXJyTGV0dGVyKS5yZXBsYWNlKHJlQ29tYm9NYXJrLCAnJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIGVuZHMgd2l0aCB0aGUgZ2l2ZW4gdGFyZ2V0IHN0cmluZy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBpbnNwZWN0LlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbdGFyZ2V0XSBUaGUgc3RyaW5nIHRvIHNlYXJjaCBmb3IuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtwb3NpdGlvbj1zdHJpbmcubGVuZ3RoXSBUaGUgcG9zaXRpb24gdG8gc2VhcmNoIHVwIHRvLlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSBSZXR1cm5zIGB0cnVlYCBpZiBgc3RyaW5nYCBlbmRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lbmRzV2l0aCgnYWJjJywgJ2MnKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicpO1xuICAgICAqIC8vID0+IGZhbHNlXG4gICAgICpcbiAgICAgKiBfLmVuZHNXaXRoKCdhYmMnLCAnYicsIDIpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlbmRzV2l0aChzdHJpbmcsIHRhcmdldCwgcG9zaXRpb24pIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICB0YXJnZXQgPSBiYXNlVG9TdHJpbmcodGFyZ2V0KTtcblxuICAgICAgdmFyIGxlbmd0aCA9IHN0cmluZy5sZW5ndGg7XG4gICAgICBwb3NpdGlvbiA9IHBvc2l0aW9uID09PSB1bmRlZmluZWRcbiAgICAgICAgPyBsZW5ndGhcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgbGVuZ3RoKTtcblxuICAgICAgdmFyIGVuZCA9IHBvc2l0aW9uO1xuICAgICAgcG9zaXRpb24gLT0gdGFyZ2V0Lmxlbmd0aDtcbiAgICAgIHJldHVybiBwb3NpdGlvbiA+PSAwICYmIHN0cmluZy5zbGljZShwb3NpdGlvbiwgZW5kKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGNoYXJhY3RlcnMgXCImXCIsIFwiPFwiLCBcIj5cIiwgJ1wiJywgYW5kIFwiJ1wiIGluIGBzdHJpbmdgIHRvIHRoZWlyXG4gICAgICogY29ycmVzcG9uZGluZyBIVE1MIGVudGl0aWVzLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE5vIG90aGVyIGNoYXJhY3RlcnMgYXJlIGVzY2FwZWQuIFRvIGVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogY2hhcmFjdGVycyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBUaG91Z2ggdGhlIFwiPlwiIGNoYXJhY3RlciBpcyBlc2NhcGVkIGZvciBzeW1tZXRyeSwgY2hhcmFjdGVycyBsaWtlXG4gICAgICogXCI+XCIgYW5kIFwiL1wiIGRvbid0IG5lZWQgZXNjYXBpbmcgaW4gSFRNTCBhbmQgaGF2ZSBubyBzcGVjaWFsIG1lYW5pbmdcbiAgICAgKiB1bmxlc3MgdGhleSdyZSBwYXJ0IG9mIGEgdGFnIG9yIHVucXVvdGVkIGF0dHJpYnV0ZSB2YWx1ZS4gU2VlXG4gICAgICogW01hdGhpYXMgQnluZW5zJ3MgYXJ0aWNsZV0oaHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2FtYmlndW91cy1hbXBlcnNhbmRzKVxuICAgICAqICh1bmRlciBcInNlbWktcmVsYXRlZCBmdW4gZmFjdFwiKSBmb3IgbW9yZSBkZXRhaWxzLlxuICAgICAqXG4gICAgICogV2hlbiB3b3JraW5nIHdpdGggSFRNTCB5b3Ugc2hvdWxkIGFsd2F5c1xuICAgICAqIFtxdW90ZSBhdHRyaWJ1dGUgdmFsdWVzXShodHRwOi8vd29ua28uY29tL3Bvc3QvaHRtbC1lc2NhcGluZykgdG8gcmVkdWNlXG4gICAgICogWFNTIHZlY3RvcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gZXNjYXBlLlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGVzY2FwZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmIHBlYmJsZXMnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIGVzY2FwZShzdHJpbmcpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICByZXR1cm4gKHN0cmluZyAmJiByZUhhc1VuZXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlVW5lc2NhcGVkSHRtbCwgZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVzY2FwZXMgdGhlIGBSZWdFeHBgIHNwZWNpYWwgY2hhcmFjdGVycyBcIl5cIiwgXCIkXCIsIFwiXFxcIiwgXCIuXCIsIFwiKlwiLCBcIitcIixcbiAgICAgKiBcIj9cIiwgXCIoXCIsIFwiKVwiLCBcIltcIiwgXCJdXCIsIFwie1wiLCBcIn1cIiwgYW5kIFwifFwiIGluIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGVzY2FwZS5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5lc2NhcGVSZWdFeHAoJ1tsb2Rhc2hdKGh0dHBzOi8vbG9kYXNoLmNvbS8pJyk7XG4gICAgICogLy8gPT4gJ1xcW2xvZGFzaFxcXVxcKGh0dHBzOi8vbG9kYXNoXFwuY29tL1xcKSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBlc2NhcGVSZWdFeHAoc3RyaW5nKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgcmV0dXJuIChzdHJpbmcgJiYgcmVIYXNSZWdFeHBDaGFyLnRlc3Qoc3RyaW5nKSlcbiAgICAgICAgPyBzdHJpbmcucmVwbGFjZShyZVJlZ0V4cENoYXIsICdcXFxcJCYnKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtrZWJhYiBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTcGVjaWFsX2Nhc2Vfc3R5bGVzKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGtlYmFiIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5rZWJhYkNhc2UoJ0ZvbyBCYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vLWJhcidcbiAgICAgKlxuICAgICAqIF8ua2ViYWJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28tYmFyJ1xuICAgICAqL1xuICAgIHZhciBrZWJhYkNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnLScgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCwgYXMgc3BhY2Ugc2VwYXJhdGVkIHdvcmRzLCB0byBsb3dlciBjYXNlLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbG93ZXIgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyQ2FzZSgnLS1Gb28tQmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnZm9vIGJhcidcbiAgICAgKlxuICAgICAqIF8ubG93ZXJDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdmb28gYmFyJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvTG93ZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIGxvd2VyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmxvd2VyRmlyc3QoJ0ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnZnJlZCdcbiAgICAgKlxuICAgICAqIF8ubG93ZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdmUkVEJ1xuICAgICAqL1xuICAgIHZhciBsb3dlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b0xvd2VyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogUGFkcyBgc3RyaW5nYCBvbiB0aGUgbGVmdCBhbmQgcmlnaHQgc2lkZXMgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuXG4gICAgICogUGFkZGluZyBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBjYW4ndCBiZSBldmVubHkgZGl2aWRlZCBieSBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZCgnYWJjJywgOCk7XG4gICAgICogLy8gPT4gJyAgYWJjICAgJ1xuICAgICAqXG4gICAgICogXy5wYWQoJ2FiYycsIDgsICdfLScpO1xuICAgICAqIC8vID0+ICdfLWFiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICBpZiAoIWxlbmd0aCB8fCBzdHJMZW5ndGggPj0gbGVuZ3RoKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgbWlkID0gKGxlbmd0aCAtIHN0ckxlbmd0aCkgLyAyO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgY3JlYXRlUGFkZGluZyhuYXRpdmVGbG9vcihtaWQpLCBjaGFycykgK1xuICAgICAgICBzdHJpbmcgK1xuICAgICAgICBjcmVhdGVQYWRkaW5nKG5hdGl2ZUNlaWwobWlkKSwgY2hhcnMpXG4gICAgICApO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIHJpZ2h0IHNpZGUgaWYgaXQncyBzaG9ydGVyIHRoYW4gYGxlbmd0aGAuIFBhZGRpbmdcbiAgICAgKiBjaGFyYWN0ZXJzIGFyZSB0cnVuY2F0ZWQgaWYgdGhleSBleGNlZWQgYGxlbmd0aGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gcGFkLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbbGVuZ3RoPTBdIFRoZSBwYWRkaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPScgJ10gVGhlIHN0cmluZyB1c2VkIGFzIHBhZGRpbmcuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgcGFkZGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5wYWRFbmQoJ2FiYycsIDYpO1xuICAgICAqIC8vID0+ICdhYmMgICAnXG4gICAgICpcbiAgICAgKiBfLnBhZEVuZCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiY18tXydcbiAgICAgKlxuICAgICAqIF8ucGFkRW5kKCdhYmMnLCAzKTtcbiAgICAgKiAvLyA9PiAnYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHBhZEVuZChzdHJpbmcsIGxlbmd0aCwgY2hhcnMpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBsZW5ndGggPSB0b0ludGVnZXIobGVuZ3RoKTtcblxuICAgICAgdmFyIHN0ckxlbmd0aCA9IGxlbmd0aCA/IHN0cmluZ1NpemUoc3RyaW5nKSA6IDA7XG4gICAgICByZXR1cm4gKGxlbmd0aCAmJiBzdHJMZW5ndGggPCBsZW5ndGgpXG4gICAgICAgID8gKHN0cmluZyArIGNyZWF0ZVBhZGRpbmcobGVuZ3RoIC0gc3RyTGVuZ3RoLCBjaGFycykpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhZHMgYHN0cmluZ2Agb24gdGhlIGxlZnQgc2lkZSBpZiBpdCdzIHNob3J0ZXIgdGhhbiBgbGVuZ3RoYC4gUGFkZGluZ1xuICAgICAqIGNoYXJhY3RlcnMgYXJlIHRydW5jYXRlZCBpZiB0aGV5IGV4Y2VlZCBgbGVuZ3RoYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBwYWQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsZW5ndGg9MF0gVGhlIHBhZGRpbmcgbGVuZ3RoLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbY2hhcnM9JyAnXSBUaGUgc3RyaW5nIHVzZWQgYXMgcGFkZGluZy5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBwYWRkZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnBhZFN0YXJ0KCdhYmMnLCA2KTtcbiAgICAgKiAvLyA9PiAnICAgYWJjJ1xuICAgICAqXG4gICAgICogXy5wYWRTdGFydCgnYWJjJywgNiwgJ18tJyk7XG4gICAgICogLy8gPT4gJ18tX2FiYydcbiAgICAgKlxuICAgICAqIF8ucGFkU3RhcnQoJ2FiYycsIDMpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcGFkU3RhcnQoc3RyaW5nLCBsZW5ndGgsIGNoYXJzKSB7XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgbGVuZ3RoID0gdG9JbnRlZ2VyKGxlbmd0aCk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBsZW5ndGggPyBzdHJpbmdTaXplKHN0cmluZykgOiAwO1xuICAgICAgcmV0dXJuIChsZW5ndGggJiYgc3RyTGVuZ3RoIDwgbGVuZ3RoKVxuICAgICAgICA/IChjcmVhdGVQYWRkaW5nKGxlbmd0aCAtIHN0ckxlbmd0aCwgY2hhcnMpICsgc3RyaW5nKVxuICAgICAgICA6IHN0cmluZztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0byBhbiBpbnRlZ2VyIG9mIHRoZSBzcGVjaWZpZWQgcmFkaXguIElmIGByYWRpeGAgaXNcbiAgICAgKiBgdW5kZWZpbmVkYCBvciBgMGAsIGEgYHJhZGl4YCBvZiBgMTBgIGlzIHVzZWQgdW5sZXNzIGB2YWx1ZWAgaXMgYVxuICAgICAqIGhleGFkZWNpbWFsLCBpbiB3aGljaCBjYXNlIGEgYHJhZGl4YCBvZiBgMTZgIGlzIHVzZWQuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgYWxpZ25zIHdpdGggdGhlXG4gICAgICogW0VTNSBpbXBsZW1lbnRhdGlvbl0oaHR0cHM6Ly9lczUuZ2l0aHViLmlvLyN4MTUuMS4yLjIpIG9mIGBwYXJzZUludGAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMS4xLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHN0cmluZyBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtyYWRpeD0xMF0gVGhlIHJhZGl4IHRvIGludGVycHJldCBgdmFsdWVgIGJ5LlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgY29udmVydGVkIGludGVnZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucGFyc2VJbnQoJzA4Jyk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXAoWyc2JywgJzA4JywgJzEwJ10sIF8ucGFyc2VJbnQpO1xuICAgICAqIC8vID0+IFs2LCA4LCAxMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwYXJzZUludChzdHJpbmcsIHJhZGl4LCBndWFyZCkge1xuICAgICAgaWYgKGd1YXJkIHx8IHJhZGl4ID09IG51bGwpIHtcbiAgICAgICAgcmFkaXggPSAwO1xuICAgICAgfSBlbHNlIGlmIChyYWRpeCkge1xuICAgICAgICByYWRpeCA9ICtyYWRpeDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBuYXRpdmVQYXJzZUludCh0b1N0cmluZyhzdHJpbmcpLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKSwgcmFkaXggfHwgMCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwZWF0cyB0aGUgZ2l2ZW4gc3RyaW5nIGBuYCB0aW1lcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byByZXBlYXQuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTFdIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gcmVwZWF0IHRoZSBzdHJpbmcuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSByZXBlYXRlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCcqJywgMyk7XG4gICAgICogLy8gPT4gJyoqKidcbiAgICAgKlxuICAgICAqIF8ucmVwZWF0KCdhYmMnLCAyKTtcbiAgICAgKiAvLyA9PiAnYWJjYWJjJ1xuICAgICAqXG4gICAgICogXy5yZXBlYXQoJ2FiYycsIDApO1xuICAgICAqIC8vID0+ICcnXG4gICAgICovXG4gICAgZnVuY3Rpb24gcmVwZWF0KHN0cmluZywgbiwgZ3VhcmQpIHtcbiAgICAgIGlmICgoZ3VhcmQgPyBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIG4sIGd1YXJkKSA6IG4gPT09IHVuZGVmaW5lZCkpIHtcbiAgICAgICAgbiA9IDE7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBuID0gdG9JbnRlZ2VyKG4pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJhc2VSZXBlYXQodG9TdHJpbmcoc3RyaW5nKSwgbik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVwbGFjZXMgbWF0Y2hlcyBmb3IgYHBhdHRlcm5gIGluIGBzdHJpbmdgIHdpdGggYHJlcGxhY2VtZW50YC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3JlcGxhY2VgXShodHRwczovL21kbi5pby9TdHJpbmcvcmVwbGFjZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gbW9kaWZ5LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gcGF0dGVybiBUaGUgcGF0dGVybiB0byByZXBsYWNlLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb258c3RyaW5nfSByZXBsYWNlbWVudCBUaGUgbWF0Y2ggcmVwbGFjZW1lbnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgbW9kaWZpZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJlcGxhY2UoJ0hpIEZyZWQnLCAnRnJlZCcsICdCYXJuZXknKTtcbiAgICAgKiAvLyA9PiAnSGkgQmFybmV5J1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHJlcGxhY2UoKSB7XG4gICAgICB2YXIgYXJncyA9IGFyZ3VtZW50cyxcbiAgICAgICAgICBzdHJpbmcgPSB0b1N0cmluZyhhcmdzWzBdKTtcblxuICAgICAgcmV0dXJuIGFyZ3MubGVuZ3RoIDwgMyA/IHN0cmluZyA6IHN0cmluZy5yZXBsYWNlKGFyZ3NbMV0sIGFyZ3NbMl0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgIHRvXG4gICAgICogW3NuYWtlIGNhc2VdKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL1NuYWtlX2Nhc2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc25ha2UgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNuYWtlQ2FzZSgnRm9vIEJhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJ2Zvb0JhcicpO1xuICAgICAqIC8vID0+ICdmb29fYmFyJ1xuICAgICAqXG4gICAgICogXy5zbmFrZUNhc2UoJy0tRk9PLUJBUi0tJyk7XG4gICAgICogLy8gPT4gJ2Zvb19iYXInXG4gICAgICovXG4gICAgdmFyIHNuYWtlQ2FzZSA9IGNyZWF0ZUNvbXBvdW5kZXIoZnVuY3Rpb24ocmVzdWx0LCB3b3JkLCBpbmRleCkge1xuICAgICAgcmV0dXJuIHJlc3VsdCArIChpbmRleCA/ICdfJyA6ICcnKSArIHdvcmQudG9Mb3dlckNhc2UoKTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFNwbGl0cyBgc3RyaW5nYCBieSBgc2VwYXJhdG9yYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBUaGlzIG1ldGhvZCBpcyBiYXNlZCBvblxuICAgICAqIFtgU3RyaW5nI3NwbGl0YF0oaHR0cHM6Ly9tZG4uaW8vU3RyaW5nL3NwbGl0KS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBzcGxpdC5cbiAgICAgKiBAcGFyYW0ge1JlZ0V4cHxzdHJpbmd9IHNlcGFyYXRvciBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gc3BsaXQgYnkuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtsaW1pdF0gVGhlIGxlbmd0aCB0byB0cnVuY2F0ZSByZXN1bHRzIHRvLlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgc3RyaW5nIHNlZ21lbnRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnNwbGl0KCdhLWItYycsICctJywgMik7XG4gICAgICogLy8gPT4gWydhJywgJ2InXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHNwbGl0KHN0cmluZywgc2VwYXJhdG9yLCBsaW1pdCkge1xuICAgICAgaWYgKGxpbWl0ICYmIHR5cGVvZiBsaW1pdCAhPSAnbnVtYmVyJyAmJiBpc0l0ZXJhdGVlQ2FsbChzdHJpbmcsIHNlcGFyYXRvciwgbGltaXQpKSB7XG4gICAgICAgIHNlcGFyYXRvciA9IGxpbWl0ID0gdW5kZWZpbmVkO1xuICAgICAgfVxuICAgICAgbGltaXQgPSBsaW1pdCA9PT0gdW5kZWZpbmVkID8gTUFYX0FSUkFZX0xFTkdUSCA6IGxpbWl0ID4+PiAwO1xuICAgICAgaWYgKCFsaW1pdCkge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgaWYgKHN0cmluZyAmJiAoXG4gICAgICAgICAgICB0eXBlb2Ygc2VwYXJhdG9yID09ICdzdHJpbmcnIHx8XG4gICAgICAgICAgICAoc2VwYXJhdG9yICE9IG51bGwgJiYgIWlzUmVnRXhwKHNlcGFyYXRvcikpXG4gICAgICAgICAgKSkge1xuICAgICAgICBzZXBhcmF0b3IgPSBiYXNlVG9TdHJpbmcoc2VwYXJhdG9yKTtcbiAgICAgICAgaWYgKCFzZXBhcmF0b3IgJiYgaGFzVW5pY29kZShzdHJpbmcpKSB7XG4gICAgICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJpbmdUb0FycmF5KHN0cmluZyksIDAsIGxpbWl0KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHN0cmluZy5zcGxpdChzZXBhcmF0b3IsIGxpbWl0KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgc3RyaW5nYCB0b1xuICAgICAqIFtzdGFydCBjYXNlXShodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MZXR0ZXJfY2FzZSNTdHlsaXN0aWNfb3Jfc3BlY2lhbGlzZWRfdXNhZ2UpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMS4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGNvbnZlcnQuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgc3RhcnQgY2FzZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN0YXJ0Q2FzZSgnLS1mb28tYmFyLS0nKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRm9vIEJhcidcbiAgICAgKlxuICAgICAqIF8uc3RhcnRDYXNlKCdfX0ZPT19CQVJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciBzdGFydENhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB1cHBlckZpcnN0KHdvcmQpO1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ2hlY2tzIGlmIGBzdHJpbmdgIHN0YXJ0cyB3aXRoIHRoZSBnaXZlbiB0YXJnZXQgc3RyaW5nLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFt0YXJnZXRdIFRoZSBzdHJpbmcgdG8gc2VhcmNoIGZvci5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3Bvc2l0aW9uPTBdIFRoZSBwb3NpdGlvbiB0byBzZWFyY2ggZnJvbS5cbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAgaWYgYHN0cmluZ2Agc3RhcnRzIHdpdGggYHRhcmdldGAsXG4gICAgICogIGVsc2UgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIF8uc3RhcnRzV2l0aCgnYWJjJywgJ2InKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqXG4gICAgICogXy5zdGFydHNXaXRoKCdhYmMnLCAnYicsIDEpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdGFydHNXaXRoKHN0cmluZywgdGFyZ2V0LCBwb3NpdGlvbikge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHBvc2l0aW9uID0gcG9zaXRpb24gPT0gbnVsbFxuICAgICAgICA/IDBcbiAgICAgICAgOiBiYXNlQ2xhbXAodG9JbnRlZ2VyKHBvc2l0aW9uKSwgMCwgc3RyaW5nLmxlbmd0aCk7XG5cbiAgICAgIHRhcmdldCA9IGJhc2VUb1N0cmluZyh0YXJnZXQpO1xuICAgICAgcmV0dXJuIHN0cmluZy5zbGljZShwb3NpdGlvbiwgcG9zaXRpb24gKyB0YXJnZXQubGVuZ3RoKSA9PSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uIHRoYXQgY2FuIGludGVycG9sYXRlIGRhdGEgcHJvcGVydGllc1xuICAgICAqIGluIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXJzLCBIVE1MLWVzY2FwZSBpbnRlcnBvbGF0ZWQgZGF0YSBwcm9wZXJ0aWVzIGluXG4gICAgICogXCJlc2NhcGVcIiBkZWxpbWl0ZXJzLCBhbmQgZXhlY3V0ZSBKYXZhU2NyaXB0IGluIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXJzLiBEYXRhXG4gICAgICogcHJvcGVydGllcyBtYXkgYmUgYWNjZXNzZWQgYXMgZnJlZSB2YXJpYWJsZXMgaW4gdGhlIHRlbXBsYXRlLiBJZiBhIHNldHRpbmdcbiAgICAgKiBvYmplY3QgaXMgZ2l2ZW4sIGl0IHRha2VzIHByZWNlZGVuY2Ugb3ZlciBgXy50ZW1wbGF0ZVNldHRpbmdzYCB2YWx1ZXMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogSW4gdGhlIGRldmVsb3BtZW50IGJ1aWxkIGBfLnRlbXBsYXRlYCB1dGlsaXplc1xuICAgICAqIFtzb3VyY2VVUkxzXShodHRwOi8vd3d3Lmh0bWw1cm9ja3MuY29tL2VuL3R1dG9yaWFscy9kZXZlbG9wZXJ0b29scy9zb3VyY2VtYXBzLyN0b2Mtc291cmNldXJsKVxuICAgICAqIGZvciBlYXNpZXIgZGVidWdnaW5nLlxuICAgICAqXG4gICAgICogRm9yIG1vcmUgaW5mb3JtYXRpb24gb24gcHJlY29tcGlsaW5nIHRlbXBsYXRlcyBzZWVcbiAgICAgKiBbbG9kYXNoJ3MgY3VzdG9tIGJ1aWxkcyBkb2N1bWVudGF0aW9uXShodHRwczovL2xvZGFzaC5jb20vY3VzdG9tLWJ1aWxkcykuXG4gICAgICpcbiAgICAgKiBGb3IgbW9yZSBpbmZvcm1hdGlvbiBvbiBDaHJvbWUgZXh0ZW5zaW9uIHNhbmRib3hlcyBzZWVcbiAgICAgKiBbQ2hyb21lJ3MgZXh0ZW5zaW9ucyBkb2N1bWVudGF0aW9uXShodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2V4dGVuc2lvbnMvc2FuZGJveGluZ0V2YWwpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgdGVtcGxhdGUgc3RyaW5nLlxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBbb3B0aW9ucz17fV0gVGhlIG9wdGlvbnMgb2JqZWN0LlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfSBbb3B0aW9ucy5lc2NhcGU9Xy50ZW1wbGF0ZVNldHRpbmdzLmVzY2FwZV1cbiAgICAgKiAgVGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmV2YWx1YXRlPV8udGVtcGxhdGVTZXR0aW5ncy5ldmFsdWF0ZV1cbiAgICAgKiAgVGhlIFwiZXZhbHVhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zLmltcG9ydHM9Xy50ZW1wbGF0ZVNldHRpbmdzLmltcG9ydHNdXG4gICAgICogIEFuIG9iamVjdCB0byBpbXBvcnQgaW50byB0aGUgdGVtcGxhdGUgYXMgZnJlZSB2YXJpYWJsZXMuXG4gICAgICogQHBhcmFtIHtSZWdFeHB9IFtvcHRpb25zLmludGVycG9sYXRlPV8udGVtcGxhdGVTZXR0aW5ncy5pbnRlcnBvbGF0ZV1cbiAgICAgKiAgVGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIuXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtvcHRpb25zLnNvdXJjZVVSTD0nbG9kYXNoLnRlbXBsYXRlU291cmNlc1tuXSddXG4gICAgICogIFRoZSBzb3VyY2VVUkwgb2YgdGhlIGNvbXBpbGVkIHRlbXBsYXRlLlxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0aW9ucy52YXJpYWJsZT0nb2JqJ11cbiAgICAgKiAgVGhlIGRhdGEgb2JqZWN0IHZhcmlhYmxlIG5hbWUuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNvbXBpbGVkIHRlbXBsYXRlIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIFwiaW50ZXJwb2xhdGVcIiBkZWxpbWl0ZXIgdG8gY3JlYXRlIGEgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGVsbG8gPCU9IHVzZXIgJT4hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdmcmVkJyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gZnJlZCEnXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIEhUTUwgXCJlc2NhcGVcIiBkZWxpbWl0ZXIgdG8gZXNjYXBlIGRhdGEgcHJvcGVydHkgdmFsdWVzLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJzxiPjwlLSB2YWx1ZSAlPjwvYj4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd2YWx1ZSc6ICc8c2NyaXB0PicgfSk7XG4gICAgICogLy8gPT4gJzxiPiZsdDtzY3JpcHQmZ3Q7PC9iPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgXCJldmFsdWF0ZVwiIGRlbGltaXRlciB0byBleGVjdXRlIEphdmFTY3JpcHQgYW5kIGdlbmVyYXRlIEhUTUwuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCUgXy5mb3JFYWNoKHVzZXJzLCBmdW5jdGlvbih1c2VyKSB7ICU+PGxpPjwlLSB1c2VyICU+PC9saT48JSB9KTsgJT4nKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2Vycyc6IFsnZnJlZCcsICdiYXJuZXknXSB9KTtcbiAgICAgKiAvLyA9PiAnPGxpPmZyZWQ8L2xpPjxsaT5iYXJuZXk8L2xpPidcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgaW50ZXJuYWwgYHByaW50YCBmdW5jdGlvbiBpbiBcImV2YWx1YXRlXCIgZGVsaW1pdGVycy5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCc8JSBwcmludChcImhlbGxvIFwiICsgdXNlcik7ICU+IScpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXInOiAnYmFybmV5JyB9KTtcbiAgICAgKiAvLyA9PiAnaGVsbG8gYmFybmV5ISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgRVMgdGVtcGxhdGUgbGl0ZXJhbCBkZWxpbWl0ZXIgYXMgYW4gXCJpbnRlcnBvbGF0ZVwiIGRlbGltaXRlci5cbiAgICAgKiAvLyBEaXNhYmxlIHN1cHBvcnQgYnkgcmVwbGFjaW5nIHRoZSBcImludGVycG9sYXRlXCIgZGVsaW1pdGVyLlxuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvICR7IHVzZXIgfSEnKTtcbiAgICAgKiBjb21waWxlZCh7ICd1c2VyJzogJ3BlYmJsZXMnIH0pO1xuICAgICAqIC8vID0+ICdoZWxsbyBwZWJibGVzISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSBiYWNrc2xhc2hlcyB0byB0cmVhdCBkZWxpbWl0ZXJzIGFzIHBsYWluIHRleHQuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnPCU9IFwiXFxcXDwlLSB2YWx1ZSAlXFxcXD5cIiAlPicpO1xuICAgICAqIGNvbXBpbGVkKHsgJ3ZhbHVlJzogJ2lnbm9yZWQnIH0pO1xuICAgICAqIC8vID0+ICc8JS0gdmFsdWUgJT4nXG4gICAgICpcbiAgICAgKiAvLyBVc2UgdGhlIGBpbXBvcnRzYCBvcHRpb24gdG8gaW1wb3J0IGBqUXVlcnlgIGFzIGBqcWAuXG4gICAgICogdmFyIHRleHQgPSAnPCUganEuZWFjaCh1c2VycywgZnVuY3Rpb24odXNlcikgeyAlPjxsaT48JS0gdXNlciAlPjwvbGk+PCUgfSk7ICU+JztcbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKHRleHQsIHsgJ2ltcG9ydHMnOiB7ICdqcSc6IGpRdWVyeSB9IH0pO1xuICAgICAqIGNvbXBpbGVkKHsgJ3VzZXJzJzogWydmcmVkJywgJ2Jhcm5leSddIH0pO1xuICAgICAqIC8vID0+ICc8bGk+ZnJlZDwvbGk+PGxpPmJhcm5leTwvbGk+J1xuICAgICAqXG4gICAgICogLy8gVXNlIHRoZSBgc291cmNlVVJMYCBvcHRpb24gdG8gc3BlY2lmeSBhIGN1c3RvbSBzb3VyY2VVUkwgZm9yIHRoZSB0ZW1wbGF0ZS5cbiAgICAgKiB2YXIgY29tcGlsZWQgPSBfLnRlbXBsYXRlKCdoZWxsbyA8JT0gdXNlciAlPiEnLCB7ICdzb3VyY2VVUkwnOiAnL2Jhc2ljL2dyZWV0aW5nLmpzdCcgfSk7XG4gICAgICogY29tcGlsZWQoZGF0YSk7XG4gICAgICogLy8gPT4gRmluZCB0aGUgc291cmNlIG9mIFwiZ3JlZXRpbmcuanN0XCIgdW5kZXIgdGhlIFNvdXJjZXMgdGFiIG9yIFJlc291cmNlcyBwYW5lbCBvZiB0aGUgd2ViIGluc3BlY3Rvci5cbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHZhcmlhYmxlYCBvcHRpb24gdG8gZW5zdXJlIGEgd2l0aC1zdGF0ZW1lbnQgaXNuJ3QgdXNlZCBpbiB0aGUgY29tcGlsZWQgdGVtcGxhdGUuXG4gICAgICogdmFyIGNvbXBpbGVkID0gXy50ZW1wbGF0ZSgnaGkgPCU9IGRhdGEudXNlciAlPiEnLCB7ICd2YXJpYWJsZSc6ICdkYXRhJyB9KTtcbiAgICAgKiBjb21waWxlZC5zb3VyY2U7XG4gICAgICogLy8gPT4gZnVuY3Rpb24oZGF0YSkge1xuICAgICAqIC8vICAgdmFyIF9fdCwgX19wID0gJyc7XG4gICAgICogLy8gICBfX3AgKz0gJ2hpICcgKyAoKF9fdCA9ICggZGF0YS51c2VyICkpID09IG51bGwgPyAnJyA6IF9fdCkgKyAnISc7XG4gICAgICogLy8gICByZXR1cm4gX19wO1xuICAgICAqIC8vIH1cbiAgICAgKlxuICAgICAqIC8vIFVzZSBjdXN0b20gdGVtcGxhdGUgZGVsaW1pdGVycy5cbiAgICAgKiBfLnRlbXBsYXRlU2V0dGluZ3MuaW50ZXJwb2xhdGUgPSAve3soW1xcc1xcU10rPyl9fS9nO1xuICAgICAqIHZhciBjb21waWxlZCA9IF8udGVtcGxhdGUoJ2hlbGxvIHt7IHVzZXIgfX0hJyk7XG4gICAgICogY29tcGlsZWQoeyAndXNlcic6ICdtdXN0YWNoZScgfSk7XG4gICAgICogLy8gPT4gJ2hlbGxvIG11c3RhY2hlISdcbiAgICAgKlxuICAgICAqIC8vIFVzZSB0aGUgYHNvdXJjZWAgcHJvcGVydHkgdG8gaW5saW5lIGNvbXBpbGVkIHRlbXBsYXRlcyBmb3IgbWVhbmluZ2Z1bFxuICAgICAqIC8vIGxpbmUgbnVtYmVycyBpbiBlcnJvciBtZXNzYWdlcyBhbmQgc3RhY2sgdHJhY2VzLlxuICAgICAqIGZzLndyaXRlRmlsZVN5bmMocGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdqc3QuanMnKSwgJ1xcXG4gICAgICogICB2YXIgSlNUID0ge1xcXG4gICAgICogICAgIFwibWFpblwiOiAnICsgXy50ZW1wbGF0ZShtYWluVGV4dCkuc291cmNlICsgJ1xcXG4gICAgICogICB9O1xcXG4gICAgICogJyk7XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGVtcGxhdGUoc3RyaW5nLCBvcHRpb25zLCBndWFyZCkge1xuICAgICAgLy8gQmFzZWQgb24gSm9obiBSZXNpZydzIGB0bXBsYCBpbXBsZW1lbnRhdGlvblxuICAgICAgLy8gKGh0dHA6Ly9lam9obi5vcmcvYmxvZy9qYXZhc2NyaXB0LW1pY3JvLXRlbXBsYXRpbmcvKVxuICAgICAgLy8gYW5kIExhdXJhIERva3Rvcm92YSdzIGRvVC5qcyAoaHR0cHM6Ly9naXRodWIuY29tL29sYWRvL2RvVCkuXG4gICAgICB2YXIgc2V0dGluZ3MgPSBsb2Rhc2gudGVtcGxhdGVTZXR0aW5ncztcblxuICAgICAgaWYgKGd1YXJkICYmIGlzSXRlcmF0ZWVDYWxsKHN0cmluZywgb3B0aW9ucywgZ3VhcmQpKSB7XG4gICAgICAgIG9wdGlvbnMgPSB1bmRlZmluZWQ7XG4gICAgICB9XG4gICAgICBzdHJpbmcgPSB0b1N0cmluZyhzdHJpbmcpO1xuICAgICAgb3B0aW9ucyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucywgc2V0dGluZ3MsIGN1c3RvbURlZmF1bHRzQXNzaWduSW4pO1xuXG4gICAgICB2YXIgaW1wb3J0cyA9IGFzc2lnbkluV2l0aCh7fSwgb3B0aW9ucy5pbXBvcnRzLCBzZXR0aW5ncy5pbXBvcnRzLCBjdXN0b21EZWZhdWx0c0Fzc2lnbkluKSxcbiAgICAgICAgICBpbXBvcnRzS2V5cyA9IGtleXMoaW1wb3J0cyksXG4gICAgICAgICAgaW1wb3J0c1ZhbHVlcyA9IGJhc2VWYWx1ZXMoaW1wb3J0cywgaW1wb3J0c0tleXMpO1xuXG4gICAgICB2YXIgaXNFc2NhcGluZyxcbiAgICAgICAgICBpc0V2YWx1YXRpbmcsXG4gICAgICAgICAgaW5kZXggPSAwLFxuICAgICAgICAgIGludGVycG9sYXRlID0gb3B0aW9ucy5pbnRlcnBvbGF0ZSB8fCByZU5vTWF0Y2gsXG4gICAgICAgICAgc291cmNlID0gXCJfX3AgKz0gJ1wiO1xuXG4gICAgICAvLyBDb21waWxlIHRoZSByZWdleHAgdG8gbWF0Y2ggZWFjaCBkZWxpbWl0ZXIuXG4gICAgICB2YXIgcmVEZWxpbWl0ZXJzID0gUmVnRXhwKFxuICAgICAgICAob3B0aW9ucy5lc2NhcGUgfHwgcmVOb01hdGNoKS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICBpbnRlcnBvbGF0ZS5zb3VyY2UgKyAnfCcgK1xuICAgICAgICAoaW50ZXJwb2xhdGUgPT09IHJlSW50ZXJwb2xhdGUgPyByZUVzVGVtcGxhdGUgOiByZU5vTWF0Y2gpLnNvdXJjZSArICd8JyArXG4gICAgICAgIChvcHRpb25zLmV2YWx1YXRlIHx8IHJlTm9NYXRjaCkuc291cmNlICsgJ3wkJ1xuICAgICAgLCAnZycpO1xuXG4gICAgICAvLyBVc2UgYSBzb3VyY2VVUkwgZm9yIGVhc2llciBkZWJ1Z2dpbmcuXG4gICAgICAvLyBUaGUgc291cmNlVVJMIGdldHMgaW5qZWN0ZWQgaW50byB0aGUgc291cmNlIHRoYXQncyBldmFsLWVkLCBzbyBiZSBjYXJlZnVsXG4gICAgICAvLyB0byBub3JtYWxpemUgYWxsIGtpbmRzIG9mIHdoaXRlc3BhY2UsIHNvIGUuZy4gbmV3bGluZXMgKGFuZCB1bmljb2RlIHZlcnNpb25zIG9mIGl0KSBjYW4ndCBzbmVhayBpblxuICAgICAgLy8gYW5kIGVzY2FwZSB0aGUgY29tbWVudCwgdGh1cyBpbmplY3RpbmcgY29kZSB0aGF0IGdldHMgZXZhbGVkLlxuICAgICAgdmFyIHNvdXJjZVVSTCA9ICcvLyMgc291cmNlVVJMPScgK1xuICAgICAgICAoaGFzT3duUHJvcGVydHkuY2FsbChvcHRpb25zLCAnc291cmNlVVJMJylcbiAgICAgICAgICA/IChvcHRpb25zLnNvdXJjZVVSTCArICcnKS5yZXBsYWNlKC9cXHMvZywgJyAnKVxuICAgICAgICAgIDogKCdsb2Rhc2gudGVtcGxhdGVTb3VyY2VzWycgKyAoKyt0ZW1wbGF0ZUNvdW50ZXIpICsgJ10nKVxuICAgICAgICApICsgJ1xcbic7XG5cbiAgICAgIHN0cmluZy5yZXBsYWNlKHJlRGVsaW1pdGVycywgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZVZhbHVlLCBpbnRlcnBvbGF0ZVZhbHVlLCBlc1RlbXBsYXRlVmFsdWUsIGV2YWx1YXRlVmFsdWUsIG9mZnNldCkge1xuICAgICAgICBpbnRlcnBvbGF0ZVZhbHVlIHx8IChpbnRlcnBvbGF0ZVZhbHVlID0gZXNUZW1wbGF0ZVZhbHVlKTtcblxuICAgICAgICAvLyBFc2NhcGUgY2hhcmFjdGVycyB0aGF0IGNhbid0IGJlIGluY2x1ZGVkIGluIHN0cmluZyBsaXRlcmFscy5cbiAgICAgICAgc291cmNlICs9IHN0cmluZy5zbGljZShpbmRleCwgb2Zmc2V0KS5yZXBsYWNlKHJlVW5lc2NhcGVkU3RyaW5nLCBlc2NhcGVTdHJpbmdDaGFyKTtcblxuICAgICAgICAvLyBSZXBsYWNlIGRlbGltaXRlcnMgd2l0aCBzbmlwcGV0cy5cbiAgICAgICAgaWYgKGVzY2FwZVZhbHVlKSB7XG4gICAgICAgICAgaXNFc2NhcGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuX19lKFwiICsgZXNjYXBlVmFsdWUgKyBcIikgK1xcbidcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZhbHVhdGVWYWx1ZSkge1xuICAgICAgICAgIGlzRXZhbHVhdGluZyA9IHRydWU7XG4gICAgICAgICAgc291cmNlICs9IFwiJztcXG5cIiArIGV2YWx1YXRlVmFsdWUgKyBcIjtcXG5fX3AgKz0gJ1wiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpbnRlcnBvbGF0ZVZhbHVlKSB7XG4gICAgICAgICAgc291cmNlICs9IFwiJyArXFxuKChfX3QgPSAoXCIgKyBpbnRlcnBvbGF0ZVZhbHVlICsgXCIpKSA9PSBudWxsID8gJycgOiBfX3QpICtcXG4nXCI7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG5cbiAgICAgICAgLy8gVGhlIEpTIGVuZ2luZSBlbWJlZGRlZCBpbiBBZG9iZSBwcm9kdWN0cyBuZWVkcyBgbWF0Y2hgIHJldHVybmVkIGluXG4gICAgICAgIC8vIG9yZGVyIHRvIHByb2R1Y2UgdGhlIGNvcnJlY3QgYG9mZnNldGAgdmFsdWUuXG4gICAgICAgIHJldHVybiBtYXRjaDtcbiAgICAgIH0pO1xuXG4gICAgICBzb3VyY2UgKz0gXCInO1xcblwiO1xuXG4gICAgICAvLyBJZiBgdmFyaWFibGVgIGlzIG5vdCBzcGVjaWZpZWQgd3JhcCBhIHdpdGgtc3RhdGVtZW50IGFyb3VuZCB0aGUgZ2VuZXJhdGVkXG4gICAgICAvLyBjb2RlIHRvIGFkZCB0aGUgZGF0YSBvYmplY3QgdG8gdGhlIHRvcCBvZiB0aGUgc2NvcGUgY2hhaW4uXG4gICAgICB2YXIgdmFyaWFibGUgPSBoYXNPd25Qcm9wZXJ0eS5jYWxsKG9wdGlvbnMsICd2YXJpYWJsZScpICYmIG9wdGlvbnMudmFyaWFibGU7XG4gICAgICBpZiAoIXZhcmlhYmxlKSB7XG4gICAgICAgIHNvdXJjZSA9ICd3aXRoIChvYmopIHtcXG4nICsgc291cmNlICsgJ1xcbn1cXG4nO1xuICAgICAgfVxuICAgICAgLy8gVGhyb3cgYW4gZXJyb3IgaWYgYSBmb3JiaWRkZW4gY2hhcmFjdGVyIHdhcyBmb3VuZCBpbiBgdmFyaWFibGVgLCB0byBwcmV2ZW50XG4gICAgICAvLyBwb3RlbnRpYWwgY29tbWFuZCBpbmplY3Rpb24gYXR0YWNrcy5cbiAgICAgIGVsc2UgaWYgKHJlRm9yYmlkZGVuSWRlbnRpZmllckNoYXJzLnRlc3QodmFyaWFibGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihJTlZBTElEX1RFTVBMX1ZBUl9FUlJPUl9URVhUKTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2xlYW51cCBjb2RlIGJ5IHN0cmlwcGluZyBlbXB0eSBzdHJpbmdzLlxuICAgICAgc291cmNlID0gKGlzRXZhbHVhdGluZyA/IHNvdXJjZS5yZXBsYWNlKHJlRW1wdHlTdHJpbmdMZWFkaW5nLCAnJykgOiBzb3VyY2UpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdNaWRkbGUsICckMScpXG4gICAgICAgIC5yZXBsYWNlKHJlRW1wdHlTdHJpbmdUcmFpbGluZywgJyQxOycpO1xuXG4gICAgICAvLyBGcmFtZSBjb2RlIGFzIHRoZSBmdW5jdGlvbiBib2R5LlxuICAgICAgc291cmNlID0gJ2Z1bmN0aW9uKCcgKyAodmFyaWFibGUgfHwgJ29iaicpICsgJykge1xcbicgK1xuICAgICAgICAodmFyaWFibGVcbiAgICAgICAgICA/ICcnXG4gICAgICAgICAgOiAnb2JqIHx8IChvYmogPSB7fSk7XFxuJ1xuICAgICAgICApICtcbiAgICAgICAgXCJ2YXIgX190LCBfX3AgPSAnJ1wiICtcbiAgICAgICAgKGlzRXNjYXBpbmdcbiAgICAgICAgICAgPyAnLCBfX2UgPSBfLmVzY2FwZSdcbiAgICAgICAgICAgOiAnJ1xuICAgICAgICApICtcbiAgICAgICAgKGlzRXZhbHVhdGluZ1xuICAgICAgICAgID8gJywgX19qID0gQXJyYXkucHJvdG90eXBlLmpvaW47XFxuJyArXG4gICAgICAgICAgICBcImZ1bmN0aW9uIHByaW50KCkgeyBfX3AgKz0gX19qLmNhbGwoYXJndW1lbnRzLCAnJykgfVxcblwiXG4gICAgICAgICAgOiAnO1xcbidcbiAgICAgICAgKSArXG4gICAgICAgIHNvdXJjZSArXG4gICAgICAgICdyZXR1cm4gX19wXFxufSc7XG5cbiAgICAgIHZhciByZXN1bHQgPSBhdHRlbXB0KGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gRnVuY3Rpb24oaW1wb3J0c0tleXMsIHNvdXJjZVVSTCArICdyZXR1cm4gJyArIHNvdXJjZSlcbiAgICAgICAgICAuYXBwbHkodW5kZWZpbmVkLCBpbXBvcnRzVmFsdWVzKTtcbiAgICAgIH0pO1xuXG4gICAgICAvLyBQcm92aWRlIHRoZSBjb21waWxlZCBmdW5jdGlvbidzIHNvdXJjZSBieSBpdHMgYHRvU3RyaW5nYCBtZXRob2Qgb3JcbiAgICAgIC8vIHRoZSBgc291cmNlYCBwcm9wZXJ0eSBhcyBhIGNvbnZlbmllbmNlIGZvciBpbmxpbmluZyBjb21waWxlZCB0ZW1wbGF0ZXMuXG4gICAgICByZXN1bHQuc291cmNlID0gc291cmNlO1xuICAgICAgaWYgKGlzRXJyb3IocmVzdWx0KSkge1xuICAgICAgICB0aHJvdyByZXN1bHQ7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byBsb3dlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9Mb3dlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvTG93ZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIGxvd2VyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b0xvd2VyKCctLUZvby1CYXItLScpO1xuICAgICAqIC8vID0+ICctLWZvby1iYXItLSdcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ2Zvb2JhcidcbiAgICAgKlxuICAgICAqIF8udG9Mb3dlcignX19GT09fQkFSX18nKTtcbiAgICAgKiAvLyA9PiAnX19mb29fYmFyX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9Mb3dlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b0xvd2VyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBhIHdob2xlLCB0byB1cHBlciBjYXNlIGp1c3QgbGlrZVxuICAgICAqIFtTdHJpbmcjdG9VcHBlckNhc2VdKGh0dHBzOi8vbWRuLmlvL3RvVXBwZXJDYXNlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBTdHJpbmdcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3N0cmluZz0nJ10gVGhlIHN0cmluZyB0byBjb252ZXJ0LlxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IFJldHVybnMgdGhlIHVwcGVyIGNhc2VkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50b1VwcGVyKCctLWZvby1iYXItLScpO1xuICAgICAqIC8vID0+ICctLUZPTy1CQVItLSdcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignZm9vQmFyJyk7XG4gICAgICogLy8gPT4gJ0ZPT0JBUidcbiAgICAgKlxuICAgICAqIF8udG9VcHBlcignX19mb29fYmFyX18nKTtcbiAgICAgKiAvLyA9PiAnX19GT09fQkFSX18nXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9VcHBlcih2YWx1ZSkge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nKHZhbHVlKS50b1VwcGVyQ2FzZSgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyBhbmQgdHJhaWxpbmcgd2hpdGVzcGFjZSBvciBzcGVjaWZpZWQgY2hhcmFjdGVycyBmcm9tIGBzdHJpbmdgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIHRyaW0uXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtjaGFycz13aGl0ZXNwYWNlXSBUaGUgY2hhcmFjdGVycyB0byB0cmltLlxuICAgICAqIEBwYXJhbS0ge09iamVjdH0gW2d1YXJkXSBFbmFibGVzIHVzZSBhcyBhbiBpdGVyYXRlZSBmb3IgbWV0aG9kcyBsaWtlIGBfLm1hcGAuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJpbW1lZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udHJpbSgnICBhYmMgICcpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLnRyaW0oJy1fLWFiYy1fLScsICdfLScpO1xuICAgICAqIC8vID0+ICdhYmMnXG4gICAgICpcbiAgICAgKiBfLm1hcChbJyAgZm9vICAnLCAnICBiYXIgICddLCBfLnRyaW0pO1xuICAgICAqIC8vID0+IFsnZm9vJywgJ2JhciddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdHJpbShzdHJpbmcsIGNoYXJzLCBndWFyZCkge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIGlmIChzdHJpbmcgJiYgKGd1YXJkIHx8IGNoYXJzID09PSB1bmRlZmluZWQpKSB7XG4gICAgICAgIHJldHVybiBiYXNlVHJpbShzdHJpbmcpO1xuICAgICAgfVxuICAgICAgaWYgKCFzdHJpbmcgfHwgIShjaGFycyA9IGJhc2VUb1N0cmluZyhjaGFycykpKSB7XG4gICAgICAgIHJldHVybiBzdHJpbmc7XG4gICAgICB9XG4gICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKSxcbiAgICAgICAgICBjaHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShjaGFycyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgY2hyU3ltYm9scyksXG4gICAgICAgICAgZW5kID0gY2hhcnNFbmRJbmRleChzdHJTeW1ib2xzLCBjaHJTeW1ib2xzKSArIDE7XG5cbiAgICAgIHJldHVybiBjYXN0U2xpY2Uoc3RyU3ltYm9scywgc3RhcnQsIGVuZCkuam9pbignJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0cmFpbGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltRW5kKCcgIGFiYyAgJyk7XG4gICAgICogLy8gPT4gJyAgYWJjJ1xuICAgICAqXG4gICAgICogXy50cmltRW5kKCctXy1hYmMtXy0nLCAnXy0nKTtcbiAgICAgKiAvLyA9PiAnLV8tYWJjJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRyaW1FbmQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnNsaWNlKDAsIHRyaW1tZWRFbmRJbmRleChzdHJpbmcpICsgMSk7XG4gICAgICB9XG4gICAgICBpZiAoIXN0cmluZyB8fCAhKGNoYXJzID0gYmFzZVRvU3RyaW5nKGNoYXJzKSkpIHtcbiAgICAgICAgcmV0dXJuIHN0cmluZztcbiAgICAgIH1cbiAgICAgIHZhciBzdHJTeW1ib2xzID0gc3RyaW5nVG9BcnJheShzdHJpbmcpLFxuICAgICAgICAgIGVuZCA9IGNoYXJzRW5kSW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpICsgMTtcblxuICAgICAgcmV0dXJuIGNhc3RTbGljZShzdHJTeW1ib2xzLCAwLCBlbmQpLmpvaW4oJycpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgbGVhZGluZyB3aGl0ZXNwYWNlIG9yIHNwZWNpZmllZCBjaGFyYWN0ZXJzIGZyb20gYHN0cmluZ2AuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJpbS5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW2NoYXJzPXdoaXRlc3BhY2VdIFRoZSBjaGFyYWN0ZXJzIHRvIHRyaW0uXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB0cmltbWVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cmltU3RhcnQoJyAgYWJjICAnKTtcbiAgICAgKiAvLyA9PiAnYWJjICAnXG4gICAgICpcbiAgICAgKiBfLnRyaW1TdGFydCgnLV8tYWJjLV8tJywgJ18tJyk7XG4gICAgICogLy8gPT4gJ2FiYy1fLSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cmltU3RhcnQoc3RyaW5nLCBjaGFycywgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBpZiAoc3RyaW5nICYmIChndWFyZCB8fCBjaGFycyA9PT0gdW5kZWZpbmVkKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nLnJlcGxhY2UocmVUcmltU3RhcnQsICcnKTtcbiAgICAgIH1cbiAgICAgIGlmICghc3RyaW5nIHx8ICEoY2hhcnMgPSBiYXNlVG9TdHJpbmcoY2hhcnMpKSkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIHN0clN5bWJvbHMgPSBzdHJpbmdUb0FycmF5KHN0cmluZyksXG4gICAgICAgICAgc3RhcnQgPSBjaGFyc1N0YXJ0SW5kZXgoc3RyU3ltYm9scywgc3RyaW5nVG9BcnJheShjaGFycykpO1xuXG4gICAgICByZXR1cm4gY2FzdFNsaWNlKHN0clN5bWJvbHMsIHN0YXJ0KS5qb2luKCcnKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcnVuY2F0ZXMgYHN0cmluZ2AgaWYgaXQncyBsb25nZXIgdGhhbiB0aGUgZ2l2ZW4gbWF4aW11bSBzdHJpbmcgbGVuZ3RoLlxuICAgICAqIFRoZSBsYXN0IGNoYXJhY3RlcnMgb2YgdGhlIHRydW5jYXRlZCBzdHJpbmcgYXJlIHJlcGxhY2VkIHdpdGggdGhlIG9taXNzaW9uXG4gICAgICogc3RyaW5nIHdoaWNoIGRlZmF1bHRzIHRvIFwiLi4uXCIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdHJ1bmNhdGUuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtvcHRpb25zLmxlbmd0aD0zMF0gVGhlIG1heGltdW0gc3RyaW5nIGxlbmd0aC5cbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW29wdGlvbnMub21pc3Npb249Jy4uLiddIFRoZSBzdHJpbmcgdG8gaW5kaWNhdGUgdGV4dCBpcyBvbWl0dGVkLlxuICAgICAqIEBwYXJhbSB7UmVnRXhwfHN0cmluZ30gW29wdGlvbnMuc2VwYXJhdG9yXSBUaGUgc2VwYXJhdG9yIHBhdHRlcm4gdG8gdHJ1bmNhdGUgdG8uXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdHJ1bmNhdGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycpO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm8uLi4nXG4gICAgICpcbiAgICAgKiBfLnRydW5jYXRlKCdoaS1kaWRkbHktaG8gdGhlcmUsIG5laWdoYm9yaW5vJywge1xuICAgICAqICAgJ2xlbmd0aCc6IDI0LFxuICAgICAqICAgJ3NlcGFyYXRvcic6ICcgJ1xuICAgICAqIH0pO1xuICAgICAqIC8vID0+ICdoaS1kaWRkbHktaG8gdGhlcmUsLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdsZW5ndGgnOiAyNCxcbiAgICAgKiAgICdzZXBhcmF0b3InOiAvLD8gKy9cbiAgICAgKiB9KTtcbiAgICAgKiAvLyA9PiAnaGktZGlkZGx5LWhvIHRoZXJlLi4uJ1xuICAgICAqXG4gICAgICogXy50cnVuY2F0ZSgnaGktZGlkZGx5LWhvIHRoZXJlLCBuZWlnaGJvcmlubycsIHtcbiAgICAgKiAgICdvbWlzc2lvbic6ICcgWy4uLl0nXG4gICAgICogfSk7XG4gICAgICogLy8gPT4gJ2hpLWRpZGRseS1obyB0aGVyZSwgbmVpZyBbLi4uXSdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0cnVuY2F0ZShzdHJpbmcsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBsZW5ndGggPSBERUZBVUxUX1RSVU5DX0xFTkdUSCxcbiAgICAgICAgICBvbWlzc2lvbiA9IERFRkFVTFRfVFJVTkNfT01JU1NJT047XG5cbiAgICAgIGlmIChpc09iamVjdChvcHRpb25zKSkge1xuICAgICAgICB2YXIgc2VwYXJhdG9yID0gJ3NlcGFyYXRvcicgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc2VwYXJhdG9yIDogc2VwYXJhdG9yO1xuICAgICAgICBsZW5ndGggPSAnbGVuZ3RoJyBpbiBvcHRpb25zID8gdG9JbnRlZ2VyKG9wdGlvbnMubGVuZ3RoKSA6IGxlbmd0aDtcbiAgICAgICAgb21pc3Npb24gPSAnb21pc3Npb24nIGluIG9wdGlvbnMgPyBiYXNlVG9TdHJpbmcob3B0aW9ucy5vbWlzc2lvbikgOiBvbWlzc2lvbjtcbiAgICAgIH1cbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG5cbiAgICAgIHZhciBzdHJMZW5ndGggPSBzdHJpbmcubGVuZ3RoO1xuICAgICAgaWYgKGhhc1VuaWNvZGUoc3RyaW5nKSkge1xuICAgICAgICB2YXIgc3RyU3ltYm9scyA9IHN0cmluZ1RvQXJyYXkoc3RyaW5nKTtcbiAgICAgICAgc3RyTGVuZ3RoID0gc3RyU3ltYm9scy5sZW5ndGg7XG4gICAgICB9XG4gICAgICBpZiAobGVuZ3RoID49IHN0ckxlbmd0aCkge1xuICAgICAgICByZXR1cm4gc3RyaW5nO1xuICAgICAgfVxuICAgICAgdmFyIGVuZCA9IGxlbmd0aCAtIHN0cmluZ1NpemUob21pc3Npb24pO1xuICAgICAgaWYgKGVuZCA8IDEpIHtcbiAgICAgICAgcmV0dXJuIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgdmFyIHJlc3VsdCA9IHN0clN5bWJvbHNcbiAgICAgICAgPyBjYXN0U2xpY2Uoc3RyU3ltYm9scywgMCwgZW5kKS5qb2luKCcnKVxuICAgICAgICA6IHN0cmluZy5zbGljZSgwLCBlbmQpO1xuXG4gICAgICBpZiAoc2VwYXJhdG9yID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlc3VsdCArIG9taXNzaW9uO1xuICAgICAgfVxuICAgICAgaWYgKHN0clN5bWJvbHMpIHtcbiAgICAgICAgZW5kICs9IChyZXN1bHQubGVuZ3RoIC0gZW5kKTtcbiAgICAgIH1cbiAgICAgIGlmIChpc1JlZ0V4cChzZXBhcmF0b3IpKSB7XG4gICAgICAgIGlmIChzdHJpbmcuc2xpY2UoZW5kKS5zZWFyY2goc2VwYXJhdG9yKSkge1xuICAgICAgICAgIHZhciBtYXRjaCxcbiAgICAgICAgICAgICAgc3Vic3RyaW5nID0gcmVzdWx0O1xuXG4gICAgICAgICAgaWYgKCFzZXBhcmF0b3IuZ2xvYmFsKSB7XG4gICAgICAgICAgICBzZXBhcmF0b3IgPSBSZWdFeHAoc2VwYXJhdG9yLnNvdXJjZSwgdG9TdHJpbmcocmVGbGFncy5leGVjKHNlcGFyYXRvcikpICsgJ2cnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2VwYXJhdG9yLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgd2hpbGUgKChtYXRjaCA9IHNlcGFyYXRvci5leGVjKHN1YnN0cmluZykpKSB7XG4gICAgICAgICAgICB2YXIgbmV3RW5kID0gbWF0Y2guaW5kZXg7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBuZXdFbmQgPT09IHVuZGVmaW5lZCA/IGVuZCA6IG5ld0VuZCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoc3RyaW5nLmluZGV4T2YoYmFzZVRvU3RyaW5nKHNlcGFyYXRvciksIGVuZCkgIT0gZW5kKSB7XG4gICAgICAgIHZhciBpbmRleCA9IHJlc3VsdC5sYXN0SW5kZXhPZihzZXBhcmF0b3IpO1xuICAgICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICAgIHJlc3VsdCA9IHJlc3VsdC5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiByZXN1bHQgKyBvbWlzc2lvbjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgaW52ZXJzZSBvZiBgXy5lc2NhcGVgOyB0aGlzIG1ldGhvZCBjb252ZXJ0cyB0aGUgSFRNTCBlbnRpdGllc1xuICAgICAqIGAmYW1wO2AsIGAmbHQ7YCwgYCZndDtgLCBgJnF1b3Q7YCwgYW5kIGAmIzM5O2AgaW4gYHN0cmluZ2AgdG9cbiAgICAgKiB0aGVpciBjb3JyZXNwb25kaW5nIGNoYXJhY3RlcnMuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogTm8gb3RoZXIgSFRNTCBlbnRpdGllcyBhcmUgdW5lc2NhcGVkLiBUbyB1bmVzY2FwZSBhZGRpdGlvbmFsXG4gICAgICogSFRNTCBlbnRpdGllcyB1c2UgYSB0aGlyZC1wYXJ0eSBsaWJyYXJ5IGxpa2UgW19oZV9dKGh0dHBzOi8vbXRocy5iZS9oZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMC42LjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gdW5lc2NhcGUuXG4gICAgICogQHJldHVybnMge3N0cmluZ30gUmV0dXJucyB0aGUgdW5lc2NhcGVkIHN0cmluZy5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy51bmVzY2FwZSgnZnJlZCwgYmFybmV5LCAmYW1wOyBwZWJibGVzJyk7XG4gICAgICogLy8gPT4gJ2ZyZWQsIGJhcm5leSwgJiBwZWJibGVzJ1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIHVuZXNjYXBlKHN0cmluZykge1xuICAgICAgc3RyaW5nID0gdG9TdHJpbmcoc3RyaW5nKTtcbiAgICAgIHJldHVybiAoc3RyaW5nICYmIHJlSGFzRXNjYXBlZEh0bWwudGVzdChzdHJpbmcpKVxuICAgICAgICA/IHN0cmluZy5yZXBsYWNlKHJlRXNjYXBlZEh0bWwsIHVuZXNjYXBlSHRtbENoYXIpXG4gICAgICAgIDogc3RyaW5nO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbnZlcnRzIGBzdHJpbmdgLCBhcyBzcGFjZSBzZXBhcmF0ZWQgd29yZHMsIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1cHBlciBjYXNlZCBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCctLWZvby1iYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdmb29CYXInKTtcbiAgICAgKiAvLyA9PiAnRk9PIEJBUidcbiAgICAgKlxuICAgICAqIF8udXBwZXJDYXNlKCdfX2Zvb19iYXJfXycpO1xuICAgICAqIC8vID0+ICdGT08gQkFSJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckNhc2UgPSBjcmVhdGVDb21wb3VuZGVyKGZ1bmN0aW9uKHJlc3VsdCwgd29yZCwgaW5kZXgpIHtcbiAgICAgIHJldHVybiByZXN1bHQgKyAoaW5kZXggPyAnICcgOiAnJykgKyB3b3JkLnRvVXBwZXJDYXNlKCk7XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyB0aGUgZmlyc3QgY2hhcmFjdGVyIG9mIGBzdHJpbmdgIHRvIHVwcGVyIGNhc2UuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgU3RyaW5nXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IFtzdHJpbmc9JyddIFRoZSBzdHJpbmcgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBjb252ZXJ0ZWQgc3RyaW5nLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnVwcGVyRmlyc3QoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiAnRnJlZCdcbiAgICAgKlxuICAgICAqIF8udXBwZXJGaXJzdCgnRlJFRCcpO1xuICAgICAqIC8vID0+ICdGUkVEJ1xuICAgICAqL1xuICAgIHZhciB1cHBlckZpcnN0ID0gY3JlYXRlQ2FzZUZpcnN0KCd0b1VwcGVyQ2FzZScpO1xuXG4gICAgLyoqXG4gICAgICogU3BsaXRzIGBzdHJpbmdgIGludG8gYW4gYXJyYXkgb2YgaXRzIHdvcmRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFN0cmluZ1xuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbc3RyaW5nPScnXSBUaGUgc3RyaW5nIHRvIGluc3BlY3QuXG4gICAgICogQHBhcmFtIHtSZWdFeHB8c3RyaW5nfSBbcGF0dGVybl0gVGhlIHBhdHRlcm4gdG8gbWF0Y2ggd29yZHMuXG4gICAgICogQHBhcmFtLSB7T2JqZWN0fSBbZ3VhcmRdIEVuYWJsZXMgdXNlIGFzIGFuIGl0ZXJhdGVlIGZvciBtZXRob2RzIGxpa2UgYF8ubWFwYC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIHdvcmRzIG9mIGBzdHJpbmdgLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycpO1xuICAgICAqIC8vID0+IFsnZnJlZCcsICdiYXJuZXknLCAncGViYmxlcyddXG4gICAgICpcbiAgICAgKiBfLndvcmRzKCdmcmVkLCBiYXJuZXksICYgcGViYmxlcycsIC9bXiwgXSsvZyk7XG4gICAgICogLy8gPT4gWydmcmVkJywgJ2Jhcm5leScsICcmJywgJ3BlYmJsZXMnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHdvcmRzKHN0cmluZywgcGF0dGVybiwgZ3VhcmQpIHtcbiAgICAgIHN0cmluZyA9IHRvU3RyaW5nKHN0cmluZyk7XG4gICAgICBwYXR0ZXJuID0gZ3VhcmQgPyB1bmRlZmluZWQgOiBwYXR0ZXJuO1xuXG4gICAgICBpZiAocGF0dGVybiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiBoYXNVbmljb2RlV29yZChzdHJpbmcpID8gdW5pY29kZVdvcmRzKHN0cmluZykgOiBhc2NpaVdvcmRzKHN0cmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gc3RyaW5nLm1hdGNoKHBhdHRlcm4pIHx8IFtdO1xuICAgIH1cblxuICAgIC8qLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tKi9cblxuICAgIC8qKlxuICAgICAqIEF0dGVtcHRzIHRvIGludm9rZSBgZnVuY2AsIHJldHVybmluZyBlaXRoZXIgdGhlIHJlc3VsdCBvciB0aGUgY2F1Z2h0IGVycm9yXG4gICAgICogb2JqZWN0LiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIGBmdW5jYCB3aGVuIGl0J3MgaW52b2tlZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gYXR0ZW1wdC5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSBgZnVuY2Agd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgYGZ1bmNgIHJlc3VsdCBvciBlcnJvciBvYmplY3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIC8vIEF2b2lkIHRocm93aW5nIGVycm9ycyBmb3IgaW52YWxpZCBzZWxlY3RvcnMuXG4gICAgICogdmFyIGVsZW1lbnRzID0gXy5hdHRlbXB0KGZ1bmN0aW9uKHNlbGVjdG9yKSB7XG4gICAgICogICByZXR1cm4gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChzZWxlY3Rvcik7XG4gICAgICogfSwgJz5fPicpO1xuICAgICAqXG4gICAgICogaWYgKF8uaXNFcnJvcihlbGVtZW50cykpIHtcbiAgICAgKiAgIGVsZW1lbnRzID0gW107XG4gICAgICogfVxuICAgICAqL1xuICAgIHZhciBhdHRlbXB0ID0gYmFzZVJlc3QoZnVuY3Rpb24oZnVuYywgYXJncykge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGFwcGx5KGZ1bmMsIHVuZGVmaW5lZCwgYXJncyk7XG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBpc0Vycm9yKGUpID8gZSA6IG5ldyBFcnJvcihlKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIEJpbmRzIG1ldGhvZHMgb2YgYW4gb2JqZWN0IHRvIHRoZSBvYmplY3QgaXRzZWxmLCBvdmVyd3JpdGluZyB0aGUgZXhpc3RpbmdcbiAgICAgKiBtZXRob2QuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhpcyBtZXRob2QgZG9lc24ndCBzZXQgdGhlIFwibGVuZ3RoXCIgcHJvcGVydHkgb2YgYm91bmQgZnVuY3Rpb25zLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gb2JqZWN0IFRoZSBvYmplY3QgdG8gYmluZCBhbmQgYXNzaWduIHRoZSBib3VuZCBtZXRob2RzIHRvLlxuICAgICAqIEBwYXJhbSB7Li4uKHN0cmluZ3xzdHJpbmdbXSl9IG1ldGhvZE5hbWVzIFRoZSBvYmplY3QgbWV0aG9kIG5hbWVzIHRvIGJpbmQuXG4gICAgICogQHJldHVybnMge09iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIHZpZXcgPSB7XG4gICAgICogICAnbGFiZWwnOiAnZG9jcycsXG4gICAgICogICAnY2xpY2snOiBmdW5jdGlvbigpIHtcbiAgICAgKiAgICAgY29uc29sZS5sb2coJ2NsaWNrZWQgJyArIHRoaXMubGFiZWwpO1xuICAgICAqICAgfVxuICAgICAqIH07XG4gICAgICpcbiAgICAgKiBfLmJpbmRBbGwodmlldywgWydjbGljayddKTtcbiAgICAgKiBqUXVlcnkoZWxlbWVudCkub24oJ2NsaWNrJywgdmlldy5jbGljayk7XG4gICAgICogLy8gPT4gTG9ncyAnY2xpY2tlZCBkb2NzJyB3aGVuIGNsaWNrZWQuXG4gICAgICovXG4gICAgdmFyIGJpbmRBbGwgPSBmbGF0UmVzdChmdW5jdGlvbihvYmplY3QsIG1ldGhvZE5hbWVzKSB7XG4gICAgICBhcnJheUVhY2gobWV0aG9kTmFtZXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgICBrZXkgPSB0b0tleShrZXkpO1xuICAgICAgICBiYXNlQXNzaWduVmFsdWUob2JqZWN0LCBrZXksIGJpbmQob2JqZWN0W2tleV0sIG9iamVjdCkpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gb2JqZWN0O1xuICAgIH0pO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaXRlcmF0ZXMgb3ZlciBgcGFpcnNgIGFuZCBpbnZva2VzIHRoZSBjb3JyZXNwb25kaW5nXG4gICAgICogZnVuY3Rpb24gb2YgdGhlIGZpcnN0IHByZWRpY2F0ZSB0byByZXR1cm4gdHJ1dGh5LiBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uXG4gICAgICogcGFpcnMgYXJlIGludm9rZWQgd2l0aCB0aGUgYHRoaXNgIGJpbmRpbmcgYW5kIGFyZ3VtZW50cyBvZiB0aGUgY3JlYXRlZFxuICAgICAqIGZ1bmN0aW9uLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBwYWlycyBUaGUgcHJlZGljYXRlLWZ1bmN0aW9uIHBhaXJzLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLmNvbmQoW1xuICAgICAqICAgW18ubWF0Y2hlcyh7ICdhJzogMSB9KSwgICAgICAgICAgIF8uY29uc3RhbnQoJ21hdGNoZXMgQScpXSxcbiAgICAgKiAgIFtfLmNvbmZvcm1zKHsgJ2InOiBfLmlzTnVtYmVyIH0pLCBfLmNvbnN0YW50KCdtYXRjaGVzIEInKV0sXG4gICAgICogICBbXy5zdHViVHJ1ZSwgICAgICAgICAgICAgICAgICAgICAgXy5jb25zdGFudCgnbm8gbWF0Y2gnKV1cbiAgICAgKiBdKTtcbiAgICAgKlxuICAgICAqIGZ1bmMoeyAnYSc6IDEsICdiJzogMiB9KTtcbiAgICAgKiAvLyA9PiAnbWF0Y2hlcyBBJ1xuICAgICAqXG4gICAgICogZnVuYyh7ICdhJzogMCwgJ2InOiAxIH0pO1xuICAgICAqIC8vID0+ICdtYXRjaGVzIEInXG4gICAgICpcbiAgICAgKiBmdW5jKHsgJ2EnOiAnMScsICdiJzogJzInIH0pO1xuICAgICAqIC8vID0+ICdubyBtYXRjaCdcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBjb25kKHBhaXJzKSB7XG4gICAgICB2YXIgbGVuZ3RoID0gcGFpcnMgPT0gbnVsbCA/IDAgOiBwYWlycy5sZW5ndGgsXG4gICAgICAgICAgdG9JdGVyYXRlZSA9IGdldEl0ZXJhdGVlKCk7XG5cbiAgICAgIHBhaXJzID0gIWxlbmd0aCA/IFtdIDogYXJyYXlNYXAocGFpcnMsIGZ1bmN0aW9uKHBhaXIpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYWlyWzFdICE9ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKEZVTkNfRVJST1JfVEVYVCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFt0b0l0ZXJhdGVlKHBhaXJbMF0pLCBwYWlyWzFdXTtcbiAgICAgIH0pO1xuXG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICB2YXIgaW5kZXggPSAtMTtcbiAgICAgICAgd2hpbGUgKCsraW5kZXggPCBsZW5ndGgpIHtcbiAgICAgICAgICB2YXIgcGFpciA9IHBhaXJzW2luZGV4XTtcbiAgICAgICAgICBpZiAoYXBwbHkocGFpclswXSwgdGhpcywgYXJncykpIHtcbiAgICAgICAgICAgIHJldHVybiBhcHBseShwYWlyWzFdLCB0aGlzLCBhcmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgdGhlIHByZWRpY2F0ZSBwcm9wZXJ0aWVzIG9mIGBzb3VyY2VgIHdpdGhcbiAgICAgKiB0aGUgY29ycmVzcG9uZGluZyBwcm9wZXJ0eSB2YWx1ZXMgb2YgYSBnaXZlbiBvYmplY3QsIHJldHVybmluZyBgdHJ1ZWAgaWZcbiAgICAgKiBhbGwgcHJlZGljYXRlcyByZXR1cm4gdHJ1dGh5LCBlbHNlIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiAqKk5vdGU6KiogVGhlIGNyZWF0ZWQgZnVuY3Rpb24gaXMgZXF1aXZhbGVudCB0byBgXy5jb25mb3Jtc1RvYCB3aXRoXG4gICAgICogYHNvdXJjZWAgcGFydGlhbGx5IGFwcGxpZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBzb3VyY2UgVGhlIG9iamVjdCBvZiBwcm9wZXJ0eSBwcmVkaWNhdGVzIHRvIGNvbmZvcm0gdG8uXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgc3BlYyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbXG4gICAgICogICB7ICdhJzogMiwgJ2InOiAxIH0sXG4gICAgICogICB7ICdhJzogMSwgJ2InOiAyIH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5jb25mb3Jtcyh7ICdiJzogZnVuY3Rpb24obikgeyByZXR1cm4gbiA+IDE7IH0gfSkpO1xuICAgICAqIC8vID0+IFt7ICdhJzogMSwgJ2InOiAyIH1dXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uZm9ybXMoc291cmNlKSB7XG4gICAgICByZXR1cm4gYmFzZUNvbmZvcm1zKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgYHZhbHVlYC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAyLjQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gcmV0dXJuIGZyb20gdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb25zdGFudCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBfLnRpbWVzKDIsIF8uY29uc3RhbnQoeyAnYSc6IDEgfSkpO1xuICAgICAqXG4gICAgICogY29uc29sZS5sb2cob2JqZWN0cyk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxIH0sIHsgJ2EnOiAxIH1dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICovXG4gICAgZnVuY3Rpb24gY29uc3RhbnQodmFsdWUpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVja3MgYHZhbHVlYCB0byBkZXRlcm1pbmUgd2hldGhlciBhIGRlZmF1bHQgdmFsdWUgc2hvdWxkIGJlIHJldHVybmVkIGluXG4gICAgICogaXRzIHBsYWNlLiBUaGUgYGRlZmF1bHRWYWx1ZWAgaXMgcmV0dXJuZWQgaWYgYHZhbHVlYCBpcyBgTmFOYCwgYG51bGxgLFxuICAgICAqIG9yIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTQuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY2hlY2suXG4gICAgICogQHBhcmFtIHsqfSBkZWZhdWx0VmFsdWUgVGhlIGRlZmF1bHQgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIHJlc29sdmVkIHZhbHVlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLmRlZmF1bHRUbygxLCAxMCk7XG4gICAgICogLy8gPT4gMVxuICAgICAqXG4gICAgICogXy5kZWZhdWx0VG8odW5kZWZpbmVkLCAxMCk7XG4gICAgICogLy8gPT4gMTBcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBkZWZhdWx0VG8odmFsdWUsIGRlZmF1bHRWYWx1ZSkge1xuICAgICAgcmV0dXJuICh2YWx1ZSA9PSBudWxsIHx8IHZhbHVlICE9PSB2YWx1ZSkgPyBkZWZhdWx0VmFsdWUgOiB2YWx1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSByZXN1bHQgb2YgaW52b2tpbmcgdGhlIGdpdmVuIGZ1bmN0aW9uc1xuICAgICAqIHdpdGggdGhlIGB0aGlzYCBiaW5kaW5nIG9mIHRoZSBjcmVhdGVkIGZ1bmN0aW9uLCB3aGVyZSBlYWNoIHN1Y2Nlc3NpdmVcbiAgICAgKiBpbnZvY2F0aW9uIGlzIHN1cHBsaWVkIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIHByZXZpb3VzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0gey4uLihGdW5jdGlvbnxGdW5jdGlvbltdKX0gW2Z1bmNzXSBUaGUgZnVuY3Rpb25zIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBjb21wb3NpdGUgZnVuY3Rpb24uXG4gICAgICogQHNlZSBfLmZsb3dSaWdodFxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3coW18uYWRkLCBzcXVhcmVdKTtcbiAgICAgKiBhZGRTcXVhcmUoMSwgMik7XG4gICAgICogLy8gPT4gOVxuICAgICAqL1xuICAgIHZhciBmbG93ID0gY3JlYXRlRmxvdygpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5mbG93YCBleGNlcHQgdGhhdCBpdCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdFxuICAgICAqIGludm9rZXMgdGhlIGdpdmVuIGZ1bmN0aW9ucyBmcm9tIHJpZ2h0IHRvIGxlZnQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbZnVuY3NdIFRoZSBmdW5jdGlvbnMgdG8gaW52b2tlLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGNvbXBvc2l0ZSBmdW5jdGlvbi5cbiAgICAgKiBAc2VlIF8uZmxvd1xuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBmdW5jdGlvbiBzcXVhcmUobikge1xuICAgICAqICAgcmV0dXJuIG4gKiBuO1xuICAgICAqIH1cbiAgICAgKlxuICAgICAqIHZhciBhZGRTcXVhcmUgPSBfLmZsb3dSaWdodChbc3F1YXJlLCBfLmFkZF0pO1xuICAgICAqIGFkZFNxdWFyZSgxLCAyKTtcbiAgICAgKiAvLyA9PiA5XG4gICAgICovXG4gICAgdmFyIGZsb3dSaWdodCA9IGNyZWF0ZUZsb3codHJ1ZSk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIHRoZSBmaXJzdCBhcmd1bWVudCBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBBbnkgdmFsdWUuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgYHZhbHVlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdCA9IHsgJ2EnOiAxIH07XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhfLmlkZW50aXR5KG9iamVjdCkgPT09IG9iamVjdCk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIGlkZW50aXR5KHZhbHVlKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyBgZnVuY2Agd2l0aCB0aGUgYXJndW1lbnRzIG9mIHRoZSBjcmVhdGVkXG4gICAgICogZnVuY3Rpb24uIElmIGBmdW5jYCBpcyBhIHByb3BlcnR5IG5hbWUsIHRoZSBjcmVhdGVkIGZ1bmN0aW9uIHJldHVybnMgdGhlXG4gICAgICogcHJvcGVydHkgdmFsdWUgZm9yIGEgZ2l2ZW4gZWxlbWVudC4gSWYgYGZ1bmNgIGlzIGFuIGFycmF5IG9yIG9iamVjdCwgdGhlXG4gICAgICogY3JlYXRlZCBmdW5jdGlvbiByZXR1cm5zIGB0cnVlYCBmb3IgZWxlbWVudHMgdGhhdCBjb250YWluIHRoZSBlcXVpdmFsZW50XG4gICAgICogc291cmNlIHByb3BlcnRpZXMsIG90aGVyd2lzZSBpdCByZXR1cm5zIGBmYWxzZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Kn0gW2Z1bmM9Xy5pZGVudGl0eV0gVGhlIHZhbHVlIHRvIGNvbnZlcnQgdG8gYSBjYWxsYmFjay5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIGNhbGxiYWNrLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgdXNlcnMgPSBbXG4gICAgICogICB7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfSxcbiAgICAgKiAgIHsgJ3VzZXInOiAnZnJlZCcsICAgJ2FnZSc6IDQwLCAnYWN0aXZlJzogZmFsc2UgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ubWF0Y2hlc2AgaXRlcmF0ZWUgc2hvcnRoYW5kLlxuICAgICAqIF8uZmlsdGVyKHVzZXJzLCBfLml0ZXJhdGVlKHsgJ3VzZXInOiAnYmFybmV5JywgJ2FjdGl2ZSc6IHRydWUgfSkpO1xuICAgICAqIC8vID0+IFt7ICd1c2VyJzogJ2Jhcm5leScsICdhZ2UnOiAzNiwgJ2FjdGl2ZSc6IHRydWUgfV1cbiAgICAgKlxuICAgICAqIC8vIFRoZSBgXy5tYXRjaGVzUHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLmZpbHRlcih1c2VycywgXy5pdGVyYXRlZShbJ3VzZXInLCAnZnJlZCddKSk7XG4gICAgICogLy8gPT4gW3sgJ3VzZXInOiAnZnJlZCcsICdhZ2UnOiA0MCB9XVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXAodXNlcnMsIF8uaXRlcmF0ZWUoJ3VzZXInKSk7XG4gICAgICogLy8gPT4gWydiYXJuZXknLCAnZnJlZCddXG4gICAgICpcbiAgICAgKiAvLyBDcmVhdGUgY3VzdG9tIGl0ZXJhdGVlIHNob3J0aGFuZHMuXG4gICAgICogXy5pdGVyYXRlZSA9IF8ud3JhcChfLml0ZXJhdGVlLCBmdW5jdGlvbihpdGVyYXRlZSwgZnVuYykge1xuICAgICAqICAgcmV0dXJuICFfLmlzUmVnRXhwKGZ1bmMpID8gaXRlcmF0ZWUoZnVuYykgOiBmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgKiAgICAgcmV0dXJuIGZ1bmMudGVzdChzdHJpbmcpO1xuICAgICAqICAgfTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIF8uZmlsdGVyKFsnYWJjJywgJ2RlZiddLCAvZWYvKTtcbiAgICAgKiAvLyA9PiBbJ2RlZiddXG4gICAgICovXG4gICAgZnVuY3Rpb24gaXRlcmF0ZWUoZnVuYykge1xuICAgICAgcmV0dXJuIGJhc2VJdGVyYXRlZSh0eXBlb2YgZnVuYyA9PSAnZnVuY3Rpb24nID8gZnVuYyA6IGJhc2VDbG9uZShmdW5jLCBDTE9ORV9ERUVQX0ZMQUcpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBwZXJmb3JtcyBhIHBhcnRpYWwgZGVlcCBjb21wYXJpc29uIGJldHdlZW4gYSBnaXZlblxuICAgICAqIG9iamVjdCBhbmQgYHNvdXJjZWAsIHJldHVybmluZyBgdHJ1ZWAgaWYgdGhlIGdpdmVuIG9iamVjdCBoYXMgZXF1aXZhbGVudFxuICAgICAqIHByb3BlcnR5IHZhbHVlcywgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFRoZSBjcmVhdGVkIGZ1bmN0aW9uIGlzIGVxdWl2YWxlbnQgdG8gYF8uaXNNYXRjaGAgd2l0aCBgc291cmNlYFxuICAgICAqIHBhcnRpYWxseSBhcHBsaWVkLlxuICAgICAqXG4gICAgICogUGFydGlhbCBjb21wYXJpc29ucyB3aWxsIG1hdGNoIGVtcHR5IGFycmF5IGFuZCBlbXB0eSBvYmplY3QgYHNvdXJjZWBcbiAgICAgKiB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZSBgXy5pc0VxdWFsYFxuICAgICAqIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMC4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge09iamVjdH0gc291cmNlIFRoZSBvYmplY3Qgb2YgcHJvcGVydHkgdmFsdWVzIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbHRlcihvYmplY3RzLCBfLm1hdGNoZXMoeyAnYSc6IDQsICdjJzogNiB9KSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiA0LCAnYic6IDUsICdjJzogNiB9XVxuICAgICAqXG4gICAgICogLy8gQ2hlY2tpbmcgZm9yIHNldmVyYWwgcG9zc2libGUgdmFsdWVzXG4gICAgICogXy5maWx0ZXIob2JqZWN0cywgXy5vdmVyU29tZShbXy5tYXRjaGVzKHsgJ2EnOiAxIH0pLCBfLm1hdGNoZXMoeyAnYSc6IDQgfSldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzKHNvdXJjZSkge1xuICAgICAgcmV0dXJuIGJhc2VNYXRjaGVzKGJhc2VDbG9uZShzb3VyY2UsIENMT05FX0RFRVBfRkxBRykpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IHBlcmZvcm1zIGEgcGFydGlhbCBkZWVwIGNvbXBhcmlzb24gYmV0d2VlbiB0aGVcbiAgICAgKiB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QgdG8gYHNyY1ZhbHVlYCwgcmV0dXJuaW5nIGB0cnVlYCBpZiB0aGVcbiAgICAgKiBvYmplY3QgdmFsdWUgaXMgZXF1aXZhbGVudCwgZWxzZSBgZmFsc2VgLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFBhcnRpYWwgY29tcGFyaXNvbnMgd2lsbCBtYXRjaCBlbXB0eSBhcnJheSBhbmQgZW1wdHkgb2JqZWN0XG4gICAgICogYHNyY1ZhbHVlYCB2YWx1ZXMgYWdhaW5zdCBhbnkgYXJyYXkgb3Igb2JqZWN0IHZhbHVlLCByZXNwZWN0aXZlbHkuIFNlZVxuICAgICAqIGBfLmlzRXF1YWxgIGZvciBhIGxpc3Qgb2Ygc3VwcG9ydGVkIHZhbHVlIGNvbXBhcmlzb25zLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIE11bHRpcGxlIHZhbHVlcyBjYW4gYmUgY2hlY2tlZCBieSBjb21iaW5pbmcgc2V2ZXJhbCBtYXRjaGVyc1xuICAgICAqIHVzaW5nIGBfLm92ZXJTb21lYFxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMi4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0FycmF5fHN0cmluZ30gcGF0aCBUaGUgcGF0aCBvZiB0aGUgcHJvcGVydHkgdG8gZ2V0LlxuICAgICAqIEBwYXJhbSB7Kn0gc3JjVmFsdWUgVGhlIHZhbHVlIHRvIG1hdGNoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHNwZWMgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IDEsICdiJzogMiwgJ2MnOiAzIH0sXG4gICAgICogICB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfVxuICAgICAqIF07XG4gICAgICpcbiAgICAgKiBfLmZpbmQob2JqZWN0cywgXy5tYXRjaGVzUHJvcGVydHkoJ2EnLCA0KSk7XG4gICAgICogLy8gPT4geyAnYSc6IDQsICdiJzogNSwgJ2MnOiA2IH1cbiAgICAgKlxuICAgICAqIC8vIENoZWNraW5nIGZvciBzZXZlcmFsIHBvc3NpYmxlIHZhbHVlc1xuICAgICAqIF8uZmlsdGVyKG9iamVjdHMsIF8ub3ZlclNvbWUoW18ubWF0Y2hlc1Byb3BlcnR5KCdhJywgMSksIF8ubWF0Y2hlc1Byb3BlcnR5KCdhJywgNCldKSk7XG4gICAgICogLy8gPT4gW3sgJ2EnOiAxLCAnYic6IDIsICdjJzogMyB9LCB7ICdhJzogNCwgJ2InOiA1LCAnYyc6IDYgfV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXRjaGVzUHJvcGVydHkocGF0aCwgc3JjVmFsdWUpIHtcbiAgICAgIHJldHVybiBiYXNlTWF0Y2hlc1Byb3BlcnR5KHBhdGgsIGJhc2VDbG9uZShzcmNWYWx1ZSwgQ0xPTkVfREVFUF9GTEFHKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgaW52b2tlcyB0aGUgbWV0aG9kIGF0IGBwYXRoYCBvZiBhIGdpdmVuIG9iamVjdC5cbiAgICAgKiBBbnkgYWRkaXRpb25hbCBhcmd1bWVudHMgYXJlIHByb3ZpZGVkIHRvIHRoZSBpbnZva2VkIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjcuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtBcnJheXxzdHJpbmd9IHBhdGggVGhlIHBhdGggb2YgdGhlIG1ldGhvZCB0byBpbnZva2UuXG4gICAgICogQHBhcmFtIHsuLi4qfSBbYXJnc10gVGhlIGFyZ3VtZW50cyB0byBpbnZva2UgdGhlIG1ldGhvZCB3aXRoLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGludm9rZXIgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiBfLmNvbnN0YW50KDIpIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogXy5jb25zdGFudCgxKSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5tZXRob2QoJ2EuYicpKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKlxuICAgICAqIF8ubWFwKG9iamVjdHMsIF8ubWV0aG9kKFsnYScsICdiJ10pKTtcbiAgICAgKiAvLyA9PiBbMiwgMV1cbiAgICAgKi9cbiAgICB2YXIgbWV0aG9kID0gYmFzZVJlc3QoZnVuY3Rpb24ocGF0aCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKG9iamVjdCkge1xuICAgICAgICByZXR1cm4gYmFzZUludm9rZShvYmplY3QsIHBhdGgsIGFyZ3MpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8qKlxuICAgICAqIFRoZSBvcHBvc2l0ZSBvZiBgXy5tZXRob2RgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzXG4gICAgICogdGhlIG1ldGhvZCBhdCBhIGdpdmVuIHBhdGggb2YgYG9iamVjdGAuIEFueSBhZGRpdGlvbmFsIGFyZ3VtZW50cyBhcmVcbiAgICAgKiBwcm92aWRlZCB0byB0aGUgaW52b2tlZCBtZXRob2QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy43LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7T2JqZWN0fSBvYmplY3QgVGhlIG9iamVjdCB0byBxdWVyeS5cbiAgICAgKiBAcGFyYW0gey4uLip9IFthcmdzXSBUaGUgYXJndW1lbnRzIHRvIGludm9rZSB0aGUgbWV0aG9kIHdpdGguXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgaW52b2tlciBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGFycmF5ID0gXy50aW1lcygzLCBfLmNvbnN0YW50KSxcbiAgICAgKiAgICAgb2JqZWN0ID0geyAnYSc6IGFycmF5LCAnYic6IGFycmF5LCAnYyc6IGFycmF5IH07XG4gICAgICpcbiAgICAgKiBfLm1hcChbJ2FbMl0nLCAnY1swXSddLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLm1ldGhvZE9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqL1xuICAgIHZhciBtZXRob2RPZiA9IGJhc2VSZXN0KGZ1bmN0aW9uKG9iamVjdCwgYXJncykge1xuICAgICAgcmV0dXJuIGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2Uob2JqZWN0LCBwYXRoLCBhcmdzKTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvKipcbiAgICAgKiBBZGRzIGFsbCBvd24gZW51bWVyYWJsZSBzdHJpbmcga2V5ZWQgZnVuY3Rpb24gcHJvcGVydGllcyBvZiBhIHNvdXJjZVxuICAgICAqIG9iamVjdCB0byB0aGUgZGVzdGluYXRpb24gb2JqZWN0LiBJZiBgb2JqZWN0YCBpcyBhIGZ1bmN0aW9uLCB0aGVuIG1ldGhvZHNcbiAgICAgKiBhcmUgYWRkZWQgdG8gaXRzIHByb3RvdHlwZSBhcyB3ZWxsLlxuICAgICAqXG4gICAgICogKipOb3RlOioqIFVzZSBgXy5ydW5JbkNvbnRleHRgIHRvIGNyZWF0ZSBhIHByaXN0aW5lIGBsb2Rhc2hgIGZ1bmN0aW9uIHRvXG4gICAgICogYXZvaWQgY29uZmxpY3RzIGNhdXNlZCBieSBtb2RpZnlpbmcgdGhlIG9yaWdpbmFsLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufE9iamVjdH0gW29iamVjdD1sb2Rhc2hdIFRoZSBkZXN0aW5hdGlvbiBvYmplY3QuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IHNvdXJjZSBUaGUgb2JqZWN0IG9mIGZ1bmN0aW9ucyB0byBhZGQuXG4gICAgICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zPXt9XSBUaGUgb3B0aW9ucyBvYmplY3QuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0aW9ucy5jaGFpbj10cnVlXSBTcGVjaWZ5IHdoZXRoZXIgbWl4aW5zIGFyZSBjaGFpbmFibGUuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufE9iamVjdH0gUmV0dXJucyBgb2JqZWN0YC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogZnVuY3Rpb24gdm93ZWxzKHN0cmluZykge1xuICAgICAqICAgcmV0dXJuIF8uZmlsdGVyKHN0cmluZywgZnVuY3Rpb24odikge1xuICAgICAqICAgICByZXR1cm4gL1thZWlvdV0vaS50ZXN0KHYpO1xuICAgICAqICAgfSk7XG4gICAgICogfVxuICAgICAqXG4gICAgICogXy5taXhpbih7ICd2b3dlbHMnOiB2b3dlbHMgfSk7XG4gICAgICogXy52b3dlbHMoJ2ZyZWQnKTtcbiAgICAgKiAvLyA9PiBbJ2UnXVxuICAgICAqXG4gICAgICogXygnZnJlZCcpLnZvd2VscygpLnZhbHVlKCk7XG4gICAgICogLy8gPT4gWydlJ11cbiAgICAgKlxuICAgICAqIF8ubWl4aW4oeyAndm93ZWxzJzogdm93ZWxzIH0sIHsgJ2NoYWluJzogZmFsc2UgfSk7XG4gICAgICogXygnZnJlZCcpLnZvd2VscygpO1xuICAgICAqIC8vID0+IFsnZSddXG4gICAgICovXG4gICAgZnVuY3Rpb24gbWl4aW4ob2JqZWN0LCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgIHZhciBwcm9wcyA9IGtleXMoc291cmNlKSxcbiAgICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBwcm9wcyk7XG5cbiAgICAgIGlmIChvcHRpb25zID09IG51bGwgJiZcbiAgICAgICAgICAhKGlzT2JqZWN0KHNvdXJjZSkgJiYgKG1ldGhvZE5hbWVzLmxlbmd0aCB8fCAhcHJvcHMubGVuZ3RoKSkpIHtcbiAgICAgICAgb3B0aW9ucyA9IHNvdXJjZTtcbiAgICAgICAgc291cmNlID0gb2JqZWN0O1xuICAgICAgICBvYmplY3QgPSB0aGlzO1xuICAgICAgICBtZXRob2ROYW1lcyA9IGJhc2VGdW5jdGlvbnMoc291cmNlLCBrZXlzKHNvdXJjZSkpO1xuICAgICAgfVxuICAgICAgdmFyIGNoYWluID0gIShpc09iamVjdChvcHRpb25zKSAmJiAnY2hhaW4nIGluIG9wdGlvbnMpIHx8ICEhb3B0aW9ucy5jaGFpbixcbiAgICAgICAgICBpc0Z1bmMgPSBpc0Z1bmN0aW9uKG9iamVjdCk7XG5cbiAgICAgIGFycmF5RWFjaChtZXRob2ROYW1lcywgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgICB2YXIgZnVuYyA9IHNvdXJjZVttZXRob2ROYW1lXTtcbiAgICAgICAgb2JqZWN0W21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgaWYgKGlzRnVuYykge1xuICAgICAgICAgIG9iamVjdC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fO1xuICAgICAgICAgICAgaWYgKGNoYWluIHx8IGNoYWluQWxsKSB7XG4gICAgICAgICAgICAgIHZhciByZXN1bHQgPSBvYmplY3QodGhpcy5fX3dyYXBwZWRfXyksXG4gICAgICAgICAgICAgICAgICBhY3Rpb25zID0gcmVzdWx0Ll9fYWN0aW9uc19fID0gY29weUFycmF5KHRoaXMuX19hY3Rpb25zX18pO1xuXG4gICAgICAgICAgICAgIGFjdGlvbnMucHVzaCh7ICdmdW5jJzogZnVuYywgJ2FyZ3MnOiBhcmd1bWVudHMsICd0aGlzQXJnJzogb2JqZWN0IH0pO1xuICAgICAgICAgICAgICByZXN1bHQuX19jaGFpbl9fID0gY2hhaW5BbGw7XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseShvYmplY3QsIGFycmF5UHVzaChbdGhpcy52YWx1ZSgpXSwgYXJndW1lbnRzKSk7XG4gICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJldHVybiBvYmplY3Q7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV2ZXJ0cyB0aGUgYF9gIHZhcmlhYmxlIHRvIGl0cyBwcmV2aW91cyB2YWx1ZSBhbmQgcmV0dXJucyBhIHJlZmVyZW5jZSB0b1xuICAgICAqIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAc2luY2UgMC4xLjBcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBgbG9kYXNoYCBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGxvZGFzaCA9IF8ubm9Db25mbGljdCgpO1xuICAgICAqL1xuICAgIGZ1bmN0aW9uIG5vQ29uZmxpY3QoKSB7XG4gICAgICBpZiAocm9vdC5fID09PSB0aGlzKSB7XG4gICAgICAgIHJvb3QuXyA9IG9sZERhc2g7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCByZXR1cm5zIGB1bmRlZmluZWRgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDIuMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLm5vb3ApO1xuICAgICAqIC8vID0+IFt1bmRlZmluZWQsIHVuZGVmaW5lZF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBub29wKCkge1xuICAgICAgLy8gTm8gb3BlcmF0aW9uIHBlcmZvcm1lZC5cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCBnZXRzIHRoZSBhcmd1bWVudCBhdCBpbmRleCBgbmAuIElmIGBuYCBpcyBuZWdhdGl2ZSxcbiAgICAgKiB0aGUgbnRoIGFyZ3VtZW50IGZyb20gdGhlIGVuZCBpcyByZXR1cm5lZC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtuPTBdIFRoZSBpbmRleCBvZiB0aGUgYXJndW1lbnQgdG8gcmV0dXJuLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IHBhc3MtdGhydSBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm50aEFyZygxKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2InXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ubnRoQXJnKC0yKTtcbiAgICAgKiBmdW5jKCdhJywgJ2InLCAnYycsICdkJyk7XG4gICAgICogLy8gPT4gJ2MnXG4gICAgICovXG4gICAgZnVuY3Rpb24gbnRoQXJnKG4pIHtcbiAgICAgIG4gPSB0b0ludGVnZXIobik7XG4gICAgICByZXR1cm4gYmFzZVJlc3QoZnVuY3Rpb24oYXJncykge1xuICAgICAgICByZXR1cm4gYmFzZU50aChhcmdzLCBuKTtcbiAgICAgIH0pO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmdW5jdGlvbiB0aGF0IGludm9rZXMgYGl0ZXJhdGVlc2Agd2l0aCB0aGUgYXJndW1lbnRzIGl0IHJlY2VpdmVzXG4gICAgICogYW5kIHJldHVybnMgdGhlaXIgcmVzdWx0cy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsuLi4oRnVuY3Rpb258RnVuY3Rpb25bXSl9IFtpdGVyYXRlZXM9W18uaWRlbnRpdHldXVxuICAgICAqICBUaGUgaXRlcmF0ZWVzIHRvIGludm9rZS5cbiAgICAgKiBAcmV0dXJucyB7RnVuY3Rpb259IFJldHVybnMgdGhlIG5ldyBmdW5jdGlvbi5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIGZ1bmMgPSBfLm92ZXIoW01hdGgubWF4LCBNYXRoLm1pbl0pO1xuICAgICAqXG4gICAgICogZnVuYygxLCAyLCAzLCA0KTtcbiAgICAgKiAvLyA9PiBbNCwgMV1cbiAgICAgKi9cbiAgICB2YXIgb3ZlciA9IGNyZWF0ZU92ZXIoYXJyYXlNYXApO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYWxsKiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlckV2ZXJ5KFtCb29sZWFuLCBpc0Zpbml0ZV0pO1xuICAgICAqXG4gICAgICogZnVuYygnMScpO1xuICAgICAqIC8vID0+IHRydWVcbiAgICAgKlxuICAgICAqIGZ1bmMobnVsbCk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIGZ1bmMoTmFOKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIHZhciBvdmVyRXZlcnkgPSBjcmVhdGVPdmVyKGFycmF5RXZlcnkpO1xuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGZ1bmN0aW9uIHRoYXQgY2hlY2tzIGlmICoqYW55Kiogb2YgdGhlIGBwcmVkaWNhdGVzYCByZXR1cm5cbiAgICAgKiB0cnV0aHkgd2hlbiBpbnZva2VkIHdpdGggdGhlIGFyZ3VtZW50cyBpdCByZWNlaXZlcy5cbiAgICAgKlxuICAgICAqIEZvbGxvd2luZyBzaG9ydGhhbmRzIGFyZSBwb3NzaWJsZSBmb3IgcHJvdmlkaW5nIHByZWRpY2F0ZXMuXG4gICAgICogUGFzcyBhbiBgT2JqZWN0YCBhbmQgaXQgd2lsbCBiZSB1c2VkIGFzIGFuIHBhcmFtZXRlciBmb3IgYF8ubWF0Y2hlc2AgdG8gY3JlYXRlIHRoZSBwcmVkaWNhdGUuXG4gICAgICogUGFzcyBhbiBgQXJyYXlgIG9mIHBhcmFtZXRlcnMgZm9yIGBfLm1hdGNoZXNQcm9wZXJ0eWAgYW5kIHRoZSBwcmVkaWNhdGUgd2lsbCBiZSBjcmVhdGVkIHVzaW5nIHRoZW0uXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4wLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7Li4uKEZ1bmN0aW9ufEZ1bmN0aW9uW10pfSBbcHJlZGljYXRlcz1bXy5pZGVudGl0eV1dXG4gICAgICogIFRoZSBwcmVkaWNhdGVzIHRvIGNoZWNrLlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgZnVuYyA9IF8ub3ZlclNvbWUoW0Jvb2xlYW4sIGlzRmluaXRlXSk7XG4gICAgICpcbiAgICAgKiBmdW5jKCcxJyk7XG4gICAgICogLy8gPT4gdHJ1ZVxuICAgICAqXG4gICAgICogZnVuYyhudWxsKTtcbiAgICAgKiAvLyA9PiB0cnVlXG4gICAgICpcbiAgICAgKiBmdW5jKE5hTik7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKlxuICAgICAqIHZhciBtYXRjaGVzRnVuYyA9IF8ub3ZlclNvbWUoW3sgJ2EnOiAxIH0sIHsgJ2EnOiAyIH1dKVxuICAgICAqIHZhciBtYXRjaGVzUHJvcGVydHlGdW5jID0gXy5vdmVyU29tZShbWydhJywgMV0sIFsnYScsIDJdXSlcbiAgICAgKi9cbiAgICB2YXIgb3ZlclNvbWUgPSBjcmVhdGVPdmVyKGFycmF5U29tZSk7XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zIHRoZSB2YWx1ZSBhdCBgcGF0aGAgb2YgYSBnaXZlbiBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMi40LjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7QXJyYXl8c3RyaW5nfSBwYXRoIFRoZSBwYXRoIG9mIHRoZSBwcm9wZXJ0eSB0byBnZXQuXG4gICAgICogQHJldHVybnMge0Z1bmN0aW9ufSBSZXR1cm5zIHRoZSBuZXcgYWNjZXNzb3IgZnVuY3Rpb24uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW1xuICAgICAqICAgeyAnYSc6IHsgJ2InOiAyIH0gfSxcbiAgICAgKiAgIHsgJ2EnOiB7ICdiJzogMSB9IH1cbiAgICAgKiBdO1xuICAgICAqXG4gICAgICogXy5tYXAob2JqZWN0cywgXy5wcm9wZXJ0eSgnYS5iJykpO1xuICAgICAqIC8vID0+IFsyLCAxXVxuICAgICAqXG4gICAgICogXy5tYXAoXy5zb3J0Qnkob2JqZWN0cywgXy5wcm9wZXJ0eShbJ2EnLCAnYiddKSksICdhLmInKTtcbiAgICAgKiAvLyA9PiBbMSwgMl1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBwcm9wZXJ0eShwYXRoKSB7XG4gICAgICByZXR1cm4gaXNLZXkocGF0aCkgPyBiYXNlUHJvcGVydHkodG9LZXkocGF0aCkpIDogYmFzZVByb3BlcnR5RGVlcChwYXRoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGUgb3Bwb3NpdGUgb2YgYF8ucHJvcGVydHlgOyB0aGlzIG1ldGhvZCBjcmVhdGVzIGEgZnVuY3Rpb24gdGhhdCByZXR1cm5zXG4gICAgICogdGhlIHZhbHVlIGF0IGEgZ2l2ZW4gcGF0aCBvZiBgb2JqZWN0YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtPYmplY3R9IG9iamVjdCBUaGUgb2JqZWN0IHRvIHF1ZXJ5LlxuICAgICAqIEByZXR1cm5zIHtGdW5jdGlvbn0gUmV0dXJucyB0aGUgbmV3IGFjY2Vzc29yIGZ1bmN0aW9uLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXkgPSBbMCwgMSwgMl0sXG4gICAgICogICAgIG9iamVjdCA9IHsgJ2EnOiBhcnJheSwgJ2InOiBhcnJheSwgJ2MnOiBhcnJheSB9O1xuICAgICAqXG4gICAgICogXy5tYXAoWydhWzJdJywgJ2NbMF0nXSwgXy5wcm9wZXJ0eU9mKG9iamVjdCkpO1xuICAgICAqIC8vID0+IFsyLCAwXVxuICAgICAqXG4gICAgICogXy5tYXAoW1snYScsICcyJ10sIFsnYycsICcwJ11dLCBfLnByb3BlcnR5T2Yob2JqZWN0KSk7XG4gICAgICogLy8gPT4gWzIsIDBdXG4gICAgICovXG4gICAgZnVuY3Rpb24gcHJvcGVydHlPZihvYmplY3QpIHtcbiAgICAgIHJldHVybiBmdW5jdGlvbihwYXRoKSB7XG4gICAgICAgIHJldHVybiBvYmplY3QgPT0gbnVsbCA/IHVuZGVmaW5lZCA6IGJhc2VHZXQob2JqZWN0LCBwYXRoKTtcbiAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbiBhcnJheSBvZiBudW1iZXJzIChwb3NpdGl2ZSBhbmQvb3IgbmVnYXRpdmUpIHByb2dyZXNzaW5nIGZyb21cbiAgICAgKiBgc3RhcnRgIHVwIHRvLCBidXQgbm90IGluY2x1ZGluZywgYGVuZGAuIEEgc3RlcCBvZiBgLTFgIGlzIHVzZWQgaWYgYSBuZWdhdGl2ZVxuICAgICAqIGBzdGFydGAgaXMgc3BlY2lmaWVkIHdpdGhvdXQgYW4gYGVuZGAgb3IgYHN0ZXBgLiBJZiBgZW5kYCBpcyBub3Qgc3BlY2lmaWVkLFxuICAgICAqIGl0J3Mgc2V0IHRvIGBzdGFydGAgd2l0aCBgc3RhcnRgIHRoZW4gc2V0IHRvIGAwYC5cbiAgICAgKlxuICAgICAqICoqTm90ZToqKiBKYXZhU2NyaXB0IGZvbGxvd3MgdGhlIElFRUUtNzU0IHN0YW5kYXJkIGZvciByZXNvbHZpbmdcbiAgICAgKiBmbG9hdGluZy1wb2ludCB2YWx1ZXMgd2hpY2ggY2FuIHByb2R1Y2UgdW5leHBlY3RlZCByZXN1bHRzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0PTBdIFRoZSBzdGFydCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGVuZCBUaGUgZW5kIG9mIHRoZSByYW5nZS5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3N0ZXA9MV0gVGhlIHZhbHVlIHRvIGluY3JlbWVudCBvciBkZWNyZW1lbnQgYnkuXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSByYW5nZSBvZiBudW1iZXJzLlxuICAgICAqIEBzZWUgXy5pblJhbmdlLCBfLnJhbmdlUmlnaHRcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5yYW5nZSg0KTtcbiAgICAgKiAvLyA9PiBbMCwgMSwgMiwgM11cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoLTQpO1xuICAgICAqIC8vID0+IFswLCAtMSwgLTIsIC0zXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgxLCA1KTtcbiAgICAgKiAvLyA9PiBbMSwgMiwgMywgNF1cbiAgICAgKlxuICAgICAqIF8ucmFuZ2UoMCwgMjAsIDUpO1xuICAgICAqIC8vID0+IFswLCA1LCAxMCwgMTVdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWzAsIC0xLCAtMiwgLTNdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlKDEsIDQsIDApO1xuICAgICAqIC8vID0+IFsxLCAxLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZSgwKTtcbiAgICAgKiAvLyA9PiBbXVxuICAgICAqL1xuICAgIHZhciByYW5nZSA9IGNyZWF0ZVJhbmdlKCk7XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnJhbmdlYCBleGNlcHQgdGhhdCBpdCBwb3B1bGF0ZXMgdmFsdWVzIGluXG4gICAgICogZGVzY2VuZGluZyBvcmRlci5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydD0wXSBUaGUgc3RhcnQgb2YgdGhlIHJhbmdlLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBlbmQgVGhlIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGVwPTFdIFRoZSB2YWx1ZSB0byBpbmNyZW1lbnQgb3IgZGVjcmVtZW50IGJ5LlxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgcmFuZ2Ugb2YgbnVtYmVycy5cbiAgICAgKiBAc2VlIF8uaW5SYW5nZSwgXy5yYW5nZVxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoNCk7XG4gICAgICogLy8gPT4gWzMsIDIsIDEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoLTQpO1xuICAgICAqIC8vID0+IFstMywgLTIsIC0xLCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDEsIDUpO1xuICAgICAqIC8vID0+IFs0LCAzLCAyLCAxXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIDIwLCA1KTtcbiAgICAgKiAvLyA9PiBbMTUsIDEwLCA1LCAwXVxuICAgICAqXG4gICAgICogXy5yYW5nZVJpZ2h0KDAsIC00LCAtMSk7XG4gICAgICogLy8gPT4gWy0zLCAtMiwgLTEsIDBdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMSwgNCwgMCk7XG4gICAgICogLy8gPT4gWzEsIDEsIDFdXG4gICAgICpcbiAgICAgKiBfLnJhbmdlUmlnaHQoMCk7XG4gICAgICogLy8gPT4gW11cbiAgICAgKi9cbiAgICB2YXIgcmFuZ2VSaWdodCA9IGNyZWF0ZVJhbmdlKHRydWUpO1xuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjEzLjBcbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEByZXR1cm5zIHtBcnJheX0gUmV0dXJucyB0aGUgbmV3IGVtcHR5IGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgYXJyYXlzID0gXy50aW1lcygyLCBfLnN0dWJBcnJheSk7XG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXMpO1xuICAgICAqIC8vID0+IFtbXSwgW11dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhhcnJheXNbMF0gPT09IGFycmF5c1sxXSk7XG4gICAgICogLy8gPT4gZmFsc2VcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViQXJyYXkoKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgZmFsc2VgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMTMuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IFJldHVybnMgYGZhbHNlYC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy50aW1lcygyLCBfLnN0dWJGYWxzZSk7XG4gICAgICogLy8gPT4gW2ZhbHNlLCBmYWxzZV1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBzdHViRmFsc2UoKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhIG5ldyBlbXB0eSBvYmplY3QuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7T2JqZWN0fSBSZXR1cm5zIHRoZSBuZXcgZW1wdHkgb2JqZWN0LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IF8udGltZXMoMiwgXy5zdHViT2JqZWN0KTtcbiAgICAgKlxuICAgICAqIGNvbnNvbGUubG9nKG9iamVjdHMpO1xuICAgICAqIC8vID0+IFt7fSwge31dXG4gICAgICpcbiAgICAgKiBjb25zb2xlLmxvZyhvYmplY3RzWzBdID09PSBvYmplY3RzWzFdKTtcbiAgICAgKiAvLyA9PiBmYWxzZVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJPYmplY3QoKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBhbiBlbXB0eSBzdHJpbmcuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSBlbXB0eSBzdHJpbmcuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViU3RyaW5nKTtcbiAgICAgKiAvLyA9PiBbJycsICcnXVxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN0dWJTdHJpbmcoKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgcmV0dXJucyBgdHJ1ZWAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC4xMy4wXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gUmV0dXJucyBgdHJ1ZWAuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udGltZXMoMiwgXy5zdHViVHJ1ZSk7XG4gICAgICogLy8gPT4gW3RydWUsIHRydWVdXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3R1YlRydWUoKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbnZva2VzIHRoZSBpdGVyYXRlZSBgbmAgdGltZXMsIHJldHVybmluZyBhbiBhcnJheSBvZiB0aGUgcmVzdWx0cyBvZlxuICAgICAqIGVhY2ggaW52b2NhdGlvbi4gVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ7IChpbmRleCkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgVXRpbFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBuIFRoZSBudW1iZXIgb2YgdGltZXMgdG8gaW52b2tlIGBpdGVyYXRlZWAuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBmdW5jdGlvbiBpbnZva2VkIHBlciBpdGVyYXRpb24uXG4gICAgICogQHJldHVybnMge0FycmF5fSBSZXR1cm5zIHRoZSBhcnJheSBvZiByZXN1bHRzLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRpbWVzKDMsIFN0cmluZyk7XG4gICAgICogLy8gPT4gWycwJywgJzEnLCAnMiddXG4gICAgICpcbiAgICAgKiAgXy50aW1lcyg0LCBfLmNvbnN0YW50KDApKTtcbiAgICAgKiAvLyA9PiBbMCwgMCwgMCwgMF1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aW1lcyhuLCBpdGVyYXRlZSkge1xuICAgICAgbiA9IHRvSW50ZWdlcihuKTtcbiAgICAgIGlmIChuIDwgMSB8fCBuID4gTUFYX1NBRkVfSU5URUdFUikge1xuICAgICAgICByZXR1cm4gW107XG4gICAgICB9XG4gICAgICB2YXIgaW5kZXggPSBNQVhfQVJSQVlfTEVOR1RILFxuICAgICAgICAgIGxlbmd0aCA9IG5hdGl2ZU1pbihuLCBNQVhfQVJSQVlfTEVOR1RIKTtcblxuICAgICAgaXRlcmF0ZWUgPSBnZXRJdGVyYXRlZShpdGVyYXRlZSk7XG4gICAgICBuIC09IE1BWF9BUlJBWV9MRU5HVEg7XG5cbiAgICAgIHZhciByZXN1bHQgPSBiYXNlVGltZXMobGVuZ3RoLCBpdGVyYXRlZSk7XG4gICAgICB3aGlsZSAoKytpbmRleCA8IG4pIHtcbiAgICAgICAgaXRlcmF0ZWUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDb252ZXJ0cyBgdmFsdWVgIHRvIGEgcHJvcGVydHkgcGF0aCBhcnJheS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBVdGlsXG4gICAgICogQHBhcmFtIHsqfSB2YWx1ZSBUaGUgdmFsdWUgdG8gY29udmVydC5cbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IFJldHVybnMgdGhlIG5ldyBwcm9wZXJ0eSBwYXRoIGFycmF5LlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnRvUGF0aCgnYS5iLmMnKTtcbiAgICAgKiAvLyA9PiBbJ2EnLCAnYicsICdjJ11cbiAgICAgKlxuICAgICAqIF8udG9QYXRoKCdhWzBdLmIuYycpO1xuICAgICAqIC8vID0+IFsnYScsICcwJywgJ2InLCAnYyddXG4gICAgICovXG4gICAgZnVuY3Rpb24gdG9QYXRoKHZhbHVlKSB7XG4gICAgICBpZiAoaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIGFycmF5TWFwKHZhbHVlLCB0b0tleSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gaXNTeW1ib2wodmFsdWUpID8gW3ZhbHVlXSA6IGNvcHlBcnJheShzdHJpbmdUb1BhdGgodG9TdHJpbmcodmFsdWUpKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGEgdW5pcXVlIElELiBJZiBgcHJlZml4YCBpcyBnaXZlbiwgdGhlIElEIGlzIGFwcGVuZGVkIHRvIGl0LlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBzaW5jZSAwLjEuMFxuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQGNhdGVnb3J5IFV0aWxcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gW3ByZWZpeD0nJ10gVGhlIHZhbHVlIHRvIHByZWZpeCB0aGUgSUQgd2l0aC5cbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSBSZXR1cm5zIHRoZSB1bmlxdWUgSUQuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8udW5pcXVlSWQoJ2NvbnRhY3RfJyk7XG4gICAgICogLy8gPT4gJ2NvbnRhY3RfMTA0J1xuICAgICAqXG4gICAgICogXy51bmlxdWVJZCgpO1xuICAgICAqIC8vID0+ICcxMDUnXG4gICAgICovXG4gICAgZnVuY3Rpb24gdW5pcXVlSWQocHJlZml4KSB7XG4gICAgICB2YXIgaWQgPSArK2lkQ291bnRlcjtcbiAgICAgIHJldHVybiB0b1N0cmluZyhwcmVmaXgpICsgaWQ7XG4gICAgfVxuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLyoqXG4gICAgICogQWRkcyB0d28gbnVtYmVycy5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSAzLjQuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGF1Z2VuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGFuIGFkZGl0aW9uLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBhZGRlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYW4gYWRkaXRpb24uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgdG90YWwuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uYWRkKDYsIDQpO1xuICAgICAqIC8vID0+IDEwXG4gICAgICovXG4gICAgdmFyIGFkZCA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oYXVnZW5kLCBhZGRlbmQpIHtcbiAgICAgIHJldHVybiBhdWdlbmQgKyBhZGRlbmQ7XG4gICAgfSwgMCk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHVwIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kIHVwLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdXAgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCB1cCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8uY2VpbCg0LjAwNik7XG4gICAgICogLy8gPT4gNVxuICAgICAqXG4gICAgICogXy5jZWlsKDYuMDA0LCAyKTtcbiAgICAgKiAvLyA9PiA2LjAxXG4gICAgICpcbiAgICAgKiBfLmNlaWwoNjA0MCwgLTIpO1xuICAgICAqIC8vID0+IDYxMDBcbiAgICAgKi9cbiAgICB2YXIgY2VpbCA9IGNyZWF0ZVJvdW5kKCdjZWlsJyk7XG5cbiAgICAvKipcbiAgICAgKiBEaXZpZGUgdHdvIG51bWJlcnMuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBkaXZpZGVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgZGl2aXNpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGRpdmlzb3IgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBkaXZpc2lvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBxdW90aWVudC5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5kaXZpZGUoNiwgNCk7XG4gICAgICogLy8gPT4gMS41XG4gICAgICovXG4gICAgdmFyIGRpdmlkZSA9IGNyZWF0ZU1hdGhPcGVyYXRpb24oZnVuY3Rpb24oZGl2aWRlbmQsIGRpdmlzb3IpIHtcbiAgICAgIHJldHVybiBkaXZpZGVuZCAvIGRpdmlzb3I7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIGRvd24gdG8gYHByZWNpc2lvbmAuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgMy4xMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbnVtYmVyIFRoZSBudW1iZXIgdG8gcm91bmQgZG93bi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW3ByZWNpc2lvbj0wXSBUaGUgcHJlY2lzaW9uIHRvIHJvdW5kIGRvd24gdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBkb3duIG51bWJlci5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5mbG9vcig0LjAwNik7XG4gICAgICogLy8gPT4gNFxuICAgICAqXG4gICAgICogXy5mbG9vcigwLjA0NiwgMik7XG4gICAgICogLy8gPT4gMC4wNFxuICAgICAqXG4gICAgICogXy5mbG9vcig0MDYwLCAtMik7XG4gICAgICogLy8gPT4gNDAwMFxuICAgICAqL1xuICAgIHZhciBmbG9vciA9IGNyZWF0ZVJvdW5kKCdmbG9vcicpO1xuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1heGltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1heGltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWF4KFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gOFxuICAgICAqXG4gICAgICogXy5tYXgoW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1heChhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUd0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1heGAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWF4aW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1heEJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDIgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5tYXhCeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAyIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtYXhCeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlR3QpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBtZWFuIG9mIHRoZSB2YWx1ZXMgaW4gYGFycmF5YC5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBtZWFuLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLm1lYW4oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICovXG4gICAgZnVuY3Rpb24gbWVhbihhcnJheSkge1xuICAgICAgcmV0dXJuIGJhc2VNZWFuKGFycmF5LCBpZGVudGl0eSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVGhpcyBtZXRob2QgaXMgbGlrZSBgXy5tZWFuYCBleGNlcHQgdGhhdCBpdCBhY2NlcHRzIGBpdGVyYXRlZWAgd2hpY2ggaXNcbiAgICAgKiBpbnZva2VkIGZvciBlYWNoIGVsZW1lbnQgaW4gYGFycmF5YCB0byBnZW5lcmF0ZSB0aGUgdmFsdWUgdG8gYmUgYXZlcmFnZWQuXG4gICAgICogVGhlIGl0ZXJhdGVlIGlzIGludm9rZWQgd2l0aCBvbmUgYXJndW1lbnQ6ICh2YWx1ZSkuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAc2luY2UgNC43LjBcbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHBhcmFtIHtGdW5jdGlvbn0gW2l0ZXJhdGVlPV8uaWRlbnRpdHldIFRoZSBpdGVyYXRlZSBpbnZva2VkIHBlciBlbGVtZW50LlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIG1lYW4uXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIHZhciBvYmplY3RzID0gW3sgJ24nOiA0IH0sIHsgJ24nOiAyIH0sIHsgJ24nOiA4IH0sIHsgJ24nOiA2IH1dO1xuICAgICAqXG4gICAgICogXy5tZWFuQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiA1XG4gICAgICpcbiAgICAgKiAvLyBUaGUgYF8ucHJvcGVydHlgIGl0ZXJhdGVlIHNob3J0aGFuZC5cbiAgICAgKiBfLm1lYW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDVcbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtZWFuQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gYmFzZU1lYW4oYXJyYXksIGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAyKSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ29tcHV0ZXMgdGhlIG1pbmltdW0gdmFsdWUgb2YgYGFycmF5YC4gSWYgYGFycmF5YCBpcyBlbXB0eSBvciBmYWxzZXksXG4gICAgICogYHVuZGVmaW5lZGAgaXMgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQHNpbmNlIDAuMS4wXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAY2F0ZWdvcnkgTWF0aFxuICAgICAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG4gICAgICogQHJldHVybnMgeyp9IFJldHVybnMgdGhlIG1pbmltdW0gdmFsdWUuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubWluKFs0LCAyLCA4LCA2XSk7XG4gICAgICogLy8gPT4gMlxuICAgICAqXG4gICAgICogXy5taW4oW10pO1xuICAgICAqIC8vID0+IHVuZGVmaW5lZFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIG1pbihhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZUV4dHJlbXVtKGFycmF5LCBpZGVudGl0eSwgYmFzZUx0KVxuICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLm1pbmAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIGNyaXRlcmlvbiBieSB3aGljaFxuICAgICAqIHRoZSB2YWx1ZSBpcyByYW5rZWQuIFRoZSBpdGVyYXRlZSBpcyBpbnZva2VkIHdpdGggb25lIGFyZ3VtZW50OiAodmFsdWUpLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEBwYXJhbSB7RnVuY3Rpb259IFtpdGVyYXRlZT1fLmlkZW50aXR5XSBUaGUgaXRlcmF0ZWUgaW52b2tlZCBwZXIgZWxlbWVudC5cbiAgICAgKiBAcmV0dXJucyB7Kn0gUmV0dXJucyB0aGUgbWluaW11bSB2YWx1ZS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogdmFyIG9iamVjdHMgPSBbeyAnbic6IDEgfSwgeyAnbic6IDIgfV07XG4gICAgICpcbiAgICAgKiBfLm1pbkJ5KG9iamVjdHMsIGZ1bmN0aW9uKG8pIHsgcmV0dXJuIG8ubjsgfSk7XG4gICAgICogLy8gPT4geyAnbic6IDEgfVxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5taW5CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IHsgJ24nOiAxIH1cbiAgICAgKi9cbiAgICBmdW5jdGlvbiBtaW5CeShhcnJheSwgaXRlcmF0ZWUpIHtcbiAgICAgIHJldHVybiAoYXJyYXkgJiYgYXJyYXkubGVuZ3RoKVxuICAgICAgICA/IGJhc2VFeHRyZW11bShhcnJheSwgZ2V0SXRlcmF0ZWUoaXRlcmF0ZWUsIDIpLCBiYXNlTHQpXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIE11bHRpcGx5IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuNy4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbXVsdGlwbGllciBUaGUgZmlyc3QgbnVtYmVyIGluIGEgbXVsdGlwbGljYXRpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG11bHRpcGxpY2FuZCBUaGUgc2Vjb25kIG51bWJlciBpbiBhIG11bHRpcGxpY2F0aW9uLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHByb2R1Y3QuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ubXVsdGlwbHkoNiwgNCk7XG4gICAgICogLy8gPT4gMjRcbiAgICAgKi9cbiAgICB2YXIgbXVsdGlwbHkgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG11bHRpcGxpZXIsIG11bHRpcGxpY2FuZCkge1xuICAgICAgcmV0dXJuIG11bHRpcGxpZXIgKiBtdWx0aXBsaWNhbmQ7XG4gICAgfSwgMSk7XG5cbiAgICAvKipcbiAgICAgKiBDb21wdXRlcyBgbnVtYmVyYCByb3VuZGVkIHRvIGBwcmVjaXNpb25gLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuMTAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IG51bWJlciBUaGUgbnVtYmVyIHRvIHJvdW5kLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbcHJlY2lzaW9uPTBdIFRoZSBwcmVjaXNpb24gdG8gcm91bmQgdG8uXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgcm91bmRlZCBudW1iZXIuXG4gICAgICogQGV4YW1wbGVcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYpO1xuICAgICAqIC8vID0+IDRcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNC4wMDYsIDIpO1xuICAgICAqIC8vID0+IDQuMDFcbiAgICAgKlxuICAgICAqIF8ucm91bmQoNDA2MCwgLTIpO1xuICAgICAqIC8vID0+IDQxMDBcbiAgICAgKi9cbiAgICB2YXIgcm91bmQgPSBjcmVhdGVSb3VuZCgncm91bmQnKTtcblxuICAgIC8qKlxuICAgICAqIFN1YnRyYWN0IHR3byBudW1iZXJzLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDQuMC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gbWludWVuZCBUaGUgZmlyc3QgbnVtYmVyIGluIGEgc3VidHJhY3Rpb24uXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN1YnRyYWhlbmQgVGhlIHNlY29uZCBudW1iZXIgaW4gYSBzdWJ0cmFjdGlvbi5cbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSBSZXR1cm5zIHRoZSBkaWZmZXJlbmNlLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiBfLnN1YnRyYWN0KDYsIDQpO1xuICAgICAqIC8vID0+IDJcbiAgICAgKi9cbiAgICB2YXIgc3VidHJhY3QgPSBjcmVhdGVNYXRoT3BlcmF0aW9uKGZ1bmN0aW9uKG1pbnVlbmQsIHN1YnRyYWhlbmQpIHtcbiAgICAgIHJldHVybiBtaW51ZW5kIC0gc3VidHJhaGVuZDtcbiAgICB9LCAwKTtcblxuICAgIC8qKlxuICAgICAqIENvbXB1dGVzIHRoZSBzdW0gb2YgdGhlIHZhbHVlcyBpbiBgYXJyYXlgLlxuICAgICAqXG4gICAgICogQHN0YXRpY1xuICAgICAqIEBtZW1iZXJPZiBfXG4gICAgICogQHNpbmNlIDMuNC4wXG4gICAgICogQGNhdGVnb3J5IE1hdGhcbiAgICAgKiBAcGFyYW0ge0FycmF5fSBhcnJheSBUaGUgYXJyYXkgdG8gaXRlcmF0ZSBvdmVyLlxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IFJldHVybnMgdGhlIHN1bS5cbiAgICAgKiBAZXhhbXBsZVxuICAgICAqXG4gICAgICogXy5zdW0oWzQsIDIsIDgsIDZdKTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHN1bShhcnJheSkge1xuICAgICAgcmV0dXJuIChhcnJheSAmJiBhcnJheS5sZW5ndGgpXG4gICAgICAgID8gYmFzZVN1bShhcnJheSwgaWRlbnRpdHkpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUaGlzIG1ldGhvZCBpcyBsaWtlIGBfLnN1bWAgZXhjZXB0IHRoYXQgaXQgYWNjZXB0cyBgaXRlcmF0ZWVgIHdoaWNoIGlzXG4gICAgICogaW52b2tlZCBmb3IgZWFjaCBlbGVtZW50IGluIGBhcnJheWAgdG8gZ2VuZXJhdGUgdGhlIHZhbHVlIHRvIGJlIHN1bW1lZC5cbiAgICAgKiBUaGUgaXRlcmF0ZWUgaXMgaW52b2tlZCB3aXRoIG9uZSBhcmd1bWVudDogKHZhbHVlKS5cbiAgICAgKlxuICAgICAqIEBzdGF0aWNcbiAgICAgKiBAbWVtYmVyT2YgX1xuICAgICAqIEBzaW5jZSA0LjAuMFxuICAgICAqIEBjYXRlZ29yeSBNYXRoXG4gICAgICogQHBhcmFtIHtBcnJheX0gYXJyYXkgVGhlIGFycmF5IHRvIGl0ZXJhdGUgb3Zlci5cbiAgICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBbaXRlcmF0ZWU9Xy5pZGVudGl0eV0gVGhlIGl0ZXJhdGVlIGludm9rZWQgcGVyIGVsZW1lbnQuXG4gICAgICogQHJldHVybnMge251bWJlcn0gUmV0dXJucyB0aGUgc3VtLlxuICAgICAqIEBleGFtcGxlXG4gICAgICpcbiAgICAgKiB2YXIgb2JqZWN0cyA9IFt7ICduJzogNCB9LCB7ICduJzogMiB9LCB7ICduJzogOCB9LCB7ICduJzogNiB9XTtcbiAgICAgKlxuICAgICAqIF8uc3VtQnkob2JqZWN0cywgZnVuY3Rpb24obykgeyByZXR1cm4gby5uOyB9KTtcbiAgICAgKiAvLyA9PiAyMFxuICAgICAqXG4gICAgICogLy8gVGhlIGBfLnByb3BlcnR5YCBpdGVyYXRlZSBzaG9ydGhhbmQuXG4gICAgICogXy5zdW1CeShvYmplY3RzLCAnbicpO1xuICAgICAqIC8vID0+IDIwXG4gICAgICovXG4gICAgZnVuY3Rpb24gc3VtQnkoYXJyYXksIGl0ZXJhdGVlKSB7XG4gICAgICByZXR1cm4gKGFycmF5ICYmIGFycmF5Lmxlbmd0aClcbiAgICAgICAgPyBiYXNlU3VtKGFycmF5LCBnZXRJdGVyYXRlZShpdGVyYXRlZSwgMikpXG4gICAgICAgIDogMDtcbiAgICB9XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0aGF0IHJldHVybiB3cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFmdGVyID0gYWZ0ZXI7XG4gICAgbG9kYXNoLmFyeSA9IGFyeTtcbiAgICBsb2Rhc2guYXNzaWduID0gYXNzaWduO1xuICAgIGxvZGFzaC5hc3NpZ25JbiA9IGFzc2lnbkluO1xuICAgIGxvZGFzaC5hc3NpZ25JbldpdGggPSBhc3NpZ25JbldpdGg7XG4gICAgbG9kYXNoLmFzc2lnbldpdGggPSBhc3NpZ25XaXRoO1xuICAgIGxvZGFzaC5hdCA9IGF0O1xuICAgIGxvZGFzaC5iZWZvcmUgPSBiZWZvcmU7XG4gICAgbG9kYXNoLmJpbmQgPSBiaW5kO1xuICAgIGxvZGFzaC5iaW5kQWxsID0gYmluZEFsbDtcbiAgICBsb2Rhc2guYmluZEtleSA9IGJpbmRLZXk7XG4gICAgbG9kYXNoLmNhc3RBcnJheSA9IGNhc3RBcnJheTtcbiAgICBsb2Rhc2guY2hhaW4gPSBjaGFpbjtcbiAgICBsb2Rhc2guY2h1bmsgPSBjaHVuaztcbiAgICBsb2Rhc2guY29tcGFjdCA9IGNvbXBhY3Q7XG4gICAgbG9kYXNoLmNvbmNhdCA9IGNvbmNhdDtcbiAgICBsb2Rhc2guY29uZCA9IGNvbmQ7XG4gICAgbG9kYXNoLmNvbmZvcm1zID0gY29uZm9ybXM7XG4gICAgbG9kYXNoLmNvbnN0YW50ID0gY29uc3RhbnQ7XG4gICAgbG9kYXNoLmNvdW50QnkgPSBjb3VudEJ5O1xuICAgIGxvZGFzaC5jcmVhdGUgPSBjcmVhdGU7XG4gICAgbG9kYXNoLmN1cnJ5ID0gY3Vycnk7XG4gICAgbG9kYXNoLmN1cnJ5UmlnaHQgPSBjdXJyeVJpZ2h0O1xuICAgIGxvZGFzaC5kZWJvdW5jZSA9IGRlYm91bmNlO1xuICAgIGxvZGFzaC5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIGxvZGFzaC5kZWZhdWx0c0RlZXAgPSBkZWZhdWx0c0RlZXA7XG4gICAgbG9kYXNoLmRlZmVyID0gZGVmZXI7XG4gICAgbG9kYXNoLmRlbGF5ID0gZGVsYXk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2UgPSBkaWZmZXJlbmNlO1xuICAgIGxvZGFzaC5kaWZmZXJlbmNlQnkgPSBkaWZmZXJlbmNlQnk7XG4gICAgbG9kYXNoLmRpZmZlcmVuY2VXaXRoID0gZGlmZmVyZW5jZVdpdGg7XG4gICAgbG9kYXNoLmRyb3AgPSBkcm9wO1xuICAgIGxvZGFzaC5kcm9wUmlnaHQgPSBkcm9wUmlnaHQ7XG4gICAgbG9kYXNoLmRyb3BSaWdodFdoaWxlID0gZHJvcFJpZ2h0V2hpbGU7XG4gICAgbG9kYXNoLmRyb3BXaGlsZSA9IGRyb3BXaGlsZTtcbiAgICBsb2Rhc2guZmlsbCA9IGZpbGw7XG4gICAgbG9kYXNoLmZpbHRlciA9IGZpbHRlcjtcbiAgICBsb2Rhc2guZmxhdE1hcCA9IGZsYXRNYXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZWVwID0gZmxhdE1hcERlZXA7XG4gICAgbG9kYXNoLmZsYXRNYXBEZXB0aCA9IGZsYXRNYXBEZXB0aDtcbiAgICBsb2Rhc2guZmxhdHRlbiA9IGZsYXR0ZW47XG4gICAgbG9kYXNoLmZsYXR0ZW5EZWVwID0gZmxhdHRlbkRlZXA7XG4gICAgbG9kYXNoLmZsYXR0ZW5EZXB0aCA9IGZsYXR0ZW5EZXB0aDtcbiAgICBsb2Rhc2guZmxpcCA9IGZsaXA7XG4gICAgbG9kYXNoLmZsb3cgPSBmbG93O1xuICAgIGxvZGFzaC5mbG93UmlnaHQgPSBmbG93UmlnaHQ7XG4gICAgbG9kYXNoLmZyb21QYWlycyA9IGZyb21QYWlycztcbiAgICBsb2Rhc2guZnVuY3Rpb25zID0gZnVuY3Rpb25zO1xuICAgIGxvZGFzaC5mdW5jdGlvbnNJbiA9IGZ1bmN0aW9uc0luO1xuICAgIGxvZGFzaC5ncm91cEJ5ID0gZ3JvdXBCeTtcbiAgICBsb2Rhc2guaW5pdGlhbCA9IGluaXRpYWw7XG4gICAgbG9kYXNoLmludGVyc2VjdGlvbiA9IGludGVyc2VjdGlvbjtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uQnkgPSBpbnRlcnNlY3Rpb25CeTtcbiAgICBsb2Rhc2guaW50ZXJzZWN0aW9uV2l0aCA9IGludGVyc2VjdGlvbldpdGg7XG4gICAgbG9kYXNoLmludmVydCA9IGludmVydDtcbiAgICBsb2Rhc2guaW52ZXJ0QnkgPSBpbnZlcnRCeTtcbiAgICBsb2Rhc2guaW52b2tlTWFwID0gaW52b2tlTWFwO1xuICAgIGxvZGFzaC5pdGVyYXRlZSA9IGl0ZXJhdGVlO1xuICAgIGxvZGFzaC5rZXlCeSA9IGtleUJ5O1xuICAgIGxvZGFzaC5rZXlzID0ga2V5cztcbiAgICBsb2Rhc2gua2V5c0luID0ga2V5c0luO1xuICAgIGxvZGFzaC5tYXAgPSBtYXA7XG4gICAgbG9kYXNoLm1hcEtleXMgPSBtYXBLZXlzO1xuICAgIGxvZGFzaC5tYXBWYWx1ZXMgPSBtYXBWYWx1ZXM7XG4gICAgbG9kYXNoLm1hdGNoZXMgPSBtYXRjaGVzO1xuICAgIGxvZGFzaC5tYXRjaGVzUHJvcGVydHkgPSBtYXRjaGVzUHJvcGVydHk7XG4gICAgbG9kYXNoLm1lbW9pemUgPSBtZW1vaXplO1xuICAgIGxvZGFzaC5tZXJnZSA9IG1lcmdlO1xuICAgIGxvZGFzaC5tZXJnZVdpdGggPSBtZXJnZVdpdGg7XG4gICAgbG9kYXNoLm1ldGhvZCA9IG1ldGhvZDtcbiAgICBsb2Rhc2gubWV0aG9kT2YgPSBtZXRob2RPZjtcbiAgICBsb2Rhc2gubWl4aW4gPSBtaXhpbjtcbiAgICBsb2Rhc2gubmVnYXRlID0gbmVnYXRlO1xuICAgIGxvZGFzaC5udGhBcmcgPSBudGhBcmc7XG4gICAgbG9kYXNoLm9taXQgPSBvbWl0O1xuICAgIGxvZGFzaC5vbWl0QnkgPSBvbWl0Qnk7XG4gICAgbG9kYXNoLm9uY2UgPSBvbmNlO1xuICAgIGxvZGFzaC5vcmRlckJ5ID0gb3JkZXJCeTtcbiAgICBsb2Rhc2gub3ZlciA9IG92ZXI7XG4gICAgbG9kYXNoLm92ZXJBcmdzID0gb3ZlckFyZ3M7XG4gICAgbG9kYXNoLm92ZXJFdmVyeSA9IG92ZXJFdmVyeTtcbiAgICBsb2Rhc2gub3ZlclNvbWUgPSBvdmVyU29tZTtcbiAgICBsb2Rhc2gucGFydGlhbCA9IHBhcnRpYWw7XG4gICAgbG9kYXNoLnBhcnRpYWxSaWdodCA9IHBhcnRpYWxSaWdodDtcbiAgICBsb2Rhc2gucGFydGl0aW9uID0gcGFydGl0aW9uO1xuICAgIGxvZGFzaC5waWNrID0gcGljaztcbiAgICBsb2Rhc2gucGlja0J5ID0gcGlja0J5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eSA9IHByb3BlcnR5O1xuICAgIGxvZGFzaC5wcm9wZXJ0eU9mID0gcHJvcGVydHlPZjtcbiAgICBsb2Rhc2gucHVsbCA9IHB1bGw7XG4gICAgbG9kYXNoLnB1bGxBbGwgPSBwdWxsQWxsO1xuICAgIGxvZGFzaC5wdWxsQWxsQnkgPSBwdWxsQWxsQnk7XG4gICAgbG9kYXNoLnB1bGxBbGxXaXRoID0gcHVsbEFsbFdpdGg7XG4gICAgbG9kYXNoLnB1bGxBdCA9IHB1bGxBdDtcbiAgICBsb2Rhc2gucmFuZ2UgPSByYW5nZTtcbiAgICBsb2Rhc2gucmFuZ2VSaWdodCA9IHJhbmdlUmlnaHQ7XG4gICAgbG9kYXNoLnJlYXJnID0gcmVhcmc7XG4gICAgbG9kYXNoLnJlamVjdCA9IHJlamVjdDtcbiAgICBsb2Rhc2gucmVtb3ZlID0gcmVtb3ZlO1xuICAgIGxvZGFzaC5yZXN0ID0gcmVzdDtcbiAgICBsb2Rhc2gucmV2ZXJzZSA9IHJldmVyc2U7XG4gICAgbG9kYXNoLnNhbXBsZVNpemUgPSBzYW1wbGVTaXplO1xuICAgIGxvZGFzaC5zZXQgPSBzZXQ7XG4gICAgbG9kYXNoLnNldFdpdGggPSBzZXRXaXRoO1xuICAgIGxvZGFzaC5zaHVmZmxlID0gc2h1ZmZsZTtcbiAgICBsb2Rhc2guc2xpY2UgPSBzbGljZTtcbiAgICBsb2Rhc2guc29ydEJ5ID0gc29ydEJ5O1xuICAgIGxvZGFzaC5zb3J0ZWRVbmlxID0gc29ydGVkVW5pcTtcbiAgICBsb2Rhc2guc29ydGVkVW5pcUJ5ID0gc29ydGVkVW5pcUJ5O1xuICAgIGxvZGFzaC5zcGxpdCA9IHNwbGl0O1xuICAgIGxvZGFzaC5zcHJlYWQgPSBzcHJlYWQ7XG4gICAgbG9kYXNoLnRhaWwgPSB0YWlsO1xuICAgIGxvZGFzaC50YWtlID0gdGFrZTtcbiAgICBsb2Rhc2gudGFrZVJpZ2h0ID0gdGFrZVJpZ2h0O1xuICAgIGxvZGFzaC50YWtlUmlnaHRXaGlsZSA9IHRha2VSaWdodFdoaWxlO1xuICAgIGxvZGFzaC50YWtlV2hpbGUgPSB0YWtlV2hpbGU7XG4gICAgbG9kYXNoLnRhcCA9IHRhcDtcbiAgICBsb2Rhc2gudGhyb3R0bGUgPSB0aHJvdHRsZTtcbiAgICBsb2Rhc2gudGhydSA9IHRocnU7XG4gICAgbG9kYXNoLnRvQXJyYXkgPSB0b0FycmF5O1xuICAgIGxvZGFzaC50b1BhaXJzID0gdG9QYWlycztcbiAgICBsb2Rhc2gudG9QYWlyc0luID0gdG9QYWlyc0luO1xuICAgIGxvZGFzaC50b1BhdGggPSB0b1BhdGg7XG4gICAgbG9kYXNoLnRvUGxhaW5PYmplY3QgPSB0b1BsYWluT2JqZWN0O1xuICAgIGxvZGFzaC50cmFuc2Zvcm0gPSB0cmFuc2Zvcm07XG4gICAgbG9kYXNoLnVuYXJ5ID0gdW5hcnk7XG4gICAgbG9kYXNoLnVuaW9uID0gdW5pb247XG4gICAgbG9kYXNoLnVuaW9uQnkgPSB1bmlvbkJ5O1xuICAgIGxvZGFzaC51bmlvbldpdGggPSB1bmlvbldpdGg7XG4gICAgbG9kYXNoLnVuaXEgPSB1bmlxO1xuICAgIGxvZGFzaC51bmlxQnkgPSB1bmlxQnk7XG4gICAgbG9kYXNoLnVuaXFXaXRoID0gdW5pcVdpdGg7XG4gICAgbG9kYXNoLnVuc2V0ID0gdW5zZXQ7XG4gICAgbG9kYXNoLnVuemlwID0gdW56aXA7XG4gICAgbG9kYXNoLnVuemlwV2l0aCA9IHVuemlwV2l0aDtcbiAgICBsb2Rhc2gudXBkYXRlID0gdXBkYXRlO1xuICAgIGxvZGFzaC51cGRhdGVXaXRoID0gdXBkYXRlV2l0aDtcbiAgICBsb2Rhc2gudmFsdWVzID0gdmFsdWVzO1xuICAgIGxvZGFzaC52YWx1ZXNJbiA9IHZhbHVlc0luO1xuICAgIGxvZGFzaC53aXRob3V0ID0gd2l0aG91dDtcbiAgICBsb2Rhc2gud29yZHMgPSB3b3JkcztcbiAgICBsb2Rhc2gud3JhcCA9IHdyYXA7XG4gICAgbG9kYXNoLnhvciA9IHhvcjtcbiAgICBsb2Rhc2gueG9yQnkgPSB4b3JCeTtcbiAgICBsb2Rhc2gueG9yV2l0aCA9IHhvcldpdGg7XG4gICAgbG9kYXNoLnppcCA9IHppcDtcbiAgICBsb2Rhc2guemlwT2JqZWN0ID0gemlwT2JqZWN0O1xuICAgIGxvZGFzaC56aXBPYmplY3REZWVwID0gemlwT2JqZWN0RGVlcDtcbiAgICBsb2Rhc2guemlwV2l0aCA9IHppcFdpdGg7XG5cbiAgICAvLyBBZGQgYWxpYXNlcy5cbiAgICBsb2Rhc2guZW50cmllcyA9IHRvUGFpcnM7XG4gICAgbG9kYXNoLmVudHJpZXNJbiA9IHRvUGFpcnNJbjtcbiAgICBsb2Rhc2guZXh0ZW5kID0gYXNzaWduSW47XG4gICAgbG9kYXNoLmV4dGVuZFdpdGggPSBhc3NpZ25JbldpdGg7XG5cbiAgICAvLyBBZGQgbWV0aG9kcyB0byBgbG9kYXNoLnByb3RvdHlwZWAuXG4gICAgbWl4aW4obG9kYXNoLCBsb2Rhc2gpO1xuXG4gICAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0qL1xuXG4gICAgLy8gQWRkIG1ldGhvZHMgdGhhdCByZXR1cm4gdW53cmFwcGVkIHZhbHVlcyBpbiBjaGFpbiBzZXF1ZW5jZXMuXG4gICAgbG9kYXNoLmFkZCA9IGFkZDtcbiAgICBsb2Rhc2guYXR0ZW1wdCA9IGF0dGVtcHQ7XG4gICAgbG9kYXNoLmNhbWVsQ2FzZSA9IGNhbWVsQ2FzZTtcbiAgICBsb2Rhc2guY2FwaXRhbGl6ZSA9IGNhcGl0YWxpemU7XG4gICAgbG9kYXNoLmNlaWwgPSBjZWlsO1xuICAgIGxvZGFzaC5jbGFtcCA9IGNsYW1wO1xuICAgIGxvZGFzaC5jbG9uZSA9IGNsb25lO1xuICAgIGxvZGFzaC5jbG9uZURlZXAgPSBjbG9uZURlZXA7XG4gICAgbG9kYXNoLmNsb25lRGVlcFdpdGggPSBjbG9uZURlZXBXaXRoO1xuICAgIGxvZGFzaC5jbG9uZVdpdGggPSBjbG9uZVdpdGg7XG4gICAgbG9kYXNoLmNvbmZvcm1zVG8gPSBjb25mb3Jtc1RvO1xuICAgIGxvZGFzaC5kZWJ1cnIgPSBkZWJ1cnI7XG4gICAgbG9kYXNoLmRlZmF1bHRUbyA9IGRlZmF1bHRUbztcbiAgICBsb2Rhc2guZGl2aWRlID0gZGl2aWRlO1xuICAgIGxvZGFzaC5lbmRzV2l0aCA9IGVuZHNXaXRoO1xuICAgIGxvZGFzaC5lcSA9IGVxO1xuICAgIGxvZGFzaC5lc2NhcGUgPSBlc2NhcGU7XG4gICAgbG9kYXNoLmVzY2FwZVJlZ0V4cCA9IGVzY2FwZVJlZ0V4cDtcbiAgICBsb2Rhc2guZXZlcnkgPSBldmVyeTtcbiAgICBsb2Rhc2guZmluZCA9IGZpbmQ7XG4gICAgbG9kYXNoLmZpbmRJbmRleCA9IGZpbmRJbmRleDtcbiAgICBsb2Rhc2guZmluZEtleSA9IGZpbmRLZXk7XG4gICAgbG9kYXNoLmZpbmRMYXN0ID0gZmluZExhc3Q7XG4gICAgbG9kYXNoLmZpbmRMYXN0SW5kZXggPSBmaW5kTGFzdEluZGV4O1xuICAgIGxvZGFzaC5maW5kTGFzdEtleSA9IGZpbmRMYXN0S2V5O1xuICAgIGxvZGFzaC5mbG9vciA9IGZsb29yO1xuICAgIGxvZGFzaC5mb3JFYWNoID0gZm9yRWFjaDtcbiAgICBsb2Rhc2guZm9yRWFjaFJpZ2h0ID0gZm9yRWFjaFJpZ2h0O1xuICAgIGxvZGFzaC5mb3JJbiA9IGZvckluO1xuICAgIGxvZGFzaC5mb3JJblJpZ2h0ID0gZm9ySW5SaWdodDtcbiAgICBsb2Rhc2guZm9yT3duID0gZm9yT3duO1xuICAgIGxvZGFzaC5mb3JPd25SaWdodCA9IGZvck93blJpZ2h0O1xuICAgIGxvZGFzaC5nZXQgPSBnZXQ7XG4gICAgbG9kYXNoLmd0ID0gZ3Q7XG4gICAgbG9kYXNoLmd0ZSA9IGd0ZTtcbiAgICBsb2Rhc2guaGFzID0gaGFzO1xuICAgIGxvZGFzaC5oYXNJbiA9IGhhc0luO1xuICAgIGxvZGFzaC5oZWFkID0gaGVhZDtcbiAgICBsb2Rhc2guaWRlbnRpdHkgPSBpZGVudGl0eTtcbiAgICBsb2Rhc2guaW5jbHVkZXMgPSBpbmNsdWRlcztcbiAgICBsb2Rhc2guaW5kZXhPZiA9IGluZGV4T2Y7XG4gICAgbG9kYXNoLmluUmFuZ2UgPSBpblJhbmdlO1xuICAgIGxvZGFzaC5pbnZva2UgPSBpbnZva2U7XG4gICAgbG9kYXNoLmlzQXJndW1lbnRzID0gaXNBcmd1bWVudHM7XG4gICAgbG9kYXNoLmlzQXJyYXkgPSBpc0FycmF5O1xuICAgIGxvZGFzaC5pc0FycmF5QnVmZmVyID0gaXNBcnJheUJ1ZmZlcjtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2UgPSBpc0FycmF5TGlrZTtcbiAgICBsb2Rhc2guaXNBcnJheUxpa2VPYmplY3QgPSBpc0FycmF5TGlrZU9iamVjdDtcbiAgICBsb2Rhc2guaXNCb29sZWFuID0gaXNCb29sZWFuO1xuICAgIGxvZGFzaC5pc0J1ZmZlciA9IGlzQnVmZmVyO1xuICAgIGxvZGFzaC5pc0RhdGUgPSBpc0RhdGU7XG4gICAgbG9kYXNoLmlzRWxlbWVudCA9IGlzRWxlbWVudDtcbiAgICBsb2Rhc2guaXNFbXB0eSA9IGlzRW1wdHk7XG4gICAgbG9kYXNoLmlzRXF1YWwgPSBpc0VxdWFsO1xuICAgIGxvZGFzaC5pc0VxdWFsV2l0aCA9IGlzRXF1YWxXaXRoO1xuICAgIGxvZGFzaC5pc0Vycm9yID0gaXNFcnJvcjtcbiAgICBsb2Rhc2guaXNGaW5pdGUgPSBpc0Zpbml0ZTtcbiAgICBsb2Rhc2guaXNGdW5jdGlvbiA9IGlzRnVuY3Rpb247XG4gICAgbG9kYXNoLmlzSW50ZWdlciA9IGlzSW50ZWdlcjtcbiAgICBsb2Rhc2guaXNMZW5ndGggPSBpc0xlbmd0aDtcbiAgICBsb2Rhc2guaXNNYXAgPSBpc01hcDtcbiAgICBsb2Rhc2guaXNNYXRjaCA9IGlzTWF0Y2g7XG4gICAgbG9kYXNoLmlzTWF0Y2hXaXRoID0gaXNNYXRjaFdpdGg7XG4gICAgbG9kYXNoLmlzTmFOID0gaXNOYU47XG4gICAgbG9kYXNoLmlzTmF0aXZlID0gaXNOYXRpdmU7XG4gICAgbG9kYXNoLmlzTmlsID0gaXNOaWw7XG4gICAgbG9kYXNoLmlzTnVsbCA9IGlzTnVsbDtcbiAgICBsb2Rhc2guaXNOdW1iZXIgPSBpc051bWJlcjtcbiAgICBsb2Rhc2guaXNPYmplY3QgPSBpc09iamVjdDtcbiAgICBsb2Rhc2guaXNPYmplY3RMaWtlID0gaXNPYmplY3RMaWtlO1xuICAgIGxvZGFzaC5pc1BsYWluT2JqZWN0ID0gaXNQbGFpbk9iamVjdDtcbiAgICBsb2Rhc2guaXNSZWdFeHAgPSBpc1JlZ0V4cDtcbiAgICBsb2Rhc2guaXNTYWZlSW50ZWdlciA9IGlzU2FmZUludGVnZXI7XG4gICAgbG9kYXNoLmlzU2V0ID0gaXNTZXQ7XG4gICAgbG9kYXNoLmlzU3RyaW5nID0gaXNTdHJpbmc7XG4gICAgbG9kYXNoLmlzU3ltYm9sID0gaXNTeW1ib2w7XG4gICAgbG9kYXNoLmlzVHlwZWRBcnJheSA9IGlzVHlwZWRBcnJheTtcbiAgICBsb2Rhc2guaXNVbmRlZmluZWQgPSBpc1VuZGVmaW5lZDtcbiAgICBsb2Rhc2guaXNXZWFrTWFwID0gaXNXZWFrTWFwO1xuICAgIGxvZGFzaC5pc1dlYWtTZXQgPSBpc1dlYWtTZXQ7XG4gICAgbG9kYXNoLmpvaW4gPSBqb2luO1xuICAgIGxvZGFzaC5rZWJhYkNhc2UgPSBrZWJhYkNhc2U7XG4gICAgbG9kYXNoLmxhc3QgPSBsYXN0O1xuICAgIGxvZGFzaC5sYXN0SW5kZXhPZiA9IGxhc3RJbmRleE9mO1xuICAgIGxvZGFzaC5sb3dlckNhc2UgPSBsb3dlckNhc2U7XG4gICAgbG9kYXNoLmxvd2VyRmlyc3QgPSBsb3dlckZpcnN0O1xuICAgIGxvZGFzaC5sdCA9IGx0O1xuICAgIGxvZGFzaC5sdGUgPSBsdGU7XG4gICAgbG9kYXNoLm1heCA9IG1heDtcbiAgICBsb2Rhc2gubWF4QnkgPSBtYXhCeTtcbiAgICBsb2Rhc2gubWVhbiA9IG1lYW47XG4gICAgbG9kYXNoLm1lYW5CeSA9IG1lYW5CeTtcbiAgICBsb2Rhc2gubWluID0gbWluO1xuICAgIGxvZGFzaC5taW5CeSA9IG1pbkJ5O1xuICAgIGxvZGFzaC5zdHViQXJyYXkgPSBzdHViQXJyYXk7XG4gICAgbG9kYXNoLnN0dWJGYWxzZSA9IHN0dWJGYWxzZTtcbiAgICBsb2Rhc2guc3R1Yk9iamVjdCA9IHN0dWJPYmplY3Q7XG4gICAgbG9kYXNoLnN0dWJTdHJpbmcgPSBzdHViU3RyaW5nO1xuICAgIGxvZGFzaC5zdHViVHJ1ZSA9IHN0dWJUcnVlO1xuICAgIGxvZGFzaC5tdWx0aXBseSA9IG11bHRpcGx5O1xuICAgIGxvZGFzaC5udGggPSBudGg7XG4gICAgbG9kYXNoLm5vQ29uZmxpY3QgPSBub0NvbmZsaWN0O1xuICAgIGxvZGFzaC5ub29wID0gbm9vcDtcbiAgICBsb2Rhc2gubm93ID0gbm93O1xuICAgIGxvZGFzaC5wYWQgPSBwYWQ7XG4gICAgbG9kYXNoLnBhZEVuZCA9IHBhZEVuZDtcbiAgICBsb2Rhc2gucGFkU3RhcnQgPSBwYWRTdGFydDtcbiAgICBsb2Rhc2gucGFyc2VJbnQgPSBwYXJzZUludDtcbiAgICBsb2Rhc2gucmFuZG9tID0gcmFuZG9tO1xuICAgIGxvZGFzaC5yZWR1Y2UgPSByZWR1Y2U7XG4gICAgbG9kYXNoLnJlZHVjZVJpZ2h0ID0gcmVkdWNlUmlnaHQ7XG4gICAgbG9kYXNoLnJlcGVhdCA9IHJlcGVhdDtcbiAgICBsb2Rhc2gucmVwbGFjZSA9IHJlcGxhY2U7XG4gICAgbG9kYXNoLnJlc3VsdCA9IHJlc3VsdDtcbiAgICBsb2Rhc2gucm91bmQgPSByb3VuZDtcbiAgICBsb2Rhc2gucnVuSW5Db250ZXh0ID0gcnVuSW5Db250ZXh0O1xuICAgIGxvZGFzaC5zYW1wbGUgPSBzYW1wbGU7XG4gICAgbG9kYXNoLnNpemUgPSBzaXplO1xuICAgIGxvZGFzaC5zbmFrZUNhc2UgPSBzbmFrZUNhc2U7XG4gICAgbG9kYXNoLnNvbWUgPSBzb21lO1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleCA9IHNvcnRlZEluZGV4O1xuICAgIGxvZGFzaC5zb3J0ZWRJbmRleEJ5ID0gc29ydGVkSW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkSW5kZXhPZiA9IHNvcnRlZEluZGV4T2Y7XG4gICAgbG9kYXNoLnNvcnRlZExhc3RJbmRleCA9IHNvcnRlZExhc3RJbmRleDtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4QnkgPSBzb3J0ZWRMYXN0SW5kZXhCeTtcbiAgICBsb2Rhc2guc29ydGVkTGFzdEluZGV4T2YgPSBzb3J0ZWRMYXN0SW5kZXhPZjtcbiAgICBsb2Rhc2guc3RhcnRDYXNlID0gc3RhcnRDYXNlO1xuICAgIGxvZGFzaC5zdGFydHNXaXRoID0gc3RhcnRzV2l0aDtcbiAgICBsb2Rhc2guc3VidHJhY3QgPSBzdWJ0cmFjdDtcbiAgICBsb2Rhc2guc3VtID0gc3VtO1xuICAgIGxvZGFzaC5zdW1CeSA9IHN1bUJ5O1xuICAgIGxvZGFzaC50ZW1wbGF0ZSA9IHRlbXBsYXRlO1xuICAgIGxvZGFzaC50aW1lcyA9IHRpbWVzO1xuICAgIGxvZGFzaC50b0Zpbml0ZSA9IHRvRmluaXRlO1xuICAgIGxvZGFzaC50b0ludGVnZXIgPSB0b0ludGVnZXI7XG4gICAgbG9kYXNoLnRvTGVuZ3RoID0gdG9MZW5ndGg7XG4gICAgbG9kYXNoLnRvTG93ZXIgPSB0b0xvd2VyO1xuICAgIGxvZGFzaC50b051bWJlciA9IHRvTnVtYmVyO1xuICAgIGxvZGFzaC50b1NhZmVJbnRlZ2VyID0gdG9TYWZlSW50ZWdlcjtcbiAgICBsb2Rhc2gudG9TdHJpbmcgPSB0b1N0cmluZztcbiAgICBsb2Rhc2gudG9VcHBlciA9IHRvVXBwZXI7XG4gICAgbG9kYXNoLnRyaW0gPSB0cmltO1xuICAgIGxvZGFzaC50cmltRW5kID0gdHJpbUVuZDtcbiAgICBsb2Rhc2gudHJpbVN0YXJ0ID0gdHJpbVN0YXJ0O1xuICAgIGxvZGFzaC50cnVuY2F0ZSA9IHRydW5jYXRlO1xuICAgIGxvZGFzaC51bmVzY2FwZSA9IHVuZXNjYXBlO1xuICAgIGxvZGFzaC51bmlxdWVJZCA9IHVuaXF1ZUlkO1xuICAgIGxvZGFzaC51cHBlckNhc2UgPSB1cHBlckNhc2U7XG4gICAgbG9kYXNoLnVwcGVyRmlyc3QgPSB1cHBlckZpcnN0O1xuXG4gICAgLy8gQWRkIGFsaWFzZXMuXG4gICAgbG9kYXNoLmVhY2ggPSBmb3JFYWNoO1xuICAgIGxvZGFzaC5lYWNoUmlnaHQgPSBmb3JFYWNoUmlnaHQ7XG4gICAgbG9kYXNoLmZpcnN0ID0gaGVhZDtcblxuICAgIG1peGluKGxvZGFzaCwgKGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIHNvdXJjZSA9IHt9O1xuICAgICAgYmFzZUZvck93bihsb2Rhc2gsIGZ1bmN0aW9uKGZ1bmMsIG1ldGhvZE5hbWUpIHtcbiAgICAgICAgaWYgKCFoYXNPd25Qcm9wZXJ0eS5jYWxsKGxvZGFzaC5wcm90b3R5cGUsIG1ldGhvZE5hbWUpKSB7XG4gICAgICAgICAgc291cmNlW21ldGhvZE5hbWVdID0gZnVuYztcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gc291cmNlO1xuICAgIH0oKSksIHsgJ2NoYWluJzogZmFsc2UgfSk7XG5cbiAgICAvKi0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgICAvKipcbiAgICAgKiBUaGUgc2VtYW50aWMgdmVyc2lvbiBudW1iZXIuXG4gICAgICpcbiAgICAgKiBAc3RhdGljXG4gICAgICogQG1lbWJlck9mIF9cbiAgICAgKiBAdHlwZSB7c3RyaW5nfVxuICAgICAqL1xuICAgIGxvZGFzaC5WRVJTSU9OID0gVkVSU0lPTjtcblxuICAgIC8vIEFzc2lnbiBkZWZhdWx0IHBsYWNlaG9sZGVycy5cbiAgICBhcnJheUVhY2goWydiaW5kJywgJ2JpbmRLZXknLCAnY3VycnknLCAnY3VycnlSaWdodCcsICdwYXJ0aWFsJywgJ3BhcnRpYWxSaWdodCddLCBmdW5jdGlvbihtZXRob2ROYW1lKSB7XG4gICAgICBsb2Rhc2hbbWV0aG9kTmFtZV0ucGxhY2Vob2xkZXIgPSBsb2Rhc2g7XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5kcm9wYCBhbmQgYF8udGFrZWAgdmFyaWFudHMuXG4gICAgYXJyYXlFYWNoKFsnZHJvcCcsICd0YWtlJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbihuKSB7XG4gICAgICAgIG4gPSBuID09PSB1bmRlZmluZWQgPyAxIDogbmF0aXZlTWF4KHRvSW50ZWdlcihuKSwgMCk7XG5cbiAgICAgICAgdmFyIHJlc3VsdCA9ICh0aGlzLl9fZmlsdGVyZWRfXyAmJiAhaW5kZXgpXG4gICAgICAgICAgPyBuZXcgTGF6eVdyYXBwZXIodGhpcylcbiAgICAgICAgICA6IHRoaXMuY2xvbmUoKTtcblxuICAgICAgICBpZiAocmVzdWx0Ll9fZmlsdGVyZWRfXykge1xuICAgICAgICAgIHJlc3VsdC5fX3Rha2VDb3VudF9fID0gbmF0aXZlTWluKG4sIHJlc3VsdC5fX3Rha2VDb3VudF9fKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXN1bHQuX192aWV3c19fLnB1c2goe1xuICAgICAgICAgICAgJ3NpemUnOiBuYXRpdmVNaW4obiwgTUFYX0FSUkFZX0xFTkdUSCksXG4gICAgICAgICAgICAndHlwZSc6IG1ldGhvZE5hbWUgKyAocmVzdWx0Ll9fZGlyX18gPCAwID8gJ1JpZ2h0JyA6ICcnKVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICB9O1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZSArICdSaWdodCddID0gZnVuY3Rpb24obikge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXZlcnNlKClbbWV0aG9kTmFtZV0obikucmV2ZXJzZSgpO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgdGhhdCBhY2NlcHQgYW4gYGl0ZXJhdGVlYCB2YWx1ZS5cbiAgICBhcnJheUVhY2goWydmaWx0ZXInLCAnbWFwJywgJ3Rha2VXaGlsZSddLCBmdW5jdGlvbihtZXRob2ROYW1lLCBpbmRleCkge1xuICAgICAgdmFyIHR5cGUgPSBpbmRleCArIDEsXG4gICAgICAgICAgaXNGaWx0ZXIgPSB0eXBlID09IExBWllfRklMVEVSX0ZMQUcgfHwgdHlwZSA9PSBMQVpZX1dISUxFX0ZMQUc7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKGl0ZXJhdGVlKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0aGlzLmNsb25lKCk7XG4gICAgICAgIHJlc3VsdC5fX2l0ZXJhdGVlc19fLnB1c2goe1xuICAgICAgICAgICdpdGVyYXRlZSc6IGdldEl0ZXJhdGVlKGl0ZXJhdGVlLCAzKSxcbiAgICAgICAgICAndHlwZSc6IHR5cGVcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5fX2ZpbHRlcmVkX18gPSByZXN1bHQuX19maWx0ZXJlZF9fIHx8IGlzRmlsdGVyO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgTGF6eVdyYXBwZXJgIG1ldGhvZHMgZm9yIGBfLmhlYWRgIGFuZCBgXy5sYXN0YC5cbiAgICBhcnJheUVhY2goWydoZWFkJywgJ2xhc3QnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciB0YWtlTmFtZSA9ICd0YWtlJyArIChpbmRleCA/ICdSaWdodCcgOiAnJyk7XG5cbiAgICAgIExhenlXcmFwcGVyLnByb3RvdHlwZVttZXRob2ROYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpc1t0YWtlTmFtZV0oMSkudmFsdWUoKVswXTtcbiAgICAgIH07XG4gICAgfSk7XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIGZvciBgXy5pbml0aWFsYCBhbmQgYF8udGFpbGAuXG4gICAgYXJyYXlFYWNoKFsnaW5pdGlhbCcsICd0YWlsJ10sIGZ1bmN0aW9uKG1ldGhvZE5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgZHJvcE5hbWUgPSAnZHJvcCcgKyAoaW5kZXggPyAnJyA6ICdSaWdodCcpO1xuXG4gICAgICBMYXp5V3JhcHBlci5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX19maWx0ZXJlZF9fID8gbmV3IExhenlXcmFwcGVyKHRoaXMpIDogdGhpc1tkcm9wTmFtZV0oMSk7XG4gICAgICB9O1xuICAgIH0pO1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNvbXBhY3QgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiB0aGlzLmZpbHRlcihpZGVudGl0eSk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIocHJlZGljYXRlKS5oZWFkKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5maW5kTGFzdCA9IGZ1bmN0aW9uKHByZWRpY2F0ZSkge1xuICAgICAgcmV0dXJuIHRoaXMucmV2ZXJzZSgpLmZpbmQocHJlZGljYXRlKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmludm9rZU1hcCA9IGJhc2VSZXN0KGZ1bmN0aW9uKHBhdGgsIGFyZ3MpIHtcbiAgICAgIGlmICh0eXBlb2YgcGF0aCA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgcmV0dXJuIGJhc2VJbnZva2UodmFsdWUsIHBhdGgsIGFyZ3MpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUucmVqZWN0ID0gZnVuY3Rpb24ocHJlZGljYXRlKSB7XG4gICAgICByZXR1cm4gdGhpcy5maWx0ZXIobmVnYXRlKGdldEl0ZXJhdGVlKHByZWRpY2F0ZSkpKTtcbiAgICB9O1xuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnNsaWNlID0gZnVuY3Rpb24oc3RhcnQsIGVuZCkge1xuICAgICAgc3RhcnQgPSB0b0ludGVnZXIoc3RhcnQpO1xuXG4gICAgICB2YXIgcmVzdWx0ID0gdGhpcztcbiAgICAgIGlmIChyZXN1bHQuX19maWx0ZXJlZF9fICYmIChzdGFydCA+IDAgfHwgZW5kIDwgMCkpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBMYXp5V3JhcHBlcihyZXN1bHQpO1xuICAgICAgfVxuICAgICAgaWYgKHN0YXJ0IDwgMCkge1xuICAgICAgICByZXN1bHQgPSByZXN1bHQudGFrZVJpZ2h0KC1zdGFydCk7XG4gICAgICB9IGVsc2UgaWYgKHN0YXJ0KSB7XG4gICAgICAgIHJlc3VsdCA9IHJlc3VsdC5kcm9wKHN0YXJ0KTtcbiAgICAgIH1cbiAgICAgIGlmIChlbmQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBlbmQgPSB0b0ludGVnZXIoZW5kKTtcbiAgICAgICAgcmVzdWx0ID0gZW5kIDwgMCA/IHJlc3VsdC5kcm9wUmlnaHQoLWVuZCkgOiByZXN1bHQudGFrZShlbmQgLSBzdGFydCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG5cbiAgICBMYXp5V3JhcHBlci5wcm90b3R5cGUudGFrZVJpZ2h0V2hpbGUgPSBmdW5jdGlvbihwcmVkaWNhdGUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJldmVyc2UoKS50YWtlV2hpbGUocHJlZGljYXRlKS5yZXZlcnNlKCk7XG4gICAgfTtcblxuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS50b0FycmF5ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50YWtlKE1BWF9BUlJBWV9MRU5HVEgpO1xuICAgIH07XG5cbiAgICAvLyBBZGQgYExhenlXcmFwcGVyYCBtZXRob2RzIHRvIGBsb2Rhc2gucHJvdG90eXBlYC5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGNoZWNrSXRlcmF0ZWUgPSAvXig/OmZpbHRlcnxmaW5kfG1hcHxyZWplY3QpfFdoaWxlJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBpc1Rha2VyID0gL14oPzpoZWFkfGxhc3QpJC8udGVzdChtZXRob2ROYW1lKSxcbiAgICAgICAgICBsb2Rhc2hGdW5jID0gbG9kYXNoW2lzVGFrZXIgPyAoJ3Rha2UnICsgKG1ldGhvZE5hbWUgPT0gJ2xhc3QnID8gJ1JpZ2h0JyA6ICcnKSkgOiBtZXRob2ROYW1lXSxcbiAgICAgICAgICByZXRVbndyYXBwZWQgPSBpc1Rha2VyIHx8IC9eZmluZC8udGVzdChtZXRob2ROYW1lKTtcblxuICAgICAgaWYgKCFsb2Rhc2hGdW5jKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIHZhbHVlID0gdGhpcy5fX3dyYXBwZWRfXyxcbiAgICAgICAgICAgIGFyZ3MgPSBpc1Rha2VyID8gWzFdIDogYXJndW1lbnRzLFxuICAgICAgICAgICAgaXNMYXp5ID0gdmFsdWUgaW5zdGFuY2VvZiBMYXp5V3JhcHBlcixcbiAgICAgICAgICAgIGl0ZXJhdGVlID0gYXJnc1swXSxcbiAgICAgICAgICAgIHVzZUxhenkgPSBpc0xhenkgfHwgaXNBcnJheSh2YWx1ZSk7XG5cbiAgICAgICAgdmFyIGludGVyY2VwdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgICAgICB2YXIgcmVzdWx0ID0gbG9kYXNoRnVuYy5hcHBseShsb2Rhc2gsIGFycmF5UHVzaChbdmFsdWVdLCBhcmdzKSk7XG4gICAgICAgICAgcmV0dXJuIChpc1Rha2VyICYmIGNoYWluQWxsKSA/IHJlc3VsdFswXSA6IHJlc3VsdDtcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAodXNlTGF6eSAmJiBjaGVja0l0ZXJhdGVlICYmIHR5cGVvZiBpdGVyYXRlZSA9PSAnZnVuY3Rpb24nICYmIGl0ZXJhdGVlLmxlbmd0aCAhPSAxKSB7XG4gICAgICAgICAgLy8gQXZvaWQgbGF6eSB1c2UgaWYgdGhlIGl0ZXJhdGVlIGhhcyBhIFwibGVuZ3RoXCIgdmFsdWUgb3RoZXIgdGhhbiBgMWAuXG4gICAgICAgICAgaXNMYXp5ID0gdXNlTGF6eSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHZhciBjaGFpbkFsbCA9IHRoaXMuX19jaGFpbl9fLFxuICAgICAgICAgICAgaXNIeWJyaWQgPSAhIXRoaXMuX19hY3Rpb25zX18ubGVuZ3RoLFxuICAgICAgICAgICAgaXNVbndyYXBwZWQgPSByZXRVbndyYXBwZWQgJiYgIWNoYWluQWxsLFxuICAgICAgICAgICAgb25seUxhenkgPSBpc0xhenkgJiYgIWlzSHlicmlkO1xuXG4gICAgICAgIGlmICghcmV0VW53cmFwcGVkICYmIHVzZUxhenkpIHtcbiAgICAgICAgICB2YWx1ZSA9IG9ubHlMYXp5ID8gdmFsdWUgOiBuZXcgTGF6eVdyYXBwZXIodGhpcyk7XG4gICAgICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkodmFsdWUsIGFyZ3MpO1xuICAgICAgICAgIHJlc3VsdC5fX2FjdGlvbnNfXy5wdXNoKHsgJ2Z1bmMnOiB0aHJ1LCAnYXJncyc6IFtpbnRlcmNlcHRvcl0sICd0aGlzQXJnJzogdW5kZWZpbmVkIH0pO1xuICAgICAgICAgIHJldHVybiBuZXcgTG9kYXNoV3JhcHBlcihyZXN1bHQsIGNoYWluQWxsKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNVbndyYXBwZWQgJiYgb25seUxhenkpIHtcbiAgICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSB0aGlzLnRocnUoaW50ZXJjZXB0b3IpO1xuICAgICAgICByZXR1cm4gaXNVbndyYXBwZWQgPyAoaXNUYWtlciA/IHJlc3VsdC52YWx1ZSgpWzBdIDogcmVzdWx0LnZhbHVlKCkpIDogcmVzdWx0O1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIEFkZCBgQXJyYXlgIG1ldGhvZHMgdG8gYGxvZGFzaC5wcm90b3R5cGVgLlxuICAgIGFycmF5RWFjaChbJ3BvcCcsICdwdXNoJywgJ3NoaWZ0JywgJ3NvcnQnLCAnc3BsaWNlJywgJ3Vuc2hpZnQnXSwgZnVuY3Rpb24obWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBhcnJheVByb3RvW21ldGhvZE5hbWVdLFxuICAgICAgICAgIGNoYWluTmFtZSA9IC9eKD86cHVzaHxzb3J0fHVuc2hpZnQpJC8udGVzdChtZXRob2ROYW1lKSA/ICd0YXAnIDogJ3RocnUnLFxuICAgICAgICAgIHJldFVud3JhcHBlZCA9IC9eKD86cG9wfHNoaWZ0KSQvLnRlc3QobWV0aG9kTmFtZSk7XG5cbiAgICAgIGxvZGFzaC5wcm90b3R5cGVbbWV0aG9kTmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBhcmd1bWVudHM7XG4gICAgICAgIGlmIChyZXRVbndyYXBwZWQgJiYgIXRoaXMuX19jaGFpbl9fKSB7XG4gICAgICAgICAgdmFyIHZhbHVlID0gdGhpcy52YWx1ZSgpO1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXNbY2hhaW5OYW1lXShmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgICAgIHJldHVybiBmdW5jLmFwcGx5KGlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbXSwgYXJncyk7XG4gICAgICAgIH0pO1xuICAgICAgfTtcbiAgICB9KTtcblxuICAgIC8vIE1hcCBtaW5pZmllZCBtZXRob2QgbmFtZXMgdG8gdGhlaXIgcmVhbCBuYW1lcy5cbiAgICBiYXNlRm9yT3duKExhenlXcmFwcGVyLnByb3RvdHlwZSwgZnVuY3Rpb24oZnVuYywgbWV0aG9kTmFtZSkge1xuICAgICAgdmFyIGxvZGFzaEZ1bmMgPSBsb2Rhc2hbbWV0aG9kTmFtZV07XG4gICAgICBpZiAobG9kYXNoRnVuYykge1xuICAgICAgICB2YXIga2V5ID0gbG9kYXNoRnVuYy5uYW1lICsgJyc7XG4gICAgICAgIGlmICghaGFzT3duUHJvcGVydHkuY2FsbChyZWFsTmFtZXMsIGtleSkpIHtcbiAgICAgICAgICByZWFsTmFtZXNba2V5XSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJlYWxOYW1lc1trZXldLnB1c2goeyAnbmFtZSc6IG1ldGhvZE5hbWUsICdmdW5jJzogbG9kYXNoRnVuYyB9KTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIHJlYWxOYW1lc1tjcmVhdGVIeWJyaWQodW5kZWZpbmVkLCBXUkFQX0JJTkRfS0VZX0ZMQUcpLm5hbWVdID0gW3tcbiAgICAgICduYW1lJzogJ3dyYXBwZXInLFxuICAgICAgJ2Z1bmMnOiB1bmRlZmluZWRcbiAgICB9XTtcblxuICAgIC8vIEFkZCBtZXRob2RzIHRvIGBMYXp5V3JhcHBlcmAuXG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLmNsb25lID0gbGF6eUNsb25lO1xuICAgIExhenlXcmFwcGVyLnByb3RvdHlwZS5yZXZlcnNlID0gbGF6eVJldmVyc2U7XG4gICAgTGF6eVdyYXBwZXIucHJvdG90eXBlLnZhbHVlID0gbGF6eVZhbHVlO1xuXG4gICAgLy8gQWRkIGNoYWluIHNlcXVlbmNlIG1ldGhvZHMgdG8gdGhlIGBsb2Rhc2hgIHdyYXBwZXIuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5hdCA9IHdyYXBwZXJBdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLmNoYWluID0gd3JhcHBlckNoYWluO1xuICAgIGxvZGFzaC5wcm90b3R5cGUuY29tbWl0ID0gd3JhcHBlckNvbW1pdDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLm5leHQgPSB3cmFwcGVyTmV4dDtcbiAgICBsb2Rhc2gucHJvdG90eXBlLnBsYW50ID0gd3JhcHBlclBsYW50O1xuICAgIGxvZGFzaC5wcm90b3R5cGUucmV2ZXJzZSA9IHdyYXBwZXJSZXZlcnNlO1xuICAgIGxvZGFzaC5wcm90b3R5cGUudG9KU09OID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZU9mID0gbG9kYXNoLnByb3RvdHlwZS52YWx1ZSA9IHdyYXBwZXJWYWx1ZTtcblxuICAgIC8vIEFkZCBsYXp5IGFsaWFzZXMuXG4gICAgbG9kYXNoLnByb3RvdHlwZS5maXJzdCA9IGxvZGFzaC5wcm90b3R5cGUuaGVhZDtcblxuICAgIGlmIChzeW1JdGVyYXRvcikge1xuICAgICAgbG9kYXNoLnByb3RvdHlwZVtzeW1JdGVyYXRvcl0gPSB3cmFwcGVyVG9JdGVyYXRvcjtcbiAgICB9XG4gICAgcmV0dXJuIGxvZGFzaDtcbiAgfSk7XG5cbiAgLyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cbiAgLy8gRXhwb3J0IGxvZGFzaC5cbiAgdmFyIF8gPSBydW5JbkNvbnRleHQoKTtcblxuICAvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBjb25kaXRpb24gcGF0dGVybnMgbGlrZTpcbiAgaWYgKHR5cGVvZiBkZWZpbmUgPT0gJ2Z1bmN0aW9uJyAmJiB0eXBlb2YgZGVmaW5lLmFtZCA9PSAnb2JqZWN0JyAmJiBkZWZpbmUuYW1kKSB7XG4gICAgLy8gRXhwb3NlIExvZGFzaCBvbiB0aGUgZ2xvYmFsIG9iamVjdCB0byBwcmV2ZW50IGVycm9ycyB3aGVuIExvZGFzaCBpc1xuICAgIC8vIGxvYWRlZCBieSBhIHNjcmlwdCB0YWcgaW4gdGhlIHByZXNlbmNlIG9mIGFuIEFNRCBsb2FkZXIuXG4gICAgLy8gU2VlIGh0dHA6Ly9yZXF1aXJlanMub3JnL2RvY3MvZXJyb3JzLmh0bWwjbWlzbWF0Y2ggZm9yIG1vcmUgZGV0YWlscy5cbiAgICAvLyBVc2UgYF8ubm9Db25mbGljdGAgdG8gcmVtb3ZlIExvZGFzaCBmcm9tIHRoZSBnbG9iYWwgb2JqZWN0LlxuICAgIHJvb3QuXyA9IF87XG5cbiAgICAvLyBEZWZpbmUgYXMgYW4gYW5vbnltb3VzIG1vZHVsZSBzbywgdGhyb3VnaCBwYXRoIG1hcHBpbmcsIGl0IGNhbiBiZVxuICAgIC8vIHJlZmVyZW5jZWQgYXMgdGhlIFwidW5kZXJzY29yZVwiIG1vZHVsZS5cbiAgICBkZWZpbmUoZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gXztcbiAgICB9KTtcbiAgfVxuICAvLyBDaGVjayBmb3IgYGV4cG9ydHNgIGFmdGVyIGBkZWZpbmVgIGluIGNhc2UgYSBidWlsZCBvcHRpbWl6ZXIgYWRkcyBpdC5cbiAgZWxzZSBpZiAoZnJlZU1vZHVsZSkge1xuICAgIC8vIEV4cG9ydCBmb3IgTm9kZS5qcy5cbiAgICAoZnJlZU1vZHVsZS5leHBvcnRzID0gXykuXyA9IF87XG4gICAgLy8gRXhwb3J0IGZvciBDb21tb25KUyBzdXBwb3J0LlxuICAgIGZyZWVFeHBvcnRzLl8gPSBfO1xuICB9XG4gIGVsc2Uge1xuICAgIC8vIEV4cG9ydCB0byB0aGUgZ2xvYmFsIG9iamVjdC5cbiAgICByb290Ll8gPSBfO1xuICB9XG59LmNhbGwodGhpcykpO1xuIiwiXG5cbmV4cG9ydCBjb25zdCB1cGxvYWRBcmVhSFRNTCA9IFxuICBgPGRpdiBpZD1cImRvY3VtZW50LXVwbG9hZC1jb250YWluZXJcIj5cblxuICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9jb250YWluZXJcIj5cbiAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9hcmVhXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJpbml0aWFsX3VwbG9hZF9tZXNzYWdlXCI+VXBsb2FkIEZpbGVzPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgICBcbiAgICA8ZGl2IGlkPVwidXBsb2FkaW5nX2NvbnRhaW5lclwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZpbGVfY29udGFpbmVyXCIgaWQ9XCJ1bnBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5VbnBhaXJlZCBEb2N1bWVudHM8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZmlsZXNfY29udGFpbmVyXCI+XG5cbiAgICAgICAgICA8ZGl2IGlkPVwibWVpX2NvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1FSTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGVfbGlzdFwiIGlkPVwibWVpX2xpc3RcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgIDxkaXYgaWQ9XCJpbWFnZV9jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2hlYWRpbmdcIj5JbWFnZXM8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2xpc3RcIiBpZD1cImltYWdlX2xpc3RcIj48L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8ZGl2IGlkPVwiZ2VuZXJhdGUtcGFpci1idXR0b24tY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImFjdGlvbl9idXR0b25cIiBpZD1cIm1ha2VfcGFpclwiPk1ha2UgUGFpcjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwiZmlsZV9jb250YWluZXJcIiBpZD1cInBhaXJlZF9jb250YWluZXJcIj5cblxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS1jb250YWluZXItdGl0bGVcIj5QYWlyZWQgRm9saW9zPC9kaXY+XG4gICAgICAgIFxuICAgICAgICA8ZGl2IGNsYXNzPVwidGlsZV9saXN0XCIgaWQ9XCJwYWlyZWRfbGlzdFwiPjwvZGl2PlxuXG4gICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRfYnV0dG9uX2NvbnRhaW5lclwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb25fYnV0dG9uXCIgaWQ9XCJ1cGxvYWRfYnV0dG9uXCI+XG4gICAgICAgICAgICBVcGxvYWRcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ1cGxvYWRpbmdfc3Bpbm5lclwiPuKGuzwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS1cbiAgICAgIDxkaXYgY2xhc3M9XCJmaWxlX2NvbnRhaW5lclwiIGlkPVwibWFudXNjcmlwdHNfY29udGFpbmVyXCI+XG4gICAgICAgIDxoMiBjbGFzcz1cImZpbGVfaGVhZGluZ1wiPk1hbnVzY3JpcHRzPC9oMj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRpbGVfbGlzdFwiIGlkPVwibWFudXNjcmlwdF9saXN0XCI+PC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIC0tPlxuXG4gICAgPC9kaXY+XG4gIDwvZGl2PmA7IiwiLyoqIEBtb2R1bGUgV2FybmluZ3MgKi9cblxuLyoqXG4gKiBXYXJuIHdoZW4gZ3JvdXBlZCBuZXVtZSBjb21wb25lbnRzIGZvcm0gYW4gdW5yZWNvZ25pemVkIG5ldW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ3JvdXBpbmdOb3RSZWNvZ25pemVkICgpOiB2b2lkIHtcbiAgaWYgKCEod2luZG93LmNvbmZpcm0oJ05lb24gZG9lcyBub3QgcmVjb2duaXplIHRoaXMgbmV1bWUgZ3JvdXBpbmcuIFdvdWxkIHlvdSBsaWtlIHRvIGNyZWF0ZSBhIGNvbXBvdW5kIG5ldW1lPycpKSkge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvJykuY2xpY2soKTtcbiAgfVxufVxuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgU3BsaXRBY3Rpb24gfSBmcm9tICcuLi9UeXBlcyc7XG5pbXBvcnQgeyBzZWxlY3RBbGwgfSBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgRHJhZ0hhbmRsZXIgZnJvbSAnLi4vdXRpbHMvRHJhZ0hhbmRsZXInO1xuaW1wb3J0IHsgZ2V0U1ZHUmVsQ29vcmRzIH0gZnJvbSAnLi4vdXRpbHMvQ29vcmRpbmF0ZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIHN0YWZmIGludG8gdHdvIHN0YXZlcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXRTdGFmZkhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IHN0YWZmOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIHN0YWZmIC0gVGhlIHN0YWZmIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHN0YWZmOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLnN0YWZmID0gc3RhZmY7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFdoZXJlIHRvIFNwbGl0Jyk7XG4gIH1cblxuICBzcGxpdERpc2FibGUgKCk6IHZvaWQge1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgfVxuXG4gIC8qKiBIYW5kbGUgaW5wdXQgdG8gc3BsaXQgYSBzdGFmZi4gKi9cbiAgaGFuZGxlciA9ICgoZXZ0OiBNb3VzZUV2ZW50KTogdm9pZCA9PiB7XG4gICAgLy8gRmluZCBzdGFmZiBwb2ludCBjb3JyZXNwb25kcyB0byBpZiBvbmUgZXhpc3RzXG4gICAgLy8gVE9ET1xuICAgIGNvbnN0IGlkID0gdGhpcy5zdGFmZi5pZDtcbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0QWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnc3BsaXQnLFxuICAgICAgcGFyYW06IHtcbiAgICAgICAgZWxlbWVudElkOiBpZCxcbiAgICAgICAgeDogY3Vyc29yLnhcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfVxuICAgICAgY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5zdGFmZicpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcihgIyR7aWR9YCldLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG5cbiAgICAgIGNvbnN0IG1vcmVFZGl0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0Jyk7XG4gICAgICBpZiAobW9yZUVkaXQpIHtcbiAgICAgICAgbW9yZUVkaXQuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIG1vcmVFZGl0LnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXRzIHNwbGl0IG9uIEVzY2FwZSBwcmVzcywgZGlzYWJsZXMgb24gU2hpZnQuICovXG4gIGtleWRvd25MaXN0ZW5lciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLnNwbGl0RGlzYWJsZSgpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlciwgeyBjYXB0dXJlOiB0cnVlIH0pO1xuICAgIH1cbiAgfSkuYmluZCh0aGlzKTtcblxuICAvKiogRXhpdCBzcGxpdCBpZiB1c2VyIGNsaWNrcyBvZmYgb2YgYWN0aXZlIHBhZ2UuICovXG4gIGNsaWNrYXdheUhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IHRhcmdldCA9IGV2dC50YXJnZXQgYXMgSFRNTEVsZW1lbnQ7XG4gICAgaWYgKHRhcmdldC5jbG9zZXN0KCcuYWN0aXZlLXBhZ2UnKSA9PT0gbnVsbCkge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIENhbGxlZCB0byByZWFwcGx5IHRoZSBldmVudCBsaXN0ZW5lciBpZiBuZWNlc3NhcnkuICovXG4gIHJlc2V0SGFuZGxlciA9ICgoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCA9PiB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG59XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi4vdXRpbHMvTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBTcGxpdE5ldW1lQWN0aW9uIH0gZnJvbSAnLi4vVHlwZXMnO1xuXG4vKiogSGFuZGxlIHNwbGl0dGluZyBhIG5ldW1lIGludG8gdHdvIG5ldW1lcyB0aHJvdWdoIFZlcm92aW8uICovXG5leHBvcnQgY2xhc3MgU3BsaXROZXVtZUhhbmRsZXIge1xuICByZWFkb25seSBuZW9uVmlldzogTmVvblZpZXc7XG4gIHJlYWRvbmx5IG5ldW1lOiBTVkdHRWxlbWVudDtcblxuICAvKipcbiAgICogQHBhcmFtIG5ldW1lIC0gVGhlIG5ldW1lIHRoYXQgd2lsbCBiZSBtb2RpZmllZC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIG5ldW1lOiBTVkdHRWxlbWVudCkge1xuICAgIHRoaXMubmVvblZpZXcgPSBuZW9uVmlldztcbiAgICB0aGlzLm5ldW1lID0gbmV1bWU7XG4gIH1cblxuICAvKipcbiAgICogRmlyc3QgcGFydCBvZiB0aGUgc3BsaXQgYWN0aW9uLlxuICAgKi9cbiAgc3RhcnRTcGxpdCAoKTogdm9pZCB7XG4gICAgdGhpcy5zcGxpdERpc2FibGUoKTtcblxuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcblxuICAgIC8vIEhhbmRsZSBrZXlwcmVzc2VzXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5rZXlkb3duTGlzdGVuZXIpO1xuICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLnJlc2V0SGFuZGxlcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuY2xpY2thd2F5SGFuZGxlcik7XG5cbiAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0NsaWNrIFRoZSBCZWdpbm5pbmcgb2YgVGhlIFNlY29uZCBOZXVtZScpO1xuICB9XG5cbiAgc3BsaXREaXNhYmxlICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gIH1cblxuICAvKiogSGFuZGxlIGlucHV0IHRvIHNwbGl0IGEgbmV1bWUuICovXG4gIGhhbmRsZXIgPSAoKGV2dDogTW91c2VFdmVudCk6IHZvaWQgPT4ge1xuICAgIGNvbnN0IGlkID0gdGhpcy5uZXVtZS5pZDtcblxuICAgIC8vIHVuc2VsZWN0KCk7XG4gICAgXG4gICAgY29uc3QgbmMgPSAoZXZ0LnRhcmdldCBhcyBTVkdHRWxlbWVudCkucGFyZW50RWxlbWVudDtcbiAgICBjb25zdCBuY0lkID0gbmMuaWQ7XG5cbiAgICBjb25zdCBlZGl0b3JBY3Rpb246IFNwbGl0TmV1bWVBY3Rpb24gPSB7XG4gICAgICBhY3Rpb246ICdzcGxpdE5ldW1lJyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRJZDogaWQsXG4gICAgICAgIG5jSWQ6IG5jSWRcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgdGhpcy5uZW9uVmlldy5lZGl0KGVkaXRvckFjdGlvbiwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpLnRoZW4oYXN5bmMgKHJlc3VsdCkgPT4ge1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIHN1Y2Nlc3NmdWwnLCAnc3VjY2VzcycpO1xuICAgICAgfSBcbiAgICAgIGVsc2Uge1xuICAgICAgICBhd2FpdCB0aGlzLm5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3BsaXQgYWN0aW9uIGZhaWxlZCcsICdlcnJvcicpO1xuICAgICAgfVxuICAgICAgLy8gdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgLy8gY29uc3QgZHJhZ0hhbmRsZXIgPSBuZXcgRHJhZ0hhbmRsZXIodGhpcy5uZW9uVmlldywgJy5uZXVtZScpO1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICAgIC8vIHNlbGVjdEFsbChbZG9jdW1lbnQucXVlcnlTZWxlY3RvcignIycgKyBpZCkgYXMgU1ZHR0VsZW1lbnRdLCB0aGlzLm5lb25WaWV3LCBkcmFnSGFuZGxlcik7XG4gICAgICAvLyB0cnkge1xuICAgICAgLy8gICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIC8vICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuY2xhc3NMaXN0LmFkZCgnaXMtaGlkZGVuJyk7XG4gICAgICAvLyB9IGNhdGNoIChlKSB7fVxuICAgIH0pO1xuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBFeGl0cyBzcGxpdCBvbiBFc2NhcGUgcHJlc3MsIGRpc2FibGVzIG9uIFNoaWZ0LiAqL1xuICBrZXlkb3duTGlzdGVuZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnRXNjYXBlJykge1xuICAgICAgdGhpcy5zcGxpdERpc2FibGUoKTtcbiAgICB9IGVsc2UgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIsIHsgY2FwdHVyZTogdHJ1ZSB9KTtcbiAgICB9XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqIEV4aXQgc3BsaXQgaWYgdXNlciBjbGlja3Mgb2ZmIG9mIGFjdGl2ZSBwYWdlLiAqL1xuICBjbGlja2F3YXlIYW5kbGVyID0gKChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkID0+IHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuc3BsaXREaXNhYmxlKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKiBDYWxsZWQgdG8gcmVhcHBseSB0aGUgZXZlbnQgbGlzdGVuZXIgaWYgbmVjZXNzYXJ5LiAqL1xuICByZXNldEhhbmRsZXIgPSAoKGV2dDogS2V5Ym9hcmRFdmVudCk6IHZvaWQgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAnU2hpZnQnKSB7XG4gICAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5oYW5kbGVyLCB7IGNhcHR1cmU6IHRydWUgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xufVxuIiwiJ3VzZSBzdHJpY3QnO1xuZXhwb3J0cy50ZXN0ID0gZnVuY3Rpb24gKCkge1xuICByZXR1cm4gdHlwZW9mIGdsb2JhbC5xdWV1ZU1pY3JvdGFzayA9PT0gJ2Z1bmN0aW9uJztcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChmdW5jKSB7XG4gIHJldHVybiBmdW5jdGlvbiAoKSB7XG4gICAgZ2xvYmFsLnF1ZXVlTWljcm90YXNrKGZ1bmMpO1xuICB9O1xufTtcbiIsIid1c2Ugc3RyaWN0Jztcbi8vYmFzZWQgb2ZmIHJzdnAgaHR0cHM6Ly9naXRodWIuY29tL3RpbGRlaW8vcnN2cC5qc1xuLy9saWNlbnNlIGh0dHBzOi8vZ2l0aHViLmNvbS90aWxkZWlvL3JzdnAuanMvYmxvYi9tYXN0ZXIvTElDRU5TRVxuLy9odHRwczovL2dpdGh1Yi5jb20vdGlsZGVpby9yc3ZwLmpzL2Jsb2IvbWFzdGVyL2xpYi9yc3ZwL2FzYXAuanNcblxudmFyIE11dGF0aW9uID0gZ2xvYmFsLk11dGF0aW9uT2JzZXJ2ZXIgfHwgZ2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIE11dGF0aW9uO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGhhbmRsZSkge1xuICB2YXIgY2FsbGVkID0gMDtcbiAgdmFyIG9ic2VydmVyID0gbmV3IE11dGF0aW9uKGhhbmRsZSk7XG4gIHZhciBlbGVtZW50ID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKCcnKTtcbiAgb2JzZXJ2ZXIub2JzZXJ2ZShlbGVtZW50LCB7XG4gICAgY2hhcmFjdGVyRGF0YTogdHJ1ZVxuICB9KTtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBlbGVtZW50LmRhdGEgPSAoY2FsbGVkID0gKytjYWxsZWQgJSAyKTtcbiAgfTtcbn07IiwiJ3VzZSBzdHJpY3QnO1xuXG5leHBvcnRzLnRlc3QgPSBmdW5jdGlvbiAoKSB7XG4gIGlmIChnbG9iYWwuc2V0SW1tZWRpYXRlKSB7XG4gICAgLy8gd2UgY2FuIG9ubHkgZ2V0IGhlcmUgaW4gSUUxMFxuICAgIC8vIHdoaWNoIGRvZXNuJ3QgaGFuZGVsIHBvc3RNZXNzYWdlIHdlbGxcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbiAgcmV0dXJuIHR5cGVvZiBnbG9iYWwuTWVzc2FnZUNoYW5uZWwgIT09ICd1bmRlZmluZWQnO1xufTtcblxuZXhwb3J0cy5pbnN0YWxsID0gZnVuY3Rpb24gKGZ1bmMpIHtcbiAgdmFyIGNoYW5uZWwgPSBuZXcgZ2xvYmFsLk1lc3NhZ2VDaGFubmVsKCk7XG4gIGNoYW5uZWwucG9ydDEub25tZXNzYWdlID0gZnVuYztcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcbiAgICBjaGFubmVsLnBvcnQyLnBvc3RNZXNzYWdlKDApO1xuICB9O1xufTsiLCIndXNlIHN0cmljdCc7XG5cbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuICdkb2N1bWVudCcgaW4gZ2xvYmFsICYmICdvbnJlYWR5c3RhdGVjaGFuZ2UnIGluIGdsb2JhbC5kb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzY3JpcHQnKTtcbn07XG5cbmV4cG9ydHMuaW5zdGFsbCA9IGZ1bmN0aW9uIChoYW5kbGUpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uICgpIHtcblxuICAgIC8vIENyZWF0ZSBhIDxzY3JpcHQ+IGVsZW1lbnQ7IGl0cyByZWFkeXN0YXRlY2hhbmdlIGV2ZW50IHdpbGwgYmUgZmlyZWQgYXN5bmNocm9ub3VzbHkgb25jZSBpdCBpcyBpbnNlcnRlZFxuICAgIC8vIGludG8gdGhlIGRvY3VtZW50LiBEbyBzbywgdGh1cyBxdWV1aW5nIHVwIHRoZSB0YXNrLiBSZW1lbWJlciB0byBjbGVhbiB1cCBvbmNlIGl0J3MgYmVlbiBjYWxsZWQuXG4gICAgdmFyIHNjcmlwdEVsID0gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NjcmlwdCcpO1xuICAgIHNjcmlwdEVsLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgIGhhbmRsZSgpO1xuXG4gICAgICBzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBudWxsO1xuICAgICAgc2NyaXB0RWwucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChzY3JpcHRFbCk7XG4gICAgICBzY3JpcHRFbCA9IG51bGw7XG4gICAgfTtcbiAgICBnbG9iYWwuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdEVsKTtcblxuICAgIHJldHVybiBoYW5kbGU7XG4gIH07XG59OyIsIid1c2Ugc3RyaWN0JztcbmV4cG9ydHMudGVzdCA9IGZ1bmN0aW9uICgpIHtcbiAgcmV0dXJuIHRydWU7XG59O1xuXG5leHBvcnRzLmluc3RhbGwgPSBmdW5jdGlvbiAodCkge1xuICByZXR1cm4gZnVuY3Rpb24gKCkge1xuICAgIHNldFRpbWVvdXQodCwgMCk7XG4gIH07XG59OyIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBwdW55Y29kZSA9IHJlcXVpcmUoJ3B1bnljb2RlJyk7XG52YXIgdXRpbCA9IHJlcXVpcmUoJy4vdXRpbCcpO1xuXG5leHBvcnRzLnBhcnNlID0gdXJsUGFyc2U7XG5leHBvcnRzLnJlc29sdmUgPSB1cmxSZXNvbHZlO1xuZXhwb3J0cy5yZXNvbHZlT2JqZWN0ID0gdXJsUmVzb2x2ZU9iamVjdDtcbmV4cG9ydHMuZm9ybWF0ID0gdXJsRm9ybWF0O1xuXG5leHBvcnRzLlVybCA9IFVybDtcblxuZnVuY3Rpb24gVXJsKCkge1xuICB0aGlzLnByb3RvY29sID0gbnVsbDtcbiAgdGhpcy5zbGFzaGVzID0gbnVsbDtcbiAgdGhpcy5hdXRoID0gbnVsbDtcbiAgdGhpcy5ob3N0ID0gbnVsbDtcbiAgdGhpcy5wb3J0ID0gbnVsbDtcbiAgdGhpcy5ob3N0bmFtZSA9IG51bGw7XG4gIHRoaXMuaGFzaCA9IG51bGw7XG4gIHRoaXMuc2VhcmNoID0gbnVsbDtcbiAgdGhpcy5xdWVyeSA9IG51bGw7XG4gIHRoaXMucGF0aG5hbWUgPSBudWxsO1xuICB0aGlzLnBhdGggPSBudWxsO1xuICB0aGlzLmhyZWYgPSBudWxsO1xufVxuXG4vLyBSZWZlcmVuY2U6IFJGQyAzOTg2LCBSRkMgMTgwOCwgUkZDIDIzOTZcblxuLy8gZGVmaW5lIHRoZXNlIGhlcmUgc28gYXQgbGVhc3QgdGhleSBvbmx5IGhhdmUgdG8gYmVcbi8vIGNvbXBpbGVkIG9uY2Ugb24gdGhlIGZpcnN0IG1vZHVsZSBsb2FkLlxudmFyIHByb3RvY29sUGF0dGVybiA9IC9eKFthLXowLTkuKy1dKzopL2ksXG4gICAgcG9ydFBhdHRlcm4gPSAvOlswLTldKiQvLFxuXG4gICAgLy8gU3BlY2lhbCBjYXNlIGZvciBhIHNpbXBsZSBwYXRoIFVSTFxuICAgIHNpbXBsZVBhdGhQYXR0ZXJuID0gL14oXFwvXFwvPyg/IVxcLylbXlxcP1xcc10qKShcXD9bXlxcc10qKT8kLyxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIHJlc2VydmVkIGZvciBkZWxpbWl0aW5nIFVSTHMuXG4gICAgLy8gV2UgYWN0dWFsbHkganVzdCBhdXRvLWVzY2FwZSB0aGVzZS5cbiAgICBkZWxpbXMgPSBbJzwnLCAnPicsICdcIicsICdgJywgJyAnLCAnXFxyJywgJ1xcbicsICdcXHQnXSxcblxuICAgIC8vIFJGQyAyMzk2OiBjaGFyYWN0ZXJzIG5vdCBhbGxvd2VkIGZvciB2YXJpb3VzIHJlYXNvbnMuXG4gICAgdW53aXNlID0gWyd7JywgJ30nLCAnfCcsICdcXFxcJywgJ14nLCAnYCddLmNvbmNhdChkZWxpbXMpLFxuXG4gICAgLy8gQWxsb3dlZCBieSBSRkNzLCBidXQgY2F1c2Ugb2YgWFNTIGF0dGFja3MuICBBbHdheXMgZXNjYXBlIHRoZXNlLlxuICAgIGF1dG9Fc2NhcGUgPSBbJ1xcJyddLmNvbmNhdCh1bndpc2UpLFxuICAgIC8vIENoYXJhY3RlcnMgdGhhdCBhcmUgbmV2ZXIgZXZlciBhbGxvd2VkIGluIGEgaG9zdG5hbWUuXG4gICAgLy8gTm90ZSB0aGF0IGFueSBpbnZhbGlkIGNoYXJzIGFyZSBhbHNvIGhhbmRsZWQsIGJ1dCB0aGVzZVxuICAgIC8vIGFyZSB0aGUgb25lcyB0aGF0IGFyZSAqZXhwZWN0ZWQqIHRvIGJlIHNlZW4sIHNvIHdlIGZhc3QtcGF0aFxuICAgIC8vIHRoZW0uXG4gICAgbm9uSG9zdENoYXJzID0gWyclJywgJy8nLCAnPycsICc7JywgJyMnXS5jb25jYXQoYXV0b0VzY2FwZSksXG4gICAgaG9zdEVuZGluZ0NoYXJzID0gWycvJywgJz8nLCAnIyddLFxuICAgIGhvc3RuYW1lTWF4TGVuID0gMjU1LFxuICAgIGhvc3RuYW1lUGFydFBhdHRlcm4gPSAvXlsrYS16MC05QS1aXy1dezAsNjN9JC8sXG4gICAgaG9zdG5hbWVQYXJ0U3RhcnQgPSAvXihbK2EtejAtOUEtWl8tXXswLDYzfSkoLiopJC8sXG4gICAgLy8gcHJvdG9jb2xzIHRoYXQgY2FuIGFsbG93IFwidW5zYWZlXCIgYW5kIFwidW53aXNlXCIgY2hhcnMuXG4gICAgdW5zYWZlUHJvdG9jb2wgPSB7XG4gICAgICAnamF2YXNjcmlwdCc6IHRydWUsXG4gICAgICAnamF2YXNjcmlwdDonOiB0cnVlXG4gICAgfSxcbiAgICAvLyBwcm90b2NvbHMgdGhhdCBuZXZlciBoYXZlIGEgaG9zdG5hbWUuXG4gICAgaG9zdGxlc3NQcm90b2NvbCA9IHtcbiAgICAgICdqYXZhc2NyaXB0JzogdHJ1ZSxcbiAgICAgICdqYXZhc2NyaXB0Oic6IHRydWVcbiAgICB9LFxuICAgIC8vIHByb3RvY29scyB0aGF0IGFsd2F5cyBjb250YWluIGEgLy8gYml0LlxuICAgIHNsYXNoZWRQcm90b2NvbCA9IHtcbiAgICAgICdodHRwJzogdHJ1ZSxcbiAgICAgICdodHRwcyc6IHRydWUsXG4gICAgICAnZnRwJzogdHJ1ZSxcbiAgICAgICdnb3BoZXInOiB0cnVlLFxuICAgICAgJ2ZpbGUnOiB0cnVlLFxuICAgICAgJ2h0dHA6JzogdHJ1ZSxcbiAgICAgICdodHRwczonOiB0cnVlLFxuICAgICAgJ2Z0cDonOiB0cnVlLFxuICAgICAgJ2dvcGhlcjonOiB0cnVlLFxuICAgICAgJ2ZpbGU6JzogdHJ1ZVxuICAgIH0sXG4gICAgcXVlcnlzdHJpbmcgPSByZXF1aXJlKCdxdWVyeXN0cmluZycpO1xuXG5mdW5jdGlvbiB1cmxQYXJzZSh1cmwsIHBhcnNlUXVlcnlTdHJpbmcsIHNsYXNoZXNEZW5vdGVIb3N0KSB7XG4gIGlmICh1cmwgJiYgdXRpbC5pc09iamVjdCh1cmwpICYmIHVybCBpbnN0YW5jZW9mIFVybCkgcmV0dXJuIHVybDtcblxuICB2YXIgdSA9IG5ldyBVcmw7XG4gIHUucGFyc2UodXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCk7XG4gIHJldHVybiB1O1xufVxuXG5VcmwucHJvdG90eXBlLnBhcnNlID0gZnVuY3Rpb24odXJsLCBwYXJzZVF1ZXJ5U3RyaW5nLCBzbGFzaGVzRGVub3RlSG9zdCkge1xuICBpZiAoIXV0aWwuaXNTdHJpbmcodXJsKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQYXJhbWV0ZXIgJ3VybCcgbXVzdCBiZSBhIHN0cmluZywgbm90IFwiICsgdHlwZW9mIHVybCk7XG4gIH1cblxuICAvLyBDb3B5IGNocm9tZSwgSUUsIG9wZXJhIGJhY2tzbGFzaC1oYW5kbGluZyBiZWhhdmlvci5cbiAgLy8gQmFjayBzbGFzaGVzIGJlZm9yZSB0aGUgcXVlcnkgc3RyaW5nIGdldCBjb252ZXJ0ZWQgdG8gZm9yd2FyZCBzbGFzaGVzXG4gIC8vIFNlZTogaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9jaHJvbWl1bS9pc3N1ZXMvZGV0YWlsP2lkPTI1OTE2XG4gIHZhciBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoJz8nKSxcbiAgICAgIHNwbGl0dGVyID1cbiAgICAgICAgICAocXVlcnlJbmRleCAhPT0gLTEgJiYgcXVlcnlJbmRleCA8IHVybC5pbmRleE9mKCcjJykpID8gJz8nIDogJyMnLFxuICAgICAgdVNwbGl0ID0gdXJsLnNwbGl0KHNwbGl0dGVyKSxcbiAgICAgIHNsYXNoUmVnZXggPSAvXFxcXC9nO1xuICB1U3BsaXRbMF0gPSB1U3BsaXRbMF0ucmVwbGFjZShzbGFzaFJlZ2V4LCAnLycpO1xuICB1cmwgPSB1U3BsaXQuam9pbihzcGxpdHRlcik7XG5cbiAgdmFyIHJlc3QgPSB1cmw7XG5cbiAgLy8gdHJpbSBiZWZvcmUgcHJvY2VlZGluZy5cbiAgLy8gVGhpcyBpcyB0byBzdXBwb3J0IHBhcnNlIHN0dWZmIGxpa2UgXCIgIGh0dHA6Ly9mb28uY29tICBcXG5cIlxuICByZXN0ID0gcmVzdC50cmltKCk7XG5cbiAgaWYgKCFzbGFzaGVzRGVub3RlSG9zdCAmJiB1cmwuc3BsaXQoJyMnKS5sZW5ndGggPT09IDEpIHtcbiAgICAvLyBUcnkgZmFzdCBwYXRoIHJlZ2V4cFxuICAgIHZhciBzaW1wbGVQYXRoID0gc2ltcGxlUGF0aFBhdHRlcm4uZXhlYyhyZXN0KTtcbiAgICBpZiAoc2ltcGxlUGF0aCkge1xuICAgICAgdGhpcy5wYXRoID0gcmVzdDtcbiAgICAgIHRoaXMuaHJlZiA9IHJlc3Q7XG4gICAgICB0aGlzLnBhdGhuYW1lID0gc2ltcGxlUGF0aFsxXTtcbiAgICAgIGlmIChzaW1wbGVQYXRoWzJdKSB7XG4gICAgICAgIHRoaXMuc2VhcmNoID0gc2ltcGxlUGF0aFsyXTtcbiAgICAgICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gcXVlcnlzdHJpbmcucGFyc2UodGhpcy5zZWFyY2guc3Vic3RyKDEpKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLnF1ZXJ5ID0gdGhpcy5zZWFyY2guc3Vic3RyKDEpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgICAgdGhpcy5zZWFyY2ggPSAnJztcbiAgICAgICAgdGhpcy5xdWVyeSA9IHt9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICB9XG5cbiAgdmFyIHByb3RvID0gcHJvdG9jb2xQYXR0ZXJuLmV4ZWMocmVzdCk7XG4gIGlmIChwcm90bykge1xuICAgIHByb3RvID0gcHJvdG9bMF07XG4gICAgdmFyIGxvd2VyUHJvdG8gPSBwcm90by50b0xvd2VyQ2FzZSgpO1xuICAgIHRoaXMucHJvdG9jb2wgPSBsb3dlclByb3RvO1xuICAgIHJlc3QgPSByZXN0LnN1YnN0cihwcm90by5sZW5ndGgpO1xuICB9XG5cbiAgLy8gZmlndXJlIG91dCBpZiBpdCdzIGdvdCBhIGhvc3RcbiAgLy8gdXNlckBzZXJ2ZXIgaXMgKmFsd2F5cyogaW50ZXJwcmV0ZWQgYXMgYSBob3N0bmFtZSwgYW5kIHVybFxuICAvLyByZXNvbHV0aW9uIHdpbGwgdHJlYXQgLy9mb28vYmFyIGFzIGhvc3Q9Zm9vLHBhdGg9YmFyIGJlY2F1c2UgdGhhdCdzXG4gIC8vIGhvdyB0aGUgYnJvd3NlciByZXNvbHZlcyByZWxhdGl2ZSBVUkxzLlxuICBpZiAoc2xhc2hlc0Rlbm90ZUhvc3QgfHwgcHJvdG8gfHwgcmVzdC5tYXRjaCgvXlxcL1xcL1teQFxcL10rQFteQFxcL10rLykpIHtcbiAgICB2YXIgc2xhc2hlcyA9IHJlc3Quc3Vic3RyKDAsIDIpID09PSAnLy8nO1xuICAgIGlmIChzbGFzaGVzICYmICEocHJvdG8gJiYgaG9zdGxlc3NQcm90b2NvbFtwcm90b10pKSB7XG4gICAgICByZXN0ID0gcmVzdC5zdWJzdHIoMik7XG4gICAgICB0aGlzLnNsYXNoZXMgPSB0cnVlO1xuICAgIH1cbiAgfVxuXG4gIGlmICghaG9zdGxlc3NQcm90b2NvbFtwcm90b10gJiZcbiAgICAgIChzbGFzaGVzIHx8IChwcm90byAmJiAhc2xhc2hlZFByb3RvY29sW3Byb3RvXSkpKSB7XG5cbiAgICAvLyB0aGVyZSdzIGEgaG9zdG5hbWUuXG4gICAgLy8gdGhlIGZpcnN0IGluc3RhbmNlIG9mIC8sID8sIDssIG9yICMgZW5kcyB0aGUgaG9zdC5cbiAgICAvL1xuICAgIC8vIElmIHRoZXJlIGlzIGFuIEAgaW4gdGhlIGhvc3RuYW1lLCB0aGVuIG5vbi1ob3N0IGNoYXJzICphcmUqIGFsbG93ZWRcbiAgICAvLyB0byB0aGUgbGVmdCBvZiB0aGUgbGFzdCBAIHNpZ24sIHVubGVzcyBzb21lIGhvc3QtZW5kaW5nIGNoYXJhY3RlclxuICAgIC8vIGNvbWVzICpiZWZvcmUqIHRoZSBALXNpZ24uXG4gICAgLy8gVVJMcyBhcmUgb2Jub3hpb3VzLlxuICAgIC8vXG4gICAgLy8gZXg6XG4gICAgLy8gaHR0cDovL2FAYkBjLyA9PiB1c2VyOmFAYiBob3N0OmNcbiAgICAvLyBodHRwOi8vYUBiP0BjID0+IHVzZXI6YSBob3N0OmMgcGF0aDovP0BjXG5cbiAgICAvLyB2MC4xMiBUT0RPKGlzYWFjcyk6IFRoaXMgaXMgbm90IHF1aXRlIGhvdyBDaHJvbWUgZG9lcyB0aGluZ3MuXG4gICAgLy8gUmV2aWV3IG91ciB0ZXN0IGNhc2UgYWdhaW5zdCBicm93c2VycyBtb3JlIGNvbXByZWhlbnNpdmVseS5cblxuICAgIC8vIGZpbmQgdGhlIGZpcnN0IGluc3RhbmNlIG9mIGFueSBob3N0RW5kaW5nQ2hhcnNcbiAgICB2YXIgaG9zdEVuZCA9IC0xO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgaG9zdEVuZGluZ0NoYXJzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB2YXIgaGVjID0gcmVzdC5pbmRleE9mKGhvc3RFbmRpbmdDaGFyc1tpXSk7XG4gICAgICBpZiAoaGVjICE9PSAtMSAmJiAoaG9zdEVuZCA9PT0gLTEgfHwgaGVjIDwgaG9zdEVuZCkpXG4gICAgICAgIGhvc3RFbmQgPSBoZWM7XG4gICAgfVxuXG4gICAgLy8gYXQgdGhpcyBwb2ludCwgZWl0aGVyIHdlIGhhdmUgYW4gZXhwbGljaXQgcG9pbnQgd2hlcmUgdGhlXG4gICAgLy8gYXV0aCBwb3J0aW9uIGNhbm5vdCBnbyBwYXN0LCBvciB0aGUgbGFzdCBAIGNoYXIgaXMgdGhlIGRlY2lkZXIuXG4gICAgdmFyIGF1dGgsIGF0U2lnbjtcbiAgICBpZiAoaG9zdEVuZCA9PT0gLTEpIHtcbiAgICAgIC8vIGF0U2lnbiBjYW4gYmUgYW55d2hlcmUuXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIC8vIGF0U2lnbiBtdXN0IGJlIGluIGF1dGggcG9ydGlvbi5cbiAgICAgIC8vIGh0dHA6Ly9hQGIvY0BkID0+IGhvc3Q6YiBhdXRoOmEgcGF0aDovY0BkXG4gICAgICBhdFNpZ24gPSByZXN0Lmxhc3RJbmRleE9mKCdAJywgaG9zdEVuZCk7XG4gICAgfVxuXG4gICAgLy8gTm93IHdlIGhhdmUgYSBwb3J0aW9uIHdoaWNoIGlzIGRlZmluaXRlbHkgdGhlIGF1dGguXG4gICAgLy8gUHVsbCB0aGF0IG9mZi5cbiAgICBpZiAoYXRTaWduICE9PSAtMSkge1xuICAgICAgYXV0aCA9IHJlc3Quc2xpY2UoMCwgYXRTaWduKTtcbiAgICAgIHJlc3QgPSByZXN0LnNsaWNlKGF0U2lnbiArIDEpO1xuICAgICAgdGhpcy5hdXRoID0gZGVjb2RlVVJJQ29tcG9uZW50KGF1dGgpO1xuICAgIH1cblxuICAgIC8vIHRoZSBob3N0IGlzIHRoZSByZW1haW5pbmcgdG8gdGhlIGxlZnQgb2YgdGhlIGZpcnN0IG5vbi1ob3N0IGNoYXJcbiAgICBob3N0RW5kID0gLTE7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBub25Ib3N0Q2hhcnMubGVuZ3RoOyBpKyspIHtcbiAgICAgIHZhciBoZWMgPSByZXN0LmluZGV4T2Yobm9uSG9zdENoYXJzW2ldKTtcbiAgICAgIGlmIChoZWMgIT09IC0xICYmIChob3N0RW5kID09PSAtMSB8fCBoZWMgPCBob3N0RW5kKSlcbiAgICAgICAgaG9zdEVuZCA9IGhlYztcbiAgICB9XG4gICAgLy8gaWYgd2Ugc3RpbGwgaGF2ZSBub3QgaGl0IGl0LCB0aGVuIHRoZSBlbnRpcmUgdGhpbmcgaXMgYSBob3N0LlxuICAgIGlmIChob3N0RW5kID09PSAtMSlcbiAgICAgIGhvc3RFbmQgPSByZXN0Lmxlbmd0aDtcblxuICAgIHRoaXMuaG9zdCA9IHJlc3Quc2xpY2UoMCwgaG9zdEVuZCk7XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoaG9zdEVuZCk7XG5cbiAgICAvLyBwdWxsIG91dCBwb3J0LlxuICAgIHRoaXMucGFyc2VIb3N0KCk7XG5cbiAgICAvLyB3ZSd2ZSBpbmRpY2F0ZWQgdGhhdCB0aGVyZSBpcyBhIGhvc3RuYW1lLFxuICAgIC8vIHNvIGV2ZW4gaWYgaXQncyBlbXB0eSwgaXQgaGFzIHRvIGJlIHByZXNlbnQuXG4gICAgdGhpcy5ob3N0bmFtZSA9IHRoaXMuaG9zdG5hbWUgfHwgJyc7XG5cbiAgICAvLyBpZiBob3N0bmFtZSBiZWdpbnMgd2l0aCBbIGFuZCBlbmRzIHdpdGggXVxuICAgIC8vIGFzc3VtZSB0aGF0IGl0J3MgYW4gSVB2NiBhZGRyZXNzLlxuICAgIHZhciBpcHY2SG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lWzBdID09PSAnWycgJiZcbiAgICAgICAgdGhpcy5ob3N0bmFtZVt0aGlzLmhvc3RuYW1lLmxlbmd0aCAtIDFdID09PSAnXSc7XG5cbiAgICAvLyB2YWxpZGF0ZSBhIGxpdHRsZS5cbiAgICBpZiAoIWlwdjZIb3N0bmFtZSkge1xuICAgICAgdmFyIGhvc3RwYXJ0cyA9IHRoaXMuaG9zdG5hbWUuc3BsaXQoL1xcLi8pO1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGwgPSBob3N0cGFydHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XG4gICAgICAgIHZhciBwYXJ0ID0gaG9zdHBhcnRzW2ldO1xuICAgICAgICBpZiAoIXBhcnQpIGNvbnRpbnVlO1xuICAgICAgICBpZiAoIXBhcnQubWF0Y2goaG9zdG5hbWVQYXJ0UGF0dGVybikpIHtcbiAgICAgICAgICB2YXIgbmV3cGFydCA9ICcnO1xuICAgICAgICAgIGZvciAodmFyIGogPSAwLCBrID0gcGFydC5sZW5ndGg7IGogPCBrOyBqKyspIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LmNoYXJDb2RlQXQoaikgPiAxMjcpIHtcbiAgICAgICAgICAgICAgLy8gd2UgcmVwbGFjZSBub24tQVNDSUkgY2hhciB3aXRoIGEgdGVtcG9yYXJ5IHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgIC8vIHdlIG5lZWQgdGhpcyB0byBtYWtlIHN1cmUgc2l6ZSBvZiBob3N0bmFtZSBpcyBub3RcbiAgICAgICAgICAgICAgLy8gYnJva2VuIGJ5IHJlcGxhY2luZyBub24tQVNDSUkgYnkgbm90aGluZ1xuICAgICAgICAgICAgICBuZXdwYXJ0ICs9ICd4JztcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld3BhcnQgKz0gcGFydFtqXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gd2UgdGVzdCBhZ2FpbiB3aXRoIEFTQ0lJIGNoYXIgb25seVxuICAgICAgICAgIGlmICghbmV3cGFydC5tYXRjaChob3N0bmFtZVBhcnRQYXR0ZXJuKSkge1xuICAgICAgICAgICAgdmFyIHZhbGlkUGFydHMgPSBob3N0cGFydHMuc2xpY2UoMCwgaSk7XG4gICAgICAgICAgICB2YXIgbm90SG9zdCA9IGhvc3RwYXJ0cy5zbGljZShpICsgMSk7XG4gICAgICAgICAgICB2YXIgYml0ID0gcGFydC5tYXRjaChob3N0bmFtZVBhcnRTdGFydCk7XG4gICAgICAgICAgICBpZiAoYml0KSB7XG4gICAgICAgICAgICAgIHZhbGlkUGFydHMucHVzaChiaXRbMV0pO1xuICAgICAgICAgICAgICBub3RIb3N0LnVuc2hpZnQoYml0WzJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChub3RIb3N0Lmxlbmd0aCkge1xuICAgICAgICAgICAgICByZXN0ID0gJy8nICsgbm90SG9zdC5qb2luKCcuJykgKyByZXN0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5ob3N0bmFtZSA9IHZhbGlkUGFydHMuam9pbignLicpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuaG9zdG5hbWUubGVuZ3RoID4gaG9zdG5hbWVNYXhMZW4pIHtcbiAgICAgIHRoaXMuaG9zdG5hbWUgPSAnJztcbiAgICB9IGVsc2Uge1xuICAgICAgLy8gaG9zdG5hbWVzIGFyZSBhbHdheXMgbG93ZXIgY2FzZS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSB0aGlzLmhvc3RuYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgfVxuXG4gICAgaWYgKCFpcHY2SG9zdG5hbWUpIHtcbiAgICAgIC8vIElETkEgU3VwcG9ydDogUmV0dXJucyBhIHB1bnljb2RlZCByZXByZXNlbnRhdGlvbiBvZiBcImRvbWFpblwiLlxuICAgICAgLy8gSXQgb25seSBjb252ZXJ0cyBwYXJ0cyBvZiB0aGUgZG9tYWluIG5hbWUgdGhhdFxuICAgICAgLy8gaGF2ZSBub24tQVNDSUkgY2hhcmFjdGVycywgaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZlxuICAgICAgLy8geW91IGNhbGwgaXQgd2l0aCBhIGRvbWFpbiB0aGF0IGFscmVhZHkgaXMgQVNDSUktb25seS5cbiAgICAgIHRoaXMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuaG9zdG5hbWUpO1xuICAgIH1cblxuICAgIHZhciBwID0gdGhpcy5wb3J0ID8gJzonICsgdGhpcy5wb3J0IDogJyc7XG4gICAgdmFyIGggPSB0aGlzLmhvc3RuYW1lIHx8ICcnO1xuICAgIHRoaXMuaG9zdCA9IGggKyBwO1xuICAgIHRoaXMuaHJlZiArPSB0aGlzLmhvc3Q7XG5cbiAgICAvLyBzdHJpcCBbIGFuZCBdIGZyb20gdGhlIGhvc3RuYW1lXG4gICAgLy8gdGhlIGhvc3QgZmllbGQgc3RpbGwgcmV0YWlucyB0aGVtLCB0aG91Z2hcbiAgICBpZiAoaXB2Nkhvc3RuYW1lKSB7XG4gICAgICB0aGlzLmhvc3RuYW1lID0gdGhpcy5ob3N0bmFtZS5zdWJzdHIoMSwgdGhpcy5ob3N0bmFtZS5sZW5ndGggLSAyKTtcbiAgICAgIGlmIChyZXN0WzBdICE9PSAnLycpIHtcbiAgICAgICAgcmVzdCA9ICcvJyArIHJlc3Q7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLy8gbm93IHJlc3QgaXMgc2V0IHRvIHRoZSBwb3N0LWhvc3Qgc3R1ZmYuXG4gIC8vIGNob3Agb2ZmIGFueSBkZWxpbSBjaGFycy5cbiAgaWYgKCF1bnNhZmVQcm90b2NvbFtsb3dlclByb3RvXSkge1xuXG4gICAgLy8gRmlyc3QsIG1ha2UgMTAwJSBzdXJlIHRoYXQgYW55IFwiYXV0b0VzY2FwZVwiIGNoYXJzIGdldFxuICAgIC8vIGVzY2FwZWQsIGV2ZW4gaWYgZW5jb2RlVVJJQ29tcG9uZW50IGRvZXNuJ3QgdGhpbmsgdGhleVxuICAgIC8vIG5lZWQgdG8gYmUuXG4gICAgZm9yICh2YXIgaSA9IDAsIGwgPSBhdXRvRXNjYXBlLmxlbmd0aDsgaSA8IGw7IGkrKykge1xuICAgICAgdmFyIGFlID0gYXV0b0VzY2FwZVtpXTtcbiAgICAgIGlmIChyZXN0LmluZGV4T2YoYWUpID09PSAtMSlcbiAgICAgICAgY29udGludWU7XG4gICAgICB2YXIgZXNjID0gZW5jb2RlVVJJQ29tcG9uZW50KGFlKTtcbiAgICAgIGlmIChlc2MgPT09IGFlKSB7XG4gICAgICAgIGVzYyA9IGVzY2FwZShhZSk7XG4gICAgICB9XG4gICAgICByZXN0ID0gcmVzdC5zcGxpdChhZSkuam9pbihlc2MpO1xuICAgIH1cbiAgfVxuXG5cbiAgLy8gY2hvcCBvZmYgZnJvbSB0aGUgdGFpbCBmaXJzdC5cbiAgdmFyIGhhc2ggPSByZXN0LmluZGV4T2YoJyMnKTtcbiAgaWYgKGhhc2ggIT09IC0xKSB7XG4gICAgLy8gZ290IGEgZnJhZ21lbnQgc3RyaW5nLlxuICAgIHRoaXMuaGFzaCA9IHJlc3Quc3Vic3RyKGhhc2gpO1xuICAgIHJlc3QgPSByZXN0LnNsaWNlKDAsIGhhc2gpO1xuICB9XG4gIHZhciBxbSA9IHJlc3QuaW5kZXhPZignPycpO1xuICBpZiAocW0gIT09IC0xKSB7XG4gICAgdGhpcy5zZWFyY2ggPSByZXN0LnN1YnN0cihxbSk7XG4gICAgdGhpcy5xdWVyeSA9IHJlc3Quc3Vic3RyKHFtICsgMSk7XG4gICAgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAgIHRoaXMucXVlcnkgPSBxdWVyeXN0cmluZy5wYXJzZSh0aGlzLnF1ZXJ5KTtcbiAgICB9XG4gICAgcmVzdCA9IHJlc3Quc2xpY2UoMCwgcW0pO1xuICB9IGVsc2UgaWYgKHBhcnNlUXVlcnlTdHJpbmcpIHtcbiAgICAvLyBubyBxdWVyeSBzdHJpbmcsIGJ1dCBwYXJzZVF1ZXJ5U3RyaW5nIHN0aWxsIHJlcXVlc3RlZFxuICAgIHRoaXMuc2VhcmNoID0gJyc7XG4gICAgdGhpcy5xdWVyeSA9IHt9O1xuICB9XG4gIGlmIChyZXN0KSB0aGlzLnBhdGhuYW1lID0gcmVzdDtcbiAgaWYgKHNsYXNoZWRQcm90b2NvbFtsb3dlclByb3RvXSAmJlxuICAgICAgdGhpcy5ob3N0bmFtZSAmJiAhdGhpcy5wYXRobmFtZSkge1xuICAgIHRoaXMucGF0aG5hbWUgPSAnLyc7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gIGlmICh0aGlzLnBhdGhuYW1lIHx8IHRoaXMuc2VhcmNoKSB7XG4gICAgdmFyIHAgPSB0aGlzLnBhdGhuYW1lIHx8ICcnO1xuICAgIHZhciBzID0gdGhpcy5zZWFyY2ggfHwgJyc7XG4gICAgdGhpcy5wYXRoID0gcCArIHM7XG4gIH1cblxuICAvLyBmaW5hbGx5LCByZWNvbnN0cnVjdCB0aGUgaHJlZiBiYXNlZCBvbiB3aGF0IGhhcyBiZWVuIHZhbGlkYXRlZC5cbiAgdGhpcy5ocmVmID0gdGhpcy5mb3JtYXQoKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vLyBmb3JtYXQgYSBwYXJzZWQgb2JqZWN0IGludG8gYSB1cmwgc3RyaW5nXG5mdW5jdGlvbiB1cmxGb3JtYXQob2JqKSB7XG4gIC8vIGVuc3VyZSBpdCdzIGFuIG9iamVjdCwgYW5kIG5vdCBhIHN0cmluZyB1cmwuXG4gIC8vIElmIGl0J3MgYW4gb2JqLCB0aGlzIGlzIGEgbm8tb3AuXG4gIC8vIHRoaXMgd2F5LCB5b3UgY2FuIGNhbGwgdXJsX2Zvcm1hdCgpIG9uIHN0cmluZ3NcbiAgLy8gdG8gY2xlYW4gdXAgcG90ZW50aWFsbHkgd29ua3kgdXJscy5cbiAgaWYgKHV0aWwuaXNTdHJpbmcob2JqKSkgb2JqID0gdXJsUGFyc2Uob2JqKTtcbiAgaWYgKCEob2JqIGluc3RhbmNlb2YgVXJsKSkgcmV0dXJuIFVybC5wcm90b3R5cGUuZm9ybWF0LmNhbGwob2JqKTtcbiAgcmV0dXJuIG9iai5mb3JtYXQoKTtcbn1cblxuVXJsLnByb3RvdHlwZS5mb3JtYXQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGF1dGggPSB0aGlzLmF1dGggfHwgJyc7XG4gIGlmIChhdXRoKSB7XG4gICAgYXV0aCA9IGVuY29kZVVSSUNvbXBvbmVudChhdXRoKTtcbiAgICBhdXRoID0gYXV0aC5yZXBsYWNlKC8lM0EvaSwgJzonKTtcbiAgICBhdXRoICs9ICdAJztcbiAgfVxuXG4gIHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2wgfHwgJycsXG4gICAgICBwYXRobmFtZSA9IHRoaXMucGF0aG5hbWUgfHwgJycsXG4gICAgICBoYXNoID0gdGhpcy5oYXNoIHx8ICcnLFxuICAgICAgaG9zdCA9IGZhbHNlLFxuICAgICAgcXVlcnkgPSAnJztcblxuICBpZiAodGhpcy5ob3N0KSB7XG4gICAgaG9zdCA9IGF1dGggKyB0aGlzLmhvc3Q7XG4gIH0gZWxzZSBpZiAodGhpcy5ob3N0bmFtZSkge1xuICAgIGhvc3QgPSBhdXRoICsgKHRoaXMuaG9zdG5hbWUuaW5kZXhPZignOicpID09PSAtMSA/XG4gICAgICAgIHRoaXMuaG9zdG5hbWUgOlxuICAgICAgICAnWycgKyB0aGlzLmhvc3RuYW1lICsgJ10nKTtcbiAgICBpZiAodGhpcy5wb3J0KSB7XG4gICAgICBob3N0ICs9ICc6JyArIHRoaXMucG9ydDtcbiAgICB9XG4gIH1cblxuICBpZiAodGhpcy5xdWVyeSAmJlxuICAgICAgdXRpbC5pc09iamVjdCh0aGlzLnF1ZXJ5KSAmJlxuICAgICAgT2JqZWN0LmtleXModGhpcy5xdWVyeSkubGVuZ3RoKSB7XG4gICAgcXVlcnkgPSBxdWVyeXN0cmluZy5zdHJpbmdpZnkodGhpcy5xdWVyeSk7XG4gIH1cblxuICB2YXIgc2VhcmNoID0gdGhpcy5zZWFyY2ggfHwgKHF1ZXJ5ICYmICgnPycgKyBxdWVyeSkpIHx8ICcnO1xuXG4gIGlmIChwcm90b2NvbCAmJiBwcm90b2NvbC5zdWJzdHIoLTEpICE9PSAnOicpIHByb3RvY29sICs9ICc6JztcblxuICAvLyBvbmx5IHRoZSBzbGFzaGVkUHJvdG9jb2xzIGdldCB0aGUgLy8uICBOb3QgbWFpbHRvOiwgeG1wcDosIGV0Yy5cbiAgLy8gdW5sZXNzIHRoZXkgaGFkIHRoZW0gdG8gYmVnaW4gd2l0aC5cbiAgaWYgKHRoaXMuc2xhc2hlcyB8fFxuICAgICAgKCFwcm90b2NvbCB8fCBzbGFzaGVkUHJvdG9jb2xbcHJvdG9jb2xdKSAmJiBob3N0ICE9PSBmYWxzZSkge1xuICAgIGhvc3QgPSAnLy8nICsgKGhvc3QgfHwgJycpO1xuICAgIGlmIChwYXRobmFtZSAmJiBwYXRobmFtZS5jaGFyQXQoMCkgIT09ICcvJykgcGF0aG5hbWUgPSAnLycgKyBwYXRobmFtZTtcbiAgfSBlbHNlIGlmICghaG9zdCkge1xuICAgIGhvc3QgPSAnJztcbiAgfVxuXG4gIGlmIChoYXNoICYmIGhhc2guY2hhckF0KDApICE9PSAnIycpIGhhc2ggPSAnIycgKyBoYXNoO1xuICBpZiAoc2VhcmNoICYmIHNlYXJjaC5jaGFyQXQoMCkgIT09ICc/Jykgc2VhcmNoID0gJz8nICsgc2VhcmNoO1xuXG4gIHBhdGhuYW1lID0gcGF0aG5hbWUucmVwbGFjZSgvWz8jXS9nLCBmdW5jdGlvbihtYXRjaCkge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQobWF0Y2gpO1xuICB9KTtcbiAgc2VhcmNoID0gc2VhcmNoLnJlcGxhY2UoJyMnLCAnJTIzJyk7XG5cbiAgcmV0dXJuIHByb3RvY29sICsgaG9zdCArIHBhdGhuYW1lICsgc2VhcmNoICsgaGFzaDtcbn07XG5cbmZ1bmN0aW9uIHVybFJlc29sdmUoc291cmNlLCByZWxhdGl2ZSkge1xuICByZXR1cm4gdXJsUGFyc2Uoc291cmNlLCBmYWxzZSwgdHJ1ZSkucmVzb2x2ZShyZWxhdGl2ZSk7XG59XG5cblVybC5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uKHJlbGF0aXZlKSB7XG4gIHJldHVybiB0aGlzLnJlc29sdmVPYmplY3QodXJsUGFyc2UocmVsYXRpdmUsIGZhbHNlLCB0cnVlKSkuZm9ybWF0KCk7XG59O1xuXG5mdW5jdGlvbiB1cmxSZXNvbHZlT2JqZWN0KHNvdXJjZSwgcmVsYXRpdmUpIHtcbiAgaWYgKCFzb3VyY2UpIHJldHVybiByZWxhdGl2ZTtcbiAgcmV0dXJuIHVybFBhcnNlKHNvdXJjZSwgZmFsc2UsIHRydWUpLnJlc29sdmVPYmplY3QocmVsYXRpdmUpO1xufVxuXG5VcmwucHJvdG90eXBlLnJlc29sdmVPYmplY3QgPSBmdW5jdGlvbihyZWxhdGl2ZSkge1xuICBpZiAodXRpbC5pc1N0cmluZyhyZWxhdGl2ZSkpIHtcbiAgICB2YXIgcmVsID0gbmV3IFVybCgpO1xuICAgIHJlbC5wYXJzZShyZWxhdGl2ZSwgZmFsc2UsIHRydWUpO1xuICAgIHJlbGF0aXZlID0gcmVsO1xuICB9XG5cbiAgdmFyIHJlc3VsdCA9IG5ldyBVcmwoKTtcbiAgdmFyIHRrZXlzID0gT2JqZWN0LmtleXModGhpcyk7XG4gIGZvciAodmFyIHRrID0gMDsgdGsgPCB0a2V5cy5sZW5ndGg7IHRrKyspIHtcbiAgICB2YXIgdGtleSA9IHRrZXlzW3RrXTtcbiAgICByZXN1bHRbdGtleV0gPSB0aGlzW3RrZXldO1xuICB9XG5cbiAgLy8gaGFzaCBpcyBhbHdheXMgb3ZlcnJpZGRlbiwgbm8gbWF0dGVyIHdoYXQuXG4gIC8vIGV2ZW4gaHJlZj1cIlwiIHdpbGwgcmVtb3ZlIGl0LlxuICByZXN1bHQuaGFzaCA9IHJlbGF0aXZlLmhhc2g7XG5cbiAgLy8gaWYgdGhlIHJlbGF0aXZlIHVybCBpcyBlbXB0eSwgdGhlbiB0aGVyZSdzIG5vdGhpbmcgbGVmdCB0byBkbyBoZXJlLlxuICBpZiAocmVsYXRpdmUuaHJlZiA9PT0gJycpIHtcbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgLy8gaHJlZnMgbGlrZSAvL2Zvby9iYXIgYWx3YXlzIGN1dCB0byB0aGUgcHJvdG9jb2wuXG4gIGlmIChyZWxhdGl2ZS5zbGFzaGVzICYmICFyZWxhdGl2ZS5wcm90b2NvbCkge1xuICAgIC8vIHRha2UgZXZlcnl0aGluZyBleGNlcHQgdGhlIHByb3RvY29sIGZyb20gcmVsYXRpdmVcbiAgICB2YXIgcmtleXMgPSBPYmplY3Qua2V5cyhyZWxhdGl2ZSk7XG4gICAgZm9yICh2YXIgcmsgPSAwOyByayA8IHJrZXlzLmxlbmd0aDsgcmsrKykge1xuICAgICAgdmFyIHJrZXkgPSBya2V5c1tya107XG4gICAgICBpZiAocmtleSAhPT0gJ3Byb3RvY29sJylcbiAgICAgICAgcmVzdWx0W3JrZXldID0gcmVsYXRpdmVbcmtleV07XG4gICAgfVxuXG4gICAgLy91cmxQYXJzZSBhcHBlbmRzIHRyYWlsaW5nIC8gdG8gdXJscyBsaWtlIGh0dHA6Ly93d3cuZXhhbXBsZS5jb21cbiAgICBpZiAoc2xhc2hlZFByb3RvY29sW3Jlc3VsdC5wcm90b2NvbF0gJiZcbiAgICAgICAgcmVzdWx0Lmhvc3RuYW1lICYmICFyZXN1bHQucGF0aG5hbWUpIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gcmVzdWx0LnBhdGhuYW1lID0gJy8nO1xuICAgIH1cblxuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBpZiAocmVsYXRpdmUucHJvdG9jb2wgJiYgcmVsYXRpdmUucHJvdG9jb2wgIT09IHJlc3VsdC5wcm90b2NvbCkge1xuICAgIC8vIGlmIGl0J3MgYSBrbm93biB1cmwgcHJvdG9jb2wsIHRoZW4gY2hhbmdpbmdcbiAgICAvLyB0aGUgcHJvdG9jb2wgZG9lcyB3ZWlyZCB0aGluZ3NcbiAgICAvLyBmaXJzdCwgaWYgaXQncyBub3QgZmlsZTosIHRoZW4gd2UgTVVTVCBoYXZlIGEgaG9zdCxcbiAgICAvLyBhbmQgaWYgdGhlcmUgd2FzIGEgcGF0aFxuICAgIC8vIHRvIGJlZ2luIHdpdGgsIHRoZW4gd2UgTVVTVCBoYXZlIGEgcGF0aC5cbiAgICAvLyBpZiBpdCBpcyBmaWxlOiwgdGhlbiB0aGUgaG9zdCBpcyBkcm9wcGVkLFxuICAgIC8vIGJlY2F1c2UgdGhhdCdzIGtub3duIHRvIGJlIGhvc3RsZXNzLlxuICAgIC8vIGFueXRoaW5nIGVsc2UgaXMgYXNzdW1lZCB0byBiZSBhYnNvbHV0ZS5cbiAgICBpZiAoIXNsYXNoZWRQcm90b2NvbFtyZWxhdGl2ZS5wcm90b2NvbF0pIHtcbiAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMocmVsYXRpdmUpO1xuICAgICAgZm9yICh2YXIgdiA9IDA7IHYgPCBrZXlzLmxlbmd0aDsgdisrKSB7XG4gICAgICAgIHZhciBrID0ga2V5c1t2XTtcbiAgICAgICAgcmVzdWx0W2tdID0gcmVsYXRpdmVba107XG4gICAgICB9XG4gICAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuXG4gICAgcmVzdWx0LnByb3RvY29sID0gcmVsYXRpdmUucHJvdG9jb2w7XG4gICAgaWYgKCFyZWxhdGl2ZS5ob3N0ICYmICFob3N0bGVzc1Byb3RvY29sW3JlbGF0aXZlLnByb3RvY29sXSkge1xuICAgICAgdmFyIHJlbFBhdGggPSAocmVsYXRpdmUucGF0aG5hbWUgfHwgJycpLnNwbGl0KCcvJyk7XG4gICAgICB3aGlsZSAocmVsUGF0aC5sZW5ndGggJiYgIShyZWxhdGl2ZS5ob3N0ID0gcmVsUGF0aC5zaGlmdCgpKSk7XG4gICAgICBpZiAoIXJlbGF0aXZlLmhvc3QpIHJlbGF0aXZlLmhvc3QgPSAnJztcbiAgICAgIGlmICghcmVsYXRpdmUuaG9zdG5hbWUpIHJlbGF0aXZlLmhvc3RuYW1lID0gJyc7XG4gICAgICBpZiAocmVsUGF0aFswXSAhPT0gJycpIHJlbFBhdGgudW5zaGlmdCgnJyk7XG4gICAgICBpZiAocmVsUGF0aC5sZW5ndGggPCAyKSByZWxQYXRoLnVuc2hpZnQoJycpO1xuICAgICAgcmVzdWx0LnBhdGhuYW1lID0gcmVsUGF0aC5qb2luKCcvJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRobmFtZSA9IHJlbGF0aXZlLnBhdGhuYW1lO1xuICAgIH1cbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICAgIHJlc3VsdC5ob3N0ID0gcmVsYXRpdmUuaG9zdCB8fCAnJztcbiAgICByZXN1bHQuYXV0aCA9IHJlbGF0aXZlLmF1dGg7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gcmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdDtcbiAgICByZXN1bHQucG9ydCA9IHJlbGF0aXZlLnBvcnQ7XG4gICAgLy8gdG8gc3VwcG9ydCBodHRwLnJlcXVlc3RcbiAgICBpZiAocmVzdWx0LnBhdGhuYW1lIHx8IHJlc3VsdC5zZWFyY2gpIHtcbiAgICAgIHZhciBwID0gcmVzdWx0LnBhdGhuYW1lIHx8ICcnO1xuICAgICAgdmFyIHMgPSByZXN1bHQuc2VhcmNoIHx8ICcnO1xuICAgICAgcmVzdWx0LnBhdGggPSBwICsgcztcbiAgICB9XG4gICAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICAgIHJlc3VsdC5ocmVmID0gcmVzdWx0LmZvcm1hdCgpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICB2YXIgaXNTb3VyY2VBYnMgPSAocmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5jaGFyQXQoMCkgPT09ICcvJyksXG4gICAgICBpc1JlbEFicyA9IChcbiAgICAgICAgICByZWxhdGl2ZS5ob3N0IHx8XG4gICAgICAgICAgcmVsYXRpdmUucGF0aG5hbWUgJiYgcmVsYXRpdmUucGF0aG5hbWUuY2hhckF0KDApID09PSAnLydcbiAgICAgICksXG4gICAgICBtdXN0RW5kQWJzID0gKGlzUmVsQWJzIHx8IGlzU291cmNlQWJzIHx8XG4gICAgICAgICAgICAgICAgICAgIChyZXN1bHQuaG9zdCAmJiByZWxhdGl2ZS5wYXRobmFtZSkpLFxuICAgICAgcmVtb3ZlQWxsRG90cyA9IG11c3RFbmRBYnMsXG4gICAgICBzcmNQYXRoID0gcmVzdWx0LnBhdGhuYW1lICYmIHJlc3VsdC5wYXRobmFtZS5zcGxpdCgnLycpIHx8IFtdLFxuICAgICAgcmVsUGF0aCA9IHJlbGF0aXZlLnBhdGhuYW1lICYmIHJlbGF0aXZlLnBhdGhuYW1lLnNwbGl0KCcvJykgfHwgW10sXG4gICAgICBwc3ljaG90aWMgPSByZXN1bHQucHJvdG9jb2wgJiYgIXNsYXNoZWRQcm90b2NvbFtyZXN1bHQucHJvdG9jb2xdO1xuXG4gIC8vIGlmIHRoZSB1cmwgaXMgYSBub24tc2xhc2hlZCB1cmwsIHRoZW4gcmVsYXRpdmVcbiAgLy8gbGlua3MgbGlrZSAuLi8uLiBzaG91bGQgYmUgYWJsZVxuICAvLyB0byBjcmF3bCB1cCB0byB0aGUgaG9zdG5hbWUsIGFzIHdlbGwuICBUaGlzIGlzIHN0cmFuZ2UuXG4gIC8vIHJlc3VsdC5wcm90b2NvbCBoYXMgYWxyZWFkeSBiZWVuIHNldCBieSBub3cuXG4gIC8vIExhdGVyIG9uLCBwdXQgdGhlIGZpcnN0IHBhdGggcGFydCBpbnRvIHRoZSBob3N0IGZpZWxkLlxuICBpZiAocHN5Y2hvdGljKSB7XG4gICAgcmVzdWx0Lmhvc3RuYW1lID0gJyc7XG4gICAgcmVzdWx0LnBvcnQgPSBudWxsO1xuICAgIGlmIChyZXN1bHQuaG9zdCkge1xuICAgICAgaWYgKHNyY1BhdGhbMF0gPT09ICcnKSBzcmNQYXRoWzBdID0gcmVzdWx0Lmhvc3Q7XG4gICAgICBlbHNlIHNyY1BhdGgudW5zaGlmdChyZXN1bHQuaG9zdCk7XG4gICAgfVxuICAgIHJlc3VsdC5ob3N0ID0gJyc7XG4gICAgaWYgKHJlbGF0aXZlLnByb3RvY29sKSB7XG4gICAgICByZWxhdGl2ZS5ob3N0bmFtZSA9IG51bGw7XG4gICAgICByZWxhdGl2ZS5wb3J0ID0gbnVsbDtcbiAgICAgIGlmIChyZWxhdGl2ZS5ob3N0KSB7XG4gICAgICAgIGlmIChyZWxQYXRoWzBdID09PSAnJykgcmVsUGF0aFswXSA9IHJlbGF0aXZlLmhvc3Q7XG4gICAgICAgIGVsc2UgcmVsUGF0aC51bnNoaWZ0KHJlbGF0aXZlLmhvc3QpO1xuICAgICAgfVxuICAgICAgcmVsYXRpdmUuaG9zdCA9IG51bGw7XG4gICAgfVxuICAgIG11c3RFbmRBYnMgPSBtdXN0RW5kQWJzICYmIChyZWxQYXRoWzBdID09PSAnJyB8fCBzcmNQYXRoWzBdID09PSAnJyk7XG4gIH1cblxuICBpZiAoaXNSZWxBYnMpIHtcbiAgICAvLyBpdCdzIGFic29sdXRlLlxuICAgIHJlc3VsdC5ob3N0ID0gKHJlbGF0aXZlLmhvc3QgfHwgcmVsYXRpdmUuaG9zdCA9PT0gJycpID9cbiAgICAgICAgICAgICAgICAgIHJlbGF0aXZlLmhvc3QgOiByZXN1bHQuaG9zdDtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSAocmVsYXRpdmUuaG9zdG5hbWUgfHwgcmVsYXRpdmUuaG9zdG5hbWUgPT09ICcnKSA/XG4gICAgICAgICAgICAgICAgICAgICAgcmVsYXRpdmUuaG9zdG5hbWUgOiByZXN1bHQuaG9zdG5hbWU7XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICBzcmNQYXRoID0gcmVsUGF0aDtcbiAgICAvLyBmYWxsIHRocm91Z2ggdG8gdGhlIGRvdC1oYW5kbGluZyBiZWxvdy5cbiAgfSBlbHNlIGlmIChyZWxQYXRoLmxlbmd0aCkge1xuICAgIC8vIGl0J3MgcmVsYXRpdmVcbiAgICAvLyB0aHJvdyBhd2F5IHRoZSBleGlzdGluZyBmaWxlLCBhbmQgdGFrZSB0aGUgbmV3IHBhdGggaW5zdGVhZC5cbiAgICBpZiAoIXNyY1BhdGgpIHNyY1BhdGggPSBbXTtcbiAgICBzcmNQYXRoLnBvcCgpO1xuICAgIHNyY1BhdGggPSBzcmNQYXRoLmNvbmNhdChyZWxQYXRoKTtcbiAgICByZXN1bHQuc2VhcmNoID0gcmVsYXRpdmUuc2VhcmNoO1xuICAgIHJlc3VsdC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5O1xuICB9IGVsc2UgaWYgKCF1dGlsLmlzTnVsbE9yVW5kZWZpbmVkKHJlbGF0aXZlLnNlYXJjaCkpIHtcbiAgICAvLyBqdXN0IHB1bGwgb3V0IHRoZSBzZWFyY2guXG4gICAgLy8gbGlrZSBocmVmPSc/Zm9vJy5cbiAgICAvLyBQdXQgdGhpcyBhZnRlciB0aGUgb3RoZXIgdHdvIGNhc2VzIGJlY2F1c2UgaXQgc2ltcGxpZmllcyB0aGUgYm9vbGVhbnNcbiAgICBpZiAocHN5Y2hvdGljKSB7XG4gICAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IHNyY1BhdGguc2hpZnQoKTtcbiAgICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAgIC8vdGhpcyBlc3BlY2lhbGx5IGhhcHBlbnMgaW4gY2FzZXMgbGlrZVxuICAgICAgLy91cmwucmVzb2x2ZU9iamVjdCgnbWFpbHRvOmxvY2FsMUBkb21haW4xJywgJ2xvY2FsMkBkb21haW4yJylcbiAgICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5ob3N0LnNwbGl0KCdAJykgOiBmYWxzZTtcbiAgICAgIGlmIChhdXRoSW5Ib3N0KSB7XG4gICAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgICByZXN1bHQuaG9zdCA9IHJlc3VsdC5ob3N0bmFtZSA9IGF1dGhJbkhvc3Quc2hpZnQoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0LnNlYXJjaCA9IHJlbGF0aXZlLnNlYXJjaDtcbiAgICByZXN1bHQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeTtcbiAgICAvL3RvIHN1cHBvcnQgaHR0cC5yZXF1ZXN0XG4gICAgaWYgKCF1dGlsLmlzTnVsbChyZXN1bHQucGF0aG5hbWUpIHx8ICF1dGlsLmlzTnVsbChyZXN1bHQuc2VhcmNoKSkge1xuICAgICAgcmVzdWx0LnBhdGggPSAocmVzdWx0LnBhdGhuYW1lID8gcmVzdWx0LnBhdGhuYW1lIDogJycpICtcbiAgICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICAgIH1cbiAgICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG5cbiAgaWYgKCFzcmNQYXRoLmxlbmd0aCkge1xuICAgIC8vIG5vIHBhdGggYXQgYWxsLiAgZWFzeS5cbiAgICAvLyB3ZSd2ZSBhbHJlYWR5IGhhbmRsZWQgdGhlIG90aGVyIHN0dWZmIGFib3ZlLlxuICAgIHJlc3VsdC5wYXRobmFtZSA9IG51bGw7XG4gICAgLy90byBzdXBwb3J0IGh0dHAucmVxdWVzdFxuICAgIGlmIChyZXN1bHQuc2VhcmNoKSB7XG4gICAgICByZXN1bHQucGF0aCA9ICcvJyArIHJlc3VsdC5zZWFyY2g7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdC5wYXRoID0gbnVsbDtcbiAgICB9XG4gICAgcmVzdWx0LmhyZWYgPSByZXN1bHQuZm9ybWF0KCk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIC8vIGlmIGEgdXJsIEVORHMgaW4gLiBvciAuLiwgdGhlbiBpdCBtdXN0IGdldCBhIHRyYWlsaW5nIHNsYXNoLlxuICAvLyBob3dldmVyLCBpZiBpdCBlbmRzIGluIGFueXRoaW5nIGVsc2Ugbm9uLXNsYXNoeSxcbiAgLy8gdGhlbiBpdCBtdXN0IE5PVCBnZXQgYSB0cmFpbGluZyBzbGFzaC5cbiAgdmFyIGxhc3QgPSBzcmNQYXRoLnNsaWNlKC0xKVswXTtcbiAgdmFyIGhhc1RyYWlsaW5nU2xhc2ggPSAoXG4gICAgICAocmVzdWx0Lmhvc3QgfHwgcmVsYXRpdmUuaG9zdCB8fCBzcmNQYXRoLmxlbmd0aCA+IDEpICYmXG4gICAgICAobGFzdCA9PT0gJy4nIHx8IGxhc3QgPT09ICcuLicpIHx8IGxhc3QgPT09ICcnKTtcblxuICAvLyBzdHJpcCBzaW5nbGUgZG90cywgcmVzb2x2ZSBkb3VibGUgZG90cyB0byBwYXJlbnQgZGlyXG4gIC8vIGlmIHRoZSBwYXRoIHRyaWVzIHRvIGdvIGFib3ZlIHRoZSByb290LCBgdXBgIGVuZHMgdXAgPiAwXG4gIHZhciB1cCA9IDA7XG4gIGZvciAodmFyIGkgPSBzcmNQYXRoLmxlbmd0aDsgaSA+PSAwOyBpLS0pIHtcbiAgICBsYXN0ID0gc3JjUGF0aFtpXTtcbiAgICBpZiAobGFzdCA9PT0gJy4nKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICB9IGVsc2UgaWYgKGxhc3QgPT09ICcuLicpIHtcbiAgICAgIHNyY1BhdGguc3BsaWNlKGksIDEpO1xuICAgICAgdXArKztcbiAgICB9IGVsc2UgaWYgKHVwKSB7XG4gICAgICBzcmNQYXRoLnNwbGljZShpLCAxKTtcbiAgICAgIHVwLS07XG4gICAgfVxuICB9XG5cbiAgLy8gaWYgdGhlIHBhdGggaXMgYWxsb3dlZCB0byBnbyBhYm92ZSB0aGUgcm9vdCwgcmVzdG9yZSBsZWFkaW5nIC4uc1xuICBpZiAoIW11c3RFbmRBYnMgJiYgIXJlbW92ZUFsbERvdHMpIHtcbiAgICBmb3IgKDsgdXAtLTsgdXApIHtcbiAgICAgIHNyY1BhdGgudW5zaGlmdCgnLi4nKTtcbiAgICB9XG4gIH1cblxuICBpZiAobXVzdEVuZEFicyAmJiBzcmNQYXRoWzBdICE9PSAnJyAmJlxuICAgICAgKCFzcmNQYXRoWzBdIHx8IHNyY1BhdGhbMF0uY2hhckF0KDApICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC51bnNoaWZ0KCcnKTtcbiAgfVxuXG4gIGlmIChoYXNUcmFpbGluZ1NsYXNoICYmIChzcmNQYXRoLmpvaW4oJy8nKS5zdWJzdHIoLTEpICE9PSAnLycpKSB7XG4gICAgc3JjUGF0aC5wdXNoKCcnKTtcbiAgfVxuXG4gIHZhciBpc0Fic29sdXRlID0gc3JjUGF0aFswXSA9PT0gJycgfHxcbiAgICAgIChzcmNQYXRoWzBdICYmIHNyY1BhdGhbMF0uY2hhckF0KDApID09PSAnLycpO1xuXG4gIC8vIHB1dCB0aGUgaG9zdCBiYWNrXG4gIGlmIChwc3ljaG90aWMpIHtcbiAgICByZXN1bHQuaG9zdG5hbWUgPSByZXN1bHQuaG9zdCA9IGlzQWJzb2x1dGUgPyAnJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzcmNQYXRoLmxlbmd0aCA/IHNyY1BhdGguc2hpZnQoKSA6ICcnO1xuICAgIC8vb2NjYXRpb25hbHkgdGhlIGF1dGggY2FuIGdldCBzdHVjayBvbmx5IGluIGhvc3RcbiAgICAvL3RoaXMgZXNwZWNpYWxseSBoYXBwZW5zIGluIGNhc2VzIGxpa2VcbiAgICAvL3VybC5yZXNvbHZlT2JqZWN0KCdtYWlsdG86bG9jYWwxQGRvbWFpbjEnLCAnbG9jYWwyQGRvbWFpbjInKVxuICAgIHZhciBhdXRoSW5Ib3N0ID0gcmVzdWx0Lmhvc3QgJiYgcmVzdWx0Lmhvc3QuaW5kZXhPZignQCcpID4gMCA/XG4gICAgICAgICAgICAgICAgICAgICByZXN1bHQuaG9zdC5zcGxpdCgnQCcpIDogZmFsc2U7XG4gICAgaWYgKGF1dGhJbkhvc3QpIHtcbiAgICAgIHJlc3VsdC5hdXRoID0gYXV0aEluSG9zdC5zaGlmdCgpO1xuICAgICAgcmVzdWx0Lmhvc3QgPSByZXN1bHQuaG9zdG5hbWUgPSBhdXRoSW5Ib3N0LnNoaWZ0KCk7XG4gICAgfVxuICB9XG5cbiAgbXVzdEVuZEFicyA9IG11c3RFbmRBYnMgfHwgKHJlc3VsdC5ob3N0ICYmIHNyY1BhdGgubGVuZ3RoKTtcblxuICBpZiAobXVzdEVuZEFicyAmJiAhaXNBYnNvbHV0ZSkge1xuICAgIHNyY1BhdGgudW5zaGlmdCgnJyk7XG4gIH1cblxuICBpZiAoIXNyY1BhdGgubGVuZ3RoKSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gbnVsbDtcbiAgICByZXN1bHQucGF0aCA9IG51bGw7XG4gIH0gZWxzZSB7XG4gICAgcmVzdWx0LnBhdGhuYW1lID0gc3JjUGF0aC5qb2luKCcvJyk7XG4gIH1cblxuICAvL3RvIHN1cHBvcnQgcmVxdWVzdC5odHRwXG4gIGlmICghdXRpbC5pc051bGwocmVzdWx0LnBhdGhuYW1lKSB8fCAhdXRpbC5pc051bGwocmVzdWx0LnNlYXJjaCkpIHtcbiAgICByZXN1bHQucGF0aCA9IChyZXN1bHQucGF0aG5hbWUgPyByZXN1bHQucGF0aG5hbWUgOiAnJykgK1xuICAgICAgICAgICAgICAgICAgKHJlc3VsdC5zZWFyY2ggPyByZXN1bHQuc2VhcmNoIDogJycpO1xuICB9XG4gIHJlc3VsdC5hdXRoID0gcmVsYXRpdmUuYXV0aCB8fCByZXN1bHQuYXV0aDtcbiAgcmVzdWx0LnNsYXNoZXMgPSByZXN1bHQuc2xhc2hlcyB8fCByZWxhdGl2ZS5zbGFzaGVzO1xuICByZXN1bHQuaHJlZiA9IHJlc3VsdC5mb3JtYXQoKTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cblVybC5wcm90b3R5cGUucGFyc2VIb3N0ID0gZnVuY3Rpb24oKSB7XG4gIHZhciBob3N0ID0gdGhpcy5ob3N0O1xuICB2YXIgcG9ydCA9IHBvcnRQYXR0ZXJuLmV4ZWMoaG9zdCk7XG4gIGlmIChwb3J0KSB7XG4gICAgcG9ydCA9IHBvcnRbMF07XG4gICAgaWYgKHBvcnQgIT09ICc6Jykge1xuICAgICAgdGhpcy5wb3J0ID0gcG9ydC5zdWJzdHIoMSk7XG4gICAgfVxuICAgIGhvc3QgPSBob3N0LnN1YnN0cigwLCBob3N0Lmxlbmd0aCAtIHBvcnQubGVuZ3RoKTtcbiAgfVxuICBpZiAoaG9zdCkgdGhpcy5ob3N0bmFtZSA9IGhvc3Q7XG59O1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5cbnZhciB1cmlsaWIgPSByZXF1aXJlKCd1cmwnKTtcbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG5cbm1vZHVsZS5leHBvcnRzLlNjaGVtYVNjYW5SZXN1bHQgPSBTY2hlbWFTY2FuUmVzdWx0O1xuZnVuY3Rpb24gU2NoZW1hU2NhblJlc3VsdChmb3VuZCwgcmVmKXtcbiAgdGhpcy5pZCA9IGZvdW5kO1xuICB0aGlzLnJlZiA9IHJlZjtcbn1cblxuLyoqXG4gKiBBZGRzIGEgc2NoZW1hIHdpdGggYSBjZXJ0YWluIHVybiB0byB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHN0cmluZyB1cmlcbiAqIEBwYXJhbSBvYmplY3Qgc2NoZW1hXG4gKiBAcmV0dXJuIHtPYmplY3R9XG4gKi9cbm1vZHVsZS5leHBvcnRzLnNjYW4gPSBmdW5jdGlvbiBzY2FuKGJhc2UsIHNjaGVtYSl7XG4gIGZ1bmN0aW9uIHNjYW5TY2hlbWEoYmFzZXVyaSwgc2NoZW1hKXtcbiAgICBpZighc2NoZW1hIHx8IHR5cGVvZiBzY2hlbWEhPSdvYmplY3QnKSByZXR1cm47XG4gICAgLy8gTWFyayBhbGwgcmVmZXJlbmNlZCBzY2hlbWFzIHNvIHdlIGNhbiB0ZWxsIGxhdGVyIHdoaWNoIHNjaGVtYXMgYXJlIHJlZmVycmVkIHRvLCBidXQgbmV2ZXIgZGVmaW5lZFxuICAgIGlmKHNjaGVtYS4kcmVmKXtcbiAgICAgIHZhciByZXNvbHZlZFVyaSA9IHVyaWxpYi5yZXNvbHZlKGJhc2V1cmksIHNjaGVtYS4kcmVmKTtcbiAgICAgIHJlZltyZXNvbHZlZFVyaV0gPSByZWZbcmVzb2x2ZWRVcmldID8gcmVmW3Jlc29sdmVkVXJpXSsxIDogMDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdmFyIGlkID0gc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gICAgdmFyIG91ckJhc2UgPSBpZCA/IHVyaWxpYi5yZXNvbHZlKGJhc2V1cmksIGlkKSA6IGJhc2V1cmk7XG4gICAgaWYgKG91ckJhc2UpIHtcbiAgICAgIC8vIElmIHRoZXJlJ3Mgbm8gZnJhZ21lbnQsIGFwcGVuZCBhbiBlbXB0eSBvbmVcbiAgICAgIGlmKG91ckJhc2UuaW5kZXhPZignIycpPDApIG91ckJhc2UgKz0gJyMnO1xuICAgICAgaWYoZm91bmRbb3VyQmFzZV0pe1xuICAgICAgICBpZighaGVscGVycy5kZWVwQ29tcGFyZVN0cmljdChmb3VuZFtvdXJCYXNlXSwgc2NoZW1hKSl7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTY2hlbWEgPCcrb3VyQmFzZSsnPiBhbHJlYWR5IGV4aXN0cyB3aXRoIGRpZmZlcmVudCBkZWZpbml0aW9uJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZvdW5kW291ckJhc2VdO1xuICAgICAgfVxuICAgICAgZm91bmRbb3VyQmFzZV0gPSBzY2hlbWE7XG4gICAgICAvLyBzdHJpcCB0cmFpbGluZyBmcmFnbWVudFxuICAgICAgaWYob3VyQmFzZVtvdXJCYXNlLmxlbmd0aC0xXT09JyMnKXtcbiAgICAgICAgZm91bmRbb3VyQmFzZS5zdWJzdHJpbmcoMCwgb3VyQmFzZS5sZW5ndGgtMSldID0gc2NoZW1hO1xuICAgICAgfVxuICAgIH1cbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL2l0ZW1zJywgKEFycmF5LmlzQXJyYXkoc2NoZW1hLml0ZW1zKT9zY2hlbWEuaXRlbXM6W3NjaGVtYS5pdGVtc10pKTtcbiAgICBzY2FuQXJyYXkob3VyQmFzZSsnL2V4dGVuZHMnLCAoQXJyYXkuaXNBcnJheShzY2hlbWEuZXh0ZW5kcyk/c2NoZW1hLmV4dGVuZHM6W3NjaGVtYS5leHRlbmRzXSkpO1xuICAgIHNjYW5TY2hlbWEob3VyQmFzZSsnL2FkZGl0aW9uYWxJdGVtcycsIHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMpO1xuICAgIHNjYW5PYmplY3Qob3VyQmFzZSsnL3Byb3BlcnRpZXMnLCBzY2hlbWEucHJvcGVydGllcyk7XG4gICAgc2NhblNjaGVtYShvdXJCYXNlKycvYWRkaXRpb25hbFByb3BlcnRpZXMnLCBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMpO1xuICAgIHNjYW5PYmplY3Qob3VyQmFzZSsnL2RlZmluaXRpb25zJywgc2NoZW1hLmRlZmluaXRpb25zKTtcbiAgICBzY2FuT2JqZWN0KG91ckJhc2UrJy9wYXR0ZXJuUHJvcGVydGllcycsIHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcyk7XG4gICAgc2Nhbk9iamVjdChvdXJCYXNlKycvZGVwZW5kZW5jaWVzJywgc2NoZW1hLmRlcGVuZGVuY2llcyk7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9kaXNhbGxvdycsIHNjaGVtYS5kaXNhbGxvdyk7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9hbGxPZicsIHNjaGVtYS5hbGxPZik7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9hbnlPZicsIHNjaGVtYS5hbnlPZik7XG4gICAgc2NhbkFycmF5KG91ckJhc2UrJy9vbmVPZicsIHNjaGVtYS5vbmVPZik7XG4gICAgc2NhblNjaGVtYShvdXJCYXNlKycvbm90Jywgc2NoZW1hLm5vdCk7XG4gIH1cbiAgZnVuY3Rpb24gc2NhbkFycmF5KGJhc2V1cmksIHNjaGVtYXMpe1xuICAgIGlmKCFBcnJheS5pc0FycmF5KHNjaGVtYXMpKSByZXR1cm47XG4gICAgZm9yKHZhciBpPTA7IGk8c2NoZW1hcy5sZW5ndGg7IGkrKyl7XG4gICAgICBzY2FuU2NoZW1hKGJhc2V1cmkrJy8nK2ksIHNjaGVtYXNbaV0pO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBzY2FuT2JqZWN0KGJhc2V1cmksIHNjaGVtYXMpe1xuICAgIGlmKCFzY2hlbWFzIHx8IHR5cGVvZiBzY2hlbWFzIT0nb2JqZWN0JykgcmV0dXJuO1xuICAgIGZvcih2YXIgcCBpbiBzY2hlbWFzKXtcbiAgICAgIHNjYW5TY2hlbWEoYmFzZXVyaSsnLycrcCwgc2NoZW1hc1twXSk7XG4gICAgfVxuICB9XG5cbiAgdmFyIGZvdW5kID0ge307XG4gIHZhciByZWYgPSB7fTtcbiAgc2NhblNjaGVtYShiYXNlLCBzY2hlbWEpO1xuICByZXR1cm4gbmV3IFNjaGVtYVNjYW5SZXN1bHQoZm91bmQsIHJlZik7XG59O1xuIiwiaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi9yYW5kb20nO1xuaW1wb3J0ICogYXMgdmtiZWF1dGlmeSBmcm9tICd2a2JlYXV0aWZ5JztcbmltcG9ydCAqIGFzIE5vdGlmaWNhdGlvbiBmcm9tICcuLi91dGlscy9Ob3RpZmljYXRpb24nO1xuXG5leHBvcnQgZnVuY3Rpb24gemlwPFQ+IChhcnJheTE6IEFycmF5PFQ+LCBhcnJheTI6IEFycmF5PFQ+KTogQXJyYXk8VD4ge1xuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCAoYXJyYXkxLmxlbmd0aCA+IGFycmF5Mi5sZW5ndGggPyBhcnJheTIubGVuZ3RoIDogYXJyYXkxLmxlbmd0aCk7IGkrKykge1xuICAgIHJlc3VsdC5wdXNoKFthcnJheTFbaV0sIGFycmF5MltpXV0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbmZ1bmN0aW9uIGNvcHlBdHRyaWJ1dGVzKHNyYzogRWxlbWVudCwgZHN0OiBFbGVtZW50KTogdm9pZCB7XG4gIGZvciAoY29uc3QgYXR0ciBvZiBzcmMuYXR0cmlidXRlcykge1xuICAgIGRzdC5zZXRBdHRyaWJ1dGUoYXR0ci5uYW1lLCBhdHRyLnZhbHVlKTtcbiAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gY29udmVydFN0YWZmVG9TYihzdGFmZkJhc2VkTWVpOiBzdHJpbmcpOiBzdHJpbmcge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IHNlcmlhbGl6ZXIgPSBuZXcgWE1MU2VyaWFsaXplcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHN0YWZmQmFzZWRNZWksICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gIC8vIGNvbnN0IHByZWNlZGVzU3lsbGFibGVzOiBTZXQ8RWxlbWVudD4gPSBuZXcgU2V0KCk7XG5cbiAgZm9yIChjb25zdCBzZWN0aW9uIG9mIG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2VjdGlvbicpKSB7XG4gICAgY29uc3QgbmV3U3RhZmYgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLCAnc3RhZmYnKTtcbiAgICBjb25zdCBuZXdMYXllciA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICdsYXllcicpO1xuICAgIG5ld1N0YWZmLnNldEF0dHJpYnV0ZSgnbicsICcxJyk7XG4gICAgbmV3TGF5ZXIuc2V0QXR0cmlidXRlKCduJywgJzEnKTtcbiAgICBuZXdTdGFmZi5hcHBlbmRDaGlsZChuZXdMYXllcik7XG5cbiAgICBjb25zdCBzdGF2ZXMgPSBBcnJheS5mcm9tKHNlY3Rpb24uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N0YWZmJykpO1xuXG4gICAgZm9yIChjb25zdCBzdGFmZiBvZiBzdGF2ZXMpIHtcbiAgICAgIGNvbnN0IGxheWVyID0gc3RhZmYuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2xheWVyJylbMF07XG5cbiAgICAgIGNvbnN0IHNiID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3NiJyk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ24nLCBzdGFmZi5nZXRBdHRyaWJ1dGUoJ24nKSk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ2ZhY3MnLCBzdGFmZi5nZXRBdHRyaWJ1dGUoJ2ZhY3MnKSk7XG4gICAgICBzYi5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsIHN0YWZmLmdldEF0dHJpYnV0ZSgneG1sOmlkJykpO1xuXG4gICAgICAvLyBIYW5kbGUgY3VzdG9zXG4gICAgICBsZXQgY3VzdG9zOiBFbGVtZW50ID0gdW5kZWZpbmVkO1xuICAgICAgaWYgKChuZXdMYXllci5sYXN0RWxlbWVudENoaWxkICE9PSBudWxsKSAmJlxuICAgICAgICAobmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZC50YWdOYW1lID09PSAnY3VzdG9zJykpIHtcbiAgICAgICAgY3VzdG9zID0gbmV3TGF5ZXIucmVtb3ZlQ2hpbGQobmV3TGF5ZXIubGFzdEVsZW1lbnRDaGlsZCk7XG4gICAgICB9XG5cbiAgICAgIC8vIEluc2VydCBzYiBlaXRoZXIgYXMgbGFzdCBjaGlsZCBvZiBsYXllciBvciBpbiB0aGUgbGFzdCBzeWxsYWJsZVxuICAgICAgLy8gY29uc3QgbGFzdEVsZW1lbnQgPSBuZXdMYXllci5sYXN0RWxlbWVudENoaWxkO1xuICAgICAgLy8gaWYgKChsYXN0RWxlbWVudCAhPT0gbnVsbCkgJiYgKGxhc3RFbGVtZW50LnRhZ05hbWUgPT09ICdzeWxsYWJsZScpICYmIGxhc3RFbGVtZW50Lmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSkge1xuICAgICAgLy8gICBpZiAoY3VzdG9zICE9PSB1bmRlZmluZWQpIGxhc3RFbGVtZW50LmFwcGVuZENoaWxkKGN1c3Rvcyk7XG4gICAgICAvLyAgIGxhc3RFbGVtZW50LmFwcGVuZENoaWxkKHNiKTtcbiAgICAgIC8vIH1cbiAgICAgIC8vIGVsc2Uge1xuICAgICAgaWYgKGN1c3RvcyAhPT0gdW5kZWZpbmVkKSBuZXdMYXllci5hcHBlbmRDaGlsZChjdXN0b3MpO1xuICAgICAgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQoc2IpO1xuICAgICAgLy8gfVxuXG4gICAgICAvLyBIYW5kbGUgc3BsaXQgc3lsbGFibGVzXG4gICAgICAvLyBmb3IgKGNvbnN0IHByZWNlZGVzIG9mIHByZWNlZGVzU3lsbGFibGVzKSB7XG4gICAgICAvLyAgIGNvbnN0IGZvbGxvd3NJZCA9IHByZWNlZGVzLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKTtcbiAgICAgIC8vICAgY29uc3QgZm9sbG93c1N5bGxhYmxlID0gQXJyYXkuZnJvbShsYXllci5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsbGFibGUnKSlcbiAgICAgIC8vICAgICAuZmlsdGVyKHN5bGxhYmxlID0+IHsgcmV0dXJuICcjJyArIHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IGZvbGxvd3NJZDsgfSlcbiAgICAgIC8vICAgICAucG9wKCk7XG4gICAgICAvLyAgIGlmIChmb2xsb3dzU3lsbGFibGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgLy8gICAgIC8vIENoZWNrIGZvciBwcmVjZWVkaW5nIGNsZWZcbiAgICAgIC8vICAgICBpZiAoKGZvbGxvd3NTeWxsYWJsZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nICE9PSBudWxsKSAmJlxuICAgICAgLy8gICAgIChmb2xsb3dzU3lsbGFibGUucHJldmlvdXNFbGVtZW50U2libGluZy50YWdOYW1lID09PSAnY2xlZicpKSB7XG4gICAgICAvLyAgICAgICBwcmVjZWRlcy5hcHBlbmQoZm9sbG93c1N5bGxhYmxlLnByZXZpb3VzRWxlbWVudFNpYmxpbmcpO1xuICAgICAgLy8gICAgIH1cbiAgICAgIC8vICAgICB3aGlsZSAoZm9sbG93c1N5bGxhYmxlLmZpcnN0Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgIC8vICAgICAgIHByZWNlZGVzLmFwcGVuZChmb2xsb3dzU3lsbGFibGUuZmlyc3RDaGlsZCk7XG4gICAgICAvLyAgICAgfVxuICAgICAgLy8gICAgIGZvbGxvd3NTeWxsYWJsZS5yZW1vdmUoKTtcbiAgICAgIC8vICAgICBwcmVjZWRlcy5yZW1vdmVBdHRyaWJ1dGUoJ3ByZWNlZGVzJyk7XG4gICAgICAvLyAgICAgcHJlY2VkZXNTeWxsYWJsZXMuZGVsZXRlKHByZWNlZGVzKTtcbiAgICAgIC8vICAgfVxuICAgICAgLy8gfVxuXG4gICAgICAvLyBBZGQgcmVtYWluaW5nIGVsZW1lbnRzIG9mIGxheWVyIHRvIG5ld0xheWVyXG4gICAgICB3aGlsZSAobGF5ZXIuZmlyc3RFbGVtZW50Q2hpbGQgIT09IG51bGwpIHtcbiAgICAgICAgLy8gaWYgKGxheWVyLmZpcnN0RWxlbWVudENoaWxkLmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSkge1xuICAgICAgICAvLyAgIHByZWNlZGVzU3lsbGFibGVzLmFkZChsYXllci5maXJzdEVsZW1lbnRDaGlsZCk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgbmV3TGF5ZXIuYXBwZW5kQ2hpbGQobGF5ZXIuZmlyc3RFbGVtZW50Q2hpbGQpO1xuICAgICAgfVxuICAgICAgc3RhZmYucmVtb3ZlKCk7XG4gICAgfVxuICAgIHNlY3Rpb24uYXBwZW5kQ2hpbGQobmV3U3RhZmYpO1xuICB9XG5cbiAgcmV0dXJuIHZrYmVhdXRpZnkueG1sKHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcobWVpRG9jKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRTeWxsYWJsZVRleHQgKHN5bGxhYmxlOiBFbGVtZW50KTogc3RyaW5nIHtcbiAgY29uc3Qgc3lsID0gc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3N5bCcpWzBdLmNoaWxkTm9kZXNbMF07XG4gIGxldCBzeWxUZXh0OiBzdHJpbmc7XG4gIGlmIChzeWwpIHtcbiAgICBzeWxUZXh0ID0gc3lsLm5vZGVWYWx1ZTtcbiAgfVxuICBlbHNlIHtcbiAgICBzeWxUZXh0ID0gJ+KXiic7XG4gIH1cblxuICByZXR1cm4gc3lsVGV4dDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNvbnZlcnRTYlRvU3RhZmYoc2JCYXNlZE1laTogc3RyaW5nKTogc3RyaW5nIHtcbiAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHNiQmFzZWRNZWksICd0ZXh0L3htbCcpO1xuICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gIC8vIENoZWNrIG5ldW1lIHdpdGhvdXQgbmV1bWUgY29tcG9uZW50XG4gIGNvbnN0IG5ldW1lcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduZXVtZScpKTtcbiAgZm9yIChjb25zdCBuZXVtZSBvZiBuZXVtZXMpIHtcbiAgICBpZiAobmV1bWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25jJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBuZXVtZS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGlkID0gbmV1bWUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihgVGhpcyBmaWxlIGNvbnRhaW5zIGEgbmV1bWUgd2l0aG91dCBuZXVtZSBjb21wb25lbnQhPGJyLz5JRDogJHtpZH1gLCAnd2FybmluZycpO1xuICAgIH1cbiAgfVxuXG4gIC8vIENoZWNrIHN5bGxhYmxlIHdpdGhvdXQgbmV1bWUgXG4gIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcbiAgZm9yIChjb25zdCBzeWxsYWJsZSBvZiBzeWxsYWJsZXMpIHtcbiAgICBpZiAoc3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAvLyBzeWxsYWJsZS5yZW1vdmUoKTtcbiAgICAgIGNvbnN0IGlkID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihgVGhpcyBmaWxlIGNvbnRhaW5zIGEgc3lsbGFibGUgd2l0aG91dCBuZXVtZSE8YnIvPklEOiAke2lkfWAsICd3YXJuaW5nJyk7XG4gICAgfVxuICB9XG5cbiAgLy8gR28gc2VjdGlvbiBieSBzZWN0aW9uIGp1c3QgaW4gY2FzZVxuICBmb3IgKGNvbnN0IHNlY3Rpb24gb2YgbWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZWN0aW9uJykpIHtcbiAgICAvLyBJbiBjYXNlIHRoZXJlIGFyZSBtdWx0aXBsZSBzdGF2ZXMgaGVyZSB3ZSB3YW50IHRvIHByZXNlcnZlIHRob3NlXG4gICAgLy8gQSBzZXBhcmF0ZSBhcnJheSBpcyBuZWNlc3NhcnkgYXMgdGhlIEhUTUxDb2xsZWN0aW9uIHdpbGwgdXBkYXRlIVxuICAgIGNvbnN0IG9yaWdpbmFsU3RhdmVzID0gQXJyYXkuZnJvbShzZWN0aW9uLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzdGFmZicpKTtcbiAgICBmb3IgKGNvbnN0IHN0YWZmIG9mIG9yaWdpbmFsU3RhdmVzKSB7XG4gICAgICBjb25zdCBsYXllciA9IHN0YWZmLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsYXllcicpWzBdO1xuICAgICAgLy8gRmlyc3QgcGFzczogZ2V0IGFsbCBzYiBlbGVtZW50cyBhcyBkaXJlY3QgY2hpbGRyZW4gb2YgbGF5ZXJcbiAgICAgIGNvbnN0IHNiQXJyYXkgPSBBcnJheS5mcm9tKGxheWVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzYicpKTtcbiAgICAgIGZvciAoY29uc3Qgc2Igb2Ygc2JBcnJheSkge1xuICAgICAgICBpZiAoc2IucGFyZW50RWxlbWVudC50YWdOYW1lICE9PSAnbGF5ZXInKSB7XG4gICAgICAgICAgY29uc3Qgb3JpZ1N5bGxhYmxlOiBFbGVtZW50ID0gc2IucGFyZW50RWxlbWVudDtcbiAgICAgICAgICBsZXQgbmV1bWVCZWhpbmQgPSBmYWxzZSwgbmV1bWVBaGVhZCA9IGZhbHNlO1xuICAgICAgICAgIGNvbnN0IGNoaWxkQXJyYXkgPSBBcnJheS5mcm9tKG9yaWdTeWxsYWJsZS5jaGlsZHJlbik7XG4gICAgICAgICAgY29uc3Qgc2JJbmRleCA9IGNoaWxkQXJyYXkuaW5kZXhPZihzYik7XG4gICAgICAgICAgZm9yIChjb25zdCBuZXVtZSBvZiBvcmlnU3lsbGFibGUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25ldW1lJykpIHtcbiAgICAgICAgICAgIGNvbnN0IGluZCA9IGNoaWxkQXJyYXkuaW5kZXhPZihuZXVtZSk7XG4gICAgICAgICAgICBpZiAoaW5kIDwgc2JJbmRleCkge1xuICAgICAgICAgICAgICBuZXVtZUJlaGluZCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpbmQgPiBzYkluZGV4KSB7XG4gICAgICAgICAgICAgIG5ldW1lQWhlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cblxuICAgICAgICAgIGlmICghbmV1bWVCZWhpbmQgJiYgbmV1bWVBaGVhZCkge1xuICAgICAgICAgICAgb3JpZ1N5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBzYik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKG5ldW1lQmVoaW5kICYmICFuZXVtZUFoZWFkKSB7XG4gICAgICAgICAgICBvcmlnU3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHNiKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAobmV1bWVCZWhpbmQgJiYgbmV1bWVBaGVhZCl7XG4gICAgICAgICAgICAvLyBXZSBtYXkgbmVlZCB0byBzcGxpdCB0aGUgc3lsbGFibGUgaGVyZVxuICAgICAgICAgICAgY29uc3QgbmV3U3lsbGFibGUgPSBtZWlEb2MuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3Lm11c2ljLWVuY29kaW5nLm9yZy9ucy9tZWknLCAnc3lsbGFibGUnKTtcbiAgICAgICAgICAgIG5ld1N5bGxhYmxlLnNldEF0dHJpYnV0ZSgneG1sOmlkJywgJ20tJyArIHV1aWR2NCgpKTtcbiAgICAgICAgICAgIG5ld1N5bGxhYmxlLnNldEF0dHJpYnV0ZSgnZm9sbG93cycsICcjJyArIG9yaWdTeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpKTtcbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5zZXRBdHRyaWJ1dGUoJ3ByZWNlZGVzJywgJyMnICsgbmV3U3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSk7XG5cbiAgICAgICAgICAgIGNvbnN0IHNiSW5kZXggPSBjaGlsZEFycmF5LmluZGV4T2Yoc2IpO1xuXG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIGNoaWxkQXJyYXkpIHtcbiAgICAgICAgICAgICAgY29uc3QgaW5kZXggPSBjaGlsZEFycmF5LmluZGV4T2YoY2hpbGQpO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPiBzYkluZGV4KSB7XG4gICAgICAgICAgICAgICAgbmV3U3lsbGFibGUuYXBwZW5kQ2hpbGQoY2hpbGQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIG9yaWdTeWxsYWJsZS5pbnNlcnRBZGphY2VudEVsZW1lbnQoJ2FmdGVyZW5kJywgc2IpO1xuICAgICAgICAgICAgc2IuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIG5ld1N5bGxhYmxlKTtcblxuICAgICAgICAgICAgLy8gTW92ZSBhbnkgY3VzdG9zIGluIG9yaWdTeWxsYWJsZSBvdXQgb2YgaXRcbiAgICAgICAgICAgIGZvciAoY29uc3QgY3VzdG9zIG9mIG9yaWdTeWxsYWJsZS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnY3VzdG9zJykpIHtcbiAgICAgICAgICAgICAgb3JpZ1N5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBjdXN0b3MpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBNb3ZlIGFueSBjbGVmIGluIG5ld1N5bGxhYmxlIG91dCBvZiBpdFxuICAgICAgICAgICAgZm9yIChjb25zdCBjbGVmIG9mIG5ld1N5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdjbGVmJykpIHtcbiAgICAgICAgICAgICAgbmV3U3lsbGFibGUuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdiZWZvcmViZWdpbicsIGNsZWYpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybignTk9ORSBCRUhJTkQgTk9ORSBBSEVBRCcpO1xuICAgICAgICAgICAgY29uc29sZS5kZWJ1ZyhvcmlnU3lsbGFibGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBjb25zdCBzYnMgPSBBcnJheS5mcm9tKGxheWVyLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzYicpKTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2JzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTYiA9IHNic1tpXTtcbiAgICAgICAgY29uc3QgbmV4dFNiID0gKHNicy5sZW5ndGggPiBpICsgMSkgPyBzYnNbaSArIDFdIDogdW5kZWZpbmVkO1xuXG4gICAgICAgIGNvbnN0IG5ld1N0YWZmID0gbWVpRG9jLmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy5tdXNpYy1lbmNvZGluZy5vcmcvbnMvbWVpJywgJ3N0YWZmJyk7XG4gICAgICAgIGNvcHlBdHRyaWJ1dGVzKGN1cnJlbnRTYiwgbmV3U3RhZmYpO1xuICAgICAgICBjb25zdCBuZXdMYXllciA9IG1laURvYy5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cubXVzaWMtZW5jb2Rpbmcub3JnL25zL21laScsICdsYXllcicpO1xuICAgICAgICBuZXdMYXllci5zZXRBdHRyaWJ1dGUoJ24nLCAnMScpO1xuICAgICAgICBuZXdMYXllci5zZXRBdHRyaWJ1dGUoJ3htbDppZCcsICdtLScgKyB1dWlkdjQoKSk7XG4gICAgICAgIG5ld1N0YWZmLmFwcGVuZENoaWxkKG5ld0xheWVyKTtcblxuICAgICAgICBjb25zdCBjaGlsZHJlbkFycmF5ID0gQXJyYXkuZnJvbShsYXllci5jaGlsZHJlbik7XG4gICAgICAgIGNvbnN0IGNvcHlBcnJheSA9IGNoaWxkcmVuQXJyYXkuc2xpY2UoY2hpbGRyZW5BcnJheS5pbmRleE9mKGN1cnJlbnRTYikgKyAxLCBjaGlsZHJlbkFycmF5LmluZGV4T2YobmV4dFNiKSk7XG5cbiAgICAgICAgZm9yIChjb25zdCBjaGlsZCBvZiBjb3B5QXJyYXkpIHtcbiAgICAgICAgICBuZXdMYXllci5hcHBlbmRDaGlsZChjaGlsZCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWN0aW9uLmluc2VydEJlZm9yZShuZXdTdGFmZiwgc3RhZmYpO1xuICAgICAgfVxuICAgICAgc3RhZmYucmVtb3ZlKCk7XG4gICAgfVxuICB9XG5cbiAgLy8gU2Vjb25kIHBhc3Mgb24gYWxsIHN5bGxhYmxlcyB0byBoYW5kbGUgY2xlZnMgYW5kIGN1c3RvcyB0aGF0IG1pZ2h0IHJlbWFpblxuICBjb25zdCBuZXdTeWxsYWJsZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc3lsbGFibGUnKSk7XG5cbiAgZm9yIChjb25zdCBzeWxsYWJsZSBvZiBtZWkucXVlcnlTZWxlY3RvckFsbCgnc3lsbGFibGUnKSkge1xuICAgIGZvciAoY29uc3QgY2xlZiBvZiBzeWxsYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCdjbGVmJykpIHtcbiAgICAgIHN5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYmVmb3JlYmVnaW4nLCBjbGVmKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjdXN0b3Mgb2Ygc3lsbGFibGUucXVlcnlTZWxlY3RvckFsbCgnY3VzdG9zJykpIHtcbiAgICAgIHN5bGxhYmxlLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBjdXN0b3MpO1xuICAgIH1cblxuICAgIC8vIENoZWNrIHN5bGxhYmxlcyB0aGF0IGNvbnRhaW5zIEBwcmVjZWRlcyBvciBAZm9sbG93c1xuICAgIC8vIFVwZGF0ZSBzeWxsYWJsZSBhcnJheXMgZm9yIGVhY2ggc3lsbGFibGVcbiAgICBjb25zdCBzeWxsYWJsZUlkeCA9IG5ld1N5bGxhYmxlcy5pbmRleE9mKHN5bGxhYmxlKTtcblxuICAgIC8vIEZvciBlYWNoIHRvZ2dsZS1saW5rZWQgc3lsbGFibGVcbiAgICAvLyBTZXQgQHByZWNlZGVzIGFuZCBAZm9sbG93cyB0byBtYWtlIHN1cmUgcG9pbnRpbmcgdG8gdGhlIGNvcnJlY3Qgc3lsbGFibGVcbiAgICBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpICYmIHN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgICAvLyBDaGVjayBpZiB0aGUgc3lsbGFibGUgaGFzIGJvdGggQHByZWNlZGVzIGFuZCBAZm9sbG93c1xuICAgICAgY29uc3Qgc3lsSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKGBUaGlzIGZpbGUgY29udGFpbnMgYSBzeWxsYWJsZSB0aGF0IGhhcyBib3RoIEBwcmVjZWRlcyBhbmQgQGZvbGxvd3MhPGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoc3lsbGFibGUuaGFzQXR0cmlidXRlKCdwcmVjZWRlcycpKSB7XG4gICAgICAvLyBHZXQgeG1sOmlkIG9mIHRoZSBuZXh0IHN5bGxhYmxlICh3aXRob3V0IHRoZSAjLCBpZiBpdCBleGlzdHMpXG4gICAgICBjb25zdCBuZXh0U3lsbGFibGVJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKS5yZXBsYWNlKCcjJywgJycpO1xuXG4gICAgICAvLyBGaW5kIHRoZSBuZXh0IHN5bGxhYmxlIGFuZCBpdHMgaW5kZXggaW4gdGhlIGFycmF5XG4gICAgICBsZXQgbmV4dFN5bGxhYmxlSWR4OiBudW1iZXI7XG4gICAgICBjb25zdCBuZXh0U3lsbGFibGUgPSBuZXdTeWxsYWJsZXMuZmluZCgoZWxlbWVudCwgaWR4KSA9PiB7XG4gICAgICAgIGlmIChlbGVtZW50LmdldEF0dHJpYnV0ZSgneG1sOmlkJykgPT09IG5leHRTeWxsYWJsZUlkKSB7XG4gICAgICAgICAgbmV4dFN5bGxhYmxlSWR4ID0gaWR4O1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENvbmRpdGlvbiAxOiBUaGUgbmV4dCAoZm9sbG93aW5nKSBzeWxsYWJsZSBjYW5ub3QgYmUgZm91bmRcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlKSB7XG4gICAgICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgICAgICBjb25zdCBzeWxJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihgTWlzc2luZyB0aGUgMm5kIHBhcnQgb2YgdGhlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUgKCR7c3lsVGV4dH0pPGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAyOiBUaGUgbmV4dCBzeWxsYWJsZSBoYXMgYmVlbiBmb3VuZCwgYnV0IHRoZSBAZm9sbG93cyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgICAgIGlmICghbmV4dFN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgnZm9sbG93cycpKSB7XG4gICAgICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgICAgICBjb25zdCBzeWxJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihgVGhlIDJuZCBwYXJ0IG9mIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlICgke3N5bFRleHR9KSBkb2VzIG5vdCBsaW5rIHRvIGFueSBzeWxsYWJsZTxici8+SUQ6ICR7c3lsSWR9YCwgJ2Vycm9yJyk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuXG4gICAgICAvLyBDb25kaXRpb24gMzogVGhlIG5leHQgc3lsbGFibGUncyBAZm9sbG93cyBhdHRyaWJ1dGUgZXhpc3RzLCBidXQgaXQgaXMgbm90IGluIHRoZSBjb3JyZWN0IGZvcm1hdCAjaWRcbiAgICAgIGlmIChuZXh0U3lsbGFibGUuZ2V0QXR0cmlidXRlKCdmb2xsb3dzJykgIT0gJyMnICsgc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSkge1xuICAgICAgICBjb25zdCBzeWxUZXh0ID0gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKTtcbiAgICAgICAgY29uc3Qgc3lsSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYFRoZSAybmQgcGFydCBvZiB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZSAoJHtzeWxUZXh0fSkgbGlua3MgdG8gdGhlIHdyb25nIHN5bGxhYmxlPGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiA0OlxuICAgICAgLy8gU2luY2UgdGhlIEBmb2xsb3dzIHZhbHVlIGlzIGNvcnJlY3QsIGEgcGFpciBvZiBzeWxsYWJsZXMgZXhpc3QgZm9yIHRoZSB0b2dnbGUtbGlua2VkIHN5bGxhYmxlLlxuICAgICAgLy8gQ2hlY2sgaWYgdGhlIEBmb2xsb3dzIHN5bGxhYmxlIGlzIHRoZSBuZXh0IHN5bGxhYmxlIChpbmRleC13aXNlKSBpbiB0aGUgYXJyYXk6XG4gICAgICBpZiAobmV4dFN5bGxhYmxlSWR4ICE9PSBzeWxsYWJsZUlkeCArIDEpIHtcbiAgICAgICAgY29uc3Qgc3lsVGV4dCA9IGdldFN5bGxhYmxlVGV4dChzeWxsYWJsZSk7XG4gICAgICAgIGNvbnN0IHVuZXhwZWN0ZWRTeWxzVGV4dCA9IG5ld1N5bGxhYmxlc1xuICAgICAgICAgIC5zbGljZShzeWxsYWJsZUlkeCArIDEsIG5leHRTeWxsYWJsZUlkeClcbiAgICAgICAgICAubWFwKChzeWxsYWJsZSkgPT4gZ2V0U3lsbGFibGVUZXh0KHN5bGxhYmxlKSk7XG5cbiAgICAgICAgY29uc3Qgc3lsc1RleHQgPSBbc3lsVGV4dCwgLi4udW5leHBlY3RlZFN5bHNUZXh0XS5qb2luKCcgLSAnKTtcbiAgICAgICAgY29uc3Qgc3lsSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYFVuZXhwZWN0ZWQgc3lsbGFibGUocykgaW5zaWRlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGU6ICR7c3lsc1RleHR9PGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gVG9nZ2xlLWxpbmtlZCBzeWxsYWJsZXM6IENoZWNrIHRoZSBGT0xMT1dJTkcgc3lsbGFibGVcbiAgICBlbHNlIGlmIChzeWxsYWJsZS5oYXNBdHRyaWJ1dGUoJ2ZvbGxvd3MnKSkge1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ2ZvbGxvd3MnKS5yZXBsYWNlKCcjJywgJycpO1xuICAgICAgY29uc3QgcHJldlN5bGxhYmxlID0gbmV3U3lsbGFibGVzLmZpbmQoKHN5bGxhYmxlKSA9PiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpID09PSBwcmV2U3lsbGFibGVJZCk7XG5cbiAgICAgIC8vIENvbmRpdGlvbiAxOiBUaGUgcHJldmlvdXMgc3lsbGFibGUgZG9lcyBub3QgZXhpc3RcbiAgICAgIGlmICghcHJldlN5bGxhYmxlKSB7XG4gICAgICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQoc3lsbGFibGUpO1xuICAgICAgICBjb25zdCBzeWxJZCA9IHN5bGxhYmxlLmdldEF0dHJpYnV0ZSgneG1sOmlkJyk7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbihgTWlzc2luZyB0aGUgMXN0IHBhcnQgb2YgdGhlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUgKCR7c3lsVGV4dH0pPGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAyOiBUaGUgcHJldmlvdXMgc3lsbGFibGUgZXhpc3RzLCBidXQgdGhlIEBwcmVjZWRlcyBhdHRyaWJ1dGUgZG9lcyBOT1QgRVhJU1RcbiAgICAgIGlmICghcHJldlN5bGxhYmxlLmhhc0F0dHJpYnV0ZSgncHJlY2VkZXMnKSkge1xuICAgICAgICBjb25zdCBzeWxUZXh0ID0gZ2V0U3lsbGFibGVUZXh0KHByZXZTeWxsYWJsZSk7XG4gICAgICAgIGNvbnN0IHN5bElkID0gc3lsbGFibGUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKTtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKGBUaGUgMXN0IHBhcnQgb2YgdGhlIHRvZ2dsZS1saW5rZWQgc3lsbGFibGUgKCR7c3lsVGV4dH0pIGRvZXMgbm90IGxpbmsgdG8gYW55IHN5bGxhYmxlPGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG5cbiAgICAgIC8vIENvbmRpdGlvbiAzOiBUaGUgcHJldmlvdXMgc3lsbGFibGUncyBAcHJlY2VkZXMgYXR0cmlidXRlIGV4aXN0cywgYnV0IGl0IGlzIG5vdCBpbiB0aGUgY29ycmVjdCBmb3JtYXQgI2lkXG4gICAgICBpZiAocHJldlN5bGxhYmxlLmdldEF0dHJpYnV0ZSgncHJlY2VkZXMnKSAhPSAnIycgKyBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpKSB7XG4gICAgICAgIGNvbnN0IHN5bFRleHQgPSBnZXRTeWxsYWJsZVRleHQocHJldlN5bGxhYmxlKTtcbiAgICAgICAgY29uc3Qgc3lsSWQgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpO1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oYFRoZSAxc3QgcGFydCBvZiB0aGUgdG9nZ2xlLWxpbmtlZCBzeWxsYWJsZSAoJHtzeWxUZXh0fSkgbGlua3MgdG8gdGhlIHdyb25nIHN5bGxhYmxlPGJyLz5JRDogJHtzeWxJZH1gLCAnZXJyb3InKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBjb25zdCBzZXJpYWxpemVyID0gbmV3IFhNTFNlcmlhbGl6ZXIoKTtcbiAgcmV0dXJuIHZrYmVhdXRpZnkueG1sKHNlcmlhbGl6ZXIuc2VyaWFsaXplVG9TdHJpbmcobWVpRG9jKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBjaGVja091dE9mQm91bmRzR2x5cGhzIChtZWlTdHJpbmc6IHN0cmluZyk6IHZvaWQge1xuICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcblxuXG4gIC8vIENoZWNrIGZvciBvdXQtb2YtYm91bmQgZ2x5cGhzXG4gIGNvbnN0IHpvbmVzID0gQXJyYXkuZnJvbShtZWkucXVlcnlTZWxlY3RvckFsbCgnem9uZScpKTtcbiAgY29uc3QgZGltZW5zaW9ucyA9IG1laS5xdWVyeVNlbGVjdG9yKCdzdXJmYWNlJyk7XG4gIGNvbnN0IG1laUxyeCA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ4JykpLCBtZWlMcnkgPSBOdW1iZXIoZGltZW5zaW9ucy5nZXRBdHRyaWJ1dGUoJ2xyeScpKTtcblxuICBmdW5jdGlvbiBpc0F0dHJPdXRPZkJvdW5kcyh6b25lOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICBjb25zdCBjb29yZCA9IE51bWJlcih6b25lLmdldEF0dHJpYnV0ZShhdHRyKSk7XG4gICAgY29uc3QgY29tcCA9IChhdHRyID09ICdscngnIHx8IGF0dHIgPT0gJ3VseCcpID8gbWVpTHJ4IDogbWVpTHJ5O1xuICAgIHJldHVybiBjb29yZCA8IDAgfHwgY29vcmQgPiBjb21wO1xuICB9XG5cbiAgLy8gaXNPdXRPZkJvdW5kcyA9IHdoZXRoZXIgdGhlcmUgZXhpc3RzIGF0IGxlYXN0IG9uZSBmYWNzaW1pbGUgdGhhdCBpcyBvdXQgb2YgYm91bmRzXG4gIGNvbnN0IGlzT3V0T2ZCb3VuZHMgPSB6b25lcy5zb21lKCh6b25lKSA9PiBcbiAgICBbJ3VseCcsICd1bHknLCAnbHJ4JywgJ2xyeSddLnNvbWUoKGF0dHIpID0+IGlzQXR0ck91dE9mQm91bmRzKHpvbmUsIGF0dHIpKVxuICApO1xuXG4gIGlmIChpc091dE9mQm91bmRzKVxuICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhpcyBmb2xpbyBjb250YWlucyBnbHlwaChzKSBwbGFjZWQgb3V0LW9mLWJvdW5kcyEnLCAnd2FybmluZycpO1xufVxuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gXCIuL05lb25WaWV3XCI7XG5pbXBvcnQgeyBNb2RhbFdpbmRvdywgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSBcIi4vdXRpbHMvTW9kYWxXaW5kb3dcIjtcblxuY29uc3Qgc2NoZW1hUmVzcG9uc2UgPSBmZXRjaChfX0FTU0VUX1BSRUZJWF9fICsgJ2Fzc2V0cy9tZWktYWxsLnJuZycpO1xubGV0IHdvcmtlcjogV29ya2VyLCBzY2hlbWE6IHN0cmluZywgc3RhdHVzRmllbGQ6IEhUTUxTcGFuRWxlbWVudDtcblxuLyoqXG4gKiBVcGRhdGUgdGhlIFVJIHdpdGggdGhlIHZhbGlkYXRpb24gcmVzdWx0cy4gQ2FsbGVkIHdoZW4gdGhlIFdlYldvcmtlciBmaW5pc2hlcyB2YWxpZGF0aW5nLlxuICovXG5mdW5jdGlvbiB1cGRhdGVVSSAobWVzc2FnZTogeyBkYXRhOiBzdHJpbmdbXSB9KTogdm9pZCB7XG4gIGNvbnN0IGVycm9ycyA9IG1lc3NhZ2UuZGF0YTtcbiAgaWYgKGVycm9ycyA9PT0gbnVsbCkge1xuICAgIHN0YXR1c0ZpZWxkLnRleHRDb250ZW50ID0gJ1ZBTElEJztcbiAgICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICcjNGJjMTRiJztcbiAgICBmb3IgKGNvbnN0IGNoaWxkIG9mIHN0YXR1c0ZpZWxkLmNoaWxkcmVuKSB7XG4gICAgICBjaGlsZC5yZW1vdmUoKTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbGV0IGxvZyA9ICcnO1xuICAgIGVycm9ycy5mb3JFYWNoKGxpbmUgPT4ge1xuICAgICAgbG9nICs9IGxpbmUgKyAnXFxuJztcbiAgICB9KTtcbiAgICBzdGF0dXNGaWVsZC50ZXh0Q29udGVudCA9ICcnO1xuICAgIHN0YXR1c0ZpZWxkLnN0eWxlLmNvbG9yID0gJ3JlZCc7XG4gICAgY29uc3Qgc3RhdHVzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgLy9saW5rLnNldEF0dHJpYnV0ZSgnaHJlZicsIGBkYXRhOnRleHQvcGxhaW47Y2hhcnNldD11dGYtOCwke2VuY29kZVVSSUNvbXBvbmVudChsb2cpfWApO1xuICAgIC8vbGluay5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgJ3ZhbGlkYXRpb24ubG9nJyk7XG4gICAgc3RhdHVzLnRleHRDb250ZW50ID0gJ0lOVkFMSUQnO1xuICAgIHN0YXR1cy5zdHlsZS5jdXJzb3IgPSAncG9pbnRlcic7XG4gICAgc3RhdHVzRmllbGQuYXBwZW5kQ2hpbGQoc3RhdHVzKTtcblxuICAgIHN0YXR1cy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHN0YXR1c09uQ2xpY2suYmluZCh0aGlzLCBsb2cpKTtcbiAgfVxufVxuXG5mdW5jdGlvbiBzdGF0dXNPbkNsaWNrKGxvZzogc3RyaW5nKSB7XG4gIHRoaXMubW9kYWwuc2V0TW9kYWxXaW5kb3dWaWV3KE1vZGFsV2luZG93Vmlldy5WQUxJREFUSU9OX1NUQVRVUywgbG9nKTtcbiAgdGhpcy5tb2RhbC5vcGVuTW9kYWxXaW5kb3coKTtcbn1cblxuLyoqXG4gKiBBZGQgdGhlIHZhbGlkYXRpb24gaW5mb3JtYXRpb24gdG8gdGhlIGRpc3BsYXkgYW5kIGNyZWF0ZSB0aGUgV2ViV29ya2VyXG4gKiBmb3IgdmFsaWRhdGlvbiBNRUkuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBpbml0IChuZW9uVmlldzogTmVvblZpZXcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgY29uc3QgZmlsZVN0YXR1c0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaWxlLXN0YXR1cycpO1xuICBpZiAoZmlsZVN0YXR1c0RpdiAhPT0gbnVsbCkge1xuICAgIGNvbnN0IHN0YXR1c1RpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgc3RhdHVzVGl0bGUudGV4dENvbnRlbnQgPSAnTUVJIFN0YXR1czonO1xuICAgIHN0YXR1c1RpdGxlLmlkID0gXCJ2YWxpZGF0aW9uX3N0YXR1c190aXRsZVwiO1xuICAgIGNvbnN0IHN0YXR1cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICBzdGF0dXMuaWQgPSAndmFsaWRhdGlvbl9zdGF0dXMnO1xuICAgIHN0YXR1cy50ZXh0Q29udGVudCA9ICd1bmtub3duJztcbiAgICBmaWxlU3RhdHVzRGl2LmFwcGVuZENoaWxkKHN0YXR1c1RpdGxlKTtcbiAgICBmaWxlU3RhdHVzRGl2LmFwcGVuZENoaWxkKHN0YXR1cyk7XG4gICAgc3RhdHVzRmllbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndmFsaWRhdGlvbl9zdGF0dXMnKTtcbiAgICB3b3JrZXIgPSBuZXcgV29ya2VyKF9fQVNTRVRfUFJFRklYX18gKyAnd29ya2Vycy9Xb3JrZXIuanMnKTtcbiAgICB3b3JrZXIub25tZXNzYWdlID0gdXBkYXRlVUkuYmluZChuZW9uVmlldyk7XG4gIH1cbn1cblxuLyoqXG4gKiBTZW5kIHRoZSBjb250ZW50cyBvZiBhbiBNRUkgZmlsZSB0byB0aGUgV2ViV29ya2VyIGZvciB2YWxpZGF0aW9uLlxuICogQHBhcmFtIHtzdHJpbmd9IG1laURhdGFcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHNlbmRGb3JWYWxpZGF0aW9uIChtZWlEYXRhOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcbiAgaWYgKHN0YXR1c0ZpZWxkID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKHNjaGVtYSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBzY2hlbWFSZXNwb25zZTtcbiAgICBzY2hlbWEgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIH1cbiAgc3RhdHVzRmllbGQudGV4dENvbnRlbnQgPSAnY2hlY2tpbmcuLi4nO1xuICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICdncmF5JztcbiAgd29ya2VyLnBvc3RNZXNzYWdlKHtcbiAgICBtZWk6IG1laURhdGEsXG4gICAgc2NoZW1hOiBzY2hlbWFcbiAgfSk7XG59XG5cbi8qKlxuICogVXBkYXRlIHRoZSBtZXNzYWdlIG9uIGEgYmxhbmsgcGFnZSB3aGVuIHRoZXJlIGlzIG5vIE1FSS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJsYW5rUGFnZSAoKTogdm9pZCB7XG4gIGZvciAoY29uc3QgY2hpbGQgb2Ygc3RhdHVzRmllbGQuY2hpbGRyZW4pIHtcbiAgICBjaGlsZC5yZW1vdmUoKTtcbiAgfVxuICBzdGF0dXNGaWVsZC50ZXh0Q29udGVudCA9ICdObyBNRUknO1xuICBzdGF0dXNGaWVsZC5zdHlsZS5jb2xvciA9ICdjb2xvcjpncmF5Jztcbn1cbiIsIlxuLy8gSW5pdGlhbCBzYXZlZCBzdGF0dXNcbmxldCBzYXZlZCA9IHRydWU7XG5cblxuLyoqXG4gKiBVcGRhdGUgc3RhdHVzIG9mIHNhdmVkIHN0YXR1cyBpbmRpY2F0b3JcbiAqL1xuZnVuY3Rpb24gdXBkYXRlSW5kaWNhdG9yICgpOiB2b2lkIHtcbiAgY29uc3QgaW5kaWNhdG9yID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MRGl2RWxlbWVudD4oJyNmaWxlLXNhdmVkJyk7XG4gIGNvbnN0IHBhdGggPSBzYXZlZD8gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NhdmVkLWljb24uc3ZnYCA6IGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy91bnNhdmVkLWljb24uc3ZnYDtcbiAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnc3JjJywgcGF0aCk7XG59XG5cblxuLyoqXG4gKiBTZXQgdGhlIHNhdmVkIHN0YXR1cyBvZiB0aGUgZm9saW9cbiAqIFxuICogQHBhcmFtIHN0YXR1cyBib29sZWFuIHZhbHVlLiB0cnVlIGlmIHN0YXR1cyBpcyBcInNhdmVkXCIsIGZhbHNlIGlmIFwibm90IHNhdmVkXCJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNldFNhdmVkU3RhdHVzIChzdGF0dXM6IGJvb2xlYW4gPSBmYWxzZSk6IHZvaWQge1xuICBzYXZlZCA9IHN0YXR1cztcbiAgdXBkYXRlSW5kaWNhdG9yKCk7XG59XG5cblxuLyoqXG4gKiBGdW5jdGlvbiB0aGF0IGRlZmluZXMgZXZlbnQgbGlzdGVuZXIgdGhhdCBjaGVja3MgZm9yIHVuc2F2ZWQgY2hhbmdlcyBvbiBwYWdlIHJlbG9hZFxuICovXG5leHBvcnQgZnVuY3Rpb24gbGlzdGVuVW5zYXZlZENoYW5nZXMgKCk6IHZvaWQge1xuICB3aW5kb3cub25iZWZvcmV1bmxvYWQgPSAoZTogQmVmb3JlVW5sb2FkRXZlbnQpID0+IHtcbiAgICBpZiAoIXNhdmVkKSB7XG4gICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICByZXR1cm4gJ1lvdSBoYXZlIHVuc2F2ZWQgY2hhbmdlcyEnO1xuICAgIH1cbiAgfTtcbn0iLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuXHRpZiAoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcblx0XHRtb2R1bGUucGF0aHMgPSBbXTtcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcblx0XHRpZiAoIW1vZHVsZS5jaGlsZHJlbikgbW9kdWxlLmNoaWxkcmVuID0gW107XG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcblx0XHRcdH1cblx0XHR9KTtcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XG5cdH1cblx0cmV0dXJuIG1vZHVsZTtcbn07XG4iLCIvKiBlc2xpbnQtZW52IGJyb3dzZXIgKi9cblxuLyoqXG4gKiBUaGlzIGlzIHRoZSB3ZWIgYnJvd3NlciBpbXBsZW1lbnRhdGlvbiBvZiBgZGVidWcoKWAuXG4gKi9cblxuZXhwb3J0cy5mb3JtYXRBcmdzID0gZm9ybWF0QXJncztcbmV4cG9ydHMuc2F2ZSA9IHNhdmU7XG5leHBvcnRzLmxvYWQgPSBsb2FkO1xuZXhwb3J0cy51c2VDb2xvcnMgPSB1c2VDb2xvcnM7XG5leHBvcnRzLnN0b3JhZ2UgPSBsb2NhbHN0b3JhZ2UoKTtcbmV4cG9ydHMuZGVzdHJveSA9ICgoKSA9PiB7XG5cdGxldCB3YXJuZWQgPSBmYWxzZTtcblxuXHRyZXR1cm4gKCkgPT4ge1xuXHRcdGlmICghd2FybmVkKSB7XG5cdFx0XHR3YXJuZWQgPSB0cnVlO1xuXHRcdFx0Y29uc29sZS53YXJuKCdJbnN0YW5jZSBtZXRob2QgYGRlYnVnLmRlc3Ryb3koKWAgaXMgZGVwcmVjYXRlZCBhbmQgbm8gbG9uZ2VyIGRvZXMgYW55dGhpbmcuIEl0IHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCBtYWpvciB2ZXJzaW9uIG9mIGBkZWJ1Z2AuJyk7XG5cdFx0fVxuXHR9O1xufSkoKTtcblxuLyoqXG4gKiBDb2xvcnMuXG4gKi9cblxuZXhwb3J0cy5jb2xvcnMgPSBbXG5cdCcjMDAwMENDJyxcblx0JyMwMDAwRkYnLFxuXHQnIzAwMzNDQycsXG5cdCcjMDAzM0ZGJyxcblx0JyMwMDY2Q0MnLFxuXHQnIzAwNjZGRicsXG5cdCcjMDA5OUNDJyxcblx0JyMwMDk5RkYnLFxuXHQnIzAwQ0MwMCcsXG5cdCcjMDBDQzMzJyxcblx0JyMwMENDNjYnLFxuXHQnIzAwQ0M5OScsXG5cdCcjMDBDQ0NDJyxcblx0JyMwMENDRkYnLFxuXHQnIzMzMDBDQycsXG5cdCcjMzMwMEZGJyxcblx0JyMzMzMzQ0MnLFxuXHQnIzMzMzNGRicsXG5cdCcjMzM2NkNDJyxcblx0JyMzMzY2RkYnLFxuXHQnIzMzOTlDQycsXG5cdCcjMzM5OUZGJyxcblx0JyMzM0NDMDAnLFxuXHQnIzMzQ0MzMycsXG5cdCcjMzNDQzY2Jyxcblx0JyMzM0NDOTknLFxuXHQnIzMzQ0NDQycsXG5cdCcjMzNDQ0ZGJyxcblx0JyM2NjAwQ0MnLFxuXHQnIzY2MDBGRicsXG5cdCcjNjYzM0NDJyxcblx0JyM2NjMzRkYnLFxuXHQnIzY2Q0MwMCcsXG5cdCcjNjZDQzMzJyxcblx0JyM5OTAwQ0MnLFxuXHQnIzk5MDBGRicsXG5cdCcjOTkzM0NDJyxcblx0JyM5OTMzRkYnLFxuXHQnIzk5Q0MwMCcsXG5cdCcjOTlDQzMzJyxcblx0JyNDQzAwMDAnLFxuXHQnI0NDMDAzMycsXG5cdCcjQ0MwMDY2Jyxcblx0JyNDQzAwOTknLFxuXHQnI0NDMDBDQycsXG5cdCcjQ0MwMEZGJyxcblx0JyNDQzMzMDAnLFxuXHQnI0NDMzMzMycsXG5cdCcjQ0MzMzY2Jyxcblx0JyNDQzMzOTknLFxuXHQnI0NDMzNDQycsXG5cdCcjQ0MzM0ZGJyxcblx0JyNDQzY2MDAnLFxuXHQnI0NDNjYzMycsXG5cdCcjQ0M5OTAwJyxcblx0JyNDQzk5MzMnLFxuXHQnI0NDQ0MwMCcsXG5cdCcjQ0NDQzMzJyxcblx0JyNGRjAwMDAnLFxuXHQnI0ZGMDAzMycsXG5cdCcjRkYwMDY2Jyxcblx0JyNGRjAwOTknLFxuXHQnI0ZGMDBDQycsXG5cdCcjRkYwMEZGJyxcblx0JyNGRjMzMDAnLFxuXHQnI0ZGMzMzMycsXG5cdCcjRkYzMzY2Jyxcblx0JyNGRjMzOTknLFxuXHQnI0ZGMzNDQycsXG5cdCcjRkYzM0ZGJyxcblx0JyNGRjY2MDAnLFxuXHQnI0ZGNjYzMycsXG5cdCcjRkY5OTAwJyxcblx0JyNGRjk5MzMnLFxuXHQnI0ZGQ0MwMCcsXG5cdCcjRkZDQzMzJ1xuXTtcblxuLyoqXG4gKiBDdXJyZW50bHkgb25seSBXZWJLaXQtYmFzZWQgV2ViIEluc3BlY3RvcnMsIEZpcmVmb3ggPj0gdjMxLFxuICogYW5kIHRoZSBGaXJlYnVnIGV4dGVuc2lvbiAoYW55IEZpcmVmb3ggdmVyc2lvbikgYXJlIGtub3duXG4gKiB0byBzdXBwb3J0IFwiJWNcIiBDU1MgY3VzdG9taXphdGlvbnMuXG4gKlxuICogVE9ETzogYWRkIGEgYGxvY2FsU3RvcmFnZWAgdmFyaWFibGUgdG8gZXhwbGljaXRseSBlbmFibGUvZGlzYWJsZSBjb2xvcnNcbiAqL1xuXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgY29tcGxleGl0eVxuZnVuY3Rpb24gdXNlQ29sb3JzKCkge1xuXHQvLyBOQjogSW4gYW4gRWxlY3Ryb24gcHJlbG9hZCBzY3JpcHQsIGRvY3VtZW50IHdpbGwgYmUgZGVmaW5lZCBidXQgbm90IGZ1bGx5XG5cdC8vIGluaXRpYWxpemVkLiBTaW5jZSB3ZSBrbm93IHdlJ3JlIGluIENocm9tZSwgd2UnbGwganVzdCBkZXRlY3QgdGhpcyBjYXNlXG5cdC8vIGV4cGxpY2l0bHlcblx0aWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5wcm9jZXNzICYmICh3aW5kb3cucHJvY2Vzcy50eXBlID09PSAncmVuZGVyZXInIHx8IHdpbmRvdy5wcm9jZXNzLl9fbndqcykpIHtcblx0XHRyZXR1cm4gdHJ1ZTtcblx0fVxuXG5cdC8vIEludGVybmV0IEV4cGxvcmVyIGFuZCBFZGdlIGRvIG5vdCBzdXBwb3J0IGNvbG9ycy5cblx0aWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC8oZWRnZXx0cmlkZW50KVxcLyhcXGQrKS8pKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0Ly8gSXMgd2Via2l0PyBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNjQ1OTYwNi8zNzY3NzNcblx0Ly8gZG9jdW1lbnQgaXMgdW5kZWZpbmVkIGluIHJlYWN0LW5hdGl2ZTogaHR0cHM6Ly9naXRodWIuY29tL2ZhY2Vib29rL3JlYWN0LW5hdGl2ZS9wdWxsLzE2MzJcblx0cmV0dXJuICh0eXBlb2YgZG9jdW1lbnQgIT09ICd1bmRlZmluZWQnICYmIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCAmJiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc3R5bGUgJiYgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnN0eWxlLldlYmtpdEFwcGVhcmFuY2UpIHx8XG5cdFx0Ly8gSXMgZmlyZWJ1Zz8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzk4MTIwLzM3Njc3M1xuXHRcdCh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuY29uc29sZSAmJiAod2luZG93LmNvbnNvbGUuZmlyZWJ1ZyB8fCAod2luZG93LmNvbnNvbGUuZXhjZXB0aW9uICYmIHdpbmRvdy5jb25zb2xlLnRhYmxlKSkpIHx8XG5cdFx0Ly8gSXMgZmlyZWZveCA+PSB2MzE/XG5cdFx0Ly8gaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZW4tVVMvZG9jcy9Ub29scy9XZWJfQ29uc29sZSNTdHlsaW5nX21lc3NhZ2VzXG5cdFx0KHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmIG5hdmlnYXRvci51c2VyQWdlbnQgJiYgbmF2aWdhdG9yLnVzZXJBZ2VudC50b0xvd2VyQ2FzZSgpLm1hdGNoKC9maXJlZm94XFwvKFxcZCspLykgJiYgcGFyc2VJbnQoUmVnRXhwLiQxLCAxMCkgPj0gMzEpIHx8XG5cdFx0Ly8gRG91YmxlIGNoZWNrIHdlYmtpdCBpbiB1c2VyQWdlbnQganVzdCBpbiBjYXNlIHdlIGFyZSBpbiBhIHdvcmtlclxuXHRcdCh0eXBlb2YgbmF2aWdhdG9yICE9PSAndW5kZWZpbmVkJyAmJiBuYXZpZ2F0b3IudXNlckFnZW50ICYmIG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5tYXRjaCgvYXBwbGV3ZWJraXRcXC8oXFxkKykvKSk7XG59XG5cbi8qKlxuICogQ29sb3JpemUgbG9nIGFyZ3VtZW50cyBpZiBlbmFibGVkLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gZm9ybWF0QXJncyhhcmdzKSB7XG5cdGFyZ3NbMF0gPSAodGhpcy51c2VDb2xvcnMgPyAnJWMnIDogJycpICtcblx0XHR0aGlzLm5hbWVzcGFjZSArXG5cdFx0KHRoaXMudXNlQ29sb3JzID8gJyAlYycgOiAnICcpICtcblx0XHRhcmdzWzBdICtcblx0XHQodGhpcy51c2VDb2xvcnMgPyAnJWMgJyA6ICcgJykgK1xuXHRcdCcrJyArIG1vZHVsZS5leHBvcnRzLmh1bWFuaXplKHRoaXMuZGlmZik7XG5cblx0aWYgKCF0aGlzLnVzZUNvbG9ycykge1xuXHRcdHJldHVybjtcblx0fVxuXG5cdGNvbnN0IGMgPSAnY29sb3I6ICcgKyB0aGlzLmNvbG9yO1xuXHRhcmdzLnNwbGljZSgxLCAwLCBjLCAnY29sb3I6IGluaGVyaXQnKTtcblxuXHQvLyBUaGUgZmluYWwgXCIlY1wiIGlzIHNvbWV3aGF0IHRyaWNreSwgYmVjYXVzZSB0aGVyZSBjb3VsZCBiZSBvdGhlclxuXHQvLyBhcmd1bWVudHMgcGFzc2VkIGVpdGhlciBiZWZvcmUgb3IgYWZ0ZXIgdGhlICVjLCBzbyB3ZSBuZWVkIHRvXG5cdC8vIGZpZ3VyZSBvdXQgdGhlIGNvcnJlY3QgaW5kZXggdG8gaW5zZXJ0IHRoZSBDU1MgaW50b1xuXHRsZXQgaW5kZXggPSAwO1xuXHRsZXQgbGFzdEMgPSAwO1xuXHRhcmdzWzBdLnJlcGxhY2UoLyVbYS16QS1aJV0vZywgbWF0Y2ggPT4ge1xuXHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0XHRpbmRleCsrO1xuXHRcdGlmIChtYXRjaCA9PT0gJyVjJykge1xuXHRcdFx0Ly8gV2Ugb25seSBhcmUgaW50ZXJlc3RlZCBpbiB0aGUgKmxhc3QqICVjXG5cdFx0XHQvLyAodGhlIHVzZXIgbWF5IGhhdmUgcHJvdmlkZWQgdGhlaXIgb3duKVxuXHRcdFx0bGFzdEMgPSBpbmRleDtcblx0XHR9XG5cdH0pO1xuXG5cdGFyZ3Muc3BsaWNlKGxhc3RDLCAwLCBjKTtcbn1cblxuLyoqXG4gKiBJbnZva2VzIGBjb25zb2xlLmRlYnVnKClgIHdoZW4gYXZhaWxhYmxlLlxuICogTm8tb3Agd2hlbiBgY29uc29sZS5kZWJ1Z2AgaXMgbm90IGEgXCJmdW5jdGlvblwiLlxuICogSWYgYGNvbnNvbGUuZGVidWdgIGlzIG5vdCBhdmFpbGFibGUsIGZhbGxzIGJhY2tcbiAqIHRvIGBjb25zb2xlLmxvZ2AuXG4gKlxuICogQGFwaSBwdWJsaWNcbiAqL1xuZXhwb3J0cy5sb2cgPSBjb25zb2xlLmRlYnVnIHx8IGNvbnNvbGUubG9nIHx8ICgoKSA9PiB7fSk7XG5cbi8qKlxuICogU2F2ZSBgbmFtZXNwYWNlc2AuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IG5hbWVzcGFjZXNcbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5mdW5jdGlvbiBzYXZlKG5hbWVzcGFjZXMpIHtcblx0dHJ5IHtcblx0XHRpZiAobmFtZXNwYWNlcykge1xuXHRcdFx0ZXhwb3J0cy5zdG9yYWdlLnNldEl0ZW0oJ2RlYnVnJywgbmFtZXNwYWNlcyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGV4cG9ydHMuc3RvcmFnZS5yZW1vdmVJdGVtKCdkZWJ1ZycpO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTd2FsbG93XG5cdFx0Ly8gWFhYIChAUWl4LSkgc2hvdWxkIHdlIGJlIGxvZ2dpbmcgdGhlc2U/XG5cdH1cbn1cblxuLyoqXG4gKiBMb2FkIGBuYW1lc3BhY2VzYC5cbiAqXG4gKiBAcmV0dXJuIHtTdHJpbmd9IHJldHVybnMgdGhlIHByZXZpb3VzbHkgcGVyc2lzdGVkIGRlYnVnIG1vZGVzXG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuZnVuY3Rpb24gbG9hZCgpIHtcblx0bGV0IHI7XG5cdHRyeSB7XG5cdFx0ciA9IGV4cG9ydHMuc3RvcmFnZS5nZXRJdGVtKCdkZWJ1ZycpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFN3YWxsb3dcblx0XHQvLyBYWFggKEBRaXgtKSBzaG91bGQgd2UgYmUgbG9nZ2luZyB0aGVzZT9cblx0fVxuXG5cdC8vIElmIGRlYnVnIGlzbid0IHNldCBpbiBMUywgYW5kIHdlJ3JlIGluIEVsZWN0cm9uLCB0cnkgdG8gbG9hZCAkREVCVUdcblx0aWYgKCFyICYmIHR5cGVvZiBwcm9jZXNzICE9PSAndW5kZWZpbmVkJyAmJiAnZW52JyBpbiBwcm9jZXNzKSB7XG5cdFx0ciA9IHByb2Nlc3MuZW52LkRFQlVHO1xuXHR9XG5cblx0cmV0dXJuIHI7XG59XG5cbi8qKlxuICogTG9jYWxzdG9yYWdlIGF0dGVtcHRzIHRvIHJldHVybiB0aGUgbG9jYWxzdG9yYWdlLlxuICpcbiAqIFRoaXMgaXMgbmVjZXNzYXJ5IGJlY2F1c2Ugc2FmYXJpIHRocm93c1xuICogd2hlbiBhIHVzZXIgZGlzYWJsZXMgY29va2llcy9sb2NhbHN0b3JhZ2VcbiAqIGFuZCB5b3UgYXR0ZW1wdCB0byBhY2Nlc3MgaXQuXG4gKlxuICogQHJldHVybiB7TG9jYWxTdG9yYWdlfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbG9jYWxzdG9yYWdlKCkge1xuXHR0cnkge1xuXHRcdC8vIFRWTUxLaXQgKEFwcGxlIFRWIEpTIFJ1bnRpbWUpIGRvZXMgbm90IGhhdmUgYSB3aW5kb3cgb2JqZWN0LCBqdXN0IGxvY2FsU3RvcmFnZSBpbiB0aGUgZ2xvYmFsIGNvbnRleHRcblx0XHQvLyBUaGUgQnJvd3NlciBhbHNvIGhhcyBsb2NhbFN0b3JhZ2UgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuXHRcdHJldHVybiBsb2NhbFN0b3JhZ2U7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Ly8gU3dhbGxvd1xuXHRcdC8vIFhYWCAoQFFpeC0pIHNob3VsZCB3ZSBiZSBsb2dnaW5nIHRoZXNlP1xuXHR9XG59XG5cbm1vZHVsZS5leHBvcnRzID0gcmVxdWlyZSgnLi9jb21tb24nKShleHBvcnRzKTtcblxuY29uc3Qge2Zvcm1hdHRlcnN9ID0gbW9kdWxlLmV4cG9ydHM7XG5cbi8qKlxuICogTWFwICVqIHRvIGBKU09OLnN0cmluZ2lmeSgpYCwgc2luY2Ugbm8gV2ViIEluc3BlY3RvcnMgZG8gdGhhdCBieSBkZWZhdWx0LlxuICovXG5cbmZvcm1hdHRlcnMuaiA9IGZ1bmN0aW9uICh2KSB7XG5cdHRyeSB7XG5cdFx0cmV0dXJuIEpTT04uc3RyaW5naWZ5KHYpO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdHJldHVybiAnW1VuZXhwZWN0ZWRKU09OUGFyc2VFcnJvcl06ICcgKyBlcnJvci5tZXNzYWdlO1xuXHR9XG59O1xuIiwiLyoqIEBtb2R1bGUgU3F1YXJlRWRpdC9Db250cm9scyAqL1xuXG5pbXBvcnQgKiBhcyBDb250ZW50cyBmcm9tICcuL0NvbnRlbnRzJztcbmltcG9ydCB7IHNldEdyb3VwaW5nSGlnaGxpZ2h0IH0gZnJvbSAnLi4vdXRpbHMvQ29sb3InO1xuaW1wb3J0IHsgdW5zZWxlY3QgfSBmcm9tICcuLi91dGlscy9TZWxlY3RUb29scyc7XG5pbXBvcnQgSW5zZXJ0SGFuZGxlciBmcm9tICcuL0luc2VydEhhbmRsZXInO1xuaW1wb3J0IHsgc2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcbmltcG9ydCB7IEdyb3VwaW5nVHlwZSwgU2VsZWN0aW9uVHlwZSB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFicy4nXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiaW5kSW5zZXJ0VGFicyAoaW5zZXJ0SGFuZGxlcjogSW5zZXJ0SGFuZGxlcik6IHZvaWQge1xuICBjb25zdCBpbnNlcnRUYWJzOiBFbGVtZW50W10gPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydFRhYicpKTtcbiAgY29uc3QgdGFiSWRzOiBzdHJpbmdbXSA9IGluc2VydFRhYnMubWFwKCh0YWIpID0+IHsgcmV0dXJuIHRhYi5pZDsgfSk7XG5cbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dDogS2V5Ym9hcmRFdmVudCkgPT4ge1xuICAgIGlmIChldnQuY29kZS5tYXRjaCgvXkRpZ2l0XFxkJC8pICYmIGV2dC5zaGlmdEtleSkge1xuICAgICAgdHJ5IHtcbiAgICAgICAgY29uc3QgaW5kZXggPSBOdW1iZXIoZXZ0LmNvZGVbZXZ0LmNvZGUubGVuZ3RoIC0gMV0pIC0gMTtcbiAgICAgICAgY29uc3QgaW5zZXJ0T3B0aW9ucyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJyk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkT3B0aW9uID0gaW5zZXJ0T3B0aW9uc1tpbmRleF07XG4gICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IHNlbGVjdGVkT3B0aW9uKS5jbGljaygpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBjb25zb2xlLmRlYnVnKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG5cbiAgdGFiSWRzLmZvckVhY2goKHRhYikgPT4ge1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRhYikuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0VGFiJyk7XG4gICAgICBhY3RpdmF0ZSh0YWIsIGluc2VydEhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9kYXRhJykuaW5uZXJIVE1MID0gQ29udGVudHMuaW5zZXJ0VGFiSHRtbFt0YWJdO1xuICAgICAgYmluZEVsZW1lbnRzKGluc2VydEhhbmRsZXIpO1xuICAgICAgZGVhY3RpdmF0ZSgnLmluc2VydGVsJyk7XG4gICAgICBjb25zdCBmaXJzdE9wdGlvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJylbMF07XG4gICAgICBhY3RpdmF0ZShmaXJzdE9wdGlvbi5pZCwgaW5zZXJ0SGFuZGxlcik7XG4gICAgfSk7XG4gIH0pO1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgRWRpdCBhbmQgSW5zZXJ0IGNvbnRyb2wgcGFuZWxzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEluc2VydEVkaXRDb250cm9scyAoKTogdm9pZCB7XG5cbiAgY29uc3QgaW5zZXJ0UGFuZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0X2NvbnRyb2xzJyk7XG4gIGNvbnN0IGluc2VydEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0TWVudScpO1xuICBjb25zdCBpbnNlcnRIZWFkaW5nVGl0bGUgPSBpbnNlcnRIZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1oZWFkaW5nLXRpdGxlJyk7XG4gIGNvbnN0IGluc2VydENvbnRlbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydENvbnRlbnRzJyk7XG4gIGNvbnN0IGluc2VydERyb3Bkb3duSWNvbiA9IGluc2VydEhlYWRpbmcucXVlcnlTZWxlY3Rvcignc3ZnID4gdXNlJyk7XG5cbiAgY29uc3QgZWRpdFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRfY29udHJvbHMnKTtcbiAgY29uc3QgZWRpdEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE1lbnUnKTtcbiAgY29uc3QgZGlzcGxheUhlYWRpbmdUaXRsZSA9IGVkaXRIZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJy5wYW5lbC1oZWFkaW5nLXRpdGxlJyk7XG4gIGNvbnN0IGVkaXRDb250ZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0Q29udGVudHMnKTtcbiAgY29uc3QgZWRpdERyb3Bkb3duSWNvbiA9IGVkaXRIZWFkaW5nLnF1ZXJ5U2VsZWN0b3IoJ3N2ZyA+IHVzZScpO1xuXG5cbiAgLy8gZXZlbnQgbGlzdGVuZXIgZm9yIHdoZW4gdXNlciBjbGlja3MgaW5zaWRlIEluc2VydCBwYW5lbFxuICAvLyBpbnNlcnQgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgaW5zZXJ0UGFuZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgZGlzcGxheUhlYWRpbmdUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJyk7XG4gICAgaW5zZXJ0SGVhZGluZ1RpdGxlLmNsYXNzTGlzdC5hZGQoJ2ZvY3VzZWQnKTtcblxuICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5pbnNlcnRlbC5pcy1hY3RpdmUnKSkuY2xpY2soKTtcbiAgICBlZGl0UGFuZWwucXVlcnlTZWxlY3RvcignLnNpZGUtcGFuZWwtYnRuLnNlbC1ieS5pcy1hY3RpdmUnKS5jbGFzc0xpc3QuYWRkKCd1bmZvY3VzZWQnKTtcbiAgICBpbnNlcnRQYW5lbC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1wYW5lbC1idG4uaW5zZXJ0ZWwuaXMtYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndW5mb2N1c2VkJyk7XG4gIH0pO1xuXG4gIC8vIGV2ZW50IGxpc3RlbmVyIGZvciB3aGVuIHVzZXIgY2xpY2tzIGluc2lkZSBFZGl0IHBhbmVsXG4gIC8vIGVkaXQgbW9kZSBpcyBhY3RpdmF0ZWRcbiAgZWRpdFBhbmVsLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGluc2VydEhlYWRpbmdUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJyk7XG4gICAgZGlzcGxheUhlYWRpbmdUaXRsZS5jbGFzc0xpc3QuYWRkKCdmb2N1c2VkJyk7XG5cbiAgICBpbnNlcnRQYW5lbC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1wYW5lbC1idG4uaW5zZXJ0ZWwuaXMtYWN0aXZlJykuY2xhc3NMaXN0LmFkZCgndW5mb2N1c2VkJyk7XG4gICAgZWRpdFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5zZWwtYnkuaXMtYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndW5mb2N1c2VkJyk7XG4gIH0pO1xuXG5cbiAgaW5zZXJ0SGVhZGluZy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIChlKSA9PiB7XG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAvLyBpZiBpbnNlcnQgcGFuZWwgaXMgY2xvc2VkLCBvcGVuIGl0XG4gICAgaWYgKGluc2VydENvbnRlbnRzLmNsYXNzTGlzdC5jb250YWlucygnY2xvc2VkJykpIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGFuIG9wZW4gcGFuZWxcbiAgICAgIGluc2VydENvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgaW5zZXJ0Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwLjVlbSAwLjc1ZW0nO1xuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGluc2VydENvbnRlbnRzLnN0eWxlLm92ZXJmbG93ID0gJ3Zpc2libGUnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGluc2VydERyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9IFxuICAgIC8vIGlmIGluc2VydCBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGVsc2Uge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYSBjbG9zZWQgcGFuZWxcbiAgICAgIGluc2VydENvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ2Nsb3NlZCcpO1xuICAgICAgaW5zZXJ0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBpbnNlcnRDb250ZW50cy5zdHlsZS5wYWRkaW5nID0gJzBweCc7XG4gICAgICB9LCAyMDApO1xuICAgICAgaW5zZXJ0RHJvcGRvd25JY29uLnNldEF0dHJpYnV0ZSgneGxpbms6aHJlZicsIGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tc2lkZWApO1xuICAgIH1cbiAgfSk7XG5cbiAgZWRpdEhlYWRpbmcuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgLy8gaWYgZWRpdCBwYW5lbCBpcyBvcGVuLCBjbG9zZSBpdFxuICAgIGlmIChlZGl0Q29udGVudHMuY2xhc3NMaXN0LmNvbnRhaW5zKCdjbG9zZWQnKSkge1xuICAgICAgLy8gc2V0IGNsYXNzZXMgYW5kIHN0eWxlcyBmb3IgYW4gb3BlbiBwYW5lbFxuICAgICAgZWRpdENvbnRlbnRzLmNsYXNzTGlzdC5yZW1vdmUoJ2Nsb3NlZCcpO1xuICAgICAgZWRpdENvbnRlbnRzLnN0eWxlLnBhZGRpbmcgPSAnMC41ZW0gMC43NWVtJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlZGl0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAndmlzaWJsZSc7XG4gICAgICB9LCAyMDApO1xuICAgICAgZWRpdERyb3Bkb3duSWNvbi5zZXRBdHRyaWJ1dGUoJ3hsaW5rOmhyZWYnLCBgJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25gKTtcbiAgICB9XG4gICAgLy8gaWYgZWRpdCBwYW5lbCBpcyBjbG9zZWQsIG9wZW4gaXRcbiAgICBlbHNlIHtcbiAgICAgIC8vIHNldCBjbGFzc2VzIGFuZCBzdHlsZXMgZm9yIGEgY2xvc2VkIHBhbmVsXG4gICAgICBlZGl0Q29udGVudHMuY2xhc3NMaXN0LmFkZCgnY2xvc2VkJyk7XG4gICAgICBlZGl0Q29udGVudHMuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBlZGl0Q29udGVudHMuc3R5bGUucGFkZGluZyA9ICcwcHgnO1xuICAgICAgfSwgMjAwKTtcbiAgICAgIGVkaXREcm9wZG93bkljb24uc2V0QXR0cmlidXRlKCd4bGluazpocmVmJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2ljb25zLnN2ZyNkcm9wZG93bi1zaWRlYCk7XG4gICAgfVxuICB9KTtcbn1cblxuLyoqXG4gKiBBY3RpdmF0ZSBhIGNlcnRhaW4gaW5zZXJ0IGFjdGlvbi5cbiAqIFRoaXMgZnVuY3Rpb24gaXMgdXNlZCBmb3IgYWN0aXZhdGluZyBpbnNlcnQgUEFORUxTXG4gKiBhbmQgaW5zZXJ0IElDT05TICh3aHl5eSkuXG4gKiBAcGFyYW0gaWQgLSBUaGUgSUQgb2YgdGhlIGluc2VydCBhY3Rpb24gdGFiLlxuICovXG5mdW5jdGlvbiBhY3RpdmF0ZSAoaWQ6IHN0cmluZywgaW5zZXJ0SGFuZGxlcjogSW5zZXJ0SGFuZGxlcik6IHZvaWQge1xuICBjb25zdCBzZWxlY3RlZFRhYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGlkKTtcbiAgc2VsZWN0ZWRUYWIuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChpZCkuY2xhc3NMaXN0LmNvbnRhaW5zKCdpbnNlcnRlbCcpKSB7XG4gICAgaW5zZXJ0SGFuZGxlci5pbnNlcnRBY3RpdmUoaWQpO1xuICB9XG59XG5cbi8qKlxuICogRGVhY3RpdmF0ZSBhIGNlcnRhaW4gaW5zZXJ0IGFjdGlvbi5cbiAqIEBwYXJhbSB0eXBlIC0gQSBDU1Mgc2VsZWN0b3IgZm9yIHRoZSBhY3Rpb24gdGFiLlxuICovXG5mdW5jdGlvbiBkZWFjdGl2YXRlICh0eXBlOiBzdHJpbmcpIHtcbiAgY29uc3QgZWxMaXN0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh0eXBlKTtcbiAgZWxMaXN0LmZvckVhY2goZWwgPT4ge1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoJ3VuZm9jdXNlZCcpO1xuICB9KTtcbn1cblxuLyoqXG4gKiBCaW5kIGxpc3RlbmVycyB0byBpbnNlcnQgdGFiIGVsZW1lbnRzLlxuICovXG5mdW5jdGlvbiBiaW5kRWxlbWVudHMgKGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXIpIHtcbiAgY29uc3QgaW5zZXJ0RWxlbWVudHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2luc2VydGVsJykpO1xuICBjb25zdCBlbGVtZW50SWRzID0gaW5zZXJ0RWxlbWVudHMubWFwKGVsID0+IGVsLmlkKTtcbiAgZWxlbWVudElkcy5mb3JFYWNoKGVsID0+IHtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbCkuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgICBkZWFjdGl2YXRlKCcuaW5zZXJ0ZWwnKTtcbiAgICAgIGFjdGl2YXRlKGVsLCBpbnNlcnRIYW5kbGVyKTtcbiAgICB9KTtcbiAgfSk7XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVycyBvbiB0aGUgYnV0dG9ucyB0byBjaGFuZ2Ugc2VsZWN0aW9uIG1vZGVzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFNlbGVjdGlvbkJ1dHRvbnMgKCk6IHZvaWQge1xuICBjb25zdCBzZWxCeVN5bGxhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3lsbGFibGUnKTtcbiAgY29uc3Qgc2VsQnlOZXVtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeU5ldW1lJyk7XG4gIGNvbnN0IHNlbEJ5TmMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlOYycpO1xuICBjb25zdCBzZWxCeVN0YWZmID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5U3RhZmYnKTtcbiAgY29uc3Qgc2VsQnlMYXllckVsZW1lbnQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlMYXllckVsZW1lbnQnKTtcblxuICBzZWxCeVN5bGxhYmxlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgc2VsZWN0QnlTeWxIYW5kbGVyKTtcbiAgc2VsQnlOZXVtZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEJ5TmV1bWVIYW5kbGVyKTtcbiAgc2VsQnlOYy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEJ5TmNIYW5kbGVyKTtcbiAgc2VsQnlTdGFmZi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHNlbGVjdEJ5U3RhZmZIYW5kbGVyKTtcbiAgc2VsQnlMYXllckVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZWxCeUxheWVyRWxlbWVudEhhbmRsZXIpO1xuXG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzEnKSBzZWxCeVN5bGxhYmxlLmNsaWNrKCk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICcyJykgc2VsQnlOZXVtZS5jbGljaygpO1xuICAgIGlmIChldnQua2V5ID09PSAnMycpIHNlbEJ5TmMuY2xpY2soKTtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJzQnKSBzZWxCeVN0YWZmLmNsaWNrKCk7XG4gICAgaWYgKGV2dC5rZXkgPT09ICc1Jykgc2VsQnlMYXllckVsZW1lbnQuY2xpY2soKTtcbiAgfSk7XG5cblxuICBmdW5jdGlvbiBzZWxlY3RCeVN5bEhhbmRsZXIgKCkge1xuICAgIGlmICghc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeVN5bGxhYmxlJyB9KTtcblxuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcblxuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmMuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N5bGxhYmxlJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsZWN0QnlOZXVtZUhhbmRsZXIgKCkge1xuICAgIGlmICghc2VsQnlOZXVtZS5jbGFzc0xpc3QuY29udGFpbnMoJ2lzLWFjdGl2ZScpKSB7XG4gICAgICBzZXRTZXR0aW5ncyh7IHNlbGVjdGlvbk1vZGU6ICdzZWxCeU5ldW1lJyB9KTtcblxuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QuYWRkKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmMuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTdGFmZi5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCduZXVtZScpO1xuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgIH1cbiAgfVxuXG4gIGZ1bmN0aW9uIHNlbGVjdEJ5TmNIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5TmMuY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgc2V0U2V0dGluZ3MoeyBzZWxlY3Rpb25Nb2RlOiAnc2VsQnlOYycgfSk7XG5cbiAgICAgIHVuc2VsZWN0KCk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5pbm5lckhUTUwgPSAnJztcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIHNlbEJ5TmMuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5ldW1lLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlTeWxsYWJsZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3RhZmYuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeUxheWVyRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHRyeSB7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhpZ2hsaWdodC1zZWxlY3RlZCcpLmlkID09PSAnaGlnaGxpZ2h0LXNlbGVjdGlvbicpIHtcbiAgICAgICAgICBzZXRHcm91cGluZ0hpZ2hsaWdodCgnbmV1bWUnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cblxuICBmdW5jdGlvbiBzZWxlY3RCeVN0YWZmSGFuZGxlciAoKSB7XG4gICAgaWYgKCFzZWxCeVN0YWZmLmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5U3RhZmYnIH0pO1xuXG4gICAgICB1bnNlbGVjdCgpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXh0cmFFZGl0JykuaW5uZXJIVE1MID0gJyc7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW9yZUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLnBhcmVudEVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICBzZWxCeVN0YWZmLmNsYXNzTGlzdC5hZGQoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOZXVtZS5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5TmMuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICB9IGNhdGNoIChlKSB7fVxuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5oaWdobGlnaHQtc2VsZWN0ZWQnKS5pZCA9PT0gJ2hpZ2hsaWdodC1zZWxlY3Rpb24nKSB7XG4gICAgICAgICAgc2V0R3JvdXBpbmdIaWdobGlnaHQoJ3N0YWZmJyk7XG4gICAgICAgIH1cbiAgICAgIH0gY2F0Y2ggKGUpIHt9XG4gICAgfVxuICB9XG5cbiAgZnVuY3Rpb24gc2VsQnlMYXllckVsZW1lbnRIYW5kbGVyICgpIHtcbiAgICBpZiAoIXNlbEJ5TGF5ZXJFbGVtZW50LmNsYXNzTGlzdC5jb250YWlucygnaXMtYWN0aXZlJykpIHtcbiAgICAgIHNldFNldHRpbmdzKHsgc2VsZWN0aW9uTW9kZTogJ3NlbEJ5TGF5ZXJFbGVtZW50JyB9KTtcblxuICAgICAgdW5zZWxlY3QoKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdtb3JlRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2V4dHJhRWRpdCcpLmlubmVySFRNTCA9ICcnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21vcmVFZGl0JykucGFyZW50RWxlbWVudC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdleHRyYUVkaXQnKS5wYXJlbnRFbGVtZW50LmNsYXNzTGlzdC5hZGQoJ2hpZGRlbicpO1xuICAgICAgc2VsQnlMYXllckVsZW1lbnQuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeU5ldW1lLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgc2VsQnlOYy5jbGFzc0xpc3QucmVtb3ZlKCdpcy1hY3RpdmUnKTtcbiAgICAgIHNlbEJ5U3RhZmYuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICBzZWxCeVN5bGxhYmxlLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NlbEJ5QkJveCcpLmNsYXNzTGlzdC5yZW1vdmUoJ2lzLWFjdGl2ZScpO1xuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICAgIHRyeSB7XG4gICAgICAgIGlmIChkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuaGlnaGxpZ2h0LXNlbGVjdGVkJykuaWQgPT09ICdoaWdobGlnaHQtc2VsZWN0aW9uJykge1xuICAgICAgICAgIHNldEdyb3VwaW5nSGlnaGxpZ2h0KCdsYXllckVsZW1lbnQnKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZSkge31cbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBFZGl0b3JBY3Rpb24sIEluc2VydEFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IGdldFNWR1JlbENvb3JkcywgaXNPdXRPZlNWR0JvdW5kcywgUG9pbnQgfSBmcm9tICcuLi91dGlscy9Db29yZGluYXRlcyc7XG5pbXBvcnQgeyBxdWV1ZU5vdGlmaWNhdGlvbiB9IGZyb20gJy4uL3V0aWxzL05vdGlmaWNhdGlvbic7XG5cbi8qKlxuICogQ2xhc3MgdGhhdCBoYW5kbGVzIGluc2VydCBtb2RlLCBldmVudHMsIGFuZCBhY3Rpb25zLlxuICovXG5jbGFzcyBJbnNlcnRIYW5kbGVyIHtcbiAgdHlwZTogc3RyaW5nO1xuICBmaXJzdENsaWNrID0gdHJ1ZTtcbiAgY29vcmQ6IFBvaW50O1xuICBhdHRyaWJ1dGVzOiBSZWNvcmQ8c3RyaW5nLCBzdHJpbmc+O1xuICBzZWxlY3Rvcjogc3RyaW5nO1xuICBuZW9uVmlldzogTmVvblZpZXc7XG5cbiAgLyoqXG4gICAqIEBwYXJhbSBuZW9uVmlldyAtIE5lb25WaWV3IHBhcmVudC5cbiAgICogQHBhcmFtIHNlbCAtIFRoZSBDU1Mgc2VsZWN0b3IgdG8gYXBwbHkgaW5zZXJ0IGxpc3RlbmVycyB0by5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIHNlbDogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuc2VsZWN0b3IgPSBzZWw7XG4gIH1cblxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYW4gaW5zZXJ0IGJ1dHRvbiBpcyBjbGlja2VkLlxuICAgKiBUcmlnZ2VycyB0aGUgc3RhcnQgb2YgaW5zZXJ0IG1vZGUuXG4gICAqIEBwYXJhbSBidXR0b25JZCAtIFRoZSBJRCBvZiB0aGUgYnV0dG9uIHRoYXQgd2FzIGNsaWNrZWQuXG4gICAqL1xuICBpbnNlcnRBY3RpdmUgKGJ1dHRvbklkOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBjb25zdCBhbHJlYWR5SW5JbnNlcnRNb2RlID0gdGhpcy5pc0luc2VydE1vZGUoKTtcbiAgICBzd2l0Y2ggKGJ1dHRvbklkKSB7XG4gICAgICBjYXNlICdwdW5jdHVtJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdkaWFtb25kJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyB0aWx0OiAnc2UnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlyZ2EnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnbmMnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSB7IHRpbHQ6ICdzJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIC8vdGhlcmUgYXJlIG11bHRpcGxlIHBvc3NpYmxlIGxpcXVlc2NlbnQgY29tYmluYXRpb25zXG4gICAgICBjYXNlICdsaXF1ZXNjZW50QSc6XG4gICAgICAgIHRoaXMudHlwZSA9ICduYyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgY3VydmU6ICdhJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ2xpcXVlc2NlbnRDJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ25jJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBjdXJ2ZTogJ2MnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndmlyZ2FSZXZlcnNlZCc6XG4gICAgICAgIHRoaXMudHlwZSA9ICduYyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgdGlsdDogJ24nIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncGVzJzpcbiAgICAgIGNhc2UgJ2NsaXZpcyc6XG4gICAgICBjYXNlICdzY2FuZGljdXMnOlxuICAgICAgY2FzZSAnY2xpbWFjdXMnOlxuICAgICAgY2FzZSAndG9yY3VsdXMnOlxuICAgICAgY2FzZSAncG9ycmVjdHVzJzpcbiAgICAgIGNhc2UgJ3ByZXNzdXMnOlxuICAgICAgICBjb25zdCBjb250b3VyID0gdGhpcy5uZW9uVmlldy5pbmZvLmdldENvbnRvdXJCeVZhbHVlKFxuICAgICAgICAgIGJ1dHRvbklkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgYnV0dG9uSWQuc2xpY2UoMSlcbiAgICAgICAgKTtcbiAgICAgICAgdGhpcy50eXBlID0gJ2dyb3VwaW5nJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBjb250b3VyOiBjb250b3VyIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY0NsZWYnOlxuICAgICAgY2FzZSAnZkNsZWYnOlxuICAgICAgICB0aGlzLnR5cGUgPSAnY2xlZic7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgc2hhcGU6IGJ1dHRvbklkLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnY3VzdG9zJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2N1c3Rvcyc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IG51bGw7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnZGl2TGluZU1heGltYSc6XG4gICAgICAgIHRoaXMudHlwZSA9ICdkaXZMaW5lJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBmb3JtOiAnbWF4aW1hJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3N0YWZmJzpcbiAgICAgICAgdGhpcy50eXBlID0gJ3N0YWZmJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0gbnVsbDtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdmbGF0JzpcbiAgICAgICAgdGhpcy50eXBlID0gJ2FjY2lkJztcbiAgICAgICAgdGhpcy5hdHRyaWJ1dGVzID0geyBhY2NpZDogJ2YnIH07XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAnbmF0dXJhbCc6XG4gICAgICAgIHRoaXMudHlwZSA9ICdhY2NpZCc7XG4gICAgICAgIHRoaXMuYXR0cmlidXRlcyA9IHsgYWNjaWQ6ICduJyB9O1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIHRoaXMudHlwZSA9ICcnO1xuICAgICAgICB0aGlzLmF0dHJpYnV0ZXMgPSBudWxsO1xuICAgICAgICBjb25zb2xlLmVycm9yKCdJbnZhbGlkIGJ1dHRvbiBmb3IgaW5zZXJ0aW9uOiAnICsgYnV0dG9uSWQgKyAnLicpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuXG4gICAgdGhpcy5yZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmICh0aGlzLnR5cGUgPT09ICdzdGFmZicpIHtcbiAgICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKVxuICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuc3RhZmZIYW5kbGVyKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICAgICAgICAuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmhhbmRsZXIpO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGUpIHt9XG5cbiAgICAvLyBEaXNhYmxlIGVkaXQgbW9kZSBsaXN0ZW5lcnNcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmtleWRvd25MaXN0ZW5lcik7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMucmVzZXRJbnNlcnRIYW5kbGVyKTtcblxuICAgIC8vIEFkZCAncmV0dXJuIHRvIGVkaXQgbW9kZScgYnV0dG9uXG4gICAgaWYgKCFhbHJlYWR5SW5JbnNlcnRNb2RlKSB7XG4gICAgICBjb25zdCBlZGl0TW9kZUJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgZWRpdE1vZGVCdXR0b24uaWQgPSAncmV0dXJuVG9FZGl0TW9kZSc7XG4gICAgICBlZGl0TW9kZUJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdzaWRlLXBhbmVsLWJ0bicpO1xuICAgICAgZWRpdE1vZGVCdXR0b24uaW5uZXJIVE1MID0gJ1JldHVybiB0byBFZGl0IE1vZGUnO1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlZG8nKS5wYXJlbnROb2RlLmFwcGVuZENoaWxkKGVkaXRNb2RlQnV0dG9uKTtcbiAgICAgIGVkaXRNb2RlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5pbnNlcnREaXNhYmxlZCk7XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2VkaXRDb250ZW50cycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5jbGlja2F3YXlIYW5kbGVyKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEaXNhYmxlIGluc2VydCBtb2RlIGFuZCByZW1vdmUgZXZlbnQgbGlzdGVuZXJzLlxuICAgKi9cbiAgaW5zZXJ0RGlzYWJsZWQgPSAoZnVuY3Rpb24gaW5zZXJ0RGlzYWJsZWQgKCk6IHZvaWQge1xuICAgIHRoaXMudHlwZSA9ICcnO1xuICAgIHRoaXMucmVtb3ZlSW5zZXJ0Q2xpY2tIYW5kbGVycygpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMua2V5ZG93bkxpc3RlbmVyKTtcbiAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleXVwJywgdGhpcy5yZXNldEluc2VydEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0aGlzLmNsaWNrYXdheUhhbmRsZXIpO1xuXG4gICAgdGhpcy5maXJzdENsaWNrID0gdHJ1ZTtcbiAgICB0cnkge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JldHVyblRvRWRpdE1vZGUnKS5yZW1vdmUoKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICAvLyBjb25zb2xlLmRlYnVnKGUpO1xuICAgIH1cblxuICAgIGNvbnN0IGluc2VydFBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpO1xuICAgIGNvbnN0IGluc2VydEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5zZXJ0TWVudScpO1xuICAgIGNvbnN0IGluc2VydEhlYWRpbmdUaXRsZSA9IGluc2VydEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcblxuICAgIGNvbnN0IGVkaXRQYW5lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJyk7XG4gICAgY29uc3QgZWRpdEhlYWRpbmcgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZWRpdE1lbnUnKTtcbiAgICBjb25zdCBkaXNwbGF5SGVhZGluZ1RpdGxlID0gZWRpdEhlYWRpbmcucXVlcnlTZWxlY3RvcignLnBhbmVsLWhlYWRpbmctdGl0bGUnKTtcblxuICAgIGluc2VydEhlYWRpbmdUaXRsZS5jbGFzc0xpc3QucmVtb3ZlKCdmb2N1c2VkJyk7XG4gICAgZGlzcGxheUhlYWRpbmdUaXRsZS5jbGFzc0xpc3QuYWRkKCdmb2N1c2VkJyk7XG5cbiAgICBpbnNlcnRQYW5lbC5xdWVyeVNlbGVjdG9yKCcuc2lkZS1wYW5lbC1idG4uaW5zZXJ0ZWwuaXMtYWN0aXZlJykuY2xhc3NMaXN0LmFkZCgndW5mb2N1c2VkJyk7XG4gICAgZWRpdFBhbmVsLnF1ZXJ5U2VsZWN0b3IoJy5zaWRlLXBhbmVsLWJ0bi5zZWwtYnkuaXMtYWN0aXZlJykuY2xhc3NMaXN0LnJlbW92ZSgndW5mb2N1c2VkJyk7XG4gICAgXG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgdG8gaGFuZGxlIGEgdXNlciBjbGlja2luZyBhd2F5IGZyb20gdGhlIGFjdGl2ZSBwYWdlXG4gICAqIGNhdXNpbmcgaW5zZXJ0IG1vZGUgdG8gZW5kLlxuICAgKi9cbiAgY2xpY2thd2F5SGFuZGxlciA9IChmdW5jdGlvbiBjbGlja2F3YXlIYW5kbGVyIChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCB0YXJnZXQgPSBldnQudGFyZ2V0IGFzIEhUTUxFbGVtZW50O1xuICAgIGlmICh0YXJnZXQuY2xvc2VzdCgnLmFjdGl2ZS1wYWdlJykgPT09IG51bGwgJiZcbiAgICAgIHRhcmdldC5jbG9zZXN0KCcjaW5zZXJ0X2NvbnRyb2xzJykgPT09IG51bGwgJiZcbiAgICAgIHRhcmdldC5jbG9zZXN0KCcjc3ZnX2dyb3VwJykgPT09IG51bGwpIHtcbiAgICAgIHRoaXMuaW5zZXJ0RGlzYWJsZWQoKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsXG4gICAgICAgIHRoaXMuc3RhZmZIYW5kbGVyKTtcbiAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsXG4gICAgICAgIHRoaXMuaGFuZGxlcik7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBSZXNldHMgYW4gaW5zZXJ0IGV2ZW50IGxpc3RlbmVyIGFmdGVyIHRlbXBvcmFyaWx5IHJlbW92aW5nIGl0LlxuICAgKi9cbiAgcmVzZXRJbnNlcnRIYW5kbGVyID0gKGZ1bmN0aW9uIHJlc2V0SW5zZXJ0SGFuZGxlciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdTaGlmdCcpIHtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5zZWxlY3RvcilcbiAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy50eXBlID09PSAnc3RhZmYnID9cbiAgICAgICAgICB0aGlzLnN0YWZmSGFuZGxlciA6IHRoaXMuaGFuZGxlcik7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBMaXN0ZW5zIHRvIGtleSBwcmVzc2VzIHRvIGVpdGhlciBleGl0IGVkaXQgbW9kZSAoaWYgRXNjYXBlKSBvclxuICAgKiB0ZW1wb3JhcmlseSByZW1vdmUgaW5zZXJ0IGV2ZW50IGxpc3RlbmVycyAoaWYgU2hpZnQpLlxuICAgKi9cbiAga2V5ZG93bkxpc3RlbmVyID0gKGZ1bmN0aW9uIGtleWRvd25MaXN0ZW5lciAoZXZ0OiBLZXlib2FyZEV2ZW50KTogdm9pZCB7XG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XG4gICAgICB0aGlzLmluc2VydERpc2FibGVkKCk7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLnN0YWZmSGFuZGxlcik7XG4gICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLmhhbmRsZXIpO1xuICAgIH0gZWxzZSBpZiAoZXZ0LmtleSA9PT0gJ1NoaWZ0Jykge1xuICAgICAgdGhpcy5yZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzKCk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBFdmVudCBoYW5kbGVyIGZvciBjbGlja2luZyB0byBpbnNlcnQgYW55IGVsZW1lbnQgZXhjZXB0IGEgc3RhZmYuXG4gICAqL1xuICBoYW5kbGVyID0gKGZ1bmN0aW9uIGhhbmRsZXIgKGV2dDogTW91c2VFdmVudCk6IHZvaWQge1xuICAgIGV2dC5zdG9wUHJvcGFnYXRpb24oKTtcblxuICAgIC8vIElmIHRoZSBjdXJzb3IgaXMgb3V0IG9mIGJvdW5kcywgbm90aGluZyBzaG91bGQgYmUgaW5zZXJ0ZWQuXG4gICAgY29uc3QgY3Vyc29yID0gZ2V0U1ZHUmVsQ29vcmRzKGV2dC5jbGllbnRYLCBldnQuY2xpZW50WSk7XG4gICAgaWYgKGlzT3V0T2ZTVkdCb3VuZHMoY3Vyc29yLngsIGN1cnNvci55KSlcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignW0ZBSUxdIEdseXBoIHdhcyBwbGFjZWQgb3V0IG9mIGJvdW5kcyEgSW5zZXJ0aW9uIGZhaWxlZC4nLCAnZXJyb3InKTtcblxuICAgIGNvbnN0IGVkaXRvckFjdGlvbjogSW5zZXJ0QWN0aW9uID0ge1xuICAgICAgYWN0aW9uOiAnaW5zZXJ0JyxcbiAgICAgIHBhcmFtOiB7XG4gICAgICAgIGVsZW1lbnRUeXBlOiB0aGlzLnR5cGUsXG4gICAgICAgIHN0YWZmSWQ6ICdhdXRvJyxcbiAgICAgICAgdWx4OiBjdXJzb3IueCxcbiAgICAgICAgdWx5OiBjdXJzb3IueSxcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgaWYgKHRoaXMuYXR0cmlidXRlcyAhPT0gbnVsbCkge1xuICAgICAgZWRpdG9yQWN0aW9uLnBhcmFtLmF0dHJpYnV0ZXMgPSB0aGlzLmF0dHJpYnV0ZXM7XG4gICAgICBpZiAodGhpcy5hdHRyaWJ1dGVzWydzaGFwZSddID09PSAnRicpIHtcbiAgICAgICAgZWRpdG9yQWN0aW9uWydwYXJhbSddWyd1bHgnXSAtPSA1MDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLm5lb25WaWV3LmVkaXQoZWRpdG9yQWN0aW9uLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSkudGhlbigoKSA9PiB7XG4gICAgICByZXR1cm4gdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlcik7XG4gICAgfSk7XG4gIH0pLmJpbmQodGhpcyk7XG5cbiAgLyoqXG4gICAqIEV2ZW50IGhhbmRsZXIgdG8gaW5zZXJ0IGEgc3RhZmYuXG4gICAqL1xuICBzdGFmZkhhbmRsZXIgPSAoZnVuY3Rpb24gc3RhZmZIYW5kbGVyIChldnQ6IE1vdXNlRXZlbnQpOiB2b2lkIHtcbiAgICBjb25zdCBjdXJzb3IgPSBnZXRTVkdSZWxDb29yZHMoZXZ0LmNsaWVudFgsIGV2dC5jbGllbnRZKTtcblxuICAgIGlmIChpc091dE9mU1ZHQm91bmRzKGN1cnNvci54LCBjdXJzb3IueSkpIHtcbiAgICAgIHJldHVybiBxdWV1ZU5vdGlmaWNhdGlvbignU3RhZmYgY2Fubm90IGJlIHBsYWNlZCBvdXQgb2YgYm91bmRzIScsICdlcnJvcicpO1xuICAgIH1cblxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5hY3RpdmUtcGFnZSA+IC5kZWZpbml0aW9uLXNjYWxlJyk7XG5cbiAgICBpZiAodGhpcy5maXJzdENsaWNrKSB7XG4gICAgICB0aGlzLmNvb3JkID0gY3Vyc29yO1xuICAgICAgZDMuc2VsZWN0KGNvbnRhaW5lcikuYXBwZW5kKCdjaXJjbGUnKS5hdHRyKCdjeCcsIGN1cnNvci54KVxuICAgICAgICAuYXR0cignY3knLCBjdXJzb3IueSlcbiAgICAgICAgLmF0dHIoJ3InLCAxMClcbiAgICAgICAgLmF0dHIoJ2lkJywgJ3N0YWZmLWNpcmNsZScpXG4gICAgICAgIC5hdHRyKCdmaWxsJywgJ2dyZWVuJyk7XG4gICAgICB0aGlzLmZpcnN0Q2xpY2sgPSBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHVsOiBQb2ludCwgbHI6IFBvaW50O1xuICAgICAgaWYgKGN1cnNvci54IDwgdGhpcy5jb29yZC54IHx8IGN1cnNvci55IDwgdGhpcy5jb29yZC55KSB7IC8vIHNlY29uZCBwb2ludCBpcyBub3QgbHJcbiAgICAgICAgdWwgPSBjdXJzb3I7XG4gICAgICAgIGxyID0gdGhpcy5jb29yZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVsID0gdGhpcy5jb29yZDtcbiAgICAgICAgbHIgPSBjdXJzb3I7XG4gICAgICB9XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhZmYtY2lyY2xlJykucmVtb3ZlKCk7XG4gICAgICBjb25zdCBhY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgYWN0aW9uOiAnaW5zZXJ0JyxcbiAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICBlbGVtZW50VHlwZTogJ3N0YWZmJyxcbiAgICAgICAgICBzdGFmZklkOiAnYXV0bycsXG4gICAgICAgICAgdWx4OiB1bC54LFxuICAgICAgICAgIHVseTogdWwueSxcbiAgICAgICAgICBscng6IGxyLngsXG4gICAgICAgICAgbHJ5OiBsci55XG4gICAgICAgIH1cbiAgICAgIH07XG5cbiAgICAgIHRoaXMubmVvblZpZXcuZWRpdChhY3Rpb24sIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKS50aGVuKCgpID0+IHtcbiAgICAgICAgdGhpcy5uZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICB0aGlzLmZpcnN0Q2xpY2sgPSB0cnVlO1xuICAgICAgfSk7XG4gICAgfVxuICB9KS5iaW5kKHRoaXMpO1xuXG4gIC8qKlxuICAgKiBSZW1vdmUgdGhlIGluc2VydCBsaXN0ZW5lcnMgd2hpbGUgbm90IGxlYXZpbmcgaW5zZXJ0IG1vZGUgZW50aXJlbHkuXG4gICAqL1xuICByZW1vdmVJbnNlcnRDbGlja0hhbmRsZXJzID0gKGZ1bmN0aW9uIHJlbW92ZUluc2VydENsaWNrSGFuZGxlcnMgKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuc2VsZWN0b3IpLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGhpcy5zdGFmZkhhbmRsZXIpO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih0aGlzLnNlbGVjdG9yKS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIHRoaXMuaGFuZGxlcik7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfSkuYmluZCh0aGlzKTtcblxuICBpc0luc2VydE1vZGUgKCk6IGJvb2xlYW4ge1xuICAgIHJldHVybiAodGhpcy50eXBlICE9PSAnJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgSW5zZXJ0SGFuZGxlciBhcyBkZWZhdWx0IH07XG4iLCIvKipcbiAqIENvbnRlbnRzIG9mIG5hdmJhciBtZW51IGFmdGVyIHN3aXRjaGluZyB0byBlZGl0IG1vZGUuXG4gKi9cblxuLy8gXCJGaWxlXCIgRHJvcGRvd25cbmV4cG9ydCBjb25zdCBuYXZiYXJEcm9wZG93bkZpbGVNZW51OiBIVE1MRGl2RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubmF2YmFyRHJvcGRvd25GaWxlTWVudS5jbGFzc0xpc3QuYWRkKCduYXZiYXItaXRlbScsICdoYXMtZHJvcGRvd24nLCAnaXMtaG92ZXJhYmxlJyk7XG5jb25zdCBmaWxlRHJvcGRvd25CdG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmZpbGVEcm9wZG93bkJ0bi5jbGFzc0xpc3QuYWRkKCduYXZiYXItYnRuJyk7XG5maWxlRHJvcGRvd25CdG4uaW5uZXJIVE1MID0gYDxkaXY+RmlsZTwvZGl2PmA7XG5jb25zdCBmaWxlTmF2YmFyQ29udGVudHMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbmZpbGVOYXZiYXJDb250ZW50cy5jbGFzc0xpc3QuYWRkKCduYXZiYXItZHJvcGRvd24nKTtcbmZpbGVOYXZiYXJDb250ZW50cy5pZCA9ICduYXZiYXItZHJvcGRvd24tb3B0aW9ucyc7XG5cbmNvbnN0IGZpbGVEcm9wZG93bkNvbnRlbnRzID0gW1xuICBbJ3NhdmUnLCAnU2F2ZSddLFxuICBbJ2V4cG9ydCcsICdTYXZlIGFuZCBFeHBvcnQgdG8gRmlsZSddLFxuICBbJ2dldG1laScsICdEb3dubG9hZCBNRUknXVxuXTtcblxuZmlsZURyb3Bkb3duQ29udGVudHMuZm9yRWFjaChjb250ZW50ID0+IHtcbiAgY29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICBpdGVtLmlkID0gY29udGVudFswXTtcbiAgaXRlbS5jbGFzc0xpc3QuYWRkKCduYXZiYXItZHJvcGRvd24taXRlbScpO1xuICBpdGVtLnRleHRDb250ZW50ID0gY29udGVudFsxXTtcbiAgZmlsZU5hdmJhckNvbnRlbnRzLmFwcGVuZENoaWxkKGl0ZW0pO1xufSk7XG5cbm5hdmJhckRyb3Bkb3duRmlsZU1lbnUuYXBwZW5kQ2hpbGQoZmlsZURyb3Bkb3duQnRuKTtcbm5hdmJhckRyb3Bkb3duRmlsZU1lbnUuYXBwZW5kQ2hpbGQoZmlsZU5hdmJhckNvbnRlbnRzKTtcblxuLy8gXCJNRUkgQWN0aW9uc1wiIERyb3Bkb3duXG5leHBvcnQgY29uc3QgbmF2YmFyRHJvcGRvd25NRUlBY3Rpb25zTWVudTogSFRNTERpdkVsZW1lbnQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbm5hdmJhckRyb3Bkb3duTUVJQWN0aW9uc01lbnUuY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWl0ZW0nLCAnaGFzLWRyb3Bkb3duJywgJ2lzLWhvdmVyYWJsZScpO1xuY29uc3QgbWVpQWN0aW9uc0Ryb3Bkb3duQnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG5tZWlBY3Rpb25zRHJvcGRvd25CdG4uY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWJ0bicpO1xubWVpQWN0aW9uc0Ryb3Bkb3duQnRuLmlubmVySFRNTCA9IGA8ZGl2Pk1FSSBBY3Rpb25zPC9kaXY+YDtcbmNvbnN0IG1laUFjdGlvbnNOYXZiYXJDb250ZW50cyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xubWVpQWN0aW9uc05hdmJhckNvbnRlbnRzLmNsYXNzTGlzdC5hZGQoJ25hdmJhci1kcm9wZG93bicpO1xubWVpQWN0aW9uc05hdmJhckNvbnRlbnRzLmlkID0gJ25hdmJhci1kcm9wZG93bi1vcHRpb25zJztcbmNvbnN0IG1laUFjdGlvbnNEcm9wZG93bkNvbnRlbnRzID0gW1xuICBbJ3JlbW92ZS1lbXB0eS1zeWxzJywgJ1JlbW92ZSBFbXB0eSBTeWxsYWJsZXMnXSxcbiAgWydyZW1vdmUtZW1wdHktbmV1bWVzJywgJ1JlbW92ZSBFbXB0eSBOZXVtZXMnXSxcbiAgWydyZXZlcnQnLCAnUmV2ZXJ0J11cbl07XG5cbm1laUFjdGlvbnNEcm9wZG93bkNvbnRlbnRzLmZvckVhY2goY29udGVudCA9PiB7XG4gIGNvbnN0IGl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgaXRlbS5pZCA9IGNvbnRlbnRbMF07XG4gIGl0ZW0uY2xhc3NMaXN0LmFkZCgnbmF2YmFyLWRyb3Bkb3duLWl0ZW0nKTtcbiAgaXRlbS50ZXh0Q29udGVudCA9IGNvbnRlbnRbMV07XG4gIG1laUFjdGlvbnNOYXZiYXJDb250ZW50cy5hcHBlbmRDaGlsZChpdGVtKTtcbn0pO1xuXG5uYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51LmFwcGVuZENoaWxkKG1laUFjdGlvbnNEcm9wZG93bkJ0bik7XG5uYXZiYXJEcm9wZG93bk1FSUFjdGlvbnNNZW51LmFwcGVuZENoaWxkKG1laUFjdGlvbnNOYXZiYXJDb250ZW50cyk7XG5cbi8qKlxuICogRmluYWxpemUgb3B0aW9uIGluIHRoZSBuYXZiYXIgZm9yIHJvZGFuXG4gKi9cbmV4cG9ydCBjb25zdCBuYXZiYXJGaW5hbGl6ZSA9XG4gICAgJzxhIGlkPVwiZmluYWxpemVcIiBjbGFzcz1cIm5hdmJhci1pdGVtXCI+IEZpbmFsaXplIE1FSSA8L2E+JztcblxuLyoqXG4gKiBDb250ZW50cyBvZiB0aGUgdW5kby9yZWRvIHBhbmVsIHdpdGggYnV0dG9uc1xuICovXG5leHBvcnQgY29uc3QgdW5kb1JlZG9QYW5lbCA9XG4gIGA8YnV0dG9uIGNsYXNzPVwic2lkZS1wYW5lbC1idG5cIiBpZD1cInVuZG9cIj5VbmRvPC9idXR0b24+XG4gIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwicmVkb1wiPlJlZG88L2J1dHRvbj5gO1xuIiwiaW1wb3J0ICogYXMgTm90aWZpY2F0aW9uIGZyb20gJy4vTm90aWZpY2F0aW9uJztcbmltcG9ydCBOZW9uVmlldyBmcm9tICcuLi9OZW9uVmlldyc7XG5pbXBvcnQgeyBjb252ZXJ0U3RhZmZUb1NiIH0gZnJvbSAnLi9Db252ZXJ0TWVpJztcbmltcG9ydCB7IEVkaXRvckFjdGlvbiB9IGZyb20gJy4uL1R5cGVzJztcblxuLyoqXG4gKiBTZXQgdG9wIG5hdmJhciBldmVudCBsaXN0ZW5lcnMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0TmF2YmFyIChuZW9uVmlldzogTmVvblZpZXcpOiB2b2lkIHtcblxuICAvLyBzZXR1cCBuYXZiYXIgbGlzdGVuZXJzXG4gIGNvbnN0IG5hdmJhckRyb3Bkb3ducyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5uYXZiYXItaXRlbS5oYXMtZHJvcGRvd24uaXMtaG92ZXJhYmxlJyk7XG4gIEFycmF5LmZyb20obmF2YmFyRHJvcGRvd25zKS5mb3JFYWNoKChkcm9wRG93bikgPT4ge1xuICAgIGRyb3BEb3duLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgIC8vXG4gICAgfSk7XG4gIH0pO1xuXG4gIC8qIFwiRklMRVwiIG1lbnUgKi9cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3NhdmUnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBuZW9uVmlldy5zYXZlKCkudGhlbigoKSA9PiB7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ3MnKSB7XG4gICAgICBuZW9uVmlldy5zYXZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU2F2ZWQnLCAnc3VjY2VzcycpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZXhwb3J0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XG4gICAgbmVvblZpZXcuZXhwb3J0KCkudGhlbihtYW5pZmVzdCA9PiB7XG4gICAgICBjb25zdCBsaW5rOiBIVE1MQW5jaG9yRWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2EnKTtcbiAgICAgIGxpbmsuaHJlZiA9IG1hbmlmZXN0IGFzIHN0cmluZztcbiAgICAgIGxpbmsuZG93bmxvYWQgPSBuZW9uVmlldy5uYW1lICsgJy5qc29ubGQnO1xuICAgICAgZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZChsaW5rKTtcbiAgICAgIGxpbmsuY2xpY2soKTtcbiAgICAgIGxpbmsucmVtb3ZlKCk7XG4gICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1NhdmVkJywgJ3N1Y2Nlc3MnKTtcbiAgICB9KTtcbiAgfSk7XG5cbiAgLy8gRG93bmxvYWQgbGluayBmb3IgTUVJXG4gIC8vIElzIGFuIGFjdHVhbCBmaWxlIHdpdGggYSB2YWxpZCBVUkkgZXhjZXB0IGluIGxvY2FsIG1vZGUgd2hlcmUgaXQgbXVzdCBiZSBnZW5lcmF0ZWQuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4obWVpID0+IHtcbiAgICAgIGNvbnN0IGRhdGEgPSAnZGF0YTphcHBsaWNhdGlvbi9tZWkreG1sO2Jhc2U2NCwnICsgd2luZG93LmJ0b2EoY29udmVydFN0YWZmVG9TYihtZWkpKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5zZXRBdHRyaWJ1dGUoJ2hyZWYnLCBkYXRhKTtcbiAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdnZXRtZWknKS5zZXRBdHRyaWJ1dGUoJ2Rvd25sb2FkJywgbmVvblZpZXcudmlldy5nZXRQYWdlTmFtZSgpICsgJy5tZWknKTtcbiAgICB9KTtcbiAgfSk7XG5cblxuICAvKiBcIk1FSSBBQ1RJT05TXCIgbWVudSAqL1xuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZW1vdmUgRW1wdHkgU3lsbGFibGVzXCIgYnV0dG9uIGluc2lkZSBcIk1FSSBBY3Rpb25zXCIgZHJvcGRvd25cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZS1lbXB0eS1zeWxzJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbigpIHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG5cbiAgICBuZW9uVmlldy5nZXRQYWdlTUVJKHVyaSkudGhlbihtZWlTdHJpbmcgPT4ge1xuICAgICAgY29uc3QgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuICAgICAgY29uc3QgbWVpRG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhtZWlTdHJpbmcsICd0ZXh0L3htbCcpO1xuICAgICAgY29uc3QgbWVpID0gbWVpRG9jLmRvY3VtZW50RWxlbWVudDtcbiAgICAgIGNvbnN0IHN5bGxhYmxlcyA9IEFycmF5LmZyb20obWVpLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzeWxsYWJsZScpKTtcblxuICAgICAgLy8gQ2hlY2sgZm9yIHN5bGxhYmxlcyB3aXRob3V0IG5ldW1lc1xuICAgICAgbGV0IGhhc0VtcHR5U3lsbGFibGVzID0gZmFsc2U7XG4gICAgICBjb25zdCByZW1vdmVTeWxsYWJsZUFjdGlvbnMgPSBbXTtcbiAgICAgIGZvciAoY29uc3Qgc3lsbGFibGUgb2Ygc3lsbGFibGVzKSB7XG4gICAgICAgIC8vIGlmIGVtcHR5IHN5bGxhYmxlIGZvdW5kLCBjcmVhdGUgYWN0aW9uIG9iamVjdCBmb3IgcmVtb3ZpbmcgaXRcbiAgICAgICAgaWYgKHN5bGxhYmxlLmdldEVsZW1lbnRzQnlUYWdOYW1lKCduZXVtZScpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIGNvbnN0IHRvUmVtb3ZlOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgICBhY3Rpb246ICdyZW1vdmUnLFxuICAgICAgICAgICAgcGFyYW06IHtcbiAgICAgICAgICAgICAgZWxlbWVudElkOiBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICAvLyBhZGQgYWN0aW9uIG9iamVjdCB0byBhcnJheSAoY2hhaW4pIG9mIGFjdGlvbiBvYmplY3RzXG4gICAgICAgICAgcmVtb3ZlU3lsbGFibGVBY3Rpb25zLnB1c2godG9SZW1vdmUpO1xuICAgICAgICAgIGhhc0VtcHR5U3lsbGFibGVzID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICAvLyBjaGVjayBpZiBlbXB0eSBzeWxsYWJsZXMgd2VyZSBmb3VuZFxuICAgICAgaWYgKCFoYXNFbXB0eVN5bGxhYmxlcykge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ05vIGVtcHR5IHN5bGxhYmxlcyBmb3VuZCcsICd3YXJuaW5nJyk7XG4gICAgICB9XG4gICAgICBlbHNlIHtcbiAgICAgICAgLy8gY3JlYXRlIFwiY2hhaW4gYWN0aW9uXCIgb2JqZWN0XG4gICAgICAgIGNvbnN0IGNoYWluUmVtb3ZlQWN0aW9uOiBFZGl0b3JBY3Rpb24gPSB7XG4gICAgICAgICAgYWN0aW9uOiAnY2hhaW4nLFxuICAgICAgICAgIHBhcmFtOiByZW1vdmVTeWxsYWJsZUFjdGlvbnNcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBleGVjdXRlIGFjdGlvbiB0aGF0IHJlbW92ZXMgYWxsIGVtcHR5IHN5bGxhYmxlc1xuICAgICAgICAvLyBcInJlc3VsdFwiIHZhbHVlIGlzIHRydWUgb3IgZmFsc2UgKHRydWUgaWYgY2hhaW4gb2YgYWN0aW9ucyB3YXMgc3VjY2Vzc2Z1bClcbiAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpblJlbW92ZUFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGVtcHR5IFN5bGxhYmxlcycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gcmVtb3ZlIGVtcHR5IFN5bGxhYmxlcycsICdlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIC8vIEV2ZW50IGxpc3RlbmVyIGZvciBcIlJlbW92ZSBFbXB0eSBOZXVtZXNcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmVtb3ZlLWVtcHR5LW5ldW1lcycpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24oKSB7XG4gICAgY29uc3QgdXJpID0gbmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpO1xuXG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4obWVpU3RyaW5nID0+IHtcbiAgICAgIGNvbnN0IHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTtcbiAgICAgIGNvbnN0IG1laURvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcobWVpU3RyaW5nLCAndGV4dC94bWwnKTtcbiAgICAgIGNvbnN0IG1laSA9IG1laURvYy5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICBjb25zdCBuZXVtZXMgPSBBcnJheS5mcm9tKG1laS5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbmV1bWUnKSk7XG5cbiAgICAgIC8vIENoZWNrIGZvciBuZXVtZXMgd2l0aG91dCBuZXVtZSBjb21wb25lbnRzXG4gICAgICBsZXQgaGFzRW1wdHlOZXVtZXMgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHJlbW92ZU5ldW1lQWN0aW9ucyA9IFtdO1xuICAgICAgZm9yIChjb25zdCBuZXVtZSBvZiBuZXVtZXMpIHtcbiAgICAgICAgLy8gaWYgZW1wdHkgbmV1bWUgZm91bmQsIGNyZWF0ZSBhY3Rpb24gb2JqZWN0IGZvciByZW1vdmluZyBpdFxuICAgICAgICBpZiAobmV1bWUuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ25jJykubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29uc3QgdG9SZW1vdmU6IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICAgIGFjdGlvbjogJ3JlbW92ZScsXG4gICAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgICBlbGVtZW50SWQ6IG5ldW1lLmdldEF0dHJpYnV0ZSgneG1sOmlkJylcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIC8vIGFkZCBhY3Rpb24gb2JqZWN0IHRvIGFycmF5IChjaGFpbikgb2YgYWN0aW9uIG9iamVjdHNcbiAgICAgICAgICByZW1vdmVOZXVtZUFjdGlvbnMucHVzaCh0b1JlbW92ZSk7XG4gICAgICAgICAgaGFzRW1wdHlOZXVtZXMgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG5cbiAgICAgIC8vIGNoZWNrIGlmIGVtcHR5IG5ldW1lcyB3ZXJlIGZvdW5kXG4gICAgICBpZiAoIWhhc0VtcHR5TmV1bWVzKSB7XG4gICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignTm8gZW1wdHkgTmV1bWVzIGZvdW5kJywgJ3dhcm5pbmcnKTtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICAvLyBjcmVhdGUgXCJjaGFpbiBhY3Rpb25cIiBvYmplY3RcbiAgICAgICAgY29uc3QgY2hhaW5SZW1vdmVBY3Rpb246IEVkaXRvckFjdGlvbiA9IHtcbiAgICAgICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICAgICAgcGFyYW06IHJlbW92ZU5ldW1lQWN0aW9ucyxcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBleGVjdXRlIGFjdGlvbiB0aGF0IHJlbW92ZXMgYWxsIGVtcHR5IG5ldW1lc1xuICAgICAgICAvLyBcInJlc3VsdFwiIHZhbHVlIGlzIHRydWUgb3IgZmFsc2UgKHRydWUgaWYgY2hhaW4gb2YgYWN0aW9ucyB3YXMgc3VjY2Vzc2Z1bClcbiAgICAgICAgbmVvblZpZXcuZWRpdChjaGFpblJlbW92ZUFjdGlvbiwgdXJpKS50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgICAgICBuZW9uVmlldy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdSZW1vdmVkIGVtcHR5IE5ldW1lcycsICdzdWNjZXNzJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdGYWlsZWQgdG8gcmVtb3ZlIGVtcHR5IE5ldW1lcycsICdlcnJvcicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmUtb3V0LW9mLWJvdW5kcy1nbHlwaHMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB1cmkgPSBuZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgbmVvblZpZXcuZ2V0UGFnZU1FSSh1cmkpLnRoZW4obWVpU3RyaW5nID0+IHtcbiAgICAgIC8vIExvYWQgTUVJIGRvY3VtZW50IGludG8gcGFyc2VyXG4gICAgICBjb25zdCBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7XG4gICAgICBjb25zdCBtZWlEb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKG1laVN0cmluZywgJ3RleHQveG1sJyk7XG4gICAgICBjb25zdCBtZWkgPSBtZWlEb2MuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgICAvLyBHZXQgYm91bmRzIG9mIHRoZSBNRUlcbiAgICAgIGNvbnN0IGRpbWVuc2lvbnMgPSBtZWkucXVlcnlTZWxlY3Rvcignc3VyZmFjZScpO1xuICAgICAgY29uc3QgbWVpTHJ4ID0gTnVtYmVyKGRpbWVuc2lvbnMuZ2V0QXR0cmlidXRlKCdscngnKSksIG1laUxyeSA9IE51bWJlcihkaW1lbnNpb25zLmdldEF0dHJpYnV0ZSgnbHJ5JykpO1xuXG4gICAgICBmdW5jdGlvbiBpc0F0dHJPdXRPZkJvdW5kcyh6b25lOiBFbGVtZW50LCBhdHRyOiBzdHJpbmcpOiBib29sZWFuIHtcbiAgICAgICAgY29uc3QgY29vcmQgPSBOdW1iZXIoem9uZS5nZXRBdHRyaWJ1dGUoYXR0cikpO1xuICAgICAgICBjb25zdCBjb21wID0gKGF0dHIgPT0gJ2xyeCcgfHwgYXR0ciA9PSAndWx4JykgPyBtZWlMcnggOiBtZWlMcnk7XG4gICAgICAgIHJldHVybiBjb29yZCA8IDAgfHwgY29vcmQgPiBjb21wO1xuICAgICAgfVxuXG4gICAgICAvLyBHZXQgYXJyYXkgb2Ygem9uZXMgdGhhdCBhcmUgb3V0IG9mIGJvdW5kLCBhbmQgY3JlYXRlIGEgaGFzaCBtYXBcbiAgICAgIC8vIGZvciBmYXN0IHJldHJpZXZhbFxuICAgICAgY29uc3Qgem9uZXMgPSBBcnJheS5mcm9tKG1laS5xdWVyeVNlbGVjdG9yQWxsKCd6b25lJykpO1xuICAgICAgY29uc3Qgb3V0T2ZCb3VuZFpvbmVzID0gem9uZXMuZmlsdGVyKHpvbmUgPT5cbiAgICAgICAgWyd1bHgnLCAndWx5JywgJ2xyeCcsICdscnknXS5zb21lKChhdHRyKSA9PiBpc0F0dHJPdXRPZkJvdW5kcyh6b25lLCBhdHRyKSlcbiAgICAgICk7XG4gICAgICBjb25zdCB6b25lTWFwID0gbmV3IE1hcChvdXRPZkJvdW5kWm9uZXMubWFwKHpvbmUgPT4gW3pvbmUuZ2V0QXR0cmlidXRlKCd4bWw6aWQnKSwgem9uZV0pKTtcblxuICAgICAgLy8gRmlsdGVyIG91dCB0aGUgbmV1bWUgY29tcG9uZW50cyBhbmQgZGl2bGluZXMgdGhhdCBoYXZlIGEgem9uZSBvdXQgb2YgYm91bmRzXG4gICAgICBjb25zdCBnbHlwaHMgPSBBcnJheS5mcm9tKG1laS5xdWVyeVNlbGVjdG9yQWxsKCduYywgZGl2TGluZSwgY2xlZiwgYWNjaWQnKSk7XG4gICAgICBjb25zdCBvdXRPZkJvdW5kR2x5cGhzID0gZ2x5cGhzLmZpbHRlcihnbHlwaCA9PiB7XG4gICAgICAgIGlmIChnbHlwaC5oYXNBdHRyaWJ1dGUoJ2ZhY3MnKSkge1xuICAgICAgICAgIGNvbnN0IGZhY3NJZCA9IGdseXBoLmdldEF0dHJpYnV0ZSgnZmFjcycpLnNsaWNlKDEpO1xuICAgICAgICAgIHJldHVybiB6b25lTWFwLmhhcyhmYWNzSWQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfSk7XG5cbiAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGFyZSBubyBvdXQtb2YtYm91bmQgZ2x5cGhzLCBhbmQgXG4gICAgICAvLyBleGl0LCBzaW5jZSBubyBlZGl0IG5lZWRzIHRvIGJlIG1hZGUuXG4gICAgICBpZiAob3V0T2ZCb3VuZEdseXBocy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignVGhlcmUgYXJlIG5vIG91dC1vZi1ib3VuZCBnbHlwaHMgdG8gcmVtb3ZlLicsICd3YXJuaW5nJyk7XG4gICAgICB9XG5cbiAgICAgIC8vIENyZWF0ZSByZW1vdmUgYWN0aW9ucyBhbmQgY2hhaW4gYWN0aW9uIHRvIHNlbmQgdG8gVmVyb3Zpb1xuICAgICAgY29uc3QgcmVtb3ZlQWN0aW9uczogRWRpdG9yQWN0aW9uW10gPSBvdXRPZkJvdW5kR2x5cGhzLm1hcChnbHlwaCA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgYWN0aW9uOiAncmVtb3ZlJyxcbiAgICAgICAgICBwYXJhbToge1xuICAgICAgICAgICAgZWxlbWVudElkOiBnbHlwaC5nZXRBdHRyaWJ1dGUoJ3htbDppZCcpLFxuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pO1xuXG4gICAgICBjb25zdCBjaGFpbkFjdGlvbjogRWRpdG9yQWN0aW9uID0ge1xuICAgICAgICBhY3Rpb246ICdjaGFpbicsXG4gICAgICAgIHBhcmFtOiByZW1vdmVBY3Rpb25zLFxuICAgICAgfTtcblxuICAgICAgbmVvblZpZXcuZWRpdChjaGFpbkFjdGlvbiwgdXJpKVxuICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICAgICAgbmVvblZpZXcudXBkYXRlRm9yQ3VycmVudFBhZ2UoKTtcbiAgICAgICAgICAgIE5vdGlmaWNhdGlvbi5xdWV1ZU5vdGlmaWNhdGlvbignU3VjY2Vzc2Z1bGx5IHJlbW92ZWQgb3V0LW9mLWJvdW5kcyBzeWxsYWJsZXMuJywgJ3N1Y2Nlc3MnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ0ZhaWxlZCB0byByZW1vdmUgb3V0LW9mLWJvdW5kIHN5bGxhYmxlcy4nLCAnZXJyb3InKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0pO1xuICB9KTtcblxuICAvLyBFdmVudCBsaXN0ZW5lciBmb3IgXCJSZXZlcnRcIiBidXR0b24gaW5zaWRlIFwiTUVJIEFjdGlvbnNcIiBkcm9wZG93blxuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncmV2ZXJ0JykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoKSB7XG4gICAgaWYgKHdpbmRvdy5jb25maXJtKCdSZXZlcnRpbmcgd2lsbCBjYXVzZSBhbGwgY2hhbmdlcyB0byBiZSBsb3N0LiBQcmVzcyBPSyB0byBjb250aW51ZS4nKSkge1xuICAgICAgbmVvblZpZXcuZGVsZXRlRGIoKS50aGVuKCgpID0+IHtcbiAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcblxuXG4gIC8qIFwiVklFV1wiIG1lbnUgKi9cblxuICAvKlxuXG4gIC8vIEV2ZW50IGxpc3RlbmVycyBmb3Igc2V0dGluZyBkZWZhdWx0IHpvb20gc2V0dGluZ3MgaW5zaWRlIFwiVmlld1wiIGRyb3Bkb3duXG4gIGNvbnN0IGZpdENvbnRlbnRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjem9vbS1maXQtY29udGVudCcpO1xuICBjb25zdCBmaXRDb250ZW50Q2hlY2ttYXJrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3pvb20tZml0LWNvbnRlbnQtaWNvbicpO1xuICBjb25zdCBlYXN5RWRpdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tLWVhc3ktZWRpdCcpO1xuICBjb25zdCBlYXN5RWRpdENoZWNrbWFyayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyN6b29tLWVhc3ktZWRpdC1pY29uJyk7XG4gIFxuICAvLyBmaXQgY29udGVudCBsaXN0ZW5lclxuICBmaXRDb250ZW50QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGVhc3lFZGl0QnRuLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcbiAgICBmaXRDb250ZW50QnRuLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcblxuICAgIGVhc3lFZGl0Q2hlY2ttYXJrLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgZml0Q29udGVudENoZWNrbWFyay5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuXG4gICAgLy8gVE9ETzogU2F2ZSBkZWZhdWx0IHpvb20gc2V0dGluZ3MgaW4gbG9jYWwgc3RvcmFnZVxuICAgIFxuICB9KTtcbiAgLy8gZWFzeSBlZGl0IGxpc3RlbmVyXG4gIGVhc3lFZGl0QnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xuICAgIGZpdENvbnRlbnRCdG4uY2xhc3NMaXN0LnJlbW92ZSgnY2hlY2tlZCcpO1xuICAgIGVhc3lFZGl0QnRuLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcblxuICAgIGZpdENvbnRlbnRDaGVja21hcmsuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICBlYXN5RWRpdENoZWNrbWFyay5jbGFzc0xpc3QuYWRkKCdzZWxlY3RlZCcpO1xuXG4gICAgLy8gVE9ETzogU2F2ZSBkZWZhdWx0IHpvb20gc2V0dGluZ3MgaW4gbG9jYWwgc3RvcmFnZVxuXG4gIH0pO1xuICAqL1xufVxuXG4vKipcbiAqIEluaXRpYWxpemUgdGhlIHVuZG8vcmVkbyBwYW5lbFxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdFVuZG9SZWRvUGFuZWwgKG5lb25WaWV3OiBOZW9uVmlldyk6IHZvaWQge1xuICAvKipcbiAgICogVHJpZXMgdG8gdW5kbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHVuZG9IYW5kbGVyICgpOiB2b2lkIHtcbiAgICBuZW9uVmlldy51bmRvKCkudGhlbigocmVzdWx0OiBib29sZWFuKSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoZXJlIGlzIG5vdGhpbmcgbGVmdCB0byB1bmRvLicpO1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byB1bmRvIGFjdGlvbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAgICogVHJpZXMgdG8gcmVkbyBhbiBhY3Rpb24gYW5kIHVwZGF0ZSB0aGUgcGFnZSBpZiBpdCBzdWNjZWVkcy5cbiAgICovXG4gIGZ1bmN0aW9uIHJlZG9IYW5kbGVyICgpOiB2b2lkIHtcbiAgICBuZW9uVmlldy5yZWRvKCkudGhlbigocmVzdWx0OiBib29sZWFuKSA9PiB7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIG5lb25WaWV3LnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBOb3RpZmljYXRpb24ucXVldWVOb3RpZmljYXRpb24oJ1RoZXJlIGlzIG5vdGhpbmcgbGVmdCB0byByZWRvLicpO1xuICAgICAgICBjb25zb2xlLndhcm4oJ0ZhaWxlZCB0byByZWRvIGFjdGlvbicpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VuZG8nKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIHVuZG9IYW5kbGVyKTtcbiAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgKGV2dCkgPT4ge1xuICAgIGlmIChldnQua2V5ID09PSAneicgJiYgKGV2dC5jdHJsS2V5IHx8IGV2dC5tZXRhS2V5KSkge1xuICAgICAgdW5kb0hhbmRsZXIoKTtcbiAgICB9XG4gIH0pO1xuXG4gIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZWRvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCByZWRvSGFuZGxlcik7XG4gIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIChldnQpID0+IHtcbiAgICBpZiAoKGV2dC5rZXkgPT09ICdaJyB8fCAoZXZ0LmtleSA9PT0gJ3onICYmIGV2dC5zaGlmdEtleSkpICYmIChldnQuY3RybEtleSB8fCBldnQubWV0YUtleSkpIHtcbiAgICAgIHJlZG9IYW5kbGVyKCk7XG4gICAgfVxuICB9KTtcbn1cbiIsImltcG9ydCBOZW9uVmlldyBmcm9tICcuLi8uLi9zcmMvTmVvblZpZXcnO1xuaW1wb3J0IERpc3BsYXlQYW5lbCBmcm9tICcuLi8uLi9zcmMvRGlzcGxheVBhbmVsL0Rpc3BsYXlQYW5lbCc7XG5pbXBvcnQgRGl2YVZpZXcgZnJvbSAnLi4vLi4vc3JjL0RpdmFWaWV3JztcbmltcG9ydCBTaW5nbGVWaWV3IGZyb20gJy4uLy4uL3NyYy9TaW5nbGVWaWV3L1NpbmdsZVZpZXcnO1xuaW1wb3J0IERpdmFFZGl0IGZyb20gJy4uLy4uL3NyYy9TcXVhcmVFZGl0L0RpdmFFZGl0TW9kZSc7XG5pbXBvcnQgU2luZ2xlRWRpdE1vZGUgZnJvbSAnLi4vLi4vc3JjL1NxdWFyZUVkaXQvU2luZ2xlRWRpdE1vZGUnO1xuaW1wb3J0IEluZm9Nb2R1bGUgZnJvbSAnLi4vLi4vc3JjL0luZm9Nb2R1bGUnO1xuaW1wb3J0IFRleHRWaWV3IGZyb20gJy4uLy4uL3NyYy9UZXh0Vmlldyc7XG5pbXBvcnQgVGV4dEVkaXRNb2RlIGZyb20gJy4uLy4uL3NyYy9UZXh0RWRpdE1vZGUnO1xuaW1wb3J0IHsgTmVvblZpZXdQYXJhbXMgfSBmcm9tICcuLi8uLi9zcmMvSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBOZW9uTWFuaWZlc3QgfSBmcm9tICcuLi8uLi9zcmMvVHlwZXMnO1xuaW1wb3J0IFBvdWNoREIgZnJvbSAncG91Y2hkYic7XG5cbmNvbnN0IG5hbWUgPSBnZXRHZXRQYXJhbSgnbWFuaWZlc3QnKTtcbmNvbnN0IHN0b3JhZ2UgPSBnZXRHZXRQYXJhbSgnc3RvcmFnZScpO1xuXG5pZiAobmFtZSkge1xuICBjb25zdCBtYW5pZmVzdExvY2F0aW9uID0gYC4vc2FtcGxlcy9tYW5pZmVzdHMvJHtuYW1lfS5qc29ubGRgO1xuICB3aW5kb3cuZmV0Y2gobWFuaWZlc3RMb2NhdGlvbikudGhlbihyZXNwb25zZSA9PiB7XG4gICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgfVxuICB9KS50aGVuKGFzeW5jIHRleHQgPT4ge1xuICAgIGxldCBtYW5pZmVzdDogTmVvbk1hbmlmZXN0O1xuICAgIHRyeSB7XG4gICAgICBtYW5pZmVzdCA9IEpTT04ucGFyc2UodGV4dCk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgIGNvbnNvbGUuZGVidWcodGV4dCk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIC8vIERldGVybWluZSBpZiBpdCBpcyBhIHNpbmdsZSBwYWdlIG9yIG11bHRpcGxlIGJ5IG1lZGlhIHR5cGVcbiAgICBjb25zdCBtZWRpYVR5cGU6IHN0cmluZyA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5mZXRjaChtYW5pZmVzdC5pbWFnZSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJlc29sdmUoPHN0cmluZz5yZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGxldCBwYXJhbXM6IE5lb25WaWV3UGFyYW1zO1xuICAgIGlmIChtZWRpYVR5cGUubWF0Y2goL2ltYWdlXFwvKi8pKSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IFNpbmdsZVZpZXcsXG4gICAgICAgIE5ldW1lRWRpdDogU2luZ2xlRWRpdE1vZGVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgbWFuaWZlc3Q6IG1hbmlmZXN0LFxuICAgICAgICBEaXNwbGF5OiBEaXNwbGF5UGFuZWwsXG4gICAgICAgIEluZm86IEluZm9Nb2R1bGUsXG4gICAgICAgIFRleHRWaWV3OiBUZXh0VmlldyxcbiAgICAgICAgVGV4dEVkaXQ6IFRleHRFZGl0TW9kZSxcbiAgICAgICAgVmlldzogRGl2YVZpZXcsXG4gICAgICAgIE5ldW1lRWRpdDogRGl2YUVkaXRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgdmlldyA9IG5ldyBOZW9uVmlldyhwYXJhbXMpO1xuICAgIHZpZXcuc3RhcnQoKTtcbiAgfSk7XG59IGVsc2Uge1xuICBjb25zdCBkYiA9IG5ldyBQb3VjaERCKCdOZW9uLVVzZXItU3RvcmFnZScpO1xuICBkYi5nZXRBdHRhY2htZW50KHN0b3JhZ2UsICdtYW5pZmVzdCcpLnRoZW4oYmxvYiA9PiB7XG4gICAgcmV0dXJuIG5ldyB3aW5kb3cuUmVzcG9uc2UoYmxvYikuanNvbigpO1xuICB9KS50aGVuKGFzeW5jIG1hbmlmZXN0ID0+IHtcbiAgICBjb25zdCBtZWRpYVR5cGU6IHN0cmluZyA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIHdpbmRvdy5mZXRjaChtYW5pZmVzdC5pbWFnZSkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgIHJlc29sdmUoPHN0cmluZz5yZXNwb25zZS5oZWFkZXJzLmdldCgnQ29udGVudC1UeXBlJykpO1xuICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICB9KTtcbiAgICB9KTtcblxuICAgIGxldCBwYXJhbXM6IE5lb25WaWV3UGFyYW1zO1xuICAgIGlmIChtZWRpYVR5cGUubWF0Y2goL2ltYWdlXFwvKi8pKSB7XG4gICAgICBwYXJhbXMgPSB7XG4gICAgICAgIG1hbmlmZXN0OiBtYW5pZmVzdCxcbiAgICAgICAgRGlzcGxheTogRGlzcGxheVBhbmVsLFxuICAgICAgICBJbmZvOiBJbmZvTW9kdWxlLFxuICAgICAgICBUZXh0VmlldzogVGV4dFZpZXcsXG4gICAgICAgIFRleHRFZGl0OiBUZXh0RWRpdE1vZGUsXG4gICAgICAgIFZpZXc6IFNpbmdsZVZpZXcsXG4gICAgICAgIE5ldW1lRWRpdDogU2luZ2xlRWRpdE1vZGVcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIHBhcmFtcyA9IHtcbiAgICAgICAgbWFuaWZlc3Q6IG1hbmlmZXN0LFxuICAgICAgICBEaXNwbGF5OiBEaXNwbGF5UGFuZWwsXG4gICAgICAgIEluZm86IEluZm9Nb2R1bGUsXG4gICAgICAgIFRleHRWaWV3OiBUZXh0VmlldyxcbiAgICAgICAgVGV4dEVkaXQ6IFRleHRFZGl0TW9kZSxcbiAgICAgICAgVmlldzogRGl2YVZpZXcsXG4gICAgICAgIE5ldW1lRWRpdDogRGl2YUVkaXRcbiAgICAgIH07XG4gICAgfVxuXG4gICAgY29uc3QgdmlldyA9IG5ldyBOZW9uVmlldyhwYXJhbXMpO1xuICAgIHZpZXcuc3RhcnQoKTtcbiAgfSk7XG59XG5cbmZ1bmN0aW9uIGdldEdldFBhcmFtKHBhcmFtTmFtZSk6IHN0cmluZyB7XG4gIGxldCByZXN1bHQ7XG5cbiAgd2luZG93LmxvY2F0aW9uLnNlYXJjaFxuICAgIC5zdWJzdHIoMSlcbiAgICAuc3BsaXQoJyYnKVxuICAgIC5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCB0bXAgPSBpdGVtLnNwbGl0KCc9Jyk7XG4gICAgICBpZiAodG1wWzBdID09PSBwYXJhbU5hbWUpIHtcbiAgICAgICAgcmVzdWx0ID0gZGVjb2RlVVJJQ29tcG9uZW50KHRtcFsxXSk7XG4gICAgICB9XG4gICAgfSk7XG4gIHJldHVybiByZXN1bHQ7XG59XG4iLCJpbXBvcnQgTmVvbkNvcmUgZnJvbSAnLi9OZW9uQ29yZSc7XG5pbXBvcnQgKiBhcyBWYWxpZGF0aW9uIGZyb20gJy4vVmFsaWRhdGlvbic7XG5pbXBvcnQgeyBwYXJzZU1hbmlmZXN0IH0gZnJvbSAnLi91dGlscy9OZW9uTWFuaWZlc3QnO1xuaW1wb3J0IHNldEJvZHkgZnJvbSAnLi91dGlscy90ZW1wbGF0ZS9UZW1wbGF0ZSc7XG5pbXBvcnQgeyBNb2RhbFdpbmRvdyB9IGZyb20gJy4vdXRpbHMvTW9kYWxXaW5kb3cnO1xuaW1wb3J0IHsgTmVvbk1hbmlmZXN0LCBFZGl0b3JBY3Rpb24sIEF0dHJpYnV0ZXMgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7XG4gIEluZm9JbnRlcmZhY2UsXG4gIE1vZGFsV2luZG93SW50ZXJmYWNlLFxuICBOZW9uVmlld1BhcmFtcyxcbiAgTmV1bWVFZGl0SW50ZXJmYWNlLFxuICBUZXh0RWRpdEludGVyZmFjZSxcbiAgVGV4dFZpZXdJbnRlcmZhY2UsXG4gIFZpZXdJbnRlcmZhY2Vcbn0gZnJvbSAnLi9JbnRlcmZhY2VzJztcbmltcG9ydCB7IGluaXRFcnJvckxvZyB9IGZyb20gJy4uL3NyYy91dGlscy9FcnJvckxvZyc7XG5pbXBvcnQgeyBzZXRTYXZlZFN0YXR1cywgbGlzdGVuVW5zYXZlZENoYW5nZXMgfSBmcm9tICcuL3V0aWxzL1Vuc2F2ZWQnO1xuaW1wb3J0IExvY2FsU2V0dGluZ3MgZnJvbSAnLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuXG4vKipcbiAqIE5lb25WaWV3IGNsYXNzLiBNYW5hZ2VzIHRoZSBvdGhlciBtb2R1bGVzIG9mIE5lb24gYW5kIGNvbW11bmljYXRlcyB3aXRoXG4gKiBOZW9uQ29yZS5cbiAqL1xuY2xhc3MgTmVvblZpZXcge1xuICAvKiogVGhlIG1hbmlmZXN0IGRlc2NyaWJpbmcgd2hhdCB0byBsb2FkIGFuZCB3aGVyZSB0byBmaW5kIGl0LiAqL1xuICBtYW5pZmVzdDogTmVvbk1hbmlmZXN0O1xuICAvKiogTW9kdWxlIHRoYXQgZGlzcGxheXMgcmVuZGVyZWQgTUVJLiAqL1xuICB2aWV3OiBWaWV3SW50ZXJmYWNlO1xuICAvKiogTmFtZSBvZiB0aGUgZG9jdW1lbnQgbG9hZGVkLiAqL1xuICBuYW1lOiBzdHJpbmc7XG4gIC8qKiBNb2R1bGUgdGhhdCBoYW5kbGVzIG1hbmFnaW5nIHJlc291cmNlcywgcmVuZGVyaW5nIFNWR3MuICovXG4gIGNvcmU6IE5lb25Db3JlO1xuICAvKiogTW9kdWxlIHRoYXQgcHJvdmlkZXMgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBvbiBtdXNpY2FsIGVsZW1lbnRzLiAqL1xuICBpbmZvOiBJbmZvSW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgYWxsb3dzIGVkaXRpbmcgb2YgbXVzaWNhbCBlbGVtZW50cy4gKi9cbiAgTmV1bWVFZGl0OiBOZXVtZUVkaXRJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBhbGxvd3Mgdmlld2luZyBvZiBzeWxsYWJsZSB0ZXh0LiAqL1xuICB0ZXh0VmlldzogVGV4dFZpZXdJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBhbGxvd3MgZWRpdGluZyBvZiBzeWxsYWJsZSB0ZXh0LiAqL1xuICBUZXh0RWRpdDogVGV4dEVkaXRJbnRlcmZhY2U7XG4gIC8qKiBNb2R1bGUgdGhhdCBjb250cm9scyBzdGF0ZSBhbmQgY29udGVudCBvZiBOZW9uIG1vZGFsIHdpbmRvd3MgKi9cbiAgbW9kYWw6IE1vZGFsV2luZG93SW50ZXJmYWNlO1xuICAvKiogTW9kdWxlIHRoYXQgaGFuZGxlcyB1c2VyJ3Mgc2V0dGluZ3Mgc3RvcmVkIGluIGxvY2FsU3RvcmFnZSAqL1xuICBsb2NhbFNldHRpbmdzOiBMb2NhbFNldHRpbmdzO1xuXG4gIHBhcmFtczogTmVvblZpZXdQYXJhbXM7XG5cblxuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIE5lb25WaWV3LiBTZXRzIG1vZGUgYW5kIHBhc3NlcyBjb25zdHJ1Y3RvcnMuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAocGFyYW1zOiBOZW9uVmlld1BhcmFtcykge1xuICAgIGlmICghcGFyc2VNYW5pZmVzdChwYXJhbXMubWFuaWZlc3QpKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdVbmFibGUgdG8gcGFyc2UgdGhlIG1hbmlmZXN0Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5wYXJhbXMgPSBwYXJhbXM7XG4gICAgdGhpcy5tYW5pZmVzdCA9IHBhcmFtcy5tYW5pZmVzdDtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdXAgTmVvbiBmb3IgYW55IHByb3ZpZGVkIGVkaXRpbmcgbW9kdWxlcy5cbiAgICovXG4gIHNldHVwRWRpdChwYXJhbXM6IE5lb25WaWV3UGFyYW1zKTogdm9pZCB7XG4gICAgLy8gU2V0IHVwIGFuZCBzdGFydCB0aGUgY29ycmVjdCBlZGl0aW5nIG1vZGVcbiAgICBpZiAocGFyYW1zLk5ldW1lRWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICB0aGlzLk5ldW1lRWRpdCA9IG5ldyBwYXJhbXMuTmV1bWVFZGl0KHRoaXMpO1xuICAgIH1cbiAgICBpZiAocGFyYW1zLlRleHRWaWV3ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHRoaXMudGV4dFZpZXcgPSBuZXcgcGFyYW1zLlRleHRWaWV3KHRoaXMpO1xuICAgICAgaWYgKHBhcmFtcy5UZXh0RWRpdCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuVGV4dEVkaXQgPSBuZXcgcGFyYW1zLlRleHRFZGl0KHRoaXMpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdGFydCBOZW9uXG4gICAqL1xuICBzdGFydCAoKTogdm9pZCB7XG4gICAgLyogdGhpcy5jb3JlLmRiLmluZm8oKS50aGVuKChpbmZvKSA9PiB7XG4gICAgICBpZiAoaW5mby5kb2NfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhpcy5jb3JlLmluaXREYigpLnRoZW4oKCkgPT4geyB0aGlzLnVwZGF0ZUZvckN1cnJlbnRQYWdlKCk7IH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdFeGlzdGluZyBkYXRhYmFzZSBmb3VuZC4gUmV2ZXJ0IHRvIHN0YXJ0IGZyb20gdGhlIGJlZ2lubmluZy4nKTtcbiAgICAgICAgdGhpcy51cGRhdGVGb3JDdXJyZW50UGFnZSgpO1xuICAgICAgfVxuICAgIH0pOyAqL1xuICAgIHNldEJvZHkodGhpcykudGhlbigoKSA9PiB7XG4gICAgICAvLyBsb2FkIHRoZSBjb21wb25lbnRzXG4gICAgICB0aGlzLmxvY2FsU2V0dGluZ3MgPSBuZXcgTG9jYWxTZXR0aW5ncyh0aGlzLm1hbmlmZXN0WydAaWQnXSk7XG4gICAgICB0aGlzLnZpZXcgPSBuZXcgdGhpcy5wYXJhbXMuVmlldyh0aGlzLCB0aGlzLnBhcmFtcy5EaXNwbGF5LCB0aGlzLm1hbmlmZXN0LmltYWdlKTtcbiAgICAgIHRoaXMubmFtZSA9IHRoaXMubWFuaWZlc3QudGl0bGU7XG4gICAgICB0aGlzLmNvcmUgPSBuZXcgTmVvbkNvcmUodGhpcy5tYW5pZmVzdCk7XG4gICAgICB0aGlzLmluZm8gPSBuZXcgdGhpcy5wYXJhbXMuSW5mbyh0aGlzKTtcbiAgICAgIHRoaXMubW9kYWwgPSBuZXcgTW9kYWxXaW5kb3codGhpcyk7XG4gICAgICBWYWxpZGF0aW9uLmluaXQodGhpcyk7IC8vIGluaXRpYWxpemUgdmFsaWRhdGlvblxuICAgICAgaW5pdEVycm9yTG9nKCk7IC8vIGluaXRpYWxpemUgbm90aWZpY2F0aW9ucyBsb2dzXG4gICAgICBsaXN0ZW5VbnNhdmVkQ2hhbmdlcygpO1xuXG4gICAgICB0aGlzLnNldHVwRWRpdCh0aGlzLnBhcmFtcyk7XG4gICAgICByZXR1cm4gdGhpcy5jb3JlLmluaXREYigpO1xuICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgLy8gbG9hZCB0aGUgU1ZHXG4gICAgICByZXR1cm4gdGhpcy51cGRhdGVGb3JDdXJyZW50UGFnZSh0cnVlKTtcbiAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgIC8vIGFkZCB0aGUgZXZlbnQgbGlzdGVuZXJzIGRlcGVuZGVudCBvbiB0aGUgU1ZHXG4gICAgICB0aGlzLnZpZXcub25TVkdMb2FkKCk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBjdXJyZW50IHBhZ2UgZnJvbSB0aGUgbG9hZGVkIHZpZXcgYW5kIHRoZW4gZGlzcGxheSB0aGVcbiAgICogbW9zdCB1cCB0byBkYXRlIFNWRy5cbiAgICovXG4gIHVwZGF0ZUZvckN1cnJlbnRQYWdlIChkZWxheSA9IGZhbHNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3QgcGFnZU5vID0gdGhpcy52aWV3LmdldEN1cnJlbnRQYWdlKCk7XG4gICAgcmV0dXJuIHRoaXMudmlldy5jaGFuZ2VQYWdlKHBhZ2VObywgZGVsYXkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZG8gYW4gYWN0aW9uIHBlcmZvcm1lZCBvbiB0aGUgY3VycmVudCBwYWdlIChpZiB0aGVyZSBpcyBvbmUpLlxuICAgKi9cbiAgcmVkbyAoKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgc2V0U2F2ZWRTdGF0dXMoZmFsc2UpO1xuICAgIHJldHVybiB0aGlzLmNvcmUucmVkbyh0aGlzLnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gIH1cblxuICAvKipcbiAgICogVW5kbyB0aGUgbGFzdCBhY3Rpb24gcGVyZm9ybWVkIG9uIHRoZSBjdXJyZW50IHBhZ2UgKGlmIHRoZXJlIGlzIG9uZSkuXG4gICAqL1xuICB1bmRvICgpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICBzZXRTYXZlZFN0YXR1cyhmYWxzZSk7XG4gICAgcmV0dXJuIHRoaXMuY29yZS51bmRvKHRoaXMudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIG1vZGUgTmVvbiBpcyBpbi5cbiAgICogQHJldHVybnMgVmFsdWUgaXMgXCJ2aWV3ZXJcIiwgXCJpbnNlcnRcIiwgb3IgXCJlZGl0XCIuXG4gICAqL1xuICBnZXRVc2VyTW9kZSAoKTogc3RyaW5nIHtcbiAgICBpZiAodGhpcy5OZXVtZUVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgcmV0dXJuIHRoaXMuTmV1bWVFZGl0LmdldFVzZXJNb2RlKCk7XG4gICAgfSBlbHNlIGlmICh0aGlzLlRleHRFZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIHJldHVybiAnZWRpdCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAndmlld2VyJztcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQXR0ZW1wdCB0byBwZXJmb3JtIGFuIGVkaXRvciBhY3Rpb24uXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgZWRpdG9yIHRvb2xraXQgYWN0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBwYWdlIHRvIHBlcmZvcm0gdGhlIGFjdGlvbiBvblxuICAgKi9cbiAgZWRpdCAoYWN0aW9uOiBFZGl0b3JBY3Rpb24sIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZWRpdChhY3Rpb24sIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgYXR0cmlidXRlcyBmb3IgYSBzcGVjaWZpYyBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBlbGVtZW50SWQgLSBUaGUgdW5pcXVlIElEIG9mIHRoZSBtdXNpY2FsIGVsZW1lbnQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0aGUgZWxlbWVudCBpcyBmb3VuZCBvbi5cbiAgICovXG4gIGdldEVsZW1lbnRBdHRyIChlbGVtZW50SUQ6IHN0cmluZywgcGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxBdHRyaWJ1dGVzPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRFbGVtZW50QXR0cihlbGVtZW50SUQsIHBhZ2VVUkkpO1xuICB9XG5cbiAgLyoqXG4gICAqIFVwZGF0ZXMgYnJvd3NlciBkYXRhYmFzZSBhbmQgY3JlYXRlcyBKU09OLUxEIHNhdmUgZmlsZS5cbiAgICogQHJldHVybnMgVGhlIGNvbnRlbnRzIG9mIHRoaXMgZmlsZS5cbiAgICovXG4gIGV4cG9ydCAoKTogUHJvbWlzZTxzdHJpbmcgfCBBcnJheUJ1ZmZlcj4ge1xuICAgIHJldHVybiAobmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLnVwZGF0ZURhdGFiYXNlKCkudGhlbigoKSA9PiB7XG4gICAgICAgIHRoaXMubWFuaWZlc3RbJ21laV9hbm5vdGF0aW9ucyddID0gdGhpcy5jb3JlLmdldEFubm90YXRpb25zKCk7XG4gICAgICAgIHRoaXMubWFuaWZlc3QudGltZXN0YW1wID0gKG5ldyBEYXRlKCkpLnRvSVNPU3RyaW5nKCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgd2luZG93LkJsb2IoW0pTT04uc3RyaW5naWZ5KHRoaXMubWFuaWZlc3QsIG51bGwsIDIpXSwgeyB0eXBlOiAnYXBwbGljYXRpb24vbGQranNvbicgfSk7XG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgIHJlYWRlci5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuICAgICAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChkYXRhKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KSk7XG4gIH1cblxuICAvKipcbiAgICogU2F2ZSB0aGUgY3VycmVudCBzdGF0ZSB0byB0aGUgYnJvd3NlciBkYXRhYmFzZS5cbiAgICovXG4gIHNhdmUgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHNldFNhdmVkU3RhdHVzKHRydWUpO1xuICAgIHJldHVybiB0aGlzLmNvcmUudXBkYXRlRGF0YWJhc2UoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEZWxldGVzIHRoZSBsb2NhbCBkYXRhYmFzZSBvZiB0aGUgbG9hZGVkIE1FSSBmaWxlKHMpLlxuICAgKi9cbiAgZGVsZXRlRGIgKCk6IFByb21pc2U8dm9pZFtdPiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5kZWxldGVEYigpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgcGFnZSdzIE1FSSBmaWxlIGVuY29kZWQgYXMgYSBkYXRhIFVSSS5cbiAgICogQHBhcmFtIHBhZ2VObyAtIFRoZSBVUkkgc3BlY2lmeWluZyB0aGUgcGFnZS5cbiAgICogQHJldHVybnMgQSBbRGF0YSBVUkldKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0RhdGFfVVJJX3NjaGVtZSkuXG4gICAqL1xuICBnZXRQYWdlVVJJIChwYWdlTm8/OiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIGlmIChwYWdlTm8gPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFnZU5vID0gdGhpcy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCk7XG4gICAgfVxuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5jb3JlLmdldE1FSShwYWdlTm8pLnRoZW4oKG1laSkgPT4ge1xuICAgICAgICByZXNvbHZlKCdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7Y2hhcnNldD11dGYtOCwnICsgZW5jb2RlVVJJQ29tcG9uZW50KG1laSkpO1xuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgTUVJIGZpbGUgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSBwYWdlTm8gLSBUaGUgaWRlbnRpZnlpbmcgVVJJIG9mIHRoZSBwYWdlLlxuICAgKi9cbiAgZ2V0UGFnZU1FSSAocGFnZU5vOiBzdHJpbmcpOiBQcm9taXNlPHN0cmluZz4ge1xuICAgIHJldHVybiB0aGlzLmNvcmUuZ2V0TUVJKHBhZ2VObyk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBwYWdlJ3MgU1ZHLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIGlkZW50aWZ5aW5nIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldFBhZ2VTVkcgKHBhZ2VObzogc3RyaW5nKTogUHJvbWlzZTxTVkdTVkdFbGVtZW50PiB7XG4gICAgcmV0dXJuIHRoaXMuY29yZS5nZXRTVkcocGFnZU5vKTtcbiAgfVxufVxuXG5leHBvcnQgeyBOZW9uVmlldyBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBjaGVja091dE9mQm91bmRzR2x5cGhzLCBjb252ZXJ0U2JUb1N0YWZmIH0gZnJvbSAnLi91dGlscy9Db252ZXJ0TWVpJztcbmltcG9ydCAqIGFzIFZhbGlkYXRpb24gZnJvbSAnLi9WYWxpZGF0aW9uJztcbmltcG9ydCBWZXJvdmlvV3JhcHBlciBmcm9tICcuL1Zlcm92aW9XcmFwcGVyJztcbmltcG9ydCB7IFdlYkFubm90YXRpb24sIEF0dHJpYnV0ZXMsIEVkaXRvckFjdGlvbiwgTmVvbk1hbmlmZXN0LCBWZXJvdmlvTWVzc2FnZSB9IGZyb20gJy4vVHlwZXMnO1xuaW1wb3J0IHsgdXVpZHY0IH0gZnJvbSAnLi91dGlscy9yYW5kb20nO1xuXG5pbXBvcnQgUG91Y2hEQiBmcm9tICdwb3VjaGRiJztcbmltcG9ydCB7IHNldFNhdmVkU3RhdHVzIH0gZnJvbSAnLi91dGlscy9VbnNhdmVkJztcblxuLyoqXG4gKiBBIGNhY2hlIGlzIHVzZWQgdG8ga2VlcCB0cmFjayBvZiB3aGF0IGhhcyBoYXBwZW5lZFxuICogYWNyb3NzIG11bHRpcGxlIHBhZ2VzIGluIGEgbWFudXNjcmlwdCB3aXRob3V0IGhhdmluZ1xuICogdG8gbWFrZSBtYW55IGNhbGxzIHRvIHRoZSBQb3VjaGhEYiBkYXRhYmFzZS5cbiAqL1xuaW50ZXJmYWNlIENhY2hlRW50cnkge1xuICBkaXJ0eTogYm9vbGVhbjtcbiAgbWVpOiBzdHJpbmc7XG4gIHN2ZzogU1ZHU1ZHRWxlbWVudDtcbn1cblxuLyoqXG4gKiBUaGUgY29yZSBjb21wb25lbnQgb2YgTmVvbi4gVGhpcyBtYW5hZ2VzIHRoZSBkYXRhYmFzZSxcbiAqIHRoZSB2ZXJvdmlvIHRvb2xraXQsIHRoZSBjYWNoZSwgYW5kIHVuZG8vcmVkbyBzdGFja3MuXG4gKi9cbmNsYXNzIE5lb25Db3JlIHtcbiAgLyoqIFdyYXBwZXIgZm9yIHRoZSBWZXJvdmlvIFdlYldvcmtlci4gKi9cbiAgcHJpdmF0ZSB2ZXJvdmlvV3JhcHBlcjogVmVyb3Zpb1dyYXBwZXI7XG4gIC8qKiBTdGFja3Mgb2YgYWN0aW9ucyB0aGF0IGNhbiBiZSB1bmRvbmUgcGVyIHBhZ2UuICovXG4gIHByaXZhdGUgdW5kb1N0YWNrczogTWFwPHN0cmluZywgc3RyaW5nW10+O1xuICAvKiogU3RhY2tzIG9mIGFjdGlvbnMgdGhhdCBjYW4gYmUgcmVkb25lIHBlciBwYWdlLiAqL1xuICBwcml2YXRlIHJlZG9TdGFja3M6IE1hcDxzdHJpbmcsIHN0cmluZ1tdPjtcbiAgLyoqIENhY2hlIGNvbnRhaW5pbmcgZW50cmllcyBmb3IgZWFjaCBwYWdlLiAqL1xuICBwcml2YXRlIG5lb25DYWNoZTogTWFwPHN0cmluZywgQ2FjaGVFbnRyeT47XG4gIHByaXZhdGUgZGI6IFBvdWNoREIuRGF0YWJhc2U7XG4gIHByaXZhdGUgcGFyc2VyOiBET01QYXJzZXI7XG4gIC8qKiBQYWdlcyBrbm93biBub3QgdG8gaGF2ZSBhbnkgYXNzb2NpYXRlZCBNRUkuICovXG4gIHByaXZhdGUgYmxhbmtQYWdlczogQXJyYXk8c3RyaW5nPjtcbiAgLyoqIEEgY29sbGVjdGlvbiBvZiBXMyBXZWIgQW5ub3RhdGlvbnMuICovXG4gIHByaXZhdGUgYW5ub3RhdGlvbnM6IFdlYkFubm90YXRpb25bXTtcbiAgcHJpdmF0ZSBtYW5pZmVzdDogTmVvbk1hbmlmZXN0O1xuICBwcml2YXRlIGxhc3RQYWdlTG9hZGVkOiBzdHJpbmc7XG5cbiAgZ2V0QW5ub3RhdGlvbnMgKCk6IFdlYkFubm90YXRpb25bXSB7IHJldHVybiB0aGlzLmFubm90YXRpb25zOyB9XG5cbiAgLyoqXG4gICAqIENvbnN0cnVjdG9yIGZvciBOZW9uQ29yZVxuICAgKi9cbiAgY29uc3RydWN0b3IgKG1hbmlmZXN0OiBOZW9uTWFuaWZlc3QpIHtcbiAgICB0aGlzLnZlcm92aW9XcmFwcGVyID0gbmV3IFZlcm92aW9XcmFwcGVyKCk7XG4gICAgLy9WYWxpZGF0aW9uLmluaXQoKTtcblxuICAgIC8qKlxuICAgICAqIFN0YWNrcyBvZiBwcmV2aW91cyBNRUkgZmlsZXMgcmVwcmVzZW50aW5nIGFjdGlvbnMgdGhhdCBjYW4gYmUgdW5kb25lIGZvciBlYWNoIHBhZ2UuXG4gICAgICogQHR5cGUge01hcC48c3RyaW5nLCBBcnJheS48c3RyaW5nPj59XG4gICAgICovXG4gICAgdGhpcy51bmRvU3RhY2tzID0gbmV3IE1hcDxzdHJpbmcsIHN0cmluZ1tdPigpO1xuXG4gICAgLyoqXG4gICAgICogU3RhY2tzIG9mIHByZXZpb3VzIE1FSSBmaWxlcyByZXByZXNlbnRpbmcgYWN0aW9ucyB0aGF0IGNhbiBiZSByZWRvbmUgZm9yIGVhY2ggcGFnZS5cbiAgICAgKiBAdHlwZSB7TWFwLjxzdHJpbmcsIEFycmF5LjxzdHJpbmc+Pn1cbiAgICAgKi9cbiAgICB0aGlzLnJlZG9TdGFja3MgPSBuZXcgTWFwKCk7XG5cbiAgICB0aGlzLm5lb25DYWNoZSA9IG5ldyBNYXAoKTtcblxuICAgIHRoaXMucGFyc2VyID0gbmV3IERPTVBhcnNlcigpO1xuXG4gICAgdGhpcy5kYiA9IG5ldyBQb3VjaERCKCdOZW9uJyk7XG5cbiAgICB0aGlzLmJsYW5rUGFnZXMgPSBbXTtcblxuICAgIC8vIEFkZCBlYWNoIE1FSSB0byB0aGUgZGF0YWJhc2VcbiAgICB0aGlzLm1hbmlmZXN0ID0gbWFuaWZlc3Q7XG4gICAgdGhpcy5hbm5vdGF0aW9ucyA9IG1hbmlmZXN0Lm1laV9hbm5vdGF0aW9ucztcbiAgICB0aGlzLmxhc3RQYWdlTG9hZGVkID0gJyc7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSB0aGUgUG91Y2hEYiBkYXRhYmFzZSBiYXNlZCBvbiB0aGUgcHJvdmlkZWQgbWFuaWZlc3QuXG4gICAqIElmIGEgbmV3ZXIgdmVyc2lvbiBhbHJlYWR5IGV4aXN0cyBpbiB0aGUgZGF0YWJhc2UsIHRoaXMgd2lsbFxuICAgKiBub3QgdXBkYXRlIHRoZSBkYXRhYmFzZSB1bmxlc3MgZm9yY2VkLlxuICAgKiBAcGFyYW0gZm9yY2UgLSBJZiBhIGRhdGFiYXNlIHVwZGF0ZSBzaG91bGQgYmUgZm9yY2VkLlxuICAgKi9cbiAgYXN5bmMgaW5pdERiIChmb3JjZSA9IGZhbHNlKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgLy8gQ2hlY2sgZm9yIGV4aXN0aW5nIG1hbmlmZXN0XG4gICAgdHlwZSBEYkFubm90YXRpb24gPSBQb3VjaERCLkNvcmUuSWRNZXRhICYgUG91Y2hEQi5Db3JlLkdldE1ldGEgJiBXZWJBbm5vdGF0aW9uO1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgeyB0aW1lc3RhbXA6IHN0cmluZzsgYW5ub3RhdGlvbnM6IHN0cmluZ1tdfTtcbiAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IG5ldyBQcm9taXNlPGJvb2xlYW4+KChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMuZGIuZ2V0KHRoaXMubWFuaWZlc3RbJ0BpZCddKS5jYXRjaChlcnIgPT4ge1xuICAgICAgICBpZiAoZXJyLm5hbWUgPT09ICdub3RfZm91bmQnKSB7XG4gICAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyBkb2N1bWVudC5cbiAgICAgICAgICBjb25zdCBkb2MgPSB7XG4gICAgICAgICAgICBfaWQ6IHRoaXMubWFuaWZlc3RbJ0BpZCddLFxuICAgICAgICAgICAgdGltZXN0YW1wOiB0aGlzLm1hbmlmZXN0LnRpbWVzdGFtcCxcbiAgICAgICAgICAgIGltYWdlOiB0aGlzLm1hbmlmZXN0LmltYWdlLFxuICAgICAgICAgICAgdGl0bGU6IHRoaXMubWFuaWZlc3QudGl0bGUsXG4gICAgICAgICAgICBhbm5vdGF0aW9uczogW11cbiAgICAgICAgICB9O1xuICAgICAgICAgIHRoaXMuYW5ub3RhdGlvbnMuZm9yRWFjaChhbm5vdGF0aW9uID0+IHtcbiAgICAgICAgICAgIGRvYy5hbm5vdGF0aW9ucy5wdXNoKGFubm90YXRpb24uaWQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBkb2M7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICAgIHJldHVybiByZWplY3QoZXJyKTtcbiAgICAgICAgfVxuICAgICAgfSkudGhlbihhc3luYyAoZG9jOiBEb2MpID0+IHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgZG9jIHRpbWVzdGFtcCBpcyBuZXdlciB0aGFuIG1hbmlmZXN0XG4gICAgICAgIGNvbnN0IGRvY1RpbWUgPSAobmV3IERhdGUoZG9jLnRpbWVzdGFtcCkpLmdldFRpbWUoKTtcbiAgICAgICAgLy8gRm9ybWF0IHRpbWVzdGFtcCB0byBzcGVjaWZpYyBJU08gODYwMSB2YXJpYW50IGJlY2F1c2VcbiAgICAgICAgLy8gU2FmYXJpIHJlcXVpcmVzIHRpbWV6b25lIG9mZnNldHMgdG8gYmUgKy8tSEg6TU0gYW5kIGZhaWxzIG9uXG4gICAgICAgIC8vIHRoZSBlcXVhbGx5IHZhbGlkICsvLUhITU0uIFRoaXMgZG9lc24ndCBuZWVkIHRvIGJlIGFwcGxpZWQgdG9cbiAgICAgICAgLy8gdGhlIGJyb3dzZXIgZ2VuZXJhdGVkIHRpbWVzdGFtcCBzaW5jZSB0aGF0IGFsd2F5cyBnZW5lcmF0ZXMgYVxuICAgICAgICAvLyB0aW1lc3RhbXAgaW4gVVRDIHdpdGggdGhlIFogZW5kaW5nLlxuICAgICAgICBjb25zdCB0aW1lWm9uZVJlZ2V4cCA9IC8oLitbLStcXHUyMjEyXVxcZFxcZCkoXFxkXFxkKSQvO1xuICAgICAgICBjb25zdCBtYW5UaW1lID0gKHRpbWVab25lUmVnZXhwLnRlc3QodGhpcy5tYW5pZmVzdC50aW1lc3RhbXApKSA/XG4gICAgICAgICAgKG5ldyBEYXRlKHRoaXMubWFuaWZlc3QudGltZXN0YW1wLnJlcGxhY2UodGltZVpvbmVSZWdleHAsICckMTokMicpKSkuZ2V0VGltZSgpXG4gICAgICAgICAgOiAobmV3IERhdGUodGhpcy5tYW5pZmVzdC50aW1lc3RhbXApKS5nZXRUaW1lKCk7XG4gICAgICAgIGlmIChkb2NUaW1lID4gbWFuVGltZSkge1xuICAgICAgICAgIGlmICghZm9yY2UpIHtcbiAgICAgICAgICAgIC8vIEZpbGwgYW5ub3RhdGlvbnMgbGlzdCB3aXRoIGRiIGFubm90YXRpb25zXG4gICAgICAgICAgICB0aGlzLmFubm90YXRpb25zID0gW107XG4gICAgICAgICAgICBjb25zdCBwcm9taXNlcyA9IGRvYy5hbm5vdGF0aW9ucy5tYXAoKGlkOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXMpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmRiLmdldChpZCkudGhlbigoYW5ub3RhdGlvbjogRGJBbm5vdGF0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgICB0aGlzLmFubm90YXRpb25zLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBpZDogYW5ub3RhdGlvbi5faWQsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdBbm5vdGF0aW9uJyxcbiAgICAgICAgICAgICAgICAgICAgYm9keTogYW5ub3RhdGlvbi5ib2R5LFxuICAgICAgICAgICAgICAgICAgICB0YXJnZXQ6IGFubm90YXRpb24udGFyZ2V0XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIHJlcygnJyk7XG4gICAgICAgICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICAgIHJlcygnJyk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgYW5ub3RhdGlvbiBvZiB0aGlzLmFubm90YXRpb25zKSB7XG4gICAgICAgICAgLy8gQWRkIGFubm90YXRpb25zIHRvIGRhdGFiYXNlXG4gICAgICAgICAgYXdhaXQgdGhpcy5kYi5nZXQoYW5ub3RhdGlvbi5pZCkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIGlmIChlcnIubmFtZSA9PT0gJ25vdF9mb3VuZCcpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBfaWQ6IGFubm90YXRpb24uaWRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLnRoZW4oKG5ld0Fubm90YXRpb246IERiQW5ub3RhdGlvbikgPT4ge1xuICAgICAgICAgICAgbmV3QW5ub3RhdGlvbi5ib2R5ID0gYW5ub3RhdGlvbi5ib2R5O1xuICAgICAgICAgICAgbmV3QW5ub3RhdGlvbi50YXJnZXQgPSBhbm5vdGF0aW9uLnRhcmdldDtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmRiLnB1dChuZXdBbm5vdGF0aW9uKTtcbiAgICAgICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KGRvYyk7XG4gICAgICB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgICB9KS5jYXRjaChlcnIgPT4ge1xuICAgICAgICByZWplY3QoZXJyKTtcbiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcmVzcG9uc2U7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBhIHBhZ2UgaW50byB0aGUgdmVyb3ZpbyB0b29sa2l0LiBUaGlzIHdpbGwgZmV0Y2ggdGhlXG4gICAqIHBhZ2UgZnJvbSB0aGUgY2FjaGUgb3IgZnJvbSB0aGUgZGF0YWJhc2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICovXG4gIGxvYWRQYWdlIChwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPENhY2hlRW50cnk+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgLy8gV2FzIHRoaXMgYWxyZWFkeSB0aGUgbG9hZGVkIHBhZ2U/XG4gICAgICBpZiAodGhpcy5sYXN0UGFnZUxvYWRlZCA9PT0gcGFnZVVSSSAmJiB0aGlzLm5lb25DYWNoZS5oYXMocGFnZVVSSSkpIHtcbiAgICAgICAgcmVzb2x2ZSh0aGlzLm5lb25DYWNoZS5nZXQocGFnZVVSSSkpO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLm5lb25DYWNoZS5oYXMocGFnZVVSSSkpIHtcbiAgICAgICAgdGhpcy5sb2FkRGF0YShwYWdlVVJJLCB0aGlzLm5lb25DYWNoZS5nZXQocGFnZVVSSSkubWVpKS50aGVuKCgpID0+IHtcbiAgICAgICAgICByZXNvbHZlKHRoaXMubmVvbkNhY2hlLmdldChwYWdlVVJJKSk7XG4gICAgICAgIH0pO1xuICAgICAgLy8gRG8gd2Uga25vdyB0aGlzIHBhZ2UgaGFzIG5vIE1FSSBjb250ZW50P1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmJsYW5rUGFnZXMuaW5jbHVkZXMocGFnZVVSSSkpIHtcbiAgICAgICAgVmFsaWRhdGlvbi5ibGFua1BhZ2UoKTtcbiAgICAgICAgY29uc3QgZSA9IG5ldyBFcnJvcignTm8gTUVJIGZpbGUgZm9yIHBhZ2UgJyArIHBhZ2VVUkkpO1xuICAgICAgICBlLm5hbWUgPSAnbWlzc2luZ19tZWknO1xuICAgICAgICByZWplY3QoZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICAvLyBGaW5kIGFubm90YXRpb25cbiAgICAgICAgY29uc3QgYW5ub3RhdGlvbiA9IHRoaXMuYW5ub3RhdGlvbnMuZmluZChlbGVtID0+IHtcbiAgICAgICAgICByZXR1cm4gZWxlbS50YXJnZXQgPT09IHBhZ2VVUkk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoYW5ub3RhdGlvbikge1xuICAgICAgICAgIHdpbmRvdy5mZXRjaChhbm5vdGF0aW9uLmJvZHkpLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS50ZXh0KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkudGhlbihkYXRhID0+IHtcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIHRoZSBNRUkgZmlsZSBpcyBzYi1iYXNlZC4gSWYgc28sIGNvbnZlcnQgdG8gc3RhZmYtYmFzZWQuXG4gICAgICAgICAgICBpZiAoZGF0YS5tYXRjaCgvPHNiIC4rPi8pKSB7XG4gICAgICAgICAgICAgIGRhdGEgPSBjb252ZXJ0U2JUb1N0YWZmKGRhdGEpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBjaGVja091dE9mQm91bmRzR2x5cGhzKGRhdGEpO1xuICAgICAgICAgICAgdGhpcy5sb2FkRGF0YShwYWdlVVJJLCBkYXRhKS50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgcmVzb2x2ZSh0aGlzLm5lb25DYWNoZS5nZXQocGFnZVVSSSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSkuY2F0Y2goZXJyID0+IHtcbiAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIC8vIElmIG5vIGFubm90YXRpb24gd2FzIGZvdW5kIHRyZWF0IHRoZSBwYWdlIGFzXG4gICAgICAgICAgLy8gYmVpbmcgYmxhbmtcbiAgICAgICAgICBWYWxpZGF0aW9uLmJsYW5rUGFnZSgpO1xuICAgICAgICAgIHRoaXMuYmxhbmtQYWdlcy5wdXNoKHBhZ2VVUkkpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogTG9hZCBkYXRhIGludG8gdGhlIHZlcm92aW8gdG9vbGtpdCBhbmQgdXBkYXRlIHRoZSBjYWNoZS5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBzZWxlY3RlZCBwYWdlLlxuICAgKiBAcGFyYW0gZGF0YSAtIFRoZSBNRUkgb2YgdGhlIHBhZ2UgYXMgYSBzdHJpbmcuXG4gICAqIEBwYXJhbSBkaXJ0eSAtIElmIHRoZSBjYWNoZSBlbnRyeSBzaG91bGQgYmUgbWFya2VkIGFzIGRpcnR5LlxuICAgKi9cbiAgbG9hZERhdGEgKHBhZ2VVUkk6IHN0cmluZywgZGF0YTogc3RyaW5nLCBkaXJ0eSA9IGZhbHNlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgVmFsaWRhdGlvbi5zZW5kRm9yVmFsaWRhdGlvbihkYXRhKTtcbiAgICB0aGlzLmxhc3RQYWdlTG9hZGVkID0gcGFnZVVSSTtcbiAgICAvKiBBIHByb21pc2UgaXMgcmV0dXJuZWQgdGhhdCB3aWxsIHJlc29sdmUgdG8gdGhlIHJlc3VsdCBvZiB0aGUgYWN0aW9uLlxuICAgICAqIEhvd2V2ZXIgdGhlIHZhbHVlIHRoYXQgaXMgbXVzdCByZXR1cm4gY29tZXMgZnJvbSB0aGUgV2ViIFdvcmtlciBhbmRcbiAgICAgKiBpbmZvcm1hdGlvbiBwYXNzZWQgYmV0d2VlbiB0aGUgd29ya2VyIGFuZCBtYWluIGNvbnRleHQgbXVjaCBiZSBpbiBhXG4gICAgICogbWVzc2FnZS4gU28gYW4gZXZlbnQgaGFuZGxlciBpcyBwdXQgb24gdmVyb3Zpb1dyYXBwZXIgZm9yIHdoZW4gYSBtZXNzYWdlXG4gICAgICogaXMgcmVjZWlldmVkIGZyb20gdGhlIHdvcmtlci4gVGhlbiBhIG1lc3NhZ2UgaXMgc2VudCB0byB0aGUgd29ya2VyIHRvXG4gICAgICogdGFrZSBhbiBhY3Rpb24uIEEgcmVzcG9uc2UgaXMgc2VudCBiYWNrIGFuZCB0aGUgcHJldmlvdXNseSBtZW50aW9uZWRcbiAgICAgKiBldmVudCBoYW5kbGVyIGhhbmRsZXMgdGhlIHJlc3BvbnNlLiBTaW5jZSBpdCBpcyBkZWZpbmVkIHdpdGhpbiB0aGVcbiAgICAgKiBwcm9taXNlIGl0IGhhcyBhY2Nlc3MgdG8gdGhlIG5lY2Vzc2FyeSByZXNvbHZlIGZ1bmN0aW9uLlxuICAgICAqL1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgbWVzc2FnZTogVmVyb3Zpb01lc3NhZ2UgPSB7XG4gICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgYWN0aW9uOiAncmVuZGVyRGF0YScsXG4gICAgICAgIG1laTogZGF0YVxuICAgICAgfTtcbiAgICAgIGZ1bmN0aW9uIGhhbmRsZSAoZXZ0OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgaWYgKGV2dC5kYXRhLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgICAgY29uc3Qgc3ZnID0gdGhpcy5wYXJzZXIucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgICAgZXZ0LmRhdGEuc3ZnLFxuICAgICAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnXG4gICAgICAgICAgKS5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgICAgdGhpcy5uZW9uQ2FjaGUuc2V0KHBhZ2VVUkksIHtcbiAgICAgICAgICAgIHN2Zzogc3ZnLFxuICAgICAgICAgICAgbWVpOiBkYXRhLFxuICAgICAgICAgICAgZGlydHk6IGRpcnR5XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIuYWRkRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZS5iaW5kKHRoaXMpKTtcbiAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBTVkcgZm9yIGEgc3BlY2lmaWMgcGFnZS5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBzZWxlY3RlZCBwYWdlLlxuICAgKi9cbiAgZ2V0U1ZHIChwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPFNWR1NWR0VsZW1lbnQ+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCk6IHZvaWQgPT4ge1xuICAgICAgdGhpcy5sb2FkUGFnZShwYWdlVVJJKS50aGVuKChlbnRyeSkgPT4ge1xuICAgICAgICByZXNvbHZlKGVudHJ5LnN2Zyk7XG4gICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7IHJlamVjdChlcnIpOyB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIE1FSSBmb3IgYSBzcGVjaWZpYyBwYWdlLlxuICAgKiBAcGFyYW0gcGFnZVVSSSAtIFRoZSBVUkkgb2YgdGhlIHNlbGVjdGVkIHBhZ2UuXG4gICAqL1xuICBnZXRNRUkgKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMubG9hZFBhZ2UocGFnZVVSSSkudGhlbigoZW50cnkpID0+IHtcbiAgICAgICAgcmVzb2x2ZShlbnRyeS5tZWkpO1xuICAgICAgfSkuY2F0Y2goKGVycikgPT4geyByZWplY3QoZXJyKTsgfSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IG11c2ljYWwgZWxlbWVudCBhdHRyaWJ1dGVzIGZyb20gdGhlIHZlcm92aW8gdG9vbGtpdC5cbiAgICogQHBhcmFtIGVsZW1lbnRJZCAtIFRoZSB1bmlxdWUgSUQgb2YgdGhlIG11c2ljYWwgZWxlbWVudC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBzZWxlY3RlZCBwYWdlLlxuICAgKi9cbiAgZ2V0RWxlbWVudEF0dHIgKGVsZW1lbnRJZDogc3RyaW5nLCBwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPEF0dHJpYnV0ZXM+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHRoaXMubG9hZFBhZ2UocGFnZVVSSSkudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdnZXRFbGVtZW50QXR0cicsXG4gICAgICAgICAgZWxlbWVudElkOiBlbGVtZW50SWRcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXZ0LmRhdGEuYXR0cmlidXRlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFBlcmZvcm0gYW4gZWRpdG9yIGFjdGlvbiBvbiBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBhY3Rpb24gLSBUaGUgZWRpdG9yIHRvb2xraXQgYWN0aW9uIG9iamVjdC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBUaGUgVVJJIG9mIHRoZSBzZWxlY3RlZCBwYWdlLlxuICAgKi9cbiAgZWRpdCAoZWRpdG9yQWN0aW9uOiBFZGl0b3JBY3Rpb24sIHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICAgIGxldCBwcm9taXNlOiBQcm9taXNlPENhY2hlRW50cnk+O1xuICAgIGlmICh0aGlzLmxhc3RQYWdlTG9hZGVkID09PSBwYWdlVVJJKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKHRoaXMubmVvbkNhY2hlLmdldChwYWdlVVJJKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHByb21pc2UudGhlbihlbnRyeSA9PiB7XG4gICAgICAgIC8vIGRlbGV0ZSB1bm5lY2Vzc2FyeSBTVkcgb2JqZWN0IHJlZmVyZW5jZTtcbiAgICAgICAgLy8gb3RoZXJ3aXNlLCB0aGlzIGlzIG5vdCBnYXJiYWdlIGNvbGxlY3RlZCFcbiAgICAgICAgZW50cnkuc3ZnID0gbnVsbDtcblxuICAgICAgICBjb25zdCBjdXJyZW50TUVJID0gZW50cnkubWVpO1xuICAgICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgYWN0aW9uOiAnZWRpdCcsXG4gICAgICAgICAgZWRpdG9yQWN0aW9uOiBlZGl0b3JBY3Rpb25cbiAgICAgICAgfTtcbiAgICAgICAgZnVuY3Rpb24gaGFuZGxlICh0aGlzOiBOZW9uQ29yZSwgZXZ0OiBNZXNzYWdlRXZlbnQpOiB2b2lkIHtcbiAgICAgICAgICBpZiAoZXZ0LmRhdGEuaWQgPT09IG1lc3NhZ2UuaWQpIHtcbiAgICAgICAgICAgIGlmIChldnQuZGF0YS5yZXN1bHQpIHtcbiAgICAgICAgICAgICAgaWYgKCF0aGlzLnVuZG9TdGFja3MuaGFzKHBhZ2VVUkkpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy51bmRvU3RhY2tzLnNldChwYWdlVVJJLCBbXSk7XG4gICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAvLyBBZGQgdG8gdW5kbyBzdGFjazpcbiAgICAgICAgICAgICAgLy8gUmVtb3ZlIHRoZSBib3R0b21tb3N0IE1FSSBzdHJpbmcgb24gdGhlIHN0YWNrXG4gICAgICAgICAgICAgIC8vIGlmIHRoZSBzdGFjayBpcyA+IDEwIHN0cmluZ3NcbiAgICAgICAgICAgICAgY29uc3QgdW5kb1N0YWNrID0gdGhpcy51bmRvU3RhY2tzLmdldChwYWdlVVJJKTtcbiAgICAgICAgICAgICAgY29uc3QgbGVuID0gdW5kb1N0YWNrLnB1c2goY3VycmVudE1FSSk7XG5cbiAgICAgICAgICAgICAgaWYgKGxlbiA+IDEwKVxuICAgICAgICAgICAgICAgIHRoaXMudW5kb1N0YWNrcy5zZXQocGFnZVVSSSwgdW5kb1N0YWNrLnNsaWNlKDEpKTtcblxuICAgICAgICAgICAgICAvLyBDbGVhciByZWRvIHN0YWNrOlxuICAgICAgICAgICAgICB0aGlzLnJlZG9TdGFja3Muc2V0KHBhZ2VVUkksIFtdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICB0aGlzLnVwZGF0ZUNhY2hlKHBhZ2VVUkksIHRydWUpLnRoZW4oKCkgPT4geyByZXNvbHZlKGV2dC5kYXRhLnJlc3VsdCk7IH0pO1xuICAgICAgICAgICAgc2V0U2F2ZWRTdGF0dXMoZmFsc2UpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUuYmluZCh0aGlzKSk7XG4gICAgICAgIHRoaXMudmVyb3Zpb1dyYXBwZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgY29udGVudHMgb2YgdGhlIGNhY2hlIHVzaW5nIGluZm9ybWF0aW9uIGluIHZlcm92aW8gdG9vbGtpdC5cbiAgICogQHBhcmFtIHBhZ2VVUkkgLSBQYWdlIHRvIGJlIHVwZGF0ZWQgaW4gY2FjaGUuXG4gICAqIEBwYXJhbSBkaXJ0eSAtIElmIHRoZSBlbnRyeSBzaG91bGQgYmUgbWFya2VkIGFzIGRpcnR5XG4gICAqL1xuICB1cGRhdGVDYWNoZSAocGFnZVVSSTogc3RyaW5nLCBkaXJ0eTogYm9vbGVhbik6IFByb21pc2U8dm9pZD4ge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgLy8gTXVzdCBnZXQgTUVJIGFuZCB0aGVuIGdldCBTVkcgdGhlbiBmaW5pc2guXG4gICAgICBsZXQgbWVpOiBzdHJpbmcsIHN2Z1RleHQ6IHN0cmluZztcbiAgICAgIGNvbnN0IG1laVByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzb2x2ZSk6IHZvaWQgPT4ge1xuICAgICAgICBjb25zdCBtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSA9IHtcbiAgICAgICAgICBpZDogdXVpZHY0KCksXG4gICAgICAgICAgYWN0aW9uOiAnZ2V0TUVJJ1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLmFkZEV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBmdW5jdGlvbiBoYW5kbGUgKGV2dDogTWVzc2FnZUV2ZW50KSB7XG4gICAgICAgICAgaWYgKGV2dC5kYXRhLmlkID09PSBtZXNzYWdlLmlkKSB7XG4gICAgICAgICAgICBtZWkgPSBldnQuZGF0YS5tZWk7XG4gICAgICAgICAgICBldnQudGFyZ2V0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21lc3NhZ2UnLCBoYW5kbGUpO1xuICAgICAgICAgICAgVmFsaWRhdGlvbi5zZW5kRm9yVmFsaWRhdGlvbihtZWkpO1xuICAgICAgICAgICAgcmVzb2x2ZSgnJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgICAgY29uc3Qgc3ZnUHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlKTogdm9pZCA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdyZW5kZXJUb1NWRydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgc3ZnVGV4dCA9IGV2dC5kYXRhLnN2ZztcbiAgICAgICAgICAgIGV2dC50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcignbWVzc2FnZScsIGhhbmRsZSk7XG4gICAgICAgICAgICByZXNvbHZlKCcnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnZlcm92aW9XcmFwcGVyLnBvc3RNZXNzYWdlKG1lc3NhZ2UpO1xuICAgICAgfSk7XG5cbiAgICAgIG1laVByb21pc2UudGhlbigoKSA9PiB7IHJldHVybiBzdmdQcm9taXNlOyB9KS50aGVuKCgpID0+IHtcbiAgICAgICAgY29uc3Qgc3ZnID0gdGhpcy5wYXJzZXIucGFyc2VGcm9tU3RyaW5nKFxuICAgICAgICAgIHN2Z1RleHQsXG4gICAgICAgICAgJ2ltYWdlL3N2Zyt4bWwnXG4gICAgICAgICkuZG9jdW1lbnRFbGVtZW50IGFzIEhUTUxFbGVtZW50ICYgU1ZHU1ZHRWxlbWVudDtcbiAgICAgICAgdGhpcy5uZW9uQ2FjaGUuc2V0KHBhZ2VVUkksIHtcbiAgICAgICAgICBtZWk6IG1laSxcbiAgICAgICAgICBzdmc6IHN2ZyxcbiAgICAgICAgICBkaXJ0eTogZGlydHlcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc29sdmUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgZWRpdCBpbmZvIHN0cmluZyBmcm9tIHRoZSB2ZXJvdmlvIHRvb2xraXQuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgcGFnZSB0byBnZXQgdGhlIGVkaXQgaW5mbyBzdHJpbmcgZnJvbS5cbiAgICovXG4gIGluZm8gKHBhZ2VVUkk6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IHByb21pc2U6IFByb21pc2U8Q2FjaGVFbnRyeSB8IHZvaWQ+O1xuICAgIGlmICh0aGlzLmxhc3RQYWdlTG9hZGVkID09PSBwYWdlVVJJKSB7XG4gICAgICBwcm9taXNlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHByb21pc2UgPSB0aGlzLmxvYWRQYWdlKHBhZ2VVUkkpO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIHByb21pc2UudGhlbigoKSA9PiB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2U6IFZlcm92aW9NZXNzYWdlID0ge1xuICAgICAgICAgIGlkOiB1dWlkdjQoKSxcbiAgICAgICAgICBhY3Rpb246ICdlZGl0SW5mbydcbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5hZGRFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgZnVuY3Rpb24gaGFuZGxlIChldnQ6IE1lc3NhZ2VFdmVudCkge1xuICAgICAgICAgIGlmIChldnQuZGF0YS5pZCA9PT0gbWVzc2FnZS5pZCkge1xuICAgICAgICAgICAgZXZ0LnRhcmdldC5yZW1vdmVFdmVudExpc3RlbmVyKCdtZXNzYWdlJywgaGFuZGxlKTtcbiAgICAgICAgICAgIHJlc29sdmUoZXZ0LmRhdGEuaW5mbyk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy52ZXJvdmlvV3JhcHBlci5wb3N0TWVzc2FnZShtZXNzYWdlKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFVuZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHNwZWNpZmljIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIFVSSSBvZiB0aGUgc2VsZWN0ZWQgcGFnZS5cbiAgICogQHJldHVybnMgSWYgdGhlIGFjdGlvbiB3YXMgdW5kb25lLlxuICAgKi9cbiAgdW5kbyAocGFnZVVSSTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKGFzeW5jIChyZXNvbHZlKSA9PiB7XG4gICAgICBpZiAoIXRoaXMudW5kb1N0YWNrcy5oYXMocGFnZVVSSSkpXG4gICAgICAgIHJldHVybiByZXNvbHZlKGZhbHNlKTtcblxuICAgICAgY29uc3Qgc3RhdGUgPSB0aGlzLnVuZG9TdGFja3MuZ2V0KHBhZ2VVUkkpLnBvcCgpO1xuICAgICAgaWYgKCFzdGF0ZSkgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBtZWkgPSBhd2FpdCB0aGlzLmdldE1FSShwYWdlVVJJKTtcbiAgICAgIHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucHVzaChtZWkpO1xuICAgICAgYXdhaXQgdGhpcy5sb2FkRGF0YShwYWdlVVJJLCBzdGF0ZSwgdHJ1ZSk7XG5cbiAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xuICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlZG8gdGhlIGxhc3QgYWN0aW9uIHBlcmZvcm1lZCBvbiBhIHBhZ2UuXG4gICAqIEBwYXJhbSBwYWdlVVJJIC0gVGhlIHBhZ2UgVVJJLlxuICAgKiBAcmV0dXJucyBJZiB0aGUgYWN0aW9uIHdhcyByZWRvbmUuXG4gICAqL1xuICByZWRvIChwYWdlVVJJOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+IHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UoYXN5bmMgKHJlc29sdmUpID0+IHtcbiAgICAgIGlmICghdGhpcy5yZWRvU3RhY2tzLmhhcyhwYWdlVVJJKSlcbiAgICAgICAgcmV0dXJuIHJlc29sdmUoZmFsc2UpO1xuXG4gICAgICBjb25zdCBzdGF0ZSA9IHRoaXMucmVkb1N0YWNrcy5nZXQocGFnZVVSSSkucG9wKCk7XG4gICAgICBpZiAoIXN0YXRlKSByZXR1cm4gcmVzb2x2ZShmYWxzZSk7XG5cbiAgICAgIGNvbnN0IG1laSA9IGF3YWl0IHRoaXMuZ2V0TUVJKHBhZ2VVUkkpO1xuICAgICAgdGhpcy51bmRvU3RhY2tzLmdldChwYWdlVVJJKS5wdXNoKG1laSk7XG4gICAgICBhd2FpdCB0aGlzLmxvYWREYXRhKHBhZ2VVUkksIHN0YXRlLCB0cnVlKTtcblxuICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHRoZSBQb3VjaERiIGRhdGFiYXNlIHN0b3JlZCBpbiB0aGUgYnJvd3Nlci5cbiAgICogVGhpcyBpcyBiYXNlZCBvbiB0aGUgZGF0YSBzdG9yZWQgaW4gdGhlIGNhY2hlLiBUbyBzYXZlIHRpbWUsXG4gICAqIG9ubHkgZW50cmllcyBtYXJrZWQgYXMgZGlydHkgd2lsbCBiZSB1cGRhdGVkLlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlRGF0YWJhc2UgKCk6IFByb21pc2U8dm9pZD4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLkdldE1ldGEgJiBQb3VjaERCLkNvcmUuSWRNZXRhICYgeyBib2R5OiBzdHJpbmc7IHRpbWVzdGFtcDogc3RyaW5nIH07XG4gICAgbGV0IHVwZGF0ZVRpbWVzdGFtcCA9IGZhbHNlO1xuICAgIGZvciAoY29uc3QgcGFpciBvZiB0aGlzLm5lb25DYWNoZSkge1xuICAgICAgY29uc3Qga2V5ID0gcGFpclswXTtcbiAgICAgIGNvbnN0IHZhbHVlID0gcGFpclsxXTtcbiAgICAgIGlmICh2YWx1ZS5kaXJ0eSkge1xuICAgICAgICB1cGRhdGVUaW1lc3RhbXAgPSB0cnVlO1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuYW5ub3RhdGlvbnMuZmluZEluZGV4KGVsZW0gPT4geyByZXR1cm4gZWxlbS50YXJnZXQgPT09IGtleTsgfSk7XG4gICAgICAgIC8vIHRyeSB0byB1cGRhdGUgc2VydmVyIHdpdGggUFVUIHJlcXVlc3QgKGlmIGFwcGxpY2FibGUpXG4gICAgICAgIC8vIHRoaXMgaXMgc2ltcGxlciB0aGFuIGV4cGVjdGluZyBhIHNwZWNpZmljIEFQSSBvbiB0aGUgc2VydmVyXG4gICAgICAgIC8vIGFuZCB1c2luZyBQT1NUIHJlcXVlc3RzLCBhbHRob3VnaCB0aGF0IHdvdWxkIGJlIGJldHRlciBpZiB0aGVyZVxuICAgICAgICAvLyBpcyBldmVyIGEgZGVkaWNhdGVkIHB1YmxpYyBzZXJ2ZXIgZm9yIE5lb24hIEF0IHRpbWUgb2Ygd3JpdGluZyxcbiAgICAgICAgLy8gb25seSBkZXYvdGVzdGluZyBzZXJ2ZXIgYWNjZXB0cyBQVVQgcmVxdWVzdHMuXG4gICAgICAgIC8vIG9ubHkgYXR0ZW1wdCBpZiBub3QgYSBkYXRhIFVSSVxuICAgICAgICBsZXQgdXJpOiBzdHJpbmc7XG4gICAgICAgIGlmICghdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keS5tYXRjaCgvXmRhdGE6LykpIHtcbiAgICAgICAgICBhd2FpdCB3aW5kb3cuZmV0Y2godGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgaGVhZGVyczogeyAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL21laSt4bWwnIH0sXG4gICAgICAgICAgICAgIGJvZHk6IHZhbHVlLm1laVxuICAgICAgICAgICAgfVxuICAgICAgICAgICkudGhlbihyZXNwb25zZSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgdXJpID0gdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHVyaSA9ICdkYXRhOmFwcGxpY2F0aW9uL21laSt4bWw7YmFzZTY0LCcgKyB3aW5kb3cuYnRvYSh2YWx1ZS5tZWkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZhbGxpbmcgYmFjayB0byBkYXRhIFVSSScpO1xuICAgICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdXJpID0gJ2RhdGE6YXBwbGljYXRpb24vbWVpK3htbDtiYXNlNjQsJyArIHdpbmRvdy5idG9hKHZhbHVlLm1laSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVXBkYXRlIFVSSSBpbiBhbm5vdGF0aW9ucywgZGF0YWJhc2VcbiAgICAgICAgdGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uYm9keSA9IHVyaTtcbiAgICAgICAgYXdhaXQgdGhpcy5kYi5nZXQodGhpcy5hbm5vdGF0aW9uc1tpbmRleF0uaWQpLnRoZW4oKGRvYzogRG9jKSA9PiB7XG4gICAgICAgICAgZG9jLmJvZHkgPSB1cmk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMuZGIucHV0KGRvYyk7XG4gICAgICAgIH0pLnRoZW4oKCkgPT4ge1xuICAgICAgICAgIHZhbHVlLmRpcnR5ID0gZmFsc2U7XG4gICAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihlcnIpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodXBkYXRlVGltZXN0YW1wKSB7XG4gICAgICBhd2FpdCB0aGlzLmRiLmdldCh0aGlzLm1hbmlmZXN0WydAaWQnXSkudGhlbigoZG9jOiBEb2MpID0+IHtcbiAgICAgICAgZG9jLnRpbWVzdGFtcCA9IChuZXcgRGF0ZSgpKS50b0lTT1N0cmluZygpO1xuICAgICAgICByZXR1cm4gdGhpcy5kYi5wdXQoZG9jKTtcbiAgICAgIH0pLmNhdGNoKGVyciA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8qKiBDb21wbGV0ZWx5IHJlbW92ZSB0aGUgZGF0YWJhc2UuICovXG4gIGFzeW5jIGRlbGV0ZURiICgpOiBQcm9taXNlPHZvaWRbXT4ge1xuICAgIHR5cGUgRG9jID0gUG91Y2hEQi5Db3JlLklkTWV0YSAmIFBvdWNoREIuQ29yZS5HZXRNZXRhICYgeyB0aW1lc3RhbXA6IHN0cmluZzsgYW5ub3RhdGlvbnM6IHN0cmluZ1tdfTtcbiAgICBjb25zdCBhbm5vdGF0aW9ucyA9IGF3YWl0IHRoaXMuZGIuZ2V0KHRoaXMubWFuaWZlc3RbJ0BpZCddKVxuICAgICAgLnRoZW4oKGRvYzogRG9jKSA9PiB7IHJldHVybiBkb2MuYW5ub3RhdGlvbnM7IH0gKTtcbiAgICBhbm5vdGF0aW9ucy5wdXNoKHRoaXMubWFuaWZlc3RbJ0BpZCddKTtcblxuICAgIGNvbnN0IHByb21pc2VzID0gYW5ub3RhdGlvbnMubWFwKChpZCkgPT4ge1xuICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KHJlcyA9PiB7XG4gICAgICAgIHRoaXMuZGIuZ2V0KGlkKVxuICAgICAgICAgIC50aGVuKGRvYyA9PiB7IHJldHVybiB0aGlzLmRiLnJlbW92ZShkb2MpOyB9KVxuICAgICAgICAgIC50aGVuKCgpID0+IHJlcygpKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgTmVvbkNvcmUgYXMgZGVmYXVsdCB9O1xuIiwiLyoqXHJcbiogdmtCZWF1dGlmeSAtIGphdmFzY3JpcHQgcGx1Z2luIHRvIHByZXR0eS1wcmludCBvciBtaW5pZnkgdGV4dCBpbiBYTUwsIEpTT04sIENTUyBhbmQgU1FMIGZvcm1hdHMuXHJcbipcclxuKiBDb3B5cmlnaHQgKGMpIDIwMTIgVmFkaW0gS2lyeXVraGluXHJcbiogdmtpcnl1a2hpbiBAIGdtYWlsLmNvbVxyXG4qIGh0dHA6Ly93d3cuZXNsaW5zdHJ1Y3Rvci5uZXQvdmtiZWF1dGlmeS9cclxuKlxyXG4qIER1YWwgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBhbmQgR1BMIGxpY2Vuc2VzOlxyXG4qICAgaHR0cDovL3d3dy5vcGVuc291cmNlLm9yZy9saWNlbnNlcy9taXQtbGljZW5zZS5waHBcclxuKiAgIGh0dHA6Ly93d3cuZ251Lm9yZy9saWNlbnNlcy9ncGwuaHRtbFxyXG4qXHJcbiogICBQcmV0dHkgcHJpbnRcclxuKlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LnhtbCh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5qc29uKHRleHQgWyxpbmRlbnRfcGF0dGVybl0pO1xyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzcyh0ZXh0IFssaW5kZW50X3BhdHRlcm5dKTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCBbLGluZGVudF9wYXR0ZXJuXSk7XHJcbipcclxuKiAgICAgICAgQHRleHQgLSBTdHJpbmc7IHRleHQgdG8gYmVhdHVmeTtcclxuKiAgICAgICAgQGluZGVudF9wYXR0ZXJuIC0gSW50ZWdlciB8IFN0cmluZztcclxuKiAgICAgICAgICAgICAgICBJbnRlZ2VyOiAgbnVtYmVyIG9mIHdoaXRlIHNwYWNlcztcclxuKiAgICAgICAgICAgICAgICBTdHJpbmc6ICAgY2hhcmFjdGVyIHN0cmluZyB0byB2aXN1YWxpemUgaW5kZW50YXRpb24gKCBjYW4gYWxzbyBiZSBhIHNldCBvZiB3aGl0ZSBzcGFjZXMgKVxyXG4qICAgTWluaWZ5XHJcbipcclxuKiAgICAgICAgdmtiZWF1dGlmeS54bWxtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTtcclxuKiAgICAgICAgdmtiZWF1dGlmeS5jc3NtaW4odGV4dCBbLHByZXNlcnZlX2NvbW1lbnRzXSk7XHJcbiogICAgICAgIHZrYmVhdXRpZnkuc3FsbWluKHRleHQpO1xyXG4qXHJcbiogICAgICAgIEB0ZXh0IC0gU3RyaW5nOyB0ZXh0IHRvIG1pbmlmeTtcclxuKiAgICAgICAgQHByZXNlcnZlX2NvbW1lbnRzIC0gQm9vbDsgW29wdGlvbmFsXTtcclxuKiAgICAgICAgICAgICAgICBTZXQgdGhpcyBmbGFnIHRvIHRydWUgdG8gcHJldmVudCByZW1vdmluZyBjb21tZW50cyBmcm9tIEB0ZXh0ICggbWlueG1sIGFuZCBtaW5jc3MgZnVuY3Rpb25zIG9ubHkuIClcclxuKlxyXG4qICAgRXhhbXBsZXM6XHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sKHRleHQpOyAvLyBwcmV0dHkgcHJpbnQgWE1MXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbih0ZXh0LCA0ICk7IC8vIHByZXR0eSBwcmludCBKU09OXHJcbiogICAgICAgIHZrYmVhdXRpZnkuY3NzKHRleHQsICcuIC4gLiAuJyk7IC8vIHByZXR0eSBwcmludCBDU1NcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWwodGV4dCwgJy0tLS0nKTsgLy8gcHJldHR5IHByaW50IFNRTFxyXG4qXHJcbiogICAgICAgIHZrYmVhdXRpZnkueG1sbWluKHRleHQsIHRydWUpOy8vIG1pbmlmeSBYTUwsIHByZXNlcnZlIGNvbW1lbnRzXHJcbiogICAgICAgIHZrYmVhdXRpZnkuanNvbm1pbih0ZXh0KTsvLyBtaW5pZnkgSlNPTlxyXG4qICAgICAgICB2a2JlYXV0aWZ5LmNzc21pbih0ZXh0KTsvLyBtaW5pZnkgQ1NTLCByZW1vdmUgY29tbWVudHMgKCBkZWZhdWx0IClcclxuKiAgICAgICAgdmtiZWF1dGlmeS5zcWxtaW4odGV4dCk7Ly8gbWluaWZ5IFNRTFxyXG4qXHJcbiovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIHtcclxuXHJcblx0dmFyIHNwYWNlID0gJyAgICAnO1xyXG5cclxuXHRpZiAoIGlzTmFOKHBhcnNlSW50KHN0ZXApKSApIHsgIC8vIGFyZ3VtZW50IGlzIHN0cmluZ1xyXG5cdFx0c3BhY2UgPSBzdGVwO1xyXG5cdH0gZWxzZSB7IC8vIGFyZ3VtZW50IGlzIGludGVnZXJcclxuXHRcdHN3aXRjaChzdGVwKSB7XHJcblx0XHRcdGNhc2UgMTogc3BhY2UgPSAnICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDI6IHNwYWNlID0gJyAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMzogc3BhY2UgPSAnICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNDogc3BhY2UgPSAnICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDU6IHNwYWNlID0gJyAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNjogc3BhY2UgPSAnICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgNzogc3BhY2UgPSAnICAgICAgICc7IGJyZWFrO1xyXG5cdFx0XHRjYXNlIDg6IHNwYWNlID0gJyAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgOTogc3BhY2UgPSAnICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHRcdGNhc2UgMTA6IHNwYWNlID0gJyAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMTogc3BhY2UgPSAnICAgICAgICAgICAnOyBicmVhaztcclxuXHRcdFx0Y2FzZSAxMjogc3BhY2UgPSAnICAgICAgICAgICAgJzsgYnJlYWs7XHJcblx0XHR9XHJcblx0fVxyXG5cclxuXHR2YXIgc2hpZnQgPSBbJ1xcbiddOyAvLyBhcnJheSBvZiBzaGlmdHNcclxuXHRmb3IodmFyIGl4PTA7aXg8MTAwO2l4KyspIHtcclxuXHRcdHNoaWZ0LnB1c2goc2hpZnRbaXhdK3NwYWNlKTtcclxuXHR9XHJcblx0cmV0dXJuIHNoaWZ0O1xyXG59XHJcblxyXG5mdW5jdGlvbiB2a2JlYXV0aWZ5KCl7XHJcblx0dGhpcy5zdGVwID0gJyAgICAnOyAvLyA0IHNwYWNlc1xyXG5cdHRoaXMuc2hpZnQgPSBjcmVhdGVTaGlmdEFycih0aGlzLnN0ZXApO1xyXG59O1xyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUueG1sID0gZnVuY3Rpb24odGV4dCxzdGVwKSB7XHJcblxyXG5cdHZhciBhciA9IHRleHQucmVwbGFjZSgvPlxcc3swLH08L2csXCI+PFwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvPC9nLFwifjo6fjxcIilcclxuXHRcdFx0XHQgLnJlcGxhY2UoL1xccyp4bWxuc1xcOi9nLFwifjo6fnhtbG5zOlwiKVxyXG5cdFx0XHRcdCAucmVwbGFjZSgvXFxzKnhtbG5zXFw9L2csXCJ+Ojp+eG1sbnM9XCIpXHJcblx0XHRcdFx0IC5zcGxpdCgnfjo6ficpLFxyXG5cdFx0bGVuID0gYXIubGVuZ3RoLFxyXG5cdFx0aW5Db21tZW50ID0gZmFsc2UsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblx0XHRcdC8vIHN0YXJ0IGNvbW1lbnQgb3IgPCFbQ0RBVEFbLi4uXV0+IG9yIDwhRE9DVFlQRSAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC88IS8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHRcdGluQ29tbWVudCA9IHRydWU7XHJcblx0XHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLy0tPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvXFxdPi8pID4gLTEgfHwgYXJbaXhdLnNlYXJjaCgvIURPQ1RZUEUvKSA+IC0xICkge1xyXG5cdFx0XHRcdFx0aW5Db21tZW50ID0gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0Ly8gZW5kIGNvbW1lbnQgIG9yIDwhW0NEQVRBWy4uLl1dPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC8tLT4vKSA+IC0xIHx8IGFyW2l4XS5zZWFyY2goL1xcXT4vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IGFyW2l4XTtcclxuXHRcdFx0XHRpbkNvbW1lbnQgPSBmYWxzZTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0+PC9lbG0+IC8vXHJcblx0XHRcdGlmKCAvXjxcXHcvLmV4ZWMoYXJbaXgtMV0pICYmIC9ePFxcL1xcdy8uZXhlYyhhcltpeF0pICYmXHJcblx0XHRcdFx0L148W1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeC0xXSkgPT0gL148XFwvW1xcdzpcXC1cXC5cXCxdKy8uZXhlYyhhcltpeF0pWzBdLnJlcGxhY2UoJy8nLCcnKSkge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdFx0aWYoIWluQ29tbWVudCkgZGVlcC0tO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0IC8vIDxlbG0+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXHcvKSA+IC0xICYmIGFyW2l4XS5zZWFyY2goLzxcXC8vKSA9PSAtMSAmJiBhcltpeF0uc2VhcmNoKC9cXC8+LykgPT0gLTEgKSB7XHJcblx0XHRcdFx0c3RyID0gIWluQ29tbWVudCA/IHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQgLy8gPGVsbT4uLi48L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcdy8pID4gLTEgJiYgYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8L2VsbT4gLy9cclxuXHRcdFx0aWYoYXJbaXhdLnNlYXJjaCgvPFxcLy8pID4gLTEpIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdIDogc3RyICs9IGFyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIDxlbG0vPiAvL1xyXG5cdFx0XHRpZihhcltpeF0uc2VhcmNoKC9cXC8+LykgPiAtMSApIHtcclxuXHRcdFx0XHRzdHIgPSAhaW5Db21tZW50ID8gc3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XSA6IHN0ciArPSBhcltpeF07XHJcblx0XHRcdH0gZWxzZVxyXG5cdFx0XHQvLyA8PyB4bWwgLi4uID8+IC8vXHJcblx0XHRcdGlmKGFyW2l4XS5zZWFyY2goLzxcXD8vKSA+IC0xKSB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdC8vIHhtbG5zIC8vXHJcblx0XHRcdGlmKCBhcltpeF0uc2VhcmNoKC94bWxuc1xcOi8pID4gLTEgIHx8IGFyW2l4XS5zZWFyY2goL3htbG5zXFw9LykgPiAtMSkge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0cmV0dXJuICAoc3RyWzBdID09ICdcXG4nKSA/IHN0ci5zbGljZSgxKSA6IHN0cjtcclxufVxyXG5cclxudmtiZWF1dGlmeS5wcm90b3R5cGUuanNvbiA9IGZ1bmN0aW9uKHRleHQsc3RlcCkge1xyXG5cclxuXHR2YXIgc3RlcCA9IHN0ZXAgPyBzdGVwIDogdGhpcy5zdGVwO1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdGlmICggdHlwZW9mIHRleHQgPT09IFwic3RyaW5nXCIgKSByZXR1cm4gSlNPTi5zdHJpbmdpZnkoSlNPTi5wYXJzZSh0ZXh0KSwgbnVsbCwgc3RlcCk7XHJcblx0aWYgKCB0eXBlb2YgdGV4dCA9PT0gXCJvYmplY3RcIiApIHJldHVybiBKU09OLnN0cmluZ2lmeSh0ZXh0LCBudWxsLCBzdGVwKTtcclxuXHJcblx0cmV0dXJuIHRleHQ7IC8vIHRleHQgaXMgbm90IHN0cmluZyBub3Igb2JqZWN0XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzcyA9IGZ1bmN0aW9uKHRleHQsIHN0ZXApIHtcclxuXHJcblx0dmFyIGFyID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csJyAnKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXHsvZyxcInt+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcfS9nLFwifjo6fn1+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcOy9nLFwiO346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwvXFwqL2csXCJ+Ojp+LypcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFwqXFwvL2csXCIqL346On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvfjo6flxcc3swLH1+Ojp+L2csXCJ+Ojp+XCIpXHJcblx0XHRcdFx0LnNwbGl0KCd+Ojp+JyksXHJcblx0XHRsZW4gPSBhci5sZW5ndGgsXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHN0ciA9ICcnLFxyXG5cdFx0aXggPSAwLFxyXG5cdFx0c2hpZnQgPSBzdGVwID8gY3JlYXRlU2hpZnRBcnIoc3RlcCkgOiB0aGlzLnNoaWZ0O1xyXG5cclxuXHRcdGZvcihpeD0wO2l4PGxlbjtpeCsrKSB7XHJcblxyXG5cdFx0XHRpZiggL1xcey8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwKytdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0Wy0tZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9IGVsc2VcclxuXHRcdFx0aWYoIC9cXCpcXFxcLy5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRzdHIgKz0gc2hpZnRbZGVlcF0rYXJbaXhdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gc3RyLnJlcGxhY2UoL15cXG57MSx9LywnJyk7XHJcbn1cclxuXHJcbi8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG5cclxuZnVuY3Rpb24gaXNTdWJxdWVyeShzdHIsIHBhcmVudGhlc2lzTGV2ZWwpIHtcclxuXHRyZXR1cm4gIHBhcmVudGhlc2lzTGV2ZWwgLSAoc3RyLnJlcGxhY2UoL1xcKC9nLCcnKS5sZW5ndGggLSBzdHIucmVwbGFjZSgvXFwpL2csJycpLmxlbmd0aCApXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNwbGl0X3NxbChzdHIsIHRhYikge1xyXG5cclxuXHRyZXR1cm4gc3RyLnJlcGxhY2UoL1xcc3sxLH0vZyxcIiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTkQgL2lnLFwifjo6flwiK3RhYit0YWIrXCJBTkQgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBCRVRXRUVOIC9pZyxcIn46On5cIit0YWIrXCJCRVRXRUVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ0FTRSAvaWcsXCJ+Ojp+XCIrdGFiK1wiQ0FTRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVMU0UgL2lnLFwifjo6flwiK3RhYitcIkVMU0UgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBFTkQgL2lnLFwifjo6flwiK3RhYitcIkVORCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEZST00gL2lnLFwifjo6fkZST00gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBHUk9VUFxcc3sxLH1CWS9pZyxcIn46On5HUk9VUCBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEhBVklORyAvaWcsXCJ+Ojp+SEFWSU5HIFwiKVxyXG5cdFx0XHRcdC8vLnJlcGxhY2UoLyBTRVQgL2lnLFwiIFNFVH46On5cIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIElOIC9pZyxcIiBJTiBcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBKT0lOIC9pZyxcIn46On5KT0lOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gQ1JPU1N+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkNST1NTIEpPSU4gXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBJTk5FUn46On57MSx9Sk9JTiAvaWcsXCJ+Ojp+SU5ORVIgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIExFRlR+Ojp+ezEsfUpPSU4gL2lnLFwifjo6fkxFRlQgSk9JTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIFJJR0hUfjo6fnsxLH1KT0lOIC9pZyxcIn46On5SSUdIVCBKT0lOIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIE9OIC9pZyxcIn46On5cIit0YWIrXCJPTiBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9SIC9pZyxcIn46On5cIit0YWIrdGFiK1wiT1IgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBPUkRFUlxcc3sxLH1CWS9pZyxcIn46On5PUkRFUiBCWSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIE9WRVIgL2lnLFwifjo6flwiK3RhYitcIk9WRVIgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXChcXHN7MCx9U0VMRUNUIC9pZyxcIn46On4oU0VMRUNUIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC9cXClcXHN7MCx9U0VMRUNUIC9pZyxcIil+Ojp+U0VMRUNUIFwiKVxyXG5cclxuXHRcdFx0XHQucmVwbGFjZSgvIFRIRU4gL2lnLFwiIFRIRU5+Ojp+XCIrdGFiK1wiXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVTklPTiAvaWcsXCJ+Ojp+VU5JT05+Ojp+XCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBVU0lORyAvaWcsXCJ+Ojp+VVNJTkcgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBXSEVOIC9pZyxcIn46On5cIit0YWIrXCJXSEVOIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0hFUkUgL2lnLFwifjo6fldIRVJFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gV0lUSCAvaWcsXCJ+Ojp+V0lUSCBcIilcclxuXHJcblx0XHRcdFx0Ly8ucmVwbGFjZSgvXFwsXFxzezAsfVxcKC9pZyxcIix+Ojp+KCBcIilcclxuXHRcdFx0XHQvLy5yZXBsYWNlKC9cXCwvaWcsXCIsfjo6flwiK3RhYit0YWIrXCJcIilcclxuXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBBTEwgL2lnLFwiIEFMTCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTIC9pZyxcIiBBUyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEFTQyAvaWcsXCIgQVNDIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gREVTQyAvaWcsXCIgREVTQyBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIERJU1RJTkNUIC9pZyxcIiBESVNUSU5DVCBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvIEVYSVNUUyAvaWcsXCIgRVhJU1RTIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTk9UIC9pZyxcIiBOT1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoLyBOVUxMIC9pZyxcIiBOVUxMIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gTElLRSAvaWcsXCIgTElLRSBcIilcclxuXHRcdFx0XHQucmVwbGFjZSgvXFxzezAsfVNFTEVDVCAvaWcsXCJTRUxFQ1QgXCIpXHJcblx0XHRcdFx0LnJlcGxhY2UoL1xcc3swLH1VUERBVEUgL2lnLFwiVVBEQVRFIFwiKVxyXG5cdFx0XHRcdC5yZXBsYWNlKC8gU0VUIC9pZyxcIiBTRVQgXCIpXHJcblxyXG5cdFx0XHRcdC5yZXBsYWNlKC9+Ojp+ezEsfS9nLFwifjo6flwiKVxyXG5cdFx0XHRcdC5zcGxpdCgnfjo6ficpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5zcWwgPSBmdW5jdGlvbih0ZXh0LHN0ZXApIHtcclxuXHJcblx0dmFyIGFyX2J5X3F1b3RlID0gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpXHJcblx0XHRcdFx0XHRcdFx0LnJlcGxhY2UoL1xcJy9pZyxcIn46On5cXCdcIilcclxuXHRcdFx0XHRcdFx0XHQuc3BsaXQoJ346On4nKSxcclxuXHRcdGxlbiA9IGFyX2J5X3F1b3RlLmxlbmd0aCxcclxuXHRcdGFyID0gW10sXHJcblx0XHRkZWVwID0gMCxcclxuXHRcdHRhYiA9IHRoaXMuc3RlcCwvLyt0aGlzLnN0ZXAsXHJcblx0XHRpbkNvbW1lbnQgPSB0cnVlLFxyXG5cdFx0aW5RdW90ZSA9IGZhbHNlLFxyXG5cdFx0cGFyZW50aGVzaXNMZXZlbCA9IDAsXHJcblx0XHRzdHIgPSAnJyxcclxuXHRcdGl4ID0gMCxcclxuXHRcdHNoaWZ0ID0gc3RlcCA/IGNyZWF0ZVNoaWZ0QXJyKHN0ZXApIDogdGhpcy5zaGlmdDs7XHJcblxyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHRcdFx0aWYoaXglMikge1xyXG5cdFx0XHRcdGFyID0gYXIuY29uY2F0KGFyX2J5X3F1b3RlW2l4XSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0YXIgPSBhci5jb25jYXQoc3BsaXRfc3FsKGFyX2J5X3F1b3RlW2l4XSwgdGFiKSApO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0bGVuID0gYXIubGVuZ3RoO1xyXG5cdFx0Zm9yKGl4PTA7aXg8bGVuO2l4KyspIHtcclxuXHJcblx0XHRcdHBhcmVudGhlc2lzTGV2ZWwgPSBpc1N1YnF1ZXJ5KGFyW2l4XSwgcGFyZW50aGVzaXNMZXZlbCk7XHJcblxyXG5cdFx0XHRpZiggL1xcc3swLH1cXHN7MCx9U0VMRUNUXFxzezAsfS8uZXhlYyhhcltpeF0pKSAge1xyXG5cdFx0XHRcdGFyW2l4XSA9IGFyW2l4XS5yZXBsYWNlKC9cXCwvZyxcIixcXG5cIit0YWIrdGFiK1wiXCIpXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmKCAvXFxzezAsfVxcc3swLH1TRVRcXHN7MCx9Ly5leGVjKGFyW2l4XSkpICB7XHJcblx0XHRcdFx0YXJbaXhdID0gYXJbaXhdLnJlcGxhY2UoL1xcLC9nLFwiLFxcblwiK3RhYit0YWIrXCJcIilcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYoIC9cXHN7MCx9XFwoXFxzezAsfVNFTEVDVFxcc3swLH0vLmV4ZWMoYXJbaXhdKSkgIHtcclxuXHRcdFx0XHRkZWVwKys7XHJcblx0XHRcdFx0c3RyICs9IHNoaWZ0W2RlZXBdK2FyW2l4XTtcclxuXHRcdFx0fSBlbHNlXHJcblx0XHRcdGlmKCAvXFwnLy5leGVjKGFyW2l4XSkgKSAge1xyXG5cdFx0XHRcdGlmKHBhcmVudGhlc2lzTGV2ZWw8MSAmJiBkZWVwKSB7XHJcblx0XHRcdFx0XHRkZWVwLS07XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHN0ciArPSBhcltpeF07XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSAge1xyXG5cdFx0XHRcdHN0ciArPSBzaGlmdFtkZWVwXSthcltpeF07XHJcblx0XHRcdFx0aWYocGFyZW50aGVzaXNMZXZlbDwxICYmIGRlZXApIHtcclxuXHRcdFx0XHRcdGRlZXAtLTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGp1bmsgPSAwO1xyXG5cdFx0fVxyXG5cclxuXHRcdHN0ciA9IHN0ci5yZXBsYWNlKC9eXFxuezEsfS8sJycpLnJlcGxhY2UoL1xcbnsxLH0vZyxcIlxcblwiKTtcclxuXHRcdHJldHVybiBzdHI7XHJcbn1cclxuXHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS54bWxtaW4gPSBmdW5jdGlvbih0ZXh0LCBwcmVzZXJ2ZUNvbW1lbnRzKSB7XHJcblxyXG5cdHZhciBzdHIgPSBwcmVzZXJ2ZUNvbW1lbnRzID8gdGV4dFxyXG5cdFx0XHRcdFx0XHRcdCAgIDogdGV4dC5yZXBsYWNlKC9cXDwhWyBcXHJcXG5cXHRdKigtLShbXlxcLV18W1xcclxcbl18LVteXFwtXSkqLS1bIFxcclxcblxcdF0qKVxcPi9nLFwiXCIpXHJcblx0XHRcdFx0XHRcdFx0XHRcdCAucmVwbGFjZSgvWyBcXHJcXG5cXHRdezEsfXhtbG5zL2csICcgeG1sbnMnKTtcclxuXHRyZXR1cm4gIHN0ci5yZXBsYWNlKC8+XFxzezAsfTwvZyxcIj48XCIpO1xyXG59XHJcblxyXG52a2JlYXV0aWZ5LnByb3RvdHlwZS5qc29ubWluID0gZnVuY3Rpb24odGV4dCkge1xyXG5cclxuXHRpZiAodHlwZW9mIEpTT04gPT09ICd1bmRlZmluZWQnICkgcmV0dXJuIHRleHQ7XHJcblxyXG5cdHJldHVybiBKU09OLnN0cmluZ2lmeShKU09OLnBhcnNlKHRleHQpLCBudWxsLCAwKTtcclxuXHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLmNzc21pbiA9IGZ1bmN0aW9uKHRleHQsIHByZXNlcnZlQ29tbWVudHMpIHtcclxuXHJcblx0dmFyIHN0ciA9IHByZXNlcnZlQ29tbWVudHMgPyB0ZXh0XHJcblx0XHRcdFx0XHRcdFx0ICAgOiB0ZXh0LnJlcGxhY2UoL1xcL1xcKihbXipdfFtcXHJcXG5dfChcXCorKFteKi9dfFtcXHJcXG5dKSkpKlxcKitcXC8vZyxcIlwiKSA7XHJcblxyXG5cdHJldHVybiBzdHIucmVwbGFjZSgvXFxzezEsfS9nLCcgJylcclxuXHRcdFx0ICAucmVwbGFjZSgvXFx7XFxzezEsfS9nLFwie1wiKVxyXG5cdFx0XHQgIC5yZXBsYWNlKC9cXH1cXHN7MSx9L2csXCJ9XCIpXHJcblx0XHRcdCAgLnJlcGxhY2UoL1xcO1xcc3sxLH0vZyxcIjtcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwvXFwqXFxzezEsfS9nLFwiLypcIilcclxuXHRcdFx0ICAucmVwbGFjZSgvXFwqXFwvXFxzezEsfS9nLFwiKi9cIik7XHJcbn1cclxuXHJcbnZrYmVhdXRpZnkucHJvdG90eXBlLnNxbG1pbiA9IGZ1bmN0aW9uKHRleHQpIHtcclxuXHRyZXR1cm4gdGV4dC5yZXBsYWNlKC9cXHN7MSx9L2csXCIgXCIpLnJlcGxhY2UoL1xcc3sxLH1cXCgvLFwiKFwiKS5yZXBsYWNlKC9cXHN7MSx9XFwpLyxcIilcIik7XHJcbn1cclxuXHJcbm1vZHVsZS5leHBvcnRzID0gbmV3IHZrYmVhdXRpZnkoKTtcclxuIiwiaW1wb3J0IHsgVmVyb3Zpb01lc3NhZ2UgfSBmcm9tICcuL1R5cGVzJztcblxuXG4vKipcbiAqIEEgd3JhcHBlciBhcm91bmQgdGhlIHZlcm92aW8gd2ViIHdvcmtlciB0byBwZXJtaXQgbW9ja2luZyBpbiB0ZXN0cy5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmVyb3Zpb1dyYXBwZXIge1xuICB2ZXJvdmlvV29ya2VyOiBXb3JrZXI7XG4gIGNvbnN0cnVjdG9yICgpIHtcbiAgICB0aGlzLnZlcm92aW9Xb3JrZXIgPSBuZXcgV29ya2VyKF9fQVNTRVRfUFJFRklYX18gKyAnd29ya2Vycy9WZXJvdmlvV29ya2VyLmpzJyk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGFuIGV2ZW50IGxpc3RlbmVyIG9udG8gdGhlIGFjdHVhbCB3ZWIgd29ya2VyLlxuICAgKi9cbiAgYWRkRXZlbnRMaXN0ZW5lciAodHlwZTogc3RyaW5nLCBoYW5kbGVyOiBFdmVudExpc3RlbmVyT3JFdmVudExpc3RlbmVyT2JqZWN0KTogdm9pZCB7XG4gICAgcmV0dXJuIHRoaXMudmVyb3Zpb1dvcmtlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGhhbmRsZXIpO1xuICB9XG5cbiAgLyoqXG4gICAqIFNlbmQgYSBtZXNzYWdlIHRvIHRoZSBhY3R1YWwgd2ViIHdvcmtlci5cbiAgICovXG4gIHBvc3RNZXNzYWdlIChtZXNzYWdlOiBWZXJvdmlvTWVzc2FnZSk6IHZvaWQge1xuICAgIHJldHVybiB0aGlzLnZlcm92aW9Xb3JrZXIucG9zdE1lc3NhZ2UobWVzc2FnZSk7XG4gIH1cbn1cbiIsIi8qIGVzbGludC1kaXNhYmxlIEB0eXBlc2NyaXB0LWVzbGludC9uby12YXItcmVxdWlyZXMgKi9cbmltcG9ydCB7IE5lb25NYW5pZmVzdCB9IGZyb20gJy4uL1R5cGVzJztcbmNvbnN0IE5lb25TY2hlbWEgPSByZXF1aXJlKCcuL21hbmlmZXN0L05lb25TY2hlbWEuanNvbicpO1xuY29uc3QgTmVvbkNvbnRleHQgPSByZXF1aXJlKCcuL21hbmlmZXN0L2NvbnRleHQuanNvbicpO1xuaW1wb3J0IHsgdmFsaWRhdGUgfSBmcm9tICdqc29uc2NoZW1hJztcblxuXG4vKipcbiAqIENoZWNrIGlmIHRoZSBwcm92aWRlZCBOZW9uIG1hbmlmZXN0IGlzIHBhcnNlYWJsZS5cbiAqIEBwYXJhbSB7c3RyaW5nfSBtYW5pZmVzdFN0cmluZyAtIFRoZSBOZW9uIG1hbmlmZXN0IGFzIGEgc3RyaW5nLlxuICovXG5leHBvcnQgZnVuY3Rpb24gcGFyc2VNYW5pZmVzdCAobWFuaWZlc3RTdHJpbmc6IE5lb25NYW5pZmVzdCk6IGJvb2xlYW4ge1xuICBjb25zdCByZXN1bHRzID0gdmFsaWRhdGUobWFuaWZlc3RTdHJpbmcsIE5lb25TY2hlbWEpO1xuICBjb25zdCBpbnN0YW5jZSA9IHJlc3VsdHMuaW5zdGFuY2U7XG4gIGlmIChyZXN1bHRzLmVycm9ycy5sZW5ndGggPiAwKSB7XG4gICAgY29uc29sZS5lcnJvcihyZXN1bHRzLmVycm9ycyk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIGNvbnN0IGNvbnRleHQgPSBpbnN0YW5jZVsnQGNvbnRleHQnXTtcbiAgaWYgKGNvbnRleHQgPT09ICdodHRwczovL2RkbWFsLm11c2ljLm1jZ2lsbC5jYS9OZW9uL2NvbnRleHRzLzEvbWFuaWZlc3QuanNvbmxkJykge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGlmICgoY29udGV4dFswXSA9PT0gTmVvbkNvbnRleHRbMF0pICYmXG4gICAgICAoY29udGV4dFsxXVsnc2NoZW1hJ10gPT09IE5lb25Db250ZXh0WzFdWydzY2hlbWEnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aXRsZSddID09PSBOZW9uQ29udGV4dFsxXVsndGl0bGUnXSkgJiZcbiAgICAgIChjb250ZXh0WzFdWyd0aW1lc3RhbXAnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ3RpbWVzdGFtcCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ2ltYWdlJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnaW1hZ2UnXVsnQGlkJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnaW1hZ2UnXVsnQHR5cGUnXSA9PT0gTmVvbkNvbnRleHRbMV1bJ2ltYWdlJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0BpZCddKSAmJlxuICAgICAgKGNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAdHlwZSddID09PSBOZW9uQ29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0B0eXBlJ10pICYmXG4gICAgICAoY29udGV4dFsxXVsnbWVpX2Fubm90YXRpb25zJ11bJ0Bjb250YWluZXInXSA9PT0gTmVvbkNvbnRleHRbMV1bJ21laV9hbm5vdGF0aW9ucyddWydAY29udGFpbmVyJ10pKSB7XG4gICAgcmV0dXJuIHRydWU7XG4gIH0gZWxzZSB7XG4gICAgY29uc29sZS5lcnJvcignQ29udGV4dCBtaXNtYXRjaCcpO1xuICAgIGNvbnNvbGUuZXJyb3IoY29udGV4dCk7XG4gICAgY29uc29sZS5lcnJvcihOZW9uQ29udGV4dCk7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG4iLCIndXNlIHN0cmljdCc7XG5cbnZhciBWYWxpZGF0b3IgPSBtb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3IgPSByZXF1aXJlKCcuL3ZhbGlkYXRvcicpO1xuXG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHQgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5WYWxpZGF0b3JSZXN1bHQ7XG5tb2R1bGUuZXhwb3J0cy5WYWxpZGF0b3JSZXN1bHRFcnJvciA9IHJlcXVpcmUoJy4vaGVscGVycycpLlZhbGlkYXRvclJlc3VsdEVycm9yO1xubW9kdWxlLmV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gcmVxdWlyZSgnLi9oZWxwZXJzJykuVmFsaWRhdGlvbkVycm9yO1xubW9kdWxlLmV4cG9ydHMuU2NoZW1hRXJyb3IgPSByZXF1aXJlKCcuL2hlbHBlcnMnKS5TY2hlbWFFcnJvcjtcbm1vZHVsZS5leHBvcnRzLlNjaGVtYVNjYW5SZXN1bHQgPSByZXF1aXJlKCcuL3NjYW4nKS5TY2hlbWFTY2FuUmVzdWx0O1xubW9kdWxlLmV4cG9ydHMuc2NhbiA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG5cbm1vZHVsZS5leHBvcnRzLnZhbGlkYXRlID0gZnVuY3Rpb24gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpIHtcbiAgdmFyIHYgPSBuZXcgVmFsaWRhdG9yKCk7XG4gIHJldHVybiB2LnZhbGlkYXRlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMpO1xufTtcbiIsIid1c2Ugc3RyaWN0JztcblxudmFyIHVyaWxpYiA9IHJlcXVpcmUoJ3VybCcpO1xuXG52YXIgYXR0cmlidXRlID0gcmVxdWlyZSgnLi9hdHRyaWJ1dGUnKTtcbnZhciBoZWxwZXJzID0gcmVxdWlyZSgnLi9oZWxwZXJzJyk7XG52YXIgc2NhblNjaGVtYSA9IHJlcXVpcmUoJy4vc2NhbicpLnNjYW47XG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG52YXIgVmFsaWRhdG9yUmVzdWx0RXJyb3IgPSBoZWxwZXJzLlZhbGlkYXRvclJlc3VsdEVycm9yO1xudmFyIFNjaGVtYUVycm9yID0gaGVscGVycy5TY2hlbWFFcnJvcjtcbnZhciBTY2hlbWFDb250ZXh0ID0gaGVscGVycy5TY2hlbWFDb250ZXh0O1xuLy92YXIgYW5vbnltb3VzQmFzZSA9ICd2bmQuanNvbnNjaGVtYTovLy8nO1xudmFyIGFub255bW91c0Jhc2UgPSAnLyc7XG5cbi8qKlxuICogQ3JlYXRlcyBhIG5ldyBWYWxpZGF0b3Igb2JqZWN0XG4gKiBAbmFtZSBWYWxpZGF0b3JcbiAqIEBjb25zdHJ1Y3RvclxuICovXG52YXIgVmFsaWRhdG9yID0gZnVuY3Rpb24gVmFsaWRhdG9yICgpIHtcbiAgLy8gQWxsb3cgYSB2YWxpZGF0b3IgaW5zdGFuY2UgdG8gb3ZlcnJpZGUgZ2xvYmFsIGN1c3RvbSBmb3JtYXRzIG9yIHRvIGhhdmUgdGhlaXJcbiAgLy8gb3duIGN1c3RvbSBmb3JtYXRzLlxuICB0aGlzLmN1c3RvbUZvcm1hdHMgPSBPYmplY3QuY3JlYXRlKFZhbGlkYXRvci5wcm90b3R5cGUuY3VzdG9tRm9ybWF0cyk7XG4gIHRoaXMuc2NoZW1hcyA9IHt9O1xuICB0aGlzLnVucmVzb2x2ZWRSZWZzID0gW107XG5cbiAgLy8gVXNlIE9iamVjdC5jcmVhdGUgdG8gbWFrZSB0aGlzIGV4dGVuc2libGUgd2l0aG91dCBWYWxpZGF0b3IgaW5zdGFuY2VzIHN0ZXBwaW5nIG9uIGVhY2ggb3RoZXIncyB0b2VzLlxuICB0aGlzLnR5cGVzID0gT2JqZWN0LmNyZWF0ZSh0eXBlcyk7XG4gIHRoaXMuYXR0cmlidXRlcyA9IE9iamVjdC5jcmVhdGUoYXR0cmlidXRlLnZhbGlkYXRvcnMpO1xufTtcblxuLy8gQWxsb3cgZm9ybWF0cyB0byBiZSByZWdpc3RlcmVkIGdsb2JhbGx5LlxuVmFsaWRhdG9yLnByb3RvdHlwZS5jdXN0b21Gb3JtYXRzID0ge307XG5cbi8vIEhpbnQgYXQgdGhlIHByZXNlbmNlIG9mIGEgcHJvcGVydHlcblZhbGlkYXRvci5wcm90b3R5cGUuc2NoZW1hcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnR5cGVzID0gbnVsbDtcblZhbGlkYXRvci5wcm90b3R5cGUuYXR0cmlidXRlcyA9IG51bGw7XG5WYWxpZGF0b3IucHJvdG90eXBlLnVucmVzb2x2ZWRSZWZzID0gbnVsbDtcblxuLyoqXG4gKiBBZGRzIGEgc2NoZW1hIHdpdGggYSBjZXJ0YWluIHVybiB0byB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIHVyblxuICogQHJldHVybiB7T2JqZWN0fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmFkZFNjaGVtYSA9IGZ1bmN0aW9uIGFkZFNjaGVtYSAoc2NoZW1hLCBiYXNlKSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCFzY2hlbWEpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgc2NhbiA9IHNjYW5TY2hlbWEoYmFzZXx8YW5vbnltb3VzQmFzZSwgc2NoZW1hKTtcbiAgdmFyIG91clVyaSA9IGJhc2UgfHwgc2NoZW1hLiRpZCB8fCBzY2hlbWEuaWQ7XG4gIGZvcih2YXIgdXJpIGluIHNjYW4uaWQpe1xuICAgIHRoaXMuc2NoZW1hc1t1cmldID0gc2Nhbi5pZFt1cmldO1xuICB9XG4gIGZvcih2YXIgdXJpIGluIHNjYW4ucmVmKXtcbiAgICAvLyBJZiB0aGlzIHNjaGVtYSBpcyBhbHJlYWR5IGRlZmluZWQsIGl0IHdpbGwgYmUgZmlsdGVyZWQgb3V0IGJ5IHRoZSBuZXh0IHN0ZXBcbiAgICB0aGlzLnVucmVzb2x2ZWRSZWZzLnB1c2godXJpKTtcbiAgfVxuICAvLyBSZW1vdmUgbmV3bHkgZGVmaW5lZCBzY2hlbWFzIGZyb20gdW5yZXNvbHZlZFJlZnNcbiAgdGhpcy51bnJlc29sdmVkUmVmcyA9IHRoaXMudW5yZXNvbHZlZFJlZnMuZmlsdGVyKGZ1bmN0aW9uKHVyaSl7XG4gICAgcmV0dXJuIHR5cGVvZiBzZWxmLnNjaGVtYXNbdXJpXT09PSd1bmRlZmluZWQnO1xuICB9KTtcbiAgcmV0dXJuIHRoaXMuc2NoZW1hc1tvdXJVcmldO1xufTtcblxuVmFsaWRhdG9yLnByb3RvdHlwZS5hZGRTdWJTY2hlbWFBcnJheSA9IGZ1bmN0aW9uIGFkZFN1YlNjaGVtYUFycmF5KGJhc2V1cmksIHNjaGVtYXMpIHtcbiAgaWYoIUFycmF5LmlzQXJyYXkoc2NoZW1hcykpIHJldHVybjtcbiAgZm9yKHZhciBpPTA7IGk8c2NoZW1hcy5sZW5ndGg7IGkrKyl7XG4gICAgdGhpcy5hZGRTdWJTY2hlbWEoYmFzZXVyaSwgc2NoZW1hc1tpXSk7XG4gIH1cbn07XG5cblZhbGlkYXRvci5wcm90b3R5cGUuYWRkU3ViU2NoZW1hT2JqZWN0ID0gZnVuY3Rpb24gYWRkU3ViU2NoZW1hQXJyYXkoYmFzZXVyaSwgc2NoZW1hcykge1xuICBpZighc2NoZW1hcyB8fCB0eXBlb2Ygc2NoZW1hcyE9J29iamVjdCcpIHJldHVybjtcbiAgZm9yKHZhciBwIGluIHNjaGVtYXMpe1xuICAgIHRoaXMuYWRkU3ViU2NoZW1hKGJhc2V1cmksIHNjaGVtYXNbcF0pO1xuICB9XG59O1xuXG5cblxuLyoqXG4gKiBTZXRzIGFsbCB0aGUgc2NoZW1hcyBvZiB0aGUgVmFsaWRhdG9yIGluc3RhbmNlLlxuICogQHBhcmFtIHNjaGVtYXNcbiAqL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zZXRTY2hlbWFzID0gZnVuY3Rpb24gc2V0U2NoZW1hcyAoc2NoZW1hcykge1xuICB0aGlzLnNjaGVtYXMgPSBzY2hlbWFzO1xufTtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBzY2hlbWEgb2YgYSBjZXJ0YWluIHVyblxuICogQHBhcmFtIHVyblxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLmdldFNjaGVtYSA9IGZ1bmN0aW9uIGdldFNjaGVtYSAodXJuKSB7XG4gIHJldHVybiB0aGlzLnNjaGVtYXNbdXJuXTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGluc3RhbmNlIGFnYWluc3QgdGhlIHByb3ZpZGVkIHNjaGVtYVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gW29wdGlvbnNdXG4gKiBAcGFyYW0gW2N0eF1cbiAqIEByZXR1cm4ge0FycmF5fVxuICovXG5WYWxpZGF0b3IucHJvdG90eXBlLnZhbGlkYXRlID0gZnVuY3Rpb24gdmFsaWRhdGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZigodHlwZW9mIHNjaGVtYSAhPT0gJ2Jvb2xlYW4nICYmIHR5cGVvZiBzY2hlbWEgIT09ICdvYmplY3QnKSB8fCBzY2hlbWEgPT09IG51bGwpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignRXhwZWN0ZWQgYHNjaGVtYWAgdG8gYmUgYW4gb2JqZWN0IG9yIGJvb2xlYW4nKTtcbiAgfVxuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge307XG4gIH1cbiAgLy8gVGhpcyBzZWN0aW9uIGluZGV4ZXMgc3Vic2NoZW1hcyBpbiB0aGUgcHJvdmlkZWQgc2NoZW1hLCBzbyB0aGV5IGRvbid0IG5lZWQgdG8gYmUgYWRkZWQgd2l0aCBWYWxpZGF0b3IjYWRkU2NoZW1hXG4gIC8vIFRoaXMgd2lsbCB3b3JrIHNvIGxvbmcgYXMgdGhlIGZ1bmN0aW9uIGF0IHVyaS5yZXNvbHZlKCkgd2lsbCByZXNvbHZlIGEgcmVsYXRpdmUgVVJJIHRvIGEgcmVsYXRpdmUgVVJJXG4gIHZhciBpZCA9IHNjaGVtYS4kaWQgfHwgc2NoZW1hLmlkO1xuICB2YXIgYmFzZSA9IHVyaWxpYi5yZXNvbHZlKG9wdGlvbnMuYmFzZXx8YW5vbnltb3VzQmFzZSwgaWR8fCcnKTtcbiAgaWYoIWN0eCl7XG4gICAgY3R4ID0gbmV3IFNjaGVtYUNvbnRleHQoc2NoZW1hLCBvcHRpb25zLCBbXSwgYmFzZSwgT2JqZWN0LmNyZWF0ZSh0aGlzLnNjaGVtYXMpKTtcbiAgICBpZiAoIWN0eC5zY2hlbWFzW2Jhc2VdKSB7XG4gICAgICBjdHguc2NoZW1hc1tiYXNlXSA9IHNjaGVtYTtcbiAgICB9XG4gICAgdmFyIGZvdW5kID0gc2NhblNjaGVtYShiYXNlLCBzY2hlbWEpO1xuICAgIGZvcih2YXIgbiBpbiBmb3VuZC5pZCl7XG4gICAgICB2YXIgc2NoID0gZm91bmQuaWRbbl07XG4gICAgICBjdHguc2NoZW1hc1tuXSA9IHNjaDtcbiAgICB9XG4gIH1cbiAgaWYob3B0aW9ucy5yZXF1aXJlZCAmJiBpbnN0YW5jZT09PXVuZGVmaW5lZCl7XG4gICAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICByZXN1bHQuYWRkRXJyb3IoJ2lzIHJlcXVpcmVkLCBidXQgaXMgdW5kZWZpbmVkJyk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdCkge1xuICAgIHRocm93IG5ldyBFcnJvcignUmVzdWx0IHVuZGVmaW5lZCcpO1xuICB9ZWxzZSBpZihvcHRpb25zLnRocm93QWxsICYmIHJlc3VsdC5lcnJvcnMubGVuZ3RoKXtcbiAgICB0aHJvdyBuZXcgVmFsaWRhdG9yUmVzdWx0RXJyb3IocmVzdWx0KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEByZXR1cm4gbWl4ZWQgc2NoZW1hIHVyaSBvciBmYWxzZVxuKi9cbmZ1bmN0aW9uIHNob3VsZFJlc29sdmUoc2NoZW1hKSB7XG4gIHZhciByZWYgPSAodHlwZW9mIHNjaGVtYSA9PT0gJ3N0cmluZycpID8gc2NoZW1hIDogc2NoZW1hLiRyZWY7XG4gIGlmICh0eXBlb2YgcmVmPT0nc3RyaW5nJykgcmV0dXJuIHJlZjtcbiAgcmV0dXJuIGZhbHNlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBhbiBpbnN0YW5jZSBhZ2FpbnN0IHRoZSBzY2hlbWEgKHRoZSBhY3R1YWwgd29yayBob3JzZSlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEBwcml2YXRlXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR9XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudmFsaWRhdGVTY2hlbWEgPSBmdW5jdGlvbiB2YWxpZGF0ZVNjaGVtYSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG5cbiAgLy8gU3VwcG9ydCBmb3IgdGhlIHRydWUvZmFsc2Ugc2NoZW1hc1xuICBpZih0eXBlb2Ygc2NoZW1hPT09J2Jvb2xlYW4nKSB7XG4gICAgaWYoc2NoZW1hPT09dHJ1ZSl7XG4gICAgICAvLyBgdHJ1ZWAgaXMgYWx3YXlzIHZhbGlkXG4gICAgICBzY2hlbWEgPSB7fTtcbiAgICB9ZWxzZSBpZihzY2hlbWE9PT1mYWxzZSl7XG4gICAgICAvLyBgZmFsc2VgIGlzIGFsd2F5cyBpbnZhbGlkXG4gICAgICBzY2hlbWEgPSB7dHlwZTogW119O1xuICAgIH1cbiAgfWVsc2UgaWYoIXNjaGVtYSl7XG4gICAgLy8gVGhpcyBtaWdodCBiZSBhIHN0cmluZ1xuICAgIHRocm93IG5ldyBFcnJvcihcInNjaGVtYSBpcyB1bmRlZmluZWRcIik7XG4gIH1cblxuICBpZiAoc2NoZW1hWydleHRlbmRzJ10pIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShzY2hlbWFbJ2V4dGVuZHMnXSkpIHtcbiAgICAgIHZhciBzY2hlbWFvYmogPSB7c2NoZW1hOiBzY2hlbWEsIGN0eDogY3R4fTtcbiAgICAgIHNjaGVtYVsnZXh0ZW5kcyddLmZvckVhY2godGhpcy5zY2hlbWFUcmF2ZXJzZXIuYmluZCh0aGlzLCBzY2hlbWFvYmopKTtcbiAgICAgIHNjaGVtYSA9IHNjaGVtYW9iai5zY2hlbWE7XG4gICAgICBzY2hlbWFvYmouc2NoZW1hID0gbnVsbDtcbiAgICAgIHNjaGVtYW9iai5jdHggPSBudWxsO1xuICAgICAgc2NoZW1hb2JqID0gbnVsbDtcbiAgICB9IGVsc2Uge1xuICAgICAgc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hLCB0aGlzLnN1cGVyUmVzb2x2ZShzY2hlbWFbJ2V4dGVuZHMnXSwgY3R4KSk7XG4gICAgfVxuICB9XG5cbiAgLy8gSWYgcGFzc2VkIGEgc3RyaW5nIGFyZ3VtZW50LCBsb2FkIHRoYXQgc2NoZW1hIFVSSVxuICB2YXIgc3dpdGNoU2NoZW1hID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZiAoc3dpdGNoU2NoZW1hKSB7XG4gICAgdmFyIHJlc29sdmVkID0gdGhpcy5yZXNvbHZlKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpO1xuICAgIHZhciBzdWJjdHggPSBuZXcgU2NoZW1hQ29udGV4dChyZXNvbHZlZC5zdWJzY2hlbWEsIG9wdGlvbnMsIGN0eC5wYXRoLCByZXNvbHZlZC5zd2l0Y2hTY2hlbWEsIGN0eC5zY2hlbWFzKTtcbiAgICByZXR1cm4gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZSwgcmVzb2x2ZWQuc3Vic2NoZW1hLCBvcHRpb25zLCBzdWJjdHgpO1xuICB9XG5cbiAgdmFyIHNraXBBdHRyaWJ1dGVzID0gb3B0aW9ucyAmJiBvcHRpb25zLnNraXBBdHRyaWJ1dGVzIHx8IFtdO1xuICAvLyBWYWxpZGF0ZSBlYWNoIHNjaGVtYSBhdHRyaWJ1dGUgYWdhaW5zdCB0aGUgaW5zdGFuY2VcbiAgZm9yICh2YXIga2V5IGluIHNjaGVtYSkge1xuICAgIGlmICghYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXNba2V5XSAmJiBza2lwQXR0cmlidXRlcy5pbmRleE9mKGtleSkgPCAwKSB7XG4gICAgICB2YXIgdmFsaWRhdG9yRXJyID0gbnVsbDtcbiAgICAgIHZhciB2YWxpZGF0b3IgPSB0aGlzLmF0dHJpYnV0ZXNba2V5XTtcbiAgICAgIGlmICh2YWxpZGF0b3IpIHtcbiAgICAgICAgdmFsaWRhdG9yRXJyID0gdmFsaWRhdG9yLmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy5hbGxvd1Vua25vd25BdHRyaWJ1dGVzID09PSBmYWxzZSkge1xuICAgICAgICAvLyBUaGlzIHJlcHJlc2VudHMgYW4gZXJyb3Igd2l0aCB0aGUgc2NoZW1hIGl0c2VsZiwgbm90IGFuIGludmFsaWQgaW5zdGFuY2VcbiAgICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiVW5zdXBwb3J0ZWQgYXR0cmlidXRlOiBcIiArIGtleSwgc2NoZW1hKTtcbiAgICAgIH1cbiAgICAgIGlmICh2YWxpZGF0b3JFcnIpIHtcbiAgICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyh2YWxpZGF0b3JFcnIpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmICh0eXBlb2Ygb3B0aW9ucy5yZXdyaXRlID09ICdmdW5jdGlvbicpIHtcbiAgICB2YXIgdmFsdWUgPSBvcHRpb25zLnJld3JpdGUuY2FsbCh0aGlzLCBpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgIHJlc3VsdC5pbnN0YW5jZSA9IHZhbHVlO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiogQHByaXZhdGVcbiogQHBhcmFtIE9iamVjdCBzY2hlbWFcbiogQHBhcmFtIFNjaGVtYUNvbnRleHQgY3R4XG4qIEByZXR1cm5zIE9iamVjdCBzY2hlbWEgb3IgcmVzb2x2ZWQgc2NoZW1hXG4qL1xuVmFsaWRhdG9yLnByb3RvdHlwZS5zY2hlbWFUcmF2ZXJzZXIgPSBmdW5jdGlvbiBzY2hlbWFUcmF2ZXJzZXIgKHNjaGVtYW9iaiwgcykge1xuICBzY2hlbWFvYmouc2NoZW1hID0gaGVscGVycy5kZWVwTWVyZ2Uoc2NoZW1hb2JqLnNjaGVtYSwgdGhpcy5zdXBlclJlc29sdmUocywgc2NoZW1hb2JqLmN0eCkpO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJucyBPYmplY3Qgc2NoZW1hIG9yIHJlc29sdmVkIHNjaGVtYVxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUuc3VwZXJSZXNvbHZlID0gZnVuY3Rpb24gc3VwZXJSZXNvbHZlIChzY2hlbWEsIGN0eCkge1xuICB2YXIgcmVmID0gc2hvdWxkUmVzb2x2ZShzY2hlbWEpO1xuICBpZihyZWYpIHtcbiAgICByZXR1cm4gdGhpcy5yZXNvbHZlKHNjaGVtYSwgcmVmLCBjdHgpLnN1YnNjaGVtYTtcbiAgfVxuICByZXR1cm4gc2NoZW1hO1xufTtcblxuLyoqXG4qIEBwcml2YXRlXG4qIEBwYXJhbSBPYmplY3Qgc2NoZW1hXG4qIEBwYXJhbSBPYmplY3Qgc3dpdGNoU2NoZW1hXG4qIEBwYXJhbSBTY2hlbWFDb250ZXh0IGN0eFxuKiBAcmV0dXJuIE9iamVjdCByZXNvbHZlZCBzY2hlbWFzIHtzdWJzY2hlbWE6U3RyaW5nLCBzd2l0Y2hTY2hlbWE6IFN0cmluZ31cbiogQHRocm93cyBTY2hlbWFFcnJvclxuKi9cblZhbGlkYXRvci5wcm90b3R5cGUucmVzb2x2ZSA9IGZ1bmN0aW9uIHJlc29sdmUgKHNjaGVtYSwgc3dpdGNoU2NoZW1hLCBjdHgpIHtcbiAgc3dpdGNoU2NoZW1hID0gY3R4LnJlc29sdmUoc3dpdGNoU2NoZW1hKTtcbiAgLy8gRmlyc3Qgc2VlIGlmIHRoZSBzY2hlbWEgZXhpc3RzIHVuZGVyIHRoZSBwcm92aWRlZCBVUklcbiAgaWYgKGN0eC5zY2hlbWFzW3N3aXRjaFNjaGVtYV0pIHtcbiAgICByZXR1cm4ge3N1YnNjaGVtYTogY3R4LnNjaGVtYXNbc3dpdGNoU2NoZW1hXSwgc3dpdGNoU2NoZW1hOiBzd2l0Y2hTY2hlbWF9O1xuICB9XG4gIC8vIEVsc2UgdHJ5IHdhbGtpbmcgdGhlIHByb3BlcnR5IHBvaW50ZXJcbiAgdmFyIHBhcnNlZCA9IHVyaWxpYi5wYXJzZShzd2l0Y2hTY2hlbWEpO1xuICB2YXIgZnJhZ21lbnQgPSBwYXJzZWQgJiYgcGFyc2VkLmhhc2g7XG4gIHZhciBkb2N1bWVudCA9IGZyYWdtZW50ICYmIGZyYWdtZW50Lmxlbmd0aCAmJiBzd2l0Y2hTY2hlbWEuc3Vic3RyKDAsIHN3aXRjaFNjaGVtYS5sZW5ndGggLSBmcmFnbWVudC5sZW5ndGgpO1xuICBpZiAoIWRvY3VtZW50IHx8ICFjdHguc2NoZW1hc1tkb2N1bWVudF0pIHtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSA8XCIgKyBzd2l0Y2hTY2hlbWEgKyBcIj5cIiwgc2NoZW1hKTtcbiAgfVxuICB2YXIgc3Vic2NoZW1hID0gaGVscGVycy5vYmplY3RHZXRQYXRoKGN0eC5zY2hlbWFzW2RvY3VtZW50XSwgZnJhZ21lbnQuc3Vic3RyKDEpKTtcbiAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJubyBzdWNoIHNjaGVtYSBcIiArIGZyYWdtZW50ICsgXCIgbG9jYXRlZCBpbiA8XCIgKyBkb2N1bWVudCArIFwiPlwiLCBzY2hlbWEpO1xuICB9XG4gIHJldHVybiB7c3Vic2NoZW1hOiBzdWJzY2hlbWEsIHN3aXRjaFNjaGVtYTogc3dpdGNoU2NoZW1hfTtcbn07XG5cbi8qKlxuICogVGVzdHMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBjZXJ0YWluIHR5cGUuXG4gKiBAcHJpdmF0ZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHBhcmFtIHR5cGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cblZhbGlkYXRvci5wcm90b3R5cGUudGVzdFR5cGUgPSBmdW5jdGlvbiB2YWxpZGF0ZVR5cGUgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkge1xuICBpZih0eXBlPT09dW5kZWZpbmVkKXtcbiAgICByZXR1cm47XG4gIH1lbHNlIGlmKHR5cGU9PT1udWxsKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ1VuZXhwZWN0ZWQgbnVsbCBpbiBcInR5cGVcIiBrZXl3b3JkJyk7XG4gIH1cbiAgaWYgKHR5cGVvZiB0aGlzLnR5cGVzW3R5cGVdID09ICdmdW5jdGlvbicpIHtcbiAgICByZXR1cm4gdGhpcy50eXBlc1t0eXBlXS5jYWxsKHRoaXMsIGluc3RhbmNlKTtcbiAgfVxuICBpZiAodHlwZSAmJiB0eXBlb2YgdHlwZSA9PSAnb2JqZWN0Jykge1xuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB0eXBlLCBvcHRpb25zLCBjdHgpO1xuICAgIHJldHVybiByZXMgPT09IHVuZGVmaW5lZCB8fCAhKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCk7XG4gIH1cbiAgLy8gVW5kZWZpbmVkIG9yIHByb3BlcnRpZXMgbm90IG9uIHRoZSBsaXN0IGFyZSBhY2NlcHRhYmxlLCBzYW1lIGFzIG5vdCBiZWluZyBkZWZpbmVkXG4gIHJldHVybiB0cnVlO1xufTtcblxudmFyIHR5cGVzID0gVmFsaWRhdG9yLnByb3RvdHlwZS50eXBlcyA9IHt9O1xudHlwZXMuc3RyaW5nID0gZnVuY3Rpb24gdGVzdFN0cmluZyAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuIHR5cGVvZiBpbnN0YW5jZSA9PSAnc3RyaW5nJztcbn07XG50eXBlcy5udW1iZXIgPSBmdW5jdGlvbiB0ZXN0TnVtYmVyIChpbnN0YW5jZSkge1xuICAvLyBpc0Zpbml0ZSByZXR1cm5zIGZhbHNlIGZvciBOYU4sIEluZmluaXR5LCBhbmQgLUluZmluaXR5XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicgJiYgaXNGaW5pdGUoaW5zdGFuY2UpO1xufTtcbnR5cGVzLmludGVnZXIgPSBmdW5jdGlvbiB0ZXN0SW50ZWdlciAoaW5zdGFuY2UpIHtcbiAgcmV0dXJuICh0eXBlb2YgaW5zdGFuY2UgPT0gJ251bWJlcicpICYmIGluc3RhbmNlICUgMSA9PT0gMDtcbn07XG50eXBlcy5ib29sZWFuID0gZnVuY3Rpb24gdGVzdEJvb2xlYW4gKGluc3RhbmNlKSB7XG4gIHJldHVybiB0eXBlb2YgaW5zdGFuY2UgPT0gJ2Jvb2xlYW4nO1xufTtcbnR5cGVzLmFycmF5ID0gZnVuY3Rpb24gdGVzdEFycmF5IChpbnN0YW5jZSkge1xuICByZXR1cm4gQXJyYXkuaXNBcnJheShpbnN0YW5jZSk7XG59O1xudHlwZXNbJ251bGwnXSA9IGZ1bmN0aW9uIHRlc3ROdWxsIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgPT09IG51bGw7XG59O1xudHlwZXMuZGF0ZSA9IGZ1bmN0aW9uIHRlc3REYXRlIChpbnN0YW5jZSkge1xuICByZXR1cm4gaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlO1xufTtcbnR5cGVzLmFueSA9IGZ1bmN0aW9uIHRlc3RBbnkgKGluc3RhbmNlKSB7XG4gIHJldHVybiB0cnVlO1xufTtcbnR5cGVzLm9iamVjdCA9IGZ1bmN0aW9uIHRlc3RPYmplY3QgKGluc3RhbmNlKSB7XG4gIC8vIFRPRE86IGZpeCB0aGlzIC0gc2VlICMxNVxuICByZXR1cm4gaW5zdGFuY2UgJiYgKHR5cGVvZiBpbnN0YW5jZSA9PT0gJ29iamVjdCcpICYmICEoQXJyYXkuaXNBcnJheShpbnN0YW5jZSkpICYmICEoaW5zdGFuY2UgaW5zdGFuY2VvZiBEYXRlKTtcbn07XG5cbm1vZHVsZS5leHBvcnRzID0gVmFsaWRhdG9yO1xuIiwiLyohIGh0dHBzOi8vbXRocy5iZS9wdW55Y29kZSB2MS40LjEgYnkgQG1hdGhpYXMgKi9cbjsoZnVuY3Rpb24ocm9vdCkge1xuXG5cdC8qKiBEZXRlY3QgZnJlZSB2YXJpYWJsZXMgKi9cblx0dmFyIGZyZWVFeHBvcnRzID0gdHlwZW9mIGV4cG9ydHMgPT0gJ29iamVjdCcgJiYgZXhwb3J0cyAmJlxuXHRcdCFleHBvcnRzLm5vZGVUeXBlICYmIGV4cG9ydHM7XG5cdHZhciBmcmVlTW9kdWxlID0gdHlwZW9mIG1vZHVsZSA9PSAnb2JqZWN0JyAmJiBtb2R1bGUgJiZcblx0XHQhbW9kdWxlLm5vZGVUeXBlICYmIG1vZHVsZTtcblx0dmFyIGZyZWVHbG9iYWwgPSB0eXBlb2YgZ2xvYmFsID09ICdvYmplY3QnICYmIGdsb2JhbDtcblx0aWYgKFxuXHRcdGZyZWVHbG9iYWwuZ2xvYmFsID09PSBmcmVlR2xvYmFsIHx8XG5cdFx0ZnJlZUdsb2JhbC53aW5kb3cgPT09IGZyZWVHbG9iYWwgfHxcblx0XHRmcmVlR2xvYmFsLnNlbGYgPT09IGZyZWVHbG9iYWxcblx0KSB7XG5cdFx0cm9vdCA9IGZyZWVHbG9iYWw7XG5cdH1cblxuXHQvKipcblx0ICogVGhlIGBwdW55Y29kZWAgb2JqZWN0LlxuXHQgKiBAbmFtZSBwdW55Y29kZVxuXHQgKiBAdHlwZSBPYmplY3Rcblx0ICovXG5cdHZhciBwdW55Y29kZSxcblxuXHQvKiogSGlnaGVzdCBwb3NpdGl2ZSBzaWduZWQgMzItYml0IGZsb2F0IHZhbHVlICovXG5cdG1heEludCA9IDIxNDc0ODM2NDcsIC8vIGFrYS4gMHg3RkZGRkZGRiBvciAyXjMxLTFcblxuXHQvKiogQm9vdHN0cmluZyBwYXJhbWV0ZXJzICovXG5cdGJhc2UgPSAzNixcblx0dE1pbiA9IDEsXG5cdHRNYXggPSAyNixcblx0c2tldyA9IDM4LFxuXHRkYW1wID0gNzAwLFxuXHRpbml0aWFsQmlhcyA9IDcyLFxuXHRpbml0aWFsTiA9IDEyOCwgLy8gMHg4MFxuXHRkZWxpbWl0ZXIgPSAnLScsIC8vICdcXHgyRCdcblxuXHQvKiogUmVndWxhciBleHByZXNzaW9ucyAqL1xuXHRyZWdleFB1bnljb2RlID0gL154bi0tLyxcblx0cmVnZXhOb25BU0NJSSA9IC9bXlxceDIwLVxceDdFXS8sIC8vIHVucHJpbnRhYmxlIEFTQ0lJIGNoYXJzICsgbm9uLUFTQ0lJIGNoYXJzXG5cdHJlZ2V4U2VwYXJhdG9ycyA9IC9bXFx4MkVcXHUzMDAyXFx1RkYwRVxcdUZGNjFdL2csIC8vIFJGQyAzNDkwIHNlcGFyYXRvcnNcblxuXHQvKiogRXJyb3IgbWVzc2FnZXMgKi9cblx0ZXJyb3JzID0ge1xuXHRcdCdvdmVyZmxvdyc6ICdPdmVyZmxvdzogaW5wdXQgbmVlZHMgd2lkZXIgaW50ZWdlcnMgdG8gcHJvY2VzcycsXG5cdFx0J25vdC1iYXNpYyc6ICdJbGxlZ2FsIGlucHV0ID49IDB4ODAgKG5vdCBhIGJhc2ljIGNvZGUgcG9pbnQpJyxcblx0XHQnaW52YWxpZC1pbnB1dCc6ICdJbnZhbGlkIGlucHV0J1xuXHR9LFxuXG5cdC8qKiBDb252ZW5pZW5jZSBzaG9ydGN1dHMgKi9cblx0YmFzZU1pbnVzVE1pbiA9IGJhc2UgLSB0TWluLFxuXHRmbG9vciA9IE1hdGguZmxvb3IsXG5cdHN0cmluZ0Zyb21DaGFyQ29kZSA9IFN0cmluZy5mcm9tQ2hhckNvZGUsXG5cblx0LyoqIFRlbXBvcmFyeSB2YXJpYWJsZSAqL1xuXHRrZXk7XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqXG5cdCAqIEEgZ2VuZXJpYyBlcnJvciB1dGlsaXR5IGZ1bmN0aW9uLlxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gdHlwZSBUaGUgZXJyb3IgdHlwZS5cblx0ICogQHJldHVybnMge0Vycm9yfSBUaHJvd3MgYSBgUmFuZ2VFcnJvcmAgd2l0aCB0aGUgYXBwbGljYWJsZSBlcnJvciBtZXNzYWdlLlxuXHQgKi9cblx0ZnVuY3Rpb24gZXJyb3IodHlwZSkge1xuXHRcdHRocm93IG5ldyBSYW5nZUVycm9yKGVycm9yc1t0eXBlXSk7XG5cdH1cblxuXHQvKipcblx0ICogQSBnZW5lcmljIGBBcnJheSNtYXBgIHV0aWxpdHkgZnVuY3Rpb24uXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGFycmF5IFRoZSBhcnJheSB0byBpdGVyYXRlIG92ZXIuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeSBhcnJheVxuXHQgKiBpdGVtLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IEEgbmV3IGFycmF5IG9mIHZhbHVlcyByZXR1cm5lZCBieSB0aGUgY2FsbGJhY2sgZnVuY3Rpb24uXG5cdCAqL1xuXHRmdW5jdGlvbiBtYXAoYXJyYXksIGZuKSB7XG5cdFx0dmFyIGxlbmd0aCA9IGFycmF5Lmxlbmd0aDtcblx0XHR2YXIgcmVzdWx0ID0gW107XG5cdFx0d2hpbGUgKGxlbmd0aC0tKSB7XG5cdFx0XHRyZXN1bHRbbGVuZ3RoXSA9IGZuKGFycmF5W2xlbmd0aF0pO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVzdWx0O1xuXHR9XG5cblx0LyoqXG5cdCAqIEEgc2ltcGxlIGBBcnJheSNtYXBgLWxpa2Ugd3JhcHBlciB0byB3b3JrIHdpdGggZG9tYWluIG5hbWUgc3RyaW5ncyBvciBlbWFpbFxuXHQgKiBhZGRyZXNzZXMuXG5cdCAqIEBwcml2YXRlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBkb21haW4gVGhlIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MuXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNhbGxiYWNrIFRoZSBmdW5jdGlvbiB0aGF0IGdldHMgY2FsbGVkIGZvciBldmVyeVxuXHQgKiBjaGFyYWN0ZXIuXG5cdCAqIEByZXR1cm5zIHtBcnJheX0gQSBuZXcgc3RyaW5nIG9mIGNoYXJhY3RlcnMgcmV0dXJuZWQgYnkgdGhlIGNhbGxiYWNrXG5cdCAqIGZ1bmN0aW9uLlxuXHQgKi9cblx0ZnVuY3Rpb24gbWFwRG9tYWluKHN0cmluZywgZm4pIHtcblx0XHR2YXIgcGFydHMgPSBzdHJpbmcuc3BsaXQoJ0AnKTtcblx0XHR2YXIgcmVzdWx0ID0gJyc7XG5cdFx0aWYgKHBhcnRzLmxlbmd0aCA+IDEpIHtcblx0XHRcdC8vIEluIGVtYWlsIGFkZHJlc3Nlcywgb25seSB0aGUgZG9tYWluIG5hbWUgc2hvdWxkIGJlIHB1bnljb2RlZC4gTGVhdmVcblx0XHRcdC8vIHRoZSBsb2NhbCBwYXJ0IChpLmUuIGV2ZXJ5dGhpbmcgdXAgdG8gYEBgKSBpbnRhY3QuXG5cdFx0XHRyZXN1bHQgPSBwYXJ0c1swXSArICdAJztcblx0XHRcdHN0cmluZyA9IHBhcnRzWzFdO1xuXHRcdH1cblx0XHQvLyBBdm9pZCBgc3BsaXQocmVnZXgpYCBmb3IgSUU4IGNvbXBhdGliaWxpdHkuIFNlZSAjMTcuXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UocmVnZXhTZXBhcmF0b3JzLCAnXFx4MkUnKTtcblx0XHR2YXIgbGFiZWxzID0gc3RyaW5nLnNwbGl0KCcuJyk7XG5cdFx0dmFyIGVuY29kZWQgPSBtYXAobGFiZWxzLCBmbikuam9pbignLicpO1xuXHRcdHJldHVybiByZXN1bHQgKyBlbmNvZGVkO1xuXHR9XG5cblx0LyoqXG5cdCAqIENyZWF0ZXMgYW4gYXJyYXkgY29udGFpbmluZyB0aGUgbnVtZXJpYyBjb2RlIHBvaW50cyBvZiBlYWNoIFVuaWNvZGVcblx0ICogY2hhcmFjdGVyIGluIHRoZSBzdHJpbmcuIFdoaWxlIEphdmFTY3JpcHQgdXNlcyBVQ1MtMiBpbnRlcm5hbGx5LFxuXHQgKiB0aGlzIGZ1bmN0aW9uIHdpbGwgY29udmVydCBhIHBhaXIgb2Ygc3Vycm9nYXRlIGhhbHZlcyAoZWFjaCBvZiB3aGljaFxuXHQgKiBVQ1MtMiBleHBvc2VzIGFzIHNlcGFyYXRlIGNoYXJhY3RlcnMpIGludG8gYSBzaW5nbGUgY29kZSBwb2ludCxcblx0ICogbWF0Y2hpbmcgVVRGLTE2LlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmVuY29kZWBcblx0ICogQHNlZSA8aHR0cHM6Ly9tYXRoaWFzYnluZW5zLmJlL25vdGVzL2phdmFzY3JpcHQtZW5jb2Rpbmc+XG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZS51Y3MyXG5cdCAqIEBuYW1lIGRlY29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gc3RyaW5nIFRoZSBVbmljb2RlIGlucHV0IHN0cmluZyAoVUNTLTIpLlxuXHQgKiBAcmV0dXJucyB7QXJyYXl9IFRoZSBuZXcgYXJyYXkgb2YgY29kZSBwb2ludHMuXG5cdCAqL1xuXHRmdW5jdGlvbiB1Y3MyZGVjb2RlKHN0cmluZykge1xuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgY291bnRlciA9IDAsXG5cdFx0ICAgIGxlbmd0aCA9IHN0cmluZy5sZW5ndGgsXG5cdFx0ICAgIHZhbHVlLFxuXHRcdCAgICBleHRyYTtcblx0XHR3aGlsZSAoY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0dmFsdWUgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0aWYgKHZhbHVlID49IDB4RDgwMCAmJiB2YWx1ZSA8PSAweERCRkYgJiYgY291bnRlciA8IGxlbmd0aCkge1xuXHRcdFx0XHQvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcblx0XHRcdFx0ZXh0cmEgPSBzdHJpbmcuY2hhckNvZGVBdChjb3VudGVyKyspO1xuXHRcdFx0XHRpZiAoKGV4dHJhICYgMHhGQzAwKSA9PSAweERDMDApIHsgLy8gbG93IHN1cnJvZ2F0ZVxuXHRcdFx0XHRcdG91dHB1dC5wdXNoKCgodmFsdWUgJiAweDNGRikgPDwgMTApICsgKGV4dHJhICYgMHgzRkYpICsgMHgxMDAwMCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0Ly8gdW5tYXRjaGVkIHN1cnJvZ2F0ZTsgb25seSBhcHBlbmQgdGhpcyBjb2RlIHVuaXQsIGluIGNhc2UgdGhlIG5leHRcblx0XHRcdFx0XHQvLyBjb2RlIHVuaXQgaXMgdGhlIGhpZ2ggc3Vycm9nYXRlIG9mIGEgc3Vycm9nYXRlIHBhaXJcblx0XHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHRcdFx0Y291bnRlci0tO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRvdXRwdXQucHVzaCh2YWx1ZSk7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQ7XG5cdH1cblxuXHQvKipcblx0ICogQ3JlYXRlcyBhIHN0cmluZyBiYXNlZCBvbiBhbiBhcnJheSBvZiBudW1lcmljIGNvZGUgcG9pbnRzLlxuXHQgKiBAc2VlIGBwdW55Y29kZS51Y3MyLmRlY29kZWBcblx0ICogQG1lbWJlck9mIHB1bnljb2RlLnVjczJcblx0ICogQG5hbWUgZW5jb2RlXG5cdCAqIEBwYXJhbSB7QXJyYXl9IGNvZGVQb2ludHMgVGhlIGFycmF5IG9mIG51bWVyaWMgY29kZSBwb2ludHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBuZXcgVW5pY29kZSBzdHJpbmcgKFVDUy0yKS5cblx0ICovXG5cdGZ1bmN0aW9uIHVjczJlbmNvZGUoYXJyYXkpIHtcblx0XHRyZXR1cm4gbWFwKGFycmF5LCBmdW5jdGlvbih2YWx1ZSkge1xuXHRcdFx0dmFyIG91dHB1dCA9ICcnO1xuXHRcdFx0aWYgKHZhbHVlID4gMHhGRkZGKSB7XG5cdFx0XHRcdHZhbHVlIC09IDB4MTAwMDA7XG5cdFx0XHRcdG91dHB1dCArPSBzdHJpbmdGcm9tQ2hhckNvZGUodmFsdWUgPj4+IDEwICYgMHgzRkYgfCAweEQ4MDApO1xuXHRcdFx0XHR2YWx1ZSA9IDB4REMwMCB8IHZhbHVlICYgMHgzRkY7XG5cdFx0XHR9XG5cdFx0XHRvdXRwdXQgKz0gc3RyaW5nRnJvbUNoYXJDb2RlKHZhbHVlKTtcblx0XHRcdHJldHVybiBvdXRwdXQ7XG5cdFx0fSkuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBiYXNpYyBjb2RlIHBvaW50IGludG8gYSBkaWdpdC9pbnRlZ2VyLlxuXHQgKiBAc2VlIGBkaWdpdFRvQmFzaWMoKWBcblx0ICogQHByaXZhdGVcblx0ICogQHBhcmFtIHtOdW1iZXJ9IGNvZGVQb2ludCBUaGUgYmFzaWMgbnVtZXJpYyBjb2RlIHBvaW50IHZhbHVlLlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgbnVtZXJpYyB2YWx1ZSBvZiBhIGJhc2ljIGNvZGUgcG9pbnQgKGZvciB1c2UgaW5cblx0ICogcmVwcmVzZW50aW5nIGludGVnZXJzKSBpbiB0aGUgcmFuZ2UgYDBgIHRvIGBiYXNlIC0gMWAsIG9yIGBiYXNlYCBpZlxuXHQgKiB0aGUgY29kZSBwb2ludCBkb2VzIG5vdCByZXByZXNlbnQgYSB2YWx1ZS5cblx0ICovXG5cdGZ1bmN0aW9uIGJhc2ljVG9EaWdpdChjb2RlUG9pbnQpIHtcblx0XHRpZiAoY29kZVBvaW50IC0gNDggPCAxMCkge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDIyO1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gNjUgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDY1O1xuXHRcdH1cblx0XHRpZiAoY29kZVBvaW50IC0gOTcgPCAyNikge1xuXHRcdFx0cmV0dXJuIGNvZGVQb2ludCAtIDk3O1xuXHRcdH1cblx0XHRyZXR1cm4gYmFzZTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIGRpZ2l0L2ludGVnZXIgaW50byBhIGJhc2ljIGNvZGUgcG9pbnQuXG5cdCAqIEBzZWUgYGJhc2ljVG9EaWdpdCgpYFxuXHQgKiBAcHJpdmF0ZVxuXHQgKiBAcGFyYW0ge051bWJlcn0gZGlnaXQgVGhlIG51bWVyaWMgdmFsdWUgb2YgYSBiYXNpYyBjb2RlIHBvaW50LlxuXHQgKiBAcmV0dXJucyB7TnVtYmVyfSBUaGUgYmFzaWMgY29kZSBwb2ludCB3aG9zZSB2YWx1ZSAod2hlbiB1c2VkIGZvclxuXHQgKiByZXByZXNlbnRpbmcgaW50ZWdlcnMpIGlzIGBkaWdpdGAsIHdoaWNoIG5lZWRzIHRvIGJlIGluIHRoZSByYW5nZVxuXHQgKiBgMGAgdG8gYGJhc2UgLSAxYC4gSWYgYGZsYWdgIGlzIG5vbi16ZXJvLCB0aGUgdXBwZXJjYXNlIGZvcm0gaXNcblx0ICogdXNlZDsgZWxzZSwgdGhlIGxvd2VyY2FzZSBmb3JtIGlzIHVzZWQuIFRoZSBiZWhhdmlvciBpcyB1bmRlZmluZWRcblx0ICogaWYgYGZsYWdgIGlzIG5vbi16ZXJvIGFuZCBgZGlnaXRgIGhhcyBubyB1cHBlcmNhc2UgZm9ybS5cblx0ICovXG5cdGZ1bmN0aW9uIGRpZ2l0VG9CYXNpYyhkaWdpdCwgZmxhZykge1xuXHRcdC8vICAwLi4yNSBtYXAgdG8gQVNDSUkgYS4ueiBvciBBLi5aXG5cdFx0Ly8gMjYuLjM1IG1hcCB0byBBU0NJSSAwLi45XG5cdFx0cmV0dXJuIGRpZ2l0ICsgMjIgKyA3NSAqIChkaWdpdCA8IDI2KSAtICgoZmxhZyAhPSAwKSA8PCA1KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBCaWFzIGFkYXB0YXRpb24gZnVuY3Rpb24gYXMgcGVyIHNlY3Rpb24gMy40IG9mIFJGQyAzNDkyLlxuXHQgKiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzQ5MiNzZWN0aW9uLTMuNFxuXHQgKiBAcHJpdmF0ZVxuXHQgKi9cblx0ZnVuY3Rpb24gYWRhcHQoZGVsdGEsIG51bVBvaW50cywgZmlyc3RUaW1lKSB7XG5cdFx0dmFyIGsgPSAwO1xuXHRcdGRlbHRhID0gZmlyc3RUaW1lID8gZmxvb3IoZGVsdGEgLyBkYW1wKSA6IGRlbHRhID4+IDE7XG5cdFx0ZGVsdGEgKz0gZmxvb3IoZGVsdGEgLyBudW1Qb2ludHMpO1xuXHRcdGZvciAoLyogbm8gaW5pdGlhbGl6YXRpb24gKi87IGRlbHRhID4gYmFzZU1pbnVzVE1pbiAqIHRNYXggPj4gMTsgayArPSBiYXNlKSB7XG5cdFx0XHRkZWx0YSA9IGZsb29yKGRlbHRhIC8gYmFzZU1pbnVzVE1pbik7XG5cdFx0fVxuXHRcdHJldHVybiBmbG9vcihrICsgKGJhc2VNaW51c1RNaW4gKyAxKSAqIGRlbHRhIC8gKGRlbHRhICsgc2tldykpO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgUHVueWNvZGUgc3RyaW5nIG9mIEFTQ0lJLW9ubHkgc3ltYm9scyB0byBhIHN0cmluZyBvZiBVbmljb2RlXG5cdCAqIHN5bWJvbHMuXG5cdCAqIEBtZW1iZXJPZiBwdW55Y29kZVxuXHQgKiBAcGFyYW0ge1N0cmluZ30gaW5wdXQgVGhlIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSByZXN1bHRpbmcgc3RyaW5nIG9mIFVuaWNvZGUgc3ltYm9scy5cblx0ICovXG5cdGZ1bmN0aW9uIGRlY29kZShpbnB1dCkge1xuXHRcdC8vIERvbid0IHVzZSBVQ1MtMlxuXHRcdHZhciBvdXRwdXQgPSBbXSxcblx0XHQgICAgaW5wdXRMZW5ndGggPSBpbnB1dC5sZW5ndGgsXG5cdFx0ICAgIG91dCxcblx0XHQgICAgaSA9IDAsXG5cdFx0ICAgIG4gPSBpbml0aWFsTixcblx0XHQgICAgYmlhcyA9IGluaXRpYWxCaWFzLFxuXHRcdCAgICBiYXNpYyxcblx0XHQgICAgaixcblx0XHQgICAgaW5kZXgsXG5cdFx0ICAgIG9sZGksXG5cdFx0ICAgIHcsXG5cdFx0ICAgIGssXG5cdFx0ICAgIGRpZ2l0LFxuXHRcdCAgICB0LFxuXHRcdCAgICAvKiogQ2FjaGVkIGNhbGN1bGF0aW9uIHJlc3VsdHMgKi9cblx0XHQgICAgYmFzZU1pbnVzVDtcblxuXHRcdC8vIEhhbmRsZSB0aGUgYmFzaWMgY29kZSBwb2ludHM6IGxldCBgYmFzaWNgIGJlIHRoZSBudW1iZXIgb2YgaW5wdXQgY29kZVxuXHRcdC8vIHBvaW50cyBiZWZvcmUgdGhlIGxhc3QgZGVsaW1pdGVyLCBvciBgMGAgaWYgdGhlcmUgaXMgbm9uZSwgdGhlbiBjb3B5XG5cdFx0Ly8gdGhlIGZpcnN0IGJhc2ljIGNvZGUgcG9pbnRzIHRvIHRoZSBvdXRwdXQuXG5cblx0XHRiYXNpYyA9IGlucHV0Lmxhc3RJbmRleE9mKGRlbGltaXRlcik7XG5cdFx0aWYgKGJhc2ljIDwgMCkge1xuXHRcdFx0YmFzaWMgPSAwO1xuXHRcdH1cblxuXHRcdGZvciAoaiA9IDA7IGogPCBiYXNpYzsgKytqKSB7XG5cdFx0XHQvLyBpZiBpdCdzIG5vdCBhIGJhc2ljIGNvZGUgcG9pbnRcblx0XHRcdGlmIChpbnB1dC5jaGFyQ29kZUF0KGopID49IDB4ODApIHtcblx0XHRcdFx0ZXJyb3IoJ25vdC1iYXNpYycpO1xuXHRcdFx0fVxuXHRcdFx0b3V0cHV0LnB1c2goaW5wdXQuY2hhckNvZGVBdChqKSk7XG5cdFx0fVxuXG5cdFx0Ly8gTWFpbiBkZWNvZGluZyBsb29wOiBzdGFydCBqdXN0IGFmdGVyIHRoZSBsYXN0IGRlbGltaXRlciBpZiBhbnkgYmFzaWMgY29kZVxuXHRcdC8vIHBvaW50cyB3ZXJlIGNvcGllZDsgc3RhcnQgYXQgdGhlIGJlZ2lubmluZyBvdGhlcndpc2UuXG5cblx0XHRmb3IgKGluZGV4ID0gYmFzaWMgPiAwID8gYmFzaWMgKyAxIDogMDsgaW5kZXggPCBpbnB1dExlbmd0aDsgLyogbm8gZmluYWwgZXhwcmVzc2lvbiAqLykge1xuXG5cdFx0XHQvLyBgaW5kZXhgIGlzIHRoZSBpbmRleCBvZiB0aGUgbmV4dCBjaGFyYWN0ZXIgdG8gYmUgY29uc3VtZWQuXG5cdFx0XHQvLyBEZWNvZGUgYSBnZW5lcmFsaXplZCB2YXJpYWJsZS1sZW5ndGggaW50ZWdlciBpbnRvIGBkZWx0YWAsXG5cdFx0XHQvLyB3aGljaCBnZXRzIGFkZGVkIHRvIGBpYC4gVGhlIG92ZXJmbG93IGNoZWNraW5nIGlzIGVhc2llclxuXHRcdFx0Ly8gaWYgd2UgaW5jcmVhc2UgYGlgIGFzIHdlIGdvLCB0aGVuIHN1YnRyYWN0IG9mZiBpdHMgc3RhcnRpbmdcblx0XHRcdC8vIHZhbHVlIGF0IHRoZSBlbmQgdG8gb2J0YWluIGBkZWx0YWAuXG5cdFx0XHRmb3IgKG9sZGkgPSBpLCB3ID0gMSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cblx0XHRcdFx0aWYgKGluZGV4ID49IGlucHV0TGVuZ3RoKSB7XG5cdFx0XHRcdFx0ZXJyb3IoJ2ludmFsaWQtaW5wdXQnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGRpZ2l0ID0gYmFzaWNUb0RpZ2l0KGlucHV0LmNoYXJDb2RlQXQoaW5kZXgrKykpO1xuXG5cdFx0XHRcdGlmIChkaWdpdCA+PSBiYXNlIHx8IGRpZ2l0ID4gZmxvb3IoKG1heEludCAtIGkpIC8gdykpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdGkgKz0gZGlnaXQgKiB3O1xuXHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblxuXHRcdFx0XHRpZiAoZGlnaXQgPCB0KSB7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRiYXNlTWludXNUID0gYmFzZSAtIHQ7XG5cdFx0XHRcdGlmICh3ID4gZmxvb3IobWF4SW50IC8gYmFzZU1pbnVzVCkpIHtcblx0XHRcdFx0XHRlcnJvcignb3ZlcmZsb3cnKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHcgKj0gYmFzZU1pbnVzVDtcblxuXHRcdFx0fVxuXG5cdFx0XHRvdXQgPSBvdXRwdXQubGVuZ3RoICsgMTtcblx0XHRcdGJpYXMgPSBhZGFwdChpIC0gb2xkaSwgb3V0LCBvbGRpID09IDApO1xuXG5cdFx0XHQvLyBgaWAgd2FzIHN1cHBvc2VkIHRvIHdyYXAgYXJvdW5kIGZyb20gYG91dGAgdG8gYDBgLFxuXHRcdFx0Ly8gaW5jcmVtZW50aW5nIGBuYCBlYWNoIHRpbWUsIHNvIHdlJ2xsIGZpeCB0aGF0IG5vdzpcblx0XHRcdGlmIChmbG9vcihpIC8gb3V0KSA+IG1heEludCAtIG4pIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdG4gKz0gZmxvb3IoaSAvIG91dCk7XG5cdFx0XHRpICU9IG91dDtcblxuXHRcdFx0Ly8gSW5zZXJ0IGBuYCBhdCBwb3NpdGlvbiBgaWAgb2YgdGhlIG91dHB1dFxuXHRcdFx0b3V0cHV0LnNwbGljZShpKyssIDAsIG4pO1xuXG5cdFx0fVxuXG5cdFx0cmV0dXJuIHVjczJlbmNvZGUob3V0cHV0KTtcblx0fVxuXG5cdC8qKlxuXHQgKiBDb252ZXJ0cyBhIHN0cmluZyBvZiBVbmljb2RlIHN5bWJvbHMgKGUuZy4gYSBkb21haW4gbmFtZSBsYWJlbCkgdG8gYVxuXHQgKiBQdW55Y29kZSBzdHJpbmcgb2YgQVNDSUktb25seSBzeW1ib2xzLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBzdHJpbmcgb2YgVW5pY29kZSBzeW1ib2xzLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgcmVzdWx0aW5nIFB1bnljb2RlIHN0cmluZyBvZiBBU0NJSS1vbmx5IHN5bWJvbHMuXG5cdCAqL1xuXHRmdW5jdGlvbiBlbmNvZGUoaW5wdXQpIHtcblx0XHR2YXIgbixcblx0XHQgICAgZGVsdGEsXG5cdFx0ICAgIGhhbmRsZWRDUENvdW50LFxuXHRcdCAgICBiYXNpY0xlbmd0aCxcblx0XHQgICAgYmlhcyxcblx0XHQgICAgaixcblx0XHQgICAgbSxcblx0XHQgICAgcSxcblx0XHQgICAgayxcblx0XHQgICAgdCxcblx0XHQgICAgY3VycmVudFZhbHVlLFxuXHRcdCAgICBvdXRwdXQgPSBbXSxcblx0XHQgICAgLyoqIGBpbnB1dExlbmd0aGAgd2lsbCBob2xkIHRoZSBudW1iZXIgb2YgY29kZSBwb2ludHMgaW4gYGlucHV0YC4gKi9cblx0XHQgICAgaW5wdXRMZW5ndGgsXG5cdFx0ICAgIC8qKiBDYWNoZWQgY2FsY3VsYXRpb24gcmVzdWx0cyAqL1xuXHRcdCAgICBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsXG5cdFx0ICAgIGJhc2VNaW51c1QsXG5cdFx0ICAgIHFNaW51c1Q7XG5cblx0XHQvLyBDb252ZXJ0IHRoZSBpbnB1dCBpbiBVQ1MtMiB0byBVbmljb2RlXG5cdFx0aW5wdXQgPSB1Y3MyZGVjb2RlKGlucHV0KTtcblxuXHRcdC8vIENhY2hlIHRoZSBsZW5ndGhcblx0XHRpbnB1dExlbmd0aCA9IGlucHV0Lmxlbmd0aDtcblxuXHRcdC8vIEluaXRpYWxpemUgdGhlIHN0YXRlXG5cdFx0biA9IGluaXRpYWxOO1xuXHRcdGRlbHRhID0gMDtcblx0XHRiaWFzID0gaW5pdGlhbEJpYXM7XG5cblx0XHQvLyBIYW5kbGUgdGhlIGJhc2ljIGNvZGUgcG9pbnRzXG5cdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdGN1cnJlbnRWYWx1ZSA9IGlucHV0W2pdO1xuXHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IDB4ODApIHtcblx0XHRcdFx0b3V0cHV0LnB1c2goc3RyaW5nRnJvbUNoYXJDb2RlKGN1cnJlbnRWYWx1ZSkpO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdGhhbmRsZWRDUENvdW50ID0gYmFzaWNMZW5ndGggPSBvdXRwdXQubGVuZ3RoO1xuXG5cdFx0Ly8gYGhhbmRsZWRDUENvdW50YCBpcyB0aGUgbnVtYmVyIG9mIGNvZGUgcG9pbnRzIHRoYXQgaGF2ZSBiZWVuIGhhbmRsZWQ7XG5cdFx0Ly8gYGJhc2ljTGVuZ3RoYCBpcyB0aGUgbnVtYmVyIG9mIGJhc2ljIGNvZGUgcG9pbnRzLlxuXG5cdFx0Ly8gRmluaXNoIHRoZSBiYXNpYyBzdHJpbmcgLSBpZiBpdCBpcyBub3QgZW1wdHkgLSB3aXRoIGEgZGVsaW1pdGVyXG5cdFx0aWYgKGJhc2ljTGVuZ3RoKSB7XG5cdFx0XHRvdXRwdXQucHVzaChkZWxpbWl0ZXIpO1xuXHRcdH1cblxuXHRcdC8vIE1haW4gZW5jb2RpbmcgbG9vcDpcblx0XHR3aGlsZSAoaGFuZGxlZENQQ291bnQgPCBpbnB1dExlbmd0aCkge1xuXG5cdFx0XHQvLyBBbGwgbm9uLWJhc2ljIGNvZGUgcG9pbnRzIDwgbiBoYXZlIGJlZW4gaGFuZGxlZCBhbHJlYWR5LiBGaW5kIHRoZSBuZXh0XG5cdFx0XHQvLyBsYXJnZXIgb25lOlxuXHRcdFx0Zm9yIChtID0gbWF4SW50LCBqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cdFx0XHRcdGlmIChjdXJyZW50VmFsdWUgPj0gbiAmJiBjdXJyZW50VmFsdWUgPCBtKSB7XG5cdFx0XHRcdFx0bSA9IGN1cnJlbnRWYWx1ZTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQvLyBJbmNyZWFzZSBgZGVsdGFgIGVub3VnaCB0byBhZHZhbmNlIHRoZSBkZWNvZGVyJ3MgPG4saT4gc3RhdGUgdG8gPG0sMD4sXG5cdFx0XHQvLyBidXQgZ3VhcmQgYWdhaW5zdCBvdmVyZmxvd1xuXHRcdFx0aGFuZGxlZENQQ291bnRQbHVzT25lID0gaGFuZGxlZENQQ291bnQgKyAxO1xuXHRcdFx0aWYgKG0gLSBuID4gZmxvb3IoKG1heEludCAtIGRlbHRhKSAvIGhhbmRsZWRDUENvdW50UGx1c09uZSkpIHtcblx0XHRcdFx0ZXJyb3IoJ292ZXJmbG93Jyk7XG5cdFx0XHR9XG5cblx0XHRcdGRlbHRhICs9IChtIC0gbikgKiBoYW5kbGVkQ1BDb3VudFBsdXNPbmU7XG5cdFx0XHRuID0gbTtcblxuXHRcdFx0Zm9yIChqID0gMDsgaiA8IGlucHV0TGVuZ3RoOyArK2opIHtcblx0XHRcdFx0Y3VycmVudFZhbHVlID0gaW5wdXRbal07XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA8IG4gJiYgKytkZWx0YSA+IG1heEludCkge1xuXHRcdFx0XHRcdGVycm9yKCdvdmVyZmxvdycpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0aWYgKGN1cnJlbnRWYWx1ZSA9PSBuKSB7XG5cdFx0XHRcdFx0Ly8gUmVwcmVzZW50IGRlbHRhIGFzIGEgZ2VuZXJhbGl6ZWQgdmFyaWFibGUtbGVuZ3RoIGludGVnZXJcblx0XHRcdFx0XHRmb3IgKHEgPSBkZWx0YSwgayA9IGJhc2U7IC8qIG5vIGNvbmRpdGlvbiAqLzsgayArPSBiYXNlKSB7XG5cdFx0XHRcdFx0XHR0ID0gayA8PSBiaWFzID8gdE1pbiA6IChrID49IGJpYXMgKyB0TWF4ID8gdE1heCA6IGsgLSBiaWFzKTtcblx0XHRcdFx0XHRcdGlmIChxIDwgdCkge1xuXHRcdFx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHFNaW51c1QgPSBxIC0gdDtcblx0XHRcdFx0XHRcdGJhc2VNaW51c1QgPSBiYXNlIC0gdDtcblx0XHRcdFx0XHRcdG91dHB1dC5wdXNoKFxuXHRcdFx0XHRcdFx0XHRzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHQgKyBxTWludXNUICUgYmFzZU1pbnVzVCwgMCkpXG5cdFx0XHRcdFx0XHQpO1xuXHRcdFx0XHRcdFx0cSA9IGZsb29yKHFNaW51c1QgLyBiYXNlTWludXNUKTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRvdXRwdXQucHVzaChzdHJpbmdGcm9tQ2hhckNvZGUoZGlnaXRUb0Jhc2ljKHEsIDApKSk7XG5cdFx0XHRcdFx0YmlhcyA9IGFkYXB0KGRlbHRhLCBoYW5kbGVkQ1BDb3VudFBsdXNPbmUsIGhhbmRsZWRDUENvdW50ID09IGJhc2ljTGVuZ3RoKTtcblx0XHRcdFx0XHRkZWx0YSA9IDA7XG5cdFx0XHRcdFx0KytoYW5kbGVkQ1BDb3VudDtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXG5cdFx0XHQrK2RlbHRhO1xuXHRcdFx0KytuO1xuXG5cdFx0fVxuXHRcdHJldHVybiBvdXRwdXQuam9pbignJyk7XG5cdH1cblxuXHQvKipcblx0ICogQ29udmVydHMgYSBQdW55Y29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzc1xuXHQgKiB0byBVbmljb2RlLiBPbmx5IHRoZSBQdW55Y29kZWQgcGFydHMgb2YgdGhlIGlucHV0IHdpbGwgYmUgY29udmVydGVkLCBpLmUuXG5cdCAqIGl0IGRvZXNuJ3QgbWF0dGVyIGlmIHlvdSBjYWxsIGl0IG9uIGEgc3RyaW5nIHRoYXQgaGFzIGFscmVhZHkgYmVlblxuXHQgKiBjb252ZXJ0ZWQgdG8gVW5pY29kZS5cblx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBpbnB1dCBUaGUgUHVueWNvZGVkIGRvbWFpbiBuYW1lIG9yIGVtYWlsIGFkZHJlc3MgdG9cblx0ICogY29udmVydCB0byBVbmljb2RlLlxuXHQgKiBAcmV0dXJucyB7U3RyaW5nfSBUaGUgVW5pY29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gUHVueWNvZGVcblx0ICogc3RyaW5nLlxuXHQgKi9cblx0ZnVuY3Rpb24gdG9Vbmljb2RlKGlucHV0KSB7XG5cdFx0cmV0dXJuIG1hcERvbWFpbihpbnB1dCwgZnVuY3Rpb24oc3RyaW5nKSB7XG5cdFx0XHRyZXR1cm4gcmVnZXhQdW55Y29kZS50ZXN0KHN0cmluZylcblx0XHRcdFx0PyBkZWNvZGUoc3RyaW5nLnNsaWNlKDQpLnRvTG93ZXJDYXNlKCkpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyoqXG5cdCAqIENvbnZlcnRzIGEgVW5pY29kZSBzdHJpbmcgcmVwcmVzZW50aW5nIGEgZG9tYWluIG5hbWUgb3IgYW4gZW1haWwgYWRkcmVzcyB0b1xuXHQgKiBQdW55Y29kZS4gT25seSB0aGUgbm9uLUFTQ0lJIHBhcnRzIG9mIHRoZSBkb21haW4gbmFtZSB3aWxsIGJlIGNvbnZlcnRlZCxcblx0ICogaS5lLiBpdCBkb2Vzbid0IG1hdHRlciBpZiB5b3UgY2FsbCBpdCB3aXRoIGEgZG9tYWluIHRoYXQncyBhbHJlYWR5IGluXG5cdCAqIEFTQ0lJLlxuXHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0ICogQHBhcmFtIHtTdHJpbmd9IGlucHV0IFRoZSBkb21haW4gbmFtZSBvciBlbWFpbCBhZGRyZXNzIHRvIGNvbnZlcnQsIGFzIGFcblx0ICogVW5pY29kZSBzdHJpbmcuXG5cdCAqIEByZXR1cm5zIHtTdHJpbmd9IFRoZSBQdW55Y29kZSByZXByZXNlbnRhdGlvbiBvZiB0aGUgZ2l2ZW4gZG9tYWluIG5hbWUgb3Jcblx0ICogZW1haWwgYWRkcmVzcy5cblx0ICovXG5cdGZ1bmN0aW9uIHRvQVNDSUkoaW5wdXQpIHtcblx0XHRyZXR1cm4gbWFwRG9tYWluKGlucHV0LCBmdW5jdGlvbihzdHJpbmcpIHtcblx0XHRcdHJldHVybiByZWdleE5vbkFTQ0lJLnRlc3Qoc3RyaW5nKVxuXHRcdFx0XHQ/ICd4bi0tJyArIGVuY29kZShzdHJpbmcpXG5cdFx0XHRcdDogc3RyaW5nO1xuXHRcdH0pO1xuXHR9XG5cblx0LyotLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLSovXG5cblx0LyoqIERlZmluZSB0aGUgcHVibGljIEFQSSAqL1xuXHRwdW55Y29kZSA9IHtcblx0XHQvKipcblx0XHQgKiBBIHN0cmluZyByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgUHVueWNvZGUuanMgdmVyc2lvbiBudW1iZXIuXG5cdFx0ICogQG1lbWJlck9mIHB1bnljb2RlXG5cdFx0ICogQHR5cGUgU3RyaW5nXG5cdFx0ICovXG5cdFx0J3ZlcnNpb24nOiAnMS40LjEnLFxuXHRcdC8qKlxuXHRcdCAqIEFuIG9iamVjdCBvZiBtZXRob2RzIHRvIGNvbnZlcnQgZnJvbSBKYXZhU2NyaXB0J3MgaW50ZXJuYWwgY2hhcmFjdGVyXG5cdFx0ICogcmVwcmVzZW50YXRpb24gKFVDUy0yKSB0byBVbmljb2RlIGNvZGUgcG9pbnRzLCBhbmQgYmFjay5cblx0XHQgKiBAc2VlIDxodHRwczovL21hdGhpYXNieW5lbnMuYmUvbm90ZXMvamF2YXNjcmlwdC1lbmNvZGluZz5cblx0XHQgKiBAbWVtYmVyT2YgcHVueWNvZGVcblx0XHQgKiBAdHlwZSBPYmplY3Rcblx0XHQgKi9cblx0XHQndWNzMic6IHtcblx0XHRcdCdkZWNvZGUnOiB1Y3MyZGVjb2RlLFxuXHRcdFx0J2VuY29kZSc6IHVjczJlbmNvZGVcblx0XHR9LFxuXHRcdCdkZWNvZGUnOiBkZWNvZGUsXG5cdFx0J2VuY29kZSc6IGVuY29kZSxcblx0XHQndG9BU0NJSSc6IHRvQVNDSUksXG5cdFx0J3RvVW5pY29kZSc6IHRvVW5pY29kZVxuXHR9O1xuXG5cdC8qKiBFeHBvc2UgYHB1bnljb2RlYCAqL1xuXHQvLyBTb21lIEFNRCBidWlsZCBvcHRpbWl6ZXJzLCBsaWtlIHIuanMsIGNoZWNrIGZvciBzcGVjaWZpYyBjb25kaXRpb24gcGF0dGVybnNcblx0Ly8gbGlrZSB0aGUgZm9sbG93aW5nOlxuXHRpZiAoXG5cdFx0dHlwZW9mIGRlZmluZSA9PSAnZnVuY3Rpb24nICYmXG5cdFx0dHlwZW9mIGRlZmluZS5hbWQgPT0gJ29iamVjdCcgJiZcblx0XHRkZWZpbmUuYW1kXG5cdCkge1xuXHRcdGRlZmluZSgncHVueWNvZGUnLCBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiBwdW55Y29kZTtcblx0XHR9KTtcblx0fSBlbHNlIGlmIChmcmVlRXhwb3J0cyAmJiBmcmVlTW9kdWxlKSB7XG5cdFx0aWYgKG1vZHVsZS5leHBvcnRzID09IGZyZWVFeHBvcnRzKSB7XG5cdFx0XHQvLyBpbiBOb2RlLmpzLCBpby5qcywgb3IgUmluZ29KUyB2MC44LjArXG5cdFx0XHRmcmVlTW9kdWxlLmV4cG9ydHMgPSBwdW55Y29kZTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0Ly8gaW4gTmFyd2hhbCBvciBSaW5nb0pTIHYwLjcuMC1cblx0XHRcdGZvciAoa2V5IGluIHB1bnljb2RlKSB7XG5cdFx0XHRcdHB1bnljb2RlLmhhc093blByb3BlcnR5KGtleSkgJiYgKGZyZWVFeHBvcnRzW2tleV0gPSBwdW55Y29kZVtrZXldKTtcblx0XHRcdH1cblx0XHR9XG5cdH0gZWxzZSB7XG5cdFx0Ly8gaW4gUmhpbm8gb3IgYSB3ZWIgYnJvd3NlclxuXHRcdHJvb3QucHVueWNvZGUgPSBwdW55Y29kZTtcblx0fVxuXG59KHRoaXMpKTtcbiIsIid1c2Ugc3RyaWN0JztcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGlzU3RyaW5nOiBmdW5jdGlvbihhcmcpIHtcbiAgICByZXR1cm4gdHlwZW9mKGFyZykgPT09ICdzdHJpbmcnO1xuICB9LFxuICBpc09iamVjdDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIHR5cGVvZihhcmcpID09PSAnb2JqZWN0JyAmJiBhcmcgIT09IG51bGw7XG4gIH0sXG4gIGlzTnVsbDogZnVuY3Rpb24oYXJnKSB7XG4gICAgcmV0dXJuIGFyZyA9PT0gbnVsbDtcbiAgfSxcbiAgaXNOdWxsT3JVbmRlZmluZWQ6IGZ1bmN0aW9uKGFyZykge1xuICAgIHJldHVybiBhcmcgPT0gbnVsbDtcbiAgfVxufTtcbiIsIid1c2Ugc3RyaWN0JztcblxuZXhwb3J0cy5kZWNvZGUgPSBleHBvcnRzLnBhcnNlID0gcmVxdWlyZSgnLi9kZWNvZGUnKTtcbmV4cG9ydHMuZW5jb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSByZXF1aXJlKCcuL2VuY29kZScpO1xuIiwiLy8gQ29weXJpZ2h0IEpveWVudCwgSW5jLiBhbmQgb3RoZXIgTm9kZSBjb250cmlidXRvcnMuXG4vL1xuLy8gUGVybWlzc2lvbiBpcyBoZXJlYnkgZ3JhbnRlZCwgZnJlZSBvZiBjaGFyZ2UsIHRvIGFueSBwZXJzb24gb2J0YWluaW5nIGFcbi8vIGNvcHkgb2YgdGhpcyBzb2Z0d2FyZSBhbmQgYXNzb2NpYXRlZCBkb2N1bWVudGF0aW9uIGZpbGVzICh0aGVcbi8vIFwiU29mdHdhcmVcIiksIHRvIGRlYWwgaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZ1xuLy8gd2l0aG91dCBsaW1pdGF0aW9uIHRoZSByaWdodHMgdG8gdXNlLCBjb3B5LCBtb2RpZnksIG1lcmdlLCBwdWJsaXNoLFxuLy8gZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGwgY29waWVzIG9mIHRoZSBTb2Z0d2FyZSwgYW5kIHRvIHBlcm1pdFxuLy8gcGVyc29ucyB0byB3aG9tIHRoZSBTb2Z0d2FyZSBpcyBmdXJuaXNoZWQgdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlXG4vLyBmb2xsb3dpbmcgY29uZGl0aW9uczpcbi8vXG4vLyBUaGUgYWJvdmUgY29weXJpZ2h0IG5vdGljZSBhbmQgdGhpcyBwZXJtaXNzaW9uIG5vdGljZSBzaGFsbCBiZSBpbmNsdWRlZFxuLy8gaW4gYWxsIGNvcGllcyBvciBzdWJzdGFudGlhbCBwb3J0aW9ucyBvZiB0aGUgU29mdHdhcmUuXG4vL1xuLy8gVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiwgV0lUSE9VVCBXQVJSQU5UWSBPRiBBTlkgS0lORCwgRVhQUkVTU1xuLy8gT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVCBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRlxuLy8gTUVSQ0hBTlRBQklMSVRZLCBGSVRORVNTIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTlxuLy8gTk8gRVZFTlQgU0hBTEwgVEhFIEFVVEhPUlMgT1IgQ09QWVJJR0hUIEhPTERFUlMgQkUgTElBQkxFIEZPUiBBTlkgQ0xBSU0sXG4vLyBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1Jcbi8vIE9USEVSV0lTRSwgQVJJU0lORyBGUk9NLCBPVVQgT0YgT1IgSU4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEVcbi8vIFVTRSBPUiBPVEhFUiBERUFMSU5HUyBJTiBUSEUgU09GVFdBUkUuXG5cbid1c2Ugc3RyaWN0JztcblxuLy8gSWYgb2JqLmhhc093blByb3BlcnR5IGhhcyBiZWVuIG92ZXJyaWRkZW4sIHRoZW4gY2FsbGluZ1xuLy8gb2JqLmhhc093blByb3BlcnR5KHByb3ApIHdpbGwgYnJlYWsuXG4vLyBTZWU6IGh0dHBzOi8vZ2l0aHViLmNvbS9qb3llbnQvbm9kZS9pc3N1ZXMvMTcwN1xuZnVuY3Rpb24gaGFzT3duUHJvcGVydHkob2JqLCBwcm9wKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBwcm9wKTtcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbihxcywgc2VwLCBlcSwgb3B0aW9ucykge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgdmFyIG9iaiA9IHt9O1xuXG4gIGlmICh0eXBlb2YgcXMgIT09ICdzdHJpbmcnIHx8IHFzLmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBvYmo7XG4gIH1cblxuICB2YXIgcmVnZXhwID0gL1xcKy9nO1xuICBxcyA9IHFzLnNwbGl0KHNlcCk7XG5cbiAgdmFyIG1heEtleXMgPSAxMDAwO1xuICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucy5tYXhLZXlzID09PSAnbnVtYmVyJykge1xuICAgIG1heEtleXMgPSBvcHRpb25zLm1heEtleXM7XG4gIH1cblxuICB2YXIgbGVuID0gcXMubGVuZ3RoO1xuICAvLyBtYXhLZXlzIDw9IDAgbWVhbnMgdGhhdCB3ZSBzaG91bGQgbm90IGxpbWl0IGtleXMgY291bnRcbiAgaWYgKG1heEtleXMgPiAwICYmIGxlbiA+IG1heEtleXMpIHtcbiAgICBsZW4gPSBtYXhLZXlzO1xuICB9XG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW47ICsraSkge1xuICAgIHZhciB4ID0gcXNbaV0ucmVwbGFjZShyZWdleHAsICclMjAnKSxcbiAgICAgICAgaWR4ID0geC5pbmRleE9mKGVxKSxcbiAgICAgICAga3N0ciwgdnN0ciwgaywgdjtcblxuICAgIGlmIChpZHggPj0gMCkge1xuICAgICAga3N0ciA9IHguc3Vic3RyKDAsIGlkeCk7XG4gICAgICB2c3RyID0geC5zdWJzdHIoaWR4ICsgMSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGtzdHIgPSB4O1xuICAgICAgdnN0ciA9ICcnO1xuICAgIH1cblxuICAgIGsgPSBkZWNvZGVVUklDb21wb25lbnQoa3N0cik7XG4gICAgdiA9IGRlY29kZVVSSUNvbXBvbmVudCh2c3RyKTtcblxuICAgIGlmICghaGFzT3duUHJvcGVydHkob2JqLCBrKSkge1xuICAgICAgb2JqW2tdID0gdjtcbiAgICB9IGVsc2UgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgb2JqW2tdLnB1c2godik7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9ialtrXSA9IFtvYmpba10sIHZdO1xuICAgIH1cbiAgfVxuXG4gIHJldHVybiBvYmo7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcbiIsIi8vIENvcHlyaWdodCBKb3llbnQsIEluYy4gYW5kIG90aGVyIE5vZGUgY29udHJpYnV0b3JzLlxuLy9cbi8vIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhXG4vLyBjb3B5IG9mIHRoaXMgc29mdHdhcmUgYW5kIGFzc29jaWF0ZWQgZG9jdW1lbnRhdGlvbiBmaWxlcyAodGhlXG4vLyBcIlNvZnR3YXJlXCIpLCB0byBkZWFsIGluIHRoZSBTb2Z0d2FyZSB3aXRob3V0IHJlc3RyaWN0aW9uLCBpbmNsdWRpbmdcbi8vIHdpdGhvdXQgbGltaXRhdGlvbiB0aGUgcmlnaHRzIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCxcbi8vIGRpc3RyaWJ1dGUsIHN1YmxpY2Vuc2UsIGFuZC9vciBzZWxsIGNvcGllcyBvZiB0aGUgU29mdHdhcmUsIGFuZCB0byBwZXJtaXRcbi8vIHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkIHRvIGRvIHNvLCBzdWJqZWN0IHRvIHRoZVxuLy8gZm9sbG93aW5nIGNvbmRpdGlvbnM6XG4vL1xuLy8gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWRcbi8vIGluIGFsbCBjb3BpZXMgb3Igc3Vic3RhbnRpYWwgcG9ydGlvbnMgb2YgdGhlIFNvZnR3YXJlLlxuLy9cbi8vIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1Ncbi8vIE9SIElNUExJRUQsIElOQ0xVRElORyBCVVQgTk9UIExJTUlURUQgVE8gVEhFIFdBUlJBTlRJRVMgT0Zcbi8vIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UgQU5EIE5PTklORlJJTkdFTUVOVC4gSU5cbi8vIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxuLy8gREFNQUdFUyBPUiBPVEhFUiBMSUFCSUxJVFksIFdIRVRIRVIgSU4gQU4gQUNUSU9OIE9GIENPTlRSQUNULCBUT1JUIE9SXG4vLyBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOIENPTk5FQ1RJT04gV0lUSCBUSEUgU09GVFdBUkUgT1IgVEhFXG4vLyBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxuXG4ndXNlIHN0cmljdCc7XG5cbnZhciBzdHJpbmdpZnlQcmltaXRpdmUgPSBmdW5jdGlvbih2KSB7XG4gIHN3aXRjaCAodHlwZW9mIHYpIHtcbiAgICBjYXNlICdzdHJpbmcnOlxuICAgICAgcmV0dXJuIHY7XG5cbiAgICBjYXNlICdib29sZWFuJzpcbiAgICAgIHJldHVybiB2ID8gJ3RydWUnIDogJ2ZhbHNlJztcblxuICAgIGNhc2UgJ251bWJlcic6XG4gICAgICByZXR1cm4gaXNGaW5pdGUodikgPyB2IDogJyc7XG5cbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG9iaiwgc2VwLCBlcSwgbmFtZSkge1xuICBzZXAgPSBzZXAgfHwgJyYnO1xuICBlcSA9IGVxIHx8ICc9JztcbiAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgIG9iaiA9IHVuZGVmaW5lZDtcbiAgfVxuXG4gIGlmICh0eXBlb2Ygb2JqID09PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBtYXAob2JqZWN0S2V5cyhvYmopLCBmdW5jdGlvbihrKSB7XG4gICAgICB2YXIga3MgPSBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKGspKSArIGVxO1xuICAgICAgaWYgKGlzQXJyYXkob2JqW2tdKSkge1xuICAgICAgICByZXR1cm4gbWFwKG9ialtrXSwgZnVuY3Rpb24odikge1xuICAgICAgICAgIHJldHVybiBrcyArIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUodikpO1xuICAgICAgICB9KS5qb2luKHNlcCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4ga3MgKyBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG9ialtrXSkpO1xuICAgICAgfVxuICAgIH0pLmpvaW4oc2VwKTtcblxuICB9XG5cbiAgaWYgKCFuYW1lKSByZXR1cm4gJyc7XG4gIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoc3RyaW5naWZ5UHJpbWl0aXZlKG5hbWUpKSArIGVxICtcbiAgICAgICAgIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmdpZnlQcmltaXRpdmUob2JqKSk7XG59O1xuXG52YXIgaXNBcnJheSA9IEFycmF5LmlzQXJyYXkgfHwgZnVuY3Rpb24gKHhzKSB7XG4gIHJldHVybiBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoeHMpID09PSAnW29iamVjdCBBcnJheV0nO1xufTtcblxuZnVuY3Rpb24gbWFwICh4cywgZikge1xuICBpZiAoeHMubWFwKSByZXR1cm4geHMubWFwKGYpO1xuICB2YXIgcmVzID0gW107XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgeHMubGVuZ3RoOyBpKyspIHtcbiAgICByZXMucHVzaChmKHhzW2ldLCBpKSk7XG4gIH1cbiAgcmV0dXJuIHJlcztcbn1cblxudmFyIG9iamVjdEtleXMgPSBPYmplY3Qua2V5cyB8fCBmdW5jdGlvbiAob2JqKSB7XG4gIHZhciByZXMgPSBbXTtcbiAgZm9yICh2YXIga2V5IGluIG9iaikge1xuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqLCBrZXkpKSByZXMucHVzaChrZXkpO1xuICB9XG4gIHJldHVybiByZXM7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgaGVscGVycyA9IHJlcXVpcmUoJy4vaGVscGVycycpO1xuXG4vKiogQHR5cGUgVmFsaWRhdG9yUmVzdWx0ICovXG52YXIgVmFsaWRhdG9yUmVzdWx0ID0gaGVscGVycy5WYWxpZGF0b3JSZXN1bHQ7XG4vKiogQHR5cGUgU2NoZW1hRXJyb3IgKi9cbnZhciBTY2hlbWFFcnJvciA9IGhlbHBlcnMuU2NoZW1hRXJyb3I7XG5cbnZhciBhdHRyaWJ1dGUgPSB7fTtcblxuYXR0cmlidXRlLmlnbm9yZVByb3BlcnRpZXMgPSB7XG4gIC8vIGluZm9ybWF0aXZlIHByb3BlcnRpZXNcbiAgJ2lkJzogdHJ1ZSxcbiAgJ2RlZmF1bHQnOiB0cnVlLFxuICAnZGVzY3JpcHRpb24nOiB0cnVlLFxuICAndGl0bGUnOiB0cnVlLFxuICAvLyBhcmd1bWVudHMgdG8gb3RoZXIgcHJvcGVydGllc1xuICAnYWRkaXRpb25hbEl0ZW1zJzogdHJ1ZSxcbiAgJ3RoZW4nOiB0cnVlLFxuICAnZWxzZSc6IHRydWUsXG4gIC8vIHNwZWNpYWwtaGFuZGxlZCBwcm9wZXJ0aWVzXG4gICckc2NoZW1hJzogdHJ1ZSxcbiAgJyRyZWYnOiB0cnVlLFxuICAnZXh0ZW5kcyc6IHRydWUsXG59O1xuXG4vKipcbiAqIEBuYW1lIHZhbGlkYXRvcnNcbiAqL1xudmFyIHZhbGlkYXRvcnMgPSBhdHRyaWJ1dGUudmFsaWRhdG9ycyA9IHt9O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZSBpbnN0YW5jZSBpZiBvZiBhIGNlcnRhaW4gdHlwZVxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudHlwZSA9IGZ1bmN0aW9uIHZhbGlkYXRlVHlwZSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHR5cGVzID0gQXJyYXkuaXNBcnJheShzY2hlbWEudHlwZSkgPyBzY2hlbWEudHlwZSA6IFtzY2hlbWEudHlwZV07XG4gIGlmICghdHlwZXMuc29tZSh0aGlzLnRlc3RUeXBlLmJpbmQodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSkpIHtcbiAgICB2YXIgbGlzdCA9IHR5cGVzLm1hcChmdW5jdGlvbiAodikge1xuICAgICAgaWYoIXYpIHJldHVybjtcbiAgICAgIHZhciBpZCA9IHYuJGlkIHx8IHYuaWQ7XG4gICAgICByZXR1cm4gaWQgPyAoJzwnICsgaWQgKyAnPicpIDogKHYrJycpO1xuICAgIH0pO1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAndHlwZScsXG4gICAgICBhcmd1bWVudDogbGlzdCxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9mIGEgdHlwZShzKSBcIiArIGxpc3QsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbmZ1bmN0aW9uIHRlc3RTY2hlbWFOb1Rocm93KGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGNhbGxiYWNrLCBzY2hlbWEpe1xuICB2YXIgdGhyb3dFcnJvciA9IG9wdGlvbnMudGhyb3dFcnJvcjtcbiAgdmFyIHRocm93QWxsID0gb3B0aW9ucy50aHJvd0FsbDtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gZmFsc2U7XG4gIG9wdGlvbnMudGhyb3dBbGwgPSBmYWxzZTtcbiAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgb3B0aW9ucy50aHJvd0Vycm9yID0gdGhyb3dFcnJvcjtcbiAgb3B0aW9ucy50aHJvd0FsbCA9IHRocm93QWxsO1xuXG4gIGlmICghcmVzLnZhbGlkICYmIGNhbGxiYWNrIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICBjYWxsYmFjayhyZXMpO1xuICB9XG4gIHJldHVybiByZXMudmFsaWQ7XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIG1hdGNoZXMgc29tZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7VmFsaWRhdG9yUmVzdWx0fG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuYW55T2YgPSBmdW5jdGlvbiB2YWxpZGF0ZUFueU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWEuYW55T2YpKXtcbiAgICB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoXCJhbnlPZiBtdXN0IGJlIGFuIGFycmF5XCIpO1xuICB9XG4gIGlmICghc2NoZW1hLmFueU9mLnNvbWUoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcyl7aW5uZXIuaW1wb3J0RXJyb3JzKHJlcyk7fVxuICAgICkpKSB7XG4gICAgdmFyIGxpc3QgPSBzY2hlbWEuYW55T2YubWFwKGZ1bmN0aW9uICh2LCBpKSB7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgaWYoaWQpIHJldHVybiAnPCcgKyBpZCArICc+JztcbiAgICAgIHJldHVybih2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgIH0pO1xuICAgIGlmIChvcHRpb25zLm5lc3RlZEVycm9ycykge1xuICAgICAgcmVzdWx0LmltcG9ydEVycm9ycyhpbm5lcik7XG4gICAgfVxuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYW55T2YnLFxuICAgICAgYXJndW1lbnQ6IGxpc3QsXG4gICAgICBtZXNzYWdlOiBcImlzIG5vdCBhbnkgb2YgXCIgKyBsaXN0LmpvaW4oJywnKSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBldmVyeSBnaXZlbiBzY2hlbWFcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLmFsbE9mID0gZnVuY3Rpb24gdmFsaWRhdGVBbGxPZiAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIElnbm9yZSB1bmRlZmluZWQgaW5zdGFuY2VzXG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYS5hbGxPZikpe1xuICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcihcImFsbE9mIG11c3QgYmUgYW4gYXJyYXlcIik7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHNlbGYgPSB0aGlzO1xuICBzY2hlbWEuYWxsT2YuZm9yRWFjaChmdW5jdGlvbih2LCBpKXtcbiAgICB2YXIgdmFsaWQgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCB2LCBvcHRpb25zLCBjdHgpO1xuICAgIGlmKCF2YWxpZC52YWxpZCl7XG4gICAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgICAgdmFyIG1zZyA9IGlkIHx8ICh2LnRpdGxlICYmIEpTT04uc3RyaW5naWZ5KHYudGl0bGUpKSB8fCAodlsnJHJlZiddICYmICgnPCcgKyB2WyckcmVmJ10gKyAnPicpKSB8fCAnW3N1YnNjaGVtYSAnK2krJ10nO1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2FsbE9mJyxcbiAgICAgICAgYXJndW1lbnQ6IHsgaWQ6IG1zZywgbGVuZ3RoOiB2YWxpZC5lcnJvcnMubGVuZ3RoLCB2YWxpZDogdmFsaWQgfSxcbiAgICAgICAgbWVzc2FnZTogJ2RvZXMgbm90IG1hdGNoIGFsbE9mIHNjaGVtYSAnICsgbXNnICsgJyB3aXRoICcgKyB2YWxpZC5lcnJvcnMubGVuZ3RoICsgJyBlcnJvcltzXTonLFxuICAgICAgfSk7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHZhbGlkKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgbWF0Y2hlcyBleGFjdGx5IG9uZSBvZiB0aGUgZ2l2ZW4gc2NoZW1hc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMub25lT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU9uZU9mIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSl7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwib25lT2YgbXVzdCBiZSBhbiBhcnJheVwiKTtcbiAgfVxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgaW5uZXIgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IHNjaGVtYS5vbmVPZi5maWx0ZXIoXG4gICAgdGVzdFNjaGVtYU5vVGhyb3cuYmluZChcbiAgICAgIHRoaXMsIGluc3RhbmNlLCBvcHRpb25zLCBjdHgsIGZ1bmN0aW9uKHJlcykge2lubmVyLmltcG9ydEVycm9ycyhyZXMpO31cbiAgICApICkubGVuZ3RoO1xuICB2YXIgbGlzdCA9IHNjaGVtYS5vbmVPZi5tYXAoZnVuY3Rpb24gKHYsIGkpIHtcbiAgICB2YXIgaWQgPSB2LiRpZCB8fCB2LmlkO1xuICAgIHJldHVybiBpZCB8fCAodi50aXRsZSAmJiBKU09OLnN0cmluZ2lmeSh2LnRpdGxlKSkgfHwgKHZbJyRyZWYnXSAmJiAoJzwnICsgdlsnJHJlZiddICsgJz4nKSkgfHwgJ1tzdWJzY2hlbWEgJytpKyddJztcbiAgfSk7XG4gIGlmIChjb3VudCE9PTEpIHtcbiAgICBpZiAob3B0aW9ucy5uZXN0ZWRFcnJvcnMpIHtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMoaW5uZXIpO1xuICAgIH1cbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ29uZU9mJyxcbiAgICAgIGFyZ3VtZW50OiBsaXN0LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgZXhhY3RseSBvbmUgZnJvbSBcIiArIGxpc3Quam9pbignLCcpLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBcInRoZW5cIiBvciBcImVsc2VcIiBkZXBlbmRpbmcgb24gdGhlIHJlc3VsdCBvZiB2YWxpZGF0aW5nIFwiaWZcIlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuaWYgPSBmdW5jdGlvbiB2YWxpZGF0ZUlmIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gSWdub3JlIHVuZGVmaW5lZCBpbnN0YW5jZXNcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHJldHVybiBudWxsO1xuICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmlmKSkgdGhyb3cgbmV3IEVycm9yKCdFeHBlY3RlZCBcImlmXCIga2V5d29yZCB0byBiZSBhIHNjaGVtYScpO1xuICB2YXIgaWZWYWxpZCA9IHRlc3RTY2hlbWFOb1Rocm93LmNhbGwodGhpcywgaW5zdGFuY2UsIG9wdGlvbnMsIGN0eCwgbnVsbCwgc2NoZW1hLmlmKTtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHJlcztcbiAgaWYoaWZWYWxpZCl7XG4gICAgaWYgKHNjaGVtYS50aGVuID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLnRoZW4pKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwidGhlblwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEudGhlbiwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEudGhlbikpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfWVsc2V7XG4gICAgaWYgKHNjaGVtYS5lbHNlID09PSB1bmRlZmluZWQpIHJldHVybjtcbiAgICBpZiAoIWhlbHBlcnMuaXNTY2hlbWEoc2NoZW1hLmVsc2UpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiZWxzZVwiIGtleXdvcmQgdG8gYmUgYSBzY2hlbWEnKTtcbiAgICByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBzY2hlbWEuZWxzZSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuZWxzZSkpO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuZnVuY3Rpb24gZ2V0RW51bWVyYWJsZVByb3BlcnR5KG9iamVjdCwga2V5KXtcbiAgLy8gRGV0ZXJtaW5lIGlmIGBrZXlgIHNob3dzIHVwIGluIGBmb3IodmFyIGtleSBpbiBvYmplY3QpYFxuICAvLyBGaXJzdCB0ZXN0IE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsIGFzIGFuIG9wdGltaXphdGlvbjogdGhhdCBndWFyYW50ZWVzIGl0IGRvZXNcbiAgaWYoT2JqZWN0Lmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBrZXkpKSByZXR1cm4gb2JqZWN0W2tleV07XG4gIC8vIFRlc3QgYGtleSBpbiBvYmplY3RgIGFzIGFuIG9wdGltaXphdGlvbjsgZmFsc2UgbWVhbnMgaXQgd29uJ3RcbiAgaWYoIShrZXkgaW4gb2JqZWN0KSkgcmV0dXJuO1xuICB3aGlsZSggKG9iamVjdCA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmplY3QpKSApe1xuICAgIGlmKE9iamVjdC5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKG9iamVjdCwga2V5KSkgcmV0dXJuIG9iamVjdFtrZXldO1xuICB9XG59XG5cbi8qKlxuICogVmFsaWRhdGVzIHByb3BlcnR5TmFtZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5wcm9wZXJ0eU5hbWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0eU5hbWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYoIXRoaXMudHlwZXMub2JqZWN0KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgc3Vic2NoZW1hID0gc2NoZW1hLnByb3BlcnR5TmFtZXMhPT11bmRlZmluZWQgPyBzY2hlbWEucHJvcGVydHlOYW1lcyA6IHt9O1xuICBpZighaGVscGVycy5pc1NjaGVtYShzdWJzY2hlbWEpKSB0aHJvdyBuZXcgU2NoZW1hRXJyb3IoJ0V4cGVjdGVkIFwicHJvcGVydHlOYW1lc1wiIHRvIGJlIGEgc2NoZW1hIChvYmplY3Qgb3IgYm9vbGVhbiknKTtcblxuICBmb3IgKHZhciBwcm9wZXJ0eSBpbiBpbnN0YW5jZSkge1xuICAgIGlmKGdldEVudW1lcmFibGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHkpICE9PSB1bmRlZmluZWQpe1xuICAgICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcGVydHksIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEpKTtcbiAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgcHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnByb3BlcnRpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBwcm9wZXJ0aWVzID0gc2NoZW1hLnByb3BlcnRpZXMgfHwge307XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHByb3BlcnRpZXMpIHtcbiAgICB2YXIgc3Vic2NoZW1hID0gcHJvcGVydGllc1twcm9wZXJ0eV07XG4gICAgaWYoc3Vic2NoZW1hPT09dW5kZWZpbmVkKXtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1lbHNlIGlmKHN1YnNjaGVtYT09PW51bGwpe1xuICAgICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKCdVbmV4cGVjdGVkIG51bGwsIGV4cGVjdGVkIHNjaGVtYSBpbiBcInByb3BlcnRpZXNcIicpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eSA9PSAnZnVuY3Rpb24nKSB7XG4gICAgICBvcHRpb25zLnByZVZhbGlkYXRlUHJvcGVydHkoaW5zdGFuY2UsIHByb3BlcnR5LCBzdWJzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gICAgfVxuICAgIHZhciBwcm9wID0gZ2V0RW51bWVyYWJsZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSk7XG4gICAgdmFyIHJlcyA9IHRoaXMudmFsaWRhdGVTY2hlbWEocHJvcCwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgubWFrZUNoaWxkKHN1YnNjaGVtYSwgcHJvcGVydHkpKTtcbiAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFRlc3QgYSBzcGVjaWZpYyBwcm9wZXJ0eSB3aXRoaW4gaW4gaW5zdGFuY2UgYWdhaW5zdCB0aGUgYWRkaXRpb25hbFByb3BlcnRpZXMgc2NoZW1hIGF0dHJpYnV0ZVxuICogVGhpcyBpZ25vcmVzIHByb3BlcnRpZXMgd2l0aCBkZWZpbml0aW9ucyBpbiB0aGUgcHJvcGVydGllcyBzY2hlbWEgYXR0cmlidXRlLCBidXQgbm8gb3RoZXIgYXR0cmlidXRlcy5cbiAqIElmIHRvbyBtYW55IG1vcmUgdHlwZXMgb2YgcHJvcGVydHktZXhpc3RlbmNlIHRlc3RzIHBvcCB1cCB0aGV5IG1heSBuZWVkIHRoZWlyIG93biBjbGFzcyBvZiB0ZXN0cyAobGlrZSBgdHlwZWAgaGFzKVxuICogQHByaXZhdGVcbiAqIEByZXR1cm4ge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIHRlc3RBZGRpdGlvbmFsUHJvcGVydHkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIGlmIChzY2hlbWEucHJvcGVydGllcyAmJiBzY2hlbWEucHJvcGVydGllc1twcm9wZXJ0eV0gIT09IHVuZGVmaW5lZCkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoc2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSBmYWxzZSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnYWRkaXRpb25hbFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHByb3BlcnR5LFxuICAgICAgbWVzc2FnZTogXCJpcyBub3QgYWxsb3dlZCB0byBoYXZlIHRoZSBhZGRpdGlvbmFsIHByb3BlcnR5IFwiICsgSlNPTi5zdHJpbmdpZnkocHJvcGVydHkpLFxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHZhciBhZGRpdGlvbmFsUHJvcGVydGllcyA9IHNjaGVtYS5hZGRpdGlvbmFsUHJvcGVydGllcyB8fCB7fTtcblxuICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgIG9wdGlvbnMucHJlVmFsaWRhdGVQcm9wZXJ0eShpbnN0YW5jZSwgcHJvcGVydHksIGFkZGl0aW9uYWxQcm9wZXJ0aWVzLCBvcHRpb25zLCBjdHgpO1xuICAgIH1cblxuICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlW3Byb3BlcnR5XSwgYWRkaXRpb25hbFByb3BlcnRpZXMsIG9wdGlvbnMsIGN0eC5tYWtlQ2hpbGQoYWRkaXRpb25hbFByb3BlcnRpZXMsIHByb3BlcnR5KSk7XG4gICAgaWYocmVzLmluc3RhbmNlICE9PSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldKSByZXN1bHQuaW5zdGFuY2VbcHJvcGVydHldID0gcmVzLmluc3RhbmNlO1xuICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgfVxufVxuXG4vKipcbiAqIFZhbGlkYXRlcyBwYXR0ZXJuUHJvcGVydGllc1xuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVQYXR0ZXJuUHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIHBhdHRlcm5Qcm9wZXJ0aWVzID0gc2NoZW1hLnBhdHRlcm5Qcm9wZXJ0aWVzIHx8IHt9O1xuXG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdmFyIHRlc3QgPSB0cnVlO1xuICAgIGZvciAodmFyIHBhdHRlcm4gaW4gcGF0dGVyblByb3BlcnRpZXMpIHtcbiAgICAgIHZhciBzdWJzY2hlbWEgPSBwYXR0ZXJuUHJvcGVydGllc1twYXR0ZXJuXTtcbiAgICAgIGlmKHN1YnNjaGVtYT09PXVuZGVmaW5lZCl7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfWVsc2UgaWYoc3Vic2NoZW1hPT09bnVsbCl7XG4gICAgICAgIHRocm93IG5ldyBTY2hlbWFFcnJvcignVW5leHBlY3RlZCBudWxsLCBleHBlY3RlZCBzY2hlbWEgaW4gXCJwYXR0ZXJuUHJvcGVydGllc1wiJyk7XG4gICAgICB9XG4gICAgICB0cnkge1xuICAgICAgICB2YXIgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuLCAndScpO1xuICAgICAgfSBjYXRjaChfZSkge1xuICAgICAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAgICAgLy8gREVQUkVDQVRFRFxuICAgICAgICByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4pO1xuICAgICAgfVxuICAgICAgaWYgKCFyZWdleHAudGVzdChwcm9wZXJ0eSkpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICB0ZXN0ID0gZmFsc2U7XG5cbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5ID09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb3B0aW9ucy5wcmVWYWxpZGF0ZVByb3BlcnR5KGluc3RhbmNlLCBwcm9wZXJ0eSwgc3Vic2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICAgICAgfVxuXG4gICAgICB2YXIgcmVzID0gdGhpcy52YWxpZGF0ZVNjaGVtYShpbnN0YW5jZVtwcm9wZXJ0eV0sIHN1YnNjaGVtYSwgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzdWJzY2hlbWEsIHByb3BlcnR5KSk7XG4gICAgICBpZihyZXMuaW5zdGFuY2UgIT09IHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0pIHJlc3VsdC5pbnN0YW5jZVtwcm9wZXJ0eV0gPSByZXMuaW5zdGFuY2U7XG4gICAgICByZXN1bHQuaW1wb3J0RXJyb3JzKHJlcyk7XG4gICAgfVxuICAgIGlmICh0ZXN0KSB7XG4gICAgICB0ZXN0QWRkaXRpb25hbFByb3BlcnR5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBwcm9wZXJ0eSwgcmVzdWx0KTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgYWRkaXRpb25hbFByb3BlcnRpZXNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5hZGRpdGlvbmFsUHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlQWRkaXRpb25hbFByb3BlcnRpZXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZighdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIC8vIGlmIHBhdHRlcm5Qcm9wZXJ0aWVzIGlzIGRlZmluZWQgdGhlbiB3ZSdsbCB0ZXN0IHdoZW4gdGhhdCBvbmUgaXMgY2FsbGVkIGluc3RlYWRcbiAgaWYgKHNjaGVtYS5wYXR0ZXJuUHJvcGVydGllcykge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIGluc3RhbmNlKSB7XG4gICAgdGVzdEFkZGl0aW9uYWxQcm9wZXJ0eS5jYWxsKHRoaXMsIGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgcHJvcGVydHksIHJlc3VsdCk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5Qcm9wZXJ0aWVzID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5Qcm9wZXJ0aWVzIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIGtleXMgPSBPYmplY3Qua2V5cyhpbnN0YW5jZSk7XG4gIGlmICghKGtleXMubGVuZ3RoID49IHNjaGVtYS5taW5Qcm9wZXJ0aWVzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnbWluUHJvcGVydGllcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pblByb3BlcnRpZXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBwcm9wZXJ0eSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluUHJvcGVydGllcyxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYXQgbW9zdCBvZiBhIGNlcnRhaW4gbGVuZ3RoLCB3aGVuIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIHN0cmluZy5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWF4UHJvcGVydGllcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4UHJvcGVydGllcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBrZXlzID0gT2JqZWN0LmtleXMoaW5zdGFuY2UpO1xuICBpZiAoIShrZXlzLmxlbmd0aCA8PSBzY2hlbWEubWF4UHJvcGVydGllcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heFByb3BlcnRpZXMnLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhQcm9wZXJ0aWVzLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gcHJvcGVydHkgbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heFByb3BlcnRpZXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIGl0ZW1zIHdoZW4gaW5zdGFuY2UgaXMgYW4gYXJyYXlcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIG9wdGlvbnNcbiAqIEBwYXJhbSBjdHhcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5pdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlSXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgaWYgKHNjaGVtYS5pdGVtcz09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpbnN0YW5jZS5ldmVyeShmdW5jdGlvbiAodmFsdWUsIGkpIHtcbiAgICBpZihBcnJheS5pc0FycmF5KHNjaGVtYS5pdGVtcykpe1xuICAgICAgdmFyIGl0ZW1zID0gIHNjaGVtYS5pdGVtc1tpXT09PXVuZGVmaW5lZCA/IHNjaGVtYS5hZGRpdGlvbmFsSXRlbXMgOiBzY2hlbWEuaXRlbXNbaV07XG4gICAgfWVsc2V7XG4gICAgICB2YXIgaXRlbXMgPSBzY2hlbWEuaXRlbXM7XG4gICAgfVxuICAgIGlmIChpdGVtcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgaWYgKGl0ZW1zID09PSBmYWxzZSkge1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ2l0ZW1zJyxcbiAgICAgICAgbWVzc2FnZTogXCJhZGRpdGlvbmFsSXRlbXMgbm90IHBlcm1pdHRlZFwiLFxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHZhciByZXMgPSBzZWxmLnZhbGlkYXRlU2NoZW1hKHZhbHVlLCBpdGVtcywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChpdGVtcywgaSkpO1xuICAgIGlmKHJlcy5pbnN0YW5jZSAhPT0gcmVzdWx0Lmluc3RhbmNlW2ldKSByZXN1bHQuaW5zdGFuY2VbaV0gPSByZXMuaW5zdGFuY2U7XG4gICAgcmVzdWx0LmltcG9ydEVycm9ycyhyZXMpO1xuICAgIHJldHVybiB0cnVlO1xuICB9KTtcbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBcImNvbnRhaW5zXCIga2V5d29yZFxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcGFyYW0gb3B0aW9uc1xuICogQHBhcmFtIGN0eFxuICogQHJldHVybiB7U3RyaW5nfG51bGx8VmFsaWRhdG9yUmVzdWx0fVxuICovXG52YWxpZGF0b3JzLmNvbnRhaW5zID0gZnVuY3Rpb24gdmFsaWRhdGVDb250YWlucyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciBzZWxmID0gdGhpcztcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICBpZiAoc2NoZW1hLmNvbnRhaW5zPT09dW5kZWZpbmVkKSByZXR1cm47XG4gIGlmICghaGVscGVycy5pc1NjaGVtYShzY2hlbWEuY29udGFpbnMpKSB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIFwiY29udGFpbnNcIiBrZXl3b3JkIHRvIGJlIGEgc2NoZW1hJyk7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBjb3VudCA9IGluc3RhbmNlLnNvbWUoZnVuY3Rpb24gKHZhbHVlLCBpKSB7XG4gICAgdmFyIHJlcyA9IHNlbGYudmFsaWRhdGVTY2hlbWEodmFsdWUsIHNjaGVtYS5jb250YWlucywgb3B0aW9ucywgY3R4Lm1ha2VDaGlsZChzY2hlbWEuY29udGFpbnMsIGkpKTtcbiAgICByZXR1cm4gcmVzLmVycm9ycy5sZW5ndGg9PT0wO1xuICB9KTtcbiAgaWYoY291bnQ9PT1mYWxzZSl7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb250YWlucycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLmNvbnRhaW5zLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGNvbnRhaW4gYW4gaXRlbSBtYXRjaGluZyBnaXZlbiBzY2hlbWFcIixcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgbWluaW11bSBhbmQgZXhjbHVzaXZlTWluaW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMubWluaW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlTWluaW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChzY2hlbWEuZXhjbHVzaXZlTWluaW11bSAmJiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gdHJ1ZSkge1xuICAgIGlmKCEoaW5zdGFuY2UgPiBzY2hlbWEubWluaW11bSkpe1xuICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgbmFtZTogJ21pbmltdW0nLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hLm1pbmltdW0sXG4gICAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBncmVhdGVyIHRoYW4gXCIgKyBzY2hlbWEubWluaW11bSxcbiAgICAgIH0pO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZighKGluc3RhbmNlID49IHNjaGVtYS5taW5pbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWluaW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluaW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGdyZWF0ZXIgdGhhbiBvciBlcXVhbCB0byBcIiArIHNjaGVtYS5taW5pbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtYXhpbXVtIGFuZCBleGNsdXNpdmVNYXhpbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhpbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVNYXhpbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtICYmIHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtID09PSB0cnVlKSB7XG4gICAgaWYoIShpbnN0YW5jZSA8IHNjaGVtYS5tYXhpbXVtKSl7XG4gICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICBuYW1lOiAnbWF4aW11bScsXG4gICAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWF4aW11bSxcbiAgICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIGxlc3MgdGhhbiBcIiArIHNjaGVtYS5tYXhpbXVtLFxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmKCEoaW5zdGFuY2UgPD0gc2NoZW1hLm1heGltdW0pKXtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdtYXhpbXVtJyxcbiAgICAgICAgYXJndW1lbnQ6IHNjaGVtYS5tYXhpbXVtLFxuICAgICAgICBtZXNzYWdlOiBcIm11c3QgYmUgbGVzcyB0aGFuIG9yIGVxdWFsIHRvIFwiICsgc2NoZW1hLm1heGltdW0sXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHRoZSBudW1iZXIgZm9ybSBvZiBleGNsdXNpdmVNaW5pbXVtIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5leGNsdXNpdmVNaW5pbXVtID0gZnVuY3Rpb24gdmFsaWRhdGVFeGNsdXNpdmVNaW5pbXVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgLy8gU3VwcG9ydCB0aGUgYm9vbGVhbiBmb3JtIG9mIGV4Y2x1c2l2ZU1pbmltdW0sIHdoaWNoIGlzIGhhbmRsZWQgYnkgdGhlIFwibWluaW11bVwiIGtleXdvcmQuXG4gIGlmKHR5cGVvZiBzY2hlbWEuZXhjbHVzaXZlTWluaW11bSA9PT0gJ2Jvb2xlYW4nKSByZXR1cm47XG4gIGlmICghdGhpcy50eXBlcy5udW1iZXIoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciB2YWxpZCA9IGluc3RhbmNlID4gc2NoZW1hLmV4Y2x1c2l2ZU1pbmltdW07XG4gIGlmICghdmFsaWQpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ2V4Y2x1c2l2ZU1pbmltdW0nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgICAgbWVzc2FnZTogXCJtdXN0IGJlIHN0cmljdGx5IGdyZWF0ZXIgdGhhbiBcIiArIHNjaGVtYS5leGNsdXNpdmVNaW5pbXVtLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyB0aGUgbnVtYmVyIGZvcm0gb2YgZXhjbHVzaXZlTWF4aW11bSB3aGVuIHRoZSB0eXBlIG9mIHRoZSBpbnN0YW5jZSB2YWx1ZSBpcyBhIG51bWJlci5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMuZXhjbHVzaXZlTWF4aW11bSA9IGZ1bmN0aW9uIHZhbGlkYXRlRXhjbHVzaXZlTWF4aW11bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIC8vIFN1cHBvcnQgdGhlIGJvb2xlYW4gZm9ybSBvZiBleGNsdXNpdmVNYXhpbXVtLCB3aGljaCBpcyBoYW5kbGVkIGJ5IHRoZSBcIm1heGltdW1cIiBrZXl3b3JkLlxuICBpZih0eXBlb2Ygc2NoZW1hLmV4Y2x1c2l2ZU1heGltdW0gPT09ICdib29sZWFuJykgcmV0dXJuO1xuICBpZiAoIXRoaXMudHlwZXMubnVtYmVyKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgdmFsaWQgPSBpbnN0YW5jZSA8IHNjaGVtYS5leGNsdXNpdmVNYXhpbXVtO1xuICBpZiAoIXZhbGlkKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdleGNsdXNpdmVNYXhpbXVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICAgIG1lc3NhZ2U6IFwibXVzdCBiZSBzdHJpY3RseSBsZXNzIHRoYW4gXCIgKyBzY2hlbWEuZXhjbHVzaXZlTWF4aW11bSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBQZXJmb3JtIHZhbGlkYXRpb24gZm9yIG11bHRpcGxlT2YgYW5kIGRpdmlzaWJsZUJ5LCB3aGljaCBhcmUgZXNzZW50aWFsbHkgdGhlIHNhbWUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSB2YWxpZGF0aW9uVHlwZVxuICogQHBhcmFtIGVycm9yTWVzc2FnZVxuICogQHJldHVybnMge1N0cmluZ3xudWxsfVxuICovXG52YXIgdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5ID0gZnVuY3Rpb24gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5IChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgsIHZhbGlkYXRpb25UeXBlLCBlcnJvck1lc3NhZ2UpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLm51bWJlcihpbnN0YW5jZSkpIHJldHVybjtcblxuICB2YXIgdmFsaWRhdGlvbkFyZ3VtZW50ID0gc2NoZW1hW3ZhbGlkYXRpb25UeXBlXTtcbiAgaWYgKHZhbGlkYXRpb25Bcmd1bWVudCA9PSAwKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKHZhbGlkYXRpb25UeXBlICsgXCIgY2Fubm90IGJlIHplcm9cIik7XG4gIH1cblxuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuXG4gIHZhciBpbnN0YW5jZURlY2ltYWxzID0gaGVscGVycy5nZXREZWNpbWFsUGxhY2VzKGluc3RhbmNlKTtcbiAgdmFyIGRpdmlzb3JEZWNpbWFscyA9IGhlbHBlcnMuZ2V0RGVjaW1hbFBsYWNlcyh2YWxpZGF0aW9uQXJndW1lbnQpO1xuXG4gIHZhciBtYXhEZWNpbWFscyA9IE1hdGgubWF4KGluc3RhbmNlRGVjaW1hbHMgLCBkaXZpc29yRGVjaW1hbHMpO1xuICB2YXIgbXVsdGlwbGllciA9IE1hdGgucG93KDEwLCBtYXhEZWNpbWFscyk7XG5cbiAgaWYgKE1hdGgucm91bmQoaW5zdGFuY2UgKiBtdWx0aXBsaWVyKSAlIE1hdGgucm91bmQodmFsaWRhdGlvbkFyZ3VtZW50ICogbXVsdGlwbGllcikgIT09IDApIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogdmFsaWRhdGlvblR5cGUsXG4gICAgICBhcmd1bWVudDogIHZhbGlkYXRpb25Bcmd1bWVudCxcbiAgICAgIG1lc3NhZ2U6IGVycm9yTWVzc2FnZSArIEpTT04uc3RyaW5naWZ5KHZhbGlkYXRpb25Bcmd1bWVudCksXG4gICAgfSk7XG4gIH1cblxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgZGl2aXNpYmxlQnkgd2hlbiB0aGUgdHlwZSBvZiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBudW1iZXIuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm11bHRpcGxlT2YgPSBmdW5jdGlvbiB2YWxpZGF0ZU11bHRpcGxlT2YgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcIm11bHRpcGxlT2ZcIiwgXCJpcyBub3QgYSBtdWx0aXBsZSBvZiAoZGl2aXNpYmxlIGJ5KSBcIik7XG59O1xuXG4vKipcbiAqIFZhbGlkYXRlcyBtdWx0aXBsZU9mIHdoZW4gdGhlIHR5cGUgb2YgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgbnVtYmVyLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5kaXZpc2libGVCeSA9IGZ1bmN0aW9uIHZhbGlkYXRlRGl2aXNpYmxlQnkgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICByZXR1cm4gdmFsaWRhdGVNdWx0aXBsZU9mT3JEaXZpc2JsZUJ5LmNhbGwodGhpcywgaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4LCBcImRpdmlzaWJsZUJ5XCIsIFwiaXMgbm90IGRpdmlzaWJsZSBieSAobXVsdGlwbGUgb2YpIFwiKTtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIHByZXNlbnQuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnJlcXVpcmVkID0gZnVuY3Rpb24gdmFsaWRhdGVSZXF1aXJlZCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkICYmIHNjaGVtYS5yZXF1aXJlZCA9PT0gdHJ1ZSkge1xuICAgIC8vIEEgYm9vbGVhbiBmb3JtIGlzIGltcGxlbWVudGVkIGZvciByZXZlcnNlLWNvbXBhdGliaWxpdHkgd2l0aCBzY2hlbWFzIHdyaXR0ZW4gYWdhaW5zdCBvbGRlciBkcmFmdHNcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3JlcXVpcmVkJyxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgcmVxdWlyZWRcIixcbiAgICB9KTtcbiAgfSBlbHNlIGlmICh0aGlzLnR5cGVzLm9iamVjdChpbnN0YW5jZSkgJiYgQXJyYXkuaXNBcnJheShzY2hlbWEucmVxdWlyZWQpKSB7XG4gICAgc2NoZW1hLnJlcXVpcmVkLmZvckVhY2goZnVuY3Rpb24obil7XG4gICAgICBpZihnZXRFbnVtZXJhYmxlUHJvcGVydHkoaW5zdGFuY2UsIG4pPT09dW5kZWZpbmVkKXtcbiAgICAgICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgICAgICBuYW1lOiAncmVxdWlyZWQnLFxuICAgICAgICAgIGFyZ3VtZW50OiBuLFxuICAgICAgICAgIG1lc3NhZ2U6IFwicmVxdWlyZXMgcHJvcGVydHkgXCIgKyBKU09OLnN0cmluZ2lmeShuKSxcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIG1hdGNoZXMgdGhlIHJlZ3VsYXIgZXhwcmVzc2lvbiwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLnBhdHRlcm4gPSBmdW5jdGlvbiB2YWxpZGF0ZVBhdHRlcm4gKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuc3RyaW5nKGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICB2YXIgcGF0dGVybiA9IHNjaGVtYS5wYXR0ZXJuO1xuICB0cnkge1xuICAgIHZhciByZWdleHAgPSBuZXcgUmVnRXhwKHBhdHRlcm4sICd1Jyk7XG4gIH0gY2F0Y2goX2UpIHtcbiAgICAvLyBJbiB0aGUgZXZlbnQgdGhlIHN0cmljdGVyIGhhbmRsaW5nIGNhdXNlcyBhbiBlcnJvciwgZmFsbCBiYWNrIG9uIHRoZSBmb3JnaXZpbmcgaGFuZGxpbmdcbiAgICAvLyBERVBSRUNBVEVEXG4gICAgcmVnZXhwID0gbmV3IFJlZ0V4cChwYXR0ZXJuKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlLm1hdGNoKHJlZ2V4cCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ3BhdHRlcm4nLFxuICAgICAgYXJndW1lbnQ6IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuIFwiICsgSlNPTi5zdHJpbmdpZnkoc2NoZW1hLnBhdHRlcm4udG9TdHJpbmcoKSksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9mIGEgY2VydGFpbiBkZWZpbmVkIGZvcm1hdCBvciBhIGN1c3RvbVxuICogZm9ybWF0LlxuICogVGhlIGZvbGxvd2luZyBmb3JtYXRzIGFyZSBzdXBwb3J0ZWQgZm9yIHN0cmluZyB0eXBlczpcbiAqICAgLSBkYXRlLXRpbWVcbiAqICAgLSBkYXRlXG4gKiAgIC0gdGltZVxuICogICAtIGlwLWFkZHJlc3NcbiAqICAgLSBpcHY2XG4gKiAgIC0gdXJpXG4gKiAgIC0gY29sb3JcbiAqICAgLSBob3N0LW5hbWVcbiAqICAgLSBhbHBoYVxuICogICAtIGFscGhhLW51bWVyaWNcbiAqICAgLSB1dGMtbWlsbGlzZWNcbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHBhcmFtIHNjaGVtYVxuICogQHBhcmFtIFtvcHRpb25zXVxuICogQHBhcmFtIFtjdHhdXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5mb3JtYXQgPSBmdW5jdGlvbiB2YWxpZGF0ZUZvcm1hdCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZT09PXVuZGVmaW5lZCkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIXJlc3VsdC5kaXNhYmxlRm9ybWF0ICYmICFoZWxwZXJzLmlzRm9ybWF0KGluc3RhbmNlLCBzY2hlbWEuZm9ybWF0LCB0aGlzKSkge1xuICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICBuYW1lOiAnZm9ybWF0JyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBjb25mb3JtIHRvIHRoZSBcIiArIEpTT04uc3RyaW5naWZ5KHNjaGVtYS5mb3JtYXQpICsgXCIgZm9ybWF0XCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IGxlYXN0IG9mIGEgY2VydGFpbiBsZW5ndGgsIHdoZW4gdGhlIGluc3RhbmNlIHZhbHVlIGlzIGEgc3RyaW5nLlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5taW5MZW5ndGggPSBmdW5jdGlvbiB2YWxpZGF0ZU1pbkxlbmd0aCAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5zdHJpbmcoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPj0gc2NoZW1hLm1pbkxlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkxlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1pbkxlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtaW5pbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5taW5MZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIGF0IG1vc3Qgb2YgYSBjZXJ0YWluIGxlbmd0aCwgd2hlbiB0aGUgaW5zdGFuY2UgdmFsdWUgaXMgYSBzdHJpbmcuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1heExlbmd0aCA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4TGVuZ3RoIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKCF0aGlzLnR5cGVzLnN0cmluZyhpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgLy8gVE9ETyBpZiB0aGlzIHdhcyBhbHJlYWR5IGNvbXB1dGVkIGluIFwibWluTGVuZ3RoXCIsIHVzZSB0aGF0IHZhbHVlIGluc3RlYWQgb2YgcmUtY29tcHV0aW5nXG4gIHZhciBoc3AgPSBpbnN0YW5jZS5tYXRjaCgvW1xcdURDMDAtXFx1REZGRl0vZyk7XG4gIHZhciBsZW5ndGggPSBpbnN0YW5jZS5sZW5ndGggLSAoaHNwID8gaHNwLmxlbmd0aCA6IDApO1xuICBpZiAoIShsZW5ndGggPD0gc2NoZW1hLm1heExlbmd0aCkpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21heExlbmd0aCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heExlbmd0aCxcbiAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBtYXhpbXVtIGxlbmd0aCBvZiBcIiArIHNjaGVtYS5tYXhMZW5ndGgsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgYXQgbGVhc3QgYSBtaW5pbXVtIG51bWJlciBvZiBpdGVtcywgd2hlbiB0aGUgaW5zdGFuY2UgaXMgYW4gQXJyYXkuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEByZXR1cm4ge1N0cmluZ3xudWxsfVxuICovXG52YWxpZGF0b3JzLm1pbkl0ZW1zID0gZnVuY3Rpb24gdmFsaWRhdGVNaW5JdGVtcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5hcnJheShpbnN0YW5jZSkpIHJldHVybjtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCEoaW5zdGFuY2UubGVuZ3RoID49IHNjaGVtYS5taW5JdGVtcykpIHtcbiAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgbmFtZTogJ21pbkl0ZW1zJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWEubWluSXRlbXMsXG4gICAgICBtZXNzYWdlOiBcImRvZXMgbm90IG1lZXQgbWluaW11bSBsZW5ndGggb2YgXCIgKyBzY2hlbWEubWluSXRlbXMsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgaW5zdGFuY2UgY29udGFpbnMgbm8gbW9yZSB0aGFuIGEgbWF4aW11bSBudW1iZXIgb2YgaXRlbXMsIHdoZW4gdGhlIGluc3RhbmNlIGlzIGFuIEFycmF5LlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtTdHJpbmd8bnVsbH1cbiAqL1xudmFsaWRhdG9ycy5tYXhJdGVtcyA9IGZ1bmN0aW9uIHZhbGlkYXRlTWF4SXRlbXMgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICBpZiAoIXRoaXMudHlwZXMuYXJyYXkoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGlmICghKGluc3RhbmNlLmxlbmd0aCA8PSBzY2hlbWEubWF4SXRlbXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdtYXhJdGVtcycsXG4gICAgICBhcmd1bWVudDogc2NoZW1hLm1heEl0ZW1zLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBtZWV0IG1heGltdW0gbGVuZ3RoIG9mIFwiICsgc2NoZW1hLm1heEl0ZW1zLFxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59O1xuXG4vKipcbiAqIERlZXAgY29tcGFyZXMgYXJyYXlzIGZvciBkdXBsaWNhdGVzXG4gKiBAcGFyYW0gdlxuICogQHBhcmFtIGlcbiAqIEBwYXJhbSBhXG4gKiBAcHJpdmF0ZVxuICogQHJldHVybiB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gdGVzdEFycmF5cyAodiwgaSwgYSkge1xuICB2YXIgaiwgbGVuID0gYS5sZW5ndGg7XG4gIGZvciAoaiA9IGkgKyAxLCBsZW47IGogPCBsZW47IGorKykge1xuICAgIGlmIChoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHYsIGFbal0pKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vKipcbiAqIFZhbGlkYXRlcyB3aGV0aGVyIHRoZXJlIGFyZSBubyBkdXBsaWNhdGVzLCB3aGVuIHRoZSBpbnN0YW5jZSBpcyBhbiBBcnJheS5cbiAqIEBwYXJhbSBpbnN0YW5jZVxuICogQHJldHVybiB7U3RyaW5nfG51bGx9XG4gKi9cbnZhbGlkYXRvcnMudW5pcXVlSXRlbXMgPSBmdW5jdGlvbiB2YWxpZGF0ZVVuaXF1ZUl0ZW1zIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKHNjaGVtYS51bmlxdWVJdGVtcyE9PXRydWUpIHJldHVybjtcbiAgaWYgKCF0aGlzLnR5cGVzLmFycmF5KGluc3RhbmNlKSkgcmV0dXJuO1xuICB2YXIgcmVzdWx0ID0gbmV3IFZhbGlkYXRvclJlc3VsdChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpO1xuICBpZiAoIWluc3RhbmNlLmV2ZXJ5KHRlc3RBcnJheXMpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICd1bmlxdWVJdGVtcycsXG4gICAgICBtZXNzYWdlOiBcImNvbnRhaW5zIGR1cGxpY2F0ZSBpdGVtXCIsXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGUgZm9yIHRoZSBwcmVzZW5jZSBvZiBkZXBlbmRlbmN5IHByb3BlcnRpZXMsIGlmIHRoZSBpbnN0YW5jZSBpcyBhbiBvYmplY3QuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5kZXBlbmRlbmNpZXMgPSBmdW5jdGlvbiB2YWxpZGF0ZURlcGVuZGVuY2llcyAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmICghdGhpcy50eXBlcy5vYmplY3QoaW5zdGFuY2UpKSByZXR1cm47XG4gIHZhciByZXN1bHQgPSBuZXcgVmFsaWRhdG9yUmVzdWx0KGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCk7XG4gIGZvciAodmFyIHByb3BlcnR5IGluIHNjaGVtYS5kZXBlbmRlbmNpZXMpIHtcbiAgICBpZiAoaW5zdGFuY2VbcHJvcGVydHldID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICB2YXIgZGVwID0gc2NoZW1hLmRlcGVuZGVuY2llc1twcm9wZXJ0eV07XG4gICAgdmFyIGNoaWxkQ29udGV4dCA9IGN0eC5tYWtlQ2hpbGQoZGVwLCBwcm9wZXJ0eSk7XG4gICAgaWYgKHR5cGVvZiBkZXAgPT0gJ3N0cmluZycpIHtcbiAgICAgIGRlcCA9IFtkZXBdO1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZXApKSB7XG4gICAgICBkZXAuZm9yRWFjaChmdW5jdGlvbiAocHJvcCkge1xuICAgICAgICBpZiAoaW5zdGFuY2VbcHJvcF0gPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgICAgICAvLyBGSVhNRSB0aGVyZSdzIHR3byBkaWZmZXJlbnQgXCJkZXBlbmRlbmNpZXNcIiBlcnJvcnMgaGVyZSB3aXRoIHNsaWdodGx5IGRpZmZlcmVudCBvdXRwdXRzXG4gICAgICAgICAgICAvLyBDYW4gd2UgbWFrZSB0aGVzZSB0aGUgc2FtZT8gT3Igc2hvdWxkIHdlIGNyZWF0ZSBkaWZmZXJlbnQgZXJyb3IgdHlwZXM/XG4gICAgICAgICAgICBuYW1lOiAnZGVwZW5kZW5jaWVzJyxcbiAgICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgICAgbWVzc2FnZTogXCJwcm9wZXJ0eSBcIiArIHByb3AgKyBcIiBub3QgZm91bmQsIHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhciByZXMgPSB0aGlzLnZhbGlkYXRlU2NoZW1hKGluc3RhbmNlLCBkZXAsIG9wdGlvbnMsIGNoaWxkQ29udGV4dCk7XG4gICAgICBpZihyZXN1bHQuaW5zdGFuY2UgIT09IHJlcy5pbnN0YW5jZSkgcmVzdWx0Lmluc3RhbmNlID0gcmVzLmluc3RhbmNlO1xuICAgICAgaWYgKHJlcyAmJiByZXMuZXJyb3JzLmxlbmd0aCkge1xuICAgICAgICByZXN1bHQuYWRkRXJyb3Ioe1xuICAgICAgICAgIG5hbWU6ICdkZXBlbmRlbmNpZXMnLFxuICAgICAgICAgIGFyZ3VtZW50OiBjaGlsZENvbnRleHQucHJvcGVydHlQYXRoLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiZG9lcyBub3QgbWVldCBkZXBlbmRlbmN5IHJlcXVpcmVkIGJ5IFwiICsgY2hpbGRDb250ZXh0LnByb3BlcnR5UGF0aCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJlc3VsdC5pbXBvcnRFcnJvcnMocmVzKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIHZhbHVlIGlzIG9uZSBvZiB0aGUgZW51bWVyYXRlZCB2YWx1ZXMuXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snZW51bSddID0gZnVuY3Rpb24gdmFsaWRhdGVFbnVtIChpbnN0YW5jZSwgc2NoZW1hLCBvcHRpb25zLCBjdHgpIHtcbiAgaWYgKGluc3RhbmNlID09PSB1bmRlZmluZWQpIHtcbiAgICByZXR1cm4gbnVsbDtcbiAgfVxuICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hWydlbnVtJ10pKSB7XG4gICAgdGhyb3cgbmV3IFNjaGVtYUVycm9yKFwiZW51bSBleHBlY3RzIGFuIGFycmF5XCIsIHNjaGVtYSk7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFzY2hlbWFbJ2VudW0nXS5zb21lKGhlbHBlcnMuZGVlcENvbXBhcmVTdHJpY3QuYmluZChudWxsLCBpbnN0YW5jZSkpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdlbnVtJyxcbiAgICAgIGFyZ3VtZW50OiBzY2hlbWFbJ2VudW0nXSxcbiAgICAgIG1lc3NhZ2U6IFwiaXMgbm90IG9uZSBvZiBlbnVtIHZhbHVlczogXCIgKyBzY2hlbWFbJ2VudW0nXS5tYXAoU3RyaW5nKS5qb2luKCcsJyksXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn07XG5cbi8qKlxuICogVmFsaWRhdGVzIHdoZXRoZXIgdGhlIGluc3RhbmNlIGV4YWN0bHkgbWF0Y2hlcyBhIGdpdmVuIHZhbHVlXG4gKlxuICogQHBhcmFtIGluc3RhbmNlXG4gKiBAcGFyYW0gc2NoZW1hXG4gKiBAcmV0dXJuIHtWYWxpZGF0b3JSZXN1bHR8bnVsbH1cbiAqL1xudmFsaWRhdG9yc1snY29uc3QnXSA9IGZ1bmN0aW9uIHZhbGlkYXRlRW51bSAoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KSB7XG4gIGlmIChpbnN0YW5jZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgcmV0dXJuIG51bGw7XG4gIH1cbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgaWYgKCFoZWxwZXJzLmRlZXBDb21wYXJlU3RyaWN0KHNjaGVtYVsnY29uc3QnXSwgaW5zdGFuY2UpKSB7XG4gICAgcmVzdWx0LmFkZEVycm9yKHtcbiAgICAgIG5hbWU6ICdjb25zdCcsXG4gICAgICBhcmd1bWVudDogc2NoZW1hWydjb25zdCddLFxuICAgICAgbWVzc2FnZTogXCJkb2VzIG5vdCBleGFjdGx5IG1hdGNoIGV4cGVjdGVkIGNvbnN0YW50OiBcIiArIHNjaGVtYVsnY29uc3QnXSxcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufTtcblxuLyoqXG4gKiBWYWxpZGF0ZXMgd2hldGhlciB0aGUgaW5zdGFuY2UgaWYgb2YgYSBwcm9oaWJpdGVkIHR5cGUuXG4gKiBAcGFyYW0gaW5zdGFuY2VcbiAqIEBwYXJhbSBzY2hlbWFcbiAqIEBwYXJhbSBvcHRpb25zXG4gKiBAcGFyYW0gY3R4XG4gKiBAcmV0dXJuIHtudWxsfFZhbGlkYXRvclJlc3VsdH1cbiAqL1xudmFsaWRhdG9ycy5ub3QgPSB2YWxpZGF0b3JzLmRpc2FsbG93ID0gZnVuY3Rpb24gdmFsaWRhdGVOb3QgKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCkge1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIGlmKGluc3RhbmNlPT09dW5kZWZpbmVkKSByZXR1cm4gbnVsbDtcbiAgdmFyIHJlc3VsdCA9IG5ldyBWYWxpZGF0b3JSZXN1bHQoaW5zdGFuY2UsIHNjaGVtYSwgb3B0aW9ucywgY3R4KTtcbiAgdmFyIG5vdFR5cGVzID0gc2NoZW1hLm5vdCB8fCBzY2hlbWEuZGlzYWxsb3c7XG4gIGlmKCFub3RUeXBlcykgcmV0dXJuIG51bGw7XG4gIGlmKCFBcnJheS5pc0FycmF5KG5vdFR5cGVzKSkgbm90VHlwZXM9W25vdFR5cGVzXTtcbiAgbm90VHlwZXMuZm9yRWFjaChmdW5jdGlvbiAodHlwZSkge1xuICAgIGlmIChzZWxmLnRlc3RUeXBlKGluc3RhbmNlLCBzY2hlbWEsIG9wdGlvbnMsIGN0eCwgdHlwZSkpIHtcbiAgICAgIHZhciBpZCA9IHR5cGUgJiYgKHR5cGUuJGlkIHx8IHR5cGUuaWQpO1xuICAgICAgdmFyIHNjaGVtYUlkID0gaWQgfHwgdHlwZTtcbiAgICAgIHJlc3VsdC5hZGRFcnJvcih7XG4gICAgICAgIG5hbWU6ICdub3QnLFxuICAgICAgICBhcmd1bWVudDogc2NoZW1hSWQsXG4gICAgICAgIG1lc3NhZ2U6IFwiaXMgb2YgcHJvaGliaXRlZCB0eXBlIFwiICsgc2NoZW1hSWQsXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gcmVzdWx0O1xufTtcblxubW9kdWxlLmV4cG9ydHMgPSBhdHRyaWJ1dGU7XG4iLCJpbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vLi4vTmVvblZpZXcnO1xuaW1wb3J0IHsgTW9kYWxXaW5kb3dWaWV3IH0gZnJvbSAnLi4vTW9kYWxXaW5kb3cnO1xuXG5hc3luYyBmdW5jdGlvbiBzZXRCb2R5IChuZW9uVmlldzogTmVvblZpZXcpOiBQcm9taXNlPHZvaWQ+IHtcblxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKGAke19fQVNTRVRfUFJFRklYX199YXNzZXRzL3RlbXBsYXRlLmh0bWxgKTtcbiAgZG9jdW1lbnQuYm9keS5pbm5lckhUTUwgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaG9tZS1saW5rJykgYXMgSFRNTEFuY2hvckVsZW1lbnQpLmhyZWYgPSBfX0xJTktfTE9DQVRJT05fXztcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25lb24tdmVyc2lvbicpLnRleHRDb250ZW50ID0gX19ORU9OX1ZFUlNJT05fXztcbiAgKDxIVE1MSW1hZ2VFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmVvbi1tYWluLWljb24nKSkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL05lb25fSWNvbl8zLnN2Z2A7XG4gIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZXh0ZXJuYWwtbGluay1pY29uJykpLmZvckVhY2goKGVsKSA9PiB7XG4gICAgKDxIVE1MSW1hZ2VFbGVtZW50PiBlbCkuc3JjID0gYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL2V4dGVybmFsLWxpbmsuc3ZnYDtcbiAgfSk7XG5cbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbGVuYW1lJykuaW5uZXJUZXh0ID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIGRvY3VtZW50LnRpdGxlID0gbmVvblZpZXcubWFuaWZlc3QudGl0bGU7XG4gIFxuICAvLyBob3RrZXkgYnRuIG9uY2xpY2sgZXZlbnQgbGlzdGVuZXJcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hdmJhci1pdGVtLWhvdGtleXMnKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uKCkge1xuICAgIG5lb25WaWV3Lm1vZGFsLnNldE1vZGFsV2luZG93VmlldyhNb2RhbFdpbmRvd1ZpZXcuSE9US0VZUyk7XG4gICAgbmVvblZpZXcubW9kYWwub3Blbk1vZGFsV2luZG93KCk7XG4gIH0pO1xuXG4gIC8vIHNldCBpbml0aWFsIHNhdmVkIHN0YXR1c1xuICBjb25zdCBpbmRpY2F0b3IgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxEaXZFbGVtZW50PignI2ZpbGUtc2F2ZWQnKTtcbiAgaW5kaWNhdG9yLnNldEF0dHJpYnV0ZSgnc3JjJywgYCR7X19BU1NFVF9QUkVGSVhfX31hc3NldHMvaW1nL3NhdmVkLWljb24uc3ZnYCk7XG59XG5cbmV4cG9ydCB7IHNldEJvZHkgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0ICogYXMgRGlzcGxheUNvbnRyb2xzIGZyb20gJy4vRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuLi9TaW5nbGVWaWV3L1pvb20nO1xuaW1wb3J0IHsgRGlzcGxheUludGVyZmFjZSwgVmlld0ludGVyZmFjZSB9IGZyb20gJy4uL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBSZXR1cm4gdGhlIEhUTUwgZm9yIHRoZSBkaXNwbGF5IHBhbmVsLlxuICogQHBhcmFtIHtab29tSGFuZGxlcn0gaGFuZGxlWm9vbSAtIEluY2x1ZGVzIHpvb20gY29udHJvbHMgaWYgZGVmaW5lZC5cbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIGRpc3BsYXlDb250cm9sc1BhbmVsIChoYW5kbGVab29tOiBab29tSGFuZGxlcik6IHN0cmluZyB7XG4gIGxldCBjb250ZW50cyA9IGBcbiAgICA8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiIGlkPVwiZGlzcGxheUhlYWRlclwiPlxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmctdGl0bGVcIj5ESVNQTEFZPC9kaXY+XG4gICAgICA8c3ZnIGNsYXNzPVwiaWNvbiBpcy1wdWxsZWQtcmlnaHRcIj5cbiAgICAgICAgPHVzZSBpZD1cInRvZ2dsZURpc3BsYXlcIiBjbGFzcz1cInBhbmVsLWRyb3Bkb3duLWljb25cIiB4bGluazpocmVmPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvaWNvbnMuc3ZnI2Ryb3Bkb3duLWRvd25cIj48L3VzZT5cbiAgICAgIDwvc3ZnPlxuICAgIDwvZGl2PlxuICAgIDxkaXYgaWQ9XCJkaXNwbGF5Q29udGVudHNcIiBjbGFzcz1cInBhbmVsLWNvbnRlbnRzXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uIGZpcnN0LXN1YnNlY3Rpb25cIj5cbiAgYDtcblxuICBpZiAoaGFuZGxlWm9vbSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29udGVudHMgKz0gYFxuICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFuZC1zbGlkZXItYWN0aW9ucy1jb250YWluZXIgZGlzcGxheS1wYW5lbFwiIHN0eWxlPVwiY3Vyc29yOiBkZWZhdWx0XCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1hY3Rpb25zLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+Wm9vbTwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInJlc2V0LXpvb21cIiB0aXRsZT1cIlJlc2V0IHpvb20gc2V0dGluZ1wiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9hcnJvdy1yb3RhdGUtbGVmdC1zb2xpZC5zdmdcIj5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInNldC16b29tLWVhc3ktZWRpdFwiIHRpdGxlPVwiRml0IHRvIHBhZ2VcIj5cbiAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInNsaWRlci1idG4taW1nXCIgc3JjPVwiJHtfX0FTU0VUX1BSRUZJWF9ffWFzc2V0cy9pbWcvZXhwYW5kLWljb24uc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIHN0ZXA9XCI1XCIgbWluPVwiMjVcIiBtYXg9XCI0MDBcIiB2YWx1ZT1cIjEwMFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInJlc2V0LXpvb21cIlxuICAgICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgICBpZD1cInpvb21TbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgICBkaXNhYmxlZD1cImRpc2FibGVkXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8b3V0cHV0IGlkPVwiem9vbU91dHB1dFwiIGZvcj1cInpvb21TbGlkZXJcIj4xMDA8L291dHB1dD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+YDtcbiAgfVxuICBjb250ZW50cyArPSBgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lciBkaXNwbGF5LXBhbmVsXCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+R2x5cGggT3BhY2l0eTwvZGl2PlxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuIHNsaWRlci1idG5cIiBpZD1cInRvZ2dsZS1nbHlwaC1vcGFjaXR5XCI+XG4gICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJzbGlkZXItYnRuLWltZ1wiIHNyYz1cIiR7X19BU1NFVF9QUkVGSVhfX30vYXNzZXRzL2ltZy9oaWRlLWljb24uc3ZnXCI+XG4gICAgICAgICAgICA8L2J1dHRvbj4gICBcbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYW5nZVwiXG4gICAgICAgICAgICAgIHN0ZXA9XCI1XCIgbWluPVwiMFwiIG1heD1cIjEwMFwiIHZhbHVlPVwiMTAwXCJcbiAgICAgICAgICAgICAgYXJpYS1sYWJlbGxlZGJ5PVwidG9nZ2xlLWdseXBoLW9wYWNpdHlcIlxuICAgICAgICAgICAgICBjbGFzcz1cInNsaWRlciBpcy1mdWxsd2lkdGggaXMtbGFyZ2VcIlxuICAgICAgICAgICAgICBpZD1cIm9wYWNpdHlTbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxvdXRwdXQgaWQ9XCJvcGFjaXR5T3V0cHV0XCIgZm9yPVwib3BhY2l0eVNsaWRlclwiPjEwMDwvb3V0cHV0PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgXG4gICAgICAgIDxkaXYgY2xhc3M9XCJzbGlkZXItYW5kLXNsaWRlci1hY3Rpb25zLWNvbnRhaW5lciBkaXNwbGF5LXBhbmVsXCIgc3R5bGU9XCJjdXJzb3I6IGRlZmF1bHRcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwic2xpZGVyLWFjdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRpc3BsYXktc2xpZGVyLXRpdGxlXCI+SW1hZ2UgT3BhY2l0eTwvZGl2PiBcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0biBzbGlkZXItYnRuXCIgaWQ9XCJ0b2dnbGUtYmctb3BhY2l0eVwiPlxuICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwic2xpZGVyLWJ0bi1pbWdcIiBzcmM9XCIke19fQVNTRVRfUFJFRklYX199L2Fzc2V0cy9pbWcvaGlkZS1pY29uLnN2Z1wiPlxuICAgICAgICAgICAgPC9idXR0b24+ICAgXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInNsaWRlci1jb250YWluZXJcIj5cbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICBzdGVwPVwiNVwiIG1pbj1cIjBcIiBtYXg9XCIxMDBcIiB2YWx1ZT1cIjEwMFwiXG4gICAgICAgICAgICAgIGFyaWEtbGFiZWxsZWRieT1cInRvZ2dsZS1iZy1vcGFjaXR5XCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJzbGlkZXIgaXMtZnVsbHdpZHRoIGlzLWxhcmdlXCJcbiAgICAgICAgICAgICAgaWQ9XCJiZ09wYWNpdHlTbGlkZXJcIlxuICAgICAgICAgICAgICBzdHlsZT1cInBhZGRpbmctbGVmdDogMXJlbTsgcGFkZGluZy1yaWdodDogMXJlbTtcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxvdXRwdXQgaWQ9XCJiZ09wYWNpdHlPdXRwdXRcIiBmb3I9XCJiZ09wYWNpdHlTbGlkZXJcIj4xMDA8L291dHB1dD5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICAgIFxuICAgICAgPGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnQtc3Vic2VjdGlvblwiPlxuXG4gICAgICAgIDxkaXYgaWQ9XCJoaWdobGlnaHQtb3B0aW9ucy10aXRsZVwiIGNsYXNzPVwicGFuZWwtc3ViLXRpdGxlXCI+SGlnaGxpZ2h0IE9wdGlvbnM6PC9kaXY+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93blwiIGlkPVwiaGlnaGxpZ2h0LWRyb3Bkb3duXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImRyb3Bkb3duLXRyaWdnZXJcIj5cbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJzaWRlLXBhbmVsLWJ0blwiIGlkPVwiaGlnaGxpZ2h0LWJ1dHRvblwiIGFyaWEtaGFzcG9wdXA9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImhpZ2hsaWdodC1tZW51XCIgc3R5bGU9XCJ3aWR0aDogYXV0b1wiPlxuICAgICAgICAgICAgICA8c3Bhbj5IaWdobGlnaHQ8L3NwYW4+XG4gICAgICAgICAgICAgIDxzcGFuIGlkPVwiaGlnaGxpZ2h0LXR5cGVcIj4mbmJzcDstIE9mZjwvc3Bhbj5cbiAgICAgICAgICAgICAgPHN2ZyBjbGFzcz1cImljb25cIj5cbiAgICAgICAgICAgICAgICA8dXNlIGlkPVwidG9nZ2xlRGlzcGxheVwiIHhsaW5rOmhyZWY9XCIke19fQVNTRVRfUFJFRklYX199YXNzZXRzL2ltZy9pY29ucy5zdmcjZHJvcGRvd24tZG93blwiPjwvdXNlPlxuICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJkcm9wZG93bi1tZW51XCIgaWQ9XCJoaWdobGlnaHQtbWVudVwiIHJvbGU9XCJtZW51XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZHJvcGRvd24tY29udGVudFwiPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LXNlbGVjdGlvblwiPkJ5IFNlbGVjdGlvbiBNb2RlPC9hPlxuICAgICAgICAgICAgICA8aHIgY2xhc3M9XCJkcm9wZG93bi1kaXZpZGVyXCIvPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LXN0YWZmXCI+U3RhZmY8L2E+XG4gICAgICAgICAgICAgIDxhIGFyaWEtcm9sZT1cIm1lbnVpdGVtXCIgY2xhc3M9XCJkcm9wZG93bi1pdGVtXCIgaWQ9XCJoaWdobGlnaHQtc3lsbGFibGVcIj5TeWxsYWJsZTwvYT5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1uZXVtZVwiPk5ldW1lPC9hPlxuICAgICAgICAgICAgICA8YSBhcmlhLXJvbGU9XCJtZW51aXRlbVwiIGNsYXNzPVwiZHJvcGRvd24taXRlbVwiIGlkPVwiaGlnaGxpZ2h0LWxheWVyRWxlbWVudFwiPkxheWVyRWxlbWVudDwvYT5cbiAgICAgICAgICAgICAgPGhyIGNsYXNzPVwiZHJvcGRvd24tZGl2aWRlclwiLz5cbiAgICAgICAgICAgICAgPGEgYXJpYS1yb2xlPVwibWVudWl0ZW1cIiBjbGFzcz1cImRyb3Bkb3duLWl0ZW1cIiBpZD1cImhpZ2hsaWdodC1ub25lXCI+Tm9uZTwvYT5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudC1zdWJzZWN0aW9uXCI+XG4gICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktb3B0aW9ucy10aXRsZVwiIGNsYXNzPVwicGFuZWwtc3ViLXRpdGxlXCI+RGlzcGxheSBPcHRpb25zOjwvZGl2PlxuXG4gICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktb3B0aW9ucy1pdGVtc1wiPlxuXG4gICAgICAgICAgICA8ZGl2IGlkPVwiY2hlY2tib3gtZGlzcGxheS1vcHRpb25zXCI+XG5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktYWxsLWNvbnRhaW5lclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJkaXNwbGF5LW9wdGlvbnMtc2VwYXJhdG9yXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpZGUtcGFuZWwtYnRuXCIgaWQ9XCJkaXNwbGF5LWFsbC1idG5cIj5EaXNwbGF5IEFsbDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBpZD1cImRpc3BsYXktc2luZ2xlLWNvbnRhaW5lclwiPjwvZGl2PlxuXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuICAgICAgXG4gICAgPC9kaXY+YDtcblxuICByZXR1cm4gY29udGVudHM7XG59XG5cbi8qKlxuICogQSBjbGFzcyB0aGF0IHNldHMgdGhlIGNvbnRlbnQgb2YgdGhlIGRpc3BsYXkgcGFuZWwgdG8gdGhlIHJpZ2h0IGFuZFxuICogbWFuYWdlcyBjb250cm9scyBmb3Igdmlld2luZy5cbiAqL1xuY2xhc3MgRGlzcGxheVBhbmVsIGltcGxlbWVudHMgRGlzcGxheUludGVyZmFjZSB7XG4gIHZpZXc6IFZpZXdJbnRlcmZhY2U7XG4gIG1laUNsYXNzOiBzdHJpbmc7XG4gIGJhY2tncm91bmQ6IHN0cmluZztcbiAgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyO1xuXG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgRGlzcGxheVBhbmVsLlxuICAgKiBAcGFyYW0ge1NpbmdsZVZpZXcgfCBEaXZhVmlld30gdmlldyAtIFRoZSBWaWV3IHBhcmVudC5cbiAgICogQHBhcmFtIHtzdHJpbmd9IG1laSAtIFRoZSBjbGFzcyBuYW1lIGZvciB0aGUgU1ZHLXJlbmRlcmVkIE1FSS5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGJhY2tncm91bmQgLSBUaGUgY2xhc3MgbmFtZSBhc3NvY2lhdGVkIHdpdGggdGhlIGJhY2tncm91bmQuXG4gICAqIEBwYXJhbSB7Wm9vbUhhbmRsZXJ9IFt6b29tSGFuZGxlcl0gLSBUaGUgWm9vbUhhbmRsZXIgb2JqZWN0LCBpZiBTaW5nbGVWaWV3LlxuICAgKi9cbiAgY29uc3RydWN0b3IgKHZpZXc6IFZpZXdJbnRlcmZhY2UsIG1laTogc3RyaW5nLFxuICAgIGJhY2tncm91bmQ6IHN0cmluZywgem9vbUhhbmRsZXI6IFpvb21IYW5kbGVyID0gdW5kZWZpbmVkKSB7XG4gICAgdGhpcy52aWV3ID0gdmlldztcbiAgICB0aGlzLm1laUNsYXNzID0gbWVpO1xuICAgIHRoaXMuYmFja2dyb3VuZCA9IGJhY2tncm91bmQ7XG4gICAgdGhpcy56b29tSGFuZGxlciA9IHpvb21IYW5kbGVyO1xuXG4gICAgY29uc3QgZGlzcGxheVBhbmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlfY29udHJvbHMnKTtcbiAgICBkaXNwbGF5UGFuZWwuaW5uZXJIVE1MID0gZGlzcGxheUNvbnRyb2xzUGFuZWwodGhpcy56b29tSGFuZGxlcik7XG5cbiAgICB0aGlzLmxvYWRTZXR0aW5ncygpO1xuXG4gICAgdGhpcy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMudXBkYXRlVmlzdWFsaXphdGlvbi5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBcHBseSBldmVudCBsaXN0ZW5lcnMgcmVsYXRlZCB0byB0aGUgRGlzcGxheVBhbmVsLlxuICAgKi9cbiAgc2V0RGlzcGxheUxpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMuem9vbUhhbmRsZXIpIHtcbiAgICAgIC8vIFpvb20gaGFuZGxlciBzdHVmZlxuICAgICAgRGlzcGxheUNvbnRyb2xzLnNldFpvb21Db250cm9scyh0aGlzLnpvb21IYW5kbGVyKTtcbiAgICB9XG4gICAgRGlzcGxheUNvbnRyb2xzLmluaXREaXNwbGF5Q29udHJvbHModGhpcy5tZWlDbGFzcywgdGhpcy5iYWNrZ3JvdW5kKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBMb2FkIGxvY2FsU3RvcmFnZSB2YWx1ZXMgYmVmb3JlIFNWRyBpcyBsb2FkZWRcbiAgICogXG4gICAqIE5PVEU6IHRoaXMgZnVuY3Rpb24gb25seSBjYXVzZXMgdmlzdWFsIGNoYW5nZXMsIG5vdCBmdW5jdGlvbmFsIGNoYW5nZXMuXG4gICAqICAgIEZ1bmN0aW9uYWwgY2hhbmdlcyBhcmUgZG9uZSBpbiBzZXBhcmF0ZSBtb2R1bGVzIHdoaWNoIGRlcGVuZCBvbiBzcGVjaWZpYyBjb25kaXRpb25zLlxuICAgKi9cbiAgbG9hZFNldHRpbmdzICgpOiB2b2lkIHtcbiAgICBjb25zdCB7IHpvb20sIGdseXBoT3BhY2l0eSwgaW1hZ2VPcGFjaXR5LCBoaWdobGlnaHRNb2RlIH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIFxuICAgIC8vIFpvb21cbiAgICBpZiAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3pvb21PdXRwdXQnKSkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI3pvb21PdXRwdXQnKS52YWx1ZSA9IFN0cmluZyh6b29tKTtcbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyN6b29tU2xpZGVyJykudmFsdWUgPSBTdHJpbmcoem9vbSk7XG4gICAgfSAgICBcblxuICAgIC8vIEltYWdlIG9wYWNpdHlcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjYmdPcGFjaXR5T3V0cHV0JykudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjYmdPcGFjaXR5U2xpZGVyJykudmFsdWUgPSBTdHJpbmcoaW1hZ2VPcGFjaXR5KTtcblxuICAgIC8vIEdseXBoIG9wYWNpdHlcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjb3BhY2l0eU91dHB1dCcpLnZhbHVlID0gU3RyaW5nKGdseXBoT3BhY2l0eSk7XG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcjxIVE1MSW5wdXRFbGVtZW50PignI29wYWNpdHlTbGlkZXInKS52YWx1ZSA9IFN0cmluZyhnbHlwaE9wYWNpdHkpO1xuXG4gICAgLy8gSGlnaGxpZ2h0IG1vZGU6XG4gICAgLy8gVGV4dCA9IGNhcGl0YWxpemVkIHZlcnNpb24gb2YgaGlnaGxpZ2h0LSR7aWR9XG4gICAgY29uc3QgdGV4dCA9IGhpZ2hsaWdodE1vZGUgPT09ICdub25lJyA/ICdPZmYnIDogaGlnaGxpZ2h0TW9kZVswXS50b1VwcGVyQ2FzZSgpICsgaGlnaGxpZ2h0TW9kZS5zbGljZSgxKTtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaGlnaGxpZ2h0LXR5cGUnKS50ZXh0Q29udGVudCA9IGBcXHhBMC0gJHt0ZXh0fWA7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIFNWRyBiYXNlZCBvbiB2aXN1YWxpemF0aW9uIHNldHRpbmdzXG4gICAqL1xuICB1cGRhdGVWaXN1YWxpemF0aW9uICgpOiB2b2lkIHtcbiAgICBEaXNwbGF5Q29udHJvbHMuc2V0R2x5cGhPcGFjaXR5RnJvbVNsaWRlcih0aGlzLm1laUNsYXNzKTtcbiAgICBEaXNwbGF5Q29udHJvbHMuc2V0QmdPcGFjaXR5RnJvbVNsaWRlcih0aGlzLmJhY2tncm91bmQpO1xuICAgIERpc3BsYXlDb250cm9scy51cGRhdGVIaWdobGlnaHQoKTtcbiAgfVxufVxuXG5leHBvcnQgeyBEaXNwbGF5UGFuZWwgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IE5lb25WaWV3IGZyb20gJy4vTmVvblZpZXcnO1xuaW1wb3J0IERpc3BsYXlQYW5lbCBmcm9tICcuL0Rpc3BsYXlQYW5lbC9EaXNwbGF5UGFuZWwnO1xuaW1wb3J0IHsgRGlzcGxheUNvbnN0cnVjdGFibGUsIFZpZXdJbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IFpvb21IYW5kbGVyIGZyb20gJy4vU2luZ2xlVmlldy9ab29tJztcblxuaW1wb3J0IERpdmEgZnJvbSAnZGl2YS5qcyc7XG5cbi8qKlxuICogVmlldyBtb2R1bGUgdGhhdCB1c2VzIHRoZSBkaXZhLmpzIHZpZXdlciB0byByZW5kZXIgdGhlIHBhZ2VzIG9mIGEgSUlJRiBtYW5pZmVzdHNcbiAqIGFuZCB0aGVuIGRpc3BsYXkgdGhlIHJlbmRlcmVkIE1FSSBmaWxlcyBvdmVyIHRoZSBwcm9wZXIgcGFnZXMuXG4gKi9cbmNsYXNzIERpdmFWaWV3IGltcGxlbWVudHMgVmlld0ludGVyZmFjZSB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgLyoqIENhbGxiYWNrcyB0aGF0IHJ1biB3aGVuZXZlciB0aGUgZGlzcGxheSB1cGRhdGVzLiAqL1xuICBwcml2YXRlIHVwZGF0ZUNhbGxiYWNrczogQXJyYXk8KCkgPT4gdm9pZD47XG4gIGRpdmFSZWFkeTogYm9vbGVhbjtcbiAgLyoqIFRoZSBkaXZhLmpzIGluc3RhbmNlLiAqL1xuICBwcml2YXRlIGRpdmE6IERpdmE7XG4gIC8qKiBNYXAgemVyby1pbmRleCBwYWdlIG51bWJlcnMgdG8gdGhlIGFjdHVhbCBVUkkvSVJJIGlkZW50aWZpZXIuICovXG4gIHByaXZhdGUgaW5kZXhNYXA6IE1hcDxudW1iZXIsIHN0cmluZz47XG4gIHByaXZhdGUgZGlzcGxheVBhbmVsOiBEaXNwbGF5UGFuZWw7XG4gIC8qKiBUaW1lIHRvIHdhaXQgYWZ0ZXIgYSBwYWdlIGJlY29tZXMgYWN0aXZlIGJlZm9yZSBsb2FkaW5nIGl0LiBJbiBtaWxsaXNlY29uZHMuICovXG4gIHByaXZhdGUgbG9hZERlbGF5OiBudW1iZXI7XG4gIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcblxuICAvKipcbiAgICogQHBhcmFtIG1hbmlmZXN0IC0gVVJJL0lSSSB0byB0aGUgSUlJRiBtYW5pZmVzdC5cbiAgICovXG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcsIERpc3BsYXk6IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBtYW5pZmVzdDogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzID0gW107XG4gICAgdGhpcy5kaXZhUmVhZHkgPSBmYWxzZTtcbiAgICB0aGlzLmRpdmEgPSBuZXcgRGl2YSgnY29udGFpbmVyJywge1xuICAgICAgb2JqZWN0RGF0YTogbWFuaWZlc3RcbiAgICB9KTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY29udGFpbmVyJykuc3R5bGUubWluSGVpZ2h0ID0gJzEwMCUnO1xuICAgIHRoaXMuaW5kZXhNYXAgPSBuZXcgTWFwKCk7XG4gICAgdGhpcy5kaXZhLmRpc2FibGVEcmFnU2Nyb2xsYWJsZSgpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsID0gbmV3IERpc3BsYXkodGhpcywgJ25lb24tY29udGFpbmVyJywgJ2RpdmEtdmlld2VyLWNhbnZhcycpO1xuICAgIHRoaXMubG9hZERlbGF5ID0gNTAwOyAvLyBpbiBtaWxsaXNlY29uZHNcbiAgICB0aGlzLmluaXREaXZhRXZlbnRzKCk7XG5cbiAgICB3aW5kb3cub25yZXNpemUgPSAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zdCBoZWlnaHQgPSB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICBjb25zdCB3aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuXG4gICAgICB3aW5kb3cuc2V0VGltZW91dCgoKTogdm9pZCA9PiB7XG4gICAgICAgIGlmICgoaGVpZ2h0ID09PSB3aW5kb3cuaW5uZXJIZWlnaHQpICYmICh3aWR0aCA9PT0gd2luZG93LmlubmVyV2lkdGgpKSB7XG4gICAgICAgICAgdGhpcy5jaGFuZ2VQYWdlKHRoaXMuZ2V0Q3VycmVudFBhZ2UoKSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9LCB0aGlzLmxvYWREZWxheSk7XG4gICAgfTtcbiAgfVxuXG4gIC8qKlxuICAgKiBTZXQgdGhlIGxpc3RlbmVycyBmb3IgY2VydGFpbiBldmVudHMgaW50ZXJuYWwgdG8gZGl2YS5qc1xuICAgKi9cbiAgaW5pdERpdmFFdmVudHMgKCk6IHZvaWQge1xuICAgIERpdmEuRXZlbnRzLnN1YnNjcmliZSgnTWFuaWZlc3REaWRMb2FkJywgdGhpcy5wYXJzZU1hbmlmZXN0LmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdPYmplY3REaWRMb2FkJywgdGhpcy5kaWRMb2FkLmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdBY3RpdmVQYWdlRGlkQ2hhbmdlJywgdGhpcy5jaGFuZ2VQYWdlLmJpbmQodGhpcyksIHRoaXMuZGl2YS5zZXR0aW5ncy5JRCk7XG4gICAgRGl2YS5FdmVudHMuc3Vic2NyaWJlKCdab29tTGV2ZWxEaWRDaGFuZ2UnLCB0aGlzLmFkanVzdFpvb20uYmluZCh0aGlzKSwgdGhpcy5kaXZhLnNldHRpbmdzLklEKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgdmlzaWJsZSBwYWdlIGNoYW5nZXMgaW4gdGhlIGRpdmEuanMgdmlld2VyLlxuICAgKiBAcGFyYW0gcGFnZUluZGV4IC0gVGhlIHplcm8taW5kZXhlZCBwYWdlIHRoYXQgaXMgbW9zdCB2aXNpYmxlLlxuICAgKiBAcGFyYW0gZGVsYXkgLSBXaGV0aGVyIHRvIGRlbGF5IHRoZSBsb2FkaW5nIG9mIHRoZSBwYWdlIHNvIHRoYXQgbmVvbiBkb2Vzbid0IGxhZyB3aGlsZSBzY3JvbGxpbmcuXG4gICAqL1xuICBhc3luYyBjaGFuZ2VQYWdlIChwYWdlSW5kZXg6IG51bWJlciwgZGVsYXkgPSB0cnVlKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgZnVuY3Rpb24gY2hlY2tBbmRMb2FkIChwYWdlOiBudW1iZXIpOiB2b2lkIHtcbiAgICAgIGlmIChwYWdlID09PSB0aGlzLmdldEN1cnJlbnRQYWdlKCkpIHtcbiAgICAgICAgY29uc3QgcGFnZVVSSSA9IHRoaXMuaW5kZXhNYXAuZ2V0KHBhZ2UpO1xuICAgICAgICB0aGlzLm5lb25WaWV3LmdldFBhZ2VTVkcocGFnZVVSSSkudGhlbigoc3ZnOiBTVkdTVkdFbGVtZW50KSA9PiB7XG4gICAgICAgICAgdGhpcy51cGRhdGVTVkcoc3ZnLCBwYWdlKTtcbiAgICAgICAgICBjb25zdCBjb250YWluZXJJZCA9ICduZW9uLWNvbnRhaW5lci0nICsgcGFnZTtcbiAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG4gICAgICAgICAgaWYgKGNvbnRhaW5lciAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGFpbmVyLmNsYXNzTGlzdC5hZGQoJ2FjdGl2ZS1wYWdlJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZvckVhY2goKGNhbGxiYWNrOiBGdW5jdGlvbikgPT4gY2FsbGJhY2soKSk7XG4gICAgICAgIH0pLmNhdGNoKChlcnI6IHsgbmFtZTogc3RyaW5nIH0pID0+IHtcbiAgICAgICAgICBpZiAoZXJyLm5hbWUgIT09ICdub3RfZm91bmQnICYmIGVyci5uYW1lICE9PSAnbWlzc2luZ19tZWknKSB7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCBwYWdlSW5kZXhlcyA9IFtwYWdlSW5kZXhdO1xuICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlLXBhZ2UnKSkuZm9yRWFjaChlbGVtID0+IHtcbiAgICAgIGVsZW0uY2xhc3NMaXN0LnJlbW92ZSgnYWN0aXZlLXBhZ2UnKTtcbiAgICB9KTtcbiAgICBmb3IgKGNvbnN0IHBhZ2Ugb2YgcGFnZUluZGV4ZXMpIHtcbiAgICAgIGlmIChkZWxheSkge1xuICAgICAgICB3aW5kb3cuc2V0VGltZW91dChjaGVja0FuZExvYWQuYmluZCh0aGlzKSwgKHRoaXMubG9hZERlbGF5KSwgcGFnZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjaGVja0FuZExvYWQuYmluZCh0aGlzKShwYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgQWN0aXZlIHplcm8taW5kZXhlZCBwYWdlIGluIHRoZSBkaXZhLmpzIHZpZXdlci5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlICgpOiBudW1iZXIge1xuICAgIHJldHVybiB0aGlzLmRpdmEuZ2V0QWN0aXZlUGFnZUluZGV4KCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIGFjdGl2ZSBwYWdlIFVSSSBpbiB0aGUgZGl2YS5qcyB2aWV3ZXIuXG4gICAqL1xuICBnZXRDdXJyZW50UGFnZVVSSSAoKTogc3RyaW5nIHtcbiAgICByZXR1cm4gdGhpcy5pbmRleE1hcC5nZXQodGhpcy5nZXRDdXJyZW50UGFnZSgpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGp1c3QgdGhlIHJlbmRlcmVkIFNWRyhzKSB0byBiZSB0aGUgY29ycmVjdCBzaXplIGFmdGVyIHpvb21pbmcuXG4gICAqL1xuICBhZGp1c3Rab29tICgpOiB2b2lkIHtcbiAgICAobmV3IFByb21pc2UoKHJlc29sdmUpOiB2b2lkID0+IHtcbiAgICAgIEFycmF5LmZyb20oZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSlcbiAgICAgICAgLmZvckVhY2goKGVsZW06IEhUTUxFbGVtZW50KSA9PiB7IGVsZW0uc3R5bGUuZGlzcGxheSA9ICdub25lJzsgfSk7XG4gICAgICBzZXRUaW1lb3V0KHJlc29sdmUsIHRoaXMuZGl2YS5zZXR0aW5ncy56b29tRHVyYXRpb24gKyAxMDApO1xuICAgIH0pKS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuY2hhbmdlUGFnZSh0aGlzLmRpdmEuZ2V0QWN0aXZlUGFnZUluZGV4KCksIHRydWUpO1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpKVxuICAgICAgICAuZm9yRWFjaCgoZWxlbTogSFRNTEVsZW1lbnQpID0+IHtcbiAgICAgICAgICBjb25zdCBzdmcgPSBlbGVtLmZpcnN0Q2hpbGQgYXMgU1ZHU1ZHRWxlbWVudDtcbiAgICAgICAgICBjb25zdCBwYWdlTm8gPSBwYXJzZUludChlbGVtLmlkLm1hdGNoKC9cXGQrLylbMF0pO1xuICAgICAgICAgIHRoaXMudXBkYXRlU1ZHKHN2ZywgcGFnZU5vKTtcbiAgICAgICAgICBlbGVtLnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgICAgfSk7XG4gICAgfSk7XG4gIH1cblxuICBvblNWR0xvYWQgKCk6IHZvaWQge1xuICAgIHRoaXMuc2V0Vmlld0V2ZW50SGFuZGxlcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIFNWRyBiZWluZyBkaXNwbGF5ZWQgZm9yIHRoZSBzcGVjaWZpZWQgcGFnZS5cbiAgICogQHBhcmFtIHN2ZyAtIFRoZSBTVkcgb2YgdGhlIHBhZ2UgdG8gdXBkYXRlIHRvLlxuICAgKiBAcGFyYW0gcGFnZU5vIC0gVGhlIHplcm8taW5kZXhlZCBwYWdlIG51bWJlci5cbiAgICovXG4gIHVwZGF0ZVNWRyAoc3ZnOiBTVkdTVkdFbGVtZW50LCBwYWdlTm86IG51bWJlcik6IHZvaWQge1xuICAgIGNvbnN0IGlubmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RpdmEtMS1pbm5lcicpO1xuICAgIGNvbnN0IGRpbWVuc2lvbnMgPSB0aGlzLmRpdmEuZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwocGFnZU5vKTtcbiAgICBjb25zdCBvZmZzZXQgPSB0aGlzLmRpdmEuc2V0dGluZ3Mudmlld0hhbmRsZXIuX3ZpZXdlckNvcmUuZ2V0UGFnZVJlZ2lvbihwYWdlTm8sIHtcbiAgICAgIGluY2x1ZGVQYWRkaW5nOiB0cnVlLFxuICAgICAgaW5jb3Jwb3JhdGVWaWV3cG9ydDogdHJ1ZVxuICAgIH0pO1xuICAgIGNvbnN0IG1hcmdpbkxlZnQgPSB3aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShpbm5lciwgbnVsbClcbiAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpO1xuXG4gICAgY29uc3QgY29udGFpbmVySWQgPSAnbmVvbi1jb250YWluZXItJyArIHBhZ2VOby50b1N0cmluZygpO1xuICAgIGxldCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChjb250YWluZXJJZCk7XG4gICAgaWYgKGNvbnRhaW5lciA9PT0gbnVsbCkge1xuICAgICAgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICBjb250YWluZXIuaWQgPSBjb250YWluZXJJZDtcbiAgICAgIGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKCduZW9uLWNvbnRhaW5lcicpO1xuICAgICAgaW5uZXIuYXBwZW5kQ2hpbGQoY29udGFpbmVyKTtcbiAgICB9XG5cbiAgICB3aGlsZSAoY29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcbiAgICAgIGNvbnRhaW5lci5yZW1vdmVDaGlsZChjb250YWluZXIuZmlyc3RDaGlsZCk7XG4gICAgfVxuXG4gICAgc3ZnLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCBkaW1lbnNpb25zLndpZHRoLnRvU3RyaW5nKCkpO1xuICAgIHN2Zy5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIGRpbWVuc2lvbnMuaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgIGNvbnRhaW5lci5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgY29udGFpbmVyLnN0eWxlLnRvcCA9IGAke29mZnNldC50b3B9cHhgO1xuICAgIGNvbnRhaW5lci5zdHlsZS5sZWZ0ID0gYCR7b2Zmc2V0LmxlZnQgLSBwYXJzZUludChtYXJnaW5MZWZ0KX1weGA7XG5cbiAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoc3ZnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBGdW5jdGlvbiBjYWxsZWQgd2hlbiBkaXZhLmpzIGZpbmlzaGVzIGxvYWRpbmcuXG4gICAqL1xuICBkaWRMb2FkICgpOiB2b2lkIHtcbiAgICB0aGlzLmRpdmFSZWFkeSA9IHRydWU7XG4gICAgdGhpcy5kaXNwbGF5UGFuZWwuc2V0RGlzcGxheUxpc3RlbmVycygpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjYWxsYmFjayBmdW5jdGlvbiB0aGF0IHdpbGwgYmUgcnVuIHdoZW5ldmVyIGFuIFNWRyBpcyB1cGRhdGVkLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjYWxsYmFjayBmdW5jdGlvbiBwcmV2aW91c2x5IGFkZGVkIHRvIHRoZSBsaXN0IG9mIGZ1bmN0aW9ucyB0byBjYWxsLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICByZW1vdmVVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZpbmRJbmRleCgoZWxlbSkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW0gPT09IGNiO1xuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFNldCBsaXN0ZW5lcnMgb24gdGhlIGJvZHkgZWxlbWVudCBmb3IgZ2xvYmFsIGV2ZW50cy5cbiAgICovXG4gIHNldFZpZXdFdmVudEhhbmRsZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZm9yIChjb25zdCBjb250YWluZXIgb2YgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnbmVvbi1jb250YWluZXInKSBhcyBIVE1MQ29sbGVjdGlvbk9mPEhUTUxFbGVtZW50Pikge1xuICAgICAgICAgICAgY29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSAnaGlkZGVuJztcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IGJyZWFrO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRhaW5lciBvZiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCduZW9uLWNvbnRhaW5lcicpIGFzIEhUTUxDb2xsZWN0aW9uT2Y8SFRNTEVsZW1lbnQ+KSB7XG4gICAgICAgICAgICBjb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogVXNlIHRoZSBJSUlGIG1hbmlmZXN0IHRvIGNyZWF0ZSBhIG1hcCBiZXR3ZWVuIElJSUYgY2FudmFzZXMgYW5kIHBhZ2UgaW5kZXhlcy5cbiAgICogQHBhcmFtIG1hbmlmZXN0IC0gVGhlIElJSUYgbWFuaWZlc3Qgb2JqZWN0LlxuICAgKi9cbiAgcGFyc2VNYW5pZmVzdCAobWFuaWZlc3Q6IHsgc2VxdWVuY2VzOiB7IGNhbnZhc2VzOiBvYmplY3RbXSB9W10gfSk6IHZvaWQge1xuICAgIHRoaXMuaW5kZXhNYXAuY2xlYXIoKTtcbiAgICBmb3IgKGNvbnN0IHNlcXVlbmNlIG9mIG1hbmlmZXN0LnNlcXVlbmNlcykge1xuICAgICAgZm9yIChjb25zdCBjYW52YXMgb2Ygc2VxdWVuY2UuY2FudmFzZXMpIHtcbiAgICAgICAgdGhpcy5pbmRleE1hcC5zZXQoc2VxdWVuY2UuY2FudmFzZXMuaW5kZXhPZihjYW52YXMpLCBjYW52YXNbJ0BpZCddKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIG5hbWUgb2YgdGhlIGFjdGl2ZSBwYWdlL2NhbnZhcyBjb21iaW5lZCB3aXRoIHRoZSBtYW51c2NyaXB0IG5hbWUuXG4gICAqL1xuICBnZXRQYWdlTmFtZSAoKTogc3RyaW5nIHtcbiAgICBjb25zdCBtYW51c2NyaXB0TmFtZSA9IHRoaXMuZGl2YS5zZXR0aW5ncy5tYW5pZmVzdC5pdGVtVGl0bGU7XG4gICAgY29uc3QgcGFnZU5hbWUgPSB0aGlzLmRpdmEuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5nZXRDdXJyZW50UGFnZSgpXS5sO1xuICAgIHJldHVybiBtYW51c2NyaXB0TmFtZSArICcgXFx1MjAxNCAnICsgcGFnZU5hbWU7XG4gIH1cbn1cblxuZXhwb3J0IHsgRGl2YVZpZXcgYXMgZGVmYXVsdCB9O1xuIiwiLypcbiBUaGUgTUlUIExpY2Vuc2UgKE1JVClcbiBDb3B5cmlnaHQgKGMpIDwyMDExPiA8RGF2ZSBUYXlsb3IgaHR0cDovL3RoZS10YXlsb3JzLm9yZz5cblxuIFBlcm1pc3Npb24gaXMgaGVyZWJ5IGdyYW50ZWQsIGZyZWUgb2YgY2hhcmdlLCB0byBhbnkgcGVyc29uIG9idGFpbmluZyBhIGNvcHlcbiBvZiB0aGlzIHNvZnR3YXJlIGFuZCBhc3NvY2lhdGVkIGRvY3VtZW50YXRpb24gZmlsZXMgKHRoZSBcIlNvZnR3YXJlXCIpLCB0byBkZWFsXG4gaW4gdGhlIFNvZnR3YXJlIHdpdGhvdXQgcmVzdHJpY3Rpb24sIGluY2x1ZGluZyB3aXRob3V0IGxpbWl0YXRpb24gdGhlIHJpZ2h0c1xuIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBtZXJnZSwgcHVibGlzaCwgZGlzdHJpYnV0ZSwgc3VibGljZW5zZSwgYW5kL29yIHNlbGxcbiBjb3BpZXMgb2YgdGhlIFNvZnR3YXJlLCBhbmQgdG8gcGVybWl0IHBlcnNvbnMgdG8gd2hvbSB0aGUgU29mdHdhcmUgaXMgZnVybmlzaGVkXG4gdG8gZG8gc28sIHN1YmplY3QgdG8gdGhlIGZvbGxvd2luZyBjb25kaXRpb25zOlxuXG4gVGhlIGFib3ZlIGNvcHlyaWdodCBub3RpY2UgYW5kIHRoaXMgcGVybWlzc2lvbiBub3RpY2Ugc2hhbGwgYmUgaW5jbHVkZWQgaW4gYWxsXG4gY29waWVzIG9yIHN1YnN0YW50aWFsIHBvcnRpb25zIG9mIHRoZSBTb2Z0d2FyZS5cblxuIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1JcbiBJTVBMSUVELCBJTkNMVURJTkcgQlVUIE5PVCBMSU1JVEVEIFRPIFRIRSBXQVJSQU5USUVTIE9GIE1FUkNIQU5UQUJJTElUWSwgRklUTkVTU1xuIEZPUiBBIFBBUlRJQ1VMQVIgUFVSUE9TRSBBTkQgTk9OSU5GUklOR0VNRU5ULiBJTiBOTyBFVkVOVCBTSEFMTCBUSEUgQVVUSE9SUyBPUlxuIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLCBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUlxuIElOIEFOIEFDVElPTiBPRiBDT05UUkFDVCwgVE9SVCBPUiBPVEhFUldJU0UsIEFSSVNJTkcgRlJPTSwgT1VUIE9GIE9SIElOXG4gQ09OTkVDVElPTiBXSVRIIFRIRSBTT0ZUV0FSRSBPUiBUSEUgVVNFIE9SIE9USEVSIERFQUxJTkdTIElOIFRIRSBTT0ZUV0FSRS5cblxuIFBvcnQgdG8gdmFuaWxsYSBKYXZhc2NyaXB0IGJ5IEphY2VrIE5vd2Fja2kgaHR0cDovL2phY2VrLW5vd2Fja2kubmV0L1xuKiovXG5cbihmdW5jdGlvbigpIHtcbiAgICB2YXIgX3JhZiA9IHdpbmRvdy5yZXF1ZXN0QW5pbWF0aW9uRnJhbWU7XG5cbiAgICB2YXIgX2lzVG91Y2ggPSAnb250b3VjaGVuZCcgaW4gZG9jdW1lbnQ7XG5cbiAgICAvLyB0aGlzIGlzIHNpbXBsZSwgbm8gXCJkZWVwXCIgc3VwcG9ydFxuICAgIHZhciBfZXh0ZW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIGZvciAodmFyIGk9MTsgaTxhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAodmFyIGtleSBpbiBhcmd1bWVudHNbaV0pIHtcbiAgICAgICAgICAgICAgICBpZiAoYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzWzBdW2tleV0gPSBhcmd1bWVudHNbaV1ba2V5XTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFyZ3VtZW50c1swXTtcbiAgICB9O1xuXG4gICAgdmFyIFZhbmlsbGFLaW5ldGljID0gZnVuY3Rpb24oZWxlbWVudCwgc2V0dGluZ3MpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9leHRlbmQoe30sIFZhbmlsbGFLaW5ldGljLkRFRkFVTFRTLCBzZXR0aW5ncyk7XG4gICAgICAgIHRoaXMuZWwgICAgICAgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLkFDVElWRV9DTEFTUyA9IFwia2luZXRpYy1hY3RpdmVcIjtcblxuICAgICAgICB0aGlzLl9pbml0RWxlbWVudHMoKTtcblxuICAgICAgICB0aGlzLmVsLl9WYW5pbGxhS2luZXRpYyA9IHRoaXM7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5ERUZBVUxUUyA9IHtcbiAgICAgICAgY3Vyc29yOiAnbW92ZScsXG4gICAgICAgIGRlY2VsZXJhdGU6IHRydWUsXG4gICAgICAgIHRyaWdnZXJIYXJkd2FyZTogZmFsc2UsXG4gICAgICAgIHRocmVzaG9sZDogMCxcbiAgICAgICAgeTogdHJ1ZSxcbiAgICAgICAgeDogdHJ1ZSxcbiAgICAgICAgc2xvd2Rvd246IDAuOSxcbiAgICAgICAgbWF4dmVsb2NpdHk6IDQwLFxuICAgICAgICB0aHJvdHRsZUZQUzogNjAsXG4gICAgICAgIGludmVydDogZmFsc2UsXG4gICAgICAgIG1vdmluZ0NsYXNzOiB7XG4gICAgICAgICAgICB1cDogJ2tpbmV0aWMtbW92aW5nLXVwJyxcbiAgICAgICAgICAgIGRvd246ICdraW5ldGljLW1vdmluZy1kb3duJyxcbiAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLW1vdmluZy1sZWZ0JyxcbiAgICAgICAgICAgIHJpZ2h0OiAna2luZXRpYy1tb3ZpbmctcmlnaHQnXG4gICAgICAgIH0sXG4gICAgICAgIGRlY2VsZXJhdGluZ0NsYXNzOiB7XG4gICAgICAgICAgICB1cDogJ2tpbmV0aWMtZGVjZWxlcmF0aW5nLXVwJyxcbiAgICAgICAgICAgIGRvd246ICdraW5ldGljLWRlY2VsZXJhdGluZy1kb3duJyxcbiAgICAgICAgICAgIGxlZnQ6ICdraW5ldGljLWRlY2VsZXJhdGluZy1sZWZ0JyxcbiAgICAgICAgICAgIHJpZ2h0OiAna2luZXRpYy1kZWNlbGVyYXRpbmctcmlnaHQnXG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLy8gUHVibGljIGZ1bmN0aW9uc1xuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zdGFydCA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IF9leHRlbmQodGhpcy5zZXR0aW5ncywgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMudmVsb2NpdHkgPSBvcHRpb25zLnZlbG9jaXR5IHx8IHRoaXMudmVsb2NpdHk7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gb3B0aW9ucy52ZWxvY2l0eVkgfHwgdGhpcy52ZWxvY2l0eVk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZGVjZWxlcmF0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tb3ZlKCk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5lbmQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gMDtcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnNldHRpbmdzLnN0b3BwZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3Muc3RvcHBlZC5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5kZXRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy5fZGV0YWNoTGlzdGVuZXJzKCk7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLkFDVElWRV9DTEFTUyk7XG4gICAgICAgIHRoaXMuZWwuc3R5bGUuY3Vyc29yID0gJyc7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5hdHRhY2ggPSBmdW5jdGlvbigpIHtcbiAgICAgICAgaWYgKHRoaXMuZWwuY2xhc3NMaXN0LmNvbnRhaW5zKHRoaXMuQUNUSVZFX0NMQVNTKSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycygpO1xuICAgICAgICB0aGlzLmVsLmNsYXNzTGlzdC5hZGQodGhpcy5BQ1RJVkVfQ0xBU1MpO1xuICAgICAgICB0aGlzLmVsLnN0eWxlLmN1cnNvciA9IHRoaXMuc2V0dGluZ3MuY3Vyc29yO1xuICAgIH07XG5cbiAgICAvLyBJbnRlcm5hbCBmdW5jdGlvbnNcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5faW5pdEVsZW1lbnRzID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHRoaXMuZWwuY2xhc3NMaXN0LmFkZCh0aGlzLkFDVElWRV9DTEFTUyk7XG5cbiAgICAgICAgX2V4dGVuZCh0aGlzLCB7XG4gICAgICAgICAgICB4cG9zOiBudWxsLFxuICAgICAgICAgICAgcHJldlhQb3M6IGZhbHNlLFxuICAgICAgICAgICAgeXBvczogbnVsbCxcbiAgICAgICAgICAgIHByZXZZUG9zOiBmYWxzZSxcbiAgICAgICAgICAgIG1vdXNlRG93bjogZmFsc2UsXG4gICAgICAgICAgICB0aHJvdHRsZVRpbWVvdXQ6IDEwMDAgLyB0aGlzLnNldHRpbmdzLnRocm90dGxlRlBTLFxuICAgICAgICAgICAgbGFzdE1vdmU6IG51bGwsXG4gICAgICAgICAgICBlbGVtZW50Rm9jdXNlZDogbnVsbFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSAwO1xuXG4gICAgICAgIHZhciB0aGF0ID0gdGhpcztcbiAgICAgICAgdGhpcy5kb2N1bWVudFJlc2V0SGFuZGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgdGhhdC5fcmVzZXRNb3VzZS5hcHBseSh0aGF0KTtcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBGSVhNRSBtYWtlIHN1cmUgdG8gcmVtb3ZlIHRoaXNcbiAgICAgICAgdmFyIGh0bWwgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG4gICAgICAgIGh0bWwuYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNldXBcIiwgdGhpcy5kb2N1bWVudFJlc2V0SGFuZGxlciwgZmFsc2UpO1xuICAgICAgICBodG1sLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLmRvY3VtZW50UmVzZXRIYW5kbGVyLCBmYWxzZSk7XG5cbiAgICAgICAgdGhpcy5faW5pdEV2ZW50cygpO1xuXG4gICAgICAgIHRoaXMuZWwuc3R5bGUuY3Vyc29yID0gdGhpcy5zZXR0aW5ncy5jdXJzb3I7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudHJpZ2dlckhhcmR3YXJlKSB7XG4gICAgICAgICAgICB2YXIgcHJlZml4ZXMgPSBbJycsICctbXMtJywgJy13ZWJraXQtJywgJy1tb3otJ107XG4gICAgICAgICAgICB2YXIgc3R5bGVzID0ge1xuICAgICAgICAgICAgICAgICd0cmFuc2Zvcm0nOiAndHJhbnNsYXRlM2QoMCwwLDApJyxcbiAgICAgICAgICAgICAgICAncGVyc3BlY3RpdmUnOiAnMTAwMCcsIC8vIFRPRE8gaXMgdGhpcyBldmVuIHZhbGlkPyBpcyB0aGlzIGV2ZW4gbmVlZGVkP1xuICAgICAgICAgICAgICAgICdiYWNrZmFjZS12aXNpYmlsaXR5JzogJ2hpZGRlbidcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBmb3IgKHZhciBpPTA7IGk8cHJlZml4ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICB2YXIgcHJlZml4ID0gcHJlZml4ZXNbaV07XG4gICAgICAgICAgICAgICAgZm9yICh2YXIga2V5IGluIHN0eWxlcykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3R5bGVzLmhhc093blByb3BlcnR5KGtleSkpe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lbC5zdHlsZVtwcmVmaXgra2V5XSA9IHN0eWxlc1trZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5faW5pdEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MuZXZlbnRzID0ge1xuICAgICAgICAgICAgdG91Y2hTdGFydDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIHZhciB0b3VjaDtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICB0b3VjaCA9IGUub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRocmVzaG9sZCA9IHNlbGYuX3RocmVzaG9sZChlLnRhcmdldCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXJ0KHRvdWNoLmNsaWVudFgsIHRvdWNoLmNsaWVudFkpO1xuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b3VjaE1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgdG91Y2g7XG4gICAgICAgICAgICAgICAgaWYgKHNlbGYubW91c2VEb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIHRvdWNoID0gZS5vcmlnaW5hbEV2ZW50LnRvdWNoZXNbMF07XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2lucHV0bW92ZSh0b3VjaC5jbGllbnRYLCB0b3VjaC5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dERvd246IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLnRocmVzaG9sZCA9IHNlbGYuX3RocmVzaG9sZChlLnRhcmdldCwgZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX3N0YXJ0KGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5lbGVtZW50Rm9jdXNlZCA9IGUudGFyZ2V0O1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQubm9kZU5hbWUgPT09IFwiSU1HXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dEVuZDogZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgIGlmIChzZWxmLl91c2VUYXJnZXQoZS50YXJnZXQsIGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYuX2VuZCgpO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmVsZW1lbnRGb2N1c2VkID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpbnB1dE1vdmU6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5tb3VzZURvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5faW5wdXRtb3ZlKGUuY2xpZW50WCwgZS5jbGllbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUucHJldmVudERlZmF1bHQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY3JvbGw6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zZXR0aW5ncy5tb3ZlZC5jYWxsKHNlbGYsIHNlbGYuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlucHV0Q2xpY2s6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoTWF0aC5hYnMoc2VsZi52ZWxvY2l0eSkgPiAwIHx8IE1hdGguYWJzKHNlbGYudmVsb2NpdHlZKSA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5zdG9wUHJvcGFnYXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkcmFnU3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSAmJiBzZWxmLmVsZW1lbnRGb2N1c2VkKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnByZXZlbnREZWZhdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGUuc3RvcFByb3BhZ2F0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc2VsZWN0U3RhcnQ6IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNlbGYuc2V0dGluZ3Muc2VsZWN0U3RhcnQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNlbGYuc2V0dGluZ3Muc2VsZWN0U3RhcnQuYXBwbHkoc2VsZiwgYXJndW1lbnRzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2VsZi5fdXNlVGFyZ2V0KGUudGFyZ2V0LCBlKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS5wcmV2ZW50RGVmYXVsdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLnN0b3BQcm9wYWdhdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX2F0dGFjaExpc3RlbmVycygpO1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2lucHV0bW92ZSA9IGZ1bmN0aW9uKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgaWYgKCF0aGlzLmxhc3RNb3ZlIHx8IG5ldyBEYXRlKCkgPiBuZXcgRGF0ZSh0aGlzLmxhc3RNb3ZlLmdldFRpbWUoKSArIHRoaXMudGhyb3R0bGVUaW1lb3V0KSkge1xuICAgICAgICAgICAgdGhpcy5sYXN0TW92ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLm1vdXNlRG93biAmJiAodGhpcy54cG9zIHx8IHRoaXMueXBvcykpIHtcbiAgICAgICAgICAgICAgICB2YXIgbW92ZWRYID0gKGNsaWVudFggLSB0aGlzLnhwb3MpO1xuICAgICAgICAgICAgICAgIHZhciBtb3ZlZFkgPSAoY2xpZW50WSAtIHRoaXMueXBvcyk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW52ZXJ0KSB7XG4gICAgICAgICAgICAgICAgICAgIG1vdmVkWCAqPSAtMTtcbiAgICAgICAgICAgICAgICAgICAgbW92ZWRZICo9IC0xO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJlc2hvbGQ+MCkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbW92ZWQgPSBNYXRoLnNxcnQobW92ZWRYKm1vdmVkWCArIG1vdmVkWSptb3ZlZFkpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy50aHJlc2hvbGQ+bW92ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGhyZXNob2xkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5lbGVtZW50Rm9jdXNlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmVsZW1lbnRGb2N1c2VkLmJsdXIoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5lbGVtZW50Rm9jdXNlZCA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZWwuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICB0aGlzLnNldHRpbmdzLmRlY2VsZXJhdGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy52ZWxvY2l0eVkgPSAwO1xuXG4gICAgICAgICAgICAgICAgdmFyIHNjcm9sbExlZnQgPSB0aGlzLnNjcm9sbExlZnQoKTtcbiAgICAgICAgICAgICAgICB2YXIgc2Nyb2xsVG9wID0gdGhpcy5zY3JvbGxUb3AoKTtcblxuICAgICAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCh0aGlzLnNldHRpbmdzLnggPyBzY3JvbGxMZWZ0IC0gbW92ZWRYIDogc2Nyb2xsTGVmdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AodGhpcy5zZXR0aW5ncy55ID8gc2Nyb2xsVG9wIC0gbW92ZWRZIDogc2Nyb2xsVG9wKTtcblxuICAgICAgICAgICAgICAgIHRoaXMucHJldlhQb3MgPSB0aGlzLnhwb3M7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2WVBvcyA9IHRoaXMueXBvcztcbiAgICAgICAgICAgICAgICB0aGlzLnhwb3MgPSBjbGllbnRYO1xuICAgICAgICAgICAgICAgIHRoaXMueXBvcyA9IGNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9jYWxjdWxhdGVWZWxvY2l0aWVzKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0TW92ZUNsYXNzZXModGhpcy5zZXR0aW5ncy5tb3ZpbmdDbGFzcyk7XG5cbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5tb3ZlZC5jYWxsKHRoaXMsIHRoaXMuc2V0dGluZ3MpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2NhbGN1bGF0ZVZlbG9jaXRpZXMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdGhpcy52ZWxvY2l0eSA9IHRoaXMuX2NhcFZlbG9jaXR5KHRoaXMucHJldlhQb3MgLSB0aGlzLnhwb3MsIHRoaXMuc2V0dGluZ3MubWF4dmVsb2NpdHkpO1xuICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IHRoaXMuX2NhcFZlbG9jaXR5KHRoaXMucHJldllQb3MgLSB0aGlzLnlwb3MsIHRoaXMuc2V0dGluZ3MubWF4dmVsb2NpdHkpO1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbnZlcnQpIHtcbiAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgKj0gLTE7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5WSAqPSAtMTtcbiAgICAgICAgfVxuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX2VuZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICBpZiAodGhpcy54cG9zICYmIHRoaXMucHJldlhQb3MgJiYgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5kZWNlbGVyYXRlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX2NhbGN1bGF0ZVZlbG9jaXRpZXMoKTtcbiAgICAgICAgICAgIHRoaXMueHBvcyA9IHRoaXMucHJldlhQb3MgPSB0aGlzLm1vdXNlRG93biA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5fbW92ZSgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fdXNlVGFyZ2V0ID0gZnVuY3Rpb24odGFyZ2V0LCBldmVudCkge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3MuZmlsdGVyVGFyZ2V0ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5maWx0ZXJUYXJnZXQuY2FsbCh0aGlzLCB0YXJnZXQsIGV2ZW50KSAhPT0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl90aHJlc2hvbGQgPSBmdW5jdGlvbih0YXJnZXQsIGV2ZW50KSB7XG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy5zZXR0aW5ncy50aHJlc2hvbGQgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRocmVzaG9sZC5jYWxsKHRoaXMsIHRhcmdldCwgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnRocmVzaG9sZDtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9zdGFydCA9IGZ1bmN0aW9uKGNsaWVudFgsIGNsaWVudFkpIHtcbiAgICAgICAgdGhpcy5tb3VzZURvd24gPSB0cnVlO1xuICAgICAgICB0aGlzLnZlbG9jaXR5ID0gdGhpcy5wcmV2WFBvcyA9IDA7XG4gICAgICAgIHRoaXMudmVsb2NpdHlZID0gdGhpcy5wcmV2WVBvcyA9IDA7XG4gICAgICAgIHRoaXMueHBvcyA9IGNsaWVudFg7XG4gICAgICAgIHRoaXMueXBvcyA9IGNsaWVudFk7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fcmVzZXRNb3VzZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICB0aGlzLnhwb3MgPSBmYWxzZTtcbiAgICAgICAgdGhpcy55cG9zID0gZmFsc2U7XG4gICAgICAgIHRoaXMubW91c2VEb3duID0gZmFsc2U7XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5fZGVjZWxlcmF0ZVZlbG9jaXR5ID0gZnVuY3Rpb24odmVsb2NpdHksIHNsb3dkb3duKSB7XG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKE1hdGguYWJzKHZlbG9jaXR5KSkgPT09IDAgPyAwIC8vIGlzIHZlbG9jaXR5IGxlc3MgdGhhbiAxP1xuICAgICAgICAgICAgOiB2ZWxvY2l0eSAqIHNsb3dkb3duOyAvLyByZWR1Y2Ugc2xvd2Rvd25cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9jYXBWZWxvY2l0eSA9IGZ1bmN0aW9uKHZlbG9jaXR5LCBtYXgpIHtcbiAgICAgICAgdmFyIG5ld1ZlbG9jaXR5ID0gdmVsb2NpdHk7XG4gICAgICAgIGlmICh2ZWxvY2l0eSA+IDApe1xuICAgICAgICAgICAgaWYgKHZlbG9jaXR5ID4gbWF4KXtcbiAgICAgICAgICAgICAgICBuZXdWZWxvY2l0eSA9IG1heDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICh2ZWxvY2l0eSA8ICgwIC0gbWF4KSl7XG4gICAgICAgICAgICAgICAgbmV3VmVsb2NpdHkgPSAoMCAtIG1heCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ld1ZlbG9jaXR5O1xuICAgIH07XG5cbiAgICBWYW5pbGxhS2luZXRpYy5wcm90b3R5cGUuX3NldE1vdmVDbGFzc2VzID0gZnVuY3Rpb24oY2xhc3Nlcykge1xuICAgICAgICAvLyBUaGUgZml4LW1lIGNvbW1lbnQgYmVsb3cgaXMgZnJvbSBvcmlnaW5hbCBqUXVlcnkua2luZXRpYyBwcm9qZWN0XG4gICAgICAgIC8vIEZJWE1FOiBjb25zaWRlciBpZiB3ZSB3YW50IHRvIGFwcGx5IFBMICM0NCwgdGhpcyBzaG91bGQgbm90IHJlbW92ZVxuICAgICAgICAvLyBjbGFzc2VzIHdlIGhhdmUgbm90IGRlZmluZWQgb24gdGhlIGVsZW1lbnQhXG4gICAgICAgIHZhciBzZXR0aW5ncyA9IHRoaXMuc2V0dGluZ3M7XG4gICAgICAgIHZhciBlbCA9IHRoaXMuZWw7XG5cbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5tb3ZpbmdDbGFzcy51cCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MuZG93bik7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MubGVmdCk7XG4gICAgICAgIGVsLmNsYXNzTGlzdC5yZW1vdmUoc2V0dGluZ3MubW92aW5nQ2xhc3MucmlnaHQpO1xuICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKHNldHRpbmdzLmRlY2VsZXJhdGluZ0NsYXNzLnVwKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5kb3duKTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5sZWZ0KTtcbiAgICAgICAgZWwuY2xhc3NMaXN0LnJlbW92ZShzZXR0aW5ncy5kZWNlbGVyYXRpbmdDbGFzcy5yaWdodCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgPiAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5yaWdodCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMudmVsb2NpdHkgPCAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5sZWZ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eVkgPiAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy5kb3duKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy52ZWxvY2l0eVkgPCAwKXtcbiAgICAgICAgICAgIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3Nlcy51cCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9tb3ZlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuX2dldFNjcm9sbGVyKCk7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoc2V0dGluZ3MueCAmJiBzY3JvbGxlci5zY3JvbGxXaWR0aCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMuc2Nyb2xsTGVmdCh0aGlzLnNjcm9sbExlZnQoKSArIHRoaXMudmVsb2NpdHkpO1xuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHRoaXMudmVsb2NpdHkpID4gMCkge1xuICAgICAgICAgICAgICAgIHRoaXMudmVsb2NpdHkgPSBzZXR0aW5ncy5kZWNlbGVyYXRlID9cbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fZGVjZWxlcmF0ZVZlbG9jaXR5KHRoaXMudmVsb2NpdHksIHNldHRpbmdzLnNsb3dkb3duKSA6IHRoaXMudmVsb2NpdHk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnZlbG9jaXR5ID0gMDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZXR0aW5ncy55ICYmIHNjcm9sbGVyLnNjcm9sbEhlaWdodCA+IDApe1xuICAgICAgICAgICAgdGhpcy5zY3JvbGxUb3AodGhpcy5zY3JvbGxUb3AoKSArIHRoaXMudmVsb2NpdHlZKTtcbiAgICAgICAgICAgIGlmIChNYXRoLmFicyh0aGlzLnZlbG9jaXR5WSkgPiAwKXtcbiAgICAgICAgICAgICAgICB0aGlzLnZlbG9jaXR5WSA9IHNldHRpbmdzLmRlY2VsZXJhdGUgP1xuICAgICAgICAgICAgICAgICAgICBzZWxmLl9kZWNlbGVyYXRlVmVsb2NpdHkodGhpcy52ZWxvY2l0eVksIHNldHRpbmdzLnNsb3dkb3duKSA6IHRoaXMudmVsb2NpdHlZO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy52ZWxvY2l0eVkgPSAwO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5fc2V0TW92ZUNsYXNzZXMoc2V0dGluZ3MuZGVjZWxlcmF0aW5nQ2xhc3MpO1xuXG4gICAgICAgIGlmICh0eXBlb2Ygc2V0dGluZ3MubW92ZWQgPT09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgc2V0dGluZ3MubW92ZWQuY2FsbCh0aGlzLCBzZXR0aW5ncyk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoTWF0aC5hYnModGhpcy52ZWxvY2l0eSkgPiAwIHx8IE1hdGguYWJzKHRoaXMudmVsb2NpdHlZKSA+IDApe1xuICAgICAgICAgICAgaWYgKCF0aGlzLm1vdmluZykge1xuICAgICAgICAgICAgICAgIHRoaXMubW92aW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAvLyB0aWNrIGZvciBuZXh0IG1vdmVtZW50XG4gICAgICAgICAgICAgICAgX3JhZihmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5tb3ZpbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5fbW92ZSgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgc2VsZi5zdG9wKCk7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9nZXRTY3JvbGxlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBGSVhNRSB3ZSBtYXkgd2FudCB0byBub3JtYWxpemUgYmVoYXZpb3VyIGFjcm9zcyBicm93c2VycyBhcyBpbiBvcmlnaW5hbCBqUXVlcnkua2luZXRpY1xuICAgICAgICAvLyBjdXJyZW50bHkgdGhpcyB3b24ndCB3b3JrIGNvcnJlY3RseSBvbiBhbGwgYnJ3b3NlcnMgd2hlbiBhdHRhY2hlZCB0byBodG1sIG9yIGJvZHkgZWxlbWVudFxuICAgICAgICByZXR1cm4gdGhpcy5lbDtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLnNjcm9sbExlZnQgPSBmdW5jdGlvbihsZWZ0KSB7XG4gICAgICAgIHZhciBzY3JvbGxlciA9IHRoaXMuX2dldFNjcm9sbGVyKCk7XG4gICAgICAgIGlmICh0eXBlb2YgbGVmdCA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICAgIHNjcm9sbGVyLnNjcm9sbExlZnQgPSBsZWZ0O1xuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5zY3JvbGxMZWZ0ID0gbGVmdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxlci5zY3JvbGxMZWZ0O1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIFZhbmlsbGFLaW5ldGljLnByb3RvdHlwZS5zY3JvbGxUb3AgPSBmdW5jdGlvbih0b3ApIHtcbiAgICAgICAgdmFyIHNjcm9sbGVyID0gdGhpcy5fZ2V0U2Nyb2xsZXIoKTtcbiAgICAgICAgaWYgKHR5cGVvZiB0b3AgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICBzY3JvbGxlci5zY3JvbGxUb3AgPSB0b3A7XG4gICAgICAgICAgICB0aGlzLnNldHRpbmdzLnNjcm9sbFRvcCA9IHRvcDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzY3JvbGxlci5zY3JvbGxUb3A7XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9hdHRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoX2lzVG91Y2gpIHtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hTdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNldHRpbmdzLmV2ZW50cy50b3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNldHRpbmdzLmV2ZW50cy5pbnB1dERvd24sIGZhbHNlKTtcbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRNb3ZlLCBmYWxzZSk7XG5cbiAgICAgICAgZWwuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRDbGljaywgZmFsc2UpO1xuICAgICAgICBlbC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXR0aW5ncy5ldmVudHMuc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnNlbGVjdFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIGVsLmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5kcmFnU3RhcnQsIGZhbHNlKTtcbiAgICB9O1xuXG4gICAgVmFuaWxsYUtpbmV0aWMucHJvdG90eXBlLl9kZXRhY2hMaXN0ZW5lcnMgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGVsID0gdGhpcy5lbDtcbiAgICAgICAgdmFyIHNldHRpbmdzID0gdGhpcy5zZXR0aW5ncztcblxuICAgICAgICBpZiAoX2lzVG91Y2gpIHtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNoc3RhcnQnLCBzZXR0aW5ncy5ldmVudHMudG91Y2hTdGFydCwgZmFsc2UpO1xuICAgICAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcigndG91Y2hlbmQnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRFbmQsIGZhbHNlKTtcbiAgICAgICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3RvdWNobW92ZScsIHNldHRpbmdzLmV2ZW50cy50b3VjaE1vdmUsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIHNldHRpbmdzLmV2ZW50cy5pbnB1dERvd24sIGZhbHNlKTtcbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIHNldHRpbmdzLmV2ZW50cy5pbnB1dEVuZCwgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW1vdmUnLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRNb3ZlLCBmYWxzZSk7XG5cbiAgICAgICAgZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBzZXR0aW5ncy5ldmVudHMuaW5wdXRDbGljaywgZmFsc2UpO1xuICAgICAgICBlbC5yZW1vdmVFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBzZXR0aW5ncy5ldmVudHMuc2Nyb2xsLCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3NlbGVjdHN0YXJ0Jywgc2V0dGluZ3MuZXZlbnRzLnNlbGVjdFN0YXJ0LCBmYWxzZSk7XG4gICAgICAgIGVsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIHNldHRpbmdzLmV2ZW50cy5kcmFnU3RhcnQsIGZhbHNlKTtcbiAgICB9O1xuXG5cbiAgICB3aW5kb3cuVmFuaWxsYUtpbmV0aWMgPSBWYW5pbGxhS2luZXRpYztcbn0pKCk7XG4iLCIvKipcbiAqIEBmaWxlb3ZlcnZpZXcgZHJhZ3Njcm9sbCAtIHNjcm9sbCBhcmVhIGJ5IGRyYWdnaW5nXG4gKiBAdmVyc2lvbiAwLjAuOFxuICpcbiAqIEBsaWNlbnNlIE1JVCwgc2VlIGh0dHA6Ly9naXRodWIuY29tL2FzdmQvZHJhZ3Njcm9sbFxuICogQGNvcHlyaWdodCAyMDE1IGFzdmQgPGhlbGlvc2ZyYW1ld29ya0BnbWFpbC5jb20+XG4gKi9cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSlcbntcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKVxuICAgIHtcbiAgICAgICAgZGVmaW5lKFsnZXhwb3J0cyddLCBmYWN0b3J5KTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKVxuICAgIHtcbiAgICAgICAgZmFjdG9yeShleHBvcnRzKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgZmFjdG9yeSgocm9vdC5kcmFnc2Nyb2xsID0ge30pKTtcbiAgICB9XG59KHRoaXMsIGZ1bmN0aW9uIChleHBvcnRzKVxue1xuICAgIHZhciBfd2luZG93ID0gd2luZG93O1xuICAgIHZhciBfZG9jdW1lbnQgPSBkb2N1bWVudDtcbiAgICB2YXIgbW91c2Vtb3ZlID0gJ21vdXNlbW92ZSc7XG4gICAgdmFyIG1vdXNldXAgPSAnbW91c2V1cCc7XG4gICAgdmFyIG1vdXNlZG93biA9ICdtb3VzZWRvd24nO1xuICAgIHZhciBFdmVudExpc3RlbmVyID0gJ0V2ZW50TGlzdGVuZXInO1xuICAgIHZhciBhZGRFdmVudExpc3RlbmVyID0gJ2FkZCcgKyBFdmVudExpc3RlbmVyO1xuICAgIHZhciByZW1vdmVFdmVudExpc3RlbmVyID0gJ3JlbW92ZScgKyBFdmVudExpc3RlbmVyO1xuICAgIHZhciBuZXdTY3JvbGxYLCBuZXdTY3JvbGxZOyAvLyBqc2hpbnQgaWdub3JlOmxpbmVcblxuICAgIHZhciBkcmFnZ2VkID0gW107XG5cbiAgICB2YXIgcmVzZXQgPSBmdW5jdGlvbiAoaSwgZWwpXG4gICAge1xuICAgICAgICBmb3IgKGkgPSAwOyBpIDwgZHJhZ2dlZC5sZW5ndGg7KVxuICAgICAgICB7XG4gICAgICAgICAgICBlbCA9IGRyYWdnZWRbaSsrXTtcbiAgICAgICAgICAgIGVsID0gZWwuY29udGFpbmVyIHx8IGVsO1xuICAgICAgICAgICAgZWxbcmVtb3ZlRXZlbnRMaXN0ZW5lcl0obW91c2Vkb3duLCBlbC5tZCwgMCk7XG4gICAgICAgICAgICBfd2luZG93W3JlbW92ZUV2ZW50TGlzdGVuZXJdKG1vdXNldXAsIGVsLm11LCAwKTtcbiAgICAgICAgICAgIF93aW5kb3dbcmVtb3ZlRXZlbnRMaXN0ZW5lcl0obW91c2Vtb3ZlLCBlbC5tbSwgMCk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBzdXBwcmVzcyB3YXJuaW5nIGFib3V0IGZ1bmN0aW9ucyBpbiBsb29wcy5cbiAgICAgICAgLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuICAgICAgICAvLyBjbG9uaW5nIGludG8gYXJyYXkgc2luY2UgSFRNTENvbGxlY3Rpb24gaXMgdXBkYXRlZCBkeW5hbWljYWxseVxuICAgICAgICBkcmFnZ2VkID0gW10uc2xpY2UuY2FsbChfZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZHJhZ3Njcm9sbCcpKTtcbiAgICAgICAgZm9yIChpID0gMDsgaSA8IGRyYWdnZWQubGVuZ3RoOylcbiAgICAgICAge1xuICAgICAgICAgICAgKGZ1bmN0aW9uIChlbCwgbGFzdENsaWVudFgsIGxhc3RDbGllbnRZLCBwdXNoZWQsIHNjcm9sbGVyLCBjb250KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIChjb250ID0gZWwuY29udGFpbmVyIHx8IGVsKVthZGRFdmVudExpc3RlbmVyXShcbiAgICAgICAgICAgICAgICAgICAgbW91c2Vkb3duLFxuICAgICAgICAgICAgICAgICAgICBjb250Lm1kID0gZnVuY3Rpb24gKGUpXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZWwuaGFzQXR0cmlidXRlKCdub2NoaWxkZHJhZycpIHx8IF9kb2N1bWVudC5lbGVtZW50RnJvbVBvaW50KGUucGFnZVgsIGUucGFnZVkpID09PSBjb250KVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHB1c2hlZCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENsaWVudFggPSBlLmNsaWVudFg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGFzdENsaWVudFkgPSBlLmNsaWVudFk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0sIDBcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgICAgICAgICAgX3dpbmRvd1thZGRFdmVudExpc3RlbmVyXShtb3VzZXVwLCBjb250Lm11ID0gZnVuY3Rpb24gKClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHVzaGVkID0gMDtcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgICAgICBfd2luZG93W2FkZEV2ZW50TGlzdGVuZXJdKG1vdXNlbW92ZSwgY29udC5tbSA9IGZ1bmN0aW9uIChlKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocHVzaGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxlciA9IGVsLnNjcm9sbGVyIHx8IGVsKS5zY3JvbGxMZWZ0IC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njcm9sbFggPSAoLWxhc3RDbGllbnRYICsgKGxhc3RDbGllbnRYID0gZS5jbGllbnRYKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsVG9wIC09XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5ld1Njcm9sbFkgPSAoLWxhc3RDbGllbnRZICsgKGxhc3RDbGllbnRZID0gZS5jbGllbnRZKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVsID09PSBfZG9jdW1lbnQuYm9keSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIChzY3JvbGxlciA9IF9kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpLnNjcm9sbExlZnQgLT0gbmV3U2Nyb2xsWDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsZXIuc2Nyb2xsVG9wIC09IG5ld1Njcm9sbFk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH0pKGRyYWdnZWRbaSsrXSk7XG4gICAgICAgIH1cbiAgICAgICAgLyoganNoaW50IGlnbm9yZTplbmQgKi9cbiAgICB9O1xuXG4gICAgaWYgKF9kb2N1bWVudC5yZWFkeVN0YXRlID09PSAnY29tcGxldGUnKVxuICAgIHtcbiAgICAgICAgcmVzZXQoKTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgX3dpbmRvd1thZGRFdmVudExpc3RlbmVyXSgnbG9hZCcsIHJlc2V0LCAwKTtcbiAgICB9XG5cbiAgICBleHBvcnRzLnJlc2V0ID0gcmVzZXQ7XG4gICAgd2luZG93LnJlc2V0RHJhZ3Njcm9sbCA9IHJlc2V0O1xufSkpO1xuIiwiXG4vKipcbiAqIFRoaXMgaXMgdGhlIGNvbW1vbiBsb2dpYyBmb3IgYm90aCB0aGUgTm9kZS5qcyBhbmQgd2ViIGJyb3dzZXJcbiAqIGltcGxlbWVudGF0aW9ucyBvZiBgZGVidWcoKWAuXG4gKi9cblxuZnVuY3Rpb24gc2V0dXAoZW52KSB7XG5cdGNyZWF0ZURlYnVnLmRlYnVnID0gY3JlYXRlRGVidWc7XG5cdGNyZWF0ZURlYnVnLmRlZmF1bHQgPSBjcmVhdGVEZWJ1Zztcblx0Y3JlYXRlRGVidWcuY29lcmNlID0gY29lcmNlO1xuXHRjcmVhdGVEZWJ1Zy5kaXNhYmxlID0gZGlzYWJsZTtcblx0Y3JlYXRlRGVidWcuZW5hYmxlID0gZW5hYmxlO1xuXHRjcmVhdGVEZWJ1Zy5lbmFibGVkID0gZW5hYmxlZDtcblx0Y3JlYXRlRGVidWcuaHVtYW5pemUgPSByZXF1aXJlKCdtcycpO1xuXHRjcmVhdGVEZWJ1Zy5kZXN0cm95ID0gZGVzdHJveTtcblxuXHRPYmplY3Qua2V5cyhlbnYpLmZvckVhY2goa2V5ID0+IHtcblx0XHRjcmVhdGVEZWJ1Z1trZXldID0gZW52W2tleV07XG5cdH0pO1xuXG5cdC8qKlxuXHQqIFRoZSBjdXJyZW50bHkgYWN0aXZlIGRlYnVnIG1vZGUgbmFtZXMsIGFuZCBuYW1lcyB0byBza2lwLlxuXHQqL1xuXG5cdGNyZWF0ZURlYnVnLm5hbWVzID0gW107XG5cdGNyZWF0ZURlYnVnLnNraXBzID0gW107XG5cblx0LyoqXG5cdCogTWFwIG9mIHNwZWNpYWwgXCIlblwiIGhhbmRsaW5nIGZ1bmN0aW9ucywgZm9yIHRoZSBkZWJ1ZyBcImZvcm1hdFwiIGFyZ3VtZW50LlxuXHQqXG5cdCogVmFsaWQga2V5IG5hbWVzIGFyZSBhIHNpbmdsZSwgbG93ZXIgb3IgdXBwZXItY2FzZSBsZXR0ZXIsIGkuZS4gXCJuXCIgYW5kIFwiTlwiLlxuXHQqL1xuXHRjcmVhdGVEZWJ1Zy5mb3JtYXR0ZXJzID0ge307XG5cblx0LyoqXG5cdCogU2VsZWN0cyBhIGNvbG9yIGZvciBhIGRlYnVnIG5hbWVzcGFjZVxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2UgVGhlIG5hbWVzcGFjZSBzdHJpbmcgZm9yIHRoZSBkZWJ1ZyBpbnN0YW5jZSB0byBiZSBjb2xvcmVkXG5cdCogQHJldHVybiB7TnVtYmVyfFN0cmluZ30gQW4gQU5TSSBjb2xvciBjb2RlIGZvciB0aGUgZ2l2ZW4gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHNlbGVjdENvbG9yKG5hbWVzcGFjZSkge1xuXHRcdGxldCBoYXNoID0gMDtcblxuXHRcdGZvciAobGV0IGkgPSAwOyBpIDwgbmFtZXNwYWNlLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRoYXNoID0gKChoYXNoIDw8IDUpIC0gaGFzaCkgKyBuYW1lc3BhY2UuY2hhckNvZGVBdChpKTtcblx0XHRcdGhhc2ggfD0gMDsgLy8gQ29udmVydCB0byAzMmJpdCBpbnRlZ2VyXG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNyZWF0ZURlYnVnLmNvbG9yc1tNYXRoLmFicyhoYXNoKSAlIGNyZWF0ZURlYnVnLmNvbG9ycy5sZW5ndGhdO1xuXHR9XG5cdGNyZWF0ZURlYnVnLnNlbGVjdENvbG9yID0gc2VsZWN0Q29sb3I7XG5cblx0LyoqXG5cdCogQ3JlYXRlIGEgZGVidWdnZXIgd2l0aCB0aGUgZ2l2ZW4gYG5hbWVzcGFjZWAuXG5cdCpcblx0KiBAcGFyYW0ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQHJldHVybiB7RnVuY3Rpb259XG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gY3JlYXRlRGVidWcobmFtZXNwYWNlKSB7XG5cdFx0bGV0IHByZXZUaW1lO1xuXHRcdGxldCBlbmFibGVPdmVycmlkZSA9IG51bGw7XG5cdFx0bGV0IG5hbWVzcGFjZXNDYWNoZTtcblx0XHRsZXQgZW5hYmxlZENhY2hlO1xuXG5cdFx0ZnVuY3Rpb24gZGVidWcoLi4uYXJncykge1xuXHRcdFx0Ly8gRGlzYWJsZWQ/XG5cdFx0XHRpZiAoIWRlYnVnLmVuYWJsZWQpIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXG5cdFx0XHRjb25zdCBzZWxmID0gZGVidWc7XG5cblx0XHRcdC8vIFNldCBgZGlmZmAgdGltZXN0YW1wXG5cdFx0XHRjb25zdCBjdXJyID0gTnVtYmVyKG5ldyBEYXRlKCkpO1xuXHRcdFx0Y29uc3QgbXMgPSBjdXJyIC0gKHByZXZUaW1lIHx8IGN1cnIpO1xuXHRcdFx0c2VsZi5kaWZmID0gbXM7XG5cdFx0XHRzZWxmLnByZXYgPSBwcmV2VGltZTtcblx0XHRcdHNlbGYuY3VyciA9IGN1cnI7XG5cdFx0XHRwcmV2VGltZSA9IGN1cnI7XG5cblx0XHRcdGFyZ3NbMF0gPSBjcmVhdGVEZWJ1Zy5jb2VyY2UoYXJnc1swXSk7XG5cblx0XHRcdGlmICh0eXBlb2YgYXJnc1swXSAhPT0gJ3N0cmluZycpIHtcblx0XHRcdFx0Ly8gQW55dGhpbmcgZWxzZSBsZXQncyBpbnNwZWN0IHdpdGggJU9cblx0XHRcdFx0YXJncy51bnNoaWZ0KCclTycpO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBhbnkgYGZvcm1hdHRlcnNgIHRyYW5zZm9ybWF0aW9uc1xuXHRcdFx0bGV0IGluZGV4ID0gMDtcblx0XHRcdGFyZ3NbMF0gPSBhcmdzWzBdLnJlcGxhY2UoLyUoW2EtekEtWiVdKS9nLCAobWF0Y2gsIGZvcm1hdCkgPT4ge1xuXHRcdFx0XHQvLyBJZiB3ZSBlbmNvdW50ZXIgYW4gZXNjYXBlZCAlIHRoZW4gZG9uJ3QgaW5jcmVhc2UgdGhlIGFycmF5IGluZGV4XG5cdFx0XHRcdGlmIChtYXRjaCA9PT0gJyUlJykge1xuXHRcdFx0XHRcdHJldHVybiAnJSc7XG5cdFx0XHRcdH1cblx0XHRcdFx0aW5kZXgrKztcblx0XHRcdFx0Y29uc3QgZm9ybWF0dGVyID0gY3JlYXRlRGVidWcuZm9ybWF0dGVyc1tmb3JtYXRdO1xuXHRcdFx0XHRpZiAodHlwZW9mIGZvcm1hdHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuXHRcdFx0XHRcdGNvbnN0IHZhbCA9IGFyZ3NbaW5kZXhdO1xuXHRcdFx0XHRcdG1hdGNoID0gZm9ybWF0dGVyLmNhbGwoc2VsZiwgdmFsKTtcblxuXHRcdFx0XHRcdC8vIE5vdyB3ZSBuZWVkIHRvIHJlbW92ZSBgYXJnc1tpbmRleF1gIHNpbmNlIGl0J3MgaW5saW5lZCBpbiB0aGUgYGZvcm1hdGBcblx0XHRcdFx0XHRhcmdzLnNwbGljZShpbmRleCwgMSk7XG5cdFx0XHRcdFx0aW5kZXgtLTtcblx0XHRcdFx0fVxuXHRcdFx0XHRyZXR1cm4gbWF0Y2g7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gQXBwbHkgZW52LXNwZWNpZmljIGZvcm1hdHRpbmcgKGNvbG9ycywgZXRjLilcblx0XHRcdGNyZWF0ZURlYnVnLmZvcm1hdEFyZ3MuY2FsbChzZWxmLCBhcmdzKTtcblxuXHRcdFx0Y29uc3QgbG9nRm4gPSBzZWxmLmxvZyB8fCBjcmVhdGVEZWJ1Zy5sb2c7XG5cdFx0XHRsb2dGbi5hcHBseShzZWxmLCBhcmdzKTtcblx0XHR9XG5cblx0XHRkZWJ1Zy5uYW1lc3BhY2UgPSBuYW1lc3BhY2U7XG5cdFx0ZGVidWcudXNlQ29sb3JzID0gY3JlYXRlRGVidWcudXNlQ29sb3JzKCk7XG5cdFx0ZGVidWcuY29sb3IgPSBjcmVhdGVEZWJ1Zy5zZWxlY3RDb2xvcihuYW1lc3BhY2UpO1xuXHRcdGRlYnVnLmV4dGVuZCA9IGV4dGVuZDtcblx0XHRkZWJ1Zy5kZXN0cm95ID0gY3JlYXRlRGVidWcuZGVzdHJveTsgLy8gWFhYIFRlbXBvcmFyeS4gV2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHJlbGVhc2UuXG5cblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVidWcsICdlbmFibGVkJywge1xuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcblx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG5cdFx0XHRnZXQ6ICgpID0+IHtcblx0XHRcdFx0aWYgKGVuYWJsZU92ZXJyaWRlICE9PSBudWxsKSB7XG5cdFx0XHRcdFx0cmV0dXJuIGVuYWJsZU92ZXJyaWRlO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlmIChuYW1lc3BhY2VzQ2FjaGUgIT09IGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMpIHtcblx0XHRcdFx0XHRuYW1lc3BhY2VzQ2FjaGUgPSBjcmVhdGVEZWJ1Zy5uYW1lc3BhY2VzO1xuXHRcdFx0XHRcdGVuYWJsZWRDYWNoZSA9IGNyZWF0ZURlYnVnLmVuYWJsZWQobmFtZXNwYWNlKTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdHJldHVybiBlbmFibGVkQ2FjaGU7XG5cdFx0XHR9LFxuXHRcdFx0c2V0OiB2ID0+IHtcblx0XHRcdFx0ZW5hYmxlT3ZlcnJpZGUgPSB2O1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gRW52LXNwZWNpZmljIGluaXRpYWxpemF0aW9uIGxvZ2ljIGZvciBkZWJ1ZyBpbnN0YW5jZXNcblx0XHRpZiAodHlwZW9mIGNyZWF0ZURlYnVnLmluaXQgPT09ICdmdW5jdGlvbicpIHtcblx0XHRcdGNyZWF0ZURlYnVnLmluaXQoZGVidWcpO1xuXHRcdH1cblxuXHRcdHJldHVybiBkZWJ1Zztcblx0fVxuXG5cdGZ1bmN0aW9uIGV4dGVuZChuYW1lc3BhY2UsIGRlbGltaXRlcikge1xuXHRcdGNvbnN0IG5ld0RlYnVnID0gY3JlYXRlRGVidWcodGhpcy5uYW1lc3BhY2UgKyAodHlwZW9mIGRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyAnOicgOiBkZWxpbWl0ZXIpICsgbmFtZXNwYWNlKTtcblx0XHRuZXdEZWJ1Zy5sb2cgPSB0aGlzLmxvZztcblx0XHRyZXR1cm4gbmV3RGVidWc7XG5cdH1cblxuXHQvKipcblx0KiBFbmFibGVzIGEgZGVidWcgbW9kZSBieSBuYW1lc3BhY2VzLiBUaGlzIGNhbiBpbmNsdWRlIG1vZGVzXG5cdCogc2VwYXJhdGVkIGJ5IGEgY29sb24gYW5kIHdpbGRjYXJkcy5cblx0KlxuXHQqIEBwYXJhbSB7U3RyaW5nfSBuYW1lc3BhY2VzXG5cdCogQGFwaSBwdWJsaWNcblx0Ki9cblx0ZnVuY3Rpb24gZW5hYmxlKG5hbWVzcGFjZXMpIHtcblx0XHRjcmVhdGVEZWJ1Zy5zYXZlKG5hbWVzcGFjZXMpO1xuXHRcdGNyZWF0ZURlYnVnLm5hbWVzcGFjZXMgPSBuYW1lc3BhY2VzO1xuXG5cdFx0Y3JlYXRlRGVidWcubmFtZXMgPSBbXTtcblx0XHRjcmVhdGVEZWJ1Zy5za2lwcyA9IFtdO1xuXG5cdFx0bGV0IGk7XG5cdFx0Y29uc3Qgc3BsaXQgPSAodHlwZW9mIG5hbWVzcGFjZXMgPT09ICdzdHJpbmcnID8gbmFtZXNwYWNlcyA6ICcnKS5zcGxpdCgvW1xccyxdKy8pO1xuXHRcdGNvbnN0IGxlbiA9IHNwbGl0Lmxlbmd0aDtcblxuXHRcdGZvciAoaSA9IDA7IGkgPCBsZW47IGkrKykge1xuXHRcdFx0aWYgKCFzcGxpdFtpXSkge1xuXHRcdFx0XHQvLyBpZ25vcmUgZW1wdHkgc3RyaW5nc1xuXHRcdFx0XHRjb250aW51ZTtcblx0XHRcdH1cblxuXHRcdFx0bmFtZXNwYWNlcyA9IHNwbGl0W2ldLnJlcGxhY2UoL1xcKi9nLCAnLio/Jyk7XG5cblx0XHRcdGlmIChuYW1lc3BhY2VzWzBdID09PSAnLScpIHtcblx0XHRcdFx0Y3JlYXRlRGVidWcuc2tpcHMucHVzaChuZXcgUmVnRXhwKCdeJyArIG5hbWVzcGFjZXMuc2xpY2UoMSkgKyAnJCcpKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNyZWF0ZURlYnVnLm5hbWVzLnB1c2gobmV3IFJlZ0V4cCgnXicgKyBuYW1lc3BhY2VzICsgJyQnKSk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCogRGlzYWJsZSBkZWJ1ZyBvdXRwdXQuXG5cdCpcblx0KiBAcmV0dXJuIHtTdHJpbmd9IG5hbWVzcGFjZXNcblx0KiBAYXBpIHB1YmxpY1xuXHQqL1xuXHRmdW5jdGlvbiBkaXNhYmxlKCkge1xuXHRcdGNvbnN0IG5hbWVzcGFjZXMgPSBbXG5cdFx0XHQuLi5jcmVhdGVEZWJ1Zy5uYW1lcy5tYXAodG9OYW1lc3BhY2UpLFxuXHRcdFx0Li4uY3JlYXRlRGVidWcuc2tpcHMubWFwKHRvTmFtZXNwYWNlKS5tYXAobmFtZXNwYWNlID0+ICctJyArIG5hbWVzcGFjZSlcblx0XHRdLmpvaW4oJywnKTtcblx0XHRjcmVhdGVEZWJ1Zy5lbmFibGUoJycpO1xuXHRcdHJldHVybiBuYW1lc3BhY2VzO1xuXHR9XG5cblx0LyoqXG5cdCogUmV0dXJucyB0cnVlIGlmIHRoZSBnaXZlbiBtb2RlIG5hbWUgaXMgZW5hYmxlZCwgZmFsc2Ugb3RoZXJ3aXNlLlxuXHQqXG5cdCogQHBhcmFtIHtTdHJpbmd9IG5hbWVcblx0KiBAcmV0dXJuIHtCb29sZWFufVxuXHQqIEBhcGkgcHVibGljXG5cdCovXG5cdGZ1bmN0aW9uIGVuYWJsZWQobmFtZSkge1xuXHRcdGlmIChuYW1lW25hbWUubGVuZ3RoIC0gMV0gPT09ICcqJykge1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXG5cdFx0bGV0IGk7XG5cdFx0bGV0IGxlbjtcblxuXHRcdGZvciAoaSA9IDAsIGxlbiA9IGNyZWF0ZURlYnVnLnNraXBzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG5cdFx0XHRpZiAoY3JlYXRlRGVidWcuc2tpcHNbaV0udGVzdChuYW1lKSkge1xuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0Zm9yIChpID0gMCwgbGVuID0gY3JlYXRlRGVidWcubmFtZXMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcblx0XHRcdGlmIChjcmVhdGVEZWJ1Zy5uYW1lc1tpXS50ZXN0KG5hbWUpKSB7XG5cdFx0XHRcdHJldHVybiB0cnVlO1xuXHRcdFx0fVxuXHRcdH1cblxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXG5cdC8qKlxuXHQqIENvbnZlcnQgcmVnZXhwIHRvIG5hbWVzcGFjZVxuXHQqXG5cdCogQHBhcmFtIHtSZWdFeHB9IHJlZ3hlcFxuXHQqIEByZXR1cm4ge1N0cmluZ30gbmFtZXNwYWNlXG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIHRvTmFtZXNwYWNlKHJlZ2V4cCkge1xuXHRcdHJldHVybiByZWdleHAudG9TdHJpbmcoKVxuXHRcdFx0LnN1YnN0cmluZygyLCByZWdleHAudG9TdHJpbmcoKS5sZW5ndGggLSAyKVxuXHRcdFx0LnJlcGxhY2UoL1xcLlxcKlxcPyQvLCAnKicpO1xuXHR9XG5cblx0LyoqXG5cdCogQ29lcmNlIGB2YWxgLlxuXHQqXG5cdCogQHBhcmFtIHtNaXhlZH0gdmFsXG5cdCogQHJldHVybiB7TWl4ZWR9XG5cdCogQGFwaSBwcml2YXRlXG5cdCovXG5cdGZ1bmN0aW9uIGNvZXJjZSh2YWwpIHtcblx0XHRpZiAodmFsIGluc3RhbmNlb2YgRXJyb3IpIHtcblx0XHRcdHJldHVybiB2YWwuc3RhY2sgfHwgdmFsLm1lc3NhZ2U7XG5cdFx0fVxuXHRcdHJldHVybiB2YWw7XG5cdH1cblxuXHQvKipcblx0KiBYWFggRE8gTk9UIFVTRS4gVGhpcyBpcyBhIHRlbXBvcmFyeSBzdHViIGZ1bmN0aW9uLlxuXHQqIFhYWCBJdCBXSUxMIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgbWFqb3IgcmVsZWFzZS5cblx0Ki9cblx0ZnVuY3Rpb24gZGVzdHJveSgpIHtcblx0XHRjb25zb2xlLndhcm4oJ0luc3RhbmNlIG1ldGhvZCBgZGVidWcuZGVzdHJveSgpYCBpcyBkZXByZWNhdGVkIGFuZCBubyBsb25nZXIgZG9lcyBhbnl0aGluZy4gSXQgd2lsbCBiZSByZW1vdmVkIGluIHRoZSBuZXh0IG1ham9yIHZlcnNpb24gb2YgYGRlYnVnYC4nKTtcblx0fVxuXG5cdGNyZWF0ZURlYnVnLmVuYWJsZShjcmVhdGVEZWJ1Zy5sb2FkKCkpO1xuXG5cdHJldHVybiBjcmVhdGVEZWJ1Zztcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBzZXR1cDtcbiIsIi8qKlxuICogSGVscGVycy5cbiAqL1xuXG52YXIgcyA9IDEwMDA7XG52YXIgbSA9IHMgKiA2MDtcbnZhciBoID0gbSAqIDYwO1xudmFyIGQgPSBoICogMjQ7XG52YXIgdyA9IGQgKiA3O1xudmFyIHkgPSBkICogMzY1LjI1O1xuXG4vKipcbiAqIFBhcnNlIG9yIGZvcm1hdCB0aGUgZ2l2ZW4gYHZhbGAuXG4gKlxuICogT3B0aW9uczpcbiAqXG4gKiAgLSBgbG9uZ2AgdmVyYm9zZSBmb3JtYXR0aW5nIFtmYWxzZV1cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ3xOdW1iZXJ9IHZhbFxuICogQHBhcmFtIHtPYmplY3R9IFtvcHRpb25zXVxuICogQHRocm93cyB7RXJyb3J9IHRocm93IGFuIGVycm9yIGlmIHZhbCBpcyBub3QgYSBub24tZW1wdHkgc3RyaW5nIG9yIGEgbnVtYmVyXG4gKiBAcmV0dXJuIHtTdHJpbmd8TnVtYmVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKHZhbCwgb3B0aW9ucykge1xuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fTtcbiAgdmFyIHR5cGUgPSB0eXBlb2YgdmFsO1xuICBpZiAodHlwZSA9PT0gJ3N0cmluZycgJiYgdmFsLmxlbmd0aCA+IDApIHtcbiAgICByZXR1cm4gcGFyc2UodmFsKTtcbiAgfSBlbHNlIGlmICh0eXBlID09PSAnbnVtYmVyJyAmJiBpc0Zpbml0ZSh2YWwpKSB7XG4gICAgcmV0dXJuIG9wdGlvbnMubG9uZyA/IGZtdExvbmcodmFsKSA6IGZtdFNob3J0KHZhbCk7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFxuICAgICd2YWwgaXMgbm90IGEgbm9uLWVtcHR5IHN0cmluZyBvciBhIHZhbGlkIG51bWJlci4gdmFsPScgK1xuICAgICAgSlNPTi5zdHJpbmdpZnkodmFsKVxuICApO1xufTtcblxuLyoqXG4gKiBQYXJzZSB0aGUgZ2l2ZW4gYHN0cmAgYW5kIHJldHVybiBtaWxsaXNlY29uZHMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IHN0clxuICogQHJldHVybiB7TnVtYmVyfVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gcGFyc2Uoc3RyKSB7XG4gIHN0ciA9IFN0cmluZyhzdHIpO1xuICBpZiAoc3RyLmxlbmd0aCA+IDEwMCkge1xuICAgIHJldHVybjtcbiAgfVxuICB2YXIgbWF0Y2ggPSAvXigtPyg/OlxcZCspP1xcLj9cXGQrKSAqKG1pbGxpc2Vjb25kcz98bXNlY3M/fG1zfHNlY29uZHM/fHNlY3M/fHN8bWludXRlcz98bWlucz98bXxob3Vycz98aHJzP3xofGRheXM/fGR8d2Vla3M/fHd8eWVhcnM/fHlycz98eSk/JC9pLmV4ZWMoXG4gICAgc3RyXG4gICk7XG4gIGlmICghbWF0Y2gpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdmFyIG4gPSBwYXJzZUZsb2F0KG1hdGNoWzFdKTtcbiAgdmFyIHR5cGUgPSAobWF0Y2hbMl0gfHwgJ21zJykudG9Mb3dlckNhc2UoKTtcbiAgc3dpdGNoICh0eXBlKSB7XG4gICAgY2FzZSAneWVhcnMnOlxuICAgIGNhc2UgJ3llYXInOlxuICAgIGNhc2UgJ3lycyc6XG4gICAgY2FzZSAneXInOlxuICAgIGNhc2UgJ3knOlxuICAgICAgcmV0dXJuIG4gKiB5O1xuICAgIGNhc2UgJ3dlZWtzJzpcbiAgICBjYXNlICd3ZWVrJzpcbiAgICBjYXNlICd3JzpcbiAgICAgIHJldHVybiBuICogdztcbiAgICBjYXNlICdkYXlzJzpcbiAgICBjYXNlICdkYXknOlxuICAgIGNhc2UgJ2QnOlxuICAgICAgcmV0dXJuIG4gKiBkO1xuICAgIGNhc2UgJ2hvdXJzJzpcbiAgICBjYXNlICdob3VyJzpcbiAgICBjYXNlICdocnMnOlxuICAgIGNhc2UgJ2hyJzpcbiAgICBjYXNlICdoJzpcbiAgICAgIHJldHVybiBuICogaDtcbiAgICBjYXNlICdtaW51dGVzJzpcbiAgICBjYXNlICdtaW51dGUnOlxuICAgIGNhc2UgJ21pbnMnOlxuICAgIGNhc2UgJ21pbic6XG4gICAgY2FzZSAnbSc6XG4gICAgICByZXR1cm4gbiAqIG07XG4gICAgY2FzZSAnc2Vjb25kcyc6XG4gICAgY2FzZSAnc2Vjb25kJzpcbiAgICBjYXNlICdzZWNzJzpcbiAgICBjYXNlICdzZWMnOlxuICAgIGNhc2UgJ3MnOlxuICAgICAgcmV0dXJuIG4gKiBzO1xuICAgIGNhc2UgJ21pbGxpc2Vjb25kcyc6XG4gICAgY2FzZSAnbWlsbGlzZWNvbmQnOlxuICAgIGNhc2UgJ21zZWNzJzpcbiAgICBjYXNlICdtc2VjJzpcbiAgICBjYXNlICdtcyc6XG4gICAgICByZXR1cm4gbjtcbiAgICBkZWZhdWx0OlxuICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgfVxufVxuXG4vKipcbiAqIFNob3J0IGZvcm1hdCBmb3IgYG1zYC5cbiAqXG4gKiBAcGFyYW0ge051bWJlcn0gbXNcbiAqIEByZXR1cm4ge1N0cmluZ31cbiAqIEBhcGkgcHJpdmF0ZVxuICovXG5cbmZ1bmN0aW9uIGZtdFNob3J0KG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIGQpICsgJ2QnO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQobXMgLyBoKSArICdoJztcbiAgfVxuICBpZiAobXNBYnMgPj0gbSkge1xuICAgIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbSkgKyAnbSc7XG4gIH1cbiAgaWYgKG1zQWJzID49IHMpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZChtcyAvIHMpICsgJ3MnO1xuICB9XG4gIHJldHVybiBtcyArICdtcyc7XG59XG5cbi8qKlxuICogTG9uZyBmb3JtYXQgZm9yIGBtc2AuXG4gKlxuICogQHBhcmFtIHtOdW1iZXJ9IG1zXG4gKiBAcmV0dXJuIHtTdHJpbmd9XG4gKiBAYXBpIHByaXZhdGVcbiAqL1xuXG5mdW5jdGlvbiBmbXRMb25nKG1zKSB7XG4gIHZhciBtc0FicyA9IE1hdGguYWJzKG1zKTtcbiAgaWYgKG1zQWJzID49IGQpIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgZCwgJ2RheScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBoKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIGgsICdob3VyJyk7XG4gIH1cbiAgaWYgKG1zQWJzID49IG0pIHtcbiAgICByZXR1cm4gcGx1cmFsKG1zLCBtc0FicywgbSwgJ21pbnV0ZScpO1xuICB9XG4gIGlmIChtc0FicyA+PSBzKSB7XG4gICAgcmV0dXJuIHBsdXJhbChtcywgbXNBYnMsIHMsICdzZWNvbmQnKTtcbiAgfVxuICByZXR1cm4gbXMgKyAnIG1zJztcbn1cblxuLyoqXG4gKiBQbHVyYWxpemF0aW9uIGhlbHBlci5cbiAqL1xuXG5mdW5jdGlvbiBwbHVyYWwobXMsIG1zQWJzLCBuLCBuYW1lKSB7XG4gIHZhciBpc1BsdXJhbCA9IG1zQWJzID49IG4gKiAxLjU7XG4gIHJldHVybiBNYXRoLnJvdW5kKG1zIC8gbikgKyAnICcgKyBuYW1lICsgKGlzUGx1cmFsID8gJ3MnIDogJycpO1xufVxuIiwiaW1wb3J0IHsgdXBkYXRlSGlnaGxpZ2h0LCBzZXRHbHlwaE9wYWNpdHlGcm9tU2xpZGVyLCBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyIH0gZnJvbSAnLi4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0IERpc3BsYXlQYW5lbCBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheVBhbmVsJztcbmltcG9ydCBab29tSGFuZGxlciBmcm9tICcuL1pvb20nO1xuaW1wb3J0IHsgVmlld0ludGVyZmFjZSwgRGlzcGxheUNvbnN0cnVjdGFibGUgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcblxuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgZ2V0U2V0dGluZ3MgfSBmcm9tICcuLi91dGlscy9Mb2NhbFNldHRpbmdzJztcblxuLyoqXG4gKiBBIHZpZXcgbW9kdWxlIGZvciBkaXNwbGF5aW5nIGEgc2luZ2xlIHBhZ2Ugb2YgYSBtYW51c2NyaXB0LlxuICovXG5jbGFzcyBTaW5nbGVWaWV3IGltcGxlbWVudHMgVmlld0ludGVyZmFjZSB7XG4gIHJlYWRvbmx5IG5lb25WaWV3OiBOZW9uVmlldztcbiAgcHJpdmF0ZSBjb250YWluZXI6IEhUTUxFbGVtZW50O1xuICBwcml2YXRlIHVwZGF0ZUNhbGxiYWNrczogQXJyYXk8KCkgPT4gdm9pZD47XG4gIHByaXZhdGUgZ3JvdXA6IFNWR1NWR0VsZW1lbnQ7XG4gIHByaXZhdGUgYmc6IFNWR0ltYWdlRWxlbWVudDtcbiAgcHJpdmF0ZSBzdmc6IFNWR1NWR0VsZW1lbnQ7XG4gIHpvb21IYW5kbGVyOiBab29tSGFuZGxlcjtcbiAgcHJpdmF0ZSBkaXNwbGF5UGFuZWw6IERpc3BsYXlQYW5lbDtcbiAgcmVhZG9ubHkgcGFnZVVSSTogc3RyaW5nO1xuICAvKipcbiAgICogQ29uc3RydWN0b3IgZm9yIFNpbmdsZVZpZXcuXG4gICAqIEBwYXJhbSBpbWFnZSAtIFRoZSBVUkkgdG8gdGhlIGJhY2tncm91bmQgaW1hZ2UgZm9yIHRoZSBwYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKG5lb25WaWV3OiBOZW9uVmlldywgcGFuZWw6IERpc3BsYXlDb25zdHJ1Y3RhYmxlLCBpbWFnZTogc3RyaW5nKSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzID0gbmV3IEFycmF5KDApO1xuICAgIC8vIEdyb3VwIHdpbGwgY29udGFpbiB0aGUgaW1hZ2UgYW5kIHRoZSByZW5kZXJlZCBTVkdcbiAgICB0aGlzLmdyb3VwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCdodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZycsICdzdmcnKTtcbiAgICB0aGlzLmdyb3VwLmlkID0gJ3N2Z19ncm91cCc7XG4gICAgdGhpcy5ncm91cC5zZXRBdHRyaWJ1dGUoJ2hlaWdodCcsIHdpbmRvdy5pbm5lckhlaWdodC50b1N0cmluZygpKTtcbiAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgnd2lkdGgnLCAnMTAwJScpO1xuXG4gICAgdGhpcy5iZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnLCAnaW1hZ2UnKTtcbiAgICB0aGlzLmJnLmlkID0gJ2JnaW1nJztcbiAgICB0aGlzLmJnLmNsYXNzTGlzdC5hZGQoJ2JhY2tncm91bmQnKTtcbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgneCcsICcwJyk7XG4gICAgdGhpcy5iZy5zZXRBdHRyaWJ1dGUoJ3knLCAnMCcpO1xuXG4gICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICBmZXRjaChpbWFnZSkudGhlbihyZXN1bHQgPT4ge1xuICAgICAgaWYgKHJlc3VsdC5vaykge1xuICAgICAgICByZWFkZXIuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsICgpID0+IHtcbiAgICAgICAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZU5TKCdodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rJywgJ2hyZWYnLCByZWFkZXIucmVzdWx0LnRvU3RyaW5nKCkpO1xuICAgICAgICAgIGNvbnN0IGJib3ggPSB0aGlzLmJnLmdldEJCb3goKTtcbiAgICAgICAgICBpZiAoIXRoaXMuZ3JvdXAuaGFzQXR0cmlidXRlKCd2aWV3Qm94JykpIHtcbiAgICAgICAgICAgIC8qXG4gICAgICAgICAgICAgIElmIHRoZSBTVkcgZG9lcyBub3QgaGF2ZSBhIHZpZXdCb3gsIGxvYWQgdGhlIHByZXZpb3VzIHZpZXdCb3hcbiAgICAgICAgICAgICAgdmFsdWUgZnJvbSBsb2NhbFN0b3JhZ2UuIElmIG5vbmUgaGFzIGJlZW4gc3RvcmVkICh2aWV3Qm94IGlzIG51bGwpLFxuICAgICAgICAgICAgICBzZXQgaXQgdG8gdGhlIGRlZmF1bHQgdmFsdWUgb2YgdGhlIHdpZHRoIGFuZCBoZWlnaHQgb2YgdGhlIGJhY2tncm91bmQgaW1hZ2VcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIE5vdGU6IGFuIFNWRydzIHZpZXdCb3ggZ2l2ZXMgdGhlIFwiYm94XCIgdGhhdCB0aGUgdXNlciBjYW4gc2VlIHRoZSBTVkcgdGhyb3VnaC5cbiAgICAgICAgICAgICAgVGhlIHVzZXIgbWF5IGJlIHpvb21lZCBpbnRvIGEgdmVyeSBzcGVjaWZpYyBzZWN0aW9uIG9mIHRoZSBTVkcsIGluIHdoaWNoIGNhc2UgdGhlXG4gICAgICAgICAgICAgIHZpZXdCb3ggc2hvdWxkIGdpdmUgY29vcmRpbmF0ZXMgb2YgdGhhdCBzcGVjaWZpYyBib3guXG5cbiAgICAgICAgICAgICAgU2VlIG1vcmU6IGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdmlld0JveFxuICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGxldCB7IHZpZXdCb3ggfSA9IGdldFNldHRpbmdzKCk7XG4gICAgICAgICAgICBpZiAoIXZpZXdCb3gpXG4gICAgICAgICAgICAgIHZpZXdCb3ggPSAnMCAwICcgKyBiYm94LndpZHRoLnRvU3RyaW5nKCkgKyAnICcgKyBiYm94LmhlaWdodC50b1N0cmluZygpO1xuXG4gICAgICAgICAgICB0aGlzLmdyb3VwLnNldEF0dHJpYnV0ZSgndmlld0JveCcsIHZpZXdCb3gpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiByZXN1bHQuYmxvYigpO1xuICAgICAgfVxuICAgIH0pLnRoZW4oYmxvYiA9PiB7XG4gICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChibG9iKTtcbiAgICB9KTtcblxuICAgIC8vIEl0IGlzIGJldHRlciBuYW1lZCBzdmcsIHRvIGF2b2lkIGNvbmZ1c2lvbiB3aXRoIHRoZSBhY3R1YWwgTUVJIGZpbGUuXG4gICAgdGhpcy5zdmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoJ2h0dHA6Ly93d3cudzMub3JnL3N2ZycsICdzdmcnKSBhcyBTVkdTVkdFbGVtZW50O1xuICAgIHRoaXMuc3ZnLmlkID0gJ21laV9vdXRwdXQnO1xuICAgIHRoaXMuc3ZnLmNsYXNzTGlzdC5hZGQoJ25lb24tY29udGFpbmVyJywgJ2FjdGl2ZS1wYWdlJyk7XG5cbiAgICB0aGlzLmdyb3VwLmFwcGVuZENoaWxkKHRoaXMuYmcpO1xuICAgIHRoaXMuZ3JvdXAuYXBwZW5kQ2hpbGQodGhpcy5zdmcpO1xuICAgIHRoaXMuY29udGFpbmVyLmFwcGVuZENoaWxkKHRoaXMuZ3JvdXApO1xuXG4gICAgdGhpcy56b29tSGFuZGxlciA9IG5ldyBab29tSGFuZGxlcigpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsID0gbmV3IHBhbmVsKHRoaXMsICduZW9uLWNvbnRhaW5lcicsICdiYWNrZ3JvdW5kJywgdGhpcy56b29tSGFuZGxlcik7XG5cbiAgICB0aGlzLnBhZ2VVUkkgPSBpbWFnZTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdsb2FkaW5nJykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgfVxuXG4gIG9uU1ZHTG9hZCAoKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3RXZlbnRIYW5kbGVycygpO1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnNldERpc3BsYXlMaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIFNWRyBiZWluZyBkaXNwbGF5ZWQuXG4gICAqIEBwYXJhbSBzdmcgLSBOZXcgcmVuZGVyZWQgU1ZHIHRvIHVzZS5cbiAgICovXG4gIHVwZGF0ZVNWRyAoc3ZnOiBTVkdTVkdFbGVtZW50KTogdm9pZCB7XG4gICAgdGhpcy5ncm91cC5yZXBsYWNlQ2hpbGQoc3ZnLCB0aGlzLnN2Zyk7XG4gICAgdGhpcy5zdmcgPSBzdmc7XG4gICAgdGhpcy5zdmcuaWQgPSAnbWVpX291dHB1dCc7XG4gICAgdGhpcy5zdmcuY2xhc3NMaXN0LmFkZCgnbmVvbi1jb250YWluZXInLCAnYWN0aXZlLXBhZ2UnKTtcbiAgICBjb25zdCBoZWlnaHQgPSBwYXJzZUludCh0aGlzLnN2Zy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKTtcbiAgICBjb25zdCB3aWR0aCA9IHBhcnNlSW50KHRoaXMuc3ZnLmdldEF0dHJpYnV0ZSgnd2lkdGgnKSk7XG5cbiAgICB0aGlzLmJnLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgaGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgIHRoaXMuYmcuc2V0QXR0cmlidXRlKCd3aWR0aCcsIHdpZHRoLnRvU3RyaW5nKCkpO1xuXG4gICAgY29uc3QgeyB2aWV3Qm94IH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGlmICghdmlld0JveClcbiAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCd2aWV3Qm94JywgJzAgMCAnICsgd2lkdGggKyAnICcgKyBoZWlnaHQpO1xuICAgIGVsc2VcbiAgICAgIHRoaXMuZ3JvdXAuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveCk7XG5cbiAgICB1cGRhdGVIaWdobGlnaHQoKTtcbiAgICB0aGlzLnJlc2V0VHJhbnNmb3JtYXRpb25zKCk7XG4gICAgdGhpcy51cGRhdGVDYWxsYmFja3MuZm9yRWFjaChjYWxsYmFjayA9PiBjYWxsYmFjaygpKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBDaGFuZ2UgdG8gYSBjZXJ0YWluIHBhZ2VcbiAgICogU2luY2UgdGhlcmUgaXMgb25seSBvbmUgcGFnZSwgdGhpcyBpcyBlc3NlbnRpYWxseSBhIHdyYXBwZXIgZm9yIHVwZGF0ZVNWR1xuICAgKi9cbiAgYXN5bmMgY2hhbmdlUGFnZSAoX3BhZ2U6IG51bWJlciwgX2RlbGF5OiBib29sZWFuKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgY29uc3Qgc3ZnID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRQYWdlU1ZHKHRoaXMuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgdGhpcy51cGRhdGVTVkcoc3ZnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBZGQgYSBjYWxsYmFjayB0byB0aGUgbGlzdCBvZiB0aG9zZSBiZSBjYWxsZWQgd2hlbiB0aGUgcGFnZSB1cGRhdGVzLlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICBhZGRVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICB0aGlzLnVwZGF0ZUNhbGxiYWNrcy5wdXNoKGNiKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBSZW1vdmUgYSBjYWxsYmFjayBmcm9tIHRoZSBsaXN0IG9mIGNhbGxiYWNrcyBpZiBpdCBpcyBwYXJ0IG9mIHRoZSBsaXN0LlxuICAgKiBAcGFyYW0gY2IgLSBUaGUgY2FsbGJhY2sgZnVuY3Rpb24uXG4gICAqL1xuICByZW1vdmVVcGRhdGVDYWxsYmFjayAoY2I6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICBjb25zdCBpbmRleCA9IHRoaXMudXBkYXRlQ2FsbGJhY2tzLmZpbmRJbmRleCgoZWxlbSkgPT4ge1xuICAgICAgcmV0dXJuIGVsZW0gPT09IGNiO1xuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgIHRoaXMudXBkYXRlQ2FsbGJhY2tzLnNwbGljZShpbmRleCwgMSk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlc2V0IHRoZSB0cmFuc2Zvcm1hdGlvbnMgdGhhdCBoYXZlIGJlZW4gYXBwbGllZCB0byB0aGUgU1ZHIHVwb24gdXBkYXRlLlxuICAgKi9cbiAgcmVzZXRUcmFuc2Zvcm1hdGlvbnMgKCk6IHZvaWQge1xuICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnJlc3RvcmVUcmFuc2Zvcm1hdGlvbigpO1xuICAgIHNldEdseXBoT3BhY2l0eUZyb21TbGlkZXIoKTtcbiAgICBzZXRCZ09wYWNpdHlGcm9tU2xpZGVyKCk7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIHplcm8taW5kZXhlZCBudW1iZXIgb2YgdGhlIGN1cnJlbnQgcGFnZS4gVGhpcyB3aWxsIGFsd2F5cyBiZSB6ZXJvLlxuICAgKi9cbiAgZ2V0Q3VycmVudFBhZ2UgKCk6IG51bWJlciB7XG4gICAgcmV0dXJuIDA7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgVGhlIFVSSSBvZiB0aGUgcGFnZS5cbiAgICovXG4gIGdldEN1cnJlbnRQYWdlVVJJICgpOiBzdHJpbmcge1xuICAgIHJldHVybiB0aGlzLnBhZ2VVUkk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGV2ZW50IGhhbmRsZXJzIGZvciB0aGUgdmlldyBhbmQgZGlzcGxheSBwYW5lbC5cbiAgICovXG4gIHNldFZpZXdFdmVudEhhbmRsZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5ib2R5LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCAoZXZ0KSA9PiB7XG4gICAgICBzd2l0Y2ggKGV2dC5rZXkpIHtcbiAgICAgICAgY2FzZSAnU2hpZnQnOlxuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLm9uKCcuZHJhZycsIG51bGwpO1xuICAgICAgICAgIGQzLnNlbGVjdCgnI3N2Z19ncm91cCcpLmNhbGwoXG4gICAgICAgICAgICBkMy5kcmFnKCkub24oJ3N0YXJ0JywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuc3RhcnREcmFnLmJpbmQodGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIpKVxuICAgICAgICAgICAgICAub24oJ2RyYWcnLCB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5kcmFnZ2luZy5iaW5kKHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyKSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdoJzpcbiAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWVpX291dHB1dCcpLnNldEF0dHJpYnV0ZSgndmlzaWJpbGl0eScsICdoaWRkZW4nKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDogYnJlYWs7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZG9jdW1lbnQuYm9keS5hZGRFdmVudExpc3RlbmVyKCdrZXl1cCcsIChldnQpID0+IHtcbiAgICAgIHN3aXRjaCAoZXZ0LmtleSkge1xuICAgICAgICBjYXNlICdTaGlmdCc6XG4gICAgICAgICAgZDMuc2VsZWN0KCcjc3ZnX2dyb3VwJykub24oJy5kcmFnJywgbnVsbCk7XG4gICAgICAgICAgaWYgKHRoaXMubmVvblZpZXcuZ2V0VXNlck1vZGUoKSAhPT0gJ3ZpZXdlcicpIHtcbiAgICAgICAgICAgIHRoaXMubmVvblZpZXcuTmV1bWVFZGl0LnNldFNlbGVjdExpc3RlbmVycygpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnaCc6XG4gICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ21laV9vdXRwdXQnKS5zZXRBdHRyaWJ1dGUoJ3Zpc2liaWxpdHknLCAndmlzaWJsZScpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiBicmVhaztcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGQzLnNlbGVjdCgnI2NvbnRhaW5lcicpLm9uKCd0b3VjaHN0YXJ0JywgKCkgPT4ge1xuICAgICAgaWYgKGQzLmV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgIHRoaXMuZGlzcGxheVBhbmVsLnpvb21IYW5kbGVyLnN0YXJ0RHJhZygpO1xuICAgICAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2htb3ZlJywgdGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIuZHJhZ2dpbmcuYmluZCh0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlcikpO1xuICAgICAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbigndG91Y2hlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgZDMuc2VsZWN0KCcjY29udGFpbmVyJykub24oJ3RvdWNobW92ZScsIG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBkMy5zZWxlY3QoJyNjb250YWluZXInKS5vbignd2hlZWwnLCB0aGlzLmRpc3BsYXlQYW5lbC56b29tSGFuZGxlci5zY3JvbGxab29tLmJpbmQodGhpcy5kaXNwbGF5UGFuZWwuem9vbUhhbmRsZXIpLCBmYWxzZSk7XG4gICAgLy8gVXBkYXRlIGhlaWdodCBvZiBjb250YWluZXIgYmFzZWQgb24gd2luZG93XG4gICAgd2luZG93Lm9ucmVzaXplID0gKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuICAgICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NvbnRhaW5lcicpO1xuICAgICAgaWYgKG5ld0hlaWdodCA+IE51bWJlcihjb250YWluZXIuZ2V0QXR0cmlidXRlKCdoZWlnaHQnKSkpIHtcbiAgICAgICAgY29udGFpbmVyLnNldEF0dHJpYnV0ZSgnaGVpZ2h0JywgbmV3SGVpZ2h0LnRvU3RyaW5nKCkpO1xuICAgICAgfVxuICAgIH07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMgQSBodW1hbiByZWFkYWJsZSBuYW1lIGZvciB0aGUgcGFnZS4gVXNlZCBmb3IgZG93bmxvYWRzLlxuICAgKi9cbiAgZ2V0UGFnZU5hbWUgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubmVvblZpZXcubmFtZTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaW5nbGVWaWV3IGFzIGRlZmF1bHQgfTtcbiIsImltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IHNldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbmV4cG9ydCBjbGFzcyBWaWV3Qm94IHtcbiAgLy8gdmllQm94IGF0dHJpYnV0ZSBvZiBhbiBTVkcgdmlld3BvcnQ6XG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL1NWRy9BdHRyaWJ1dGUvdmlld0JveFxuICBtaW5YOiBudW1iZXI7XG4gIG1pblk6IG51bWJlcjtcbiAgd2lkdGg6IG51bWJlcjtcbiAgaGVpZ2h0OiBudW1iZXI7XG5cbiAgaW1hZ2VIZWlnaHQ6IG51bWJlcjtcbiAgaW1hZ2VXaWR0aDogbnVtYmVyO1xuXG4gIC8qKlxuICAgKiBAcGFyYW0gaW1hZ2VXaWR0aCAtIFdpZHRoIG9mIHRoZSBjb250YWluZWQgaW1hZ2UuXG4gICAqIEBwYXJhbSBpbWFnZUhlaWdodCAtIEhlaWdodCBvZiB0aGUgY29udGFpbmVkIGltYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IgKGltYWdlV2lkdGg6IG51bWJlciwgaW1hZ2VIZWlnaHQ6IG51bWJlcikge1xuICAgIHRoaXMubWluWCA9IDA7XG4gICAgdGhpcy5taW5ZID0gMDtcbiAgICB0aGlzLndpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGltYWdlSGVpZ2h0O1xuXG4gICAgdGhpcy5pbWFnZVdpZHRoID0gaW1hZ2VXaWR0aDtcbiAgICB0aGlzLmltYWdlSGVpZ2h0ID0gaW1hZ2VIZWlnaHQ7XG4gIH1cblxuICAvKipcbiAgICogU2V0IHZhbHVlcyBvZiB0aGUgdmlld0JveCBtYW51YWxseS5cbiAgICogQHBhcmFtIG1pblggLSB0b3AgbGVmdCB4LWNvb3JkaW5hdGUgb2YgU1ZHXG4gICAqIEBwYXJhbSBtaW5ZIC0gdG9wIGxlZnQgeS1jb29yZGluYXRlIG9mIFNWR1xuICAgKiBAcGFyYW0gd2lkdGggLSB3aWR0aCBvZiBTVkdcbiAgICogQHBhcmFtIGhlaWdodCAtIGhlaWdodCBvZiBTVkdcbiAgICovXG4gIHNldCAobWluWDogbnVtYmVyLCBtaW5ZOiBudW1iZXIsIHdpZHRoOiBudW1iZXIsIGhlaWdodDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5taW5YID0gbWluWDtcbiAgICB0aGlzLm1pblkgPSBtaW5ZO1xuICAgIHRoaXMud2lkdGggPSB3aWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IGhlaWdodDtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyBWYWx1ZSBmb3IgdGhlIHZpZXdCb3ggcGFyYW1ldGVyLiAqL1xuICBnZXQgKCk6IHN0cmluZyB7XG4gICAgcmV0dXJuIHRoaXMubWluWC50b1N0cmluZygpICsgJyAnICsgdGhpcy5taW5ZLnRvU3RyaW5nKCkgKyAnICcgK1xuICAgICAgdGhpcy53aWR0aCArICcgJyArIHRoaXMuaGVpZ2h0O1xuICB9XG5cbiAgLyoqIEBwYXJhbSBrIC0gRmFjdG9yIHRvIHpvb20gdG8uICovXG4gIHpvb21UbyAoazogbnVtYmVyKTogdm9pZCB7XG4gICAgY29uc3Qgem9vbUhlaWdodCA9ICh0aGlzLmltYWdlSGVpZ2h0IC8gayk7XG4gICAgY29uc3Qgem9vbVdpZHRoID0gKHRoaXMuaW1hZ2VXaWR0aCAvIGspO1xuXG4gICAgdGhpcy53aWR0aCA9IHpvb21XaWR0aDtcbiAgICB0aGlzLmhlaWdodCA9IHpvb21IZWlnaHQ7XG4gIH1cblxuICAvKiogQHJldHVybnMgQ3VycmVudCB6b29tIGZhY3Rvci4gKi9cbiAgZ2V0Wm9vbSAoKTogbnVtYmVyIHtcbiAgICByZXR1cm4gdGhpcy5pbWFnZVdpZHRoIC8gdGhpcy53aWR0aDtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdmlld3BvcnQuXG4gICAqIEBwYXJhbSB4RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB4LWF4aXMuXG4gICAqIEBwYXJhbSB5RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB5LWF4aXMuXG4gICAqL1xuICB0cmFuc2xhdGUgKHhEaWZmOiBudW1iZXIsIHlEaWZmOiBudW1iZXIpOiB2b2lkIHtcbiAgICB0aGlzLm1pblggKz0geERpZmY7XG4gICAgdGhpcy5taW5ZICs9IHlEaWZmO1xuICB9XG59XG5cbmV4cG9ydCBjbGFzcyBab29tSGFuZGxlciB7XG4gIGRyYWdDb29yZGluYXRlczogRE9NUG9pbnQ7XG4gIHZpZXdCb3g6IFZpZXdCb3g7XG4gIG1hdHJpeDogRE9NTWF0cml4O1xuXG4gIC8qKlxuICAgKiBSZXNldCB0aGUgem9vbSBhbmQgcGFuIG9mIHRoZSBTVkcgdmlld2JveFxuICAgKi9cbiAgcmVzZXRab29tQW5kUGFuIChyZXNldFNldHRpbmdzID0gdHJ1ZSk6IHZvaWQge1xuICAgIGNvbnN0IGJnaW1nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2JnaW1nJykgYXMgSFRNTEltYWdlRWxlbWVudDtcbiAgICB0aGlzLnZpZXdCb3ggPSBuZXcgVmlld0JveChwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpLCBwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSk7XG5cbiAgICBpZiAocmVzZXRTZXR0aW5ncykge1xuICAgICAgdGhpcy51cGRhdGVTVkdWaWV3Qm94KCk7XG4gICAgICBzZXRTZXR0aW5ncyh7IHpvb206IDEwMCB9KTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQHBhcmFtIGsgLSBGYWN0b3IgdG8gem9vbSB0by5cbiAgICovXG4gIHpvb21UbyAoazogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgdGhpcy52aWV3Qm94Lnpvb21UbyhrKTtcbiAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcblxuICAgIHNldFNldHRpbmdzKHsgem9vbTogTWF0aC5mbG9vcihrICogMTAwKSB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUcmFuc2xhdGUgdGhlIHZpZXcgYm94IGJ5IHJlbGF0aXZlIGNvb3JkaW5hdGVzLlxuICAqIEBwYXJhbSB4RGlmZiAtIEFtb3VudCB0byBzaGlmdCBvbiB4LWF4aXMuXG4gICogQHBhcmFtIHlEaWZmIC0gQW1vdW50IHRvIHNoaWZ0IG9uIHktYXhpcy5cbiAgKi9cbiAgdHJhbnNsYXRlICh4RGlmZjogbnVtYmVyLCB5RGlmZjogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgdGhpcy52aWV3Qm94LnRyYW5zbGF0ZSh4RGlmZiwgeURpZmYpO1xuICAgIHRoaXMudXBkYXRlU1ZHVmlld0JveCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJlc3RvcmUgdGhlIHZpZXcgYm94IHRvIGl0cyBwb3NpdGlvbiBiZWZvcmUgdGhlIGVkaXRvciBhY3Rpb24uXG4gICAqL1xuICByZXN0b3JlVHJhbnNmb3JtYXRpb24gKCk6IHZvaWQge1xuICAgIGlmICh0aGlzLnZpZXdCb3ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgdGhpcy5yZXNldFpvb21BbmRQYW4oZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnVwZGF0ZVNWR1ZpZXdCb3goKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogU2V0IHRoZSB2aWV3IGJveCBvZiB0aGUgU1ZHLlxuICAgKi9cbiAgc2V0Vmlld0JveCAoKTogdm9pZCB7XG4gICAgaWYgKHRoaXMudmlld0JveCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICBjb25zdCBiZ2ltZyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdiZ2ltZycpIGFzIEhUTUxJbWFnZUVsZW1lbnQ7XG4gICAgICB0aGlzLnZpZXdCb3ggPSBuZXcgVmlld0JveChwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ3dpZHRoJykpLCBwYXJzZUludChiZ2ltZy5nZXRBdHRyaWJ1dGUoJ2hlaWdodCcpKSk7XG4gICAgfVxuICAgIGNvbnN0IHJhd1ZpZXdCb3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJylcbiAgICAgIC5nZXRBdHRyaWJ1dGUoJ3ZpZXdCb3gnKVxuICAgICAgLnNwbGl0KCcgJyk7XG4gICAgdGhpcy52aWV3Qm94LnNldChcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbMF0pLFxuICAgICAgcGFyc2VJbnQocmF3Vmlld0JveFsxXSksXG4gICAgICBwYXJzZUludChyYXdWaWV3Qm94WzJdKSxcbiAgICAgIHBhcnNlSW50KHJhd1ZpZXdCb3hbM10pXG4gICAgKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBVcGRhdGUgdGhlIHZpZXdCb3ggYXR0cmlidXRlIG9mIHN2Z19ncm91cFxuICAgKi9cbiAgdXBkYXRlU1ZHVmlld0JveCAoKTogdm9pZCB7XG4gICAgY29uc3Qgdmlld0JveFN0cmluZyA9IHRoaXMudmlld0JveC5nZXQoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykuc2V0QXR0cmlidXRlKCd2aWV3Qm94Jywgdmlld0JveFN0cmluZyk7XG4gICAgc2V0U2V0dGluZ3MoeyB2aWV3Qm94OiB2aWV3Qm94U3RyaW5nIH0pO1xuICB9XG5cbiAgc3RhcnREcmFnICgpOiB2b2lkIHtcbiAgICBjb25zdCBncm91cCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzdmdfZ3JvdXAnKSBhcyB1bmtub3duIGFzIFNWR1NWR0VsZW1lbnQ7XG4gICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMgPSBncm91cC5jcmVhdGVTVkdQb2ludCgpO1xuICAgIGlmIChkMy5ldmVudC50eXBlID09PSAndG91Y2hzdGFydCcpIHtcbiAgICAgIC8vIElmIGRyYWcgaXMgdHJpZ2dlcmVkIGJ5IGEgdG91Y2ggZXZlbnRcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC50b3VjaGVzWzBdLnNjcmVlblg7XG4gICAgICB0aGlzLmRyYWdDb29yZGluYXRlcy55ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5ZO1xuICAgIH0gZWxzZSB7XG4gICAgICAvLyBPdGhlcndpc2UgdHJpZ2dlcmVkIGJ5IGEgbW91c2UgY2xpY2tcbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgfVxuXG4gICAgdGhpcy5tYXRyaXggPSBncm91cC5nZXRTY3JlZW5DVE0oKS5pbnZlcnNlKCk7XG4gIH1cblxuICBkcmFnZ2luZyAoKTogdm9pZCB7XG4gICAgY29uc3QgZ3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3ZnX2dyb3VwJykgYXMgdW5rbm93biBhcyBTVkdTVkdFbGVtZW50O1xuICAgIGNvbnN0IG5ld0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAvLyBTYW1lIGtpbmQgb2YgY2hlY2tpbmcgYXMgaW4gc3RhcnREcmFnXG4gICAgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICd0b3VjaG1vdmUnKSB7XG4gICAgICBuZXdDb29yZGluYXRlcy54ID0gZDMuZXZlbnQudG91Y2hlc1swXS5zY3JlZW5YO1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50LnRvdWNoZXNbMF0uc2NyZWVuWTtcbiAgICB9IGVsc2UgaWYgKGQzLmV2ZW50LnR5cGUgPT09ICd3aGVlbCcgJiYgZDMuZXZlbnQuc2hpZnRLZXkgPT09IGZhbHNlKSB7XG4gICAgICBpZiAodGhpcy5tYXRyaXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm1hdHJpeCA9IGdyb3VwLmdldFNjcmVlbkNUTSgpLmludmVyc2UoKTtcbiAgICAgIH1cbiAgICAgIGlmICh0aGlzLmRyYWdDb29yZGluYXRlcyA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzID0gZ3JvdXAuY3JlYXRlU1ZHUG9pbnQoKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuZHJhZ0Nvb3JkaW5hdGVzLnggPSBkMy5ldmVudC54O1xuICAgICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMueSA9IGQzLmV2ZW50Lnk7XG4gICAgICBuZXdDb29yZGluYXRlcy54ID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMueCAtIGQzLmV2ZW50LmRlbHRhWDtcbiAgICAgIG5ld0Nvb3JkaW5hdGVzLnkgPSB0aGlzLmRyYWdDb29yZGluYXRlcy55IC0gZDMuZXZlbnQuZGVsdGFZO1xuICAgICAgZDMuZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3Q29vcmRpbmF0ZXMueCA9IGQzLmV2ZW50Lng7XG4gICAgICBuZXdDb29yZGluYXRlcy55ID0gZDMuZXZlbnQueTtcbiAgICB9XG4gICAgY29uc3QgbmV3VHJhbnNmb3JtID0gbmV3Q29vcmRpbmF0ZXMubWF0cml4VHJhbnNmb3JtKHRoaXMubWF0cml4KTtcbiAgICBjb25zdCBkcmFnVHJhbnNmb3JtID0gdGhpcy5kcmFnQ29vcmRpbmF0ZXMubWF0cml4VHJhbnNmb3JtKHRoaXMubWF0cml4KTtcbiAgICB0aGlzLnRyYW5zbGF0ZSgtbmV3VHJhbnNmb3JtLnggKyBkcmFnVHJhbnNmb3JtLngsIC1uZXdUcmFuc2Zvcm0ueSArIGRyYWdUcmFuc2Zvcm0ueSk7XG4gICAgdGhpcy5kcmFnQ29vcmRpbmF0ZXMgPSBuZXdDb29yZGluYXRlcztcbiAgfVxuXG4gIHNjcm9sbFpvb20gKCk6IHZvaWQge1xuICAgIGlmIChkMy5ldmVudC50eXBlICE9PSAnd2hlZWwnKSByZXR1cm47XG4gICAgaWYgKCFkMy5ldmVudC5zaGlmdEtleSkge1xuICAgICAgdGhpcy5kcmFnZ2luZygpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBzbGlkZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnem9vbVNsaWRlcicpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gICAgdGhpcy5zZXRWaWV3Qm94KCk7XG4gICAgY29uc3QgayA9IHRoaXMudmlld0JveC5nZXRab29tKCk7XG4gICAgbGV0IG5ld0sgPSBrIC0gZDMuZXZlbnQuZGVsdGFYIC8gMTAwO1xuICAgIGlmIChuZXdLIDwgcGFyc2VJbnQoc2xpZGVyLmdldEF0dHJpYnV0ZSgnbWluJykpIC8gMTAwKSBuZXdLID0gMC4yNTtcbiAgICBpZiAobmV3SyA+IHBhcnNlSW50KHNsaWRlci5nZXRBdHRyaWJ1dGUoJ21heCcpKSAvIDEwMCkgbmV3SyA9IDQ7XG4gICAgdGhpcy56b29tVG8obmV3Syk7XG5cbiAgICAvLyBVcGRhdGUgem9vbSBzbGlkZXJcbiAgICBzbGlkZXIudmFsdWUgPSAobmV3SyAqIDEwMCkudG9TdHJpbmcoKTtcbiAgICAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3pvb21PdXRwdXQnKSBhcyBIVE1MT3V0cHV0RWxlbWVudCkudmFsdWUgPSBTdHJpbmcoTWF0aC5yb3VuZChuZXdLICogMTAwKSk7XG4gIH1cbn1cblxuZXhwb3J0IHsgWm9vbUhhbmRsZXIgYXMgZGVmYXVsdCB9O1xuIiwiaW1wb3J0IHsgYmluZEluc2VydFRhYnMsIGluaXRJbnNlcnRFZGl0Q29udHJvbHMsIGluaXRTZWxlY3Rpb25CdXR0b25zIH0gZnJvbSAnLi9Db250cm9scyc7XG5pbXBvcnQgKiBhcyBTZWxlY3QgZnJvbSAnLi4vdXRpbHMvU2VsZWN0JztcbmltcG9ydCBJbnNlcnRIYW5kbGVyIGZyb20gJy4vSW5zZXJ0SGFuZGxlcic7XG5pbXBvcnQgTmVvblZpZXcgZnJvbSAnLi4vTmVvblZpZXcnO1xuaW1wb3J0ICogYXMgU2VsZWN0T3B0aW9ucyBmcm9tICcuL1NlbGVjdE9wdGlvbnMnO1xuaW1wb3J0IHsgc2V0SGlnaGxpZ2h0U2VsZWN0aW9uQ29udHJvbHMgfSBmcm9tICcuLi9EaXNwbGF5UGFuZWwvRGlzcGxheUNvbnRyb2xzJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBOZXVtZUVkaXRJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0IHsgdW5kb1JlZG9QYW5lbCB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250ZW50cyc7XG5cbmNsYXNzIERpdmFFZGl0IGltcGxlbWVudHMgTmV1bWVFZGl0SW50ZXJmYWNlIHtcbiAgbmVvblZpZXc6IE5lb25WaWV3O1xuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXI7XG4gIGNvbnN0cnVjdG9yIChuZW9uVmlldzogTmVvblZpZXcpIHtcbiAgICB0aGlzLm5lb25WaWV3ID0gbmVvblZpZXc7XG4gICAgdGhpcy5pbml0RWRpdE1vZGUoKTtcbiAgfVxuXG4gIGluaXRFZGl0TW9kZSAoKTogdm9pZCB7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5pbnNlcnRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJykuaW5uZXJIVE1MICs9IENvbnRlbnRzLmVkaXRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvUmVkb19jb250cm9scycpLmlubmVySFRNTCA9IHVuZG9SZWRvUGFuZWw7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcuYWN0aXZlLXBhZ2UgPiBzdmcnKTtcbiAgICB0aGlzLmluc2VydEhhbmRsZXIgPSBuZXcgSW5zZXJ0SGFuZGxlcih0aGlzLm5lb25WaWV3LCAnLmFjdGl2ZS1wYWdlID4gc3ZnJyk7XG4gICAgYmluZEluc2VydFRhYnModGhpcy5pbnNlcnRIYW5kbGVyKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJpbWl0aXZlVGFiJykuY2xpY2soKTtcbiAgICBTZWxlY3Quc2V0U2VsZWN0SGVscGVyT2JqZWN0cyh0aGlzLm5lb25WaWV3LCB0aGlzLmRyYWdIYW5kbGVyKTtcbiAgICB0aGlzLnNldFNlbGVjdExpc3RlbmVycygpO1xuICAgIFNlbGVjdE9wdGlvbnMuaW5pdE5lb25WaWV3KHRoaXMubmVvblZpZXcpO1xuICAgIGluaXRJbnNlcnRFZGl0Q29udHJvbHMoKTtcbiAgICBTZWxlY3Quc2V0U2VsZWN0U3Ryb2tlV2lkdGgoMSk7XG4gICAgaW5pdFNlbGVjdGlvbkJ1dHRvbnMoKTtcbiAgICBzZXRIaWdobGlnaHRTZWxlY3Rpb25Db250cm9scygpO1xuICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnNldFNlbGVjdExpc3RlbmVycy5iaW5kKHRoaXMpKTtcblxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJykuY2xpY2soKTsgLy8gZm9jdXMgZGlzcGxheSBwYW5lbFxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlciBtb2RlIHRoYXQgTmVvbiBpcyBpbi4gRWl0aGVyIGluc2VydCwgZWRpdCwgb3Igdmlld2VyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0VXNlck1vZGUgKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuaW5zZXJ0SGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodGhpcy5pbnNlcnRIYW5kbGVyLmlzSW5zZXJ0TW9kZSgpKSB7XG4gICAgICAgIHJldHVybiAnaW5zZXJ0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnZWRpdCc7XG4gICAgfVxuICAgIHJldHVybiAndmlld2VyJztcbiAgfVxuXG4gIHNldFNlbGVjdExpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgU2VsZWN0LmNsaWNrU2VsZWN0KCcuYWN0aXZlLXBhZ2UgPiBzdmcgPiBzdmcsIC5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZyB1c2UsIC5hY3RpdmUtcGFnZSA+IHN2ZyA+IHN2ZyByZWN0Jyk7XG4gICAgU2VsZWN0LmRyYWdTZWxlY3QoJy5hY3RpdmUtcGFnZSBzdmcnKTtcbiAgfVxufVxuXG5leHBvcnQgeyBEaXZhRWRpdCBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgeyBiaW5kSW5zZXJ0VGFicywgaW5pdEluc2VydEVkaXRDb250cm9scywgaW5pdFNlbGVjdGlvbkJ1dHRvbnMgfSBmcm9tICcuL0NvbnRyb2xzJztcbmltcG9ydCB7IHNldEhpZ2hsaWdodE9wdGlvbiB9IGZyb20gJy4uL0Rpc3BsYXlQYW5lbC9EaXNwbGF5Q29udHJvbHMnO1xuaW1wb3J0IHsgaW5pdFVuZG9SZWRvUGFuZWwgfSBmcm9tICcuLi91dGlscy9FZGl0Q29udHJvbHMnO1xuaW1wb3J0ICogYXMgU2VsZWN0IGZyb20gJy4uL3V0aWxzL1NlbGVjdCc7XG5pbXBvcnQgSW5zZXJ0SGFuZGxlciBmcm9tICcuL0luc2VydEhhbmRsZXInO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4uL05lb25WaWV3JztcbmltcG9ydCAqIGFzIFNlbGVjdE9wdGlvbnMgZnJvbSAnLi9TZWxlY3RPcHRpb25zJztcbmltcG9ydCBEcmFnSGFuZGxlciBmcm9tICcuLi91dGlscy9EcmFnSGFuZGxlcic7XG5pbXBvcnQgeyBOZXVtZUVkaXRJbnRlcmZhY2UgfSBmcm9tICcuLi9JbnRlcmZhY2VzJztcbmltcG9ydCAqIGFzIENvbnRlbnRzIGZyb20gJy4vQ29udGVudHMnO1xuaW1wb3J0IHsgdW5kb1JlZG9QYW5lbCB9IGZyb20gJy4uL3V0aWxzL0VkaXRDb250ZW50cyc7XG5pbXBvcnQgeyBpbml0TmF2YmFyIH0gZnJvbSAnLi4vdXRpbHMvRWRpdENvbnRyb2xzJztcbmltcG9ydCB7IGdldFNldHRpbmdzIH0gZnJvbSAnLi4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogQW4gRWRpdCBNb2R1bGUgZm9yIGEgc2luZ2xlIHBhZ2Ugb2YgYSBtYW51c2NyaXB0LlxuICogV29ya3Mgd2l0aCB0aGUgU2luZ2xlVmlldyBtb2R1bGUuXG4gKi9cbmNsYXNzIFNpbmdsZUVkaXRNb2RlIGltcGxlbWVudHMgTmV1bWVFZGl0SW50ZXJmYWNlIHtcbiAgbmVvblZpZXc6IE5lb25WaWV3O1xuICBkcmFnSGFuZGxlcjogRHJhZ0hhbmRsZXI7XG4gIGluc2VydEhhbmRsZXI6IEluc2VydEhhbmRsZXI7XG4gIC8qKlxuICAgKiBDb25zdHJ1Y3RvciBmb3IgYW4gRWRpdE1vZGUgb2JqZWN0LlxuICAgKiBAcGFyYW0ge05lb25WaWV3fSBuZW9uVmlldyAtIFRoZSBOZW9uVmlldyBwYXJlbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMuaW5pdEVkaXRNb2RlKCk7XG4gIH1cblxuICAvKipcbiAgICogSW5pdGlhbGl6ZSBFZGl0IG1vZGUgKGRlZmF1bHQpLlxuICAgKi9cbiAgaW5pdEVkaXRNb2RlICgpOiB2b2lkIHtcblxuICAgIGluaXROYXZiYXIodGhpcy5uZW9uVmlldyk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2luc2VydF9jb250cm9scycpLmlubmVySFRNTCArPSBDb250ZW50cy5pbnNlcnRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlZGl0X2NvbnRyb2xzJykuaW5uZXJIVE1MICs9IENvbnRlbnRzLmVkaXRDb250cm9sc1BhbmVsO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1bmRvUmVkb19jb250cm9scycpLmlubmVySFRNTCA9IHVuZG9SZWRvUGFuZWw7XG5cbiAgICB0aGlzLmRyYWdIYW5kbGVyID0gbmV3IERyYWdIYW5kbGVyKHRoaXMubmVvblZpZXcsICcjc3ZnX2dyb3VwJyk7XG4gICAgdGhpcy5pbnNlcnRIYW5kbGVyID0gbmV3IEluc2VydEhhbmRsZXIodGhpcy5uZW9uVmlldywgJyNzdmdfZ3JvdXAnKTtcbiAgICBiaW5kSW5zZXJ0VGFicyh0aGlzLmluc2VydEhhbmRsZXIpO1xuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcmltaXRpdmVUYWInKS5jbGljaygpO1xuICAgIFNlbGVjdC5zZXRTZWxlY3RIZWxwZXJPYmplY3RzKHRoaXMubmVvblZpZXcsIHRoaXMuZHJhZ0hhbmRsZXIpO1xuICAgIHRoaXMuc2V0U2VsZWN0TGlzdGVuZXJzKCk7XG5cbiAgICBTZWxlY3RPcHRpb25zLmluaXROZW9uVmlldyh0aGlzLm5lb25WaWV3KTtcbiAgICBpbml0SW5zZXJ0RWRpdENvbnRyb2xzKCk7XG4gICAgaW5pdFNlbGVjdGlvbkJ1dHRvbnMoKTtcbiAgICBpbml0VW5kb1JlZG9QYW5lbCh0aGlzLm5lb25WaWV3KTtcbiAgICBzZXRIaWdobGlnaHRPcHRpb24oJ3NlbGVjdGlvbicpO1xuICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnNldFNlbGVjdExpc3RlbmVycy5iaW5kKHRoaXMpKTtcblxuICAgIC8vIGZvY3VzIGRpc3BsYXkgcGFuZWwgYnkgY2xpY2tpbmcgb24gdGhlIHN0b3JlZCBzZWxlY3Rpb24gbW9kZVxuICAgIGNvbnN0IHsgc2VsZWN0aW9uTW9kZSB9ID0gZ2V0U2V0dGluZ3MoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZWxlY3Rpb25Nb2RlKS5jbGljaygpO1xuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgdXNlciBtb2RlIHRoYXQgTmVvbiBpcyBpbi4gRWl0aGVyIGluc2VydCwgZWRpdCwgb3Igdmlld2VyLlxuICAgKiBAcmV0dXJucyB7c3RyaW5nfVxuICAgKi9cbiAgZ2V0VXNlck1vZGUgKCk6IHN0cmluZyB7XG4gICAgaWYgKHRoaXMuaW5zZXJ0SGFuZGxlciAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICBpZiAodGhpcy5pbnNlcnRIYW5kbGVyLmlzSW5zZXJ0TW9kZSgpKSB7XG4gICAgICAgIHJldHVybiAnaW5zZXJ0JztcbiAgICAgIH1cbiAgICAgIHJldHVybiAnZWRpdCc7XG4gICAgfVxuICAgIHJldHVybiAndmlld2VyJztcbiAgfVxuXG4gIHNldFNlbGVjdExpc3RlbmVycyAoKTogdm9pZCB7XG4gICAgU2VsZWN0LmNsaWNrU2VsZWN0KCcjc3ZnX2dyb3VwLCAjc3ZnX2dyb3VwIHVzZSwgI3N2Z19ncm91cCByZWN0Jyk7XG4gICAgU2VsZWN0LmRyYWdTZWxlY3QoJyNzdmdfZ3JvdXAnKTtcbiAgfVxufVxuXG5leHBvcnQgeyBTaW5nbGVFZGl0TW9kZSBhcyBkZWZhdWx0IH07XG4iLCIvKiogQG1vZHVsZSBJbmZvTW9kdWxlICovXG5cbmltcG9ydCBOZW9uVmlldyBmcm9tICcuL05lb25WaWV3JztcbmltcG9ydCB7IEluZm9JbnRlcmZhY2UgfSBmcm9tICcuL0ludGVyZmFjZXMnO1xuaW1wb3J0IHsgQXR0cmlidXRlcywgQ2xlZkF0dHJpYnV0ZXMgfSBmcm9tICcuL1R5cGVzJztcbmltcG9ydCB7IGdldFNldHRpbmdzLCBzZXRTZXR0aW5ncyB9IGZyb20gJy4vdXRpbHMvTG9jYWxTZXR0aW5ncyc7XG5cbi8qKlxuICogTWFwIG9mIGNvbnRvdXJzIHRvIG5ldW1lIG5hbWVzLlxuICovXG5jb25zdCBuZXVtZUdyb3VwcyA9IG5ldyBNYXAoXG4gIFtbJycsICdQdW5jdHVtJ10sIFsndScsICdQZXMnXSwgWydkJywgJ0NsaXZpcyddLCBbJ3V1JywgJ1NjYW5kaWN1cyddLCBbJ3VkJywgJ1RvcmN1bHVzJ10sIFsnZHUnLCAnUG9ycmVjdHVzJ10sIFsncycsICdEaXN0cm9waGEnXSwgWydzcycsICdUcmlzdG9waGEnXSxcbiAgICBbJ3NkJywgJ1ByZXNzdXMnXSwgWydkZCcsICdDbGltYWN1cyddLCBbJ2RkdScsICdDbGltYWN1c1Jlc3VwaW51cyddLCBbJ3VkdScsICdUb3JjdWx1c1Jlc3VwaW51cyddLCBbJ2R1ZCcsICdQb3JyZWN0dXNGbGV4dXMnXSxcbiAgICBbJ3VkZCcsICdQZXNTdWJwdW5jdGlzJ10sIFsndXVkJywgJ1NjYW5kaWN1c0ZsZXh1cyddLCBbJ3V1ZGQnLCAnU2NhbmRpY3VzU3VicHVuY3RpcyddLCBbJ2R1ZGQnLCAnUG9ycmVjdHVzU3VicHVuY3RpcyddXVxuKTtcblxuZnVuY3Rpb24gc3RhcnRJbmZvVmlzaWJpbGl0eSAoKTogdm9pZCB7XG4gIGNvbnN0IG5ldW1lSW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCduZXVtZV9pbmZvJyk7XG4gIG5ldW1lSW5mby5pbm5lckhUTUwgPVxuICAgIGA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtY29udGFpbmVyXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtaGVhZGVyXCI+RWxlbWVudCBJbmZvPC9kaXY+XG4gICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtYm9keVwiPjxpPkhvdmVyIG92ZXIgYW55IGVsZW1lbnQgdG8gc2VlIGl0cyBtZXRhZGF0YTwvaT48L2Rpdj5cbiAgICA8L2Rpdj5gO1xuICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV1bWVfaW5mbycpLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZScpO1xufVxuXG4vKipcbiAqIFVwZGF0ZSB0aGUgdmlzaWJpbGl0eSBvZiBpbmZvQm94XG4gKi9cbmZ1bmN0aW9uIHVwZGF0ZUluZm9WaXNpYmlsaXR5ICgpOiB2b2lkIHtcbiAgY29uc3QgbmV1bWVJbmZvID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25ldW1lX2luZm8nKTtcblxuICBjb25zdCBkaXNwbGF5QWxsQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktYWxsLWJ0bicpO1xuICBjb25zdCBkaXNwbGF5SW5mbyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SW5mbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICBjb25zdCBkaXNwbGF5VGV4dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5VGV4dCcpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XG4gIGNvbnN0IGRpc3BsYXlFcnJMb2cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1lcnJvcnMnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuXG4gIC8vIHNhdmUgc2V0dGluZyB0byBsb2NhbFN0b3JhZ2VcbiAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5SW5mbzogZGlzcGxheUluZm8uY2hlY2tlZCB9KTtcblxuICBpZiAoZGlzcGxheUluZm8uY2hlY2tlZCkge1xuICAgIG5ldW1lSW5mby5zZXRBdHRyaWJ1dGUoJ3N0eWxlJywgJycpO1xuICAgIC8vIHNjcm9sbCBuZXVtZSBpbmZvIGludG8gdmlld1xuICAgIC8vbmV1bWVJbmZvLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuXG4gICAgLy8gaWYgdGhpcyBpcyB0aGUgM3JkIG9wdGlvbiB0byBiZSBjaGVja2VkIChhbGwgdGhyZWUgYXJlIHNlbGVjdGVkKSxcbiAgICAvLyBzZXQgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIHRvIFwiSGlkZSBBbGxcIi5cbiAgICBpZiAoZGlzcGxheUluZm8/LmNoZWNrZWQgJiYgZGlzcGxheUJCb3hlcz8uY2hlY2tlZCAmJiBcbiAgICAgIGRpc3BsYXlUZXh0Py5jaGVja2VkICYmIGRpc3BsYXlFcnJMb2c/LmNoZWNrZWQpIHtcbiAgICAgIGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgbmV1bWVJbmZvLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogbm9uZScpO1xuICAgIC8vIGlmIFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiBpcyBpbiBcIkhpZGUgQWxsXCIgbW9kZSwgc2V0IGl0IHRvIFwiRGlzcGxheSBBbGxcIiBtb2RlXG4gICAgaWYgKGRpc3BsYXlBbGxCdG4uY2xhc3NMaXN0LmNvbnRhaW5zKCdzZWxlY3RlZCcpKSB7XG4gICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgfVxuICB9XG59XG5cbi8qKlxuICogTG9hZCBkaXNwbGF5SW5mbyBzZXR0aW5ncyBmcm9tIGxvY2FsU3RvcmFnZVxuICovXG5mdW5jdGlvbiBsb2FkU2V0dGluZ3MgKCk6IHZvaWQge1xuICBjb25zdCB7IGRpc3BsYXlJbmZvIH0gPSBnZXRTZXR0aW5ncygpO1xuICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUluZm8nKS5jaGVja2VkID0gZGlzcGxheUluZm87XG59XG5cbi8qKlxuICogU2V0IGxpc3RlbmVyIG9uIGluZm8gdmlzaWJpbGl0eSBjaGVja2JveC5cbiAqL1xuZnVuY3Rpb24gc2V0SW5mb0NvbnRyb2xzICgpOiB2b2lkIHtcbiAgc3RhcnRJbmZvVmlzaWJpbGl0eSgpO1xuICBsb2FkU2V0dGluZ3MoKTtcbiAgdXBkYXRlSW5mb1Zpc2liaWxpdHkoKTtcbiAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlJbmZvJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB1cGRhdGVJbmZvVmlzaWJpbGl0eSk7XG59XG5cbi8qKlxuICogQ2xhc3MgdGhhdCBtYW5hZ2VzIGdldHRpbmcgaW5mb3JtYXRpb24gZm9yIGVsZW1lbnRzIGluIE5lb24gZnJvbSBWZXJvdmlvLlxuICovXG5jbGFzcyBJbmZvTW9kdWxlIGltcGxlbWVudHMgSW5mb0ludGVyZmFjZSB7XG4gIHByaXZhdGUgbmVvblZpZXc6IE5lb25WaWV3O1xuXG4gIC8qKlxuICAgKiBBIGNvbnN0cnVjdG9yIGZvciBhbiBJbmZvTW9kdWxlLlxuICAgKiBAcGFyYW0ge05lb25WaWV3fSBuZW9uVmlldyAtIFRoZSBOZW9uVmlldyBwYXJlbnQuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIC8vIEFkZCBpbmZvIGJveCBlbmFibGUvZGlzYWJsZSBjaGVjayBib3hcbiAgICBjb25zdCBjaGVja2JveGVzQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktc2luZ2xlLWNvbnRhaW5lcicpO1xuICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICBsYWJlbC5jbGFzc0xpc3QuYWRkKCdjaGVja2JveC1jb250YWluZXInLCAnc2lkZS1wYW5lbC1idG4nKTtcbiAgICBsYWJlbC50ZXh0Q29udGVudCA9ICdJbmZvJztcbiAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgaW5wdXQuaWQgPSAnZGlzcGxheUluZm8nO1xuICAgIGlucHV0LmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94Jyk7XG4gICAgaW5wdXQudHlwZSA9ICdjaGVja2JveCc7XG4gICAgaW5wdXQuY2hlY2tlZCA9IGZhbHNlO1xuICAgIGxhYmVsLmFwcGVuZENoaWxkKGlucHV0KTtcbiAgICBjaGVja2JveGVzQ29udGFpbmVyLnByZXBlbmQobGFiZWwpO1xuXG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMucmVzZXRJbmZvTGlzdGVuZXJzLmJpbmQodGhpcykpO1xuICAgIHNldEluZm9Db250cm9scygpO1xuICAgIHRoaXMucmVzZXRJbmZvTGlzdGVuZXJzKCk7XG4gIH1cblxuICAvKipcbiAgICogU2V0IGxpc3RlbmVycyBmb3IgdGhlIEluZm9Nb2R1bGUuXG4gICAqIFRyaWdnZXIgYWN0aW9uIG9uIG1vdXNlb3ZlciBvZiBzcGVjaWZpYyBtdXNpY2FsIGVsZW1lbnQgY2xhc3Nlcy5cbiAgICovXG4gIGluZm9MaXN0ZW5lcnMgKCk6IHZvaWQge1xuICAgIHRyeSB7XG4gICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUtcGFnZScpWzBdXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUsLmN1c3RvcywuY2xlZiwuYWNjaWQsLmRpdkxpbmUnKVxuICAgICAgICAuZm9yRWFjaChub2RlID0+IHtcbiAgICAgICAgICBub2RlLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsIHRoaXMudXBkYXRlSW5mby5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZSkge31cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wIGxpc3RlbmVycyBmb3IgdGhlIEluZm9Nb2R1bGUuXG4gICAqL1xuICBzdG9wTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUsLmN1c3RvcywuY2xlZiwuYWNjaWQsLmRpdkxpbmUnKS5mb3JFYWNoKG5vZGUgPT4ge1xuICAgICAgbm9kZS5yZW1vdmVFdmVudExpc3RlbmVyKCdtb3VzZW92ZXInLCB0aGlzLnVwZGF0ZUluZm8uYmluZCh0aGlzKSk7XG4gICAgfSk7XG4gIH1cblxuICAvKipcbiAgICogUmVzdGFydCBsaXN0ZW5lcnMgZm9yIHRoZSBJbmZvTW9kdWxlLlxuICAgKi9cbiAgcmVzZXRJbmZvTGlzdGVuZXJzICgpOiB2b2lkIHtcbiAgICB0aGlzLnN0b3BMaXN0ZW5lcnMoKTtcbiAgICB0aGlzLmluZm9MaXN0ZW5lcnMoKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdXBkYXRlZCBpbmZvIGZvciB0aGUgY2FsbGluZyBlbGVtZW50IGJhc2VkIG9uIGl0cyBlbGVtZW50IHR5cGUuXG4gICAqIE1ha2VzIGNhbGxzIHRvIE5lb25Db3JlIHRvIGdldCB0aGUgaW5mb3JtYXRpb24gbmVjZXNzYXJ5LlxuICAgKi9cbiAgYXN5bmMgdXBkYXRlSW5mbyAoZXZlbnQ6IE1vdXNlRXZlbnQpOiBQcm9taXNlPHZvaWQ+IHtcbiAgLy8gRm9yIG5vdywgc2luY2UgQ2xlZnMgZG8gbm90IGhhdmUgdGhlaXIgb3duIGVsZW1lbnQgdGFnIGluIG1laTQsIHRoZXJlIGlzIG5vdCBhIHdheSB0byBzZWxlY3QgdGhlIDxnPiBlbGVtZW50XG4gIC8vIFNvIHdlIHdpbGwgc2ltcGx5IHJldHVybiBpZiBJRCBkb2VzIG5vdCBleGlzdCBmb3Igbm93XG4gICAgY29uc3QgaWQgPSAoZXZlbnQuY3VycmVudFRhcmdldCBhcyBIVE1MRWxlbWVudCkuaWQ7XG4gICAgaWYgKGlkID09PSAnJykge1xuICAgICAgQXJyYXkuZnJvbShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbmV1bWVfaW5mbycpLmNoaWxkcmVuKS5mb3JFYWNoKGNoaWxkID0+IHtcbiAgICAgICAgY2hpbGQucmVtb3ZlKCk7XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdObyBpZCEnKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBlbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoaWQpO1xuICAgIGNvbnN0IGNsYXNzUmUgPSAvbmV1bWV8bmN8Y2xlZnxjdXN0b3N8c3RhZmZ8bGlxdWVzY2VudHxhY2NpZHxkaXZMaW5lLztcbiAgICBjb25zdCBlbGVtZW50Q2xhc3MgPSBlbGVtZW50LmdldEF0dHJpYnV0ZSgnY2xhc3MnKS5tYXRjaChjbGFzc1JlKVswXTtcbiAgICBsZXQgYm9keSA9ICcnO1xuICAgIGxldCBhdHRyaWJ1dGVzOiBBdHRyaWJ1dGVzO1xuXG4gICAgLy8gR2V0cyB0aGUgcGl0Y2hlcyBkZXBlbmRpbmcgb24gZWxlbWVudCB0eXBlIGFuZFxuICAgIHN3aXRjaCAoZWxlbWVudENsYXNzKSB7XG4gICAgICBjYXNlICduZXVtZSc6IHtcbiAgICAgICAgLy8gU2VsZWN0IG5ldW1lIGNvbXBvbmVudHMgb2Ygc2VsZWN0ZWQgbmV1bWVcbiAgICAgICAgY29uc3QgbmNzID0gZWxlbWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmMnKSBhcyBOb2RlTGlzdE9mPFNWR0dyYXBoaWNzRWxlbWVudD47XG4gICAgICAgIGlmIChuY3MubGVuZ3RoID09PSAxKSB7XG4gICAgICAgICAgY29uc3QgYXR0cjogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmNzWzBdLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgICAgaWYgKGF0dHIuY3VydmUgPT09ICdhJyB8fCBhdHRyLmN1cnZlID09PSAnYycpIHtcbiAgICAgICAgICAgIGxldCBwaXRjaGVzID0gYXdhaXQgdGhpcy5nZXRQaXRjaGVzKG5jcyk7XG5cbiAgICAgICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgYm9keSA9ICdTaGFwZTogTGlxdWVzY2VudCcgKyAnXFxyXFxuJyArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgbGV0IGNvbnRvdXIgPSBhd2FpdCB0aGlzLmdldENvbnRvdXIobmNzKTtcbiAgICAgICAgaWYgKG5jcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICBjb25zdCBhdHRyOiBBdHRyaWJ1dGVzID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihuY3NbMF0uaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgICBpZihhdHRyLnRpbHQgPT09ICdzJykge1xuICAgICAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICAgICAgcGl0Y2hlcyA9IHBpdGNoZXMudHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBib2R5ID0gJ1NoYXBlOiBWaXJnYSBcXHJcXG4nICArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYoYXR0ci50aWx0ID09PSAnbicpe1xuICAgICAgICAgICAgbGV0IHBpdGNoZXMgPSBhd2FpdCB0aGlzLmdldFBpdGNoZXMobmNzKTtcblxuICAgICAgICAgICAgcGl0Y2hlcyA9IHBpdGNoZXMudHJpbSgpLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgICAgICBib2R5ID0gJ1NoYXBlOiBSZXZlcnNlZCBWaXJnYSBcXHJcXG4nICArXG4gICAgICAgICAgICAgICAgICAgICdQaXRjaChlcyk6ICcgKyBwaXRjaGVzO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChjb250b3VyID09PSAnQ2xpdmlzJykge1xuICAgICAgICAgIGNvbnN0IGF0dHI6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jc1swXS5pZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpO1xuICAgICAgICAgIGlmIChhdHRyLmxpZ2F0ZWQpIHtcbiAgICAgICAgICAgIGNvbnRvdXIgPSAnTGlnYXR1cmUnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBsZXQgcGl0Y2hlcyA9IGF3YWl0IHRoaXMuZ2V0UGl0Y2hlcyhuY3MpO1xuXG4gICAgICAgIHBpdGNoZXMgPSBwaXRjaGVzLnRyaW0oKS50b1VwcGVyQ2FzZSgpO1xuICAgICAgICBib2R5ID0gJ1NoYXBlOiAnICsgKGNvbnRvdXIgPT09IHVuZGVmaW5lZCA/ICdDb21wb3VuZCcgOiBjb250b3VyKSArICdcXHJcXG4nICtcbiAgICAgICAgICAgICAgICAnUGl0Y2goZXMpOiAnICsgcGl0Y2hlcztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjdXN0b3MnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGJvZHkgKz0gJ1BpdGNoOiAnICsgKGF0dHJpYnV0ZXNbJ3BuYW1lJ10pLnRvVXBwZXJDYXNlKCkgKyBhdHRyaWJ1dGVzWydvY3QnXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdhY2NpZCc6IHtcbiAgICAgICAgYXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIoaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgICAgbGV0IHR5cGUgPSAnJztcbiAgICAgICAgaWYgKChhdHRyaWJ1dGVzWydhY2NpZCddKS50b1VwcGVyQ2FzZSgpID09ICdGJyl7XG4gICAgICAgICAgdHlwZSA9ICdGbGF0JztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmKChhdHRyaWJ1dGVzWydhY2NpZCddKS50b1VwcGVyQ2FzZSgpID09ICdOJyl7XG4gICAgICAgICAgdHlwZSA9ICdOYXR1cmFsJztcbiAgICAgICAgfVxuICAgICAgICBib2R5ICs9ICdBY2NpZCBUeXBlOiAnICsgdHlwZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlICdjbGVmJzoge1xuICAgICAgICBjb25zdCBhdHRyID0gYXdhaXQgdGhpcy5uZW9uVmlldy5nZXRFbGVtZW50QXR0cihpZCwgdGhpcy5uZW9uVmlldy52aWV3LmdldEN1cnJlbnRQYWdlVVJJKCkpIGFzIENsZWZBdHRyaWJ1dGVzO1xuXG4gICAgICAgIC8vIElmIGNsZWYgaGFzIGJlZW4gZGlzcGxhY2VkLCBmb3JtYXQgYW5kIHNob3cgdGhlIGRpc3BsYWNlbWVudCBhc1xuICAgICAgICAvLyBudW1iZXIgb2Ygb2N0YXZlcyBub3QgbnVtYmVyIG9mIGZ1bGwgc3RlcHNcbiAgICAgICAgaWYgKGF0dHJbJ2Rpcy5wbGFjZSddICYmIGF0dHIuZGlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAvLyBDb21iaW5lIGFuZCBmb3JtYXQgYGRpcy5wbGFjZWAgYW5kIGBkaXNgOlxuICAgICAgICAgIC8vIEUuZy4sIGZvcm1hdCgnYWJvdmUnLCA4KSA9PiAnKzEnXG4gICAgICAgICAgLy8gRS5nLiwgZm9ybWF0KCdiZWxvdycsIDIyKSA9PiAnLTIyJ1xuICAgICAgICAgIGNvbnN0IGZvcm1hdCA9IChkaXNwbGFjZTogc3RyaW5nLCBkaXM6IHN0cmluZykgPT4ge1xuICAgICAgICAgICAgY29uc3QgZGlyID0gZGlzcGxhY2UgPT09ICdhYm92ZScgPyAnKycgOiAnLSc7XG4gICAgICAgICAgICBjb25zdCBvY3RhdmUgPSBTdHJpbmcoTWF0aC5mbG9vcihOdW1iZXIoZGlzKSAvIDcpKTtcbiAgICAgICAgICAgIHJldHVybiBkaXIgKyBvY3RhdmU7XG4gICAgICAgICAgfTtcblxuICAgICAgICAgIGJvZHkgKz0gJ09jdGF2ZSBEaXNwbGFjZW1lbnQ6ICcgKyBmb3JtYXQoYXR0clsnZGlzLnBsYWNlJ10sIGF0dHIuZGlzKSArICdcXHJcXG4nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIGJvZHkgKz0gJ09jdGF2ZSBEaXNwbGFjZW1lbnQ6IE5vbmVcXHJcXG4nO1xuICAgICAgICB9XG5cbiAgICAgICAgYm9keSArPSAnU2hhcGU6ICcgKyBhdHRyLnNoYXBlICsgJ1xcclxcbicgKyAnTGluZTogJyArIGF0dHIubGluZTtcblxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgJ2RpdkxpbmUnOiB7XG4gICAgICAgIGF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKGlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICAgIGJvZHkgKz0gJ0RpdkxpbmUgVHlwZTogJyArIGF0dHJpYnV0ZXNbJ2Zvcm0nXTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGJvZHkgKz0gJ25vdGhpbmcnO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gICAgYm9keSA9IGBUeXBlOiAke2VsZW1lbnRDbGFzc31cXG4ke2JvZHl9YDtcbiAgICB0aGlzLnVwZGF0ZUluZm9Nb2R1bGUoYm9keSk7XG4gIH1cblxuICAvKipcbiAgICogR2V0IHRoZSBpbmRpdmlkdWFsIHBpdGNoZXMgb2YgYSBuZXVtZS5cbiAgICogQHBhcmFtIG5jcyAtIE5ldW1lIGNvbXBvbmVudHMgaW4gdGhlIG5ldW1lLlxuICAgKiBAcmV0dXJucyBTcGFjZSBzZXBhcmF0ZWQgcGl0Y2hlcyBvZiB0aGUgbmV1bWUgY29tcG9uZW50cyBpbiBvcmRlci5cbiAgICovXG4gIGFzeW5jIGdldFBpdGNoZXMgKG5jczogSXRlcmFibGU8U1ZHR3JhcGhpY3NFbGVtZW50Pik6IFByb21pc2U8c3RyaW5nPiB7XG4gICAgbGV0IHBpdGNoZXMgPSAnJztcbiAgICBmb3IgKGNvbnN0IG5jIG9mIG5jcykge1xuICAgICAgY29uc3QgYXR0cmlidXRlczogQXR0cmlidXRlcyA9IGF3YWl0IHRoaXMubmVvblZpZXcuZ2V0RWxlbWVudEF0dHIobmMuaWQsIHRoaXMubmVvblZpZXcudmlldy5nZXRDdXJyZW50UGFnZVVSSSgpKTtcbiAgICAgIHBpdGNoZXMgKz0gYXR0cmlidXRlc1sncG5hbWUnXSArIGF0dHJpYnV0ZXNbJ29jdCddICsgJyAnO1xuICAgIH1cbiAgICByZXR1cm4gcGl0Y2hlcztcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXQgdGhlIGNvbnRvdXIgb2YgYSBuZXVtZS5cbiAgICogQHBhcmFtIG5jcyAtIE5ldW1lIGNvbXBvbmVudHMgaW4gdGhlIG5ldW1lLlxuICAgKi9cbiAgYXN5bmMgZ2V0Q29udG91ciAobmNzOiBJdGVyYWJsZTxTVkdHcmFwaGljc0VsZW1lbnQ+KTogUHJvbWlzZTxzdHJpbmc+IHtcbiAgICBsZXQgY29udG91ciA9ICcnO1xuICAgIGxldCBwcmV2aW91czogQXR0cmlidXRlcyA9IG51bGw7XG4gICAgZm9yIChjb25zdCBuYyBvZiBuY3MpIHtcbiAgICAgIGNvbnN0IGF0dHJpYnV0ZXM6IEF0dHJpYnV0ZXMgPSBhd2FpdCB0aGlzLm5lb25WaWV3LmdldEVsZW1lbnRBdHRyKG5jLmlkLCB0aGlzLm5lb25WaWV3LnZpZXcuZ2V0Q3VycmVudFBhZ2VVUkkoKSk7XG4gICAgICBpZiAocHJldmlvdXMgIT09IG51bGwpIHtcbiAgICAgICAgaWYgKHByZXZpb3VzWydvY3QnXSA+IGF0dHJpYnV0ZXNbJ29jdCddKSB7XG4gICAgICAgICAgY29udG91ciArPSAnZCc7XG4gICAgICAgIH0gZWxzZSBpZiAocHJldmlvdXNbJ29jdCddIDwgYXR0cmlidXRlc1snb2N0J10pIHtcbiAgICAgICAgICBjb250b3VyICs9ICd1JztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBpZiAodGhpcy5waXRjaE5hbWVUb051bShwcmV2aW91c1sncG5hbWUnXSkgPCB0aGlzLnBpdGNoTmFtZVRvTnVtKGF0dHJpYnV0ZXNbJ3BuYW1lJ10pKSB7XG4gICAgICAgICAgICBjb250b3VyICs9ICd1JztcbiAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGl0Y2hOYW1lVG9OdW0ocHJldmlvdXNbJ3BuYW1lJ10pID4gdGhpcy5waXRjaE5hbWVUb051bShhdHRyaWJ1dGVzWydwbmFtZSddKSkge1xuICAgICAgICAgICAgY29udG91ciArPSAnZCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNvbnRvdXIgKz0gJ3MnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJldmlvdXMgPSBhdHRyaWJ1dGVzO1xuICAgIH1cbiAgICBpZiAobmV1bWVHcm91cHMuZ2V0KGNvbnRvdXIpID09PSB1bmRlZmluZWQpIHtcbiAgICAgIGNvbnNvbGUud2FybignVW5rbm93biBjb250b3VyOiAnICsgY29udG91cik7XG4gICAgfVxuICAgIHJldHVybiBuZXVtZUdyb3Vwcy5nZXQoY29udG91cik7XG4gIH1cblxuICAvKipcbiAgICogU2hvdyBhbmQgdXBkYXRlIHRoZSBpbmZvIGJveC5cbiAgICogQHBhcmFtIGJvZHkgLSBUaGUgaW5mbyBib3ggY29udGVudHMuXG4gICAqL1xuICB1cGRhdGVJbmZvTW9kdWxlIChib2R5OiBzdHJpbmcpOiB2b2lkIHtcbiAgICAoPEhUTUxFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbmZvLWJ1YmJsZS1ib2R5JylbMF0pLmlubmVyVGV4dCA9IGJvZHk7XG5cbiAgICBpZiAoKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5SW5mbycpIGFzIEhUTUxJbnB1dEVsZW1lbnQpLmNoZWNrZWQpIHtcbiAgICAgIChkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbmZvLWJ1YmJsZS1jb250YWluZXInKVswXSBhcyBIVE1MRWxlbWVudCkuc3R5bGUuZGlzcGxheSA9ICcnO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBDb252ZXJ0IGEgcGl0Y2ggbmFtZSAoYS1nKSB0byBhIG51bWJlciAod2hlcmUgYyBpcyAxLCBkIGlzIDIsIC4uLmFuZCBiIGlzIDcpLlxuICAgKiBAcGFyYW0gcG5hbWUgLSBUaGUgcGl0Y2ggbmFtZS5cbiAgICogQHJldHVybnMgRXF1aXZhbGVudCBwaXRjaCBuYW1lIGFzIGEgbnVtYmVyIGZyb20gMSB0byA3LlxuICAgKi9cbiAgcGl0Y2hOYW1lVG9OdW0gKHBuYW1lOiBzdHJpbmcpOiBudW1iZXIge1xuICAgIHN3aXRjaCAocG5hbWUpIHtcbiAgICAgIGNhc2UgJ2MnOlxuICAgICAgICByZXR1cm4gMTtcbiAgICAgIGNhc2UgJ2QnOlxuICAgICAgICByZXR1cm4gMjtcbiAgICAgIGNhc2UgJ2UnOlxuICAgICAgICByZXR1cm4gMztcbiAgICAgIGNhc2UgJ2YnOlxuICAgICAgICByZXR1cm4gNDtcbiAgICAgIGNhc2UgJ2cnOlxuICAgICAgICByZXR1cm4gNTtcbiAgICAgIGNhc2UgJ2EnOlxuICAgICAgICByZXR1cm4gNjtcbiAgICAgIGNhc2UgJ2InOlxuICAgICAgICByZXR1cm4gNztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnNvbGUubG9nKCdVbmtub3duIHBpdGNoIG5hbWUnKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogRmluZCB0aGUgY29udG91ciBvZiBhbiBuZXVtZSBncm91cGluZyBiYXNlZCBvbiB0aGUgZ3JvdXBpbmcgbmFtZS5cbiAgICogQHBhcmFtIHZhbHVlIC0gVGhlIGNvbnRvdXIgbmFtZS5cbiAgICogQHJldHVybnMgQmVzdCBndWVzcyBuYW1lIG9mIHRoZSBuZXVtZSBzaGFwZS5cbiAgICovXG4gIGdldENvbnRvdXJCeVZhbHVlICh2YWx1ZTogc3RyaW5nKTogc3RyaW5nIHtcbiAgICBcbiAgICBmb3IgKGNvbnN0IFtjb250LCB2XSBvZiBuZXVtZUdyb3Vwcy5lbnRyaWVzKCkpIHtcbiAgICAgIGlmICh2ID09PSB2YWx1ZSkge1xuICAgICAgICByZXR1cm4gY29udDtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHsgSW5mb01vZHVsZSBhcyBkZWZhdWx0IH07XG4iLCJpbXBvcnQgKiBhcyBOb3RpZmljYXRpb24gZnJvbSAnLi91dGlscy9Ob3RpZmljYXRpb24nO1xuaW1wb3J0IE5lb25WaWV3IGZyb20gJy4vTmVvblZpZXcnO1xuaW1wb3J0IHsgdW5zZWxlY3QgfSBmcm9tICcuL3V0aWxzL1NlbGVjdFRvb2xzJztcbmltcG9ydCB7IHVwZGF0ZUhpZ2hsaWdodCB9IGZyb20gJy4vRGlzcGxheVBhbmVsL0Rpc3BsYXlDb250cm9scyc7XG5pbXBvcnQgeyBUZXh0Vmlld0ludGVyZmFjZSB9IGZyb20gJy4vSW50ZXJmYWNlcyc7XG5pbXBvcnQgeyBnZXRTZXR0aW5ncywgc2V0U2V0dGluZ3MgfSBmcm9tICcuL3V0aWxzL0xvY2FsU2V0dGluZ3MnO1xuXG4vKlxuICogQ2xhc3MgdGhhdCBtYW5hZ2VzIGdldHRpbmcgdGhlIHRleHQgZm9yIHN5bGxhYmxlcyBpbiBOZW9uIGZyb20gdGhlIG1laSBmaWxlXG4gKi9cbmNsYXNzIFRleHRWaWV3IGltcGxlbWVudHMgVGV4dFZpZXdJbnRlcmZhY2Uge1xuICBwcml2YXRlIG5lb25WaWV3OiBOZW9uVmlldztcbiAgLyoqIFdoZXRoZXIgb3Igbm90IHRoZSB1c2VyIGhhcyBiZWVuIG5vdGlmaWVkIGFib3V0IGJsYW5rIHN5bGxhYmxlcy4gKi9cbiAgcHJpdmF0ZSBub3RpZmljYXRpb25TZW50OiBib29sZWFuO1xuICAvKipcbiAgICogQSBjb25zdHJ1Y3RvciBmb3IgYSBUZXh0Vmlldy5cbiAgICogQHBhcmFtIG5lb25WaWV3IC0gVGhlIGNhbGxpbmcgW1tOZW9uVmlld11dIGZvciB0aGUgaW5zdGFuY2UuXG4gICAqL1xuICBjb25zdHJ1Y3RvciAobmVvblZpZXc6IE5lb25WaWV3KSB7XG4gICAgdGhpcy5uZW9uVmlldyA9IG5lb25WaWV3O1xuICAgIHRoaXMubm90aWZpY2F0aW9uU2VudCA9IGZhbHNlO1xuXG4gICAgLy8gYWRkIGNoZWNrYm94IHRvIGVuYWJsZS9kaXNhYmxlIHRoZSB2aWV3XG4gICAgY29uc3QgY2hlY2tib3hlc0NvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdkaXNwbGF5LXNpbmdsZS1jb250YWluZXInKTtcbiAgICBjb25zdCB0ZXh0TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgIGNvbnN0IGJib3hMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgY29uc3QgdGV4dEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgY29uc3QgYmJveEJ1dHRvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgdGV4dEJ1dHRvbi5jbGFzc0xpc3QuYWRkKCdjaGVja2JveCcpO1xuICAgIGJib3hCdXR0b24uY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gnKTtcbiAgICB0ZXh0TGFiZWwuY2xhc3NMaXN0LmFkZCgnY2hlY2tib3gtY29udGFpbmVyJywgJ3NpZGUtcGFuZWwtYnRuJyk7XG4gICAgYmJveExhYmVsLmNsYXNzTGlzdC5hZGQoJ2NoZWNrYm94LWNvbnRhaW5lcicsICdzaWRlLXBhbmVsLWJ0bicpO1xuICAgIHRleHRMYWJlbC50ZXh0Q29udGVudCA9ICdUZXh0JztcbiAgICBiYm94TGFiZWwudGV4dENvbnRlbnQgPSAnQkJveGVzJztcbiAgICB0ZXh0QnV0dG9uLmlkID0gJ2Rpc3BsYXlUZXh0JztcbiAgICB0ZXh0QnV0dG9uLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgIGJib3hCdXR0b24uaWQgPSAnZGlzcGxheUJCb3gnO1xuICAgIGJib3hCdXR0b24udHlwZSA9ICdjaGVja2JveCc7XG4gICAgdGV4dEJ1dHRvbi5jaGVja2VkID0gZmFsc2U7XG4gICAgYmJveEJ1dHRvbi5jaGVja2VkID0gZmFsc2U7XG4gICAgdGV4dExhYmVsLmFwcGVuZENoaWxkKHRleHRCdXR0b24pO1xuICAgIGJib3hMYWJlbC5hcHBlbmRDaGlsZChiYm94QnV0dG9uKTtcbiAgICBjaGVja2JveGVzQ29udGFpbmVyLnByZXBlbmQoYmJveExhYmVsKTtcbiAgICBjaGVja2JveGVzQ29udGFpbmVyLnByZXBlbmQodGV4dExhYmVsKTtcblxuICAgIHRoaXMubG9hZFNldHRpbmdzKCk7XG4gICAgdGhpcy5zZXRUZXh0Vmlld0NvbnRyb2xzKCk7XG4gICAgdGhpcy5uZW9uVmlldy52aWV3LmFkZFVwZGF0ZUNhbGxiYWNrKHRoaXMudXBkYXRlVGV4dFZpZXdWaXNpYmlsaXR5LmJpbmQodGhpcykpO1xuICAgIHRoaXMubmVvblZpZXcudmlldy5hZGRVcGRhdGVDYWxsYmFjayh0aGlzLnVwZGF0ZUJCb3hWaWV3VmlzaWJpbGl0eS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIC8qKlxuICAqIFNldCBsaXN0ZW5lcnMgb24gdGV4dHZpZXcgdmlzaWJpbGl0eSBjaGVja2JveFxuICAqL1xuICBzZXRUZXh0Vmlld0NvbnRyb2xzICgpOiB2b2lkIHtcbiAgICBmdW5jdGlvbiB0ZXh0Vmlld1ZpcyAoKTogdm9pZCB7IHRoaXMudXBkYXRlVGV4dFZpZXdWaXNpYmlsaXR5KCk7IH1cbiAgICBmdW5jdGlvbiBiYm94Vmlld1ZpcyAoKTogdm9pZCB7IHRoaXMudXBkYXRlQkJveFZpZXdWaXNpYmlsaXR5KCk7IH1cblxuICAgIHRoaXMudXBkYXRlVGV4dFZpZXdWaXNpYmlsaXR5KCk7XG4gICAgdGhpcy51cGRhdGVCQm94Vmlld1Zpc2liaWxpdHkoKTtcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheVRleHQnKVxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgdGV4dFZpZXdWaXMuYmluZCh0aGlzKSk7XG4gICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlCQm94JykgLy8gV2h5IGlzIEJCb3ggbG9naWMgaXMgaW5zaWRlIFRleHRWaWV3LnRzID8/P1xuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYmJveFZpZXdWaXMuYmluZCh0aGlzKSk7XG4gIH1cblxuICBsb2FkU2V0dGluZ3MgKCk6IHZvaWQge1xuICAgIGNvbnN0IHsgZGlzcGxheVRleHQsIGRpc3BsYXlCQm94IH0gPSBnZXRTZXR0aW5ncygpO1xuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3I8SFRNTElucHV0RWxlbWVudD4oJyNkaXNwbGF5VGV4dCcpLmNoZWNrZWQgPSBkaXNwbGF5VGV4dDtcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yPEhUTUxJbnB1dEVsZW1lbnQ+KCcjZGlzcGxheUJCb3gnKS5jaGVja2VkID0gZGlzcGxheUJCb3g7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlIHZpc2liaWxpdHkgb2YgdGV4dCBib3VuZGluZyBib3hlc1xuICAgKi9cbiAgdXBkYXRlQkJveFZpZXdWaXNpYmlsaXR5ICgpOiB2b2lkIHtcblxuICAgIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gICAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5RXJyTG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktZXJyb3JzJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgIC8vIHNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5QkJveDogZGlzcGxheUJCb3hlcy5jaGVja2VkIH0pO1xuXG4gICAgaWYgKGRpc3BsYXlCQm94ZXMuY2hlY2tlZCkge1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bFRleHRSZWN0JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdzeWxUZXh0UmVjdC1kaXNwbGF5Jyk7XG4gICAgICAgIHJlY3QuY2xhc3NMaXN0LnJlbW92ZSgnc3lsVGV4dFJlY3QnKTtcbiAgICAgIH0pO1xuICAgICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnN5bC5zZWxlY3RlZCAuc3lsVGV4dFJlY3QtZGlzcGxheScpXG4gICAgICAgIC5mb3JFYWNoKChyZWN0OiBIVE1MRWxlbWVudCkgPT4geyByZWN0LnN0eWxlLmZpbGwgPSAncmVkJzsgfSk7XG5cbiAgICAgIGlmICh0aGlzLm5lb25WaWV3LmdldFVzZXJNb2RlKCkgIT09ICd2aWV3ZXInICYmIHRoaXMubmVvblZpZXcuVGV4dEVkaXQgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICB0aGlzLm5lb25WaWV3LlRleHRFZGl0LmluaXRTZWxlY3RCeUJCb3hCdXR0b24oKTtcbiAgICAgIH1cblxuICAgICAgLy8gaWYgdGhpcyBpcyB0aGUgM3JkIG9wdGlvbiB0byBiZSBjaGVja2VkIChhbGwgdGhyZWUgYXJlIHNlbGVjdGVkKSxcbiAgICAgIC8vIHNldCBcIkRpc3BsYXkvSGlkZSBBbGxcIiBidXR0b24gdG8gXCJIaWRlIEFsbFwiLlxuICAgICAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgICAgICAgZGlzcGxheVRleHQ/LmNoZWNrZWQgJiYgZGlzcGxheUVyckxvZz8uY2hlY2tlZCkge1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICAgIH1cbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeUJCb3gnKT8uY2xhc3NMaXN0LmNvbnRhaW5zKCdpcy1hY3RpdmUnKSkge1xuICAgICAgICB1bnNlbGVjdCgpO1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94JykuY2xhc3NMaXN0LnJlbW92ZSgnaXMtYWN0aXZlJyk7XG4gICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzZWxCeVN5bGxhYmxlJykuY2xhc3NMaXN0LmFkZCgnaXMtYWN0aXZlJyk7XG4gICAgICB9XG5cbiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5zeWxUZXh0UmVjdC1kaXNwbGF5JykuZm9yRWFjaChyZWN0ID0+IHtcbiAgICAgICAgcmVjdC5jbGFzc0xpc3QuYWRkKCdzeWxUZXh0UmVjdCcpO1xuICAgICAgICByZWN0LmNsYXNzTGlzdC5yZW1vdmUoJ3N5bFRleHRSZWN0LWRpc3BsYXknKTtcbiAgICAgIH0pO1xuXG4gICAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuc3lsLnNlbGVjdGVkIC5zeWxUZXh0UmVjdCcpLmZvckVhY2goKHJlY3Q6IEhUTUxFbGVtZW50KSA9PiB7XG4gICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdub25lJztcbiAgICAgIH0pO1xuXG4gICAgICB0cnkge1xuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc2VsQnlCQm94Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIH0gXG4gICAgICBjYXRjaCAoZSkge31cblxuICAgICAgLy8gaWYgXCJEaXNwbGF5L0hpZGUgQWxsXCIgYnV0dG9uIGlzIGluIFwiSGlkZSBBbGxcIiBtb2RlLCBzZXQgaXQgdG8gXCJEaXNwbGF5IEFsbFwiIG1vZGVcbiAgICAgIGlmIChkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5jb250YWlucygnc2VsZWN0ZWQnKSkge1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0Rpc3BsYXkgQWxsJztcbiAgICAgIH1cbiAgICB9XG4gICAgdXBkYXRlSGlnaGxpZ2h0KCk7XG4gIH1cblxuICAvKipcbiAgKiBVcGRhdGUgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHRleHR2aWV3IGJveFxuICAqIGFuZCBhZGQgdGhlIGV2ZW50IGxpc3RlbmVycyB0byBtYWtlIHN1cmUgdGhlIHN5bCBoaWdobGlnaHRzIHdoZW4gbW91c2VkIG92ZXJcbiAgKi9cbiAgdXBkYXRlVGV4dFZpZXdWaXNpYmlsaXR5ICgpOiB2b2lkIHtcblxuICAgIGNvbnN0IGRpc3BsYXlBbGxCdG4gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheS1hbGwtYnRuJyk7XG4gICAgY29uc3QgZGlzcGxheUluZm8gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUluZm8nKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlCQm94ZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGlzcGxheUJCb3gnKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xuICAgIGNvbnN0IGRpc3BsYXlUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXlUZXh0JykgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICBjb25zdCBkaXNwbGF5RXJyTG9nID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Rpc3BsYXktZXJyb3JzJykgYXMgSFRNTElucHV0RWxlbWVudDtcblxuICAgIC8vIHNhdmUgdG8gbG9jYWxTdG9yYWdlXG4gICAgc2V0U2V0dGluZ3MoeyBkaXNwbGF5VGV4dDogZGlzcGxheVRleHQuY2hlY2tlZCB9KTtcblxuICAgIGlmIChkaXNwbGF5VGV4dC5jaGVja2VkKSB7XG4gICAgICBjb25zdCBzeWxUZXh0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0Jyk7XG4gICAgICBzeWxUZXh0LnN0eWxlLmRpc3BsYXkgPSAnJztcbiAgICAgIHN5bFRleHQuaW5uZXJIVE1MID0gXG4gICAgICAgIGA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtY29udGFpbmVyXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cImluZm8tYnViYmxlLWhlYWRlclwiPlN5bGxhYmxlcyBvbiB0aGlzIHBhZ2U8L2Rpdj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5mby1idWJibGUtYm9keVwiPiR7dGhpcy5nZXRTeWxUZXh0KCl9PC9kaXY+XG4gICAgICAgIDwvZGl2PmA7XG4gICAgICBjb25zdCBzcGFucyA9IHN5bFRleHQucXVlcnlTZWxlY3RvckFsbCgnc3BhbicpO1xuICAgICAgc3BhbnMuZm9yRWFjaChzcGFuID0+IHtcbiAgICAgICAgY29uc3Qgc3lsbGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzcGFuLmNsYXNzTGlzdFswXSk7XG4gICAgICAgIGNvbnN0IHN5bCA9IHN5bGxhYmxlLnF1ZXJ5U2VsZWN0b3IoJy5zeWwnKTtcbiAgICAgICAgY29uc3QgdGV4dCA9IHN5bC5xdWVyeVNlbGVjdG9yKCd0ZXh0Jyk7XG4gICAgICAgIGNvbnN0IHJlY3QgPSBzeWwucXVlcnlTZWxlY3RvcigncmVjdCcpO1xuICAgICAgICBpZiAodGV4dC5jbGFzc0xpc3QubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGV4dC5jbGFzc0xpc3QuYWRkKCd0ZXh0Jyk7XG4gICAgICAgIH1cblxuICAgICAgICBzcGFuLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlb3ZlcicsICgpID0+IHtcbiAgICAgICAgICBpZiAoc3lsbGFibGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgc3lsbGFibGUuY2xhc3NMaXN0LmFkZCgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICBzeWxsYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKG5ldW1lID0+IHtcbiAgICAgICAgICAgIG5ldW1lLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHJlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICcjZDAwJztcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gc3lsLmF0dHIoJ2ZpbGwnLCAnI2ZmYzdjNycpO1xuICAgICAgICAgIC8vIHRoaXMuaGlnaGxpZ2h0Qm91bmRpbmdCb3goc3Bhbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNwYW4uYWRkRXZlbnRMaXN0ZW5lcignbW91c2VsZWF2ZScsICgpID0+IHtcbiAgICAgICAgICBpZiAoc3lsbGFibGUuY2xhc3NMaXN0LmNvbnRhaW5zKCdzeWxsYWJsZS1oaWdobGlnaHRlZCcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgICAgc3lsbGFibGUuY2xhc3NMaXN0LnJlbW92ZSgnc2VsZWN0ZWQnKTtcbiAgICAgICAgICBzeWxsYWJsZS5xdWVyeVNlbGVjdG9yQWxsKCcubmV1bWUnKS5mb3JFYWNoKG5ldW1lID0+IHtcbiAgICAgICAgICAgIG5ldW1lLmNsYXNzTGlzdC5yZW1vdmUoJ3NlbGVjdGVkJyk7XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHJlY3QgIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChzeWxsYWJsZS5zdHlsZS5maWxsICE9PSAncmdiKDAsIDAsIDApJykgeyAvLyBzeWxsYWJsZS5nZXRBdHRyaWJ1dGVOUygnaHR0cDovL3d3dy53My5vcmcvMjAwMC9TVkcnLCAnZmlsbCcpO1xuICAgICAgICAgICAgICByZWN0LnN0eWxlLmZpbGwgPSBzeWxsYWJsZS5nZXRBdHRyaWJ1dGUoJ2ZpbGwnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlY3Quc3R5bGUuZmlsbCA9ICdibHVlJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gc3lsLmF0dHIoJ2ZpbGwnLCBudWxsKTtcbiAgICAgICAgICAvLyB0aGlzLnJlbW92ZUJvdW5kaW5nQm94KHNwYW4pO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuXG4gICAgICBpZiAodGhpcy5uZW9uVmlldy5nZXRVc2VyTW9kZSgpICE9PSAndmlld2VyJyAmJiB0aGlzLm5lb25WaWV3LlRleHRFZGl0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhpcy5uZW9uVmlldy5UZXh0RWRpdC5pbml0VGV4dEVkaXQoKTtcbiAgICAgIH1cblxuICAgICAgLy8gc2Nyb2xsIHRoZSBzeWxsYWJsZSB0ZXh0IGJ1YmJsZSBpbnRvIHZpZXdcbiAgICAgIC8vc3lsVGV4dC5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcblxuICAgICAgLy8gaWYgdGhpcyBpcyB0aGUgM3JkIG9wdGlvbiB0byBiZSBjaGVja2VkIChhbGwgdGhyZWUgYXJlIHNlbGVjdGVkKSxcbiAgICAgIC8vIHNldCBcIkRpc3BsYXkvSGlkZSBBbGxcIiBidXR0b24gdG8gXCJIaWRlIEFsbFwiLlxuICAgICAgaWYgKGRpc3BsYXlJbmZvPy5jaGVja2VkICYmIGRpc3BsYXlCQm94ZXM/LmNoZWNrZWQgJiYgXG4gICAgICAgICAgZGlzcGxheVRleHQ/LmNoZWNrZWQgJiYgZGlzcGxheUVyckxvZz8uY2hlY2tlZCkge1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmNsYXNzTGlzdC5hZGQoJ3NlbGVjdGVkJyk7XG4gICAgICAgIGRpc3BsYXlBbGxCdG4uaW5uZXJIVE1MID0gJ0hpZGUgQWxsJztcbiAgICAgIH1cbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3N5bF90ZXh0Jykuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgIC8vIGlmIFwiRGlzcGxheS9IaWRlIEFsbFwiIGJ1dHRvbiBpcyBpbiBcIkhpZGUgQWxsXCIgbW9kZSwgc2V0IGl0IHRvIFwiRGlzcGxheSBBbGxcIiBtb2RlXG4gICAgICBpZiAoZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QuY29udGFpbnMoJ3NlbGVjdGVkJykpIHtcbiAgICAgICAgZGlzcGxheUFsbEJ0bi5jbGFzc0xpc3QucmVtb3ZlKCdzZWxlY3RlZCcpO1xuICAgICAgICBkaXNwbGF5QWxsQnRuLmlubmVySFRNTCA9ICdEaXNwbGF5IEFsbCc7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIEdldCB0aGUgc3lsbGFibGUgdGV4dCBvZiB0aGUgbG9hZGVkIGZpbGVcbiAgICovXG4gIGdldFN5bFRleHQgKCk6IHN0cmluZyB7XG4gICAgbGV0IGx5cmljcyA9ICcnO1xuICAgIGNvbnN0IHVuaVRvRGFzaCA9IC9cXHVlNTUxL2c7XG4gICAgY29uc3Qgc3lsbGFibGVzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmFjdGl2ZS1wYWdlIC5zeWxsYWJsZScpO1xuICAgIHN5bGxhYmxlcy5mb3JFYWNoKHN5bGxhYmxlID0+IHtcbiAgICAgIGlmIChzeWxsYWJsZS5xdWVyeVNlbGVjdG9yKCcuc3lsJykgIT09IG51bGwpIHtcbiAgICAgICAgY29uc3Qgc3lsID0gc3lsbGFibGUucXVlcnlTZWxlY3RvcignLnN5bCcpO1xuICAgICAgICBseXJpY3MgKz0gYDxzcGFuIGNsYXNzPVwiJHtzeWxsYWJsZS5pZH0gc3lsLXRleHQtc2lkZS1wYW5lbFwiPmA7XG4gICAgICAgIGlmIChzeWwudGV4dENvbnRlbnQudHJpbSgpID09PSAnJykge1xuICAgICAgICAgIGx5cmljcyArPSAnJiN4MjVDQTsgJztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBBcnJheS5mcm9tKHN5bC5jaGlsZHJlblswXS5jaGlsZHJlblswXS5jaGlsZHJlbikuZm9yRWFjaCh0ZXh0ID0+IHtcbiAgICAgICAgICAgIGx5cmljcyArPSB0ZXh0LnRleHRDb250ZW50ICE9PSAnJyA/IHRleHQudGV4dENvbnRlbnQgOiAnJiN4MjVDQTsgJztcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBseXJpY3MgKz0gJyA8L3NwYW4+JztcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIXRoaXMubm90aWZpY2F0aW9uU2VudCkge1xuICAgICAgTm90aWZpY2F0aW9uLnF1ZXVlTm90aWZpY2F0aW9uKCdCbGFuayBzeWxsYWJsZXMgYXJlIHJlcHJlc2VudGVkIGJ5IOKXiiEnKTtcbiAgICAgIHRoaXMubm90aWZpY2F0aW9uU2VudCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBseXJpY3MucmVwbGFjZSh1bmlUb0Rhc2gsICctJyk7XG4gIH1cbn1cblxuZXhwb3J0IHsgVGV4dFZpZXcgYXMgZGVmYXVsdCB9O1xuIiwiZXhwb3J0IHsgc2V0RE9NQXR0cmlidXRlcyBhcyBzZXRBdHRyaWJ1dGVzIH07XG5cbi8qKlxuICogQ29udmVuaWVuY2UgZnVuY3Rpb24gdG8gY3JlYXRlIGEgRE9NIGVsZW1lbnQsIHNldCBhdHRyaWJ1dGVzIG9uIGl0LCBhbmRcbiAqIGFwcGVuZCBjaGlsZHJlbi4gQWxsIGFyZ3VtZW50cyB3aGljaCBhcmUgbm90IG9mIHByaW1pdGl2ZSB0eXBlLCBhcmUgbm90XG4gKiBhcnJheXMsIGFuZCBhcmUgbm90IERPTSBub2RlcyBhcmUgdHJlYXRlZCBhcyBhdHRyaWJ1dGUgaGFzaGVzIGFuZCBhcmVcbiAqIGhhbmRsZWQgYXMgZGVzY3JpYmVkIGZvciBzZXRET01BdHRyaWJ1dGVzLiBDaGlsZHJlbiBjYW4gZWl0aGVyIGJlIGEgRE9NXG4gKiBub2RlIG9yIGEgcHJpbWl0aXZlIHZhbHVlLCB3aGljaCBpcyBjb252ZXJ0ZWQgdG8gYSB0ZXh0IG5vZGUuIEFycmF5cyBhcmVcbiAqIGhhbmRsZWQgcmVjdXJzaXZlbHkuIE51bGwgYW5kIHVuZGVmaW5lZCB2YWx1ZXMgYXJlIGlnbm9yZWQuXG4gKlxuICogSW5zcGlyZWQgYnkgdGhlIFByb3NlTWlycm9yIGhlbHBlciBvZiB0aGUgc2FtZSBuYW1lLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZWx0ICh0YWcpXG57XG4gICAgY29uc3QgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG4gICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG5cbiAgICB3aGlsZSAoYXJncy5sZW5ndGgpXG4gICAge1xuICAgICAgICBjb25zdCBhcmcgPSBhcmdzLnNoaWZ0KCk7XG4gICAgICAgIGhhbmRsZUVsdENvbnN0cnVjdG9yQXJnKGVsLCBhcmcpO1xuICAgIH1cblxuICAgIHJldHVybiBlbDtcbn1cblxuZnVuY3Rpb24gaGFuZGxlRWx0Q29uc3RydWN0b3JBcmcgKGVsLCBhcmcpXG57XG4gICAgaWYgKGFyZyA9PSBudWxsKSAgLy8gTkI6ID09IGlzIGNvcnJlY3Q7XG4gICAgICAgIHJldHVybjtcblxuICAgIGlmICh0eXBlb2YgYXJnICE9PSAnb2JqZWN0JyAmJiB0eXBlb2YgYXJnICE9PSAnZnVuY3Rpb24nKVxuICAgIHtcbiAgICAgICAgLy8gQ29lcmNlIHRvIHN0cmluZ1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShhcmcpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYXJnIGluc3RhbmNlb2Ygd2luZG93Lk5vZGUpXG4gICAge1xuICAgICAgICBlbC5hcHBlbmRDaGlsZChhcmcpO1xuICAgIH1cbiAgICBlbHNlIGlmIChhcmcgaW5zdGFuY2VvZiBBcnJheSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGNoaWxkQ291bnQgPSBhcmcubGVuZ3RoO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkQ291bnQ7IGkrKylcbiAgICAgICAgICAgIGhhbmRsZUVsdENvbnN0cnVjdG9yQXJnKGVsLCBhcmdbaV0pO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBzZXRET01BdHRyaWJ1dGVzKGVsLCBhcmcpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBTZXQgYXR0cmlidXRlcyBvZiBhIERPTSBlbGVtZW50LiBUaGUgYHN0eWxlYCBwcm9wZXJ0eSBpcyBzcGVjaWFsLWNhc2VkIHRvXG4gKiBhY2NlcHQgZWl0aGVyIGEgc3RyaW5nIG9yIGFuIG9iamVjdCB3aG9zZSBvd24gYXR0cmlidXRlcyBhcmUgYXNzaWduZWQgdG9cbiAqIGVsLnN0eWxlLlxuICovXG5mdW5jdGlvbiBzZXRET01BdHRyaWJ1dGVzIChlbCwgYXR0cmlidXRlcylcbntcbiAgICBmb3IgKGNvbnN0IHByb3AgaW4gYXR0cmlidXRlcylcbiAgICB7XG4gICAgICAgIGlmICghYXR0cmlidXRlcy5oYXNPd25Qcm9wZXJ0eShwcm9wKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgIGlmIChwcm9wID09PSAnc3R5bGUnKVxuICAgICAgICB7XG4gICAgICAgICAgICBzZXRTdHlsZShlbCwgYXR0cmlidXRlcy5zdHlsZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBlbC5zZXRBdHRyaWJ1dGUocHJvcCwgYXR0cmlidXRlc1twcm9wXSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNldFN0eWxlIChlbCwgc3R5bGUpXG57XG4gICAgaWYgKCFzdHlsZSlcbiAgICAgICAgcmV0dXJuO1xuXG4gICAgaWYgKHR5cGVvZiBzdHlsZSAhPT0gJ29iamVjdCcpXG4gICAge1xuICAgICAgICBlbC5zdHlsZS5jc3NUZXh0ID0gc3R5bGU7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBmb3IgKGNvbnN0IGNzc1Byb3AgaW4gc3R5bGUpXG4gICAge1xuICAgICAgICBpZiAoIXN0eWxlLmhhc093blByb3BlcnR5KGNzc1Byb3ApKVxuICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgZWwuc3R5bGVbY3NzUHJvcF0gPSBzdHlsZVtjc3NQcm9wXTtcbiAgICB9XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gRGl2YVBhcmVudEVsZW1lbnROb3RGb3VuZEV4Y2VwdGlvbiAobWVzc2FnZSlcbntcbiAgICB0aGlzLm5hbWUgPSBcIkRpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb25cIjtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlO1xuICAgIHRoaXMuc3RhY2sgPSAobmV3IEVycm9yKCkpLnN0YWNrO1xufVxuXG5EaXZhUGFyZW50RWxlbWVudE5vdEZvdW5kRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gTm90QW5JSUlGTWFuaWZlc3RFeGNlcHRpb24gKG1lc3NhZ2UpXG57XG4gICAgdGhpcy5uYW1lID0gXCJOb3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvblwiO1xuICAgIHRoaXMubWVzc2FnZSA9IG1lc3NhZ2U7XG4gICAgdGhpcy5zdGFjayA9IChuZXcgRXJyb3IoKSkuc3RhY2s7XG59XG5cbk5vdEFuSUlJRk1hbmlmZXN0RXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuXG5leHBvcnQgZnVuY3Rpb24gT2JqZWN0RGF0YU5vdFN1cHBsaWVkRXhjZXB0aW9uIChtZXNzYWdlKVxue1xuICAgIHRoaXMubmFtZSA9IFwiT2JqZWN0RGF0YU5vdFN1cHBsaWVkRXhjZXB0aW9uXCI7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB0aGlzLnN0YWNrID0gKG5ldyBFcnJvcigpKS5zdGFjaztcbn1cblxuT2JqZWN0RGF0YU5vdFN1cHBsaWVkRXhjZXB0aW9uLnByb3RvdHlwZSA9IG5ldyBFcnJvcigpO1xuIiwiaW1wb3J0IHsgRXZlbnRzIH0gZnJvbSAnLi91dGlscy9ldmVudHMnO1xuXG5jb25zdCBkaXZhID0ge1xuICAgIEV2ZW50czogRXZlbnRzLFxufTtcblxuZXhwb3J0IGRlZmF1bHQgZGl2YTtcbiIsIi8qKlxuICogRXZlbnRzLiBQdWIvU3ViIHN5c3RlbSBmb3IgTG9vc2VseSBDb3VwbGVkIGxvZ2ljLlxuICogQmFzZWQgb24gUGV0ZXIgSGlnZ2lucycgcG9ydCBmcm9tIERvam8gdG8galF1ZXJ5XG4gKiBodHRwczovL2dpdGh1Yi5jb20vcGhpZ2dpbnM0Mi9ibG9vZHktanF1ZXJ5LXBsdWdpbnMvYmxvYi9tYXN0ZXIvcHVic3ViLmpzXG4gKlxuICogUmUtYWRhcHRlZCB0byB2YW5pbGxhIEphdmFzY3JpcHRcbiAqXG4gKiBAY2xhc3MgRXZlbnRzXG4gKi9cblxuY2xhc3MgRGl2YUV2ZW50c1xue1xuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NhY2hlID0ge307XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGl2YS5FdmVudHMucHVibGlzaFxuICAgICAqIGUuZy46IGRpdmEuRXZlbnRzLnB1Ymxpc2goXCJQYWdlRGlkTG9hZFwiLCBbcGFnZUluZGV4LCBmaWxlbmFtZSwgcGFnZVNlbGVjdG9yXSwgdGhpcyk7XG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRzXG4gICAgICogQG1ldGhvZCBwdWJsaXNoXG4gICAgICogQHBhcmFtIHRvcGljIHtTdHJpbmd9XG4gICAgICogQHBhcmFtIGFyZ3MgIHtBcnJheX1cbiAgICAgKiBAcGFyYW0gc2NvcGUge09iamVjdD19IE9wdGlvbmFsIC0gU3Vic2NyaWJlZCBmdW5jdGlvbnMgd2lsbCBiZSBleGVjdXRlZCB3aXRoIHRoZSBzdXBwbGllZCBvYmplY3QgYXMgYHRoaXNgLlxuICAgICAqICAgICBJdCBpcyBuZWNlc3NhcnkgdG8gc3VwcGx5IHRoaXMgYXJndW1lbnQgd2l0aCB0aGUgc2VsZiB2YXJpYWJsZSB3aGVuIHdpdGhpbiBhIERpdmEgaW5zdGFuY2UuXG4gICAgICogICAgIFRoZSBzY29wZSBhcmd1bWVudCBpcyBtYXRjaGVkIHdpdGggdGhlIGluc3RhbmNlIElEIG9mIHN1YnNjcmliZXJzIHRvIGRldGVybWluZSB3aGV0aGVyIHRoZXlcbiAgICAgKiAgICAgICAgIHNob3VsZCBiZSBleGVjdXRlZC4gKFNlZSBpbnN0YW5jZUlEIGFyZ3VtZW50IG9mIHN1YnNjcmliZS4pXG4gICAgICovXG4gICAgcHVibGlzaCh0b3BpYywgYXJncywgc2NvcGUpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fY2FjaGVbdG9waWNdKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB0aGlzVG9waWMgPSB0aGlzLl9jYWNoZVt0b3BpY107XG5cbiAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpc1RvcGljLmdsb2JhbCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGhpc1RvcGljR2xvYmFsID0gdGhpc1RvcGljLmdsb2JhbDtcbiAgICAgICAgICAgICAgICBjb25zdCBnbG9iYWxDb3VudCA9IHRoaXNUb3BpY0dsb2JhbC5sZW5ndGg7XG5cbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpPTA7IGkgPCBnbG9iYWxDb3VudDsgaSsrKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpc1RvcGljR2xvYmFsW2ldLmFwcGx5KHNjb3BlIHx8IG51bGwsIGFyZ3MgfHwgW10pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNjb3BlICYmIHR5cGVvZiBzY29wZS5nZXRJbnN0YW5jZUlkICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBnZXQgcHVibGlzaGVyIGluc3RhbmNlIElEIGZyb20gc2NvcGUgYXJnLCBjb21wYXJlLCBhbmQgZXhlY3V0ZSBpZiBtYXRjaFxuICAgICAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlSUQgPSBzY29wZS5nZXRJbnN0YW5jZUlkKCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGhpc1RvcGljSW5zdGFuY2UgPSB0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjb3BlZENvdW50ID0gdGhpc1RvcGljSW5zdGFuY2UubGVuZ3RoO1xuXG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGo9MDsgaiA8IHNjb3BlZENvdW50OyBqKyspXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXNUb3BpY0luc3RhbmNlW2pdLmFwcGx5KHNjb3BlLCBhcmdzIHx8IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnN1YnNjcmliZVxuICAgICAqIGUuZy46IGRpdmEuRXZlbnRzLnN1YnNjcmliZShcIlBhZ2VEaWRMb2FkXCIsIGhpZ2hsaWdodCwgc2V0dGluZ3MuSUQpXG4gICAgICpcbiAgICAgKiBAY2xhc3MgRXZlbnRzXG4gICAgICogQG1ldGhvZCBzdWJzY3JpYmVcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdG9waWNcbiAgICAgKiBAcGFyYW0ge2Z1bmN0aW9ufSBjYWxsYmFja1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gaW5zdGFuY2VJRCAgT3B0aW9uYWwgLSBTdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBJRCBvZiBhIERpdmEgaW5zdGFuY2U7IGlmIHByb3ZpZGVkLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2sgb25seSBmaXJlcyBmb3IgZXZlbnRzIHB1Ymxpc2hlZCBmcm9tIHRoYXQgaW5zdGFuY2UuXG4gICAgICogQHJldHVybiBFdmVudCBoYW5kbGVyIHtBcnJheX1cbiAgICAgKi9cbiAgICBzdWJzY3JpYmUodG9waWMsIGNhbGxiYWNrLCBpbnN0YW5jZUlEKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jYWNoZVt0b3BpY10pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RvcGljXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR5cGVvZiBpbnN0YW5jZUlEID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RvcGljXVtpbnN0YW5jZUlEXS5wdXNoKGNhbGxiYWNrKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICghdGhpcy5fY2FjaGVbdG9waWNdLmdsb2JhbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZVt0b3BpY10uZ2xvYmFsID0gW107XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RvcGljXS5nbG9iYWwucHVzaChjYWxsYmFjayk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gaW5zdGFuY2VJRCA/IFt0b3BpYywgY2FsbGJhY2ssIGluc3RhbmNlSURdIDogW3RvcGljLCBjYWxsYmFja107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogZGl2YS5FdmVudHMudW5zdWJzY3JpYmVcbiAgICAgKiBlLmcuOiB2YXIgaGFuZGxlID0gRXZlbnRzLnN1YnNjcmliZShcIlBhZ2VEaWRMb2FkXCIsIGhpZ2hsaWdodCk7XG4gICAgICogICAgICAgICBFdmVudHMudW5zdWJzY3JpYmUoaGFuZGxlKTtcbiAgICAgKlxuICAgICAqIEBjbGFzcyBFdmVudHNcbiAgICAgKiBAbWV0aG9kIHVuc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHthcnJheX0gaGFuZGxlXG4gICAgICogQHBhcmFtIHtib29sZWFuPX0gY29tcGxldGVseSAtIFVuc3Vic2NyaWJlIGFsbCBldmVudHMgZm9yIGEgZ2l2ZW4gdG9waWMuXG4gICAgICogQHJldHVybiB7Ym9vbGVhbn0gc3VjY2Vzc1xuICAgICAqL1xuICAgIHVuc3Vic2NyaWJlKGhhbmRsZSwgY29tcGxldGVseSlcbiAgICB7XG4gICAgICAgIGNvbnN0IHQgPSBoYW5kbGVbMF07XG5cbiAgICAgICAgaWYgKHRoaXMuX2NhY2hlW3RdKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdG9waWNBcnJheTtcbiAgICAgICAgICAgIGNvbnN0IGluc3RhbmNlSUQgPSBoYW5kbGUubGVuZ3RoID09PSAzID8gaGFuZGxlWzJdIDogJ2dsb2JhbCc7XG5cbiAgICAgICAgICAgIHRvcGljQXJyYXkgPSB0aGlzLl9jYWNoZVt0XVtpbnN0YW5jZUlEXTtcblxuICAgICAgICAgICAgaWYgKCF0b3BpY0FycmF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKGNvbXBsZXRlbHkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NhY2hlW3RdW2luc3RhbmNlSURdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0b3BpY0FycmF5Lmxlbmd0aCA+IDA7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGxldCBpID0gdG9waWNBcnJheS5sZW5ndGg7XG5cbiAgICAgICAgICAgIHdoaWxlIChpLS0pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKHRvcGljQXJyYXlbaV0gPT09IGhhbmRsZVsxXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlW3RdW2luc3RhbmNlSURdLnNwbGljZShpLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlQWxsXG4gICAgICogZS5nLjogZGl2YS5FdmVudHMudW5zdWJzY3JpYmVBbGwoJ2dsb2JhbCcpO1xuICAgICAqXG4gICAgICogQGNsYXNzIEV2ZW50c1xuICAgICAqIEBwYXJhbSB7c3RyaW5nPX0gaW5zdGFuY2VJRCBPcHRpb25hbCAtIGluc3RhbmNlIElEIHRvIHJlbW92ZSBzdWJzY3JpYmVycyBmcm9tIG9yICdnbG9iYWwnIChpZiBvbWl0dGVkLFxuICAgICAqICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc3Vic2NyaWJlcnMgaW4gYWxsIHNjb3BlcyByZW1vdmVkKVxuICAgICAqIEBtZXRob2QgdW5zdWJzY3JpYmVBbGxcbiAgICAgKi9cbiAgICB1bnN1YnNjcmliZUFsbChpbnN0YW5jZUlEKVxuICAgIHtcbiAgICAgICAgaWYgKGluc3RhbmNlSUQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRvcGljcyA9IE9iamVjdC5rZXlzKHRoaXMuX2NhY2hlKTtcbiAgICAgICAgICAgIGxldCBpID0gdG9waWNzLmxlbmd0aDtcbiAgICAgICAgICAgIGxldCB0b3BpYztcblxuICAgICAgICAgICAgd2hpbGUgKGktLSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0b3BpYyA9IHRvcGljc1tpXTtcblxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGhpcy5fY2FjaGVbdG9waWNdW2luc3RhbmNlSURdICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9jYWNoZVt0b3BpY11baW5zdGFuY2VJRF07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FjaGUgPSB7fTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGxldCBFdmVudHMgPSBuZXcgRGl2YUV2ZW50cygpO1xuIiwiZXhwb3J0IGRlZmF1bHQge1xuICAgIG9uRG91YmxlQ2xpY2ssXG4gICAgb25QaW5jaCxcbiAgICBvbkRvdWJsZVRhcFxufTtcblxuY29uc3QgRE9VQkxFX0NMSUNLX1RJTUVPVVQgPSA1MDA7XG5jb25zdCBET1VCTEVfVEFQX0RJU1RBTkNFX1RIUkVTSE9MRCA9IDUwO1xuY29uc3QgRE9VQkxFX1RBUF9USU1FT1VUID0gMjUwO1xuXG5mdW5jdGlvbiBvbkRvdWJsZUNsaWNrKGVsZW0sIGNhbGxiYWNrKVxue1xuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcignZGJsY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpXG4gICAge1xuICAgICAgICBpZiAoIWV2ZW50LmN0cmxLZXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LCBnZXRSZWxhdGl2ZU9mZnNldChldmVudC5jdXJyZW50VGFyZ2V0LCBldmVudCkpO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICAvLyBIYW5kbGUgdGhlIGNvbnRyb2wga2V5IGZvciBtYWNzIChpbiBjb25qdW5jdGlvbiB3aXRoIGRvdWJsZS1jbGlja2luZylcbiAgICAvLyBGSVhNRTogRG9lcyBhIGNsaWNrIGdldCBoYW5kbGVkIHdpdGggY3RybCBwcmVzc2VkIG9uIG5vbi1NYWNzP1xuICAgIGNvbnN0IHRyYWNrZXIgPSBjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIoRE9VQkxFX0NMSUNLX1RJTUVPVVQpO1xuXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIGZ1bmN0aW9uIChldmVudClcbiAgICB7XG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKGV2ZW50LmN0cmxLZXkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh0cmFja2VyLmlzVHJpZ2dlcmVkKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJhY2tlci5yZXNldCgpO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LCBnZXRSZWxhdGl2ZU9mZnNldChldmVudC5jdXJyZW50VGFyZ2V0LCBldmVudCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRyYWNrZXIudHJpZ2dlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG59XG5cbmZ1bmN0aW9uIG9uUGluY2goZWxlbSwgY2FsbGJhY2spXG57XG4gICAgbGV0IHN0YXJ0RGlzdGFuY2UgPSAwO1xuXG4gICAgZWxlbS5hZGRFdmVudExpc3RlbmVyKCd0b3VjaHN0YXJ0JywgZnVuY3Rpb24gKGV2ZW50KVxuICAgIHtcbiAgICAgICAgLy8gUHJldmVudCBtb3VzZSBldmVudCBmcm9tIGZpcmluZ1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmIChldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXMubGVuZ3RoID09PSAyKVxuICAgICAgICB7XG4gICAgICAgICAgICBzdGFydERpc3RhbmNlID0gZGlzdGFuY2UoXG4gICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzBdLmNsaWVudFksXG4gICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzFdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgZXZlbnQub3JpZ2luYWxFdmVudC50b3VjaGVzWzFdLmNsaWVudFlcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgZnVuY3Rpb24oZXZlbnQpXG4gICAge1xuICAgICAgICAvLyBQcmV2ZW50IG1vdXNlIGV2ZW50IGZyb20gZmlyaW5nXG4gICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgaWYgKGV2ZW50Lm9yaWdpbmFsRXZlbnQudG91Y2hlcy5sZW5ndGggPT09IDIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRvdWNoZXMgPSBldmVudC5vcmlnaW5hbEV2ZW50LnRvdWNoZXM7XG5cbiAgICAgICAgICAgIGNvbnN0IG1vdmVEaXN0YW5jZSA9IGRpc3RhbmNlKFxuICAgICAgICAgICAgICAgIHRvdWNoZXNbMF0uY2xpZW50WCxcbiAgICAgICAgICAgICAgICB0b3VjaGVzWzBdLmNsaWVudFksXG4gICAgICAgICAgICAgICAgdG91Y2hlc1sxXS5jbGllbnRYLFxuICAgICAgICAgICAgICAgIHRvdWNoZXNbMV0uY2xpZW50WVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgY29uc3Qgem9vbURlbHRhID0gbW92ZURpc3RhbmNlIC0gc3RhcnREaXN0YW5jZTtcblxuICAgICAgICAgICAgaWYgKE1hdGguYWJzKHpvb21EZWx0YSkgPiAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvdWNoQ2VudGVyID0ge1xuICAgICAgICAgICAgICAgICAgICBwYWdlWDogKHRvdWNoZXNbMF0uY2xpZW50WCArIHRvdWNoZXNbMV0uY2xpZW50WCkgLyAyLFxuICAgICAgICAgICAgICAgICAgICBwYWdlWTogKHRvdWNoZXNbMF0uY2xpZW50WSArIHRvdWNoZXNbMV0uY2xpZW50WSkgLyAyXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGV2ZW50LCBnZXRSZWxhdGl2ZU9mZnNldChldmVudC5jdXJyZW50VGFyZ2V0LCB0b3VjaENlbnRlciksIHN0YXJ0RGlzdGFuY2UsIG1vdmVEaXN0YW5jZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZnVuY3Rpb24gb25Eb3VibGVUYXAoZWxlbSwgY2FsbGJhY2spXG57XG4gICAgY29uc3QgdHJhY2tlciA9IGNyZWF0ZURvdWJsZUV2ZW50VHJhY2tlcihET1VCTEVfVEFQX1RJTUVPVVQpO1xuICAgIGxldCBmaXJzdFRhcCA9IG51bGw7XG5cbiAgICBlbGVtLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PlxuICAgIHtcbiAgICAgICAgLy8gUHJldmVudCBtb3VzZSBldmVudCBmcm9tIGZpcmluZ1xuICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gICAgICAgIGlmICh0cmFja2VyLmlzVHJpZ2dlcmVkKCkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRyYWNrZXIucmVzZXQoKTtcblxuICAgICAgICAgICAgLy8gRG91YmxldGFwIGhhcyBvY2N1cnJlZFxuICAgICAgICAgICAgY29uc3Qgc2Vjb25kVGFwID0ge1xuICAgICAgICAgICAgICAgIHBhZ2VYOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgcGFnZVk6IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgLy8gSWYgZmlyc3QgdGFwIGlzIGNsb3NlIHRvIHNlY29uZCB0YXAgKHByZXZlbnRzIGludGVyZmVyZW5jZSB3aXRoIHNjYWxlIGV2ZW50KVxuICAgICAgICAgICAgY29uc3QgdGFwRGlzdGFuY2UgPSBkaXN0YW5jZShmaXJzdFRhcC5wYWdlWCwgZmlyc3RUYXAucGFnZVksIHNlY29uZFRhcC5wYWdlWCwgc2Vjb25kVGFwLnBhZ2VZKTtcblxuICAgICAgICAgICAgLy8gVE9ETzogQ291bGQgZ2l2ZSBzb21ldGhpbmcgaGlnaGVyLWxldmVsIHRoYW4gc2Vjb25kVGFwIHRvIGNhbGxiYWNrXG4gICAgICAgICAgICBpZiAodGFwRGlzdGFuY2UgPCBET1VCTEVfVEFQX0RJU1RBTkNFX1RIUkVTSE9MRClcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhldmVudCwgZ2V0UmVsYXRpdmVPZmZzZXQoZXZlbnQuY3VycmVudFRhcmdldCwgc2Vjb25kVGFwKSk7XG5cbiAgICAgICAgICAgIGZpcnN0VGFwID0gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZpcnN0VGFwID0ge1xuICAgICAgICAgICAgICAgIHBhZ2VYOiBldmVudC5vcmlnaW5hbEV2ZW50LmNoYW5nZWRUb3VjaGVzWzBdLmNsaWVudFgsXG4gICAgICAgICAgICAgICAgcGFnZVk6IGV2ZW50Lm9yaWdpbmFsRXZlbnQuY2hhbmdlZFRvdWNoZXNbMF0uY2xpZW50WVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgdHJhY2tlci50cmlnZ2VyKCk7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuLy8gUHl0aGFnb3JlYW4gdGhlb3JlbSB0byBnZXQgdGhlIGRpc3RhbmNlIGJldHdlZW4gdHdvIHBvaW50cyAodXNlZCBmb3Jcbi8vIGNhbGN1bGF0aW5nIGZpbmdlciBkaXN0YW5jZSBmb3IgZG91YmxlLXRhcCBhbmQgcGluY2gtem9vbSlcbmZ1bmN0aW9uIGRpc3RhbmNlKHgxLCB5MSwgeDIsIHkyKVxue1xuICAgIHJldHVybiBNYXRoLnNxcnQoKHgyIC0geDEpICogKHgyIC0geDEpICsgKHkyIC0geTEpICogKHkyIC0geTEpKTtcbn1cblxuLy8gVXRpbGl0eSB0byBrZWVwIHRyYWNrIG9mIHdoZXRoZXIgYW4gZXZlbnQgaGFzIGJlZW4gdHJpZ2dlcmVkIHR3aWNlXG4vLyBkdXJpbmcgYSBhIGdpdmVuIGR1cmF0aW9uXG5mdW5jdGlvbiBjcmVhdGVEb3VibGVFdmVudFRyYWNrZXIodGltZW91dER1cmF0aW9uKVxue1xuICAgIGxldCB0cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICBsZXQgdGltZW91dElkID0gbnVsbDtcblxuICAgIHJldHVybiB7XG4gICAgICAgIHRyaWdnZXIoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmVzZXRUaW1lb3V0KCk7XG4gICAgICAgICAgICB0aW1lb3V0SWQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcmVkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgdGltZW91dElkID0gbnVsbDtcbiAgICAgICAgICAgIH0sIHRpbWVvdXREdXJhdGlvbik7XG4gICAgICAgIH0sXG4gICAgICAgIGlzVHJpZ2dlcmVkKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRyaWdnZXJlZDtcbiAgICAgICAgfSxcbiAgICAgICAgcmVzZXQoKVxuICAgICAgICB7XG4gICAgICAgICAgICB0cmlnZ2VyZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHJlc2V0VGltZW91dCgpO1xuICAgICAgICB9XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIHJlc2V0VGltZW91dCgpXG4gICAge1xuICAgICAgICBpZiAodGltZW91dElkICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dElkKTtcbiAgICAgICAgICAgIHRpbWVvdXRJZCA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFJlbGF0aXZlT2Zmc2V0KGVsZW0sIHBhZ2VDb29yZHMpXG57XG4gICAgY29uc3QgYm91bmRzID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGxlZnQ6IHBhZ2VDb29yZHMucGFnZVggLSBib3VuZHMubGVmdCxcbiAgICAgICAgdG9wOiBwYWdlQ29vcmRzLnBhZ2VZIC0gYm91bmRzLnRvcFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBlbHQgfSBmcm9tICcuL3V0aWxzL2VsdCc7XG4vKipcbipcbipcbioqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZVRvb2xzT3ZlcmxheVxue1xuICAgIGNvbnN0cnVjdG9yIChwYWdlSW5kZXgsIHZpZXdlckNvcmUpXG4gICAge1xuICAgICAgICB0aGlzLnBhZ2UgPSBwYWdlSW5kZXg7XG5cbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZSA9IHZpZXdlckNvcmU7XG5cbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpLmlubmVyRWxlbWVudDtcbiAgICAgICAgdGhpcy5fcGFnZVRvb2xzRWxlbSA9IG51bGw7XG4gICAgICAgIHRoaXMubGFiZWxXaWR0aCA9IDA7XG4gICAgfVxuXG4gICAgbW91bnQgKClcbiAgICB7XG4gICAgICAgIGlmICh0aGlzLl9wYWdlVG9vbHNFbGVtID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9idXR0b25zID0gdGhpcy5faW5pdGlhbGl6ZVBhZ2VUb29sQnV0dG9ucygpO1xuXG4gICAgICAgICAgICB0aGlzLl9wYWdlVG9vbHNFbGVtID0gZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLXRvb2xzLXdyYXBwZXInIH0sXG4gICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnZGl2YS1wYWdlLXRvb2xzJyB9LCB0aGlzLl9idXR0b25zKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgdGhpcy5fcGFnZUxhYmVsc0VsZW0gPSBlbHQoJ2RpdicsIHsgY2xhc3M6ICdkaXZhLXBhZ2UtbGFiZWxzLXdyYXBwZXInfSxcbiAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdkaXZhLXBhZ2UtbGFiZWxzJyB9LCB0aGlzLl92aWV3ZXJDb3JlLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMucGFnZV0ubClcbiAgICAgICAgICAgICk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LmFwcGVuZENoaWxkKHRoaXMuX3BhZ2VUb29sc0VsZW0pO1xuICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQuYXBwZW5kQ2hpbGQodGhpcy5fcGFnZUxhYmVsc0VsZW0pO1xuICAgIH1cblxuICAgIF9pbml0aWFsaXplUGFnZVRvb2xCdXR0b25zICgpXG4gICAge1xuICAgICAgICAvLyBDYWxsYmFjayBwYXJhbWV0ZXJzXG4gICAgICAgIGNvbnN0IHNldHRpbmdzID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpO1xuICAgICAgICBjb25zdCBwdWJsaWNJbnN0YW5jZSA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UHVibGljSW5zdGFuY2UoKTtcbiAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5wYWdlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3ZXJDb3JlLmdldFBhZ2VUb29scygpLm1hcCggKHBsdWdpbikgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gISEhIFRoZSBub2RlIG5lZWRzIHRvIGJlIGNsb25lZCBvdGhlcndpc2UgaXQgaXMgZGV0YWNoZWQgZnJvbVxuICAgICAgICAgICAgLy8gIG9uZSBhbmQgcmVhdHRhY2hlZCB0byB0aGUgb3RoZXIuXG4gICAgICAgICAgICBjb25zdCBidXR0b24gPSBwbHVnaW4ucGFnZVRvb2xzSWNvbi5jbG9uZU5vZGUodHJ1ZSk7XG5cbiAgICAgICAgICAgIC8vIGVuc3VyZSB0aGUgcGx1Z2luIGluc3RhbmNlIGlzIGhhbmRlZCBhcyB0aGUgZmlyc3QgYXJndW1lbnQgdG8gY2FsbDtcbiAgICAgICAgICAgIC8vIHRoaXMgd2lsbCBzZXQgdGhlIGNvbnRleHQgKGkuZS4sIGB0aGlzYCkgb2YgdGhlIGhhbmRsZUNsaWNrIGNhbGwgdG8gdGhlIHBsdWdpbiBpbnN0YW5jZVxuICAgICAgICAgICAgLy8gaXRzZWxmLlxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGV2ZW50KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHBsdWdpbi5oYW5kbGVDbGljay5jYWxsKHBsdWdpbiwgZXZlbnQsIHNldHRpbmdzLCBwdWJsaWNJbnN0YW5jZSwgcGFnZUluZGV4KTtcbiAgICAgICAgICAgIH0sIGZhbHNlKTtcblxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ3RvdWNoZW5kJywgKGV2ZW50KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgZmlyaW5nIG9mIGVtdWxhdGVkIG1vdXNlIGV2ZW50c1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cbiAgICAgICAgICAgICAgICBwbHVnaW4uaGFuZGxlQ2xpY2suY2FsbChwbHVnaW4sIGV2ZW50LCBzZXR0aW5ncywgcHVibGljSW5zdGFuY2UsIHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9LCBmYWxzZSk7XG5cbiAgICAgICAgICAgIHJldHVybiBidXR0b247XG5cbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgdW5tb3VudCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5uZXJFbGVtZW50LnJlbW92ZUNoaWxkKHRoaXMuX3BhZ2VUb29sc0VsZW0pO1xuICAgICAgICB0aGlzLl9pbm5lckVsZW1lbnQucmVtb3ZlQ2hpbGQodGhpcy5fcGFnZUxhYmVsc0VsZW0pO1xuICAgIH1cblxuICAgIHJlZnJlc2ggKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHBvcyA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVJlZ2lvbih0aGlzLnBhZ2UsIHtcbiAgICAgICAgICAgIGluY2x1ZGVQYWRkaW5nOiB0cnVlLFxuICAgICAgICAgICAgaW5jb3Jwb3JhdGVWaWV3cG9ydDogdHJ1ZVxuICAgICAgICB9KTtcblxuICAgICAgICAvLyBpZiB3aW5kb3cgaXMgcmVzaXplZCBsYXJnZXIsIGEgbWFyZ2luIGlzIGNyZWF0ZWQgLSBuZWVkIHRvIHN1YnRyYWN0IHRoaXMgZnJvbSBvZmZzZXRzXG4gICAgICAgIGxldCBtYXJnaW5MZWZ0ID0gd2luZG93LmdldENvbXB1dGVkU3R5bGUodGhpcy5faW5uZXJFbGVtZW50LCBudWxsKS5nZXRQcm9wZXJ0eVZhbHVlKCdtYXJnaW4tbGVmdCcpO1xuXG4gICAgICAgIHRoaXMuX3BhZ2VUb29sc0VsZW0uc3R5bGUudG9wID0gYCR7cG9zLnRvcH1weGA7XG4gICAgICAgIHRoaXMuX3BhZ2VUb29sc0VsZW0uc3R5bGUubGVmdCA9IGAke3Bvcy5sZWZ0IC0gcGFyc2VJbnQobWFyZ2luTGVmdCl9cHhgO1xuXG4gICAgICAgIHRoaXMuX3BhZ2VMYWJlbHNFbGVtLnN0eWxlLnRvcCA9IGAke3Bvcy50b3B9cHhgO1xuICAgICAgICB0aGlzLl9wYWdlTGFiZWxzRWxlbS5zdHlsZS5sZWZ0ID0gYCR7cG9zLnJpZ2h0IC0gcGFyc2VJbnQobWFyZ2luTGVmdCkgLSB0aGlzLmxhYmVsV2lkdGggLSA1fXB4YDtcbiAgICB9XG59XG4iLCJpbXBvcnQgeyBtYXhCeSB9IGZyb20gJ2xvZGFzaCc7XG5pbXBvcnQgUGFnZVRvb2xzT3ZlcmxheSBmcm9tICcuL3BhZ2UtdG9vbHMtb3ZlcmxheSc7XG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRG9jdW1lbnRIYW5kbGVyXG57XG4gICAgY29uc3RydWN0b3IgKHZpZXdlckNvcmUpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlID0gdmlld2VyQ29yZTtcbiAgICAgICAgdGhpcy5fdmlld2VyU3RhdGUgPSB2aWV3ZXJDb3JlLmdldEludGVybmFsU3RhdGUoKTtcbiAgICAgICAgdGhpcy5fb3ZlcmxheXMgPSBbXTtcblxuICAgICAgICBpZiAodGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlVG9vbHMoKS5sZW5ndGgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IG51bVBhZ2VzID0gdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpLm51bVBhZ2VzO1xuXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG51bVBhZ2VzOyBpKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3ZlcmxheSA9IG5ldyBQYWdlVG9vbHNPdmVybGF5KGksIHZpZXdlckNvcmUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX292ZXJsYXlzLnB1c2gob3ZlcmxheSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5hZGRQYWdlT3ZlcmxheShvdmVybGF5KTtcblxuICAgICAgICAgICAgICAgIC8vIGNyZWF0ZSBkdW1teSBsYWJlbCBmb3Igd2lkdGggY2FsY3VsYXRpb25cbiAgICAgICAgICAgICAgICAvLyB0aGlzIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIHRoZSBfcGFnZVRvb2xzRWxlbSBpcyBvbmx5IGNyZWF0ZWQgb24gbW91bnRcbiAgICAgICAgICAgICAgICAvLyBzbyB0aGVyZSdzIG5vIG90aGVyIHdheSB0byBnZXQgaXRzIHdpZHRoIGJlZm9yZSB0aGUgcGFnZXMgYXJlIGxvYWRlZFxuICAgICAgICAgICAgICAgIC8vICh3aGljaCB3ZSBuZWVkIHRvIGF2b2lkIHRoZWlyIHdpZHRoIHRlbXBvcmFyaWx5IGJlaW5nIDAgd2hpbGUgbG9hZGluZylcbiAgICAgICAgICAgICAgICBsZXQgZHVtbXlMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3NwYW4nKTtcbiAgICAgICAgICAgICAgICBkdW1teUxhYmVsLmlubmVySFRNTCA9IHZpZXdlckNvcmUuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbaV0ubDtcbiAgICAgICAgICAgICAgICBkdW1teUxhYmVsLmNsYXNzTGlzdC5hZGQoJ2RpdmEtcGFnZS1sYWJlbHMnKTtcbiAgICAgICAgICAgICAgICBkdW1teUxhYmVsLnNldEF0dHJpYnV0ZSgnc3R5bGUnLCAnZGlzcGxheTogaW5saW5lLWJsb2NrOycpO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoZHVtbXlMYWJlbCk7XG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsV2lkdGggPSBkdW1teUxhYmVsLmNsaWVudFdpZHRoO1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQoZHVtbXlMYWJlbCk7XG5cbiAgICAgICAgICAgICAgICBvdmVybGF5LmxhYmVsV2lkdGggPSBsYWJlbFdpZHRoO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy8gVVNFUiBFVkVOVFNcbiAgICBvbkRvdWJsZUNsaWNrIChldmVudCwgY29vcmRzKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCk7XG4gICAgICAgIGNvbnN0IG5ld1pvb21MZXZlbCA9IGV2ZW50LmN0cmxLZXkgPyBzZXR0aW5ncy56b29tTGV2ZWwgLSAxIDogc2V0dGluZ3Muem9vbUxldmVsICsgMTtcblxuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldChjb29yZHMpO1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnpvb20obmV3Wm9vbUxldmVsLCBwb3NpdGlvbik7XG4gICAgfVxuXG4gICAgb25QaW5jaCAoZXZlbnQsIGNvb3Jkcywgc3RhcnREaXN0YW5jZSwgZW5kRGlzdGFuY2UpXG4gICAge1xuICAgICAgICAvLyBGSVhNRTogRG8gdGhpcyBjaGVjayBpbiBhIHdheSB3aGljaCBpcyBsZXNzIHNwYWdoZXR0aSBjb2RlLXlcbiAgICAgICAgY29uc3Qgdmlld2VyU3RhdGUgPSB0aGlzLl92aWV3ZXJDb3JlLmdldEludGVybmFsU3RhdGUoKTtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCk7XG5cbiAgICAgICAgbGV0IG5ld1pvb21MZXZlbCA9IE1hdGgubG9nKE1hdGgucG93KDIsIHNldHRpbmdzLnpvb21MZXZlbCkgKiBlbmREaXN0YW5jZSAvIChzdGFydERpc3RhbmNlICogTWF0aC5sb2coMikpKSAvIE1hdGgubG9nKDIpO1xuICAgICAgICBuZXdab29tTGV2ZWwgPSBNYXRoLm1heChzZXR0aW5ncy5taW5ab29tTGV2ZWwsIG5ld1pvb21MZXZlbCk7XG4gICAgICAgIG5ld1pvb21MZXZlbCA9IE1hdGgubWluKHNldHRpbmdzLm1heFpvb21MZXZlbCwgbmV3Wm9vbUxldmVsKTtcblxuICAgICAgICBpZiAobmV3Wm9vbUxldmVsID09PSBzZXR0aW5ncy56b29tTGV2ZWwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBvc2l0aW9uID0gdGhpcy5fdmlld2VyQ29yZS5nZXRQYWdlUG9zaXRpb25BdFZpZXdwb3J0T2Zmc2V0KGNvb3Jkcyk7XG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCk7XG4gICAgICAgIGNvbnN0IGNlbnRlck9mZnNldCA9IGxheW91dC5nZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldChwb3NpdGlvbi5hbmNob3JQYWdlLCB2aWV3ZXJTdGF0ZS52aWV3cG9ydCk7XG4gICAgICAgIGNvbnN0IHNjYWxlUmF0aW8gPSAxIC8gTWF0aC5wb3coMiwgc2V0dGluZ3Muem9vbUxldmVsIC0gbmV3Wm9vbUxldmVsKTtcblxuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnJlbG9hZCh7XG4gICAgICAgICAgICB6b29tTGV2ZWw6IG5ld1pvb21MZXZlbCxcbiAgICAgICAgICAgIGdvRGlyZWN0bHlUbzogcG9zaXRpb24uYW5jaG9yUGFnZSxcbiAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IChjZW50ZXJPZmZzZXQueCAtIHBvc2l0aW9uLm9mZnNldC5sZWZ0KSArIHBvc2l0aW9uLm9mZnNldC5sZWZ0ICogc2NhbGVSYXRpbyxcbiAgICAgICAgICAgIHZlcnRpY2FsT2Zmc2V0OiAoY2VudGVyT2Zmc2V0LnkgLSBwb3NpdGlvbi5vZmZzZXQudG9wKSArIHBvc2l0aW9uLm9mZnNldC50b3AgKiBzY2FsZVJhdGlvXG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIC8vIFZJRVcgRVZFTlRTXG4gICAgb25WaWV3V2lsbExvYWQgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaCgnRG9jdW1lbnRXaWxsTG9hZCcsIHRoaXMuX3ZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKSk7XG4gICAgfVxuXG4gICAgb25WaWV3RGlkTG9hZCAoKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETzogU2hvdWxkIG9ubHkgYmUgbmVjZXNzYXJ5IHRvIGhhbmRsZSBjaGFuZ2VzIG9uIHZpZXcgdXBkYXRlLCBub3RcbiAgICAgICAgLy8gaW5pdGlhbCBsb2FkXG4gICAgICAgIHRoaXMuX2hhbmRsZVpvb21MZXZlbENoYW5nZSgpO1xuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlSW5kZXggPSB0aGlzLl92aWV3ZXJDb3JlLmdldFNldHRpbmdzKCkuYWN0aXZlUGFnZUluZGV4O1xuICAgICAgICBjb25zdCBmaWxlTmFtZSA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZU5hbWUoY3VycmVudFBhZ2VJbmRleCk7XG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaChcIkRvY3VtZW50RGlkTG9hZFwiLCBjdXJyZW50UGFnZUluZGV4LCBmaWxlTmFtZSk7XG4gICAgfVxuXG4gICAgb25WaWV3RGlkVXBkYXRlIChyZW5kZXJlZFBhZ2VzLCB0YXJnZXRQYWdlKVxuICAgIHtcbiAgICAgICAgY29uc3QgY3VycmVudFBhZ2UgPSAodGFyZ2V0UGFnZSAhPT0gbnVsbCkgP1xuICAgICAgICAgICAgdGFyZ2V0UGFnZSA6XG4gICAgICAgICAgICBnZXRDZW50ZXJtb3N0UGFnZShyZW5kZXJlZFBhZ2VzLCB0aGlzLl92aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKSwgdGhpcy5fdmlld2VyQ29yZS5nZXRWaWV3cG9ydCgpKTtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHZpc2libGUgcGFnZXMgZnJvbSB0aGUgcmVuZGVyZWQgcGFnZXNcbiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLl92aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIC8vIHdpdGhvdXQgc2V0dGluZyB0byAwLCBpc1BhZ2VWaXNpYmxlIHJldHVybnMgdHJ1ZSBmb3IgcGFnZXMgb3V0IG9mIHZpZXdwb3J0IGJ5IGludGVyc2VjdGlvblRvbGVyYW5jZVxuICAgICAgICB0aGlzLl92aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgPSAwO1xuICAgICAgICBsZXQgdmlzaWJsZVBhZ2VzID0gcmVuZGVyZWRQYWdlcy5maWx0ZXIoaW5kZXggPT4gdGhpcy5fdmlld2VyU3RhdGUucmVuZGVyZXIuaXNQYWdlVmlzaWJsZShpbmRleCkpO1xuICAgICAgICAvLyByZXNldCBiYWNrIHRvIG9yaWdpbmFsIHZhbHVlIGFmdGVyIGdldHRpbmcgdHJ1ZSB2aXNpYmxlIHBhZ2VzXG4gICAgICAgIHRoaXMuX3ZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZSA9IHRlbXA7XG5cbiAgICAgICAgLy8gRG9uJ3QgY2hhbmdlIHRoZSBjdXJyZW50IHBhZ2UgaWYgdGhlcmUgaXMgbm8gcGFnZSBpbiB0aGUgdmlld3BvcnRcbiAgICAgICAgLy8gRklYTUU6IFdvdWxkIGJlIGJldHRlciB0byBmYWxsIGJhY2sgdG8gdGhlIHBhZ2UgY2xvc2VzdCB0byB0aGUgdmlld3BvcnRcbiAgICAgICAgaWYgKGN1cnJlbnRQYWdlICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnNldEN1cnJlbnRQYWdlcyhjdXJyZW50UGFnZSwgdmlzaWJsZVBhZ2VzKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0YXJnZXRQYWdlICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl92aWV3ZXJDb3JlLnB1Ymxpc2goXCJWaWV3ZXJEaWRKdW1wXCIsIHRhcmdldFBhZ2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5faGFuZGxlWm9vbUxldmVsQ2hhbmdlKCk7XG4gICAgfVxuXG4gICAgX2hhbmRsZVpvb21MZXZlbENoYW5nZSAoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgdmlld2VyU3RhdGUgPSB0aGlzLl92aWV3ZXJTdGF0ZTtcbiAgICAgICAgY29uc3Qgem9vbUxldmVsID0gdmlld2VyU3RhdGUub3B0aW9ucy56b29tTGV2ZWw7XG5cbiAgICAgICAgLy8gSWYgdGhpcyBpcyBub3QgdGhlIGluaXRpYWwgbG9hZCwgdHJpZ2dlciB0aGUgem9vbSBldmVudHNcbiAgICAgICAgaWYgKHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCAhPT0gem9vbUxldmVsICYmIHZpZXdlclN0YXRlLm9sZFpvb21MZXZlbCA+PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmlld2VyU3RhdGUub2xkWm9vbUxldmVsIDwgem9vbUxldmVsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaChcIlZpZXdlckRpZFpvb21JblwiLCB6b29tTGV2ZWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucHVibGlzaChcIlZpZXdlckRpZFpvb21PdXRcIiwgem9vbUxldmVsKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5wdWJsaXNoKFwiVmlld2VyRGlkWm9vbVwiLCB6b29tTGV2ZWwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gem9vbUxldmVsO1xuICAgIH1cblxuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX292ZXJsYXlzLmZvckVhY2goKG92ZXJsYXkpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucmVtb3ZlUGFnZU92ZXJsYXkob3ZlcmxheSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2VudGVybW9zdFBhZ2UgKHJlbmRlcmVkUGFnZXMsIGxheW91dCwgdmlld3BvcnQpXG57XG4gICAgY29uc3QgY2VudGVyWSA9IHZpZXdwb3J0LnRvcCArICh2aWV3cG9ydC5oZWlnaHQgLyAyKTtcbiAgICBjb25zdCBjZW50ZXJYID0gdmlld3BvcnQubGVmdCArICh2aWV3cG9ydC53aWR0aCAvIDIpO1xuXG4gICAgLy8gRmluZCB0aGUgbWluaW11bSBkaXN0YW5jZSBmcm9tIHRoZSB2aWV3cG9ydCBjZW50ZXIgdG8gYSBwYWdlLlxuICAgIC8vIENvbXB1dGUgbWludXMgdGhlIHNxdWFyZWQgZGlzdGFuY2UgZnJvbSB2aWV3cG9ydCBjZW50ZXIgdG8gdGhlIHBhZ2UncyBib3JkZXIuXG4gICAgLy8gaHR0cDovL2dhbWVkZXYuc3RhY2tleGNoYW5nZS5jb20vcXVlc3Rpb25zLzQ0NDgzL2hvdy1kby1pLWNhbGN1bGF0ZS1kaXN0YW5jZS1iZXR3ZWVuLWEtcG9pbnQtYW5kLWFuLWF4aXMtYWxpZ25lZC1yZWN0YW5nbGVcbiAgICBjb25zdCBjZW50ZXJQYWdlID0gbWF4QnkocmVuZGVyZWRQYWdlcywgcGFnZUluZGV4ID0+XG4gICAge1xuICAgICAgICBjb25zdCBkaW1zID0gbGF5b3V0LmdldFBhZ2VEaW1lbnNpb25zKHBhZ2VJbmRleCk7XG4gICAgICAgIGNvbnN0IGltYWdlT2Zmc2V0ID0gbGF5b3V0LmdldFBhZ2VPZmZzZXQocGFnZUluZGV4LCB7aW5jbHVkZVBhZGRpbmc6IHRydWV9KTtcblxuICAgICAgICBjb25zdCBtaWRYID0gaW1hZ2VPZmZzZXQubGVmdCArIChkaW1zLndpZHRoIC8gMik7XG4gICAgICAgIGNvbnN0IG1pZFkgPSBpbWFnZU9mZnNldC50b3AgKyAoZGltcy5oZWlnaHQgLyAyKTtcblxuICAgICAgICBjb25zdCBkeCA9IE1hdGgubWF4KE1hdGguYWJzKGNlbnRlclggLSBtaWRYKSAtIChkaW1zLndpZHRoIC8gMiksIDApO1xuICAgICAgICBjb25zdCBkeSA9IE1hdGgubWF4KE1hdGguYWJzKGNlbnRlclkgLSBtaWRZKSAtIChkaW1zLmhlaWdodCAvIDIpLCAwKTtcblxuICAgICAgICByZXR1cm4gLShkeCAqIGR4ICsgZHkgKiBkeSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gY2VudGVyUGFnZSAhPSBudWxsID8gY2VudGVyUGFnZSA6IG51bGw7XG59XG4iLCJpbXBvcnQgeyBtYXhCeSB9IGZyb20gJ2xvZGFzaCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdyaWRIYW5kbGVyXG57XG4gICAgY29uc3RydWN0b3IgKHZpZXdlckNvcmUpXG4gICAge1xuICAgICAgICB0aGlzLl92aWV3ZXJDb3JlID0gdmlld2VyQ29yZTtcbiAgICB9XG5cbiAgICAvLyBVU0VSIEVWRU5UU1xuICAgIG9uRG91YmxlQ2xpY2sgKGV2ZW50LCBjb29yZHMpXG4gICAge1xuICAgICAgICBjb25zdCBwb3NpdGlvbiA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0UGFnZVBvc2l0aW9uQXRWaWV3cG9ydE9mZnNldChjb29yZHMpO1xuXG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Q3VycmVudExheW91dCgpO1xuICAgICAgICBjb25zdCB2aWV3cG9ydCA9IHRoaXMuX3ZpZXdlckNvcmUuZ2V0Vmlld3BvcnQoKTtcbiAgICAgICAgY29uc3QgcGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQgPSBsYXlvdXQuZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQocG9zaXRpb24uYW5jaG9yUGFnZSwgdmlld3BvcnQpO1xuXG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUucmVsb2FkKHtcbiAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IHBvc2l0aW9uLmFuY2hvclBhZ2UsXG4gICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiBwYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldC54ICsgcG9zaXRpb24ub2Zmc2V0LmxlZnQsXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogcGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQueSArIHBvc2l0aW9uLm9mZnNldC50b3BcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25QaW5jaCAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5yZWxvYWQoe2luR3JpZDogZmFsc2V9KTtcbiAgICB9XG5cbiAgICAvLyBWSUVXIEVWRU5UU1xuICAgIG9uVmlld1dpbGxMb2FkICgpXG4gICAge1xuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBTaG91bGQgc29tZXRoaW5nIGhhcHBlbiBoZXJlP1xuICAgICAgICAvKiBOby1vcCAqL1xuICAgIH1cblxuICAgIG9uVmlld0RpZExvYWQgKClcbiAgICB7XG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFNob3VsZCBzb21ldGhpbmcgaGFwcGVuIGhlcmU/XG4gICAgICAgIC8qIE5vLW9wICovXG4gICAgfVxuXG4gICAgb25WaWV3RGlkVXBkYXRlIChyZW5kZXJlZFBhZ2VzLCB0YXJnZXRQYWdlKVxuICAgIHtcbiAgICAgICAgLy8gcmV0dXJuIGVhcmx5IGlmIHRoZXJlIGFyZSBubyByZW5kZXJlZCBwYWdlcyBpbiB2aWV3LlxuICAgICAgICBpZiAocmVuZGVyZWRQYWdlcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgICAgICAvLyBjYWxjdWxhdGUgdGhlIHZpc2libGUgcGFnZXMgZnJvbSB0aGUgcmVuZGVyZWQgcGFnZXNcbiAgICAgICAgbGV0IHRlbXAgPSB0aGlzLl92aWV3ZXJDb3JlLnZpZXdlclN0YXRlLnZpZXdwb3J0LmludGVyc2VjdGlvblRvbGVyYW5jZTtcbiAgICAgICAgLy8gd2l0aG91dCBzZXR0aW5nIHRvIDAsIGlzUGFnZVZpc2libGUgcmV0dXJucyB0cnVlIGZvciBwYWdlcyBvdXQgb2Ygdmlld3BvcnQgYnkgaW50ZXJzZWN0aW9uVG9sZXJhbmNlXG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUudmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gMDtcbiAgICAgICAgbGV0IHZpc2libGVQYWdlcyA9IHJlbmRlcmVkUGFnZXMuZmlsdGVyKGluZGV4ID0+IHRoaXMuX3ZpZXdlckNvcmUudmlld2VyU3RhdGUucmVuZGVyZXIuaXNQYWdlVmlzaWJsZShpbmRleCkpO1xuICAgICAgICAvLyByZXNldCBiYWNrIHRvIG9yaWdpbmFsIHZhbHVlIGFmdGVyIGdldHRpbmcgdHJ1ZSB2aXNpYmxlIHBhZ2VzXG4gICAgICAgIHRoaXMuX3ZpZXdlckNvcmUudmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0aW9uVG9sZXJhbmNlID0gdGVtcDtcblxuICAgICAgICBpZiAodGFyZ2V0UGFnZSAhPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5zZXRDdXJyZW50UGFnZXModGFyZ2V0UGFnZSwgdmlzaWJsZVBhZ2VzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNlbGVjdCB0aGUgY3VycmVudCBwYWdlIGZyb20gdGhlIGZpcnN0IHJvdyBpZiBpdCBpcyBmdWxseSB2aXNpYmxlLCBvciBmcm9tXG4gICAgICAgIC8vIHRoZSBzZWNvbmQgcm93IGlmIGl0IGlzIGZ1bGx5IHZpc2libGUsIG9yIGZyb20gdGhlIGNlbnRlcm1vc3Qgcm93IG90aGVyd2lzZS5cbiAgICAgICAgLy8gSWYgdGhlIGN1cnJlbnQgcGFnZSBpcyBpbiB0aGF0IGdyb3VwIHRoZW4gZG9uJ3QgY2hhbmdlIGl0LiBPdGhlcndpc2UsIHNldFxuICAgICAgICAvLyB0aGUgY3VycmVudCBwYWdlIHRvIHRoZSBncm91cCdzIGZpcnN0IHBhZ2UuXG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5fdmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCk7XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IFtdO1xuXG4gICAgICAgIHJlbmRlcmVkUGFnZXMuZm9yRWFjaChwYWdlSW5kZXggPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBsYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KS5ncm91cDtcbiAgICAgICAgICAgIGlmIChncm91cHMubGVuZ3RoID09PSAwIHx8IGdyb3VwICE9PSBncm91cHNbZ3JvdXBzLmxlbmd0aCAtIDFdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGdyb3Vwcy5wdXNoKGdyb3VwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLl92aWV3ZXJDb3JlLmdldFZpZXdwb3J0KCk7XG4gICAgICAgIGxldCBjaG9zZW5Hcm91cDtcblxuICAgICAgICBpZiAoZ3JvdXBzLmxlbmd0aCA9PT0gMSB8fCBncm91cHNbMF0ucmVnaW9uLnRvcCA+PSB2aWV3cG9ydC50b3ApXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNob3Nlbkdyb3VwID0gZ3JvdXBzWzBdO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGdyb3Vwc1sxXS5yZWdpb24uYm90dG9tIDw9IHZpZXdwb3J0LmJvdHRvbSlcbiAgICAgICAge1xuICAgICAgICAgICAgY2hvc2VuR3JvdXAgPSBncm91cHNbMV07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjaG9zZW5Hcm91cCA9IGdldENlbnRlcm1vc3RHcm91cChncm91cHMsIHZpZXdwb3J0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gdGhpcy5fdmlld2VyQ29yZS5nZXRTZXR0aW5ncygpLmFjdGl2ZVBhZ2VJbmRleDtcblxuICAgICAgICBjb25zdCBoYXNDdXJyZW50UGFnZSA9IGNob3Nlbkdyb3VwLnBhZ2VzLnNvbWUocGFnZSA9PiBwYWdlLmluZGV4ID09PSBjdXJyZW50UGFnZSk7XG5cbiAgICAgICAgaWYgKCFoYXNDdXJyZW50UGFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdmlld2VyQ29yZS5zZXRDdXJyZW50UGFnZXMoY2hvc2VuR3JvdXAucGFnZXNbMF0uaW5kZXgsIHZpc2libGVQYWdlcyk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZXN0cm95ICgpXG4gICAge1xuICAgICAgICAvLyBOby1vcFxuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0Q2VudGVybW9zdEdyb3VwIChncm91cHMsIHZpZXdwb3J0KVxue1xuICAgIGNvbnN0IHZpZXdwb3J0TWlkZGxlID0gdmlld3BvcnQudG9wICsgdmlld3BvcnQuaGVpZ2h0IC8gMjtcblxuICAgIHJldHVybiBtYXhCeShncm91cHMsIGdyb3VwID0+XG4gICAge1xuICAgICAgICBjb25zdCBncm91cE1pZGRsZSA9IGdyb3VwLnJlZ2lvbi50b3AgKyBncm91cC5kaW1lbnNpb25zLmhlaWdodCAvIDI7XG4gICAgICAgIHJldHVybiAtTWF0aC5hYnModmlld3BvcnRNaWRkbGUgLSBncm91cE1pZGRsZSk7XG4gICAgfSk7XG59XG4iLCIvKipcbiAqIE1hbmFnZXMgYSBjb2xsZWN0aW9uIG9mIHBhZ2Ugb3ZlcmxheXMsIHdoaWNoIGltcGxlbWVudCBhIGxvdy1sZXZlbFxuICogQVBJIGZvciBzeW5jaHJvbml6aW5nIEhUTUwgcGFnZXMgdG8gdGhlIGNhbnZhcy4gRWFjaCBvdmVybGF5IG5lZWRzXG4gKiB0byBpbXBsZW1lbnQgdGhlIGZvbGxvd2luZyBwcm90b2NvbDpcbiAqXG4gKiAgIG1vdW50KCk6IENhbGxlZCB3aGVuIGEgcGFnZSBpcyBmaXJzdCByZW5kZXJlZFxuICogICByZWZyZXNoKCk6IENhbGxlZCB3aGVuIGEgcGFnZSBpcyBtb3ZlZFxuICogICB1bm1vdW50KCk6IENhbGxlZCB3aGVuIGEgcHJldmlvdXNseSByZW5kZXJlZCBwYWdlIGhhcyBzdG9wcGVkIGJlaW5nIHJlbmRlcmVkXG4gKlxuICogQGNsYXNzXG4gKi9cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZU92ZXJsYXlNYW5hZ2VyXG57XG4gICAgY29uc3RydWN0b3IgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3BhZ2VzID0ge307XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZXMgPSBbXTtcbiAgICAgICAgdGhpcy5fcmVuZGVyZWRQYWdlTWFwID0ge307XG4gICAgfVxuXG4gICAgYWRkT3ZlcmxheSAob3ZlcmxheSlcbiAgICB7XG4gICAgICAgIGNvbnN0IG92ZXJsYXlzQnlQYWdlID0gdGhpcy5fcGFnZXNbb3ZlcmxheS5wYWdlXSB8fCAodGhpcy5fcGFnZXNbb3ZlcmxheS5wYWdlXSA9IFtdKTtcblxuICAgICAgICBvdmVybGF5c0J5UGFnZS5wdXNoKG92ZXJsYXkpO1xuXG4gICAgICAgIGlmICh0aGlzLl9yZW5kZXJlZFBhZ2VNYXBbb3ZlcmxheS5wYWdlXSlcbiAgICAgICAgICAgIG92ZXJsYXkubW91bnQoKTtcbiAgICB9XG5cbiAgICByZW1vdmVPdmVybGF5IChvdmVybGF5KVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IG92ZXJsYXkucGFnZTtcbiAgICAgICAgY29uc3Qgb3ZlcmxheXNCeVBhZ2UgPSB0aGlzLl9wYWdlc1twYWdlXTtcblxuICAgICAgICBpZiAoIW92ZXJsYXlzQnlQYWdlKVxuICAgICAgICAgICAgcmV0dXJuO1xuXG4gICAgICAgIGNvbnN0IG92ZXJsYXlJbmRleCA9IG92ZXJsYXlzQnlQYWdlLmluZGV4T2Yob3ZlcmxheSk7XG5cbiAgICAgICAgaWYgKG92ZXJsYXlJbmRleCA9PT0gLTEpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKHRoaXMuX3JlbmRlcmVkUGFnZU1hcFtwYWdlXSlcbiAgICAgICAgICAgIG92ZXJsYXlzQnlQYWdlW292ZXJsYXlJbmRleF0udW5tb3VudCgpO1xuXG4gICAgICAgIG92ZXJsYXlzQnlQYWdlLnNwbGljZShvdmVybGF5SW5kZXgsIDEpO1xuXG4gICAgICAgIGlmIChvdmVybGF5c0J5UGFnZS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcGFnZXNbcGFnZV07XG4gICAgfVxuXG4gICAgdXBkYXRlT3ZlcmxheXMgKHJlbmRlcmVkUGFnZXMpXG4gICAge1xuICAgICAgICBjb25zdCBwcmV2aW91c2x5UmVuZGVyZWQgPSB0aGlzLl9yZW5kZXJlZFBhZ2VzO1xuICAgICAgICBjb25zdCBuZXdSZW5kZXJlZE1hcCA9IHt9O1xuXG4gICAgICAgIHJlbmRlcmVkUGFnZXMubWFwKCAocGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBuZXdSZW5kZXJlZE1hcFtwYWdlSW5kZXhdID0gdHJ1ZTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9yZW5kZXJlZFBhZ2VNYXBbcGFnZUluZGV4XSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VNYXBbcGFnZUluZGV4XSA9IHRydWU7XG5cbiAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VPbk92ZXJsYXlzKHBhZ2VJbmRleCwgb3ZlcmxheSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb3ZlcmxheS5tb3VudCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBwcmV2aW91c2x5UmVuZGVyZWQubWFwKCAocGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAobmV3UmVuZGVyZWRNYXBbcGFnZUluZGV4XSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbnZva2VPbk92ZXJsYXlzKHBhZ2VJbmRleCwgKG92ZXJsYXkpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvdmVybGF5LnJlZnJlc2goKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcmVuZGVyZWRQYWdlTWFwW3BhZ2VJbmRleF07XG4gICAgICAgICAgICAgICAgdGhpcy5faW52b2tlT25PdmVybGF5cyhwYWdlSW5kZXgsIG92ZXJsYXkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG92ZXJsYXkudW5tb3VudCgpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gcmVuZGVyZWRQYWdlcztcbiAgICB9XG5cbiAgICBfaW52b2tlT25PdmVybGF5cyAocGFnZUluZGV4LCBmdW5jKVxuICAgIHtcbiAgICAgICAgY29uc3Qgb3ZlcmxheXMgPSB0aGlzLl9wYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICBpZiAob3ZlcmxheXMpXG4gICAgICAgICAgICBvdmVybGF5cy5tYXAoIChvKSA9PiBmdW5jKG8pICk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVGlsZUNvdmVyYWdlTWFwXG57XG4gICAgY29uc3RydWN0b3IgKHJvd3MsIGNvbHMpXG4gICAge1xuICAgICAgICB0aGlzLl9yb3dzID0gcm93cztcbiAgICAgICAgdGhpcy5fY29scyA9IGNvbHM7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBBcnJheShyb3dzKS5maWxsKG51bGwpLm1hcCgoKSA9PiBuZXcgQXJyYXkoY29scykuZmlsbChmYWxzZSkpO1xuICAgIH1cblxuICAgIGlzTG9hZGVkIChyb3csIGNvbClcbiAgICB7XG4gICAgICAgIC8vIFJldHVybiB0cnVlIGZvciBvdXQgb2YgYm91bmRzIHRpbGVzIGJlY2F1c2UgdGhleVxuICAgICAgICAvLyBkb24ndCBuZWVkIHRvIGxvYWQuIChVbmZvcnR1bmF0ZWx5IHRoaXMgd2lsbCBhbHNvXG4gICAgICAgIC8vIG1hc2sgbG9naWNhbCBlcnJvcnMuKVxuICAgICAgICBpZiAocm93ID49IHRoaXMuX3Jvd3MgfHwgY29sID49IHRoaXMuX2NvbHMpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fbWFwW3Jvd11bY29sXTtcbiAgICB9XG5cbiAgICBzZXQocm93LCBjb2wsIHZhbHVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWFwW3Jvd11bY29sXSA9IHZhbHVlO1xuICAgIH1cbn0iLCJpbXBvcnQgVGlsZUNvdmVyYWdlTWFwIGZyb20gXCIuL3RpbGUtY292ZXJhZ2UtbWFwXCI7XG5cbi8qKlxuICogQGNsYXNzIENvbXBvc2l0ZUltYWdlXG4gKiBAcHJpdmF0ZVxuICpcbiAqIFV0aWxpdHkgY2xhc3MgdG8gY29tcG9zaXRlIHRpbGVzIGludG8gYSBjb21wbGV0ZSBpbWFnZVxuICogYW5kIHRyYWNrIHRoZSByZW5kZXJlZCBzdGF0ZSBvZiBhbiBpbWFnZSBhcyBuZXcgdGlsZXNcbiAqIGxvYWQuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0gbGV2ZWxzIHtBcnJheS48QXJyYXkuPFRpbGU+Pn1cbiAqIEBjb25zdHJ1Y3RvclxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDb21wb3NpdGVJbWFnZVxue1xuICAgIGNvbnN0cnVjdG9yKGxldmVscylcbiAgICB7XG4gICAgICAgIHRoaXMuX2xldmVscyA9IGxldmVsczsgIC8vIEFzc3VtZSBsZXZlbHMgc29ydGVkIGhpZ2gtcmVzIGZpcnN0XG4gICAgICAgIGNvbnN0IHVybHNUb1RpbGVzID0gdGhpcy5fdXJsc1RvVGlsZXMgPSB7fTtcblxuICAgICAgICBsZXZlbHMuZm9yRWFjaChsZXZlbCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXZlbC50aWxlcy5mb3JFYWNoKHRpbGUgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB1cmxzVG9UaWxlc1t0aWxlLnVybF0gPSB7XG4gICAgICAgICAgICAgICAgICAgIHpvb21MZXZlbDogbGV2ZWwuem9vbUxldmVsLFxuICAgICAgICAgICAgICAgICAgICByb3c6IHRpbGUucm93LFxuICAgICAgICAgICAgICAgICAgICBjb2w6IHRpbGUuY29sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmNsZWFyKCk7XG4gICAgfVxuXG4gICAgY2xlYXIgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGxvYWRlZEJ5TGV2ZWwgPSB0aGlzLl9sb2FkZWRCeUxldmVsID0ge307XG5cbiAgICAgICAgdGhpcy5fbGV2ZWxzLmZvckVhY2gobGV2ZWwgPT4ge1xuICAgICAgICAgICAgbG9hZGVkQnlMZXZlbFtsZXZlbC56b29tTGV2ZWxdID0gbmV3IFRpbGVDb3ZlcmFnZU1hcChsZXZlbC5yb3dzLCBsZXZlbC5jb2xzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgZ2V0VGlsZXMgKGJhc2Vab29tTGV2ZWwpXG4gICAge1xuICAgICAgICBjb25zdCB0b1JlbmRlckJ5TGV2ZWwgPSBbXTtcbiAgICAgICAgY29uc3QgaGlnaGVzdFpvb21MZXZlbCA9IHRoaXMuX2xldmVsc1swXS56b29tTGV2ZWw7XG4gICAgICAgIGNvbnN0IGNvdmVyZWQgPSBuZXcgVGlsZUNvdmVyYWdlTWFwKHRoaXMuX2xldmVsc1swXS5yb3dzLCB0aGlzLl9sZXZlbHNbMF0uY29scyk7XG5cbiAgICAgICAgbGV0IGJlc3RMZXZlbEluZGV4O1xuXG4gICAgICAgIC8vIERlZmF1bHQgdG8gdGhlIGxvd2VzdCB6b29tIGxldmVsXG4gICAgICAgIGlmIChiYXNlWm9vbUxldmVsID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBiZXN0TGV2ZWxJbmRleCA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBjZWlsTGV2ZWwgPSBNYXRoLmNlaWwoYmFzZVpvb21MZXZlbCk7XG4gICAgICAgICAgICBiZXN0TGV2ZWxJbmRleCA9IGZpbmRJbmRleCh0aGlzLl9sZXZlbHMsIGxldmVsID0+IGxldmVsLnpvb21MZXZlbCA8PSBjZWlsTGV2ZWwpO1xuICAgICAgICAgICAgLy8gYmVzdExldmVsSW5kZXggPSB0aGlzLl9sZXZlbHMuZmluZEluZGV4KChsZXZlbCkgPT4gbGV2ZWwuem9vbUxldmVsIDw9IGNlaWxMZXZlbCk7XG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIFRoZSBiZXN0IGxldmVsLCBmb2xsb3dlZCBieSBoaWdoZXItcmVzIGxldmVscyBpbiBhc2NlbmRpbmcgb3JkZXIgb2YgcmVzb2x1dGlvbixcbiAgICAgICAgLy8gZm9sbG93ZWQgYnkgbG93ZXItcmVzIGxldmVscyBpbiBkZXNjZW5kaW5nIG9yZGVyIG9mIHJlc29sdXRpb25cbiAgICAgICAgY29uc3QgbGV2ZWxzQnlQcmVmZXJlbmNlID0gdGhpcy5fbGV2ZWxzLnNsaWNlKDAsIGJlc3RMZXZlbEluZGV4ICsgMSkucmV2ZXJzZSgpXG4gICAgICAgICAgICAuY29uY2F0KHRoaXMuX2xldmVscy5zbGljZShiZXN0TGV2ZWxJbmRleCArIDEpKTtcblxuICAgICAgICBsZXZlbHNCeVByZWZlcmVuY2UuZm9yRWFjaCggKGxldmVsKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLl9sb2FkZWRCeUxldmVsW2xldmVsLnpvb21MZXZlbF07XG5cbiAgICAgICAgICAgIGxldCBhZGRpdGlvbmFsVGlsZXMgPSBsZXZlbC50aWxlcy5maWx0ZXIodGlsZSA9PiBsb2FkZWQuaXNMb2FkZWQodGlsZS5yb3csIHRpbGUuY29sKSk7XG5cbiAgICAgICAgICAgIC8vIEZpbHRlciBvdXQgZW50aXJlbHkgY292ZXJlZCB0aWxlc1xuXG4gICAgICAgICAgICAvLyBGSVhNRTogSXMgaXQgYmV0dGVyIHRvIGRyYXcgYWxsIG9mIGEgcGFydGlhbGx5IGNvdmVyZWQgdGlsZSxcbiAgICAgICAgICAgIC8vIHdpdGggc29tZSBvZiBpdCB1bHRpbWF0ZWx5IGNvdmVyZWQsIG9yIHRvIHBpY2sgb3V0IHRoZSByZWdpb25cbiAgICAgICAgICAgIC8vIHdoaWNoIG5lZWRzIHRvIGJlIGRyYXduP1xuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ERE1BTC9kaXZhLmpzL2lzc3Vlcy8zNThcbiAgICAgICAgICAgIGNvbnN0IHNjYWxlUmF0aW8gPSBNYXRoLnBvdygyLCBoaWdoZXN0Wm9vbUxldmVsIC0gbGV2ZWwuem9vbUxldmVsKTtcblxuICAgICAgICAgICAgYWRkaXRpb25hbFRpbGVzID0gYWRkaXRpb25hbFRpbGVzLmZpbHRlcih0aWxlID0+IHtcbiAgICAgICAgICAgICAgICBsZXQgaXNOZWVkZWQgPSBmYWxzZTtcblxuICAgICAgICAgICAgICAgIGNvbnN0IGhpZ2hSZXNSb3cgPSB0aWxlLnJvdyAqIHNjYWxlUmF0aW87XG4gICAgICAgICAgICAgICAgY29uc3QgaGlnaFJlc0NvbCA9IHRpbGUuY29sICogc2NhbGVSYXRpbztcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGk9MDsgaSA8IHNjYWxlUmF0aW87IGkrKylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGo9MDsgaiA8IHNjYWxlUmF0aW87IGorKylcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFjb3ZlcmVkLmlzTG9hZGVkKGhpZ2hSZXNSb3cgKyBpLCBoaWdoUmVzQ29sICsgaikpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZWVkZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdmVyZWQuc2V0KGhpZ2hSZXNSb3cgKyBpLCBoaWdoUmVzQ29sICsgaiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gaXNOZWVkZWQ7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgdG9SZW5kZXJCeUxldmVsLnB1c2goYWRkaXRpb25hbFRpbGVzKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgLy8gTGVzcy1wcmVmZXJyZWQgdGlsZXMgc2hvdWxkIGNvbWUgZmlyc3RcbiAgICAgICAgdG9SZW5kZXJCeUxldmVsLnJldmVyc2UoKTtcblxuICAgICAgICBjb25zdCB0aWxlcyA9IFtdO1xuXG4gICAgICAgIHRvUmVuZGVyQnlMZXZlbC5mb3JFYWNoKGJ5TGV2ZWwgPT4ge1xuICAgICAgICAgICAgdGlsZXMucHVzaC5hcHBseSh0aWxlcywgYnlMZXZlbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0aWxlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgdGhlIGNvbXBvc2l0ZSBpbWFnZSB0byB0YWtlIGludG8gYWNjb3VudCBhbGwgdGhlIFVSTHNcbiAgICAgKiBsb2FkZWQgaW4gYW4gaW1hZ2UgY2FjaGUuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gY2FjaGUge0ltYWdlQ2FjaGV9XG4gICAgICovXG4gICAgdXBkYXRlRnJvbUNhY2hlIChjYWNoZSlcbiAgICB7XG4gICAgICAgIHRoaXMuY2xlYXIoKTtcblxuICAgICAgICB0aGlzLl9sZXZlbHMuZm9yRWFjaCggKGxldmVsKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBsb2FkZWQgPSB0aGlzLl9sb2FkZWRCeUxldmVsW2xldmVsLnpvb21MZXZlbF07XG5cbiAgICAgICAgICAgIGxldmVsLnRpbGVzLmZvckVhY2godGlsZSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKGNhY2hlLmhhcyh0aWxlLnVybCkpXG4gICAgICAgICAgICAgICAgICAgIGxvYWRlZC5zZXQodGlsZS5yb3csIHRpbGUuY29sLCB0cnVlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LCB0aGlzKTtcbiAgICB9XG5cbiAgICB1cGRhdGVXaXRoTG9hZGVkVXJscyAodXJscylcbiAgICB7XG4gICAgICAgIHVybHMuZm9yRWFjaCggKHVybCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgZW50cnkgPSB0aGlzLl91cmxzVG9UaWxlc1t1cmxdO1xuICAgICAgICAgICAgdGhpcy5fbG9hZGVkQnlMZXZlbFtlbnRyeS56b29tTGV2ZWxdLnNldChlbnRyeS5yb3csIGVudHJ5LmNvbCwgdHJ1ZSk7XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cbn1cblxuLy8gZnVuY3Rpb24gZmlsbCAoY291bnQsIHZhbHVlKVxuLy8ge1xuLy8gICAgIGNvbnN0IGFyciA9IG5ldyBBcnJheShjb3VudCk7XG4vL1xuLy8gICAgIGZvciAobGV0IGk9MDsgaSA8IGNvdW50OyBpKyspXG4vLyAgICAgICAgIGFycltpXSA9IHZhbHVlO1xuLy9cbi8vICAgICByZXR1cm4gYXJyO1xuLy8gfVxuXG5mdW5jdGlvbiBmaW5kSW5kZXggKGFycmF5LCBwcmVkaWNhdGUpXG57XG4gICAgY29uc3QgbGVuZ3RoID0gYXJyYXkubGVuZ3RoO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspXG4gICAge1xuICAgICAgICBpZiAocHJlZGljYXRlKGFycmF5W2ldLCBpKSlcbiAgICAgICAgICAgIHJldHVybiBpO1xuICAgIH1cblxuICAgIHJldHVybiAtMTtcbn1cbiIsIi8qKlxuICogVHJhbnNsYXRlIHBhZ2UgbGF5b3V0cywgYXMgZ2VuZXJhdGVkIGJ5IHBhZ2UtbGF5b3V0cywgaW50byBhblxuICogb2JqZWN0IHdoaWNoIGNvbXB1dGVzIGxheW91dCBpbmZvcm1hdGlvbiBmb3IgdGhlIGRvY3VtZW50IGFzXG4gKiBhIHdob2xlLlxuICovXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEb2N1bWVudExheW91dFxue1xuICAgIGNvbnN0cnVjdG9yIChjb25maWcsIHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbXB1dGVkTGF5b3V0ID0gZ2V0Q29tcHV0ZWRMYXlvdXQoY29uZmlnLCB6b29tTGV2ZWwpO1xuXG4gICAgICAgIHRoaXMuZGltZW5zaW9ucyA9IGNvbXB1dGVkTGF5b3V0LmRpbWVuc2lvbnM7XG4gICAgICAgIHRoaXMucGFnZUdyb3VwcyA9IGNvbXB1dGVkTGF5b3V0LnBhZ2VHcm91cHM7XG4gICAgICAgIHRoaXMuX3BhZ2VMb29rdXAgPSBnZXRQYWdlTG9va3VwKGNvbXB1dGVkTGF5b3V0LnBhZ2VHcm91cHMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEB0eXBlZGVmIHtPYmplY3R9IFBhZ2VJbmZvXG4gICAgICogQHByb3BlcnR5IHtudW1iZXJ9IGluZGV4XG4gICAgICogQHByb3BlcnR5IHt7aW5kZXgsIGRpbWVuc2lvbnMsIHBhZ2VzLCByZWdpb24sIHBhZGRpbmd9fSBncm91cFxuICAgICAqIEBwcm9wZXJ0eSB7e2hlaWdodDogbnVtYmVyLCB3aWR0aDogbnVtYmVyfX0gZGltZW5zaW9uc1xuICAgICAqIEBwcm9wZXJ0eSB7e3RvcDogbnVtYmVyLCBsZWZ0OiBudW1iZXJ9fSBncm91cE9mZnNldFxuICAgICAqL1xuXG4gICAgLyoqXG4gICAgICogQHBhcmFtIHBhZ2VJbmRleFxuICAgICAqIEByZXR1cm5zIHtQYWdlSW5mb3xudWxsfVxuICAgICAqL1xuICAgIGdldFBhZ2VJbmZvIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcGFnZUxvb2t1cFtwYWdlSW5kZXhdIHx8IG51bGw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBkaW1lbnNpb25zIG9mIGEgcGFnZVxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VJbmRleFxuICAgICAqIEByZXR1cm5zIHt7aGVpZ2h0OiBudW1iZXIsIHdpZHRoOiBudW1iZXJ9fVxuICAgICAqL1xuICAgIGdldFBhZ2VEaW1lbnNpb25zIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX3BhZ2VMb29rdXAgfHwgIXRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIGNvbnN0IHJlZ2lvbiA9IGdldFBhZ2VSZWdpb25Gcm9tUGFnZUluZm8odGhpcy5fcGFnZUxvb2t1cFtwYWdlSW5kZXhdKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVpZ2h0OiByZWdpb24uYm90dG9tIC0gcmVnaW9uLnRvcCxcbiAgICAgICAgICAgIHdpZHRoOiByZWdpb24ucmlnaHQgLSByZWdpb24ubGVmdFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8vIFRPRE8od2FiYWluKTogR2V0IHJpZCBvZiB0aGlzOyBpdCdzIGEgc3Vic2V0IG9mIHRoZSBwYWdlIHJlZ2lvbiwgc29cbiAgICAvLyBnaXZlIHRoYXQgaW5zdGVhZFxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgdG9wLWxlZnQgY29vcmRpbmF0ZXMgb2YgYSBwYWdlLCBpbmNsdWRpbmcqKiogcGFkZGluZ1xuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VJbmRleFxuICAgICAqIEBwYXJhbSBvcHRpb25zXG4gICAgICogQHJldHVybnMge3t0b3A6IG51bWJlciwgbGVmdDogbnVtYmVyfSB8IG51bGx9XG4gICAgICovXG4gICAgZ2V0UGFnZU9mZnNldCAocGFnZUluZGV4LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVnaW9uID0gdGhpcy5nZXRQYWdlUmVnaW9uKHBhZ2VJbmRleCwgb3B0aW9ucyk7XG5cbiAgICAgICAgaWYgKCFyZWdpb24pXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiByZWdpb24udG9wLFxuICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBnZXRQYWdlUmVnaW9uIChwYWdlSW5kZXgsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlSW5mbyA9IHRoaXMuX3BhZ2VMb29rdXBbcGFnZUluZGV4XTtcblxuICAgICAgICBpZiAoIXBhZ2VJbmZvKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgY29uc3QgcmVnaW9uID0gZ2V0UGFnZVJlZ2lvbkZyb21QYWdlSW5mbyhwYWdlSW5mbyk7XG4gICAgICAgIGNvbnN0IHBhZGRpbmcgPSBwYWdlSW5mby5ncm91cC5wYWRkaW5nO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW5jbHVkZVBhZGRpbmcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdG9wOiByZWdpb24udG9wICsgcGFkZGluZy50b3AsXG4gICAgICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnQgKyBwYWRkaW5nLmxlZnQsXG4gICAgICAgICAgICAgICAgYm90dG9tOiByZWdpb24uYm90dG9tLFxuICAgICAgICAgICAgICAgIHJpZ2h0OiByZWdpb24ucmlnaHRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiByZWdpb24udG9wLFxuICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnQsXG4gICAgICAgICAgICAvLyBuZWVkIHRvIGFjY291bnQgZm9yIHBsdWdpbiBpY29ucyBiZWxvdyB0aGUgcGFnZSwgc2VlIFxuICAgICAgICAgICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL0RETUFML2RpdmEuanMvaXNzdWVzLzQzNlxuICAgICAgICAgICAgYm90dG9tOiByZWdpb24uYm90dG9tICsgcGFkZGluZy50b3AsIFxuICAgICAgICAgICAgcmlnaHQ6IHJlZ2lvbi5yaWdodFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgdG9wLXJpZ2h0IG9mIHRoZSBwYWdlIHRvIHRoZSBjZW50ZXIgb2YgdGhlXG4gICAgICogc3BlY2lmaWVkIHZpZXdwb3J0IHJlZ2lvblxuICAgICAqXG4gICAgICogQHBhcmFtIHBhZ2VJbmRleFxuICAgICAqIEBwYXJhbSB2aWV3cG9ydCB7e3RvcDogbnVtYmVyLCBsZWZ0OiBudW1iZXIsIGJvdHRvbTogbnVtYmVyLCByaWdodDogbnVtYmVyfX1cbiAgICAgKiBAcmV0dXJucyB7e3g6IG51bWJlciwgeTogbnVtYmVyfX1cbiAgICAgKi9cbiAgICBnZXRQYWdlVG9WaWV3cG9ydENlbnRlck9mZnNldCAocGFnZUluZGV4LCB2aWV3cG9ydClcbiAgICB7XG4gICAgICAgIGNvbnN0IHNjcm9sbExlZnQgPSB2aWV3cG9ydC5sZWZ0O1xuICAgICAgICBjb25zdCBlbGVtZW50V2lkdGggPSB2aWV3cG9ydC5yaWdodCAtIHZpZXdwb3J0LmxlZnQ7XG5cbiAgICAgICAgY29uc3Qgb2Zmc2V0ID0gdGhpcy5nZXRQYWdlT2Zmc2V0KHBhZ2VJbmRleCk7XG5cbiAgICAgICAgY29uc3QgeCA9IHNjcm9sbExlZnQgLSBvZmZzZXQubGVmdCArIHBhcnNlSW50KGVsZW1lbnRXaWR0aCAvIDIsIDEwKTtcblxuICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSB2aWV3cG9ydC50b3A7XG4gICAgICAgIGNvbnN0IGVsZW1lbnRIZWlnaHQgPSB2aWV3cG9ydC5ib3R0b20gLSB2aWV3cG9ydC50b3A7XG5cbiAgICAgICAgY29uc3QgeSA9IHNjcm9sbFRvcCAtIG9mZnNldC50b3AgKyBwYXJzZUludChlbGVtZW50SGVpZ2h0IC8gMiwgMTApO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB4OiB4LFxuICAgICAgICAgICAgeTogeVxuICAgICAgICB9O1xuICAgIH1cbn1cblxuZnVuY3Rpb24gZ2V0UGFnZVJlZ2lvbkZyb21QYWdlSW5mbyAocGFnZSlcbntcbiAgICBjb25zdCB0b3AgICAgPSBwYWdlLmdyb3VwT2Zmc2V0LnRvcCAgKyBwYWdlLmdyb3VwLnJlZ2lvbi50b3A7XG4gICAgY29uc3QgYm90dG9tID0gdG9wICsgcGFnZS5kaW1lbnNpb25zLmhlaWdodDtcbiAgICBjb25zdCBsZWZ0ICAgPSBwYWdlLmdyb3VwT2Zmc2V0LmxlZnQgKyBwYWdlLmdyb3VwLnJlZ2lvbi5sZWZ0O1xuICAgIGNvbnN0IHJpZ2h0ICA9IGxlZnQgKyBwYWdlLmRpbWVuc2lvbnMud2lkdGg7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgYm90dG9tOiBib3R0b20sXG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodFxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldFBhZ2VMb29rdXAgKHBhZ2VHcm91cHMpXG57XG4gICAgY29uc3QgcGFnZUxvb2t1cCA9IHt9O1xuXG4gICAgcGFnZUdyb3Vwcy5mb3JFYWNoKGdyb3VwID0+IHtcbiAgICAgICAgZ3JvdXAucGFnZXMuZm9yRWFjaChwYWdlID0+IHtcbiAgICAgICAgICAgIHBhZ2VMb29rdXBbcGFnZS5pbmRleF0gPSB7XG4gICAgICAgICAgICAgICAgaW5kZXg6IHBhZ2UuaW5kZXgsXG4gICAgICAgICAgICAgICAgZ3JvdXA6IGdyb3VwLFxuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhZ2UuZGltZW5zaW9ucyxcbiAgICAgICAgICAgICAgICBncm91cE9mZnNldDogcGFnZS5ncm91cE9mZnNldFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFnZUxvb2t1cDtcbn1cblxuZnVuY3Rpb24gZ2V0Q29tcHV0ZWRMYXlvdXQgKGNvbmZpZywgem9vbUxldmVsKVxue1xuICAgIGNvbnN0IHNjYWxlZExheW91dHMgPSB6b29tTGV2ZWwgPT09IG51bGwgPyBjb25maWcucGFnZUxheW91dHMgOiBnZXRTY2FsZWRQYWdlTGF5b3V0cyhjb25maWcsIHpvb21MZXZlbCk7XG5cbiAgICBjb25zdCBkb2N1bWVudFNlY29uZGFyeUV4dGVudCA9IGdldEV4dGVudEFsb25nU2Vjb25kYXJ5QXhpcyhjb25maWcsIHNjYWxlZExheW91dHMpO1xuXG4gICAgLy8gVGhlIGN1cnJlbnQgcG9zaXRpb24gaW4gdGhlIGRvY3VtZW50IGFsb25nIHRoZSBwcmltYXJ5IGF4aXNcbiAgICBsZXQgcHJpbWFyeURvY1Bvc2l0aW9uID0gY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZCA/XG4gICAgICAgIGNvbmZpZy5wYWRkaW5nLmRvY3VtZW50LnRvcCA6XG4gICAgICAgIGNvbmZpZy5wYWRkaW5nLmRvY3VtZW50LmxlZnQ7XG5cbiAgICBjb25zdCBwYWdlR3JvdXBzID0gW107XG5cbiAgICAvLyBUT0RPOiBVc2UgYm90dG9tLCByaWdodCBhcyB3ZWxsXG4gICAgY29uc3QgcGFnZVBhZGRpbmcgPSB7XG4gICAgICAgIHRvcDogY29uZmlnLnBhZGRpbmcucGFnZS50b3AsXG4gICAgICAgIGxlZnQ6IGNvbmZpZy5wYWRkaW5nLnBhZ2UubGVmdFxuICAgIH07XG5cbiAgICBzY2FsZWRMYXlvdXRzLmZvckVhY2goKGxheW91dCwgaW5kZXgpID0+IHtcbiAgICAgICAgbGV0IHRvcCwgbGVmdDtcblxuICAgICAgICBpZiAoY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdG9wID0gcHJpbWFyeURvY1Bvc2l0aW9uO1xuICAgICAgICAgICAgbGVmdCA9IChkb2N1bWVudFNlY29uZGFyeUV4dGVudCAtIGxheW91dC5kaW1lbnNpb25zLndpZHRoKSAvIDI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3AgPSAoZG9jdW1lbnRTZWNvbmRhcnlFeHRlbnQgLSBsYXlvdXQuZGltZW5zaW9ucy5oZWlnaHQpIC8gMjtcbiAgICAgICAgICAgIGxlZnQgPSBwcmltYXJ5RG9jUG9zaXRpb247XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCByZWdpb24gPSB7XG4gICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgIGJvdHRvbTogdG9wICsgcGFnZVBhZGRpbmcudG9wICsgbGF5b3V0LmRpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0OiBsZWZ0ICsgcGFnZVBhZGRpbmcubGVmdCArIGxheW91dC5kaW1lbnNpb25zLndpZHRoXG4gICAgICAgIH07XG5cbiAgICAgICAgcGFnZUdyb3Vwcy5wdXNoKHtcbiAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IGxheW91dC5kaW1lbnNpb25zLFxuICAgICAgICAgICAgcGFnZXM6IGxheW91dC5wYWdlcyxcbiAgICAgICAgICAgIHJlZ2lvbjogcmVnaW9uLFxuICAgICAgICAgICAgcGFkZGluZzogcGFnZVBhZGRpbmdcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcHJpbWFyeURvY1Bvc2l0aW9uID0gY29uZmlnLnZlcnRpY2FsbHlPcmllbnRlZCA/IHJlZ2lvbi5ib3R0b20gOiByZWdpb24ucmlnaHQ7XG4gICAgfSk7XG5cbiAgICBsZXQgaGVpZ2h0LCB3aWR0aDtcblxuICAgIGlmIChjb25maWcudmVydGljYWxseU9yaWVudGVkKVxuICAgIHtcbiAgICAgICAgaGVpZ2h0ID0gcHJpbWFyeURvY1Bvc2l0aW9uICsgcGFnZVBhZGRpbmcudG9wO1xuICAgICAgICB3aWR0aCA9IGRvY3VtZW50U2Vjb25kYXJ5RXh0ZW50O1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBoZWlnaHQgPSBkb2N1bWVudFNlY29uZGFyeUV4dGVudDtcbiAgICAgICAgd2lkdGggPSBwcmltYXJ5RG9jUG9zaXRpb24gKyBwYWdlUGFkZGluZy5sZWZ0O1xuICAgIH1cblxuICAgIHJldHVybiB7XG4gICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgIGhlaWdodDogaGVpZ2h0LFxuICAgICAgICAgICAgd2lkdGg6IHdpZHRoXG4gICAgICAgIH0sXG4gICAgICAgIHBhZ2VHcm91cHM6IHBhZ2VHcm91cHNcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXRTY2FsZWRQYWdlTGF5b3V0cyAoY29uZmlnLCB6b29tTGV2ZWwpXG57XG4gICAgY29uc3Qgc2NhbGVSYXRpbyA9IE1hdGgucG93KDIsIHpvb21MZXZlbCAtIGNvbmZpZy5tYXhab29tTGV2ZWwpO1xuXG4gICAgcmV0dXJuIGNvbmZpZy5wYWdlTGF5b3V0cy5tYXAoZ3JvdXAgPT4gKHtcbiAgICAgICAgZGltZW5zaW9uczogc2NhbGVEaW1lbnNpb25zKGdyb3VwLmRpbWVuc2lvbnMsIHNjYWxlUmF0aW8pLFxuXG4gICAgICAgIHBhZ2VzOiBncm91cC5wYWdlcy5tYXAocGFnZSA9PiAoe1xuICAgICAgICAgICAgaW5kZXg6IHBhZ2UuaW5kZXgsXG5cbiAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgdG9wOiBNYXRoLmZsb29yKHBhZ2UuZ3JvdXBPZmZzZXQudG9wICogc2NhbGVSYXRpbyksXG4gICAgICAgICAgICAgICAgbGVmdDogTWF0aC5mbG9vcihwYWdlLmdyb3VwT2Zmc2V0LmxlZnQgKiBzY2FsZVJhdGlvKVxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZGltZW5zaW9uczogc2NhbGVEaW1lbnNpb25zKHBhZ2UuZGltZW5zaW9ucywgc2NhbGVSYXRpbylcbiAgICAgICAgfSkpXG4gICAgfSkpO1xufVxuXG5mdW5jdGlvbiBzY2FsZURpbWVuc2lvbnMgKGRpbWVuc2lvbnMsIHNjYWxlUmF0aW8pXG57XG4gICAgcmV0dXJuIHtcbiAgICAgICAgaGVpZ2h0OiBNYXRoLmZsb29yKGRpbWVuc2lvbnMuaGVpZ2h0ICogc2NhbGVSYXRpbyksXG4gICAgICAgIHdpZHRoOiBNYXRoLmZsb29yKGRpbWVuc2lvbnMud2lkdGggKiBzY2FsZVJhdGlvKVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldEV4dGVudEFsb25nU2Vjb25kYXJ5QXhpcyAoY29uZmlnLCBzY2FsZWRMYXlvdXRzKVxue1xuICAgIC8vIEdldCB0aGUgZXh0ZW50IG9mIHRoZSBkb2N1bWVudCBhbG9uZyB0aGUgc2Vjb25kYXJ5IGF4aXNcbiAgICBsZXQgc2Vjb25kYXJ5RGltLCBzZWNvbmRhcnlQYWRkaW5nO1xuICAgIGNvbnN0IGRvY1BhZGRpbmcgPSBjb25maWcucGFkZGluZy5kb2N1bWVudDtcblxuICAgIGlmIChjb25maWcudmVydGljYWxseU9yaWVudGVkKVxuICAgIHtcbiAgICAgICAgc2Vjb25kYXJ5RGltID0gJ3dpZHRoJztcbiAgICAgICAgc2Vjb25kYXJ5UGFkZGluZyA9IGRvY1BhZGRpbmcubGVmdCArIGRvY1BhZGRpbmcucmlnaHQ7XG4gICAgfVxuICAgIGVsc2VcbiAgICB7XG4gICAgICAgIHNlY29uZGFyeURpbSA9ICdoZWlnaHQnO1xuICAgICAgICBzZWNvbmRhcnlQYWRkaW5nID0gZG9jUGFkZGluZy50b3AgKyBkb2NQYWRkaW5nLmJvdHRvbTtcbiAgICB9XG5cbiAgICByZXR1cm4gc2Vjb25kYXJ5UGFkZGluZyArIHNjYWxlZExheW91dHMucmVkdWNlKChtYXhEaW0sIGxheW91dCkgPT4gTWF0aC5tYXgobGF5b3V0LmRpbWVuc2lvbnNbc2Vjb25kYXJ5RGltXSwgbWF4RGltKSwgMCk7XG59XG4iLCJjb25zdCBkZWJ1ZyA9IHJlcXVpcmUoJ2RlYnVnJykoJ2RpdmE6SW1hZ2VDYWNoZScpO1xuXG4vKiBGSVhNRSh3YWJhaW4pOiBUaGUgY2FjaGluZyBzdHJhdGVneSBoZXJlIGlzIGNvbXBsZXRlbHlcbiAqIGFyYml0cmFyeSBhbmQgdGhlIGltcGxlbWVudGF0aW9uIGlzbid0IGVzcGVjaWFsbHkgZWZmaWNpZW50LlxuICovXG5jb25zdCBERUZBVUxUX01BWF9LRVlTID0gMTAwO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZUNhY2hlXG57XG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICBvcHRpb25zID0gb3B0aW9ucyB8fCB7IG1heEtleXM6IERFRkFVTFRfTUFYX0tFWVMgfTtcbiAgICAgICAgdGhpcy5tYXhLZXlzID0gb3B0aW9ucy5tYXhLZXlzIHx8IERFRkFVTFRfTUFYX0tFWVM7XG5cbiAgICAgICAgdGhpcy5faGVsZCA9IHt9O1xuICAgICAgICB0aGlzLl91cmxzID0ge307XG4gICAgICAgIHRoaXMuX2xydSA9IFtdO1xuICAgIH1cblxuICAgIGdldCAodXJsKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVjb3JkID0gdGhpcy5fdXJsc1t1cmxdO1xuICAgICAgICByZXR1cm4gcmVjb3JkID8gcmVjb3JkLmltZyA6IG51bGw7XG4gICAgfVxuXG4gICAgaGFzICh1cmwpXG4gICAge1xuICAgICAgICByZXR1cm4gISF0aGlzLl91cmxzW3VybF07XG4gICAgfVxuXG4gICAgcHV0ICh1cmwsIGltZylcbiAgICB7XG4gICAgICAgIGxldCByZWNvcmQgPSB0aGlzLl91cmxzW3VybF07XG4gICAgICAgIGlmIChyZWNvcmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBEb2VzIHRoaXMgbWFrZSBzZW5zZSBmb3IgdGhpcyB1c2UgY2FzZT9cbiAgICAgICAgICAgIHJlY29yZC5pbWcgPSBpbWc7XG4gICAgICAgICAgICB0aGlzLl9wcm9tb3RlKHJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZWNvcmQgPSB7XG4gICAgICAgICAgICAgICAgaW1nOiBpbWcsXG4gICAgICAgICAgICAgICAgdXJsOiB1cmxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRoaXMuX3VybHNbdXJsXSA9IHJlY29yZDtcbiAgICAgICAgICAgIHRoaXMuX3RyeUV2aWN0KDEpO1xuICAgICAgICAgICAgdGhpcy5fbHJ1LnVuc2hpZnQocmVjb3JkKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wcm9tb3RlIChyZWNvcmQpXG4gICAge1xuICAgICAgICBjb25zdCBpbmRleCA9IHRoaXMuX2xydS5pbmRleE9mKHJlY29yZCk7XG4gICAgICAgIHRoaXMuX2xydS5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICB0aGlzLl9scnUudW5zaGlmdChyZWNvcmQpO1xuICAgIH1cblxuICAgIF90cnlFdmljdCAoZXh0cmFDYXBhY2l0eSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGFsbG93ZWRFbnRyeUNvdW50ID0gdGhpcy5tYXhLZXlzIC0gZXh0cmFDYXBhY2l0eTtcblxuICAgICAgICBpZiAodGhpcy5fbHJ1Lmxlbmd0aCA8PSBhbGxvd2VkRW50cnlDb3VudClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBsZXQgZXZpY3Rpb25JbmRleCA9IHRoaXMuX2xydS5sZW5ndGggLSAxO1xuXG4gICAgICAgIGZvciAoOzspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHRhcmdldCA9IHRoaXMuX2xydVtldmljdGlvbkluZGV4XTtcblxuICAgICAgICAgICAgaWYgKCF0aGlzLl9oZWxkW3RhcmdldC51cmxdKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRlYnVnKCdFdmljdGluZyBpbWFnZSAlcycsIHRhcmdldC51cmwpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2xydS5zcGxpY2UoZXZpY3Rpb25JbmRleCwgMSk7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3VybHNbdGFyZ2V0LnVybF07XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fbHJ1Lmxlbmd0aCA8PSBhbGxvd2VkRW50cnlDb3VudClcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChldmljdGlvbkluZGV4ID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBuZXh0ICovXG4gICAgICAgICAgICAgICAgZGVidWcuZW5hYmxlZCAmJiBkZWJ1ZygnQ2FjaGUgb3ZlcmZ1bGwgYnkgJXMgKGFsbCBlbnRyaWVzIGFyZSBiZWluZyBoZWxkKScsXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2xydS5sZW5ndGggLSBhbGxvd2VkRW50cnlDb3VudCk7XG5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgZXZpY3Rpb25JbmRleC0tO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWNxdWlyZSAodXJsKVxuICAgIHtcbiAgICAgICAgdGhpcy5faGVsZFt1cmxdID0gKHRoaXMuX2hlbGRbdXJsXSB8fCAwKSArIDE7XG4gICAgICAgIHRoaXMuX3Byb21vdGUodGhpcy5fdXJsc1t1cmxdKTtcbiAgICB9XG5cbiAgICByZWxlYXNlICh1cmwpXG4gICAge1xuICAgICAgICBjb25zdCBjb3VudCA9IHRoaXMuX2hlbGRbdXJsXTtcblxuICAgICAgICBpZiAoY291bnQgPiAxKVxuICAgICAgICAgICAgdGhpcy5faGVsZFt1cmxdLS07XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9oZWxkW3VybF07XG5cbiAgICAgICAgdGhpcy5fdHJ5RXZpY3QoMCk7XG4gICAgfVxufVxuIiwiLyoqXG4gKiBIYW5kbGVyIGZvciB0aGUgcmVxdWVzdCBmb3IgYW4gaW1hZ2UgdGlsZVxuICpcbiAqIEBwYXJhbSB1cmxcbiAqIEBwYXJhbSBjYWxsYmFja1xuICogQGNvbnN0cnVjdG9yXG4gKi9cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEltYWdlUmVxdWVzdEhhbmRsZXJcbntcbiAgICBjb25zdHJ1Y3RvciAob3B0aW9ucylcbiAgICB7XG4gICAgICAgIHRoaXMuX3VybCA9IG9wdGlvbnMudXJsO1xuICAgICAgICB0aGlzLl9jYWxsYmFjayA9IG9wdGlvbnMubG9hZDtcbiAgICAgICAgdGhpcy5fZXJyb3JDYWxsYmFjayA9IG9wdGlvbnMuZXJyb3I7XG4gICAgICAgIHRoaXMudGltZW91dFRpbWUgPSBvcHRpb25zLnRpbWVvdXRUaW1lIHx8IDA7XG4gICAgICAgIHRoaXMuX2Fib3J0ZWQgPSB0aGlzLl9jb21wbGV0ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9jcm9zc09yaWdpbiA9IG9wdGlvbnMuc2V0dGluZ3MuaW1hZ2VDcm9zc09yaWdpbjtcblxuICAgICAgICAvL1VzZSBhIHRpbWVvdXQgdG8gYWxsb3cgdGhlIHJlcXVlc3RzIHRvIGJlIGRlYm91bmNlZCAoYXMgdGhleSBhcmUgaW4gcmVuZGVyZXIpXG4gICAgICAgIHRoaXMudGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgLy8gSW5pdGlhdGUgdGhlIHJlcXVlc3RcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlID0gbmV3IEltYWdlKCk7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5jcm9zc09yaWdpbiA9IHRoaXMuX2Nyb3NzT3JpZ2luO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2Uub25sb2FkID0gdGhpcy5faGFuZGxlTG9hZC5iaW5kKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5faW1hZ2Uub25lcnJvciA9IHRoaXMuX2hhbmRsZUVycm9yLmJpbmQodGhpcyk7XG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSBvcHRpb25zLnVybDtcblxuICAgICAgICB9LCB0aGlzLnRpbWVvdXRUaW1lKTtcbiAgICB9XG5cbiAgICBhYm9ydCAoKVxuICAgIHtcbiAgICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZW91dCk7XG5cbiAgICAgICAgLy8gRklYTUVcbiAgICAgICAgLy8gUGVvcGxlIG9uIHRoZSBJbnRlcm5ldCBzYXkgdGhhdCBkb2luZyB0aGlzIHt7c2hvdWxkL3Nob3VsZCBub3R9fSBhYm9ydCB0aGUgcmVxdWVzdC4gSSBiZWxpZXZlXG4gICAgICAgIC8vIGl0IGNvcnJlc3BvbmRzIHRvIHdoYXQgdGhlIFdIQVRXRyBIVE1MIHNwZWMgc2F5cyBzaG91bGQgaGFwcGVuIHdoZW4gdGhlIFVBXG4gICAgICAgIC8vIHVwZGF0ZXMgdGhlIGltYWdlIGRhdGEgaWYgc2VsZWN0ZWQgc291cmNlIGlzIG51bGwuXG4gICAgICAgIC8vXG4gICAgICAgIC8vIFNvdXJjZXM6XG4gICAgICAgIC8vXG4gICAgICAgIC8vIGh0dHBzOi8vaHRtbC5zcGVjLndoYXR3Zy5vcmcvbXVsdGlwYWdlL2VtYmVkZGVkLWNvbnRlbnQuaHRtbCN0aGUtaW1nLWVsZW1lbnRcbiAgICAgICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83MzkwODg4L2RvZXMtY2hhbmdpbmctdGhlLXNyYy1hdHRyaWJ1dGUtb2YtYW4taW1hZ2Utc3RvcC10aGUtaW1hZ2UtZnJvbS1kb3dubG9hZGluZ1xuICAgICAgICBpZiAodGhpcy5faW1hZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2ltYWdlLm9ubG9hZCA9IHRoaXMuX2ltYWdlLm9uZXJyb3IgPSBudWxsO1xuXG4gICAgICAgICAgICB0aGlzLl9pbWFnZS5zcmMgPSAnJztcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2Fib3J0ZWQgPSB0cnVlO1xuICAgIH1cblxuICAgIF9oYW5kbGVMb2FkICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5fYWJvcnRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW1hZ2VSZXF1ZXN0SGFuZGxlciBpbnZva2VkIG9uIGNhbmNlbGxlZCByZXF1ZXN0IGZvciAnICsgdGhpcy5fdXJsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9jb21wbGV0ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcignSW1hZ2VSZXF1ZXN0SGFuZGxlciBpbnZva2VkIG9uIGNvbXBsZXRlZCByZXF1ZXN0IGZvciAnICsgdGhpcy5fdXJsKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuX2NvbXBsZXRlID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLl9jYWxsYmFjayh0aGlzLl9pbWFnZSk7XG4gICAgfVxuXG4gICAgX2hhbmRsZUVycm9yICgpXG4gICAge1xuICAgICAgICB0aGlzLl9lcnJvckNhbGxiYWNrKHRoaXMuX2ltYWdlKTtcbiAgICB9XG59XG4iLCIvLyBUT0RPOiByZXF1ZXN0QW5pbWF0aW9uRnJhbWUgZmFsbGJhY2tcblxuZXhwb3J0IGRlZmF1bHQge1xuICAgIGFuaW1hdGUsXG4gICAgZWFzaW5nOiB7XG4gICAgICAgIGxpbmVhcjogbGluZWFyRWFzaW5nLFxuICAgICAgICBjdWJpYzogaW5PdXRDdWJpY0Vhc2luZ1xuICAgIH1cbn07XG5cbmxldCBub3c7XG5cbmlmICh0eXBlb2YgcGVyZm9ybWFuY2UgIT09ICd1bmRlZmluZWQnICYmIHBlcmZvcm1hbmNlLm5vdylcbntcbiAgICBub3cgPSAoKSA9PiB7IHJldHVybiBwZXJmb3JtYW5jZS5ub3coKTsgfTtcbn1cbmVsc2VcbntcbiAgICBub3cgPSAoKSA9PiB7IHJldHVybiBEYXRlLm5vdygpOyB9O1xufVxuXG5cbmZ1bmN0aW9uIGFuaW1hdGUgKG9wdGlvbnMpXG57XG4gICAgY29uc3QgZHVyYXRpb25NcyA9IG9wdGlvbnMuZHVyYXRpb247XG4gICAgY29uc3QgcGFyYW1ldGVycyA9IG9wdGlvbnMucGFyYW1ldGVycztcbiAgICBjb25zdCBvblVwZGF0ZSA9IG9wdGlvbnMub25VcGRhdGU7XG4gICAgY29uc3Qgb25FbmQgPSBvcHRpb25zLm9uRW5kO1xuXG4gICAgLy8gU2V0dXBcbiAgICAvLyBUaW1lcyBhcmUgaW4gbWlsbGlzZWNvbmRzIGZyb20gYSBiYXNpY2FsbHkgYXJiaXRyYXJ5IHN0YXJ0XG4gICAgY29uc3Qgc3RhcnQgPSBub3coKTtcbiAgICBjb25zdCBlbmQgPSBzdGFydCArIGR1cmF0aW9uTXM7XG5cbiAgICBjb25zdCB0d2VlbkZucyA9IHt9O1xuICAgIGNvbnN0IHZhbHVlcyA9IHt9O1xuICAgIGNvbnN0IHBhcmFtS2V5cyA9IE9iamVjdC5rZXlzKHBhcmFtZXRlcnMpO1xuXG4gICAgcGFyYW1LZXlzLmZvckVhY2goa2V5ID0+IHtcbiAgICAgICAgY29uc3QgY29uZmlnID0gcGFyYW1ldGVyc1trZXldO1xuICAgICAgICB0d2VlbkZuc1trZXldID0gaW50ZXJwb2xhdGUoY29uZmlnLmZyb20sIGNvbmZpZy50bywgY29uZmlnLmVhc2luZyB8fCBpbk91dEN1YmljRWFzaW5nKTtcbiAgICB9KTtcblxuICAgIC8vIFJ1biBpdCFcbiAgICBsZXQgcmVxdWVzdElkID0gcmVxdWVzdEFuaW1hdGlvbkZyYW1lKHVwZGF0ZSk7XG5cbiAgICByZXR1cm4ge1xuICAgICAgICBjYW5jZWwoKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocmVxdWVzdElkICE9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhbmNlbEFuaW1hdGlvbkZyYW1lKHJlcXVlc3RJZCk7XG4gICAgICAgICAgICAgICAgaGFuZGxlQW5pbWF0aW9uQ29tcGxldGlvbih7XG4gICAgICAgICAgICAgICAgICAgIGludGVycnVwdGVkOiB0cnVlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gdXBkYXRlKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnQgPSBub3coKTtcbiAgICAgICAgY29uc3QgZWxhcHNlZCA9IE1hdGgubWluKChjdXJyZW50IC0gc3RhcnQpIC8gZHVyYXRpb25NcywgMSk7XG5cbiAgICAgICAgdXBkYXRlVmFsdWVzKGVsYXBzZWQpO1xuICAgICAgICBvblVwZGF0ZSh2YWx1ZXMpO1xuXG4gICAgICAgIGlmIChjdXJyZW50IDwgZW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXF1ZXN0SWQgPSByZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhhbmRsZUFuaW1hdGlvbkNvbXBsZXRpb24oe1xuICAgICAgICAgICAgICAgIGludGVycnVwdGVkOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiB1cGRhdGVWYWx1ZXMoZWxhcHNlZClcbiAgICB7XG4gICAgICAgIHBhcmFtS2V5cy5mb3JFYWNoKGtleSA9PiB7XG4gICAgICAgICAgICB2YWx1ZXNba2V5XSA9IHR3ZWVuRm5zW2tleV0oZWxhcHNlZCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUFuaW1hdGlvbkNvbXBsZXRpb24oaW5mbylcbiAgICB7XG4gICAgICAgIHJlcXVlc3RJZCA9IG51bGw7XG5cbiAgICAgICAgaWYgKG9uRW5kKVxuICAgICAgICAgICAgb25FbmQoaW5mbyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBpbnRlcnBvbGF0ZShzdGFydCwgZW5kLCBlYXNpbmcpXG57XG4gICAgcmV0dXJuIChlbGFwc2VkKSA9PiB7IHJldHVybiBzdGFydCArIChlbmQgLSBzdGFydCkgKiBlYXNpbmcoZWxhcHNlZCk7IH07XG59XG5cbi8qKlxuICogRWFzaW5nIGZ1bmN0aW9ucy4gaW5PdXRDdWJpY0Vhc2luZyBpcyB0aGUgZGVmYXVsdCwgYnV0XG4gKiBvdGhlcnMgYXJlIGdpdmVuIGZvciBjb252ZW5pZW5jZS5cbiAqXG4gKiovXG5mdW5jdGlvbiBsaW5lYXJFYXNpbmcoZSlcbntcbiAgICByZXR1cm4gZTtcbn1cblxuLyoganNoaW50IGlnbm9yZTpzdGFydCAqL1xuZnVuY3Rpb24gaW5PdXRRdWFkRWFzaW5nIChlKVxue1xuICAgIHJldHVybiBlIDwgLjUgPyAyICogZSAqIGUgOiAtMSsoNC0yICogZSkgKiBlXG59XG4vKiBqc2hpbnQgaWdub3JlOmVuZCAqL1xuXG5cbmZ1bmN0aW9uIGluT3V0Q3ViaWNFYXNpbmcgKHQpXG57XG4gICAgcmV0dXJuIHQgPCAwLjUgPyA0ICogdCAqIHQgKiB0IDogKCB0IC0gMSApICogKCAyICogdCAtIDIgKSAqICggMiAqIHQgLSAyICkgKyAxO1xufVxuIiwiaW1wb3J0IHsgZWx0LCBzZXRBdHRyaWJ1dGVzIH0gZnJvbSAnLi91dGlscy9lbHQnO1xuaW1wb3J0IENvbXBvc2l0ZUltYWdlIGZyb20gJy4vY29tcG9zaXRlLWltYWdlJztcbmltcG9ydCBEb2N1bWVudExheW91dCBmcm9tICcuL2RvY3VtZW50LWxheW91dCc7XG5pbXBvcnQgSW1hZ2VDYWNoZSBmcm9tICcuL2ltYWdlLWNhY2hlJztcbmltcG9ydCBJbWFnZVJlcXVlc3RIYW5kbGVyIGZyb20gJy4vaW1hZ2UtcmVxdWVzdC1oYW5kbGVyJztcbmltcG9ydCBJbnRlcnBvbGF0ZUFuaW1hdGlvbiBmcm9tICcuL2ludGVycG9sYXRlLWFuaW1hdGlvbic7XG5cbmNvbnN0IFJFUVVFU1RfREVCT1VOQ0VfSU5URVJWQUwgPSAyNTA7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlbmRlcmVyXG57XG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMsIGhvb2tzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmlld3BvcnQgPSBvcHRpb25zLnZpZXdwb3J0O1xuICAgICAgICB0aGlzLl9vdXRlckVsZW1lbnQgPSBvcHRpb25zLm91dGVyRWxlbWVudDtcbiAgICAgICAgdGhpcy5fZG9jdW1lbnRFbGVtZW50ID0gb3B0aW9ucy5pbm5lckVsZW1lbnQ7XG4gICAgICAgIHRoaXMuX3NldHRpbmdzID0gb3B0aW9ucy5zZXR0aW5ncztcblxuICAgICAgICB0aGlzLl9ob29rcyA9IGhvb2tzIHx8IHt9O1xuXG4gICAgICAgIHRoaXMuX2NhbnZhcyA9IGVsdCgnY2FudmFzJywgeyBjbGFzczogJ2RpdmEtdmlld2VyLWNhbnZhcycgfSk7XG4gICAgICAgIHRoaXMuX2N0eCA9IHRoaXMuX2NhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuXG4gICAgICAgIHRoaXMubGF5b3V0ID0gbnVsbDtcblxuICAgICAgICB0aGlzLl9zb3VyY2VSZXNvbHZlciA9IG51bGw7XG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb25maWcgPSBudWxsO1xuICAgICAgICB0aGlzLl96b29tTGV2ZWwgPSBudWxsO1xuICAgICAgICB0aGlzLl9jb21wb3NpdGVJbWFnZXMgPSBudWxsO1xuICAgICAgICB0aGlzLl9yZW5kZXJlZFRpbGVzID0gbnVsbDtcbiAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcblxuICAgICAgICAvLyBGSVhNRSh3YWJhaW4pOiBXaGF0IGxldmVsIHNob3VsZCB0aGlzIGJlIG1haW50YWluZWQgYXQ/XG4gICAgICAgIC8vIERpdmEgZ2xvYmFsP1xuICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBJbWFnZUNhY2hlKCk7XG4gICAgICAgIHRoaXMuX3BlbmRpbmdSZXF1ZXN0cyA9IHt9O1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRDb21wYXRpYmlsaXR5RXJyb3JzICgpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIEhUTUxDYW52YXNFbGVtZW50ICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgJ1lvdXIgYnJvd3NlciBsYWNrcyBzdXBwb3J0IGZvciB0aGUgJywgZWx0KCdwcmUnLCAnY2FudmFzJyksXG4gICAgICAgICAgICAnIGVsZW1lbnQuIFBsZWFzZSB1cGdyYWRlIHlvdXIgYnJvd3Nlci4nXG4gICAgICAgIF07XG4gICAgfVxuXG4gICAgbG9hZCAoY29uZmlnLCB2aWV3cG9ydFBvc2l0aW9uLCBzb3VyY2VSZXNvbHZlcilcbiAgICB7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgaWYgKHRoaXMuX2hvb2tzLm9uVmlld1dpbGxMb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdXaWxsTG9hZCgpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc291cmNlUmVzb2x2ZXIgPSBzb3VyY2VSZXNvbHZlcjtcbiAgICAgICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xuICAgICAgICB0aGlzLl9jb21wb3NpdGVJbWFnZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fc2V0TGF5b3V0VG9ab29tTGV2ZWwodmlld3BvcnRQb3NpdGlvbi56b29tTGV2ZWwpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFJlbW92ZSB0aGlzIHdoZW4gdGhlcmUncyBtb3JlIGNvbmZpZGVuY2UgdGhlIGNoZWNrIHNob3VsZG4ndCBiZSBuZWVkZWRcbiAgICAgICAgaWYgKCF0aGlzLmxheW91dC5nZXRQYWdlSW5mbyh2aWV3cG9ydFBvc2l0aW9uLmFuY2hvclBhZ2UpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2ludmFsaWQgcGFnZTogJyArIHZpZXdwb3J0UG9zaXRpb24uYW5jaG9yUGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5fY2FudmFzLndpZHRoICE9PSB0aGlzLl92aWV3cG9ydC53aWR0aCB8fCB0aGlzLl9jYW52YXMuaGVpZ2h0ICE9PSB0aGlzLl92aWV3cG9ydC5oZWlnaHQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2NhbnZhcy53aWR0aCA9IHRoaXMuX3ZpZXdwb3J0LndpZHRoO1xuICAgICAgICAgICAgdGhpcy5fY2FudmFzLmhlaWdodCA9IHRoaXMuX3ZpZXdwb3J0LmhlaWdodDtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZJWE1FOiBXaGF0IGhvb2tzIHNob3VsZCBiZSBjYWxsZWQgaGVyZT9cbiAgICAgICAgdGhpcy5nb3RvKHZpZXdwb3J0UG9zaXRpb24uYW5jaG9yUGFnZSwgdmlld3BvcnRQb3NpdGlvbi52ZXJ0aWNhbE9mZnNldCwgdmlld3BvcnRQb3NpdGlvbi5ob3Jpem9udGFsT2Zmc2V0KTtcblxuICAgICAgICBpZiAodGhpcy5fY2FudmFzLnBhcmVudE5vZGUgIT09IHRoaXMuX291dGVyRWxlbWVudClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fb3V0ZXJFbGVtZW50Lmluc2VydEJlZm9yZSh0aGlzLl9jYW52YXMsIHRoaXMuX291dGVyRWxlbWVudC5maXJzdENoaWxkKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLl9ob29rcy5vblZpZXdEaWRMb2FkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRMb2FkKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfc2V0Vmlld3BvcnRQb3NpdGlvbiAodmlld3BvcnRQb3NpdGlvbilcbiAgICB7XG4gICAgICAgIGlmICh2aWV3cG9ydFBvc2l0aW9uLnpvb21MZXZlbCAhPT0gdGhpcy5fem9vbUxldmVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodGhpcy5fem9vbUxldmVsID09PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBjdXJyZW50IHZpZXcgaXMgbm90IHpvb21hYmxlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh2aWV3cG9ydFBvc2l0aW9uLnpvb21MZXZlbCA9PT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY3VycmVudCB2aWV3IHJlcXVpcmVzIGEgem9vbSBsZXZlbCcpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzLl9zZXRMYXlvdXRUb1pvb21MZXZlbCh2aWV3cG9ydFBvc2l0aW9uLnpvb21MZXZlbCk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9nb3RvKHZpZXdwb3J0UG9zaXRpb24uYW5jaG9yUGFnZSwgdmlld3BvcnRQb3NpdGlvbi52ZXJ0aWNhbE9mZnNldCwgdmlld3BvcnRQb3NpdGlvbi5ob3Jpem9udGFsT2Zmc2V0KTtcbiAgICB9XG5cbiAgICBfc2V0TGF5b3V0VG9ab29tTGV2ZWwgKHpvb21MZXZlbClcbiAgICB7XG4gICAgICAgIHRoaXMubGF5b3V0ID0gbmV3IERvY3VtZW50TGF5b3V0KHRoaXMuX2NvbmZpZywgem9vbUxldmVsKTtcbiAgICAgICAgdGhpcy5fem9vbUxldmVsID0gem9vbUxldmVsO1xuXG4gICAgICAgIHNldEF0dHJpYnV0ZXModGhpcy5fZG9jdW1lbnRFbGVtZW50LCB7XG4gICAgICAgICAgICBzdHlsZToge1xuICAgICAgICAgICAgICAgIGhlaWdodDogdGhpcy5sYXlvdXQuZGltZW5zaW9ucy5oZWlnaHQgKyAncHgnLFxuICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLmxheW91dC5kaW1lbnNpb25zLndpZHRoICsgJ3B4J1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLl92aWV3cG9ydC5zZXRJbm5lckRpbWVuc2lvbnModGhpcy5sYXlvdXQuZGltZW5zaW9ucyk7XG4gICAgfVxuXG4gICAgYWRqdXN0ICgpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hvb2tzLm9uVmlld0RpZFVwZGF0ZSh0aGlzLl9yZW5kZXJlZFBhZ2VzLnNsaWNlKCksIG51bGwpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgX3JlbmRlciAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgbmV3UmVuZGVyZWRQYWdlcyA9IFtdO1xuICAgICAgICB0aGlzLmxheW91dC5wYWdlR3JvdXBzLmZvckVhY2goKGdyb3VwKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3ZpZXdwb3J0LmludGVyc2VjdHNSZWdpb24oZ3JvdXAucmVnaW9uKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IHZpc2libGVQYWdlcyA9IGdyb3VwLnBhZ2VzXG4gICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAocGFnZSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmlzUGFnZVZpc2libGUocGFnZS5pbmRleCk7XG4gICAgICAgICAgICAgICAgfSwgdGhpcylcbiAgICAgICAgICAgICAgICAubWFwKHBhZ2UgPT4gcGFnZS5pbmRleCk7XG5cbiAgICAgICAgICAgIG5ld1JlbmRlcmVkUGFnZXMucHVzaC5hcHBseShuZXdSZW5kZXJlZFBhZ2VzLCB2aXNpYmxlUGFnZXMpO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuX2NhbnZhcy53aWR0aCwgdGhpcy5fY2FudmFzLmhlaWdodCk7XG4gICAgICAgIHRoaXMuX3BhaW50T3V0bGluZShuZXdSZW5kZXJlZFBhZ2VzKTtcblxuICAgICAgICBuZXdSZW5kZXJlZFBhZ2VzLmZvckVhY2goKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5sYXlvdXQuZ2V0UGFnZUluZm8ocGFnZUluZGV4KTtcbiAgICAgICAgICAgICAgICBjb25zdCB6b29tTGV2ZWxzID0gdGhpcy5fc291cmNlUmVzb2x2ZXIuZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2UocGFnZSk7XG4gICAgICAgICAgICAgICAgY29uc3QgY29tcG9zaXRlID0gbmV3IENvbXBvc2l0ZUltYWdlKHpvb21MZXZlbHMpO1xuICAgICAgICAgICAgICAgIGNvbXBvc2l0ZS51cGRhdGVGcm9tQ2FjaGUodGhpcy5fY2FjaGUpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdID0gY29tcG9zaXRlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9pbml0aWF0ZVRpbGVSZXF1ZXN0cyhuZXdSZW5kZXJlZFBhZ2VzKTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VzID0gZmluZENoYW5nZXModGhpcy5fcmVuZGVyZWRQYWdlcyB8fCBbXSwgbmV3UmVuZGVyZWRQYWdlcyk7XG5cbiAgICAgICAgY2hhbmdlcy5yZW1vdmVkLmZvckVhY2goKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdO1xuICAgICAgICB9LCB0aGlzKTtcblxuICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzID0gbmV3UmVuZGVyZWRQYWdlcztcbiAgICAgICAgdGhpcy5fcGFpbnQoKTtcblxuICAgICAgICBpZiAodGhpcy5faG9va3Mub25QYWdlV2lsbExvYWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNoYW5nZXMuYWRkZWQuZm9yRWFjaCgocGFnZUluZGV4KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2hvb2tzLm9uUGFnZVdpbGxMb2FkKHBhZ2VJbmRleCk7XG4gICAgICAgICAgICB9LCB0aGlzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIF9wYWludCAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgcmVuZGVyZWRUaWxlcyA9IFtdO1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcmVkUGFnZXMuZm9yRWFjaCggKHBhZ2VJbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY29tcG9zaXRlSW1hZ2VzW3BhZ2VJbmRleF0uZ2V0VGlsZXModGhpcy5fem9vbUxldmVsKS5mb3JFYWNoKChzb3VyY2UpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NhbGVkID0gZ2V0U2NhbGVkVGlsZVJlY29yZChzb3VyY2UsIHRoaXMuX3pvb21MZXZlbCk7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNUaWxlVmlzaWJsZShwYWdlSW5kZXgsIHNjYWxlZCkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZW5kZXJlZFRpbGVzLnB1c2goc291cmNlLnVybCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2RyYXdUaWxlKHBhZ2VJbmRleCwgc2NhbGVkLCB0aGlzLl9jYWNoZS5nZXQoc291cmNlLnVybCkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBjYWNoZSA9IHRoaXMuX2NhY2hlO1xuXG4gICAgICAgIGNvbnN0IGNoYW5nZXMgPSBmaW5kQ2hhbmdlcyh0aGlzLl9yZW5kZXJlZFRpbGVzIHx8IFtdLCByZW5kZXJlZFRpbGVzKTtcblxuICAgICAgICBjaGFuZ2VzLmFkZGVkLmZvckVhY2godXJsID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhY2hlLmFjcXVpcmUodXJsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY2hhbmdlcy5yZW1vdmVkLmZvckVhY2godXJsID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNhY2hlLnJlbGVhc2UodXJsKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGNoYW5nZXMucmVtb3ZlZClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRklYTUU6IFNob3VsZCBvbmx5IG5lZWQgdG8gdXBkYXRlIHRoZSBjb21wb3NpdGUgaW1hZ2VzXG4gICAgICAgICAgICAvLyBmb3Igd2hpY2ggdGlsZXMgd2VyZSByZW1vdmVkXG4gICAgICAgICAgICB0aGlzLl9yZW5kZXJlZFBhZ2VzLmZvckVhY2goKHBhZ2VJbmRleCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jb21wb3NpdGVJbWFnZXNbcGFnZUluZGV4XS51cGRhdGVGcm9tQ2FjaGUodGhpcy5fY2FjaGUpO1xuICAgICAgICAgICAgfSwgdGhpcyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLl9yZW5kZXJlZFRpbGVzID0gcmVuZGVyZWRUaWxlcztcbiAgICB9XG5cbiAgICAvLyBQYWludCBhIHBhZ2Ugb3V0bGluZSB3aGlsZSB0aGUgdGlsZXMgYXJlIGxvYWRpbmcuXG4gICAgX3BhaW50T3V0bGluZSAocGFnZXMpXG4gICAge1xuICAgICAgICBwYWdlcy5mb3JFYWNoKCAocGFnZUluZGV4KSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcGFnZUluZm8gPSB0aGlzLmxheW91dC5nZXRQYWdlSW5mbyhwYWdlSW5kZXgpO1xuICAgICAgICAgICAgbGV0IHBhZ2VPZmZzZXQgPSB0aGlzLl9nZXRJbWFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgICAgICAvLyBFbnN1cmUgdGhlIGRvY3VtZW50IGlzIGRyYXduIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0XG4gICAgICAgICAgICBsZXQgdmlld3BvcnRQYWRkaW5nWCA9IE1hdGgubWF4KDAsICh0aGlzLl92aWV3cG9ydC53aWR0aCAtIHRoaXMubGF5b3V0LmRpbWVuc2lvbnMud2lkdGgpIC8gMik7XG4gICAgICAgICAgICBsZXQgdmlld3BvcnRQYWRkaW5nWSA9IE1hdGgubWF4KDAsICh0aGlzLl92aWV3cG9ydC5oZWlnaHQgLSB0aGlzLmxheW91dC5kaW1lbnNpb25zLmhlaWdodCkgLyAyKTtcblxuICAgICAgICAgICAgbGV0IHZpZXdwb3J0T2Zmc2V0WCA9IHBhZ2VPZmZzZXQubGVmdCAtIHRoaXMuX3ZpZXdwb3J0LmxlZnQgKyB2aWV3cG9ydFBhZGRpbmdYO1xuICAgICAgICAgICAgbGV0IHZpZXdwb3J0T2Zmc2V0WSA9IHBhZ2VPZmZzZXQudG9wIC0gdGhpcy5fdmlld3BvcnQudG9wICsgdmlld3BvcnRQYWRkaW5nWTtcblxuICAgICAgICAgICAgbGV0IGRlc3RYT2Zmc2V0ID0gdmlld3BvcnRPZmZzZXRYIDwgMCA/IC12aWV3cG9ydE9mZnNldFggOiAwO1xuICAgICAgICAgICAgbGV0IGRlc3RZT2Zmc2V0ID0gdmlld3BvcnRPZmZzZXRZIDwgMCA/IC12aWV3cG9ydE9mZnNldFkgOiAwO1xuXG4gICAgICAgICAgICBsZXQgY2FudmFzWCA9IE1hdGgubWF4KDAsIHZpZXdwb3J0T2Zmc2V0WCk7XG4gICAgICAgICAgICBsZXQgY2FudmFzWSA9IE1hdGgubWF4KDAsIHZpZXdwb3J0T2Zmc2V0WSk7XG5cbiAgICAgICAgICAgIGxldCBkZXN0V2lkdGggPSBwYWdlSW5mby5kaW1lbnNpb25zLndpZHRoIC0gZGVzdFhPZmZzZXQ7XG4gICAgICAgICAgICBsZXQgZGVzdEhlaWdodCA9IHBhZ2VJbmZvLmRpbWVuc2lvbnMuaGVpZ2h0IC0gZGVzdFlPZmZzZXQ7XG5cbiAgICAgICAgICAgIHRoaXMuX2N0eC5zdHJva2VTdHlsZSA9ICcjQUFBJztcbiAgICAgICAgICAgIC8vIEluIG9yZGVyIHRvIGdldCBhIDFweCB3aWRlIGxpbmUgdXNpbmcgc3Ryb2tlcywgd2UgbmVlZCB0byBzdGFydCBhdCBhICdoYWxmIHBpeGVsJ1xuICAgICAgICAgICAgdGhpcy5fY3R4LnN0cm9rZVJlY3QoY2FudmFzWCArIDAuNSwgY2FudmFzWSArIDAuNSwgZGVzdFdpZHRoLCBkZXN0SGVpZ2h0KTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gVGhpcyBtZXRob2Qgc2hvdWxkIGJlIHNlbnQgYWxsIHZpc2libGUgcGFnZXMgYXQgb25jZSBiZWNhdXNlIGl0IHdpbGwgaW5pdGlhdGVcbiAgICAvLyBhbGwgaW1hZ2UgcmVxdWVzdHMgYW5kIGNhbmNlbCBhbnkgcmVtYWluaW5nIGltYWdlIHJlcXVlc3RzLiBJbiB0aGUgY2FzZSB0aGF0XG4gICAgLy8gYSByZXF1ZXN0IGlzIG9uZ29pbmcgYW5kIHRoZSB0aWxlIGlzIHN0aWxsIHZpc2libGUgaW4gdGhlIHZpZXdwb3J0LCB0aGUgb2xkIHJlcXVlc3RcbiAgICAvLyBpcyBrZXB0IGFjdGl2ZSBpbnN0ZWFkIG9mIHJlc3RhcnRpbmcgaXQuIFRoZSBpbWFnZSByZXF1ZXN0cyBhcmUgZ2l2ZW4gYSB0aW1lb3V0XG4gICAgLy8gYmVmb3JlIGxvYWRpbmcgaW4gb3JkZXIgdG8gZGVib3VuY2UgdGhlbSBhbmQgaGF2ZSBhIHNtYWxsIHJlYWN0aW9uIHRpbWVcbiAgICAvLyB0byBjYW5jZWwgdGhlbSBhbmQgYXZvaWQgdXNlbGVzcyByZXF1ZXN0cy5cbiAgICBfaW5pdGlhdGVUaWxlUmVxdWVzdHMgKHBhZ2VzKVxuICAgIHtcbiAgICAgICAgLy8gT25seSByZXF1ZXN0cyBpbiB0aGlzIG9iamVjdCBhcmUga2VwdCBhbGl2ZSwgc2luY2UgYWxsIG90aGVycyBhcmUgbm90IHZpc2libGUgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgIGNvbnN0IG5ld1BlbmRpbmdSZXF1ZXN0cyA9IHt9O1xuXG4gICAgICAgIC8vIFVzZWQgbGF0ZXIgYXMgYSBjbG9zdXJlIHRvIGluaXRpYXRlIHRoZSBpbWFnZSByZXF1ZXN0cyB3aXRoIHRoZSByaWdodCBzb3VyY2UgYW5kIHBhZ2VJbmRleFxuICAgICAgICBjb25zdCBpbml0aWF0ZVJlcXVlc3QgPSAoc291cmNlLCBwYWdlSW5kZXgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBvc2l0ZSA9IHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdO1xuXG4gICAgICAgICAgICBuZXdQZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF0gPSBuZXcgSW1hZ2VSZXF1ZXN0SGFuZGxlcih7XG4gICAgICAgICAgICAgICAgdXJsOiBzb3VyY2UudXJsLFxuICAgICAgICAgICAgICAgIHRpbWVvdXRUaW1lOiBSRVFVRVNUX0RFQk9VTkNFX0lOVEVSVkFMLFxuICAgICAgICAgICAgICAgIHNldHRpbmdzOiB0aGlzLl9zZXR0aW5ncyxcbiAgICAgICAgICAgICAgICBsb2FkOiBpbWcgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLl9wZW5kaW5nUmVxdWVzdHNbc291cmNlLnVybF07XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlLnB1dChzb3VyY2UudXJsLCBpbWcpO1xuXG4gICAgICAgICAgICAgICAgICAgIC8vIEF3a3dhcmQgd2F5IHRvIGNoZWNrIGZvciB1cGRhdGVzXG4gICAgICAgICAgICAgICAgICAgIGlmIChjb21wb3NpdGUgPT09IHRoaXMuX2NvbXBvc2l0ZUltYWdlc1twYWdlSW5kZXhdKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb3NpdGUudXBkYXRlV2l0aExvYWRlZFVybHMoW3NvdXJjZS51cmxdKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX2lzVGlsZUZvclNvdXJjZVZpc2libGUocGFnZUluZGV4LCBzb3VyY2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3BhaW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faXNUaWxlRm9yU291cmNlVmlzaWJsZShwYWdlSW5kZXgsIHNvdXJjZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fcGFpbnQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZXJyb3I6ICgpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBDb3VsZCBtYWtlIGEgbGltaXRlZCBudW1iZXIgb2YgcmV0cmllcywgZXRjLlxuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3NvdXJjZS51cmxdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcGFnZXMubGVuZ3RoOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHBhZ2VzW2ldO1xuICAgICAgICAgICAgY29uc3QgdGlsZXMgPSB0aGlzLl9zb3VyY2VSZXNvbHZlci5nZXRCZXN0Wm9vbUxldmVsRm9yUGFnZSh0aGlzLmxheW91dC5nZXRQYWdlSW5mbyhwYWdlSW5kZXgpKS50aWxlcztcblxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCB0aWxlcy5sZW5ndGg7IGorKylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBzb3VyY2UgPSB0aWxlc1tqXTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FjaGUuaGFzKHNvdXJjZS51cmwpIHx8ICF0aGlzLl9pc1RpbGVGb3JTb3VyY2VWaXNpYmxlKHBhZ2VJbmRleCwgc291cmNlKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8vIERvbid0IGNyZWF0ZSBhIG5ldyByZXF1ZXN0IGlmIHRoZSB0aWxlIGlzIGFscmVhZHkgYmVpbmcgbG9hZGVkXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5ld1BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXSA9IHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX3BlbmRpbmdSZXF1ZXN0c1tzb3VyY2UudXJsXTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgLy8gVXNlIGEgY2xvc3VyZSBzaW5jZSB0aGUgbG9hZCBhbmQgZXJyb3IgbWV0aG9kcyBhcmUgZ29pbmcgdG8gYmUgY2FsbGVkIGxhdGVyIGFuZFxuICAgICAgICAgICAgICAgIC8vIHdlIG5lZWQgdG8ga2VlcCB0aGUgcmlnaHQgcmVmZXJlbmNlIHRvIHRoZSBzb3VyY2UgYW5kIHRoZSBwYWdlIGluZGV4XG4gICAgICAgICAgICAgICAgaW5pdGlhdGVSZXF1ZXN0KHNvdXJjZSwgcGFnZUluZGV4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoY29uc3QgdXJsIGluIHRoaXMuX3BlbmRpbmdSZXF1ZXN0cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3VybF0uYWJvcnQoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9wZW5kaW5nUmVxdWVzdHMgPSBuZXdQZW5kaW5nUmVxdWVzdHM7XG4gICAgfVxuXG4gICAgX2RyYXdUaWxlIChwYWdlSW5kZXgsIHNjYWxlZFRpbGUsIGltZylcbiAgICB7XG4gICAgICAgIGxldCB0aWxlT2Zmc2V0ID0gdGhpcy5fZ2V0VGlsZVRvRG9jdW1lbnRPZmZzZXQocGFnZUluZGV4LCBzY2FsZWRUaWxlKTtcblxuICAgICAgICAvLyBFbnN1cmUgdGhlIGRvY3VtZW50IGlzIGRyYXduIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0XG4gICAgICAgIGxldCB2aWV3cG9ydFBhZGRpbmdYID0gTWF0aC5tYXgoMCwgKHRoaXMuX3ZpZXdwb3J0LndpZHRoIC0gdGhpcy5sYXlvdXQuZGltZW5zaW9ucy53aWR0aCkgLyAyKTtcbiAgICAgICAgbGV0IHZpZXdwb3J0UGFkZGluZ1kgPSBNYXRoLm1heCgwLCAodGhpcy5fdmlld3BvcnQuaGVpZ2h0IC0gdGhpcy5sYXlvdXQuZGltZW5zaW9ucy5oZWlnaHQpIC8gMik7XG5cbiAgICAgICAgbGV0IHZpZXdwb3J0T2Zmc2V0WCA9IHRpbGVPZmZzZXQubGVmdCAtIHRoaXMuX3ZpZXdwb3J0LmxlZnQgKyB2aWV3cG9ydFBhZGRpbmdYO1xuICAgICAgICBsZXQgdmlld3BvcnRPZmZzZXRZID0gdGlsZU9mZnNldC50b3AgLSB0aGlzLl92aWV3cG9ydC50b3AgKyB2aWV3cG9ydFBhZGRpbmdZO1xuXG4gICAgICAgIGxldCBkZXN0WE9mZnNldCA9IHZpZXdwb3J0T2Zmc2V0WCA8IDAgPyAtdmlld3BvcnRPZmZzZXRYIDogMDtcbiAgICAgICAgbGV0IGRlc3RZT2Zmc2V0ID0gdmlld3BvcnRPZmZzZXRZIDwgMCA/IC12aWV3cG9ydE9mZnNldFkgOiAwO1xuXG4gICAgICAgIGxldCBjYW52YXNYID0gTWF0aC5tYXgoMCwgdmlld3BvcnRPZmZzZXRYKTtcbiAgICAgICAgbGV0IGNhbnZhc1kgPSBNYXRoLm1heCgwLCB2aWV3cG9ydE9mZnNldFkpO1xuXG4gICAgICAgIGxldCBzb3VyY2VYT2Zmc2V0ID0gZGVzdFhPZmZzZXQgLyBzY2FsZWRUaWxlLnNjYWxlUmF0aW87XG4gICAgICAgIGxldCBzb3VyY2VZT2Zmc2V0ID0gZGVzdFlPZmZzZXQgLyBzY2FsZWRUaWxlLnNjYWxlUmF0aW87XG5cbiAgICAgICAgLy8gRW5zdXJlIHRoYXQgdGhlIHNwZWNpZmllZCBkaW1lbnNpb25zIGFyZSBubyBncmVhdGVyIHRoYW4gdGhlIGFjdHVhbFxuICAgICAgICAvLyBzaXplIG9mIHRoZSBpbWFnZS4gU2FmYXJpIHdvbid0IGRpc3BsYXkgdGhlIHRpbGUgaWYgdGhleSBhcmUuXG4gICAgICAgIGxldCBkZXN0SW1nV2lkdGggPSBNYXRoLm1pbihzY2FsZWRUaWxlLmRpbWVuc2lvbnMud2lkdGgsIGltZy53aWR0aCAqIHNjYWxlZFRpbGUuc2NhbGVSYXRpbykgLSBkZXN0WE9mZnNldDtcbiAgICAgICAgbGV0IGRlc3RJbWdIZWlnaHQgPSBNYXRoLm1pbihzY2FsZWRUaWxlLmRpbWVuc2lvbnMuaGVpZ2h0LCBpbWcuaGVpZ2h0ICogc2NhbGVkVGlsZS5zY2FsZVJhdGlvKSAtIGRlc3RZT2Zmc2V0O1xuXG4gICAgICAgIGxldCBkZXN0V2lkdGggPSBNYXRoLm1heCgxLCBNYXRoLnJvdW5kKGRlc3RJbWdXaWR0aCkpO1xuICAgICAgICBsZXQgZGVzdEhlaWdodCA9IE1hdGgubWF4KDEsIE1hdGgucm91bmQoZGVzdEltZ0hlaWdodCkpO1xuXG4gICAgICAgIGxldCBzb3VyY2VXaWR0aCA9IGRlc3RXaWR0aCAvIHNjYWxlZFRpbGUuc2NhbGVSYXRpbztcbiAgICAgICAgbGV0IHNvdXJjZUhlaWdodCA9IGRlc3RIZWlnaHQgLyBzY2FsZWRUaWxlLnNjYWxlUmF0aW87XG5cbiAgICAgICAgdGhpcy5fY3R4LmRyYXdJbWFnZShcbiAgICAgICAgICAgIGltZyxcbiAgICAgICAgICAgIHNvdXJjZVhPZmZzZXQsIHNvdXJjZVlPZmZzZXQsXG4gICAgICAgICAgICBzb3VyY2VXaWR0aCwgc291cmNlSGVpZ2h0LFxuICAgICAgICAgICAgY2FudmFzWCwgY2FudmFzWSxcbiAgICAgICAgICAgIGRlc3RXaWR0aCwgZGVzdEhlaWdodCk7XG4gICAgfVxuXG4gICAgX2lzVGlsZUZvclNvdXJjZVZpc2libGUgKHBhZ2VJbmRleCwgdGlsZVNvdXJjZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc1RpbGVWaXNpYmxlKHBhZ2VJbmRleCwgZ2V0U2NhbGVkVGlsZVJlY29yZCh0aWxlU291cmNlLCB0aGlzLl96b29tTGV2ZWwpKTtcbiAgICB9XG5cbiAgICBfaXNUaWxlVmlzaWJsZSAocGFnZUluZGV4LCBzY2FsZWRUaWxlKVxuICAgIHtcbiAgICAgICAgY29uc3QgdGlsZU9mZnNldCA9IHRoaXMuX2dldFRpbGVUb0RvY3VtZW50T2Zmc2V0KHBhZ2VJbmRleCwgc2NhbGVkVGlsZSk7XG5cbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogVGhpcyBjaGVjayBpcyBpbnN1ZmZpY2llbnQgZHVyaW5nIGEgem9vbSB0cmFuc2l0aW9uXG4gICAgICAgIHJldHVybiB0aGlzLl92aWV3cG9ydC5pbnRlcnNlY3RzUmVnaW9uKHtcbiAgICAgICAgICAgIHRvcDogdGlsZU9mZnNldC50b3AsXG4gICAgICAgICAgICBib3R0b206IHRpbGVPZmZzZXQudG9wICsgc2NhbGVkVGlsZS5kaW1lbnNpb25zLmhlaWdodCxcbiAgICAgICAgICAgIGxlZnQ6IHRpbGVPZmZzZXQubGVmdCxcbiAgICAgICAgICAgIHJpZ2h0OiB0aWxlT2Zmc2V0LmxlZnQgKyBzY2FsZWRUaWxlLmRpbWVuc2lvbnMud2lkdGhcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgX2dldFRpbGVUb0RvY3VtZW50T2Zmc2V0IChwYWdlSW5kZXgsIHNjYWxlZFRpbGUpXG4gICAge1xuICAgICAgICBjb25zdCBpbWFnZU9mZnNldCA9IHRoaXMuX2dldEltYWdlT2Zmc2V0KHBhZ2VJbmRleCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHRvcDogaW1hZ2VPZmZzZXQudG9wICsgc2NhbGVkVGlsZS5vZmZzZXQudG9wLFxuICAgICAgICAgICAgbGVmdDogaW1hZ2VPZmZzZXQubGVmdCArIHNjYWxlZFRpbGUub2Zmc2V0LmxlZnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBfZ2V0SW1hZ2VPZmZzZXQgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmxheW91dC5nZXRQYWdlT2Zmc2V0KHBhZ2VJbmRleCwge2luY2x1ZGVQYWRkaW5nOiB0cnVlfSk7XG4gICAgfVxuXG4gICAgLy8gVE9ETzogVXBkYXRlIHNpZ25hdHVyZVxuICAgIGdvdG8gKHBhZ2VJbmRleCwgdmVydGljYWxPZmZzZXQsIGhvcml6b250YWxPZmZzZXQpXG4gICAge1xuICAgICAgICB0aGlzLl9jbGVhckFuaW1hdGlvbigpO1xuICAgICAgICB0aGlzLl9nb3RvKHBhZ2VJbmRleCwgdmVydGljYWxPZmZzZXQsIGhvcml6b250YWxPZmZzZXQpO1xuXG4gICAgICAgIGlmICh0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2hvb2tzLm9uVmlld0RpZFVwZGF0ZSh0aGlzLl9yZW5kZXJlZFBhZ2VzLnNsaWNlKCksIHBhZ2VJbmRleCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBfZ290byAocGFnZUluZGV4LCB2ZXJ0aWNhbE9mZnNldCwgaG9yaXpvbnRhbE9mZnNldClcbiAgICB7XG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IE1vdmUgdGhpcyBsb2dpYyB0byB0aGUgdmlld2VyXG4gICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSB0aGlzLmxheW91dC5nZXRQYWdlT2Zmc2V0KHBhZ2VJbmRleCk7XG5cbiAgICAgICAgY29uc3QgZGVzaXJlZFZlcnRpY2FsQ2VudGVyID0gcGFnZU9mZnNldC50b3AgKyB2ZXJ0aWNhbE9mZnNldDtcbiAgICAgICAgY29uc3QgdG9wID0gZGVzaXJlZFZlcnRpY2FsQ2VudGVyIC0gTWF0aC5yb3VuZCh0aGlzLl92aWV3cG9ydC5oZWlnaHQgLyAyKTtcblxuICAgICAgICBjb25zdCBkZXNpcmVkSG9yaXpvbnRhbENlbnRlciA9IHBhZ2VPZmZzZXQubGVmdCArIGhvcml6b250YWxPZmZzZXQ7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBkZXNpcmVkSG9yaXpvbnRhbENlbnRlciAtIE1hdGgucm91bmQodGhpcy5fdmlld3BvcnQud2lkdGggLyAyKTtcblxuICAgICAgICB0aGlzLl92aWV3cG9ydC50b3AgPSB0b3A7XG4gICAgICAgIHRoaXMuX3ZpZXdwb3J0LmxlZnQgPSBsZWZ0O1xuXG4gICAgICAgIHRoaXMuX3JlbmRlcigpO1xuICAgIH1cblxuICAgIHRyYW5zaXRpb25WaWV3cG9ydFBvc2l0aW9uIChvcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy5fY2xlYXJBbmltYXRpb24oKTtcblxuICAgICAgICBjb25zdCBnZXRQb3NpdGlvbiA9IG9wdGlvbnMuZ2V0UG9zaXRpb247XG4gICAgICAgIGNvbnN0IG9uVmlld0RpZFRyYW5zaXRpb24gPSB0aGlzLl9ob29rcy5vblZpZXdEaWRUcmFuc2l0aW9uO1xuXG4gICAgICAgIHRoaXMuX2FuaW1hdGlvbiA9IEludGVycG9sYXRlQW5pbWF0aW9uLmFuaW1hdGUoe1xuICAgICAgICAgICAgZHVyYXRpb246IG9wdGlvbnMuZHVyYXRpb24sXG4gICAgICAgICAgICBwYXJhbWV0ZXJzOiBvcHRpb25zLnBhcmFtZXRlcnMsXG4gICAgICAgICAgICBvblVwZGF0ZTogKHZhbHVlcykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRWaWV3cG9ydFBvc2l0aW9uKGdldFBvc2l0aW9uKHZhbHVlcykpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2hvb2tzLm9uWm9vbUxldmVsV2lsbENoYW5nZSh2YWx1ZXMuem9vbUxldmVsKTtcblxuICAgICAgICAgICAgICAgIGlmIChvblZpZXdEaWRUcmFuc2l0aW9uKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgb25WaWV3RGlkVHJhbnNpdGlvbigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBvbkVuZDogKGluZm8pID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMub25FbmQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBvcHRpb25zLm9uRW5kKGluZm8pO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUgJiYgIWluZm8uaW50ZXJydXB0ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9ob29rcy5vblZpZXdEaWRVcGRhdGUodGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpLCBudWxsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIF9jbGVhckFuaW1hdGlvbiAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuX2FuaW1hdGlvbilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uLmNhbmNlbCgpO1xuICAgICAgICAgICAgdGhpcy5fYW5pbWF0aW9uID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzUGFnZVZpc2libGUgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5sYXlvdXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLmxheW91dC5nZXRQYWdlSW5mbyhwYWdlSW5kZXgpO1xuXG4gICAgICAgIGlmICghcGFnZSlcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3ZpZXdwb3J0LmludGVyc2VjdHNSZWdpb24odGhpcy5sYXlvdXQuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgpKTtcbiAgICB9XG5cbiAgICBnZXRSZW5kZXJlZFBhZ2VzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVuZGVyZWRQYWdlcy5zbGljZSgpO1xuICAgIH1cblxuICAgIGRlc3Ryb3kgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2NsZWFyQW5pbWF0aW9uKCk7XG5cbiAgICAgICAgLy8gRklYTUUod2FiYWluKTogSSBkb24ndCBrbm93IGlmIHdlIHNob3VsZCBhY3R1YWxseSBkbyB0aGlzXG4gICAgICAgIE9iamVjdC5rZXlzKHRoaXMuX3BlbmRpbmdSZXF1ZXN0cykuZm9yRWFjaCgocmVxKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3JlcV07XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fcGVuZGluZ1JlcXVlc3RzW3JlcV07XG5cbiAgICAgICAgICAgIGhhbmRsZXIuYWJvcnQoKTtcbiAgICAgICAgfSwgdGhpcyk7XG5cbiAgICAgICAgdGhpcy5fY2FudmFzLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodGhpcy5fY2FudmFzKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIGdldFNjYWxlZFRpbGVSZWNvcmQgKHNvdXJjZSwgc2NhbGVGYWN0b3IpXG57XG4gICAgbGV0IHNjYWxlUmF0aW87XG5cbiAgICBpZiAoc2NhbGVGYWN0b3IgPT09IG51bGwpXG4gICAge1xuICAgICAgICBzY2FsZVJhdGlvID0gMTtcbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgc2NhbGVSYXRpbyA9IE1hdGgucG93KDIsIHNjYWxlRmFjdG9yIC0gc291cmNlLnpvb21MZXZlbCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgc291cmNlWm9vbUxldmVsOiBzb3VyY2Uuem9vbUxldmVsLFxuICAgICAgICBzY2FsZVJhdGlvOiBzY2FsZVJhdGlvLFxuICAgICAgICByb3c6IHNvdXJjZS5yb3csXG4gICAgICAgIGNvbDogc291cmNlLmNvbCxcbiAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgd2lkdGg6IHNvdXJjZS5kaW1lbnNpb25zLndpZHRoICogc2NhbGVSYXRpbyxcbiAgICAgICAgICAgIGhlaWdodDogc291cmNlLmRpbWVuc2lvbnMuaGVpZ2h0ICogc2NhbGVSYXRpb1xuICAgICAgICB9LFxuICAgICAgICBvZmZzZXQ6IHtcbiAgICAgICAgICAgIGxlZnQ6IHNvdXJjZS5vZmZzZXQubGVmdCAqIHNjYWxlUmF0aW8sXG4gICAgICAgICAgICB0b3A6IHNvdXJjZS5vZmZzZXQudG9wICogc2NhbGVSYXRpb1xuICAgICAgICB9LFxuICAgICAgICB1cmw6IHNvdXJjZS51cmxcbiAgICB9O1xufVxuXG5mdW5jdGlvbiBmaW5kQ2hhbmdlcyAob2xkQXJyYXksIG5ld0FycmF5KVxue1xuICAgIGlmIChvbGRBcnJheSA9PT0gbmV3QXJyYXkpXG4gICAge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYWRkZWQ6IFtdLFxuICAgICAgICAgICAgcmVtb3ZlZDogW11cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBjb25zdCByZW1vdmVkID0gb2xkQXJyYXkuZmlsdGVyKG9sZEVudHJ5ID0+IG5ld0FycmF5LmluZGV4T2Yob2xkRW50cnkpID09PSAtMSk7XG5cbiAgICBjb25zdCBhZGRlZCA9IG5ld0FycmF5LmZpbHRlcihuZXdFbnRyeSA9PiBvbGRBcnJheS5pbmRleE9mKG5ld0VudHJ5KSA9PT0gLTEpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgYWRkZWQ6IGFkZGVkLFxuICAgICAgICByZW1vdmVkOiByZW1vdmVkXG4gICAgfTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldFBhZ2VEaW1lbnNpb25zIChwYWdlSW5kZXgsIG1hbmlmZXN0KVxue1xuICAgIGNvbnN0IGRpbXMgPSBtYW5pZmVzdC5nZXRNYXhQYWdlRGltZW5zaW9ucyhwYWdlSW5kZXgpO1xuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgd2lkdGg6IE1hdGguZmxvb3IoZGltcy53aWR0aCksXG4gICAgICAgIGhlaWdodDogTWF0aC5mbG9vcihkaW1zLmhlaWdodClcbiAgICB9O1xufVxuIiwiaW1wb3J0IGdldFBhZ2VEaW1lbnNpb25zIGZyb20gJy4vcGFnZS1kaW1lbnNpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0Qm9va0xheW91dEdyb3VwcyAodmlld2VyQ29uZmlnKVxue1xuICAgIGNvbnN0IGdyb3VwaW5ncyA9IGdldEdyb3VwaW5ncyh2aWV3ZXJDb25maWcpO1xuXG4gICAgcmV0dXJuIGdyb3VwaW5ncy5tYXAoZ3JvdXBpbmcgPT4gZ2V0R3JvdXBMYXlvdXRzRnJvbVBhZ2VHcm91cGluZyh2aWV3ZXJDb25maWcsIGdyb3VwaW5nKSk7XG59XG5cbmZ1bmN0aW9uIGdldEdyb3VwaW5ncyh2aWV3ZXJDb25maWcpXG57XG4gICAgY29uc3QgbWFuaWZlc3QgPSB2aWV3ZXJDb25maWcubWFuaWZlc3Q7XG5cbiAgICBjb25zdCBwYWdlc0J5R3JvdXAgPSBbXTtcbiAgICBsZXQgbGVmdFBhZ2UgPSBudWxsO1xuICAgIGxldCBub25QYWdlZFBhZ2VzID0gW107IC8vIFBhZ2VzIHRvIGRpc3BsYXkgYmVsb3cgdGhlIGN1cnJlbnQgZ3JvdXBcblxuICAgIGNvbnN0IF9hZGROb25QYWdlZFBhZ2VzID0gKCkgPT5cbiAgICB7XG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBubGVuID0gbm9uUGFnZWRQYWdlcy5sZW5ndGg7IGkgPCBubGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VzQnlHcm91cC5wdXNoKFsgbm9uUGFnZWRQYWdlc1tpXSBdKTtcbiAgICAgICAgfVxuICAgICAgICBub25QYWdlZFBhZ2VzID0gW107XG4gICAgfTtcblxuICAgIG1hbmlmZXN0LnBhZ2VzLmZvckVhY2goIChwYWdlLCBpbmRleCkgPT5cbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2VSZWNvcmQgPSB7XG4gICAgICAgICAgICBpbmRleDogaW5kZXgsXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBnZXRQYWdlRGltZW5zaW9ucyhpbmRleCwgbWFuaWZlc3QpLFxuICAgICAgICAgICAgcGFnZWQ6ICghbWFuaWZlc3QucGFnZWQgfHwgcGFnZS5wYWdlZClcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBPbmx5IGRpc3BsYXkgbm9uLXBhZ2VkIHBhZ2VzIGlmIHNwZWNpZmllZCBpbiB0aGUgc2V0dGluZ3NcbiAgICAgICAgaWYgKCF2aWV3ZXJDb25maWcuc2hvd05vblBhZ2VkUGFnZXMgJiYgIXBhZ2VSZWNvcmQucGFnZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgaWYgKCFwYWdlUmVjb3JkLnBhZ2VkKVxuICAgICAgICB7XG4gICAgICAgICAgICBub25QYWdlZFBhZ2VzLnB1c2gocGFnZVJlY29yZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5kZXggPT09IDAgfHwgcGFnZS5mYWNpbmdQYWdlcylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVGhlIGZpcnN0IHBhZ2UgaXMgcGxhY2VkIG9uIGl0cyBvd25cbiAgICAgICAgICAgIHBhZ2VzQnlHcm91cC5wdXNoKFtwYWdlUmVjb3JkXSk7XG4gICAgICAgICAgICBfYWRkTm9uUGFnZWRQYWdlcygpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGxlZnRQYWdlID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZWZ0UGFnZSA9IHBhZ2VSZWNvcmQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBwYWdlc0J5R3JvdXAucHVzaChbbGVmdFBhZ2UsIHBhZ2VSZWNvcmRdKTtcbiAgICAgICAgICAgIGxlZnRQYWdlID0gbnVsbDtcbiAgICAgICAgICAgIF9hZGROb25QYWdlZFBhZ2VzKCk7XG4gICAgICAgIH1cbiAgICB9KTtcblxuICAgIC8vIEZsdXNoIGEgZmluYWwgbGVmdCBwYWdlXG4gICAgaWYgKGxlZnRQYWdlICE9PSBudWxsKVxuICAgIHtcbiAgICAgICAgcGFnZXNCeUdyb3VwLnB1c2goW2xlZnRQYWdlXSk7XG4gICAgICAgIF9hZGROb25QYWdlZFBhZ2VzKCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHBhZ2VzQnlHcm91cDtcbn1cblxuZnVuY3Rpb24gZ2V0R3JvdXBMYXlvdXRzRnJvbVBhZ2VHcm91cGluZyh2aWV3ZXJDb25maWcsIGdyb3VwaW5nKVxue1xuICAgIGNvbnN0IHZlcnRpY2FsbHlPcmllbnRlZCA9IHZpZXdlckNvbmZpZy52ZXJ0aWNhbGx5T3JpZW50ZWQ7XG5cbiAgICBpZiAoZ3JvdXBpbmcubGVuZ3RoID09PSAyKVxuICAgICAgICByZXR1cm4gZ2V0RmFjaW5nUGFnZUdyb3VwKGdyb3VwaW5nWzBdLCBncm91cGluZ1sxXSwgdmVydGljYWxseU9yaWVudGVkKTtcblxuICAgIGNvbnN0IHBhZ2UgPSBncm91cGluZ1swXTtcbiAgICBjb25zdCBwYWdlRGltcyA9IHBhZ2UuZGltZW5zaW9ucztcblxuICAgIC8vIFRoZSBmaXJzdCBwYWdlIGlzIHBsYWNlZCBvbiBpdHMgb3duIHRvIHRoZSByaWdodCBpbiB2ZXJ0aWNhbCBvcmllbnRhdGlvbi5cbiAgICAvLyBOQiB0aGF0IHRoaXMgbmVlZHMgdG8gYmUgdGhlIHBhZ2Ugd2l0aCBpbmRleCAwOyBpZiB0aGUgZmlyc3QgcGFnZSBpcyBleGNsdWRlZFxuICAgIC8vIGZyb20gdGhlIGxheW91dCB0aGVuIHRoaXMgc3BlY2lhbCBjYXNlIHNob3VsZG4ndCBhcHBseS5cbiAgICAvLyBJZiB0aGUgcGFnZSBpcyB0YWdnZWQgYXMgJ25vbi1wYWdlZCcsIGNlbnRlciBpdCBob3Jpem9udGFsbHlcbiAgICBsZXQgbGVmdE9mZnNldDtcbiAgICBpZiAocGFnZS5wYWdlZClcbiAgICAgICAgbGVmdE9mZnNldCA9IChwYWdlLmluZGV4ID09PSAwICYmIHZlcnRpY2FsbHlPcmllbnRlZCkgPyBwYWdlRGltcy53aWR0aCA6IDA7XG4gICAgZWxzZVxuICAgICAgICBsZWZ0T2Zmc2V0ID0gKHZlcnRpY2FsbHlPcmllbnRlZCkgPyBwYWdlRGltcy53aWR0aCAvIDIgOiAwO1xuXG4gICAgY29uc3Qgc2hvdWxkQmVIb3Jpem9udGFsbHlBZGp1c3RlZCA9XG4gICAgICAgIHZlcnRpY2FsbHlPcmllbnRlZCAmJiAhdmlld2VyQ29uZmlnLm1hbmlmZXN0LnBhZ2VzW3BhZ2UuaW5kZXhdLmZhY2luZ1BhZ2VzO1xuXG4gICAgLy8gV2UgbmVlZCB0byBsZWZ0LWFsaWduIHRoZSBwYWdlIGluIHZlcnRpY2FsIG9yaWVudGF0aW9uLCBzbyB3ZSBkb3VibGVcbiAgICAvLyB0aGUgZ3JvdXAgd2lkdGhcbiAgICByZXR1cm4ge1xuICAgICAgICBkaW1lbnNpb25zOiB7XG4gICAgICAgICAgICBoZWlnaHQ6IHBhZ2VEaW1zLmhlaWdodCxcbiAgICAgICAgICAgIHdpZHRoOiBzaG91bGRCZUhvcml6b250YWxseUFkanVzdGVkID8gcGFnZURpbXMud2lkdGggKiAyIDogcGFnZURpbXMud2lkdGhcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZXM6IFt7XG4gICAgICAgICAgICBpbmRleDogcGFnZS5pbmRleCxcbiAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgIGxlZnQ6IGxlZnRPZmZzZXRcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlRGltc1xuICAgICAgICB9XVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGdldEZhY2luZ1BhZ2VHcm91cChsZWZ0UGFnZSwgcmlnaHRQYWdlLCB2ZXJ0aWNhbGx5T3JpZW50ZWQpXG57XG4gICAgY29uc3QgbGVmdERpbXMgPSBsZWZ0UGFnZS5kaW1lbnNpb25zO1xuICAgIGNvbnN0IHJpZ2h0RGltcyA9IHJpZ2h0UGFnZS5kaW1lbnNpb25zO1xuXG4gICAgY29uc3QgaGVpZ2h0ID0gTWF0aC5tYXgobGVmdERpbXMuaGVpZ2h0LCByaWdodERpbXMuaGVpZ2h0KTtcblxuICAgIGxldCB3aWR0aCwgZmlyc3RMZWZ0T2Zmc2V0LCBzZWNvbmRMZWZ0T2Zmc2V0O1xuXG4gICAgaWYgKHZlcnRpY2FsbHlPcmllbnRlZClcbiAgICB7XG4gICAgICAgIGNvbnN0IG1pZFdpZHRoID0gTWF0aC5tYXgobGVmdERpbXMud2lkdGgsIHJpZ2h0RGltcy53aWR0aCk7XG5cbiAgICAgICAgd2lkdGggPSBtaWRXaWR0aCAqIDI7XG5cbiAgICAgICAgZmlyc3RMZWZ0T2Zmc2V0ID0gbWlkV2lkdGggLSBsZWZ0RGltcy53aWR0aDtcbiAgICAgICAgc2Vjb25kTGVmdE9mZnNldCA9IG1pZFdpZHRoO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICB3aWR0aCA9IGxlZnREaW1zLndpZHRoICsgcmlnaHREaW1zLndpZHRoO1xuICAgICAgICBmaXJzdExlZnRPZmZzZXQgPSAwO1xuICAgICAgICBzZWNvbmRMZWZ0T2Zmc2V0ID0gbGVmdERpbXMud2lkdGg7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgZGltZW5zaW9uczoge1xuICAgICAgICAgICAgaGVpZ2h0OiBoZWlnaHQsXG4gICAgICAgICAgICB3aWR0aDogd2lkdGhcbiAgICAgICAgfSxcbiAgICAgICAgcGFnZXM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpbmRleDogbGVmdFBhZ2UuaW5kZXgsXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogbGVmdERpbXMsXG4gICAgICAgICAgICAgICAgZ3JvdXBPZmZzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAwLFxuICAgICAgICAgICAgICAgICAgICBsZWZ0OiBmaXJzdExlZnRPZmZzZXRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGluZGV4OiByaWdodFBhZ2UuaW5kZXgsXG4gICAgICAgICAgICAgICAgZGltZW5zaW9uczogcmlnaHREaW1zLFxuICAgICAgICAgICAgICAgIGdyb3VwT2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgbGVmdDogc2Vjb25kTGVmdE9mZnNldFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgIH07XG59XG4iLCJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGdldEdyaWRMYXlvdXRHcm91cHMgKHZpZXdlckNvbmZpZylcbntcbiAgICBjb25zdCB2aWV3cG9ydFdpZHRoID0gdmlld2VyQ29uZmlnLnZpZXdwb3J0LndpZHRoO1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gdmlld2VyQ29uZmlnLm1hbmlmZXN0O1xuICAgIGNvbnN0IHBhZ2VzUGVyUm93ID0gdmlld2VyQ29uZmlnLnBhZ2VzUGVyUm93O1xuICAgIGNvbnN0IGZpeGVkSGVpZ2h0R3JpZCA9IHZpZXdlckNvbmZpZy5maXhlZEhlaWdodEdyaWQ7XG4gICAgY29uc3QgZml4ZWRQYWRkaW5nID0gdmlld2VyQ29uZmlnLmZpeGVkUGFkZGluZztcbiAgICBjb25zdCBzaG93Tm9uUGFnZWRQYWdlcyA9IHZpZXdlckNvbmZpZy5zaG93Tm9uUGFnZWRQYWdlcztcblxuICAgIGNvbnN0IGhvcml6b250YWxQYWRkaW5nID0gZml4ZWRQYWRkaW5nICogKHBhZ2VzUGVyUm93ICsgMSk7XG4gICAgY29uc3QgcGFnZVdpZHRoID0gKHZpZXdwb3J0V2lkdGggLSBob3Jpem9udGFsUGFkZGluZykgLyBwYWdlc1BlclJvdztcbiAgICBjb25zdCBncmlkUGFnZVdpZHRoID0gcGFnZVdpZHRoO1xuXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSByb3cgaGVpZ2h0IGRlcGVuZGluZyBvbiB3aGV0aGVyIHdlIHdhbnQgdG8gZml4IHRoZSB3aWR0aCBvciB0aGUgaGVpZ2h0XG4gICAgY29uc3Qgcm93SGVpZ2h0ID0gKGZpeGVkSGVpZ2h0R3JpZCkgPyBmaXhlZFBhZGRpbmcgKyBtYW5pZmVzdC5taW5SYXRpbyAqIHBhZ2VXaWR0aCA6IGZpeGVkUGFkZGluZyArIG1hbmlmZXN0Lm1heFJhdGlvICogcGFnZVdpZHRoO1xuXG4gICAgY29uc3QgZ3JvdXBzID0gW107XG4gICAgbGV0IGN1cnJlbnRQYWdlcyA9IFtdO1xuXG4gICAgY29uc3QgZ2V0R3JpZFBhZ2VEaW1lbnNpb25zID0gcGFnZURhdGEgPT5cbiAgICB7XG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgd2lkdGgsIGhlaWdodCBhbmQgaG9yaXpvbnRhbCBwbGFjZW1lbnQgb2YgdGhpcyBwYWdlXG4gICAgICAgIC8vIEdldCBkaW1lbnNpb25zIGF0IG1heCB6b29tIGxldmVsLCBhbHRob3VnaCBhbnkgbGV2ZWwgc2hvdWxkIGJlIGZpbmVcbiAgICAgICAgY29uc3QgcGFnZURpbWVuRGF0YSA9IHBhZ2VEYXRhLmRbcGFnZURhdGEuZC5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgaGVpZ2h0VG9XaWR0aFJhdGlvID0gcGFnZURpbWVuRGF0YS5oIC8gcGFnZURpbWVuRGF0YS53O1xuXG4gICAgICAgIGxldCBwYWdlV2lkdGgsIHBhZ2VIZWlnaHQ7XG5cbiAgICAgICAgaWYgKGZpeGVkSGVpZ2h0R3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZVdpZHRoID0gKHJvd0hlaWdodCAtIGZpeGVkUGFkZGluZykgLyBoZWlnaHRUb1dpZHRoUmF0aW87XG4gICAgICAgICAgICBwYWdlSGVpZ2h0ID0gcm93SGVpZ2h0IC0gZml4ZWRQYWRkaW5nO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgcGFnZVdpZHRoID0gZ3JpZFBhZ2VXaWR0aDtcbiAgICAgICAgICAgIHBhZ2VIZWlnaHQgPSBwYWdlV2lkdGggKiBoZWlnaHRUb1dpZHRoUmF0aW87XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgd2lkdGg6IE1hdGgucm91bmQocGFnZVdpZHRoKSxcbiAgICAgICAgICAgIGhlaWdodDogTWF0aC5yb3VuZChwYWdlSGVpZ2h0KVxuICAgICAgICB9O1xuICAgIH07XG5cbiAgICBjb25zdCByb3dEaW1lbnNpb25zID0ge1xuICAgICAgICBoZWlnaHQ6IHJvd0hlaWdodCxcbiAgICAgICAgd2lkdGg6IHZpZXdwb3J0V2lkdGhcbiAgICB9O1xuXG4gICAgbWFuaWZlc3QucGFnZXMuZm9yRWFjaCggKHBhZ2UsIHBhZ2VJbmRleCkgPT5cbiAgICB7XG4gICAgICAgIGlmICghc2hvd05vblBhZ2VkUGFnZXMgJiYgbWFuaWZlc3QucGFnZWQgJiYgIXBhZ2UucGFnZWQpXG4gICAgICAgICAgICByZXR1cm47XG5cbiAgICAgICAgLy8gQ2FsY3VsYXRlIHRoZSB3aWR0aCwgaGVpZ2h0IGFuZCBob3Jpem9udGFsIHBsYWNlbWVudCBvZiB0aGlzIHBhZ2VcbiAgICAgICAgY29uc3QgcGFnZURpbWVucyA9IGdldEdyaWRQYWdlRGltZW5zaW9ucyhwYWdlKTtcbiAgICAgICAgbGV0IGxlZnRPZmZzZXQgPSBNYXRoLmZsb29yKGN1cnJlbnRQYWdlcy5sZW5ndGggKiAoZml4ZWRQYWRkaW5nICsgZ3JpZFBhZ2VXaWR0aCkgKyBmaXhlZFBhZGRpbmcpO1xuXG4gICAgICAgIC8vIENlbnRlciB0aGUgcGFnZSBpZiB0aGUgaGVpZ2h0IGlzIGZpeGVkIChvdGhlcndpc2UsIHRoZXJlIGlzIG5vIGhvcml6b250YWwgcGFkZGluZylcbiAgICAgICAgaWYgKGZpeGVkSGVpZ2h0R3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgbGVmdE9mZnNldCArPSAoZ3JpZFBhZ2VXaWR0aCAtIHBhZ2VEaW1lbnMud2lkdGgpIC8gMjtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRPRE86IFByZWNvbXB1dGUgcGFnZSBkaW1lbnNpb25zIGV2ZXJ5d2hlcmVcbiAgICAgICAgY3VycmVudFBhZ2VzLnB1c2goe1xuICAgICAgICAgICAgaW5kZXg6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgIGRpbWVuc2lvbnM6IHBhZ2VEaW1lbnMsXG4gICAgICAgICAgICBncm91cE9mZnNldDoge1xuICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICBsZWZ0OiBsZWZ0T2Zmc2V0XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChjdXJyZW50UGFnZXMubGVuZ3RoID09PSBwYWdlc1BlclJvdylcbiAgICAgICAge1xuICAgICAgICAgICAgZ3JvdXBzLnB1c2goe1xuICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHJvd0RpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgcGFnZXM6IGN1cnJlbnRQYWdlc1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGN1cnJlbnRQYWdlcyA9IFtdO1xuICAgICAgICB9XG4gICAgfSk7XG5cbiAgICBpZiAoY3VycmVudFBhZ2VzLmxlbmd0aCA+IDApXG4gICAge1xuICAgICAgICBncm91cHMucHVzaCh7XG4gICAgICAgICAgICBkaW1lbnNpb25zOiByb3dEaW1lbnNpb25zLFxuICAgICAgICAgICAgcGFnZXM6IGN1cnJlbnRQYWdlc1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICByZXR1cm4gZ3JvdXBzO1xufVxuIiwiaW1wb3J0IGdldEJvb2tMYXlvdXRHcm91cHMgZnJvbSAnLi9ib29rLWxheW91dCc7XG5pbXBvcnQgZ2V0U2luZ2xlc0xheW91dEdyb3VwcyBmcm9tICcuL3NpbmdsZXMtbGF5b3V0JztcbmltcG9ydCBnZXRHcmlkTGF5b3V0R3JvdXBzIGZyb20gJy4vZ3JpZC1sYXlvdXQnO1xuXG4vKiogR2V0IHRoZSByZWxhdGl2ZSBwb3NpdGlvbmluZyBvZiBwYWdlcyBmb3IgdGhlIGN1cnJlbnQgdmlldyAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0UGFnZUxheW91dHMgKHNldHRpbmdzKVxue1xuICAgIGlmIChzZXR0aW5ncy5pbkdyaWQpXG4gICAge1xuICAgICAgICByZXR1cm4gZ2V0R3JpZExheW91dEdyb3VwcyhwbHVjayhzZXR0aW5ncywgW1xuICAgICAgICAgICAgJ21hbmlmZXN0JyxcbiAgICAgICAgICAgICd2aWV3cG9ydCcsXG4gICAgICAgICAgICAncGFnZXNQZXJSb3cnLFxuICAgICAgICAgICAgJ2ZpeGVkSGVpZ2h0R3JpZCcsXG4gICAgICAgICAgICAnZml4ZWRQYWRkaW5nJyxcbiAgICAgICAgICAgICdzaG93Tm9uUGFnZWRQYWdlcydcbiAgICAgICAgXSkpO1xuICAgIH1cbiAgICBlbHNlXG4gICAge1xuICAgICAgICBjb25zdCBjb25maWcgPSBwbHVjayhzZXR0aW5ncywgWydtYW5pZmVzdCcsICd2ZXJ0aWNhbGx5T3JpZW50ZWQnLCAnc2hvd05vblBhZ2VkUGFnZXMnXSk7XG5cbiAgICAgICAgaWYgKHNldHRpbmdzLmluQm9va0xheW91dClcbiAgICAgICAgICAgIHJldHVybiBnZXRCb29rTGF5b3V0R3JvdXBzKGNvbmZpZyk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBnZXRTaW5nbGVzTGF5b3V0R3JvdXBzKGNvbmZpZyk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBwbHVjayAob2JqLCBrZXlzKVxue1xuICAgIGNvbnN0IG91dCA9IHt9O1xuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbiAoa2V5KVxuICAgIHtcbiAgICAgICAgb3V0W2tleV0gPSBvYmpba2V5XTtcbiAgICB9KTtcbiAgICByZXR1cm4gb3V0O1xufVxuIiwiaW1wb3J0IGdldFBhZ2VEaW1lbnNpb25zIGZyb20gJy4vcGFnZS1kaW1lbnNpb25zJztcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0U2luZ2xlc0xheW91dEdyb3VwcyAodmlld2VyQ29uZmlnKVxue1xuICAgIGNvbnN0IG1hbmlmZXN0ID0gdmlld2VyQ29uZmlnLm1hbmlmZXN0O1xuXG4gICAgLy8gUmVuZGVyIGVhY2ggcGFnZSBhbG9uZSBpbiBhIGdyb3VwXG4gICAgY29uc3QgcGFnZXMgPSBbXTtcbiAgICBtYW5pZmVzdC5wYWdlcy5mb3JFYWNoKCAocGFnZSwgaW5kZXgpID0+XG4gICAge1xuICAgICAgICBpZiAoIXZpZXdlckNvbmZpZy5zaG93Tm9uUGFnZWRQYWdlcyAmJiBtYW5pZmVzdC5wYWdlZCAmJiAhcGFnZS5wYWdlZClcbiAgICAgICAgICAgIHJldHVybjtcblxuICAgICAgICBjb25zdCBwYWdlRGltcyA9IGdldFBhZ2VEaW1lbnNpb25zKGluZGV4LCBtYW5pZmVzdCk7XG5cbiAgICAgICAgcGFnZXMucHVzaCh7XG4gICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlRGltcyxcbiAgICAgICAgICAgIHBhZ2VzOiBbe1xuICAgICAgICAgICAgICAgIGluZGV4OiBpbmRleCxcbiAgICAgICAgICAgICAgICBncm91cE9mZnNldDogeyB0b3A6IDAsIGxlZnQ6IDAgfSxcbiAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlRGltc1xuICAgICAgICAgICAgfV1cbiAgICAgICAgfSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gcGFnZXM7XG59XG4iLCJcbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIGNyZWF0ZVNldHRpbmdzVmlldyhzb3VyY2VzKVxue1xuICAgIGNvbnN0IG9iaiA9IHt9O1xuXG4gICAgc291cmNlcy5mb3JFYWNoKCAoc291cmNlKSA9PlxuICAgIHtcbiAgICAgICAgcmVnaXN0ZXJNaXhpbihvYmosIHNvdXJjZSk7XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb2JqO1xufVxuXG5mdW5jdGlvbiByZWdpc3Rlck1peGluKG9iaiwgbWl4aW4pXG57XG4gICAgT2JqZWN0LmtleXMobWl4aW4pLmZvckVhY2goIChrZXkpID0+XG4gICAge1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHtcbiAgICAgICAgICAgIGdldDogKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWl4aW5ba2V5XTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZXQ6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gVE9ETzogTWFrZSBldmVyeXRoaW5nIHN0cmljdCBtb2RlIHNvIHRoaXMgaXNuJ3QgbmVlZGVkXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IHNldCBzZXR0aW5ncy4nICsga2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSk7XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBWYWxpZGF0aW9uUnVubmVyXG57XG4gICAgY29uc3RydWN0b3IgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICB0aGlzLndoaXRlbGlzdGVkS2V5cyA9IG9wdGlvbnMud2hpdGVsaXN0ZWRLZXlzIHx8IFtdO1xuICAgICAgICB0aGlzLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gb3B0aW9ucy5hZGRpdGlvbmFsUHJvcGVydGllcyB8fCBbXTtcbiAgICAgICAgdGhpcy52YWxpZGF0aW9ucyA9IG9wdGlvbnMudmFsaWRhdGlvbnM7XG4gICAgfVxuXG4gICAgaXNWYWxpZCAoa2V5LCB2YWx1ZSwgc2V0dGluZ3MpXG4gICAge1xuICAgICAgICAvLyBHZXQgdGhlIHZhbGlkYXRpb24gaW5kZXhcbiAgICAgICAgbGV0IHZhbGlkYXRpb25JbmRleCA9IG51bGw7XG5cbiAgICAgICAgdGhpcy52YWxpZGF0aW9ucy5zb21lKCh2YWxpZGF0aW9uLCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHZhbGlkYXRpb24ua2V5ICE9PSBrZXkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YWxpZGF0aW9uSW5kZXggPSBpbmRleDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9KTtcblxuICAgICAgICBpZiAodmFsaWRhdGlvbkluZGV4ID09PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFJ1biB0aGUgdmFsaWRhdGlvblxuICAgICAgICBjb25zdCBkdW1teUNoYW5nZXMgPSB7fTtcbiAgICAgICAgZHVtbXlDaGFuZ2VzW2tleV0gPSB2YWx1ZTtcbiAgICAgICAgY29uc3QgcHJveGllciA9IGNyZWF0ZVNldHRpbmdzUHJveGllcihzZXR0aW5ncywgZHVtbXlDaGFuZ2VzLCB0aGlzKTtcblxuICAgICAgICByZXR1cm4gIXRoaXMuX3J1blZhbGlkYXRpb24odmFsaWRhdGlvbkluZGV4LCB2YWx1ZSwgcHJveGllcik7XG4gICAgfVxuXG4gICAgdmFsaWRhdGUgKHNldHRpbmdzKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVPcHRpb25zKHt9LCBzZXR0aW5ncyk7XG4gICAgfVxuXG4gICAgZ2V0VmFsaWRhdGVkT3B0aW9ucyAoc2V0dGluZ3MsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCBjbG9uZWQgPSBPYmplY3QuYXNzaWduKHt9LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5fdmFsaWRhdGVPcHRpb25zKHNldHRpbmdzLCBjbG9uZWQpO1xuICAgICAgICByZXR1cm4gY2xvbmVkO1xuICAgIH1cblxuICAgIF92YWxpZGF0ZU9wdGlvbnMgKHNldHRpbmdzLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZ3NQcm94aWVyID0gY3JlYXRlU2V0dGluZ3NQcm94aWVyKHNldHRpbmdzLCBvcHRpb25zLCB0aGlzKTtcbiAgICAgICAgdGhpcy5fYXBwbHlWYWxpZGF0aW9ucyhvcHRpb25zLCBzZXR0aW5nc1Byb3hpZXIpO1xuICAgIH1cblxuICAgIF9hcHBseVZhbGlkYXRpb25zIChvcHRpb25zLCBwcm94aWVyKVxuICAgIHtcbiAgICAgICAgdGhpcy52YWxpZGF0aW9ucy5mb3JFYWNoKCh2YWxpZGF0aW9uLCBpbmRleCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmhhc093blByb3BlcnR5KHZhbGlkYXRpb24ua2V5KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGNvbnN0IGlucHV0ID0gb3B0aW9uc1t2YWxpZGF0aW9uLmtleV07XG4gICAgICAgICAgICBjb25zdCBjb3JyZWN0ZWQgPSB0aGlzLl9ydW5WYWxpZGF0aW9uKGluZGV4LCBpbnB1dCwgcHJveGllcik7XG5cbiAgICAgICAgICAgIGlmIChjb3JyZWN0ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFjb3JyZWN0ZWQud2FybmluZ1N1cHByZXNzZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBlbWl0V2FybmluZyh2YWxpZGF0aW9uLmtleSwgaW5wdXQsIGNvcnJlY3RlZC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgb3B0aW9uc1t2YWxpZGF0aW9uLmtleV0gPSBjb3JyZWN0ZWQudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHRoaXMpO1xuICAgIH1cblxuICAgIF9ydW5WYWxpZGF0aW9uIChpbmRleCwgaW5wdXQsIHByb3hpZXIpXG4gICAge1xuICAgICAgICBjb25zdCB2YWxpZGF0aW9uID0gdGhpcy52YWxpZGF0aW9uc1tpbmRleF07XG5cbiAgICAgICAgcHJveGllci5pbmRleCA9IGluZGV4O1xuXG4gICAgICAgIGxldCB3YXJuaW5nU3VwcHJlc3NlZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBjb25maWcgPSB7XG4gICAgICAgICAgICBzdXBwcmVzc1dhcm5pbmc6ICgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgd2FybmluZ1N1cHByZXNzZWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuXG4gICAgICAgIGNvbnN0IG91dHB1dFZhbHVlID0gdmFsaWRhdGlvbi52YWxpZGF0ZShpbnB1dCwgcHJveGllci5wcm94eSwgY29uZmlnKTtcblxuICAgICAgICBpZiAob3V0cHV0VmFsdWUgPT09IHVuZGVmaW5lZCB8fCBvdXRwdXRWYWx1ZSA9PT0gaW5wdXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHZhbHVlOiBvdXRwdXRWYWx1ZSxcbiAgICAgICAgICAgIHdhcm5pbmdTdXBwcmVzc2VkOiB3YXJuaW5nU3VwcHJlc3NlZFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBUaGUgc2V0dGluZ3MgcHJveHkgd3JhcHMgdGhlIHNldHRpbmdzIG9iamVjdCBhbmQgZW5zdXJlcyB0aGF0XG4gKiBvbmx5IHZhbHVlcyB3aGljaCBoYXZlIHByZXZpb3VzbHkgYmVlbiB2YWxpZGF0ZWQgYXJlIGFjY2Vzc2VkLFxuICogdGhyb3dpbmcgYSBUeXBlRXJyb3Igb3RoZXJ3aXNlLlxuICpcbiAqIEZJWE1FKHdhYmFpbik6IElzIGl0IHdvcnRoIGtlZXBpbmcgdGhpcz8gV2hlbiBJIHdyb3RlIGl0IEkgaGFkXG4gKiBtdWx0aXBsZSB2YWxpZGF0aW9uIHN0YWdlcyBhbmQgaXQgd2FzIGEgbG90IGhhcmRlciB0byBrZWVwIHRyYWNrXG4gKiBvZiBldmVyeXRoaW5nLCBzbyB0aGlzIHdhcyBtb3JlIHZhbHVhYmxlLlxuICovXG5mdW5jdGlvbiBjcmVhdGVTZXR0aW5nc1Byb3hpZXIgKHNldHRpbmdzLCBvcHRpb25zLCBydW5uZXIpXG57XG4gICAgY29uc3QgcHJveGllciA9IHtcbiAgICAgICAgcHJveHk6IHt9LFxuICAgICAgICBpbmRleDogbnVsbFxuICAgIH07XG5cbiAgICBjb25zdCBsb29rdXAgPSBsb29rdXBWYWx1ZS5iaW5kKG51bGwsIHNldHRpbmdzLCBvcHRpb25zKTtcblxuICAgIGNvbnN0IHByb3BlcnRpZXMgPSB7fTtcblxuICAgIHJ1bm5lci53aGl0ZWxpc3RlZEtleXMuZm9yRWFjaCgod2hpdGVsaXN0ZWQpID0+XG4gICAge1xuICAgICAgICBwcm9wZXJ0aWVzW3doaXRlbGlzdGVkXSA9IHtcbiAgICAgICAgICAgIGdldDogbG9va3VwLmJpbmQobnVsbCwgd2hpdGVsaXN0ZWQpXG4gICAgICAgIH07XG4gICAgfSk7XG5cbiAgICBydW5uZXIuYWRkaXRpb25hbFByb3BlcnRpZXMuZm9yRWFjaCgoYWRkaXRpb25hbCkgPT5cbiAgICB7XG4gICAgICAgIHByb3BlcnRpZXNbYWRkaXRpb25hbC5rZXldID0ge1xuICAgICAgICAgICAgZ2V0OiBhZGRpdGlvbmFsLmdldFxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgcnVubmVyLnZhbGlkYXRpb25zLmZvckVhY2goICh2YWxpZGF0aW9uLCB2YWxpZGF0aW9uSW5kZXgpID0+XG4gICAge1xuICAgICAgICBwcm9wZXJ0aWVzW3ZhbGlkYXRpb24ua2V5XSA9IHtcbiAgICAgICAgICAgIGdldDogKCkgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvbkluZGV4IDwgcHJveGllci5pbmRleClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBsb29rdXAodmFsaWRhdGlvbi5rZXkpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRLZXkgPSBydW5uZXIudmFsaWRhdGlvbnNbcHJveGllci5pbmRleF0ua2V5O1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBhY2Nlc3Mgc2V0dGluZyAnICsgdmFsaWRhdGlvbi5rZXkgKyAnIHdoaWxlIHZhbGlkYXRpbmcgJyArIGN1cnJlbnRLZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH0pO1xuXG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMocHJveGllci5wcm94eSwgcHJvcGVydGllcyk7XG5cbiAgICByZXR1cm4gcHJveGllcjtcbn1cblxuZnVuY3Rpb24gZW1pdFdhcm5pbmcgKGtleSwgb3JpZ2luYWwsIGNvcnJlY3RlZClcbntcbiAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgdmFsdWUgZm9yICcgKyBrZXkgKyAnOiAnICsgb3JpZ2luYWwgKyAnLiBVc2luZyAnICsgY29ycmVjdGVkICsgJyBpbnN0ZWFkLicpO1xufVxuXG5mdW5jdGlvbiBsb29rdXBWYWx1ZSAoYmFzZSwgZXh0ZW5zaW9uLCBrZXkpXG57XG4gICAgaWYgKGtleSBpbiBleHRlbnNpb24pXG4gICAge1xuICAgICAgICByZXR1cm4gZXh0ZW5zaW9uW2tleV07XG4gICAgfVxuXG4gICAgcmV0dXJuIGJhc2Vba2V5XTtcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIFZpZXdwb3J0XG57XG4gICAgY29uc3RydWN0b3IgKG91dGVyLCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge307XG5cbiAgICAgICAgdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2UgPSBvcHRpb25zLmludGVyc2VjdGlvblRvbGVyYW5jZSB8fCAwO1xuICAgICAgICB0aGlzLm91dGVyID0gb3V0ZXI7XG4gICAgICAgIHRoaXMuX3RvcCA9IHRoaXMuX2xlZnQgPSB0aGlzLl93aWR0aCA9IHRoaXMuX2hlaWdodCA9IHRoaXMuX2lubmVyRGltZW5zaW9ucyA9IG51bGw7XG5cbiAgICAgICAgdGhpcy5pbnZhbGlkYXRlKCk7XG4gICAgfVxuXG4gICAgaW50ZXJzZWN0c1JlZ2lvbiAocmVnaW9uKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFzSG9yaXpvbnRhbE92ZXJsYXAocmVnaW9uKSAmJiB0aGlzLmhhc1ZlcnRpY2FsT3ZlcmxhcChyZWdpb24pO1xuICAgIH1cblxuICAgIGhhc1ZlcnRpY2FsT3ZlcmxhcCAocmVnaW9uKVxuICAgIHtcbiAgICAgICAgY29uc3QgdG9wID0gdGhpcy50b3AgLSB0aGlzLmludGVyc2VjdGlvblRvbGVyYW5jZTtcbiAgICAgICAgY29uc3QgYm90dG9tID0gdGhpcy5ib3R0b20gKyB0aGlzLmludGVyc2VjdGlvblRvbGVyYW5jZTtcblxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgZmFsbHNCZXR3ZWVuKHJlZ2lvbi50b3AsIHRvcCwgYm90dG9tKSB8fFxuICAgICAgICAgICAgZmFsbHNCZXR3ZWVuKHJlZ2lvbi5ib3R0b20sIHRvcCwgYm90dG9tKSB8fFxuICAgICAgICAgICAgKHJlZ2lvbi50b3AgPD0gdG9wICYmIHJlZ2lvbi5ib3R0b20gPj0gYm90dG9tKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGhhc0hvcml6b250YWxPdmVybGFwIChyZWdpb24pXG4gICAge1xuICAgICAgICBjb25zdCBsZWZ0ID0gdGhpcy5sZWZ0IC0gdGhpcy5pbnRlcnNlY3Rpb25Ub2xlcmFuY2U7XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gdGhpcy5yaWdodCArIHRoaXMuaW50ZXJzZWN0aW9uVG9sZXJhbmNlO1xuXG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICBmYWxsc0JldHdlZW4ocmVnaW9uLmxlZnQsIGxlZnQsIHJpZ2h0KSB8fFxuICAgICAgICAgICAgZmFsbHNCZXR3ZWVuKHJlZ2lvbi5yaWdodCwgbGVmdCwgcmlnaHQpIHx8XG4gICAgICAgICAgICAocmVnaW9uLmxlZnQgPD0gbGVmdCAmJiByZWdpb24ucmlnaHQgPj0gcmlnaHQpXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgaW52YWxpZGF0ZSAoKVxuICAgIHtcbiAgICAgICAgLy8gRklYTUU6IFNob3VsZCB0aGlzIGNoZWNrIHRoZSBpbm5lciBkaW1lbnNpb25zIGFzIHdlbGw/XG4gICAgICAgIHRoaXMuX3dpZHRoID0gdGhpcy5vdXRlci5jbGllbnRXaWR0aDtcbiAgICAgICAgdGhpcy5faGVpZ2h0ID0gdGhpcy5vdXRlci5jbGllbnRIZWlnaHQ7XG5cbiAgICAgICAgdGhpcy5fdG9wID0gdGhpcy5vdXRlci5zY3JvbGxUb3A7XG4gICAgICAgIHRoaXMuX2xlZnQgPSB0aGlzLm91dGVyLnNjcm9sbExlZnQ7XG4gICAgfVxuXG4gICAgc2V0SW5uZXJEaW1lbnNpb25zIChkaW1lbnNpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy5faW5uZXJEaW1lbnNpb25zID0gZGltZW5zaW9ucztcblxuICAgICAgICBpZiAoZGltZW5zaW9ucylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fdG9wID0gY2xhbXAodGhpcy5fdG9wLCAwLCBkaW1lbnNpb25zLmhlaWdodCAtIHRoaXMuX2hlaWdodCk7XG4gICAgICAgICAgICB0aGlzLl9sZWZ0ID0gY2xhbXAodGhpcy5fbGVmdCwgMCwgZGltZW5zaW9ucy53aWR0aCAtIHRoaXMuX3dpZHRoKTtcbiAgICAgICAgfVxuICAgIH1cbn1cblxuT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoVmlld3BvcnQucHJvdG90eXBlLCB7XG4gICAgdG9wOiBnZXRDb29yZGluYXRlRGVzY3JpcHRvcigndG9wJywgJ2hlaWdodCcpLFxuICAgIGxlZnQ6IGdldENvb3JkaW5hdGVEZXNjcmlwdG9yKCdsZWZ0JywgJ3dpZHRoJyksXG5cbiAgICB3aWR0aDogZ2V0RGltZW5zaW9uRGVzY3JpcHRvcignd2lkdGgnKSxcbiAgICBoZWlnaHQ6IGdldERpbWVuc2lvbkRlc2NyaXB0b3IoJ2hlaWdodCcpLFxuXG4gICAgYm90dG9tOiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3RvcCArIHRoaXMuX2hlaWdodDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgcmlnaHQ6IHtcbiAgICAgICAgZ2V0OiBmdW5jdGlvbiAoKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fbGVmdCArIHRoaXMuX3dpZHRoO1xuICAgICAgICB9XG4gICAgfVxufSk7XG5cbmZ1bmN0aW9uIGdldENvb3JkaW5hdGVEZXNjcmlwdG9yIChjb29yZCwgYXNzb2NpYXRlZERpbWVuc2lvbilcbntcbiAgICBjb25zdCBwcml2YXRlUHJvcCA9ICdfJyArIGNvb3JkO1xuICAgIGNvbnN0IHNvdXJjZSA9ICdzY3JvbGwnICsgY29vcmQuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyBjb29yZC5zbGljZSgxKTtcblxuICAgIHJldHVybiB7XG4gICAgICAgIGdldDogZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXNbcHJpdmF0ZVByb3BdO1xuICAgICAgICB9LFxuICAgICAgICBzZXQ6IGZ1bmN0aW9uIChuZXdWYWx1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG5vcm1hbGl6ZWQ7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLl9pbm5lckRpbWVuc2lvbnMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWF4QWxsb3dlZCA9IHRoaXMuX2lubmVyRGltZW5zaW9uc1thc3NvY2lhdGVkRGltZW5zaW9uXSAtIHRoaXNbYXNzb2NpYXRlZERpbWVuc2lvbl07XG4gICAgICAgICAgICAgICAgbm9ybWFsaXplZCA9IGNsYW1wKG5ld1ZhbHVlLCAwLCBtYXhBbGxvd2VkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBub3JtYWxpemVkID0gY2xhbXBNaW4obmV3VmFsdWUsIDApO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB0aGlzW3ByaXZhdGVQcm9wXSA9IHRoaXMub3V0ZXJbc291cmNlXSA9IG5vcm1hbGl6ZWQ7XG4gICAgICAgIH1cbiAgICB9O1xufVxuXG5mdW5jdGlvbiBnZXREaW1lbnNpb25EZXNjcmlwdG9yIChkaW1lbilcbntcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQ6IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzWydfJyArIGRpbWVuXTtcbiAgICAgICAgfVxuICAgIH07XG59XG5cbmZ1bmN0aW9uIGZhbGxzQmV0d2VlbiAocG9pbnQsIHN0YXJ0LCBlbmQpXG57XG4gICAgcmV0dXJuIHBvaW50ID49IHN0YXJ0ICYmIHBvaW50IDw9IGVuZDtcbn1cblxuZnVuY3Rpb24gY2xhbXAgKHZhbHVlLCBtaW4sIG1heClcbntcbiAgICByZXR1cm4gY2xhbXBNaW4oY2xhbXBNYXgodmFsdWUsIG1heCksIG1pbik7XG59XG5cbmZ1bmN0aW9uIGNsYW1wTWluICh2YWx1ZSwgbWluKVxue1xuICAgIHJldHVybiBNYXRoLm1heCh2YWx1ZSwgbWluKTtcbn1cblxuZnVuY3Rpb24gY2xhbXBNYXggKHZhbHVlLCBtYXgpXG57XG4gICAgcmV0dXJuIE1hdGgubWluKHZhbHVlLCBtYXgpO1xufVxuIiwiaW1wb3J0IHsgZWx0IH0gZnJvbSAnLi91dGlscy9lbHQnO1xuaW1wb3J0IGdldFNjcm9sbGJhcldpZHRoIGZyb20gJy4vdXRpbHMvZ2V0LXNjcm9sbGJhci13aWR0aCc7XG5pbXBvcnQgZ2VzdHVyZUV2ZW50cyBmcm9tICcuL2dlc3R1cmUtZXZlbnRzJztcbmltcG9ydCBkaXZhIGZyb20gJy4vZGl2YS1nbG9iYWwnO1xuaW1wb3J0IERvY3VtZW50SGFuZGxlciBmcm9tICcuL2RvY3VtZW50LWhhbmRsZXInO1xuaW1wb3J0IEdyaWRIYW5kbGVyIGZyb20gJy4vZ3JpZC1oYW5kbGVyJztcbmltcG9ydCBQYWdlT3ZlcmxheU1hbmFnZXIgZnJvbSAnLi9wYWdlLW92ZXJsYXktbWFuYWdlcic7XG5pbXBvcnQgUmVuZGVyZXIgZnJvbSAnLi9yZW5kZXJlcic7XG5pbXBvcnQgZ2V0UGFnZUxheW91dHMgZnJvbSAnLi9wYWdlLWxheW91dHMnO1xuaW1wb3J0IGNyZWF0ZVNldHRpbmdzVmlldyBmcm9tICcuL3NldHRpbmdzLXZpZXcnO1xuaW1wb3J0IFZhbGlkYXRpb25SdW5uZXIgZnJvbSAnLi92YWxpZGF0aW9uLXJ1bm5lcic7XG5pbXBvcnQgVmlld3BvcnQgZnJvbSAnLi92aWV3cG9ydCc7XG5cbmNvbnN0IGRlYnVnID0gcmVxdWlyZSgnZGVidWcnKSgnZGl2YTpWaWV3ZXJDb3JlJyk7XG5cbmZ1bmN0aW9uIGdlbmVyYXRlSWQoKSB7XG4gICAgcmV0dXJuIGdlbmVyYXRlSWQuY291bnRlcisrO1xufVxuZ2VuZXJhdGVJZC5jb3VudGVyID0gMTtcblxuXG4vLyBEZWZpbmUgdmFsaWRhdGlvbnNcbmNvbnN0IG9wdGlvbnNWYWxpZGF0aW9ucyA9IFtcbiAgICB7XG4gICAgICAgIGtleTogJ2dvRGlyZWN0bHlUbycsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUsIHNldHRpbmdzKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID49IHNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBrZXk6ICdtaW5QYWdlc1BlclJvdycsXG4gICAgICAgIHZhbGlkYXRlOiAodmFsdWUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBNYXRoLm1heCgyLCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWF4UGFnZXNQZXJSb3cnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIE1hdGgubWF4KHZhbHVlLCBzZXR0aW5ncy5taW5QYWdlc1BlclJvdyk7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAncGFnZXNQZXJSb3cnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gRGVmYXVsdCB0byB0aGUgbWF4aW11bVxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgc2V0dGluZ3MubWluUGFnZXNQZXJSb3cgfHwgdmFsdWUgPiBzZXR0aW5ncy5tYXhQYWdlc1BlclJvdylcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MubWF4UGFnZXNQZXJSb3c7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIHtcbiAgICAgICAga2V5OiAnbWF4Wm9vbUxldmVsJyxcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSwgc2V0dGluZ3MsIGNvbmZpZykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQ2hhbmdpbmcgdGhpcyB2YWx1ZSBpc24ndCByZWFsbHkgYW4gZXJyb3IsIGl0IGp1c3QgZGVwZW5kcyBvbiB0aGVcbiAgICAgICAgICAgIC8vIHNvdXJjZSBtYW5pZmVzdFxuICAgICAgICAgICAgY29uZmlnLnN1cHByZXNzV2FybmluZygpO1xuXG4gICAgICAgICAgICBpZiAodmFsdWUgPCAwIHx8IHZhbHVlID4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbSlcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3MubWFuaWZlc3QubWF4Wm9vbTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBrZXk6ICdtaW5ab29tTGV2ZWwnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncywgY29uZmlnKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBDaGFuZ2VzIGJhc2VkIG9uIHRoZSBtYW5pZmVzdCB2YWx1ZSBzaG91bGRuJ3QgdHJpZ2dlciBhXG4gICAgICAgICAgICAvLyB3YXJuaW5nXG4gICAgICAgICAgICBpZiAodmFsdWUgPiBzZXR0aW5ncy5tYW5pZmVzdC5tYXhab29tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5zdXBwcmVzc1dhcm5pbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgMCB8fCB2YWx1ZSA+IHNldHRpbmdzLm1heFpvb21MZXZlbClcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgfVxuICAgIH0sXG4gICAge1xuICAgICAgICBrZXk6ICd6b29tTGV2ZWwnLFxuICAgICAgICB2YWxpZGF0ZTogKHZhbHVlLCBzZXR0aW5ncywgY29uZmlnKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPiBzZXR0aW5ncy5tYW5pZmVzdC5tYXhab29tKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbmZpZy5zdXBwcmVzc1dhcm5pbmcoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHZhbHVlIDwgc2V0dGluZ3MubWluWm9vbUxldmVsIHx8IHZhbHVlID4gc2V0dGluZ3MubWF4Wm9vbUxldmVsKVxuICAgICAgICAgICAgICAgIHJldHVybiBzZXR0aW5ncy5taW5ab29tTGV2ZWw7XG4gICAgICAgIH1cbiAgICB9XG5dO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3ZXJDb3JlXG57XG4gICAgY29uc3RydWN0b3IgKGVsZW1lbnQsIG9wdGlvbnMsIHB1YmxpY0luc3RhbmNlKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYXJlbnRPYmplY3QgPSBlbGVtZW50O1xuICAgICAgICB0aGlzLnB1YmxpY0luc3RhbmNlID0gcHVibGljSW5zdGFuY2U7XG5cbiAgICAgICAgLy8gVGhpbmdzIHRoYXQgY2Fubm90IGJlIGNoYW5nZWQgYmVjYXVzZSBvZiB0aGUgd2F5IHRoZXkgYXJlIHVzZWQgYnkgdGhlIHNjcmlwdFxuICAgICAgICAvLyBNYW55IG9mIHRoZXNlIGFyZSBkZWNsYXJlZCB3aXRoIGFyYml0cmFyeSB2YWx1ZXMgdGhhdCBhcmUgY2hhbmdlZCBsYXRlciBvblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlID0ge1xuICAgICAgICAgICAgY3VycmVudFBhZ2VJbmRpY2VzOiBbMF0sICAgIC8vIFRoZSB2aXNpYmxlIHBhZ2VzIGluIHRoZSB2aWV3cG9ydFxuICAgICAgICAgICAgYWN0aXZlUGFnZUluZGV4OiAwLCAgICAgICAgIC8vIFRoZSBjdXJyZW50ICdhY3RpdmUnIHBhZ2UgaW4gdGhlIHZpZXdwb3J0XG4gICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiAwLCAgICAgICAgLy8gRGlzdGFuY2UgZnJvbSB0aGUgY2VudGVyIG9mIHRoZSBkaXZhIGVsZW1lbnQgdG8gdGhlIHRvcCBvZiB0aGUgY3VycmVudCBwYWdlXG4gICAgICAgICAgICBob3Jpem9udGFsUGFkZGluZzogMCwgICAgICAgLy8gRWl0aGVyIHRoZSBmaXhlZCBwYWRkaW5nIG9yIGFkYXB0aXZlIHBhZGRpbmdcbiAgICAgICAgICAgIElEOiBudWxsLCAgICAgICAgICAgICAgICAgICAvLyBUaGUgcHJlZml4IG9mIHRoZSBJRHMgb2YgdGhlIGVsZW1lbnRzICh1c3VhbGx5IDEtZGl2YS0pXG4gICAgICAgICAgICBpbml0aWFsS2V5U2Nyb2xsOiBmYWxzZSwgICAgLy8gSG9sZHMgdGhlIGluaXRpYWwgc3RhdGUgb2YgZW5hYmxlS2V5U2Nyb2xsXG4gICAgICAgICAgICBpbml0aWFsU3BhY2VTY3JvbGw6IGZhbHNlLCAgLy8gSG9sZHMgdGhlIGluaXRpYWwgc3RhdGUgb2YgZW5hYmxlU3BhY2VTY3JvbGxcbiAgICAgICAgICAgIGlubmVyRWxlbWVudDogbnVsbCwgICAgICAgICAvLyBUaGUgbmF0aXZlIC5kaXZhLW91dGVyIERPTSBvYmplY3RcbiAgICAgICAgICAgIGlubmVyT2JqZWN0OiB7fSwgICAgICAgICAgICAvLyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChzZXR0aW5ncy5JRCArICdpbm5lcicpLCBmb3Igc2VsZWN0aW5nIHRoZSAuZGl2YS1pbm5lciBlbGVtZW50XG4gICAgICAgICAgICBpc0FjdGl2ZURpdmE6IHRydWUsICAgICAgICAgLy8gSW4gdGhlIGNhc2UgdGhhdCBtdWx0aXBsZSBkaXZhIHBhbmVzIGV4aXN0IG9uIHRoZSBzYW1lIHBhZ2UsIHRoaXMgc2hvdWxkIGhhdmUgZXZlbnRzIGZ1bm5lbGVkIHRvIGl0LlxuICAgICAgICAgICAgaXNTY3JvbGxhYmxlOiB0cnVlLCAgICAgICAgIC8vIFVzZWQgaW4gZW5hYmxlL2Rpc2FibGVTY3JvbGxhYmxlIHB1YmxpYyBtZXRob2RzXG4gICAgICAgICAgICBpc1pvb21pbmc6IGZhbHNlLCAgICAgICAgICAgLy8gRmxhZyB0byBrZWVwIHRyYWNrIG9mIHdoZXRoZXIgem9vbWluZyBpcyBzdGlsbCBpbiBwcm9ncmVzcywgZm9yIGhhbmRsZVpvb21cbiAgICAgICAgICAgIGxvYWRlZDogZmFsc2UsICAgICAgICAgICAgICAvLyBBIGZsYWcgZm9yIHdoZW4gZXZlcnl0aGluZyBpcyBsb2FkZWQgYW5kIHJlYWR5IHRvIGdvLlxuICAgICAgICAgICAgbWFuaWZlc3Q6IG51bGwsXG4gICAgICAgICAgICBtb2JpbGVXZWJraXQ6IGZhbHNlLCAgICAgICAgLy8gQ2hlY2tzIGlmIHRoZSB1c2VyIGlzIG9uIGEgdG91Y2ggZGV2aWNlIChpUGFkL2lQb2QvaVBob25lL0FuZHJvaWQpXG4gICAgICAgICAgICBudW1QYWdlczogMCwgICAgICAgICAgICAgICAgLy8gTnVtYmVyIG9mIHBhZ2VzIGluIHRoZSBhcnJheVxuICAgICAgICAgICAgb2xkWm9vbUxldmVsOiAtMSwgICAgICAgICAgIC8vIEhvbGRzIHRoZSBwcmV2aW91cyB6b29tIGxldmVsIGFmdGVyIHpvb21pbmcgaW4gb3Igb3V0XG4gICAgICAgICAgICBvcHRpb25zOiBvcHRpb25zLFxuICAgICAgICAgICAgb3V0ZXJFbGVtZW50OiBudWxsLCAgICAgICAgIC8vIFRoZSBuYXRpdmUgLmRpdmEtb3V0ZXIgRE9NIG9iamVjdFxuICAgICAgICAgICAgb3V0ZXJPYmplY3Q6IHt9LCAgICAgICAgICAgIC8vIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHNldHRpbmdzLklEICsgJ291dGVyJyksIGZvciBzZWxlY3RpbmcgdGhlIC5kaXZhLW91dGVyIGVsZW1lbnRcbiAgICAgICAgICAgIHBhZ2VPdmVybGF5czogbmV3IFBhZ2VPdmVybGF5TWFuYWdlcigpLFxuICAgICAgICAgICAgcGFnZVRvb2xzOiBbXSwgICAgICAgICAgICAgIC8vIFRoZSBwbHVnaW5zIHdoaWNoIGFyZSBlbmFibGVkIGFzIHBhZ2UgdG9vbHNcbiAgICAgICAgICAgIHBhcmVudE9iamVjdDogdGhpcy5wYXJlbnRPYmplY3QsIC8vIEpRdWVyeSBvYmplY3QgcmVmZXJlbmNpbmcgdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgICAgICBwZW5kaW5nTWFuaWZlc3RSZXF1ZXN0OiBudWxsLCAvLyBSZWZlcmVuY2UgdG8gdGhlIHhociByZXF1ZXN0IHJldHJpZXZpbmcgdGhlIG1hbmlmZXN0LiBVc2VkIHRvIGNhbmNlbCB0aGUgcmVxdWVzdCBvbiBkZXN0cm95KClcbiAgICAgICAgICAgIHBsdWdpbkluc3RhbmNlczogW10sICAgICAgICAgICAgICAgIC8vIEZpbGxlZCB3aXRoIHRoZSBlbmFibGVkIHBsdWdpbnMgZnJvbSB0aGUgcmVnaXN0cnlcbiAgICAgICAgICAgIHJlbmRlcmVyOiBudWxsLFxuICAgICAgICAgICAgcmVzaXplVGltZXI6IC0xLCAgICAgICAgICAgIC8vIEhvbGRzIHRoZSBJRCBvZiB0aGUgdGltZW91dCB1c2VkIHdoZW4gcmVzaXppbmcgdGhlIHdpbmRvdyAoZm9yIGNsZWFyaW5nKVxuICAgICAgICAgICAgc2Nyb2xsYmFyV2lkdGg6IDAsICAgICAgICAgIC8vIFNldCB0byB0aGUgYWN0dWFsIHNjcm9sbGJhciB3aWR0aCBpbiBpbml0KClcbiAgICAgICAgICAgIHNlbGVjdG9yOiAnJywgICAgICAgICAgICAgICAvLyBVc2VzIHRoZSBnZW5lcmF0ZWQgSUQgcHJlZml4IHRvIGVhc2lseSBzZWxlY3QgZWxlbWVudHNcbiAgICAgICAgICAgIHRocm9iYmVyVGltZW91dElEOiAtMSwgICAgICAvLyBIb2xkcyB0aGUgSUQgb2YgdGhlIHRocm9iYmVyIGxvYWRpbmcgdGltZW91dFxuICAgICAgICAgICAgdG9vbGJhcjogbnVsbCwgICAgICAgICAgICAgIC8vIEhvbGRzIGFuIG9iamVjdCB3aXRoIHNvbWUgdG9vbGJhci1yZWxhdGVkIGZ1bmN0aW9uc1xuICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IDAsICAgICAgICAgIC8vIERpc3RhbmNlIGZyb20gdGhlIGNlbnRlciBvZiB0aGUgZGl2YSBlbGVtZW50IHRvIHRoZSBsZWZ0IHNpZGUgb2YgdGhlIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgdmVydGljYWxQYWRkaW5nOiAwLCAgICAgICAgIC8vIEVpdGhlciB0aGUgZml4ZWQgcGFkZGluZyBvciBhZGFwdGl2ZSBwYWRkaW5nXG4gICAgICAgICAgICB2aWV3SGFuZGxlcjogbnVsbCxcbiAgICAgICAgICAgIHZpZXdwb3J0OiBudWxsLCAgICAgICAgICAgICAvLyBPYmplY3QgY2FjaGluZyB0aGUgdmlld3BvcnQgZGltZW5zaW9uc1xuICAgICAgICAgICAgdmlld3BvcnRFbGVtZW50OiBudWxsLFxuICAgICAgICAgICAgdmlld3BvcnRPYmplY3Q6IG51bGwsXG4gICAgICAgICAgICB6b29tRHVyYXRpb246IDQwMFxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBjcmVhdGVTZXR0aW5nc1ZpZXcoW29wdGlvbnMsIHRoaXMudmlld2VyU3RhdGVdKTtcblxuICAgICAgICAvLyBHZW5lcmF0ZSBhbiBJRCB0aGF0IGNhbiBiZSB1c2VkIGFzIGEgcHJlZml4IGZvciBhbGwgdGhlIG90aGVyIElEc1xuICAgICAgICBjb25zdCBpZE51bWJlciA9IGdlbmVyYXRlSWQoKTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5JRCA9ICdkaXZhLScgKyBpZE51bWJlciArICctJztcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5zZWxlY3RvciA9IHRoaXMuc2V0dGluZ3MuSUQ7XG5cbiAgICAgICAgLy8gQWxpYXNlcyBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh0aGlzLnNldHRpbmdzLCB7XG4gICAgICAgICAgICAvLyBIZWlnaHQgb2YgdGhlIGRvY3VtZW50IHZpZXdlciBwYW5lXG4gICAgICAgICAgICBwYW5lbEhlaWdodDoge1xuICAgICAgICAgICAgICAgIGdldDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmhlaWdodDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gV2lkdGggb2YgdGhlIGRvY3VtZW50IHZpZXdlciBwYW5lXG4gICAgICAgICAgICBwYW5lbFdpZHRoOiB7XG4gICAgICAgICAgICAgICAgZ2V0OiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQud2lkdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLm9wdGlvbnNWYWxpZGF0b3IgPSBuZXcgVmFsaWRhdGlvblJ1bm5lcih7XG4gICAgICAgICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiAnbWFuaWZlc3QnLFxuICAgICAgICAgICAgICAgICAgICBnZXQ6ICgpID0+XG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgXSxcblxuICAgICAgICAgICAgdmFsaWRhdGlvbnM6IG9wdGlvbnNWYWxpZGF0aW9uc1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnNjcm9sbGJhcldpZHRoID0gZ2V0U2Nyb2xsYmFyV2lkdGgoKTtcblxuICAgICAgICAvLyBJZiB3aW5kb3cub3JpZW50YXRpb24gaXMgZGVmaW5lZCwgdGhlbiBpdCdzIHByb2JhYmx5IG1vYmlsZVdlYmtpdFxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm1vYmlsZVdlYmtpdCA9IHdpbmRvdy5vcmllbnRhdGlvbiAhPT0gdW5kZWZpbmVkO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmhhc2hQYXJhbVN1ZmZpeCA9PT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gT21pdCB0aGUgc3VmZml4IGZyb20gdGhlIGZpcnN0IGluc3RhbmNlXG4gICAgICAgICAgICBpZiAoaWROdW1iZXIgPT09IDEpXG4gICAgICAgICAgICAgICAgb3B0aW9ucy5oYXNoUGFyYW1TdWZmaXggPSAnJztcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBvcHRpb25zLmhhc2hQYXJhbVN1ZmZpeCA9IGlkTnVtYmVyICsgJyc7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBDcmVhdGUgdGhlIGlubmVyIGFuZCBvdXRlciBwYW5lbHNcbiAgICAgICAgY29uc3QgaW5uZXJFbGVtID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygnaW5uZXInLCB7IGNsYXNzOiAnZGl2YS1pbm5lcicgfSkpO1xuICAgICAgICBjb25zdCB2aWV3cG9ydEVsZW0gPSBlbHQoJ2RpdicsIHRoaXMuZWxlbUF0dHJzKCd2aWV3cG9ydCcpLCBpbm5lckVsZW0pO1xuICAgICAgICBjb25zdCBvdXRlckVsZW0gPSBlbHQoJ2RpdicsIHRoaXMuZWxlbUF0dHJzKCdvdXRlcicpLFxuICAgICAgICAgICAgdmlld3BvcnRFbGVtLFxuICAgICAgICAgICAgZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygndGhyb2JiZXInKSxcbiAgICAgICAgICAgICAgICBbXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTEnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmUyJyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlMycgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTQnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU1JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlNicgfSksXG4gICAgICAgICAgICAgICAgICAgIGVsdCgnZGl2JywgeyBjbGFzczogJ2N1YmUgY3ViZTcnIH0pLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHsgY2xhc3M6ICdjdWJlIGN1YmU4JyB9KSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdkaXYnLCB7IGNsYXNzOiAnY3ViZSBjdWJlOScgfSksXG4gICAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgKSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lckVsZW1lbnQgPSBpbm5lckVsZW07XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRFbGVtZW50ID0gdmlld3BvcnRFbGVtO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyRWxlbWVudCA9IG91dGVyRWxlbTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyT2JqZWN0ID0gaW5uZXJFbGVtO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0ID0gdmlld3BvcnRFbGVtO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm91dGVyT2JqZWN0ID0gb3V0ZXJFbGVtO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LmFwcGVuZChvdXRlckVsZW0pO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQgPSBuZXcgVmlld3BvcnQodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydEVsZW1lbnQsIHtcbiAgICAgICAgICAgIGludGVyc2VjdGlvblRvbGVyYW5jZTogdGhpcy5zZXR0aW5ncy52aWV3cG9ydE1hcmdpblxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJvdW5kU2Nyb2xsRnVuY3Rpb24gPSB0aGlzLnNjcm9sbEZ1bmN0aW9uLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYm91bmRFc2NhcGVMaXN0ZW5lciA9IHRoaXMuZXNjYXBlTGlzdGVuZXIuYmluZCh0aGlzKTtcblxuICAgICAgICAvLyBEbyBhbGwgdGhlIHBsdWdpbiBpbml0aWFsaXNhdGlvblxuICAgICAgICB0aGlzLmluaXRQbHVnaW5zKCk7XG4gICAgICAgIHRoaXMuaGFuZGxlRXZlbnRzKCk7XG5cbiAgICAgICAgLy8gU2hvdyB0aGUgdGhyb2JiZXIgd2hpbGUgd2FpdGluZyBmb3IgdGhlIG1hbmlmZXN0IHRvIGxvYWRcbiAgICAgICAgdGhpcy5zaG93VGhyb2JiZXIoKTtcbiAgICB9XG5cbiAgICBpc1ZhbGlkT3B0aW9uIChrZXksIHZhbHVlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMub3B0aW9uc1ZhbGlkYXRvci5pc1ZhbGlkKGtleSwgdmFsdWUsIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucyk7XG4gICAgfVxuXG4gICAgZWxlbUF0dHJzIChpZGVudCwgYmFzZSlcbiAgICB7XG4gICAgICAgIGNvbnN0IGF0dHJzID0ge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBpZGVudCxcbiAgICAgICAgICAgIGNsYXNzOiAnZGl2YS0nICsgaWRlbnRcbiAgICAgICAgfTtcblxuICAgICAgICBpZiAoYmFzZSlcbiAgICAgICAgICAgIHJldHVybiBPYmplY3QuYXNzaWduKGF0dHJzLCBiYXNlKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgcmV0dXJuIGF0dHJzO1xuICAgIH1cblxuICAgIGdldFBhZ2VEYXRhIChwYWdlSW5kZXgsIGF0dHJpYnV0ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF0uZFt0aGlzLnNldHRpbmdzLnpvb21MZXZlbF1bYXR0cmlidXRlXTtcbiAgICB9XG5cbiAgICAvLyBSZXNldCBzb21lIHNldHRpbmdzIGFuZCBlbXB0eSB0aGUgdmlld3BvcnRcbiAgICBjbGVhclZpZXdlciAoKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgPSAwO1xuXG4gICAgICAgIC8vIENsZWFyIGFsbCB0aGUgdGltZW91dHMgdG8gcHJldmVudCB1bmRlc2lyZWQgcGFnZXMgZnJvbSBsb2FkaW5nXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnZpZXdlclN0YXRlLnJlc2l6ZVRpbWVyKTtcbiAgICB9XG5cbiAgICBoYXNDaGFuZ2VkT3B0aW9uIChvcHRpb25zLCBrZXkpXG4gICAge1xuICAgICAgICByZXR1cm4ga2V5IGluIG9wdGlvbnMgJiYgb3B0aW9uc1trZXldICE9PSB0aGlzLnNldHRpbmdzW2tleV07XG4gICAgfVxuXG4gICAgLy9TaG9ydGN1dCBmb3IgY2xvc2luZyBmdWxsc2NyZWVuIHdpdGggdGhlIGVzY2FwZSBrZXlcbiAgICBlc2NhcGVMaXN0ZW5lciAoZSlcbiAgICB7XG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDI3KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1YmxpY0luc3RhbmNlLmxlYXZlRnVsbHNjcmVlbk1vZGUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFVwZGF0ZSBzZXR0aW5ncyB0byBtYXRjaCB0aGUgc3BlY2lmaWVkIG9wdGlvbnMuIExvYWQgdGhlIHZpZXdlcixcbiAgICAgKiBmaXJlIGFwcHJvcHJpYXRlIGV2ZW50cyBmb3IgY2hhbmdlZCBvcHRpb25zLlxuICAgICAqL1xuICAgIHJlbG9hZFZpZXdlciAobmV3T3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHF1ZXVlZEV2ZW50cyA9IFtdO1xuXG4gICAgICAgIG5ld09wdGlvbnMgPSB0aGlzLm9wdGlvbnNWYWxpZGF0b3IuZ2V0VmFsaWRhdGVkT3B0aW9ucyh0aGlzLnNldHRpbmdzLCBuZXdPcHRpb25zKTtcblxuICAgICAgICAvLyBTZXQgdGhlIHpvb20gbGV2ZWwgaWYgdmFsaWQgYW5kIGZpcmUgYSBab29tTGV2ZWxEaWRDaGFuZ2UgZXZlbnRcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAnem9vbUxldmVsJykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub2xkWm9vbUxldmVsID0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWw7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuem9vbUxldmVsID0gbmV3T3B0aW9ucy56b29tTGV2ZWw7XG4gICAgICAgICAgICBxdWV1ZWRFdmVudHMucHVzaChbXCJab29tTGV2ZWxEaWRDaGFuZ2VcIiwgbmV3T3B0aW9ucy56b29tTGV2ZWxdKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFNldCB0aGUgcGFnZXMgcGVyIHJvdyBpZiB2YWxpZCBhbmQgZmlyZSBhbiBldmVudFxuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICdwYWdlc1BlclJvdycpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMucGFnZXNQZXJSb3cgPSBuZXdPcHRpb25zLnBhZ2VzUGVyUm93O1xuICAgICAgICAgICAgcXVldWVkRXZlbnRzLnB1c2goW1wiR3JpZFJvd051bWJlckRpZENoYW5nZVwiLCBuZXdPcHRpb25zLnBhZ2VzUGVyUm93XSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBVcGRhdGUgdmVydGljYWxseU9yaWVudGVkIChubyBldmVudCBmaXJlZClcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAndmVydGljYWxseU9yaWVudGVkJykpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMudmVydGljYWxseU9yaWVudGVkID0gbmV3T3B0aW9ucy52ZXJ0aWNhbGx5T3JpZW50ZWQ7XG5cbiAgICAgICAgLy8gU2hvdy9IaWRlIG5vbi1wYWdlZCBwYWdlc1xuICAgICAgICBpZiAodGhpcy5oYXNDaGFuZ2VkT3B0aW9uKG5ld09wdGlvbnMsICdzaG93Tm9uUGFnZWRQYWdlcycpKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuc2hvd05vblBhZ2VkUGFnZXMgPSBuZXdPcHRpb25zLnNob3dOb25QYWdlZFBhZ2VzO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVXBkYXRlIHBhZ2UgcG9zaXRpb24gKG5vIGV2ZW50IGZpcmVkIGhlcmUpXG4gICAgICAgIGlmICgnZ29EaXJlY3RseVRvJyBpbiBuZXdPcHRpb25zKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZ29EaXJlY3RseVRvID0gbmV3T3B0aW9ucy5nb0RpcmVjdGx5VG87XG5cbiAgICAgICAgICAgIGlmICgndmVydGljYWxPZmZzZXQnIGluIG5ld09wdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCA9IG5ld09wdGlvbnMudmVydGljYWxPZmZzZXQ7XG5cbiAgICAgICAgICAgIGlmICgnaG9yaXpvbnRhbE9mZnNldCcgaW4gbmV3T3B0aW9ucylcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgPSBuZXdPcHRpb25zLmhvcml6b250YWxPZmZzZXQ7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBPdGhlcndpc2UgdGhlIGRlZmF1bHQgaXMgdG8gcmVtYWluIG9uIHRoZSBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5nb0RpcmVjdGx5VG8gPSB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmhhc0NoYW5nZWRPcHRpb24obmV3T3B0aW9ucywgJ2luR3JpZCcpIHx8IHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAnaW5Cb29rTGF5b3V0JykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICgnaW5HcmlkJyBpbiBuZXdPcHRpb25zKVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkdyaWQgPSBuZXdPcHRpb25zLmluR3JpZDtcblxuICAgICAgICAgICAgaWYgKCdpbkJvb2tMYXlvdXQnIGluIG5ld09wdGlvbnMpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmluQm9va0xheW91dCA9IG5ld09wdGlvbnMuaW5Cb29rTGF5b3V0O1xuXG4gICAgICAgICAgICBxdWV1ZWRFdmVudHMucHVzaChbXCJWaWV3RGlkU3dpdGNoXCIsIHRoaXMuc2V0dGluZ3MuaW5HcmlkXSk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBOb3RlOiBwcmVwYXJlTW9kZUNoYW5nZSgpIGRlcGVuZHMgb24gaW5HcmlkIGFuZCB0aGUgdmVydGljYWwvaG9yaXpvbnRhbE9mZnNldCAoZm9yIG5vdylcbiAgICAgICAgaWYgKHRoaXMuaGFzQ2hhbmdlZE9wdGlvbihuZXdPcHRpb25zLCAnaW5GdWxsc2NyZWVuJykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3B0aW9ucy5pbkZ1bGxzY3JlZW4gPSBuZXdPcHRpb25zLmluRnVsbHNjcmVlbjtcbiAgICAgICAgICAgIHRoaXMucHJlcGFyZU1vZGVDaGFuZ2UobmV3T3B0aW9ucyk7XG4gICAgICAgICAgICBxdWV1ZWRFdmVudHMucHVzaChbXCJNb2RlRGlkU3dpdGNoXCIsIHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuXSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNsZWFyVmlld2VyKCk7XG4gICAgICAgIHRoaXMudXBkYXRlVmlld0hhbmRsZXJBbmRSZW5kZXJpbmcoKTtcblxuICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlcilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gVE9ETzogVGhlIHVzYWdlIG9mIHBhZGRpbmcgdmFyaWFibGVzIGlzIHN0aWxsIHJlYWxseVxuICAgICAgICAgICAgLy8gbWVzc3kgYW5kIGluY29uc2lzdGVudFxuICAgICAgICAgICAgY29uc3QgcmVuZGVyZXJDb25maWcgPSB7XG4gICAgICAgICAgICAgICAgcGFnZUxheW91dHM6IGdldFBhZ2VMYXlvdXRzKHRoaXMuc2V0dGluZ3MpLFxuICAgICAgICAgICAgICAgIHBhZGRpbmc6IHRoaXMuZ2V0UGFkZGluZygpLFxuICAgICAgICAgICAgICAgIG1heFpvb21MZXZlbDogdGhpcy5zZXR0aW5ncy5pbkdyaWQgPyBudWxsIDogdGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdC5tYXhab29tLFxuICAgICAgICAgICAgICAgIHZlcnRpY2FsbHlPcmllbnRlZDogdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgfHwgdGhpcy5zZXR0aW5ncy5pbkdyaWQsXG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCB2aWV3cG9ydFBvc2l0aW9uID0ge1xuICAgICAgICAgICAgICAgIHpvb21MZXZlbDogdGhpcy5zZXR0aW5ncy5pbkdyaWQgPyBudWxsIDogdGhpcy5zZXR0aW5ncy56b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgYW5jaG9yUGFnZTogdGhpcy5zZXR0aW5ncy5nb0RpcmVjdGx5VG8sXG4gICAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHRoaXMudmlld2VyU3RhdGUudmVydGljYWxPZmZzZXQsXG4gICAgICAgICAgICAgICAgaG9yaXpvbnRhbE9mZnNldDogdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICBjb25zdCBzb3VyY2VQcm92aWRlciA9IHRoaXMuZ2V0Q3VycmVudFNvdXJjZVByb3ZpZGVyKCk7XG5cbiAgICAgICAgICAgIGlmIChkZWJ1Zy5lbmFibGVkKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IHNlcmlhbGl6ZWQgPSBPYmplY3Qua2V5cyhyZW5kZXJlckNvbmZpZylcbiAgICAgICAgICAgICAgICAgICAgLmZpbHRlcihmdW5jdGlvbiAoa2V5KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUb28gbG9uZ1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGtleSAhPT0gJ3BhZ2VMYXlvdXRzJyAmJiBrZXkgIT09ICdwYWRkaW5nJztcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLm1hcChmdW5jdGlvbiAoa2V5KVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IHJlbmRlcmVyQ29uZmlnW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ga2V5ICsgJzogJyArIEpTT04uc3RyaW5naWZ5KHZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmpvaW4oJywgJyk7XG5cbiAgICAgICAgICAgICAgICBkZWJ1ZygncmVsb2FkIHdpdGggJXMnLCBzZXJpYWxpemVkKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sb2FkKHJlbmRlcmVyQ29uZmlnLCB2aWV3cG9ydFBvc2l0aW9uLCBzb3VyY2VQcm92aWRlcik7XG4gICAgICAgIH1cblxuICAgICAgICBxdWV1ZWRFdmVudHMuZm9yRWFjaCggKHBhcmFtcykgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5wdWJsaXNoLmFwcGx5KHRoaXMsIHBhcmFtcyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8vIEhhbmRsZXMgc3dpdGNoaW5nIGluIGFuZCBvdXQgb2YgZnVsbHNjcmVlbiBtb2RlXG4gICAgcHJlcGFyZU1vZGVDaGFuZ2UgKG9wdGlvbnMpXG4gICAge1xuICAgICAgICAvLyBUb2dnbGUgdGhlIGNsYXNzZXNcbiAgICAgICAgY29uc3QgY2hhbmdlQ2xhc3MgPSBvcHRpb25zLmluRnVsbHNjcmVlbiA/ICdhZGQnIDogJ3JlbW92ZSc7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuY2xhc3NMaXN0W2NoYW5nZUNsYXNzXSgnZGl2YS1mdWxsc2NyZWVuJyk7XG4gICAgICAgIGRvY3VtZW50LmJvZHkuY2xhc3NMaXN0W2NoYW5nZUNsYXNzXSgnZGl2YS1oaWRlLXNjcm9sbGJhcicpO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnBhcmVudE9iamVjdC5jbGFzc0xpc3RbY2hhbmdlQ2xhc3NdKCdkaXZhLWZ1bGwtd2lkdGgnKTtcblxuICAgICAgICAvLyBBZGp1c3QgRGl2YSdzIGludGVybmFsIHBhbmVsIHNpemUsIGtlZXBpbmcgdGhlIG9sZCB2YWx1ZXNcbiAgICAgICAgY29uc3Qgc3RvcmVkSGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodDtcbiAgICAgICAgY29uc3Qgc3RvcmVkV2lkdGggPSB0aGlzLnNldHRpbmdzLnBhbmVsV2lkdGg7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIC8vIElmIHRoaXMgaXNuJ3QgdGhlIG9yaWdpbmFsIGxvYWQsIHRoZSBvZmZzZXRzIG1hdHRlciwgYW5kIHRoZSBwb3NpdGlvbiBpc24ndCBiZWluZyBjaGFuZ2VkLi4uXG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5sb2FkZWQgJiYgIXRoaXMuc2V0dGluZ3MuaW5HcmlkICYmICEoJ3ZlcnRpY2FsT2Zmc2V0JyBpbiBvcHRpb25zKSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy9nZXQgdGhlIHVwZGF0ZWQgcGFuZWwgc2l6ZVxuICAgICAgICAgICAgY29uc3QgbmV3SGVpZ2h0ID0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodDtcbiAgICAgICAgICAgIGNvbnN0IG5ld1dpZHRoID0gdGhpcy5zZXR0aW5ncy5wYW5lbFdpZHRoO1xuXG4gICAgICAgICAgICAvL2FuZCByZS1jZW50ZXIgdGhlIG5ldyBwYW5lbCBvbiB0aGUgc2FtZSBwb2ludFxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCArPSAoKHN0b3JlZEhlaWdodCAtIG5ld0hlaWdodCkgLyAyKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCArPSAoKHN0b3JlZFdpZHRoIC0gbmV3V2lkdGgpIC8gMik7XG4gICAgICAgIH1cblxuICAgICAgICAvL3R1cm4gb24vb2ZmIGVzY2FwZSBrZXkgbGlzdGVuZXJcbiAgICAgICAgaWYgKG9wdGlvbnMuaW5GdWxsc2NyZWVuKVxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCB0aGlzLmJvdW5kRXNjYXBlTGlzdGVuZXIpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXl1cCcsIHRoaXMuYm91bmRFc2NhcGVMaXN0ZW5lcik7XG4gICAgfVxuXG4gICAgLy8gVXBkYXRlIHRoZSB2aWV3IGhhbmRsZXIgYW5kIHRoZSB2aWV3IHJlbmRlcmluZyBmb3IgdGhlIGN1cnJlbnQgdmlld1xuICAgIHVwZGF0ZVZpZXdIYW5kbGVyQW5kUmVuZGVyaW5nICgpXG4gICAge1xuICAgICAgICBjb25zdCBIYW5kbGVyID0gdGhpcy5zZXR0aW5ncy5pbkdyaWQgPyBHcmlkSGFuZGxlciA6IERvY3VtZW50SGFuZGxlcjtcblxuICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlciAmJiAhKHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIgaW5zdGFuY2VvZiBIYW5kbGVyKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5kZXN0cm95KCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlcilcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIgPSBuZXcgSGFuZGxlcih0aGlzKTtcblxuICAgICAgICBpZiAoIXRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIpXG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVSZW5kZXJlcigpO1xuICAgIH1cblxuICAgIC8vIFRPRE86IFRoaXMgY291bGQgcHJvYmFibHkgYmUgZG9uZSB1cG9uIFZpZXdlckNvcmUgaW5pdGlhbGl6YXRpb25cbiAgICBpbml0aWFsaXplUmVuZGVyZXIgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IGNvbXBhdEVycm9ycyA9IFJlbmRlcmVyLmdldENvbXBhdGliaWxpdHlFcnJvcnMoKTtcblxuICAgICAgICBpZiAoY29tcGF0RXJyb3JzKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNob3dFcnJvcihjb21wYXRFcnJvcnMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHtcbiAgICAgICAgICAgICAgICB2aWV3cG9ydDogdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydCxcbiAgICAgICAgICAgICAgICBvdXRlckVsZW1lbnQ6IHRoaXMudmlld2VyU3RhdGUub3V0ZXJFbGVtZW50LFxuICAgICAgICAgICAgICAgIGlubmVyRWxlbWVudDogdGhpcy52aWV3ZXJTdGF0ZS5pbm5lckVsZW1lbnQsXG4gICAgICAgICAgICAgICAgc2V0dGluZ3M6IHRoaXMuc2V0dGluZ3NcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIGNvbnN0IGhvb2tzID0ge1xuICAgICAgICAgICAgICAgIG9uVmlld1dpbGxMb2FkOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3SGFuZGxlci5vblZpZXdXaWxsTG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25WaWV3RGlkTG9hZDogKCkgPT5cbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlUGFnZU92ZXJsYXlzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25WaWV3RGlkTG9hZCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25WaWV3RGlkVXBkYXRlOiAocGFnZXMsIHRhcmdldFBhZ2UpID0+XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZVBhZ2VPdmVybGF5cygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uVmlld0RpZFVwZGF0ZShwYWdlcywgdGFyZ2V0UGFnZSk7XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBvblZpZXdEaWRUcmFuc2l0aW9uOiAoKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVQYWdlT3ZlcmxheXMoKTtcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIG9uUGFnZVdpbGxMb2FkOiAocGFnZUluZGV4KSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKCdQYWdlV2lsbExvYWQnLCBwYWdlSW5kZXgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgb25ab29tTGV2ZWxXaWxsQ2hhbmdlOiAoem9vbUxldmVsKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKCdab29tTGV2ZWxXaWxsQ2hhbmdlJywgem9vbUxldmVsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyID0gbmV3IFJlbmRlcmVyKG9wdGlvbnMsIGhvb2tzKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldEN1cnJlbnRTb3VyY2VQcm92aWRlciAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBncmlkU291cmNlUHJvdmlkZXIgPSB7XG4gICAgICAgICAgICAgICAgZ2V0QWxsWm9vbUxldmVsc0ZvclBhZ2U6IChwYWdlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFtncmlkU291cmNlUHJvdmlkZXIuZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2UocGFnZSldO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2U6IChwYWdlKSA9PlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdXJsID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRQYWdlSW1hZ2VVUkwocGFnZS5pbmRleCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHBhZ2UuZGltZW5zaW9ucy53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiAxLCAvLyBGSVhNRVxuICAgICAgICAgICAgICAgICAgICAgICAgcm93czogMSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbHM6IDEsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aWxlczogW3tcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB1cmw6IHVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IDEsIC8vIEZJWE1FXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcm93OiAwLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaW1lbnNpb25zOiBwYWdlLmRpbWVuc2lvbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogMFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1dXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgcmV0dXJuIGdyaWRTb3VyY2VQcm92aWRlcjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRpbGVEaW1lbnNpb25zID0ge1xuICAgICAgICAgICAgd2lkdGg6IHRoaXMuc2V0dGluZ3MudGlsZVdpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB0aGlzLnNldHRpbmdzLnRpbGVIZWlnaHRcbiAgICAgICAgfTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZ2V0QmVzdFpvb21MZXZlbEZvclBhZ2U6IChwYWdlKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldFBhZ2VJbWFnZVRpbGVzKHBhZ2UuaW5kZXgsIE1hdGguY2VpbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCksIHRpbGVEaW1lbnNpb25zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXRBbGxab29tTGV2ZWxzRm9yUGFnZTogKHBhZ2UpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxzID0gW107XG4gICAgICAgICAgICAgICAgY29uc3QgbGV2ZWxDb3VudCA9IHRoaXMudmlld2VyU3RhdGUubWFuaWZlc3QubWF4Wm9vbTtcblxuICAgICAgICAgICAgICAgIGZvciAobGV0IGxldmVsPTA7IGxldmVsIDw9IGxldmVsQ291bnQ7IGxldmVsKyspXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBsZXZlbHMucHVzaCh0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldFBhZ2VJbWFnZVRpbGVzKHBhZ2UuaW5kZXgsIGxldmVsLCB0aWxlRGltZW5zaW9ucykpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGxldmVscy5yZXZlcnNlKCk7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gbGV2ZWxzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGdldFBhZGRpbmcgKClcbiAgICB7XG4gICAgICAgIGxldCB0b3BQYWRkaW5nLCBsZWZ0UGFkZGluZztcbiAgICAgICAgbGV0IGRvY1ZQYWRkaW5nLCBkb2NIUGFkZGluZztcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY1ZQYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5maXhlZFBhZGRpbmc7XG4gICAgICAgICAgICB0b3BQYWRkaW5nID0gbGVmdFBhZGRpbmcgPSBkb2NIUGFkZGluZyA9IDA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB0b3BQYWRkaW5nID0gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsUGFkZGluZyA6IDA7XG4gICAgICAgICAgICBsZWZ0UGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gMCA6IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbFBhZGRpbmc7XG5cbiAgICAgICAgICAgIGRvY1ZQYWRkaW5nID0gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyAwIDogdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmc7XG4gICAgICAgICAgICBkb2NIUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkID8gdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsUGFkZGluZyA6IDA7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgZG9jdW1lbnQ6IHtcbiAgICAgICAgICAgICAgICB0b3A6IGRvY1ZQYWRkaW5nLFxuICAgICAgICAgICAgICAgIGJvdHRvbTogZG9jVlBhZGRpbmcsXG4gICAgICAgICAgICAgICAgbGVmdDogZG9jSFBhZGRpbmcsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IGRvY0hQYWRkaW5nXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFnZToge1xuICAgICAgICAgICAgICAgIHRvcDogdG9wUGFkZGluZyxcbiAgICAgICAgICAgICAgICBib3R0b206IDAsXG4gICAgICAgICAgICAgICAgbGVmdDogbGVmdFBhZGRpbmcsXG4gICAgICAgICAgICAgICAgcmlnaHQ6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICB1cGRhdGVQYWdlT3ZlcmxheXMgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucGFnZU92ZXJsYXlzLnVwZGF0ZU92ZXJsYXlzKFxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5nZXRSZW5kZXJlZFBhZ2VzKClcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICAvLyBDYWxsZWQgdG8gaGFuZGxlIGFueSB6b29tIGxldmVsXG4gICAgaGFuZGxlWm9vbSAobmV3Wm9vbUxldmVsLCBmb2NhbFBvaW50KVxuICAgIHtcbiAgICAgICAgLy8gSWYgdGhlIHpvb20gbGV2ZWwgcHJvdmlkZWQgaXMgaW52YWxpZCwgcmV0dXJuIGZhbHNlXG4gICAgICAgIGlmICghdGhpcy5pc1ZhbGlkT3B0aW9uKCd6b29tTGV2ZWwnLCBuZXdab29tTGV2ZWwpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIC8vIFdoaWxlIHpvb21pbmcsIGRvbid0IHVwZGF0ZSBzY3JvbGwgb2Zmc2V0cyBiYXNlZCBvbiB0aGUgc2NhbGVkIHZlcnNpb24gb2YgZGl2YS1pbm5lclxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuYm91bmRTY3JvbGxGdW5jdGlvbik7XG5cbiAgICAgICAgLy8gSWYgbm8gZm9jYWwgcG9pbnQgd2FzIGdpdmVuLCB6b29tIG9uIHRoZSBjZW50ZXIgb2YgdGhlIHZpZXdwb3J0XG4gICAgICAgIGlmICghZm9jYWxQb2ludClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0O1xuICAgICAgICAgICAgY29uc3QgY3VycmVudFJlZ2lvbiA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0LmdldFBhZ2VSZWdpb24odGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgpO1xuXG4gICAgICAgICAgICBmb2NhbFBvaW50ID0ge1xuICAgICAgICAgICAgICAgIGFuY2hvclBhZ2U6IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LFxuICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICBsZWZ0OiAodmlld3BvcnQud2lkdGggLyAyKSAtIChjdXJyZW50UmVnaW9uLmxlZnQgLSB2aWV3cG9ydC5sZWZ0KSxcbiAgICAgICAgICAgICAgICAgICAgdG9wOiAodmlld3BvcnQuaGVpZ2h0IC8gMikgLSAoY3VycmVudFJlZ2lvbi50b3AgLSB2aWV3cG9ydC50b3ApXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VSZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKGZvY2FsUG9pbnQuYW5jaG9yUGFnZSk7XG5cbiAgICAgICAgLy8gY2FsY3VsYXRlIGRpc3RhbmNlIGZyb20gY3Vyc29yIGNvb3JkaW5hdGVzIHRvIGNlbnRlciBvZiB2aWV3cG9ydFxuICAgICAgICBjb25zdCBmb2NhbFhUb0NlbnRlciA9IChwYWdlUmVnaW9uLmxlZnQgKyBmb2NhbFBvaW50Lm9mZnNldC5sZWZ0KSAtXG4gICAgICAgICAgICAodGhpcy5zZXR0aW5ncy52aWV3cG9ydC5sZWZ0ICsgKHRoaXMuc2V0dGluZ3Mudmlld3BvcnQud2lkdGggLyAyKSk7XG4gICAgICAgIGNvbnN0IGZvY2FsWVRvQ2VudGVyID0gKHBhZ2VSZWdpb24udG9wICsgZm9jYWxQb2ludC5vZmZzZXQudG9wKSAtXG4gICAgICAgICAgICAodGhpcy5zZXR0aW5ncy52aWV3cG9ydC50b3AgKyAodGhpcy5zZXR0aW5ncy52aWV3cG9ydC5oZWlnaHQgLyAyKSk7XG5cbiAgICAgICAgY29uc3QgZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwgPSAgKHpvb21MZXZlbCwgaW5pdFpvb20pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHpvb21SYXRpbyA9IE1hdGgucG93KDIsIHpvb21MZXZlbCAtIGluaXRab29tKTtcblxuICAgICAgICAgICAgLy9UT0RPKGplcm9tZXBsKTogQ2FsY3VsYXRlIHBvc2l0aW9uIGZyb20gcGFnZSB0b3AgbGVmdCB0byB2aWV3cG9ydCB0b3AgbGVmdFxuICAgICAgICAgICAgLy8gY2FsY3VsYXRlIGhvcml6b250YWwvdmVydGljYWxPZmZzZXQ6IGRpc3RhbmNlIGZyb20gdmlld3BvcnQgY2VudGVyIHRvIHBhZ2UgdXBwZXIgbGVmdCBjb3JuZXJcbiAgICAgICAgICAgIGNvbnN0IGhvcml6b250YWxPZmZzZXQgPSAoZm9jYWxQb2ludC5vZmZzZXQubGVmdCAqIHpvb21SYXRpbykgLSBmb2NhbFhUb0NlbnRlcjtcbiAgICAgICAgICAgIGNvbnN0IHZlcnRpY2FsT2Zmc2V0ID0gKGZvY2FsUG9pbnQub2Zmc2V0LnRvcCAqIHpvb21SYXRpbykgLSBmb2NhbFlUb0NlbnRlcjtcblxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICBhbmNob3JQYWdlOiBmb2NhbFBvaW50LmFuY2hvclBhZ2UsXG4gICAgICAgICAgICAgICAgdmVydGljYWxPZmZzZXQ6IHZlcnRpY2FsT2Zmc2V0LFxuICAgICAgICAgICAgICAgIGhvcml6b250YWxPZmZzZXQ6IGhvcml6b250YWxPZmZzZXRcbiAgICAgICAgICAgIH07XG4gICAgICAgIH07XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLnpvb21MZXZlbCA9IG5ld1pvb21MZXZlbDtcbiAgICAgICAgbGV0IGluaXRpYWxab29tTGV2ZWwgPSB0aGlzLnZpZXdlclN0YXRlLm9sZFpvb21MZXZlbDtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPSB0aGlzLnNldHRpbmdzLnpvb21MZXZlbDtcbiAgICAgICAgY29uc3QgZW5kUG9zaXRpb24gPSBnZXRQb3NpdGlvbkZvclpvb21MZXZlbChuZXdab29tTGV2ZWwsIGluaXRpYWxab29tTGV2ZWwpO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZ29EaXJlY3RseVRvID0gZW5kUG9zaXRpb24uYW5jaG9yUGFnZTtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCA9IGVuZFBvc2l0aW9uLnZlcnRpY2FsT2Zmc2V0O1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQgPSBlbmRQb3NpdGlvbi5ob3Jpem9udGFsT2Zmc2V0O1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIudHJhbnNpdGlvblZpZXdwb3J0UG9zaXRpb24oe1xuICAgICAgICAgICAgZHVyYXRpb246IHRoaXMuc2V0dGluZ3Muem9vbUR1cmF0aW9uLFxuICAgICAgICAgICAgcGFyYW1ldGVyczoge1xuICAgICAgICAgICAgICAgIHpvb21MZXZlbDoge1xuICAgICAgICAgICAgICAgICAgICBmcm9tOiBpbml0aWFsWm9vbUxldmVsLFxuICAgICAgICAgICAgICAgICAgICB0bzogbmV3Wm9vbUxldmVsXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldFBvc2l0aW9uOiAocGFyYW1ldGVycykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0UG9zaXRpb25Gb3Jab29tTGV2ZWwocGFyYW1ldGVycy56b29tTGV2ZWwsIGluaXRpYWxab29tTGV2ZWwpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIG9uRW5kOiAoaW5mbykgPT5cbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuYm91bmRTY3JvbGxGdW5jdGlvbik7XG5cbiAgICAgICAgICAgICAgICBpZiAoaW5mby5pbnRlcnJ1cHRlZClcbiAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vbGRab29tTGV2ZWwgPSBuZXdab29tTGV2ZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERlYWN0aXZhdGUgem9vbSBidXR0b25zIHdoaWxlIHpvb21pbmdcbiAgICAgICAgbGV0IHpvb21JbkJ1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAnem9vbS1pbi1idXR0b24nKTtcbiAgICAgICAgbGV0IHpvb21PdXRCdXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ3pvb20tb3V0LWJ1dHRvbicpO1xuICAgICAgICB6b29tSW5CdXR0b24uZGlzYWJsZWQgPSB0cnVlO1xuICAgICAgICB6b29tT3V0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICB6b29tSW5CdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHpvb21PdXRCdXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy56b29tRHVyYXRpb24pO1xuXG4gICAgICAgIC8vIFNlbmQgb2ZmIHRoZSB6b29tIGxldmVsIGRpZCBjaGFuZ2UgZXZlbnQuXG4gICAgICAgIHRoaXMucHVibGlzaChcIlpvb21MZXZlbERpZENoYW5nZVwiLCBuZXdab29tTGV2ZWwpO1xuXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qXG4gICAgIEdldHMgdGhlIFktb2Zmc2V0IGZvciBhIHNwZWNpZmljIHBvaW50IG9uIGEgc3BlY2lmaWMgcGFnZVxuICAgICBBY2NlcHRhYmxlIHZhbHVlcyBmb3IgXCJhbmNob3JcIjpcbiAgICAgXCJ0b3BcIiAoZGVmYXVsdCkgLSB3aWxsIGFuY2hvciB0b3Agb2YgdGhlIHBhZ2UgdG8gdGhlIHRvcCBvZiB0aGUgZGl2YS1vdXRlciBlbGVtZW50XG4gICAgIFwiYm90dG9tXCIgLSB0b3AsIHMvdG9wL2JvdHRvbVxuICAgICBcImNlbnRlclwiIC0gd2lsbCBjZW50ZXIgdGhlIHBhZ2Ugb24gdGhlIGRpdmEgZWxlbWVudFxuICAgICBSZXR1cm5lZCB2YWx1ZSB3aWxsIGJlIHRoZSBkaXN0YW5jZSBmcm9tIHRoZSBjZW50ZXIgb2YgdGhlIGRpdmEtb3V0ZXIgZWxlbWVudCB0byB0aGUgdG9wIG9mIHRoZSBjdXJyZW50IHBhZ2UgZm9yIHRoZSBzcGVjaWZpZWQgYW5jaG9yXG4gICAgICovXG4gICAgZ2V0WU9mZnNldCAocGFnZUluZGV4LCBhbmNob3IpXG4gICAge1xuICAgICAgICBsZXQgcGlkeCA9ICh0eXBlb2YocGFnZUluZGV4KSA9PT0gXCJ1bmRlZmluZWRcIiA/IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4IDogcGFnZUluZGV4KTtcblxuICAgICAgICBpZiAoYW5jaG9yID09PSBcImNlbnRlclwiIHx8IGFuY2hvciA9PT0gXCJjZW50cmVcIikgLy9ob3cgeW91IGNhbiB0ZWxsIGFuIEFtZXJpY2FuIGNvZGVkIHRoaXNcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0UGFnZURhdGEocGlkeCwgXCJoXCIpIC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGFuY2hvciA9PT0gXCJib3R0b21cIilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHBhcnNlSW50KHRoaXMuZ2V0UGFnZURhdGEocGlkeCwgXCJoXCIpIC0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodCAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnNldHRpbmdzLnBhbmVsSGVpZ2h0IC8gMiwgMTApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLy9TYW1lIGFzIGdldFlPZmZzZXQgd2l0aCBcImxlZnRcIiBhbmQgXCJyaWdodFwiIGFzIGFjY2VwdGFibGUgdmFsdWVzIGluc3RlYWQgb2YgXCJ0b3BcIiBhbmQgXCJib3R0b21cIlxuICAgIGdldFhPZmZzZXQgKHBhZ2VJbmRleCwgYW5jaG9yKVxuICAgIHtcbiAgICAgICAgbGV0IHBpZHggPSAodHlwZW9mKHBhZ2VJbmRleCkgPT09IFwidW5kZWZpbmVkXCIgPyB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCA6IHBhZ2VJbmRleCk7XG5cbiAgICAgICAgaWYgKGFuY2hvciA9PT0gXCJsZWZ0XCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLnNldHRpbmdzLnBhbmVsV2lkdGggLyAyLCAxMCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoYW5jaG9yID09PSBcInJpZ2h0XCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwid1wiKSAtIHRoaXMuc2V0dGluZ3MucGFuZWxXaWR0aCAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludCh0aGlzLmdldFBhZ2VEYXRhKHBpZHgsIFwid1wiKSAvIDIsIDEwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZXMgcGFuZWxIZWlnaHQvcGFuZWxXaWR0aCBvbiByZXNpemVcbiAgICB1cGRhdGVQYW5lbFNpemUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQuaW52YWxpZGF0ZSgpO1xuXG4gICAgICAgIC8vIEZJWE1FKHdhYmFpbik6IFRoaXMgc2hvdWxkIHJlYWxseSBvbmx5IGJlIGNhbGxlZCBhZnRlciBpbml0aWFsIGxvYWRcbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudXBkYXRlT2Zmc2V0cygpO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5nb3RvKHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0LCB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgdXBkYXRlT2Zmc2V0cyAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZU9mZnNldCA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0KTtcblxuICAgICAgICBpZiAocGFnZU9mZnNldClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0ID0gcGFnZU9mZnNldC54O1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCA9IHBhZ2VPZmZzZXQueTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIEJpbmQgbW91c2UgZXZlbnRzIChkcmFnIHRvIHNjcm9sbCwgZG91YmxlLWNsaWNrKVxuICAgIGJpbmRNb3VzZUV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgLy8gU2V0IGRyYWcgc2Nyb2xsIG9uIHRoZSB2aWV3cG9ydCBvYmplY3RcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5jbGFzc0xpc3QuYWRkKCdkcmFnc2Nyb2xsJyk7XG5cbiAgICAgICAgZ2VzdHVyZUV2ZW50cy5vbkRvdWJsZUNsaWNrKHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3QsIChldmVudCwgY29vcmRzKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBkZWJ1ZygnRG91YmxlIGNsaWNrIGF0ICVzLCAlcycsIGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25Eb3VibGVDbGljayhldmVudCwgY29vcmRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgb25SZXNpemUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudXBkYXRlUGFuZWxTaXplKCk7XG4gICAgICAgIC8vIENhbmNlbCBhbnkgcHJldmlvdXNseS1zZXQgcmVzaXplIHRpbWVvdXRzXG4gICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnZpZXdlclN0YXRlLnJlc2l6ZVRpbWVyKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlc2l6ZVRpbWVyID0gc2V0VGltZW91dCggKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgcGFnZU9mZnNldCA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0LmdldFBhZ2VUb1ZpZXdwb3J0Q2VudGVyT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0KTtcblxuICAgICAgICAgICAgaWYgKHBhZ2VPZmZzZXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBnb0RpcmVjdGx5VG86IHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LFxuICAgICAgICAgICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogcGFnZU9mZnNldC55LFxuICAgICAgICAgICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiBwYWdlT2Zmc2V0LnhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnJlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICAgICAgICAgIGdvRGlyZWN0bHlUbzogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXhcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgMjAwKTtcbiAgICB9XG5cbiAgICAvLyBCaW5kIHRvdWNoIGFuZCBvcmllbnRhdGlvbiBjaGFuZ2UgZXZlbnRzXG4gICAgYmluZFRvdWNoRXZlbnRzICgpXG4gICAge1xuICAgICAgICAvLyBCbG9jayB0aGUgdXNlciBmcm9tIG1vdmluZyB0aGUgd2luZG93IG9ubHkgaWYgaXQncyBub3QgaW50ZWdyYXRlZFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5ibG9ja01vYmlsZU1vdmUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRvY3VtZW50LmJvZHkuYWRkRXZlbnRMaXN0ZW5lcigndG91Y2htb3ZlJywgKGV2ZW50KSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBldmVudC5vcmlnaW5hbEV2ZW50O1xuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gVG91Y2ggZXZlbnRzIGZvciBzd2lwaW5nIGluIHRoZSB2aWV3cG9ydCB0byBzY3JvbGwgcGFnZXNcbiAgICAgICAgLy8gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCB0aGlzLnNjcm9sbEZ1bmN0aW9uLmJpbmQodGhpcykpO1xuXG4gICAgICAgIGdlc3R1cmVFdmVudHMub25QaW5jaCh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LCBmdW5jdGlvbiAoZXZlbnQsIGNvb3Jkcywgc3RhcnQsIGVuZClcbiAgICAgICAge1xuICAgICAgICAgICAgZGVidWcoJ1BpbmNoICVzIGF0ICVzLCAlcycsIGVuZCAtIHN0YXJ0LCBjb29yZHMubGVmdCwgY29vcmRzLnRvcCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdIYW5kbGVyLm9uUGluY2goZXZlbnQsIGNvb3Jkcywgc3RhcnQsIGVuZCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGdlc3R1cmVFdmVudHMub25Eb3VibGVUYXAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdCwgZnVuY3Rpb24gKGV2ZW50LCBjb29yZHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRlYnVnKCdEb3VibGUgdGFwIGF0ICVzLCAlcycsIGNvb3Jkcy5sZWZ0LCBjb29yZHMudG9wKTtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld0hhbmRsZXIub25Eb3VibGVDbGljayhldmVudCwgY29vcmRzKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gSGFuZGxlIHRoZSBzY3JvbGxcbiAgICBzY3JvbGxGdW5jdGlvbiAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgcHJldmlvdXNUb3BTY3JvbGwgPSB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcDtcbiAgICAgICAgY29uc3QgcHJldmlvdXNMZWZ0U2Nyb2xsID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0O1xuXG4gICAgICAgIGxldCBkaXJlY3Rpb247XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5pbnZhbGlkYXRlKCk7XG5cbiAgICAgICAgY29uc3QgbmV3U2Nyb2xsVG9wID0gdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3A7XG4gICAgICAgIGNvbnN0IG5ld1Njcm9sbExlZnQgPSB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LmxlZnQ7XG5cbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkIHx8IHRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICAgICAgZGlyZWN0aW9uID0gbmV3U2Nyb2xsVG9wIC0gcHJldmlvdXNUb3BTY3JvbGw7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIGRpcmVjdGlvbiA9IG5ld1Njcm9sbExlZnQgLSBwcmV2aW91c0xlZnRTY3JvbGw7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5hZGp1c3QoKTtcblxuICAgICAgICBjb25zdCBwcmltYXJ5U2Nyb2xsID0gKHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkIHx8IHRoaXMuc2V0dGluZ3MuaW5HcmlkKSA/IG5ld1Njcm9sbFRvcCA6IG5ld1Njcm9sbExlZnQ7XG5cbiAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlld2VyRGlkU2Nyb2xsXCIsIHByaW1hcnlTY3JvbGwpO1xuXG4gICAgICAgIGlmIChkaXJlY3Rpb24gPiAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJWaWV3ZXJEaWRTY3JvbGxEb3duXCIsIHByaW1hcnlTY3JvbGwpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGRpcmVjdGlvbiA8IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaChcIlZpZXdlckRpZFNjcm9sbFVwXCIsIHByaW1hcnlTY3JvbGwpO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy51cGRhdGVPZmZzZXRzKCk7XG4gICAgfVxuXG4gICAgLy8gQmluZHMgbW9zdCBvZiB0aGUgZXZlbnQgaGFuZGxlcnMgKHNvbWUgbW9yZSBpbiBjcmVhdGVUb29sYmFyKVxuICAgIGhhbmRsZUV2ZW50cyAoKVxuICAgIHtcbiAgICAgICAgLy8gQ2hhbmdlIHRoZSBjdXJzb3IgZm9yIGRyYWdnaW5nXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lck9iamVjdC5jbGFzc0xpc3QuYWRkKCdkaXZhLWdyYWJiaW5nJyk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJPYmplY3QuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaW5uZXJPYmplY3QuY2xhc3NMaXN0LnJlbW92ZSgnZGl2YS1ncmFiYmluZycpO1xuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmJpbmRNb3VzZUV2ZW50cygpO1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LmFkZEV2ZW50TGlzdGVuZXIoJ3Njcm9sbCcsIHRoaXMuYm91bmRTY3JvbGxGdW5jdGlvbik7XG5cbiAgICAgICAgY29uc3QgdXBBcnJvd0tleSA9IDM4LCBkb3duQXJyb3dLZXkgPSA0MCwgbGVmdEFycm93S2V5ID0gMzcsIHJpZ2h0QXJyb3dLZXkgPSAzOSwgc3BhY2VLZXkgPSAzMiwgcGFnZVVwS2V5ID0gMzMsIHBhZ2VEb3duS2V5ID0gMzQsIGhvbWVLZXkgPSAzNiwgZW5kS2V5ID0gMzU7XG5cbiAgICAgICAgLy8gQ2F0Y2ggdGhlIGtleSBwcmVzc2VzIGluIGRvY3VtZW50XG4gICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24uZGl2YScsIChldmVudCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLmlzQWN0aXZlRGl2YSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgICAgICAgICAgLy8gU3BhY2Ugb3IgcGFnZSBkb3duIC0gZ28gdG8gdGhlIG5leHQgcGFnZVxuICAgICAgICAgICAgaWYgKCh0aGlzLnNldHRpbmdzLmVuYWJsZVNwYWNlU2Nyb2xsICYmICFldmVudC5zaGlmdEtleSAmJiBldmVudC5rZXlDb2RlID09PSBzcGFjZUtleSkgfHwgKHRoaXMuc2V0dGluZ3MuZW5hYmxlS2V5U2Nyb2xsICYmIGV2ZW50LmtleUNvZGUgPT09IHBhZ2VEb3duS2V5KSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0LnRvcCArPSB0aGlzLnNldHRpbmdzLnBhbmVsSGVpZ2h0O1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKCF0aGlzLnNldHRpbmdzLmVuYWJsZVNwYWNlU2Nyb2xsICYmIGV2ZW50LmtleUNvZGUgPT09IHNwYWNlS2V5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUtleVNjcm9sbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBzdGVhbCBrZXlib2FyZCBzaG9ydGN1dHMgKG1ldGFLZXkgPSBjb21tYW5kIFtPUyBYXSwgc3VwZXIgW1dpbi9MaW51eF0pXG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50LnNoaWZ0S2V5IHx8IGV2ZW50LmN0cmxLZXkgfHwgZXZlbnQubWV0YUtleSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGV2ZW50LmtleUNvZGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjYXNlIHBhZ2VVcEtleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFBhZ2UgdXAgLSBnbyB0byB0aGUgcHJldmlvdXMgcGFnZVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgLT0gdGhpcy5zZXR0aW5ncy5wYW5lbEhlaWdodDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIHVwQXJyb3dLZXk6XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBVcCBhcnJvdyAtIHNjcm9sbCB1cFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgLT0gdGhpcy5zZXR0aW5ncy5hcnJvd1Njcm9sbEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIGRvd25BcnJvd0tleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvd24gYXJyb3cgLSBzY3JvbGwgZG93blxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC50b3AgKz0gdGhpcy5zZXR0aW5ncy5hcnJvd1Njcm9sbEFtb3VudDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIGxlZnRBcnJvd0tleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIExlZnQgYXJyb3cgLSBzY3JvbGwgbGVmdFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0IC09IHRoaXMuc2V0dGluZ3MuYXJyb3dTY3JvbGxBbW91bnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgICAgICAgICAgY2FzZSByaWdodEFycm93S2V5OlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gUmlnaHQgYXJyb3cgLSBzY3JvbGwgcmlnaHRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCArPSB0aGlzLnNldHRpbmdzLmFycm93U2Nyb2xsQW1vdW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgICAgICAgICAgICAgIGNhc2UgaG9tZUtleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhvbWUga2V5IC0gZ28gdG8gdGhlIGJlZ2lubmluZyBvZiB0aGUgZG9jdW1lbnRcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wID0gMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBjYXNlIGVuZEtleTpcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEVuZCBrZXkgLSBnbyB0byB0aGUgZW5kIG9mIHRoZSBkb2N1bWVudFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ291bnQgb24gdGhlIHZpZXdwb3J0IGNvb3JkaW5hdGUgdmFsdWUgYmVpbmcgbm9ybWFsaXplZFxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wID0gSW5maW5pdHk7XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydC5sZWZ0ID0gSW5maW5pdHk7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnVmlld2VyRGlkVGVybWluYXRlJywgZnVuY3Rpb24oKVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duLmRpdmEnKTtcbiAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy5JRCk7XG5cbiAgICAgICAgLy8gdGhpcy5iaW5kVG91Y2hFdmVudHMoKTtcblxuICAgICAgICAvLyBIYW5kbGUgd2luZG93IHJlc2l6aW5nIGV2ZW50c1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigncmVzaXplJywgdGhpcy5vblJlc2l6ZS5iaW5kKHRoaXMpLCBmYWxzZSk7XG5cbiAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdWaWV3ZXJEaWRUZXJtaW5hdGUnLCBmdW5jdGlvbigpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdyZXNpemUnLCB0aGlzLm9uUmVzaXplLCBmYWxzZSk7XG4gICAgICAgIH0sIHRoaXMuc2V0dGluZ3MuSUQpO1xuXG4gICAgICAgIC8vIEhhbmRsZSBvcmllbnRhdGlvbiBjaGFuZ2Ugc2VwYXJhdGVseVxuICAgICAgICBpZiAoJ29ub3JpZW50YXRpb25jaGFuZ2UnIGluIHdpbmRvdylcbiAgICAgICAge1xuICAgICAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ29yaWVudGF0aW9uY2hhbmdlJywgdGhpcy5vblJlc2l6ZSwgZmFsc2UpO1xuXG4gICAgICAgICAgICBkaXZhLkV2ZW50cy5zdWJzY3JpYmUoJ1ZpZXdlckRpZFRlcm1pbmF0ZScsIGZ1bmN0aW9uKClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB3aW5kb3cucmVtb3ZlRXZlbnRMaXN0ZW5lcignb3JpZW50YXRpb25jaGFuZ2UnLCB0aGlzLm9uUmVzaXplLCBmYWxzZSk7XG4gICAgICAgICAgICB9LCB0aGlzLnNldHRpbmdzLklEKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnUGFuZWxTaXplRGlkQ2hhbmdlJywgdGhpcy51cGRhdGVQYW5lbFNpemUsIHRoaXMuc2V0dGluZ3MuSUQpO1xuXG4gICAgICAgIC8vIENsZWFyIHBhZ2UgYW5kIHJlc2l6ZSB0aW1lb3V0cyB3aGVuIHRoZSB2aWV3ZXIgaXMgZGVzdHJveWVkXG4gICAgICAgIGRpdmEuRXZlbnRzLnN1YnNjcmliZSgnVmlld2VyRGlkVGVybWluYXRlJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIpXG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5kZXN0cm95KCk7XG5cbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aGlzLnZpZXdlclN0YXRlLnJlc2l6ZVRpbWVyKTtcbiAgICAgICAgfSwgdGhpcy5zZXR0aW5ncy5JRCk7XG4gICAgfVxuXG4gICAgaW5pdFBsdWdpbnMgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5oYXNPd25Qcm9wZXJ0eSgncGx1Z2lucycpKVxuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5wbHVnaW5JbnN0YW5jZXMgPSB0aGlzLnNldHRpbmdzLnBsdWdpbnMubWFwKCAocGx1Z2luKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBwID0gbmV3IHBsdWdpbih0aGlzKTtcblxuICAgICAgICAgICAgaWYgKHAuaXNQYWdlVG9vbClcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VUb29scy5wdXNoKHApO1xuXG4gICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgc2hvd1Rocm9iYmVyICgpXG4gICAge1xuICAgICAgICB0aGlzLmhpZGVUaHJvYmJlcigpO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUudGhyb2JiZXJUaW1lb3V0SUQgPSBzZXRUaW1lb3V0KCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdGhiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd0aHJvYmJlcicpO1xuICAgICAgICAgICAgaWYgKHRoYikgdGhiLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICB9LCB0aGlzLnNldHRpbmdzLnRocm9iYmVyVGltZW91dCk7XG4gICAgfVxuXG4gICAgaGlkZVRocm9iYmVyICgpXG4gICAge1xuICAgICAgICAvLyBDbGVhciB0aGUgdGltZW91dCwgaWYgaXQgaGFzbid0IGV4ZWN1dGVkIHlldFxuICAgICAgICBjbGVhclRpbWVvdXQodGhpcy52aWV3ZXJTdGF0ZS50aHJvYmJlclRpbWVvdXRJRCk7XG5cbiAgICAgICAgbGV0IHRoYiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3Muc2VsZWN0b3IgKyAndGhyb2JiZXInKTtcbiAgICAgICAgLy8gSGlkZSB0aGUgdGhyb2JiZXIgaWYgaXQgaGFzIGFscmVhZHkgZXhlY3V0ZWRcbiAgICAgICAgaWYgKHRoYikgdGhiLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG4gICAgfVxuXG4gICAgc2hvd0Vycm9yIChtZXNzYWdlKVxuICAgIHtcbiAgICAgICAgY29uc3QgZXJyb3JFbGVtZW50ID0gZWx0KCdkaXYnLCB0aGlzLmVsZW1BdHRycygnZXJyb3InKSwgW1xuICAgICAgICAgICAgZWx0KCdidXR0b24nLCB0aGlzLmVsZW1BdHRycygnZXJyb3ItY2xvc2UnLCB7J2FyaWEtbGFiZWwnOiAnQ2xvc2UgZGlhbG9nJ30pKSxcbiAgICAgICAgICAgIGVsdCgncCcsXG4gICAgICAgICAgICAgICAgZWx0KCdzdHJvbmcnLCAnRXJyb3InKVxuICAgICAgICAgICAgKSxcbiAgICAgICAgICAgIGVsdCgnZGl2JywgbWVzc2FnZSlcbiAgICAgICAgXSk7XG5cbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlck9iamVjdC5hcHBlbmRDaGlsZChlcnJvckVsZW1lbnQpO1xuXG4gICAgICAgIC8vIEJpbmQgZGlhbG9nIGNsb3NlIGJ1dHRvblxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLnNlbGVjdG9yICsgJ2Vycm9yLWNsb3NlJykuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBlcnJvckVsZW1lbnQucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlcnJvckVsZW1lbnQpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBzZXRNYW5pZmVzdCAobWFuaWZlc3QsIGxvYWRPcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdCA9IG1hbmlmZXN0O1xuXG4gICAgICAgIHRoaXMuaGlkZVRocm9iYmVyKCk7XG5cbiAgICAgICAgLy8gQ29udmVuaWVuY2UgdmFsdWVcbiAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5udW1QYWdlcyA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXMubGVuZ3RoO1xuXG4gICAgICAgIHRoaXMub3B0aW9uc1ZhbGlkYXRvci52YWxpZGF0ZSh0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMpO1xuXG4gICAgICAgIHRoaXMucHVibGlzaCgnTnVtYmVyT2ZQYWdlc0RpZENoYW5nZScsIHRoaXMuc2V0dGluZ3MubnVtUGFnZXMpO1xuXG4gICAgICAgIC8vIENhbGN1bGF0ZSB0aGUgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgaW50ZXItcGFnZSBwYWRkaW5nIGJhc2VkIG9uIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBhdmVyYWdlIHpvb20gbGV2ZWxcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuYWRhcHRpdmVQYWRkaW5nID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QgeiA9IE1hdGguZmxvb3IoKHRoaXMuc2V0dGluZ3MubWluWm9vbUxldmVsICsgdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWwpIC8gMik7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nID0gcGFyc2VJbnQodGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5nZXRBdmVyYWdlV2lkdGgoeikgKiB0aGlzLnNldHRpbmdzLmFkYXB0aXZlUGFkZGluZywgMTApO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgPSBwYXJzZUludCh0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmdldEF2ZXJhZ2VIZWlnaHQoeikgKiB0aGlzLnNldHRpbmdzLmFkYXB0aXZlUGFkZGluZywgMTApO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSXQncyBsZXNzIHRoYW4gb3IgZXF1YWwgdG8gMDsgdXNlIGZpeGVkUGFkZGluZyBpbnN0ZWFkXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmhvcml6b250YWxQYWRkaW5nID0gdGhpcy5zZXR0aW5ncy5maXhlZFBhZGRpbmc7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsUGFkZGluZyA9IHRoaXMuc2V0dGluZ3MuZml4ZWRQYWRkaW5nO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gTWFrZSBzdXJlIHRoZSB2ZXJ0aWNhbCBwYWRkaW5nIGlzIGF0IGxlYXN0IDQwLCBpZiBwbHVnaW4gaWNvbnMgYXJlIGVuYWJsZWRcbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUucGFnZVRvb2xzLmxlbmd0aClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcgPSBNYXRoLm1heCg0MCwgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbFBhZGRpbmcpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gSWYgd2UgZGV0ZWN0IGEgdmlld2luZ0hpbnQgb2YgJ3BhZ2VkJyBpbiB0aGUgbWFuaWZlc3Qgb3Igc2VxdWVuY2UsIGVuYWJsZSBib29rIHZpZXcgYnkgZGVmYXVsdFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlZClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmluQm9va0xheW91dCA9IHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBQbHVnaW4gc2V0dXAgaG9va3Mgc2hvdWxkIGJlIGJvdW5kIHRvIHRoZSBPYmplY3REaWRMb2FkIGV2ZW50XG4gICAgICAgIHRoaXMucHVibGlzaCgnT2JqZWN0RGlkTG9hZCcsIHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIEFkanVzdCB0aGUgZG9jdW1lbnQgcGFuZWwgZGltZW5zaW9uc1xuICAgICAgICB0aGlzLnVwZGF0ZVBhbmVsU2l6ZSgpO1xuXG4gICAgICAgIGxldCBuZWVkc1hDb29yZCwgbmVlZHNZQ29vcmQ7XG5cbiAgICAgICAgbGV0IGFuY2hvcmVkVmVydGljYWxseSA9IGZhbHNlO1xuICAgICAgICBsZXQgYW5jaG9yZWRIb3Jpem9udGFsbHkgPSBmYWxzZTtcblxuICAgICAgICAvLyBOQjogYD09YCBoZXJlIHdpbGwgY2hlY2sgYm90aCBudWxsIGFuZCB1bmRlZmluZWRcbiAgICAgICAgaWYgKGxvYWRPcHRpb25zLmdvRGlyZWN0bHlUbyA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8gPSB0aGlzLnNldHRpbmdzLmdvRGlyZWN0bHlUbztcbiAgICAgICAgICAgIG5lZWRzWENvb3JkID0gbmVlZHNZQ29vcmQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgbmVlZHNYQ29vcmQgPSBsb2FkT3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0ID09IG51bGwgfHwgaXNOYU4obG9hZE9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCk7XG4gICAgICAgICAgICBuZWVkc1lDb29yZCA9IGxvYWRPcHRpb25zLnZlcnRpY2FsT2Zmc2V0ID09IG51bGwgfHwgaXNOYU4obG9hZE9wdGlvbnMudmVydGljYWxPZmZzZXQpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gU2V0IGRlZmF1bHQgdmFsdWVzIGZvciB0aGUgaG9yaXpvbnRhbCBhbmQgdmVydGljYWwgb2Zmc2V0c1xuICAgICAgICBpZiAobmVlZHNYQ29vcmQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEZJWE1FOiBXaGF0IGlmIGluQm9va0xheW91dC92ZXJ0aWNhbGx5T3JpZW50ZWQgaXMgY2hhbmdlZCBieSBsb2FkT3B0aW9ucz9cbiAgICAgICAgICAgIGlmIChsb2FkT3B0aW9ucy5nb0RpcmVjdGx5VG8gPT09IDAgJiYgdGhpcy5zZXR0aW5ncy5pbkJvb2tMYXlvdXQgJiYgdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gaWYgaW4gYm9vayBsYXlvdXQsIGNlbnRlciB0aGUgZmlyc3Qgb3BlbmluZyBieSBkZWZhdWx0XG4gICAgICAgICAgICAgICAgbG9hZE9wdGlvbnMuaG9yaXpvbnRhbE9mZnNldCA9IHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbFBhZGRpbmc7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgYW5jaG9yZWRIb3Jpem9udGFsbHkgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGxvYWRPcHRpb25zLmhvcml6b250YWxPZmZzZXQgPSB0aGlzLmdldFhPZmZzZXQobG9hZE9wdGlvbnMuZ29EaXJlY3RseVRvLCBcImNlbnRlclwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChuZWVkc1lDb29yZClcbiAgICAgICAge1xuICAgICAgICAgICAgYW5jaG9yZWRWZXJ0aWNhbGx5ID0gdHJ1ZTtcbiAgICAgICAgICAgIGxvYWRPcHRpb25zLnZlcnRpY2FsT2Zmc2V0ID0gdGhpcy5nZXRZT2Zmc2V0KGxvYWRPcHRpb25zLmdvRGlyZWN0bHlUbywgXCJ0b3BcIik7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnJlbG9hZFZpZXdlcihsb2FkT3B0aW9ucyk7XG5cbiAgICAgICAgLy9wcmVwIGRpbWVuc2lvbnMgb25lIGxhc3QgdGltZSBub3cgdGhhdCBwYWdlcyBoYXZlIGxvYWRlZFxuICAgICAgICB0aGlzLnVwZGF0ZVBhbmVsU2l6ZSgpO1xuXG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUF1dG9UaXRsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHRpdGxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd0aXRsZScpO1xuXG4gICAgICAgICAgICBpZiAodGl0bGUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGl0bGUuaW5uZXJIVE1MID0gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5pdGVtVGl0bGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QuaW5zZXJ0QmVmb3JlKFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHRoaXMuZWxlbUF0dHJzKCd0aXRsZScpLCBbdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5pdGVtVGl0bGVdKSxcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QuZmlyc3RDaGlsZFxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICAvLyBGSVhNRTogVGhpcyBpcyBhIGhhY2sgdG8gZW5zdXJlIHRoYXQgdGhlIG91dGVyRWxlbWVudCBzY3JvbGxiYXJzIGFyZSB0YWtlbiBpbnRvIGFjY291bnRcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MudmVydGljYWxseU9yaWVudGVkKVxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbm5lckVsZW1lbnQuc3R5bGUubWluV2lkdGggPSB0aGlzLnNldHRpbmdzLnBhbmVsV2lkdGggKyAncHgnO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlubmVyRWxlbWVudC5zdHlsZS5taW5IZWlnaHQgPSB0aGlzLnNldHRpbmdzLnBhbmVsSGVpZ2h0ICsgJ3B4JztcblxuICAgICAgICAvLyBGSVhNRTogSWYgdGhlIHBhZ2Ugd2FzIHN1cHBvc2VkIHRvIGJlIHBvc2l0aW9uZWQgcmVsYXRpdmUgdG8gdGhlIHZpZXdwb3J0IHdlIG5lZWQgdG9cbiAgICAgICAgLy8gcmVjYWxjdWxhdGUgaXQgdG8gdGFrZSBpbnRvIGFjY291bnQgdGhlIHNjcm9sbGJhcnNcbiAgICAgICAgaWYgKGFuY2hvcmVkVmVydGljYWxseSB8fCBhbmNob3JlZEhvcml6b250YWxseSlcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGFuY2hvcmVkVmVydGljYWxseSlcbiAgICAgICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZlcnRpY2FsT2Zmc2V0ID0gdGhpcy5nZXRZT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4LCBcInRvcFwiKTtcblxuICAgICAgICAgICAgaWYgKGFuY2hvcmVkSG9yaXpvbnRhbGx5KVxuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaG9yaXpvbnRhbE9mZnNldCA9IHRoaXMuZ2V0WE9mZnNldCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgXCJjZW50ZXJcIik7XG5cbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ290byh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCwgdGhpcy52aWV3ZXJTdGF0ZS52ZXJ0aWNhbE9mZnNldCwgdGhpcy52aWV3ZXJTdGF0ZS5ob3Jpem9udGFsT2Zmc2V0KTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIHNpZ25hbCB0aGF0IGV2ZXJ5dGhpbmcgc2hvdWxkIGJlIHNldCB1cCBhbmQgcmVhZHkgdG8gZ28uXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUubG9hZGVkID0gdHJ1ZTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2goXCJWaWV3ZXJEaWRMb2FkXCIsIHRoaXMuc2V0dGluZ3MpO1xuICAgIH1cblxuICAgIHB1Ymxpc2ggKGV2ZW50KVxuICAgIHtcbiAgICAgICAgY29uc3QgYXJncyA9IEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgICAgIGRpdmEuRXZlbnRzLnB1Ymxpc2goZXZlbnQsIGFyZ3MsIHRoaXMucHVibGljSW5zdGFuY2UpO1xuICAgIH1cblxuICAgIGdldFNldHRpbmdzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncztcbiAgICB9XG5cbiAgICAvLyBUZW1wb3JhcnkgYWNjZXNzb3IgZm9yIHRoZSBzdGF0ZSBvZiB0aGUgdmlld2VyIGNvcmVcbiAgICAvLyBUT0RPOiBSZXBsYWNlIHRoaXMgd2l0aCBhIG1vcmUgcmVzdHJpY3RlZCB2aWV3IG9mIHdoYXRldmVyIG5lZWRzXG4gICAgLy8gYmUgZXhwb3NlZCB0aHJvdWdoIHNldHRpbmdzIGZvciBiYWNrd2FyZHMgY29tcGF0XG4gICAgZ2V0SW50ZXJuYWxTdGF0ZSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGU7XG4gICAgfVxuXG4gICAgZ2V0UHVibGljSW5zdGFuY2UgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnB1YmxpY0luc3RhbmNlO1xuICAgIH1cblxuICAgIGdldFBhZ2VUb29scyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUucGFnZVRvb2xzO1xuICAgIH1cblxuICAgIGdldEN1cnJlbnRMYXlvdXQgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyID8gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5sYXlvdXQgOiBudWxsO1xuICAgIH1cblxuICAgIC8qKiBHZXQgYSBjb3B5IG9mIHRoZSBjdXJyZW50IHZpZXdwb3J0IGRpbWVuc2lvbnMgKi9cbiAgICBnZXRWaWV3cG9ydCAoKVxuICAgIHtcbiAgICAgICAgY29uc3Qgdmlld3BvcnQgPSB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0O1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0b3A6IHZpZXdwb3J0LnRvcCxcbiAgICAgICAgICAgIGxlZnQ6IHZpZXdwb3J0LmxlZnQsXG4gICAgICAgICAgICBib3R0b206IHZpZXdwb3J0LmJvdHRvbSxcbiAgICAgICAgICAgIHJpZ2h0OiB2aWV3cG9ydC5yaWdodCxcblxuICAgICAgICAgICAgd2lkdGg6IHZpZXdwb3J0LndpZHRoLFxuICAgICAgICAgICAgaGVpZ2h0OiB2aWV3cG9ydC5oZWlnaHRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBhZGRQYWdlT3ZlcmxheSAob3ZlcmxheSlcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucGFnZU92ZXJsYXlzLmFkZE92ZXJsYXkob3ZlcmxheSk7XG4gICAgfVxuXG4gICAgcmVtb3ZlUGFnZU92ZXJsYXkgKG92ZXJsYXkpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnBhZ2VPdmVybGF5cy5yZW1vdmVPdmVybGF5KG92ZXJsYXkpO1xuICAgIH1cblxuICAgIGdldFBhZ2VSZWdpb24gKHBhZ2VJbmRleCwgb3B0aW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IGxheW91dCA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0O1xuICAgICAgICBjb25zdCByZWdpb24gPSBsYXlvdXQuZ2V0UGFnZVJlZ2lvbihwYWdlSW5kZXgsIG9wdGlvbnMpO1xuXG4gICAgICAgIGlmIChvcHRpb25zICYmIG9wdGlvbnMuaW5jb3Jwb3JhdGVWaWV3cG9ydClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3Qgc2Vjb25kYXJ5RGltID0gdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQgPyAnd2lkdGgnIDogJ2hlaWdodCc7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0W3NlY29uZGFyeURpbV0gPiBsYXlvdXQuZGltZW5zaW9uc1tzZWNvbmRhcnlEaW1dKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRvY09mZnNldCA9ICh0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0W3NlY29uZGFyeURpbV0gLSBsYXlvdXQuZGltZW5zaW9uc1tzZWNvbmRhcnlEaW1dKSAvIDI7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiByZWdpb24udG9wLFxuICAgICAgICAgICAgICAgICAgICAgICAgYm90dG9tOiByZWdpb24uYm90dG9tLFxuXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiByZWdpb24ubGVmdCArIGRvY09mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJpZ2h0OiByZWdpb24ucmlnaHQgKyBkb2NPZmZzZXRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogcmVnaW9uLnRvcCArIGRvY09mZnNldCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGJvdHRvbTogcmVnaW9uLmJvdHRvbSArIGRvY09mZnNldCxcblxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnQsXG4gICAgICAgICAgICAgICAgICAgICAgICByaWdodDogcmVnaW9uLnJpZ2h0XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlZ2lvbjtcbiAgICB9XG5cbiAgICBnZXRQYWdlUG9zaXRpb25BdFZpZXdwb3J0T2Zmc2V0IChjb29yZHMpXG4gICAge1xuICAgICAgICBjb25zdCBkb2NDb29yZHMgPSB7XG4gICAgICAgICAgICBsZWZ0OiBjb29yZHMubGVmdCArIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQubGVmdCxcbiAgICAgICAgICAgIHRvcDogY29vcmRzLnRvcCArIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQudG9wXG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgcmVuZGVyZWRQYWdlcyA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIuZ2V0UmVuZGVyZWRQYWdlcygpO1xuICAgICAgICBjb25zdCBwYWdlQ291bnQgPSByZW5kZXJlZFBhZ2VzLmxlbmd0aDtcblxuICAgICAgICAvLyBGaW5kIHRoZSBwYWdlIG9uIHdoaWNoIHRoZSBjb29yZHMgb2NjdXJcbiAgICAgICAgZm9yIChsZXQgaT0wOyBpIDwgcGFnZUNvdW50OyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBhZ2VJbmRleCA9IHJlbmRlcmVkUGFnZXNbaV07XG4gICAgICAgICAgICBjb25zdCByZWdpb24gPSB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmxheW91dC5nZXRQYWdlUmVnaW9uKHBhZ2VJbmRleCk7XG5cbiAgICAgICAgICAgIGlmIChyZWdpb24ubGVmdCA8PSBkb2NDb29yZHMubGVmdCAmJiByZWdpb24ucmlnaHQgPj0gZG9jQ29vcmRzLmxlZnQgJiZcbiAgICAgICAgICAgICAgICByZWdpb24udG9wIDw9IGRvY0Nvb3Jkcy50b3AgJiYgcmVnaW9uLmJvdHRvbSA+PSBkb2NDb29yZHMudG9wKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGFuY2hvclBhZ2U6IHBhZ2VJbmRleCxcbiAgICAgICAgICAgICAgICAgICAgb2Zmc2V0OiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBkb2NDb29yZHMubGVmdCAtIHJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiBkb2NDb29yZHMudG9wIC0gcmVnaW9uLnRvcFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIC8vIEZhbGwgYmFjayB0byBjdXJyZW50IHBhZ2VcbiAgICAgICAgLy8gRklYTUU6IFdvdWxkIGJlIGJldHRlciB0byB1c2UgdGhlIGNsb3Nlc3QgcGFnZSBvciBzb21ldGhpbmdcbiAgICAgICAgY29uc3QgY3VycmVudFJlZ2lvbiA9IHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIubGF5b3V0LmdldFBhZ2VSZWdpb24odGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbmNob3JQYWdlOiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCxcbiAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgIGxlZnQ6IGRvY0Nvb3Jkcy5sZWZ0IC0gY3VycmVudFJlZ2lvbi5sZWZ0LFxuICAgICAgICAgICAgICAgIHRvcDogZG9jQ29vcmRzLnRvcCAtIGN1cnJlbnRSZWdpb24udG9wXG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLy8gc2V0TWFuaWZlc3QgKG1hbmlmZXN0LCBsb2FkT3B0aW9ucylcbiAgICAvLyB7XG4gICAgLy8gICAgIHNldE1hbmlmZXN0KG1hbmlmZXN0LCBsb2FkT3B0aW9ucyB8fCB7fSk7XG4gICAgLy8gfVxuXG4gICAgLyoqXG4gICAgICogU2V0IHRoZSBjdXJyZW50IHBhZ2UgdG8gdGhlIGdpdmVuIGluZGV4LCBmaXJpbmcgVmlzaWJsZVBhZ2VEaWRDaGFuZ2VcbiAgICAgKlxuICAgICAqIEBwYXJhbSBwYWdlSW5kZXhcbiAgICAgKi9cbiAgICBzZXRDdXJyZW50UGFnZXMgKGFjdGl2ZVBhZ2UsIHZpc2libGVQYWdlcylcbiAgICB7XG4gICAgICAgIGlmICghYXJyYXlzRXF1YWwodGhpcy52aWV3ZXJTdGF0ZS5jdXJyZW50UGFnZUluZGljZXMsIHZpc2libGVQYWdlcykpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuY3VycmVudFBhZ2VJbmRpY2VzID0gdmlzaWJsZVBhZ2VzO1xuICAgICAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUuYWN0aXZlUGFnZUluZGV4ICE9PSBhY3RpdmVQYWdlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuYWN0aXZlUGFnZUluZGV4ID0gYWN0aXZlUGFnZTtcbiAgICAgICAgICAgICAgICB0aGlzLnB1Ymxpc2goXCJBY3RpdmVQYWdlRGlkQ2hhbmdlXCIsIGFjdGl2ZVBhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5wdWJsaXNoKFwiVmlzaWJsZVBhZ2VEaWRDaGFuZ2VcIiwgdmlzaWJsZVBhZ2VzKTtcblxuICAgICAgICAgICAgLy8gUHVibGlzaCBhbiBldmVudCBpZiB0aGUgcGFnZSB3ZSdyZSBzd2l0Y2hpbmcgdG8gaGFzIG90aGVyIGltYWdlcy5cbiAgICAgICAgICAgIGlmICh0aGlzLnZpZXdlclN0YXRlLm1hbmlmZXN0LnBhZ2VzW2FjdGl2ZVBhZ2VdLm90aGVySW1hZ2VzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICAgICAgdGhpcy5wdWJsaXNoKCdWaXNpYmxlUGFnZUhhc0FsdGVybmF0ZVZpZXdzJywgYWN0aXZlUGFnZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy52aWV3ZXJTdGF0ZS5hY3RpdmVQYWdlSW5kZXggIT09IGFjdGl2ZVBhZ2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuYWN0aXZlUGFnZUluZGV4ID0gYWN0aXZlUGFnZTtcbiAgICAgICAgICAgIHRoaXMucHVibGlzaChcIkFjdGl2ZVBhZ2VEaWRDaGFuZ2VcIiwgYWN0aXZlUGFnZSk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBhcnJheXNFcXVhbCAoYSwgYilcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGEubGVuZ3RoICE9PSBiLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBhLmxlbmd0aDsgaSA8IGxlbjsgaSsrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmIChhW2ldICE9PSBiW2ldKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFBhZ2VOYW1lIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5tYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdLmY7XG4gICAgfVxuXG4gICAgcmVsb2FkIChuZXdPcHRpb25zKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZWxvYWRWaWV3ZXIobmV3T3B0aW9ucyk7XG4gICAgfVxuXG4gICAgem9vbSAoem9vbUxldmVsLCBmb2NhbFBvaW50KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlWm9vbSh6b29tTGV2ZWwsIGZvY2FsUG9pbnQpO1xuICAgIH1cblxuICAgIGVuYWJsZVNjcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy52aWV3ZXJTdGF0ZS5pc1Njcm9sbGFibGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYmluZE1vdXNlRXZlbnRzKCk7XG4gICAgICAgICAgICB0aGlzLmVuYWJsZURyYWdTY3JvbGxhYmxlKCk7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZW5hYmxlS2V5U2Nyb2xsID0gdGhpcy52aWV3ZXJTdGF0ZS5pbml0aWFsS2V5U2Nyb2xsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vcHRpb25zLmVuYWJsZVNwYWNlU2Nyb2xsID0gdGhpcy52aWV3ZXJTdGF0ZS5pbml0aWFsU3BhY2VTY3JvbGw7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdhdXRvJztcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGVuYWJsZURyYWdTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy52aWV3ZXJTdGF0ZS52aWV3cG9ydE9iamVjdC5oYXNBdHRyaWJ1dGUoJ25vY2hpbGRkcmFnJykpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0LnJlbW92ZUF0dHJpYnV0ZSgnbm9jaGlsZGRyYWcnKTtcbiAgICB9XG5cbiAgICBkaXNhYmxlU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUuaXNTY3JvbGxhYmxlKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBibG9jayBkcmFnZ2luZ1xuICAgICAgICAgICAgdGhpcy5kaXNhYmxlRHJhZ1Njcm9sbGFibGUoKTtcblxuICAgICAgICAgICAgLy8gYmxvY2sgZG91YmxlLWNsaWNrIHpvb21pbmdcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUub3V0ZXJPYmplY3QuZGJsY2xpY2sgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5vdXRlck9iamVjdC5jb250ZXh0bWVudSA9IG51bGw7XG5cbiAgICAgICAgICAgIC8vIGRpc2FibGUgYWxsIG90aGVyIHNjcm9sbGluZyBhY3Rpb25zXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0RWxlbWVudC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXG4gICAgICAgICAgICAvLyBibG9jayBzY3JvbGxpbmcga2V5cyBiZWhhdmlvciwgcmVzcGVjdGluZyBpbml0aWFsIHNjcm9sbCBzZXR0aW5nc1xuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pbml0aWFsS2V5U2Nyb2xsID0gdGhpcy5zZXR0aW5ncy5lbmFibGVLZXlTY3JvbGw7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmluaXRpYWxTcGFjZVNjcm9sbCA9IHRoaXMuc2V0dGluZ3MuZW5hYmxlU3BhY2VTY3JvbGw7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZW5hYmxlS2V5U2Nyb2xsID0gZmFsc2U7XG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMuZW5hYmxlU3BhY2VTY3JvbGwgPSBmYWxzZTtcblxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5pc1Njcm9sbGFibGUgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGRpc2FibGVEcmFnU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLnZpZXdwb3J0T2JqZWN0Lmhhc0F0dHJpYnV0ZSgnbm9jaGlsZGRyYWcnKSlcbiAgICAgICAgICAgIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnRPYmplY3Quc2V0QXR0cmlidXRlKCdub2NoaWxkZHJhZycsIFwiXCIpO1xuICAgIH1cblxuICAgIC8vIGlzVmFsaWRPcHRpb24gKGtleSwgdmFsdWUpXG4gICAgLy8ge1xuICAgIC8vICAgICByZXR1cm4gaXNWYWxpZE9wdGlvbihrZXksIHZhbHVlKTtcbiAgICAvLyB9XG5cbiAgICAvLyBnZXRYT2Zmc2V0IChwYWdlSW5kZXgsIHhBbmNob3IpXG4gICAgLy8ge1xuICAgIC8vICAgICByZXR1cm4gZ2V0WE9mZnNldChwYWdlSW5kZXgsIHhBbmNob3IpO1xuICAgIC8vIH1cblxuICAgIC8vIGdldFlPZmZzZXQgKHBhZ2VJbmRleCwgeUFuY2hvcilcbiAgICAvLyB7XG4gICAgLy8gICAgIHJldHVybiBnZXRZT2Zmc2V0KHBhZ2VJbmRleCwgeUFuY2hvcik7XG4gICAgLy8gfVxuXG4gICAgLy8gdGhpcy5wdWJsaXNoID0gcHVibGlzaDtcblxuICAgIGNsZWFyICgpXG4gICAge1xuICAgICAgICB0aGlzLmNsZWFyVmlld2VyKCk7XG4gICAgfVxuXG4gICAgc2V0UGVuZGluZ01hbmlmZXN0UmVxdWVzdCAocGVuZGluZ01hbmlmZXN0UmVxdWVzdClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUucGVuZGluZ01hbmlmZXN0UmVxdWVzdCA9IHBlbmRpbmdNYW5pZmVzdFJlcXVlc3Q7XG4gICAgfVxuXG4gICAgZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgLy8gVXNlZnVsIGV2ZW50IHRvIGFjY2VzcyBlbGVtZW50cyBpbiBkaXZhIGJlZm9yZSB0aGV5IGdldCBkZXN0cm95ZWQuIFVzZWQgYnkgdGhlIGhpZ2hsaWdodCBwbHVnaW4uXG4gICAgICAgIHRoaXMucHVibGlzaCgnVmlld2VyV2lsbFRlcm1pbmF0ZScsIHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIENhbmNlbCBhbnkgcGVuZGluZyByZXF1ZXN0IHJldHJpZXZpbmcgYSBtYW5pZmVzdFxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5wZW5kaW5nTWFuaWZlc3RSZXF1ZXN0KVxuICAgICAgICAgICAgdGhpcy5zZXR0aW5ncy5wZW5kaW5nTWFuaWZlc3RSZXF1ZXN0LmFib3J0KCk7XG5cbiAgICAgICAgLy8gUmVtb3ZlcyB0aGUgaGlkZS1zY3JvbGxiYXIgY2xhc3MgZnJvbSB0aGUgYm9keVxuICAgICAgICBkb2N1bWVudC5ib2R5LnJlbW92ZUNsYXNzKCdkaXZhLWhpZGUtc2Nyb2xsYmFyJyk7XG5cbiAgICAgICAgLy8gRW1wdHkgdGhlIHBhcmVudCBjb250YWluZXIgYW5kIHJlbW92ZSBhbnkgZGl2YS1yZWxhdGVkIGRhdGFcbiAgICAgICAgdGhpcy5zZXR0aW5ncy5wYXJlbnRPYmplY3QucGFyZW50KCkuZW1wdHkoKS5yZW1vdmVEYXRhKCdkaXZhJyk7XG5cbiAgICAgICAgLy8gUmVtb3ZlIGFueSBhZGRpdGlvbmFsIHN0eWxpbmcgb24gdGhlIHBhcmVudCBlbGVtZW50XG4gICAgICAgIHRoaXMuc2V0dGluZ3MucGFyZW50T2JqZWN0LnBhcmVudCgpLnJlbW92ZUF0dHIoJ3N0eWxlJykucmVtb3ZlQXR0cignY2xhc3MnKTtcblxuICAgICAgICB0aGlzLnB1Ymxpc2goJ1ZpZXdlckRpZFRlcm1pbmF0ZScsIHRoaXMuc2V0dGluZ3MpO1xuXG4gICAgICAgIC8vIENsZWFyIHRoZSBFdmVudHMgY2FjaGVcbiAgICAgICAgZGl2YS5FdmVudHMudW5zdWJzY3JpYmVBbGwodGhpcy5zZXR0aW5ncy5JRCk7XG4gICAgfVxufVxuIiwiLy8gRnJvbSBodHRwOi8vd3d3LmFsZXhhbmRyZS1nb21lcy5jb20vP3A9MTE1LCBtb2RpZmllZCBzbGlnaHRseVxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gZ2V0U2Nyb2xsYmFyV2lkdGgoKVxue1xuICAgIGxldCBpbm5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ3AnKTtcbiAgICBpbm5lci5zdHlsZS53aWR0aCA9ICcxMDAlJztcbiAgICBpbm5lci5zdHlsZS5oZWlnaHQgPSAnMjAwcHgnO1xuXG4gICAgbGV0IG91dGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgb3V0ZXIuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgIG91dGVyLnN0eWxlLnRvcCA9ICcwcHgnO1xuICAgIG91dGVyLnN0eWxlLmxlZnQgPSAnMHB4JztcbiAgICBvdXRlci5zdHlsZS52aXNpYmlsaXR5ID0gJ2hpZGRlbic7XG4gICAgb3V0ZXIuc3R5bGUud2lkdGggPSAnMjAwcHgnO1xuICAgIG91dGVyLnN0eWxlLmhlaWdodCA9ICcxNTBweCc7XG4gICAgb3V0ZXIuc3R5bGUub3ZlcmZsb3cgPSAnaGlkZGVuJztcbiAgICBvdXRlci5hcHBlbmRDaGlsZChpbm5lcik7XG5cbiAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKG91dGVyKTtcblxuICAgIGxldCB3MSA9IGlubmVyLm9mZnNldFdpZHRoO1xuICAgIG91dGVyLnN0eWxlLm92ZXJmbG93ID0gJ3Njcm9sbCc7XG4gICAgbGV0IHcyID0gaW5uZXIub2Zmc2V0V2lkdGg7XG4gICAgaWYgKHcxID09PSB3Mikge1xuICAgICAgICB3MiA9IG91dGVyLmNsaWVudFdpZHRoOyAvLyBmb3IgSUUgaSB0aGlua1xuICAgIH1cblxuICAgIGRvY3VtZW50LmJvZHkucmVtb3ZlQ2hpbGQob3V0ZXIpO1xuICAgIHJldHVybiB3MSAtIHcyO1xufVxuIiwiLyoqXG4gKiBQYXJzZXMgYSB2MyBtYW5pZmVzdCdzIGxhYmVsL3ZhbHVlIHBhaXIgZnJvbSBhbiBvYmplY3QgJiBhcnJheSB0byBhIHN0cmluZ1xuICpcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbXMge3N0cmluZ30ga2V5IC0gVGhlIGtleSBmcm9tIHdoaWNoIGEgbGFiZWwvdmFsdWUgcGFpciBzaG91bGQgYmUgZXh0cmFjdGVkLlxuICogQHJldHVybnMge29iamVjdH0gLSBUaGUgbGFiZWwvdmFsdWUgcGFpciBhcyBzdHJpbmdzLlxuICogKi9cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VMYWJlbFZhbHVlIChrZXkpXG57XG4gICAgbGV0IGwgPSBrZXkubGFiZWw7IFxuICAgIGxldCBsYWJlbCA9ICh0eXBlb2YgbCA9PT0gJ29iamVjdCcpID8gbFtPYmplY3Qua2V5cyhsKVswXV1bMF0gOiBsO1xuXG4gICAgbGV0IHYgPSBrZXkudmFsdWU7XG4gICAgbGV0IHZhbHVlO1xuICAgIGlmIChBcnJheS5pc0FycmF5KHYpKVxuICAgIHsgLy8gaXMgYXJyYXkgb2Ygb2JqZWN0c1xuICAgICAgICB2YWx1ZSA9IHYubWFwKGUgPT4gZVtPYmplY3Qua2V5cyhlKVswXV0pO1xuICAgIH1cbiAgICBlbHNlXG4gICAgeyAvLyBpcyBvYmplY3Qgd2hlcmUgdmFsdWUgaXMgcG9zc2libHkgYW4gYXJyYXlcbiAgICAgICAgdmFsdWUgPSAodHlwZW9mIHYgPT09ICdvYmplY3QnKSA/IHZbT2JqZWN0LmtleXModilbMF1dIDogdjtcbiAgICB9XG5cbiAgICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpXG4gICAge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlLmpvaW4oJywgJyk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHtcbiAgICAgICAgbGFiZWw6IGxhYmVsLFxuICAgICAgICB2YWx1ZTogdmFsdWVcbiAgICB9O1xufSIsImltcG9ydCBwYXJzZUxhYmVsVmFsdWUgZnJvbSAnLi91dGlscy9wYXJzZS1sYWJlbC12YWx1ZSc7XG5cbmNvbnN0IGdldE1heFpvb21MZXZlbCA9ICh3aWR0aCwgaGVpZ2h0KSA9Plxue1xuICAgIGNvbnN0IGxhcmdlc3REaW1lbnNpb24gPSBNYXRoLm1heCh3aWR0aCwgaGVpZ2h0KTtcbiAgICBpZiAobGFyZ2VzdERpbWVuc2lvbiA8IDEyOCkgXG4gICAgICAgIHJldHVybiAwO1xuICAgIHJldHVybiBNYXRoLmNlaWwoTWF0aC5sb2coKGxhcmdlc3REaW1lbnNpb24gKyAxKSAvICgyNTYgKyAxKSkgLyBNYXRoLmxvZygyKSk7XG59O1xuXG5jb25zdCBpbmNvcnBvcmF0ZVpvb20gPSAoaW1hZ2VEaW1lbnNpb24sIHpvb21EaWZmZXJlbmNlKSA9PiBpbWFnZURpbWVuc2lvbiAvIChNYXRoLnBvdygyLCB6b29tRGlmZmVyZW5jZSkpO1xuXG5jb25zdCBnZXRPdGhlckltYWdlRGF0YSA9IChvdGhlckltYWdlcywgbG93ZXN0TWF4Wm9vbSkgPT5cbntcbiAgICByZXR1cm4gb3RoZXJJbWFnZXMubWFwKCAoaXRtKSA9PlxuICAgIHtcbiAgICAgICAgY29uc3QgdyA9IGl0bS53aWR0aDtcbiAgICAgICAgY29uc3QgaCA9IGl0bS5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IGluZm8gPSBwYXJzZUltYWdlSW5mbyhpdG0pO1xuICAgICAgICBjb25zdCB1cmwgPSBpbmZvLnVybC5zbGljZSgtMSkgIT09ICcvJyA/IGluZm8udXJsICsgJy8nIDogaW5mby51cmw7ICAvLyBhcHBlbmQgdHJhaWxpbmcgc2xhc2ggdG8gdXJsIGlmIGl0J3Mgbm90IHRoZXJlLlxuXG4gICAgICAgIGNvbnN0IGRpbXMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGxvd2VzdE1heFpvb20gKyAxOyBqKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGRpbXNbal0gPSB7XG4gICAgICAgICAgICAgICAgaDogTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20oaCwgbG93ZXN0TWF4Wm9vbSAtIGopKSxcbiAgICAgICAgICAgICAgICB3OiBNYXRoLmZsb29yKGluY29ycG9yYXRlWm9vbSh3LCBsb3dlc3RNYXhab29tIC0gaikpXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGY6IGluZm8udXJsLFxuICAgICAgICAgICAgdXJsOiB1cmwsXG4gICAgICAgICAgICBpbDogaXRtLmxhYmVsIHx8IFwiXCIsXG4gICAgICAgICAgICBkOiBkaW1zXG4gICAgICAgIH07XG4gICAgfSk7XG59O1xuXG5jb25zdCBnZXRJSUlGUHJlc2VudGF0aW9uVmVyc2lvbiA9IChjb250ZXh0KSA9Plxue1xuICAgIGlmIChjb250ZXh0ID09PSBcImh0dHA6Ly9paWlmLmlvL2FwaS9wcmVzZW50YXRpb24vMi9jb250ZXh0Lmpzb25cIilcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb250ZXh0KSAmJiBjb250ZXh0LmluY2x1ZGVzKFwiaHR0cDovL2lpaWYuaW8vYXBpL3ByZXNlbnRhdGlvbi8yL2NvbnRleHQuanNvblwiKSlcbiAgICAgICAgcmV0dXJuIDI7XG4gICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShjb250ZXh0KSAmJiBjb250ZXh0LmluY2x1ZGVzKFwiaHR0cDovL2lpaWYuaW8vYXBpL3ByZXNlbnRhdGlvbi8zL2NvbnRleHQuanNvblwiKSlcbiAgICAgICAgcmV0dXJuIDM7XG4gICAgZWxzZVxuICAgICAgICByZXR1cm4gMjsgLy8gQXNzdW1lIGEgdjIgbWFuaWZlc3QuXG59O1xuXG4vKipcbiAqIFBhcnNlcyBhbiBJSUlGIFByZXNlbnRhdGlvbiBBUEkgTWFuaWZlc3QgYW5kIGNvbnZlcnRzIGl0IGludG8gYSBEaXZhLmpzLWZvcm1hdCBvYmplY3RcbiAqIChTZWUgaHR0cHM6Ly9naXRodWIuY29tL0RETUFML2RpdmEuanMvd2lraS9EZXZlbG9wbWVudC1ub3RlcyNkYXRhLXJlY2VpdmVkLXRocm91Z2gtYWpheC1yZXF1ZXN0KVxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSBtYW5pZmVzdCAtIGFuIG9iamVjdCB0aGF0IHJlcHJlc2VudHMgYSB2YWxpZCBJSUlGIG1hbmlmZXN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBkaXZhU2VydmljZUJsb2NrIC0gdGhlIGRhdGEgbmVlZGVkIGJ5IERpdmEgdG8gc2hvdyBhIHZpZXcgb2YgYSBzaW5nbGUgZG9jdW1lbnRcbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gcGFyc2VJSUlGTWFuaWZlc3QgKG1hbmlmZXN0KVxue1xuICAgIGxldCBjdHggPSBtYW5pZmVzdFtcIkBjb250ZXh0XCJdO1xuXG4gICAgaWYgKCFjdHgpXG4gICAge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiSW52YWxpZCBJSUlGIE1hbmlmZXN0OyBObyBAY29udGV4dCBmb3VuZC5cIik7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cblxuICAgIGNvbnN0IHZlcnNpb24gPSBnZXRJSUlGUHJlc2VudGF0aW9uVmVyc2lvbihjdHgpO1xuICAgIGNvbnN0IHNlcXVlbmNlID0gbWFuaWZlc3Quc2VxdWVuY2VzID8gbWFuaWZlc3Quc2VxdWVuY2VzWzBdIDogbnVsbDtcbiAgICBjb25zdCBjYW52YXNlcyA9IHNlcXVlbmNlID8gc2VxdWVuY2UuY2FudmFzZXMgOiBtYW5pZmVzdC5pdGVtcztcbiAgICBjb25zdCBudW1DYW52YXNlcyA9IGNhbnZhc2VzLmxlbmd0aDtcblxuICAgIGNvbnN0IHBhZ2VzID0gbmV3IEFycmF5KGNhbnZhc2VzLmxlbmd0aCk7XG5cbiAgICBsZXQgdGhpc0NhbnZhcywgXG4gICAgICAgIHRoaXNSZXNvdXJjZSwgXG4gICAgICAgIHRoaXNJbWFnZSxcbiAgICAgICAgc2Vjb25kYXJ5SW1hZ2VzLFxuICAgICAgICBvdGhlckltYWdlcyA9IFtdLFxuICAgICAgICBjb250ZXh0LCBcbiAgICAgICAgdXJsLCBcbiAgICAgICAgaW5mbywgXG4gICAgICAgIGltYWdlQVBJVmVyc2lvbiwgXG4gICAgICAgIHdpZHRoLCBcbiAgICAgICAgaGVpZ2h0LCBcbiAgICAgICAgbWF4Wm9vbSwgXG4gICAgICAgIGNhbnZhcywgXG4gICAgICAgIGxhYmVsLCBcbiAgICAgICAgaW1hZ2VMYWJlbCwgXG4gICAgICAgIHpvb21EaW1lbnNpb25zLCBcbiAgICAgICAgd2lkdGhBdEN1cnJlbnRab29tTGV2ZWwsIFxuICAgICAgICBoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWw7XG5cbiAgICBsZXQgbG93ZXN0TWF4Wm9vbSA9IDEwMDtcbiAgICBsZXQgbWF4UmF0aW8gPSAwO1xuICAgIGxldCBtaW5SYXRpbyA9IDEwMDtcblxuICAgIC8vIHF1aWNrbHkgZGV0ZXJtaW5lIHRoZSBsb3dlc3QgcG9zc2libGUgbWF4IHpvb20gbGV2ZWwgKGkuZS4sIHRoZSB1cHBlciBib3VuZCBmb3IgaW1hZ2VzKSBhY3Jvc3MgYWxsIGNhbnZhc2VzLlxuICAgIC8vIHdoaWxlIHdlJ3JlIGhlcmUsIGNvbXB1dGUgdGhlIGdsb2JhbCByYXRpb3MgYXMgd2VsbC5cbiAgICBmb3IgKGxldCB6ID0gMDsgeiA8IG51bUNhbnZhc2VzOyB6KyspXG4gICAge1xuICAgICAgICBjb25zdCBjID0gY2FudmFzZXNbel07XG4gICAgICAgIGNvbnN0IHcgPSBjLndpZHRoO1xuICAgICAgICBjb25zdCBoID0gYy5oZWlnaHQ7XG4gICAgICAgIGNvbnN0IG16ID0gZ2V0TWF4Wm9vbUxldmVsKHcsIGgpO1xuICAgICAgICBjb25zdCByYXRpbyA9IGggLyB3O1xuICAgICAgICBtYXhSYXRpbyA9IE1hdGgubWF4KHJhdGlvLCBtYXhSYXRpbyk7XG4gICAgICAgIG1pblJhdGlvID0gTWF0aC5taW4ocmF0aW8sIG1pblJhdGlvKTtcblxuICAgICAgICBsb3dlc3RNYXhab29tID0gTWF0aC5taW4obG93ZXN0TWF4Wm9vbSwgbXopO1xuICAgIH1cblxuICAgIC8qXG4gICAgICAgIFRoZXNlIGFycmF5cyBuZWVkIHRvIGJlIHByZS1pbml0aWFsaXplZCBzaW5jZSB3ZSB3aWxsIGRvIGFyaXRobWV0aWMgYW5kIHZhbHVlIGNoZWNraW5nIG9uIHRoZW1cbiAgICAqL1xuICAgIGNvbnN0IHRvdGFsV2lkdGhzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKS5maWxsKDApO1xuICAgIGNvbnN0IHRvdGFsSGVpZ2h0cyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSkuZmlsbCgwKTtcbiAgICBjb25zdCBtYXhXaWR0aHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpLmZpbGwoMCk7XG4gICAgY29uc3QgbWF4SGVpZ2h0cyA9IG5ldyBBcnJheShsb3dlc3RNYXhab29tICsgMSkuZmlsbCgwKTtcblxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbnVtQ2FudmFzZXM7IGkrKylcbiAgICB7XG4gICAgICAgIHRoaXNDYW52YXMgPSBjYW52YXNlc1tpXTtcbiAgICAgICAgY2FudmFzID0gdGhpc0NhbnZhc1snQGlkJ10gfHwgdGhpc0NhbnZhcy5pZDtcbiAgICAgICAgbGFiZWwgPSB0aGlzQ2FudmFzLmxhYmVsO1xuICAgICAgICB0aGlzUmVzb3VyY2UgPSB0aGlzQ2FudmFzLmltYWdlcyA/IHRoaXNDYW52YXMuaW1hZ2VzWzBdLnJlc291cmNlIDogdGhpc0NhbnZhcy5pdGVtc1swXS5pdGVtc1swXS5ib2R5O1xuXG4gICAgICAgIC8qXG4gICAgICAgICAqIElmIGEgY2FudmFzIGhhcyBtdWx0aXBsZSBpbWFnZXMgaXQgd2lsbCBiZSBlbmNvZGVkXG4gICAgICAgICAqIHdpdGggYSByZXNvdXJjZSB0eXBlIG9mIFwib2E6Q2hvaWNlXCIgKHYyKSBvciBcIkNob2ljZVwiICh2MykuXG4gICAgICAgICAqKi9cbiAgICAgICAgb3RoZXJJbWFnZXMgPSBbXTsgLy8gcmVzZXQgYXJyYXlcbiAgICAgICAgaWYgKHRoaXNSZXNvdXJjZVsnQHR5cGUnXSA9PT0gXCJvYTpDaG9pY2VcIiB8fCB0aGlzUmVzb3VyY2UudHlwZSA9PT0gXCJDaG9pY2VcIilcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpc0ltYWdlID0gdGhpc1Jlc291cmNlLmRlZmF1bHQgfHwgdGhpc1Jlc291cmNlLml0ZW1zWzBdO1xuICAgICAgICAgICAgc2Vjb25kYXJ5SW1hZ2VzID0gdGhpc1Jlc291cmNlLml0ZW0gfHwgdGhpc1Jlc291cmNlLml0ZW1zLnNsaWNlKDEpO1xuICAgICAgICAgICAgb3RoZXJJbWFnZXMgPSBnZXRPdGhlckltYWdlRGF0YShzZWNvbmRhcnlJbWFnZXMsIGxvd2VzdE1heFpvb20pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpc0ltYWdlID0gdGhpc1Jlc291cmNlO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJpb3JpdGl6ZSB0aGUgY2FudmFzIGhlaWdodCAvIHdpZHRoIGZpcnN0LCBzaW5jZSBpbWFnZXMgbWF5IG5vdCBoYXZlIGgvd1xuICAgICAgICB3aWR0aCA9IHRoaXNDYW52YXMud2lkdGggfHwgdGhpc0ltYWdlLndpZHRoO1xuICAgICAgICBoZWlnaHQgPSB0aGlzQ2FudmFzLmhlaWdodCB8fCB0aGlzSW1hZ2UuaGVpZ2h0O1xuXG4gICAgICAgIGlmICh3aWR0aCA8PSAwIHx8IGhlaWdodCA8PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oJ0ludmFsaWQgd2lkdGggb3IgaGVpZ2h0IGZvciBjYW52YXMgJyArIGxhYmVsICsgJy4gU2tpcHBpbmcnKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgbWF4Wm9vbSA9IGdldE1heFpvb21MZXZlbCh3aWR0aCwgaGVpZ2h0KTtcblxuICAgICAgICBpbWFnZUxhYmVsID0gdGhpc0ltYWdlLmxhYmVsIHx8IG51bGw7XG5cbiAgICAgICAgaW5mbyA9IHBhcnNlSW1hZ2VJbmZvKHRoaXNJbWFnZSk7XG4gICAgICAgIHVybCA9IGluZm8udXJsLnNsaWNlKC0xKSAhPT0gJy8nID8gaW5mby51cmwgKyAnLycgOiBpbmZvLnVybDsgIC8vIGFwcGVuZCB0cmFpbGluZyBzbGFzaCB0byB1cmwgaWYgaXQncyBub3QgdGhlcmUuXG5cbiAgICAgICAgY29udGV4dCA9IHRoaXNJbWFnZS5zZXJ2aWNlWydAY29udGV4dCddIHx8IHRoaXNJbWFnZS5zZXJ2aWNlLnR5cGU7XG5cbiAgICAgICAgaWYgKGNvbnRleHQgPT09ICdodHRwOi8vaWlpZi5pby9hcGkvaW1hZ2UvMi9jb250ZXh0Lmpzb24nIHx8IGNvbnRleHQgPT09IFwiSW1hZ2VTZXJ2aWNlMlwiKVxuICAgICAgICB7XG4gICAgICAgICAgICBpbWFnZUFQSVZlcnNpb24gPSAyO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGNvbnRleHQgPT09ICdodHRwOi8vbGlicmFyeS5zdGFuZm9yZC5lZHUvaWlpZi9pbWFnZS1hcGkvMS4xL2NvbnRleHQuanNvbicpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGltYWdlQVBJVmVyc2lvbiA9IDEuMTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGltYWdlQVBJVmVyc2lvbiA9IDEuMDtcbiAgICAgICAgfVxuXG4gICAgICAgIHpvb21EaW1lbnNpb25zID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcblxuICAgICAgICBmb3IgKGxldCBrID0gMDsgayA8IGxvd2VzdE1heFpvb20gKyAxOyBrKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsID0gTWF0aC5mbG9vcihpbmNvcnBvcmF0ZVpvb20od2lkdGgsIGxvd2VzdE1heFpvb20gLSBrKSk7XG4gICAgICAgICAgICBoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWwgPSBNYXRoLmZsb29yKGluY29ycG9yYXRlWm9vbShoZWlnaHQsIGxvd2VzdE1heFpvb20gLSBrKSk7XG4gICAgICAgICAgICB6b29tRGltZW5zaW9uc1trXSA9IHtcbiAgICAgICAgICAgICAgICBoOiBoZWlnaHRBdEN1cnJlbnRab29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgdzogd2lkdGhBdEN1cnJlbnRab29tTGV2ZWxcbiAgICAgICAgICAgIH07XG5cbiAgICAgICAgICAgIHRvdGFsV2lkdGhzW2tdICs9IHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsO1xuICAgICAgICAgICAgdG90YWxIZWlnaHRzW2tdICs9IGhlaWdodEF0Q3VycmVudFpvb21MZXZlbDtcbiAgICAgICAgICAgIG1heFdpZHRoc1trXSA9IE1hdGgubWF4KHdpZHRoQXRDdXJyZW50Wm9vbUxldmVsLCBtYXhXaWR0aHNba10pO1xuICAgICAgICAgICAgbWF4SGVpZ2h0c1trXSA9IE1hdGgubWF4KGhlaWdodEF0Q3VycmVudFpvb21MZXZlbCwgbWF4SGVpZ2h0c1trXSk7XG4gICAgICAgIH1cblxuICAgICAgICBsZXQgaXNQYWdlZCA9IHRoaXNDYW52YXMudmlld2luZ0hpbnQgIT09ICdub24tcGFnZWQnIHx8ICh0aGlzQ2FudmFzLmJlaGF2aW9yID8gdGhpc0NhbnZhcy5iZWhhdmlvclswXSAhPT0gJ25vbi1wYWdlZCcgOiBmYWxzZSk7XG4gICAgICAgIGxldCBpc0ZhY2luZyA9IHRoaXNDYW52YXMudmlld2luZ0hpbnQgPT09ICdmYWNpbmctcGFnZXMnIHx8ICh0aGlzQ2FudmFzLmJlaGF2aW9yID8gdGhpc0NhbnZhcy5iZWhhdmlvclswXSA9PT0gJ2ZhY2luZy1wYWdlcycgOiBmYWxzZSk7XG5cbiAgICAgICAgcGFnZXNbaV0gPSB7XG4gICAgICAgICAgICBkOiB6b29tRGltZW5zaW9ucyxcbiAgICAgICAgICAgIG06IG1heFpvb20sXG4gICAgICAgICAgICBsOiBsYWJlbCwgICAgICAgICAvLyBjYW52YXMgbGFiZWwgKCdwYWdlIDEsIHBhZ2UgMicsIGV0Yy4pXG4gICAgICAgICAgICBpbDogaW1hZ2VMYWJlbCwgICAvLyBkZWZhdWx0IGltYWdlIGxhYmVsICgncHJpbWFyeSBpbWFnZScsICdVViBsaWdodCcsIGV0Yy4pXG4gICAgICAgICAgICBmOiBpbmZvLnVybCxcbiAgICAgICAgICAgIHVybDogdXJsLFxuICAgICAgICAgICAgYXBpOiBpbWFnZUFQSVZlcnNpb24sXG4gICAgICAgICAgICBwYWdlZDogaXNQYWdlZCxcbiAgICAgICAgICAgIGZhY2luZ1BhZ2VzOiBpc0ZhY2luZyxcbiAgICAgICAgICAgIGNhbnZhczogY2FudmFzLFxuICAgICAgICAgICAgb3RoZXJJbWFnZXM6IG90aGVySW1hZ2VzLFxuICAgICAgICAgICAgeG9mZnNldDogaW5mby54IHx8IG51bGwsXG4gICAgICAgICAgICB5b2Zmc2V0OiBpbmZvLnkgfHwgbnVsbFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGNvbnN0IGF2ZXJhZ2VXaWR0aHMgPSBuZXcgQXJyYXkobG93ZXN0TWF4Wm9vbSArIDEpO1xuICAgIGNvbnN0IGF2ZXJhZ2VIZWlnaHRzID0gbmV3IEFycmF5KGxvd2VzdE1heFpvb20gKyAxKTtcblxuICAgIGZvciAobGV0IGEgPSAwOyBhIDwgbG93ZXN0TWF4Wm9vbSArIDE7IGErKylcbiAgICB7XG4gICAgICAgIGF2ZXJhZ2VXaWR0aHNbYV0gPSB0b3RhbFdpZHRoc1thXSAvIG51bUNhbnZhc2VzO1xuICAgICAgICBhdmVyYWdlSGVpZ2h0c1thXSA9IHRvdGFsSGVpZ2h0c1thXSAvIG51bUNhbnZhc2VzO1xuICAgIH1cblxuICAgIGNvbnN0IGRpbXMgPSB7XG4gICAgICAgIGFfd2lkOiBhdmVyYWdlV2lkdGhzLFxuICAgICAgICBhX2hlaTogYXZlcmFnZUhlaWdodHMsXG4gICAgICAgIG1heF93OiBtYXhXaWR0aHMsXG4gICAgICAgIG1heF9oOiBtYXhIZWlnaHRzLFxuICAgICAgICBtYXhfcmF0aW86IG1heFJhdGlvLFxuICAgICAgICBtaW5fcmF0aW86IG1pblJhdGlvLFxuICAgICAgICB0X2hlaTogdG90YWxIZWlnaHRzLFxuICAgICAgICB0X3dpZDogdG90YWxXaWR0aHNcbiAgICB9O1xuXG4gICAgLy8gYXNzdW1lcyBwYWdlZCBpcyBmYWxzZSBmb3Igbm9uLXBhZ2VkIHZhbHVlc1xuICAgIHJldHVybiB7XG4gICAgICAgIHZlcnNpb246IHZlcnNpb24sXG4gICAgICAgIGl0ZW1fdGl0bGU6IHBhcnNlTGFiZWxWYWx1ZShtYW5pZmVzdCkubGFiZWwsXG4gICAgICAgIG1ldGFkYXRhOiBtYW5pZmVzdC5tZXRhZGF0YSB8fCBudWxsLFxuICAgICAgICBkaW1zOiBkaW1zLFxuICAgICAgICBtYXhfem9vbTogbG93ZXN0TWF4Wm9vbSxcbiAgICAgICAgcGdzOiBwYWdlcyxcbiAgICAgICAgcGFnZWQ6IG1hbmlmZXN0LnZpZXdpbmdIaW50ID09PSAncGFnZWQnIHx8IChtYW5pZmVzdC5iZWhhdmlvdXIgPyBtYW5pZmVzdC5iZWhhdmlvdXJbMF0gPT09ICdwYWdlZCcgOiBmYWxzZSkgfHwgKHNlcXVlbmNlID8gc2VxdWVuY2Uudmlld2luZ0hpbnQgPT09ICdwYWdlZCcgOiBmYWxzZSlcbiAgICB9O1xufVxuXG4vKipcbiAqIFRha2VzIGluIGEgcmVzb3VyY2UgYmxvY2sgZnJvbSBhIGNhbnZhcyBhbmQgb3V0cHV0cyB0aGUgZm9sbG93aW5nIGluZm9ybWF0aW9uIGFzc29jaWF0ZWQgd2l0aCB0aGF0IHJlc291cmNlOlxuICogLSBJbWFnZSBVUkxcbiAqIC0gSW1hZ2UgcmVnaW9uIHRvIGJlIGRpc3BsYXllZFxuICpcbiAqIEBwYXJhbSB7T2JqZWN0fSByZXNvdXJjZSAtIGFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIHJlc291cmNlIGJsb2NrIG9mIGEgY2FudmFzIHNlY3Rpb24gaW4gYSBJSUlGIG1hbmlmZXN0XG4gKiBAcmV0dXJucyB7T2JqZWN0fSBpbWFnZUluZm8gLSBhbiBvYmplY3QgY29udGFpbmluZyBpbWFnZSBVUkwgYW5kIHJlZ2lvblxuICovXG5mdW5jdGlvbiBwYXJzZUltYWdlSW5mbyAocmVzb3VyY2UpXG57XG4gICAgbGV0IHVybCA9IHJlc291cmNlWydAaWQnXSB8fCByZXNvdXJjZS5pZDtcbiAgICBjb25zdCBmcmFnbWVudFJlZ2V4ID0gLyN4eXdoPShbMC05XSssWzAtOV0rLFswLTldKyxbMC05XSspLztcbiAgICBsZXQgeHl3aCA9ICcnO1xuICAgIGxldCBzdHJpcFVSTCA9IHRydWU7XG5cbiAgICBpZiAoL1xcLyhbMC05XSssWzAtOV0rLFswLTldKyxbMC05XSspXFwvLy50ZXN0KHVybCkpXG4gICAge1xuICAgICAgICAvLyBpZiByZXNvdXJjZSBpbiBpbWFnZSBBUEkgZm9ybWF0LCBleHRyYWN0IHJlZ2lvbiB4LHksdyxoIGZyb20gVVJMIChhZnRlciA0dGggc2xhc2ggZnJvbSBsYXN0KVxuICAgICAgICAvLyBtYXRjaGVzIGNvb3JkaW5hdGVzIGluIFVSTHMgb2YgdGhlIGZvcm0gaHR0cDovL3d3dy5leGFtcGxlLm9yZy9paWlmL2Jvb2sxLXBhZ2UxLzQwLDUwLDEyMDAsMTgwMC9mdWxsLzAvZGVmYXVsdC5qcGdcbiAgICAgICAgY29uc3QgdXJsQXJyYXkgPSB1cmwuc3BsaXQoJy8nKTtcbiAgICAgICAgeHl3aCA9IHVybEFycmF5W3VybEFycmF5Lmxlbmd0aCAtIDRdO1xuICAgIH1cbiAgICBlbHNlIGlmIChmcmFnbWVudFJlZ2V4LnRlc3QodXJsKSlcbiAgICB7XG4gICAgICAgIC8vIG1hdGNoZXMgY29vcmRpbmF0ZXMgb2YgdGhlIHN0eWxlIGh0dHA6Ly93d3cuZXhhbXBsZS5vcmcvaWlpZi9ib29rMS9jYW52YXMvcDEjeHl3aD01MCw1MCwzMjAsMjQwXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGZyYWdtZW50UmVnZXguZXhlYyh1cmwpO1xuICAgICAgICB4eXdoID0gcmVzdWx0WzFdO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZXNvdXJjZS5zZXJ2aWNlICYmIChyZXNvdXJjZS5zZXJ2aWNlWydAaWQnXSB8fCByZXNvdXJjZS5zZXJ2aWNlLmlkKSlcbiAgICB7XG4gICAgICAgIC8vIHRoaXMgVVJMIGV4Y2x1ZGVzIHJlZ2lvbiBwYXJhbWV0ZXJzIHNvIHdlIGRvbid0IG5lZWQgdG8gcmVtb3ZlIHRoZW1cbiAgICAgICAgdXJsID0gcmVzb3VyY2Uuc2VydmljZVsnQGlkJ10gfHwgcmVzb3VyY2Uuc2VydmljZS5pZDtcbiAgICAgICAgc3RyaXBVUkwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBpZiAoc3RyaXBVUkwpXG4gICAge1xuICAgICAgICAvLyBleHRyYWN0IFVSTCB1cCB0byBpZGVudGlmaWVyICh3ZSBlbGltaW5hdGUgdGhlIGxhc3QgNSBwYXJhbWV0ZXJzOiAvcmVnaW9uL3NpemUvcm90YXRpb24vcXVhbGl0eS5mb3JtYXQpXG4gICAgICAgIHVybCA9IHVybC5zcGxpdCgnLycpLnNsaWNlKDAsIC00KS5qb2luKCcvJyk7XG4gICAgfVxuXG4gICAgY29uc3QgaW1hZ2VJbmZvID0ge1xuICAgICAgICB1cmw6IHVybFxuICAgIH07XG5cbiAgICBpZiAoeHl3aC5sZW5ndGgpXG4gICAge1xuICAgICAgICAvLyBwYXJzZSBpbnRvIHNlcGFyYXRlIGNvbXBvbmVudHNcbiAgICAgICAgY29uc3QgZGltZW5zaW9ucyA9IHh5d2guc3BsaXQoJywnKTtcbiAgICAgICAgaW1hZ2VJbmZvLnggPSBwYXJzZUludChkaW1lbnNpb25zWzBdLCAxMCk7XG4gICAgICAgIGltYWdlSW5mby55ID0gcGFyc2VJbnQoZGltZW5zaW9uc1sxXSwgMTApO1xuICAgICAgICBpbWFnZUluZm8udyA9IHBhcnNlSW50KGRpbWVuc2lvbnNbMl0sIDEwKTtcbiAgICAgICAgaW1hZ2VJbmZvLmggPSBwYXJzZUludChkaW1lbnNpb25zWzNdLCAxMCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIGltYWdlSW5mbztcbn1cbiIsImV4cG9ydCBkZWZhdWx0IGNsYXNzIElJSUZTb3VyY2VBZGFwdGVyXG57XG4gICAgZ2V0UGFnZUltYWdlVVJMIChtYW5pZmVzdCwgcGFnZUluZGV4LCBzaXplKVxuICAgIHtcbiAgICAgICAgbGV0IGRpbWVucztcblxuICAgICAgICBpZiAoIXNpemUgfHwgKHNpemUud2lkdGggPT0gbnVsbCAmJiBzaXplLmhlaWdodCA9PSBudWxsKSlcbiAgICAgICAge1xuICAgICAgICAgICAgZGltZW5zID0gJ2Z1bGwnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZGltZW5zID0gKHNpemUud2lkdGggPT0gbnVsbCA/ICcnIDogc2l6ZS53aWR0aCkgKyAnLCcgKyAoc2l6ZS5oZWlnaHQgPT0gbnVsbCA/ICcnIDogc2l6ZS5oZWlnaHQpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFnZSA9IG1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF07XG4gICAgICAgIGNvbnN0IHF1YWxpdHkgPSAocGFnZS5hcGkgPiAxLjEpID8gJ2RlZmF1bHQnIDogJ25hdGl2ZSc7XG5cbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSShwYWdlLnVybCArICdmdWxsLycgKyBkaW1lbnMgKyAnLzAvJyArIHF1YWxpdHkgKyAnLmpwZycpO1xuICAgIH1cblxuICAgIGdldFRpbGVJbWFnZVVSTCAobWFuaWZlc3QsIHBhZ2VJbmRleCwgcGFyYW1zKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IG1hbmlmZXN0LnBhZ2VzW3BhZ2VJbmRleF07XG5cbiAgICAgICAgbGV0IGhlaWdodCwgd2lkdGg7XG5cbiAgICAgICAgaWYgKHBhcmFtcy5yb3cgPT09IHBhcmFtcy5yb3dDb3VudCAtIDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHBhZ2UuZFtwYXJhbXMuem9vbUxldmVsXS5oIC0gKHBhcmFtcy5yb3dDb3VudCAtIDEpICogcGFyYW1zLnRpbGVEaW1lbnNpb25zLmhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGhlaWdodCA9IHBhcmFtcy50aWxlRGltZW5zaW9ucy5oZWlnaHQ7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFyYW1zLmNvbCA9PT0gcGFyYW1zLmNvbENvdW50IC0gMSlcbiAgICAgICAge1xuICAgICAgICAgICAgd2lkdGggPSBwYWdlLmRbcGFyYW1zLnpvb21MZXZlbF0udyAtIChwYXJhbXMuY29sQ291bnQgLSAxKSAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy53aWR0aDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHdpZHRoID0gcGFyYW1zLnRpbGVEaW1lbnNpb25zLndpZHRoO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3Qgem9vbURpZmZlcmVuY2UgPSBNYXRoLnBvdygyLCBtYW5pZmVzdC5tYXhab29tIC0gcGFyYW1zLnpvb21MZXZlbCk7XG5cbiAgICAgICAgbGV0IHggPSBwYXJhbXMuY29sICogcGFyYW1zLnRpbGVEaW1lbnNpb25zLndpZHRoICogem9vbURpZmZlcmVuY2U7XG4gICAgICAgIGxldCB5ID0gcGFyYW1zLnJvdyAqIHBhcmFtcy50aWxlRGltZW5zaW9ucy5oZWlnaHQgKiB6b29tRGlmZmVyZW5jZTtcblxuICAgICAgICBpZiAocGFnZS5oYXNPd25Qcm9wZXJ0eSgneG9mZnNldCcpKVxuICAgICAgICB7XG4gICAgICAgICAgICB4ICs9IHBhZ2UueG9mZnNldDtcbiAgICAgICAgICAgIHkgKz0gcGFnZS55b2Zmc2V0O1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcmVnaW9uID0gW3gsIHksIHdpZHRoICogem9vbURpZmZlcmVuY2UsIGhlaWdodCAqIHpvb21EaWZmZXJlbmNlXS5qb2luKCcsJyk7XG5cbiAgICAgICAgY29uc3QgcXVhbGl0eSA9IChwYWdlLmFwaSA+IDEuMSkgPyAnZGVmYXVsdCcgOiAnbmF0aXZlJztcblxuICAgICAgICByZXR1cm4gZW5jb2RlVVJJKHBhZ2UudXJsICsgcmVnaW9uICsgJy8nICsgd2lkdGggKyAnLCcgKyBoZWlnaHQgKyAnLzAvJyArIHF1YWxpdHkgKyAnLmpwZycpO1xuICAgIH1cbn1cbiIsImltcG9ydCBwYXJzZUlJSUZNYW5pZmVzdCBmcm9tICcuL3BhcnNlLWlpaWYtbWFuaWZlc3QnO1xuaW1wb3J0IElJSUZTb3VyY2VBZGFwdGVyIGZyb20gXCIuL2lpaWYtc291cmNlLWFkYXB0ZXJcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBJbWFnZU1hbmlmZXN0XG57XG4gICAgY29uc3RydWN0b3IgKGRhdGEsIHVybEFkYXB0ZXIpXG4gICAge1xuICAgICAgICAvLyBTYXZlIGFsbCB0aGUgZGF0YSB3ZSBuZWVkXG4gICAgICAgIHRoaXMucGFnZXMgPSBkYXRhLnBncztcbiAgICAgICAgdGhpcy5tYXhab29tID0gZGF0YS5tYXhfem9vbTtcbiAgICAgICAgdGhpcy5tYXhSYXRpbyA9IGRhdGEuZGltcy5tYXhfcmF0aW87XG4gICAgICAgIHRoaXMubWluUmF0aW8gPSBkYXRhLmRpbXMubWluX3JhdGlvO1xuICAgICAgICB0aGlzLml0ZW1UaXRsZSA9IGRhdGEuaXRlbV90aXRsZTtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IGRhdGEubWV0YWRhdGE7XG5cbiAgICAgICAgLy8gT25seSBnaXZlbiBmb3IgSUlJRiBtYW5pZmVzdHNcbiAgICAgICAgdGhpcy5wYWdlZCA9ICEhZGF0YS5wYWdlZDtcblxuICAgICAgICAvLyBUaGVzZSBhcmUgYXJyYXlzLCB0aGUgaW5kZXggY29ycmVzcG9uZGluZyB0byB0aGUgem9vbSBsZXZlbFxuICAgICAgICB0aGlzLl9tYXhXaWR0aHMgPSBkYXRhLmRpbXMubWF4X3c7XG4gICAgICAgIHRoaXMuX21heEhlaWdodHMgPSBkYXRhLmRpbXMubWF4X2g7XG4gICAgICAgIHRoaXMuX2F2ZXJhZ2VXaWR0aHMgPSBkYXRhLmRpbXMuYV93aWQ7XG4gICAgICAgIHRoaXMuX2F2ZXJhZ2VIZWlnaHRzID0gZGF0YS5kaW1zLmFfaGVpO1xuICAgICAgICB0aGlzLl90b3RhbEhlaWdodHMgPSBkYXRhLmRpbXMudF9oZWk7XG4gICAgICAgIHRoaXMuX3RvdGFsV2lkdGhzID0gZGF0YS5kaW1zLnRfd2lkO1xuXG4gICAgICAgIHRoaXMuX3VybEFkYXB0ZXIgPSB1cmxBZGFwdGVyO1xuICAgIH1cblxuICAgIHN0YXRpYyBmcm9tSUlJRiAoaWlpZk1hbmlmZXN0KVxuICAgIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHBhcnNlSUlJRk1hbmlmZXN0KGlpaWZNYW5pZmVzdCk7XG4gICAgICAgIHJldHVybiBuZXcgSW1hZ2VNYW5pZmVzdChkYXRhLCBuZXcgSUlJRlNvdXJjZUFkYXB0ZXIoKSk7XG4gICAgfVxuXG4gICAgaXNQYWdlVmFsaWQgKHBhZ2VJbmRleCwgc2hvd05vblBhZ2VkUGFnZXMpXG4gICAge1xuICAgICAgICBpZiAoIXNob3dOb25QYWdlZFBhZ2VzICYmIHRoaXMucGFnZWQgJiYgIXRoaXMucGFnZXNbcGFnZUluZGV4XS5wYWdlZClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHBhZ2VJbmRleCA+PSAwICYmIHBhZ2VJbmRleCA8IHRoaXMucGFnZXMubGVuZ3RoO1xuICAgIH1cblxuICAgIGdldE1heFBhZ2VEaW1lbnNpb25zIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICBjb25zdCBtYXhEaW1zID0gdGhpcy5wYWdlc1twYWdlSW5kZXhdLmRbdGhpcy5tYXhab29tXTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaGVpZ2h0OiBtYXhEaW1zLmgsXG4gICAgICAgICAgICB3aWR0aDogbWF4RGltcy53XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZ2V0UGFnZURpbWVuc2lvbnNBdFpvb21MZXZlbCAocGFnZUluZGV4LCB6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICBjb25zdCBtYXhEaW1zID0gdGhpcy5wYWdlc1twYWdlSW5kZXhdLmRbdGhpcy5tYXhab29tXTtcblxuICAgICAgICBjb25zdCBzY2FsZVJhdGlvID0gZ2V0U2NhbGVSYXRpbyh0aGlzLm1heFpvb20sIHpvb21MZXZlbCk7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGhlaWdodDogbWF4RGltcy5oICogc2NhbGVSYXRpbyxcbiAgICAgICAgICAgIHdpZHRoOiBtYXhEaW1zLncgKiBzY2FsZVJhdGlvXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFVSTCBmb3IgdGhlIGltYWdlIG9mIHRoZSBnaXZlbiBwYWdlLiBUaGUgb3B0aW9uYWwgc2l6ZVxuICAgICAqIHBhcmFtZXRlciBzdXBwb3J0cyBzZXR0aW5nIHRoZSBpbWFnZSB3aWR0aCBvciBoZWlnaHQgKGRlZmF1bHQgaXNcbiAgICAgKiBmdWxsLXNpemVkKS5cbiAgICAgKi9cbiAgICBnZXRQYWdlSW1hZ2VVUkwgKHBhZ2VJbmRleCwgc2l6ZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl91cmxBZGFwdGVyLmdldFBhZ2VJbWFnZVVSTCh0aGlzLCBwYWdlSW5kZXgsIHNpemUpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybiBhbiBhcnJheSBvZiB0aWxlIG9iamVjdHMgZm9yIHRoZSBzcGVjaWZpZWQgcGFnZSBhbmQgaW50ZWdlciB6b29tIGxldmVsXG4gICAgICovXG4gICAgZ2V0UGFnZUltYWdlVGlsZXMgKHBhZ2VJbmRleCwgem9vbUxldmVsLCB0aWxlRGltZW5zaW9ucylcbiAgICB7XG4gICAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLnBhZ2VzW3BhZ2VJbmRleF07XG5cbiAgICAgICAgaWYgKCFpc0Zpbml0ZSh6b29tTGV2ZWwpIHx8IHpvb21MZXZlbCAlIDEgIT09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ1pvb20gbGV2ZWwgbXVzdCBiZSBhbiBpbnRlZ2VyOiAnICsgem9vbUxldmVsKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHJvd3MgPSBNYXRoLmNlaWwocGFnZS5kW3pvb21MZXZlbF0uaCAvIHRpbGVEaW1lbnNpb25zLmhlaWdodCk7XG4gICAgICAgIGNvbnN0IGNvbHMgPSBNYXRoLmNlaWwocGFnZS5kW3pvb21MZXZlbF0udyAvIHRpbGVEaW1lbnNpb25zLndpZHRoKTtcblxuICAgICAgICBjb25zdCB0aWxlcyA9IFtdO1xuXG4gICAgICAgIGxldCByb3csIGNvbCwgdXJsO1xuXG4gICAgICAgIGZvciAocm93ID0gMDsgcm93IDwgcm93czsgcm93KyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAoY29sID0gMDsgY29sIDwgY29sczsgY29sKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdXJsID0gdGhpcy5fdXJsQWRhcHRlci5nZXRUaWxlSW1hZ2VVUkwodGhpcywgcGFnZUluZGV4LCB7XG4gICAgICAgICAgICAgICAgICAgIHJvdzogcm93LFxuICAgICAgICAgICAgICAgICAgICBjb2w6IGNvbCxcbiAgICAgICAgICAgICAgICAgICAgcm93Q291bnQ6IHJvd3MsXG4gICAgICAgICAgICAgICAgICAgIGNvbENvdW50OiBjb2xzLFxuICAgICAgICAgICAgICAgICAgICB6b29tTGV2ZWw6IHpvb21MZXZlbCxcbiAgICAgICAgICAgICAgICAgICAgdGlsZURpbWVuc2lvbnM6IHRpbGVEaW1lbnNpb25zXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgICAgICAvLyBGSVhNRTogRGltZW5zaW9ucyBzaG91bGQgYWNjb3VudCBmb3IgcGFydGlhbCB0aWxlcyAoZS5nLiB0aGVcbiAgICAgICAgICAgICAgICAvLyBsYXN0IHJvdyBhbmQgY29sdW1uIGluIGEgdGlsZWQgaW1hZ2UpXG4gICAgICAgICAgICAgICAgdGlsZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHJvdzogcm93LFxuICAgICAgICAgICAgICAgICAgICBjb2w6IGNvbCxcbiAgICAgICAgICAgICAgICAgICAgem9vbUxldmVsOiB6b29tTGV2ZWwsXG4gICAgICAgICAgICAgICAgICAgIGRpbWVuc2lvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDogdGlsZURpbWVuc2lvbnMuaGVpZ2h0LFxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRpbGVEaW1lbnNpb25zLndpZHRoXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIG9mZnNldDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiByb3cgKiB0aWxlRGltZW5zaW9ucy5oZWlnaHQsXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiBjb2wgKiB0aWxlRGltZW5zaW9ucy53aWR0aFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB1cmw6IHVybFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHpvb21MZXZlbDogem9vbUxldmVsLFxuICAgICAgICAgICAgcm93czogcm93cyxcbiAgICAgICAgICAgIGNvbHM6IGNvbHMsXG4gICAgICAgICAgICB0aWxlczogdGlsZXNcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldE1heFdpZHRoID0gem9vbWVkUHJvcGVydHlHZXR0ZXIoJ19tYXhXaWR0aHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldE1heEhlaWdodCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfbWF4SGVpZ2h0cycpO1xuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0QXZlcmFnZVdpZHRoID0gem9vbWVkUHJvcGVydHlHZXR0ZXIoJ19hdmVyYWdlV2lkdGhzJyk7XG5JbWFnZU1hbmlmZXN0LnByb3RvdHlwZS5nZXRBdmVyYWdlSGVpZ2h0ID0gem9vbWVkUHJvcGVydHlHZXR0ZXIoJ19hdmVyYWdlSGVpZ2h0cycpO1xuSW1hZ2VNYW5pZmVzdC5wcm90b3R5cGUuZ2V0VG90YWxXaWR0aCA9IHpvb21lZFByb3BlcnR5R2V0dGVyKCdfdG90YWxXaWR0aHMnKTtcbkltYWdlTWFuaWZlc3QucHJvdG90eXBlLmdldFRvdGFsSGVpZ2h0ID0gem9vbWVkUHJvcGVydHlHZXR0ZXIoJ190b3RhbEhlaWdodHMnKTtcblxuZnVuY3Rpb24gem9vbWVkUHJvcGVydHlHZXR0ZXIgKHByaXZhdGVOYW1lKVxue1xuICAgIHJldHVybiBmdW5jdGlvbiAoem9vbUxldmVsKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXNbcHJpdmF0ZU5hbWVdW3pvb21MZXZlbF07XG4gICAgfTtcbn1cblxuZnVuY3Rpb24gZ2V0U2NhbGVSYXRpbyAoc291cmNlWm9vbUxldmVsLCB0YXJnZXRab29tTGV2ZWwpXG57XG4gICAgcmV0dXJuIDEgLyBNYXRoLnBvdygyLCBzb3VyY2Vab29tTGV2ZWwgLSB0YXJnZXRab29tTGV2ZWwpO1xufVxuIiwiaW1wb3J0IGRpdmEgZnJvbSAnLi9kaXZhLWdsb2JhbCc7XG5pbXBvcnQgeyBlbHQgfSBmcm9tICcuL3V0aWxzL2VsdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFRvb2xiYXJcbntcbiAgICBjb25zdHJ1Y3RvciAodmlld2VyKVxuICAgIHtcbiAgICAgICAgdGhpcy52aWV3ZXIgPSB2aWV3ZXI7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSB2aWV3ZXIuc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgX2VsZW1BdHRycyAoaWRlbnQsIGJhc2UpXG4gICAge1xuICAgICAgICBjb25zdCBhdHRycyA9IHtcbiAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgaWRlbnQsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtJyArIGlkZW50XG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGJhc2UpXG4gICAgICAgICAgICByZXR1cm4gT2JqZWN0LmFzc2lnbihhdHRycywgYmFzZSk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHJldHVybiBhdHRycztcbiAgICB9XG5cblxuICAgIC8qKiBDb252ZW5pZW5jZSBmdW5jdGlvbiB0byBzdWJzY3JpYmUgdG8gYSBEaXZhIGV2ZW50ICovXG4gICAgX3N1YnNjcmliZSAoZXZlbnQsIGNhbGxiYWNrKVxuICAgIHtcbiAgICAgICAgZGl2YS5FdmVudHMuc3Vic2NyaWJlKGV2ZW50LCBjYWxsYmFjaywgdGhpcy5zZXR0aW5ncy5JRCk7XG4gICAgfVxuXG5cbiAgICBjcmVhdGVCdXR0b24gKG5hbWUsIGxhYmVsLCBjYWxsYmFjaywgaWNvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IGJ1dHRvbiA9IGVsdCgnYnV0dG9uJywge1xuICAgICAgICAgICAgdHlwZTogJ2J1dHRvbicsXG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArIG5hbWUsXG4gICAgICAgICAgICBjbGFzczogJ2RpdmEtJyArIG5hbWUgKyAnIGRpdmEtYnV0dG9uJyxcbiAgICAgICAgICAgIHRpdGxlOiBsYWJlbCxcbiAgICAgICAgICAgICdhcmlhLWxhYmVsJzogbGFiZWxcbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGljb24pXG4gICAgICAgICAgICBidXR0b24uYXBwZW5kQ2hpbGQoaWNvbik7XG5cbiAgICAgICAgaWYgKGNhbGxiYWNrKVxuICAgICAgICAgICAgYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2FsbGJhY2spO1xuXG4gICAgICAgIHJldHVybiBidXR0b247XG4gICAgfVxuXG4gICAgY3JlYXRlTGFiZWwgKG5hbWUsIGlkLCBsYWJlbCwgaW5uZXJOYW1lLCBpbm5lclZhbHVlKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIGVsdCgnZGl2JywgeyBpZDogdGhpcy5zZXR0aW5ncy5JRCArIGlkLCBjbGFzczogbmFtZSArICcgZGl2YS1sYWJlbCd9LFxuICAgICAgICAgICAgICAgICAgICBbIGxhYmVsLCBlbHQoJ3NwYW4nLCB7IGlkOiB0aGlzLnNldHRpbmdzLklEICsgaW5uZXJOYW1lIH0sIGlubmVyVmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIF0pO1xuICAgIH1cblxuICAgIGNyZWF0ZVpvb21CdXR0b25zICgpXG4gICAge1xuICAgICAgICBsZXQgem9vbU91dEljb24gPSB0aGlzLl9jcmVhdGVab29tT3V0SWNvbigpO1xuICAgICAgICBsZXQgem9vbUluSWNvbiA9IHRoaXMuX2NyZWF0ZVpvb21Jbkljb24oKTtcblxuICAgICAgICBsZXQgem9vbUJ1dHRvbnMgPSBbXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUJ1dHRvbignem9vbS1vdXQtYnV0dG9uJywgJ1pvb20gT3V0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMudmlld2VyLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCAtIDEpO1xuICAgICAgICAgICAgfSwgem9vbU91dEljb24pLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b24oJ3pvb20taW4tYnV0dG9uJywgJ1pvb20gSW4nLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuc2V0Wm9vbUxldmVsKHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMSk7XG4gICAgICAgICAgICB9LCB6b29tSW5JY29uKSxcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlTGFiZWwoJ2RpdmEtem9vbS1sYWJlbCcsICd6b29tLWxhYmVsJywgJ1pvb20gbGV2ZWw6ICcsICd6b29tLWxldmVsJywgdGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgKyAxKVxuICAgICAgICBdO1xuXG4gICAgICAgIGxldCB6b29tSGFuZGxlciA9IGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBsYWJlbEVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArICd6b29tLWxldmVsJyk7XG4gICAgICAgICAgICBsYWJlbEVsLnRleHRDb250ZW50ID0gdGhpcy5zZXR0aW5ncy56b29tTGV2ZWwgKyAxO1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnWm9vbUxldmVsRGlkQ2hhbmdlJywgem9vbUhhbmRsZXIpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ1ZpZXdlckRpZExvYWQnLCB6b29tSGFuZGxlcik7XG5cbiAgICAgICAgcmV0dXJuIGVsdCgnZGl2JywgeyBpZDogdGhpcy5zZXR0aW5ncy5JRCArIFwiem9vbS1jb250cm9sc1wiLCBzdHlsZTogXCJkaXNwbGF5OiBub25lXCJ9LCB6b29tQnV0dG9ucyk7XG4gICAgfVxuXG4gICAgY3JlYXRlR3JpZENvbnRyb2xzICgpXG4gICAge1xuICAgICAgICBsZXQgZ3JpZE1vcmVJY29uID0gdGhpcy5fY3JlYXRlR3JpZE1vcmVJY29uKCk7XG4gICAgICAgIGxldCBncmlkRmV3ZXJJY29uID0gdGhpcy5fY3JlYXRlR3JpZEZld2VySWNvbigpO1xuXG4gICAgICAgIGxldCBncmlkQnV0dG9ucyA9IFtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlQnV0dG9uKCdncmlkLW91dC1idXR0b24nLCAnRmV3ZXInLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuc2V0R3JpZFBhZ2VzUGVyUm93KHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3cgLSAxKTtcbiAgICAgICAgICAgIH0sIGdyaWRGZXdlckljb24pLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVCdXR0b24oJ2dyaWQtaW4tYnV0dG9uJywgJ01vcmUnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy52aWV3ZXIuc2V0R3JpZFBhZ2VzUGVyUm93KHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3cgKyAxKTtcbiAgICAgICAgICAgIH0sIGdyaWRNb3JlSWNvbiksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZUxhYmVsKCdkaXZhLWdyaWQtbGFiZWwnLCAnZ3JpZC1sYWJlbCcsICdQYWdlcyBwZXIgcm93OiAnLCAncGFnZXMtcGVyLXJvdycsIHRoaXMuc2V0dGluZ3MucGFnZXNQZXJSb3cpXG4gICAgICAgIF07XG5cbiAgICAgICAgbGV0IGdyaWRDaGFuZ2VIYW5kbGVyID0gZnVuY3Rpb24gKClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGxhYmVsRWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgJ3BhZ2VzLXBlci1yb3cnKTtcbiAgICAgICAgICAgIGxhYmVsRWwudGV4dENvbnRlbnQgPSB0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93O1xuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnR3JpZFJvd051bWJlckRpZENoYW5nZScsIGdyaWRDaGFuZ2VIYW5kbGVyKTtcblxuICAgICAgICByZXR1cm4gZWx0KCdkaXYnLCB7aWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyBcImdyaWQtY29udHJvbHNcIiwgc3R5bGU6IFwiZGlzcGxheTpub25lXCIgfSwgZ3JpZEJ1dHRvbnMpO1xuICAgIH1cblxuICAgIGNyZWF0ZVBhZ2VMYWJlbCAoKVxuICAgIHtcbiAgICAgICAgLy8gQ3VycmVudCBwYWdlXG4gICAgICAgIGNvbnN0IGN1cnJlbnRQYWdlID0gZWx0KCdzcGFuJywge1xuICAgICAgICAgICAgaWQ6IHRoaXMuc2V0dGluZ3MuSUQgKyAnY3VycmVudC1wYWdlJ1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCB1cGRhdGVDdXJyZW50UGFnZSA9ICgpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIGdldCBsYWJlbHMgZm9yIGluZGV4IHJhbmdlXG4gICAgICAgICAgICBsZXQgaW5kaWNlcyA9IHRoaXMudmlld2VyLmdldEN1cnJlbnRQYWdlSW5kaWNlcygpO1xuICAgICAgICAgICAgbGV0IHN0YXJ0SW5kZXggPSBpbmRpY2VzWzBdO1xuICAgICAgICAgICAgbGV0IGVuZEluZGV4ID0gaW5kaWNlc1tpbmRpY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgbGV0IHN0YXJ0TGFiZWwgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3N0YXJ0SW5kZXhdLmw7XG4gICAgICAgICAgICBsZXQgZW5kTGFiZWwgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW2VuZEluZGV4XS5sO1xuXG4gICAgICAgICAgICBpZiAoc3RhcnRJbmRleCAhPT0gZW5kSW5kZXgpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICBcdGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUluZGV4QXNMYWJlbClcbiAgICAgICAgICAgICAgICBcdGN1cnJlbnRQYWdlLnRleHRDb250ZW50ID0gc3RhcnRJbmRleCArIFwiIC0gXCIgKyBlbmRJbmRleDtcbiAgICAgICAgICAgIFx0ZWxzZVxuICAgICAgICAgICAgXHRcdGN1cnJlbnRQYWdlLnRleHRDb250ZW50ID0gc3RhcnRMYWJlbCArIFwiIC0gXCIgKyBlbmRMYWJlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgXHR7XG4gICAgICAgICAgICBcdGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUluZGV4QXNMYWJlbClcbiAgICAgICAgICAgIFx0XHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0SW5kZXg7XG4gICAgICAgICAgICBcdGVsc2VcbiAgICAgICAgICAgIFx0XHRjdXJyZW50UGFnZS50ZXh0Q29udGVudCA9IHN0YXJ0TGFiZWw7XG4gICAgICAgIFx0fVxuICAgICAgICB9O1xuXG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlzaWJsZVBhZ2VEaWRDaGFuZ2UnLCB1cGRhdGVDdXJyZW50UGFnZSk7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZSgnVmlld2VyRGlkTG9hZCcsIHVwZGF0ZUN1cnJlbnRQYWdlKTtcbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdWaWV3RGlkU3dpdGNoJywgdXBkYXRlQ3VycmVudFBhZ2UpO1xuXG4gICAgICAgIHJldHVybiBlbHQoJ3NwYW4nLCB7XG4gICAgICAgICAgICAgICAgY2xhc3M6ICdkaXZhLXBhZ2UtbGFiZWwgZGl2YS1sYWJlbCdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjdXJyZW50UGFnZVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGNyZWF0ZUdvdG9QYWdlRm9ybSAoKVxuICAgIHtcbiAgICAgICAgY29uc3QgZ290b1BhZ2VJbnB1dCA9IGVsdCgnaW5wdXQnLCB7XG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArICdnb3RvLXBhZ2UtaW5wdXQnLFxuICAgICAgICAgICAgY2xhc3M6ICdkaXZhLWlucHV0IGRpdmEtZ290by1wYWdlLWlucHV0JyxcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZTogJ29mZicsXG4gICAgICAgICAgICB0eXBlOiAndGV4dCcsXG4gICAgICAgICAgICAnYXJpYS1sYWJlbCc6ICdQYWdlIElucHV0J1xuICAgICAgICB9KTtcblxuICAgICAgICBjb25zdCBnb3RvUGFnZVN1Ym1pdCA9IGVsdCgnaW5wdXQnLCB7XG4gICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArICdnb3RvLXBhZ2Utc3VibWl0JyxcbiAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1idXR0b24gZGl2YS1idXR0b24tdGV4dCcsXG4gICAgICAgICAgICB0eXBlOiAnc3VibWl0JyxcbiAgICAgICAgICAgIHZhbHVlOiAnR28nXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGlucHV0U3VnZ2VzdGlvbnMgPSBlbHQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICBpZDogdGhpcy5zZXR0aW5ncy5JRCArICdpbnB1dC1zdWdnZXN0aW9ucycsXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdkaXZhLWlucHV0LXN1Z2dlc3Rpb25zJ1xuICAgICAgICAgICAgfVxuICAgICAgICApO1xuXG4gICAgICAgIGNvbnN0IGdvdG9Gb3JtID0gZWx0KCdmb3JtJywge1xuICAgICAgICAgICAgICAgIGlkOiB0aGlzLnNldHRpbmdzLklEICsgJ2dvdG8tcGFnZScsXG4gICAgICAgICAgICAgICAgY2xhc3M6ICdkaXZhLWdvdG8tZm9ybSdcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnb3RvUGFnZUlucHV0LFxuICAgICAgICAgICAgZ290b1BhZ2VTdWJtaXQsXG4gICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zXG4gICAgICAgICk7XG5cbiAgICAgICAgZ290b0Zvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGUpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcblxuICAgICAgICAgICAgY29uc3QgZGVzaXJlZFBhZ2VMYWJlbCA9IGdvdG9QYWdlSW5wdXQudmFsdWU7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLm9uR290b1N1Ym1pdCAmJiB0eXBlb2YgdGhpcy5zZXR0aW5ncy5vbkdvdG9TdWJtaXQgPT09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlSW5kZXggPSB0aGlzLnNldHRpbmdzLm9uR290b1N1Ym1pdChkZXNpcmVkUGFnZUxhYmVsKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmlld2VyLmdvdG9QYWdlQnlJbmRleChwYWdlSW5kZXgpKVxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWxlcnQoXCJObyBwYWdlIGNvdWxkIGJlIGZvdW5kIHdpdGggdGhhdCBsYWJlbCBvciBwYWdlIG51bWJlclwiKTtcblxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSAvLyBEZWZhdWx0IGlmIG5vIGZ1bmN0aW9uIGlzIHNwZWNpZmllZCBpbiB0aGUgc2V0dGluZ3NcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudmlld2VyLmdvdG9QYWdlQnlMYWJlbChkZXNpcmVkUGFnZUxhYmVsKSlcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFsZXJ0KFwiTm8gcGFnZSBjb3VsZCBiZSBmb3VuZCB3aXRoIHRoYXQgbGFiZWwgb3IgcGFnZSBudW1iZXJcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8vIEhpZGUgdGhlIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgICAgICAgICAgIC8vIFByZXZlbnQgdGhlIGRlZmF1bHQgYWN0aW9uIG9mIHJlbG9hZGluZyB0aGUgcGFnZVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KTtcblxuICAgICAgICBbJ2lucHV0JywgJ2ZvY3VzJ10uZm9yRWFjaChldmVudCA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBnb3RvUGFnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoZXZlbnQsICgpID0+IHtcbiAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLmlubmVySFRNTCA9ICcnOyAvLyBSZW1vdmUgYWxsIHByZXZpb3VzIHN1Z2dlc3Rpb25zXG5cbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9IGdvdG9QYWdlSW5wdXQudmFsdWU7XG4gICAgICAgICAgICAgICAgbGV0IG51bVN1Z2dlc3Rpb25zID0gMDtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5lbmFibGVHb3RvU3VnZ2VzdGlvbnMgJiYgdmFsdWUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlcyA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXM7XG4gICAgICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYWdlcy5sZW5ndGg7IGkgPCBsZW4gJiYgbnVtU3VnZ2VzdGlvbnMgPCAxMDsgaSsrKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocGFnZXNbaV0ubC50b0xvd2VyQ2FzZSgpLmluZGV4T2YodmFsdWUudG9Mb3dlckNhc2UoKSkgPiAtMSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXdJbnB1dFN1Z2dlc3Rpb24gPSBlbHQoJ2RpdicsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzOiAnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWdlc1tpXS5sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuYXBwZW5kQ2hpbGQobmV3SW5wdXRTdWdnZXN0aW9uKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG51bVN1Z2dlc3Rpb25zKys7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICAvLyBTaG93IGxhYmVsIHN1Z2dlc3Rpb25zXG4gICAgICAgICAgICAgICAgICAgIGlmIChudW1TdWdnZXN0aW9ucyA+IDApXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dFN1Z2dlc3Rpb25zLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcblxuICAgICAgICBnb3RvUGFnZUlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCBlID0+IHtcbiAgICAgICAgICAgIGxldCBlbDtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSAvLyAnRW50ZXInIGtleVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnN0IGFjdGl2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2FjdGl2ZScpWzBdO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgYWN0aXZlICE9PSAndW5kZWZpbmVkJylcbiAgICAgICAgICAgICAgICAgICAgZ290b1BhZ2VJbnB1dC52YWx1ZSA9IGFjdGl2ZS5pbm5lclRleHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAzOCkgLy8gVXAgYXJyb3cga2V5XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdhY3RpdmUnKVswXTtcbiAgICAgICAgICAgICAgICBjb25zdCBwcmV2RWwgPSBlbCA/IGVsLnByZXZpb3VzU2libGluZyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHByZXZFbCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHByZXZFbCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZFbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGxhc3QgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZhLWlucHV0LXN1Z2dlc3Rpb24nKS5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZhLWlucHV0LXN1Z2dlc3Rpb24nKVtsYXN0XS5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChlLmtleUNvZGUgPT09IDQwKSAvLyBEb3duIGFycm93IGtleVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYWN0aXZlJylbMF07XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dEVsID0gZWwgPyBlbC5uZXh0U2libGluZyA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG5leHRFbCAhPT0gJ3VuZGVmaW5lZCcpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBlbC5jbGFzc0xpc3QucmVtb3ZlKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRFbCAhPT0gbnVsbClcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRFbC5jbGFzc0xpc3QuYWRkKCdhY3RpdmUnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnZGl2YS1pbnB1dC1zdWdnZXN0aW9uJylbMF0uY2xhc3NMaXN0LmFkZCgnYWN0aXZlJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBvbkV2ZW50KGlucHV0U3VnZ2VzdGlvbnMsICdtb3VzZWRvd24nLCAnLmRpdmEtaW5wdXQtc3VnZ2VzdGlvbicsIGZ1bmN0aW9uICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGdvdG9QYWdlSW5wdXQudmFsdWUgPSB0aGlzLnRleHRDb250ZW50O1xuICAgICAgICAgICAgaW5wdXRTdWdnZXN0aW9ucy5zdHlsZS5kaXNwbGF5ID0gJ25vbmUnO1xuICAgICAgICAgICAgbGV0IHN1Ym1pdEV2ZW50ID0gbmV3IEV2ZW50KCdzdWJtaXQnLCB7XG4gICAgICAgICAgICAgICAgY2FuY2VsYWJsZTogdHJ1ZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBnb3RvRm9ybS5kaXNwYXRjaEV2ZW50KHN1Ym1pdEV2ZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gamF2YXNjcmlwdCBlcXVpdmFsZW50IHRvIGpxdWVyeSAub24oZXZlbnQsIHNlbGVjdG9yLCBmdW5jdGlvbilcbiAgICAgICAgZnVuY3Rpb24gb25FdmVudCAoZWxlbSwgZXZ0LCBzZWwsIGhhbmRsZXIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGVsZW0uYWRkRXZlbnRMaXN0ZW5lcihldnQsIGZ1bmN0aW9uIChldmVudClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2YXIgdCA9IGV2ZW50LnRhcmdldDtcbiAgICAgICAgICAgICAgICB3aGlsZSAodCAmJiB0ICE9PSB0aGlzKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHQubWF0Y2hlcyhzZWwpKVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFuZGxlci5jYWxsKHQsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgdCA9IHQucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGdvdG9QYWdlSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcignYmx1cicsICgpID0+IHtcbiAgICAgICAgICAgIC8vIEhpZGUgbGFiZWwgc3VnZ2VzdGlvbnNcbiAgICAgICAgICAgIGlucHV0U3VnZ2VzdGlvbnMuc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGdvdG9Gb3JtO1xuICAgIH1cblxuICAgIGNyZWF0ZVZpZXdNZW51ICgpXG4gICAge1xuICAgICAgICBjb25zdCB2aWV3T3B0aW9uc0xpc3QgPSBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndmlldy1vcHRpb25zJykpO1xuICAgICAgICBjb25zdCBncmlkVmlld0ljb24gPSB0aGlzLl9jcmVhdGVHcmlkVmlld0ljb24oKTtcbiAgICAgICAgY29uc3QgYm9va1ZpZXdJY29uID0gdGhpcy5fY3JlYXRlQm9va1ZpZXdJY29uKCk7XG4gICAgICAgIGNvbnN0IHBhZ2VWaWV3SWNvbiA9IHRoaXMuX2NyZWF0ZVBhZ2VWaWV3SWNvbigpO1xuXG4gICAgICAgIGNvbnN0IHZpZXdPcHRpb25zVG9nZ2xlID0gKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgdmlld09wdGlvbnNMaXN0LnN0eWxlLmRpc3BsYXkgPSB2aWV3T3B0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9PT0gXCJub25lXCIgPyBcImJsb2NrXCIgOiBcIm5vbmVcIjtcbiAgICAgICAgfTtcblxuICAgICAgICBjb25zdCBjaGFuZ2VWaWV3QnV0dG9uID0gdGhpcy5jcmVhdGVCdXR0b24oJ3ZpZXctaWNvbicsICdDaGFuZ2UgdmlldycsIHZpZXdPcHRpb25zVG9nZ2xlKTtcblxuICAgICAgICBjb25zdCBzZWxlY3RWaWV3ID0gKHZpZXcpID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMudmlld2VyLmNoYW5nZVZpZXcodmlldyk7XG5cbiAgICAgICAgICAgIC8vaGlkZSB2aWV3IG1lbnVcbiAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH07XG5cbiAgICAgICAgY29uc3QgdXBkYXRlVmlld01lbnUgPSAoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB2aWV3SWNvbkNsYXNzZXMgPSAnIGRpdmEtdmlldy1pY29uIGRpdmEtYnV0dG9uJztcblxuXG4gICAgICAgICAgICAvLyBkaXNwbGF5IHRoZSBpY29uIG9mIHRoZSBtb2RlIHdlJ3JlIGN1cnJlbnRseSBpbiAoPylcbiAgICAgICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmFwcGVuZENoaWxkKGdyaWRWaWV3SWNvbik7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5jbGFzc05hbWUgPSAnZGl2YS1ncmlkLWljb24nICsgdmlld0ljb25DbGFzc2VzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5pbkJvb2tMYXlvdXQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5hcHBlbmRDaGlsZChib29rVmlld0ljb24pO1xuICAgICAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24uY2xhc3NOYW1lID0gJ2RpdmEtYm9vay1pY29uJyArIHZpZXdJY29uQ2xhc3NlcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjaGFuZ2VWaWV3QnV0dG9uLmFwcGVuZENoaWxkKHBhZ2VWaWV3SWNvbik7XG4gICAgICAgICAgICAgICAgY2hhbmdlVmlld0J1dHRvbi5jbGFzc05hbWUgPSAnZGl2YS1kb2N1bWVudC1pY29uJyArIHZpZXdJY29uQ2xhc3NlcztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgY29uc3Qgdmlld09wdGlvbnMgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XG5cbiAgICAgICAgICAgIC8vIHRoZW4gZGlzcGxheSBkb2N1bWVudCwgYm9vaywgYW5kIGdyaWQgYnV0dG9ucyBpbiB0aGF0IG9yZGVyLCBleGNsdWRpbmcgdGhlIGN1cnJlbnQgdmlld1xuICAgICAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5HcmlkIHx8IHRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICAgICAgICAgIHZpZXdPcHRpb25zLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQnV0dG9uKCdkb2N1bWVudC1pY29uJywgJ0RvY3VtZW50IFZpZXcnLCBzZWxlY3RWaWV3LmJpbmQobnVsbCwgJ2RvY3VtZW50JyksIHBhZ2VWaWV3SWNvbikpO1xuXG4gICAgICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQgfHwgIXRoaXMuc2V0dGluZ3MuaW5Cb29rTGF5b3V0KVxuICAgICAgICAgICAgICAgIHZpZXdPcHRpb25zLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQnV0dG9uKCdib29rLWljb24nLCAnQm9vayBWaWV3Jywgc2VsZWN0Vmlldy5iaW5kKG51bGwsICdib29rJyksIGJvb2tWaWV3SWNvbikpO1xuXG4gICAgICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICAgICAgICAgIHZpZXdPcHRpb25zLmFwcGVuZENoaWxkKHRoaXMuY3JlYXRlQnV0dG9uKCdncmlkLWljb24nLCAnR3JpZCBWaWV3Jywgc2VsZWN0Vmlldy5iaW5kKG51bGwsICdncmlkJyksIGdyaWRWaWV3SWNvbikpO1xuXG4gICAgICAgICAgICAvLyByZW1vdmUgb2xkIG1lbnVcbiAgICAgICAgICAgIHdoaWxlICh2aWV3T3B0aW9uc0xpc3QuZmlyc3RDaGlsZClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3QucmVtb3ZlQ2hpbGQodmlld09wdGlvbnNMaXN0LmZpcnN0Q2hpbGQpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvLyBpbnNlcnQgbmV3IG1lbnVcbiAgICAgICAgICAgIHZpZXdPcHRpb25zTGlzdC5hcHBlbmRDaGlsZCh2aWV3T3B0aW9ucyk7XG4gICAgICAgIH07XG5cbiAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignbW91c2V1cCcsIGV2ZW50ID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmICh2aWV3T3B0aW9uc0xpc3QgIT09IGV2ZW50LnRhcmdldClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3Quc3R5bGUuZGlzcGxheSA9ICdub25lJztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5fc3Vic2NyaWJlKCdWaWV3RGlkU3dpdGNoJywgdXBkYXRlVmlld01lbnUpO1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoJ09iamVjdERpZExvYWQnLCB1cGRhdGVWaWV3TWVudSk7XG5cbiAgICAgICAgcmV0dXJuIGVsdCgnZGl2JywgdGhpcy5fZWxlbUF0dHJzKCd2aWV3LW1lbnUnKSxcbiAgICAgICAgICAgIGNoYW5nZVZpZXdCdXR0b24sXG4gICAgICAgICAgICB2aWV3T3B0aW9uc0xpc3RcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBjcmVhdGVGdWxsc2NyZWVuQnV0dG9uICgpXG4gICAge1xuICAgICAgICBsZXQgZnVsbHNjcmVlbkljb24gPSB0aGlzLl9jcmVhdGVGdWxsc2NyZWVuSWNvbigpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZUJ1dHRvbignZnVsbHNjcmVlbi1pY29uJywgJ1RvZ2dsZSBmdWxsc2NyZWVuIG1vZGUnLCAoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnZpZXdlci50b2dnbGVGdWxsc2NyZWVuTW9kZSgpO1xuICAgICAgICB9LCBmdWxsc2NyZWVuSWNvbik7XG4gICAgfVxuXG4gICAgdG9nZ2xlWm9vbUdyaWRDb250cm9scyAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnNldHRpbmdzLmluR3JpZClcbiAgICAgICAge1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArIFwiem9vbS1jb250cm9sc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5JRCArIFwiZ3JpZC1jb250cm9sc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLnNldHRpbmdzLklEICsgXCJ6b29tLWNvbnRyb2xzXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc2V0dGluZ3MuSUQgKyBcImdyaWQtY29udHJvbHNcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gICAgcmVuZGVyICgpXG4gICAge1xuICAgICAgICB0aGlzLl9zdWJzY3JpYmUoXCJWaWV3RGlkU3dpdGNoXCIsIHRoaXMudG9nZ2xlWm9vbUdyaWRDb250cm9scyk7XG4gICAgICAgIHRoaXMuX3N1YnNjcmliZShcIk9iamVjdERpZExvYWRcIiwgdGhpcy50b2dnbGVab29tR3JpZENvbnRyb2xzKTtcblxuICAgICAgICBsZXQgbGVmdFRvb2xzID0gW1xuICAgICAgICAgICAgdGhpcy5jcmVhdGVab29tQnV0dG9ucygpLFxuICAgICAgICAgICAgdGhpcy5jcmVhdGVHcmlkQ29udHJvbHMoKVxuICAgICAgICBdO1xuICAgICAgICBsZXQgcmlnaHRUb29scyA9IFtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlUGFnZUxhYmVsKCksXG4gICAgICAgICAgICB0aGlzLmNyZWF0ZVZpZXdNZW51KClcbiAgICAgICAgXTtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuZW5hYmxlRnVsbHNjcmVlbilcbiAgICAgICAgICAgIHJpZ2h0VG9vbHMucHVzaCh0aGlzLmNyZWF0ZUZ1bGxzY3JlZW5CdXR0b24oKSk7XG4gICAgICAgIGlmICh0aGlzLnNldHRpbmdzLmVuYWJsZUdvdG9QYWdlKVxuICAgICAgICAgICAgcmlnaHRUb29scy5zcGxpY2UoMSwgMCwgdGhpcy5jcmVhdGVHb3RvUGFnZUZvcm0oKSk7XG5cbiAgICAgICAgLy8gYXNzaWduIHRvb2xiYXIgcGx1Z2lucyB0byBwcm9wZXIgc2lkZVxuICAgICAgICBsZXQgcGx1Z2lucyA9IHRoaXMudmlld2VyLnZpZXdlclN0YXRlLnBsdWdpbkluc3RhbmNlcztcbiAgICAgICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBsdWdpbnMubGVuZ3RoOyBpIDwgbGVuOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwbHVnaW4gPSBwbHVnaW5zW2ldO1xuXG4gICAgICAgICAgICBpZiAoIXBsdWdpbi50b29sYmFyU2lkZSkgLy8gbm90IGEgdG9vbGJhciB0b29sXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIHBsdWdpbi50b29sYmFySWNvbiA9IHBsdWdpbi5jcmVhdGVJY29uKCk7XG4gICAgICAgICAgICBpZiAoIXBsdWdpbi50b29sYmFySWNvbikgLy8gaWNvbiBjb3VsZG4ndCBiZSBjcmVhdGVkXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vIGFkZCBwbHVnaW4gdG9vbHMgYWZ0ZXIgdGhlIGdvLXRvLXBhZ2UgYW5kIHBhZ2UtbGFiZWwgdG9vbHNcbiAgICAgICAgICAgIGlmIChwbHVnaW4udG9vbGJhclNpZGUgPT09ICdyaWdodCcpXG4gICAgICAgICAgICAgICAgcmlnaHRUb29scy5zcGxpY2UoMiwgMCwgcGx1Z2luLnRvb2xiYXJJY29uKTtcbiAgICAgICAgICAgIGVsc2UgaWYgKHBsdWdpbi50b29sYmFyU2lkZSA9PT0gJ2xlZnQnKVxuICAgICAgICAgICAgICAgIGxlZnRUb29scy5zcGxpY2UoMiwgMCwgcGx1Z2luLnRvb2xiYXJJY29uKTtcblxuICAgICAgICAgICAgcGx1Z2luLnRvb2xiYXJJY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlUGx1Z2luQ2xpY2suYmluZCh0aGlzLCBwbHVnaW4pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZ1bmN0aW9uIGhhbmRsZVBsdWdpbkNsaWNrIChwbHVnaW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBsdWdpbi5oYW5kbGVDbGljayh0aGlzLnZpZXdlcik7XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0b29scyA9IGVsdCgnZGl2JywgdGhpcy5fZWxlbUF0dHJzKCd0b29scycpLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndG9vbHMtbGVmdCcpLCBsZWZ0VG9vbHMpLFxuICAgICAgICAgICAgICAgICAgICBlbHQoJ2RpdicsIHRoaXMuX2VsZW1BdHRycygndG9vbHMtcmlnaHQnKSwgcmlnaHRUb29scylcbiAgICAgICAgICAgICAgICApO1xuXG4gICAgICAgIHRoaXMuc2V0dGluZ3MudG9vbGJhclBhcmVudE9iamVjdC5pbnNlcnRCZWZvcmUoXG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIHRoaXMuc2V0dGluZ3MudG9vbGJhclBhcmVudE9iamVjdC5maXJzdENoaWxkXG4gICAgICAgICk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVRvb2xiYXJJY29uIChwYXRocylcbiAgICB7XG4gICAgICAgIGxldCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJzdmdcIik7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlTlMobnVsbCwgJ3ZpZXdCb3gnLCBcIjAgMCAyNSAyNVwiKTtcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneCcsICcwcHgnKTtcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAneScsICcwcHgnKTtcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGVOUyhudWxsLCAnc3R5bGUnLCBcImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgNDggNDg7XCIpO1xuXG4gICAgICAgIGxldCBnbHlwaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsIFwiZ1wiKTtcbiAgICAgICAgZ2x5cGguc2V0QXR0cmlidXRlTlMobnVsbCwgXCJ0cmFuc2Zvcm1cIiwgXCJtYXRyaXgoMSwgMCwgMCwgMSwgLTEyLCAtMTIpXCIpO1xuXG4gICAgICAgIHBhdGhzLmZvckVhY2goIChwYXRoKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcEVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKFwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiwgXCJwYXRoXCIpO1xuICAgICAgICAgICAgcEVsLnNldEF0dHJpYnV0ZU5TKG51bGwsIFwiZFwiLCBwYXRoKTtcbiAgICAgICAgICAgIGdseXBoLmFwcGVuZENoaWxkKHBFbCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGljb24uYXBwZW5kQ2hpbGQoZ2x5cGgpO1xuICAgICAgICByZXR1cm4gaWNvbjtcbiAgICB9XG5cbiAgICBfY3JlYXRlWm9vbU91dEljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTE5LjUsMjNjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTFjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg3YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2MWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDE5LjV6XCIsXG4gICAgICAgICAgICBcIk0zNy4yMTksMzQuMjU3bC0yLjIxMywyLjIxMmMtMC4yMDIsMC4yMDItMC41MzQsMC4yMDItMC43MzYsMGwtNi4wOTgtNi4wOTljLTEuNTM3LDAuOTkzLTMuMzYyLDEuNTc3LTUuMzIzLDEuNTc3Yy01LjQzMSwwLTkuODQ5LTQuNDE4LTkuODQ5LTkuODQ5YzAtNS40MzEsNC40MTgtOS44NDksOS44NDktOS44NDljNS40MzEsMCw5Ljg0OSw0LjQxOCw5Ljg0OSw5Ljg0OWMwLDEuOTYxLTAuNTg0LDMuNzg2LTEuNTc2LDUuMzIzbDYuMDk4LDYuMDk4QzM3LjQyMiwzMy43MjIsMzcuNDIyLDM0LjA1NCwzNy4yMTksMzQuMjU3eiBNMjkuNTY4LDIyLjA5OWMwLTMuNzA2LTMuMDE0LTYuNzItNi43Mi02LjcyYy0zLjcwNiwwLTYuNzIsMy4wMTQtNi43Miw2LjcyYzAsMy43MDYsMy4wMTQsNi43Miw2LjcyLDYuNzJDMjYuNTU1LDI4LjgxOCwyOS41NjgsMjUuODA1LDI5LjU2OCwyMi4wOTl6XCJcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVab29tSW5JY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0zNy40NjksMzQuMjU3bC0yLjIxMywyLjIxMmMtMC4yMDIsMC4yMDItMC41MzQsMC4yMDItMC43MzYsMGwtNi4wOTgtNi4wOTljLTEuNTM3LDAuOTkzLTMuMzYyLDEuNTc3LTUuMzIzLDEuNTc3Yy01LjQzMSwwLTkuODQ5LTQuNDE4LTkuODQ5LTkuODQ5YzAtNS40MzEsNC40MTgtOS44NDksOS44NDktOS44NDljNS40MzEsMCw5Ljg0OSw0LjQxOCw5Ljg0OSw5Ljg0OWMwLDEuOTYxLTAuNTg0LDMuNzg2LTEuNTc2LDUuMzIzbDYuMDk4LDYuMDk4QzM3LjY3MiwzMy43MjIsMzcuNjcyLDM0LjA1NCwzNy40NjksMzQuMjU3eiBNMjkuODE4LDIyLjA5OWMwLTMuNzA2LTMuMDE0LTYuNzItNi43Mi02LjcyYy0zLjcwNiwwLTYuNzIsMy4wMTQtNi43Miw2LjcyYzAsMy43MDYsMy4wMTQsNi43Miw2LjcyLDYuNzJDMjYuODA1LDI4LjgxOCwyOS44MTgsMjUuODA1LDI5LjgxOCwyMi4wOTl6IE0yNi41LDIxSDI0di0yLjVjMC0wLjI3NS0wLjIyNS0wLjUtMC41LTAuNWgtMWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNVYyMWgtMi41Yy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41djFjMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNUgyMnYyLjVjMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNWgxYzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjVWMjNoMi41YzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjV2LTFDMjcsMjEuMjI1LDI2Ljc3NSwyMSwyNi41LDIxelwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUdyaWRNb3JlSWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMjkuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41eiBNMjkuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjkuNXogTTIxLjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDIxLjV6IE0xMy41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgxMy41elwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZUdyaWRGZXdlckljb24gKClcbiAgICB7XG4gICAgICAgIGxldCBwYXRocyA9IFtcbiAgICAgICAgICAgIFwiTTI1LjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTljMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg5YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2OWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDI1LjV6IE0yMi41LDM1YzAuMjc1LDAsMC41LTAuMjI1LDAuNS0wLjV2LTljMC0wLjI3NS0wLjIyNS0wLjUtMC41LTAuNWgtOWMtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXY5YzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVIMjIuNXogTTM0LjUsMjNjMC4yNzUsMCwwLjUtMC4yMjUsMC41LTAuNXYtOWMwLTAuMjc1LTAuMjI1LTAuNS0wLjUtMC41aC05Yy0wLjI3NSwwLTAuNSwwLjIyNS0wLjUsMC41djljMCwwLjI3NSwwLjIyNSwwLjUsMC41LDAuNUgzNC41eiBNMjIuNSwyM2MwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41di05YzAtMC4yNzUtMC4yMjUtMC41LTAuNS0wLjVoLTljLTAuMjc1LDAtMC41LDAuMjI1LTAuNSwwLjV2OWMwLDAuMjc1LDAuMjI1LDAuNSwwLjUsMC41SDIyLjV6XCJcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlR3JpZFZpZXdJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0yOS41LDM1Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyOS41eiBNMjEuNSwzNWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjEuNXogTTEzLjUsMzVjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDEzLjV6IE0yOS41LDI3Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyOS41eiBNMjEuNSwyN2MtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjEuNXogTTEzLjUsMjdjLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDEzLjV6IE0yOS41LDE5Yy0wLjI3NSwwLTAuNS0wLjIyNS0wLjUtMC41di01YzAtMC4yNzUsMC4yMjUtMC41LDAuNS0wLjVoNWMwLjI3NSwwLDAuNSwwLjIyNSwwLjUsMC41djVjMCwwLjI3NS0wLjIyNSwwLjUtMC41LDAuNUgyOS41eiBNMjEuNSwxOWMtMC4yNzUsMC0wLjUtMC4yMjUtMC41LTAuNXYtNWMwLTAuMjc1LDAuMjI1LTAuNSwwLjUtMC41aDVjMC4yNzUsMCwwLjUsMC4yMjUsMC41LDAuNXY1YzAsMC4yNzUtMC4yMjUsMC41LTAuNSwwLjVIMjEuNXogTTEzLjUsMTljLTAuMjc1LDAtMC41LTAuMjI1LTAuNS0wLjV2LTVjMC0wLjI3NSwwLjIyNS0wLjUsMC41LTAuNWg1YzAuMjc1LDAsMC41LDAuMjI1LDAuNSwwLjV2NWMwLDAuMjc1LTAuMjI1LDAuNS0wLjUsMC41SDEzLjV6XCJcbiAgICAgICAgXTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NyZWF0ZVRvb2xiYXJJY29uKHBhdGhzKTtcbiAgICB9XG5cbiAgICBfY3JlYXRlQm9va1ZpZXdJY29uICgpXG4gICAge1xuICAgICAgICBsZXQgcGF0aHMgPSBbXG4gICAgICAgICAgICBcIk0zNSwxNi44di0xLjMyM2MwLDAtMi4yOTItMS4zMjgtNS43NC0xLjMyOGMtMy40NDgsMC01LjI2LDEuMjUtNS4yNiwxLjI1cy0xLjgxMy0xLjI1LTUuMjYtMS4yNWMtMy40NDgsMC01Ljc0LDEuMzI4LTUuNzQsMS4zMjhWMTYuOGwtMSwwLjUzMXYwLjAyMXYxNS42ODdjMCwwLDQuNTMxLTEuNTc4LDYuOTk5LTEuNTc4YzIuNDY4LDAsNS4wMDEsMC44ODUsNS4wMDEsMC44ODVzMi41MzItMC44ODUsNS0wLjg4NWMwLjMwNiwwLDAuNjQzLDAuMDI0LDEsMC4wNjZ2NC4zMjVsMS41MzEtMi4wMTZMMzMsMzUuODUydi0zLjcyYzIsMC40MywzLDAuOTA2LDMsMC45MDZWMTcuMzUydi0wLjAyMUwzNSwxNi44eiBNMjMsMjkuMDNjLTEtMC4yOTItMi41ODQtMC42NzktMy45ODEtMC42NzljLTIuMjQ2LDAtMy4wMTksMC40MDQtNC4wMTksMC42OTlWMTYuNjM0YzAsMCwxLjEyNS0wLjY5OSw0LjAxOS0wLjY5OWMxLjY5NCwwLDIuOTgxLDAuNDE3LDMuOTgxLDEuMTI2VjI5LjAzeiBNMzMsMjkuMDUxYy0xLTAuMjk1LTEuNzczLTAuNjk5LTQuMDItMC42OTljLTEuMzk2LDAtMi45ODEsMC4zODctMy45OCwwLjY3OVYxNy4wNmMxLTAuNzA5LDIuMjg2LTEuMTI2LDMuOTgtMS4xMjZjMi44OTUsMCw0LjAyLDAuNjk5LDQuMDIsMC42OTlWMjkuMDUxelwiXG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiB0aGlzLl9jcmVhdGVUb29sYmFySWNvbihwYXRocyk7XG4gICAgfVxuXG4gICAgX2NyZWF0ZVBhZ2VWaWV3SWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMjkuNDI1LDI5aDQuNDdMMjksMzMuOTM0di00LjQ3QzI5LDI5LjE5LDI5LjE1MSwyOSwyOS40MjUsMjl6IE0zNCwxNC41NjNWMjhoLTUuNTY5QzI4LjE1NywyOCwyOCwyOC4xOTYsMjgsMjguNDdWMzRIMTQuNDk3QzE0LjIyMywzNCwxNCwzMy43MSwxNCwzMy40MzdWMTQuNTYzQzE0LDE0LjI5LDE0LjIyMywxNCwxNC40OTcsMTRoMTguOUMzMy42NzIsMTQsMzQsMTQuMjksMzQsMTQuNTYzeiBNMjUuNDk3LDI2LjQ5N0MyNS40OTcsMjYuMjIzLDI1LjI3NSwyNiwyNSwyNmgtN2MtMC4yNzUsMC0wLjQ5NywwLjIyMy0wLjQ5NywwLjQ5N3YxLjAwNkMxNy41MDMsMjcuNzc3LDE3LjcyNSwyOCwxOCwyOGg3YzAuMjc1LDAsMC40OTctMC4yMjMsMC40OTctMC40OTdWMjYuNDk3eiBNMzAuNDk3LDIyLjQ5N0MzMC40OTcsMjIuMjIzLDMwLjI3NSwyMiwzMCwyMkgxOGMtMC4yNzUsMC0wLjQ5NywwLjIyMy0wLjQ5NywwLjQ5N3YxLjAwNkMxNy41MDMsMjMuNzc3LDE3LjcyNSwyNCwxOCwyNGgxMmMwLjI3NSwwLDAuNDk3LTAuMjIzLDAuNDk3LTAuNDk3VjIyLjQ5N3ogTTMwLjQ5NywxOC40OTdDMzAuNDk3LDE4LjIyMywzMC4yNzUsMTgsMzAsMThIMThjLTAuMjc1LDAtMC40OTcsMC4yMjMtMC40OTcsMC40OTd2MS4wMDZDMTcuNTAzLDE5Ljc3NywxNy43MjUsMjAsMTgsMjBoMTJjMC4yNzUsMCwwLjQ5Ny0wLjIyMywwLjQ5Ny0wLjQ5N1YxOC40OTd6XCJcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cblxuICAgIF9jcmVhdGVGdWxsc2NyZWVuSWNvbiAoKVxuICAgIHtcbiAgICAgICAgbGV0IHBhdGhzID0gW1xuICAgICAgICAgICAgXCJNMzUsMTJIMTNjLTAuNTUsMC0xLDAuNDUtMSwxdjIyYzAsMC41NSwwLjQ1LDEsMSwxaDIyYzAuNTUsMCwxLTAuNDUsMS0xVjEzQzM2LDEyLjQ1LDM1LjU1LDEyLDM1LDEyeiBNMzQsMzRIMTRWMTRoMjBWMzR6XCIsXG4gICAgICAgICAgICBcIk0xNywyMS43NXYtNC41YzAtMC4xMzgsMC4xMTItMC4yNSwwLjI1LTAuMjVoNC41YzAuMTM4LDAsMC4xNywwLjA4LDAuMDczLDAuMTc3bC0xLjYxNiwxLjYxNmwxLjgyMywxLjgyM2MwLjA5NywwLjA5NywwLjA5NywwLjI1NiwwLDAuMzU0bC0xLjA2MSwxLjA2Yy0wLjA5NywwLjA5Ny0wLjI1NiwwLjA5Ny0wLjM1NCwwbC0xLjgyMy0xLjgyM2wtMS42MTYsMS42MTZDMTcuMDgsMjEuOTIsMTcsMjEuODg4LDE3LDIxLjc1eiBNMjAuOTcsMjUuOTdjLTAuMDk3LTAuMDk3LTAuMjU2LTAuMDk3LTAuMzU0LDBsLTEuODIzLDEuODIzbC0xLjYxNi0xLjYxNkMxNy4wOCwyNi4wOCwxNywyNi4xMTIsMTcsMjYuMjV2NC41YzAsMC4xMzgsMC4xMTIsMC4yNSwwLjI1LDAuMjVoNC41YzAuMTM4LDAsMC4xNy0wLjA4LDAuMDczLTAuMTc3bC0xLjYxNi0xLjYxNmwxLjgyMy0xLjgyM2MwLjA5Ny0wLjA5NywwLjA5Ny0wLjI1NiwwLTAuMzU0TDIwLjk3LDI1Ljk3eiBNMzAuNzUsMTdoLTQuNWMtMC4xMzgsMC0wLjE3LDAuMDgtMC4wNzMsMC4xNzdsMS42MTYsMS42MTZsLTEuODIzLDEuODIzYy0wLjA5NywwLjA5Ny0wLjA5NywwLjI1NiwwLDAuMzU0bDEuMDYxLDEuMDZjMC4wOTcsMC4wOTcsMC4yNTYsMC4wOTcsMC4zNTQsMGwxLjgyMy0xLjgyM2wxLjYxNiwxLjYxNkMzMC45MiwyMS45MiwzMSwyMS44ODgsMzEsMjEuNzV2LTQuNUMzMSwxNy4xMTIsMzAuODg4LDE3LDMwLjc1LDE3eiBNMzAuODIzLDI2LjE3N2wtMS42MTYsMS42MTZsLTEuODIzLTEuODIzYy0wLjA5Ny0wLjA5Ny0wLjI1Ni0wLjA5Ny0wLjM1NCwwbC0xLjA2MSwxLjA2Yy0wLjA5NywwLjA5Ny0wLjA5NywwLjI1NiwwLDAuMzU0bDEuODIzLDEuODIzbC0xLjYxNiwxLjYxNkMyNi4wOCwzMC45MiwyNi4xMTIsMzEsMjYuMjUsMzFoNC41YzAuMTM4LDAsMC4yNS0wLjExMiwwLjI1LTAuMjV2LTQuNUMzMSwyNi4xMTIsMzAuOTIsMjYuMDgsMzAuODIzLDI2LjE3N3ogTTI2LDIyLjVjMC0wLjI3NS0wLjIyNS0wLjUtMC41LTAuNWgtM2MtMC4yNzUsMC0wLjUsMC4yMjUtMC41LDAuNXYzYzAsMC4yNzUsMC4yMjUsMC41LDAuNSwwLjVoM2MwLjI3NSwwLDAuNS0wLjIyNSwwLjUtMC41VjIyLjV6XCJcbiAgICAgICAgXTtcblxuICAgICAgICByZXR1cm4gdGhpcy5fY3JlYXRlVG9vbGJhckljb24ocGF0aHMpO1xuICAgIH1cbn1cbiIsImxldCBIYXNoUGFyYW1zID0ge1xuICAgIGdldDogZ2V0SGFzaFBhcmFtLFxuICAgIHVwZGF0ZTogdXBkYXRlSGFzaFBhcmFtXG59O1xuXG5leHBvcnQgZGVmYXVsdCBIYXNoUGFyYW1zO1xuXG5cbi8vIEZvciBnZXR0aW5nIHRoZSAja2V5IHZhbHVlcyBmcm9tIHRoZSBVUkwuIEZvciBzcGVjaWZ5aW5nIGEgcGFnZSBhbmQgem9vbSBsZXZlbFxuLy8gTG9vayBpbnRvIGNhY2hpbmcsIGJlY2F1c2Ugd2Ugb25seSBuZWVkIHRvIGdldCB0aGlzIGR1cmluZyB0aGUgaW5pdGlhbCBsb2FkXG4vLyBBbHRob3VnaCBmb3IgdGhlIHRlc3RzIEkgZ3Vlc3Mgd2Ugd291bGQgbmVlZCB0byBvdmVycmlkZSBjYWNoaW5nIHNvbWVob3dcbmZ1bmN0aW9uIGdldEhhc2hQYXJhbSAoa2V5KVxue1xuICAgIGNvbnN0IGhhc2ggPSB3aW5kb3cubG9jYXRpb24uaGFzaDtcblxuICAgIGlmIChoYXNoICE9PSAnJylcbiAgICB7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZXJlIGlzIHNvbWV0aGluZyB0aGF0IGxvb2tzIGxpa2UgZWl0aGVyICZrZXk9IG9yICNrZXk9XG4gICAgICAgIGxldCBzdGFydEluZGV4ID0gKGhhc2guaW5kZXhPZignJicgKyBrZXkgKyAnPScpID4gMCkgPyBoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA6IGhhc2guaW5kZXhPZignIycgKyBrZXkgKyAnPScpO1xuXG4gICAgICAgIC8vIElmIHN0YXJ0SW5kZXggaXMgc3RpbGwgLTEsIGl0IG1lYW5zIGl0IGNhbid0IGZpbmQgZWl0aGVyXG4gICAgICAgIGlmIChzdGFydEluZGV4ID49IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIEFkZCB0aGUgbGVuZ3RoIG9mIHRoZSBrZXkgcGx1cyB0aGUgJiBhbmQgPVxuICAgICAgICAgICAgc3RhcnRJbmRleCArPSBrZXkubGVuZ3RoICsgMjtcblxuICAgICAgICAgICAgLy8gRWl0aGVyIHRvIHRoZSBuZXh0IGFtcGVyc2FuZCBvciB0byB0aGUgZW5kIG9mIHRoZSBzdHJpbmdcbiAgICAgICAgICAgIGNvbnN0IGVuZEluZGV4ID0gaGFzaC5pbmRleE9mKCcmJywgc3RhcnRJbmRleCk7XG4gICAgICAgICAgICBpZiAoZW5kSW5kZXggPiBzdGFydEluZGV4KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoaGFzaC5zdWJzdHJpbmcoc3RhcnRJbmRleCwgZW5kSW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGVuZEluZGV4IDwgMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBUaGlzIG1lYW5zIHRoaXMgaGFzaCBwYXJhbSBpcyB0aGUgbGFzdCBvbmVcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGhhc2guc3Vic3RyaW5nKHN0YXJ0SW5kZXgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIElmIHRoZSBrZXkgZG9lc24ndCBoYXZlIGEgdmFsdWUgSSB0aGlua1xuICAgICAgICAgICAgcmV0dXJuICcnO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSWYgaXQgY2FuJ3QgZmluZCB0aGUga2V5XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZVxuICAgIHtcbiAgICAgICAgLy8gSWYgdGhlcmUgYXJlIG5vIGhhc2ggcGFyYW1zIGp1c3QgcmV0dXJuIGZhbHNlXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHVwZGF0ZUhhc2hQYXJhbSAoa2V5LCB2YWx1ZSlcbntcbiAgICAvLyBGaXJzdCBtYWtlIHN1cmUgdGhhdCB3ZSBoYXZlIHRvIGRvIGFueSB3b3JrIGF0IGFsbFxuICAgIGNvbnN0IG9yaWdpbmFsVmFsdWUgPSBnZXRIYXNoUGFyYW0oa2V5KTtcbiAgICBjb25zdCBoYXNoID0gd2luZG93LmxvY2F0aW9uLmhhc2g7XG5cbiAgICBpZiAob3JpZ2luYWxWYWx1ZSAhPT0gdmFsdWUpXG4gICAge1xuICAgICAgICAvLyBJcyB0aGUga2V5IGFscmVhZHkgaW4gdGhlIFVSTD9cbiAgICAgICAgaWYgKHR5cGVvZiBvcmlnaW5hbFZhbHVlID09PSAnc3RyaW5nJylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gQWxyZWFkeSBpbiB0aGUgVVJMLiBKdXN0IGdldCByaWQgb2YgdGhlIG9yaWdpbmFsIHZhbHVlXG4gICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gKGhhc2guaW5kZXhPZignJicgKyBrZXkgKyAnPScpID4gMCkgPyBoYXNoLmluZGV4T2YoJyYnICsga2V5ICsgJz0nKSA6IGhhc2guaW5kZXhPZignIycgKyBrZXkgKyAnPScpO1xuICAgICAgICAgICAgY29uc3QgZW5kSW5kZXggPSBzdGFydEluZGV4ICsga2V5Lmxlbmd0aCArIDIgKyBvcmlnaW5hbFZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgIC8vICMgaWYgaXQncyB0aGUgZmlyc3QsICYgb3RoZXJ3aXNlXG4gICAgICAgICAgICBjb25zdCBzdGFydFRoaW5nID0gKHN0YXJ0SW5kZXggPT09IDApID8gJyMnIDogJyYnO1xuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLnJlcGxhY2UoaGFzaC5zdWJzdHJpbmcoMCwgc3RhcnRJbmRleCkgKyBzdGFydFRoaW5nICsga2V5ICsgJz0nICsgdmFsdWUgKyBoYXNoLnN1YnN0cmluZyhlbmRJbmRleCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gSXQncyBub3QgcHJlc2VudCAtIGFkZCBpdFxuICAgICAgICAgICAgaWYgKGhhc2gubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5yZXBsYWNlKCcjJyArIGtleSArICc9JyArIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAvLyBBcHBlbmQgaXRcbiAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24ucmVwbGFjZShoYXNoICsgJyYnICsga2V5ICsgJz0nICsgdmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0ICcuL3V0aWxzL3ZhbmlsbGEua2luZXRpYyc7XG5pbXBvcnQgJy4vdXRpbHMvZHJhZ3Njcm9sbCc7XG5pbXBvcnQgeyBlbHQgfSBmcm9tIFwiLi91dGlscy9lbHRcIjtcbmltcG9ydCB7XG4gICAgRGl2YVBhcmVudEVsZW1lbnROb3RGb3VuZEV4Y2VwdGlvbixcbiAgICBOb3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbixcbiAgICBPYmplY3REYXRhTm90U3VwcGxpZWRFeGNlcHRpb25cbn0gZnJvbSBcIi4vZXhjZXB0aW9uc1wiO1xuaW1wb3J0IGRpdmEgZnJvbSBcIi4vZGl2YS1nbG9iYWxcIjtcbmltcG9ydCBWaWV3ZXJDb3JlIGZyb20gXCIuL3ZpZXdlci1jb3JlXCI7XG5pbXBvcnQgSW1hZ2VNYW5pZmVzdCBmcm9tIFwiLi9pbWFnZS1tYW5pZmVzdFwiO1xuaW1wb3J0IFRvb2xiYXIgZnJvbSBcIi4vdG9vbGJhclwiO1xuaW1wb3J0IEhhc2hQYXJhbXMgZnJvbSBcIi4vdXRpbHMvaGFzaC1wYXJhbXNcIjtcblxuXG4vKipcbiAqIFRoZSB0b3AtbGV2ZWwgY2xhc3MgZm9yIERpdmEgb2JqZWN0cy4gVGhpcyBpcyBpbnN0YW50aWF0ZWQgYnkgcGFzc2luZyBpbiBhbiBIVE1MIGVsZW1lbnRcbiAqIElEIG9yIEhUTUwgRWxlbWVudCBub2RlIGFuZCBhbiBvYmplY3QgY29udGFpbmluZyBhIGxpc3Qgb2Ygb3B0aW9ucywgb2Ygd2hpY2ggdGhlICdvYmplY3REYXRhJ1xuICogb3B0aW9uIGlzIHJlcXVpcmVkIGFuZCB3aGljaCBtdXN0IHBvaW50IHRvIGEgSUlJRiBQcmVzZW50YXRpb24gQVBJIE1hbmlmZXN0OlxuICpcbiAqIHZhciBkaXZhID0gbmV3IERpdmEoJ2VsZW1lbnQtaWQnLCB7XG4gKiAgICAgb2JqZWN0RGF0YTogXCJodHRwOi8vZXhhbXBsZS5jb20vaWlpZi1tYW5pZmVzdC5qc29uXCJcbiAqIH0pO1xuICpcbiAqIFRoaXMgY2xhc3MgYWxzbyBzZXJ2ZXMgYXMgdGhlIGVudHJ5IHBvaW50IGZvciB0aGUgRXZlbnRzIHN5c3RlbSwgaW4gd2hpY2ggYXBwbGljYXRpb25zIGNhbiBzdWJzY3JpYmVcbiAqIHRvIG5vdGlmaWNhdGlvbnMgc2VudCBmcm9tIERpdmEgaW5zdGFuY2VzOlxuICpcbiAqIERpdmEuRXZlbnRzLnN1YnNjcmliZSgnVmlzaWJsZVBhZ2VEaWRDaGFuZ2UnLCBmdW5jdGlvbiAoKSB7IGNvbnNvbGUubG9nKFwiVmlzaWJsZSBQYWdlIENoYW5nZWRcIik7IH0pO1xuICpcbiAqXG4gKlxuICoqL1xuY2xhc3MgRGl2YVxue1xuICAgIGNvbnN0cnVjdG9yIChlbGVtZW50LCBvcHRpb25zKVxuICAgIHtcbiAgICAgICAgLypcbiAgICAgICAgICogSWYgYSBzdHJpbmcgaXMgcGFzc2VkIGluLCBjb252ZXJ0IHRoYXQgdG8gYW4gZWxlbWVudC5cbiAgICAgICAgICogKi9cbiAgICAgICAgaWYgKCEoZWxlbWVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5lbGVtZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoZWxlbWVudCk7XG5cbiAgICAgICAgICAgIGlmICh0aGlzLmVsZW1lbnQgPT09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IERpdmFQYXJlbnRFbGVtZW50Tm90Rm91bmRFeGNlcHRpb24oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghb3B0aW9ucy5vYmplY3REYXRhKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT2JqZWN0RGF0YU5vdFN1cHBsaWVkRXhjZXB0aW9uKCdZb3UgbXVzdCBzdXBwbHkgZWl0aGVyIGEgVVJMIG9yIGEgbGl0ZXJhbCBvYmplY3QgdG8gdGhlIGBvYmplY3REYXRhYCBrZXkuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLm9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHtcbiAgICAgICAgICAgIGFkYXB0aXZlUGFkZGluZzogMC4wNSwgICAgICAvLyBUaGUgcmF0aW8gb2YgcGFkZGluZyB0byB0aGUgcGFnZSBkaW1lbnNpb25cbiAgICAgICAgICAgIGFycm93U2Nyb2xsQW1vdW50OiA0MCwgICAgICAvLyBUaGUgYW1vdW50IChpbiBwaXhlbHMpIHRvIHNjcm9sbCBieSB3aGVuIHVzaW5nIGFycm93IGtleXNcbiAgICAgICAgICAgIGJsb2NrTW9iaWxlTW92ZTogZmFsc2UsICAgICAvLyBQcmV2ZW50IG1vdmluZyBvciBzY3JvbGxpbmcgdGhlIHBhZ2Ugb24gbW9iaWxlIGRldmljZXNcbiAgICAgICAgICAgIG9iamVjdERhdGE6ICcnLCAgICAgICAgICAgICAvLyBBIElJSUYgTWFuaWZlc3Qgb3IgYSBKU09OIGZpbGUgZ2VuZXJhdGVkIGJ5IHByb2Nlc3MucHkgdGhhdCBwcm92aWRlcyB0aGUgb2JqZWN0IGRpbWVuc2lvbiBkYXRhLCBvciBhIFVSTCBwb2ludGluZyB0byBzdWNoIGRhdGEgLSAqUkVRVUlSRUQqXG4gICAgICAgICAgICBlbmFibGVBdXRvVGl0bGU6IHRydWUsICAgICAgLy8gU2hvd3MgdGhlIHRpdGxlIHdpdGhpbiBhIGRpdiBvZiBpZCBkaXZhLXRpdGxlXG4gICAgICAgICAgICBlbmFibGVGaWxlbmFtZTogdHJ1ZSwgICAgICAgLy8gVXNlcyBmaWxlbmFtZXMgYW5kIG5vdCBwYWdlIG51bWJlcnMgZm9yIGxpbmtzIChpPWJtXzAwMS50aWYsIG5vdCBwPTEpXG4gICAgICAgICAgICBlbmFibGVGdWxsc2NyZWVuOiB0cnVlLCAgICAgLy8gRW5hYmxlIG9yIGRpc2FibGUgZnVsbHNjcmVlbiBpY29uIChtb2RlIHN0aWxsIGF2YWlsYWJsZSlcbiAgICAgICAgICAgIGVuYWJsZUdvdG9QYWdlOiB0cnVlLCAgICAgICAvLyBBIFwiZ28gdG8gcGFnZVwiIGp1bXAgYm94XG4gICAgICAgICAgICBlbmFibGVHb3RvU3VnZ2VzdGlvbnM6IHRydWUsIC8vIENvbnRyb2xzIHdoZXRoZXIgc3VnZ2VzdGlvbnMgYXJlIHNob3duIHVuZGVyIHRoZSBpbnB1dCBmaWVsZCB3aGVuIHRoZSB1c2VyIGlzIHR5cGluZyBpbiB0aGUgJ2dvIHRvIHBhZ2UnIGZvcm1cbiAgICAgICAgICAgIGVuYWJsZUdyaWRJY29uOiB0cnVlLCAgICAgICAvLyBBIGdyaWQgdmlldyBvZiBhbGwgdGhlIHBhZ2VzXG4gICAgICAgICAgICBlbmFibGVHcmlkQ29udHJvbHM6ICdidXR0b25zJywgIC8vIFNwZWNpZnkgY29udHJvbCBvZiBwYWdlcyBwZXIgZ3JpZCByb3cgaW4gR3JpZCB2aWV3LiBQb3NzaWJsZSB2YWx1ZXM6ICdidXR0b25zJyAoKy8tKSwgJ3NsaWRlcicuIEFueSBvdGhlciB2YWx1ZSBkaXNhYmxlcyB0aGUgY29udHJvbHMuXG4gICAgICAgICAgICBlbmFibGVJbWFnZVRpdGxlczogdHJ1ZSwgICAgLy8gQWRkcyBcIlBhZ2Uge259XCIgdGl0bGUgdG8gcGFnZSBpbWFnZXMgaWYgdHJ1ZVxuICAgICAgICAgICAgZW5hYmxlSW5kZXhBc0xhYmVsOiBmYWxzZSwgIC8vIFVzZSBpbmRleCBudW1iZXJzIGluc3RlYWQgb2YgcGFnZSBsYWJlbHMgaW4gdGhlIHBhZ2Ugbi1tIGRpc3BsYXkuXG4gICAgICAgICAgICBlbmFibGVLZXlTY3JvbGw6IHRydWUsICAgICAgLy8gQ2FwdHVyZXMgc2Nyb2xsaW5nIHVzaW5nIHRoZSBhcnJvdyBhbmQgcGFnZSB1cC9kb3duIGtleXMgcmVnYXJkbGVzcyBvZiBwYWdlIGZvY3VzLiBXaGVuIG9mZiwgZGVmZXJzIHRvIGRlZmF1bHQgYnJvd3NlciBzY3JvbGxpbmcgYmVoYXZpb3IuXG4gICAgICAgICAgICBlbmFibGVMaW5rSWNvbjogdHJ1ZSwgICAgICAgLy8gQ29udHJvbHMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGxpbmsgaWNvblxuICAgICAgICAgICAgZW5hYmxlTm9uUGFnZWRWaXNpYmlsaXR5SWNvbjogdHJ1ZSwgLy8gQ29udHJvbHMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIGljb24gdG8gdG9nZ2xlIHRoZSB2aXNpYmlsaXR5IG9mIG5vbi1wYWdlZCBwYWdlcy4gKEF1dG9tYXRpY2FsbHkgaGlkZGVuIGlmIG5vICdub24tcGFnZWQnIHBhZ2VzKS5cbiAgICAgICAgICAgIGVuYWJsZVNwYWNlU2Nyb2xsOiBmYWxzZSwgICAvLyBTY3JvbGxpbmcgZG93biBieSBwcmVzc2luZyB0aGUgc3BhY2Uga2V5XG4gICAgICAgICAgICBlbmFibGVUb29sYmFyOiB0cnVlLCAgICAgICAgLy8gRW5hYmxlcyB0aGUgdG9vbGJhci4gTm90ZSB0aGF0IGRpc2FibGluZyB0aGlzIG1lYW5zIHlvdSBoYXZlIHRvIGhhbmRsZSBhbGwgY29udHJvbHMgeW91cnNlbGYuXG4gICAgICAgICAgICBlbmFibGVab29tQ29udHJvbHM6ICdidXR0b25zJywgLy8gU3BlY2lmeSBjb250cm9scyBmb3Igem9vbWluZyBpbiBhbmQgb3V0LiBQb3NzaWJsZSB2YWx1ZXM6ICdidXR0b25zJyAoKy8tKSwgJ3NsaWRlcicuIEFueSBvdGhlciB2YWx1ZSBkaXNhYmxlcyB0aGUgY29udHJvbHMuXG4gICAgICAgICAgICBmaWxsUGFyZW50SGVpZ2h0OiB0cnVlLCAgICAgLy8gVXNlIGEgZmxleGJveCBsYXlvdXQgdG8gYWxsb3cgRGl2YSB0byBmaWxsIGl0cyBwYXJlbnQncyBoZWlnaHRcbiAgICAgICAgICAgIGZpeGVkUGFkZGluZzogMTAsICAgICAgICAgICAvLyBGYWxsYmFjayBpZiBhZGFwdGl2ZSBwYWRkaW5nIGlzIHNldCB0byAwXG4gICAgICAgICAgICBmaXhlZEhlaWdodEdyaWQ6IHRydWUsICAgICAgLy8gU28gZWFjaCBwYWdlIGluIGdyaWQgdmlldyBoYXMgdGhlIHNhbWUgaGVpZ2h0IChvbmx5IHdpZHRocyBkaWZmZXIpXG4gICAgICAgICAgICBnb0RpcmVjdGx5VG86IDAsICAgICAgICAgICAgLy8gRGVmYXVsdCBpbml0aWFsIHBhZ2UgdG8gc2hvdyAoMC1pbmRleGVkKVxuICAgICAgICAgICAgaGFzaFBhcmFtU3VmZml4OiBudWxsLCAgICAgIC8vIFVzZWQgd2hlbiB0aGVyZSBhcmUgbXVsdGlwbGUgZG9jdW1lbnQgdmlld2VycyBvbiBhIHBhZ2VcbiAgICAgICAgICAgIGltYWdlQ3Jvc3NPcmlnaW46ICdhbm9ueW1vdXMnLCAvLyBTZXQgY3Jvc3NPcmlnaW4gcHJvcGVydHkgZm9yIGltYWdlIHJlcXVlc3RzXG4gICAgICAgICAgICBpbkZ1bGxzY3JlZW46IGZhbHNlLCAgICAgICAgLy8gU2V0IHRvIHRydWUgdG8gbG9hZCBmdWxsc2NyZWVuIG1vZGUgaW5pdGlhbGx5XG4gICAgICAgICAgICBpbkJvb2tMYXlvdXQ6IGZhbHNlLCAgICAgICAvLyBTZXQgdG8gdHJ1ZSB0byB2aWV3IHRoZSBkb2N1bWVudCB3aXRoIGZhY2luZyBwYWdlcyBpbiBkb2N1bWVudCBtb2RlXG4gICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLCAgICAgICAgICAgICAgLy8gU2V0IHRvIHRydWUgdG8gbG9hZCBncmlkIHZpZXcgaW5pdGlhbGx5XG4gICAgICAgICAgICBtYXhQYWdlc1BlclJvdzogOCwgICAgICAgICAgLy8gTWF4aW11bSBudW1iZXIgb2YgcGFnZXMgcGVyIHJvdyBpbiBncmlkIHZpZXdcbiAgICAgICAgICAgIG1heFpvb21MZXZlbDogLTEsICAgICAgICAgICAvLyBPcHRpb25hbDsgZGVmYXVsdHMgdG8gdGhlIG1heCB6b29tIHJldHVybmVkIGluIHRoZSBKU09OIHJlc3BvbnNlXG4gICAgICAgICAgICBtaW5QYWdlc1BlclJvdzogMiwgICAgICAgICAgLy8gTWluaW11bSBwYWdlcyBwZXIgcm93IGluIGdyaWQgdmlldy4gUmVjb21tZW5kZWQgZGVmYXVsdC5cbiAgICAgICAgICAgIG1pblpvb21MZXZlbDogMCwgICAgICAgICAgICAvLyBEZWZhdWx0cyB0byAwICh0aGUgbWluaW11bSB6b29tKVxuICAgICAgICAgICAgb25Hb3RvU3VibWl0OiBudWxsLCAgICAgICAgIC8vIFdoZW4gc2V0IHRvIGEgZnVuY3Rpb24gdGhhdCB0YWtlcyBhIHN0cmluZyBhbmQgcmV0dXJucyBhIHBhZ2UgaW5kZXgsIHRoaXMgd2lsbCBvdmVycmlkZSB0aGUgZGVmYXVsdCBiZWhhdmlvdXIgb2YgdGhlICdnbyB0byBwYWdlJyBmb3JtIHN1Ym1pc3Npb25cbiAgICAgICAgICAgIHBhZ2VBbGlhc2VzOiB7fSwgICAgICAgICAgICAvLyBBbiBvYmplY3QgbWFwcGluZyBzcGVjaWZpYyBwYWdlIGluZGljZXMgdG8gYWxpYXNlcyAoaGFzIHByaW9yaXR5IG92ZXIgJ3BhZ2VBbGlhc0Z1bmN0aW9uJ1xuICAgICAgICAgICAgcGFnZUFsaWFzRnVuY3Rpb246IGZ1bmN0aW9uKCl7cmV0dXJuIGZhbHNlO30sICAvLyBBIGZ1bmN0aW9uIG1hcHBpbmcgcGFnZSBpbmRpY2VzIHRvIGFuIGFsaWFzLiBJZiBmYWxzZSBpcyByZXR1cm5lZCwgZGVmYXVsdCBwYWdlIG51bWJlciBpcyBkaXNwbGF5ZWRcbiAgICAgICAgICAgIHBhZ2VMb2FkVGltZW91dDogMjAwLCAgICAgICAvLyBOdW1iZXIgb2YgbWlsbGlzZWNvbmRzIHRvIHdhaXQgYmVmb3JlIGxvYWRpbmcgcGFnZXNcbiAgICAgICAgICAgIHBhZ2VzUGVyUm93OiA1LCAgICAgICAgICAgICAvLyBUaGUgZGVmYXVsdCBudW1iZXIgb2YgcGFnZXMgcGVyIHJvdyBpbiBncmlkIHZpZXdcbiAgICAgICAgICAgIHJlcXVlc3RIZWFkZXJzOiB7XCJBY2NlcHRcIjogXCJhcHBsaWNhdGlvbi9qc29uXCJ9LCAvLyBEZWZhdWx0IGhlYWRlciBzZW50IG9mZiB0byB0aGUgc2VydmVyIGluIGNvbnRlbnQgbmVnb3RpYXRpb25cbiAgICAgICAgICAgIHNob3dOb25QYWdlZFBhZ2VzOiBmYWxzZSwgICAvLyBXaGV0aGVyIHBhZ2VzIHRhZ2dlZCBhcyAnbm9uLXBhZ2VkJyAoaW4gSUlJRiBtYW5pZmVzdHMgb25seSkgc2hvdWxkIGJlIHZpc2libGUgYWZ0ZXIgaW5pdGlhbCBsb2FkXG4gICAgICAgICAgICB0aHJvYmJlclRpbWVvdXQ6IDEwMCwgICAgICAgLy8gTnVtYmVyIG9mIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJlZm9yZSBzaG93aW5nIHRocm9iYmVyXG4gICAgICAgICAgICB0aWxlSGVpZ2h0OiAyNTYsICAgICAgICAgICAgLy8gVGhlIGhlaWdodCBvZiBlYWNoIHRpbGUsIGluIHBpeGVsczsgdXN1YWxseSAyNTZcbiAgICAgICAgICAgIHRpbGVXaWR0aDogMjU2LCAgICAgICAgICAgICAvLyBUaGUgd2lkdGggb2YgZWFjaCB0aWxlLCBpbiBwaXhlbHM7IHVzdWFsbHkgMjU2XG4gICAgICAgICAgICB0b29sYmFyUGFyZW50T2JqZWN0OiBudWxsLCAgLy8gVGhlIHRvb2xiYXIgcGFyZW50IG9iamVjdC5cbiAgICAgICAgICAgIHZlcnRpY2FsbHlPcmllbnRlZDogdHJ1ZSwgICAvLyBEZXRlcm1pbmVzIHZlcnRpY2FsIHZzLiBob3Jpem9udGFsIG9yaWVudGF0aW9uXG4gICAgICAgICAgICB2aWV3cG9ydE1hcmdpbjogMjAwLCAgICAgICAgLy8gUHJldGVuZCB0aWxlcyArLy0gMjAwcHggYXdheSBmcm9tIHZpZXdwb3J0IGFyZSBpblxuICAgICAgICAgICAgem9vbUxldmVsOiAyICAgICAgICAgICAgICAgIC8vIFRoZSBpbml0aWFsIHpvb20gbGV2ZWwgKHVzZWQgdG8gc3RvcmUgdGhlIGN1cnJlbnQgem9vbSBsZXZlbClcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgLy8gSW4gb3JkZXIgdG8gZmlsbCB0aGUgaGVpZ2h0LCB1c2UgYSB3cmFwcGVyIGRpdiBkaXNwbGF5ZWQgdXNpbmcgYSBmbGV4Ym94IGxheW91dFxuICAgICAgICBjb25zdCB3cmFwcGVyRWxlbWVudCA9IGVsdCgnZGl2Jywge1xuICAgICAgICAgICAgY2xhc3M6IGBkaXZhLXdyYXBwZXIke3RoaXMub3B0aW9ucy5maWxsUGFyZW50SGVpZ2h0ID8gXCIgZGl2YS13cmFwcGVyLWZsZXhib3hcIiA6IFwiXCJ9YFxuICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmVsZW1lbnQuYXBwZW5kQ2hpbGQod3JhcHBlckVsZW1lbnQpO1xuXG4gICAgICAgIHRoaXMub3B0aW9ucy50b29sYmFyUGFyZW50T2JqZWN0ID0gdGhpcy5vcHRpb25zLnRvb2xiYXJQYXJlbnRPYmplY3QgfHwgd3JhcHBlckVsZW1lbnQ7XG5cbiAgICAgICAgY29uc3Qgdmlld2VyQ29yZSA9IG5ldyBWaWV3ZXJDb3JlKHdyYXBwZXJFbGVtZW50LCB0aGlzLm9wdGlvbnMsIHRoaXMpO1xuXG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUgPSB2aWV3ZXJDb3JlLmdldEludGVybmFsU3RhdGUoKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHZpZXdlckNvcmUuZ2V0U2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy50b29sYmFyID0gdGhpcy5zZXR0aW5ncy5lbmFibGVUb29sYmFyID8gbmV3IFRvb2xiYXIodGhpcykgOiBudWxsO1xuXG4gICAgICAgIHdyYXBwZXJFbGVtZW50LmlkID0gdGhpcy5zZXR0aW5ncy5JRCArICd3cmFwcGVyJztcblxuICAgICAgICB0aGlzLmRpdmFTdGF0ZSA9IHtcbiAgICAgICAgICAgIHZpZXdlckNvcmU6IHZpZXdlckNvcmUsXG4gICAgICAgICAgICB0b29sYmFyOiB0aGlzLnRvb2xiYXJcbiAgICAgICAgfTtcblxuICAgICAgICAvLyBvbmx5IHJlbmRlciB0aGUgdG9vbGJhciBhZnRlciB0aGUgb2JqZWN0IGhhcyBiZWVuIGxvYWRlZFxuICAgICAgICBsZXQgaGFuZGxlID0gZGl2YS5FdmVudHMuc3Vic2NyaWJlKCdPYmplY3REaWRMb2FkJywgKCkgPT5cbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHRoaXMudG9vbGJhciAhPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRvb2xiYXIucmVuZGVyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGRpdmEuRXZlbnRzLnVuc3Vic2NyaWJlKGhhbmRsZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMuaGFzaFN0YXRlID0gdGhpcy5fZ2V0SGFzaFBhcmFtU3RhdGUoKTtcblxuICAgICAgICB0aGlzLl9sb2FkT3JGZXRjaE9iamVjdERhdGEoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfbG9hZE9yRmV0Y2hPYmplY3REYXRhICgpXG4gICAge1xuICAgICAgICBpZiAodHlwZW9mIHRoaXMuc2V0dGluZ3Mub2JqZWN0RGF0YSA9PT0gJ29iamVjdCcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vIERlZmVyIGV4ZWN1dGlvbiB1bnRpbCBpbml0aWFsaXphdGlvbiBoYXMgY29tcGxldGVkXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5fbG9hZE9iamVjdERhdGEodGhpcy5zZXR0aW5ncy5vYmplY3REYXRhLCB0aGlzLmhhc2hTdGF0ZSk7XG4gICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHBlbmRpbmdNYW5pZmVzdFJlcXVlc3QgPSBmZXRjaCh0aGlzLnNldHRpbmdzLm9iamVjdERhdGEsIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzOiB0aGlzLnNldHRpbmdzLnJlcXVlc3RIZWFkZXJzXG4gICAgICAgICAgICB9KS50aGVuKCAocmVzcG9uc2UpID0+XG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRyaWdnZXIgbWFuaWZlc3QgbG9hZCBlcnJvciBldmVudFxuICAgICAgICAgICAgICAgICAgICBkaXZhLkV2ZW50cy5wdWJsaXNoKCdNYW5pZmVzdEZldGNoRXJyb3InLCBbcmVzcG9uc2VdLCB0aGlzKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hamF4RXJyb3IocmVzcG9uc2UpO1xuXG4gICAgICAgICAgICAgICAgICAgIGxldCBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiByZXNwb25zZS5qc29uKCk7XG5cbiAgICAgICAgICAgIH0pLnRoZW4oIChkYXRhKSA9PlxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMuX2xvYWRPYmplY3REYXRhKGRhdGEsIHRoaXMuaGFzaFN0YXRlKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAvLyBTdG9yZSB0aGUgcGVuZGluZyByZXF1ZXN0IHNvIHRoYXQgaXQgY2FuIGJlIGNhbmNlbGxlZCBpbiB0aGUgZXZlbnQgdGhhdCBEaXZhIG5lZWRzIHRvIGJlIGRlc3Ryb3llZFxuICAgICAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5zZXRQZW5kaW5nTWFuaWZlc3RSZXF1ZXN0KHBlbmRpbmdNYW5pZmVzdFJlcXVlc3QpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX3Nob3dFcnJvciAobWVzc2FnZSlcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuc2hvd0Vycm9yKG1lc3NhZ2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfYWpheEVycm9yIChyZXNwb25zZSlcbiAgICB7XG4gICAgICAgIC8vIFNob3cgYSBiYXNpYyBlcnJvciBtZXNzYWdlIHdpdGhpbiB0aGUgZG9jdW1lbnQgdmlld2VyIHBhbmVcbiAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gWydJbnZhbGlkIG9iamVjdERhdGEgc2V0dGluZy4gRXJyb3IgY29kZTogJyArIHJlc3BvbnNlLnN0YXR1cyArICcgJyArIHJlc3BvbnNlLnN0YXR1c1RleHRdO1xuXG4gICAgICAgIC8vIERldGVjdCBhbmQgaGFuZGxlIENPUlMgZXJyb3JzXG4gICAgICAgIGNvbnN0IGRhdGFIYXNBYnNvbHV0ZVBhdGggPSB0aGlzLnNldHRpbmdzLm9iamVjdERhdGEubGFzdEluZGV4T2YoJ2h0dHAnLCAwKSA9PT0gMDtcblxuICAgICAgICBpZiAoZGF0YUhhc0Fic29sdXRlUGF0aClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc3QganNvbkhvc3QgPSB0aGlzLnNldHRpbmdzLm9iamVjdERhdGEucmVwbGFjZSgvaHR0cHM/OlxcL1xcLy9pLCBcIlwiKS5zcGxpdCgvWy8/I10vKVswXTtcblxuICAgICAgICAgICAgaWYgKHdpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZSAhPT0ganNvbkhvc3QpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlLnB1c2goXG4gICAgICAgICAgICAgICAgICAgIGVsdCgncCcsICdBdHRlbXB0ZWQgdG8gYWNjZXNzIGNyb3NzLW9yaWdpbiBkYXRhIHdpdGhvdXQgQ09SUy4nKSxcbiAgICAgICAgICAgICAgICAgICAgZWx0KCdwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICdZb3UgbWF5IG5lZWQgdG8gdXBkYXRlIHlvdXIgc2VydmVyIGNvbmZpZ3VyYXRpb24gdG8gc3VwcG9ydCBDT1JTLiBGb3IgaGVscCwgc2VlIHRoZSAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgZWx0KCdhJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY6ICdodHRwczovL2dpdGh1Yi5jb20vRERNQUwvZGl2YS5qcy93aWtpL0luc3RhbGxhdGlvbiNhLW5vdGUtYWJvdXQtY3Jvc3Mtc2l0ZS1yZXF1ZXN0cycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0OiAnX2JsYW5rJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ2Nyb3NzLXNpdGUgcmVxdWVzdCBkb2N1bWVudGF0aW9uLicpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5fc2hvd0Vycm9yKGVycm9yTWVzc2FnZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiovXG4gICAgX2xvYWRPYmplY3REYXRhIChyZXNwb25zZURhdGEsIGhhc2hTdGF0ZSlcbiAgICB7XG4gICAgICAgIGxldCBtYW5pZmVzdDtcblxuICAgICAgICAvLyBUT0RPIGltcHJvdmUgSUlJRiBkZXRlY3Rpb24gbWV0aG9kXG4gICAgICAgIGlmICghcmVzcG9uc2VEYXRhLmhhc093blByb3BlcnR5KCdAY29udGV4dCcpICYmIChyZXNwb25zZURhdGFbJ0Bjb250ZXh0J10uaW5kZXhPZignaWlpZicpID09PSAtMSB8fCByZXNwb25zZURhdGFbJ0Bjb250ZXh0J10uaW5kZXhPZignc2hhcmVkLWNhbnZhcycpID09PSAtMSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBOb3RBbklJSUZNYW5pZmVzdEV4Y2VwdGlvbignVGhpcyBkb2VzIG5vdCBhcHBlYXIgdG8gYmUgYSBJSUlGIE1hbmlmZXN0LicpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gdHJpZ2dlciBNYW5pZmVzdERpZExvYWQgZXZlbnRcbiAgICAgICAgZGl2YS5FdmVudHMucHVibGlzaCgnTWFuaWZlc3REaWRMb2FkJywgW3Jlc3BvbnNlRGF0YV0sIHRoaXMpO1xuICAgICAgICBtYW5pZmVzdCA9IEltYWdlTWFuaWZlc3QuZnJvbUlJSUYocmVzcG9uc2VEYXRhKTtcbiAgICAgICAgY29uc3QgbG9hZE9wdGlvbnMgPSBoYXNoU3RhdGUgPyB0aGlzLl9nZXRMb2FkT3B0aW9uc0ZvclN0YXRlKGhhc2hTdGF0ZSwgbWFuaWZlc3QpIDoge307XG5cbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5zZXRNYW5pZmVzdChtYW5pZmVzdCwgbG9hZE9wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFBhcnNlIHRoZSBoYXNoIHBhcmFtZXRlcnMgaW50byB0aGUgZm9ybWF0IHVzZWQgYnkgZ2V0U3RhdGUgYW5kIHNldFN0YXRlXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfZ2V0SGFzaFBhcmFtU3RhdGUgKClcbiAgICB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0ge307XG5cbiAgICAgICAgWydmJywgJ3YnLCAneicsICduJywgJ2knLCAncCcsICd5JywgJ3gnXS5mb3JFYWNoKCAocGFyYW0pID0+XG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gSGFzaFBhcmFtcy5nZXQocGFyYW0gKyB0aGlzLnNldHRpbmdzLmhhc2hQYXJhbVN1ZmZpeCk7XG5cbiAgICAgICAgICAgIC8vIGBmYWxzZWAgaXMgcmV0dXJuZWQgaWYgdGhlIHZhbHVlIGlzIG1pc3NpbmdcbiAgICAgICAgICAgIGlmICh2YWx1ZSAhPT0gZmFsc2UpXG4gICAgICAgICAgICAgICAgc3RhdGVbcGFyYW1dID0gdmFsdWU7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIERvIHNvbWUgYXdrd2FyZCBzcGVjaWFsLWNhc2luZywgc2luY2UgdGhpcyBmb3JtYXQgaXMga2luZCBvZiB3ZWlyZC5cblxuICAgICAgICAvLyBGb3IgaW5GdWxsc2NyZWVuIChmKSwgdHJ1ZSBhbmQgZmFsc2Ugc3RyaW5ncyBzaG91bGQgYmUgaW50ZXJwcmV0ZWRcbiAgICAgICAgLy8gYXMgYm9vbGVhbnMuXG4gICAgICAgIGlmIChzdGF0ZS5mID09PSAndHJ1ZScpXG4gICAgICAgICAgICBzdGF0ZS5mID0gdHJ1ZTtcbiAgICAgICAgZWxzZSBpZiAoc3RhdGUuZiA9PT0gJ2ZhbHNlJylcbiAgICAgICAgICAgIHN0YXRlLmYgPSBmYWxzZTtcblxuICAgICAgICAvLyBDb252ZXJ0IG51bWVyaWNhbCB2YWx1ZXMgdG8gaW50ZWdlcnMsIGlmIHByb3ZpZGVkXG4gICAgICAgIFsneicsICduJywgJ3AnLCAneCcsICd5J10uZm9yRWFjaCggKHBhcmFtKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICBpZiAocGFyYW0gaW4gc3RhdGUpXG4gICAgICAgICAgICAgICAgc3RhdGVbcGFyYW1dID0gcGFyc2VJbnQoc3RhdGVbcGFyYW1dLCAxMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfZ2V0TG9hZE9wdGlvbnNGb3JTdGF0ZSAoc3RhdGUsIG1hbmlmZXN0KVxuICAgIHtcbiAgICAgICAgbWFuaWZlc3QgPSBtYW5pZmVzdCB8fCB0aGlzLnNldHRpbmdzLm1hbmlmZXN0O1xuXG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSAoJ3YnIGluIHN0YXRlKSA/IHRoaXMuX2dldFZpZXdTdGF0ZShzdGF0ZS52KSA6IHt9O1xuXG4gICAgICAgIGlmICgnZicgaW4gc3RhdGUpXG4gICAgICAgICAgICBvcHRpb25zLmluRnVsbHNjcmVlbiA9IHN0YXRlLmY7XG5cbiAgICAgICAgaWYgKCd6JyBpbiBzdGF0ZSlcbiAgICAgICAgICAgIG9wdGlvbnMuem9vbUxldmVsID0gc3RhdGUuejtcblxuICAgICAgICBpZiAoJ24nIGluIHN0YXRlKVxuICAgICAgICAgICAgb3B0aW9ucy5wYWdlc1BlclJvdyA9IHN0YXRlLm47XG5cbiAgICAgICAgLy8gT25seSBjaGFuZ2Ugc3BlY2lmeSB0aGUgcGFnZSBpZiBzdGF0ZS5pIG9yIHN0YXRlLnAgaXMgdmFsaWRcbiAgICAgICAgbGV0IHBhZ2VJbmRleCA9IHRoaXMuX2dldFBhZ2VJbmRleEZvck1hbmlmZXN0KG1hbmlmZXN0LCBzdGF0ZS5pKTtcblxuICAgICAgICBpZiAoIShwYWdlSW5kZXggPj0gMCAmJiBwYWdlSW5kZXggPCBtYW5pZmVzdC5wYWdlcy5sZW5ndGgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBwYWdlSW5kZXggPSBzdGF0ZS5wIC0gMTtcblxuICAgICAgICAgICAgLy8gUG9zc2libHkgTmFOXG4gICAgICAgICAgICBpZiAoIShwYWdlSW5kZXggPj0gMCAmJiBwYWdlSW5kZXggPCBtYW5pZmVzdC5wYWdlcy5sZW5ndGgpKVxuICAgICAgICAgICAgICAgIHBhZ2VJbmRleCA9IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAocGFnZUluZGV4ICE9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCBob3Jpem9udGFsT2Zmc2V0ID0gcGFyc2VJbnQoc3RhdGUueCwgMTApO1xuICAgICAgICAgICAgY29uc3QgdmVydGljYWxPZmZzZXQgPSBwYXJzZUludChzdGF0ZS55LCAxMCk7XG5cbiAgICAgICAgICAgIG9wdGlvbnMuZ29EaXJlY3RseVRvID0gcGFnZUluZGV4O1xuICAgICAgICAgICAgb3B0aW9ucy5ob3Jpem9udGFsT2Zmc2V0ID0gaG9yaXpvbnRhbE9mZnNldDtcbiAgICAgICAgICAgIG9wdGlvbnMudmVydGljYWxPZmZzZXQgPSB2ZXJ0aWNhbE9mZnNldDtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBvcHRpb25zO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfZ2V0Vmlld1N0YXRlICh2aWV3KVxuICAgIHtcbiAgICAgICAgc3dpdGNoICh2aWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICBjYXNlICdkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbkJvb2tMYXlvdXQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2FzZSAnYic6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5Cb29rTGF5b3V0OiB0cnVlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgY2FzZSAnZyc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgaW5HcmlkOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBpbkJvb2tMYXlvdXQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfTtcblxuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICByZXR1cm4ge307XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2dldFBhZ2VJbmRleEZvck1hbmlmZXN0IChtYW5pZmVzdCwgZmlsZW5hbWUpXG4gICAge1xuICAgICAgICBsZXQgaTtcbiAgICAgICAgY29uc3QgbnAgPSBtYW5pZmVzdC5wYWdlcy5sZW5ndGg7XG5cbiAgICAgICAgZm9yIChpID0gMDsgaSA8IG5wOyBpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmIChtYW5pZmVzdC5wYWdlc1tpXS5mID09PSBmaWxlbmFtZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqICovXG4gICAgX2dldFN0YXRlICgpXG4gICAge1xuICAgICAgICBsZXQgdmlldztcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcgPSAnZyc7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5pbkJvb2tMYXlvdXQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcgPSAnYic7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3ID0gJ2QnO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgbGF5b3V0ID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCk7XG4gICAgICAgIGNvbnN0IHBhZ2VPZmZzZXQgPSBsYXlvdXQuZ2V0UGFnZVRvVmlld3BvcnRDZW50ZXJPZmZzZXQodGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQpO1xuXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnZic6IHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuLFxuICAgICAgICAgICAgJ3YnOiB2aWV3LFxuICAgICAgICAgICAgJ3onOiB0aGlzLnNldHRpbmdzLnpvb21MZXZlbCxcbiAgICAgICAgICAgICduJzogdGhpcy5zZXR0aW5ncy5wYWdlc1BlclJvdyxcbiAgICAgICAgICAgICdpJzogdGhpcy5zZXR0aW5ncy5lbmFibGVGaWxlbmFtZSA/IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXhdLmYgOiBmYWxzZSxcbiAgICAgICAgICAgICdwJzogdGhpcy5zZXR0aW5ncy5lbmFibGVGaWxlbmFtZSA/IGZhbHNlIDogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXggKyAxLFxuICAgICAgICAgICAgJ3knOiBwYWdlT2Zmc2V0ID8gcGFnZU9mZnNldC55IDogZmFsc2UsXG4gICAgICAgICAgICAneCc6IHBhZ2VPZmZzZXQgPyBwYWdlT2Zmc2V0LnggOiBmYWxzZVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9nZXRVUkxIYXNoICgpXG4gICAge1xuICAgICAgICBjb25zdCBoYXNoUGFyYW1zID0gdGhpcy5fZ2V0U3RhdGUoKTtcbiAgICAgICAgY29uc3QgaGFzaFN0cmluZ0J1aWxkZXIgPSBbXTtcbiAgICAgICAgbGV0IHBhcmFtO1xuXG4gICAgICAgIGZvciAocGFyYW0gaW4gaGFzaFBhcmFtcylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKGhhc2hQYXJhbXNbcGFyYW1dICE9PSBmYWxzZSlcbiAgICAgICAgICAgICAgICBoYXNoU3RyaW5nQnVpbGRlci5wdXNoKHBhcmFtICsgdGhpcy5zZXR0aW5ncy5oYXNoUGFyYW1TdWZmaXggKyAnPScgKyBlbmNvZGVVUklDb21wb25lbnQoaGFzaFBhcmFtc1twYXJhbV0pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBoYXNoU3RyaW5nQnVpbGRlci5qb2luKCcmJyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgcGFnZSBpbmRleCBhc3NvY2lhdGVkIHdpdGggdGhlIGdpdmVuIGZpbGVuYW1lOyBtdXN0IGNhbGxlZCBhZnRlciBzZXR0aW5nIHNldHRpbmdzLm1hbmlmZXN0XG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfZ2V0UGFnZUluZGV4IChmaWxlbmFtZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl9nZXRQYWdlSW5kZXhGb3JNYW5pZmVzdCh0aGlzLnNldHRpbmdzLm1hbmlmZXN0LCBmaWxlbmFtZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQHByaXZhdGVcbiAgICAgKiAqL1xuICAgIF9jaGVja0xvYWRlZCAoKVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLnZpZXdlclN0YXRlLmxvYWRlZClcbiAgICAgICAge1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiVGhlIHZpZXdlciBpcyBub3QgY29tcGxldGVseSBpbml0aWFsaXplZC4gVGhpcyBpcyBsaWtlbHkgYmVjYXVzZSBpdCBpcyBzdGlsbCBkb3dubG9hZGluZyBkYXRhLiBUbyBmaXggdGhpcywgb25seSBjYWxsIHRoaXMgZnVuY3Rpb24gaWYgdGhlIGlzUmVhZHkoKSBtZXRob2QgcmV0dXJucyB0cnVlLlwiKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgZnVsbHNjcmVlbiBpY29uIGlzIGNsaWNrZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF90b2dnbGVGdWxsc2NyZWVuICgpXG4gICAge1xuICAgICAgICB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgaW5GdWxsc2NyZWVuOiAhdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW5cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLy8gaGFuZGxlIHRvb2xiYXIgb3BhY2l0eSBpbiBmdWxsc2NyZWVuXG4gICAgICAgIGxldCB0O1xuICAgICAgICBsZXQgaG92ZXIgPSBmYWxzZTtcbiAgICAgICAgbGV0IHRvb2xzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQodGhpcy5zZXR0aW5ncy5zZWxlY3RvciArICd0b29scycpO1xuICAgICAgICBjb25zdCBUSU1FT1VUID0gMjAwMDtcblxuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvb2xzLmNsYXNzTGlzdC5hZGQoXCJkaXZhLWZ1bGxzY3JlZW4tdG9vbHNcIik7XG5cbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRvZ2dsZU9wYWNpdHkuYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdkaXZhLXZpZXdwb3J0JylbMF0uYWRkRXZlbnRMaXN0ZW5lcignc2Nyb2xsJywgdG9nZ2xlT3BhY2l0eS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIHRvb2xzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZW50ZXInLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgaG92ZXIgPSB0cnVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0b29scy5hZGRFdmVudExpc3RlbmVyKCdtb3VzZWxlYXZlJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGhvdmVyID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvb2xzLmNsYXNzTGlzdC5yZW1vdmUoXCJkaXZhLWZ1bGxzY3JlZW4tdG9vbHNcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiB0b2dnbGVPcGFjaXR5ICgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRvb2xzLnN0eWxlLm9wYWNpdHkgPSAxO1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHQpO1xuICAgICAgICAgICAgaWYgKCFob3ZlciAmJiB0aGlzLnNldHRpbmdzLmluRnVsbHNjcmVlbikge1xuICAgICAgICAgICAgICAgIHQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0b29scy5zdHlsZS5vcGFjaXR5ID0gMDtcbiAgICAgICAgICAgICAgICB9LCBUSU1FT1VUKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRvZ2dsZXMgYmV0d2VlbiBvcmllbnRhdGlvbnNcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICogKi9cbiAgICBfdG9nZ2xlUGFnZUxheW91dE9yaWVudGF0aW9uICgpXG4gICAge1xuICAgICAgICBjb25zdCB2ZXJ0aWNhbGx5T3JpZW50ZWQgPSAhdGhpcy5zZXR0aW5ncy52ZXJ0aWNhbGx5T3JpZW50ZWQ7XG5cbiAgICAgICAgLy9pZiBpbiBncmlkLCBzd2l0Y2ggb3V0IG9mIGdyaWRcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHtcbiAgICAgICAgICAgIGluR3JpZDogZmFsc2UsXG4gICAgICAgICAgICB2ZXJ0aWNhbGx5T3JpZW50ZWQ6IHZlcnRpY2FsbHlPcmllbnRlZCxcbiAgICAgICAgICAgIGdvRGlyZWN0bHlUbzogdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXgsXG4gICAgICAgICAgICB2ZXJ0aWNhbE9mZnNldDogdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRZT2Zmc2V0KCksXG4gICAgICAgICAgICBob3Jpem9udGFsT2Zmc2V0OiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldFhPZmZzZXQoKVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gdmVydGljYWxseU9yaWVudGVkO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbGxlZCB3aGVuIHRoZSBjaGFuZ2UgdmlldyBpY29uIGlzIGNsaWNrZWRcbiAgICAgKlxuICAgICAqIEBwcml2YXRlXG4gICAgICoqL1xuICAgIF9jaGFuZ2VWaWV3IChkZXN0aW5hdGlvblZpZXcpXG4gICAge1xuICAgICAgICBzd2l0Y2ggKGRlc3RpbmF0aW9uVmlldylcbiAgICAgICAge1xuICAgICAgICAgICAgY2FzZSAnZG9jdW1lbnQnOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbkJvb2tMYXlvdXQ6IGZhbHNlXG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNhc2UgJ2Jvb2snOlxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9yZWxvYWRWaWV3ZXIoe1xuICAgICAgICAgICAgICAgICAgICBpbkdyaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBpbkJvb2tMYXlvdXQ6IHRydWVcbiAgICAgICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgY2FzZSAnZ3JpZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICAgICAgICAgIGluR3JpZDogdHJ1ZVxuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge051bWJlcn0gcGFnZUluZGV4IC0gMC1iYXNlZCBwYWdlIGluZGV4LlxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSB4QW5jaG9yIC0geCBjb29yZGluYXRlIHRvIGp1bXAgdG8gb24gcmVzdWx0aW5nIHBhZ2UuXG4gICAgICogQHBhcmFtIHtOdW1iZXJ9IHlBbmNob3IgLSB5IGNvb3JkaW5hdGUgdG8ganVtcCB0byBvbiByZXN1bHRpbmcgcGFnZS5cbiAgICAgKiBAcmV0dXJucyB7Qm9vbGVhbn0gLSBXaGV0aGVyIHRoZSBqdW1wIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICBfZ290b1BhZ2VCeUluZGV4IChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpXG4gICAge1xuICAgICAgICBsZXQgcGlkeCA9IHBhcnNlSW50KHBhZ2VJbmRleCwgMTApO1xuXG4gICAgICAgIGlmICh0aGlzLl9pc1BhZ2VJbmRleFZhbGlkKHBpZHgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zdCB4T2Zmc2V0ID0gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRYT2Zmc2V0KHBpZHgsIHhBbmNob3IpO1xuICAgICAgICAgICAgY29uc3QgeU9mZnNldCA9IHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZ2V0WU9mZnNldChwaWR4LCB5QW5jaG9yKTtcblxuICAgICAgICAgICAgdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5nb3RvKHBpZHgsIHlPZmZzZXQsIHhPZmZzZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBwYWdlIGluZGV4IGlzIHZhbGlkXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqIEBwYXJhbSB7TnVtYmVyfSBwYWdlSW5kZXggLSBOdW1lcmljICgwLWJhc2VkKSBwYWdlIGluZGV4XG4gICAgICogQHJldHVybiB7Qm9vbGVhbn0gd2hldGhlciB0aGUgcGFnZSBpbmRleCBpcyB2YWxpZCBvciBub3QuXG4gICAgICovXG4gICAgX2lzUGFnZUluZGV4VmFsaWQgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LmlzUGFnZVZhbGlkKHBhZ2VJbmRleCwgdGhpcy5zZXR0aW5ncy5zaG93Tm9uUGFnZWRQYWdlcyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBwYWdlWCBhbmQgcGFnZVkgdmFsdWUsIHJldHVybnMgZWl0aGVyIHRoZSBwYWdlIHZpc2libGUgYXQgdGhhdCAoeCx5KVxuICAgICAqIHBvc2l0aW9uIG9yIC0xIGlmIG5vIHBhZ2UgaXMuXG4gICAgICpcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqL1xuICAgIF9nZXRQYWdlSW5kZXhGb3JQYWdlWFlWYWx1ZXMgKHBhZ2VYLCBwYWdlWSlcbiAgICB7XG4gICAgICAgIC8vZ2V0IHRoZSBmb3VyIGVkZ2VzIG9mIHRoZSBvdXRlciBlbGVtZW50XG4gICAgICAgIGNvbnN0IG91dGVyT2Zmc2V0ID0gdGhpcy52aWV3ZXJTdGF0ZS5vdXRlckVsZW1lbnQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIGNvbnN0IG91dGVyVG9wID0gb3V0ZXJPZmZzZXQudG9wO1xuICAgICAgICBjb25zdCBvdXRlckxlZnQgPSBvdXRlck9mZnNldC5sZWZ0O1xuICAgICAgICBjb25zdCBvdXRlckJvdHRvbSA9IG91dGVyT2Zmc2V0LmJvdHRvbTtcbiAgICAgICAgY29uc3Qgb3V0ZXJSaWdodCA9IG91dGVyT2Zmc2V0LnJpZ2h0O1xuXG4gICAgICAgIC8vaWYgdGhlIGNsaWNrZWQgcG9zaXRpb24gd2FzIG91dHNpZGUgdGhlIGRpdmEtb3V0ZXIgb2JqZWN0LCBpdCB3YXMgbm90IG9uIGEgdmlzaWJsZSBwb3J0aW9uIG9mIGEgcGFnZVxuICAgICAgICBpZiAocGFnZVggPCBvdXRlckxlZnQgfHwgcGFnZVggPiBvdXRlclJpZ2h0KVxuICAgICAgICAgICAgcmV0dXJuIC0xO1xuXG4gICAgICAgIGlmIChwYWdlWSA8IG91dGVyVG9wIHx8IHBhZ2VZID4gb3V0ZXJCb3R0b20pXG4gICAgICAgICAgICByZXR1cm4gLTE7XG5cbiAgICAgICAgLy9uYXZpZ2F0ZSB0aHJvdWdoIGFsbCBkaXZhIHBhZ2Ugb2JqZWN0c1xuICAgICAgICBjb25zdCBwYWdlcyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2RpdmEtcGFnZScpO1xuICAgICAgICBsZXQgY3VyUGFnZUlkeCA9IHBhZ2VzLmxlbmd0aDtcbiAgICAgICAgd2hpbGUgKGN1clBhZ2VJZHgtLSlcbiAgICAgICAge1xuICAgICAgICAgICAgLy9nZXQgdGhlIG9mZnNldCBmb3IgZWFjaCBwYWdlXG4gICAgICAgICAgICBjb25zdCBjdXJQYWdlID0gcGFnZXNbY3VyUGFnZUlkeF07XG4gICAgICAgICAgICBjb25zdCBjdXJPZmZzZXQgPSBjdXJQYWdlLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXG4gICAgICAgICAgICAvL2lmIHRoaXMgcG9pbnQgaXMgb3V0c2lkZSB0aGUgaG9yaXpvbnRhbCBib3VuZGFyaWVzIG9mIHRoZSBwYWdlLCBjb250aW51ZVxuICAgICAgICAgICAgaWYgKHBhZ2VYIDwgY3VyT2Zmc2V0LmxlZnQgfHwgcGFnZVggPiBjdXJPZmZzZXQucmlnaHQpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG5cbiAgICAgICAgICAgIC8vc2FtZSB3aXRoIHZlcnRpY2FsIGJvdW5kYXJpZXNcbiAgICAgICAgICAgIGlmIChwYWdlWSA8IGN1ck9mZnNldC50b3AgfHwgcGFnZVkgPiBjdXJPZmZzZXQuYm90dG9tKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuXG4gICAgICAgICAgICAvL2lmIHdlIG1hZGUgaXQgdGhyb3VnaCB0aGUgYWJvdmUgdHdvLCB3ZSBmb3VuZCB0aGUgcGFnZSB3ZSdyZSBsb29raW5nIGZvclxuICAgICAgICAgICAgcmV0dXJuIGN1clBhZ2UuZ2V0QXR0cmlidXRlKCdkYXRhLWluZGV4Jyk7XG4gICAgICAgIH1cblxuICAgICAgICAvL2lmIHdlIG1hZGUgaXQgdGhyb3VnaCB0aGF0IGVudGlyZSB3aGlsZSBsb29wLCB3ZSBkaWRuJ3QgY2xpY2sgb24gYSBwYWdlXG4gICAgICAgIHJldHVybiAtMTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBAcHJpdmF0ZVxuICAgICAqKi9cbiAgICBfcmVsb2FkVmlld2VyIChuZXdPcHRpb25zKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUucmVsb2FkKG5ld09wdGlvbnMpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgX2dldEN1cnJlbnRVUkwgKClcbiAgICB7XG4gICAgICAgIHJldHVybiBsb2NhdGlvbi5wcm90b2NvbCArICcvLycgKyBsb2NhdGlvbi5ob3N0ICsgbG9jYXRpb24ucGF0aG5hbWUgKyBsb2NhdGlvbi5zZWFyY2ggKyAnIycgKyB0aGlzLl9nZXRVUkxIYXNoKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiAgICAgICAgICAgICAgICBQVUJMSUMgRlVOQ1RJT05TXG4gICAgICogPT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cbiAgICAgKiovXG5cbiAgICAvKipcbiAgICAgKiAgQWN0aXZhdGUgdGhpcyBpbnN0YW5jZSBvZiBkaXZhIHZpYSB0aGUgYWN0aXZlIERpdmEgY29udHJvbGxlci5cbiAgICAgKlxuICAgICAqICBAcHVibGljXG4gICAgICovXG4gICAgYWN0aXZhdGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMudmlld2VyU3RhdGUuaXNBY3RpdmVEaXZhID0gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGFuZ2UgdGhlIG9iamVjdCAob2JqZWN0RGF0YSkgcGFyYW1ldGVyIGN1cnJlbnRseSBiZWluZyByZW5kZXJlZCBieSBEaXZhLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge29iamVjdH0gb2JqZWN0RGF0YSAtIEFuIElJSUYgTWFuaWZlc3Qgb2JqZWN0IE9SIGEgVVJMIHRvIGEgSUlJRiBtYW5pZmVzdC5cbiAgICAgKi9cbiAgICBjaGFuZ2VPYmplY3QgKG9iamVjdERhdGEpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmxvYWRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmNsZWFyKCk7XG5cbiAgICAgICAgaWYgKHRoaXMudmlld2VyU3RhdGUucmVuZGVyZXIpXG4gICAgICAgICAgICB0aGlzLnZpZXdlclN0YXRlLnJlbmRlcmVyLmRlc3Ryb3koKTtcblxuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLm9wdGlvbnMub2JqZWN0RGF0YSA9IG9iamVjdERhdGE7XG5cbiAgICAgICAgdGhpcy5fbG9hZE9yRmV0Y2hPYmplY3REYXRhKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hhbmdlIHZpZXdzLiBUYWtlcyAnZG9jdW1lbnQnLCAnYm9vaycsIG9yICdncmlkJyB0byBzcGVjaWZ5IHdoaWNoIHZpZXcgdG8gc3dpdGNoIGludG9cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtzdHJpbmd9IGRlc3RpbmF0aW9uVmlldyAtIHRoZSBkZXN0aW5hdGlvbiB2aWV3IHRvIGNoYW5nZSB0by5cbiAgICAgKi9cbiAgICBjaGFuZ2VWaWV3IChkZXN0aW5hdGlvblZpZXcpXG4gICAge1xuICAgICAgICB0aGlzLl9jaGFuZ2VWaWV3KGRlc3RpbmF0aW9uVmlldyk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogIERlYWN0aXZhdGUgdGhpcyBkaXZhIGluc3RhbmNlIHRocm91Z2ggdGhlIGFjdGl2ZSBEaXZhIGNvbnRyb2xsZXIuXG4gICAgICpcbiAgICAgKiAgQHB1YmxpY1xuICAgICAqKi9cbiAgICBkZWFjdGl2YXRlICgpXG4gICAge1xuICAgICAgICB0aGlzLnZpZXdlclN0YXRlLmlzQWN0aXZlRGl2YSA9IGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIERlc3Ryb3lzIHRoaXMgaW5zdGFuY2UsIHRlbGxzIHBsdWdpbnMgdG8gZG8gdGhlIHNhbWVcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiovXG4gICAgZGVzdHJveSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5kZXN0cm95KCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgZG9jdW1lbnQgZHJhZ2dpbmcsIHNjcm9sbGluZyAoYnkga2V5Ym9hcmQgaWYgc2V0KSwgYW5kIHpvb21pbmcgYnkgZG91YmxlLWNsaWNraW5nXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICoqL1xuICAgIGRpc2FibGVTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmRpc2FibGVTY3JvbGxhYmxlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmUtZW5hYmxlcyBkb2N1bWVudCBkcmFnZ2luZywgc2Nyb2xsaW5nIChieSBrZXlib2FyZCBpZiBzZXQpLCBhbmQgem9vbWluZyBieSBkb3VibGUtY2xpY2tpbmdcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiovXG4gICAgZW5hYmxlU2Nyb2xsYWJsZSAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5lbmFibGVTY3JvbGxhYmxlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRGlzYWJsZXMgZG9jdW1lbnQgZHJhZyBzY3JvbGxpbmdcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKi9cbiAgICBkaXNhYmxlRHJhZ1Njcm9sbGFibGUgKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuZGlzYWJsZURyYWdTY3JvbGxhYmxlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5hYmxlcyBkb2N1bWVudCBkcmFnIHNjcm9sbGluZ1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqL1xuICAgIGVuYWJsZURyYWdTY3JvbGxhYmxlICgpXG4gICAge1xuICAgICAgICB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmVuYWJsZURyYWdTY3JvbGxhYmxlKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW50ZXIgZnVsbHNjcmVlbiBtb2RlIGlmIGN1cnJlbnRseSBub3QgaW4gZnVsbHNjcmVlbiBtb2RlLiBJZiBjdXJyZW50bHkgaW4gZnVsbHNjcmVlblxuICAgICAqIG1vZGUgdGhpcyB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICAgICAqXG4gICAgICogVGhpcyBmdW5jdGlvbiB3aWxsIHdvcmsgZXZlbiBpZiBlbmFibGVGdWxsc2NyZWVuIGlzIHNldCB0byBmYWxzZSBpbiB0aGUgb3B0aW9ucy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBXaGV0aGVyIHRoZSBzd2l0Y2ggdG8gZnVsbHNjcmVlbiB3YXMgc3VjY2Vzc2Z1bCBvciBub3QuXG4gICAgICoqL1xuICAgIGVudGVyRnVsbHNjcmVlbk1vZGUgKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3RvZ2dsZUZ1bGxzY3JlZW4oKTtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEVudGVyIGdyaWQgdmlldyBpZiBjdXJyZW50bHkgbm90IGluIGdyaWQgdmlldy4gSWYgY3VycmVudGx5IGluIGdyaWQgdmlldyBtb2RlXG4gICAgICogdGhpcyB3aWxsIGhhdmUgbm8gZWZmZWN0LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHN3aXRjaCB0byBncmlkIHZpZXcgd2FzIHN1Y2Nlc3NmdWwgb3Igbm90LlxuICAgICAqKi9cbiAgICBlbnRlckdyaWRWaWV3ICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuc2V0dGluZ3MuaW5HcmlkKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9jaGFuZ2VWaWV3KCdncmlkJyk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGFuIGFycmF5IG9mIGFsbCBwYWdlIGltYWdlIFVSSXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtBcnJheX0gLSBBbiBhcnJheSBvZiBhbGwgdGhlIFVSSXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqICovXG4gICAgZ2V0QWxsUGFnZVVSSXMgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzLm1hcCggKHBnKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGcuZjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBjYW52YXMgaWRlbnRpZmllciBmb3IgdGhlIGN1cnJlbnRseSB2aXNpYmxlIHBhZ2UuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJJIG9mIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBjYW52YXMuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRDYW52YXMgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3RoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4XS5jYW52YXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgY3VycmVudCBwYWdlIGF0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuIEFsc28gd29ya3MgaW5cbiAgICAgKiBncmlkIHZpZXcuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgY3VycmVudCBwYWdlIGRpbWVuc2lvbnMgYXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKiovXG4gICAgZ2V0Q3VycmVudFBhZ2VEaW1lbnNpb25zQXRDdXJyZW50Wm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQYWdlRGltZW5zaW9uc0F0Q3VycmVudFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgY3VycmVudCBmaWxlbmFtZSAoZGVwcmVjYXRlZCkuIFJldHVybnMgdGhlIFVSSSBmb3IgY3VycmVudCBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBkZXByZWNhdGVkXG4gICAgICogQHJldHVybnMge3N0cmluZ30gLSBUaGUgVVJJIGZvciB0aGUgY3VycmVudCBwYWdlIGltYWdlLlxuICAgICAqKi9cbiAgICBnZXRDdXJyZW50UGFnZUZpbGVuYW1lICgpXG4gICAge1xuICAgICAgICBjb25zb2xlLndhcm4oJ1RoaXMgbWV0aG9kIHdpbGwgYmUgZGVwcmVjYXRlZCBpbiB0aGUgbmV4dCB2ZXJzaW9uIG9mIERpdmEuIFBsZWFzZSB1c2UgZ2V0Q3VycmVudFBhZ2VVUkkgaW5zdGVhZC4nKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbdGhpcy5zZXR0aW5ncy5hY3RpdmVQYWdlSW5kZXhdLmY7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhbiBhcnJheSBvZiBwYWdlIGluZGljZXMgdGhhdCBhcmUgdmlzaWJsZSBpbiB0aGUgdmlld3BvcnQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2FycmF5fSAtIFRoZSAwLWJhc2VkIGluZGljZXMgYXJyYXkgZm9yIHRoZSBjdXJyZW50bHkgdmlzaWJsZSBwYWdlcy5cbiAgICAgKiovXG4gICAgZ2V0Q3VycmVudFBhZ2VJbmRpY2VzICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5jdXJyZW50UGFnZUluZGljZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgMC1iYXNlZCBpbmRleCBmb3IgdGhlIGN1cnJlbnQgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSAwLWJhc2VkIGluZGV4IGZvciB0aGUgY3VycmVudGx5IHZpc2libGUgcGFnZS5cbiAgICAgKiovXG4gICAgIGdldEFjdGl2ZVBhZ2VJbmRleCAoKVxuICAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleDtcbiAgICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvcnRjdXQgdG8gZ2V0UGFnZU9mZnNldCBmb3IgY3VycmVudCBwYWdlLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHt9IC1cbiAgICAgKiAqL1xuICAgIGdldEN1cnJlbnRQYWdlT2Zmc2V0ICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5nZXRQYWdlT2Zmc2V0KHRoaXMuc2V0dGluZ3MuYWN0aXZlUGFnZUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjdXJyZW50IFVSSSBmb3IgdGhlIHZpc2libGUgcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBVUkkgZm9yIHRoZSBjdXJyZW50IHBhZ2UgaW1hZ2UuXG4gICAgICoqL1xuICAgIGdldEN1cnJlbnRQYWdlVVJJICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1t0aGlzLnNldHRpbmdzLmFjdGl2ZVBhZ2VJbmRleF0uZjtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm4gdGhlIGN1cnJlbnQgVVJMIGZvciB0aGUgdmlld2VyLCBpbmNsdWRpbmcgdGhlIGhhc2ggcGFyYW1ldGVycyByZWZsZWN0aW5nXG4gICAgICogdGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIHZpZXdlci5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSBVUkwgZm9yIHRoZSBjdXJyZW50IHZpZXcgc3RhdGUuXG4gICAgICogKi9cbiAgICBnZXRDdXJyZW50VVJMICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0Q3VycmVudFVSTCgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYW4gYXJyYXkgb2YgYWxsIGZpbGVuYW1lcyBpbiB0aGUgZG9jdW1lbnQuIERlcHJlY2F0ZWQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKiBAcmV0dXJucyB7QXJyYXl9IC0gQW4gYXJyYXkgb2YgYWxsIHRoZSBVUklzIGluIHRoZSBkb2N1bWVudC5cbiAgICAgKiAqL1xuICAgIGdldEZpbGVuYW1lcyAoKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIHdpbGwgYmUgcmVtb3ZlZCBpbiB0aGUgbmV4dCB2ZXJzaW9uIG9mIERpdmEuIFVzZSBnZXRBbGxQYWdlVVJJcyBpbnN0ZWFkLicpO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzLm1hcCggKHBnKSA9PlxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gcGcuZjtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBudW1iZXIgb2YgZ3JpZCBwYWdlcyBwZXIgcm93LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIG51bWJlciBvZiBncmlkIHBhZ2VzIHBlciByb3cuXG4gICAgICoqL1xuICAgIGdldEdyaWRQYWdlc1BlclJvdyAoKVxuICAgIHtcbiAgICAgICAgLy8gVE9ETyh3YWJhaW4pOiBBZGQgdGVzdCBjYXNlXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnBhZ2VzUGVyUm93O1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldCB0aGUgaW5zdGFuY2UgSUQgbnVtYmVyLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIGluc3RhbmNlIElELlxuICAgICAqICovXG4gICAgLy9cbiAgICBnZXRJbnN0YW5jZUlkICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5JRDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGluc3RhbmNlIHNlbGVjdG9yIGZvciB0aGlzIGluc3RhbmNlLiBUaGlzIGlzIHRoZSBzZWxlY3RvciBmb3IgdGhlIHBhcmVudFxuICAgICAqIGRpdi5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7c3RyaW5nfSAtIFRoZSB2aWV3cG9ydCBzZWxlY3Rvci5cbiAgICAgKiAqL1xuICAgIGdldEluc3RhbmNlU2VsZWN0b3IgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLnNlbGVjdG9yO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIHRpdGxlIG9mIHRoZSBkb2N1bWVudCwgYmFzZWQgb24gdGhlIGxhYmVsIGluIHRoZSBJSUlGIG1hbmlmZXN0LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIGN1cnJlbnQgdGl0bGUgb2YgdGhlIG9iamVjdCBmcm9tIHRoZSBsYWJlbCBrZXkgaW4gdGhlIElJSUYgTWFuaWZlc3QuXG4gICAgICoqL1xuICAgIGdldEl0ZW1UaXRsZSAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuaXRlbVRpdGxlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdldHMgdGhlIG1heGltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGVudGlyZSBkb2N1bWVudC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBtYXhpbXVtIHpvb20gbGV2ZWwgZm9yIHRoZSBkb2N1bWVudFxuICAgICAqICovXG4gICAgZ2V0TWF4Wm9vbUxldmVsICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWw7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWF4IHpvb20gbGV2ZWwgZm9yIGEgZ2l2ZW4gcGFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZUlkeCAtIFRoZSAwLWJhc2VkIGluZGV4IG51bWJlciBmb3IgdGhlIHBhZ2UuXG4gICAgICogQHJldHVybnMge251bWJlcn0gLSBUaGUgbWF4aW11bSB6b29tIGxldmVsIGZvciB0aGF0IHBhZ2UuXG4gICAgICogKi9cbiAgICBnZXRNYXhab29tTGV2ZWxGb3JQYWdlIChwYWdlSWR4KVxuICAgIHtcbiAgICAgICAgaWYgKCF0aGlzLl9jaGVja0xvYWRlZCgpKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3BhZ2VJZHhdLm07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgbWluaW11bSB6b29tIGxldmVsIGZvciB0aGUgZW50aXJlIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIG1pbmltdW0gem9vbSBsZXZlbCBmb3IgdGhlIGRvY3VtZW50XG4gICAgICogKi9cbiAgICBnZXRNaW5ab29tTGV2ZWwgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLm1pblpvb21MZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBudW1iZXIgb2YgcGFnZXMgaW4gdGhlIGRvY3VtZW50LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIG51bWJlciBvZiBwYWdlcyBpbiB0aGUgZG9jdW1lbnQuXG4gICAgICogKi9cbiAgICBnZXROdW1iZXJPZlBhZ2VzICgpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2NoZWNrTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubnVtUGFnZXM7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSWYgYSBjYW52YXMgaGFzIG11bHRpcGxlIGltYWdlcyBkZWZpbmVkLCByZXR1cm5zIHRoZSBub24tcHJpbWFyeSBpbWFnZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSBwYWdlIGluZGV4IGZvciB3aGljaCB0byByZXR1cm4gdGhlIG90aGVyIGltYWdlcy5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgb3RoZXIgaW1hZ2VzLlxuICAgICAqKi9cbiAgICBnZXRPdGhlckltYWdlcyAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXNbcGFnZUluZGV4XS5vdGhlckltYWdlcztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgcGFnZSBkaW1lbnNpb25zIGluIHRoZSBjdXJyZW50IHZpZXcgYW5kIHpvb20gbGV2ZWxcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIEEgdmFsaWQgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBBbiBvYmplY3QgY29udGFpbmluZyB0aGUgZGltZW5zaW9ucyBvZiB0aGUgcGFnZVxuICAgICAqICovXG4gICAgZ2V0UGFnZURpbWVuc2lvbnMgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2hlY2tMb2FkZWQoKSlcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuXG4gICAgICAgIHJldHVybiB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKS5nZXRQYWdlRGltZW5zaW9ucyhwYWdlSW5kZXgpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgdGhlIGRpbWVuc2lvbnMgb2YgYSBnaXZlbiBwYWdlIGF0IHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICogQWxzbyB3b3JrcyBpbiBHcmlkIHZpZXdcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW0ge251bWJlcn0gcGFnZUluZGV4IC0gVGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gQW4gb2JqZWN0IGNvbnRhaW5pbmcgdGhlIHBhZ2UgZGltZW5zaW9ucyBhdCB0aGUgY3VycmVudCB6b29tIGxldmVsLlxuICAgICAqICovXG4gICAgZ2V0UGFnZURpbWVuc2lvbnNBdEN1cnJlbnRab29tTGV2ZWwgKHBhZ2VJbmRleClcbiAgICB7XG4gICAgICAgIGxldCBwaWR4ID0gcGFyc2VJbnQocGFnZUluZGV4LCAxMCk7XG5cbiAgICAgICAgaWYgKCF0aGlzLl9pc1BhZ2VJbmRleFZhbGlkKHBpZHgpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdJbnZhbGlkIFBhZ2UgSW5kZXgnKTtcblxuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS5nZXRDdXJyZW50TGF5b3V0KCkuZ2V0UGFnZURpbWVuc2lvbnMocGlkeCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IHBhZ2UgZGltZW5zaW9ucyBhdCBhIGdpdmVuIHpvb20gbGV2ZWxcbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJZHggLSBBIHZhbGlkIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIEBwYXJhbXMge251bWJlcn0gem9vbUxldmVsIC0gQSBjYW5kaWRhdGUgem9vbSBsZXZlbC5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIEFuIG9iamVjdCBjb250YWluaW5nIHRoZSBkaW1lbnNpb25zIG9mIHRoZSBwYWdlIGF0IHRoZSBnaXZlbiB6b29tIGxldmVsLlxuICAgICAqKi9cbiAgICBnZXRQYWdlRGltZW5zaW9uc0F0Wm9vbUxldmVsIChwYWdlSWR4LCB6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICBpZiAoIXRoaXMuX2NoZWNrTG9hZGVkKCkpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgaWYgKHpvb21MZXZlbCA+IHRoaXMuc2V0dGluZ3MubWF4Wm9vbUxldmVsKVxuICAgICAgICAgICAgem9vbUxldmVsID0gdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWw7XG5cbiAgICAgICAgY29uc3QgcGcgPSB0aGlzLnNldHRpbmdzLm1hbmlmZXN0LnBhZ2VzW3BhcnNlSW50KHBhZ2VJZHgsIDEwKV07XG4gICAgICAgIGNvbnN0IHBnQXRab29tID0gcGcuZFtwYXJzZUludCh6b29tTGV2ZWwsIDEwKV07XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHdpZHRoOiBwZ0F0Wm9vbS53LFxuICAgICAgICAgICAgaGVpZ2h0OiBwZ0F0Wm9vbS5oXG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIFVSTCBmb3IgdGhlIGltYWdlIG9mIHRoZSBwYWdlIGF0IHRoZSBnaXZlbiBpbmRleC4gVGhlXG4gICAgICogb3B0aW9uYWwgc2l6ZSBwYXJhbWV0ZXIgc3VwcG9ydHMgc2V0dGluZyB0aGUgaW1hZ2Ugd2lkdGggb3IgaGVpZ2h0XG4gICAgICogKGRlZmF1bHQgaXMgZnVsbC1zaXplZCkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW1zIHs/b2JqZWN0fSBzaXplIC0gYW4gb2JqZWN0IGNvbnRhaW5pbmcgd2lkdGggYW5kIGhlaWdodCBpbmZvcm1hdGlvblxuICAgICAqIEByZXR1cm5zIHtzdHJpbmd9IC0gVGhlIElJSUYgVVJMIGZvciBhIGdpdmVuIHBhZ2UgYXQgYW4gb3B0aW9uYWwgc2l6ZVxuICAgICAqL1xuICAgIGdldFBhZ2VJbWFnZVVSTCAocGFnZUluZGV4LCBzaXplKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3MubWFuaWZlc3QuZ2V0UGFnZUltYWdlVVJMKHBhZ2VJbmRleCwgc2l6ZSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2l2ZW4gYSBzZXQgb2YgY28tb3JkaW5hdGVzIChlLmcuLCBmcm9tIGEgbW91c2UgY2xpY2spLCByZXR1cm4gdGhlIDAtYmFzZWQgcGFnZSBpbmRleFxuICAgICAqIGZvciB3aGljaCBpdCBtYXRjaGVzLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZVggLSBUaGUgeCBjby1vcmRpbmF0ZVxuICAgICAqIEBwYXJhbXMge251bWJlcn0gcGFnZVkgLSBUaGUgeSBjby1vcmRpbmF0ZVxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIHBhZ2UgaW5kZXggbWF0Y2hpbmcgdGhlIGNvLW9yZGluYXRlcy5cbiAgICAgKiAqL1xuICAgIGdldFBhZ2VJbmRleEZvclBhZ2VYWVZhbHVlcyAocGFnZVgsIHBhZ2VZKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dldFBhZ2VJbmRleEZvclBhZ2VYWVZhbHVlcyhwYWdlWCwgcGFnZVkpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgZGlzdGFuY2UgYmV0d2VlbiB0aGUgbm9ydGh3ZXN0IGNvcm5lcnMgb2YgZGl2YS1pbm5lciBhbmQgcGFnZSBpbmRleC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcGFyYW1zIHs/b3B0aW9uc30gb3B0aW9ucyAtIEEgc2V0IG9mIG9wdGlvbnMgdG8gcGFzcyBpbi5cbiAgICAgKiBAcmV0dXJucyB7b2JqZWN0fSAtIFRoZSBvZmZzZXQgYmV0d2VlbiB0aGUgdXBwZXIgbGVmdCBjb3JuZXIgYW5kIHRoZSBwYWdlLlxuICAgICAqXG4gICAgICogKi9cbiAgICBnZXRQYWdlT2Zmc2V0IChwYWdlSW5kZXgsIG9wdGlvbnMpXG4gICAge1xuICAgICAgICBjb25zdCByZWdpb24gPSB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldFBhZ2VSZWdpb24ocGFnZUluZGV4LCBvcHRpb25zKTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdG9wOiByZWdpb24udG9wLFxuICAgICAgICAgICAgbGVmdDogcmVnaW9uLmxlZnRcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGluc3RhbmNlIHNldHRpbmdzLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtvYmplY3R9IC0gVGhlIGN1cnJlbnQgaW5zdGFuY2Ugc2V0dGluZ3MuXG4gICAgICogKi9cbiAgICBnZXRTZXR0aW5ncyAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0dGluZ3M7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogR2V0IGFuIG9iamVjdCByZXByZXNlbnRpbmcgdGhlIGNvbXBsZXRlIHN0YXRlIG9mIHRoZSB2aWV3ZXIuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge29iamVjdH0gLSBUaGUgY3VycmVudCBpbnN0YW5jZSBzdGF0ZS5cbiAgICAgKiAqL1xuICAgIGdldFN0YXRlICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fZ2V0U3RhdGUoKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBHZXQgdGhlIGN1cnJlbnQgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICogKi9cbiAgICBnZXRab29tTGV2ZWwgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnpvb21MZXZlbDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiAgR28gdG8gYSBwYXJ0aWN1bGFyIHBhZ2UgKHdpdGggaW5kZXhpbmcgc3RhcnRpbmcgYXQgMCkuXG4gICAgICogIFRoZSAoeEFuY2hvcikgc2lkZSBvZiB0aGUgcGFnZSB3aWxsIGJlIGFuY2hvcmVkIHRvIHRoZSAoeEFuY2hvcikgc2lkZSBvZiB0aGUgZGl2YS1vdXRlciBlbGVtZW50XG4gICAgICpcbiAgICAgKiAgQHB1YmxpY1xuICAgICAqICBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIDAtYmFzZWQgcGFnZSBpbmRleC5cbiAgICAgKiAgQHBhcmFtcyB7P3N0cmluZ30geEFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJsZWZ0XCIsIFwicmlnaHRcIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogIEBwYXJhbXMgez9zdHJpbmd9IHlBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwidG9wXCIsIFwiYm90dG9tXCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIjsgc2FtZSBwcm9jZXNzIGFzIHhBbmNob3IuXG4gICAgICogIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQ7IGZhbHNlIGlmIGl0IGlzIG5vdC5cbiAgICAgKiAqL1xuICAgIGdvdG9QYWdlQnlJbmRleCAocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2dvdG9QYWdlQnlJbmRleChwYWdlSW5kZXgsIHhBbmNob3IsIHlBbmNob3IpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEdpdmVuIGEgY2FudmFzIGxhYmVsLCBhdHRlbXB0IHRvIGdvIHRvIHRoYXQgcGFnZS4gSWYgbm8gbGFiZWwgd2FzIGZvdW5kLlxuICAgICAqIHRoZSBsYWJlbCB3aWxsIGJlIGF0dGVtcHRlZCB0byBtYXRjaCBhZ2FpbnN0IHRoZSBwYWdlIGluZGV4LlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge3N0cmluZ30gbGFiZWwgLSBUaGUgbGFiZWwgdG8gc2VhcmNoIG9uLlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHhBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwibGVmdFwiLCBcInJpZ2h0XCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEBwYXJhbXMgez9zdHJpbmd9IHlBbmNob3IgLSBtYXkgZWl0aGVyIGJlIFwidG9wXCIsIFwiYm90dG9tXCIsIG9yIGRlZmF1bHQgXCJjZW50ZXJcIlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIHBhZ2UgaW5kZXggaXMgdmFsaWQ7IGZhbHNlIGlmIGl0IGlzIG5vdC5cbiAgICAgKiAqL1xuICAgIGdvdG9QYWdlQnlMYWJlbCAobGFiZWwsIHhBbmNob3IsIHlBbmNob3IpXG4gICAge1xuICAgICAgICBjb25zdCBwYWdlcyA9IHRoaXMuc2V0dGluZ3MubWFuaWZlc3QucGFnZXM7XG4gICAgICAgIGxldCBsbGMgPSBsYWJlbC50b0xvd2VyQ2FzZSgpO1xuXG4gICAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSBwYWdlcy5sZW5ndGg7IGkgPCBsZW47IGkrKylcbiAgICAgICAge1xuICAgICAgICAgICAgaWYgKHBhZ2VzW2ldLmwudG9Mb3dlckNhc2UoKS5pbmRleE9mKGxsYykgPiAtMSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KGksIHhBbmNob3IsIHlBbmNob3IpO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gcGFyc2VJbnQobGFiZWwsIDEwKSAtIDE7XG4gICAgICAgIHJldHVybiB0aGlzLl9nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBKdW1wIHRvIGEgcGFnZSBiYXNlZCBvbiBpdHMgZmlsZW5hbWUuIERlcHJlY2F0ZWQuIFVzZSBnb3RvUGFnZUJ5VVJJIGluc3RlYWQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7c3RyaW5nfSBmaWxlbmFtZSAtIFRoZSBmaWxlbmFtZSBvZiB0aGUgaW1hZ2UgdG8ganVtcCB0by5cbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB4QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcImxlZnRcIiwgXCJyaWdodFwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcGFyYW1zIHs/c3RyaW5nfSB5QW5jaG9yIC0gbWF5IGVpdGhlciBiZSBcInRvcFwiLCBcImJvdHRvbVwiLCBvciBkZWZhdWx0IFwiY2VudGVyXCJcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gdHJ1ZSBpZiBzdWNjZXNzZnVsIGFuZCBmYWxzZSBpZiB0aGUgZmlsZW5hbWUgaXMgbm90IGZvdW5kLlxuICAgICovXG4gICAgZ290b1BhZ2VCeU5hbWUgKGZpbGVuYW1lLCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgY29uc29sZS53YXJuKCdUaGlzIG1ldGhvZCB3aWxsIGJlIHJlbW92ZWQgaW4gdGhlIG5leHQgdmVyc2lvbiBvZiBEaXZhLmpzLiBVc2UgZ290b1BhZ2VCeVVSSSBpbnN0ZWFkLicpO1xuICAgICAgICBjb25zdCBwYWdlSW5kZXggPSB0aGlzLl9nZXRQYWdlSW5kZXgoZmlsZW5hbWUpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZ290b1BhZ2VCeUluZGV4KHBhZ2VJbmRleCwgeEFuY2hvciwgeUFuY2hvcik7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSnVtcCB0byBhIHBhZ2UgYmFzZWQgb24gaXRzIFVSSS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtzdHJpbmd9IHVyaSAtIFRoZSBVUkkgb2YgdGhlIGltYWdlIHRvIGp1bXAgdG8uXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geEFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJsZWZ0XCIsIFwicmlnaHRcIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHBhcmFtcyB7P3N0cmluZ30geUFuY2hvciAtIG1heSBlaXRoZXIgYmUgXCJ0b3BcIiwgXCJib3R0b21cIiwgb3IgZGVmYXVsdCBcImNlbnRlclwiXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IHRydWUgaWYgc3VjY2Vzc2Z1bCBhbmQgZmFsc2UgaWYgdGhlIFVSSSBpcyBub3QgZm91bmQuXG4gICAgICovXG4gICAgZ290b1BhZ2VCeVVSSSAodXJpLCB4QW5jaG9yLCB5QW5jaG9yKVxuICAgIHtcbiAgICAgICAgY29uc3QgcGFnZUluZGV4ID0gdGhpcy5fZ2V0UGFnZUluZGV4KHVyaSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9nb3RvUGFnZUJ5SW5kZXgocGFnZUluZGV4LCB4QW5jaG9yLCB5QW5jaG9yKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBXaGV0aGVyIHRoZSBwYWdlIGhhcyBvdGhlciBpbWFnZXMgdG8gZGlzcGxheS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBhZ2VJbmRleCAtIFRoZSAwLWJhc2VkIHBhZ2UgaW5kZXhcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gV2hldGhlciB0aGUgcGFnZSBoYXMgb3RoZXIgaW1hZ2VzIHRvIGRpc3BsYXkuXG4gICAgICoqL1xuICAgIGhhc090aGVySW1hZ2VzIChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5tYW5pZmVzdC5wYWdlc1twYWdlSW5kZXhdLm90aGVySW1hZ2VzID09PSB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEhpZGVzIHRoZSBwYWdlcyB0aGF0IGFyZSBtYXJrZWQgXCJub24tcGFnZWRcIiBpbiB0aGUgSUlJRiBtYW5pZmVzdC5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiovXG4gICAgaGlkZU5vblBhZ2VkUGFnZXMgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7IHNob3dOb25QYWdlZFBhZ2VzOiBmYWxzZSB9KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJcyB0aGUgdmlld2VyIGN1cnJlbnRseSBpbiBmdWxsLXNjcmVlbiBtb2RlP1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHZpZXdlciBpcyBpbiBmdWxsc2NyZWVuIG1vZGUuXG4gICAgICoqL1xuICAgIGlzSW5GdWxsc2NyZWVuICgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXR0aW5ncy5pbkZ1bGxzY3JlZW47XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSBwYWdlIGluZGV4IGlzIHdpdGhpbiB0aGUgcmFuZ2Ugb2YgdGhlIGRvY3VtZW50XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgcGFnZSBpbmRleCBpcyB2YWxpZC5cbiAgICAgKiovXG4gICAgaXNQYWdlSW5kZXhWYWxpZCAocGFnZUluZGV4KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2lzUGFnZUluZGV4VmFsaWQocGFnZUluZGV4KTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBEZXRlcm1pbmVzIGlmIGEgcGFnZSBpcyBjdXJyZW50bHkgaW4gdGhlIHZpZXdwb3J0XG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gV2hldGhlciB0aGUgcGFnZSBpcyBjdXJyZW50bHkgaW4gdGhlIHZpZXdwb3J0LlxuICAgICAqKi9cbiAgICBpc1BhZ2VJblZpZXdwb3J0IChwYWdlSW5kZXgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy52aWV3ZXJTdGF0ZS5yZW5kZXJlci5pc1BhZ2VWaXNpYmxlKHBhZ2VJbmRleCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgRGl2YSB2aWV3ZXIgaGFzIGJlZW4gZnVsbHkgaW5pdGlhbGl6ZWQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgdmlld2VyIGlzIGluaXRpYWxpemVkOyBmYWxzZSBvdGhlcndpc2UuXG4gICAgICoqL1xuICAgIGlzUmVhZHkgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnZpZXdlclN0YXRlLmxvYWRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDaGVjayBpZiBzb21ldGhpbmcgKGUuZy4gYSBoaWdobGlnaHQgYm94IG9uIGEgcGFydGljdWxhciBwYWdlKSBpcyB2aXNpYmxlXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlSW5kZXggLSBUaGUgMC1iYXNlZCBwYWdlIGluZGV4XG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBsZWZ0T2Zmc2V0IC0gVGhlIGRpc3RhbmNlIG9mIHRoZSByZWdpb24gZnJvbSB0aGUgbGVmdCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHRvcE9mZnNldCAtIFRoZSBkaXN0YW5jZSBvZiB0aGUgcmVnaW9uIGZyb20gdGhlIHRvcCBvZiB0aGUgdmlld3BvcnRcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHdpZHRoIC0gVGhlIHdpZHRoIG9mIHRoZSByZWdpb25cbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IGhlaWdodCAtIFRoZSBoZWlnaHQgb2YgdGhlIHJlZ2lvblxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFdoZXRoZXIgdGhlIHJlZ2lvbiBpcyBpbiB0aGUgdmlld3BvcnQuXG4gICAgICoqL1xuICAgIGlzUmVnaW9uSW5WaWV3cG9ydCAocGFnZUluZGV4LCBsZWZ0T2Zmc2V0LCB0b3BPZmZzZXQsIHdpZHRoLCBoZWlnaHQpXG4gICAge1xuICAgICAgICBjb25zdCBsYXlvdXQgPSB0aGlzLmRpdmFTdGF0ZS52aWV3ZXJDb3JlLmdldEN1cnJlbnRMYXlvdXQoKTtcblxuICAgICAgICBpZiAoIWxheW91dClcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgICAgICBjb25zdCBvZmZzZXQgPSBsYXlvdXQuZ2V0UGFnZU9mZnNldChwYWdlSW5kZXgpO1xuXG4gICAgICAgIGNvbnN0IHRvcCA9IG9mZnNldC50b3AgKyB0b3BPZmZzZXQ7XG4gICAgICAgIGNvbnN0IGxlZnQgPSBvZmZzZXQubGVmdCArIGxlZnRPZmZzZXQ7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMudmlld2VyU3RhdGUudmlld3BvcnQuaW50ZXJzZWN0c1JlZ2lvbih7XG4gICAgICAgICAgICB0b3A6IHRvcCxcbiAgICAgICAgICAgIGJvdHRvbTogdG9wICsgaGVpZ2h0LFxuICAgICAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgICAgIHJpZ2h0OiBsZWZ0ICsgd2lkdGhcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGUgcGFnZSBsYXlvdXQgaXMgdmVydGljYWxseSBvciBob3Jpem9udGFsbHkgb3JpZW50ZWQuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB2ZXJ0aWNhbDsgZmFsc2UgaWYgaG9yaXpvbnRhbC5cbiAgICAgKiovXG4gICAgaXNWZXJ0aWNhbGx5T3JpZW50ZWQgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldHRpbmdzLnZlcnRpY2FsbHlPcmllbnRlZDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWF2ZSBmdWxsc2NyZWVuIG1vZGUgaWYgY3VycmVudGx5IGluIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSB0cnVlIGlmIGluIGZ1bGxzY3JlZW4gbW9kZSBpbnRpdGlhbGx5LCBmYWxzZSBvdGhlcndpc2VcbiAgICAgKiovXG4gICAgbGVhdmVGdWxsc2NyZWVuTW9kZSAoKVxuICAgIHtcbiAgICAgICAgaWYgKHRoaXMuc2V0dGluZ3MuaW5GdWxsc2NyZWVuKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl90b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBMZWF2ZSBncmlkIHZpZXcgaWYgY3VycmVudGx5IGluIGdyaWQgdmlldy5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSB0cnVlIGlmIGluIGdyaWQgdmlldyBpbml0aWFsbHksIGZhbHNlIG90aGVyd2lzZVxuICAgICAqKi9cbiAgICBsZWF2ZUdyaWRWaWV3ICgpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7IGluR3JpZDogZmFsc2UgfSk7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXQgdGhlIG51bWJlciBvZiBncmlkIHBhZ2VzIHBlciByb3cuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwYWdlc1BlclJvdyAtIFRoZSBudW1iZXIgb2YgcGFnZXMgcGVyIHJvd1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgc2V0R3JpZFBhZ2VzUGVyUm93IChwYWdlc1BlclJvdylcbiAgICB7XG4gICAgICAgIC8vIFRPRE8od2FiYWluKTogQWRkIHRlc3QgY2FzZVxuICAgICAgICBpZiAoIXRoaXMuZGl2YVN0YXRlLnZpZXdlckNvcmUuaXNWYWxpZE9wdGlvbigncGFnZXNQZXJSb3cnLCBwYWdlc1BlclJvdykpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICBpbkdyaWQ6IHRydWUsXG4gICAgICAgICAgICBwYWdlc1BlclJvdzogcGFnZXNQZXJSb3dcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQWxpZ24gdGhpcyBkaXZhIGluc3RhbmNlIHdpdGggYSBzdGF0ZSBvYmplY3QgKGFzIHJldHVybmVkIGJ5IGdldFN0YXRlKVxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBwYXJhbXMge29iamVjdH0gc3RhdGUgLSBBIERpdmEgc3RhdGUgb2JqZWN0LlxuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgc2V0U3RhdGUgKHN0YXRlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHRoaXMuX2dldExvYWRPcHRpb25zRm9yU3RhdGUoc3RhdGUpKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBTZXRzIHRoZSB6b29tIGxldmVsLlxuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgc2V0Wm9vbUxldmVsICh6b29tTGV2ZWwpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5zZXR0aW5ncy5pbkdyaWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICAgICAgaW5HcmlkOiBmYWxzZVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gdGhpcy5kaXZhU3RhdGUudmlld2VyQ29yZS56b29tKHpvb21MZXZlbCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdyBub24tcGFnZWQgcGFnZXMuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHdhcyBzdWNjZXNzZnVsLlxuICAgICAqKi9cbiAgICBzaG93Tm9uUGFnZWRQYWdlcyAoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fcmVsb2FkVmlld2VyKHsgc2hvd05vblBhZ2VkUGFnZXM6IHRydWUgfSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogVG9nZ2xlIGZ1bGxzY3JlZW4gbW9kZS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gLSBUcnVlIGlmIHRoZSBvcGVyYXRpb24gd2FzIHN1Y2Nlc3NmdWwuXG4gICAgICoqL1xuICAgIHRvZ2dsZUZ1bGxzY3JlZW5Nb2RlICgpXG4gICAge1xuICAgICAgICB0aGlzLl90b2dnbGVGdWxsc2NyZWVuKCk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2hvdy9IaWRlIG5vbi1wYWdlZCBwYWdlc1xuICAgICAqXG4gICAgICogQHB1YmxpY1xuICAgICAqIEByZXR1cm5zIHtib29sZWFufSAtIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB3YXMgc3VjY2Vzc2Z1bC5cbiAgICAgKiovXG4gICAgdG9nZ2xlTm9uUGFnZWRQYWdlc1Zpc2liaWxpdHkgKClcbiAgICB7XG4gICAgICAgIHRoaXMuX3JlbG9hZFZpZXdlcih7XG4gICAgICAgICAgICBzaG93Tm9uUGFnZWRQYWdlczogIXRoaXMuc2V0dGluZ3Muc2hvd05vblBhZ2VkUGFnZXNcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy9DaGFuZ2VzIGJldHdlZW4gaG9yaXpvbnRhbCBsYXlvdXQgYW5kIHZlcnRpY2FsIGxheW91dC4gUmV0dXJucyB0cnVlIGlmIGRvY3VtZW50IGlzIG5vdyB2ZXJ0aWNhbGx5IG9yaWVudGVkLCBmYWxzZSBvdGhlcndpc2UuXG4gICAgdG9nZ2xlT3JpZW50YXRpb24gKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90b2dnbGVQYWdlTGF5b3V0T3JpZW50YXRpb24oKTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBUcmFuc2xhdGVzIGEgbWVhc3VyZW1lbnQgZnJvbSB0aGUgem9vbSBsZXZlbCBvbiB0aGUgbGFyZ2VzdCBzaXplXG4gICAgICogdG8gb25lIG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgICpcbiAgICAgKiBGb3IgZXhhbXBsZSwgYSBwb2ludCAxMDAwIG9uIGFuIGltYWdlIHRoYXQgaXMgb24gem9vbSBsZXZlbCAyIG9mIDVcbiAgICAgKiB0cmFuc2xhdGVzIHRvIGEgcG9zaXRpb24gb2YgMTExLjExMS4uLiAoMTAwMCAvICg1IC0gMileMikuXG4gICAgICpcbiAgICAgKiBXb3JrcyBmb3IgYSBzaW5nbGUgcGl4ZWwgY28tb3JkaW5hdGUgb3IgYSBkaW1lbnNpb24gKGUuZy4sIHRyYW5zbGF0ZXMgYSBib3hcbiAgICAgKiB0aGF0IGlzIDEwMDAgcGl4ZWxzIHdpZGUgb24gdGhlIG9yaWdpbmFsIHRvIG9uZSB0aGF0IGlzIDExMS4xMTEgcGl4ZWxzIHdpZGVcbiAgICAgKiBvbiB0aGUgY3VycmVudCB6b29tIGxldmVsKS5cbiAgICAgKlxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAcGFyYW1zIHtudW1iZXJ9IHBvc2l0aW9uIC0gQSBwb2ludCBvbiB0aGUgbWF4IHpvb20gbGV2ZWxcbiAgICAgKiBAcmV0dXJucyB7bnVtYmVyfSAtIFRoZSBzYW1lIHBvaW50IG9uIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwuXG4gICAgKi9cbiAgICB0cmFuc2xhdGVGcm9tTWF4Wm9vbUxldmVsIChwb3NpdGlvbilcbiAgICB7XG4gICAgICAgIGNvbnN0IHpvb21EaWZmZXJlbmNlID0gdGhpcy5zZXR0aW5ncy5tYXhab29tTGV2ZWwgLSB0aGlzLnNldHRpbmdzLnpvb21MZXZlbDtcbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uIC8gTWF0aC5wb3coMiwgem9vbURpZmZlcmVuY2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFRyYW5zbGF0ZXMgYSBtZWFzdXJlbWVudCBmcm9tIHRoZSBjdXJyZW50IHpvb20gbGV2ZWwgdG8gdGhlIHBvc2l0aW9uIG9uIHRoZVxuICAgICAqIGxhcmdlc3Qgem9vbSBsZXZlbC5cbiAgICAgKlxuICAgICAqIFdvcmtzIGZvciBhIHNpbmdsZSBwaXhlbCBjby1vcmRpbmF0ZSBvciBhIGRpbWVuc2lvbiAoZS5nLiwgdHJhbnNsYXRlcyBhIGJveFxuICAgICAqIHRoYXQgaXMgMTExLjExMSBwaXhlbHMgd2lkZSBvbiB0aGUgY3VycmVudCBpbWFnZSB0byBvbmUgdGhhdCBpcyAxMDAwIHBpeGVscyB3aWRlXG4gICAgICogb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbCkuXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHBhcmFtcyB7bnVtYmVyfSBwb3NpdGlvbiAtIEEgcG9pbnQgb24gdGhlIGN1cnJlbnQgem9vbSBsZXZlbFxuICAgICAqIEByZXR1cm5zIHtudW1iZXJ9IC0gVGhlIHNhbWUgcG9pbnQgb24gdGhlIG1heCB6b29tIGxldmVsLlxuICAgICovXG4gICAgdHJhbnNsYXRlVG9NYXhab29tTGV2ZWwgKHBvc2l0aW9uKVxuICAgIHtcbiAgICAgICAgY29uc3Qgem9vbURpZmZlcmVuY2UgPSB0aGlzLnNldHRpbmdzLm1heFpvb21MZXZlbCAtIHRoaXMuc2V0dGluZ3Muem9vbUxldmVsO1xuXG4gICAgICAgIC8vIGlmIHRoZXJlIGlzIG5vIGRpZmZlcmVuY2UsIGl0J3MgYSBib3ggb24gdGhlIG1heCB6b29tIGxldmVsIGFuZFxuICAgICAgICAvLyB3ZSBjYW4ganVzdCByZXR1cm4gdGhlIHBvc2l0aW9uLlxuICAgICAgICBpZiAoem9vbURpZmZlcmVuY2UgPT09IDApXG4gICAgICAgICAgICByZXR1cm4gcG9zaXRpb247XG5cbiAgICAgICAgcmV0dXJuIHBvc2l0aW9uICogTWF0aC5wb3coMiwgem9vbURpZmZlcmVuY2UpO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFpvb20gaW4uXG4gICAgICpcbiAgICAgKiBAcHVibGljXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gZmFsc2UgaWYgaXQncyBhdCB0aGUgbWF4aW11bSB6b29tXG4gICAgICoqL1xuICAgIHpvb21JbiAoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0Wm9vbUxldmVsKHRoaXMuc2V0dGluZ3Muem9vbUxldmVsICsgMSk7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogWm9vbSBvdXQuXG4gICAgICogQHJldHVybnMge2Jvb2xlYW59IC0gZmFsc2UgaWYgaXQncyBhdCB0aGUgbWluaW11bSB6b29tXG4gICAgICoqL1xuICAgIHpvb21PdXQgKClcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldFpvb21MZXZlbCh0aGlzLnNldHRpbmdzLnpvb21MZXZlbCAtIDEpO1xuICAgIH1cbn1cblxuRGl2YS5FdmVudHMgPSBkaXZhLkV2ZW50cztcblxuZXhwb3J0IGRlZmF1bHQgRGl2YTtcblxuLyoqXG4gKiBNYWtlIGBEaXZhYCBhdmFpbGFibGUgaW4gdGhlIGdsb2JhbCBjb250ZXh0LlxuICogKi9cbmlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJykge1xuICAgIChmdW5jdGlvbiAoZ2xvYmFsKVxuICAgIHtcbiAgICAgICAgZ2xvYmFsLkRpdmEgPSBnbG9iYWwuRGl2YSB8fCBEaXZhO1xuICAgIH0pKHdpbmRvdyk7XG59XG4iXSwic291cmNlUm9vdCI6IiJ9